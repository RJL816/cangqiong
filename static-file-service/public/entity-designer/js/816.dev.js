/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkentity_designer"] = self["webpackChunkentity_designer"] || []).push([[816],{

/***/ 45816:
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EntityDesigner: function() { return /* reexport safe */ _src__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; }\n/* harmony export */ });\n/* harmony import */ var _src_style_index_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/style/index.less */ 19600);\n/* harmony import */ var _src_style_index_less__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_src_style_index_less__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src */ 90236);\n\n/* @remove-on-es-build-end */\n\n\n//# sourceURL=webpack://entity-designer/./index.js?");

/***/ }),

/***/ 99344:
/*!******************************************************!*\
  !*** ../designer-utils/components/dropdownpanel.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _utils_usePopper__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/usePopper */ 43580);\n\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"content\", \"children\", \"prefixCls\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\nvar DropDownPanel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().forwardRef(function (props, ref) {\n  var content = props.content,\n    children = props.children,\n    prefixCls = props.prefixCls,\n    others = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(props, _excluded);\n  var tiplocator = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().cloneElement(react__WEBPACK_IMPORTED_MODULE_10___default().Children.count(children) === 1 && children.type ? children : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"span\", null, children), {\n    ref: ref\n  });\n  var popperProps = _objectSpread(_objectSpread({}, others), {}, {\n    prefixCls: prefixCls\n  });\n  var tipPopper = typeof content === 'function' ? content() : content;\n  return (0,_utils_usePopper__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(tiplocator, tipPopper, popperProps);\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (DropDownPanel);\n\n//# sourceURL=webpack://entity-designer/../designer-utils/components/dropdownpanel.tsx?");

/***/ }),

/***/ 98252:
/*!**********************************************!*\
  !*** ../designer-utils/constants/keyCode.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// 键盘键值码 并不全 慢慢补充\nvar KEYS = {\n  0: 48,\n  1: 49,\n  2: 50,\n  3: 51,\n  4: 52,\n  5: 53,\n  6: 54,\n  7: 55,\n  8: 56,\n  9: 57,\n  A: 65,\n  B: 66,\n  C: 67,\n  D: 68,\n  E: 69,\n  F: 70,\n  G: 71,\n  H: 72,\n  I: 73,\n  J: 74,\n  K: 75,\n  L: 76,\n  M: 77,\n  N: 78,\n  O: 79,\n  P: 80,\n  Q: 81,\n  R: 82,\n  S: 83,\n  T: 84,\n  U: 85,\n  V: 86,\n  W: 87,\n  X: 88,\n  Y: 89,\n  Z: 90,\n  F1: 112,\n  F2: 113,\n  F3: 114,\n  F4: 115,\n  F5: 116,\n  F6: 117,\n  F7: 118,\n  F8: 119,\n  F9: 120,\n  F10: 121,\n  F11: 122,\n  F12: 123,\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  CONTROL: 17,\n  ALT: 18,\n  ESC: 27,\n  ESCAPE: 27,\n  SPACE: 32,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  ARROWLEFT: 37,\n  UP: 38,\n  ARROWUP: 38,\n  RIGHT: 39,\n  ARROWRIGHT: 39,\n  DOWN: 40,\n  ARROWDOWN: 40,\n  DELETE: 46,\n  META: 91,\n  '*': 106,\n  '+': 107,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  ']': 221\n  // 反斜杠需和后端讨论显示问题\n  // '\\: 220\n};\n\n// 补充几种中文输入法下的status\n// KEYS.SEMICOLON = 186 // Semicolon(; ；)\n// KEYS.EQUAL = 187 // Equal(==)\n// KEYS.COMMA = 188 // Comma(.，)\n// KEYS.MINUS = 189 // Minus(--)\n// KEYS.PERIOD = 190 // Period(.。)\n// KEYS.SLASH = 191 // Slash(? /)\n// KEYS.BACKQUOTE = 192 // Backquote(`·)\n// KEYS.BRACKETLEFT = 219 // BracketLeft([【)\n// KEYS.BRACKETRIGHT = 221 // BracketRight(]】)\n// KEYS.BACKSLASH = 11 // Backslash(\\、)\n// KEYS.QUOTE = 229 // Quote(')\n\n// 小键盘相关 小键盘status为 PAD + status\n// KEYS.PAD0 = 96 // pad(0)\n// KEYS.PAD1 = 97 // pad(1)\n// KEYS.PAD2 = 98 // pad(2)\n// KEYS.PAD3 = 99 // pad(3)\n// KEYS.PAD4 = 100 // pad(4)\n// KEYS.PAD5 = 101 // pad(5)\n// KEYS.PAD6 = 102 // pad(6)\n// KEYS.PAD7 = 103 // pad(7)\n// KEYS.PAD8 = 104 // pad(8)\n// KEYS.PAD9 = 105 // pad(9)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (KEYS);\n\n//# sourceURL=webpack://entity-designer/../designer-utils/constants/keyCode.ts?");

/***/ }),

/***/ 76103:
/*!**********************************************!*\
  !*** ../designer-utils/hooks/useDebounce.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useDebounce; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n/**\r\n * 防抖hook\r\n * @param {*} fn 传入的函数\r\n * @param {*} delay 延时时间\r\n * @param {*} dep 依赖数组\r\n * @returns\r\n */\nfunction useDebounce(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;\n  var _useRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n      fn: fn,\n      timer: null\n    }),\n    current = _useRef.current;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    current.fn = fn;\n  }, [fn]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (current.timer) {\n      clearTimeout(current.timer);\n    }\n    current.timer = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_0___default()(function () {\n      current.fn.apply(current, args);\n    }, delay);\n  }, [fn]);\n}\n\n//# sourceURL=webpack://entity-designer/../designer-utils/hooks/useDebounce.ts?");

/***/ }),

/***/ 68408:
/*!**********************************************************!*\
  !*** ../designer-utils/hooks/useTraceElementPosition.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n// 获取被跟踪节点的rect, 并传给回调\nfunction getInitXYAxis(_ref) {\n  var selectedCtrlNode = _ref.selectedCtrlNode,\n    callback = _ref.callback;\n  if (!selectedCtrlNode || selectedCtrlNode.style.zIndex < 0) {\n    return;\n  }\n  var bindDomRect = selectedCtrlNode.getBoundingClientRect();\n  callback && callback(bindDomRect);\n}\nfunction useTraceElementPosition(_ref2) {\n  var _context, _context2;\n  var selectedCtrlNode = _ref2.selectedCtrlNode,\n    callback = _ref2.callback,\n    _ref2$depth = _ref2.depth,\n    depth = _ref2$depth === void 0 ? [] : _ref2$depth;\n  var requestAnimationFrameId = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var stopMonitor = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(false);\n  var timer = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var requestNextFrameCallback = function requestNextFrameCallback() {\n    getInitXYAxis({\n      selectedCtrlNode: selectedCtrlNode,\n      callback: callback\n    });\n    if (stopMonitor.current) return;\n    requestAnimationFrameId.current = window.requestAnimationFrame(requestNextFrameCallback);\n  };\n\n  // useEffect(() => {\n  //   requestAnimationFrameId.current = window.requestAnimationFrame(() => {\n  //     getInitXYAxis({ selectedCtrlNode, callback })\n  //   })\n  // }, [selectedCtrlNode])\n\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(function () {\n    _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_1___default()(function () {\n      getInitXYAxis({\n        selectedCtrlNode: selectedCtrlNode,\n        callback: callback\n      });\n    }, 100);\n  }, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context = [selectedCtrlNode]).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(depth)));\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var tracePosition = function tracePosition() {\n      stopMonitor.current = false;\n      timer.current && clearTimeout(timer.current);\n      timer.current = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_1___default()(function () {\n        stopMonitor.current = true;\n      }, 500);\n      requestAnimationFrameId.current = window.requestAnimationFrame(requestNextFrameCallback);\n    };\n    document.addEventListener('scroll', tracePosition, true);\n    window.addEventListener('resize', tracePosition);\n    return function () {\n      document.removeEventListener('scroll', tracePosition, true);\n      window.removeEventListener('resize', tracePosition);\n      if (requestAnimationFrameId.current) {\n        window.cancelAnimationFrame(requestAnimationFrameId.current);\n      }\n    };\n  }, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context2 = [selectedCtrlNode]).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(depth)));\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (useTraceElementPosition);\n\n//# sourceURL=webpack://entity-designer/../designer-utils/hooks/useTraceElementPosition.ts?");

/***/ }),

/***/ 89592:
/*!**********************************!*\
  !*** ../designer-utils/index.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultIcon: function() { return /* reexport safe */ _utils_defaultIcon__WEBPACK_IMPORTED_MODULE_16__.DefaultIcon; },\n/* harmony export */   DropDownPanel: function() { return /* reexport safe */ _components_dropdownpanel__WEBPACK_IMPORTED_MODULE_21__[\"default\"]; },\n/* harmony export */   LINIX: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.LINIX; },\n/* harmony export */   MAC: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.MAC; },\n/* harmony export */   OS: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.OS; },\n/* harmony export */   UNIX: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.UNIX; },\n/* harmony export */   WINDOWS: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.WINDOWS; },\n/* harmony export */   browserType: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.browserType; },\n/* harmony export */   buildTree: function() { return /* reexport safe */ _utils_buildTree__WEBPACK_IMPORTED_MODULE_17__[\"default\"]; },\n/* harmony export */   console: function() { return /* reexport safe */ _utils_console__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   devwarning: function() { return /* reexport safe */ _utils_devwarning__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; },\n/* harmony export */   eventBus: function() { return /* reexport safe */ _utils_eventBus__WEBPACK_IMPORTED_MODULE_11__.eventBus; },\n/* harmony export */   exponentToFloat: function() { return /* reexport safe */ _utils_numberUtil__WEBPACK_IMPORTED_MODULE_5__.exponentToFloat; },\n/* harmony export */   formatEditNumber: function() { return /* reexport safe */ _utils_formatUtil__WEBPACK_IMPORTED_MODULE_3__.formatEditNumber; },\n/* harmony export */   formatNumber: function() { return /* reexport safe */ _utils_formatUtil__WEBPACK_IMPORTED_MODULE_3__.formatNumber; },\n/* harmony export */   getLangMsg: function() { return /* reexport safe */ _utils_intlApi__WEBPACK_IMPORTED_MODULE_22__.getLangMsg; },\n/* harmony export */   getMaxNumberByPrecision: function() { return /* reexport safe */ _utils_numberUtil__WEBPACK_IMPORTED_MODULE_5__.getMaxNumberByPrecision; },\n/* harmony export */   getOS: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.getOS; },\n/* harmony export */   isAltActive: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.isAltActive; },\n/* harmony export */   isArrayValueRepeat: function() { return /* reexport safe */ _utils_arrayUtil__WEBPACK_IMPORTED_MODULE_0__.isArrayValueRepeat; },\n/* harmony export */   isCtrlActive: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.isCtrlActive; },\n/* harmony export */   isExp: function() { return /* reexport safe */ _utils_numberUtil__WEBPACK_IMPORTED_MODULE_5__.isExp; },\n/* harmony export */   isLinux: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.isLinux; },\n/* harmony export */   isMac: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.isMac; },\n/* harmony export */   isUnix: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.isUnix; },\n/* harmony export */   isWin: function() { return /* reexport safe */ _utils_client__WEBPACK_IMPORTED_MODULE_10__.isWin; },\n/* harmony export */   keyCode: function() { return /* reexport safe */ _constants_keyCode__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; },\n/* harmony export */   omit: function() { return /* reexport safe */ _utils_omit__WEBPACK_IMPORTED_MODULE_6__.omit; },\n/* harmony export */   serialization: function() { return /* reexport safe */ _utils_numberUtil__WEBPACK_IMPORTED_MODULE_5__.serialization; },\n/* harmony export */   setIntlApi: function() { return /* reexport safe */ _utils_intlApi__WEBPACK_IMPORTED_MODULE_22__.setIntlApi; },\n/* harmony export */   supplementZero: function() { return /* reexport safe */ _utils_numberUtil__WEBPACK_IMPORTED_MODULE_5__.supplementZero; },\n/* harmony export */   timerManager: function() { return /* reexport safe */ _utils_timerManager__WEBPACK_IMPORTED_MODULE_20__[\"default\"]; },\n/* harmony export */   toArray: function() { return /* reexport safe */ _utils_react_children__WEBPACK_IMPORTED_MODULE_7__.toArray; },\n/* harmony export */   toFixed: function() { return /* reexport safe */ _utils_numberUtil__WEBPACK_IMPORTED_MODULE_5__.toFixed; },\n/* harmony export */   tuple: function() { return /* reexport safe */ _utils_type__WEBPACK_IMPORTED_MODULE_8__.tuple; },\n/* harmony export */   tupleNum: function() { return /* reexport safe */ _utils_type__WEBPACK_IMPORTED_MODULE_8__.tupleNum; },\n/* harmony export */   useDataChangeForceUpdateEffect: function() { return /* reexport safe */ _utils_forceUpdateEffect__WEBPACK_IMPORTED_MODULE_19__.useDataChangeForceUpdateEffect; },\n/* harmony export */   useDebounce: function() { return /* reexport safe */ _hooks_useDebounce__WEBPACK_IMPORTED_MODULE_15__[\"default\"]; },\n/* harmony export */   useErrorChangeForceUpdateEffect: function() { return /* reexport safe */ _utils_forceUpdateEffect__WEBPACK_IMPORTED_MODULE_19__.useErrorChangeForceUpdateEffect; },\n/* harmony export */   useForceUpdate: function() { return /* reexport safe */ _utils_forceUpdate__WEBPACK_IMPORTED_MODULE_18__.useForceUpdate; },\n/* harmony export */   useMergedState: function() { return /* reexport safe */ _utils_hooks__WEBPACK_IMPORTED_MODULE_4__.useMergedState; },\n/* harmony export */   useOnClickOutside: function() { return /* reexport safe */ _utils_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnClickOutside; },\n/* harmony export */   useOnClickOutsideByRootClick: function() { return /* reexport safe */ _utils_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnClickOutsideByRootClick; },\n/* harmony export */   usePopper: function() { return /* reexport safe */ _utils_usePopper__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; },\n/* harmony export */   usePrevious: function() { return /* reexport safe */ _utils_hooks__WEBPACK_IMPORTED_MODULE_4__.usePrevious; },\n/* harmony export */   useResizeObserver: function() { return /* reexport safe */ _utils_hooks__WEBPACK_IMPORTED_MODULE_4__.useResizeObserver; },\n/* harmony export */   useSelectionChangeForceUpdateEffect: function() { return /* reexport safe */ _utils_forceUpdateEffect__WEBPACK_IMPORTED_MODULE_19__.useSelectionChangeForceUpdateEffect; },\n/* harmony export */   useTraceElementPosition: function() { return /* reexport safe */ _hooks_useTraceElementPosition__WEBPACK_IMPORTED_MODULE_14__[\"default\"]; },\n/* harmony export */   xssFilters: function() { return /* reexport safe */ _utils_xssFilters__WEBPACK_IMPORTED_MODULE_9__.xssFilters; }\n/* harmony export */ });\n/* harmony import */ var _utils_arrayUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/arrayUtil */ 88904);\n/* harmony import */ var _utils_console__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/console */ 35132);\n/* harmony import */ var _utils_devwarning__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/devwarning */ 42652);\n/* harmony import */ var _utils_formatUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/formatUtil */ 37020);\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/hooks */ 82892);\n/* harmony import */ var _utils_numberUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/numberUtil */ 69612);\n/* harmony import */ var _utils_omit__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/omit */ 62452);\n/* harmony import */ var _utils_react_children__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/react-children */ 49412);\n/* harmony import */ var _utils_type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/type */ 188);\n/* harmony import */ var _utils_xssFilters__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/xssFilters */ 24776);\n/* harmony import */ var _utils_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/client */ 43644);\n/* harmony import */ var _utils_eventBus__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/eventBus */ 92360);\n/* harmony import */ var _constants_keyCode__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./constants/keyCode */ 98252);\n/* harmony import */ var _utils_usePopper__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/usePopper */ 43580);\n/* harmony import */ var _hooks_useTraceElementPosition__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./hooks/useTraceElementPosition */ 68408);\n/* harmony import */ var _hooks_useDebounce__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./hooks/useDebounce */ 76103);\n/* harmony import */ var _utils_defaultIcon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils/defaultIcon */ 54440);\n/* harmony import */ var _utils_buildTree__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./utils/buildTree */ 80136);\n/* harmony import */ var _utils_forceUpdate__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./utils/forceUpdate */ 84416);\n/* harmony import */ var _utils_forceUpdateEffect__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./utils/forceUpdateEffect */ 20092);\n/* harmony import */ var _utils_timerManager__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./utils/timerManager */ 82188);\n/* harmony import */ var _components_dropdownpanel__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/dropdownpanel */ 99344);\n/* harmony import */ var _utils_intlApi__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./utils/intlApi */ 57024);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-08-02 15:36:17\n * @Last Modified by: fjr\n * @LastEditTime: 2023-04-24 19:36:00\n * @Description: ...\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://entity-designer/../designer-utils/index.ts?");

/***/ }),

/***/ 88904:
/*!********************************************!*\
  !*** ../designer-utils/utils/arrayUtil.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isArrayValueRepeat: function() { return /* binding */ isArrayValueRepeat; }\n/* harmony export */ });\n/**\n * 检查数组value的值是否唯一\n * @param value 需要检查值是否唯一的数组\n */\nvar isArrayValueRepeat = function isArrayValueRepeat(value) {\n  var hash = {};\n  for (var i in value) {\n    if (hash[value[i]]) {\n      return true;\n    }\n    hash[value[i]] = true;\n  }\n  return false;\n};\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/arrayUtil.ts?");

/***/ }),

/***/ 80136:
/*!********************************************!*\
  !*** ../designer-utils/utils/buildTree.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-09 10:55:12\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-09 10:55:12\n * @Description: ...\n */\n\n\nvar buildTree = function buildTree(list, treeConfig) {\n  var fn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (val) {\n    return val;\n  };\n  treeConfig = treeConfig || {};\n  var children = treeConfig.children;\n  var parent = treeConfig.parent;\n  var name = treeConfig.id;\n  var temp = {};\n  var tree = {};\n  children = children || 'children';\n  parent = parent || 'parent';\n  if (!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isObject)(list) && !(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isArray)(list)) return;\n  for (var j in list) {\n    if ((0,lodash__WEBPACK_IMPORTED_MODULE_1__.has)(list, j)) {\n      temp[list[j][name]] = list[j];\n    }\n  }\n  for (var i in temp) {\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.has)(temp, i)) continue;\n    if (temp[i][parent]) {\n      var p = temp[i][parent];\n      if (temp[p] && !temp[p][children]) {\n        temp[p][children] = {};\n      }\n      if (temp[p] && !temp[p][parent]) {\n        temp[p] && p !== temp[i][name] && (temp[p][children][temp[i][name]] = fn(temp[i]));\n      } else {\n        var _context;\n        temp[p] && p !== temp[i][name] && temp[p][parent] && _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0___default()(_context = temp[p][parent]).call(_context, temp[i][name]) === -1 && (temp[p][children][temp[i][name]] = fn(temp[i]));\n      }\n    } else {\n      tree[temp[i][name]] = temp[i];\n    }\n  }\n  return tree;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (buildTree);\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/buildTree.ts?");

/***/ }),

/***/ 43644:
/*!*****************************************!*\
  !*** ../designer-utils/utils/client.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LINIX: function() { return /* binding */ LINIX; },\n/* harmony export */   MAC: function() { return /* binding */ MAC; },\n/* harmony export */   OS: function() { return /* binding */ OS; },\n/* harmony export */   UNIX: function() { return /* binding */ UNIX; },\n/* harmony export */   WINDOWS: function() { return /* binding */ WINDOWS; },\n/* harmony export */   browserType: function() { return /* binding */ browserType; },\n/* harmony export */   getOS: function() { return /* binding */ getOS; },\n/* harmony export */   isAltActive: function() { return /* binding */ isAltActive; },\n/* harmony export */   isCtrlActive: function() { return /* binding */ isCtrlActive; },\n/* harmony export */   isLinux: function() { return /* binding */ isLinux; },\n/* harmony export */   isMac: function() { return /* binding */ isMac; },\n/* harmony export */   isUnix: function() { return /* binding */ isUnix; },\n/* harmony export */   isWin: function() { return /* binding */ isWin; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__);\nvar _context2, _context3;\n\n\nvar MAC = 'Mac';\nvar UNIX = 'Unix';\nvar LINIX = 'Linux';\nvar WINDOWS = 'Windows';\nfunction isWin() {\n  return window.navigator.platform == 'Win32' || window.navigator.platform == 'Windows';\n}\nfunction isMac() {\n  return window.navigator.platform == 'Mac68K' || window.navigator.platform == 'MacPPC' || window.navigator.platform == 'Macintosh' || window.navigator.platform == 'MacIntel';\n}\nfunction isUnix() {\n  return window.navigator.platform == 'X11' && !isWin() && !isMac();\n}\nfunction isLinux() {\n  var _context;\n  return _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0___default()(_context = String(window.navigator.platform)).call(_context, 'Linux') > -1;\n}\nfunction getOS() {\n  if (isMac()) return MAC;\n  if (isUnix()) return UNIX;\n  if (isLinux()) return LINIX;\n  if (isWin()) return WINDOWS;\n  return '';\n}\nvar OS = getOS();\nfunction isCtrlActive(e) {\n  return isMac() ? e.metaKey : e.ctrlKey;\n}\nfunction isAltActive(e) {\n  return e.altKey;\n}\nvar isElectron = !!navigator.userAgent.match(/Electron\\/(\\d+)/);\nvar isIE = !!navigator.userAgent.match(/Trident\\/(\\d+)/);\nvar isFireFox = !!navigator.userAgent.match(/Firefox\\/(\\d+)/);\nvar isChrome = !!navigator.userAgent.match(/Chrome\\/(\\d+)/);\nvar isEdge = !!navigator.userAgent.match(/Edge\\/(\\d+)/);\nvar isPreview = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(_context2 = window.location.hash).call(_context2, '&preview=true');\nvar noLoadYZJ = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(_context3 = window.location.hash).call(_context3, '&noLoadYZJ=true');\n\n// 浏览器类型, 后续考虑不用挂载 window 的方案, 所以现在导出处理\nvar browserType = {\n  isIE: isIE,\n  isFireFox: isFireFox,\n  isChrome: isChrome,\n  isEdge: isEdge,\n  isPreview: isPreview,\n  noLoadYZJ: noLoadYZJ,\n  isElectron: isElectron\n};\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/client.ts?");

/***/ }),

/***/ 35132:
/*!******************************************!*\
  !*** ../designer-utils/utils/console.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// 在控制台输出详细信息,开发环境输出所有级别的信息,正式环境只输出error日志\nvar _window = (typeof self === \"undefined\" ? \"undefined\" : (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(self)) == 'object' && self.self === self && self || (typeof __webpack_require__.g === \"undefined\" ? \"undefined\" : (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(__webpack_require__.g)) == 'object' && __webpack_require__.g.global === __webpack_require__.g && __webpack_require__.g || undefined || {};\n_window.allowkdesignerlog = false;\n_window.trace = false;\nfunction isOutput() {\n  var _context;\n  return _window.allowkdesignerlog && (_window.__kdesigner_debug || !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(_context = ['production', 'prodBuild']).call(_context, \"development\"));\n}\nfunction log() {\n  if (isOutput()) {\n    var _console;\n    (_console = console).log.apply(_console, arguments);\n    _window.trace && console.trace();\n  }\n}\nfunction warn() {\n  if (isOutput()) {\n    var _console2;\n    (_console2 = console).warn.apply(_console2, arguments);\n    _window.trace && console.trace();\n  }\n}\nfunction error() {\n  var _console3;\n  // if (isOutput) {\n  (_console3 = console).error.apply(_console3, arguments);\n  _window.trace && console.trace();\n  // }\n}\nfunction time(name) {\n  if (isOutput()) {\n    var _console$time, _console4;\n    (_console$time = (_console4 = console).time) === null || _console$time === void 0 || _console$time.call(_console4, name);\n  }\n}\nfunction timeEnd(name) {\n  if (isOutput()) {\n    var _console$timeEnd, _console5;\n    (_console$timeEnd = (_console5 = console).timeEnd) === null || _console$timeEnd === void 0 || _console$timeEnd.call(_console5, name);\n  }\n}\nfunction table(messages) {\n  if (isOutput()) {\n    var _console$table, _console6;\n    (_console$table = (_console6 = console).table) === null || _console$table === void 0 || _console$table.call(_console6, messages);\n    _window.trace && console.trace();\n  }\n}\n// 条件满足,再执行log功能,提升性能\nfunction lazyLog(callback) {\n  if (isOutput()) {\n    callback(console);\n    _window.trace && console.trace();\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  log: log,\n  warn: warn,\n  error: error,\n  time: time,\n  timeEnd: timeEnd,\n  table: table,\n  lazyLog: lazyLog\n});\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/console.ts?");

/***/ }),

/***/ 54440:
/*!***********************************************!*\
  !*** ../designer-utils/utils/defaultIcon.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultIcon: function() { return /* binding */ DefaultIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar DefaultIcon = function DefaultIcon(_ref) {\n  var className = _ref.className;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(className, 'icon'),\n    width: \"200\",\n    height: \"200\",\n    viewBox: \"0 0 28 28\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"title\", null, \"\\u6587\\u672C\\u5907\\u4EFD\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", {\n    id: \"\\u6587\\u672C\\u5907\\u4EFD\",\n    stroke: \"none\",\n    \"stroke-width\": \"1\",\n    fill: \"none\",\n    \"fill-rule\": \"evenodd\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    d: \"M5.5,24 L22.5,24 L22.5,22.5 L23.999,22.5 L24,5.5 L22.5,5.5 L22.5,4 L5.5,4 L5.5,5.5 L4,5.5 L3.999,22.5 L5.5,22.5 L5.5,24 Z M4.5,23.5 L2.5,23.5 L2.5,25.5 L4.5,25.5 L4.5,23.5 Z M25.5,23.5 L23.5,23.5 L23.5,25.5 L25.5,25.5 L25.5,23.5 Z M4.5,2.5 L2.5,2.5 L2.5,4.5 L4.5,4.5 L4.5,2.5 Z M25.5,2.5 L23.5,2.5 L23.5,4.5 L25.5,4.5 L25.5,2.5 Z M5.5,26.5 L1.5,26.5 L1.5,22.5 L2.999,22.5 L3,5.5 L1.5,5.5 L1.5,1.5 L5.5,1.5 L5.5,3 L22.5,3 L22.5,1.5 L26.5,1.5 L26.5,5.5 L25,5.5 L24.999,22.5 L26.5,22.5 L26.5,26.5 L22.5,26.5 L22.5,25 L5.5,25 L5.5,26.5 Z\",\n    id: \"\\u5F62\\u72B6\\u7ED3\\u5408\",\n    fill: \"#404040\",\n    \"fill-rule\": \"nonzero\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    d: \"M20.5234375,19.924 C20.7995799,19.924 21.0234375,20.1478576 21.0234375,20.424 C21.0234375,20.6694599 20.8465623,20.8736084 20.6133131,20.9159443 L20.5234375,20.924 L7.55200195,20.924 C7.27585958,20.924 7.05200195,20.7001424 7.05200195,20.424 C7.05200195,20.1785401 7.22887711,19.9743916 7.46212632,19.9320557 L7.55200195,19.924 L20.5234375,19.924 Z M20.5,17.424 C20.7761424,17.424 21,17.6478576 21,17.924 C21,18.1694599 20.8231248,18.3736084 20.5898756,18.4159443 L20.5,18.424 L15.5,18.424 C15.2238576,18.424 15,18.2001424 15,17.924 C15,17.6785401 15.1768752,17.4743916 15.4101244,17.4320557 L15.5,17.424 L20.5,17.424 Z M20.5,14.424 C20.7761424,14.424 21,14.6478576 21,14.924 C21,15.1694599 20.8231248,15.3736084 20.5898756,15.4159443 L20.5,15.424 L15.5,15.424 C15.2238576,15.424 15,15.2001424 15,14.924 C15,14.6785401 15.1768752,14.4743916 15.4101244,14.4320557 L15.5,14.424 L20.5,14.424 Z\",\n    id: \"\\u5F62\\u72B6\\u7ED3\\u5408\",\n    fill: \"#979797\",\n    \"fill-rule\": \"nonzero\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    d: \"M12.6,17.6699621 L12.6,8.03204346 L12.6,8.03204346 L16.1159783,8.03204346 C16.4009692,8.03204346 16.632,7.80101266 16.632,7.51602173 C16.632,7.2310308 16.4009692,7 16.1159783,7 L7.78802173,7 C7.5030308,7 7.272,7.2310308 7.272,7.51602173 C7.272,7.80101266 7.5030308,8.03204346 7.78802173,8.03204346 L11.304,8.03204346 L11.304,8.03204346 L11.304,17.7739187 C11.304,18.1053028 11.57264,18.3739428 11.9040241,18.3739428 C11.9200353,18.3739428 11.9360401,18.3733019 11.952,18.3720217 C12.3179691,18.3426661 12.6,18.0371067 12.6,17.6699621 Z\",\n    id: \"T\",\n    fill: \"#404040\",\n    \"fill-rule\": \"nonzero\"\n  })));\n};\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/defaultIcon.tsx?");

/***/ }),

/***/ 42652:
/*!*********************************************!*\
  !*** ../designer-utils/utils/devwarning.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\n\nvar warned = {};\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(valid, component, message) {\n  if ( true && valid && !warned[message]) {\n    var _context;\n    warned[message] = true;\n    console.warn(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context = \"Warning: [kd-ui]-\".concat(component, \": \")).call(_context, message));\n  }\n}\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/devwarning.ts?");

/***/ }),

/***/ 92360:
/*!*******************************************!*\
  !*** ../designer-utils/utils/eventBus.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   eventBus: function() { return /* binding */ eventBus; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 89843);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 97440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 64248);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/asyncToGenerator */ 85640);\n/* harmony import */ var _babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/classCallCheck */ 3460);\n/* harmony import */ var _babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/createClass */ 27688);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 11872);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/regenerator */ 85344);\n/* harmony import */ var _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2___default()(o) || o[\"@@iterator\"]; if (!it) { if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_3___default()(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context9; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7___default()(_context9 = Object.prototype.toString.call(o)).call(_context9, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n\n\n\n/*\n * @Author: z_gong@kingdee.com\n * @Date: 2021-09-18 09:00:17\n * @LastEditors: z_gong@kingdee.com\n * @LastEditTime: 2021-09-18 14:15:48\n * @Description: eventBus\n */\n\nvar innerHasOwnProperty = function innerHasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n};\nvar EventEmitter = /*#__PURE__*/function () {\n  // rollup cannot support class's static property;\n  // static defaultMaxListeners = 100;\n  // static defaultMaxEvents = 100;\n\n  function EventEmitter() {\n    var isOnOfflineStack = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    (0,_babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, EventEmitter);\n    this.events = {};\n    this.eventsLength = 0;\n    this._maxListeners = EventEmitter.defaultMaxListeners;\n    this._maxEvents = EventEmitter.defaultMaxEvents;\n\n    // offlineStack\n    this.isOnOfflineStack = isOnOfflineStack;\n    this.offlineStack = {};\n  }\n  (0,_babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(EventEmitter, [{\n    key: \"addEventListener\",\n    value: function addEventListener() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this.on.apply(this, args);\n    }\n  }, {\n    key: \"addEventListenerAsync\",\n    value: function () {\n      var _addEventListenerAsync = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__[\"default\"])( /*#__PURE__*/_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default().mark(function _callee() {\n        var _len2,\n          args,\n          _key2,\n          _args = arguments;\n        return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              for (_len2 = _args.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = _args[_key2];\n              }\n              _context.next = 3;\n              return this.onAsync.apply(this, args);\n            case 3:\n              return _context.abrupt(\"return\", _context.sent);\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function addEventListenerAsync() {\n        return _addEventListenerAsync.apply(this, arguments);\n      }\n      return addEventListenerAsync;\n    }()\n  }, {\n    key: \"setMaxListeners\",\n    value: function setMaxListeners(n) {\n      n = n !== n ? 1 : n;\n      n = typeof n === 'number' ? n : 1;\n      this._maxListeners = n || 1;\n    }\n  }, {\n    key: \"setMaxEvents\",\n    value: function setMaxEvents(n) {\n      n = n !== n ? 1 : n;\n      n = typeof n === 'number' ? n : 1;\n      this._maxEvents = n || 1;\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      // 这里不备份，off不了\n      var evts = this.events[event];\n      for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        args[_key3 - 1] = arguments[_key3];\n      }\n      if (evts && evts.length > 0) {\n        evts = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7___default()(evts).call(evts, 0);\n        // 长度可能会动态改\n        // let evtLength = evts.length;\n        // for(let i = 0; i < evtLength; i++) {\n        //     if(typeof evts[i] === 'function') {\n        //         // 这里不能return\n        //         evts[i].apply(this, args);\n        //     }\n        // }\n        var _iterator = _createForOfIteratorHelper(evts),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var iterator = _step.value;\n            if (typeof iterator === 'function') {\n              iterator.apply(this, args);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        evts = [];\n        return true;\n      } else {\n        // 这里的if block是否应该返回true?\n        if (this.isOnOfflineStack) {\n          this.offlineStack[event] = this.offlineStack[event] || [];\n          this.offlineStack[event].push(args);\n        }\n        return false;\n      }\n    }\n  }, {\n    key: \"emitAsync\",\n    value: function () {\n      var _emitAsync = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__[\"default\"])( /*#__PURE__*/_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default().mark(function _callee2(event) {\n        var evts,\n          _len4,\n          args,\n          _key4,\n          _iterator2,\n          _step2,\n          iterator,\n          _args2 = arguments;\n        return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              // 这里不备份，off不了\n              evts = this.events[event];\n              for (_len4 = _args2.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n                args[_key4 - 1] = _args2[_key4];\n              }\n              if (!(evts && evts.length > 0)) {\n                _context2.next = 26;\n                break;\n              }\n              evts = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7___default()(evts).call(evts, 0);\n              _iterator2 = _createForOfIteratorHelper(evts);\n              _context2.prev = 5;\n              _iterator2.s();\n            case 7:\n              if ((_step2 = _iterator2.n()).done) {\n                _context2.next = 14;\n                break;\n              }\n              iterator = _step2.value;\n              if (!(typeof iterator === 'function')) {\n                _context2.next = 12;\n                break;\n              }\n              _context2.next = 12;\n              return iterator.apply(this, args);\n            case 12:\n              _context2.next = 7;\n              break;\n            case 14:\n              _context2.next = 19;\n              break;\n            case 16:\n              _context2.prev = 16;\n              _context2.t0 = _context2[\"catch\"](5);\n              _iterator2.e(_context2.t0);\n            case 19:\n              _context2.prev = 19;\n              _iterator2.f();\n              return _context2.finish(19);\n            case 22:\n              evts = [];\n              return _context2.abrupt(\"return\", true);\n            case 26:\n              // 这里的if block是否应该返回true?\n              if (this.isOnOfflineStack) {\n                this.offlineStack[event] = this.offlineStack[event] || [];\n                this.offlineStack[event].push(args);\n              }\n              return _context2.abrupt(\"return\", false);\n            case 28:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[5, 16, 19, 22]]);\n      }));\n      function emitAsync(_x) {\n        return _emitAsync.apply(this, arguments);\n      }\n      return emitAsync;\n    }()\n  }, {\n    key: \"eventNames\",\n    value: function eventNames() {\n      var ret = [];\n      for (var _i = 0, _Object$keys = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_8___default()(this.events); _i < _Object$keys.length; _i++) {\n        var val = _Object$keys[_i];\n        ret.push(val);\n      }\n      return ret;\n    }\n  }, {\n    key: \"listenerCount\",\n    value: function listenerCount(eventName) {\n      if (innerHasOwnProperty(this.events, eventName)) {\n        return this.events[eventName].length;\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"listeners\",\n    value: function listeners(eventName) {\n      if (innerHasOwnProperty(this.events, eventName)) {\n        var _context3;\n        return _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7___default()(_context3 = this.events[eventName]).call(_context3, 0);\n      } else {\n        return [];\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, fn) {\n      if (!innerHasOwnProperty(this.events, event)) return false;\n      if (typeof fn === 'function') {\n        var _context4;\n        var index = _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_9___default()(_context4 = this.events[event]).call(_context4, fn);\n        if (index !== -1) {\n          var _context5;\n          _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10___default()(_context5 = this.events[event]).call(_context5, index, 1);\n          return true;\n        } else {\n          return false;\n        }\n      }\n      if (typeof fn === 'undefined') {\n        this.events[event] = [];\n        delete this.events[event];\n        this.eventsLength--;\n        return true;\n      }\n    }\n\n    // if event fn is a async function?\n    // how to make sure fns sync emit?\n  }, {\n    key: \"_realOn\",\n    value: function _realOn(event, fn) {\n      event = String(event);\n      if (innerHasOwnProperty(this.events, event)) {\n        if (this.events[event].length >= this._maxListeners) {\n          console.log('error', '超出监听事件数量限制');\n          return false;\n        }\n      } else {\n        if (this.eventsLength >= this._maxEvents) {\n          console.log('error', '超出监听数量限制');\n          return false;\n        }\n        this.events[event] = [];\n        this.eventsLength++;\n      }\n      if (this.events[event].length > this._maxListeners) {\n        console.log('error', '超出监听事件数量限制');\n        return false;\n      }\n      this.events[event].push(fn);\n      // when each finish, data is empty at the same time;\n\n      return true;\n    }\n  }, {\n    key: \"onAsync\",\n    value: function () {\n      var _onAsync = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__[\"default\"])( /*#__PURE__*/_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default().mark(function _callee3(event, fn) {\n        return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default().wrap(function _callee3$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              this._realOn(event, fn);\n              _context6.next = 3;\n              return this.callOfflineStackEventsAsync(event, fn);\n            case 3:\n              return _context6.abrupt(\"return\", _context6.sent);\n            case 4:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee3, this);\n      }));\n      function onAsync(_x2, _x3) {\n        return _onAsync.apply(this, arguments);\n      }\n      return onAsync;\n    }()\n  }, {\n    key: \"on\",\n    value: function on(event, fn) {\n      var ret = this._realOn(event, fn);\n      this.callOfflineStackEvents(event, fn);\n      return ret;\n    }\n  }, {\n    key: \"callOfflineStackEvents\",\n    value: function callOfflineStackEvents(event, emitWayFn) {\n      if (this.isOnOfflineStack && this.offlineStack[event]) {\n        var _iterator3 = _createForOfIteratorHelper(this.offlineStack[event]),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _args4 = _step3.value;\n            emitWayFn.apply(this, _args4);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n        this.offlineStack[event] = [];\n      }\n    }\n  }, {\n    key: \"callOfflineStackEventsAsync\",\n    value: function () {\n      var _callOfflineStackEventsAsync = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__[\"default\"])( /*#__PURE__*/_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default().mark(function _callee4(event, emitWayFn) {\n        var _iterator4, _step4, _args5;\n        return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default().wrap(function _callee4$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              if (!(this.isOnOfflineStack && this.offlineStack[event])) {\n                _context7.next = 19;\n                break;\n              }\n              _iterator4 = _createForOfIteratorHelper(this.offlineStack[event]);\n              _context7.prev = 2;\n              _iterator4.s();\n            case 4:\n              if ((_step4 = _iterator4.n()).done) {\n                _context7.next = 10;\n                break;\n              }\n              _args5 = _step4.value;\n              _context7.next = 8;\n              return emitWayFn.apply(this, _args5);\n            case 8:\n              _context7.next = 4;\n              break;\n            case 10:\n              _context7.next = 15;\n              break;\n            case 12:\n              _context7.prev = 12;\n              _context7.t0 = _context7[\"catch\"](2);\n              _iterator4.e(_context7.t0);\n            case 15:\n              _context7.prev = 15;\n              _iterator4.f();\n              return _context7.finish(15);\n            case 18:\n              this.offlineStack[event] = [];\n            case 19:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee4, this, [[2, 12, 15, 18]]);\n      }));\n      function callOfflineStackEventsAsync(_x4, _x5) {\n        return _callOfflineStackEventsAsync.apply(this, arguments);\n      }\n      return callOfflineStackEventsAsync;\n    }()\n  }, {\n    key: \"createOnceFn\",\n    value: function createOnceFn(event, fn) {\n      var self = this;\n      var onceFn = function onceFn() {\n        for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n          args[_key5] = arguments[_key5];\n        }\n        var ret = fn.apply(this, args);\n        // 这里应该off 该方法return的函数\n        self.off(event, onceFn);\n        console.log(fn, onceFn);\n        return ret;\n      };\n      return onceFn;\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, fn) {\n      var onceFn = this.createOnceFn(event, fn);\n      this._realOn(event, onceFn);\n      // 没有意义去做onceFn，离线的\n      this.callOfflineStackEvents(event, fn);\n    }\n  }, {\n    key: \"onceAsync\",\n    value: function () {\n      var _onceAsync = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__[\"default\"])( /*#__PURE__*/_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default().mark(function _callee5(event, fn) {\n        var onceFn;\n        return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_11___default().wrap(function _callee5$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              onceFn = this.createOnceFn(event, fn);\n              this._realOn(event, onceFn);\n              // 没有意义去做onceFn，离线的\n              _context8.next = 4;\n              return this.callOfflineStackEventsAsync(event, fn);\n            case 4:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee5, this);\n      }));\n      function onceAsync(_x6, _x7) {\n        return _onceAsync.apply(this, arguments);\n      }\n      return onceAsync;\n    }()\n  }, {\n    key: \"removeListener\",\n    value: function removeListener() {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n      return this.off.apply(this, args);\n    }\n  }, {\n    key: \"removeAllListeners\",\n    value: function removeAllListeners() {\n      return this.off.apply(this, arguments.length <= 0 ? undefined : arguments[0]);\n    }\n  }]);\n  return EventEmitter;\n}();\nvar eventBus = new EventEmitter();\nEventEmitter.defaultMaxListeners = 10000;\nEventEmitter.defaultMaxEvents = 10000;\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/eventBus.ts?");

/***/ }),

/***/ 84416:
/*!**********************************************!*\
  !*** ../designer-utils/utils/forceUpdate.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useForceUpdate: function() { return /* binding */ useForceUpdate; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-14 10:31:31\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-14 10:32:45\n * @Description: ...\n */\n\n\nvar useForceUpdate = function useForceUpdate() {\n  var forceUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0)[1];\n  return function () {\n    forceUpdate(function (n) {\n      return n + 1;\n    });\n  };\n};\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/forceUpdate.ts?");

/***/ }),

/***/ 20092:
/*!****************************************************!*\
  !*** ../designer-utils/utils/forceUpdateEffect.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDataChangeForceUpdateEffect: function() { return /* binding */ useDataChangeForceUpdateEffect; },\n/* harmony export */   useErrorChangeForceUpdateEffect: function() { return /* binding */ useErrorChangeForceUpdateEffect; },\n/* harmony export */   useSelectionChangeForceUpdateEffect: function() { return /* binding */ useSelectionChangeForceUpdateEffect; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _forceUpdate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./forceUpdate */ 84416);\n/* harmony import */ var _timerManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timerManager */ 82188);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-23 16:41:07\n * @Last Modified by: fjr\n * @LastEditTime: 2023-04-24 19:33:52\n * @Description: ...\n */\n\n\n\nvar useDataChangeForceUpdateEffect = function useDataChangeForceUpdateEffect(api) {\n  var forceUpdate = (0,_forceUpdate__WEBPACK_IMPORTED_MODULE_1__.useForceUpdate)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var subscribe = api.data.addDataChangeListener(function () {\n      subscribe && forceUpdate();\n    });\n    return function () {\n      subscribe && subscribe();\n      subscribe = null;\n    };\n  }, [api]);\n};\nvar useSelectionChangeForceUpdateEffect = function useSelectionChangeForceUpdateEffect(api, callback, timeout) {\n  var forceUpdate = (0,_forceUpdate__WEBPACK_IMPORTED_MODULE_1__.useForceUpdate)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var _callback = function _callback(_ref) {\n      var value = _ref.value;\n      if (callback) {\n        if (callback(value)) {\n          forceUpdate();\n        }\n      } else {\n        forceUpdate();\n      }\n    };\n    var delayCallback = (0,_timerManager__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_callback, timeout);\n    var subscribe = api.selection.addSelectChangeListener(delayCallback);\n    return function () {\n      subscribe && subscribe();\n    };\n  }, [api, callback, timeout]);\n};\nvar useErrorChangeForceUpdateEffect = function useErrorChangeForceUpdateEffect(api) {\n  var forceUpdate = (0,_forceUpdate__WEBPACK_IMPORTED_MODULE_1__.useForceUpdate)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var subscribe = api.error.addErrorChangeListener(function () {\n      forceUpdate();\n    });\n    return function () {\n      subscribe && subscribe();\n    };\n  }, [api]);\n};\n\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/forceUpdateEffect.ts?");

/***/ }),

/***/ 37020:
/*!*********************************************!*\
  !*** ../designer-utils/utils/formatUtil.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatEditNumber: function() { return /* binding */ formatEditNumber; },\n/* harmony export */   formatNumber: function() { return /* binding */ formatNumber; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_number_parse_float__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/number/parse-float */ 55648);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_number_parse_float__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_number_parse_float__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/number/is-nan */ 28555);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/last-index-of */ 96432);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _numberUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./numberUtil */ 69612);\n\nvar _excluded = [\"mask\", \"zeroShow\", \"decimalLength\", \"showDecimalTailZero\", \"isRound\"];\n\n\n\n\n\n\n\n/**\n * [数值类型格式化]\n * @param  {[type]}  num                              [待格式化的数字]\n * @param  {String}  mask                             [数值掩码\n * 0：必须输入数字（0—9）\n * 9：可选择输入数字（0—9）或空格\n * #：可选择输入数字（0—9） 递归\n * .: 小数点\n * ,: 千位符\n * %: 对最终值除以100处理\n * %%: 对最终值不做处理\n * //A: [a-zA-Z0-9]\n * //S: [a-zA-Z]\n * //&：必须输入任一字符或空格\n * //C：可选择输入任一字符或空格\n * $: 货币\n * ]\n * @param  {Boolean} zeroShow                         [为零显示]\n * @param  {[type]}  decimalLength                    [小数精度的位数]\n * @param  {Boolean} showDecimalTailZero              [是否显示尾部零]\n * @return                                            [格式化后的数值]\n */\nfunction formatNumber(num, formatParams) {\n  var _context;\n  var _formatParams$mask = formatParams.mask,\n    mask = _formatParams$mask === void 0 ? '' : _formatParams$mask,\n    _formatParams$zeroSho = formatParams.zeroShow,\n    zeroShow = _formatParams$zeroSho === void 0 ? false : _formatParams$zeroSho,\n    decimalLength = formatParams.decimalLength,\n    _formatParams$showDec = formatParams.showDecimalTailZero,\n    showDecimalTailZero = _formatParams$showDec === void 0 ? false : _formatParams$showDec,\n    isRound = formatParams.isRound,\n    param = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(formatParams, _excluded);\n  if (decimalLength !== undefined && (decimalLength < 0 || decimalLength > 100)) return num + '';\n  if (num === undefined || num === null) num = '';\n  var numInfo = {\n    numStr: '',\n    intStr: '',\n    decimalStr: ''\n  };\n  if (typeof num === 'number') {\n    numInfo.numStr = num + '';\n  } else {\n    numInfo.numStr = num.replace(/,/g, '');\n    if ((0,_numberUtil__WEBPACK_IMPORTED_MODULE_7__.isExp)(numInfo.numStr)) {\n      numInfo.numStr = (0,_numberUtil__WEBPACK_IMPORTED_MODULE_7__.exponentToFloat)(numInfo.numStr);\n    }\n  }\n  var floatNum = _babel_runtime_corejs3_core_js_stable_number_parse_float__WEBPACK_IMPORTED_MODULE_1___default()(numInfo.numStr);\n  // 非纯数字不处理，直接返回''\n  // if (Number.isNaN(floatNum)) return ''\n  if (_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_2___default()(Number(num))) {\n    // throw new Error('toFixed() number argument must be a valid number')\n    return num + '';\n  }\n  // 为零不显示，且等于零,直接返回''\n  if (!zeroShow && Number(num) === 0) return '';\n  var maskInfo = analyzMask(mask);\n  if (maskInfo.errorMask) return numInfo.numStr;\n  var isIncludePercent = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(_context = numInfo.numStr).call(_context, '%');\n  if (maskInfo.percent) {\n    if (!isIncludePercent) {\n      var _context2, _context3;\n      var point = _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = numInfo.numStr).call(_context2, '.');\n      var length = numInfo.numStr.length;\n      if (point < 0) {\n        numInfo.numStr = numInfo.numStr + '00';\n      } else if (point === length - 1) {\n        numInfo.numStr = numInfo.numStr.replace('.', '') + '00';\n      } else if (point === length - 2) {\n        numInfo.numStr = numInfo.numStr.replace('.', '') + '0';\n      } else {\n        var numStr = numInfo.numStr.replace('.', '');\n        numInfo.numStr = numStr.substring(0, point + 2) + '.' + numStr.substring(point + 2);\n      }\n      // 去掉数字前面的零\n      numInfo.numStr = numInfo.numStr.replace(/^0+/, '');\n      if (numInfo.numStr === '.') numInfo.numStr = '0';\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(_context3 = numInfo.numStr).call(_context3, '-')) {\n        // 负数的情况 去掉前面的0\n        numInfo.numStr = numInfo.numStr.replace('-', '');\n        numInfo.numStr = numInfo.numStr.replace(/^0+/, '');\n        numInfo.numStr = '-' + numInfo.numStr;\n      }\n      floatNum = floatNum * 100;\n    }\n  }\n  var isNegativeNumber = floatNum < 0; // 是否是负数\n  if (isNegativeNumber) {\n    var _context4;\n    floatNum = Math.abs(floatNum);\n    numInfo.numStr = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_5___default()(_context4 = numInfo.numStr).call(_context4, 1); // 去除第一个负号\n  }\n  var numStrArr = numInfo.numStr.split('.');\n  numInfo.intStr = numStrArr[0];\n  numInfo.decimalStr = numStrArr[1] || '';\n  if (!showDecimalTailZero) {\n    numInfo = cutTailZero(numInfo);\n  }\n  // 小数部分处理。暂时不考虑其他。只校验位数和尾数补零问题,整数\n  if (decimalLength !== undefined && decimalLength >= 0) {\n    // floatNum = Number.parseFloat(numInfo.numStr) // 当整数位数大于16位时，parseFloat会丢掉末尾的值,有问题！！！\n    numInfo.numStr = (0,_numberUtil__WEBPACK_IMPORTED_MODULE_7__.toFixed)(numInfo.numStr, decimalLength, isRound);\n    numStrArr = numInfo.numStr.split('.');\n    // 去除整数部分多余的 0\n    var intStr = numStrArr[0].replace(/^0+/, '');\n    numInfo.intStr = intStr === '' ? '0' : intStr;\n    numInfo.decimalStr = numStrArr[1] || '';\n    if (!showDecimalTailZero) {\n      numInfo = cutTailZero(numInfo);\n    }\n  }\n  // 整数部分格式化\n  var formatValue = intFormatMask(maskInfo.intMask, numInfo.intStr);\n  var currencySign = maskInfo.currencySign ? '$' : '';\n  if (param.symbol) {\n    currencySign = param.symbol;\n  }\n  return currencySign + (isNegativeNumber ? '-' : '') + (formatValue || numInfo.intStr || '0') + (numInfo.decimalStr.length > 0 ? '.' : '') + numInfo.decimalStr + (maskInfo.percent ? '%' : '');\n}\n\n/**\n * 格式化数字字段编辑态的值\n * 不支持掩码的格式化信息\n * @param {*} num\n * @param {*} param\n */\nfunction formatEditNumber(num, _ref) {\n  var _ref$zeroShow = _ref.zeroShow,\n    zeroShow = _ref$zeroShow === void 0 ? false : _ref$zeroShow,\n    decimalLength = _ref.decimalLength,\n    _ref$showDecimalTailZ = _ref.showDecimalTailZero,\n    showDecimalTailZero = _ref$showDecimalTailZ === void 0 ? false : _ref$showDecimalTailZ,\n    _ref$roundMethod = _ref.roundMethod,\n    roundMethod = _ref$roundMethod === void 0 ? '0' : _ref$roundMethod,\n    symbol = _ref.symbol;\n  // 如果精度超过100，直接返回数值\n  if (decimalLength && (decimalLength < 0 || decimalLength > 100)) return num + '';\n  if (num === undefined || num === null) num = '';\n  var numInfo = {\n    numStr: '',\n    intStr: '',\n    decimalStr: ''\n  };\n  if (typeof num === 'number') {\n    numInfo.numStr = num + '';\n  } else {\n    var _context5;\n    numInfo.numStr = num.replace(/,/g, '');\n    if ((0,_numberUtil__WEBPACK_IMPORTED_MODULE_7__.isExp)(numInfo.numStr)) {\n      numInfo.numStr = (0,_numberUtil__WEBPACK_IMPORTED_MODULE_7__.exponentToFloat)(numInfo.numStr);\n    }\n    if (symbol && _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_4___default()(_context5 = numInfo.numStr).call(_context5, symbol) === 0) {\n      numInfo.numStr = numInfo.numStr.replace(symbol, '');\n    }\n  }\n  var floatNum = _babel_runtime_corejs3_core_js_stable_number_parse_float__WEBPACK_IMPORTED_MODULE_1___default()(numInfo.numStr);\n  // 非纯数字不处理，直接返回''\n  if (_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_2___default()(floatNum)) return '';\n  // 为零不显示，且等于零,直接返回''\n  if (!zeroShow && floatNum === 0) return '';\n  var isNegativeNumber = floatNum < 0; // 是否是负数\n  if (isNegativeNumber) {\n    var _context6;\n    floatNum = Math.abs(floatNum);\n    numInfo.numStr = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_5___default()(_context6 = numInfo.numStr).call(_context6, 1); // 去除第一个负号\n  }\n  var numStrArr = numInfo.numStr.split('.');\n  numInfo.intStr = numStrArr[0];\n  numInfo.decimalStr = numStrArr[1] || '';\n  if (!showDecimalTailZero) {\n    numInfo = cutTailZero(numInfo);\n  }\n  // 小数部分处理。暂时不考虑其他。只校验位数和尾数补零问题,整数\n  if (decimalLength != null && decimalLength >= 0) {\n    // floatNum = Number.parseFloat(numInfo.numStr) // 当整数位数大于16位时，parseFloat会丢掉末尾的值\n    var isRound = roundMethod.toString() === '1'; // 是否四舍五入\n    numInfo.numStr = (0,_numberUtil__WEBPACK_IMPORTED_MODULE_7__.toFixed)(numInfo.numStr, decimalLength, isRound);\n    numStrArr = numInfo.numStr.split('.');\n    numInfo.intStr = numStrArr[0];\n    numInfo.decimalStr = numStrArr[1] || '';\n    if (!showDecimalTailZero) {\n      numInfo = cutTailZero(numInfo);\n    }\n  }\n  return (isNegativeNumber ? '-' : '') + (numInfo.intStr || '0') + (numInfo.decimalStr.length > 0 ? '.' : '') + numInfo.decimalStr;\n}\nfunction analyzMask(mask) {\n  var maskInfo = {\n    errorMask: false,\n    currencySign: false,\n    percent: false,\n    intMask: '',\n    decimalMask: '',\n    formatMask: ''\n  };\n  mask = mask.replace(/%%/g, '');\n  maskInfo.currencySign = _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_4___default()(mask).call(mask, '$') >= 0; // 是否显示货币标识\n  maskInfo.percent = _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_4___default()(mask).call(mask, '%') >= 0; // 是否有百分号\n  mask = mask.replace(/%/g, '').replace(/\\$/g, ''); // 清楚上面的特殊字符\n  var masks = mask.split('.'); // 以小数点为界切分掩码\n  if (masks.length > 2) {\n    maskInfo.errorMask = true;\n  }\n  maskInfo.intMask = masks[0];\n  maskInfo.decimalMask = masks[1];\n  maskInfo.formatMask = mask;\n  return maskInfo;\n}\nfunction cutTailZero(numInfo) {\n  var decimalStr = numInfo.decimalStr;\n  var len = decimalStr.length;\n  if (len > 0) {\n    for (var i = len - 1; i >= 0; i--) {\n      if (decimalStr[i] === '0') {\n        decimalStr = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_5___default()(decimalStr).call(decimalStr, 0, i);\n      } else {\n        break;\n      }\n    }\n    numInfo.decimalStr = decimalStr;\n  }\n  return numInfo;\n}\nfunction intFormatMask(intMask, intValue) {\n  var numGroupFormat = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var index = 0;\n  var firstHashIndex = _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_4___default()(intMask).call(intMask, '#');\n  var lastHashIndex = _babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_6___default()(intMask).call(intMask, '#');\n  var formatValue = '';\n  if (intMask.split(',').length > 1) {\n    // 如果包含多个分隔符，则认为是末尾分隔符为分组数\n    lastHashIndex = intMask.length - 1 - _babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_6___default()(intMask).call(intMask, ',');\n  }\n  for (var i = intMask.length - 1; i >= 0;) {\n    var _char = intMask.charAt(i);\n    switch (_char) {\n      case '0':\n        // 数字必录\n        formatValue = (intValue.charAt(intValue.length - 1 - index) || '0') + formatValue;\n        index++;\n        i--;\n        break;\n      case '9':\n        // 数字可选\n        formatValue = intValue.charAt(intValue.length - 1 - index) + formatValue;\n        index++;\n        i--;\n        break;\n      case '#':\n        // 递归\n        formatValue = intValue.charAt(intValue.length - 1 - index) + formatValue;\n        index++;\n        i = i === firstHashIndex ? lastHashIndex : i - 1;\n        break;\n      default:\n        if (numGroupFormat) _char = numGroupFormat;\n        formatValue = _char + formatValue;\n        i--;\n        break;\n    }\n    if (index >= intValue.length) break;\n  }\n  // 如果第一个字符不是数字，去掉\n  if (formatValue && !/^[0-9]*$/.test(formatValue.charAt(0))) {\n    formatValue = formatValue.substring(1);\n  }\n  return formatValue;\n}\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/formatUtil.ts?");

/***/ }),

/***/ 82892:
/*!*****************************************!*\
  !*** ../designer-utils/utils/hooks.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMergedState: function() { return /* binding */ useMergedState; },\n/* harmony export */   useOnClickOutside: function() { return /* binding */ useOnClickOutside; },\n/* harmony export */   useOnClickOutsideByRootClick: function() { return /* binding */ useOnClickOutsideByRootClick; },\n/* harmony export */   usePrevious: function() { return /* binding */ usePrevious; },\n/* harmony export */   useResizeObserver: function() { return /* binding */ useResizeObserver; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 89843);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 97440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 64248);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! resize-observer-polyfill */ 82504);\n/* harmony import */ var _devwarning__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./devwarning */ 42652);\n\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6___default()(o) || o[\"@@iterator\"]; if (!it) { if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7___default()(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function (_e) { function e(_x) { return _e.apply(this, arguments); } e.toString = function () { return _e.toString(); }; return e; }(function (e) { throw e; }), f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function (_e2) { function e(_x2) { return _e2.apply(this, arguments); } e.toString = function () { return _e2.toString(); }; return e; }(function (e) { didErr = true; err = e; }), f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_3___default()(_context = Object.prototype.toString.call(o)).call(_context, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n\n\n/**\n * @description 点击指定区域外执行回调\n *\n * @export\n * @param {RefObject<HTMLElement>[]} refs\n * @param {(e: Event) => void} handler\n */\nfunction useOnClickOutside(refs, handler) {\n  var isBubble = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(function () {\n    var listener = function listener(event) {\n      var _iterator = _createForOfIteratorHelper(refs),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _ref$current;\n          var ref = _step.value;\n          if (!(ref !== null && ref !== void 0 && ref.current) || ref !== null && ref !== void 0 && (_ref$current = ref.current) !== null && _ref$current !== void 0 && _ref$current.contains(event.target)) {\n            return;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      handler(event);\n    };\n    document.addEventListener('mousedown', listener, isBubble);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      document.removeEventListener('mousedown', listener, isBubble);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [refs, handler]);\n}\nfunction useOnClickOutsideByRootClick(handler) {\n  var isCapture = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var hidePoperTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)(null);\n  var onRootMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function () {\n    hidePoperTimerRef.current && clearTimeout(hidePoperTimerRef.current);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(function () {\n    var listener = function listener() {\n      hidePoperTimerRef.current && clearTimeout(hidePoperTimerRef.current);\n      hidePoperTimerRef.current = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2___default()(function () {\n        handler();\n      });\n    };\n    document.addEventListener('click', listener, isCapture);\n    return function () {\n      document.removeEventListener('click', listener, isCapture);\n    };\n  }, [handler]);\n  return onRootMouseDown;\n}\n\n/**\n * @description 合并状态\n *\n * @export\n * @template T\n * @template R\n * @param {(T | (() => T))} defaultStateValue\n * @param {({\n *     defaultValue?: T | (() => T)\n *     value?: T\n *     onChange?: (value: T, prevValue: T) => void\n *     postState?: (value: T) => T\n *   })} [option]\n * @returns {[R, (value: T) => void]}\n */\nfunction useMergedState(defaultStateValue,\n// 初始state\noption) {\n  var _ref = option || {},\n    defaultValue = _ref.defaultValue,\n    value = _ref.value,\n    onChange = _ref.onChange,\n    postState = _ref.postState;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(function () {\n      if (value !== undefined) {\n        return value;\n      }\n      if (defaultValue !== undefined) {\n        return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n      }\n      return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  var mergedValue = value !== undefined ? value : innerValue;\n  if (postState) {\n    mergedValue = postState(mergedValue);\n  }\n  function triggerChange(newValue) {\n    setInnerValue(newValue);\n    if (mergedValue !== newValue && onChange) {\n      onChange(newValue, mergedValue);\n    }\n  }\n  var firstRenderRef = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)(true);\n  (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(function () {\n    if (firstRenderRef.current) {\n      firstRenderRef.current = false;\n      return;\n    }\n    if (value === undefined) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  return [mergedValue, triggerChange];\n}\n\n/**\n * @description 获取之前的值\n *\n * @export\n * @param {P} value\n */\n\nfunction usePrevious(value) {\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)(value);\n  (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\nfunction useResizeObserver(element, handler) {\n  (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(function () {\n    if (!element) {\n      (0,_devwarning__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(!element && element !== null, 'useResizeMeasure', 'useResizeMeasure指定的元素不存在');\n      return;\n    }\n    var measure = function measure(entries) {\n      if (!entries[0] || !entries[0].contentRect) {\n        return;\n      }\n      var contentRect = entries[0].contentRect;\n      var hide = contentRect.width === 0 && contentRect.height === 0; // 隐藏条件：高宽都为0\n      var rect = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        hide: hide\n      }, contentRect);\n      handler && handler(rect);\n    };\n    var resizeObserver = new resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_9__[\"default\"](measure);\n    resizeObserver && resizeObserver.observe(element);\n    return function () {\n      resizeObserver && resizeObserver.disconnect();\n    };\n  }, [element, handler]);\n}\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/hooks.tsx?");

/***/ }),

/***/ 57024:
/*!******************************************!*\
  !*** ../designer-utils/utils/intlApi.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLangMsg: function() { return /* binding */ getLangMsg; },\n/* harmony export */   setIntlApi: function() { return /* binding */ setIntlApi; }\n/* harmony export */ });\nvar intlApi = {\n  getLangMsg: function getLangMsg() {\n    return '';\n  }\n};\nfunction setIntlApi(key, fn) {\n  intlApi[key] = fn;\n}\nvar getLangMsg = function getLangMsg() {\n  return intlApi.getLangMsg.apply(intlApi, arguments);\n};\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/intlApi.ts?");

/***/ }),

/***/ 69612:
/*!*********************************************!*\
  !*** ../designer-utils/utils/numberUtil.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exponentToFloat: function() { return /* binding */ exponentToFloat; },\n/* harmony export */   getMaxNumberByPrecision: function() { return /* binding */ getMaxNumberByPrecision; },\n/* harmony export */   isExp: function() { return /* binding */ isExp; },\n/* harmony export */   serialization: function() { return /* binding */ serialization; },\n/* harmony export */   supplementZero: function() { return /* binding */ supplementZero; },\n/* harmony export */   toFixed: function() { return /* binding */ toFixed; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/number/is-nan */ 28555);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/parse-float */ 7224);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ 45076);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_fill__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/fill */ 1508);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_fill__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_fill__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n/**\n * 使用定点表示法来格式化一个数\n * @param  {String|Number}  number     [必选，数字或者表示数字的字符串,范围为[0,20],超过范围则报错]\n * @param  {Number}  digits  [必选，小数点后数字的个数]\n * @param  {Boolean} isRound [可选，格式化时是否四舍五入，默认为false，即进行四舍五入,为false时直接截取，不满足位数的往后补0]\n * @return {String}          [结果]\n */\nfunction toFixed(number, digits) {\n  var isRound = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  // 非数字\n  // if (!/(^-\\d+|^\\d+)\\.?\\d*$/gi.test(number)) { // Number.isFinite(number)\n  //   throw new Error('toFixed() number argument must be a valid number')\n  // }\n  if (_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_0___default()(Number(number))) {\n    throw new Error('toFixed() number argument must be a valid number');\n  }\n  // 是否为正数\n  var isPositive = +number >= 0;\n  // 转化为字符串\n  number += '';\n  isRound = Boolean(isRound);\n  // 去掉正负号，统一按照正数来处理，最后再加上符号\n  number = number.replace(/^(?:-|\\+)/gi, '');\n\n  // 小数点过大\n  if (digits > 20 || digits < 0) {\n    throw new RangeError('toFixed() digits argument must be between 0 and 20');\n  }\n\n  // 如果是简写如.11则整数位补0，变成0.11\n  if (/^\\./gi.test(number)) {\n    number = '0' + number;\n  }\n  var numParts = number.split('.');\n  var result = '';\n\n  // 在str后面加n个0\n  var _paddingZero = function _paddingZero(str, n) {\n    for (var i = 0; i < n; i++) {\n      str += '0';\n    }\n    return str;\n  };\n\n  // 在str后面加0，直至str的长度达到n\n  // 如果超过了n，则直接截取前n个字符串\n  var _paddingZeroTo = function _paddingZeroTo(str, n) {\n    if (str.length >= n) {\n      return str.substr(0, n);\n    } else {\n      return _paddingZero(str, n - str.length);\n    }\n  };\n\n  // 直接就是整数\n  if (numParts.length < 2) {\n    result = numParts[0] + '.' + _paddingZero('', digits);\n  } else {\n    // 为浮点数\n    // 如果为截取\n    if (isRound === false) {\n      result = numParts[0] + '.' + _paddingZeroTo(numParts[1], digits);\n      // 如果为四舍五入\n    } else {\n      // 放大10的N次方倍\n      var enlarge = numParts[0] + _paddingZeroTo(numParts[1], digits) + '.' + numParts[1].substr(digits);\n      // 取整\n      enlarge = Math.round(_babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_1___default()(enlarge)) + '';\n      // 缩小10的N次方\n      while (enlarge.length <= digits) {\n        enlarge = '0' + enlarge;\n      }\n      result = enlarge.substr(0, enlarge.length - digits) + '.' + enlarge.substr(enlarge.length - digits);\n    }\n  }\n\n  // 如果最后一位为.,则去除\n  result = result.replace(/\\.$/gi, '').replace(/^\\./gi, '0.');\n\n  // 加上正负数符号位\n  result = isPositive ? result : '-' + result;\n  return result;\n}\n\n/**\n * 将已有的数字进行前面补零的方法\n * @param {String|Number} number [需要在前面补零的数字]\n * @param {Number} lenght [补零后的数字长度]\n * 如：supplementZero(1, 4) return '0001'\n */\nfunction supplementZero(number) {\n  var _context;\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  number += '';\n  if (number.length > length) return number;\n  return _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_2___default()(_context = Array(length).join('0') + number).call(_context, -length);\n}\n\n/**\n *\n * 序列化字符串为数字，只取字符串中的数字、小数点、正负号\n * @param {String} strNumber 字符串\n */\nfunction serialization(strNumber) {\n  var numberList = strNumber.match(/\\d|^-|\\./g);\n  if (!numberList) return '';\n  // 取出正负号\n  var sign = numberList[0] === '-' ? '-' : '';\n  if (sign === '-') {\n    // 有负号, 去掉数组的负号\n    numberList.shift();\n  }\n  var numberString = numberList.join('');\n  // .replace('.', 'a').replace(/\\./g, '').replace('a', '.')\n  var res = numberString.replace(/^0{2,}/gi, '0');\n  if (/^(0[^.])/gi.test(res)) {\n    return sign + _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_2___default()(res).call(res, 1);\n  }\n  return sign + res;\n}\n\n// 根据整数精度和小数精度获取最大值\nfunction getMaxNumberByPrecision(integerPrecision, decimalPrecision) {\n  var _context2, _context3, _context4, _context5;\n  var integerString = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_fill__WEBPACK_IMPORTED_MODULE_4___default()(_context3 = Array(integerPrecision)).call(_context3, '9')).call(_context2, function (res, value) {\n    return res += value;\n  }, '');\n  return decimalPrecision <= 0 ? Number(integerString) : Number(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default()(_context4 = _babel_runtime_corejs3_core_js_stable_instance_fill__WEBPACK_IMPORTED_MODULE_4___default()(_context5 = Array(decimalPrecision)).call(_context5, '9')).call(_context4, function (res, value) {\n    return res += value;\n  }, integerString + '.'));\n}\n\n/**\n * 判断是否为正则表达式\n * @param {string|number} number 待判断的值\n */\nfunction isExp(number) {\n  number = Number(number);\n  if (isNaN(number) || !isFinite(number)) return false;\n  return /^(?!-0(\\.0+)?(e|$))-?(0|[1-9]\\d*)(\\.\\d+)?(e-?(0|[1-9]\\d*))?$/i.test(number.toString());\n}\n\n/**\n * 将科学计数法显示的数字格式化为正常浮点数\n * 1e-6 => 0.000006\n * @param {Number} number 待格式化的科学计数法\n * @returns num 格式化后的数值，如果不满足科学计数法的话，则原值返回\n */\nfunction exponentToFloat(number) {\n  var tempNumber = Number(number);\n  if (isNaN(tempNumber) || !isFinite(tempNumber)) return number.toString();\n  var exponentReg = /^(?!-0(\\.0+)?(e|$))-?(0|[1-9]\\d*)(\\.\\d+)?(e-?(0|[1-9]\\d*))?$/i;\n  if (exponentReg.test(tempNumber.toString())) {\n    // 获取精度， 默认 10\n    var lenArr = exponentReg.exec(tempNumber.toString());\n    var len = Number(lenArr && lenArr[6] ? lenArr[6] : 10);\n    var zeros = /^(\\d{1,}(?:,\\d{3})*\\.(?:0*[1-9]+)?)(0*)?$/.exec(tempNumber.toFixed(len));\n    if (zeros) {\n      var res = zeros[1];\n      return res[res.length - 1] === '.' ? res.substr(0, res.length - 1) : res;\n    } else {\n      return tempNumber.toFixed(len);\n    }\n  }\n  return tempNumber.toString();\n}\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/numberUtil.ts?");

/***/ }),

/***/ 62452:
/*!***************************************!*\
  !*** ../designer-utils/utils/omit.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   omit: function() { return /* binding */ omit; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n\nfunction omit(obj, fields) {\n  var shallowCopy = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, obj);\n  for (var i = 0; i < fields.length; i++) {\n    var key = fields[i];\n    delete shallowCopy[key];\n  }\n  return shallowCopy;\n}\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/omit.ts?");

/***/ }),

/***/ 49412:
/*!*************************************************!*\
  !*** ../designer-utils/utils/react-children.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toArray: function() { return /* binding */ toArray; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction toArray(children, props) {\n  var _context;\n  var childrens = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_0___default()(_context = (react__WEBPACK_IMPORTED_MODULE_1___default().Children)).call(_context, children, function each(c) {\n    // 这列传context\n    // childrens.push(React.cloneElement(c, props))\n    childrens.push(c);\n  });\n  return childrens;\n}\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/react-children.ts?");

/***/ }),

/***/ 82188:
/*!***********************************************!*\
  !*** ../designer-utils/utils/timerManager.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_0__);\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-12-01 10:56:40\n * @Last Modified by: fjr\n * @LastEditTime: 2021-12-01 11:07:40\n * @Description: ...\n */\n\nvar timerManager = function timerManager(fn, timeout) {\n  var timer = null;\n  if (typeof timeout === 'number') {\n    var removeTimer = function removeTimer() {\n      timer !== null && clearTimeout(timer);\n    };\n    return function addTimer() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      removeTimer();\n      timer = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_0___default()(function () {\n        fn && fn.apply(null, args);\n      }, timeout);\n    };\n  } else {\n    return fn;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (timerManager);\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/timerManager.ts?");

/***/ }),

/***/ 188:
/*!***************************************!*\
  !*** ../designer-utils/utils/type.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   tuple: function() { return /* binding */ tuple; },\n/* harmony export */   tupleNum: function() { return /* binding */ tupleNum; }\n/* harmony export */ });\n// https://stackoverflow.com/questions/46176165/ways-to-get-string-literal-type-of-array-values-without-enum-overhead\nvar tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return args;\n};\nvar tupleNum = function tupleNum() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  return args;\n};\n\n/**\n * https://stackoverflow.com/a/59187769\n * Extract the type of an element of an array/tuple without performing indexing\n */\n\n/**\n * https://github.com/Microsoft/TypeScript/issues/29729\n */\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/type.ts?");

/***/ }),

/***/ 43580:
/*!*********************************************!*\
  !*** ../designer-utils/utils/usePopper.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Placements: function() { return /* binding */ Placements; },\n/* harmony export */   Triggers: function() { return /* binding */ Triggers; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/parse-float */ 7224);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/some */ 65624);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 2992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! react-dom */ 71536);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./type */ 188);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lodash/debounce */ 94608);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _devwarning__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./devwarning */ 42652);\n/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./hooks */ 82892);\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context3, _context4; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context3 = ownKeys(Object(t), !0)).call(_context3, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context4 = ownKeys(Object(t))).call(_context4, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Placements = (0,_type__WEBPACK_IMPORTED_MODULE_21__.tuple)('top', 'left', 'right', 'bottom', 'topLeft', 'topRight', 'bottomLeft', 'bottomRight', 'leftTop', 'leftBottom', 'rightTop', 'rightBottom');\nvar Triggers = (0,_type__WEBPACK_IMPORTED_MODULE_21__.tuple)('hover', 'focus', 'click', 'contextMenu');\nfunction getTranslate(node, param) {\n  var _document$defaultView;\n  var translates = ((_document$defaultView = document.defaultView) === null || _document$defaultView === void 0 ? void 0 : _document$defaultView.getComputedStyle(node, null).transform.substring(7)) || '';\n  var result = translates.match(/\\(([^)]*)\\)/);\n  var matrix = result ? result[1].split(',') : translates.split(',');\n  if (param === 'x' || param === undefined) {\n    return matrix.length > 6 ? _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default()(matrix[12]) : _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default()(matrix[4]);\n  } else if (param === 'y') {\n    return matrix.length > 6 ? _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default()(matrix[13]) : _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default()(matrix[5]);\n  } else if (param === 'z') {\n    return matrix.length > 6 ? _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default()(matrix[14]) : 0;\n  } else if (param === 'rotate') {\n    return matrix.length > 6 ? getRotate([_babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default()(matrix[0]), _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default()(matrix[1]), _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default()(matrix[4]), _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default()(matrix[5])]) : getRotate(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(matrix).call(matrix, function (i) {\n      return _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_10___default()(i);\n    }));\n  }\n}\nfunction getRotate(matrix) {\n  var aa = Math.round(180 * Math.asin(matrix[0]) / Math.PI);\n  var bb = Math.round(180 * Math.acos(matrix[1]) / Math.PI);\n  var cc = Math.round(180 * Math.asin(matrix[2]) / Math.PI);\n  var dd = Math.round(180 * Math.acos(matrix[3]) / Math.PI);\n  var deg = 0;\n  if (aa === bb || -aa === bb) {\n    deg = dd;\n  } else if (-aa + bb === 180) {\n    deg = 180 + cc;\n  } else if (aa + bb === 180) {\n    deg = 360 - cc || 360 - dd;\n  }\n  return deg >= 360 ? 0 : deg;\n}\nvar getTranslatePos = function getTranslatePos(el) {\n  var elPos = {\n    top: getTranslate(el, 'y') || 0,\n    left: getTranslate(el, 'x') || 0\n  };\n  if (el.parentElement && el.parentElement !== document.body) {\n    var parentPos = getTranslatePos(el.parentElement);\n    elPos.top += parentPos.top;\n    elPos.left += parentPos.left;\n  }\n  return elPos;\n};\nvar getOffsetPos = function getOffsetPos(el) {\n  var elPos = {\n    top: el.offsetTop,\n    left: el.offsetLeft\n  };\n  if (el.offsetParent) {\n    var parentPos = getOffsetPos(el.offsetParent);\n    elPos.top += parentPos.top;\n    elPos.left += parentPos.left;\n  }\n  return elPos;\n};\nvar getScrollDist = function getScrollDist(el, container) {\n  var elScroll = {\n    top: el.scrollTop,\n    left: el.scrollLeft\n  };\n  var isFixed = getComputedStyle(el, null).getPropertyValue('position') === 'fixed';\n  if (isFixed) {\n    elScroll.top -= window.scrollY;\n    elScroll.left -= window.scrollX;\n  } else if (el.parentElement && container.contains(el.parentElement)) {\n    var parentScroll = getScrollDist(el.parentElement, container);\n    elScroll.top += parentScroll.top;\n    elScroll.left += parentScroll.left;\n  }\n  return elScroll;\n};\nfunction usePopper(locatorElement, popperElement, props) {\n  var _context, _context2;\n  var prefixCls = props.prefixCls,\n    onTrigger = props.onTrigger,\n    popperStyle = props.popperStyle,\n    _props$arrow = props.arrow,\n    arrow = _props$arrow === void 0 ? false : _props$arrow,\n    onVisibleChange = props.onVisibleChange,\n    popperClassName = props.popperClassName,\n    _props$arrowOffset = props.arrowOffset,\n    arrowOffset = _props$arrowOffset === void 0 ? 12 : _props$arrowOffset,\n    _props$arrowSize = props.arrowSize,\n    arrowSize = _props$arrowSize === void 0 ? 4.25 : _props$arrowSize,\n    _props$disabled = props.disabled,\n    disabled = _props$disabled === void 0 ? false : _props$disabled,\n    _props$trigger = props.trigger,\n    trigger = _props$trigger === void 0 ? 'click' : _props$trigger,\n    _props$placement = props.placement,\n    placement = _props$placement === void 0 ? 'top' : _props$placement,\n    _props$gap = props.gap,\n    defalutGap = _props$gap === void 0 ? 4 : _props$gap,\n    _props$scrollHidden = props.scrollHidden,\n    scrollHidden = _props$scrollHidden === void 0 ? false : _props$scrollHidden,\n    _props$mouseEnterDela = props.mouseEnterDelay,\n    mouseEnterDelay = _props$mouseEnterDela === void 0 ? 0.1 : _props$mouseEnterDela,\n    _props$mouseLeaveDela = props.mouseLeaveDelay,\n    mouseLeaveDelay = _props$mouseLeaveDela === void 0 ? 0.1 : _props$mouseLeaveDela,\n    _props$defaultVisible = props.defaultVisible,\n    defaultVisible = _props$defaultVisible === void 0 ? false : _props$defaultVisible,\n    _props$getTriggerElem = props.getTriggerElement,\n    getTriggerElement = _props$getTriggerElem === void 0 ? function (locatorNode) {\n      return locatorNode;\n    } : _props$getTriggerElem,\n    _props$getPopupContai = props.getPopupContainer,\n    getPopupContainer = _props$getPopupContai === void 0 ? function () {\n      return document.body;\n    } : _props$getPopupContai;\n  var arrowWidth = Math.sqrt(2 * Math.pow(arrowSize, 2));\n  var componentName = (prefixCls === null || prefixCls === void 0 ? void 0 : prefixCls.split('-')[1]) || '';\n  (0,_devwarning__WEBPACK_IMPORTED_MODULE_24__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12___default()(Placements).call(Placements, placement) === -1, componentName, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context = \"cannot found \".concat(componentName, \" placement '\")).call(_context, placement, \"'\"));\n  var isWrongTrigger = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14___default()(trigger) ? _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_15___default()(trigger).call(trigger, function (v) {\n    return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_16___default()(Triggers).call(Triggers, v);\n  }) : _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12___default()(Triggers).call(Triggers, trigger) === -1;\n  (0,_devwarning__WEBPACK_IMPORTED_MODULE_24__[\"default\"])(isWrongTrigger, componentName, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context2 = \"cannot found \".concat(componentName, \" trigger '\")).call(_context2, trigger, \"'\"));\n  var locatorEl = (0,react__WEBPACK_IMPORTED_MODULE_19__.useRef)();\n  var popperEl = (0,react__WEBPACK_IMPORTED_MODULE_19__.useRef)();\n  var locatorRef = locatorElement.ref || locatorEl;\n  var popperRef = popperElement.ref || popperEl;\n  var container = getPopupContainer(locatorRef.current || document.body);\n  _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_17___default().resolve().then(function () {\n    var triggerNode = getTriggerElement(locatorRef.current);\n    var container = getPopupContainer(locatorRef.current);\n    (0,_devwarning__WEBPACK_IMPORTED_MODULE_24__[\"default\"])(!triggerNode, componentName, \"getTriggerElement() must return a HTMLElement, but now it does not return anything\");\n    (0,_devwarning__WEBPACK_IMPORTED_MODULE_24__[\"default\"])(!container, componentName, \"getPopupContainer() must return a HTMLElement, but now it does not return anything\");\n  });\n  var initPos = {\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    height: 0,\n    width: 0\n  };\n  var initAlign = {\n    top: 0,\n    left: 0\n  };\n  var gap = defalutGap + (arrow ? 10 : 0);\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_19__.useState)(initPos),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState, 2),\n    mousePos = _useState2[0],\n    setMousePos = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_19__.useState)(initAlign),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState3, 2),\n    arrowPos = _useState4[0],\n    setArrowPos = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_19__.useState)(!!props.visible || defaultVisible),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState5, 2),\n    exist = _useState6[0],\n    setExist = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_19__.useState)(!!props.visible || defaultVisible),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState7, 2),\n    canAlign = _useState8[0],\n    setCanAlign = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_19__.useState)(false),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState9, 2),\n    visible = _useState10[0],\n    setVisible = _useState10[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_19__.useEffect)(function () {\n    if (props.visible) {\n      !exist && setExist(true);\n      setCanAlign(true);\n      setVisible(true);\n    } else {\n      setVisible(false);\n    }\n  }, [exist, props.visible]);\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_19__.useState)(''),\n    _useState12 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState11, 2),\n    evType = _useState12[0],\n    setEvType = _useState12[1];\n  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_19__.useState)(),\n    _useState14 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState13, 2),\n    align = _useState14[0],\n    setAlign = _useState14[1];\n  var _useState15 = (0,react__WEBPACK_IMPORTED_MODULE_19__.useState)(placement),\n    _useState16 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState15, 2),\n    currentPlacement = _useState16[0],\n    setCurrentPlacement = _useState16[1];\n  var alignPopper = (0,react__WEBPACK_IMPORTED_MODULE_19__.useCallback)(function () {\n    /**\n     * locatorRef 触发器\n     * popperRef 浮层面板\n     * container 一般是body\n     */\n    if (locatorRef !== null && locatorRef !== void 0 && locatorRef.current && popperRef !== null && popperRef !== void 0 && popperRef.current) {\n      var _popperRef$current$ge = popperRef.current.getBoundingClientRect(),\n        popperWidth = _popperRef$current$ge.width;\n      var _locatorRef$current$g = locatorRef.current.getBoundingClientRect(),\n        top = _locatorRef$current$g.top,\n        bottom = _locatorRef$current$g.bottom,\n        left = _locatorRef$current$g.left,\n        right = _locatorRef$current$g.right,\n        height = _locatorRef$current$g.height,\n        width = _locatorRef$current$g.width;\n      var popperHeight = popperRef.current.clientHeight;\n      var _getOffsetPos = getOffsetPos(container),\n        containerTop = _getOffsetPos.top,\n        containerLeft = _getOffsetPos.left;\n      var _getOffsetPos2 = getOffsetPos(locatorRef.current),\n        locatorTop = _getOffsetPos2.top,\n        locatorLeft = _getOffsetPos2.left;\n      var _getScrollDist = getScrollDist(locatorRef.current.parentElement, container),\n        scrollTop = _getScrollDist.top,\n        scrollLeft = _getScrollDist.left;\n      var _getTranslatePos = getTranslatePos(locatorRef.current),\n        translateTop = _getTranslatePos.top,\n        translateLeft = _getTranslatePos.left;\n      var locatorPos = {\n        width: width,\n        height: height,\n        top: locatorTop + translateTop - containerTop - scrollTop,\n        left: locatorLeft + translateLeft - containerLeft - scrollLeft,\n        right: locatorLeft + translateLeft + width - containerLeft - scrollLeft,\n        bottom: locatorTop + translateTop + height - containerTop - scrollTop\n      };\n      var currentPos = trigger === 'contextMenu' ? mousePos : locatorPos;\n      var _currentPlacement = placement;\n\n      // 上高度不足，而下高度有余的时候，需要把定位挪到下面\n      if (top - gap - popperHeight <= 5 && bottom + gap + popperHeight < document.body.clientHeight - 5) {\n        _currentPlacement = _currentPlacement.replace('top', 'bottom');\n      }\n\n      // 下高度不足，而上高度有余的时候，需要把定位挪到上面\n      if (bottom + gap + popperHeight >= document.body.clientHeight - 5 && top - gap - popperHeight > 5) {\n        _currentPlacement = _currentPlacement.replace('bottom', 'top');\n      }\n      if (left + popperWidth >= document.body.clientWidth - 5 && right - popperWidth > 5) {\n        _currentPlacement = _currentPlacement.replace('Left', 'Right');\n      }\n      if (right - popperWidth <= 5 && left + popperWidth < document.body.clientWidth - 5) {\n        _currentPlacement = _currentPlacement.replace('Right', 'Left');\n      }\n      if (top + popperHeight >= document.body.clientHeight - 5 && bottom - popperHeight > 5) {\n        _currentPlacement = _currentPlacement.replace('Top', 'Bottom');\n      }\n      if (bottom - popperHeight <= 5 && top + popperHeight < document.body.clientHeight - 5) {\n        _currentPlacement = _currentPlacement.replace('Bottom', 'Top');\n      }\n      if (left - gap - popperWidth <= 5 && right + gap + popperWidth < document.body.clientWidth - 5) {\n        _currentPlacement = _currentPlacement.replace('left', 'right');\n      }\n      if (right + gap + popperWidth >= document.body.clientWidth - 5 && left - gap - popperWidth > 5) {\n        _currentPlacement = _currentPlacement.replace('right', 'left');\n      }\n      var leftLeft = currentPos.left - popperWidth - gap;\n      var topTop = currentPos.top - gap - popperHeight;\n      var bottomTop = currentPos.top + currentPos.height + gap;\n      var rightLeft = currentPos.left + currentPos.width - popperWidth;\n      var centerLeft = currentPos.left + (currentPos.width - popperWidth) / 2;\n      var centerTop = currentPos.top - (popperHeight - currentPos.height) / 2;\n      var topBottom = currentPos.bottom - popperHeight;\n      var leftRight = currentPos.right + gap;\n      var mapAlign = {\n        topLeft: {\n          left: currentPos.left,\n          top: topTop\n        },\n        top: {\n          left: centerLeft,\n          top: topTop\n        },\n        topRight: {\n          left: rightLeft,\n          top: topTop\n        },\n        bottomLeft: {\n          left: currentPos.left,\n          top: bottomTop\n        },\n        bottom: {\n          left: centerLeft,\n          top: bottomTop\n        },\n        bottomRight: {\n          left: rightLeft,\n          top: bottomTop\n        },\n        leftTop: {\n          left: leftLeft,\n          top: currentPos.top\n        },\n        left: {\n          left: leftLeft,\n          top: centerTop\n        },\n        leftBottom: {\n          left: leftLeft,\n          top: topBottom\n        },\n        rightTop: {\n          left: leftRight,\n          top: currentPos.top\n        },\n        right: {\n          left: leftRight,\n          top: centerTop\n        },\n        rightBottom: {\n          left: leftRight,\n          top: topBottom\n        }\n      };\n      var alignPos = mapAlign[_currentPlacement];\n      var _arrowPos = {\n        top: 0,\n        left: 0\n      };\n      if (/left/.test(_currentPlacement) || /right/.test(_currentPlacement)) {\n        if (/Top/.test(_currentPlacement)) {\n          _arrowPos.top = arrowOffset;\n        } else if (/Bottom/.test(_currentPlacement)) {\n          _arrowPos.top = popperHeight - arrowOffset - 2 * arrowSize;\n        } else {\n          _arrowPos.top = (popperHeight - arrowWidth) / 2 - 1;\n        }\n        if (top <= 0) {\n          alignPos.top = locatorPos.top;\n          _arrowPos.top = arrowOffset;\n        } else if (bottom - height / 4 >= document.body.clientHeight) {\n          alignPos.top = locatorPos.bottom - popperHeight;\n          _arrowPos.top = popperHeight - arrowOffset - 2 * arrowSize;\n        } else {\n          var _scrollTop = alignPos.top - window.pageYOffset;\n          var scrollBottom = alignPos.top + popperHeight - 5 - window.pageYOffset;\n          if (_scrollTop < 0) {\n            alignPos.top -= _scrollTop;\n            _arrowPos.top += _scrollTop;\n          }\n          if (scrollBottom > document.body.clientHeight) {\n            alignPos.top += document.body.clientHeight - scrollBottom;\n            _arrowPos.top += scrollBottom - document.body.clientHeight;\n          }\n        }\n      }\n      if (/top/.test(_currentPlacement) || /bottom/.test(_currentPlacement)) {\n        if (/Left/.test(_currentPlacement)) {\n          _arrowPos.left = arrowOffset;\n        } else if (/Right/.test(_currentPlacement)) {\n          _arrowPos.left = popperWidth - arrowOffset - 2 * arrowSize;\n        } else {\n          _arrowPos.left = (popperWidth - arrowWidth) / 2 - 1;\n        }\n      }\n      if (/bottom/.test(_currentPlacement)) {\n        // 当上下高度都不足时\n        if (bottom + gap + popperHeight >= document.body.clientHeight - 5 && top - gap - popperHeight <= 5) {\n          alignPos.top = document.body.clientHeight - 5 - popperHeight - gap;\n        }\n      }\n      setAlign(alignPos);\n      setArrowPos(_arrowPos);\n      setCurrentPlacement(_currentPlacement);\n    }\n  }, [locatorRef, popperRef, container, trigger, mousePos, placement, gap, arrowOffset, arrowSize, arrowWidth]);\n  (0,react__WEBPACK_IMPORTED_MODULE_19__.useEffect)(function () {\n    if (canAlign) {\n      alignPopper();\n      setCanAlign(false);\n      props.visible === undefined && setVisible(true);\n      onVisibleChange && onVisibleChange(true);\n    }\n  }, [alignPopper, canAlign, onVisibleChange, props]);\n  var arrowStyle = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, \"--arrowSize\", arrowSize + 'px'), \"--arrowSpill\", arrowWidth / -2 + 'px');\n  if (arrowPos.top) arrowStyle[\"--arrowTop\"] = arrowPos.top + 'px';\n  if (arrowPos.left) arrowStyle[\"--arrowLeft\"] = arrowPos.left + 'px';\n  var popperContainerStyle = _objectSpread(_objectSpread(_objectSpread({\n    position: 'absolute'\n  }, popperStyle), align), arrow ? arrowStyle : {});\n  var popperProps = {\n    ref: popperRef,\n    style: popperContainerStyle,\n    className: classnames__WEBPACK_IMPORTED_MODULE_23___default()(prefixCls, popperClassName, currentPlacement, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n      arrow: arrow,\n      hidden: !visible\n    }, \"\".concat(currentPlacement, \"-active\"), visible))\n  };\n  var popperNode = popperRef.current;\n  var locatorNode = locatorRef.current;\n  (0,_hooks__WEBPACK_IMPORTED_MODULE_25__.useResizeObserver)(popperNode, alignPopper);\n  (0,_hooks__WEBPACK_IMPORTED_MODULE_25__.useResizeObserver)(locatorNode, alignPopper);\n  (0,react__WEBPACK_IMPORTED_MODULE_19__.useEffect)(function () {\n    if (exist && visible) {\n      var mouseleaveTimer;\n      var handleHidePopper = function handleHidePopper(e) {\n        mouseleaveTimer && clearTimeout(mouseleaveTimer);\n        var triggerNode = getTriggerElement(locatorRef.current);\n        var triggerRect = triggerNode.getBoundingClientRect();\n        var popperRect = popperRef.current.getBoundingClientRect();\n        var left = /left/.test(currentPlacement) ? popperRect.right : triggerRect.left;\n        var right = /right/.test(currentPlacement) ? popperRect.left : triggerRect.right;\n        var top = /top/.test(currentPlacement) ? popperRect.bottom : triggerRect.top;\n        var bottom = /bottom/.test(currentPlacement) ? popperRect.top : triggerRect.bottom;\n        var X = e.clientX,\n          Y = e.clientY;\n        var inTriggerRect = X > left - 2 && X < right + 2 && Y > top - 2 && Y < bottom + 2;\n        var inPopperRect = X > popperRect.left && X < popperRect.right && Y > popperRect.top && Y < popperRect.bottom;\n        var ableArea = evType === 'click' || evType === 'contextmenu' ? inPopperRect : inTriggerRect || inPopperRect;\n        var hidePopper = function hidePopper() {\n          setEvType('');\n          props.visible === undefined && setVisible(false);\n          onVisibleChange && onVisibleChange(false);\n        };\n        if (ableArea) {\n          evType === 'focus' && triggerNode.focus();\n        } else {\n          evType === 'mouseenter' ? mouseleaveTimer = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_18___default()(hidePopper, mouseLeaveDelay * 1000) : hidePopper();\n        }\n      };\n      var debounceHidePopper = lodash_debounce__WEBPACK_IMPORTED_MODULE_22___default()(handleHidePopper, 10, {\n        leading: true\n      });\n      var mapEvent = {\n        mouseenter: 'mousemove',\n        click: 'click',\n        focus: 'click',\n        contextmenu: 'mousedown'\n      };\n      document.addEventListener(mapEvent[evType], debounceHidePopper);\n      return function () {\n        document.removeEventListener(mapEvent[evType], debounceHidePopper);\n      };\n    }\n  }, [props, exist, evType, trigger, visible, popperRef, locatorRef, mouseLeaveDelay, onVisibleChange, currentPlacement, getTriggerElement]);\n  (0,react__WEBPACK_IMPORTED_MODULE_19__.useEffect)(function () {\n    if (visible) {\n      var scrollAlign = lodash_debounce__WEBPACK_IMPORTED_MODULE_22___default()(function (e) {\n        var isPopperScroll = e.target === popperRef.current || popperRef.current.contains(e.target);\n        if (scrollHidden && !isPopperScroll) {\n          props.visible === undefined && setVisible(false);\n          onVisibleChange && onVisibleChange(false);\n        }\n        alignPopper();\n      }, 10);\n      window.addEventListener('resize', alignPopper);\n      document.addEventListener('scroll', scrollAlign, true);\n      locatorNode === null || locatorNode === void 0 || locatorNode.addEventListener('DOMSubtreeModified', alignPopper);\n      exist && (popperNode === null || popperNode === void 0 ? void 0 : popperNode.addEventListener('DOMSubtreeModified', alignPopper));\n      return function () {\n        window.removeEventListener('resize', alignPopper);\n        document.removeEventListener('scroll', scrollAlign, true);\n        locatorNode === null || locatorNode === void 0 || locatorNode.removeEventListener('DOMSubtreeModified', alignPopper);\n        exist && (popperNode === null || popperNode === void 0 ? void 0 : popperNode.removeEventListener('DOMSubtreeModified', alignPopper));\n      };\n    }\n  }, [alignPopper, exist, onVisibleChange, popperNode, props.visible, scrollHidden, locatorNode, visible, popperRef]);\n  react__WEBPACK_IMPORTED_MODULE_19___default().useEffect(function () {\n    var triggerNode = getTriggerElement(locatorRef.current);\n    if (triggerNode) {\n      var mouseenterTimer;\n      var clearMouseLeave = function clearMouseLeave() {\n        return clearTimeout(mouseenterTimer);\n      };\n      var addAction = function addAction(action) {\n        if (action === 'hover') {\n          triggerNode.addEventListener('mouseenter', debounceShowPopper);\n          triggerNode.addEventListener('mouseleave', clearMouseLeave);\n        } else {\n          triggerNode.addEventListener(action.toLowerCase(), debounceShowPopper);\n        }\n      };\n      var removeAction = function removeAction(action) {\n        if (action === 'hover') {\n          triggerNode.removeEventListener('mouseenter', debounceShowPopper);\n          triggerNode.removeEventListener('mouseleave', clearMouseLeave);\n        } else {\n          triggerNode.removeEventListener(action.toLowerCase(), debounceShowPopper);\n        }\n      };\n      var handleShowPopper = function handleShowPopper(e) {\n        e.preventDefault();\n        var evType = e.type;\n        if (evType === 'contextmenu') {\n          var currentMousePos = _objectSpread(_objectSpread({}, mousePos), {\n            left: e.pageX,\n            top: e.pageY,\n            right: e.pageX,\n            bottom: e.pageY\n          });\n          setMousePos(currentMousePos);\n        }\n        var showPopper = function showPopper(evType) {\n          if (!disabled) {\n            !exist && setExist(true);\n            setEvType(evType);\n            if (onTrigger) {\n              var mapTrigger = {\n                mouseenter: 'hover',\n                click: 'click',\n                focus: 'focus',\n                contextmenu: 'contextMenu'\n              };\n              onTrigger(mapTrigger[evType]);\n            }\n            if (!visible || evType === 'contextmenu') {\n              _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_18___default()(function () {\n                return setCanAlign(true);\n              }, 0);\n            }\n          }\n        };\n        if (evType === 'mouseenter') {\n          mouseenterTimer = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_18___default()(function () {\n            return showPopper(evType);\n          }, mouseEnterDelay * 1000);\n        } else {\n          showPopper(evType);\n        }\n      };\n      var debounceShowPopper = lodash_debounce__WEBPACK_IMPORTED_MODULE_22___default()(handleShowPopper, 10, {\n        leading: true\n      });\n      _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14___default()(trigger) ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(trigger).call(trigger, function (action) {\n        return addAction(action);\n      }) : addAction(trigger);\n      return function () {\n        _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14___default()(trigger) ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(trigger).call(trigger, function (action) {\n          return removeAction(action);\n        }) : removeAction(trigger);\n      };\n    }\n  }, [disabled, exist, getTriggerElement, locatorRef, mouseEnterDelay, mousePos, onTrigger, trigger, visible]);\n  var Locator = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_19__.cloneElement)(locatorElement, {\n    ref: locatorRef\n  });\n  var Popper = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default().createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default().createElement(\"div\", popperProps, popperElement));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default().createElement((react__WEBPACK_IMPORTED_MODULE_19___default().Fragment), null, Locator, exist && container && /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_20___default().createPortal(Popper, container));\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (usePopper);\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/usePopper.tsx?");

/***/ }),

/***/ 24776:
/*!*********************************************!*\
  !*** ../designer-utils/utils/xssFilters.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   xssFilters: function() { return /* binding */ xssFilters; }\n/* harmony export */ });\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dompurify */ 46595);\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction xssFilters() {\n  var dirty = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return dompurify__WEBPACK_IMPORTED_MODULE_0___default().sanitize(dirty);\n}\n\n//# sourceURL=webpack://entity-designer/../designer-utils/utils/xssFilters.ts?");

/***/ }),

/***/ 5272:
/*!**********************************!*\
  !*** ./src/constant/NodeType.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ENTITY_HAS_CHILD_TYPE: function() { return /* binding */ ENTITY_HAS_CHILD_TYPE; },\n/* harmony export */   ENTITY_INFO: function() { return /* binding */ ENTITY_INFO; },\n/* harmony export */   ENTITY_LIST_TYPE: function() { return /* binding */ ENTITY_LIST_TYPE; },\n/* harmony export */   ENTITY_NODE_TYPE: function() { return /* binding */ ENTITY_NODE_TYPE; },\n/* harmony export */   ENTITY_TYPE_ARR: function() { return /* binding */ ENTITY_TYPE_ARR; },\n/* harmony export */   ENTITY_TYPE_NOT_ADD: function() { return /* binding */ ENTITY_TYPE_NOT_ADD; },\n/* harmony export */   FIELD_BUSI_TYPE: function() { return /* binding */ FIELD_BUSI_TYPE; },\n/* harmony export */   RADIO_TYPES: function() { return /* binding */ RADIO_TYPES; },\n/* harmony export */   ROOT_NODE_TYPE: function() { return /* binding */ ROOT_NODE_TYPE; },\n/* harmony export */   SECOND_ENTITY_LIST_TYPE: function() { return /* binding */ SECOND_ENTITY_LIST_TYPE; }\n/* harmony export */ });\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_0__);\n\nvar FIELD_BUSI_TYPE = function FIELD_BUSI_TYPE() {\n  return {\n    StandardField: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0001'),\n    SystemField: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0002'),\n    InheritedField: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0003')\n  };\n};\nvar ENTITY_LIST_TYPE = function ENTITY_LIST_TYPE() {\n  return [{\n    name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0004'),\n    type: 'EntryEntity',\n    fieldName: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0005')\n  }, {\n    name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0006'),\n    type: 'TreeEntryEntity',\n    fieldName: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0007')\n  }];\n};\nvar SECOND_ENTITY_LIST_TYPE = function SECOND_ENTITY_LIST_TYPE() {\n  return [{\n    name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0011'),\n    type: 'SubEntryEntity',\n    fieldName: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0008')\n  }, {\n    name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0012'),\n    type: 'TreeSubEntryEntity',\n    fieldName: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0013')\n  }];\n};\nvar ENTITY_INFO = function ENTITY_INFO() {\n  return {\n    BillEntity: {\n      name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0009'),\n      icon: 'danjutou',\n      color: '#5582f3'\n    },\n    BaseEntity: {\n      name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0009'),\n      icon: 'danjutou',\n      color: '#5582f3'\n    },\n    EntryEntity: {\n      name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0005'),\n      icon: 'danjuti2',\n      color: '#8EA9E7'\n    },\n    SubEntryEntity: {\n      name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0008'),\n      icon: 'zidanjuti',\n      color: '#B0BAD1'\n    },\n    TreeEntryEntity: {\n      name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0010'),\n      icon: 'shuxing',\n      color: '#8EA9E7'\n    },\n    TreeSubEntryEntity: {\n      name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.getLangMsg)('entityd.nodeType.key0008'),\n      icon: 'zidanjuti',\n      color: '#B0BAD1'\n    }\n  };\n};\n\n// 所有的单据节点类型，包含根节点\nvar ENTITY_TYPE_ARR = ['BillEntity', 'EntryEntity', 'SubEntryEntity', 'BaseEntity', 'TreeEntryEntity', 'TreeSubEntryEntity'];\n\n// 三级单据体节点类型\nvar ENTITY_TYPE_NOT_ADD = ['SubEntryEntity', 'TreeSubEntryEntity'];\n\n// 根结点类型\nvar ROOT_NODE_TYPE = ['BillEntity', 'BaseEntity'];\n\n// 所有的单据体节点类型\nvar ENTITY_NODE_TYPE = ['EntryEntity', 'SubEntryEntity', 'TreeEntryEntity', 'TreeSubEntryEntity'];\n\n// 二级单据体节点类型\nvar ENTITY_HAS_CHILD_TYPE = ['EntryEntity', 'TreeEntryEntity'];\nvar RADIO_TYPES = ['RadioField', 'RadioGroupField'];\n\n//# sourceURL=webpack://entity-designer/./src/constant/NodeType.ts?");

/***/ }),

/***/ 63968:
/*!*************************************!*\
  !*** ./src/constant/actionnames.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SELECT_FIELD: function() { return /* binding */ SELECT_FIELD; }\n/* harmony export */ });\nvar SELECT_FIELD = 'selectField';\n\n//# sourceURL=webpack://entity-designer/./src/constant/actionnames.ts?");

/***/ }),

/***/ 83284:
/*!*******************************!*\
  !*** ./src/constant/const.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ENTITYNODE_HEADER_HEIGHT: function() { return /* binding */ ENTITYNODE_HEADER_HEIGHT; },\n/* harmony export */   ENTITYNODE_HEADER_WIDTH: function() { return /* binding */ ENTITYNODE_HEADER_WIDTH; },\n/* harmony export */   FIELDHEIGHT: function() { return /* binding */ FIELDHEIGHT; },\n/* harmony export */   MAXLENGTH: function() { return /* binding */ MAXLENGTH; },\n/* harmony export */   MINLENGTH: function() { return /* binding */ MINLENGTH; },\n/* harmony export */   MOREBUTTONHEIGHT: function() { return /* binding */ MOREBUTTONHEIGHT; },\n/* harmony export */   PANELMINHEIGHT: function() { return /* binding */ PANELMINHEIGHT; }\n/* harmony export */ });\nvar FIELDHEIGHT = 27;\nvar MOREBUTTONHEIGHT = 28;\nvar MINLENGTH = 5;\nvar MAXLENGTH = 10;\nvar PANELMINHEIGHT = 48;\nvar ENTITYNODE_HEADER_WIDTH = 200;\nvar ENTITYNODE_HEADER_HEIGHT = 36;\n\n//# sourceURL=webpack://entity-designer/./src/constant/const.ts?");

/***/ }),

/***/ 53684:
/*!***************************************!*\
  !*** ./src/constant/dataAttribute.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dataControlId: function() { return /* binding */ dataControlId; },\n/* harmony export */   dataMouseOver: function() { return /* binding */ dataMouseOver; },\n/* harmony export */   entitySelection: function() { return /* binding */ entitySelection; },\n/* harmony export */   fieldSelection: function() { return /* binding */ fieldSelection; }\n/* harmony export */ });\n// 控件对应的唯一ID\nvar dataControlId = 'data-control-id';\n\n// 字段选中\nvar fieldSelection = 'field-selection';\n\n// 单据节点选中\nvar entitySelection = 'entity-selection';\n\n// 鼠标划入(hover效果)\nvar dataMouseOver = 'data-mouse-over';\n\n//# sourceURL=webpack://entity-designer/./src/constant/dataAttribute.ts?");

/***/ }),

/***/ 40216:
/*!*********************************!*\
  !*** ./src/constant/keyCode.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// 键盘键值码 并不全 慢慢补充\nvar KEYS = {\n  0: 48,\n  1: 49,\n  2: 50,\n  3: 51,\n  4: 52,\n  5: 53,\n  6: 54,\n  7: 55,\n  8: 56,\n  9: 57,\n  A: 65,\n  B: 66,\n  C: 67,\n  D: 68,\n  E: 69,\n  F: 70,\n  G: 71,\n  H: 72,\n  I: 73,\n  J: 74,\n  K: 75,\n  L: 76,\n  M: 77,\n  N: 78,\n  O: 79,\n  P: 80,\n  Q: 81,\n  R: 82,\n  S: 83,\n  T: 84,\n  U: 85,\n  V: 86,\n  W: 87,\n  X: 88,\n  Y: 89,\n  Z: 90,\n  F1: 112,\n  F2: 113,\n  F3: 114,\n  F4: 115,\n  F5: 116,\n  F6: 117,\n  F7: 118,\n  F8: 119,\n  F9: 120,\n  F10: 121,\n  F11: 122,\n  F12: 123,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  CONTROL: 17,\n  ALT: 18,\n  ESC: 27,\n  ESCAPE: 27,\n  SPACE: 32,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  ARROWLEFT: 37,\n  UP: 38,\n  ARROWUP: 38,\n  RIGHT: 39,\n  ARROWRIGHT: 39,\n  DOWN: 40,\n  ARROWDOWN: 40,\n  DELETE: 46,\n  META: 91,\n  '*': 106,\n  '+': 107,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  ']': 221\n  // 反斜杠需和后端讨论显示问题\n  // '\\: 220\n};\n\n// 补充几种中文输入法下的status\n// KEYS.SEMICOLON = 186 // Semicolon(; ；)\n// KEYS.EQUAL = 187 // Equal(==)\n// KEYS.COMMA = 188 // Comma(.，)\n// KEYS.MINUS = 189 // Minus(--)\n// KEYS.PERIOD = 190 // Period(.。)\n// KEYS.SLASH = 191 // Slash(? /)\n// KEYS.BACKQUOTE = 192 // Backquote(`·)\n// KEYS.BRACKETLEFT = 219 // BracketLeft([【)\n// KEYS.BRACKETRIGHT = 221 // BracketRight(]】)\n// KEYS.BACKSLASH = 11 // Backslash(\\、)\n// KEYS.QUOTE = 229 // Quote(')\n\n// 小键盘相关 小键盘status为 PAD + status\n// KEYS.PAD0 = 96 // pad(0)\n// KEYS.PAD1 = 97 // pad(1)\n// KEYS.PAD2 = 98 // pad(2)\n// KEYS.PAD3 = 99 // pad(3)\n// KEYS.PAD4 = 100 // pad(4)\n// KEYS.PAD5 = 101 // pad(5)\n// KEYS.PAD6 = 102 // pad(6)\n// KEYS.PAD7 = 103 // pad(7)\n// KEYS.PAD8 = 104 // pad(8)\n// KEYS.PAD9 = 105 // pad(9)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (KEYS);\n\n//# sourceURL=webpack://entity-designer/./src/constant/keyCode.ts?");

/***/ }),

/***/ 75452:
/*!*************************************!*\
  !*** ./src/constant/propertyMap.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// 拓展写法: ['fieldKey', 'mapKey'] 如果是默认写法: 'fieldKey' -> ['fieldKey', 'fieldKey']\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  UndefinedControl: ['Name', 'Id', 'FieldName', 'Key', '_Type_'],\n  BillStatusField: ['Name', 'Id', 'FieldName', 'Key', '_Type_'],\n  BillNoField: ['Name', 'Id', 'FieldName', 'Key', '_Type_'],\n  CreaterField: ['Name', 'Id', 'FieldName', 'Key', '_Type_'],\n  ModifierField: ['Name', 'Id', 'FieldName', 'Key', '_Type_']\n});\n\n//# sourceURL=webpack://entity-designer/./src/constant/propertyMap.ts?");

/***/ }),

/***/ 30096:
/*!***********************************!*\
  !*** ./src/constant/propnames.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION: function() { return /* binding */ ACTION; },\n/* harmony export */   BASETYPE: function() { return /* binding */ BASETYPE; },\n/* harmony export */   CATEGORIES: function() { return /* binding */ CATEGORIES; },\n/* harmony export */   CHILDERN: function() { return /* binding */ CHILDERN; },\n/* harmony export */   CONTROLS: function() { return /* binding */ CONTROLS; },\n/* harmony export */   DATASCOPE: function() { return /* binding */ DATASCOPE; },\n/* harmony export */   EDITOR: function() { return /* binding */ EDITOR; },\n/* harmony export */   ELEMENTTYPES: function() { return /* binding */ ELEMENTTYPES; },\n/* harmony export */   ENUM: function() { return /* binding */ ENUM; },\n/* harmony export */   FIELDNAME: function() { return /* binding */ FIELDNAME; },\n/* harmony export */   FieldType: function() { return /* binding */ FieldType; },\n/* harmony export */   ID: function() { return /* binding */ ID; },\n/* harmony export */   ISDATASOURCE: function() { return /* binding */ ISDATASOURCE; },\n/* harmony export */   ISUNIQUE: function() { return /* binding */ ISUNIQUE; },\n/* harmony export */   ITEMS: function() { return /* binding */ ITEMS; },\n/* harmony export */   KEY: function() { return /* binding */ KEY; },\n/* harmony export */   MAXLENGTH: function() { return /* binding */ MAXLENGTH; },\n/* harmony export */   NAME: function() { return /* binding */ NAME; },\n/* harmony export */   PACKAGENAME: function() { return /* binding */ PACKAGENAME; },\n/* harmony export */   PARENTID: function() { return /* binding */ PARENTID; },\n/* harmony export */   PROPERTIES: function() { return /* binding */ PROPERTIES; },\n/* harmony export */   PROPERTYNAME: function() { return /* binding */ PROPERTYNAME; },\n/* harmony export */   TYPE: function() { return /* binding */ TYPE; },\n/* harmony export */   _TYPE_: function() { return /* binding */ _TYPE_; },\n/* harmony export */   action: function() { return /* binding */ action; },\n/* harmony export */   condition: function() { return /* binding */ condition; },\n/* harmony export */   items: function() { return /* binding */ items; },\n/* harmony export */   length: function() { return /* binding */ length; },\n/* harmony export */   name: function() { return /* binding */ name; },\n/* harmony export */   scope: function() { return /* binding */ scope; },\n/* harmony export */   type: function() { return /* binding */ type; }\n/* harmony export */ });\nvar ID = 'Id';\nvar TYPE = 'Type';\nvar FieldType = 'FieldType';\nvar _TYPE_ = '_Type_';\nvar KEY = 'Key';\nvar NAME = 'Name';\nvar PARENTID = 'ParentId';\nvar ITEMS = 'Items';\nvar CHILDERN = 'children';\nvar ISDATASOURCE = 'IsDS';\nvar ISUNIQUE = 'isUnique';\nvar MAXLENGTH = 'MaxLength';\nvar DATASCOPE = 'DataScope';\nvar ENUM = 'Enum';\nvar CATEGORIES = 'Categories';\nvar ELEMENTTYPES = 'ElementTypes';\nvar BASETYPE = 'BaseType';\nvar PACKAGENAME = 'PackageName';\nvar PROPERTIES = 'Properties';\nvar ACTION = 'Action';\nvar EDITOR = 'Editor';\nvar CONTROLS = 'Controls';\nvar PROPERTYNAME = 'PropertyName';\nvar FIELDNAME = 'FieldName';\nvar type = 'type';\nvar name = 'name';\nvar length = 'length';\nvar scope = 'scope';\nvar items = 'items';\nvar condition = 'condition';\nvar action = 'action';\n\n//# sourceURL=webpack://entity-designer/./src/constant/propnames.ts?");

/***/ }),

/***/ 90115:
/*!******************************!*\
  !*** ./src/context/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DesignerContext: function() { return /* binding */ DesignerContext; },\n/* harmony export */   MainCardViewContext: function() { return /* binding */ MainCardViewContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * @Author: gongzhe\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-23 14:21:13\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-27 16:11:22\n * @Description: ...\n */\n\n\n// 设计器context，用于顶层entity-designer向下传入数据\n\nvar DesignerContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext({});\nDesignerContext.displayName = 'DesignerContext';\n\n// 实体设计器主视图context，用于向下传递data和meta\n// interface IMainViewContext {\n//     getData: () => {\n//       Items: [{\n//         Key: string,\n//         Name: string\n//       }]\n//     }\n// }\n// export const MainViewContext = createContext<IMainViewContext>({} as IMainViewContext)\n// MainViewContext.displayName = 'MainViewContext'\n\n// 实体设计器卡片视图context，用于向下传递位置、方向信息\n\nvar MainCardViewContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});\nMainCardViewContext.displayName = 'MainCardViewContext';\n\n//# sourceURL=webpack://entity-designer/./src/context/index.ts?");

/***/ }),

/***/ 45780:
/*!**************************************!*\
  !*** ./src/controls/ContextMenu.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ 71536);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nfunction ContextMenu(_ref) {\n  var config = _ref.config,\n    mousePosition = _ref.mousePosition,\n    onContextItemClick = _ref.onContextItemClick,\n    closeContextMenu = _ref.closeContextMenu;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_4__.DesignerContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var mainViewPrfixCls = getPrefixCls && getPrefixCls(prefixCls, 'main-view');\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    selectValue = _useState2[0],\n    setSelectValue = _useState2[1];\n  var contextRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  var contextMenu = {\n    showType: '1',\n    showKey: '2'\n  };\n  var onChange1 = function onChange1(value) {\n    var showType = false;\n    var showKey = false;\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(value).call(value, contextMenu.showType)) {\n      showType = true;\n    }\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(value).call(value, contextMenu.showKey)) {\n      showKey = true;\n    }\n    onContextItemClick(showType, showKey);\n  };\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.useOnClickOutside)([contextRef], function () {\n    closeContextMenu();\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    var selectVal = [];\n    var showType = config.showType,\n      showKey = config.showKey;\n    if (showType) {\n      selectVal.push(contextMenu.showType);\n    }\n    if (showKey) {\n      selectVal.push(contextMenu.showKey);\n    }\n    setSelectValue(selectVal);\n  }, [config]);\n  return /*#__PURE__*/(0,react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: mainViewPrfixCls + '-context-menu',\n    style: {\n      left: mousePosition.x,\n      top: mousePosition.y\n    },\n    ref: contextRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__.Checkbox.Group, {\n    onChange: onChange1,\n    value: selectValue,\n    checkboxType: \"default\",\n    className: mainViewPrfixCls + '-context-menu-checkbox'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__.Checkbox, {\n    className: mainViewPrfixCls + '-context-menu-item',\n    value: contextMenu.showType\n  }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.getLangMsg)('entityd.contextMenu.key0001')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__.Checkbox, {\n    className: mainViewPrfixCls + '-context-menu-item',\n    value: contextMenu.showKey\n  }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.getLangMsg)('entityd.contextMenu.key0002')))), document.body);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.ErrorBoundaryWrap)(ContextMenu, 'ed-context-menu'));\n\n//# sourceURL=webpack://entity-designer/./src/controls/ContextMenu.tsx?");

/***/ }),

/***/ 29488:
/*!*************************************!*\
  !*** ./src/controls/EntityNode.tsx ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_flow_renderer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-flow-renderer */ 98752);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _constant_NodeType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../constant/NodeType */ 5272);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _FieldNode__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./FieldNode */ 72492);\n/* harmony import */ var _hooks_useGetControlAllProps__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../hooks/useGetControlAllProps */ 83588);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _constant_dataAttribute__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../constant/dataAttribute */ 53684);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/index */ 63612);\n/* harmony import */ var _constant_actionnames__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../constant/actionnames */ 63968);\n/* harmony import */ var _constant_const__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../constant/const */ 83284);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar EntityNode = function EntityNode(_ref) {\n  var _data$size;\n  var data = _ref.data,\n    id = _ref.id;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context__WEBPACK_IMPORTED_MODULE_11__.MainCardViewContext),\n    layoutDirection = _useContext.layoutDirection,\n    onClickShowMoreBtn = _useContext.onClickShowMoreBtn,\n    nodeContentVisibleConfig = _useContext.nodeContentVisibleConfig;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    isSelected = _useState2[0],\n    setSelected = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState3, 2),\n    showEntityTypeList = _useState4[0],\n    setShowList = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(data.showMore),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState5, 2),\n    showMore = _useState6[0],\n    setShowMore = _useState6[1];\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.GlobalConfigContext),\n    showMessage = _useContext2.showMessage;\n  var isHorizontal = layoutDirection === 'LR'; // 水平\n  var title = data.title,\n    entityName = data.entityName,\n    entityIcon = data.entityIcon,\n    items = data.items,\n    properties = data.properties,\n    entityType = data.entityType;\n  var entityNodeRef = (0,react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);\n  var entitylistRef = (0,react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);\n  var _useContext3 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context__WEBPACK_IMPORTED_MODULE_11__.DesignerContext),\n    getKdesignerApi = _useContext3.getKdesignerApi,\n    invokeAction = _useContext3.invokeAction,\n    getPrefixCls = _useContext3.getPrefixCls,\n    prefixCls = _useContext3.prefixCls;\n  var kdesignerApi = (0,react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var metaApi = kdesignerApi.meta;\n  var dataContext = kdesignerApi.data;\n  var selectionContext = kdesignerApi.selection;\n  var rootClass = getPrefixCls && getPrefixCls(prefixCls, 'controls-entity-node');\n  var uiModel = kdesignerApi.uiModel;\n  var isRoot = (0,_utils_index__WEBPACK_IMPORTED_MODULE_18__.isRootNode)(entityType);\n  var isSecondLevel = (0,_utils_index__WEBPACK_IMPORTED_MODULE_18__.isEntryEntityNode)(entityType);\n  var controlProps = (0,_hooks_useGetControlAllProps__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(properties);\n  var selectionCallBack = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (selection) {\n    var value = selection.value;\n    var isNodeSel = value === null || value === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(value).call(value, id);\n    if (!isNodeSel) {\n      var fieldSlect = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default()(value).call(value, function (i) {\n        var entityInfo = uiModel.getEntityFieldInfo(i) || {};\n        return entityInfo[_constant_propnames__WEBPACK_IMPORTED_MODULE_16__.PARENTID] === id && !(0,_utils_index__WEBPACK_IMPORTED_MODULE_18__.isEntity)(entityInfo[_constant_propnames__WEBPACK_IMPORTED_MODULE_16__._TYPE_]);\n      });\n      setSelected(fieldSlect !== undefined);\n    } else {\n      setSelected(isNodeSel);\n    }\n  }, [id]);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    // 1. 选中监听放在顶层，selection无需通过props往下传\n    // 2. 如需要selection，AP层自行监听SelectionContext\n    var selectvalue = selectionContext.getSelection();\n    selectionCallBack({\n      value: selectvalue\n    });\n    var removeSelectionListener = selectionContext.addSelectChangeListener(selectionCallBack);\n    return function () {\n      removeSelectionListener();\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    if (isSelected) {\n      var _entityNodeRef$curren, _entityNodeRef$curren2;\n      (_entityNodeRef$curren = entityNodeRef.current) === null || _entityNodeRef$curren === void 0 || _entityNodeRef$curren.setAttribute(_constant_dataAttribute__WEBPACK_IMPORTED_MODULE_17__.entitySelection, 'true');\n      if (entityNodeRef !== null && entityNodeRef !== void 0 && (_entityNodeRef$curren2 = entityNodeRef.current) !== null && _entityNodeRef$curren2 !== void 0 && _entityNodeRef$curren2.parentElement) {\n        // reactflow元素节点的z-index为3，选中元素的层级设置成4才能保证 选择面板不被其他节点覆盖\n        entityNodeRef.current.parentElement.style.zIndex = '4';\n      }\n    } else {\n      var _entityNodeRef$curren3, _entityNodeRef$curren4;\n      (_entityNodeRef$curren3 = entityNodeRef.current) === null || _entityNodeRef$curren3 === void 0 || _entityNodeRef$curren3.removeAttribute(_constant_dataAttribute__WEBPACK_IMPORTED_MODULE_17__.entitySelection);\n      if (entityNodeRef !== null && entityNodeRef !== void 0 && (_entityNodeRef$curren4 = entityNodeRef.current) !== null && _entityNodeRef$curren4 !== void 0 && _entityNodeRef$curren4.parentElement) {\n        entityNodeRef.current.parentElement.style.zIndex = '3';\n      }\n    }\n  }, [isSelected]);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    setShowMore(data.showMore);\n  }, [data.showMore]);\n  var addBtton = classnames__WEBPACK_IMPORTED_MODULE_15___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, rootClass + '-add-entity-button', true), rootClass + '-add-entity-button-lr', isHorizontal), rootClass + '-add-entity-button-tb', !isHorizontal));\n  var handleCloseEntityTypeListPanel = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function () {\n    if (!showEntityTypeList) return;\n    setShowList(false);\n  }, [showEntityTypeList]);\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.useOnClickOutside)([entitylistRef], function () {\n    handleCloseEntityTypeListPanel();\n  });\n  var addEntityNode = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (node) {\n    var controlType = node.type,\n      fieldName = node.fieldName;\n    if (!controlType) {\n      showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.getLangMsg)('entityd.entityNode.key0001'));\n      return;\n    }\n\n    // const { IsContainer = false } = metaApi.getControlMeta(controlType)\n    // const parentId = IsContainer ? activeSelectedId : (dataContext.getParentControlId(activeSelectedId) || rootId)\n    var parentId = id;\n    var parentControlType = dataContext.findControl(parentId)[_constant_propnames__WEBPACK_IMPORTED_MODULE_16__._TYPE_];\n    var canAdd = metaApi.canAdd(controlType, parentControlType);\n    if (!canAdd) {\n      showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.getLangMsg)('entityd.entityNode.key0002'));\n      return;\n    }\n    var newControl = {\n      _Type_: controlType,\n      ParentId: parentId,\n      Name: fieldName,\n      Id: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.createUUid)()\n    };\n    dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.createAddAction)(newControl)).then(function (actions) {\n      var realControl = actions[0].value;\n      selectionContext.setSelect(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_5___default()(realControl) ? [realControl[0][_constant_propnames__WEBPACK_IMPORTED_MODULE_16__.ID]] : [realControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_16__.ID]]);\n    });\n  }, [id]);\n  var handleAddEntityClick = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (e) {\n    if (showEntityTypeList) return;\n    e.stopPropagation();\n    setShowList(true);\n  }, [showEntityTypeList]);\n  var handleAddButtonClick = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (isStd) {\n    invokeAction && invokeAction(_constant_actionnames__WEBPACK_IMPORTED_MODULE_19__.SELECT_FIELD, [id, isStd]);\n  }, [id, invokeAction]);\n  var handleShowMoreBtnClick = function handleShowMoreBtnClick() {\n    setShowMore(!showMore);\n    onClickShowMoreBtn(id, !showMore);\n  };\n  var listData = (0,react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {\n    var listData = [];\n    if (isRoot) {\n      listData = (0,_constant_NodeType__WEBPACK_IMPORTED_MODULE_10__.ENTITY_LIST_TYPE)();\n    } else if (isSecondLevel) {\n      listData = (0,_constant_NodeType__WEBPACK_IMPORTED_MODULE_10__.SECOND_ENTITY_LIST_TYPE)();\n    }\n    return listData;\n  }, [isRoot, isSecondLevel]);\n\n  // 暂时通过opacity控制handle的显示隐藏，因为通过&&控制Handle组件的显示隐藏会导致新增节点没有连接线的问题\n  var targetStyle = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    cursor: 'auto',\n    border: '0px',\n    background: 'none',\n    borderRadius: '0px',\n    opacity: data.hasParent ? 1 : 0\n  }, isHorizontal ? {\n    height: '11px',\n    width: '6px',\n    left: '-10px'\n  } : {\n    height: '6px',\n    width: '11px',\n    top: '-10px'\n  });\n  var sourceStyle = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    cursor: 'auto',\n    border: '0px',\n    background: 'none',\n    borderRadius: '0',\n    backgroundColor: '#999',\n    opacity: data.hasChildren ? 1 : 0\n  }, isHorizontal ? {\n    height: '11px',\n    width: '1px'\n  } : {\n    height: '1px',\n    width: '11px'\n  });\n  var showFullRelationship = nodeContentVisibleConfig.showFullRelationship;\n  var entityNodeHeaderIcon = classnames__WEBPACK_IMPORTED_MODULE_15___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, rootClass + '-header-icon', true), rootClass + '-header-icon-root', isRoot), rootClass + '-header-icon-entity', _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_10__.ENTITY_HAS_CHILD_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_10__.ENTITY_HAS_CHILD_TYPE, entityType)), rootClass + '-header-icon-subentity', _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_10__.ENTITY_TYPE_NOT_ADD).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_10__.ENTITY_TYPE_NOT_ADD, entityType)));\n  var entityNodeHeaderClass = classnames__WEBPACK_IMPORTED_MODULE_15___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, rootClass + '-header', true), rootClass + '-header border-bottom', !showFullRelationship));\n  var hasMore = items.length > 5;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    className: rootClass\n  }, controlProps, {\n    ref: entityNodeRef,\n    style: {\n      width: (_data$size = data.size) === null || _data$size === void 0 ? void 0 : _data$size.width\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(react_flow_renderer__WEBPACK_IMPORTED_MODULE_8__.Handle, {\n    type: \"target\",\n    position: isHorizontal ? react_flow_renderer__WEBPACK_IMPORTED_MODULE_8__.Position.Left : react_flow_renderer__WEBPACK_IMPORTED_MODULE_8__.Position.Top,\n    id: \"a\",\n    style: targetStyle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(TargetHandle, {\n    isHorizontal: isHorizontal,\n    rootClass: rootClass\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(react_flow_renderer__WEBPACK_IMPORTED_MODULE_8__.Handle, {\n    type: \"source\",\n    position: isHorizontal ? react_flow_renderer__WEBPACK_IMPORTED_MODULE_8__.Position.Right : react_flow_renderer__WEBPACK_IMPORTED_MODULE_8__.Position.Bottom,\n    id: \"b\",\n    style: sourceStyle\n  }), isSelected && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Buttons, {\n    click: handleAddButtonClick,\n    rootClass: rootClass\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: entityNodeHeaderClass\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n    prefix: \"designericon\",\n    type: entityIcon,\n    className: entityNodeHeaderIcon\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: rootClass + '-header-title',\n    title: title\n  }, title)), !showFullRelationship && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: rootClass + '-content',\n    style: {\n      maxHeight: showMore ? _constant_const__WEBPACK_IMPORTED_MODULE_20__.FIELDHEIGHT * _constant_const__WEBPACK_IMPORTED_MODULE_20__.MAXLENGTH : _constant_const__WEBPACK_IMPORTED_MODULE_20__.FIELDHEIGHT * _constant_const__WEBPACK_IMPORTED_MODULE_20__.MINLENGTH\n    }\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(items).call(items, function (item) {\n    var id = item.id,\n      key = item.key,\n      name = item.name,\n      properties = item.properties,\n      typeName = item.typeName;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_FieldNode__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n      key: id,\n      code: key,\n      name: name,\n      typeName: typeName,\n      id: id,\n      properties: properties,\n      kdesignerApi: kdesignerApi\n    });\n  })), !showFullRelationship && hasMore && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: rootClass + '-foot',\n    onClick: handleShowMoreBtnClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n    prefix: \"designericon\",\n    type: showMore ? 'xialajiantoufanxiang' : 'xialajiantou'\n  })), isSelected && !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_10__.ENTITY_TYPE_NOT_ADD).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_10__.ENTITY_TYPE_NOT_ADD, entityType) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n    prefix: \"designericon\",\n    type: \"tianjiakapian\",\n    className: addBtton,\n    onClick: handleAddEntityClick\n  }), showEntityTypeList && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(EntityTypeListPanel, {\n    listData: listData,\n    close: handleCloseEntityTypeListPanel,\n    isHorizontal: isHorizontal,\n    addEntityNode: addEntityNode,\n    entitylistRef: entitylistRef,\n    rootClass: rootClass\n  }));\n};\nvar TargetHandle = function TargetHandle(_ref2) {\n  var isHorizontal = _ref2.isHorizontal,\n    rootClass = _ref2.rootClass;\n  var handleClass = rootClass + (isHorizontal ? '-target-handle-horizontal' : '-target-handle-vertical');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: handleClass\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"span\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"span\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"span\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"span\", null));\n};\nvar Buttons = function Buttons(_ref3) {\n  var click = _ref3.click,\n    rootClass = _ref3.rootClass;\n  var handleAddButtonClick = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (e, isStd) {\n    e.stopPropagation();\n    click && click(isStd);\n  }, [click]);\n  // const buttonbox = classnames({\n  //   [rootClass + '-add-field-buttonbox']: true,\n  //   addbutton: true\n  // })\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: rootClass + '-add-field-buttonbox'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: rootClass + '-add-field-buttonbox-leftitem',\n    onClick: function onClick(e) {\n      return handleAddButtonClick(e, false);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n    prefix: \"designericon\",\n    type: \"tianjiaziji\",\n    className: rootClass + '-add-field-buttonbox-leftitem-icon'\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"span\", {\n    className: rootClass + '-add-field-buttonbox-leftitem-title'\n  }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.getLangMsg)('entityd.entityNode.key0003'))));\n};\nvar EntityTypeListPanel = function EntityTypeListPanel(_ref4) {\n  var listData = _ref4.listData,\n    close = _ref4.close,\n    isHorizontal = _ref4.isHorizontal,\n    addEntityNode = _ref4.addEntityNode,\n    entitylistRef = _ref4.entitylistRef,\n    rootClass = _ref4.rootClass;\n  var entityTypeList = classnames__WEBPACK_IMPORTED_MODULE_15___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, rootClass + '-entity-type-list', true), rootClass + '-entity-type-list-lr', isHorizontal), rootClass + '-entity-type-list-tb', !isHorizontal));\n  var handleItemClick = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (e, item) {\n    e.stopPropagation();\n    addEntityNode && addEntityNode(item);\n    close && close();\n  }, [close, addEntityNode]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: entityTypeList,\n    ref: entitylistRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: rootClass + '-entity-type-list-header'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"span\", {\n    className: rootClass + '-entity-type-list-header-name'\n  }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.getLangMsg)('entityd.entityNode.key0004')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n    prefix: \"designericon\",\n    type: \"guanbi\",\n    className: rootClass + '-entity-type-list-header-icon',\n    onClick: close\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: rootClass + '-entity-type-list-constent'\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(listData).call(listData, function (item, index) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n      key: index,\n      className: rootClass + '-entity-type-list-constent-item',\n      onClick: function onClick(e) {\n        return handleItemClick(e, item);\n      }\n    }, item.name);\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.ErrorBoundaryWrap)(EntityNode, 'ed-entity-node'));\n\n//# sourceURL=webpack://entity-designer/./src/controls/EntityNode.tsx?");

/***/ }),

/***/ 72492:
/*!************************************!*\
  !*** ./src/controls/FieldNode.tsx ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _hooks_useGetControlAllProps__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../hooks/useGetControlAllProps */ 83588);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _constant_dataAttribute__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constant/dataAttribute */ 53684);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\nvar FieldNode = function FieldNode(_ref) {\n  var id = _ref.id,\n    code = _ref.code,\n    name = _ref.name,\n    typeName = _ref.typeName,\n    properties = _ref.properties,\n    kdesignerApi = _ref.kdesignerApi;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    isSelected = _useState2[0],\n    setSelected = _useState2[1];\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context__WEBPACK_IMPORTED_MODULE_8__.DesignerContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context__WEBPACK_IMPORTED_MODULE_8__.MainCardViewContext),\n    nodeContentVisibleConfig = _useContext2.nodeContentVisibleConfig;\n  var fieldNodeRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n  var dataContext = kdesignerApi.data;\n  var rootClass = getPrefixCls && getPrefixCls(prefixCls, 'controls-entity-node-field');\n  var getIcon = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {\n    var constcontrolInfo = dataContext.findControl(id) || {};\n    var inherit = constcontrolInfo.Inherit;\n    if (inherit) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n        title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.fieldNode.key0001'),\n        className: rootClass + '-icon'\n      });\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n        className: rootClass + '-noicon'\n      });\n    }\n    // switch (fildBusiType) {\n    //   case FIELD_BUSI_TYPE.StandardField: {\n    //     return <i />\n    //   }\n    //   case FIELD_BUSI_TYPE.SystemField: {\n    //     return <i />\n    //   }\n    //   case FIELD_BUSI_TYPE.InheritedField: {\n    //     return <i />\n    //   }\n    //   default: {\n    //     return <i />\n    //   }\n    // }\n  }, [id]);\n  var selectionContext = kdesignerApi.selection;\n  // const metaApi = kdesignerApi.meta\n\n  var selectionCallBack = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function (selection) {\n    var value = selection.value;\n    var newSel = value === null || value === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(value).call(value, id);\n    setSelected(newSel);\n  }, [id]);\n\n  // const typeName = metaApi.getControlMeta(type)[NAME]\n\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    // 1. 选中监听放在顶层，selection无需通过props往下传\n    // 2. 如需要selection，AP层自行监听SelectionContext\n    var selectvalue = selectionContext.getSelection();\n    var newSel = selectvalue === null || selectvalue === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(selectvalue).call(selectvalue, id);\n    setSelected(newSel);\n    var removeSelectionListener = selectionContext.addSelectChangeListener(selectionCallBack);\n    return function () {\n      removeSelectionListener();\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    if (isSelected) {\n      var _fieldNodeRef$current;\n      (_fieldNodeRef$current = fieldNodeRef.current) === null || _fieldNodeRef$current === void 0 || _fieldNodeRef$current.setAttribute(_constant_dataAttribute__WEBPACK_IMPORTED_MODULE_7__.fieldSelection, 'true');\n    } else {\n      var _fieldNodeRef$current2;\n      (_fieldNodeRef$current2 = fieldNodeRef.current) === null || _fieldNodeRef$current2 === void 0 || _fieldNodeRef$current2.removeAttribute(_constant_dataAttribute__WEBPACK_IMPORTED_MODULE_7__.fieldSelection);\n    }\n  }, [isSelected]);\n  var allProps = (0,_hooks_useGetControlAllProps__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(properties);\n  var showKey = nodeContentVisibleConfig.showKey,\n    showType = nodeContentVisibleConfig.showType;\n  var fieldNameClass = classnames__WEBPACK_IMPORTED_MODULE_9___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, rootClass + '-name', true), rootClass + '-name-hidekey', !showKey));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    className: rootClass\n  }, allProps, {\n    ref: fieldNodeRef\n  }), getIcon(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: fieldNameClass,\n    title: name\n  }, name), showKey && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: rootClass + '-code',\n    title: code\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", null, \"\\uFF08\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", {\n    className: rootClass + '-code-content'\n  }, code), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", null, \"\\uFF09\")), showType && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: rootClass + '-type'\n  }, typeName));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.ErrorBoundaryWrap)(FieldNode, 'ed-field-node'));\n\n//# sourceURL=webpack://entity-designer/./src/controls/FieldNode.tsx?");

/***/ }),

/***/ 87432:
/*!************************************!*\
  !*** ./src/controls/ListTable.tsx ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _utils_entityMeta__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/entityMeta */ 78968);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _constant_actionnames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../constant/actionnames */ 63968);\n/* harmony import */ var _utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/toolbarUtil */ 51032);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_12__);\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar columns = function columns() {\n  return [{\n    code: 'Key',\n    name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0001'),\n    width: 200,\n    features: {\n      sortable: true,\n      filterable: true\n    }\n  }, {\n    code: 'Name',\n    name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0002'),\n    width: 220,\n    features: {\n      sortable: true,\n      filterable: true\n    }\n  }, {\n    code: '_Type_',\n    name: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0003'),\n    width: 150,\n    features: {\n      sortable: true,\n      filterable: true\n    }\n  }];\n};\nvar keys = ['Key', 'Name', '_Type_', 'Id', 'ParentId'];\nvar ListTable = function ListTable(_ref) {\n  var kdesignerApi = _ref.kdesignerApi,\n    tableData = _ref.tableData,\n    allselectedArr = _ref.allselectedArr;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.GlobalConfigContext),\n    showMessage = _useContext.showMessage,\n    controlsAddedByForntEnd = _useContext.controlsAddedByForntEnd,\n    canAddHandle = _useContext.canAddCallback;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context__WEBPACK_IMPORTED_MODULE_7__.DesignerContext),\n    changeDesignerView = _useContext2.changeDesignerView,\n    getPrefixCls = _useContext2.getPrefixCls,\n    prefixCls = _useContext2.prefixCls,\n    invokeAction = _useContext2.invokeAction;\n  var selectionContext = kdesignerApi.selection;\n  var dataContext = kdesignerApi.data;\n  var searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n  var metaApi = kdesignerApi.meta;\n  var views = kdesignerApi.views;\n  var setSelect = selectionContext.setSelect,\n    getActiveSelectedId = selectionContext.getActiveSelectedId;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    dataSource = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    searchDataSource = _useState4[0],\n    setSearchData = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState5, 2),\n    selected = _useState6[0],\n    setSelected = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(''),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState7, 2),\n    searchValue = _useState8[0],\n    setSearchValue = _useState8[1];\n  var listTablePrfixCls = getPrefixCls && getPrefixCls(prefixCls, 'list-view-table');\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    var data = (0,_utils_entityMeta__WEBPACK_IMPORTED_MODULE_8__.formatListTableData)(tableData, keys, metaApi);\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_12__.isEqual)(dataSource, data)) {\n      setData(data);\n      setSearchData(data);\n      setSearchValue('');\n    }\n  }, [tableData, dataSource]);\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    selectionCallBack(allselectedArr);\n  }, [allselectedArr]);\n  var selectionCallBack = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function (allselectedArr) {\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_12__.isEqual)(allselectedArr, selected)) {\n      var defaultSelArr = [];\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(tableData).call(tableData, function (item) {\n        if (allselectedArr !== null && allselectedArr !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(allselectedArr).call(allselectedArr, item.id)) {\n          defaultSelArr.push(item.id);\n        }\n      });\n      setSelected(defaultSelArr);\n    }\n  }, [selected, tableData]);\n  var handleViewIconClick = function handleViewIconClick() {\n    changeDesignerView(0);\n    views.setViewHideState('top')(false);\n    views.setViewHideState('left')(false);\n  };\n  var handleRowClick = function handleRowClick(next) {\n    setSelect(next);\n    setSelected(next);\n  };\n  var filter = {\n    onChangeFilters: function onChangeFilters(nextFilters) {}\n  };\n  var sort = {\n    mode: 'single',\n    highlightColumnWhenActive: true,\n    sortIconHoverShow: true,\n    onChangeSorts: function onChangeSorts(nextSorts) {}\n  };\n  var rowSelection = {\n    type: 'radio',\n    value: selected,\n    onChange: handleRowClick,\n    clickArea: 'row'\n  };\n  var handleAddButtonClick = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {\n    var _searchDataSource$;\n    var activeId = getActiveSelectedId();\n    var parentId = ((_searchDataSource$ = searchDataSource[0]) === null || _searchDataSource$ === void 0 ? void 0 : _searchDataSource$.ParentId) || activeId;\n    invokeAction && invokeAction(_constant_actionnames__WEBPACK_IMPORTED_MODULE_10__.SELECT_FIELD, [parentId, false]);\n  }, [searchDataSource, invokeAction]);\n  var handleDeleteButtonClick = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {\n    if (selected.length === 0) {\n      showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0004'));\n      return;\n    }\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(selected).call(selected, function (id) {\n      (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_11__.deleteControlFn)(id, setSelect, dataContext, controlsAddedByForntEnd, invokeAction, showMessage);\n    });\n  }, [selected, invokeAction]);\n  var handleRepeatButtonClick = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {\n    if (selected.length === 0) {\n      showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0004'));\n      return;\n    }\n    var copyContent = (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_11__.getCopyControlFn)(selected, dataContext);\n    var selectControlsCopy = [];\n    var firdtIndex = -1;\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(copyContent).call(copyContent, function (control) {\n      var copyControlNewInfo = (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_11__.pasteUtil)(control, dataContext, selectionContext, metaApi, canAddHandle, true);\n      if (copyControlNewInfo === false) {\n        showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0005'));\n      } else {\n        var newControl = copyControlNewInfo.newControl,\n          index = copyControlNewInfo.index;\n        selectControlsCopy.push(newControl);\n        firdtIndex = index;\n      }\n    });\n    var rest = {\n      index: firdtIndex\n    };\n    dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.createPasteAction)(selectControlsCopy, rest));\n  }, [selected, invokeAction]);\n  var searchUtil = function searchUtil(value, targetData) {\n    var result = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(targetData).call(targetData, function (item) {\n      var _context, _context2;\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(_context = item[_constant_propnames__WEBPACK_IMPORTED_MODULE_9__.KEY]).call(_context, value) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(_context2 = item[_constant_propnames__WEBPACK_IMPORTED_MODULE_9__.NAME]).call(_context2, value);\n    });\n    return result || [];\n  };\n  var handleInputEnter = function handleInputEnter(e) {\n    if (e.keyCode === 13) {\n      var value = searchValue;\n      var searchResult = [];\n      if (value === '') {\n        searchResult = dataSource;\n      } else {\n        searchResult = searchUtil(value, dataSource);\n      }\n      setSearchData(searchResult);\n      searchInputRef.current.blur();\n    }\n  };\n  var handleInputChange = function handleInputChange() {\n    var value = searchInputRef.current.value;\n    setSearchValue(value);\n  };\n  var handleClearClick = function handleClearClick() {\n    setSearchValue('');\n    setSearchData(dataSource);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: listTablePrfixCls\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: listTablePrfixCls + '-topbarbox'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0006'),\n    className: listTablePrfixCls + '-topbarbox-changeview',\n    onClick: handleViewIconClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n    prefix: \"designericon\",\n    type: \"liebiaoshitu\",\n    className: listTablePrfixCls + '-topbarbox-changeview-icon'\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: listTablePrfixCls + '-tabelbox'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: listTablePrfixCls + '-tabelbox-tabheader'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: listTablePrfixCls + '-tabelbox-tabheader-searchbox'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n    prefix: \"designericon\",\n    type: \"sousuo\",\n    className: listTablePrfixCls + '-tabelbox-tabheader-searchbox-icon'\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"input\", {\n    type: \"text\",\n    ref: searchInputRef,\n    value: searchValue,\n    placeholder: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0007'),\n    onChange: handleInputChange,\n    onKeyDown: handleInputEnter,\n    className: listTablePrfixCls + '-tabelbox-tabheader-searchbox-input'\n  }), searchValue && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n    prefix: \"designericon\",\n    type: \"shurukuangquanqing\",\n    className: listTablePrfixCls + '-tabelbox-tabheader-searchbox-icon',\n    onClick: handleClearClick\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: listTablePrfixCls + '-tabelbox-tabheader-toolbarbox'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", {\n    className: listTablePrfixCls + '-tabelbox-tabheader-toolbarbox-button',\n    onClick: handleAddButtonClick\n  }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0008')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", {\n    className: listTablePrfixCls + '-tabelbox-tabheader-toolbarbox-button',\n    onClick: handleRepeatButtonClick\n  }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0009')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", {\n    className: listTablePrfixCls + '-tabelbox-tabheader-toolbarbox-button',\n    onClick: handleDeleteButtonClick\n  }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.getLangMsg)('entityd.listTable.key0010')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5__.Table, {\n    dataSource: searchDataSource,\n    columns: columns(),\n    filter: filter,\n    sort: sort,\n    rowSelection: rowSelection,\n    primaryKey: \"Id\",\n    style: {\n      flexShrink: 1,\n      minHeight: 0\n    }\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.ErrorBoundaryWrap)(ListTable, 'ed-list-table'));\n\n//# sourceURL=webpack://entity-designer/./src/controls/ListTable.tsx?");

/***/ }),

/***/ 86932:
/*!***********************************!*\
  !*** ./src/controls/ListTree.tsx ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _Tree_treeUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Tree/treeUtils */ 6660);\n/* harmony import */ var _Tree_tree__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Tree/tree */ 66576);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/index */ 63612);\n/* harmony import */ var _utils_entityUtil__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/entityUtil */ 15624);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/toolbarUtil */ 51032);\n\n\n\n\n\n\n\n\n\n\n\nvar prefix = 'entity-designer';\nvar rootClass = prefix + '-entity-node';\nvar ListTree = function ListTree(_ref) {\n  var kdesignerApi = _ref.kdesignerApi,\n    listTreeData = _ref.listTreeData,\n    invokeAction = _ref.invokeAction;\n  var metaApi = kdesignerApi.meta;\n  var dataContext = kdesignerApi.data;\n  var selectionContext = kdesignerApi.selection;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.GlobalConfigContext),\n    showMessage = _useContext.showMessage,\n    controlsAddedByForntEnd = _useContext.controlsAddedByForntEnd;\n  var setSelect = selectionContext.setSelect,\n    getSelection = selectionContext.getSelection,\n    addSelectChangeListener = selectionContext.addSelectChangeListener;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    expandedKeys = _useState2[0],\n    setExpandedKeys = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    checkedKeys = _useState4[0],\n    setCheckedKeys = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState5, 2),\n    selectedKeys = _useState6[0],\n    setSelectedKeys = _useState6[1];\n  var listTreeDataRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    listTreeDataRef.current = listTreeData;\n  }, [listTreeData]);\n  var selectionCallBack = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (selection) {\n    var value = selection.value;\n    var entityId = (0,_utils_index__WEBPACK_IMPORTED_MODULE_7__.findEntityIdById)(listTreeDataRef.current, value[0]);\n    setSelectedKeys([entityId]);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var selectvalue = getSelection();\n    var entityId = (0,_utils_index__WEBPACK_IMPORTED_MODULE_7__.findEntityIdById)(listTreeDataRef.current, selectvalue[0]);\n    setSelectedKeys([entityId]);\n    var removeSelectionListener = addSelectChangeListener(selectionCallBack);\n    return function () {\n      removeSelectionListener && removeSelectionListener();\n    };\n  }, []);\n\n  // 过滤非实体项，保留实体项和根节点\n  var newListTreeData = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(listTreeData).call(listTreeData, function (item) {\n      var type = item[_constant_propnames__WEBPACK_IMPORTED_MODULE_9__._TYPE_];\n      return (0,_utils_index__WEBPACK_IMPORTED_MODULE_7__.isRootNode)(type) || (0,_utils_index__WEBPACK_IMPORTED_MODULE_7__.isEntity)(type);\n    });\n  }, [listTreeData]);\n  var treeData = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    var transformTreeData = (0,_Tree_treeUtils__WEBPACK_IMPORTED_MODULE_5__.transformTree)(newListTreeData);\n    return (0,_Tree_treeUtils__WEBPACK_IMPORTED_MODULE_5__.buildTree)('Id', 'ParentId', transformTreeData);\n  }, [newListTreeData]);\n  var onSelect = function onSelect(selectedKeysArr) {\n    setSelect(selectedKeysArr);\n  };\n  var onCheck = function onCheck(checkedKeysArr) {\n    setCheckedKeys(checkedKeysArr);\n  };\n  var onExpand = function onExpand(expandedKeysArr) {\n    setExpandedKeys(expandedKeysArr);\n  };\n  var addEntityNode = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (node) {\n    (0,_utils_entityUtil__WEBPACK_IMPORTED_MODULE_8__.addEntityControl)(node, dataContext, selectionContext, showMessage, metaApi);\n  }, []);\n\n  // 删除\n  var deleteEntityNode = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\n    var rootId = dataContext.getRootId();\n    var selection = getSelection();\n    if (selection.length > 0) {\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default()(selection).call(selection, function (id) {\n        if (rootId !== id) {\n          (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_10__.deleteControlFn)(id, setSelect, dataContext, controlsAddedByForntEnd, invokeAction, showMessage);\n        } else {\n          showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.getLangMsg)('entityd.listTree.key0001'));\n        }\n      });\n    }\n  }, [newListTreeData]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    style: {\n      width: '300px',\n      height: '100%',\n      flexShrink: 0\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_Tree_tree__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    name: \"Tree\",\n    treeData: treeData,\n    expandedKeys: expandedKeys,\n    checkedKeys: checkedKeys,\n    selectedKeys: selectedKeys,\n    virtual: false,\n    onCheck: onCheck,\n    onExpand: onExpand,\n    onSelect: onSelect,\n    defaultExpandAll: true,\n    addEntityNode: addEntityNode,\n    deleteEntityNode: deleteEntityNode\n    // scrollToKey={activeEntityId}\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.ErrorBoundaryWrap)(ListTree, 'ed-list-tree'));\n\n//# sourceURL=webpack://entity-designer/./src/controls/ListTree.tsx?");

/***/ }),

/***/ 5660:
/*!*************************************!*\
  !*** ./src/controls/NavToolBar.tsx ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _utils_client__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/client */ 77168);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _hooks_useCopyAndPaste__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../hooks/useCopyAndPaste */ 8184);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constant_NodeType__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../constant/NodeType */ 5272);\n/* harmony import */ var _utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../utils/toolbarUtil */ 51032);\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context5, _context6; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context5 = ownKeys(Object(t), !0)).call(_context5, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context6 = ownKeys(Object(t))).call(_context6, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar isMacOS = (0,_utils_client__WEBPACK_IMPORTED_MODULE_17__.isMac)();\nvar prefix = 'entity-designer';\nvar navToolPrefixCls = prefix + '-entity-node-nav-tool';\nvar NavToolBar = function NavToolBar() {\n  var _context, _context2, _context3, _context4;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_13__.useContext)(_context__WEBPACK_IMPORTED_MODULE_20__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    invokeAction = _useContext.invokeAction;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState, 2),\n    rootLock = _useState2[0],\n    setRootLock = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState3, 2),\n    entityLock = _useState4[0],\n    setEntityLock = _useState4[1];\n  var kdesignerApi = getKdesignerApi();\n  var dataContext = kdesignerApi.data;\n  var selectionContext = kdesignerApi.selection;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_13__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.GlobalConfigContext),\n    showMessage = _useContext2.showMessage,\n    controlsAddedByForntEnd = _useContext2.controlsAddedByForntEnd,\n    canAddHandle = _useContext2.canAddCallback;\n  var _useContext3 = (0,react__WEBPACK_IMPORTED_MODULE_13__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.DataFactoryContext),\n    metaApi = _useContext3.metaApi;\n  var _useCopyAndPaste = (0,_hooks_useCopyAndPaste__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(),\n    setCopyContent = _useCopyAndPaste.setCopyContent,\n    getCopyContent = _useCopyAndPaste.getCopyContent;\n  var getSelection = selectionContext.getSelection,\n    setSelect = selectionContext.setSelect;\n  var canUndo = dataContext.canUndo();\n  var canRedo = dataContext.canRedo();\n  var rootId = dataContext.getRootId();\n  var selectionCallBack = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (selection) {\n    var value = selection.value,\n      oldValue = selection.oldValue;\n    if (value !== oldValue && value.length === 1) {\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(value).call(value, rootId)) {\n        setRootLock(true);\n        setEntityLock(false);\n      } else {\n        var id = value[0];\n        var type = dataContext.findControl(id)[_constant_propnames__WEBPACK_IMPORTED_MODULE_18__._TYPE_];\n        setEntityLock(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_21__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_21__.ENTITY_NODE_TYPE, type));\n        setRootLock(false);\n      }\n    } else {\n      setRootLock(false);\n      setEntityLock(false);\n    }\n  }, [rootId]);\n  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    // 1. 选中监听放在顶层，selection无需通过props往下传\n    // 2. 如需要selection，AP层自行监听SelectionContext\n    var selectvalue = selectionContext.getSelection();\n    if (selectvalue.length === 1) {\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(selectvalue).call(selectvalue, rootId)) {\n        setRootLock(true);\n        setEntityLock(false);\n      } else {\n        var id = selectvalue[0];\n        var type = dataContext.findControl(id)[_constant_propnames__WEBPACK_IMPORTED_MODULE_18__._TYPE_];\n        setEntityLock(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_21__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_21__.ENTITY_NODE_TYPE, type));\n        setRootLock(false);\n      }\n    } else {\n      setRootLock(false);\n      setEntityLock(false);\n    }\n    var removeSelectionListener = selectionContext.addSelectChangeListener(selectionCallBack);\n    return function () {\n      removeSelectionListener();\n    };\n  }, []);\n  var getStatus = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (type) {\n    var disable = false;\n    var command = true;\n    switch (type) {\n      case 1:\n        disable = !canUndo;\n        command = canUndo;\n        break;\n      case 2:\n        disable = !canRedo;\n        command = canRedo;\n        break;\n      case 3:\n        disable = rootLock || entityLock;\n        command = !(rootLock || entityLock);\n        break;\n      case 4:\n        disable = rootLock;\n        command = !rootLock;\n        break;\n      default:\n        disable = false;\n        command = true;\n    }\n    return {\n      disable: disable,\n      command: command\n    };\n  }, [rootLock, canRedo, canUndo, entityLock]);\n\n  // 恢复\n  var redo = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _getStatus = getStatus(2),\n      disable = _getStatus.disable;\n    if (disable) return;\n    if (canRedo) {\n      dataContext.redo();\n    }\n  }, [canRedo, getStatus]);\n  // 撤销\n  var undo = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _getStatus2 = getStatus(1),\n      disable = _getStatus2.disable;\n    if (disable) return;\n    if (canUndo) {\n      dataContext.undo();\n      var _rootId = dataContext.getRootId();\n      selectionContext.setSelect(_rootId);\n    }\n  }, [canUndo, getStatus]);\n  // 前移\n  var moveToPrev = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _getStatus3 = getStatus(3),\n      disable = _getStatus3.disable;\n    if (disable) return;\n    var selection = getSelection();\n    if (selection.length === 1) {\n      dataContext.moveControl(selection[0], 'forward');\n    } else {\n      // @TODO: 多选下的前移\n      showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.listTree.key0002'));\n    }\n  }, [getStatus]);\n  // 后移\n  var moveToNext = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _getStatus4 = getStatus(3),\n      disable = _getStatus4.disable;\n    if (disable) return;\n    var selection = getSelection();\n    if (selection.length === 1) {\n      dataContext.moveControl(selection[0], 'back');\n    } else {\n      // @TODO: 多选下的后移\n      showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.listTree.key0002'));\n    }\n  }, [getStatus]);\n  // 删除\n  var deleteControl = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _getStatus5 = getStatus(4),\n      disable = _getStatus5.disable;\n    if (disable) return;\n    var getSelection = selectionContext.getSelection,\n      setSelect = selectionContext.setSelect;\n    var rootId = dataContext.getRootId();\n    var selection = getSelection();\n    if (selection.length > 0) {\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(selection).call(selection, function (id) {\n        if (rootId !== id) {\n          (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_22__.deleteControlFn)(id, setSelect, dataContext, controlsAddedByForntEnd, invokeAction, showMessage);\n        } else {\n          showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.tips.key0001'));\n        }\n      });\n    }\n  }, [getStatus]);\n  // 复制\n  var copyControl = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _getStatus6 = getStatus(4),\n      disable = _getStatus6.disable;\n    if (disable) return;\n    var selection = getSelection() || [];\n    var copyContent = (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_22__.getCopyControlFn)(selection, dataContext);\n    setCopyContent(copyContent);\n  }, [getStatus]);\n  // 粘贴\n  /* 粘贴场景\n  ***1，粘贴单个字段\n  ***2，粘贴多个字段\n  ***3，粘贴带着多个字段的单据体\n  */\n  var pasteControl = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (repeat) {\n    var copyContent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCopyContent();\n    var _getStatus7 = getStatus(0),\n      disable = _getStatus7.disable;\n    if (disable) return;\n    var isRepeat = repeat === true;\n    if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_11___default()(copyContent)) {\n      var selectControlsCopy = [];\n      var firdtIndex = -1;\n      var containerInfo = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(copyContent).call(copyContent, function (control) {\n        var controlType = control[_constant_propnames__WEBPACK_IMPORTED_MODULE_18__._TYPE_];\n        var _metaApi$getControlMe = metaApi.getControlMeta(controlType),\n          _metaApi$getControlMe2 = _metaApi$getControlMe.IsContainer,\n          IsContainer = _metaApi$getControlMe2 === void 0 ? false : _metaApi$getControlMe2;\n        return IsContainer;\n      });\n      if (containerInfo.length > 0) {\n        var copyControlNewInfo = (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_22__.pasteUtil)(containerInfo[0], dataContext, selectionContext, metaApi, canAddHandle, isRepeat);\n        // { newControl, index } || false\n        if (copyControlNewInfo === false) {\n          showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.listTree.key0003'));\n        } else {\n          var newControl = copyControlNewInfo.newControl,\n            index = copyControlNewInfo.index;\n          selectControlsCopy.push(newControl);\n          firdtIndex = index;\n          var containerInfoNewId = newControl.Id;\n          containerInfoNewId && _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(copyContent).call(copyContent, function (control) {\n            var targetKey = control.Key,\n              targetType = control._Type_;\n            var targetParentId = control[_constant_propnames__WEBPACK_IMPORTED_MODULE_18__.PARENTID] || rootId;\n            if (targetParentId === containerInfo[0][_constant_propnames__WEBPACK_IMPORTED_MODULE_18__.ID] && !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_21__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_21__.ENTITY_NODE_TYPE, targetType)) {\n              var _newControl = _objectSpread(_objectSpread({}, control), {}, {\n                ParentId: containerInfoNewId,\n                Id: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createUUid)(),\n                Key: targetKey + '1',\n                FieldName: targetKey + '1',\n                Inherit: false\n              });\n              selectControlsCopy.push(_newControl);\n            }\n          });\n        }\n      } else {\n        _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(copyContent).call(copyContent, function (control) {\n          var copyControlNewInfo = (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_22__.pasteUtil)(control, dataContext, selectionContext, metaApi, canAddHandle, isRepeat);\n          if (copyControlNewInfo === false) {\n            showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.listTree.key0003'));\n          } else {\n            var _newControl2 = copyControlNewInfo.newControl,\n              _index = copyControlNewInfo.index;\n            selectControlsCopy.push(_newControl2);\n            firdtIndex = _index;\n          }\n        });\n      }\n      var rest = {\n        index: firdtIndex\n      };\n      dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createPasteAction)(selectControlsCopy, rest));\n    }\n  }, [getStatus]);\n\n  // 重复\n  var copyAndPasteControl = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _getStatus8 = getStatus(4),\n      disable = _getStatus8.disable;\n    if (disable) return;\n    var selection = getSelection() || [];\n    var copyContent = (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_22__.getCopyControlFn)(selection, dataContext);\n    pasteControl(true, copyContent);\n  }, [copyControl, pasteControl, getStatus]);\n  var getDomClassName = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (type) {\n    var isIcon = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var isLast = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var _getStatus9 = getStatus(type),\n      disable = _getStatus9.disable,\n      command = _getStatus9.command;\n    var cn = isIcon ? classnames__WEBPACK_IMPORTED_MODULE_16___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, \"\".concat(navToolPrefixCls, \"-buttonbox-operation-disable-icon\"), disable), \"\".concat(navToolPrefixCls, \"-buttonbox-operation-btn-icon\"), command)) : isLast ? classnames__WEBPACK_IMPORTED_MODULE_16___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, \"\".concat(navToolPrefixCls, \"-buttonbox-operation-disable\"), disable), \"\".concat(navToolPrefixCls, \"-buttonbox-last-operation\"), true), \"\".concat(navToolPrefixCls, \"-buttonbox-operation-btn\"), command)) : classnames__WEBPACK_IMPORTED_MODULE_16___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, \"\".concat(navToolPrefixCls, \"-buttonbox-operation-disable\"), disable), \"\".concat(navToolPrefixCls, \"-buttonbox-operation-btn\"), command));\n    return cn;\n  }, [getStatus]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: navToolPrefixCls\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: navToolPrefixCls + '-buttonbox'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    title: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context = \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.toolbarView.key0001'), \"\\n\")).call(_context, isMacOS ? '⌘+Z' : 'Ctrl+Z'),\n    className: getDomClassName(1),\n    onClick: undo\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: \"chexiao\",\n    className: getDomClassName(1, true)\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    title: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context2 = \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.navToolBar.key0001'), \"\\n\")).call(_context2, isMacOS ? '⌘+Y' : 'Ctrl+Y'),\n    className: getDomClassName(2, false, true),\n    onClick: redo\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: \"zhongzuo\",\n    className: getDomClassName(2, true)\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: navToolPrefixCls + '-buttonbox'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.navToolBar.key0002'),\n    onClick: moveToPrev,\n    className: getDomClassName(3)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: \"zuiqian\",\n    className: getDomClassName(3, true)\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.navToolBar.key0003'),\n    onClick: moveToNext,\n    className: getDomClassName(3, false, true)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: \"zuihou\",\n    className: getDomClassName(3, true)\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: navToolPrefixCls + '-buttonbox'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    title: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context3 = \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.navToolBar.key0004'), \"\\n\")).call(_context3, isMacOS ? '⌘+C' : 'Ctrl+C'),\n    onClick: copyControl,\n    className: getDomClassName(4)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: \"fuzhi\",\n    className: getDomClassName(4, true)\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    title: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context4 = \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.navToolBar.key0005'), \"\\n\")).call(_context4, isMacOS ? '⌘+V' : 'Ctrl+V'),\n    onClick: pasteControl,\n    className: getDomClassName(0, false, true)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: \"zhantie\",\n    className: getDomClassName(0, true)\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: navToolPrefixCls + '-buttonbox'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.navToolBar.key0006'),\n    onClick: copyAndPasteControl,\n    className: getDomClassName(4)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: \"zhongfu\",\n    className: getDomClassName(4, true)\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    title: \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.navToolBar.key0007'), \"\\nDelete\"),\n    onClick: deleteControl,\n    className: getDomClassName(4, false, true)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: \"shanchu\",\n    className: getDomClassName(4, true)\n  }))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.ErrorBoundaryWrap)(NavToolBar, 'ed-nav-toolbar'));\n\n//# sourceURL=webpack://entity-designer/./src/controls/NavToolBar.tsx?");

/***/ }),

/***/ 20792:
/*!******************************************!*\
  !*** ./src/controls/NavToolBarRight.tsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nfunction NavToolBarRight() {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_2__.DesignerContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls,\n    changeDesignerView = _useContext.changeDesignerView,\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var narRightPrfixCls = getPrefixCls && getPrefixCls(prefixCls, 'top-view-right');\n  var kdesignerApi = getKdesignerApi();\n  var views = kdesignerApi.views;\n  var handleViewIconClick = function handleViewIconClick() {\n    changeDesignerView(1);\n    views.setViewHideState('top')(true);\n    views.setViewHideState('left')(true);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: narRightPrfixCls\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)('entityd.navToolBarRight.key0001'),\n    className: narRightPrfixCls + '-change-view',\n    onClick: handleViewIconClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    prefix: \"designericon\",\n    type: \"guanxishitu\",\n    className: narRightPrfixCls + '-change-view-icon'\n  })));\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundaryWrap)(NavToolBarRight, 'ed-nav-toolbar-right'));\n\n//# sourceURL=webpack://entity-designer/./src/controls/NavToolBarRight.tsx?");

/***/ }),

/***/ 5504:
/*!****************************************!*\
  !*** ./src/controls/OperationBtns.tsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_flow_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-flow-renderer */ 98752);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nvar OperationBtns = function OperationBtns(_ref) {\n  var style = _ref.style,\n    _ref$showZoom = _ref.showZoom,\n    showZoom = _ref$showZoom === void 0 ? true : _ref$showZoom,\n    _ref$showFitView = _ref.showFitView,\n    showFitView = _ref$showFitView === void 0 ? true : _ref$showFitView,\n    _ref$showChangeDirect = _ref.showChangeDirection,\n    showChangeDirection = _ref$showChangeDirect === void 0 ? true : _ref$showChangeDirect,\n    _ref$showDisplayMode = _ref.showDisplayMode,\n    showDisplayMode = _ref$showDisplayMode === void 0 ? true : _ref$showDisplayMode,\n    fitViewParams = _ref.fitViewParams,\n    isHorizontal = _ref.isHorizontal,\n    showFullRelationship = _ref.showFullRelationship,\n    onZoomIn = _ref.onZoomIn,\n    onZoomOut = _ref.onZoomOut,\n    onFitView = _ref.onFitView,\n    onChangeLayoutClick = _ref.onChangeLayoutClick,\n    onRelationalBtnClick = _ref.onRelationalBtnClick;\n  var _useZoomPanHelper = (0,react_flow_renderer__WEBPACK_IMPORTED_MODULE_3__.useZoomPanHelper)(),\n    zoomIn = _useZoomPanHelper.zoomIn,\n    zoomOut = _useZoomPanHelper.zoomOut,\n    fitView = _useZoomPanHelper.fitView;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_1__.DesignerContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var controlsPrefix = getPrefixCls && getPrefixCls(prefixCls, 'controls');\n  var onZoomInHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    zoomIn === null || zoomIn === void 0 || zoomIn();\n    onZoomIn === null || onZoomIn === void 0 || onZoomIn();\n  }, [zoomIn, onZoomIn]);\n  var onZoomOutHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    zoomOut === null || zoomOut === void 0 || zoomOut();\n    onZoomOut === null || onZoomOut === void 0 || onZoomOut();\n  }, [zoomOut, onZoomOut]);\n  var onFitViewHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    fitView === null || fitView === void 0 || fitView(fitViewParams);\n    onFitView === null || onFitView === void 0 || onFitView();\n  }, [fitView, fitViewParams, onFitView]);\n  var plusIconTitle = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.getLangMsg)('entityd.operationBtns.key0001');\n  var minusIconTitle = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.getLangMsg)('entityd.operationBtns.key0002');\n  var fitViewIconTitle = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.getLangMsg)('entityd.operationBtns.key0003');\n  var layoutIconTitle = isHorizontal ? (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.getLangMsg)('entityd.operationBtns.key0004') : (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.getLangMsg)('entityd.operationBtns.key0005');\n  var displayModeIconTitle = showFullRelationship ? (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.getLangMsg)('entityd.operationBtns.key0006') : (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.getLangMsg)('entityd.operationBtns.key0007');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: controlsPrefix + '-operation-box',\n    style: style\n  }, showZoom && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    onClick: onZoomInHandler,\n    className: controlsPrefix + '-operation-box-button',\n    title: plusIconTitle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n    prefix: \"designericon\",\n    type: \"fangda\",\n    className: controlsPrefix + '-operation-box-button-icon'\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    onClick: onZoomOutHandler,\n    className: controlsPrefix + '-operation-box-button',\n    title: minusIconTitle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n    prefix: \"designericon\",\n    type: \"suoxiao\",\n    className: controlsPrefix + '-operation-box-button-icon'\n  }))), showFitView && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: controlsPrefix + '-operation-box-button',\n    onClick: onFitViewHandler,\n    title: fitViewIconTitle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n    prefix: \"designericon\",\n    type: \"wanzhengshitu\",\n    className: controlsPrefix + '-operation-box-button-icon'\n  })), showChangeDirection && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: controlsPrefix + '-operation-box-button',\n    onClick: onChangeLayoutClick,\n    title: layoutIconTitle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n    prefix: \"designericon\",\n    type: isHorizontal ? 'zongxiangzhankai' : 'hengxiangzhankai',\n    className: controlsPrefix + '-operation-box-button-icon'\n  })), showDisplayMode && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: controlsPrefix + '-operation-box-button',\n    onClick: onRelationalBtnClick,\n    title: displayModeIconTitle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n    prefix: \"designericon\",\n    type: showFullRelationship ? 'guanxishitu' : 'wanzhengguanxi',\n    className: controlsPrefix + '-operation-box-button-icon'\n  })));\n};\nOperationBtns.displayName = 'OperationBtns';\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.ErrorBoundaryWrap)( /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(OperationBtns), 'ed-controls'));\n\n//# sourceURL=webpack://entity-designer/./src/controls/OperationBtns.tsx?");

/***/ }),

/***/ 14284:
/*!************************************!*\
  !*** ./src/controls/SearchBox.tsx ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/trim */ 52360);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ 45076);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-dom */ 71536);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _utils_searchUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/searchUtils */ 30296);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_13__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction SearchBox(_ref) {\n  var _ref$dataList = _ref.dataList,\n    dataList = _ref$dataList === void 0 ? [] : _ref$dataList;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(''),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    keyWord = _useState2[0],\n    setKeyWord = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)([]),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    results = _useState4[0],\n    setResults = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(false),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState5, 2),\n    showResultPanel = _useState6[0],\n    setShowResultPanel = _useState6[1];\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context__WEBPACK_IMPORTED_MODULE_10__.DesignerContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var controlsPrefix = getPrefixCls && getPrefixCls(prefixCls, 'controls');\n  var _getKdesignerApi = getKdesignerApi(),\n    selection = _getKdesignerApi.selection;\n  var searchBoxRef = (0,react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    setShowResultPanel(results.length > 0 || keyWord !== '');\n  }, [results]);\n  var handleInputChange = function handleInputChange(e) {\n    var value = e.target.value;\n    setKeyWord(value);\n    var _selection$getSelecti = selection.getSelection(),\n      _selection$getSelecti2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_selection$getSelecti, 1),\n      selectedId = _selection$getSelecti2[0];\n    var trimedValue = value === null || value === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_2___default()(value).call(value);\n    var results = (0,_utils_searchUtils__WEBPACK_IMPORTED_MODULE_11__.getSearchResults)(dataList, trimedValue, selectedId);\n    setResults(results);\n  };\n  var handleInputFocus = function handleInputFocus() {\n    setShowResultPanel(results.length > 0);\n  };\n  var handleClearIconClick = function handleClearIconClick() {\n    var _inputRef$current;\n    setKeyWord('');\n    setResults([]);\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || _inputRef$current.focus();\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: controlsPrefix + '-searchbox',\n    ref: searchBoxRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: controlsPrefix + '-searchbox-input-wrapper'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Icon, {\n    prefix: \"designericon\",\n    type: \"sousuo\",\n    className: controlsPrefix + '-searchbox-search-icon'\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"input\", {\n    ref: inputRef,\n    className: controlsPrefix + '-searchbox-input',\n    placeholder: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.getLangMsg)('entityd.searchBox.key0001'),\n    value: keyWord,\n    onChange: handleInputChange,\n    onFocus: handleInputFocus\n  }), keyWord && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Icon, {\n    prefix: \"designericon\",\n    type: \"shurukuangquanqing\",\n    className: controlsPrefix + '-searchbox-clear-icon',\n    onClick: handleClearIconClick\n  })), showResultPanel && /*#__PURE__*/(0,react_dom__WEBPACK_IMPORTED_MODULE_8__.createPortal)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ResultPanel, {\n    results: results,\n    searchBoxRef: searchBoxRef,\n    setShowResultPanel: setShowResultPanel,\n    keyWord: keyWord\n  }), document.body));\n}\nfunction ResultPanel(_ref2) {\n  var _ref2$results = _ref2.results,\n    results = _ref2$results === void 0 ? [] : _ref2$results,\n    searchBoxRef = _ref2.searchBoxRef,\n    setShowResultPanel = _ref2.setShowResultPanel,\n    keyWord = _ref2.keyWord;\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)({\n      left: -9999,\n      top: -9999\n    }),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState7, 2),\n    position = _useState8[0],\n    setPosition = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(-1),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState9, 2),\n    preSelectedIndex = _useState10[0],\n    setPreSelectIndex = _useState10[1];\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context__WEBPACK_IMPORTED_MODULE_10__.DesignerContext),\n    getPrefixCls = _useContext2.getPrefixCls,\n    prefixCls = _useContext2.prefixCls,\n    getKdesignerApi = _useContext2.getKdesignerApi;\n  var controlsPrefix = getPrefixCls && getPrefixCls(prefixCls, 'controls');\n  var _getKdesignerApi2 = getKdesignerApi(),\n    selection = _getKdesignerApi2.selection;\n  var resultPanelRef = (0,react__WEBPACK_IMPORTED_MODULE_7__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    var searchBoxEle = searchBoxRef.current;\n    var _searchBoxEle$getBoun = searchBoxEle === null || searchBoxEle === void 0 ? void 0 : searchBoxEle.getBoundingClientRect(),\n      _searchBoxEle$getBoun2 = _searchBoxEle$getBoun.bottom,\n      bottom = _searchBoxEle$getBoun2 === void 0 ? 0 : _searchBoxEle$getBoun2,\n      _searchBoxEle$getBoun3 = _searchBoxEle$getBoun.right,\n      right = _searchBoxEle$getBoun3 === void 0 ? 0 : _searchBoxEle$getBoun3;\n    // 根据搜索框的位置，计算搜索结果面板的位置\n    setPosition({\n      left: right - 230,\n      top: bottom + 10\n    });\n    document.addEventListener('click', handleClick); // 监听点击事件，关闭弹窗\n    return function () {\n      document.removeEventListener('click', handleClick);\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    document.addEventListener('keydown', handleKeyDown);\n    return function () {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [preSelectedIndex, results]);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    setPreSelectIndex(-1);\n  }, [keyWord]);\n  var handleClick = function handleClick(e) {\n    var _context;\n    if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(_context = e.path).call(_context, searchBoxRef.current)) {\n      setShowResultPanel(false);\n    }\n  };\n  var fieldList = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_4___default()(results).call(results, function (list, item) {\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(list).call(list, item.items);\n  }, []);\n  var handleKeyDown = function handleKeyDown(e) {\n    var _context2;\n    var keyCode = e.keyCode;\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(_context2 = [40, 38, 13]).call(_context2, keyCode)) {\n      e.preventDefault();\n    }\n    switch (e.keyCode) {\n      case 40:\n        {\n          var _fieldList$index;\n          // 下移\n          var index = (preSelectedIndex + 1) % fieldList.length;\n          setPreSelectIndex(index);\n          var id = (_fieldList$index = fieldList[index]) === null || _fieldList$index === void 0 ? void 0 : _fieldList$index.id;\n          (0,_utils_searchUtils__WEBPACK_IMPORTED_MODULE_11__.scrollIntoView)('data-id', id, resultPanelRef.current);\n          break;\n        }\n      case 38:\n        {\n          var _fieldList$_index;\n          // 上移\n          var _index = preSelectedIndex === -1 ? fieldList.length - 1 : (preSelectedIndex - 1 + fieldList.length) % fieldList.length;\n          setPreSelectIndex(_index);\n          var _id = (_fieldList$_index = fieldList[_index]) === null || _fieldList$_index === void 0 ? void 0 : _fieldList$_index.id;\n          (0,_utils_searchUtils__WEBPACK_IMPORTED_MODULE_11__.scrollIntoView)('data-id', _id, resultPanelRef.current);\n          break;\n        }\n      case 13:\n        {\n          var _fieldList$preSelecte;\n          var _id2 = (_fieldList$preSelecte = fieldList[preSelectedIndex]) === null || _fieldList$preSelecte === void 0 ? void 0 : _fieldList$preSelecte.id;\n          selection.setSelect(_id2);\n          _id2 && setShowResultPanel(false);\n          (0,_utils_searchUtils__WEBPACK_IMPORTED_MODULE_11__.setFieldIntoView)(_id2);\n          break;\n        }\n      default:\n        break;\n    }\n  };\n  var renderFieldList = function renderFieldList(list) {\n    var handleItemClick = function handleItemClick(id) {\n      selection.setSelect(id);\n      (0,_utils_searchUtils__WEBPACK_IMPORTED_MODULE_11__.setFieldIntoView)(id);\n    };\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(list).call(list, function (item) {\n      var _fieldList$preSelecte2;\n      var id = item.id,\n        name = item.name,\n        key = item.key;\n      var fieldClass = classnames__WEBPACK_IMPORTED_MODULE_12___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, controlsPrefix + '-result-panel-group-field', true), controlsPrefix + '-result-panel-group-field-preselected', ((_fieldList$preSelecte2 = fieldList[preSelectedIndex]) === null || _fieldList$preSelecte2 === void 0 ? void 0 : _fieldList$preSelecte2.id) === id));\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n        key: id,\n        className: fieldClass,\n        onClick: function onClick(e) {\n          return handleItemClick(id);\n        },\n        \"data-id\": id\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n        className: controlsPrefix + '-result-panel-group-field-name'\n      }, name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n        className: controlsPrefix + '-result-panel-group-field-key'\n      }, key));\n    });\n  };\n  var renderResultList = function renderResultList(list) {\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(list).call(list, function (item) {\n      var id = item.id,\n        name = item.name,\n        items = item.items;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n        key: id,\n        className: controlsPrefix + '-result-panel-group'\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n        className: controlsPrefix + '-result-panel-group-title'\n      }, name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", null, renderFieldList(items)));\n    });\n  };\n  var renderNoData = function renderNoData() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n      className: controlsPrefix + '-result-panel-nodata'\n    }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.getLangMsg)('entityd.searchBox.key0002'));\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: controlsPrefix + '-result-panel',\n    style: position,\n    ref: resultPanelRef\n  }, renderResultList(results), results.length === 0 && renderNoData());\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.ErrorBoundaryWrap)(SearchBox, 'ed-searchbox'));\n\n//# sourceURL=webpack://entity-designer/./src/controls/SearchBox.tsx?");

/***/ }),

/***/ 66576:
/*!************************************!*\
  !*** ./src/controls/Tree/tree.tsx ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _treeUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./treeUtils */ 6660);\n/* harmony import */ var _treeHooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./treeHooks */ 13392);\n/* harmony import */ var _treeNode__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./treeNode */ 7112);\n/* harmony import */ var lodash_isBoolean__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/isBoolean */ 45904);\n/* harmony import */ var lodash_isBoolean__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_isBoolean__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\nvar prefixCls = 'entity-designer';\nvar InternalTree = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().forwardRef(function (props, ref) {\n  var TreeProps = (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.getCompProps)('Tree', {}, props); // 按钮属性需要合并一遍用户定义的默认属性\n  var treeData = TreeProps.treeData,\n    virtual = TreeProps.virtual,\n    showIcon = TreeProps.showIcon,\n    switcherIcon = TreeProps.switcherIcon,\n    icon = TreeProps.icon,\n    checkable = TreeProps.checkable,\n    checkStrictly = TreeProps.checkStrictly,\n    disabled = TreeProps.disabled,\n    draggable = TreeProps.draggable,\n    scrollToKey = TreeProps.scrollToKey,\n    expandedKeysProps = TreeProps.expandedKeys,\n    checkedKeysProps = TreeProps.checkedKeys,\n    defaultExpandRoot = TreeProps.defaultExpandRoot,\n    defaultExpandAll = TreeProps.defaultExpandAll,\n    defaultExpandParent = TreeProps.defaultExpandParent,\n    defaultExpandedKeys = TreeProps.defaultExpandedKeys,\n    defaultCheckedKeys = TreeProps.defaultCheckedKeys,\n    defaultSelectedKeys = TreeProps.defaultSelectedKeys,\n    onCheck = TreeProps.onCheck,\n    onExpand = TreeProps.onExpand,\n    onSelect = TreeProps.onSelect,\n    selectedKeysProps = TreeProps.selectedKeys,\n    _TreeProps$setTreeNod = TreeProps.setTreeNodeStyle,\n    setTreeNodeStyle = _TreeProps$setTreeNod === void 0 ? function () {\n      return {};\n    } : _TreeProps$setTreeNod,\n    _TreeProps$setTreeNod2 = TreeProps.setTreeNodeClassName,\n    setTreeNodeClassName = _TreeProps$setTreeNod2 === void 0 ? function () {\n      return '';\n    } : _TreeProps$setTreeNod2,\n    _TreeProps$estimatedI = TreeProps.estimatedItemSize,\n    innerEstimatedItemSize = _TreeProps$estimatedI === void 0 ? 28 : _TreeProps$estimatedI,\n    addEntityNode = TreeProps.addEntityNode,\n    deleteEntityNode = TreeProps.deleteEntityNode;\n  var treePrefixCls = 'entity-designer-tree';\n  // const treeNodePrefixCls = 'entity-designer-tree-node'\n  var treeNodeClassName = classnames__WEBPACK_IMPORTED_MODULE_5___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, \"\".concat(treePrefixCls), true));\n  var treeRootClassName = \"\".concat(treePrefixCls, \"-root\");\n  var estimatedItemSize = innerEstimatedItemSize; // 节点高度\n\n  var flattenAllData = react__WEBPACK_IMPORTED_MODULE_4___default().useMemo(function () {\n    return (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.flattenAll)(treeData, []);\n  }, [treeData]);\n  var maxLevel = react__WEBPACK_IMPORTED_MODULE_4___default().useMemo(function () {\n    return (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.getMaxLevel)(flattenAllData);\n  }, [flattenAllData]);\n  var _useChecked = (0,_treeHooks__WEBPACK_IMPORTED_MODULE_7__.useChecked)(checkStrictly, checkedKeysProps, defaultCheckedKeys, flattenAllData, maxLevel, checkable),\n    _useChecked2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useChecked, 4),\n    checkedKeys = _useChecked2[0],\n    halfCheckedKeys = _useChecked2[1],\n    setCheckedKeys = _useChecked2[2],\n    setHalfCheckedKeys = _useChecked2[3];\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_4___default().useState(scrollToKey),\n    _React$useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_React$useState, 2),\n    scrollKey = _React$useState2[0],\n    setScrollKey = _React$useState2[1];\n  // const [start, setStart] = React.useState(0)\n  var _useSelect = (0,_treeHooks__WEBPACK_IMPORTED_MODULE_7__.useSelect)(selectedKeysProps, defaultSelectedKeys),\n    _useSelect2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useSelect, 2),\n    selectedKeys = _useSelect2[0],\n    setSelectedKeys = _useSelect2[1];\n  var listRef = react__WEBPACK_IMPORTED_MODULE_4___default().useRef(null);\n  var plantomRef = react__WEBPACK_IMPORTED_MODULE_4___default().useRef(null);\n  var rootRef = react__WEBPACK_IMPORTED_MODULE_4___default().useRef(null);\n  var scrollRef = ref || rootRef;\n  var treeNodeRef = react__WEBPACK_IMPORTED_MODULE_4___default().useRef(null);\n  // const dragNodeRef = React.useRef<any>(null)\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_4___default().useState(true),\n    _React$useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_React$useState3, 2),\n    isInit = _React$useState4[0],\n    setIsInit = _React$useState4[1];\n  var _useExpand = (0,_treeHooks__WEBPACK_IMPORTED_MODULE_7__.useExpand)(flattenAllData, expandedKeysProps, defaultExpandedKeys, defaultExpandAll, defaultExpandRoot, defaultExpandParent, scrollKey, isInit),\n    _useExpand2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useExpand, 1),\n    expandedKeys = _useExpand2[0];\n  var spreadAttrData = react__WEBPACK_IMPORTED_MODULE_4___default().useMemo(function () {\n    return (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.getSpreadAttrData)(flattenAllData, expandedKeys);\n  }, [flattenAllData, expandedKeys]);\n  var filterData = react__WEBPACK_IMPORTED_MODULE_4___default().useMemo(function () {\n    return (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.getFilterData)(spreadAttrData);\n  }, [spreadAttrData]);\n\n  // const [viewportHeight] = useViewportHeight(height, listRef)\n  // const [visibleData] = useVisibleDataMemo(virtual, filterData, viewportHeight, estimatedItemSize, start)\n\n  // const index = React.useMemo(() => {\n  //   let scrollIndex = 0\n  //   for (let i = 0; i < filterData.length; i++) {\n  //     if (filterData[i].key === scrollKey) {\n  //       scrollIndex = i\n  //       break\n  //     }\n  //   }\n  //   return scrollIndex\n  // }, [filterData, scrollKey])\n  // useScrollToKey(scrollKey, index, estimatedItemSize, scrollRef, viewportHeight, treeNodePrefixCls)\n\n  // usePlantomHeightEffect(plantomRef, filterData, estimatedItemSize)\n\n  var handleScroll = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {\n    if (!virtual) return;\n    // const scrollTop = scrollRef.current.scrollTop\n    // setStart(Math.floor(scrollTop / estimatedItemSize))\n\n    // const tempStartOffset = scrollTop - (scrollTop % estimatedItemSize)\n    // if (listRef.current && virtual) {\n    //   listRef.current.style.transform = `translate3d(0,${tempStartOffset}px,0)`\n    // }\n  }, [listRef, scrollRef, virtual, estimatedItemSize]);\n  var handleExpand = react__WEBPACK_IMPORTED_MODULE_4___default().useCallback(function (key, value, node) {\n    var newExpandedKeys = value ? (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.addKeys)(expandedKeys, [key]) : (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.delKey)(expandedKeys, [key]);\n    onExpand && onExpand(newExpandedKeys, {\n      node: node,\n      expanded: value\n    });\n    setScrollKey('');\n    setIsInit(false);\n  }, [expandedKeys, onExpand]);\n  var handleCheck = react__WEBPACK_IMPORTED_MODULE_4___default().useCallback(function (key, value, node, event, pos) {\n    var newCheckedKeys = value ? (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.addKeys)(checkedKeys, [key]) : (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.delKey)(checkedKeys, [key]);\n    var checkState = checkStrictly ? (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.getDataCheckededStateStrictly)(newCheckedKeys) : (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.getDataCheckededState)(spreadAttrData, newCheckedKeys, halfCheckedKeys, maxLevel, false, pos, value);\n    onCheck && onCheck(checkState.checkedKeys, {\n      event: event,\n      node: node,\n      checked: value,\n      halfCheckedKeys: checkState.halfCheckedKeys\n    });\n  }, [checkedKeys, spreadAttrData, halfCheckedKeys, maxLevel, onCheck, checkStrictly, setCheckedKeys, setHalfCheckedKeys]);\n  var handleSelect = react__WEBPACK_IMPORTED_MODULE_4___default().useCallback(function (event, node, key) {\n    var checked = (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.getChecked)(checkedKeys, key);\n    onSelect && onSelect([key], {\n      node: node,\n      event: event,\n      checked: checked\n    });\n  }, [onSelect, setSelectedKeys, checkedKeys]);\n  var getSelectable = function getSelectable(selectable) {\n    if (lodash_isBoolean__WEBPACK_IMPORTED_MODULE_9___default()(selectable)) {\n      return selectable;\n    }\n    return true;\n  };\n  var getCheckable = function getCheckable(checkableProps, itemCheckable) {\n    return lodash_isBoolean__WEBPACK_IMPORTED_MODULE_9___default()(itemCheckable) ? itemCheckable : checkableProps;\n  };\n  var getDisabled = function getDisabled(disabledProps, itemDisabled) {\n    return lodash_isBoolean__WEBPACK_IMPORTED_MODULE_9___default()(itemDisabled) ? itemDisabled : disabledProps;\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    if (scrollToKey) {\n      setSelectedKeys([scrollToKey]);\n      setScrollKey(scrollToKey);\n    } else {\n      setSelectedKeys([]);\n    }\n  }, [scrollToKey]);\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    setHalfCheckedKeys(halfCheckedKeys);\n  }, [halfCheckedKeys]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: treeNodeClassName,\n    ref: scrollRef,\n    onScroll: handleScroll\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    ref: plantomRef,\n    className: \"\".concat(treePrefixCls, \"-plantom\")\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: treeRootClassName,\n    ref: listRef\n  }, filterData && _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(filterData).call(filterData, function (item) {\n    // const props: any = {}\n    var checked = (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.getChecked)(checkedKeys, item.key);\n    var indeterminate = (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.getHalfChecked)(halfCheckedKeys, item.key);\n    item.nodeKey = item.key;\n    item.onExpand = handleExpand;\n    item.onCheck = handleCheck;\n    item.onSelect = handleSelect;\n    item.checked = checked;\n    item.selected = (0,_treeUtils__WEBPACK_IMPORTED_MODULE_6__.getSelected)(selectedKeys, item.key);\n    item.indeterminate = indeterminate;\n    // item.showLine = showLine\n    item.disabled = getDisabled(disabled, item.disabled);\n    item.showIcon = showIcon || false;\n    item.checkable = getCheckable(checkable, item.checkable); // 哪个优先\n    item.selectable = getSelectable(item.selectable);\n    item.icon = item.icon || icon;\n    item.switcherIcon = item.switcherIcon || switcherIcon;\n    item.estimatedItemSize = estimatedItemSize;\n    item.draggable = draggable;\n    item.className = setTreeNodeClassName((0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, item));\n    item.style = setTreeNodeStyle((0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, item));\n    item.addEntityNode = addEntityNode;\n    item.deleteEntityNode = deleteEntityNode;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_treeNode__WEBPACK_IMPORTED_MODULE_8__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, item, {\n      key: item.key,\n      ref: treeNodeRef\n    }));\n  })));\n});\nvar Tree = InternalTree;\nTree.displayName = 'Tree';\n/* harmony default export */ __webpack_exports__[\"default\"] = (Tree);\n\n//# sourceURL=webpack://entity-designer/./src/controls/Tree/tree.tsx?");

/***/ }),

/***/ 13392:
/*!*****************************************!*\
  !*** ./src/controls/Tree/treeHooks.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useChecked: function() { return /* binding */ useChecked; },\n/* harmony export */   useExpand: function() { return /* binding */ useExpand; },\n/* harmony export */   usePlantomHeightEffect: function() { return /* binding */ usePlantomHeightEffect; },\n/* harmony export */   useScrollToKey: function() { return /* binding */ useScrollToKey; },\n/* harmony export */   useSelect: function() { return /* binding */ useSelect; },\n/* harmony export */   useViewportHeight: function() { return /* binding */ useViewportHeight; },\n/* harmony export */   useVisibleDataMemo: function() { return /* binding */ useVisibleDataMemo; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _treeUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./treeUtils */ 6660);\n\n\n\n\n\nvar useViewportHeight = function useViewportHeight(height, listRef) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_3___default().useState(0),\n    _React$useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_React$useState, 2),\n    viewportHeight = _React$useState2[0],\n    setViewportHeight = _React$useState2[1];\n  react__WEBPACK_IMPORTED_MODULE_3___default().useEffect(function () {\n    height ? setViewportHeight(height) : listRef.current && setViewportHeight(listRef.current.clientHeight);\n  }, [listRef, height]);\n  return [viewportHeight];\n};\nvar useVisibleDataMemo = function useVisibleDataMemo(virtual, filterData, viewportHeight, estimatedItemSize, start) {\n  var visibledCount = react__WEBPACK_IMPORTED_MODULE_3___default().useMemo(function () {\n    return Math.ceil(viewportHeight / estimatedItemSize);\n  }, [viewportHeight, estimatedItemSize]);\n  var viewportData = react__WEBPACK_IMPORTED_MODULE_3___default().useMemo(function () {\n    return _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1___default()(filterData).call(filterData, start, start + visibledCount);\n  }, [filterData, start, visibledCount]);\n  var visibleData = react__WEBPACK_IMPORTED_MODULE_3___default().useMemo(function () {\n    return virtual ? viewportData : filterData;\n  }, [virtual, viewportData, filterData]);\n  return [visibleData];\n};\nvar usePlantomHeightEffect = function usePlantomHeightEffect(plantomRef, filterData, estimatedItemSize) {\n  react__WEBPACK_IMPORTED_MODULE_3___default().useEffect(function () {\n    var height = filterData.length * estimatedItemSize;\n    if (plantomRef.current) {\n      // plantomRef.current.style.height = height + 'px'\n    }\n  }, [plantomRef, filterData, estimatedItemSize]);\n};\nvar useChecked = function useChecked(checkStrictly, checkedKeysProps, defaultCheckedKeys, flattenAllData, maxLevel, checkable) {\n  var initialCheckedState = react__WEBPACK_IMPORTED_MODULE_3___default().useMemo(function () {\n    if (!checkable) return {\n      checkedKeys: [],\n      halfCheckedKeys: []\n    };\n    return checkStrictly ? (0,_treeUtils__WEBPACK_IMPORTED_MODULE_4__.getDataCheckededStateStrictly)(checkedKeysProps || defaultCheckedKeys) : (0,_treeUtils__WEBPACK_IMPORTED_MODULE_4__.getInitCheckededState)(flattenAllData, checkedKeysProps || defaultCheckedKeys, maxLevel, true);\n  }, [flattenAllData, checkedKeysProps, defaultCheckedKeys, checkStrictly, maxLevel, checkable]);\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_3___default().useState(initialCheckedState.checkedKeys),\n    _React$useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_React$useState3, 2),\n    checkedKeys = _React$useState4[0],\n    setCheckedKeys = _React$useState4[1];\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_3___default().useState(initialCheckedState.halfCheckedKeys),\n    _React$useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_React$useState5, 2),\n    halfCheckedKeys = _React$useState6[0],\n    setHalfCheckedKeys = _React$useState6[1];\n  var nextCheckedKeys = initialCheckedState.checkedKeys;\n  var nextHalfCheckedKeys = initialCheckedState.halfCheckedKeys;\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    setCheckedKeys(nextCheckedKeys);\n  }, [nextCheckedKeys]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    setHalfCheckedKeys(nextHalfCheckedKeys);\n  }, [nextHalfCheckedKeys]);\n  return [checkedKeys, halfCheckedKeys, setCheckedKeys, setHalfCheckedKeys];\n};\nvar useExpand = function useExpand(flattenAllData, expandedKeysProps, defaultExpandedKeys, defaultExpandAll, defaultExpandRoot, defaultExpandParent, scrollKey, isInit) {\n  var expandScrollkeys = [];\n  if (scrollKey) {\n    var pos = (0,_treeUtils__WEBPACK_IMPORTED_MODULE_4__.getPos)(flattenAllData, scrollKey);\n    expandScrollkeys = (0,_treeUtils__WEBPACK_IMPORTED_MODULE_4__.getAllParentKeys)(flattenAllData, pos);\n  }\n  var initialExpandedKeys = react__WEBPACK_IMPORTED_MODULE_3___default().useMemo(function () {\n    return (0,_treeUtils__WEBPACK_IMPORTED_MODULE_4__.getInitExpandedKeys)(flattenAllData, expandedKeysProps, defaultExpandedKeys, defaultExpandAll, defaultExpandRoot, defaultExpandParent, expandScrollkeys);\n  }, [flattenAllData, expandedKeysProps, defaultExpandedKeys, defaultExpandAll, defaultExpandRoot, defaultExpandParent, scrollKey]);\n  var newExpandedKeys = react__WEBPACK_IMPORTED_MODULE_3___default().useMemo(function () {\n    return (0,_treeUtils__WEBPACK_IMPORTED_MODULE_4__.getExpandedKeys)(expandedKeysProps, expandScrollkeys);\n  }, [expandedKeysProps]);\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_3___default().useState(initialExpandedKeys),\n    _React$useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_React$useState7, 2),\n    expandedKeys = _React$useState8[0],\n    setExpandedKeys = _React$useState8[1];\n  react__WEBPACK_IMPORTED_MODULE_3___default().useEffect(function () {\n    var keys = isInit ? initialExpandedKeys : newExpandedKeys;\n    setExpandedKeys(keys);\n  }, [newExpandedKeys, initialExpandedKeys]);\n  return [expandedKeys, setExpandedKeys];\n};\nvar useScrollToKey = function useScrollToKey(scrollKey, index, estimatedItemSize, scrollRef, viewportHeight, treeNodePrefixCls) {\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_3___default().useState(false),\n    _React$useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_React$useState9, 2),\n    scroll = _React$useState10[0],\n    setScroll = _React$useState10[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    setScroll(true);\n  }, [scrollKey]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var _context;\n    if (!scroll) return;\n    var treeRoot = scrollRef.current;\n    var treeNode = treeRoot === null || treeRoot === void 0 ? void 0 : treeRoot.getElementsByClassName(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context = \"\".concat(treeNodePrefixCls, \"-item-\")).call(_context, scrollKey))[0];\n    if (!scrollKey) {\n      setScroll(false);\n      return;\n    }\n    if (treeRoot && treeNode) {\n      // const treeRootScrollTop = treeRoot.scrollTop\n      var treeRootRect = treeRoot.getBoundingClientRect();\n      var treeNodeRect = treeNode.getBoundingClientRect();\n      if (treeRootRect.top <= treeNodeRect.top && treeRootRect.bottom >= treeNodeRect.bottom) {\n        setScroll(false);\n        return;\n      }\n    }\n    var _index = index;\n    var visibleDataLength = Math.ceil(viewportHeight / estimatedItemSize);\n    var halfVisibleIndex = Math.floor(visibleDataLength / 2);\n    _index = _index - halfVisibleIndex;\n    scrollRef.current.scrollTop = _index * estimatedItemSize;\n    setScroll(false);\n  }, [scroll, index, viewportHeight, estimatedItemSize]);\n};\nvar useSelect = function useSelect(selectedKeysProps, defaultSelectedKeys) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(selectedKeysProps || defaultSelectedKeys),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    selectedKeys = _useState2[0],\n    setSelectedKeys = _useState2[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    setSelectedKeys(selectedKeysProps);\n  }, [selectedKeysProps]);\n  return [selectedKeys, setSelectedKeys];\n};\n\n//# sourceURL=webpack://entity-designer/./src/controls/Tree/treeHooks.tsx?");

/***/ }),

/***/ 7112:
/*!****************************************!*\
  !*** ./src/controls/Tree/treeNode.tsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _treeUtils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./treeUtils */ 6660);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../utils/index */ 63612);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../constant/propnames */ 30096);\n/* harmony import */ var _constant_NodeType__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../constant/NodeType */ 5272);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_22__);\n\n\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"nodeKey\", \"prefixCls\", \"selectable\", \"checkable\", \"className\", \"icon\", \"switcherIcon\", \"disabled\", \"draggable\", \"pos\", \"checked\", \"level\", \"getDragNode\", \"hasChildNode\", \"expand\", \"title\", \"showLine\", \"showIcon\", \"selected\", \"setDragNode\", \"style\", \"indeterminate\", \"estimatedItemSize\", \"onExpand\", \"onCheck\", \"onDragStart\", \"onDragOver\", \"onDragLeave\", \"onDragEnter\", \"onDragEnd\", \"onDrop\", \"onSelect\", \"addEntityNode\", \"deleteEntityNode\"];\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context2, _context3; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = ownKeys(Object(t), !0)).call(_context2, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context3 = ownKeys(Object(t))).call(_context3, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\nvar TreeNode = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().forwardRef(function (props, ref) {\n  var _context;\n  var TreeNodeProps = (0,_treeUtils__WEBPACK_IMPORTED_MODULE_18__.getCompProps)('TreeNode', {}, props); // 按钮属性需要合并一遍用户定义的默认属性\n  var nodeKey = TreeNodeProps.nodeKey,\n    customPrefixcls = TreeNodeProps.prefixCls,\n    selectable = TreeNodeProps.selectable,\n    checkable = TreeNodeProps.checkable,\n    className = TreeNodeProps.className,\n    icon = TreeNodeProps.icon,\n    switcherIcon = TreeNodeProps.switcherIcon,\n    disabled = TreeNodeProps.disabled,\n    draggable = TreeNodeProps.draggable,\n    pos = TreeNodeProps.pos,\n    checked = TreeNodeProps.checked,\n    level = TreeNodeProps.level,\n    getDragNode = TreeNodeProps.getDragNode,\n    hasChildNode = TreeNodeProps.hasChildNode,\n    expand = TreeNodeProps.expand,\n    title = TreeNodeProps.title,\n    showLine = TreeNodeProps.showLine,\n    showIcon = TreeNodeProps.showIcon,\n    selected = TreeNodeProps.selected,\n    setDragNode = TreeNodeProps.setDragNode,\n    style = TreeNodeProps.style,\n    indeterminate = TreeNodeProps.indeterminate,\n    estimatedItemSize = TreeNodeProps.estimatedItemSize,\n    onExpand = TreeNodeProps.onExpand,\n    onCheck = TreeNodeProps.onCheck,\n    onDragStart = TreeNodeProps.onDragStart,\n    onDragOver = TreeNodeProps.onDragOver,\n    onDragLeave = TreeNodeProps.onDragLeave,\n    onDragEnter = TreeNodeProps.onDragEnter,\n    onDragEnd = TreeNodeProps.onDragEnd,\n    onDrop = TreeNodeProps.onDrop,\n    onSelect = TreeNodeProps.onSelect,\n    addEntityNode = TreeNodeProps.addEntityNode,\n    deleteEntityNode = TreeNodeProps.deleteEntityNode,\n    others = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(TreeNodeProps, _excluded);\n  var nodeData = react__WEBPACK_IMPORTED_MODULE_15___default().useMemo(function () {\n    return _objectSpread({\n      selectable: selectable,\n      checkable: checkable,\n      expand: expand,\n      key: nodeKey,\n      level: level,\n      title: title,\n      disabled: disabled,\n      draggable: draggable,\n      checked: checked,\n      pos: pos,\n      hasChildNode: hasChildNode,\n      indeterminate: indeterminate,\n      icon: icon,\n      switcherIcon: switcherIcon,\n      // showLine,\n      showIcon: showIcon,\n      selected: selected\n    }, others);\n  }, [selectable, checkable, expand, nodeKey, level, title, disabled, draggable, checked, pos, hasChildNode, indeterminate, icon, switcherIcon, showIcon, selected]);\n  var entityType = TreeNodeProps[_constant_propnames__WEBPACK_IMPORTED_MODULE_20__._TYPE_];\n  var isRoot = (0,_utils_index__WEBPACK_IMPORTED_MODULE_19__.isRootNode)(entityType);\n  var isSecondLevel = (0,_utils_index__WEBPACK_IMPORTED_MODULE_19__.isEntryEntityNode)(entityType);\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState, 2),\n    showEntityTypeList = _useState2[0],\n    setShowList = _useState2[1];\n  var entitylistRef = (0,react__WEBPACK_IMPORTED_MODULE_15__.useRef)(null);\n  var useExpand = function useExpand(value) {\n    var _React$useState = react__WEBPACK_IMPORTED_MODULE_15___default().useState(value),\n      _React$useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_React$useState, 2),\n      expand = _React$useState2[0],\n      setExpand = _React$useState2[1];\n    var setExpandState = function setExpandState(value) {\n      return setExpand(value);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(function () {\n      setExpand(value);\n    }, [value]);\n    return [expand, setExpandState];\n  };\n  var dragRef = react__WEBPACK_IMPORTED_MODULE_15___default().useRef(null);\n  var _useExpand = useExpand(expand),\n    _useExpand2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useExpand, 2),\n    expandState = _useExpand2[0],\n    setExpandState = _useExpand2[1];\n  // const treeNodePrefixCls = getPrefixCls!(prefixCls, 'tree-node', customPrefixcls) // 按钮样式前缀\n  var treeNodePrefixCls = 'entity-designer-tree-node';\n  var renderIcon = function renderIcon(icon) {\n    if (typeof icon === 'function') {\n      var nodeProps = {\n        selectable: selectable,\n        checkable: checkable,\n        disabled: disabled,\n        title: title,\n        draggable: draggable,\n        checked: checked,\n        hasChildNode: hasChildNode,\n        expand: expand,\n        nodeKey: nodeKey,\n        icon: icon,\n        switcherIcon: switcherIcon,\n        showIcon: showIcon,\n        selected: selected,\n        indeterminate: indeterminate\n      };\n      return icon(_objectSpread({}, nodeProps));\n    }\n    return icon;\n  };\n  var indent = function indent() {\n    var indentArr = [];\n    var className = classnames__WEBPACK_IMPORTED_MODULE_17___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-indent\"), true), \"\".concat(treeNodePrefixCls, \"-indent-line\"), !!showLine));\n    for (var i = 0; i < level; i++) {\n      indentArr.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n        className: className,\n        key: i,\n        style: {\n          height: \"\".concat(estimatedItemSize)\n        }\n      }, \"\\xA0\\xA0\\xA0\\xA0\"));\n    }\n    return indentArr;\n  };\n\n  // line的两种模式， 图标被替换和图标不被替换\n  var renderExpandIcon = function renderExpandIcon() {\n    if (hasChildNode) {\n      if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_11___default()(switcherIcon) && switcherIcon.length === 2) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n          className: classnames__WEBPACK_IMPORTED_MODULE_17___default()(\"\".concat(treeNodePrefixCls, \"-icon\")),\n          onClick: handleIconClick\n        }, expandState ? renderIcon(switcherIcon[1]) : renderIcon(switcherIcon[0]));\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n        className: classnames__WEBPACK_IMPORTED_MODULE_17___default()(\"\".concat(treeNodePrefixCls, \"-icon\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-animation-expand\"), expandState), \"\".concat(treeNodePrefixCls, \"-animation-collapse\"), !expandState)),\n        onClick: handleIconClick\n      }, renderIcon(switcherIcon || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_16__.Icon, {\n        type: \"arrow-right-solid\"\n      })));\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n        className: \"\".concat(treeNodePrefixCls, \"-icon-hidden\")\n      });\n    }\n  };\n  var renderNodeIcon = function renderNodeIcon() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n      className: \"\".concat(treeNodePrefixCls, \"-leaf-icon\")\n    }, renderIcon(icon));\n  };\n  var rightNodeIcons = function rightNodeIcons() {\n    var addEntityIcon = classnames__WEBPACK_IMPORTED_MODULE_17___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-right-addIcon\"), true));\n    var deleteEntityIcon = classnames__WEBPACK_IMPORTED_MODULE_17___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-right-deleteIcon\"), true));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n      className: \"\".concat(treeNodePrefixCls, \"-right-icon\")\n    }, !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_21__.ENTITY_TYPE_NOT_ADD).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_21__.ENTITY_TYPE_NOT_ADD, TreeNodeProps[_constant_propnames__WEBPACK_IMPORTED_MODULE_20__._TYPE_]) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n      title: \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('entityd.treeNode.key0001')),\n      className: addEntityIcon,\n      onClick: handleAddIconClick\n    }, selected && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_16__.Icon, {\n      prefix: \"designericon\",\n      type: \"tianjia3\"\n    })), !(0,_utils_index__WEBPACK_IMPORTED_MODULE_19__.isRootNode)(TreeNodeProps[_constant_propnames__WEBPACK_IMPORTED_MODULE_20__._TYPE_]) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n      title: \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('entityd.treeNode.key0002')),\n      className: deleteEntityIcon,\n      onClick: handleDeleteIconClick\n    }, selected && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_16__.Icon, {\n      prefix: \"designericon\",\n      type: \"shanchu\"\n    })));\n  };\n  var renderNode = function renderNode() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement((react__WEBPACK_IMPORTED_MODULE_15___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n      draggable: draggable && !disabled,\n      className: classnames__WEBPACK_IMPORTED_MODULE_17___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-draggabled\"), true), \"\".concat(treeNodePrefixCls, \"-root\"), true)),\n      ref: dragRef\n    }, indent(), renderExpandIcon(), showIcon && renderNodeIcon(), checkable ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_16__.Checkbox, {\n      onChange: handleOnchange,\n      checked: checked,\n      indeterminate: !disabled && indeterminate,\n      disabled: disabled\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_17___default()(\"\".concat(treeNodePrefixCls, \"-title\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-title-disabled\"), disabled)),\n      title: title\n    }, title)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_17___default()(\"\".concat(treeNodePrefixCls, \"-title\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-title-disabled\"), disabled)),\n      title: title\n    }, title), selected && rightNodeIcons()));\n  };\n  var handleOnchange = react__WEBPACK_IMPORTED_MODULE_15___default().useCallback(function (e) {\n    var value = e.target.checked;\n    onCheck && onCheck(nodeKey, value, nodeData, e, pos);\n  }, [onCheck, nodeKey, nodeData, pos]);\n  var handleSelect = react__WEBPACK_IMPORTED_MODULE_15___default().useCallback(function (e) {\n    selectable && !disabled && onSelect && onSelect(e, nodeData, nodeKey);\n  }, [onSelect, selectable, disabled, nodeData, nodeKey]);\n  react__WEBPACK_IMPORTED_MODULE_15___default().useImperativeHandle(ref, function () {\n    return {\n      selectNode: handleSelect\n    };\n  });\n  var handleClick = react__WEBPACK_IMPORTED_MODULE_15___default().useCallback(function (e) {\n    e.stopPropagation();\n    // setExpandState(!expandState)\n    // onExpand && onExpand(nodeKey, !expandState, nodeData)\n    handleSelect(e);\n  }, [setExpandState, expandState, onExpand, nodeKey, nodeData, handleSelect]);\n  var handleIconClick = react__WEBPACK_IMPORTED_MODULE_15___default().useCallback(function (e) {\n    e.stopPropagation();\n    setExpandState(!expandState);\n    onExpand && onExpand(nodeKey, !expandState, nodeData);\n  }, [setExpandState, expandState, onExpand, nodeKey, nodeData]);\n  var handleAddIconClick = react__WEBPACK_IMPORTED_MODULE_15___default().useCallback(function (e) {\n    e.stopPropagation();\n    setShowList(true);\n  }, []);\n  var handleDeleteIconClick = react__WEBPACK_IMPORTED_MODULE_15___default().useCallback(function (e) {\n    e.stopPropagation();\n    deleteEntityNode([TreeNodeProps[_constant_propnames__WEBPACK_IMPORTED_MODULE_20__.ID]]);\n  }, [TreeNodeProps]);\n  var handleCloseEntityTypeListPanel = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function () {\n    if (!showEntityTypeList) return;\n    setShowList(false);\n  }, [showEntityTypeList]);\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.useOnClickOutside)([entitylistRef], function () {\n    handleCloseEntityTypeListPanel();\n  });\n  var listData = (0,react__WEBPACK_IMPORTED_MODULE_15__.useMemo)(function () {\n    var listData = [];\n    if (isRoot) {\n      listData = (0,_constant_NodeType__WEBPACK_IMPORTED_MODULE_21__.ENTITY_LIST_TYPE)();\n    } else if (isSecondLevel) {\n      listData = (0,_constant_NodeType__WEBPACK_IMPORTED_MODULE_21__.SECOND_ENTITY_LIST_TYPE)();\n    }\n    return listData;\n  }, [isRoot, isSecondLevel]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_17___default()(\"\".concat(treeNodePrefixCls, \"-item\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-item-hover\"), !disabled && selectable), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-selected\"), selected && selectable && !disabled), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-disabled\"), disabled), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"\".concat(treeNodePrefixCls, \"-opened\"), expandState), _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context = \"\".concat(treeNodePrefixCls, \"-item-\")).call(_context, nodeKey), className),\n    style: _objectSpread({\n      height: \"\".concat(estimatedItemSize)\n    }, style),\n    onClick: handleClick\n  }, renderNode(), showEntityTypeList && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(EntityTypeListPanel, {\n    listData: listData,\n    close: handleCloseEntityTypeListPanel,\n    addEntityNode: addEntityNode,\n    entitylistRef: entitylistRef\n  }));\n});\nTreeNode.displayName = 'TreeNode';\n/* harmony default export */ __webpack_exports__[\"default\"] = (TreeNode);\nvar EntityTypeListPanel = function EntityTypeListPanel(_ref) {\n  var listData = _ref.listData,\n    close = _ref.close,\n    addEntityNode = _ref.addEntityNode,\n    entitylistRef = _ref.entitylistRef;\n  var treeNodePrefixCls = 'entity-designer-tree-node';\n  var entityTypeList = classnames__WEBPACK_IMPORTED_MODULE_17___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, treeNodePrefixCls + '-entity-type-list', true), treeNodePrefixCls + '-entity-type-list-tb', true));\n  var handleItemClick = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (e, item) {\n    e.stopPropagation();\n    addEntityNode && addEntityNode(item);\n    close && close();\n  }, [close, addEntityNode]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: entityTypeList,\n    ref: entitylistRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: treeNodePrefixCls + '-entity-type-list-constent'\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(listData).call(listData, function (item, index) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n      key: index,\n      className: treeNodePrefixCls + '-entity-type-list-constent-item',\n      onClick: function onClick(e) {\n        return handleItemClick(e, item);\n      }\n    }, item.name);\n  })));\n};\n\n//# sourceURL=webpack://entity-designer/./src/controls/Tree/treeNode.tsx?");

/***/ }),

/***/ 6660:
/*!*****************************************!*\
  !*** ./src/controls/Tree/treeUtils.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addKeys: function() { return /* binding */ addKeys; },\n/* harmony export */   allChildChecked: function() { return /* binding */ allChildChecked; },\n/* harmony export */   buildTree: function() { return /* binding */ buildTree; },\n/* harmony export */   compDefaultProps: function() { return /* binding */ compDefaultProps; },\n/* harmony export */   delKey: function() { return /* binding */ delKey; },\n/* harmony export */   flatMap: function() { return /* binding */ flatMap; },\n/* harmony export */   flattenAll: function() { return /* binding */ flattenAll; },\n/* harmony export */   getAllChildKeys: function() { return /* binding */ getAllChildKeys; },\n/* harmony export */   getAllNodeKeys: function() { return /* binding */ getAllNodeKeys; },\n/* harmony export */   getAllParentKeys: function() { return /* binding */ getAllParentKeys; },\n/* harmony export */   getAllParentPos: function() { return /* binding */ getAllParentPos; },\n/* harmony export */   getChecked: function() { return /* binding */ getChecked; },\n/* harmony export */   getCompProps: function() { return /* binding */ getCompProps; },\n/* harmony export */   getDataCheckededState: function() { return /* binding */ getDataCheckededState; },\n/* harmony export */   getDataCheckededStateStrictly: function() { return /* binding */ getDataCheckededStateStrictly; },\n/* harmony export */   getExpand: function() { return /* binding */ getExpand; },\n/* harmony export */   getExpandedKeys: function() { return /* binding */ getExpandedKeys; },\n/* harmony export */   getFilterData: function() { return /* binding */ getFilterData; },\n/* harmony export */   getHalfChecked: function() { return /* binding */ getHalfChecked; },\n/* harmony export */   getInitCheckedKeys: function() { return /* binding */ getInitCheckedKeys; },\n/* harmony export */   getInitCheckededState: function() { return /* binding */ getInitCheckededState; },\n/* harmony export */   getInitExpandedKeys: function() { return /* binding */ getInitExpandedKeys; },\n/* harmony export */   getMaxLevel: function() { return /* binding */ getMaxLevel; },\n/* harmony export */   getNextSelectedId: function() { return /* binding */ getNextSelectedId; },\n/* harmony export */   getPos: function() { return /* binding */ getPos; },\n/* harmony export */   getPrefixCls: function() { return /* binding */ getPrefixCls; },\n/* harmony export */   getRootKeys: function() { return /* binding */ getRootKeys; },\n/* harmony export */   getSelected: function() { return /* binding */ getSelected; },\n/* harmony export */   getSpreadAttrData: function() { return /* binding */ getSpreadAttrData; },\n/* harmony export */   hasChildCheckState: function() { return /* binding */ hasChildCheckState; },\n/* harmony export */   hasParentChecked: function() { return /* binding */ hasParentChecked; },\n/* harmony export */   isAllParentExpand: function() { return /* binding */ isAllParentExpand; },\n/* harmony export */   isChild: function() { return /* binding */ isChild; },\n/* harmony export */   isChildNode: function() { return /* binding */ isChildNode; },\n/* harmony export */   isParentNode: function() { return /* binding */ isParentNode; },\n/* harmony export */   transformTree: function() { return /* binding */ transformTree; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/last-index-of */ 96432);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/starts-with */ 49464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/some */ 65624);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/every */ 30479);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 89843);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 59312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 11872);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 88836);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/values */ 5848);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_28__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_30__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 97440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 64248);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_31__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_32__);\n\n\n\n\nvar _excluded = [\"children\", \"title\", \"key\"],\n  _excluded2 = [\"title\", \"key\", \"icon\", \"disabled\", \"checkable\", \"pos\", \"level\", \"hasChildNode\", \"selectable\"];\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_4___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_5___default()(o) || o[\"@@iterator\"]; if (!it) { if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6___default()(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context8; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_7___default()(_context8 = Object.prototype.toString.call(o)).call(_context8, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_9___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_10___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_10___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_12___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context6, _context7; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(_context6 = ownKeys(Object(t), !0)).call(_context6, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_14___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_15___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_14___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(_context7 = ownKeys(Object(t))).call(_context7, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_16___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_12___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * 打平所有数组，并添加pos位置信息，\n * 方便根据expandKeys等计算节点的expand，checkedKeys计算节点checked状态\n * @param treeData [{key:'',title:'',children:[]}]\n * @param newTreeData[{key:'',title:'',children:[], pos:'', hasChildNode, level}]\n * @param level\n * @param pos\n */\nvar flattenAll = function flattenAll(treeData) {\n  var newTreeData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var pos = arguments.length > 3 ? arguments[3] : undefined;\n  treeData && _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(treeData).call(treeData, function (item, index) {\n    var _context;\n    var children = item.children,\n      title = item.title,\n      key = item.key,\n      others = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(item, _excluded);\n    var _pos = pos ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context = \"\".concat(pos, \"-\")).call(_context, index) : \"\".concat(index);\n    var hasChildNode = children && children instanceof Array && children.length > 0;\n    newTreeData.push(_objectSpread({\n      title: title,\n      key: key,\n      pos: _pos,\n      hasChildNode: hasChildNode,\n      level: level\n    }, others));\n    var _level = level;\n    _level++;\n    flattenAll(children, newTreeData, _level, _pos);\n  });\n  return newTreeData;\n};\nvar getExpand = function getExpand(expandedKeys, key) {\n  return expandedKeys === null || expandedKeys === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(expandedKeys).call(expandedKeys, key);\n};\nvar getChecked = function getChecked(checkedKeys, key) {\n  return checkedKeys === null || checkedKeys === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(checkedKeys).call(checkedKeys, key);\n};\nvar getSelected = function getSelected(selectedKeys, key) {\n  return selectedKeys === null || selectedKeys === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(selectedKeys).call(selectedKeys, key);\n};\nvar getHalfChecked = function getHalfChecked(halfCheckedKeys, key) {\n  return halfCheckedKeys === null || halfCheckedKeys === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(halfCheckedKeys).call(halfCheckedKeys, key);\n};\n\n/**\n * 获取所有层级的父节点\n * @param data\n * @param pos\n */\nvar isAllParentExpand = function isAllParentExpand(data, pos) {\n  var expand = true;\n  while (_babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19___default()(pos).call(pos, '-') > -1 && expand) {\n    pos = pos.substring(0, _babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19___default()(pos).call(pos, '-'));\n    var parentNode = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default()(data).call(data, function (item) {\n      return item.pos === pos;\n    });\n    expand = parentNode === null || parentNode === void 0 ? void 0 : parentNode.expand;\n  }\n  return expand;\n};\nvar getFilterData = function getFilterData(data) {\n  var newData = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(data).call(data, function (item) {\n    var pos = item.pos;\n    var parentExpand = isAllParentExpand(data, pos);\n    if (parentExpand) {\n      newData.push(item);\n    }\n  });\n  return newData;\n};\nvar hasParentChecked = function hasParentChecked(data, checkedKeys) {\n  var pos = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var checked = false;\n  while (_babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19___default()(pos).call(pos, '-') > -1 && !checked) {\n    pos = pos.substring(0, _babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19___default()(pos).call(pos, '-'));\n    var parentNode = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default()(data).call(data, function (item) {\n      return item.pos === pos;\n    });\n    checked = getChecked(checkedKeys, parentNode.key);\n  }\n  return checked;\n};\nvar isChild = function isChild(itemPos, pos, condition) {\n  var index = _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_21___default()(itemPos).call(itemPos, pos);\n  var str = itemPos.substr(index + pos.length, 1);\n  if (_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_22___default()(itemPos).call(itemPos, pos) && str === '-' && condition) {\n    return true;\n  }\n  return false;\n};\nvar hasChildCheckState = function hasChildCheckState(data, halfCheckedKeys, checkedKeys, pos, level) {\n  var isInit = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  var childNodes = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(data).call(data, function (item) {\n    if (isInit) {\n      return isChild(item.pos, pos, pos !== item.pos);\n    }\n    return isChild(item.pos, pos, level === item.level - 1);\n  });\n  var childNodesCheckedState = [];\n  var childNodesHalfCheckedState = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(childNodes).call(childNodes, function (item) {\n    childNodesCheckedState.push(getChecked(checkedKeys, item.key));\n    childNodesHalfCheckedState.push(getChecked(halfCheckedKeys, item.key));\n  });\n  var checked = _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_23___default()(childNodesCheckedState).call(childNodesCheckedState, function (item) {\n    return item === true;\n  });\n  var halfChecked = _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_23___default()(childNodesHalfCheckedState).call(childNodesHalfCheckedState, function (item) {\n    return item === true;\n  });\n  return {\n    checked: checked,\n    halfChecked: halfChecked\n  };\n};\nvar allChildChecked = function allChildChecked(data, checkedKeys, pos, level, init) {\n  var childNodes = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(data).call(data, function (item) {\n    if (init) {\n      return isChild(item.pos, pos, pos !== item.pos);\n    }\n    return isChild(item.pos, pos, level === item.level - 1);\n  });\n  var childNodesCheckedState = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(childNodes).call(childNodes, function (item) {\n    childNodesCheckedState.push(getChecked(checkedKeys, item.key));\n  });\n  var checked = _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_24___default()(childNodesCheckedState).call(childNodesCheckedState, function (item) {\n    return item === true;\n  });\n  return checked;\n};\nvar getMaxLevel = function getMaxLevel(data) {\n  var maxLevel = 0;\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(data).call(data, function (item) {\n    maxLevel = item.level > maxLevel ? item.level : maxLevel;\n  });\n  return maxLevel;\n};\n/**\n *计算node的属性后返回新的 treedata\n * @param treeData  打平后的treeData [{key:'',title:'',children:[], pos:''}]\n * @param defaultExpandRoot\n * @param expandedKeys\n * @param defaultExpandAll\n */\nvar getSpreadAttrData = function getSpreadAttrData(treeData, expandedKeys) {\n  var newTreeData = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(treeData).call(treeData, function (item) {\n    var title = item.title,\n      key = item.key,\n      icon = item.icon,\n      disabled = item.disabled,\n      checkable = item.checkable,\n      pos = item.pos,\n      level = item.level,\n      hasChildNode = item.hasChildNode,\n      selectable = item.selectable,\n      others = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(item, _excluded2);\n    var itemExpand = getExpand(expandedKeys, key);\n    var expand = itemExpand || false;\n    newTreeData.push(_objectSpread({\n      title: title,\n      key: key,\n      level: level,\n      pos: pos,\n      hasChildNode: hasChildNode,\n      expand: expand,\n      icon: icon,\n      disabled: disabled,\n      checkable: checkable,\n      selectable: selectable\n    }, others));\n  });\n  return newTreeData;\n};\nvar addKeys = function addKeys() {\n  var _context2;\n  var prevKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var newKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25___default())(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context2 = []).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prevKeys), (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(newKeys))));\n};\nvar getAllParentKeys = function getAllParentKeys(data) {\n  var pos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var keys = [];\n  while (_babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19___default()(pos).call(pos, '-') > -1) {\n    pos = pos.substring(0, _babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19___default()(pos).call(pos, '-'));\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(data).call(data, function (item) {\n      if (item.pos === pos) {\n        keys.push(item.key);\n      }\n    });\n  }\n  return keys;\n};\nvar getAllParentPos = function getAllParentPos(data) {\n  var pos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var posArr = [];\n  while (_babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19___default()(pos).call(pos, '-') > -1) {\n    pos = pos.substring(0, _babel_runtime_corejs3_core_js_stable_instance_last_index_of__WEBPACK_IMPORTED_MODULE_19___default()(pos).call(pos, '-'));\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(data).call(data, function (item) {\n      if (item.pos === pos) {\n        posArr.push(item.pos);\n      }\n    });\n  }\n  return posArr;\n};\nvar getAllChildKeys = function getAllChildKeys(data) {\n  var pos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var keys = [];\n  var childNodes = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(data).call(data, function (item) {\n    return isChild(item.pos, pos, pos !== item.pos);\n  });\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(childNodes).call(childNodes, function (item) {\n    keys.push(item.key);\n  });\n  return keys;\n};\nvar getPos = function getPos(data, key) {\n  var node = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default()(data).call(data, function (item) {\n    return item.key === key;\n  });\n  return node === null || node === void 0 ? void 0 : node.pos;\n};\nvar getInitCheckedKeys = function getInitCheckedKeys(data, keys) {\n  var _context3;\n  var checkedKeys = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(keys).call(keys, function (item) {\n    var pos = getPos(data, item);\n    checkedKeys.push.apply(checkedKeys, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(getAllChildKeys(data, pos)));\n  });\n  return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25___default())(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context3 = []).call(_context3, checkedKeys, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(keys))));\n};\nvar getInitCheckededState = function getInitCheckededState(data) {\n  var checkedKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var maxLevel = arguments.length > 2 ? arguments[2] : undefined;\n  var init = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var _checkedKeys = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(checkedKeys);\n  var _halfCheckedKeys = [];\n  var _loop = function _loop(i) {\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(data).call(data, function (item) {\n      if (item.level === i) {\n        var selfChecked = getChecked(_checkedKeys, item.key);\n        var _hasChildCheckState = item.hasChildNode && hasChildCheckState(data, _halfCheckedKeys, _checkedKeys, item.pos, item.level, init);\n        var _allChildChecked = item.hasChildNode && allChildChecked(data, _checkedKeys, item.pos, item.level, init);\n        var _hasChildChecked = _hasChildCheckState === null || _hasChildCheckState === void 0 ? void 0 : _hasChildCheckState.checked;\n        var _hasHalfChildChecked = _hasChildCheckState === null || _hasChildCheckState === void 0 ? void 0 : _hasChildCheckState.halfChecked;\n        var _hasParentChecked = hasParentChecked(data, checkedKeys, item.pos);\n        var checked = selfChecked || _hasParentChecked || _allChildChecked;\n        if (checked) {\n          _checkedKeys.push(item.key);\n        }\n        var halfChecked = (_hasChildChecked || _hasHalfChildChecked) && !checked;\n        if (halfChecked) {\n          _halfCheckedKeys.push(item.key);\n        }\n      }\n    });\n  };\n  for (var i = maxLevel; i >= 0; i--) {\n    _loop(i);\n  }\n  return {\n    checkedKeys: _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25___default())(_checkedKeys)),\n    halfCheckedKeys: _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25___default())(_halfCheckedKeys))\n  };\n};\nvar getDataCheckededState = function getDataCheckededState(data, checkedKeys, halfCheckedKeys, maxLevel) {\n  var init = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var pos = arguments.length > 5 ? arguments[5] : undefined;\n  var value = arguments.length > 6 ? arguments[6] : undefined;\n  var _checkedKeys = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(checkedKeys);\n  var _halfCheckedKeys = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(halfCheckedKeys);\n  var _loop2 = function _loop2(i) {\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(data).call(data, function (item) {\n      var selfChecked = getChecked(_checkedKeys, item.key);\n      var selfHalfChecked = getChecked(_halfCheckedKeys, item.key);\n      var _allChildChecked = item.hasChildNode && allChildChecked(data, _checkedKeys, item.pos, item.level, false);\n      var _hasChildCheckState = item.hasChildNode && hasChildCheckState(data, _halfCheckedKeys, _checkedKeys, item.pos, item.level, init);\n      var _hasChildChecked = _hasChildCheckState === null || _hasChildCheckState === void 0 ? void 0 : _hasChildCheckState.checked;\n      var _hasHalfChildChecked = _hasChildCheckState === null || _hasChildCheckState === void 0 ? void 0 : _hasChildCheckState.halfChecked;\n      if (item.level === i) {\n        if (item.disabled) return; // 节点被禁用\n        if (value) {\n          if (!selfChecked) {\n            if (isParentNode(item.pos, pos)) {\n              _checkedKeys.push(item.key);\n              _halfCheckedKeys = delKey(_halfCheckedKeys, [item.key]);\n            } else if (isChildNode(item.pos, pos)) {\n              if (_allChildChecked) {\n                _checkedKeys.push(item.key);\n              } else if (_hasChildChecked || _hasHalfChildChecked) {\n                _halfCheckedKeys.push(item.key);\n              }\n            }\n          }\n        } else {\n          if (selfChecked) {\n            if (isParentNode(item.pos, pos)) {\n              _checkedKeys = delKey(_checkedKeys, [item.key]);\n            } else if (isChildNode(item.pos, pos)) {\n              if (!_allChildChecked && (_hasChildChecked || _hasHalfChildChecked)) {\n                _halfCheckedKeys.push(item.key);\n              }\n              _checkedKeys = delKey(_checkedKeys, [item.key]);\n            }\n          } else if (selfHalfChecked) {\n            if (!_hasChildChecked && !_hasHalfChildChecked) {\n              _halfCheckedKeys = delKey(_halfCheckedKeys, [item.key]);\n            }\n          }\n        }\n      }\n    });\n  };\n  for (var i = maxLevel; i >= 0; i--) {\n    _loop2(i);\n  }\n  return {\n    checkedKeys: _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25___default())(_checkedKeys)),\n    halfCheckedKeys: _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25___default())(_halfCheckedKeys))\n  };\n};\nvar getDataCheckededStateStrictly = function getDataCheckededStateStrictly(checkedKeys) {\n  var _checkedKeys = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(checkedKeys);\n  return {\n    checkedKeys: _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25___default())(_checkedKeys)),\n    halfCheckedKeys: []\n  };\n};\nvar isChildNode = function isChildNode(pos, childPos) {\n  return isChild(childPos, pos, pos !== childPos);\n};\nvar isParentNode = function isParentNode(pos, childPos) {\n  return isChildNode(childPos, pos);\n};\nvar delKey = function delKey(prevKeys, delKeys) {\n  var keys = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([], prevKeys);\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(delKeys).call(delKeys, function (item) {\n    var index = _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_21___default()(keys).call(keys, item);\n    index > -1 && _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_26___default()(keys).call(keys, index, 1);\n  });\n  return keys;\n};\nvar getAllNodeKeys = function getAllNodeKeys(data) {\n  var keys = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(data).call(data, function (item) {\n    keys.push(item.key);\n  });\n  return keys;\n};\nvar getRootKeys = function getRootKeys(data) {\n  var rootKey = '';\n  var NO_ROOT = undefined;\n  var firstLevelNodes = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(data).call(data, function (item) {\n    var _item$pos;\n    return ((_item$pos = item.pos) === null || _item$pos === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_21___default()(_item$pos).call(_item$pos, '-')) === -1;\n  });\n  if (firstLevelNodes.length > 1) return NO_ROOT;\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(data).call(data, function (item) {\n    if (item.pos === '0') {\n      rootKey = item.key;\n    }\n  });\n  return rootKey;\n};\nvar getInitExpandedKeys = function getInitExpandedKeys(data, expandedKeys, defaultExpandedKeys, defaultExpandAll, defaultExpandRoot, defaultExpandParent) {\n  var expandScrollkeys = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [];\n  var keys = (expandedKeys === null || expandedKeys === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(expandedKeys).call(expandedKeys, expandScrollkeys)) || (defaultExpandedKeys === null || defaultExpandedKeys === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(defaultExpandedKeys).call(defaultExpandedKeys, expandScrollkeys)) || [];\n  if (defaultExpandAll) {\n    keys = getAllNodeKeys(data);\n  } else {\n    if (defaultExpandRoot) {\n      var rootKey = getRootKeys(data);\n      if (rootKey) {\n        keys = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(keys).call(keys, rootKey);\n      }\n    }\n    if (defaultExpandParent) {\n      var parentKeys = [];\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(keys).call(keys, function (key) {\n        parentKeys.push.apply(parentKeys, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(getAllParentKeys(data, key)));\n      });\n      keys = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(keys).call(keys, parentKeys);\n    }\n  }\n  return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25___default())((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(keys)));\n};\nvar getExpandedKeys = function getExpandedKeys(expandedKeys) {\n  var expandScrollkeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var keys = (expandedKeys === null || expandedKeys === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(expandedKeys).call(expandedKeys, expandScrollkeys)) || [];\n  return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_25___default())((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(keys)));\n};\nvar compDefaultProps = {\n  Tree: {\n    defaultExpandAll: false,\n    defaultExpandRoot: false,\n    checkable: false,\n    checkStrictly: false,\n    disabled: false,\n    draggable: false,\n    virtual: true,\n    switcherIcon: function switcherIcon() {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_32___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_31__.Icon, {\n        type: \"arrow-right-solid\"\n      });\n    }\n  },\n  TreeNode: {}\n};\nvar getCompProps = function getCompProps(compName, userDefaultProps, compProps) {\n  var defaultProps = compDefaultProps[compName];\n  var userProps = userDefaultProps && userDefaultProps[compName] || {};\n  return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, defaultProps, userProps, compProps || {});\n};\nvar getPrefixCls = function getPrefixCls(configPrefixCls, suffixCls, customizePrefixCls) {\n  var _context4;\n  // 获取样式前缀方法\n  if (customizePrefixCls) return customizePrefixCls;\n  configPrefixCls = configPrefixCls || 'kd';\n  var t = suffixCls ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context4 = \"\".concat(configPrefixCls, \"-\")).call(_context4, suffixCls) : configPrefixCls;\n  return t;\n};\nfunction flatMap(array, callback) {\n  var result = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_13___default()(array).call(array, function (value, index) {\n    result.push.apply(result, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(callback(value, index, array)));\n  });\n  return result;\n}\n\n/**\n * 根据 idProp 与 parentIdProp 从对象数组中构建对应的树\n * 当 A[parentIdProp] === B[idProp] 时，对象A会被移动到对象B的children。\n * 当一个对象的 parentIdProp 不与其他对象的 idProp 字段相等时，该对象被作为树的顶层节点\n * @example\n * const array = [\n *   { id: 'node-1', parent: 'root' },\n *   { id: 'node-2', parent: 'root' },\n *   { id: 'node-3', parent: 'node-2' },\n *   { id: 'node-4', parent: 'node-2' },\n *   { id: 'node-5', parent: 'node-4' },\n * ]\n * const tree = buildTree('id', 'parent', array)\n * expect(tree).toEqual([\n *   { id: 'node-1', parent: 'root' },\n *   {\n *     id: 'node-2',\n *     parent: 'root',\n *     children: [\n *       { id: 'node-3', parent: 'node-2' },\n *       {\n *         id: 'node-4',\n *         parent: 'node-2',\n *         children: [{ id: 'node-5', parent: 'node-4' }],\n *       },\n *     ],\n *   },\n * ])\n */\n\nfunction buildTree(idProp, parentIdProp, items) {\n  var _context5;\n  var wrapperMap = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_27___default())();\n  var ensure = function ensure(id) {\n    if (wrapperMap.has(id)) {\n      return wrapperMap.get(id);\n    }\n    var wrapper = {\n      id: id,\n      parent: null,\n      item: null,\n      children: []\n    };\n    wrapperMap.set(id, wrapper);\n    return wrapper;\n  };\n  var _iterator = _createForOfIteratorHelper(items),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      var parentWrapper = ensure(item[parentIdProp]);\n      var itemWrapper = ensure(item[idProp]);\n      itemWrapper.parent = parentWrapper;\n      parentWrapper.children.push(itemWrapper);\n      itemWrapper.item = item;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  var topLevelWrappers = flatMap(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(_context5 = _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_28___default()(wrapperMap).call(wrapperMap))).call(_context5, function (wrapper) {\n    return wrapper.parent == null;\n  }), function (wrapper) {\n    return wrapper.children;\n  });\n  return unwrapRecursively(topLevelWrappers);\n  function unwrapRecursively(wrapperArray) {\n    var result = [];\n    var _iterator2 = _createForOfIteratorHelper(wrapperArray),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var wrapper = _step2.value;\n        if (wrapper.children.length === 0) {\n          result.push(wrapper.item);\n        } else {\n          result.push(_objectSpread(_objectSpread({}, wrapper.item), {}, {\n            children: unwrapRecursively(wrapper.children)\n          }));\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    return result;\n  }\n}\nfunction transformTree(items) {\n  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_29___default()(items).call(items, function (item, index) {\n    return _objectSpread(_objectSpread({}, item), {}, {\n      key: item === null || item === void 0 ? void 0 : item.Id,\n      title: item === null || item === void 0 ? void 0 : item.Name\n    });\n  });\n}\nfunction getNextSelectedId(flatTreeData, id) {\n  //1.获取当前节点\n  var currentNode = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default()(flatTreeData).call(flatTreeData, function (item) {\n    return (item === null || item === void 0 ? void 0 : item.Id) === id;\n  });\n  //2.获取父节点\n  var parentNode = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_20___default()(flatTreeData).call(flatTreeData, function (item) {\n    return (item === null || item === void 0 ? void 0 : item.Id) === (currentNode === null || currentNode === void 0 ? void 0 : currentNode.ParentId);\n  });\n  //3.获取全部的兄弟节点\n  var allSubNode = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(flatTreeData).call(flatTreeData, function (item) {\n    return (item === null || item === void 0 ? void 0 : item.ParentId) === (parentNode === null || parentNode === void 0 ? void 0 : parentNode.Id);\n  });\n  //4.获取当前节点所在的顺序\n  var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_30___default()(allSubNode).call(allSubNode, function (item) {\n    return (item === null || item === void 0 ? void 0 : item.Id) === id;\n  });\n  //5.获取前面的节点\n  var prevNode = allSubNode[index - 1];\n  //6.获取后面的节点\n  var nextNode = allSubNode[index + 1];\n  if (prevNode) {\n    return prevNode.Id;\n  } else if (nextNode) {\n    return nextNode.Id;\n  } else if (parentNode) {\n    return parentNode.Id;\n  } else {\n    return id;\n  }\n}\n\n//# sourceURL=webpack://entity-designer/./src/controls/Tree/treeUtils.tsx?");

/***/ }),

/***/ 82684:
/*!*******************************!*\
  !*** ./src/controls/index.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContextMenu: function() { return /* reexport safe */ _ContextMenu__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   EntityNode: function() { return /* reexport safe */ _EntityNode__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   FieldNode: function() { return /* reexport safe */ _FieldNode__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; },\n/* harmony export */   ListTable: function() { return /* reexport safe */ _ListTable__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; },\n/* harmony export */   ListTree: function() { return /* reexport safe */ _ListTree__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; },\n/* harmony export */   NavToolBar: function() { return /* reexport safe */ _NavToolBar__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; },\n/* harmony export */   NavToolBarRight: function() { return /* reexport safe */ _NavToolBarRight__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   OperationBtns: function() { return /* reexport safe */ _OperationBtns__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   SearchBox: function() { return /* reexport safe */ _SearchBox__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; }\n/* harmony export */ });\n/* harmony import */ var _ContextMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ContextMenu */ 45780);\n/* harmony import */ var _EntityNode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EntityNode */ 29488);\n/* harmony import */ var _FieldNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FieldNode */ 72492);\n/* harmony import */ var _ListTable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ListTable */ 87432);\n/* harmony import */ var _ListTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ListTree */ 86932);\n/* harmony import */ var _NavToolBar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./NavToolBar */ 5660);\n/* harmony import */ var _NavToolBarRight__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./NavToolBarRight */ 20792);\n/* harmony import */ var _OperationBtns__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./OperationBtns */ 5504);\n/* harmony import */ var _SearchBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./SearchBox */ 14284);\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://entity-designer/./src/controls/index.ts?");

/***/ }),

/***/ 3408:
/*!***************************************!*\
  !*** ./src/editors/ecombo-editor.tsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * @Description: 属性关联编辑器\n */\n\n\n\nvar METATYPE = 'entitymeta';\nvar EComboEditor = function EComboEditor(props) {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_1__.DesignerContext),\n    getDataRef = _useContext.getDataRef,\n    getModel = _useContext.getModel,\n    getKdesignerApi = _useContext.getKdesignerApi;\n  return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.createEComboEditor)({\n    getDataRef: getDataRef,\n    getModel: getModel,\n    getKdesignerApi: getKdesignerApi,\n    metaType: METATYPE\n  })(props);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EComboEditor);\n\n//# sourceURL=webpack://entity-designer/./src/editors/ecombo-editor.tsx?");

/***/ }),

/***/ 58036:
/*!******************************!*\
  !*** ./src/editors/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ecombo_editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecombo-editor */ 3408);\n/* harmony import */ var _refcombo_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./refcombo-editor */ 41328);\n/* harmony import */ var _refmcombo_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./refmcombo-editor */ 28052);\n/* harmony import */ var _input_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./input-editor */ 79324);\n/* harmony import */ var _select_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-editor */ 7276);\n/* harmony import */ var _ref_edit_btn_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ref-edit-btn-editor */ 77436);\n/*\n * @Description: 业务属性编辑器\n */\n\n\n\n\n\n\nvar getPropertyEditors = function getPropertyEditors() {\n  return [['ECombo', _ecombo_editor__WEBPACK_IMPORTED_MODULE_0__[\"default\"], ''], ['RefCombo', _refcombo_editor__WEBPACK_IMPORTED_MODULE_1__.RefComboEditor, ''], ['RefMCombo', _refmcombo_editor__WEBPACK_IMPORTED_MODULE_2__.RefMComboEditor, ''], ['Input', _input_editor__WEBPACK_IMPORTED_MODULE_3__[\"default\"], ''], ['Select', _select_editor__WEBPACK_IMPORTED_MODULE_4__[\"default\"], ''], ['RefEditBtn', _ref_edit_btn_editor__WEBPACK_IMPORTED_MODULE_5__[\"default\"], '']];\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (getPropertyEditors);\n\n//# sourceURL=webpack://entity-designer/./src/editors/index.ts?");

/***/ }),

/***/ 79324:
/*!**************************************!*\
  !*** ./src/editors/input-editor.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nvar EComboEditor = function EComboEditor(props) {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_1__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.createInputEditor)({\n    editorComponent: _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__.Input,\n    getKdesignerApi: getKdesignerApi\n  })(props);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EComboEditor);\n\n//# sourceURL=webpack://entity-designer/./src/editors/input-editor.tsx?");

/***/ }),

/***/ 77436:
/*!*********************************************!*\
  !*** ./src/editors/ref-edit-btn-editor.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 11872);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _kd_designer_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../kd-designer/index */ 80143);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../context */ 90115);\n\n\n\n\n\n\n/*\n * @Description:\n * @Author: yingjin_he\n * @Date: 2023-04-24 19:57:59\n * @LastEditTime: 2023-04-24 14:57:27\n * @Last Modified by: yingjin_he\n */\n\n\n\n\n\nvar RefEditBtn = function RefEditBtn(props) {\n  var handleChange = props.handleChange,\n    _onCustomInputClick = props.onCustomInputClick,\n    value = props.value,\n    className = props.className,\n    locked = props.locked,\n    Editor = props.Editor,\n    propName = props.Name,\n    field = props.field,\n    propId = props.Id,\n    tips = props.Tips,\n    readOnly = props.ReadOnly,\n    dataContext = props.dataContext,\n    id = props.id;\n  var nameHidden = Editor.NameHidden,\n    MaxLength = Editor.MaxLength,\n    Min = Editor.Min,\n    Max = Editor.Max,\n    required = Editor.Required,\n    type = Editor.Type,\n    placeholder = Editor.Placeholder,\n    autoSize = Editor.AutoSize,\n    count = Editor.Count,\n    countPosition = Editor.CountPosition,\n    canResize = Editor.CanResize,\n    Apply = Editor.Apply,\n    RefId = Editor.RefId;\n  var fieldType = field._Type_,\n    _field$Inherit = field.Inherit,\n    Inherit = _field$Inherit === void 0 ? false : _field$Inherit;\n  var _Apply$Allowinheritre = Apply.Allowinheritref,\n    Allowinheritref = _Apply$Allowinheritre === void 0 ? true : _Apply$Allowinheritre;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_6__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.GlobalConfigContext),\n    setMessage = _useContext.showMessage,\n    onCustomInputClick = _useContext.onCustomInputClick,\n    controlsAddedByForntEnd = _useContext.controlsAddedByForntEnd;\n  // 系统参数\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_context__WEBPACK_IMPORTED_MODULE_10__.DesignerContext),\n    config = _useContext2.config;\n  var title = MaxLength ? \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.getLangMsg)({\n    key: 'entityd.refEditBtnEditor.key0001',\n    variables: {\n      MaxLength: MaxLength\n    }\n  })) : '';\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(value || ''),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    isFocused = _useState4[0],\n    setIsFocused = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState5, 2),\n    refValue = _useState6[0],\n    setRefValue = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.getLangMsg)('entityd.refEditBtnEditor.key0002')),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState7, 2),\n    refTips = _useState8[0],\n    setRefTips = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(false),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState9, 2),\n    enableQuote = _useState10[0],\n    setEnableQuote = _useState10[1];\n  // 模式1，即可以输入也可以点击右侧图标、模式2，只能点击右侧图标，不允许输入。模式3，只能输入\n  var kdesignerRefType = (0,react__WEBPACK_IMPORTED_MODULE_6__.useRef)((config === null || config === void 0 ? void 0 : config.kdesignerRefType) || '1');\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_6__.useRef)(null);\n  var timer = (0,react__WEBPACK_IMPORTED_MODULE_6__.useRef)(null);\n\n  // 更新设计器属性值 key为属性id，value为属性值。\n  var updateDataValue = function updateDataValue(key, value) {\n    dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.createUpdateAction)([[id, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, key, value)]]));\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {\n    // Allowinheritref 是控制是否需要判断继承字段是否生效，false是需要判断，true是不需要判断\n    // Inherit 继承字段\n    if (Allowinheritref || !Inherit) {\n      var _context;\n      // 是否生效引用类型，如果没有传appIy默认生效，传了就判断是否包含该字段\n      var isEnableQuote = Apply ? _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(_context = Apply.Field).call(_context, fieldType) : true;\n      var isEnableType = kdesignerRefType.current !== '3';\n      setEnableQuote(isEnableQuote && isEnableType);\n    } else {\n      // 继承字段不生效\n      setEnableQuote(false);\n    }\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {\n    if (!isFocused && value !== innerValue) {\n      setInnerValue(value);\n    }\n  }, [value, isFocused, innerValue]);\n\n  // 监听引用属性的变化\n  (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {\n    var newRefValue = field[RefId];\n    if (newRefValue !== refValue) {\n      setRefValue(newRefValue);\n      if (newRefValue) {\n        var newRefField = JSON.parse(newRefValue);\n        setRefTips(\"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.getLangMsg)({\n          key: 'entityd.refEditBtnEditor.key0003',\n          variables: {\n            Name: newRefField === null || newRefField === void 0 ? void 0 : newRefField.Name,\n            Key: newRefField === null || newRefField === void 0 ? void 0 : newRefField.Key\n          }\n        })));\n        // controlsAddedByForntEnd中排除已引用的字段，确保删除这个字段时，触发deleteConfirm请求\n        var delIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_3___default()(controlsAddedByForntEnd).call(controlsAddedByForntEnd, function (controlsId) {\n          return controlsId === id;\n        });\n        _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_4___default()(controlsAddedByForntEnd).call(controlsAddedByForntEnd, delIndex, 1);\n      } else {\n        setRefTips((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.getLangMsg)('entityd.refEditBtnEditor.key0002'));\n      }\n    }\n  }, [field[RefId]]);\n  var delayUpdateValue = function delayUpdateValue(val) {\n    if (val === value) return;\n    // 防抖\n    clearTimeout(timer.current);\n    timer.current = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default()(function () {\n      handleChange(val);\n    }, 300);\n  };\n  var onChange = function onChange(e) {\n    var _e$target;\n    var inputValue = ((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value) || '';\n    setInnerValue(inputValue);\n    delayUpdateValue(inputValue);\n  };\n  var onKeyDown = function onKeyDown(e) {\n    if (e.keyCode === 13) {\n      onBlur(e);\n    }\n  };\n  var onFocus = function onFocus() {\n    setIsFocused(true);\n  };\n  var onBlur = function onBlur(e) {\n    handleChange(e.target.value);\n    _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default()(function () {\n      setIsFocused(false);\n    }, 300);\n  };\n  var onClick = function onClick() {\n    if (locked && !field[RefId]) return;\n    // 实体相关应该在上层自己构造\n    if (_onCustomInputClick) {\n      _onCustomInputClick && _onCustomInputClick(propName, field, Editor);\n    } else {\n      onCustomInputClick && onCustomInputClick(propName, field, Editor);\n    }\n  };\n\n  // 解除引用，清空引用属性值\n  var handleRemoveRef = function handleRemoveRef() {\n    // 解除时给后端发起请求，告诉后端当前解除的id和引用标准字段的值\n    onCustomInputClick && onCustomInputClick(propName, field, Editor, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      type: 'del'\n    }, RefId, field[RefId]));\n    updateDataValue(RefId, '');\n  };\n\n  // 引用图标\n  var TipIcon = function TipIcon() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Tooltip, {\n      placement: \"top\",\n      tip: refTips\n    }, refValue ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"span\", {\n      className: \"\".concat(className, \"-quote\")\n    }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.getLangMsg)('entityd.refEditBtnEditor.key0004')) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"span\", {\n      className: \"\".concat(className, \"-no-quote\")\n    }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.getLangMsg)('entityd.refEditBtnEditor.key0005')));\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement((react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-flex-center\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_kd_designer_index__WEBPACK_IMPORTED_MODULE_8__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: propName,\n    tips: tips,\n    required: required\n  }), (enableQuote || field[RefId]) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(TipIcon, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-ref-input\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Input, {\n    ref: inputRef,\n    value: innerValue,\n    disabled: locked && !field[RefId],\n    title: title,\n    maxLength: MaxLength,\n    placeholder: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.getLangMsg)('entityd.refEditBtnEditor.key0006'),\n    borderType: \"bordered\",\n    readOnly: enableQuote && kdesignerRefType.current === '2' || field[RefId] // 生效引用类型，同时模式为2或者引用字段有值时只读\n    ,\n    onKeyDown: onKeyDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onChange: onChange,\n    suffix: (enableQuote || field[RefId]) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n      className: \"\".concat(className, \"-flex-icon\")\n    }, refValue && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n      className: \"\".concat(className, \"-clear\")\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Icon, {\n      type: \"close\",\n      onClick: handleRemoveRef\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Icon, {\n      prefix: \"designericon\",\n      style: {\n        cursor: locked && !field[RefId] ? 'not-allowed' : 'pointer'\n      },\n      type: \"gengduo\",\n      onClick: onClick\n    }))\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RefEditBtn);\n\n//# sourceURL=webpack://entity-designer/./src/editors/ref-edit-btn-editor.tsx?");

/***/ }),

/***/ 41328:
/*!*****************************************!*\
  !*** ./src/editors/refcombo-editor.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RefComboEditor: function() { return /* binding */ RefComboEditor; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * 关联属性编辑器\n */\n\n\n\n\nvar RefComboEditor = function RefComboEditor(props) {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.GlobalConfigContext),\n    keywordMapping = _useContext.keywordMapping;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_1__.DesignerContext),\n    getDataRef = _useContext2.getDataRef,\n    getModel = _useContext2.getModel,\n    getKdesignerApi = _useContext2.getKdesignerApi;\n  return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.createRefComboEditor)({\n    getDataRef: getDataRef,\n    getModel: getModel,\n    getKdesignerApi: getKdesignerApi,\n    keywordMapping: keywordMapping,\n    metaType: 'entitymeta'\n  })(props);\n};\n\n//# sourceURL=webpack://entity-designer/./src/editors/refcombo-editor.tsx?");

/***/ }),

/***/ 28052:
/*!******************************************!*\
  !*** ./src/editors/refmcombo-editor.tsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RefMComboEditor: function() { return /* binding */ RefMComboEditor; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * 关联属性编辑器（多选下拉）\n */\n\n\n\n\nvar RefMComboEditor = function RefMComboEditor(props) {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.GlobalConfigContext),\n    keywordMapping = _useContext.keywordMapping;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_1__.DesignerContext),\n    getDataRef = _useContext2.getDataRef,\n    getModel = _useContext2.getModel,\n    getKdesignerApi = _useContext2.getKdesignerApi;\n  return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.createRefComboEditor)({\n    getDataRef: getDataRef,\n    getModel: getModel,\n    getKdesignerApi: getKdesignerApi,\n    keywordMapping: keywordMapping,\n    multiple: true\n  })(props);\n};\n\n//# sourceURL=webpack://entity-designer/./src/editors/refmcombo-editor.tsx?");

/***/ }),

/***/ 7276:
/*!***************************************!*\
  !*** ./src/editors/select-editor.tsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar SelectEditor = function SelectEditor(props) {\n  return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.createSelectEditor)({\n    editorComponent: _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Select\n  })(props);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectEditor);\n\n//# sourceURL=webpack://entity-designer/./src/editors/select-editor.tsx?");

/***/ }),

/***/ 8184:
/*!**************************************!*\
  !*** ./src/hooks/useCopyAndPaste.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 39832);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_0__);\n\nvar COPY_CONTENT_KEY = 'formdesigner.CopyContent';\nvar setCopyContent = function setCopyContent(copyContent) {\n  window.localStorage.setItem(COPY_CONTENT_KEY, _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_0___default()(copyContent));\n};\nvar getCopyContent = function getCopyContent() {\n  var copyContent = window.localStorage.getItem(COPY_CONTENT_KEY);\n  if (copyContent) {\n    copyContent = JSON.parse(copyContent);\n  }\n  return copyContent;\n};\nvar useCopyAndPaste = function useCopyAndPaste() {\n  return {\n    setCopyContent: setCopyContent,\n    getCopyContent: getCopyContent\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useCopyAndPaste);\n\n//# sourceURL=webpack://entity-designer/./src/hooks/useCopyAndPaste.ts?");

/***/ }),

/***/ 32860:
/*!***************************************!*\
  !*** ./src/hooks/useDataControlId.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _constant_dataAttribute__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constant/dataAttribute */ 53684);\n\n\n\n\n// 控件一旦被载入，就需要赋予该属性：为后续选中查询控件做铺垫\nvar useDataControlId = function useDataControlId(properties) {\n  return (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _constant_dataAttribute__WEBPACK_IMPORTED_MODULE_2__.dataControlId, properties[_constant_propnames__WEBPACK_IMPORTED_MODULE_1__.ID]);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useDataControlId);\n\n//# sourceURL=webpack://entity-designer/./src/hooks/useDataControlId.ts?");

/***/ }),

/***/ 83588:
/*!********************************************!*\
  !*** ./src/hooks/useGetControlAllProps.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _useDataControlId__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./useDataControlId */ 32860);\n/* harmony import */ var _useNodeClick__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./useNodeClick */ 56828);\n/* harmony import */ var _useGetProperty__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./useGetProperty */ 91295);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\nvar useGetControlAllProps = function useGetControlAllProps(properties) {\n  var dataControlId = (0,_useDataControlId__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(properties);\n  var onClick = (0,_useNodeClick__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(properties[_constant_propnames__WEBPACK_IMPORTED_MODULE_12__.ID]);\n  var property = (0,_useGetProperty__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(properties);\n  return _objectSpread(_objectSpread({}, dataControlId), {}, {\n    onClick: onClick\n  }, property);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useGetControlAllProps);\n\n//# sourceURL=webpack://entity-designer/./src/hooks/useGetControlAllProps.ts?");

/***/ }),

/***/ 91295:
/*!*************************************!*\
  !*** ./src/hooks/useGetProperty.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ 45076);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _constant_propertyMap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constant/propertyMap */ 75452);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils */ 63612);\n\n\n\n\n\n\n\nvar useGetAllProperties = function useGetAllProperties(field) {\n  var type = field[_constant_propnames__WEBPACK_IMPORTED_MODULE_4__._TYPE_];\n  var propertyNames = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_6__.convertToArray)(_constant_propertyMap__WEBPACK_IMPORTED_MODULE_5__[\"default\"][type] || _constant_propertyMap__WEBPACK_IMPORTED_MODULE_5__[\"default\"].UndefinedControl);\n  }, [type]);\n  var properties = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_1___default()(propertyNames).call(propertyNames, function (prev, curr) {\n    var _ref = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_2___default()(curr) ? curr : [curr, curr],\n      _ref2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, 2),\n      fieldKey = _ref2[0],\n      mapKey = _ref2[1];\n    if (fieldKey in field) {\n      prev[mapKey] = field[fieldKey];\n    } else {\n      // 取默认值\n      // prev[curr] =\n    }\n    return prev;\n  }, {});\n  properties.isDesigner = true;\n  return properties;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useGetAllProperties);\n\n//# sourceURL=webpack://entity-designer/./src/hooks/useGetProperty.ts?");

/***/ }),

/***/ 87060:
/*!***************************************!*\
  !*** ./src/hooks/useKeyboardEvent.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constant_keyCode__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../constant/keyCode */ 40216);\n/* harmony import */ var _utils_client__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/client */ 77168);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _useCopyAndPaste__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./useCopyAndPaste */ 8184);\n/* harmony import */ var _utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/toolbarUtil */ 51032);\n/* harmony import */ var _constant_NodeType__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../constant/NodeType */ 5272);\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_2___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_2___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_4___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_6___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_7___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_6___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_8___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_4___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar useKeyboardEvent = function useKeyboardEvent(ref, isOutline) {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_context__WEBPACK_IMPORTED_MODULE_13__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    invokeAction = _useContext.invokeAction;\n  var kdesignerApi = (0,react__WEBPACK_IMPORTED_MODULE_11__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var selectionContext = kdesignerApi.selection;\n  var rootId = dataContext.getRootId();\n  var getSelection = selectionContext.getSelection,\n    setSelect = selectionContext.setSelect;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_11__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.GlobalConfigContext),\n    showMessage = _useContext2.showMessage,\n    controlsAddedByForntEnd = _useContext2.controlsAddedByForntEnd,\n    canAddHandle = _useContext2.canAddCallback;\n  var _useCopyAndPaste = (0,_useCopyAndPaste__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n    setCopyContent = _useCopyAndPaste.setCopyContent,\n    getCopyContent = _useCopyAndPaste.getCopyContent;\n  var _useContext3 = (0,react__WEBPACK_IMPORTED_MODULE_11__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.DataFactoryContext),\n    metaApi = _useContext3.metaApi;\n  (0,react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(function () {\n    var mainViewNode = ref.current;\n    if (mainViewNode) {\n      var handleKeyBoardEvent = function handleKeyBoardEvent(event) {\n        if (event.target !== mainViewNode) return;\n        event.stopPropagation();\n        var selection = getSelection();\n        // 删除控件\n        var keyCode = event.keyCode;\n        switch (keyCode) {\n          case _constant_keyCode__WEBPACK_IMPORTED_MODULE_14__[\"default\"].DELETE:\n            {\n              if (selection.length > 0) {\n                var _selection = getSelection();\n                if (_selection.length > 0) {\n                  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(_selection).call(_selection, function (id) {\n                    if (rootId !== id) {\n                      (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_18__.deleteControlFn)(id, setSelect, dataContext, controlsAddedByForntEnd, invokeAction, showMessage);\n                    } else {\n                      showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)('entityd.useKeyBoardEvent.key0001'));\n                    }\n                  });\n                }\n              }\n              break;\n            }\n          case _constant_keyCode__WEBPACK_IMPORTED_MODULE_14__[\"default\"].C:\n            {\n              // 复制\n              if ((0,_utils_client__WEBPACK_IMPORTED_MODULE_15__.isCtrlActive)(event)) {\n                event === null || event === void 0 || event.stopPropagation();\n                var _selection2 = getSelection() || [];\n                if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_selection2).call(_selection2, rootId)) {\n                  showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)('entityd.useKeyBoardEvent.key0003'));\n                } else {\n                  var copyContent = (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_18__.getCopyControlFn)(_selection2, dataContext);\n                  setCopyContent(copyContent);\n                }\n              }\n              break;\n            }\n          case _constant_keyCode__WEBPACK_IMPORTED_MODULE_14__[\"default\"].V:\n            {\n              // 粘贴\n              if ((0,_utils_client__WEBPACK_IMPORTED_MODULE_15__.isCtrlActive)(event)) {\n                var isRepeat = false;\n                var _copyContent = getCopyContent();\n                if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(_copyContent)) {\n                  var selectControlsCopy = [];\n                  var firdtIndex = -1;\n                  var containerInfo = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(_copyContent).call(_copyContent, function (control) {\n                    var controlType = control[_constant_propnames__WEBPACK_IMPORTED_MODULE_16__._TYPE_];\n                    var _metaApi$getControlMe = metaApi.getControlMeta(controlType),\n                      _metaApi$getControlMe2 = _metaApi$getControlMe.IsContainer,\n                      IsContainer = _metaApi$getControlMe2 === void 0 ? false : _metaApi$getControlMe2;\n                    return IsContainer;\n                  });\n                  if (containerInfo.length > 0) {\n                    var copyControlNewInfo = (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_18__.pasteUtil)(containerInfo[0], dataContext, selectionContext, metaApi, canAddHandle, isRepeat);\n                    if (copyControlNewInfo === false) {\n                      showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)('entityd.useKeyBoardEvent.key0002'));\n                    } else {\n                      var newControl = copyControlNewInfo.newControl,\n                        index = copyControlNewInfo.index;\n                      selectControlsCopy.push(newControl);\n                      firdtIndex = index;\n                      var containerInfoNewId = newControl.Id;\n                      containerInfoNewId && _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(_copyContent).call(_copyContent, function (control) {\n                        var targetKey = control.Key,\n                          targetType = control._Type_;\n                        var targetParentId = control[_constant_propnames__WEBPACK_IMPORTED_MODULE_16__.PARENTID] || rootId;\n                        if (targetParentId === containerInfo[0][_constant_propnames__WEBPACK_IMPORTED_MODULE_16__.ID] && !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_19__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_19__.ENTITY_NODE_TYPE, targetType)) {\n                          var _newControl = _objectSpread(_objectSpread({}, control), {}, {\n                            ParentId: containerInfoNewId,\n                            Id: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUUid)(),\n                            Key: targetKey + '1',\n                            FieldName: targetKey + '1',\n                            Inherit: false\n                          });\n                          selectControlsCopy.push(_newControl);\n                        }\n                      });\n                    }\n                  } else {\n                    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(_copyContent).call(_copyContent, function (control) {\n                      var copyControlNewInfo = (0,_utils_toolbarUtil__WEBPACK_IMPORTED_MODULE_18__.pasteUtil)(control, dataContext, selectionContext, metaApi, canAddHandle, isRepeat);\n                      if (copyControlNewInfo === false) {\n                        showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)('entityd.useKeyBoardEvent.key0002'));\n                      } else {\n                        var _newControl2 = copyControlNewInfo.newControl,\n                          _index = copyControlNewInfo.index;\n                        selectControlsCopy.push(_newControl2);\n                        firdtIndex = _index;\n                      }\n                    });\n                  }\n                  var rest = {\n                    index: firdtIndex\n                  };\n                  dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createPasteAction)(selectControlsCopy, rest));\n                }\n              }\n              break;\n            }\n          case _constant_keyCode__WEBPACK_IMPORTED_MODULE_14__[\"default\"].Z:\n            {\n              // 撤销\n              var canUndo = dataContext.canUndo();\n              if ((0,_utils_client__WEBPACK_IMPORTED_MODULE_15__.isCtrlActive)(event) && canUndo) {\n                dataContext.undo();\n              }\n              break;\n            }\n          case _constant_keyCode__WEBPACK_IMPORTED_MODULE_14__[\"default\"].Y:\n            {\n              // 恢复\n              var canRedo = dataContext.canRedo();\n              if ((0,_utils_client__WEBPACK_IMPORTED_MODULE_15__.isCtrlActive)(event) && canRedo) {\n                dataContext.redo();\n              }\n              break;\n            }\n          default:\n            {\n              break;\n            }\n        }\n      };\n      // const debounceHandleKeyBoardEvent = debounce(handleKeyBoardEvent, 100)\n      var debounceHandleKeyBoardEvent = handleKeyBoardEvent;\n      mainViewNode.addEventListener('keydown', debounceHandleKeyBoardEvent);\n      return function () {\n        mainViewNode.removeEventListener('keydown', debounceHandleKeyBoardEvent);\n      };\n    }\n  }, []);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useKeyboardEvent);\n\n//# sourceURL=webpack://entity-designer/./src/hooks/useKeyboardEvent.ts?");

/***/ }),

/***/ 56828:
/*!***********************************!*\
  !*** ./src/hooks/useNodeClick.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ 90115);\n\n\n\n// 设计器中的控件点击事件\nvar nodeClick = function nodeClick(id) {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_1__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var kdesignerApi = getKdesignerApi();\n  var selectionContext = kdesignerApi.selection;\n  var setSelect = selectionContext.setSelect;\n  var onClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {\n    event.stopPropagation();\n    setSelect([id]);\n  }, []);\n  return onClick;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (nodeClick);\n\n//# sourceURL=webpack://entity-designer/./src/hooks/useNodeClick.ts?");

/***/ }),

/***/ 90236:
/*!***********************!*\
  !*** ./src/index.tsx ***!
  \***********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _views_main_view__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./views/main-view */ 67328);\n/* harmony import */ var _views_right_view__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./views/right-view */ 95957);\n/* harmony import */ var _views_left_view__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./views/left-view */ 79412);\n/* harmony import */ var _utils_transform__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./utils/transform */ 84532);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./context */ 90115);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _utils_getModelProxy__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./utils/getModelProxy */ 58556);\n/* harmony import */ var _utils_filterProperty__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./utils/filterProperty */ 79148);\n/* harmony import */ var _pre_handle__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./pre-handle */ 85340);\n/* harmony import */ var _editors__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./editors */ 58036);\n/* harmony import */ var _views_PropertyView__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./views/PropertyView */ 37796);\n/* harmony import */ var _utils_canAddCallback__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./utils/canAddCallback */ 43660);\n/* harmony import */ var _utils_setProperty__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./utils/setProperty */ 59416);\n/* harmony import */ var resize_observer_polyfill_dist_ResizeObserver_global__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! resize-observer-polyfill/dist/ResizeObserver.global */ 10936);\n/* harmony import */ var resize_observer_polyfill_dist_ResizeObserver_global__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(resize_observer_polyfill_dist_ResizeObserver_global__WEBPACK_IMPORTED_MODULE_32__);\n/* harmony import */ var _utils_getDateLocale__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./utils/getDateLocale */ 69236);\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context3, _context4; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context3 = ownKeys(Object(t), !0)).call(_context3, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context4 = ownKeys(Object(t))).call(_context4, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DESIGNER_PREFIX_CLS = 'kdesigner-entity-designer';\nvar EntityDesigner = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_16__.memo)( /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_16__.forwardRef)(function (props, forwardedRef) {\n  var _props$meta = props.meta,\n    meta = _props$meta === void 0 ? {} : _props$meta,\n    _props$data = props.data,\n    data = _props$data === void 0 ? {} : _props$data,\n    onData = props.onData,\n    onApi = props.onApi,\n    _props$getPropertyAli = props.getPropertyAliasValue,\n    getPropertyAliasValue = _props$getPropertyAli === void 0 ? function () {\n      return null;\n    } : _props$getPropertyAli,\n    _props$invokeAction = props.invokeAction,\n    _invokeAction = _props$invokeAction === void 0 ? function (actionName, params) {\n      console.log('invokeAction-------', actionName, params);\n    } : _props$invokeAction,\n    _props$showMessage = props.showMessage,\n    showMessage = _props$showMessage === void 0 ? function (msg) {\n      console.log('showMessage-------', msg);\n    } : _props$showMessage,\n    _props$handleCustomIn = props.handleCustomInputEditor,\n    handleCustomInputEditor = _props$handleCustomIn === void 0 ? function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      console.log('handleCustomInputEditor-------', args);\n    } : _props$handleCustomIn,\n    _props$userConfig = props.userConfig,\n    userConfig = _props$userConfig === void 0 ? {\n      showLeftView: false,\n      showKey: true,\n      showType: true,\n      showFullRelationship: false\n    } : _props$userConfig,\n    config = props.config,\n    getLangMsg = props.getLangMsg,\n    lockPropsMap = props.lockPropsMap,\n    designerConfig = props.designerConfig;\n  var kdesignerApi = (0,react__WEBPACK_IMPORTED_MODULE_16__.useRef)(null);\n  var dataRef = (0,react__WEBPACK_IMPORTED_MODULE_16__.useRef)(data);\n  var kdesignerRef = (0,react__WEBPACK_IMPORTED_MODULE_16__.useRef)(null);\n  var userConfigRef = (0,react__WEBPACK_IMPORTED_MODULE_16__.useRef)(userConfig);\n  var language = data.language;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_16__.useState)(0),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(_useState, 2),\n    viewKey = _useState2[0],\n    setViewKey = _useState2[1];\n  var kuiConfig = {\n    prefixCls: 'kdesigner',\n    localeConfig: {\n      localeData: (0,_utils_getDateLocale__WEBPACK_IMPORTED_MODULE_33__.getCurrentDateLangData)(getLangMsg, language)\n    }\n  };\n  // const prefixCls = 'entity-designer'\n  var designerPrefixCls = DESIGNER_PREFIX_CLS;\n  var dealMeta = (0,_utils_transform__WEBPACK_IMPORTED_MODULE_22__.adaptorMeta)(meta, data.entitymeta);\n  var adaptedData = (0,_utils_transform__WEBPACK_IMPORTED_MODULE_22__.getAdaptedData)(data);\n  var getViews = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (viewName) {\n    switch (viewName) {\n      case 'main':\n        {\n          return {\n            main: _views_main_view__WEBPACK_IMPORTED_MODULE_19__[\"default\"]\n          };\n        }\n      case 'left':\n        {\n          designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.ControlView.tabName = getLangMsg('entityd.index.key0001');\n          return {\n            rootProperty: _views_left_view__WEBPACK_IMPORTED_MODULE_21__[\"default\"],\n            control: designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.ControlView\n          };\n        }\n      case 'right':\n        {\n          return {\n            rootProperty: _views_right_view__WEBPACK_IMPORTED_MODULE_20__[\"default\"],\n            property: _views_PropertyView__WEBPACK_IMPORTED_MODULE_29__[\"default\"]\n          };\n        }\n      default:\n        {\n          return {};\n        }\n    }\n  }, []);\n  var processPropertyName = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (value) {\n    return value;\n  }, []);\n  var processPropertyValue = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (propName, value, dataContext) {\n    var typeListById = ['KeyFieldId'];\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(typeListById).call(typeListById, propName)) {\n      var fieldInfo = dataContext.findControl(value);\n      return fieldInfo ? fieldInfo._Type_ : value;\n    }\n  }, []);\n  var keywordMapping = {\n    // 所有meta和data属性名大小写默认配置\n    id: 'Id',\n    type: '_Type_',\n    name: 'Name',\n    key: 'Key',\n    parentId: 'ParentId',\n    items: 'Items',\n    fieldType: 'FieldType',\n    fieldName: 'FieldName'\n  };\n  var getEditorFormatValue = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (propName, field, editor) {\n    var aliasApi = kdesignerApi.current.aliasData;\n    var controlType = field[keywordMapping.type];\n    var propVal = field[propName];\n    var defField = field;\n    if ((0,lodash__WEBPACK_IMPORTED_MODULE_24__.isUndefined)(propVal)) {\n      var propDefVal = kdesignerApi.current.meta.getControlPropertyDefaultValue(controlType, propName);\n      if (propDefVal) {\n        defField = _objectSpread(_objectSpread({}, field), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__[\"default\"])({}, propName, propDefVal));\n      }\n    }\n    // 这样就不能先get再return了，得用has\n    var timer = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_13___default()(function () {\n      var _context;\n      // 益嘉有个alias为空的需求/bug 更改\n      var alias = editor.Alias,\n        EmptyDisplay = editor.EmptyDisplay;\n      if (alias && (EmptyDisplay || !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(_context = [undefined, '']).call(_context, defField[propName]))) {\n        getPropertyAliasValue(propName, defField, editor);\n      }\n    });\n    // 如果要让空值走，就不能用get\n    // 这个删不掉, 那就有问题\n    if (aliasApi.hasAliasDataPropValue(controlType, propName, defField[propName])) {\n      var aliasValue = aliasApi.getAliasDataPropValue(controlType, propName, defField[propName]);\n      // 空值也显示，但是得去请求，然后判断不一样就触发state更新\n      if (aliasValue) {\n        clearTimeout(timer);\n      }\n      return aliasValue;\n    }\n  }, [getPropertyAliasValue]);\n  var onCustomInputClick = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (propName, field, editor, other) {\n    var propVal = field[propName];\n    var controlType = field[keywordMapping.type];\n    var defField = field;\n    if ((0,lodash__WEBPACK_IMPORTED_MODULE_24__.isUndefined)(propVal)) {\n      var propDefVal = kdesignerApi.current.meta.getControlPropertyDefaultValue(controlType, propName);\n      if (propDefVal) {\n        defField = _objectSpread(_objectSpread({}, field), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__[\"default\"])({}, propName, propDefVal));\n      }\n    }\n    handleCustomInputEditor(propName, defField, editor, other);\n  }, [handleCustomInputEditor]);\n  var designerValue = (0,react__WEBPACK_IMPORTED_MODULE_16__.useRef)({\n    getKdesignerApi: function getKdesignerApi() {\n      return kdesignerApi.current;\n    },\n    getDataRef: function getDataRef() {\n      return dataRef.current;\n    },\n    invokeAction: function invokeAction(actionName, params) {\n      _invokeAction(actionName, params);\n    },\n    prefixCls: 'entity-designer',\n    getPrefixCls: function getPrefixCls(configPrefixCls, suffixCls, customizePrefixCls) {\n      var _context2;\n      // 获取样式前缀方法\n      if (customizePrefixCls) return customizePrefixCls;\n      configPrefixCls = configPrefixCls || 'entity-designer';\n      return suffixCls ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14___default()(_context2 = \"\".concat(configPrefixCls, \"-\")).call(_context2, suffixCls) : configPrefixCls;\n    },\n    getModel: function getModel() {\n      return (0,_utils_getModelProxy__WEBPACK_IMPORTED_MODULE_25__[\"default\"])(kdesignerApi.current);\n    },\n    userConfig: userConfig,\n    showLockBtn: props.showLockBtn,\n    config: config,\n    onUserConfigChange: onUserConfigChange\n  });\n  var designerContextValue = (0,react__WEBPACK_IMPORTED_MODULE_16__.useMemo)(function () {\n    return _objectSpread({\n      viewKey: viewKey,\n      designerConfig: designerConfig,\n      lockPropsMap: lockPropsMap,\n      changeDesignerView: function changeDesignerView(viewKey) {\n        setViewKey(viewKey);\n      }\n    }, designerValue.current);\n  }, [viewKey, designerConfig, lockPropsMap]);\n  var globalConfig = (0,react__WEBPACK_IMPORTED_MODULE_16__.useMemo)(function () {\n    return {\n      getViews: getViews,\n      processPropertyName: processPropertyName,\n      processPropertyValue: processPropertyValue,\n      keywordMapping: keywordMapping,\n      getEditorFormatValue: getEditorFormatValue,\n      controlViewMode: 'horizontal',\n      showMessage: showMessage,\n      onCustomInputClick: onCustomInputClick,\n      designerContextValue: designerContextValue,\n      filterProperty: function filterProperty(field, propMeta) {\n        return (0,_utils_filterProperty__WEBPACK_IMPORTED_MODULE_26__[\"default\"])(designerContextValue.getModel, designerContextValue.getKdesignerApi)(field, propMeta);\n      },\n      preHandle: function preHandle() {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return _pre_handle__WEBPACK_IMPORTED_MODULE_27__[\"default\"].apply(void 0, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14___default()(args).call(args, [_objectSpread({\n          invokeAction: _invokeAction\n        }, designerContextValue)]));\n      },\n      viewCollapseState: {\n        left: !userConfig.showLeftView\n      },\n      onViewCollapseChange: function onViewCollapseChange(val) {\n        var position = val.position,\n          hide = val.hide;\n        if (position === 'left') {\n          onUserConfigChange({\n            showLeftView: !hide\n          });\n        }\n      },\n      getPropertyEditors: _editors__WEBPACK_IMPORTED_MODULE_28__[\"default\"],\n      controlViewSetting: {\n        hideHelpIcon: true,\n        hideAnchorIcon: true,\n        searchInputPlaceholder: getLangMsg('entityd.index.key0002')\n      },\n      controlsAddedByForntEnd: [],\n      viewSetting: {\n        leftView: function leftView() {\n          return false;\n        },\n        rightView: function rightView() {\n          return false;\n        }\n      },\n      getOutlineItemIcon: function getOutlineItemIcon(type) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_18__.Icon, {\n          prefix: \"designericon\",\n          type: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.getControlIconMap)(type),\n          className: \"\".concat(designerPrefixCls, \"-control-icon\")\n        });\n      },\n      canAddCallback: (0,_utils_canAddCallback__WEBPACK_IMPORTED_MODULE_30__[\"default\"])({\n        kdesignerApi: kdesignerApi,\n        keywordMapping: keywordMapping\n      }),\n      getLangMsg: getLangMsg\n    };\n  }, [getViews, processPropertyName, getEditorFormatValue, showMessage, onCustomInputClick, _editors__WEBPACK_IMPORTED_MODULE_28__[\"default\"]]);\n  var actionDelayQueueRef = (0,react__WEBPACK_IMPORTED_MODULE_16__.useRef)({\n    aliasActionQueue: [],\n    dataActionQueue: [],\n    clearQueue: function clearQueue() {\n      actionDelayQueueRef.current.aliasActionQueue = [];\n      actionDelayQueueRef.current.dataActionQueue = [];\n    },\n    addAliasAction: function addAliasAction(actions) {\n      var _actionDelayQueueRef$;\n      (_actionDelayQueueRef$ = actionDelayQueueRef.current.aliasActionQueue).push.apply(_actionDelayQueueRef$, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(actions));\n    },\n    addDataAction: function addDataAction(actions) {\n      var _actionDelayQueueRef$2;\n      (_actionDelayQueueRef$2 = actionDelayQueueRef.current.dataActionQueue).push.apply(_actionDelayQueueRef$2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(actions));\n    },\n    fireActionTimer: null\n  });\n  var onApiProxy = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (api) {\n    var _kdesignerRef$current, _kdesignerRef$current2;\n    kdesignerApi.current = _objectSpread({\n      attrActions: (_kdesignerRef$current = kdesignerRef.current) === null || _kdesignerRef$current === void 0 ? void 0 : _kdesignerRef$current.attrActions,\n      resetPatches: (_kdesignerRef$current2 = kdesignerRef.current) === null || _kdesignerRef$current2 === void 0 || (_kdesignerRef$current2 = _kdesignerRef$current2.dataContext) === null || _kdesignerRef$current2 === void 0 ? void 0 : _kdesignerRef$current2.resetPatches,\n      setProperty: (0,_utils_setProperty__WEBPACK_IMPORTED_MODULE_31__[\"default\"])({\n        dataRef: dataRef,\n        kdesignerApi: kdesignerApi,\n        keywordMapping: keywordMapping\n      }),\n      addField: function addField(controlType, parentId, fieldName, fieldNumber) {\n        if (!controlType) {\n          showMessage(getLangMsg('entityd.index.key0003'));\n          return;\n        }\n        var metaApi = api.meta;\n        var dataContext = api.data;\n        var selectionContext = api.selection;\n        var parentControlType = dataContext.findControl(parentId)._Type_;\n        var canAdd = metaApi.canAdd(controlType, parentControlType);\n        if (!canAdd) {\n          showMessage(getLangMsg('entityd.index.key0004'));\n          return;\n        }\n        var newControl = {\n          _Type_: controlType,\n          ParentId: parentId,\n          Id: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.createUUid)(),\n          Name: fieldName,\n          Key: fieldNumber\n        };\n        var rest = {\n          isInstrucAdd: true\n        };\n        dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.createAddAction)(newControl, rest)).then(function (actions) {\n          var realControl = actions[0].value;\n          var ids = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15___default()(realControl) ? [realControl[0].Id] : [realControl.Id];\n          selectionContext.setSelect(ids);\n        });\n      },\n      deleteControl: function deleteControl(controlId) {\n        var dataContext = api.data;\n        var nextSelectedId = dataContext.getNextSelectedControlId(controlId);\n        dataContext.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.createDeleteAction)(controlId)).then(function () {\n          api.selection.setSelect([nextSelectedId]);\n        });\n      },\n      getUserConfig: function getUserConfig() {\n        var _userConfigRef$curren, _userConfigRef$curren2, _userConfigRef$curren3, _userConfigRef$curren4;\n        return {\n          showLeftView: (_userConfigRef$curren = userConfigRef.current) === null || _userConfigRef$curren === void 0 ? void 0 : _userConfigRef$curren.showLeftView,\n          showKey: (_userConfigRef$curren2 = userConfigRef.current) === null || _userConfigRef$curren2 === void 0 ? void 0 : _userConfigRef$curren2.showKey,\n          showType: (_userConfigRef$curren3 = userConfigRef.current) === null || _userConfigRef$curren3 === void 0 ? void 0 : _userConfigRef$curren3.showType,\n          showFullRelationship: (_userConfigRef$curren4 = userConfigRef.current) === null || _userConfigRef$curren4 === void 0 ? void 0 : _userConfigRef$curren4.showFullRelationship\n        };\n      },\n      uiModel: (0,_utils_getModelProxy__WEBPACK_IMPORTED_MODULE_25__[\"default\"])(api)\n    }, api);\n    onApi && onApi(kdesignerApi.current);\n  }, [onApi, globalConfig.controlsAddedByForntEnd]);\n  var onDataProxy = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (data, event) {\n    (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(dataRef.current.entitymeta, data);\n    onData && onData(dataRef.current, event);\n  }, [onData]);\n  function onUserConfigChange() {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    userConfigRef.current = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, userConfigRef.current, data);\n    props.onUserConfigChange && props.onUserConfigChange();\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_18__.ConfigProvider, {\n    value: kuiConfig\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(_context__WEBPACK_IMPORTED_MODULE_23__.DesignerContext.Provider, {\n    value: designerContextValue\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(MemoDesigner, {\n    ref: kdesignerRef,\n    globalConfig: globalConfig,\n    onData: onDataProxy,\n    meta: dealMeta,\n    data: adaptedData,\n    onApi: onApiProxy\n  })));\n}));\n\n// 函数返回true, 不渲染; 函数返回false, 重新渲染\nvar MemoDesigner = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().memo((designer_base_Main__WEBPACK_IMPORTED_MODULE_17___default()), function () {\n  return true;\n});\nEntityDesigner.displayName = 'EntityDesigner';\n/* harmony default export */ __webpack_exports__[\"default\"] = (EntityDesigner);\n\n//# sourceURL=webpack://entity-designer/./src/index.tsx?");

/***/ }),

/***/ 85340:
/*!*********************************!*\
  !*** ./src/pre-handle/index.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 59312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 2992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/some */ 65624);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ 45076);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _preAddHandle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./preAddHandle */ 73388);\n/* harmony import */ var _prePasteHandle__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./prePasteHandle */ 78616);\n/* harmony import */ var _preDeleteHandle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./preDeleteHandle */ 52736);\n/* harmony import */ var _preUpdateHandle__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./preUpdateHandle */ 76024);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_16__);\n\n\n\nvar _excluded = [\"type\", \"value\"];\n\n\n\n\n\n\n\n\n/*\n * @Description: 统一导出预处理函数\n */\n\n\n\n\n\n\n\nvar preHandleFnMap = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.ActionType.ADD, _preAddHandle__WEBPACK_IMPORTED_MODULE_12__[\"default\"]), designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.ActionType.PASTE, _prePasteHandle__WEBPACK_IMPORTED_MODULE_13__[\"default\"]), designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.ActionType.UPDATE, _preUpdateHandle__WEBPACK_IMPORTED_MODULE_15__[\"default\"]), designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.ActionType.DELETE, _preDeleteHandle__WEBPACK_IMPORTED_MODULE_14__[\"default\"]);\nvar CTRL_KEY_MAX_LENGTH = 25; // 限制控件key的最大长度25个字符(与手动输入保持一致)，标识或者字段名超过30位后端会报错\n\nvar preHandle = function preHandle(_ref, handleConfig) {\n  var action = _ref.action,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    globalConfig = _ref.globalConfig,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader,\n    success = _ref.success,\n    fail = _ref.fail;\n  var dataRef = globalConfig.dataRef,\n    keywordMapping = globalConfig.keywordMapping;\n  var succesProxy = function succesProxy(actions) {\n    var appendActions = [];\n    var getKdesignerApi = handleConfig.getKdesignerApi;\n    var appendData = dataContext.getData().Items;\n    var allKeySet = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_3___default())(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(appendData).call(appendData, function (data) {\n      return data[keywordMapping.key];\n    }));\n    var isv = handleConfig.getDataRef().isv;\n    _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_5___default().all(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(actions).call(actions, function (action) {\n      var type = action.type,\n        value = action.value,\n        rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(action, _excluded);\n      var kdesignerApi = getKdesignerApi();\n      // 判断是否需要预处理\n      if (type === designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.ActionType.ADD || type === designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.ActionType.PASTE) {\n        var values = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6___default()(value) ? value : [value];\n        var valuePromise = _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_5___default().all(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(values).call(values, function (item) {\n          var _context2, _context3;\n          var key = item.FieldType || item._Type_ || '';\n          item[keywordMapping.key] = item[keywordMapping.key] || key.toLowerCase();\n          if (!rest.isInstrucAdd) {\n            if (type === designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.ActionType.ADD) {\n              var _context;\n              var length = kdesignerApi.data.findControlByCondition(function (dataItem) {\n                return item[keywordMapping.type] === dataItem[keywordMapping.type];\n              }).length;\n              item[keywordMapping.name] = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(_context = \"\".concat(item[keywordMapping.name])).call(_context, length === 0 ? '' : length);\n            }\n          } else {\n            item[keywordMapping.key] = item[keywordMapping.key].toLowerCase();\n          }\n          if (isv) {\n            var test = /^[0-9]+[\\w]*/i;\n            if (isv !== 'kingdee' && !test.test(isv) && !(0,lodash__WEBPACK_IMPORTED_MODULE_16__.startsWith)(item[keywordMapping.key], \"\".concat(isv, \"_\"))) {\n              item[keywordMapping.key] = \"\".concat(isv, \"_\") + item[keywordMapping.key];\n            }\n          }\n\n          //新增控件时，需要自动填写字段名，而且需要唯一，这里字段名一般格式为f + isv + _Type_ + number?,这里目前先不加isv\n          var controlMeta = metaReader.getControlMeta(item[keywordMapping.type]);\n          var addControlIsContainer = controlMeta === null || controlMeta === void 0 ? void 0 : controlMeta.IsContainer;\n          var hasFieldNameProp = controlMeta === null || controlMeta === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_8___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_9___default()(_context3 = controlMeta.Properties).call(_context3, function (props, group) {\n            return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(props).call(props, group.Nodes);\n          }, [])).call(_context2, function (item) {\n            return item.Id === 'FieldName';\n          });\n          if (!addControlIsContainer && hasFieldNameProp) {\n            var _context5;\n            var idx = 0,\n              producerKey = \"f_\";\n            if (isv && isv !== 'kingdee') {\n              producerKey = \"fk_\";\n            }\n            var transferDataKey = item[keywordMapping.key];\n            var _key = transferDataKey;\n            if (!rest.isInstrucAdd) {\n              _key = transferDataKey ? transferDataKey : item[keywordMapping.type];\n            }\n            _key = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(_key).call(_key, 0, CTRL_KEY_MAX_LENGTH);\n            var originKey = _key;\n            while (allKeySet.has(_key)) {\n              var _context4;\n              idx = idx + 1;\n              var maxLen = CTRL_KEY_MAX_LENGTH - \"\".concat(idx).length;\n              _key = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(_context4 = \"\".concat(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(originKey).call(originKey, 0, maxLen))).call(_context4, idx);\n            }\n            allKeySet.add(_key);\n            item[keywordMapping.fieldName] = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(_context5 = \"\".concat(producerKey)).call(_context5, _key);\n          }\n          return item;\n        }));\n        return valuePromise.then(function (_value) {\n          action.value = _value;\n          return action;\n        });\n      } else {\n        return _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_5___default().resolve(action);\n      }\n    })).then(function (newActions) {\n      return success(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(newActions).call(newActions, appendActions));\n    });\n  };\n  var preHandleResults = [];\n  var type = action.type;\n  var preHandleFn = preHandleFnMap[type];\n  if (preHandleFn) {\n    var allActions = preHandleFn({\n      globalConfig: globalConfig,\n      dataContext: dataContext,\n      selectionContext: selectionContext,\n      action: action,\n      dataFactory: dataFactory,\n      modelFactory: modelFactory,\n      metaReader: metaReader\n    }, succesProxy, fail);\n    if (allActions) {\n      preHandleResults.push.apply(preHandleResults, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(allActions));\n    }\n  } else {\n    preHandleResults.push(action);\n  }\n  if (preHandleResults.length) {\n    succesProxy(preHandleResults);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preHandle);\n\n//# sourceURL=webpack://entity-designer/./src/pre-handle/index.ts?");

/***/ }),

/***/ 73388:
/*!****************************************!*\
  !*** ./src/pre-handle/preAddHandle.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils */ 63612);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _constant_NodeType__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../constant/NodeType */ 5272);\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"type\", \"value\"],\n  _excluded2 = [\"type\", \"value\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context3, _context4; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_3___default()(_context3 = ownKeys(Object(t), !0)).call(_context3, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_3___default()(_context4 = ownKeys(Object(t))).call(_context4, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n/*\n * @Description: 新增控件时，对参数预处理\n */\n\n\n\n\n\nvar preAddHandle = function preAddHandle(_ref, resolve, reject) {\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    action = _ref.action,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader;\n  var type = action.type,\n    value = action.value,\n    rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(action, _excluded);\n  var otherActions = [];\n  // 具有唯一性字段，需要校验\n  var controlType = value[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__._TYPE_];\n  var controlMeta = metaReader.getControlMeta(controlType);\n  var isUnique = controlMeta.IsUnique;\n  if (isUnique) {\n    var parentId = value[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.PARENTID];\n    var canAdd = (0,_utils__WEBPACK_IMPORTED_MODULE_16__.canAddUniqueField)(controlType, parentId, dataContext);\n    if (!canAdd) {\n      var parentControl = dataContext.findControl(value[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.PARENTID]);\n      var showMessage = globalConfig.showMessage;\n      var parentControlName = parentControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.NAME];\n      var controlName = controlMeta[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.NAME];\n      reject(\"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.getLangMsg)({\n        key: 'entityd.preAddHandle.key0001',\n        variables: {\n          parentControlName: parentControlName,\n          controlName: controlName\n        }\n      })));\n      return showMessage(\"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.getLangMsg)({\n        key: 'entityd.preAddHandle.key0001',\n        variables: {\n          parentControlName: parentControlName,\n          controlName: controlName\n        }\n      })));\n    }\n  }\n  if (!value.Key) {\n    var controlsAddedByForntEnd = globalConfig.controlsAddedByForntEnd;\n    controlsAddedByForntEnd.push(value.Id);\n  }\n  var valueToArr = convertToArray(value);\n  var handledValues = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(valueToArr).call(valueToArr, function (value) {\n    var _getDataRef$entitymet;\n    var valueAfterHandle = _objectSpread({}, value);\n    var _valueAfterHandle = valueAfterHandle,\n      ctrlId = _valueAfterHandle.Id,\n      parentId = _valueAfterHandle.ParentId,\n      ctrlType = _valueAfterHandle._Type_,\n      name = _valueAfterHandle.Name;\n    var getDataRef = globalConfig.designerContextValue.getDataRef;\n    var entityMeta = ((_getDataRef$entitymet = getDataRef().entitymeta) === null || _getDataRef$entitymet === void 0 ? void 0 : _getDataRef$entitymet[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.ITEMS]) || [];\n    var tempParentControl = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11___default()(entityMeta).call(entityMeta, function (item) {\n      return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.ID] === parentId;\n    });\n    var getAddChildControlAction = function getAddChildControlAction(childCtrlType) {\n      var parentId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ctrlId;\n      var transferData = arguments.length > 2 ? arguments[2] : undefined;\n      return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.createAddAction)(dataFactory({\n        type: childCtrlType,\n        parentId: parentId,\n        transferData: transferData\n      }));\n    };\n    var updateControlPropAction = function updateControlPropAction() {\n      var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ctrlId;\n      var transferData = arguments.length > 1 ? arguments[1] : undefined;\n      return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.createUpdateAction)(_objectSpread({\n        Id: id\n      }, transferData));\n    };\n    if (ctrlType === 'RadioField') {\n      var parent = dataContext.findControl(parentId) || tempParentControl;\n      // 找到全部的子控件，里面是否包含有单选按钮组\n      var allSubControls = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(entityMeta).call(entityMeta, function (control) {\n        return control[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.PARENTID] === parent[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.ID];\n      });\n      var radioGroupControl = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11___default()(allSubControls).call(allSubControls, function (item) {\n        return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__._TYPE_] === 'RadioGroupField';\n      });\n      var allRadioControl = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(entityMeta).call(entityMeta, function (item) {\n        return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__._TYPE_] === 'RadioField';\n      });\n      var length = allRadioControl.length;\n      if (!radioGroupControl) {\n        var _context;\n        var radioGroupItems = [{\n          Caption: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context = \"\".concat(name)).call(_context, length === 0 ? '' : length),\n          Value: \"\".concat(length + 1),\n          _Type_: 'ComboItem'\n        }];\n        var _getAddChildControlAc = getAddChildControlAction('RadioGroupField', parent[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.ID], {\n            Items: radioGroupItems\n          }),\n          _type = _getAddChildControlAc.type,\n          _value = _getAddChildControlAc.value,\n          _rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_getAddChildControlAc, _excluded2);\n        otherActions.push(_objectSpread({\n          type: _type,\n          value: _value\n        }, _rest));\n        valueAfterHandle = _objectSpread(_objectSpread({}, valueAfterHandle), {}, {\n          Group: _value[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.ID],\n          Items: \"\".concat(length + 1)\n        });\n        if (_value.Id) {\n          var _controlsAddedByForntEnd = globalConfig.controlsAddedByForntEnd;\n          _controlsAddedByForntEnd.push(_value.Id);\n        }\n      } else {\n        var _context2;\n        valueAfterHandle = _objectSpread(_objectSpread({}, valueAfterHandle), {}, {\n          Group: radioGroupControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.ID],\n          Items: \"\".concat(length + 1)\n        });\n        var _radioGroupItems = radioGroupControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.ITEMS] || [];\n        var newItems = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_radioGroupItems).call(_radioGroupItems, []);\n        var item = {\n          Caption: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context2 = \"\".concat(name)).call(_context2, length === 0 ? '' : length),\n          Value: \"\".concat(length + 1),\n          _Type_: 'ComboItem'\n        };\n        newItems.push(item);\n        var _updateControlPropAct = updateControlPropAction(radioGroupControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.ID], {\n            Items: newItems\n          }),\n          _type2 = _updateControlPropAct.type,\n          _value2 = _updateControlPropAct.value;\n        var updateInfo = [_value2[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.ID], {\n          Items: _value2[_constant_propnames__WEBPACK_IMPORTED_MODULE_15__.ITEMS]\n        }];\n        var updateaction = {\n          type: _type2,\n          value: [updateInfo]\n        };\n        otherActions.push(updateaction);\n      }\n    } else if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_18__.ENTITY_TYPE_NOT_ADD).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_18__.ENTITY_TYPE_NOT_ADD, ctrlType)) {\n      valueAfterHandle.ParentEntryId = value.ParentId;\n    } else if (ctrlType === 'PrintCountField') {\n      // 新增打印次数字段时，默认为真实打印次数\n      valueAfterHandle.RecordModel = 'print';\n    }\n    return valueAfterHandle;\n  });\n  var preHandleResults = [_objectSpread({\n    type: type,\n    value: handledValues\n  }, rest)];\n  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(preHandleResults).call(preHandleResults, otherActions);\n};\nvar convertToArray = function convertToArray(param) {\n  if (!param) return [];\n  if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14___default()(param)) return param;\n  return [param];\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preAddHandle);\n\n//# sourceURL=webpack://entity-designer/./src/pre-handle/preAddHandle.ts?");

/***/ }),

/***/ 52736:
/*!*******************************************!*\
  !*** ./src/pre-handle/preDeleteHandle.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__);\n\n\n\n\n\n\n\n\nvar _excluded = [\"type\", \"value\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n/*\n * @Description: 新增控件时，对参数预处理\n */\n\n\n\nvar preDeleteHandle = function preDeleteHandle(_ref, resolve, reject) {\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    action = _ref.action,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader;\n  var type = action.type,\n    value = action.value,\n    rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(action, _excluded);\n  var otherActions = [];\n  var valueAfterHandle = [];\n  var valueToArr = convertToArray(value);\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(valueToArr).call(valueToArr, function (controlId) {\n    var controlInfo = dataContext.findControl(controlId);\n    var ctrlType = controlInfo[_constant_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_];\n\n    // 找到全部的子控件，里面是否包含有单选按钮组\n    var allSubControls = dataContext.getAllSiblings(controlId);\n    var radioControl = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(allSubControls).call(allSubControls, function (item) {\n      return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_] === 'RadioField';\n    });\n    // 得到当前卡片的单选按钮组\n    if (ctrlType === 'RadioGroupField') {\n      var hasRadioControlGroupIsOneself = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10___default()(radioControl).call(radioControl, function (item) {\n        return item.Group === controlId;\n      });\n      if (hasRadioControlGroupIsOneself) {\n        var showMessage = globalConfig.showMessage;\n        reject((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.preDeleteHandle.key0001'));\n        return showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.preDeleteHandle.key0001'));\n      } else {\n        valueAfterHandle.push(controlId);\n      }\n    } else {\n      valueAfterHandle.push(controlId);\n    }\n  });\n  var preHandleResults = [_objectSpread({\n    type: type,\n    value: valueAfterHandle\n  }, rest)];\n  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(preHandleResults).call(preHandleResults, otherActions);\n};\nvar convertToArray = function convertToArray(param) {\n  if (!param) return [];\n  if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_12___default()(param)) return param;\n  return [param];\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preDeleteHandle);\n\n//# sourceURL=webpack://entity-designer/./src/pre-handle/preDeleteHandle.ts?");

/***/ }),

/***/ 78616:
/*!******************************************!*\
  !*** ./src/pre-handle/prePasteHandle.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ 63612);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__);\n\n/*\n * @Description: 新增控件时，对参数预处理\n */\n\n\n\n\nvar prePasteHandle = function prePasteHandle(_ref, resolve, reject) {\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    action = _ref.action,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader;\n  var value = action.value;\n  var newValue = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default()(value).call(value, function (item) {\n    // 具有唯一性字段，需要校验\n    var controlType = item[_constant_propnames__WEBPACK_IMPORTED_MODULE_1__._TYPE_];\n    var controlMeta = metaReader.getControlMeta(controlType);\n    var isUnique = controlMeta.IsUnique;\n    if (isUnique) {\n      var parentId = item[_constant_propnames__WEBPACK_IMPORTED_MODULE_1__.PARENTID];\n      var canAdd = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.canAddUniqueField)(controlType, parentId, dataContext);\n      if (!canAdd) {\n        var parentControl = dataContext.findControl(item[_constant_propnames__WEBPACK_IMPORTED_MODULE_1__.PARENTID]);\n        var showMessage = globalConfig.showMessage;\n        var parentControlName = parentControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_1__.NAME];\n        var controlName = controlMeta[_constant_propnames__WEBPACK_IMPORTED_MODULE_1__.NAME];\n        reject(\"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)({\n          key: 'entityd.prePasteHandle.key0001',\n          variables: {\n            parentControlName: parentControlName,\n            controlName: controlName\n          }\n        })));\n        return showMessage(\"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)({\n          key: 'entityd.prePasteHandle.key0001',\n          variables: {\n            parentControlName: parentControlName,\n            controlName: controlName\n          }\n        })));\n      }\n    }\n    if (!item.Key) {\n      var controlsAddedByForntEnd = globalConfig.controlsAddedByForntEnd;\n      controlsAddedByForntEnd.push(item.Id);\n    }\n\n    // 复制单据体时，清空表名\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_2__.isEntity)(controlType) && item.TableName) {\n      item.TableName = '';\n    }\n    return item;\n  });\n  action.value = newValue;\n  var preHandleResults = [action];\n  return preHandleResults;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (prePasteHandle);\n\n//# sourceURL=webpack://entity-designer/./src/pre-handle/prePasteHandle.ts?");

/***/ }),

/***/ 76024:
/*!*******************************************!*\
  !*** ./src/pre-handle/preUpdateHandle.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/is */ 48560);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_is__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_is__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 89843);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 97440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 64248);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__);\n\n\n\n\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_8___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_9___default()(o) || o[\"@@iterator\"]; if (!it) { if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context2; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_6___default()(_context2 = Object.prototype.toString.call(o)).call(_context2, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_7___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\nvar _hasItemValue = function _hasItemValue(groupItemsList, propName, value) {\n  var _iterator = _createForOfIteratorHelper(groupItemsList),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      if (_babel_runtime_corejs3_core_js_stable_object_is__WEBPACK_IMPORTED_MODULE_1___default()(item[propName], value)) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return false;\n};\nvar preUpdateHandle = function preUpdateHandle(_ref, resolve, reject, handleConfig) {\n  var _context;\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    action = _ref.action,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader;\n  var type = action.type,\n    value = action.value;\n  var handleValue = [];\n  var showMessage = globalConfig.showMessage;\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default()(value).call(value, function (item) {\n    var controlId = item === null || item === void 0 ? void 0 : item[0];\n    var propInfo = (item === null || item === void 0 ? void 0 : item[1]) || {};\n    var propName = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(propInfo)[0];\n    var propVal = propInfo[propName];\n    var controlInfo = dataContext.findControl(controlId);\n    if (controlInfo) {\n      var ctrlType = controlInfo._Type_,\n        name = controlInfo.Name,\n        radioValue = controlInfo.Items;\n      if (ctrlType === 'RadioField') {\n        var groupId = controlInfo.Group;\n        var radioGroupcontrolInfo = dataContext.findControl(groupId);\n        if (radioGroupcontrolInfo) {\n          var radioGroupItems = radioGroupcontrolInfo[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.ITEMS] || [];\n          var updateInfo = [];\n          if (_babel_runtime_corejs3_core_js_stable_object_is__WEBPACK_IMPORTED_MODULE_1___default()(propName, 'Items')) {\n            // 在group中挑出当前单选按钮的值\n            var currOption = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(radioGroupItems).call(radioGroupItems, function (option) {\n              return option.Caption === name;\n            })[0];\n            // 判断集合中是否已经存在相同的值\n            if (_hasItemValue(radioGroupItems, 'Value', propVal) && currOption.Value !== propVal) {\n              showMessage(\"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n                key: 'entityd.preUpdateHandle.key0001',\n                variables: {\n                  propVal: propVal\n                }\n              })));\n              throw {\n                message: \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n                  key: 'entityd.preUpdateHandle.key0001',\n                  variables: {\n                    propVal: propVal\n                  }\n                })),\n                type: 'warning'\n              };\n            } else {\n              if (_hasItemValue(radioGroupItems, 'Caption', name)) {\n                var _ary = [];\n                _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default()(radioGroupItems).call(radioGroupItems, function (item) {\n                  if (_babel_runtime_corejs3_core_js_stable_object_is__WEBPACK_IMPORTED_MODULE_1___default()(item.Caption, name)) {\n                    var newItem = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, item);\n                    newItem.Value = propVal;\n                    _ary.push(newItem);\n                  } else {\n                    _ary.push(item);\n                  }\n                });\n                updateInfo = [groupId, {\n                  Items: _ary\n                }];\n              } else {\n                var newItems = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(radioGroupItems).call(radioGroupItems, []);\n                newItems.push({\n                  Caption: name,\n                  Value: propVal,\n                  _Type_: 'ComboItem'\n                });\n                updateInfo = [groupId, {\n                  Items: newItems\n                }];\n              }\n            }\n          } else if (_babel_runtime_corejs3_core_js_stable_object_is__WEBPACK_IMPORTED_MODULE_1___default()(propName, 'Name')) {\n            // 判断集合中是否已经存在相同的值\n            if (_hasItemValue(radioGroupItems, 'Caption', propVal)) {\n              showMessage(\"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n                key: 'entityd.preUpdateHandle.key0002',\n                variables: {\n                  propVal: propVal\n                }\n              })));\n              throw {\n                message: \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n                  key: 'entityd.preUpdateHandle.key0002',\n                  variables: {\n                    propVal: propVal\n                  }\n                })),\n                type: 'warning'\n              };\n            } else {\n              if (_hasItemValue(radioGroupItems, 'Value', radioValue)) {\n                var _ary2 = [];\n                _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default()(radioGroupItems).call(radioGroupItems, function (item) {\n                  if (_babel_runtime_corejs3_core_js_stable_object_is__WEBPACK_IMPORTED_MODULE_1___default()(item.Value, radioValue)) {\n                    var newItem = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, item);\n                    newItem.Caption = propVal;\n                    _ary2.push(newItem);\n                  } else {\n                    _ary2.push(item);\n                  }\n                });\n                updateInfo = [groupId, {\n                  Items: _ary2\n                }];\n              } else {\n                var _newItems = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(radioGroupItems).call(radioGroupItems, []);\n                _newItems.push({\n                  Caption: name,\n                  Value: propVal,\n                  _Type_: 'ComboItem'\n                });\n                updateInfo = [groupId, {\n                  Items: _newItems\n                }];\n              }\n            }\n          } else if (_babel_runtime_corejs3_core_js_stable_object_is__WEBPACK_IMPORTED_MODULE_1___default()(propName, 'Group')) {\n            /**\n               * 单选按钮切换按钮组做两个事情\n               * 1. 清空前一个按钮组中相对应的下拉项\n               * 2. 清空原先的按钮值(按照旧版逻辑，先不做)\n               * 3. 把新的下拉项push到新的按钮组的下拉项\n               */\n            var controlInfoVal = controlInfo.Items;\n            var _ary3 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(radioGroupItems).call(radioGroupItems, function (item) {\n              return !_babel_runtime_corejs3_core_js_stable_object_is__WEBPACK_IMPORTED_MODULE_1___default()(item.Value, controlInfoVal);\n            });\n            var newRadioGroupInfo = dataContext.findControl(propVal);\n            if (newRadioGroupInfo) {\n              var newRadioGroupItems = newRadioGroupInfo[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.ITEMS] || [];\n              // 判断集合中是否已经存在相同的值\n              if (_hasItemValue(newRadioGroupItems, 'Value', controlInfoVal)) {\n                showMessage(\"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n                  key: 'entityd.preUpdateHandle.key0001',\n                  variables: {\n                    propVal: propVal\n                  }\n                })));\n                throw {\n                  message: \"\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n                    key: 'entityd.preUpdateHandle.key0001',\n                    variables: {\n                      propVal: propVal\n                    }\n                  })),\n                  type: 'warning'\n                };\n              } else {\n                var _newItems2 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(newRadioGroupItems).call(newRadioGroupItems, []);\n                _newItems2.push({\n                  Caption: name,\n                  Value: controlInfoVal,\n                  _Type_: 'ComboItem'\n                });\n                // 把新的下拉项push到新的按钮组的下拉项\n                var updateInfoTwo = [propVal, {\n                  Items: _newItems2\n                }];\n                handleValue.push(updateInfoTwo);\n                // 删除已关联按钮组对应的下拉项\n                updateInfo = [groupId, {\n                  Items: _ary3\n                }];\n              }\n            }\n          }\n          handleValue.push(updateInfo);\n        }\n      }\n    }\n  });\n  var valueAfterHandle = value;\n  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context = [{\n    type: type,\n    value: valueAfterHandle\n  }]).call(_context, [{\n    type: type,\n    value: handleValue\n  }]);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preUpdateHandle);\n\n//# sourceURL=webpack://entity-designer/./src/pre-handle/preUpdateHandle.ts?");

/***/ }),

/***/ 43660:
/*!*************************************!*\
  !*** ./src/utils/canAddCallback.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constant_NodeType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constant/NodeType */ 5272);\n\n\nvar canAddHandle = function canAddHandle(_ref) {\n  var kdesignerApi = _ref.kdesignerApi,\n    keywordMapping = _ref.keywordMapping;\n  return function (childField, parentField, childControl, parentControl) {\n    var api = kdesignerApi.current;\n    var data = api.data;\n    var rootId = data.getRootId();\n    var parentControlId = parentControl.Id,\n      isParentContainer = parentControl.IsContainer;\n    if (!isParentContainer) return false;\n    var parentType = typeof parentField === 'string' ? parentField : parentField[keywordMapping.type];\n    var childType = typeof childField === 'string' ? childField : childField[keywordMapping.type];\n    var isChildContainer = childControl.IsContainer;\n    var childParentId = childControl[keywordMapping.parentId];\n    if (childParentId === parentControlId) {\n      return true;\n    }\n    if (childParentId) {\n      var preParentControl = data.findControl(childParentId) || {};\n      var preParentType = preParentControl._Type_;\n      var isEntityChildField = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_NODE_TYPE, preParentType) && !isChildContainer;\n      var isRootChildField = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ROOT_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ROOT_NODE_TYPE, preParentType) && !isChildContainer;\n\n      // 禁止单据头  和  单据体/树形单据体/子单据体 之间互相新增字段\n      if (isEntityChildField) {\n        if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_NODE_TYPE, parentType)) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n      if (isRootChildField) {\n        if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ROOT_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ROOT_NODE_TYPE, parentType)) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }\n\n    // 禁止在根节点新增子单据体\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_TYPE_NOT_ADD).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_TYPE_NOT_ADD, childType)) {\n      if (parentControlId === rootId) {\n        return false;\n      }\n    }\n    // 禁止在子单据体/单据体/树形单据体 新增单据体/树形单据体\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_HAS_CHILD_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_HAS_CHILD_TYPE, childType)) {\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_NODE_TYPE, parentType)) {\n        return false;\n      }\n    }\n\n    // 禁止在子单据体 新增子单据体\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_TYPE_NOT_ADD).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_TYPE_NOT_ADD, childType)) {\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_TYPE_NOT_ADD).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_1__.ENTITY_TYPE_NOT_ADD, parentType)) {\n        return false;\n      }\n    }\n\n    // 禁止在子单据体/单据体/树形单据体 新增 单选按钮、单选按钮组\n    // if (RADIO_TYPES.includes(childType)) {\n    //   if (ENTITY_NODE_TYPE.includes(parentType)) {\n    //     return false\n    //   }\n    // }\n\n    var checkNotAccept = function checkNotAccept(pType) {\n      var parentMeta = api.meta.getControlMeta(pType);\n      var notAccept = parentMeta.NotAccept;\n      if (notAccept) {\n        var notAcceptIds = notAccept.Ids;\n        return notAcceptIds === null || notAcceptIds === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(notAcceptIds).call(notAcceptIds, childType);\n      }\n    };\n    var ret = checkNotAccept(parentType);\n    if (ret) {\n      return false;\n    }\n    var checkAccept = function checkAccept(pType) {\n      var parentMeta = api.meta.getControlMeta(pType);\n      var accept = parentMeta.Accept;\n      if (!accept) return true;\n      if (accept) {\n        var acceptIds = accept.Ids;\n        return acceptIds === null || acceptIds === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(acceptIds).call(acceptIds, childType);\n      }\n    };\n    ret = checkAccept(parentType);\n    if (!ret) {\n      return false;\n    }\n    var checkParentAccept = function checkParentAccept(cType) {\n      var parentMeta = api.meta.getControlMeta(cType);\n      var acceptParent = parentMeta.AcceptParent;\n      if (!acceptParent) return true;\n      if (acceptParent) {\n        var acceptParentIds = acceptParent.Ids;\n        return acceptParentIds === null || acceptParentIds === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(acceptParentIds).call(acceptParentIds, parentType);\n      }\n    };\n    ret = checkParentAccept(childType);\n    if (!ret) {\n      return false;\n    }\n    return true;\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (canAddHandle);\n\n//# sourceURL=webpack://entity-designer/./src/utils/canAddCallback.ts?");

/***/ }),

/***/ 77168:
/*!*****************************!*\
  !*** ./src/utils/client.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LINIX: function() { return /* binding */ LINIX; },\n/* harmony export */   MAC: function() { return /* binding */ MAC; },\n/* harmony export */   OS: function() { return /* binding */ OS; },\n/* harmony export */   UNIX: function() { return /* binding */ UNIX; },\n/* harmony export */   WINDOWS: function() { return /* binding */ WINDOWS; },\n/* harmony export */   getOS: function() { return /* binding */ getOS; },\n/* harmony export */   isAltActive: function() { return /* binding */ isAltActive; },\n/* harmony export */   isCtrlActive: function() { return /* binding */ isCtrlActive; },\n/* harmony export */   isLinux: function() { return /* binding */ isLinux; },\n/* harmony export */   isMac: function() { return /* binding */ isMac; },\n/* harmony export */   isUnix: function() { return /* binding */ isUnix; },\n/* harmony export */   isWin: function() { return /* binding */ isWin; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0__);\n\nvar MAC = 'Mac';\nvar UNIX = 'Unix';\nvar LINIX = 'Linux';\nvar WINDOWS = 'Windows';\nfunction isWin() {\n  return window.navigator.platform == 'Win32' || window.navigator.platform == 'Windows';\n}\nfunction isMac() {\n  return window.navigator.platform == 'Mac68K' || window.navigator.platform == 'MacPPC' || window.navigator.platform == 'Macintosh' || window.navigator.platform == 'MacIntel';\n}\nfunction isUnix() {\n  return window.navigator.platform == 'X11' && !isWin() && !isMac();\n}\nfunction isLinux() {\n  var _context;\n  return _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0___default()(_context = String(window.navigator.platform)).call(_context, 'Linux') > -1;\n}\nfunction getOS() {\n  if (isMac()) return MAC;\n  if (isUnix()) return UNIX;\n  if (isLinux()) return LINIX;\n  if (isWin()) return WINDOWS;\n  return '';\n}\nvar OS = getOS();\nfunction isCtrlActive(e) {\n  return isMac() ? e.metaKey : e.ctrlKey;\n}\nfunction isAltActive(e) {\n  return e.altKey;\n}\n\n//# sourceURL=webpack://entity-designer/./src/utils/client.ts?");

/***/ }),

/***/ 78968:
/*!*********************************!*\
  !*** ./src/utils/entityMeta.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertEntityMetaToElements: function() { return /* binding */ convertEntityMetaToElements; },\n/* harmony export */   formatListTableData: function() { return /* binding */ formatListTableData; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _constant_NodeType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constant/NodeType */ 5272);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/index */ 63612);\n\n\n\n\n\n\n\n\n\n// 将实体元数据转换成React-Flow能够识别的elements\n// const initialElements: Elements = [\n//   { id: '1', data: { title: '差旅报销', entityType: ENTITY_TYPE.BILL_HEAD, items: [{}],  }, position, type: 'entityNode' },\n//   { id: '2', data: { title: '费用明细', entityType: ENTITY_TYPE.BILL_BODY }, position, type: 'entityNode' },\n//   { id: '3', data: { title: '行程明细', entityType: ENTITY_TYPE.BILL_BODY }, position, type: 'entityNode' },\n//   { id: '4', data: { title: '收款计划', entityType: ENTITY_TYPE.CHILD_BILL_BODY }, position, type: 'entityNode' },\n//   { id: '5', data: { title: '收款计划', entityType: ENTITY_TYPE.CHILD_BILL_BODY }, position, type: 'entityNode' },\n//   { id: '6', data: { title: '收款计划', entityType: ENTITY_TYPE.CHILD_BILL_BODY }, position, type: 'entityNode' },\n//   { id: 'e1-2', source: '1', target: '2', type: 'step' },\n//   { id: 'e1-3', source: '1', target: '3', type: 'step' },\n//   { id: 'e2-4', source: '2', target: '4', type: 'step' },\n//   { id: 'e3-5', source: '3', target: '5', type: 'step' },\n//   { id: 'e3-6', source: '3', target: '6', type: 'step' }\n// ]\nvar convertEntityMetaToElements = function convertEntityMetaToElements(entityMeta, _ref) {\n  var _context3;\n  var getControlMeta = _ref.getControlMeta;\n  var position = {\n    x: 0,\n    y: 0\n  };\n  var nodes = [];\n  var edges = [];\n  var entityItems = entityMeta.Items;\n  var entryNodes = [];\n  var fieldNodes = [];\n  var rootNode = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_0___default()(entityItems).call(entityItems, function (item) {\n    return (0,_utils_index__WEBPACK_IMPORTED_MODULE_7__.isRootNode)(item._Type_);\n  });\n  var rootId = rootNode[_constant_propnames__WEBPACK_IMPORTED_MODULE_6__.ID];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(entityItems).call(entityItems, function (item) {\n    var id = item.Id,\n      name = item.Name,\n      type = item._Type_,\n      parentId = item.ParentId,\n      showMore = item.showMore;\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_5__.ENTITY_TYPE_ARR).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_5__.ENTITY_TYPE_ARR, type)) {\n      var _ENTITY_INFO$type, _ENTITY_INFO$type2;\n      var level;\n      if (id === rootId) {\n        level = 1;\n      } else if (parentId === rootId) {\n        level = 2;\n      } else {\n        level = 3;\n      }\n      entryNodes.push(item);\n      nodes.push({\n        id: id,\n        position: position,\n        type: 'entityNode',\n        data: {\n          title: name,\n          entityName: (_ENTITY_INFO$type = (0,_constant_NodeType__WEBPACK_IMPORTED_MODULE_5__.ENTITY_INFO)()[type]) === null || _ENTITY_INFO$type === void 0 ? void 0 : _ENTITY_INFO$type.name,\n          entityIcon: (_ENTITY_INFO$type2 = (0,_constant_NodeType__WEBPACK_IMPORTED_MODULE_5__.ENTITY_INFO)()[type]) === null || _ENTITY_INFO$type2 === void 0 ? void 0 : _ENTITY_INFO$type2.icon,\n          entityType: type,\n          items: [],\n          properties: item,\n          hasParent: !!parentId,\n          hasChildren: false,\n          parentId: parentId,\n          level: level,\n          showMore: showMore\n        }\n      });\n    } else {\n      fieldNodes.push(item);\n    }\n  });\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(entryNodes).call(entryNodes, function (item) {\n    var id = item.Id,\n      type = item._Type_,\n      parentId = item.ParentId;\n    if (parentId) {\n      var _context;\n      edges.push({\n        id: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context = \"\".concat(parentId, \"-\")).call(_context, id),\n        source: parentId,\n        target: id,\n        type: 'step',\n        style: {\n          stroke: '#999'\n        }\n      });\n      var parentNodeIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4___default()(nodes).call(nodes, function (item) {\n        return item.id === parentId;\n      });\n      nodes[parentNodeIndex].data.hasChildren = true;\n    } else {\n      var _context2;\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_5__.ROOT_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_5__.ROOT_NODE_TYPE, type)) return;\n      edges.push({\n        id: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context2 = \"\".concat(rootId, \"-\")).call(_context2, id),\n        source: rootId,\n        target: id,\n        type: 'step',\n        style: {\n          stroke: '#999'\n        }\n      });\n      var _parentNodeIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4___default()(nodes).call(nodes, function (item) {\n        return item.id === parentId;\n      });\n      nodes[_parentNodeIndex].data.hasChildren = true;\n    }\n  });\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(fieldNodes).call(fieldNodes, function (item) {\n    var id = item.Id,\n      key = item.Key,\n      name = item.Name,\n      parentId = item.ParentId,\n      type = item._Type_;\n    var typeName = getControlMeta(type)[_constant_propnames__WEBPACK_IMPORTED_MODULE_6__.NAME];\n    if (parentId) {\n      var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4___default()(nodes).call(nodes, function (node) {\n        return node.id === parentId;\n      });\n      if (index > -1) {\n        nodes[index].data.items.push({\n          id: id,\n          key: key,\n          name: name,\n          properties: item,\n          typeName: typeName\n        });\n      }\n    } else {\n      var _index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4___default()(nodes).call(nodes, function (node) {\n        return node.id === rootId;\n      });\n      if (_index > -1) {\n        nodes[_index].data.items.push({\n          id: id,\n          key: key,\n          name: name,\n          properties: item,\n          typeName: typeName\n        });\n      }\n    }\n  });\n  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context3 = []).call(_context3, nodes, edges);\n};\n\n// 将实体元数据转换成table能够识别的格式\n// const dataSource = [\n//   { prov: '湖北省', confirm: 54406, cure: 4793, dead: 1457, t: '2020-02-15 19:52:02' },\n//   { prov: '广东省', confirm: 1294, cure: 409, dead: 2, t: '2020-02-15 19:52:02' },\n//   { prov: '河南省', confirm: 1212, cure: 390, dead: 13, t: '2020-02-15 19:52:02' },\n//   { prov: '浙江省', confirm: 1162, cure: 428, dead: 0, t: '2020-02-15 19:52:02' },\n//   { prov: '湖南省', confirm: 1001, cure: 417, dead: 2, t: '2020-02-15 19:52:02' }\n// ]\nvar formatListTableData = function formatListTableData(data, keys, metaApi) {\n  var result = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(data).call(data, function (info) {\n    var props = info.properties;\n    var item = {};\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(keys).call(keys, function (key) {\n      if (key === '_Type_') {\n        var typename = metaApi.getControlMeta(props[key])[_constant_propnames__WEBPACK_IMPORTED_MODULE_6__.NAME];\n        item[key] = typename;\n      } else {\n        item[key] = props[key];\n      }\n    });\n    result.push(item);\n  });\n  return result;\n};\n\n//# sourceURL=webpack://entity-designer/./src/utils/entityMeta.ts?");

/***/ }),

/***/ 15624:
/*!*********************************!*\
  !*** ./src/utils/entityUtil.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addEntityControl: function() { return /* binding */ addEntityControl; },\n/* harmony export */   deleteEntityControl: function() { return /* binding */ deleteEntityControl; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index */ 63612);\n\n\n\n\n\n\n\n/**\n * 添加实体节点\n * @param\n */\nvar addEntityControl = function addEntityControl(node, dataContext, selectionContext, showMessage, metaApi) {\n  var controlType = node.type,\n    fieldName = node.fieldName;\n  if (!controlType) {\n    showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)('entityd.entityUtil.key0001'));\n    return;\n  }\n  var activeSelectedId = selectionContext.getActiveSelectedId();\n  var parentId = activeSelectedId;\n  var parentControlType = dataContext.findControl(parentId)[_constant_propnames__WEBPACK_IMPORTED_MODULE_4__._TYPE_];\n  var canAdd = metaApi.canAdd(controlType, parentControlType);\n  if (!canAdd) return;\n  var newControl = {\n    _Type_: controlType,\n    ParentId: parentId,\n    Name: fieldName,\n    Id: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.createUUid)()\n  };\n  dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.createAddAction)(newControl)).then(function (actions) {\n    var realControl = actions[0].value;\n    selectionContext.setSelect(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0___default()(realControl) ? [realControl[0][_constant_propnames__WEBPACK_IMPORTED_MODULE_4__.ID]] : [realControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_4__.ID]]);\n  });\n};\n\n/**\n * 删除实体节点\n * @param\n */\nvar deleteEntityControl = function deleteEntityControl(dataContext, selectionContext, showMessage, controlsAddedByForntEnd, invokeAction) {\n  var getSelection = selectionContext.getSelection,\n    setSelect = selectionContext.setSelect;\n  var rootId = dataContext.getRootId();\n  var selection = getSelection();\n  if (selection.length > 0) {\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(selection).call(selection, function (id) {\n      if (rootId !== id) {\n        if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(controlsAddedByForntEnd).call(controlsAddedByForntEnd, id)) {\n          dataContext.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.createDeleteAction)(id));\n          var nextSelectedId = dataContext.getNextSelectedControlId(id);\n          setSelect([nextSelectedId]);\n        } else {\n          var constcontrolInfo = dataContext.findControl(id);\n          var key = constcontrolInfo.Key,\n            type = constcontrolInfo._Type_;\n          var _isEntity = (0,_index__WEBPACK_IMPORTED_MODULE_5__.isEntity)(type);\n          invokeAction('deleteConfirm', [key, id, _isEntity]);\n        }\n      } else {\n        showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)('entityd.entityUtil.key0002'));\n      }\n    });\n  }\n};\n\n//# sourceURL=webpack://entity-designer/./src/utils/entityUtil.ts?");

/***/ }),

/***/ 79148:
/*!*************************************!*\
  !*** ./src/utils/filterProperty.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/some */ 65624);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n\n\n\n\n\n\n// 兼容Immutable的情况\nfunction get(obj, key) {\n  return typeof obj.get === 'function' ? obj.get(key) : obj[key];\n}\n\n/**\n * @description: 构造filterProperty函数\n * @param {any} getModel\n * @param {any} getKdesignerApi\n * @return {*} filterProperty\n */\nvar filterProperty = function filterProperty(getModel, getKdesignerApi, metaType) {\n  /**\n   * @description: 过滤属性模型, true为隐藏, false为显示\n   * @param {IControlItem} field\n   * @param {IControlProperty} propMeta\n   * @return {boolean}\n   */\n  return function (field, propMeta) {\n    var uiModel = getModel();\n    // const api = getKdesignerApi()\n    var hideConfig = propMeta.Hide;\n    if (metaType === 'formmeta' && propMeta.Id === 'FieldId') {\n      return false;\n    }\n    // const parentType = field.ParentId ? api.data.findControl(item => item.Id === field.ParentId) : api.data.getRootId()\n    if (hideConfig && (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(hideConfig) === 'object') {\n      var types = hideConfig.Types,\n        fieldTypes = hideConfig.FieldTypes,\n        parentTypes = hideConfig.ParentTypes,\n        hide = hideConfig.Hide;\n      if (types && fieldTypes) {\n        var _context;\n        var parentId = field.ParentId || field.Id;\n        var parentType = uiModel.getEntityFieldInfo(parentId)[_constant_propnames__WEBPACK_IMPORTED_MODULE_4__._TYPE_];\n        var isEntryField = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(_context = ['EntryEntity', 'SubEntryEntity', 'TreeEntryEntity']).call(_context, parentType);\n        var type = isEntryField ? ['EntryFieldAp', 'CardEntryFieldAp'] : ['FieldAp'];\n        var fieldType = uiModel.getEntityFieldInfo(field.Id)[_constant_propnames__WEBPACK_IMPORTED_MODULE_4__._TYPE_];\n        if (hide == null || hide === true) {\n          return _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_2___default()(types).call(types, function (item) {\n            return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(type).call(type, item);\n          }) && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(fieldTypes).call(fieldTypes, fieldType);\n        } else {\n          return !(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_2___default()(types).call(types, function (item) {\n            return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(type).call(type, item);\n          }) && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(fieldTypes).call(fieldTypes, fieldType));\n        }\n      } else if (fieldTypes) {\n        // const fieldId = field[ID]\n        var _type = field[_constant_propnames__WEBPACK_IMPORTED_MODULE_4__._TYPE_];\n        // const entityInfo = uiModel.getEntityFieldInfo(fieldId)\n        // const fieldType = entityInfo && get(entityInfo, _TYPE_)\n        if (hide == null || hide === true) {\n          return (0,lodash__WEBPACK_IMPORTED_MODULE_3__.includes)(fieldTypes, _type);\n        } else {\n          return !(0,lodash__WEBPACK_IMPORTED_MODULE_3__.includes)(fieldTypes, _type);\n        }\n        //   } else if (parentTypes) {\n        //     if (hide == null || hide === true) {\n        //       return includes(parentTypes, parentType)\n        //     } else { // hide=false,满足条件就显示\n        //       return !includes(parentTypes, parentType)\n        //     }\n      } else {\n        return hide;\n      }\n    }\n    return false;\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (filterProperty);\n\n//# sourceURL=webpack://entity-designer/./src/utils/filterProperty.ts?");

/***/ }),

/***/ 69236:
/*!************************************!*\
  !*** ./src/utils/getDateLocale.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentDateLangData: function() { return /* binding */ getCurrentDateLangData; }\n/* harmony export */ });\nvar getCurrentDateLangData = function getCurrentDateLangData(getLangMsg, language) {\n  return {\n    'DatePicker.placeholder': getLangMsg('designer.date.key0001'),\n    'DatePicker.yearPlaceholder': getLangMsg('designer.date.key0002'),\n    'DatePicker.quarterPlaceholder': getLangMsg('designer.date.key0003'),\n    'DatePicker.monthPlaceholder': getLangMsg('designer.date.key0004'),\n    'DatePicker.weekPlaceholder': getLangMsg('designer.date.key0005'),\n    'DatePicker.timePlaceholder': getLangMsg('designer.date.key0006'),\n    'DatePicker.now': getLangMsg('designer.date.key0007'),\n    'DatePicker.confrim': getLangMsg('designer.date.key0008'),\n    'DatePicker.today': getLangMsg('designer.date.key0009'),\n    'DatePicker.month': getLangMsg('designer.date.key00010'),\n    'DatePicker.year': language === 'zh_CN' || language === 'zh_TW' ? getLangMsg('designer.date.key00011') : '',\n    'DatePicker.weekTitle': ['日', '一', '二', '三', '四', '五', '六'],\n    'DatePicker.monthTitle': ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\n    'DatePicker.rangePlaceholder': [getLangMsg('designer.date.key00012'), getLangMsg('designer.date.key00013')],\n    'DatePicker.rangeYearPlaceholder': [getLangMsg('designer.date.key00014'), getLangMsg('designer.date.key00015')],\n    'DatePicker.rangeMonthPlaceholder': [getLangMsg('designer.date.key00016'), getLangMsg('designer.date.key00017')],\n    'DatePicker.rangeWeekPlaceholder': [getLangMsg('designer.date.key00018'), getLangMsg('designer.date.key00019')],\n    'DatePicker.rangeQuarterPlaceholder': [getLangMsg('designer.date.key00020'), getLangMsg('designer.date.key00021')],\n    'DatePicker.rangeTimePlaceholder': [getLangMsg('designer.date.key00022'), getLangMsg('designer.date.key00023')]\n  };\n};\n\n//# sourceURL=webpack://entity-designer/./src/utils/getDateLocale.ts?");

/***/ }),

/***/ 58556:
/*!************************************!*\
  !*** ./src/utils/getModelProxy.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-27 10:08:23\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 11:09:36\n * @Description: ...\n */\n\n\nvar getModelProxy = function getModelProxy(api) {\n  return {\n    getEntityRootId: function getEntityRootId() {\n      return api.data.getRootId();\n    },\n    getEntityFieldInfo: function getEntityFieldInfo(fieldId) {\n      return api.data.findControl(fieldId);\n    },\n    getEntityPropertyValue: function getEntityPropertyValue(entityId, propName) {\n      var field = api.data.findControl(entityId);\n      if (!field) return;\n      var value = field[propName];\n      if ((0,lodash__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(value)) {\n        return api.meta.getControlPropertyDefaultValue(field._Type_, propName);\n      }\n      return value;\n    },\n    getFormFieldInfo: function getFormFieldInfo(fieldId) {\n      return api.data.findControl(fieldId);\n    },\n    getFieldInfo: function getFieldInfo(fieldId) {\n      return api.data.findControl(fieldId);\n    },\n    getPropertyValue: function getPropertyValue(fieldId, refPropName) {\n      return api.data.getPropertyValue(fieldId, refPropName);\n    }\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (getModelProxy);\n\n//# sourceURL=webpack://entity-designer/./src/utils/getModelProxy.ts?");

/***/ }),

/***/ 63612:
/*!****************************!*\
  !*** ./src/utils/index.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canAddUniqueField: function() { return /* binding */ canAddUniqueField; },\n/* harmony export */   convertToArray: function() { return /* binding */ convertToArray; },\n/* harmony export */   findEntityById: function() { return /* binding */ findEntityById; },\n/* harmony export */   findEntityIdById: function() { return /* binding */ findEntityIdById; },\n/* harmony export */   getRootEntity: function() { return /* binding */ getRootEntity; },\n/* harmony export */   isEntity: function() { return /* binding */ isEntity; },\n/* harmony export */   isEntryEntityNode: function() { return /* binding */ isEntryEntityNode; },\n/* harmony export */   isRootNode: function() { return /* binding */ isRootNode; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/some */ 65624);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _constant_NodeType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constant/NodeType */ 5272);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n\n\n\n\n\n\n/**\n * 将参数转为数组\n */\nvar convertToArray = function convertToArray(param) {\n  if (!param) return [];\n  if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0___default()(param)) return param;\n  return [param];\n};\n\n/**\n * 判断是否根节点\n */\nvar isRootNode = function isRootNode(type) {\n  if (!type) return false;\n  if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_4__.ROOT_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_4__.ROOT_NODE_TYPE, type)) {\n    return true;\n  }\n  return false;\n};\n\n/**\n * 判断是否是单据体节点（二级）\n */\nvar isEntryEntityNode = function isEntryEntityNode(type) {\n  if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_4__.ENTITY_HAS_CHILD_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_4__.ENTITY_HAS_CHILD_TYPE, type)) {\n    return true;\n  }\n  return false;\n};\n\n/**\n * 判断是否是实体节点\n */\nvar isEntity = function isEntity(type) {\n  var _context;\n  var _isEntity = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(_context = ['EntryEntity', 'SubEntryEntity', 'TreeEntryEntity', 'TreeSubEntryEntity']).call(_context, type);\n  return _isEntity;\n};\n\n/**\n * 获取根结点\n * @param dataList\n * @returns\n */\nvar getRootEntity = function getRootEntity(dataList) {\n  return _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default()(dataList).call(dataList, function (item) {\n    return isRootNode(item._Type_);\n  });\n};\n\n/**\n * 查找选中元素所在的实体对象\n * @param dataList\n * @param id 字段或者实体的id\n * @returns 返回自身或者其父实体\n */\nvar findEntityById = function findEntityById(dataList, id) {\n  if (!id) return getRootEntity(dataList);\n  var item = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default()(dataList).call(dataList, function (item) {\n    return item.Id === id;\n  });\n  var type = item === null || item === void 0 ? void 0 : item._Type_;\n  if (isRootNode(type) || isEntity(type)) {\n    return item;\n  } else {\n    var parentId = item.ParentId;\n    return _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default()(dataList).call(dataList, function (item) {\n      return item.Id === parentId;\n    });\n  }\n};\n\n/**\n * 查找选中元素所在的实体对象Id\n * @param dataList\n * @param id 字段或者实体的id\n * @returns 返回自身或者其父实体Id\n */\nvar findEntityIdById = function findEntityIdById(dataList, id) {\n  if (!id) {\n    var root = getRootEntity(dataList);\n    return root.Id;\n  }\n  var item = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default()(dataList).call(dataList, function (item) {\n    return item.Id === id;\n  });\n  var type = item === null || item === void 0 ? void 0 : item._Type_;\n  if (isRootNode(type) || isEntity(type)) {\n    return item.Id;\n  } else {\n    var parentId = item.ParentId;\n    return parentId;\n  }\n};\n\n/**\n * 具有唯一性字段，需要校验\n * @param controlType\n * @param parentId\n * @param dataContext\n * @returns boolean\n */\nfunction canAddUniqueField(controlType, parentId, dataContext) {\n  var subControls = dataContext.getAllSubControls(parentId);\n  var existField = _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_3___default()(subControls).call(subControls, function (item) {\n    return (item === null || item === void 0 ? void 0 : item[_constant_propnames__WEBPACK_IMPORTED_MODULE_5__._TYPE_]) === controlType;\n  });\n  return !existField;\n}\n\n//# sourceURL=webpack://entity-designer/./src/utils/index.ts?");

/***/ }),

/***/ 21920:
/*!*****************************!*\
  !*** ./src/utils/layout.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAdjustedNodePosition: function() { return /* binding */ getAdjustedNodePosition; },\n/* harmony export */   getMaxSizeByLevel: function() { return /* binding */ getMaxSizeByLevel; },\n/* harmony export */   getNodeContentSize: function() { return /* binding */ getNodeContentSize; },\n/* harmony export */   getNodeSize: function() { return /* binding */ getNodeSize; },\n/* harmony export */   getNodeTitleSize: function() { return /* binding */ getNodeTitleSize; },\n/* harmony export */   getReactFlowConfig: function() { return /* binding */ getReactFlowConfig; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_flow_renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-flow-renderer */ 98752);\n/* harmony import */ var _constant_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constant/const */ 83284);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n/**\n * 获取指定层级的最大宽高\n * @param elements\n * @param level\n * @returns { maxHeight, maxWidth }\n */\nfunction getMaxSizeByLevel(elements, level) {\n  var filteredElements = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_0___default()(elements).call(elements, function (item) {\n    return item.data.level === level;\n  });\n  var heightArr = [];\n  var widthArr = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(filteredElements).call(filteredElements, function (item) {\n    var _item$data$size = item.data.size,\n      height = _item$data$size.height,\n      width = _item$data$size.width;\n    heightArr.push(height);\n    widthArr.push(width);\n  });\n  var maxHeight = Math.max.apply(Math, heightArr);\n  var maxWidth = Math.max.apply(Math, widthArr);\n  return {\n    maxHeight: maxHeight,\n    maxWidth: maxWidth\n  };\n}\n\n/**\n * 获取指定节点的宽高\n * @param element\n * @returns { width, height }\n */\nfunction getNodeSize(element, nodeContentVisibleConfig) {\n  var nodeTitleSize = getNodeTitleSize(element);\n  var nodecontentSize = getNodeContentSize(element, nodeContentVisibleConfig);\n  return {\n    width: Math.max(nodeTitleSize.width, nodecontentSize.width),\n    height: nodeTitleSize.height + nodecontentSize.height\n  };\n}\nfunction getNodeTitleSize(element) {\n  var _element$data$title = element.data.title,\n    title = _element$data$title === void 0 ? '' : _element$data$title;\n  var titleEle = document.getElementById('_entityNodeTitle_');\n  if (!titleEle) {\n    titleEle = document.createElement('div');\n    titleEle.setAttribute('id', '_entityNodeTitle_');\n    titleEle.setAttribute('style', 'height:36px; border: 1px solid red; padding-left:32px; padding-right:12px; min-width:200px; max-width:320px; position:absolute; left:-9999px; top:0px; display:flex;');\n    document.body.appendChild(titleEle);\n  }\n  var html = \"<div style=\\\"margin:8px; font-size:14px;\\\">\".concat(title, \"</div>\");\n  titleEle.innerHTML = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.xssFilters)(html);\n  var _titleEle$getBounding = titleEle.getBoundingClientRect(),\n    width = _titleEle$getBounding.width,\n    height = _titleEle$getBounding.height;\n  return {\n    width: width,\n    height: height\n  };\n}\nfunction getNodeContentSize(element, nodeContentVisibleConfig) {\n  var _element$data = element.data,\n    _element$data$items = _element$data.items,\n    items = _element$data$items === void 0 ? [] : _element$data$items,\n    showMore = _element$data.showMore;\n  var showKey = nodeContentVisibleConfig.showKey,\n    showType = nodeContentVisibleConfig.showType;\n  var maxWidth = 0;\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(items).call(items, function (item) {\n    var name = item.name,\n      key = item.key,\n      typeName = item.typeName;\n    var fieldNodeEle = document.getElementById('_fieldNode_');\n    if (!fieldNodeEle) {\n      fieldNodeEle = document.createElement('div');\n      fieldNodeEle.setAttribute('id', '_fieldNode_');\n      fieldNodeEle.setAttribute('style', 'height:27px; border: 1px solid red; padding-left:22px; padding-right:20px; min-width:200px; max-width:320px; position:absolute; left:-9999px; top:40px; font-size: 12px; display:flex;');\n      document.body.appendChild(fieldNodeEle);\n    }\n    var html = \"<div>\".concat(name, \"</div>\");\n    html += showType ? \"<div>\\uFF08\".concat(typeName, \"\\uFF09</div>\") : '';\n    html += showKey ? \"<div>\\uFF08\".concat(key, \"\\uFF09</div>\") : '';\n    fieldNodeEle.innerHTML = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.xssFilters)(html);\n    var _fieldNodeEle$getBoun = fieldNodeEle.getBoundingClientRect(),\n      width = _fieldNodeEle$getBoun.width;\n    maxWidth = Math.max(maxWidth, width);\n  });\n  var height = 0;\n  if (items.length <= _constant_const__WEBPACK_IMPORTED_MODULE_3__.MINLENGTH) {\n    height = Math.max(_constant_const__WEBPACK_IMPORTED_MODULE_3__.FIELDHEIGHT * items.length, _constant_const__WEBPACK_IMPORTED_MODULE_3__.PANELMINHEIGHT); // 最小高度48px\n  } else if (items.length <= _constant_const__WEBPACK_IMPORTED_MODULE_3__.MAXLENGTH) {\n    height = showMore ? _constant_const__WEBPACK_IMPORTED_MODULE_3__.FIELDHEIGHT * items.length + _constant_const__WEBPACK_IMPORTED_MODULE_3__.MOREBUTTONHEIGHT : _constant_const__WEBPACK_IMPORTED_MODULE_3__.FIELDHEIGHT * _constant_const__WEBPACK_IMPORTED_MODULE_3__.MINLENGTH + _constant_const__WEBPACK_IMPORTED_MODULE_3__.MOREBUTTONHEIGHT;\n  } else {\n    height = showMore ? _constant_const__WEBPACK_IMPORTED_MODULE_3__.FIELDHEIGHT * _constant_const__WEBPACK_IMPORTED_MODULE_3__.MAXLENGTH + _constant_const__WEBPACK_IMPORTED_MODULE_3__.MOREBUTTONHEIGHT : _constant_const__WEBPACK_IMPORTED_MODULE_3__.FIELDHEIGHT * _constant_const__WEBPACK_IMPORTED_MODULE_3__.MINLENGTH + _constant_const__WEBPACK_IMPORTED_MODULE_3__.MOREBUTTONHEIGHT;\n  }\n  return {\n    width: maxWidth,\n    height: height\n  };\n}\n\n/**\n * 获取调整后元素的位置，以达到顶部对齐的效果\n * @param elements\n * @param nodeWithPosition\n * @param level\n * @param isHorizontal\n * @returns { x, y }\n */\nfunction getAdjustedNodePosition(elements, nodeWithPosition, level, isHorizontal) {\n  switch (level) {\n    case 2:\n    case 3:\n      {\n        var _getMaxSizeByLevel = getMaxSizeByLevel(elements, level),\n          maxHeight = _getMaxSizeByLevel.maxHeight,\n          maxWidth = _getMaxSizeByLevel.maxWidth;\n        var x = nodeWithPosition.x - (isHorizontal ? maxWidth : nodeWithPosition.width) / 2;\n        var y = nodeWithPosition.y - (isHorizontal ? nodeWithPosition.height : maxHeight) / 2;\n        return {\n          x: x,\n          y: y\n        };\n      }\n    case 1:\n    default:\n      {\n        var _x = nodeWithPosition.x - nodeWithPosition.width / 2;\n        var _y = nodeWithPosition.y - nodeWithPosition.height / 2;\n        return {\n          x: _x,\n          y: _y\n        };\n      }\n  }\n}\n\n/**\n * 获取 ReactFlow 的配置项\n * @returns ReactFlowProps\n */\nfunction getReactFlowConfig() {\n  return {\n    style: {\n      background: '#ECEEF2'\n    },\n    zoomOnScroll: false,\n    preventScrolling: false,\n    nodesConnectable: false,\n    nodesDraggable: false,\n    panOnScrollMode: react_flow_renderer__WEBPACK_IMPORTED_MODULE_2__.PanOnScrollMode.Free,\n    defaultZoom: 1,\n    minZoom: 1 / 1.2 / 1.2,\n    maxZoom: 1.2 * 1.2,\n    zoomOnDoubleClick: false\n  };\n}\n\n//# sourceURL=webpack://entity-designer/./src/utils/layout.ts?");

/***/ }),

/***/ 30296:
/*!**********************************!*\
  !*** ./src/utils/searchUtils.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSearchResults: function() { return /* binding */ getSearchResults; },\n/* harmony export */   scrollIntoView: function() { return /* binding */ scrollIntoView; },\n/* harmony export */   setFieldIntoView: function() { return /* binding */ setFieldIntoView; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index */ 63612);\n/* harmony import */ var _constant_const__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constant/const */ 83284);\n\n\n\n\n\n\n\n\n\nfunction getSearchResults() {\n  var dataList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var keyWord = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var selectedId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  if (keyWord === '') return [];\n  var entityList = [];\n  var filteredField = [];\n  var results = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(dataList).call(dataList, function (item) {\n    var type = item._Type_,\n      key = item.Key,\n      name = item.Name;\n    if ((0,_index__WEBPACK_IMPORTED_MODULE_7__.isRootNode)(type) || (0,_index__WEBPACK_IMPORTED_MODULE_7__.isEntity)(type)) {\n      entityList.push(item);\n    } else if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(key).call(key, keyWord) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(name).call(name, keyWord)) {\n      filteredField.push(item);\n    }\n  });\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(filteredField).call(filteredField, function (item) {\n    var parentId = item.ParentId,\n      key = item.Key,\n      name = item.Name,\n      id = item.Id;\n    var newItem = {\n      id: id,\n      key: key,\n      name: name\n    };\n    var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_3___default()(results).call(results, function (item) {\n      return item.id === parentId;\n    });\n    if (index > -1) {\n      results[index].items.push(newItem);\n    } else {\n      var parent = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default()(entityList).call(entityList, function (item) {\n        return item.Id === parentId;\n      });\n      results.push({\n        id: parentId,\n        key: parent.Key,\n        name: parent.Name,\n        items: [newItem]\n      });\n    }\n  });\n  var _findEntityById = (0,_index__WEBPACK_IMPORTED_MODULE_7__.findEntityById)(dataList, selectedId),\n    selectEntityId = _findEntityById.Id;\n  var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_3___default()(results).call(results, function (item) {\n    return item.id === selectEntityId;\n  });\n  if (index > 0) {\n    var _context;\n    // 搜索框结果的分组排序，把选中卡片放到最上面\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context = [results[index]]).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_6___default()(results).call(results, 0, index)), (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_6___default()(results).call(results, index + 1)));\n  } else {\n    return results;\n  }\n}\nfunction scrollIntoView(attr, value) {\n  var _container$querySelec;\n  var container = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  var dom = (_container$querySelec = container.querySelectorAll('[' + attr + '=\"' + value + '\"]')) === null || _container$querySelec === void 0 ? void 0 : _container$querySelec[0];\n  dom && dom.scrollIntoView({\n    block: 'nearest',\n    behavior: 'smooth'\n  });\n}\nfunction setFieldIntoView(id) {\n  var _document$querySelect;\n  var dom = (_document$querySelect = document.querySelectorAll('[data-control-id=\"' + id + '\"]')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect[0];\n  var panelDom = dom === null || dom === void 0 ? void 0 : dom.parentElement;\n  var children = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_6___default()(Array.prototype).call((panelDom === null || panelDom === void 0 ? void 0 : panelDom.children) || []);\n  var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_3___default()(children).call(children, function (item) {\n    return item.id === id;\n  });\n  if (panelDom && index > -1) {\n    var _panelDom$getBounding, _dom$getBoundingClien;\n    var panelHeight = ((_panelDom$getBounding = panelDom.getBoundingClientRect()) === null || _panelDom$getBounding === void 0 ? void 0 : _panelDom$getBounding.height) || 0;\n    var fieldHeight = ((_dom$getBoundingClien = dom.getBoundingClientRect()) === null || _dom$getBoundingClien === void 0 ? void 0 : _dom$getBoundingClien.height) || 0;\n    var relativeHeight = fieldHeight * index - panelDom.scrollTop;\n    var isFieldInView = relativeHeight >= panelHeight || relativeHeight < 0;\n    if (isFieldInView) {\n      panelDom.scrollTop = _constant_const__WEBPACK_IMPORTED_MODULE_8__.FIELDHEIGHT * index;\n    }\n  }\n}\n\n//# sourceURL=webpack://entity-designer/./src/utils/searchUtils.ts?");

/***/ }),

/***/ 59416:
/*!**********************************!*\
  !*** ./src/utils/setProperty.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 39832);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n\n\n\n\n\n\n/*\n * @Description: setProperty\n */\n\n\n\n\nvar UPDATE = 'update';\nvar ALIAS = 'alias';\nvar delayQueueUtil = new designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.DelayQueueUtil([UPDATE, ALIAS]);\nvar setProperty = function setProperty(_ref) {\n  var dataRef = _ref.dataRef,\n    kdesignerApi = _ref.kdesignerApi,\n    keywordMapping = _ref.keywordMapping;\n  return function (args) {\n    var _context;\n    if (!args || !args[0]) return;\n    var data = args[0];\n    data = (0,lodash__WEBPACK_IMPORTED_MODULE_7__.isArray)(data) ? data : [data];\n    var aliasActions = [];\n    var actions = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(data).call(data, function (prop) {\n      var _context2;\n      // 当metaType==‘entitymeta’时 itemId为实体Id\n      // 当metaType==‘formmeta’时 itemId为控件的Id\n      var itemId = prop.itemId,\n        value = prop.value,\n        metaType = prop.metaType,\n        propertyName = prop.propertyName,\n        _alias = prop.alias;\n      var alias = (0,lodash__WEBPACK_IMPORTED_MODULE_7__.isUndefined)(_alias) ? _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(value) : _alias;\n      if (metaType === 'formmeta') {\n        console.log('setProperty formmeta', prop);\n        return;\n      }\n      var oldItem = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = dataRef.current[metaType].Items).call(_context2, function (item) {\n        return item.Id === itemId;\n      });\n      if (!oldItem) {\n        console.log('other\"s form type action: ', prop);\n        // 这里应该去找其他form? 或者是后端带上对应的form? 或者是右视图先不渲染?\n        // 或者渲染带上实例ID\n        return;\n      }\n      var oldValue = oldItem[propertyName];\n      if ((0,lodash__WEBPACK_IMPORTED_MODULE_7__.isUndefined)(oldValue)) {\n        var propDefVal = kdesignerApi.current.meta.getControlPropertyDefaultValue(oldItem[_constant_propnames__WEBPACK_IMPORTED_MODULE_8__._TYPE_], propertyName);\n        if (propDefVal) {\n          oldValue = propDefVal;\n        }\n      }\n      var isValChange = !(0,lodash__WEBPACK_IMPORTED_MODULE_7__.isEqual)(oldValue, value);\n      if (isValChange) {\n        // 这里如果是Batch还不能直接调,得在Attr里做一层转发 ?\n        return [itemId, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, propertyName, value)];\n      }\n      if (!(0,lodash__WEBPACK_IMPORTED_MODULE_7__.isUndefined)(alias)) {\n        var originAliasValue = kdesignerApi.current.aliasData.getAliasDataPropValue(oldItem[keywordMapping.type], propertyName, value);\n        if (!(0,lodash__WEBPACK_IMPORTED_MODULE_7__.isEqual)(originAliasValue, alias)) {\n          // 不应该会改type\n          aliasActions.push({\n            type: oldItem[keywordMapping.type],\n            propName: propertyName,\n            value: value,\n            alias: alias\n          });\n        }\n      }\n      return;\n    })).call(_context, Boolean);\n    delayQueueUtil.addQueueData(actions, UPDATE);\n    delayQueueUtil.addQueueData(aliasActions, ALIAS);\n    delayQueueUtil.addTimer(function () {\n      var dataActionQueue = delayQueueUtil.getQueueData(UPDATE);\n      var aliasActionQueue = delayQueueUtil.getQueueData(ALIAS);\n      if (dataActionQueue.length) {\n        kdesignerApi.current.data.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.createUpdateAction)(dataActionQueue));\n      }\n      if (aliasActionQueue.length) {\n        _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default()(function () {\n          kdesignerApi.current.aliasData.setAliasDataPropValue(aliasActionQueue);\n        });\n      }\n      delayQueueUtil.clearQueue();\n    });\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (setProperty);\n\n//# sourceURL=webpack://entity-designer/./src/utils/setProperty.ts?");

/***/ }),

/***/ 51032:
/*!**********************************!*\
  !*** ./src/utils/toolbarUtil.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteControlFn: function() { return /* binding */ deleteControlFn; },\n/* harmony export */   getCopyControlFn: function() { return /* binding */ getCopyControlFn; },\n/* harmony export */   getNextSelectedControlId: function() { return /* binding */ getNextSelectedControlId; },\n/* harmony export */   pasteUtil: function() { return /* binding */ pasteUtil; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _constant_NodeType__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../constant/NodeType */ 5272);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./index */ 63612);\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n/**\n * 粘贴\n * @param\n */\nvar pasteUtil = function pasteUtil(control, dataContext, selectionContext, metaApi, canAddHandle, isRepeat) {\n  var getActiveSelectedId = selectionContext.getActiveSelectedId;\n  var rootId = dataContext.getRootId();\n  var activeSelectedId = getActiveSelectedId();\n  var activeControl = dataContext.findControl(activeSelectedId);\n  var targetControl = control;\n  var targetId = targetControl.Id,\n    targetKey = targetControl.Key,\n    targetType = targetControl._Type_;\n  var activeId = activeControl.Id,\n    activeType = activeControl._Type_;\n  var targetParentId = targetControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_13__.PARENTID] || rootId;\n  var activeParentId = activeControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_13__.PARENTID] || rootId;\n  if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_14__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_14__.ENTITY_NODE_TYPE, targetType)) {\n    // 单据体/子单据体\n    var _metaApi$getControlMe = metaApi.getControlMeta(activeType),\n      _metaApi$getControlMe2 = _metaApi$getControlMe.IsContainer,\n      IsContainer = _metaApi$getControlMe2 === void 0 ? false : _metaApi$getControlMe2;\n    var _metaApi$getControlMe3 = metaApi.getControlMeta(targetType),\n      _metaApi$getControlMe4 = _metaApi$getControlMe3.IsContainer,\n      targetContainer = _metaApi$getControlMe4 === void 0 ? false : _metaApi$getControlMe4;\n    if (!IsContainer) {\n      // 焦点在字段\n      return false;\n    } else if (isRepeat) {\n      // 焦点在自身\n      var newId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUUid)();\n      var newControl = _objectSpread(_objectSpread({}, targetControl), {}, {\n        ParentId: activeParentId,\n        Id: newId,\n        Key: targetKey + '1',\n        Inherit: false\n      });\n      var index = dataContext.findControlIndex(activeId) + 1;\n      return {\n        newControl: newControl,\n        index: index\n      };\n    } else {\n      // 焦点在其他单据体节点或子单据体节点或父容器节点\n      var childControl = {\n        Id: targetId,\n        IsContainer: targetContainer,\n        ParentId: targetParentId\n      };\n      var parentControl = {\n        Id: activeId,\n        IsContainer: IsContainer\n      };\n      var canAdd = canAddHandle(targetType, activeType, childControl, parentControl);\n      if (!canAdd) {\n        return false;\n      } else {\n        var _newId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUUid)();\n        var _newControl = _objectSpread(_objectSpread({}, targetControl), {}, {\n          ParentId: activeId,\n          Id: _newId,\n          Key: targetKey + '1',\n          Inherit: false\n        });\n        var _index = -1;\n        return {\n          newControl: _newControl,\n          index: _index\n        };\n      }\n    }\n  } else {\n    // 字段\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_14__.ENTITY_TYPE_ARR).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_14__.ENTITY_TYPE_ARR, activeType)) {\n      // 焦点在容器上粘贴\n      var _metaApi$getControlMe5 = metaApi.getControlMeta(activeType),\n        _metaApi$getControlMe6 = _metaApi$getControlMe5.IsContainer,\n        _IsContainer = _metaApi$getControlMe6 === void 0 ? false : _metaApi$getControlMe6;\n      var _metaApi$getControlMe7 = metaApi.getControlMeta(targetType),\n        _metaApi$getControlMe8 = _metaApi$getControlMe7.IsContainer,\n        _targetContainer = _metaApi$getControlMe8 === void 0 ? false : _metaApi$getControlMe8;\n      var _childControl = {\n        Id: targetId,\n        IsContainer: _targetContainer,\n        ParentId: targetParentId\n      };\n      var _parentControl = {\n        Id: activeId,\n        IsContainer: _IsContainer\n      };\n      var _canAdd = canAddHandle(targetType, activeType, _childControl, _parentControl);\n      if (!_canAdd) {\n        return false;\n      } else {\n        var _newControl2 = _objectSpread(_objectSpread({}, targetControl), {}, {\n          ParentId: activeId,\n          Id: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUUid)(),\n          Key: targetKey + '1',\n          FieldName: targetKey + '1',\n          Inherit: false\n        });\n        var _index2 = -1;\n        return {\n          newControl: _newControl2,\n          index: _index2\n        };\n      }\n    } else {\n      // 焦点在字段上粘贴\n      var activeFatherControl = dataContext.findControl(activeParentId);\n      var activeFatherId = activeFatherControl.Id,\n        activeFatherType = activeFatherControl._Type_;\n      var _metaApi$getControlMe9 = metaApi.getControlMeta(activeFatherType),\n        _metaApi$getControlMe10 = _metaApi$getControlMe9.IsContainer,\n        _IsContainer2 = _metaApi$getControlMe10 === void 0 ? false : _metaApi$getControlMe10;\n      var _childControl2 = {\n        Id: targetId,\n        IsContainer: false,\n        ParentId: targetParentId\n      };\n      var _parentControl2 = {\n        Id: activeFatherId,\n        IsContainer: _IsContainer2\n      };\n      var _canAdd2 = canAddHandle(targetType, activeFatherType, _childControl2, _parentControl2);\n      if (!_canAdd2) {\n        return false;\n      } else {\n        var _newControl3 = _objectSpread(_objectSpread({}, targetControl), {}, {\n          ParentId: activeParentId,\n          Id: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUUid)(),\n          Key: targetKey + '1',\n          FieldName: targetKey + '1',\n          Inherit: false\n        });\n        var _index3 = dataContext.findControlIndex(activeId) + 1;\n        return {\n          newControl: _newControl3,\n          index: _index3\n        };\n      }\n    }\n  }\n};\n\n/**\n * 删除实体节点\n * @param\n */\nvar deleteControlFn = function deleteControlFn(id, setSelect, dataContext, controlsAddedByForntEnd, invokeAction, showMessage) {\n  if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(controlsAddedByForntEnd).call(controlsAddedByForntEnd, id)) {\n    var nextSelectedId = getNextSelectedControlId(id, dataContext);\n    dataContext.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createDeleteAction)(id)).then(function () {\n      setSelect([nextSelectedId]);\n    });\n  } else {\n    var constcontrolInfo = dataContext.findControl(id);\n    var key = constcontrolInfo.Key,\n      type = constcontrolInfo._Type_,\n      inherit = constcontrolInfo.Inherit;\n    if (inherit) {\n      showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)('entityd.toolbarUtil.key0001'));\n      return;\n    }\n    var _isEntity = (0,_index__WEBPACK_IMPORTED_MODULE_15__.isEntity)(type);\n    invokeAction('deleteConfirm', [key, id, _isEntity]);\n  }\n};\n\n/**\n * 实体设计器下一次焦点\n * @param\n * 实体设计器删除后焦点跳转要遵循以下规则\n * 1.可以删除的控件是除了根节点以外的字段和单据\n * 如果删除的是字段,向前向后跳字段，没有字段则跳向父亲\n * 如果删除的是单据,向前向后跳单据，没有单据则跳向父亲\n */\nvar getNextSelectedControlId = function getNextSelectedControlId(id, dataContext) {\n  // 获取当前节点\n  var siblingsControl = dataContext.getAllSiblings(id);\n  var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_10___default()(siblingsControl).call(siblingsControl, function (control) {\n    return control[_constant_propnames__WEBPACK_IMPORTED_MODULE_13__.ID] === id;\n  });\n  var IS_ENTITY_NODE_TYPE = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_14__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_14__.ENTITY_NODE_TYPE, siblingsControl[index][_constant_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]);\n  // 前向后跳寻找节点\n  var prevControl, nextControl;\n  for (var i = index - 1; i >= 0; i--) {\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_14__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_14__.ENTITY_NODE_TYPE, siblingsControl[i][_constant_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]) === IS_ENTITY_NODE_TYPE) {\n      prevControl = siblingsControl[i];\n      break;\n    }\n  }\n  for (var _i = index + 1; _i < siblingsControl.length; _i++) {\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_constant_NodeType__WEBPACK_IMPORTED_MODULE_14__.ENTITY_NODE_TYPE).call(_constant_NodeType__WEBPACK_IMPORTED_MODULE_14__.ENTITY_NODE_TYPE, siblingsControl[_i][_constant_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]) === IS_ENTITY_NODE_TYPE) {\n      nextControl = siblingsControl[_i];\n      break;\n    }\n  }\n  var parentControlId = dataContext.getParentControlId(id);\n  var nextSelectedId = id;\n  if (prevControl) nextSelectedId = prevControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_13__.ID];else if (nextControl) nextSelectedId = nextControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_13__.ID];else if (parentControlId) nextSelectedId = parentControlId;\n  return nextSelectedId;\n};\n/**\n * 获取复制实体节点\n * @param\n */\nvar getCopyControlFn = function getCopyControlFn(selection, dataContext) {\n  var copyContent = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default()(selection).call(selection, function (sel) {\n    var result = dataContext.getAllSubControls(sel) || [];\n    copyContent = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(copyContent).call(copyContent, result);\n  });\n  return copyContent;\n};\n\n//# sourceURL=webpack://entity-designer/./src/utils/toolbarUtil.ts?");

/***/ }),

/***/ 84532:
/*!*********************************!*\
  !*** ./src/utils/transform.tsx ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adaptorMeta: function() { return /* binding */ adaptorMeta; },\n/* harmony export */   getAdaptedData: function() { return /* binding */ getAdaptedData; },\n/* harmony export */   translateDataToTree: function() { return /* binding */ translateDataToTree; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 39832);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 11872);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/index */ 63612);\n\n\n\n\n\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2022-02-15 10:15:19\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-11 17:25:57\n * @Description: ...\n */\n\n\n\n\nvar adaptorMeta = function adaptorMeta(originMeta, data) {\n  return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.adaptorMeta)(originMeta, designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.transformKeyMap, data);\n};\nvar dataKeysMap = {\n  BizappId: 'bizappId',\n  Name: 'name',\n  Id: 'id',\n  appNum: 'formId',\n  Key: 'key',\n  DevType: 'devType',\n  MasterId: 'masterId',\n  ExtElements: 'extElements'\n};\n// 获取适配后的页面数据\nvar getAdaptedData = function getAdaptedData(originalData) {\n  var _context, _context2, _context3;\n  var entitymeta = originalData.entitymeta;\n  var adaptedData = {};\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(_context = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(entitymeta)).call(_context, function (item) {\n    entitymeta[item] && dataKeysMap[item] && (adaptedData[dataKeysMap[item]] = entitymeta[item]);\n  });\n  var rootdata = entitymeta.Items && _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(_context2 = entitymeta.Items).call(_context2, function (item) {\n    return (0,_utils_index__WEBPACK_IMPORTED_MODULE_10__.isRootNode)(item[_constant_propnames__WEBPACK_IMPORTED_MODULE_9__._TYPE_]);\n  });\n  var rootId = rootdata[0][_constant_propnames__WEBPACK_IMPORTED_MODULE_9__.ID];\n  var items = entitymeta.Items && _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(_context3 = entitymeta.Items).call(_context3, function (item) {\n    var parentId = item[_constant_propnames__WEBPACK_IMPORTED_MODULE_9__.PARENTID];\n    if (!parentId && !(0,_utils_index__WEBPACK_IMPORTED_MODULE_10__.isRootNode)(item[_constant_propnames__WEBPACK_IMPORTED_MODULE_9__._TYPE_])) {\n      item[_constant_propnames__WEBPACK_IMPORTED_MODULE_9__.PARENTID] = rootId;\n    }\n    return item;\n  });\n  adaptedData.Items = items;\n  return adaptedData;\n};\nfunction translateDataToTree(data, isShowKey) {\n  var initTreeData = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(data.items);\n  var treeData = [];\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(initTreeData).call(initTreeData, function (_ref) {\n    var _context4;\n    var Id = _ref.Id,\n      Name = _ref.Name,\n      ParentId = _ref.ParentId,\n      Key = _ref.Key;\n    var node = {\n      key: Id,\n      title: Name,\n      parentId: ParentId\n    };\n    if (isShowKey) node.title = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context4 = \"\".concat(Name, \"\\uFF08\")).call(_context4, Key, \"\\uFF09\");\n    treeData.push(node);\n  });\n  // 第一层数据\n  var parents = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(treeData).call(treeData, function (item) {\n    return !item.parentId;\n  });\n  // 有父节点的数据\n  var childrens = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(treeData).call(treeData, function (item) {\n    return !!item.parentId;\n  });\n  function translator(parents, childrens) {\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(parents).call(parents, function (parent) {\n      delete parent.parentId;\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(childrens).call(childrens, function (children, index) {\n        // 找到子层的父层\n        if (children.parentId === parent.key) {\n          // temp 这步不是必须\n          // 对子节点数据进行深复制\n          var temp = JSON.parse(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_6___default()(childrens));\n          // 让当前子节点从temp中移除，temp作为新的子节点数据，这里是为了让递归时，子节点的遍历次数更少，如果父子关系的层级越多，越有利\n          _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7___default()(temp).call(temp, index, 1);\n          // 判断是否有children属性 有就直接push 没有就增加children属性\n          delete children.parentId;\n          parent.children ? parent.children.push(children) : parent.children = [children];\n          // 不用temp 传childrens也可\n          translator([children], temp);\n        }\n      });\n    });\n  }\n  translator(parents, childrens);\n  // 返回最终结果\n  return parents;\n}\n\n//# sourceURL=webpack://entity-designer/./src/utils/transform.tsx?");

/***/ }),

/***/ 37796:
/*!************************************!*\
  !*** ./src/views/PropertyView.tsx ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! immer */ 83789);\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context4, _context5; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context4 = ownKeys(Object(t), !0)).call(_context4, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context5 = ownKeys(Object(t))).call(_context5, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\nvar prefix = 'entity-designer';\nvar rootClass = prefix + '-entity-property';\nvar EXTEND_CONTEOL_ISV_LIST = ['kingdee', 'kdxk', 'kdtest', 'test']; // 受扩展控制的ISV：苍穹、星空\n\nvar EntityPropertyView = function EntityPropertyView(props) {\n  var _getDataRef, _extElements$find;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_13__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    _useContext$lockProps = _useContext.lockPropsMap,\n    lockPropsMap = _useContext$lockProps === void 0 ? {} : _useContext$lockProps,\n    _useContext$designerC = _useContext.designerConfig,\n    designerConfig = _useContext$designerC === void 0 ? {} : _useContext$designerC,\n    getDataRef = _useContext.getDataRef;\n  var kdesignerApi = getKdesignerApi();\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.useSelectionChangeForceUpdateEffect)(getKdesignerApi());\n  var isv = ((_getDataRef = getDataRef()) === null || _getDataRef === void 0 || (_getDataRef = _getDataRef.entitymeta) === null || _getDataRef === void 0 ? void 0 : _getDataRef.Isv) || 'kingdee';\n  var activeSelectedId = kdesignerApi.selection.getActiveSelectedId();\n  var controlInfo = kdesignerApi.data.findControl(activeSelectedId || kdesignerApi.data.getRootId());\n  var controlMeta = kdesignerApi.meta.getControlMeta(controlInfo.FieldType || controlInfo._Type_);\n  var _kdesignerApi$data$ge = kdesignerApi.data.getData(),\n    emtityMetaItems = _kdesignerApi$data$ge.Items,\n    _kdesignerApi$data$ge2 = _kdesignerApi$data$ge.extElements,\n    extElements = _kdesignerApi$data$ge2 === void 0 ? [] : _kdesignerApi$data$ge2,\n    devType = _kdesignerApi$data$ge.devType;\n  var _designerConfig$enabl = designerConfig.enableGlobalControl,\n    enableGlobalControl = _designerConfig$enabl === void 0 ? false : _designerConfig$enabl,\n    _designerConfig$enabl2 = designerConfig.enableBillControl,\n    enableBillControl = _designerConfig$enabl2 === void 0 ? false : _designerConfig$enabl2;\n  var fieldExtensible = ((_extElements$find = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10___default()(extElements).call(extElements, function (item) {\n    return item.Type === 'Field';\n  })) === null || _extElements$find === void 0 ? void 0 : _extElements$find.Items) || [];\n  fieldExtensible = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(fieldExtensible).call(fieldExtensible, function (item) {\n    var _emtityMetaItems$;\n    if (item.Id === ((_emtityMetaItems$ = emtityMetaItems[0]) === null || _emtityMetaItems$ === void 0 ? void 0 : _emtityMetaItems$.PkId)) {\n      var _emtityMetaItems$2;\n      return _objectSpread(_objectSpread({}, item), {}, {\n        Id: (_emtityMetaItems$2 = emtityMetaItems[0]) === null || _emtityMetaItems$2 === void 0 ? void 0 : _emtityMetaItems$2.Id\n      });\n    }\n    return item;\n  });\n  var filterPropertyHandler = function filterPropertyHandler(groups) {\n    var filterStyleNode = function filterStyleNode(innerGroups) {\n      return (0,immer__WEBPACK_IMPORTED_MODULE_16__.produce)(innerGroups, function (draft) {\n        if (draft === undefined) return [];\n        _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(draft).call(draft, function (group) {\n          var _context, _context3;\n          group.Nodes = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(_context = group.Nodes).call(_context, function (node) {\n            var _context2;\n            // 再加上宽高？\n            // 旧版是写死的...\n            if (node.TabGroup !== 'style' && !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(_context2 = ['Width', 'Height']).call(_context2, node.Id)) {\n              return true;\n            }\n          });\n          group.Nodes = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(_context3 = group.Nodes).call(_context3, function (node) {\n            var fielsIsv = controlInfo.IsvFlag;\n            var isCurrentIsvField = fielsIsv === isv; // 判断字段是否是当前开发商环境下新增的\n            if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(EXTEND_CONTEOL_ISV_LIST).call(EXTEND_CONTEOL_ISV_LIST, fielsIsv) && devType === '2' && !isCurrentIsvField) {\n              // 扩展单\n              var isInherit = controlInfo.Inherit;\n              var isReadOnly = node.ReadOnly;\n              // 全局扩展控制\n              if (enableGlobalControl) {\n                if (!isInherit && node.LockType === 'speciallock') {\n                  // 新增字段（非继承）不受locktype限制，所以重置为unlock\n                  node.LockType = 'unlock';\n                }\n                if (!isReadOnly && node.LockType === 'lock' && isInherit) {\n                  node.ReadOnly = true;\n                }\n              } else {\n                node.LockType = 'unlock';\n              }\n              var matchedField = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10___default()(fieldExtensible).call(fieldExtensible, function (item) {\n                return item.Id === controlInfo.Id;\n              });\n              // 单据级扩展控制\n              if (enableBillControl && matchedField) {\n                var _matchedField$Props;\n                (_matchedField$Props = matchedField.Props) === null || _matchedField$Props === void 0 || _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_matchedField$Props).call(_matchedField$Props, function (item) {\n                  var lockType = item.LockType || 'lock';\n                  if (node.Id === item.Id) {\n                    node.LockType = lockType;\n                    if (lockType === 'lock') {\n                      node.ReadOnly = true;\n                    } else if (!isReadOnly && lockType === 'unlock') {\n                      node.ReadOnly = false;\n                    }\n                  }\n                });\n              }\n            } else {\n              delete node.LockType;\n            }\n            // 后端指令锁定的属性\n            var lockPropsArr = lockPropsMap[activeSelectedId];\n            if (lockPropsArr !== null && lockPropsArr !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(lockPropsArr).call(lockPropsArr, node.Id)) {\n              node.ReadOnly = true;\n            }\n            return node;\n          });\n        });\n      });\n    };\n    return filterStyleNode(groups);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.PropertyView, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, props, {\n    filterPropertyHandler: filterPropertyHandler\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(rootClass, \"-readonly-container\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(rootClass, \"-readonly-container-property\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(rootClass, \"-readonly-container-property-title\")\n  }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.propertyView.key0002')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(rootClass, \"-readonly-container-property-name\"),\n    title: controlMeta.Name\n  }, controlMeta.Name))));\n};\nEntityPropertyView.tabKey = 'property';\nEntityPropertyView.getTabName = function () {\n  return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.getLangMsg)('entityd.propertyView.key0001');\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EntityPropertyView);\n\n//# sourceURL=webpack://entity-designer/./src/views/PropertyView.tsx?");

/***/ }),

/***/ 79412:
/*!*********************************!*\
  !*** ./src/views/left-view.tsx ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// const noop = () => void 0\nvar LeftView = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function (props, forwardedRef) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"left-view\");\n});\nLeftView.tabKey = 'leftView';\nLeftView.displayName = 'left-view';\n/* harmony default export */ __webpack_exports__[\"default\"] = (LeftView);\n\n//# sourceURL=webpack://entity-designer/./src/views/left-view.tsx?");

/***/ }),

/***/ 26440:
/*!**************************************!*\
  !*** ./src/views/main-card-view.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var react_flow_renderer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-flow-renderer */ 98752);\n/* harmony import */ var _controls_EntityNode__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../controls/EntityNode */ 29488);\n/* harmony import */ var dagre__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! dagre */ 84912);\n/* harmony import */ var dagre__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(dagre__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _utils_entityMeta__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/entityMeta */ 78968);\n/* harmony import */ var _views_nav_toolbar_view__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/nav-toolbar-view */ 73244);\n/* harmony import */ var _utils_layout__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utils/layout */ 21920);\n/* harmony import */ var _constant_const__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../constant/const */ 83284);\n/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../controls */ 82684);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n/* harmony import */ var _utils_searchUtils__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../utils/searchUtils */ 30296);\n/* harmony import */ var _hooks_useKeyboardEvent__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../hooks/useKeyboardEvent */ 87060);\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context5, _context6; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context5 = ownKeys(Object(t), !0)).call(_context5, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context6 = ownKeys(Object(t))).call(_context6, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MainCardView = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_13__.memo)(function (props, forwardedRef) {\n  var data = props.data;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    layoutElements = _useState2[0],\n    setlayoutElements = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)('TB'),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState3, 2),\n    layoutDirection = _useState4[0],\n    setLayoutDirection = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(true),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState5, 2),\n    panOnScroll = _useState6[0],\n    setPanOnScroll = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(false),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState7, 2),\n    showContextMenu = _useState8[0],\n    setShowContextMenu = _useState8[1];\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_13__.useContext)(_context__WEBPACK_IMPORTED_MODULE_18__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    userConfig = _useContext.userConfig,\n    onUserConfigChange = _useContext.onUserConfigChange,\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var cardViewPrefix = getPrefixCls && getPrefixCls(prefixCls, 'card-view');\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)({\n      showKey: userConfig.showKey,\n      showType: userConfig.showType,\n      showFullRelationship: userConfig.showFullRelationship\n    }),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState9, 2),\n    nodeContentVisibleConfig = _useState10[0],\n    setNodeContentVisibleConfig = _useState10[1];\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)({\n      x: 0,\n      y: 0\n    }),\n    _useState12 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState11, 2),\n    mousePosition = _useState12[0],\n    setMousePosition = _useState12[1];\n  var instanceRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)();\n  var elementsRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)([]);\n  var needFitViewFlag = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(false);\n  var kdesignerApi = getKdesignerApi();\n  var metaApi = kdesignerApi.meta;\n  var dataApi = kdesignerApi.data;\n  var selectionApi = kdesignerApi.selection;\n  var mainViewNodeRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  // 监听键盘事件\n  (0,_hooks_useKeyboardEvent__WEBPACK_IMPORTED_MODULE_26__[\"default\"])(mainViewNodeRef);\n  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    elementsRef.current = (0,_utils_entityMeta__WEBPACK_IMPORTED_MODULE_19__.convertEntityMetaToElements)(data, {\n      getControlMeta: metaApi.getControlMeta\n    });\n    var removeSelectionChange = selectionApi.addSelectChangeListener(onSelectionChange);\n    return function () {\n      removeSelectionChange && removeSelectionChange();\n    };\n  }, []);\n  var dataChangeListenerCallback = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (dataChangeEvent) {\n    var value = dataChangeEvent.value;\n    elementsRef.current = (0,_utils_entityMeta__WEBPACK_IMPORTED_MODULE_19__.convertEntityMetaToElements)(value, {\n      getControlMeta: metaApi.getControlMeta\n    });\n    needFitViewFlag.current = false;\n    onLayout(layoutDirection);\n  }, [layoutDirection, nodeContentVisibleConfig]);\n  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    needFitViewFlag.current = true;\n    onLayout(layoutDirection);\n    var removeDataChangeListener = dataApi.addDataChangeListener(dataChangeListenerCallback);\n    return function () {\n      removeDataChangeListener();\n    };\n  }, [layoutDirection, nodeContentVisibleConfig]);\n  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    if (layoutElements.length > 0 && needFitViewFlag.current) {\n      var _instanceRef$current$, _instanceRef$current;\n      var zoom = (_instanceRef$current$ = instanceRef.current.toObject()) === null || _instanceRef$current$ === void 0 ? void 0 : _instanceRef$current$.zoom;\n      (_instanceRef$current = instanceRef.current) === null || _instanceRef$current === void 0 || _instanceRef$current.fitView({\n        minZoom: zoom,\n        maxZoom: zoom\n      });\n    }\n  }, [layoutElements]);\n  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    onLayout(layoutDirection);\n  }, [nodeContentVisibleConfig]);\n  var onSelectionChange = function onSelectionChange(event) {\n    // console.log('event：', event)\n    var selectedId = event.value[0];\n    if (selectedId === undefined) return;\n    var control = dataApi.findControl(selectedId);\n    var isField = control[_constant_propnames__WEBPACK_IMPORTED_MODULE_24__.FIELDNAME] !== undefined;\n    isField && (0,_utils_searchUtils__WEBPACK_IMPORTED_MODULE_25__.setFieldIntoView)(selectedId);\n  };\n  var onLayout = function onLayout(direction) {\n    var _context, _context2, _context3;\n    setLayoutDirection(direction);\n    var isHorizontal = direction === 'LR';\n    var dagreGraph = new (dagre__WEBPACK_IMPORTED_MODULE_17___default().graphlib).Graph();\n    dagreGraph.setDefaultEdgeLabel(function () {\n      return {};\n    });\n    dagreGraph.setGraph({\n      rankdir: direction,\n      nodesep: 30,\n      ranksep: 50\n    });\n    var showFullRelationship = nodeContentVisibleConfig.showFullRelationship;\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context = elementsRef.current).call(_context, function (el) {\n      if ((0,react_flow_renderer__WEBPACK_IMPORTED_MODULE_15__.isNode)(el)) {\n        el.data.size = showFullRelationship ? {\n          width: _constant_const__WEBPACK_IMPORTED_MODULE_22__.ENTITYNODE_HEADER_WIDTH,\n          height: _constant_const__WEBPACK_IMPORTED_MODULE_22__.ENTITYNODE_HEADER_HEIGHT\n        } : (0,_utils_layout__WEBPACK_IMPORTED_MODULE_21__.getNodeSize)(el, nodeContentVisibleConfig);\n        dagreGraph.setNode(el.id, el.data.size);\n      } else {\n        dagreGraph.setEdge(el.source, el.target);\n      }\n    });\n    dagre__WEBPACK_IMPORTED_MODULE_17___default().layout(dagreGraph);\n    // 转成 ReactFlow 的元素\n    var nodeElements = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_11___default()(_context2 = elementsRef.current).call(_context2, 0, (elementsRef.current.length + 1) / 2);\n    var _layoutElements = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(_context3 = elementsRef.current).call(_context3, function (el) {\n      if ((0,react_flow_renderer__WEBPACK_IMPORTED_MODULE_15__.isNode)(el)) {\n        var nodeWithPosition = dagreGraph.node(el.id);\n        el.targetPosition = isHorizontal ? react_flow_renderer__WEBPACK_IMPORTED_MODULE_15__.Position.Left : react_flow_renderer__WEBPACK_IMPORTED_MODULE_15__.Position.Top;\n        el.sourcePosition = isHorizontal ? react_flow_renderer__WEBPACK_IMPORTED_MODULE_15__.Position.Right : react_flow_renderer__WEBPACK_IMPORTED_MODULE_15__.Position.Bottom;\n        el.position = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_21__.getAdjustedNodePosition)(nodeElements, nodeWithPosition, el.data.level, isHorizontal);\n        // el.position = nodeWithPosition\n      }\n      return el;\n    });\n    setlayoutElements(_layoutElements);\n  };\n  var onLoad = function onLoad(reactFlowInstance) {\n    needFitViewFlag.current = true;\n    onLayout('TB');\n    instanceRef.current = reactFlowInstance;\n  };\n  var onNodeMouseEnter = function onNodeMouseEnter() {\n    setPanOnScroll(false);\n  };\n  var onNodeMouseLeave = function onNodeMouseLeave() {\n    setPanOnScroll(true);\n  };\n  var onPaneContextMenu = function onPaneContextMenu(e) {\n    console.log(e);\n    e.preventDefault();\n    e.stopPropagation();\n    setMousePosition({\n      x: e.clientX,\n      y: e.clientY\n    });\n    setShowContextMenu(true);\n  };\n  var onContextItemClick = function onContextItemClick(showType, showKey) {\n    setNodeContentVisibleConfig(function (config) {\n      return _objectSpread(_objectSpread({}, config), {}, {\n        showType: showType,\n        showKey: showKey\n      });\n    });\n    onUserConfigChange({\n      showKey: showKey,\n      showType: showType\n    });\n  };\n  var closeContextMenu = function closeContextMenu() {\n    setShowContextMenu(false);\n  };\n  var onClickShowMoreBtn = function onClickShowMoreBtn(id, showMore) {\n    var _context4;\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context4 = elementsRef.current).call(_context4, function (item) {\n      if (item.id === id) {\n        var value = [id, {\n          showMore: showMore\n        }];\n        dataApi.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createUpdateAction)([value]));\n      }\n    });\n    needFitViewFlag.current = false;\n  };\n  var onChangeLayoutClick = function onChangeLayoutClick() {\n    var isHorizontal = layoutDirection === 'LR';\n    onLayout(isHorizontal ? 'TB' : 'LR');\n  };\n  var onRelationalBtnClick = function onRelationalBtnClick() {\n    setNodeContentVisibleConfig(function (config) {\n      var showFullRelationship = !config.showFullRelationship;\n      onUserConfigChange({\n        showFullRelationship: showFullRelationship\n      });\n      return _objectSpread(_objectSpread({}, config), {}, {\n        showFullRelationship: showFullRelationship\n      });\n    });\n  };\n  var reactFlowConfig = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_21__.getReactFlowConfig)();\n  var isHorizontal = layoutDirection === 'LR';\n  var showFullRelationship = nodeContentVisibleConfig.showFullRelationship;\n  var mainViewValue = (0,react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return {\n      layoutDirection: layoutDirection,\n      nodeContentVisibleConfig: nodeContentVisibleConfig,\n      getData: function getData() {\n        return data;\n      },\n      onClickShowMoreBtn: onClickShowMoreBtn\n    };\n  }, [layoutDirection, nodeContentVisibleConfig]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_context__WEBPACK_IMPORTED_MODULE_18__.MainCardViewContext.Provider, {\n    value: mainViewValue\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_views_nav_toolbar_view__WEBPACK_IMPORTED_MODULE_20__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(react_flow_renderer__WEBPACK_IMPORTED_MODULE_15__.ReactFlowProvider, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(react_flow_renderer__WEBPACK_IMPORTED_MODULE_15__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    elements: layoutElements,\n    nodeTypes: {\n      entityNode: _controls_EntityNode__WEBPACK_IMPORTED_MODULE_16__[\"default\"]\n    },\n    onLoad: onLoad,\n    panOnScroll: panOnScroll,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onPaneContextMenu: onPaneContextMenu,\n    onNodeContextMenu: onPaneContextMenu,\n    ref: mainViewNodeRef,\n    tabIndex: -1\n  }, reactFlowConfig), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_controls__WEBPACK_IMPORTED_MODULE_23__.OperationBtns, {\n    isHorizontal: isHorizontal,\n    showFullRelationship: showFullRelationship,\n    onChangeLayoutClick: onChangeLayoutClick,\n    onRelationalBtnClick: onRelationalBtnClick\n  }), showContextMenu && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_controls__WEBPACK_IMPORTED_MODULE_23__.ContextMenu, {\n    config: nodeContentVisibleConfig,\n    mousePosition: mousePosition,\n    onContextItemClick: onContextItemClick,\n    closeContextMenu: closeContextMenu\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: cardViewPrefix + '-searchbox-container'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_controls__WEBPACK_IMPORTED_MODULE_23__.SearchBox, {\n    dataList: data === null || data === void 0 ? void 0 : data.Items\n  })))));\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (MainCardView);\n\n//# sourceURL=webpack://entity-designer/./src/views/main-card-view.tsx?");

/***/ }),

/***/ 12900:
/*!**************************************!*\
  !*** ./src/views/main-list-view.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _controls_ListTree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controls/ListTree */ 86932);\n/* harmony import */ var _controls_ListTable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controls/ListTable */ 87432);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _utils_entityMeta__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/entityMeta */ 78968);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constant/propnames */ 30096);\n\n\n\n\n\n\n\n\nvar MainListView = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(function (props, forwardedRef) {\n  var data = props.data;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    selected = _useState2[0],\n    setSelected = _useState2[1];\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_5__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    userConfig = _useContext.userConfig,\n    onUserConfigChange = _useContext.onUserConfigChange,\n    invokeAction = _useContext.invokeAction;\n  var kdesignerApi = getKdesignerApi();\n  var dataContext = kdesignerApi.data;\n  var selectionContext = kdesignerApi.selection;\n  var metaApi = kdesignerApi.meta;\n  var getActiveSelectedId = selectionContext.getActiveSelectedId,\n    getSelection = selectionContext.getSelection;\n  var selectionCallBack = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (selection) {\n    var value = selection.value;\n    setSelected(value);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    // 1. 选中监听放在顶层，selection无需通过props往下传\n    // 2. 如需要selection，AP层自行监听SelectionContext\n    var selectvalue = getSelection();\n    setSelected(selectvalue);\n    var removeSelectionListener = selectionContext.addSelectChangeListener(selectionCallBack);\n    return function () {\n      removeSelectionListener();\n    };\n  }, []);\n  var getTableData = function getTableData() {\n    var _targetDatanode$data;\n    var rootId = dataContext.getRootId();\n    var targetId = selected[0] || rootId;\n    var activeControl = dataContext.findControl(targetId) || {};\n    var activeType = activeControl._Type_;\n    var _metaApi$getControlMe = metaApi.getControlMeta(activeType),\n      _metaApi$getControlMe2 = _metaApi$getControlMe.IsContainer,\n      IsContainer = _metaApi$getControlMe2 === void 0 ? false : _metaApi$getControlMe2;\n    if (!IsContainer) {\n      var activeParentId = activeControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_7__.PARENTID] || rootId;\n      targetId = activeParentId;\n    }\n    var alldatanode = (0,_utils_entityMeta__WEBPACK_IMPORTED_MODULE_6__.convertEntityMetaToElements)(data, {\n      getControlMeta: metaApi.getControlMeta\n    });\n    var targetDatanode = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1___default()(alldatanode).call(alldatanode, function (item) {\n      return item.id === targetId;\n    });\n    var tableData = ((_targetDatanode$data = targetDatanode.data) === null || _targetDatanode$data === void 0 ? void 0 : _targetDatanode$data.items) || [];\n    return tableData;\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    style: {\n      height: '100%',\n      display: 'flex'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_controls_ListTree__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    kdesignerApi: kdesignerApi,\n    listTreeData: data.Items,\n    invokeAction: invokeAction\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_controls_ListTable__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    kdesignerApi: kdesignerApi,\n    tableData: getTableData(),\n    allselectedArr: selected\n  }));\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (MainListView);\n\n//# sourceURL=webpack://entity-designer/./src/views/main-list-view.tsx?");

/***/ }),

/***/ 67328:
/*!*********************************!*\
  !*** ./src/views/main-view.tsx ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _main_card_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./main-card-view */ 26440);\n/* harmony import */ var _main_list_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./main-list-view */ 12900);\n\n\n\n\n\nvar MainView = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function (props, forwardedRef) {\n  var _props$data = props.data,\n    initData = _props$data === void 0 ? {} : _props$data;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initData),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_2__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    viewKey = _useContext.viewKey;\n  var kdesignerApi = getKdesignerApi();\n  var dataContext = kdesignerApi.data;\n  var dataChangeListenerCallback = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (dataChangeEvent) {\n    var value = dataChangeEvent.value;\n    setData(value);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    var selectionContext = kdesignerApi.selection;\n    var setSelect = selectionContext.setSelect;\n    var rootId = dataContext.getRootId();\n    setSelect(rootId);\n    var removeDataChangeListener = dataContext.addDataChangeListener(dataChangeListenerCallback);\n    return function () {\n      removeDataChangeListener();\n    };\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    style: {\n      height: '100%'\n    }\n  }, viewKey === 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_main_card_view__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    data: data\n  }), viewKey === 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_main_list_view__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    data: data\n  }));\n});\nMainView.displayName = 'main-view';\n/* harmony default export */ __webpack_exports__[\"default\"] = (MainView);\n\n//# sourceURL=webpack://entity-designer/./src/views/main-view.tsx?");

/***/ }),

/***/ 73244:
/*!****************************************!*\
  !*** ./src/views/nav-toolbar-view.tsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _controls_NavToolBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controls/NavToolBar */ 5660);\n/* harmony import */ var _controls_NavToolBarRight__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controls/NavToolBarRight */ 20792);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context */ 90115);\n\n\n\n\n\nvar NavToolBarPortal = function NavToolBarPortal() {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_1__.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_4__.DesignerContext),\n    getEntityPrefixCls = _useContext2.getPrefixCls,\n    entityPrefixCls = _useContext2.prefixCls;\n  var formPrefixCls = getPrefixCls && getPrefixCls(prefixCls);\n  var portalId = \"\".concat(formPrefixCls, \"-top-view-main\");\n  var entityDesignerPrefixCls = getEntityPrefixCls && getEntityPrefixCls(entityPrefixCls);\n  var toolbarClassName = \"\".concat(entityDesignerPrefixCls, \"-top-view-main\");\n  var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: toolbarClassName\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_controls_NavToolBar__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_controls_NavToolBarRight__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_1__.ViewHeader, {\n    content: content,\n    portalId: portalId\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (NavToolBarPortal);\n\n//# sourceURL=webpack://entity-designer/./src/views/nav-toolbar-view.tsx?");

/***/ }),

/***/ 95957:
/*!**********************************!*\
  !*** ./src/views/right-view.tsx ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// const noop = () => void 0\nvar RightView = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function (props, forwardedRef) {\n  var _props$data = props.data,\n    data = _props$data === void 0 ? {} : _props$data,\n    _props$meta = props.meta,\n    meta = _props$meta === void 0 ? {} : _props$meta,\n    onData = props.onData;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"right-view\");\n});\nRightView.tabKey = 'rightView';\nRightView.displayName = 'right-view';\n/* harmony default export */ __webpack_exports__[\"default\"] = (RightView);\n\n//# sourceURL=webpack://entity-designer/./src/views/right-view.tsx?");

/***/ }),

/***/ 4592:
/*!*********************************************************!*\
  !*** ../form-entity-designer-utils/adaptor/constant.ts ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Action: function() { return /* binding */ Action; },\n/* harmony export */   BaseType: function() { return /* binding */ BaseType; },\n/* harmony export */   Categories: function() { return /* binding */ Categories; },\n/* harmony export */   Controls: function() { return /* binding */ Controls; },\n/* harmony export */   DataScope: function() { return /* binding */ DataScope; },\n/* harmony export */   Default: function() { return /* binding */ Default; },\n/* harmony export */   Editor: function() { return /* binding */ Editor; },\n/* harmony export */   ElementTypes: function() { return /* binding */ ElementTypes; },\n/* harmony export */   Enum: function() { return /* binding */ Enum; },\n/* harmony export */   Id: function() { return /* binding */ Id; },\n/* harmony export */   MaxLength: function() { return /* binding */ MaxLength; },\n/* harmony export */   Name: function() { return /* binding */ Name; },\n/* harmony export */   PackageName: function() { return /* binding */ PackageName; },\n/* harmony export */   Properties: function() { return /* binding */ Properties; },\n/* harmony export */   PropertyName: function() { return /* binding */ PropertyName; },\n/* harmony export */   TYPE: function() { return /* binding */ TYPE; },\n/* harmony export */   Value: function() { return /* binding */ Value; },\n/* harmony export */   _TYPE_: function() { return /* binding */ _TYPE_; },\n/* harmony export */   action: function() { return /* binding */ action; },\n/* harmony export */   condition: function() { return /* binding */ condition; },\n/* harmony export */   defaultKey: function() { return /* binding */ defaultKey; },\n/* harmony export */   iconCoolPrefix: function() { return /* binding */ iconCoolPrefix; },\n/* harmony export */   items: function() { return /* binding */ items; },\n/* harmony export */   length: function() { return /* binding */ length; },\n/* harmony export */   name: function() { return /* binding */ name; },\n/* harmony export */   scope: function() { return /* binding */ scope; },\n/* harmony export */   type: function() { return /* binding */ type; },\n/* harmony export */   value: function() { return /* binding */ value; }\n/* harmony export */ });\n/*\r\n * @Author: fjr\r\n * @Email: jinrui_fang@kingdee.com\r\n * @Date: 2021-09-16 15:56:46\r\n * @Last Modified by: fjr\r\n * @LastEditTime: 2021-09-17 10:34:26\r\n * @Description: ...\r\n */\n\nvar _TYPE_ = '_Type_';\nvar TYPE = 'Type';\nvar Categories = 'Categories';\nvar Id = 'Id';\nvar Name = 'Name';\nvar ElementTypes = 'ElementTypes';\nvar BaseType = 'BaseType';\nvar PackageName = 'PackageName';\nvar Properties = 'Properties';\nvar Action = 'Action';\nvar items = 'items';\nvar condition = 'condition';\nvar action = 'action';\nvar Editor = 'Editor';\nvar type = 'type';\nvar Controls = 'Controls';\nvar PropertyName = 'PropertyName';\nvar name = 'name';\nvar length = 'length';\nvar scope = 'scope';\nvar MaxLength = 'MaxLength';\nvar DataScope = 'DataScope';\nvar Enum = 'Enum';\nvar iconCoolPrefix = 'designericon designericon-';\nvar value = 'value';\nvar Value = 'Value';\nvar Default = 'Default';\nvar defaultKey = 'default';\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/adaptor/constant.ts?");

/***/ }),

/***/ 90728:
/*!******************************************************!*\
  !*** ../form-entity-designer-utils/adaptor/index.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adaptorMeta: function() { return /* binding */ adaptorMeta; },\n/* harmony export */   adaptorObjectByTransformKeyMap: function() { return /* binding */ adaptorObjectByTransformKeyMap; },\n/* harmony export */   createPropertyGroups: function() { return /* binding */ createPropertyGroups; },\n/* harmony export */   mergeTransformKeyMap: function() { return /* binding */ mergeTransformKeyMap; },\n/* harmony export */   transformActions: function() { return /* binding */ transformActions; },\n/* harmony export */   transformKeyMap: function() { return /* binding */ transformKeyMap; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 59312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ 45076);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 39832);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/entries */ 31408);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/sort */ 6908);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../designer-utils/utils/console */ 35132);\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./constant */ 4592);\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! immer */ 83789);\n\n\n\n\n\n\n\n\n\n\nvar _transformKeyMap;\nvar _excluded = [\"condition\", \"action\"],\n  _excluded2 = [\"condition\", \"action\"],\n  _excluded3 = [\"Id\", \"DefaultGroup\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_10___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context15, _context16; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(_context15 = ownKeys(Object(t), !0)).call(_context15, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(_context16 = ownKeys(Object(t))).call(_context16, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-10-11 17:22:51\n * @Last Modified by: fjr\n * @LastEditTime: 2024-01-05 17:23:10\n * @LastEditTime: 2021-11-18 15:36:30\n * @Description: 适配模型\n */\n\n\n\n\n\n(0,immer__WEBPACK_IMPORTED_MODULE_26__.enableES5)();\nvar _Immer = new immer__WEBPACK_IMPORTED_MODULE_26__.Immer({\n    useProxies: false,\n    autoFreeze: false\n  }),\n  produce = _Immer.produce,\n  setAutoFreeze = _Immer.setAutoFreeze;\n// 好的方式还是回调处理，这里简单处理下\nvar metaData = null;\n\n// const\nvar containerBaseType = ['Container'];\nvar propertiesGroupInfoMap = {};\nvar propertiesGroupInfoIdset = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_13___default())();\nvar defaultPropertyGroupId = '';\nvar controlGroupInfoMap = {};\nvar controlGroupInfoIdset = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_13___default())();\n/** 用于存储一些需要转化的值, 暂时不考虑去完全转化, 摸个底 start */\nvar editorTypes = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_13___default())();\n// editorTypes:\n// [\"text\",\"refcombo\",\"checkbox\",\"btnedit\",\"integer\",\"combo\",\"date\",\"ecombo\",\"daterange\",\"refmcombo\",\"decimal\",\"color\",\"mcombo\",\"dimension\",\"border\",\"cssedit\",\"position\",\"editcombo\",\"slider\"]\n/**\n *  actionConditions:\n *  [\n    \"is('Inherit', true)\",\n    \"is('Inherit', true) && isGlobal('devType','2')\",\n    \"is('EditStyle', 0)\",\n    \"is('TimeZoneTransType',0)\",\n    \"is('TimeZoneTransType',1)\",\n    \"is('StepperValueType',0)\",\n    \"is('OpenFuzzyQuery',false)\",\n    \"!is('SelectedItemStyle','label')\",\n    \"isChange('SelectedItemStyle')\",\n    \"!is('SelectedItemStyle','text')\",\n    \"isChange('RefBaseFieldId')\",\n    \"is('KeyFieldId',null)\",\n    \"!is('KeyFieldId','TextField') && !is('KeyFieldId','TextAreaField') && !is('KeyFieldId','LargeTextField') && !is('KeyFieldId','ComboField') && !is('KeyFieldId','CityField') && !is('KeyFieldId','CreaterField')\",\n    \"is('KeyFieldId','TextField') || is('KeyFieldId','TextAreaField') || is('KeyFieldId','LargeTextField') || is('KeyFieldId','ComboField') || is('KeyFieldId','CityField')|| is('KeyFieldId','CreaterField')\",\n    \"is('Hidden',true)\",\n    \"is('SplitPage',false)\",\n    \"is('EntityType','TreeEntryEntity')\",\n    \"is('ButtonStyle',0)||is('ButtonStyle',1)||is('ButtonStyle',4)\",\n    \"!is('ButtonStyle',4)\",\n    \"is('ButtonStyle',1)||is('ButtonStyle',2)||is('ButtonStyle',3)\",\n    \"is('Uploadable',true)\",\n    \"is('Uploadable',false)\",\n    \"is('FollowTheme',true)\",\n    \"is('Type','MergeListColumnAp')\",\n    \"is('Clickable',false)\",\n    \"is('NeedHoverClass',false)\",\n    \"!is('Collapsible', true) &&(is('Type','AdvConAp'))\",\n    \"!is('Collapsible', true) &&(is('Type','EntryAp')||is('Type','AttachmentPanelAp')||is('Type','CardEntryFlexPanelAp'))\",\n    \"!is('Collapsible', true) &&(is('Type','FlexPanelAp')||is('Type','SplitPanelAp')||is('Type','LayoutFlexAp')||is('Type','FieldsetPanelAp'))\",\n    \"is(',\n    defaultKey,Collapse',true)\",\n    \"is('QrCodeShowStyle',0)\",\n    \"is('ShowModel',1)||is('ShowModel',3)\",\n    \"is('RateType','emotional')\",\n    \"is('AnchorDirection',1)\",\n    \"is('TabDirection','vertical')\",\n    \"is('TabStyle',2)\",\n    \"is('TabStyle',1) || is('TabStyle',3) || is('TabStyle',4)\",\n    \"!is('WizardType','tab')\",\n    \"!is('WizardType','normal')\",\n    \"is('SplitStyle', 0)\",\n    \"is('SplitStyle', 1)\",\n    \"is('HoverShowItems',true)\",\n    \"is('HoverHideItems',true)\",\n    \"is('FloatingDock',false)\",\n    \"is('TabStyle',1) || is('TabStyle',2) || is('TabStyle',3)\",\n    \"is('AutoRowHeight',true)\",\n    \"is('AutoRowHeight',false)\",\n    \"is('DetailEntry',false)\",\n    \"is('PaginationHide',true)\",\n    \"is('ShowSelector',false)\",\n    \"is('MobTableType','customTable')\",\n    \"isChange('MobTableType')\",\n    \"isChange('MobTableDataSource')\",\n    \"is('ShowSeq',false) || is('EntityType','TreeEntryEntity')\",\n    \"is('ShowSeq',false)\",\n    \"is('ColumnOrderAndFilter',false)\",\n    \"isChange('ColumnOrderAndFilter')\",\n    \"is('ShowTitle', false)\",\n    \"!is('LabelDirection','v')\",\n    \"is('FieldStyle',1)\",\n    \"is('FieldStyle',-1) || is('FieldStyle',0) || is('FieldStyle',2)\",\n    \"is('IsPassDayLocked', false)\",\n    \"is('ShowSplit',false)\",\n    \"is('MenuStyle',5)\",\n    \"!is('ItemStyle', 1)\"\n]\n */\nvar actionConditions = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_13___default())();\nvar actionNames = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_13___default())();\nvar noneEditorProperties = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_13___default())();\n/**\n * EmptyText-为空提示信息\n * LockedEmptyTip-锁定为空提示信息\n * PrivacyType-隐私类型\n * _Type_-元素类型\n * AlignSelf-侧轴对齐\n * Mask-掩码\n * TextFormat-格式化\n * DateFormat-日期格式e\n * SearchEmptyText-为空提示\n */\n/** 用于存储一些需要转化的值, 暂时不考虑去完全转化, 摸个底 end */\n\nvar editorTypeMap = {\n  text: 'Input',\n  refcombo: 'RefCombo',\n  checkbox: 'Switch',\n  btnedit: 'CustomInput',\n  // 自定义\n  integer: 'Stepper',\n  // DataType? 只能输整数？\n  combo: 'Select',\n  date: 'date',\n  // 旧版没有实现, 改用Input编辑器\n  ecombo: 'ECombo',\n  daterange: 'DateRange',\n  refmcombo: 'RefMCombo',\n  decimal: 'Stepper',\n  // 可以输小数的?\n  color: 'Color',\n  mcombo: 'CheckBoxGroup',\n  // 多选的Select?\n  dimension: 'Dimension',\n  border: 'Border',\n  cssedit: 'CssEdit',\n  position: 'Position',\n  editcombo: 'EditCombo',\n  slider: 'slider',\n  fontbold: 'FontBold',\n  tabselect: 'Tab',\n  radius: 'Radius',\n  radio: 'Radio',\n  refeditbtn: 'RefEditBtn' // 引用类型\n};\n\n// 全部需要重新适配\nvar actionTodoMap = {\n  lockproperty: 'LockProperty',\n  hideproperty: 'HideProperty',\n  resetproperty: 'SetPropertyValue',\n  // TODO: 添加功能\n  setpropertyvalue: 'SetPropertyValue'\n};\nvar actionElsetodoMap = {\n  lockproperty: 'UnLockProperty',\n  hideproperty: 'ShowProperty'\n};\nvar createPropertyGroups = function createPropertyGroups(nodes) {\n  var _context, _context3;\n  if ((0,lodash__WEBPACK_IMPORTED_MODULE_23__.isEmpty)(propertiesGroupInfoMap)) {\n    return [createPropertyGroup(nodes)];\n  }\n  var propertiesGroupInfoIds = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(propertiesGroupInfoIdset);\n  var propertiesGroup = (0,lodash__WEBPACK_IMPORTED_MODULE_23__.groupBy)(nodes, 'GroupId');\n  var uncollectProperties = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(nodes).call(nodes, function (node) {\n    var groupId = node.GroupId;\n    if (defaultPropertyGroupId && !groupId) return false;\n    return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default()(propertiesGroupInfoIds).call(propertiesGroupInfoIds, groupId);\n  });\n  var newPropertiesGroup = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(propertiesGroupInfoIds).call(propertiesGroupInfoIds, function (id) {\n    var nodes = propertiesGroup[id];\n    if (defaultPropertyGroupId && id === defaultPropertyGroupId) {\n      var _nodes2, _context2;\n      nodes = (_nodes2 = nodes) !== null && _nodes2 !== void 0 && _nodes2.length ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context2 = []).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(nodes), (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(propertiesGroup.undefined)) : propertiesGroup.undefined;\n    }\n    if (!nodes) return null;\n    return _objectSpread(_objectSpread(_objectSpread({}, defaultPropertyGroupConfig), propertiesGroupInfoMap[id]), {}, {\n      Id: id,\n      Nodes: produce(nodes, function (draft) {\n        _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(draft).call(draft, function (node) {\n          if (propertiesGroupInfoMap[id].Layout === 'style') {\n            node.TabGroup = 'style';\n          }\n        });\n      })\n    });\n  })).call(_context, Boolean);\n  // TODO: 生产环境要不要兼容 ?\n  return !uncollectProperties.length ? newPropertiesGroup :  true ? newPropertiesGroup : 0;\n};\nvar defaultSetValCallback = function defaultSetValCallback(parentKey, callback) {\n  return function (p) {\n    var originProp = p.originProp,\n      path = p.path,\n      pathLength = p.pathLength;\n    if (path[pathLength - 2] === parentKey) {\n      callback && callback({\n        originProp: originProp,\n        path: path,\n        pathLength: pathLength\n      });\n      return originProp;\n    }\n  };\n};\nvar adaptorCondition = function adaptorCondition(condition) {\n  if (condition) {\n    return condition.replace(/EntityType/g, 'FieldType').replace(/&&/g, ' and ').replace(/!/g, ' not ').replace(/\\|\\|/g, ' or ').replace(/isChange\\(\\S+\\)/g, 'Change');\n  }\n  return condition;\n};\nvar adaptorActionTodo = function adaptorActionTodo(actionVal, keyMap) {\n  var name = actionVal.name,\n    args = actionVal.args,\n    affectedByParent = actionVal.affectedByParent,\n    conditionTypes = actionVal.conditionTypes;\n  switch (name) {\n    case 'lockproperty':\n    case 'hideproperty':\n      {\n        return {\n          Name: actionTodoMap[name],\n          Args: {\n            Key: args\n          },\n          AffectedByParent: affectedByParent,\n          ConditionTypes: conditionTypes\n        };\n      }\n    case 'setpropertyvalue':\n      {\n        return {\n          Name: actionTodoMap[name],\n          Args: {\n            Key: _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(args).call(args, function (_ref) {\n              var property = _ref.property;\n              return property;\n            }),\n            Value: _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(args).call(args, function (_ref2) {\n              var value = _ref2.value;\n              return value;\n            })\n          }\n        };\n      }\n    case 'resetproperty':\n      {\n        return {\n          Name: actionTodoMap[name],\n          Args: {\n            Key: _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(args).call(args, function (key) {\n              return key;\n            }),\n            Value: _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(args).call(args, function (key) {\n              return undefined;\n            })\n          }\n        };\n      }\n    default:\n      {\n        return null;\n      }\n  }\n};\nvar adaptorActionElsetodo = function adaptorActionElsetodo(actionVal, keyMap) {\n  var name = actionVal.name,\n    args = actionVal.args;\n  switch (name) {\n    case 'lockproperty':\n    case 'hideproperty':\n      {\n        return {\n          Name: actionElsetodoMap[name],\n          Args: {\n            Key: args\n          }\n        };\n      }\n    case 'resetproperty':\n    default:\n      {\n        return null;\n      }\n  }\n};\nvar defaultPropertyGroupConfig = {\n  Id: 'anonyoumsMockId',\n  Name: 'anonyoumsMockName',\n  // Display: 'anonyoumsMockDisplay',\n  DefaultCollapse: false,\n  Layout: 'anonyoumsMockLayout' // 暂时没用到\n};\nvar createPropertyGroup = function createPropertyGroup(nodes) {\n  return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, defaultPropertyGroupConfig, {\n    Nodes: nodes\n  });\n};\nvar addControlProperty = function addControlProperty(props, control) {\n  if ((0,lodash__WEBPACK_IMPORTED_MODULE_23__.isUndefined)(props)) {\n    return control;\n  } else {\n    var _context4;\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(_context4 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_10___default()(props)).call(_context4, function (key) {\n      var val = props[key];\n      if (!(0,lodash__WEBPACK_IMPORTED_MODULE_23__.isUndefined)(val)) {\n        control[key] = val;\n      }\n    });\n    // 布局相关的, 直接判断是否根节点\n    // if(['BillFormAp'].includes(control.Id)) {\n    //   control.IsContainer = true\n    // }\n    return control;\n  }\n};\nvar transformActions = function transformActions(actions) {\n  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(actions).call(actions, function (ele) {\n    var condition = ele.condition,\n      actionVal = ele.action,\n      rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ele, _excluded);\n    // track record\n    actionConditions.add(condition);\n    (actionVal === null || actionVal === void 0 ? void 0 : actionVal.name) && actionNames.add(actionVal.name);\n    var res = {};\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_23__.isEmpty)(rest)) {\n      (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(res, getTransformProp(transformKeyAndPropProxy({\n        meta: rest,\n        keyPath: [],\n        isDeep: false\n      })));\n    }\n    var todo = adaptorActionTodo(actionVal);\n    // const elsetodo = adaptorActionElsetodo(actionVal, keyMap!)\n    return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(res, {\n      Condition: adaptorCondition(condition),\n      Todo: todo ? [todo] : []\n      // ElseTodo: elsetodo ? [elsetodo] : []\n    });\n  });\n};\n// 如果没有指定就只转大写开头\n/**\n * @description: transformKeyMap的键是替换key值的作用，如果是数组，则ISetValCallback可以设置对应键的值\n */\nvar transformKeyMap = (_transformKeyMap = {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_transformKeyMap, _constant__WEBPACK_IMPORTED_MODULE_25__._TYPE_, _constant__WEBPACK_IMPORTED_MODULE_25__.TYPE), _constant__WEBPACK_IMPORTED_MODULE_25__.ElementTypes, _constant__WEBPACK_IMPORTED_MODULE_25__.Controls), _constant__WEBPACK_IMPORTED_MODULE_25__.Categories, [_constant__WEBPACK_IMPORTED_MODULE_25__.Categories, function (_ref3) {\n  var originProp = _ref3.originProp,\n    path = _ref3.path,\n    keyMap = _ref3.keyMap,\n    getLangMsg = _ref3.getLangMsg;\n  var newCategory = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(originProp).call(originProp, function (Category) {\n    // 将BaseType作为BaseId 下发\n    var _Category$ElementType = Category.ElementTypes,\n      ElementTypes = _Category$ElementType === void 0 ? [] : _Category$ElementType,\n      BaseType = Category.BaseType,\n      Visible = Category.Visible,\n      Id = Category.Id;\n    var addContainerPropToRootType = function addContainerPropToRootType(control) {\n      var rootTypes = ['FormAp', 'BillFormAp', 'ListFormAp', 'BasedataFormAp', 'MobileBillFormAp', 'MobileListFormAp', 'MobileFormAp', 'MainEntity', 'BaseEntity', 'BillEntity', 'ReportEntity', 'ParameterEntity', 'PublicParameterEntity', 'BillEntity', 'EntryEntity', 'SubEntryEntity', 'TreeEntryEntity', 'TreeSubEntryEntity',\n      // 这些是后面有问题，补充的，但是旧版没找到具体逻辑\n      // 旧版没找到对应代码\n      'ReportFormAp'];\n      // 适配无代码模型[表格、分组容器(栅格容器)]\n      var nocodeRootTypes = ['NoCodeEntryEntity', 'NoCodeRefBillTable', 'NoCodeGridPanelAp', 'NoCodeGroupContainerAp', 'NoCodeGroupItemAp', 'BizBtnFlexPanelAp'];\n      if (metaData) {\n        var _context5;\n        var root = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(_context5 = metaData.Items).call(_context5, function (item) {\n          return !item.ParentId;\n        });\n        //\n        rootTypes.push(root === null || root === void 0 ? void 0 : root._Type_);\n      }\n      // 根据uiModelFunction isContainerControl 添加 EntryAp\n      rootTypes.push('EntryAp');\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default()(rootTypes).call(rootTypes, control.Id) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default()(nocodeRootTypes).call(nocodeRootTypes, control.Id)) {\n        return addControlProperty({\n          IsContainer: true\n        }, control);\n      }\n      return control;\n    };\n    var addVisibleFromcontrolGroupInfoMap = function addVisibleFromcontrolGroupInfoMap(control) {\n      if (!(0,lodash__WEBPACK_IMPORTED_MODULE_23__.isEmpty)(controlGroupInfoMap)) {\n        var groupId = control.ElementGroupId;\n        if (groupId !== undefined && controlGroupInfoMap[groupId]) {\n          return addControlProperty({\n            Visible: controlGroupInfoMap[groupId].Visible\n          }, control);\n        }\n        return control;\n      } else {\n        return control;\n      }\n    };\n    var combine = function combine() {\n      for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n        fns[_key] = arguments[_key];\n      }\n      return function (args) {\n        return _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_18___default()(fns).call(fns, function (res, fn) {\n          return fn(res);\n        }, args);\n      };\n    };\n    var combineAddControlProperty = combine(addContainerPropToRootType, addVisibleFromcontrolGroupInfoMap);\n\n    // 将容器属性下发\n    if (!BaseType || !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default()(containerBaseType).call(containerBaseType, BaseType)) {\n      return _objectSpread(_objectSpread({}, Category), {}, {\n        ElementTypes: _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(ElementTypes).call(ElementTypes, function (control) {\n          return addControlProperty({\n            BaseId: BaseType,\n            Visible: Visible\n          }, combineAddControlProperty(control));\n        })\n      });\n    } else {\n      return _objectSpread(_objectSpread({}, Category), {}, {\n        ElementTypes: _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(ElementTypes).call(ElementTypes, function (control) {\n          return addControlProperty({\n            BaseId: BaseType,\n            Visible: Visible,\n            IsContainer: true\n          }, combineAddControlProperty(control));\n        })\n      });\n    }\n  });\n  return getTransformProp(transformKeyAndPropProxy({\n    keyMap: keyMap,\n    meta: newCategory,\n    getLangMsg: getLangMsg\n  }));\n  // if (path.length === 1 && !isEmpty(controlGroupInfoMap)) {\n  //   // 先不适配\n  //   const controlGroupInfoIds = [...controlGroupInfoIdset]\n  //   const controlsGroup = groupBy(controls, 'ElementGroupId')\n  //   const _newCategory = controlGroupInfoIds.map((id: string) => {\n  //     const controls = controlsGroup[id]\n  //     if (!controls) return null\n  //     return {\n  //       ...controlGroupInfoMap[id],\n  //       Id: id,\n  //       ElementTypes: controls  // 如果没有就是有问题\n  //     }\n  //   }).filter(Boolean)\n  //   const uncollectControls = controls.filter(node => {\n  //     const { ElementGroupId:groupId } = node\n  //     return !controlGroupInfoIds.includes(groupId)\n  //   })\n  //   const newCategory =\n  //   !uncollectControls.length ? _newCategory : process.env.IS_PRODUCT_ENV ? _newCategory : [..._newCategory, {Name: '未归类控件', ElementTypes: uncollectControls, Id: 'mockId'}]\n  //   const logControls = produce(_newCategory, (categories) => {\n  //     categories.forEach(ca => {\n  //       ca.ElementTypes = ca.ElementTypes.map(ele => omit(ele, 'Properties'))\n  //     })\n  //   })\n  //   console.log('controls', logControls, logControls.map(ca => {\n  //     return ca.ElementTypes.reduce((res, ele, idx) => {\n  //       return `${res}${ele.Name}${idx === ca.ElementTypes.length - 1 ? '\\n': ','}`\n  //     }, `分组 ${ca.Name}: `)\n  //   }),  uncollectControls)\n  //   return getTransformProp(transformKeyAndPropProxy({\n  //     keyMap: keyMap!, meta: newCategory\n  //   }))\n  // } else {\n  //   return getTransformProp(transformKeyAndPropProxy({\n  //     keyMap: keyMap!, meta: [{Name: '未归类控件', ElementTypes: controls, Id: 'mockId'}]\n  //   }))\n  // }\n}]), _constant__WEBPACK_IMPORTED_MODULE_25__.Properties, [_constant__WEBPACK_IMPORTED_MODULE_25__.Properties, function (_ref4) {\n  var originProp = _ref4.originProp,\n    path = _ref4.path,\n    pathLength = _ref4.pathLength,\n    inputMeta = _ref4.inputMeta,\n    keyMap = _ref4.keyMap,\n    getLangMsg = _ref4.getLangMsg;\n  if (path[pathLength - 3] === _constant__WEBPACK_IMPORTED_MODULE_25__.ElementTypes) {\n    var _context6;\n    // 得跟后端过一下: 新立分组还有页签\n    // 兼容可能没有传GroupId的情况\n    var getPropertyVisible = function getPropertyVisible(node) {\n      if (!(0,lodash__WEBPACK_IMPORTED_MODULE_23__.isEmpty)(propertiesGroupInfoMap)) {\n        var propertyGroupId = node.GroupId;\n        if (propertyGroupId && propertiesGroupInfoMap[propertyGroupId]) {\n          var Visible = propertiesGroupInfoMap[propertyGroupId].Visible;\n          return Visible;\n        }\n      }\n      return;\n    };\n    var _nodes = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(_context6 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(originProp).call(originProp, function (node) {\n      var _context9;\n      var PropertyName = node.PropertyName;\n      // 没有\n      if (!node.Editor) {\n        var _context7, _context8;\n        noneEditorProperties.add(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context7 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context8 = \"\".concat(node.PropertyName, \"^^\")).call(_context8, node.Name, \"^^\")).call(_context7, _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_19___default()(node)));\n\n        // return null\n        // 这里存疑，是否应该用模型来渲染?\n        return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(node, {\n          Editor: {\n            Type: 'Input',\n            DataType: 'String',\n            Visible: true\n          }\n        });\n      }\n      if (PropertyName === 'Width') {\n        node.Name = (getLangMsg === null || getLangMsg === void 0 ? void 0 : getLangMsg('designer.editor.key0016')) || '尺寸设置'; // 部分设计器未传getLangMsg，先用默认中文\n        node.Description = (getLangMsg === null || getLangMsg === void 0 ? void 0 : getLangMsg('designer.editor.key0017')) || '设置控件的宽度与高度';\n      }\n      if (PropertyName === 'ForeColor') node.Name = (getLangMsg === null || getLangMsg === void 0 ? void 0 : getLangMsg('designer.editor.key0018')) || '颜色设置';\n      if (PropertyName === 'FontSize') node.Name = (getLangMsg === null || getLangMsg === void 0 ? void 0 : getLangMsg('designer.editor.key0019')) || '字体设置';\n      // 增加Tips\n      node.Tips = node.Description ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context9 = \"\".concat(node.Description, \"[\")).call(_context9, PropertyName, \"]\") : '';\n      var _Visible = getPropertyVisible(node);\n      node.Visible = !(0,lodash__WEBPACK_IMPORTED_MODULE_23__.isUndefined)(_Visible) ? _Visible : (0,lodash__WEBPACK_IMPORTED_MODULE_23__.isUndefined)(node.Visible) ? true : !!node.Visible;\n      return node;\n    })).call(_context6, Boolean);\n    // 如果没有就是有问题\n    var nodes = getTransformProp(transformKeyAndPropProxy({\n      meta: _nodes,\n      keyPath: [_constant__WEBPACK_IMPORTED_MODULE_25__.Properties],\n      keyMap: keyMap,\n      getLangMsg: getLangMsg\n    }));\n    return createPropertyGroups(nodes);\n  }\n}]), _constant__WEBPACK_IMPORTED_MODULE_25__.PropertyName, _constant__WEBPACK_IMPORTED_MODULE_25__.Id), _constant__WEBPACK_IMPORTED_MODULE_25__.Action, ['Actions', function (_ref5) {\n  var originProp = _ref5.originProp,\n    path = _ref5.path,\n    pathLength = _ref5.pathLength,\n    inputMeta = _ref5.inputMeta,\n    keyMap = _ref5.keyMap,\n    getLangMsg = _ref5.getLangMsg;\n  var length = pathLength;\n  if (path[length - 3] === _constant__WEBPACK_IMPORTED_MODULE_25__.Properties) {\n    var _items = originProp.items;\n    return _items === null || _items === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(_items).call(_items, function (ele) {\n      var condition = ele.condition,\n        _ele$action = ele.action,\n        actionVal = _ele$action === void 0 ? {} : _ele$action,\n        rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ele, _excluded2);\n      // track record\n      actionConditions.add(condition);\n      (actionVal === null || actionVal === void 0 ? void 0 : actionVal.name) && actionNames.add(actionVal.name);\n      var res = {};\n      if (!(0,lodash__WEBPACK_IMPORTED_MODULE_23__.isEmpty)(rest)) {\n        (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(res, getTransformProp(transformKeyAndPropProxy({\n          meta: rest,\n          keyPath: [],\n          isDeep: false,\n          keyMap: keyMap,\n          getLangMsg: getLangMsg\n        })));\n      }\n      var todo = adaptorActionTodo(actionVal, keyMap);\n      // const elsetodo = adaptorActionElsetodo(actionVal, keyMap!)\n      return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(res, {\n        Condition: adaptorCondition(condition),\n        Todo: todo ? [todo] : []\n        // ElseTodo: elsetodo ? [elsetodo] : []\n      });\n    });\n  }\n}]), _constant__WEBPACK_IMPORTED_MODULE_25__.type, [_constant__WEBPACK_IMPORTED_MODULE_25__.TYPE, function (_ref6) {\n  var originProp = _ref6.originProp,\n    path = _ref6.path,\n    pathLength = _ref6.pathLength,\n    inputMeta = _ref6.inputMeta,\n    keyMap = _ref6.keyMap;\n  if (path[pathLength - 2] === _constant__WEBPACK_IMPORTED_MODULE_25__.Editor) {\n    editorTypes.add(originProp);\n    return editorTypeMap[originProp] || originProp;\n  }\n}]), _constant__WEBPACK_IMPORTED_MODULE_25__.value, [_constant__WEBPACK_IMPORTED_MODULE_25__.Value, function (_ref7) {\n  var originProp = _ref7.originProp,\n    path = _ref7.path,\n    pathLength = _ref7.pathLength,\n    inputMeta = _ref7.inputMeta,\n    keyMap = _ref7.keyMap;\n  if (path[pathLength - 2] === _constant__WEBPACK_IMPORTED_MODULE_25__.Editor) {\n    return originProp;\n  }\n}]), _constant__WEBPACK_IMPORTED_MODULE_25__.Editor, [_constant__WEBPACK_IMPORTED_MODULE_25__.Editor, function (_ref8) {\n  var originProp = _ref8.originProp,\n    path = _ref8.path,\n    pathLength = _ref8.pathLength,\n    inputMeta = _ref8.inputMeta,\n    keyMap = _ref8.keyMap,\n    getLangMsg = _ref8.getLangMsg;\n  if (path[pathLength - 3] === _constant__WEBPACK_IMPORTED_MODULE_25__.Properties) {\n    var _type = originProp.type;\n    // 布局的编辑器不走模型创建\n    // const parentOriginProp = getObjectPathValue(inputMeta, path.slice(0, -3))\n    var dealProp = getTransformProp(transformKeyAndPropProxy({\n      meta: originProp,\n      keyPath: [_constant__WEBPACK_IMPORTED_MODULE_25__.Editor],\n      isDeep: true,\n      keyMap: keyMap,\n      getLangMsg: getLangMsg\n    }));\n    // if (['AlignItems', 'AlignContent', 'JustifyContent'].includes(parentOriginProp?.PropertyName)) {\n    //   Object.assign(dealProp, {\n    //     Default: 'flex-start'\n    //   })\n    // }\n    // const { OverrideDefault: overrideDefault, Enum } = dealProp\n    // if (!isUndefined(overrideDefault) && Enum) {\n    //   const filtedEnum = Enum.filter((item: any) => item.Name !== '默认')\n    //   Object.assign(dealProp, { Default: overrideDefault, Enum: filtedEnum })\n    // }\n    if (_type === 'integer') {\n      return _objectSpread(_objectSpread({}, dealProp), {}, {\n        DataType: 'Integer'\n      });\n    }\n    if (_type === 'decimal') {\n      return _objectSpread(_objectSpread({}, dealProp), {}, {\n        DataType: 'Decimal'\n      });\n    }\n    if (_type === 'checkbox') {\n      return _objectSpread(_objectSpread({}, dealProp), {}, {\n        DataType: 'Boolean'\n      });\n    }\n    if (_type === 'border') {\n      return _objectSpread(_objectSpread({}, dealProp), {}, {\n        DataType: 'Object'\n      });\n    }\n    var ignoreDataTypeList = ['ecombo', 'dataFill', 'datascope', 'filter', 'orderby', 'calcSetting', 'expression', 'userSelect', 'requestBody', 'parameterSetting'];\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default()(ignoreDataTypeList).call(ignoreDataTypeList, _type)) {\n      return _objectSpread({}, dealProp);\n    }\n    return _objectSpread(_objectSpread({}, dealProp), {}, {\n      DataType: 'String'\n    });\n  }\n}]), _constant__WEBPACK_IMPORTED_MODULE_25__.defaultKey, [_constant__WEBPACK_IMPORTED_MODULE_25__.Default, function (_ref9) {\n  var originProp = _ref9.originProp,\n    path = _ref9.path,\n    pathLength = _ref9.pathLength,\n    inputMeta = _ref9.inputMeta,\n    keyMap = _ref9.keyMap;\n  if (path[pathLength - 2] === _constant__WEBPACK_IMPORTED_MODULE_25__.Editor) {\n    return originProp;\n  }\n}]), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_transformKeyMap, _constant__WEBPACK_IMPORTED_MODULE_25__.length, [_constant__WEBPACK_IMPORTED_MODULE_25__.MaxLength, defaultSetValCallback(_constant__WEBPACK_IMPORTED_MODULE_25__.Editor)]), _constant__WEBPACK_IMPORTED_MODULE_25__.items, [_constant__WEBPACK_IMPORTED_MODULE_25__.Enum, function (_ref10) {\n  var originProp = _ref10.originProp,\n    path = _ref10.path,\n    pathLength = _ref10.pathLength,\n    inputMeta = _ref10.inputMeta,\n    keyMap = _ref10.keyMap;\n  if (path[pathLength - 3] === _constant__WEBPACK_IMPORTED_MODULE_25__.Editor) {\n    var id = originProp.id,\n      name = originProp.name;\n    var res = {};\n    if (id && name) {\n      (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(res, {\n        Value: id,\n        Id: id,\n        Name: name\n      });\n    }\n  }\n}]));\nvar transformKeyAndPropProxy = function transformKeyAndPropProxy(props) {\n  var meta = props.meta,\n    keyMap = props.keyMap,\n    _props$keyPath = props.keyPath,\n    keyPath = _props$keyPath === void 0 ? [] : _props$keyPath,\n    _props$isDeep = props.isDeep,\n    isDeep = _props$isDeep === void 0 ? true : _props$isDeep,\n    inputMeta = props.inputMeta,\n    getLangMsg = props.getLangMsg;\n  return transformKeyAndProp({\n    meta: meta,\n    keyPath: keyPath,\n    isDeep: isDeep,\n    inputMeta: inputMeta,\n    keyMap: keyMap,\n    getLangMsg: getLangMsg\n  });\n};\n/**\n * @description: 递归对象路径，转换成对应值的适配方法\n * @param {any} meta\n * @param {string} keyPath\n * @param {boolean} isDeep 是否深层遍历，否则为一层遍历\n * @param {any} inputMeta 原始输入适配的对象值, 用于根据keyPath找到对应层级的值\n * @param {ITransformKeyMap} keyMap 用于适配的map\n * @return {*}\n */\n\nvar transformKeyAndProp = function transformKeyAndProp(_ref11) {\n  var meta = _ref11.meta,\n    _ref11$keyPath = _ref11.keyPath,\n    keyPath = _ref11$keyPath === void 0 ? [] : _ref11$keyPath,\n    _ref11$isDeep = _ref11.isDeep,\n    isDeep = _ref11$isDeep === void 0 ? true : _ref11$isDeep,\n    inputMeta = _ref11.inputMeta,\n    keyMap = _ref11.keyMap,\n    getLangMsg = _ref11.getLangMsg;\n  // 防止进入深层适配\n  inputMeta = inputMeta || meta;\n  var res = _transformKeyAndProp({\n    meta: meta,\n    keyPath: keyPath,\n    isReturnOriginVal: false,\n    inputMeta: inputMeta,\n    keyMap: keyMap,\n    getLangMsg: getLangMsg\n  });\n  if (!(0,lodash__WEBPACK_IMPORTED_MODULE_23__.isUndefined)(res)) {\n    return res;\n  }\n  if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_20___default()(meta)) {\n    // index 不参与, index不会影响\n    var _res = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(meta).call(meta, function (ele, idx) {\n      // TODO: 这里可能有问题，因为ele可能会因为keyPath导致走到不同的递归路径，暂时不予处理\n      // 由于需要回溯值，把数组下标也传入\n      return isDeep ? getTransformProp(transformKeyAndProp({\n        meta: ele,\n        keyPath: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(keyPath).call(keyPath, \"\".concat(idx)),\n        isDeep: isDeep,\n        inputMeta: inputMeta,\n        keyMap: keyMap,\n        getLangMsg: getLangMsg\n      })) : ele;\n    });\n    return [getTransformKey((0,lodash__WEBPACK_IMPORTED_MODULE_23__.last)(keyPath), keyMap), _res];\n  } else if ((0,lodash__WEBPACK_IMPORTED_MODULE_23__.isObject)(meta)) {\n    var _context10;\n    var _res2 = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_18___default()(_context10 = _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_21___default()(meta)).call(_context10, function (res, _ref12) {\n      var _ref13 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_ref12, 2),\n        key = _ref13[0],\n        val = _ref13[1];\n      var _ref14 = isDeep ? transformKeyAndProp({\n          meta: val,\n          keyPath: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(keyPath).call(keyPath, key),\n          isDeep: isDeep,\n          inputMeta: inputMeta,\n          keyMap: keyMap,\n          getLangMsg: getLangMsg\n        }) : [getTransformKey(key, keyMap), val],\n        _ref15 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_ref14, 2),\n        k = _ref15[0],\n        v = _ref15[1];\n      res[k] = v;\n      return res;\n    }, {});\n    return [getTransformKey((0,lodash__WEBPACK_IMPORTED_MODULE_23__.last)(keyPath), keyMap), _res2];\n  } else {\n    // 转换\n    return _transformKeyAndProp({\n      meta: meta,\n      keyPath: keyPath,\n      isReturnOriginVal: true,\n      inputMeta: inputMeta,\n      keyMap: keyMap,\n      getLangMsg: getLangMsg\n    });\n  }\n};\n/**\n * @description:\n * @param {any} meta\n * @param {string} keyPath\n * @param {boolean} isReturnOriginVal 是否获取原始值，可以拦截不让往深层遍历\n * @return {*}\n */\n\nvar _transformKeyAndProp = function _transformKeyAndProp(_ref16) {\n  var meta = _ref16.meta,\n    _ref16$keyPath = _ref16.keyPath,\n    keyPath = _ref16$keyPath === void 0 ? [] : _ref16$keyPath,\n    isReturnOriginVal = _ref16.isReturnOriginVal,\n    inputMeta = _ref16.inputMeta,\n    keyMap = _ref16.keyMap,\n    getLangMsg = _ref16.getLangMsg;\n  var lastKey = (0,lodash__WEBPACK_IMPORTED_MODULE_23__.last)(keyPath);\n  if (!lastKey) {\n    // console.log('keyPath without any key', keyPath)\n    return;\n  }\n  var _ref17 = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_20___default()(keyMap[lastKey]) ? keyMap[lastKey] : [getTransformKey(lastKey, keyMap)],\n    _ref18 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_ref17, 2),\n    replaceKey = _ref18[0],\n    resetValCallback = _ref18[1];\n  if ((0,lodash__WEBPACK_IMPORTED_MODULE_23__.isFunction)(resetValCallback)) {\n    // TODO: 尝试用immer来构造\n    var resetVal = resetValCallback({\n      originProp: meta,\n      path: keyPath,\n      pathLength: keyPath.length,\n      inputMeta: inputMeta,\n      keyMap: keyMap,\n      getLangMsg: getLangMsg\n    });\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_23__.isUndefined)(resetVal)) {\n      return [replaceKey, resetVal];\n    }\n  }\n  if (isReturnOriginVal) {\n    return [replaceKey, meta];\n  }\n};\nvar getTransformProp = function getTransformProp(res) {\n  return res[1];\n};\nvar getTransformKey = function getTransformKey(key, keyMap) {\n  return key ? (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_20___default()(keyMap[key]) ? keyMap[key][0] : keyMap[key]) || (0,lodash__WEBPACK_IMPORTED_MODULE_23__.upperFirst)(key) : '';\n};\nvar ENTITY_CONTROL = 'EntityControl';\nvar FIELD_TYPES = ['CommonField', 'BusinessField'];\nvar mergeTransformKeyMap = function mergeTransformKeyMap(keyMapA, keyMapB) {\n  return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, keyMapA, keyMapB);\n};\nvar adaptorObjectByTransformKeyMap = function adaptorObjectByTransformKeyMap(obj, keyMap, getLangMsg) {\n  if ((0,lodash__WEBPACK_IMPORTED_MODULE_23__.isEmpty)(keyMap)) return obj;\n  return getTransformProp(transformKeyAndProp({\n    meta: obj,\n    keyPath: [],\n    isDeep: true,\n    inputMeta: obj,\n    keyMap: keyMap,\n    getLangMsg: getLangMsg\n  }));\n};\n\n/**\n * @description: 转换元模型数据\n * @param {any} originMeta\n * @return {IMeta}\n */\nvar adaptorMeta = function adaptorMeta(_originMeta, keyMap, data, propertiesGroupInfo, options) {\n  var _context13;\n  metaData = data;\n  window.console.time('start adaptorMeta');\n  var originMeta = produce(_originMeta, function (draft) {\n    var _context11;\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(_context11 = draft.Categories).call(_context11, function (category) {\n      var _category$ElementType;\n      // TODO: 快排不稳定的, 得考察下\n      (_category$ElementType = category.ElementTypes) === null || _category$ElementType === void 0 || _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_22___default()(_category$ElementType).call(_category$ElementType, function (element1, element2) {\n        var seq1 = element1.Seq;\n        var seq2 = element2.Seq;\n        if (seq1 === -1 || seq2 === -1) {\n          if (seq1 === -1 && seq2 === -1) {\n            return 0;\n          } else {\n            if (seq1 === -1) {\n              return 1;\n            } else {\n              return -1;\n            }\n          }\n        } else {\n          return (seq1 || 0) - (seq2 || 0);\n        }\n      });\n    });\n  });\n\n  // propertiesGroupInfo可通过外部控制\n  if (propertiesGroupInfo) {\n    propertiesGroupInfoMap = propertiesGroupInfo;\n  } else {\n    var _context12;\n    var _originMeta$PropertyG = originMeta.PropertyGroups,\n      PropertyGroups = _originMeta$PropertyG === void 0 ? [] : _originMeta$PropertyG,\n      _originMeta$ElementGr = originMeta.ElementGroups,\n      ElementGroups = _originMeta$ElementGr === void 0 ? [] : _originMeta$ElementGr;\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(_context12 = _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_22___default()(PropertyGroups).call(PropertyGroups, function (groupA, groupB) {\n      return (groupA.Seq || 0) - (groupB.Seq || 0);\n    })).call(_context12, function (groupInfo) {\n      var Id = groupInfo.Id,\n        DefaultGroup = groupInfo.DefaultGroup,\n        rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(groupInfo, _excluded3);\n      if (DefaultGroup) {\n        defaultPropertyGroupId = Id;\n      }\n      propertiesGroupInfoMap[Id] = rest;\n      propertiesGroupInfoIdset.add(Id);\n    });\n  }\n\n  // 不要了\n  // ElementGroups.sort((groupA: any, groupB: any) => {\n  //   return (groupA.Seq || 0) - (groupB.Seq || 0)\n  // }).forEach((groupInfo:any) => {\n  //   const { Id, ...rest } = groupInfo\n  //   controlGroupInfoMap[Id] = rest\n  //   // Object.keys(rest).reduce((res, key) => {\n  //   //   res[`group${upperFirst(key)}`] = res[key]\n  //   //   return res\n  //   // }, {})\n  //   controlGroupInfoIdset.add(Id)\n  // })\n  // transform\n  var _ref19 = options || {},\n    getLangMsg = _ref19.getLangMsg;\n  var res = adaptorObjectByTransformKeyMap(originMeta, keyMap, getLangMsg);\n  _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__[\"default\"].log('editorTypes', (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(editorTypes));\n  _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__[\"default\"].log('actionConditions', (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(actionConditions));\n  _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__[\"default\"].log('actionNames', (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(actionNames));\n  _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__[\"default\"].log('noneEditorProperties', (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_13___default())(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(_context13 = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(noneEditorProperties)).call(_context13, function (p) {\n    var _context14;\n    var arr = p.split('^^');\n    _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__[\"default\"].log(JSON.parse(arr[2]));\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context14 = \"\".concat(arr[0], \"-\")).call(_context14, arr[1]);\n  }))));\n  window.console.timeEnd('start adaptorMeta');\n  metaData = null;\n  return res;\n};\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/adaptor/index.ts?");

/***/ }),

/***/ 75084:
/*!***************************************************************!*\
  !*** ../form-entity-designer-utils/editors/ecombo-editor.tsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createEComboEditor: function() { return /* binding */ createEComboEditor; },\n/* harmony export */   getItems: function() { return /* binding */ getItems; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _kd_designer_index__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../kd-designer/index */ 80143);\n/* harmony import */ var _utils_getFieldProperty__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/getFieldProperty */ 28044);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_15__);\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_3___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_3___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_5___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_8___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_9___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_5___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-10-09 17:54:15\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 13:41:00\n * @Description: 属性关联编辑器\n */\n\n\n\n\nvar ENTITYMETA = 'entitymeta';\nvar PARENTID = 'ParentId';\nvar ID = 'Id';\nvar _TYPE_ = '_Type_';\nvar NAME = 'Name';\nvar getItems = function getItems(prop) {\n  return function (props, newEditor) {\n    var getDataRef = prop.getDataRef,\n      getKdesignerApi = prop.getKdesignerApi,\n      getModel = prop.getModel,\n      _metaType = prop.metaType;\n    var _props$editor = props.editor,\n      editor = _props$editor === void 0 ? {} : _props$editor,\n      field = props.field,\n      propName = props.propName,\n      value = props.value;\n    var _types = editor.Types || [];\n    var types = propName === 'EntryId' ? field.FieldType ? [field.FieldType] : _types : _types;\n    var scope = editor.Scope || 'sibling'; // global sibling child ps(父节点的兄弟节点)\n    var metaType = editor.MetaType || _metaType;\n    var defaultValue = editor.Default;\n    newEditor.Default = (0,lodash__WEBPACK_IMPORTED_MODULE_15__.isUndefined)(defaultValue) ? editor.Default : defaultValue;\n    var includeSelf = editor.IncludeSelf;\n    var uiInfo = getDataRef();\n    var kdesignerApi = getKdesignerApi();\n    var itemInfos = uiInfo[metaType].Items;\n    var fieldId = field[ID];\n    var fieldInfo, parentId, formInfo;\n    var rootId = itemInfos[0][ID];\n    var uiModel = getModel();\n    var matchItems = [];\n    switch (scope) {\n      case 'sibling':\n        // 查找所有兄弟节点\n        fieldId = field[ID];\n        if (metaType === ENTITYMETA) {\n          fieldInfo = uiModel.getEntityFieldInfo(fieldId);\n          if (!fieldInfo) {\n            fieldId = uiModel.getParentEntityId(fieldId);\n            fieldInfo = uiModel.getEntityFieldInfo(fieldId);\n          }\n        } else {\n          fieldInfo = kdesignerApi.data.findControl(fieldId);\n        }\n        parentId = fieldInfo[PARENTID];\n        parentId = parentId || rootId;\n        itemInfos = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(itemInfos).call(itemInfos, function (item) {\n          var itemParentId = item[PARENTID];\n          itemParentId = itemParentId || rootId;\n          return itemParentId === parentId;\n        });\n        break;\n      case 'child':\n        // 子节点\n        parentId = field[ID];\n        itemInfos = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(itemInfos).call(itemInfos, function (item) {\n          var itemParentId = item[PARENTID] || rootId;\n          return itemParentId === parentId;\n        });\n        break;\n      case 'ps':\n        // 父节点的兄弟节点\n        fieldId = field[ID];\n        formInfo = uiModel.getFormFieldInfo(fieldId);\n        fieldInfo = metaType === ENTITYMETA ? uiModel.getEntityFieldInfo(fieldId) || formInfo : formInfo;\n        parentId = fieldInfo[PARENTID] || rootId;\n        matchItems = [];\n        while (fieldInfo) {\n          matchItems = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(matchItems).call(matchItems, _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(itemInfos).call(itemInfos, function (item) {\n            var itemParentId = item[PARENTID];\n            itemParentId = itemParentId || rootId;\n            return itemParentId === parentId;\n          }));\n          if (parentId === rootId) {\n            fieldInfo = null;\n          } else {\n            fieldInfo = uiModel.getFieldInfo(parentId, metaType) || {};\n            parentId = fieldInfo[PARENTID] || rootId;\n          }\n        }\n        itemInfos = matchItems;\n        break;\n      default:\n        // 默认超找全部节点\n        break;\n    }\n    var optionItems = [];\n    itemInfos = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(itemInfos).call(itemInfos, function (item) {\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_11___default()(types).call(types, item[_TYPE_]) && (includeSelf || item[ID] !== field[ID]);\n    });\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6___default()(itemInfos).call(itemInfos, function (itemInfo) {\n      return optionItems.push({\n        value: itemInfo[ID],\n        label: itemInfo[NAME]\n      });\n    });\n    var proValue = (0,_utils_getFieldProperty__WEBPACK_IMPORTED_MODULE_14__.useGetFieldProperty)(field, kdesignerApi)(propName);\n    var index = (0,lodash__WEBPACK_IMPORTED_MODULE_15__.findIndex)(optionItems, function (item) {\n      return item.Id === proValue;\n    });\n    if (index === -1) {\n      proValue = '';\n    }\n    return optionItems;\n  };\n};\nvar createEComboEditor = function createEComboEditor(prop) {\n  var EComboEditor = function EComboEditor(props) {\n    var _props$editor2 = props.editor,\n      editor = _props$editor2 === void 0 ? {} : _props$editor2;\n    var newEditor = _objectSpread(_objectSpread({}, editor), {}, {\n      AllowClear: true\n    });\n    var _getItems = getItems(prop);\n    var options = _getItems(props, newEditor);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_kd_designer_index__WEBPACK_IMPORTED_MODULE_13__.EditorPropertySelect, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n      options: options,\n      editor: newEditor\n    }));\n  };\n  return EComboEditor;\n};\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/editors/ecombo-editor.tsx?");

/***/ }),

/***/ 23740:
/*!*******************************************************************!*\
  !*** ../form-entity-designer-utils/editors/edit-combo-editor.tsx ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _kd_designer_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../kd-designer/index */ 80143);\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-12-03 17:37:43\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 13:41:18\n * @Description: ...\n */\n\n\nvar EditComboEditor = function EditComboEditor(props) {\n  var _props$editor = props.editor,\n    editor = _props$editor === void 0 ? {} : _props$editor,\n    field = props.field;\n  var _editor$Enum = editor.Enum,\n    items = _editor$Enum === void 0 ? [] : _editor$Enum;\n  // 设计器掩码属性不是作为单个控件的属性，后端数据items为具有映射关系的对象\n  // 根据控件类型获取掩码下拉列表\n  var fieldType = field.FieldType || field._Type_;\n  var dropdownItems = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(items).call(items, function (item) {\n    // item.key为控件类型\n    return item.Key === fieldType;\n  });\n  dropdownItems = dropdownItems && dropdownItems[0] && dropdownItems[0].Enum || [];\n  dropdownItems = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(dropdownItems).call(dropdownItems, function (item) {\n    var Id = item.Id,\n      Name = item.Name;\n    // Id无用，参照旧版\n    return {\n      label: Name,\n      value: Name\n    };\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_kd_designer_index__WEBPACK_IMPORTED_MODULE_4__.EditorPropertyEditSelect, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    options: dropdownItems\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditComboEditor);\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/editors/edit-combo-editor.tsx?");

/***/ }),

/***/ 58708:
/*!*******************************************************!*\
  !*** ../form-entity-designer-utils/editors/input.tsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createInputEditor: function() { return /* binding */ createInputEditor; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/some */ 65624);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/trim */ 52360);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _kd_designer_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../kd-designer/index */ 80143);\n/* harmony import */ var _utils_constant__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/constant */ 99524);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../designer-utils */ 89592);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_13__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar uniqueProps = ['Key']; // 必填属性列表\nvar requiredProps = ['Key']; // 唯一值属性列表\nvar validateProps = ['TableName', 'PkFieldName', 'FieldName', 'DataScope']; // 需校验属性\nvar lowerCaseProps = ['Key', 'TableName', 'PkFieldName', 'FieldName']; // 需要将值转换成小写的属性\n\nvar InputPropertyEditor = function InputPropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    locked = props.locked,\n    Editor = props.Editor,\n    Validator = props.Validator,\n    propName = props.Name,\n    field = props.field,\n    propId = props.Id,\n    getKdesignerApi = props.getKdesignerApi,\n    EditorComponent = props.editorComponent,\n    tips = props.Tips,\n    queryEntityByFieldId = props.queryEntityByFieldId;\n  var fieldName = field.Name,\n    fieldId = field.Id;\n  var nameHidden = Editor.NameHidden,\n    _Editor$DataScope = Editor.DataScope,\n    DataScope = _Editor$DataScope === void 0 ? [] : _Editor$DataScope,\n    MaxLength = Editor.MaxLength,\n    Min = Editor.Min,\n    Max = Editor.Max,\n    required = Editor.Required;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_9__.useContext)(_kd_designer_index__WEBPACK_IMPORTED_MODULE_10__.GlobalConfigContext),\n    setMessage = _useContext.showMessage;\n  var title = MaxLength ? (0,_designer_utils__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n    key: 'designer.msg.key0001',\n    variables: {\n      count: MaxLength\n    }\n  }) : '';\n  var kdesignerApi = getKdesignerApi();\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(value || ''),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    isFocused = _useState4[0],\n    setIsFocused = _useState4[1];\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var timer = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(false),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState5, 2),\n    lockKeyEditor = _useState6[0],\n    setLockKeyEditor = _useState6[1];\n  var selection = selectionContext.getSelection();\n  (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {\n    if (!queryEntityByFieldId) return;\n    var needLockKey = _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_2___default()(selection).call(selection, function (ctrlId) {\n      var field = dataContext.findControl(ctrlId);\n      var entityId = field.FieldId || field.EntryId || field.CardEntryId;\n      if (propId === 'Key' && entityId) {\n        var entityData = queryEntityByFieldId(entityId);\n        if (!entityData) {\n          return false;\n        } else if (field.Key === entityData.Key) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n      return false;\n    });\n    setLockKeyEditor(needLockKey);\n  }, [selection, propId]);\n  (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {\n    if (!isFocused && value !== innerValue) {\n      setInnerValue(value);\n    }\n  }, [value, isFocused]);\n  var updatePropValue = function updatePropValue(val) {\n    if (isValidSuccess(val)) {\n      handleChange(val);\n    }\n  };\n  var delayUpdateValue = function delayUpdateValue(val) {\n    timer.current && clearTimeout(timer.current);\n    timer.current = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_3___default()(function () {\n      timer.current = null;\n      updatePropValue(val);\n    }, 300);\n  };\n  var isValidSuccess = function isValidSuccess(val) {\n    var validMessage = {\n      isSuccess: true,\n      errorMessage: ''\n    };\n    if (!(Validator !== null && Validator !== void 0 && Validator.length)) {\n      return true;\n    }\n    // 正则的规则: 如果当前值符合规范, 则与正则匹配成功\n    _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(Validator).call(Validator, function (item) {\n      var type = item.Type;\n      var format = item.Format;\n      switch (type) {\n        case 'regex':\n          if (format && format.length > 0) {\n            validMessage.isSuccess = !_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_2___default()(format).call(format, function (formatItem) {\n              var rgxStr = formatItem[0];\n              validMessage.errorMessage = formatItem[1];\n              var newRegex = rgxStr && new RegExp(rgxStr);\n              return newRegex && !newRegex.test(val);\n            });\n          }\n          break;\n        default:\n          break;\n      }\n    });\n    if (!validMessage.isSuccess) {\n      var errorMsg = (0,_designer_utils__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n        key: 'designer.msg.key0002',\n        variables: {\n          fieldName: fieldName,\n          propName: propName,\n          errorMessage: validMessage.errorMessage\n        }\n      });\n      setMessage(errorMsg);\n      setInnerValue(value);\n    }\n    return validMessage.isSuccess;\n  };\n  var onChange = function onChange(e) {\n    var _e$target;\n    var inputValue = ((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value) || '';\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(lowerCaseProps).call(lowerCaseProps, propId)) {\n      inputValue = inputValue.toLowerCase();\n    }\n    if (propId === 'Key') {\n      // 由于'.'会影响运行时的属性，所以屏蔽掉‘.’符号\n      inputValue = inputValue.replace(/\\./g, '');\n    }\n    setInnerValue(inputValue);\n    if (!(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(requiredProps).call(requiredProps, propId) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(uniqueProps).call(uniqueProps, propId) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(validateProps).call(validateProps, propId))) {\n      delayUpdateValue(inputValue);\n    }\n  };\n  var uniqueValidate = function uniqueValidate(val) {\n    var dataItems = dataContext.getData().Items;\n    var propIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_6___default()(dataItems).call(dataItems, function (item) {\n      return item.Id !== fieldId && (item[propId] == val || item.ListFieldId === val);\n    });\n    return propIndex == -1;\n  };\n  var onKeyDown = function onKeyDown(e) {\n    if (e.nativeEvent.keyCode === 13) {\n      onBlur(e);\n    }\n  };\n  var onFocus = function onFocus() {\n    setIsFocused(true);\n  };\n  var onBlur = function onBlur() {\n    setIsFocused(false);\n    var inputValue = innerValue;\n    if (value == inputValue) return;\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(requiredProps).call(requiredProps, propId) && lodash__WEBPACK_IMPORTED_MODULE_13___default().isEmpty(inputValue + '')) {\n      setMessage((0,_designer_utils__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n        key: 'designer.msg.key0003',\n        variables: {\n          propName: propName\n        }\n      }), 'warn');\n      setInnerValue(value);\n      return;\n    }\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(uniqueProps).call(uniqueProps, propId) && !uniqueValidate(inputValue)) {\n      // 校验不通过\n      setMessage((0,_designer_utils__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n        key: 'designer.msg.key0004',\n        variables: {\n          inputValue: inputValue\n        }\n      }), 'warn');\n      setInnerValue(value);\n      return;\n    }\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(validateProps).call(validateProps, propId) && _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_6___default()((lodash__WEBPACK_IMPORTED_MODULE_13___default())).call((lodash__WEBPACK_IMPORTED_MODULE_13___default()), _utils_constant__WEBPACK_IMPORTED_MODULE_11__.SPECIAL_WORDS, function (val) {\n      return val.toLowerCase() == inputValue;\n    }) >= 0) {\n      setMessage((0,_designer_utils__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n        key: 'designer.msg.key0005',\n        variables: {\n          propName: propName,\n          inputValue: inputValue\n        }\n      }), 'warn');\n      setInnerValue(value);\n      return;\n    }\n    if (propId === 'Key') {\n      if (_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_6___default()((lodash__WEBPACK_IMPORTED_MODULE_13___default())).call((lodash__WEBPACK_IMPORTED_MODULE_13___default()), _utils_constant__WEBPACK_IMPORTED_MODULE_11__.RESERVEDFILEDKEYS, function (val) {\n        return val.toLowerCase() == inputValue;\n      }) >= 0) {\n        setMessage((0,_designer_utils__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n          key: 'designer.msg.key0006',\n          variables: {\n            inputValue: inputValue\n          }\n        }), 'warn');\n        setInnerValue(value);\n        return;\n      } else if (_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_7___default()(inputValue).call(inputValue, ' ') >= 0) {\n        setMessage((0,_designer_utils__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)('designer.msg.key0007'), 'warn');\n        setInnerValue(value);\n        return;\n      } else if (_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_7___default()(inputValue).call(inputValue, '$$') === 0) {\n        setMessage((0,_designer_utils__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)('designer.msg.key0008'), 'warn');\n        setInnerValue(value);\n        return;\n      }\n    } else if (propId === 'DataScope' && _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_8___default()((lodash__WEBPACK_IMPORTED_MODULE_13___default())).call((lodash__WEBPACK_IMPORTED_MODULE_13___default()), inputValue) !== '') {\n      // 去掉空格\n      inputValue = inputValue.replace(/\\s/g, '');\n      // 数值范围的格式为‘[0,10]’或‘(0,10)’或'[0,10)'或'(0,10]',且最小值小于最大值\n      var exp = new RegExp(/^[\\[|\\(](-?\\d*\\.?\\d*),(-?\\d*\\.?\\d*)[\\]|\\)]$/, 'g');\n      var arr = exp.exec(inputValue);\n      if (arr === null || arr[1] !== '' && arr[2] !== '' && lodash__WEBPACK_IMPORTED_MODULE_13___default().toNumber(arr[1]) >= lodash__WEBPACK_IMPORTED_MODULE_13___default().toNumber(arr[2])) {\n        var msg = (0,_designer_utils__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)({\n          key: 'designer.msg.key0009',\n          variables: {\n            fieldName: fieldName,\n            propName: propName\n          }\n        });\n        setMessage(msg);\n        setInnerValue(value);\n        return;\n      }\n    }\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(lowerCaseProps).call(lowerCaseProps, propId)) {\n      inputValue = inputValue.toLowerCase();\n    }\n    if (isValidSuccess(inputValue)) {\n      updatePropValue(inputValue);\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement((react__WEBPACK_IMPORTED_MODULE_9___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_kd_designer_index__WEBPACK_IMPORTED_MODULE_10__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: propName,\n    tips: tips,\n    required: required\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(EditorComponent, {\n    ref: inputRef,\n    value: innerValue,\n    disabled: locked || lockKeyEditor,\n    title: title,\n    maxlength: MaxLength,\n    placeholder: (0,_designer_utils__WEBPACK_IMPORTED_MODULE_12__.getLangMsg)('designer.editor.key0020'),\n    borderType: \"bordered\",\n    onKeyDown: onKeyDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onChange: onChange\n  }));\n};\nvar createInputEditor = function createInputEditor(hocProps) {\n  var getKdesignerApi = hocProps.getKdesignerApi,\n    editorComponent = hocProps.editorComponent,\n    queryEntityByFieldId = hocProps.queryEntityByFieldId;\n  var Editor = function Editor(props) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(InputPropertyEditor, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n      getKdesignerApi: getKdesignerApi,\n      editorComponent: editorComponent,\n      queryEntityByFieldId: queryEntityByFieldId\n    }));\n  };\n  return Editor;\n};\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/editors/input.tsx?");

/***/ }),

/***/ 10584:
/*!*****************************************************************!*\
  !*** ../form-entity-designer-utils/editors/refcombo-editor.tsx ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRefComboEditor: function() { return /* binding */ createRefComboEditor; },\n/* harmony export */   getItems: function() { return /* binding */ getItems; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _kd_designer_index__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../kd-designer/index */ 80143);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_16__);\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context2, _context3; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context2 = ownKeys(Object(t), !0)).call(_context2, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context3 = ownKeys(Object(t))).call(_context3, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-07 17:01:42\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 13:41:34\n * @Description: 自定义关联属性编辑器\n */\n\n\n\nvar getItems = function getItems(prop) {\n  return function (props) {\n    var getDataRef = prop.getDataRef,\n      getModel = prop.getModel,\n      getKdesignerApi = prop.getKdesignerApi,\n      keywordMapping = prop.keywordMapping,\n      metaType = prop.metaType;\n    var optionItems = [];\n    var _props$editor = props.editor,\n      editor = _props$editor === void 0 ? {} : _props$editor,\n      field = props.field,\n      propName = props.propName,\n      value = props.value;\n    var fieldId = field[keywordMapping.id];\n    var fieldFieldId = field.FieldId;\n    // 如果没有实体绑定，不往下走了\n    // !fieldFieldId &&\n    // 列表页面没有实体\n    // if (metaType === 'formmeta') {\n    //   return optionItems\n    // }\n    var dataRef = getDataRef();\n    var entityModel = getModel();\n    var kdesignerApi = getKdesignerApi();\n    var refInfo = editor.Ref;\n    var refPropValue = null;\n    var fieldType = field[keywordMapping.type];\n    var propMetaType = metaType;\n    var refPropName = null;\n    var fieldInfo;\n    if (dataRef && entityModel && kdesignerApi) {\n      while (refInfo) {\n        refPropName = refInfo.Name;\n        var refType = refInfo.Type;\n        switch (refType) {\n          case 'entitymeta':\n            propMetaType = 'entitymeta';\n            if (metaType === 'formmeta') {\n              fieldId = field.FieldId;\n            }\n            break;\n          case 'formmeta':\n            propMetaType = 'formmeta';\n            break;\n          case 'entityrootitem':\n            fieldId = entityModel.getEntityRootId();\n            propMetaType = 'entitymeta';\n            break;\n          case 'formrootitem':\n            fieldId = kdesignerApi.data.getRootId();\n            propMetaType = 'formmeta';\n            break;\n          case 'entityparentitem':\n            // 这里由于不能走旧的逻辑导致适配不了，可能会有难改的bug\n            if (metaType === 'formmeta') {\n              fieldId = field.FieldId;\n              if (fieldId) {\n                var entitymeta = dataRef.entitymeta;\n                // 表单\n                if (entitymeta) {\n                  var _entitymeta$Items$fin, _context;\n                  fieldId = ((_entitymeta$Items$fin = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11___default()(_context = entitymeta.Items).call(_context, function (item) {\n                    return item.Id === fieldId;\n                  })) === null || _entitymeta$Items$fin === void 0 ? void 0 : _entitymeta$Items$fin.ParentId) || entityModel.getEntityRootId();\n                }\n              }\n            } else {\n              fieldInfo = entityModel.getEntityFieldInfo(fieldId);\n              fieldId = fieldInfo.ParentId || entityModel.getEntityRootId();\n            }\n            break;\n          case 'formparentitem':\n            fieldInfo = kdesignerApi.data.findControl(fieldId);\n            fieldId = fieldInfo.ParentId || kdesignerApi.data.getRootId();\n            break;\n          default:\n            // 'item'\n            break;\n        }\n        // 是否要取到默认值？\n        // 这里由于不能走旧的逻辑导致适配不了，可能会有难改的bug\n        if (propMetaType === 'entitymeta') {\n          if (metaType === 'formmeta') {\n            refPropValue = entityModel.getEntityPropertyValue(fieldId, refPropName);\n          } else {\n            refPropValue = entityModel.getPropertyValue(fieldId, refPropName);\n          }\n        } else {\n          refPropValue = kdesignerApi.data.getPropertyValue(fieldId, refPropName) || kdesignerApi.meta.getControlPropertyDefaultValue(field._Type_, refPropName);\n        }\n        var nextRefInfo = refInfo.Ref;\n        if (!nextRefInfo) {\n          break;\n        }\n        fieldId = refPropValue;\n        refInfo = nextRefInfo;\n      }\n    }\n    var refItems = refPropValue;\n    if (refPropValue && typeof refPropValue === 'string') {\n      refItems = refItems.split(',');\n      if (refItems.length > 0) {\n        var _refInfo;\n        var refItemValue = (_refInfo = refInfo) === null || _refInfo === void 0 || (_refInfo = _refInfo.DisplayItem) === null || _refInfo === void 0 ? void 0 : _refInfo.Value;\n        var refProp = kdesignerApi.meta.getControlMetaEditor(fieldType, refPropName);\n        var refPropItems = refProp.Enum || []; // 这里不确定是不是改写了\n        refItems = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(refPropItems).call(refPropItems, function (item) {\n          return _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12___default()(refItems).call(refItems, item[(0,lodash__WEBPACK_IMPORTED_MODULE_16__.upperFirst)(refItemValue)]) >= 0;\n        }); // 这一步过滤是否还需要? 旧版移植先\n      }\n    }\n    if (refItems) {\n      var _refInfo2, _refInfo3, _refInfo4, _refInfo5, _refInfo6, _refInfo7;\n      // 找两次\n      var refItemCaption = ((_refInfo2 = refInfo) === null || _refInfo2 === void 0 || (_refInfo2 = _refInfo2.DisplayItem) === null || _refInfo2 === void 0 ? void 0 : _refInfo2.Caption) && (0,lodash__WEBPACK_IMPORTED_MODULE_16__.upperFirst)((_refInfo3 = refInfo) === null || _refInfo3 === void 0 || (_refInfo3 = _refInfo3.DisplayItem) === null || _refInfo3 === void 0 ? void 0 : _refInfo3.Caption);\n      var _refItemValue = ((_refInfo4 = refInfo) === null || _refInfo4 === void 0 || (_refInfo4 = _refInfo4.DisplayItem) === null || _refInfo4 === void 0 ? void 0 : _refInfo4.Value) && (0,lodash__WEBPACK_IMPORTED_MODULE_16__.upperFirst)((_refInfo5 = refInfo) === null || _refInfo5 === void 0 || (_refInfo5 = _refInfo5.DisplayItem) === null || _refInfo5 === void 0 ? void 0 : _refInfo5.Value);\n      var smallRefItemCaption = (_refInfo6 = refInfo) === null || _refInfo6 === void 0 || (_refInfo6 = _refInfo6.DisplayItem) === null || _refInfo6 === void 0 ? void 0 : _refInfo6.Caption;\n      var smallRefItemValue = (_refInfo7 = refInfo) === null || _refInfo7 === void 0 || (_refInfo7 = _refInfo7.DisplayItem) === null || _refInfo7 === void 0 ? void 0 : _refInfo7.Value;\n      //   refItems = Array.isArray(refItems) ? fromJS(refItems) : refItems\n      if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_13___default()(refItems)) {\n        _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(refItems).call(refItems, function (item) {\n          var caption = !(0,lodash__WEBPACK_IMPORTED_MODULE_16__.isUndefined)(item[refItemCaption]) ? item[refItemCaption] : item[smallRefItemCaption];\n          var itemValue = !(0,lodash__WEBPACK_IMPORTED_MODULE_16__.isUndefined)(item[_refItemValue]) ? item[_refItemValue] : item[smallRefItemValue];\n          if (caption == null || caption === '') caption = itemValue;\n          optionItems.push({\n            value: itemValue,\n            label: caption\n          });\n        });\n      } else if ((0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(refItems) === 'object') {\n        var caption = !(0,lodash__WEBPACK_IMPORTED_MODULE_16__.isUndefined)(refItems[refItemCaption]) ? refItems[refItemCaption] : refItems[smallRefItemCaption];\n        var itemValue = !(0,lodash__WEBPACK_IMPORTED_MODULE_16__.isUndefined)(refItems[_refItemValue]) ? refItems[_refItemValue] : refItems[smallRefItemValue];\n        optionItems.push({\n          value: itemValue,\n          label: caption\n        });\n      }\n    }\n    return optionItems;\n  };\n};\nvar createRefComboEditor = function createRefComboEditor(_ref) {\n  var getDataRef = _ref.getDataRef,\n    getModel = _ref.getModel,\n    getKdesignerApi = _ref.getKdesignerApi,\n    keywordMapping = _ref.keywordMapping,\n    _ref$multiple = _ref.multiple,\n    multiple = _ref$multiple === void 0 ? false : _ref$multiple,\n    _ref$metaType = _ref.metaType,\n    metaType = _ref$metaType === void 0 ? 'formmeta' : _ref$metaType;\n  var RefComboEditor = function RefComboEditor(props) {\n    var _props$editor2 = props.editor,\n      editor = _props$editor2 === void 0 ? {} : _props$editor2;\n    var newEditor = _objectSpread(_objectSpread({}, editor), {}, {\n      AllowClear: true\n    });\n    var _getItems = (0,react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (props) {\n      try {\n        return getItems({\n          getDataRef: getDataRef,\n          getModel: getModel,\n          getKdesignerApi: getKdesignerApi,\n          keywordMapping: keywordMapping,\n          metaType: metaType\n        })(props);\n      } catch (error) {\n        console.log('error', error);\n        return [];\n      }\n    }, []);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default().createElement(_kd_designer_index__WEBPACK_IMPORTED_MODULE_15__.EditorPropertySelect, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n      options: _getItems(props),\n      multiple: multiple,\n      editor: newEditor\n    }));\n  };\n  return RefComboEditor;\n};\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/editors/refcombo-editor.tsx?");

/***/ }),

/***/ 60328:
/*!********************************************************!*\
  !*** ../form-entity-designer-utils/editors/select.tsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSelectEditor: function() { return /* binding */ createSelectEditor; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/every */ 30479);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _kd_designer_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../kd-designer/index */ 80143);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../designer-utils */ 89592);\n\n\n\n\n\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-12-14 10:54:28\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 13:41:40\n * @Description: ...\n */\n\n\n\n\nvar DEFAULT = 'Default';\nvar FIELD_PROPERTY_FILTER = {\n  FieldStyle: (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    /**\n     * 字段风格\n     * -1:默认; 0:下划线; 1:标签; 2:边框; 3:问卷\n     * RadioGroupField: 单选按钮组\n     */\n    RadioGroupField: [-1, 1, 3]\n  }, DEFAULT, [-1, 0, 1, 2]),\n  ComboShowType: (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    /**\n     * 下拉风格\n     * 0:默认风格; 1:气泡风格; 2:筛选风格\n     * ComboField: 下拉列表\n     * MulComboField: 多选下拉列表\n     */\n    ComboField: [0, 1, 2],\n    MulComboField: [0, 2]\n  }, DEFAULT, [0, 2])\n};\nvar getValueFormat = function getValueFormat(value, valueIsNumber, enums, defaultValue) {\n  if (value === '') return value;\n  var valueFomated = valueIsNumber ? Number(value) : String(value);\n  // 这里如果默认值去除，历史单保存的值是原“默认”的情况下，是没有值得\n  var hasValue = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default()(enums).call(enums, function (item) {\n    return item.Id === valueFomated;\n  });\n  return hasValue ? valueFomated : defaultValue;\n};\nvar EditorPropertySelect = function EditorPropertySelect(props) {\n  var _Enum$, _context;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    multiple = props.multiple,\n    propId = props.Id,\n    field = props.field,\n    EditorComponent = props.editorComponent;\n  var fieldType = field.FieldType;\n  var Enum = editor.Enum,\n    Default = editor.Default,\n    nameHidden = editor.NameHidden,\n    required = editor.Required,\n    allowClear = editor.AllowClear;\n  var isMultiple = !!multiple;\n  var valueIsNumber = (Enum === null || Enum === void 0 ? void 0 : Enum.length) && _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_3___default()(Enum).call(Enum, function (item) {\n    return (0,lodash__WEBPACK_IMPORTED_MODULE_10__.isNumber)(item.Id);\n  });\n  var selectValue = isMultiple ? [] : Default || Enum && ((_Enum$ = Enum[0]) === null || _Enum$ === void 0 ? void 0 : _Enum$.Id);\n  var idList = FIELD_PROPERTY_FILTER[propId] && (FIELD_PROPERTY_FILTER[propId][fieldType] || FIELD_PROPERTY_FILTER[propId][DEFAULT]);\n  var options = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(Enum).call(Enum, function (option) {\n    return !idList || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(idList).call(idList, option.Id);\n  })).call(_context, function (option) {\n    return {\n      value: option.Id,\n      label: option.Name\n    };\n  });\n  var name = props.Name,\n    tips = props.Tips;\n  var renderValue = (0,lodash__WEBPACK_IMPORTED_MODULE_10__.isUndefined)(value) ? selectValue : isMultiple ? value === null || value === void 0 ? void 0 : value.split(',') : getValueFormat(value, valueIsNumber, Enum, selectValue);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement((react__WEBPACK_IMPORTED_MODULE_8___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_kd_designer_index__WEBPACK_IMPORTED_MODULE_9__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(EditorComponent, {\n    scrollHidden: true,\n    disabled: locked,\n    placeholder: (0,_designer_utils__WEBPACK_IMPORTED_MODULE_11__.getLangMsg)('designer.editor.key0020'),\n    borderType: \"bordered\",\n    value: renderValue,\n    allowClear: allowClear,\n    onChange: function onChange(val) {\n      handleChange(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7___default()(val) ? val.join(',') : val);\n    },\n    options: options\n  }));\n};\nvar createSelectEditor = function createSelectEditor(hocProps) {\n  var editorComponent = hocProps.editorComponent;\n  var Editor = function Editor(props) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(EditorPropertySelect, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n      editorComponent: editorComponent\n    }));\n  };\n  return Editor;\n};\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/editors/select.tsx?");

/***/ }),

/***/ 57500:
/*!**********************************************!*\
  !*** ../form-entity-designer-utils/index.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DelayQueueUtil: function() { return /* reexport safe */ _utils_delayQueueUtils__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   EditComboEditor: function() { return /* reexport safe */ _editors_edit_combo_editor__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; },\n/* harmony export */   ITransformKeyMap: function() { return /* reexport safe */ _adaptor__WEBPACK_IMPORTED_MODULE_5__.ITransformKeyMap; },\n/* harmony export */   adaptorMeta: function() { return /* reexport safe */ _adaptor__WEBPACK_IMPORTED_MODULE_5__.adaptorMeta; },\n/* harmony export */   adaptorObjectByTransformKeyMap: function() { return /* reexport safe */ _adaptor__WEBPACK_IMPORTED_MODULE_5__.adaptorObjectByTransformKeyMap; },\n/* harmony export */   createEComboEditor: function() { return /* reexport safe */ _editors_ecombo_editor__WEBPACK_IMPORTED_MODULE_1__.createEComboEditor; },\n/* harmony export */   createInputEditor: function() { return /* reexport safe */ _editors_input__WEBPACK_IMPORTED_MODULE_3__.createInputEditor; },\n/* harmony export */   createPropertyGroups: function() { return /* reexport safe */ _adaptor__WEBPACK_IMPORTED_MODULE_5__.createPropertyGroups; },\n/* harmony export */   createRefComboEditor: function() { return /* reexport safe */ _editors_refcombo_editor__WEBPACK_IMPORTED_MODULE_2__.createRefComboEditor; },\n/* harmony export */   createSelectEditor: function() { return /* reexport safe */ _editors_select__WEBPACK_IMPORTED_MODULE_4__.createSelectEditor; },\n/* harmony export */   filterProperty: function() { return /* reexport safe */ _utils_filterProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   getControlIconMap: function() { return /* reexport safe */ _utils_controlIconMap__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; },\n/* harmony export */   getEComboEditorItems: function() { return /* reexport safe */ _editors_ecombo_editor__WEBPACK_IMPORTED_MODULE_1__.getItems; },\n/* harmony export */   getFieldProperty: function() { return /* reexport safe */ _utils_getFieldProperty__WEBPACK_IMPORTED_MODULE_0__.getFieldProperty; },\n/* harmony export */   getRefComboEditor: function() { return /* reexport safe */ _editors_refcombo_editor__WEBPACK_IMPORTED_MODULE_2__.getItems; },\n/* harmony export */   mergeTransformKeyMap: function() { return /* reexport safe */ _adaptor__WEBPACK_IMPORTED_MODULE_5__.mergeTransformKeyMap; },\n/* harmony export */   transformActions: function() { return /* reexport safe */ _adaptor__WEBPACK_IMPORTED_MODULE_5__.transformActions; },\n/* harmony export */   transformKeyMap: function() { return /* reexport safe */ _adaptor__WEBPACK_IMPORTED_MODULE_5__.transformKeyMap; },\n/* harmony export */   useGetFieldProperty: function() { return /* reexport safe */ _utils_getFieldProperty__WEBPACK_IMPORTED_MODULE_0__.useGetFieldProperty; }\n/* harmony export */ });\n/* harmony import */ var _utils_getFieldProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/getFieldProperty */ 28044);\n/* harmony import */ var _editors_ecombo_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editors/ecombo-editor */ 75084);\n/* harmony import */ var _editors_refcombo_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editors/refcombo-editor */ 10584);\n/* harmony import */ var _editors_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editors/input */ 58708);\n/* harmony import */ var _editors_select__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editors/select */ 60328);\n/* harmony import */ var _adaptor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./adaptor */ 90728);\n/* harmony import */ var _utils_filterProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/filterProperty */ 90656);\n/* harmony import */ var _utils_delayQueueUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/delayQueueUtils */ 32204);\n/* harmony import */ var _editors_edit_combo_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./editors/edit-combo-editor */ 23740);\n/* harmony import */ var _utils_controlIconMap__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/controlIconMap */ 96708);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-10-11 16:38:19\n * @Last Modified by: fjr\n * @LastEditTime: 2023-12-28 17:38:48\n * @Description: 表单、实体设计器公共依赖\n */\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/index.ts?");

/***/ }),

/***/ 99524:
/*!*******************************************************!*\
  !*** ../form-entity-designer-utils/utils/constant.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RESERVEDFILEDKEYS: function() { return /* binding */ RESERVEDFILEDKEYS; },\n/* harmony export */   SPECIAL_WORDS: function() { return /* binding */ SPECIAL_WORDS; }\n/* harmony export */ });\nvar SPECIAL_WORDS = ['!', '$', '&', '(', ')', '*', '+', ',', '-', '.', '/', ':', '<', '<<', '=', '>', '@', 'A', 'ABORT', 'ACCESS', 'ACCESSED', 'ACCOUNT', 'ACTIVATE', 'ADD', 'ADMIN', 'ADMINISTER', 'ADMINISTRATOR', 'ADVISE', 'ADVISOR', 'AFTER', 'ALGORITHM', 'ALIAS', 'ALL', 'ALLOCATE', 'ALLOW', 'ALL_ROWS', 'ALTER', 'ALWAYS', 'ANALYZE', 'ANCILLARY', 'AND', 'AND_EQUAL', 'ANTIJOIN', 'ANY', 'APPEND', 'APPLY', 'ARCHIVE', 'ARCHIVELOG', 'ARRAY', 'AS', 'ASC', 'ASSOCIATE', 'AT', 'ATTRIBUTE', 'ATTRIBUTES', 'AUDIT', 'AUTHENTICATED', 'AUTHENTICATION', 'AUTHID', 'AUTHORIZATION', 'AUTO', 'AUTOALLOCATE', 'AUTOEXTEND', 'AUTOMATIC', 'AVAILABILITY', 'BACKUP', 'BECOME', 'BEFORE', 'BEGIN', 'BEHALF', 'BETWEEN', 'BFILE', 'BIGFILE', 'BINARY_DOUBLE', 'BINARY_DOUBLE_INFINITY', 'BINARY_DOUBLE_NAN', 'BINARY_FLOAT', 'BINARY_FLOAT_INFINITY', 'BINARY_FLOAT_NAN', 'BINDING', 'BITMAP', 'BITS', 'BLOB', 'BLOCK', 'BLOCKS', 'BLOCKSIZE', 'BLOCK_RANGE', 'BODY', 'BOTH', 'BOUND', 'BROADCAST', 'BUFFER', 'BUFFER_CACHE', 'BUFFER_POOL', 'BUILD', 'BULK', 'BY', 'BYPASS_RECURSIVE_CHECK', 'BYPASS_UJVC', 'BYTE', 'CACHE', 'CACHE_CB', 'CACHE_INSTANCES', 'CACHE_TEMP_TABLE', 'CALL', 'CANCEL', 'CARDINALITY', 'CASCADE', 'CASE', 'CAST', 'CATEGORY', 'CERTIFICATE', 'CFILE', 'CHAINED', 'CHANGE', 'CHAR', 'CHARACTER', 'CHAR_CS', 'CHECK', 'CHECKPOINT', 'CHILD', 'CHOOSE', 'CHUNK', 'CIV_GB', 'CLASS', 'CLEAR', 'CLOB', 'CLONE', 'CLOSE', 'CLOSE_CACHED_OPEN_CURSORS', 'CLUSTER', 'CLUSTERING_FACTOR', 'COALESCE', 'COARSE', 'COLLECT', 'COLLECTIONS_GET_REFS', 'COLUMN', 'COLUMNS', 'COLUMN_STATS', 'COLUMN_VALUE', 'COMMENT', 'COMMIT', 'COMMITTED', 'COMPACT', 'COMPATIBILITY', 'COMPILE', 'COMPLETE', 'COMPOSITE_LIMIT', 'COMPRESS', 'COMPUTE', 'CONFORMING', 'CONNECT', 'CONNECT_BY_ISCYCLE', 'CONNECT_BY_ISLEAF', 'CONNECT_BY_ROOT', 'CONNECT_TIME', 'CONSIDER', 'CONSISTENT', 'CONSTRAINT', 'CONSTRAINTS', 'CONTAINER', 'CONTENT', 'CONTENTS', 'CONTEXT', 'CONTINUE', 'CONTROLFILE', 'CONVERT', 'CORRUPTION', 'COST', 'CPU_COSTING', 'CPU_PER_CALL', 'CPU_PER_SESSION', 'CREATE', 'CREATE_STORED_OUTLINES', 'CROSS', 'CUBE', 'CUBE_GB', 'CURRENT', 'CURRENT_DATE', 'CURRENT_SCHEMA', 'CURRENT_TIME', 'CURRENT_TIMESTAMP', 'CURRENT_USER', 'CURSOR', 'CURSOR_SHARING_EXACT', 'CURSOR_SPECIFIC_SEGMENT', 'CYCLE', 'DANGLING', 'DATA', 'DATABASE', 'DATAFILE', 'DATAFILES', 'DATAOBJNO', 'DATE', 'DATE_MODE', 'DAY', 'DBA', 'DBA_RECYCLEBIN', 'DBTIMEZONE', 'DDL', 'DEALLOCATE', 'DEBUG', 'DEC', 'DECIMAL', 'DECLARE', 'DECREMENT', 'DEFAULT', 'DEFERRABLE', 'DEFERRED', 'DEFINED', 'DEFINER', 'DEGREE', 'DELAY', 'DELETE', 'DEMAND', 'DENSE_RANK', 'DEREF', 'DEREF_NO_REWRITE', 'DESC', 'DETACHED', 'DETERMINES', 'DICTIONARY', 'DIMENSION', 'DIRECTORY', 'DISABLE', 'DISASSOCIATE', 'DISCONNECT', 'DISK', 'DISKGROUP', 'DISKS', 'DISMOUNT', 'DISTINCT', 'DISTINGUISHED', 'DISTRIBUTED', 'DML', 'DML_UPDATE', 'DOCUMENT', 'DOMAIN_INDEX_NO_SORT', 'DOMAIN_INDEX_SORT', 'DOUBLE', 'DOWNGRADE', 'DRIVING_SITE', 'DROP', 'DUMP', 'DYNAMIC', 'DYNAMIC_SAMPLING', 'DYNAMIC_SAMPLING_EST_CDN', 'EACH', 'ELEMENT', 'ELSE', 'EMPTY', 'ENABLE', 'ENCRYPTED', 'ENCRYPTION', 'END', 'ENFORCE', 'ENFORCED', 'ENTRY', 'ERROR', 'ERROR_ON_OVERLAP_TIME', 'ESCAPE', 'ESTIMATE', 'EVENTS', 'EXCEPT', 'EXCEPTIONS', 'EXCHANGE', 'EXCLUDING', 'EXCLUSIVE', 'EXECUTE', 'EXEMPT', 'EXISTS', 'EXPAND_GSET_TO_UNION', 'EXPIRE', 'EXPLAIN', 'EXPLOSION', 'EXPORT', 'EXPR_CORR_CHECK', 'EXTEND', 'EXTENDS', 'EXTENT', 'EXTENTS', 'EXTERNAL', 'EXTERNALLY', 'EXTRACT', 'FACT', 'FAILED', 'FAILED_LOGIN_ATTEMPTS', 'FAILGROUP', 'FALSE', 'FAST', 'FBTSCAN', 'FIC_CIV', 'FIC_PIV', 'FILE', 'FILTER', 'FINAL', 'FINE', 'FINISH', 'FIRST', 'FIRST_ROWS', 'FLAGGER', 'FLASHBACK', 'FLOAT', 'FLOB', 'FLUSH', 'FOLLOWING', 'FOR', 'FORCE', 'FORCE_XML_QUERY_REWRITE', 'FOREIGN', 'FREELIST', 'FREELISTS', 'FREEPOOLS', 'FRESH', 'FROM', 'FULL', 'FUNCTION', 'FUNCTIONS', 'GATHER_PLAN_STATISTICS', 'GBY_CONC_ROLLUP', 'GENERATED', 'GLOBAL', 'GLOBALLY', 'GLOBAL_NAME', 'GLOBAL_TOPIC_ENABLED', 'GRANT', 'GROUP', 'GROUPING', 'GROUPS', 'GROUP_BY', 'GUARANTEE', 'GUARANTEED', 'GUARD', 'HASH', 'HASHKEYS', 'HASH_AJ', 'HASH_SJ', 'HAVING', 'HEADER', 'HEAP', 'HIERARCHY', 'HIGH', 'HINTSET_BEGIN', 'HINTSET_END', 'HOUR', 'HWM_BROKERED', 'ID', 'IDENTIFIED', 'IDENTIFIER', 'IDENTITY', 'IDGENERATORS', 'IDLE_TIME', 'IF', 'IGNORE', 'IGNORE_ON_CLAUSE', 'IGNORE_OPTIM_EMBEDDED_HINTS', 'IGNORE_WHERE_CLAUSE', 'IMMEDIATE', 'IMPORT', 'IN', 'INCLUDE_VERSION', 'INCLUDING', 'INCREMENT', 'INCREMENTAL', 'INDEX', 'INDEXED', 'INDEXES', 'INDEXTYPE', 'INDEXTYPES', 'INDEX_ASC', 'INDEX_COMBINE', 'INDEX_DESC', 'INDEX_FFS', 'INDEX_FILTER', 'INDEX_JOIN', 'INDEX_ROWS', 'INDEX_RRS', 'INDEX_SCAN', 'INDEX_SKIP_SCAN', 'INDEX_SS', 'INDEX_SS_ASC', 'INDEX_SS_DESC', 'INDEX_STATS', 'INDICATOR', 'INFINITE', 'INFORMATIONAL', 'INITIAL', 'INITIALIZED', 'INITIALLY', 'INITRANS', 'INLINE', 'INNER', 'INSERT', 'INSTANCE', 'INSTANCES', 'INSTANTIABLE', 'INSTANTLY', 'INSTEAD', 'INT', 'INTEGER', 'INTEGRITY', 'INTERMEDIATE', 'INTERNAL_CONVERT', 'INTERNAL_USE', 'INTERPRETED', 'INTERSECT', 'INTERVAL', 'INTO', 'INVALIDATE', 'IN_MEMORY_METADATA', 'IS', 'ISOLATION', 'ISOLATION_LEVEL', 'ITERATE', 'ITERATION_NUMBER', 'JAVA', 'JOB', 'JOIN', 'KEEP', 'KERBEROS', 'KEY', 'KEYFILE', 'KEYS', 'KEYSIZE', 'KEY_LENGTH', 'KILL', 'LAST', 'LATERAL', 'LAYER', 'LDAP_REGISTRATION', 'LDAP_REGISTRATION_ENABLED', 'LDAP_REG_SYNC_INTERVAL', 'LEADING', 'LEFT', 'LENGTH', 'LESS', 'LEVEL', 'LEVELS', 'LIBRARY', 'LIKE', 'LIKE2', 'LIKE4', 'LIKEC', 'LIKE_EXPAND', 'LIMIT', 'LINK', 'LIST', 'LOB', 'LOCAL', 'LOCALTIME', 'LOCALTIMESTAMP', 'LOCAL_INDEXES', 'LOCATION', 'LOCATOR', 'LOCK', 'LOCKED', 'LOG', 'LOGFILE', 'LOGGING', 'LOGICAL', 'LOGICAL_READS_PER_CALL', 'LOGICAL_READS_PER_SESSION', 'LOGOFF', 'LOGON', 'LONG', 'MAIN', 'MANAGE', 'MANAGED', 'MANAGEMENT', 'MANUAL', 'MAPPING', 'MASTER', 'MATCHED', 'MATERIALIZE', 'MATERIALIZED', 'MAX', 'MAXARCHLOGS', 'MAXDATAFILES', 'MAXEXTENTS', 'MAXIMIZE', 'MAXINSTANCES', 'MAXLOGFILES', 'MAXLOGHISTORY', 'MAXLOGMEMBERS', 'MAXSIZE', 'MAXTRANS', 'MAXVALUE', 'MEASURES', 'MEMBER', 'MEMORY', 'MERGE', 'MERGE_AJ', 'MERGE_CONST_ON', 'MERGE_SJ', 'METHOD', 'MIGRATE', 'MIN', 'MINEXTENTS', 'MINIMIZE', 'MINIMUM', 'MINUS', 'MINUTE', 'MINVALUE', 'MIRROR', 'MLSLABEL', 'MODE', 'MODEL', 'MODEL_DONTVERIFY_UNIQUENESS', 'MODEL_MIN_ANALYSIS', 'MODEL_NO_ANALYSIS', 'MODEL_PBY', 'MODEL_PUSH_REF', 'MODIFY', 'MONITORING', 'MONTH', 'MOUNT', 'MOVE', 'MOVEMENT', 'MULTISET', 'MV_MERGE', 'NAME', 'NAMED', 'NAN', 'NATIONAL', 'NATIVE', 'NATURAL', 'NAV', 'NCHAR', 'NCHAR_CS', 'NCLOB', 'NEEDED', 'NESTED', 'NESTED_TABLE_FAST_INSERT', 'NESTED_TABLE_GET_REFS', 'NESTED_TABLE_ID', 'NESTED_TABLE_SET_REFS', 'NESTED_TABLE_SET_SETID', 'NETWORK', 'NEVER', 'NEW', 'NEXT', 'NLS_CALENDAR', 'NLS_CHARACTERSET', 'NLS_COMP', 'NLS_CURRENCY', 'NLS_DATE_FORMAT', 'NLS_DATE_LANGUAGE', 'NLS_ISO_CURRENCY', 'NLS_LANG', 'NLS_LANGUAGE', 'NLS_LENGTH_SEMANTICS', 'NLS_NCHAR_CONV_EXCP', 'NLS_NUMERIC_CHARACTERS', 'NLS_SORT', 'NLS_SPECIAL_CHARS', 'NLS_TERRITORY', 'NL_AJ', 'NL_SJ', 'NO', 'NOAPPEND', 'NOARCHIVELOG', 'NOAUDIT', 'NOCACHE', 'NOCOMPRESS', 'NOCPU_COSTING', 'NOCYCLE', 'NODELAY', 'NOFORCE', 'NOGUARANTEE', 'NOLOGGING', 'NOMAPPING', 'NOMAXVALUE', 'NOMINIMIZE', 'NOMINVALUE', 'NOMONITORING', 'NONE', 'NOORDER', 'NOOVERRIDE', 'NOPARALLEL', 'NOPARALLEL_INDEX', 'NORELY', 'NOREPAIR', 'NORESETLOGS', 'NOREVERSE', 'NOREWRITE', 'NORMAL', 'NOROWDEPENDENCIES', 'NOSEGMENT', 'NOSORT', 'NOSTRICT', 'NOSWITCH', 'NOT', 'NOTHING', 'NOVALIDATE', 'NOWAIT', 'NO_ACCESS', 'NO_BASETABLE_MULTIMV_REWRITE', 'NO_BUFFER', 'NO_CPU_COSTING', 'NO_EXPAND', 'NO_EXPAND_GSET_TO_UNION', 'NO_FACT', 'NO_FILTERING', 'NO_INDEX', 'NO_INDEX_FFS', 'NO_INDEX_SS', 'NO_MERGE', 'NO_MODEL_PUSH_REF', 'NO_MONITORING', 'NO_MULTIMV_REWRITE', 'NO_ORDER_ROLLUPS', 'NO_PARALLEL', 'NO_PARALLEL_INDEX', 'NO_PARTIAL_COMMIT', 'NO_PRUNE_GSETS', 'NO_PUSH_PRED', 'NO_PUSH_SUBQ', 'NO_QKN_BUFF', 'NO_QUERY_TRANSFORMATION', 'NO_REF_CASCADE', 'NO_REWRITE', 'NO_SEMIJOIN', 'NO_SET_TO_JOIN', 'NO_STAR_TRANSFORMATION', 'NO_STATS_GSETS', 'NO_SWAP_JOIN_INPUTS', 'NO_TRIGGER', 'NO_UNNEST', 'NO_USE_HASH', 'NO_USE_MERGE', 'NO_USE_NL', 'NO_XML_QUERY_REWRITE', 'NULL', 'NULLS', 'NUMBER', 'NUMERIC', 'NVARCHAR2', 'OBJECT', 'OBJNO', 'OBJNO_REUSE', 'OF', 'OFF', 'OFFLINE', 'OID', 'OIDINDEX', 'OLD', 'ON', 'ONLINE', 'ONLY', 'OPAQUE', 'OPAQUE_TRANSFORM', 'OPAQUE_XCANONICAL', 'OPCODE', 'OPEN', 'OPERATOR', 'OPTIMAL', 'OPTIMIZER_FEATURES_ENABLE', 'OPTIMIZER_GOAL', 'OPTION', 'OPT_ESTIMATE', 'OR', 'ORA_ROWSCN', 'ORDER', 'ORDERED', 'ORDERED_PREDICATES', 'ORGANIZATION', 'OR_EXPAND', 'OUTER', 'OUTLINE', 'OUT_OF_LINE', 'OVER', 'OVERFLOW', 'OVERFLOW_NOMOVE', 'OVERLAPS', 'OWN', 'PACKAGE', 'PACKAGES', 'PARALLEL', 'PARALLEL_INDEX', 'PARAMETERS', 'PARENT', 'PARITY', 'PARTIALLY', 'PARTITION', 'PARTITIONS', 'PARTITION_HASH', 'PARTITION_LIST', 'PARTITION_RANGE', 'PASSWORD', 'PASSWORD_GRACE_TIME', 'PASSWORD_LIFE_TIME', 'PASSWORD_LOCK_TIME', 'PASSWORD_REUSE_MAX', 'PASSWORD_REUSE_TIME', 'PASSWORD_VERIFY_FUNCTION', 'PCTFREE', 'PCTINCREASE', 'PCTTHRESHOLD', 'PCTUSED', 'PCTVERSION', 'PERCENT', 'PERFORMANCE', 'PERMANENT', 'PFILE', 'PHYSICAL', 'PIV_GB', 'PIV_SSF', 'PLAN', 'PLSQL_CODE_TYPE', 'PLSQL_DEBUG', 'PLSQL_OPTIMIZE_LEVEL', 'PLSQL_WARNINGS', 'POLICY', 'POST_TRANSACTION', 'POWER', 'PQ_DISTRIBUTE', 'PQ_MAP', 'PQ_NOMAP', 'PREBUILT', 'PRECEDING', 'PRECISION', 'PREPARE', 'PRESENT', 'PRESERVE', 'PRIMARY', 'PRIOR', 'PRIVATE', 'PRIVATE_SGA', 'PRIVILEGE', 'PRIVILEGES', 'PROCEDURE', 'PROFILE', 'PROGRAM', 'PROJECT', 'PROTECTED', 'PROTECTION', 'PUBLIC', 'PURGE', 'PUSH_PRED', 'PUSH_SUBQ', 'PX_GRANULE', 'QB_NAME', 'QUERY', 'QUERY_BLOCK', 'QUEUE', 'QUEUE_CURR', 'QUEUE_ROWP', 'QUIESCE', 'QUOTA', 'RANDOM', 'RANGE', 'RAPIDLY', 'RAW', 'RBA', 'READ', 'READS', 'REAL', 'REBALANCE', 'REBUILD', 'RECORDS_PER_BLOCK', 'RECOVER', 'RECOVERABLE', 'RECOVERY', 'RECYCLE', 'RECYCLEBIN', 'REDUCED', 'REDUNDANCY', 'REF', 'REFERENCE', 'REFERENCED', 'REFERENCES', 'REFERENCING', 'REFRESH', 'REF_CASCADE_CURSOR', 'REGEXP_LIKE', 'REGISTER', 'REJECT', 'REKEY', 'RELATIONAL', 'RELY', 'REMOTE_MAPPED', 'RENAME', 'REPAIR', 'REPLACE', 'REQUIRED', 'RESET', 'RESETLOGS', 'RESIZE', 'RESOLVE', 'RESOLVER', 'RESOURCE', 'RESTORE_AS_INTERVALS', 'RESTRICT', 'RESTRICTED', 'RESTRICT_ALL_REF_CONS', 'RESUMABLE', 'RESUME', 'RETENTION', 'RETURN', 'RETURNING', 'REUSE', 'REVERSE', 'REVOKE', 'REWRITE', 'REWRITE_OR_ERROR', 'RIGHT', 'ROLE', 'ROLES', 'ROLLBACK', 'ROLLUP', 'ROW', 'ROWDEPENDENCIES', 'ROWID', 'ROWNUM', 'ROWS', 'ROW_LENGTH', 'RULE', 'RULES', 'SAMPLE', 'SAVEPOINT', 'SAVE_AS_INTERVALS', 'SB4', 'SCALE', 'SCALE_ROWS', 'SCAN', 'SCAN_INSTANCES', 'SCHEDULER', 'SCHEMA', 'SCN', 'SCN_ASCENDING', 'SCOPE', 'SD_ALL', 'SD_INHIBIT', 'SD_SHOW', 'SECOND', 'SECURITY', 'SEED', 'SEGMENT', 'SEG_BLOCK', 'SEG_FILE', 'SELECT', 'SELECTIVITY', 'SEMIJOIN', 'SEMIJOIN_DRIVER', 'SEQUENCE', 'SEQUENCED', 'SEQUENTIAL', 'SERIALIZABLE', 'SERVERERROR', 'SESSION', 'SESSIONS_PER_USER', 'SESSIONTIMEZONE', 'SESSIONTZNAME', 'SESSION_CACHED_CURSORS', 'SET', 'SETS', 'SETTINGS', 'SET_TO_JOIN', 'SEVERE', 'SHARE', 'SHARED', 'SHARED_POOL', 'SHRINK', 'SHUTDOWN', 'SIBLINGS', 'SID', 'SIMPLE', 'SINGLE', 'SINGLETASK', 'SIZE', 'SKIP', 'SKIP_EXT_OPTIMIZER', 'SKIP_UNQ_UNUSABLE_IDX', 'SKIP_UNUSABLE_INDEXES', 'SMALLFILE', 'SMALLINT', 'SNAPSHOT', 'SOME', 'SORT', 'SOURCE', 'SPACE', 'SPECIFICATION', 'SPFILE', 'SPLIT', 'SPREADSHEET', 'SQL', 'SQLLDR', 'SQL_TRACE', 'STANDBY', 'STAR', 'START', 'STARTUP', 'STAR_TRANSFORMATION', 'STATEMENT_ID', 'STATIC', 'STATISTICS', 'STOP', 'STORAGE', 'STORE', 'STREAMS', 'STRICT', 'STRIP', 'STRUCTURE', 'SUBMULTISET', 'SUBPARTITION', 'SUBPARTITIONS', 'SUBPARTITION_REL', 'SUBSTITUTABLE', 'SUCCESSFUL', 'SUMMARY', 'SUPPLEMENTAL', 'SUSPEND', 'SWAP_JOIN_INPUTS', 'SWITCH', 'SWITCHOVER', 'SYNONYM', 'SYSAUX', 'SYSDATE', 'SYSDBA', 'SYSOPER', 'SYSTEM', 'SYSTIMESTAMP', 'SYS_DL_CURSOR', 'SYS_FBT_INSDEL', 'SYS_OP_BITVEC', 'SYS_OP_CAST', 'SYS_OP_COL_PRESENT', 'SYS_OP_ENFORCE_NOT_NULL', '$SYS_OP_MINE_VALUE', 'SYS_OP_NOEXPAND', 'SYS_OP_NTCIMG', '$SYS_PARALLEL_TXN', 'SYS_RID_ORDER', 'TABLE', 'TABLES', 'TABLESPACE', 'TABLESPACE_NO', 'TABLE_STATS', 'TABNO', 'TEMPFILE', 'TEMPLATE', 'TEMPORARY', 'TEST', 'THAN', 'THE', 'THEN', 'THREAD', 'THROUGH', 'TIME', 'TIMEOUT', 'TIMESTAMP', 'TIMEZONE_ABBR', 'TIMEZONE_HOUR', 'TIMEZONE_MINUTE', 'TIMEZONE_REGION', 'TIME_ZONE', 'TIV_GB', 'TIV_SSF', 'TO', 'TOPLEVEL', 'TRACE', 'TRACING', 'TRACKING', 'TRAILING', 'TRANSACTION', 'TRANSITIONAL', 'TREAT', 'TRIGGER', 'TRIGGERS', 'TRUE', 'TRUNCATE', 'TRUSTED', 'TUNING', 'TX', 'TYPE', 'TYPES', 'TZ_OFFSET', 'UB2', 'UBA', 'UID', 'UNARCHIVED', 'UNBOUND', 'UNBOUNDED', 'UNDER', 'UNDO', 'UNDROP', 'UNIFORM', 'UNION', 'UNIQUE', 'UNLIMITED', 'UNLOCK', 'UNNEST', 'UNPACKED', 'UNPROTECTED', 'UNQUIESCE', 'UNRECOVERABLE', 'UNTIL', 'UNUSABLE', 'UNUSED', 'UPDATABLE', 'UPDATE', 'UPDATED', 'UPD_INDEXES', 'UPD_JOININDEX', 'UPGRADE', 'UPSERT', 'UROWID', 'USAGE', 'USE', 'USER', 'USER_DEFINED', 'USER_RECYCLEBIN', 'USE_ANTI', 'USE_CONCAT', 'USE_HASH', 'USE_MERGE', 'USE_NL', 'USE_NL_WITH_INDEX', 'USE_PRIVATE_OUTLINES', 'USE_SEMI', 'USE_STORED_OUTLINES', 'USE_TTT_FOR_GSETS', 'USE_WEAK_NAME_RESL', 'USING', 'VALIDATE', 'VALIDATION', 'VALUE', 'VALUES', 'VARCHAR', 'VARCHAR2', 'VARRAY', 'VARYING', 'VECTOR_READ', 'VECTOR_READ_TRACE', 'VERSION', 'VERSIONS', 'VIEW', 'WAIT', 'WELLFORMED', 'WHEN', 'WHENEVER', 'WHERE', 'WHITESPACE', 'WITH', 'WITHIN', 'WITHOUT', 'WORK', 'WRITE', 'XID', 'XMLATTRIBUTES', 'XMLCOLATTVAL', 'XMLELEMENT', 'XMLFOREST', 'XMLPARSE', 'XMLSCHEMA', 'XMLTYPE', 'X_DYN_PRUNE', 'YEAR', 'ZONE', '[', ']', '^', '|', 'ABS', 'ABSENT', 'ABSOLUTE', 'ACCORDING', 'ACTION', 'ADA', 'AGGREGATE', 'ALSO', 'ANALYSE', 'ARE', 'ARRAY_AGG', 'ARRAY_MAX_CARDINALITY', 'ASENSITIVE', 'ASSERTION', 'ASSIGNMENT', 'ASYMMETRIC', 'ATOMIC', 'AVG', 'BACKWARD', 'BASE64', 'BEGIN_FRAME', 'BEGIN_PARTITION', 'BERNOULLI', 'BIGINT', 'BINARY', 'BIT', 'BIT_LENGTH', 'BLOCKED', 'BOM', 'BOOLEAN', 'BREADTH', 'C', 'CALLED', 'CASCADED', 'CATALOG', 'CATALOG_NAME', 'CEIL', 'CEILING', 'CHAIN', 'CHARACTERISTICS', 'CHARACTERS', 'CHARACTER_LENGTH', 'CHARACTER_SET_CATALOG', 'CHARACTER_SET_NAME', 'CHARACTER_SET_SCHEMA', 'CHAR_LENGTH', 'CLASS_ORIGIN', 'COBOL', 'COLLATE', 'COLLATION', 'COLLATION_CATALOG', 'COLLATION_NAME', 'COLLATION_SCHEMA', 'COLUMN_NAME', 'COMMAND_FUNCTION', 'COMMAND_FUNCTION_CODE', 'COMMENTS', 'CONCURRENTLY', 'CONDITION', 'CONDITION_NUMBER', 'CONFIGURATION', 'CONFLICT', 'CONNECTION', 'CONNECTION_NAME', 'CONSTRAINT_CATALOG', 'CONSTRAINT_NAME', 'CONSTRAINT_SCHEMA', 'CONSTRUCTOR', 'CONTAINS', 'CONTROL', 'CONVERSION', 'COPY', 'CORR', 'CORRESPONDING', 'COUNT', 'COVAR_POP', 'COVAR_SAMP', 'CSV', 'CUME_DIST', 'CURRENT_CATALOG', 'CURRENT_DEFAULT_TRANSFORM_GROUP', 'CURRENT_PATH', 'CURRENT_ROLE', 'CURRENT_ROW', 'CURRENT_TRANSFORM_GROUP_FOR_TYPE', 'CURSOR_NAME', 'DATALINK', 'DATETIME_INTERVAL_CODE', 'DATETIME_INTERVAL_PRECISION', 'DB', 'DEFAULTS', 'DELIMITER', 'DELIMITERS', 'DEPENDS', 'DEPTH', 'DERIVED', 'DESCRIBE', 'DESCRIPTOR', 'DETERMINISTIC', 'DIAGNOSTICS', 'DISCARD', 'DISPATCH', 'DLNEWCOPY', 'DLPREVIOUSCOPY', 'DLURLCOMPLETE', 'DLURLCOMPLETEONLY', 'DLURLCOMPLETEWRITE', 'DLURLPATH', 'DLURLPATHONLY', 'DLURLPATHWRITE', 'DLURLSCHEME', 'DLURLSERVER', 'DLVALUE', 'DO', 'DOMAIN', 'DYNAMIC_FUNCTION', 'DYNAMIC_FUNCTION_CODE', 'ENCODING', 'END-EXEC', 'END_FRAME', 'END_PARTITION', 'ENUM', 'EQUALS', 'EVENT', 'EVERY', 'EXCEPTION', 'EXCLUDE', 'EXEC', 'EXP', 'EXPRESSION', 'EXTENSION', 'FAMILY', 'FETCH', 'FIRST_VALUE', 'FLAG', 'FLOOR', 'FORTRAN', 'FORWARD', 'FOUND', 'FRAME_ROW', 'FREE', 'FREEZE', 'FS', 'FUSION', 'G', 'GENERAL', 'GET', 'GO', 'GOTO', 'GRANTED', 'GREATEST', 'HANDLER', 'HEX', 'HOLD', 'ILIKE', 'IMMEDIATELY', 'IMMUTABLE', 'IMPLEMENTATION', 'IMPLICIT', 'INDENT', 'INHERIT', 'INHERITS', 'INOUT', 'INPUT', 'INSENSITIVE', 'INTERSECTION', 'INVOKER', 'ISNULL', 'K', 'KEY_MEMBER', 'KEY_TYPE', 'LABEL', 'LAG', 'LANGUAGE', 'LARGE', 'LAST_VALUE', 'LEAD', 'LEAKPROOF', 'LEAST', 'LIKE_REGEX', 'LISTEN', 'LN', 'LOAD', 'LOGGED', 'LOWER', 'M', 'MAP', 'MATCH', 'MAX_CARDINALITY', 'MESSAGE_LENGTH', 'MESSAGE_OCTET_LENGTH', 'MESSAGE_TEXT', 'MOD', 'MODIFIES', 'MODULE', 'MORE', 'MUMPS', 'NAMES', 'NAMESPACE', 'NESTING', 'NFC', 'NFD', 'NFKC', 'NFKD', 'NIL', 'NORMALIZE', 'NORMALIZED', 'NOTIFY', 'NOTNULL', 'NTH_VALUE', 'NTILE', 'NULLABLE', 'NULLIF', 'OCCURRENCES_REGEX', 'OCTETS', 'OCTET_LENGTH', 'OFFSET', 'OIDS', 'OPTIONS', 'ORDERING', 'ORDINALITY', 'OTHERS', 'OUT', 'OUTPUT', 'OVERLAY', 'OVERRIDING', 'OWNED', 'OWNER', 'P', 'PAD', 'PARAMETER', 'PARAMETER_MODE', 'PARAMETER_NAME', 'PARAMETER_ORDINAL_POSITION', 'PARAMETER_SPECIFIC_CATALOG', 'PARAMETER_SPECIFIC_NAME', 'PARAMETER_SPECIFIC_SCHEMA', 'PARSER', 'PARTIAL', 'PASCAL', 'PASSING', 'PASSTHROUGH', 'PATH', 'PERCENTILE_CONT', 'PERCENTILE_DISC', 'PERCENT_RANK', 'PERIOD', 'PERMISSION', 'PLACING', 'PLANS', 'PLI', 'PORTION', 'POSITION', 'POSITION_REGEX', 'PRECEDES', 'PREPARED', 'PROCEDURAL', 'QUOTE', 'RANK', 'REASSIGN', 'RECHECK', 'RECURSIVE', 'REGR_AVGX', 'REGR_AVGY', 'REGR_COUNT', 'REGR_INTERCEPT', 'REGR_R2', 'EXIT', 'PRINT', 'PROC', 'FILLFACTOR', 'RAISERROR', 'FREETEXT', 'READTEXT', 'BREAK', 'FREETEXTTABLE', 'RECONFIGURE', 'BROWSE', 'REPLICATION', 'RESTORE', 'HOLDLOCK', 'CLUSTERED', 'ROWCOUNT', 'IDENTITY_INSERT', 'ROWGUIDCOL', 'IDENTITYCOL', 'SAVE', 'SESSION_USER', 'CONTAINSTABLE', 'SETUSER', 'SYSTEM_USER', 'TEXTSIZE', 'LINENO', 'TOP', 'TRAN', 'NOCHECK', 'DBCC', 'NONCLUSTERED', 'TSEQUAL', 'DENY', 'OFFSETS', 'UPDATETEXT', 'OPENDATASOURCE', 'OPENQUERY', 'OPENROWSET', 'DUMMY', 'OPENXML', 'WAITFOR', 'WHILE', 'ERRLVL', 'WRITETEXT', 'l', 's', 'rk', 'seq', 'ms', 'XXfieldXX'];\n\n// 保留的字段标识\nvar RESERVEDFILEDKEYS = ['l', 's', 'rk', 'seq', 'ms', 'XXfieldXX'];\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/utils/constant.ts?");

/***/ }),

/***/ 96708:
/*!*************************************************************!*\
  !*** ../form-entity-designer-utils/utils/controlIconMap.ts ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   controlIconMap: function() { return /* binding */ controlIconMap; },\n/* harmony export */   \"default\": function() { return /* binding */ getControlIconMap; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/taggedTemplateLiteral */ 59000);\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18, _templateObject19, _templateObject20, _templateObject21, _templateObject22, _templateObject23, _templateObject24, _templateObject25, _templateObject26, _templateObject27, _templateObject28, _templateObject29, _templateObject30, _templateObject31, _templateObject32, _templateObject33, _templateObject34, _templateObject35, _templateObject36, _templateObject37, _templateObject38, _templateObject39, _templateObject40, _templateObject41, _templateObject42, _templateObject43, _templateObject44, _templateObject45, _templateObject46, _templateObject47, _templateObject48, _templateObject49, _templateObject50, _templateObject51;\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-26 14:43:08\n * @Last Modified by: fjr\n * @LastEditTime: 2024-07-30 09:07:44\n * @Description: 采用脚本生成了一波iconcool上的图标与对应的控件，后面人工补充\n */\n// 通用： Flexmianban 类似Flex面板\nvar getDefaultType = function getDefaultType(type) {\n  return 'Flexmianban';\n};\nvar getInputType = function getInputType(type) {\n  return type;\n};\nvar controlIconMap = {\n  // 分组 基础控件:\n  TextField: getInputType('wenben'),\n  // 文本,\n  IntegerField: 'zhengshu2',\n  // 整数,\n  DecimalField: 'xiaoshu',\n  // 小数,\n  BigIntField: 'changzhengshu',\n  // 长整数,\n  TextAreaField: 'duoxingwenben',\n  // 多行文本,\n  LargeTextField: 'dawenben',\n  // 大文本,\n  MuliLangTextField: 'duoyuyanwenben',\n  // 多语言文本,\n  DateField: 'riqi4',\n  // 日期,\n  DateTimeField: 'changriqi',\n  // 长日期,\n  DateRangeField: 'riqifanwei',\n  // 日期范围,\n  TimeField: 'shijian3',\n  // 时间,\n  TimeRangeField: 'shijianfanwei',\n  // 时间范围,\n  CheckBoxField: 'fuxuankuang',\n  // 复选框,\n  RadioField: 'danxuananniu',\n  // 单选按钮,\n  RadioGroupField: 'danxuananniuzu',\n  // 单选按钮组,\n  ComboField: 'xialaliebiao',\n  // 下拉列表,\n  MulComboField: 'duoxuanxialaliebiao',\n  // 多选下拉列表,\n  AttachmentField: 'fujian2',\n  // 附件,\n  StepperField: 'bujinqi',\n  // 步进器,\n  GeoPointField: 'diliweizhi',\n  // 地理位置,\n  SignatureField: 'shouxieqianming',\n  // 手写签名,\n  RichTextField: 'fuwenben2',\n  // 富文本字段,\n  I18nNameField: 'xingming',\n  // 姓名,\n  ButtonAp: 'anniu3',\n  // 按钮,\n  HyperlinkAp: 'chaolianjie',\n  // 超链接,\n  AttachmentPanelAp: 'fujianmianban',\n  // 附件面板,\n  FormDesignerAp: 'biaodanshejiqi',\n  // 表单设计器,\n  ProFormDesignerAp: getDefaultType('biaodanshejiqi'),\n  // 表单设计器(new),\n  SchemeFilterComboFieldAp: 'fanganxialaliebiao',\n  // 方案下拉列表,\n  FormulaField: 'jisuanziduan',\n  // 计算字段,\n  ExchangeRateField: 'waibihuilv',\n  // 外币汇率,\n  NameSegTextField: 'wenbenxingmingduan',\n  // 文本姓名段,\n  NameSegComboField: 'xialaliebiaoxingmingduan',\n  // 下拉列表姓名段\n  EntityDesignerAp: getDefaultType('zhanweitubiao_notright'),\n  // 分组 业务控件:\n  BillNoField: getDefaultType('danjubianhao'),\n  // 单据编号,\n  BillTypeField: getDefaultType('danjuleixing'),\n  // 单据类型,\n  BasedataField: 'jichuziliao2',\n  // 基础资料,\n  MulBasedataField: 'duoxuanjichuziliao',\n  // 多选基础资料,\n  AssistantField: 'fuzhuziliao',\n  // 辅助资料,\n  BasedataPropField: 'jichuziliaoshuxing',\n  // 基础资料属性,\n  OrgField: 'zuzhi',\n  // 组织,\n  MaterielField: 'wuliao',\n  // 物料,\n  CurrencyField: 'bibie',\n  // 币别,\n  CityField: 'chengshi',\n  // 城市,\n  UnitField: 'jiliangdanwei',\n  // 计量单位,\n  PriceField: 'danjia',\n  // 单价,\n  QtyField: 'shuliang',\n  // 数量,\n  AmountField: 'jine2',\n  // 金额,\n  BillStatusField: 'danjuzhuangtai',\n  // 单据状态,\n  GroupField: 'fenzu2',\n  // 分组,\n  FlexField: 'danxingyu2',\n  // 弹性域,\n  AdminDivisionField: 'xingzhengquyu',\n  // 行政区划,\n  AttachmentCountField: getDefaultType('fujianshu'),\n  // 附件数,\n  PrintCountField: 'dayincishu',\n  // 打印次数,\n  BaseUnitqtyField: 'jibendanweishuliang',\n  // 基本单位数量,\n  ItemClassTypeField: getDefaultType(_templateObject || (_templateObject = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"jichuziliaoleixing\"]))),\n  // 基础资料类型,\n  ItemClassField: 'duoleibiejichuziliao',\n  // 多类别基础资料,\n  AddressField: 'dizhi',\n  // 地址,\n  AccountField: 'kemu',\n  // 科目,\n  CustomerField: 'kehu2',\n  // 客户,\n  SupplierField: 'gongyingshang',\n  // 供应商,\n  MasterIdField: getDefaultType('zhushujuneima'),\n  // 主数据内码,\n  ExchangeRateGroupField: 'waibihuilv',\n  // 外币汇率,\n  CustomBaseDataFilterColumnAp: 'jichuziliao',\n  // 基础资料,\n  CustomOrgFilterColumnAp: 'zuzhi',\n  // 组织,\n  NameSegBasedataField: 'jichuziliaoxingmingduan',\n  // 基础资料姓名段\n\n  // 分组 单据体:\n  EntryEntity: 'danjuti',\n  // 单据体,\n  SubEntryEntity: getDefaultType('zidanjuti'),\n  // 子单据体,\n  TreeEntryEntity: getDefaultType('biaodanshejiqi'),\n  // 树形单据体,\n  EntryFieldGroupAp: getDefaultType('biaogeziduanfenzu'),\n  // 表格字段分组,\n  OperationColumnAp: getDefaultType('caozuolie'),\n  // 操作列,\n  EntryFieldContainerAp: getDefaultType('biaogeziduanrongqi'),\n  // 表格字段容器,\n  CardEntryAp: 'kapianfenlu2',\n  // 卡片分录,\n  SubCardEntryAp: 'zikapianfenlu',\n  // 子卡片分录,\n  //   CardEntryAp: `kapianfenlu`, // 卡片分录\n\n  // 分组 视图:\n  LabelAp: 'biaoqian',\n  // 标签,\n  VectorAp: 'zititubiao',\n  // 字体图标,\n  QRCodeAp: 'erweima',\n  // 二维码,\n  ProgressBarAp: 'jindutiao',\n  // 进度条,\n  CarouselFigureAp: 'lunbotu',\n  // 轮播图,\n  TimelineAp: 'shijianzhou',\n  // 时间轴,\n  RateAp: 'pingfen',\n  // 评分,\n  TransferContainerAp: 'chuansuokuang',\n  // 穿梭框,\n  SliderAp: 'huadongshurutiao',\n  // 滑动输入条,\n  StepsAp: 'buzhoutiao',\n  // 步骤条,\n  SegmentedControlAp: 'fenduanqi',\n  // 分段器\n\n  // 分组 用户信息:\n  EmailField: 'youxiang',\n  // 邮箱,\n  TelephoneField: 'shoujihaoma',\n  // 手机号码,\n  UserField: 'yonghu2',\n  // 用户,\n  CreaterField: 'chuangjianren',\n  // 创建人,\n  ModifierField: 'xiugairen',\n  // 修改人,\n  CreateDateField: 'chuangjianriqi',\n  // 创建日期,\n  ModifyDateField: 'xiugairiqi',\n  // 修改日期,\n  UserAvatarField: 'yuangongtouxiangshuxing',\n  // 员工头像属性,\n  NameField: 'xingming',\n  // 姓名\n\n  // 分组 列表控件:\n  CardEntryFlexPanelAp: getDefaultType('kapianbujurongqi'),\n  // 卡片布局容器,\n  CardEntryFixRowPanelAp: getDefaultType('gudingkapianbujurongqi'),\n  // 固定卡片布局容器,\n  MobTableAp: 'yidongbiaoge',\n  // 移动表格,\n  BillListAp: getDefaultType(_templateObject2 || (_templateObject2 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"danjuliebiao\"]))),\n  // 单据列表,\n  CardFlexPanelAp: getDefaultType(_templateObject3 || (_templateObject3 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"kapianbujurongqi\"]))),\n  // 卡片布局容器,\n  DynamicTextListColumnAp: getDefaultType(_templateObject4 || (_templateObject4 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"liebiaodongtaiwenben\"]))),\n  // 列表动态文本,\n  ListColumnAp: getDefaultType(_templateObject5 || (_templateObject5 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogeliebiaoziduan\"]))),\n  // 表格列表字段,\n  ListColumnGroupAp: 'liebiaoziduanfenzu',\n  // 列表字段分组,\n  ListOperationColumnAp: getDefaultType(_templateObject6 || (_templateObject6 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"liebiaocaozuolie\"]))),\n  // 列表操作列,\n  MergeListColumnAp: 'hebingliebiaoziduan',\n  // 合并列表字段,\n  CardListColumnAp: 'kapianliebiaoziduan',\n  // 卡片列表字段,\n  CardPictureListColumnAp: getDefaultType(_templateObject7 || (_templateObject7 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"kapiantupianziduan\"]))),\n  // 卡片图片字段,\n  CardTimeListColumnAp: getDefaultType(_templateObject8 || (_templateObject8 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"kapianshijianziduan\"]))),\n  // 卡片时间字段,\n  F7SelectedListAp: 'F7yixuanliebiao',\n  // F7已选列表,\n  CardSelectorAp: getDefaultType(_templateObject9 || (_templateObject9 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"kapianxuanzebiaozhi\"]))),\n  // 卡片选择标志,\n  ComboListColumnAp: 'Flexmianban',\n  // 表格列表字段,\n  MulComboListColumnAp: 'Flexmianban',\n  // 表格列表字段,\n  CheckBoxListColumnAp: 'biaogeliebiaoziduan',\n  // 表格列表字段,\n  DateListColumnAp: getDefaultType(_templateObject10 || (_templateObject10 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogeliebiaoziduan\"]))),\n  // 表格列表字段,\n  DecimalListColumnAp: 'zhengshu2',\n  // 表格列表字段,\n  PictureListColumnAp: 'biaogeliebiaoziduan',\n  // 表格列表字段,\n  TimeListColumnAp: getDefaultType(_templateObject11 || (_templateObject11 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogeliebiaoziduan\"]))),\n  // 表格列表字段,\n  IconListColumnAp: 'biaogeliebiaoziduan',\n  // 表格列表字段,\n  AvatarListColumnAp: 'biaogeliebiaoziduan',\n  // 表格列表字段,\n  FlexListColumnAp: 'biaogeliebiaoziduan',\n  // 表格列表字段,\n  CardComboListColumnAp: 'Flexmianban',\n  // 卡片下拉列表列表字段,\n  CardMulComboListColumnAp: 'Flexmianban',\n  // 卡片多选下拉列表列表字段,\n  CardCheckBoxListColumnAp: 'kapianfuxuankuangliebiaoziduan',\n  // 卡片复选框列表字段,\n  CardDecimalListColumnAp: 'kapianshuziliebiaoziduan',\n  // 卡片数字列表字段,\n  CardDateListColumnAp: getDefaultType(_templateObject12 || (_templateObject12 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"riqixuanze\"]))),\n  // 卡片日期列表字段,\n  CardIconListColumnAp: 'kapiantubiaoliebiaoziduan',\n  // 卡片图标列表字段,\n  CardAvatarListColumnAp: 'kapianyuangongtouxiangliebiaoziduan',\n  // 卡片员工头像列表字段,\n  CardFlexListColumnAp: 'kapiandanxingyuliebiaoziduan',\n  // 卡片弹性域列表字段,\n  CardVoucherNoListColumnAp: 'kapianpingzhenghao',\n  // 卡片凭证号,\n  ReportTreeAp: 'baobiaoshu',\n  // 报表树,\n  TextMobTableColumnAp: getDefaultType(_templateObject13 || (_templateObject13 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogewenben\"]))),\n  // 表格文本,\n  IntegerMobTableColumnAp: getDefaultType(_templateObject14 || (_templateObject14 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogezhengshu\"]))),\n  // 表格整数,\n  DecimalMobTableColumnAp: getDefaultType(_templateObject15 || (_templateObject15 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogexiaoshu\"]))),\n  // 表格小数,\n  DateMobTableColumnAp: getDefaultType(_templateObject16 || (_templateObject16 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogeriqi\"]))),\n  // 表格日期,\n  TimeMobTableColumnAp: getDefaultType(_templateObject17 || (_templateObject17 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogeshijian\"]))),\n  // 表格时间,\n  AmountMobTableColumnAp: getDefaultType(_templateObject18 || (_templateObject18 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogejine\"]))),\n  // 表格金额\n\n  // 分组 多媒体:\n  PictureField: 'tupian3',\n  // 图片字段,\n  ImageAp: 'tupian3',\n  // 图片,\n  ImageListAp: 'tupianliebiao',\n  // 图片列表\n\n  // 分组 容器控件:\n  FlexPanelAp: 'Flexmianban',\n  // Flex面板,\n  AdvConAp: 'gaojimianban',\n  // 高级面板,\n  SplitContainerAp: 'fengerongqi',\n  // 分割容器,\n  SplitPanelAp: 'fengerongqimianban',\n  // 分割容器面板\n\n  // 分组 导航控件:\n  TabAp: 'yeqiankongjian',\n  // 页签控件,\n  WizardAp: 'xiangdaokongjian',\n  // 向导控件,\n  AdvConToolbarAp: getDefaultType(_templateObject19 || (_templateObject19 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"gaojimianbangongjulan\"]))),\n  // 高级面板工具栏,\n  ToolbarAp: getDefaultType(_templateObject20 || (_templateObject20 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"gongjulan\"]))),\n  // 工具栏,\n  FloatMenuAp: 'fudongcaidan',\n  // 浮动菜单,\n  FloatMenuPanelAp: getDefaultType(_templateObject21 || (_templateObject21 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"fudongcaidanmianban\"]))),\n  // 浮动菜单面板,\n  FloatMenuItemAp: getDefaultType(_templateObject22 || (_templateObject22 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"fudongcaidanxiang\"]))),\n  // 浮动菜单项,\n  HomePageTabAp: getDefaultType(_templateObject23 || (_templateObject23 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"shouyedaohangkongjian\"]))),\n  // 首页导航控件,\n  AdvConBarItemAp: 'anniu3',\n  // 工具栏项,\n  BarItemAp: 'anniu3',\n  // 工具栏项,\n  MBlockMenuAp: 'kuaizhuangcaidan',\n  // 块状菜单,\n  MBlockMenuItemAp: 'kuaizhuangcaidanxiang',\n  // 块状菜单项,\n  MToolbarAp: 'gongjulan',\n  // 工具栏,\n  MBarItemAp: 'anniu3',\n  // 工具栏项\n\n  // 分组 过滤控件:\n  FilterGridAp: 'tongyongguolv',\n  // 通用过滤,\n  SearchAp: 'sousuokongjian',\n  // 搜索控件,\n  SortColumnAp: 'paixuziduan',\n  // 排序字段,\n  CommonBaseDataFilterColumnAp: 'changyongguolvziduan',\n  // 常用基础资料过滤字段,\n  SchemeBaseDataFilterColumnAp: 'fanganjichuziliaoguolvziduan',\n  // 方案基础资料过滤字段,\n  PHAp: 'zhanweikongjian',\n  // 占位控件,\n  ReportFilterAp: 'zidingyiguolv',\n  // 自定义过滤,\n  ReportCommFilterPanelAp: 'changyongguolvtiaojian',\n  // 常用过滤条件,\n  ReportMoreFilterPanelAp: 'gengduoguolvtiaojian',\n  // 更多过滤条件,\n  MobileSearchAp: 'sousuokongjian',\n  // 搜索控件,\n  MobCommonFilterColumnAp: 'yidongchangyongguolvziduan',\n  // 移动常用过滤字段,\n  MobCommonDateFilterColumnAp: 'yidongchangyongriqiguolvziduan',\n  // 移动常用日期过滤字段,\n  MobCommonCheckBoxFilterColumnAp: 'changyongfuxuankuangguolvziduan',\n  // 常用复选框过滤字段,\n  MobCommonBaseDataFilterColumnAp: 'changyongguolvziduan',\n  // 移动常用基础资料过滤字段,\n  FilterContainerAp: 'guolvkongjian',\n  // 过滤控件,\n  FilterGridViewAp: 'changyongguolvshitu',\n  // 常用过滤视图,\n  SchemeFilterViewAp: 'fanganguolvshitu',\n  // 方案过滤视图,\n  FilterColumnAp: 'guolvziduan',\n  // 过滤字段,\n  CommonFilterColumnAp: 'changyongguolvziduan',\n  // 常用过滤字段,\n  SchemeFilterColumnAp: 'changyongguolvziduan',\n  // 方案过滤字段,\n  SchemeComboFilterColumnAp: 'xialaliebiao',\n  // 下拉列表字段,\n  FlexSchemeFilterColumnAp: getDefaultType(_templateObject24 || (_templateObject24 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"danxingyufanganguolvziduan\"]))),\n  // 弹性域方案过滤字段,\n  CommonDateFilterColumnAp: getDefaultType(_templateObject25 || (_templateObject25 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"riqiguolvziduan\"]))),\n  // 日期过滤字段,\n  CommonCheckBoxFilterColumnAp: getDefaultType(_templateObject26 || (_templateObject26 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"fuxuankuangguolvziduan\"]))),\n  // 复选框过滤字段,\n  CommonCheckBoxGroupFilterColumnAp: getDefaultType(_templateObject27 || (_templateObject27 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"fuxuankuangzuziduan\"]))),\n  // 复选框组字段\n\n  // 分组 图表控件:\n  BarChartAp: getDefaultType(_templateObject28 || (_templateObject28 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"tiaoxingtu\"]))),\n  // 条型图,\n  HistogramChartAp: getDefaultType(_templateObject29 || (_templateObject29 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"zhuzhuangtu\"]))),\n  // 柱状图,\n  PieChartAp: 'bingtu',\n  // 饼图,\n  PointLineChartAp: 'dianxiantu',\n  // 点线图,\n  RadarChartAp: getDefaultType(_templateObject30 || (_templateObject30 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"leidatu\"]))),\n  // 雷达图,\n  CustomChartAp: getDefaultType(_templateObject31 || (_templateObject31 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"tongyongtu\"]))),\n  // 通用图,\n  QingAnalysisAp: 'qingfenxi',\n  // 轻分析,\n  GaugeChartAp: getDefaultType(_templateObject32 || (_templateObject32 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"yibiaopan\"]))),\n  // 仪表盘\n\n  // 分组 工作流:\n  ReportListAp: 'baobiaoliebiao',\n  // 报表列表,\n  ApprovalRecordAp: 'shenpijilu',\n  // 审批记录\n\n  // 分组 编辑器:\n  CodeEditAp: 'daimabianjiqi',\n  // 代码编辑器,\n  RichTextEditorAp: 'fuwenbenbianjiqi',\n  // 富文本编辑器\n\n  // 分组 高级控件:\n  IFrameAp: 'IFrame',\n  // IFrame,\n  ClientAjaxAp: 'kehuduanAJAX',\n  // 客户端AJAX,\n  HtmlAp: 'HTMLkongjian',\n  // HTML控件,\n  SpreadAp: 'spread',\n  // Spread,\n  WebOfficeAp: 'weboffice',\n  // WebOffice,\n  TaskNoticeAp: 'houtairenwutixing',\n  // 后台任务提醒\n\n  // 分组 其它:\n  TreeViewAp: 'shuxingkongjian',\n  // 树型控件,\n  MapControlAp: 'ditu',\n  // 地图,\n  AnchorControlAp: 'maodian',\n  // 锚点,\n  AudioAp: 'yinpin',\n  // 音频,\n  VideoAp: 'shipin',\n  // 视频,\n  MarkdownAp: 'Markdown',\n  // Markdown,\n  CountDownAp: 'daojishi',\n  // 倒计时,\n  ListboxAp: 'Listbox',\n  // Listbox,\n  CustomControlAp: 'zidingyikongjian',\n  // 自定义控件,\n  LittleKAp: 'Cosmic',\n  // Cosmic,\n  AppNavigationMenuAp: getDefaultType(_templateObject33 || (_templateObject33 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"yingyongdaohangcaidan\"]))),\n  // 应用导航菜单,\n  FieldsetPanelAp: getDefaultType(_templateObject34 || (_templateObject34 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"ziduanbujumianban\"]))),\n  // 字段布局面板,\n  FieldgroupPanelAp: getDefaultType(_templateObject35 || (_templateObject35 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"ziduanzuherongqi\"]))),\n  // 字段组合容器,\n  MessageCarouselContainerAp: 'lunborongqi',\n  // 轮播容器,\n  MessageCarouselFlexPanelAp: getDefaultType(_templateObject36 || (_templateObject36 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"lunbobujurongqi\"]))),\n  // 轮播布局容器,\n  GridContainerAp: 'zhagerongqi',\n  // 栅格容器,\n  NameCombineEntity: 'guojixingming',\n  // 国际姓名,\n  LayoutFlexAp: 'ziduanbujurongqi',\n  // 字段布局容器,\n  TabPageAp: getDefaultType(_templateObject37 || (_templateObject37 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"yeqian\"]))),\n  // 页签,\n  HomePageTabItemAp: 'daohangxiang',\n  // 导航项,\n  WizardPageAp: 'xiangdaoye',\n  // 向导页,\n  AdvConSummaryPanelAp: getDefaultType(_templateObject38 || (_templateObject38 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"gaojimianbanzhaiyaorongqi\"]))),\n  // 高级面板摘要容器,\n  AdvConChildPanelAp: getDefaultType(_templateObject39 || (_templateObject39 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"gaojimianbanzirongqi\"]))),\n  // 高级面板子容器,\n  ColumnPanelAp: 'liebujumianban',\n  // 列布局面板,\n  ColumnAp: 'liebujumianbanlieduixiang',\n  // 列布局面板列对象,\n  ListGridViewAp: getDefaultType(_templateObject40 || (_templateObject40 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogeshitu\"]))),\n  // 表格视图,\n  ListCardViewAp: getDefaultType(_templateObject41 || (_templateObject41 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"kapianshitu\"]))),\n  // 卡片视图,\n  QingViewAp: getDefaultType(_templateObject42 || (_templateObject42 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"qingfenxishitu\"]))),\n  // 轻分析视图,\n  CardRowPanelAp: getDefaultType(_templateObject43 || (_templateObject43 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"kapian\"]))),\n  // 卡片,\n  CardEntryViewAp: getDefaultType(_templateObject44 || (_templateObject44 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"kapianfenlushitu\"]))),\n  // 卡片分录视图,\n  CardEntryRowAp: getDefaultType(_templateObject45 || (_templateObject45 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"kapian\"]))),\n  // 卡片,\n  CardEntryFixRowAp: getDefaultType(_templateObject46 || (_templateObject46 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"gudingkapian\"]))),\n  // 固定卡片,\n  SortGridViewAp: 'paixushitu',\n  // 排序视图,\n  DateSelectPanelAp: 'riqixuanze',\n  // 日期选择,\n  MobileListAp: 'yidongliebiao',\n  // 移动列表,\n  CityListAp: 'chengshiliebiao',\n  // 城市列表,\n  UserListAp: 'yonghuliebiao',\n  // 用户列表,\n  OrgListAp: 'zuzhiliebiao',\n  // 组织列表,\n  SidePanelAp: 'cebianlan',\n  // 侧边栏,\n  GridFlatPanelAp: 'fenlupingpurongqi',\n  // 分录平铺容器,\n  MobileTreeListAp: 'yidongshuxingliebiao',\n  // 移动树形列表,\n  MobF7SelectedListAp: 'yidongF7yixuanliebiao',\n  // 移动F7已选列表,\n  PrintDesignerAp: 'dayinshejiqi',\n  // 打印设计器,\n  TreeMenuAp: 'shuxingcaidan',\n  // 树型菜单,\n  VoucherNoListColumnAp: getDefaultType(_templateObject47 || (_templateObject47 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"pingzhenghao\"]))),\n  // 凭证号,\n  WidgetContainerAp: 'xiaobujianrongqi',\n  // 小部件容器,\n  WidgetGroupPanelAp: 'xiaobujianfenzumianban',\n  // 小部件分组面板,\n  WidgetAp: 'xiaobujian',\n  // 小部件,\n  QingAnalysisCardAp: getDefaultType(_templateObject48 || (_templateObject48 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"qingfenxikapian\"]))),\n  // 轻分析卡片,\n  EntityMetadata: 'shitiyuanshujuduixiang',\n  // 实体元数据对象,\n  MainEntity: 'biaodanzhushiti',\n  // 表单主实体,\n  BaseEntity: 'jichuziliaozhushiti',\n  // 基础资料主实体,\n  BillEntity: 'Flexmianban',\n  // 单据主实体,\n  ReportEntity: 'baobiaoshiti',\n  // 报表实体,\n  ParameterEntity: 'xitongcanshuzhushiti',\n  // 系统参数主实体,\n  PublicParameterEntity: 'gonggongcanshuzhushiti',\n  // 公共参数主实体,\n  Operation: '',\n  // undefined,\n  NetCtrlOperation: '',\n  // undefined,\n  PermissionItem: '',\n  // undefined,\n  NoneParameter: '',\n  // undefined,\n  AuditParameter: '',\n  // undefined,\n  CopyParameter: '',\n  // undefined,\n  DelParameter: '',\n  // undefined,\n  EntryOpParameter: '',\n  // undefined,\n  NewEntryParameter: '',\n  // undefined,\n  CopyEntryParameter: '',\n  // undefined,\n  SaveParameter: '',\n  // undefined,\n  OpenFormParameter: '',\n  // undefined,\n  PushAndSaveParameter: '',\n  // undefined,\n  PushParameter: '',\n  // undefined,\n  DrawParameter: '',\n  // undefined,\n  TrackUpParameter: '',\n  // undefined,\n  TrackDownParameter: '',\n  // undefined,\n  UnAuditParameter: '',\n  // undefined,\n  StatusConvertParameter: '',\n  // undefined,\n  RowStatusConvertParameter: '',\n  // undefined,\n  JsParameter: '',\n  // undefined,\n  FlowchartParameter: '',\n  // undefined,\n  ImportParameter: '',\n  // undefined,\n  ExportParameter: '',\n  // undefined,\n  DoNothingParameter: '',\n  // undefined,\n  CustOperationParameter: '',\n  // undefined,\n  ValidParameter: '',\n  // undefined,\n  PrintParameter: '',\n  // undefined,\n  Validation: '',\n  // undefined,\n  PreCondition: '',\n  // undefined,\n  MustInputValidation: '',\n  // undefined,\n  ConditionValidation: '',\n  // undefined,\n  RegexValidation: '',\n  // undefined,\n  RequiredValidation: '',\n  // undefined,\n  GrpfieldsuniqueValidation: '',\n  // undefined,\n  InProcessValidation: '',\n  // undefined,\n  CustValidation: '',\n  // undefined,\n  DynamicValidation: '',\n  // undefined,\n  Features: '',\n  // undefined,\n  UploadOption: '',\n  // undefined,\n  ImportPreInsFile: '',\n  // undefined,\n  Tips: '',\n  // undefined,\n  CertRule: '',\n  // undefined,\n  IconField: 'tubiao',\n  // 图标,\n  DefValueDesign: '',\n  // undefined,\n  ConfigItem: '',\n  // undefined,\n  Border: '',\n  // undefined,\n  Style: '',\n  // undefined,\n  FormMetadata: 'biaodanyuanshujuduixiang',\n  // 表单元数据对象,\n  FormAp: 'Flexmianban',\n  // 表单布局,\n  BillFormAp: 'Flexmianban',\n  // 单据布局,\n  ListFormAp: 'Flexmianban',\n  // 列表布局,\n  BasedataFormAp: 'Flexmianban',\n  // 基础资料布局,\n  MobileBillFormAp: 'Flexmianban',\n  // 移动单据布局,\n  MobileListFormAp: 'Flexmianban',\n  // 移动列表布局,\n  MobileFormAp: 'Flexmianban',\n  // 移动表单布局,\n  Plugin: '',\n  // undefined,\n  FilterField: '',\n  // undefined,\n  ReportFormAp: 'baobiaobiaodan',\n  // 报表表单,\n  MobFilterSortAp: 'yidongshaixuanpaixu',\n  // 移动筛选排序,\n  MobFilterPanelAp: 'yidongshaixuanziduanmianban',\n  // 移动筛选字段面板,\n  MobAdvFilterPanelAp: 'gaojishaixuanmianban',\n  // 高级筛选面板,\n  MobSortPanelAp: 'yidongpaixuziduanmianban',\n  // 移动排序字段面板,\n  MobSortColumnAp: 'yidongpaixuziduan',\n  // 移动排序字段,\n  ParameterFormAp: 'xitongcanshu',\n  // 系统参数,\n  IconAp: 'weitutubiao',\n  // 位图图标,\n  FloatButtonAp: 'fudonganniu',\n  // 浮动按钮,\n  VectorListAp: 'zititubiaoliebiao',\n  // 字体图标列表,\n  WorkflowDesignerAp: 'gongzuoliushejiqi',\n  // 工作流设计器,\n  ApprovalProcessingAp: 'shenpichuli',\n  // 审批处理,\n  YzjChatAp: 'yunzhijiagoutong',\n  // 云之家沟通,\n  WFNavigationBarAp: 'daohanglan',\n  // 导航栏,\n  WfConditionAp: 'renwuzhongxintiaojian',\n  // 任务中心条件,\n  WfConditionUpdAp: 'shejiqitiaojian',\n  // 设计器条件,\n  WorkCalendarAp: 'gongzuorili',\n  // 工作日历,\n  OCRAp: 'fapiaoshibie',\n  // 发票识别,\n  BizCustomListAp: 'kaifazhemenhuzidingyiliebiao',\n  // 开发者门户自定义列表,\n  FlatFieldAp: 'fenlupingpuziduan',\n  // 分录平铺字段,\n  SuspendButtonAp: 'xuanfuanniu',\n  // 悬浮按钮,\n  CommonFunctionControlAp: 'changyonggongnengkongjian',\n  // 常用功能控件,\n  TilePanelAp: 'pingpumianban',\n  // 平铺面板,\n  HelpCenterAp: 'bangzhuzhongxin',\n  // 帮助中心,\n  AppStartedAp: 'yingyongrumen',\n  // 应用入门,\n  NameCombinePanelAp: 'guojixingming',\n  // 国际姓名,\n  NameSegFieldAp: 'xingmingduanziduan',\n  // 姓名段字段,\n  I18nNameFieldAp: 'xingming',\n  // 姓名,\n  FieldAp: 'ziduan',\n  // 字段,\n  EntryAp: 'fenludaili',\n  // 分录代理,\n  EntryFieldAp: 'fenluziduan',\n  // 分录字段,\n  CardEntryFieldAp: 'kapianziduan',\n  // 卡片字段,\n  FormRule: 'guize',\n  // 规则,\n  LockFieldAction: 'suodingziduan',\n  // 锁定字段,\n  UnlockFieldAction: 'jiesuoziduan',\n  // 解锁字段,\n  ShowFieldAction: 'xianshiziduan',\n  // 显示字段,\n  HideFieldAction: 'yincangziduan',\n  // 隐藏字段,\n  LockControlAction: 'suodingkongjian',\n  // 锁定控件,\n  UnlockControlAction: 'jiesuokongjian',\n  // 解锁控件,\n  ShowControlAction: 'xianshikongjian',\n  // 显示控件,\n  HideControlAction: 'yincangkongjian',\n  // 隐藏控件,\n  ClientLockFieldAction: 'suodingziduan',\n  // 锁定字段,\n  ClientUnlockFieldAction: 'jiesuoziduan',\n  // 解锁字段,\n  ClientShowFieldAction: 'xianshiziduan',\n  // 显示字段,\n  ClientHideFieldAction: 'yincangziduan',\n  // 隐藏字段,\n  ClientLockControlAction: 'suodingkongjian',\n  // 锁定控件,\n  ClientUnlockControlAction: 'jiesuokongjian',\n  // 解锁控件,\n  ClientShowControlAction: 'xianshikongjian',\n  // 显示控件,\n  ClientHideControlAction: 'yincangkongjian',\n  // 隐藏控件,\n  ClientSetControlAction: 'shezhikongjianshuxing',\n  // 设置控件属性,\n  ClientSetFieldAction: 'shezhiziduanshuxing',\n  // 设置字段属性,\n  ClientSetFieldfmtAction: 'shezhiziduanxianshiyangshi',\n  // 设置字段显示样式,\n  SetRowStyleAction: 'shezhihangyangshi',\n  // 设置行样式,\n  BizRule: 'guize',\n  // 规则,\n  FormulaAction: 'gongshijisuan',\n  // 公式计算,\n  TakeBasePropertyAction: 'xiedaijichuziliaoshuxingdaozhidinglie',\n  // 携带基础资料属性到指定列,\n  SetEqutionAction: 'shezhidangqianbianjiziduanzhidaozhidingziduan',\n  // 设置当前编辑字段值到指定字段,\n  ClearValueAction: 'qingchuzhidingziduandezhi',\n  // 清除指定字段的值,\n  FillQtyAction: 'genjushuliangguanliandedanweizidongmubiaoshuliang',\n  // 根据数量关联的单位自动目标数量,\n  FastSearchGridViewAp: getDefaultType(_templateObject49 || (_templateObject49 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"kuaijiesousuoshitu\"]))),\n  // 快捷搜索视图,\n  PictureMobTableColumnAp: getDefaultType(_templateObject50 || (_templateObject50 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogetupian\"]))),\n  // 表格图片,\n  AttachmentMobTableColumnAp: getDefaultType(_templateObject51 || (_templateObject51 = (0,_babel_runtime_corejs3_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"biaogefujian\"]))) // 表格附件\n};\nfunction getControlIconMap(type) {\n  return controlIconMap[type] || getDefaultType(''); // 新增控件先走默认图标\n}\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/utils/controlIconMap.ts?");

/***/ }),

/***/ 32204:
/*!**************************************************************!*\
  !*** ../form-entity-designer-utils/utils/delayQueueUtils.ts ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ DelayQueueUtil; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/classCallCheck */ 3460);\n/* harmony import */ var _babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/createClass */ 27688);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 88836);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-10-27 15:44:25\n * @Last Modified by: fjr\n * @LastEditTime: 2021-11-19 16:21:44\n * @Description: 用于多条指令异步全部执行的场景，主要为了能够一步堆栈就执行完了所有指令\n */\nvar DEFAULT_KEY = 'default';\nvar DelayQueueUtil = /*#__PURE__*/function () {\n  function DelayQueueUtil(keys) {\n    var _this = this;\n    (0,_babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, DelayQueueUtil);\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"queueMap\", new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_4___default())());\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"timer\", 0);\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"mapKeys\", [DEFAULT_KEY]);\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"cancalTimer\", function () {\n      if (_this.timer) {\n        clearTimeout(_this.timer);\n        _this.timer = null;\n      }\n    });\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"addTimer\", function (callback) {\n      _this.cancalTimer();\n      _this.timer = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default()(function () {\n        callback();\n      });\n    });\n    this.init(keys);\n  }\n  (0,_babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(DelayQueueUtil, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n      var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [DEFAULT_KEY];\n      this.mapKeys = keys;\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6___default()(keys).call(keys, function (key) {\n        _this2.queueMap.set(key, []);\n      });\n    }\n  }, {\n    key: \"addQueueData\",\n    value: function addQueueData(datas) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_KEY;\n      var queue = this.queueMap.get(key);\n      queue.push.apply(queue, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(datas));\n    }\n  }, {\n    key: \"clearQueue\",\n    value: function clearQueue(keys) {\n      var _this3 = this;\n      keys = keys || this.mapKeys;\n      keys = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7___default()(keys) ? keys : [keys];\n      keys = this.mapKeys === keys ? keys : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(keys).call(keys, function (key) {\n        var _context;\n        return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_context = _this3.mapKeys).call(_context, key);\n      });\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_6___default()(keys).call(keys, function (key) {\n        _this3.queueMap.set(key, []);\n      });\n    }\n  }, {\n    key: \"getQueueData\",\n    value: function getQueueData() {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_KEY;\n      return this.queueMap.get(key) || [];\n    }\n  }]);\n  return DelayQueueUtil;\n}();\n\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/utils/delayQueueUtils.ts?");

/***/ }),

/***/ 90656:
/*!*************************************************************!*\
  !*** ../form-entity-designer-utils/utils/filterProperty.ts ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _adaptor_constant__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../adaptor/constant */ 4592);\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-10-12 17:21:41\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 14:36:10\n * @Description: ...\n */\n\n\n\n\n// 兼容Immutable的情况\nfunction get(obj, key) {\n  return typeof obj.get === 'function' ? obj.get(key) : obj[key];\n}\n\n/**\n * @description: 构造filterProperty函数\n * @param {any} getModel\n * @param {any} getKdesignerApi\n * @return {*} filterProperty\n */\nvar filterProperty = function filterProperty(getModel, getKdesignerApi, metaType) {\n  /**\n   * @description: 过滤属性模型, true为隐藏, false为显示\n   * @param {IControlItem} field\n   * @param {IControlProperty} propMeta\n   * @return {boolean}\n   */\n  return function (field, propMeta) {\n    var uiModel = getModel();\n    var api = getKdesignerApi();\n    var dataContext = api.data;\n    var hideConfig = propMeta.Hide;\n    var proFormDesignerShowProperty = ['FieldId', 'EntryId', 'CardEntryId'];\n    // if (metaType === 'formmeta' && proFormDesignerShowProperty.includes(propMeta.Id) && !field.FieldType) {\n    //   return true\n    // }\n    if (metaType === 'formmeta' && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(proFormDesignerShowProperty).call(proFormDesignerShowProperty, propMeta.Id)) {\n      return false;\n    }\n    var parentControl = dataContext.findControl(field.ParentId) || dataContext.findControl(dataContext.getRootId());\n    var parentType = parentControl === null || parentControl === void 0 ? void 0 : parentControl._Type_;\n    if (hideConfig && (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(hideConfig) === 'object') {\n      var types = hideConfig.Types,\n        fieldTypes = hideConfig.FieldTypes,\n        parentTypes = hideConfig.ParentTypes,\n        hide = hideConfig.Hide;\n      if (types && fieldTypes) {\n        var fieldId = field.FieldId; // not Id, is FieldId\n        var type = field[_adaptor_constant__WEBPACK_IMPORTED_MODULE_3__._TYPE_];\n        var entityInfo = uiModel.getEntityFieldInfo(fieldId);\n        var fieldType = entityInfo && get(entityInfo, _adaptor_constant__WEBPACK_IMPORTED_MODULE_3__._TYPE_) || field.FieldType;\n        if (hide == null || hide === true) {\n          return (0,lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(types, type) && (0,lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(fieldTypes, fieldType);\n        } else {\n          return !((0,lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(types, type) && (0,lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(fieldTypes, fieldType));\n        }\n      } else if (parentTypes) {\n        if (hide == null || hide === true) {\n          return (0,lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(parentTypes, parentType);\n        } else {\n          // hide=false,满足条件就显示\n          return !(0,lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(parentTypes, parentType);\n        }\n      } else {\n        return hide;\n      }\n    }\n    return false;\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (filterProperty);\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/utils/filterProperty.ts?");

/***/ }),

/***/ 28044:
/*!***************************************************************!*\
  !*** ../form-entity-designer-utils/utils/getFieldProperty.ts ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFieldProperty: function() { return /* binding */ getFieldProperty; },\n/* harmony export */   useGetFieldProperty: function() { return /* binding */ useGetFieldProperty; }\n/* harmony export */ });\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-10-11 16:48:07\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 13:41:46\n * @Description: ...\n */\n\nvar _TYPE_ = '_Type_'; // 这个如何由bos端控制?\nvar useGetFieldProperty = function useGetFieldProperty(field, kdesignerApi) {\n  return function (propName) {\n    return getFieldProperty(field, propName, kdesignerApi);\n  };\n};\nvar getFieldProperty = function getFieldProperty(field, propName, kdesignerApi) {\n  var type = field[_TYPE_];\n  if (field[propName] !== null && field[propName] !== undefined) {\n    return field[propName];\n  } else {\n    // 取默认值\n    if (kdesignerApi) {\n      return kdesignerApi.meta.getControlPropertyDefaultValue(type, propName); // fieldKey本身就是属性名称本身\n    }\n  }\n};\n\n//# sourceURL=webpack://entity-designer/../form-entity-designer-utils/utils/getFieldProperty.ts?");

/***/ }),

/***/ 15400:
/*!*****************************************!*\
  !*** ../kd-designer/src/_utils/data.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createControlData: function() { return /* binding */ createControlData; },\n/* harmony export */   createControlDataOrModel: function() { return /* binding */ createControlDataOrModel; },\n/* harmony export */   createControlModel: function() { return /* binding */ createControlModel; },\n/* harmony export */   createUUid: function() { return /* binding */ createUUid; },\n/* harmony export */   createUniqueKey: function() { return /* binding */ createUniqueKey; },\n/* harmony export */   createUniqueKeys: function() { return /* binding */ createUniqueKeys; },\n/* harmony export */   getCommonProperties: function() { return /* binding */ getCommonProperties; },\n/* harmony export */   getControlIsContainer: function() { return /* binding */ getControlIsContainer; },\n/* harmony export */   getControlMetaInfo: function() { return /* binding */ getControlMetaInfo; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 39832);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 59312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ 45076);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../constant */ 71912);\n/* harmony import */ var _meta__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../meta */ 55796);\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"Id\", \"Properties\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context7, _context8; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(_context7 = ownKeys(Object(t), !0)).call(_context7, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(_context8 = ownKeys(Object(t))).call(_context8, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Base 64 characters\n */\nvar BASE64 = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n\n/**\n * Make a Uint8Array into a string\n * @param {Uint8Array}\n * @returns {String}\n * @api private\n */\nfunction tostr(bytes) {\n  var r, i;\n  r = [];\n  for (i = 0; i < bytes.length; i++) {\n    r.push(BASE64[bytes[i] % 62]);\n  }\n  return r.join('');\n}\n\n/**\n * Generate an unique id\n * @param {Number} The number of chars of the uid\n * @api public\n */\nfunction uid() {\n  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  if (typeof window.crypto !== 'undefined') {\n    return tostr(window.crypto.getRandomValues(new Uint8Array(length)));\n  } else {\n    var a = new Array(length);\n    for (var i = 0; i < length; i++) {\n      a[i] = Math.floor(Math.random() * 256);\n    }\n    return tostr(a);\n  }\n}\nvar createUUid = uid;\nvar defaultKeywordMapping = {\n  type: 'type',\n  name: 'name',\n  key: 'key',\n  parentId: 'parentId',\n  items: 'items'\n};\nvar getPropertyDefaultValueMemo = lodash__WEBPACK_IMPORTED_MODULE_19___default().memoize(_meta__WEBPACK_IMPORTED_MODULE_21__.getPropertyDefaultValue, function (property) {\n  return _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_11___default()(property);\n});\nvar getControlDefaultValueMemo = lodash__WEBPACK_IMPORTED_MODULE_19___default().memoize(_meta__WEBPACK_IMPORTED_MODULE_21__.getPropertyDefaultValue, function (property) {\n  return _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_11___default()(property);\n});\nvar createUniqueKey = function createUniqueKey(transferDataKey, type) {\n  var appendData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var keywordMapping = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultKeywordMapping;\n  var allKeySet = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_12___default())(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default()(appendData).call(appendData, function (data) {\n    return data[keywordMapping.key];\n  }));\n  var idx = 0;\n  var key = (transferDataKey === null || transferDataKey === void 0 ? void 0 : transferDataKey.replace(/\\d+$/, '')) || type;\n  var originKey = key;\n  while (allKeySet.has(key)) {\n    var _context;\n    key = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14___default()(_context = \"\".concat(originKey)).call(_context, ++idx);\n  }\n  return key;\n};\nvar CTRL_KEY_MAX_LENGTH = 25; // 限制控件key的最大长度25个字符(与手动输入保持一致)，标识或者字段名超过30位后端会报错\nvar createUniqueKeys = function createUniqueKeys(controlItems) {\n  var appendData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var keywordMapping = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultKeywordMapping;\n  var allKeySet = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_12___default())(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default()(appendData).call(appendData, function (data) {\n    return data[keywordMapping.key];\n  }));\n  var idx = 0;\n  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default()(controlItems).call(controlItems, function (controlItem) {\n    var _key;\n    var transferDataKey = controlItem[keywordMapping.key];\n    var key = transferDataKey || controlItem[keywordMapping.type]; // .replace(/(?<=[^\\d]+)\\d+$/, '') 不将paste action也去掉数字\n    key = (_key = key) === null || _key === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_15___default()(_key).call(_key, 0, CTRL_KEY_MAX_LENGTH);\n    var originKey = key;\n    while (allKeySet.has(key)) {\n      var _context2;\n      idx = idx + 1;\n      var maxLen = CTRL_KEY_MAX_LENGTH - \"\".concat(idx).length;\n      key = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14___default()(_context2 = \"\".concat(originKey === null || originKey === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_15___default()(originKey).call(originKey, 0, maxLen))).call(_context2, idx);\n    }\n    allKeySet.add(key);\n    // controlItem[keywordMapping.key] = key\n    return _objectSpread(_objectSpread({}, controlItem), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, keywordMapping.key, key));\n  });\n};\n/**\n * @description: 根据元模型数据，返回获取对应控件类型的模型数据的高阶函数\n * @param {IMeta} meta\n * @param {IGlobalConfig} globalConfig\n * @return {ICreateModelByType}\n */\nvar createControlModel = function createControlModel(meta, globalConfig) {\n  var _getMetaDetailMemoByType = (0,_meta__WEBPACK_IMPORTED_MODULE_21__.getControlMetaMemo)(meta);\n  var _createModelByType = function _createModelByType(_ref) {\n    var type = _ref.type,\n      transferData = _ref.transferData;\n    // 这里需要注意都是浅拷贝，可能有问题\n    var dataTemplate = {};\n    var value = _getMetaDetailMemoByType(type);\n    if (value) {\n      (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(dataTemplate, value);\n    }\n    if (transferData) {\n      (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(dataTemplate, transferData);\n    }\n    return dataTemplate;\n  };\n  return _createModelByType;\n};\n/**\n * @description: 根据元模型数据，返回获取对应控件类型的必要非默认数据的的高阶函数\n * @param {IMeta} meta\n * @param {IGlobalConfig} globalConfig\n * @return {ICreateModelByType}\n */\nvar createControlData = function createControlData(meta, globalConfig) {\n  var _ref2 = globalConfig || _constant__WEBPACK_IMPORTED_MODULE_20__.defaultGlobalConfig,\n    keywordMapping = _ref2.keywordMapping,\n    processPropertyName = _ref2.processPropertyName,\n    enableDiffDefaultData = _ref2.enableDiffDefaultData,\n    _ref2$enableEditorVal = _ref2.enableEditorValue,\n    enableEditorValue = _ref2$enableEditorVal === void 0 ? true : _ref2$enableEditorVal;\n  var _getMetaDetailMemoByType = (0,_meta__WEBPACK_IMPORTED_MODULE_21__.getControlMetaMemo)(meta);\n  var _createDataByType = function _createDataByType(_ref3) {\n    var type = _ref3.type,\n      transferData = _ref3.transferData,\n      parentId = _ref3.parentId;\n    // 这里需要注意都是浅拷贝，可能有问题\n    var itemData = {};\n    var dataTemplate = _getMetaDetailMemoByType(type);\n    if (parentId) {\n      itemData[keywordMapping.parentId] = parentId;\n    }\n    if (!enableDiffDefaultData) {\n      var _context3;\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(_context3 = dataTemplate.Properties).call(_context3, function (property) {\n        // 不要memo\n        (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(itemData, (0,_meta__WEBPACK_IMPORTED_MODULE_21__.getPropertyDefaultValue)(property, processPropertyName));\n      });\n    }\n    if (enableEditorValue) {\n      var _context4;\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(_context4 = dataTemplate.Properties).call(_context4, function (property) {\n        // 不要memo\n        (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(itemData, (0,_meta__WEBPACK_IMPORTED_MODULE_21__.mergeEditorValue)(property, processPropertyName));\n      });\n    }\n    // id 应该交由哪边管理\n    // TODO: 加个config\n    itemData[keywordMapping.id] = createUUid();\n    itemData[keywordMapping.name] = dataTemplate.Name; // TODO: 自增名\n    itemData[keywordMapping.type] = dataTemplate.Id;\n    if (transferData) {\n      (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(itemData, transferData);\n    }\n    return itemData;\n  };\n  return _createDataByType;\n};\n\n// 兼容处理\nfunction createControlDataOrModel(meta) {\n  var isGetModalData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var globalConfig = arguments.length > 2 ? arguments[2] : undefined;\n  if (isGetModalData) {\n    return createControlData(meta, globalConfig);\n  } else {\n    return createControlModel(meta, globalConfig);\n  }\n}\n// 评审到这里\nfunction getCommonProperties(types) {\n  return function (meta, globalConfig) {\n    var _meta$MultiEdit = meta.MultiEdit,\n      MultiEdit = _meta$MultiEdit === void 0 ? {\n        Disable: []\n      } : _meta$MultiEdit;\n    var _MultiEdit$Disable = MultiEdit.Disable,\n      disabledNodes = _MultiEdit$Disable === void 0 ? [] : _MultiEdit$Disable;\n    var commonPropertyHandler = globalConfig.commonPropertyHandler;\n    return _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default()(types).call(types, function (properties, type) {\n      var _properties, _context5;\n      var controlMeta = (0,_meta__WEBPACK_IMPORTED_MODULE_21__.getControlMeta)(type)(meta);\n      var controlProperties = controlMeta.Properties;\n      if (!((_properties = properties) !== null && _properties !== void 0 && _properties.length)) {\n        properties = controlProperties;\n      }\n      properties = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(_context5 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default()(properties).call(properties, function (property) {\n        var _context6;\n        var Nodes = property.Nodes,\n          Id = property.Id;\n        var group = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(controlProperties).call(controlProperties, function (item) {\n          return item.Id === Id;\n        });\n        var groupNodes = (group === null || group === void 0 ? void 0 : group.Nodes) || [];\n        var nodeIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default()(_context6 = Nodes).call(_context6, function (item) {\n          return item.Id;\n        });\n        var filteredNodes = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(groupNodes).call(groupNodes, function (node) {\n          return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(disabledNodes).call(disabledNodes, node.Id) && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(nodeIds).call(nodeIds, node.Id);\n        });\n        if (!filteredNodes.length) return null;\n        return _objectSpread(_objectSpread({}, group), {}, {\n          Nodes: filteredNodes\n        });\n      })).call(_context5, Boolean);\n      return (commonPropertyHandler === null || commonPropertyHandler === void 0 ? void 0 : commonPropertyHandler(properties)) || [];\n    }, []);\n  };\n}\n\n// 获取控件元数据描述属性，如IsContainer, Accept等\nvar getControlMetaInfo = function getControlMetaInfo(meta) {\n  var _meta$Controls = meta.Controls,\n    controlMetas = _meta$Controls === void 0 ? [] : _meta$Controls;\n  return _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default()(controlMetas).call(controlMetas, function (controlMetaInfo, controlMeta) {\n    var id = controlMeta.Id,\n      Properties = controlMeta.Properties,\n      otherProperties = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(controlMeta, _excluded);\n    var metaInfo = {};\n    for (var key in otherProperties) {\n      metaInfo[lodash__WEBPACK_IMPORTED_MODULE_19___default().camelCase(key)] = otherProperties[key];\n    }\n    controlMetaInfo[id] = metaInfo;\n    return controlMetaInfo;\n  }, {});\n};\n\n// 获取控件是否是容器，isContainer： true | false, accept：可接受的子控件类型，eg: ['Text', 'Image']\n// 后面要改成getControlMeta\nvar getControlIsContainer = function getControlIsContainer(controlMetaInfo, control, keywordMapping) {\n  var type = control[keywordMapping.type];\n  if (!type) return {\n    isContainer: false\n  };\n  if (typeof controlMetaInfo === 'function') {\n    var _controlMetaInfo = controlMetaInfo(type),\n      isContainer = _controlMetaInfo.IsContainer,\n      accept = _controlMetaInfo.Accept,\n      notAccept = _controlMetaInfo.NotAccept,\n      acceptParent = _controlMetaInfo.AcceptParent;\n    return {\n      isContainer: isContainer,\n      accept: accept,\n      notAccept: notAccept,\n      acceptParent: acceptParent\n    };\n  } else {\n    var _controlMetaInfo$type = controlMetaInfo[type],\n      _isContainer = _controlMetaInfo$type.isContainer,\n      _accept = _controlMetaInfo$type.accept;\n    return {\n      isContainer: _isContainer,\n      accept: _accept\n    };\n  }\n};\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/_utils/data.ts?");

/***/ }),

/***/ 78172:
/*!******************************************!*\
  !*** ../kd-designer/src/_utils/index.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCompProps: function() { return /* binding */ getCompProps; },\n/* harmony export */   handlePreventBubble: function() { return /* binding */ handlePreventBubble; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _config_provider_compDefaultProps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config-provider/compDefaultProps */ 76556);\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-10-29 15:54:24\n * @Last Modified by: fjr\n * @LastEditTime: 2021-11-10 14:29:00\n * @Description: ...\n */\n // kd-ui提供组件默认属性\n/**\n * 结合compDefaultProps、用户自定义默认属性和组件当前属性获取组件实际应用属性\n * @param {keyof typeof compDefaultProps} compName 组件名\n * @param {any} userDefaultProps 用户自定义组件默认属性\n * @param {any} compProps 组件接收到的属性\n */\nvar getCompProps = function getCompProps(compName, userDefaultProps, compProps) {\n  var defaultProps = _config_provider_compDefaultProps__WEBPACK_IMPORTED_MODULE_1__[\"default\"][compName];\n  var userProps = userDefaultProps && userDefaultProps[compName] || {};\n  return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, defaultProps, userProps, compProps || {});\n};\n\n/**\n * 阻止冒泡\n * 一般用于设计器在输入框输入状态时不触发主视图根节点的keydown\n * @param {Event} e\n */\n\nvar handlePreventBubble = function handlePreventBubble(e) {\n  if (e.stopPropagation) {\n    e.stopPropagation();\n  } else {\n    // e.cancelBubble = true\n  }\n  e.cancelBubble = true;\n};\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/_utils/index.ts?");

/***/ }),

/***/ 93888:
/*!*************************************************************!*\
  !*** ../kd-designer/src/_utils/property-editor-factory.tsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PropertyEditorFactoryContext: function() { return /* binding */ PropertyEditorFactoryContext; },\n/* harmony export */   \"default\": function() { return /* binding */ create; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _editor_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../editor/index */ 85076);\n\n\n\n\n\nfunction create() {\n  var _context2;\n  var editors = {};\n  var rigistPropertyEditor = function rigistPropertyEditor(editorType, editor, controlType) {\n    var _context;\n    editors[controlType ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context = \"\".concat(controlType, \"-\")).call(_context, editorType) : editorType] = editor;\n  };\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(_context2 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(_editor_index__WEBPACK_IMPORTED_MODULE_4__.editorControlsMap)).call(_context2, function (type) {\n    rigistPropertyEditor(type, _editor_index__WEBPACK_IMPORTED_MODULE_4__.editorControlsMap[type]);\n  });\n  return {\n    rigistPropertyEditor: rigistPropertyEditor,\n    getPropertyEditor: function getPropertyEditor(editorType, controlType) {\n      var _context3;\n      return editors[_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context3 = \"\".concat(controlType, \"-\")).call(_context3, editorType)] || editors[editorType];\n    }\n  };\n}\nvar PropertyEditorFactoryContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createContext({});\n\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/_utils/property-editor-factory.tsx?");

/***/ }),

/***/ 64868:
/*!*******************************************!*\
  !*** ../kd-designer/src/action/action.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChangeDefaultValue: function() { return /* binding */ ChangeDefaultValue; },\n/* harmony export */   ChangeEditorType: function() { return /* binding */ ChangeEditorType; },\n/* harmony export */   ExchangeValue: function() { return /* binding */ ExchangeValue; },\n/* harmony export */   HideProperty: function() { return /* binding */ HideProperty; },\n/* harmony export */   LockProperty: function() { return /* binding */ LockProperty; },\n/* harmony export */   SetPropertyValue: function() { return /* binding */ SetPropertyValue; },\n/* harmony export */   SetValue: function() { return /* binding */ SetValue; },\n/* harmony export */   ShowProperty: function() { return /* binding */ ShowProperty; },\n/* harmony export */   UnLockProperty: function() { return /* binding */ UnLockProperty; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction ChangeEditorType(args) {\n  var key = args.Key,\n    value = args.Value;\n  return [{\n    key: key,\n    editorProp: {\n      Type: value\n    }\n  }];\n}\nfunction ChangeDefaultValue(args) {\n  var key = args.Key,\n    value = args.Value;\n  return [{\n    key: key,\n    editorProp: {\n      Default: value\n    }\n  }];\n}\nfunction HideProperty(args) {\n  var _context;\n  var keys = args.Key;\n  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default()(_context = keys).call(_context, function (key) {\n    return {\n      key: key,\n      prop: {\n        Visible: false\n      }\n    };\n  });\n}\nfunction ShowProperty(args) {\n  var _context2;\n  var keys = args.Key;\n  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default()(_context2 = keys).call(_context2, function (key) {\n    return {\n      key: key,\n      prop: {\n        Visible: true\n      }\n    };\n  });\n}\nfunction LockProperty(args) {\n  var _context3;\n  var keys = args.Key;\n  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default()(_context3 = keys).call(_context3, function (key) {\n    return {\n      key: key,\n      prop: {\n        Locked: true\n      }\n    };\n  });\n}\nfunction UnLockProperty(args) {\n  var _context4;\n  var keys = args.Key;\n  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default()(_context4 = keys).call(_context4, function (key) {\n    return {\n      key: key,\n      prop: {\n        Locked: false\n      }\n    };\n  });\n}\nfunction SetValue(args) {\n  var keys = args.Key,\n    value = args.Value;\n  var prop = {};\n  for (var i = 0; i < keys.length; i++) {\n    prop[lodash__WEBPACK_IMPORTED_MODULE_1___default().camelCase(keys[i])] = value[i];\n  }\n  return prop;\n}\nfunction SetPropertyValue(args) {\n  var keys = args.Key,\n    value = args.Value;\n  var prop = {};\n  for (var i = 0; i < keys.length; i++) {\n    prop[keys[i]] = value[i];\n  }\n  return prop;\n}\nfunction ExchangeValue(args, field) {\n  var keys = args.Key,\n    value = args.Value;\n  var prop = {};\n  for (var i = 0; i < keys.length; i++) {\n    prop[lodash__WEBPACK_IMPORTED_MODULE_1___default().camelCase(keys[i])] = field[lodash__WEBPACK_IMPORTED_MODULE_1___default().camelCase(value[i])];\n  }\n  return prop;\n}\nvar actions = {\n  propertyActions: {\n    ChangeEditorType: ChangeEditorType,\n    ChangeDefaultValue: ChangeDefaultValue,\n    HideProperty: HideProperty,\n    ShowProperty: ShowProperty,\n    LockProperty: LockProperty,\n    UnLockProperty: UnLockProperty\n  },\n  dataActions: {\n    SetValue: SetValue,\n    ExchangeValue: ExchangeValue,\n    SetPropertyValue: SetPropertyValue\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (actions);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/action/action.ts?");

/***/ }),

/***/ 26096:
/*!********************************************!*\
  !*** ../kd-designer/src/action/factory.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DATA_ACTION: function() { return /* binding */ DATA_ACTION; },\n/* harmony export */   PROPERTY_ACTION: function() { return /* binding */ PROPERTY_ACTION; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./action */ 64868);\n\n\n\n\nvar PROPERTY_ACTION = 'property';\nvar DATA_ACTION = 'data';\nfunction actionsCreate() {\n  var _context2, _context3;\n  var propertyActions = {};\n  var dataActions = {};\n  var rigistAction = function rigistAction(actionType) {\n    return function (actionName, action, controlType) {\n      var _context;\n      var actions = actionType === PROPERTY_ACTION ? propertyActions : dataActions;\n      actions[controlType ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context = \"\".concat(controlType, \"-\")).call(_context, actionName) : actionName] = action;\n    };\n  };\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(_context2 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(_action__WEBPACK_IMPORTED_MODULE_3__[\"default\"].propertyActions)).call(_context2, function (actionName) {\n    rigistAction(PROPERTY_ACTION)(actionName, _action__WEBPACK_IMPORTED_MODULE_3__[\"default\"].propertyActions[actionName]);\n  });\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(_context3 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(_action__WEBPACK_IMPORTED_MODULE_3__[\"default\"].dataActions)).call(_context3, function (actionName) {\n    rigistAction(DATA_ACTION)(actionName, _action__WEBPACK_IMPORTED_MODULE_3__[\"default\"].dataActions[actionName]);\n  });\n  return {\n    rigistAction: rigistAction,\n    getAction: function getAction(actionType) {\n      return function (actionName, controlType) {\n        var _context4;\n        var actions = actionType === PROPERTY_ACTION ? propertyActions : dataActions;\n        return actions[_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context4 = \"\".concat(controlType, \"-\")).call(_context4, actionName)] || actions[actionName];\n      };\n    }\n  };\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (actionsCreate());\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/action/factory.ts?");

/***/ }),

/***/ 99060:
/*!******************************************!*\
  !*** ../kd-designer/src/action/index.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPropertyChangeByActions: function() { return /* binding */ createPropertyChangeByActions; },\n/* harmony export */   execActionToDataProperties: function() { return /* binding */ execActionToDataProperties; },\n/* harmony export */   getActionResults: function() { return /* binding */ getActionResults; },\n/* harmony export */   getTodoList: function() { return /* binding */ getTodoList; },\n/* harmony export */   updateNodeProperty: function() { return /* binding */ updateNodeProperty; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 89843);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 97440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 64248);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var expr_eval__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! expr-eval */ 5944);\n/* harmony import */ var _factory__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./factory */ 26096);\n/* harmony import */ var _designerConst__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../designerConst */ 9740);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_4___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_5___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_5___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_7___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context2, _context3; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default()(_context2 = ownKeys(Object(t), !0)).call(_context2, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default()(_context3 = ownKeys(Object(t))).call(_context3, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_7___default()(t, r)); }); } return e; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_2___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_3___default()(o) || o[\"@@iterator\"]; if (!it) { if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15___default()(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0___default()(_context = Object.prototype.toString.call(o)).call(_context, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_1___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n\n\n\n\n\n\n// Actions: {\n//   Condition: 'is('BindType', 'field') || is('BindType', 'upload')',\n//   Todo: {\n//     name: 'ChangeType',\n//     args: {\n//       key: 'BindText',\n\n//     }\n//   },\n//   ElseTodo: {\n//     name: 'ChangeType',\n//     args: {\n\n//     }\n//   }\n// }\nvar getTodoList = function getTodoList(action, data) {\n  return function (getModel) {\n    var condition = action.Condition,\n      todo = action.Todo,\n      elsetodo = action.ElseTodo;\n    var expr = condition && expr_eval__WEBPACK_IMPORTED_MODULE_19__.Parser.parse(condition.replace(/in\\(/g, 'has(').replace(/&&/g, ' and ').replace(/!/g, ' not ').replace(/\\|\\|/g, ' or '));\n    var result = condition ? expr.evaluate(getConditionsMap(data, todo, getModel)) : true;\n    if (result && todo) {\n      return todo;\n    }\n    if (!result && elsetodo) {\n      return elsetodo;\n    }\n  };\n};\n\n// 获取指定类型的元数据，若存在该属性，则返回该属性的值\nfunction getConditionTypesValue(field, conditionTypes, propName, getModel) {\n  var _getModel;\n  if (field && conditionTypes && _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15___default()(conditionTypes) && propName && getModel && (_getModel = getModel()) !== null && _getModel !== void 0 && _getModel.getFieldPropertyInfo) {\n    // 增加为空判断，其他设计器不一定有getFieldPropertyInfo方法\n    for (var i = 0; i < conditionTypes.length; i++) {\n      var type = conditionTypes[i];\n      // 实体元数据的id是FieldId\n      var ctrlId = type === _designerConst__WEBPACK_IMPORTED_MODULE_21__.ENTITYMETA ? field.FieldId : field.Id;\n      var conditionFieldValue = getModel().getFieldPropertyInfo(ctrlId, propName, type);\n      if (conditionFieldValue) return conditionFieldValue;\n    }\n  }\n}\nfunction getParentControl(itemId, parentType, data) {\n  var parentData = {\n    id: itemId\n  };\n  var _loop = function _loop() {\n    var _parentData;\n    var _item = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16___default()(data).call(data, function (item) {\n      return item.id === parentData.id;\n    }) || {};\n    parentData = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16___default()(data).call(data, function (item) {\n      return item.id === _item.parentId;\n    });\n    if (((_parentData = parentData) === null || _parentData === void 0 ? void 0 : _parentData.type) === parentType) {\n      return 1; // break\n    }\n  };\n  while (parentData) {\n    if (_loop()) break;\n  }\n  return parentData;\n}\nfunction getConditionsMap(data) {\n  var todo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var getModel = arguments.length > 2 ? arguments[2] : undefined;\n  var field = data.field,\n    _data$Items = data.Items,\n    items = _data$Items === void 0 ? [] : _data$Items;\n  var _ref = todo[0] || {},\n    conditionTypes = _ref.ConditionTypes;\n  return {\n    is: function is(propName, value) {\n      // ConditionTypes 支持判断条件指定元数据类型\n      var _ref2 = todo[0] || {},\n        affectedByParent = _ref2.AffectedByParent,\n        name = _ref2.Name;\n      if (name === 'HideProperty' && affectedByParent) {\n        // 参考旧版设计器，只有HideProperty规则生效affectedByParent参数\n        field = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16___default()(items).call(items, function (item) {\n          return item.Id === field.ParentId;\n        }) || field;\n      }\n      propName = propName === 'Type' ? '_Type_' : propName;\n      if (value == undefined) {\n        // 适配空字符串\n        var isMatch = field[propName] == value || field[propName] == '';\n        if (isMatch) return isMatch;\n        if (conditionTypes) {\n          var conditionTypesValue = getConditionTypesValue(field, conditionTypes, propName, getModel);\n          return conditionTypesValue == value || conditionTypesValue == '';\n        }\n        return false;\n      }\n      return field[propName] == value || getConditionTypesValue(field, conditionTypes, propName, getModel) == value;\n    },\n    eq: function eq(propName, value) {\n      propName = lodash__WEBPACK_IMPORTED_MODULE_18___default().camelCase(propName);\n      return field[propName] === value || getConditionTypesValue(field, conditionTypes, propName, getModel) === value;\n    },\n    includes: function includes(propName, value) {\n      var _field$propName, _getConditionTypesVal;\n      return ((_field$propName = field[propName]) === null || _field$propName === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_17___default()(_field$propName).call(_field$propName, value)) || ((_getConditionTypesVal = getConditionTypesValue(field, conditionTypes, propName, getModel)) === null || _getConditionTypesVal === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_17___default()(_getConditionTypesVal).call(_getConditionTypesVal, value));\n    },\n    has: function has(propName, value) {\n      propName = lodash__WEBPACK_IMPORTED_MODULE_18___default().camelCase(propName);\n      return (value === null || value === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_17___default()(value).call(value, field[propName])) || (value === null || value === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_17___default()(value).call(value, getConditionTypesValue(field, conditionTypes, propName, getModel)));\n    },\n    isGlobal: function isGlobal(propName, value) {\n      return data[propName] === value;\n    },\n    Change: true,\n    null: null,\n    empty: function empty(propName) {\n      var _field, _getModel2, _getConditionTypesVal2;\n      propName = lodash__WEBPACK_IMPORTED_MODULE_18___default().camelCase(propName);\n      return !((_field = field) !== null && _field !== void 0 && (_field = _field[propName]) !== null && _field !== void 0 && _field.length) || conditionTypes && getModel && ((_getModel2 = getModel()) === null || _getModel2 === void 0 ? void 0 : _getModel2.getFieldPropertyInfo) && !((_getConditionTypesVal2 = getConditionTypesValue(field, conditionTypes, propName, getModel)) !== null && _getConditionTypesVal2 !== void 0 && _getConditionTypesVal2.length);\n    },\n    hasParentType: function hasParentType(type) {\n      var bool = !!getParentControl(field['id'], type, data.items);\n      return bool;\n    }\n  };\n}\nfunction getActionResults(properties, data, getModel) {\n  var updateProperties = [];\n  var field = data.field;\n  if (properties === undefined) return updateProperties;\n  var _iterator = _createForOfIteratorHelper(properties),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var nodes = _step.value.Nodes;\n      if (nodes) {\n        var _iterator2 = _createForOfIteratorHelper(nodes),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var actions = _step2.value.Actions;\n            actions && _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default()(actions).call(actions, function (action) {\n              var todoList = getTodoList(action, data)(getModel) || [];\n              if (todoList.length) {\n                _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default()(todoList).call(todoList, function (todo) {\n                  var args = execActionToProperties(todo, field);\n                  updateProperties.push.apply(updateProperties, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(args));\n                });\n              }\n            });\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return updateProperties;\n}\nfunction updateNodeProperty(propertyData, args) {\n  var key = args.key,\n    prop = args.prop,\n    editorProp = args.editorProp;\n  var _iterator3 = _createForOfIteratorHelper(propertyData),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var nodes = _step3.value.Nodes;\n      if (nodes) {\n        var _iterator4 = _createForOfIteratorHelper(nodes),\n          _step4;\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var node = _step4.value;\n            if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15___default()(key)) {\n              if (node.Id === key[0]) {\n                var _iterator5 = _createForOfIteratorHelper(node.Editor.Enum),\n                  _step5;\n                try {\n                  for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                    var option = _step5.value;\n                    if (option.Value === key[1]) {\n                      option.Visible = prop.Visible;\n                    }\n                  }\n                } catch (err) {\n                  _iterator5.e(err);\n                } finally {\n                  _iterator5.f();\n                }\n              }\n            } else if (node.Id === key) {\n              if (prop) {\n                (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(node, prop);\n              }\n              if (editorProp) {\n                node.Editor = _objectSpread(_objectSpread({}, node.Editor || {}), editorProp);\n              }\n            }\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n}\n\n// 修改meta属性，抛出的参数\nfunction execActionToProperties(todo, field) {\n  var name = todo.Name,\n    args = todo.Args;\n  var action = _factory__WEBPACK_IMPORTED_MODULE_20__[\"default\"].getAction(_factory__WEBPACK_IMPORTED_MODULE_20__.PROPERTY_ACTION)(name, field === null || field === void 0 ? void 0 : field.type);\n  return action ? action(args) : [];\n}\n\n// 修改控件data属性，抛出的参数\nfunction execActionToDataProperties(todo, field) {\n  var name = todo.Name,\n    args = todo.Args;\n  var action = _factory__WEBPACK_IMPORTED_MODULE_20__[\"default\"].getAction(_factory__WEBPACK_IMPORTED_MODULE_20__.DATA_ACTION)(name, field === null || field === void 0 ? void 0 : field.type);\n  return action ? action(args, field) : {};\n}\n\n/**\n * 根据条件式将数据变更进行修改\n */\nvar createPropertyChangeByActions = function createPropertyChangeByActions(actions, propName, newVal, processedValue, field, dataApi, getModel) {\n  var data = dataApi.getData();\n  var newProperties = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11__[\"default\"])({}, propName, newVal);\n  // action抽出来给外界使用\n  var processedField = _objectSpread(_objectSpread({}, field), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_11__[\"default\"])({}, propName, processedValue));\n  var actionArguments = _objectSpread(_objectSpread({}, data), {}, {\n    field: processedField\n  });\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default()(actions).call(actions, function (action) {\n    var todoList = getTodoList(action, actionArguments)(getModel) || [];\n    if (todoList.length) {\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default()(todoList).call(todoList, function (todo) {\n        var args = execActionToDataProperties(todo, processedField);\n        newProperties = _objectSpread(_objectSpread({}, newProperties), args);\n      });\n    }\n  });\n  return newProperties;\n};\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/action/index.ts?");

/***/ }),

/***/ 58256:
/*!************************************************!*\
  !*** ../kd-designer/src/alias-data/context.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-14 10:01:18\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-14 10:02:21\n * @Description: ...\n */\n\n\nvar AliasDataContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext({});\n/* harmony default export */ __webpack_exports__[\"default\"] = (AliasDataContext);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/alias-data/context.ts?");

/***/ }),

/***/ 24007:
/*!************************************************!*\
  !*** ../kd-designer/src/alias-data/factory.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AliasDataManage: function() { return /* binding */ AliasDataManage; },\n/* harmony export */   createAliasDataApi: function() { return /* binding */ createAliasDataApi; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_construct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/reflect/construct */ 11984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_construct__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_reflect_construct__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/classCallCheck */ 3460);\n/* harmony import */ var _babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/createClass */ 27688);\n/* harmony import */ var _babel_runtime_corejs3_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/possibleConstructorReturn */ 54895);\n/* harmony import */ var _babel_runtime_corejs3_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/getPrototypeOf */ 77284);\n/* harmony import */ var _babel_runtime_corejs3_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/assertThisInitialized */ 89280);\n/* harmony import */ var _babel_runtime_corejs3_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/inherits */ 50024);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 39832);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! immer */ 83789);\n/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../type */ 84460);\n/* harmony import */ var _memory_cache__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../memory-cache */ 92492);\n\n\n\n\n\n\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_corejs3_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(o), (0,_babel_runtime_corejs3_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t, _isNativeReflectConstruct() ? _babel_runtime_corejs3_core_js_stable_reflect_construct__WEBPACK_IMPORTED_MODULE_0___default()(o, e || [], (0,_babel_runtime_corejs3_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(_babel_runtime_corejs3_core_js_stable_reflect_construct__WEBPACK_IMPORTED_MODULE_0___default()(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-13 16:26:17\n * @Last Modified by: fjr\n * @LastEditTime: 2022-03-16 10:28:39\n * @Description: aliasData工厂函数\n */\n\n\n\n\nvar getStringifyValue = function getStringifyValue(value) {\n  return value === undefined ? null : value;\n};\nvar AliasDataManage = /*#__PURE__*/function (_MemoryCache) {\n  (0,_babel_runtime_corejs3_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(AliasDataManage, _MemoryCache);\n  function AliasDataManage() {\n    var _this;\n    var originAliasData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0,_babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, AliasDataManage);\n    _this = _callSuper(this, AliasDataManage);\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_corejs3_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_this), \"aliasData\", {});\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_corejs3_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_this), \"getAliasData\", function () {\n      return _this.aliasData;\n    });\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_corejs3_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_this), \"getAliasDataPropValue\", function (type, propName, value) {\n      var getIn = (0,lodash__WEBPACK_IMPORTED_MODULE_11__.property)([type, propName, _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8___default()(getStringifyValue(value))]);\n      return getIn(_this.aliasData);\n    });\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_corejs3_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_this), \"hasAliasDataPropValue\", function (type, propName, value) {\n      return (0,lodash__WEBPACK_IMPORTED_MODULE_11__.has)(_this.aliasData, [type, propName, _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8___default()(getStringifyValue(value))]); //\n    });\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_corejs3_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_this), \"setAliasDataPropValue\", function (_actions) {\n      var oldData = _this.aliasData;\n      var actions = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(_actions) ? _actions : [_actions];\n      _this.aliasData = (0,immer__WEBPACK_IMPORTED_MODULE_14__.produce)(_this.aliasData, function (draft) {\n        _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(actions).call(actions, function (action) {\n          var type = action.type,\n            propName = action.propName,\n            value = action.value,\n            alias = action.alias;\n          (0,lodash__WEBPACK_IMPORTED_MODULE_11__.set)(draft, [type, propName, _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8___default()(getStringifyValue(value))], alias);\n        });\n      });\n      if (oldData !== _this.aliasData) {\n        var event = {\n          type: _type__WEBPACK_IMPORTED_MODULE_12__.AliasDataChangeEventType.Set,\n          value: _this.aliasData,\n          oldValue: oldData\n        };\n        _this.fireEvent(event);\n      }\n    });\n    _this.aliasData = originAliasData;\n    return _this;\n  }\n  (0,_babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(AliasDataManage, [{\n    key: \"addAliasDataChangeListener\",\n    value: function addAliasDataChangeListener(listener) {\n      return this.addDataChangeListener(listener);\n    }\n  }]);\n  return AliasDataManage;\n}(_memory_cache__WEBPACK_IMPORTED_MODULE_13__[\"default\"]);\nvar createAliasDataApi = function createAliasDataApi(api) {\n  return {\n    getAliasData: function getAliasData() {\n      return api.getAliasData();\n    },\n    hasAliasDataPropValue: function hasAliasDataPropValue(type, propName, value) {\n      return api.hasAliasDataPropValue(type, propName, value);\n    },\n    getAliasDataPropValue: function getAliasDataPropValue(type, propName, value) {\n      return api.getAliasDataPropValue(type, propName, value);\n    },\n    addAliasDataChangeListener: function addAliasDataChangeListener(listener) {\n      return api.addAliasDataChangeListener(listener);\n    },\n    setAliasDataPropValue: function setAliasDataPropValue(actions) {\n      return api.setAliasDataPropValue(actions);\n    }\n  };\n};\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/alias-data/factory.ts?");

/***/ }),

/***/ 8744:
/*!**********************************************!*\
  !*** ../kd-designer/src/alias-data/index.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AliasDataContext: function() { return /* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   AliasDataManage: function() { return /* reexport safe */ _factory__WEBPACK_IMPORTED_MODULE_0__.AliasDataManage; },\n/* harmony export */   createAliasDataApi: function() { return /* reexport safe */ _factory__WEBPACK_IMPORTED_MODULE_0__.createAliasDataApi; }\n/* harmony export */ });\n/* harmony import */ var _factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./factory */ 24007);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context */ 58256);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-13 16:26:17\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-14 10:03:33\n * @Description: ...\n */\n\n\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/alias-data/index.ts?");

/***/ }),

/***/ 76228:
/*!************************************************************!*\
  !*** ../kd-designer/src/config-provider/ConfigContext.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _defaultConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaultConfig */ 72228);\n/**\n * 提供外层注入属性的context\n */\n\n\nvar ConfigContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(_defaultConfig__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConfigContext);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/config-provider/ConfigContext.tsx?");

/***/ }),

/***/ 76556:
/*!***************************************************************!*\
  !*** ../kd-designer/src/config-provider/compDefaultProps.tsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// import * as React from 'react'\n/**\n * 组件默认属性，所有组件的默认属性都在这里写，\n * 而不是在组件文件中以“componentName.defaultProps”的方式去写\n * componentName: defaultPropsObj\n * （用于处理用户自定义默认属性）\n */\nvar compDefaultProps = {\n  Kdesigner: {},\n  Icon: {\n    prefix: 'designericon'\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (compDefaultProps);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/config-provider/compDefaultProps.tsx?");

/***/ }),

/***/ 72228:
/*!************************************************************!*\
  !*** ../kd-designer/src/config-provider/defaultConfig.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../locale */ 3848);\n\n\nvar defaultConfig = {\n  getPrefixCls: function getPrefixCls(configPrefixCls, suffixCls, customizePrefixCls) {\n    var _context;\n    // 获取样式前缀方法\n    if (customizePrefixCls) return customizePrefixCls;\n    configPrefixCls = configPrefixCls || 'kdesigner';\n    return suffixCls ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context = \"\".concat(configPrefixCls, \"-\")).call(_context, suffixCls) : configPrefixCls;\n  },\n  prefixCls: 'kdesigner',\n  // 样式前缀\n  locale: {\n    getLangMsg: _locale__WEBPACK_IMPORTED_MODULE_1__.getLangMsg,\n    getCompLangMsg: _locale__WEBPACK_IMPORTED_MODULE_1__.getCompLangMsg\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (defaultConfig);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/config-provider/defaultConfig.tsx?");

/***/ }),

/***/ 71912:
/*!*********************************************!*\
  !*** ../kd-designer/src/constant/index.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CONTROL_DRAG_DATA: function() { return /* binding */ CONTROL_DRAG_DATA; },\n/* harmony export */   createGlobalConfig: function() { return /* binding */ createGlobalConfig; },\n/* harmony export */   defaultGlobalConfig: function() { return /* binding */ defaultGlobalConfig; },\n/* harmony export */   keywordMapping: function() { return /* binding */ keywordMapping; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _designer_utils_utils_defaultIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../designer-utils/utils/defaultIcon */ 54440);\n/* harmony import */ var _designer_utils_utils_intlApi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../designer-utils/utils/intlApi */ 57024);\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-08-19 15:50:44\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 13:43:25\n * @Description: 默认数据\n */\n\n\n\n\nvar keywordMapping = {\n  // 所有meta和data属性名大小写默认配置\n  id: 'Id',\n  type: 'Type',\n  name: 'Name',\n  key: 'Key',\n  parentId: 'ParentId'\n};\nvar defaultGlobalConfig = {\n  activeSelectedMode: 'last',\n  // 'first'\n  controlViewMode: 'vertical',\n  showMessage: function showMessage() {\n    var _console, _context;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    (_console = console).log.apply(_console, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context = ['default showMessage:']).call(_context, args));\n  },\n  env: {},\n  getOutlineItemIcon: function getOutlineItemIcon(type) {\n    // return type\n    // return null\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_designer_utils_utils_defaultIcon__WEBPACK_IMPORTED_MODULE_4__.DefaultIcon, null);\n  },\n  preHandle: function preHandle(_ref) {\n    var action = _ref.action,\n      success = _ref.success;\n    return success([action]);\n  },\n  onCustomInputClick: function onCustomInputClick() {},\n  keywordMapping: keywordMapping,\n  processPropertyName: function processPropertyName(value) {\n    return (0,lodash__WEBPACK_IMPORTED_MODULE_3__.camelCase)(value);\n  },\n  enableSearch: true,\n  // 暂时给套打应用, 后面移除\n  enableDiffDefaultData: true,\n  // 废弃 改为应用viewsApi\n  // viewSetting: {},\n  getEditorFormatValue: lodash__WEBPACK_IMPORTED_MODULE_3__.noop,\n  filterProperty: function filterProperty(field, propMeta) {\n    return false;\n  },\n  controlViewSetting: {\n    hideHelpIcon: false,\n    hideAnchorIcon: false,\n    searchInputPlaceholder: (0,_designer_utils_utils_intlApi__WEBPACK_IMPORTED_MODULE_5__.getLangMsg)('designer.leftView.key0001'),\n    hideTitleTips: false,\n    // 隐藏title属性\n    onHelpIconClick: function onHelpIconClick() {},\n    // 给到外界获取空视图设置的方式\n    getEmptyView: function getEmptyView() {\n      return null;\n    }\n  },\n  propertyViewSetting: {\n    // 给到外界获取空视图设置的方式\n    getEmptyView: function getEmptyView() {\n      return null;\n    }\n  },\n  showTopView: true,\n  commonPropertyHandler: function commonPropertyHandler(properties) {\n    return properties;\n  }\n};\nvar createGlobalConfig = function createGlobalConfig(globalConfig) {\n  return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, defaultGlobalConfig, globalConfig || {});\n};\nvar CONTROL_DRAG_DATA = 'CONTROL_DRAG_DATA';\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/constant/index.tsx?");

/***/ }),

/***/ 55308:
/*!***************************************************!*\
  !*** ../kd-designer/src/context/data-context.tsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar DataContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext({});\n/* harmony default export */ __webpack_exports__[\"default\"] = (DataContext);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/context/data-context.tsx?");

/***/ }),

/***/ 18440:
/*!****************************************************!*\
  !*** ../kd-designer/src/context/error-context.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-03-16 11:06:34\n * @LastEditTime: 2023-03-16 11:15:34\n * @Last Modified by: jianhang_he\n */\n\nvar ErrorContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext({});\n/* harmony default export */ __webpack_exports__[\"default\"] = (ErrorContext);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/context/error-context.tsx?");

/***/ }),

/***/ 21708:
/*!************************************************************!*\
  !*** ../kd-designer/src/context/global-config-context.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar GlobalConfigContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext({});\n/* harmony default export */ __webpack_exports__[\"default\"] = (GlobalConfigContext);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/context/global-config-context.tsx?");

/***/ }),

/***/ 49440:
/*!*****************************************************!*\
  !*** ../kd-designer/src/context/global-context.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar GlobalContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext({});\n/* harmony default export */ __webpack_exports__[\"default\"] = (GlobalContext);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/context/global-context.tsx?");

/***/ }),

/***/ 10268:
/*!*******************************************!*\
  !*** ../kd-designer/src/context/index.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DataFactoryContext: function() { return /* binding */ DataFactoryContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-08-02 15:36:17\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-01 11:17:37\n * @Description: ...\n */\n\nvar DataFactoryContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext({});\n\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/context/index.ts?");

/***/ }),

/***/ 23412:
/*!*****************************************************!*\
  !*** ../kd-designer/src/context/select-context.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar SelectionContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext({});\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectionContext);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/context/select-context.tsx?");

/***/ }),

/***/ 70116:
/*!**********************************************************!*\
  !*** ../kd-designer/src/create-api/createDesignerApi.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ createDesignerApi; }\n/* harmony export */ });\n/*\n * @Author: daosheng_chen\n * @Email: daosheng_chen@kingdee.com\n * @Date: 2021-08-05 09:58:23\n * @Last Modified by: daosheng_chen\n * @Last Modified time: 2021-09-22 17:12:52\n * @Description: 创建设计器对外暴露的api接口，所有提供给外部的接口从这提供,不能包含界面元素引用\n */\n\nfunction createDesignerApi(_ref) {\n  var meta = _ref.meta,\n    data = _ref.data,\n    selection = _ref.selection,\n    error = _ref.error,\n    getNode = _ref.getNode,\n    aliasData = _ref.aliasData,\n    message = _ref.message,\n    dataFactory = _ref.dataFactory,\n    views = _ref.views;\n  return {\n    meta: meta,\n    // 元数据操作相关api\n    data: data,\n    selection: selection,\n    // 选择器相关api\n    getNode: getNode,\n    aliasData: aliasData,\n    message: message,\n    dataFactory: dataFactory,\n    // 新增数据时，通过type创建的初始数据\n    views: views,\n    error: error\n  };\n}\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/create-api/createDesignerApi.ts?");

/***/ }),

/***/ 17144:
/*!*******************************************************!*\
  !*** ../kd-designer/src/create-api/createViewsApi.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-11-18 16:00:55\n * @Last Modified by: fjr\n * @LastEditTime: 2021-11-22 15:24:12\n * @Description: ...\n */\n\nvar createViewsApi = function createViewsApi(viewsRef) {\n  var getViewActiveKey = function getViewActiveKey(position) {\n    var _viewsRef$current3;\n    if (!position) {\n      var _viewsRef$current, _viewsRef$current2;\n      return {\n        left: (_viewsRef$current = viewsRef.current) === null || _viewsRef$current === void 0 || (_viewsRef$current = _viewsRef$current.left) === null || _viewsRef$current === void 0 ? void 0 : _viewsRef$current.activeKey,\n        right: (_viewsRef$current2 = viewsRef.current) === null || _viewsRef$current2 === void 0 || (_viewsRef$current2 = _viewsRef$current2.right) === null || _viewsRef$current2 === void 0 ? void 0 : _viewsRef$current2.activeKey\n      };\n    }\n    return (_viewsRef$current3 = viewsRef.current) === null || _viewsRef$current3 === void 0 || (_viewsRef$current3 = _viewsRef$current3[position]) === null || _viewsRef$current3 === void 0 ? void 0 : _viewsRef$current3.activeKey;\n  };\n  var setViewActiveKey = function setViewActiveKey(position) {\n    return function (key) {\n      var _viewsRef$current4;\n      var setTabKey = (_viewsRef$current4 = viewsRef.current) === null || _viewsRef$current4 === void 0 || (_viewsRef$current4 = _viewsRef$current4[position]) === null || _viewsRef$current4 === void 0 ? void 0 : _viewsRef$current4.setTabKey;\n      setTabKey === null || setTabKey === void 0 || setTabKey(key);\n    };\n  };\n  var getViewVisibleKeys = function getViewVisibleKeys(position) {\n    var _viewsRef$current5;\n    var tabKeys = ((_viewsRef$current5 = viewsRef.current) === null || _viewsRef$current5 === void 0 || (_viewsRef$current5 = _viewsRef$current5[position]) === null || _viewsRef$current5 === void 0 ? void 0 : _viewsRef$current5.getViewKeys()) || [];\n    return tabKeys;\n  };\n  var setViewsVisibleSetting = function setViewsVisibleSetting(position) {\n    return function (viewSetting) {\n      var _viewsRef$current6;\n      var setViews = (_viewsRef$current6 = viewsRef.current) === null || _viewsRef$current6 === void 0 || (_viewsRef$current6 = _viewsRef$current6[position]) === null || _viewsRef$current6 === void 0 ? void 0 : _viewsRef$current6.setViews;\n      setViews === null || setViews === void 0 || setViews((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, position, viewSetting));\n    };\n  };\n  var getViewHideState = function getViewHideState(position) {\n    var _viewsRef$current10;\n    if (!position) {\n      var _viewsRef$current7, _viewsRef$current8, _viewsRef$current9;\n      return {\n        left: (_viewsRef$current7 = viewsRef.current) === null || _viewsRef$current7 === void 0 || (_viewsRef$current7 = _viewsRef$current7.left) === null || _viewsRef$current7 === void 0 ? void 0 : _viewsRef$current7.hide,\n        right: (_viewsRef$current8 = viewsRef.current) === null || _viewsRef$current8 === void 0 || (_viewsRef$current8 = _viewsRef$current8.right) === null || _viewsRef$current8 === void 0 ? void 0 : _viewsRef$current8.hide,\n        top: (_viewsRef$current9 = viewsRef.current) === null || _viewsRef$current9 === void 0 || (_viewsRef$current9 = _viewsRef$current9.top) === null || _viewsRef$current9 === void 0 ? void 0 : _viewsRef$current9.hide\n      };\n    }\n    return (_viewsRef$current10 = viewsRef.current) === null || _viewsRef$current10 === void 0 || (_viewsRef$current10 = _viewsRef$current10[position]) === null || _viewsRef$current10 === void 0 ? void 0 : _viewsRef$current10.hide;\n  };\n  var setViewHideState = function setViewHideState(position) {\n    return function (flag) {\n      var _viewsRef$current11;\n      var setHide = (_viewsRef$current11 = viewsRef.current) === null || _viewsRef$current11 === void 0 || (_viewsRef$current11 = _viewsRef$current11[position]) === null || _viewsRef$current11 === void 0 ? void 0 : _viewsRef$current11.setHide;\n      if (!setHide) return;\n      setHide === null || setHide === void 0 || setHide(flag);\n    };\n  };\n  return {\n    getViewActiveKey: getViewActiveKey,\n    setViewActiveKey: setViewActiveKey,\n    getViewHideState: getViewHideState,\n    setViewHideState: setViewHideState,\n    getViewVisibleKeys: getViewVisibleKeys,\n    setViewsVisibleSetting: setViewsVisibleSetting\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (createViewsApi);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/create-api/createViewsApi.ts?");

/***/ }),

/***/ 94408:
/*!********************************************!*\
  !*** ../kd-designer/src/data/data-api.tsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDataReader: function() { return /* binding */ createDataReader; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 41256);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 2992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _type_actionType__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../type/actionType */ 54465);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_18__);\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context3, _context4; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(_context3 = ownKeys(Object(t), !0)).call(_context3, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(_context4 = ownKeys(Object(t))).call(_context4, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n// 数据操作api，提供增删改数据接口\n\n\n\n// function takeAsArray<T> (item: T) {\n//   return Array.isArray(item) ? item : [item]\n// }\n\nvar collectRemovePropActions = function collectRemovePropActions(data, keywordMapping, getControlDefaultData, actions, _type) {\n  var keywordValues = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11___default()(keywordMapping);\n  var type = _type || data[keywordMapping.type];\n  var defaultData = getControlDefaultData(type);\n  if (defaultData) {\n    var actionValuePropNames = [];\n    for (var prop in data) {\n      if (prop in defaultData && !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(keywordValues).call(keywordValues, prop)) {\n        if ((0,lodash__WEBPACK_IMPORTED_MODULE_18__.isEqual)(defaultData[prop], data[prop])) {\n          actionValuePropNames.push(prop);\n        }\n      } else {\n        // 保留非默认数据\n      }\n    }\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_18__.isEmpty)(actionValuePropNames)) {\n      actions.push((0,_type_actionType__WEBPACK_IMPORTED_MODULE_17__.createRemovePropAction)([data[keywordMapping.id], actionValuePropNames]));\n    }\n    return actions;\n  } else {\n    console.error('That is a case: not allow to has a undeclared data, what data:', data);\n  }\n  return actions;\n};\nvar preHandlePromise = function preHandlePromise(_ref) {\n  var globalConfig = _ref.globalConfig,\n    dataReader = _ref.dataReader,\n    selectionContext = _ref.selectionContext,\n    controlAction = _ref.controlAction,\n    dataProvider = _ref.dataProvider,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader;\n  var isSavePatches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13___default())(function (resolve, reject) {\n    if (globalConfig.preHandle) {\n      // 预处理数据\n      globalConfig.preHandle({\n        dataContext: dataReader,\n        // todo：封装读取的api\n        selectionContext: selectionContext,\n        globalConfig: globalConfig,\n        action: controlAction,\n        dataFactory: dataFactory,\n        modelFactory: modelFactory,\n        metaReader: metaReader,\n        success: resolve,\n        fail: reject\n      });\n    } else {\n      resolve(controlAction);\n    }\n  }).then(function (actions) {\n    // 在这里统一处理removePropAction\n    var keywordMapping = globalConfig.keywordMapping,\n      enableDiffDefaultData = globalConfig.enableDiffDefaultData;\n    var removePropActions = [];\n    if (enableDiffDefaultData) {\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(actions).call(actions, function (action) {\n        // 粘贴按理来说可以不管\n        if ((0,_type_actionType__WEBPACK_IMPORTED_MODULE_17__.isAddAction)(action) || (0,_type_actionType__WEBPACK_IMPORTED_MODULE_17__.isPasteAction)(action)) {\n          var _context;\n          _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(_context = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14___default()(action.value) ? action.value : [action.value]).call(_context, function (data) {\n            removePropActions = collectRemovePropActions(data, keywordMapping, metaReader.getDefaultData, removePropActions);\n          });\n        }\n        if ((0,_type_actionType__WEBPACK_IMPORTED_MODULE_17__.isUpdateAction)(action) && typeof action.value !== 'function') {\n          var _context2;\n          _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = action.value).call(_context2, function (_ref2) {\n            var _ref3 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(_ref2, 2),\n              id = _ref3[0],\n              change = _ref3[1];\n            // 不去管add paste action的\n            var exsitControl = dataReader.findControl(id);\n            if (exsitControl) {\n              removePropActions = collectRemovePropActions((0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, change, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, keywordMapping.type, exsitControl[keywordMapping.type]), keywordMapping.id, exsitControl[keywordMapping.id])), keywordMapping, metaReader.getDefaultData, removePropActions);\n            }\n          });\n        }\n        return action;\n      });\n    }\n    dataProvider.batchActions(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_15___default()(actions).call(actions, removePropActions), isSavePatches);\n    return actions;\n  }).catch(function (error) {\n    console.error(error);\n    throw new Error(error);\n  });\n};\nvar createDataReader = function createDataReader(dataProvider, globalConfig) {\n  var keywordMapping = globalConfig.keywordMapping;\n  return _objectSpread(_objectSpread({}, dataProvider), {}, {\n    getData: function getData() {\n      return dataProvider.getData();\n    },\n    getMeta: function getMeta() {\n      return dataProvider.getMeta();\n    },\n    findControl: function findControl(idOrIds) {\n      return dataProvider.findControl(idOrIds);\n    },\n    findControlByCondition: function findControlByCondition(filterFunc) {\n      return dataProvider.findControlByCondition(filterFunc);\n    },\n    findControlType: function findControlType(idOrIds) {\n      var res = dataProvider.findControl(idOrIds);\n      if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_14___default()(res)) {\n        return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_16___default()(res).call(res, function (control) {\n          return control[keywordMapping.type];\n        });\n      } else {\n        return res[keywordMapping.type];\n      }\n    },\n    getRootId: function getRootId() {\n      return dataProvider.getRootId();\n    }\n  });\n};\nvar dataApi = function dataApi(dataProvider, metaReader) {\n  return function (globalConfig, selectionContext, dataFactory, modelFactory, errorApi) {\n    var dataReader = createDataReader(dataProvider, globalConfig);\n    return {\n      getData: function getData() {\n        return dataProvider.getData();\n      },\n      getMeta: function getMeta() {\n        return dataProvider.getMeta();\n      },\n      resetData: function resetData(data, isSaveRedoUndo) {\n        return dataProvider.resetData(data, isSaveRedoUndo);\n      },\n      resetPatches: function resetPatches() {\n        return dataProvider.resetPatches();\n      },\n      pushUndoPatch: function pushUndoPatch(data, newData) {\n        return dataProvider.pushUndoPatch(data, newData);\n      },\n      /**\n       * 新增控件方法\n       * @param newControlItem 新增控件的数据：支持批量（[{value: Object, index?: number | undefined}]）或单个（Object）\n       *\n       */\n      // TODO：这里类型怎么达到Action[] 而且要推导出addType\n      addControl: function addControl(controlAction) {\n        return preHandlePromise({\n          globalConfig: globalConfig,\n          dataReader: dataReader,\n          selectionContext: selectionContext,\n          controlAction: controlAction,\n          dataProvider: dataProvider,\n          dataFactory: dataFactory,\n          modelFactory: modelFactory,\n          metaReader: metaReader\n        });\n      },\n      // deleteControl: (idOrIds: string | Array<string>) => dataProvider.deleteControl(idOrIds),\n      deleteControl: function deleteControl(controlAction) {\n        var isSavePatches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return preHandlePromise({\n          globalConfig: globalConfig,\n          dataReader: dataReader,\n          selectionContext: selectionContext,\n          controlAction: controlAction,\n          dataProvider: dataProvider,\n          dataFactory: dataFactory,\n          modelFactory: modelFactory,\n          metaReader: metaReader\n        }, isSavePatches);\n      },\n      batchUpdateControlPropertyValues: function batchUpdateControlPropertyValues(controlAction) {\n        var isSavePatches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return preHandlePromise({\n          globalConfig: globalConfig,\n          dataReader: dataReader,\n          selectionContext: selectionContext,\n          controlAction: controlAction,\n          dataProvider: dataProvider,\n          dataFactory: dataFactory,\n          modelFactory: modelFactory,\n          metaReader: metaReader\n        }, isSavePatches);\n      },\n      attrActions: function attrActions(controlAction) {\n        return preHandlePromise({\n          globalConfig: globalConfig,\n          dataReader: dataReader,\n          selectionContext: selectionContext,\n          controlAction: controlAction,\n          dataProvider: dataProvider,\n          dataFactory: dataFactory,\n          modelFactory: modelFactory,\n          metaReader: metaReader\n        });\n      },\n      swapControl: function swapControl(controlAction) {\n        return preHandlePromise({\n          globalConfig: globalConfig,\n          dataReader: dataReader,\n          selectionContext: selectionContext,\n          controlAction: controlAction,\n          dataProvider: dataProvider,\n          dataFactory: dataFactory,\n          modelFactory: modelFactory,\n          metaReader: metaReader\n        });\n      },\n      insertControl: function insertControl(controlAction) {\n        return preHandlePromise({\n          globalConfig: globalConfig,\n          dataReader: dataReader,\n          selectionContext: selectionContext,\n          controlAction: controlAction,\n          dataProvider: dataProvider,\n          dataFactory: dataFactory,\n          modelFactory: modelFactory,\n          metaReader: metaReader\n        });\n      },\n      customUpdateState: function customUpdateState(controlAction) {\n        return preHandlePromise({\n          globalConfig: globalConfig,\n          dataReader: dataReader,\n          selectionContext: selectionContext,\n          controlAction: controlAction,\n          dataProvider: dataProvider,\n          dataFactory: dataFactory,\n          modelFactory: modelFactory,\n          metaReader: metaReader\n        });\n      },\n      findControl: function findControl(idOrIds) {\n        return dataProvider.findControl(idOrIds);\n      },\n      findControlIndex: function findControlIndex(idOrIds) {\n        return dataProvider.findControlIndex(idOrIds);\n      },\n      findControlByCondition: function findControlByCondition(filterFunc) {\n        return dataProvider.findControlByCondition(filterFunc);\n      },\n      mapping: function mapping(func) {\n        return dataProvider.mapping(func);\n      },\n      getRootId: function getRootId() {\n        return dataProvider.getRootId();\n      },\n      addDataChangeListener: function addDataChangeListener(listener) {\n        return dataProvider.addDataChangeListener(listener);\n      },\n      canUndo: function canUndo() {\n        return dataProvider.canUndo();\n      },\n      canRedo: function canRedo() {\n        return dataProvider.canRedo();\n      },\n      undo: function undo() {\n        return dataProvider.undo();\n      },\n      redo: function redo() {\n        return dataProvider.redo();\n      },\n      getParentControlId: function getParentControlId(controlId) {\n        return dataProvider.getParentControlId(controlId);\n      },\n      getParentControl: function getParentControl(controlId) {\n        return dataProvider.getParentControl(controlId);\n      },\n      getAllSiblings: function getAllSiblings(controlId) {\n        return dataProvider.getAllSiblings(controlId);\n      },\n      getPrevSibling: function getPrevSibling(controlId) {\n        return dataProvider.getPrevSibling(controlId);\n      },\n      getNextSibling: function getNextSibling(controlId) {\n        return dataProvider.getNextSibling(controlId);\n      },\n      moveControl: function moveControl(controlId, direction) {\n        return dataProvider.moveControl(controlId, direction);\n      },\n      isSiblings: function isSiblings(controlId1, controlId2) {\n        return dataProvider.isSiblings(controlId1, controlId2);\n      },\n      getSubControls: function getSubControls(controlId) {\n        return dataProvider.getSubControls(controlId);\n      },\n      getPropertyValue: function getPropertyValue(id, prop) {\n        var getIn = (0,lodash__WEBPACK_IMPORTED_MODULE_18__.property)(prop);\n        return getIn(dataProvider.findControl(id));\n      },\n      getAllSubControls: function getAllSubControls(controlId) {\n        return dataProvider.getAllSubControls(controlId);\n      },\n      getAllSubControlIds: function getAllSubControlIds(controlId) {\n        return dataProvider.getAllSubControlIds(controlId);\n      },\n      getContainerControl: function getContainerControl(parent) {\n        return dataProvider.getContainerControl(parent);\n      },\n      getAllParentControls: function getAllParentControls(controlId, includeSelf) {\n        return dataProvider.getAllParentControls(controlId, includeSelf);\n      },\n      getAllParentControlIds: function getAllParentControlIds(controlId, includeSelf) {\n        return dataProvider.getAllParentControlIds(controlId, includeSelf);\n      },\n      getNextSelectedControlId: function getNextSelectedControlId(controlId) {\n        return dataProvider.getNextSelectedControlId(controlId);\n      },\n      filterControls: function filterControls(fn) {\n        return dataProvider.filterControls(fn);\n      },\n      getRealControlType: function getRealControlType(field, key) {\n        return dataProvider.getRealControlType(field, key);\n      }\n    };\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (dataApi);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/data/data-api.tsx?");

/***/ }),

/***/ 43316:
/*!*************************************************!*\
  !*** ../kd-designer/src/data/data-provider.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 11872);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ 45076);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 59312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/values */ 5848);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! immer */ 83789);\n/* harmony import */ var _utils_data__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../_utils/data */ 15400);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../designer-utils/utils/console */ 35132);\n/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../type */ 84460);\n/* harmony import */ var _meta__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../meta */ 55796);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_18___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context27, _context28; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(_context27 = ownKeys(Object(t), !0)).call(_context27, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(_context28 = ownKeys(Object(t))).call(_context28, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n/**\n * @description: 如果用户层使用，自己确保默认值之类的事情\n * @param {IControlAction} action\n * @param {IData} state\n * @return {*}\n */\nvar customReduceWrapper = function customReduceWrapper(action, state) {\n  if (typeof action.value === 'function') {\n    return _objectSpread(_objectSpread({}, action), {}, {\n      value: action.value(state)\n    });\n  }\n  return action;\n};\nvar convertToArray = function convertToArray(item) {\n  if (!item) return [];\n  if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(item)) return item;\n  return [item];\n};\n/**\n *\n * @param state immer的数据\n * @param newControlItem 添加的数据 ：批量传对象数组，单个则传对象\n * @param index 插入的index索引，-1追加到末尾\n */\nfunction addAction(action, keywordMapping) {\n  return function (state) {\n    var _ref = customReduceWrapper(action, state),\n      newControlItem = _ref.value,\n      _ref$index = _ref.index,\n      index = _ref$index === void 0 ? -1 : _ref$index,\n      _ref$isInstrucAdd = _ref.isInstrucAdd,\n      isInstrucAdd = _ref$isInstrucAdd === void 0 ? false : _ref$isInstrucAdd;\n    var items = state[keywordMapping.items];\n    var newControls = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(newControlItem) ? newControlItem : [newControlItem];\n    if (!isInstrucAdd) {\n      newControls = (0,_utils_data__WEBPACK_IMPORTED_MODULE_22__.createUniqueKeys)(newControls, items, keywordMapping);\n    }\n    if (index === -1) {\n      items.push.apply(items, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(newControls));\n    } else {\n      var _context;\n      _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10___default()(items).apply(items, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context = [index, 0]).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(newControls)));\n    }\n    return state;\n  };\n}\nfunction deleteAction(action, keywordMapping) {\n  return function (state) {\n    var _ref2 = customReduceWrapper(action, state),\n      deleteId = _ref2.value;\n    var items = state[keywordMapping.items];\n    var deleteIds = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(deleteId) ? deleteId : [deleteId];\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(deleteIds).call(deleteIds, function (id) {\n      var _context2;\n      var currentItems = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(items).call(items, function (item) {\n        if (item[keywordMapping.id] === id) return item;\n      })).call(_context2, Boolean);\n      while (!!currentItems.length) {\n        _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(currentItems).call(currentItems, function (currentItem) {\n          var currentIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_15___default()(items).call(items, function (item) {\n            return item[keywordMapping.id] === (currentItem === null || currentItem === void 0 ? void 0 : currentItem[keywordMapping.id]);\n          });\n          if (currentIndex !== -1) {\n            _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10___default()(items).call(items, currentIndex, 1);\n          }\n        });\n        currentItems = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default()(currentItems).call(currentItems, function (res, currentItem) {\n          var _context3;\n          var childItems = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(_context3 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(items).call(items, function (item) {\n            if (item[keywordMapping.parentId] === (currentItem === null || currentItem === void 0 ? void 0 : currentItem[keywordMapping.id])) return item;\n          })).call(_context3, Boolean);\n          return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(res).call(res, childItems);\n        }, []);\n      }\n    });\n    return state;\n  };\n}\n\n/**\n *\n * @param state immer的数据\n * @param action\n * @returns\n */\nfunction updateAction(action, keywordMapping) {\n  return function (state) {\n    var _ref3 = customReduceWrapper(action, state),\n      batchUpdates = _ref3.value;\n    var items = state[keywordMapping.items];\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(batchUpdates).call(batchUpdates, function (_ref4) {\n      var _ref5 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_ref4, 2),\n        id = _ref5[0],\n        propertyValue = _ref5[1];\n      var control = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(items).call(items, function (item) {\n        return item[keywordMapping.id] === id;\n      });\n      if (control) {\n        var _context4;\n        // mergeConfig bug\n        // Object.assign(control, propertyValue)\n        // 标识不能一样\n        _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(_context4 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_18___default()(propertyValue)).call(_context4, function (key) {\n          if (key === keywordMapping.key) {\n            var _items = state[keywordMapping.items];\n            var allKeySet = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_19___default())(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(_items).call(_items, function (data) {\n              return data[keywordMapping.key];\n            }));\n            if (!allKeySet.has(propertyValue[key])) {\n              control[key] = propertyValue[key];\n            }\n          } else {\n            control[key] = propertyValue[key];\n          }\n        });\n      }\n    });\n    return state;\n  };\n}\nfunction removePropAction(action, keywordMapping) {\n  return function (state) {\n    var _context5;\n    var _ref6 = customReduceWrapper(action, state),\n      value = _ref6.value;\n    var _value = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(value, 2),\n      id = _value[0],\n      propNames = _value[1];\n    var item = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(_context5 = state[keywordMapping.items]).call(_context5, function (item) {\n      return item[keywordMapping.id] === id;\n    });\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(propNames).call(propNames, function (propName) {\n      if (propName in item) {\n        delete item[propName];\n      }\n    });\n    return state;\n  };\n}\nfunction setAttrAction(action, keywordMapping) {\n  return function (state) {\n    var _ref7 = customReduceWrapper(action, state),\n      values = _ref7.value;\n    state = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default()(values).call(values, function (modifiedState, value) {\n      var attrName = value.attrName,\n        attrValue = value.value;\n      if (!attrName) return modifiedState;\n      state[attrName] = attrValue;\n      return modifiedState;\n    }, state);\n    return state;\n  };\n}\nfunction customUpdateAction(action, keywordMapping) {\n  return function (state) {\n    customReduceWrapper(action, state);\n    return state;\n  };\n}\n\n/**\n * @description 插入。isPre 为true 将originId插入到targetId前面.isPre 为false 将originId插入到targetId后面\n * @param action\n * @param keywordMapping\n * @returns\n */\nfunction insertAction(action, keywordMapping) {\n  return function (state) {\n    var _ref8 = customReduceWrapper(action, state),\n      value = _ref8.value,\n      _ref8$isInstrucAdd = _ref8.isInstrucAdd,\n      isInstrucAdd = _ref8$isInstrucAdd === void 0 ? false : _ref8$isInstrucAdd;\n    var originId = value.originId,\n      targetId = value.targetId,\n      isPre = value.isPre,\n      values = _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_20___default()(value);\n    var items = state[keywordMapping.items];\n    var originControls = [];\n    if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(values)) {\n      items = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(items).call(items, function (control) {\n        var originControl = values === null || values === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(values).call(values, function (item) {\n          return item.Id === control[keywordMapping.id];\n        });\n        if (originControl) {\n          originControls.push(_objectSpread(_objectSpread({}, control), originControl));\n          return false;\n        }\n        return true;\n      });\n\n      // 新增插入的时候\n      if (originControls.length === 0) {\n        var newControls = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(values) ? values : [values];\n        newControls = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(newControls).call(newControls, function (item) {\n          if (!item.Key && item._Type_) {\n            item.Key = item._Type_.toLowerCase();\n          }\n          return item;\n        });\n        if (!isInstrucAdd) {\n          newControls = (0,_utils_data__WEBPACK_IMPORTED_MODULE_22__.createUniqueKeys)(newControls, items, keywordMapping);\n        }\n        originControls = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(originControls).call(originControls, newControls);\n      }\n    } else {\n      items = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(items).call(items, function (control) {\n        if (control[keywordMapping.id] === originId || control[keywordMapping.parentId] === originId) {\n          originControls.push(_objectSpread({}, control));\n          return false;\n        }\n        return true;\n      });\n    }\n    var newItems = [];\n    if (targetId) {\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(items).call(items, function (control) {\n        if (control[keywordMapping.id] === targetId) {\n          var _newItems, _context6, _newItems2, _context7;\n          isPre ? (_newItems = newItems).push.apply(_newItems, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context6 = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(originControls)).call(_context6, [control])) : (_newItems2 = newItems).push.apply(_newItems2, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context7 = [control]).call(_context7, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(originControls)));\n        } else {\n          newItems.push(control);\n        }\n      });\n    } else {\n      var _context8;\n      newItems = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context8 = []).call(_context8, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(items), (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(originControls));\n    }\n    state[keywordMapping.items] = newItems;\n    return state;\n  };\n}\nfunction swapAction(action, keywordMapping) {\n  return function (state) {\n    var _items2, _context9;\n    var _ref9 = customReduceWrapper(action, state),\n      value = _ref9.value;\n    var origin = value.origin,\n      targetIndex = value.targetIndex,\n      targetParentId = value.targetParentId;\n    var originIds = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(origin) ? origin : [origin];\n    var items = state[keywordMapping.items];\n    var originControls = [];\n    items = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(items).call(items, function (control) {\n      var isOrigin = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_21___default()(originIds).call(originIds, control[keywordMapping.id]);\n      if (isOrigin) {\n        var tempControl = _objectSpread(_objectSpread({}, control), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, keywordMapping.parentId, targetParentId));\n        originControls.push(tempControl);\n        return (0,immer__WEBPACK_IMPORTED_MODULE_27__[\"default\"])(control, function (draft) {\n          draft.__isToDelete = true;\n          return draft;\n        });\n      }\n      return control;\n    });\n    _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10___default()(_items2 = items).apply(_items2, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context9 = [targetIndex + 1, 0]).call(_context9, originControls));\n    items = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(items).call(items, function (control) {\n      return !control.__isToDelete;\n    });\n    state[keywordMapping.items] = items;\n    return state;\n  };\n}\nfunction defaultAction(action) {\n  return function (state) {\n    return state;\n  };\n}\nvar savePushPatches = function savePushPatches(actions, patches, inversePatches) {\n  if (patches.length && inversePatches.length) {\n    actions.push([patches, inversePatches]);\n  }\n};\nvar getRootIdByData = function getRootIdByData(data, keywordMapping) {\n  var _data$keywordMapping$;\n  return (_data$keywordMapping$ = data[keywordMapping.items]) === null || _data$keywordMapping$ === void 0 || (_data$keywordMapping$ = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(_data$keywordMapping$).call(_data$keywordMapping$, function (item) {\n    return !item[keywordMapping.parentId];\n  })) === null || _data$keywordMapping$ === void 0 ? void 0 : _data$keywordMapping$[keywordMapping.id];\n};\n\n// TODO: 增加一个方法,多步操作化为一步堆栈\nfunction create(originMeta, originData, config, onData) {\n  (0,immer__WEBPACK_IMPORTED_MODULE_27__.enablePatches)();\n  var keywordMapping = config.keywordMapping || {};\n  var listeners = [];\n  var meta = originMeta || {};\n  var data = originData || {\n    id: '',\n    items: []\n  };\n  var rootId = getRootIdByData(originData, keywordMapping);\n  var undoActions = []; //   [redo,undo]\n  var redoActions = []; //   [redo,undo]\n  var self = {\n    getMeta: function getMeta() {\n      return meta;\n    },\n    setMeta: function setMeta(newMeta) {\n      meta = newMeta;\n    },\n    getData: function getData() {\n      return data;\n    },\n    resetData: function resetData(newData) {\n      var isSaveRedoUndo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      // 由于immerjs 的setAutoFreeze功能, 所以还是得在produce里写\n      data = (0,immer__WEBPACK_IMPORTED_MODULE_27__[\"default\"])(data, function (draft) {\n        return newData;\n      }, function (patches, inversePatches) {\n        isSaveRedoUndo && savePushPatches(undoActions, patches, inversePatches);\n      });\n      if (newData[keywordMapping.items] && newData[keywordMapping.items].length) {\n        // 还有其他属性？\n        rootId = getRootIdByData(newData, keywordMapping);\n      }\n      self.fireEvent({\n        type: _type__WEBPACK_IMPORTED_MODULE_25__.DataChangeEventType.Reset,\n        value: newData\n      });\n    },\n    // 添加一个不刷新页面的undo调用栈\n    // 作用：打印设计器内翻译画布数据执行了updateMeta，希望可以撤销\n    pushUndoPatch: function pushUndoPatch(oldData, newData) {\n      // 这里直接存画布数据太庞大了， 不如递归找出修改的属性值后再进行存储\n      // 前后端数据可能不一致，不能使用缩量存储\n      // const { patches, inversePatches } = generatePatches(data, newData)\n      // savePushPatches(undoActions, patches, inversePatches)\n\n      (0,immer__WEBPACK_IMPORTED_MODULE_27__[\"default\"])(oldData, function (draft) {\n        return newData;\n      }, function (patches, inversePatches) {\n        savePushPatches(undoActions, patches, inversePatches);\n      });\n    },\n    mergeData: function mergeData(newData) {\n      if (lodash__WEBPACK_IMPORTED_MODULE_23___default().isEqual(data, newData)) {\n        // 这里可能会导致死循环 苍穹层\n        // onData(data)\n        return;\n      }\n      data = (0,immer__WEBPACK_IMPORTED_MODULE_27__[\"default\"])(data, function (draft) {\n        (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(draft, newData);\n      }, function (patches, inversePatches) {\n        savePushPatches(undoActions, patches, inversePatches);\n      });\n      if (newData[keywordMapping.items] && newData[keywordMapping.items].length) {\n        // 还有其他属性？\n        rootId = getRootIdByData(newData, keywordMapping);\n      }\n      self.fireEvent({\n        type: _type__WEBPACK_IMPORTED_MODULE_25__.DataChangeEventType.MergeData,\n        value: newData\n      });\n    },\n    // TODO: mergeData 最小修改粒度收集\n    addDataChangeListener: function addDataChangeListener(listener) {\n      listeners.push(listener);\n      return function removeDataChangeListener() {\n        listeners = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(listeners).call(listeners, function (cb) {\n          return cb !== listener;\n        });\n      };\n    },\n    fireEvent: function fireEvent(event) {\n      _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__[\"default\"].log('dataCtx fireEvt', event, listeners);\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_12___default()(listeners).call(listeners, function (listener) {\n        try {\n          listener(event);\n        } catch (error) {\n          _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__[\"default\"].error(error);\n        }\n      });\n      // 放在后面防止外界行为先刷新\n      onData && onData(data, event);\n    },\n    /**\n     *  批量处理数据，包含增删改，type: 'add'|'update'|'delete'，value：对应的数据\n     * @param batchChanges [{type: 'add', value: {...}, index: 0}, {type: 'update', value: {}}, {type: 'delete', value: '12345'}]\n     */\n    batchActions: function batchActions(actions) {\n      var isSavePatches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var oldData = data;\n      data = (0,immer__WEBPACK_IMPORTED_MODULE_27__[\"default\"])(data, function (draft) {\n        var actionHandlers = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(actions).call(actions, function (action) {\n          var type = action.type;\n          switch (type) {\n            case _type__WEBPACK_IMPORTED_MODULE_25__.ActionType.ADD:\n              return addAction(action, keywordMapping);\n            case _type__WEBPACK_IMPORTED_MODULE_25__.ActionType.UPDATE:\n              return updateAction(action, keywordMapping);\n            case _type__WEBPACK_IMPORTED_MODULE_25__.ActionType.DELETE:\n              return deleteAction(action, keywordMapping);\n            case _type__WEBPACK_IMPORTED_MODULE_25__.ActionType.PASTE:\n              return addAction(action, keywordMapping);\n            case _type__WEBPACK_IMPORTED_MODULE_25__.ActionType.Attr:\n              return setAttrAction(action, keywordMapping);\n            case _type__WEBPACK_IMPORTED_MODULE_25__.ActionType.REMOVEPROP:\n              return removePropAction(action, keywordMapping);\n            case _type__WEBPACK_IMPORTED_MODULE_25__.ActionType.DRAG:\n              return swapAction(action, keywordMapping);\n            case _type__WEBPACK_IMPORTED_MODULE_25__.ActionType.CUSTOMUPDATE:\n              return customUpdateAction(action, keywordMapping);\n            case _type__WEBPACK_IMPORTED_MODULE_25__.ActionType.INSERT:\n              return insertAction(action, keywordMapping);\n            default:\n              return defaultAction(action);\n          }\n        });\n        return _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default()(actionHandlers).call(actionHandlers, function (_state, func) {\n          return func(_state);\n        }, draft);\n      }, function (patches, inversePatches) {\n        isSavePatches && savePushPatches(undoActions, patches, inversePatches);\n      });\n      if (oldData !== data) {\n        self.fireEvent({\n          type: _type__WEBPACK_IMPORTED_MODULE_25__.DataChangeEventType.BatchActions,\n          actions: actions,\n          value: data,\n          oldValue: oldData\n        });\n      }\n    },\n    findControl: function findControl(idOrIds) {\n      if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(idOrIds)) {\n        var _context10;\n        return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(_context10 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(idOrIds).call(idOrIds, function (id) {\n          var _context11;\n          return _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(_context11 = data[keywordMapping.items]).call(_context11, function (item) {\n            return item[keywordMapping.id] === id;\n          });\n        })).call(_context10, Boolean);\n      } else {\n        var _data$keywordMapping$2;\n        return (_data$keywordMapping$2 = data[keywordMapping.items]) === null || _data$keywordMapping$2 === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(_data$keywordMapping$2).call(_data$keywordMapping$2, function (item) {\n          return item[keywordMapping.id] === idOrIds;\n        });\n      }\n    },\n    findControlIndex: function findControlIndex(idOrIds) {\n      if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(idOrIds)) {\n        var _context12;\n        return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(_context12 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(idOrIds).call(idOrIds, function (id) {\n          var _context13;\n          return _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_15___default()(_context13 = data[keywordMapping.items]).call(_context13, function (item) {\n            return item[keywordMapping.id] === id;\n          });\n        })).call(_context12, Boolean);\n      } else {\n        var _context14;\n        return _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_15___default()(_context14 = data[keywordMapping.items]).call(_context14, function (item) {\n          return item[keywordMapping.id] === idOrIds;\n        });\n      }\n    },\n    findControlByCondition: function findControlByCondition(filterFunc) {\n      var _context15;\n      return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(_context15 = data[keywordMapping.items]).call(_context15, function (item) {\n        return filterFunc(item);\n      });\n    },\n    mapping: function mapping(func) {\n      var _context16;\n      return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(_context16 = data[keywordMapping.items]).call(_context16, function (item) {\n        return func(item);\n      });\n    },\n    getRootId: function getRootId() {\n      return rootId;\n    },\n    resetPatches: function resetPatches() {\n      redoActions = [];\n      undoActions = [];\n    },\n    canUndo: function canUndo() {\n      return undoActions.length > 0;\n    },\n    canRedo: function canRedo() {\n      return redoActions.length > 0;\n    },\n    undo: function undo() {\n      var action = undoActions.pop();\n      if (action) {\n        redoActions.push(action);\n        _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__[\"default\"].log('redoActions', redoActions, action);\n        data = (0,immer__WEBPACK_IMPORTED_MODULE_27__.applyPatches)(data, action[1]);\n        rootId = getRootIdByData(data, keywordMapping);\n        self.fireEvent({\n          type: _type__WEBPACK_IMPORTED_MODULE_25__.DataChangeEventType.Undo,\n          value: data\n        });\n      }\n    },\n    redo: function redo() {\n      var action = redoActions.pop();\n      if (action) {\n        undoActions.push(action);\n        _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_24__[\"default\"].log('undoActions', undoActions, action);\n        data = (0,immer__WEBPACK_IMPORTED_MODULE_27__.applyPatches)(data, action[0]);\n        rootId = getRootIdByData(data, keywordMapping);\n        self.fireEvent({\n          type: _type__WEBPACK_IMPORTED_MODULE_25__.DataChangeEventType.Redo,\n          value: data\n        });\n      }\n    },\n    // 获取父控件ID\n    getParentControlId: function getParentControlId(controlId) {\n      var _context17;\n      var control = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(_context17 = data[keywordMapping.items]).call(_context17, function (control) {\n        return control[keywordMapping.id] === controlId;\n      });\n      var parentControlId = control ? control[keywordMapping.parentId] : '';\n      return parentControlId;\n    },\n    // 获取父控件信息\n    getParentControl: function getParentControl(controlId) {\n      var parentControlId = self.getParentControlId(controlId);\n      var parentControl;\n      if (parentControlId) {\n        var _context18;\n        parentControl = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(_context18 = data[keywordMapping.items]).call(_context18, function (control) {\n          return control[keywordMapping.id] === parentControlId;\n        });\n      }\n      return parentControl;\n    },\n    // 获取所有兄弟节点\n    getAllSiblings: function getAllSiblings(controlId) {\n      var parentControlId = self.getParentControlId(controlId);\n      var siblings = [];\n      if (parentControlId) {\n        var _context19;\n        siblings = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(_context19 = data[keywordMapping.items]).call(_context19, function (control) {\n          return !control._Root_ && control[keywordMapping.parentId] === parentControlId;\n        });\n      }\n      return (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(siblings);\n    },\n    // 获取当前节点的前一个节点\n    getPrevSibling: function getPrevSibling(controlId) {\n      var siblings = self.getAllSiblings(controlId);\n      var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_15___default()(siblings).call(siblings, function (control) {\n        return control[keywordMapping.id] === controlId;\n      });\n      var prevIndex = index - 1;\n      return {\n        control: siblings[prevIndex],\n        index: prevIndex\n      };\n    },\n    // 获取当前控件的后一个控件\n    getNextSibling: function getNextSibling(controlId) {\n      var siblings = self.getAllSiblings(controlId);\n      var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_15___default()(siblings).call(siblings, function (control) {\n        return control[keywordMapping.id] === controlId;\n      });\n      var nextIndex = index + 1;\n      return {\n        control: siblings[nextIndex],\n        index: nextIndex\n      };\n    },\n    moveControl: function moveControl(controlId, direction) {\n      var oldData = data;\n      var getSwapControl = self.getPrevSibling;\n      if (direction === 'forward') {\n        // 前移\n      } else if (direction === 'back') {\n        // 后移\n        getSwapControl = self.getNextSibling;\n      }\n      var swapControl = getSwapControl(controlId).control;\n      if (swapControl) {\n        var items = data[keywordMapping.items];\n        var prevSiblingId = swapControl[keywordMapping.id];\n        var prevIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_15___default()(items).call(items, function (control) {\n          return control[keywordMapping.id] === prevSiblingId;\n        });\n        var currentIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_15___default()(items).call(items, function (control) {\n          return control[keywordMapping.id] === controlId;\n        });\n        data = (0,immer__WEBPACK_IMPORTED_MODULE_27__[\"default\"])(data, function (draft) {\n          var tempVariable = _objectSpread({}, swapControl);\n          draft[keywordMapping.items][prevIndex] = draft[keywordMapping.items][currentIndex];\n          draft[keywordMapping.items][currentIndex] = tempVariable;\n        }, function (patches, inversePatches) {\n          savePushPatches(undoActions, patches, inversePatches);\n        });\n        if (oldData !== data) {\n          self.fireEvent({\n            type: _type__WEBPACK_IMPORTED_MODULE_25__.DataChangeEventType.Move,\n            value: data,\n            oldValue: oldData\n          });\n        }\n      }\n    },\n    // 是否是同级节点\n    isSiblings: function isSiblings(controlId1, controlId2) {\n      var parentControlId1 = self.getParentControlId(controlId1);\n      var parentControlId2 = self.getParentControlId(controlId2);\n      if (parentControlId1 === parentControlId2) {\n        return true;\n      }\n      return false;\n    },\n    getSubControls: function getSubControls(controlId) {\n      var _context20;\n      var subControls = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(_context20 = data[keywordMapping.items]).call(_context20, function (control) {\n        return control[keywordMapping.parentId] === controlId;\n      });\n      return subControls;\n    },\n    // 获取当前节点和当前节点的所有子节点\n    getAllSubControls: function getAllSubControls(controlId) {\n      var controls = [];\n      controls.push(self.findControl(controlId));\n      var subControls = self.getSubControls(controlId);\n      if (subControls.length > 0) {\n        var subControlIds = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default()(subControls).call(subControls, function (ids, control) {\n          var _context21;\n          return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context21 = []).call(_context21, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(ids), [control[keywordMapping.id]]);\n        }, []);\n        controls = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default()(subControlIds).call(subControlIds, function (prev, subControlId) {\n          var _context22;\n          return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context22 = []).call(_context22, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(prev), (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(self.getAllSubControls(subControlId)));\n        }, controls);\n      }\n      return controls;\n    },\n    // 获取当前节点和当前节点的所有子节点Id\n    getAllSubControlIds: function getAllSubControlIds(controlId) {\n      var controlIds = [controlId];\n      var subControls = self.getSubControls(controlId);\n      if (subControls.length > 0) {\n        var subControlIds = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default()(subControls).call(subControls, function (ids, control) {\n          var _context23;\n          return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context23 = []).call(_context23, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(ids), [control[keywordMapping.id]]);\n        }, []);\n        controlIds = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_16___default()(subControlIds).call(subControlIds, function (prev, subControlId) {\n          var _context24;\n          return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context24 = []).call(_context24, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(prev), (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(self.getAllSubControlIds(subControlId)));\n        }, controlIds);\n      }\n      return controlIds;\n    },\n    getContainerControl: function getContainerControl(control) {\n      var _getControlMeta;\n      var isContainer = (_getControlMeta = (0,_meta__WEBPACK_IMPORTED_MODULE_26__.getControlMeta)((0,_meta__WEBPACK_IMPORTED_MODULE_26__.getControlType)(control, config))(meta)) === null || _getControlMeta === void 0 ? void 0 : _getControlMeta.IsContainer;\n      if (!isContainer) {\n        control = self.findControlByCondition(function (item) {\n          var _control;\n          return item[keywordMapping.id] === ((_control = control) === null || _control === void 0 ? void 0 : _control[keywordMapping.parentId]);\n        })[0];\n      }\n      return control;\n    },\n    getAllParentControls: function getAllParentControls(controlId, includeSelf) {\n      var node = self.findControl(controlId);\n      var ret = includeSelf ? [node] : [];\n      var queue = [node];\n      while (queue.length) {\n        var _node = queue.pop();\n        if (_node[keywordMapping.parentId]) {\n          var parent = self.findControl(_node[keywordMapping.parentId]);\n          if (parent) {\n            queue.push(parent);\n            ret.push(parent);\n          }\n        }\n      }\n      return ret;\n    },\n    getAllParentControlIds: function getAllParentControlIds(controlId, includeSelf) {\n      var node = self.findControl(controlId);\n      var ret = includeSelf ? [node[keywordMapping.id]] : [];\n      var queue = [node];\n      while (queue.length) {\n        var _node2 = queue.pop();\n        if (_node2[keywordMapping.parentId]) {\n          var parent = self.findControl(_node2[keywordMapping.parentId]);\n          if (parent) {\n            queue.push(parent);\n            ret.push(parent[keywordMapping.id]);\n          }\n        }\n      }\n      return ret;\n    },\n    // 获取下一个选中的焦点控件\n    getNextSelectedControlId: function getNextSelectedControlId(controlId) {\n      var _self$getPrevSibling = self.getPrevSibling(controlId),\n        prevControl = _self$getPrevSibling.control;\n      var _self$getNextSibling = self.getNextSibling(controlId),\n        nextControl = _self$getNextSibling.control;\n      var parentControlId = self.getParentControlId(controlId);\n      var nextSelectedId = controlId;\n      if (prevControl) nextSelectedId = prevControl[keywordMapping.id];else if (nextControl) nextSelectedId = nextControl[keywordMapping.id];else if (parentControlId) nextSelectedId = parentControlId;\n      return nextSelectedId;\n    },\n    // 过滤控件\n    filterControls: function filterControls(fn) {\n      var _context25;\n      return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_13___default()(_context25 = data[keywordMapping.items]).call(_context25, fn);\n    },\n    getRealControlType: function getRealControlType(field, key) {\n      var _context26;\n      if (field === undefined) return '';\n      var containerType = field.ContainerType,\n        type = field._Type_;\n      var defaultType = key === undefined ? type : field[key] || type;\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_21___default()(_context26 = ['FlexPanelAp', 'FieldsetPanelAp']).call(_context26, type)) {\n        return containerType || defaultType;\n      }\n      return defaultType;\n    }\n  };\n  return self;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (create);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/data/data-provider.tsx?");

/***/ }),

/***/ 79444:
/*!**********************************************************!*\
  !*** ../kd-designer/src/editor/BorderPropertyEditor.tsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 88836);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _common_ColorPicker__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./common/ColorPicker */ 87544);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _designer_utils_utils_hooks__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../designer-utils/utils/hooks */ 82892);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../designer-utils */ 89592);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context9, _context10; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context9 = ownKeys(Object(t), !0)).call(_context9, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context10 = ownKeys(Object(t))).call(_context10, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\nvar Option = _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_17__.Select.Option;\nvar borderString2Obj = function borderString2Obj(str) {\n  if (!str) {\n    return {};\n  }\n  var array = (0,lodash__WEBPACK_IMPORTED_MODULE_18__.split)(str, '_');\n  var obj = {};\n  obj.Width = array[0];\n  obj.Style = array[1];\n  obj.Color = array[2];\n  return obj;\n};\nvar borderObj2String = function borderObj2String(obj) {\n  if (!(obj !== null && obj !== void 0 && obj.Width)) return '';\n  var defaultWidth = '0px';\n  var defaultStyle = 'solid';\n  var defaultColor = '#000000';\n  var str = [defaultWidth, defaultStyle, defaultColor];\n  if (obj !== null && obj !== void 0 && obj.Style) {\n    str[1] = obj.Style;\n  }\n  if (obj !== null && obj !== void 0 && obj.Color) {\n    str[2] = obj.Color;\n  }\n  if (obj !== null && obj !== void 0 && obj.Width) {\n    str[0] = obj.Width;\n  }\n  return str.join('_');\n};\n\n// 快速编辑\nvar SingleBorderPanel = function SingleBorderPanel(props) {\n  var handlePropValueChange = props.handleChange,\n    _props$value = props.value,\n    propValue = _props$value === void 0 ? {} : _props$value,\n    className = props.className,\n    editor = props.editor;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState, 2),\n    showPanel = _useState2[0],\n    setShowPanel = _useState2[1];\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_15__.useRef)(null);\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_15__.useRef)(null);\n  var getInitialColor = function getInitialColor() {\n    var _style$Border, _style$Border2, _style$Border3, _style$Border4;\n    var style = _objectSpread({}, propValue);\n    if (!(style !== null && style !== void 0 && style.Border)) {\n      return '';\n    }\n    var t = style === null || style === void 0 || (_style$Border = style.Border) === null || _style$Border === void 0 ? void 0 : _style$Border.Top;\n    var r = style === null || style === void 0 || (_style$Border2 = style.Border) === null || _style$Border2 === void 0 ? void 0 : _style$Border2.Right;\n    var b = style === null || style === void 0 || (_style$Border3 = style.Border) === null || _style$Border3 === void 0 ? void 0 : _style$Border3.Bottom;\n    var l = style === null || style === void 0 || (_style$Border4 = style.Border) === null || _style$Border4 === void 0 ? void 0 : _style$Border4.Left;\n    t = t ? t.split('_')[2] : '';\n    r = r ? r.split('_')[2] : '';\n    b = b ? b.split('_')[2] : '';\n    l = l ? l.split('_')[2] : '';\n    if (t === r && t === b && t === l) {\n      return t;\n    }\n    return '';\n  };\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(getInitialColor()),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState3, 2),\n    colorInputValue = _useState4[0],\n    setColorInputValue = _useState4[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(function () {\n    setColorInputValue(function () {\n      return getInitialColor();\n    });\n  }, [propValue]);\n  var getFormatNum = function getFormatNum(value, mold, dir) {\n    var _v = '0';\n    if (mold == 'Border') {\n      var _d = value === null || value === void 0 ? void 0 : value[dir];\n      var obj = borderString2Obj(_d);\n      _v = (obj === null || obj === void 0 ? void 0 : obj.Width) || '';\n    } else {\n      _v = (value === null || value === void 0 ? void 0 : value[dir]) || '';\n    }\n    if ((0,lodash__WEBPACK_IMPORTED_MODULE_18__.endsWith)(_v, 'px')) {\n      _v = (0,lodash__WEBPACK_IMPORTED_MODULE_18__.replace)(_v, 'px', '');\n    }\n    return _v;\n  };\n  var getPropFormatValue = function getPropFormatValue(mold) {\n    var _context4, _context5, _context6;\n    var formatValue = [];\n    var value = propValue === null || propValue === void 0 ? void 0 : propValue[mold];\n    formatValue[0] = getFormatNum(value, mold, 'Top');\n    formatValue[1] = getFormatNum(value, mold, 'Right');\n    formatValue[2] = getFormatNum(value, mold, 'Bottom');\n    formatValue[3] = getFormatNum(value, mold, 'Left');\n    if (formatValue[0] === formatValue[1] && formatValue[0] === formatValue[2] && formatValue[0] === formatValue[3]) {\n      return formatValue[0] === '0' ? '0' : formatValue[0];\n    }\n    if (formatValue[0] === formatValue[2] && formatValue[1] === formatValue[3]) {\n      var _context;\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context = \"\".concat(formatValue[0] || 0, \" \")).call(_context, formatValue[1] || 0);\n    }\n    if (formatValue[1] === formatValue[3]) {\n      var _context2, _context3;\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context3 = \"\".concat(formatValue[0] || 0, \" \")).call(_context3, formatValue[1] || 0, \" \")).call(_context2, formatValue[2] || 0);\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context4 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context5 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context6 = \"\".concat(formatValue[0] || 0, \" \")).call(_context6, formatValue[1] || 0, \" \")).call(_context5, formatValue[2] || 0, \" \")).call(_context4, formatValue[3] || 0);\n  };\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(function () {\n      return getPropFormatValue('Margin');\n    }),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState5, 2),\n    margin = _useState6[0],\n    setMargin = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(function () {\n      return getPropFormatValue('Border');\n    }),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState7, 2),\n    border = _useState8[0],\n    setBorder = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(function () {\n      return getPropFormatValue('Padding');\n    }),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState9, 2),\n    padding = _useState10[0],\n    setPadding = _useState10[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(function () {\n    var newMargin = getPropFormatValue('Margin');\n    var newBorder = getPropFormatValue('Border');\n    var newPadding = getPropFormatValue('Padding');\n    if (margin !== newMargin) {\n      setMargin(newMargin);\n    }\n    if (border !== newBorder) {\n      setMargin(newBorder);\n    }\n    if (padding !== newPadding) {\n      setMargin(newPadding);\n    }\n  }, [propValue]);\n  var getBorderStyle = function getBorderStyle(propArr, style) {\n    var arr1, arr2, arr3, arr4;\n    var length = propArr.length;\n    if (length === 1) {\n      arr1 = arr2 = arr3 = arr4 = propArr[0];\n    } else if (length === 2) {\n      arr1 = arr3 = propArr[0];\n      arr2 = arr4 = propArr[1];\n    } else if (length === 3) {\n      arr1 = propArr[0];\n      arr2 = arr4 = propArr[1];\n      arr3 = propArr[2];\n    } else if (length === 4) {\n      arr1 = propArr[0];\n      arr2 = propArr[1];\n      arr3 = propArr[2];\n      arr4 = propArr[3];\n    }\n    var borderTop = {\n      Width: \"\".concat(arr1 || '', \"px\")\n    };\n    var borderRight = {\n      Width: \"\".concat(arr2 || '', \"px\")\n    };\n    var borderBottom = {\n      Width: \"\".concat(arr3 || '', \"px\")\n    };\n    var borderLeft = {\n      Width: \"\".concat(arr4 || '', \"px\")\n    };\n    if (style !== null && style !== void 0 && style.Border) {\n      var _style$Border5, _style$Border6, _style$Border7, _style$Border8;\n      /* 某个direction不存在的情况 */\n      borderTop = _objectSpread(_objectSpread({}, borderString2Obj(style === null || style === void 0 || (_style$Border5 = style.Border) === null || _style$Border5 === void 0 ? void 0 : _style$Border5.Top)), {}, {\n        Width: \"\".concat(arr1, \"px\")\n      });\n      borderRight = _objectSpread(_objectSpread({}, borderString2Obj(style === null || style === void 0 || (_style$Border6 = style.Border) === null || _style$Border6 === void 0 ? void 0 : _style$Border6.Right)), {}, {\n        Width: \"\".concat(arr2, \"px\")\n      });\n      borderBottom = _objectSpread(_objectSpread({}, borderString2Obj(style === null || style === void 0 || (_style$Border7 = style.Border) === null || _style$Border7 === void 0 ? void 0 : _style$Border7.Bottom)), {}, {\n        Width: \"\".concat(arr3, \"px\")\n      });\n      borderLeft = _objectSpread(_objectSpread({}, borderString2Obj(style === null || style === void 0 || (_style$Border8 = style.Border) === null || _style$Border8 === void 0 ? void 0 : _style$Border8.Left)), {}, {\n        Width: \"\".concat(arr4, \"px\")\n      });\n    }\n    return {\n      Top: borderObj2String(borderTop),\n      Right: borderObj2String(borderRight),\n      Bottom: borderObj2String(borderBottom),\n      Left: borderObj2String(borderLeft)\n    };\n  };\n  var updateMoldStyle = function updateMoldStyle(style, mold, tmp) {\n    var _style = style;\n    if (!_style) {\n      _style = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, mold, tmp);\n      handlePropValueChange(_style);\n    } else {\n      handlePropValueChange(_objectSpread(_objectSpread({}, style), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, mold, tmp)));\n    }\n  };\n  var handleInputChange = function handleInputChange(val, mold) {\n    var _context7, _context8;\n    var reg = /^[\\d\\s]*$/;\n    if (!reg.test(val)) return;\n    var propArr = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(_context7 = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13___default()(_context8 = val.replace(/(^\\s*)|(\\s*$)/g, '').replace(/\\s{2,}/g, ' ').split(' ')).call(_context8, 0, 4)).call(_context7, function (v) {\n      // if (mold === 'Border') {\n      //   return checkStyleBorderWidth(val, this.props.uiInfo, this.props.notifyMsg)\n      // }\n      return v;\n    });\n    var _val = propArr.length === 4 ? propArr.join(' ') : val;\n    if (mold === 'Border') {\n      setBorder(_val);\n    } else if (mold === 'Padding') {\n      setPadding(_val);\n    } else if (mold === 'Margin') {\n      setMargin(_val);\n    }\n    // this.setState({\n    //   [mold]: _val\n    // })\n\n    var style = _objectSpread({}, propValue);\n    if (propArr.length === 1) {\n      /* 处理val为空字符串 */\n      var isNothing = propArr[0] === '';\n      if (mold === 'Border') {\n        var tmp = isNothing ? {} : getBorderStyle(propArr, style);\n        updateMoldStyle(style, mold, tmp);\n      } else {\n        var _tmp = isNothing ? {} : {\n          Top: \"\".concat(propArr[0], \"px\"),\n          Right: \"\".concat(propArr[0], \"px\"),\n          Bottom: \"\".concat(propArr[0], \"px\"),\n          Left: \"\".concat(propArr[0], \"px\")\n        };\n        updateMoldStyle(style, mold, _tmp);\n      }\n    } else if (propArr.length === 2) {\n      if (mold === 'Border') {\n        var _tmp2 = getBorderStyle(propArr, style);\n        updateMoldStyle(style, mold, _tmp2);\n      } else {\n        var _tmp3 = {\n          Top: \"\".concat(propArr[0], \"px\"),\n          Right: \"\".concat(propArr[1], \"px\"),\n          Bottom: \"\".concat(propArr[0], \"px\"),\n          Left: \"\".concat(propArr[1], \"px\")\n        };\n        updateMoldStyle(style, mold, _tmp3);\n      }\n    } else if (propArr.length === 3) {\n      if (mold === 'Border') {\n        var _tmp4 = getBorderStyle(propArr, style);\n        updateMoldStyle(style, mold, _tmp4);\n      } else {\n        var _tmp5 = {\n          Top: \"\".concat(propArr[0], \"px\"),\n          Right: \"\".concat(propArr[1], \"px\"),\n          Bottom: \"\".concat(propArr[2], \"px\"),\n          Left: \"\".concat(propArr[1], \"px\")\n        };\n        updateMoldStyle(style, mold, _tmp5);\n      }\n    } else if (propArr.length === 4) {\n      if (mold === 'Border') {\n        var _tmp6 = getBorderStyle(propArr, style);\n        updateMoldStyle(style, mold, _tmp6);\n      } else {\n        var _tmp7 = {\n          Top: \"\".concat(propArr[0], \"px\"),\n          Right: \"\".concat(propArr[1], \"px\"),\n          Bottom: \"\".concat(propArr[2], \"px\"),\n          Left: \"\".concat(propArr[3], \"px\")\n        };\n        updateMoldStyle(style, mold, _tmp7);\n      }\n    }\n  };\n  var getDirBorderColor = function getDirBorderColor(style, color, dir) {\n    var _style$Border9;\n    var topBorderDirection = style === null || style === void 0 || (_style$Border9 = style.Border) === null || _style$Border9 === void 0 ? void 0 : _style$Border9[dir];\n    var obj = borderString2Obj(topBorderDirection);\n    obj.Color = color;\n    return borderObj2String(obj);\n  };\n  var handleColorInputChange = function handleColorInputChange(event) {\n    var targetValue = event.target.value;\n    setColorInputValue(targetValue);\n    var pattern = /^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/;\n    if (targetValue.match(pattern) || /^themeColor/.test(targetValue)) {\n      onColorChange(targetValue);\n    }\n  };\n  var onColorChange = function onColorChange(color) {\n    var _style3;\n    var style = _objectSpread({}, propValue);\n    if (!style) {\n      style = {};\n    }\n    if (!((_style3 = style) !== null && _style3 !== void 0 && _style3.Border)) {\n      style.Border = {};\n      setBorder('1');\n    }\n    var tBorder = getDirBorderColor(style, color, 'Top');\n    var rBorder = getDirBorderColor(style, color, 'Right');\n    var bBorder = getDirBorderColor(style, color, 'Bottom');\n    var lBorder = getDirBorderColor(style, color, 'Left');\n    style.Border = _objectSpread(_objectSpread({}, style.Border), {}, {\n      Top: tBorder,\n      Right: rBorder,\n      Bottom: bBorder,\n      Left: lBorder\n    });\n    handlePropValueChange(style);\n  };\n\n  // const color = getColor(getInitialColor())\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"singleBorderpanel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"singlepanel-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"label\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('designer.editor.key0001')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_17__.Input, {\n    borderType: \"bordered\",\n    value: margin,\n    onChange: function onChange(e) {\n      return handleInputChange(e.target.value, 'Margin');\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"singlepanel-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"label\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('designer.editor.key0002')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_17__.Input, {\n    borderType: \"bordered\",\n    value: padding,\n    onChange: function onChange(e) {\n      return handleInputChange(e.target.value, 'Padding');\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"singlepanel-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"label\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('designer.editor.key0003')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_17__.Input, {\n    borderType: \"bordered\",\n    value: border,\n    onChange: function onChange(e) {\n      return handleInputChange(e.target.value, 'Border');\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"singlepanel-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"label\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('designer.editor.key0004')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-color-editor\"),\n    ref: ref\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_common_ColorPicker__WEBPACK_IMPORTED_MODULE_16__.ColorPrefixIcon, {\n    className: \"\".concat(className, \"-color-editor\"),\n    type: \"backgroundColor\",\n    color: colorInputValue,\n    onClick: function onClick() {\n      setShowPanel(true);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_17__.Input, {\n    className: \"\".concat(className, \"-color-editor-input\"),\n    ref: inputRef,\n    borderType: \"bordered\",\n    value: colorInputValue,\n    onChange: handleColorInputChange,\n    onClick: function onClick() {\n      setShowPanel(true);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_common_ColorPicker__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    triggerDom: ref,\n    showPanel: showPanel,\n    colorValue: colorInputValue,\n    onClosePanel: function onClosePanel() {\n      setShowPanel(false);\n    },\n    onChange: onColorChange\n  })));\n};\nvar EditBox = function EditBox(_ref) {\n  var title = _ref.title,\n    bgc = _ref.bgc,\n    mold = _ref.mold,\n    children = _ref.children,\n    value = _ref.value,\n    onChange = _ref.onChange,\n    onFocus = _ref.onFocus;\n  var getValue = function getValue(value, direction) {\n    var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '0';\n    var _v = '';\n    if (value) {\n      if (mold == 'Border') {\n        var _d = value[direction];\n        if (_d === '') {\n          _v = '';\n        } else {\n          var obj = borderString2Obj(_d);\n          _v = (0,lodash__WEBPACK_IMPORTED_MODULE_18__.isUndefined)(obj === null || obj === void 0 ? void 0 : obj.Width) ? defaultValue : obj === null || obj === void 0 ? void 0 : obj.Width;\n        }\n      } else {\n        _v = (0,lodash__WEBPACK_IMPORTED_MODULE_18__.isUndefined)(value[direction]) ? defaultValue : value[direction];\n      }\n      if ((0,lodash__WEBPACK_IMPORTED_MODULE_18__.endsWith)(_v, 'px')) {\n        _v = (0,lodash__WEBPACK_IMPORTED_MODULE_18__.replace)(_v, 'px', '');\n      }\n    }\n    return _v;\n  };\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(function () {\n      return getValue(value, 'Top');\n    }),\n    _useState12 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState11, 2),\n    topValue = _useState12[0],\n    setTopValue = _useState12[1];\n  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(function () {\n      return getValue(value, 'Left');\n    }),\n    _useState14 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState13, 2),\n    leftValue = _useState14[0],\n    setLeftValue = _useState14[1];\n  var _useState15 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(function () {\n      return getValue(value, 'Right');\n    }),\n    _useState16 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState15, 2),\n    rightValue = _useState16[0],\n    setRightValue = _useState16[1];\n  var _useState17 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(function () {\n      return getValue(value, 'Bottom');\n    }),\n    _useState18 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState17, 2),\n    bottomValue = _useState18[0],\n    setBottomValue = _useState18[1];\n  var handleChange = function handleChange(value, mold, direction) {\n    var map = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_14___default())([['Top', setTopValue], ['Left', setLeftValue], ['Right', setRightValue], ['Bottom', setBottomValue]]);\n    var inputChangeFn = map.get(direction);\n    inputChangeFn === null || inputChangeFn === void 0 || inputChangeFn(value);\n    onChange && onChange(value, mold, direction);\n  };\n  var handleFocus = function handleFocus(mold, direction) {\n    onFocus && onFocus(mold, direction);\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(function () {\n    var newTopValue = getValue(value, 'Top');\n    var newLeftValue = getValue(value, 'Left');\n    var newRightValue = getValue(value, 'Right');\n    var newBottomValue = getValue(value, 'Bottom');\n    if (newTopValue !== topValue) {\n      setTopValue(function () {\n        return getValue(value, 'Top');\n      });\n    }\n    if (newLeftValue !== leftValue) {\n      setLeftValue(function () {\n        return getValue(value, 'Left');\n      });\n    }\n    if (newRightValue !== rightValue) {\n      setRightValue(function () {\n        return getValue(value, 'Right');\n      });\n    }\n    if (newBottomValue !== bottomValue) {\n      setBottomValue(function () {\n        return getValue(value, 'Bottom');\n      });\n    }\n  }, [value]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"\".concat(bgc, \" marginbox\"),\n    tabIndex: -1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"top\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"span\", {\n    className: \"title\"\n  }, title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"value\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"input\", {\n    className: \"ip\",\n    onChange: function onChange(e) {\n      return handleChange(e.target.value, mold, 'Top');\n    },\n    onFocus: function onFocus(e) {\n      return handleFocus(mold, 'Top');\n    },\n    value: topValue\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"value\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"input\", {\n    className: \"ip\",\n    onChange: function onChange(e) {\n      return handleChange(e.target.value, mold, 'Left');\n    },\n    onFocus: function onFocus(e) {\n      return handleFocus(mold, 'Left');\n    },\n    value: leftValue\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"content\"\n  }, children), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"value\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"input\", {\n    className: \"ip\",\n    onChange: function onChange(e) {\n      return handleChange(e.target.value, mold, 'Right');\n    },\n    onFocus: function onFocus(e) {\n      return handleFocus(mold, 'Right');\n    },\n    value: rightValue\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"bottom\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"value\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"input\", {\n    className: \"ip\",\n    onChange: function onChange(e) {\n      return handleChange(e.target.value, mold, 'Bottom');\n    },\n    onFocus: function onFocus(e) {\n      return handleFocus(mold, 'Bottom');\n    },\n    value: bottomValue\n  }))));\n};\nvar BorderPropertyEditor = function BorderPropertyEditor(props) {\n  var handleChange = props.handleChange,\n    _props$value2 = props.value,\n    propValue = _props$value2 === void 0 ? {} : _props$value2,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  var _useState19 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(false),\n    _useState20 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState19, 2),\n    showBorder = _useState20[0],\n    setShowBorder = _useState20[1];\n  var _useState21 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(false),\n    _useState22 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState21, 2),\n    showSpecialEditBox = _useState22[0],\n    setShowSpecialEditBox = _useState22[1];\n  var _useState23 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(''),\n    _useState24 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState23, 2),\n    selectDirection = _useState24[0],\n    setSelectDirection = _useState24[1];\n  var _useState25 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(false),\n    _useState26 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState25, 2),\n    showPanel = _useState26[0],\n    setShowPanel = _useState26[1];\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_15__.useRef)(null);\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_15__.useRef)(null);\n  var editBoxRef = (0,react__WEBPACK_IMPORTED_MODULE_15__.useRef)(null);\n  var _useState27 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(false),\n    _useState28 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState27, 2),\n    editBoxFocused = _useState28[0],\n    setEditBoxFocused = _useState28[1];\n  var borderStyles = ['solid', 'dotted', 'dashed'];\n  var panelStyle = classnames__WEBPACK_IMPORTED_MODULE_19___default()({\n    borderpanel: true,\n    hidden: !showBorder\n  });\n  var border = (propValue === null || propValue === void 0 ? void 0 : propValue.Border) || {};\n  var borderObj = borderString2Obj(border === null || border === void 0 ? void 0 : border[selectDirection]);\n  var currentBorderColor = borderObj === null || borderObj === void 0 ? void 0 : borderObj.Color;\n  var _useState29 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(currentBorderColor || ''),\n    _useState30 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_useState29, 2),\n    colorInputValue = _useState30[0],\n    setColorInputValue = _useState30[1];\n  var borderStyle = borderObj === null || borderObj === void 0 ? void 0 : borderObj.Style;\n  (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(function () {\n    setColorInputValue(currentBorderColor || '');\n  }, [currentBorderColor]);\n  var getPropValue = function getPropValue(mold) {\n    if (!propValue) return {};\n    return propValue[mold] || {};\n  };\n  var handleClick = function handleClick(e) {\n    setShowSpecialEditBox(function (flag) {\n      return !flag;\n    });\n  };\n  var onFocus = function onFocus(mold, direction) {\n    setEditBoxFocused(true);\n    if (mold === 'Border') {\n      setShowBorder(true);\n      setSelectDirection(direction);\n    } else {\n      setShowBorder(false);\n    }\n  };\n  var onChange = function onChange(value, mold, direction) {\n    var style = _objectSpread({}, propValue);\n    if (mold === 'Border') {\n      // value = checkStyleBorderWidth(value, this.props.uiInfo, this.props.notifyMsg)\n    }\n    var size = value ? \"\".concat(value, \"px\") : '';\n    var _direction = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, direction, size);\n    if (!style) {\n      if (mold === 'Border') {\n        var obj = {};\n        obj.Width = size;\n        var str = borderObj2String(obj);\n        _direction[direction] = str;\n        handleChange({\n          Border: _direction\n        });\n      } else {\n        handleChange((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, mold, _direction));\n      }\n    } else {\n      if (mold === 'Border') {\n        if (style !== null && style !== void 0 && style[mold]) {\n          var _style$mold;\n          var borderDirection = style === null || style === void 0 || (_style$mold = style[mold]) === null || _style$mold === void 0 ? void 0 : _style$mold[direction];\n          var _obj = borderString2Obj(borderDirection);\n          _obj.Width = size;\n          var _str = borderObj2String(_obj);\n          style[mold] = _objectSpread(_objectSpread({}, style[mold]), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, direction, _str));\n          handleChange(_objectSpread(_objectSpread({}, style), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, mold, _objectSpread(_objectSpread({}, style[mold]), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, direction, _str)))));\n        } else {\n          var _obj2 = {};\n          _obj2.Width = size;\n          var _str2 = borderObj2String(_obj2);\n          _direction = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, direction, _str2);\n          // style[mold] = _direction\n          // handleChange(style)\n          handleChange(_objectSpread(_objectSpread({}, style), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, mold, _direction)));\n        }\n      } else {\n        if (style !== null && style !== void 0 && style[mold]) {\n          style[mold] = _objectSpread(_objectSpread({}, style[mold]), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, direction, size));\n          handleChange(style);\n        } else {\n          style[mold] = _direction;\n          handleChange(style);\n        }\n      }\n    }\n  };\n  var clearStyle = function clearStyle() {\n    handleChange(undefined);\n  };\n  var handleColorInputChange = function handleColorInputChange(e) {\n    var targetValue = e.target.value;\n    setColorInputValue(targetValue);\n    var pattern = /^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/;\n    if (targetValue.match(pattern) || /^themeColor/.test(targetValue)) {\n      handleColorChange(targetValue);\n    }\n  };\n  var handleColorChange = function handleColorChange(color) {\n    var _style4, _style5;\n    var style = _objectSpread({}, propValue);\n    if (!style) {\n      style = {};\n    }\n    if (!((_style4 = style) !== null && _style4 !== void 0 && _style4.Border)) {\n      style.Border = {};\n    }\n    var borderDirection = (_style5 = style) === null || _style5 === void 0 || (_style5 = _style5.Border) === null || _style5 === void 0 ? void 0 : _style5[selectDirection];\n    var obj = borderString2Obj(borderDirection);\n    obj.Color = color;\n    if (!(obj !== null && obj !== void 0 && obj.Width)) {\n      obj.Width = '1px'; // 色值跟width关联\n    }\n    var str = borderObj2String(obj);\n    style.Border = _objectSpread(_objectSpread({}, style.Border), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, selectDirection, str));\n    handleChange(style);\n  };\n  var handleStyleChange = function handleStyleChange(newVal) {\n    var _style6, _style7;\n    var style = _objectSpread({}, propValue);\n    if (!style) {\n      style = {};\n    }\n    if (!((_style6 = style) !== null && _style6 !== void 0 && _style6.Border)) {\n      style.Border = {};\n    }\n    var borderDirection = (_style7 = style) === null || _style7 === void 0 || (_style7 = _style7.Border) === null || _style7 === void 0 ? void 0 : _style7[selectDirection];\n    var obj = borderString2Obj(borderDirection);\n    obj.Style = newVal;\n    if (!(obj !== null && obj !== void 0 && obj.Width)) {\n      obj.Width = '1px'; // Style跟width关联\n    }\n    var str = borderObj2String(obj);\n    style.Border = _objectSpread(_objectSpread({}, style.Border), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, selectDirection, str));\n    handleChange(style);\n  };\n  (0,_designer_utils_utils_hooks__WEBPACK_IMPORTED_MODULE_20__.useOnClickOutside)([editBoxRef], function () {\n    setEditBoxFocused(false);\n    // setShowBorder(false)\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement((react__WEBPACK_IMPORTED_MODULE_15___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-border-editor\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"editTab\",\n    onClick: handleClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"i\", {\n    className: \"kdfont kdfont-yijiaoyingyonghuise\"\n  }), showSpecialEditBox ? (0,_designer_utils__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('designer.editor.key0005') : (0,_designer_utils__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('designer.editor.key0006')), !showSpecialEditBox ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    ref: editBoxRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_19___default()(['edit-box-wrap', {\n      'edit-box-wrap-focused': editBoxFocused\n    }])\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(EditBox, {\n    title: (0,_designer_utils__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('designer.editor.key0001'),\n    mold: \"Margin\",\n    bgc: \"marginbgc\",\n    onFocus: onFocus,\n    value: getPropValue('Margin'),\n    onChange: onChange\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(EditBox, {\n    title: (0,_designer_utils__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('designer.editor.key0003'),\n    mold: \"Border\",\n    bgc: \"borderbgc\",\n    onFocus: onFocus,\n    value: getPropValue('Border'),\n    onChange: onChange\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(EditBox, {\n    title: (0,_designer_utils__WEBPACK_IMPORTED_MODULE_22__.getLangMsg)('designer.editor.key0002'),\n    mold: \"Padding\",\n    bgc: \"paddingbgc\",\n    onFocus: onFocus,\n    value: getPropValue('Padding'),\n    onChange: onChange\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"whbox\",\n    onClick: clearStyle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"i\", {\n    className: \"arrow kdfont kdfont-shuaxin\",\n    \"aria-hidden\": \"true\"\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"line-box top-left\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"line-box bottom-left\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"line-box top-right\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"line-box bottom-right\"\n  })), showBorder && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: panelStyle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"panel-edit-box\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-color-editor\"),\n    ref: ref\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_common_ColorPicker__WEBPACK_IMPORTED_MODULE_16__.ColorPrefixIcon, {\n    className: \"\".concat(className, \"-color-editor\"),\n    type: \"backgroundColor\",\n    color: colorInputValue,\n    onClick: function onClick() {\n      setShowPanel(true);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_17__.Input, {\n    className: \"\".concat(className, \"-color-editor-input\"),\n    ref: inputRef,\n    borderType: \"bordered\",\n    value: colorInputValue,\n    onChange: handleColorInputChange,\n    disabled: locked,\n    onClick: function onClick() {\n      setShowPanel(true);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_common_ColorPicker__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    triggerDom: ref,\n    showPanel: showPanel,\n    colorValue: colorInputValue,\n    onClosePanel: function onClosePanel() {\n      setShowPanel(false);\n    },\n    onChange: handleColorChange\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: \"panel-edit-box\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_17__.Select, {\n    scrollHidden: true,\n    borderType: \"bordered\",\n    placeholder: \"\",\n    onChange: handleStyleChange,\n    value: borderStyle,\n    dropdownRender: function dropdownRender(originNode) {\n      var _originNode$props$chi;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().cloneElement(originNode, {}, (_originNode$props$chi = originNode.props.children) === null || _originNode$props$chi === void 0 || (_originNode$props$chi = _originNode$props$chi.props.data) === null || _originNode$props$chi === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(_originNode$props$chi).call(_originNode$props$chi, function (node) {\n        var borderType = node.props.value;\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().cloneElement(node, {}, [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n          style: {\n            marginTop: '5px',\n            border: \"\".concat(borderType, \" 1px #000\"),\n            flexGrow: 1\n          }\n        })]);\n      }));\n    }\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(borderStyles).call(borderStyles, function (item, index) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(Option, {\n      key: index,\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        height: '28px'\n      },\n      value: item\n    }, item);\n  }))))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(SingleBorderPanel, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, props, {\n    onColorChange: handleColorChange\n  }))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BorderPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/BorderPropertyEditor.tsx?");

/***/ }),

/***/ 78764:
/*!*****************************************************************!*\
  !*** ../kd-designer/src/editor/CheckboxGroupPropertyEditor.tsx ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n/*\n * @Author: wbw\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-06 14:18:10\n * @Last Modified by: fjr\n * @LastEditTime: 2023-05-06 09:40:36\n * @Description: ...\n */\n\n\n\nvar IVALID_FILTER_TYPE = ['1403', '1404'];\nvar CheckboxGroupPropertyEditor = function CheckboxGroupPropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips,\n    lockType = props.LockType,\n    field = props.field,\n    id = props.Id,\n    originPropsValue = props._originPropsValue_;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  var items = editor.Enum;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(function () {\n      return value ? value.split(',') : [];\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    checkBoxValue = _useState2[0],\n    setCheckBoxValue = _useState2[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    var checkBoxStringVal = checkBoxValue.join(',');\n    if (checkBoxStringVal !== value) {\n      setCheckBoxValue(value ? value.split(',') : []);\n    }\n  }, [value]);\n  var handleCheckboxChange = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function (newVal) {\n    setCheckBoxValue(newVal);\n  }, [handleChange]);\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    var newVal = checkBoxValue.length ? checkBoxValue.join(',') : '';\n    if (newVal !== value) {\n      handleChange(newVal);\n    }\n  }, [checkBoxValue]);\n  var _Type_ = field._Type_,\n    Type = field.Type;\n  // 列表过滤出配置短日期，屏蔽时间和时间范围项，后端类型固定无法兼容\n  if (Type === 'date' && _Type_ === 'CommonDateFilterColumnAp') {\n    items = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(items).call(items, function (ele) {\n      return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(IVALID_FILTER_TYPE).call(IVALID_FILTER_TYPE, ele === null || ele === void 0 ? void 0 : ele.Id);\n    });\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement((react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__.Checkbox.Group, {\n    disabled: locked,\n    value: checkBoxValue,\n    className: \"\".concat(className, \"-checkbox-group\"),\n    onChange: handleCheckboxChange\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(items).call(items, function (item) {\n    var itemDisible = item.Disabled || !locked && lockType === 'speciallock' && (originPropsValue === null || originPropsValue === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(originPropsValue).call(originPropsValue, item.Id)) && (checkBoxValue === null || checkBoxValue === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(checkBoxValue).call(checkBoxValue, item.Id));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__.Checkbox, {\n      key: item.Value || item.Id,\n      value: item.Value || item.Id,\n      disabled: itemDisible\n    }, item.Name);\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CheckboxGroupPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/CheckboxGroupPropertyEditor.tsx?");

/***/ }),

/***/ 98020:
/*!************************************************************!*\
  !*** ../kd-designer/src/editor/CheckboxPropertyEditor.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * @Author: wbw\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-06 14:18:10\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-23 15:13:23\n * @Description: ...\n */\n\n\n\nvar CheckboxPropertyEditor = function CheckboxPropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    locked = props.locked,\n    className = props.className,\n    editor = props.editor,\n    name = props.Name,\n    tips = props.Tips,\n    onLinkClick = props.onLinkClick;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__.Checkbox, {\n    checked: value || false,\n    disabled: locked,\n    onChange: function onChange(evt) {\n      handleChange(evt.target.checked);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    onLinkClick: onLinkClick\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CheckboxPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/CheckboxPropertyEditor.tsx?");

/***/ }),

/***/ 14368:
/*!*********************************************************!*\
  !*** ../kd-designer/src/editor/ColorPropertyEditor.tsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _common_ColorPicker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/ColorPicker */ 87544);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n\n\n\n\n\nvar ColorPropertyEditor = function ColorPropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips;\n  var nameHidden = editor.NameHidden,\n    _editor$Prefix = editor.Prefix,\n    prefix = _editor$Prefix === void 0 ? {} : _editor$Prefix,\n    required = editor.Required,\n    title = editor.Title;\n  var _prefix$Type = prefix.Type,\n    type = _prefix$Type === void 0 ? 'foreColor' : _prefix$Type;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    showPanel = _useState2[0],\n    setShowPanel = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(value || ''),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    innerValue = _useState4[0],\n    setInnerValue = _useState4[1];\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var handleChangeInput = function handleChangeInput(event) {\n    var targetValue = event.target.value;\n    setInnerValue(targetValue);\n    handleChange(targetValue);\n  };\n  var handleChangeComplete = function handleChangeComplete(color) {\n    handleChange(color);\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    if (value !== innerValue) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-color-editor\"),\n    ref: ref\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_ColorPicker__WEBPACK_IMPORTED_MODULE_2__.ColorPrefixIcon, {\n    className: \"\".concat(className, \"-color-editor\"),\n    type: type,\n    color: value,\n    onClick: function onClick() {\n      setShowPanel(true);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__.Input, {\n    className: \"\".concat(className, \"-color-editor-input\"),\n    ref: inputRef,\n    borderType: \"bordered\",\n    value: innerValue,\n    onChange: handleChangeInput,\n    disabled: locked,\n    onClick: function onClick() {\n      setShowPanel(true);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_ColorPicker__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    triggerDom: ref,\n    showPanel: !locked && showPanel,\n    colorValue: value,\n    onClosePanel: function onClosePanel() {\n      setShowPanel(false);\n    },\n    onChange: handleChangeComplete\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ColorPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/ColorPropertyEditor.tsx?");

/***/ }),

/***/ 20616:
/*!**********************************************************!*\
  !*** ../kd-designer/src/editor/CustomPropertyEditor.tsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 39832);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../context/global-config-context */ 21708);\n/* harmony import */ var _alias_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../alias-data */ 8744);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../designer-utils */ 89592);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-08 15:14:46\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 13:44:44\n * @Description: ...\n */\n\n\n\n\n\n\n\nvar EditorPropertyCustomInput = function EditorPropertyCustomInput(props) {\n  var _value = props.value,\n    className = props.className,\n    editor = props.editor,\n    propName = props.propName,\n    field = props.field,\n    handleChange = props.handleChange,\n    _onCustomInputClick = props.onCustomInputClick,\n    handleClear = props.handleClear,\n    readOnly = props.ReadOnly,\n    locked = props.locked;\n  var Default = editor.Default,\n    nameHidden = editor.NameHidden,\n    btnName = editor.BtnName,\n    maxLength = editor.MaxLength,\n    _editor$Editable = editor.Editable,\n    editable = _editor$Editable === void 0 ? false : _editor$Editable,\n    _editor$Alias = editor.Alias,\n    alias = _editor$Alias === void 0 ? false : _editor$Alias,\n    _editor$Required = editor.Required,\n    required = _editor$Required === void 0 ? false : _editor$Required,\n    title = editor.Title;\n  var name = props.Name,\n    tips = props.Tips,\n    lockType = props.LockType;\n  var inputProps = {\n    style: {},\n    borderType: 'bordered'\n  };\n  if (editable === true) {\n    (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(inputProps, {\n      maxLength: maxLength\n    });\n  }\n  var value = _value;\n  if (alias === true) {\n    _designer_utils__WEBPACK_IMPORTED_MODULE_8__.console.log('alias', value);\n    value = _value && (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_value) === 'object' ? _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(_value) : _value;\n  }\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n    onCustomInputClick = _useContext.onCustomInputClick,\n    getEditorFormatValue = _useContext.getEditorFormatValue,\n    keywordMapping = _useContext.keywordMapping;\n  var forceUpdate = (0,_designer_utils__WEBPACK_IMPORTED_MODULE_8__.useForceUpdate)();\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_alias_data__WEBPACK_IMPORTED_MODULE_7__.AliasDataContext),\n    addAliasDataChangeListener = _useContext2.addAliasDataChangeListener,\n    getAliasDataPropValue = _useContext2.getAliasDataPropValue;\n  var originValue = value || Default;\n  var renderValue = getEditorFormatValue(propName, field, editor) || (originValue && (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(originValue) === 'object' ? _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(originValue) : originValue);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var subscribe = addAliasDataChangeListener(function () {\n      if (!(0,lodash__WEBPACK_IMPORTED_MODULE_9__.isEqual)(renderValue, getAliasDataPropValue(field[keywordMapping.type], propName, originValue))) {\n        forceUpdate();\n      }\n    });\n    return function () {\n      subscribe();\n    };\n  }, [renderValue, field[keywordMapping.type], propName, originValue]);\n  // locktype=speciallock时，按钮允许点击弹出弹窗查看属性内容\n  var disableBtn = (readOnly || locked) && lockType !== 'speciallock';\n  var onClick = function onClick() {\n    if (disableBtn) return;\n    // 实体相关应该在上层自己构造\n    if (_onCustomInputClick) {\n      _onCustomInputClick && _onCustomInputClick(propName, field, editor);\n    } else {\n      onCustomInputClick && onCustomInputClick(propName, field, editor);\n    }\n  };\n  var showClearBtn = editable === false && !required && !!_value && !readOnly && !locked && lockType !== 'speciallock';\n  // 值为undefined时，kui组件会更新用户输入的值。editable为false，不应该影响用户输入的值，所以改成''\n  var inputValue = renderValue === undefined && editable === false ? '' : renderValue;\n  if (btnName) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n      className: \"\".concat(className, \"-custom-editor\")\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      nameHidden: nameHidden,\n      className: className,\n      name: name,\n      tips: tips,\n      required: required,\n      title: title\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"span\", {\n      onClick: onClick,\n      className: \"\".concat(className, \"-custom-btn\")\n    }, btnName)));\n  }\n  var disableInput = readOnly || locked || lockType === 'speciallock';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-custom-input\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_4__.Input, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, inputProps, {\n    value: inputValue,\n    readOnly: disableInput,\n    disabled: disableInput,\n    suffix: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, showClearBtn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n      title: \"\",\n      className: \"\".concat(className, \"-clear\"),\n      onClick: function onClick() {\n        if (handleClear) {\n          handleClear(Default);\n        } else {\n          handleChange(Default); // || '' 不用空串兜底\n        }\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n      type: \"close\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n      prefix: \"designericon\",\n      type: \"gengduo\",\n      style: {\n        cursor: disableBtn ? 'not-allow' : 'pointer'\n      },\n      onClick: onClick\n    }))\n  }))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditorPropertyCustomInput);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/CustomPropertyEditor.tsx?");

/***/ }),

/***/ 86140:
/*!**************************************************************!*\
  !*** ../kd-designer/src/editor/DatePickerPropertyEditor.tsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorPropertyDatePicker: function() { return /* binding */ EditorPropertyDatePicker; },\n/* harmony export */   EditorPropertyTimePicker: function() { return /* binding */ EditorPropertyTimePicker; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _hooks_useDateLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hooks/useDateLang */ 88776);\n\n/*\n * @Description: 日期选择编辑器\n * @Author: jianhang_he\n * @Date: 2022-08-09 17:17:51\n * @LastEditTime: 2023-11-16 11:16:54\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar EditorPropertyDatePicker = function EditorPropertyDatePicker(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    picker = props.picker,\n    name = props.Name,\n    tips = props.Tips;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    allowClear = editor.AllowClear,\n    borderType = editor.BorderType,\n    placeholder = editor.Placeholder,\n    title = editor.Title,\n    editorPicker = editor.Picker;\n  var langInfo = (0,_hooks_useDateLang__WEBPACK_IMPORTED_MODULE_4__.getDateLangInfo)();\n  // 暂时不知道想要获取什么值和属性，用到的时候才改造吧 包括handleChange\n  // const defaultValue = useMemo(() => {\n  //   return value ?? ''\n  // }, [value])\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__.DatePicker, {\n    className: \"\".concat(className, \"-datepicker-editor\"),\n    dropdownClassName: \"\".concat(className, \"-datepickerpanel-editor\"),\n    disabled: locked,\n    borderType: borderType,\n    allowClear: allowClear,\n    onOk: handleChange,\n    onChange: handleChange,\n    picker: editorPicker || picker,\n    placeholder: placeholder,\n    locale: langInfo\n  }));\n};\nvar EditorPropertyTimePicker = function EditorPropertyTimePicker(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(EditorPropertyDatePicker, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    picker: \"time\"\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditorPropertyDatePicker);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/DatePickerPropertyEditor.tsx?");

/***/ }),

/***/ 5576:
/*!*************************************************************!*\
  !*** ../kd-designer/src/editor/DaterangePropertyEditor.tsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _hooks_useDateLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hooks/useDateLang */ 88776);\n\n/*\n * @Author: wbw\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-16 13:57:05\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-23 15:11:54\n * @Description: ...\n */\n\n\n\n\nvar DaterangePropertyEditor = function DaterangePropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  var handleRangeChange = function handleRangeChange(dates, dateStrings) {\n    var valueToString = dateStrings.join(',');\n    if (valueToString === ',') {\n      valueToString = '';\n    }\n    handleChange(valueToString);\n  };\n  var langInfo = (0,_hooks_useDateLang__WEBPACK_IMPORTED_MODULE_4__.getDateLangInfo)();\n  var defaultRangeValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    var dateStrings = value ? value.split(',') : [];\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default()(dateStrings).call(dateStrings, function (dateString) {\n      return dateString ? new Date(dateString) : null;\n    });\n  }, [value]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__.RangePicker, {\n    className: \"\".concat(className, \"-daterange-editor\"),\n    defaultValue: defaultRangeValue,\n    borderType: \"bordered\",\n    disabled: locked,\n    onChange: handleRangeChange,\n    locale: langInfo\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DaterangePropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/DaterangePropertyEditor.tsx?");

/***/ }),

/***/ 84140:
/*!*************************************************************!*\
  !*** ../kd-designer/src/editor/DimensionPropertyEditor.tsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/parse-float */ 7224);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n/*\n * @Author: wbw\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-06 14:18:10\n * @Last Modified by: fjr\n * @LastEditTime: 2024-01-16 14:13:26\n * @Description: ...\n */\n\n\n\n\nvar Option = _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__.Select.Option;\nvar EditorPropertyDimension = function EditorPropertyDimension(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips;\n  var nameHidden = editor.NameHidden,\n    defaultValue = editor.Default,\n    min = editor.Min,\n    max = editor.Max,\n    _editor$Prefix = editor.Prefix,\n    prefix = _editor$Prefix === void 0 ? {} : _editor$Prefix,\n    required = editor.Required,\n    title = editor.Title,\n    allowClear = editor.AllowClear;\n  var _ref = prefix || {},\n    prefixText = _ref.Value;\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(function () {\n      return value ? String(_babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_2___default()(value)) : '';\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(function () {\n      return (value === null || value === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_3___default()(value).call(value, '%')) > -1 ? '%' : 'px';\n    }),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    unit = _useState4[0],\n    setUnit = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(false),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState5, 2),\n    isFocused = _useState6[0],\n    setIsFocused = _useState6[1];\n  var timer = (0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  var inputProps = {\n    borderType: 'bordered',\n    prefix: prefixText || null,\n    allowClear: allowClear\n  };\n  var inputLimitedProp = (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {\n    var limited = {};\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_8__.isUndefined)(min)) {\n      limited.min = min;\n    }\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_8__.isUndefined)(max)) {\n      limited.max = max;\n    }\n    return limited;\n  }, [min, max]);\n  (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(function () {\n    if (!isFocused) {\n      var newValue = value ? String(_babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_2___default()(value)) : '';\n      var newUnit = (value === null || value === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_3___default()(value).call(value, '%')) > -1 ? '%' : 'px';\n      if (newValue !== innerValue) {\n        setInnerValue(newValue);\n      }\n      if (newUnit !== unit) {\n        setUnit(newUnit);\n      }\n    }\n  }, [value]);\n  var delayUpdateValue = function delayUpdateValue(val) {\n    timer.current && clearTimeout(timer.current);\n    timer.current = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_4___default()(function () {\n      timer.current = null;\n      handleChange(val);\n    }, 300);\n  };\n  var handleChangeInput = function handleChangeInput(evt) {\n    var targetValue = evt.target.value;\n    setInnerValue(targetValue);\n    if (targetValue === '') {\n      delayUpdateValue(undefined);\n    } else {\n      var newValue = _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_2___default()(evt.target.value) + unit;\n      delayUpdateValue(newValue);\n    }\n  };\n  var handleUnitChange = function handleUnitChange(newVal) {\n    if (innerValue) {\n      var valueMix = innerValue + newVal;\n      handleChange(valueMix);\n    } else {\n      setUnit(newVal);\n    }\n  };\n  var onFocus = function onFocus() {\n    setIsFocused(true);\n  };\n  var onBlur = function onBlur() {\n    setIsFocused(false);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement((react__WEBPACK_IMPORTED_MODULE_5___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-dimission-editor\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__.InputNumber, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, inputProps, {\n    zeroShow: true,\n    className: \"\".concat(className, \"-dimission-editor-input\"),\n    ref: inputRef,\n    value: innerValue,\n    onKeyPress: function onKeyPress(event) {\n      event.stopPropagation();\n      var invalidChars = ['-', '+', 'e', 'E'];\n      if (_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_3___default()(invalidChars).call(invalidChars, event.key) !== -1) {\n        event.preventDefault();\n      }\n    },\n    onChange: handleChangeInput,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    disabled: locked,\n    mustInScope: false\n  }, inputLimitedProp)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__.Select, {\n    scrollHidden: true,\n    className: \"\".concat(className, \"-dimission-editor-unit\"),\n    borderType: \"none\",\n    value: unit,\n    onChange: handleUnitChange\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(Option, {\n    value: \"px\"\n  }, \"px\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(Option, {\n    value: \"%\"\n  }, \"%\"))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditorPropertyDimension);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/DimensionPropertyEditor.tsx?");

/***/ }),

/***/ 36452:
/*!**************************************************************!*\
  !*** ../kd-designer/src/editor/EditSelectPropertyEditor.tsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorPropertyEditSelect: function() { return /* binding */ EditorPropertyEditSelect; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../designer-utils */ 89592);\n\n\n\n\n\n\nvar EditorPropertyEditSelect = function EditorPropertyEditSelect(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    _options = props.options,\n    name = props.Name,\n    tips = props.Tips,\n    _props$scrollHidden = props.scrollHidden,\n    scrollHidden = _props$scrollHidden === void 0 ? true : _props$scrollHidden,\n    dropdownClassName = props.dropdownClassName;\n  var Enum = editor.Enum,\n    defaultValue = editor.Default,\n    nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title,\n    placeholder = editor.Placeholder;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(value || defaultValue),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    setInnerValue(value);\n  }, [value]);\n  var options = _options || _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(Enum).call(Enum, function (option) {\n    var _option$Value;\n    return {\n      value: (_option$Value = option.Value) !== null && _option$Value !== void 0 ? _option$Value : option.Id,\n      label: option.Name,\n      disabled: option.Locked || false\n    };\n  });\n  var _handleChange = function _handleChange(value) {\n    handleChange(value);\n    setInnerValue(value);\n  };\n  var handleSearch = function handleSearch(value) {\n    setInnerValue(value);\n  };\n  var handleBlur = function handleBlur() {\n    handleChange(innerValue);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__.Select, {\n    className: \"\".concat(className, \"-edit-select\"),\n    scrollHidden: scrollHidden,\n    disabled: locked,\n    placeholder: placeholder || (0,_designer_utils__WEBPACK_IMPORTED_MODULE_5__.getLangMsg)('designer.editor.key0009'),\n    borderType: \"bordered\",\n    value: innerValue,\n    allowClear: true,\n    onChange: _handleChange,\n    options: options,\n    notFoundContent: (0,_designer_utils__WEBPACK_IMPORTED_MODULE_5__.getLangMsg)('designer.editor.key0021'),\n    dropdownClassName: dropdownClassName,\n    showSearch: true,\n    onSearch: handleSearch,\n    filterOption: false,\n    onBlur: handleBlur\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditorPropertyEditSelect);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/EditSelectPropertyEditor.tsx?");

/***/ }),

/***/ 87332:
/*!********************************************************!*\
  !*** ../kd-designer/src/editor/IconPropertyEditor.tsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// icon复选编辑器\nvar IconPropertyEditor = function IconPropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    locked = props.locked;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Checkbox, {\n    value: value || false,\n    disabled: locked,\n    onChange: function onChange(evt) {\n      handleChange(evt.target.value);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Icons[props.Name])));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (IconPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/IconPropertyEditor.tsx?");

/***/ }),

/***/ 33224:
/*!*********************************************************!*\
  !*** ../kd-designer/src/editor/InputPropertyEditor.tsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../context/global-config-context */ 21708);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../designer-utils */ 89592);\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-03-07 19:57:59\n * @LastEditTime: 2024-01-24 11:18:12\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar isTextArea = function isTextArea(type) {\n  return type === 'TextArea';\n};\nvar InputPropertyEditor = function InputPropertyEditor(props) {\n  var _context;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    locked = props.locked,\n    Editor = props.Editor,\n    propName = props.Name,\n    field = props.field,\n    propId = props.Id,\n    tips = props.Tips,\n    inputTitle = props.InputTitle,\n    dataContext = props.dataContext;\n  var nameHidden = Editor.NameHidden,\n    MaxLength = Editor.MaxLength,\n    Min = Editor.Min,\n    Max = Editor.Max,\n    required = Editor.Required,\n    type = Editor.Type,\n    placeholder = Editor.Placeholder,\n    autoSize = Editor.AutoSize,\n    count = Editor.Count,\n    countPosition = Editor.CountPosition,\n    canResize = Editor.CanResize,\n    nameTitle = Editor.Title,\n    subTitle = Editor.SubTitle,\n    allowClear = Editor.AllowClear;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_5__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n    setMessage = _useContext.showMessage,\n    validateProps = _useContext.validateProps,\n    lowerCaseProps = _useContext.lowerCaseProps;\n  var title = inputTitle || (MaxLength ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context = \"\".concat((0,_designer_utils__WEBPACK_IMPORTED_MODULE_9__.getLangMsg)('designer.editor.key0007') || '最多输入字符数', \":\")).call(_context, MaxLength) : '');\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(value || ''),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    isFocused = _useState4[0],\n    setIsFocused = _useState4[1];\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  var timer = (0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(function () {\n    if (!isFocused && value !== innerValue) {\n      setInnerValue(value);\n    }\n  }, [value, isFocused]);\n  var delayUpdateValue = function delayUpdateValue(val) {\n    if (val === value) return;\n    timer.current && clearTimeout(timer.current);\n    timer.current = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2___default()(function () {\n      timer.current = null;\n      handleChange(val);\n    }, 300);\n  };\n  var onChange = function onChange(e) {\n    var _e$target;\n    var inputValue = ((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value) || '';\n    if (lowerCaseProps && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(lowerCaseProps).call(lowerCaseProps, propId)) {\n      inputValue = inputValue.toLowerCase();\n    }\n    setInnerValue(inputValue);\n    delayUpdateValue(inputValue);\n  };\n  var onKeyDown = function onKeyDown(e) {\n    if (e.nativeEvent.keyCode === 13) {\n      onBlur(e);\n    }\n  };\n  var onFocus = function onFocus() {\n    setIsFocused(true);\n  };\n\n  // 校验\n  var uniqueValidate = function uniqueValidate(val) {\n    var dataItems = (dataContext === null || dataContext === void 0 ? void 0 : dataContext.getData().Items) || [];\n    var propIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_4___default()(dataItems).call(dataItems, function (item) {\n      return item.Id !== field.Id && item[propId] === val;\n    });\n    return propIndex === -1;\n  };\n  var onBlur = function onBlur(e) {\n    var inputValue = e.target.value;\n    if (lowerCaseProps && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(lowerCaseProps).call(lowerCaseProps, propId)) {\n      inputValue = inputValue.toLowerCase();\n    }\n    if (validateProps && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(validateProps).call(validateProps, propId) && !uniqueValidate(inputValue)) {\n      // 校验不通过，提示\n      setMessage((0,_designer_utils__WEBPACK_IMPORTED_MODULE_9__.getLangMsg)({\n        key: 'designer.msg.key0004',\n        variables: {\n          inputValue: inputValue\n        }\n      }), 'warn');\n    }\n    handleChange(inputValue);\n    _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2___default()(function () {\n      setIsFocused(false);\n    }, 300);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement((react__WEBPACK_IMPORTED_MODULE_5___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: propName,\n    tips: tips,\n    required: required,\n    title: nameTitle,\n    subTitle: subTitle\n  }), isTextArea(type) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__.TextArea, {\n    ref: inputRef,\n    value: innerValue,\n    disabled: locked,\n    title: title,\n    maxLength: MaxLength,\n    placeholder: placeholder || (0,_designer_utils__WEBPACK_IMPORTED_MODULE_9__.getLangMsg)('designer.editor.key0008'),\n    borderType: \"bordered\",\n    autoSize: autoSize !== null && autoSize !== void 0 ? autoSize : {\n      minRows: 3,\n      maxRows: 3\n    },\n    count: count,\n    countPosition: countPosition,\n    canResize: canResize,\n    allowClear: allowClear,\n    onKeyDown: onKeyDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onChange: onChange\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__.Input, {\n    ref: inputRef,\n    value: innerValue,\n    disabled: locked,\n    title: title,\n    maxLength: MaxLength,\n    placeholder: placeholder || (0,_designer_utils__WEBPACK_IMPORTED_MODULE_9__.getLangMsg)('designer.editor.key0008'),\n    borderType: \"bordered\",\n    allowClear: allowClear,\n    onKeyDown: onKeyDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onChange: onChange\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (InputPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/InputPropertyEditor.tsx?");

/***/ }),

/***/ 53460:
/*!*********************************************************!*\
  !*** ../kd-designer/src/editor/RadioPropertyEditor.tsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);\n\n\n/*\n * @Author: wbw\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-08 15:14:46\n * @Last Modified by: fjr\n * @LastEditTime: 2023-03-30 14:37:48\n * @Description: ...\n */\n\n\n\n\n\nvar Group = _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__.Radio.Group;\nvar RadioPropertyEditor = function RadioPropertyEditor(props) {\n  var _Enum$0$Value, _Enum$, _Enum$2;\n  var handleChange = props.handleChange,\n    className = props.className,\n    value = props.value,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips;\n  var Enum = editor.Enum,\n    Default = editor.Default,\n    nameHidden = editor.NameHidden,\n    required = editor.Required,\n    vertical = editor.Vertical,\n    title = editor.Title;\n  var defaultValue = Default || Enum && ((_Enum$0$Value = (_Enum$ = Enum[0]) === null || _Enum$ === void 0 ? void 0 : _Enum$.Value) !== null && _Enum$0$Value !== void 0 ? _Enum$0$Value : (_Enum$2 = Enum[0]) === null || _Enum$2 === void 0 ? void 0 : _Enum$2.Id);\n  var activeValue = (0,lodash__WEBPACK_IMPORTED_MODULE_4__.isUndefined)(value) ? defaultValue : value;\n  var options = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(Enum).call(Enum, function (option) {\n    var _option$Value;\n    return {\n      label: option.Name,\n      value: (_option$Value = option.Value) !== null && _option$Value !== void 0 ? _option$Value : option.Id\n    };\n  });\n  var onChange = function onChange(evt) {\n    handleChange(evt.target.value);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Group, {\n    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(className, \"-radio-editor-vertical\"), vertical)),\n    disabled: locked,\n    value: activeValue,\n    onChange: onChange,\n    options: options\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RadioPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/RadioPropertyEditor.tsx?");

/***/ }),

/***/ 81980:
/*!************************************************************!*\
  !*** ../kd-designer/src/editor/ReadonlyPropertyEditor.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar ReadonlyPropertyEditor = function ReadonlyPropertyEditor(props) {\n  // TODO: tips\n  var value = props.value,\n    name = props.Name,\n    className = props.className;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-readonly\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"\".concat(className, \"-readonly-title\"),\n    title: name\n  }, name, \"\\uFF1A\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"\".concat(className, \"-readonly-content\"),\n    title: value\n  }, value));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReadonlyPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/ReadonlyPropertyEditor.tsx?");

/***/ }),

/***/ 17852:
/*!**********************************************************!*\
  !*** ../kd-designer/src/editor/SelectPropertyEditor.tsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorPropertyMultiSelect: function() { return /* binding */ EditorPropertyMultiSelect; },\n/* harmony export */   EditorPropertySelect: function() { return /* binding */ EditorPropertySelect; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/some */ 65624);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../designer-utils */ 89592);\n\n\n\n\n\n/*\n * @Author: wbw\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-06 14:18:10\n * @Last Modified by: fjr\n * @LastEditTime: 2023-10-19 17:50:45\n * @Description: ...\n */\n\n\n\n\n\nvar EditorPropertySelect = function EditorPropertySelect(props) {\n  var _Enum$0$Value, _Enum$, _Enum$2;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    _options = props.options,\n    multiple = props.multiple,\n    name = props.Name,\n    tips = props.Tips,\n    _props$scrollHidden = props.scrollHidden,\n    scrollHidden = _props$scrollHidden === void 0 ? true : _props$scrollHidden,\n    _props$allowExistValu = props.allowExistValueNotInOptions,\n    allowExistValueNotInOptions = _props$allowExistValu === void 0 ? false : _props$allowExistValu,\n    dropdownClassName = props.dropdownClassName;\n  var Enum = editor.Enum,\n    Default = editor.Default,\n    nameHidden = editor.NameHidden,\n    required = editor.Required,\n    _editor$AllowClear = editor.AllowClear,\n    allowClear = _editor$AllowClear === void 0 ? true : _editor$AllowClear,\n    title = editor.Title,\n    placeholder = editor.Placeholder;\n  var isMultiple = !!multiple;\n  var selectValue = isMultiple ? [] : Default || Enum && ((_Enum$0$Value = (_Enum$ = Enum[0]) === null || _Enum$ === void 0 ? void 0 : _Enum$.Value) !== null && _Enum$0$Value !== void 0 ? _Enum$0$Value : (_Enum$2 = Enum[0]) === null || _Enum$2 === void 0 ? void 0 : _Enum$2.Id);\n  _designer_utils__WEBPACK_IMPORTED_MODULE_9__.console.log('selectValue', selectValue);\n  // if (selectValue === undefined || selectValue === null) return `selectValue: ${selectValue}`\n  var options = _options || _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(Enum).call(Enum, function (option) {\n    var _option$Value;\n    return {\n      value: (_option$Value = option.Value) !== null && _option$Value !== void 0 ? _option$Value : option.Id,\n      label: option.Name,\n      disabled: option.Locked || false\n    };\n  });\n  var renderValue = getRenderValue(options, value, isMultiple, handleChange, allowExistValueNotInOptions);\n  var _handleChange = function _handleChange(value) {\n    if (locked) return;\n    var newValue = value;\n    if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_2___default()(value)) {\n      newValue = value.join(',');\n    }\n    handleChange(newValue);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement((react__WEBPACK_IMPORTED_MODULE_5___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_6__.Select, {\n    scrollHidden: scrollHidden,\n    disabled: locked,\n    placeholder: placeholder || (0,_designer_utils__WEBPACK_IMPORTED_MODULE_9__.getLangMsg)('designer.editor.key0009'),\n    borderType: \"bordered\",\n    value: renderValue,\n    allowClear: allowClear,\n    onChange: _handleChange,\n    options: options,\n    mode: isMultiple ? 'multiple' : 'single',\n    notFoundContent: (0,_designer_utils__WEBPACK_IMPORTED_MODULE_9__.getLangMsg)('designer.editor.key0021'),\n    dropdownClassName: dropdownClassName\n  }));\n};\n\n/**\n *\n * @param options 选项\n * @param value 值\n * @param isMultiple 是否多选\n * @param handleChange 改变方法\n * @param allowExistValueNotInOptions 运行存在值不在options选项中\n * @returns\n */\nfunction getRenderValue(options, value, isMultiple, handleChange) {\n  var allowExistValueNotInOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  if (isMultiple) {\n    if ((0,lodash__WEBPACK_IMPORTED_MODULE_7__.isEmpty)(value)) return [];\n    var renderValue = value === null || value === void 0 ? void 0 : value.split(',');\n    var hasDirtyData = false;\n    if (!allowExistValueNotInOptions) {\n      renderValue = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(renderValue).call(renderValue, function (item) {\n        var isValidValue = _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_4___default()(options).call(options, function (option) {\n          return option.value === item;\n        });\n        if (isValidValue === false) hasDirtyData = true;\n        return isValidValue;\n      });\n    }\n    hasDirtyData && handleChange(renderValue.join(','));\n    return renderValue;\n  } else {\n    if ((0,lodash__WEBPACK_IMPORTED_MODULE_7__.isEmpty)(value)) return '';\n    var _renderValue = value;\n    var isValidValue = _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_4___default()(options).call(options, function (option) {\n      return option.value === value;\n    });\n    if (!isValidValue) {\n      // TODO\n      // 这里会导致再一次变更值\n      _renderValue = '';\n      /**\n       * 这里有个场景，后端发过来的值有可能在option里不存在，或者option为空\n       * 所以不能触发handleChange更新值\n       */\n      // handleChange(renderValue)\n    }\n    return _renderValue;\n  }\n}\nvar EditorPropertyMultiSelect = function EditorPropertyMultiSelect(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(EditorPropertySelect, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    multiple: true\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditorPropertySelect);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/SelectPropertyEditor.tsx?");

/***/ }),

/***/ 45928:
/*!***********************************************************!*\
  !*** ../kd-designer/src/editor/StepperPropertyEditor.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/parse-float */ 7224);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/parse-int */ 97552);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../context/global-config-context */ 21708);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\nvar StepperPropertyEditor = function StepperPropertyEditor(props) {\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    locked = props.locked,\n    Editor = props.Editor,\n    name = props.Name,\n    tips = props.Tips;\n  var nameHidden = Editor.NameHidden,\n    min = Editor.Min,\n    max = Editor.Max,\n    required = Editor.Required,\n    DataType = Editor.DataType,\n    title = Editor.Title,\n    subTitle = Editor.SubTitle,\n    placeholder = Editor.Placeholder,\n    allowClear = Editor.AllowClear;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n    setMessage = _useContext.showMessage;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(String(value || '')),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    isFocused = _useState4[0],\n    setIsFocused = _useState4[1];\n  var timer = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    var newValue = !(0,lodash__WEBPACK_IMPORTED_MODULE_8__.isUndefined)(value) ? String(value) : '';\n    if (!isFocused && newValue !== innerValue) {\n      setInnerValue(newValue);\n    }\n  }, [value, isFocused]);\n  var updatePropValue = function updatePropValue(val) {\n    if (val !== '' && DataType === 'Decimal') {\n      val = _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_1___default()(val);\n    }\n    handleChange(val);\n  };\n  var delayUpdateValue = function delayUpdateValue(val) {\n    timer.current && clearTimeout(timer.current);\n    timer.current = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_2___default()(function () {\n      timer.current = null;\n      updatePropValue(val);\n    }, 300);\n  };\n  var onChange = function onChange(e) {\n    if (locked) return;\n    var targetValue = e.target.value || '';\n    if (isNaN(targetValue)) {\n      targetValue = '';\n    }\n    if (targetValue !== '') {\n      if (e.nativeEvent) {\n        if (!(0,lodash__WEBPACK_IMPORTED_MODULE_8__.isUndefined)(min) && targetValue < Number(min)) {\n          return setInnerValue(targetValue);\n        }\n        if (!(0,lodash__WEBPACK_IMPORTED_MODULE_8__.isUndefined)(max) && targetValue > Number(max)) {\n          targetValue = max;\n        }\n      } else {\n        if (!(0,lodash__WEBPACK_IMPORTED_MODULE_8__.isUndefined)(min) && targetValue < Number(min)) {\n          targetValue = min;\n        }\n        if (!(0,lodash__WEBPACK_IMPORTED_MODULE_8__.isUndefined)(max) && targetValue > Number(max)) {\n          targetValue = max;\n        }\n        // if (!isFocused) {\n        //   setIsFocused(true)\n        // }\n      }\n      if (DataType === 'Integer') {\n        targetValue = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_3___default()(targetValue);\n      }\n      setInnerValue(String(targetValue));\n    } else {\n      setInnerValue('');\n    }\n    delayUpdateValue(targetValue);\n  };\n  var onFocus = function onFocus() {\n    setIsFocused(true);\n  };\n  var onBlur = function onBlur(e) {\n    setIsFocused(false);\n    var inputValue = innerValue;\n    if (inputValue !== '') {\n      if ((min || min == 0) && inputValue < min) {\n        inputValue = min;\n        setInnerValue(String(min));\n        handleChange(min);\n      }\n    } else if (!(0,lodash__WEBPACK_IMPORTED_MODULE_8__.isUndefined)(min)) {\n      inputValue = min;\n      setInnerValue(String(min));\n      handleChange(min);\n    }\n  };\n  var onKeyPress = function onKeyPress(e) {\n    if (min >= 0 && e.key === '-') {\n      e.preventDefault();\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement((react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title,\n    subTitle: subTitle\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-stepper-editor\"),\n    onFocus: onFocus,\n    onBlur: onBlur,\n    tabIndex: -1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_5__.Stepper, {\n    ref: inputRef,\n    type: \"embed\",\n    value: innerValue,\n    allowClear: !!allowClear,\n    zeroShow: true,\n    onChange: onChange,\n    onKeyPress: onKeyPress,\n    disabled: locked,\n    placeholder: placeholder\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (StepperPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/StepperPropertyEditor.tsx?");

/***/ }),

/***/ 80860:
/*!**********************************************************!*\
  !*** ../kd-designer/src/editor/SwitchPropertyEditor.tsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var _context_select_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../context/select-context */ 23412);\n/*\n * @Author: wbw\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-06 14:18:10\n * @Last Modified by: fjr\n * @LastEditTime: 2024-02-05 16:22:03\n * @Description: ...\n */\n\n\n\n\nvar SwitchPropertyEditor = function SwitchPropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips,\n    id = props.Id,\n    field = props.field,\n    readonly = props.readonly;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title,\n    subTitle = editor.SubTitle;\n  var checked = value || false;\n  var selectionContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_select_context__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  var selection = selectionContext.getSelection();\n  var isMulti = selection.length > 1;\n  if (isMulti && value === '') {\n    // 开关属性值不同，显示最后选中的控件值\n    checked = field[id];\n  }\n  var disabled = locked || readonly;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-switch\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title,\n    subTitle: subTitle\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Switch, {\n    checked: checked,\n    size: \"large\",\n    disabled: disabled,\n    onClick: function onClick() {\n      if (disabled) return;\n      var checked = !value;\n      handleChange(checked);\n    }\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (SwitchPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/SwitchPropertyEditor.tsx?");

/***/ }),

/***/ 80888:
/*!*******************************************************!*\
  !*** ../kd-designer/src/editor/TabPropertyEditor.tsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common/NameTipWrapper */ 42440);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\n\n\n/*\n * @Author: wbw\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-06 14:18:10\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-23 15:09:50\n * @Description: ...\n */\n\n\n\n\nvar TabPropertyEditor = function TabPropertyEditor(props) {\n  var _items$;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    name = props.Name,\n    tips = props.Tips,\n    renderItem = props.renderItem;\n  var _items = editor.Enum,\n    nameHidden = editor.NameHidden,\n    Default = editor.Default,\n    required = editor.Required,\n    title = editor.Title;\n  var items = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(_items).call(_items, function (item) {\n    return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, item, {\n      Value: item.Value || item.Id\n    });\n  });\n  var activeValue = (0,lodash__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(value) ? Default || ((_items$ = items[0]) === null || _items$ === void 0 ? void 0 : _items$.Value) : String(value);\n  var handleTabChange = function handleTabChange(newVal) {\n    handleChange(newVal);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-tab-editor\")\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(items).call(items, function (item) {\n    var iconClassName = item.IconClassName,\n      iconTitle = item.IconTitle;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      key: item.Value,\n      className: classnames__WEBPACK_IMPORTED_MODULE_4___default()([\"\".concat(className, \"-tab-editor-item\"), {\n        'is-active': String(activeValue) === String(item.Value)\n      }]),\n      onClick: function onClick() {\n        return handleTabChange(item.Value);\n      },\n      title: iconClassName && iconTitle\n    }, renderItem ? renderItem(item) : iconClassName ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"i\", {\n      className: iconClassName\n    }) : item.Name);\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TabPropertyEditor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/TabPropertyEditor.tsx?");

/***/ }),

/***/ 87544:
/*!********************************************************!*\
  !*** ../kd-designer/src/editor/common/ColorPicker.tsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ColorPrefixIcon: function() { return /* binding */ ColorPrefixIcon; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/starts-with */ 49464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/parse-int */ 97552);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/parse-float */ 7224);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-dom */ 71536);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../designer-utils */ 89592);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__);\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ColorPrefixIcon = function ColorPrefixIcon(props) {\n  var type = props.type,\n    color = props.color,\n    className = props.className,\n    onClick = props.onClick,\n    disabled = props.disabled;\n  var handleClick = function handleClick() {\n    onClick && onClick();\n  };\n  var trueColor = (0,react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {\n    if (!color) return '#ffffff';\n    var rgbaReg = /rgba?\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})(,([.\\d]+))?\\)/;\n    var reg = /^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/;\n    if (rgbaReg.test(color) || reg.test(color)) {\n      return color;\n    }\n    return '#ffffff';\n  }, [color]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()(\"\".concat(className, \"-prefix\"), {\n      disabled: disabled\n    })\n  }, type === 'foreColor' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"svg\", {\n    className: \"\".concat(className, \"-prefix-icon\"),\n    width: \"200\",\n    height: \"200\",\n    viewBox: \"0 0 20 20\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    onClick: handleClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"title\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_11__.getLangMsg)('designer.editor.key0010')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"g\", {\n    id: \"\\u6587\\u5B57\\u989C\\u8272\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"g\", {\n    id: \"\\u7F16\\u7EC4\",\n    transform: \"translate(3.000000, 1.225936)\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"path\", {\n    d: \"M7.10199875,0.000488183945 C7.39408208,-0.0100860974 7.67791213,0.151661551 7.80920279,0.433215284 L7.80920279,0.433215284 L13.7258585,13.1215243 C13.9009127,13.4969293 13.7384963,13.9431646 13.3630913,14.1182188 C12.9876863,14.2932731 12.541451,14.1308567 12.3663968,13.7554517 L12.3663968,13.7554517 L10.2754569,9.274 L3.87745688,9.274 L1.7883667,13.7554517 C1.61331249,14.1308567 1.16707714,14.2932731 0.791672168,14.1182188 C0.416267191,13.9431646 0.253850808,13.4969293 0.428905024,13.1215243 L6.34556069,0.433215284 C6.48061111,0.143598729 6.77706251,-0.0192517453 7.07787471,0.00182180938 Z M7.07645688,2.413 L4.57645688,7.774 L9.57645688,7.774 L7.07645688,2.413 Z\",\n    id: \"\\u5F62\\u72B6\\u7ED3\\u5408\",\n    fill: \"#212121\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"rect\", {\n    id: \"\\u77E9\\u5F62\\u5907\\u4EFD-2\",\n    stroke: \"#ccc\",\n    strokeWidth: \"0.5\",\n    fill: trueColor,\n    x: \"-0.25\",\n    y: \"15.5240643\",\n    width: \"14.5\",\n    height: \"2.5\",\n    rx: \"1\"\n  })))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"svg\", {\n    className: \"\".concat(className, \"-prefix-icon\"),\n    width: \"200\",\n    height: \"200\",\n    viewBox: \"0 0 20 20\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    onClick: handleClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"title\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_11__.getLangMsg)('designer.editor.key0011')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"g\", {\n    id: \"\\u6CB9\\u6F06\\u6876\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"g\", {\n    id: \"\\u7F16\\u7EC4\",\n    transform: \"translate(2.810513, 0.777902)\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"path\", {\n    d: \"M7.35237743,0.219669914 L8.05948421,0.926776695 L8.06299995,0.931 L12.8033719,5.58910098 C13.6474203,6.41866449 13.6988871,7.75029176 12.9455484,8.64490829 L12.82651,8.7757058 L7.52324583,14.07897 C6.68640806,14.9158077 5.35438522,14.9556572 4.47038697,14.1985182 L4.34126532,14.07897 L0.658927543,10.3966322 C-0.177910225,9.55979443 -0.217759275,8.22777195 0.539946158,7.34320727 L0.659583703,7.21399633 L6.45599995,1.445 L6.29171726,1.28033009 C5.99882404,0.987436867 5.99882404,0.512563133 6.29171726,0.219669914 C6.58461048,-0.0732233047 7.05948421,-0.0732233047 7.35237743,0.219669914 Z M12.7772674,11.2000162 C12.8448732,11.2253684 12.8982166,11.2787118 12.9235688,11.3463177 L13.6628014,13.3176044 C13.8643815,13.8551514 13.5920265,14.4543322 13.0544796,14.6559123 C12.9377675,14.6996794 12.8141351,14.7220982 12.6894865,14.7220982 C12.1153861,14.7220982 11.6499858,14.2566979 11.6499858,13.6825975 C11.6499858,13.557949 11.6724047,13.4343165 11.7161717,13.3176044 L12.4554042,11.3463177 C12.5038843,11.2170376 12.6479873,11.1515362 12.7772674,11.2000162 Z M7.52128565,2.50147715 L2.77699995,7.222 L11.9757231,7.22266041 C11.9821309,7.05395544 11.9319029,6.8835921 11.8253092,6.74250292 L11.751965,6.65901613 L7.52128565,2.50147715 Z\",\n    id: \"\\u5F62\\u72B6\\u7ED3\\u5408\",\n    fill: \"#212121\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"rect\", {\n    id: \"\\u77E9\\u5F62\\u5907\\u4EFD-3\",\n    stroke: \"#ccc\",\n    strokeWidth: \"0.5\",\n    fill: trueColor,\n    x: \"-0.060513479\",\n    y: \"15.9720982\",\n    width: \"14.5\",\n    height: \"2.5\",\n    rx: \"1\"\n  })))));\n};\nvar defaultColorConfig = {\n  colors: [['#45cdff', '#3dccc0', '#40bd6e', '#99d92b', '#ffd52e', '#ffb44a', '#ff854d', '#ff5257', '#ff3b72', '#9a4dff', '#3987ed', '#5797ff'], ['#16b0f1', '#16b8b1', '#1ba854', '#77c404', '#fdc200', '#ff991c', '#ff5f1f', '#fb2323', '#f90d58', '#701df0', '#0e5fd8', '#276ff5'], ['#ffffff', '#fafafa', '#f5f5f5', '#f2f2f2', '#e5e5e5', '#d9d9d9', '#cccccc', '#999999', '#666666', '#404040', '#212121', '#000000']],\n  alpha: 100,\n  color: '#ffffff',\n  defaultColor: '#ffffff'\n};\nvar convertColorToObject = function convertColorToObject(colorValue) {\n  var _colorValue;\n  var color = '';\n  var alpha = 100;\n  var tempReg = /^themeColor/;\n  if (!colorValue) {\n    return {\n      color: color,\n      alpha: alpha\n    };\n  }\n  if (tempReg.test(colorValue)) {\n    var temp = colorValue.split('|');\n    color = temp[0];\n    alpha = Number(temp[1]) || 100;\n    return {\n      color: color,\n      alpha: alpha\n    };\n  }\n  colorValue = (0,lodash__WEBPACK_IMPORTED_MODULE_9__.trim)(colorValue).toLowerCase();\n  // let color='#ffffff',alpha=100;\n  if ((_colorValue = colorValue) !== null && _colorValue !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_1___default()(_colorValue).call(_colorValue, '#')) {\n    color = colorValue;\n  } else {\n    var rRgba = /rgba?\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})(,([.\\d]+))?\\)/;\n    var r;\n    var g;\n    var b;\n    var a;\n    var rsa = colorValue.replace(/\\s+/g, '').match(rRgba);\n    if (rsa) {\n      r = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default()(rsa[1]).toString(16);\n      r = r.length === 1 ? '0' + r : r;\n      g = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default()(rsa[2]).toString(16);\n      g = g.length === 1 ? '0' + g : g;\n      b = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default()(rsa[3]).toString(16);\n      b = b.length === 1 ? '0' + b : b;\n      a = _babel_runtime_corejs3_core_js_stable_parse_float__WEBPACK_IMPORTED_MODULE_3___default()(rsa[5]);\n      color = '#' + r + g + b;\n      alpha = isNaN(a) ? 100 : _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default()(a * 100);\n    }\n  }\n  return {\n    color: color,\n    alpha: alpha\n  };\n};\nvar getColorValue = function getColorValue(_ref) {\n  var color = _ref.color,\n    alpha = _ref.alpha;\n  if (color === 'themeColor' && alpha !== 100) {\n    return \"themeColor|\".concat(alpha);\n  }\n  if (alpha !== 100) {\n    var _context, _context2, _context3;\n    var pattern = /^#[0-9a-fA-F]{3}$/;\n    var r, g, b;\n    if (color.match(pattern)) {\n      r = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default()('0x' + (0,lodash__WEBPACK_IMPORTED_MODULE_9__.repeat)(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(color).call(color, 1, 2), 2));\n      g = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default()('0x' + (0,lodash__WEBPACK_IMPORTED_MODULE_9__.repeat)(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(color).call(color, 2, 3), 2));\n      b = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default()('0x' + (0,lodash__WEBPACK_IMPORTED_MODULE_9__.repeat)(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(color).call(color, 3, 4), 2));\n    } else {\n      r = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default()('0x' + _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(color).call(color, 1, 3));\n      g = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default()('0x' + _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(color).call(color, 3, 5));\n      b = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_2___default()('0x' + _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(color).call(color, 5, 7));\n    }\n    color = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context3 = \"rgba(\".concat(r, \",\")).call(_context3, g, \",\")).call(_context2, b, \",\")).call(_context, alpha / 100, \")\");\n  }\n  return color;\n};\nvar ColorPicker = function ColorPicker(props) {\n  var _triggerDom$current$g, _triggerDom$current;\n  var className = props.className,\n    showPanel = props.showPanel,\n    hideThemeBtn = props.hideThemeBtn,\n    hideAlphaInput = props.hideAlphaInput,\n    colorValue = props.colorValue,\n    isCheck = props.isCheck,\n    onChange = props.onChange,\n    onClosePanel = props.onClosePanel,\n    triggerDom = props.triggerDom,\n    disabled = props.disabled;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(!!isCheck),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    checkState = _useState2[0],\n    setCheckState = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(function () {\n      var _convertColorToObject = convertColorToObject(colorValue),\n        color = _convertColorToObject.color;\n      return _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_1___default()(color).call(color, '#') ? _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(color).call(color, 1) : color;\n    }),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    innerColor = _useState4[0],\n    setInnerColor = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(function () {\n      return convertColorToObject(colorValue).alpha;\n    }),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState5, 2),\n    innerAlpha = _useState6[0],\n    setInnerAlpha = _useState6[1];\n  // const colorTextPrefix = useMemo(() => {\n  //   const { color } = convertColorToObject(colorValue)\n  //   return color?.startsWith('#') ? '#' : ''\n  // }, [colorValue])\n  var colorTextPrefix = '#';\n  var colorPickerRef = (0,react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);\n  var dom = triggerDom === null || triggerDom === void 0 ? void 0 : triggerDom.current;\n  var _ref2 = (_triggerDom$current$g = triggerDom === null || triggerDom === void 0 || (_triggerDom$current = triggerDom.current) === null || _triggerDom$current === void 0 ? void 0 : _triggerDom$current.getBoundingClientRect()) !== null && _triggerDom$current$g !== void 0 ? _triggerDom$current$g : {},\n    _ref2$right = _ref2.right,\n    right = _ref2$right === void 0 ? 0 : _ref2$right,\n    _ref2$top = _ref2.top,\n    top = _ref2$top === void 0 ? 0 : _ref2$top,\n    _ref2$height = _ref2.height,\n    height = _ref2$height === void 0 ? 0 : _ref2$height;\n  var triggerTop = height + 4;\n  var panelHeight = checkState ? 40 : 156;\n  var winWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n  var winHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n  var topPos = top + triggerTop + panelHeight > winHeight ? top - panelHeight - 4 : top + triggerTop;\n  (0,_designer_utils__WEBPACK_IMPORTED_MODULE_11__.useOnClickOutside)([triggerDom, colorPickerRef], function () {\n    onClosePanel();\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    setInnerColor(function () {\n      var _convertColorToObject2 = convertColorToObject(colorValue),\n        color = _convertColorToObject2.color;\n      return _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_1___default()(color).call(color, '#') ? _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(color).call(color, 1) : color;\n    });\n    setInnerAlpha(function () {\n      return convertColorToObject(colorValue).alpha;\n    });\n    setCheckState(colorValue === null || colorValue === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_1___default()(colorValue).call(colorValue, 'themeColor'));\n  }, [colorValue]);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    if (showPanel) {\n      setInnerColor(function () {\n        var _convertColorToObject3 = convertColorToObject(colorValue),\n          color = _convertColorToObject3.color;\n        return _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_1___default()(color).call(color, '#') ? _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(color).call(color, 1) : color;\n      });\n      setInnerAlpha(function () {\n        return convertColorToObject(colorValue).alpha;\n      });\n      setCheckState(colorValue === null || colorValue === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_1___default()(colorValue).call(colorValue, 'themeColor'));\n    }\n  }, [showPanel]);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    var cb = function cb(evt) {\n      var _triggerDom$current2;\n      var target = evt.target;\n      if (triggerDom.current && (_triggerDom$current2 = triggerDom.current) !== null && _triggerDom$current2 !== void 0 && _triggerDom$current2.contains(target)) return;\n      onClosePanel();\n    };\n    document.addEventListener('scroll', cb, true);\n    return function () {\n      document.removeEventListener('scroll', cb, true);\n    };\n  }, []);\n  var changeColor = function changeColor(_ref3) {\n    var color = _ref3.color,\n      alpha = _ref3.alpha;\n    setInnerColor(function () {\n      return _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_1___default()(color).call(color, '#') ? _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(color).call(color, 1) : color;\n    });\n    setInnerAlpha(alpha);\n    var pattern = /^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/;\n    if (color.match(pattern) || /^themeColor/.test(color)) {\n      var newColor = getColorValue({\n        color: color,\n        alpha: alpha\n      });\n      onChange(newColor);\n    }\n  };\n  var changeColorFromItems = function changeColorFromItems(_ref4) {\n    var color = _ref4.color,\n      alpha = _ref4.alpha;\n    if (checkState) return;\n    changeColor({\n      color: color,\n      alpha: alpha\n    });\n  };\n  var handleChangeText = function handleChangeText(e) {\n    var value = colorTextPrefix + e.target.value;\n    changeColor({\n      color: value,\n      alpha: innerAlpha\n    });\n  };\n  var handleChangeAlpha = function handleChangeAlpha(e) {\n    var target = e.target;\n    var value = target.value;\n    // 透明度阈值是[0, 100], 超出则不修改当前值\n    if (value < 0 || value > 100) {\n      return;\n    }\n    changeColor({\n      color: colorTextPrefix + innerColor,\n      alpha: value\n    });\n  };\n  var handleCheck = function handleCheck(e) {\n    var checkedFlag = !checkState;\n    var color = checkedFlag ? 'themeColor' : '';\n    var alpha = checkedFlag ? innerAlpha : 100;\n    setCheckState(checkedFlag);\n    setInnerColor(color);\n    var newColor = getColorValue({\n      color: color,\n      alpha: alpha\n    });\n    onChange(newColor);\n  };\n  var createColorItems = function createColorItems() {\n    if (showPanel) {\n      var cs = (0,lodash__WEBPACK_IMPORTED_MODULE_9__.flatten)(defaultColorConfig.colors);\n      return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(cs).call(cs, function (color, idx) {\n        var style = {\n          backgroundColor: color\n        };\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"span\", {\n          key: idx,\n          className: classnames__WEBPACK_IMPORTED_MODULE_12___default()('colorItem', 'kd-cq-color-picker-color-block'),\n          title: color,\n          style: style,\n          onClick: function onClick(e) {\n            return changeColorFromItems({\n              color: color,\n              alpha: innerAlpha\n            });\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"span\", {\n          className: \"colorItem-hover-box\"\n        }));\n      });\n    } else {\n      return null;\n    }\n  };\n  if (!dom) return null;\n  return /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_8___default().createPortal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    ref: colorPickerRef,\n    style: {\n      position: 'absolute',\n      top: topPos,\n      right: winWidth - right,\n      zIndex: 1050\n    },\n    className: className\n  }, showPanel ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()('kdesigner-colorPanel', 'kd-cq-color-picker kd-cq-kdesigner-color-picker')\n  }, !hideThemeBtn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"themeBtn\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"label\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_11__.getLangMsg)('designer.editor.key0012')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_10__.Switch, {\n    size: \"large\",\n    checked: checkState,\n    onClick: handleCheck\n  })), !checkState && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement((react__WEBPACK_IMPORTED_MODULE_7___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"textPanel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"textItme\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"label\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_11__.getLangMsg)('designer.editor.key0013')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_10__.Input, {\n    borderType: \"bordered\",\n    value: innerColor,\n    prefix: colorTextPrefix,\n    onChange: handleChangeText\n  })), !hideAlphaInput && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"textItme\",\n    title: \"\".concat((0,_designer_utils__WEBPACK_IMPORTED_MODULE_11__.getLangMsg)('designer.editor.key0014'), \"[0, 100]\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"label\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_11__.getLangMsg)('designer.editor.key0015')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_10__.InputNumber, {\n    borderType: \"bordered\",\n    value: String(innerAlpha),\n    min: 0,\n    max: 100,\n    onChange: handleChangeAlpha\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"colors\"\n  }, createColorItems()))) : null), document.body);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ColorPicker);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/common/ColorPicker.tsx?");

/***/ }),

/***/ 57172:
/*!***************************************************************!*\
  !*** ../kd-designer/src/editor/common/CustomInputTrigger.tsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _NameTipWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NameTipWrapper */ 42440);\n\n\n\nvar CustomInputTrigger = function CustomInputTrigger(props) {\n  var onClick = props.onClick,\n    className = props.className,\n    editor = props.editor,\n    name = props.Name,\n    tips = props.Tips,\n    value = props.value,\n    disabled = props.disabled,\n    onInputClick = props.onInputClick,\n    _props$placeholder = props.placeholder,\n    placeholder = _props$placeholder === void 0 ? '' : _props$placeholder;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NameTipWrapper__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Input, {\n    className: \"\".concat(className, \"-custom-input\"),\n    borderType: \"bordered\",\n    readOnly: true,\n    placeholder: placeholder,\n    value: value,\n    disabled: disabled,\n    onClick: onInputClick,\n    suffix: !disabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n      prefix: \"designericon\",\n      type: \"gengduo\",\n      style: {\n        cursor: 'pointer'\n      },\n      onClick: onClick\n    })\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CustomInputTrigger);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/common/CustomInputTrigger.tsx?");

/***/ }),

/***/ 66000:
/*!*****************************************************************!*\
  !*** ../kd-designer/src/editor/common/NameTipSwitchWrapper.tsx ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _NameTipWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NameTipWrapper */ 42440);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__);\n\nvar _excluded = [\"switchValue\", \"onSwitchChange\"];\n/*\n * @Description: 标题带有开关\n * @Author: jianhang_he\n * @Date: 2023-05-11 14:04:18\n * @LastEditTime: 2023-05-11 14:46:25\n * @Last Modified by: jianhang_he\n */\n\n\n\nvar NameTipSwitchWrapper = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function (_ref) {\n  var switchValue = _ref.switchValue,\n    onSwitchChange = _ref.onSwitchChange,\n    otherProps = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, _excluded);\n  var className = otherProps.className;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-title-switch\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_NameTipWrapper__WEBPACK_IMPORTED_MODULE_2__[\"default\"], otherProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_3__.Switch, {\n    checked: switchValue,\n    onChange: onSwitchChange\n  }));\n});\nNameTipSwitchWrapper.displayName = 'NameTipSwitchWrapper';\n/* harmony default export */ __webpack_exports__[\"default\"] = (NameTipSwitchWrapper);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/common/NameTipSwitchWrapper.tsx?");

/***/ }),

/***/ 42440:
/*!***********************************************************!*\
  !*** ../kd-designer/src/editor/common/NameTipWrapper.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 89843);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 97440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 64248);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/parse-int */ 97552);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/starts-with */ 49464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../context/global-config-context */ 21708);\n\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_2___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_3___default()(o) || o[\"@@iterator\"]; if (!it) { if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4___default()(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context10; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0___default()(_context10 = Object.prototype.toString.call(o)).call(_context10, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_1___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-06 14:18:10\n * @Last Modified by: fjr\n * @LastEditTime: 2023-12-05 10:20:51\n * @Description: ...\n */\n\n\n\n\n\nvar NameTipWrapper = function NameTipWrapper(_ref) {\n  var tips = _ref.tips,\n    name = _ref.name,\n    className = _ref.className,\n    nameHidden = _ref.nameHidden,\n    required = _ref.required,\n    onLinkClick = _ref.onLinkClick,\n    nameTitle = _ref.title,\n    nameStyle = _ref.nameStyle,\n    subTitle = _ref.subTitle;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState, 2),\n    iconVisible = _useState2[0],\n    setIconVisible = _useState2[1];\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_13__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_17__[\"default\"]),\n    tipsVisibleByMouse = _useContext.tipsVisibleByMouse,\n    _useContext$tipsPosti = _useContext.tipsPostion,\n    tipsPostion = _useContext$tipsPosti === void 0 ? {\n      placement: 'top'\n    } : _useContext$tipsPosti;\n  var newTips = (0,react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    if ((0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(tips) !== 'object') return tips;\n    var linkData = tips.linkData,\n      content = tips.content,\n      title = tips.title;\n    var warpContent = getWarpContent(content);\n    var tabContent = getTabContent(warpContent);\n    var link = getLinkContent(linkData, tabContent, {\n      handleLinkClick: onLinkClick\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", null, title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n      className: \"\".concat(className, \"-Tooltip-title\")\n    }, title), link);\n  }, [tips, className, onLinkClick]);\n  var handleMouseEnter = function handleMouseEnter() {\n    tipsVisibleByMouse && setIconVisible(true);\n  };\n  var handleMouseLeave = function handleMouseLeave() {\n    tipsVisibleByMouse && setIconVisible(false);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    style: nameStyle,\n    className: classnames__WEBPACK_IMPORTED_MODULE_14___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, \"\".concat(className, \"-title\"), true), \"\".concat(className, \"-placeholder\"), nameHidden)),\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"span\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_14___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, \"\".concat(className, \"-title-text\"), true))\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"span\", {\n    title: nameTitle || name || ''\n  }, name), subTitle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"span\", {\n    className: \"\".concat(className, \"-title-sub\")\n  }, subTitle), required && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"span\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_14___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, \"\".concat(className, \"-title-required-text\"), required))\n  }, \"*\")), newTips && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__.Tooltip, {\n    placement: tipsPostion.placement,\n    tip: newTips,\n    style: {\n      marginLeft: '5px'\n    },\n    scrollHidden: true,\n    popperStyle: tipsPostion.tipsStyle\n  }, (!tipsVisibleByMouse || tipsVisibleByMouse && iconVisible) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: \"wenhao\"\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (NameTipWrapper);\n\n/**\n    * 获取包含连接的文本\n    * @param {map} linkData 连接配置信息对象\n    * @param {string} content 内容\n    * @param {string} locale - 当前语言\n    * @param {Object} others - 其他属性值\n    */\nvar getLinkContent = function getLinkContent(linkData, content, others) {\n  if ((0,lodash__WEBPACK_IMPORTED_MODULE_16__.isArray)(content)) {\n    var _context;\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(content).call(content, function (item) {\n      return !(0,lodash__WEBPACK_IMPORTED_MODULE_16__.isEmpty)(item);\n    })).call(_context, function (item) {\n      if ((0,lodash__WEBPACK_IMPORTED_MODULE_16__.isArray)(item)) {\n        return getLinkContent(linkData, item, others);\n      }\n      return parseLinkContent(linkData, item, others);\n    });\n  }\n  return parseLinkContent(linkData, content, others);\n};\n\n/**\n  * 解析链接\n  */\nvar parseLinkContent = function parseLinkContent(linkData, content, others) {\n  var handleLinkClick = others.handleLinkClick;\n  var flagReg = new RegExp(/(#\\{\\d+\\})/);\n  var indexReg = new RegExp(/\\d+/);\n  if ((0,lodash__WEBPACK_IMPORTED_MODULE_16__.isString)(content) && flagReg.test(content)) {\n    var _context2, _context3;\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(_context3 = content.split(/(#\\{\\d+\\})/g)).call(_context3, function (item) {\n      return !(0,lodash__WEBPACK_IMPORTED_MODULE_16__.isEmpty)(item);\n    })).call(_context2, function (item, i) {\n      if (flagReg.test(item)) {\n        var linkIndex = _babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_10___default()(item.match(indexReg));\n        var _iterator = _createForOfIteratorHelper(linkData),\n          _step;\n        try {\n          var _loop = function _loop() {\n              var data = _step.value;\n              // element 格式{name: '下一步', code: 'next', index: 0}\n              var index = data.index;\n              var name = data.name;\n              var code = data.code;\n\n              // tips文本中的链接点击方法\n              var handleClick = function handleClick() {\n                handleLinkClick && handleLinkClick(code);\n              };\n              if (index === linkIndex) {\n                var _context4;\n                return {\n                  v: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(Link, {\n                    key: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context4 = \"link\".concat(i, \"_\")).call(_context4, code),\n                    name: name,\n                    code: code,\n                    index: index,\n                    onClick: handleClick\n                  })\n                };\n              }\n            },\n            _ret;\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            _ret = _loop();\n            if (_ret) return _ret.v;\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      return item;\n    });\n  }\n  return content;\n};\n\n/**\n  * 解析换行文本\n  * @param {array|string} content 内容\n  */\nvar parseWarpContent = function parseWarpContent(content) {\n  var warpReg = new RegExp(/(\\\\r\\\\n)|(\\\\n)|(\\\\r)/g);\n  if ((0,lodash__WEBPACK_IMPORTED_MODULE_16__.isString)(content) && warpReg.test(content)) {\n    var _context5, _context6;\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(_context5 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(_context6 = content.split(warpReg)).call(_context6, function (item) {\n      return !(0,lodash__WEBPACK_IMPORTED_MODULE_16__.isEmpty)(item);\n    })).call(_context5, function (item, i) {\n      if (warpReg.test(item)) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"br\", {\n          key: \"br_\".concat(i)\n        });\n      }\n      return (0,lodash__WEBPACK_IMPORTED_MODULE_16__.trimStart)(item);\n    });\n  }\n  return content;\n};\nvar getWarpContent = function getWarpContent(content) {\n  if ((0,lodash__WEBPACK_IMPORTED_MODULE_16__.isArray)(content)) {\n    var _context7;\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(_context7 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(content).call(content, function (item) {\n      return !(0,lodash__WEBPACK_IMPORTED_MODULE_16__.isEmpty)(item);\n    })).call(_context7, function (value) {\n      if ((0,lodash__WEBPACK_IMPORTED_MODULE_16__.isArray)(value)) {\n        return getWarpContent(value);\n      }\n      return parseWarpContent(value);\n    });\n  }\n  return parseWarpContent(content);\n};\n\n/**\n  * 解析缩进\n  * @param {string|array} str 内容\n  */\nvar parseTabContent = function parseTabContent(str) {\n  var tabReg = new RegExp(/(\\\\t)/g);\n  if ((0,lodash__WEBPACK_IMPORTED_MODULE_16__.isString)(str) && tabReg.test(str)) {\n    var _context8;\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(_context8 = str.split(tabReg)).call(_context8, function (item, i) {\n      if (tabReg.test(item)) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"span\", {\n          style: {\n            paddingLeft: '2em'\n          },\n          key: \"span_\".concat(i)\n        });\n      }\n      return item;\n    });\n  }\n  return str;\n};\nvar getTabContent = function getTabContent(content) {\n  if ((0,lodash__WEBPACK_IMPORTED_MODULE_16__.isArray)(content)) {\n    var _context9;\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(_context9 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_9___default()(content).call(content, function (item) {\n      return !(0,lodash__WEBPACK_IMPORTED_MODULE_16__.isEmpty)(item);\n    })).call(_context9, function (value) {\n      if ((0,lodash__WEBPACK_IMPORTED_MODULE_16__.isArray)(value)) {\n        return getTabContent(value);\n      }\n      return parseTabContent(value);\n    });\n  }\n  return parseTabContent(content);\n};\nvar Link = function Link(_ref2) {\n  var name = _ref2.name,\n    code = _ref2.code,\n    handleClick = _ref2.onClick;\n  var isOutsizeLink = _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_12___default()(code).call(code, 'www') || _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_12___default()(code).call(code, 'http://') || _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_12___default()(code).call(code, 'https://');\n  var style = {\n    padding: ' 0px 2px',\n    color: '#5E80EB',\n    cursor: ' pointer'\n  };\n  return isOutsizeLink ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"a\", {\n    className: \"link-color\",\n    style: style,\n    href: _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_12___default()(code).call(code, 'www') ? \"http://\".concat(code) : code,\n    target: \"_blank\",\n    rel: \"noreferrer\"\n  }, name) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"a\", {\n    className: \"link-color\",\n    style: style,\n    href: \"javascript:void(0);\",\n    onClick: handleClick\n  }, name);\n};\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/common/NameTipWrapper.tsx?");

/***/ }),

/***/ 9364:
/*!**********************************************************************!*\
  !*** ../kd-designer/src/editor/default-readonly-property-editor.tsx ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Editor = function Editor(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"title\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"prop text\"));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Editor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/default-readonly-property-editor.tsx?");

/***/ }),

/***/ 19696:
/*!******************************************************************!*\
  !*** ../kd-designer/src/editor/default-text-property-editor.tsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// 默认文本编辑器\n\nvar Editor = function Editor(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"title\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    value: \"please input\"\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Editor);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/default-text-property-editor.tsx?");

/***/ }),

/***/ 85076:
/*!******************************************!*\
  !*** ../kd-designer/src/editor/index.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   editorControls: function() { return /* binding */ editorControls; },\n/* harmony export */   editorControlsMap: function() { return /* binding */ editorControlsMap; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ColorPropertyEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ColorPropertyEditor */ 14368);\n/* harmony import */ var _InputPropertyEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./InputPropertyEditor */ 33224);\n/* harmony import */ var _SelectPropertyEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SelectPropertyEditor */ 17852);\n/* harmony import */ var _CheckboxPropertyEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CheckboxPropertyEditor */ 98020);\n/* harmony import */ var _CheckboxGroupPropertyEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CheckboxGroupPropertyEditor */ 78764);\n/* harmony import */ var _SwitchPropertyEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SwitchPropertyEditor */ 80860);\n/* harmony import */ var _DimensionPropertyEditor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DimensionPropertyEditor */ 84140);\n/* harmony import */ var _TabPropertyEditor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TabPropertyEditor */ 80888);\n/* harmony import */ var _RadioPropertyEditor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./RadioPropertyEditor */ 53460);\n/* harmony import */ var _ReadonlyPropertyEditor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ReadonlyPropertyEditor */ 81980);\n/* harmony import */ var _CustomPropertyEditor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./CustomPropertyEditor */ 20616);\n/* harmony import */ var _IconPropertyEditor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./IconPropertyEditor */ 87332);\n/* harmony import */ var _BorderPropertyEditor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./BorderPropertyEditor */ 79444);\n/* harmony import */ var _DaterangePropertyEditor__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./DaterangePropertyEditor */ 5576);\n/* harmony import */ var _StepperPropertyEditor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./StepperPropertyEditor */ 45928);\n/* harmony import */ var _DatePickerPropertyEditor__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./DatePickerPropertyEditor */ 86140);\n\n/*\n * @Author: wbw\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-08-02 15:36:17\n * @Last Modified by: fjr\n * @LastEditTime: 2023-11-14 10:55:20\n * @Description: ...\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar editorControlsMap = {\n  Input: _InputPropertyEditor__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  TextArea: _InputPropertyEditor__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  Checkbox: _CheckboxPropertyEditor__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  Switch: _SwitchPropertyEditor__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  Radio: _RadioPropertyEditor__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  iconCheck: _IconPropertyEditor__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n  Select: _SelectPropertyEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  MultiSelect: _SelectPropertyEditor__WEBPACK_IMPORTED_MODULE_3__.EditorPropertyMultiSelect,\n  CustomInput: _CustomPropertyEditor__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n  CheckBoxGroup: _CheckboxGroupPropertyEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  Dimension: _DimensionPropertyEditor__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  Tab: _TabPropertyEditor__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  ReadOnly: _ReadonlyPropertyEditor__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  Color: _ColorPropertyEditor__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  Border: _BorderPropertyEditor__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n  DateRange: _DaterangePropertyEditor__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n  Stepper: _StepperPropertyEditor__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n  TimePicker: _DatePickerPropertyEditor__WEBPACK_IMPORTED_MODULE_16__.EditorPropertyTimePicker,\n  DatePicker: _DatePickerPropertyEditor__WEBPACK_IMPORTED_MODULE_16__[\"default\"]\n};\nvar editorControls = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(editorControlsMap);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/index.ts?");

/***/ }),

/***/ 88108:
/*!***********************************************!*\
  !*** ../kd-designer/src/editor/type/index.ts ***!
  \***********************************************/
/***/ (function() {

eval("\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/editor/type/index.ts?");

/***/ }),

/***/ 56656:
/*!******************************************!*\
  !*** ../kd-designer/src/error/index.tsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ create; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../type */ 84460);\n/* harmony import */ var _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../designer-utils/utils/console */ 35132);\n/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/cloneDeep */ 2704);\n/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2022-02-15 10:15:20\n * @Last Modified by: fjr\n * @LastEditTime: 2023-07-07 15:50:47\n * @Description: ...\n */\n\n\n\n// import {RedoUndoStack} from './data-provider'\n// TODO：考虑拓展接口，并视图层forceUpdate即可？\n// {\n//   id1: {\n//     propsname1: {\n// 方便扩展\n//       message: '不能为空'\n//     },\n//     propsname2: {}\n//   },\n//   id2: {\n//     propsname1: {},\n//     propsname2: {}\n//   }\n// }\nfunction create(globalConfig) {\n  var listeners = [];\n  var error = {};\n  var self = {\n    // 替换错误信息\n    replaceError: function replaceError(data) {\n      var oldError = _objectSpread({}, error);\n      error = data;\n      self.fireEvent({\n        type: _type__WEBPACK_IMPORTED_MODULE_9__.ErrorEventType.Replace,\n        value: error,\n        oldValue: oldError\n      });\n    },\n    // 设置错误信息\n    setError: function setError(data) {\n      if (!data) return;\n      var oldError = _objectSpread({}, error);\n      error = _objectSpread(_objectSpread({}, error), data);\n      self.fireEvent({\n        type: _type__WEBPACK_IMPORTED_MODULE_9__.ErrorEventType.Reset,\n        value: error,\n        oldValue: oldError\n      });\n    },\n    // 删除错误信息\n    deleteError: function deleteError(ids) {\n      if (!(ids !== null && ids !== void 0 && ids.length)) return;\n      var newError = lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_11___default()(error);\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(ids).call(ids, function (id) {\n        delete newError[id];\n      });\n      var oldError = error;\n      error = newError;\n      self.fireEvent({\n        type: _type__WEBPACK_IMPORTED_MODULE_9__.ErrorEventType.Delete,\n        value: error,\n        oldValue: oldError\n      });\n    },\n    // 清空错误信息\n    clearError: function clearError() {\n      var oldError = _objectSpread({}, error);\n      error = {};\n      self.fireEvent({\n        type: _type__WEBPACK_IMPORTED_MODULE_9__.ErrorEventType.Clear,\n        value: error,\n        oldValue: oldError\n      });\n    },\n    // 获取控件错误信息，默认是全部\n    getError: function getError(id) {\n      if (!id) return error;\n      return error[id] || null;\n    },\n    addErrorChangeListener: function addErrorChangeListener(callback) {\n      listeners.push(callback);\n      return function removeDataChangeListener() {\n        // 待验证纠错:\n        // const index = listeners.indexOf(callback)\n        // listeners.splice(index, 1)\n        // listeners.splice(index, 0)\n        listeners = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(listeners).call(listeners, function (cb) {\n          return cb !== callback;\n        });\n      };\n    },\n    // 这里fireEvent看下有几个event都是哪的\n    fireEvent: function fireEvent(event) {\n      _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_10__[\"default\"].log('error fireEvt', event, listeners);\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(listeners).call(listeners, function (listener) {\n        try {\n          listener(event);\n        } catch (error) {\n          _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(error);\n        }\n      });\n    }\n  };\n  return self;\n}\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/error/index.tsx?");

/***/ }),

/***/ 9700:
/*!*********************************************************!*\
  !*** ../kd-designer/src/hooks/useActivedSelectedId.tsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getActiveSelectedId: function() { return /* binding */ getActiveSelectedId; },\n/* harmony export */   useActivedSelectedId: function() { return /* binding */ useActivedSelectedId; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../designer-utils */ 89592);\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-08-02 15:36:17\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 13:45:52\n * @Description: ...\n */\n\n\nvar getActiveSelectedId = function getActiveSelectedId(_ref) {\n  var dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext;\n  return selectionContext.getActiveSelectedId() || dataContext.getRootId();\n};\nvar useActivedSelectedId = function useActivedSelectedId(_ref2) {\n  var dataContext = _ref2.dataContext,\n    selectionContext = _ref2.selectionContext,\n    solidId = _ref2.solidId,\n    timeout = _ref2.timeout;\n  if (solidId) {\n    return {\n      activedSelectId: solidId\n    };\n  }\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\n      return getActiveSelectedId({\n        dataContext: dataContext,\n        selectionContext: selectionContext\n      });\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    activedSelectId = _useState2[0],\n    setActivedSelectId = _useState2[1];\n  var activedSelectIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(activedSelectId);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    var callback = function callback() {\n      var activedSelectedId = getActiveSelectedId({\n        dataContext: dataContext,\n        selectionContext: selectionContext\n      });\n      if (activedSelectedId !== activedSelectIdRef.current) {\n        _designer_utils__WEBPACK_IMPORTED_MODULE_2__.console.log('setActivedSelectId(activedSelectedId)', activedSelectedId);\n        activedSelectIdRef.current = activedSelectedId;\n        setActivedSelectId(activedSelectedId);\n      }\n    };\n    var prosiblieDelayCallback = (0,_designer_utils__WEBPACK_IMPORTED_MODULE_2__.timerManager)(callback, timeout);\n    var subscribe = selectionContext.addSelectChangeListener(prosiblieDelayCallback);\n    var dataSubscribe = dataContext.addDataChangeListener(prosiblieDelayCallback);\n    return function () {\n      subscribe && subscribe();\n      dataSubscribe && dataSubscribe();\n    };\n  }, []);\n  return {\n    activedSelectId: activedSelectId\n  };\n};\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/hooks/useActivedSelectedId.tsx?");

/***/ }),

/***/ 88776:
/*!************************************************!*\
  !*** ../kd-designer/src/hooks/useDateLang.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDateLangInfo: function() { return /* binding */ getDateLangInfo; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../context/global-config-context */ 21708);\n\n\n\n\nvar DATE_LANG_LOCALE = {\n  'en-US': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n    weekdaysMin: 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_')\n  },\n  'de-ch': {\n    monthsShorts: 'Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.'.split('_'),\n    weekdaysMin: 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_')\n  },\n  'de-DE': {\n    monthsShorts: 'Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.'.split('_'),\n    weekdaysMin: 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_')\n  },\n  'en-AU': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n    weekdaysMin: 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_')\n  },\n  'en-CA': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n    weekdaysMin: 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_')\n  },\n  'en-GB': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n    weekdaysMin: 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_')\n  },\n  'en-IN': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n    weekdaysMin: 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_')\n  },\n  'en-ZA': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n    weekdaysMin: 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_')\n  },\n  'es-AR': {\n    monthsShorts: 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_'),\n    weekdaysMin: 'do_lu_ma_mi_ju_vi_sá'.split('_')\n  },\n  'es-CL': {\n    monthsShorts: 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_'),\n    weekdaysMin: 'do_lu_ma_mi_ju_vi_sá'.split('_')\n  },\n  'es-ES': {\n    monthsShorts: 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_'),\n    weekdaysMin: 'do_lu_ma_mi_ju_vi_sá'.split('_')\n  },\n  'es-MX': {\n    monthsShorts: 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_'),\n    weekdaysMin: 'do_lu_ma_mi_ju_vi_sá'.split('_')\n  },\n  'fr-BE': {\n    monthsShorts: 'janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.'.split('_'),\n    weekdaysMin: 'di_lu_ma_me_je_ve_sa'.split('_')\n  },\n  'fr-FR': {\n    monthsShorts: 'janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.'.split('_'),\n    weekdaysMin: 'di_lu_ma_me_je_ve_sa'.split('_')\n  },\n  'id-ID': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agu_Sep_Okt_Nov_Des'.split('_'),\n    weekdaysMin: 'Mg_Sn_Sl_Rb_Km_Jm_Sb'.split('_')\n  },\n  'it-IT': {\n    monthsShorts: 'gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic'.split('_'),\n    weekdaysMin: 'do_lu_ma_me_gi_ve_sa'.split('_')\n  },\n  'ja-JP': {\n    monthsShorts: '1_2_3_4_5_6_7_8_9_10_11_12'.split('_'),\n    weekdaysMin: '日_月_火_水_木_金_土'.split('_')\n  },\n  'ko-KR': {\n    monthsShort: '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split('_'),\n    weekdaysMin: '일_월_화_수_목_금_토'.split('_')\n  },\n  'lo-LA': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n    weekdaysMin: 'ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ'.split('_')\n  },\n  'ms-MY': {\n    monthsShorts: 'Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogos_Sep_Okt_Nov_Dis'.split('_'),\n    weekdaysMin: 'Ah_Is_Sl_Rb_Km_Jm_Sb'.split('_')\n  },\n  'pl-PL': {\n    monthsShorts: 'sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru'.split('_'),\n    weekdaysMin: 'Nd_Pn_Wt_Śr_Cz_Pt_So'.split('_')\n  },\n  'pt-BR': {\n    monthsShorts: 'jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez'.split('_'),\n    weekdaysMin: 'do_2ª_3ª_4ª_5ª_6ª_sá'.split('_')\n  },\n  'pt-PT': {\n    monthsShorts: 'jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez'.split('_'),\n    weekdaysMin: 'Do_2ª_3ª_4ª_5ª_6ª_Sá'.split('_')\n  },\n  ru: {\n    monthsShorts: 'янв_фев_мар_апр_мая_июн_июл_авг_сен_окт_ноя_дек'.split('_'),\n    weekdaysMin: 'вс_пн_вт_ср_чт_пт_сб'.split('_')\n  },\n  'sv-SE': {\n    monthsShorts: 'jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec'.split('_'),\n    weekdaysMin: 'sö_må_ti_on_to_fr_lö'.split('_')\n  },\n  'th-TH': {\n    monthsShorts: 'ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.'.split('_'),\n    weekdaysMin: 'อา._จ._อ._พ._พฤ._ศ._ส.'.split('_') // yes, three characters difference\n  },\n  'tl-PH': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n    weekdaysMin: 'Li_Lu_Ma_Mi_Hu_Bi_Sab'.split('_')\n  },\n  'tr-TR': {\n    monthsShorts: 'Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara'.split('_'),\n    weekdaysMin: 'Pz_Pt_Sa_Ça_Pe_Cu_Ct'.split('_')\n  },\n  'ur-PK': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n    weekdaysMin: ['اتوار', 'پیر', 'منگل', 'بدھ', 'جمعرات', 'جمعہ', 'ہفتہ']\n  },\n  'vi-VN': {\n    monthsShorts: 'thg 1_thg 2_thg 3_thg 4_thg 5_thg 6_thg 7_thg 8_thg 9_thg 10_thg 11_thg 12'.split('_'),\n    weekdaysMin: 'CN_T2_T3_T4_T5_T6_T7'.split('_')\n  },\n  'yo-NG': {\n    monthsShorts: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n    weekdaysMin: 'Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb'.split('_')\n  },\n  'zh-CN': {\n    monthsShorts: '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),\n    weekdaysMin: '日_一_二_三_四_五_六'.split('_')\n  },\n  'zh-HK': {\n    monthsShorts: '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),\n    weekdaysMin: '日_一_二_三_四_五_六'.split('_')\n  },\n  'zh-SG': {\n    monthsShorts: '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),\n    weekdaysMin: '日_一_二_三_四_五_六'.split('_')\n  },\n  'zh-TW': {\n    monthsShorts: '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),\n    weekdaysMin: '日_一_二_三_四_五_六'.split('_')\n  }\n};\nvar getDateLangInfo = function getDateLangInfo() {\n  var globalConfig = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  var _ref = globalConfig || {},\n    designerContextValue = _ref.designerContextValue;\n  var _ref2 = designerContextValue || {},\n    getDataRef = _ref2.getDataRef;\n  var _ref3 = getDataRef() || {},\n    language = _ref3.language;\n  var formatLang = _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_1___default()(language).call(language, '_') > -1 && language.replace('_', '-');\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({}),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    langInfo = _useState2[0],\n    setLangInfo = _useState2[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    var _DATE_LANG_LOCALE$for, _DATE_LANG_LOCALE$for2;\n    setLangInfo({\n      weekTitle: ((_DATE_LANG_LOCALE$for = DATE_LANG_LOCALE[formatLang]) === null || _DATE_LANG_LOCALE$for === void 0 ? void 0 : _DATE_LANG_LOCALE$for.weekdaysMin) || ['日', '一', '二', '三', '四', '五', '六'],\n      monthTitle: ((_DATE_LANG_LOCALE$for2 = DATE_LANG_LOCALE[formatLang]) === null || _DATE_LANG_LOCALE$for2 === void 0 ? void 0 : _DATE_LANG_LOCALE$for2.monthsShorts) || ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']\n    });\n  }, [formatLang]);\n  return langInfo;\n};\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/hooks/useDateLang.tsx?");

/***/ }),

/***/ 73604:
/*!***************************************************!*\
  !*** ../kd-designer/src/hooks/useSelectModel.tsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useSelectModel; },\n/* harmony export */   getModelData: function() { return /* binding */ getModelData; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! immer */ 83789);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _action_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../action/index */ 99060);\n/* harmony import */ var _utils_data__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../_utils/data */ 15400);\n/* harmony import */ var _meta__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../meta */ 55796);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context3, _context4; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default()(_context3 = ownKeys(Object(t), !0)).call(_context3, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_4___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default()(_context4 = ownKeys(Object(t))).call(_context4, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_5___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-08-02 15:36:17\n * @Last Modified by: fjr\n * @LastEditTime: 2022-03-22 14:42:15\n * @Description: ...\n */\n\n\n\n\n\nfunction useSelectModel(_ref) {\n  var _context, _propertyViewSetting$;\n  var dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    solidId = _ref.solidId,\n    meta = _ref.meta,\n    activedSelectId = _ref.activedSelectId,\n    modelFactory = _ref.modelFactory,\n    _ref$globalConfig = _ref.globalConfig,\n    globalConfig = _ref$globalConfig === void 0 ? {} : _ref$globalConfig;\n  var keywordMapping = globalConfig.keywordMapping,\n    isRootPropertyEmpty = globalConfig.isRootPropertyEmpty,\n    _globalConfig$designe = globalConfig.designerContextValue,\n    designerContextValue = _globalConfig$designe === void 0 ? {} : _globalConfig$designe,\n    _globalConfig$propert = globalConfig.propertyViewSetting,\n    propertyViewSetting = _globalConfig$propert === void 0 ? {} : _globalConfig$propert;\n  var getModel = designerContextValue.getModel;\n  var selection = selectionContext.getSelection();\n  var rootId = dataContext.getRootId();\n  var data = dataContext.getData();\n  var isRoot = rootId === activedSelectId;\n  var MultiSelect = selection.length > 1;\n  var selectItem = dataContext.findControl(solidId || activedSelectId || rootId) || dataContext.findControl(rootId);\n  var selectItems = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(selection).call(selection, function (id) {\n    return dataContext.findControl(id);\n  })).call(_context, Boolean);\n  var selectItemTypes = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(selectItems).call(selectItems, function (item) {\n    return item[keywordMapping.type];\n  });\n  var emptySelect = isRootPropertyEmpty && !solidId && isRoot;\n  var selectItemType = dataContext.getRealControlType(selectItem, keywordMapping.type);\n  var selectModel = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return (0,_meta__WEBPACK_IMPORTED_MODULE_13__.getControlMeta)(selectItemType)(meta);\n  }, [selectItemType, meta]);\n  var controlType = selectModel.Id;\n  var defaultData = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return (0,_meta__WEBPACK_IMPORTED_MODULE_13__.getControlDefaultData)(selectItemType)(meta, globalConfig);\n  }, [selectItemType, meta, globalConfig]);\n  var field = selectItem;\n  var fieldWithDefaultData = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return _objectSpread(_objectSpread({}, defaultData), field);\n  }, [defaultData, field]);\n  var itemId = selectItem[keywordMapping.id];\n  var modelData = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    var actionArguments = _objectSpread(_objectSpread({}, data), {}, {\n      field: fieldWithDefaultData\n    });\n    var model = getModelData(selectModel.Properties, actionArguments, {\n      getModel: getModel\n    });\n    if (MultiSelect && !solidId) {\n      var commonProperties = (0,_utils_data__WEBPACK_IMPORTED_MODULE_12__.getCommonProperties)(selectItemTypes)(meta, globalConfig);\n      return commonProperties !== null && commonProperties !== void 0 && commonProperties.length ? getModelData(commonProperties, actionArguments, {\n        getModel: getModel\n      }) : model;\n    } else {\n      return model;\n    }\n  }, [selectModel, MultiSelect, fieldWithDefaultData, solidId]);\n  var isEmptyView = (_propertyViewSetting$ = propertyViewSetting.showEmptyView) === null || _propertyViewSetting$ === void 0 ? void 0 : _propertyViewSetting$.call(propertyViewSetting, activedSelectId);\n  return {\n    modelData: modelData,\n    emptySelect: emptySelect,\n    activedSelectId: activedSelectId,\n    field: fieldWithDefaultData,\n    controlType: controlType,\n    itemId: itemId,\n    isEmptyView: isEmptyView\n  };\n}\nfunction getModelData(properties, data) {\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    getModel = _ref2.getModel;\n  var newProperties = (0,immer__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(properties, function (draft) {\n    var _context2;\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default()(_context2 = (0,_action_index__WEBPACK_IMPORTED_MODULE_11__.getActionResults)(draft, data, getModel)).call(_context2, function (result) {\n      (0,_action_index__WEBPACK_IMPORTED_MODULE_11__.updateNodeProperty)(draft, result);\n    });\n  });\n  return newProperties;\n}\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/hooks/useSelectModel.tsx?");

/***/ }),

/***/ 46644:
/*!*******************************************!*\
  !*** ../kd-designer/src/hooks/useTab.tsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewHeader: function() { return /* binding */ ViewHeader; },\n/* harmony export */   \"default\": function() { return /* binding */ ViewTab; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 41256);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/reflect/has */ 55640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/sort */ 6908);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-dom */ 71536);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _context_select_context__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../context/select-context */ 23412);\n/* harmony import */ var _context_data_context__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../context/data-context */ 55308);\n/* harmony import */ var _hooks_useActivedSelectedId__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../hooks/useActivedSelectedId */ 9700);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../context/global-config-context */ 21708);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../designer-utils */ 89592);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import DesignerIcon from '../../icon'\n\n\n\n\n\n\nvar TabPane = _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_13__.Tabs.TabPane;\nfunction ViewTab(_ref) {\n  var _Object$values$;\n  var tabViews = _ref.views,\n    meta = _ref.meta,\n    className = _ref.className,\n    portalId = _ref.portalId,\n    position = _ref.position;\n  var dataContext = (0,react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context_data_context__WEBPACK_IMPORTED_MODULE_15__[\"default\"]);\n  var selectionContext = (0,react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context_select_context__WEBPACK_IMPORTED_MODULE_14__[\"default\"]);\n  var _useActivedSelectedId = (0,_hooks_useActivedSelectedId__WEBPACK_IMPORTED_MODULE_16__.useActivedSelectedId)({\n      dataContext: dataContext,\n      selectionContext: selectionContext\n    }),\n    activedSelectId = _useActivedSelectedId.activedSelectId;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_17__[\"default\"]),\n    activateTab = _useContext.activateTab,\n    keywordMapping = _useContext.keywordMapping,\n    renderCustomTab = _useContext.renderCustomTab,\n    getViews = _useContext.getViews,\n    viewCollapseState = _useContext.viewCollapseState,\n    viewsStateRef = _useContext.viewsStateRef,\n    onViewCollapseChange = _useContext.onViewCollapseChange,\n    onViewActiveKeyChange = _useContext.onViewActiveKeyChange;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)((viewCollapseState === null || viewCollapseState === void 0 ? void 0 : viewCollapseState[position]) || false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    hide = _useState2[0],\n    setHide = _useState2[1];\n  var isActiveRef = (0,react__WEBPACK_IMPORTED_MODULE_10__.useRef)(false);\n  var initialFirstValidTabKeyRef = (0,react__WEBPACK_IMPORTED_MODULE_10__.useRef)('');\n  initialFirstValidTabKeyRef.current = (_Object$values$ = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_1___default()(tabViews)[0]) === null || _Object$values$ === void 0 || (_Object$values$ = _Object$values$.props) === null || _Object$values$ === void 0 ? void 0 : _Object$values$.tabKey;\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(tabViews),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    views = _useState4[0],\n    _setViews = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(function () {\n      var _views$;\n      return (_views$ = views[0]) === null || _views$ === void 0 || (_views$ = _views$.props) === null || _views$ === void 0 ? void 0 : _views$.tabKey;\n    }),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState5, 2),\n    tabKey = _useState6[0],\n    _setTabKey = _useState6[1];\n  var hasTab = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default()(views).call(views, function (view) {\n    return tabKey === view.props.tabKey;\n  });\n  var tabPanes = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(views).call(views, function (view) {\n      var _view$props, _view$props2;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(TabPane, {\n        key: (_view$props = view.props) === null || _view$props === void 0 ? void 0 : _view$props.tabKey,\n        tab: (0,lodash__WEBPACK_IMPORTED_MODULE_18__.isFunction)(renderCustomTab) ? renderCustomTab(tabKey, view.props) : (_view$props2 = view.props) === null || _view$props2 === void 0 ? void 0 : _view$props2.tabName\n      }, view);\n    });\n  }, [views]);\n  var setTabKeyCallback = (0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (id) {\n    id && _setTabKey(id);\n  }, []);\n  var handleTitleClick = (0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (id) {\n    if (id !== tabKey) {\n      _setTabKey(id);\n      isActiveRef.current = true;\n      onViewActiveKeyChange === null || onViewActiveKeyChange === void 0 || onViewActiveKeyChange({\n        position: position,\n        key: id\n      });\n    }\n    if (hide) {\n      setHide(false);\n      onViewCollapseChange === null || onViewCollapseChange === void 0 || onViewCollapseChange({\n        position: position,\n        hide: false\n      });\n    }\n  }, [tabKey, hide, setTabKeyCallback, position]);\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useLayoutEffect)(function () {\n    viewsStateRef.current[position] = {\n      hide: hide,\n      activeKey: tabKey,\n      setTabKey: function setTabKey(key) {\n        if (key !== tabKey) {\n          isActiveRef.current = true;\n          _setTabKey(key);\n        }\n      },\n      getViewKeys: function getViewKeys() {\n        var _context;\n        return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(views).call(views, function (view) {\n          var _view$props3;\n          return view === null || view === void 0 || (_view$props3 = view.props) === null || _view$props3 === void 0 ? void 0 : _view$props3.tabKey;\n        })).call(_context, Boolean);\n      },\n      setViews: function setViews(viewSetting) {\n        if (_babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_5___default()(viewSetting, position) && _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6___default()(viewSetting[position])) {\n          _setViews(function () {\n            var _context3;\n            var filter = function filter(view) {\n              var _context2;\n              // 这里的tabKey估计很难理解\n              var tabKey = view.props.tabKey;\n              if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7___default()(_context2 = viewSetting[position]).call(_context2, tabKey)) {\n                return true;\n              } else {\n                return false;\n              }\n            };\n            var newViews = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(_context3 = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_1___default()(tabViews)).call(_context3, function (view, idx) {\n              var flag = filter(view);\n              return flag;\n            });\n            return _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_8___default()(newViews).call(newViews, function (aView, bView) {\n              var _context4, _context5;\n              var aTabKey = aView.props.aTabKey;\n              var bTabKey = bView.props.bTabKey;\n              return _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_9___default()(_context4 = viewSetting[position]).call(_context4, aTabKey) - _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_9___default()(_context5 = viewSetting[position]).call(_context5, bTabKey);\n            });\n          });\n        }\n      },\n      setHide: setHide\n    };\n  }, [hide, tabKey, _setTabKey, setHide, views]);\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useLayoutEffect)(function () {\n    var activeTabKey = activateTab === null || activateTab === void 0 ? void 0 : activateTab({\n      dataContext: dataContext,\n      selectionContext: selectionContext\n    }, position);\n    if (activateTab && activeTabKey) {\n      _setTabKey(activeTabKey);\n    } else if (!activateTab && !isActiveRef.current) {\n      /**\n        * 修复BT-00538983，主要问题是根节点无首页签，初始加载业务页签没有首页签，切换其他控件又是要首页签的情况\n        * 采用记住第一次未点击前的真正的页签节点，然后每次进来都判断下, 点击之后就完全只看状态，不看交互\n        *\n        */\n      if (tabKey !== initialFirstValidTabKeyRef.current && _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default()(views).call(views, function (view) {\n        return initialFirstValidTabKeyRef.current === view.props.tabKey;\n      })) {\n        _setTabKey(initialFirstValidTabKeyRef.current);\n      }\n    }\n  }, [activedSelectId]);\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    if (!hasTab) {\n      var _views$2;\n      setTabKeyCallback((_views$2 = views[0]) === null || _views$2 === void 0 || (_views$2 = _views$2.props) === null || _views$2 === void 0 ? void 0 : _views$2.tabKey);\n    }\n  }, [hasTab, views]);\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_18__.isEqual)(views, tabViews)) {\n      _setViews(tabViews);\n    }\n  }, [tabViews]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()([className, {\n      hide: hide\n    }])\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(ViewHeader, {\n    content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(TabTitle, {\n      className: className,\n      tabPanes: tabPanes,\n      tabKey: tabKey,\n      handleChange: handleTitleClick,\n      hide: hide,\n      setHide: setHide,\n      onViewCollapseChange: onViewCollapseChange,\n      position: position\n    }),\n    portalId: portalId\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(ViewPane, {\n    activeKey: tabKey,\n    views: views,\n    className: \"\".concat(className, \"-tabs\")\n  }));\n}\nvar ViewPane = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_10__.memo)(function (_ref2) {\n  var activeKey = _ref2.activeKey,\n    views = _ref2.views,\n    className = _ref2.className;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: className\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(views).call(views, function (view) {\n    var _view$props4, _view$props5;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_12___default()([\"\".concat(className, \"-body\"), {\n        hidden: ((_view$props4 = view.props) === null || _view$props4 === void 0 ? void 0 : _view$props4.tabKey) !== activeKey\n      }]),\n      key: \"\".concat((_view$props5 = view.props) === null || _view$props5 === void 0 ? void 0 : _view$props5.tabKey, \"-wrap\")\n    }, view);\n  }));\n});\nfunction TabTitle(_ref3) {\n  var className = _ref3.className,\n    tabPanes = _ref3.tabPanes,\n    tabKey = _ref3.tabKey,\n    handleChange = _ref3.handleChange,\n    hide = _ref3.hide,\n    setHide = _ref3.setHide,\n    onViewCollapseChange = _ref3.onViewCollapseChange,\n    position = _ref3.position;\n  var handleIconClick = function handleIconClick() {\n    var newHide = !hide;\n    setHide(!hide);\n    onViewCollapseChange === null || onViewCollapseChange === void 0 || onViewCollapseChange({\n      position: position,\n      hide: newHide\n    });\n  };\n  var iconType = position === 'left' ? hide ? 'zuolanzhankai' : 'zuolanshouqi' : hide ? 'youlanzhankai' : 'youlanshouqi';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement((react__WEBPACK_IMPORTED_MODULE_10___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_13__.Tabs, {\n    position: \"top\",\n    defaultActiveKey: tabKey,\n    onChange: handleChange,\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()([\"\".concat(className, \"-tabs-title\"), {\n      hide: hide\n    }]),\n    size: \"small\",\n    noContainer: true\n  }, tabPanes), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_13__.Icon, {\n    prefix: \"designericon\",\n    type: iconType,\n    onClick: handleIconClick,\n    title: hide ? (0,_designer_utils__WEBPACK_IMPORTED_MODULE_19__.getLangMsg)('designer.leftView.key0002') : (0,_designer_utils__WEBPACK_IMPORTED_MODULE_19__.getLangMsg)('designer.leftView.key0003')\n  }));\n}\nfunction ViewHeader(_ref4) {\n  var content = _ref4.content,\n    portalId = _ref4.portalId;\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(false),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState7, 2),\n    isMounted = _useState8[0],\n    setIsMounted = _useState8[1];\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_17__[\"default\"]),\n    getNode = _useContext2.getNode;\n  var root = getNode();\n  var dom = root && root.querySelector(\"[data-portalId=\".concat(portalId, \"]\"));\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    setIsMounted(true);\n  }, []);\n  return isMounted && dom && /*#__PURE__*/(0,react_dom__WEBPACK_IMPORTED_MODULE_11__.createPortal)(content, dom);\n}\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/hooks/useTab.tsx?");

/***/ }),

/***/ 33856:
/*!************************************!*\
  !*** ../kd-designer/src/index.tsx ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 41256);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./config-provider/ConfigContext */ 76228);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./_utils */ 78172);\n/* harmony import */ var _view_left_view__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./view/left-view */ 75484);\n/* harmony import */ var _view_main_view__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./view/main-view */ 88445);\n/* harmony import */ var _view_right_view__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./view/right-view */ 55112);\n/* harmony import */ var _view_top_view__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./view/top-view */ 44816);\n/* harmony import */ var _view_control_view__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./view/control-view */ 32884);\n/* harmony import */ var _view_property_view__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./view/property-view */ 2044);\n/* harmony import */ var _context_select_context__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./context/select-context */ 23412);\n/* harmony import */ var _context_error_context__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./context/error-context */ 18440);\n/* harmony import */ var _context_data_context__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./context/data-context */ 55308);\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./selection */ 70820);\n/* harmony import */ var _data_data_provider__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./data/data-provider */ 43316);\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./error */ 56656);\n/* harmony import */ var _utils_property_editor_factory__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./_utils/property-editor-factory */ 93888);\n/* harmony import */ var _action_factory__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./action/factory */ 26096);\n/* harmony import */ var _editor_default_text_property_editor__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./editor/default-text-property-editor */ 19696);\n/* harmony import */ var _editor_default_readonly_property_editor__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./editor/default-readonly-property-editor */ 9364);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./context/global-config-context */ 21708);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./context */ 10268);\n/* harmony import */ var _utils_data__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./_utils/data */ 15400);\n/* harmony import */ var _type_actionType__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./type/actionType */ 54465);\n/* harmony import */ var _data_data_api__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./data/data-api */ 94408);\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! immer */ 83789);\n/* harmony import */ var _create_api_createDesignerApi__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./create-api/createDesignerApi */ 70116);\n/* harmony import */ var _create_api_createViewsApi__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./create-api/createViewsApi */ 17144);\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./constant */ 71912);\n/* harmony import */ var _meta_transformMeta__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./meta/transformMeta */ 59499);\n/* harmony import */ var _meta__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./meta */ 55796);\n/* harmony import */ var _alias_data__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./alias-data */ 8744);\n/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./message */ 45516);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../designer-utils */ 89592);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nif (!!navigator.userAgent.match(/Trident\\/(\\d+)/)) {\n  (0,immer__WEBPACK_IMPORTED_MODULE_42__.enableES5)();\n  (0,immer__WEBPACK_IMPORTED_MODULE_42__.setAutoFreeze)(true); // process.env.NODE_ENV !== 'production'\n}\nvar KDesigner = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_10__.memo)( /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_10__.forwardRef)(function (props, _forwardedRef) {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_11__[\"default\"]),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls,\n    userDefaultProps = _useContext.compDefaultProps;\n  var kdesignerProps = (0,_utils__WEBPACK_IMPORTED_MODULE_12__.getCompProps)('Kdesigner', userDefaultProps, props); // 属性需要合并一遍用户定义的默认属性\n  var _kdesignerProps$globa = kdesignerProps.globalConfig,\n    globalConfig = _kdesignerProps$globa === void 0 ? {} : _kdesignerProps$globa,\n    customPrefixcls = kdesignerProps.prefixCls,\n    _kdesignerProps$data = kdesignerProps.data,\n    data = _kdesignerProps$data === void 0 ? {} : _kdesignerProps$data,\n    onData = kdesignerProps.onData,\n    onApi = kdesignerProps.onApi,\n    dataFtry = kdesignerProps.dataFactory,\n    modelFtry = kdesignerProps.modelFactory;\n  var meta = (0,_meta_transformMeta__WEBPACK_IMPORTED_MODULE_37__[\"default\"])(kdesignerProps.meta);\n  // controlMetaInfo, getControlMetaInfo后面都要移除\n  var controlMetaInfo = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return (0,_utils_data__WEBPACK_IMPORTED_MODULE_31__.getControlMetaInfo)(meta);\n  }, [meta]);\n  var kdesignerPrefixCls = getPrefixCls && getPrefixCls(prefixCls, 'kdesigner', customPrefixcls);\n  var newGlobalConfig = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return (0,_constant__WEBPACK_IMPORTED_MODULE_36__.createGlobalConfig)(globalConfig);\n  }, [globalConfig]);\n  var viewsStateRef = (0,react__WEBPACK_IMPORTED_MODULE_10__.useRef)({});\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(function () {\n      return (0,_selection__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(newGlobalConfig);\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 1),\n    selection = _useState2[0];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(function () {\n      return (0,_error__WEBPACK_IMPORTED_MODULE_24__[\"default\"])(newGlobalConfig);\n    }),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState3, 1),\n    errorApi = _useState4[0];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(function () {\n      return new _message__WEBPACK_IMPORTED_MODULE_40__[\"default\"]();\n    }),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState5, 1),\n    message = _useState6[0];\n  var modelFactory = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return (0,_utils_data__WEBPACK_IMPORTED_MODULE_31__.createControlModel)(meta);\n  }, [meta]);\n  var dataFactory = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return (0,_utils_data__WEBPACK_IMPORTED_MODULE_31__.createControlData)(meta, newGlobalConfig);\n  }, [meta]);\n  var metaApi = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return (0,_meta__WEBPACK_IMPORTED_MODULE_38__.createMetaApi)(meta, newGlobalConfig);\n  }, [meta]);\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(function () {\n      return (0,_data_data_provider__WEBPACK_IMPORTED_MODULE_23__[\"default\"])(meta, data, newGlobalConfig, onData);\n    }),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState7, 1),\n    dataApi = _useState8[0];\n  var dataProvider = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    dataApi.setMeta(meta);\n    var api = (0,_data_data_api__WEBPACK_IMPORTED_MODULE_33__[\"default\"])(dataApi, metaApi)(newGlobalConfig, selection, dataFtry || dataFactory, modelFtry || modelFactory, errorApi);\n    return api;\n  }, [meta]);\n\n  // const [dataProvider] = useState(() => {\n  //   const dataProvider = dataCreate(meta, data, newGlobalConfig, onData)\n  //   const api = dataApi(dataProvider, metaApi)(newGlobalConfig, selection, dataFtry || dataFactory, modelFtry || modelFactory)\n  //   return api\n  // })\n  var getNode = (0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function () {\n    return nodeRef.current;\n  }, []);\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(function () {\n      return (0,_alias_data__WEBPACK_IMPORTED_MODULE_39__.createAliasDataApi)(new _alias_data__WEBPACK_IMPORTED_MODULE_39__.AliasDataManage());\n    }),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState9, 1),\n    aliasDataApi = _useState10[0];\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    if (typeof onApi === 'function') {\n      onApi((0,_create_api_createDesignerApi__WEBPACK_IMPORTED_MODULE_34__[\"default\"])({\n        meta: metaApi,\n        data: dataProvider,\n        selection: selection,\n        error: errorApi,\n        getNode: getNode,\n        aliasData: aliasDataApi,\n        message: message,\n        dataFactory: dataFactory,\n        views: (0,_create_api_createViewsApi__WEBPACK_IMPORTED_MODULE_35__[\"default\"])(viewsStateRef)\n      }));\n    }\n  }, [meta]);\n  // useLayoutEffect使得最先添加 listener\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useLayoutEffect)(function () {\n    var callback = function callback() {\n      var selectedIds = selection.getSelection();\n      var exsitSelectedIds = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(selectedIds).call(selectedIds, function (id) {\n        return !!dataProvider.findControl(id);\n      });\n      if (exsitSelectedIds.length !== selectedIds.length) {\n        selection.setSelect(exsitSelectedIds);\n      }\n    };\n    var subscribe = dataProvider.addDataChangeListener(callback);\n    return function () {\n      subscribe && subscribe();\n    };\n  }, []);\n  var nodeRef = (0,react__WEBPACK_IMPORTED_MODULE_10__.useRef)(null);\n  var forwardedRef = _forwardedRef;\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useImperativeHandle)(forwardedRef, function () {\n    return {\n      attrActions: function attrActions(value) {\n        dataProvider.attrActions((0,_type_actionType__WEBPACK_IMPORTED_MODULE_32__.createAttrAction)(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4___default()(value) ? value : [value]));\n      },\n      selectionContext: selection,\n      dataContext: dataProvider,\n      errorContext: errorApi,\n      getNode: getNode\n    };\n  }, []);\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(function () {\n      var factory = (0,_utils_property_editor_factory__WEBPACK_IMPORTED_MODULE_25__[\"default\"])();\n      factory.rigistPropertyEditor('readonly', _editor_default_readonly_property_editor__WEBPACK_IMPORTED_MODULE_28__[\"default\"]); // 注册默认属性编辑器\n      factory.rigistPropertyEditor('text', _editor_default_text_property_editor__WEBPACK_IMPORTED_MODULE_27__[\"default\"]);\n      if (newGlobalConfig.getPropertyEditors) {\n        // todo： 注册扩展属性编辑器\n        var list = newGlobalConfig.getPropertyEditors();\n        _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(list).call(list, function (list) {\n          factory.rigistPropertyEditor.apply(factory, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(list));\n        });\n      }\n      if (newGlobalConfig.getValue) {\n        factory.getValue = newGlobalConfig.getValue;\n      }\n      return factory;\n    }),\n    _useState12 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState11, 1),\n    propertyEditorFactory = _useState12[0];\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    var getCustomActions = newGlobalConfig.getCustomActions;\n    if (getCustomActions) {\n      var _getCustomActions = getCustomActions(),\n        _getCustomActions$dat = _getCustomActions.dataActions,\n        dataActions = _getCustomActions$dat === void 0 ? [] : _getCustomActions$dat,\n        _getCustomActions$pro = _getCustomActions.propertyActions,\n        propertyActions = _getCustomActions$pro === void 0 ? [] : _getCustomActions$pro;\n      var rigistAction = _action_factory__WEBPACK_IMPORTED_MODULE_26__[\"default\"].rigistAction;\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(dataActions).call(dataActions, function (args) {\n        rigistAction(_action_factory__WEBPACK_IMPORTED_MODULE_26__.DATA_ACTION).apply(void 0, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(args));\n      });\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(propertyActions).call(propertyActions, function (args) {\n        rigistAction(_action_factory__WEBPACK_IMPORTED_MODULE_26__.PROPERTY_ACTION).apply(void 0, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(args));\n      });\n    }\n  }, []);\n  var globalConfigValue = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    var _context;\n    // 提供用户扩展行为api，控件操作前后可以调用，比如：beforeAddControl\n    var value = {};\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(_context = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6___default()(newGlobalConfig)).call(_context, function (key) {\n      var _context2;\n      if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7___default()(_context2 = ['getPropertyEditor', 'getValue', 'nodeRef', 'viewsStateRef']).call(_context2, key)) {\n        value[key] = newGlobalConfig[key];\n      }\n    });\n    value.getNode = getNode;\n    value.message = message; //内核模块api通过GlobalConfigContext传递\n    value.viewsStateRef = viewsStateRef;\n    return value;\n  }, [getNode, message, viewsStateRef, newGlobalConfig]);\n  var views = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    var _context3, _context4, _context5;\n    var leftViews = {\n      control: _view_control_view__WEBPACK_IMPORTED_MODULE_17__[\"default\"]\n    };\n    var rightViews = {\n      property: _view_property_view__WEBPACK_IMPORTED_MODULE_18__.PropertyView\n    };\n    var mainViews = {};\n    if (newGlobalConfig.getViews) {\n      if (newGlobalConfig.getViews('left')) {\n        leftViews = filterNullView((0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, leftViews, newGlobalConfig.getViews('left')));\n      }\n      if (newGlobalConfig.getViews('right')) {\n        rightViews = filterNullView((0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, rightViews, newGlobalConfig.getViews('right')));\n      }\n      if (newGlobalConfig.getViews('main')) {\n        mainViews = filterNullView((0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, mainViews, newGlobalConfig.getViews('main')));\n      }\n    }\n    var leftViewInstance = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(_context3 = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_9___default()(leftViews)).call(_context3, function (View) {\n      var _View$getTabName;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(View, {\n        key: View.tabKey,\n        data: data,\n        meta: meta,\n        tabKey: View.tabKey,\n        tabName: ((_View$getTabName = View.getTabName) === null || _View$getTabName === void 0 ? void 0 : _View$getTabName.call(View)) || View.tabName\n      });\n    });\n    var mainViewInstance = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(_context4 = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_9___default()(mainViews)).call(_context4, function (View) {\n      var _View$getTabName2;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(View, {\n        key: View.tabKey,\n        data: data,\n        meta: meta,\n        tabKey: View.tabKey,\n        tabName: ((_View$getTabName2 = View.getTabName) === null || _View$getTabName2 === void 0 ? void 0 : _View$getTabName2.call(View)) || View.tabName\n      });\n    });\n    var rightViewInstance = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(_context5 = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_9___default()(rightViews)).call(_context5, function (View) {\n      var _View$getTabName3;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(View, {\n        key: View.tabKey,\n        data: data,\n        meta: meta,\n        tabKey: View.tabKey,\n        tabName: ((_View$getTabName3 = View.getTabName) === null || _View$getTabName3 === void 0 ? void 0 : _View$getTabName3.call(View)) || View.tabName\n      });\n    });\n    return {\n      leftViews: leftViewInstance,\n      mainViews: mainViewInstance,\n      rightViews: rightViewInstance\n    };\n  }, [data, meta, newGlobalConfig]);\n  var dataFactoryContextValue = (0,react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return {\n      dataFactory: dataFtry || dataFactory,\n      modelFactory: modelFtry || modelFactory,\n      metaApi: metaApi,\n      controlMetaInfo: controlMetaInfo\n    };\n  }, [dataFtry, dataFactory, modelFtry, modelFactory, metaApi, controlMetaInfo]);\n  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(true),\n    _useState14 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState13, 2),\n    mounted = _useState14[0],\n    setMounted = _useState14[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    setMounted(false);\n    if (newGlobalConfig.getLangMsg) {\n      (0,_designer_utils__WEBPACK_IMPORTED_MODULE_41__.setIntlApi)('getLangMsg', newGlobalConfig.getLangMsg);\n    }\n  }, []);\n  return !mounted && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(RootView, {\n    className: kdesignerPrefixCls,\n    ref: nodeRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_context_global_config_context__WEBPACK_IMPORTED_MODULE_29__[\"default\"].Provider, {\n    value: globalConfigValue\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_context__WEBPACK_IMPORTED_MODULE_30__.DataFactoryContext.Provider, {\n    value: dataFactoryContextValue\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_context_data_context__WEBPACK_IMPORTED_MODULE_21__[\"default\"].Provider, {\n    value: dataProvider\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_context_select_context__WEBPACK_IMPORTED_MODULE_19__[\"default\"].Provider, {\n    value: selection\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_context_error_context__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Provider, {\n    value: errorApi\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_utils_property_editor_factory__WEBPACK_IMPORTED_MODULE_25__.PropertyEditorFactoryContext.Provider, {\n    value: propertyEditorFactory\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_alias_data__WEBPACK_IMPORTED_MODULE_39__.AliasDataContext.Provider, {\n    value: aliasDataApi\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_view_top_view__WEBPACK_IMPORTED_MODULE_16__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: \"\".concat(kdesignerPrefixCls, \"-root-main\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_view_left_view__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    views: views.leftViews\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_view_main_view__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    views: views.mainViews\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_view_right_view__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    views: views.rightViews\n  }))))))))));\n}));\nvar RootView = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_10__.memo)( /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_10__.forwardRef)(function (props, forwardedRef) {\n  // style={props.isShow ? {} : { display: 'none' }}\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: \"\".concat(props.className, \"-root\"),\n    ref: forwardedRef,\n    tabIndex: -1\n  }, props.children);\n}));\n//删除为定义视图\nfunction filterNullView(view) {\n  var _context6;\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(_context6 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6___default()(view)).call(_context6, function (viewName) {\n    if (view[viewName] == null) {\n      delete view[viewName];\n    }\n  });\n  return view;\n}\nKDesigner.displayName = 'KDesigner';\n// ErrorBoundaryWrap(KDesigner, 'kd-designer')\n/* harmony default export */ __webpack_exports__[\"default\"] = (KDesigner);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/index.tsx?");

/***/ }),

/***/ 3848:
/*!******************************************!*\
  !*** ../kd-designer/src/locale/index.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CompLangMsgParams: function() { return /* reexport safe */ _locale__WEBPACK_IMPORTED_MODULE_0__.CompLangMsgParams; },\n/* harmony export */   ComponentType: function() { return /* reexport safe */ _locale__WEBPACK_IMPORTED_MODULE_0__.ComponentType; },\n/* harmony export */   LocaleConfigType: function() { return /* reexport safe */ _locale__WEBPACK_IMPORTED_MODULE_0__.LocaleConfigType; },\n/* harmony export */   LocaleDataType: function() { return /* reexport safe */ _locale__WEBPACK_IMPORTED_MODULE_0__.LocaleDataType; },\n/* harmony export */   getCompLangMsg: function() { return /* reexport safe */ _locale__WEBPACK_IMPORTED_MODULE_0__.getCompLangMsg; },\n/* harmony export */   getLangMsg: function() { return /* reexport safe */ _locale__WEBPACK_IMPORTED_MODULE_0__.getLangMsg; }\n/* harmony export */ });\n/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./locale */ 81916);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_locale__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/locale/index.ts?");

/***/ }),

/***/ 81916:
/*!********************************************!*\
  !*** ../kd-designer/src/locale/locale.tsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCompLangMsg: function() { return /* binding */ getCompLangMsg; },\n/* harmony export */   getLangMsg: function() { return /* binding */ getLangMsg; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 89843);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 97440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 64248);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/classCallCheck */ 3460);\n/* harmony import */ var _babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/createClass */ 27688);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _zh_CN__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./zh-CN */ 43532);\n\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2___default()(o) || o[\"@@iterator\"]; if (!it) { if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_3___default()(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context3; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_8___default()(_context3 = Object.prototype.toString.call(o)).call(_context3, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n\n\n\nvar LocaleCache = /*#__PURE__*/function () {\n  function LocaleCache(localesData, locale) {\n    (0,_babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, LocaleCache);\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this, \"localesData\", void 0);\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this, \"locale\", void 0);\n    this.locale = locale || _zh_CN__WEBPACK_IMPORTED_MODULE_12__[\"default\"].locale;\n    this.localesData = localesData;\n  }\n\n  /**\n   * 设置语言包并切换当前语言\n   * @param {LocaleDataType | string} localeData 语言数据集合 | 语言类型\n   * @returns 设置后的语言对应的语言包\n   */\n  (0,_babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(LocaleCache, [{\n    key: \"setLocalesData\",\n    value: function setLocalesData(locale, localeData) {\n      var newLocaleData = localeData || this.localesData[locale];\n      if (!newLocaleData) {\n        console.error(\"\\u7F3A\\u5C11\\u8BED\\u8A00\".concat(locale, \"\\u5BF9\\u5E94\\u7684\\u8BED\\u8A00\\u5305\\uFF0C\\u8BF7\\u68C0\\u67E5\\u540E\\u91CD\\u65B0\\u8BBE\\u7F6E\"));\n        return;\n      }\n      this.locale = locale;\n      this.localesData[locale] = newLocaleData;\n      return localeData;\n    }\n\n    /**\n     * 获取当前语言包数据\n     */\n  }, {\n    key: \"getLocalData\",\n    value: function getLocalData() {\n      return this.localesData[this.locale];\n    }\n\n    /**\n     * 获取当前语言类型\n     */\n  }, {\n    key: \"getLocal\",\n    value: function getLocal() {\n      return this.locale;\n    }\n\n    /**\n     * 获取所有语言包数据\n     */\n  }, {\n    key: \"getLocalesData\",\n    value: function getLocalesData() {\n      return this.localesData;\n    }\n  }]);\n  return LocaleCache;\n}();\nvar localeCacher = new LocaleCache((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, _zh_CN__WEBPACK_IMPORTED_MODULE_12__[\"default\"].locale, _zh_CN__WEBPACK_IMPORTED_MODULE_12__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (localeCacher);\nvar getLangMsg = function getLangMsg(componentName, labelName, params) {\n  var _context;\n  var localData = localeCacher.getLocalData();\n  var msg = localData[_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(_context = \"\".concat(componentName, \".\")).call(_context, labelName)] || localData[\"global.\".concat(labelName)] || '';\n  return analysVariables(msg, params);\n};\n\n/**\n * 解析模板字符串中的变量\n * @param {*} msg\n * @param {*} variables\n */\nfunction analysVariables(msg, variables) {\n  var reg = /{[\\w\\W]*?}/g;\n  var matchArr = msg.match(reg) || [];\n  var isObject = function isObject(value) {\n    return (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(value) === 'object' || typeof value === 'function';\n  };\n  var getVarName = function getVarName(str) {\n    var len = str.length;\n    return _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_8___default()(str).call(str, 1, len - 1);\n  };\n  var stringVar = [];\n  var eleVar = [];\n  var _iterator = _createForOfIteratorHelper(matchArr),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      var varName = getVarName(item);\n      var value = variables[varName];\n      if (isObject(value)) {\n        eleVar.push({\n          k: varName,\n          v: value\n        });\n      } else {\n        stringVar.push({\n          k: varName,\n          v: value\n        });\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  msg = formatText(msg, stringVar);\n  var msgArr = [];\n  if (eleVar.length > 0) {\n    msgArr = formatElement(msg, variables);\n  }\n  return eleVar.length > 0 ? msgArr : msg;\n}\n\n/**\n * 替换基本类型的变量\n * @param {*} msg\n * @param {*} stringVar\n */\nfunction formatText(msg, stringVar) {\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(stringVar).call(stringVar, function (item) {\n    var k = item.k,\n      v = item.v;\n    var reg = new RegExp('{' + k + '}', 'g');\n    msg = msg.replace(reg, v);\n  });\n  return msg;\n}\n\n/**\n * 替换React元素类型的变量\n * @param {*} msg\n * @param {*} eleVar\n * @param {*} variables\n */\nfunction formatElement(msg, variables) {\n  var splitByElement = function splitByElement(msg) {\n    var _context2;\n    var array = [];\n    var item = {\n      t: 0,\n      v: ''\n    }; // 0-string 1-react\n    var len = msg.length;\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = msg.split('')).call(_context2, function (c, i) {\n      if (c === '{') {\n        array.push(item);\n        item = {\n          t: 1,\n          v: ''\n        };\n      } else if (c === '}') {\n        array.push(item);\n        item = {\n          t: 0,\n          v: ''\n        };\n      } else {\n        item.v = item.v + c;\n      }\n      if (i === len - 1) {\n        array.push(item);\n      }\n    });\n    return array;\n  };\n  var elements = [];\n  var eleArr = splitByElement(msg);\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(eleArr).call(eleArr, function (item, index) {\n    var t = item.t,\n      v = item.v;\n    if (t === 0 && v !== '') {\n      elements.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default().createElement(\"span\", {\n        key: index\n      }, v));\n    } else if (t === 1) {\n      elements.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default().cloneElement(variables[v], {\n        key: index\n      }));\n    }\n  });\n  return elements;\n}\nvar getCompLangMsg = function getCompLangMsg(compLangMsgParams, customGetLangMsg, localeDate) {\n  var componentName = compLangMsgParams.componentName,\n    labels = compLangMsgParams.labels,\n    labelParams = compLangMsgParams.labelParams;\n  labels = labels || [];\n  labelParams = labelParams || {};\n  localeDate = localeDate || _zh_CN__WEBPACK_IMPORTED_MODULE_12__[\"default\"];\n  if (!labels.length) {\n    for (var _key in localeDate) {\n      var componentNameAndLabel = _key.split('.');\n      if (componentName === componentNameAndLabel[0] && componentNameAndLabel[1]) {\n        labels.push(componentNameAndLabel[1]);\n      }\n    }\n  }\n  var componentLangMsg = {};\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_10___default()(labels).call(labels, function (label) {\n    if (customGetLangMsg && typeof customGetLangMsg === 'function') {\n      componentLangMsg[label] = customGetLangMsg(componentName, label, labelParams[label] || {});\n    } else {\n      componentLangMsg[label] = getLangMsg(componentName, label, labelParams[label] || {});\n    }\n  });\n  return componentLangMsg;\n};\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/locale/locale.tsx?");

/***/ }),

/***/ 43532:
/*!*******************************************!*\
  !*** ../kd-designer/src/locale/zh-CN.tsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar locale = {\n  locale: 'zh-CN',\n  'global.selectholder': '请选择',\n  'global.placeholder': '请输入...',\n  'global.cancel': '取消',\n  'global.confirm': '确定'\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (locale);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/locale/zh-CN.tsx?");

/***/ }),

/***/ 92492:
/*!************************************************!*\
  !*** ../kd-designer/src/memory-cache/index.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MemoryCache; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/classCallCheck */ 3460);\n/* harmony import */ var _babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/createClass */ 27688);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-14 09:31:23\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-18 10:55:23\n * @Description: ...\n */\nvar MemoryCache = /*#__PURE__*/function () {\n  function MemoryCache() {\n    (0,_babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, MemoryCache);\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, \"listeners\", []);\n  }\n  (0,_babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(MemoryCache, [{\n    key: \"addDataChangeListener\",\n    value: function addDataChangeListener(listener) {\n      var _this = this;\n      this.listeners.push(listener);\n      return function () {\n        var _context;\n        _this.listeners = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(_context = _this.listeners).call(_context, function (_listener) {\n          return listener !== _listener;\n        });\n      };\n    }\n  }, {\n    key: \"fireEvent\",\n    value: function fireEvent(event) {\n      var _context2;\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = this.listeners).call(_context2, function (listener) {\n        try {\n          listener(event);\n        } catch (error) {\n          console.error(error);\n        }\n      });\n    }\n  }]);\n  return MemoryCache;\n}();\n\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/memory-cache/index.ts?");

/***/ }),

/***/ 45516:
/*!*******************************************!*\
  !*** ../kd-designer/src/message/index.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Message; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/classCallCheck */ 3460);\n/* harmony import */ var _babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/createClass */ 27688);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\n/*\n * @Author: daosheng_chen\n * @Email: daosheng_chen@kingdee.com\n * @Date: 2021-09-22 09:44:47\n * @Last Modified by: daosheng_chen\n * @Last Modified time: 2021-09-22 17:16:23\n * @Description: 定义designer通用消息存取/分发\n */\nvar IMessageType = /*#__PURE__*/function (IMessageType) {\n  IMessageType[\"Info\"] = \"info\";\n  IMessageType[\"Warn\"] = \"warn\";\n  IMessageType[\"Error\"] = \"error\";\n  IMessageType[\"Validate\"] = \"validate\";\n  IMessageType[\"Customer\"] = \"customer\";\n  return IMessageType;\n}(IMessageType || {});\nvar EventType = /*#__PURE__*/function (EventType) {\n  EventType[\"Add\"] = \"add\";\n  EventType[\"Remove\"] = \"remove\";\n  EventType[\"Reset\"] = \"reset\";\n  return EventType;\n}(EventType || {});\nvar Message = /*#__PURE__*/function () {\n  function Message() {\n    (0,_babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, Message);\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"listeners\", void 0);\n    (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"messageList\", void 0);\n    this.messageList = [];\n    this.listeners = [];\n  }\n  (0,_babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Message, [{\n    key: \"addDataChangeListener\",\n    value: function addDataChangeListener(listener) {\n      var _this = this;\n      this.listeners.push(listener);\n      return function () {\n        var _context;\n        _this.listeners = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(_context = _this.listeners).call(_context, function (_listener) {\n          return listener !== _listener;\n        });\n      };\n    }\n    /**\n     * \n     * @param type 指定消息类型，type=null获取所有消息\n     * @returns 返回指定类型的消息\n     */\n  }, {\n    key: \"getMessage\",\n    value: function getMessage(type) {\n      if (type) {\n        var _context2;\n        return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = this.messageList).call(_context2, function (message) {\n          return message.type === type;\n        });\n      } else {\n        return this.messageList;\n      }\n    }\n    //增加消息对象或消息数组\n  }, {\n    key: \"addMessage\",\n    value: function addMessage(message) {\n      if (typeof message === 'string') {\n        message = {\n          type: IMessageType.Info,\n          content: message\n        };\n      }\n      if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_5___default()(message)) {\n        var _this$messageList;\n        (_this$messageList = this.messageList).push.apply(_this$messageList, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(message));\n      } else {\n        this.messageList.push(message);\n      }\n      this.fireEvent(EventType.Add, message); //触发消息，携带新增的消息或消息数组\n    }\n    //删除消息或消息数组\n  }, {\n    key: \"removeMessage\",\n    value: function removeMessage(message) {\n      var _context3;\n      var removeMessageList = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_5___default()(message) ? message : [message];\n      this.messageList = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(_context3 = this.messageList).call(_context3, function (message) {\n        return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(removeMessageList).call(removeMessageList, message);\n      });\n      this.fireEvent(EventType.Remove, message); //触发消息，携带被删除的消息或消息数组\n    }\n    //清空消息\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.messageList = [];\n      this.fireEvent(EventType.Reset, []);\n    }\n  }, {\n    key: \"fireEvent\",\n    value: function fireEvent(type, value) {\n      var _context4;\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context4 = this.listeners).call(_context4, function (listener) {\n        try {\n          listener(type, value);\n        } catch (error) {\n          console.error(error);\n        }\n      });\n    }\n  }]);\n  return Message;\n}();\n\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/message/index.ts?");

/***/ }),

/***/ 55796:
/*!****************************************!*\
  !*** ../kd-designer/src/meta/index.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canAdd: function() { return /* binding */ canAdd; },\n/* harmony export */   canAddMemo: function() { return /* binding */ canAddMemo; },\n/* harmony export */   createMetaApi: function() { return /* binding */ createMetaApi; },\n/* harmony export */   getControlDefaultData: function() { return /* binding */ getControlDefaultData; },\n/* harmony export */   getControlDefaultDataByPropertyGroups: function() { return /* binding */ _getControlDefaultDataByPropertyGroups; },\n/* harmony export */   getControlDefaultDataMemo: function() { return /* binding */ getControlDefaultDataMemo; },\n/* harmony export */   getControlMeta: function() { return /* binding */ getControlMeta; },\n/* harmony export */   getControlMetaAction: function() { return /* binding */ getControlMetaAction; },\n/* harmony export */   getControlMetaActionMemo: function() { return /* binding */ getControlMetaActionMemo; },\n/* harmony export */   getControlMetaEditor: function() { return /* binding */ getControlMetaEditor; },\n/* harmony export */   getControlMetaEditorMemo: function() { return /* binding */ getControlMetaEditorMemo; },\n/* harmony export */   getControlMetaMemo: function() { return /* binding */ getControlMetaMemo; },\n/* harmony export */   getControlMetaProperty: function() { return /* binding */ getControlMetaProperty; },\n/* harmony export */   getControlMetaPropertyMemo: function() { return /* binding */ getControlMetaPropertyMemo; },\n/* harmony export */   getControlPropertyDefaultValueMemo: function() { return /* binding */ getControlPropertyDefaultValueMemo; },\n/* harmony export */   getControlType: function() { return /* binding */ getControlType; },\n/* harmony export */   getDefaultValueByEditor: function() { return /* binding */ getDefaultValueByEditor; },\n/* harmony export */   getPropertyDefaultValue: function() { return /* binding */ getPropertyDefaultValue; },\n/* harmony export */   mergeEditorValue: function() { return /* binding */ mergeEditorValue; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ 45076);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 39832);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-08-24 20:07:48\n * @Last Modified by: fjr\n * @LastEditTime: 2023-04-19 15:51:20\n * @Description: meta相关的辅助函数\n */\n\n/**\n * TODO:\n * 1. getDefaultData done\n * 2. getControlMeta done\n * 3. getControlEditor done\n * 4. getControlAction done\n * DO WHAT?...\n */\n\n\n/** 一些辅助函数 start */\n\nfunction defaultValue(type) {\n  switch (type) {\n    case 'String':\n      {\n        return '';\n      }\n    case 'Integer':\n      {\n        return 0;\n      }\n    case 'Boolean':\n      {\n        return false;\n      }\n    case 'Object':\n      {\n        return undefined;\n      }\n    default:\n      {\n        return undefined;\n      }\n  }\n}\nvar getDefaultValueByEditor = function getDefaultValueByEditor(editor) {\n  var DataType = editor.DataType,\n    Default = editor.Default,\n    Enum = editor.Enum;\n  return getDefaultValue(Default, Enum, DataType);\n};\nvar getDefaultValue = function getDefaultValue(Default, Enum, DataType) {\n  if (!(0,lodash__WEBPACK_IMPORTED_MODULE_9__.isUndefined)(Default)) {\n    return Default;\n  } else if (!(0,lodash__WEBPACK_IMPORTED_MODULE_9__.isUndefined)(Enum === null || Enum === void 0 ? void 0 : Enum[0].Value)) {\n    return Enum === null || Enum === void 0 ? void 0 : Enum[0].Value;\n  } else {\n    return defaultValue(DataType);\n  }\n};\nvar getPropertyDefaultValue = function getPropertyDefaultValue(property, processPropertyName) {\n  var nodes = 'Nodes' in property ? property.Nodes : [property];\n  return _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default()(nodes).call(nodes, function (data, innerProperty) {\n    //属性名统一转换\n    var escapeProperty = processPropertyName(innerProperty.Id);\n    if (escapeProperty) {\n      var editor = innerProperty.Editor;\n      if (editor) {\n        data[escapeProperty] = getDefaultValueByEditor(editor);\n      }\n    }\n    return data;\n  }, {});\n};\nvar mergeEditorValue = function mergeEditorValue(property, processPropertyName) {\n  var nodes = 'Nodes' in property ? property.Nodes : [property];\n  return _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default()(nodes).call(nodes, function (data, innerProperty) {\n    //属性名统一转换\n    var escapeProperty = processPropertyName(innerProperty.Id);\n    if (escapeProperty) {\n      var editor = innerProperty.Editor;\n      if (!(0,lodash__WEBPACK_IMPORTED_MODULE_9__.isUndefined)(editor.Value)) {\n        data[escapeProperty] = editor.Value;\n      }\n    }\n    return data;\n  }, {});\n};\n\n/** 一些辅助函数 end */\n\n// IControlType只在内部用, 方便type传IControl的清空\n// memo的清空不考虑\n\n/** 基础辅助函数 start */\nvar _getControlMeta = function _getControlMeta(type) {\n  return function (meta, globalConfig) {\n    var _context;\n    var _ref = globalConfig || {},\n      keywordMapping = _ref.keywordMapping;\n    var _type = type;\n    if ((0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(type) === 'object' && keywordMapping) {\n      _type = type[keywordMapping.type];\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default()(_context = meta.Controls).call(_context, function (control) {\n      return control.Id === _type;\n    }) || {};\n  };\n};\nvar getControlMeta = function getControlMeta(type) {\n  return function (meta) {\n    if ((0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(type) === 'object') return type;\n    return _getControlMeta(type)(meta);\n  };\n};\nvar _getControlDefaultDataByPropertyGroups = function getControlDefaultDataByPropertyGroups(propertyGroups, globalConfig) {\n  var _ref2 = globalConfig || {},\n    _ref2$processProperty = _ref2.processPropertyName,\n    processPropertyName = _ref2$processProperty === void 0 ? function (value) {\n      return value;\n    } : _ref2$processProperty;\n  var itemData = {};\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(propertyGroups).call(propertyGroups, function (property) {\n    // 不要memo\n    (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(itemData, getPropertyDefaultValue(property, processPropertyName));\n  });\n  return itemData;\n};\n\n/**\n * @description: 获取对应控件的默认值数据\n * @param {string} type\n * @return {*}\n */\n// TODO: 非默认数据不需要排除？\n\nvar getControlDefaultData = function getControlDefaultData(type) {\n  return function (meta, globalConfig) {\n    var _ref3 = globalConfig || {},\n      _ref3$processProperty = _ref3.processPropertyName,\n      processPropertyName = _ref3$processProperty === void 0 ? function (value) {\n        return value;\n      } : _ref3$processProperty;\n    // TODO: 这个也可以用WeakMap来缓存\n    var allProps = getControlAllProps(type)(meta);\n    return _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default()(allProps).call(allProps, function (data, prop) {\n      var key = processPropertyName(prop.Id);\n      var editor = prop.Editor;\n      if (editor) {\n        data[key] = getDefaultValueByEditor(editor);\n      }\n      return data;\n    }, {});\n  };\n};\nvar getControlPropertyDefaultValue = function getControlPropertyDefaultValue(type, propName) {\n  return function (meta) {\n    var controlMeta = getControlMeta(type)(meta);\n    for (var i = 0; i < controlMeta.Properties.length; i++) {\n      var property = controlMeta.Properties[i];\n      var nodes = 'Nodes' in property ? property.Nodes : [property];\n      var node = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default()(nodes).call(nodes, function (node) {\n        return node.Id === propName;\n      });\n      if (node) {\n        return getDefaultValueByEditor(node.Editor);\n      }\n    }\n  };\n};\nvar getControlAllProps = function getControlAllProps(type) {\n  return function (meta) {\n    var _controlMeta$Properti;\n    var controlMeta = getControlMeta(type)(meta);\n    return ((_controlMeta$Properti = controlMeta.Properties) === null || _controlMeta$Properti === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default()(_controlMeta$Properti).call(_controlMeta$Properti, function (props, prop) {\n      if (prop.Nodes) {\n        props.push.apply(props, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(prop.Nodes));\n      } else {\n        props.push(prop);\n      }\n      return props;\n    }, [])) || [];\n  };\n};\n/**\n * @description: 获取对应控件模型的对应属性描述\n * @param {*}\n * @return {*}\n */\n// propName, 对应模型的，一律大写开头\nvar getControlMetaProperty = function getControlMetaProperty(type, propName) {\n  return function (meta) {\n    var property = {};\n    var controlMeta = getControlMeta(type)(meta);\n    for (var i = 0; i < (controlMeta === null || controlMeta === void 0 || (_controlMeta$Properti2 = controlMeta.Properties) === null || _controlMeta$Properti2 === void 0 ? void 0 : _controlMeta$Properti2.length); i++) {\n      var _controlMeta$Properti2;\n      var _property = controlMeta.Properties[i];\n      // 不要memo\n      var nodes = _property.Nodes || [_property];\n      var innerProperty = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default()(nodes).call(nodes, function (node) {\n        return node.Id === propName;\n      });\n      if (innerProperty) {\n        return innerProperty;\n      }\n    }\n    return property;\n  };\n};\n/**\n * @description:  获取对应控件模型的对应属性的编辑器描述\n * @param {*} type\n * @param {*} propName\n * @return {*}\n */\nvar getControlMetaEditor = function getControlMetaEditor(type, propName) {\n  return function (meta) {\n    return getControlMetaProperty(type, propName)(meta).Editor;\n  };\n};\n/**\n * @description:  获取对应控件模型的对应属性的关联触发器描述\n * @param {*} type\n * @param {*} propName\n * @return {*}\n */\nvar getControlMetaAction = function getControlMetaAction(type, propName) {\n  return function (meta) {\n    return getControlMetaProperty(type, propName)(meta).Action;\n  };\n};\nvar getControlType = function getControlType(type, globalConfig) {\n  var keywordMapping = globalConfig.keywordMapping;\n  return type && (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(type) === 'object' ? type[keywordMapping.type] : type;\n};\n\n/**\n * @description: 根据父子type/field从meta上获取子是否能放入父中\n * @param {*}\n * @param {ITypeOrItem} childType\n * @param {ITypeOrItem} parentType\n * @return {*}\n */\n\nvar canAdd = function canAdd(childType, parentType) {\n  return function (meta, globalConfig) {\n    var childMeta = _getControlMeta(childType)(meta, globalConfig);\n    var parentMeta = _getControlMeta(parentType)(meta, globalConfig);\n    var _childType = getControlType(childType, globalConfig);\n    var _parentType = getControlType(parentType, globalConfig);\n    var canAddCallback = globalConfig.canAddCallback;\n    var parentIsContainer = parentMeta.IsContainer,\n      accept = parentMeta.Accept,\n      notAccept = parentMeta.NotAccept,\n      parentBaseId = parentMeta.BaseId;\n    var childIsContaienr = childMeta.IsContainer,\n      acceptParent = childMeta.AcceptParent,\n      childBaseId = childMeta.BaseId;\n    // if(!('IsContainer' in parentMeta)) return true\n    if (!parentIsContainer) return false;\n    if (accept) {\n      // 兼容套打，后面移除\n      if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_6___default()(accept)) {\n        return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7___default()(accept).call(accept, _childType);\n      }\n    }\n    if (canAddCallback && typeof canAddCallback === 'function') {\n      var ret = canAddCallback(childType, parentType, childMeta, parentMeta);\n      if ((0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ret) === 'object') {\n        return ret;\n      }\n      if (!(0,lodash__WEBPACK_IMPORTED_MODULE_9__.isUndefined)(ret)) {\n        return !!ret;\n      }\n    }\n    // 如果 acceptParent notAccept accept都没值，是不是true？\n    // TODO: 确定\n    return true;\n  };\n};\n\n/** 基础辅助函数 end */\n\n/** 经过memo的基础辅助函数 start */\n\n// false 开启 true 关闭\n// 由于一些业务逻辑不止是当前节点类型那么简单，所以必须关闭\nvar UNMEMOIZE_MODE = true;\n/**\n * @description: 根据create创造对应的memo方法\n * @param {IGetMetaDetail} creater\n * @return {IGetMetaDetailRever}\n */\nvar createFunctionMemo = function createFunctionMemo(creater, memoCreater) {\n  return function (meta, globalConfig) {\n    var _memoCreater = function _memoCreater(meta, type, propName) {\n      return _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8___default()(propName ? {\n        type: type,\n        propName: propName\n      } : {\n        type: type\n      });\n    };\n    var _createrProxy = function _createrProxy(meta, type, propName) {\n      return creater(type, propName)(meta, globalConfig);\n    };\n    var _createrMemo = (0,lodash__WEBPACK_IMPORTED_MODULE_9__.memoize)(_createrProxy, memoCreater ? memoCreater(globalConfig) : _memoCreater);\n    return function (type, propName) {\n      return UNMEMOIZE_MODE ? _createrProxy(meta, type, propName) : _createrMemo(meta, type, propName);\n    };\n  };\n};\nvar getControlMetaMemo = createFunctionMemo(getControlMeta);\nvar getControlDefaultDataMemo = createFunctionMemo(getControlDefaultData);\nvar getControlMetaPropertyMemo = createFunctionMemo(getControlMetaProperty);\nvar getControlMetaEditorMemo = createFunctionMemo(getControlMetaEditor);\nvar getControlMetaActionMemo = createFunctionMemo(getControlMetaAction);\nvar canAddMemoize = function canAddMemoize(globalConfig) {\n  return function (meta, childType, parentType) {\n    var keywordMapping = globalConfig.keywordMapping;\n    var getType = function getType(childType) {\n      return (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(childType) === 'object' ? childType[keywordMapping.type] : childType;\n    };\n    return _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_8___default()(parentType ? {\n      childType: getType(childType),\n      parentType: getType(parentType)\n    } : {\n      childType: getType(childType)\n    });\n  };\n};\nvar canAddMemo = createFunctionMemo(canAdd, canAddMemoize); // TODO\nvar getControlPropertyDefaultValueMemo = createFunctionMemo(getControlPropertyDefaultValue);\n/** 经过memo的基础辅助函数 end */\n\n// type IGetMetaMoreAnyDetailByType = IGetMetaMoreDetailByType<any>\n\n/** 经过memo并组合成对象对外开放的api start */\n\nvar createMetaApi = function createMetaApi(meta, globalConfig) {\n  var _getMetaDetailMemoByType = getControlMetaMemo(meta, globalConfig);\n  var _getControlDefaultDataMemo = getControlDefaultDataMemo(meta, globalConfig);\n  var _getControlMetaPropertyMemo = getControlMetaPropertyMemo(meta, globalConfig);\n  var _getControlMetaEditorMemo = getControlMetaEditorMemo(meta, globalConfig);\n  var _getControlMetaActionMemo = getControlMetaActionMemo(meta, globalConfig);\n  var _canAddMemo = canAddMemo(meta, globalConfig);\n  var _getControlPropertyDefaultValueMemo = getControlPropertyDefaultValueMemo(meta, globalConfig);\n  return {\n    getMeta: function getMeta() {\n      return meta;\n    },\n    getDefaultData: function getDefaultData(type) {\n      return _getControlDefaultDataMemo(type);\n    },\n    getControlMeta: function getControlMeta(type) {\n      return _getMetaDetailMemoByType(type);\n    },\n    getControlMetaProperty: function getControlMetaProperty(type, propName) {\n      return _getControlMetaPropertyMemo(type, propName);\n    },\n    getControlMetaEditor: function getControlMetaEditor(type, propName) {\n      return _getControlMetaEditorMemo(type, propName);\n    },\n    getControlMetaAction: function getControlMetaAction(type, propName) {\n      return _getControlMetaActionMemo(type, propName);\n    },\n    canAdd: function canAdd(childType, parentType) {\n      return _canAddMemo(childType, parentType);\n    },\n    getControlDefaultDataByPropertyGroups: function getControlDefaultDataByPropertyGroups(groups) {\n      return _getControlDefaultDataByPropertyGroups(groups, globalConfig);\n    },\n    getControlMetaPropertyGroups: function getControlMetaPropertyGroups(type) {\n      var _getMetaDetailMemoByT;\n      return (_getMetaDetailMemoByT = _getMetaDetailMemoByType(type)) === null || _getMetaDetailMemoByT === void 0 ? void 0 : _getMetaDetailMemoByT.Properties;\n    },\n    getControlPropertyDefaultValue: function getControlPropertyDefaultValue(type, propName) {\n      return _getControlPropertyDefaultValueMemo(type, propName);\n    }\n  };\n};\n\n/** 经过memo并组合成对象对外开放的api end */\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/meta/index.ts?");

/***/ }),

/***/ 59499:
/*!************************************************!*\
  !*** ../kd-designer/src/meta/transformMeta.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ transformMeta; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n/*\n * @Author: daosheng_chen\n * @Email: daosheng_chen@kingdee.com\n * @Date: 2021-08-25 10:08:18\n * @Last Modified by: daosheng_chen\n * @Last Modified time: 2021-08-26 15:48:57\n * @Description: meta数据转换为扁平数据结构，作为核心层顶层通用数据基础 {categories:[...],controls:[...]}\n */\n\nfunction transformMeta() {\n  var _context;\n  var meta = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var newMeta = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    Controls: []\n  });\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(_context = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(meta)).call(_context, function (metaPropName) {\n    if (metaPropName === 'Categories') {\n      var _context2;\n      newMeta[metaPropName] = [];\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(_context2 = meta[metaPropName]).call(_context2, function (category) {\n        var _context3;\n        var newCategory = {};\n        _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(_context3 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(category)).call(_context3, function (categoryPropName) {\n          if (categoryPropName === 'Controls') {\n            var _context4;\n            _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_1___default()(_context4 = category[categoryPropName]).call(_context4, function (control) {\n              newMeta.Controls.push((0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, control, {\n                CategoryId: category.Id\n              }));\n            });\n          } else {\n            newCategory[categoryPropName] = category[categoryPropName];\n          }\n        });\n        newMeta[metaPropName].push(newCategory);\n      });\n    } else {\n      newMeta[metaPropName] = meta[metaPropName];\n    }\n  });\n  return newMeta;\n}\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/meta/transformMeta.ts?");

/***/ }),

/***/ 70820:
/*!**********************************************!*\
  !*** ../kd-designer/src/selection/index.tsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ create; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../type */ 84460);\n/* harmony import */ var _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../designer-utils/utils/console */ 35132);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2022-02-15 10:15:20\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-15 13:42:42\n * @Description: ...\n */\n\n\n\n// import {RedoUndoStack} from './data-provider'\n// TODO：考虑拓展接口，并视图层forceUpdate即可？\nfunction create(globalConfig) {\n  var listeners = [];\n  var selectItems = [];\n  var self = {\n    setSelect: function setSelect(ids) {\n      if (!ids) return;\n      ids = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0___default()(ids) ? ids : [ids];\n      var oldItems = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1___default()(selectItems).call(selectItems);\n      selectItems = ids;\n      self.fireEvent({\n        type: _type__WEBPACK_IMPORTED_MODULE_5__.SelectEventType.Reset,\n        value: selectItems,\n        oldValue: oldItems\n      });\n    },\n    getSelection: function getSelection() {\n      return selectItems;\n    },\n    getActiveSelectedId: function getActiveSelectedId() {\n      var selectedFn = globalConfig.activeSelectedMode === 'first' ? (lodash__WEBPACK_IMPORTED_MODULE_7___default().first) : (lodash__WEBPACK_IMPORTED_MODULE_7___default().last);\n      return selectedFn(selectItems);\n    },\n    appendSelect: function appendSelect(ids) {\n      // 追加选择项\n      var oldItems = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1___default()(selectItems).call(selectItems);\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default()(ids).call(ids, function (id) {\n        if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(selectItems).call(selectItems, id)) {\n          selectItems.push(id);\n        }\n      });\n      self.fireEvent({\n        type: _type__WEBPACK_IMPORTED_MODULE_5__.SelectEventType.SelectChange,\n        value: selectItems,\n        oldValue: oldItems\n      });\n    },\n    // subtractSelect: (ids: Array<string>) => {\n    //   const oldItems = selectItems.filter()\n\n    //   self.fireEvent({ type: SelectEventType.SelectChange, value: selectItems, oldValue: oldItems })\n    // },\n    addSelectChangeListener: function addSelectChangeListener(callback) {\n      listeners.push(callback);\n      return function removeDataChangeListener() {\n        // 待验证纠错:\n        // const index = listeners.indexOf(callback)\n        // listeners.splice(index, 1)\n        // listeners.splice(index, 0)\n        listeners = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(listeners).call(listeners, function (cb) {\n          return cb !== callback;\n        });\n      };\n    },\n    // 这里fireEvent看下有几个event都是哪的\n    fireEvent: function fireEvent(event) {\n      _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_6__[\"default\"].log('selectCtx fireEvt', event, listeners);\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default()(listeners).call(listeners, function (listener) {\n        try {\n          listener(event);\n        } catch (error) {\n          _designer_utils_utils_console__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(error);\n        }\n      });\n    }\n  };\n  return self;\n}\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/selection/index.tsx?");

/***/ }),

/***/ 54465:
/*!*********************************************!*\
  !*** ../kd-designer/src/type/actionType.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionType: function() { return /* reexport safe */ _index__WEBPACK_IMPORTED_MODULE_9__.ActionType; },\n/* harmony export */   createAddAction: function() { return /* binding */ createAddAction; },\n/* harmony export */   createAttrAction: function() { return /* binding */ createAttrAction; },\n/* harmony export */   createCustomUpdateAction: function() { return /* binding */ createCustomUpdateAction; },\n/* harmony export */   createDeleteAction: function() { return /* binding */ createDeleteAction; },\n/* harmony export */   createInsertAction: function() { return /* binding */ createInsertAction; },\n/* harmony export */   createPasteAction: function() { return /* binding */ createPasteAction; },\n/* harmony export */   createRemovePropAction: function() { return /* binding */ createRemovePropAction; },\n/* harmony export */   createSwapAction: function() { return /* binding */ createSwapAction; },\n/* harmony export */   createUpdateAction: function() { return /* binding */ createUpdateAction; },\n/* harmony export */   isAddAction: function() { return /* binding */ isAddAction; },\n/* harmony export */   isPasteAction: function() { return /* binding */ isPasteAction; },\n/* harmony export */   isUpdateAction: function() { return /* binding */ isUpdateAction; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index */ 84460);\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-08-02 15:36:17\n * @Last Modified by: fjr\n * @LastEditTime: 2022-04-10 11:13:16\n * @Description: 创建相关action\n */\n\nvar createAction = function createAction(actionType) {\n  return function (value) {\n    var rest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    // 这里不加isAddAction 兼容\n    return _objectSpread(_objectSpread({}, rest), {}, {\n      type: actionType,\n      value: value\n    });\n  };\n};\nvar createDeleteAction = createAction(_index__WEBPACK_IMPORTED_MODULE_9__.ActionType.DELETE);\nvar createAddAction = createAction(_index__WEBPACK_IMPORTED_MODULE_9__.ActionType.ADD);\nvar createUpdateAction = createAction(_index__WEBPACK_IMPORTED_MODULE_9__.ActionType.UPDATE);\nvar createPasteAction = createAction(_index__WEBPACK_IMPORTED_MODULE_9__.ActionType.PASTE);\nvar createAttrAction = createAction(_index__WEBPACK_IMPORTED_MODULE_9__.ActionType.Attr);\nvar createCustomUpdateAction = createAction(_index__WEBPACK_IMPORTED_MODULE_9__.ActionType.CUSTOMUPDATE);\nvar createRemovePropAction = createAction(_index__WEBPACK_IMPORTED_MODULE_9__.ActionType.REMOVEPROP);\nvar createSwapAction = createAction(_index__WEBPACK_IMPORTED_MODULE_9__.ActionType.DRAG);\nvar createInsertAction = createAction(_index__WEBPACK_IMPORTED_MODULE_9__.ActionType.INSERT);\n\nvar isAddAction = function isAddAction(_ref) {\n  var type = _ref.type;\n  return type === _index__WEBPACK_IMPORTED_MODULE_9__.ActionType.ADD;\n};\nvar isUpdateAction = function isUpdateAction(_ref2) {\n  var type = _ref2.type;\n  return type === _index__WEBPACK_IMPORTED_MODULE_9__.ActionType.UPDATE;\n};\nvar isPasteAction = function isPasteAction(_ref3) {\n  var type = _ref3.type;\n  return type === _index__WEBPACK_IMPORTED_MODULE_9__.ActionType.PASTE;\n};\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/type/actionType.ts?");

/***/ }),

/***/ 84460:
/*!****************************************!*\
  !*** ../kd-designer/src/type/index.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionType: function() { return /* binding */ ActionType; },\n/* harmony export */   AliasDataChangeEventType: function() { return /* binding */ AliasDataChangeEventType; },\n/* harmony export */   Basetype: function() { return /* reexport safe */ _metaType__WEBPACK_IMPORTED_MODULE_0__.Basetype; },\n/* harmony export */   DataChangeEventType: function() { return /* binding */ DataChangeEventType; },\n/* harmony export */   ErrorEventType: function() { return /* binding */ ErrorEventType; },\n/* harmony export */   IViewType: function() { return /* binding */ IViewType; },\n/* harmony export */   Ids: function() { return /* reexport safe */ _metaType__WEBPACK_IMPORTED_MODULE_0__.Ids; },\n/* harmony export */   SelectEventType: function() { return /* binding */ SelectEventType; }\n/* harmony export */ });\n/* harmony import */ var _metaType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./metaType */ 93504);\n\n// 定义所有类型\n\n// 前移后移\n\nvar IViewType = /*#__PURE__*/function (IViewType) {\n  IViewType[\"LeftView\"] = \"left\";\n  IViewType[\"MainView\"] = \"main\";\n  IViewType[\"RightView\"] = \"right\";\n  IViewType[\"ToolboxView\"] = \"toolbox\";\n  IViewType[\"OutlineView\"] = \"outline\";\n  IViewType[\"PropertyView\"] = \"property\";\n  IViewType[\"ContorlView\"] = \"control\";\n  return IViewType;\n}({});\nvar SelectEventType = /*#__PURE__*/function (SelectEventType) {\n  SelectEventType[\"SelectChange\"] = \"selectChange\";\n  SelectEventType[\"Reset\"] = \"reset\";\n  return SelectEventType;\n}({});\nvar AliasDataChangeEventType = /*#__PURE__*/function (AliasDataChangeEventType) {\n  AliasDataChangeEventType[\"Set\"] = \"set\";\n  return AliasDataChangeEventType;\n}({});\nvar DataChangeEventType = /*#__PURE__*/function (DataChangeEventType) {\n  DataChangeEventType[\"Add\"] = \"add\";\n  DataChangeEventType[\"Delete\"] = \"delete\";\n  DataChangeEventType[\"Change\"] = \"change\";\n  DataChangeEventType[\"Reset\"] = \"reset\";\n  DataChangeEventType[\"BatchActions\"] = \"BatchActions\";\n  DataChangeEventType[\"Attr\"] = \"Attr\";\n  DataChangeEventType[\"Redo\"] = \"redo\";\n  DataChangeEventType[\"RedoAttr\"] = \"RedoAttr\";\n  DataChangeEventType[\"Undo\"] = \"undo\";\n  DataChangeEventType[\"UndoAttr\"] = \"UndoAttr\";\n  DataChangeEventType[\"MergeData\"] = \"MergeData\";\n  DataChangeEventType[\"Move\"] = \"Move\";\n  return DataChangeEventType;\n}({});\nvar ActionType = /*#__PURE__*/function (ActionType) {\n  ActionType[\"ADD\"] = \"ADD\";\n  ActionType[\"UPDATE\"] = \"UPDATE\";\n  ActionType[\"DELETE\"] = \"DELETE\";\n  ActionType[\"PASTE\"] = \"PASTE\";\n  ActionType[\"Attr\"] = \"Attr\";\n  ActionType[\"CUSTOMUPDATE\"] = \"CUSTOMUPDATE\";\n  ActionType[\"REMOVEPROP\"] = \"REMOVEPROP\";\n  ActionType[\"DRAG\"] = \"DRAG\";\n  ActionType[\"INSERT\"] = \"INSERT\";\n  return ActionType;\n}({});\n\n// 可以不暴露出去\n\nvar ErrorEventType = /*#__PURE__*/function (ErrorEventType) {\n  ErrorEventType[\"Replace\"] = \"replace\";\n  ErrorEventType[\"ErrorChange\"] = \"errorChange\";\n  ErrorEventType[\"Reset\"] = \"reset\";\n  ErrorEventType[\"Delete\"] = \"delete\";\n  ErrorEventType[\"Clear\"] = \"clear\";\n  return ErrorEventType;\n}({});\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/type/index.ts?");

/***/ }),

/***/ 93504:
/*!*******************************************!*\
  !*** ../kd-designer/src/type/metaType.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Basetype: function() { return /* binding */ Basetype; },\n/* harmony export */   Ids: function() { return /* binding */ Ids; }\n/* harmony export */ });\n/*\n * @Author: fjr\n * @Date: 2021-08-24 15:19:17\n * @LastEditors: Please set LastEditors\n * @LastEditTime: 2021-11-19 16:22:15\n * @Description: (新) 表单设计器元数据模型\n */\n\n// (新) 表单设计器元数据模型\n\nvar Basetype = ['Field', 'EntryField', 'Container', 'Entry'];\nvar Ids = ['TextField', 'integerField', 'ButtonAp', 'LabelAp', 'FlexPanelAp', 'EntryAp'];\n\n// Validator 属性\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/type/metaType.ts?");

/***/ }),

/***/ 32884:
/*!************************************************!*\
  !*** ../kd-designer/src/view/control-view.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/every */ 30479);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 2992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ 45076);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/some */ 65624);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../designer-utils */ 89592);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! immer */ 83789);\n/* harmony import */ var _context_select_context__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../context/select-context */ 23412);\n/* harmony import */ var _context_data_context__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../context/data-context */ 55308);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../context */ 10268);\n/* harmony import */ var _config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../config-provider/ConfigContext */ 76228);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../context/global-config-context */ 21708);\n/* harmony import */ var _hooks_useActivedSelectedId__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../hooks/useActivedSelectedId */ 9700);\n/* harmony import */ var _type_actionType__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../type/actionType */ 54465);\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../constant */ 71912);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_36__);\n/* harmony import */ var tiny_pinyin__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! tiny-pinyin */ 57280);\n/* harmony import */ var tiny_pinyin__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(tiny_pinyin__WEBPACK_IMPORTED_MODULE_37__);\n/* harmony import */ var _assets_images_control_empty_png__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../assets/images/control-empty.png */ 83904);\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_6___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_6___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_8___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context13, _context14; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context13 = ownKeys(Object(t), !0)).call(_context13, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_10___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_11___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_10___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context14 = ownKeys(Object(t))).call(_context14, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_12___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_8___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// TODO 元模型上加容器之类的属性描述 后端加，前端兼容\n// 参考苍穹已有的acceptParent 子找父 父找子 研究下\n\n\n\n// import GlobalContext from '../global-context'\n\n\n\n\n\n\n\n// import { getLangMsg } from '../../../../locale/locale'\nvar Panel = _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Collapse.Panel;\nvar Link = _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Anchor.Link;\nvar DropdownItem = _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Dropdown.Item,\n  DropdownMenu = _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Dropdown.Menu;\nvar controlViewDropdownClsName = 'control-view-dropdown';\n\n// TODO: 平铺数据加上每个数据的路径声明来构建树,并优化查询, 操作效率\n// TODO: 分组声明是否后端加上? 暂时新旧版一起更改\nvar ControlView = function ControlView(props) {\n  var _controlViewSetting$g;\n  // controlSelectItemInfo 给到外面设置传入的时机\n  var _props$meta = props.meta,\n    meta = _props$meta === void 0 ? [] : _props$meta,\n    controlSelectItemInfo = props.controlSelectItemInfo;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_24__.useContext)(_config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_31__[\"default\"]),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_24__.useState)(function () {\n      return meta.Controls || [];\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState, 2),\n    controls = _useState2[0],\n    setControls = _useState2[1];\n  var dataContext = (0,react__WEBPACK_IMPORTED_MODULE_24__.useContext)(_context_data_context__WEBPACK_IMPORTED_MODULE_29__[\"default\"]);\n  var selectionContext = (0,react__WEBPACK_IMPORTED_MODULE_24__.useContext)(_context_select_context__WEBPACK_IMPORTED_MODULE_28__[\"default\"]);\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_24__.useContext)(_context__WEBPACK_IMPORTED_MODULE_30__.DataFactoryContext),\n    metaApi = _useContext2.metaApi;\n  var _useActivedSelectedId = (0,_hooks_useActivedSelectedId__WEBPACK_IMPORTED_MODULE_33__.useActivedSelectedId)({\n      dataContext: dataContext,\n      selectionContext: selectionContext,\n      timeout: 200\n    }),\n    activedSelectId = _useActivedSelectedId.activedSelectId;\n  var _useContext3 = (0,react__WEBPACK_IMPORTED_MODULE_24__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_32__[\"default\"]),\n    enableSearch = _useContext3.enableSearch,\n    keywordMapping = _useContext3.keywordMapping,\n    controlViewSetting = _useContext3.controlViewSetting;\n  var customClassName = controlViewSetting.className;\n  // TODO: custom prefixCls\n  var leftViewPrefixCls = getPrefixCls(prefixCls, 'left-view');\n  // const { isContainer, accept: acceptList } = useMemo(() => getControlIsContainer(controlMetaInfo, dataContext.findControl((activedSelectId as string)), keywordMapping), [activedSelectId])\n\n  (0,react__WEBPACK_IMPORTED_MODULE_24__.useEffect)(function () {\n    var _setControls = function _setControls() {\n      return setControls(function () {\n        var _context;\n        var parent = dataContext.findControl(activedSelectId);\n        parent = dataContext.getContainerControl(parent);\n        var realType = dataContext.getRealControlType(parent, keywordMapping.type);\n        var acceptControls = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(_context = meta.Controls || []).call(_context, function (control) {\n          if (control.Id === 'HiddenControl' || control.Visible === false) return false;\n          var ret = metaApi.canAdd(control.Id, realType);\n          var isAcceptChild = ret === true || (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ret) === 'object' && ret.success;\n          return isAcceptChild;\n        });\n        return acceptControls;\n      });\n    };\n    _setControls();\n    var dataChangeListenerCallback = function dataChangeListenerCallback(dataChangeEvent) {\n      var _actions$;\n      var _dataChangeEvent$acti = dataChangeEvent.actions,\n        actions = _dataChangeEvent$acti === void 0 ? [] : _dataChangeEvent$acti;\n      if (((_actions$ = actions[0]) === null || _actions$ === void 0 ? void 0 : _actions$.type) === 'UPDATE') {\n        var _value$;\n        var value = actions[0].value || [];\n        var isContainerTypeChange = (_value$ = value[0]) === null || _value$ === void 0 || (_value$ = _value$[1]) === null || _value$ === void 0 ? void 0 : _value$.ContainerType;\n        if (isContainerTypeChange) {\n          _setControls();\n          selectionContext.setSelect([activedSelectId]);\n        }\n      }\n    };\n    var removeDataChangeListener = dataContext.addDataChangeListener(dataChangeListenerCallback);\n    return function () {\n      removeDataChangeListener && removeDataChangeListener();\n    };\n  }, [activedSelectId, controlSelectItemInfo]);\n  var _useSearchArea = useSearchArea({\n      meta: meta,\n      controls: controls,\n      enableSearch: enableSearch,\n      leftViewPrefixCls: leftViewPrefixCls,\n      controlViewSetting: controlViewSetting\n    }),\n    filterData = _useSearchArea.filterControls,\n    searchArea = _useSearchArea.searchArea,\n    controlRelationMap = _useSearchArea.controlRelationMap;\n  var isEmpty = _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_13___default()(filterData).call(filterData, function (category) {\n    return category.Visible === false || !category.Controls || category.Controls.length === 0;\n  });\n  var emptyView = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement((react__WEBPACK_IMPORTED_MODULE_24___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"img\", {\n    src: _assets_images_control_empty_png__WEBPACK_IMPORTED_MODULE_38__[\"default\"]\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"span\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_26__.getLangMsg)('designer.mainView.key0001')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"span\", null, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_26__.getLangMsg)('designer.mainView.key0002')));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(\"\".concat(leftViewPrefixCls, \"-control-tabs\"), customClassName || '')\n  }, searchArea, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(\"\".concat(leftViewPrefixCls, \"-control-collapse-container\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, \"\".concat(leftViewPrefixCls, \"-empty-control-collapse-container\"), isEmpty))\n  }, !isEmpty ? _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(filterData).call(filterData, function (group) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(Category, {\n      category: group,\n      controlRelationMap: controlRelationMap,\n      leftViewPrefixCls: leftViewPrefixCls,\n      key: group.Id,\n      activedSelectId: activedSelectId,\n      controls: controls,\n      controlViewSetting: controlViewSetting\n    });\n  }) : (controlViewSetting === null || controlViewSetting === void 0 || (_controlViewSetting$g = controlViewSetting.getEmptyView) === null || _controlViewSetting$g === void 0 ? void 0 : _controlViewSetting$g.call(controlViewSetting)) || emptyView));\n};\nvar Category = function Category(props) {\n  var category = props.category,\n    controlRelationMap = props.controlRelationMap,\n    leftViewPrefixCls = props.leftViewPrefixCls,\n    activedSelectId = props.activedSelectId,\n    controls = props.controls,\n    controlViewSetting = props.controlViewSetting;\n  var Id = category.Id,\n    Visible = category.Visible,\n    cateGoryControls = category.Controls,\n    Name = category.Name;\n  var _controlViewSetting$s = controlViewSetting.showCollapseTop,\n    showCollapseTop = _controlViewSetting$s === void 0 ? true : _controlViewSetting$s,\n    _controlViewSetting$c = controlViewSetting.collapsable,\n    collapsable = _controlViewSetting$c === void 0 ? true : _controlViewSetting$c,\n    hideItemViewList = controlViewSetting.hideItemView;\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_24__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState3, 2),\n    isExpand = _useState4[0],\n    setIsExpand = _useState4[1];\n  var toggleExpand = (0,react__WEBPACK_IMPORTED_MODULE_24__.useCallback)(function () {\n    setIsExpand(function (flag) {\n      return !flag;\n    });\n  }, [isExpand]);\n  var panelComp = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(Panel, {\n    header: Name,\n    panelKey: Id\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    className: \"\".concat(leftViewPrefixCls, \"-pane\")\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(cateGoryControls).call(cateGoryControls, function (control) {\n    // controlRelationMap[control.Id] || [] 防止control.ChildControl生效\n    // data[containerIdx] -> controls\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(ControlItemNode, {\n      key: control.Id,\n      controlRelationMap: controlRelationMap,\n      control: control,\n      activedSelectId: activedSelectId,\n      leftViewPrefixCls: leftViewPrefixCls,\n      controls: controls\n    });\n    // return <ControlViewItem key={control.Id} {...control} className={leftViewPrefixCls} activedSelectId={activedSelectId} controls={controls} childControls={controlRelationMap[control.Id] || []} controlRelationMap={controlRelationMap} />\n  })));\n  if (Id === 'HiddenControl' || Visible === false || (cateGoryControls === null || cateGoryControls === void 0 ? void 0 : cateGoryControls.length) === 0) return null; // 这里要统一修改为Visible为false\n  if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15___default()(hideItemViewList) && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_16___default()(hideItemViewList).call(hideItemViewList, Id)) return null;\n  return collapsable ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    id: Id,\n    key: Id,\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(\"\".concat(leftViewPrefixCls, \"-group-pane\"), {\n      'hide-collapse-top': !showCollapseTop\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Collapse, {\n    name: \"Collapse\",\n    key: Id,\n    defaultActiveKey: Id,\n    expandIconPosition: \"left\",\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(\"\".concat(leftViewPrefixCls, \"-collapse\"), \"\".concat(Id, \"-collapse\"))\n  }, panelComp)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    id: Id,\n    key: Id,\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(\"\".concat(leftViewPrefixCls, \"-group-pane\"), {\n      'hide-collapse-top': !showCollapseTop\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    className: \"\".concat(leftViewPrefixCls, \"-control-group-title\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    className: \"\".concat(leftViewPrefixCls, \"-control-group-title-left\")\n  }, Name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    className: \"\".concat(leftViewPrefixCls, \"-pane\")\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(cateGoryControls).call(cateGoryControls, function (control) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(ControlItemNode, {\n      key: control.Id,\n      controlRelationMap: controlRelationMap,\n      control: control,\n      activedSelectId: activedSelectId,\n      leftViewPrefixCls: leftViewPrefixCls,\n      controls: controls\n    });\n  })));\n};\nvar ControlItemNode = function ControlItemNode(props) {\n  var controlRelationMap = props.controlRelationMap,\n    control = props.control,\n    activedSelectId = props.activedSelectId,\n    leftViewPrefixCls = props.leftViewPrefixCls,\n    controls = props.controls,\n    parentGroupType = props.parentGroupType;\n  var name = control.Name || control.Id;\n  if (controlRelationMap[control.Id] && parentGroupType !== control.Id) {\n    var _context2;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(GroupControlItem, {\n      key: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context2 = \"group_\".concat(parentGroupType || '', \"_\")).call(_context2, control.Id),\n      Id: control.Id,\n      Name: name,\n      Tips: control.Tips,\n      ExtendFontClass: control.ExtendFontClass,\n      className: leftViewPrefixCls,\n      activedSelectId: activedSelectId,\n      controls: controls,\n      childControls: controlRelationMap[control.Id] || [],\n      controlRelationMap: controlRelationMap\n    });\n  } else {\n    var _context3;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(ControlItem, {\n      key: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context3 = \"item_\".concat(parentGroupType || '', \"_\")).call(_context3, control.Id),\n      Id: control.Id,\n      Name: name,\n      Tips: control.Tips,\n      disabled: control.Disable,\n      ExtendFontClass: control.ExtendFontClass,\n      className: leftViewPrefixCls,\n      activedSelectId: activedSelectId,\n      controlRelationMap: controlRelationMap\n    });\n  }\n};\nvar GroupControlItem = function GroupControlItem(props) {\n  var _context4, _context5;\n  var _props$childControls = props.childControls,\n    _childControls = _props$childControls === void 0 ? [] : _props$childControls,\n    controls = props.controls,\n    parentGroupType = props.parentGroupType,\n    controlRelationMap = props.controlRelationMap,\n    control = props.control,\n    type = props.Id,\n    className = props.className,\n    activedSelectId = props.activedSelectId,\n    name = props.Name,\n    ExtendFontClass = props.ExtendFontClass;\n  var _useContext4 = (0,react__WEBPACK_IMPORTED_MODULE_24__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_32__[\"default\"]),\n    controlViewMode = _useContext4.controlViewMode;\n  var childControls = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_childControls);\n  var triggerRef = (0,react__WEBPACK_IMPORTED_MODULE_24__.useRef)(null);\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_24__.useState)(false),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState5, 2),\n    visible = _useState6[0],\n    setVisible = _useState6[1];\n  var hidePoperTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_24__.useRef)(null);\n  var onRootMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_24__.useCallback)(function () {\n    hidePoperTimerRef.current && clearTimeout(hidePoperTimerRef.current);\n  }, [type]);\n  (0,react__WEBPACK_IMPORTED_MODULE_24__.useEffect)(function () {\n    var listener = function listener() {\n      hidePoperTimerRef.current && clearTimeout(hidePoperTimerRef.current);\n      hidePoperTimerRef.current = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_18___default()(function () {\n        return setVisible(false);\n      });\n    };\n    document.body.addEventListener('mousedown', listener, true);\n    document.body.addEventListener('touchstart', listener, true);\n    return function () {\n      document.body.removeEventListener('mousedown', listener, true);\n      document.body.removeEventListener('touchstart', listener, true);\n    };\n  }, [type]);\n  var childControlInfos = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(childControls).call(childControls, function (controlId) {\n    var control = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_19___default()(controls).call(controls, function (control) {\n      return control.Id === controlId;\n    });\n    return [control];\n  });\n  var nodes = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(childControls).call(childControls, function (controlId, idx) {\n    var _childControlInfos$id = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(childControlInfos[idx], 1),\n      control = _childControlInfos$id[0];\n    var node = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(ControlItemNode, {\n      control: control,\n      childControls: controlRelationMap[controlId] || [],\n      parentGroupType: type,\n      leftViewPrefixCls: className,\n      controls: controls,\n      activedSelectId: activedSelectId,\n      controlRelationMap: controlRelationMap\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(DropdownItem, {\n      key: controlId\n    }, node);\n  });\n  var dropdownMenu = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(DropdownMenu, null, nodes.length > 1 ? nodes : nodes[0]);\n  var isShowDropDown = childControls.length > 0 && type !== parentGroupType;\n  var arrowDownComp = isShowDropDown && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    ref: triggerRef,\n    className: \"\".concat(className, \"-control-switch\"),\n    onClick: function onClick(evt) {\n      // evt.stopPropagation()\n      setVisible(!visible);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Icon, {\n    type: \"xialajiantou\",\n    prefix: \"designericon\"\n  }));\n  var dropdownClassName = isShowDropDown && \"\".concat(className, \"-control-content-dropdown\");\n  var componentBtn = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(ControlItem\n  // ref={itemRef}\n  , {\n    Id: type,\n    Name: name,\n    key: type,\n    controlRelationMap: controlRelationMap,\n    control: control,\n    ExtendFontClass: ExtendFontClass,\n    activedSelectId: activedSelectId,\n    className: className,\n    dropdownClassName: dropdownClassName\n  }, arrowDownComp);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    onMouseDown: onRootMouseDown,\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(\"\".concat(className, \"-control\"), _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context4 = \"\".concat(className, \"-\")).call(_context4, controlViewMode, \"-control\"))\n  }, isShowDropDown ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Dropdown, {\n    menu: dropdownMenu,\n    scrollHidden: true,\n    visible: visible,\n    onVisibleChange: function onVisibleChange(_visible) {\n      setVisible(_visible);\n    },\n    getTriggerElement: function getTriggerElement() {\n      return triggerRef.current;\n    },\n    placement: \"bottomLeft\",\n    trigger: \"click\",\n    popperClassName: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context5 = \"\".concat(className, \"-\")).call(_context5, controlViewDropdownClsName)\n  }, componentBtn) : componentBtn);\n};\nvar isCanAddAction = {\n  current: true\n};\nvar ControlItem = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_24__.forwardRef)(function (props, forwardedRef) {\n  var _icon$props, _icon$props2, _controlViewSetting$c2, _context6, _context7;\n  var _useContext5 = (0,react__WEBPACK_IMPORTED_MODULE_24__.useContext)(_context__WEBPACK_IMPORTED_MODULE_30__.DataFactoryContext),\n    createControlData = _useContext5.dataFactory,\n    metaApi = _useContext5.metaApi;\n  var type = props.Id,\n    name = props.Name,\n    tips = props.Tips,\n    fontClass = props.ExtendFontClass,\n    className = props.className,\n    activedSelectId = props.activedSelectId,\n    children = props.children,\n    dropdownClassName = props.dropdownClassName,\n    onClick = props.onClick,\n    disabled = props.disabled;\n  var _useContext6 = (0,react__WEBPACK_IMPORTED_MODULE_24__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_32__[\"default\"]),\n    getOutlineItemIcon = _useContext6.getOutlineItemIcon,\n    env = _useContext6.env,\n    keywordMapping = _useContext6.keywordMapping,\n    controlViewMode = _useContext6.controlViewMode,\n    controlViewSetting = _useContext6.controlViewSetting;\n  var handleItemClick = controlViewSetting.handleItemClick,\n    handleDragStart = controlViewSetting.onDragStart;\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_24__.useState)(false),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState7, 2),\n    tooltipVisible = _useState8[0],\n    setToolTipVisible = _useState8[1];\n  var dataContext = (0,react__WEBPACK_IMPORTED_MODULE_24__.useContext)(_context_data_context__WEBPACK_IMPORTED_MODULE_29__[\"default\"]);\n  var selectionContext = (0,react__WEBPACK_IMPORTED_MODULE_24__.useContext)(_context_select_context__WEBPACK_IMPORTED_MODULE_28__[\"default\"]);\n  var rootId = dataContext.getRootId();\n  var currentType = type;\n  var currentName = name;\n  var handleClick = (0,react__WEBPACK_IMPORTED_MODULE_24__.useCallback)(function () {\n    var _metaApi$getControlMe, _parent;\n    if (disabled) return;\n    handleItemClick === null || handleItemClick === void 0 || handleItemClick();\n    //  按理这里应该在组件过滤时就过滤掉了\n    isCanAddAction.current = false;\n    var activedSelectId = (0,_hooks_useActivedSelectedId__WEBPACK_IMPORTED_MODULE_33__.getActiveSelectedId)({\n      dataContext: dataContext,\n      selectionContext: selectionContext\n    });\n    var parent = dataContext.findControl(activedSelectId);\n    parent = dataContext.getContainerControl(parent);\n    var parentType = dataContext.getRealControlType(parent, keywordMapping.type);\n    var ret = metaApi.canAdd(currentType, parentType);\n    var isAcceptChild = ret === true || (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ret) === 'object' && ret.success;\n    if (!isAcceptChild) {\n      return _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_20___default().resolve();\n    }\n    var parentIsContainer = (_metaApi$getControlMe = metaApi.getControlMeta((_parent = parent) === null || _parent === void 0 ? void 0 : _parent[keywordMapping.type])) === null || _metaApi$getControlMe === void 0 ? void 0 : _metaApi$getControlMe.IsContainer;\n    var newControl = createControlData({\n      type: currentType,\n      parentId: parentIsContainer ? parent[keywordMapping.id] : rootId // 判断选中的父能不能添加，顶层根节点作为兜底\n    });\n    var index = parent[keywordMapping.id] === activedSelectId ? -1 : dataContext.findControlIndex(activedSelectId) + 1; // 如果选中的不是容器，即加在后面\n    return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_20___default())(function (resolve, reject) {\n      dataContext.addControl((0,_type_actionType__WEBPACK_IMPORTED_MODULE_34__.createAddAction)(newControl, {\n        index: index\n      })).then(function (actions) {\n        if (actions !== null && actions !== void 0 && actions.length) {\n          var realControl = actions[0].value;\n          selectionContext.setSelect(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_15___default()(realControl) ? [realControl[0][keywordMapping.id]] : [realControl[keywordMapping.id]]);\n          resolve();\n        } else {\n          resolve();\n        }\n      }).catch(function (err) {\n        return reject(err);\n      });\n    });\n  }, [currentType, activedSelectId]);\n  var onDragStart = (0,react__WEBPACK_IMPORTED_MODULE_24__.useCallback)(function (e) {\n    if (disabled) return;\n    var dragData = {\n      type: 'control',\n      data: (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n        Name: currentName,\n        Id: currentType\n      })\n    };\n    env[_constant__WEBPACK_IMPORTED_MODULE_35__.CONTROL_DRAG_DATA] = dragData;\n    setToolTipVisible(false);\n    handleDragStart === null || handleDragStart === void 0 || handleDragStart(e, currentType, currentName);\n  }, [props, currentType, currentName]);\n  var onVisibleChange = (0,react__WEBPACK_IMPORTED_MODULE_24__.useCallback)(function (visible) {\n    setToolTipVisible(visible);\n  }, []);\n  var _icon = getOutlineItemIcon(currentType);\n  var icon = fontClass ? _icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"i\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(fontClass, (_icon$props = _icon.props) === null || _icon$props === void 0 ? void 0 : _icon$props.className, \"\".concat(className, \"-control-icon\"))\n  }) : _icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().cloneElement(_icon, {\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()((_icon$props2 = _icon.props) === null || _icon$props2 === void 0 ? void 0 : _icon$props2.className, \"\".concat(className, \"-control-icon\"))\n  });\n  var clickAddDisable = controlViewSetting === null || controlViewSetting === void 0 || (_controlViewSetting$c2 = controlViewSetting.clickAddDisable) === null || _controlViewSetting$c2 === void 0 ? void 0 : _controlViewSetting$c2.call(controlViewSetting, currentType);\n  var controlItemDom = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(\"\".concat(className, \"-control-content\"), dropdownClassName),\n    draggable: !disabled,\n    onDragStart: onDragStart,\n    onClick: function onClick(evt) {\n      isCanAddAction.current && !clickAddDisable && handleClick().then(function () {\n        isCanAddAction.current = true;\n      }).catch(function () {\n        isCanAddAction.current = true;\n      });\n      // if(parentGroupType) {\n      //   evt.stopPropagation()\n      // }\n    }\n  }, icon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    title: (controlViewSetting === null || controlViewSetting === void 0 ? void 0 : controlViewSetting.hideTitleTips) !== false ? currentName : '',\n    className: \"\".concat(className, \"-control-name\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"span\", null, currentName)));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(\"\".concat(className, \"-control\"), _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context6 = \"\".concat(className, \"-\")).call(_context6, controlViewMode, \"-control\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context7 = \"\".concat(className, \"-\")).call(_context7, controlViewMode, \"-control-disabled\"), disabled)),\n    onClick: onClick,\n    ref: forwardedRef\n  }, tips ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Tooltip, {\n    placement: \"right\",\n    tip: tips || '',\n    visible: tooltipVisible,\n    onVisibleChange: onVisibleChange\n  }, controlItemDom) : controlItemDom, children);\n});\nvar useSearchArea = function useSearchArea(props) {\n  var _context12;\n  var meta = props.meta,\n    leftViewPrefixCls = props.leftViewPrefixCls,\n    controls = props.controls,\n    controlViewSetting = props.controlViewSetting,\n    enableSearch = props.enableSearch;\n  var hideHelpIcon = controlViewSetting.hideHelpIcon,\n    searchInputPlaceholder = controlViewSetting.searchInputPlaceholder,\n    hideAnchorIcon = controlViewSetting.hideAnchorIcon,\n    _controlViewSetting$o = controlViewSetting.onHelpIconClick,\n    onHelpIconClick = _controlViewSetting$o === void 0 ? function () {} : _controlViewSetting$o,\n    _controlViewSetting$f = controlViewSetting.filterCategories,\n    filterCategories = _controlViewSetting$f === void 0 ? function (categories) {\n      return categories;\n    } : _controlViewSetting$f;\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_24__.useState)(''),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState9, 2),\n    searchInputValue = _useState10[0],\n    setSearchInputValue = _useState10[1];\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_24__.useRef)(null);\n  var controlPinyinMap = (0,react__WEBPACK_IMPORTED_MODULE_24__.useMemo)(function () {\n    var _context8;\n    return (0,tiny_pinyin__WEBPACK_IMPORTED_MODULE_37__.isSupported)() ? _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_21___default()(_context8 = meta.Controls).call(_context8, function (map, control) {\n      control.Name && (map[control.Id] = (0,tiny_pinyin__WEBPACK_IMPORTED_MODULE_37__.convertToPinyin)(control.Name, '', true).toLowerCase());\n      return map;\n    }, {}) : {};\n  }, []);\n  var filteredCategories = filterCategories(meta.Categories);\n  // controls处理搜索\n  var searchedControls = (0,react__WEBPACK_IMPORTED_MODULE_24__.useMemo)(function () {\n    if (!searchInputValue) return controls;\n    var filterData = (0,immer__WEBPACK_IMPORTED_MODULE_39__.produce)(controls, function (draft) {\n      var _context9;\n      return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(_context9 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(draft).call(draft, function (control) {\n        var _context10, _context11;\n        return control.Name && (_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_22___default()(_context10 = control.Name).call(_context10, searchInputValue) !== -1 || _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_22___default()(_context11 = controlPinyinMap[control.Id]).call(_context11, (0,tiny_pinyin__WEBPACK_IMPORTED_MODULE_37__.convertToPinyin)(searchInputValue, '', true).toLowerCase()) !== -1) && control;\n      })).call(_context9, Boolean);\n    });\n    return filterData;\n  }, [searchInputValue, controls]);\n  var controlGroupsOptions = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(_context12 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(filteredCategories).call(filteredCategories, function (containerData) {\n    var categoryId = containerData.Id,\n      Name = containerData.Name;\n    if (!_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_23___default()(searchedControls).call(searchedControls, function (control) {\n      return control.CategoryId === categoryId;\n    })) {\n      return null;\n    }\n    return {\n      value: categoryId,\n      label: Name\n    };\n  })).call(_context12, Boolean);\n  var _controlRelationMap = {};\n  var allChildrenControls = [];\n  !searchInputValue && _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(controls).call(controls, function (control) {\n    var OwnTypeId = control.OwnerTypeId,\n      Id = control.Id;\n    if (OwnTypeId) {\n      _controlRelationMap[OwnTypeId] = _controlRelationMap[OwnTypeId] || [];\n      _controlRelationMap[OwnTypeId].push(Id);\n      allChildrenControls.push(Id);\n    }\n  });\n  var _ref = !!searchInputValue ? [_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(filteredCategories).call(filteredCategories, function (Category) {\n      var categoryId = Category.Id;\n      return _objectSpread(_objectSpread({}, Category), {}, {\n        Controls: _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(searchedControls).call(searchedControls, function (control) {\n          var elementGroupId = control.CategoryId;\n          return elementGroupId === categoryId;\n        })\n      });\n    }), _controlRelationMap] : [_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(filteredCategories).call(filteredCategories, function (Category) {\n      var categoryId = Category.Id;\n      return _objectSpread(_objectSpread({}, Category), {}, {\n        Controls: _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(searchedControls).call(searchedControls, function (control) {\n          if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_16___default()(allChildrenControls).call(allChildrenControls, control.Id)) {\n            return false;\n          }\n          var elementGroupId = control.CategoryId;\n          return elementGroupId === categoryId;\n        })\n      });\n    }), _controlRelationMap],\n    _ref2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_ref, 2),\n    filterData = _ref2[0],\n    controlRelationMap = _ref2[1];\n  var _handleControlSearch = (0,react__WEBPACK_IMPORTED_MODULE_24__.useCallback)(function (value) {\n    setSearchInputValue(value);\n  }, []);\n  var debounceHandleControlSearch = (0,react__WEBPACK_IMPORTED_MODULE_24__.useCallback)((0,lodash__WEBPACK_IMPORTED_MODULE_27__.debounce)(_handleControlSearch, 250), []);\n  // const debounceHandleControlSearch = _handleControlSearch\n  var handleControlSearch = (0,react__WEBPACK_IMPORTED_MODULE_24__.useCallback)(function (value) {\n    var _inputRef$current;\n    debounceHandleControlSearch(typeof value === 'string' ? value : (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || (_inputRef$current = _inputRef$current.input) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.value);\n  }, [meta, controls]);\n  return {\n    filterControls: filterData,\n    controlRelationMap: controlRelationMap,\n    searchArea: enableSearch && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n      className: \"\".concat(leftViewPrefixCls, \"-control-search\")\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Input, {\n      className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(\"\".concat(leftViewPrefixCls, \"-control-search-input\")),\n      ref: inputRef,\n      placeholder: searchInputPlaceholder || (0,_designer_utils__WEBPACK_IMPORTED_MODULE_26__.getLangMsg)('designer.leftView.key0001'),\n      borderType: \"bordered\",\n      onChange: function onChange(e) {\n        return _handleControlSearch(e.target.value);\n      },\n      allowClear: true,\n      prefix:\n      /*#__PURE__*/\n      // <div onClick={handleControlSearch}>\n      react__WEBPACK_IMPORTED_MODULE_24___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Icon, {\n        prefix: \"designericon\",\n        type: \"sousuo\",\n        onClick: handleControlSearch\n      })\n      // </div>\n      ,\n      value: searchInputValue\n    }), !hideAnchorIcon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(DropDownControlGroup, {\n      options: controlGroupsOptions,\n      disabled: controlGroupsOptions.length === 0,\n      className: leftViewPrefixCls,\n      handleClick: function handleClick(value) {\n        // const node = document.querySelector(`.${value}-collapse`)\n        var node = document.getElementsByClassName(\"\".concat(value, \"-collapse\"));\n        if (node !== null && node !== void 0 && node[0]) {\n          // TODO: 兼容浏览器\n          // TODO: 必定为滚动, 改为自己实现\n          node[0].scrollIntoView({\n            behavior: 'smooth',\n            block: 'nearest',\n            inline: 'nearest'\n          });\n          // node[0].scrollIntoViewIfNeeded(false)\n        }\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n      title: (0,_designer_utils__WEBPACK_IMPORTED_MODULE_26__.getLangMsg)('designer.leftView.key0004'),\n      className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(\"\".concat(leftViewPrefixCls, \"-control-search-icon\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, \"\".concat(leftViewPrefixCls, \"-control-search-icon-unclickable\"), controlGroupsOptions.length === 0))\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(LocationIcon, {\n      disabled: controlGroupsOptions.length === 0\n    }))), !hideHelpIcon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"div\", {\n      title: (0,_designer_utils__WEBPACK_IMPORTED_MODULE_26__.getLangMsg)('designer.leftView.key0005'),\n      className: \"\".concat(leftViewPrefixCls, \"-control-search-icon\"),\n      onClick: function onClick() {\n        onHelpIconClick();\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Icon, {\n      type: \"tips\"\n    })))\n  };\n};\nfunction isInViewPort(el) {\n  var SCROLL_CONTAINER_MIN_TOP = 128 - 44; // title的高\n  var viewPortHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n  var top = el.getBoundingClientRect() && el.getBoundingClientRect().top;\n  return top >= SCROLL_CONTAINER_MIN_TOP && top <= viewPortHeight; //\n}\nvar DropDownControlGroup = function DropDownControlGroup(props) {\n  var _children$props;\n  var children = props.children,\n    options = props.options,\n    handleClick = props.handleClick,\n    disabled = props.disabled,\n    leftViewPrefixCls = props.className;\n  var menu = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_14___default()(options).call(options, function (option) {\n    var value = option.value,\n      label = option.label;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(Link, {\n      href: \"#\".concat(value),\n      title: label,\n      key: value\n    });\n    // return {\n    //   key: value,\n    //   label\n    // }\n  });\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_24__.useState)(false),\n    _useState12 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState11, 2),\n    visible = _useState12[0],\n    setVisible = _useState12[1];\n  var handler = (0,react__WEBPACK_IMPORTED_MODULE_24__.useCallback)(function () {\n    return setVisible(false);\n  }, []);\n  var onRootMouseDown = (0,_designer_utils__WEBPACK_IMPORTED_MODULE_26__.useOnClickOutsideByRootClick)(handler, true);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement((react__WEBPACK_IMPORTED_MODULE_24___default().Fragment), null, !!children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().cloneElement(children, {\n    onClick: function onClick() {\n      !disabled && setVisible(!visible); // 这里会导致点击之后关闭, 看需求\n      onRootMouseDown();\n    },\n    className: classnames__WEBPACK_IMPORTED_MODULE_36___default()(children === null || children === void 0 || (_children$props = children.props) === null || _children$props === void 0 ? void 0 : _children$props.className, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, \"\".concat(leftViewPrefixCls, \"-control-search-icon-focus\"), visible))\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement((react__WEBPACK_IMPORTED_MODULE_24___default().Fragment), null, children.props.children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_25__.Anchor, {\n    type: \"advanced\",\n    offsetTop: 70,\n    visible: !disabled && visible,\n    lockedIcon: false,\n    onVisibleChange: function onVisibleChange(_visible) {\n      // !disabled && setVisible(_visible)\n    },\n    getCurrentAnchor: function getCurrentAnchor() {\n      var res = \"#\".concat(options[0] && options[0].value);\n      _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_23___default()(options).call(options, function (option) {\n        var value = option.value;\n        var href = \"#\".concat(value);\n        try {\n          var node = document.getElementById(value);\n          if (node && isInViewPort(node)) {\n            res = href;\n            return true;\n          }\n        } catch (error) {\n          _designer_utils__WEBPACK_IMPORTED_MODULE_26__.console.log('getCurrentAnchor error: ', error);\n        }\n      });\n      return res;\n    },\n    getContainer: function getContainer() {\n      var container = document.getElementsByClassName('kdesigner-left-view-control-collapse-container')[0];\n      return container || window;\n    }\n  }, menu))));\n};\nvar LocationIcon = function LocationIcon(_ref3) {\n  var disabled = _ref3.disabled;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"svg\", {\n    class: \"icon\",\n    fill: disabled ? '#CCCCCC' : '#212121',\n    width: \"200\",\n    height: \"200\",\n    viewBox: \"0 0 1024 1024\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default().createElement(\"path\", {\n    d: \"M500 562.5C430.964406 562.5 375 506.535594 375 437.5C375 368.464406 430.964406 312.5 500 312.5C569.035594 312.5 625 368.464406 625 437.5C625 506.535594 569.035594 562.5 500 562.5zM500 500C534.517797 500 562.5 472.017797 562.5 437.5C562.5 402.982203 534.517797 375 500 375C465.482203 375 437.5 402.982203 437.5 437.5C437.5 472.017797 465.482203 500 500 500zM516.777359 932.614422C506.540909 939.128525 493.459091 939.128525 483.222641 932.614422C245.934398 781.612813 125 616.702269 125 437.5C125 230.393219 292.893219 62.5 500 62.5C707.106781 62.5 875 230.393219 875 437.5C875 616.702269 754.065603 781.612813 516.777359 932.614422zM187.5 437.5C187.5 587.679863 290.254255 731.649213 500 869.053947C709.745744 731.649213 812.5 587.679863 812.5 437.5C812.5 264.911016 672.588984 125 500 125C327.411016 125 187.5 264.911016 187.5 437.5z\"\n  }));\n};\nControlView.tabKey = 'ControlView';\n// ControlView.tabName = '控件'\nControlView.getTabName = function () {\n  return (0,_designer_utils__WEBPACK_IMPORTED_MODULE_26__.getLangMsg)('designer.leftView.key0006');\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ControlView);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/view/control-view.tsx?");

/***/ }),

/***/ 32596:
/*!******************************************************!*\
  !*** ../kd-designer/src/view/errorboundary-wrap.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_construct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/reflect/construct */ 11984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_construct__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_reflect_construct__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/classCallCheck */ 3460);\n/* harmony import */ var _babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/createClass */ 27688);\n/* harmony import */ var _babel_runtime_corejs3_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/possibleConstructorReturn */ 54895);\n/* harmony import */ var _babel_runtime_corejs3_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/getPrototypeOf */ 77284);\n/* harmony import */ var _babel_runtime_corejs3_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/inherits */ 50024);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_corejs3_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(o), (0,_babel_runtime_corejs3_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t, _isNativeReflectConstruct() ? _babel_runtime_corejs3_core_js_stable_reflect_construct__WEBPACK_IMPORTED_MODULE_0___default()(o, e || [], (0,_babel_runtime_corejs3_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(_babel_runtime_corejs3_core_js_stable_reflect_construct__WEBPACK_IMPORTED_MODULE_0___default()(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-11-05 13:29:38\n * @Last Modified by: fjr\n * @LastEditTime: 2021-11-05 14:08:41\n * @Description: 错误边界捕获组件\n */\n\nvar ErrorBoundaryWrap = function ErrorBoundaryWrap(WrappedComponent) {\n  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return /*#__PURE__*/function (_React$Component) {\n    (0,_babel_runtime_corejs3_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ErrorBoundary, _React$Component);\n    function ErrorBoundary(props) {\n      var _this;\n      (0,_babel_runtime_corejs3_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, ErrorBoundary);\n      _this = _callSuper(this, ErrorBoundary, [props]);\n      _this.state = {\n        errorInfo: null\n      };\n      return _this;\n    }\n    (0,_babel_runtime_corejs3_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ErrorBoundary, [{\n      key: \"componentDidCatch\",\n      value: function componentDidCatch(error, info) {\n        this.setState({\n          errorInfo: [error, info]\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _context, _context2;\n        var errorInfo = this.state.errorInfo;\n        if (!errorInfo) {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(WrappedComponent, this.props);\n        }\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", null, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6___default()(_context2 = \"\".concat(name, \" view has an error: \")).call(_context2, errorInfo[0], \", \")).call(_context, errorInfo[1]));\n      }\n    }]);\n    return ErrorBoundary;\n  }((react__WEBPACK_IMPORTED_MODULE_7___default().Component));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ErrorBoundaryWrap);\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/view/errorboundary-wrap.tsx?");

/***/ }),

/***/ 75484:
/*!*********************************************!*\
  !*** ../kd-designer/src/view/left-view.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config-provider/ConfigContext */ 76228);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context/global-config-context */ 21708);\n/* harmony import */ var _hooks_useTab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hooks/useTab */ 46644);\n/* harmony import */ var _errorboundary_wrap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./errorboundary-wrap */ 32596);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-10-29 15:54:24\n * @Last Modified by: fjr\n * @LastEditTime: 2022-08-11 13:44:14\n * @Description: ...\n */\n\n\n\n\n\nvar LeftView = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function (_ref) {\n  var views = _ref.views;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var topViewPrefixCls = getPrefixCls(prefixCls, 'top-view');\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n    controlViewSetting = _useContext2.controlViewSetting,\n    _useContext2$dataPort = _useContext2.dataPortalIdPrefix,\n    dataPortalIdPrefix = _useContext2$dataPort === void 0 ? topViewPrefixCls : _useContext2$dataPort;\n  if ((controlViewSetting === null || controlViewSetting === void 0 ? void 0 : controlViewSetting.hideItemView) === true) return null;\n  var leftViewPrefixCls = getPrefixCls(prefixCls, 'left-view');\n  var portalId = \"\".concat(dataPortalIdPrefix, \"-left\");\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_hooks_useTab__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    views: views,\n    className: leftViewPrefixCls,\n    portalId: portalId,\n    position: \"left\"\n  });\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_errorboundary_wrap__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(LeftView, 'kdesigner-left-view'));\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/view/left-view.tsx?");

/***/ }),

/***/ 88445:
/*!*********************************************!*\
  !*** ../kd-designer/src/view/main-view.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config-provider/ConfigContext */ 76228);\n/* harmony import */ var _hooks_useTab__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useTab */ 46644);\n/* harmony import */ var _errorboundary_wrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errorboundary-wrap */ 32596);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-10-29 15:54:24\n * @Last Modified by: fjr\n * @LastEditTime: 2021-11-05 13:48:48\n * @Description: ...\n */\n\n\n\n\nvar MainView = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function (_ref) {\n  var views = _ref.views;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var leftViewPrefixCls = getPrefixCls(prefixCls, 'main-view');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: leftViewPrefixCls\n  }, views.length < 2 ? views : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_hooks_useTab__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    views: views,\n    className: leftViewPrefixCls\n  }));\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_errorboundary_wrap__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(MainView, 'kdesigner-main-view'));\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/view/main-view.tsx?");

/***/ }),

/***/ 2044:
/*!*************************************************!*\
  !*** ../kd-designer/src/view/property-view.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PropertyView: function() { return /* binding */ PropertyView; },\n/* harmony export */   PropertyViewItem: function() { return /* binding */ PropertyViewItem; },\n/* harmony export */   PropertyViewItemGroup: function() { return /* binding */ PropertyViewItemGroup; },\n/* harmony export */   PropertyViewRoot: function() { return /* binding */ PropertyViewRoot; },\n/* harmony export */   filterNodes: function() { return /* binding */ filterNodes; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/every */ 30479);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/sort */ 6908);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _context_select_context__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../context/select-context */ 23412);\n/* harmony import */ var _context_data_context__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../context/data-context */ 55308);\n/* harmony import */ var _context_error_context__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../context/error-context */ 18440);\n/* harmony import */ var _hooks_useActivedSelectedId__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../hooks/useActivedSelectedId */ 9700);\n/* harmony import */ var _config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../config-provider/ConfigContext */ 76228);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../context */ 10268);\n/* harmony import */ var _utils_property_editor_factory__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../_utils/property-editor-factory */ 93888);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_28__);\n/* harmony import */ var _assets_images_property_empty_png__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../assets/images/property-empty.png */ 75940);\n/* harmony import */ var _action_index__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../action/index */ 99060);\n/* harmony import */ var _hooks_useSelectModel__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../hooks/useSelectModel */ 73604);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../context/global-config-context */ 21708);\n/* harmony import */ var _type_actionType__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../type/actionType */ 54465);\n/* harmony import */ var _meta__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../meta */ 55796);\n/* harmony import */ var _designer_utils__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../designer-utils */ 89592);\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context5, _context6; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_3___default()(_context5 = ownKeys(Object(t), !0)).call(_context5, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_3___default()(_context6 = ownKeys(Object(t))).call(_context6, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n// import { getLangMsg } from '../../../../locale/locale'\n\n\n\n// import GlobalContext from '../global-context'\n\n\n\n\n\n\n\n\n\n\n\n\nvar Panel = _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Collapse.Panel;\n\n//\n// 严谨来说应该根据filterPropertyHandler来进行过滤\n// include exclude为了可以硬编码设置\n\nvar PropertyViewRoot = function PropertyViewRoot(props) {\n  var children = props.children,\n    field = props.field,\n    className = props.className;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_25__[\"default\"]),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_32__[\"default\"]),\n    keywordMapping = _useContext2.keywordMapping;\n  var rightViewPrefixCls = getPrefixCls(prefixCls, 'right-view');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_28___default()(\"\".concat(rightViewPrefixCls, \"-props-tabs\"), className)\n  }, children);\n};\nvar noopConst = function noopConst(nodes) {\n  return nodes;\n};\nvar PropertyView = function PropertyView(props) {\n  var _propertyViewSetting$;\n  var className = props.className,\n    _props$PropertyViewIt = props.PropertyViewItemRender,\n    PropertyViewItemRender = _props$PropertyViewIt === void 0 ? PropertyViewItem : _props$PropertyViewIt,\n    _props$PropertyViewIt2 = props.PropertyViewItemGroupRender,\n    PropertyViewItemGroupRender = _props$PropertyViewIt2 === void 0 ? PropertyViewItemGroup : _props$PropertyViewIt2,\n    header = props.header,\n    footer = props.footer,\n    children = props.children,\n    _props$meta = props.meta,\n    meta = _props$meta === void 0 ? {} : _props$meta,\n    _props$data = props.data,\n    data = _props$data === void 0 ? {} : _props$data,\n    solidId = props.id,\n    _props$filterProperty = props.filterPropertyHandler,\n    filterPropertyHandler = _props$filterProperty === void 0 ? noopConst : _props$filterProperty,\n    _props$include = props.include,\n    include = _props$include === void 0 ? [] : _props$include,\n    _props$exclude = props.exclude,\n    exclude = _props$exclude === void 0 ? [] : _props$exclude,\n    selectId = props.solidSelectedId;\n  // 这里需要data中有meta的类型\n  var dataContext = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_context_data_context__WEBPACK_IMPORTED_MODULE_22__[\"default\"]);\n  var selectionContext = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_context_select_context__WEBPACK_IMPORTED_MODULE_21__[\"default\"]);\n  var selection = selectionContext.getSelection();\n  // 这个事件总线分发还是存在问题，外界的onData可能会导致React刷新\n  // 所以需要把onData放后面\n  var _useActivedSelectedId = (0,_hooks_useActivedSelectedId__WEBPACK_IMPORTED_MODULE_24__.useActivedSelectedId)({\n      dataContext: dataContext,\n      selectionContext: selectionContext,\n      solidId: solidId || selectId\n    }),\n    activedSelectId = _useActivedSelectedId.activedSelectId; // timeout: 200 删除会有问题, 数据先于选中触发\n  var _useContext3 = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_context__WEBPACK_IMPORTED_MODULE_26__.DataFactoryContext),\n    modelFactory = _useContext3.modelFactory;\n  var globalConfig = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_32__[\"default\"]);\n  var keywordMapping = globalConfig.keywordMapping,\n    propertyViewSetting = globalConfig.propertyViewSetting;\n  var customClassName = propertyViewSetting.className;\n  var _useSelectModel = (0,_hooks_useSelectModel__WEBPACK_IMPORTED_MODULE_31__[\"default\"])({\n      dataContext: dataContext,\n      selectionContext: selectionContext,\n      solidId: solidId,\n      meta: meta,\n      activedSelectId: activedSelectId,\n      modelFactory: modelFactory,\n      globalConfig: globalConfig\n    }),\n    _modelData = _useSelectModel.modelData,\n    emptySelect = _useSelectModel.emptySelect,\n    field = _useSelectModel.field,\n    controlType = _useSelectModel.controlType,\n    itemId = _useSelectModel.itemId,\n    isEmptyView = _useSelectModel.isEmptyView;\n  var _useContext4 = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_25__[\"default\"]),\n    getPrefixCls = _useContext4.getPrefixCls,\n    prefixCls = _useContext4.prefixCls;\n  var rightViewPrefixCls = getPrefixCls(prefixCls, 'right-view');\n  var activedSelectIdRef = (0,react__WEBPACK_IMPORTED_MODULE_18__.useRef)('');\n  activedSelectIdRef.current = activedSelectId;\n  var previousActivedSelectIdRef = (0,react__WEBPACK_IMPORTED_MODULE_18__.useRef)('');\n  var previousActivedSelectItemRef = (0,react__WEBPACK_IMPORTED_MODULE_18__.useRef)({});\n  previousActivedSelectIdRef.current = (0,_designer_utils__WEBPACK_IMPORTED_MODULE_35__.usePrevious)(activedSelectId);\n  previousActivedSelectItemRef.current = (0,_designer_utils__WEBPACK_IMPORTED_MODULE_35__.usePrevious)(field);\n  var forceUpdate = (0,react__WEBPACK_IMPORTED_MODULE_18__.useState)(0)[1];\n  // 这里写这么复杂是为了新增时不要reRender\n  (0,react__WEBPACK_IMPORTED_MODULE_18__.useEffect)(function () {\n    var dataSubscribe = dataContext.addDataChangeListener(function (_ref) {\n      var value = _ref.value,\n        actions = _ref.actions;\n      if (previousActivedSelectIdRef.current === activedSelectIdRef.current) {\n        var _context;\n        var currentActivedSelectItem = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11___default()(_context = value[keywordMapping.items]).call(_context, function (item) {\n          return item[keywordMapping.id] === activedSelectIdRef.current;\n        });\n        if (currentActivedSelectItem && currentActivedSelectItem === previousActivedSelectItemRef.current) {\n          return;\n        } else {\n          forceUpdate(function (n) {\n            return n + 1;\n          });\n        }\n      } else {\n        if (!actions || !_babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_12___default()(actions).call(actions, function (action) {\n          return action.type === 'ADD';\n        })) {\n          forceUpdate(function (n) {\n            return n + 1;\n          });\n        }\n      }\n    });\n    return function () {\n      dataSubscribe && dataSubscribe();\n    };\n  }, []);\n  if (emptySelect) {\n    var emptySelectView = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(\"div\", {\n      className: \"\".concat(rightViewPrefixCls, \"-props-empty\")\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(\"img\", {\n      className: \"\".concat(rightViewPrefixCls, \"-props-empty-img\"),\n      src: _assets_images_property_empty_png__WEBPACK_IMPORTED_MODULE_29__[\"default\"],\n      width: \"168\",\n      height: \"96\",\n      alt: (0,_designer_utils__WEBPACK_IMPORTED_MODULE_35__.getLangMsg)('designer.propertyView.key0001')\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(\"div\", {\n      className: \"\".concat(rightViewPrefixCls, \"-props-empty-desc\")\n    }, (0,_designer_utils__WEBPACK_IMPORTED_MODULE_35__.getLangMsg)('designer.propertyView.key0001')));\n    return emptySelectView;\n  }\n  var modelData = filterPropertyHandler(_modelData);\n  var propertyEmpty = propertyViewSetting === null || propertyViewSetting === void 0 || (_propertyViewSetting$ = propertyViewSetting.getEmptyView) === null || _propertyViewSetting$ === void 0 ? void 0 : _propertyViewSetting$.call(propertyViewSetting);\n  if (propertyEmpty && !modelData.length || isEmptyView) {\n    return propertyEmpty;\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(PropertyViewRoot, {\n    field: field,\n    className: classnames__WEBPACK_IMPORTED_MODULE_28___default()(rightViewPrefixCls, customClassName || '', className)\n  }, header, children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(PropertyViewItemGroupRender, {\n    modelData: modelData,\n    include: include,\n    exclude: exclude,\n    PropertyViewItemRender: PropertyViewItemRender,\n    className: rightViewPrefixCls,\n    field: field\n  }), footer);\n};\n// include 只通过Id是否不够严谨？\nvar filterNodes = function filterNodes(nodes, include, exclude) {\n  var validateArrayExistElement = function validateArrayExistElement(array, callback) {\n    if (!_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_13___default()(array) || array.length === 0) return true;\n    return callback(array);\n  };\n  return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(nodes).call(nodes, function (node) {\n    return !!node.Editor && node.Visible !== false && validateArrayExistElement(include, function (include) {\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default()(include).call(include, node.Id);\n    }) && validateArrayExistElement(exclude, function (exclude) {\n      return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default()(exclude).call(exclude, node.Id);\n    });\n  });\n};\nvar PropertyViewItemGroup = function PropertyViewItemGroup(props) {\n  var _useContext5 = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_32__[\"default\"]),\n    filterProperty = _useContext5.filterProperty,\n    propertyViewSetting = _useContext5.propertyViewSetting;\n  var _propertyViewSetting$2 = propertyViewSetting.collapsable,\n    collapsable = _propertyViewSetting$2 === void 0 ? true : _propertyViewSetting$2,\n    hideItemViewList = propertyViewSetting.hideItemView;\n  var modelData = props.modelData,\n    include = props.include,\n    exclude = props.exclude,\n    _props$PropertyViewIt3 = props.PropertyViewItemRender,\n    PropertyViewItemRender = _props$PropertyViewIt3 === void 0 ? PropertyViewItem : _props$PropertyViewIt3,\n    rightViewPrefixCls = props.className,\n    field = props.field;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement((react__WEBPACK_IMPORTED_MODULE_18___default().Fragment), null, modelData === null || modelData === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(modelData).call(modelData, function (propertyData) {\n    var key = propertyData.Id;\n    if (propertyData.Visible === false) return null;\n    if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_13___default()(hideItemViewList) && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default()(hideItemViewList).call(hideItemViewList, propertyData.Key)) return null;\n    if (propertyData.Nodes) {\n      var _context2, _context3;\n      var _nodes = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_16___default()(_context3 = filterNodes(propertyData.Nodes, include, exclude)).call(_context3, function (nodeA, nodeB) {\n        return (nodeA.GroupSubSeq || 0) - (nodeB.GroupSubSeq || 0);\n      })).call(_context2, function (node) {\n        return !filterProperty(field, node);\n      });\n      // nodes = nodes.filter(node => {\n      //   const hideConfig = node.Hide\n      //   if (hideConfig && typeof hideConfig === 'object') {\n      //     const { Types, FieldTypes, Hide } = hideConfig\n      //     const { FieldType, _Type_ } = field\n      //     if (Types && FieldTypes) {\n      //       if (Hide == undefined || Hide == true) {\n      //         return !(Types.includes(_Type_) && FieldTypes.includes(FieldType))\n      //       } else {\n      //         return Types.includes(_Type_) && FieldTypes.includes(FieldType)\n      //       }\n      //     } else {\n      //       return Hide\n      //     }\n      //   }\n      //   return true\n      // })\n      var hasProperty = !!_nodes.length;\n      var panelContentComp = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(\"div\", {\n        className: \"\".concat(rightViewPrefixCls, \"-pane\")\n      }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(_nodes).call(_nodes, function (control) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(PropertyViewItemRender, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, control, {\n          key: \"\".concat(control.Id),\n          field: field,\n          className: rightViewPrefixCls\n        }));\n      }));\n      var panelComp = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(Panel, {\n        header: propertyData.Name,\n        panelKey: key\n      }, panelContentComp, props.children);\n      if (hasProperty) {\n        var isAllReadOnly = _babel_runtime_corejs3_core_js_stable_instance_every__WEBPACK_IMPORTED_MODULE_12___default()(_nodes).call(_nodes, function (node) {\n          return node.Editor && node.ReadOnly === true;\n        });\n        if (!collapsable) {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(\"div\", {\n            key: key,\n            className: classnames__WEBPACK_IMPORTED_MODULE_28___default()(\"\".concat(rightViewPrefixCls, \"-collapse\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, \"\".concat(rightViewPrefixCls, \"-collapse-readonly\"), isAllReadOnly))\n          }, !isAllReadOnly && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(\"div\", {\n            className: \"\".concat(rightViewPrefixCls, \"-property-group-title\")\n          }, propertyData.Name), panelContentComp);\n        } else {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Collapse, {\n            key: key,\n            name: \"Collapse\",\n            className: \"\".concat(rightViewPrefixCls, \"-collapse\"),\n            expandIconPosition: \"left\",\n            defaultActiveKey: propertyData.DefaultCollapse === true ? '' : key\n          }, panelComp);\n        }\n      } else {\n        return null;\n      }\n    }\n  }));\n};\n// 细粒度的属性编辑器\n// 这里Memo下\n// 由于特殊需求: 一个控件的属性依赖其他控件，导致这里不能memo不然无法更新\nvar PropertyViewItem = function PropertyViewItem(props) {\n  var _errorContext$getErro;\n  // Locked是套打用\n  // ReadOnly是表单用\n  // TODO: ReadOnly在适配层改为Locked\n  var editor = props.Editor,\n    field = props.field,\n    propertyName = props.Id,\n    className = props.className,\n    _props$Locked = props.Locked,\n    locked = _props$Locked === void 0 ? false : _props$Locked,\n    readOnly = props.ReadOnly,\n    onPropertyChange = props.onPropertyChange,\n    _props$Actions = props.Actions,\n    actions = _props$Actions === void 0 ? [] : _props$Actions,\n    _props$enableMutiSele = props.enableMutiSelect,\n    enableMutiSelect = _props$enableMutiSele === void 0 ? true : _props$enableMutiSele,\n    renderCustomError = props.renderCustomError;\n  var _useContext6 = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_32__[\"default\"]),\n    keywordMapping = _useContext6.keywordMapping,\n    processPropertyName = _useContext6.processPropertyName,\n    processPropertyValue = _useContext6.processPropertyValue,\n    enableError = _useContext6.enableError,\n    globalHandleChange = _useContext6.globalHandleChange,\n    _useContext6$designer = _useContext6.designerContextValue,\n    designerContextValue = _useContext6$designer === void 0 ? {} : _useContext6$designer;\n  var getModel = designerContextValue.getModel;\n  var id = field[keywordMapping.id];\n  var controlType = field[keywordMapping.type];\n  var propertyEditorFactoryContext = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_utils_property_editor_factory__WEBPACK_IMPORTED_MODULE_27__.PropertyEditorFactoryContext);\n  if (!editor) {\n    return null;\n    // dev环境:\n    // return <div style={{ overflow: 'auto' }}>{JSON.stringify(props)} </div>\n  }\n  var type = editor.Type,\n    dataType = editor.DataType,\n    Enum = editor.Enum,\n    Span = editor.Span;\n  var propName = processPropertyName(propertyName);\n  var Component = propertyEditorFactoryContext.getPropertyEditor(type, controlType) || propertyEditorFactoryContext.getPropertyEditor('Input');\n  var dataContext = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_context_data_context__WEBPACK_IMPORTED_MODULE_22__[\"default\"]);\n  var selectionContext = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_context_select_context__WEBPACK_IMPORTED_MODULE_21__[\"default\"]);\n  var selection = selectionContext.getSelection();\n  var errorContext = (0,react__WEBPACK_IMPORTED_MODULE_18__.useContext)(_context_error_context__WEBPACK_IMPORTED_MODULE_23__[\"default\"]);\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_18__.useState)(((_errorContext$getErro = errorContext.getError(id)) === null || _errorContext$getErro === void 0 ? void 0 : _errorContext$getErro[propName]) || null),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState, 2),\n    propError = _useState2[0],\n    setpPropError = _useState2[1];\n  var MultiSelect = enableMutiSelect && selection.length > 1 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default()(selection).call(selection, id);\n  var updateValue = propertyEditorFactoryContext.getValue && propertyEditorFactoryContext.getValue({\n    isMultiSelected: MultiSelect,\n    field: (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, propName, (0,_meta__WEBPACK_IMPORTED_MODULE_34__.getDefaultValueByEditor)(editor)), field),\n    dataContext: dataContext,\n    selectionContext: selectionContext,\n    propName: propName,\n    editor: editor\n  });\n  var value = (0,lodash__WEBPACK_IMPORTED_MODULE_20__.isUndefined)(updateValue) ? (0,lodash__WEBPACK_IMPORTED_MODULE_20__.isUndefined)(field[propName]) ? (0,_meta__WEBPACK_IMPORTED_MODULE_34__.getDefaultValueByEditor)(editor) : field[propName] : updateValue;\n  var rootId = dataContext.getRootId();\n  // TODO: 内联到propertyEditorFactoryContext下的Map对应的编辑器组件里\n  var handleChange = (0,react__WEBPACK_IMPORTED_MODULE_18__.useCallback)(function (newVal) {\n    var otherProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var processedValue = (processPropertyValue === null || processPropertyValue === void 0 ? void 0 : processPropertyValue(propertyName, newVal, dataContext)) || newVal;\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_20__.isEqual)(value, newVal)) {\n      // 属性拦截处理\n      var isHandleByProperty = (onPropertyChange === null || onPropertyChange === void 0 ? void 0 : onPropertyChange(field, propertyName, newVal, editor, actions)) || false;\n      if (isHandleByProperty) return;\n\n      // 拦截处理\n      var isHandleByOutside = (globalHandleChange === null || globalHandleChange === void 0 ? void 0 : globalHandleChange(field, propertyName, newVal, editor, actions)) || false;\n      if (isHandleByOutside) return;\n      if (!MultiSelect) {\n        // const newField = { ...field, [propName]: newVal }\n        var newProperties = _objectSpread(_objectSpread({}, (0,_action_index__WEBPACK_IMPORTED_MODULE_30__.createPropertyChangeByActions)(actions, propName, newVal, processedValue, field, dataContext, getModel)), otherProps);\n        dataContext.batchUpdateControlPropertyValues((0,_type_actionType__WEBPACK_IMPORTED_MODULE_33__.createUpdateAction)([[id, newProperties]]));\n      } else {\n        var batchUpdateValue = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_15___default()(selection).call(selection, function (id) {\n          return [id, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, propName, newVal)];\n        });\n        // 多选批量属性更新\n        dataContext.batchUpdateControlPropertyValues((0,_type_actionType__WEBPACK_IMPORTED_MODULE_33__.createUpdateAction)(batchUpdateValue));\n      }\n    }\n  }, [id, value, propName, actions, field, selection, editor, onPropertyChange]);\n\n  // const debounceHandleChange = useDebounce(handleChange)\n\n  (0,react__WEBPACK_IMPORTED_MODULE_18__.useEffect)(function () {\n    var _errorContext$getErro2;\n    if (!enableError) return;\n    setpPropError((_errorContext$getErro2 = errorContext.getError(id)) === null || _errorContext$getErro2 === void 0 ? void 0 : _errorContext$getErro2[propName]);\n    var removeErrorListener = errorContext.addErrorChangeListener(function (error) {\n      var _errorContext$getErro3;\n      var curPropError = (_errorContext$getErro3 = errorContext.getError(id)) === null || _errorContext$getErro3 === void 0 ? void 0 : _errorContext$getErro3[propName];\n      setpPropError(curPropError);\n      // console.log('addErrorChangeListener 错误改变了', curPropError);\n    });\n    return function () {\n      removeErrorListener();\n    };\n  }, [id, propName]);\n  var customErrorDom = (0,react__WEBPACK_IMPORTED_MODULE_18__.useMemo)(function () {\n    if (!propError || !enableError) return;\n    var customError = (renderCustomError === null || renderCustomError === void 0 ? void 0 : renderCustomError(propError)) || false;\n    if (customError) return;\n    var defaultErrorDom = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(\"span\", {\n      className: \"\".concat(className, \"-editor-control-error-msg\")\n    }, propError.msg);\n    return defaultErrorDom;\n  }, [propError, renderCustomError, enableError]);\n  if (Component) {\n    var _context4;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(\"div\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_28___default()(\"\".concat(className, \"-editor-control\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_17___default()(_context4 = \"\".concat(className, \"-span-\")).call(_context4, Span), Span), \"\".concat(className, \"-no-span\"), Span === undefined), \"\".concat(className, \"-editor-control-error\"), !!customErrorDom))\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(Component, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, props, {\n      key: id,\n      field: field,\n      id: id,\n      locked: locked || readOnly,\n      handleChange: handleChange,\n      value: value,\n      className: className,\n      propName: propName,\n      editor: editor,\n      dataContext: dataContext,\n      selectionContext: selectionContext,\n      rootId: rootId,\n      error: propError\n    })), customErrorDom);\n  }\n  return null;\n  // return <div style={{ overflow: 'auto' }}>{JSON.stringify(props)} </div>\n};\nPropertyView.tabKey = 'PropertyView';\n// PropertyView.tabName = '控件属性'\nPropertyView.getTabName = function () {\n  return (0,_designer_utils__WEBPACK_IMPORTED_MODULE_35__.getLangMsg)('designer.propertyView.key0002');\n};\n\n\n// export default PropertyView\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/view/property-view.tsx?");

/***/ }),

/***/ 55112:
/*!**********************************************!*\
  !*** ../kd-designer/src/view/right-view.tsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config-provider/ConfigContext */ 76228);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context/global-config-context */ 21708);\n/* harmony import */ var _hooks_useTab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hooks/useTab */ 46644);\n/* harmony import */ var _errorboundary_wrap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./errorboundary-wrap */ 32596);\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-10-29 15:54:24\n * @Last Modified by: fjr\n * @LastEditTime: 2022-08-11 13:44:35\n * @Description: ...\n */\n\n\n\n\n\nvar RightView = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function (_ref) {\n  var views = _ref.views;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var topViewPrefixCls = getPrefixCls(prefixCls, 'top-view');\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n    propertyViewSetting = _useContext2.propertyViewSetting,\n    _useContext2$dataPort = _useContext2.dataPortalIdPrefix,\n    dataPortalIdPrefix = _useContext2$dataPort === void 0 ? topViewPrefixCls : _useContext2$dataPort;\n  if ((propertyViewSetting === null || propertyViewSetting === void 0 ? void 0 : propertyViewSetting.hideItemView) === true) return null;\n  var rightViewPrefixCls = getPrefixCls(prefixCls, 'right-view');\n  var portalId = \"\".concat(dataPortalIdPrefix, \"-right\");\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_hooks_useTab__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    views: views,\n    className: rightViewPrefixCls,\n    portalId: portalId,\n    position: \"right\"\n  });\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_errorboundary_wrap__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(RightView, 'kdesigner-right-view'));\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/view/right-view.tsx?");

/***/ }),

/***/ 44816:
/*!********************************************!*\
  !*** ../kd-designer/src/view/top-view.tsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config-provider/ConfigContext */ 76228);\n/* harmony import */ var _context_global_config_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../context/global-config-context */ 21708);\n/* harmony import */ var _errorboundary_wrap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./errorboundary-wrap */ 32596);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);\n\n/*\n * @Author: wubowen\n * @Email: wubowen@kingdee.com\n * @Date: 2021-10-29 15:54:24\n * @Last Modified by: fjr\n * @LastEditTime: 2022-08-11 13:44:47\n * @Description: ...\n */\n\n\n\n\n\nfunction TopView() {\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var topViewPrefixCls = getPrefixCls(prefixCls, 'top-view');\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context_global_config_context__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n    controlViewSetting = _useContext2.controlViewSetting,\n    propertyViewSetting = _useContext2.propertyViewSetting,\n    viewsStateRef = _useContext2.viewsStateRef,\n    _useContext2$dataPort = _useContext2.dataPortalIdPrefix,\n    dataPortalIdPrefix = _useContext2$dataPort === void 0 ? topViewPrefixCls : _useContext2$dataPort;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    hide = _useState2[0],\n    setHide = _useState2[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    viewsStateRef.current['top'] = {\n      hide: hide,\n      setHide: setHide\n    };\n  }, [hide]);\n  var hideLeftTopView = (controlViewSetting === null || controlViewSetting === void 0 ? void 0 : controlViewSetting.hideItemView) !== void 0 && (controlViewSetting === null || controlViewSetting === void 0 ? void 0 : controlViewSetting.hideItemView) === true;\n  var hideRightTopView = (propertyViewSetting === null || propertyViewSetting === void 0 ? void 0 : propertyViewSetting.hideItemView) !== void 0 && (propertyViewSetting === null || propertyViewSetting === void 0 ? void 0 : propertyViewSetting.hideItemView) === true;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()([topViewPrefixCls, {\n      'hide': hide\n    }])\n  }, !hideLeftTopView && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\".concat(topViewPrefixCls, \"-left\"),\n    \"data-portalid\": \"\".concat(dataPortalIdPrefix, \"-left\")\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\".concat(topViewPrefixCls, \"-main\"),\n    \"data-portalid\": \"\".concat(dataPortalIdPrefix, \"-main\")\n  }), !hideRightTopView && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\".concat(topViewPrefixCls, \"-right\"),\n    \"data-portalid\": \"\".concat(dataPortalIdPrefix, \"-right\")\n  }));\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_errorboundary_wrap__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(TopView, 'kdesigner-top-view'));\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/view/top-view.tsx?");

/***/ }),

/***/ 19600:
/*!******************************!*\
  !*** ./src/style/index.less ***!
  \******************************/
/***/ (function() {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack://entity-designer/./src/style/index.less?");

/***/ }),

/***/ 77856:
/*!*******************************************!*\
  !*** ../kd-designer/src/style/index.less ***!
  \*******************************************/
/***/ (function() {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/style/index.less?");

/***/ }),

/***/ 83904:
/*!******************************************************!*\
  !*** ../kd-designer/assets/images/control-empty.png ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAACACAMAAAAlB5WJAAAAVFBMVEUAAADX3ujZ3und3uTZ3OzX3+jW3OfY3erY3unW3OfX3ejV3ebZ2+rY3ejW3OfW3ejX3efX3OfX3efX3ejX3ejv9f/j6fTj6fTi6PPK0Nvg5vHu9P80Vk63AAAAGHRSTlMAHBcFCQ0gEyk1MCQQJj87LUM5RkqA6ab1lqPoAAACrUlEQVR42u3a7Y6iMBSA4X5SBKSIrjjd+7/P7a5mUndHsD1l6WHO2yb1449PjgmYyCiKoiiKoigKfXy63hL7wRDEPS+1nxiE0w0AxCC8QoAYhDcIEIMQBMQgBAExCEFADEIQEIMQBMQgBAExCEFADEIQEIMQBMQgBAExCEFADEIQEIMQBMQgBAExCEFADMLbo48gCJqVFgEJSMCoCEhAAhKQgEX1bYBhBCRgQRGQgASMioCACz0oAv6XVCeEljsFdkd7eWRbvTsg7y9P9XxXQNGf/8ma3QDlcP6yQe4DqOzpRQe1B6D3vcxq/Bd6NfYzjRI9sOlna7ADK7uQww3UdhHoUAPrcakVgUpUddPULVdsrdRhMefcKkB9tMF9U63ZKlVbAfXh8leHjq1Q8z7wY6EI4Itbp0Zm9+lmuRWAuj9/WZ9viFJprSQT87ahGYbG+fICxellPA/PtMOf2npYLjuQn2YSWX7Y1jHlBnb9bAbs43W9KXCcB1oF9R0jywx0dqEB5hPHbYHO2fEpO1q/P0+fgPhUG90dmCvnxqUaCJBX0WUFOucOixnAACsMwDod2PH4cgOb5WQyUGwMdO8BO9TAYRiahcWlEZwLI+OBCWUHRtRqhMA6qipuiiahbYF1q7ABj5G1MTPsEvK8rMA2tioCqBPyn2pbYNutC3SZgVV87wNVQmAVHKhQAXl85m2gTMj5NgaKlYE5J3hzIiH2fvKx7oeP+f25fI/3Hqd/kPkrmhlY2F+5ggkaYYx4Xr7wveBkQYUDnTPx4QJ2xnSm8/t+BoWvPT9nQeUDY0MF9FsnxILKBjq3c6AnqoRYUNlAt3eg3zIhFlQ08He7B7LSIiABCRgVAQn43YDXvL4rK60pL3BipcWvWQfIWXHx6ZqNNxXooyiKoiiKoqjIfgGBCmvD1S6nHAAAAABJRU5ErkJggg==\");\n\n//# sourceURL=webpack://entity-designer/../kd-designer/assets/images/control-empty.png?");

/***/ }),

/***/ 75940:
/*!*******************************************************!*\
  !*** ../kd-designer/assets/images/property-empty.png ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/b7faef5a0338c01e97e8b6d7d8f7511f.png\");\n\n//# sourceURL=webpack://entity-designer/../kd-designer/assets/images/property-empty.png?");

/***/ }),

/***/ 80143:
/*!*******************************!*\
  !*** ../kd-designer/index.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionType: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.ActionType; },\n/* harmony export */   AddAction: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.AddAction; },\n/* harmony export */   CONTROL_DRAG_DATA: function() { return /* reexport safe */ _src_constant_index__WEBPACK_IMPORTED_MODULE_13__.CONTROL_DRAG_DATA; },\n/* harmony export */   CheckboxPropertyEditor: function() { return /* reexport safe */ _src_editor_CheckboxPropertyEditor__WEBPACK_IMPORTED_MODULE_23__[\"default\"]; },\n/* harmony export */   ColorPicker: function() { return /* reexport safe */ _src_editor_common_ColorPicker__WEBPACK_IMPORTED_MODULE_32__[\"default\"]; },\n/* harmony export */   ColorPrefixIcon: function() { return /* reexport safe */ _src_editor_common_ColorPicker__WEBPACK_IMPORTED_MODULE_32__.ColorPrefixIcon; },\n/* harmony export */   ConfigContext: function() { return /* reexport safe */ _src_config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; },\n/* harmony export */   ControlView: function() { return /* reexport safe */ _src_view_control_view__WEBPACK_IMPORTED_MODULE_31__[\"default\"]; },\n/* harmony export */   ControlViewItemProps: function() { return /* reexport safe */ _src_view_control_view__WEBPACK_IMPORTED_MODULE_31__.ControlViewItemProps; },\n/* harmony export */   CustomInputTrigger: function() { return /* reexport safe */ _src_editor_common_CustomInputTrigger__WEBPACK_IMPORTED_MODULE_19__[\"default\"]; },\n/* harmony export */   CustomUpdateAction: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.CustomUpdateAction; },\n/* harmony export */   DataChangeEvent: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.DataChangeEvent; },\n/* harmony export */   DataChangeEventType: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.DataChangeEventType; },\n/* harmony export */   DataContext: function() { return /* reexport safe */ _src_context_data_context__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   DataFactoryContext: function() { return /* reexport safe */ _src_context__WEBPACK_IMPORTED_MODULE_30__.DataFactoryContext; },\n/* harmony export */   DefaultIcon: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.DefaultIcon; },\n/* harmony export */   DelayQueueUtil: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.DelayQueueUtil; },\n/* harmony export */   DeleteAction: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.DeleteAction; },\n/* harmony export */   DropDownPanel: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.DropDownPanel; },\n/* harmony export */   EditComboEditor: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.EditComboEditor; },\n/* harmony export */   EditorPropertyCustomInput: function() { return /* reexport safe */ _src_editor_CustomPropertyEditor__WEBPACK_IMPORTED_MODULE_26__[\"default\"]; },\n/* harmony export */   EditorPropertyEditSelect: function() { return /* reexport safe */ _src_editor_EditSelectPropertyEditor__WEBPACK_IMPORTED_MODULE_21__.EditorPropertyEditSelect; },\n/* harmony export */   EditorPropertySelect: function() { return /* reexport safe */ _src_editor_SelectPropertyEditor__WEBPACK_IMPORTED_MODULE_20__.EditorPropertySelect; },\n/* harmony export */   EditorPropertyTimePicker: function() { return /* reexport safe */ _src_editor_DatePickerPropertyEditor__WEBPACK_IMPORTED_MODULE_22__.EditorPropertyTimePicker; },\n/* harmony export */   ErrorBoundaryWrap: function() { return /* reexport safe */ _src_view_errorboundary_wrap__WEBPACK_IMPORTED_MODULE_33__[\"default\"]; },\n/* harmony export */   GlobalConfigContext: function() { return /* reexport safe */ _src_context_global_config_context__WEBPACK_IMPORTED_MODULE_29__[\"default\"]; },\n/* harmony export */   GlobalContext: function() { return /* reexport safe */ _src_context_global_context__WEBPACK_IMPORTED_MODULE_28__[\"default\"]; },\n/* harmony export */   IApi: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.IApi; },\n/* harmony export */   IControlAction: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.IControlAction; },\n/* harmony export */   IControlItemUppercaseKey: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.IControlItemUppercaseKey; },\n/* harmony export */   IDataApi: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.IDataApi; },\n/* harmony export */   IKDesignerProps: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.IKDesignerProps; },\n/* harmony export */   IMeta: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.IMeta; },\n/* harmony export */   INextControl: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.INextControl; },\n/* harmony export */   ISelection: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.ISelection; },\n/* harmony export */   ITransformKeyMap: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.ITransformKeyMap; },\n/* harmony export */   InputPropertyEditor: function() { return /* reexport safe */ _src_editor_InputPropertyEditor__WEBPACK_IMPORTED_MODULE_37__[\"default\"]; },\n/* harmony export */   LINIX: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.LINIX; },\n/* harmony export */   MAC: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.MAC; },\n/* harmony export */   NameTipSwitchWrapper: function() { return /* reexport safe */ _src_editor_common_NameTipSwitchWrapper__WEBPACK_IMPORTED_MODULE_18__[\"default\"]; },\n/* harmony export */   NameTipWrapper: function() { return /* reexport safe */ _src_editor_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_17__[\"default\"]; },\n/* harmony export */   OS: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.OS; },\n/* harmony export */   PropertyEditorFactoryContext: function() { return /* reexport safe */ _src_utils_property_editor_factory__WEBPACK_IMPORTED_MODULE_5__.PropertyEditorFactoryContext; },\n/* harmony export */   PropertyEditorProps: function() { return /* reexport safe */ _src_editor_type__WEBPACK_IMPORTED_MODULE_27__.PropertyEditorProps; },\n/* harmony export */   PropertyView: function() { return /* reexport safe */ _src_view_property_view__WEBPACK_IMPORTED_MODULE_9__.PropertyView; },\n/* harmony export */   PropertyViewItem: function() { return /* reexport safe */ _src_view_property_view__WEBPACK_IMPORTED_MODULE_9__.PropertyViewItem; },\n/* harmony export */   PropertyViewItemGroup: function() { return /* reexport safe */ _src_view_property_view__WEBPACK_IMPORTED_MODULE_9__.PropertyViewItemGroup; },\n/* harmony export */   PropertyViewRoot: function() { return /* reexport safe */ _src_view_property_view__WEBPACK_IMPORTED_MODULE_9__.PropertyViewRoot; },\n/* harmony export */   SelectionContext: function() { return /* reexport safe */ _src_context_select_context__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   SwitchPropertyEditor: function() { return /* reexport safe */ _src_editor_SwitchPropertyEditor__WEBPACK_IMPORTED_MODULE_24__[\"default\"]; },\n/* harmony export */   TabPropertyEditor: function() { return /* reexport safe */ _src_editor_TabPropertyEditor__WEBPACK_IMPORTED_MODULE_25__[\"default\"]; },\n/* harmony export */   UNIX: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.UNIX; },\n/* harmony export */   UpdateAction: function() { return /* reexport safe */ _src_type__WEBPACK_IMPORTED_MODULE_11__.UpdateAction; },\n/* harmony export */   ViewHeader: function() { return /* reexport safe */ _src_hooks_useTab__WEBPACK_IMPORTED_MODULE_10__.ViewHeader; },\n/* harmony export */   WINDOWS: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.WINDOWS; },\n/* harmony export */   adaptorMeta: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.adaptorMeta; },\n/* harmony export */   adaptorObjectByTransformKeyMap: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.adaptorObjectByTransformKeyMap; },\n/* harmony export */   browserType: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.browserType; },\n/* harmony export */   buildTree: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.buildTree; },\n/* harmony export */   console: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.console; },\n/* harmony export */   createAddAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.createAddAction; },\n/* harmony export */   createAttrAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.createAttrAction; },\n/* harmony export */   createControlData: function() { return /* reexport safe */ _src_utils_data__WEBPACK_IMPORTED_MODULE_8__.createControlData; },\n/* harmony export */   createControlDataOrModel: function() { return /* reexport safe */ _src_utils_data__WEBPACK_IMPORTED_MODULE_8__.createControlDataOrModel; },\n/* harmony export */   createControlModel: function() { return /* reexport safe */ _src_utils_data__WEBPACK_IMPORTED_MODULE_8__.createControlModel; },\n/* harmony export */   createCustomUpdateAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.createCustomUpdateAction; },\n/* harmony export */   createDataContext: function() { return /* reexport safe */ _src_data_data_provider__WEBPACK_IMPORTED_MODULE_14__[\"default\"]; },\n/* harmony export */   createDeleteAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.createDeleteAction; },\n/* harmony export */   createEComboEditor: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.createEComboEditor; },\n/* harmony export */   createGlobalConfig: function() { return /* reexport safe */ _src_constant_index__WEBPACK_IMPORTED_MODULE_13__.createGlobalConfig; },\n/* harmony export */   createInputEditor: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.createInputEditor; },\n/* harmony export */   createInsertAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.createInsertAction; },\n/* harmony export */   createMetaApi: function() { return /* reexport safe */ _src_meta__WEBPACK_IMPORTED_MODULE_35__.createMetaApi; },\n/* harmony export */   createPasteAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.createPasteAction; },\n/* harmony export */   createPropertyChangeByActions: function() { return /* reexport safe */ _src_action__WEBPACK_IMPORTED_MODULE_36__.createPropertyChangeByActions; },\n/* harmony export */   createPropertyGroups: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.createPropertyGroups; },\n/* harmony export */   createRefComboEditor: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.createRefComboEditor; },\n/* harmony export */   createRemovePropAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.createRemovePropAction; },\n/* harmony export */   createSelectEditor: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.createSelectEditor; },\n/* harmony export */   createSwapAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.createSwapAction; },\n/* harmony export */   createUUid: function() { return /* reexport safe */ _src_utils_data__WEBPACK_IMPORTED_MODULE_8__.createUUid; },\n/* harmony export */   createUniqueKey: function() { return /* reexport safe */ _src_utils_data__WEBPACK_IMPORTED_MODULE_8__.createUniqueKey; },\n/* harmony export */   createUpdateAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.createUpdateAction; },\n/* harmony export */   devwarning: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.devwarning; },\n/* harmony export */   eventBus: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.eventBus; },\n/* harmony export */   exponentToFloat: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.exponentToFloat; },\n/* harmony export */   filterNodes: function() { return /* reexport safe */ _src_view_property_view__WEBPACK_IMPORTED_MODULE_9__.filterNodes; },\n/* harmony export */   filterProperty: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.filterProperty; },\n/* harmony export */   formatEditNumber: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.formatEditNumber; },\n/* harmony export */   formatNumber: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.formatNumber; },\n/* harmony export */   getCommonProperties: function() { return /* reexport safe */ _src_utils_data__WEBPACK_IMPORTED_MODULE_8__.getCommonProperties; },\n/* harmony export */   getControlIconMap: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.getControlIconMap; },\n/* harmony export */   getControlIsContainer: function() { return /* reexport safe */ _src_utils_data__WEBPACK_IMPORTED_MODULE_8__.getControlIsContainer; },\n/* harmony export */   getEComboEditorItems: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.getEComboEditorItems; },\n/* harmony export */   getFieldProperty: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.getFieldProperty; },\n/* harmony export */   getLangMsg: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.getLangMsg; },\n/* harmony export */   getMaxNumberByPrecision: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.getMaxNumberByPrecision; },\n/* harmony export */   getModelData: function() { return /* reexport safe */ _src_hooks_useSelectModel__WEBPACK_IMPORTED_MODULE_16__.getModelData; },\n/* harmony export */   getOS: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.getOS; },\n/* harmony export */   getRefComboEditor: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.getRefComboEditor; },\n/* harmony export */   isAddAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.isAddAction; },\n/* harmony export */   isAltActive: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.isAltActive; },\n/* harmony export */   isArrayValueRepeat: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.isArrayValueRepeat; },\n/* harmony export */   isCtrlActive: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.isCtrlActive; },\n/* harmony export */   isExp: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.isExp; },\n/* harmony export */   isLinux: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.isLinux; },\n/* harmony export */   isMac: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.isMac; },\n/* harmony export */   isPasteAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.isPasteAction; },\n/* harmony export */   isUnix: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.isUnix; },\n/* harmony export */   isUpdateAction: function() { return /* reexport safe */ _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__.isUpdateAction; },\n/* harmony export */   isWin: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.isWin; },\n/* harmony export */   keyCode: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.keyCode; },\n/* harmony export */   mergeTransformKeyMap: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.mergeTransformKeyMap; },\n/* harmony export */   omit: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.omit; },\n/* harmony export */   serialization: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.serialization; },\n/* harmony export */   setIntlApi: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.setIntlApi; },\n/* harmony export */   supplementZero: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.supplementZero; },\n/* harmony export */   timerManager: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.timerManager; },\n/* harmony export */   toArray: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.toArray; },\n/* harmony export */   toFixed: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.toFixed; },\n/* harmony export */   transformActions: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.transformActions; },\n/* harmony export */   transformKeyMap: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.transformKeyMap; },\n/* harmony export */   transformMeta: function() { return /* reexport safe */ _src_meta_transformMeta__WEBPACK_IMPORTED_MODULE_34__[\"default\"]; },\n/* harmony export */   tuple: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.tuple; },\n/* harmony export */   tupleNum: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.tupleNum; },\n/* harmony export */   useActivedSelectedId: function() { return /* reexport safe */ _src_hooks_useActivedSelectedId__WEBPACK_IMPORTED_MODULE_15__.useActivedSelectedId; },\n/* harmony export */   useDataChangeForceUpdateEffect: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.useDataChangeForceUpdateEffect; },\n/* harmony export */   useDebounce: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.useDebounce; },\n/* harmony export */   useErrorChangeForceUpdateEffect: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.useErrorChangeForceUpdateEffect; },\n/* harmony export */   useForceUpdate: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.useForceUpdate; },\n/* harmony export */   useGetFieldProperty: function() { return /* reexport safe */ _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__.useGetFieldProperty; },\n/* harmony export */   useMergedState: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.useMergedState; },\n/* harmony export */   useOnClickOutside: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.useOnClickOutside; },\n/* harmony export */   useOnClickOutsideByRootClick: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.useOnClickOutsideByRootClick; },\n/* harmony export */   usePopper: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.usePopper; },\n/* harmony export */   usePrevious: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.usePrevious; },\n/* harmony export */   useResizeObserver: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.useResizeObserver; },\n/* harmony export */   useSelectModel: function() { return /* reexport safe */ _src_hooks_useSelectModel__WEBPACK_IMPORTED_MODULE_16__[\"default\"]; },\n/* harmony export */   useSelectionChangeForceUpdateEffect: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.useSelectionChangeForceUpdateEffect; },\n/* harmony export */   useTraceElementPosition: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.useTraceElementPosition; },\n/* harmony export */   xssFilters: function() { return /* reexport safe */ _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__.xssFilters; }\n/* harmony export */ });\n/* harmony import */ var _src_style_index_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/style/index.less */ 77856);\n/* harmony import */ var _src_style_index_less__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_src_style_index_less__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src_index_tsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/index.tsx */ 33856);\n/* harmony import */ var _designer_utils_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../designer-utils/index */ 89592);\n/* harmony import */ var _form_entity_designer_utils_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../form-entity-designer-utils/index */ 57500);\n/* harmony import */ var _src_config_provider_ConfigContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./src/config-provider/ConfigContext */ 76228);\n/* harmony import */ var _src_utils_property_editor_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./src/_utils/property-editor-factory */ 93888);\n/* harmony import */ var _src_context_data_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./src/context/data-context */ 55308);\n/* harmony import */ var _src_context_select_context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./src/context/select-context */ 23412);\n/* harmony import */ var _src_utils_data__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./src/_utils/data */ 15400);\n/* harmony import */ var _src_view_property_view__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./src/view/property-view */ 2044);\n/* harmony import */ var _src_hooks_useTab__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./src/hooks/useTab */ 46644);\n/* harmony import */ var _src_type__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./src/type */ 84460);\n/* harmony import */ var _src_type_actionType__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./src/type/actionType */ 54465);\n/* harmony import */ var _src_constant_index__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./src/constant/index */ 71912);\n/* harmony import */ var _src_data_data_provider__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./src/data/data-provider */ 43316);\n/* harmony import */ var _src_hooks_useActivedSelectedId__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./src/hooks/useActivedSelectedId */ 9700);\n/* harmony import */ var _src_hooks_useSelectModel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/hooks/useSelectModel */ 73604);\n/* harmony import */ var _src_editor_common_NameTipWrapper__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./src/editor/common/NameTipWrapper */ 42440);\n/* harmony import */ var _src_editor_common_NameTipSwitchWrapper__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./src/editor/common/NameTipSwitchWrapper */ 66000);\n/* harmony import */ var _src_editor_common_CustomInputTrigger__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./src/editor/common/CustomInputTrigger */ 57172);\n/* harmony import */ var _src_editor_SelectPropertyEditor__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./src/editor/SelectPropertyEditor */ 17852);\n/* harmony import */ var _src_editor_EditSelectPropertyEditor__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./src/editor/EditSelectPropertyEditor */ 36452);\n/* harmony import */ var _src_editor_DatePickerPropertyEditor__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./src/editor/DatePickerPropertyEditor */ 86140);\n/* harmony import */ var _src_editor_CheckboxPropertyEditor__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./src/editor/CheckboxPropertyEditor */ 98020);\n/* harmony import */ var _src_editor_SwitchPropertyEditor__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./src/editor/SwitchPropertyEditor */ 80860);\n/* harmony import */ var _src_editor_TabPropertyEditor__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./src/editor/TabPropertyEditor */ 80888);\n/* harmony import */ var _src_editor_CustomPropertyEditor__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./src/editor/CustomPropertyEditor */ 20616);\n/* harmony import */ var _src_editor_type__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./src/editor/type */ 88108);\n/* harmony import */ var _src_editor_type__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_src_editor_type__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var _src_context_global_context__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./src/context/global-context */ 49440);\n/* harmony import */ var _src_context_global_config_context__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./src/context/global-config-context */ 21708);\n/* harmony import */ var _src_context__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./src/context */ 10268);\n/* harmony import */ var _src_view_control_view__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./src/view/control-view */ 32884);\n/* harmony import */ var _src_editor_common_ColorPicker__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./src/editor/common/ColorPicker */ 87544);\n/* harmony import */ var _src_view_errorboundary_wrap__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./src/view/errorboundary-wrap */ 32596);\n/* harmony import */ var _src_meta_transformMeta__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./src/meta/transformMeta */ 59499);\n/* harmony import */ var _src_meta__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./src/meta */ 55796);\n/* harmony import */ var _src_action__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./src/action */ 99060);\n/* harmony import */ var _src_editor_InputPropertyEditor__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./src/editor/InputPropertyEditor */ 33224);\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-07-15 14:35:53\n * @LastEditTime: 2024-01-24 11:21:23\n * @Last Modified by: jianhang_he\n */\n\n/* @remove-on-es-build-end */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_src_index_tsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n\n// 设计器导出统一入口\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://entity-designer/../kd-designer/index.js?");

/***/ }),

/***/ 9740:
/*!*************************************************!*\
  !*** ../kd-designer/src/designerConst/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ENTITYMETA: function() { return /* binding */ ENTITYMETA; }\n/* harmony export */ });\n// 设计器常量\n// 实体元数据\nconst ENTITYMETA = 'entitymeta'\n\n\n//# sourceURL=webpack://entity-designer/../kd-designer/src/designerConst/index.js?");

/***/ })

}]);