!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["print-designer"]=e():t["print-designer"]=e()}(self,(function(){return function(){var t,e,n,r,i={87964:function(t,e,n){"use strict";n(79464);var r,i=(r=n(23512))&&r.__esModule?r:{default:r};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn,i.default._babelPolyfill=!0},79464:function(t,e,n){"use strict";n(69812),n(91832),n(46808),n(28224),n(42224),n(58744),n(53648),n(48252),n(1884),n(2784),n(40416),n(70656),n(52540),n(29392)},69812:function(t,e,n){n(89032),n(16156),n(63196),n(37536),n(16872),n(92360),n(21112),n(25724),n(40004),n(35264),n(24336),n(4668),n(17272),n(37092),n(65712),n(43188),n(3088),n(85168),n(14280),n(76032),n(76496),n(78228),n(7200),n(57360),n(77656),n(42556),n(38880),n(65160),n(90328),n(36904),n(72300),n(85368),n(73208),n(8700),n(2320),n(32992),n(24760),n(58187),n(7064),n(64936),n(77808),n(52532),n(98769),n(88152),n(78204),n(5988),n(83127),n(71160),n(27664),n(77772),n(91760),n(84016),n(91224),n(37160),n(74652),n(8792),n(72564),n(53160),n(29600),n(89296),n(43932),n(46024),n(20416),n(82856),n(22020),n(32420),n(85704),n(47028),n(92928),n(72548),n(33372),n(65308),n(13928),n(78272),n(77980),n(59440),n(91344),n(85336),n(66824),n(2200),n(83096),n(6656),n(92872),n(64016),n(4760),n(78084),n(41724),n(17976),n(91204),n(97700),n(12320),n(54924),n(72996),n(8408),n(9664),n(36060),n(44900),n(71380),n(1064),n(63e3),n(75320),n(43572),n(68216),n(67720),n(2760),n(34124),n(9272),n(76264),n(75876),n(37352),n(13480),n(41800),n(93744),n(37664),n(55892),n(28280),n(664),n(39588),n(61915),n(45680),n(68456),n(54276),n(29992),n(46848),n(12960),n(59080),n(33464),n(16968),n(22716),n(39860),n(96864),n(42864),n(70992),n(14232),n(42772),n(51412),n(92152),n(20024),t.exports=n(39892)},46808:function(t,e,n){n(94796),t.exports=n(39892).Array.flatMap},91832:function(t,e,n){n(78600),t.exports=n(39892).Array.includes},40416:function(t,e,n){n(98440),t.exports=n(39892).Object.entries},1884:function(t,e,n){n(17492),t.exports=n(39892).Object.getOwnPropertyDescriptors},2784:function(t,e,n){n(11836),t.exports=n(39892).Object.values},70656:function(t,e,n){"use strict";n(75876),n(78792),t.exports=n(39892).Promise.finally},42224:function(t,e,n){n(77392),t.exports=n(39892).String.padEnd},28224:function(t,e,n){n(84768),t.exports=n(39892).String.padStart},53648:function(t,e,n){n(5384),t.exports=n(39892).String.trimRight},58744:function(t,e,n){n(91928),t.exports=n(39892).String.trimLeft},48252:function(t,e,n){n(48632),t.exports=n(63784).f("asyncIterator")},23512:function(t,e,n){n(32896),t.exports=n(67928).global},35552:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},67112:function(t,e,n){var r=n(13348);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},67928:function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},39176:function(t,e,n){var r=n(35552);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},94648:function(t,e,n){t.exports=!n(68672)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},7960:function(t,e,n){var r=n(13348),i=n(99352).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},216:function(t,e,n){var r=n(99352),i=n(67928),o=n(39176),a=n(26832),u=n(81892),c="prototype",l=function(t,e,n){var s,f,d,h=t&l.F,p=t&l.G,v=t&l.S,g=t&l.P,m=t&l.B,y=t&l.W,b=p?i:i[e]||(i[e]={}),C=b[c],x=p?r:v?r[e]:(r[e]||{})[c];for(s in p&&(n=e),n)(f=!h&&x&&void 0!==x[s])&&u(b,s)||(d=f?x[s]:n[s],b[s]=p&&"function"!=typeof x[s]?n[s]:m&&f?o(d,r):y&&x[s]==d?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[c]=t[c],e}(d):g&&"function"==typeof d?o(Function.call,d):d,g&&((b.virtual||(b.virtual={}))[s]=d,t&l.R&&C&&!C[s]&&a(C,s,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},68672:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},99352:function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},81892:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},26832:function(t,e,n){var r=n(75708),i=n(86484);t.exports=n(94648)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},56808:function(t,e,n){t.exports=!n(94648)&&!n(68672)((function(){return 7!=Object.defineProperty(n(7960)("div"),"a",{get:function(){return 7}}).a}))},13348:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},75708:function(t,e,n){var r=n(67112),i=n(56808),o=n(28920),a=Object.defineProperty;e.f=n(94648)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},86484:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},28920:function(t,e,n){var r=n(13348);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},32896:function(t,e,n){var r=n(216);r(r.G,{global:n(99352)})},60467:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},16712:function(t,e,n){var r=n(24144);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},57224:function(t,e,n){var r=n(12400)("unscopables"),i=Array.prototype;null==i[r]&&n(62432)(i,r,{}),t.exports=function(t){i[r][t]=!0}},85360:function(t,e,n){"use strict";var r=n(80152)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},78696:function(t){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},43192:function(t,e,n){var r=n(74988);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},83892:function(t,e,n){"use strict";var r=n(4944),i=n(68012),o=n(91304);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),u=i(t,a),c=i(e,a),l=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===l?a:i(l,a))-c,a-u),f=1;for(c<u&&u<c+s&&(f=-1,c+=s-1,u+=s-1);s-- >0;)c in n?n[u]=n[c]:delete n[u],u+=f,c+=f;return n}},85032:function(t,e,n){"use strict";var r=n(4944),i=n(68012),o=n(91304);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,u=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>u;)e[u++]=t;return e}},39432:function(t,e,n){var r=n(61368),i=n(91304),o=n(68012);t.exports=function(t){return function(e,n,a){var u,c=r(e),l=i(c.length),s=o(a,l);if(t&&n!=n){for(;l>s;)if((u=c[s++])!=u)return!0}else for(;l>s;s++)if((t||s in c)&&c[s]===n)return t||s||0;return!t&&-1}}},99060:function(t,e,n){var r=n(92820),i=n(49376),o=n(4944),a=n(91304),u=n(31460);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,s=4==t,f=6==t,d=5==t||f,h=e||u;return function(e,u,p){for(var v,g,m=o(e),y=i(m),b=r(u,p,3),C=a(y.length),x=0,w=n?h(e,C):c?h(e,0):void 0;C>x;x++)if((d||x in y)&&(g=b(v=y[x],x,m),t))if(n)w[x]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:w.push(v)}else if(s)return!1;return f?-1:l||s?s:w}}},18692:function(t,e,n){var r=n(60467),i=n(4944),o=n(49376),a=n(91304);t.exports=function(t,e,n,u,c){r(e);var l=i(t),s=o(l),f=a(l.length),d=c?f-1:0,h=c?-1:1;if(n<2)for(;;){if(d in s){u=s[d],d+=h;break}if(d+=h,c?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;c?d>=0:f>d;d+=h)d in s&&(u=e(u,s[d],d,l));return u}},89448:function(t,e,n){var r=n(74988),i=n(83464),o=n(12400)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},31460:function(t,e,n){var r=n(89448);t.exports=function(t,e){return new(r(t))(e)}},5280:function(t,e,n){"use strict";var r=n(60467),i=n(74988),o=n(72904),a=[].slice,u={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),c=function(){var r=n.concat(a.call(arguments));return this instanceof c?function(t,e,n){if(!(e in u)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";u[e]=Function("F,a","return new F("+r.join(",")+")")}return u[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(c.prototype=e.prototype),c}},50108:function(t,e,n){var r=n(24144),i=n(12400)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},24144:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},89884:function(t,e,n){"use strict";var r=n(73792).f,i=n(51172),o=n(79388),a=n(92820),u=n(78696),c=n(98576),l=n(70488),s=n(60808),f=n(38576),d=n(73176),h=n(48500).fastKey,p=n(34880),v=d?"_s":"size",g=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var s=t((function(t,r){u(t,s,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&c(r,n,t[l],t)}));return o(s.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),d&&r(s.prototype,"size",{get:function(){return p(this,e)[v]}}),s},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?s(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,s(1))}),n?"entries":"values",!n,!0),f(e)}}},77488:function(t,e,n){"use strict";var r=n(79388),i=n(48500).getWeak,o=n(43192),a=n(74988),u=n(78696),c=n(98576),l=n(99060),s=n(55408),f=n(34880),d=l(5),h=l(6),p=0,v=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},m=function(t,e){return d(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t((function(t,r){u(t,l,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=r&&c(r,n,t[o],t)}));return r(l.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(f(this,e)).delete(t):n&&s(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(f(this,e)).has(t):n&&s(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},57821:function(t,e,n){"use strict";var r=n(35160),i=n(86524),o=n(16901),a=n(79388),u=n(48500),c=n(98576),l=n(78696),s=n(74988),f=n(32232),d=n(25112),h=n(94024),p=n(79768);t.exports=function(t,e,n,v,g,m){var y=r[t],b=y,C=g?"set":"add",x=b&&b.prototype,w={},E=function(t){var e=x[t];o(x,t,"delete"==t||"has"==t?function(t){return!(m&&!s(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!s(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(m||x.forEach&&!f((function(){(new b).entries().next()})))){var S=new b,k=S[C](m?{}:-0,1)!=S,D=f((function(){S.has(1)})),A=d((function(t){new b(t)})),I=!m&&f((function(){for(var t=new b,e=5;e--;)t[C](e,e);return!t.has(-0)}));A||((b=e((function(e,n){l(e,b,t);var r=p(new y,e,b);return null!=n&&c(n,g,r[C],r),r}))).prototype=x,x.constructor=b),(D||I)&&(E("delete"),E("has"),g&&E("get")),(I||k)&&E(C),m&&x.clear&&delete x.clear}else b=v.getConstructor(e,t,g,C),a(b.prototype,n),u.NEED=!0;return h(b,t),w[t]=b,i(i.G+i.W+i.F*(b!=y),w),m||v.setStrong(b,t,g),b}},39892:function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},23040:function(t,e,n){"use strict";var r=n(73792),i=n(17592);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},92820:function(t,e,n){var r=n(60467);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},71440:function(t,e,n){"use strict";var r=n(32232),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},79060:function(t,e,n){"use strict";var r=n(43192),i=n(84484),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},39484:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},73176:function(t,e,n){t.exports=!n(32232)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},91624:function(t,e,n){var r=n(74988),i=n(35160).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},12800:function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},92264:function(t,e,n){var r=n(5576),i=n(98844),o=n(13524);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,u=n(t),c=o.f,l=0;u.length>l;)c.call(t,a=u[l++])&&e.push(a);return e}},86524:function(t,e,n){var r=n(35160),i=n(39892),o=n(62432),a=n(16901),u=n(92820),c="prototype",l=function(t,e,n){var s,f,d,h,p=t&l.F,v=t&l.G,g=t&l.S,m=t&l.P,y=t&l.B,b=v?r:g?r[e]||(r[e]={}):(r[e]||{})[c],C=v?i:i[e]||(i[e]={}),x=C[c]||(C[c]={});for(s in v&&(n=e),n)d=((f=!p&&b&&void 0!==b[s])?b:n)[s],h=y&&f?u(d,r):m&&"function"==typeof d?u(Function.call,d):d,b&&a(b,s,d,t&l.U),C[s]!=d&&o(C,s,h),m&&x[s]!=d&&(x[s]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},81048:function(t,e,n){var r=n(12400)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},32232:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},3424:function(t,e,n){"use strict";n(43572);var r=n(16901),i=n(62432),o=n(32232),a=n(39484),u=n(12400),c=n(2008),l=u("species"),s=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=u(t),h=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!e})):void 0;if(!h||!p||"replace"===t&&!s||"split"===t&&!f){var v=/./[d],g=n(a,d,""[t],(function(t,e,n,r,i){return e.exec===c?h&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=g[0],y=g[1];r(String.prototype,t,m),i(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},47448:function(t,e,n){"use strict";var r=n(43192);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},18444:function(t,e,n){"use strict";var r=n(83464),i=n(74988),o=n(91304),a=n(92820),u=n(12400)("isConcatSpreadable");t.exports=function t(e,n,c,l,s,f,d,h){for(var p,v,g=s,m=0,y=!!d&&a(d,h,3);m<l;){if(m in c){if(p=y?y(c[m],m,n):c[m],v=!1,i(p)&&(v=void 0!==(v=p[u])?!!v:r(p)),v&&f>0)g=t(e,n,p,o(p.length),g,f-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=p}g++}m++}return g}},98576:function(t,e,n){var r=n(92820),i=n(60396),o=n(98488),a=n(43192),u=n(91304),c=n(76352),l={},s={},f=t.exports=function(t,e,n,f,d){var h,p,v,g,m=d?function(){return t}:c(t),y=r(n,f,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(h=u(t.length);h>b;b++)if((g=e?y(a(p=t[b])[0],p[1]):y(t[b]))===l||g===s)return g}else for(v=m.call(t);!(p=v.next()).done;)if((g=i(v,y,p.value,e))===l||g===s)return g};f.BREAK=l,f.RETURN=s},18060:function(t,e,n){t.exports=n(22752)("native-function-to-string",Function.toString)},35160:function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},55408:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},62432:function(t,e,n){var r=n(73792),i=n(17592);t.exports=n(73176)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},37960:function(t,e,n){var r=n(35160).document;t.exports=r&&r.documentElement},87232:function(t,e,n){t.exports=!n(73176)&&!n(32232)((function(){return 7!=Object.defineProperty(n(91624)("div"),"a",{get:function(){return 7}}).a}))},79768:function(t,e,n){var r=n(74988),i=n(2664).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},72904:function(t){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},49376:function(t,e,n){var r=n(24144);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},98488:function(t,e,n){var r=n(87460),i=n(12400)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},83464:function(t,e,n){var r=n(24144);t.exports=Array.isArray||function(t){return"Array"==r(t)}},6e4:function(t,e,n){var r=n(74988),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},74988:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},11312:function(t,e,n){var r=n(74988),i=n(24144),o=n(12400)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},60396:function(t,e,n){var r=n(43192);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},13696:function(t,e,n){"use strict";var r=n(51172),i=n(17592),o=n(94024),a={};n(62432)(a,n(12400)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},70488:function(t,e,n){"use strict";var r=n(91684),i=n(86524),o=n(16901),a=n(62432),u=n(87460),c=n(13696),l=n(94024),s=n(81316),f=n(12400)("iterator"),d=!([].keys&&"next"in[].keys()),h="keys",p="values",v=function(){return this};t.exports=function(t,e,n,g,m,y,b){c(n,e,g);var C,x,w,E=function(t){if(!d&&t in A)return A[t];switch(t){case h:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",k=m==p,D=!1,A=t.prototype,I=A[f]||A["@@iterator"]||m&&A[m],M=I||E(m),T=m?k?E("entries"):M:void 0,B="Array"==e&&A.entries||I;if(B&&(w=s(B.call(new t)))!==Object.prototype&&w.next&&(l(w,S,!0),r||"function"==typeof w[f]||a(w,f,v)),k&&I&&I.name!==p&&(D=!0,M=function(){return I.call(this)}),r&&!b||!d&&!D&&A[f]||a(A,f,M),u[e]=M,u[S]=v,m)if(C={values:k?M:E(p),keys:y?M:E(h),entries:T},b)for(x in C)x in A||o(A,x,C[x]);else i(i.P+i.F*(d||D),e,C);return C}},25112:function(t,e,n){var r=n(12400)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},60808:function(t){t.exports=function(t,e){return{value:e,done:!!t}}},87460:function(t){t.exports={}},91684:function(t){t.exports=!1},860:function(t){var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},21360:function(t,e,n){var r=n(97011),i=Math.pow,o=i(2,-52),a=i(2,-23),u=i(2,127)*(2-a),c=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<c?l*(i/c/a+1/o-1/o)*c*a:(n=(e=(1+a/o)*i)-(e-i))>u||n!=n?l*(1/0):l*n}},38808:function(t){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},97011:function(t){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},48500:function(t,e,n){var r=n(11608)("meta"),i=n(74988),o=n(55408),a=n(73792).f,u=0,c=Object.isExtensible||function(){return!0},l=!n(32232)((function(){return c(Object.preventExtensions({}))})),s=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";s(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;s(t)}return t[r].w},onFreeze:function(t){return l&&f.NEED&&c(t)&&!o(t,r)&&s(t),t}}},81320:function(t,e,n){var r=n(35160),i=n(2860).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,c="process"==n(24144)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(c&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var s=u.resolve(void 0);n=function(){s.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},54568:function(t,e,n){"use strict";var r=n(60467);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},72900:function(t,e,n){"use strict";var r=n(73176),i=n(5576),o=n(98844),a=n(13524),u=n(4944),c=n(49376),l=Object.assign;t.exports=!l||n(32232)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=u(t),l=arguments.length,s=1,f=o.f,d=a.f;l>s;)for(var h,p=c(arguments[s++]),v=f?i(p).concat(f(p)):i(p),g=v.length,m=0;g>m;)h=v[m++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:l},51172:function(t,e,n){var r=n(43192),i=n(27760),o=n(12800),a=n(49392)("IE_PROTO"),u=function(){},c="prototype",l=function(){var t,e=n(91624)("iframe"),r=o.length;for(e.style.display="none",n(37960).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l[c][o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=r(t),n=new u,u[c]=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},73792:function(t,e,n){var r=n(43192),i=n(87232),o=n(84484),a=Object.defineProperty;e.f=n(73176)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},27760:function(t,e,n){var r=n(73792),i=n(43192),o=n(5576);t.exports=n(73176)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),u=a.length,c=0;u>c;)r.f(t,n=a[c++],e[n]);return t}},3652:function(t,e,n){var r=n(13524),i=n(17592),o=n(61368),a=n(84484),u=n(55408),c=n(87232),l=Object.getOwnPropertyDescriptor;e.f=n(73176)?l:function(t,e){if(t=o(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},61760:function(t,e,n){var r=n(61368),i=n(25588).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},25588:function(t,e,n){var r=n(66908),i=n(12800).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},98844:function(t,e){e.f=Object.getOwnPropertySymbols},81316:function(t,e,n){var r=n(55408),i=n(4944),o=n(49392)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},66908:function(t,e,n){var r=n(55408),i=n(61368),o=n(39432)(!1),a=n(49392)("IE_PROTO");t.exports=function(t,e){var n,u=i(t),c=0,l=[];for(n in u)n!=a&&r(u,n)&&l.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~o(l,n)||l.push(n));return l}},5576:function(t,e,n){var r=n(66908),i=n(12800);t.exports=Object.keys||function(t){return r(t,i)}},13524:function(t,e){e.f={}.propertyIsEnumerable},65084:function(t,e,n){var r=n(86524),i=n(39892),o=n(32232);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},92508:function(t,e,n){var r=n(73176),i=n(5576),o=n(61368),a=n(13524).f;t.exports=function(t){return function(e){for(var n,u=o(e),c=i(u),l=c.length,s=0,f=[];l>s;)n=c[s++],r&&!a.call(u,n)||f.push(t?[n,u[n]]:u[n]);return f}}},40736:function(t,e,n){var r=n(25588),i=n(98844),o=n(43192),a=n(35160).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},77860:function(t,e,n){var r=n(35160).parseFloat,i=n(3772).trim;t.exports=1/r(n(99752)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},11396:function(t,e,n){var r=n(35160).parseInt,i=n(3772).trim,o=n(99752),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},54744:function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},63732:function(t,e,n){var r=n(43192),i=n(74988),o=n(54568);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},17592:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},79388:function(t,e,n){var r=n(16901);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},16901:function(t,e,n){var r=n(35160),i=n(62432),o=n(55408),a=n(11608)("src"),u=n(18060),c="toString",l=(""+u).split(c);n(39892).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[a]||u.call(this)}))},98448:function(t,e,n){"use strict";var r=n(50108),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},2008:function(t,e,n){"use strict";var r,i,o=n(47448),a=RegExp.prototype.exec,u=String.prototype.replace,c=a,l="lastIndex",s=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[l]||0!==i[l]),f=void 0!==/()??/.exec("")[1];(s||f)&&(c=function(t){var e,n,r,i,c=this;return f&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),s&&(e=c[l]),r=a.call(c,t),s&&r&&(c[l]=c.global?r.index+r[0].length:e),f&&r&&r.length>1&&u.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},10240:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},2664:function(t,e,n){var r=n(74988),i=n(43192),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(92820)(Function.call,n(3652).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},38576:function(t,e,n){"use strict";var r=n(35160),i=n(73792),o=n(73176),a=n(12400)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},94024:function(t,e,n){var r=n(73792).f,i=n(55408),o=n(12400)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},49392:function(t,e,n){var r=n(22752)("keys"),i=n(11608);t.exports=function(t){return r[t]||(r[t]=i(t))}},22752:function(t,e,n){var r=n(39892),i=n(35160),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(91684)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},13312:function(t,e,n){var r=n(43192),i=n(60467),o=n(12400)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},46856:function(t,e,n){"use strict";var r=n(32232);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},80152:function(t,e,n){var r=n(73328),i=n(39484);t.exports=function(t){return function(e,n){var o,a,u=String(i(e)),c=r(n),l=u.length;return c<0||c>=l?t?"":void 0:(o=u.charCodeAt(c))<55296||o>56319||c+1===l||(a=u.charCodeAt(c+1))<56320||a>57343?t?u.charAt(c):o:t?u.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},6060:function(t,e,n){var r=n(11312),i=n(39484);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},60016:function(t,e,n){var r=n(86524),i=n(32232),o=n(39484),a=/"/g,u=function(t,e,n,r){var i=String(o(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),u+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(u),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},82912:function(t,e,n){var r=n(91304),i=n(16496),o=n(39484);t.exports=function(t,e,n,a){var u=String(o(t)),c=u.length,l=void 0===n?" ":String(n),s=r(e);if(s<=c||""==l)return u;var f=s-c,d=i.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),a?d+u:u+d}},16496:function(t,e,n){"use strict";var r=n(73328),i=n(39484);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},3772:function(t,e,n){var r=n(86524),i=n(39484),o=n(32232),a=n(99752),u="["+a+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),s=function(t,e,n){var i={},u=o((function(){return!!a[t]()||"​"!="​"[t]()})),c=i[t]=u?e(f):a[t];n&&(i[n]=c),r(r.P+r.F*u,"String",i)},f=s.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=s},99752:function(t){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},2860:function(t,e,n){var r,i,o,a=n(92820),u=n(72904),c=n(37960),l=n(91624),s=n(35160),f=s.process,d=s.setImmediate,h=s.clearImmediate,p=s.MessageChannel,v=s.Dispatch,g=0,m={},y="onreadystatechange",b=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},C=function(t){b.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){u("function"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete m[t]},"process"==n(24144)(f)?r=function(t){f.nextTick(a(b,t,1))}:v&&v.now?r=function(t){v.now(a(b,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=C,r=a(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(r=function(t){s.postMessage(t+"","*")},s.addEventListener("message",C,!1)):r=y in l("script")?function(t){c.appendChild(l("script"))[y]=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:d,clear:h}},68012:function(t,e,n){var r=n(73328),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},66544:function(t,e,n){var r=n(73328),i=n(91304);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},73328:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},61368:function(t,e,n){var r=n(49376),i=n(39484);t.exports=function(t){return r(i(t))}},91304:function(t,e,n){var r=n(73328),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},4944:function(t,e,n){var r=n(39484);t.exports=function(t){return Object(r(t))}},84484:function(t,e,n){var r=n(74988);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},91160:function(t,e,n){"use strict";if(n(73176)){var r=n(91684),i=n(35160),o=n(32232),a=n(86524),u=n(3640),c=n(47764),l=n(92820),s=n(78696),f=n(17592),d=n(62432),h=n(79388),p=n(73328),v=n(91304),g=n(66544),m=n(68012),y=n(84484),b=n(55408),C=n(50108),x=n(74988),w=n(4944),E=n(98488),S=n(51172),k=n(81316),D=n(25588).f,A=n(76352),I=n(11608),M=n(12400),T=n(99060),B=n(39432),F=n(13312),L=n(63e3),R=n(87460),_=n(25112),N=n(38576),P=n(85032),O=n(83892),j=n(73792),G=n(3652),z=j.f,U=G.f,W=i.RangeError,Q=i.TypeError,Z=i.Uint8Array,J="ArrayBuffer",H="Shared"+J,V="BYTES_PER_ELEMENT",K="prototype",Y=Array[K],q=c.ArrayBuffer,X=c.DataView,$=T(0),tt=T(2),et=T(3),nt=T(4),rt=T(5),it=T(6),ot=B(!0),at=B(!1),ut=L.values,ct=L.keys,lt=L.entries,st=Y.lastIndexOf,ft=Y.reduce,dt=Y.reduceRight,ht=Y.join,pt=Y.sort,vt=Y.slice,gt=Y.toString,mt=Y.toLocaleString,yt=M("iterator"),bt=M("toStringTag"),Ct=I("typed_constructor"),xt=I("def_constructor"),wt=u.CONSTR,Et=u.TYPED,St=u.VIEW,kt="Wrong length!",Dt=T(1,(function(t,e){return Bt(F(t,t[xt]),e)})),At=o((function(){return 1===new Z(new Uint16Array([1]).buffer)[0]})),It=!!Z&&!!Z[K].set&&o((function(){new Z(1).set({})})),Mt=function(t,e){var n=p(t);if(n<0||n%e)throw W("Wrong offset!");return n},Tt=function(t){if(x(t)&&Et in t)return t;throw Q(t+" is not a typed array!")},Bt=function(t,e){if(!x(t)||!(Ct in t))throw Q("It is not a typed array constructor!");return new t(e)},Ft=function(t,e){return Lt(F(t,t[xt]),e)},Lt=function(t,e){for(var n=0,r=e.length,i=Bt(t,r);r>n;)i[n]=e[n++];return i},Rt=function(t,e,n){z(t,e,{get:function(){return this._d[n]}})},_t=function(t){var e,n,r,i,o,a,u=w(t),c=arguments.length,s=c>1?arguments[1]:void 0,f=void 0!==s,d=A(u);if(null!=d&&!E(d)){for(a=d.call(u),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);u=r}for(f&&c>2&&(s=l(s,arguments[2],2)),e=0,n=v(u.length),i=Bt(this,n);n>e;e++)i[e]=f?s(u[e],e):u[e];return i},Nt=function(){for(var t=0,e=arguments.length,n=Bt(this,e);e>t;)n[t]=arguments[t++];return n},Pt=!!Z&&o((function(){mt.call(new Z(1))})),Ot=function(){return mt.apply(Pt?vt.call(Tt(this)):Tt(this),arguments)},jt={copyWithin:function(t,e){return O.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return P.apply(Tt(this),arguments)},filter:function(t){return Ft(this,tt(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(Tt(this),arguments)},lastIndexOf:function(t){return st.apply(Tt(this),arguments)},map:function(t){return Dt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ft.apply(Tt(this),arguments)},reduceRight:function(t){return dt.apply(Tt(this),arguments)},reverse:function(){for(var t,e=this,n=Tt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),r=n.length,i=m(t,r);return new(F(n,n[xt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:m(e,r))-i))}},Gt=function(t,e){return Ft(this,vt.call(Tt(this),t,e))},zt=function(t){Tt(this);var e=Mt(arguments[1],1),n=this.length,r=w(t),i=v(r.length),o=0;if(i+e>n)throw W(kt);for(;o<i;)this[e+o]=r[o++]},Ut={entries:function(){return lt.call(Tt(this))},keys:function(){return ct.call(Tt(this))},values:function(){return ut.call(Tt(this))}},Wt=function(t,e){return x(t)&&t[Et]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Qt=function(t,e){return Wt(t,e=y(e,!0))?f(2,t[e]):U(t,e)},Zt=function(t,e,n){return!(Wt(t,e=y(e,!0))&&x(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?z(t,e,n):(t[e]=n.value,t)};wt||(G.f=Qt,j.f=Zt),a(a.S+a.F*!wt,"Object",{getOwnPropertyDescriptor:Qt,defineProperty:Zt}),o((function(){gt.call({})}))&&(gt=mt=function(){return ht.call(this)});var Jt=h({},jt);h(Jt,Ut),d(Jt,yt,Ut.values),h(Jt,{slice:Gt,set:zt,constructor:function(){},toString:gt,toLocaleString:Ot}),Rt(Jt,"buffer","b"),Rt(Jt,"byteOffset","o"),Rt(Jt,"byteLength","l"),Rt(Jt,"length","e"),z(Jt,bt,{get:function(){return this[Et]}}),t.exports=function(t,e,n,c){var l=t+((c=!!c)?"Clamped":"")+"Array",f="get"+t,h="set"+t,p=i[l],m=p||{},y=p&&k(p),b=!p||!u.ABV,w={},E=p&&p[K],A=function(t,n){z(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[f](n*e+r.o,At)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*e+i.o,r,At)}(this,n,t)},enumerable:!0})};b?(p=n((function(t,n,r,i){s(t,p,l,"_d");var o,a,u,c,f=0,h=0;if(x(n)){if(!(n instanceof q||(c=C(n))==J||c==H))return Et in n?Lt(p,n):_t.call(p,n);o=n,h=Mt(r,e);var m=n.byteLength;if(void 0===i){if(m%e)throw W(kt);if((a=m-h)<0)throw W(kt)}else if((a=v(i)*e)+h>m)throw W(kt);u=a/e}else u=g(n),o=new q(a=u*e);for(d(t,"_d",{b:o,o:h,l:a,e:u,v:new X(o)});f<u;)A(t,f++)})),E=p[K]=S(Jt),d(E,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&_((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,r,i){var o;return s(t,p,l),x(n)?n instanceof q||(o=C(n))==J||o==H?void 0!==i?new m(n,Mt(r,e),i):void 0!==r?new m(n,Mt(r,e)):new m(n):Et in n?Lt(p,n):_t.call(p,n):new m(g(n))})),$(y!==Function.prototype?D(m).concat(D(y)):D(m),(function(t){t in p||d(p,t,m[t])})),p[K]=E,r||(E.constructor=p));var I=E[yt],M=!!I&&("values"==I.name||null==I.name),T=Ut.values;d(p,Ct,!0),d(E,Et,l),d(E,St,!0),d(E,xt,p),(c?new p(1)[bt]==l:bt in E)||z(E,bt,{get:function(){return l}}),w[l]=p,a(a.G+a.W+a.F*(p!=m),w),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){m.of.call(p,1)})),l,{from:_t,of:Nt}),V in E||d(E,V,e),a(a.P,l,jt),N(l),a(a.P+a.F*It,l,{set:zt}),a(a.P+a.F*!M,l,Ut),r||E.toString==gt||(E.toString=gt),a(a.P+a.F*o((function(){new p(1).slice()})),l,{slice:Gt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){E.toLocaleString.call([1,2])}))),l,{toLocaleString:Ot}),R[l]=M?I:T,r||M||d(E,yt,T)}}else t.exports=function(){}},47764:function(t,e,n){"use strict";var r=n(35160),i=n(73176),o=n(91684),a=n(3640),u=n(62432),c=n(79388),l=n(32232),s=n(78696),f=n(73328),d=n(91304),h=n(66544),p=n(25588).f,v=n(73792).f,g=n(85032),m=n(94024),y="ArrayBuffer",b="DataView",C="prototype",x="Wrong index!",w=r[y],E=r[b],S=r.Math,k=r.RangeError,D=r.Infinity,A=w,I=S.abs,M=S.pow,T=S.floor,B=S.log,F=S.LN2,L="buffer",R="byteLength",_="byteOffset",N=i?"_b":L,P=i?"_l":R,O=i?"_o":_;function j(t,e,n){var r,i,o,a=new Array(n),u=8*n-e-1,c=(1<<u)-1,l=c>>1,s=23===e?M(2,-24)-M(2,-77):0,f=0,d=t<0||0===t&&1/t<0?1:0;for((t=I(t))!=t||t===D?(i=t!=t?1:0,r=c):(r=T(B(t)/F),t*(o=M(2,-r))<1&&(r--,o*=2),(t+=r+l>=1?s/o:s*M(2,1-l))*o>=2&&(r++,o/=2),r+l>=c?(i=0,r=c):r+l>=1?(i=(t*o-1)*M(2,e),r+=l):(i=t*M(2,l-1)*M(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,u+=e;u>0;a[f++]=255&r,r/=256,u-=8);return a[--f]|=128*d,a}function G(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,u=i-7,c=n-1,l=t[c--],s=127&l;for(l>>=7;u>0;s=256*s+t[c],c--,u-=8);for(r=s&(1<<-u)-1,s>>=-u,u+=e;u>0;r=256*r+t[c],c--,u-=8);if(0===s)s=1-a;else{if(s===o)return r?NaN:l?-D:D;r+=M(2,e),s-=a}return(l?-1:1)*r*M(2,s-e)}function z(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function U(t){return[255&t]}function W(t){return[255&t,t>>8&255]}function Q(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function Z(t){return j(t,52,8)}function J(t){return j(t,23,4)}function H(t,e,n){v(t[C],e,{get:function(){return this[n]}})}function V(t,e,n,r){var i=h(+n);if(i+e>t[P])throw k(x);var o=t[N]._b,a=i+t[O],u=o.slice(a,a+e);return r?u:u.reverse()}function K(t,e,n,r,i,o){var a=h(+n);if(a+e>t[P])throw k(x);for(var u=t[N]._b,c=a+t[O],l=r(+i),s=0;s<e;s++)u[c+s]=l[o?s:e-s-1]}if(a.ABV){if(!l((function(){w(1)}))||!l((function(){new w(-1)}))||l((function(){return new w,new w(1.5),new w(NaN),w.name!=y}))){for(var Y,q=(w=function(t){return s(this,w),new A(h(t))})[C]=A[C],X=p(A),$=0;X.length>$;)(Y=X[$++])in w||u(w,Y,A[Y]);o||(q.constructor=w)}var tt=new E(new w(2)),et=E[C].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||c(E[C],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else w=function(t){s(this,w,y);var e=h(t);this._b=g.call(new Array(e),0),this[P]=e},E=function(t,e,n){s(this,E,b),s(t,w,b);var r=t[P],i=f(e);if(i<0||i>r)throw k("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw k("Wrong length!");this[N]=t,this[O]=i,this[P]=n},i&&(H(w,R,"_l"),H(E,L,"_b"),H(E,R,"_l"),H(E,_,"_o")),c(E[C],{getInt8:function(t){return V(this,1,t)[0]<<24>>24},getUint8:function(t){return V(this,1,t)[0]},getInt16:function(t){var e=V(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=V(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return z(V(this,4,t,arguments[1]))},getUint32:function(t){return z(V(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return G(V(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return G(V(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){K(this,1,t,U,e)},setUint8:function(t,e){K(this,1,t,U,e)},setInt16:function(t,e){K(this,2,t,W,e,arguments[2])},setUint16:function(t,e){K(this,2,t,W,e,arguments[2])},setInt32:function(t,e){K(this,4,t,Q,e,arguments[2])},setUint32:function(t,e){K(this,4,t,Q,e,arguments[2])},setFloat32:function(t,e){K(this,4,t,J,e,arguments[2])},setFloat64:function(t,e){K(this,8,t,Z,e,arguments[2])}});m(w,y),m(E,b),u(E[C],a.VIEW,!0),e[y]=w,e[b]=E},3640:function(t,e,n){for(var r,i=n(35160),o=n(62432),a=n(11608),u=a("typed_array"),c=a("view"),l=!(!i.ArrayBuffer||!i.DataView),s=l,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,u,!0),o(r.prototype,c,!0)):s=!1;t.exports={ABV:l,CONSTR:s,TYPED:u,VIEW:c}},11608:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},71528:function(t,e,n){var r=n(35160).navigator;t.exports=r&&r.userAgent||""},34880:function(t,e,n){var r=n(74988);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},67984:function(t,e,n){var r=n(35160),i=n(39892),o=n(91684),a=n(63784),u=n(73792).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},63784:function(t,e,n){e.f=n(12400)},12400:function(t,e,n){var r=n(22752)("wks"),i=n(11608),o=n(35160).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},76352:function(t,e,n){var r=n(50108),i=n(12400)("iterator"),o=n(87460);t.exports=n(39892).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},9664:function(t,e,n){var r=n(86524);r(r.P,"Array",{copyWithin:n(83892)}),n(57224)("copyWithin")},97700:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(4);r(r.P+r.F*!n(46856)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},36060:function(t,e,n){var r=n(86524);r(r.P,"Array",{fill:n(85032)}),n(57224)("fill")},17976:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(2);r(r.P+r.F*!n(46856)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},71380:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(57224)(o)},44900:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(57224)(o)},78084:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(0),o=n(46856)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},83096:function(t,e,n){"use strict";var r=n(92820),i=n(86524),o=n(4944),a=n(60396),u=n(98488),c=n(91304),l=n(23040),s=n(76352);i(i.S+i.F*!n(25112)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,f,d=o(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,y=s(d);if(g&&(v=r(v,p>2?arguments[2]:void 0,2)),null==y||h==Array&&u(y))for(n=new h(e=c(d.length));e>m;m++)l(n,m,g?v(d[m],m):d[m]);else for(f=y.call(d),n=new h;!(i=f.next()).done;m++)l(n,m,g?a(f,v,[i.value,m],!0):i.value);return n.length=m,n}})},72996:function(t,e,n){"use strict";var r=n(86524),i=n(39432)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(46856)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},2200:function(t,e,n){var r=n(86524);r(r.S,"Array",{isArray:n(83464)})},63e3:function(t,e,n){"use strict";var r=n(57224),i=n(60808),o=n(87460),a=n(61368);t.exports=n(70488)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},92872:function(t,e,n){"use strict";var r=n(86524),i=n(61368),o=[].join;r(r.P+r.F*(n(49376)!=Object||!n(46856)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},8408:function(t,e,n){"use strict";var r=n(86524),i=n(61368),o=n(73328),a=n(91304),u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(46856)(u)),"Array",{lastIndexOf:function(t){if(c)return u.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},41724:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(1);r(r.P+r.F*!n(46856)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},6656:function(t,e,n){"use strict";var r=n(86524),i=n(23040);r(r.S+r.F*n(32232)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},54924:function(t,e,n){"use strict";var r=n(86524),i=n(18692);r(r.P+r.F*!n(46856)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},12320:function(t,e,n){"use strict";var r=n(86524),i=n(18692);r(r.P+r.F*!n(46856)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},64016:function(t,e,n){"use strict";var r=n(86524),i=n(37960),o=n(24144),a=n(68012),u=n(91304),c=[].slice;r(r.P+r.F*n(32232)((function(){i&&c.call(i)})),"Array",{slice:function(t,e){var n=u(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return c.call(this,t,e);for(var i=a(t,n),l=a(e,n),s=u(l-i),f=new Array(s),d=0;d<s;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},91204:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(3);r(r.P+r.F*!n(46856)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},4760:function(t,e,n){"use strict";var r=n(86524),i=n(60467),o=n(4944),a=n(32232),u=[].sort,c=[1,2,3];r(r.P+r.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!n(46856)(u)),"Array",{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),i(t))}})},1064:function(t,e,n){n(38576)("Array")},77980:function(t,e,n){var r=n(86524);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},91344:function(t,e,n){var r=n(86524),i=n(71440);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},59440:function(t,e,n){"use strict";var r=n(86524),i=n(4944),o=n(84484);r(r.P+r.F*n(32232)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},66824:function(t,e,n){var r=n(12400)("toPrimitive"),i=Date.prototype;r in i||n(62432)(i,r,n(79060))},85336:function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],u=r.getTime;new Date(NaN)+""!=i&&n(16901)(r,o,(function(){var t=u.call(this);return t==t?a.call(this):i}))},14280:function(t,e,n){var r=n(86524);r(r.P,"Function",{bind:n(5280)})},76496:function(t,e,n){"use strict";var r=n(74988),i=n(81316),o=n(12400)("hasInstance"),a=Function.prototype;o in a||n(73792).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},76032:function(t,e,n){var r=n(73792).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(73176)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},37352:function(t,e,n){"use strict";var r=n(89884),i=n(34880),o="Map";t.exports=n(57821)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},32992:function(t,e,n){var r=n(86524),i=n(38808),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},24760:function(t,e,n){var r=n(86524),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},58187:function(t,e,n){var r=n(86524),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},7064:function(t,e,n){var r=n(86524),i=n(97011);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},64936:function(t,e,n){var r=n(86524);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},77808:function(t,e,n){var r=n(86524),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},52532:function(t,e,n){var r=n(86524),i=n(860);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},98769:function(t,e,n){var r=n(86524);r(r.S,"Math",{fround:n(21360)})},88152:function(t,e,n){var r=n(86524),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,u=arguments.length,c=0;a<u;)c<(n=i(arguments[a++]))?(o=o*(r=c/n)*r+1,c=n):o+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(o)}})},78204:function(t,e,n){var r=n(86524),i=Math.imul;r(r.S+r.F*n(32232)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},5988:function(t,e,n){var r=n(86524);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},83127:function(t,e,n){var r=n(86524);r(r.S,"Math",{log1p:n(38808)})},71160:function(t,e,n){var r=n(86524);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},27664:function(t,e,n){var r=n(86524);r(r.S,"Math",{sign:n(97011)})},77772:function(t,e,n){var r=n(86524),i=n(860),o=Math.exp;r(r.S+r.F*n(32232)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},91760:function(t,e,n){var r=n(86524),i=n(860),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},84016:function(t,e,n){var r=n(86524);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},57360:function(t,e,n){"use strict";var r=n(35160),i=n(55408),o=n(24144),a=n(79768),u=n(84484),c=n(32232),l=n(25588).f,s=n(3652).f,f=n(73792).f,d=n(3772).trim,h="Number",p=r[h],v=p,g=p.prototype,m=o(n(51172)(g))==h,y="trim"in String.prototype,b=function(t){var e=u(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=y?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,c=e.slice(2),l=0,s=c.length;l<s;l++)if((a=c.charCodeAt(l))<48||a>i)return NaN;return parseInt(c,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(m?c((function(){g.valueOf.call(n)})):o(n)!=h)?a(new v(b(e)),n,p):b(e)};for(var C,x=n(73176)?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)i(v,C=x[w])&&!i(p,C)&&f(p,C,s(v,C));p.prototype=g,g.constructor=p,n(16901)(r,h,p)}},38880:function(t,e,n){var r=n(86524);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},65160:function(t,e,n){var r=n(86524),i=n(35160).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},90328:function(t,e,n){var r=n(86524);r(r.S,"Number",{isInteger:n(6e4)})},36904:function(t,e,n){var r=n(86524);r(r.S,"Number",{isNaN:function(t){return t!=t}})},72300:function(t,e,n){var r=n(86524),i=n(6e4),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},85368:function(t,e,n){var r=n(86524);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},73208:function(t,e,n){var r=n(86524);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},8700:function(t,e,n){var r=n(86524),i=n(77860);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},2320:function(t,e,n){var r=n(86524),i=n(11396);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},77656:function(t,e,n){"use strict";var r=n(86524),i=n(73328),o=n(16712),a=n(16496),u=1..toFixed,c=Math.floor,l=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",f="0",d=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=c(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=c(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+a.call(f,7-n.length)+n}return e},v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)};r(r.P+r.F*(!!u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(32232)((function(){u.call({})}))),"Number",{toFixed:function(t){var e,n,r,u,c=o(this,s),l=i(t),g="",m=f;if(l<0||l>20)throw RangeError(s);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(c*v(2,69,1))-69,n=e<0?c*v(2,-e,1):c/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(d(0,n),r=l;r>=7;)d(1e7,0),r-=7;for(d(v(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),d(1,1),h(2),m=p()}else d(0,n),d(1<<-e,0),m=p()+a.call(f,l);return m=l>0?g+((u=m.length)<=l?"0."+a.call(f,l-u)+m:m.slice(0,u-l)+"."+m.slice(u-l)):g+m}})},42556:function(t,e,n){"use strict";var r=n(86524),i=n(32232),o=n(16712),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},65712:function(t,e,n){var r=n(86524);r(r.S+r.F,"Object",{assign:n(72900)})},16156:function(t,e,n){var r=n(86524);r(r.S,"Object",{create:n(51172)})},37536:function(t,e,n){var r=n(86524);r(r.S+r.F*!n(73176),"Object",{defineProperties:n(27760)})},63196:function(t,e,n){var r=n(86524);r(r.S+r.F*!n(73176),"Object",{defineProperty:n(73792).f})},40004:function(t,e,n){var r=n(74988),i=n(48500).onFreeze;n(65084)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},16872:function(t,e,n){var r=n(61368),i=n(3652).f;n(65084)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},25724:function(t,e,n){n(65084)("getOwnPropertyNames",(function(){return n(61760).f}))},92360:function(t,e,n){var r=n(4944),i=n(81316);n(65084)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},37092:function(t,e,n){var r=n(74988);n(65084)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},4668:function(t,e,n){var r=n(74988);n(65084)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},17272:function(t,e,n){var r=n(74988);n(65084)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},43188:function(t,e,n){var r=n(86524);r(r.S,"Object",{is:n(10240)})},21112:function(t,e,n){var r=n(4944),i=n(5576);n(65084)("keys",(function(){return function(t){return i(r(t))}}))},24336:function(t,e,n){var r=n(74988),i=n(48500).onFreeze;n(65084)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},35264:function(t,e,n){var r=n(74988),i=n(48500).onFreeze;n(65084)("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},3088:function(t,e,n){var r=n(86524);r(r.S,"Object",{setPrototypeOf:n(2664).set})},85168:function(t,e,n){"use strict";var r=n(50108),i={};i[n(12400)("toStringTag")]="z",i+""!="[object z]"&&n(16901)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},7200:function(t,e,n){var r=n(86524),i=n(77860);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},78228:function(t,e,n){var r=n(86524),i=n(11396);r(r.G+r.F*(parseInt!=i),{parseInt:i})},75876:function(t,e,n){"use strict";var r,i,o,a,u=n(91684),c=n(35160),l=n(92820),s=n(50108),f=n(86524),d=n(74988),h=n(60467),p=n(78696),v=n(98576),g=n(13312),m=n(2860).set,y=n(81320)(),b=n(54568),C=n(54744),x=n(71528),w=n(63732),E="Promise",S=c.TypeError,k=c.process,D=k&&k.versions,A=D&&D.v8||"",I=c[E],M="process"==s(k),T=function(){},B=i=b.f,F=!!function(){try{var t=I.resolve(1),e=(t.constructor={})[n(12400)("species")]=function(t){t(T,T)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==A.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),L=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,u=i?e.ok:e.fail,c=e.resolve,l=e.reject,s=e.domain;try{u?(i||(2==t._h&&P(t),t._h=1),!0===u?n=r:(s&&s.enter(),n=u(r),s&&(s.exit(),a=!0)),n===e.promise?l(S("Promise-chain cycle")):(o=L(n))?o.call(n,c,l):c(n)):l(r)}catch(t){s&&!a&&s.exit(),l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&_(t)}))}},_=function(t){m.call(c,(function(){var e,n,r,i=t._v,o=N(t);if(o&&(e=C((function(){M?k.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=M||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){m.call(c,(function(){var e;M?k.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},O=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},j=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=L(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,l(j,r,1),l(O,r,1))}catch(t){O.call(r,t)}})):(n._v=t,n._s=1,R(n,!1))}catch(t){O.call({_w:n,_d:!1},t)}}};F||(I=function(t){p(this,I,E,"_h"),h(t),r.call(this);try{t(l(j,this,1),l(O,this,1))}catch(t){O.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(79388)(I.prototype,{then:function(t,e){var n=B(g(this,I));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=M?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(j,t,1),this.reject=l(O,t,1)},b.f=B=function(t){return t===I||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!F,{Promise:I}),n(94024)(I,E),n(38576)(E),a=n(39892)[E],f(f.S+f.F*!F,E,{reject:function(t){var e=B(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(u||!F),E,{resolve:function(t){return w(u&&this===a?I:this,t)}}),f(f.S+f.F*!(F&&n(25112)((function(t){I.all(t).catch(T)}))),E,{all:function(t){var e=this,n=B(e),r=n.resolve,i=n.reject,o=C((function(){var n=[],o=0,a=1;v(t,!1,(function(t){var u=o++,c=!1;n.push(void 0),a++,e.resolve(t).then((function(t){c||(c=!0,n[u]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=B(e),r=n.reject,i=C((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},12960:function(t,e,n){var r=n(86524),i=n(60467),o=n(43192),a=(n(35160).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n(32232)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),c=o(n);return a?a(r,e,c):u.call(r,e,c)}})},59080:function(t,e,n){var r=n(86524),i=n(51172),o=n(60467),a=n(43192),u=n(74988),c=n(32232),l=n(5280),s=(n(35160).Reflect||{}).construct,f=c((function(){function t(){}return!(s((function(){}),[],t)instanceof t)})),d=!c((function(){s((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!f)return s(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var c=n.prototype,h=i(u(c)?c:Object.prototype),p=Function.apply.call(t,h,e);return u(p)?p:h}})},33464:function(t,e,n){var r=n(73792),i=n(86524),o=n(43192),a=n(84484);i(i.S+i.F*n(32232)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},16968:function(t,e,n){var r=n(86524),i=n(3652).f,o=n(43192);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},22716:function(t,e,n){"use strict";var r=n(86524),i=n(43192),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(13696)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},96864:function(t,e,n){var r=n(3652),i=n(86524),o=n(43192);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},42864:function(t,e,n){var r=n(86524),i=n(81316),o=n(43192);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},39860:function(t,e,n){var r=n(3652),i=n(81316),o=n(55408),a=n(86524),u=n(74988),c=n(43192);a(a.S,"Reflect",{get:function t(e,n){var a,l,s=arguments.length<3?e:arguments[2];return c(e)===s?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(s):void 0:u(l=i(e))?t(l,n,s):void 0}})},70992:function(t,e,n){var r=n(86524);r(r.S,"Reflect",{has:function(t,e){return e in t}})},14232:function(t,e,n){var r=n(86524),i=n(43192),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},42772:function(t,e,n){var r=n(86524);r(r.S,"Reflect",{ownKeys:n(40736)})},51412:function(t,e,n){var r=n(86524),i=n(43192),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},20024:function(t,e,n){var r=n(86524),i=n(2664);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},92152:function(t,e,n){var r=n(73792),i=n(3652),o=n(81316),a=n(55408),u=n(86524),c=n(17592),l=n(43192),s=n(74988);u(u.S,"Reflect",{set:function t(e,n,u){var f,d,h=arguments.length<4?e:arguments[3],p=i.f(l(e),n);if(!p){if(s(d=o(e)))return t(d,n,u,h);p=c(0)}if(a(p,"value")){if(!1===p.writable||!s(h))return!1;if(f=i.f(h,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=u,r.f(h,n,f)}else r.f(h,n,c(0,u));return!0}return void 0!==p.set&&(p.set.call(h,u),!0)}})},75320:function(t,e,n){var r=n(35160),i=n(79768),o=n(73792).f,a=n(25588).f,u=n(11312),c=n(47448),l=r.RegExp,s=l,f=l.prototype,d=/a/g,h=/a/g,p=new l(d)!==d;if(n(73176)&&(!p||n(32232)((function(){return h[n(12400)("match")]=!1,l(d)!=d||l(h)==h||"/a/i"!=l(d,"i")})))){l=function(t,e){var n=this instanceof l,r=u(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(p?new s(r&&!o?t.source:t,e):s((r=t instanceof l)?t.source:t,r&&o?c.call(t):e),n?this:f,l)};for(var v=function(t){t in l||o(l,t,{configurable:!0,get:function(){return s[t]},set:function(e){s[t]=e}})},g=a(s),m=0;g.length>m;)v(g[m++]);f.constructor=l,l.prototype=f,n(16901)(r,"RegExp",l)}n(38576)("RegExp")},43572:function(t,e,n){"use strict";var r=n(2008);n(86524)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},67720:function(t,e,n){n(73176)&&"g"!=/./g.flags&&n(73792).f(RegExp.prototype,"flags",{configurable:!0,get:n(47448)})},2760:function(t,e,n){"use strict";var r=n(43192),i=n(91304),o=n(85360),a=n(98448);n(3424)("match",1,(function(t,e,n,u){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=u(n,t,this);if(e.done)return e.value;var c=r(t),l=String(this);if(!c.global)return a(c,l);var s=c.unicode;c.lastIndex=0;for(var f,d=[],h=0;null!==(f=a(c,l));){var p=String(f[0]);d[h]=p,""===p&&(c.lastIndex=o(l,i(c.lastIndex),s)),h++}return 0===h?null:d}]}))},34124:function(t,e,n){"use strict";var r=n(43192),i=n(4944),o=n(91304),a=n(73328),u=n(85360),c=n(98448),l=Math.max,s=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n(3424)("replace",2,(function(t,e,n,p){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var f=r(t),d=String(this),h="function"==typeof e;h||(e=String(e));var g=f.global;if(g){var m=f.unicode;f.lastIndex=0}for(var y=[];;){var b=c(f,d);if(null===b)break;if(y.push(b),!g)break;""===String(b[0])&&(f.lastIndex=u(d,o(f.lastIndex),m))}for(var C,x="",w=0,E=0;E<y.length;E++){b=y[E];for(var S=String(b[0]),k=l(s(a(b.index),d.length),0),D=[],A=1;A<b.length;A++)D.push(void 0===(C=b[A])?C:String(C));var I=b.groups;if(h){var M=[S].concat(D,k,d);void 0!==I&&M.push(I);var T=String(e.apply(void 0,M))}else T=v(S,d,k,D,I,e);k>=w&&(x+=d.slice(w,k)+T,w=k+S.length)}return x+d.slice(w)}];function v(t,e,r,o,a,u){var c=r+t.length,l=o.length,s=h;return void 0!==a&&(a=i(a),s=d),n.call(u,s,(function(n,i){var u;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":u=a[i.slice(1,-1)];break;default:var s=+i;if(0===s)return n;if(s>l){var d=f(s/10);return 0===d?n:d<=l?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}u=o[s-1]}return void 0===u?"":u}))}}))},9272:function(t,e,n){"use strict";var r=n(43192),i=n(10240),o=n(98448);n(3424)("search",1,(function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var u=r(t),c=String(this),l=u.lastIndex;i(l,0)||(u.lastIndex=0);var s=o(u,c);return i(u.lastIndex,l)||(u.lastIndex=l),null===s?-1:s.index}]}))},76264:function(t,e,n){"use strict";var r=n(11312),i=n(43192),o=n(13312),a=n(85360),u=n(91304),c=n(98448),l=n(2008),s=n(32232),f=Math.min,d=[].push,h="split",p="length",v="lastIndex",g=4294967295,m=!s((function(){RegExp(g,"y")}));n(3424)("split",2,(function(t,e,n,s){var y;return y="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,u,c=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?g:e>>>0,m=new RegExp(t.source,s+"g");(o=l.call(m,i))&&!((a=m[v])>f&&(c.push(i.slice(f,o.index)),o[p]>1&&o.index<i[p]&&d.apply(c,o.slice(1)),u=o[0][p],f=a,c[p]>=h));)m[v]===o.index&&m[v]++;return f===i[p]?!u&&m.test("")||c.push(""):c.push(i.slice(f)),c[p]>h?c.slice(0,h):c}:"0"[h](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(t,e){var r=s(y,t,this,e,y!==n);if(r.done)return r.value;var l=i(t),d=String(this),h=o(l,RegExp),p=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(m?"y":"g"),b=new h(m?l:"^(?:"+l.source+")",v),C=void 0===e?g:e>>>0;if(0===C)return[];if(0===d.length)return null===c(b,d)?[d]:[];for(var x=0,w=0,E=[];w<d.length;){b.lastIndex=m?w:0;var S,k=c(b,m?d:d.slice(w));if(null===k||(S=f(u(b.lastIndex+(m?0:w)),d.length))===x)w=a(d,w,p);else{if(E.push(d.slice(x,w)),E.length===C)return E;for(var D=1;D<=k.length-1;D++)if(E.push(k[D]),E.length===C)return E;w=x=S}}return E.push(d.slice(x)),E}]}))},68216:function(t,e,n){"use strict";n(67720);var r=n(43192),i=n(47448),o=n(73176),a="toString",u=/./[a],c=function(t){n(16901)(RegExp.prototype,a,t,!0)};n(32232)((function(){return"/a/b"!=u.call({source:"a",flags:"b"})}))?c((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):u.name!=a&&c((function(){return u.call(this)}))},13480:function(t,e,n){"use strict";var r=n(89884),i=n(34880);t.exports=n(57821)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},46024:function(t,e,n){"use strict";n(60016)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},20416:function(t,e,n){"use strict";n(60016)("big",(function(t){return function(){return t(this,"big","","")}}))},82856:function(t,e,n){"use strict";n(60016)("blink",(function(t){return function(){return t(this,"blink","","")}}))},22020:function(t,e,n){"use strict";n(60016)("bold",(function(t){return function(){return t(this,"b","","")}}))},72564:function(t,e,n){"use strict";var r=n(86524),i=n(80152)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},53160:function(t,e,n){"use strict";var r=n(86524),i=n(91304),o=n(6060),a="endsWith",u=""[a];r(r.P+r.F*n(81048)(a),"String",{endsWith:function(t){var e=o(this,t,a),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),c=void 0===n?r:Math.min(i(n),r),l=String(t);return u?u.call(e,l,c):e.slice(c-l.length,c)===l}})},32420:function(t,e,n){"use strict";n(60016)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},85704:function(t,e,n){"use strict";n(60016)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},47028:function(t,e,n){"use strict";n(60016)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},91224:function(t,e,n){var r=n(86524),i=n(68012),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},29600:function(t,e,n){"use strict";var r=n(86524),i=n(6060),o="includes";r(r.P+r.F*n(81048)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},92928:function(t,e,n){"use strict";n(60016)("italics",(function(t){return function(){return t(this,"i","","")}}))},8792:function(t,e,n){"use strict";var r=n(80152)(!0);n(70488)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},72548:function(t,e,n){"use strict";n(60016)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},37160:function(t,e,n){var r=n(86524),i=n(61368),o=n(91304);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],u=0;n>u;)a.push(String(e[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},89296:function(t,e,n){var r=n(86524);r(r.P,"String",{repeat:n(16496)})},33372:function(t,e,n){"use strict";n(60016)("small",(function(t){return function(){return t(this,"small","","")}}))},43932:function(t,e,n){"use strict";var r=n(86524),i=n(91304),o=n(6060),a="startsWith",u=""[a];r(r.P+r.F*n(81048)(a),"String",{startsWith:function(t){var e=o(this,t,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return u?u.call(e,r,n):e.slice(n,n+r.length)===r}})},65308:function(t,e,n){"use strict";n(60016)("strike",(function(t){return function(){return t(this,"strike","","")}}))},13928:function(t,e,n){"use strict";n(60016)("sub",(function(t){return function(){return t(this,"sub","","")}}))},78272:function(t,e,n){"use strict";n(60016)("sup",(function(t){return function(){return t(this,"sup","","")}}))},74652:function(t,e,n){"use strict";n(3772)("trim",(function(t){return function(){return t(this,3)}}))},89032:function(t,e,n){"use strict";var r=n(35160),i=n(55408),o=n(73176),a=n(86524),u=n(16901),c=n(48500).KEY,l=n(32232),s=n(22752),f=n(94024),d=n(11608),h=n(12400),p=n(63784),v=n(67984),g=n(92264),m=n(83464),y=n(43192),b=n(74988),C=n(4944),x=n(61368),w=n(84484),E=n(17592),S=n(51172),k=n(61760),D=n(3652),A=n(98844),I=n(73792),M=n(5576),T=D.f,B=I.f,F=k.f,L=r.Symbol,R=r.JSON,_=R&&R.stringify,N="prototype",P=h("_hidden"),O=h("toPrimitive"),j={}.propertyIsEnumerable,G=s("symbol-registry"),z=s("symbols"),U=s("op-symbols"),W=Object[N],Q="function"==typeof L&&!!A.f,Z=r.QObject,J=!Z||!Z[N]||!Z[N].findChild,H=o&&l((function(){return 7!=S(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=T(W,e);r&&delete W[e],B(t,e,n),r&&t!==W&&B(W,e,r)}:B,V=function(t){var e=z[t]=S(L[N]);return e._k=t,e},K=Q&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Y=function(t,e,n){return t===W&&Y(U,e,n),y(t),e=w(e,!0),y(n),i(z,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=S(n,{enumerable:E(0,!1)})):(i(t,P)||B(t,P,E(1,{})),t[P][e]=!0),H(t,e,n)):B(t,e,n)},q=function(t,e){y(t);for(var n,r=g(e=x(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},X=function(t){var e=j.call(this,t=w(t,!0));return!(this===W&&i(z,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(z,t)||i(this,P)&&this[P][t])||e)},$=function(t,e){if(t=x(t),e=w(e,!0),t!==W||!i(z,e)||i(U,e)){var n=T(t,e);return!n||!i(z,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=F(x(t)),r=[],o=0;n.length>o;)i(z,e=n[o++])||e==P||e==c||r.push(e);return r},et=function(t){for(var e,n=t===W,r=F(n?U:x(t)),o=[],a=0;r.length>a;)!i(z,e=r[a++])||n&&!i(W,e)||o.push(z[e]);return o};Q||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(U,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),H(this,t,E(1,n))};return o&&J&&H(W,t,{configurable:!0,set:e}),V(t)},u(L[N],"toString",(function(){return this._k})),D.f=$,I.f=Y,n(25588).f=k.f=tt,n(13524).f=X,A.f=et,o&&!n(91684)&&u(W,"propertyIsEnumerable",X,!0),p.f=function(t){return V(h(t))}),a(a.G+a.W+a.F*!Q,{Symbol:L});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)h(nt[rt++]);for(var it=M(h.store),ot=0;it.length>ot;)v(it[ot++]);a(a.S+a.F*!Q,"Symbol",{for:function(t){return i(G,t+="")?G[t]:G[t]=L(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in G)if(G[e]===t)return e},useSetter:function(){J=!0},useSimple:function(){J=!1}}),a(a.S+a.F*!Q,"Object",{create:function(t,e){return void 0===e?S(t):q(S(t),e)},defineProperty:Y,defineProperties:q,getOwnPropertyDescriptor:$,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var at=l((function(){A.f(1)}));a(a.S+a.F*at,"Object",{getOwnPropertySymbols:function(t){return A.f(C(t))}}),R&&a(a.S+a.F*(!Q||l((function(){var t=L();return"[null]"!=_([t])||"{}"!=_({a:t})||"{}"!=_(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!K(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),r[1]=e,_.apply(R,r)}}),L[N][O]||n(62432)(L[N],O,L[N].valueOf),f(L,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},37664:function(t,e,n){"use strict";var r=n(86524),i=n(3640),o=n(47764),a=n(43192),u=n(68012),c=n(91304),l=n(74988),s=n(35160).ArrayBuffer,f=n(13312),d=o.ArrayBuffer,h=o.DataView,p=i.ABV&&s.isView,v=d.prototype.slice,g=i.VIEW,m="ArrayBuffer";r(r.G+r.W+r.F*(s!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,m,{isView:function(t){return p&&p(t)||l(t)&&g in t}}),r(r.P+r.U+r.F*n(32232)((function(){return!new d(2).slice(1,void 0).byteLength})),m,{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,r=u(t,n),i=u(void 0===e?n:e,n),o=new(f(this,d))(c(i-r)),l=new h(this),s=new h(o),p=0;r<i;)s.setUint8(p++,l.getUint8(r++));return o}}),n(38576)(m)},55892:function(t,e,n){var r=n(86524);r(r.G+r.W+r.F*!n(3640).ABV,{DataView:n(47764).DataView})},29992:function(t,e,n){n(91160)("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},46848:function(t,e,n){n(91160)("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},61915:function(t,e,n){n(91160)("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},68456:function(t,e,n){n(91160)("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},28280:function(t,e,n){n(91160)("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},45680:function(t,e,n){n(91160)("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},54276:function(t,e,n){n(91160)("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},664:function(t,e,n){n(91160)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},39588:function(t,e,n){n(91160)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},41800:function(t,e,n){"use strict";var r,i=n(35160),o=n(99060)(0),a=n(16901),u=n(48500),c=n(72900),l=n(77488),s=n(74988),f=n(34880),d=n(34880),h=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",v=u.getWeak,g=Object.isExtensible,m=l.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(s(t)){var e=v(t);return!0===e?m(f(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(f(this,p),t,e)}},C=t.exports=n(57821)(p,y,b,l,!0,!0);d&&h&&(c((r=l.getConstructor(y,p)).prototype,b),u.NEED=!0,o(["delete","has","get","set"],(function(t){var e=C.prototype,n=e[t];a(e,t,(function(e,i){if(s(e)&&!g(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},93744:function(t,e,n){"use strict";var r=n(77488),i=n(34880),o="WeakSet";n(57821)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},94796:function(t,e,n){"use strict";var r=n(86524),i=n(18444),o=n(4944),a=n(91304),u=n(60467),c=n(31460);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return u(t),e=a(r.length),n=c(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(57224)("flatMap")},78600:function(t,e,n){"use strict";var r=n(86524),i=n(39432)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(57224)("includes")},98440:function(t,e,n){var r=n(86524),i=n(92508)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},17492:function(t,e,n){var r=n(86524),i=n(40736),o=n(61368),a=n(3652),u=n(23040);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),c=a.f,l=i(r),s={},f=0;l.length>f;)void 0!==(n=c(r,e=l[f++]))&&u(s,e,n);return s}})},11836:function(t,e,n){var r=n(86524),i=n(92508)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},78792:function(t,e,n){"use strict";var r=n(86524),i=n(39892),o=n(35160),a=n(13312),u=n(63732);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}})},77392:function(t,e,n){"use strict";var r=n(86524),i=n(82912),o=n(71528),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},84768:function(t,e,n){"use strict";var r=n(86524),i=n(82912),o=n(71528),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},91928:function(t,e,n){"use strict";n(3772)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},5384:function(t,e,n){"use strict";n(3772)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},48632:function(t,e,n){n(67984)("asyncIterator")},10120:function(t,e,n){for(var r=n(63e3),i=n(5576),o=n(16901),a=n(35160),u=n(62432),c=n(87460),l=n(12400),s=l("iterator"),f=l("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var g,m=p[v],y=h[m],b=a[m],C=b&&b.prototype;if(C&&(C[s]||u(C,s,d),C[f]||u(C,f,m),c[m]=d,y))for(g in r)C[g]||o(C,g,r[g],!0)}},57212:function(t,e,n){var r=n(86524),i=n(2860);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},97016:function(t,e,n){var r=n(35160),i=n(86524),o=n(71528),a=[].slice,u=/MSIE .\./.test(o),c=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*u,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},52540:function(t,e,n){n(97016),n(57212),n(10120),t.exports=n(39892)},89843:function(t,e,n){t.exports=n(36128)},12388:function(t,e,n){t.exports=n(81324)},37152:function(t,e,n){t.exports=n(92960)},53684:function(t,e,n){t.exports=n(9452)},81744:function(t,e,n){t.exports=n(51188)},73400:function(t,e,n){t.exports=n(20104)},64136:function(t,e,n){t.exports=n(34963)},30479:function(t,e,n){t.exports=n(91924)},1508:function(t,e,n){t.exports=n(77444)},18860:function(t,e,n){t.exports=n(28320)},29636:function(t,e,n){t.exports=n(13352)},47332:function(t,e,n){t.exports=n(70120)},74741:function(t,e,n){t.exports=n(43676)},7312:function(t,e,n){t.exports=n(49372)},82600:function(t,e,n){t.exports=n(8760)},39568:function(t,e,n){t.exports=n(35720)},75668:function(t,e,n){n(5960)},75984:function(t,e,n){t.exports=n(48776)},45076:function(t,e,n){t.exports=n(69344)},96416:function(t,e,n){t.exports=n(87144)},12640:function(t,e,n){t.exports=n(27584)},65624:function(t,e,n){t.exports=n(59620)},6908:function(t,e,n){t.exports=n(84644)},11872:function(t,e,n){t.exports=n(9384)},49464:function(t,e,n){t.exports=n(28812)},52360:function(t,e,n){t.exports=n(59408)},5848:function(t,e,n){t.exports=n(24992)},39832:function(t,e,n){t.exports=n(69140)},88836:function(t,e,n){t.exports=n(62572)},28555:function(t,e,n){t.exports=n(92496)},92192:function(t,e,n){t.exports=n(54104)},26260:function(t,e,n){t.exports=n(72672)},63808:function(t,e,n){t.exports=n(62296)},45040:function(t,e,n){t.exports=n(68792)},31408:function(t,e,n){t.exports=n(37752)},24560:function(t,e,n){t.exports=n(38736)},20484:function(t,e,n){t.exports=n(9788)},55748:function(t,e,n){t.exports=n(35716)},54120:function(t,e,n){t.exports=n(56860)},27392:function(t,e,n){t.exports=n(43760)},39448:function(t,e,n){t.exports=n(9224)},57492:function(t,e,n){t.exports=n(48624)},69216:function(t,e,n){t.exports=n(72504)},48560:function(t,e,n){t.exports=n(50396)},47976:function(t,e,n){t.exports=n(10424)},66196:function(t,e,n){n(42648)},41256:function(t,e,n){t.exports=n(77052)},7224:function(t,e,n){t.exports=n(52136)},97552:function(t,e,n){t.exports=n(11480)},2992:function(t,e,n){t.exports=n(19516)},11984:function(t,e,n){t.exports=n(43252)},25448:function(t,e,n){t.exports=n(94088)},62360:function(t,e,n){t.exports=n(77932)},13760:function(t,e,n){t.exports=n(42592)},59312:function(t,e,n){t.exports=n(43328)},97440:function(t,e,n){t.exports=n(39928)},31192:function(t,e,n){t.exports=n(35184)},72600:function(t,e,n){t.exports=n(88308)},89472:function(t,e,n){t.exports=n(86167)},91648:function(t,e,n){t.exports=n(96680)},93920:function(t,e,n){t.exports=n(6164)},64248:function(t,e,n){t.exports=n(64800)},57548:function(t,e,n){t.exports=n(83620)},9712:function(t,e,n){t.exports=n(17456)},69268:function(t,e,n){t.exports=n(2732)},26568:function(t,e,n){t.exports=n(17893)},42484:function(t,e,n){t.exports=n(78772)},29656:function(t,e,n){t.exports=n(10384)},12484:function(t,e,n){t.exports=n(83576)},71072:function(t,e,n){t.exports=n(46656)},19692:function(t,e,n){t.exports=n(3568)},57312:function(t,e,n){t.exports=n(62952)},80075:function(t,e,n){t.exports=n(91864)},57328:function(t,e,n){t.exports=n(76008)},53140:function(t,e,n){t.exports=n(40624)},86724:function(t,e,n){t.exports=n(98744)},98468:function(t,e,n){t.exports=n(16388)},51592:function(t,e,n){t.exports=n(71792)},72072:function(t,e,n){var r=n(6144).default,i=n(98468),o=n(19692),a=n(71072),u=n(80075),c=n(69268),l=n(53140),s=n(86724),f=n(42484),d=n(29656);function h(){"use strict";t.exports=h=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,p=n.hasOwnProperty,v="function"==typeof i?i:{},g=v.iterator||"@@iterator",m=v.asyncIterator||"@@asyncIterator",y=v.toStringTag||"@@toStringTag";function b(t,e,n){return o(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{b({},"")}catch(t){b=function(t,e,n){return t[e]=n}}function C(t,e,n,r){var i=e&&e.prototype instanceof E?e:E,o=a(i.prototype),u=new R(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=B(a,n);if(u){if(u===w)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=x(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===w)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,u),o}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=C;var w={};function E(){}function S(){}function k(){}var D={};b(D,g,(function(){return this}));var A=u&&u(u(_([])));A&&A!==n&&p.call(A,g)&&(D=A);var I=k.prototype=E.prototype=a(D);function M(t){var e;c(e=["next","throw","return"]).call(e,(function(e){b(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,o,a,u){var c=x(t[i],t,o);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==r(s)&&p.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function B(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,B(t,e),"throw"===e.method))return w;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var r=x(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,w;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,w):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],c(t).call(t,F,this),this.reset(!0)}function _(t){if(t){var e=t[g];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(p.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return S.prototype=k,b(I,"constructor",k),b(k,"constructor",S),S.displayName=b(k,y,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return l?l(t,k):(t.__proto__=k,b(t,y,"GeneratorFunction")),t.prototype=a(I),t},e.awrap=function(t){return{__await:t}},M(T.prototype),b(T.prototype,m,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,i,o){void 0===o&&(o=s);var a=new T(C(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(I),b(I,y,"Generator"),b(I,g,(function(){return this})),b(I,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return f(e).call(e),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,R.prototype={constructor:R,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,c(e=this.tryEntries).call(e,L),!t)for(var n in this)"t"===n.charAt(0)&&p.call(this,n)&&!isNaN(+d(n).call(n,1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=p.call(i,"catchLoc"),u=p.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&p.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),w}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),w}},e}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports},6144:function(t,e,n){var r=n(98468),i=n(51592);function o(e){return t.exports=o="function"==typeof r&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,o(e)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},85344:function(t,e,n){var r=n(72072)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},54043:function(t,e,n){"use strict";n.r(e),n.d(e,{PrintDesigner:function(){return Gb},useInstallFontFamilyOnline:function(){return Qb}});var r={};n.r(r),n.d(r,{SetStatistic:function(){return q}});var i={};n.r(i),n.d(i,{InputQuery:function(){return Mf}});var o={};n.r(o),n.d(o,{InputQuery:function(){return Ff}});var a={};n.r(a),n.d(a,{GridCheckBox:function(){return oh},Query:function(){return nh},SortSettings:function(){return rh},filterSetting:function(){return ih}});var u={};n.r(u),n.d(u,{InputQuery:function(){return ah}});var c={};n.r(c),n.d(c,{InputQuery:function(){return uh}});var l={};n.r(l),n.d(l,{ImageUpload:function(){return sh},Query:function(){return ch}});var s={};n.r(s),n.d(s,{ImageUpload:function(){return hh},PaperDirection:function(){return fh}});var f={};n.r(f),n.d(f,{InputQuery:function(){return gh},Query:function(){return gh}});var d={};n.r(d),n.d(d,{InputQuery:function(){return Ff}});var h={};n.r(h),n.d(h,{Query:function(){return nh}});var p={};n.r(p),n.d(p,{MergeByField:function(){return xh},MergeSummaryField:function(){return wh},Query:function(){return Ch}});var v={};n.r(v),n.d(v,{FileNameInput:function(){return Nh},Input:function(){return Fh},Radio:function(){return _h},Select:function(){return Lh}});n(19600);var g=n(47976),m=n.n(g),b=n(39448),C=n.n(b),x=n(55748),w=n.n(x),E=n(54120),S=n.n(E),k=n(63808),D=n.n(k),A=n(45040),I=n.n(A),M=n(72048),T=n(30112),B=n(18860),F=n.n(B),L=n(75984),R=n.n(L),N=n(81744),P=n.n(N),O=n(45076),j=n.n(O),G=n(39832),z=n.n(G),U=n(7312),W=n.n(U),Q=(n(87964),n(54116)),Z=n(18040),J=n.n(Z),H=n(43400),V=n.n(H),K=n(45548),Y=n.n(K);function q(t,e){var n=t.Key,r=t.Value,i={};n=Y().camelCase(n),r=Y().camelCase(r);var o=e[n],a=e[r];return o?(/\S+\((\S+)\)$/.test(o)?i[n]="noStat"===a?"=$".concat(o.replace(/\S+\((\S+)\)$/g,"$1")):o.replace(/\S+\((\S+)\)$/g,"=".concat(a,"($1)")):i[n]=o.replace(/^\=\$(\S+)/,"=".concat(a,"($1)")),i):i}var X,$,tt,et,nt,rt,it=function(){var t={dataActions:[],propertyActions:[]},e=[[r,"DataCell"]];return W()(e).call(e,(function(e){var n,r=(0,M.c)(e,2),i=r[0],o=r[1];W()(n=m()(i)).call(n,(function(e){t.dataActions.push([e,i[e],o])}))})),t},ot=n(80284),at=n(13760),ut=n.n(at),ct=n(41256),lt=n.n(ct),st=n(29636),ft=n.n(st),dt=n.p+"images/10a6246291a0d3b504113bd071fd58d0.png",ht=n.p+"images/a4a05f34e894ef1e8cd1b3e97e33a010.png",pt=n(44820),vt=n.n(pt),gt=(n(35176),(0,n(19980).o)(!0)),mt=function(t,e){var n=t.getBoundingClientRect(),r=n.left,i=n.top;e.style.top=i+"px",e.style.left=r+"px"},yt=function(t){t.style.opacity=0,t.style.visibility="hidden"},bt=function(t,e){if(e){var n=e();return function(){n&&n()}}var r=document.querySelector(t);return r.style.opacity=1,r.style.visibility="visible",function(){yt(r)}},Ct={current:null},xt=function(t){var e=t.handlePassPrintActionGuide,n=gt(),r=(0,M.c)(n,2),i=r[0],o=r[1],a=(0,H.useRef)(null),u=(0,H.useRef)((function(){})),c=(0,H.useRef)(0),l="print-guide-title",s="print-guide-content",f="print-guide-progress",d="print-guide-card",h=".print-guide-mock-image-print-setting",p="print-guide-layer-mask",v=(0,H.useCallback)((function(t,e){var n;return P()(n="<div class='".concat(e,"'>")).call(n,t,"</div>")}),[]),g=function(){var t=document.querySelector(".".concat(p));t&&document.body.removeChild(t)},m=(0,H.useMemo)((function(){var t;return[{element:h,title:v((0,Z.getLangMsg)("printd.grid.key0107"),l),_image:ht,_parent:'[data-portalid="print-designer-top-view-right"]',position:"left-center",intro:v((0,Z.getLangMsg)("printd.components.key0050"),s)},{element:".print-guide-mock-image-control",title:v((0,Z.getLangMsg)("printd.components.key0051"),l),_image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjIAAAgKCAMAAACqSwrlAAAAXVBMVEUAAAD////3+f3y8vLU2eNAQEDZ2dmFuP/j5ushISH8/f6zs7Tq6+93d3jc4OiDg4RSUlNgYGHY3OPy9fhLTExtbm5ERESen6LBw8XJy86LjI2pq62XmJkyMjOtz/9lA9FdAAAAAXRSTlMAQObYZgAAHxBJREFUeNrt3Yty2kgagNENQzOyEOIiIL5l3v8xF8d24htYAtHqhvPV1iTxuiq/6GMQoiH/+0fq0GTyPzeCkBEyQkbICBkJGSEjZISMkBEyyAgZISNklD2ZpinLH5Ery6axALmSGf0YqJEVyJNM+WOwSkuQI5nRjwFzP5MhmebHoDmfQQaZiydTDkvG2QwyyFw8mR8DZxGQQQaZN+eq//33b6v++685B5mqXq3GR7Za1ZUFj0ymbOnlRU3ZO5l6fGK1FY9KppuY1mYiimEmMpmOYnZm+iXTgxhmXh7gHzfLT20eq57JNP92rumTTDXuJeczu5tyGb5sWfVL5r/uZP7rk0zdDxl3M//88xjCZj6fL8Ni/qZNCI+XRWbVD5kVMf9swubpl3lYfvXl/sj8e0TIJNkyzL8i8/HP2ZMZ9xQxyCCDDDLRydTIINOJzH24RwaZDmTuAzLIdCGzE7OpkEGmNZlXMcgg047Mw6sYZJBpTWa5QgaZDg9MjyEsJsgg0+H092Eb1nfIINPhSfZ0G2bIINPlUt7tZooMMl5jQgYZZJCxxQoZGzkvtFgbOW0Xv5hibRcf/E0pE29K6alYb0rx1rcLMhPnrW/eYKuuZLyNX//4sBCdm4yPJBIyQkbICBlkkEEGGWSEjJARMkIGGWSQETJCRsgIGWSQQQYZZISMkBEyQgYZZJARMkJGyAgZZJBBBhlpf8gIGSEjZISMkJGQETJCRsgIGQkZISNkhIyQETISMkJGyAgZISMhI2SEjPIk01T1anz2VnXVWJKLIFNW42hVpUXJn0xZjyNWM5M/mWoctcqq5E6mGUfO+UzuZKrYZNzN5E6mjk2mtiyZk1nFJrOyLJmTGUfPsiCDDDLIIIOMLofMZPquiUVD5hsy0w9ZNGTcyyDTL5ny9q2YW69aIvPt6W/zlowXoJBp8Yyp+ivG60/ItHqSPXEig0w3Mq+nM05kkGl7Ka9xIoNMx6u/lRMZZDq+YFBMp4XlQsZrTJdJxhYrdSRjI6c6krFdXB3JeFOKOpLx1jd1JeMNtupIxtv41ZWMDwtRZzISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2SEjISMkBEyQkbISMgIGSEjZISMkJGQETJCRsgIGQkZISNkhIyQETISMkJGyAgZISMho/OTKctRQpWlOePMeTyZpA7w90GaM8acx5NJ7gj3HKM5Y5hp9W9LjkZZHKM5o5hpQSbJI/ziGM0Zxwwy5uyfzCjRzHneOZExJzLmRAYZZCwFMpYCGWTMiYw5kUEGGWSQsRTIWApzImNOZJBBBhlkLAUylgIZZMyJjDmRQQYZZJD5XHipz+9EBhlkkHkL4e9/+/pOZK6CTJuGJVPMF6Fli3mBDDLFOnRoXSBz9Q9M8zBrzaCYhTkyV3/6uwgd7jiKsBiOzO1svX1qduB7Nr+/YzG7Q+Z8S9HtLz5qzH7I3L/eUJv939MsX75n+zPLS3ntb97jFuK6yNyG7UPV9s7w53Z7h8y1k9mEaYfv/hlmyFw5mWa7bTp8e3XUSVcyZCafrnssqwTJFPPF99ddBiPT1UAv54aDkbn9dHVjW6dH5vn6zHfXXZCJ88A0ufvdYwgPz7+rE3xgero+8/11F2SinstMQ5ikey7z+/rMt9ddkEEmNzKzl2dC3/263SJz5Q9Mo8fpuwG++/XhAZkrP/39OMB3v/ZyeyKT85NsZFzKQ+ZyyazuqoTIvJ7evg7y8c/IDE2mut+GsJ1NkiGzbxBkEiFztwjb5Wb7dy8BMsgc/LvvtmGz2t3VPG7DvPHAhMy3f/dkHe6fpdytXy7YJHP6+x2dyyLTrP7UpEOmmc4W683t2/OYxd9NJ7v7m59JkWn758sgs3yzCyIZMtOXHRrzP7tSmk3Y/N2icvu8zw2ZQcjcL/90nwiZarbjO62qh3VYvj543ofF2wt7P8Oi8sDkXObl7949MVo8v4RTL8P2+dWZx/Bh++zm6WEq+Ut5sxkyEchMd0+MXu9QmnkIm+nd7SZsb99/Y70Ot+mTOSlkWk75uPvfm321L2c1i9uP3/kQFg0ynjE9vY1q+37vfvUw22wev3gDyPJJlwemuGRWKT5jWrd9y89d2HpZMiqZavb8BCm1Z0yT9pdeAzLex9Tp714Ndy/TbO7fPfB8++sGmRTIPL0veqA5r2u7+JvT3Y81mZGpkYlCZnPgY6EyI+NNKXHI/FzubY4MMpd9LpMRmS0yV05mtN5WHb578nrJC5nrJTML92f77jTI+OCznuecbMNsevtUfejK0e/vmG6O++hQZFqVzccr3i7eP8388oLf9vV77kYZkmn7Q+lDXNueAT/MZ08derf1z9/fMZ9Wo3zJ+Kjokc/9vTAyPpDeA1MGS4FM1qe/yCCDTKZkLAUylgIZZMyJjDmRQQYZS4GMpUAGGXMiY05kkEEGGWQsBTKWAhlkzImMOZFBBhlLgczXNUW9GndsVRdN7KVIfc5j5jtl2uHIFMceYBGXTOpzFuNeKtInUx9/dHVMMqnPWY97qk6dTBHnJ+JkMqnPWYx7q0ibTHPa0TWxyKQ+ZzPusSZpMkWsB94TyaQ+Z9EnmSJpMnWkx91TyaQ+Z90nmTppMqc+K4xFJvU5V32SWSVN5tSji0Um9TnHvYYMMsgggwwyyCCDDDLIIIMMMshcAxmX8lzK84KBFwy8LOllSZsfbH7IefODLVa2WNnIaSOn7eKZzHk928W9KaWvOa/nTSnRMud550TGnMiYExlkkLEUyFgKZJAxJzLmRAYZZJBBxlIgYynMiYw5kUEGGWSQsRTIWApkkDEnMuZEBhlkkEHGUiBjKcyJjDmRQQYZZJCxFMhYCmTakSnTPMLSnOedExlzxiOT5jGW5hxGTCsyKR5jac6BxLQjk94xluYcSkxLMj/KpA6yLM0ZZ84TyEjICBkhI2SEjJCRkBEyQkbICBkJGSEjZISMromMrUu2WHUjY4OkjZzdyNiGbbt4NzLe7OFNKd3IeEuZt74hY87zkhklmjnPOycy5kTGnMggg4ylQMZSIIOMOZExJzLIIIMMMpYCGUthTmTMiQwyyCCDjKVAxlIgg4w5kTEnMsgggwwylgIZS2FOZMyZAZlivghvWsyLw18fainqza+bFv3a1MPO+eF221d/t2d0MsX648Gsi0NfH2op6lZgfqOph5zz8+22r75uz+hk5mH2bvRiFuaHvj7UUmxulq0o1MubzZBzfrzd9tLq7faMTmYRPhxhERaHvj7UUvy6aXnnUd/8GnLOT7fbXjN93Z7RyYTw9Vf2fX2opbi56f87zzFn+1upr9sTGWTyIHP7+yx/cfuRzOevI4NMeH4Efn7m95HM568jg0zo9l9kToIwfXxokBmAzP2vh9ffNg8/X3uokicz391lLxtkopOpfv19Iv3w5iLeY+pkJmH9uAgPyEQn83Dz6+bulc/97LV5nTqZaZiNHsOj09/oZJa/pjezHM9l7sJ2tg5TT7Jjk6l+LUa/fjX5kamWT7fmzKW86GR+3vwczW9usyOzE7O8m965+hufzOKmGN3tf2RKlcyTmOoSrsvk8rLkXwj1zdMg+x+ZEiXzUUy+ZHLZ/PAXwuPucWk33800q+syn8TkSyaXLVZ/ITw9Lu2efLxsi8nkusxnMfmSyWUj5x8I9c2v6VMvj0x5XJf5QkzGZM5ez2Qe/9ypTLM5l/lKDDLRyKxvHh+emu/bsJkemS/FIBOLzORm+3pB71eVB5mvxSATi8z9y0nu0wbyhyzI7BFzeae/s9nX/x2azPbPtvHpnkemxMjsE3N5T7JTfSV7+efqULO8z+C6zF4xl3cpL5ddeYlfl9kv5vJeMHh+GEqfTNrXZQ6IubyXJd/+3t7fI2/PQ2Iulczb+5o0Tn/zITOZTg6JubwtVm+BHHtwV03maWf4ITGXupETmWPJTMN2sw13o4sls++/HpiOJfO0K3wTptdH5jOcocnc/dxbUtdlHsLy5/oa72X6eHjql8yhTyZK6bpMs3yzMxyZIclMZ3tL67pM83A/HV0wmX2nv+k9MGV1XeaSyex7H5NLeci0vpSHDDLIIHPelyVTI+PjFZMhk8vmBx/imgyZXLZY+ajoZMjkspHTB9KnQ+bsmfO8cyJjTmTMiQwyyFgKZCwFMsiYExlzIoMMMsggYymQsRTmRMacyCCDDDLIWApkLAUyyJgTGXMig8wlk2mKejU+oVVdNOdfilOn7DrpcHOednvGIFOMe6g4N5lepuwy6bBzFimTqfs5xvq8ZOpxb9VZzFmnSyaPn95i3GNFFnMWqZJp+jvG5nxkmnGvNVnM2SRKJv6PxTFzFv2SKbKYs0iUTB7nCHW/ZOos5qwTJbPq7xBX5yOz6pfMKos5V4mS6fMYz0dm3HN5zIkMMsgggwwyyCCDDDLIIIMMMshcNhmX8lzK84KBFwy8LOllSZsfbH7IefODLVa2WNnIOeA513Vs5LRdPMk5k94u7k0pqc2Z/ptSImfO886JjDmRMScyyCBjKZCxFMggY05kzIkMMsggg4ylQMZSmBMZcyKDDDLIIGMpkLEUyCBjTmTMiQwyyCCDjKVAxlKYExlzIoMMMsggYymQsRTItCNTpnmEpTnPOycy5oxHJs1jLM05jJhWZFI8xtKcA4lpRya9YyzNOZSYlmR+lEkdZFmaM86cJ5CRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJCRkBEyQkbICBkJGSEjZISMkBEyEjJCRsgIGSEjISNkhIyQETJCRkJGyAgZISNknmuqejU+e6u6aizJRZApq3G0qtKi5E+mrMcRq5nJn0w1jlplVXIn04wj53wmdzJVbDLuZnInU8cmU1uWzMmsYpNZWZbMyYyjZ1mQQQYZZJBBRpdDZjJ918SiIfMNmemHLBoy7mWQ6ZdMeftWzK1XLZH59vS3eUvGC1DItHjGVP0V4/UnZFo9yZ44kUGmG5nX0xknMsi0vZTXOJFBpuPV38qJDDIdXzAoptPCciHjNabLJGOLlTqSsZFTHcnYLq6OZLwpRR3JeOubupLxBlt1JONt/OpKxoeFqDMZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkNH5yZTlKKHK0pxx5jyeTFIH+PsgzRljzuPJJHeEe47RnDHMtPq3JUejLI7RnFHMtCCT5BF+cYzmjGMGGXP2T2aUaOY875zImBMZcyKDDDKWAhlLgQwy5kTGnMgggwwyyFgKZCyFOZExJzLIIIMMMpYCGUuBDDLmRMacyCCDDDLIWApkLIU5kTFnBmSK+SK0aDEvhl0Kc6ZCpliHlq2LIZfCnMmQmYdZq9GLWZgPuRR5zhnC2//v7Z/6mzM6mUVoib0IiyGXIs8595Ppb87oZN4fVD/feY6lyHPO9n9CBhlkkEEGGWSuYSluD17zWNwig8yHv/2bq2QLZJD58LcfnqHN9yCDDDLIIIMMMpdGpn1Of1O8PZHJ/kn2FZA5cF958P90Kc+5DDLIIIMMMsgggwwyyCCDDDLIIHM9l/KQQQYZD0znXYrXFwyeXxoYjWbvTc+QQebD37549wIkMsh8O+frDIdm8bIkMsggc9lkPDAhgwwyyCCDjEt5nmQj41KeB6Zhl6Kf70QGGWSQQQYZZPIn8+7jAA+R8fGKR8x5kR+v+O5DRw+Q8SGux8x5kR/i6iOYc58zOhkf9J77nPHJnD1znndOZMyJjDmRQQYZS4GMpUAGGXMiY05kkEEGGWQsBTKWwpzImBMZZJBBBhlLgYylQAYZcyJjTmSQuSwyTVGvxmdqVRfNaUtxzunaT3wsmdOn/+4WHIJMce5FKE4hU4wHqOiLTHH+W3AAMvX5V6A+nkw9HqS6HzJ1hFswPplimJ/alktRjAeq6INMEeeeOjKZJs4KNMeRacaD1ZxOpolyC0YnUwzzQ9tyKYrhyBSnkyni3FHHJhPpXKE+jkw9HJn6dDJ1lFswOplIz19Xx5FZDUdmdTqZVZRbMDqZWCtwHJnxgJ1OJs4tiAwyyCCDDDLIIIMMMsgggwwyyORKxqU8l/K8YOAFAy9LelkyqZclbX5oN7HND7ZYdZzYFisbOTtObCOn7eIdJ7Zd3JtSOk7sTSneUuatb8iYExlzIoMMMsggYymQsRTIIGNOZMyJDDLIWApkLAUyyJgTGXMigwwyyCBjKZCxFMggY05kzIkMMshYCmQsBTLImBMZcyKDDDLIIGMpkHlTmeYRluY875zImDMemTSPsTTnMGJakUnxGEtzDiSmHZn0jrE051BiWpL5USZ1kGVpzjhznkBGQkbICBkhI2SEjISMkBEyQkbISMgIGSEjZHRNZGxdssWqGxkbJG3k7EbGNmzbxbuR8WYPb0rpRsZbyrz1DRlznpfMKNHMed45kTEnMuZEBhlkLAUylgIZZMyJjDmRQQYZZJCxFMhYCnMiY05kkEEGGWQsBTKWAhlkzImMOZFBBhlkkLEUyPR0iNX9cv1l07SWopgvwpdNkYlLptqzECFs71JaimKdx5xXQGYeNpPqc/VuLRarhJZiHmbFV+J3c64n6cz54b5wMS8Ofz1HMotQf3nnE9azsKzSIbMIxddzLuZhUaQy5+f7wnVx6OtZkglhtGcpmmXYNMmQOTDnpg/b/cz58b6wmIX5oa9fGJlRsQizDMiMqj5s9zPnp/vCYjffga9fGpnRZB0eMyAzqhfhPo05P0/5/JV9X784MqO7bXjIgMxosg0/kUmCzGgatrcZkBndbrdTZKKReb5qN9n9snuyOt39svvq/frlsfYxbCcZkBk9nHp5BpkOB/l8AXWy++WJTPh9LPfh9fRs9xS2zoDMbuL1CplIZKqq2j3faP7+svtqU78uxalPYWORGc3CokJm0HOZ7evvTnsKe/45mz+2h5/zmsmMluH1HGb3FHaeLJk3c1YnXUZC5uSluP97+++ewj4mS+btnOvB57xqMvU63L/ez99uj99hcO45d/ct89dzmFMuIyFz8lI8OdluZs8t/pzZJEdmdLcO2+XmucHnvG4yo9Vm++aV12TJjIpZOnNeOZndk5C725dSJvOk++6loefc9/Lj1ZA5/QAjkUlmzn2bHJBBZt+D5J6tVMggs9fM1xs2L5TM/PObDOYpkpl93jE+S2fObqfFmZPZfF6KDTLIHDqYz+8z8MDUU9ewkdO5TK9dw3ZxZHo9/b2GN6Ug0+uT7It66xsyMS7l9RcyFzZnf6e5rstcyZPs/p5Muy6DzEU+MLkucz4yTn+R6UbGk2xkOpJxKQ+ZjmS8YIBMRzL2ywxCZs8bgZejpzcz/f60EHt/kUEGGQ9MyCCDDDLIIBNxzmv+eEVkjuoqPsR1EVp8kE91/Ev4Z/6o6J5+dn1UdIdmYfatmWp2/Ce39DXnng+kH/Xzs+sD6TtUb8N2/U27b6mHJrP/n73o42fXP3vRpfcf8PD1v0WyWY0GX4q9/7hOHz+7yHSs+qY+DzGXpUDGUiBjKcyJjDmRQQYZZJCxFMhYCmSQMScy5kQGGWQsBTKWAhlkzImMOZFBBhlkkLEUyLSpKerV+IRWddGcfylOnbLrpMPNedrtGYNMMe6h4txkepmyy6TDzlmkTKbu5xjr85Kpx71VZzFnnS6ZPH56i3GPFVnMWaRKpunvGJvzkWnGvdZkMWeTKJn4PxbHzFn0S6bIYs4iUTJ5nCPU/ZKps5izTpTMqr9DXJ2PzKpfMqss5lwlSqbPYzwfmXHP5TEnMsgggwwyyCCDDDLIIIMMMsggc9lkXMpzKc8LBl4w8LKklyVtfrD5IefND7ZY2WJlI+eA51zXsZHTdvEk50x6u7g3paQ2Z/pvSomcOc87JzLmRMacyCCDjKVAxlIgg4w5kTEnMsgggwwylgIZS2FOZMyJDDLIIIOMpUDGUiCDjDmRMScyyCCDDDKWAhlLYU5kzIkMMsggg4ylQMZSINOOTJnmEZbmPO+cyJgzHpk0j7E05zBiWpFJ8RhLcw4kph2Z9I6xNOdQYlqS+VEmdZBlac44c55ARkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJCRkBEyQkbICBkJGSEjZISMkBEyEjJCRsgIGSEjISNkhIyQETJCRkJGyAgZISNkJGSEjJARMkJGyEjICBkhI2SEjISMkBEyQkbICBkJGSEjZISMkJGQETJCRsgIGSEjISNkhIyQETISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2SEjISMkBEyQkbISMgIGSEjZISMkJGQETJCRsgIGQkZISNkhIyQETISMkJGyAgZISMhI2SEjJARMkJGQkbICBkhI2QkZISMkBEyQkbIuBGEjJARMkJGyEjICBkhI2SEjJBBRsgIGSEjZISMhIyQETJCRsgIGWSEjJARMkJGyEjICBkhI2SEjISMkBEyQkbICBkJGSEjZISMkJGQETJCRsgIGSEjISNkhIyQETISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2SEjISMkBEyQkbISMgIGSEjZISMkJGQETJCRsgIGQkZISNkhIyQETISMkJGyAgZISMhI2SEjJARMkJGQkbICBkhI2QkZISMkBEyQkbISMgIGSEjZISMhIyQETJCRsgIGQkZISNkhIyQkZARMkJGyAgZISMhI2SEjJARMhIyQkbICBkhI2QkZISMkBEyQkZCRsgIGSEjZISMhIyQETJCRshIyAgZISNkhIyQkZARMkJGyAgZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJBxIwgZISNkhIyQkZARMkJGyAgZIYOMkBEyQkbICBkJGSEjZISMkBEyyAgZISNkhIyQkZARMkJGyAgZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJCRkBEyQkbICBkJGSEjZISMkBEyEjJCRsgIGSEjISNkhIyQETJCRkJGyAgZISNkJGSEjJARMkJGyEjICBkhI2SEjISMkBEyQkbICBkJGSEjZISMkJGQETJCRsgIGSEjISNkhIyQETISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2SEjISMkBEyQkbISMgIGSEjZISMkJGQETJCRsgIGQkZISNkhIyQETISMkJGyAgZISMhI2SEjJARMkJGQkbICBkhI2QkZISMkBEyQkbISMgIGSEjZISMhIyQETJCRsgIGQkZISNkhIyQkZARMkJGyAgZIeNGEDJCRsgIGSEjISNkhIyQETJCBhkhI2SEjJARMhIyQkbICBkhI2SQETJCRsgIGSEjISNkhIyQETISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2SEjISMkBEyQkbISMgIGSEjZISMkJGQETJCRsgIGQkZISNkhIyQETISMkJGyAgZISMhI2SEjJARMkJGQkbICBkhI2QkZISMkBEyQkbISMgIGSEjZISMhIyQETJCRsgIGQkZISNkhIyQkZARMkJGyAgZISMhI2SEjJARMhIyQkbICBkhI2QkZISMkBEyQkZCRsgIGSEjZISMhIyQETJCRshIyAgZISNkhIyQkZARMkJGyAgZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJCRkBEyQkbICBkJGSEjZISMkBEyEjJCRsgIGSEjISNkhIyQETJCxo0gZISMkBEyQkZCRsgIGSEjZIQMMkJGyAgZISNkJGSEjJARMkJGyCAjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJCRkBEyQkbICBkJGSEjZISMkBEyEjJCRsgIGSEjISNkhIyQETJCRkJGyAgZISNkJGSEjJARMkJGyEjICBkhI2SEjISMkBEyQkbICBkJGSEjZISMkJGQETJCRsgIGSEjISNkhIyQETISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2R0vWSkLiGjzmT+D/QuigoVnf8fAAAAAElFTkSuQmCC",_parent:'[data-portalid="print-designer-top-view-left"]',position:"right-center",intro:v((0,Z.getLangMsg)("printd.components.key0052"),s)},{element:".print-guide-mock-image-datasource",title:(0,Z.getLangMsg)("printd.components.key0013"),_image:dt,_parent:'[data-portalid="print-designer-top-view-left"]',parent:".print-guide-mock-image",position:"right-center",intro:P()(t="\n          <div>\n           ".concat(v((0,Z.getLangMsg)("printd.components.key0053"),s),"\n           ")).call(t,v((0,Z.getLangMsg)("printd.components.key0054"),s),"\n          </div>\n          ")},{element:".print-guide-mock-image-property",title:v((0,Z.getLangMsg)("printd.grid.key0108"),l),_image:"data:image/png;base64,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hIyQETISMkJGyAgZISMhI2SEjJARMkJGQkbICBkhI2QkZISMkBEyQkbISMgIGSEjZISMhIyQETJCRsgIGQkZISNkhIyQkZARMkJGyAgZISMhI2SEjJARMhIyQkbICBkhI2QkZISMkBEyQkZCRsgIGSEjZISMhIyQETJCRshIyAgZISNkhIyQkZARMkJGyAgZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIwZCBkhI2SEjJCRkBEyQkbICBkhg4yQETJCRsgIGQkZISNkhIyQkZARMkJGyAgZISMhI2SEjJARMhIyQkbICBkhI2QkZISMkBEyQkZCRsgIGSEjZISMhIyQETJCRshIyAgZISNkhIyQkZARMkJGyAgZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJCRkBEyunT/A+RKXPPypoMLAAAAAElFTkSuQmCC",_parent:'[data-portalid="print-designer-top-view-right"]',position:"left-center",intro:v((0,Z.getLangMsg)("printd.components.key0055"),s)},{element:"#kdesigner-top-view-main",_isDynamic:!0,title:v((0,Z.getLangMsg)("printd.components.key0056"),l),_image:"data:image/png;base64,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",_parent:"#kdesigner-top-view-main",position:"bottom",intro:v((0,Z.getLangMsg)("printd.components.key0057"),s)}]}),[]),y=document.body.style.overflow,b=(0,H.useRef)({}),C=(0,H.useCallback)((function(){var t,n;document.body.style.overflow=y,a.current=null,u.current=null,u.current=null,W()(m).call(m,(function(t){var e=t._unmountContainer;e&&(e(),t._unmountContainer=null,t._container=null,t._parentDom=null)})),o(!1),W()(t=lt()(b.current)).call(t,(function(t){return t&&t()})),null===(n=document.querySelector(".".concat(d)))||void 0===n||n.remove(),e&&e(),g()}),[]),x=(0,H.useCallback)((function(){W()(m).call(m,(function(t){var e=t._parentDom,n=t._container;e&&n&&mt(e,n)}))}),[]),w=(0,H.useCallback)((function(t){u.current&&u.current(),c.current=t;var e=m[c.current],n=e.element;if(e._isDynamic){u.current=bt(n,(function(){var t=document.querySelector(n);if(t){var e=t.style.pointerEvents;t.style.pointerEvents="none";var r=function(){t.style.pointerEvents=e};return b.current.removeDynamicEffect=r,r}}))}else u.current=bt(n)}),[]),E=(0,H.useCallback)((function(t){ut()((function(){!function(t,e,n){if(!document.querySelector(".".concat(e))){var r=document.querySelector(t),i=document.createElement("span");i.classList.add(e),r?(r.insertBefore(i,r.firstElementChild),n&&n()):ut()((function(){var r=document.querySelector(t);r?(r.insertBefore(i,r.firstElementChild),n&&n()):Z.console.log("createProgressText fail",t,e,n)}))}}(".driver-popover-footer",f,(function(){!function(t,e,n){var r;document.querySelector(".".concat(t)).textContent=P()(r="".concat(e," / ")).call(r,n)}(f,t.currentStep+1,m.length),function(t,e,n){var r,i=document.querySelector(".".concat(t));W()(r=[e,n]).call(r,(function(t){var e=document.createElement("div");e.classList.add(t),null==i||i.appendChild(e)}))}(d,"print-guide-line-shape","print-guide-ball-shape")}))}),150)}),[]),S=(0,H.useRef)(!1);return(0,H.useEffect)((function(){if(i){W()(m).call(m,(function(t){var e=t.element,n=t._parent,r=t._image,i=t._isMount;if(!t._isDynamic){var o=function(t){var e=t._parent,n=t.element,r=t._isMount,i=t._image;if(r)Z.console.log("createContainer isMount",e,n,r,i);else{var o=document.querySelector(e);if(o){var a=document.createElement("div");mt(o,a),a.style.zIndex="1050",a.style.position="fixed",a.classList.add(n.substring(1)),o.appendChild(a);var u=o.style.position;o.style.position="relative";var c=document.createElement("div"),l=document.createElement("img");return l.src=i,c.classList.add("print-guide-mock-image"),c.appendChild(l),a.appendChild(c),yt(a),{_parentDom:o,_container:a,_unmountContainer:function(){null==o||o.removeChild(a),o.style.position=u||"static"}}}Z.console.log("createContainer parent",e,n,r,i)}}({element:e,_parent:n,_isMount:i,_image:r});o&&(t._isMount=!0),(0,ot.c)(t,o)}})),Ct.current||ut()((function(){Ct.current=new(vt())({animate:!1,doneBtnText:(0,Z.getLangMsg)("printd.components.key0058"),closeBtnText:(0,Z.getLangMsg)("printd.components.key0059"),nextBtnText:(0,Z.getLangMsg)("printd.components.key0060"),prevBtnText:(0,Z.getLangMsg)("printd.components.key0061"),keyboardControl:!0,overlayClickNext:!1,padding:0,allowClose:!1,onNext:function(t){var e=t.options.element,n=ft()(m).call(m,(function(t){return e===t.element}));n===m.length-1?C():w(n+1),Z.console.log("onNext",t)},onPrevious:function(t){var e=t.options.element,n=ft()(m).call(m,(function(t){return e===t.element}));0!==n&&w(n-1),Z.console.log("onPrevious",t)},onDeselected:function(t){Z.console.log("onDeselected",t),Ct.current.isActivated||(C(),g())},onHighlighted:function(){E(Ct.current),document.body.style.overflow="hidden",function(){if(!document.querySelector(".".concat(p))){var t=document.createElement("div");t.classList.add(p),document.body.appendChild(t)}}(),Z.console.log("driver",Ct.current)},onHighlightStarted:function(){S.current||(w(0),S.current=!0)}}),Ct.current.defineSteps(R()(m).call(m,(function(t){var e,n,r=t.element,i=t.title,o=t.intro,a=t.position,u=P()(e="".concat(r.substring(1),"-card ")).call(e,r!==h?d:P()(n="".concat(d," ")).call(n,"print-guide-first-card"));return{element:r,popover:{className:u,title:i,description:o,position:a}}}))),ut()((function(){var t;null===(t=Ct.current)||void 0===t||t.start(0)}),500)}));var t=function(){var t;x(),null===(t=Ct.current)||void 0===t||t.refresh(),E(Ct.current)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}}),[]),null};function wt(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}var Et="container_node_cls",St="scale_node_cls",kt="normal_node_cls",Dt="hover_node_cls",At="text_node_cls",It="cell_node_cls",Mt="not_cache_node_cls",Tt=17,Bt=20,Ft="horAlignment",Lt="lineSpace",Rt="verAlignment",_t="fontName",Nt="fontSize",Pt="bold",Ot="italic",jt="underLine",Gt="strike",zt="foreColor",Ut="backColor",Wt="border",Qt="left",Zt="right",Jt="bottom",Ht="vertical_center",Vt="horizontal_center",Kt="horizontal_distribution",Yt="vertical_distribution",qt="x",Xt="y",$t="width",te="height",ee="id",ne=[Ft,Rt,_t,Nt,Pt,Ot,jt,zt,Ut,Wt,Gt,Lt],re=[Pt,Nt,_t,Ft,Rt,jt,zt,Ut,Ot,Gt,Lt],ie="#666666",oe="#5582F3",ae="#0E5FD8",ue=["top","bottom","left","right","inner"],ce=["top","bottom","left","right"],le={color:j()(ue).call(ue,(function(t,e){return t[e]="",t}),{}),width:j()(ue).call(ue,(function(t,e){return t[e]=0,t}),{}),style:j()(ue).call(ue,(function(t,e){return t[e]="",t}),{})},se=(j()(ue).call(ue,(function(t,e){return t[e]=0,t}),{}),"1"),fe="3",de="SubDataGrid",he="TableTail",pe="DataGrid",ve="CardGrid",ge=["DataGrid","LayoutGrid",de,"CardGrid"],me=["DataRow"],ye=["DataColumn"],be=["DataCell","LayoutCell"],Ce=["SubDataCell"],xe="Detail",we="Normal",Ee="Statistic",Se="Layout",ke="Group",De={bindField:"",bindText:"",viewText:"",dataSource:"",dsType:"",formulaData:null},Ae=[ee,"key","parentId"],Ie="rowId",Me="columnId",Te=P()(X=[]).call(X,Ae,[Ie,Me,Wt]),Be={left:0,right:0,top:0,bottom:0},Fe="borderType",Le="innerBorder",Re="outBorder",_e="outBorderBlod",Ne="allBorder",Pe="noneBorder",Oe="left",je="top",Ge="right",ze="bottom",Ue="rowHeight",We="columnWidth",Qe=10,Ze=function(t){var e;return P()(e="".concat(t,", ")).call(e,"arial, sans-serif")},Je={"思源宋体":["SourceHanSerifSC-Regular","otf"],"思源黑体":["SourceHanSansSC-Regular","otf"],"方正细圆简体":["FZXiYuan-M01S","ttf"],"方正兰亭黑简体":["FZLanTingHeiS-R-GB","ttf"],"阿里巴巴普惠体":["Alibaba-PuHuiTi-Regular","otf"]},He=(function(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=wt(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=wt(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}}({},j()($=m()(Je)).call($,(function(t,e){var n=(0,M.c)(Je[e],1)[0];return t[e]=Ze(n),t}),{})),"思源宋体 CN"),Ve={},Ke=function(t){var e,n=Ve[t];return Ze(P()(e="".concat((n||"")+(n?", ":""))).call(e,He))},Ye="Header",qe="Footer",Xe="SubDataGrid",$e="Line",tn=P()(tt=[Ye,qe,Xe]).call(tt,be,[he]),en=P()(et=[Ye,qe,Xe]).call(et,be),nn=[Ye,qe,Xe],rn=P()(nt=[]).call(nt,be),on="arrow-down",an=P()(rt=[]).call(rt,be),un=".5",cn="1",ln="2",sn="cq-print-designer-copy",fn="cq-print-designer-gridcell-copy",dn=["char","char","char","none"],hn={text:"Text",richText:"RichText"},pn="kdcdc",vn=(0,H.createContext)(null);vn.displayName="PrintRootContext";var gn=(0,H.createContext)(null);gn.displayName="PrintDesignerContext";gn.displayName="DataSourceViewContext";var mn=(0,H.createContext)({});mn.displayName="DataGridContext";var yn=(0,H.createContext)({});yn.displayName="CanvasSelectContext";var bn=n(81043),Cn=n(39568),xn=n.n(Cn),wn=n(12640),En=n.n(wn),Sn=n(82600),kn=n.n(Sn),Dn=n(37152),An=n.n(Dn),In=n(73400),Mn=n.n(In),Tn=function(t){var e=t.selectionContext,n=t.dataContext,r=(t.meta,t.activedSelectId),i=t.modelFactory,o=n.getRootId(),a=n.findControl(r||o);a||Z.console.log("useLastSelectedModal",r,e.getSelection());var u=i({type:a.type});return{modelData:u.Properties,selectModel:u,activedSelectId:r,selectItem:a,rootId:o,isRootId:o===r}},Bn=function(t){var e,n=t.dataContext,r=t.selectionContext,i=t.meta,o=t.activedSelectId,a=t.modelFactory,u=Tn({dataContext:n,selectionContext:r,meta:i,activedSelectId:o,modelFactory:a}),c=u.selectItem;return!u.isRootId&&c&&c.dataSource&&c.bindField?(Z.console.log("selectItem useScrollKey",c),P()(e="".concat(c.dataSource,"-")).call(e,c.bindField)):""},Fn=n.p+"images/b7faef5a0338c01e97e8b6d7d8f7511f.png",Ln=n(89843),Rn=n.n(Ln),_n=n(97440),Nn=n.n(_n),Pn=n(64248),On=n.n(Pn),jn=n(12388),Gn=n.n(jn),zn=n(34984),Un=n(58496),Wn=n(71252),Qn=n.n(Wn),Zn=n(47332),Jn=n.n(Zn),Hn=n(65624),Vn=n.n(Hn),Kn=function t(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=0;i<n.length;i++){var o=n[i],a=(o.isReportEntryGroup,o.Key,o.Name),u=o.ViewName,c=o.Items,l=(o.IsDs,o.IgnoreZero),s=o.IgnoreTailZero,f=o.dataSource,d=o.bindField,h=o.dsTypeKey,p=o.dataSourceText,v="".concat(r?r+"."+a:a);if(e===Yn(f,d))return{dataSource:f,ancestorTitle:v,dataSourceText:p,key:d,dsType:h,title:u||a,IgnoreZero:l,IgnoreTailZero:s};var g=t(e,c||[],v);if(g)return g}},Yn=function(t,e){var n,r,i=P()(n=P()(r="".concat(t||"")).call(r,t&&e&&"-")).call(n,e||"");if(qn(i)){var o,a=i.split("."),u="",c=F()(o=j()(a).call(a,(function(t,e,n){var r;-1!==xn()(e).call(e,"-")&&qn(e)?(u=Jn()(a).call(a,(function(t,e){return!qn(t)&&e>n})),t.push(P()(r="".concat(e.split("-")[0],"-")).call(r,u))):qn(e)||t.push(e);return t}),[])).call(o,(function(t){return t!==u}));i=c.join(".")}return i},qn=function(t){return"string"==typeof t&&-1!==xn()(t).call(t,"reportEntryGroup")},Xn=function t(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e,i=0;i<n.length;i++){var o=n[i],a=(o.Key,o.Name),u=o.Items,c=(o.IsDs,o.dataSource),l=o.bindField,s=o.dsTypeKey,f=o.dataSourceText,d=o.ViewName,h=a;if(0===xn()(r).call(r,h)){var p=r.replace(a,"");if(""!==p){if("."!==p[0])continue;r=p.substring(1)}else r="";if(""===r)return u?null:{dsType:s,dataSource:c,viewText:d||a,key:l,dataSourceText:f};var v=t(r,u);if(v)return v}}},$n=function(t){if(!t)return{isBindField:!1,bindField:t};var e=/^\=\$.?/g.test(t);return{isBindField:e,bindField:e?t.replace(/^\=\$/,""):t}},tr=function(t){var e,n;return j()(e=F()(n=m()(t)).call(n,(function(t){return"undefined"!==t}))).call(e,(function(e,n){return e[n]=t[n],e}),{})},er=function t(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0;r<n.length;r++){var i=n[r],o=(i.Key,i.Name,i.Items),a=(i.IsDs,i.dataSource),u=i.bindField;if(e===Yn(a,u))return i;var c=t(e,o||[]);if(c)return c}},nr=function(t,e){var n=t.type,r=t.key,i=Kn(r,e);if(i){var o=i.ancestorTitle,a=i.key,u=i.dataSource,c=i.dataSourceText,l=i.title,s=i.dsType,f=i.IgnoreZero,d=i.IgnoreTailZero;return"Text"===n?{bindText:"=$".concat(o),bindField:a,dataSource:u,dataSourceText:c,dsType:s,title:l,ignoreZero:f,ignoreTailZero:d}:{bindText:"=$".concat(o),bindField:a,dataSource:u,dsType:s,title:l,ignoreZero:f,ignoreTailZero:d}}return{}},rr=function t(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=0;r<e.length;r++){var i=e[r];if(n(i))return i;var o=t(i.Items,n);if(o)return o}},ir=function(t){var e=[];return function t(e,n){var r=e.key,i=e.Items,o=e.IsField,a=e.dataSource,u=e.bindField;r=r||Yn(a,u),!o&&i&&i.length||n.push(r),i&&W()(i).call(i,(function(e){return t(e,n)}))}(t,e),e},or=function(t,e,n){var r=t.findControl(e)||{},i=["Text","Barcode","QRCode","Image"],o=t.findControl(r.parentId)||{};if(null!=r&&r.parentId&&kn()(i).call(i,r.type)){var a=t.findControl(o.parentId)||{};if(a.type===n)return a.dataSource}else if(o.type===n)return o.dataSource},ar=function(t){var e;return function n(r){return Vn()(r).call(r,(function(r){var i=r.dataSource===t;return e=i&&r.DsType,i||r.Items&&n(r.Items)})),e}},ur=n(82504),cr=n(74808),lr={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function sr(){var t=(0,H.useState)(null),e=(0,M.c)(t,2),n=e[0],r=e[1],i=(0,H.useState)(lr),o=(0,M.c)(i,2),a=o[0],u=o[1],c=(0,H.useMemo)((function(){return new ur.c((function(t){if(t[0]){var e=t[0].contentRect,n=e.x,r=e.y,i=e.width,o=e.height,a=e.top,c=e.left,l=e.bottom,s=e.right;u({x:n,y:r,width:i,height:o,top:a,left:c,bottom:l,right:s})}}))}),[]);return(0,cr.c)((function(){if(n)return c.observe(n),function(){c.disconnect()}}),[n]),[r,a]}function fr(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=fr(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=fr(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var hr=function t(e,n,r){return j()(e).call(e,(function(e,i){var o=i.Items;return o&&(i=r&&r===i.DsType||!r?dr(dr({},i),{},{Items:t(o,n)}):i),(n(i)||i.Items&&i.Items.length)&&e.push(i),e}),[])},pr=function(t,e){return hr(t,(function(t){var n=t.Type;return n&&n!==e}))},vr=function t(e){return function(n){return j()(n).call(n,(function(n,r){var i=r[e],o=r.Items;return!i&&o&&(r=dr(dr({},r),{},{Items:t(e)(o)})),(i||r.Items&&r.Items.length)&&n.push(r),n}),[])}},gr=vr("IsDataGridDs"),mr=vr("IsSubDataGridDs"),yr=function t(e,n){if(!n)return e;var r=function(t,e){return"string"==typeof t?t===e:!!Gn()(t)&&kn()(t).call(t,e)},i=j()(e).call(e,(function(e,i){var o=i,a=o.dataSource,u=o.Items;return u&&!r(n,a)&&(i=dr(dr({},i),{},{Items:t(u,n)})),(a&&r(n,a)||i.Items&&i.Items.length)&&e.push(i),e}),[]);return i},br=function(t,e){return null!=e&&e.length?hr(t,(function(t){var n=t.bindField,r=t.dataSource,i=Yn(r,n);return i&&kn()(e).call(e,i)})):t},Cr=["Entry","ReportEntry","Subentry"];function xr(t,e){return j()(t).call(t,(function(t,n){var r=e===n.dataSource,i=n.Items;return!r&&i&&(n=dr(dr({},n),{},{Items:xr(i,e)})),(r||n.Items&&n.Items.length)&&t.push(n),t}),[])}var wr=function(t,e){if(function(t,e){if(e=Jn()(e).call(e,(function(t){return"Main"===t.DsType})),!e)return;e=e.Items;return function e(n){return Jn()(n).call(n,(function(n){return t===n.dataSource||n.Items&&e(n.Items)}))}(e)}(t,e)){var n=[Jn()(e).call(e,(function(t){return"Main"===t.DsType}))];W()(e).call(e,(function(t){return("Ref"===t.DsType||"Custom"===t.DsType)&&n.push(t)})),e=function e(n){var r=j()(n).call(n,(function(n,r){var i=r.Items,o=r.DsType;return kn()(Cr).call(Cr,o)||t===r.dataSource||(i?n.push(dr(dr({},r),{},{Items:e(i)})):n.push(r)),t===r.dataSource&&n.push(r),n}),[]);return r}(n)}else e=xr(e,t);return e};function Er(t){return function(e){return j()(e).call(e,(function(e,n){var r,i,o=n.DsType&&kn()(t).call(t,n.DsType);return!o||null!=n&&null!==(r=n.Items)&&void 0!==r&&r.length||e.push(n),o&&(null==n||null===(i=n.Items)||void 0===i?void 0:i.length)>0&&e.push(dr(dr({},n),{},{Items:Er(t)(n.Items)})),e}),[])}}var Sr=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return Jn()(e).call(e,(function(e){return n===e.dataSource||e.Items&&t(e.Items,n)}))},kr=["controlType","draggable","checkable","meta","definition","onSelect","onCheck","checkedKeys","showDefinitionId","showDataSourceTitle","filterTreeData","emptyNode","onDataChange","scrollToKey","expandedKeys"];function Dr(t,e){var n=void 0!==Nn()&&On()(t)||t["@@iterator"];if(!n){if(Gn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Ar(t,e);var r=En()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Rn()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ar(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ir(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Ir(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Ir(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Tr=function(t){var e=t.type,n=t.style,r=void 0===n?{}:n;return e?V().createElement(Q.Icon,{prefix:"printdesignericon",type:e,style:r}):V().createElement(Q.Icon,{prefix:"printdesignericon",type:"zidingyi",style:r})},Br=function(t){return t},Fr=function(t){var e=t.name,n=t.type,r=t.isDsRoot,i=t.tag,o=void 0===i?{}:i,a=o.Color,u=o.Name;return V().createElement("span",{className:Qn()("kds-tree-node",{"kds-tree-node-tag":r})},V().createElement(Tr,{type:n}),V().createElement("span",{style:{marginLeft:3}},e),u&&V().createElement(Q.Tag,{style:{marginLeft:16},type:"attribute",color:a,className:"kds-tree-tag"},u))},Lr=["Sys"],Rr=function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;return F()(i=R()(n).call(n,(function(n){var i,s=n.Name,f=n.Type,d=n.Items,h=n.Key,p=n.DsType,v=n.IsDataGridDs,g=n.IsSubDataGridDs,m=n.Tag,y=(n.IsDs,n.ViewName),b=n.dataSource,C=n.bindField,x=n.Icon,w=d?{children:t(e,d,r,o,!1,p||u,v||c,g||l)}:{},E=y||s;return Mr(Mr({key:Yn(b,C),title:V().createElement(Fr,{isDsRoot:a,type:x||f,name:r?(a?"Sys"===p:kn()(Lr).call(Lr,u))?E:P()(i="".concat(E,"(")).call(i,h,")"):E,tag:m}),type:f,dataSource:b,bindField:C,dsType:p||u,isDataGridDs:v||c,isSubDataGridDs:g||l,viewName:y},w),{},{checkable:o&&!(d&&d.length)&&"CardGrid"!==e,selectable:!d&&!o||"CardGrid"===e&&!(d&&d.length),expandOnClickNode:"CardGrid"===e},n)}))).call(i,Boolean)},_r=function(t,e){var n=function t(e,n){return F()(e).call(e,(function(e){var r,i,o;"object"===(0,Un.c)(e.Name)&&(e.Name=null===(o=e.Name)||void 0===o?void 0:o.zh_CN);if((-1!==(null===(r=e.ViewName||e.Name)||void 0===r?void 0:xn()(r).call(r,n))||xn()(i=e.Key.toLowerCase()).call(i,n)>-1)&&(!e.children||0===e.children.length))return!0;var a=e.children&&t(e.children,n);return(null==a?void 0:a.length)>0?(e.children=a,!0):void 0}))};return R()(t).call(t,(function(t){if(!(null==t?void 0:t.children))return t;var r=n(t.children,e);return Mr(Mr({},t),{},{children:r})}))},Nr=function(t){var e=[],n=function t(e,n){var r=e.key,i=e.Items,o=e.dataSource,a=e.bindField;r=r||Yn(o,a),n.push(r),i&&W()(i).call(i,(function(e){return t(e,n)}))};return W()(t).call(t,(function(t){n(t,e)})),e},Pr=function t(e,n){var r,i=Dr(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.key,u=o.children;if(n===a)return!0;if(u&&u.length){var c=t(u,n);if(c)return c}}}catch(t){i.e(t)}finally{i.f()}return!1};function Or(t){var e=t.className;return V().createElement("div",{className:"".concat(e,"-empty")},V().createElement("img",{className:"".concat(e,"-empty-img"),src:Fn,width:"168",height:"96",alt:(0,Z.getLangMsg)("printd.grid.key0004")}),V().createElement("div",{className:"".concat(e,"-empty-text")},(0,Z.getLangMsg)("printd.grid.key0004")))}var jr=(0,H.memo)((function(t){var e=t.controlType,n=t.draggable,r=t.checkable,i=(t.meta,t.definition),o=t.onSelect,a=t.onCheck,u=t.checkedKeys,c=void 0===u?[]:u,l=t.showDefinitionId,s=t.showDataSourceTitle,f=t.filterTreeData,d=void 0===f?Br:f,h=t.emptyNode,p=t.onDataChange,v=t.scrollToKey,g=t.expandedKeys,m=(0,zn.c)(t,kr),y=(0,H.useRef)(null),b=(0,H.useRef)([]),C=(0,H.useState)(""),x=(0,M.c)(C,2),w=x[0],E=x[1],S=(0,H.useState)(!1),k=(0,M.c)(S,2),D=(k[0],k[1],(0,H.useState)([v])),A=(0,M.c)(D,2),I=A[0],T=A[1],B=(0,H.useContext)(Z.SelectionContext),L=(0,H.useContext)(Z.DataContext),_=(0,H.useState)(""),N=(0,M.c)(_,2),O=(N[0],N[1]),j=(0,H.useContext)(Z.GlobalConfigContext).env,G=B.getSelection(),z=(0,H.useState)((function(){return Rr(e,d(i),l,r)})),U=(0,M.c)(z,2),W=U[0],J=U[1],K=(0,H.useMemo)((function(){return v&&Pr(W,v)?{scrollToKey:v}:{}}),[v,W]),q=(0,H.useState)((function(){var t,e,n=[];m.expandAll?n=Nr(W):n=R()(e=W||[]).call(e,(function(t){return t.key}));return P()(t=[]).call(t,(0,bn.c)(n),(0,bn.c)(g||[]))})),X=(0,M.c)(q,2),$=X[0],tt=X[1];(0,H.useEffect)((function(){e&&O(e)}),[e]),(0,H.useEffect)((function(){var t=function(t){var e,n=L.findControl(t)||{},r=L.findControl(n.parentId)||{};if(n&&null!=n&&n.parentId&&kn()(e=["Text","Barcode","QRCode","Image"]).call(e,n.type)){var i,o=L.findControl(r.parentId)||{},a="DataGrid"===o.type&&kn()(i=["Detail","Group"]).call(i,r.cellType);return("CardGrid"===o.type||a)&&o.dataSource}var u,c="DataGrid"===r.type&&kn()(u=["Detail","Group"]).call(u,n.cellType);return("CardGrid"===r.type||c)&&r.dataSource}(G[0]);t&&"SubDataGrid"!==e&&(i=wr(t,i))}),[]),(0,H.useEffect)((function(){J((function(t){var n,o=Rr(e,d(i),l,r),a=R()(n=F()(o).call(o,(function(e){var n=R()(t).call(t,(function(t){return t.key}));return!kn()(n).call(n,e.key)}))).call(n,(function(t){return t.key}));return tt((function(t){var e;return P()(e=[]).call(e,(0,bn.c)(t),(0,bn.c)(a))})),o}))}),[i,r]),(0,H.useEffect)((function(){J((function(){var t=Rr(e,d(i),l,r),n=_r(t,w);return"CardGrid"!==e&&(n=F()(n).call(n,(function(t){var e;return null==t||null===(e=t.children)||void 0===e?void 0:e.length}))),n}))}),[l]),(0,H.useEffect)((function(){p&&p(W)}),[W]),(0,H.useEffect)((function(){I.length&&!v&&T([])}),[G,v]);var et=(0,H.useCallback)((function(t){var e=t.event,n=t.node;if(((null==n?void 0:n.Items)||[]).length)return e.preventDefault();(e=e||window.event).currentTarget.style.backgroundColor="#fff",e.currentTarget.style.color="#000";var r={};for(var i in n)"function"!=typeof n[i]&&"title"!==i&&(r[i]=n[i]);var o={type:"dataSource",data:r,showDataSourceTitle:s};j[Z.CONTROL_DRAG_DATA]=o}),[s]),nt=(0,H.useCallback)((function(t){var e=t.event;t.node;(e=e||window.event).currentTarget.style.backgroundColor="",e.currentTarget.style.color=""}),[]),rt=(0,H.useCallback)((function(t){t.Key;var n=t.Items,r=t.key,i=t.DsType,o="print-tree-node";return!(n&&n.length)&&kn()(r).call(r,".")&&(o+=" print-tree-node-children"),n&&n.length&&(o+=" print-tree-node-parent"),"CardGrid"===e||"Main"!==i&&"Custom"!==i&&"Sys"!==i&&"Ref"!==i||(o+=" print-tree-root"),o}),[W]),it=sr(),at=(0,M.c)(it,2),ut=at[0],ct=at[1];ct.height,ct.width;return w||null!=W&&W.length||!h?V().createElement(V().Fragment,null,V().createElement(Q.Input,{style:{marginBottom:12,width:"100%"},ref:y,value:w,placeholder:(0,Z.getLangMsg)("printd.components.key0022"),borderType:"bordered",onChange:function(t){var n=t.target.value,o=Rr(e,d(i),l,r);if(n){var a=_r(o,n);"CardGrid"!==e&&(a=F()(a).call(a,(function(t){var e;return null==t||null===(e=t.children)||void 0===e?void 0:e.length}))),w||(b.current=$),J(a);var u=Nr(a);tt(u)}else Y().isEqual(o,W)||J(o),tt(b.current);E(n)},allowClear:!0,suffix:V().createElement("div",null,V().createElement(Q.Icon,{type:"search",style:{cursor:"pointer"}}))}),!w||null!=W&&W.length?V().createElement("div",{className:"kd-datasource-tree",ref:ut},V().createElement("div",{className:"tree-wrap"},V().createElement(Q.Tree,(0,ot.c)({name:"definition",draggable:!!n,checkable:!!r,setTreeNodeClassName:rt},K,{expandedKeys:$,showIcon:!1,style:{width:"100%"},onDragStart:et,onDragEnd:nt,onExpand:function(t,e){var n,r=e.expanded,i=e.node.key,o=F()(t).call(t,Boolean);o=r?P()(n=[i]).call(n,(0,bn.c)(o)):F()(o).call(o,(function(t){return t!==i})),tt(o)},treeData:W,onSelect:function(t,n){var r=n.checked,i=n.node,a=n.event;T(t),"CardGrid"===e?(i.key=[i.key],o(i,e)):o(r,i,a)},selectedKeys:I,onCheck:a,checkedKeys:c,virtual:!1})))):V().createElement(Or,{className:"left-datasource"})):h})),Gr=jr;function zr(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=zr(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=zr(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}function Wr(t){var e=t.className;return V().createElement("div",{className:"".concat(e,"-empty")},V().createElement("img",{className:"".concat(e,"-empty-img"),src:Fn,width:"168",height:"96",alt:(0,Z.getLangMsg)("printd.grid.key0004")}),V().createElement("div",{className:"".concat(e,"-empty-text")},(0,Z.getLangMsg)("printd.grid.key0004")))}var Qr=function(t){var e=t.visible,n=t.checkable,r=t.meta,i=t.definition,o=t.onSelect,a=t.className,u=t.emptyNode,c=void 0===u?V().createElement(Wr,{className:"left-datasource"}):u,l=t.expandedKeys,s=void 0===l?[]:l,f=t.selectedKey,d=t.filterTreeData,h=t.activedSelectId,p=t.checkedKeys,v=void 0===p?[]:p,g=t.modalTitle,m=t.onCancel,y=(0,H.useState)(!1),b=(0,M.c)(y,2),C=b[0],x=b[1],w=(0,H.useState)(!0),E=(0,M.c)(w,2),S=E[0],k=E[1],D=(0,H.useState)([]),A=(0,M.c)(D,2),I=A[0],T=A[1],B=(0,H.useState)(v),L=(0,M.c)(B,2),_=L[0],N=L[1],O=(0,H.useRef)(null),j=(0,H.useContext)(Z.DataContext),G=(0,H.useContext)(Z.SelectionContext),z=(0,H.useContext)(Z.DataFactoryContext).modelFactory,U=j.getRootId(),W=(j.findControl(U).language,f||Bn({dataContext:j,selectionContext:G,meta:r,activedSelectId:h,modelFactory:z})),J=(0,H.useCallback)((function(t,e){var n,r,o,a=e.checked,u=e.node,c=(e.event,ir(u)),l=a?P()(n=[]).call(n,(0,bn.c)(_),(0,bn.c)(c)):F()(_).call(_,(function(t){return!kn()(c).call(c,t)})),s=F()(r=R()(o=F()(l).call(l,Boolean)).call(o,(function(t){return Ur({key:t},er(t,i))}))).call(r,(function(t){var e=t.dataSource,n=t.Key,r=t.Items;return!r||!r.length||!(Mn()(e).call(e,n)||r&&r.length)})),f=R()(s).call(s,(function(t){return t.key}));N(f),T(s)}),[_,N]);(0,H.useEffect)((function(){if(e){N(v);var t=R()(v).call(v,(function(t){return Ur({key:t},er(t,i))}));T(t)}}),[e]);var K=V().createElement(V().Fragment,null,!S&&V().createElement(Q.Checkbox,{className:"".concat(a,"-modal-footer-checkbox"),checked:C,onChange:function(t){var e=!!t.target.checked;x(e)}},(0,Z.getLangMsg)("printd.grid.key0101")),V().createElement("div",{className:"".concat(a,"-modal-footer-btns")},V().createElement(Q.Button,{onClick:m,type:"second",className:"".concat(a,"-modal-cancel-btn")},(0,Z.getLangMsg)("printd.components.key0011")),V().createElement(Q.Button,{onClick:function(){if(n)o(I);else{var t=O.current;o(t)}},type:"primary",className:"".concat(a,"-modal-ok-btn")},(0,Z.getLangMsg)("printd.components.key0012"))));return V().createElement(Q.Modal,{body:V().createElement(Gr,{checkable:!!n,scrollToKey:W,meta:r,definition:i,filterTreeData:d,onSelect:function(t,e,n){O.current=e},showDefinitionId:C,emptyNode:c,onDataChange:function(t){var e=!(t&&t.length);k(e)},expandedKeys:s,onCheck:J,checkedKeys:_}),bodyStyle:{justifyContent:"start",alignItems:"start",overflowX:"hidden",overflowY:"auto",flexDirection:"column"},titleIcon:null,className:"".concat(a,"-modal"),footer:K,maskClosable:!1,width:512,height:614,title:g||(0,Z.getLangMsg)("printd.components.key0001"),closable:!0,destroyOnClose:!0,onCancel:m,onOk:m,mask:!0,visible:e})},Zr=n(52484),Jr=n(71536),Hr=n.n(Jr),Vr=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i=t.className,o=t.children,a=t.tipText,u=(0,H.useState)(!1),c=(0,M.c)(u,2),l=c[0],s=c[1],f=(0,H.useState)(!1),d=(0,M.c)(f,2),h=d[0],p=d[1],v=(0,H.useState)(0)[1];(0,H.useImperativeHandle)(e,(function(){return{show:function(){!l&&s(!0)},hide:function(){l&&s(!1)}}}),[l]),(0,H.useEffect)((function(){var t=function(){v((function(t){return t+1}))};return window.addEventListener("scroll",t),window.addEventListener("resize",t),function(){window.removeEventListener("scroll",t),window.addEventListener("resize",t)}}),[l]);var g=(0,H.useRef)(0),m=(0,H.useRef)(0),y=(0,H.useRef)(null),b=(0,H.useRef)(null),C=V().cloneElement(o,{ref:y});(0,H.useEffect)((function(){p(!0)}),[o]);var x,w=(0,Zr.c)(y,{rootMargin:"0px",threshold:1});(x=null==w?void 0:w.isIntersecting)&&l&&ut()((function(){b.current&&(b.current.style.display=x?"flex":"none")}));var E=(0,H.useRef)(null),S=(0,H.useRef)(null),k=function t(){if(l&&!S.current){if(b.current&&y.current){var e,n,r=null!==(e=null===(n=y.current)||void 0===n?void 0:n.getBoundingClientRect())&&void 0!==e?e:{left:0,top:0};!function(t,e){t-1===g.current&&m.current===e+35||(g.current=t-1,m.current=e+35,b.current&&(b.current.style.left="".concat(t-1,"px"),b.current.style.top="".concat(e+35,"px")))}(r.left,r.top)}else Z.console.error("miss errorDivRef or inputRef",b,y);window.cancelAnimationFrame(E.current),E.current=window.requestAnimationFrame((function(){t()}))}};0!==(null==w?void 0:w.intersectionRatio)&&ut()((function(){window.cancelAnimationFrame(E.current),k()}),0),(0,H.useEffect)((function(){return function(){window.cancelAnimationFrame(E.current),S.current=!0}}),[]);var D=null!==(n=null===(r=y.current)||void 0===r?void 0:r.getBoundingClientRect())&&void 0!==n?n:{left:0,top:0},A=D.left,I=D.top;return h&&V().createElement(V().Fragment,null,C,y.current&&l&&Hr().createPortal(V().createElement("div",{ref:b,className:"".concat(i,"-tooltip"),style:{display:l?"flex":"none",left:A-1,top:I+35}},a||(0,Z.getLangMsg)("printd.grid.key0005")),document.body))}))),Kr=Vr,Yr=n(2992),qr=n.n(Yr),Xr=n(85344),$r=n.n(Xr),ti=n(89472),ei=n.n(ti),ni=n(96416),ri=n.n(ni),ii=n(30479),oi=n.n(ii),ai=n(11872),ui=n.n(ai),ci=n(59312),li=n.n(ci),si=n(53684),fi=n.n(si),di=n(30856),hi=n.n(di),pi=n(83789),vi=$r().mark(Ra),gi=$r().mark(Ga),mi=$r().mark(Ka);function yi(t,e){var n=void 0!==Nn()&&On()(t)||t["@@iterator"];if(!n){if(Gn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return bi(t,e);var r=En()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Rn()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function bi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ci=function(t,e){var n=t.current,r=t.affinity;if(null!=n){var i=Ti.transform(n,e,{affinity:r});t.current=i,null==i&&t.unref()}},xi=function(t,e){var n=t.current,r=t.affinity;if(null!=n){var i=to.transform(n,e,{affinity:r});t.current=i,null==i&&t.unref()}},wi=function(t,e){var n=t.current,r=t.affinity;if(null!=n){var i=ji.transform(n,e,{affinity:r});t.current=i,null==i&&t.unref()}},Ei=new(ei()),Si=new(ei()),ki=new(ei()),Di=new(ei()),Ai=new(ei()),Ii=new(ei()),Mi=new(ei()),Ti={ancestors:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ri()(e),r=void 0!==n&&n,i=Ti.levels(t,e);return i=r?En()(i).call(i,1):En()(i).call(i,0,-1)},common:function(t,e){for(var n=[],r=0;r<t.length&&r<e.length;r++){var i=t[r];if(i!==e[r])break;n.push(i)}return n},compare:function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return 0},endsAfter:function(t,e){var n=t.length-1,r=En()(t).call(t,0,n),i=En()(e).call(e,0,n),o=t[n],a=e[n];return Ti.equals(r,i)&&o>a},endsAt:function(t,e){var n=t.length,r=En()(t).call(t,0,n),i=En()(e).call(e,0,n);return Ti.equals(r,i)},endsBefore:function(t,e){var n=t.length-1,r=En()(t).call(t,0,n),i=En()(e).call(e,0,n),o=t[n],a=e[n];return Ti.equals(r,i)&&o<a},equals:function(t,e){return t.length===e.length&&oi()(t).call(t,(function(t,n){return t===e[n]}))},hasPrevious:function(t){return t[t.length-1]>0},isAfter:function(t,e){return 1===Ti.compare(t,e)},isAncestor:function(t,e){return t.length<e.length&&0===Ti.compare(t,e)},isBefore:function(t,e){return-1===Ti.compare(t,e)},isChild:function(t,e){return t.length===e.length+1&&0===Ti.compare(t,e)},isCommon:function(t,e){return t.length<=e.length&&0===Ti.compare(t,e)},isDescendant:function(t,e){return t.length>e.length&&0===Ti.compare(t,e)},isParent:function(t,e){return t.length+1===e.length&&0===Ti.compare(t,e)},isPath:function(t){return Gn()(t)&&(0===t.length||"number"==typeof t[0])},isSibling:function(t,e){if(t.length!==e.length)return!1;var n=En()(t).call(t,0,-1),r=En()(e).call(e,0,-1);return t[t.length-1]!==e[e.length-1]&&Ti.equals(n,r)},levels:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ri()(e),r=void 0!==n&&n,i=[],o=0;o<=t.length;o++)i.push(En()(t).call(t,0,o));return r&&ri()(i).call(i),i},next:function(t){var e;if(0===t.length)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var n=t[t.length-1];return P()(e=En()(t).call(t,0,-1)).call(e,n+1)},operationCanTransformPath:function(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent:function(t){if(0===t.length)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return En()(t).call(t,0,-1)},previous:function(t){var e;if(0===t.length)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var n=t[t.length-1];if(n<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return P()(e=En()(t).call(t,0,-1)).call(e,n-1)},relative:function(t,e){var n;if(!Ti.isAncestor(e,t)&&!Ti.equals(t,e))throw new Error(P()(n="Cannot get the relative path of [".concat(t,"] inside ancestor [")).call(n,e,"], because it is not above or equal to the path."));return En()(t).call(t,e.length)},transform:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return null;var r=(0,bn.c)(t),i=n.affinity,o=void 0===i?"forward":i;if(0===t.length)return r;switch(e.type){case"insert_node":var a=e.path;(Ti.equals(a,r)||Ti.endsBefore(a,r)||Ti.isAncestor(a,r))&&(r[a.length-1]+=1);break;case"remove_node":var u=e.path;if(Ti.equals(u,r)||Ti.isAncestor(u,r))return null;Ti.endsBefore(u,r)&&(r[u.length-1]-=1);break;case"merge_node":var c=e.path,l=e.position;Ti.equals(c,r)||Ti.endsBefore(c,r)?r[c.length-1]-=1:Ti.isAncestor(c,r)&&(r[c.length-1]-=1,r[c.length]+=l);break;case"split_node":var s=e.path,f=e.position;if(Ti.equals(s,r)){if("forward"===o)r[r.length-1]+=1;else if("backward"!==o)return null}else Ti.endsBefore(s,r)?r[s.length-1]+=1:Ti.isAncestor(s,r)&&t[s.length]>=f&&(r[s.length-1]+=1,r[s.length]-=f);break;case"move_node":var d=e.path,h=e.newPath;if(Ti.equals(d,h))return r;if(Ti.isAncestor(d,r)||Ti.equals(d,r)){var p=En()(h).call(h);return Ti.endsBefore(d,h)&&d.length<h.length&&(p[d.length-1]-=1),P()(p).call(p,En()(r).call(r,d.length))}Ti.isSibling(d,h)&&(Ti.isAncestor(h,r)||Ti.equals(h,r))?Ti.endsBefore(d,r)?r[d.length-1]-=1:r[d.length-1]+=1:Ti.endsBefore(h,r)||Ti.equals(h,r)||Ti.isAncestor(h,r)?(Ti.endsBefore(d,r)&&(r[d.length-1]-=1),r[h.length-1]+=1):Ti.endsBefore(d,r)&&(Ti.equals(h,r)&&(r[h.length-1]+=1),r[d.length-1]-=1)}return r}};function Bi(t,e,n){return e in t?I()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fi(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Fi(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Fi(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var Ri={transform:function(t,e){t.children=(0,pi.eQ)(t.children);var n=t.selection&&(0,pi.eQ)(t.selection);try{n=function(t,e,n){switch(n.type){case"insert_node":var r,i=n.path,o=n.node,a=Zi.parent(t,i),u=i[i.length-1];if(u>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(i,"] because the destination is past the end of the node."));if(ui()(r=a.children).call(r,u,0,o),e){var c,l=yi(ji.points(e));try{for(l.s();!(c=l.n()).done;){var s=(0,M.c)(c.value,2),f=s[0];e[s[1]]=to.transform(f,n)}}catch(t){l.e(t)}finally{l.f()}}break;case"insert_text":var d,h,p=n.path,v=n.offset,g=n.text;if(0===g.length)break;var m=Zi.leaf(t,p),y=En()(d=m.text).call(d,0,v),b=En()(h=m.text).call(h,v);if(m.text=y+g+b,e){var C,x=yi(ji.points(e));try{for(x.s();!(C=x.n()).done;){var w=(0,M.c)(C.value,2),E=w[0];e[w[1]]=to.transform(E,n)}}catch(t){x.e(t)}finally{x.f()}}break;case"merge_node":var S,k=n.path,D=Zi.get(t,k),A=Ti.previous(k),I=Zi.get(t,A),T=Zi.parent(t,k),B=k[k.length-1];if(co.isText(D)&&co.isText(I))I.text+=D.text;else{var F,L,R;if(co.isText(D)||co.isText(I))throw new Error(P()(F=P()(L='Cannot apply a "merge_node" operation at path ['.concat(k,"] to nodes of different interfaces: ")).call(L,no.stringify(D)," ")).call(F,no.stringify(I)));(R=I.children).push.apply(R,(0,bn.c)(D.children))}if(ui()(S=T.children).call(S,B,1),e){var _,N=yi(ji.points(e));try{for(N.s();!(_=N.n()).done;){var O=(0,M.c)(_.value,2),j=O[0];e[O[1]]=to.transform(j,n)}}catch(t){N.e(t)}finally{N.f()}}break;case"move_node":var G,z,U,W=n.path,Q=n.newPath;if(Ti.isAncestor(W,Q))throw new Error(P()(U="Cannot move a path [".concat(W,"] to new path [")).call(U,Q,"] because the destination is inside itself."));var Z=Zi.get(t,W),J=Zi.parent(t,W),H=W[W.length-1];ui()(G=J.children).call(G,H,1);var V=Ti.transform(W,n),K=Zi.get(t,Ti.parent(V)),Y=V[V.length-1];if(ui()(z=K.children).call(z,Y,0,Z),e){var q,X=yi(ji.points(e));try{for(X.s();!(q=X.n()).done;){var $=(0,M.c)(q.value,2),tt=$[0];e[$[1]]=to.transform(tt,n)}}catch(t){X.e(t)}finally{X.f()}}break;case"remove_node":var et,nt=n.path,rt=nt[nt.length-1],it=Zi.parent(t,nt);if(ui()(et=it.children).call(et,rt,1),e){var ot,at=yi(ji.points(e));try{for(at.s();!(ot=at.n()).done;){var ut=(0,M.c)(ot.value,2),ct=ut[0],lt=ut[1],st=to.transform(ct,n);if(null!=e&&null!=st)e[lt]=st;else{var ft,dt=void 0,ht=void 0,pt=yi(Zi.texts(t));try{for(pt.s();!(ft=pt.n()).done;){var vt=(0,M.c)(ft.value,2),gt=vt[0],mt=vt[1];if(-1!==Ti.compare(mt,nt)){ht=[gt,mt];break}dt=[gt,mt]}}catch(t){pt.e(t)}finally{pt.f()}var yt=!1;dt&&ht&&(yt=Ti.equals(ht[1],nt)?!Ti.hasPrevious(ht[1]):Ti.common(dt[1],nt).length<Ti.common(ht[1],nt).length),dt&&!yt?(ct.path=dt[1],ct.offset=dt[0].text.length):ht?(ct.path=ht[1],ct.offset=0):e=null}}}catch(t){at.e(t)}finally{at.f()}}break;case"remove_text":var bt,Ct,xt=n.path,wt=n.offset,Et=n.text;if(0===Et.length)break;var St=Zi.leaf(t,xt),kt=En()(bt=St.text).call(bt,0,wt),Dt=En()(Ct=St.text).call(Ct,wt+Et.length);if(St.text=kt+Dt,e){var At,It=yi(ji.points(e));try{for(It.s();!(At=It.n()).done;){var Mt=(0,M.c)(At.value,2),Tt=Mt[0];e[Mt[1]]=to.transform(Tt,n)}}catch(t){It.e(t)}finally{It.f()}}break;case"set_node":var Bt=n.path,Ft=n.properties,Lt=n.newProperties;if(0===Bt.length)throw new Error("Cannot set properties on the root node!");var Rt=Zi.get(t,Bt);for(var _t in Lt){if("children"===_t||"text"===_t)throw new Error('Cannot set the "'.concat(_t,'" property of nodes!'));var Nt=Lt[_t];null==Nt?delete Rt[_t]:Rt[_t]=Nt}for(var Pt in Ft)Lt.hasOwnProperty(Pt)||delete Rt[Pt];break;case"set_selection":var Ot=n.newProperties;if(null==Ot)e=Ot;else{if(null==e){if(!ji.isRange(Ot))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(no.stringify(Ot)," when there is no current selection."));e=Li({},Ot)}for(var jt in Ot){var Gt=Ot[jt];if(null==Gt){if("anchor"===jt||"focus"===jt)throw new Error('Cannot remove the "'.concat(jt,'" selection property'));delete e[jt]}else e[jt]=Gt}}break;case"split_node":var zt,Ut=n.path,Wt=n.position,Qt=n.properties;if(0===Ut.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ut,"] because the root node cannot be split."));var Zt,Jt=Zi.get(t,Ut),Ht=Zi.parent(t,Ut),Vt=Ut[Ut.length-1];if(co.isText(Jt)){var Kt,Yt,qt=En()(Kt=Jt.text).call(Kt,0,Wt),Xt=En()(Yt=Jt.text).call(Yt,Wt);Jt.text=qt,Zt=Li(Li({},Qt),{},{text:Xt})}else{var $t,te,ee=En()($t=Jt.children).call($t,0,Wt),ne=En()(te=Jt.children).call(te,Wt);Jt.children=ee,Zt=Li(Li({},Qt),{},{children:ne})}if(ui()(zt=Ht.children).call(zt,Vt+1,0,Zt),e){var re,ie=yi(ji.points(e));try{for(ie.s();!(re=ie.n()).done;){var oe=(0,M.c)(re.value,2),ae=oe[0];e[oe[1]]=to.transform(ae,n)}}catch(t){ie.e(t)}finally{ie.f()}}}return e}(t,n,e)}finally{t.children=(0,pi.o7)(t.children),t.selection=n?(0,pi.Wl)(n)?(0,pi.o7)(n):n:null}}},_i=function t(e,n){for(var r in e){var i=e[r],o=n[r];if(hi()(i)&&hi()(o)){if(!t(i,o))return!1}else if(Gn()(i)&&Gn()(o)){if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(i[a]!==o[a])return!1}else if(i!==o)return!1}for(var u in n)if(void 0===e[u]&&void 0!==n[u])return!1;return!0};function Ni(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=m()(t);for(r=0;r<o.length;r++)n=o[r],xn()(e).call(e,n)>=0||(i[n]=t[n]);return i}(t,e);if(C()){var o=C()(t);for(r=0;r<o.length;r++)n=o[r],xn()(e).call(e,n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Pi=["anchor","focus"];function Oi(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}var ji={edges:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ri()(e),r=void 0!==n&&n,i=t.anchor,o=t.focus;return ji.isBackward(t)===r?[i,o]:[o,i]},end:function(t){var e=ji.edges(t),n=(0,M.c)(e,2)[1];return n},equals:function(t,e){return to.equals(t.anchor,e.anchor)&&to.equals(t.focus,e.focus)},includes:function(t,e){if(ji.isRange(e)){if(kn()(ji).call(ji,t,e.anchor)||kn()(ji).call(ji,t,e.focus))return!0;var n=ji.edges(t),r=(0,M.c)(n,2),i=r[0],o=r[1],a=ji.edges(e),u=(0,M.c)(a,2),c=u[0],l=u[1];return to.isBefore(i,c)&&to.isAfter(o,l)}var s=ji.edges(t),f=(0,M.c)(s,2),d=f[0],h=f[1],p=!1,v=!1;return to.isPoint(e)?(p=to.compare(e,d)>=0,v=to.compare(e,h)<=0):(p=Ti.compare(e,d.path)>=0,v=Ti.compare(e,h.path)<=0),p&&v},intersection:function(t,e){var n=Ni(t,Pi),r=ji.edges(t),i=(0,M.c)(r,2),o=i[0],a=i[1],u=ji.edges(e),c=(0,M.c)(u,2),l=c[0],s=c[1],f=to.isBefore(o,l)?l:o,d=to.isBefore(a,s)?a:s;return to.isBefore(d,f)?null:function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Oi(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Oi(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}({anchor:f,focus:d},n)},isBackward:function(t){var e=t.anchor,n=t.focus;return to.isAfter(e,n)},isCollapsed:function(t){var e=t.anchor,n=t.focus;return to.equals(e,n)},isExpanded:function(t){return!ji.isCollapsed(t)},isForward:function(t){return!ji.isBackward(t)},isRange:function(t){return hi()(t)&&to.isPoint(t.anchor)&&to.isPoint(t.focus)},points:$r().mark((function t(e){return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,[e.anchor,"anchor"];case 2:return t.next=4,[e.focus,"focus"];case 4:case"end":return t.stop()}}),t)})),start:function(t){var e=ji.edges(t),n=(0,M.c)(e,1)[0];return n},transform:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,pi.Ut)(t,(function(t){if(null===t)return null;var r,i,o=n.affinity,a=void 0===o?"inward":o;if("inward"===a){var u=ji.isCollapsed(t);ji.isForward(t)?(r="forward",i=u?r:"backward"):(r="backward",i=u?r:"forward")}else"outward"===a?ji.isForward(t)?(r="backward",i="forward"):(r="forward",i="backward"):(r=a,i=a);var c=to.transform(t.anchor,e,{affinity:r}),l=to.transform(t.focus,e,{affinity:i});if(!c||!l)return null;t.anchor=c,t.focus=l}))}},Gi=function(t){return hi()(t)&&Zi.isNodeList(t.children)&&!Yi.isEditor(t)},zi={isAncestor:function(t){return hi()(t)&&Zi.isNodeList(t.children)},isElement:Gi,isElementList:function(t){return Gn()(t)&&oi()(t).call(t,(function(t){return zi.isElement(t)}))},isElementProps:function(t){return void 0!==t.children},isElementType:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return Gi(t)&&t[n]===e},matches:function(t,e){for(var n in e)if("children"!==n&&t[n]!==e[n])return!1;return!0}},Ui=["children"],Wi=["text"],Qi=new(ei()),Zi={ancestor:function(t,e){var n,r=Zi.get(t,e);if(co.isText(r))throw new Error(P()(n="Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ")).call(n,no.stringify(r)));return r},ancestors:$r().mark((function t(e,n){var r,i,o,a,u,c,l=arguments;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=l.length>2&&void 0!==l[2]?l[2]:{},i=yi(Ti.ancestors(n,r)),t.prev=2,i.s();case 4:if((o=i.n()).done){t.next=12;break}return a=o.value,u=Zi.ancestor(e,a),c=[u,a],t.next=10,c;case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),i.e(t.t0);case 17:return t.prev=17,i.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[2,14,17,20]])})),child:function(t,e){if(co.isText(t))throw new Error("Cannot get the child of a text node: ".concat(no.stringify(t)));var n,r=t.children[e];if(null==r)throw new Error(P()(n="Cannot get child at index `".concat(e,"` in node: ")).call(n,no.stringify(t)));return r},children:$r().mark((function(t,e){var n,r,i,o,a,u,c,l,s=arguments;return $r().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:n=s.length>2&&void 0!==s[2]?s[2]:{},r=ri()(n),i=void 0!==r&&r,o=Zi.ancestor(t,e),a=o.children,u=i?a.length-1:0;case 5:if(!(i?u>=0:u<a.length)){f.next=13;break}return c=Zi.child(o,u),l=P()(e).call(e,u),f.next=10,[c,l];case 10:u=i?u-1:u+1,f.next=5;break;case 13:case"end":return f.stop()}}),a)})),common:function(t,e,n){var r=Ti.common(e,n);return[Zi.get(t,r),r]},descendant:function(t,e){var n,r=Zi.get(t,e);if(Yi.isEditor(r))throw new Error(P()(n="Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ")).call(n,no.stringify(r)));return r},descendants:$r().mark((function t(e){var n,r,i,o,a,u,c=arguments;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:{},r=yi(Zi.nodes(e,n)),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=11;break}if(o=(0,M.c)(i.value,2),a=o[0],0===(u=o[1]).length){t.next=9;break}return t.next=9,[a,u];case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})),elements:$r().mark((function t(e){var n,r,i,o,a,u,c=arguments;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:{},r=yi(Zi.nodes(e,n)),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=11;break}if(o=(0,M.c)(i.value,2),a=o[0],u=o[1],!zi.isElement(a)){t.next=9;break}return t.next=9,[a,u];case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})),extractProps:function(t){return zi.isAncestor(t)?Ni(t,Ui):Ni(t,Wi)},first:function(t,e){for(var n=En()(e).call(e),r=Zi.get(t,n);r&&!co.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment:function(t,e){if(co.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(no.stringify(t)));var n=(0,pi.Ut)({children:t.children},(function(t){var n,r=ji.edges(e),i=(0,M.c)(r,2),o=i[0],a=i[1],u=Zi.nodes(t,{reverse:!0,pass:function(t){var n=(0,M.c)(t,2)[1];return!kn()(ji).call(ji,e,n)}}),c=yi(u);try{for(c.s();!(n=c.n()).done;){var l=(0,M.c)(n.value,2)[1];if(!kn()(ji).call(ji,e,l)){var s,f=Zi.parent(t,l),d=l[l.length-1];ui()(s=f.children).call(s,d,1)}if(Ti.equals(l,a.path)){var h,p=Zi.leaf(t,l);p.text=En()(h=p.text).call(h,0,a.offset)}if(Ti.equals(l,o.path)){var v,g=Zi.leaf(t,l);g.text=En()(v=g.text).call(v,o.offset)}}}catch(t){c.e(t)}finally{c.f()}Yi.isEditor(t)&&(t.selection=null)}));return n.children},get:function(t,e){for(var n=t,r=0;r<e.length;r++){var i,o=e[r];if(co.isText(n)||!n.children[o])throw new Error(P()(i="Cannot find a descendant at path [".concat(e,"] in node: ")).call(i,no.stringify(t)));n=n.children[o]}return n},has:function(t,e){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(co.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode:function(t){return co.isText(t)||zi.isElement(t)||Yi.isEditor(t)},isNodeList:function(t){if(!Gn()(t))return!1;var e=Qi.get(t);if(void 0!==e)return e;var n=oi()(t).call(t,(function(t){return Zi.isNode(t)}));return Qi.set(t,n),n},last:function(t,e){for(var n=En()(e).call(e),r=Zi.get(t,n);r&&!co.isText(r)&&0!==r.children.length;){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf:function(t,e){var n,r=Zi.get(t,e);if(!co.isText(r))throw new Error(P()(n="Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ")).call(n,no.stringify(r)));return r},levels:$r().mark((function t(e,n){var r,i,o,a,u,c=arguments;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=c.length>2&&void 0!==c[2]?c[2]:{},i=yi(Ti.levels(n,r)),t.prev=2,i.s();case 4:if((o=i.n()).done){t.next=11;break}return a=o.value,u=Zi.get(e,a),t.next=9,[u,a];case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),i.e(t.t0);case 16:return t.prev=16,i.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})),matches:function(t,e){return zi.isElement(t)&&zi.isElementProps(e)&&zi.matches(t,e)||co.isText(t)&&co.isTextProps(e)&&co.matches(t,e)},nodes:$r().mark((function t(e){var n,r,i,o,a,u,c,l,s,f,d,h,p,v=arguments;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(n=v.length>1&&void 0!==v[1]?v[1]:{}).pass,i=ri()(n),o=void 0!==i&&i,a=n.from,u=void 0===a?[]:a,c=n.to,l=new(li()),s=[],f=e;case 6:if(!c||!(o?Ti.isBefore(s,c):Ti.isAfter(s,c))){t.next=9;break}return t.abrupt("break",37);case 9:if(l.has(f)){t.next=12;break}return t.next=12,[f,s];case 12:if(l.has(f)||co.isText(f)||0===f.children.length||null!=r&&!1!==r([f,s])){t.next=19;break}return l.add(f),d=o?f.children.length-1:0,Ti.isAncestor(s,u)&&(d=u[s.length]),s=P()(s).call(s,d),f=Zi.get(e,s),t.abrupt("continue",6);case 19:if(0!==s.length){t.next=21;break}return t.abrupt("break",37);case 21:if(o){t.next=27;break}if(h=Ti.next(s),!Zi.has(e,h)){t.next=27;break}return s=h,f=Zi.get(e,s),t.abrupt("continue",6);case 27:if(!o||0===s[s.length-1]){t.next=32;break}return p=Ti.previous(s),s=p,f=Zi.get(e,s),t.abrupt("continue",6);case 32:s=Ti.parent(s),f=Zi.get(e,s),l.add(f),t.next=6;break;case 37:case"end":return t.stop()}}),t)})),parent:function(t,e){var n=Ti.parent(e),r=Zi.get(t,n);if(co.isText(r))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return r},string:function(t){return co.isText(t)?t.text:R()(e=t.children).call(e,Zi.string).join("");var e},texts:$r().mark((function t(e){var n,r,i,o,a,u,c=arguments;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:{},r=yi(Zi.nodes(e,n)),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=11;break}if(o=(0,M.c)(i.value,2),a=o[0],u=o[1],!co.isText(a)){t.next=9;break}return t.next=9,[a,u];case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])}))};function Ji(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Ji(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Ji(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var Vi={isNodeOperation:function(t){var e;return Vi.isOperation(t)&&Mn()(e=t.type).call(e,"_node")},isOperation:function(t){if(!hi()(t))return!1;switch(t.type){case"insert_node":case"remove_node":return Ti.isPath(t.path)&&Zi.isNode(t.node);case"insert_text":case"remove_text":return"number"==typeof t.offset&&"string"==typeof t.text&&Ti.isPath(t.path);case"merge_node":return"number"==typeof t.position&&Ti.isPath(t.path)&&hi()(t.properties);case"move_node":return Ti.isPath(t.path)&&Ti.isPath(t.newPath);case"set_node":return Ti.isPath(t.path)&&hi()(t.properties)&&hi()(t.newProperties);case"set_selection":return null===t.properties&&ji.isRange(t.newProperties)||null===t.newProperties&&ji.isRange(t.properties)||hi()(t.properties)&&hi()(t.newProperties);case"split_node":return Ti.isPath(t.path)&&"number"==typeof t.position&&hi()(t.properties);default:return!1}},isOperationList:function(t){return Gn()(t)&&oi()(t).call(t,(function(t){return Vi.isOperation(t)}))},isSelectionOperation:function(t){var e;return Vi.isOperation(t)&&Mn()(e=t.type).call(e,"_selection")},isTextOperation:function(t){var e;return Vi.isOperation(t)&&Mn()(e=t.type).call(e,"_text")},inverse:function(t){switch(t.type){case"insert_node":return Hi(Hi({},t),{},{type:"remove_node"});case"insert_text":return Hi(Hi({},t),{},{type:"remove_text"});case"merge_node":return Hi(Hi({},t),{},{type:"split_node",path:Ti.previous(t.path)});case"move_node":var e=t.newPath,n=t.path;if(Ti.equals(e,n))return t;if(Ti.isSibling(n,e))return Hi(Hi({},t),{},{path:e,newPath:n});var r=Ti.transform(n,t),i=Ti.transform(Ti.next(n),t);return Hi(Hi({},t),{},{path:r,newPath:i});case"remove_node":return Hi(Hi({},t),{},{type:"insert_node"});case"remove_text":return Hi(Hi({},t),{},{type:"insert_text"});case"set_node":var o=t.properties,a=t.newProperties;return Hi(Hi({},t),{},{properties:a,newProperties:o});case"set_selection":var u=t.properties,c=t.newProperties;return Hi(Hi({},t),{},null==u?{properties:c,newProperties:null}:null==c?{properties:null,newProperties:u}:{properties:c,newProperties:u});case"split_node":return Hi(Hi({},t),{},{type:"merge_node",path:Ti.next(t.path)})}}},Ki=new(ei()),Yi={above:function(t,e){return t.above(e)},addMark:function(t,e,n){t.addMark(e,n)},after:function(t,e,n){return t.after(e,n)},before:function(t,e,n){return t.before(e,n)},deleteBackward:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).unit,n=void 0===e?"character":e;t.deleteBackward(n)},deleteForward:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).unit,n=void 0===e?"character":e;t.deleteForward(n)},deleteFragment:function(t,e){t.deleteFragment(e)},edges:function(t,e){return t.edges(e)},elementReadOnly:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.elementReadOnly(e)},end:function(t,e){return t.end(e)},first:function(t,e){return t.first(e)},fragment:function(t,e){return t.fragment(e)},hasBlocks:function(t,e){return t.hasBlocks(e)},hasInlines:function(t,e){return t.hasInlines(e)},hasPath:function(t,e){return t.hasPath(e)},hasTexts:function(t,e){return t.hasTexts(e)},insertBreak:function(t){t.insertBreak()},insertFragment:function(t,e,n){t.insertFragment(e,n)},insertNode:function(t,e){t.insertNode(e)},insertSoftBreak:function(t){t.insertSoftBreak()},insertText:function(t,e){t.insertText(e)},isBlock:function(t,e){return t.isBlock(e)},isEdge:function(t,e,n){return t.isEdge(e,n)},isEditor:function(t){return function(t){var e=Ki.get(t);if(void 0!==e)return e;if(!hi()(t))return!1;var n="function"==typeof t.addMark&&"function"==typeof t.apply&&"function"==typeof t.deleteFragment&&"function"==typeof t.insertBreak&&"function"==typeof t.insertSoftBreak&&"function"==typeof t.insertFragment&&"function"==typeof t.insertNode&&"function"==typeof t.insertText&&"function"==typeof t.isElementReadOnly&&"function"==typeof t.isInline&&"function"==typeof t.isSelectable&&"function"==typeof t.isVoid&&"function"==typeof t.normalizeNode&&"function"==typeof t.onChange&&"function"==typeof t.removeMark&&"function"==typeof t.getDirtyPaths&&(null===t.marks||hi()(t.marks))&&(null===t.selection||ji.isRange(t.selection))&&Zi.isNodeList(t.children)&&Vi.isOperationList(t.operations);return Ki.set(t,n),n}(t)},isElementReadOnly:function(t,e){return t.isElementReadOnly(e)},isEmpty:function(t,e){return t.isEmpty(e)},isEnd:function(t,e,n){return t.isEnd(e,n)},isInline:function(t,e){return t.isInline(e)},isNormalizing:function(t){return t.isNormalizing()},isSelectable:function(t,e){return t.isSelectable(e)},isStart:function(t,e,n){return t.isStart(e,n)},isVoid:function(t,e){return t.isVoid(e)},last:function(t,e){return t.last(e)},leaf:function(t,e,n){return t.leaf(e,n)},levels:function(t,e){return t.levels(e)},marks:function(t){return t.getMarks()},next:function(t,e){return t.next(e)},node:function(t,e,n){return t.node(e,n)},nodes:function(t,e){return t.nodes(e)},normalize:function(t,e){t.normalize(e)},parent:function(t,e,n){return t.parent(e,n)},path:function(t,e,n){return t.path(e,n)},pathRef:function(t,e,n){return t.pathRef(e,n)},pathRefs:function(t){return t.pathRefs()},point:function(t,e,n){return t.point(e,n)},pointRef:function(t,e,n){return t.pointRef(e,n)},pointRefs:function(t){return t.pointRefs()},positions:function(t,e){return t.positions(e)},previous:function(t,e){return t.previous(e)},range:function(t,e,n){return t.range(e,n)},rangeRef:function(t,e,n){return t.rangeRef(e,n)},rangeRefs:function(t){return t.rangeRefs()},removeMark:function(t,e){t.removeMark(e)},setNormalizing:function(t,e){t.setNormalizing(e)},start:function(t,e){return t.start(e)},string:function(t,e,n){return t.string(e,n)},unhangRange:function(t,e,n){return t.unhangRange(e,n)},void:function(t,e){return t.void(e)},withoutNormalizing:function(t,e){t.withoutNormalizing(e)}},qi={isSpan:function(t){return Gn()(t)&&2===t.length&&oi()(t).call(t,Ti.isPath)}};function Xi(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Xi(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Xi(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var to={compare:function(t,e){var n=Ti.compare(t.path,e.path);return 0===n?t.offset<e.offset?-1:t.offset>e.offset?1:0:n},isAfter:function(t,e){return 1===to.compare(t,e)},isBefore:function(t,e){return-1===to.compare(t,e)},equals:function(t,e){return t.offset===e.offset&&Ti.equals(t.path,e.path)},isPoint:function(t){return hi()(t)&&"number"==typeof t.offset&&Ti.isPath(t.path)},transform:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,pi.Ut)(t,(function(t){if(null===t)return null;var r=n.affinity,i=void 0===r?"forward":r,o=t.path,a=t.offset;switch(e.type){case"insert_node":case"move_node":t.path=Ti.transform(o,e,n);break;case"insert_text":Ti.equals(e.path,o)&&(e.offset<a||e.offset===a&&"forward"===i)&&(t.offset+=e.text.length);break;case"merge_node":Ti.equals(e.path,o)&&(t.offset+=e.position),t.path=Ti.transform(o,e,n);break;case"remove_text":Ti.equals(e.path,o)&&e.offset<=a&&(t.offset-=Math.min(a-e.offset,e.text.length));break;case"remove_node":if(Ti.equals(e.path,o)||Ti.isAncestor(e.path,o))return null;t.path=Ti.transform(o,e,n);break;case"split_node":if(Ti.equals(e.path,o)){if(e.position===a&&null==i)return null;(e.position<a||e.position===a&&"forward"===i)&&(t.offset-=e.position,t.path=Ti.transform(o,e,$i($i({},n),{},{affinity:"forward"})))}else t.path=Ti.transform(o,e,n)}}))}},eo=void 0,no={setScrubber:function(t){eo=t},stringify:function(t){return z()(t,eo)}},ro=["text"],io=["anchor","focus"];function oo(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=oo(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=oo(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var uo,co={equals:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).loose,r=void 0!==n&&n;function i(t){return Ni(t,ro)}return _i(r?i(t):t,r?i(e):e)},isText:function(t){return hi()(t)&&"string"==typeof t.text},isTextList:function(t){return Gn()(t)&&oi()(t).call(t,(function(t){return co.isText(t)}))},isTextProps:function(t){return void 0!==t.text},matches:function(t,e){for(var n in e)if("text"!==n&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;return!0},decorations:function(t,e){var n,r=[ao({},t)],i=yi(e);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,u=Ni(a,io),c=ji.edges(a),l=(0,M.c)(c,2),s=l[0],f=l[1],d=[],h=0,p=s.offset,v=f.offset,g=yi(r);try{for(g.s();!(o=g.n()).done;){var m=o.value,y=m.text.length,b=h;if(h+=y,p<=b&&h<=v)(0,ot.c)(m,u),d.push(m);else if(p!==v&&(p===h||v===b)||p>h||v<b||v===b&&0!==b)d.push(m);else{var C=m,x=void 0,w=void 0;if(v<h){var E,S,k=v-b;w=ao(ao({},C),{},{text:En()(E=C.text).call(E,k)}),C=ao(ao({},C),{},{text:En()(S=C.text).call(S,0,k)})}if(p>b){var D,A,I=p-b;x=ao(ao({},C),{},{text:En()(D=C.text).call(D,0,I)}),C=ao(ao({},C),{},{text:En()(A=C.text).call(A,I)})}(0,ot.c)(C,u),x&&d.push(x),d.push(C),w&&d.push(w)}}}catch(t){g.e(t)}finally{g.f()}r=d}}catch(t){i.e(t)}finally{i.f()}return r}},lo=function(t){return t.selection?t.selection:t.children.length>0?Yi.end(t,[]):[0]},so=function(t,e){var n=Yi.node(t,e),r=(0,M.c)(n,1)[0];return function(t){return t===r}},fo=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!n,i=n?bo(t):t,o=uo.None,a=uo.None,u=0,c=null,l=yi(i);try{for(l.s();!(e=l.n()).done;){var s=e.value,f=fi()(s).call(s,0);if(!f)break;var d=Bo(s,f),h=r?[a,d]:[d,o],p=(0,M.c)(h,2);if(o=p[0],a=p[1],Fo(o,uo.ZWJ)&&Fo(a,uo.ExtPict)&&!No(r?t.substring(0,u):t.substring(0,t.length-u)))break;if(Fo(o,uo.RI)&&Fo(a,uo.RI)&&!(c=null!==c?!c:!!r||Oo(t.substring(0,t.length-u))))break;if(o!==uo.None&&a!==uo.None&&Ro(o,a))break;u+=s.length}}catch(t){l.e(t)}finally{l.f()}return u||1},ho=/\s/,po=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,vo=/['\u2018\u2019]/,go=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;t.length>0;){var i=fo(t,e),o=mo(t,i,e),a=(0,M.c)(o,2),u=a[0],c=a[1];if(yo(u,c,e))r=!0,n+=i;else{if(r)break;n+=i}t=c}return n},mo=function(t,e,n){if(n){var r=t.length-e;return[En()(t).call(t,r,t.length),En()(t).call(t,0,r)]}return[En()(t).call(t,0,e),En()(t).call(t,e)]},yo=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ho.test(e))return!1;if(vo.test(e)){var i=fo(n,r),o=mo(n,i,r),a=(0,M.c)(o,2);if(t(a[0],a[1],r))return!0}return!po.test(e)},bo=$r().mark((function t(e){var n,r,i,o;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.length-1,r=0;case 2:if(!(r<e.length)){t.next=16;break}if(i=e.charAt(n-r),!xo(i.charCodeAt(0))){t.next=11;break}if(o=e.charAt(n-r-1),!Co(o.charCodeAt(0))){t.next=11;break}return t.next=9,o+i;case 9:return r++,t.abrupt("continue",13);case 11:return t.next=13,i;case 13:r++,t.next=2;break;case 16:case"end":return t.stop()}}),t)})),Co=function(t){return t>=55296&&t<=56319},xo=function(t){return t>=56320&&t<=57343};!function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"}(uo||(uo={}));var wo=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Eo=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,So=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,ko=/^[\u1100-\u115F\uA960-\uA97C]$/,Do=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Ao=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Io=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Mo=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,To=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Bo=function(t,e){var n=uo.Any;return-1!==t.search(wo)&&(n|=uo.Extend),8205===e&&(n|=uo.ZWJ),e>=127462&&e<=127487&&(n|=uo.RI),-1!==t.search(Eo)&&(n|=uo.Prepend),-1!==t.search(So)&&(n|=uo.SpacingMark),-1!==t.search(ko)&&(n|=uo.L),-1!==t.search(Do)&&(n|=uo.V),-1!==t.search(Ao)&&(n|=uo.T),-1!==t.search(Io)&&(n|=uo.LV),-1!==t.search(Mo)&&(n|=uo.LVT),-1!==t.search(To)&&(n|=uo.ExtPict),n};function Fo(t,e){return 0!=(t&e)}var Lo=[[uo.L,uo.L|uo.V|uo.LV|uo.LVT],[uo.LV|uo.V,uo.V|uo.T],[uo.LVT|uo.T,uo.T],[uo.Any,uo.Extend|uo.ZWJ],[uo.Any,uo.SpacingMark],[uo.Prepend,uo.Any],[uo.ZWJ,uo.ExtPict],[uo.RI,uo.RI]];function Ro(t,e){return-1===ft()(Lo).call(Lo,(function(n){return Fo(t,n[0])&&Fo(e,n[1])}))}var _o=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,No=function(t){return-1!==t.search(_o)},Po=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Oo=function(t){var e=t.match(Po);return null!==e&&e[0].length/2%2==1},jo={delete:function(t,e){t.delete(e)},insertFragment:function(t,e,n){t.insertFragment(e,n)},insertText:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yi.withoutNormalizing(t,(function(){var r=n.voids,i=void 0!==r&&r,o=n.at,a=void 0===o?lo(t):o;if(Ti.isPath(a)&&(a=Yi.range(t,a)),ji.isRange(a))if(ji.isCollapsed(a))a=a.anchor;else{var u=ji.end(a);if(!i&&Yi.void(t,{at:u}))return;var c=ji.start(a),l=Yi.pointRef(t,c),s=Yi.pointRef(t,u);Uo.delete(t,{at:a,voids:i});var f=l.unref(),d=s.unref();a=f||d,Uo.setSelection(t,{anchor:a,focus:a})}if(!(!i&&Yi.void(t,{at:a})||Yi.elementReadOnly(t,{at:a}))){var h=a,p=h.path,v=h.offset;e.length>0&&t.apply({type:"insert_text",path:p,offset:v,text:e})}}))}};function Go(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Go(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Go(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var Uo=zo(zo(zo(zo({},Ri),{insertNodes:function(t,e,n){t.insertNodes(e,n)},liftNodes:function(t,e){t.liftNodes(e)},mergeNodes:function(t,e){t.mergeNodes(e)},moveNodes:function(t,e){t.moveNodes(e)},removeNodes:function(t,e){t.removeNodes(e)},setNodes:function(t,e,n){t.setNodes(e,n)},splitNodes:function(t,e){t.splitNodes(e)},unsetNodes:function(t,e,n){t.unsetNodes(e,n)},unwrapNodes:function(t,e){t.unwrapNodes(e)},wrapNodes:function(t,e,n){t.wrapNodes(e,n)}}),{collapse:function(t,e){t.collapse(e)},deselect:function(t){t.deselect()},move:function(t,e){t.move(e)},select:function(t,e){t.select(e)},setPoint:function(t,e,n){t.setPoint(e,n)},setSelection:function(t,e){t.setSelection(e)}}),jo),Wo=function(t,e){var n,r=yi(Yi.pathRefs(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;Ci(i,e)}}catch(t){r.e(t)}finally{r.f()}var o,a=yi(Yi.pointRefs(t));try{for(a.s();!(o=a.n()).done;){var u=o.value;xi(u,e)}}catch(t){a.e(t)}finally{a.f()}var c,l=yi(Yi.rangeRefs(t));try{for(l.s();!(c=l.n()).done;){var s=c.value;wi(s,e)}}catch(t){l.e(t)}finally{l.f()}var f,d,h=Ei.get(t)||[],p=Si.get(t)||new(li()),v=function(t){if(t){var e=t.join(",");d.has(e)||(d.add(e),f.push(t))}};if(Ti.operationCanTransformPath(e)){f=[],d=new(li());var g,m=yi(h);try{for(m.s();!(g=m.n()).done;){var y=g.value;v(Ti.transform(y,e))}}catch(t){m.e(t)}finally{m.f()}}else f=h,d=p;var b,C=yi(t.getDirtyPaths(e));try{for(C.s();!(b=C.n()).done;){v(b.value)}}catch(t){C.e(t)}finally{C.f()}Ei.set(t,f),Si.set(t,d),Uo.transform(t,e),t.operations.push(e),Yi.normalize(t,{operation:e}),"set_selection"===e.type&&(t.marks=null),ki.get(t)||(ki.set(t,!0),qr().resolve().then((function(){ki.set(t,!1),t.onChange({operation:e}),t.operations=[]})))},Qo=function(t,e){switch(e.type){case"insert_text":case"remove_text":case"set_node":var n=e.path;return Ti.levels(n);case"insert_node":var r,i=e.node,o=e.path,a=Ti.levels(o),u=co.isText(i)?[]:Rn()(Zi.nodes(i),(function(t){var e=(0,M.c)(t,2)[1];return P()(o).call(o,e)}));return P()(r=[]).call(r,(0,bn.c)(a),(0,bn.c)(u));case"merge_node":var c,l=e.path,s=Ti.ancestors(l),f=Ti.previous(l);return P()(c=[]).call(c,(0,bn.c)(s),[f]);case"move_node":var d,h=e.path,p=e.newPath;if(Ti.equals(h,p))return[];var v,g=[],m=[],y=yi(Ti.ancestors(h));try{for(y.s();!(v=y.n()).done;){var b=v.value,C=Ti.transform(b,e);g.push(C)}}catch(t){y.e(t)}finally{y.f()}var x,w=yi(Ti.ancestors(p));try{for(w.s();!(x=w.n()).done;){var E=x.value,S=Ti.transform(E,e);m.push(S)}}catch(t){w.e(t)}finally{w.f()}var k=m[m.length-1],D=p[p.length-1],A=P()(k).call(k,D);return P()(d=[]).call(d,g,m,[A]);case"remove_node":var I=e.path,T=Ti.ancestors(I);return(0,bn.c)(T);case"split_node":var B,F=e.path,L=Ti.levels(F),R=Ti.next(F);return P()(B=[]).call(B,(0,bn.c)(L),[R]);default:return[]}},Zo=function(t){var e=t.selection;return e?Zi.fragment(t,e):[]},Jo=function(t,e){var n=(0,M.c)(e,2),r=n[0],i=n[1];if(!co.isText(r))if(zi.isElement(r)&&0===r.children.length){Uo.insertNodes(t,{text:""},{at:P()(i).call(i,0),voids:!0})}else for(var o=!Yi.isEditor(r)&&(zi.isElement(r)&&(t.isInline(r)||0===r.children.length||co.isText(r.children[0])||t.isInline(r.children[0]))),a=0,u=0;u<r.children.length;u++,a++){var c=Zi.get(t,i);if(!co.isText(c)){var l=c.children[a],s=c.children[a-1],f=u===r.children.length-1;if((co.isText(l)||zi.isElement(l)&&t.isInline(l))!==o)Uo.removeNodes(t,{at:P()(i).call(i,a),voids:!0}),a--;else if(zi.isElement(l)){if(t.isInline(l))if(null!=s&&co.isText(s)){if(f){Uo.insertNodes(t,{text:""},{at:P()(i).call(i,a+1),voids:!0}),a++}}else{Uo.insertNodes(t,{text:""},{at:P()(i).call(i,a),voids:!0}),a++}}else null!=s&&co.isText(s)&&(co.equals(l,s,{loose:!0})?(Uo.mergeNodes(t,{at:P()(i).call(i,a),voids:!0}),a--):""===s.text?(Uo.removeNodes(t,{at:P()(i).call(i,a-1),voids:!0}),a--):""===l.text&&(Uo.removeNodes(t,{at:P()(i).call(i,a),voids:!0}),a--))}}},Ho=function(t,e){var n=e.iteration,r=42*e.initialDirtyPathsLength;if(n>r)throw new Error("Could not completely normalize the editor after ".concat(r," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},Vo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.voids,r=void 0!==n&&n,i=e.mode,o=void 0===i?"lowest":i,a=e.at,u=void 0===a?t.selection:a,c=e.match;if(u){var l,s=Yi.path(t,u),f="lowest"===o,d=yi(Yi.levels(t,{at:s,voids:r,match:c,reverse:f}));try{for(d.s();!(l=d.n()).done;){var h=(0,M.c)(l.value,2),p=h[0],v=h[1];if(!co.isText(p))if(ji.isRange(u)){if(Ti.isAncestor(v,u.anchor.path)&&Ti.isAncestor(v,u.focus.path))return[p,v]}else if(!Ti.equals(s,v))return[p,v]}}catch(t){d.e(t)}finally{d.f()}}};function Ko(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Ko(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Ko(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var qo=function(t,e,n){var r=t.selection;if(r){var i=function(e,n){if(!co.isText(e))return!1;var r=Yi.parent(t,n),i=(0,M.c)(r,2),o=i[0];i[1];return!t.isVoid(o)||t.markableVoid(o)},o=ji.isExpanded(r),a=!1;if(!o){var u=Yi.node(t,r),c=(0,M.c)(u,2),l=c[0],s=c[1];if(l&&i(l,s)){var f=Yi.parent(t,s),d=(0,M.c)(f,1)[0];a=d&&t.markableVoid(d)}}if(o||a)Uo.setNodes(t,(0,T.c)({},e,n),{match:i,split:!0,voids:!0});else{var h=Yo(Yo({},Yi.marks(t)||{}),{},(0,T.c)({},e,n));t.marks=h,ki.get(t)||t.onChange()}}};function Xo(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $o(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Xo(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Xo(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var ta=function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:Yi.point(t,e,{edge:"end"}),focus:Yi.end(t,[])},a=i.distance,u=void 0===a?1:a,c=0,l=yi(Yi.positions(t,$o($o({},i),{},{at:o})));try{for(l.s();!(r=l.n()).done;){var s=r.value;if(c>u)break;0!==c&&(n=s),c++}}catch(t){l.e(t)}finally{l.f()}return n};function ea(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=ea(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=ea(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var ra=function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:Yi.start(t,[]),focus:Yi.point(t,e,{edge:"start"})},a=i.distance,u=void 0===a?1:a,c=0,l=yi(Yi.positions(t,na(na({},i),{},{at:o,reverse:!0})));try{for(l.s();!(r=l.n()).done;){var s=r.value;if(c>u)break;0!==c&&(n=s),c++}}catch(t){l.e(t)}finally{l.f()}return n},ia=function(t,e){var n=t.selection;n&&ji.isCollapsed(n)&&Uo.delete(t,{unit:e,reverse:!0})},oa=function(t,e){var n=t.selection;n&&ji.isCollapsed(n)&&Uo.delete(t,{unit:e})},aa=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).direction,n=void 0===e?"forward":e,r=t.selection;r&&ji.isExpanded(r)&&Uo.delete(t,{reverse:"backward"===n})},ua=function(t,e){return[Yi.start(t,e),Yi.end(t,e)]};function ca(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function la(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=ca(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=ca(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var sa=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Yi.above(t,la(la({},e),{},{match:function(e){return zi.isElement(e)&&Yi.isElementReadOnly(t,e)}}))},fa=function(t,e){return Yi.point(t,e,{edge:"end"})},da=function(t,e){var n=Yi.path(t,e,{edge:"start"});return Yi.node(t,n)},ha=function(t,e){var n=Yi.range(t,e);return Zi.fragment(t,n)};function pa(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function va(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=pa(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=pa(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var ga=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Yi.above(t,va(va({},e),{},{match:function(e){return zi.isElement(e)&&Yi.isVoid(t,e)}}))},ma=function(t,e){var n;return Vn()(n=e.children).call(n,(function(e){return zi.isElement(e)&&Yi.isBlock(t,e)}))},ya=function(t,e){var n;return Vn()(n=e.children).call(n,(function(e){return co.isText(e)||Yi.isInline(t,e)}))},ba=function(t,e){return Zi.has(t,e)},Ca=function(t,e){var n;return oi()(n=e.children).call(n,(function(t){return co.isText(t)}))},xa=function(t){Uo.splitNodes(t,{always:!0})},wa=function(t,e,n){Uo.insertNodes(t,e,n)},Ea=function(t){Uo.splitNodes(t,{always:!0})};function Sa(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}var ka=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.selection,i=t.marks;if(r){if(i){var o=function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Sa(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Sa(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}({text:e},i);Uo.insertNodes(t,o,{at:n.at,voids:n.voids})}else Uo.insertText(t,e,n);t.marks=null}},Da=function(t,e){return!t.isInline(e)},Aa=function(t,e,n){return Yi.isStart(t,e,n)||Yi.isEnd(t,e,n)},Ia=function(t,e){var n=e.children,r=(0,M.c)(n,1)[0];return 0===n.length||1===n.length&&co.isText(r)&&""===r.text&&!t.isVoid(e)},Ma=function(t,e,n){var r=Yi.end(t,n);return to.equals(e,r)},Ta=function(t){var e=Di.get(t);return void 0===e||e},Ba=function(t,e,n){if(0!==e.offset)return!1;var r=Yi.start(t,n);return to.equals(e,r)},Fa=function(t,e){var n=Yi.path(t,e,{edge:"end"});return Yi.node(t,n)},La=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Yi.path(t,e,n);return[Zi.leaf(t,r),r]};function Ra(t){var e,n,r,i,o,a,u,c,l,s,f,d,h,p,v,g=arguments;return $r().wrap((function(m){for(;;)switch(m.prev=m.next){case 0:if(n=(e=g.length>1&&void 0!==g[1]?g[1]:{}).at,r=void 0===n?t.selection:n,i=ri()(e),o=void 0!==i&&i,a=e.voids,u=void 0!==a&&a,null==(c=e.match)&&(c=function(){return!0}),r){m.next=6;break}return m.abrupt("return");case 6:l=[],s=Yi.path(t,r),f=yi(Zi.levels(t,s)),m.prev=9,f.s();case 11:if((d=f.n()).done){m.next=20;break}if(h=(0,M.c)(d.value,2),p=h[0],v=h[1],c(p,v)){m.next=15;break}return m.abrupt("continue",18);case 15:if(l.push([p,v]),u||!zi.isElement(p)||!Yi.isVoid(t,p)){m.next=18;break}return m.abrupt("break",20);case 18:m.next=11;break;case 20:m.next=25;break;case 22:m.prev=22,m.t0=m.catch(9),f.e(m.t0);case 25:return m.prev=25,f.f(),m.finish(25);case 28:return o&&ri()(l).call(l),m.delegateYield(l,"t1",30);case 30:case"end":return m.stop()}}),vi,null,[[9,22,25,28]])}var _a=["text"],Na=["text"],Pa=function(t){var e=t.marks,n=t.selection;if(!n)return null;if(e)return e;if(ji.isExpanded(n)){var r=Yi.nodes(t,{match:co.isText}),i=(0,M.c)(r,1)[0];return i?Ni((0,M.c)(i,1)[0],_a):{}}var o=n.anchor,a=o.path,u=Yi.leaf(t,a),c=(0,M.c)(u,1)[0];if(0===o.offset){var l=Yi.previous(t,{at:a,match:co.isText}),s=Yi.above(t,{match:function(e){return zi.isElement(e)&&Yi.isVoid(t,e)&&t.markableVoid(e)}});if(!s){var f=Yi.above(t,{match:function(e){return zi.isElement(e)&&Yi.isBlock(t,e)}});if(l&&f){var d=(0,M.c)(l,2),h=d[0],p=d[1],v=(0,M.c)(f,2)[1];Ti.isAncestor(v,p)&&(c=h)}}}return Ni(c,Na)},Oa=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.mode,r=void 0===n?"lowest":n,i=e.voids,o=void 0!==i&&i,a=e.match,u=e.at,c=void 0===u?t.selection:u;if(c){var l=Yi.after(t,c,{voids:o});if(l){var s=Yi.last(t,[]),f=(0,M.c)(s,2)[1],d=[l.path,f];if(Ti.isPath(c)&&0===c.length)throw new Error("Cannot get the next node from the root node!");if(null==a)if(Ti.isPath(c)){var h=Yi.parent(t,c),p=(0,M.c)(h,1)[0];a=function(t){var e;return kn()(e=p.children).call(e,t)}}else a=function(){return!0};var v=Yi.nodes(t,{at:d,match:a,mode:r,voids:o}),g=(0,M.c)(v,1)[0];return g}}},ja=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Yi.path(t,e,n),i=Zi.get(t,r);return[i,r]};function Ga(t){var e,n,r,i,o,a,u,c,l,s,f,d,h,p,v,g,m,y,b,C,x,w,E,S,k,D,A,I,T=arguments;return $r().wrap((function(B){for(;;)switch(B.prev=B.next){case 0:if(n=(e=T.length>1&&void 0!==T[1]?T[1]:{}).at,r=void 0===n?t.selection:n,i=e.mode,o=void 0===i?"all":i,a=e.universal,u=void 0!==a&&a,c=ri()(e),l=void 0!==c&&c,s=e.voids,f=void 0!==s&&s,d=e.ignoreNonSelectable,h=void 0!==d&&d,(p=e.match)||(p=function(){return!0}),r){B.next=6;break}return B.abrupt("return");case 6:qi.isSpan(r)?(v=r[0],g=r[1]):(m=Yi.path(t,r,{edge:"start"}),y=Yi.path(t,r,{edge:"end"}),v=l?y:m,g=l?m:y),b=Zi.nodes(t,{reverse:l,from:v,to:g,pass:function(e){var n=(0,M.c)(e,1)[0];return!!zi.isElement(n)&&(!(f||!Yi.isVoid(t,n)&&!Yi.isElementReadOnly(t,n))||!(!h||Yi.isSelectable(t,n)))}}),C=[],w=yi(b),B.prev=10,w.s();case 12:if((E=w.n()).done){B.next=39;break}if(S=(0,M.c)(E.value,2),k=S[0],D=S[1],!h||!zi.isElement(k)||Yi.isSelectable(t,k)){B.next=16;break}return B.abrupt("continue",37);case 16:if(A=x&&0===Ti.compare(D,x[1]),"highest"!==o||!A){B.next=19;break}return B.abrupt("continue",37);case 19:if(p(k,D)){B.next=25;break}if(!u||A||!co.isText(k)){B.next=24;break}return B.abrupt("return");case 24:return B.abrupt("continue",37);case 25:if("lowest"!==o||!A){B.next=28;break}return x=[k,D],B.abrupt("continue",37);case 28:if(!(I="lowest"===o?x:[k,D])){B.next=36;break}if(!u){B.next=34;break}C.push(I),B.next=36;break;case 34:return B.next=36,I;case 36:x=[k,D];case 37:B.next=12;break;case 39:B.next=44;break;case 41:B.prev=41,B.t0=B.catch(10),w.e(B.t0);case 44:return B.prev=44,w.f(),B.finish(44);case 47:if("lowest"!==o||!x){B.next=54;break}if(!u){B.next=52;break}C.push(x),B.next=54;break;case 52:return B.next=54,x;case 54:if(!u){B.next=56;break}return B.delegateYield(C,"t1",56);case 56:case"end":return B.stop()}}),gi,null,[[10,41,44,47]])}var za=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.force,r=void 0!==n&&n,i=e.operation,o=function(t){return Ei.get(t)||[]},a=function(t){var e=o(t).pop(),n=e.join(",");return function(t){return Si.get(t)||new(li())}(t).delete(n),e};if(Yi.isNormalizing(t)){if(r){var u=Rn()(Zi.nodes(t),(function(t){return(0,M.c)(t,2)[1]})),c=new(li())(R()(u).call(u,(function(t){return t.join(",")})));Ei.set(t,u),Si.set(t,c)}0!==o(t).length&&Yi.withoutNormalizing(t,(function(){var e,n=yi(o(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(Zi.has(t,r)){var u=Yi.node(t,r),c=u,l=(0,M.c)(c,2),s=l[0];l[1];zi.isElement(s)&&0===s.children.length&&t.normalizeNode(u,{operation:i})}}}catch(t){n.e(t)}finally{n.f()}for(var f=o(t),d=f.length,h=0;0!==f.length;){if(!t.shouldNormalize({dirtyPaths:f,iteration:h,initialDirtyPathsLength:d,operation:i}))return;var p=a(t);if(Zi.has(t,p)){var v=Yi.node(t,p);t.normalizeNode(v,{operation:i})}h++,f=o(t)}}))}},Ua=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Yi.path(t,e,n),i=Ti.parent(r);return Yi.node(t,i)},Wa=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:e,affinity:void 0===n?"forward":n,unref:function(){var e=r.current;return Yi.pathRefs(t).delete(r),r.current=null,e}};return Yi.pathRefs(t).add(r),r},Qa=function(t){var e=Ai.get(t);return e||(e=new(li()),Ai.set(t,e)),e},Za=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.depth,i=n.edge;if(Ti.isPath(e))if("start"===i){var o=Zi.first(t,e);e=(0,M.c)(o,2)[1]}else if("end"===i){var a=Zi.last(t,e);e=(0,M.c)(a,2)[1]}return ji.isRange(e)&&(e="start"===i?ji.start(e):"end"===i?ji.end(e):Ti.common(e.anchor.path,e.focus.path)),to.isPoint(e)&&(e=e.path),null!=r&&(e=En()(e).call(e,0,r)),e},Ja=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:e,affinity:void 0===n?"forward":n,unref:function(){var e=r.current;return Yi.pointRefs(t).delete(r),r.current=null,e}};return Yi.pointRefs(t).add(r),r},Ha=function(t){var e=Ii.get(t);return e||(e=new(li()),Ii.set(t,e)),e},Va=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).edge,r=void 0===n?"start":n;if(Ti.isPath(e)){var i;if("end"===r){var o=Zi.last(t,e);i=(0,M.c)(o,2)[1]}else{var a=Zi.first(t,e);i=(0,M.c)(a,2)[1]}var u,c,l=Zi.get(t,i);if(!co.isText(l))throw new Error(P()(u=P()(c="Cannot get the ".concat(r," point in the node at path [")).call(c,e,"] because it has no ")).call(u,r," text node."));return{path:i,offset:"end"===r?l.text.length:0}}if(ji.isRange(e)){var s=ji.edges(e),f=(0,M.c)(s,2),d=f[0],h=f[1];return"start"===r?d:h}return e};function Ka(t){var e,n,r,i,o,a,u,c,l,s,f,d,h,p,v,g,m,y,b,C,x,w,E,S,k,D,A,I,T,B,F,L=arguments;return $r().wrap((function(R){for(;;)switch(R.prev=R.next){case 0:if(F=function(t,e,n){return"character"===e?fo(t,n):"word"===e?go(t,n):"line"===e||"block"===e?t.length:1},n=(e=L.length>1&&void 0!==L[1]?L[1]:{}).at,r=void 0===n?t.selection:n,i=e.unit,o=void 0===i?"offset":i,a=ri()(e),u=void 0!==a&&a,c=e.voids,l=void 0!==c&&c,s=e.ignoreNonSelectable,f=void 0!==s&&s,r){R.next=5;break}return R.abrupt("return");case 5:d=Yi.range(t,r),h=ji.edges(d),p=(0,M.c)(h,2),v=p[0],g=p[1],m=u?g:v,y=!1,b="",C=0,x=0,w=0,E=yi(Yi.nodes(t,{at:r,reverse:u,voids:l,ignoreNonSelectable:f})),R.prev=14,E.s();case 16:if((S=E.n()).done){R.next=51;break}if(k=(0,M.c)(S.value,2),D=k[0],A=k[1],!zi.isElement(D)){R.next=26;break}if(l||!t.isVoid(D)&&!t.isElementReadOnly(D)){R.next=23;break}return R.next=22,Yi.start(t,A);case 22:return R.abrupt("continue",49);case 23:if(!t.isInline(D)){R.next=25;break}return R.abrupt("continue",49);case 25:Yi.hasInlines(t,D)&&(I=Ti.isAncestor(A,g.path)?g:Yi.end(t,A),T=Ti.isAncestor(A,v.path)?v:Yi.start(t,A),b=Yi.string(t,{anchor:T,focus:I},{voids:l}),y=!0);case 26:if(!co.isText(D)){R.next=49;break}if((B=Ti.equals(A,m.path))?(x=u?m.offset:D.text.length-m.offset,w=m.offset):(x=D.text.length,w=u?x:0),!B&&!y&&"offset"!==o){R.next=33;break}return R.next=32,{path:A,offset:w};case 32:y=!1;case 33:if(0!==C){R.next=39;break}if(""!==b){R.next=37;break}return R.abrupt("break",49);case 37:C=F(b,o,u),b=mo(b,C,u)[1];case 39:if(w=u?w-C:w+C,!((x-=C)<0)){R.next=44;break}return C=-x,R.abrupt("break",49);case 44:return C=0,R.next=47,{path:A,offset:w};case 47:R.next=33;break;case 49:R.next=16;break;case 51:R.next=56;break;case 53:R.prev=53,R.t0=R.catch(14),E.e(R.t0);case 56:return R.prev=56,E.f(),R.finish(56);case 59:case"end":return R.stop()}}),mi,null,[[14,53,56,59]])}var Ya=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.mode,r=void 0===n?"lowest":n,i=e.voids,o=void 0!==i&&i,a=e.match,u=e.at,c=void 0===u?t.selection:u;if(c){var l=Yi.before(t,c,{voids:o});if(l){var s=Yi.first(t,[]),f=(0,M.c)(s,2)[1],d=[l.path,f];if(Ti.isPath(c)&&0===c.length)throw new Error("Cannot get the previous node from the root node!");if(null==a)if(Ti.isPath(c)){var h=Yi.parent(t,c),p=(0,M.c)(h,1)[0];a=function(t){var e;return kn()(e=p.children).call(e,t)}}else a=function(){return!0};var v=Yi.nodes(t,{reverse:!0,at:d,match:a,mode:r,voids:o}),g=(0,M.c)(v,1)[0];return g}}},qa=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:e,affinity:void 0===n?"forward":n,unref:function(){var e=r.current;return Yi.rangeRefs(t).delete(r),r.current=null,e}};return Yi.rangeRefs(t).add(r),r},Xa=function(t){var e=Mi.get(t);return e||(e=new(li()),Mi.set(t,e)),e},$a=function(t,e,n){return ji.isRange(e)&&!n?e:{anchor:Yi.start(t,e),focus:Yi.end(t,n||e)}};function tu(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}var eu=function(t,e){var n=t.selection;if(n){var r=function(e,n){if(!co.isText(e))return!1;var r=Yi.parent(t,n),i=(0,M.c)(r,2),o=i[0];i[1];return!t.isVoid(o)||t.markableVoid(o)},i=ji.isExpanded(n),o=!1;if(!i){var a=Yi.node(t,n),u=(0,M.c)(a,2),c=u[0],l=u[1];if(c&&r(c,l)){var s=Yi.parent(t,l),f=(0,M.c)(s,1)[0];o=f&&t.markableVoid(f)}}if(i||o)Uo.unsetNodes(t,e,{match:r,split:!0,voids:!0});else{var d=function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=tu(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=tu(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}({},Yi.marks(t)||{});delete d[e],t.marks=d,ki.get(t)||t.onChange()}}},nu=function(t,e){Di.set(t,e)},ru=function(t,e){return Yi.point(t,e,{edge:"start"})},iu=function(t,e){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).voids,i=void 0!==r&&r,o=Yi.range(t,e),a=ji.edges(o),u=(0,M.c)(a,2),c=u[0],l=u[1],s="",f=yi(Yi.nodes(t,{at:o,match:co.isText,voids:i}));try{for(f.s();!(n=f.n()).done;){var d=(0,M.c)(n.value,2),h=d[0],p=d[1],v=h.text;Ti.equals(p,l.path)&&(v=En()(v).call(v,0,l.offset)),Ti.equals(p,c.path)&&(v=En()(v).call(v,c.offset)),s+=v}}catch(t){f.e(t)}finally{f.f()}return s},ou=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).voids,r=void 0!==n&&n,i=ji.edges(e),o=(0,M.c)(i,2),a=o[0],u=o[1];if(0!==a.offset||0!==u.offset||ji.isCollapsed(e)||Ti.hasPrevious(u.path))return e;var c,l=Yi.above(t,{at:u,match:function(e){return zi.isElement(e)&&Yi.isBlock(t,e)},voids:r}),s=l?l[1]:[],f={anchor:Yi.start(t,a),focus:u},d=!0,h=yi(Yi.nodes(t,{at:f,match:co.isText,reverse:!0,voids:r}));try{for(h.s();!(c=h.n()).done;){var p=(0,M.c)(c.value,2),v=p[0],g=p[1];if(d)d=!1;else if(""!==v.text||Ti.isBefore(g,s)){u={path:g,offset:v.text.length};break}}}catch(t){h.e(t)}finally{h.f()}return{anchor:a,focus:u}},au=function(t,e){var n=Yi.isNormalizing(t);Yi.setNormalizing(t,!1);try{e()}finally{Yi.setNormalizing(t,n)}Yi.normalize(t)},uu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yi.withoutNormalizing(t,(function(){var n,r,i,o,a,u=ri()(e),c=void 0!==u&&u,l=e.unit,s=void 0===l?"character":l,f=e.distance,d=void 0===f?1:f,h=e.voids,p=void 0!==h&&h,v=e.at,g=void 0===v?t.selection:v,m=e.hanging,y=void 0!==m&&m;if(g){var b=!1;if(ji.isRange(g)&&ji.isCollapsed(g)&&(b=!0,g=g.anchor),to.isPoint(g)){var C=Yi.void(t,{at:g,mode:"highest"});if(!p&&C){g=(0,M.c)(C,2)[1]}else{var x={unit:s,distance:d};g={anchor:g,focus:c?Yi.before(t,g,x)||Yi.start(t,[]):Yi.after(t,g,x)||Yi.end(t,[])},y=!0}}if(Ti.isPath(g))Uo.removeNodes(t,{at:g,voids:p});else if(!ji.isCollapsed(g)){if(!y){var w=ji.edges(g),E=(0,M.c)(w,2)[1],S=Yi.end(t,[]);to.equals(E,S)||(g=Yi.unhangRange(t,g,{voids:p}))}var k=ji.edges(g),D=(0,M.c)(k,2),A=D[0],I=D[1],T=Yi.above(t,{match:function(e){return zi.isElement(e)&&Yi.isBlock(t,e)},at:A,voids:p}),B=Yi.above(t,{match:function(e){return zi.isElement(e)&&Yi.isBlock(t,e)},at:I,voids:p}),L=T&&B&&!Ti.equals(T[1],B[1]),_=Ti.equals(A.path,I.path),N=p?null:null!==(o=Yi.void(t,{at:A,mode:"highest"}))&&void 0!==o?o:Yi.elementReadOnly(t,{at:A,mode:"highest"}),P=p?null:null!==(a=Yi.void(t,{at:I,mode:"highest"}))&&void 0!==a?a:Yi.elementReadOnly(t,{at:I,mode:"highest"});if(N){var O=Yi.before(t,A);O&&T&&Ti.isAncestor(T[1],O.path)&&(A=O)}if(P){var j=Yi.after(t,I);j&&B&&Ti.isAncestor(B[1],j.path)&&(I=j)}var G,z,U=[],Q=yi(Yi.nodes(t,{at:g,voids:p}));try{for(Q.s();!(z=Q.n()).done;){var Z=z.value,J=Z,H=(0,M.c)(J,2),V=H[0],K=H[1];G&&0===Ti.compare(K,G)||(!p&&zi.isElement(V)&&(Yi.isVoid(t,V)||Yi.isElementReadOnly(t,V))||!Ti.isCommon(K,A.path)&&!Ti.isCommon(K,I.path))&&(U.push(Z),G=K)}}catch(t){Q.e(t)}finally{Q.f()}var Y=Rn()(U,(function(e){var n=(0,M.c)(e,2)[1];return Yi.pathRef(t,n)})),q=Yi.pointRef(t,A),X=Yi.pointRef(t,I),$="";if(!_&&!N){var tt,et=q.current,nt=Yi.leaf(t,et),rt=(0,M.c)(nt,1)[0],it=et.path,ot=A.offset,at=En()(tt=rt.text).call(tt,ot);at.length>0&&(t.apply({type:"remove_text",path:it,offset:ot,text:at}),$=at)}if(W()(n=F()(r=R()(i=ri()(Y).call(Y)).call(i,(function(t){return t.unref()}))).call(r,(function(t){return null!==t}))).call(n,(function(e){return Uo.removeNodes(t,{at:e,voids:p})})),!P){var ut,ct=X.current,lt=Yi.leaf(t,ct),st=(0,M.c)(lt,1)[0],ft=ct.path,dt=_?A.offset:0,ht=En()(ut=st.text).call(ut,dt,I.offset);ht.length>0&&(t.apply({type:"remove_text",path:ft,offset:dt,text:ht}),$=ht)}!_&&L&&X.current&&q.current&&Uo.mergeNodes(t,{at:X.current,hanging:!0,voids:p}),b&&c&&"character"===s&&$.length>1&&$.match(/[\u0E00-\u0E7F]+/)&&Uo.insertText(t,En()($).call($,0,$.length-d));var pt=q.unref(),vt=X.unref(),gt=c?pt||vt:vt||pt;null==e.at&&gt&&Uo.select(t,gt)}}}))},cu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yi.withoutNormalizing(t,(function(){var r=n.hanging,i=void 0!==r&&r,o=n.voids,a=void 0!==o&&o,u=n.at,c=void 0===u?lo(t):u;if(e.length){if(ji.isRange(c))if(i||(c=Yi.unhangRange(t,c,{voids:a})),ji.isCollapsed(c))c=c.anchor;else{var l=ji.edges(c),s=(0,M.c)(l,2)[1];if(!a&&Yi.void(t,{at:s}))return;var f=Yi.pointRef(t,s);Uo.delete(t,{at:c}),c=f.unref()}else Ti.isPath(c)&&(c=Yi.start(t,c));if(a||!Yi.void(t,{at:c})){var d=Yi.above(t,{at:c,match:function(e){return zi.isElement(e)&&Yi.isInline(t,e)},mode:"highest",voids:a});if(d){var h=(0,M.c)(d,2)[1];if(Yi.isEnd(t,c,h))c=Yi.after(t,h);else if(Yi.isStart(t,c,h)){c=Yi.before(t,h)}}var p,v=Yi.above(t,{match:function(e){return zi.isElement(e)&&Yi.isBlock(t,e)},at:c,voids:a}),g=(0,M.c)(v,2)[1],m=Yi.isStart(t,c,g),y=Yi.isEnd(t,c,g),b=m&&y,C=!m||m&&y,x=!y,w=Zi.first({children:e},[]),E=(0,M.c)(w,2)[1],S=Zi.last({children:e},[]),k=(0,M.c)(S,2)[1],D=[],A=function(e){var n=(0,M.c)(e,2),r=n[0],i=n[1];return!(0===i.length)&&(!!b||!(C&&Ti.isAncestor(i,E)&&zi.isElement(r)&&!t.isVoid(r)&&!t.isInline(r))&&!(x&&Ti.isAncestor(i,k)&&zi.isElement(r)&&!t.isVoid(r)&&!t.isInline(r)))},I=yi(Zi.nodes({children:e},{pass:A}));try{for(I.s();!(p=I.n()).done;){var T=p.value;A(T)&&D.push(T)}}catch(t){I.e(t)}finally{I.f()}for(var B=[],F=[],L=[],R=!0,_=!1,N=0,P=D;N<P.length;N++){var O=(0,M.c)(P[N],1)[0];zi.isElement(O)&&!t.isInline(O)?(R=!1,_=!0,F.push(O)):R?B.push(O):L.push(O)}var j=Yi.nodes(t,{at:c,match:function(e){return co.isText(e)||Yi.isInline(t,e)},mode:"highest",voids:a}),G=(0,M.c)(j,1)[0],z=(0,M.c)(G,2)[1],U=Yi.isStart(t,c,z),W=Yi.isEnd(t,c,z),Q=Yi.pathRef(t,y&&!L.length?Ti.next(g):g),Z=Yi.pathRef(t,W?Ti.next(z):z);Uo.splitNodes(t,{at:c,match:function(e){return _?zi.isElement(e)&&Yi.isBlock(t,e):co.isText(e)||Yi.isInline(t,e)},mode:_?"lowest":"highest",always:_&&(!m||B.length>0)&&(!y||L.length>0),voids:a});var J,H=Yi.pathRef(t,!U||U&&W?Ti.next(z):z);if(Uo.insertNodes(t,B,{at:H.current,match:function(e){return co.isText(e)||Yi.isInline(t,e)},mode:"highest",voids:a}),b&&!B.length&&F.length&&!L.length&&Uo.delete(t,{at:g,voids:a}),Uo.insertNodes(t,F,{at:Q.current,match:function(e){return zi.isElement(e)&&Yi.isBlock(t,e)},mode:"lowest",voids:a}),Uo.insertNodes(t,L,{at:Z.current,match:function(e){return co.isText(e)||Yi.isInline(t,e)},mode:"highest",voids:a}),!n.at)if(L.length>0&&Z.current?J=Ti.previous(Z.current):F.length>0&&Q.current?J=Ti.previous(Q.current):H.current&&(J=Ti.previous(H.current)),J){var V=Yi.end(t,J);Uo.select(t,V)}H.unref(),Q.unref(),Z.unref()}}}))},lu=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).edge,n=void 0===e?"anchor":e,r=t.selection;if(r)if("anchor"===n)Uo.select(t,r.anchor);else if("focus"===n)Uo.select(t,r.focus);else if("start"===n){var i=ji.edges(r),o=(0,M.c)(i,1)[0];Uo.select(t,o)}else if("end"===n){var a=ji.edges(r),u=(0,M.c)(a,2)[1];Uo.select(t,u)}},su=function(t){var e=t.selection;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},fu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selection,r=e.distance,i=void 0===r?1:r,o=e.unit,a=void 0===o?"character":o,u=ri()(e),c=void 0!==u&&u,l=e.edge,s=void 0===l?null:l;if(n){"start"===s&&(s=ji.isBackward(n)?"focus":"anchor"),"end"===s&&(s=ji.isBackward(n)?"anchor":"focus");var f=n.anchor,d=n.focus,h={distance:i,unit:a,ignoreNonSelectable:!0},p={};if(null==s||"anchor"===s){var v=c?Yi.before(t,f,h):Yi.after(t,f,h);v&&(p.anchor=v)}if(null==s||"focus"===s){var g=c?Yi.before(t,d,h):Yi.after(t,d,h);g&&(p.focus=g)}Uo.setSelection(t,p)}},du=function(t,e){var n=t.selection;if(e=Yi.range(t,e),n)Uo.setSelection(t,e);else{if(!ji.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(no.stringify(e)));t.apply({type:"set_selection",properties:n,newProperties:e})}};function hu(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function pu(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=hu(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=hu(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var vu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.selection,i=n.edge,o=void 0===i?"both":i;if(r){"start"===o&&(o=ji.isBackward(r)?"focus":"anchor"),"end"===o&&(o=ji.isBackward(r)?"anchor":"focus");var a=r.anchor,u=r.focus,c="anchor"===o?a:u;Uo.setSelection(t,(0,T.c)({},"anchor"===o?"anchor":"focus",pu(pu({},c),e)))}},gu=function(t,e){var n=t.selection,r={},i={};if(n){for(var o in e)("anchor"===o&&null!=e.anchor&&!to.equals(e.anchor,n.anchor)||"focus"===o&&null!=e.focus&&!to.equals(e.focus,n.focus)||"anchor"!==o&&"focus"!==o&&e[o]!==n[o])&&(r[o]=n[o],i[o]=e[o]);m()(r).length>0&&t.apply({type:"set_selection",properties:r,newProperties:i})}},mu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yi.withoutNormalizing(t,(function(){var r=n.hanging,i=void 0!==r&&r,o=n.voids,a=void 0!==o&&o,u=n.mode,c=void 0===u?"lowest":u,l=n.at,s=n.match,f=n.select;if(Zi.isNode(e)&&(e=[e]),0!==e.length){var d=e,h=(0,M.c)(d,1)[0];if(l||(l=lo(t),f=!0),null==f&&(f=!1),ji.isRange(l))if(i||(l=Yi.unhangRange(t,l,{voids:a})),ji.isCollapsed(l))l=l.anchor;else{var p=ji.edges(l),v=(0,M.c)(p,2)[1],g=Yi.pointRef(t,v);Uo.delete(t,{at:l}),l=g.unref()}if(to.isPoint(l)){null==s&&(s=co.isText(h)?function(t){return co.isText(t)}:t.isInline(h)?function(e){return co.isText(e)||Yi.isInline(t,e)}:function(e){return zi.isElement(e)&&Yi.isBlock(t,e)});var m=Yi.nodes(t,{at:l.path,match:s,mode:c,voids:a}),y=(0,M.c)(m,1)[0];if(!y)return;var b=(0,M.c)(y,2)[1],C=Yi.pathRef(t,b),x=Yi.isEnd(t,l,b);Uo.splitNodes(t,{at:l,match:s,mode:c,voids:a});var w=C.unref();l=x?Ti.next(w):w}var E=Ti.parent(l),S=l[l.length-1];if(a||!Yi.void(t,{at:E})){var k,D=yi(e);try{for(D.s();!(k=D.n()).done;){var A=k.value,I=P()(E).call(E,S);S++,t.apply({type:"insert_node",path:I,node:A}),l=Ti.next(l)}}catch(t){D.e(t)}finally{D.f()}if(l=Ti.previous(l),f){var T=Yi.end(t,l);T&&Uo.select(t,T)}}}}))},yu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yi.withoutNormalizing(t,(function(){var n=e.at,r=void 0===n?t.selection:n,i=e.mode,o=void 0===i?"lowest":i,a=e.voids,u=void 0!==a&&a,c=e.match;if(null==c&&(c=Ti.isPath(r)?so(t,r):function(e){return zi.isElement(e)&&Yi.isBlock(t,e)}),r){var l,s=Yi.nodes(t,{at:r,match:c,mode:o,voids:u}),f=yi(Rn()(s,(function(e){var n=(0,M.c)(e,2)[1];return Yi.pathRef(t,n)})));try{for(f.s();!(l=f.n()).done;){var d=l.value.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var h=Yi.node(t,Ti.parent(d)),p=(0,M.c)(h,2),v=p[0],g=p[1],m=d[d.length-1],y=v.children.length;if(1===y){var b=Ti.next(g);Uo.moveNodes(t,{at:d,to:b,voids:u}),Uo.removeNodes(t,{at:g,voids:u})}else if(0===m)Uo.moveNodes(t,{at:d,to:g,voids:u});else if(m===y-1){var C=Ti.next(g);Uo.moveNodes(t,{at:d,to:C,voids:u})}else{var x=Ti.next(d),w=Ti.next(g);Uo.splitNodes(t,{at:x,voids:u}),Uo.moveNodes(t,{at:d,to:w,voids:u})}}}catch(t){f.e(t)}finally{f.f()}}}))},bu=["text"],Cu=["children"],xu=function t(e,n){if(zi.isElement(n)){var r=n;return!!Yi.isVoid(e,n)||1===r.children.length&&t(e,r.children[0])}return!Yi.isEditor(n)},wu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yi.withoutNormalizing(t,(function(){var n,r,i=e.match,o=e.at,a=void 0===o?t.selection:o,u=e.hanging,c=void 0!==u&&u,l=e.voids,s=void 0!==l&&l,f=e.mode,d=void 0===f?"lowest":f;if(a){if(null==i)if(Ti.isPath(a)){var h=Yi.parent(t,a),p=(0,M.c)(h,1)[0];i=function(t){var e;return kn()(e=p.children).call(e,t)}}else i=function(e){return zi.isElement(e)&&Yi.isBlock(t,e)};if(!c&&ji.isRange(a)&&(a=Yi.unhangRange(t,a,{voids:s})),ji.isRange(a))if(ji.isCollapsed(a))a=a.anchor;else{var v=ji.edges(a),g=(0,M.c)(v,2)[1],m=Yi.pointRef(t,g);Uo.delete(t,{at:a}),a=m.unref(),null==e.at&&Uo.select(t,a)}var y=Yi.nodes(t,{at:a,match:i,voids:s,mode:d}),b=(0,M.c)(y,1)[0],C=Yi.previous(t,{at:a,match:i,voids:s,mode:d});if(b&&C){var x=(0,M.c)(b,2),w=x[0],E=x[1],S=(0,M.c)(C,2),k=S[0],D=S[1];if(0!==E.length&&0!==D.length){var A,I,T=Ti.next(D),B=Ti.common(E,D),F=Ti.isSibling(E,D),L=En()(n=En()(r=Rn()(Yi.levels(t,{at:E}),(function(t){return(0,M.c)(t,1)[0]}))).call(r,B.length)).call(n,0,-1),R=Yi.above(t,{at:E,mode:"highest",match:function(e){return kn()(L).call(L,e)&&xu(t,e)}}),_=R&&Yi.pathRef(t,R[1]);if(co.isText(w)&&co.isText(k)){var N=Ni(w,bu);I=k.text.length,A=N}else{var O,j;if(!zi.isElement(w)||!zi.isElement(k))throw new Error(P()(O=P()(j="Cannot merge the node at path [".concat(E,"] with the previous sibling because it is not the same kind: ")).call(j,no.stringify(w)," ")).call(O,no.stringify(k)));N=Ni(w,Cu);I=k.children.length,A=N}F||Uo.moveNodes(t,{at:E,to:T,voids:s}),_&&Uo.removeNodes(t,{at:_.current,voids:s}),zi.isElement(k)&&Yi.isEmpty(t,k)||co.isText(k)&&""===k.text&&0!==D[D.length-1]?Uo.removeNodes(t,{at:D,voids:s}):t.apply({type:"merge_node",path:T,position:I,properties:A}),_&&_.unref()}}}}))},Eu=function(t,e){Yi.withoutNormalizing(t,(function(){var n=e.to,r=e.at,i=void 0===r?t.selection:r,o=e.mode,a=void 0===o?"lowest":o,u=e.voids,c=void 0!==u&&u,l=e.match;if(i){null==l&&(l=Ti.isPath(i)?so(t,i):function(e){return zi.isElement(e)&&Yi.isBlock(t,e)});var s,f=Yi.pathRef(t,n),d=Yi.nodes(t,{at:i,match:l,mode:a,voids:c}),h=yi(Rn()(d,(function(e){var n=(0,M.c)(e,2)[1];return Yi.pathRef(t,n)})));try{for(h.s();!(s=h.n()).done;){var p=s.value.unref(),v=f.current;0!==p.length&&t.apply({type:"move_node",path:p,newPath:v}),f.current&&Ti.isSibling(v,p)&&Ti.isAfter(v,p)&&(f.current=Ti.next(f.current))}}catch(t){h.e(t)}finally{h.f()}f.unref()}}))},Su=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yi.withoutNormalizing(t,(function(){var n=e.hanging,r=void 0!==n&&n,i=e.voids,o=void 0!==i&&i,a=e.mode,u=void 0===a?"lowest":a,c=e.at,l=void 0===c?t.selection:c,s=e.match;if(l){null==s&&(s=Ti.isPath(l)?so(t,l):function(e){return zi.isElement(e)&&Yi.isBlock(t,e)}),!r&&ji.isRange(l)&&(l=Yi.unhangRange(t,l,{voids:o}));var f,d=Yi.nodes(t,{at:l,match:s,mode:u,voids:o}),h=yi(Rn()(d,(function(e){var n=(0,M.c)(e,2)[1];return Yi.pathRef(t,n)})));try{for(h.s();!(f=h.n()).done;){var p=f.value.unref();if(p){var v=Yi.node(t,p),g=(0,M.c)(v,1)[0];t.apply({type:"remove_node",path:p,node:g})}}}catch(t){h.e(t)}finally{h.f()}}}))},ku=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yi.withoutNormalizing(t,(function(){var r=n.match,i=n.at,o=void 0===i?t.selection:i,a=n.compare,u=n.merge,c=n.hanging,l=void 0!==c&&c,s=n.mode,f=void 0===s?"lowest":s,d=n.split,h=void 0!==d&&d,p=n.voids,v=void 0!==p&&p;if(o){if(null==r&&(r=Ti.isPath(o)?so(t,o):function(e){return zi.isElement(e)&&Yi.isBlock(t,e)}),!l&&ji.isRange(o)&&(o=Yi.unhangRange(t,o,{voids:v})),h&&ji.isRange(o)){if(ji.isCollapsed(o)&&Yi.leaf(t,o.anchor)[0].text.length>0)return;var g=Yi.rangeRef(t,o,{affinity:"inward"}),m=ji.edges(o),y=(0,M.c)(m,2),b=y[0],C=y[1],x="lowest"===f?"lowest":"highest",w=Yi.isEnd(t,C,C.path);Uo.splitNodes(t,{at:C,match:r,mode:x,voids:v,always:!w});var E=Yi.isStart(t,b,b.path);Uo.splitNodes(t,{at:b,match:r,mode:x,voids:v,always:!E}),o=g.unref(),null==n.at&&Uo.select(t,o)}a||(a=function(t,e){return t!==e});var S,k=yi(Yi.nodes(t,{at:o,match:r,mode:f,voids:v}));try{for(k.s();!(S=k.n()).done;){var D=(0,M.c)(S.value,2),A=D[0],I=D[1],T={},B={};if(0!==I.length){var F=!1;for(var L in e)"children"!==L&&"text"!==L&&a(e[L],A[L])&&(F=!0,A.hasOwnProperty(L)&&(T[L]=A[L]),u?null!=e[L]&&(B[L]=u(A[L],e[L])):null!=e[L]&&(B[L]=e[L]));F&&t.apply({type:"set_node",path:I,properties:T,newProperties:B})}}}catch(t){k.e(t)}finally{k.f()}}}))},Du=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yi.withoutNormalizing(t,(function(){var n=e.mode,r=void 0===n?"lowest":n,i=e.voids,o=void 0!==i&&i,a=e.match,u=e.at,c=void 0===u?t.selection:u,l=e.height,s=void 0===l?0:l,f=e.always,d=void 0!==f&&f;if(null==a&&(a=function(e){return zi.isElement(e)&&Yi.isBlock(t,e)}),ji.isRange(c)&&(c=function(t,e){if(ji.isCollapsed(e))return e.anchor;var n=ji.edges(e),r=(0,M.c)(n,2)[1],i=Yi.pointRef(t,r);return Uo.delete(t,{at:e}),i.unref()}(t,c)),Ti.isPath(c)){var h=c,p=Yi.point(t,h),v=Yi.parent(t,h),g=(0,M.c)(v,1)[0];a=function(t){return t===g},s=p.path.length-h.length+1,c=p,d=!0}if(c){var m,y=Yi.pointRef(t,c,{affinity:"backward"});try{var b,C=Yi.nodes(t,{at:c,match:a,mode:r,voids:o}),x=(0,M.c)(C,1)[0];if(!x)return;var w=Yi.void(t,{at:c,mode:"highest"});if(!o&&w){var E=(0,M.c)(w,2),S=E[0],k=E[1];if(zi.isElement(S)&&t.isInline(S)){var D=Yi.after(t,k);if(!D){var A=Ti.next(k);Uo.insertNodes(t,{text:""},{at:A,voids:o}),D=Yi.point(t,A)}c=D,d=!0}s=c.path.length-k.length+1,d=!0}m=Yi.pointRef(t,c);var I,T=c.path.length-s,B=(0,M.c)(x,2)[1],F=En()(b=c.path).call(b,0,T),L=0===s?c.offset:c.path[T]+0,R=yi(Yi.levels(t,{at:F,reverse:!0,voids:o}));try{for(R.s();!(I=R.n()).done;){var _=(0,M.c)(I.value,2),N=_[0],P=_[1],O=!1;if(P.length<B.length||0===P.length||!o&&zi.isElement(N)&&Yi.isVoid(t,N))break;var j=y.current,G=Yi.isEnd(t,j,P);if(d||!y||!Yi.isEdge(t,j,P)){O=!0;var z=Zi.extractProps(N);t.apply({type:"split_node",path:P,position:L,properties:z})}L=P[P.length-1]+(O||G?1:0)}}catch(t){R.e(t)}finally{R.f()}if(null==e.at){var U=m.current||Yi.end(t,[]);Uo.select(t,U)}}finally{var W;y.unref(),null===(W=m)||void 0===W||W.unref()}}}))},Au=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gn()(e)||(e=[e]);var r,i={},o=yi(e);try{for(o.s();!(r=o.n()).done;){i[r.value]=null}}catch(t){o.e(t)}finally{o.f()}Uo.setNodes(t,i,n)},Iu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yi.withoutNormalizing(t,(function(){var n,r=e.mode,i=void 0===r?"lowest":r,o=e.split,a=void 0!==o&&o,u=e.voids,c=void 0!==u&&u,l=e.at,s=void 0===l?t.selection:l,f=e.match;if(s){null==f&&(f=Ti.isPath(s)?so(t,s):function(e){return zi.isElement(e)&&Yi.isBlock(t,e)}),Ti.isPath(s)&&(s=Yi.range(t,s));var d,h=ji.isRange(s)?Yi.rangeRef(t,s):null,p=Yi.nodes(t,{at:s,match:f,mode:i,voids:c}),v=function(e){var n=e.unref(),r=Yi.node(t,n),i=(0,M.c)(r,1)[0],o=Yi.range(t,n);a&&h&&(o=ji.intersection(h.current,o)),Uo.liftNodes(t,{at:o,match:function(t){var e;return zi.isAncestor(i)&&kn()(e=i.children).call(e,t)},voids:c})},g=yi(ri()(n=Rn()(p,(function(e){var n=(0,M.c)(e,2)[1];return Yi.pathRef(t,n)}))).call(n));try{for(g.s();!(d=g.n()).done;){v(d.value)}}catch(t){g.e(t)}finally{g.f()}h&&h.unref()}}))};function Mu(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Mu(Object(r),!0)).call(n,(function(e){Bi(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Mu(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var Bu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yi.withoutNormalizing(t,(function(){var r=n.mode,i=void 0===r?"lowest":r,o=n.split,a=void 0!==o&&o,u=n.voids,c=void 0!==u&&u,l=n.match,s=n.at,f=void 0===s?t.selection:s;if(f){if(null==l&&(l=Ti.isPath(f)?so(t,f):t.isInline(e)?function(e){return zi.isElement(e)&&Yi.isInline(t,e)||co.isText(e)}:function(e){return zi.isElement(e)&&Yi.isBlock(t,e)}),a&&ji.isRange(f)){var d=ji.edges(f),h=(0,M.c)(d,2),p=h[0],v=h[1],g=Yi.rangeRef(t,f,{affinity:"inward"});Uo.splitNodes(t,{at:v,match:l,voids:c}),Uo.splitNodes(t,{at:p,match:l,voids:c}),f=g.unref(),null==n.at&&Uo.select(t,f)}var m,y=Rn()(Yi.nodes(t,{at:f,match:t.isInline(e)?function(e){return zi.isElement(e)&&Yi.isBlock(t,e)}:function(t){return Yi.isEditor(t)},mode:"lowest",voids:c})),b=yi(y);try{for(b.s();!(m=b.n()).done;){var C=(0,M.c)(m.value,2)[1],x=ji.isRange(f)?ji.intersection(f,Yi.range(t,C)):f;if(x){var w=Rn()(Yi.nodes(t,{at:x,match:l,mode:i,voids:c}));if(w.length>0){var E=function(){var n=w,r=(0,M.c)(n,1)[0],i=w[w.length-1],o=(0,M.c)(r,2)[1],a=(0,M.c)(i,2)[1];if(0===o.length&&0===a.length)return"continue";var u=Ti.equals(o,a)?Ti.parent(o):Ti.common(o,a),l=Yi.range(t,o,a),s=Yi.node(t,u),f=(0,M.c)(s,1)[0],d=u.length+1,h=Ti.next(En()(a).call(a,0,d)),p=Tu(Tu({},e),{},{children:[]});Uo.insertNodes(t,p,{at:h,voids:c}),Uo.moveNodes(t,{at:l,match:function(t){var e;return zi.isAncestor(f)&&kn()(e=f.children).call(e,t)},to:P()(h).call(h,0),voids:c})}();if("continue"===E)continue}}}}catch(t){b.e(t)}finally{b.f()}}}))},Fu=function(){var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:function(){return!1},isInline:function(){return!1},isSelectable:function(){return!0},isVoid:function(){return!1},markableVoid:function(){return!1},onChange:function(){},apply:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wo.apply(void 0,P()(e=[t]).call(e,r))},addMark:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qo.apply(void 0,P()(e=[t]).call(e,r))},deleteBackward:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ia.apply(void 0,P()(e=[t]).call(e,r))},deleteForward:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return oa.apply(void 0,P()(e=[t]).call(e,r))},deleteFragment:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return aa.apply(void 0,P()(e=[t]).call(e,r))},getFragment:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Zo.apply(void 0,P()(e=[t]).call(e,r))},insertBreak:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xa.apply(void 0,P()(e=[t]).call(e,r))},insertSoftBreak:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ea.apply(void 0,P()(e=[t]).call(e,r))},insertFragment:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return cu.apply(void 0,P()(e=[t]).call(e,r))},insertNode:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wa.apply(void 0,P()(e=[t]).call(e,r))},insertText:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ka.apply(void 0,P()(e=[t]).call(e,r))},normalizeNode:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jo.apply(void 0,P()(e=[t]).call(e,r))},removeMark:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return eu.apply(void 0,P()(e=[t]).call(e,r))},getDirtyPaths:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Qo.apply(void 0,P()(e=[t]).call(e,r))},shouldNormalize:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ho.apply(void 0,P()(e=[t]).call(e,r))},above:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Vo.apply(void 0,P()(e=[t]).call(e,r))},after:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ta.apply(void 0,P()(e=[t]).call(e,r))},before:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ra.apply(void 0,P()(e=[t]).call(e,r))},collapse:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return lu.apply(void 0,P()(e=[t]).call(e,r))},delete:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uu.apply(void 0,P()(e=[t]).call(e,r))},deselect:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return su.apply(void 0,P()(e=[t]).call(e,r))},edges:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ua.apply(void 0,P()(e=[t]).call(e,r))},elementReadOnly:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return sa.apply(void 0,P()(e=[t]).call(e,r))},end:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fa.apply(void 0,P()(e=[t]).call(e,r))},first:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return da.apply(void 0,P()(e=[t]).call(e,r))},fragment:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ha.apply(void 0,P()(e=[t]).call(e,r))},getMarks:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Pa.apply(void 0,P()(e=[t]).call(e,r))},hasBlocks:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ma.apply(void 0,P()(e=[t]).call(e,r))},hasInlines:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ya.apply(void 0,P()(e=[t]).call(e,r))},hasPath:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ba.apply(void 0,P()(e=[t]).call(e,r))},hasTexts:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ca.apply(void 0,P()(e=[t]).call(e,r))},insertNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return mu.apply(void 0,P()(e=[t]).call(e,r))},isBlock:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Da.apply(void 0,P()(e=[t]).call(e,r))},isEdge:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Aa.apply(void 0,P()(e=[t]).call(e,r))},isEmpty:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ia.apply(void 0,P()(e=[t]).call(e,r))},isEnd:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ma.apply(void 0,P()(e=[t]).call(e,r))},isNormalizing:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ta.apply(void 0,P()(e=[t]).call(e,r))},isStart:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ba.apply(void 0,P()(e=[t]).call(e,r))},last:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Fa.apply(void 0,P()(e=[t]).call(e,r))},leaf:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return La.apply(void 0,P()(e=[t]).call(e,r))},levels:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ra.apply(void 0,P()(e=[t]).call(e,r))},liftNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yu.apply(void 0,P()(e=[t]).call(e,r))},mergeNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wu.apply(void 0,P()(e=[t]).call(e,r))},move:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fu.apply(void 0,P()(e=[t]).call(e,r))},moveNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Eu.apply(void 0,P()(e=[t]).call(e,r))},next:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Oa.apply(void 0,P()(e=[t]).call(e,r))},node:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ja.apply(void 0,P()(e=[t]).call(e,r))},nodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ga.apply(void 0,P()(e=[t]).call(e,r))},normalize:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return za.apply(void 0,P()(e=[t]).call(e,r))},parent:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ua.apply(void 0,P()(e=[t]).call(e,r))},path:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Za.apply(void 0,P()(e=[t]).call(e,r))},pathRef:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wa.apply(void 0,P()(e=[t]).call(e,r))},pathRefs:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Qa.apply(void 0,P()(e=[t]).call(e,r))},point:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Va.apply(void 0,P()(e=[t]).call(e,r))},pointRef:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ja.apply(void 0,P()(e=[t]).call(e,r))},pointRefs:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ha.apply(void 0,P()(e=[t]).call(e,r))},positions:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ka.apply(void 0,P()(e=[t]).call(e,r))},previous:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ya.apply(void 0,P()(e=[t]).call(e,r))},range:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $a.apply(void 0,P()(e=[t]).call(e,r))},rangeRef:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qa.apply(void 0,P()(e=[t]).call(e,r))},rangeRefs:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Xa.apply(void 0,P()(e=[t]).call(e,r))},removeNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Su.apply(void 0,P()(e=[t]).call(e,r))},select:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return du.apply(void 0,P()(e=[t]).call(e,r))},setNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ku.apply(void 0,P()(e=[t]).call(e,r))},setNormalizing:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nu.apply(void 0,P()(e=[t]).call(e,r))},setPoint:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return vu.apply(void 0,P()(e=[t]).call(e,r))},setSelection:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return gu.apply(void 0,P()(e=[t]).call(e,r))},splitNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Du.apply(void 0,P()(e=[t]).call(e,r))},start:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ru.apply(void 0,P()(e=[t]).call(e,r))},string:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return iu.apply(void 0,P()(e=[t]).call(e,r))},unhangRange:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ou.apply(void 0,P()(e=[t]).call(e,r))},unsetNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Au.apply(void 0,P()(e=[t]).call(e,r))},unwrapNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Iu.apply(void 0,P()(e=[t]).call(e,r))},void:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ga.apply(void 0,P()(e=[t]).call(e,r))},withoutNormalizing:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return au.apply(void 0,P()(e=[t]).call(e,r))},wrapNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Bu.apply(void 0,P()(e=[t]).call(e,r))}};return t};function Lu(t,e){var n=void 0!==Nn()&&On()(t)||t["@@iterator"];if(!n){if(Gn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Ru(t,e);var r=En()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Rn()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ru(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ru(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _u=function(t){return hi()(t)&&Gn()(t.redos)&&Gn()(t.undos)&&(0===t.redos.length||Vi.isOperationList(t.redos[0]))&&(0===t.undos.length||Vi.isOperationList(t.undos[0]))},Nu=(new(ei()),new(ei())),Pu=new(ei()),Ou={isHistoryEditor:function(t){return _u(t.history)&&Yi.isEditor(t)},isMerging:function(t){return Pu.get(t)},isSaving:function(t){return Nu.get(t)},redo:function(t){t.redo()},undo:function(t){t.undo()},withoutMerging:function(t,e){var n=Ou.isMerging(t);Pu.set(t,!1),e(),Pu.set(t,n)},withoutSaving:function(t,e){var n=Ou.isSaving(t);Nu.set(t,!1),e(),Nu.set(t,n)}},ju=function(t){var e=t,n=e.apply;return e.history={undos:[],redos:[]},e.redo=function(){var t=e.history,n=t.redos;if(n.length>0){var r=n[n.length-1];Ou.withoutSaving(e,(function(){Yi.withoutNormalizing(e,(function(){var t,n=Lu(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.apply(i)}}catch(t){n.e(t)}finally{n.f()}}))})),t.redos.pop(),t.undos.push(r)}},e.undo=function(){var t=e.history,n=t.undos;if(n.length>0){var r=n[n.length-1];Ou.withoutSaving(e,(function(){Yi.withoutNormalizing(e,(function(){var t,n,i=Lu(ri()(t=R()(r).call(r,Vi.inverse)).call(t));try{for(i.s();!(n=i.n()).done;){var o=n.value;e.apply(o)}}catch(t){i.e(t)}finally{i.f()}}))})),t.redos.push(r),t.undos.pop()}},e.apply=function(t){var r=e.operations,i=e.history,o=i.undos,a=o[o.length-1],u=a&&a[a.length-1],c=Uu(t,u),l=Ou.isSaving(e),s=Ou.isMerging(e);if(null==l&&(l=zu(t)),l){if(null==s&&(s=null!=a&&(0!==r.length||(Gu(t,u)||c))),a&&s)c&&a.pop(),a.push(t);else{var f=[t];o.push(f)}for(;o.length>100;)o.shift();Wu(t)&&(i.redos=[])}n(t)},e},Gu=function(t,e){return"set_selection"===t.type||(!(!e||"insert_text"!==t.type||"insert_text"!==e.type||t.offset!==e.offset+e.text.length||!Ti.equals(t.path,e.path))||!(!e||"remove_text"!==t.type||"remove_text"!==e.type||t.offset+t.text.length!==e.offset||!Ti.equals(t.path,e.path)))},zu=function(t,e){return"set_selection"!==t.type||null!=t.properties&&null!=t.newProperties},Uu=function(t,e){return!(!e||"set_selection"!==t.type||"set_selection"!==e.type)},Wu=function(t){return"set_selection"!==t.type},Qu=n(11984),Zu=n.n(Qu),Ju=n(54895),Hu=n(77284),Vu=n(43840),Ku=n(27688),Yu=n(3460),qu=n(97552),Xu=n.n(qu),$u=n(57548),tc=n.n($u),ec=n(49464),nc=n.n(ec),rc=n(20484),ic=n.n(rc),oc=n(52360),ac=n.n(oc),uc=n(6220),cc=n.n(uc),lc=n(94608),sc=n.n(lc),fc=n(5800),dc=n.n(fc),hc=n(76232),pc=n(96552),vc=n(90352);function gc(t,e,n){return e=(0,Hu.c)(e),(0,Ju.c)(t,mc()?Zu()(e,n||[],(0,Hu.c)(t).constructor):e.apply(t,n))}function mc(){try{var t=!Boolean.prototype.valueOf.call(Zu()(Boolean,[],(function(){})))}catch(t){}return(mc=function(){return!!t})()}function yc(t,e){var n=void 0!==Nn()&&On()(t)||t["@@iterator"];if(!n){if(Gn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return bc(t,e);var r=En()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Rn()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function bc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cc(t,e,n){return e in t?I()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xc(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=m()(t);for(r=0;r<o.length;r++)n=o[r],xn()(e).call(e,n)>=0||(i[n]=t[n]);return i}(t,e);if(C()){var o=C()(t);for(r=0;r<o.length;r++)n=o[r],xn()(e).call(e,n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var wc=(0,H.createContext)(null),Ec=function(){var t=(0,H.useContext)(wc);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},Sc=Xu()(V().version.split(".")[0],10),kc="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Dc="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),Ac="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),Ic="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Mc="undefined"!=typeof navigator&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),Tc="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Bc="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),Fc="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Lc=Ac&&"undefined"!=typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Rc="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),_c="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),Nc="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),Pc=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Oc=(!Fc||!Lc)&&!Tc&&void 0!==tc()&&tc().InputEvent&&"function"==typeof tc().InputEvent.prototype.getTargetRanges,jc=new(ei()),Gc=new(ei()),zc=new(ei()),Uc=new(ei()),Wc=new(ei()),Qc=new(ei()),Zc=new(ei()),Jc=new(ei()),Hc=new(ei()),Vc=new(ei()),Kc=new(ei()),Yc=new(ei()),qc=new(ei()),Xc=new(ei()),$c=new(ei()),tl=new(ei()),el=new(ei()),nl=new(ei()),rl=new(ei()),il=new(ei()),ol=new(ei()),al=Nn()("placeholder"),ul=Nn()("mark-placeholder"),cl=tc().Text,ll=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||null},sl=function(t){return fl(t)&&1===t.nodeType},fl=function(t){var e=ll(t);return!!e&&t instanceof e.Node},dl=function(t){var e=t&&t.anchorNode&&ll(t.anchorNode);return!!e&&t instanceof e.Selection},hl=function(t){return fl(t)&&3===t.nodeType},pl=function(t,e,n){for(var r,i=t.childNodes,o=i[e],a=e,u=!1,c=!1;(fl(r=o)&&8===r.nodeType||sl(o)&&0===o.childNodes.length||sl(o)&&"false"===o.getAttribute("contenteditable"))&&(!u||!c);)a>=i.length?(u=!0,a=e-1,n="backward"):a<0?(c=!0,a=e+1,n="forward"):(o=i[a],e=a,a+="forward"===n?1:-1);return[o,e]},vl=function(t,e,n){var r=pl(t,e,n);return(0,M.c)(r,1)[0]},gl=function t(e){var n="";if(hl(e)&&e.nodeValue)return e.nodeValue;if(sl(e)){for(var r=0,i=Rn()(e.childNodes);r<i.length;r++){n+=t(i[r])}var o=getComputedStyle(e).getPropertyValue("display");"block"!==o&&"list"!==o&&"BR"!==e.tagName||(n+="\n")}return n},ml=/data-slate-fragment="(.+?)"/m,yl=function t(e,n,r){var i=n.target;if(sl(i)&&i.matches('[contentEditable="false"]'))return!1;if(xl.getWindow(e).document.contains(i))return xl.hasDOMNode(e,i,{editable:!0});var o=Jn()(r).call(r,(function(t){var e,n=t.addedNodes,r=t.removedNodes,o=yc(n);try{for(o.s();!(e=o.n()).done;){var a=e.value;if(a===i||a.contains(i))return!0}}catch(t){o.e(t)}finally{o.f()}var u,c=yc(r);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(l===i||l.contains(i))return!0}}catch(t){c.e(t)}finally{c.f()}}));return!(!o||o===n)&&t(e,o,r)},bl=0,Cl=(0,Ku.c)((function t(){(0,Yu.c)(this,t),this.id="".concat(bl++)})),xl={androidPendingDiffs:function(t){return nl.get(t)},androidScheduleFlush:function(t){var e;null===(e=$c.get(t))||void 0===e||e()},blur:function(t){var e=xl.toDOMNode(t,t),n=xl.findDocumentOrShadowRoot(t);Kc.set(t,!1),n.activeElement===e&&e.blur()},deselect:function(t){var e=t.selection,n=xl.findDocumentOrShadowRoot(t).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),e&&pc.cx.deselect(t)},findDocumentOrShadowRoot:function(t){var e=xl.toDOMNode(t,t),n=e.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:e.ownerDocument},findEventRange:function(t,e){"nativeEvent"in e&&(e=e.nativeEvent);var n=e,r=n.clientX,i=n.clientY,o=n.target;if(null==r||null==i)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var a,u=xl.toSlateNode(t,e.target),c=xl.findPath(t,u);if(pc.gr.isElement(u)&&pc.GW.isVoid(t,u)){var l=o.getBoundingClientRect(),s=t.isInline(u)?r-l.left<l.left+l.width-r:i-l.top<l.top+l.height-i,f=pc.GW.point(t,c,{edge:s?"start":"end"}),d=s?pc.GW.before(t,f):pc.GW.after(t,f);if(d)return pc.GW.range(t,d)}var h=xl.getWindow(t).document;if(h.caretRangeFromPoint)a=h.caretRangeFromPoint(r,i);else{var p=h.caretPositionFromPoint(r,i);p&&((a=h.createRange()).setStart(p.offsetNode,p.offset),a.setEnd(p.offsetNode,p.offset))}if(!a)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));return xl.toSlateRange(t,a,{exactMatch:!1,suppressThrow:!1})},findKey:function(t,e){var n=Jc.get(e);return n||(n=new Cl,Jc.set(e,n)),n},findPath:function(t,e){for(var n=[],r=e;;){var i=Gc.get(r);if(null==i){if(pc.GW.isEditor(r))return n;break}var o=jc.get(r);if(null==o)break;n.unshift(o),r=i}throw new Error("Unable to find the path for Slate node: ".concat(pc.Scrubber.stringify(e)))},focus:function(t){var e=xl.toDOMNode(t,t),n=xl.findDocumentOrShadowRoot(t);Kc.set(t,!0),n.activeElement!==e&&e.focus({preventScroll:!0})},getWindow:function(t){var e=zc.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(t,e){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).editable,i=void 0!==r&&r,o=xl.toDOMNode(t,t);try{n=sl(e)?e:e.parentElement}catch(t){var a;if(!kn()(a=t.message).call(a,'Permission denied to access property "nodeType"'))throw t}return!!n&&!(n.closest("[data-slate-editor]")!==o||i&&!n.isContentEditable&&("boolean"!=typeof n.isContentEditable||n.closest('[contenteditable="false"]')!==o)&&!n.getAttribute("data-slate-zero-width"))},hasEditableTarget:function(t,e){return fl(e)&&xl.hasDOMNode(t,e,{editable:!0})},hasRange:function(t,e){var n=e.anchor,r=e.focus;return pc.GW.hasPath(t,n.path)&&pc.GW.hasPath(t,r.path)},hasSelectableTarget:function(t,e){return xl.hasEditableTarget(t,e)||xl.isTargetInsideNonReadonlyVoid(t,e)},hasTarget:function(t,e){return fl(e)&&xl.hasDOMNode(t,e)},insertData:function(t,e){t.insertData(e)},insertFragmentData:function(t,e){return t.insertFragmentData(e)},insertTextData:function(t,e){return t.insertTextData(e)},isComposing:function(t){return!!Yc.get(t)},isFocused:function(t){return!!Kc.get(t)},isReadOnly:function(t){return!!Vc.get(t)},isTargetInsideNonReadonlyVoid:function(t,e){if(Vc.get(t))return!1;var n=xl.hasTarget(t,e)&&xl.toSlateNode(t,e);return pc.gr.isElement(n)&&pc.GW.isVoid(t,n)},setFragmentData:function(t,e,n){return t.setFragmentData(e,n)},toDOMNode:function(t,e){var n=Hc.get(t),r=pc.GW.isEditor(e)?Uc.get(t):null==n?void 0:n.get(xl.findKey(t,e));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(pc.Scrubber.stringify(e)));return r},toDOMPoint:function(t,e){var n,r=pc.GW.node(t,e.path),i=(0,M.c)(r,1)[0],o=xl.toDOMNode(t,i);pc.GW.void(t,{at:e})&&(e={path:e.path,offset:0});for(var a=Rn()(o.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),u=0,c=0;c<a.length;c++){var l=a[c],s=l.childNodes[0];if(null!=s&&null!=s.textContent){var f=s.textContent.length,d=l.getAttribute("data-slate-length"),h=u+(null==d?f:Xu()(d,10)),p=a[c+1];if(e.offset===h&&null!=p&&p.hasAttribute("data-slate-mark-placeholder")){var v,g=p.childNodes[0];n=[g instanceof cl?g:p,null!==(v=p.textContent)&&void 0!==v&&nc()(v).call(v,"\ufeff")?1:0];break}if(e.offset<=h){n=[s,Math.min(f,Math.max(0,e.offset-u))];break}u=h}}if(!n)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(pc.Scrubber.stringify(e)));return n},toDOMRange:function(t,e){var n=e.anchor,r=e.focus,i=pc.EH.isBackward(e),o=xl.toDOMPoint(t,n),a=pc.EH.isCollapsed(e)?o:xl.toDOMPoint(t,r),u=xl.getWindow(t).document.createRange(),c=i?a:o,l=(0,M.c)(c,2),s=l[0],f=l[1],d=i?o:a,h=(0,M.c)(d,2),p=h[0],v=h[1],g=!!(sl(s)?s:s.parentElement).getAttribute("data-slate-zero-width"),m=!!(sl(p)?p:p.parentElement).getAttribute("data-slate-zero-width");return u.setStart(s,g?1:f),u.setEnd(p,m?1:v),u},toSlateNode:function(t,e){var n=sl(e)?e:e.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Qc.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:function(t,e,n){var r=n.exactMatch,i=n.suppressThrow,o=r?e:function(t){var e=(0,M.c)(t,2),n=e[0],r=e[1];if(sl(n)&&n.childNodes.length){var i=r===n.childNodes.length,o=i?r-1:r,a=pl(n,o,i?"backward":"forward"),u=(0,M.c)(a,2);for(n=u[0],i=(o=u[1])<r;sl(n)&&n.childNodes.length;){var c=i?n.childNodes.length-1:0;n=vl(n,c,i?"backward":"forward")}r=i&&null!=n.textContent?n.textContent.length:0}return[n,r]}(e),a=(0,M.c)(o,2),u=a[0],c=a[1],l=u.parentNode,s=null,f=0;if(l){var d,h,p=xl.toDOMNode(t,t),v=l.closest('[data-slate-void="true"]'),g=v&&p.contains(v)?v:null,m=l.closest("[data-slate-leaf]"),y=null;if(m){if(s=m.closest('[data-slate-node="text"]')){var b,C=xl.getWindow(t).document.createRange();C.setStart(s,0),C.setEnd(u,c);var x=C.cloneContents(),w=P()(b=[]).call(b,(0,bn.c)(En()(Array.prototype).call(x.querySelectorAll("[data-slate-zero-width]"))),(0,bn.c)(En()(Array.prototype).call(x.querySelectorAll("[contenteditable=false]"))));W()(w).call(w,(function(t){var e,n;Ac&&!r&&t.hasAttribute("data-slate-zero-width")&&t.textContent.length>0&&"\ufeff"!==t.textContext?nc()(e=t.textContent).call(e,"\ufeff")&&(t.textContent=En()(n=t.textContent).call(n,1)):t.parentNode.removeChild(t)})),f=x.textContent.length,y=s}}else if(g){for(var E,S=g.querySelectorAll("[data-slate-leaf]"),k=0;k<S.length;k++){var D=S[k];if(xl.hasDOMNode(t,D)){m=D;break}}if(m)s=m.closest('[data-slate-node="text"]'),f=(y=m).textContent.length,W()(E=y.querySelectorAll("[data-slate-zero-width]")).call(E,(function(t){f-=t.textContent.length}));else f=1}y&&f===y.textContent.length&&Ac&&"z"===y.getAttribute("data-slate-zero-width")&&null!==(d=y.textContent)&&void 0!==d&&nc()(d).call(d,"\ufeff")&&(l.hasAttribute("data-slate-zero-width")||Ic&&null!==(h=y.textContent)&&void 0!==h&&Mn()(h).call(h,"\n\n"))&&f--}if(Ac&&!s&&!r){var A=l.hasAttribute("data-slate-node")?l:l.closest("[data-slate-node]");if(A&&xl.hasDOMNode(t,A,{editable:!0})){var I=xl.toSlateNode(t,A),T=pc.GW.start(t,xl.findPath(t,I)),B=T.path,F=T.offset;return A.querySelector("[data-slate-leaf]")||(F=c),{path:B,offset:F}}}if(!s){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var L=xl.toSlateNode(t,s);return{path:xl.findPath(t,L),offset:f}},toSlateRange:function(t,e,n){var r,i,o,a,u,c,l=n.exactMatch,s=n.suppressThrow;if(dl(e)?e.anchorNode:e.startContainer)if(dl(e)){if(Ic&&e.rangeCount>1){o=e.focusNode;var f=e.getRangeAt(0),d=e.getRangeAt(e.rangeCount-1);if(o instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement&&d.startContainer instanceof HTMLTableRowElement){var h=function t(e){return e.childElementCount>0?t(e.children[0]):e},p=f.startContainer,v=d.startContainer,g=h(p.children[f.startOffset]),m=h(v.children[d.startOffset]);a=0,r=m.childNodes.length>0?m.childNodes[0]:m,o=g.childNodes.length>0?g.childNodes[0]:g,i=m instanceof HTMLElement?m.innerHTML.length:0}else f.startContainer===o?(r=d.endContainer,i=d.endOffset,a=f.startOffset):(r=f.startContainer,i=f.endOffset,a=d.startOffset)}else r=e.anchorNode,i=e.anchorOffset,o=e.focusNode,a=e.focusOffset;u=Bc&&function(t){for(var e=t&&t.parentNode;e;){if("[object ShadowRoot]"===e.toString())return!0;e=e.parentNode}return!1}(r)||Ic?e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:e.isCollapsed}else r=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,u=e.collapsed;if(null==r||null==o||null==i||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));"getAttribute"in o&&"false"===o.getAttribute("contenteditable")&&"true"!==o.getAttribute("data-slate-void")&&(o=r,a=(null===(c=r.textContent)||void 0===c?void 0:c.length)||0);var y=xl.toSlatePoint(t,[r,i],{exactMatch:l,suppressThrow:s});if(!y)return null;var b=u?y:xl.toSlatePoint(t,[o,a],{exactMatch:l,suppressThrow:s});if(!b)return null;var C={anchor:y,focus:b};return pc.EH.isExpanded(C)&&pc.EH.isForward(C)&&sl(o)&&pc.GW.void(t,{at:C.focus,mode:"highest"})&&(C=pc.GW.unhangRange(t,C,{voids:!0})),C}};function wl(t,e){var n,r=e.path,i=e.diff;if(!pc.GW.hasPath(t,r))return!1;var o,a=pc.a8.get(t,r);if(!pc.a.isText(a))return!1;if(i.start!==a.text.length||0===i.text.length)return En()(o=a.text).call(o,i.start,i.start+i.text.length)===i.text;var u=pc.YH.next(r);if(!pc.GW.hasPath(t,u))return!1;var c=pc.a8.get(t,u);return pc.a.isText(c)&&nc()(n=c.text).call(n,i.text)}function El(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return j()(n).call(n,(function(t,e){return En()(t).call(t,0,e.start)+e.text+En()(t).call(t,e.end)}),t)}function Sl(t,e){var n=e.start,r=e.end,i=e.text,o=En()(t).call(t,n,r),a=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r))return r;return n}(o,i),u=function(t,e,n){for(var r=Math.min(t.length,e.length,n),i=0;i<r;i++)if(t.charAt(t.length-i-1)!==e.charAt(e.length-i-1))return i;return r}(o,i,Math.min(o.length-a,i.length-a)),c={start:n+a,end:r-u,text:En()(i).call(i,a,i.length-u)};return c.start===c.end&&0===c.text.length?null:c}function kl(t){var e=t.path,n=t.diff;return{anchor:{path:e,offset:n.start},focus:{path:e,offset:n.end}}}function Dl(t,e){var n=e.path,r=e.offset;if(!pc.GW.hasPath(t,n))return null;var i=pc.a8.get(t,n);if(!pc.a.isText(i))return null;var o=pc.GW.above(t,{match:function(e){return pc.gr.isElement(e)&&pc.GW.isBlock(t,e)},at:n});if(!o)return null;for(;r>i.text.length;){var a=pc.GW.next(t,{at:n,match:pc.a.isText});if(!a||!pc.YH.isDescendant(a[1],o[1]))return null;r-=i.text.length,i=a[0],n=a[1]}return{path:n,offset:r}}function Al(t,e){var n=Dl(t,e.anchor);if(!n)return null;if(pc.EH.isCollapsed(e))return{anchor:n,focus:n};var r=Dl(t,e.focus);return r?{anchor:n,focus:r}:null}function Il(t,e,n){var r=nl.get(t),i=null==r?void 0:Jn()(r).call(r,(function(t){var n=t.path;return pc.YH.equals(n,e.path)}));if(!i||e.offset<=i.diff.start)return pc.wb.transform(e,n,{affinity:"backward"});var o=i.diff;if(e.offset<=o.start+o.text.length){var a={path:e.path,offset:o.start},u=pc.wb.transform(a,n,{affinity:"backward"});return u?{path:u.path,offset:u.offset+e.offset-o.start}:null}var c={path:e.path,offset:e.offset-o.text.length+o.end-o.start},l=pc.wb.transform(c,n,{affinity:"backward"});return l?"split_node"===n.type&&pc.YH.equals(n.path,e.path)&&c.offset<n.position&&o.start<n.position?l:{path:l.path,offset:l.offset+o.text.length-o.end+o.start}:null}function Ml(t,e,n){var r=Il(t,e.anchor,n);if(!r)return null;if(pc.EH.isCollapsed(e))return{anchor:r,focus:r};var i=Il(t,e.focus,n);return i?{anchor:r,focus:i}:null}function Tl(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bl(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Tl(Object(r),!0)).call(n,(function(e){Cc(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Tl(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}function Fl(t){var e=t.editor,n=t.scheduleOnDOMSelectionChange,r=t.onDOMSelectionChange,i=!1,o=null,a=null,u=null,c=0,l=!1,s=function(){var t=il.get(e);if(il.delete(e),t){var n=e.selection,r=Al(e,t);!r||n&&pc.EH.equals(r,n)||pc.cx.select(e,r)}},f=function(){if(a&&(clearTimeout(a),a=null),u&&(clearTimeout(u),u=null),g()||v()){i||(i=!0,ut()((function(){return i=!1}))),v()&&(i="action");var t=e.selection&&pc.GW.rangeRef(e,e.selection,{affinity:"forward"});el.set(e,e.marks),rl.get(e),nl.get(e);for(var o,c=g();o=null===(f=nl.get(e))||void 0===f?void 0:f[0];){var f,d,h=tl.get(e);void 0!==h&&(tl.delete(e),e.marks=h),h&&!1===l&&(l=null);var p=kl(o);e.selection&&pc.EH.equals(e.selection,p)||pc.cx.select(e,p),o.diff.text?pc.GW.insertText(e,o.diff.text):pc.GW.deleteFragment(e),nl.set(e,null===(d=nl.get(e))||void 0===d?void 0:F()(d).call(d,(function(t){return t.id!==o.id}))),wl(e,o)||(c=!1,rl.delete(e),el.delete(e),i="action",il.delete(e),n.cancel(),r.cancel(),null==t||t.unref())}var m=null==t?void 0:t.unref();if(!m||il.get(e)||e.selection&&pc.EH.equals(m,e.selection)||pc.cx.select(e,m),v())!function(){var t=rl.get(e);if(rl.delete(e),t){if(t.at){var n=pc.wb.isPoint(t.at)?Dl(e,t.at):Al(e,t.at);if(!n)return;var r=pc.GW.range(e,n);e.selection&&pc.EH.equals(e.selection,r)||pc.cx.select(e,n)}t.run()}}();else{c&&n(),n.flush(),r.flush(),s();var y=el.get(e);el.delete(e),void 0!==y&&(e.marks=y,e.onChange())}}else s()},d=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Wc.get(e);n&&(g()||t?n.style.display="none":n.style.removeProperty("display"))},h=function(t,n){var r,i=null!==(r=nl.get(e))&&void 0!==r?r:[];nl.set(e,i);var o=pc.a8.leaf(e,t),a=ft()(i).call(i,(function(e){return pc.YH.equals(e.path,t)}));if(a<0)return Sl(o.text,n)&&i.push({path:t,diff:n,id:c++}),void d();var u=function(t,e,n){var r=Math.min(e.start,n.start),i=Math.max(0,Math.min(e.start+e.text.length,n.end)-n.start),o=El(t,e,n),a=Math.max(n.start+n.text.length,e.start+e.text.length+(e.start+e.text.length>n.start?n.text.length:0)-i),u=En()(o).call(o,r,a);return Sl(t,{start:r,end:Math.max(e.end,n.end-e.text.length+(e.end-e.start)),text:u})}(o.text,i[a].diff,n);if(!u)return ui()(i).call(i,a,1),void d();i[a]=Bl(Bl({},i[a]),{},{diff:u})},p=function(t){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).at;l=!1,il.delete(e),n.cancel(),r.cancel(),v()&&f(),rl.set(e,{at:i,run:t}),u=ut()(f)},v=function(){return!!rl.get(e)},g=function(){var t;return!(null===(t=nl.get(e))||void 0===t||!t.length)},m=function(t){var n,r;il.set(e,t),a&&(clearTimeout(a),a=null);var i=e.selection;if(t){var o=!i||!pc.YH.equals(i.anchor.path,t.anchor.path),u=!i||!pc.YH.equals(En()(n=i.anchor.path).call(n,0,-1),En()(r=t.anchor.path).call(r,0,-1));(o&&l||u)&&(l=!1),(o||g())&&(a=ut()(f,200))}},y=function(){v()||(u=ut()(f))};return{flush:f,scheduleFlush:y,hasPendingDiffs:g,hasPendingAction:v,hasPendingChanges:function(){return v()||g()},isFlushing:function(){return i},handleUserSelect:m,handleCompositionEnd:function(t){o&&clearTimeout(o),o=ut()((function(){Yc.set(e,!1),f()}),25)},handleCompositionStart:function(t){Yc.set(e,!0),o&&(clearTimeout(o),o=null)},handleDOMBeforeInput:function(t){var n;a&&(clearTimeout(a),a=null);var r=t.inputType,i=null,o=t.dataTransfer||t.data||void 0;!1!==l&&"insertText"!==r&&"insertCompositionText"!==r&&(l=!1);var u=t.getTargetRanges(),c=(0,M.c)(u,1)[0];c&&(i=xl.toSlateRange(e,c,{exactMatch:!1,suppressThrow:!0}));var s=xl.getWindow(e).getSelection();if(!i&&s&&(c=s,i=xl.toSlateRange(e,s,{exactMatch:!1,suppressThrow:!0})),i=null!==(n=i)&&void 0!==n?n:e.selection){var f,d=!0;if(nc()(r).call(r,"delete")){var v;if(pc.EH.isExpanded(i)){var g=pc.EH.edges(i),b=(0,M.c)(g,2),C=b[0],x=b[1];if(pc.a8.leaf(e,C.path).text.length===C.offset&&0===x.offset){var w=pc.GW.next(e,{at:C.path,match:pc.a.isText});w&&pc.YH.equals(w[1],x.path)&&(i={anchor:x,focus:x})}}var E=Mn()(r).call(r,"Backward")?"backward":"forward",S=pc.EH.edges(i),k=(0,M.c)(S,2),D=k[0],A=k[1],I=pc.GW.leaf(e,D.path),T=(0,M.c)(I,2),B=T[0],F=T[1],L={text:"",start:D.offset,end:A.offset},R=nl.get(e),_=null==R?void 0:Jn()(R).call(R,(function(t){return pc.YH.equals(t.path,F)})),N=_?[_.diff,L]:[L];if(0===El.apply(void 0,P()(v=[B.text]).call(v,N)).length&&(d=!1),pc.EH.isExpanded(i)){if(d&&pc.YH.equals(i.anchor.path,i.focus.path)){var O={path:i.anchor.path,offset:D.offset},j=pc.GW.range(e,O,O);return m(j),h(i.anchor.path,{text:"",end:A.offset,start:D.offset})}return p((function(){return pc.GW.deleteFragment(e,{direction:E})}),{at:i})}}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p((function(){return pc.GW.deleteFragment(e)}),{at:i});case"deleteContent":case"deleteContentForward":var G=i.anchor;if(d&&pc.EH.isCollapsed(i)){var z=pc.a8.leaf(e,G.path);if(G.offset<z.text.length)return h(G.path,{text:"",start:G.offset,end:G.offset+1})}return p((function(){return pc.GW.deleteForward(e)}),{at:i});case"deleteContentBackward":var U,Q=i.anchor,Z=dl(c)?c.isCollapsed:!(null===(U=c)||void 0===U||!U.collapsed);return d&&Z&&pc.EH.isCollapsed(i)&&Q.offset>0?h(Q.path,{text:"",start:Q.offset-1,end:Q.offset}):p((function(){return pc.GW.deleteBackward(e)}),{at:i});case"deleteEntireSoftLine":return p((function(){pc.GW.deleteBackward(e,{unit:"line"}),pc.GW.deleteForward(e,{unit:"line"})}),{at:i});case"deleteHardLineBackward":return p((function(){return pc.GW.deleteBackward(e,{unit:"block"})}),{at:i});case"deleteSoftLineBackward":return p((function(){return pc.GW.deleteBackward(e,{unit:"line"})}),{at:i});case"deleteHardLineForward":return p((function(){return pc.GW.deleteForward(e,{unit:"block"})}),{at:i});case"deleteSoftLineForward":return p((function(){return pc.GW.deleteForward(e,{unit:"line"})}),{at:i});case"deleteWordBackward":return p((function(){return pc.GW.deleteBackward(e,{unit:"word"})}),{at:i});case"deleteWordForward":return p((function(){return pc.GW.deleteForward(e,{unit:"word"})}),{at:i});case"insertLineBreak":return p((function(){return pc.GW.insertSoftBreak(e)}),{at:i});case"insertParagraph":return p((function(){return pc.GW.insertBreak(e)}),{at:i});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if("DataTransfer"===(null==(f=o)?void 0:f.constructor.name))return p((function(){return xl.insertData(e,o)}),{at:i});var J=null!=o?o:"";if(tl.get(e)&&(J=J.replace("\ufeff","")),"insertText"===r&&/.*\n.*\n$/.test(J)&&(J=En()(J).call(J,0,-1)),kn()(J).call(J,"\n"))return p((function(){var t=J.split("\n");W()(t).call(t,(function(n,r){n&&pc.GW.insertText(e,n),r!==t.length-1&&pc.GW.insertSoftBreak(e)}))}),{at:i});if(pc.YH.equals(i.anchor.path,i.focus.path)){var H=pc.EH.edges(i),V=(0,M.c)(H,2),K=V[0],Y=V[1],q={start:K.offset,end:Y.offset,text:J};if(J&&l&&"insertCompositionText"===r){var X=l.start+l.text.search(/\S|$/);q.start+q.text.search(/\S|$/)===X+1&&q.end===l.start+l.text.length?(q.start-=1,l=null,y()):l=!1}else l="insertText"===r&&(null===l?q:!(!l||!pc.EH.isCollapsed(i)||l.end+l.text.length!==K.offset)&&Bl(Bl({},l),{},{text:l.text+J}));if(d)return void h(K.path,q)}return p((function(){return pc.GW.insertText(e,J)}),{at:i})}}},handleKeyDown:function(t){g()||(d(!0),ut()(d))},handleDomMutations:function(t){var n;g()||v()||Vn()(t).call(t,(function(n){return yl(e,n,t)}))&&(null===(n=ol.get(e))||void 0===n||n())},handleInput:function(){!v()&&g()||f()}}}var Ll=Pc?H.useLayoutEffect:H.useEffect;var Rl=["node"];function _l(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}var Nl={subtree:!0,childList:!0,characterData:!0},Pl=Ac?function(t){var e=t.node,n=xc(t,Rl);if(!Ac)return null;var r,i=Ec(),o=(r=(0,H.useRef)(!1),(0,H.useEffect)((function(){return r.current=!0,function(){r.current=!1}}),[]),r.current),a=(0,H.useState)((function(){return Fl(function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=_l(Object(r),!0)).call(n,(function(e){Cc(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=_l(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}({editor:i},n))})),u=(0,M.c)(a,1)[0];return function(t,e,n){var r=(0,H.useState)((function(){return new MutationObserver(e)})),i=(0,M.c)(r,1)[0];Ll((function(){i.takeRecords()})),(0,H.useEffect)((function(){if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return i.observe(t.current,n),function(){return i.disconnect()}}),[i,t,n])}(e,u.handleDomMutations,Nl),$c.set(i,u.scheduleFlush),o&&u.flush(),u}:function(){return null},Ol=["anchor","focus"],jl=["anchor","focus"],Gl=function(t,e){var n,r,i,o=xc(t,Ol),a=xc(e,jl);return t[al]===e[al]&&(n=o,r=a,m()(n).length===m()(r).length&&oi()(i=m()(n)).call(i,(function(t){return r.hasOwnProperty(t)&&n[t]===r[t]})))},zl=function(t){var e,n=t.isLast,r=t.leaf,i=t.parent,o=t.text,a=Ec(),u=xl.findPath(a,o),c=pc.YH.parent(u),l=!0===r[ul];return a.isVoid(i)?V().createElement(Ql,{length:pc.a8.string(i).length}):""!==r.text||i.children[i.children.length-1]!==o||a.isInline(i)||""!==pc.GW.string(a,c)?""===r.text?V().createElement(Ql,{isMarkPlaceholder:l}):n&&"\n"===En()(e=r.text).call(e,-1)?V().createElement(Ul,{isTrailing:!0,text:r.text}):V().createElement(Ul,{text:r.text}):V().createElement(Ql,{isLineBreak:!0,isMarkPlaceholder:l})},Ul=function(t){var e=t.text,n=t.isTrailing,r=void 0!==n&&n,i=(0,H.useRef)(null),o=function(){var t;return P()(t="".concat(null!=e?e:"")).call(t,r?"\n":"")},a=(0,H.useState)(o),u=(0,M.c)(a,1)[0];return Ll((function(){var t=o();i.current&&i.current.textContent!==t&&(i.current.textContent=t)})),V().createElement(Wl,{ref:i},u)},Wl=(0,H.memo)((0,H.forwardRef)((function(t,e){return V().createElement("span",{"data-slate-string":!0,ref:e},t.children)}))),Ql=function(t){var e=t.length,n=void 0===e?0:e,r=t.isLineBreak,i=void 0!==r&&r,o=t.isMarkPlaceholder,a={"data-slate-zero-width":i?"n":"z","data-slate-length":n};return void 0!==o&&o&&(a["data-slate-mark-placeholder"]=!0),V().createElement("span",(0,ot.c)({},a),Ac&&i?null:"\ufeff",i?V().createElement("br",null):null)};function Zl(t){t.current&&(clearTimeout(t.current),t.current=null)}var Jl=function(t){var e=t.leaf,n=t.isLast,r=t.text,i=t.parent,o=t.renderPlaceholder,a=t.renderLeaf,u=void 0===a?function(t){return V().createElement(Vl,(0,ot.c)({},t))}:a,c=Ec(),l=(0,H.useRef)(null),s=(0,H.useRef)(null),f=(0,H.useState)(!1),d=(0,M.c)(f,2),h=d[0],p=d[1],v=(0,H.useRef)(null),g=(0,H.useCallback)((function(t){if(function(t,e){t.current&&(t.current.disconnect(),e&&(t.current=null))}(l,null==t),null==t){var n;Wc.delete(c),null===(n=e.onPlaceholderResize)||void 0===n||n.call(e,null)}else{if(Wc.set(c,t),!l.current){var r=window.ResizeObserver||ResizeObserver;l.current=new r((function(){var n;null===(n=e.onPlaceholderResize)||void 0===n||n.call(e,t)}))}l.current.observe(t),s.current=t}}),[s,e,c]),m=V().createElement(zl,{isLast:n,leaf:e,parent:i,text:r}),y=e[al];if((0,H.useEffect)((function(){return y?v.current||(v.current=ut()((function(){p(!0),v.current=null}),300)):(Zl(v),p(!1)),function(){return Zl(v)}}),[y,p]),y&&h){var b={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Mc?"inherit":void 0},contentEditable:!1,ref:g}};m=V().createElement(V().Fragment,null,o(b),m)}return u({attributes:{"data-slate-leaf":!0},children:m,leaf:e,text:r})},Hl=V().memo(Jl,(function(t,e){return e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&pc.a.equals(e.leaf,t.leaf)&&e.leaf[al]===t.leaf[al]})),Vl=function(t){var e=t.attributes,n=t.children;return V().createElement("span",(0,ot.c)({},e),n)},Kl=function(t){for(var e=t.decorations,n=t.isLast,r=t.parent,i=t.renderPlaceholder,o=t.renderLeaf,a=t.text,u=Ec(),c=(0,H.useRef)(null),l=pc.a.decorations(a,e),s=xl.findKey(u,a),f=[],d=0;d<l.length;d++){var h,p=l[d];f.push(V().createElement(Hl,{isLast:n&&d===l.length-1,key:P()(h="".concat(s.id,"-")).call(h,d),renderPlaceholder:i,leaf:p,text:a,parent:r,renderLeaf:o}))}var v=(0,H.useCallback)((function(t){var e=Hc.get(u);t?(null==e||e.set(s,t),Zc.set(a,t),Qc.set(t,a)):(null==e||e.delete(s),Zc.delete(a),c.current&&Qc.delete(c.current)),c.current=t}),[c,u,s,a]);return V().createElement("span",{"data-slate-node":"text",ref:v},f)},Yl=V().memo(Kl,(function(t,e){return e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(r.anchor.offset!==i.anchor.offset||r.focus.offset!==i.focus.offset||!Gl(r,i))return!1}return!0}(e.decorations,t.decorations)})),ql=function(t){var e=t.decorations,n=t.element,r=t.renderElement,i=void 0===r?function(t){return V().createElement($l,(0,ot.c)({},t))}:r,o=t.renderPlaceholder,a=t.renderLeaf,u=t.selection,c=Ec(),l=os(),s=c.isInline(n),f=xl.findKey(c,n),d=(0,H.useCallback)((function(t){var e=Hc.get(c);t?(null==e||e.set(f,t),Zc.set(n,t),Qc.set(t,n)):(null==e||e.delete(f),Zc.delete(n))}),[c,f,n]),h=rs({decorations:e,node:n,renderElement:i,renderPlaceholder:o,renderLeaf:a,selection:u}),p={"data-slate-node":"element",ref:d};if(s&&(p["data-slate-inline"]=!0),!s&&pc.GW.hasInlines(c,n)){var v=pc.a8.string(n),g=cc()(v);"rtl"===g&&(p.dir=g)}if(pc.GW.isVoid(c,n)){p["data-slate-void"]=!0,!l&&s&&(p.contentEditable=!1);var m=s?"span":"div",y=pc.a8.texts(n),b=(0,M.c)(y,1),C=(0,M.c)(b[0],1)[0];h=V().createElement(m,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},V().createElement(Yl,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:C})),jc.set(C,0),Gc.set(C,n)}return i({attributes:p,children:h,element:n})},Xl=V().memo(ql,(function(t,e){return t.element===e.element&&t.renderElement===e.renderElement&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(!pc.EH.equals(r,i)||!Gl(r,i))return!1}return!0}(t.decorations,e.decorations)&&(t.selection===e.selection||!!t.selection&&!!e.selection&&pc.EH.equals(t.selection,e.selection))})),$l=function(t){var e=t.attributes,n=t.children,r=t.element,i=Ec().isInline(r)?"span":"div";return V().createElement(i,(0,ot.c)({},e,{style:{position:"relative"}}),n)},ts=(0,H.createContext)((function(){return[]})),es=(0,H.createContext)(!1),ns=function(){return(0,H.useContext)(es)},rs=function(t){for(var e=t.decorations,n=t.node,r=t.renderElement,i=t.renderPlaceholder,o=t.renderLeaf,a=t.selection,u=(0,H.useContext)(ts),c=Ec(),l=xl.findPath(c,n),s=[],f=pc.gr.isElement(n)&&!c.isInline(n)&&pc.GW.hasInlines(c,n),d=0;d<n.children.length;d++){var h,p=P()(l).call(l,d),v=n.children[d],g=xl.findKey(c,v),m=pc.GW.range(c,p),y=a&&pc.EH.intersection(m,a),b=u([v,p]),C=yc(e);try{for(C.s();!(h=C.n()).done;){var x=h.value,w=pc.EH.intersection(x,m);w&&b.push(w)}}catch(t){C.e(t)}finally{C.f()}pc.gr.isElement(v)?s.push(V().createElement(es.Provider,{key:"provider-".concat(g.id),value:!!y},V().createElement(Xl,{decorations:b,element:v,key:g.id,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:y}))):s.push(V().createElement(Yl,{decorations:b,key:g.id,isLast:f&&d===n.children.length-1,parent:n,renderPlaceholder:i,renderLeaf:o,text:v})),jc.set(v,d),Gc.set(v,n)}return s},is=(0,H.createContext)(!1),os=function(){return(0,H.useContext)(is)},as=(0,H.createContext)(null);var us={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},cs={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ls={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ss=function(t){var e=us[t],n=cs[t],r=ls[t],i=e&&(0,vc.g5)(e),o=n&&(0,vc.g5)(n),a=r&&(0,vc.g5)(r);return function(t){return!(!i||!i(t))||(!!(Dc&&o&&o(t))||!(Dc||!a||!a(t)))}},fs={isBold:ss("bold"),isCompose:ss("compose"),isMoveBackward:ss("moveBackward"),isMoveForward:ss("moveForward"),isDeleteBackward:ss("deleteBackward"),isDeleteForward:ss("deleteForward"),isDeleteLineBackward:ss("deleteLineBackward"),isDeleteLineForward:ss("deleteLineForward"),isDeleteWordBackward:ss("deleteWordBackward"),isDeleteWordForward:ss("deleteWordForward"),isExtendBackward:ss("extendBackward"),isExtendForward:ss("extendForward"),isExtendLineBackward:ss("extendLineBackward"),isExtendLineForward:ss("extendLineForward"),isItalic:ss("italic"),isMoveLineBackward:ss("moveLineBackward"),isMoveLineForward:ss("moveLineForward"),isMoveWordBackward:ss("moveWordBackward"),isMoveWordForward:ss("moveWordForward"),isRedo:ss("redo"),isSoftBreak:ss("insertSoftBreak"),isSplitBlock:ss("splitBlock"),isTransposeCharacter:ss("transposeCharacter"),isUndo:ss("undo")},ds={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0},hs=function(t){function e(){var t;return(0,Yu.c)(this,e),(t=gc(this,e,arguments)).context=null,t.manager=null,t.mutationObserver=null,t}return(0,Vu.c)(e,t),(0,Ku.c)(e,[{key:"observe",value:function(){var t,e=this.props.node;if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");null===(t=this.mutationObserver)||void 0===t||t.observe(e.current,ds)}},{key:"componentDidMount",value:function(){var t=this.props.receivedUserInput,e=this.context;this.manager=function(t,e){var n=[],r=function(){n=[]};return{registerMutations:function(r){var i;if(e.current){var o=F()(r).call(r,(function(e){return yl(t,e,r)}));(i=n).push.apply(i,(0,bn.c)(o))}},restoreDOM:function(){var t;n.length>0&&(W()(t=ri()(n).call(n)).call(t,(function(t){var e,n;"characterData"!==t.type&&(W()(e=t.removedNodes).call(e,(function(e){t.target.insertBefore(e,t.nextSibling)})),W()(n=t.addedNodes).call(n,(function(e){t.target.removeChild(e)})))})),r())},clear:r}}(e,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}},{key:"getSnapshotBeforeUpdate",value:function(){var t,e,n,r,i=null===(t=this.mutationObserver)||void 0===t?void 0:t.takeRecords();null!=i&&i.length&&(null===(r=this.manager)||void 0===r||r.registerMutations(i));return null===(e=this.mutationObserver)||void 0===e||e.disconnect(),null===(n=this.manager)||void 0===n||n.restoreDOM(),null}},{key:"componentDidUpdate",value:function(){var t;null===(t=this.manager)||void 0===t||t.clear(),this.observe()}},{key:"componentWillUnmount",value:function(){var t;null===(t=this.mutationObserver)||void 0===t||t.disconnect()}},{key:"render",value:function(){return this.props.children}}]),e}(H.Component);hs.contextType=wc;var ps=Ac?hs:function(t){var e=t.children;return V().createElement(V().Fragment,null,e)},vs=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],gs=["text"];function ms(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=ms(Object(r),!0)).call(n,(function(e){Cc(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=ms(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var bs=function(t){return V().createElement(V().Fragment,null,rs(t))},Cs=function(t){var e=(0,H.useCallback)((function(t){return V().createElement(xs,(0,ot.c)({},t))}),[]),n=t.autoFocus,r=t.decorate,i=void 0===r?ws:r,o=t.onDOMBeforeInput,a=t.placeholder,u=t.readOnly,c=void 0!==u&&u,l=t.renderElement,s=t.renderLeaf,f=t.renderPlaceholder,d=void 0===f?e:f,h=t.scrollSelectionIntoView,p=void 0===h?Es:h,v=t.style,g=void 0===v?{}:v,y=t.as,b=void 0===y?"div":y,C=t.disableDefaultStyles,x=void 0!==C&&C,w=xc(t,vs),E=function(){var t=(0,H.useContext)(as);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");return t.editor}(),S=(0,H.useState)(!1),k=(0,M.c)(S,2),D=k[0],A=k[1],I=(0,H.useRef)(null),B=(0,H.useRef)([]),F=(0,H.useState)(),L=(0,M.c)(F,2),_=L[0],N=L[1],P=function(){var t=Ec(),e=(0,H.useRef)(!1),n=(0,H.useRef)(0),r=(0,H.useCallback)((function(){if(!e.current){e.current=!0;var r=xl.getWindow(t);r.cancelAnimationFrame(n.current),n.current=r.requestAnimationFrame((function(){e.current=!1}))}}),[t]);return(0,H.useEffect)((function(){return function(){return cancelAnimationFrame(n.current)}}),[]),{receivedUserInput:e,onUserInput:r}}(),O=P.onUserInput,j=P.receivedUserInput,G=(0,H.useReducer)((function(t){return t+1}),0),z=(0,M.c)(G,2)[1];ol.set(E,z),Vc.set(E,c);var U=(0,H.useMemo)((function(){return{isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}}),[]);(0,H.useEffect)((function(){I.current&&n&&I.current.focus()}),[n]);var W=(0,H.useRef)(),Q=(0,H.useMemo)((function(){return dc()((function(){var t=W.current;if((Ac||!xl.isComposing(E))&&(!U.isUpdatingSelection||null!=t&&t.isFlushing())&&!U.isDraggingInternally){var e=xl.findDocumentOrShadowRoot(E),n=e.activeElement,r=xl.toDOMNode(E,E),i=e.getSelection();if(n===r?(U.latestElement=n,Kc.set(E,!0)):Kc.delete(E),!i)return pc.cx.deselect(E);var o=i.anchorNode,a=i.focusNode,u=xl.hasEditableTarget(E,o)||xl.isTargetInsideNonReadonlyVoid(E,o),l=xl.hasEditableTarget(E,a)||xl.isTargetInsideNonReadonlyVoid(E,a);if(u&&l){var s=xl.toSlateRange(E,i,{exactMatch:!1,suppressThrow:!0});s&&(xl.isComposing(E)||null!=t&&t.hasPendingChanges()||null!=t&&t.isFlushing()?null==t||t.handleUserSelect(s):pc.cx.select(E,s))}!c||u&&l||pc.cx.deselect(E)}}),100)}),[E,c,U]),Z=(0,H.useMemo)((function(){return sc()(Q,0)}),[Q]);W.current=Pl({node:I,onDOMSelectionChange:Q,scheduleOnDOMSelectionChange:Z}),Ll((function(){var t,e,n;I.current&&(n=ll(I.current))?(zc.set(E,n),Uc.set(E,I.current),Zc.set(E,I.current),Qc.set(I.current,E)):Zc.delete(E);var r=E.selection,i=xl.findDocumentOrShadowRoot(E).getSelection();if(i&&xl.isFocused(E)&&(null===(t=W.current)||void 0===t||!t.hasPendingAction())){var o=function(t){var e="None"!==i.type;if(r||e){var n,o=i.focusNode;if(Ic&&i.rangeCount>1){var a=i.getRangeAt(0),u=i.getRangeAt(i.rangeCount-1);n=a.startContainer===o?u.endContainer:a.startContainer}else n=i.anchorNode;var c=Uc.get(E),l=!1;if(c.contains(n)&&c.contains(o)&&(l=!0),e&&l&&r&&!t){var s=xl.toSlateRange(E,i,{exactMatch:!0,suppressThrow:!0});if(s&&pc.EH.equals(s,r)){var f,d;if(!U.hasMarkPlaceholder)return;if(null!==(f=n)&&void 0!==f&&null!==(d=f.parentElement)&&void 0!==d&&d.hasAttribute("data-slate-mark-placeholder"))return}}if(!r||xl.hasRange(E,r)){U.isUpdatingSelection=!0;var h=r&&xl.toDOMRange(E,r);return h?(xl.isComposing(E)&&!Ac?i.collapseToEnd():pc.EH.isBackward(r)?i.setBaseAndExtent(h.endContainer,h.endOffset,h.startContainer,h.startOffset):i.setBaseAndExtent(h.startContainer,h.startOffset,h.endContainer,h.endOffset),p(E,h)):i.removeAllRanges(),h}E.selection=xl.toSlateRange(E,i,{exactMatch:!1,suppressThrow:!0})}};i.rangeCount<=1&&o();var a="action"===(null===(e=W.current)||void 0===e?void 0:e.isFlushing());if(Ac&&a){var u=null,c=requestAnimationFrame((function(){if(a){var t=function(t){try{xl.toDOMNode(E,E).focus(),o(t)}catch(t){}};t(),u=ut()((function(){t(!0),U.isUpdatingSelection=!1}))}}));return function(){cancelAnimationFrame(c),u&&clearTimeout(u)}}ut()((function(){U.isUpdatingSelection=!1}))}}));var J=(0,H.useCallback)((function(t){if(O(),!c&&xl.hasEditableTarget(E,t.target)&&!Ds(t,o)){var e;if(W.current)return W.current.handleDOMBeforeInput(t);Z.flush(),Q.flush();var n=E.selection,r=t.inputType,i=t.dataTransfer||t.data||void 0,a="insertCompositionText"===r||"deleteCompositionText"===r;if(a&&xl.isComposing(E))return;var u=!1;if("insertText"===r&&n&&pc.EH.isCollapsed(n)&&t.data&&1===t.data.length&&/[a-z ]/i.test(t.data)&&0!==n.anchor.offset){var l,s;u=!0,E.marks&&(u=!1);var f=n.anchor,d=xl.toDOMPoint(E,f),h=(0,M.c)(d,2),p=h[0],v=h[1],g=null===(l=p.parentElement)||void 0===l?void 0:l.closest("a"),m=xl.getWindow(E);if(u&&g&&xl.hasDOMNode(E,g)){var y,b=null==m?void 0:m.document.createTreeWalker(g,NodeFilter.SHOW_TEXT).lastChild();b===p&&(null===(y=b.textContent)||void 0===y?void 0:y.length)===v&&(u=!1)}if(u&&p.parentElement&&"pre"===(null==m||null===(s=m.getComputedStyle(p.parentElement))||void 0===s?void 0:s.whiteSpace)){var C,x=pc.GW.above(E,{at:f.path,match:function(t){return pc.gr.isElement(t)&&pc.GW.isBlock(E,t)}});x&&kn()(C=pc.a8.string(x[0])).call(C,"\t")&&(u=!1)}}if(!nc()(r).call(r,"delete")||nc()(r).call(r,"deleteBy")){var w=t.getTargetRanges(),S=(0,M.c)(w,1)[0];if(S){var k=xl.toSlateRange(E,S,{exactMatch:!1,suppressThrow:!1});if(!n||!pc.EH.equals(n,k)){u=!1;var D=!a&&E.selection&&pc.GW.rangeRef(E,E.selection);pc.cx.select(E,k),D&&qc.set(E,D)}}}if(a)return;if(u||t.preventDefault(),n&&pc.EH.isExpanded(n)&&nc()(r).call(r,"delete")){var I=Mn()(r).call(r,"Backward")?"backward":"forward";return void pc.GW.deleteFragment(E,{direction:I})}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":pc.GW.deleteFragment(E);break;case"deleteContent":case"deleteContentForward":pc.GW.deleteForward(E);break;case"deleteContentBackward":pc.GW.deleteBackward(E);break;case"deleteEntireSoftLine":pc.GW.deleteBackward(E,{unit:"line"}),pc.GW.deleteForward(E,{unit:"line"});break;case"deleteHardLineBackward":pc.GW.deleteBackward(E,{unit:"block"});break;case"deleteSoftLineBackward":pc.GW.deleteBackward(E,{unit:"line"});break;case"deleteHardLineForward":pc.GW.deleteForward(E,{unit:"block"});break;case"deleteSoftLineForward":pc.GW.deleteForward(E,{unit:"line"});break;case"deleteWordBackward":pc.GW.deleteBackward(E,{unit:"word"});break;case"deleteWordForward":pc.GW.deleteForward(E,{unit:"word"});break;case"insertLineBreak":pc.GW.insertSoftBreak(E);break;case"insertParagraph":pc.GW.insertBreak(E);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===r&&xl.isComposing(E)&&(A(!1),Yc.set(E,!1)),"DataTransfer"===(null==i?void 0:i.constructor.name)?xl.insertData(E,i):"string"==typeof i&&(u?B.current.push((function(){return pc.GW.insertText(E,i)})):pc.GW.insertText(E,i))}var T=null===(e=qc.get(E))||void 0===e?void 0:e.unref();qc.delete(E),!T||E.selection&&pc.EH.equals(E.selection,T)||pc.cx.select(E,T)}}),[E,Q,O,o,c,Z]),K=(0,H.useCallback)((function(t){null==t?(Q.cancel(),Z.cancel(),Uc.delete(E),Zc.delete(E),I.current&&Oc&&I.current.removeEventListener("beforeinput",J)):Oc&&t.addEventListener("beforeinput",J),I.current=t}),[Q,Z,E,J]);Ll((function(){var t=xl.getWindow(E);return t.document.addEventListener("selectionchange",Z),function(){t.document.removeEventListener("selectionchange",Z)}}),[Z]);var Y=i([E,[]]),q=a&&1===E.children.length&&1===Rn()(pc.a8.texts(E)).length&&""===pc.a8.string(E)&&!D,X=(0,H.useCallback)((function(t){var e;t&&q?N(null===(e=t.getBoundingClientRect())||void 0===e?void 0:e.height):N(void 0)}),[q]);if(q){var $=pc.GW.start(E,[]);Y.push((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},al,!0),"placeholder",a),"onPlaceholderResize",X),"anchor",$),"focus",$))}var tt=E.marks;if(U.hasMarkPlaceholder=!1,E.selection&&pc.EH.isCollapsed(E.selection)&&tt){var et=E.selection.anchor,nt=pc.a8.leaf(E,et.path),rt=xc(nt,gs);if(!pc.a.equals(nt,tt,{loose:!0})){var it;U.hasMarkPlaceholder=!0;var at=ic()(R()(it=m()(rt)).call(it,(function(t){return[t,null]})));Y.push(ys(ys(ys((0,T.c)({},ul,!0),at),tt),{},{anchor:et,focus:et}))}}return(0,H.useEffect)((function(){ut()((function(){var t=E.selection;if(t){var e=t.anchor,n=pc.a8.leaf(E,e.path);if(tt&&!pc.a.equals(n,tt,{loose:!0}))return void tl.set(E,tt)}tl.delete(E)}))})),V().createElement(is.Provider,{value:c},V().createElement(ts.Provider,{value:i},V().createElement(ps,{node:I,receivedUserInput:j},V().createElement(b,(0,ot.c)({role:c?void 0:"textbox","aria-multiline":!c||void 0},w,{spellCheck:!(!Oc&&Pc)&&w.spellCheck,autoCorrect:Oc||!Pc?w.autoCorrect:"false",autoCapitalize:Oc||!Pc?w.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!c,zindex:-1,suppressContentEditableWarning:!0,ref:K,style:ys(ys({},x?{}:ys({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},_?{minHeight:_}:{})),g),onBeforeInput:(0,H.useCallback)((function(t){if(!Oc&&!c&&!Ss(t,w.onBeforeInput)&&xl.hasSelectableTarget(E,t.target)&&(t.preventDefault(),!xl.isComposing(E))){var e=t.data;pc.GW.insertText(E,e)}}),[w.onBeforeInput,E,c]),onInput:(0,H.useCallback)((function(t){if(!Ss(t,w.onInput))if(W.current)W.current.handleInput();else{var e,n=yc(B.current);try{for(n.s();!(e=n.n()).done;){(0,e.value)()}}catch(t){n.e(t)}finally{n.f()}B.current=[]}}),[w.onInput]),onBlur:(0,H.useCallback)((function(t){if(!c&&!U.isUpdatingSelection&&xl.hasSelectableTarget(E,t.target)&&!Ss(t,w.onBlur)){var e=xl.findDocumentOrShadowRoot(E);if(U.latestElement!==e.activeElement){var n=t.relatedTarget;if(!(n===xl.toDOMNode(E,E)||sl(n)&&n.hasAttribute("data-slate-spacer"))){if(null!=n&&fl(n)&&xl.hasDOMNode(E,n)){var r=xl.toSlateNode(E,n);if(pc.gr.isElement(r)&&!E.isVoid(r))return}if(Mc){var i=e.getSelection();null==i||i.removeAllRanges()}Kc.delete(E)}}}}),[c,U.isUpdatingSelection,U.latestElement,E,w.onBlur]),onClick:(0,H.useCallback)((function(t){if(xl.hasTarget(E,t.target)&&!Ss(t,w.onClick)&&fl(t.target)){var e=xl.toSlateNode(E,t.target),n=xl.findPath(E,e);if(!pc.GW.hasPath(E,n)||pc.a8.get(E,n)!==e)return;if(3===t.detail&&n.length>=1){var r=n;if(!pc.gr.isElement(e)||!pc.GW.isBlock(E,e)){var i,o=pc.GW.above(E,{match:function(t){return pc.gr.isElement(t)&&pc.GW.isBlock(E,t)},at:n});r=null!==(i=null==o?void 0:o[1])&&void 0!==i?i:En()(n).call(n,0,1)}var a=pc.GW.range(E,r);return void pc.cx.select(E,a)}if(c)return;var u=pc.GW.start(E,n),l=pc.GW.end(E,n),s=pc.GW.void(E,{at:u}),f=pc.GW.void(E,{at:l});if(s&&f&&pc.YH.equals(s[1],f[1])){var d=pc.GW.range(E,u);pc.cx.select(E,d)}}}),[E,w.onClick,c]),onCompositionEnd:(0,H.useCallback)((function(t){if(xl.hasSelectableTarget(E,t.target)){var e;if(xl.isComposing(E)&&(A(!1),Yc.set(E,!1)),null===(e=W.current)||void 0===e||e.handleCompositionEnd(t),Ss(t,w.onCompositionEnd)||Ac)return;if(!Mc&&!Rc&&!kc&&!Nc&&!_c&&t.data){var n=tl.get(E);tl.delete(E),void 0!==n&&(el.set(E,E.marks),E.marks=n),pc.GW.insertText(E,t.data);var r=el.get(E);el.delete(E),void 0!==r&&(E.marks=r)}}}),[w.onCompositionEnd,E]),onCompositionUpdate:(0,H.useCallback)((function(t){xl.hasSelectableTarget(E,t.target)&&!Ss(t,w.onCompositionUpdate)&&(xl.isComposing(E)||(A(!0),Yc.set(E,!0)))}),[w.onCompositionUpdate,E]),onCompositionStart:(0,H.useCallback)((function(t){if(xl.hasSelectableTarget(E,t.target)){var e;if(null===(e=W.current)||void 0===e||e.handleCompositionStart(t),Ss(t,w.onCompositionStart)||Ac)return;A(!0);var n=E.selection;if(n){if(pc.EH.isExpanded(n))return void pc.GW.deleteFragment(E);var r=pc.GW.above(E,{match:function(t){return pc.gr.isElement(t)&&pc.GW.isInline(E,t)},mode:"highest"});if(r){var i=(0,M.c)(r,2)[1];if(pc.GW.isEnd(E,n.anchor,i)){var o=pc.GW.after(E,i);pc.cx.setSelection(E,{anchor:o,focus:o})}}}}}),[w.onCompositionStart,E]),onCopy:(0,H.useCallback)((function(t){!xl.hasSelectableTarget(E,t.target)||Ss(t,w.onCopy)||ks(t)||(t.preventDefault(),xl.setFragmentData(E,t.clipboardData,"copy"))}),[w.onCopy,E]),onCut:(0,H.useCallback)((function(t){if(!c&&xl.hasSelectableTarget(E,t.target)&&!Ss(t,w.onCut)&&!ks(t)){t.preventDefault(),xl.setFragmentData(E,t.clipboardData,"cut");var e=E.selection;if(e)if(pc.EH.isExpanded(e))pc.GW.deleteFragment(E);else{var n=pc.a8.parent(E,e.anchor.path);pc.GW.isVoid(E,n)&&pc.cx.delete(E)}}}),[c,E,w.onCut]),onDragOver:(0,H.useCallback)((function(t){if(xl.hasTarget(E,t.target)&&!Ss(t,w.onDragOver)){var e=xl.toSlateNode(E,t.target);pc.gr.isElement(e)&&pc.GW.isVoid(E,e)&&t.preventDefault()}}),[w.onDragOver,E]),onDragStart:(0,H.useCallback)((function(t){if(!c&&xl.hasTarget(E,t.target)&&!Ss(t,w.onDragStart)){var e=xl.toSlateNode(E,t.target),n=xl.findPath(E,e);if(pc.gr.isElement(e)&&pc.GW.isVoid(E,e)||pc.GW.void(E,{at:n,voids:!0})){var r=pc.GW.range(E,n);pc.cx.select(E,r)}U.isDraggingInternally=!0,xl.setFragmentData(E,t.dataTransfer,"drag")}}),[c,E,w.onDragStart,U]),onDrop:(0,H.useCallback)((function(t){if(!c&&xl.hasTarget(E,t.target)&&!Ss(t,w.onDrop)){t.preventDefault();var e=E.selection,n=xl.findEventRange(E,t),r=t.dataTransfer;pc.cx.select(E,n),U.isDraggingInternally&&(!e||pc.EH.equals(e,n)||pc.GW.void(E,{at:n,voids:!0})||pc.cx.delete(E,{at:e})),xl.insertData(E,r),xl.isFocused(E)||xl.focus(E)}U.isDraggingInternally=!1}),[c,E,w.onDrop,U]),onDragEnd:(0,H.useCallback)((function(t){!c&&U.isDraggingInternally&&w.onDragEnd&&xl.hasTarget(E,t.target)&&w.onDragEnd(t),U.isDraggingInternally=!1}),[c,U,w,E]),onFocus:(0,H.useCallback)((function(t){if(!c&&!U.isUpdatingSelection&&xl.hasEditableTarget(E,t.target)&&!Ss(t,w.onFocus)){var e=xl.toDOMNode(E,E),n=xl.findDocumentOrShadowRoot(E);if(U.latestElement=n.activeElement,Ic&&t.target!==e)return void e.focus();Kc.set(E,!0)}}),[c,U,E,w.onFocus]),onKeyDown:(0,H.useCallback)((function(t){if(!c&&xl.hasEditableTarget(E,t.target)){var e;null===(e=W.current)||void 0===e||e.handleKeyDown(t);var n=t.nativeEvent;if(xl.isComposing(E)&&!1===n.isComposing&&(Yc.set(E,!1),A(!1)),Ss(t,w.onKeyDown)||xl.isComposing(E))return;var r=E.selection,i=E.children[null!==r?r.focus.path[0]:0],o="rtl"===cc()(pc.a8.string(i));if(fs.isRedo(n)){t.preventDefault();var a=E;return void("function"==typeof a.redo&&a.redo())}if(fs.isUndo(n)){t.preventDefault();var u=E;return void("function"==typeof u.undo&&u.undo())}if(fs.isMoveLineBackward(n))return t.preventDefault(),void pc.cx.move(E,{unit:"line",reverse:!0});if(fs.isMoveLineForward(n))return t.preventDefault(),void pc.cx.move(E,{unit:"line"});if(fs.isExtendLineBackward(n))return t.preventDefault(),void pc.cx.move(E,{unit:"line",edge:"focus",reverse:!0});if(fs.isExtendLineForward(n))return t.preventDefault(),void pc.cx.move(E,{unit:"line",edge:"focus"});if(fs.isMoveBackward(n))return t.preventDefault(),void(r&&pc.EH.isCollapsed(r)?pc.cx.move(E,{reverse:!o}):pc.cx.collapse(E,{edge:"start"}));if(fs.isMoveForward(n))return t.preventDefault(),void(r&&pc.EH.isCollapsed(r)?pc.cx.move(E,{reverse:o}):pc.cx.collapse(E,{edge:"end"}));if(fs.isMoveWordBackward(n))return t.preventDefault(),r&&pc.EH.isExpanded(r)&&pc.cx.collapse(E,{edge:"focus"}),void pc.cx.move(E,{unit:"word",reverse:!o});if(fs.isMoveWordForward(n))return t.preventDefault(),r&&pc.EH.isExpanded(r)&&pc.cx.collapse(E,{edge:"focus"}),void pc.cx.move(E,{unit:"word",reverse:o});if(Oc){if((Bc||Mc)&&r&&(fs.isDeleteBackward(n)||fs.isDeleteForward(n))&&pc.EH.isCollapsed(r)){var l=pc.a8.parent(E,r.anchor.path);if(pc.gr.isElement(l)&&pc.GW.isVoid(E,l)&&(pc.GW.isInline(E,l)||pc.GW.isBlock(E,l)))return t.preventDefault(),void pc.GW.deleteBackward(E,{unit:"block"})}}else{if(fs.isBold(n)||fs.isItalic(n)||fs.isTransposeCharacter(n))return void t.preventDefault();if(fs.isSoftBreak(n))return t.preventDefault(),void pc.GW.insertSoftBreak(E);if(fs.isSplitBlock(n))return t.preventDefault(),void pc.GW.insertBreak(E);if(fs.isDeleteBackward(n))return t.preventDefault(),void(r&&pc.EH.isExpanded(r)?pc.GW.deleteFragment(E,{direction:"backward"}):pc.GW.deleteBackward(E));if(fs.isDeleteForward(n))return t.preventDefault(),void(r&&pc.EH.isExpanded(r)?pc.GW.deleteFragment(E,{direction:"forward"}):pc.GW.deleteForward(E));if(fs.isDeleteLineBackward(n))return t.preventDefault(),void(r&&pc.EH.isExpanded(r)?pc.GW.deleteFragment(E,{direction:"backward"}):pc.GW.deleteBackward(E,{unit:"line"}));if(fs.isDeleteLineForward(n))return t.preventDefault(),void(r&&pc.EH.isExpanded(r)?pc.GW.deleteFragment(E,{direction:"forward"}):pc.GW.deleteForward(E,{unit:"line"}));if(fs.isDeleteWordBackward(n))return t.preventDefault(),void(r&&pc.EH.isExpanded(r)?pc.GW.deleteFragment(E,{direction:"backward"}):pc.GW.deleteBackward(E,{unit:"word"}));if(fs.isDeleteWordForward(n))return t.preventDefault(),void(r&&pc.EH.isExpanded(r)?pc.GW.deleteFragment(E,{direction:"forward"}):pc.GW.deleteForward(E,{unit:"word"}))}}}),[c,E,w.onKeyDown]),onPaste:(0,H.useCallback)((function(t){c||!xl.hasEditableTarget(E,t.target)||Ss(t,w.onPaste)||(!Oc||function(t){return t.clipboardData&&""!==t.clipboardData.getData("text/plain")&&1===t.clipboardData.types.length}(t.nativeEvent)||Mc)&&(t.preventDefault(),xl.insertData(E,t.clipboardData))}),[c,E,w.onPaste])}),V().createElement(bs,{decorations:Y,node:E,renderElement:l,renderPlaceholder:d,renderLeaf:s,selection:E.selection})))))},xs=function(t){var e=t.attributes,n=t.children;return V().createElement("span",(0,ot.c)({},e),n,Ac&&V().createElement("br",null))},ws=function(){return[]},Es=function(t,e){if(e.getBoundingClientRect&&(!t.selection||t.selection&&pc.EH.isCollapsed(t.selection))){var n,r=e.startContainer.parentElement;r.getBoundingClientRect=An()(n=e.getBoundingClientRect).call(n,e),(0,hc.c)(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},Ss=function(t,e){if(!e)return!1;var n=e(t);return null!=n?n:t.isDefaultPrevented()||t.isPropagationStopped()},ks=function(t){return fl(t.target)&&(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)},Ds=function(t,e){if(!e)return!1;var n=e(t);return null!=n?n:t.defaultPrevented},As=(0,H.createContext)(!1),Is=function(){return(0,H.useContext)(As)};var Ms=(0,H.createContext)({});var Ts=["editor","children","onChange","value"],Bs=function(t){var e=t.editor,n=t.children,r=t.onChange,i=t.value,o=xc(t,Ts),a=V().useState((function(){if(!pc.a8.isNodeList(i))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(pc.Scrubber.stringify(i)));if(!pc.GW.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(pc.Scrubber.stringify(e)));return e.children=i,(0,ot.c)(e,o),{v:0,editor:e}})),u=(0,M.c)(a,2),c=u[0],l=u[1],s=function(t){var e=(0,H.useRef)([]).current,n=(0,H.useRef)({editor:t}).current,r=(0,H.useCallback)((function(t){n.editor=t,W()(e).call(e,(function(e){return e(t)}))}),[e,n]);return{selectorContext:(0,H.useMemo)((function(){return{getSlate:function(){return n.editor},addEventListener:function(t){return e.push(t),function(){ui()(e).call(e,xn()(e).call(e,t),1)}}}}),[e,n]),onChange:r}}(e),f=s.selectorContext,d=s.onChange,h=(0,H.useCallback)((function(){r&&r(e.children),l((function(t){return{v:t.v+1,editor:e}})),d(e)}),[e,d,r]);(0,H.useEffect)((function(){return Xc.set(e,h),function(){Xc.set(e,(function(){}))}}),[e,h]);var p=(0,H.useState)(xl.isFocused(e)),v=(0,M.c)(p,2),g=v[0],m=v[1];return(0,H.useEffect)((function(){m(xl.isFocused(e))}),[e]),Ll((function(){var t=function(){return m(xl.isFocused(e))};return Sc>=17?(document.addEventListener("focusin",t),document.addEventListener("focusout",t),function(){document.removeEventListener("focusin",t),document.removeEventListener("focusout",t)}):(document.addEventListener("focus",t,!0),document.addEventListener("blur",t,!0),function(){document.removeEventListener("focus",t,!0),document.removeEventListener("blur",t,!0)})}),[]),V().createElement(Ms.Provider,{value:f},V().createElement(as.Provider,{value:c},V().createElement(wc.Provider,{value:c.editor},V().createElement(As.Provider,{value:g},n))))},Fs=function(t,e){var n=(e.top+e.bottom)/2;return t.top<=n&&t.bottom>=n},Ls=function(t,e,n){var r=xl.toDOMRange(t,e).getBoundingClientRect(),i=xl.toDOMRange(t,n).getBoundingClientRect();return Fs(r,i)&&Fs(i,r)};function Rs(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function _s(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)W()(n=Rs(Object(r),!0)).call(n,(function(e){Cc(t,e,r[e])}));else if(S())D()(t,S()(r));else{var i;W()(i=Rs(Object(r))).call(i,(function(e){I()(t,e,w()(r,e))}))}}return t}var Ns=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",n=t,r=n.apply,i=n.onChange,o=n.deleteBackward,a=n.addMark,u=n.removeMark;return Hc.set(n,new(ei())),n.addMark=function(t,e){var r,i;null===(r=$c.get(n))||void 0===r||r(),!tl.get(n)&&null!==(i=nl.get(n))&&void 0!==i&&i.length&&tl.set(n,null),el.delete(n),a(t,e)},n.removeMark=function(t){var e;!tl.get(n)&&null!==(e=nl.get(n))&&void 0!==e&&e.length&&tl.set(n,null),el.delete(n),u(t)},n.deleteBackward=function(t){if("line"!==t)return o(t);if(n.selection&&pc.EH.isCollapsed(n.selection)){var e=pc.GW.above(n,{match:function(t){return pc.gr.isElement(t)&&pc.GW.isBlock(n,t)},at:n.selection});if(e){var r=(0,M.c)(e,2)[1],i=pc.GW.range(n,r,n.selection.anchor),a=function(t,e){var n=pc.GW.range(t,pc.EH.end(e)),r=Rn()(pc.GW.positions(t,{at:e})),i=0,o=r.length,a=Math.floor(o/2);if(Ls(t,pc.GW.range(t,r[i]),n))return pc.GW.range(t,r[i],n);if(r.length<2)return pc.GW.range(t,r[r.length-1],n);for(;a!==r.length&&a!==i;)Ls(t,pc.GW.range(t,r[a]),n)?o=a:i=a,a=Math.floor((i+o)/2);return pc.GW.range(t,r[o],n)}(n,i);pc.EH.isCollapsed(a)||pc.cx.delete(n,{at:a})}}},n.apply=function(t){var e=[],i=nl.get(n);if(null!=i&&i.length){var o,a=F()(o=R()(i).call(i,(function(e){return function(t,e){var n=t.path,r=t.diff,i=t.id;switch(e.type){case"insert_text":return!pc.YH.equals(e.path,n)||e.offset>=r.end?t:e.offset<=r.start?{diff:{start:e.text.length+r.start,end:e.text.length+r.end,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end+e.text.length,text:r.text},id:i,path:n};case"remove_text":return!pc.YH.equals(e.path,n)||e.offset>=r.end?t:e.offset+e.text.length<=r.start?{diff:{start:r.start-e.text.length,end:r.end-e.text.length,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end-e.text.length,text:r.text},id:i,path:n};case"split_node":return!pc.YH.equals(e.path,n)||e.position>=r.end?{diff:r,id:i,path:pc.YH.transform(n,e,{affinity:"backward"})}:e.position>r.start?{diff:{start:r.start,end:Math.min(e.position,r.end),text:r.text},id:i,path:n}:{diff:{start:r.start-e.position,end:r.end-e.position,text:r.text},id:i,path:pc.YH.transform(n,e,{affinity:"forward"})};case"merge_node":return pc.YH.equals(e.path,n)?{diff:{start:r.start+e.position,end:r.end+e.position,text:r.text},id:i,path:pc.YH.transform(n,e)}:{diff:r,id:i,path:pc.YH.transform(n,e)}}var o=pc.YH.transform(n,e);return o?{diff:r,path:o,id:i}:null}(e,t)}))).call(o,Boolean);nl.set(n,a)}var u=il.get(n);u&&il.set(n,Ml(n,u,t));var c=rl.get(n);if(null!=c&&c.at){var l=pc.wb.isPoint(null==c?void 0:c.at)?Il(n,c.at,t):Ml(n,c.at,t);rl.set(n,l?_s(_s({},c),{},{at:l}):null)}switch(t.type){case"insert_text":case"remove_text":case"set_node":case"split_node":e.push.apply(e,(0,bn.c)(Ps(n,t.path)));break;case"set_selection":var s;null===(s=qc.get(n))||void 0===s||s.unref(),qc.delete(n);break;case"insert_node":case"remove_node":e.push.apply(e,(0,bn.c)(Ps(n,pc.YH.parent(t.path))));break;case"merge_node":var f=pc.YH.previous(t.path);e.push.apply(e,(0,bn.c)(Ps(n,f)));break;case"move_node":var d=pc.YH.common(pc.YH.parent(t.path),pc.YH.parent(t.newPath));e.push.apply(e,(0,bn.c)(Ps(n,d)))}r(t);for(var h=0,p=e;h<p.length;h++){var v=(0,M.c)(p[h],2),g=v[0],m=v[1],y=pc.GW.node(n,g),b=(0,M.c)(y,1)[0];Jc.set(b,m)}},n.setFragmentData=function(t){var r,i,o=n.selection;if(o){var a=pc.EH.edges(o),u=(0,M.c)(a,2),c=u[0],l=u[1],s=pc.GW.void(n,{at:c.path}),f=pc.GW.void(n,{at:l.path});if(!pc.EH.isCollapsed(o)||s){var d=xl.toDOMRange(n,o),h=d.cloneContents(),p=h.childNodes[0];if(W()(r=h.childNodes).call(r,(function(t){var e;t.textContent&&""!==ac()(e=t.textContent).call(e)&&(p=t)})),f){var v=(0,M.c)(f,1)[0],g=d.cloneRange(),m=xl.toDOMNode(n,v);g.setEndAfter(m),h=g.cloneContents()}if(s&&(p=h.querySelector("[data-slate-spacer]")),W()(i=Rn()(h.querySelectorAll("[data-slate-zero-width]"))).call(i,(function(t){var e="n"===t.getAttribute("data-slate-zero-width");t.textContent=e?"\n":""})),hl(p)){var y=p.ownerDocument.createElement("span");y.style.whiteSpace="pre",y.appendChild(p),h.appendChild(y),p=y}var b=n.getFragment(),C=z()(b),x=window.btoa(encodeURIComponent(C));p.setAttribute("data-slate-fragment",x),t.setData("application/".concat(e),x);var w=h.ownerDocument.createElement("div");return w.appendChild(h),w.setAttribute("hidden","true"),h.ownerDocument.body.appendChild(w),t.setData("text/html",w.innerHTML),t.setData("text/plain",gl(w)),h.ownerDocument.body.removeChild(w),t}}},n.insertData=function(t){n.insertFragmentData(t)||n.insertTextData(t)},n.insertFragmentData=function(t){var r,i=t.getData("application/".concat(e))||(r=t.getData("text/html").match(ml)||[],(0,M.c)(r,2)[1]);if(i){var o=decodeURIComponent(window.atob(i)),a=JSON.parse(o);return n.insertFragment(a),!0}return!1},n.insertTextData=function(t){var e=t.getData("text/plain");if(e){var r,i=!1,o=yc(e.split(/\r\n|\r|\n/));try{for(o.s();!(r=o.n()).done;){var a=r.value;i&&pc.cx.splitNodes(n,{always:!0}),n.insertText(a),i=!0}}catch(t){o.e(t)}finally{o.f()}return!0}return!1},n.onChange=function(t){(Sc<18?Hr().unstable_batchedUpdates:function(t){return t()})((function(){var e=Xc.get(n);e&&e(),i(t)}))},n},Ps=function(t,e){var n,r=[],i=yc(pc.GW.levels(t,{at:e}));try{for(i.s();!(n=i.n()).done;){var o=(0,M.c)(n.value,2),a=o[0],u=o[1],c=xl.findKey(t,a);r.push([u,c])}}catch(t){i.e(t)}finally{i.f()}return r};function Os(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Os(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Os(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}function Gs(t){var e=t.className;return V().createElement("div",{className:"".concat(e,"-empty")},V().createElement("img",{className:"".concat(e,"-empty-img"),src:Fn,width:"168",height:"96",alt:(0,Z.getLangMsg)("printd.grid.key0004")}),V().createElement("div",{className:"".concat(e,"-empty-text")},(0,Z.getLangMsg)("printd.grid.key0004")))}var zs=function(t){var e=t.onSelect,n=t.onShowDescription,r=(0,H.useContext)(gn).expressions,i=(0,H.useState)(""),o=(0,M.c)(i,2),a=o[0],u=o[1],c=(0,H.useState)(null),l=(0,M.c)(c,2),s=l[0],f=l[1],d=(0,H.useState)(""),h=(0,M.c)(d,2),p=h[0],v=h[1],g=(0,H.useState)(r),m=(0,M.c)(g,2),y=m[0],b=m[1];return V().createElement("div",{className:"kd-expression-tree-wrap"},V().createElement(Q.Input,{style:{marginBottom:12,width:"100%"},value:a,placeholder:(0,Z.getLangMsg)("printd.components.key0029"),borderType:"bordered",onChange:function(t){var e=t.target.value;u(e),b((function(){var t=function(t,e){var n;return F()(n=R()(t).call(t,(function(t){var n=t.items,r=F()(n).call(n,(function(t){var n;return kn()(n=t.name).call(n,e)}));return r.length?js(js({},t),{},{items:r}):null}))).call(n,Boolean)}(r,e);return t}))},allowClear:!0,suffix:V().createElement("div",null,V().createElement(Q.Icon,{type:"search",style:{cursor:"pointer"}}))}),!a||null!=y&&y.length?V().createElement("div",{className:"kd-expression-tree"},R()(y).call(y,(function(t){var r=t.items,i=t.name;return V().createElement(Q.Collapse,{name:"Collapse",key:t.type,defaultActiveKey:t.type},V().createElement(Q.Collapse.Panel,{header:i,panelKey:t.type},R()(r).call(r,(function(r){var i;return V().createElement("div",{key:P()(i="".concat(t.type,"-")).call(i,r.key),className:Qn()(["expression-item",{"is-active":r.key===p}]),onClick:function(){return function(t){var r=t.key;e(r),v(r),f(t),n(t)}(r)},onMouseOver:function(){return n(r)},onMouseLeave:function(){return n(s)}},r.name)}))))}))):V().createElement(Gs,{className:"left-datasource"}))},Us="object"==("undefined"==typeof self?"undefined":(0,Un.c)(self))&&self.self===self&&self||"object"==(void 0===n.g?"undefined":(0,Un.c)(n.g))&&n.g.global===n.g&&n.g||{},Ws="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Qs(t){var e,n;for(e=[],n=0;n<t.length;n++)e.push(Ws[t[n]%62]);return e.join("")}var Zs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(void 0!==Us.crypto)return Qs(Us.crypto.getRandomValues(new Uint8Array(t)));for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(256*Math.random());return Qs(e)};var Js=function(t,e,n){var r;return Y().isUndefined(t)?Y().isUndefined(null==e||null===(r=e[0])||void 0===r?void 0:r.Value)?function(t){switch(t){case"String":default:return"";case"Integer":return 0;case"Boolean":return!1}}(n):e[0].Value:t},Hs=Y().memoize((function(t,e){for(var n={},r=0;r<t.Categories.length;r++){var i,o=t.Categories[r],a=Jn()(i=o.Controls).call(i,(function(t){return t.Id===e}));a&&(0,ot.c)(n,a)}return n}),(function(t,e){return z()({meta:t,type:e})})),Vs=Y().memoize((function(t){var e={},n=t.Nodes;if(n)W()(n).call(n,(function(t){var n=Y().camelCase(t.Id),r=t.Editor;if(r){var i=r.DataType,o=r.Default,a=(r.Min,r.Enum);e[n]=Js(o,a,i)}else e[n]="not editor property: err"}));else{var r=t.Editor,i=r.DataType,o=r.Default,a=(r.Min,r.Enum),u=Y().camelCase(t.Id);e[u]=r?Js(o,a,i):"not editor property: err"}return e}));function Ks(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r,i=n.type,o=n.parentId,a=n.transferData,u={},c={};if(e&&a)(0,ot.c)(c,a);else{var l=Hs(t,i);l&&(0,ot.c)(c,l)}return e?c:(o&&(u.parentId=o),W()(r=c.Properties).call(r,(function(t){(0,ot.c)(u,Vs(t))})),u.id=Zs(),u.name=c.Name,u.type=c.Id,!e&&a&&(0,ot.c)(u,a),u)}}function Ys(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function qs(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Ys(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Ys(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Xs=[{type:"paragraph",children:[{text:""}]}],$s=(0,Z.ErrorBoundaryWrap)(Bs,"slate");function tf(t){return V().createElement("p",t.attributes,t.children)}function ef(t){var e=ns(),n=Is(),r=t.element.textFormat,i="Date"===r?"#FFF1D4":"Number"===r||"Amount"===r?"#DCFAE4":"#E0EFFF";return(0,H.useEffect)((function(){if(e&&n){var r=t.element.key;(0,t.setActiveDataSourceKey)(r)}}),[e,n]),V().createElement("span",(0,ot.c)({},t.attributes,{contentEditable:!1,style:{padding:"1px 8px",margin:"0 3px",verticalAlign:"baseline",display:"inline-block",borderRadius:"2px",backgroundColor:i,fontSize:"12px",cursor:"pointer",boxShadow:e&&n?"0 0 0 2px #B4D5FF":"none",lineHeight:"18px"}}),t.element.formulaName,t.children)}var nf=(0,H.forwardRef)((function(t,e){var n=t.meta,r=t.definition,i=t.expandedKeys,o=t.formulaData,a=t.activedSelectId,u=t.filterTreeData,c=t.showDefinitionId,l=(0,H.useState)(null),s=(0,M.c)(l,2),f=s[0],d=s[1],h=(0,H.useState)(""),p=(0,M.c)(h,2),v=p[0],g=p[1],m=(0,H.useRef)(null),y=(0,H.useState)((function(){if(o&&o.length){var t=[],e={type:"paragraph",children:[{text:""}]};return W()(o).call(o,(function(n,r){if("_enter_"!==n){var i=r===o.length-1;i&&t.push(qs({},e)),"string"==typeof n?e.children.push({text:n}):e.children.push({text:""},qs(qs({},n),{},{type:"label",children:[{text:""}]}),{text:""}),e=i?{type:"paragraph",children:[]}:e}else t.push(qs({},e)),e={type:"paragraph",children:[{text:""}]}})),t}return Xs})),b=(0,M.c)(y,2),C=b[0],x=b[1],w=(0,H.useMemo)((function(){return z()(C)===z()(Xs)}),[C]),E=(0,H.useState)({visible:!1,msg:"",type:"success"}),S=(0,M.c)(E,2),k=S[0],D=S[1],A=(0,H.useContext)(Z.DataContext),I=A.findControl(a),T=I.cellType,B=I.parentId,L=A.findControl(B),_=(0,H.useMemo)((function(){return function(t){var e=t.isVoid,n=t.isInline;return t.isInline=function(t){return"label"===t.type||n(t)},t.isVoid=function(t){return"label"===t.type||e(t)},t}(Ns(ju(Fu())))}),[]),N=function(){var t=[];W()(C).call(C,(function(e,n){var r,i=e.children,o=F()(r=R()(i).call(i,(function(t){var e=t.type,n=t.text;return"label"===e?t:n}))).call(r,(function(t){return""!==t}));t.push.apply(t,(0,bn.c)(o)),n!==C.length-1&&t.push("_enter_")}));var e=A.getData(),n=null==e?void 0:e.version;return{formulaData:t,tplVersion:n}},P=function(){var t=N();return window.fetch("api/print/validatePrintFormula.do",{method:"POST",headers:{"Content-Type":"application/jsoncharset=utf-8"},body:z()(t),mode:"cors",credentials:"include"}).then((function(t){if(t.ok)return t.json();throw new Error(t.statusText)})).then((function(e){var n=e.result,r=e.msg;return D((function(){return{type:"fail"===n?"error":"success",visible:!0,msg:r}})),"success"===n?(m.current=ut()((function(){m.current&&clearTimeout(m.current),D((function(t){return qs(qs({},t),{},{visible:!1})}))}),1100),qs({curTab:"2"},t)):"fail"})).catch((function(t){return!1}))};(0,H.useImperativeHandle)(e,(function(){return{getFormulaData:N,onExpressionSave:P,onAutoFocus:U}}));var O=(0,H.useCallback)((function(t){return"label"===t.element.type?V().createElement(ef,(0,ot.c)({},t,{setActiveDataSourceKey:g})):V().createElement(tf,t)}),[]),j=(0,H.useRef)(null),G=function(t){j.current&&(Uo.select(_,j.current),Uo.insertText(_,t),xl.focus(_))},U=(0,H.useCallback)((function(){var t,e,n=null===(t=_.children[0])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length,r=null===(e=_.children[0])||void 0===e||null===(e=e.children[n-1])||void 0===e||null===(e=e.text)||void 0===e?void 0:e.length,i={anchor:{path:[0,n-1],offset:r},focus:{path:[0,n-1],offset:r}};Uo.select(_,i),xl.focus(_)}),[_]);return V().createElement(V().Fragment,null,V().createElement("div",{className:"expression-left"},V().createElement("div",{className:"block-title"},(0,Z.getLangMsg)("printd.components.key0013")),V().createElement("div",{className:"block-main"},V().createElement(Gr,{meta:n,definition:r,onSelect:function(t,e,n){var r;if(j.current){var i=e.Name,o=e.ViewName,a=e.bindField,u=e.dataSource,c=e.dsTypeKey,l=e.key,s=e.InitAttr,f=void 0===s?{TextFormat:"Text"}:s,d=o||i;if(j.current)Uo.select(_,j.current);else{var h,p=C[0].children.length-1,v=[0,p],m=(null===(h=C[0].children[p])||void 0===h||null===(h=h.text)||void 0===h?void 0:h.length)||0;Uo.select(_,{focus:{path:v,offset:m},anchor:{path:v,offset:m}})}var y={id:Zs(),type:"label",formulaName:d,bindField:(null==a?void 0:F()(r=a.split(".")).call(r,(function(t){return!kn()(t).call(t,"$reportEntryGroup$")})).join("."))||"",dataSource:u,dsType:c,key:l,textFormat:f.TextFormat,children:[{text:""}]};g(l),Uo.insertNodes(_,y),Uo.move(_),xl.focus(_)}},expandedKeys:i,scrollToKey:v,filterTreeData:function(t){var e=or(A,a,"DataGrid");return e?wr(e,t):u(t)},showDefinitionId:c}))),V().createElement("div",{className:"expression-main"},V().createElement("div",{className:"editor-area"},V().createElement("div",{className:"editor-toolbar"},V().createElement("span",{onClick:function(){return G("+")}},V().createElement(Q.Icon,{type:"add"})),V().createElement("span",{onClick:function(){return G("-")}},V().createElement(Q.Icon,{type:"reduce"})),V().createElement("span",{onClick:function(){return G("*")}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"chengyi"})),V().createElement("span",{onClick:function(){return G("/")}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xiegang"})),V().createElement("span",{onClick:function(){return G(">")}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"dayu"})),V().createElement("span",{onClick:function(){return G("<")}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xiaoyu"})),V().createElement("span",{onClick:function(){return G(">=")}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"dayudengyu"})),V().createElement("span",{onClick:function(){return G("<=")}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xiaoyudengyu"})),V().createElement("span",{onClick:function(){return G("=")}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"dengyu3"})),V().createElement("span",{onClick:function(){return G("!=")}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"budengyu"}))),V().createElement("div",{className:"editor"},V().createElement($s,{value:C,editor:_,onChange:function(t){x(t)}},V().createElement(Cs,{placeholder:(0,Z.getLangMsg)("printd.components.key0005"),id:"slate-editor",renderElement:O,onKeyDown:function(t){if("("===t.key&&(t.preventDefault(),_.insertText("()"),Uo.move(_,{distance:1,unit:"offset",reverse:!0})),13===t.keyCode){var e=A.getData(),n=null==e?void 0:e.version;(!n||Number(n)<6)&&t.preventDefault()}},autoFocus:!0,onBlur:function(t){t.persist();var e=t.relatedTarget;if("INPUT"!==(null==e?void 0:e.tagName)){var n=_.selection,r={};for(var i in n){var o=n[i],a=o.path,u=o.offset;r[i]={path:En()(a).call(a,0,2),offset:u}}j.current=r,Uo.select(_,r),xl.focus(_)}}})),V().createElement("div",{className:"editor-bottom"},V().createElement("span",{className:Qn()(["verify-btn",{disabled:w}]),onClick:function(){if(!w){var t=N(),e=qs(qs({},"Detail"===T?{cellType:T,dataSource:L.dataSource}:{}),t);window.fetch("api/print/validatePrintFormula.do",{method:"POST",headers:{"Content-Type":"application/jsoncharset=utf-8"},body:z()(e),mode:"cors",credentials:"include"}).then((function(t){if(t.ok)return t.json();throw new Error(t.statusText)})).then((function(t){var e=t.result,n=t.msg;D((function(){return{type:"fail"===e?"error":"success",visible:!0,msg:n}})),"success"===e&&(m.current=ut()((function(){m.current&&clearTimeout(m.current),D((function(t){return qs(qs({},t),{},{visible:!1})}))}),1100))})).catch((function(t){}))}}},(0,Z.getLangMsg)("printd.components.key0010"))))),V().createElement("div",{className:"description-area"},k.visible&&V().createElement(Q.Alert,{message:k.msg,showIcon:!0,closable:!0,type:k.type,delayOffTime:"success"===k.type?1e3:0,onClose:function(){return D((function(t){return qs(qs({},t),{},{visible:!1})}))}}),f?V().createElement("div",{className:"description-content"},V().createElement("div",{className:"description-title"},(null==f?void 0:f.title)||""),V().createElement("div",{className:"description-detail"},(null==f?void 0:f.description)||"")):V().createElement("div",{className:"description-content"},(0,Z.getLangMsg)("printd.components.key0023"),V().createElement("br",null),(0,Z.getLangMsg)("printd.components.key0024"),V().createElement("br",null),(0,Z.getLangMsg)("printd.components.key0025"),V().createElement("br",null),(0,Z.getLangMsg)("printd.components.key0026")))),V().createElement("div",{className:"expression-right"},V().createElement("div",{className:"block-title"},(0,Z.getLangMsg)("printd.components.key0028")),V().createElement("div",{className:"block-main"},V().createElement(zs,{onSelect:function(t){j.current&&(Uo.select(_,j.current),Uo.insertText(_,t+"()"),Uo.move(_,{distance:1,unit:"offset",reverse:!0}),xl.focus(_))},onShowDescription:d}))))})),rf=(0,H.forwardRef)((function(t,e){var n,r=t.meta,i=t.definition,o=t.expandedKeys,a=void 0===o?[]:o,u=t.scrollToKey,c=t.filterTreeData,l=t.activedSelectId,s=t.showDefinitionId,f=t.activeTab,d=t.formulaData,h=t.filterExpressionTreeData,p=t.DataSourceOption,v=(0,H.useRef)(null),g=(0,H.useRef)(null),m=(0,H.useRef)(null),y=(0,H.useState)(f),b=(0,M.c)(y,2),C=b[0],x=b[1],w=null===(n=(0,H.useContext)(Z.DataContext).getData())||void 0===n?void 0:n.version,E="expression-modal";(0,H.useImperativeHandle)(e,(function(){return{getDataSource:function(){return new(qr())((function(t,e){var n;"1"===C?t({curTab:C,selectNode:v.current}):null===(n=g.current)||void 0===n||n.onExpressionSave().then(t)}))}}}));(0,H.useEffect)((function(){var t;C&&(null===(t=g.current)||void 0===t||t.onAutoFocus())}),[C]);var S=(0,H.useMemo)((function(){var t=w&&Number(w)>=6;return[V().createElement("span",null,(0,Z.getLangMsg)("printd.grid.key0003"),t?V().createElement("label",{className:"".concat(E,"-new-tag")},"NEW"):null),t]}),[w]),k=(0,M.c)(S,2),D=k[0],A=k[1];return V().createElement("div",{className:"".concat(E,"-tab-wrapper")},V().createElement(Q.Tabs,{type:"dynamic",activeKey:C,onChange:function(t){x(t)}},V().createElement(Q.Tabs.TabPane,{key:"1",tab:(0,Z.getLangMsg)("printd.components.key0027")},V().createElement("div",{className:"body-left"},V().createElement(Gr,{scrollToKey:u,meta:r,definition:i,onSelect:function(t,e,n){v.current=e},showDefinitionId:s,expandedKeys:a,filterTreeData:c}))),!1===(null==p?void 0:p.AllowFormula)?V().createElement("div",null):V().createElement(Q.Tabs.TabPane,{key:"2",tab:D},V().createElement("div",{className:"body-right",ref:m},V().createElement(nf,{meta:r,definition:i,expandedKeys:a,ref:g,formulaData:d,activedSelectId:l,filterTreeData:h,showDefinitionId:s}))),A?V().createElement(Q.Tabs.TabPane,{specialPane:"right"},V().createElement(Q.Link,{target:"_blank",rel:"noreferrer",href:"https://vip.kingdee.com/article/609740912138348800"},(0,Z.getLangMsg)("printd.grid.key0129"))):null))})),of=function(t){var e=t.visible,n=t.setVisible,r=t.meta,i=t.definition,o=t.onSelect,a=(t.emptyNode,t.expandedKeys),u=void 0===a?[]:a,c=t.activeTab,l=t.DataSourceOption,s=t.filterTreeData,f=t.activedSelectId,d=t.formulaData,h=t.filterExpressionTreeData,p="expression",v=(0,H.useState)(!1),g=(0,M.c)(v,2),m=g[0],y=g[1],b=(0,H.useState)(!0),C=(0,M.c)(b,2),x=(C[0],C[1],(0,H.useRef)(null)),w=(0,H.useContext)(Z.DataContext),E=(0,H.useContext)(Z.SelectionContext),S=(0,H.useContext)(Z.DataFactoryContext).modelFactory,k=w.getRootId(),D=(w.findControl(k).language,Bn({dataContext:w,selectionContext:E,meta:r,activedSelectId:f,modelFactory:S})),A=V().createElement(V().Fragment,null,V().createElement(Q.Checkbox,{className:"".concat(p,"-modal-footer-checkbox"),checked:m,onChange:function(t){var e=!!t.target.checked;y(e)}},(0,Z.getLangMsg)("printd.grid.key0101")),V().createElement("div",{className:"".concat(p,"-modal-footer-btns")},V().createElement(Q.Button,{onClick:function(){return n(!1)},type:"second",className:"".concat(p,"-modal-cancel-btn")},(0,Z.getLangMsg)("printd.components.key0011")),V().createElement(Q.Button,{onClick:function(){var t;null===(t=x.current)||void 0===t||t.getDataSource().then((function(t){"fail"!==t&&o(t)}))},type:"primary",className:"".concat(p,"-modal-ok-btn")},(0,Z.getLangMsg)("printd.components.key0012"))));return V().createElement(Q.Modal,{body:V().createElement(rf,{scrollToKey:D,activeTab:c,formulaData:d,meta:r,definition:i,showDefinitionId:m,expandedKeys:u,ref:x,filterTreeData:s,activedSelectId:f,filterExpressionTreeData:h,DataSourceOption:l}),bodyStyle:{justifyContent:"start",alignItems:"start",overflowX:"hidden",overflowY:"auto",flexDirection:"column"},titleIcon:null,className:"".concat(p,"-modal"),footer:A,maskClosable:!1,width:1e3,height:614,title:(0,Z.getLangMsg)("printd.components.key0001"),closable:!0,destroyOnClose:!0,onCancel:function(){return n(!1)},onOk:function(){return n(!1)},mask:!0,visible:e})},af="beforeSave";function uf(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=uf(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=uf(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}function lf(t,e){if(!e)return t;e.ShowType;var n=e.DsType,r=e.FieldType,i=n.Hide,o=(n.OnlyShow,r.Hide,r.OnlyShow);return(null==i?void 0:i.length)>0&&(t=ff(t,i)),(null==o?void 0:o.length)>0&&(t=sf(t,o)),t}function sf(t,e){return j()(t).call(t,(function(t,n){var r=n,i=r.Items,o=r.Type,a=kn()(e).call(e,o);return!a&&i&&(n=cf(cf({},n),{},{Items:sf(i,e)})),(a||n.Items&&n.Items.length)&&t.push(n),t}),[])}function ff(t,e){return j()(t).call(t,(function(t,n){var r=n.Items,i=n.DsType;return kn()(e).call(e,i)||(r?t.push(cf(cf({},n),{},{Items:ff(r,e)})):t.push(n)),t}),[])}var df={locale:"zh-CN","global.selectholder":"请选择","global.placeholder":"请输入...","global.cancel":"取消","global.confirm":"确定"};function hf(t,e){var n=void 0!==Nn()&&On()(t)||t["@@iterator"];if(!n){if(Gn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return pf(t,e);var r=En()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Rn()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function pf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vf=function(){function t(e,n){(0,Yu.c)(this,t),(0,T.c)(this,"localesData",void 0),(0,T.c)(this,"locale",void 0),this.locale=n||df.locale,this.localesData=e}return(0,Ku.c)(t,[{key:"setLocalesData",value:function(t,e){var n=e||this.localesData[t];if(n)return this.locale=t,this.localesData[t]=n,e}},{key:"getLocalData",value:function(){return this.localesData[this.locale]}},{key:"getLocal",value:function(){return this.locale}},{key:"getLocalesData",value:function(){return this.localesData}}]),t}(),gf=new vf((0,T.c)({},df.locale,df)),mf=function(t,e,n){var r,i=gf.getLocalData();return function(t,e){var n,r=/{[\w\W]*?}/g,i=t.match(r)||[],o=function(t){return"object"===(0,Un.c)(t)||"function"==typeof t},a=function(t){var e=t.length;return En()(t).call(t,1,e-1)},u=[],c=[],l=hf(i);try{for(l.s();!(n=l.n()).done;){var s=a(n.value),f=e[s];o(f)?c.push({k:s,v:f}):u.push({k:s,v:f})}}catch(t){l.e(t)}finally{l.f()}t=function(t,e){return W()(e).call(e,(function(e){var n=e.k,r=e.v,i=new RegExp("{"+n+"}","g");t=t.replace(i,r)})),t}(t,u);var d=[];c.length>0&&(d=function(t,e){var n=function(t){var e,n=[],r={t:0,v:""},i=t.length;return W()(e=t.split("")).call(e,(function(t,e){"{"===t?(n.push(r),r={t:1,v:""}):"}"===t?(n.push(r),r={t:0,v:""}):r.v=r.v+t,e===i-1&&n.push(r)})),n},r=[],i=n(t);return W()(i).call(i,(function(t,n){var i=t.t,o=t.v;0===i&&""!==o?r.push(V().createElement("span",{key:n},o)):1===i&&r.push(V().cloneElement(e[o],{key:n}))})),r}(t,e));return c.length>0?d:t}(i[P()(r="".concat(t,".")).call(r,e)]||i["global.".concat(e)]||"",n)};var yf,bf={getPrefixCls:function(t,e,n){var r;return n||(t=t||"kdesigner",e?P()(r="".concat(t,"-")).call(r,e):t)},prefixCls:"kdesigner",locale:{getLangMsg:mf,getCompLangMsg:function(t,e,n){var r=t.componentName,i=t.labels,o=t.labelParams;if(o=o||{},n=n||df,!(i=i||[]).length)for(var a in n){var u=a.split(".");r===u[0]&&u[1]&&i.push(u[1])}var c={};return W()(i).call(i,(function(t){c[t]=e&&"function"==typeof e?e(r,t,o[t]||{}):mf(r,t,o[t]||{})})),c}}},Cf=bf,xf=(0,H.createContext)(Cf);function wf(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ef(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=wf(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=wf(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Sf=P()(yf=[hn.text]).call(yf,(0,bn.c)(be),(0,bn.c)(Ce)),kf=function(t){var e=t.id,n=t.propName,r=t.dataContext,i=(t.activedSelectId,t.RelationKey),o=t.RelationViewText,a=t.RelationDataSource,u=t.DataSourceOption,c=t.value,l=t.className,s=t.Editor,f=void 0===s?{}:s,d=t.field,h=t.readOnly,p=t.modalTitle,v=t.clearable,g=void 0!==v&&v,y=t.onClear,b=t.onSelect,C=t.handleInputChange,x=t.filterTreeData,w=t.expandedKeys,E=t.checkedKeys,S=t.selectedKey,k=t.modalType,D=t.Name,A=t.Tips,I=t.checkable,B=t.filterExpressionTreeData,F=t.DataSourceInfo,L=(0,H.useState)(!1),R=(0,M.c)(L,2),_=R[0],N=R[1],O=(0,H.useState)(!1),G=(0,M.c)(O,2),z=G[0],U=G[1],W=(0,H.useState)(!1),J=(0,M.c)(W,2),K=J[0],q=J[1],X=(0,H.useState)("1"),$=(0,M.c)(X,2),tt=$[0],et=$[1],nt=(0,H.useRef)(null),rt=f.MaxLength,it=f.Tips,at=f.NameHidden,ct=(0,H.useContext)(gn),lt=d.formulaData,st="Formula"===d.dsType&&D===(0,Z.getLangMsg)({key:"printd.grid.key0128"}),ft=(ct.meta,ct.definition),dt=ct.setMessage,ht="left-datasource",pt=["=now()","=getUserName()"],vt=function(t){ut()((function(){var e,n;t?null===(e=nt.current)||void 0===e||e.show():null===(n=nt.current)||void 0===n||n.hide()}),0)},gt=(0,H.useState)(c),mt=(0,M.c)(gt,2),yt=mt[0],bt=mt[1];!function(t,e){(0,H.useEffect)((function(){var n=function(n){var r=n.id,i=n.value;r===t&&e(i)};return Z.eventBus.on("input-query",n),function(){Z.eventBus.off("input-query",n)}}),[t])}(e,vt),(0,H.useEffect)((function(){bt(c)}),[c]),(0,H.useEffect)((function(){var t=$n(c),e=t.isBindField,n=t.bindField;if(!e||st)vt(!1),Ct(!1);else{var r=Xn(n,ft);if("$DsKey=[System]"===d.dataSource&&(r=!0),r)vt(!1),Ct(!1);else{var i,o,a;if(d.dataSource||d.bindField||!d.anchorField)a=Kn(Yn(d.dataSource,d.bindField),ft);else{var u=d.anchorField,l=u.bindField,s=u.dataSource;a=Kn(Yn(s,l),ft)}if(!a&&-1!==(null==d||null===(i=d.bindField)||void 0===i||null===(o=xn()(i))||void 0===o?void 0:o.call(i,"."))){var f=d.bindField.match(/w?\w*$/)[0];a=Kn(Yn(d.dataSource,f),ft)}a?(vt(!1),Ct(!1)):(vt(!0),Ct(!0))}}}),[c,ft,st]);var Ct=function(t){var n;Z.eventBus.emit(P()(n="".concat(af,"_")).call(n,e),t)},xt=(0,H.useCallback)((function(t){if(t!==c){if(st)return r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[e,tr((0,T.c)((0,T.c)({},n,t),"viewText",""))]]));var o,u=$n(t),l=u.isBindField,s=u.bindField;if(Z.console.log("isBindField",l),o=tr(F?(0,T.c)((0,T.c)({},n,t),F,""):(0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},n,t),Y().camelCase(i),""),Y().camelCase(a),""),"viewText",""),"dsType","")),l){var f=Xn(s,ft);if(!f)return vt(!0),r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[e,o]])),void Z.console.error("queryDataSourceAndAncestorByName has no res",s,ft);vt(!1);var d=f.dataSource,h=f.key,p=f.viewText,v=f.dsType;Z.console.log("bindField, definition, res"),Z.console.log(s,ft,f),r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[e,tr((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},n,t),Y().camelCase(i),h),Y().camelCase(a),d),"viewText","=$".concat(p)),"dsType",v))]]))}else vt(!1),r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[e,o]]))}}),[e,c,n,i,a,ft,st]),wt=(0,H.useCallback)((function(t){var u=t.curTab;if(t)if("2"===u){var c=t.formulaData,l=st?{formulaData:c}:(0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},n,(0,Z.getLangMsg)("printd.grid.key0003")),Y().camelCase(i),""),Y().camelCase(a),""),Y().camelCase(o),""),"dsType","Formula"),"formulaData",c);r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[e,tr(l)]]))}else{var s=t.selectNode;Et(s)}else{r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[e,{bindField:"",bindText:"",dataSource:"",dsType:"",formulaData:[],viewText:""}]]))}q(!1)}),[e,n,ft,o,a,i,n,k,st]),Et=(0,H.useCallback)((function(t){var u;if(t){var c=t.key,l=t.InitAttr,s=void 0===l?{}:l,f=Kn(c,ft);if(f){var d=f.dataSource,h=f.ancestorTitle,p=f.key,v=f.title,g=f.dsType,y=f.IgnoreZero,b=f.IgnoreTailZero,C=j()(u=m()(s)).call(u,(function(t,e){return t[Y().camelCase(e)]=s[e],t}),{});C.ignoreZero=y,C.ignoreTailZero=b,F?r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[e,tr((0,T.c)((0,T.c)({},n,"=$".concat(h)),F,tr((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},Y().camelCase(i),p),Y().camelCase(a),d),Y().camelCase(o),"=$".concat(v)),"dsType",g))))]])):r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[e,tr(Ef((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},n,"=$".concat(h)),Y().camelCase(i),p),Y().camelCase(a),d),Y().camelCase(o),"=$".concat(v)),"dsType",g),"formulaData",null),C))]]))}else Z.console.error("queryDataSourceAndAncestorByKey has no res",c,ft)}}),[e,n,ft,o,a,i,n,F]),St=(0,H.useCallback)((function(){U(!1)}),[]),kt=function(){et((function(){return st?"2":"1"})),"expression"===k?q(!0):U(!0)},Dt=(0,H.useCallback)((function(t){return"function"==typeof B&&(t=B(t)),function(t,e){return null!=e&&e.length?hr(t,(function(t){var n=t.bindField;return n&&kn()(e).call(e,n)}),"Sys"):t}(t,pt)}),[B]),At=(0,H.useContext)(Z.GlobalConfigContext).invokePrintDesignerCustomEvent,It=(0,H.useCallback)((function(t){At("clickTipsLink",t)}),[At]),Mt=(0,H.useCallback)((function(t){return x(lf(t,u))}),[u]);return V().createElement(V().Fragment,null,V().createElement(Z.NameTipWrapper,{nameHidden:at,className:l,name:D,tips:A,onLinkClick:It}),V().createElement(Kr,{ref:nt,className:l},V().createElement("div",{onMouseOver:function(){g&&yt&&N(!0)},onMouseLeave:function(){_&&N(!1)}},V().createElement(Q.Input,{onChange:function(t){var e=t.target.value||"";bt(e)},readOnly:h,onPressEnter:function(){},onBlur:function(t){var e=t.target.value||"",n=C||xt;rt&&e.length>rt&&((null==it?void 0:it.MaxLength)&&dt(it.MaxLength),e=En()(e).call(e,0,rt),bt(e)),n(e,vt)},value:yt,title:c,type:"string",placeholder:(0,Z.getLangMsg)("printd.grid.key0002"),borderType:"bordered",prefix:st?V().createElement("span",{className:"formula-prefix"},"fx"):null,onClick:function(){h&&kt()},suffix:V().createElement(V().Fragment,null,_&&V().createElement(Q.Icon,{type:"close",style:{cursor:"pointer"},onClick:y}),V().createElement(Q.Icon,{type:"more",style:{cursor:"pointer"},onClick:kt}))}),st&&kn()(Sf).call(Sf,d.type)?V().createElement(If,null):null)),V().createElement(Qr,(0,ot.c)({activedSelectId:e,visible:z,modalTitle:p},ct,{filterTreeData:x,expandedKeys:w,selectedKey:S,checkedKeys:E,onSelect:b?An()(b).call(b,null,U):function(t){Et(t),U(!1)},onCancel:St,className:ht,emptyNode:V().createElement(Df,{className:"left-datasource"}),checkable:I})),V().createElement(of,(0,ot.c)({activedSelectId:e,visible:K,activeTab:tt,formulaData:lt},ct,{filterTreeData:Mt,filterExpressionTreeData:Dt,expandedKeys:w,setVisible:q,onSelect:b?An()(b).call(b,null,q):wt,className:ht,DataSourceOption:u})))};function Df(t){var e=t.className;return V().createElement("div",{className:"".concat(e,"-empty")},V().createElement("img",{className:"".concat(e,"-empty-img"),src:Fn,width:"168",height:"96",alt:(0,Z.getLangMsg)("printd.grid.key0004")}),V().createElement("div",{className:"".concat(e,"-empty-text")},(0,Z.getLangMsg)("printd.grid.key0004")))}var Af=" ";function If(){var t=(0,H.useContext)(xf),e=t.getPrefixCls,n=t.prefixCls,r=e?e(n,"print-designer"):"";return V().createElement("div",{className:"".concat(r,"-formula-helper-text")},V().createElement("span",null,(0,Z.getLangMsg)("printd.grid.key0125")+Af),V().createElement("a",{href:"https://vip.kingdee.com/article/583309331983209728",target:"_blank",rel:"noreferrer"},(0,Z.getLangMsg)("printd.grid.key0126")))}var Mf=function(t){var e,n=t.dataContext,r=t.field,i=null==t||null===(e=t.field)||void 0===e?void 0:e.type,o="LayoutCell"!==i,a=n.findControl(r.parentId)||{},u=a.id,c=(a.dataSource,a.type,(0,H.useCallback)((function(t){var e=n.findControl(u);null==e||e.cellType,n.findControl(null==e?void 0:e.parentId);return t=F()(t).call(t,(function(t){return"Sys"!==t.DsType})),o?pr(t,"Image"):t}),[i])),l=(0,H.useCallback)((function(t){return o?pr(t,"Image"):t}),[]);return V().createElement(kf,(0,ot.c)({},t,{modalType:"expression",filterTreeData:c,filterExpressionTreeData:l}))};function Tf(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Tf(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Tf(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Ff=function(t){t.Name;var e,n,r,i=t.id,o=t.propName,a=t.DataSourceInfo,u=t.dataContext,c=t.RelationKey,l=t.RelationViewText,s=t.RelationDataSource,f=t.value,d=t.field;t.className;Z.console.log("datacell------",t);(0,H.useRef)(null);var h=(0,H.useContext)(gn),p=d.statType||"",v=d.dsType,g=d.cellType,y="Formula"===v,b=u.findControl(d.parentId),C=b.id,x=b.dataSource,w=b.type,E=(kn()(e=["Detail","Group"]).call(e,g)?x:"").replace(/^(\S+\.)?(\S+)$/g,"$2"),S=kn()(n=["Detail","Group"]).call(n,g)?[P()(r="".concat(x,"-")).call(r,E)]:[],k=(h.meta,h.definition),D="SubDataGrid"===w&&"Detail"===g?null:"expression",A=function(t){var e,n=t.key,r=t.InitAttr,l=void 0===r?{}:r,f=Kn(n,k);if(f){var d,h,v,y=f.dataSource,b=f.ancestorTitle,w=f.key,E=f.title,S=f.dsType,D=f.IgnoreZero,A=f.IgnoreTailZero,I="=$".concat(b),M=j()(e=m()(l)).call(e,(function(t,e){return t[Y().camelCase(e)]=l[e],t}),{});if(M.ignoreZero=D,M.ignoreTailZero=A,a)d=[[i,tr((0,T.c)((0,T.c)({},o,I),a,tr(Bf((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},Y().camelCase(c),w),Y().camelCase(s),y),"viewText","Statistic"===g&&"noStat"!==p?P()(h="=".concat(p,"(")).call(h,E,")"):"=$".concat(E)),"dsType",S),M))))]];else d=[[i,tr(Bf((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},o,I),Y().camelCase(c),w),Y().camelCase(s),y),"viewText","Statistic"===g&&"noStat"!==p?P()(v="=".concat(p,"(")).call(v,E,")"):"=$".concat(E)),"dsType",S),M))]];x||d.push([C,{dataSource:y,dataSourceText:I?I.replace(/(\S+)\.(\S+)(\.\S+)$/g,"$2"):""}]),u.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(d))}else Z.console.error("queryDataSourceAndAncestorByKey has no res",n,k)},I=(0,H.useCallback)((function(t){return t=F()(t).call(t,(function(t){return"Sys"!==t.DsType}))}),[g,x,d]);return V().createElement(kf,(0,ot.c)({},t,{modalType:D,filterTreeData:I,expandedKeys:S,onSelect:"expression"===D?function(t,e){if(e)if("2"===e.curTab){var n,r=e.formulaData,a=y?{formulaData:r}:(0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},o,(0,Z.getLangMsg)("printd.grid.key0003")),Y().camelCase(c),""),Y().camelCase(s),""),Y().camelCase(l),""),"dsType","Formula"),"formulaData",r);n=null!=r&&r[0]||1!==(null==r?void 0:r.length)?tr(a):Bf(Bf({},tr(a)),{},{bindText:"",dsType:""}),u.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[i,n]]))}else{var f=e.selectNode;A(f)}else{u.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[i,{bindField:"",bindText:"",dataSource:"",dsType:"",formulaData:[],viewText:""}]]))}t(!1)}:function(t,e){A(e),t(!1)},handleInputChange:function(t,e){if(t!==f){if(y)return u.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[i,tr((0,T.c)((0,T.c)({},o,t),"viewText",""))]]));var n=$n(f),r=n.isBindField,d=n.bindField;if(r){var h,v=Xn(d,k);if(!v)return e(!0),u.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[i,tr((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},o,t),Y().camelCase(c),""),Y().camelCase(s),""),Y().camelCase(l),""),"dsType",""))]])),void Z.console.error("queryDataSourceAndAncestorByName has no res",d,k);e(!1);var m=v.dataSource,b=v.key,w=v.viewText,E=v.dataSourceText,S=v.dsType;Z.console.log("bindField, definition, res"),Z.console.log(d,k,v);var D,A="Statistic"===g?(0,T.c)({},Y().camelCase(l),P()(h="=".concat(p,"(")).call(h,w,")")):(0,T.c)({},Y().camelCase(l),"=$".concat(w));D=a?[[i,tr((0,T.c)((0,T.c)({},o,t),a,""))]]:[[i,tr(Bf((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},o,t),Y().camelCase(c),b),Y().camelCase(s),m),"dsType",S),A))]],x||D.push([C,{dataSource:m,dataSourceText:E}]),u.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(D))}else e(!1),u.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[i,(0,T.c)({},o,t)]]))}}}))};function Lf(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Lf(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Lf(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var _f,Nf=function(t){var e=t.className,n=t.scrollToKey,r=t.errorTipShow,i=t.setErrorTipShow,o=t.checkable,a=t.meta,u=t.definition,c=t.showDefinitionId,l=t.filterTreeData,s=t.onCheck,f=t.checkedKeys,d=t.checkedNodes,h=t.emptyNode,p=t.handleDelete,v=t.handleClear,g=t.setCheckedNodes,m=t.setCheckedNodeKeys,y=t.controlType,b=t.onSelect,C=d.length||0,x=(0,H.useState)(null),w=(0,M.c)(x,2),E=w[0],S=w[1],k=(0,H.useState)(!1),D=(0,M.c)(k,2),A=D[0],I=D[1],T=(0,H.useCallback)((function(t,e,n){return t[e]=ui()(t).call(t,n,1,t[e])[0],t}),[]),B=function(t){t.preventDefault()},F=function(t){I(!1)};return V().createElement(V().Fragment,null,r&&V().createElement(Q.Alert,{className:"".concat(e,"-alert"),message:(0,Z.getLangMsg)("printd.components.key0007"),type:"error",delayOffTime:0,closable:!0,showIcon:!0,onClose:function(){return i(!1)}}),V().createElement("div",{className:e},V().createElement("div",{className:"".concat(e,"-left")},V().createElement(Gr,{controlType:y,onSelect:b,checkable:!!o&&"CardGrid"!==y,scrollToKey:n,meta:a,definition:u,showDefinitionId:c,filterTreeData:l,onCheck:s,checkedKeys:f,emptyNode:h})),"CardGrid"!==y&&V().createElement("div",{className:"".concat(e,"-right")},V().createElement("div",{className:"right-header"},V().createElement("div",{className:"total"},(0,Z.getLangMsg)("printd.components.key0008"),"（",C,"）"),V().createElement("div",{className:Qn()({"clear-all":!0,disabled:0===C}),onClick:v},(0,Z.getLangMsg)("printd.components.key0009"))),V().createElement("ul",{className:Qn()("checked-list",{"is-drag":A}),onDragOver:B,onDragEnter:B},R()(d).call(d,(function(t,e){return V().createElement("li",{className:Qn()("checked-item",{"is-active":E===e}),key:e,draggable:!0,onDragStart:function(t){return function(t,e){t.stopPropagation(),S(e),I(!0)}(t,e)},onDragEnd:F,onDragOver:function(t){return function(t,e){if(e!==E){var n=T(d,e,E);g(n),m(R()(n).call(n,(function(t){return t.key}))),S(e)}}(0,e)},onMouseOver:function(t){return function(t,e){S(e)}(0,e)},onMouseLeave:function(t){S(null)}},V().createElement("span",{className:"item-name"},t.ViewName||t.Name||""),V().createElement(Q.Icon,{type:"close",onClick:function(){return p(t.key)}}))}))))))},Pf=function(t){var e=t.visible,n=t.onCancel,r=t.meta,i=t.definition,o=t.checkedKeys,a=void 0===o?[]:o,u=t.onSelect,c=t.emptyNode,l=(t.activedSelectId,t.controlType),s=void 0===l?"DataGrid":l,f=t.transferData,d=(0,H.useState)(!1),h=(0,M.c)(d,2),p=h[0],v=h[1],g=(0,H.useState)(!1),m=(0,M.c)(g,2),y=m[0],b=m[1],C=(0,H.useState)([]),x=(0,M.c)(C,2),w=x[0],E=x[1],S=(0,H.useState)(a),k=(0,M.c)(S,2),D=k[0],A=k[1],I=!D.length,T=(0,H.useContext)(Z.DataContext),B=((0,H.useContext)(Z.SelectionContext),(0,H.useContext)(Z.DataFactoryContext).modelFactory,T.getRootId()),L=(T.findControl(B).language,s===de?null==f?void 0:f.parentGridId:""),_="grid-guide",N=(0,H.useCallback)((function(t,e){var n,r,o,a,u,c=e.checked,l=e.node;e.event;Z.console.log("checkedKeys",c,t,l);var s=ir(l);Z.console.log("fieldKeys--------",s,D);var f=c?P()(n=[]).call(n,(0,bn.c)(D),(0,bn.c)(s)):F()(D).call(D,(function(t){return!kn()(s).call(s,t)}));Z.console.log("checkedKeys--------",f);var d=F()(r=R()(o=F()(f).call(f,Boolean)).call(o,(function(t){return Rf({key:t},er(t,i))}))).call(r,(function(t){var e=t.dataSource,n=t.Key,r=t.Items;return!r||!r.length||!(Mn()(e).call(e,n)||r&&r.length)}));Z.console.log("nodes------",d,R()(a=F()(f).call(f,Boolean)).call(a,(function(t){return Rf({key:t},er(t,i))})));var h=F()(d).call(d,(function(t){return"=getRowNumber()"!==t.Key})),p=(null===(u=F()(h).call(h,(function(t){return t}))[0])||void 0===u?void 0:u.dataSource)||"",g=(0,bn.c)(new(li())(R()(h).call(h,(function(t){return t.dataSource})))),m=g.length>1;v(m),Z.console.log("nodes---------",d),d=F()(d).call(d,(function(t){return"=getRowNumber()"===t.Key||t.dataSource===p}));var y=R()(d).call(d,(function(t){return t.key}));A(y),E(d),Z.console.log("checkedNodes.current",d)}),[D,A,v]),O=function(){E([]),A([])},j=function(){v(!1),n()},G=["Entry","ReportEntry","Custom","Ref","Subentry","Workflow","Head","Main","Report","Approveline"],z=(0,H.useCallback)((function(t){if("CardGrid"===s)return Er(G)(t);if(s===de){var e,n=T.findControl(L).dataSource,r=(null===(e=rr(t,(function(t){if(t.dataSource===n)return!0})))||void 0===e?void 0:e.SubEntryList)||[];return t=mr(t),yr(t,r)}var i=null==f?void 0:f.subGridId;if(null!=i&&i.length){var o=f.dataSource;return yr(t,o)}var a=gr(t);try{var u,c,l=null==a||null===(u=Jn()(a).call(a,(function(t){return"Ref"===t.DsType})))||void 0===u||null===(u=Jn()(c=u.Items).call(c,(function(t){return"Workflow"===t.DsType})))||void 0===u?void 0:u.Items;if((null==l?void 0:l.length)>1){var d=ft()(l).call(l,(function(t){return"Approveactivity"===t.DsType}));-1!==d&&ui()(l).call(l,d,1)}}catch(t){}return a}),[s]);(0,H.useEffect)((function(){}),[D]),(0,H.useEffect)((function(){if(e)if(Sr(i,null==f?void 0:f.dataSource)||"CardGrid"===s){A(a);var t=R()(a).call(a,(function(t){return Rf({key:t},er(t,i))}));E(t)}else O()}),[e,i.length,null==f?void 0:f.dataSource,s]);var U=V().createElement(V().Fragment,null,V().createElement(Q.Checkbox,{className:"".concat(_,"-modal-footer-checkbox"),checked:y,onChange:function(t){var e=!!t.target.checked;b(e)}},(0,Z.getLangMsg)("printd.grid.key0101")),V().createElement("div",{className:"".concat(_,"-modal-footer-btns")},V().createElement(Q.Button,{onClick:j,type:"second",className:"".concat(_,"-modal-cancel-btn")},(0,Z.getLangMsg)("printd.components.key0011")),V().createElement(Q.Button,{className:"".concat(_,"-modal-ok-btn"),type:"primary",disabled:I,onClick:function(){u(w,s)}},(0,Z.getLangMsg)("printd.components.key0012"))));return V().createElement(Q.Modal,{body:V().createElement(Nf,{checkable:!0,className:"".concat(_,"-body"),errorTipShow:p,setErrorTipShow:v,meta:r,definition:i,showDefinitionId:y,filterTreeData:z,onCheck:N,checkedKeys:D,checkedNodes:w,handleDelete:function(t){E((function(e){return F()(e).call(e,(function(e){return e.key!==t}))})),A((function(e){return F()(e).call(e,(function(e){return e!==t}))}))},handleClear:O,emptyNode:c,setCheckedNodes:E,setCheckedNodeKeys:A,controlType:s,onSelect:function(t){E(t),A(t.key)}}),titleIcon:null,maskClosable:!1,className:"".concat(_,"-modal"),footer:U,width:688,height:500,title:(0,Z.getLangMsg)("printd.components.key0013"),closable:!0,destroyOnClose:!0,onCancel:j,onOk:j,mask:!0,visible:e})},Of=n(1508),jf=n.n(Of),Gf=n(7224),zf=n.n(Gf);function Uf(){if(_f)return _f;if(_f={},null!=window.screen.deviceXDPI)_f.x=window.screen.deviceXDPI,_f.y=window.screen.deviceYDPI;else{var t=document.createElement("div");t.style.cssText="width:1in;height:1in;position:absolute;left:0;top:0;z-index:0;visibility:hidden",document.body.appendChild(t),_f.x=Xu()(t.offsetWidth),_f.y=Xu()(t.offsetHeight),t.parentNode.removeChild(t)}return _f}var Wf=function(){return Jf(1,"x",arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)},Qf=function(t){var e=arguments.length>2?arguments[2]:void 0;return Hf(t*Jf(1,"x",arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),null!=e?e:1)},Zf=function(t){var e=arguments.length>2?arguments[2]:void 0;return Hf(t/Jf(1,"x",arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),null!=e?e:1)};function Jf(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mm";"string"==typeof t&&(e=t.substr(t.length-2,2)),e=e||i,t=zf()(t);var o=Uf()[n];switch(e){case"cm":return Hf(t*o/2.54,1)*r;case"mm":return Hf(t*o/25.4,1)*r;default:return t*r}}function Hf(t,e){if(!e)return t;var n=Math.pow(10,e);return Math.round(t*n)/n}function Vf(t,e){if(!e)return t;var n=Math.pow(10,e);return Math.floor(t*n)/n}var Kf=["fontSize","width","height"],Yf=function(t){var e;return j()(e=m()(t)).call(e,(function(e,n){if(t.lineSpace)return e[n]=t[n],e;var r=Jn()(Kf).call(Kf,(function(e){return null==t?void 0:t[e]}))?2:1;return e[n]=Y().isNumber(t[n])?Hf(t[n],r):t[n],e}),{})},qf=function(t){var e;return"PrintMetadata"!==(null===(e=t.getData())||void 0===e?void 0:e.type)},Xf=n(6908),$f=n.n(Xf);function td(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=td(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=td(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var nd=function(t){var e=t.columns,n=t.rows;return function(t){var r=t.row,i=t.column;return{x:ad(En()(e).call(e,0,i)),y:ad(En()(n).call(n,0,r)),width:e[i].columnWidth,height:n[r].rowHeight}}},rd=nd,id=function(t,e){var n;return P()(n="".concat(t,"-")).call(n,e)},od=function(t){return function(e,n){return e*t+n}},ad=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.length?Hf(j()(t).call(t,(function(t,n){return"DataRow"===n.type?n.rowType===xe?t+n.rowHeight+e:t+n.rowHeight:t+n.columnWidth}),0),1):0},ud=function(t){var e,n,r,i,o=t.columns,a=t.rows,u=t.cells,c=t.mergeConfig,l=t.templateRowCount,s=t.fixedRowAtPage,f=t.allItems,d=void 0===f?[]:f,h=t.gridData,p=Y().cloneDeep(d),v=[],g=R()(e=jf()(n=new Array(a.length)).call(n,0)).call(e,(function(){return{cells:[],row:{}}})),y=o.length,b=a.length,C=Y().cloneDeep(u),x={},w=nd({columns:o,rows:a}),E=od(y);W()(r=m()(c)).call(r,(function(t){for(var e=t.split("-"),n=(0,M.c)(e,2),r=(n[0],n[1],c[t]),i=r.rowStart,o=r.rowLength,a=r.columnStart,u=r.columnLength,l=i;l<i+o;l++)for(var s=a;s<a+u;s++)C[E(l,s)].mergeConfig=c[t]})),W()(C).call(C,(function(t,e){var n=t.row,r=t.column,i=t.border,o=void 0===i?DEFUALT_BORDER_DATA:i,u=t.id;if(t.mergeConfig){var c=t.mergeConfig,l=c.rowStart,s=c.columnStart,f=(c.rowLength,c.columnLength,id(l,s));if(f in x){var d=x[f],h=w({row:n,column:r}),m=h.width,y=h.height;n!==l&&r===s&&(v[d].height+=y),r!==s&&n===l&&(v[d].width+=m)}else{var b=ed(ed(ed({},t),w({row:n,column:r})),{},{cellKey:id(n,r),border:o,childItems:(null==p?void 0:F()(p).call(p,(function(t){return t.parentId===u})))||[]});v.push(b),g[n]=g[n]||{cells:[]},g[n].row=a[n],g[n].cells.push(b),x[f]=v.length-1}}else{var C=ed(ed(ed({},t),w({row:n,column:r})),{},{cellKey:id(n,r),border:o});v.push(C),g[n]=g[n]||{cells:[]},g[n].row=a[n],g[n].cells.push(C)}})),Z.console.log("cellDataWithMergeCell",g,v,x);var S=[],k=-1,D=0,A=-1;if(s&&l>1){k=ft()(g).call(g,(function(t){return t.row.rowType===xe}));var I=g[k];if(I){var T,B,L=I.cells,_=I.row.rowHeight;if(D=_*(l-1),L)S=R()(T=jf()(B=new Array(l-1)).call(B,0)).call(T,(function(t,e){return R()(L).call(L,(function(t){var n=t.y+_*(e+1);return 0===e&&(A=n),(0,ot.c)({},t,De,{y:n})}))}))}}if(k>-1&&0!==D&&W()(g).call(g,(function(t,e){var n=t.cells;e>k&&W()(n).call(n,(function(t){(0,ot.c)(t,{y:t.y+D})}))})),h&&S.length&&-1!==k&&!kn()(i=[Pe,Ne]).call(i,h[Fe])){var N,O,j=Y().cloneDeep(g[k]);W()(N=j.cells).call(N,(function(t){t.row=0})),W()(S).call(S,(function(t,e){W()(t).call(t,(function(t){t.row=e+1}))}));var G=Jd(h,P()(O=[j]).call(O,(0,bn.c)(R()(S).call(S,(function(t){return{cells:t}})))),l,y).newRowData;if(G){var z,U,Q,J=Vd(h[Wt]),H=(0,M.c)(J,4),V=H[0],K=H[1],q=H[2],X=H[3],$=V;if(0!==k){var tt,et,nt;if(kn()($).call($,Le))W()(tt=G[0].cells).call(tt,(function(t){t[Wt]=md(t[Wt],je,X,K,q)}));if(kn()($).call($,je))W()(et=G[0].cells).call(et,(function(t){t[Wt]=md(t[Wt],je,0,K,q)}));if(kn()($).call($,Re))W()(nt=G[0].cells).call(nt,(function(t){t[Wt]=md(t[Wt],je,0,K,q)}))}if(k!==b-1){var rt,it;if(kn()($).call($,Le),kn()($).call($,ze))W()(rt=G[G.length-1].cells).call(rt,(function(t){t[Wt]=md(t[Wt],ze,0,K,q)}));if(kn()($).call($,Re))W()(it=G[G.length-1].cells).call(it,(function(t){t[Wt]=md(t[Wt],ze,0,K,q)}))}return{originCells:C,rowData:P()(z=P()(U=En()(g).call(g,0,k)).call(U,G[0])).call(z,En()(g).call(g,k+1)),templateRowData:R()(Q=En()(G).call(G,1)).call(Q,(function(t){return t.cells})),templateRowHeight:D,templateRowIndex:k,templateRowY:A,rowCount:b,columnCount:y}}}return{originCells:C,rowData:g,templateRowData:S,templateRowHeight:D,templateRowIndex:k,templateRowY:A,rowCount:b,columnCount:y}},cd=Y().memoize((function(t){var e,n,r,i,o=j()(e=Y().cloneDeep(t)).call(e,(function(t,e){var n=e.type;e.id;switch(n){case"DataRow":return t.rows.push(e),t;case"DataColumn":return t.columns.push(e),t;default:return t.cells.push(e),t}}),{columnData:{},rowData:{},cells:[],columns:[],rows:[]}),a=(o.columns.length,o.rows),u=o.columns;return W()(n=o.cells).call(n,(function(t,e){t.id;var n=t.rowId,r=t.columnId,i=ft()(a).call(a,(function(t){return t.id===n})),c=ft()(u).call(u,(function(t){return t.id===r}));o.cells[e]=ed(ed({},t),{},{row:i,column:c}),o.rowData[i]=o.rowData[i]||[],o.rowData[i].push(t),o.columnData[c]=o.columnData[c]||[],o.columnData[c].push(t)})),$f()(r=o.cells).call(r,(function(t,e){var n=t.row,r=t.column,i=e.row,o=e.column;return n-i==0?r-o:n-i})),Z.console.log("originCells",o.cells),Z.console.log("originCells id",R()(i=o.cells).call(i,(function(t){return{row:t.row,column:t.column}}))),o.rowCount=a.length,o.columnCount=u.length,o}),z()),ld=function(t,e,n){var r={};return j()(e).call(e,(function(e,i){var o=i.rowId,a=i.columnId,u="height"===n?o:a;return r[u]?(r[u]=!0,Hf(e,1)):(r[u]=!0,Hf(e+t.findControl(u)["height"===n?Ue:We],1))}),0)},sd=function(t){var e=t.isMultiSelected,n=t.field,r=t.dataContext,i=t.selectionContext,o=t.propName,a=(n.id,n.parentId),u=n.rowId,c=n.columnId,l=i.getSelection();if(e){var s=R()(l).call(l,(function(t){return r.findControl(t)})),f=F()(s).call(s,bd);if(f.length===s.length&&("width"===o||"height"===o)){var d=R()(f).call(f,(function(t){return fd({dataContext:r,field:t})[o]}));return 1===new(li())(d).size?d[0]:""}return 1===new(li())(R()(s).call(s,(function(t){return t[o]}))).size?n[o]:""}if(bd(n)&&("width"===o||"height"===o)){var h,p,v,g,m=r.findControl(a);if(m.mergeConfig){var y=Yd({items:r.getData().items,gridData:m,rowId:u,columnId:c});if(y.length)return ld(r,y,o)}return"width"===o?null!==(h=null===(p=r.findControl(c))||void 0===p?void 0:p.columnWidth)&&void 0!==h?h:"":null!==(v=null===(g=r.findControl(u))||void 0===g?void 0:g.rowHeight)&&void 0!==v?v:""}return n[o]},fd=function(t){var e=t.field,n=t.dataContext,r=(e.id,e.parentId),i=e.rowId,o=e.columnId;if(bd(e)){var a=n.findControl(r);if(a.mergeConfig){var u=Yd({items:n.getData().items,gridData:a,rowId:i,columnId:o});if(u.length)return{width:ld(n,u,"width"),height:ld(n,u,"height")};var c=n.findControl(i);return{width:n.findControl(o).columnWidth,height:c.rowHeight}}}};function dd(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function hd(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=dd(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=dd(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}function pd(t,e){return j()(ue).call(ue,(function(n,r){return e&&e(n,r)||(n[r]=t),n}),{})}var vd=function(t,e,n,r){var i,o,a=kn()(i=["dashed","dotted"]).call(i,r)?.5:n===_e?2:r,u=kn()(o=["dashed","dotted"]).call(o,r)?r:"solid";return gd(t,n,e,a,u)},gd=function(t,e,n,r,i){var o=Y().cloneDeep(t);switch(e){case Pe:o.width.left=0,o.width.right=0,o.width.top=0,o.width.bottom=0,o.width.inner=0;break;case Oe:o.width.left=r,o.color.left=n,o.style.left=i;break;case Ge:o.width.right=r,o.color.right=n,o.style.right=i;break;case je:o.color.top=n,o.width.top=r,o.style.top=i;break;case ze:o.color.bottom=n,o.width.bottom=r,o.style.bottom=i;break;case Le:o.color.inner=n,o.width.inner=r,o.style.inner=i;break;default:o.width=j()(ue).call(ue,(function(t,n){return"inner"===n&&e!==Ne||(t[n]=r),t}),{}),o.color=j()(ue).call(ue,(function(t,r){return"inner"===r&&e!==Ne||(t[r]=n),t}),{}),o.style=j()(ue).call(ue,(function(t,n){return"inner"===n&&e!==Ne||(t[n]=i),t}),{})}return o},md=function(t,e,n,r,i,o,a){var u=Y().cloneDeep(t);if(n&&!a&&(u.width=pd(n||.5,(function(t,e){if(!u.width[e])return t[e]=u.width[e],!0}))),r&&(u.color=pd(r)),i&&(u.style=pd(i)),!e)return u;var c=Y().isUndefined(n)?u.width.top||u.width.left||u.width.right||u.width.bottom||u.width.inner||.5:n,l=Y().isUndefined(i)?u.style.top||u.style.left||u.style.right||u.style.bottom||u.style.inner:i,s=Y().isUndefined(r)?u.color.top||u.color.left||u.color.right||u.color.bottom||u.color.inner:r;switch(e){case Pe:o?(u.width.left=0,u.width.right=0,u.width.top=0,u.width.bottom=0,void 0===u.width.inner&&(u.width.inner=0)):u.width=j()(ue).call(ue,(function(t,e){return t[e]=0,t}),{});break;case Oe:var f=c,d=s,h=l;u.width.left=f,u.color.left=d,u.style.left=h;break;case Ge:var p=c,v=s,g=l;u.color.right=v,u.width.right=p,u.style.right=g;break;case je:var m=c,y=s,b=l;u.color.top=y,u.width.top=m,u.style.top=b;break;case ze:var C=c,x=s,w=l;u.color.bottom=x,u.width.bottom=C,u.style.bottom=w;break;case Ne:var E=c,S=s,k=l;u.width=j()(ue).call(ue,(function(t,e){return t[e]=E,t}),{}),u.color=j()(ue).call(ue,(function(t,e){return t[e]=S,t}),{}),u.style=j()(ce).call(ce,(function(t,e){return t[e]=k,t}),{});break;case Le:var D=c,A=s,I=l;u.color.inner=A,u.width.inner=D,u.style.inner=I;break;default:var M=c,T=s,B=l;u.width=(0,ot.c)(u.width,j()(ce).call(ce,(function(t,e){return t[e]=M,t}),{})),u.color=(0,ot.c)(u.color,j()(ce).call(ce,(function(t,e){return t[e]=T,t}),{})),u.style=(0,ot.c)(u.style,j()(ce).call(ce,(function(t,e){return t[e]=B,t}),{}))}return u},yd=function t(e,n){var r=Y().cloneDeep(e);if(Gn()(n))return j()(n).call(n,(function(e,n){return t(e,n)}),r);switch(n){case Oe:r.width.left=0;break;case Ge:r.width.right=0;break;case je:r.width.top=0;break;case ze:r.width.bottom=0;break;default:return r}return r},bd=function(t){return kn()(be).call(be,null==t?void 0:t.type)},Cd=function(t){return kn()(ge).call(ge,null==t?void 0:t.type)},xd=function(t){return"DataGrid"===t.type},wd=function(t){return(null==t?void 0:t.type)===de},Ed=function(t){return"CardGrid"===t.type},Sd=function(t){var e=t.findControl(t.getRootId()),n=e.width-e.marginLeft-e.marginRight,r=e.height-e.marginTop-e.marginBottom;return{x:0,y:0,width:n,height:r,left:0,top:0,right:n,bottom:r}},kd=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.x,i=void 0===r?0:r,o=n.y,a=void 0===o?0:o,u=t.findControl(e),c=u.width,l=u.height,s=u.x,f=u.y;return{x:s+=i,y:f+=a,width:c,height:l,left:s,top:f,right:s+c,bottom:f+l}},Dd=function(t){return kn()(me).call(me,t.type)},Ad=function(t){return kn()(ye).call(ye,t.type)},Id=function(t){return t.rowType===xe},Md=function(t){if(!t)return!1;var e=t.type,n=t.cellType;return"DataCell"===e&&"Detail"===n},Td=function(t){return t.rowType===ke},Bd=function(t){return!!t&&"LayoutCell"===t.type},Fd=function(t){return"TableTail"===t.type},Ld=function(t){return!!t&&"DataCell"===t.type},Rd=function(t){if(!t)return!1;var e=t.type;return"LayoutGrid"===e||"CardGrid"===e},_d=function(t,e){var n=t.getData().items;return{items:F()(n).call(n,(function(t){return t.parentId===e})),gridData:Jn()(n).call(n,(function(t){return t.id===e})),allItems:n}},Nd=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return j()(e).call(e,(function(e,r,i){return(n[i]||r)&&(e[n[i]||r]=t[r]),e}),{})},Pd=function(t){var e,n={};W()(t).call(t,(function(t){var e=(0,M.c)(t,2),r=e[0],i=e[1];n[r]=n[r]||[],n[r].push(i)}));var r={};return F()(e=R()(t).call(t,(function(t){var e,i=(0,M.c)(t,2),o=i[0];i[1];if(!r[o])return r[o]=!0,[o,j()(e=n[o]).call(e,(function(t,e){return(0,ot.c)(t,Yf(e))}),{})]}))).call(e,Boolean)},Od=function(t){var e=t.mergeConfig,n=t.row,r=t.column,i=n,o=r;e&&(i+=e.rowLength-1,o+=e.columnLength-1);return i===n&&(i=null),o===r&&(o=null),{realRowIdx:n,realCellIdx:r,rightRowIdx:i,bottomCellIdx:o}},jd=function(t){t.rowIdx,t.cellIdx;var e,n,r=t.cell,i=(t.cells,t.borderConfig),o=t.handleBorderTypes,a=t.columnLength,u=Od(r),c=u.realCellIdx,l=u.bottomCellIdx,s=i.borderColor,f=i.borderStyle,d=i.borderWidth,h=(0,M.c)(o,3),p=h[0],v=h[1],g=h[2];kn()(e=[c,l]).call(e,0)&&(r[Wt]=j()(p).call(p,(function(t,e){return md(t,e,d,s,f,!1,!0)}),r[Wt])),kn()(n=[c,l]).call(n,a-1)&&(r[Wt]=j()(g).call(g,(function(t,e){return md(t,e,d,s,f,!1,!0)}),r[Wt])),(0!==c||l!==a-1||(0,K.isNumber)(l)&&l!==a-1)&&(r[Wt]=j()(v).call(v,(function(t,e){return md(t,e,d,s,f,!1,!0)}),r[Wt]))},Gd=function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(0===n.length)return null;if(Gn()(e))return j()(e).call(e,(function(e,n){return t(n,e,r,i,o)}),n);var a=r.borderColor,u=r.borderStyle,c=r.borderWidth,l=i.rowLength,s=i.columnLength;switch(e){case Ne:return W()(n).call(n,(function(t,e,n){var r=t.cells;W()(r).call(r,(function(t,e,n){var r,i,o,f,d,h,p=Od(t),v=p.realRowIdx,g=p.realCellIdx,m=p.rightRowIdx,y=p.bottomCellIdx;kn()(r=[v,m]).call(r,l-1)?kn()(i=[g,y]).call(i,s-1)?t[Wt]=md(t[Wt],Re,c,a,u):(t[Wt]=yd(t[Wt],Ge),t[Wt]=j()(o=[Oe,je,ze]).call(o,(function(t,e){return md(t,e,c,a,u)}),t[Wt])):kn()(f=[g,y]).call(f,s-1)?(t[Wt]=yd(t[Wt],ze),t[Wt]=j()(d=[Oe,je,Ge]).call(d,(function(t,e){return md(t,e,c,a,u)}),t[Wt])):(t[Wt]=yd(t[Wt],[ze,Ge]),t[Wt]=j()(h=[Oe,je]).call(h,(function(t,e){return md(t,e,c,a,u)}),t[Wt]))}))})),n;case Re:for(var f=0;f<n.length;f++)for(var d=n[f].cells,h=0;h<d.length;h++){var p,v,g=d[h],m=Od(g),y=m.realRowIdx,b=(m.realCellIdx,m.rightRowIdx);m.bottomCellIdx;kn()(p=[y,b]).call(p,0)&&jd({rowIdx:f,cellIdx:h,cell:g,cells:d,borderConfig:r,handleBorderTypes:[[Oe,je],[je],[Ge,je]],columnLength:s}),kn()(v=[y,b]).call(v,l-1)&&jd({rowIdx:f,cellIdx:h,cell:g,cells:d,borderConfig:r,handleBorderTypes:[[Oe,ze],[ze],[Ge,ze]],columnLength:s}),(0!==y||y!==l-1||(0,K.isNumber)(b)&&b!==l-1)&&jd({rowIdx:f,cellIdx:h,cell:g,cells:d,borderConfig:r,handleBorderTypes:[[Oe],[],[Ge]],columnLength:s})}return n;case Pe:return W()(n).call(n,(function(t,e,n){var r=t.cells;W()(r).call(r,(function(t,e,n){t[Wt]=md(t[Wt],Pe,c,a,u,!0)}))})),n;case Oe:return W()(n).call(n,(function(t,e,n){var r=t.cells;W()(r).call(r,(function(t,e,n){var r=Od(t),i=(r.realRowIdx,r.realCellIdx),o=r.rightRowIdx;r.bottomCellIdx;0!==i&&0!==o||(t[Wt]=md(t[Wt],Oe,c,a,u))}))})),n;case je:var C=n[0].cells;return W()(C).call(C,(function(t){t[Wt]=md(t[Wt],je,c,a,u)})),n;case Ge:return W()(n).call(n,(function(t,e,n){var r=t.cells;W()(r).call(r,(function(t){var e,n=Od(t),r=(n.realRowIdx,n.realCellIdx),i=(n.rightRowIdx,n.bottomCellIdx);kn()(e=[r,i]).call(e,s-1)&&(t[Wt]=md(t[Wt],Ge,c,a,u))}))})),n;case ze:return W()(n).call(n,(function(t,e,n){var r=t.cells;W()(r).call(r,(function(t){var e,n=Od(t),r=n.realRowIdx,i=(n.realCellIdx,n.rightRowIdx);n.bottomCellIdx;kn()(e=[r,i]).call(e,l-1)&&(t[Wt]=md(t[Wt],ze,c,a,u))}))})),n;case Le:return W()(n).call(n,(function(t,e,n){var r=t.cells;W()(r).call(r,(function(t,e,n){var r,i,o,l,s=Od(t),f=s.realRowIdx,d=s.realCellIdx,h=s.rightRowIdx,p=s.bottomCellIdx;kn()(r=[f,h]).call(r,0)?kn()(i=[d,p]).call(i,0)||(t[Wt]=md(t[Wt],Oe,c,a,u)):kn()(o=[d,p]).call(o,0)?t[Wt]=md(t[Wt],je,c,a,u):t[Wt]=j()(l=[Oe,je]).call(l,(function(t,e){return md(t,e,c,a,u)}),t[Wt])}))})),n;default:Z.console.error("unreachable action error")}},zd=function(t,e,n,r,i){return W()(n).call(n,(function(t,n,o){var a=t.cells;W()(a).call(a,(function(t,n,o){var a,u,c,l=Od(t),s=l.realRowIdx,f=l.realCellIdx,d=l.rightRowIdx,h=l.bottomCellIdx,p=Jn()(e).call(e,(function(e){return e.id===t.id}));(p&&(t[Wt]=p[Wt]),kn()(a=[s,d]).call(a,r-1))?kn()(u=[f,h]).call(u,i-1)||(t[Wt]=yd(t[Wt],Ge)):kn()(c=[f,h]).call(c,i-1)?t[Wt]=yd(t[Wt],ze):t[Wt]=yd(t[Wt],[ze,Ge])}))})),n},Ud=function(t,e,n,r,i){return W()(n).call(n,(function(t,n,o){var a=t.cells;W()(a).call(a,(function(t,n,o){var a,u,c=Od(t),l=c.realRowIdx,s=c.realCellIdx,f=c.rightRowIdx,d=c.bottomCellIdx,h=Jn()(e).call(e,(function(e){return e.id===t.id}));if(h&&(t[Wt]=h[Wt]),kn()(a=[l,f]).call(a,r-1)){var p=Y().findLast(e,(function(t){return"DataRow"===t.type}));if(p&&p.id!==t.rowId){var v,g=Jn()(e).call(e,(function(e){return e.rowId===p.id&&e.columnId===t.columnId})).border;if(null!=g&&null!==(v=g.width)&&void 0!==v&&v.bottom){var m=Vd(t[Wt])[1],y=Vd(t[Wt])[2],b=Vd(t[Wt])[3];t[Wt]=md(t[Wt],ze,b,m,y)}}}if(kn()(u=[s,d]).call(u,i-1)){var C=Y().findLast(e,(function(t){return"DataColumn"===t.type}));if(C&&C.id!==t.columnId){var x,w=Jn()(e).call(e,(function(e){return e.columnId===C.id&&e.rowId===t.rowId})).border;if(null!=w&&null!==(x=w.width)&&void 0!==x&&x.right){var E=Vd(t[Wt])[1],S=Vd(t[Wt])[2],k=Vd(t[Wt])[3];t[Wt]=md(t[Wt],Ge,k,E,S)}}}}))})),n},Wd=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Y().cloneDeep(t),o=i.borderType,a=i.border,u=i.mergeConfig,c=void 0===u?{}:u,l=(r?function(t){return t}:Y().cloneDeep)(F()(e).call(e,(function(e){return e.parentId===t.id}))),s=cd(l),f=s.columns,d=s.rows,h=s.cells,p=ud(hd(hd({columns:f,rows:d,cells:h},i),{},{mergeConfig:c})).rowData,v=Kd(a,o,p,d.length,f.length),g=[];v&&W()(n=j()(v).call(v,(function(t,e){return P()(t).call(t,e.cells)}),[])).call(n,(function(t){var e=t.id,n=t.border,i=Jn()(l).call(l,(function(t){return t.id===e}));i&&r&&(i.border=n,g.push([i.id,{border:n}]))}));return g},Qd=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Y().cloneDeep(t),i=(r.borderType,r.border,r.mergeConfig),o=void 0===i?{}:i,a=(0,Y().cloneDeep)(F()(e).call(e,(function(e){return e.parentId===t.id}))),u=cd(a),c=u.columns,l=u.rows,s=u.cells,f=ud(hd(hd({columns:c,rows:l,cells:s},r),{},{mergeConfig:o})).rowData,d=[];d=n?zd(0,a,f,l.length,c.length):Ud(0,a,f,l.length,c.length);var h,p=[];d&&W()(h=j()(d).call(d,(function(t,e){return P()(t).call(t,e.cells)}),[])).call(h,(function(t){var e=t.id,n=t.border,r=Jn()(a).call(a,(function(t){return t.id===e}));r&&p.push([r.id,{border:n}])}));return p},Zd=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Y().cloneDeep(t),o=i.borderType,a=i.border,u=i.mergeConfig,c=void 0===u?{}:u,l=(0,Y().cloneDeep)(F()(e).call(e,(function(e){return e.parentId===t.id}))),s=F()(n).call(n,(function(e){return e.parentId===t.id})),f=cd(l),d=f.columns,h=f.rows,p=f.cells,v=ud(hd(hd({columns:d,rows:h,cells:p},i),{},{mergeConfig:c})).rowData,g=Kd(a,o,v,h.length,d.length);g=r?Ud(0,s,v,h.length,d.length):zd(0,n,v,h.length,d.length);var m,y=[];g&&W()(m=j()(g).call(g,(function(t,e){return P()(t).call(t,e.cells)}),[])).call(m,(function(t){var e=t.id,n=t.border,r=Jn()(l).call(l,(function(t){return t.id===e}));r&&(r.border=n,y.push([r.id,{border:n}]))}));return y},Jd=function(t,e,n,r){var i=t.borderType,o=t.border;t.mergeConfig;return{newRowData:Kd(o,i,e,n,r)}},Hd=[un,cn,ln],Vd=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=lt()(n.width||{}),i=n.width||{},o=i.left,a=i.right,u=i.top,c=i.bottom,l=!i.inner&&o&&a&&u&&c,s=(lt()(n.color||{}),lt()(n.style||{}),F()(r).call(r,Boolean).length);if(0===s)return[[Pe]];if(5===s)return[[Ne],n.color.top,n.style.top,+(null!==(t=Jn()(Hd).call(Hd,(function(t){return+t===n.width.top})))&&void 0!==t?t:un)];if(l)return[[Re],n.color.top,n.style.top,+(null!==(e=Jn()(Hd).call(Hd,(function(t){return+t===n.width.top})))&&void 0!==e?e:un)];var f=[];return n.width.top&&f.push(je),n.width.left&&f.push(Oe),n.width.right&&f.push(Ge),n.width.bottom&&f.push(ze),n.width.inner&&f.push(Le),[f,n.color.top||n.color.bottom||n.color.left||n.color.right||n.color.inner,n.style.top||n.style.bottom||n.style.left||n.style.right||n.style.inner,+(n.width.top||n.width.bottom||n.width.left||n.width.right||n.width.inner||un)]},Kd=Y().memoize((function(t,e,n,r,i){var o=Vd(t),a=(0,M.c)(o,4),u=a[0],c=a[1],l=a[2],s=a[3],f=kn()(u).call(u,Le)?[Le]:u,d=Gd(f,Y().cloneDeep(n),{borderColor:c,borderStyle:l,borderWidth:s},{rowLength:r,columnLength:i},F()(u).call(u,(function(t){return t!==Le})));return d}),(function(t,e,n,r,i){return z()({value:t,type:e,rowData:n,rowLength:r,columnLength:i})})),Yd=function(t){var e,n=t.items,r=t.rowId,i=t.columnId,o=t.gridData,a=Y().cloneDeep(o),u=(a.borderType,a.border,a.mergeConfig),c=void 0===u?{}:u;if(Y().isEmpty(c))return[];var l=F()(n).call(n,(function(t){return t.parentId===o.id})),s=cd(l),f=s.columns,d=s.rows,h=s.cells,p=s.columnCount,v=od(p),g=P()(e="".concat(ft()(d).call(d,(function(t){return t.id===r})),"_")).call(e,ft()(f).call(f,(function(t){return t.id===i}))),m=[];if(c[g])for(var y=c[g],b=y.rowStart,C=y.rowLength,x=y.columnStart,w=y.columnLength,E=b;E<b+C;E++)for(var S=x;S<x+w;S++){var k=h[v(E,S)];k.rowId!==r&&k.columnId!==i||m.push(k)}return m},qd=function(t,e){var n=j()(t).call(t,(function(t,e){return t+e}),0),r=e-n;return R()(t).call(t,(function(e){return Vf(e+(0===n?r/t.length:r*e/n),1)}))},Xd=function(t,e){if((null==t?void 0:t.length)>1){var n=j()(t).call(t,(function(t,e){return t+e}),0);t[t.length-1]=t[t.length-1]+Vf(e-n,1)}return t};var $d=function(t,e,n,r){return function(i,o){for(var a=i,u=t;u<=e;u++){a=o(a,n[r(u,i)])}return a}};function th(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=th(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=th(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var nh=function(t){t.Name;var e,n=t.id,r=t.dataContext,i=t.value,o=t.field,a=t.className,u=t.selectionContext,c=t.Name,l=t.Tips,s=t.Editor,f=(void 0===s?{}:s).NameHidden,d=(0,H.useState)(!1),h=(0,M.c)(d,2),p=h[0],v=h[1],g=(0,H.useState)([]),y=(0,M.c)(g,2),b=y[0],C=y[1],x=(0,H.useContext)(gn),w=x.meta,E=x.definition,S=x.setMessage,k=r.getRootId(),D=(Y().last(P()(e=[k]).call(e,(0,bn.c)(u.getSelection()))),(0,H.useContext)(Z.GlobalConfigContext).invokePrintDesignerCustomEvent),A=(0,H.useCallback)((function(t){D("clickTipsLink",t)}),[D]);return V().createElement(V().Fragment,null,V().createElement(Z.NameTipWrapper,{nameHidden:f,className:a,name:c,tips:l,onLinkClick:A}),V().createElement("div",{className:"".concat(a,"-query"),onClick:function(){var t,e=o.id,n=r.findControlByCondition((function(t){return t.parentId===e&&"Detail"===t.cellType})),i=F()(t=R()(n).call(n,(function(t){var e=t.bindField,n=t.dataSource;return Yn(n,e)}))).call(t,Boolean);C(i),v(!0)}},V().createElement("div",{className:Qn()(["".concat(a,"-query-text"),(0,T.c)({},"".concat(a,"-query-text-empty"),!i)])},i||(0,Z.getLangMsg)("printd.grid.key0008")),V().createElement("div",{className:"".concat(a,"-query-btn")},V().createElement(Q.Icon,{type:"more",style:{cursor:"pointer"}}))),V().createElement(Pf,{activedSelectId:n,meta:w,definition:E,visible:p,onCancel:function(){return v(!1)},onSelect:function(t,e){if("CardGrid"===e){var i=(null==t?void 0:t.key)||[],a=Kn(null==i?void 0:i[0],E);if(!a)return;var c=a.dataSource,l=a.dataSourceText,s=a.dsType,f=a.IgnoreZero,d=a.IgnoreTailZero,h=[n,{dataSource:c,dataSourceText:l,dsType:s,methodName:"switchDataSource",ignoreZero:f,ignoreTailZero:d}],p=o.tableTailId;return r.batchUpdateControlPropertyValues((0,Z.createCustomUpdateAction)(h)).then((function(){p&&r.deleteControl((0,Z.createDeleteAction)(p))})),void v(!1)}var g=r.findControl(k);if((g.width-g.marginLeft-g.marginRight)/t.length<5)return S((0,Z.getLangMsg)("printd.grid.key0004"));var y,C=R()(t).call(t,(function(t){var e,n=t.key,r=t.InitAttr,i=void 0===r?{}:r,o=Kn(n,E);if(!o)return{};var a=o.dataSource,u=o.ancestorTitle,c=o.key,l=o.title,s=o.dsType,f=o.IgnoreZero,d=o.IgnoreTailZero,h=j()(e=m()(i)).call(e,(function(t,e){return t[Y().camelCase(e)]=i[e],t}),{});return h.ignoreZero=f,h.ignoreTailZero=d,eh({bindText:"=$".concat(u),bindField:c,dataSource:a,viewText:"=$".concat(l),dsType:s},h)})),x=R()(C).call(C,(function(t){return Yn(t.dataSource,t.bindField)}));if(!(y=b,x.join("")===y.join(""))){u.setSelect([]);var w=o.tableTailId;r.batchUpdateControlPropertyValues((0,Z.createCustomUpdateAction)([n,{dataSource:C}])).then((function(t){w&&r.deleteControl((0,Z.createDeleteAction)(w));var e=t[1].value;u.setSelect(Gn()(e)?[e[0].id]:[e.id])}))}v(!1)},checkedKeys:b,controlType:o.type,transferData:o}))},rh=function(t){t.Name,t.id;var e,n=t.dataContext,r=t.value,i=t.field,o=t.className,a=t.Name,u=t.Tips,c=t.Editor,l=(void 0===c?{}:c).NameHidden,s=(0,H.useContext)(Z.GlobalConfigContext).handleOpenDGridSortSettingEdModal,f=(0,H.useCallback)((function(){var t=n.findControlByCondition((function(t){return Md(t)&&t.parentId===i.id})),e=R()(t).call(t,(function(t){return{dataSource:t.dataSource,bindField:t.bindField}}));null==s||s(eh(eh({},i),{},{sortSettingsText:r,dsList:e}))}),[s,i,r]),d=(0,H.useContext)(Z.GlobalConfigContext).invokePrintDesignerCustomEvent,h=(0,H.useCallback)((function(t){d("clickTipsLink",t)}),[d]),p=(0,H.useContext)(gn).definition,v=void 0===p?{}:p,g=i.dataSource,m=ar(g)(v),y=kn()(e=["Workflow","Approveline","Attach","Ref"]).call(e,m);return V().createElement(V().Fragment,null,!y&&V().createElement(V().Fragment,null,V().createElement(Z.NameTipWrapper,{nameHidden:l,className:o,name:a,tips:u,onLinkClick:h}),V().createElement("div",{className:"".concat(o,"-query"),onClick:f},V().createElement("div",{className:Qn()(["".concat(o,"-query-text"),(0,T.c)({},"".concat(o,"-query-text-empty"),!r)])},r||(0,Z.getLangMsg)("printd.grid.key0008")),V().createElement("div",{className:"".concat(o,"-query-btn")},V().createElement(Q.Icon,{type:"more",style:{cursor:"pointer"}})))))},ih=function(t){t.Name,t.id,t.dataContext;var e,n=t.value,r=t.field,i=t.className,o=t.Name,a=t.Tips,u=t.Editor,c=(void 0===u?{}:u).NameHidden,l=(0,H.useContext)(Z.GlobalConfigContext).handleOpenDGridFilterSettingEdModal,s=(0,H.useCallback)((function(){null==l||l(eh({},r))}),[l,r,n]),f=(0,H.useContext)(gn).definition,d=void 0===f?{}:f,h=r.dataSource,p=ar(h)(d),v=kn()(e=["ReportEntry","Approveline","Approveactivity","Custom","Workflow","Ref","Attach"]).call(e,p),g=(0,H.useContext)(Z.GlobalConfigContext).invokePrintDesignerCustomEvent,m=(0,H.useCallback)((function(t){g("clickTipsLink",t)}),[g]);return V().createElement(V().Fragment,null,!v&&V().createElement(V().Fragment,null,V().createElement(Z.NameTipWrapper,{nameHidden:c,className:i,name:o,tips:a,onLinkClick:m}),V().createElement("div",{className:"".concat(i,"-query"),onClick:s},V().createElement("div",{className:Qn()(["".concat(i,"-query-text"),(0,T.c)({},"".concat(i,"-query-text-empty"),!(n||r.filterSettingValue))])},n||r.filterSettingValue?(0,Z.getLangMsg)("printd.grid.key0001"):(0,Z.getLangMsg)("printd.grid.key0009")),V().createElement("div",{className:"".concat(i,"-query-btn")},V().createElement(Q.Icon,{type:"more",style:{cursor:"pointer"}})))))},oh=function(t){var e,n=t.id,r=t.locked,i=t.className,o=t.editor,a=t.Name,u=t.Tips,c=t.dataContext,l=t.field,s=o.NameHidden,f=o.Required;if((null===(e=l.subGridId)||void 0===e?void 0:e.length)>0)return V().createElement(V().Fragment,null);var d=(0,H.useContext)(Z.GlobalConfigContext).invokePrintDesignerCustomEvent,h=(0,H.useCallback)((function(t){d("clickTipsLink",t)}),[d]);return V().createElement(V().Fragment,null,V().createElement(Q.Checkbox,{checked:!!l.tableTailId,disabled:r,onChange:function(t){var e,r;e=t.target.checked,r=[[n,{hasTableTail:e}]],c.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(r))}},V().createElement(Z.NameTipWrapper,{nameHidden:s,className:i,name:a,tips:u,required:f,onLinkClick:h})))},ah=function(t){var e,n=(0,H.useCallback)((function(t){return t=F()(t).call(t,(function(t){return"Sys"!==t.DsType})),pr(t,"Image")}),[]),r=(0,H.useCallback)((function(t){return pr(t,"Image")}),[]);return V().createElement(kf,(0,ot.c)({filterTreeData:n,filterExpressionTreeData:r},t,{modalType:(null==t||null===(e=t.editor)||void 0===e?void 0:e.SupportFx)&&"expression"}))},uh=function(t){var e,n=(0,H.useCallback)((function(t){return t=F()(t).call(t,(function(t){return"Sys"!==t.DsType})),pr(t,"Image")}),[]),r=(0,H.useCallback)((function(t){return pr(t,"Image")}),[]);return V().createElement(kf,(0,ot.c)({},t,{filterTreeData:n,filterExpressionTreeData:r,modalType:(null==t||null===(e=t.editor)||void 0===e?void 0:e.SupportFx)&&"expression"}))},ch=function(t){var e=t.id,n=t.propName,r=t.dataContext,i=t.value,o=t.className,a=(t.activedSelectId,(0,H.useState)(!1)),u=(0,M.c)(a,2),c=u[0],l=u[1],s=(0,H.useContext)(gn),f=s.definition,d=(0,H.useCallback)((function(t){t||l(!1);var i=t.key,o=Kn(i,f);if(Z.console.log("onSelect-----",t,o),o){var a=o.dataSource,u=o.ancestorTitle,c=o.key,s=o.dsType;r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[e,(0,T.c)((0,T.c)((0,T.c)((0,T.c)({},n,"=$".concat(u)),"dsType",s),"bindField",c),"dataSource",a)]])),l(!1)}else Z.console.error("queryDataSourceAndAncestorByKey has no res",i,f)}),[e,n,f]),h=(0,H.useCallback)((function(t){return function(t,e){return hr(t,(function(t){var n=t.Type;return n&&n===e}))}(t,"Image")}),[]),p=(0,H.useCallback)((function(){l(!1)}),[]);return V().createElement(V().Fragment,null,V().createElement("div",{className:"".concat(o,"-query"),onClick:function(){return l(!0)}},V().createElement("div",{className:Qn()(["".concat(o,"-query-text"),(0,T.c)({},"".concat(o,"-query-text-empty"),!i)])},i||(0,Z.getLangMsg)("printd.grid.key0010")),V().createElement("div",{className:"".concat(o,"-query-btn")},V().createElement(Q.Icon,{type:"more",style:{cursor:"pointer"}}))),V().createElement(Qr,(0,ot.c)({activedSelectId:e,visible:c,filterTreeData:h},s,{setVisible:l,onSelect:d,onCancel:p,className:"left-datasource",emptyNode:V().createElement(lh,{className:"left-datasource"})})))};function lh(t){var e=t.className;return V().createElement("div",{className:"".concat(e,"-empty")},V().createElement("img",{className:"".concat(e,"-empty-img"),src:Fn,width:"168",height:"96",alt:(0,Z.getLangMsg)("printd.grid.key0011")}),V().createElement("div",{className:"".concat(e,"-empty-text")},(0,Z.getLangMsg)("printd.grid.key0011")))}var sh=function(t){var e,n=t.id,r=(t.handleChange,t.value),i=(t.className,t.rootId,t.field,t.dataContext),o=t.locked,a=t.propName,u="kdesigner-image-upload",c=(0,H.useState)([]),l=(0,M.c)(c,2),s=l[0],f=l[1],d=(0,H.useState)(""),h=(0,M.c)(d,2),p=h[0],v=h[1],g=(0,H.useRef)(null),m=(0,H.useContext)(Z.GlobalConfigContext).uploadImageUrl,y=(0,H.useContext)(gn).setMessage,b=i.getData().id||"";(0,H.useEffect)((function(){var t;t="error"===p,ut()((function(){var e,n;t?null===(e=g.current)||void 0===e||e.show():null===(n=g.current)||void 0===n||n.hide()}),0)}),[p]),(0,H.useEffect)((function(){$n(r).isBindField&&i.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[n,(0,T.c)((0,T.c)((0,T.c)({},a,""),"bindField",""),"dataSource","")]]))}),[]);var C=P()(e="".concat(m)).call(e,b);return V().createElement(Q.Upload,{disabled:o,action:C,className:"".concat(u,"-wrapper"),accept:".jpg,.jpeg,.png,.bmp",fileList:s,onChange:function(t){var e=t.file.status,r=(0,bn.c)(t.fileList);r=En()(r).call(r,-1),r=R()(r).call(r,(function(t){var r=t.response;if(r){var o=r.rcId,u=r.fileName,c=r.status,l=r.message;"1"===c?(i.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[n,(0,T.c)((0,T.c)((0,T.c)({},a,u),"bindField",o),"dataSource","")]])),e="success"):(e="error",y(l||(0,Z.getLangMsg)("printd.grid.key0012")))}return t})),f(r),Z.console.log("upload------",e),v((function(){return"error"===e?"error":"success"}))}},V().createElement("div",{className:u},V().createElement("div",{className:Qn()(["".concat(u,"-value"),(0,T.c)({},"".concat(u,"-value-empty"),!r)])},r||(0,Z.getLangMsg)("printd.grid.key0013")),V().createElement(Q.Icon,{type:"shangchuan",prefix:"designericon",className:"".concat(u,"-icon")})))},fh=function(t){t.className;var e=t.Editor,n=t.value,r=t.handleChange;n||Z.console.error("PaperDirection value is null");var i=e.Enum,o="editor";return V().createElement(V().Fragment,null,V().createElement("div",{style:{opacity:1,visibility:"hidden",height:"16px"}},(0,Z.getLangMsg)("printd.grid.key0020")),V().createElement("div",{className:"".concat(o,"-page-direction")},R()(i).call(i,(function(t){var e=t.Value;return V().createElement("div",{className:Qn()((0,T.c)({},"".concat(o,"-page-direction-enable"),e===n)),onClick:function(){r(e)},title:"horizontal"===e?(0,Z.getLangMsg)("printd.grid.key0021"):(0,Z.getLangMsg)("printd.grid.key0022"),key:e},V().createElement("div",{className:Qn()((0,T.c)((0,T.c)({},"".concat(o,"-page-direction-horizontal"),"horizontal"===e),"".concat(o,"-page-direction-veritical"),"vertical"===e))}))}))))},dh=n(85640),hh=function(t){var e,n=t.handleChange,r=t.value,i=t.className,o=(t.rootId,t.Name),a=t.dataContext,u=(t.propName,(0,H.useContext)(Z.GlobalConfigContext)),c=u.previewImageUrl,l=u.uploadImageUrl,s="editor",f=(0,H.useState)([]),d=(0,M.c)(f,2),h=d[0],p=d[1],v=(0,H.useState)(""),g=(0,M.c)(v,2),m=(g[0],g[1]),y=(0,H.useState)((function(){var t,e=r||"";return e?P()(t="".concat(c)).call(t,e):""})),b=(0,M.c)(y,2),C=b[0],x=b[1],w=(0,H.useContext)(gn).setMessage,E=a.getData().id||"",S=function(t){return new(qr())((function(e,n){var r=a.getRootId(),i=a.findControl(r),o=i.width,u=(i.height,new Image);u.src=t;u.onload=function(){var t=u.width,n=u.height;t=Zf(t,1),n=Zf(n,1),e(t>o?{width:o,height:n*o/t}:{width:t,height:n})}}))},k=function(){var t=(0,dh.c)($r().mark((function t(e){var r,i,o,a,u,l,s;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.file.status,i=(0,bn.c)(e.fileList),i=En()(i).call(i,-1),i=R()(i).call(i,(function(t){var e=t.response;if(e){var n=e.rcId,i=e.fileName,a=e.status,u=e.message;"1"===a?(o={rcId:n,name:i},r="success"):(r="error",w(u||(0,Z.getLangMsg)("printd.grid.key0019")))}return t})),!o){t.next=14;break}return u=o.rcId,l=P()(a="".concat(c)).call(a,u),t.next=9,S(l);case 9:s=t.sent,s.width,s.height,x(l),n(u);case 14:p(i),m((function(){return"error"===r?"error":"success"}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,H.useEffect)((function(){var t,e=r||"";x(e?P()(t="".concat(c)).call(t,e):"")}),[r]);var D=P()(e="".concat(l)).call(e,E);return V().createElement(V().Fragment,null,V().createElement("div",{className:Qn()((0,T.c)({},"".concat(i,"-title"),!0))},o),C?V().createElement("div",{className:"".concat(s,"-upload-preview")},V().createElement("img",{src:C,alt:""}),C&&V().createElement("div",{className:"".concat(s,"-upload-preview-bg"),onClick:function(){x(""),p([]),n("")}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"shanchu"}))):V().createElement(Q.Upload,{className:"".concat(i,"-background-upload"),action:D,accept:".jpg,.jpeg,.png,.bmp",fileList:h,onChange:k},V().createElement("div",{className:"".concat(s,"-upload")},V().createElement(Q.Icon,{type:"add"}))))};function ph(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=ph(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=ph(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var gh=function(t){var e=t.id,n=t.propName,r=t.dataContext,i=t.value,o=t.className,a=(t.activedSelectId,t.RelationKey),u=t.RelationDataSource,c=t.RelationViewText,l=t.Name,s=t.Tips,f=t.Editor,d=void 0===f?{}:f,h=t.field,p=d.NameHidden,v=(0,H.useState)(!1),g=(0,M.c)(v,2),y=g[0],b=g[1],C=(0,H.useContext)(gn),x=(C.meta,C.definition),w=(0,H.useCallback)((function(t){var i;t||b(!1);var o=t.key,l=t.InitAttr,s=void 0===l?{}:l,f=Kn(o,x);if(f){var d=f.dataSource,h=f.ancestorTitle,p=f.key,v=f.title,g=f.dsType,y=f.IgnoreZero,C=f.IgnoreTailZero,w=j()(i=m()(s)).call(i,(function(t,e){return t[Y().camelCase(e)]=s[e],t}),{});w.ignoreZero=y,w.ignoreTailZero=C,r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[e,tr(vh((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},n,"=$".concat(h)),Y().camelCase(a),p),Y().camelCase(u),d),Y().camelCase(c),"=$".concat(v)),"dsType",g),w))]])),b(!1)}else Z.console.error("queryDataSourceAndAncestorByKey has no res",o,x)}),[e,n,x,c,u,a,n]),E=(0,H.useCallback)((function(){b(!1)}),[]),S=(0,H.useCallback)((function(t){return"RichText"===h.type&&(t=hr(t,(function(){}),"Sys")),function(t,e){return hr(t,(function(t){var n=t.Type,r=t.InitAttr;return n&&kn()(e).call(e,n)&&kn()(e).call(e,null==r?void 0:r.TextFormat)}))}(t,["Text","RichText"])}),[h.type]),k=(0,H.useContext)(Z.GlobalConfigContext).invokePrintDesignerCustomEvent,D=(0,H.useCallback)((function(t){k("clickTipsLink",t)}),[k]);return V().createElement(V().Fragment,null,V().createElement(Z.NameTipWrapper,{nameHidden:p,className:o,name:l,tips:s,onLinkClick:D}),V().createElement("div",{className:"".concat(o,"-query"),onClick:function(){return b(!0)}},V().createElement("div",{className:Qn()(["".concat(o,"-query-text"),(0,T.c)({},"".concat(o,"-query-text-empty"),!i)])},i||(0,Z.getLangMsg)("printd.grid.key0014")),V().createElement("div",{className:"".concat(o,"-query-btn")},V().createElement(Q.Icon,{type:"more",style:{cursor:"pointer"}}))),V().createElement(Qr,(0,ot.c)({activedSelectId:e,visible:y,filterTreeData:S},C,{onSelect:w,onCancel:E,className:"left-datasource",emptyNode:V().createElement(mh,{className:"left-datasource"})})))};function mh(t){var e=t.className;return V().createElement("div",{className:"".concat(e,"-empty")},V().createElement("img",{className:"".concat(e,"-empty-img"),src:Fn,width:"168",height:"96",alt:(0,Z.getLangMsg)("printd.grid.key0014")}),V().createElement("div",{className:"".concat(e,"-empty-text")},(0,Z.getLangMsg)("printd.grid.key0014")))}function yh(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=yh(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=yh(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Ch=function(t){var e,n,r=t.id,i=t.propName,o=t.dataContext,a=t.RelationKey,u=t.value,c=t.field,l=(0,H.useContext)(gn),s=c.parentId,f=c.groupField,d=o.findControl(s).dataSource,h=d.replace(/^(\S+\.)?(\S+)$/g,"$2"),p=[P()(e="".concat(d,"-")).call(e,h)],v=P()(n="".concat(d,"-")).call(n,f),g=l.definition,y=(0,H.useCallback)((function(t){return t=gr(t),t=yr(t,d)}),[d]);return V().createElement(kf,(0,ot.c)({},t,{readOnly:!0,filterTreeData:y,selectedKey:v,expandedKeys:p,onSelect:function(t,e){var n,u=e.key,c=e.InitAttr,l=void 0===c?{}:c,s=Kn(u,g);if(s){var f=s.ancestorTitle,d=s.key,h=s.dsType,p=s.IgnoreZero,v=s.IgnoreTailZero,y="=$".concat(f),b=j()(n=m()(l)).call(n,(function(t,e){return t[(0,K.camelCase)(e)]=l[e],t}),{});b.ignoreZero=p,b.ignoreTailZero=v;var C=[[r,tr(bh((0,T.c)((0,T.c)((0,T.c)({},i,y),(0,K.camelCase)(a),d),"dsType",h),b))]];o.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(C)),t(!1)}},handleInputChange:function(t,e){if(t!==u){var n=$n(t),c=n.isBindField,l=n.bindField;if(c){var s=Xn(l,g);if(!s)return e(!0),void o.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[r,tr((0,T.c)((0,T.c)((0,T.c)({},i,t),(0,K.camelCase)(a),""),"dsType",""))]]));e(!1);var f=s.key,d=s.dsType,h=[[r,tr((0,T.c)((0,T.c)((0,T.c)({},i,t),(0,K.camelCase)(a),f),"dsType",d))]];o.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(h))}else e(!1),o.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[r,(0,T.c)((0,T.c)((0,T.c)({},i,t),(0,K.camelCase)(a),""),"dsType","")]]))}}}))},xh=function(t){var e,n,r=t.id,i=t.propName,o=(t.className,t.Name),a=t.dataContext,u=t.RelationKey,c=t.value,l=t.field,s=(0,H.useContext)(gn).definition,f=l.parentId,d=l.mergeByField,h=l.mergeSummaryField,p=a.findControl(f),v=p.id,g=p.dataSource,y=g.replace(/^(\S+\.)?(\S+)$/g,"$2"),b=[P()(e="".concat(g,"-")).call(e,y)],C=a.findControlByCondition((function(t){return t.parentId===v&&"Detail"===t.cellType})),x=!!a.findControlByCondition((function(t){return Td(t)&&t.parentId===f})).length,w=(0,bn.c)(new(li())(F()(n=R()(C).call(C,(function(t){var e=t.bindField,n=t.dataSource;return Yn(n,e)}))).call(n,Boolean))),E=(0,H.useMemo)((function(){var t,e=br(s,w),n=d?null==d?void 0:R()(t=d.split(";")).call(t,(function(t){var e;return P()(e="".concat(g,"-")).call(e,t)})):[];return R()(n).call(n,(function(t){var n=t;return Eh(e,t)||Sh(e,t.split("-")[1],(function(t){var e,r=t.dataSource,i=t.bindField;n=P()(e="".concat(r,"-")).call(e,i)})),n}))}),[w,d,g]);return x||wd(p)?null:V().createElement(kf,(0,ot.c)({},t,{readOnly:!0,clearable:!0,modalTitle:o,filterTreeData:function(t){return g?t=br(t,w):[]},expandedKeys:b,checkedKeys:E,onSelect:function(t,e){var n=R()(e).call(e,(function(t){var e,n=t.key,r=t.InitAttr,i=void 0===r?{}:r,o=Kn(n,s);if(!o)return{};var a=o.dataSource,u=o.ancestorTitle,c=o.key,l=o.title,f=o.dsType,d=o.IgnoreZero,h=o.IgnoreTailZero,p=j()(e=m()(i)).call(e,(function(t,e){return t[(0,K.camelCase)(e)]=i[e],t}),{});return p.ignoreZero=d,p.ignoreTailZero=h,bh({bindText:"=$".concat(u),bindField:c,dataSource:a,viewText:"=$".concat(l),title:l,dsType:f},p)})),o=tr((0,T.c)((0,T.c)({},i,R()(n).call(n,(function(t){return t.title})).join(";")),(0,K.camelCase)(u),R()(n).call(n,(function(t){return t.bindField})).join(";")));a.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[r,o]])),t(!1)},onClear:function(){var t=h.length?{mergeSummaryField:[],mergeSummaryFieldText:""}:{};a.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[r,tr(bh((0,T.c)((0,T.c)({},i,""),(0,K.camelCase)(u),""),t))]]))},handleInputChange:function(t,e){if(t!==c){var n=$n(t),o=n.isBindField,l=n.bindField;if(o){var f=Xn(l,s);if(!f)return e(!0),void a.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[r,tr((0,T.c)((0,T.c)({},i,t),(0,K.camelCase)(u),""))]]));e(!1);var d=f.key,h=[[r,tr((0,T.c)((0,T.c)({},i,t),(0,K.camelCase)(u),d))]];a.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(h))}else e(!1),a.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[r,(0,T.c)((0,T.c)({},i,t),(0,K.camelCase)(u),"")]]))}},checkable:!0}))},wh=function(t){var e,n,r=t.Name,i=t.id,o=t.propName,a=t.dataContext,u=t.RelationKey,c=t.value,l=t.field,s=t.className,f=(t.selectionContext,(0,H.useState)(!1)),d=(0,M.c)(f,2),h=d[0],p=d[1],v=(0,H.useState)(!1),g=(0,M.c)(v,2),y=g[0],b=g[1],C=(0,H.useState)([]),x=(0,M.c)(C,2),w=x[0],E=x[1],S=(0,H.useContext)(gn),k=l.mergeSummaryField,D=l.parentId,A=l.mergeByField,I=a.findControl(D),B=I.id,L=I.dataSource,N=(I.type,L.replace(/^(\S+\.)?(\S+)$/g,"$2")),O=[P()(e="".concat(L,"-")).call(e,N)],G=a.findControlByCondition((function(t){return t.parentId===B&&"Detail"===t.cellType})),z=(0,bn.c)(new(li())(F()(n=R()(G).call(G,(function(t){var e=t.bindField,n=t.dataSource;return Yn(n,e)}))).call(n,Boolean))),U=!A,W=!!a.findControlByCondition((function(t){return Td(t)&&t.parentId===D})).length,J=S.meta,Y=S.definition,q=(0,H.useMemo)((function(){var t,e=br(Y,z),n=A?null==A?void 0:R()(t=A.split(";")).call(t,(function(t){var e;return P()(e="".concat(L,"-")).call(e,t)})):[];return R()(n).call(n,(function(t){var n=t;return Eh(e,t)||Sh(e,t.split("-")[1],(function(t){var e,r=t.dataSource,i=t.bindField;n=P()(e="".concat(r,"-")).call(e,i)})),n}))}),[z,A,L]);return W||wd(I)?null:V().createElement(V().Fragment,null,V().createElement("div",{className:"".concat(s,"-title")},r),V().createElement("div",{className:Qn()(["".concat(s,"-query"),{"is-disabled":U}]),onMouseOver:function(t){c&&p(!0)},onMouseLeave:function(t){h&&p(!1)},onClick:function(){if(!U){var t=k?R()(k).call(k,(function(t){var e;return P()(e="".concat(L,"-")).call(e,t)})):[];E(t),b(!0)}}},V().createElement("div",{className:Qn()(["".concat(s,"-query-text"),(0,T.c)({},"".concat(s,"-query-text-empty"),!c)])},c||(0,Z.getLangMsg)("printd.grid.key0008")),V().createElement("div",{className:"".concat(s,"-query-btn")},!U&&h&&V().createElement(Q.Icon,{type:"close",style:{cursor:"pointer"},onClick:function(t){t.stopPropagation(),a.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[i,tr((0,T.c)((0,T.c)({},o,""),(0,K.camelCase)(u),[]))]]))}}),V().createElement(Q.Icon,{type:"more",style:{cursor:U?"not-allowed":"pointer"}}))),V().createElement(Qr,{checkable:!0,className:"left-datasource",activedSelectId:i,modalTitle:r,meta:J,definition:Y,visible:y,onCancel:function(){return b(!1)},onSelect:function(t){var e=R()(t).call(t,(function(t){var e,n=t.key,r=t.InitAttr,i=void 0===r?{}:r,o=Kn(n,Y);if(!o)return{};var a=o.dataSource,u=o.ancestorTitle,c=o.key,l=o.title,s=o.dsType,f=o.IgnoreZero,d=o.IgnoreTailZero,h=j()(e=m()(i)).call(e,(function(t,e){return t[_.camelCase(e)]=i[e],t}),{});return h.ignoreZero=f,h.ignoreTailZero=d,bh({bindText:"=$".concat(u),bindField:c,dataSource:a,viewText:"=$".concat(l),title:l,dsType:s},h)})),n=(0,T.c)((0,T.c)({},o,R()(e).call(e,(function(t){return t.title})).join(";")),(0,K.camelCase)(u),R()(e).call(e,(function(t){return t.bindField})));a.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[i,n]])),b(!1)},expandedKeys:O,checkedKeys:w,filterTreeData:function(t){return L?(t=function(t,e){return null!=e&&e.length?hr(t,(function(t){var n=t.bindField,r=t.dataSource,i=Yn(r,n);return i&&!kn()(e).call(e,i)})):t}(t=br(t,z),q),t):[]}}))};function Eh(t,e){return Jn()(t).call(t,(function(t){var n=t.bindField,r=t.dataSource,i=t.Items;return r+"-"+n===e||(null==i?void 0:i.length)&&Eh(i,e)}))}function Sh(t,e,n){return Jn()(t).call(t,(function(t){var r=t.bindField,i=t.Items,o=r===e;return o&&n(t),o||i&&Sh(i,e,n)}))}function kh(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=kh(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=kh(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}function Ah(t){var e=t.visible,n=t.onCancel,r=t.selectList,i=t.fileName,o=t.id,a=(0,H.useContext)(Z.DataContext),u=(0,H.useState)(!1),c=(0,M.c)(u,2),l=c[0],s=c[1],f=(0,H.useState)([]),d=(0,M.c)(f,2),h=d[0],p=d[1],v=(0,H.useRef)(null),g="grid-guide",m=["\\","/",":","*","?","<",">","|"],y=function(){s(!1),n()};return V().createElement(Q.Modal,{body:V().createElement(Ih,{checkable:!0,className:"".concat(g,"-body"),errorTipShow:l,setErrorTipShow:s,checkedNodes:h,setCheckedNodes:p,selectList:r,fileName:i,ref:v}),titleIcon:null,maskClosable:!1,className:"".concat(g,"-modal"),footer:V().createElement(V().Fragment,null,V().createElement("div",{className:"".concat(g,"-modal-footer-btns")},V().createElement(Q.Button,{onClick:y,type:"second",className:"".concat(g,"-modal-cancel-btn")},(0,Z.getLangMsg)("printd.components.key0011")),V().createElement(Q.Button,{className:"".concat(g,"-modal-ok-btn"),type:"primary",onClick:function(){var t,e,n=null===(t=v.current)||void 0===t?void 0:t.getFormulaData();(null===(e=v.current)||void 0===e?void 0:e.getDataLen())<=100?!function(t){if(null!=t&&t.length)return Jn()(t).call(t,(function(t){return"string"==typeof t&&Jn()(m).call(m,(function(e){return kn()(t).call(t,e)}))}))}(n)?(a.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[o,{fileName:n}]])),y()):s("existSpecialStr"):s(!0)}},(0,Z.getLangMsg)("printd.components.key0012")))),width:480,height:320,title:(0,Z.getLangMsg)("printd.grid.key0121"),closable:!0,destroyOnClose:!0,onCancel:y,onOk:y,mask:!0,visible:e})}var Ih=(0,H.forwardRef)((function(t,e){var n=(0,H.useRef)(),r=function(){var t;return null===(t=n.current)||void 0===t?void 0:t.getFormulaData()},i=function(){var t;return null===(t=n.current)||void 0===t?void 0:t.getDataLen()};return(0,H.useImperativeHandle)(e,(function(){return{getFormulaData:r,getDataLen:i}})),(0,H.useEffect)((function(){n.current.onAutoFocus()}),[]),V().createElement("div",{className:"".concat(t.className," fileNameRoot")},V().createElement(Mh,(0,ot.c)({ref:n},t)))}));Ih.displayName="FileNameModalBody";var Mh=(0,H.forwardRef)((function(t,e){var n=(0,H.useMemo)((function(){return function(t){var e=t.isVoid,n=t.isInline;return t.isInline=function(t){return"label"===t.type||n(t)},t.isVoid=function(t){return"label"===t.type||e(t)},t}(Ns(ju(Fu())))}),[]),r=t.fileName,i=t.errorTipShow,o=t.className,a=t.setErrorTipShow,u=(0,H.useState)(!1),c=(0,M.c)(u,2),l=c[0],s=c[1],f=(0,H.useState)(""),d=(0,M.c)(f,2),h=d[0],p=d[1],v=(0,H.useState)(0),g=(0,M.c)(v,2),m=g[0],y=g[1],b=(0,H.useRef)(null),C=(0,H.useState)((function(){if(null!=r&&r.length){var t=[],e={type:"paragraph",children:[{text:""}]};return W()(r).call(r,(function(n,i){var o=i===r.length-1;o&&t.push(Dh({},e)),"string"==typeof n?e.children.push({text:n}):e.children.push({text:""},Dh(Dh({},n),{},{type:"label",children:[{text:""}]}),{text:""}),e=o?{type:"paragraph",children:[]}:e})),t}return[{type:"paragraph",children:[{text:""}]}]})),x=(0,M.c)(C,2),w=x[0],E=x[1],S=(0,H.useMemo)((function(){var e;return F()(e=t.selectList).call(e,(function(t){var e=t.name,n=t.key;return-1!==xn()(e).call(e,h)||-1!==xn()(n).call(n,h)}))}),[t.selectList,h]);(0,H.useEffect)((function(){return document.addEventListener("mousedown",A),function(){document.removeEventListener("mousedown",A)}}),[l]),(0,H.useImperativeHandle)(e,(function(){return{getFormulaData:D,onAutoFocus:B,getDataLen:k}}));var k=function(t){var e=((null==t?void 0:t[0])||(null==w?void 0:w[0])).children,n=0;return W()(e).call(e,(function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.type,i=e.text;n+="label"===r?null==e||null===(t=e.name)||void 0===t?void 0:t.length:null==i?void 0:i.length})),n},D=function(){var t,e=(w[0]||{}).children;return F()(t=R()(e).call(e,(function(t){var e=t.type,n=t.text;return"label"===e?t:n}))).call(t,(function(t){return""!==t}))},A=function(t){if(l){var e=t.target,n=document.getElementById("kdPrintDesignerFileNameList"),r=document.getElementById("kdPrintDesignerFileNameBtn");n.contains(e)||r.contains(e)||s(!1)}},I=function(t){var e=t.target.value;p(e)},T=function(t){var e=t.name,r=t.key,i=t.type;if(b.current){Uo.select(n,b.current);var o={type:"label",name:e,key:r,textFormat:i,children:[{text:""}],id:Zs()};Uo.insertNodes(n,o),Uo.move(n),xl.focus(n)}},B=function(){var t,e,r=null===(t=n.children[0])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length,i=null===(e=n.children[0])||void 0===e||null===(e=e.children[r-1])||void 0===e||null===(e=e.text)||void 0===e?void 0:e.length,o={anchor:{path:[0,r-1],offset:i},focus:{path:[0,r-1],offset:i}};Uo.select(n,o),xl.focus(n)},L=(0,H.useMemo)((function(){return V().createElement(Q.Dropdown.Menu,{id:"kdPrintDesignerFileNameList"},V().createElement("div",{className:"searchInput"},V().createElement(Q.Input,{style:{marginBottom:8,marginRight:8,paddingRight:28},placeholder:(0,Z.getLangMsg)("printd.grid.key0115"),borderType:"bordered",onChange:I}),V().createElement("div",{className:"image"},V().createElement("img",{src:"data:image/png;base64,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"}))),R()(S).call(S,(function(t,e){var n=t.fileViewName,r=t.key;return V().createElement(Q.Dropdown.Item,{className:"".concat(0===e?"firstItem":""),key:r}," ",n)})),!S.length&&V().createElement("div",{className:"noData"},(0,Z.getLangMsg)(" printd.grid.key0116")))}),[S]),_=(0,H.useCallback)((function(t){return"label"===t.element.type?V().createElement(Bh,t):V().createElement(Th,t)}),[]);return V().createElement(V().Fragment,null,i&&V().createElement(Q.Alert,{className:"".concat(o,"-alert"),message:(0,Z.getLangMsg)("existSpecialStr"!==i?"printd.grid.key0117":"printd.grid.key0122"),type:"error",delayOffTime:0,closable:!0,showIcon:!0,onClose:function(){return a(!1)}}),V().createElement("span",{className:"fileName"},(0,Z.getLangMsg)("printd.grid.key0118")),V().createElement("div",{className:"editor"},V().createElement(Bs,{value:w,editor:n,onChange:function(t){var e=k(t);y(e),E(t)}},V().createElement(Cs,{placeholder:(0,Z.getLangMsg)("printd.grid.key0119"),id:"slate-editor",renderElement:_,onKeyDown:function(t){"("===t.key&&(t.preventDefault(),n.insertText("()"),Uo.move(n,{distance:1,unit:"offset",reverse:!0}))},autoFocus:!0,onBlur:function(t){t.persist();var e=t.relatedTarget;if("INPUT"!==(null==e?void 0:e.tagName)){var r=n.selection,i={};for(var o in r){var a=r[o],u=a.path,c=a.offset;i[o]={path:En()(u).call(u,0,2),offset:c}}b.current=i,Uo.select(n,i),xl.focus(n)}}}))),V().createElement("div",{className:"count"},V().createElement("div",{class:"kd-input-textarea-mark"},"".concat(m,"/100"))),V().createElement(Q.Button,{icon:V().createElement(Q.Icon,{type:"add"}),onClick:function(){s(!l)},className:"button-basic-left",style:{marginTop:8,width:85},id:"kdPrintDesignerFileNameBtn"},(0,Z.getLangMsg)("printd.grid.key0120")),V().createElement("div",{className:"helpText"},(0,Z.getLangMsg)("printd.grid.key0123")," "),V().createElement(Q.Dropdown,{menu:L,visible:l,onItemClick:function(t){T(Jn()(S).call(S,(function(e){return t===e.key})))}}))}));function Th(t){return V().createElement("p",t.attributes,t.children)}function Bh(t){var e=ns(),n=Is(),r=t.element.textFormat,i="Date"===r?"#FFF1D4":"Number"===r||"Amount"===r?"#DCFAE4":"#E0EFFF";return V().createElement("span",(0,ot.c)({},t.attributes,{contentEditable:!1,style:{padding:"1px 8px",margin:"0 3px",verticalAlign:"baseline",display:"inline-block",borderRadius:"2px",backgroundColor:i,fontSize:"12px",cursor:"pointer",boxShadow:e&&n?"0 0 0 2px #B4D5FF":"none",lineHeight:"18px"}}),t.element.name,t.children)}Mh.displayName="FileNameExpressionView";var Fh=function(t){var e=(0,H.useRef)(null),n=t.handleChange,r=t.value,i=t.Id,o=t.className,a=t.locked,u=t.Editor,c=t.Name,l=t.Tips,s=t.dataContext,f=t.field,d=t.Id,h=u.NameHidden,p=u.DataScope,v=void 0===p?[]:p,g=u.Tips,m=u.MaxLength,y=u.Min,b=u.Max,C=(0,H.useContext)(Z.GlobalConfigContext).showMessage,x=(0,H.useState)(r),w=(0,M.c)(x,2),E=w[0],S=w[1],k=(0,H.useState)(""),D=(0,M.c)(k,2),A=(D[0],D[1]),I="String"===u.DataType?"string":"number",T={style:{},placeholder:(0,Z.getLangMsg)("printd.grid.key0002"),borderType:"bordered",suffix:t.Unit};(0,H.useEffect)((function(){S(r)}),[r]);var B=function(t){var e="string"===I?t.target.value:""===t.target.value?"":+t.target.value;if(r!==e)if(""!==e||"number"!==I){var i,o=(0,M.c)(v,1)[0];if(!Y().isEmpty(v)&&!Y().isUndefined(o)&&e<o?(C(g.DataScope),e=o):!Y().isUndefined(y)&&e<y&&(C(g.Min),e=y),"X"===d||"Y"===d||"Height"===d||"Width"===d){var a=f.parentId,u=s.findControl(a)||{};if("TableTail"===u.type){var c=u.width,l=u.height,h=f.width,p=f.height;"X"===d&&e+h>c&&S(e=c-h),"Y"===d&&e+p>l&&S(e=l-p),"Height"===d&&e>l&&S(e=l),"Width"===d&&e>c&&S(e=c)}}i=e,n("number"!==I||i?i:0)}else S(r)},F={};if("number"===I){if(v.length){var L=(0,M.c)(v,2),R=L[0],_=L[1];F.min=R,F.max=_}Y().isUndefined(y)||(F.min=y),Y().isUndefined(b)||(F.max=b),f.type===$e&&("H"===f.direction&&"Height"===i&&(F.max=3),"V"===f.direction&&"Width"===i&&(F.max=3))}var N=(0,H.useContext)(Z.GlobalConfigContext).invokePrintDesignerCustomEvent,P=(0,H.useCallback)((function(t){N("clickTipsLink",t)}),[N]);return V().createElement(V().Fragment,null,V().createElement(Z.NameTipWrapper,{nameHidden:h,className:o,name:c,tips:l,onLinkClick:P}),V().createElement(Q.Input,(0,ot.c)({},T,{type:I,ref:e,value:E,onKeyPress:function(t){if("string"!==I){var e=["-","+","e","E"];-1!==xn()(e).call(e,t.key)&&t.preventDefault()}},onChange:function(t){var e=t.target.value;if(""===e)return S(e);var n="string"===I?e:+e;if(m&&n.length>m&&(C(g.MaxLength),n=En()(n).call(n,0,m)),E!==n){if("string"===I)return S(n);var r=v[1];!Y().isUndefined(r)&&n>r?(C(g.DataScope),S(r)):!Y().isUndefined(b)&&n>b?(C(g.Max),S(b)):n>F.max&&f.type===$e?(C((0,Z.getLangMsg)("printd.grid.key0130")),S(F.max)):S(n)}},onFocus:function(t){return function(t){"number"===I&&e.current.select(),A("string"===I?t.target.value:""===t.target.value?"":+t.target.value)}(t)},onPressEnter:function(){},onBlur:B,onClick:function(t){var n;null===(n=e.current)||void 0===n||n.focus(),B(t)},disabled:a},F)))},Lh=function(t){var e,n,r,i=t.handleChange,o=t.value,a=t.className,u=t.editor,c=t.locked,l=(t.field,u.Enum),s=u.Default,f=u.NameHidden,d=(0,H.useState)(!1),h=(0,M.c)(d,2),p=h[0],v=h[1],g=s||l&&(null!==(e=null===(n=l[0])||void 0===n?void 0:n.Value)&&void 0!==e?e:null===(r=l[0])||void 0===r?void 0:r.Id);if(null==g)return"selectValue: ".concat(g);var m=R()(l).call(l,(function(t){var e;return{value:null!==(e=t.Value)&&void 0!==e?e:t.Id,label:t.Name,disabled:!1===t.Visible}})),y=t.Name,b=t.Tips;(0,H.useRef)(null);(0,H.useEffect)((function(){var t=function(t){for(var e=t.target;e&&e!==document;){if(e.classList.contains("kds-scroll-select-panel"))return;e=e.parentNode}v(!1)};return document.addEventListener("scroll",t,!0),function(){document.removeEventListener("scroll",t,!0)}}),[]);var C=(0,H.useContext)(Z.GlobalConfigContext).invokePrintDesignerCustomEvent,x=(0,H.useCallback)((function(t){C("clickTipsLink",t)}),[C]);return V().createElement(V().Fragment,null,V().createElement(Z.NameTipWrapper,{nameHidden:f,className:a,name:y,tips:b,onLinkClick:x}),V().createElement(Q.Select,{disabled:c,placeholder:(0,Z.getLangMsg)("printd.grid.key0002"),borderType:"bordered",value:Y().isUndefined(o)?g:o,onChange:function(t){v(!1),i(t)},options:m,visible:p,onVisibleChange:function(t){v(t)},popperClassName:"kds-scroll-select-panel"}))},Rh=Q.Radio.Group,_h=function(t){var e=t.handleChange,n=t.value,r=t.className,i=t.editor,o=t.locked,a=t.Id,u=t.field,c=i.Enum,l=i.NameHidden,s=i.DataType,f=i.Required,d=t.Name,h=t.Tips,p=(0,H.useContext)(gn).definition;if("MergePrint"===a){var v,g,m,y=u.dataSource;if(kn()(v=y.split(".")).call(v,"workflow"))return null;var b=xr(p,y),C=null==b||null===(g=b[0])||void 0===g?void 0:g.DsType;if(kn()(m=["Ref","Custom"]).call(m,C))return null}var x=(0,H.useContext)(Z.GlobalConfigContext).invokePrintDesignerCustomEvent,w=(0,H.useCallback)((function(t){x("clickTipsLink",t)}),[x]);if("object"===(0,Un.c)(c[0])){var E=R()(c).call(c,(function(t){return{label:t.Name,value:t.Value}}));return V().createElement(V().Fragment,null,V().createElement(Z.NameTipWrapper,{nameHidden:l,className:r,name:d,tips:h,required:f,onLinkClick:w}),V().createElement(Rh,{disabled:o,value:null==n?void 0:n.toString(),onChange:function(t){"Boolean"===s?"false"===t.target.value?e(!1):e(!0):e(t.target.value)},options:E}))}return V().createElement(Z.CheckboxPropertyEditor,(0,ot.c)({},t,{onLinkClick:w}))},Nh=function(t){var e=t.id,n=t.field,r=t.className,i=t.Name,o=t.Tips,a=t.Editor,u=void 0===a?{}:a,c=(0,H.useContext)(gn).definition,l=["Entry","ReportEntry","Attach","Custom","Ref","Subentry","Workflow","Head","Report","Approveline","Sys"],s=(0,H.useMemo)((function(){var t,e=Jn()(c).call(c,(function(t){return"Main"===t.DsType})),n=e?R()(t=Ph([e],l)).call(t,(function(t){var e,n=t.bindField,r=t.Name,i=t.ViewName;return{name:i||r,key:n,fileViewName:P()(e="".concat(i||r,"(")).call(e,n,")")}})):[];return n.push({name:"打印人",key:"$sys.printer",fileViewName:"打印人(sys.printer)"}),n.push({name:"打印时间",key:"$sys.printTime",fileViewName:"打印时间(sys.printTime)"}),n}),[c]),f=n.fileName,d=u.NameHidden,h=(0,H.useState)(!1),p=(0,M.c)(h,2),v=p[0],g=p[1],m=(0,H.useMemo)((function(){if(null!=f&&f.length)return j()(f).call(f,(function(t,e){return"string"==typeof e?t.push(e):e.name&&t.push("{".concat(e.name,"}")),t}),[]).join("")}),[f,null==f?void 0:f.length]);return V().createElement(V().Fragment,null,V().createElement(Z.NameTipWrapper,{nameHidden:d,className:r,name:i,tips:o}),V().createElement("div",{className:"".concat(r,"-query"),onClick:function(){g(!v)}},V().createElement("div",{className:Qn()(["".concat(r,"-query-text"),(0,T.c)({},"".concat(r,"-query-text-empty"),!m)])},m||(0,Z.getLangMsg)("printd.grid.key0002")),V().createElement("div",{className:"".concat(r,"-query-btn")},V().createElement(Q.Icon,{type:"more",style:{cursor:"pointer"}}))),V().createElement(Ah,{visible:v,selectList:s,onCancel:function(){g(!1)},onConfirm:function(){g(!1)},fileName:f,id:e}))};function Ph(t,e){return j()(t).call(t,(function(t,n){if(!n)return[];var r=n.Items,i=n.DsType,o=n.Type,a=n.Icon;return r||kn()(e).call(e,i)||"Image"===o||"fujian"===a||t.push(n),r&&!kn()(e).call(e,i)&&"Image"!==o&&"fujian"!==a&&t.push.apply(t,(0,bn.c)(Ph(r,e))),t}),[])}var Oh=function(){var t=[],e=[[i,"Text"],[a,"CardGrid"],[i,"LayoutCell"],[i,"CardCell"],[f,"RichText"],[o,"DataCell"],[a,"DataGrid"],[h,"SubDataGrid"],[d,"SubDataCell"],[u,"QRCode"],[c,"Barcode"],[l,"Image"],[s,"Paper"],[p,"DataRow"],[v]];return W()(e).call(e,(function(e){var n,r=(0,M.c)(e,2),i=r[0],o=r[1];W()(n=m()(i)).call(n,(function(e){t.push([e,i[e],o])}))})),t};function jh(t,e){var n=t.dataContext,r=t.selectionContext;if("right"===e){var i,o=n.getRootId();return Y().last(P()(i=[o]).call(i,(0,bn.c)(r.getSelection())))===o?"PrintSetting":"PropertyView"}}var Gh=["Id","Count","CellType","Name"],zh=["Id","Count","CellType","Name"];function Uh(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wh(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Uh(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Uh(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Qh=function(){return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0026")),V().createElement("g",{id:"文本备份",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("path",{d:"M5.5,24 L22.5,24 L22.5,22.5 L23.999,22.5 L24,5.5 L22.5,5.5 L22.5,4 L5.5,4 L5.5,5.5 L4,5.5 L3.999,22.5 L5.5,22.5 L5.5,24 Z M4.5,23.5 L2.5,23.5 L2.5,25.5 L4.5,25.5 L4.5,23.5 Z M25.5,23.5 L23.5,23.5 L23.5,25.5 L25.5,25.5 L25.5,23.5 Z M4.5,2.5 L2.5,2.5 L2.5,4.5 L4.5,4.5 L4.5,2.5 Z M25.5,2.5 L23.5,2.5 L23.5,4.5 L25.5,4.5 L25.5,2.5 Z M5.5,26.5 L1.5,26.5 L1.5,22.5 L2.999,22.5 L3,5.5 L1.5,5.5 L1.5,1.5 L5.5,1.5 L5.5,3 L22.5,3 L22.5,1.5 L26.5,1.5 L26.5,5.5 L25,5.5 L24.999,22.5 L26.5,22.5 L26.5,26.5 L22.5,26.5 L22.5,25 L5.5,25 L5.5,26.5 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}),V().createElement("path",{d:"M20.5234375,19.924 C20.7995799,19.924 21.0234375,20.1478576 21.0234375,20.424 C21.0234375,20.6694599 20.8465623,20.8736084 20.6133131,20.9159443 L20.5234375,20.924 L7.55200195,20.924 C7.27585958,20.924 7.05200195,20.7001424 7.05200195,20.424 C7.05200195,20.1785401 7.22887711,19.9743916 7.46212632,19.9320557 L7.55200195,19.924 L20.5234375,19.924 Z M20.5,17.424 C20.7761424,17.424 21,17.6478576 21,17.924 C21,18.1694599 20.8231248,18.3736084 20.5898756,18.4159443 L20.5,18.424 L15.5,18.424 C15.2238576,18.424 15,18.2001424 15,17.924 C15,17.6785401 15.1768752,17.4743916 15.4101244,17.4320557 L15.5,17.424 L20.5,17.424 Z M20.5,14.424 C20.7761424,14.424 21,14.6478576 21,14.924 C21,15.1694599 20.8231248,15.3736084 20.5898756,15.4159443 L20.5,15.424 L15.5,15.424 C15.2238576,15.424 15,15.2001424 15,14.924 C15,14.6785401 15.1768752,14.4743916 15.4101244,14.4320557 L15.5,14.424 L20.5,14.424 Z",id:"形状结合",fill:"#979797","fill-rule":"nonzero"}),V().createElement("path",{d:"M12.6,17.6699621 L12.6,8.03204346 L12.6,8.03204346 L16.1159783,8.03204346 C16.4009692,8.03204346 16.632,7.80101266 16.632,7.51602173 C16.632,7.2310308 16.4009692,7 16.1159783,7 L7.78802173,7 C7.5030308,7 7.272,7.2310308 7.272,7.51602173 C7.272,7.80101266 7.5030308,8.03204346 7.78802173,8.03204346 L11.304,8.03204346 L11.304,8.03204346 L11.304,17.7739187 C11.304,18.1053028 11.57264,18.3739428 11.9040241,18.3739428 C11.9200353,18.3739428 11.9360401,18.3733019 11.952,18.3720217 C12.3179691,18.3426661 12.6,18.0371067 12.6,17.6699621 Z",id:"T",fill:"#404040","fill-rule":"nonzero"})))},Zh=function(t){switch(t){case"Text":return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0026")),V().createElement("g",{id:"文本备份",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("path",{d:"M5.5,24 L22.5,24 L22.5,22.5 L23.999,22.5 L24,5.5 L22.5,5.5 L22.5,4 L5.5,4 L5.5,5.5 L4,5.5 L3.999,22.5 L5.5,22.5 L5.5,24 Z M4.5,23.5 L2.5,23.5 L2.5,25.5 L4.5,25.5 L4.5,23.5 Z M25.5,23.5 L23.5,23.5 L23.5,25.5 L25.5,25.5 L25.5,23.5 Z M4.5,2.5 L2.5,2.5 L2.5,4.5 L4.5,4.5 L4.5,2.5 Z M25.5,2.5 L23.5,2.5 L23.5,4.5 L25.5,4.5 L25.5,2.5 Z M5.5,26.5 L1.5,26.5 L1.5,22.5 L2.999,22.5 L3,5.5 L1.5,5.5 L1.5,1.5 L5.5,1.5 L5.5,3 L22.5,3 L22.5,1.5 L26.5,1.5 L26.5,5.5 L25,5.5 L24.999,22.5 L26.5,22.5 L26.5,26.5 L22.5,26.5 L22.5,25 L5.5,25 L5.5,26.5 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}),V().createElement("path",{d:"M20.5234375,19.924 C20.7995799,19.924 21.0234375,20.1478576 21.0234375,20.424 C21.0234375,20.6694599 20.8465623,20.8736084 20.6133131,20.9159443 L20.5234375,20.924 L7.55200195,20.924 C7.27585958,20.924 7.05200195,20.7001424 7.05200195,20.424 C7.05200195,20.1785401 7.22887711,19.9743916 7.46212632,19.9320557 L7.55200195,19.924 L20.5234375,19.924 Z M20.5,17.424 C20.7761424,17.424 21,17.6478576 21,17.924 C21,18.1694599 20.8231248,18.3736084 20.5898756,18.4159443 L20.5,18.424 L15.5,18.424 C15.2238576,18.424 15,18.2001424 15,17.924 C15,17.6785401 15.1768752,17.4743916 15.4101244,17.4320557 L15.5,17.424 L20.5,17.424 Z M20.5,14.424 C20.7761424,14.424 21,14.6478576 21,14.924 C21,15.1694599 20.8231248,15.3736084 20.5898756,15.4159443 L20.5,15.424 L15.5,15.424 C15.2238576,15.424 15,15.2001424 15,14.924 C15,14.6785401 15.1768752,14.4743916 15.4101244,14.4320557 L15.5,14.424 L20.5,14.424 Z",id:"形状结合",fill:"#979797","fill-rule":"nonzero"}),V().createElement("path",{d:"M12.6,17.6699621 L12.6,8.03204346 L12.6,8.03204346 L16.1159783,8.03204346 C16.4009692,8.03204346 16.632,7.80101266 16.632,7.51602173 C16.632,7.2310308 16.4009692,7 16.1159783,7 L7.78802173,7 C7.5030308,7 7.272,7.2310308 7.272,7.51602173 C7.272,7.80101266 7.5030308,8.03204346 7.78802173,8.03204346 L11.304,8.03204346 L11.304,8.03204346 L11.304,17.7739187 C11.304,18.1053028 11.57264,18.3739428 11.9040241,18.3739428 C11.9200353,18.3739428 11.9360401,18.3733019 11.952,18.3720217 C12.3179691,18.3426661 12.6,18.0371067 12.6,17.6699621 Z",id:"T",fill:"#404040","fill-rule":"nonzero"})));case"RichText":return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("path",{d:"M821.428571 107.142857C860.877482 107.142857 892.857143 139.122518 892.857143 178.571429L892.857143 821.428571C892.857143 860.877482 860.877482 892.857143 821.428571 892.857143L178.571429 892.857143C139.122518 892.857143 107.142857 860.877482 107.142857 821.428571L107.142857 178.571429C107.142857 139.122518 139.122518 107.142857 178.571429 107.142857L821.428571 107.142857zM821.428571 142.857143L178.571429 142.857143C160.255863 142.857143 145.160459 156.644293 143.097419 174.406388L142.857143 178.571429L142.857143 821.428571C142.857143 839.744136 156.644293 854.839543 174.406388 856.902582L178.571429 857.142857L821.428571 857.142857C839.744136 857.142857 854.839543 843.355707 856.902582 825.593611L857.142857 821.428571L857.142857 178.571429C857.142857 160.255863 843.355707 145.160459 825.593611 143.097419L821.428571 142.857143zM742.093161 706.857143C751.955389 706.857143 759.950304 714.852057 759.950304 724.714286C759.950304 733.480711 753.633332 740.771729 745.303004 742.283725L742.093161 742.571429L267.857143 742.571429C257.994915 742.571429 250 734.576514 250 724.714286C250 715.947861 256.31697 708.656843 264.647299 707.144846L267.857143 706.857143L742.093161 706.857143zM742.093161 564C751.955389 564 759.950304 571.994914 759.950304 581.857143C759.950304 590.623568 753.633332 597.914586 745.303004 599.426582L742.093161 599.714286L563.521732 599.714286C553.659504 599.714286 545.664589 591.719371 545.664589 581.857143C545.664589 573.090718 551.981557 565.7997 560.311886 564.287704L563.521732 564L742.093161 564zM364.307446 267.857143C370.307446 267.857143 375.164589 269.214286 378.878875 271.928571C381.664589 273.964286 383.807446 276.522321 385.307446 279.602679L386.593161 282.857143L477.021732 545.571429C479.307446 552.428571 479.450304 558.214286 477.450304 562.928571C475.450304 567.642857 470.736018 570 463.307446 570C458.450304 570.285714 454.521732 568.928571 451.521732 565.928571C449.271732 563.678571 447.463696 560.90625 446.097625 557.611607L444.878875 554.142857L421.307446 488.571429L307.736017 488.571429L290.164589 537.857143C288.736017 541.857143 287.307446 545.714286 285.878874 549.428571C284.450303 553.142857 282.807446 556.571429 280.950303 559.714286C279.09316 562.857143 276.950303 565.357143 274.521731 567.214286C272.09316 569.071429 269.307446 570 266.164589 570C260.450303 570 256.021731 568.214286 252.878874 564.642857C250.184997 561.581632 249.800157 556.26385 251.724355 548.689504L252.878874 544.714286L342.878874 282.857143C344.307446 278.285714 346.807446 274.642857 350.378874 271.928571C353.950303 269.214286 358.593161 267.857143 364.307446 267.857143zM364.736018 311.571429L315.878874 458.571429L413.593161 458.571429L364.736018 311.571429zM742.093161 421.142857C751.955389 421.142857 759.950304 429.137771 759.950304 439C759.950304 447.766425 753.633332 455.057443 745.303004 456.569439L742.093161 456.857143L563.521732 456.857143C553.659504 456.857143 545.664589 448.862229 545.664589 439C545.664589 430.233575 551.981557 422.942557 560.311886 421.430561L563.521732 421.142857L742.093161 421.142857zM742.093161 278.285714C751.955389 278.285714 759.950304 286.28063 759.950304 296.142857C759.950304 304.909282 753.633332 312.200299 745.303004 313.712298L742.093161 314L563.521732 314C553.659504 314 545.664589 306.005085 545.664589 296.142857C545.664589 287.376433 551.981557 280.085415 560.311886 278.573417L563.521732 278.285714L742.093161 278.285714z"}));case"Image":return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0027")),V().createElement("g",{id:"图片",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("path",{d:"M19.0635867,11.8647461 C20.8536504,11.8647461 22.8005418,13.7442816 24.9042609,17.5033525 L25.2664347,18.1661764 C25.5089081,18.6203335 25.7534299,19.0990397 26,19.6022949 L26,23 C26,24.1045695 25.1045695,25 24,25 L4,25 C2.8954305,25 2,24.1045695 2,23 L2,17.8845201 C4.66666667,15.29484 6.66666667,14 8,14 C10,14 10.8910175,16.4140625 12.9127329,16.4140625 C13.6708761,16.4140625 14.2999834,15.7743149 14.9497399,14.9746304 L15.6119234,14.1394043 C16.5187958,13.0020752 17.5510805,11.8647461 19.0635867,11.8647461 Z M19.0635867,12.8647461 C18.2328992,12.8647461 17.5590201,13.3424069 16.5714275,14.5433547 L15.7888437,15.5273213 L15.5490143,15.8193286 C15.5112838,15.8641349 15.474257,15.9074927 15.4373086,15.9501251 C14.6063027,16.9089708 13.8692177,17.4140625 12.9127329,17.4140625 C11.8290264,17.4140625 11.1560903,17.0708566 10.03841,16.1646156 L9.78761095,15.9582593 C8.89476212,15.2155435 8.5141519,15 8,15 C7.33313035,15 6.2739504,15.5469592 4.88524327,16.6528567 L4.43582359,17.0206811 L3.96493565,17.4257486 C3.88468972,17.4963682 3.80356758,17.568543 3.72157839,17.6422748 L3.21931187,18.1033643 L3,18.309 L3,23 C3,23.5128358 3.38604019,23.9355072 3.88337887,23.9932723 L4,24 L24,24 C24.5128358,24 24.9355072,23.6139598 24.9932723,23.1166211 L25,23 L25,19.838 L24.9249973,19.6846648 C22.6893998,15.2138574 20.6966562,12.9807295 19.1821547,12.8691495 L19.0635867,12.8647461 Z",id:"矩形",fill:"#979797","fill-rule":"nonzero"}),V().createElement("path",{d:"M24,3 C25.1045695,3 26,3.8954305 26,5 L26,23 C26,24.1045695 25.1045695,25 24,25 L4,25 C2.8954305,25 2,24.1045695 2,23 L2,5 C2,3.8954305 2.8954305,3 4,3 L24,3 Z M24,4 L4,4 C3.48716416,4 3.06449284,4.38604019 3.00672773,4.88337887 L3,5 L3,23 C3,23.5128358 3.38604019,23.9355072 3.88337887,23.9932723 L4,24 L24,24 C24.5128358,24 24.9355072,23.6139598 24.9932723,23.1166211 L25,23 L25,5 C25,4.48716416 24.6139598,4.06449284 24.1166211,4.00672773 L24,4 Z",id:"矩形备份",fill:"#404040","fill-rule":"nonzero"}),V().createElement("path",{d:"M8,6.5 C6.61928813,6.5 5.5,7.61928813 5.5,9 C5.5,10.3807119 6.61928813,11.5 8,11.5 C9.38071187,11.5 10.5,10.3807119 10.5,9 C10.5,7.61928813 9.38071187,6.5 8,6.5 Z M8,7.5 C8.82842712,7.5 9.5,8.17157288 9.5,9 C9.5,9.82842712 8.82842712,10.5 8,10.5 C7.17157288,10.5 6.5,9.82842712 6.5,9 C6.5,8.17157288 7.17157288,7.5 8,7.5 Z",id:"椭圆形",fill:"#404040","fill-rule":"nonzero"})));case"Barcode":return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0028")),V().createElement("g",{id:"条形码",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("path",{d:"M2.45361328,18.5048828 C2.72975566,18.5048828 2.95361328,18.7287404 2.95361328,19.0048828 L2.95361328,19.0048828 L2.95361328,21.3505859 L2.96047986,21.4950459 C3.0331646,22.2556979 3.67391716,22.8505859 4.45361328,22.8505859 L4.45361328,22.8505859 L7,22.8505859 L7.08987563,22.8586416 C7.32312484,22.9009776 7.5,23.105126 7.5,23.3505859 C7.5,23.6267283 7.27614237,23.8505859 7,23.8505859 L7,23.8505859 L4.45361328,23.8505859 L4.28923759,23.8452683 C2.98514922,23.7606246 1.95361328,22.6760693 1.95361328,21.3505859 L1.95361328,21.3505859 L1.95361328,19.0048828 L1.96166895,18.9150072 C2.00400491,18.681758 2.20815339,18.5048828 2.45361328,18.5048828 Z M26,18.5048828 C26.2454599,18.5048828 26.4496084,18.681758 26.4919443,18.9150072 L26.5,19.0048828 L26.5,21.3505859 C26.5,22.6760693 25.4684641,23.7606246 24.1643757,23.8452683 L24,23.8505859 L21.4536133,23.8505859 C21.1774709,23.8505859 20.9536133,23.6267283 20.9536133,23.3505859 C20.9536133,23.105126 21.1304884,22.9009776 21.3637376,22.8586416 L21.4536133,22.8505859 L24,22.8505859 C24.7796961,22.8505859 25.4204487,22.2556979 25.4931334,21.4950459 L25.5,21.3505859 L25.5,19.0048828 C25.5,18.7287404 25.7238576,18.5048828 26,18.5048828 Z M7,4.50488281 C7.27614237,4.50488281 7.5,4.72874044 7.5,5.00488281 C7.5,5.2503427 7.32312484,5.45449118 7.08987563,5.49682714 L7,5.50488281 L4.45361328,5.50488281 C3.67391716,5.50488281 3.0331646,6.0997709 2.96047986,6.8604228 L2.95361328,7.00488281 L2.95361328,9.35058594 C2.95361328,9.62672831 2.72975566,9.85058594 2.45361328,9.85058594 C2.20815339,9.85058594 2.00400491,9.67371078 1.96166895,9.44046157 L1.95361328,9.35058594 L1.95361328,7.00488281 C1.95361328,5.67939941 2.98514922,4.59484414 4.28923759,4.51020049 L4.45361328,4.50488281 L7,4.50488281 Z M24,4.50488281 L24.1643757,4.51020049 C25.4684641,4.59484414 26.5,5.67939941 26.5,7.00488281 L26.5,7.00488281 L26.5,9.35058594 L26.4919443,9.44046157 C26.4496084,9.67371078 26.2454599,9.85058594 26,9.85058594 C25.7238576,9.85058594 25.5,9.62672831 25.5,9.35058594 L25.5,9.35058594 L25.5,7.00488281 L25.4931334,6.8604228 C25.4204487,6.0997709 24.7796961,5.50488281 24,5.50488281 L24,5.50488281 L21.4536133,5.50488281 L21.3637376,5.49682714 C21.1304884,5.45449118 20.9536133,5.2503427 20.9536133,5.00488281 C20.9536133,4.72874044 21.1774709,4.50488281 21.4536133,4.50488281 L21.4536133,4.50488281 L24,4.50488281 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}),V().createElement("path",{d:"M18,15 C18.2761424,15 18.5,15.2238576 18.5,15.5 L18.5,18.5 C18.5,18.7761424 18.2761424,19 18,19 C17.7238576,19 17.5,18.7761424 17.5,18.5 L17.5,15.5 C17.5,15.2238576 17.7238576,15 18,15 Z M6,13 C6.27614237,13 6.5,13.2238576 6.5,13.5 L6.5,18.5 C6.5,18.7761424 6.27614237,19 6,19 C5.72385763,19 5.5,18.7761424 5.5,18.5 L5.5,13.5 C5.5,13.2238576 5.72385763,13 6,13 Z M10,15 C10.2761424,15 10.5,15.2238576 10.5,15.5 L10.5,18.5 C10.5,18.7761424 10.2761424,19 10,19 C9.72385763,19 9.5,18.7761424 9.5,18.5 L9.5,15.5 C9.5,15.2238576 9.72385763,15 10,15 Z M22,17 C22.2761424,17 22.5,17.2238576 22.5,17.5 L22.5,18.5 C22.5,18.7761424 22.2761424,19 22,19 C21.7238576,19 21.5,18.7761424 21.5,18.5 L21.5,17.5 C21.5,17.2238576 21.7238576,17 22,17 Z M14,13 C14.2761424,13 14.5,13.2238576 14.5,13.5 L14.5,18.5 C14.5,18.7761424 14.2761424,19 14,19 C13.7238576,19 13.5,18.7761424 13.5,18.5 L13.5,13.5 C13.5,13.2238576 13.7238576,13 14,13 Z M22,9 C22.2761424,9 22.5,9.22385763 22.5,9.5 L22.5,15.5 C22.5,15.7761424 22.2761424,16 22,16 C21.7238576,16 21.5,15.7761424 21.5,15.5 L21.5,9.5 C21.5,9.22385763 21.7238576,9 22,9 Z M10,9 C10.2761424,9 10.5,9.22385763 10.5,9.5 L10.5,13.5 C10.5,13.7761424 10.2761424,14 10,14 C9.72385763,14 9.5,13.7761424 9.5,13.5 L9.5,9.5 C9.5,9.22385763 9.72385763,9 10,9 Z M18,9 C18.2761424,9 18.5,9.22385763 18.5,9.5 L18.5,13.5 C18.5,13.7761424 18.2761424,14 18,14 C17.7238576,14 17.5,13.7761424 17.5,13.5 L17.5,9.5 C17.5,9.22385763 17.7238576,9 18,9 Z M6,9 C6.27614237,9 6.5,9.22385763 6.5,9.5 L6.5,11.5 C6.5,11.7761424 6.27614237,12 6,12 C5.72385763,12 5.5,11.7761424 5.5,11.5 L5.5,9.5 C5.5,9.22385763 5.72385763,9 6,9 Z M14,9 C14.2761424,9 14.5,9.22385763 14.5,9.5 L14.5,11.5 C14.5,11.7761424 14.2761424,12 14,12 C13.7238576,12 13.5,11.7761424 13.5,11.5 L13.5,9.5 C13.5,9.22385763 13.7238576,9 14,9 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}),V().createElement("rect",{id:"矩形备份-21",x:"16.5",y:"18",width:"1",height:"1",rx:"0.5"})));case"QRCode":return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0029")),V().createElement("g",{id:"二维码",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("path",{d:"M11,3 C12.1045695,3 13,3.8954305 13,5 L13,11 C13,12.1045695 12.1045695,13 11,13 L5,13 C3.8954305,13 3,12.1045695 3,11 L3,5 C3,3.8954305 3.8954305,3 5,3 L11,3 Z M11,4 L5,4 C4.48716416,4 4.06449284,4.38604019 4.00672773,4.88337887 L4,5 L4,11 C4,11.5128358 4.38604019,11.9355072 4.88337887,11.9932723 L5,12 L11,12 C11.5128358,12 11.9355072,11.6139598 11.9932723,11.1166211 L12,11 L12,5 C12,4.48716416 11.6139598,4.06449284 11.1166211,4.00672773 L11,4 Z",id:"矩形",fill:"#404040","fill-rule":"nonzero"}),V().createElement("path",{d:"M11,15 C12.1045695,15 13,15.8954305 13,17 L13,23 C13,24.1045695 12.1045695,25 11,25 L5,25 C3.8954305,25 3,24.1045695 3,23 L3,17 C3,15.8954305 3.8954305,15 5,15 L11,15 Z M11,16 L5,16 C4.48716416,16 4.06449284,16.3860402 4.00672773,16.8833789 L4,17 L4,23 C4,23.5128358 4.38604019,23.9355072 4.88337887,23.9932723 L5,24 L11,24 C11.5128358,24 11.9355072,23.6139598 11.9932723,23.1166211 L12,23 L12,17 C12,16.4871642 11.6139598,16.0644928 11.1166211,16.0067277 L11,16 Z",id:"矩形备份-2",fill:"#404040","fill-rule":"nonzero"}),V().createElement("path",{d:"M23,3 C24.1045695,3 25,3.8954305 25,5 L25,11 C25,12.1045695 24.1045695,13 23,13 L17,13 C15.8954305,13 15,12.1045695 15,11 L15,5 C15,3.8954305 15.8954305,3 17,3 L23,3 Z M23,4 L17,4 C16.4871642,4 16.0644928,4.38604019 16.0067277,4.88337887 L16,5 L16,11 C16,11.5128358 16.3860402,11.9355072 16.8833789,11.9932723 L17,12 L23,12 C23.5128358,12 23.9355072,11.6139598 23.9932723,11.1166211 L24,11 L24,5 C24,4.48716416 23.6139598,4.06449284 23.1166211,4.00672773 L23,4 Z",id:"矩形备份",fill:"#404040","fill-rule":"nonzero"}),V().createElement("path",{d:"M9,5.5 L7,5.5 C6.17157288,5.5 5.5,6.17157288 5.5,7 L5.5,9 C5.5,9.82842712 6.17157288,10.5 7,10.5 L9,10.5 C9.82842712,10.5 10.5,9.82842712 10.5,9 L10.5,7 C10.5,6.17157288 9.82842712,5.5 9,5.5 Z M7,6.5 L9,6.5 C9.27614237,6.5 9.5,6.72385763 9.5,7 L9.5,9 C9.5,9.27614237 9.27614237,9.5 9,9.5 L7,9.5 C6.72385763,9.5 6.5,9.27614237 6.5,9 L6.5,7 C6.5,6.72385763 6.72385763,6.5 7,6.5 Z",id:"矩形",fill:"#979797","fill-rule":"nonzero"}),V().createElement("path",{d:"M21,5.5 L19,5.5 C18.1715729,5.5 17.5,6.17157288 17.5,7 L17.5,9 C17.5,9.82842712 18.1715729,10.5 19,10.5 L21,10.5 C21.8284271,10.5 22.5,9.82842712 22.5,9 L22.5,7 C22.5,6.17157288 21.8284271,5.5 21,5.5 Z M19,6.5 L21,6.5 C21.2761424,6.5 21.5,6.72385763 21.5,7 L21.5,9 C21.5,9.27614237 21.2761424,9.5 21,9.5 L19,9.5 C18.7238576,9.5 18.5,9.27614237 18.5,9 L18.5,7 C18.5,6.72385763 18.7238576,6.5 19,6.5 Z",id:"矩形备份-3",fill:"#979797","fill-rule":"nonzero"}),V().createElement("path",{d:"M9,17.5 L7,17.5 C6.17157288,17.5 5.5,18.1715729 5.5,19 L5.5,21 C5.5,21.8284271 6.17157288,22.5 7,22.5 L9,22.5 C9.82842712,22.5 10.5,21.8284271 10.5,21 L10.5,19 C10.5,18.1715729 9.82842712,17.5 9,17.5 Z M7,18.5 L9,18.5 C9.27614237,18.5 9.5,18.7238576 9.5,19 L9.5,21 C9.5,21.2761424 9.27614237,21.5 9,21.5 L7,21.5 C6.72385763,21.5 6.5,21.2761424 6.5,21 L6.5,19 C6.5,18.7238576 6.72385763,18.5 7,18.5 Z",id:"矩形备份-4",fill:"#979797","fill-rule":"nonzero"}),V().createElement("path",{d:"M15.5,18 C15.7761424,18 16,18.2238576 16,18.5 L16,24.5 C16,24.7761424 15.7761424,25 15.5,25 C15.2238576,25 15,24.7761424 15,24.5 L15,18.5 C15,18.2238576 15.2238576,18 15.5,18 Z M18.5,19 C18.7761424,19 19,19.2238576 19,19.5 L19,24.5 C19,24.7761424 18.7761424,25 18.5,25 C18.2238576,25 18,24.7761424 18,24.5 L18,19.5 C18,19.2238576 18.2238576,19 18.5,19 Z M21.5,21 C21.7761424,21 22,21.2238576 22,21.5 L22,24.5 C22,24.7761424 21.7761424,25 21.5,25 C21.2238576,25 21,24.7761424 21,24.5 L21,21.5 C21,21.2238576 21.2238576,21 21.5,21 Z M24.5,19 C24.7761424,19 25,19.2238576 25,19.5 L25,24.5 C25,24.7761424 24.7761424,25 24.5,25 C24.2238576,25 24,24.7761424 24,24.5 L24,19.5 C24,19.2238576 24.2238576,19 24.5,19 Z M21.5,15 C21.7761424,15 22,15.2238576 22,15.5 L22,19.5 C22,19.7761424 21.7761424,20 21.5,20 C21.2238576,20 21,19.7761424 21,19.5 L21,15.5 C21,15.2238576 21.2238576,15 21.5,15 Z M18.5,15 C18.7761424,15 19,15.2238576 19,15.5 L19,17.5 C19,17.7761424 18.7761424,18 18.5,18 C18.2238576,18 18,17.7761424 18,17.5 L18,15.5 C18,15.2238576 18.2238576,15 18.5,15 Z M24.5,15 C24.7761424,15 25,15.2238576 25,15.5 L25,17.5 C25,17.7761424 24.7761424,18 24.5,18 C24.2238576,18 24,17.7761424 24,17.5 L24,15.5 C24,15.2238576 24.2238576,15 24.5,15 Z M15.5,15 C15.7761424,15 16,15.2238576 16,15.5 L16,16.5 C16,16.7761424 15.7761424,17 15.5,17 C15.2238576,17 15,16.7761424 15,16.5 L15,15.5 C15,15.2238576 15.2238576,15 15.5,15 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"})));case"Footer":return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0030")),V().createElement("g",{id:"页脚",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("g",{id:"编组",transform:"translate(4.000000, 1.967985)","fill-rule":"nonzero"},V().createElement("path",{d:"M1,19.532015 L2.70000005,19.532015 L2.70000005,18.532015 L1,18.532015 L1,19.532015 Z M4.4000001,19.532015 L6.10000014,19.532015 L6.10000014,18.532015 L4.4000001,18.532015 L4.4000001,19.532015 Z M7.80000019,19.532015 L9.50000024,19.532015 L9.50000024,18.532015 L7.80000019,18.532015 L7.80000019,19.532015 Z M11.2000003,19.532015 L12.9000003,19.532015 L12.9000003,18.532015 L11.2000003,18.532015 L11.2000003,19.532015 Z M14.6000004,19.532015 L16.3000004,19.532015 L16.3000004,18.532015 L14.6000004,18.532015 L14.6000004,19.532015 Z M18.0000005,19.532015 L19.5361328,19.532015 L19.5361328,18.532015 L18.0000005,18.532015 L18.0000005,19.532015 Z",id:"路径-20备份-3",fill:"#404040"}),V().createElement("path",{d:"M12.947418,0 L19.9931943,8.10498047 L19.938,8.152 L20,8.15262042 L20,22.032015 C20,23.1365845 19.1045695,24.032015 18,24.032015 L2,24.032015 C0.8954305,24.032015 0,23.1365845 0,22.032015 L0,2.03201496 C0,0.927445456 0.8954305,0.0320149557 2,0.0320149557 L12.91,0.032 L12.947418,0 Z M11.958,1.03201496 L2,1.03201496 C1.48716416,1.03201496 1.06449284,1.41805515 1.00672773,1.91539383 L1,2.03201496 L1,22.032015 C1,22.5448508 1.38604019,22.9675221 1.88337887,23.0252872 L2,23.032015 L18,23.032015 C18.5128358,23.032015 18.9355072,22.6459748 18.9932723,22.1486361 L19,22.032015 L19,9.15201496 L14.9587268,9.15262042 C13.3610459,9.15262042 12.0550659,7.90370046 11.9638195,6.32889321 L11.9587268,6.15262042 L11.958,1.03201496 Z M18.709,8.152 L12.958,1.537 L12.9587268,6.15262042 C12.9587268,7.25718992 13.8541573,8.15262042 14.9587268,8.15262042 L18.709,8.152 Z",id:"形状结合",fill:"#404040"}),V().createElement("rect",{id:"矩形备份-24",fill:"#979797",transform:"translate(10.000000, 15.532015) scale(1, -1) rotate(-180.000000) translate(-10.000000, -15.532015) ",x:"5",y:"15.032015",width:"10",height:"1",rx:"0.5"}),V().createElement("rect",{id:"矩形备份-25",fill:"#979797",transform:"translate(10.000000, 11.532015) scale(1, -1) rotate(-180.000000) translate(-10.000000, -11.532015) ",x:"5",y:"11.032015",width:"10",height:"1",rx:"0.5"}))));case"DataGrid":return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0031")),V().createElement("g",{id:"数据表格",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("g",{id:"编组备份-5",transform:"translate(3.000000, 3.000000)"},V().createElement("path",{d:"M7.5,7.5 L7.5,12 L14.5,11.999 L14.5,7.5 L15.5,7.5 L15.5,11.999 L21,12 L21,13 L15.5,12.999 L15.5,16.999 L21,17 L21,18 L15.5,17.999 L15.5,21.5 L14.5,21.5 L14.5,17.999 L7.5,18 L7.5,21.5 L6.5,21.5 L6.5,18 L1,18 L1,17 L6.5,17 L6.5,13 L1,13 L1,12 L6.5,12 L6.5,7.5 L7.5,7.5 Z M14.5,12.999 L7.5,13 L7.5,17 L14.5,16.999 L14.5,12.999 Z",id:"形状结合",fill:"#979797"}),V().createElement("path",{d:"M20,0 C21.1045695,0 22,0.8954305 22,2 L22,20 C22,21.1045695 21.1045695,22 20,22 L2,22 C0.8954305,22 0,21.1045695 0,20 L0,2 C0,0.8954305 0.8954305,0 2,0 L20,0 Z M1,8 L1,20 C1,20.5128358 1.38604019,20.9355072 1.88337887,20.9932723 L2,21 L20,21 C20.5128358,21 20.9355072,20.6139598 20.9932723,20.1166211 L21,20 L21,8 L1,8 Z M1,7 L21,7 L21,2 C21,1.48716416 20.6139598,1.06449284 20.1166211,1.00672773 L20,1 L2,1 C1.48716416,1 1.06449284,1.38604019 1.00672773,1.88337887 L1,2 L1,7 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}))));case"SubDateGrid":return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0032")),V().createElement("g",{id:"子数据表格",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("g",{id:"编组",transform:"translate(3.000000, 3.000000)","fill-rule":"nonzero"},V().createElement("path",{d:"M20,0 C21.1045695,0 22,0.8954305 22,2 L22,20 C22,21.1045695 21.1045695,22 20,22 L2,22 C0.8954305,22 0,21.1045695 0,20 L0,2 C0,0.8954305 0.8954305,0 2,0 L20,0 Z M20,1 L2,1 C1.48716416,1 1.06449284,1.38604019 1.00672773,1.88337887 L1,2 L1,20 C1,20.5128358 1.38604019,20.9355072 1.88337887,20.9932723 L2,21 L20,21 C20.5128358,21 20.9355072,20.6139598 20.9932723,20.1166211 L21,20 L21,2 C21,1.48716416 20.6139598,1.06449284 20.1166211,1.00672773 L20,1 Z",id:"矩形备份",fill:"#404040"}),V().createElement("path",{d:"M18,4.5 L4,4.5 C3.17157288,4.5 2.5,5.17157288 2.5,6 L2.5,8 C2.5,8.82842712 3.17157288,9.5 4,9.5 L18,9.5 C18.8284271,9.5 19.5,8.82842712 19.5,8 L19.5,6 C19.5,5.17157288 18.8284271,4.5 18,4.5 Z M4,5.5 L18,5.5 C18.2761424,5.5 18.5,5.72385763 18.5,6 L18.5,8 C18.5,8.27614237 18.2761424,8.5 18,8.5 L4,8.5 C3.72385763,8.5 3.5,8.27614237 3.5,8 L3.5,6 C3.5,5.72385763 3.72385763,5.5 4,5.5 Z",id:"矩形",fill:"#979797"}),V().createElement("path",{d:"M7,12.5 C7.82842712,12.5 8.5,13.1715729 8.5,14 L8.5,14 L8.5,17 C8.5,17.8284271 7.82842712,18.5 7,18.5 L7,18.5 L4,18.5 C3.17157288,18.5 2.5,17.8284271 2.5,17 L2.5,17 L2.5,14 C2.5,13.1715729 3.17157288,12.5 4,12.5 L4,12.5 Z M18.5,17 C18.7761424,17 19,17.2238576 19,17.5 C19,17.7761424 18.7761424,18 18.5,18 L18.5,18 L11.5,18 C11.2238576,18 11,17.7761424 11,17.5 C11,17.2238576 11.2238576,17 11.5,17 L11.5,17 Z M7,13.5 L4,13.5 C3.72385763,13.5 3.5,13.7238576 3.5,14 L3.5,14 L3.5,17 C3.5,17.2761424 3.72385763,17.5 4,17.5 L4,17.5 L7,17.5 C7.27614237,17.5 7.5,17.2761424 7.5,17 L7.5,17 L7.5,14 C7.5,13.7238576 7.27614237,13.5 7,13.5 L7,13.5 Z M18.5,13 C18.7761424,13 19,13.2238576 19,13.5 C19,13.7761424 18.7761424,14 18.5,14 L18.5,14 L11.5,14 C11.2238576,14 11,13.7761424 11,13.5 C11,13.2238576 11.2238576,13 11.5,13 L11.5,13 Z",id:"形状结合",fill:"#404040"}))));case"Header":return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0033")),V().createElement("g",{id:"页眉",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("path",{d:"M16.947418,1.96798504 L23.9931943,10.0729655 L23.938,10.119985 L24,10.1206055 L24,24 C24,25.1045695 23.1045695,26 22,26 L6,26 C4.8954305,26 4,25.1045695 4,24 L4,4 C4,2.8954305 4.8954305,2 6,2 L16.91,1.99998504 L16.947418,1.96798504 Z M15.958,3 L6,3 C5.48716416,3 5.06449284,3.38604019 5.00672773,3.88337887 L5,4 L5,24 C5,24.5128358 5.38604019,24.9355072 5.88337887,24.9932723 L6,25 L22,25 C22.5128358,25 22.9355072,24.6139598 22.9932723,24.1166211 L23,24 L23,11.12 L18.9587268,11.1206055 C17.3610459,11.1206055 16.0550659,9.8716855 15.9638195,8.29687826 L15.9587268,8.12060547 L15.958,3 Z M22.709,10.119985 L16.958,3.50498504 L16.9587268,8.12060547 C16.9587268,9.22517497 17.8541573,10.1206055 18.9587268,10.1206055 L22.709,10.119985 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}),V().createElement("rect",{id:"矩形备份-9",fill:"#979797",transform:"translate(14.000000, 17.500000) scale(1, -1) rotate(-180.000000) translate(-14.000000, -17.500000) ",x:"9",y:"17",width:"10",height:"1",rx:"0.5"}),V().createElement("rect",{id:"矩形备份-10",fill:"#979797",transform:"translate(14.000000, 13.500000) scale(1, -1) rotate(-180.000000) translate(-14.000000, -13.500000) ",x:"9",y:"13",width:"10",height:"1",rx:"0.5"}),V().createElement("path",{d:"M5,7.5 L6.5,7.5 L6.5,6.5 L5,6.5 L5,7.5 Z M8,7.5 L9.5,7.5 L9.5,6.5 L8,6.5 L8,7.5 Z M11,7.5 L12.5,7.5 L12.5,6.5 L11,6.5 L11,7.5 Z M14,7.5 L15.5,7.5 L15.5,6.5 L14,6.5 L14,7.5 Z",id:"路径-20",fill:"#404040","fill-rule":"nonzero"})));case"LayoutGrid":return V().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0034")),V().createElement("g",{id:"网格",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("rect",{id:"矩形",stroke:"#404040",x:"3.5",y:"3.5",width:"21",height:"21",rx:"2"}),V().createElement("path",{d:"M11,4 L11,10 L24,10 L24,11 L11,11 L11,24 L10,24 L10,11 L4,11 L4,10 L10,10 L10,4 L11,4 Z",id:"形状结合",fill:"#404040"}),V().createElement("path",{d:"M11,4 L11,10 L24,10 L24,11 L11,11 L11,24 L10,24 L10,11 L4,11 L4,10 L10,10 L10,4 L11,4 Z",id:"形状结合",fill:"#979797",transform:"translate(14.000000, 14.000000) scale(-1, -1) translate(-14.000000, -14.000000) "})));case"CardGrid":return V().createElement("svg",{className:"icon",width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0112")),V().createElement("g",{id:"布局",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("g",{transform:"translate(4.000000, 4.000000)",fill:"#404040","fill-rule":"nonzero",id:"形状结合"},V().createElement("path",{d:"M19,14 L13,14 C11.8954305,14 11,14.8954305 11,16 L11,19 C11,20.1045695 11.8954305,21 13,21 L19,21 C20.1045695,21 21,20.1045695 21,19 L21,16 C21,14.8954305 20.1045695,14 19,14 Z M19,15 C19.5522847,15 20,15.4477153 20,16 L20,19 C20,19.5522847 19.5522847,20 19,20 L13,20 C12.4477153,20 12,19.5522847 12,19 L12,16 C12,15.4477153 12.4477153,15 13,15 L19,15 Z M7,-1 L1,-1 C-0.1045695,-1 -1,-0.1045695 -1,1 L-1,7 C-1,8.1045695 -0.1045695,9 1,9 L7,9 C8.1045695,9 9,8.1045695 9,7 L9,1 C9,-0.1045695 8.1045695,-1 7,-1 Z M7,0 C7.55228475,0 8,0.44771525 8,1 L8,7 C8,7.55228475 7.55228475,8 7,8 L1,8 C0.44771525,8 0,7.55228475 0,7 L0,1 C0,0.44771525 0.44771525,0 1,0 L7,0 Z M19,-1 L13,-1 C11.8954305,-1 11,-0.1045695 11,1 L11,10 C11,11.1045695 11.8954305,12 13,12 L19,12 C20.1045695,12 21,11.1045695 21,10 L21,1 C21,-0.1045695 20.1045695,-1 19,-1 Z M19,0 C19.5522847,0 20,0.44771525 20,1 L20,10 C20,10.5522847 19.5522847,11 19,11 L13,11 C12.4477153,11 12,10.5522847 12,10 L12,1 C12,0.44771525 12.4477153,0 13,0 L19,0 Z M7,11 L1,11 C-0.1045695,11 -1,11.8954305 -1,13 L-1,19 C-1,20.1045695 -0.1045695,21 1,21 L7,21 C8.1045695,21 9,20.1045695 9,19 L9,13 C9,11.8954305 8.1045695,11 7,11 Z M7,12 C7.55228475,12 8,12.4477153 8,13 L8,19 C8,19.5522847 7.55228475,20 7,20 L1,20 C0.44771525,20 0,19.5522847 0,19 L0,13 C0,12.4477153 0.44771525,12 1,12 L7,12 Z"}))));case"Line":return V().createElement("svg",{className:"icon",width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},V().createElement("title",null,"直线"),V().createElement("g",{id:"直线",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("path",{d:"M6.5,15.5046212 C5.67157288,15.5046212 5,14.8330483 5,14.0046212 C5,13.1761941 5.67157288,12.5046212 6.5,12.5046212 C7.15321869,12.5046212 7.70891488,12.9221647 7.91475048,13.5049137 L20.0852495,13.5049137 C20.2910851,12.9221647 20.8467813,12.5046212 21.5,12.5046212 C22.3284271,12.5046212 23,13.1761941 23,14.0046212 C23,14.8330483 22.3284271,15.5046212 21.5,15.5046212 C20.8471533,15.5046212 20.2917181,15.0875531 20.0856015,14.5053242 L7.91439849,14.5053242 C7.70828193,15.0875531 7.1528467,15.5046212 6.5,15.5046212 Z M21.5,13.5046212 C21.2238576,13.5046212 21,13.7284788 21,14.0046212 C21,14.2807636 21.2238576,14.5046212 21.5,14.5046212 C21.7761424,14.5046212 22,14.2807636 22,14.0046212 C22,13.7284788 21.7761424,13.5046212 21.5,13.5046212 Z M6.5,13.5046212 C6.22385763,13.5046212 6,13.7284788 6,14.0046212 C6,14.2807636 6.22385763,14.5046212 6.5,14.5046212 C6.77614237,14.5046212 7,14.2807636 7,14.0046212 C7,13.7284788 6.77614237,13.5046212 6.5,13.5046212 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero",transform:"translate(14, 14.0046) rotate(-45) translate(-14, -14.0046)"}),V().createElement("path",{d:"M23,3 C24.1045695,3 25,3.8954305 25,5 L25,23 C25,24.1045695 24.1045695,25 23,25 L5,25 C3.8954305,25 3,24.1045695 3,23 L3,5 C3,3.8954305 3.8954305,3 5,3 L23,3 Z M23,4 L5,4 C4.48716416,4 4.06449284,4.38604019 4.00672773,4.88337887 L4,5 L4,23 C4,23.5128358 4.38604019,23.9355072 4.88337887,23.9932723 L5,24 L23,24 C23.5128358,24 23.9355072,23.6139598 23.9932723,23.1166211 L24,23 L24,5 C24,4.48716416 23.6139598,4.06449284 23.1166211,4.00672773 L23,4 Z",id:"矩形备份",fill:"#404040","fill-rule":"nonzero"})));default:return V().createElement(Qh,null)}},Jh=function(t,e,n){Gn()(t)?W()(t).call(t,(function(t){t[e]=n})):t[e]=n};function Hh(t,e){return function(n){var r=n.type,i=n.parentId,o=n.transferData,a=n.cellData,u=void 0===a?[]:a,c=n.parentItem,l=t({type:r,parentId:i,transferData:o,parentItem:c}),s=e({type:r});if("DataGrid"===s.Id||s.Id===de){var f=s.Default,d=0,h=[],p=[],v=[];l.items=_.flatten(R()(f).call(f,(function(e){var n,r,i,a=e.Id,c=e.Count,s=e.CellType,f=e.Name,g=(0,zn.c)(e,Gh),y={};o&&o.width&&(y={columnWidth:Vf(o.width/u.length,1)});var b=_.isEmpty(g)?g:j()(n=m()(g)).call(n,(function(t,e){return t[_.camelCase(e)]=g[e],t}),{}),C=R()(r=jf()(i=new Array("DataRow"!==a?u.length:c)).call(i,0)).call(r,(function(e,n){var r=u[n]||{},i=r.viewText,o=void 0===i?"":i,c={Detail:r,Normal:{bindText:o?o.replace(/=\$(.+)$/g,"$1"):""}};return t({type:a,parentId:l.id,transferData:"DataCell"===a?Wh(Wh(Wh(Wh({rowId:h[d].id,columnId:p[n].id,width:p[n].columnWidth,height:h[d].rowHeight,cellType:s},b),f?{name:f}:{}),c[s]||{}),y):Wh(Wh(Wh({},b),f?{name:f}:{}),"DataColumn"===a?y:{})})}));return"DataRow"===a?h.push.apply(h,(0,bn.c)(C)):"DataColumn"===a&&p.push.apply(p,(0,bn.c)(C)),"DataCell"===a&&(d++,v.push.apply(v,(0,bn.c)(C))),C})))}return o&&(0,ot.c)(l,o),null!=o&&o.width&&(l.width=Vf(Vf(o.width/u.length,1)*u.length,1)),Kh(l)}}function Vh(t,e){return function(n){var r=n.type,i=n.parentId,o=n.transferData,a=n.gridInfo,u=void 0===a?{}:a,c=n.parentItem,l=t({type:r,parentId:i,transferData:o,parentItem:c}),s=e({type:r}),f=u.row,d=void 0===f?1:f,h=u.column,p=void 0===h?1:h;if(d=Xu()(d),p=Xu()(p),"LayoutGrid"===s.Id||"CardGrid"===s.Id){var v=s.Default,g=[],y=[];l.items=_.flatten(R()(v).call(v,(function(e){var n,r,i,a=e.Id,u=(e.Count,e.CellType),c=e.Name,s=(0,zn.c)(e,zh),f={};o&&o.width&&(f={columnWidth:Vf(o.width/p,1)});var h=_.isEmpty(s)?s:j()(n=m()(s)).call(n,(function(t,e){return t[_.camelCase(e)]=s[e],t}),{}),v=R()(r=jf()(i=new Array(function(t){return"DataRow"===t?d:"DataColumn"===t?p:"LayoutCell"===t?d*p:void 0}(a))).call(i,0)).call(r,(function(e,n){return t({type:a,parentId:l.id,transferData:"LayoutCell"===a?Wh(Wh({rowId:g[Math.floor(n/p)].id,columnId:y[n%p].id,width:y[n%p].columnWidth,height:g[Math.floor(n/p)].rowHeight,cellType:u},h),f):Wh(Wh(Wh({},h),c?{name:c}:{}),"DataColumn"===a?f:{})})}));return"DataRow"===a?g.push.apply(g,(0,bn.c)(v)):"DataColumn"===a&&y.push.apply(y,(0,bn.c)(v)),v})))}return o&&(0,ot.c)(l,o),null!=o&&o.width&&(l.width=Vf(Vf(o.width/p,1)*p,1)),Kh(l)}}function Kh(t){if(t.items){var e,n=t.items;return t.items=void 0,Wd(t,n,!0),P()(e=[t]).call(e,(0,bn.c)(n))}return t}function Yh(t,e,n){e.findControlByCondition((function(e){return e.parentId===t})).length||e.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[t,n]]))}var qh={Normal:["Sys","Head","Import","Main","Entry"]};function Xh(t,e,n,r,i,o){var a,u,c=t.isDataGridDs,l=t.dsType,s=t.isSubDataGridDs,f=(t.dataSource,t.bindField),d=e.statType,h=e.cellType,p=e.parentId,v=e.id,g=r.initAttr,m=r.title,y=qh[h],b=n.findControl(p),C=b.type;b.parentControl;if("Sys"===l&&!kn()(a=["=getGroupRowNumber()","=getRowNumber()"]).call(a,f))return i((0,Z.getLangMsg)("printd.grid.key0113"));var x,w=or(n,v,"DataGrid")||or(n,v,"SubDataGrid");if(!Sr(o,w))return i((0,Z.getLangMsg)("printd.grid.key0035"));if("Normal"===h&&!kn()(y).call(y,l))return i((0,Z.getLangMsg)("printd.grid.key0036"));"Normal"!==h&&"Statistic"!==h||n.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[v,Wh(Wh({},g),{},{viewText:"Statistic"===h&&"noStat"!==d?P()(x="=".concat(d,"(")).call(x,m,")"):"=$".concat(m)})]]));if(kn()(u=["Detail","Group"]).call(u,h)){var E,S=n.findControl(p).dataSource,k=["Entry","ReportEntry","Subentry","Workflow","Report","Approveline"];if("DataGrid"===C&&!(kn()(E=["=getGroupRowNumber()","=getRowNumber()"]).call(E,g.bindField)||S&&(g.dataSource===S||!kn()(k).call(k,g.dsType))||!S&&c))return i((0,Z.getLangMsg)("printd.grid.key0037"));if("SubDataGrid"===C&&!("=getRowNumber()"===g.bindField||S&&g.dataSource===S||!S&&s))return i((0,Z.getLangMsg)("printd.grid.key0038"));var D=[[v,Wh(Wh({},g),{},{viewText:"=$".concat(m)})]];S||D.push([p,{dataSource:g.dataSource,dataSourceText:g.dataSourceText}]),n.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(D))}}var $h=function(t,e){var n=t.y,r=t.height,i=t.subGridId,o=t.tableTailId;if(xd(t)&&null!=i&&i.length){var a=e.findControl(i[0]),u=a.subGridDirection,c=a.height;if("bottom"===u)return Vf(n+r+c,1);if("right"===u)return Vf(n+Math.max(r,c),1)}if((xd(t)||Ed(t))&&o)return Vf(n+r+e.findControl(o).height,1);if(wd(t)){var l=t.subGridDirection,s=t.parentGridId;if("right"===l){var f=e.findControl(s).height;return Vf(n+Math.max(r,f),1)}}return Vf(n+r,1)},tp=function(t,e){var n=t.y;if(wd(t)){var r=t.subGridDirection,i=t.parentGridId;if("bottom"===r)return Vf(n-e.findControl(i).height,1)}return n},ep=["FontName","FontSize","Bold","Italic","UnderLine","ForeColor","BackColor","HorAlignment","Border","BorderType","VerAlignment","Padding","Strike","LineSpace"],np=function(t,e){var n=e.Id;return kn()(ep).call(ep,n)},rp=function(t){return"Header"===t.type},ip=function(t){return"Footer"===t.type},op=function(t){return"Barcode"===t.type},ap=function(t){return t?t.parentId?t:(0,ot.c)({},t,{width:Math.max(t.width-(t.marginLeft+t.marginRight),t.marginLeft+t.marginRight),height:Math.max(t.height-(t.marginTop+t.marginBottom),t.marginTop+t.marginBottom),x:0,y:0}):t},up=n(31408),cp=n.n(up);function lp(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function sp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=lp(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=lp(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var fp=function(t){var e,n,r,i=t.change,o=t.id,a=t.dataContext,u=t.globalConfig,c=t.addActionRef,l=t.action,s=(u.definition,u.dataRef),f=u.showMessage,d=a.getRootId(),h=a.findControl(o);if("key"in i){var p,v=R()(p=s.current).call(p,(function(t){return t.key}));if(kn()(v).call(v,i.key))return f((0,Z.getLangMsg)("printd.grid.key0048")),{change:h.key,id:o}}if(bd(h)){var g="height"in i,y="width"in i;if(g||y){var b=g?te:$t,C=b===te,x=h[b],w=i[b],E=h.parentId,S=h.rowId,k=h.columnId,D=a.findControl(S),A=a.findControl(k),I=a.findControl(E),B=w-x;Id(D)&&I.fixedRowAtPage&&I.fixedRowCount>1&&B*(I.fixedRowCount-1);var L=[[o,(0,T.c)({},b,w)],C?[D.id,{rowHeight:w}]:[A.id,{columnWidth:w}]],_=a.findControl(E);if(_.mergeConfig){var N=Yd({items:a.getData().items,gridData:_,rowId:S,columnId:k});if(N.length){var O,G,z=new(li());y?W()(N).call(N,(function(t){z.add(t.columnId)})):W()(N).call(N,(function(t){z.add(t.rowId)}));var U=R()(O=(0,bn.c)(z)).call(O,(function(t){return a.findControl(t)})),Q=y?i.width:i.height,J=y?"columnWidth":"rowHeight",H=R()(G=qd(R()(U).call(U,(function(t){return t[J]})),Q)).call(G,(function(t,e){return[U[e].id,(0,T.c)({},J,t)]}));return H.unshift.apply(H,L),Z.console.log(Y().cloneDeep(H),"afterChange",Pd(H)),Pd(H)}}return Pd(L)}}if(h&&function(t){return"Line"===t.type}(h)){if(i.border){var V,K=F()(V=lt()(i.border.width)).call(V,(function(t){return t}))[0];if("color"!==i.changeBorderType){var q,X;i.height=Zf(K,i.scale/100,2);var $=["dashed","dotted"],tt=i.border&&F()(q=lt()(i.border.style)).call(q,(function(t){return t}))[0],et=h.border&&F()(X=lt()(h.border.style)).call(X,(function(t){return t}))[0];if(kn()($).call($,tt)&&kn()($).call($,et)||"solid"===tt&&"solid"===et);else{var nt,rt,it,at,ut=h.border&&F()(nt=lt()(h.border.color)).call(nt,(function(t){return t}))[0],ct=h.border&&F()(rt=lt()(h.border.width)).call(rt,(function(t){return t}))[0];W()(it=m()(h.border.color)).call(it,(function(t){i.border.color[t]=ut})),W()(at=m()(h.border.width)).call(at,(function(t){i.border.width[t]=ct}))}}else{var st,ft,dt=h.border&&F()(st=lt()(h.border.style)).call(st,(function(t){return t}))[0];W()(ft=m()(h.border.style)).call(ft,(function(t){i.border.style[t]=dt}))}"V"===h.direction&&(i.width=i.height||h.width,i.height=h.height)}return i.direction&&i.direction!==h.direction&&(i.width=h.height,i.height=h.width),{change:i,id:o}}if(h&&op(h)&&"rotate"in i){var ht=h.width,pt=h.height,vt=h.x,gt=h.y;if(e=h,n=i.rotate,r=e.rotate,Math.abs(n-r)%180==90){i.width=pt,i.height=ht;var mt={x:Vf(vt+ht/2-pt/2),y:Vf(gt+pt/2-ht/2)};i.x=mt.x,i.y=mt.y}return{id:o,change:i}}if(h&&function(t){return!!t&&"Text"===t.type}(h)&&Wt in i){var yt=l[Fe]||h[Fe];i[Fe]=yt||h[Fe]}if(Cd(h)){var bt=Y().cloneDeep(h),Ct=Y().cloneDeep((0,ot.c)({},bt,i)),xt=[[o,i]],wt=a.getData().items,Et=F()(wt).call(wt,(function(t){return t.parentId===o})),St=cd(Et),kt=St.rows,Dt=void 0===kt?[]:kt,At=St.columns,It=void 0===At?[]:At,Mt=St.cells,Tt=void 0===Mt?[]:Mt,Bt=(St.rowData,St.columnData,Ct.x),Ft=Ct.y,Lt=Ct.id,Rt=Ct.height,_t=Ct.width,Nt=(Ct.detailRowHeight,Ct.fixedRowAtPage),Pt=Ct.fixedRowCount,Ot=Ct.mergeConfig,jt=(Ct.subGridId,Ct.parentGridId,Ct.subGridDirection,ud({columns:It,rows:Dt,cells:Tt,mergeConfig:Ot,templateRowCount:Pt,fixedRowAtPage:Nt,allItems:a.getData().items}).rowData);if(Wt in i){var Gt,zt,Ut=l.changeType,Qt=i.gridBorder,Zt=i[Wt];h[Wt];if(Qt)zt=function(t,e,n,r,i){var o,a;if(!r.length)return null;var u=i.rc,c=i.cc,l=kn()(o=["dashed","dotted"]).call(o,n)?.5:e===_e?2:n,s=kn()(a=["dashed","dotted"]).call(a,n)?n:"solid",f=e===Re||e===_e;return W()(r).call(r,(function(n){var r=n.cells;W()(r).call(r,(function(n){var r=n.row,i=n.column,o=n.mergeConfig||{},a=o.columnLength,d=o.columnStart,h=o.rowLength,p=o.rowStart;(e===Oe||f)&&0===i&&(n[Wt].width.left=l,n[Wt].color.left=t,n[Wt].style.left=s),(e===Ge||f)&&(i!==c-1&&a+d!==c||(n[Wt].width.right=l,n[Wt].color.right=t,n[Wt].style.right=s)),(e===je||f)&&0===r&&(n[Wt].width.top=l,n[Wt].color.top=t,n[Wt].style.top=s),(e===ze||f)&&(r!==u-1&&h+p!==u||(n[Wt].width.bottom=l,n[Wt].color.bottom=t,n[Wt].style.bottom=s)),e===Pe&&W()(ue).call(ue,(function(t){n[Wt].width[t]=0})),e===Ne&&(n[Wt].width.left=l,n[Wt].color.left=t,n[Wt].style.left=s,n[Wt].width.top=l,n[Wt].color.top=t,n[Wt].style.top=s,r!==u-1&&h+p!==u||(n[Wt].width.bottom=l,n[Wt].color.bottom=t,n[Wt].style.bottom=s),i!==c-1&&a+d!==c||(n[Wt].width.right=l,n[Wt].color.right=t,n[Wt].style.right=s)),e===Le&&(0!==i&&(n[Wt].width.left=l,n[Wt].color.left=t,n[Wt].style.left=s),0!==r&&(n[Wt].width.top=l,n[Wt].color.top=t,n[Wt].style.top=s))}))})),r}(Qt.color,Qt.type,Qt.line,jt,{rc:Dt.length,cc:It.length}),delete i.gridBorder;else"borderWidth"===Ut?zt=function(t,e){var n=Vd(t)[3];return W()(e).call(e,(function(t){var e=t.cells;W()(e).call(e,(function(t){t[Wt]=md(t[Wt],void 0,n,void 0,"solid")}))})),e}(Zt,jt):"borderColor"===Ut?zt=function(t,e){var n=Vd(t)[1];return W()(e).call(e,(function(t){var e=t.cells;W()(e).call(e,(function(t){t[Wt]=md(t[Wt],void 0,void 0,n,void 0)}))})),e}(Zt,jt):"borderStyle"===Ut?zt=function(t,e){var n=Vd(t)[2];return W()(e).call(e,(function(t){var e=t.cells;W()(e).call(e,(function(t){t[Wt]=md(t[Wt],void 0,void 0,void 0,n)}))})),e}(Zt,jt):i.formatBrush?(zt=function(t,e,n){var r=n.rc,i=n.cc;return W()(t).call(t,(function(t){var n=t.cells;W()(n).call(n,(function(t){var n=t.row,o=t.column,a=t.mergeConfig||{},u=a.columnLength,c=a.columnStart,l=a.rowLength,s=a.rowStart;0===o&&(t[Wt].width.left=e.width.left,t[Wt].color.left=e.color.left,t[Wt].style.left=e.style.left),o!==i-1&&u+c!==i||(t[Wt].width.right=e.width.right,t[Wt].color.right=e.color.right,t[Wt].style.right=e.style.right),0===n&&(t[Wt].width.top=e.width.top,t[Wt].color.top=e.color.top,t[Wt].style.top=e.style.top),n!==r-1&&l+s!==r||(t[Wt].width.bottom=e.width.bottom,t[Wt].color.bottom=e.color.bottom,t[Wt].style.bottom=e.style.bottom)}))})),t}(Y().cloneDeep(jt),i.border,{rc:Dt.length,cc:It.length}),delete i.formatBrush):zt=Kd(Zt,void 0,jt,Dt.length,It.length);return zt?P()(xt).call(xt,R()(Gt=j()(zt).call(zt,(function(t,e){return P()(t).call(t,e.cells)}),[])).call(Gt,(function(t){return[t.id,{border:t.border}]}))):xt}var Jt=bt.x,Ht=bt.y,Vt=bt.fixedRowAtPage,Kt=bt.height,Yt=bt.width,ee=(bt.detailRowHeight,bt.fixedRowCount),ne=bt.mergeConfig,ie=bt.tableTailId;if(Vt!==Nt){var oe=Jn()(Dt).call(Dt,(function(t){return t.rowType===xe})),ae=(null==oe?void 0:oe.rowHeight)*(Pt-1),ce=Nt?Rt+ae:Rt-ae;ie&&xt.push([ie,{y:ce+Ht,isfixedRowAtPage:!0}]),xt.push([o,{height:ce,x:Jt,y:Ht,isfixedRowAtPage:!0}])}if(Pt!==ee){var le=Jn()(Dt).call(Dt,(function(t){return t.rowType===xe})),se=(null==le?void 0:le.rowHeight)*(Pt-ee);Nt?xt.push([o,{height:Rt+se}]):xt.push([o,{height:Rt-se}])}if(Kt!==Rt||Yt!==_t){var fe=function(t){var e,n,r,i,o,a,u=t.x,c=t.y,l=t.width,s=t.height,f=t.id,d=t.rows,h=t.columns,p=t.dataContext,v=Y().cloneDeep(p.getData()).items,g=Jn()(v).call(v,(function(t){return t.id===f})),m=g.width,y=g.height,b=g.fixedRowAtPage,C=g.fixedRowCount;g.x=void 0===u?g.x:u,g.y=void 0===c?g.y:c,g.width=l,g.height=s;var x=s,w=R()(d).call(d,(function(t){return t.id})),E=R()(h).call(h,(function(t){return t.id})),S=F()(v).call(v,(function(t){return kn()(w).call(w,t.id)})),k=Jn()(S).call(S,(function(t){return t.rowType===xe})),D=F()(v).call(v,(function(t){return kn()(E).call(E,t.id)})),A=Xd(qd(P()(e=R()(S).call(S,(function(t){return t.rowHeight}))).call(e,b&&C>1?R()(n=jf()(r=new Array(C-1)).call(r,0)).call(n,(function(){return k.rowHeight})):[]),x),s),I=Xd(qd(R()(D).call(D,(function(t){return t.columnWidth})),l),l);if(Y().isEqual(En()(A).call(A,0,S.length),R()(S).call(S,(function(t){return t.rowHeight})))&&Y().isEqual(I,R()(D).call(D,(function(t){return t.columnWidth}))))return[[f,{width:m,height:y}]];var M=R()(S).call(S,(function(t,e){return t.rowHeight=A[e],t})),T=R()(D).call(D,(function(t,e){return t.columnWidth=I[e],t})),B=F()(i=R()(v).call(v,(function(t){var e=t.id,n=t.rowId,r=t.columnId;return e===g.id?[g.id,Nd(g,[qt,Xt,te,$t])]:kn()(w).call(w,e)?[e,Nd(Jn()(M).call(M,(function(t){return t.id===e})),[Ue])]:kn()(E).call(E,e)?[e,Nd(Jn()(T).call(T,(function(t){return t.id===e})),[We])]:kn()(w).call(w,n)&&kn()(E).call(E,r)?[e,(0,ot.c)({},Nd(Jn()(M).call(M,(function(t){return t.id===n})),[Ue],[te]),Nd(Jn()(T).call(T,(function(t){return t.id===r})),[We],[$t]))]:null}))).call(i,Boolean),L=F()(o=R()(v).call(v,(function(t){var e=t.id,n=(t.rowId,t.columnId,t.parentId),r=n?p.findControl(n):null;if(!r||!Bd(r))return null;var i=r.rowId,o=r.columnId;if(kn()(w).call(w,i)&&kn()(E).call(E,o)){var a={},u=fd({field:r,dataContext:p}),c=u.width,l=u.height,s=p.findControlByCondition((function(t){return t.parentId===n}));return 1===s.length&&(0,ot.c)(a,{width:c,height:l}),[e,(0,ot.c)({},Nd(Jn()(M).call(M,(function(t){return t.id===i})),[Ue],[te]),Nd(Jn()(T).call(T,(function(t){return t.id===o})),[We],[$t]),a)]}}))).call(o,Boolean);return P()(a=[]).call(a,(0,bn.c)(B),(0,bn.c)(L))}({x:Bt,y:Ft,width:_t,height:Rt,rows:Dt,columns:It,dataContext:a,id:o});fe&&xt.push.apply(xt,(0,bn.c)(fe))}if(!Y().isEqual(Ct,bt)){var de={};if(W()(re).call(re,(function(t){Ct[t]!==bt[t]&&(de[t]=Ct[t])})),!Y().isEmpty(de)){var he=Y().cloneDeep(a.getData()).items,pe=j()(he).call(he,(function(t,e){var n=e.id,r=(e.type,e.parentId),i=Jn()(he).call(he,(function(t){return t.id===r})),a=[];if(bd(e)&&r===o||bd(i)&&i.parentId===o){var u,c={};W()(u=cp()(de)).call(u,(function(t){var n=(0,M.c)(t,2),r=n[0],i=n[1];r in e&&(c[r]=i)})),Y().isEmpty(c)||a.push([n,c])}return P()(t).call(t,a)}),[]);xt.push.apply(xt,(0,bn.c)(pe))}}if(!Y().isEqual(ne,Ot)){var ve,ge,me,ye=Y().cloneDeep(F()(ve=R()(Et).call(Et,(function(t){if(t.parentId===Lt)return t}))).call(ve,Boolean)),be=cd(ye),Ce=(be.columns,be.cells),we=be.columnCount,Ee=od(we),Se=F()(ge=R()(me=m()(Ot)).call(me,(function(t){return ne[t]&&Y().isEqual(Ot[t],ne[t])?void 0:t}))).call(ge,Boolean);W()(Se).call(Se,(function(t){var e,n=Ot[t],r=n.rowStart,i=n.rowLength,o=n.columnStart,a=n.columnLength,l=Jn()(ye).call(ye,(function(t){return t.id===Ce[Ee(r,o)].id})),s=!0;Vn()(e=m()(De)).call(e,(function(t){return l[t]}))||(Jn()(Et).call(Et,(function(t){return t.parentId===l.id}))||(s=!1));if(!s)for(var f=r;f<=r+i-1;f++)for(var d=function(){if(s)return 1;if(f!==r||h!==o){var t,e=Ce[Ee(f,h)];if(Vn()(t=m()(De)).call(t,(function(t){return e[t]}))){var n,i={};W()(n=m()(e)).call(n,(function(t){kn()(Te).call(Te,t)||(l[t]=e[t],i[t]=e[t])})),xt.push([l.id,i]),s=!0}var a=Jn()(Et).call(Et,(function(t){return t.parentId===e.id}));if(a){var d=(0,ot.c)({},a,{parentId:l.id}),p=u.dataRef;d.key=(0,Z.createUniqueKey)(d.key,d.type,p.current),p.current.push(d),c.current.push(d),s=!0}}},h=o;h<=o+a-1&&!d();h++);}))}var ke=Pd(xt);if(1===ke.length){var Ae=(0,M.c)(ke[0],2);return{id:Ae[0],change:Ae[1]}}return ke}if(h&&h.id===d){var Ie="height"in i||"marginTop"in i||"marginBottom"in i,Me="width"in i||"marginLeft"in i||"marginRight"in i,Be=a.findControlByCondition((function(t){return"Footer"===t.type}))[0],Qe=a.findControlByCondition((function(t){return"Header"===t.type}))[0],Ze=[[o,i]],Je=i.height,He=i.width,Ve=i.marginTop,Ke=i.marginBottom,Ye=i.marginLeft,qe=i.marginRight;Je=Y().isUndefined(Je)?h.height:Je,He=Y().isUndefined(He)?h.width:He,Ve=Y().isUndefined(Ve)?h.marginTop:Ve,Ke=Y().isUndefined(Ke)?h.marginBottom:Ke,Ye=Y().isUndefined(Ye)?h.marginLeft:Ye,qe=Y().isUndefined(qe)?h.marginRight:qe;var Xe=Math.max(Je-Math.max(Ve,0)-Math.max(Ke,0),0),$e=Math.max(He-Math.max(Ye,0)-Math.max(qe,0),0);if(Be&&(Ie||Me)){var tn=Be.height,en=Be.id;Ze.push([en,sp(sp({},Be),{},{width:$e,y:Xe-tn})])}if(Qe&&Me){var nn=Qe.id;Ze.push([nn,sp(sp({},Qe),{},{width:$e})])}return Ze}if(h&&ip(h)){if("height"in i){var rn=i.height,on=a.findControl(d),an=on.marginTop,un=on.marginBottom,cn=on.height,ln=Math.max(cn-Math.max(an,0)-Math.max(un,0),0)-rn,sn=[[o,sp(sp({},i),{},{y:ln})]],fn=a.findControlByCondition((function(t){return"Header"!==t.type&&"Footer"!==t.type&&t.parentId===d&&t.y+t.height>ln}))||[],dn=R()(fn).call(fn,(function(t){return[t.id,{y:ln-t.height}]}));return sn.push.apply(sn,(0,bn.c)(dn)),sn}return{id:o,change:i}}if(h&&rp(h)){if("height"in i){var hn=i.height,pn=[[o,i]],vn=a.findControlByCondition((function(t){return"Header"!==t.type&&"Footer"!==t.type&&t.parentId===d&&t.y<hn})),gn=vn&&R()(vn).call(vn,(function(t){return[t.id,{y:hn}]}));return pn.push.apply(pn,(0,bn.c)(gn)),pn}return{id:o,change:i}}if(h&&Id(h)){var mn="mergeSummaryField"in i;if("mergeByField"in i&&i.mergeByField&&h.mergeByField){var yn,Cn=i.mergeByFieldText,wn=i.mergeByField,Sn=wn?wn.split(";"):[],Dn=h.id,An=h.mergeSummaryField,In=h.mergeSummaryFieldText,Tn=In?In.split(";"):[],Bn=[[o,i]],Fn=a.findControlByCondition((function(t){return Md(t)&&t.rowId===Dn})),Ln=F()(yn=R()(Fn).call(Fn,(function(t){var e=t.mergeSummary,n=t.bindField,r=t.id;return xn()(Sn).call(Sn,n)>-1&&e?[r,{mergeSummary:!1}]:null}))).call(yn,Boolean);return Bn.push.apply(Bn,(0,bn.c)(Ln)),Bn.push([Dn,{mergeSummaryField:F()(An).call(An,(function(t){return-1===xn()(Sn).call(Sn,t)})),mergeSummaryFieldText:F()(Tn).call(Tn,(function(t){return!Mn()(Cn).call(Cn,t)})).join(";")}]),Bn}if(mn){var Rn,_n=h.id,Nn=i.mergeSummaryField,Pn=[[o,i]],On=a.findControlByCondition((function(t){return Md(t)&&t.rowId===_n})),jn=F()(Rn=R()(On).call(On,(function(t){var e=t.mergeSummary,n=t.bindField,r=t.id,i=kn()(Nn).call(Nn,n);return i!==e?[r,{mergeSummary:i}]:null}))).call(Rn,Boolean);return Pn.push.apply(Pn,(0,bn.c)(jn)),Pn}return{id:o,change:i}}if(h&&Md(h)){var Gn=h.bindField,zn="bindField"in i;if("mergeSummary"in i&&Gn){var Un=h.rowId,Wn=h.viewText,Qn=i.mergeSummary,Zn=Wn.replace(/^=\$(\S+)$/g,"$1"),Hn=a.findControl(Un),Kn=Hn.mergeSummaryField,Yn=Hn.mergeSummaryFieldText,qn=Yn?Yn.split(";"):[],Xn=a.findControlByCondition((function(t){return Md(t)&&t.rowId===Un})),$n=F()(Xn).call(Xn,(function(t){return t.bindField===Gn})).length>1,tr=[[o,i]];return Qn&&!kn()(Kn).call(Kn,Gn)?tr.push([Un,{mergeSummaryField:P()(Kn).call(Kn,Gn),mergeSummaryFieldText:P()(qn).call(qn,Zn).join(";")}]):Qn||!kn()(Kn).call(Kn,Gn)||$n||tr.push([Un,{mergeSummaryField:F()(Kn).call(Kn,(function(t){return t!==Gn})),mergeSummaryFieldText:F()(qn).call(qn,(function(t){return t!==Zn})).join(";")}]),tr}if(zn){var er,nr,rr=h.viewText,ir=h.rowId,or=h.bindField,ar=h.mergeSummary,ur=rr.replace(/^=\$(\S+)$/g,"$1"),cr=a.findControl(ir),lr=cr.mergeSummaryField,sr=cr.mergeSummaryFieldText,fr=cr.mergeByFieldText,dr=cr.mergeByField,hr=sr?sr.split(";"):[],pr=fr?fr.split(";"):[],vr=dr?dr.split(";"):[],gr=a.findControlByCondition((function(t){return Md(t)&&t.rowId===ir})),mr=F()(gr).call(gr,(function(t){return t.bindField===or})).length>1,yr=[[o,i]];if(or&&kn()(vr).call(vr,or)&&!mr)yr.push([ir,{mergeByField:P()(er=F()(vr).call(vr,(function(t){return t!==Gn}))).call(er,i.bindField).join(";"),mergeByFieldText:P()(nr=F()(pr).call(pr,(function(t){return t!==ur}))).call(nr,i.viewText.replace(/^=\$(\S+)$/g,"$1")).join(";")}]);return or&&ar&&kn()(lr).call(lr,or)&&!mr&&(yr.push([ir,{mergeSummaryField:F()(lr).call(lr,(function(t){return t!==or})),mergeSummaryFieldText:F()(hr).call(hr,(function(t){return t!==ur})).join(";")}]),yr.push([o,{mergeSummary:!1}])),yr}}return{id:o,change:i}},dp=function(t,e,n){var r=Y().cloneDeep(t),i=[];return{items:j()(r).call(r,(function(t,r){var o=(0,M.c)(r,2),a=o[0],u=o[1],c=e.findControl(a);return n(c,u,a,e)?(i.push(r),null==t?void 0:P()(t).call(t,c)):t}),[]),changes:i}},hp=function(t){var e=t.realChange,n=t.dataContext,r=dp(e,n,(function(t){return t&&(xd(t)||Ed(t))})),i=r.items,o=r.changes,a=dp(e,n,(function(t){return t&&wd(t)})),u=a.items,c=a.changes;null!=i&&i.length&&W()(i).call(i,(function(t,r){var i=(0,M.c)(o[r],2),a=(i[0],i[1]),u=t,c=(0,ot.c)({},Y().cloneDeep(t),a),l=c.x,s=c.y,f=c.subGridId,d=c.width,h=c.height,p=c.tableTailId,v=(c.hasTableTail,u.x),g=u.y,m=u.width,y=u.height;if(f&&f.length>0){var b=n.findControl(f);W()(b).call(b,(function(t){var n=t.subGridDirection,r=t.id,i={};"right"===n?(l===v&&d===m||(i.x=Hf(l+d,1)),s!==g&&(i.y=s)):(s===g&&h===y||(i.y=Hf(s+h,1)),l!==v&&(i.x=l)),Y().isEmpty(i)||e.push([r,i])}))}if(p){var C=n.findControl(p),x={x:l-v+C.x,y:s+h};(C.x<l||C.x>l+d)&&(x.x=l),e.push([p,x])}})),null!=u&&u.length&&W()(u).call(u,(function(t,r){var i=(0,M.c)(c[r],2),o=(i[0],i[1]),a=t,u=(0,ot.c)({},Y().cloneDeep(t),o),l=u.parentGridId,s=u.x,f=u.y,d=u.subGridDirection,h=a.x,p=a.y,v=n.findControl(l),g={};"right"===d?(s!==h&&(g.x=Hf(s-v.width,1)),f!==p&&(g.y=f)):(f!==p&&(g.y=Hf(f-v.height,1)),s!==h&&(g.x=s)),Y().isEmpty(g)||e.push([l,g])}))},pp=function(t,e,n){var r,i=t.dataContext,o=(t.selectionContext,t.globalConfig),a=t.action,u=i.getRootId(),c=a.value;if(c.length){if(1===c.length){var l=(0,M.c)(c,1),s=(0,M.c)(l[0],2),f=s[0],d=s[1];if(f===u&&"language"in d)return void Z.eventBus.emit("beforeChangeLang",{resolve:e,reject:n,value:d.language});if("hasTableTail"in d)return void Z.eventBus.emit("beforeChangeGridFooter",{resolve:e,reject:n,tableTail:d.hasTableTail,parentGridId:f});var h=i.findControl(f);if(h&&("x"in d||"y"in d)){var p=d.x,v=d.y,g=h.parentId,m=i.findControl(g)||{};if("TableTail"===m.type){var y=m.width,b=m.height,C=h.width,x=h.height;p+C>y&&(d.x=Math.max(y-C,0)),v+x>b&&(d.y=Math.max(b-x,0))}}}var w={current:[]},E=Pd(j()(c).call(c,(function(t,e){var n=(0,M.c)(e,2),r=n[0],u=n[1],c=fp({change:u,id:r,globalConfig:o,dataContext:i,addActionRef:w,action:a});return Gn()(c)?t.push.apply(t,(0,bn.c)(c)):t.push([c.id,c.change]),t}),[])),S=dp(E,i,(function(t,e){return t&&(Dd(t)||Ad(t))&&(Ue in e||We in e)})),k=S.items,D=S.changes;if(null!=k&&k.length){var A=i.findControl(k[0].parentId),I=A.id,T=i.findControlByCondition((function(t){return t.parentId===I&&(Dd(t)||Ad(t))}));E.push([I,Yf(j()(T).call(T,(function(t,e){var n,r=e.id,i=null===(n=Jn()(D).call(D,(function(t){return(0,M.c)(t,1)[0]===r})))||void 0===n?void 0:n[1],o=i?(0,ot.c)({},e,i):e;return Dd(o)?Id(o)&&A.fixedRowAtPage&&A.fixedRowCount>1?t.height+=o.rowHeight+o.rowHeight*Math.max(A.fixedRowCount-1,1):t.height+=o.rowHeight:t.width+=o.columnWidth,t}),{width:0,height:0}))]),E=Pd(E)}hp({realChange:E,dataContext:i}),function(t){var e=t.realChange,n=t.dataContext,r=[];if(Jn()(e).call(e,(function(t){var e=(0,M.c)(t,2),n=(e[0],e[1]);return n.fixedRowAtPage||!1===n.fixedRowAtPage||n.fixedRowCount})))return e;W()(e).call(e,(function(t){var e=(0,M.c)(t,2),i=e[0],o=e[1],a=n.findControl(i);if(a&&Fd(a)){var u=o.y;if(u||0===u){var c=a.parentGridId,l=n.findControl(c).height;r.push([c,{y:u-l}])}}})),e.push.apply(e,r)}({realChange:E,dataContext:i});var B=function(t,e){var n,r,i=dp(t,e,(function(t){return t&&Rd(t)})),o=i.items,a=(i.changes,Y().cloneDeep(e.getData()).items);W()(t).call(t,(function(t){var e,n=(0,M.c)(t,2),r=n[0],i=n[1],o=Jn()(a).call(a,(function(t){return t.id===r}));o&&W()(e=cp()(i)).call(e,(function(t){var e=(0,M.c)(t,2),n=e[0],r=e[1];o[n]=r}))}));var u=[];if(null===(n=o)||void 0===n||!n.length){var c,l,s=dp(t,e,(function(t,e,n,r){var i=t&&r.findControl(t.parentId);return i&&Rd(i)&&t&&(Dd(t)||Ad(t))&&(Ue in e||We in e)})),f=s.items;null!=f&&f.length&&(o=F()(c=R()(l=(0,bn.c)(new(li())(R()(f).call(f,(function(t){return t.parentId}))))).call(l,(function(t){return Jn()(a).call(a,(function(e){return e.id===t}))}))).call(c,Boolean))}return null!==(r=o)&&void 0!==r&&r.length&&W()(o).call(o,(function(t){var e,n=t.id,r=(Jn()(a).call(a,(function(t){return t.id===n})),F()(e=R()(a).call(a,(function(t){if(t.parentId===n)return t}))).call(e,Boolean)),i=cd(r).cells;W()(i).call(i,(function(t){var e=t.id,n=Jn()(a).call(a,(function(t){return t.parentId===e}));if(n){var r=fd({field:t,dataContext:(0,Z.createDataContext)(void 0,{items:a},{keywordMapping:{id:"id",type:"type",name:"name",key:"key",parentId:"parentId",items:"items"}})});if(r){var i=r.width,o=r.height,c=n.id,l=n.width,s=n.height,f={};l>i&&(f.width=i),s>o&&(f.height=o),Y().isEmpty(f)||u.push([c,f])}}}))})),u}(E,i);return F()(r=[{type:Z.ActionType.UPDATE,value:Pd(P()(E).call(E,B))},w.current.length&&(0,Z.createAddAction)(w.current)]).call(r,Boolean)}},vp=(Q.Icon,(0,Z.getLangMsg)("printd.grid.key0114"),(0,Z.getLangMsg)("printd.grid.key0114"),Q.Icon,(0,Z.getLangMsg)("printd.grid.key0114"),(0,Z.getLangMsg)("printd.grid.key0114"),Q.Icon,(0,Z.getLangMsg)("printd.grid.key0114"),(0,Z.getLangMsg)("printd.grid.key0114"),Q.Icon,(0,Z.getLangMsg)("printd.grid.key0114"),(0,Z.getLangMsg)("printd.grid.key0114"),Q.Icon,(0,Z.getLangMsg)("printd.grid.key0114"),(0,Z.getLangMsg)("printd.grid.key0114"),{color:{top:"#000000",left:"#000000",bottom:"#000000",right:"#000000",inner:"#000000"},width:{top:.5,left:.5,bottom:.5,right:.5,inner:.5},style:{top:"solid",left:"solid",bottom:"solid",right:"solid",inner:"solid"}});function gp(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=gp(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=gp(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var yp=["color","width","style"],bp=["left","right"];function Cp(t,e,n){var r=t.globalConfig,i=t.dataContext,o=t.selectionContext,a=t.action,u=t.dataFactory,c=(t.modelFactory,r.showMessage),l=null,s=a.value,f=Gn()(s)?s:[s],d=Gn()(s)?s[0]:s,h=i.getRootId(),p=i.findControl(h),v=p.width,g=p.height,y=p.marginBottom,b=p.marginTop,C=p.marginLeft,x=p.marginRight,w=Math.max(g-Math.max(b,0)-Math.max(y,0),0),E=Math.max(v-Math.max(C,0)-Math.max(x,0),0),S=d.type,k=d.parentId,D=d.height,A=d.width,I=d.y,T=d.x,B=d.id,L=i.findControl(k),_=L.height,N=L.type,O=i.findControlByCondition((function(t){return"Header"===t.type})),G=i.findControlByCondition((function(t){return"Footer"===t.type}));if(Gn()(s)||"DataGrid"!==S&&S!==de)if("LayoutGrid"!==S){if("CardGrid"!==S){if(rp(d))if(O.length)c((0,Z.getLangMsg)("printd.grid.key0043")),n((0,Z.getLangMsg)("printd.grid.key0044"));else{k!==h&&n((0,Z.getLangMsg)("printd.grid.key0042")),d.width=E,d.x=0,d.y=0;var z=i.findControlByCondition((function(t){return"Header"!==t.type&&"Footer"!==t.type&&t.parentId===h&&t.y<D}));l=z&&R()(z).call(z,(function(t){return[t.id,{y:D}]})),document.getElementById("printDesignerCanvasContainer").scrollTop=0}if(ip(d))if(G.length)c((0,Z.getLangMsg)("printd.grid.key0046")),n((0,Z.getLangMsg)("printd.grid.key0047"));else{k!==h&&n((0,Z.getLangMsg)("printd.grid.key0045")),d.width=E,d.x=0,d.y=w-D;var U=i.findControlByCondition((function(t){return"Header"!==t.type&&"Footer"!==t.type&&t.parentId===h&&t.y+t.height>d.y}))||[];l=U&&R()(U).call(U,(function(t){var e=function(t,e){var n=t.height,r=t.subGridId;if(xd(t)&&null!=r&&r.length){var i=e.findControl(r[0]),o=i.subGridDirection,a=i.height;if("bottom"===o)return Vf(n+a,1);if("right"===o)return Math.max(n,a)}if(wd(t)){var u=t.subGridDirection,c=t.parentGridId,l=e.findControl(c).height;if("right"===u)return Math.max(n,l)}return n}(t,i);return[t.id,{y:Vf(d.y-e,1)}]}));var Q=document.getElementById("printDesignerCanvasContainer"),J=Q.scrollHeight;Q.scrollTop=J}if((rp(L)||ip(L)||Fd(L))&&I+D>_&&(l=D>=_?R()(f).call(f,(function(t){return[t.id,{y:0,height:_,width:Vf(_/D*A,1)}]})):R()(f).call(f,(function(t){return[t.id,{y:_-D}]}))),O.length&&!ip(d)&&k===h){var H=O[0].height;I<H&&(xd(d)||Rd(s)?d.y=I+H:W()(f).call(f,(function(t){t.y+=H})))}if("1"===i.getData().bizType&&op(d)&&(d.width=E),Bd(L)||Ld(L)){var V=fd({field:L,dataContext:i}),K=V.width,q=V.height;i.findControlByCondition((function(t){return t.parentId===k})).length?n("error: fail to add control to layoutcell;accept only one children"):l=[[B,{x:0,y:0,width:K,height:q}]]}if(Cd(d)){var X=F()(f).call(f,(function(t){return t.parentId===B&&"DataColumn"===t.type})),$=j()(X).call(X,(function(t,e){return t.width=Vf(t.width+e.columnWidth,1),t}),{width:0});if(l=[[B,$]],xd(d)){var tt=d.subGridId||[];W()(tt).call(tt,(function(t){var e=i.findControl(t),n=e.subGridDirection,r=e.x;"right"===n&&r!==Vf(T+$.width,1)&&l.push([t,{x:Vf(T+$.width,1)}])}))}}if(Dd(d)){var et,nt,rt=a.rowIndex,it=a.index,at=a.direction,ut=d.parentId,ct=d.rowType,lt=_d(i,ut),st=lt.items,ft=lt.gridData,dt=lt.allItems,ht=Y().cloneDeep(dt),pt=Y().cloneDeep(st),vt=Y().cloneDeep(ft),gt=cd(st),mt=gt.rows,yt=void 0===mt?[]:mt,bt=gt.columns,Ct=void 0===bt?[]:bt,xt=(gt.cells,gt.rowData),wt=(gt.columnData,gt.rowCount,{height:vt.height}),Et=[],St={};W()(re).call(re,(function(t){vt[t]&&(St[t]=vt[t])})),W()(et=a.value).call(et,(function(t){var e;wt.height+=t.rowHeight,vt.height+=t.rowHeight;var n=R()(e=xt[rt]).call(e,(function(e,n){var r=e.type,i=e.border,o=e.backColor,c=mp({rowId:t.id,columnId:Ct[n].id,cellType:t.rowType},St);if(!(0===rt&&"up"===a.direction||rt===m()(xt).length-1&&"bottom"===a.direction)){var l=Y().cloneDeep(vp),s="up"===a.direction?xt[rt-1][n]:xt[rt+1][n];Jn()(yp).call(yp,(function(t){return Jn()(bp).call(bp,(function(e){return i[t][e]!==s.border[t][e]}))}))||W()(yp).call(yp,(function(t){return W()(bp).call(bp,(function(e){return l[t][e]=i[t][e]}))})),(0,ot.c)(c,{border:l}),o===s.backColor&&(0,ot.c)(c,{backColor:o})}return u({type:r,parentId:ut,transferData:c})}));Et.push.apply(Et,(0,bn.c)(n))})),ui()(ht).apply(ht,P()(nt=[it,0]).call(nt,(0,bn.c)(a.value))),ht.push.apply(ht,Et);var kt=vt.mergeConfig,Dt=void 0===kt?{}:kt;if(!Y().isEmpty(Dt)){var At,It=a.value.length,Mt=j()(At=m()(Dt)).call(At,(function(t,e){var n,r,i=R()(n=e.split("_")).call(n,(function(t){return+t})),o=(0,M.c)(i,2),a=o[0],u=o[1],c=yt[a].rowType,l=ct===c?It:0,s=Dt[e],f=s.rowLength;s.columnLength;if(rt<a)t[P()(r="".concat(a+It,"_")).call(r,u)]=(0,ot.c)({},Dt[e],{rowStart:a+It});else if(rt===a&&"up"===at){var d;t[P()(d="".concat(a+It,"_")).call(d,u)]=(0,ot.c)({},Dt[e],{rowStart:a+It})}else t[e]=rt===a&&1!==f||rt>a&&rt<a+f-1||rt===a+f-1&&"up"===at?mp(mp({},Dt[e]),{},{rowLength:f+l}):mp({},Dt[e]);return t}),{});wt.mergeConfig=Y().omitBy(Mt,Y().isUndefined),vt.mergeConfig=wt.mergeConfig}var Tt=Zd(vt,ht,pt);W()(Et).call(Et,(function(t){var e=Jn()(Tt).call(Tt,(function(e){var n=(0,M.c)(e,2),r=n[0];n[1];return t.id===r}));e&&(0,ot.c)(t,e[1])}));var Bt=[[ut,wt]];return hp({realChange:Bt,dataContext:i}),[a,(0,Z.createAddAction)(Et),(0,Z.createUpdateAction)(P()(Tt).call(Tt,Bt))]}if(Ad(d)){var Ft,Lt,Rt=a.columnIndex,_t=a.index,Nt=a.direction,Pt=d.parentId,Ot=_d(i,Pt),jt=Ot.items,Gt=Ot.gridData,zt=Ot.allItems,Ut=Y().cloneDeep(zt),Wt=Y().cloneDeep(jt),Qt=Y().cloneDeep(Gt),Zt=cd(jt),Jt=Zt.rows,Ht=void 0===Jt?[]:Jt,Vt=(Zt.columns,Zt.cells,Zt.rowData,Zt.columnData),Kt=(Zt.columnCount,{width:Qt.width}),Yt=[],qt={};W()(re).call(re,(function(t){Qt[t]&&(qt[t]=Qt[t])})),W()(Ft=a.value).call(Ft,(function(t){var e;Qt.width+=t.columnWidth,Kt.width+=t.columnWidth,Yt.push.apply(Yt,(0,bn.c)(R()(e=Vt[Rt]).call(e,(function(e,n){var r=e.type;return u({type:r,parentId:Pt,transferData:mp({rowId:Ht[n].id,columnId:t.id,cellType:Ht[n].rowType},qt)})}))))})),ui()(Ut).apply(Ut,P()(Lt=[_t,0]).call(Lt,(0,bn.c)(a.value))),Ut.push.apply(Ut,Yt);var Xt=Qt.mergeConfig,$t=void 0===Xt?{}:Xt;if(!Y().isEmpty($t)){var te,ee=a.value.length,ne=j()(te=m()($t)).call(te,(function(t,e){var n,r,i=R()(n=e.split("_")).call(n,(function(t){return+t})),o=(0,M.c)(i,2),a=o[0],u=o[1],c=$t[e],l=(c.rowLength,c.columnLength);if(Rt<u)t[P()(r="".concat(a,"_")).call(r,u+ee)]=(0,ot.c)({},$t[e],{columnStart:u+ee});else if(Rt===u&&"up"===Nt){var s;t[P()(s="".concat(a,"_")).call(s,u+ee)]=(0,ot.c)({},$t[e],{columnStart:u+ee})}else t[e]=Rt===u&&1!==l||Rt>u&&Rt<u+l-1||Rt===u+l-1&&"up"===Nt?mp(mp({},$t[e]),{},{columnLength:l+ee}):mp({},$t[e]);return t}),{});Kt.mergeConfig=Y().omitBy(ne,Y().isUndefined),Qt.mergeConfig=Kt.mergeConfig}var ie=Zd(Qt,Ut,Wt);W()(Yt).call(Yt,(function(t){var e=Jn()(ie).call(ie,(function(e){var n=(0,M.c)(e,2),r=n[0];n[1];return t.id===r}));e&&(0,ot.c)(t,e[1])}));var oe=[[Pt,Kt]];return hp({realChange:oe,dataContext:i}),[a,(0,Z.createAddAction)(Yt),(0,Z.createUpdateAction)(P()(ie).call(ie,oe))]}var ae=[a];return l&&l.length&&ae.push.apply(ae,(0,bn.c)(pp({dataContext:i,selectionContext:o,action:{type:Z.ActionType.UPDATE,value:l},globalConfig:r}))),ae}k===h?Z.eventBus.emit("card-setting",{resolve:e,reject:n}):"TableTail"===N&&Z.eventBus.emit("card-setting",{resolve:e,reject:n,parentId:k})}else k===h?Z.eventBus.emit("layoutGrid-setting",{resolve:e,reject:n}):"TableTail"===N&&Z.eventBus.emit("layoutGrid-setting",{resolve:e,reject:n,parentId:k});else k===h&&Z.eventBus.emit("grid-guide",{resolve:e,reject:n,controlType:S,transferData:a.transferData})}function xp(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=xp(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=xp(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Ep=function(t){return Gn()(t)?t:[t]},Sp=function(t){if(Y().isUndefined(t))return!0;var e=t.rowLength,n=t.columnLength;return 1===e&&1===n};function kp(t,e,n){t.globalConfig;var r,i=t.dataContext,o=(t.selectionContext,t.action),a=(t.dataFactory,t.modelFactory,Gn()(o.value)?o.value[0]:o.value),u=i.findControl(a),c=Ep(o.value),l=i.findControl(c),s=[];if(Dd(u)){var f,d=u.parentId,h=_d(i,d),p=h.items,v=h.gridData,g=h.allItems,y=Y().cloneDeep(v),b=cd(p),C=b.rows,x=void 0===C?[]:C,w=(b.columns,b.cells,b.rowData),E=(b.columnData,b.rowCount,g),S=Y().cloneDeep(p),k={height:y.height},D=y.mergeConfig,A=void 0===D?{}:D;W()(f=Ep(o.value)).call(f,(function(t){var e,n=ft()(x).call(x,(function(e){return e.id===t})),r=x[n];k.height-=r.rowHeight,y.height-=r.rowHeight;var i=R()(e=w[n]).call(e,(function(t){return t.id}));if(E=F()(E).call(E,(function(t){var e=t.id;t.parentId;return r.id!==e&&!kn()(i).call(i,e)})),!Y().isEmpty(A)){var o,a=n;W()(o=m()(A)).call(o,(function(t){var e,n,r=R()(e=t.split("_")).call(e,(function(t){return+t})),i=(0,M.c)(r,2),o=i[0],u=i[1],c=A[t],l=c.rowLength;c.columnLength;if(a<o)A[P()(n="".concat(o-1,"_")).call(n,u)]=wp(wp({},A[t]),{},{rowStart:o-1}),A[t]=void 0;else if(a>o){var s=A[t],f=s.rowLength;s.columnLength;A[t]=wp(wp({},A[t]),{},{rowLength:o+f-1<a?f:f-1})}else{var d;if(1===l)A[t]=void 0;else A[P()(d="".concat(o,"_")).call(d,u)]=(0,ot.c)({},A[t],{rowStart:o,rowLength:l-1})}})),k.mergeConfig=Y().omitBy(A,Sp),y.mergeConfig=k.mergeConfig}}));var I=Zd(y,E,S,!0),T=[[d,k]];return hp({realChange:T,dataContext:i}),[(0,Z.createDeleteAction)(Y().difference(R()(g).call(g,(function(t){return t.id})),R()(E).call(E,(function(t){return t.id})))),(0,Z.createUpdateAction)(P()(I).call(I,T))]}if(Ad(u)){var B,L,_,N,O=u.parentId,G=_d(i,O),z=G.items,U=G.gridData,Q=G.allItems,J=Y().cloneDeep(U),H=cd(z),V=(H.rows,H.columns),K=void 0===V?[]:V,q=(H.cells,H.rowData,H.columnData),X=(H.rowCount,Q),$=Y().cloneDeep(z),tt={width:J.width},et=J.mergeConfig,nt=void 0===et?{}:et,rt=(null===(B=i.findControlByCondition((function(t){return(e=t).rowType===xe&&"DataRow"===e.type&&t.parentId===O;var e})))||void 0===B?void 0:B[0])||{},it=null===(L=i.findControlByCondition((function(t){return t.columnId===u.id&&t.rowId===(null==rt?void 0:rt.id)})))||void 0===L?void 0:L[0],at=it||{},ut=at.bindField,ct=at.viewText,lt=at.mergeSummary,st=rt||{},dt=st.mergeSummaryField,ht=st.mergeSummaryFieldText,pt=st.mergeByField,vt=st.mergeByFieldText,gt=null==ct?void 0:ct.replace(/^=\$(\S+)$/g,"$1"),mt=[],yt=i.findControlByCondition((function(t){return Md(t)&&t.rowId===(null==rt?void 0:rt.id)})),bt=ht?ht.split(";"):[],Ct=pt?pt.split(";"):[],xt=vt?vt.split(";"):[],wt=F()(yt).call(yt,(function(t){return t.bindField===ut})).length>1;if(pt&&kn()(Ct).call(Ct,ut)&&!wt){var Et=F()(Ct).call(Ct,(function(t){return t!==ut})).join(";");Et?mt.push([rt.id,{mergeByField:Et,mergeByFieldText:F()(xt).call(xt,(function(t){return t!==gt})).join(";")}]):mt.push([rt.id,{mergeByField:"",mergeByFieldText:"",mergeSummaryField:[],mergeSummaryFieldText:""}])}else lt&&kn()(dt).call(dt,ut)&&!wt&&mt.push([rt.id,{mergeSummaryField:F()(dt).call(dt,(function(t){return t!==ut})),mergeSummaryFieldText:F()(bt).call(bt,(function(t){return t!==gt})).join(";")}]);W()(_=Ep(o.value)).call(_,(function(t){var e,n=ft()(K).call(K,(function(e){return e.id===t})),r=K[n];tt.width-=r.columnWidth,J.width-=r.columnWidth;var i=R()(e=q[n]).call(e,(function(t){return t.id}));if(X=F()(X).call(X,(function(t){var e=t.id;t.parentId;return r.id!==e&&!kn()(i).call(i,e)})),!Y().isEmpty(nt)){var o,a=n;W()(o=m()(nt)).call(o,(function(t){var e,n,r=R()(e=t.split("_")).call(e,(function(t){return+t})),i=(0,M.c)(r,2),o=i[0],u=i[1],c=nt[t],l=(c.rowLength,c.columnLength);if(a<u)nt[P()(n="".concat(o,"_")).call(n,u-1)]=wp(wp({},nt[t]),{},{columnStart:u-1}),nt[t]=void 0;else if(a>u){var s=nt[t],f=(s.rowLength,s.columnLength);nt[t]=wp(wp({},nt[t]),{},{columnLength:u+f-1<a?f:f-1})}else{var d;if(1===l)nt[t]=void 0;else nt[P()(d="".concat(o,"_")).call(d,u)]=(0,ot.c)({},nt[t],{columnStart:u,columnLength:l-1})}})),tt.mergeConfig=Y().omitBy(nt,Sp),J.mergeConfig=tt.mergeConfig}}));var St=Zd(J,X,$,!0),kt=[[O,tt]];return hp({realChange:kt,dataContext:i}),[(0,Z.createDeleteAction)(Y().difference(R()(Q).call(Q,(function(t){return t.id})),R()(X).call(X,(function(t){return t.id})))),(0,Z.createUpdateAction)(P()(N=P()(St).call(St,kt)).call(N,mt))]}if(bd(u)){var Dt,At,It,Mt,Tt=R()(Dt=o.value).call(Dt,(function(t){return[t,De]})),Bt={},Ft=[],Lt=[],Rt="";W()(l).call(l,(function(t){var e=t.parentId,n=(t.type,t.bindField),r=t.id;if(Lt=Lt||i.findControl(Rt),Rt=Rt||e,n){var o=t.viewText,a=t.rowId,u=t.mergeSummary,c=o.replace(/^=\$(\S+)$/g,"$1"),l=i.findControl(a),s=l.mergeSummaryField,f=l.mergeSummaryFieldText,d=l.mergeByField,h=l.mergeByFieldText;Bt[a]||(Bt[a]={mergeByField:d,mergeByFieldText:h,mergeSummaryField:s,mergeSummaryFieldText:f});var p=Bt[a].mergeByField?Bt[a].mergeByField.split(";"):[],v=Bt[a].mergeByFieldText?Bt[a].mergeByFieldText.split(";"):[],g=Bt[a].mergeSummaryFieldText?Bt[a].mergeSummaryFieldText.split(";"):[],m=i.findControlByCondition((function(t){return Md(t)&&t.rowId===a})),y=F()(m).call(m,(function(t){return t.bindField===n})).length>1;if(Bt[a].mergeByField&&kn()(p).call(p,n)&&!y){var b;Ft=P()(b=[]).call(b,(0,bn.c)(Ft),[[r,{mergeSummary:!1}]]);var C=F()(p).call(p,(function(t){return t!==n})).join(";");Bt[a]=wp(wp({},Bt[a]),{},C?{mergeByField:C,mergeByFieldText:F()(v).call(v,(function(t){return t!==c})).join(";")}:{mergeByField:"",mergeByFieldText:"",mergeSummaryField:[],mergeSummaryFieldText:""})}else u&&kn()(s).call(s,n)&&!y&&(Bt[a]=wp(wp({},Bt[a]),{},{mergeSummaryField:F()(s).call(s,(function(t){return t!==n})),mergeSummaryFieldText:F()(g).call(g,(function(t){return t!==c})).join(";")}),Tt.push([r,{mergeSummary:!1}]))}}));var _t=R()(At=m()(Bt)).call(At,(function(t){return[t,Bt[t]]}));Tt=P()(It=[]).call(It,(0,bn.c)(Tt),(0,bn.c)(_t),(0,bn.c)(Ft));var Nt=(xd(Lt)||wd(Lt))&&!i.findControlByCondition((function(t){var e,n=t.parentId,r=t.cellType,i=t.bindField,a=t.id;return n===Rt&&"Detail"===r&&!(null!==(e=o.value)&&void 0!==e&&kn()(e).call(e,a))&&i&&"=getRowNumber()"!==i})).length;Nt&&Tt.push([Rt,{dataSource:"",dataSourceText:""}]);var Pt=j()(Mt=o.value).call(Mt,(function(t,e){var n,r=i.findControlByCondition((function(t){return t.parentId===e}))||[],o=R()(r).call(r,(function(t){return t.id}));return P()(n=[]).call(n,(0,bn.c)(t),(0,bn.c)(o))}),[]);return[(0,Z.createUpdateAction)(Tt),(0,Z.createDeleteAction)(Pt)]}return Vn()(l).call(l,(function(t){return xd(t)}))&&W()(l).call(l,(function(t){var e=t.subGridId,n=t.tableTailId;n&&s.push((0,Z.createDeleteAction)(n)),e&&e.length>0&&s.push((0,Z.createDeleteAction)(e))})),Vn()(l).call(l,(function(t){return Ed(t)}))&&W()(l).call(l,(function(t){var e=t.tableTailId;e&&s.push((0,Z.createDeleteAction)(e))})),Vn()(l).call(l,(function(t){return Fd(t)}))&&W()(l).call(l,(function(t){var e=t.parentGridId;e&&!kn()(c).call(c,e)&&s.push((0,Z.createUpdateAction)([[e,{hasTableTail:"",tableTailId:""}]]))})),Vn()(l).call(l,(function(t){return wd(t)}))&&W()(l).call(l,(function(t){var e,n=t.parentGridId;n&&!kn()(c).call(c,n)&&s.push((0,Z.createUpdateAction)([[n,{subGridId:F()(e=i.findControl(n).subGridId).call(e,(function(e){return e!==t.id}))}]]))})),P()(r=[o]).call(r,s)}function Dp(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ap(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Dp(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Dp(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Ip=function(t,e,n){var r=t.globalConfig,i=t.dataContext,o=t.selectionContext,a=t.action,u=t.dataFactory,c=t.modelFactory,l=a.value;if(l.length){var s=(0,M.c)(l,2),f=s[0],d=s[1],h=i.findControl(f),p=i.getRootId(),v=i.findControl(p),g=v.width-v.marginLeft-v.marginRight,m=i.findControl(f);if(Ed(m)&&"switchDataSource"===(null==d?void 0:d.methodName)){var y,b=d.dataSource,C=d.dataSourceText,x=d.dsType,w=[[f,{dataSource:b,dataSourceText:C,dsType:x,tableTailId:""}]],E=i.findControlByCondition((function(t){return t.parentId===f&&"LayoutCell"===t.type})),S=h.tableTailId,k=R()(E).call(E,(function(t){return t.id}));return P()(y=[(0,Z.createDeleteAction)(S)]).call(y,(0,bn.c)(kp({dataContext:i,selectionContext:o,action:{type:Z.ActionType.DELETE,value:k},globalConfig:r})),(0,bn.c)(pp({dataContext:i,selectionContext:o,action:{type:Z.ActionType.UPDATE,value:w},globalConfig:r})))}if((xd(h)||wd(h))&&"dataSource"in d){var D,A,I,T,B=h.x,F=h.y,L=h.width,_=h.type,N=h.parentGridId,O=h.subGridDirection,j=h.subGridId,G={type:_,parentId:p},z=d.dataSource,U=Hh(u,c),W=(null===(D=z[0])||void 0===D?void 0:D.bindText)||"";W=W?W.replace(/(\S+)\.(\S+)(\.\S+)$/g,"$2"):"";var Q={parentGridId:N,subGridDirection:O},J=null!=j&&j.length?{subGridId:j}:{},H=Ap(Ap({dataSource:(null===(A=z[0])||void 0===A?void 0:A.dataSource)||"",dataSourceText:W,width:"DataGrid"!==_||null!=j&&j.length?L:g},"DataGrid"===_?J:{}),"SubDataGrid"===_?Q:{}),V=U((0,ot.c)({},G,{cellData:z,transferData:H}));V[0].x=B,V[0].y=F;var K=xd(h)?R()(I=V[0].subGridId||[]).call(I,(function(t){return"bottom"===i.findControl(t).subGridDirection?[t,{parentGridId:V[0].id,y:Vf(V[0].y+V[0].height,1)}]:[t,{parentGridId:V[0].id}]})):[];return P()(T=[(0,Z.createDeleteAction)(f)]).call(T,(0,bn.c)(Cp({dataContext:i,selectionContext:o,action:(0,Z.createAddAction)(V,{isDealPos:!1}),globalConfig:r})),[(0,Z.createUpdateAction)(K)])}return pp({dataContext:i,selectionContext:o,action:{type:Z.ActionType.UPDATE,value:[l]},globalConfig:r})}};var Mp=function(t,e,n,r){for(var i,o=[t.x,t.y].join("-"),a=["DataCell","LayoutCell","DataRow","DataColumn","Header"];null!==(u=r[n])&&void 0!==u&&kn()(u).call(u,o)&&!kn()(a).call(a,t.type);){var u,c,l,s;if(null===(c=r[n])||void 0===c||!kn()(c).call(c,o))break;o=R()(l=o.split("-")).call(l,(function(t){return+t+5})).join("-");var f=R()(s=o.split("-")).call(s,(function(t){return+t})),d=(0,M.c)(f,2),h=d[0],p=d[1];if(e&&n){var v,g=h,m=p,y=!1,b=!1;if(h+t.width>e.width&&(y=!0,g=Math.max(e.width-t.width,0)),p+t.height>e.height&&(b=!0,m=Math.max(e.height-t.height,0)),o=P()(v="".concat(g,"-")).call(v,m),y&&b)break}}var C=R()(i=o.split("-")).call(i,(function(t){return+t})),x=(0,M.c)(C,2),w=x[0],E=x[1];return t.x=w,t.y=E,r[n]=r[n]||[],r[n].push([t.x,t.y].join("-")),t},Tp=["type","value"];function Bp(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Bp(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Bp(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Lp=(0,T.c)((0,T.c)((0,T.c)((0,T.c)({},Z.ActionType.ADD,Cp),Z.ActionType.UPDATE,pp),Z.ActionType.CUSTOMUPDATE,Ip),Z.ActionType.DELETE,kp),Rp=function(t){var e,n=t.action,r=t.dataContext,i=t.selectionContext,o=t.globalConfig,a=t.dataFactory,u=t.modelFactory,c=t.success,l=t.fail,s=(null===(e=o.positionRecordsRef)||void 0===e?void 0:e.current)||{},f=o.dataRef,d=o.keywordMapping,h=function(t){var e=[],n=R()(t).call(t,(function(t){var n=t.type,a=t.value,u=(0,zn.c)(t,Tp),c=(u||{}).isDealPos,l=void 0===c||c;if(n===Z.ActionType.ADD||n===Z.ActionType.PASTE){if(Gn()(a)){if(W()(a).call(a,(function(t){t.key=(0,Z.createUniqueKey)(t.key,t.type,f.current,d),f.current.push(t)})),wd(a[0])){var h,p=Sd(r).width,v=a[0],g=v.parentGridId,m=v.subGridDirection,b=v.id,C=r.findControl(g),x=C.width,w=C.x,E=C.height,S=C.fixedRowAtPage,k=C.fixedRowCount,D=r.findControlByCondition((function(t){return t.parentId===g&&"Detail"===t.rowType}))[0],A=(null==D?void 0:D.rowHeight)*(k-1),I=S?{fixedRowAtPage:!1,height:E-A}:{};if("right"===m&&l&&0===w&&p-x<1){var T,B=pp({dataContext:r,selectionContext:i,globalConfig:o,action:(0,Z.createUpdateAction)([[g,{width:Hf(p/2,1)}]])});null===(T=B[0])||void 0===T||null===(T=T.value)||void 0===T||W()(T).call(T,(function(t){var e=(0,M.c)(t,2),n=e[0],r=e[1];if(n===g){var i=r.width;i&&i!==x&&(a[0].x=i)}})),e.push.apply(e,(0,bn.c)(B))}var F="bottom"===m&&S?[[b,{y:Hf(y-A,1)}]]:[];e.push((0,Z.createUpdateAction)(P()(h=[[g,Fp({subGridId:[b]},I)]]).call(h,F)))}var L=l?R()(a).call(a,(function(t){var e=t.parentId;return Mp(t,ap(r.findControl(e)),e,s)})):a;return"addField"===(null==u?void 0:u.addType)&&L[1]&&L[0].x+L[0].width+L[1].width<=Sd(r).width&&(L[1].x=L[0].x+L[0].width,L[1].y=L[0].y),(0,Z.createAddAction)(L,u)}a.key=(0,Z.createUniqueKey)(a.key,a.type,f.current,d),f.current.push(a);var _=a.parentId;return(0,Z.createAddAction)(Mp(a,ap(r.findControl(_)),_,s),u)}return t}));c(P()(n).call(n,e))},p=[],v=n.type,g=Lp[v];if(g){var m=g({globalConfig:o,dataContext:r,selectionContext:i,action:n,dataFactory:a,modelFactory:u},h,l);m&&p.push.apply(p,(0,bn.c)(m))}else p.push(n);p.length&&h(p)},_p="kd_print_kdcdc";function Np(t,e){var n=F()(e).call(e,(function(t){return"string"==typeof t[1]}));return n.length?t+"?"+R()(n).call(n,(function(t){var e;return P()(e="".concat(t[0],"=")).call(e,t[1])})).join("&"):t}function Pp(){var t,e,n=window.location.href,r=(e={},(t=n)?(t.replace(/[?&]([^=&#]+)=([^&#]*)/g,(function(t,n,r){return void 0===e[n]&&""!==r&&(e[n]=r),""})),e):e),i=r.accountId,o=r.accountid,a=r.kdcdc,u=i||o||a,c=window.sessionStorage.getItem(_p);return u&&window.sessionStorage.setItem(_p,u),u||c}var Op=["title"];function jp(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=jp(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=jp(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}Q.Collapse.Panel;var zp=(0,H.memo)((function(t){var e=t.meta,n=void 0===e?[]:e,r=(0,H.useState)(!1),i=(0,M.c)(r,2),o=i[0],a=i[1],u=(0,H.useState)(!0),c=(0,M.c)(u,2),l=c[0],s=c[1],f=(0,H.useContext)(Z.DataContext),d=(0,H.useContext)(Z.SelectionContext),h=(0,H.useContext)(gn),p=h.setMessage,v=h.definition,g=void 0===v?{}:v,y=h.prefixCls,b="".concat(y,"-left-view"),C=(0,H.useState)(!1),x=(0,M.c)(C,2),w=(x[0],x[1],(0,H.useContext)(Z.GlobalConfigContext)),E=w.handleOpenCustomDsModal,S=w.handleOpenRefDsModal,k=w.keywordMapping,D=f.getRootId(),A=(f.findControl(D).language,qf(f)),I=(0,H.useContext)(Z.DataFactoryContext),T=I.dataFactory,B=I.modelFactory,F=I.controlMetaInfo,L=(0,Z.useActivedSelectedId)({dataContext:f,selectionContext:d}).activedSelectId,R=Bn({dataContext:f,selectionContext:d,meta:n,activedSelectId:L,modelFactory:B}),_=T,N=(0,H.useMemo)((function(){var t,e;return"SubDataGrid"===(null===(t=f.findControl(null===(e=f.findControl(L))||void 0===e?void 0:e.parentId))||void 0===t?void 0:t.type)?{isContainer:!1,accept:""}:(0,Z.getControlIsContainer)(F,f.findControl(L),k)}),[L,F]),O=N.isContainer,G=N.accept,z=(0,H.useState)(0)[1];(0,H.useEffect)((function(){var t=f.addDataChangeListener((function(t){t.type;z((function(t){return t+1}))}));return function(){t&&t()}}),[]);return Z.console.log("renderView DataSourceView"),V().createElement("div",{className:Qn()(b,"".concat(b,"-datasource"))},V().createElement("div",{className:Qn()("".concat(b,"-datasource-header"))},V().createElement("div",{className:Qn()("".concat(b,"-datasource-action"),{hide:A})},V().createElement("div",{onClick:S},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"guanlian"}),V().createElement("span",null,(0,Z.getLangMsg)("printd.grid.key0099"))),V().createElement("div",{onClick:E},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"tianjia"}),V().createElement("span",null,(0,Z.getLangMsg)("printd.grid.key0100")))),V().createElement(Gr,{draggable:!0,scrollToKey:R,meta:n,definition:g,onSelect:function(t,e,n){var r,i;Z.console.log("dataSourceView--------",e);var o=f.getRootId(),a=(f.findControl(o).height,Y().last(P()(r=[o]).call(r,(0,bn.c)(d.getSelection())))),u=f.findControl(a),c=e.type,s=void 0===c?"Text":c,h=e.Items,v=e.InitAttr,y=void 0===v?{}:v,b=e.isDataGridDs;e.dsType,e.isSubDataGridDs;if(!h){var C=nr(e,g),x=C.title,w=(0,zn.c)(C,Op),E=(0,ot.c)({},j()(i=m()(y)).call(i,(function(t,e){return t[Y().camelCase(e)]=y[e],t}),{}),w);if(u){var S=u.type,k=u.parentId,D=u.id,A=(u.cellType,or(f,D,"CardGrid"));if(A){var I=wr(A,g);if(!Sr(I,null==C?void 0:C.dataSource))return p((0,Z.getLangMsg)("printd.grid.key0095"))}if("Text"===S){var M=f.findControl(k),T=M.type,B=M.cellType,F=M.parentId;if("DataCell"===T&&"Detail"===B){var L,R=f.findControl(F),N=R.type,z=R.dataSource,U=["Entry","ReportEntry","Subentry","Workflow","Report","Approveline","Sys"],W=kn()(L=["=getGroupRowNumber()","=getRowNumber()"]).call(L,E.bindField),Q=z&&(E.dataSource===z||!kn()(U).call(U,E.dsType));if("DataGrid"===N&&!(W||Q||!z&&b))return p((0,Z.getLangMsg)("printd.grid.key0037"))}return f.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[a,Gp(Gp({},E),{},{viewText:"=$".concat(x)})]]))}if("DataCell"===S)return Xh(e,u,f,{initAttr:E,title:x},p,g);if("LayoutCell"===S)return Yh(D,f,Gp(Gp({},E),{},{viewText:"=$".concat(x)}))}if("Text"===s){var J=_({type:s,parentId:O?a:o,transferData:{bindText:x}}),H=l?{x:(+J.x||0)+(+J.width||0)}:{},V=_({type:s,parentId:O?a:o,transferData:(0,ot.c)({},E,Gp(Gp({},H),{},{viewText:"=$".concat(x)}))}),K=l?[J,V]:[V];f.addControl((0,Z.createAddAction)(K,{addType:"addField"})).then((function(){d.setSelect(l?[J.id,V.id]:[V.id])}))}else{if(s===hn.richText&&O&&G&&!kn()(G).call(G,s))return;var q=_({type:s,parentId:O?a:o,transferData:E});f.addControl((0,Z.createAddAction)(q)).then((function(){d.setSelect([q.id])}))}}},showDefinitionId:o,showDataSourceTitle:l})),V().createElement("div",{className:"".concat(b,"-datasource-checkbox")},V().createElement(Q.Checkbox,{checked:o,onChange:function(t){var e=!!t.target.checked;a(e)}},(0,Z.getLangMsg)("printd.grid.key0101")),V().createElement(Q.Checkbox,{checked:l,onChange:function(t){var e=!!t.target.checked;s(e)}},(0,Z.getLangMsg)("printd.grid.key0102"),V().createElement(Q.Tooltip,{placement:"right",tip:(0,Z.getLangMsg)("printd.grid.key0103"),style:{marginLeft:"5px"}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"tishixinxi"})))))}));zp.getTabName=function(){return(0,Z.getLangMsg)("printd.grid.key0111")},zp.tabKey="dataSource";var Up=zp;function Wp(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Wp(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Wp(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Zp=Q.Collapse.Panel,Jp=function(t){var e=t.Categories,n=t.Controls;return R()(e).call(e,(function(t){var e=t.Id,r=F()(n).call(n,(function(t){return t.CategoryId===e}));return Qp(Qp({},t),{},{Controls:r})}))},Hp=function(t){var e=t.Id,n=(t.Name,t.createControlData),r=t.className,i=t.getOutlineItemIcon,o=t.activedSelectId,a=t.isContainer,u=t.env,c=t.Tips,l=t.Visible,s=void 0===l||l,f=(0,H.useState)(!1),d=(0,M.c)(f,2),h=d[0],p=d[1],v=(0,H.useContext)(Z.DataContext),g=(0,H.useContext)(Z.SelectionContext),m=v.getRootId(),y=(0,H.useCallback)((function(){var t=n({type:e,parentId:a?o:m});v.addControl((0,Z.createAddAction)(t)).then((function(t){var e=t[0].value;g.setSelect(Gn()(e)?[e[0].id]:[e.id])}))}),[e,o]),b=(0,H.useCallback)((function(e){var n={type:"control",data:t};u[Z.CONTROL_DRAG_DATA]=n,p(!1)}),[t]),C=(0,H.useCallback)((function(t){p(t)}),[]);return s?V().createElement("div",{className:"".concat(r,"-control")},c?V().createElement(Q.Tooltip,{placement:"right",tip:c||"",visible:h,onVisibleChange:C},V().createElement("div",{className:"".concat(r,"-control-content"),draggable:!0,onDragStart:b,onClick:y},i(e),V().createElement("span",{title:t.Name},t.Name))):V().createElement("div",{className:"".concat(r,"-control-content"),draggable:!0,onDragStart:b,onClick:y},i(e),V().createElement("span",{title:t.Name},t.Name))):null},Vp=function(t){var e=t.meta,n=void 0===e?[]:e,r=(0,H.useContext)(Z.ConfigContext).getPrefixCls,i=(0,H.useContext)(gn).prefixCls,o=(0,H.useRef)(null),a=(0,H.useState)(""),u=(0,M.c)(a,2),c=u[0],l=u[1],s=(0,H.useState)((function(){return Jp(n)})),f=(0,M.c)(s,2),d=f[0],h=f[1],p=(0,H.useState)(d),v=(0,M.c)(p,2),g=v[0],y=v[1],b=(0,H.useContext)(Z.DataContext),C=(0,H.useContext)(Z.SelectionContext),x=(0,Z.useActivedSelectedId)({dataContext:b,selectionContext:C}).activedSelectId,w=(0,H.useContext)(Z.GlobalConfigContext),E=w.getOutlineItemIcon,S=w.enableSearch,k=w.env,D=w.keywordMapping,A=r(i,"left-view"),I=(0,H.useContext)(Z.DataFactoryContext),T=I.dataFactory,B=I.controlMetaInfo,L={getOutlineItemIcon:E,createControlData:T},N=(0,H.useMemo)((function(){var t,e,n;if("SubDataGrid"===(null===(t=b.findControl(null===(e=b.findControl(x))||void 0===e?void 0:e.parentId))||void 0===t?void 0:t.type))return{isContainer:!1,accept:""};var r=b.findControl(x);return kn()(n=m()(B)).call(n,r.type)?(0,Z.getControlIsContainer)(B,r,D):{isContainer:!1,accept:""}}),[x]),P=N.isContainer,O=N.accept,j=(0,H.useMemo)((function(){return!!O&&!g.length}),[O,g]),G=(0,H.useMemo)((function(){var t;return c?F()(t=R()(g).call(g,(function(t){var e;if("HiddenControl"===t.Id)return null;var n=F()(e=t.Controls).call(e,(function(t){var e;return-1!==xn()(e=t.Name).call(e,c)}));return 0===n.length?null:Qp(Qp({},t),{},{Controls:n})}))).call(t,Boolean):g}),[c,g]);(0,H.useEffect)((function(){h((function(){return Jp(n)}))}),[n]),(0,H.useEffect)((function(){y((function(){var t;if(!O)return d;var e=F()(t=R()(d).call(d,(function(t){var e;if("HiddenControl"===t.Id)return null;var n=F()(e=t.Controls).call(e,(function(t){return kn()(O).call(O,t.Id)}));return 0===n.length?null:Qp(Qp({},t),{},{Controls:n})}))).call(t,Boolean);return e}))}),[O,d]);var z=(0,H.useCallback)((function(){var t,e=null===(t=o.current)||void 0===t?void 0:t.value;l(e)}),[n,g]);return j?V().createElement("div",{className:"".concat(A,"-props-empty")},V().createElement("img",{className:"".concat(A,"-props-empty-img"),src:Fn,width:"168",height:"96",alt:(0,Z.getLangMsg)("printd.grid.key0104")}),V().createElement("div",{className:"".concat(A,"-props-empty-desc")},(0,Z.getLangMsg)("printd.grid.key0002"))):V().createElement("div",{className:"".concat(A,"-control-tabs")},S&&V().createElement("div",{className:"".concat(A,"-control-search")},V().createElement(Q.Input,{className:"".concat(A,"-control-search-input"),ref:o,placeholder:(0,Z.getLangMsg)("printd.grid.key0097"),borderType:"bordered",onChange:_.debounce(z,250),allowClear:!0,suffix:V().createElement("div",{onClick:z},V().createElement(Q.Icon,{type:"search"}))})),R()(G).call(G,(function(t){var e;return"HiddenControl"===t.Id?null:V().createElement(Q.Collapse,{animatable:!1,name:"Collapse",key:t.Id,defaultActiveKey:t.Id,expandIconPosition:"right",className:"".concat(A,"-collapse")},V().createElement(Zp,{header:t.Name,panelKey:t.Id},V().createElement("div",{className:"".concat(A,"-pane")},R()(e=(null==t?void 0:t.Controls)||[]).call(e,(function(t){return V().createElement(Hp,(0,ot.c)({key:t.Id},t,L,{className:A,activedSelectId:x,isContainer:P,env:k}))})))))})))},Kp=(0,H.memo)((function(t){var e=(0,H.useContext)(xf).getPrefixCls,n=(0,H.useContext)(gn).prefixCls,r=(0,H.useContext)(Z.DataContext),i=(e(n,"left-view"),r.getRootId()),o=(r.findControl(i).language,(0,H.useState)(0)[1]);return(0,H.useEffect)((function(){var t=r.addDataChangeListener((function(t){t.type;o((function(t){return t+1}))}));return function(){t&&t()}}),[]),V().createElement(Vp,t)}));Kp.tabKey="ControlView",Kp.getTabName=function(){return(0,Z.getLangMsg)("printd.grid.key0106")};var Yp=Kp,qp=n(2480);function Xp(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $p(t,e){var n,r=null!==(n=null==t?void 0:t.current)&&void 0!==n?n:t;if(!r)return null;var i=e||{x:0,y:0},o=i.x,a=i.y,u={x:r.x()-o,y:r.y()-a,height:r.height(),width:r.width()},c=u.x,l=u.y,s=u.height,f=u.width;return Yf({x:Math.max(c,0),y:Math.max(l,0),left:Math.max(c,0),top:Math.max(l,0),width:f,height:s,right:c+f,bottom:l+s})}function tv(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},r=n.x,i=n.y,o=null!==(e=null==t?void 0:t.current)&&void 0!==e?e:t;if(!o)return null;var a=o.height(),u=o.width(),c=function(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Xp(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Xp(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}({},o.getAbsolutePosition()),l=c.x,s=c.y;return Yf({x:Math.max(l-r,0),y:Math.max(s-i,0),left:Math.max(l-r,0),top:Math.max(s-i,0),width:u,height:a,right:l-r+u,bottom:s-i+a})}var ev=function(t,e){var n=t.target;if((null==n?void 0:n.id())!==e)return!0},nv=function(t){var e=t.id,n=t.shapeRef,r=t.refLineRef,i=t.onDragStart,o=t.onDragMove,a=t.onDragEnd,u=t.parentId,c=t.context,l=t.scale,s=void 0===l?1:l,f=!1,d=(0,H.useRef)({}),h=(0,H.useRef)({}),p=(0,H.useRef)([]),v=function(t){var e=c.stageRef,r=c.rootControlRef,i=(c.rootId,c.selectionContext,e.current),o=r.current,a=i.findOne("#".concat(u)),l=$p(n),s=(l.width,l.height,h.current),f=s.topDis,d=s.bottomDis,p=s.leftDis,v=s.rightDis,g=Hf(o.width(),1),m=Hf(o.height(),1),y=Yf(tv(a||o)),b=y.x,C=void 0===b?0:b,x=y.y,w=void 0===x?0:x,E=y.right,S=void 0===E?g:E,k=y.bottom,D=void 0===k?m:k,A=t.x,I=t.y;return Z.console.log("xxx",A,I,{topDis:f,bottomDis:d,leftDis:p,rightDis:v},$p(a)),p+v>g||d+f>m?(A-p<C&&(Z.console.log("dragBoundFunc x",A),A=C+p,Z.console.log("dragBoundFunc x",A,p,C)),I-f<w&&(Z.console.log("dragBoundFunc y",I),I=w+f,Z.console.log("dragBoundFunc y",I,f,w)),{x:A,y:I}):(A-p<C&&(Z.console.log("dragBoundFunc x",A),A=C+p,Z.console.log("dragBoundFunc x",A,p,C)),A+v>S&&(Z.console.log("dragBoundFunc x1",A),A=S-v,Z.console.log("dragBoundFunc x1",A,v,S)),I-f<w&&(Z.console.log("dragBoundFunc y",I),I=w+f,Z.console.log("dragBoundFunc y",I,f,w)),I+d>D&&(Z.console.log("dragBoundFunc y1",I),I=D-d,Z.console.log("dragBoundFunc y1",I,D,d)),{x:A,y:I})};return{dragBoundFunc:v,onDragStart:function(t){var r;if(!ev(t,e)){var o=t.target,a=c.stageRef,u=c.selectionContext,l=c.dataContext,s=(c.dragGroupRef,o.attrs),f=s.x,v=s.y,g=o.getAbsolutePosition(),y=g.x,b=g.y,C=u.getSelection(),x=(0,bn.c)(C),w=function(t){if(xd(t)||Ed(t)){var e=t.subGridId,n=t.tableTailId;n&&(x.push(n),p.current.push(n)),null!=e&&e.length&&W()(e).call(e,(function(t){kn()(C).call(C,t)||(x.push(t),p.current.push(t))}))}if(wd(t)){var r=t.parentGridId;r&&(kn()(C).call(C,r)||(x.push(r),p.current.push(r)))}if(Fd(t)){var i=t.parentGridId;x.push(i),p.current.push(i)}};w(l.findControl(e)),W()(C).call(C,(function(t){var e=l.findControl(t);w(e)}));var E=F()(r=R()(x).call(x,(function(t){var e=a.current.findOne("#".concat(t));return(null==e?void 0:e.draggable())&&e}))).call(r,Boolean),S=F()(E).call(E,(function(e){return e!==t.target}));Z.console.log("onDragStart",S),a.current.dragStartMousePos=a.current.getPointerPosition();var k=j()(S).call(S,(function(t,e){var n=e.attrs,r=n.id,i=(n.x,n.y,n.draggable),o=e.getAbsolutePosition(),a=o.x,u=o.y;return i?(t[r]={xDis:y-a,yDis:b-u},t):t}),{});d.current=k;var D=j()(E).call(E,(function(t,e){var n=e.attrs,r=n.x,i=n.y,o=n.width,a=i,u=i+n.height,c=r,l=r+o;if(m()(t).length){var s=t,f=s.top,d=s.bottom,h=s.left,p=s.right;t={top:a<f?a:f,bottom:u>d?u:d,left:c<h?c:h,right:l>p?l:p}}else t={top:a,bottom:u,left:c,right:l};return t}),{});h.current={topDis:v-D.top,bottomDis:D.bottom-v,leftDis:f-D.left,rightDis:D.right-f};var A=$p(n);i&&i(A,t)}},onDragEnd:function(t){if(!ev(t,e)){var i=t.target.attrs,o=i.x,u=i.y,l=(c.dataContext,c.selectionContext,c.controlGroupRef,c.stageRef,(r.current||{}).hideRefLines),v=$p(n);if(l&&l(),Y().isEmpty(d.current))a&&a(v,t);else{var g,y,b=F()(g=R()(y=m()(d.current)).call(y,(function(t){var e,n=d.current[t],r=n.xDis,i=n.yDis;if(!kn()(e=p.current).call(e,t))return[t,{x:Zf(o-r,s),y:Zf(u-i,s)}]}))).call(g,Boolean);a&&a(v,t,b)}d.current={},h.current={},p.current=[],f&&(f=!1,window.requestIdleCallback?window.requestIdleCallback((function(){document.body.style.cursor="default"}),{timeout:30}):ut()((function(){document.body.style.cursor="default"}),30))}},onDragMove:function(t){var r;if(!ev(t,e)){var i=t.target,a=c.stageRef,u=(c.selectionContext,c.getRedundancyXY),l=(c.rootControlRef,(c.rulerRef.current||{}).operateLine),s=o&&o(t,E,v),h=i.getAbsolutePosition(),p=h.x,g=h.y,y=(0,ot.c)({},s||{}),b=y.x,C=y.y,x=Y().isUndefined(b)?p:b,w=Y().isUndefined(C)?g:C;W()(r=m()(d.current)).call(r,(function(t){var e,n=d.current[t],r=n.xDis,i=n.yDis,o=a.current.findOne("#".concat(t));o.draggable()&&(o.setAbsolutePosition({x:x-r,y:w-i}),null===(e=a.current.findOne("#transformer_".concat(t)))||void 0===e||e.forceUpdate())})),f||(f=!0,window.requestIdleCallback?window.requestIdleCallback((function(){document.body.style.cursor="move"}),{timeout:30}):ut()((function(){document.body.style.cursor="move"}),30));var E=tv(n,u());l&&l((0,ot.c)(E,{top:E.y,left:E.x}))}}}};function rv(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function iv(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=rv(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=rv(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}function ov(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null!==(e=t.current)&&void 0!==e?e:t,o=null==i?void 0:i.scaleX(),a=null==i?void 0:i.scaleY(),u=iv(iv({},n?i.getAbsolutePosition():{x:Math.max(i.x()+i.getParent().x(),0),y:Math.max(i.y()+i.getParent().y(),0)}),{},{width:i.width()*o,height:i.height()*a}),c=u.height,l=u.width,s=u.x,f=u.y;return r&&(i.scaleX(1),i.scaleY(1),i.x(0),i.y(0),Z.console.log(i)),{x:Math.max(s,0),y:Math.max(f,0),width:l,height:c,right:s+l,bottom:f+c,scaleX:o,scaleY:a}}var av=function(t){var e=t.shapeRef,n=t.refLineRef,r=t.onTransform,i=t.onTransformEnd,o=t.context;t.id;return{onTransform:function(t){(n.current||{}).searchRefLines;var i=(o.rulerRef.current||{}).operateLine,a=(0,o.getRedundancyXY)(),u=a.x,c=a.y,l=ov(e,!0),s=(l.scaleX,l.scaleY,l.x,l.y,l.width,l.height,l.x-u),f=l.y-c;i&&i((0,ot.c)(l,{top:f,left:s,x:s,y:f})),r&&r(l,t)},onTransformEnd:function(t){var r=(n.current||{}).hideRefLines,a=(o.getRedundancyXY,o.marginLeft,o.marginTop,0),u=0,c=ov(e,!1,!0),l=c.scaleX,s=c.scaleY,f=c.x,d=c.y,h=c.width,p=c.height;Z.console.log("onTransformEnd",{x:Math.max(f,0),y:Math.max(d,0),width:h,height:p,right:f+h,bottom:d+p,scaleX:l,scaleY:s},t);var v=c.x-a,g=c.y-u;i&&i((0,ot.c)(c,{top:g,left:v,x:v,y:g}),t),r&&r()}}},uv=function(t){t.isSelected,t.refs,t.pixelRatio,t.scale,t.currentProp},cv=function(t){return function(e,n){var r;Gn()(e.current)?W()(r=e.current).call(r,(function(e){return e[t]&&e[t](n)})):e.current&&e.current[t](n)}},lv=cv("strokeEnabled"),sv=cv("stroke"),fv=function(t){var e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Gn()(t.current)?o?null===(e=t.current[0])||void 0===e||null===(e=e.getLayer())||void 0===e||e.batchDraw():W()(n=t.current).call(n,(function(t){return null==t?void 0:t.draw()})):o?null===(r=t.current)||void 0===r||r.getLayer().batchDraw():null===(i=t.current)||void 0===i||i.draw()},dv=function(t){var e=t.shapeRef,n=t.isSelected,r=t.shapeRefStroke,i=void 0===r?ie:r,o=t.controlStrokeRef,a=t.strokeEnabled,u=!1,c=(0,H.useCallback)((function(){var t;n||(null===(t=o.current)||void 0===t||t.mouseEnter(oe),!a&&lv(e,!a),sv(e,oe),fv(e,!0),Z.console.log("DEFAULT_HOVER_BORDER_COLOR",oe,e),Z.console.log("DEFAULT_HOVER_BORDER_COLOR",e.current.stroke()));return!0}),[n,i,a,u]),l=(0,H.useCallback)((function(){var t,r;n||(!a&&lv(e,a),null===(t=o.current)||void 0===t||t.mouseLeave(),sv(e,""),i&&sv(e,i),Z.console.log("onMouseOut",e,i,null===(r=e.current)||void 0===r?void 0:r.stroke()),fv(e,!0));return!0}),[n,i,a,u]);return(0,H.useEffect)((function(){var t;i&&(lv(e,a),null===(t=o.current)||void 0===t||t.mouseLeave(),sv(e,i),fv(e,!0))}),[n,i,a,u]),{onMouseOut:l,onMouseOver:c}},hv=function(t){var e=t.shapeRef,n=t.isNotNeed;(0,H.useEffect)((function(){var t=function(t){var n,r;(Z.console.log("e.ctrlKe shapeRef.current?.stopDrag()"),null!==(n=e.current)&&void 0!==n&&n.isDragging())&&(null===(r=e.current)||void 0===r||r.stopDrag())};return!n&&document.addEventListener("keydown",t),function(){!n&&document.removeEventListener("keydown",t)}}),[n])},pv=function(t){var e=t.id,n=t.refLineRef;return(0,H.useCallback)((function(t,r,i){var o=(n.current||{}).searchRefLines,a=o&&o(e);if(a&&!Y().isEmpty(a)){var u=a.selectedNode,c=a.x,l=a.y,s=a.refX,f=a.refY,d=i({x:Y().isUndefined(s)?c:s,y:Y().isUndefined(f)?l:f}),h=d.x,p=d.y;return u.absolutePosition({x:h,y:p}),{x:h,y:p}}}),[])},vv=n(89280),gv=n(40900),mv=n.n(gv);function yv(t,e,n){return e=(0,Hu.c)(e),(0,Ju.c)(t,bv()?Zu()(e,n||[],(0,Hu.c)(t).constructor):e.apply(t,n))}function bv(){try{var t=!Boolean.prototype.valueOf.call(Zu()(Boolean,[],(function(){})))}catch(t){}return(bv=function(){return!!t})()}var Cv=function(t){return"".concat(t).replace("#","")},xv=function(t){function e(t){var n,r,i,o,a,u;return(0,Yu.c)(this,e),(u=yv(this,e,[t])).state={color:Cv(t.color),alpha:t.alpha,isCheck:!1},u.clickFunc=An()(n=u.clickFunc).call(n,(0,vv.c)(u)),u.changeColorFromItems=An()(r=u.changeColorFromItems).call(r,(0,vv.c)(u)),u.handleKeyDown=An()(i=u.handleKeyDown).call(i,(0,vv.c)(u)),u.handleChangeText=An()(o=u.handleChangeText).call(o,(0,vv.c)(u)),u.handleBlur=An()(a=u.handleBlur).call(a,(0,vv.c)(u)),u}return(0,Vu.c)(e,t),(0,Ku.c)(e,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickFunc)}},{key:"componentWillReceiveProps",value:function(t){this.props.color!==t.color&&this.setState({color:Cv(t.color)})}},{key:"componentDidUpdate",value:function(){this.props.showPanel?document.addEventListener("click",this.clickFunc):document.removeEventListener("click",this.clickFunc)}},{key:"clickFunc",value:function(t){for(var e=t.target;e;){if(e===Hr().findDOMNode(this))return;e=e.parentNode}this.closePanel()}},{key:"createColorItems",value:function(){var t=this;if(this.props.showPanel){var e=Y().flatten(this.props.colors);return R()(Y()).call(Y(),e,(function(e,n){var r={backgroundColor:e="current"===e?t.props.color||"#ffffff":e};return V().createElement("span",{key:n,className:Qn()("colorItem","kd-cq-color-picker-color-block"),title:e,style:r,onClick:function(n){return t.changeColorFromItems({color:e&&(nc()(e).call(e,"#")?En()(e).call(e,1):e),alpha:t.state.alpha})}})}))}return null}},{key:"closePanel",value:function(){this.props.onClosePanel()}},{key:"changeColorFromItems",value:function(t){var e=t.color,n=t.alpha;this.state.isCheck||this.changeColor({color:e,alpha:n})}},{key:"changeColor",value:function(t){var e=this,n=t.color,r=t.alpha;this.setState({color:n,alpha:r},(function(){n.match(/^([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/)?e.props.onChange({color:"#"+n,alpha:r}):/^themeColor/.test(n)&&e.props.onChange({color:n,alpha:r})}))}},{key:"handleChangeText",value:function(t){var e=t.target.value;this.setState({color:e,alpha:this.state.alpha})}},{key:"handleChangeAlpha",value:function(t){var e=this.state.color,n=t.target.value;n<0||n>100||this.changeColor({color:e,alpha:n})}},{key:"handleKeyDown",value:function(t){13===t.keyCode&&this.changeColorFromItems({color:this.state.color,alpha:this.state.alpha})}},{key:"handleBlur",value:function(t){this.changeColorFromItems({color:this.state.color,alpha:this.state.alpha})}},{key:"render",value:function(){var t,e,n=this.props,r=(n.color,n.alpha),i=(n.defaultColor,n.poperContainer);this.state.isCheck;var o=null==i?void 0:i.current,a=null!==(t=null==i||null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect())&&void 0!==t?t:{},u=a.left,c=void 0===u?0:u,l=a.top,s=void 0===l?0:l;return o?Hr().createPortal(V().createElement("div",{ref:this.props.colorPickerRef,className:"colorPicker",style:{position:"absolute",top:s-77+39,left:c,zIndex:1050}},this.props.showPanel?V().createElement("div",{className:Qn()("colorPanel","kd-cq-color-picker kd-cq-printd-color-picker")},V().createElement("div",{className:"colors"},this.createColorItems(),V().createElement("div",{className:"footer"},V().createElement("div",{className:Qn()("colorInfo","kd-cq-color-picker-color-block"),style:{backgroundColor:"#".concat(this.state.color)}}),V().createElement("span",{className:"text"},(0,Z.getLangMsg)("printd.grid.key0015")),V().createElement("div",{className:"customColorInput"},V().createElement("span",{className:"punctuation"},"#"),V().createElement("input",{placeholder:(0,Z.getLangMsg)("printd.grid.key0016"),value:this.state.color,onChange:this.handleChangeText,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur}))))):null),document.body):V().createElement("div",{className:"colorPicker"},this.props.showPanel?V().createElement("div",{className:Qn()("colorPanel","kd-cq-color-picker kd-cq-printd-color-picker")},V().createElement("div",{className:"colors"},this.createColorItems(),V().createElement("div",{className:"footer"},V().createElement("div",{className:Qn()("colorInfo","kd-cq-color-picker-color-block"),style:{backgroundColor:"#".concat(this.state.color)}}),V().createElement("span",{className:"text"},(0,Z.getLangMsg)("printd.grid.key0015")," "),V().createElement("div",{className:"customColorInput"},V().createElement("span",{className:"punctuation"},"#"),V().createElement("input",{placeholder:(0,Z.getLangMsg)("printd.grid.key0016"),value:this.state.color,onChange:this.handleChangeText,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur}))))):null)}}]),e}(V().Component);xv.propTypes={color:mv().string,alpha:mv().number,defaultColor:mv().string,onChange:mv().func},xv.defaultProps={colors:[["#45cdff","#3dccc0","#40bd6e","#99d92b","#ffd52e","#ffb44a","#ff854d","#ff5257","#ff3b72","#9a4dff","#3987ed","#5797ff"],["#16b0f1","#16b8b1","#1ba854","#77c404","#fdc200","#ff991c","#ff5f1f","#fb2323","#f90d58","#701df0","#0e5fd8","#276ff5"],["#ffffff","#fafafa","#f5f5f5","#f2f2f2","#e5e5e5","#d9d9d9","#cccccc","#999999","#666666","#404040","#212121","#000000"]],alpha:100,color:"#ffffff",defaultColor:"#ffffff"};var wv=xv,Ev=function(t){var e=t.value,n=t.handleChange,r=t.enable,i=t.setColorPickVisible,o=t.setMoreBarVisible,a=(0,H.useState)(null),u=(0,M.c)(a,2),c=u[0],l=u[1],s=(0,H.useState)(on),f=(0,M.c)(s,2),d=f[0],h=(f[1],(0,H.useRef)(null)),p=(0,H.useRef)(null),v=(0,H.useRef)(null);return(0,Z.useOnClickOutside)([h,v,p],(function(){})),(0,H.useEffect)((function(){r||(l(!1),i(!1),o(!1))}),[r]),(0,H.useEffect)((function(){r&&c&&i(!0)}),[c,r]),V().createElement(V().Fragment,null,V().createElement("svg",{ref:h,className:Qn()(["navtool-icon",{"editor-panel-visible":c}]),width:"200",height:"200",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",onClick:function(){l(!1)}},V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0014")),V().createElement("g",{id:"油漆桶",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("g",{id:"编组",transform:"translate(2.810513, 0.777902)"},V().createElement("rect",{id:"矩形备份-3",stroke:"#D9D9D9","stroke-width":"0.5",fill:e,x:"-0.060513479",y:"15.9720982",width:"14.5",height:"2.5",rx:"1"}),V().createElement("path",{d:"M7.35237743,0.219669914 L8.05948421,0.926776695 L8.06299995,0.931 L12.8033719,5.58910098 C13.6474203,6.41866449 13.6988871,7.75029176 12.9455484,8.64490829 L12.82651,8.7757058 L7.52324583,14.07897 C6.68640806,14.9158077 5.35438522,14.9556572 4.47038697,14.1985182 L4.34126532,14.07897 L0.658927543,10.3966322 C-0.177910225,9.55979443 -0.217759275,8.22777195 0.539946158,7.34320727 L0.659583703,7.21399633 L6.45599995,1.445 L6.29171726,1.28033009 C5.99882404,0.987436867 5.99882404,0.512563133 6.29171726,0.219669914 C6.58461048,-0.0732233047 7.05948421,-0.0732233047 7.35237743,0.219669914 Z M12.7772674,11.2000162 C12.8448732,11.2253684 12.8982166,11.2787118 12.9235688,11.3463177 L13.6628014,13.3176044 C13.8643815,13.8551514 13.5920265,14.4543322 13.0544796,14.6559123 C12.9377675,14.6996794 12.8141351,14.7220982 12.6894865,14.7220982 C12.1153861,14.7220982 11.6499858,14.2566979 11.6499858,13.6825975 C11.6499858,13.557949 11.6724047,13.4343165 11.7161717,13.3176044 L12.4554042,11.3463177 C12.5038843,11.2170376 12.6479873,11.1515362 12.7772674,11.2000162 Z M7.52128565,2.50147715 L2.77699995,7.222 L11.9757231,7.22266041 C11.9821309,7.05395544 11.9319029,6.8835921 11.8253092,6.74250292 L11.751965,6.65901613 L7.52128565,2.50147715 Z",id:"形状结合",fill:"#404040"})))),V().createElement(Q.Icon,{ref:v,type:d,className:Qn()(["navtool-icon-arrow",{"editor-panel-visible":c}]),onClick:function(){r&&l(!c)}}),V().createElement(wv,{colorPickerRef:p,poperContainer:h,showPanel:c&&r,color:e,onClosePanel:function(){l(!1)},onChange:function(t){var r=t.color;e!==r&&n(r)}}))},Sv=function(t){var e=t.value,n=t.handleChange,r=t.enable,i=t.setColorPickVisible,o=t.setMoreBarVisible,a=(0,H.useState)(null),u=(0,M.c)(a,2),c=u[0],l=u[1],s=(0,H.useState)(on),f=(0,M.c)(s,2),d=f[0],h=(f[1],(0,H.useRef)(null)),p=(0,H.useRef)(null),v=(0,H.useRef)(null);return(0,Z.useOnClickOutside)([p,v,h],(function(){})),(0,H.useEffect)((function(){r||(l(!1),i(!1),o(!1))}),[r]),(0,H.useEffect)((function(){r&&c&&i(!0)}),[c,r]),V().createElement(V().Fragment,null,V().createElement("svg",(0,T.c)({ref:p,className:Qn()(["navtool-icon",{"editor-panel-visible":c}]),width:"200",height:"200",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",onClick:function(){}},"onClick",(function(){return l(!1)})),V().createElement("title",null,(0,Z.getLangMsg)("printd.grid.key0017")),V().createElement("g",{id:"文字颜色",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},V().createElement("g",{id:"编组",transform:"translate(3.000000, 1.225936)"},V().createElement("path",{d:"M7.10199875,0.000488183945 C7.39408208,-0.0100860974 7.67791213,0.151661551 7.80920279,0.433215284 L7.80920279,0.433215284 L13.7258585,13.1215243 C13.9009127,13.4969293 13.7384963,13.9431646 13.3630913,14.1182188 C12.9876863,14.2932731 12.541451,14.1308567 12.3663968,13.7554517 L12.3663968,13.7554517 L10.2754569,9.274 L3.87745688,9.274 L1.7883667,13.7554517 C1.61331249,14.1308567 1.16707714,14.2932731 0.791672168,14.1182188 C0.416267191,13.9431646 0.253850808,13.4969293 0.428905024,13.1215243 L6.34556069,0.433215284 C6.48061111,0.143598729 6.77706251,-0.0192517453 7.07787471,0.00182180938 Z M7.07645688,2.413 L4.57645688,7.774 L9.57645688,7.774 L7.07645688,2.413 Z",id:"形状结合",fill:"#404040"}),V().createElement("rect",{id:"矩形备份-2",stroke:"#D9D9D9","stroke-width":"0.5",fill:e,x:"-0.25",y:"15.5240643",width:"14.5",height:"2.5",rx:"1"})))),V().createElement(Q.Icon,{ref:v,type:d,className:Qn()(["navtool-icon-arrow",{"editor-panel-visible":c}]),onClick:function(){r&&l(!c)}}),V().createElement(wv,{colorPickerRef:h,poperContainer:p,showPanel:c&&r,color:e,onClosePanel:function(){l(!1)},onChange:function(t){var r=t.color;e!==r&&n(r)}}))},kv="nav-tool-fontsize",Dv=function(t){var e=t.options,n=t.disabled,r=t.className,i=t.value,o=t.onChange,a=t.dropdownStyle,u=void 0===a?{}:a,c=t.bizType,l=(0,H.useRef)(null),s=(0,H.useRef)(null),f=(0,H.useState)(!1),d=(0,M.c)(f,2),h=d[0],p=d[1];(0,Z.useOnClickOutside)([l,s],(function(t){for(var e=t.target;e;){var n;if(e.classList&&kn()(n=Rn()(e.classList)).call(n,"".concat(kv,"-dropdown")))return;e=e.parentNode}p(!1)}));var v=R()(e).call(e,(function(t){var e=t.label,n=t.value;return{key:n,label:e,selected:i===n}})),g=(0,H.useRef)(null);(0,H.useEffect)((function(){var t;null===(t=g.current)||void 0===t||t.focus(),ut()((function(){var t;null===(t=g.current)||void 0===t||t.blur()}))}),[]);var m=(0,H.useState)(i),y=(0,M.c)(m,2),b=y[0],C=y[1];(0,H.useEffect)((function(){C(i)}),[i]);var x=(0,H.useCallback)((function(){g.current.select()}),[]);return V().createElement("div",{ref:l,className:Qn()(kv,r)},V().createElement(Q.Dropdown,{key:"fontsize-dropdown-".concat(i),selectable:!0,defaultKey:i,getTriggerElement:function(){return s.current},popperClassName:"".concat(kv,"-dropdown"),className:"".concat(kv,"-dropdown"),disabled:n,dropdownStyle:u,menu:v,onItemClick:function(t){o(t),p(!1)},visible:h},V().createElement(Q.InputNumber,{ref:g,disabled:n,borderType:"bordered",decimalLength:2,onFocus:x,value:b,onChange:function(t){if("1"!==c){var e=t.target.value;C(e||"")}},onBlur:function(t){var e=t.target.value;o(isNaN(+e)?6:+e)},className:"".concat(kv,"-input"),onPressEnter:function(){}})),V().createElement(Q.Icon,{ref:s,type:on,onClick:function(){p(!h)}}))},Av=n(74741),Iv=n.n(Av);function Mv(){return"Mac68K"==window.navigator.platform||"MacPPC"==window.navigator.platform||"Macintosh"==window.navigator.platform||"MacIntel"==window.navigator.platform}function Tv(t){return Mv()?t.metaKey:t.ctrlKey}var Bv,Fv,Lv;function Rv(t,e){var n,r=t.findControl(e[0]);if(!bd(r)&&(n=r,!kn()(Ce).call(Ce,null==n?void 0:n.type)))return[];for(var i=[r[Me]],o=1;o<e.length;){var a=t.findControl(e[o]);if(kn()(i).call(i,a[Me]))break;i.push(a[Me]),o++}return i}function _v(t,e,n){var r,i,o=n[0],a=n[n.length-1],u=t.findControl(e[0])[Ie],c=null===(r=t.findControl(e[e.length-1]))||void 0===r?void 0:r[Ie],l=function(t,e){u===t[Ie]&&e.firstRowCells.push(t),c===t[Ie]&&e.lastRowCells.push(t),o===t[Me]&&e.firstColCells.push(t),a===t[Me]&&e.lastColCells.push(t)},s={firstRowCells:[],lastRowCells:[],firstColCells:[],lastColCells:[]},f=((null===(i=t.getParentControl)||void 0===i?void 0:i.call(t,o))||{}).mergeConfig;if(function(t){return m()(t||{}).length>0}(f))for(var d=function(t,e){var n=t.findControl(e[0]),r=n[Ie],i=-1,o=t.findControl(r);for(;kn()(me).call(me,null===(a=o)||void 0===a?void 0:a.type);){var a,u;o=null===(u=t.getPrevSibling(o.id))||void 0===u?void 0:u.control,i++}var c=n[Me],l=-1,s=t.findControl(c);for(;kn()(ye).call(ye,null===(f=s)||void 0===f?void 0:f.type);){var f,d;s=null===(d=t.getPrevSibling(s.id))||void 0===d?void 0:d.control,l++}return{rowIndex:i,colIndex:l}}(t,e),h=n.length,p=e.length/h,v=function(t,e,n,r){var i,o=e.rowIndex,a=e.colIndex;return j()(i=m()(t)).call(i,(function(e,i){var u=i.split("_"),c=(0,M.c)(u,2),l=c[0],s=c[1],f=Number(l),d=Number(s);return f>=o&&f<o+n&&d>=a&&d<a+r&&(e[i]=t[i]),e}),{})}(f,d,p,h),g=0,y=0;y<e.length;){for(var b=0;b<h&&y<e.length;){var C,x=t.findControl(e[y]);l(x,s);var w=d.rowIndex,E=d.colIndex,S=v[P()(C="".concat(w+g,"_")).call(C,E+b)];if(S){var k=S.rowLength,D=S.columnLength;g+k===p&&s.lastRowCells.push(x),b+D===h&&s.lastColCells.push(x)}y++,b++}g++}else s=j()(e).call(e,(function(e,n){var r=t.findControl(n);return l(r,e),e}),s);return s}var Nv=["id","parentId"],Pv=["id","parentId"];function Ov(t,e){var n=void 0!==Nn()&&On()(t)||t["@@iterator"];if(!n){if(Gn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return jv(t,e);var r=En()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Rn()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jv(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function jv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gv(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function zv(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Gv(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Gv(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Uv=(0,Z.getLangMsg)("printd.grid.key0049"),Wv=(0,Z.getLangMsg)("printd.grid.key0050"),Qv=(0,Z.getLangMsg)("printd.grid.key0051"),Zv=(0,Z.getLangMsg)("printd.grid.key0052"),Jv=function(t,e,n){var r=Y().cloneDeep(t);return r.parentId=e,r.key=(0,Z.createUniqueKey)(t.key,t.type,n.current),r.id=(0,Z.createUUid)(),r},Hv=function t(e){var n,r,i=e.selectItem,o=e.items,a=e.parentId,u=e.dataRef,c=i.id,l=i.parentId,s=((0,zn.c)(i,Nv),Jv(i,a||l,u)),f=F()(n=R()(o).call(o,(function(t){if(t.parentId===c)return t}))).call(n,Boolean);return P()(r=[s]).call(r,Y().flattenDeep(R()(f).call(f,(function(e){return t({selectItem:e,items:o,parentId:s.id,dataRef:u})}))))},Vv=function(t){var e,n=t.selectItem,r=t.items,i=t.parentId,o=t.dataRef,a=n.id,u=n.parentId,c=((0,zn.c)(n,Pv),Jv(n,i||u,o));c.parentId=i||u,c.subGridId=[];var l=F()(r).call(r,(function(t){return t.parentId===a})),s=cd(l),f=s.cells,d=s.rows,h=s.columns,p=R()(d).call(d,(function(t){return(0,ot.c)({},Y().cloneDeep(t),{id:(0,Z.createUUid)(),key:(0,Z.createUniqueKey)(t.key,t.type,o.current),parentId:c.id})})),v=R()(h).call(h,(function(t){return(0,ot.c)({},Y().cloneDeep(t),{id:(0,Z.createUUid)(),key:(0,Z.createUniqueKey)(t.key,t.type,o.current),parentId:c.id})})),g=R()(f).call(f,(function(t){return(0,ot.c)({},Y().cloneDeep(t),{id:(0,Z.createUUid)(),key:(0,Z.createUniqueKey)(t.key,t.type,o.current),parentId:c.id,rowId:p[ft()(d).call(d,(function(e){return e.id===t.rowId}))].id,columnId:v[ft()(h).call(h,(function(e){return e.id===t.columnId}))].id})})),m=Y().flattenDeep(R()(f).call(f,(function(t,e){var n,i=t.id,a=new(ei()),u=F()(n=R()(r).call(r,(function(t){if(t.parentId===i)return a.set(t,e),t}))).call(n,Boolean);return Y().flattenDeep(R()(u).call(u,(function(t){return Hv({selectItem:t,items:r,dataRef:o,parentId:g[a.get(t)].id})})))})));return P()(e=[c]).call(e,p,v,g,m)},Kv="align-shapes",Yv=P()(Bv=[{name:_t,margin:5},{name:Nt,margin:10},{name:Pt,margin:7}]).call(Bv,(0,bn.c)(R()(Fv=[Ot,jt,Gt]).call(Fv,(function(t){return{name:t,margin:4}}))),(0,bn.c)(R()(Lv=[zt,Ut,Lt,Ft,Rt,Wt]).call(Lv,(function(t){return{name:t,margin:4}}))),[{name:Kv,margin:19}]),qv=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,c,l,s,f,d,h,p,v,g,y,b,C,x,w,E,S=t.meta,k=t.data,D=t.context,A=(t.onChangeProperty,(0,H.useContext)(Z.ConfigContext)),I=A.getPrefixCls,B=A.prefixCls,L=((0,H.useRef)(null),(0,H.useState)(!1)),_=(0,M.c)(L,2),N=_[0],O=_[1],j=(0,H.useState)(!1),G=(0,M.c)(j,2),z=G[0],U=G[1],J=(0,H.useState)(!1),K=(0,M.c)(J,2),q=K[0],X=K[1],$=(0,H.useState)(!1),tt=(0,M.c)($,2),et=tt[0],nt=tt[1],rt=(0,H.useState)(!1),it=(0,M.c)(rt,2),at=it[0],ut=it[1],ct=I(B,"nav-tool"),lt=(0,H.useState)("#000000"),st=(0,M.c)(lt,2),ft=st[0],dt=st[1],ht=(0,H.useState)(un),pt=(0,M.c)(ht,2),vt=pt[0],gt=pt[1],mt=(0,H.useState)(Ne),yt=(0,M.c)(mt,2),bt=yt[0],Ct=yt[1],xt=D.dataContext,wt=D.selectionContext,Et=D.canvasRef,St=D.activedSelectId,kt=D.globalConfig,Dt=D.scaleRef,At=D.asistantBorderRef,It=D.isMultiKeyActiveWhenSelectedRef,Mt=void 0===It?(0,H.useRef)(!1):It,Tt=(0,H.useState)("1"===k.bizType),Bt=(0,M.c)(Tt,2),qt=Bt[0],Xt=Bt[1],$t=(0,H.useState)((function(){return(null==Dt?void 0:Dt.current)||"".concat(100)})),te=(0,M.c)($t,2),ee=te[0],ne=te[1],re=(0,H.useContext)(Z.DataFactoryContext),ie=re.dataFactory,oe=re.modelFactory,ae=Tn(zv(zv({meta:S},D),{},{activedSelectId:St,modelFactory:oe})),ue=ae.modelData,ce=ae.selectItem,se=ae.isRootId,fe=ae.rootId,de=function(t){var e=t.selectionContext,n=t.dataContext,r=t.meta,i=t.globalConfig,o=e.getSelection(),a=o.length>1,u=R()(o).call(o,(function(t){return n.findControl(t)})),c=R()(u).call(u,(function(t){return t.type})),l=(0,H.useMemo)((function(){var t=(0,Z.getCommonProperties)(c)(r,i),e=Iv()(t).call(t,(function(t){return t.Nodes||[]}));return R()(e).call(e,(function(t){return Y().camelCase(t.Id)}))}),[c,r]);return{commonProp:l,multiSelect:a,selection:o}}({selectionContext:wt,dataContext:xt,meta:S,globalConfig:kt}),he=de.commonProp,pe=de.multiSelect,ve=de.selection,ge=R()(ve).call(ve,(function(t){return xt.findControl(t)})),me=Jn()(ue).call(ue,(function(t){return"CommonGroup"===t.Id})),ye=null==me||null===(n=me.Nodes)||void 0===n?void 0:Jn()(n).call(n,(function(t){return"FontName"===t.Id})),be=null==me||null===(r=me.Nodes)||void 0===r?void 0:Jn()(r).call(r,(function(t){return"FontSize"===t.Id})),Ce=(0,H.useContext)(gn).setMessage,xe=wt.getSelection(),we=ce[Wt]||le,Ee=Vd(we),Se=(0,M.c)(Ee,4),ke=Se[0],De=(Se[1],Se[2],Se[3],1===ke.length&&ke[0],Cd(ce)),Ae=(Vn()(i=wt.getSelection()).call(i,(function(t){return bd(xt.findControl(t))})),St!==fe),Ie=Vn()(o=wt.getSelection()).call(o,(function(t){return kn()(en).call(en,xt.findControl(t).type)})),Me=Ae&&oi()(a=wt.getSelection()).call(a,(function(t){return!kn()(tn).call(tn,xt.findControl(t).type)})),Te=Ae&&oi()(u=wt.getSelection()).call(u,(function(t){return!kn()(rn).call(rn,xt.findControl(t).type)})),Be=Ae&&oi()(c=wt.getSelection()).call(c,(function(t){return!kn()(nn).call(nn,xt.findControl(t).type)})),Fe=(0,H.useCallback)((function(t){Z.console.log("scale---change",t),t!==ee&&(ne(t),Dt&&(Dt.current=t),Z.eventBus.emit("scale",+t/100))}),[ee]),Ue=R()(l=[80,100,150,200,300]).call(l,(function(t){return{label:"".concat(t,"%"),value:"".concat(t)}})),We=(0,H.useCallback)((function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.selection,r=e.items,i=Y().flattenDeep(R()(t=n||xe).call(t,(function(t){var e=r?Jn()(r).call(r,(function(e){return e.id===t})):xt.findControl(t);r&&(e.parentId=xt.getRootId());var n=r||xt.getData().items;return Cd(e)?Vv({selectItem:e,items:n,dataRef:kt.dataRef}):Hv({selectItem:e,items:n,dataRef:kt.dataRef})})));return i}),[se,S,xe,ie,kt]),Qe=(0,H.useCallback)((function(t){var e,n,r;t=Gn()(t)?t:F()(e=[t]).call(e,Boolean);var i=R()(n=F()(t).call(t,(function(t){return rp(t)||ip(t)}))).call(n,(function(t){return t.id})),o=R()(r=F()(t).call(t,wd)).call(r,(function(t){return t.id})),a=F()(t).call(t,(function(t){return!(ip(t)||rp(t)||kn()(i).call(i,t.parentId))&&!(wd(t)||Fd(t)||kn()(o).call(o,t.parentId))}));a&&a.length&&xt.addControl((0,Z.createPasteAction)(a)).then((function(){var t,e=R()(a).call(a,(function(t){return t.id}));wt.setSelect(R()(t=F()(a).call(a,(function(t){return!kn()(e).call(e,t.parentId)}))).call(t,(function(t){return t.id})))}))}),[]),Ze=(0,H.useCallback)((function(){if(Me){var t=We();t&&Qe(R()(t).call(t,(function(t){return delete t.tableTailId,t})))}}),[se,xe,S,Me]),Je=(0,H.useCallback)((function(){xt.redo()}),[]),He=(0,H.useCallback)((function(){xt.undo()}),[]),Ve=(0,H.useState)(!1),Ke=(0,M.c)(Ve,2),Ye=Ke[0],qe=Ke[1],Xe=(0,H.useCallback)((function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";null!==(t=Et.current)&&void 0!==t&&null!==(t=t.content)&&void 0!==t&&t.style&&(Et.current.content.style.cursor=e)}),[]);(0,H.useEffect)((function(){return Z.eventBus.on("format-done",(function(){Ye&&(qe(!1),Xe(""),$e.current={})})),function(){Z.eventBus.off("format-done")}}),[Ye]);var $e=(0,H.useRef)({}),on=(0,H.useCallback)((function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!se){if(Ye)return qe(!1),$e.current={},void Xe("");Xe("url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQflBRgDCh1Mv+qbAAABAklEQVQoz3XRPyuFYRzG8c/9PE8pf0rHyEApg3CykeGUt6BMJtlNJpMysRmkjEokbwElg5JkMB0ZSJGSjkN0zm05eNRxrd9v133d/UKJxJAe0W+CqjMvHMowZlNQk0+7LYtiSYaiihlvOVwzZ1KnZzFDohqvw8efhnvD9i05yPCoP2z4zOGoqKzPoIO0l1sfCg3wPbJsxagrpxmerTbAiFktiFrNGrJHciiKohTGTUsFQaJuxwkZRyipUTDgwVrtIs3NSXI/Xzelw246odEaRdmP0KVowaltRcdHTRqCujs3XgVNn/gnv0KU6Nan7c/ZchuenFv2jvPmQsW8EZlbl3nhCwJBSyl0EBnIAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA1LTI0VDAzOjEwOjI5KzAwOjAwjsqiaAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNS0yNFQwMzoxMDoyOSswMDowMP+XGtQAAAAASUVORK5CYII=","),auto")),t?(qe(!0),$e.current.isDoubleClick=!1):(qe(!0),$e.current.isDoubleClick=!0),$e.current.selectItem=ce}}),[se,St,ce,Ye]),an=(0,H.useCallback)((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=t!==Lt||e?e:1,St!==fe)if(pe){var r=R()(ve).call(ve,(function(n){return[n,(0,T.c)({},t,e)]}));xt.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(r,n))}else xt.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[St,(0,T.c)({},t,e)]],n))}),[St,fe,pe,ve,De,ce]),sn=(0,H.useCallback)((function(){var t;if(Te){var e=F()(t=wt.getSelection()).call(t,(function(t){return t!==fe}));e.length&&(xt.deleteControl((0,Z.createDeleteAction)(e)),wt.setSelect([]))}}),[fe,Te]),fn="".concat(ct,"-dropdown-text"),dn={arrow:!1,arrowOffset:0,arrowSize:0,placement:"rightTop",popperClassName:"kds-dropdown"},hn="borderWidth",pn="borderColor",vn="dotted",mn="dashed",yn=(0,H.useState)(!1),Cn=(0,M.c)(yn,2),xn=Cn[0],wn=Cn[1],Sn=(0,H.useState)(!1),Dn=(0,M.c)(Sn,2),An=Dn[0],In=Dn[1],Mn=(Q.Dropdown.Menu,Q.Dropdown.Item,{marginRight:-5}),Bn=(0,H.useState)(1),Fn=(0,M.c)(Bn,2),Ln=Fn[0],Rn=Fn[1];(0,H.useEffect)((function(){Rn(Number(ce[Lt])||1)}),[ce[Lt]]);var _n=function(t){var e,n=V().cloneElement(t,{},(0,bn.c)(R()(e=t.props.children.props.data).call(e,(function(t){return V().cloneElement(t,{},[t.props.children.props.data,V().createElement("div",{className:fn},t.props.children.props.itemTitle)])}))));return V().createElement("div",null,n,V().createElement("div",{className:"customInput"},V().createElement("span",{className:"label"},(0,Z.getLangMsg)("printd.components.key0064")),V().createElement(Q.InputNumber,{decimalLength:2,onChange:function(t){var e=t.target.value;if(!(e<=0&&""!==e))return e>50?Ce((0,Z.getLangMsg)("printd.components.key0065")):void Rn(e)},onBlur:function(){an(Lt,Number(Ln))},value:Ln,borderType:"bordered",max:50,min:1,minMark:"[",onClick:function(t){t.stopPropagation()},onKeyDown:function(t){13===t.keyCode&&an(Lt,Number(Ln))},zeroShow:!1,showDecimalTailZero:!0})))},Nn={style:{},dropdownClassName:"kds-select",dropdownStyle:{minWidth:120},dropdownRender:function(t){var e,n=V().cloneElement(t,{},R()(e=t.props.children.props.data).call(e,(function(t){return[V().cloneElement(t,{},[t.props.children,V().createElement("div",{className:fn},t.props.children.props.itemTitle)])]})));return n}},Pn=(0,H.useCallback)((function(t){return ge.length&&oi()(ge).call(ge,(function(e){return t&&e[t]}))}),[ge]),On=(0,H.useCallback)((function(t,e){var n=(0,bn.c)(new(li())(R()(ge).call(ge,(function(n){return n[t]||e}))));return 1===n.length?n[0]:e}),[ge]),jn=(0,H.useCallback)((function(t,e,n){var r;return Qn()((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},"".concat(ct,"-operation-btn"),!0),P()(r="".concat(ct,"-operation-btn-")).call(r,e),e),"".concat(ct,"-btn-enable"),t),"".concat(ct,"-btn-disable"),!t),"".concat(ct,"-btn-used"),Pn(e)||n))}),[ct,ce,Pn]),zn=(0,H.useCallback)((function(t){return!kn()(he).call(he,t)}),[he]),Un=null!==(s=null==ye||null===(f=ye.Editor)||void 0===f||null===(f=f.Enum)||void 0===f?void 0:R()(f).call(f,(function(t){return{value:t.Value,label:t.Name,isCustom:t.IsCustom}})))&&void 0!==s?s:[{value:"default",label:(0,Z.getLangMsg)("printd.grid.key0127")}],Wn=null!==(d=null==ye||null===(h=ye.Editor)||void 0===h||null===(h=h.Enum)||void 0===h?void 0:R()(p=F()(h).call(h,(function(t){return!!t.IsCustom}))).call(p,(function(t){return{key:t.Value,label:t.Name,isCustom:t.IsCustom}})))&&void 0!==d?d:[],Zn=null!==(v=null==be||null===(g=be.Editor)||void 0===g||null===(g=g.Enum)||void 0===g?void 0:R()(g).call(g,(function(t){return{value:t.Value,label:t.Name}})))&&void 0!==v?v:[{value:"default",label:12}],Hn=(0,H.useState)((function(){return Yv})),Kn=(0,M.c)(Hn,2),Yn=Kn[0],qn=Kn[1],Xn=(0,H.useState)((function(){return[]})),$n=(0,M.c)(Xn,2),tr=$n[0],er=$n[1],nr=function(t,e,n,r){if(pe){var i;if(kn()(i=[_e,Re]).call(i,e)&&!1===Mt.current){var o=Rv(xt,ve);if(o.length){var a,u,c,l,s,f=function(t,e){var n=d(t,e),r=(0,M.c)(n,2),i=r[0],o=r[1];v[i]=o},d=function(e,i){var o,a,u=v[e.id]?v[e.id][Wt]:e[Wt],c=kn()(o=["dashed","dotted"]).call(o,n)?.5:h===_e?2:n,l=kn()(a=["dashed","dotted"]).call(a,n)?n:"solid",s=gd(u,i,t,c,l);return[e.id,(0,T.c)((0,T.c)({scale:ee,changeBorderType:r},Wt,s),"gridBorder",{color:t,type:i,line:n})]},h=e,p=_v(xt,ve,o),v={};return W()(a=p.firstRowCells).call(a,(function(t){return f(t,je)})),W()(u=p.lastRowCells).call(u,(function(t){return f(t,ze)})),W()(c=p.firstColCells).call(c,(function(t){return f(t,Oe)})),W()(l=p.lastColCells).call(l,(function(t){return f(t,Ge)})),void xt.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(s=m()(v)).call(s,(function(t){return[t,v[t]]}))))}}var g=R()(ve).call(ve,(function(i){var o=xt.findControl(i),a=o[Wt],u=Cd(o);e="Line"===o.type?"allBorder":e;var c=vd(a,t,e,n);return[i,(0,T.c)((0,T.c)({scale:ee,changeBorderType:r},Wt,c),"gridBorder",u&&{color:t,type:e,line:n})]}));xt.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(g))}else{e="Line"===ce.type?"allBorder":e;var y=vd(we,t,e,n);xt.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[St,(0,T.c)((0,T.c)({scale:ee,changeBorderType:r},Wt,y),"gridBorder",De&&{color:t,type:e,line:n})]]))}},rr=[{value:Oe,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"zuobiankuang",itemTitle:(0,Z.getLangMsg)("printd.grid.key0055"),title:Qv}),title:(0,Z.getLangMsg)("printd.grid.key0055"),disabled:"Line"===ce.type},{value:Ge,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"youbiankuang",itemTitle:(0,Z.getLangMsg)("printd.grid.key0056"),title:Qv}),title:(0,Z.getLangMsg)("printd.grid.key0056"),disabled:"Line"===ce.type},{value:je,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"shangbiankuang",itemTitle:(0,Z.getLangMsg)("printd.grid.key0057"),title:Qv}),title:(0,Z.getLangMsg)("printd.grid.key0057"),disabled:"Line"===ce.type},{value:ze,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xiabiankuang",itemTitle:(0,Z.getLangMsg)("printd.grid.key0058"),title:Qv}),title:(0,Z.getLangMsg)("printd.grid.key0058"),disabled:"Line"===ce.type},{value:Re,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"waicebiankuang",itemTitle:(0,Z.getLangMsg)("printd.grid.key0059"),title:Qv}),title:(0,Z.getLangMsg)("printd.grid.key0059"),disabled:"Line"===ce.type},{value:_e,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"cuwaibiankuang",itemTitle:(0,Z.getLangMsg)("printd.grid.key0060"),title:Qv}),title:(0,Z.getLangMsg)("printd.grid.key0060"),disabled:"Line"===ce.type},{value:Le,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"neibiankuang",itemTitle:(0,Z.getLangMsg)("printd.grid.key0061"),title:Qv}),title:(0,Z.getLangMsg)("printd.grid.key0061"),disabled:"Line"===ce.type},{value:Ne,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"suoyoubiankuang",itemTitle:(0,Z.getLangMsg)("printd.grid.key0062"),title:Qv}),title:(0,Z.getLangMsg)("printd.grid.key0062"),disabled:"Line"===ce.type},{value:Pe,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"wubiankuang",itemTitle:(0,Z.getLangMsg)("printd.grid.key0063"),title:Qv}),title:(0,Z.getLangMsg)("printd.grid.key0063"),disabled:"Line"===ce.type}],ir=(y={},(0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)(y,_t,(function(t,e){var n;return V().createElement(Q.Select,(0,T.c)((0,T.c)((0,T.c)((0,T.c)({disabled:t,className:Qn()("".concat(ct,"-property-font-name"),P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(_t)),e,(0,T.c)((0,T.c)({},"".concat(ct,"-property-font-name-enable"),!zn(_t)),"".concat(ct,"-property-font-name-disabled"),zn(_t))),visible:z&&!t,onVisibleChange:function(t){U(t)},dropdownRender:function(t){var e;if(!Wn.length)return t;var n=F()(e=t.props.children.props.data).call(e,(function(t){return!Jn()(Wn).call(Wn,(function(e){return t.props.value===e.key}))})),r=V().cloneElement(t,{},n);return V().createElement("div",null,r,V().createElement(Q.Dropdown,(0,ot.c)({key:"dropdown",onItemClick:function(t){Z.console.log("onItemClick"),an(_t,t),z&&U(!1)}},dn,{popperStyle:{width:100},popperClassName:Qn()(dn.popperClassName,"kds-font-custom"),menu:Wn}),V().createElement("div",{className:Qn()("kds-hover-panel")},V().createElement("span",{className:fn,style:{marginLeft:0}},(0,Z.getLangMsg)("printd.grid.key0064")))))},dropdownStyle:{width:100},style:{width:86,height:28},onChange:function(t){an(_t,t),z&&U(!1)}},"disabled",zn(_t)),"borderType","none"),"value",ce[_t]||"default"),"options",Un))})),Nt,(function(t,e){var n;return V().createElement(Dv,{bizType:k.bizType,className:Qn()("".concat(ct,"-property-font-size"),e,P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(Nt)),(0,T.c)((0,T.c)({},"".concat(ct,"-property-font-size-enable"),!zn(Nt)),"".concat(ct,"-property-font-size-disabled"),zn(Nt))),onChange:function(t){an(Nt,t)},value:+ce[Nt]||12,dropdownStyle:{width:100},disabled:zn(Nt)||t,options:Zn})})),Pt,(function(t,e){var n;return V().createElement("div",{title:(0,Z.getLangMsg)("printd.grid.key0065"),className:Qn()(jn(Ae&&!zn(Pt),Pt),e,P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(Pt))),onClick:function(){an(Pt,!Pn(Pt))}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"jiacu"}))})),Ot,(function(t,e){var n;return V().createElement("div",{title:(0,Z.getLangMsg)("printd.grid.key0066"),className:Qn()(jn(Ae&&!zn(Ot),Ot),e,P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(Ot))),onClick:function(){an(Ot,!Pn(Ot))}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xieti"}))})),jt,(function(t,e){var n;return V().createElement("div",{title:(0,Z.getLangMsg)("printd.grid.key0067"),className:Qn()(jn(Ae&&!zn(jt),jt),e,P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(jt))),onClick:function(){an(jt,!Pn(jt))}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xiahuaxian"}))})),Gt,(function(t,e){var n;return V().createElement("div",{title:(0,Z.getLangMsg)("printd.grid.key0068"),className:Qn()(jn(Ae&&!zn(Gt),Gt),e,P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(Gt))),onClick:function(){an(Gt,!Pn(Gt))}},V().createElement("img",{src:"data:image/png;base64,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",style:{width:16}}))})),zt,(function(t,e){var n;return V().createElement("div",{style:{width:40},className:Qn()(jn(Ae&&!zn(zt)),e,"".concat(ct,"-self-select"),P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(zt)))},V().createElement(Sv,{handleChange:function(t){an(zt,t)},setColorPickVisible:nt,setMoreBarVisible:X,enable:Ae&&!zn(zt)&&!t,value:ce[zt]||"#000000"}))})),Ut,(function(t,e){var n;return V().createElement("div",{style:{width:40},className:Qn()(jn(Ae&&!zn(Ut)),e,"".concat(ct,"-self-select"),P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(Ut)))},V().createElement(Ev,{value:ce[Ut]||"#ffffff",setColorPickVisible:nt,setMoreBarVisible:X,handleChange:function(t){an(Ut,t)},enable:Ae&&!zn(Ut)&&!t}))})),Lt,(function(t,e){var n,r;return V().createElement(Q.Select,(0,ot.c)({},Nn,{disabled:zn(Lt)||t,dropdownClassName:Qn()("kds-select-border","kds-select","lineHeight"),className:Qn()(!zn(Lt)&&"".concat(ct,"-select-enable"),e,P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(Lt))),onChange:function(t){Z.console.log(t),an(Lt,t)},onVisibleChange:function(t){ut(t)},onSelect:function(){ut(!1),X(!1)},borderType:"none",value:kn()(r=[1,1.15,1.25,1.5,2]).call(r,On(Lt,1))?On(Lt,1):"default",options:[{value:"default",label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"1.0"}),title:(0,Z.getLangMsg)("printd.grid.key0114")},{value:1,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"1.0"}),title:(0,Z.getLangMsg)("printd.grid.key0114")},{value:1.15,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"1.15"}),title:(0,Z.getLangMsg)("printd.grid.key0114")},{value:1.25,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"1.25"}),title:(0,Z.getLangMsg)("printd.grid.key0114")},{value:1.5,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"1.5"}),title:(0,Z.getLangMsg)("printd.grid.key0114")},{value:2,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"2.0"}),title:(0,Z.getLangMsg)("printd.grid.key0114")}],dropdownRender:_n,defaultValue:1}))})),Ft,(function(t,e){var n;return V().createElement(Q.Select,(0,ot.c)({},Nn,{disabled:zn(Ft)||t,className:Qn()(!zn(Ft)&&"".concat(ct,"-select-enable"),e,P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(Ft))),onChange:function(t){Z.console.log(t),an(Ft,t)},borderType:"none",value:On(Ft,"left"),options:[{value:"left",label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"duanluo-zuoduiqi",itemTitle:(0,Z.getLangMsg)("printd.grid.key0069"),title:Uv}),title:(0,Z.getLangMsg)("printd.grid.key0069")},{value:"center",label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"duanluo-juzhong",itemTitle:(0,Z.getLangMsg)("printd.grid.key0070"),title:Uv}),title:(0,Z.getLangMsg)("printd.grid.key0070")},{value:"right",label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"duanluo-youduiqi",itemTitle:(0,Z.getLangMsg)("printd.grid.key0071"),title:Uv}),title:(0,Z.getLangMsg)("printd.grid.key0071")},{value:"justify",label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"duanluo-quanbuliangduanduiqi",itemTitle:(0,Z.getLangMsg)("printd.grid.key0072"),title:Uv}),title:(0,Z.getLangMsg)("printd.grid.key0072"),disabled:"Image"===ce.type}]}))})),(0,T.c)((0,T.c)((0,T.c)(y,Wt,(function(t,e){var n;return V().createElement(Q.Select,(0,ot.c)({},Nn,{dropdownStyle:{minWidth:120,overflow:"hidden"},className:Qn()(!zn(Wt)&&"".concat(ct,"-select-enable"),e,P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(Wt))),visible:N&&!t,onVisibleChange:function(t){xn||An||O(t)},dropdownClassName:Qn()("kds-select-border","kds-select"),dropdownRender:function(t){return function(t,e,n){var r,i=V().cloneElement(t,{},(0,bn.c)(R()(r=t.props.children.props.data).call(r,(function(t){return t.props.value,V().cloneElement(t,{},[t.props.children,V().createElement("div",{className:fn},t.props.children.props.itemTitle)])})))),o=function(t,r){gt(t),nr(ft,bt===_e&&t!==ln?Re:bt,t),In(!1),e(!1),n(!1)};return V().createElement("div",null,i,V().createElement(Q.Tooltip,(0,ot.c)({key:hn},dn,{gap:-6,visible:An,onVisibleChange:In,popperClassName:"kds-border-width-dropdown",popperStyle:{width:100,transition:"none"},tip:V().createElement("div",null,V().createElement("div",{className:Qn()(["kds-border-width-dropdown-item",{selected:vt===un}]),key:un,onClick:function(){return o(un)}},V().createElement("span",{className:"kds-border-width-dropdown-item-changgui"})),V().createElement("div",{className:Qn()(["kds-border-width-dropdown-item",{selected:vt===cn}]),key:cn,onClick:function(){return o(cn)}},V().createElement("span",{className:"kds-border-width-dropdown-item-cu"})),V().createElement("div",{className:Qn()(["kds-border-width-dropdown-item",{selected:vt===ln}]),key:ln,onClick:function(){return o(ln)}},V().createElement("span",{className:"kds-border-width-dropdown-item-jiacu"})),V().createElement("div",{className:Qn()(["kds-border-width-dropdown-item",{selected:vt===vn}]),key:vn,onClick:function(){return o(vn)}},V().createElement("span",{className:"kds-border-width-dropdown-item-dotted"},V().createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAABCAYAAAB0UUiZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAAAB5JREFUGNNjdHBw+M/AwMBw4MABRgYoQBcb6XxkMQCOoUnBExsl8wAAAD5lWElmAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAATKADAAQAAAABAAAAAQAAAACZ+EYYAAAAAElFTkSuQmCC"}))),V().createElement("div",{className:Qn()(["kds-border-width-dropdown-item",{selected:vt===mn}]),key:mn,onClick:function(){return o(mn)}},V().createElement("span",{className:"kds-border-width-dropdown-item-dashed"},V().createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAAABCAYAAACbkyOnAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAATaADAAQAAAABAAAAAQAAAAAxfJBbAAAAGklEQVQYGWN0cHD4z4AGDhw4wAgTGpXHDB8Apz4lwZkCeZgAAAAASUVORK5CYII="}))))}),V().createElement("div",{className:Qn()("kds-hover-panel")},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"shezhibiankuangcuxi"}),V().createElement("span",{className:fn,style:Mn},(0,Z.getLangMsg)("printd.grid.key0053")),V().createElement(Q.Icon,{type:"arrow-right-solid"}))),"1"!==k.bizType&&V().createElement(Q.Tooltip,(0,ot.c)({key:pn},dn,{gap:-6,popperStyle:{width:244,height:92,transition:"none"},visible:xn,onVisibleChange:wn,popperClassName:"kds-color-dropdown",tip:V().createElement(wv,{showPanel:xn,color:"#ffffff",onClosePanel:function(){e(!1),wn(!1),n(!1)},onChange:function(t){var e=t.color;dt(e),nr(e,bt,bt===_e?_e:vt,"color")},onFocus:function(){!xn&&wn(!0)},setPoperVisible:wn})}),V().createElement("div",{className:Qn()("kds-hover-panel")},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xiantiaoyanse"}),V().createElement("span",{className:fn,style:Mn},(0,Z.getLangMsg)("printd.grid.key0054")),V().createElement(Q.Icon,{type:"arrow-right-solid"}))))}(t,O,X)},disabled:zn(Wt)||t,onSelect:function(t){Ct(t),nr(ft,t,bt===_e?ln:vt),O(!1),X(!1)},borderType:"none",defaultValue:Re,options:rr}))})),Rt,(function(t,e){var n;return V().createElement(Q.Select,(0,ot.c)({},Nn,{disabled:zn(Rt)||t,onChange:function(t){an(Rt,t)},borderType:"none",className:Qn()(!zn(Rt)&&"".concat(ct,"-select-enable"),e,P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(Rt))),value:On(Rt,"middle"),options:[{value:"top",label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xinggaoduiqizhiding",itemTitle:(0,Z.getLangMsg)("printd.grid.key0073"),title:Wv}),title:(0,Z.getLangMsg)("printd.grid.key0073")},{value:"middle",label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xinggaoduiqijuzhong",itemTitle:(0,Z.getLangMsg)("printd.grid.key0074"),title:Wv}),title:(0,Z.getLangMsg)("printd.grid.key0074")},{value:"bottom",label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"xinggaoduiqizhidi",itemTitle:(0,Z.getLangMsg)("printd.grid.key0075"),title:Wv}),title:(0,Z.getLangMsg)("printd.grid.key0075")}]}))})),Kv,(function(t,e){var n;return V().createElement(V().Fragment,null,(Yn.length===Yv.length||tr.length>1)&&V().createElement("div",{className:Qn()("".concat(ct,"-operation-bar-split-line"),e)}),V().createElement(Q.Select,(0,ot.c)({},Nn,{disabled:xe.length<2||Ie||t,className:Qn()(!(xe.length<2||Ie)&&"".concat(ct,"-select-enable"),e,P()(n="".concat(ct,"-editor-")).call(n,Y().kebabCase(Kv))),onChange:function(t){Z.eventBus.emit("align-shapes",{type:t,ids:xe})},borderType:"none",value:Qt,options:[{value:Qt,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"zuoduiqi3",itemTitle:(0,Z.getLangMsg)("printd.grid.key0076"),title:Zv}),title:(0,Z.getLangMsg)("printd.grid.key0076")},{value:Vt,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"zuoyoujuzhong",itemTitle:(0,Z.getLangMsg)("printd.grid.key0077"),title:Zv}),title:(0,Z.getLangMsg)("printd.grid.key0077")},{value:Kt,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"shuipingfenbu",itemTitle:(0,Z.getLangMsg)("printd.grid.key0078"),title:Zv}),disabled:xe.length<3,title:(0,Z.getLangMsg)("printd.grid.key0078")},{value:Zt,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"youduiqi3",itemTitle:(0,Z.getLangMsg)("printd.grid.key0079"),title:Zv}),title:(0,Z.getLangMsg)("printd.grid.key0079")},{value:"top",label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"dingduiqi",itemTitle:(0,Z.getLangMsg)("printd.grid.key0080"),title:Zv}),title:(0,Z.getLangMsg)("printd.grid.key0080")},{value:Ht,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"shangxiajuzhong",itemTitle:(0,Z.getLangMsg)("printd.grid.key0081"),title:Zv}),title:(0,Z.getLangMsg)("printd.grid.key0081")},{value:Yt,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"chuizhifenbu",itemTitle:(0,Z.getLangMsg)("printd.grid.key0082"),title:Zv}),disabled:xe.length<3,title:(0,Z.getLangMsg)("printd.grid.key0082")},{value:Jt,label:V().createElement(Q.Icon,{prefix:"printdesignericon",type:"diduiqi",itemTitle:(0,Z.getLangMsg)("printd.grid.key0083"),title:Zv}),title:(0,Z.getLangMsg)("printd.grid.key0083")}]})))}))),or=(0,H.useRef)(null),ar=(0,H.useRef)(null),ur=(0,H.useRef)(null),cr=(0,H.useRef)(null),lr=(0,H.useCallback)((function(){var t=Yv;if(Z.console.log("count"),ar.current){var e=ar.current.offsetWidth;if(e<=32)return void(Y().isEqual(t,tr)||er(t));var n,r=0,i=[],o=[],a=Ov(Yv);try{for(a.s();!(n=a.n()).done;){var u,c,l=n.value,s=ar.current.querySelector(P()(u=".".concat(ct,"-editor-")).call(u,Y().kebabCase(l.name))),f=(null!==(c=null==s?void 0:s.offsetWidth)&&void 0!==c?c:0)+(s?zf()(getComputedStyle(s).marginLeft||0)+zf()(getComputedStyle(s).marginRight||0):l.margin);if(!(e>=f)){e<32&&(i.pop(),e+=o.pop()||0,r--);break}i.push(l),e-=f,o.push(f),r++}}catch(t){a.e(t)}finally{a.f()}Y().isEqual(i,Yn)||(qn(i),er(En()(t).call(t,r)))}}),[Yv,tr,Yn,ct]),sr=(0,H.useRef)(Y().debounce(lr));return(0,H.useEffect)((function(){sr.current(),Z.eventBus.emit("contextStrokeEnabled","1"===k.bizType)}),[]),(0,H.useEffect)((function(){sr.current=Y().debounce(lr)}),[Yv,tr,Yn,ct]),(0,H.useEffect)((function(){var t=function(){sr.current()};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[sr.current]),(0,H.useImperativeHandle)(e,(function(){return{formatControlInfoRef:$e,copyControl:We,pasteControl:Qe,copyAndPasteControl:Ze,canvasRedo:Je,canvasUndo:He}}),[$e,We,Ze]),V().createElement("div",{className:ct,ref:or},V().createElement("div",{ref:cr},V().createElement("div",{className:"".concat(ct,"-operation-bar"),ref:ur},V().createElement("div",{title:P()(b="".concat((0,Z.getLangMsg)("printd.grid.key0084"),"\n")).call(b,Mv()?"⌘+Z":"Ctrl+Z"),className:Qn()((0,T.c)((0,T.c)({},"".concat(ct,"-operation-disable"),!xt.canUndo()),"".concat(ct,"-operation-btn"),!0)),onClick:He},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"chexiao"})),V().createElement("div",{title:P()(C="".concat((0,Z.getLangMsg)("printd.grid.key0085"),"\n")).call(C,Mv()?"⌘+Y":"Ctrl+Y"),className:Qn()((0,T.c)((0,T.c)({},"".concat(ct,"-operation-disable"),!xt.canRedo()),"".concat(ct,"-operation-btn"),!0)),onClick:Je},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"zhongzuo"})),V().createElement("div",{className:"".concat(ct,"-operation-bar-split-line")}),V().createElement("div",{className:jn(Me),onClick:Ze,title:P()(x="".concat((0,Z.getLangMsg)("printd.grid.key0086"),"\n")).call(x,Mv()?"⌘+D":"Ctrl+D")},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"fuzhi"})),V().createElement("div",{title:(0,Z.getLangMsg)("printd.grid.key0087"),className:jn(Be,"null",Ye&&Ae),onClick:function(){on()},onDoubleClick:function(){on(!1)}},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"geshishua"})),V().createElement("div",{title:"".concat((0,Z.getLangMsg)("printd.grid.key0088"),"\nDelete"),className:jn(Te),onClick:sn},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"shanchu"})),V().createElement("div",{className:"".concat(ct,"-operation-bar-split-line")})),V().createElement("div",{className:"".concat(ct,"-property-operation-bar"),ref:ar},R()(w=F()(Yv).call(Yv,(function(t){return Jn()(Yn).call(Yn,(function(e){return e.name===t.name}))}))).call(w,(function(t){return ir[t.name](!1)})),tr.length>0&&V().createElement(Q.Tooltip,{popperClassName:"".concat(ct,"-operation-more-popper"),arrow:!1,arrowSize:0,placement:"bottomRight",visible:q,onVisibleChange:function(t){!at&&!N&&(!et||t)&&X(t)},tip:V().createElement("div",{className:"".concat(ct,"-more-property-bar")},R()(tr).call(tr,(function(t){var e=t.name;return ir[e](!1)}))),trigger:"click",popperStyle:{}},V().createElement("div",{className:Qn()("".concat(ct,"-operation-btn"),"".concat(ct,"-operation-more-btn"))},V().createElement(Q.Icon,{type:"more"}))),R()(E=F()(Yv).call(Yv,(function(t){return!Jn()(Yn).call(Yn,(function(e){return e.name===t.name}))}))).call(E,(function(t){return ir[t.name](!0,"shadow-calc-dom")})))),V().createElement("div",null,V().createElement("div",{className:"".concat(ct,"-canvas-operation-bar")},V().createElement("div",{className:jn(!0,"",qt),onClick:function(){Xt(!qt),At&&(At.current=!qt),Z.eventBus.emit("contextStrokeEnabled",!qt)},title:(0,Z.getLangMsg)("printd.grid.key0089")},V().createElement(Q.Icon,{prefix:"printdesignericon",type:"kaiqifuzhuxian",onClick:function(){}})),V().createElement(Q.Select,{style:{width:64},dropdownStyle:{width:100},title:(0,Z.getLangMsg)("printd.grid.key0090"),borderType:"none",value:ee,options:Ue,onChange:Fe}))))}))),Xv=qv;function $v(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function tg(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=$v(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=$v(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var eg=ie;var ng=function(t){t.x,t.y;var e=t.id,n=t.width,r=t.height,i=t.border,o=void 0===i?{}:i,a=t.borderType,u=t.isSelected,c=t.contextStrokeEnabled,l=t.scale,s=Vd(o,a),f=(0,M.c)(s,4),d=f[0],h=f[1],p=f[2],v=h||"#B2B2B2",g=f[3]||1,m=!!c&&!(kn()(d).call(d,Re)||kn()(d).call(d,Ne)),y=!(kn()(d).call(d,Re)||kn()(d).call(d,Ne)),b=[3,3],C=(0,H.useRef)(null),x=o.width||{},w=x.top,E=void 0===w?0:w,S=x.left,k=void 0===S?0:S,D=x.right,A=void 0===D?0:D,I=x.bottom,T=void 0===I?0:I,B=o.color||{},F=B.top,L=B.left,R=B.right,_=B.bottom,N=o.style||{},P=N.top,O=N.left,j=N.right,G=N.bottom,z=Qf(n,l),U=Qf(r,l),Q=[0,0,z,0],Z=[0,0,0,U],J=[z,0,z,U],K=[z,U,0,U],Y=(0,H.useRef)(null),q=(0,H.useRef)(null),X=(0,H.useRef)(null),$=(0,H.useRef)(null);(0,H.useImperativeHandle)(C,(function(){return{mouseEnter:function(t){var e;W()(e=[Y,q,X,$]).call(e,(function(e){var n,r;null===(n=e.current)||void 0===n||n.stroke(t),null===(r=e.current)||void 0===r||r.draw()}))},mouseLeave:function(){var t,e,n,r;null===(t=X.current)||void 0===t||t.stroke(F||eg),null===(e=Y.current)||void 0===e||e.stroke(L||eg),null===(n=q.current)||void 0===n||n.stroke(R||eg),null===(r=$.current)||void 0===r||r.stroke(_||eg)}}}),[F,L,R,_]);var tt={borderTypes:d,stroke:v,strokeWidth:g,strokeEnabled:m,dashEnabled:y,defaultDash:b,controlStrokeRef:C},et={listening:!1,draggable:!1},nt=(0,H.useMemo)((function(){switch(p){case"dashed":return[3,1];case"dotted":return[2,2];default:return b}}),[p]),rt=V().createElement(qp.Group,et,0!==E&&V().createElement(qp.Line,(0,ot.c)({key:"".concat(e,"_top_stroke"),ref:X,name:"".concat(e,"_top_border_line")},et,{stroke:F||eg,strokeWidth:2*(E||1),dashEnabled:"solid"!==P,dash:nt,points:Q})),0!==k&&V().createElement(qp.Line,(0,ot.c)({key:"".concat(e,"_left_stroke"),ref:Y,name:"".concat(e,"_left_border_line")},et,{stroke:L||eg,strokeWidth:2*(k||1),dashEnabled:"solid"!==O,dash:nt,points:Z})),0!==A&&V().createElement(qp.Line,(0,ot.c)({key:"".concat(e,"_right_stroke"),ref:q,name:"".concat(e,"_right_border_line")},et,{stroke:R||eg,strokeWidth:2*(A||1),dashEnabled:"solid"!==j,dash:nt,points:J})),0!==T&&V().createElement(qp.Line,(0,ot.c)({key:"".concat(e,"_bottom_stroke"),ref:$,name:"".concat(e,"_bottom_border_line")},et,{stroke:_||eg,strokeWidth:2*(T||1),dashEnabled:"solid"!==G,dash:nt,points:K}))),it=0!==E||0!==k||0!==A||0!==T;return tg(tg({},tt),{},{customedStrokeElement:!u&&it&&rt,dashEnabled:tt.dashEnabled&&!(0!==E&&0!==k&&0!==A&&0!==T)&&!u})},rg=["src","getImageSize","xPos","yPos","scale","pixelRatio","verAlignment","horAlignment"],ig=(0,H.forwardRef)((function(t,e){var n=t.src,r=t.getImageSize,i=(t.xPos,t.yPos,t.scale),o=(t.pixelRatio,t.verAlignment),a=t.horAlignment,u=(0,zn.c)(t,rg),c=(0,H.useState)(null),l=(0,M.c)(c,2),s=l[0],f=l[1],d=(0,H.useState)({width:0,height:0,left:0,top:0}),h=(0,M.c)(d,2),p=h[0],v=h[1],g=p.width,m=p.height,y=p.left,b=p.top,C=(0,H.useRef)(null),x=e||C;return(0,H.useEffect)((function(){var t,e=function(){f(t)};return n&&((t=new Image).addEventListener("load",e),t.src=n),function(){var n;null===(n=t)||void 0===n||n.removeEventListener("load",e)}}),[n]),(0,H.useEffect)((function(){if(null!==s){var t=s.width,e=s.height,n=Zf(t,1),i=Zf(e,1);v(r(n,i,o,a))}}),[v,r,s,o,a]),s?V().createElement(qp.Image,(0,ot.c)({ref:x,image:s,width:Qf(g,i),height:Qf(m,i),x:y?Qf(y,i):void 0,y:b?Qf(b,i):void 0},u,{name:Mt})):null})),og=ig,ag=2.54;function ug(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=ug(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=ug(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var lg,sg=function(t,e,n){if(xd(t)||Ed(t)){var r=t.subGridId,i=t.tableTailId;null!=r&&r.length&&e.push.apply(e,(0,bn.c)(n.findControl(r))),i&&e.push(n.findControl(i))}if(wd(t)||Fd(t)){var o=t.parentGridId;o&&e.push(n.findControl(o))}};function fg(t,e){return function(n,r){var i,o,a,u=n.x,c=n.y,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=[],f=t.id,d=t.parentId,h=t.height,p=t.width,v=t.x,g=t.y,m=e.dataContext,y=e.selectionContext,b=e.getRedundancyXY,C=e.pageHeight,x=e.stageRef,w=e.rootId,E=e.scale,S=e.setMessage,k=e.forceUpdateTransformer,D=null===(i=x.current)||void 0===i?void 0:i.getPointerPosition(),A=null===(o=x.current)||void 0===o?void 0:o.findOne("#".concat(f)),I=(0,bn.c)(new(li())(P()(a=[]).call(a,(0,bn.c)(y.getSelection()),[f]))),B=[];sg(t,B,m);var F=m.findControlByCondition((function(t){return kn()(I).call(I,t.id)})),L=(0,bn.c)(F);W()(F).call(F,(function(t){sg(t,L,m)}));var R=D.x,_=D.y,N=b(),O=N.x,G=N.y,z=["Text","Image","QRCode","Barcode","LayoutGrid","Line"];R=Zf(R-O,E),_=Zf(_-G,E),u=Zf(u,E),c=Zf(c,E);var U,Q=tp(cg(cg({},t),{},{x:u,y:c}),m),J=$h(cg(cg({},t),{},{x:u,y:c}),m),H=l.length?j()(l).call(l,(function(t,e){var n=(0,M.c)(e,2),r=n[0],i=n[1],o=void 0===i?{}:i,a=m.findControl(r);return Math.min(tp(cg(cg({},a),o),m),t)}),Q):Q,V=l.length?j()(l).call(l,(function(t,e){var n=(0,M.c)(e,2),r=n[0],i=n[1],o=void 0===i?{}:i,a=m.findControl(r);return Math.max($h(cg(cg({},a),o),m),t)}),J):J,K=m.findControlByCondition((function(t){return"Header"===t.type})),Y=m.findControlByCondition((function(t){return"Footer"===t.type})),q=m.findControlByCondition((function(t){return"TableTail"===t.type})),X=K[0]||{},$=X.width,tt=void 0===$?0:$,et=X.height,nt=void 0===et?0:et,rt=Y[0]||{},it=rt.width,ot=void 0===it?0:it,at=rt.height,ut=void 0===at?0:at,ct=rt.y,lt=void 0===ct?0:ct,st=function(){return I.length>1?(W()(L).call(L,(function(t){var e,n=null===(e=x.current)||void 0===e?void 0:e.findOne("#".concat(t.id));null==n||n.position({x:Qf(t.x,E),y:Qf(t.y,E)})})),k(),S((0,Z.getLangMsg)("printd.grid.key0023")),!0):xd(t)||Rd(t)||wd(t)||Fd(t)||Ed(t)?(null==A||A.position({x:Qf(v,E),y:Qf(g,E)}),W()(B).call(B,(function(t){var e,n=null===(e=x.current)||void 0===e?void 0:e.findOne("#".concat(t.id));null==n||n.position({x:Qf(t.x,E),y:Qf(t.y,E)})})),S((0,Z.getLangMsg)("printd.grid.key0024")),!0):"RichText"===t.type?(null==A||A.position({x:Qf(v,E),y:Qf(g,E)}),S((0,Z.getLangMsg)("printd.grid.key0025")),!0):void 0};if(d===w)if(K.length&&R<tt&&_<nt){var ft=K[0].id;if(st())return;c+h>nt?h>=nt?s.push([f,{y:0,x:u,height:nt,width:nt/h*p,parentId:ft}]):s.push([f,{y:nt-h,x:u,parentId:ft}]):s.push([f,{x:u,y:c,parentId:ft}])}else if(Y.length&&R<ot&&_>C-ut){var dt=Y[0].id;if(st())return;_-lt+h>ut&&h>=ut?s.push([f,{y:0,x:u,height:ut,width:ut/h*p,parentId:dt}]):s.push([f,{y:c-lt,x:u,parentId:dt}])}else{if(nt>0&&H<nt)return W()(L).call(L,(function(t){var e,n=null===(e=x.current)||void 0===e?void 0:e.findOne("#".concat(t.id));null==n||n.position({x:Qf(t.x,E),y:Qf(t.y,E)})})),void k();if(lt>0&&V>lt)return W()(L).call(L,(function(t){var e,n=null===(e=x.current)||void 0===e?void 0:e.findOne("#".concat(t.id));null==n||n.position({x:Qf(t.x,E),y:Qf(t.y,E)})})),void k();if(q.length&&kn()(z).call(z,t.type)){var ht=Jn()(q).call(q,(function(t){var e=t.height,n=t.parentGridId,r=m.findControl(n),i=r.y,o=r.height,a=r.x,u=r.width;return o+i<_&&_<o+i+e&&a<R&&R<u+a}));if(ht){var pt=j()(I).call(I,(function(t,e){var n=m.findControl(e).type;return kn()(z).call(z,n)||t.add(n),t}),new(li()));if(pt.size){W()(L).call(L,(function(t){var e,n=null===(e=x.current)||void 0===e?void 0:e.findOne("#".concat(t.id));null==n||n.position({x:Qf(t.x,E),y:Qf(t.y,E)})})),k();var vt=(0,bn.c)(pt),gt=(lg||(lg=(0,T.c)((0,T.c)((0,T.c)({},pe,(0,Z.getLangMsg)("printd.grid.key0031")),hn.richText,(0,Z.getLangMsg)("printd.components.key0062")),ve,(0,Z.getLangMsg)("printd.components.key0063"))),lg),mt=j()(vt).call(vt,(function(t,e){return gt[e]&&t.push(lg[e]),t}),[]);return S((0,Z.getLangMsg)({key:"printd.grid.key0124",variables:{detail:mt.length?"：".concat(mt.join(" ")):""}})),!0}U=!0;var yt=ht.parentGridId,bt=ht.id,Ct=m.findControl(yt),xt=Ct.y,wt=Ct.x,Et=Ct.height,St=x.current.dragStartMousePos,kt=Zf(St.x-O,E),Dt=Zf(St.y-G,E),At=Zf(D.x-O,E),It=Zf(D.y-G,E);1===I.length?s.push([f,{x:u-wt,y:c-Et-xt,parentId:bt}]):W()(I).call(I,(function(t){var e=m.findControl(t),n=e.x,r=e.y,i=(e.type,kt-n),o=Dt-r,a=At-i<0?0:At-i,u=(It-o<0?0:It-o)-Et-xt;s.push([t,{x:a-wt,y:u<0?0:u,parentId:bt}])}))}else s.push([f,{x:u,y:c}])}else s.push([f,{x:u,y:c}])}else s.push([f,{x:u,y:c}]);if(U||(s.push.apply(s,(0,bn.c)(l)),U=!1),1===s.length){var Mt=(0,M.c)(s[0],2),Tt=Mt[0],Bt=Mt[1];m.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[Tt,Bt]]))}else m.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(s))}}var dg=function(t,e,n){return Math.max(Qf(t,e,n),.1)},hg=function(){return(0,H.useCallback)((function(t,e,n){return 0!==t.evt.button||(e!==fe?(n(t),!0):void 0)}),[])},pg=n(48560),vg=n.n(pg),gg=function(t,e){return!(!vg()(t,e)&&!Y().isEqual(t,e))},mg=function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height;return t.x<n||t.y<r||Vf(t.x+t.width,1)>Vf(n+i,1)||Vf(t.y+t.height,Vf)>Vf(r+o,1)},yg=(0,H.memo)((0,H.forwardRef)((function(t,e){var n=t.stageRef,r=t.rootControlRef,i=t.selectedId,o=t.parentId,a=t.isCell,u=void 0!==a&&a,c=t.isSelected,l=void 0!==c&&c,s=t.isLastSelected,f=void 0!==s&&s,d=t.trRef,h=t.rotateEnabled,p=void 0!==h&&h,v=t.resizeEnabled,g=void 0===v||v,m=t.id,y=t.dataContext,b=t.enabledAnchors,C=void 0===b?["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"]:b,x=t.boundBoxFunc,w=t.controlGroupRef,E=t.isGlobal,S=void 0!==E&&E,k=t.refLineRef,D=void 0===k?{}:k,A=t.padding,I=(0,H.useRef)(null),B=d||I,F=x||function(t,e){var o,a,u=tv(n.current.findOne("#".concat(null===(o=y.findControl(i))||void 0===o?void 0:o.parentId))||r.current),c=u.x,l=u.y,s=u.width,f=u.height,d=u.bottom,h=Yf(t),p=Yf(e),v=(D.current||{}).searchRefLines,g=B.current.getActiveAnchor(),b=v&&v(i,!0,(0,ot.c)({},p,{activeAnchor:g}));(Z.console.log("refPosition out",b),b&&!Y().isEmpty(b))&&(Z.console.log("refPosition",b),Z.console.log("refPosition",h,p),W()(a=cp()(b)).call(a,(function(t){var e=(0,M.c)(t,2),n=e[0],r=e[1];Y().isUndefined(r)||(p[n]=r)})));if(mg(h,u))return Z.console.log("isShapeOverflow(oldBox, rootRect)",h,p,u,mg),y&&Cd(y.findControl(m))?h.x>c+s||h.x<c||h.y<l||h.y>l+f?p:(0,ot.c)({},h,{width:h.width>s?Vf(c+s-h.x,1):h.width,height:h.height>f?Vf(l+f-h.y,1):h.height}):p;if(mg(p,u))return p.x!==h.x||p.y!==h.y?(0,ot.c)({},h,{x:p.x<u.x?u.x:h.x,y:p.y<u.y?u.y:h.y,width:p.x<u.x?Vf(p.width+(p.x-u.x),1):h.width,height:p.y<u.y?Vf(p.height+(p.y-u.y),1):h.height}):(0,ot.c)({},h,{width:Vf(p.x+p.width,1)>Vf(u.x+u.width,1)?Vf(u.x+u.width-p.x,1):h.width,height:Vf(p.y+p.height,1)>Vf(u.y+u.height,1)?Vf(u.y+u.height-p.y,1):h.height});var C=y&&y.findControl(i);if(C&&ip(C)){if(p.height>f)return h}else if(p.y+p.height>d)return h;return 0===p.height?h:p},L=(0,H.useRef)(!1),R=(0,H.useCallback)((function(){if(l){var t,e,r,o,a,u=null===(t=n.current)||void 0===t?void 0:t.findOne((function(t){var e,n=t.name().split(" ");return oi()(e=[i.toString(),St]).call(e,(function(t){return kn()(n).call(n,t)}))}));if(u){if(null===(e=B.current)||void 0===e||e.nodes([u]),null!=w&&w.current)null===(r=B.current)||void 0===r||r.zIndex(Math.max((null===(o=w.current)||void 0===o?void 0:o.children.length)-2,0))}else null===(a=B.current)||void 0===a||a.detach()}}),[l,i,o]);return V().useEffect((function(){S||R()}),[l,i,o,S]),(0,H.useEffect)((function(){var t=function(t){var e,n;(Z.console.log("e.ctrlKe shapeRef.current?.stopDrag()"),null!==(e=B.current)&&void 0!==e&&e.isTransforming())&&(null===(n=B.current)||void 0===n||n.stopTransform())};return S&&document.addEventListener("keydown",t),function(){S&&document.removeEventListener("keydown",t)}}),[S]),S&&ut()((function(){R()})),(0,H.useImperativeHandle)(e,(function(){return{showDash:function(){var t,e;!L.current&&l&&(null===(t=B.current)||void 0===t||t.borderDash([2,2]),null===(e=B.current)||void 0===e||e.forceUpdate(),L.current=!0)},hideDash:function(){var t,e;L.current&&l&&(null===(t=B.current)||void 0===t||t.borderDash([]),null===(e=B.current)||void 0===e||e.forceUpdate(),L.current=!1)},mouseEnter:function(t){var e,n,r;null===(e=B.current)||void 0===e||e.borderStroke(t),null===(n=B.current)||void 0===n||n.visible(!0),null===(r=B.current)||void 0===r||r.forceUpdate()},mouseLeave:function(){var t,e,n;null===(t=B.current)||void 0===t||t.borderStroke(ae),null===(e=B.current)||void 0===e||e.visible(!1),null===(n=B.current)||void 0===n||n.forceUpdate()}}}),[l,i]),f&&Z.console.log("isLastSelected",B),l?V().createElement(qp.Transformer,(0,T.c)({ref:B,id:"transformer_".concat(i),resizeEnabled:g&&f&&!u,rotateEnabled:p,anchorStroke:ae,keepRatio:!1,ignoreStroke:!0,padding:u?-1:0,anchorSize:7,enabledAnchors:C,borderStroke:ae,borderStrokeWidth:u?2:1,boundBoxFunc:F},"padding",A)):null})),(function(t,e){return!t.isGlobal&&!e.isGlobal&&vg()(e,t)})),bg=yg,Cg=["x","y","width","height","backColor","horAlignment","verAlignment","lineWrapRule","foreColor","padding","divideModel","divideCharNums","fontName","fontSize","children","wrap","bold","underLine","strike","italic","textFormat","textOverFlow","type","alpha","globalCompositeOperation","id","border","borderType","isCell","isTemplate","hasChildItems","childItems","isLastSelected","handleMouseDown","isSelected","parentId","dsType"];function xg(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=xg(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=xg(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Eg="bindText";function Sg(t,e,n){return t/e*n}function kg(t,e,n){var r=t/e;return Math.max(r,n)}var Dg=function(t){var e=t.width,n=t.height,r=t.text,i=t.divideNums,o=jf()(t),a=(t.verticalAlign,t.align),u=t.fontFamily,c=t.fontStyle,l=t.textDecoration,s=t.fontSize,f=t.divideLineEnable,d=t.divideLineColor,h=t.divideLineWidth,p=function(t,e,n){var r,i,o,a=jf()(r=new Array(n)).call(r,""),u=[],c=Rn()(t).length;if(c>n)if("left"===e)u=P()(o=En()(t).call(t,0,n-1).split("")).call(o,"...");else if("right"===e)(u=En()(t).call(t,1-n).split("")).unshift("...");else if(1===n)u=["..."];else if(2===n)u=["...","..."];else{var l,s,f=Math.floor((c-n)/2+1);u=1===f?P()(l=[]).call(l,(0,bn.c)(En()(t).call(t,0,n-1)),["..."]):P()(s=["..."]).call(s,(0,bn.c)(En()(t).call(t,f,f+n-2)),["..."])}else if(c<n)if("left"===e)u=t.split("");else if("right"===e){var d;u=P()(d=En()(a).call(a,0,-c)).apply(d,(0,bn.c)(t))}else{var h,p,v=Math.floor((n-c)/2);u=(0,bn.c)(a),ui()(h=u).apply(h,P()(p=[v,c]).call(p,(0,bn.c)(t)))}else u=t.split("");return ui()(a).apply(a,P()(i=[0,u.length]).call(i,(0,bn.c)(u))),a}(r,a,i),v=(0,H.useCallback)((function(t){return f&&t!==i&&0!==t}),[i,f]);return V().createElement(V().Fragment,null,R()(p).call(p,(function(t,r){var a,f,p,g;return V().createElement(V().Fragment,{key:P()(a="divide_".concat(t,"_")).call(a,r)},V().createElement(qp.Text,{width:kg(e,i,s),height:n,key:P()(f="text_".concat(t,"_")).call(f,r),x:Sg(e,i,r),y:0,text:t,fill:o,verticalAlign:"middle",align:"center",name:P()(p="".concat(kt," ")).call(p,At),fontFamily:u,fontStyle:c,textDecoration:l,fontSize:s,wrap:"none",hitStrokeWidth:0,letterSpacing:0}),v(r)&&V().createElement(qp.Line,{key:P()(g="line_".concat(t,"_")).call(g,r),x:Sg(e,i,r),y:0,stroke:d,strokeWidth:h,points:[0,n,0,0]}))})))},Ag=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,c,l,s,f,d=(0,H.useContext)(vn),h=d.selectionContext,p=d.contextStrokeEnabled,v=(h.getSelection(),(0,H.useContext)(mn)),g=d.scale,y=void 0===g?1:g,b=d.pixelRatio,C=(d.getRedundancyXY,d.getInputSize),x=d.getTextSize,w=d.onValid,E=(d.globalTrRef,d.dataContext),S=v.gridState,k=(v.gridX,v.gridY,v.gridBorderType),D=v.isEditorGridState,A=void 0===D||D,I=v.removeGridSelection,B=hg(),L=((0,Z.usePrevious)(S),(0,H.useRef)(null)),R=(0,H.useRef)(null),_=(0,H.useRef)(null),N=t[Eg],O=t.viewText||t[Eg]||"",G=t[Eg],z=t.bindField,U=t.dataSource,W=t.x,Q=void 0===W?0:W,J=t.y,K=void 0===J?0:J,q=t.width,X=t.height,$=t.backColor,tt=t.horAlignment,et=void 0===tt?"left":tt,nt=t.verAlignment,rt=void 0===nt?"middle":nt,it=t.lineWrapRule,at=void 0===it?1:it,ut=t.foreColor,ct=void 0===ut?"#333":ut,st=t.padding,ft=void 0===st?Be:st,dt=t.divideModel,ht=t.divideCharNums,pt=t.fontName,vt=void 0===pt?"Arial":pt,gt=t.fontSize,mt=void 0===gt?12:gt,yt=t.children,bt=t.wrap,Ct=void 0===bt?"none":bt,xt=t.bold,wt=void 0!==xt&&xt,Mt=t.underLine,Tt=void 0!==Mt&&Mt,Bt=t.strike,Ft=void 0!==Bt&&Bt,Lt=t.italic,Rt=void 0!==Lt&&Lt,_t=t.textFormat,Nt=t.textOverFlow,Pt=t.type,Ot=t.alpha,jt=void 0===Ot?0:Ot,Gt=t.globalCompositeOperation,zt=void 0===Gt?"multiply":Gt,Ut=t.id,Wt=t.border,Qt=void 0===Wt?{}:Wt,Zt=t.borderType,Jt=t.isCell,Ht=t.isTemplate,Vt=t.hasChildItems,Kt=t.childItems,Yt=t.isLastSelected,qt=t.handleMouseDown,Xt=t.isSelected,$t=t.parentId,te=t.dsType,ee=((0,zn.c)(t,Cg),t.lineSpace||1),ne=F()(n=lt()(ft||Be)).call(n,Boolean),re=j()(r=m()(ft)).call(r,(function(t,e){return t[e]=ft[e]*y,t}),{}),ie=re.top,oe=re.left,ae=re.right,ue=re.bottom,ce=(0,H.useState)((mt||12)*y),le=(0,M.c)(ce,2),se=le[0],de=le[1],he="normal";Ft&&Tt?he="underline line-through":Ft?he="line-through":Tt&&(he="underline");var pe=F()(i=[Rt&&"italic",wt&&"bold"]).call(i,Boolean).join(" "),ve={fontSize:se,fontFamily:Ke(vt),fontWeight:wt?"700":"normal",fontStyle:Rt?"italic":"textDecoration",textDecoration:he,backgroundColor:$,color:ct,paddingTop:ie,paddingLeft:oe,paddingRight:ae,paddingBottom:ue,align:et,verAlignment:rt,lineHeight:ee,letterSpacing:0},ge=(0,H.useRef)(null),me=!(Jt&&null!=yt&&yt.length),ye=!((null==yt||!yt.length)&&!me||Ht),be=P()(o=P()(a=P()(u="".concat(Ht?"template_".concat(Ut,"}"):Ut," ")).call(u,St," ")).call(a,kt," ")).call(o,Dt),Ce=P()(c=P()(l=P()(s="".concat(Jt?It:""," ")).call(s,Et," ")).call(l,St," ")).call(c,kt),xe=ng({x:Q,y:K,id:Ut,width:q,height:X,border:Qt,scale:y,contextStrokeEnabled:p,borderType:Zt,isSelected:Xt&&!Ht}),we=xe.stroke,Ee=xe.strokeWidth,Se=xe.strokeEnabled,ke=xe.dashEnabled,De=xe.defaultDash,Ae=xe.customedStrokeElement,Ie=xe.controlStrokeRef,Me=xe.borderTypes,Te=function(t,e){var n=t.dataSource,r=t.value,i=t.isFormulaMode,o=t.id,a=t.onValid,u=t.bindField,c=t.dataContext,l=(0,H.useState)(!1),s=(0,M.c)(l,2),f=s[0],d=s[1],h=(0,H.useRef)(!1),p=(0,H.useCallback)((function(t){var e=$n(r),a=e.isBindField,l=e.bindField;if(!a||i)d(!1);else{var s=c.findControl(o);if(!s)return void d(!1);var f=Xn(l,t);if("$DsKey=[System]"===(null==s?void 0:s.dataSource)&&(f=!0),f)d(!1);else{var h,p=Kn(Yn(n,u),t);if(!p&&-1!==(null==u||null===(h=xn()(u))||void 0===h?void 0:h.call(u,"."))){var v=s.bindField.match(/w?\w*$/)[0];p=Kn(Yn(s.dataSource,v),t)}d(!p)}}}),[n,r,i,u]);return(0,H.useEffect)((function(){var t,n;return Z.eventBus.on(e,p),Z.eventBus.on(P()(t="".concat(e,"_")).call(t,o),d),Z.eventBus.on(P()(n="".concat(e,"_")).call(n,o,"_init"),p),h.current=!0,function(){var t,n;Z.eventBus.off(e,p),Z.eventBus.off(P()(t="".concat(e,"_")).call(t,o),d),Z.eventBus.off(P()(n="".concat(e,"_")).call(n,o,"_init"),p)}}),[p,o,e]),(0,H.useEffect)((function(){var t;h.current&&(null==a||a(P()(t="".concat(e,"_")).call(t,o,"_init")))}),[h.current]),[f,d]}({onValid:w,dataSource:U,bindField:z,value:G,isFormulaMode:"Formula"===te,id:Ut,dataContext:d.dataContext},af),Fe=(0,M.c)(Te,1)[0],Re=function(t){var e=t.height,n=t.scale,r=t.offsetLeft,i=void 0===r?3:r,o=t.scaledFontSize,a=(0,H.useCallback)((function(){return{width:o/ag,height:o/ag}}),[o]),u=(0,H.useMemo)((function(){return(Qf(e,n)-1.5*o)/2}),[e,n,o]);return[V().createElement(og,{getImageSize:a,src:"data:image/png;base64,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",scale:n,x:i,y:u}),i,o/ag]}({height:X,scale:y,offsetLeft:3,scaledFontSize:se}),_e=(0,M.c)(Re,3),Pe=_e[0],Oe=_e[1],je=_e[2],Ge={stageRef:d.stageRef,rootControlRef:d.rootControlRef,selectedId:Ut,ref:ge,isSelected:Xt&&!Yt,isCell:Jt,resizeEnabled:!Jt},ze=!Ht&&V().createElement(bg,Ge);hv({shapeRef:L,isNotNeed:Jt});ne.length>0&&Math.min.apply(Math,(0,bn.c)(ne));var Ue=dg(q,y),We=dg(X,y),Qe=Qf(Q,y),Ze=Qf(K,y),Je=dt&&ht>0,He=kn()(Me).call(Me,Le)||kn()(Me).call(Me,Ne);uv({isSelected:Xt,refs:ye?[]:[L],pixelRatio:b,scale:y,currentProp:{x:Q,y:K,width:q,height:X,fill:$,align:et,textColor:ct,padding:ft,divideModel:dt,divideCharNums:ht,fontFamily:vt,fontSize:mt,wrap:Ct,bold:wt,underLine:Tt,strike:Ft,italic:Rt,textFormat:_t,textOverFlow:Nt,type:Pt,alpha:jt,globalCompositeOperation:zt,id:Ut,border:Qt,isCell:Jt,isTemplate:Ht,hasChildItems:Vt,childItems:Kt}});var Ve=dv({strokeEnabled:Se,shapeRef:R,isSelected:Yt,shapeRefStroke:we,controlStrokeRef:Ie}),Ye=Ve.onMouseOut,qe=Ve.onMouseOver,Xe=fg(t,d),$e=pv({id:Ut,refLineRef:d.refLineRef}),tn=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height;d.dataContext.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[Ut,{x:Hf(Zf(e,y),1),y:Hf(Zf(n,y),1),width:Hf(Zf(r,y),1),height:Hf(Zf(i,y),1)}]]))}),[Ut,y]),en=nv({id:Ut,shapeRef:L,refLineRef:d.refLineRef,context:d,onDragEnd:Xe,onDragMove:$e,parentId:t.parentId,scale:y}),nn=en.onDragStart,rn=en.onDragMove,on=en.onDragEnd,an=en.dragBoundFunc,un=av({id:Ut,shapeRef:R,refLineRef:d.refLineRef,onTransformEnd:tn,context:d}),cn=un.onTransform,ln=un.onTransformEnd,sn=(0,H.useCallback)((function(t){qt(t)}),[qt]),fn=(0,H.useCallback)((function(t){if(S===fe&&!Ht&&S){var e=h.getSelection(),n=Jt?Ut:$t;kn()(e).call(e,n)||window.requestAnimationFrame((function(){I(),h.setSelect([n])}))}}),[Ut,Jt,Ht,S,$t]),hn=Jt||S?function(t){if(!Vt&&!B(t,S,qt))if(S===fe){var e=d.showEditor,n=d.setEditorPosition,r=L.current,i=$p(r),o=i.height,a=i.width,u=r.getAbsolutePosition();n(wg({x:u.x,y:u.y,width:a,height:o,value:N,shapeRef:L,id:Ut,isWrap:true,propertyName:Eg},ve)),e()}else qt(t)}:function(t){if(0===t.evt.button&&"RichText"!==Pt){var e=d.showEditor,n=d.setEditorPosition,r=L.current,i=$p(r),o=i.height,a=i.width,u=r.getAbsolutePosition();n(wg({x:u.x,y:u.y,width:a,height:o,value:N,shapeRef:L,id:Ut,isWrap:true,propertyName:Eg},ve)),e()}},pn=Jt?wg({},S===fe?{onMouseOver:qe,onMouseOut:Ye}:{}):{onDragStart:nn,onDragMove:Y().throttle(rn,100),onDragEnd:on,onMouseOver:qe,onMouseOut:Ye,dragBoundFunc:Y().throttle(an,100)},gn=Jt?{}:{onTransform:cn,onTransformEnd:ln},yn=1.5*se,Cn=3*(Oe+je),wn=(0,H.useMemo)((function(){var t="Formula"===te,e={width:Ue-ae-oe-(t?yn:0)-(Fe?Cn:0),height:We-ie-ue+0,x:oe+(t?yn:0)+(Fe?Cn:0),y:ie};if(!O)return e;var n=C(O,{width:e.width*y,fontSize:se,fontFamily:Ke(vt)},Ut);if(!n)return e;n.width;var r=n.height;if(r>We){var i="middle"===rt?We/2-(ie+ue+r)/2:"bottom"===rt?We-(ie+ue+r):ie;return(0,ot.c)(e,{height:r+0,y:i})}return e}),[ft,q,X,Q,K,y,O,Qe,Ze,te,Ke(vt),mt,se,rt,Fe,Oe,je,Ut]);(0,H.useEffect)((function(){if(3===at&&O&&/[\r\n]/g.test(O)){var t=O.replace(/[\r\n]/g,"");E.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[Ut,{bindText:t}]]))}}),[at,Ut,O,E]);var En=function(t){var e,n=t?"width":"height",r=se,i=Number(mt||12)*y,o=function(t){var e=1.5*t,n=3*(Oe+t/2.54),r="Formula"===te;return{width:Ue-ae-oe-(r?e:0)-(Fe?n:0),height:We-ie-ue+0,x:oe+(r?e:0)+(Fe?n:0),y:ie}}(r),a=o.width,u=(o.height,o[n]),c=function(){return x(wg({x:0,y:0,fontSize:r,width:t?null:a},l))[n]},l={wrap:dn[at],textDecoration:he,fontStyle:pe,text:O,perfectDrawEnabled:!1,hitStrokeWidth:0,verticalAlign:rt,align:et,fontFamily:Ke(vt)};if(c()>u)for(;!e&&r>1;){r-=1;var s=c();if(s<=0)break;(s<=u||s<=6)&&(e=r)}else if(r<i)for(;!e&&r<100;){r+=1;var f=c();if(f<=0)break;if(f>=u||f>=18){var d=r-1;e=d>=i?i:d}}return e};(0,H.useEffect)((function(){var t=Number(mt||12)*y;"ShrinkWrap"!==Nt&&t!==se&&de(t)}),[Nt,mt,y,se]),(0,H.useEffect)((function(){if(O&&"ShrinkWrap"===Nt&&1!==se){var t=En(3===at);t&&de(t)}}),[ft.top,ft.left,ft.right,ft.bottom,q,X,y,O,te,at,Ke(vt),mt,se,Nt,rt,Fe,Oe,je]);var Sn=ye?{}:{fill:$},Dn=3===at&&O&&/[\r\n]/g.test(O)?O.replace(/[\r\n]/g,""):O;return V().createElement(V().Fragment,null,V().createElement(qp.Group,(0,ot.c)({height:We,width:Ue,clipX:0,clipY:0,clipWidth:Ue,clipHeight:We},pn,{scale:{x:1,y:1},ref:L,x:Qe,y:Ze,id:Ht?"template_".concat(Ut):Ut,draggable:!Jt&&A,listening:!Ht,name:Ce}),ye&&!!$&&V().createElement(qp.Rect,{height:We,width:Ue,name:"rect-".concat(Ut,"-backColor"),fill:$,scale:{x:1,y:1}}),me?Je?V().createElement(Dg,{width:Ue,height:We,text:Dn,divideNums:ht,fill:ct,divideLineEnable:He,divideLineColor:we,divideLineWidth:Ee,align:et,fontFamily:Ke(vt),fontStyle:pe,textDecoration:he,fontSize:se}):V().createElement(V().Fragment,null,Fe&&Pe,"Formula"===te?V().createElement(qp.Text,{text:"fx",width:yn,height:We,x:oe+(Fe?Cn:0),fill:"#B2B2B2",verticalAlign:"middle",align:"center",fontFamily:Ke(vt),fontStyle:pe,fontSize:se}):null,V().createElement(qp.Text,(0,ot.c)({},wn,(0,T.c)((0,T.c)({perfectDrawEnabled:false,scale:{x:1,y:1},text:Dn,letterSpacing:0,fill:ct,verticalAlign:rt,align:et,name:"".concat(kt),fontFamily:Ke(vt),fontStyle:pe,textDecoration:he,fontSize:se,wrap:dn[at],ref:_,hitStrokeWidth:0},"name",At),"lineHeight",ee)))):null,V().createElement(qp.Rect,(0,ot.c)({height:We,width:Ue,id:"".concat(Ut,"_rect"),name:be},gn,{dashEnabled:Jt?ke&&!kn()(f=[Ne]).call(f,k):ke,listening:!Ht,dash:De,onDblClick:hn,onMouseDown:sn,onContextMenu:fn,scale:{x:1,y:1},x:0,y:0,ref:R,stroke:we,strokeWidth:Ee,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,strokeEnabled:Se},Sn)),yt,Ae),ze)})),gg),Ig=Ag,Mg=function(t,e){var n=t.selectionContext,r=t.activedSelectId,i=t.dataContext,o=t.rulerRef,a=t.navToolRef,u=t.beforeMouseDown,c=i.getRootId(),l=c===e,s=n.getSelection(),f=i.findControl(e),d=null==f?void 0:f.parentId,h=((0,H.useContext)(yn)||{}).isMultiKeyActiveWhenSelectedRef,p=void 0===h?(0,H.useRef)(!1):h,v=(0,H.useCallback)((function(t){var e,n,r=(null!==(e=null===(n=a.current)||void 0===n?void 0:n.formatControlInfoRef)&&void 0!==e?e:{}).current||{},o=r.selectItem;r.isDoubleClick;if(Z.console.log("formatControl",t,c,o,a),o){if(c===t)return void Z.eventBus.emit("format-done");var u=i.findControl(t);Z.console.log("formatControl",(0,ot.c)({},o,u),o,u),i.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[t,(0,ot.c)({formatBrush:!0},j()(ne).call(ne,(function(t,e){var n;if(kn()(n=["DataCell","LayoutCell"]).call(n,o.type)&&"border"===e){if("border"in o&&"border"in u){var r=Y().cloneDeep(o.border);if(r.width.left&&r.width.top&&r.color.left===r.color.top&&r.width.left===r.width.top&&r.style.left===r.style.top){var i=["right","bottom"],a={color:j()(ce).call(ce,(function(t,e){var n=kn()(i).call(i,e)&&r.width[e];return t[e]=n?r.color[e]:r.color.top,t}),{}),width:j()(ce).call(ce,(function(t,e){var n=kn()(i).call(i,e)&&r.width[e];return t[e]=n?r.width[e]:r.width.top,t}),{}),style:j()(ce).call(ce,(function(t,e){var n=kn()(i).call(i,e)&&r.width[e];return Z.console.log(r.style.top),t[e]=n?r.style[e]:r.style.top,t}),{})};t.border=a}else t.border=o.border}}else e in o&&e in u&&(t[e]=o[e]);return t}),{}))]]))}}),[c]),g=e===r,m=kn()(s).call(s,e),y=(0,H.useCallback)((function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2?arguments[2]:void 0,s=t;if(s.id().split("_")[0]!==e&&s.id()!==e&&null!=s&&s.getParent())Z.console.log("handleMouseDown",e,s);else if(Z.console.log("handleMouseDown"),(!u||!u(c))&&e){var f,h,p=(null!==(f=null===(h=a.current)||void 0===h?void 0:h.formatControlInfoRef)&&void 0!==f?f:{}).current||{},m=(p.selectItem,p.isDoubleClick);Z.console.log("isMulti",r,e);var y=n.getSelection();if(r){if(l){var b;if(o)null===(b=o.current)||void 0===b||b.hideLine();return void Z.eventBus.emit("format-done")}if(kn()(y).call(y,e)){var C=F()(y).call(y,(function(t){return t!==e}));n.setSelect(C)}else{var x=y.length?i.findControl(y[0]).parentId:"";d&&d!==x?n.setSelect([e]):n.appendSelect([e])}v(e)}else{if(Z.console.log("id--------------",g,e),kn()(y).call(y,e)){var w;if(bd(i.findControl(e)))n.setSelect([e]);else n.setSelect(P()(w=F()(y).call(y,(function(t){return e!==t}))).call(w,e));return}(!g||y.length>1)&&(n.setSelect(l?[]:[e]),v(e))}!1===m&&Z.eventBus.emit("format-done")}}),[l,e,g,c,u]),b=(0,H.useCallback)((function(t){var e,n=t.currentTarget;if(0===(null===(e=t.evt)||void 0===e?void 0:e.button)||0===t.button){var r=Tv(t.evt);window.requestAnimationFrame((function(){y(n,r,t),p.current=r}))}}),[y,l,e,g,c,u]);return{isRootId:l,selection:s,isSelected:m,activedSelectId:r,isLastSelected:g,handleMouseDown:b}},Tg=function(t){return(0,H.useCallback)((function(e){var n;if(Z.console.log("grid cellItem onMouseDown",t),t&&kn()(n=[se,"2"]).call(n,t)&&"dblclick"!==(null==e?void 0:e.type))return!0}),[t])},Bg=["key"];function Fg(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lg(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Fg(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Fg(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Rg=function(t){var e=t.data,n=t.children,r=(t.meta,e.key),i=(0,zn.c)(e,Bg),o=(0,H.useContext)(vn),a=(0,H.useContext)(yn),u=(0,H.useContext)(mn).gridState,c=e.id,l=a.activedSelectId,s=Mg(Lg(Lg({},o),{},{beforeMouseDown:Tg(u),activedSelectId:l}),c),f=s.handleMouseDown,d=s.isSelected,h=s.isLastSelected;return V().createElement(Ig,(0,ot.c)({id:c},i,{dataKey:r,isLastSelected:h,isSelected:d,handleMouseDown:f}),n)},_g=["x","y","width","height","border","displayMode","name","bindType","bindText","bindField","type","id","isLastSelected","handleMouseDown","isSelected","horAlignment","verAlignment"],Ng=(0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,c=(0,H.useContext)(vn),l=c.globalConfig.previewImageUrl,s=(0,H.useContext)(mn),f=((0,H.useState)(0)[1],s.gridState),d=s.isEditorGridState,h=void 0===d||d,p=(c.selectionContext.getSelection(),c.scale),v=void 0===p?1:p,g=c.contextStrokeEnabled,m=c.pixelRatio,y=hg(),b=(0,H.useRef)(null),C=(0,H.useRef)(null);hv({shapeRef:b});var x=t.x,w=void 0===x?0:x,E=t.y,S=void 0===E?0:E,k=t.width,D=t.height,A=t.border,I=t.displayMode,M=void 0===I?"zoom":I,T=t.name,B=t.bindType,F=t.bindText,L=t.bindField,R=t.type,_=t.id,N=t.isLastSelected,O=t.handleMouseDown,j=t.isSelected,G=t.horAlignment,z=void 0===G?"left":G,U=t.verAlignment,W=void 0===U?"top":U,Q=(0,zn.c)(t,_g);Z.console.log("image----PROPS",t),uv({isSelected:j,refs:[b],pixelRatio:m,scale:v,currentProp:{x:w,y:S,width:k,height:D,displayMode:M,name:T,bindType:B,bindText:F,bindField:L,type:R,id:_}});var J=ng({x:w,y:S,id:_,width:k,height:D,border:A,scale:v,isSelected:j,contextStrokeEnabled:g}),K=J.stroke,Y=J.strokeWidth,q=J.strokeEnabled,X=J.dashEnabled,$=J.defaultDash,tt=J.customedStrokeElement,et=J.controlStrokeRef,nt=dv({strokeEnabled:q,shapeRef:C,isSelected:N,shapeRefStroke:K,controlStrokeRef:et}),rt=nt.onMouseOut,it=nt.onMouseOver,at=$n(F).isBindField?"":L,ut=at?P()(n="".concat(l)).call(n,L):"data:image/png;base64,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",ct=dg(k,v),lt=dg(D,v),st=Qf(w,v),ft=Qf(S,v),dt=(0,H.useCallback)((function(t,e,n,r){if(at){var i="zoom"===M?t/e<k/D?{width:D/e*t,height:D}:{width:k,height:k/t*e}:{width:t,height:e},o=i.width,a=i.height,u=0,c=0;if(D-a>0)switch(n){case"middle":u=(D-a)/2;break;case"bottom":u=D-a}if(k-o>0)switch(r){case"center":c=(k-o)/2;break;case"right":c=k-o}return{height:a,width:o,top:u,left:c}}return{width:at?t:k,height:at?e:D,top:0,left:0}}),[k,D,M,at,v]),ht=fg(t,c),pt=pv({id:_,refLineRef:c.refLineRef}),vt=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height;c.dataContext.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[_,{x:Zf(e,v),y:Zf(n,v),width:Zf(r,v),height:Zf(i,v)}]]))}),[_,v]),gt=nv({id:_,shapeRef:b,refLineRef:c.refLineRef,context:c,onDragEnd:ht,onDragMove:pt,parentId:t.parentId,scale:v}),mt=gt.onDragStart,yt=gt.onDragMove,bt=gt.onDragEnd,Ct=gt.dragBoundFunc,xt=av({id:_,shapeRef:C,refLineRef:c.refLineRef,onTransformEnd:vt,context:c}),wt=xt.onTransform,At=xt.onTransformEnd,It={stageRef:c.stageRef,rootControlRef:c.rootControlRef,selectedId:_,isSelected:j&&!N};return V().createElement(V().Fragment,null,V().createElement(qp.Group,(0,ot.c)({height:lt,width:ct,clipX:0,clipY:0,clipWidth:ct,clipHeight:lt,onDragStart:mt,onDragMove:yt,onDragEnd:bt,onMouseOut:rt,onMouseOver:it,onMouseDown:O,onDblClick:function(t){Z.console.log("image onDblClick"),y(t,f,O)},ref:b},Q,{x:st,y:ft,dragBoundFunc:Ct,id:_,draggable:h,name:P()(r=P()(i="".concat(Et," ")).call(i,St," ")).call(r,kt)}),V().createElement(og,{getImageSize:dt,src:ut,scale:v,horAlignment:z,verAlignment:W}),V().createElement(qp.Rect,{height:lt,width:ct,name:P()(o=P()(a=P()(u="".concat(_," ")).call(u,St," ")).call(a,kt," ")).call(o,Dt),fill:"transparent",onTransform:wt,onTransformEnd:At,dashEnabled:X,dash:$,scale:{x:1,y:1},ref:C,stroke:K,strokeWidth:Y,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:q}),tt),V().createElement(bg,It))})),Pg=Ng,Og=["key"];function jg(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=jg(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=jg(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var zg=function(t){var e=t.data,n=e.key,r=(0,zn.c)(e,Og),i=(0,H.useContext)(vn),o=(0,H.useContext)(yn),a=(0,H.useContext)(mn).gridState,u=e.id,c=o.activedSelectId,l=Mg(Gg(Gg({},i),{},{beforeMouseDown:Tg(a),activedSelectId:c}),u),s=l.handleMouseDown,f=l.isSelected,d=l.isLastSelected;return V().createElement(Pg,(0,ot.c)({},r,{dataKey:n,isLastSelected:d,isSelected:f,handleMouseDown:s}))},Ug=["x","y","width","height","border","name","bindField","type","id","isLastSelected","handleMouseDown","isSelected"],Wg=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u=(0,H.useContext)(vn),c=(u.selectionContext.getSelection(),u.scale),l=void 0===c?1:c,s=u.contextStrokeEnabled,f=u.pixelRatio,d=(0,H.useContext)(mn),h=d.gridState,p=d.isEditorGridState,v=void 0===p||p,g=(0,H.useRef)(null),m=(0,H.useRef)(null);Z.console.log(u,u.refLineRef.searchRefLines);var y=hg();hv({shapeRef:g});var b=t.x,C=void 0===b?0:b,x=t.y,w=void 0===x?0:x,E=t.width,S=t.height,k=t.border,D=t.name,A=t.bindField,I=t.type,M=t.id,T=t.isLastSelected,B=t.handleMouseDown,F=t.isSelected,L=(0,zn.c)(t,Ug);Z.console.log("qrcode----PROPS",t),uv({isSelected:F,refs:[g],pixelRatio:f,scale:l,currentProp:{x:C,y:w,width:E,height:S,name:D,bindField:A,type:I,id:M}});var R=ng({x:C,y:w,id:M,width:E,height:S,border:k,scale:l,isSelected:F,contextStrokeEnabled:s}),_=R.stroke,N=R.strokeWidth,O=R.strokeEnabled,j=R.dashEnabled,G=R.defaultDash,z=R.customedStrokeElement,U=R.controlStrokeRef,W=dv({strokeEnabled:O,shapeRef:m,isSelected:T,shapeRefStroke:_,controlStrokeRef:U}),Q=W.onMouseOut,J=W.onMouseOver,K=(0,H.useMemo)((function(){return"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjYwcHgiIGhlaWdodD0iNjBweCIgdmlld0JveD0iMCAwIDYwIDYwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjZmZmOyI+DQogICAgPHRpdGxlPuS6jOe7tOeggTwvdGl0bGU+DQogICAgPGcgaWQ9IuS6jOe7tOeggSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxwYXRoIGQ9Ik0yMCw0MCBMMjAsNjAgTDAsNjAgTDAsNDAgTDIwLDQwIFogTTM5LDUzIEwzOSw1NyBMNDQsNTcgTDQ0LDYwIEwzMyw2MCBMMzMsNTcgTDM2LDU3IEwzNiw1MyBMMzksNTMgWiBNNjAsNTcgTDYwLDYwIEw1Nyw2MCBMNTcsNTcgTDYwLDU3IFogTTU0LDU3IEw1NCw2MCBMNTEsNjAgTDUxLDU3IEw1NCw1NyBaIE0yNyw0NyBMMjcsNTAgTDM2LDUwIEwzNiw1MyBMMjcsNTMgTDI3LDYwIEwyNCw2MCBMMjQsNDcgTDI3LDQ3IFogTTE3LDQzIEwzLDQzIEwzLDU3IEwxNyw1NyBMMTcsNDMgWiBNNjAsNDQgTDYwLDUwIEw1Nyw1MCBMNTcsNDcgTDU0LDQ3IEw1NCw1MCBMNTcsNTAgTDU3LDU3IEw1NCw1NyBMNTQsNTMgTDQ3LDUzIEw0Nyw1NiBMNDQsNTYgTDQ0LDUzIEw0Nyw1MyBMNDcsNTAgTDUxLDUwIEw1MSw0NyBMNTQsNDcgTDU0LDQ0IEw2MCw0NCBaIE0xNCw0NiBMMTQsNTQgTDYsNTQgTDYsNDYgTDE0LDQ2IFogTTQ1LDQ3IEw0NSw1MCBMMzYsNTAgTDM2LDQ3IEw0NSw0NyBaIE00OCw0MSBMNDgsNDQgTDUxLDQ0IEw1MSw0NyBMNDUsNDcgTDQ1LDQxIEw0OCw0MSBaIE0yNywzNSBMMjcsNDEgTDMwLDQxIEwzMCwzOCBMMzYsMzggTDM2LDM1IEw0NSwzNSBMNDUsNDEgTDQyLDQxIEw0MiwzOCBMMzYsMzggTDM2LDQxIEwzMyw0MSBMMzMsNDQgTDMwLDQ0IEwzMCw0NyBMMjcsNDcgTDI3LDQ0IEwyNCw0NCBMMjQsMzUgTDI3LDM1IFogTTQyLDQxIEw0Miw0NCBMMzYsNDQgTDM2LDQxIEw0Miw0MSBaIE01NCw0MSBMNTQsNDQgTDUxLDQ0IEw1MSw0MSBMNTQsNDEgWiBNNTEsMzggTDUxLDQxIEw0OCw0MSBMNDgsMzggTDUxLDM4IFogTTYwLDM4IEw2MCw0MSBMNTQsNDEgTDU0LDM4IEw2MCwzOCBaIE01NCwzNSBMNTQsMzggTDUxLDM4IEw1MSwzNSBMNTQsMzUgWiBNMjEsMzUgTDIxLDM4IEwxOCwzOCBMMTgsMzUgTDIxLDM1IFogTTE1LDM1IEwxNSwzOCBMMTIsMzggTDEyLDM1IEwxNSwzNSBaIE0xNSwyMyBMMTUsMjYgTDE4LDI2IEwxOCwyMyBMMjcsMjMgTDI3LDI2IEwyNCwyNiBMMjQsMjkgTDIxLDI5IEwyMSwyNiBMMTgsMjYgTDE4LDI5IEwyMSwyOSBMMjEsMzIgTDE4LDMyIEwxOCwzNSBMMTUsMzUgTDE1LDI5IEw5LDI5IEw5LDMyIEwxMiwzMiBMMTIsMzUgTDksMzUgTDksMzggTDMsMzggTDMsMzIgTDYsMzIgTDYsMjkgTDksMjkgTDksMjYgTDYsMjYgTDYsMjkgTDMsMjkgTDMsMjYgTDAsMjYgTDAsMjMgTDE1LDIzIFogTTUxLDMyIEw1MSwzNSBMNDgsMzUgTDQ4LDMyIEw1MSwzMiBaIE0yNCwzMiBMMjQsMzUgTDIxLDM1IEwyMSwzMiBMMjQsMzIgWiBNMzYsMzIgTDM2LDM1IEwzMywzNSBMMzMsMzIgTDM2LDMyIFogTTYwLDMyIEw2MCwzNSBMNTQsMzUgTDU0LDMyIEw2MCwzMiBaIE00OCwyOSBMNDgsMzIgTDQ1LDMyIEw0NSwyOSBMNDgsMjkgWiBNMzksMjYgTDM5LDMyIEwzNiwzMiBMMzYsMjYgTDM5LDI2IFogTTI3LDI5IEwyNywzMiBMMjQsMzIgTDI0LDI5IEwyNywyOSBaIE0zLDI5IEwzLDMyIEwwLDMyIEwwLDI5IEwzLDI5IFogTTMzLDI2IEwzMywyOSBMMjcsMjkgTDI3LDI2IEwzMywyNiBaIE00NSwyNiBMNDUsMjkgTDQyLDI5IEw0MiwyNiBMNDUsMjYgWiBNNTEsMjYgTDUxLDI5IEw0OCwyOSBMNDgsMjYgTDUxLDI2IFogTTYwLDIzIEw2MCwyOSBMNTQsMjkgTDU0LDI2IEw1NywyNiBMNTcsMjMgTDYwLDIzIFogTTM2LDIzIEwzNiwyNiBMMzMsMjYgTDMzLDIzIEwzNiwyMyBaIE00MiwyMyBMNDIsMjYgTDM5LDI2IEwzOSwyMyBMNDIsMjMgWiBNNTQsMjMgTDU0LDI2IEw1MSwyNiBMNTEsMjMgTDU0LDIzIFogTTQ4LDIzIEw0OCwyNiBMNDUsMjYgTDQ1LDIzIEw0OCwyMyBaIE0zMCwyMCBMMzAsMjMgTDI3LDIzIEwyNywyMCBMMzAsMjAgWiBNMjAsMCBMMjAsMjAgTDAsMjAgTDAsMCBMMjAsMCBaIE02MCwwIEw2MCwyMCBMNDAsMjAgTDQwLDAgTDYwLDAgWiBNMzMsMTcgTDMzLDIwIEwzMCwyMCBMMzAsMTcgTDMzLDE3IFogTTM5LDE3IEwzOSwyMCBMMzYsMjAgTDM2LDE3IEwzOSwxNyBaIE0yNywxNCBMMjcsMjAgTDI0LDIwIEwyNCwxNCBMMjcsMTQgWiBNMTcsMyBMMywzIEwzLDE3IEwxNywxNyBMMTcsMyBaIE01NywzIEw0MywzIEw0MywxNyBMNTcsMTcgTDU3LDMgWiBNMzYsMTQgTDM2LDE3IEwzMywxNyBMMzMsMTQgTDM2LDE0IFogTTE0LDYgTDE0LDE0IEw2LDE0IEw2LDYgTDE0LDYgWiBNMzcsMCBMMzcsMTEgTDM0LDExIEwzNCw5IEwzMSw5IEwzMSwxNCBMMjgsMTQgTDI4LDExIEwyNSwxMSBMMjUsOCBMMjgsOCBMMjgsNiBMMjIsNiBMMjIsMyBMMjgsMyBMMjgsMCBMMzcsMCBaIE01NCw2IEw1NCwxNCBMNDYsMTQgTDQ2LDYgTDU0LDYgWiBNMzQsMyBMMzEsMyBMMzEsNiBMMzQsNiBMMzQsMyBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjMjEyMTIxIj48L3BhdGg+DQogICAgPC9nPg0KPC9zdmc+"}),[]),Y=dg(E,l),q=dg(S,l),X=Qf(C,l),$=Qf(w,l),tt=(0,H.useMemo)((function(){return E>S?Qf((E-S)/2,l):0}),[E,S,l]),et=(0,H.useMemo)((function(){return S>E?Qf((S-E)/2,l):0}),[E,S,l]),nt=(0,H.useCallback)((function(){var t=E>S?S:E;return{width:t,height:t}}),[E,S]),rt=fg(t,u),it=pv({id:M,refLineRef:u.refLineRef}),at=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height;u.dataContext.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[M,{x:Zf(e,l),y:Zf(n,l),width:Zf(r,l),height:Zf(i,l)}]]))}),[M,l]),ut=nv({id:M,shapeRef:g,refLineRef:u.refLineRef,context:u,onDragEnd:rt,onDragMove:it,parentId:t.parentId,scale:l}),ct=ut.onDragStart,lt=ut.onDragMove,st=ut.onDragEnd,ft=ut.dragBoundFunc,dt=av({id:M,shapeRef:m,refLineRef:u.refLineRef,onTransformEnd:at,context:u}),ht=dt.onTransform,pt=dt.onTransformEnd,vt={stageRef:u.stageRef,rootControlRef:u.rootControlRef,selectedId:M,isSelected:F&&!T};return V().createElement(V().Fragment,null,V().createElement(qp.Group,(0,ot.c)({height:q,width:Y,clipX:0,clipY:0,clipWidth:Y,clipHeight:q,onDragStart:ct,onDragMove:lt,onDragEnd:st,onMouseOut:Q,onMouseOver:J,onDblClick:function(t){Z.console.log("image onDblClick"),y(t,h,B)},scale:{x:1,y:1},onMouseDown:B,ref:g},L,{x:X,y:$,dragBoundFunc:ft,id:M,draggable:v,name:P()(n=P()(r="".concat(Et," ")).call(r,St," ")).call(n,kt)}),V().createElement(og,{getImageSize:nt,src:K,scale:l,x:tt,y:et}),V().createElement(qp.Rect,{height:q,width:Y,name:P()(i=P()(o=P()(a="".concat(M," ")).call(a,St," ")).call(o,kt," ")).call(i,Dt),fill:"transparent",onTransform:ht,onTransformEnd:pt,dashEnabled:j,dash:G,scale:{x:1,y:1},ref:m,stroke:_,strokeWidth:N,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:O}),z),V().createElement(bg,vt))})),gg),Qg=Wg,Zg=["key"];function Jg(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hg(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Jg(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Jg(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Vg=function(t){var e=t.data,n=e.key,r=(0,zn.c)(e,Zg),i=(0,H.useContext)(vn),o=(0,H.useContext)(yn),a=(0,H.useContext)(mn).gridState,u=e.id,c=o.activedSelectId,l=Mg(Hg(Hg({},i),{},{beforeMouseDown:Tg(a),activedSelectId:c}),u),s=l.handleMouseDown,f=l.isSelected,d=l.isLastSelected;return V().createElement(Qg,(0,ot.c)({},r,{dataKey:n,isLastSelected:d,isSelected:f,handleMouseDown:s}))},Kg=["x","y","width","height","border","name","bindField","encodeMode","showLabel","rotate","id","isLastSelected","handleMouseDown","isSelected"];var Yg=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,c=(0,H.useContext)(vn),l=(0,H.useState)((function(){return function(){for(var t=[];t.length<13;){var e=Math.floor(10*Math.random());t.push(e)}return t.join("")}()}))[0],s=(c.selectionContext.getSelection(),c.scale),f=void 0===s?1:s,d=c.contextStrokeEnabled,h=c.pixelRatio,p=(0,H.useContext)(mn),v=p.gridState,g=p.isEditorGridState,m=void 0===g||g,y=(0,H.useRef)(null),b=(0,H.useRef)(null),C=hg();Z.console.log(c,c.refLineRef.searchRefLines);var x=t.x,w=void 0===x?0:x,E=t.y,S=void 0===E?0:E,k=t.width,D=t.height,A=t.border,I=t.name,M=t.bindField,T=t.encodeMode,B=t.showLabel,F=t.rotate,L=t.id,R=t.isLastSelected,_=t.handleMouseDown,N=t.isSelected,O=(0,zn.c)(t,Kg);uv({isSelected:N,refs:[y],pixelRatio:h,scale:f,currentProp:{x:w,y:S,width:k,height:D,name:I,bindField:M,encodeMode:T,showLabel:B,rotate:F,id:L}});var j=ng({x:w,y:S,id:L,width:k,height:D,border:A,scale:f,isSelected:N,contextStrokeEnabled:d}),G=j.stroke,z=j.strokeWidth,U=j.strokeEnabled,W=j.dashEnabled,Q=j.defaultDash,J=j.customedStrokeElement,K=j.controlStrokeRef,Y=dv({strokeEnabled:U,shapeRef:b,isSelected:R,shapeRefStroke:G,controlStrokeRef:K}),q=Y.onMouseOut,X=Y.onMouseOver,$=dg(D,f),tt=dg(k,f),et=tt,nt=$,rt=Qf(w,f),it=Qf(S,f),at=(0,H.useMemo)((function(){return{rotation:Number(F)||0}}),[F]),ut=fg(t,c),ct=pv({id:L,refLineRef:c.refLineRef}),lt=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height;c.dataContext.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[L,{x:Zf(e,f),y:Zf(n,f),width:Zf(r,f),height:Zf(i,f)}]]))}),[L,f]),st=nv({id:L,shapeRef:y,refLineRef:c.refLineRef,context:c,onDragEnd:ut,onDragMove:ct,parentId:t.parentId,scale:f}),ft=st.onDragStart,dt=st.onDragMove,ht=st.onDragEnd,pt=st.dragBoundFunc,vt=av({id:L,shapeRef:b,refLineRef:c.refLineRef,onTransformEnd:lt,context:c}),gt=vt.onTransform,mt=vt.onTransformEnd,yt={stageRef:c.stageRef,rootControlRef:c.rootControlRef,selectedId:L,isSelected:N&&!R},bt=(0,H.useMemo)((function(){var t=Number(F),e=Math.min(tt/9,.3*$);return 90===t||270===t?(e=Math.min($/9,.3*tt),{width:$,height:1.2*e,fontSize:e}):{width:tt,height:1.2*e,fontSize:e}}),[F,tt,$]),Ct=(0,H.useCallback)((function(){var t=Number(F);return 90===t||270===t?{width:D,height:B?Zf(tt-bt.height):k}:{width:k,height:B?Zf($-bt.height):D}}),[k,D,B,F]),xt=(0,H.useMemo)((function(){switch(Number(F)){case 90:case 180:return tt;default:return 0}}),[F,tt,$]),wt=(0,H.useMemo)((function(){switch(Number(F)){case 90:default:return 0;case 180:case 270:return $}}),[F,tt,$]),It=(0,H.useMemo)((function(){switch(Number(F)){case 90:return bt.height;case 180:return tt;case 270:return tt-bt.height;default:return 0}}),[F,tt,$]),Mt=(0,H.useMemo)((function(){switch(Number(F)){case 90:return 0;case 180:return bt.height;case 270:return $;default:return $-bt.height}}),[F,tt,$]);Z.console.log("labelProps",bt);var Tt=c.dataContext.getData().bizType;return V().createElement(V().Fragment,null,V().createElement(qp.Group,(0,ot.c)({height:nt,width:et,clipX:0,clipY:0,clipWidth:et,clipHeight:nt,onDragStart:ft,onDragMove:dt,onDragEnd:ht,onMouseOut:q,onMouseOver:X,onMouseDown:_,onDblClick:function(t){Z.console.log("image onDblClick"),C(t,v,_)},ref:y},O,{x:rt,y:it,dragBoundFunc:pt,id:L,draggable:m,name:P()(n=P()(r="".concat(Et," ")).call(r,St," ")).call(n,kt)}),V().createElement(qp.Group,{x:0,y:0,height:nt,width:et,name:Et},V().createElement(og,(0,ot.c)({getImageSize:Ct,src:"data:image/png;base64,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",scale:f,x:"1"===Tt?(et-Qf(48,f))/2||0:xt,width:"1"===Tt?Qf(48):void 0,y:wt},at)),B&&V().createElement(qp.Text,(0,ot.c)({},bt,{x:It,y:Mt,text:l,fill:"#000",verticalAlign:"middle",align:"center",name:P()(i="".concat(kt," ")).call(i,At),hitStrokeWidth:0},at))),V().createElement(qp.Rect,{height:nt,width:et,name:P()(o=P()(a=P()(u="".concat(L," ")).call(u,St," ")).call(a,kt," ")).call(o,Dt),fill:"transparent",onTransform:gt,onTransformEnd:mt,dashEnabled:W,dash:Q,scale:{x:1,y:1},ref:b,stroke:G,strokeWidth:z,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:U}),J),V().createElement(bg,yt))}))),qg=Yg,Xg=["key"];function $g(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function tm(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=$g(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=$g(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var em=function(t){var e=t.data,n=e.key,r=(0,zn.c)(e,Xg),i=(0,H.useContext)(vn),o=(0,H.useContext)(yn),a=(0,H.useContext)(mn).gridState,u=e.id,c=o.activedSelectId,l=Mg(tm(tm({},i),{},{beforeMouseDown:Tg(a),activedSelectId:c}),u),s=l.handleMouseDown,f=l.isSelected,d=l.isLastSelected;return V().createElement(qg,(0,ot.c)({},r,{dataKey:n,isLastSelected:d,isSelected:f,handleMouseDown:s}))},nm=n(57048),rm=n(25700),im=n.n(rm),om=function(t){var e=t.className;return V().createElement("div",{className:"".concat(e,"-empty")},V().createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAABgCAYAAACJ8DltAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAqKADAAQAAAABAAAAYAAAAACo6b7MAAADyUlEQVR4Ae2dP2vUYBzHn1QRoRQcRK9SXERQFwfxRfgmHJ0cuohOenUTFwcnwaVvwlfgJA66KIiLHHh1cCkt4mBMaofL3TWN3KX5ffP9HBR6Se7J98+HJ5e7cEmJBwmQAAmQAAmQAAmQAAmQAAmQAAmQAAmQAAmQAAmQAAmQQGcJZJ3tueUd53l+ZvRj72me0t2U5+st724pw+/sjLdu37w6XMpgPRlkpSc+ZmwcwJnnD1XgLA3keXry7sOX4YwZ4wW9BfRg5hQsFkirpfUWUKWZs1oJM+lkHv0FdNKl4P/MpP9KA9DA8AJpSgAaGNBSmjukABocUHdIAVQAUGdIAVQEUFdIAVQIUEdIAVQMUDdIAVQQUCdIAVQUUBdIAVQYUAdIe3u53bfxbnG9yOxjPB7PLpxaMhgMppbEf3p5sNbLLplB47NnrRBAreuPbx5A43dkrRBAreuPbx5A43dkrRBAreuPbx5A43dkrRBAreuPb/50fInLVaj4IfxyE9AajRlUqy87tQBqV7mWYQDV6stOLYDaVa5lGEC1+rJTa3cW3+Ryu8gUuH0K0ctrCEvAFrke9H8A/Tg6m16/PZd+7lcPRjtfP9UO8+D+rdr1i67cfrNfGSLL0tbnF6vDykKBJ9VUBQRHkzgPzmgaSz3lL5Rc29wbRtRWpwlA69JpsG565mzwks42UYQUQDvDpZsdq0Fqd5LUDRbt7fX5y/eVwZu8tz2ENCm8J7UD1O0suELvxBMVSDnET5Tm9m8JaXTPABq9IXN9AGoOQHT7ABq9IXN9AGoOQHT7dmfxy/8u/lL0jqX12QEq3dYc8U0+95zzMplFHOJlqvIUCqCevcu4BlCZqjyF8h60pd4vXrleO/L09Zq1GxuvtAOU7+K1aOcQr9WXnVoAtatcyzCAavVlpxZA7SrXMgygWn3ZqQVQu8q1DAOoVl92agHUrnItwwCq1ZedWgC1q1zLMIBq9WWnFkDtKtcyDKBafdmpBVC7yrUMA6hWX3ZqAdSuci3DAKrVl51aALWrXMswgGr1ZacWQO0q1zIMoFp92akFULvKtQwDqFZfdmoB1K5yLcMAqtWXnVoAtatcy3B/f/omy74X9/9b76qO4+7VedK6jvutqJPW03R/vZ1Bi7vkbjcNge3iJtBbQDcurD7OsuxZKmfSFh/n11ocvPWhs1Hru1hwB709xBdw/i6yeXT4t2BMR7/8xuavOyn9eVXcT3jj6K0irslGp7KVexGVoYkESIAESIAESIAESIAESIAESIAESIAESIAESIAEnBL4C2BywrT3uwIUAAAAAElFTkSuQmCC",width:"168",height:"96",alt:(0,Z.getLangMsg)("printd.components.key0018")}),V().createElement("div",{className:"".concat(e,"-empty-text")},(0,Z.getLangMsg)("printd.components.key0019")))},am=function(t){var e=t.visible,n=(t.meta,t.definition,t.onConfirm),r=t.onCancel,i=t.onClose,o="change-lang",a=function(){n()},u=V().createElement(V().Fragment,null,V().createElement("div",{className:"".concat(o,"-modal-footer-btns")},V().createElement(Q.Button,{onClick:function(){r()},type:"second",className:"".concat(o,"-modal-cancel-btn")},(0,Z.getLangMsg)("printd.components.key0020")),V().createElement(Q.Button,{className:"".concat(o,"-modal-ok-btn"),type:"primary",onClick:a},(0,Z.getLangMsg)("printd.components.key0021"))));return V().createElement(Q.Modal,{body:V().createElement(om,{className:"".concat(o,"-body")}),maskClosable:!1,className:"".concat(o,"-modal"),footer:u,bodyStyle:{display:"flex",alignItems:"center",justifyContent:"center"},title:(0,Z.getLangMsg)("printd.components.key0018"),type:"confirm",destroyOnClose:!0,onCancel:i,onOk:a,mask:!0,visible:e})},um=function(t){var e,n=t.className,r=t.row,i=t.setRow,o=t.column,a=t.setColumn,u=t.errorTipShow,c=t.setErrorTipShow,l=(0,H.useState)(0),s=(0,M.c)(l,2),f=s[0],d=s[1],h=(0,H.useState)(0),p=(0,M.c)(h,2),v=p[0],g=p[1],m=(0,H.useContext)(Z.DataContext),y=m.getRootId(),b=m.findControl(y).language,C=(0,H.useCallback)((function(){d(0),g(0)}),[]),x=(0,H.useCallback)((function(){return V().createElement("span",{className:"exceed-cell"},"...")}),[]),w=(0,H.useCallback)((function(t){var e=[1,2,3,4,5,6,7,8,9,10];return R()(e).call(e,(function(e){var n,u,c=t<=r&&e<=o,l=t<=f&&e<=v;return V().createElement("div",{className:Qn()({cell:!0,active:c,hover:!c&&l}),key:P()(n="".concat(t,"-")).call(n,e),onClick:function(){return function(t,e){t=String(t),e=String(e),i(t),a(e)}(t,e)},onMouseOver:function(){return function(t,e){d(t),g(e)}(t,e)}},(u=e,8===t&&r>8&&u<=o||10===u&&o>10&&t<=r?x():null))}))}),[r,o,f,v]);return V().createElement(V().Fragment,null,u&&V().createElement(Q.Alert,{className:"".concat(n,"-alert"),message:(0,Z.getLangMsg)("printd.components.key0030"),type:"error",delayOffTime:0,closable:!0,showIcon:!0,onClose:function(){return c(!1)}}),V().createElement("div",{className:n},V().createElement("div",{className:"grid-info"},V().createElement("div",{className:"grid-input"},V().createElement("div",{className:"label"},(0,Z.getLangMsg)("printd.components.key0015")),V().createElement(Q.InputNumber,{placeholder:"",value:r,style:"en_US"===b?{width:45}:{},onChange:function(t){i(t.target.value)}})),V().createElement("div",{className:"grid-input"},V().createElement("div",{className:"label"},(0,Z.getLangMsg)("printd.components.key0016")),V().createElement(Q.InputNumber,{placeholder:"",value:o,style:"en_US"===b?{width:45}:{},onChange:function(t){a(t.target.value)}}))),V().createElement("div",{className:"grid-main",onMouseLeave:C},(e=[1,2,3,4,5,6,7,8],R()(e).call(e,(function(t){return V().createElement("div",{className:"row",key:t},w(t))}))))))},cm=function(t){var e=t.visible,n=t.onCancel,r=(t.meta,t.definition,t.onConfirm),i=(0,H.useState)(""),o=(0,M.c)(i,2),a=o[0],u=o[1],c=(0,H.useState)(""),l=(0,M.c)(c,2),s=l[0],f=l[1],d=(0,H.useState)(!1),h=(0,M.c)(d,2),p=h[0],v=h[1],g="grid-settings",m=V().createElement(V().Fragment,null,V().createElement("div",{className:"".concat(g,"-modal-footer-btns")},V().createElement(Q.Button,{onClick:n,type:"second",className:"".concat(g,"-modal-cancel-btn")},(0,Z.getLangMsg)("printd.components.key0011")),V().createElement(Q.Button,{className:"".concat(g,"-modal-ok-btn"),type:"primary",onClick:function(){if(!(Number(a)>0&&Number(s)>0))return Z.console.log("errorTipShow",p),v(!0);p&&v(!1),r({row:a,column:s})}},(0,Z.getLangMsg)("printd.components.key0012"))));return V().createElement(Q.Modal,{body:V().createElement(um,{className:"".concat(g,"-body"),row:a,setRow:u,column:s,setColumn:f,errorTipShow:p,setErrorTipShow:v}),titleIcon:null,maskClosable:!1,className:"".concat(g,"-modal"),footer:m,width:400,height:500,title:(0,Z.getLangMsg)("printd.components.key0017"),destroyOnClose:!0,closable:!0,onCancel:n,onOk:function(){return null},mask:!0,visible:e})},lm=function(t){var e,n=t.className,r=t.row,i=t.setRow,o=t.column,a=t.setColumn,u=t.errorTipShow,c=t.setErrorTipShow,l=(0,H.useState)(0),s=(0,M.c)(l,2),f=s[0],d=s[1],h=(0,H.useState)(0),p=(0,M.c)(h,2),v=p[0],g=p[1],m=(0,H.useContext)(Z.DataContext),y=m.getRootId(),b=m.findControl(y).language,C=(0,H.useCallback)((function(){d(0),g(0)}),[]),x=(0,H.useCallback)((function(){return V().createElement("span",{className:"exceed-cell"},"...")}),[]),w=(0,H.useCallback)((function(t){var e=[1,2,3,4,5,6,7,8,9,10];return R()(e).call(e,(function(e){var n,u,c=t<=r&&e<=o,l=t<=f&&e<=v;return V().createElement("div",{className:Qn()({cell:!0,active:c,hover:!c&&l}),key:P()(n="".concat(t,"-")).call(n,e),onClick:function(){return function(t,e){t=String(t),e=String(e),i(t),a(e)}(t,e)},onMouseOver:function(){return function(t,e){d(t),g(e)}(t,e)}},(u=e,8===t&&r>8&&u<=o||10===u&&o>10&&t<=r?x():null))}))}),[r,o,f,v]);return V().createElement(V().Fragment,null,u&&V().createElement(Q.Alert,{className:"".concat(n,"-alert"),message:(0,Z.getLangMsg)("printd.components.key0014"),type:"error",delayOffTime:0,closable:!0,showIcon:!0,onClose:function(){return c(!1)}}),V().createElement("div",{className:n},V().createElement("div",{className:"grid-info"},V().createElement("div",{className:"grid-input"},V().createElement("div",{className:"label"},(0,Z.getLangMsg)("printd.components.key0015")),V().createElement(Q.InputNumber,{placeholder:"",value:r,style:"en_US"===b?{width:45}:{},onChange:function(t){i(t.target.value)}})),V().createElement("div",{className:"grid-input"},V().createElement("div",{className:"label"},(0,Z.getLangMsg)("printd.components.key0016")),V().createElement(Q.InputNumber,{placeholder:"",value:o,style:"en_US"===b?{width:45}:{},onChange:function(t){a(t.target.value)}}))),V().createElement("div",{className:"grid-main",onMouseLeave:C},(e=[1,2,3,4,5,6,7,8],R()(e).call(e,(function(t){return V().createElement("div",{className:"row",key:t},w(t))}))))))},sm=function(t){var e=t.visible,n=t.onCancel,r=(t.meta,t.definition,t.onConfirm),i=(0,H.useState)(""),o=(0,M.c)(i,2),a=o[0],u=o[1],c=(0,H.useState)(""),l=(0,M.c)(c,2),s=l[0],f=l[1],d=(0,H.useState)(!1),h=(0,M.c)(d,2),p=h[0],v=h[1],g="grid-settings",m=V().createElement(V().Fragment,null,V().createElement("div",{className:"".concat(g,"-modal-footer-btns")},V().createElement(Q.Button,{onClick:n,type:"second",className:"".concat(g,"-modal-cancel-btn")},(0,Z.getLangMsg)("printd.components.key0011")),V().createElement(Q.Button,{className:"".concat(g,"-modal-ok-btn"),type:"primary",onClick:function(){if(!(Number(a)>0&&Number(s)>0))return Z.console.log("errorTipShow",p),v(!0);p&&v(!1),r({row:a,column:s})}},(0,Z.getLangMsg)("printd.components.key0012"))));return V().createElement(Q.Modal,{body:V().createElement(lm,{className:"".concat(g,"-body"),row:a,setRow:u,column:s,setColumn:f,errorTipShow:p,setErrorTipShow:v}),titleIcon:null,maskClosable:!1,className:"".concat(g,"-modal"),footer:m,width:400,height:500,title:(0,Z.getLangMsg)("printd.components.key0017"),destroyOnClose:!0,closable:!0,onCancel:n,onOk:function(){return null},mask:!0,visible:e})};function fm(t,e){var n=void 0!==Nn()&&On()(t)||t["@@iterator"];if(!n){if(Gn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return dm(t,e);var r=En()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Rn()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dm(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function dm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hm(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function pm(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=hm(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=hm(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var vm="start",gm="ruler-split-line",mm="#5797FF",ym="#D9D9D9",bm=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tt;return t%20==0?1*(n-16):t%10==0?1*(n-8):1*(n-4)},Cm=function(){return pm(pm({},function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;return"x"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x")?{x:0,y:t}:{y:0,x:t}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x")),{},{stroke:ym,strokeWidth:1,listening:!1})},xm=(0,H.memo)((0,H.forwardRef)((function(t,e){var n=t.direction,r=t.scale,i=void 0===r?1:r,o=t.pageSize,a=t.ruleWidth,u=void 0===a?Tt:a,c=t.marginTop,l=void 0===c?0:c,s=t.marginLeft,f=void 0===s?0:s,d=t.marginBottom,h=void 0===d?0:d,p=t.marginRight,v=void 0===p?0:p,g=(0,H.useRef)(null),m=(0,H.useRef)(null),y=(0,H.useRef)(null),b=(0,H.useRef)(null),C=(0,H.useRef)(null),x=(0,H.useRef)(null),w=Wf(i),E=Tt+l*w,S=Tt+f*w,k=(0,H.useRef)(null),D=(0,H.useRef)(null),A=(0,H.useRef)([]),I=(0,H.useRef)(null),M=(0,H.useRef)(null);(0,H.useImperativeHandle)(e,(function(){return{operateLine:function(t){var e,n,r,i,o,a,u,c,l,s=t.top,f=(t.bottom,t.left),d=(t.right,t.width),h=t.height;null===(e=C.current)||void 0===e||e.position({x:0,y:s+E}),null===(n=I.current)||void 0===n||n.points([f+S,Tt,d+f+S,Tt]),null===(r=I.current)||void 0===r||r.visible(!0),null===(i=C.current)||void 0===i||i.height(h),null===(o=x.current)||void 0===o||o.position({x:f+S,y:0}),null===(a=M.current)||void 0===a||a.points([Tt,s+E,Tt,s+E+h]),null===(u=M.current)||void 0===u||u.visible(!0),null===(c=x.current)||void 0===c||c.width(d);var p=[C,x];W()(l=[D,k]).call(l,(function(t,e){var n,r=null===(n=t.current)||void 0===n?void 0:Jn()(n).call(n,".".concat(gm)).toArray(),i=p[e].current;if(i){var o;W()(o=A.current).call(o,(function(t){t.stroke(ym)})),A.current=[];var a,u=!1,c=fm(r);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(im().Util.haveIntersection(i.getClientRect(),l.getClientRect()))u=!0,A.current.push(l),l.stroke(mm);else{if(u)break;l.stroke(ym)}}}catch(t){c.e(t)}finally{c.f()}}})),W()(p).call(p,(function(t){var e,n;null===(e=t.current)||void 0===e||e.visible(!0),null===(n=t.current)||void 0===n||null===(n=n.getLayer())||void 0===n||n.batchDraw()}))},hideLine:function(){var t,e,n,r;null===(t=I.current)||void 0===t||t.visible(!1),null===(e=M.current)||void 0===e||e.visible(!1),W()(n=A.current).call(n,(function(t){t.stroke(ym)})),W()(r=[C,x]).call(r,(function(t){var e,n;null===(e=t.current)||void 0===e||e.visible(!1),null===(n=t.current)||void 0===n||null===(n=n.getLayer())||void 0===n||n.batchDraw()}))},operateRuler:function(t){var e,n,r,i,o=t.top,a=t.left;void 0!==o&&(null===(e=D.current)||void 0===e||e.position({y:o}),null===(n=D.current)||void 0===n||n.batchDraw());void 0!==a&&(null===(r=k.current)||void 0===r||r.position({x:a}),null===(i=k.current)||void 0===i||i.batchDraw())}}}),[l,f,i]);var T=o.height,B=o.width,F=Math.max(T,l+h)+Bt,L=Math.max(B,f+v)+Bt;return"x"===n?V().createElement(Sm,{direction:"x",highLineRef:M,scale:i,rectRef:C,marginStart:l,marginEnd:h,realLength:F,ruleWidth:u,frontRef:g,endRef:m,ref:D}):V().createElement(Sm,{direction:"y",highLineRef:I,scale:i,rectRef:x,marginStart:f,marginEnd:v,realLength:L,ruleWidth:u,frontRef:y,endRef:b,ref:k})})));function wm(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tt;return{x:"x"===t?e:n+r+4,y:"x"===t?n+r+-3:e}}function Em(t){var e=t.direction,n=t.scale,r=t.seq,i=t.marginLength,o=t.length,a=t.rulerWidth,u=void 0===a?Tt:a,c={},l=Wf(n);if("x"===e){var s,f={y:r===vm?0:o-i-Bt,x:0,height:i};(0,ot.c)(c,j()(s=m()(f)).call(s,(function(t,e){return t[e]=f[e]*l,"y"===e&&(t[e]+=u),t}),{}),{width:u})}else{var d,h={x:r===vm?0:o-i-Bt,y:0,width:i};(0,ot.c)(c,j()(d=m()(h)).call(d,(function(t,e){return t[e]=h[e]*l,"x"===e&&(t[e]+=u),t}),{}),{height:u})}return(0,ot.c)(c,{listening:!1,fill:"#000000",opacity:.1})}var Sm=(0,H.memo)((0,H.forwardRef)((function(t,e){var n=t.direction,r=t.scale,i=t.marginStart,o=t.marginEnd,a=t.realLength,u=t.ruleWidth,c=void 0===u?Tt:u,l=t.frontRef,s=t.endRef,f=t.rectRef,d=t.highLineRef,h=[],p=[],v=Wf(r),g=Em({direction:n,scale:r,seq:vm,marginLength:i,length:a}),m=Em({direction:n,scale:r,seq:"end",marginLength:o,length:a}),y="x"===n?[m.x,g.y+g.height,g.x+g.width,g.y+g.height]:[g.x+g.width,0,g.x+g.width,g.height],b="x"===n?[m.x,m.y,m.x+m.width,m.y]:[m.x,0,m.x,m.height];p.push(V().createElement(qp.Line,(0,ot.c)({},g,{opacity:1,fill:"#0E5FD8",dash:[2,2],x:0,y:0,stroke:"#0E5FD8",strokeWidth:2,points:y,key:"".concat("x"===n?"rect_horizontal_start":"rect_vertical_start")})),V().createElement(qp.Line,(0,ot.c)({},m,{opacity:1,fill:"#0E5FD8",dash:[2,2],x:0,y:0,stroke:"#0E5FD8",strokeWidth:2,points:b,key:"".concat("x"===n?"rect_horizontal_end":"rect_vertical_end")})),V().createElement(qp.Rect,(0,ot.c)({ref:f,visible:!1},(0,T.c)((0,T.c)({listening:!1,opacity:1},"x"===n?"width":"height",c),"x"!==n?"width":"height",c),{key:"".concat("x"===n?"rect_horizontal_control":"rect_vertical_control"),fill:"#C7E5FF",x:0,y:0,id:"".concat("x"===n?"rect_horizontal_control":"rect_vertical_control")})));for(var C=0;C<a;C+=2){var x,w=C*v,E="x"===n?[bm(C,a),w,c,w]:[w,bm(C,a),w,c];h.push(V().createElement(qp.Line,(0,ot.c)({},Cm(n),{key:P()(x="".concat(n,"_")).call(x,C),points:E,name:gm})));if(C%20==0&&C<a-Bt){var S,k=wm(n,4.5,w);h.push(V().createElement(qp.Text,(0,ot.c)({letterSpacing:2,fill:"#999999",rotation:"x"===n?-90:0,fontSize:10,align:"right",text:Math.round(C/1)+"",key:P()(S="text_".concat("x"===n?"horizontal":"vertical","_")).call(S,C),listening:!1},k)))}}var D="x"===n?[0,0,c,0]:[0,0,0,c];return h.push(V().createElement(qp.Line,(0,ot.c)({},Cm(n),{points:D,ref:l,visible:!1,key:"x"===n?"top-line":"left-line"}))),h.push(V().createElement(qp.Line,(0,ot.c)({},Cm(n),{points:D,ref:s,visible:!1,key:"x"===n?"bottom-line":"right-line"}))),h.push(V().createElement(qp.Line,{stroke:mm,points:"x"===n?[c,0,c,1]:[0,c,1,c],ref:d,visible:!1,key:"x"===n?"left-high-line":"top-high-line"})),V().createElement(V().Fragment,null,V().createElement(qp.Layer,{ref:e,listening:!1,key:"ruler_".concat(n)},V().createElement(qp.Group,null,(0,Z.toArray)(P()(p).call(p,h)))))}))),km=xm,Dm=n(75240),Am=n(92192),Im=n.n(Am);function Mm(t,e){var n=void 0!==Nn()&&On()(t)||t["@@iterator"];if(!n){if(Gn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Tm(t,e);var r=En()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Rn()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tm(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Tm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bm=.09,Fm={hLine:[],vLine:[]},Lm="LEFT",Rm="RIGHT",_m="BOTTOM",Nm="TOP",Pm={x:0,y:0,stroke:"#FB2323",fill:"#FB2323",shadowEnabled:!1,strokeWidth:.5,listening:!1};function Om(t){var e={length:0,origin:0,position:0,distance:Im()};if(!t.length)return[e,-1];var n=Im(),r=j()(t).call(t,(function(t,e){var r=(0,Dm.c)(e),i=r[0],o=r[1],a=En()(r).call(r,2);if(a.length){var u=Math.max.apply(Math,(0,bn.c)(a))-Math.min.apply(Math,(0,bn.c)(a)),c=Math.min.apply(Math,(0,bn.c)(a));return o<n&&(n=o),P()(t).call(t,[{length:u,origin:c,position:i,distance:o}])}return t}),[]),i=ft()(r).call(r,(function(t){var e=t.distance;return n===e}));return[-1!==i?r[i]:e,i]}function jm(t,e,n){var r=n.x,i=n.y,o=t.position,a=t.origin,u=t.lineLength;return"x"===e?[o-r,a-i,o-r,a+u-i]:[a-r,o-i,a+u-r,o-i]}var Gm=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i=t.lines,o=void 0===i?Fm:i,a=t.stageRef,u=(t.marginTop,t.marginLeft,t.rootControlRef),c=t.selectionContext,l=t.getRedundancyXY,s=t.dataContext,f=t.controlGroupRef,d=(0,H.useState)(!0),h=(0,M.c)(d,2),p=h[0],v=h[1],g=(0,H.useState)(o),m=(0,M.c)(g,2),y=m[0],b=m[1];(0,H.useEffect)((function(){return Z.eventBus.on("refline",(function(t){p!==t&&v(t)})),function(){Z.eventBus.off("refline")}}),[p]);var C=(0,H.useCallback)((function(t){var e=t.selectedNode,n=t.posInfo,r=t.isTransformAction,i=void 0!==r&&r,o=(t.selectedId,t.transformerNewBox),a=n.top,u=n.left,c=n.width,l=n.height,s=n.isNotChangeTopLeft,f=void 0!==s&&s,d={};if(p){if(void 0!==a)if(i){var h=o.x,v=o.height,g=o.rotation,m=o.width,y=o.y;d.rotation=g,d.x=h,d.y=f?y:a,d.height=l,d.width=m,Z.console.log("transformer resBox update",{y:a,x:h,height:l,heightArr:[v,l]})}else{var b=e.absolutePosition().x;d.x=b,d.refY=a,d.selectedNode=e}else if(void 0!==u)if(i){var C=o.y,x=o.width,w=o.rotation,E=o.height,S=o.x;d.rotation=w,d.x=f?S:u,d.y=C,d.width=c,d.height=E,Z.console.log("transformer resBox update",{y:C,x:u,width:c,widthArr:[x,c]})}else{var k=e.absolutePosition().y;d.refX=u,d.y=k,d.selectedNode=e}return d}}),[p]),x=(0,H.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(p&&t){var r,i,o,l,d={},h="",v=s.findControl(null===(r=s.findControl(t))||void 0===r?void 0:r.parentId);if(kn()(an).call(an,null==v?void 0:v.type))return;var g=a.current,m=u.current,y=tv(m),x=null==g?void 0:g.findOne("#".concat(t));if(!x)return void Z.console.log("error selectedNode selectedId",x,t);Z.console.log("selectedNode",x);var w=(0,ot.c)({},tv(x));if(e){var E=n.x,S=n.y,k=n.height,D=n.width,A=n.activeAnchor;h=A,(0,ot.c)(w,Yf((0,ot.c)({},n,{left:E,top:S,right:E+D,bottom:S+k})))}var I=!e&&mg(tv(x),tv(u.current)),T=w.width,B=w.height,L=w.x,N=w.y,O=L,j=L+T,G=N,U=N+B,W={x:Math.max(L-6,0),y:y.y,width:Math.min(T+12,y.width),height:y.height},Q={x:y.x,y:Math.max(N-6,0),width:y.width,height:Math.min(B+12,y.height)},J=jf()(i=new Array(6)).call(i,{visible:!1,position:0,origin:0,lineLength:0}),H={vLine:JSON.parse(z()(J)),hLine:JSON.parse(z()(J))},V=(null===(o=f.current)||void 0===o?void 0:o.getChildren((function(t){var e;return kn()(e=t.name().split(" ")).call(e,Et)})))||[],K=c.getSelection(),Y=[],q=s.findControl(t);if(!e&&wd(q)){var X=q.parentGridId;X&&Y.push(X)}if(!e&&xd(q)){var $=q.subGridId;null!=$&&$.length&&Y.push.apply(Y,(0,bn.c)($))}var tt,et=P()(l=[]).call(l,(0,bn.c)(I?V:F()(V).call(V,(function(t){var n;return Vn()(n=[W,Q]).call(n,(function(n){var r=t.name().split(" "),i=t.id();return!(r.length>0&&kn()(r).call(r,It))&&(!!e||!kn()(K).call(K,i))&&!kn()(Y).call(Y,i)&&im().Util.haveIntersection(n,tv(t))}))}))),[m]),nt={value:{x:[[],[],[],[],[],[]],y:[[],[],[],[],[],[]]},snapPosConfig:{x:[[],[],[],[],[],[]],y:[[],[],[],[],[],[]]},visible:[],position:[]},rt=!1,it=Mm(et);try{for(it.s();!(tt=it.n()).done;){var at=tt.value,ut=at===m;if(at.id()!=="".concat(t)||ut){var ct=tv(at),lt=ct.width,st=ct.height,ft=ct.x,dt=ct.y,ht=ft+lt,pt=dt+st,vt=!1,gt=!1,mt=G+B/2-(dt+st/2),yt=Math.abs(mt),bt=O+T/2-(ft+lt/2),Ct=Math.abs(bt),xt=dt-U,wt=Math.abs(xt);Z.console.log("refLines",dt,U,xt,wt);var St=pt-U,kt=Math.abs(St),Dt=dt-G,At=Math.abs(Dt),Mt=pt-G,Tt=Math.abs(Mt),Bt=ft-j,Ft=Math.abs(Bt),Lt=ht-j,Rt=Math.abs(Lt),_t=ft-O,Nt=Math.abs(_t),Pt=ht-O,Ot=Math.abs(Pt),jt=[Ct,Ft,Rt,Nt,Ot],Gt=[yt,wt,kt,At,Tt],zt=(Math.min.apply(Math,jt),Math.min.apply(Math,Gt),yt<=5),Ut=Ct<=5,Wt=wt<=5&&!ut,Qt=kt<=5&&!ut,Zt=At<=5&&!ut,Jt=Tt<=5&&!ut,Ht=Ft<=5&&!ut,Vt=Rt<=5&&!ut,Kt=Nt<=5&&!ut,Yt=Ot<=5&&!ut,qt=function(t){if(!e)return!0;switch(h){case"top-left":var n;return kn()(n=[Nm,Lm]).call(n,t);case"top-center":var r;return kn()(r=[Nm]).call(r,t);case"top-right":var i;return kn()(i=[Nm,Rm]).call(i,t);case"bottom-left":var o;return kn()(o=[_m,Lm]).call(o,t);case"bottom-center":var a;return kn()(a=[_m]).call(a,t);case"bottom-right":var u;return kn()(u=[_m,Rm]).call(u,t);case"middle-left":var c;return kn()(c=[Lm]).call(c,t);case"middle-right":var l;return kn()(l=[Rm]).call(l,t);default:return!1}};if(Z.console.log(Ft,Rt,h),nt.visible=[Wt,Qt,Zt,Jt,zt,zt,Ht,Vt,Kt,Yt,Ut,Ut],nt.position=[dt,pt,dt,pt,dt+st/2,dt+st/2,ft,ht,ft,ht,ft+lt/2,ft+lt/2],Wt||e&&wt<=Bm&&!ut){var Xt={top:dt-B,height:dt-G,isNotChangeTopLeft:!0};Z.console.log("refline ts",Xt);var $t=!1;!vt&&qt(_m)&&(nt.snapPosConfig.y[0].push(Xt),vt=!0,$t=!0),($t||wt<=Bm)&&!ut&&nt.value.y[0].push([dt,wt,ft,ht,O,j])}if(Zt||e&&At<=Bm&&!ut){var te={top:dt,height:U-dt};Z.console.log("refline bs",te);var ee=!1;!vt&&qt(Nm)&&(nt.snapPosConfig.y[3].push(te),vt=!0,ee=!0),(ee||At<=Bm&&!ut)&&nt.value.y[3].push([dt,At,ft,ht,O,j])}if(Qt||e&&kt<=Bm&&!ut){var ne={top:pt-B,height:pt-G,isNotChangeTopLeft:!0};Z.console.log("refline ts",ne);var re=!1;!vt&&qt(_m)&&(nt.snapPosConfig.y[1].push(ne),vt=!0,re=!0),(re||kt<=Bm&&!ut)&&nt.value.y[1].push([pt,kt,ft,ht,O,j])}if(Jt||e&&Tt<=Bm&&!ut){var ie={top:pt,height:U-pt};Z.console.log("refline bs",ie);var oe=!1;!vt&&qt(Nm)&&(nt.snapPosConfig.y[4].push(ie),vt=!0,oe=!0),(oe||Tt<=Bm&&!ut)&&nt.value.y[4].push([pt,Tt,ft,ht,O,j])}if(Ht||e&&Ft<=Bm&&!ut){var ae={left:ft-T,width:ft-O,isNotChangeTopLeft:!0};Z.console.log("refline ls",ae);var ue=!1;!gt&&qt(Rm)&&(nt.snapPosConfig.x[0].push(ae),gt=!0,ue=!0),(ue||Ft<=Bm&&!ut)&&nt.value.x[0].push([ft,Ft,dt,pt,G,U])}if(Kt||e&&Nt<=Bm&&!ut){var ce={left:ft,width:j-ft};Z.console.log("refline rs",ce);var le=!1;!gt&&qt(Lm)&&(nt.snapPosConfig.x[3].push(ce),gt=!0,le=!0),(le||Nt<=Bm&&!ut)&&nt.value.x[3].push([ft,Nt,dt,pt,G,U])}if(Vt||e&&Rt<=Bm&&!ut){var se={left:ht-T,width:ht-O,isNotChangeTopLeft:!0};Z.console.log("refline ls",se);var fe=!1;!gt&&qt(Rm)&&(nt.snapPosConfig.x[1].push(se),gt=!0,fe=!0),(fe||Rt<=Bm&&!ut)&&nt.value.x[1].push([ht,Rt,dt,pt,G,U])}if(Yt||e&&Ot<=Bm&&!ut){var de={left:ht,width:j-ht};Z.console.log("refline rs",de);var he=!1;!gt&&qt(Lm)&&(nt.snapPosConfig.x[4].push(de),gt=!0,he=!0),(he||Ot<=Bm&&!ut)&&nt.value.x[4].push([ht,Ot,dt,pt,G,U])}if(!e&&zt||yt<=Bm){var pe={top:dt+st/2-B/2};Z.console.log("refline hc",pe);var ve=!1;!vt&&qt("")&&(nt.snapPosConfig.y[2].push(pe),vt=!0,ve=!0),(ve||yt<=Bm)&&nt.value.y[2].push([dt+st/2,yt,ft,ht,O,j])}if(!e&&(Ut||Ct<=Bm)){var ge={left:ft+lt/2-T/2};Z.console.log("refline vc",ge);var me=!1;!gt&&qt("")&&(nt.snapPosConfig.x[5].push(ge),gt=!0,me=!0),(me||Ct<=Bm)&&nt.value.x[5].push([ft+lt/2,Ct,dt,pt,G,U])}}}}catch(t){it.e(t)}finally{it.f()}for(var ye=[0,1,3,4,2,0,1,3,4,5],be={0:1,3:4,1:0,4:3},Ce={x_0:[5,3,4],x_1:[5,3,4],x_5:[0,1,3,4],x_3:[0,1,5],x_4:[0,1,5],y_0:[3,4,2],y_1:[3,4,2],y_3:[0,1,2],y_4:[0,1,2],y_2:[0,1,3,4]},xe=function(){var r=we<ye.length/2?"y":"x",i=we<ye.length/2?"hLine":"vLine",o=Om(nt.value[r][ye[we]]),a=(0,M.c)(o,2),u=a[0],c=u.origin,l=u.length,s=u.position,f=u.distance,h=a[1],p=h;if(!e&&-1!==p){var v,g,m,y,b=be[ye[we]],w=Ce[P()(v="".concat(r,"_")).call(v,ye[we])],E=_.isUndefined(b)?[{distance:f},p]:Om(nt.value[r][b]),S=(0,M.c)(E,2),k=S[0].distance,D=S[1],A=R()(g=F()(m=R()(w).call(w,(function(t){return Om(nt.value[r][t])}))).call(m,(function(t){var e=(0,M.c)(t,2);e[0];return-1!==e[1]}))).call(g,(function(t){return(0,M.c)(t,1)[0].distance}));if(-1!==D&&k<f&&f>Bm&&(p=-1),-1!==p&&A.length>0&&f>Bm)if(Vn()(A).call(A,(function(t){return t<=f})))if(p=-1,Math.min.apply(Math,(0,bn.c)(A))===f)kn()(y=[3,4]).call(y,ye[we])&&(p=h)}if(0!==c&&0!==l&&-1!==p){!rt&&(rt=!0);var I=nt.snapPosConfig[r][ye[we]][h];I&&function(e,r,i){Z.console.log("transformer newBox",(0,ot.c)({},n));var o=C({selectedNode:e,posInfo:r,isTransformAction:i,selectedId:t,transformerNewBox:(0,ot.c)({},_.isEmpty(d)?n:d)});(0,ot.c)(d,o)}(x,I,e),H[i][ye[we]].visible=!0,H[i][ye[we]].position=s,H[i][ye[we]].origin=c,H[i][ye[we]].lineLength=l}},we=0;we<ye.length;we++)xe();return Z.console.log("refLines",H),b(rt?function(){return H}:function(){return Fm}),d}}),[p]),w=(0,H.useCallback)((function(){p&&b((function(){return Fm}))}),[p]);if((0,H.useImperativeHandle)(e,(function(){return{setRefLines:b,searchRefLines:x,hideRefLines:w}}),[p]),!p)return null;Z.console.log("refline",y);var E=l(),S={x:E.x,y:E.y};return V().createElement(V().Fragment,null,R()(n=y.vLine).call(n,(function(t,e){var n=jm(t,"x",S);return V().createElement(qp.Line,(0,ot.c)({},Pm,{name:"ref_line_y_".concat(e),key:"ref_line_y_".concat(e),points:n,visible:t.visible}))})),R()(r=y.hLine).call(r,(function(t,e){var n=jm(t,"y",S);return V().createElement(qp.Line,(0,ot.c)({},Pm,{name:"ref_line_x_".concat(e),key:"ref_line_x_".concat(e),points:n,visible:t.visible}))})))}))),zm=Gm,Um=["getEditor","dataContext","definition"];function Wm(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Wm(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Wm(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Zm=(0,H.memo)((0,H.forwardRef)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=(t.marginLeft,t.offsetTop,t.offsetLeft,t.marginTop,t.height),u=t.width,c=t.value,l=t.show,s=t.id,f=t.propertyName,d=t.onSave,h=t.saveBySelf,p=t.hideEditor,v=t.isWrap,g=t.fontSize,m=void 0===g?12:g,y=t.fontFamily,b=void 0===y?"SimSun, arial, sans-serif":y,C=t.fontWeight,x=t.fontStyle,w=t.textDecoration,E=t.paddingTop,S=t.paddingLeft,k=t.paddingRight,D=t.paddingBottom,A=t.backgroundColor,I=t.color,B=t.maxLength,F=t.align,L=(t.verAlignment,t.lineSpace),R=t.letterSpacing;t.save;if(!l)return null;var _=(0,H.useRef)(null),N=(0,H.useState)(c),P=(0,M.c)(N,2),O=P[0],j=P[1];(0,H.useEffect)((function(){j(c)}),[c]);var G=(0,H.useCallback)((function(){l&&c!==O&&(j(O),h?h(s,O):d(s,(0,T.c)({},f,O)))}),[l,O,c]);(0,H.useImperativeHandle)(e,(function(){return{save:G,isInputShow:function(){return!!_.current}}}),[l,O,c]),(0,H.useEffect)((function(){var t;null===(t=_.current)||void 0===t||t.focus()}),[]);var z=(0,H.useRef)(null);(0,H.useEffect)((function(){var t=function(){G(),p&&p()},e=function(e){if(_.current){for(var n=e.target;n;){if(n===z.current)return;n=n.parentNode}t()}};return document.addEventListener("mousedown",e),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t),document.removeEventListener("mousedown",e)}}),[G]);(0,H.useRef)(c);return V().createElement("div",{ref:z,className:"kdesigner-text-editor",style:{left:r+Qe,top:o+Qe,position:"absolute",height:a,width:u,backgroundColor:A||"#fff",border:"1px solid ".concat(oe),overflow:"hidden",boxSizing:"border-box"}},V().createElement("div",{style:{height:a,width:u,fontSize:m,fontFamily:b,wordBreak:v?"break-all":"normal",fontWeight:C,fontStyle:x,textDecoration:w,color:I,paddingLeft:S,paddingTop:E,paddingRight:k,paddingBottom:D,boxSizing:"border-box",outline:"none",display:"flex",alignItems:"flex-start"}},V().createElement(Q.TextArea,{autoSize:!0,borderType:"none",value:O,className:"kdesigner-text-editor",style:{height:"100%",width:"100%",textAlign:F,lineSpace:L,letterSpacing:R,fontSize:m,fontFamily:b,wordBreak:v?"break-all":"normal",fontWeight:C,fontStyle:x,textDecoration:w,color:I,paddingTop:2,paddingLeft:2,paddingRight:0,paddingBottom:0,backgroundColor:A||"#fff"},onChange:function(t){j(t.target.value||"")},maxLength:B,count:!!B,onBlur:function(t){G()},ref:_,pressEnterSwitch:!1,onFocus:function(t){var e;null===(e=t.target)||void 0===e||e.setSelectionRange((null==O?void 0:O.length)||0,(null==O?void 0:O.length)||0)}})))}))),Jm=function(t){var e=t.getEditor,n=void 0===e?function(){return Zm}:e,r=t.dataContext,i=t.definition,o=(0,zn.c)(t,Um),a=(0,H.useCallback)((function(t,e){var n=r.findControl(t),o=n.dsType;if(3===n.lineWrapRule&&e.bindText&&(e.bindText=e.bindText.replace(/[\r\n]/g,"")),"Formula"===o)return r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[t,Qm(Qm({},e),{},{viewText:""})]]));var a=$n(e),u=a.isBindField,c=a.bindField,l=Qm(Qm({},e),{},{bindField:"",dataSource:"",viewText:"",dsType:""});if(u){var s=Xn(c,i);if(!s)return Z.eventBus.emit("input-query",{id:t,value:!0}),void r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[t,l]]));Z.eventBus.emit("input-query",{id:t,value:!1});var f=s.dataSource,d=s.key,h=s.viewText,p=s.dsType;r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[t,Qm(Qm({},e),{},{bindField:d,dataSource:f,viewText:"=$".concat(h),dsType:p})]]))}else Z.eventBus.emit("input-query",{id:t,value:!1}),r.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[t,l]]))}),[r]),u=(0,H.useState)(!1),c=(0,M.c)(u,2),l=c[0],s=c[1],f=(0,H.useState)({}),d=(0,M.c)(f,2),h=d[0],p=d[1],v=(0,H.useRef)(null),g=(0,H.useRef)(null),m=(0,H.useCallback)((function(){s(!0)}),[]),y=(0,H.useCallback)((function(){var t,e;null!==(t=g.current)&&void 0!==t&&t.isInputShow()&&(null===(e=g.current)||void 0===e||e.save(),s(!1))}),[]),b=(0,H.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.shapeRef;v.current=null==e?void 0:e.current,p(t)}),[]),C=n();return{showEditor:m,hideEditor:y,editorElement:V().createElement(C,(0,ot.c)({ref:g,show:l,onSave:a,hideEditor:y},o,h)),setEditorPosition:b,inputNodeRef:v}},Hm={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,BACKSPACE:8,DELETE:46,META:91,"*":106,"+":107,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"]":221,CTRL:17,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,SEMICOLON:186,EQUAL:187,COMMA:188,MINUS:189,PERIOD:190,SLASH:191,BACKQUOTE:192,BRACKETLEFT:219,BRACKETRIGHT:221,BACKSLASH:11,QUOTE:229,PAD0:96,PAD1:97,PAD2:98,PAD3:99,PAD4:100,PAD5:101,PAD6:102,PAD7:103,PAD8:104,PAD9:105};window,document;var Vm,Km,Ym,qm="";window.addEventListener?(Vm="addEventListener",Ym="removeEventListener"):(Vm="attachEvent",Ym="detachEvent",qm="on"),Km="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var Xm=function(t){return function(e){!e&&(e=window.event);var n={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==Km?(n.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(n.deltaX=-1/40*e.wheelDeltaX)):n.deltaY=e.detail,t(n)}};function $m(t,e,n,r){var i=Xm(n);return t[Vm](qm+e,"wheel"==Km?n:i,r||!1),function(){t[Ym](qm+e,"wheel"==Km?n:i,r||!1)}}var ty=function(t,e){(0,H.useEffect)((function(){e();var t=function(t,e,n){return $m(t,"DOMMouseScroll"==Km?"MozMousePixelScroll":Km,e,n)}(document,(function(t){Tv(t)&&e()})),n=function(t){var n,r=t.keyCode||t.which;Tv(t)&&kn()(n=[Hm[0],Hm["+"],Hm["-"]]).call(n,r)&&e()};return document.addEventListener("keydown",n),function(){t&&t(),document.removeEventListener("keydown",n)}}),t)},ey=["title"];function ny(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=ny(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=ny(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var iy=-100;function oy(t,e){var n;return[t,Y().flattenDeep(F()(n=R()(e).call(e,(function(n){var r=n.id;if(n.parentId===t)return oy(r,e)}))).call(n,Boolean))]}var ay=function(t,e,n,r){var i,o,a;if(!(t.length<=2)){var u=ri()(i=En()(t).call(t)).call(i),c=Math.max.apply(null,R()(t).call(t,(function(t){return t[n]+t[r]}))),l=Jn()(u).call(u,(function(t){return t[n]+t[r]===c})),s=Math.min.apply(null,R()(t).call(t,(function(t){return t[n]}))),f=Jn()(t).call(t,(function(t){return t[n]===s})),d=$f()(o=En()(a=F()(t).call(t,(function(t){var e;return!kn()(e=[f[ee],l[ee]]).call(e,t[ee])}))).call(a)).call(o,(function(t,e){return t[n]-e[n]})),h=j()(t).call(t,(function(t,e){return t+e[r]}),0),p=s+f[r],v=c-s,g=0;if(h>v){var m=v/(t.length-1),y=R()(d).call(d,(function(t,e){var r=Hf(s+m*(e+1),1);return r===t[n]&&g++,[t[ee],(0,T.c)({},n,r)]}));if(g===d.length)return;e.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(y))}else{var b=(v-f[r]-l[r]-j()(d).call(d,(function(t,e){return t+e[r]}),0))/(2+d.length-1),C=p,x=R()(d).call(d,(function(t,e){var i=Hf(C+b,1);return C+=b+t[r],t[n]===i&&g++,[t[ee],(0,T.c)({},n,i)]}));if(g===d.length)return;e.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(x))}}},uy=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,c,l,s,f=(0,H.useContext)(gn),d=f.setMessage,h=(f.scaleRef,f.asistantBorderRef),p=f.handlePassGridActionGuide,v=f.isFirstUseGrid,g=f.onValid,y=(0,H.useContext)(Z.GlobalConfigContext),b=y.env,C=y.keywordMapping,x=(0,H.useState)(1),w=(0,M.c)(x,2),E=w[0],S=w[1],k=(0,H.useState)((function(){return+(window.devicePixelRatio||1).toFixed(2)})),D=(0,M.c)(k,2),A=D[0],I=D[1],B=(0,H.useRef)(null),L=((0,H.useRef)(null),(0,H.useRef)(null)),_=(0,H.useRef)(null),N=(0,H.useRef)(null),O=(0,H.useRef)(null),G=(0,H.useRef)(null),U=(0,H.useRef)(null),J=(0,H.useRef)(null),K=(0,H.useRef)(null),q=(0,H.useRef)(null),X=(0,H.useRef)(null),$=(0,H.useRef)(null),tt=(0,H.useRef)(null),et=(0,H.useRef)({isDrag:!1,yPos:0}),nt=(0,H.useRef)(null),rt=(0,H.useRef)(null),it=(0,H.useContext)(Z.GlobalConfigContext),at=it.previewImageUrl,ct=(it.uploadImageUrl,t.fieldSizeCacher),lt=ct.setFieldSizeCache,st=ct.getFieldSizeCache,ft=null==t?void 0:t.data.key,dt=(0,H.useMemo)((function(){return st(ft)||{}}),[ft]),ht=(0,H.useCallback)((function(t){var e=new(im().Stage)({container:"shadowCanvas",width:window.innerWidth,height:window.innerHeight}),n=new(im().Layer);e.add(n);var r=new(im().Text)(t);return{height:r.height(),width:r.width()}}),[]),pt=(0,H.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(nt.current){var r;if(dt[n]){var i=dt[n],o=i.offsetWidth,a=i.offsetHeight,u=i.text,c=i.style.width,l=e.width;if(u===t&&c===l)return{width:o,height:a}}nt.current.innerText=t,W()(r=m()(e)).call(r,(function(t){nt.current.style[t]=Y().isString(e[t])?e[t]:e[t]+"px"}));var s=nt.current,f=s.offsetWidth,d=s.offsetHeight;return dt[n]={text:t,style:e,width:f,height:d},lt(ft,dt),{width:f,height:d}}}),[ct]),vt=(0,H.useRef)(null),gt=(0,H.useContext)(Z.DataFactoryContext),mt=gt.dataFactory,yt=gt.modelFactory,bt=gt.controlMetaInfo,Ct=vt.current||{},xt=Ct.offsetHeight,wt=Ct.offsetWidth,St=(0,H.useState)({show:!1}),kt=(0,M.c)(St,2),Dt=kt[0],At=kt[1],It=(0,H.useState)({show:!1}),Mt=(0,M.c)(It,2),Ft=Mt[0],Lt=Mt[1],Rt=(0,H.useState)({show:!1}),_t=(0,M.c)(Rt,2),Nt=_t[0],Pt=_t[1],Ot=(0,H.useState)({show:!1}),jt=(0,M.c)(Ot,2),Gt=jt[0],zt=jt[1],Ut=t.children,Wt=t.appState,Qt=t.deleteSelectionControl,ne=t.data,re=ne.id,ie=ne.width,oe=ne.height,ae=ne.marginTop,ue=ne.marginLeft,ce=ne.marginBottom,le=ne.marginRight,se=(ne.paperDirection,ne.bgImgRcId),fe=Math.max(oe-Math.max(ae,0)-Math.max(ce,0),0),pe=Math.max(ie-Math.max(ue,0)-Math.max(le,0),0),ve=Math.max(Qf(ie,E),wt?wt-20:0),ge=Math.max(Qf(oe,E),xt?xt-20:0),me=Math.max(fe,0)+Math.max(ae,0)+Math.max(ce,0),ye=Math.max(pe,0)+Math.max(ue,0)+Math.max(le,0),be=Wt.navToolRef,Ce=void 0===be?{}:be,xe=Wt.canvasRef,we=Wt.meta,Ee=void 0===we?[]:we,Se=Wt.definition,ke=void 0===Se?{}:Se,De=Wt.activedSelectId,Ae=Wt.isMultiKeyActiveWhenSelectedRef,Ie=se?P()(n="".concat(at)).call(n,se):"";(0,H.useEffect)((function(){var t=vt.current||{},e=t.offsetHeight,n=t.offsetWidth;_.current.style.width=Math.max(Qf(pe,E),null!=n?n:0),_.current.style.height=Math.max(Qf(fe,E),null!=e?e:0),Nn((function(t){return t+1}))}),[]);var Me=(0,H.useContext)(Z.SelectionContext),Te=(0,H.useContext)(Z.DataContext),Be=Te.getRootId(),Fe=mt,Le=Mg({selectionContext:Me,dataContext:Te,rulerRef:jn,navToolRef:Ce,activedSelectId:De},Be).handleMouseDown,Re=(0,H.useMemo)((function(){var t,e;return"SubDataGrid"===(null===(t=Te.findControl(null===(e=Te.findControl(De))||void 0===e?void 0:e.parentId))||void 0===t?void 0:t.type)?{isContainer:!1,accept:""}:(0,Z.getControlIsContainer)(bt,Te.findControl(De),C)}),[De,bt]),_e=(Re.isContainer,Re.accept),Ne=(0,H.useContext)(xf),Pe=(0,Ne.getPrefixCls)(Ne.prefixCls,"print-designer"),Oe=(0,H.useRef)({isDragging:!1,startX:0,startY:0}),je=(0,H.useRef)(null),Ge=(0,H.useRef)(null),ze=(0,H.useRef)(null),Ue=function(t,e){var n,r;if("CardGrid"===(null==Dt?void 0:Dt.controlType)){var i=(null==Dt?void 0:Dt.gridInfo)||{};return We(t,i),Ze(),void At({show:!1})}var o=t.length,a=function(t){return(null==e?void 0:e[t])||Dt[t]},u=a("controlType"),c=a("transferData");if("DataGrid"===u&&pe/o<5)return d((0,Z.getLangMsg)("printd.grid.key0092"));if(c){var l=c.width;"right"===c.subGridDirection&&l/o<10&&(c.width=10*o)}var s=R()(t).call(t,(function(t){var e,n=t.key,r=t.InitAttr,i=void 0===r?{}:r,o=Kn(n,ke);if(!o)return{};var a=o.dataSource,u=o.dataSourceText,c=o.ancestorTitle,l=o.key,s=o.title,f=o.dsType,d=o.IgnoreZero,h=o.IgnoreTailZero,p=j()(e=m()(i)).call(e,(function(t,e){return t[Y().camelCase(e)]=i[e],t}),{});return p.ignoreZero=d,p.ignoreTailZero=h,ry({bindText:"=$".concat(c),bindField:l,dataSource:a,dataSourceText:u,viewText:"=$".concat(s),dsType:f},p)})),f=Hh(mt,yt),h=Te.findControlByCondition((function(t){return"Header"===t.type})),p=et.current,v=p.isDrag,g=p.yPos,y=ry({dataSource:(null===(n=s[0])||void 0===n?void 0:n.dataSource)||"",dataSourceText:(null===(r=s[0])||void 0===r?void 0:r.dataSourceText)||"",width:pe},v?{y:g}:{}),b=Te.findControl(De),C=Fd(b)&&b.id,x=f({type:a("controlType")||"DataGrid",parentId:C||Be,parentItem:ap(Te.findControl(Be)),cellData:s,transferData:c?(0,ot.c)(y,c):y});h&&h.length&&x[0].y<h[0].height&&(x[0].y=h[0].height+x[0].y),a("resolve")([{type:Z.ActionType.ADD,value:x}]),Ze(),At({show:!1})},We=function(t,e){var n=e.row,r=e.column;if(pe/r<5)return d((0,Z.getLangMsg)("printd.grid.key0094"));var i=Vh(mt,yt),o=Te.findControlByCondition((function(t){return"Header"===t.type})),a=et.current,u=a.isDrag,c=a.yPos,l=t.dataSource,s=t.dataSourceText,f=ry({width:pe,height:8*n,dataSource:l,dataSourceText:s},u?{y:c}:{}),h=i({type:"CardGrid",parentId:Be,gridInfo:e,transferData:f});o&&o.length&&h[0].y<o[0].height&&(h[0].y=o[0].height+h[0].y),(0,Dt.resolve)([{type:Z.ActionType.ADD,value:h}])},Ze=function(){et.current={isDrag:!1,yPos:0}};(0,H.useEffect)((function(){return Z.eventBus.on("grid-guide",(function(t){!function(t,e){qf(Te)?Ue([{},{},{}],e):t(ry({show:!0},e))}(At,t)})),Z.eventBus.on("layoutGrid-setting",(function(t){Lt(ry({show:!0},t))})),Z.eventBus.on("beforeChangeLang",(function(t){Pt(ry({show:!0},t))})),Z.eventBus.on("card-setting",(function(t){zt(ry({show:!0},t))})),Z.eventBus.on("beforeChangeGridFooter",(function(t){var e=t.parentGridId,n=t.tableTail,r=t.resolve;t.reject;if(n){var i=Te.findControl(e),o=Fe({type:"TableTail",parentId:Be,transferData:{x:i.x,y:i.y+i.height,width:i.width,parentGridId:e}});r([{type:Z.ActionType.ADD,value:o},{type:Z.ActionType.UPDATE,value:[[i.id,{hasTableTail:n,tableTailId:o.id}]]}])}else{var a=Te.findControl(e);r([{type:Z.ActionType.DELETE,value:a.tableTailId},{type:Z.ActionType.UPDATE,value:[[a.id,{hasTableTail:n,tableTailId:""}]]}])}})),function(){Z.eventBus.off("grid-guide"),Z.eventBus.off("layoutGrid-setting"),Z.eventBus.off("beforeChangeLang"),Z.eventBus.off("card-setting"),Z.eventBus.off("beforeChangeGridFooter")}}),[De,Ue]);var Je=(0,H.useCallback)((function(){var t=je.current;if(t){var e,n,r,i=t.offsetTop,o=t.offsetLeft;(0,ot.c)(Ke.current,{offsetTop:i,offsetLeft:o}),J.current.style.top=Math.max(null!=i?i:0,Qe)+"px",q.current.style.left=Math.max(null!=o?o:0,Qe)+"px",null===(e=N.current)||void 0===e||e.x(o-Qe),null===(n=N.current)||void 0===n||n.y(i-Qe),null===(r=N.current)||void 0===r||r.batchDraw(),Nn((function(t){return t+1}))}}),[]);(0,H.useEffect)((function(){Je()}),[]),(0,Z.useResizeObserver)(je.current,Je),(0,Z.useResizeObserver)(vt.current,Je);var He=[ze,B,Ge,$],Ve=function(t){return Vn()(He).call(He,(function(e){return e.current===t}))},Ke=(0,H.useRef)({offsetLeft:0,offsetTop:0}),Xe=(0,H.useCallback)((function(){var t,e,n,r;return{x:(null!==(t=null===(e=Ke.current)||void 0===e?void 0:e.offsetLeft)&&void 0!==t?t:0)-Qe+Qf(ue,E),y:(null!==(n=null===(r=Ke.current)||void 0===r?void 0:r.offsetTop)&&void 0!==n?n:0)-Qe+Qf(ae,E)}}),[ue,ae,E]),tn=function(){var t=localStorage.getItem(fn);if(t){var e=JSON.parse(t),n=e.dataSource,r=e.bindField,i=e.bindText,o=e.viewText,a=er(Yn(n,r),ke);a?function(t,e,n,r,i){var o=t.isDataGridDs,a=t.dsType,u=t.isSubDataGridDs,c=t.ViewName,l=t.Name,s=t.bindField,f=t.dataSource,d=t.dataSourceText,h=e.statType,p=e.cellType,v=e.parentId,g=e.id,m=r.viewText,y=c||l,b=qh[p],C=n.findControl(v),x=n.findControl(v),w=x.type,E=x.dataSource;if(xd(C)||wd(C)){var S,k;if("Normal"===p&&!kn()(b).call(b,a))return i((0,Z.getLangMsg)("printd.grid.key0039"));if("Normal"!==p&&"Statistic"!==p||n.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[g,Wh(Wh({},r),{},{viewText:"Statistic"===p&&"noStat"!==h?P()(k="=".concat(h,"(")).call(k,y,")"):m})]])),kn()(S=["Detail","Group"]).call(S,p)){if("DataGrid"===w&&!("=getRowNumber()"===s||E&&f===E||!E&&o))return i((0,Z.getLangMsg)("printd.grid.key0040"));if("SubDataGrid"===w&&!("=getRowNumber()"===s||E&&f===E||!E&&u))return i((0,Z.getLangMsg)("printd.grid.key0041"));var D=[[g,r]];E||D.push([v,{dataSource:f,dataSourceText:d}]),n.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(D))}}else n.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[g,r]]))}(a,Hn,Te,{dataSource:n,bindField:r,bindText:i,viewText:o},d):Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[De,{dataSource:n,bindField:r,bindText:i,viewText:o}]]))}},en=(0,H.useCallback)((function(t){var e=t.keyCode||t.which,n=Tv(t),r=Me.getSelection(),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return F()(t).call(t,(function(t){var e,n=Te.findControl(t);return!Vn()(e=[rp,bd,ip,wd]).call(e,(function(t){return t(n)}))}))},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=Te.findControl(t),u=a.x,c=a.y,l=a.parentId;return function(t){var e=t.position,n=t.id,r=t.parentId,i=t.rootId,o=t.dataContext,a=kd(o,n),u=a.width,c=void 0===u?0:u,l=a.height,s=void 0===l?0:l,f=Sd(o),d=f.width,h=f.height,p=Yf(r!==i?kd(o,r):Sd(o)),v=p.x,g=void 0===v?0:v,m=p.y,y=void 0===m?0:m,b=p.right,C=void 0===b?d:b,x=p.bottom,w=void 0===x?h:x,E=e.x,S=e.y;if(c>d||s>h)return{x:E,y:S};E<g&&(E=g),E+c>C&&(E=C-c);var k=S+y;return S+y<y&&(k=0),S+y>y&&(k-=y),S+y+s>w&&(k=w-y-s),{x:E,y:k}}({position:{x:u+r,y:c+o},id:t,rootId:Be,parentId:l,dataContext:Te,addXY:{x:r,y:o}})},a=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return Vn()(t=Te.findControl(e)).call(t,bd)};switch(e){case Hm.BACKSPACE:case Hm.DELETE:Qt();break;case Hm.A:if(n){var u,c=Te.getData().items;Me.setSelect(R()(u=F()(c).call(c,(function(t){return t.parentId===Be}))).call(u,(function(t){return t.id})))}break;case Hm.C:if(n){var l=Me.getSelection();if(l.length){if(a())return 1===l.length?function(){try{localStorage.setItem(fn,z()(Hn))}catch(t){localStorage.clear(),localStorage.setItem(fn,Hn)}}():localStorage.removeItem(sn);var s=Te.getData().items,f=Y().flattenDeep(R()(l).call(l,(function(t){return oy(t,s)}))),d=z()({selection:l,items:R()(f).call(f,(function(t){return Te.findControl(t)}))});try{localStorage.setItem(sn,d)}catch(t){localStorage.removeItem(sn),localStorage.setItem(sn,d)}}}break;case Hm.V:if(n){var h=Me.getSelection();if(a())return 1===h.length&&tn();var p=localStorage.getItem(sn);if(p){var v=JSON.parse(p),g=v.selection,y=v.items,b=Ce.current.copyControl({selection:g,items:R()(y).call(y,(function(t){return t.tableTailId&&(t.tableTailId=""),t}))}),C=F()(b).call(b,(function(t){var e;return kn()(e=m()(bt)).call(e,t.type)}));(null==C?void 0:C.length)>0&&Ce.current.pasteControl(C)}}break;case Hm.D:n&&Ce.current.copyAndPasteControl();break;case Hm.Z:n&&(Ce.current.canvasUndo(),ut()((function(){_.current.focus()})));break;case Hm.Y:n&&(Ce.current.canvasRedo(),ut()((function(){_.current.focus()})));break;case Hm.ARROWUP:var x;if(a())return;Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(x=i()).call(x,(function(t){var e=o(t,{y:-1}),n=(e.x,e.y),r=Te.findControl(t),i=r.parentId,a=r.y;return"TableTail"===(Te.findControl(i)||{}).type&&(n=a-1>0?a-1:0),[t,{y:n}]}))));break;case Hm.ARROWDOWN:var w;if(a())return;Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(w=i()).call(w,(function(t){var e=o(t,{y:1}),n=(e.x,e.y),r=Te.findControl(t),i=r.parentId,a=r.y,u=r.height,c=Te.findControl(i)||{},l=c.height;return"TableTail"===c.type&&(n=u+a+1>l?a:+a+1),[t,{y:n}]}))));break;case Hm.ARROWLEFT:var E;if(a())return;Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(E=i()).call(E,(function(t){var e=o(t,{x:-1}),n=e.x;e.y;return[t,{x:n}]}))));break;case Hm.ARROWRIGHT:var S;if(a())return;Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(S=i()).call(S,(function(t){var e=o(t,{x:1}),n=e.x;e.y;return[t,{x:n}]}))))}}),[De]),nn=(0,H.useCallback)(Y().throttle(en,200,{trailing:!0}),[en]),rn=function(t){var e,n=t?Te.findControl(t):null,r=(0,Z.getControlIsContainer)(bt,n||{},C).isContainer;if("SubDataGrid"===(null===(e=Te.findControl(Te.findControl(De).parentId))||void 0===e?void 0:e.type))return!1;for(;n&&!r&&n.parentId!==Be;){n=Te.findControl(n.parentId)}return n},on=function(t,e,n){var r,i,o,a=t.Id,u=(e.offsetX,e.offsetY,null==n||null===(r=n.attrs)||void 0===r?void 0:r.id),c=rn(u),l=(0,Z.getControlIsContainer)(bt,c||{},C),s=l.isContainer,f=l.accept;if("SubDataGrid"===(null===(i=Te.findControl(null===(o=Te.findControl(u))||void 0===o?void 0:o.parentId))||void 0===i?void 0:i.type)&&((0,nm.c)("isContainer"),(0,nm.c)("accept")),!s||!f||kn()(f).call(f,a)){var d=Fe({type:a,parentId:s?c.id:Be,transferData:{x:e.x,y:s?e.y-c.y:e.y}});if(d){var h=d.x,p=d.y,v=d.width,g=d.height;h+v>=pe&&(d.x=pe-v),p+g>fe&&(d.y=fe-g);var m=Te.findControlByCondition((function(t){return"Footer"===t.type}))[0];m&&d.parentId===Be&&p+g>m.y&&Jh([d],"y",m.y-g),d.x=d.x<0?0:d.x,Te.addControl((0,Z.createAddAction)(d)).then((function(t){var e=t[0].value;Me.setSelect(Gn()(e)?[e[0].id]:[e.id])}))}}},an=function(t,e,n,r){var i,o,a;t.key=t.nodeKey;var u=t.type,c=void 0===u?"Text":u,l=t.Items,s=t.InitAttr,f=void 0===s?{}:s;if(!l){var h=nr(t,ke),p=h.title,v=(0,zn.c)(h,ey),g=(0,ot.c)({},j()(i=m()(f)).call(i,(function(t,e){return t[Y().camelCase(e)]=f[e],t}),{}),v),y=null==n||null===(o=n.attrs)||void 0===o?void 0:o.id,b=rn(y),x=(0,Z.getControlIsContainer)(bt,b||{},C),w=x.isContainer,E=x.accept;if("SubDataGrid"===(null===(a=Te.findControl(Te.findControl(De).parentId))||void 0===a?void 0:a.type)&&(w=!1,E=""),"Text"===c){if(b&&Ld(b))return Xh(t,b,Te,{initAttr:g,title:p},d,ke);if(w&&E&&!kn()(E).call(E,c))return;if(b&&Bd(b)){var S=or(Te,y,"CardGrid");if(S){var k=wr(S,ke);if(!Sr(k,null==h?void 0:h.dataSource))return d((0,Z.getLangMsg)("printd.grid.key0095"))}return Yh(y,Te,ry(ry({},g),{},{viewText:"=$".concat(p)}))}var D=[];if(r){var A=Fe({type:c,parentId:w?b.id:Be,transferData:{bindText:p,x:e.x,y:w?e.y-b.y:e.y}}),I=A.x,M=A.y,T=A.width,B=A.height;I+T>=pe&&(A.x=pe-2*T),M+B>fe&&(A.y=fe-B);var F=Fe({type:c,parentId:w?b.id:Be,transferData:(0,ot.c)({},g,{x:(+A.x||0)+(+A.width||0),y:+A.y||0,viewText:"=$".concat(p)})});D=[A,F]}else{var L=Fe({type:c,parentId:w?b.id:Be,transferData:ry(ry({},g),{},{x:e.x,y:w?e.y-b.y:e.y,viewText:"=$".concat(p)})}),_=L.x,N=L.y,P=L.width,O=L.height;_+P>=pe&&(L.x=pe-P),N+O>fe&&(L.y=fe-O),D=[L]}var G=Te.findControlByCondition((function(t){return"Footer"===t.type}))[0],z=D[0],U=z.y,W=z.height;G&&D[0].parentId===Be&&U+W>G.y&&Jh(D,"y",G.y-W),Te.addControl((0,Z.createAddAction)(D,{addType:"addField"})).then((function(){Me.setSelect(R()(D).call(D,(function(t){return t.id})))}))}else{if(c===hn.richText&&b){if(Ld(b))return Xh(t,b,Te,{initAttr:g,title:p},d,ke);if(Bd(b)){var Q=or(Te,y,"CardGrid");if(Q){var J=wr(Q,ke);if(!Sr(J,null==h?void 0:h.dataSource))return d((0,Z.getLangMsg)("printd.grid.key0095"))}return Yh(y,Te,ry(ry({},g),{},{viewText:"=$".concat(p)}))}}if(b&&Bd(b)){var H=b.id,V=or(Te,H,"CardGrid");if(V){var K=wr(V,ke);if(!Sr(K,null==h?void 0:h.dataSource))return d((0,Z.getLangMsg)("printd.grid.key0096"))}}if(w&&_e&&!kn()(_e).call(_e,c))return;var q=Fe({type:c,parentId:w?b.id:Be,transferData:ry(ry({},g),{},{x:e.x,y:w?e.y-b.y:e.y})}),X=q.x,$=q.y,tt=q.width,et=q.height;X+tt>=pe&&(q.x=pe-tt),$+et>fe&&(q.y=fe-et),Te.addControl((0,Z.createAddAction)(q)).then((function(){Me.setSelect([q.id])}))}}},un=(0,H.useRef)({isOutMouseUp:!1}),cn=(0,H.useCallback)((function(){if(!0===Oe.current.isDragging){var t,e,n,r;Oe.current.isDragging=!1;var i=X.current,o=tv(i),a=null===(t=B.current)||void 0===t?void 0:Jn()(t).call(t,".".concat(Et)).toArray(),u=F()(e=R()(n=F()(a).call(a,(function(t){t.name().split(" ");return im().Util.haveIntersection(o,tv(t))&&t.getParent()===O.current}))).call(n,(function(t){return t.id()}))).call(e,Boolean);u.length>0&&Me.setSelect(u),i.x(iy),i.y(iy),i.width(iy),i.height(iy),i.visible(!1),null==i||null===(r=i.getLayer())||void 0===r||r.batchDraw()}}),[]);(0,H.useEffect)((function(){var t,e=function(){un.current.isOutMouseUp=!0},n=function(t){var e,n,r,i,o,a;if(("INPUT"!==(null===(e=t.target)||void 0===e?void 0:e.tagName)||"checkbox"===(null===(n=t.target)||void 0===n?void 0:n.type))&&"TEXTAREA"!==(null===(r=t.target)||void 0===r?void 0:r.tagName)&&"true"!==(null===(i=t.target)||void 0===i?void 0:i.contentEditable)){var u=t.keyCode||t.which,c=Tv(t);(kn()(o=[Hm.ARROWDOWN,Hm.ARROWLEFT,Hm.ARROWRIGHT,Hm.ARROWUP,Hm.DELETE,Hm.BACKSPACE]).call(o,u)||c&&kn()(a=[Hm.D,Hm.A]).call(a,u))&&t.preventDefault(),nn(t)}};return null===(t=document.querySelector(".print-designer-root"))||void 0===t||t.addEventListener("keydown",n),window.addEventListener("mouseup",e),function(){var t;null===(t=document.querySelector(".print-designer-root"))||void 0===t||t.removeEventListener("keydown",n),window.removeEventListener("mouseup",e)}}),[De,Be,cn,nn]),(0,H.useEffect)((function(){var t=function(t){t.stopPropagation()};return window.addEventListener("drop",t),function(){window.removeEventListener("drop",t)}}),[]),(0,H.useEffect)((function(){return Z.eventBus.on("scale",(function(t){t!==E&&S(t)})),function(){Z.eventBus.off("scale")}}),[E]);var ln=(0,H.useState)((function(){return(null==h?void 0:h.current)||!1})),dn=(0,M.c)(ln,2),pn=dn[0],mn=dn[1];(0,H.useEffect)((function(){return Z.eventBus.on("contextStrokeEnabled",(function(t){t!==pn&&mn(t)})),function(){Z.eventBus.off("contextStrokeEnabled")}}),[pn]);var bn=(0,H.useCallback)((function(){var t=vt.current,e=t.offsetWidth,n=t.offsetHeight;if(t){var r,i=function(t,e,n,r){return{justifyContent:t&&t<n?"flex-start":"center",alignItems:e&&e<r?"flex-start":"center"}}(e,n,Qf(ye,E),Qf(me,E)),o=i.justifyContent,a=i.alignItems,u=!1;t.style.justifyContent!==o&&(t.style.justifyContent=o,u=!0),t.style.alignItems!==a&&(t.style.alignItems=a,u=!0),u&&Nn((function(t){return t+1})),W()(r=Sn.current).call(r,(function(t){return t()})),Je(),wn()}}),[E,ye,me]);(0,H.useEffect)((function(){return window.addEventListener("resize",bn),function(){window.removeEventListener("resize",bn)}}),[pe,fe,E,A,ye,me]),(0,H.useEffect)((function(){bn()}),[E,pe,fe,ye,me]);var Cn=(0,H.useRef)([]),xn=(0,H.useCallback)((function(){var t,e=(window.devicePixelRatio||1).toFixed(2);Y().isEqual(+e,+A)||I(+e),bn(),wn(),W()(t=Cn.current).call(t,(function(t){return t(E)}))}),[A,pe,fe,E,ye,me]);ty([A,pe,fe,E,ye,me],xn),(0,H.useImperativeHandle)(e,(function(){return{stage:B.current}}),[]);var wn=(0,H.useCallback)((function(){ut()((function(){var t,e;null===(t=B.current)||void 0===t||W()(e=Jn()(t).call(t,"Transformer").toArray()).call(e,(function(t){null==t||t.forceUpdate()}))}))}),[]);(0,H.useEffect)((function(){var t=function(){var t;if(De!==Be){var e=null===(t=B.current)||void 0===t?void 0:t.findOne("#".concat(De));ut()((function(){var t,n,r=tv(e,Xe());r&&Te.findControl(De)?null===(t=jn.current)||void 0===t||t.operateLine(r):null===(n=jn.current)||void 0===n||n.hideLine();wn()}))}else{var n;null===(n=jn.current)||void 0===n||n.hideLine()}};t();var e=Te.addDataChangeListener(t);return function(){e()}}),[De,E,Be,wn]),(0,H.useEffect)((function(){return Z.eventBus.on("align-shapes",(function(t){var e=t.type,n=t.ids,r=Te.findControl(n);switch(e){case"top":var i=(0,T.c)({},Xt,Math.min.apply(null,R()(r).call(r,(function(t){return t[Xt]}))));Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(r).call(r,(function(t){return[t[ee],i]}))));break;case Ht:var o=(0,T.c)({},Xt,Hf((Math.min.apply(null,R()(r).call(r,(function(t){return t[Xt]})))+Math.max.apply(null,R()(r).call(r,(function(t){return t[Xt]+t[te]}))))/2,1));Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(r).call(r,(function(t){return[t[ee],(0,T.c)({},Xt,Hf(o[Xt]-t[te]/2,1))]}))));break;case Yt:ay(r,Te,Xt,te);break;case Kt:ay(r,Te,qt,$t);break;case Vt:var a=(0,T.c)({},qt,Hf((Math.max.apply(null,R()(r).call(r,(function(t){return t[qt]+t[$t]})))+Math.min.apply(null,R()(r).call(r,(function(t){return t[qt]}))))/2,1));Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(r).call(r,(function(t){return[t[ee],(0,T.c)({},qt,Hf(a[qt]-t[$t]/2,1))]}))));break;case Zt:var u=j()(r).call(r,(function(t,e){var n=e[qt]+e[$t];return n>t?n:t}),0);Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(r).call(r,(function(t){return[t[ee],(0,T.c)({},qt,t[qt]+(u-(t[qt]+t[$t])))]}))));break;case Jt:var c=j()(r).call(r,(function(t,e){var n=e[Xt]+e[te];return n>t?n:t}),0);Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(r).call(r,(function(t){return[t[ee],(0,T.c)({},Xt,t[Xt]+(c-(t[Xt]+t[te])))]}))));break;default:var l=(0,T.c)({},qt,Math.min.apply(null,R()(r).call(r,(function(t){return t[qt]}))));Te.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(R()(r).call(r,(function(t){return[t[ee],l]}))))}})),function(){Z.eventBus.off("align-shapes")}}),[]);var En=(0,H.useRef)([]),Sn=(0,H.useRef)([]),Dn=(0,H.useCallback)((function(t){var e,n=t.currentTarget,r=n.scrollLeft,i=n.scrollTop;q.current.style.transform="translateX(".concat(-r+"px",")"),J.current.style.transform="translateY(".concat(-i+"px",")"),W()(e=En.current).call(e,(function(t){t&&t({scrollLeft:r,scrollTop:i})}))}),[]),An=(Qf(oe,E),Qf(ie,E),Qf(Math.max(oe,ae+ce),E)),In=Qf(Math.max(ie,ue+le),E),Mn=Xe(),Tn=(Mn.x,Mn.y,Jm({offsetTop:null!==(r=null===(i=je.current)||void 0===i?void 0:i.offsetTop)&&void 0!==r?r:0,offsetLeft:null!==(o=null===(a=je.current)||void 0===a?void 0:a.offsetLeft)&&void 0!==o?o:0,marginLeft:Qf(ue,E),marginTop:Qf(ae,E),definition:ke,dataContext:Te,id:re})),Bn=Tn.showEditor,Fn=Tn.hideEditor,Ln=Tn.editorElement,Rn=Tn.setEditorPosition,_n=Tn.inputNodeRef,Nn=(0,H.useState)(0)[1];(0,H.useEffect)((function(){var t=function(){if(N.current&&je.current){var t=je.current||{},e=t.offsetLeft,n=t.offsetTop;N.current.position({x:(null!=e?e:0)-Qe,y:(null!=n?n:0)-Qe})}};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[Rn]);var Pn,On,jn=(0,H.useMemo)((function(){return{current:{operateLine:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(t=U.current)||void 0===t||t.operateLine.apply(t,r),null===(e=K.current)||void 0===e||e.operateLine.apply(e,r)},hideLine:function(){var t,e;null===(t=U.current)||void 0===t||t.hideLine(),null===(e=K.current)||void 0===e||e.hideLine()}}}}),[]),Un=(0,H.useCallback)((function(){var t,e,n,r;return{scrollTop:null!==(t=null===(e=vt.current)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0,scrollLeft:null!==(n=null===(r=vt.current)||void 0===r?void 0:r.scrollLeft)&&void 0!==n?n:0}}),[]),Wn=(0,H.useCallback)((function(t,e){return t>ie?{width:ie,height:e*ie/t}:{width:t,height:e}}),[ie,oe,E]),Zn=(0,H.useRef)(null),Hn=Te.findControl(De)||{},qn=(Pn=Hn,"1"===(On=Wt.data.bizType)&&"Barcode"===Pn.type?{enabledAnchors:["bottom-center","top-center"]}:"1"===On&&"QRCode"===Pn.type?{enabledAnchors:[]}:Pn.type===qe?{enabledAnchors:["top-center"]}:Pn.type===Ye?{enabledAnchors:["bottom-center"]}:Pn.type===de?{enabledAnchors:["bottom-center","middle-right","bottom-right"]}:Pn.type===he?{enabledAnchors:["middle-left","bottom-left","bottom-center","middle-right","bottom-right"]}:Pn.type===$e?{enabledAnchors:["middle-right","middle-left","bottom-center","top-center"],padding:3}:{}),Xn=ry({isGlobal:!0,stageRef:B,rootControlRef:ze,selectedId:De,parentId:null==Hn?void 0:Hn.parentId,ref:Zn,controlGroupRef:O,isCell:bd(Hn),isSelected:De!==Be,isLastSelected:De!==Be,dataContext:Te,refLineRef:L},qn),$n=(0,H.useMemo)((function(){var t,e,n,r;return{refLineRef:L,rulerRef:jn,stageRef:B,rootControlRef:ze,xRulerRef:U,yRulerRef:K,showEditor:Bn,globalTrRef:Zn,pageHeight:fe,pageWidth:pe,pixelRatio:A,setMessage:d,hideEditor:Fn,setEditorPosition:Rn,marginLeft:Qf(ue,E),marginTop:Qf(ae,E),selectionContext:Me,navToolRef:Ce,canvasAbsolutePosRef:tt,deleteSelectionControl:Qt,getContainerDomScroll:Un,canvasBoxRef:je,rulerWidth:Tt,offsetTop:(null!==(t=null===(e=je.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0)+Tt,offsetLeft:(null!==(n=null===(r=je.current)||void 0===r?void 0:r.offsetLeft)&&void 0!==n?n:0)+Tt,dataContext:Te,isNeedDashBorder:!1,scrollCallbackRef:En,scale:E,contextStrokeEnabled:pn,containerDomRef:vt,getRedundancyXY:Xe,rootId:Be,getInputSize:pt,getTextSize:ht,controlGroupRef:O,dataFactory:mt,dragGroupRef:G,globalConfig:it,sizeAndPixelRatioChangeCbRef:Cn,forceUpdateTransformer:wn,canvasResizeCallbackRef:Sn,handlePassGridActionGuide:p,isFirstUseGrid:v,onValid:g}}),[jn,Bn,fe,pe,A,d,Fn,Rn,ue,ae,Qt,Un,Tt,E,pn,Xe,Be,pt,ht,mt,it,p,v,g]),tr=(0,H.useMemo)((function(){return{activedSelectId:De,isMultiKeyActiveWhenSelectedRef:Ae}}),[De]);(0,H.useEffect)((function(){xe.current=B.current}),[B.current]);var rr={position:"absolute",zIndex:1,backgroundColor:"#ffffff"};return V().createElement(V().Fragment,null,V().createElement("div",{className:Qn()("".concat(Pe,"-canvas-ruler"),"".concat(Pe,"-canvas-ruler-x")),style:ry(ry({},rr),{},{width:Tt,height:An+Bt+Tt}),ref:J},V().createElement(qp.Stage,{width:Tt,height:An+Tt+Bt},V().createElement(km,{direction:"x",scale:E,marginLeft:ue,marginTop:ae,marginRight:le,marginBottom:ce,pageSize:{width:ie,height:oe},dataContext:Te,ref:U}))),V().createElement("div",{className:"".concat(Pe,"-canvas-and-ruler"),ref:tt},V().createElement("div",{className:"".concat(Pe,"-lock")},V().createElement(Q.Icon,{type:"lock"})),V().createElement("div",{className:Qn()("".concat(Pe,"-canvas-ruler"),"".concat(Pe,"-canvas-ruler-y")),style:ry(ry({},rr),{},{width:In+Bt+Tt,height:Tt}),ref:q},V().createElement(qp.Stage,{width:In+Bt+Tt,height:Tt},V().createElement(km,{direction:"y",scale:E,marginLeft:ue,marginTop:ae,marginRight:le,marginBottom:ce,pageSize:{width:ie,height:oe},dataContext:Te,ref:K}))),V().createElement("div",{className:Qn()("".concat(Pe,"-canvas-container"),"".concat(Pe,"-shadow-canvas-container")),id:"printDesignerCanvasContainer",ref:function(t){t&&(vt.current=t)},onScroll:Dn},V().createElement("div",{className:"".concat(Pe,"-canvas-container-border-left")}),V().createElement("div",{className:"".concat(Pe,"-canvas-container-border-top")}),V().createElement("div",{className:Qn()("".concat(Pe,"-canvas-box"),"".concat(Pe,"-shadow-canvas-box")),ref:je,style:{position:"relative",height:Qf(fe,E),width:Qf(pe,E),paddingLeft:Qf(ue,E),paddingRight:Qf(le,E),paddingTop:Qf(ae,E),paddingBottom:Qf(ce,E),boxSizing:"content-box"}}),V().createElement("div",{className:"".concat(Pe,"-canvas-paper"),ref:_,onDragOver:function(t){if(vt.current){var e=vt.current.getBoundingClientRect(),n=e.left,r=e.top,i=(e.height,e.width,vt.current),o=i.scrollLeft,a=i.scrollTop,u=Xe(),c=u.x,l=u.y,s=t.pageX,f=t.pageY;s>=n+Math.max(c-o,0)&&s<=n+Math.max(c-o,0)+Qf(pe,E)&&f>=r+Math.max(l-a,0)&&f<=r+Math.max(l-a,0)+Qf(fe,E)&&t.preventDefault()}},onDrop:function(t){t.preventDefault();var e=window.event,n=e.offsetX,r=e.offsetY,i=Xe(),o=i.x,a=i.y,u={offsetX:n-o,offsetY:r-a,x:Zf(n-o,E),y:Zf(r-a,E)};et.current={isDrag:!0,yPos:u.y};var c=b[Z.CONTROL_DRAG_DATA]||{};if(m()(c).length){var l=c.type,s=c.data,f=c.showDataSourceTitle;null==B||B.current.fire("drop",{dropType:l,target:B.current,evt:window.event,controlData:s,position:u,showDataSourceTitle:f},!1),delete b[Z.CONTROL_DRAG_DATA]}},style:{width:Math.ceil(ve),height:Math.ceil(ge)},tabIndex:-1},V().createElement("div",{className:"".concat(Pe,"-shadow-input"),ref:nt}),V().createElement("canvas",{ref:rt,style:{display:"none"}}),V().createElement("div",{id:"shadowCanvas",style:{display:"none"}}),V().createElement(qp.Stage,{ref:B,className:"".concat(Pe,"-paper"),width:Math.ceil(ve),height:Math.ceil(ge),scale:{x:Math.ceil(ve)/ve,y:Math.ceil(ge)/ge},onMouseDown:function(t){var e=t.target;if(0===t.evt.button){e!==(null==_n?void 0:_n.current)&&Fn&&Fn(),Ve(e)&&(Oe.current.isDragging=!0);var n=t.evt,r=n.layerX,i=n.layerY;Oe.current.startX=r,Oe.current.startY=i,Ve(e)&&Le(t)}},onMouseMove:function(t){var e;if(un.current.isOutMouseUp)return cn(t),void(un.current.isOutMouseUp=!1);if(Oe.current.isDragging){var n=t.evt,r=n.layerX,i=n.layerY,o=Oe.current,a=o.startX,u=o.startY,c=[Math.min(r,a),Math.min(i,u),Math.abs(r-a),Math.abs(i-u)],l=c[0],s=c[1],f=c[2],d=c[3],h=X.current,p=Xe(),v=p.x,g=p.y;h.x(l-v),h.y(s-g),h.width(f),h.height(d),h.visible(!0),null==h||null===(e=h.getLayer())||void 0===e||e.batchDraw()}},onMouseUp:cn,onDrop:function(t){var e=t.dropType,n=t.evt,r=t.controlData,i=t.position,o=t.showDataSourceTitle,a={x:n.offsetX,y:n.offsetY},u=B.current.getIntersection(a,"Group");"control"===e?on(r,i,u):an(r,i,u,o)}},V().createElement(vn.Provider,{value:$n},V().createElement(yn.Provider,{value:tr},V().createElement(qp.Layer,{ref:N,x:(null!==(u=null===(c=je.current)||void 0===c?void 0:c.offsetLeft)&&void 0!==u?u:0)-Qe,y:(null!==(l=null===(s=je.current)||void 0===s?void 0:s.offsetTop)&&void 0!==l?l:0)-Qe},V().createElement(qp.Rect,{id:"".concat(re,"_outter"),ref:Ge,name:"".concat(re,"_outter_rect"),x:0,y:0,width:Qf(ie,E),height:Qf(oe,E),draggable:!1,strokeWidth:1,fill:"#ffffff",shadowColor:"#000",shadowBlur:10,shadowOpacity:.1,shadowOffset:{x:0,y:2},shadowEnabled:!0}),V().createElement(og,{key:Ie,id:"unique_draw_background",ref:$,getImageSize:Wn,src:Ie,scale:E}),V().createElement(qp.Group,{x:Qf(ue,E),ref:O,name:"".concat(re,"_group"),y:Qf(ae,E)},V().createElement(qp.Rect,{id:"".concat(re),ref:ze,name:"".concat(re,"_dotted_rect"),width:Qf(pe,E),height:Qf(fe,E),draggable:!1,dash:[2.5,2.5],stroke:"#D9D9D9",dashEnabled:!0}),(0,Z.toArray)(Ut,{context:$n}),V().createElement(bg,(0,ot.c)({},Xn,{key:"global-transformer"})),V().createElement(qp.Rect,{key:"unique_draw_region",id:"unique_draw_region",ref:X,x:iy,y:iy,height:iy,width:iy,visible:!1,stroke:"#0E5FD8",strokeWidth:1,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:!0}),V().createElement(zm,{dataContext:Te,marginTop:Qf(ae,E),marginLeft:Qf(ue,E),getRedundancyXY:Xe,controlGroupRef:O,key:"unique_refline",rootControlRef:ze,ref:L,stageRef:B,selectedId:De,selectionContext:Me}))))))),Ln)),Dt.show&&V().createElement(Pf,{meta:Ee,controlType:Dt.controlType,transferData:Dt.transferData,definition:ke,visible:Dt.show,onCancel:function(){var t=Dt.reject;t&&t("error: cancel add DataGrid"),At({show:!1})},onSelect:Ue,activedSelectId:De}),Ft.show&&V().createElement(cm,{meta:Ee,definition:ke,visible:Ft.show,onCancel:function(){var t=Ft.reject;t&&t("error: cancel add layoutGrid"),Lt({show:!1})},onConfirm:function(t){var e=t.row,n=t.column;if(pe/n<5)return d((0,Z.getLangMsg)("printd.grid.key0093"));var r=Vh(mt,yt),i=Te.findControlByCondition((function(t){return"Header"===t.type})),o=et.current,a=o.isDrag,u=o.yPos,c=Ft.resolve,l=Ft.parentId,s=ry({width:pe,height:8*e},a?{y:u}:{}),f=null;if(l){var h=Te.findControl(l),p=h.width,v=h.y,g=h.height,m=h.type;s.width=p,s.y=a?s.y-v:0,"TableTail"===m&&g<8*e&&(f={type:Z.ActionType.UPDATE,value:[[l,{height:8*e}]]})}var y=r({type:"LayoutGrid",parentId:l||Be,gridInfo:t,transferData:s});i&&i.length&&y[0].y<i[0].height&&(y[0].y=i[0].height+y[0].y);var b=[{type:Z.ActionType.ADD,value:y}];f&&b.push(f),c(b),Ze(),Lt({show:!1})}}),Gt.show&&V().createElement(sm,{meta:Ee,definition:ke,visible:Gt.show,onCancel:function(){var t=Gt.reject;t&&t("error: cancel add layoutGrid"),zt({show:!1})},onConfirm:function(t){zt({show:!1});var e=Gt.resolve,n=Gt.reject;At({controlType:"CardGrid",reject:n,resolve:e,show:!0,gridInfo:t})}}),V().createElement(am,{meta:Ee,definition:ke,visible:Nt.show,onCancel:function(){var t=Nt.value;Nt.resolve,Nt.reject;Z.eventBus.emit("change-lang",t,!1),Pt({show:!1})},onConfirm:function(){var t=Nt.value;Nt.resolve,Nt.reject;Z.eventBus.emit("change-lang",t,!0),Pt({show:!1})},onClose:function(){Nt.value,Nt.resolve;(0,Nt.reject)((0,Z.getLangMsg)("printd.grid.key0091")),Pt({show:!1})}}))}))),cy=(0,Z.ErrorBoundaryWrap)(uy,"print-main-view"),ly=function(t){var e=(0,H.useRef)({}),n=(0,H.useContext)(Z.SelectionContext),r=(0,H.useContext)(Z.DataContext),i=(0,H.useCallback)((function(t){var n;return(null===(n=e.current)||void 0===n?void 0:n[t])||{}}),[]),o=(0,H.useCallback)((function(t,n){e.current[t]=n}),[]),a=(0,H.useMemo)((function(){return{setFieldSizeCache:o,getFieldSizeCache:i}}),[]),u=(0,H.useCallback)((function(t,e,n){oi()(t).call(t,(function(t){return bd(t)}))||e.setSelect(n)}),[]),c=(0,H.useCallback)((function(){var t;Z.console.log("deleteSelectionControl");var e=r.getRootId(),i=F()(t=n.getSelection()).call(t,(function(t){return t!==e})),o=i,a=R()(i).call(i,(function(t){return r.findControl(t)}));if(o.length){if(1===a.length){var c=a[0];u(a,n,c.parentId!==e?[c.parentId]:[])}else u(a,n,[]);r.deleteControl((0,Z.createDeleteAction)(o))}}),[]);return V().createElement(cy,(0,ot.c)({deleteSelectionControl:c,fieldSizeCacher:a},t))},sy=function(t){var e,n=t.portalRef,r=t.children,i=t.position,o=t.style,a=(0,H.useState)(document.createElement("div")),u=(0,M.c)(a,1)[0],c=(0,H.useRef)(!1),l=(0,H.useRef)(!1);(u.style.position=i||"absolute",u.style.top="0px",u.style.left="0px",u.style.zIndex="1050",o)&&W()(e=cp()(o)).call(e,(function(t){var e=(0,M.c)(t,2),n=e[0],r=e[1];u.style[n]=r}));var s=(0,H.useCallback)((function(){if(l.current){var t;if(Hr().unmountComponentAtNode(u),c.current)document.body.removeChild(u);else null===(t=n.current)||void 0===t||t.removeChild(u);l.current=!1}}),[]);(0,H.useEffect)((function(){return c.current=!1,null!=n&&n.current?n.current.appendChild(u):(document.body.appendChild(u),c.current=!0),l.current=!0,s}),[]),r?Hr().render(r,u):s()},fy="up",dy="bottom",hy=(0,H.forwardRef)((function(t,e){var n=t.x,r=t.y,i=t.portalRef,o=t.rowData,a=t.gridType,u=t.originCells,c=t.getCellIdx,l=t.mergeConfig,s=t.gridSelectionContext,f=t.hideContextMenu,d=t.addRow,h=t.addColumn,p=t.deleteRow,v=t.deleteColumn,g=t.addMerge,m=t.removeMerge,y=t.calcSelectionCanMerge,b=t.rowCount,C=t.columnCount,x=t.rows,w=t.subGridId,E=t.dataContext,S=t.selectionContext,k=1===S.getSelection().length&&bd(E.findControl(S.getSelection()[0])),D=y(),A=!k&&!D,I=function(){var t=s.selection,e=t.minRowNum,n=t.maxRowNum,r=t.minColumnNum,i=t.maxColumnNum;if(void 0===e||void 0===n||void 0===r||void 0===i){if(!D)return!1;var o=D.isSameRowType,a=D.isOnlyOneRowData;return o&&!a}for(var l=u[c(e,0)].row,f=x[l].rowType,d=e+1;d<=n;d++){var h=u[c(d,0)].row;if(f!==x[h].rowType)return!1}var p=u[c(e,r)].mergeConfig;if(p){for(var v=e;v<=n;v++)for(var g=r;g<=i;g++){var m=u[c(v,g)].mergeConfig;if(!Y().isEqual(m,p))return!0}return!1}return!0}(),M=function(){var t,e,n=s.contextRowIndex,r=s.contextColumnIndex,i=s.operationRowIndex,o=s.operationColumnIndex,a=s.selection,f=a.minRowNum,d=a.maxRowNum,h=a.minColumnNum,p=a.maxColumnNum;if(void 0!==f&&void 0!==d&&void 0!==h&&void 0!==p){for(var v=f;v<=d;v++)for(var g=h;g<=p;g++){if(u[c(v,g)].mergeConfig)return!0}return!1}if(void 0!==i){for(var m=0;m<C;m++){if(u[c(i,m)].mergeConfig)return!0}return!1}if(void 0!==o){for(var y=0;y<b;y++){if(u[c(y,o)].mergeConfig)return!0}return!1}return void 0!==n&&void 0!==r&&(!!l[P()(t="".concat(n,"_")).call(t,r)]||!(null===(e=u[c(n,r)])||void 0===e||!e.mergeConfig))}(),T=function(t){if(D)return t===fy?D.minRowNum:D.maxRowNum;if(M&&"cell"===s.operationType){var e,n,r=s.contextRowIndex,i=s.contextColumnIndex,o=l[P()(e="".concat(r,"_")).call(e,i)]||(null===(n=u[c(r,i)])||void 0===n?void 0:n.mergeConfig);if(t===fy&&o)return o.rowStart;if(o)return o.rowStart+o.rowLength-1}return"cell"===s.operationType?s.contextRowIndex:s.operationRowIndex},B=function(t){if(D)return t===fy?D.minColumnNum:D.maxColumnNum;if(M&&"cell"===s.operationType){var e,n,r=s.contextRowIndex,i=s.contextColumnIndex,o=l[P()(e="".concat(r,"_")).call(e,i)]||(null===(n=u[c(r,i)])||void 0===n?void 0:n.mergeConfig);if(t===fy&&o)return o.columnStart;if(o)return o.columnStart+o.columnLength-1}return"cell"===s.operationType?s.contextColumnIndex:s.operationColumnIndex},L=(0,H.useCallback)((function(t,e){if("LayoutGrid"===a||"CardGrid"===a)return Se;var n=ft()(o).call(o,(function(t){return Id(t.row)}));return-1===n||t<n?we:t>n?Ee:e===fy?we:Ee}),[a,o]),R=!!F()(o).call(o,(function(t){return t.row.rowType===we||t.row.rowType===Se})).length,_=!!F()(o).call(o,(function(t){return t.row.rowType===Ee})).length,N=!!F()(o).call(o,(function(t){return t.row.rowType===Se})).length,O=!!F()(o).call(o,(function(t){var e,n=t.row;return n.rowType===xe&&(null===(e=n.mergeSummaryField)||void 0===e?void 0:e.length)})).length,j=(s.operationType,s.operationType,"row"===s.operationType),G="column"===s.operationType,z=!("DataGrid"!==a||F()(o).call(o,(function(t){return t.row.rowType===ke})).length||null!=w&&w.length||O),U=!A&&!0,W=!A&&!0,Q=!!s.operationMultiple;Z.console.log(n,r,"GridContextMenu",I,M,s);var J=function(){return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(I||M)?{borderBottom:"1px solid #D9D9D9"}:{}},K=A&&"cell"===s.operationType,q=(0,H.useMemo)((function(){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(Q)return{top:r,left:n};var e=16;return W&&(e+=z?96:64),U&&(e+=64),j&&(e+=32),G&&(e+=32),I&&(e+=32),M&&(e+=32),r+e>t?{top:r-e,left:n}:{top:r,left:n}}),[j,G,I,M,Q]);return sy({portalRef:i,position:"fixed",children:!K&&V().createElement("div",{className:"grid-context-menu",ref:e,style:q},Q?V().createElement(V().Fragment,null,V().createElement("span",{onClick:function(){f()}},(0,Z.getLangMsg)("printd.components.key0031"))):V().createElement(V().Fragment,null,W&&V().createElement("span",{onClick:function(){var t=ft()(o).call(o,(function(t){return Id(t.row)})),e=ft()(o).call(o,(function(t){return Td(t.row)})),n=T(fy);f(),e>-1&&n===t&&(n=e),d(n,fy,L(n,fy))}},(0,Z.getLangMsg)("printd.components.key0032")),W&&V().createElement("span",{onClick:function(){var t=ft()(o).call(o,(function(t){return Td(t.row)})),e=T(dy),n=ft()(o).call(o,(function(t){return Id(t.row)}));f(),t===e?d(n,dy,Ee):d(T(dy),dy,L(e,dy))}},(0,Z.getLangMsg)("printd.components.key0033")),W&&z&&V().createElement("span",{onClick:function(){var t=ft()(o).call(o,(function(t){return Id(t.row)}));f(),d(t,fy,ke,!1,1,!0)}},(0,Z.getLangMsg)("printd.components.key0034")),j&&V().createElement("span",{onClick:function(){f(),p(T())}},(0,Z.getLangMsg)("printd.components.key0035")),U&&V().createElement("span",{onClick:function(){f(),h(B(fy))}},(0,Z.getLangMsg)("printd.components.key0036")),U&&V().createElement("span",{style:J(!G),onClick:function(){f(),h(B(dy),dy)}},(0,Z.getLangMsg)("printd.components.key0037")),G&&V().createElement("span",{style:J(),onClick:function(){f(),v(B())}},(0,Z.getLangMsg)("printd.components.key0038")),I&&V().createElement("span",{onClick:function(){f();var t={};if(Y().isObject(D)){var e=D;(0,ot.c)(t,e)}else(0,ot.c)(t,s.selection);var n=t.minRowNum,r=t.minColumnNum;g({rowStart:n,rowLength:t.maxRowNum-n+1,columnStart:r,columnLength:t.maxColumnNum-r+1})}},(0,Z.getLangMsg)("printd.components.key0039")),M&&V().createElement("span",{onClick:function(){var t;f();var e=s.selection,n=e.minRowNum,r=e.maxRowNum,i=e.minColumnNum,o=e.maxColumnNum,a=s.contextRowIndex,d=s.contextColumnIndex,h=s.operationRowIndex,p=s.operationColumnIndex;if(void 0!==n&&void 0!==r&&void 0!==i&&void 0!==o)m({rowStart:n,rowLength:r-n+1,columnStart:i,columnLength:o-i+1});else if(void 0!==h)m({rowStart:h,rowLength:1,columnStart:0,columnLength:C});else if(void 0!==p)m({rowStart:0,rowLength:b,columnStart:p,columnLength:1});else if(Y().isObject(D)){var v=D.minRowNum,g=D.maxRowNum,y=D.minColumnNum,x=D.maxColumnNum;m({rowStart:v,rowLength:g-v+1,columnStart:y,columnLength:x-y+1})}else if(l[P()(t="".concat(a,"_")).call(t,d)]){var w,E=l[P()(w="".concat(a,"_")).call(w,d)],S=E.rowLength,k=E.columnLength;m({rowStart:void 0===n?s.contextRowIndex:n,rowLength:void 0===n?S:r-n+1,columnStart:void 0===i?s.contextColumnIndex:i,columnLength:void 0===i?k:o-i+1})}else if(u[c(a,d)].mergeConfig){var A=u[c(a,d)].mergeConfig,I=A.rowStart,M=A.columnStart,T=A.rowLength,B=A.columnLength;m({rowStart:void 0===n?I:n,rowLength:void 0===n?T:r-n+1,columnStart:void 0===i?M:i,columnLength:void 0===i?B:o-i+1})}}},(0,Z.getLangMsg)("printd.components.key0040"))))}),null})),py=hy,vy=function(t){var e=t.scrollCallbackRef,n=t.refs,r=t.canvasResizeCallbackRef,i=(0,H.useState)(0)[1];(0,H.useEffect)((function(){var t,o,a=function(t){var e,r,i=t.scrollLeft,o=t.scrollTop;W()(e=F()(r=R()(n).call(n,(function(t){return t.current}))).call(r,Boolean)).call(e,(function(t){var e;t.style.transform=P()(e="translate(".concat(-i+"px",", ")).call(e,-o+"px",")")}))},u=function(){i((function(t){return t+1}))};return null===(t=r.current)||void 0===t||t.push(u),null===(o=e.current)||void 0===o||o.push(a),function(){var t,n;e.current=F()(t=e.current).call(t,(function(t){return t!==a})),r.current=F()(n=r.current).call(n,(function(t){return t!==u}))}}),[e])},gy=!1,my=(0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,c,l,s,f=t.x,d=t.y,h=t.portalRef,p=(0,H.useState)(gy),v=(0,M.c)(p,2),g=v[0],m=v[1],y=(0,H.useState)(!1),b=(0,M.c)(y,2),C=b[0],x=b[1];(0,H.useEffect)((function(){x(!0)}),[]),gy=!0;var w=(0,H.useContext)(vn),E=w.scrollCallbackRef,S=w.containerDomRef,k=(w.pageHeight,w.canvasBoxRef),D=w.rulerWidth,A=(w.pageWidth,w.canvasResizeCallbackRef),I=w.handlePassGridActionGuide,T=f+(null!==(n=null===(r=k.current)||void 0===r?void 0:r.offsetLeft)&&void 0!==n?n:0)+D,B=d+(null!==(i=null===(o=k.current)||void 0===o?void 0:o.offsetTop)&&void 0!==i?i:0)+D,F=(0,H.useRef)(null);vy({scrollCallbackRef:E,refs:[F],canvasResizeCallbackRef:A});var L=(0,H.useCallback)((function(){g||(I&&I(),m(!0))}),[I,g]),R=C&&!g&&V().createElement("div",{onClick:L,title:(0,Z.getLangMsg)("printd.components.key0042"),className:"print-grid-action-guide",ref:F,style:{position:"absolute",transform:P()(a="translate(".concat((null!==(u=-(null===(c=S.current)||void 0===c?void 0:c.scrollLeft))&&void 0!==u?u:0)+"px",", ")).call(a,(null!==(l=-(null===(s=S.current)||void 0===s?void 0:s.scrollTop))&&void 0!==l?l:0)+"px",")"),left:T,top:B-44}},(0,Z.getLangMsg)("printd.components.key0066"));return(0,H.useImperativeHandle)(e,(function(){return{handlePassGridActionGuide:L}}),[L]),sy({portalRef:h,children:R,style:{width:"1000px"}}),null})),yy=my,by="grid-title",Cy=function(t){var e,n=t.text,r=t.width,i=t.height,o=t.type,a=t.lineRef,u=t.index,c=t.change,l=t.handleGridSelection,s=(t.length,t.isSelected),f=t.onContextMenu,d=t.templateRowData,h=(t.templateRowHeight,t.scale),p=t.maxLimitWidthChange,v=t.maxLimitHeightChange,g=t.isNextSelected,m=(0,H.useRef)(null);(0,Z.useOnClickOutside)([m],(function(t){var e=a.current.dataset.canDrag;!e||JSON.parse(e)}),!1);(0,H.useEffect)((function(){var t=function(t){Z.console.log("e.ctrlKe shapeRef.current?.stopDrag()");var e=m.current,n=a.current;e&&(e.dataset.dragging=!1),n&&(n.style.display="none",n.style.transform="",n.dataset.canDrag=!1)};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[]),(0,H.useEffect)((function(){var t=function(t){var e=m.current,n=a.current;if(e&&n&&e.dataset.dragging&&JSON.parse(e.dataset.dragging)){var r,i=n.dataset["".concat(o,"DragStart")],u=("row"!==o?t.clientX:t.clientY)-+i;n.style.transform=P()(r="translate".concat("row"===o?"Y":"X","(")).call(r,u,"px)")}};return window.addEventListener("mousemove",t),function(){window.removeEventListener("mousemove",t)}}),[]);var y="row"===o?Qf(3,h)-i:Qf(5,h)-r,b=Qf("row"===o?v:p,h);(0,H.useEffect)((function(){var t=function(t){var e=a.current,n=m.current;if(e&&n){var r=n.dataset.dragging;if(r&&JSON.parse(r)){var i=e.dataset["".concat(o,"DragStart")],l=("row"!==o?t.clientX:t.clientY)-+i;if(e.style.display="none",e.style.transform="",!isNaN(l)){var s=l>b?b:l<y?y:l;Z.console.log("handleMouseUp",l,t.clientX,t.clientY,+i,[s,b,y]),c(u,d?s/(d.length+1):s,s,l)}}e.dataset.canDrag=!1,n.dataset.dragging=!1}};return window.addEventListener("mouseup",t),function(){window.removeEventListener("mouseup",t)}}),[c,d]);return V().createElement("div",{ref:m,className:Qn()("".concat(by,"-cell"),(0,T.c)((0,T.c)({},"".concat(by,"-cell-selectable"),s),P()(e="".concat(by,"-cell-")).call(e,o,"-next-selectable"),g)),style:{width:"row"===o?r:r+(0===u?1:0),fontSize:12*h,lineHeight:1.5,height:"row"!==o?i:i+(0===u?1:0)},onContextMenu:f,onMouseMove:function(t){var e=m.current,n=a.current;if(e&&n){var r="row"===o?t.nativeEvent.offsetY:t.nativeEvent.offsetX,i="row"===o?e.offsetHeight:e.offsetWidth;Z.console.log("handleMouseMove",r,8,i,r+8>=i),e.dataset.dragging&&JSON.parse(e.dataset.dragging)||(r+8>=i?(n.dataset.canDrag=!0,e.style.cursor="row"===o?"ns-resize":"ew-resize"):(n.dataset.canDrag=!1,e.style.cursor=""))}},onMouseDown:function(t){var e=a.current,n=m.current,r=e.dataset.canDrag;e&&r&&JSON.parse(r)&&n?(n.dataset.dragging=!0,e.dataset["".concat(o,"DragStart")]="row"!==o?t.clientX:t.clientY,e.style["row"===o?"top":"left"]="".concat(n["row"===o?"offsetTop":"offsetLeft"]+n["row"===o?"offsetHeight":"offsetWidth"],"px"),Z.console.log("handleMouseDown",e,m.current),e.style["row"===o?"top":"left"]="row"===o?t.clientX:t.clientY,e.style.display="block",null==t||t.stopPropagation()):Tv(t)?l({type:o,index:u,isMult:!0}):l({type:o,index:u,isMult:!1})}},V().createElement("span",{className:"".concat(by,"-cell-text")},n))},xy=function(t){var e,n,r,i,o,a,u,c,l,s,f,d,h,p,v,g,m,y,b,C,x,w,E,S,k=t.columns,D=t.scale,A=t.x,I=t.y,M=t.portalRef,T=t.rows,B=(t.scrollTop,t.scrollLeft,t.gridType),F=t.templateRowData,L=t.maxLimitWidthChange,_=t.maxLimitHeightChange,N=t.changeRow,O=t.changeColumn,j=t.handleGridSelection,G=t.onContextMenu,z=t.rowTitleSelection,U=t.columnTitleSelection,W=t.templateRowHeight,J=t.containerHeight,K=t.containerWidth,Y=t.subGridId,q=t.addSubDataGrid,X=t.gridState,$=t.isShowAddSubGridBtn,tt=t.tableTailId,et=60*D,nt=25*D,rt=104*D,it=40*D,ot=2*D,at=((0,H.useRef)(null),(0,H.useRef)(null)),ut=(0,H.useRef)(null),ct=(0,H.useRef)(null),lt=(0,H.useRef)(null),st=(0,H.useRef)(null),ft=(0,H.useRef)(null),dt=(0,H.useContext)(vn),ht=dt.scrollCallbackRef,pt=dt.containerDomRef,vt=(dt.pageHeight,dt.canvasBoxRef),gt=dt.rulerWidth,mt=(dt.pageWidth,dt.canvasResizeCallbackRef),yt=A+(null!==(e=null===(n=vt.current)||void 0===n?void 0:n.offsetLeft)&&void 0!==e?e:0)+gt,bt=I+(null!==(r=null===(i=vt.current)||void 0===i?void 0:i.offsetTop)&&void 0!==r?r:0)+gt;vy({scrollCallbackRef:ht,refs:[lt,ct,st,ft],canvasResizeCallbackRef:mt});var Ct=Jn()(T).call(T,(function(t){return"Group"===t.rowType}));Z.console.log("gridTitle",yt,bt,nt,Qf(ad(T,W),D));var xt=X===fe,wt=!(!$||B!==pe||"2"!==X&&X!==fe||null!=Y&&Y.length),Et=function(t,e,n,r){var i,o=!(null===(i=t[e])||void 0===i||!i.visible),a=!o;if(n<r.length-1){var u,c=r[n+1].id;a=a&&!(null===(u=t[c])||void 0===u||!u.visible)}else a=!1;return{isSelected:o,isNextSelected:a}};return sy({portalRef:M,children:V().createElement(V().Fragment,null,xt&&V().createElement("div",{tabIndex:-1,className:Qn()("".concat(by,"-column"),by),ref:lt,style:{width:K,height:nt+0,transform:P()(o="translate(".concat((null!==(a=-(null===(u=pt.current)||void 0===u?void 0:u.scrollLeft))&&void 0!==a?a:0)+"px",", ")).call(o,(null!==(c=-(null===(l=pt.current)||void 0===l?void 0:l.scrollTop))&&void 0!==c?c:0)+"px",")"),left:yt+1,top:bt-nt}},R()(k).call(k,(function(t,e){var n=function(t){if(t<=0)return"";for(var e=[];t;){var n=t%26?t%26:26;e.unshift(String.fromCharCode(n+64)),t=Math.floor((t-n)/26)}return e.join("")}(e+1),r=t.id,i=Et(U,r,e,k),o=i.isSelected,a=i.isNextSelected;return V().createElement(Cy,{maxLimitWidthChange:L,maxLimitHeightChange:_,scale:D,onContextMenu:G,isSelected:o,isNextSelected:a,handleGridSelection:j,length:T.length,index:e,change:O,key:"grid-column-".concat(t.id),text:n,lineRef:at,type:"column",width:Qf(t.columnWidth,D),height:nt})})),V().createElement("div",{ref:at,className:"".concat(by,"-column-drag-line"),style:{height:Qf(ad(T,W),D)+nt}})),xt&&V().createElement("div",{tabIndex:-1,className:Qn()("".concat(by,"-row"),by),ref:ct,style:{width:et,height:J+nt,transform:P()(s="translate(".concat((null!==(f=-(null===(d=pt.current)||void 0===d?void 0:d.scrollLeft))&&void 0!==f?f:0)+"px",", ")).call(s,(null!==(h=-(null===(p=pt.current)||void 0===p?void 0:p.scrollTop))&&void 0!==h?h:0)+"px",")"),left:yt-et+1+0,top:bt-nt}},V().createElement("div",{className:"".concat(by,"-frozen-cell"),style:{width:et,height:nt}},V().createElement("div",{className:"".concat(by,"-frozen-cell-line"),style:{width:60*D}})),R()(T).call(T,(function(t,e){var n=function(t,e,n){if("LayoutGrid"===e||"CardGrid"===e)return n+1;switch((t||{}).rowType){case we:return(0,Z.getLangMsg)("printd.components.key0043");case xe:return(0,Z.getLangMsg)("printd.components.key0044");case Ee:return(0,Z.getLangMsg)("printd.components.key0045");case Se:return(0,Z.getLangMsg)("printd.components.key0046");case ke:return(0,Z.getLangMsg)("printd.components.key0047");default:return t.name}}(t,B,e),r=t.id,i=t.rowType,o=t.rowHeight,a=Qf(o,D);i===xe&&F.length&&(a+=F.length*a);var u=Et(z,r,e,T),c=u.isSelected,l=u.isNextSelected;return V().createElement(Cy,{maxLimitWidthChange:L,templateRowHeight:W,maxLimitHeightChange:_,scale:D,onContextMenu:G,templateRowData:i===xe&&F,isSelected:c,isNextSelected:l,handleGridSelection:j,length:k.length,index:e,change:N,key:"grid-row-".concat(t.id),text:n,type:"row",lineRef:ut,width:et,height:a})})),V().createElement("div",{ref:ut,className:"".concat(by,"-row-drag-line"),style:{width:Qf(ad(k),D)+et}})),wt&&!Ct&&!tt&&V().createElement("div",{className:"".concat(by,"-subgrid-right"),ref:st,style:{width:rt,height:J+1,transform:P()(v="translate(".concat((null!==(g=-(null===(m=pt.current)||void 0===m?void 0:m.scrollLeft))&&void 0!==g?g:0)+"px",", ")).call(v,(null!==(y=-(null===(b=pt.current)||void 0===b?void 0:b.scrollTop))&&void 0!==y?y:0)+"px",")"),left:yt+K+1+0+ot,top:bt},onClick:function(){q("right")}},V().createElement(Q.Icon,{type:"add"}),(0,Z.getLangMsg)("printd.grid.key0032")),wt&&!Ct&&!tt&&V().createElement("div",{className:"".concat(by,"-subgrid-bottom"),ref:ft,style:{width:K,height:it+1,transform:P()(C="translate(".concat((null!==(x=-(null===(w=pt.current)||void 0===w?void 0:w.scrollLeft))&&void 0!==x?x:0)+"px",", ")).call(C,(null!==(E=-(null===(S=pt.current)||void 0===S?void 0:S.scrollTop))&&void 0!==E?E:0)+"px",")"),left:yt+1+0,top:bt+J+ot},onClick:function(){q("bottom")}},V().createElement(Q.Icon,{type:"add"}),(0,Z.getLangMsg)("printd.grid.key0032")))}),null};function wy(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ey(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=wy(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=wy(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Sy=function(t){var e=(0,H.useContext)(vn),n=(e.scale,e.dataContext),r=((0,H.useRef)(null),(0,H.useRef)(null),t.x,t.y,t.id),i=(t.width,t.height,t.config,t.isTemplate),o=t.cellBackColor,a=t.backColor,u=i?[]:n.findControlByCondition((function(t){return t.parentId===r}))||[],c=!i&&(!!u&&!!u.length);return V().createElement(Rg,{data:Ey(Ey({},t),{},{isCell:!0,hasChildItems:c,isTemplate:i,backColor:o||a,childItems:u})},u&&Eb(u,!0))},ky=function(t){t.row;var e=t.cells,n=t.isTemplate,r=t.cellBackColor;return V().createElement(V().Fragment,null,R()(e).call(e,(function(t){t.row,t.column;var e,i,o=t.cellKey,a=t.id;return V().createElement(Sy,(0,ot.c)({},t,{isTemplate:n,key:P()(e=P()(i="".concat(n?"tempalte_":"")).call(i,o,"_")).call(e,a),cellBackColor:r}))})))},Dy=function(t){return j()(t).call(t,(function(t,e,n){return t[e.id]={id:e.id,visible:!1,index:n,data:e},t}),{})},Ay=(0,H.memo)((function(t){var e,n,r,i,o,a,u,c,l,s,f,d,h=(0,H.useState)(se),p=(0,M.c)(h,2),v=p[0],g=p[1],y=(0,H.useContext)(vn),b=y.contextStrokeEnabled,C=(0,H.useRef)(null),x=(0,H.useRef)(null),w=(0,H.useRef)(null),E=(0,H.useRef)(null),S=(0,H.useRef)(null),k=(0,H.useRef)(null);hv({shapeRef:C});var D=(0,H.useState)(!1),A=(0,M.c)(D,2),I=A[0],B=A[1],L=(0,H.useState)({}),_=(0,M.c)(L,2),N=_[0],O=_[1],G=(0,H.useCallback)((function(){I&&B(!1)}),[I]);(0,H.useEffect)((function(){return window.addEventListener("resize",G),function(){window.removeEventListener("resize",G)}}),[G]);var z=y.scale,U=void 0===z?1:z,W=y.canvasAbsolutePosRef,Q=y.selectionContext,J=y.dataContext,K=y.marginLeft,q=y.marginTop,X=y.getContainerDomScroll,$=y.scrollCallbackRef,tt=y.getRedundancyXY,et=y.controlGroupRef,nt=y.pixelRatio,rt=y.sizeAndPixelRatioChangeCbRef,it=y.isFirstUseGrid,at=(Q.getSelection(),J.getRootId()),ct=X(),lt=ct.scrollTop,st=ct.scrollLeft;(0,H.useEffect)((function(){var t;return null===(t=$.current)||void 0===t||t.push(G),function(){var t;$.current=F()(t=$.current).call(t,(function(t){return t!==G}))}}),[I,G]);var ft=t.id,dt=t.rows,ht=void 0===dt?[]:dt,pt=t.columns,vt=void 0===pt?[]:pt,gt=(t.cells,t.mergeConfig),mt=void 0===gt?{}:gt,yt=t.width,bt=t.height,Ct=t.x,xt=t.y,wt=t.type,At=t.border,It=t.templateRowData,Tt=t.originCells,Bt=t.rowCount,Ft=t.columnCount,Lt=t.rowData,Rt=t.templateRowHeight,_t=t.templateRowIndex,Nt=t.getCellPosition,Pt=t.getCellIdx,Ot=t.templateRowY,jt=t.addRow,Gt=t.getRowIndexlocateByPosition,zt=t.getColumnIndexlocateByPosition,Ut=t.addColumn,Wt=t.changeRow,Qt=t.deleteRow,Zt=t.changeColumn,Jt=t.deleteColumn,Ht=t.addMerge,Vt=t.removeMerge,Kt=t.maxLimitWidthChange,Yt=t.maxLimitHeightChange,qt=t.gridBorderType,Xt=t.handleMouseDown,$t=t.isSelected,te=t.isLastSelected,ee=t.subGridId,ne=t.addSubDataGrid,re=t.isShowAddSubGridBtn,ie=null===(e=J.findControl(ft))||void 0===e?void 0:e.tableTailId,oe=J.findControl(t.parentId),ae=(0,H.useState)((function(){return Dy(ht)})),ue=(0,M.c)(ae,2),ce=ue[0],le=ue[1],de=(0,H.useState)((function(){return Dy(vt)})),he=(0,M.c)(de,2),pe=he[0],ve=he[1];(0,H.useEffect)((function(){m()(ce).length!==ht.length&&le(Dy(ht))}),[t]),(0,H.useEffect)((function(){m()(pe).length!==vt.length&&ve(Dy(vt))}),[t]);var ge=dg(yt,U),me=dg(bt,U),ye=Qf(Ct,U),be=Qf(xt,U),Ce=ng({x:Ct,y:xt,id:ft,width:yt,height:bt,border:At,scale:U,contextStrokeEnabled:b,isSelected:$t}),xe=Ce.stroke,we=Ce.strokeWidth,Ee=(Ce.strokeEnabled,Ce.dashEnabled),Se=Ce.defaultDash,ke=Ce.customedStrokeElement,De=Ce.controlStrokeRef;uv({isSelected:$t,refs:[C],pixelRatio:nt,scale:U,currentProp:{id:ft,width:yt,height:bt,x:Ct,y:xt,gridState:v,templateRowData:It,gridBorderType:qt,rowData:Lt,stroke:xe,dashEnabled:Ee,strokeWidth:we,rowGridSelectionState:ce,columnGridSelectionState:pe}});var Ae=dv({shapeRef:w,isSelected:te,shapeRefStroke:"#fff",strokeEnabled:!1,controlStrokeRef:De}),Ie=Ae.onMouseOut,Me=Ae.onMouseOver;(0,H.useEffect)((function(){var t,e,n,r,i,o=null===(t=C.current)||void 0===t?void 0:t.zIndex(),a=!1;v!==fe||Y().isUndefined(o)||(null===(e=C.current)||void 0===e||e.zIndex(((null===(n=et.current)||void 0===n?void 0:n.children.length)||R()(r=J.getData().items).call(r,(function(t){return t.parentId===at})).length)-2),null===(i=C.current)||void 0===i||i.draw(),a=!0);return function(){var t;a&&!Y().isUndefined(o)&&(null===(t=C.current)||void 0===t||t.zIndex(o))}}),[v,at]);var Te=fg(t,y),Be=pv({id:ft,refLineRef:y.refLineRef}),Fe=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height,o=y.dataContext,a=Zf(r,U),u=Zf(i,U);o.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[ft,{x:Zf(e,U),y:Zf(n,U),width:a,height:u}]]))}),[ft,U]),Le=nv({id:ft,shapeRef:C,refLineRef:y.refLineRef,context:y,onDragEnd:Te,onDragMove:Be,parentId:t.parentId,scale:U}),Re=Le.onDragStart,_e=Le.onDragMove,Ne=Le.onDragEnd,Pe=Le.dragBoundFunc,Oe=av({id:ft,shapeRef:x,refLineRef:y.refLineRef,onTransformEnd:Fe,context:y}),je=Oe.onTransform,Ge=Oe.onTransformEnd,ze=(0,H.useRef)(null),Ue={stageRef:y.stageRef,rootControlRef:y.rootControlRef,selectedId:v!==fe&&ft,id:ft,dataContext:J,ref:ze,isSelected:v!==fe&&$t&&!te},We=function(t){var e=t.evt||t;if(e.preventDefault(),v===fe){J.findControl(at).language;var n=e.pageX,r=e.pageY;O({x:n,y:r}),I||(B(!0),t.evt&&Ve())}},Qe=(0,H.useRef)({isSelection:!1,rowIndex:-1,columnIndex:-1,selection:{},operationType:"cell",operationMultiple:!1,contextRowIndex:void 0,contextColumnIndex:void 0,operationRowIndex:void 0,operationColumnIndex:void 0}),Ze=function(t){t.current.contextRowIndex=void 0,t.current.contextColumnIndex=void 0},Je=(0,H.useCallback)((function(){var t=Q.getSelection(),e=J.findControl(t);if(oi()(e).call(e,(function(t){return bd(t)}))&&t.length>1){var n,r=j()(Lt).call(Lt,(function(e,n){var r=n.cells;return P()(e).call(e,F()(r).call(r,(function(e){var n=e.id;return kn()(t).call(t,n)})))}),[]),i=!1;1===r.length&&(i=!0);for(var o=new(li()),a=new(li()),u=new(li()),c=new(li()),l=new(li()),s=!0,f=0;f<Tt.length;f++){var d=Tt[f],h=d.id,p=(d.rowId,d.columnId,d.row),v=d.column,g=d.mergeConfig;if(kn()(t).call(t,h)&&(l.add(h),o.add(p),c.add(ht[p].rowType),c.size>1&&(s=!1),a.add(v),u.add(h),g))for(var m=g.rowStart,y=g.columnStart,b=g.rowLength,C=g.columnLength,x=m;x<=m+b-1;x++)for(var w=y;w<=y+C-1;w++){var E=Tt[Pt(x,w)];if(E){var S=E.id,k=E.row,D=E.column;u.add(S),o.add(k),a.add(D)}}if(l.size===t.length)break}var A=(0,bn.c)(o),I=(0,bn.c)(a);if(Vn()(n=[A,I]).call(n,(function(t){return!function(t){if(0===t.length)return!1;if(1===t.length)return!0;for(var e=0;e<t.length-1;e++)if(t[e]!==t[e+1]-1)return!1;return!0}(t)})))return!1;if(A.length*I.length===(0,bn.c)(u).length&&A.length*I.length!=1)return{minRowNum:Math.min.apply(Math,(0,bn.c)(A)),minColumnNum:Math.min.apply(Math,(0,bn.c)(a)),maxRowNum:Math.max.apply(Math,(0,bn.c)(A)),maxColumnNum:Math.max.apply(Math,(0,bn.c)(a)),isSameRowType:s,isOnlyOneRowData:i}}return!1}),[ft,Tt,ht,Lt]),He=function(t){var e,n,r,i,o,a,u=t.minRowNum,c=t.maxRowNum,l=t.minColumnNum,s=t.maxColumnNum,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U;if(void 0!==u&&void 0!==c&&void 0!==l&&void 0!==s){(0,ot.c)(Qe.current.selection,{minRowNum:u,maxRowNum:c,minColumnNum:l,maxColumnNum:s});for(var d=Tt[Pt(u,l)],h=d.row,p=d.id,v=Jn()(e=Lt[h].cells).call(e,(function(t){return t.id===p})),g=v.x,m=v.y,y=0,b=0,C=u;C<=c;C++){var x=Nt({row:C,column:l});x.width;b+=x.height}for(var w=l;w<=s;w++){var E=Nt({row:u,column:w}),S=E.width;E.height;y+=S}y=Qf(y,f),b=Qf(b,f),null===(n=k.current)||void 0===n||n.position({x:Qf(g,f),y:Qf(m,f)}),null===(r=k.current)||void 0===r||r.width(y),null===(i=k.current)||void 0===i||i.height(b),null===(o=k.current)||void 0===o||o.visible(!0),null===(a=k.current)||void 0===a||null===(a=a.getLayer())||void 0===a||a.batchDraw()}},Ve=function(){var t=Dy(ht),e=Dy(vt),n=!1;return Qe.current.operationType="cell",Qe.current.operationRowIndex=void 0,Qe.current.operationColumnIndex=void 0,Y().isEqual(t,ce)||(le(t),n=!0),Y().isEqual(e,pe)||(ve(e),n=!0),n},Ke=function(t){var e=t.type,n=t.index,r=t.isMult,i=t.reset,o=void 0!==i&&i,a=t.isSelectedGrid,u=void 0!==a&&a;if(Ze(Qe),o){Ve()&&u&&Q.setSelect([ft])}else{G(),Ye();var c,l,s,f,d=[],h=[],p=!1;if("row"===e)Qe.current.operationType="row",Qe.current.operationRowIndex=n,Qe.current.operationColumnIndex=void 0,r?le((function(t){return p=!t[ht[n].id].visible,t[ht[n].id].visible=p,Y().cloneDeep(t)})):(le((function(){var t=Dy(ht);return p=!t[ht[n].id].visible,t[ht[n].id].visible=p,Y().cloneDeep(t)})),ve(Dy(vt))),d=R()(c=jf()(l=new Array(Ft)).call(l,0)).call(c,(function(t,e){return Tt[Pt(n,e)].id}));else Qe.current.operationType="column",Qe.current.operationColumnIndex=n,Qe.current.operationRowIndex=void 0,r?ve((function(t){return p=!t[vt[n].id].visible,t[vt[n].id].visible=p,Y().cloneDeep(t)})):(ve((function(){var t=Dy(vt);return p=!t[vt[n].id].visible,t[vt[n].id].visible=p,Y().cloneDeep(t)})),le(Dy(ht))),d=R()(s=jf()(f=new Array(Bt)).call(f,0)).call(s,(function(t,e){return Tt[Pt(e,n)].id}));if(r)Qe.current.operationMultiple=!0;else{Qe.current.operationMultiple=!1;var v=Q.getSelection();h=F()(v).call(v,(function(t){return t!==ft}))}if(p){var g,m,y=Q.getSelection(),b=F()(g=(0,bn.c)(new(li())(P()(m=F()(y).call(y,(function(t){return!kn()(h).call(h,t)}))).call(m,d)))).call(g,(function(t){return t!==ft}));Q.setSelect(b)}else{var C,x,w=J.getRootId(),E=F()(C=Q.getSelection()).call(C,(function(t){return!kn()(h).call(h,t)})),S=F()(x=F()(E).call(E,(function(t){return!kn()(d).call(d,t)}))).call(x,(function(t){return t!==ft}));Q.setSelect(S.length>0?S:[w])}}},Ye=(0,H.useCallback)((function(){var t,e;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(Qe.current.selection={}),null===(t=k.current)||void 0===t||t.visible(!1),null===(e=k.current)||void 0===e||e.draw(),Qe.current.isSelection=!1}),[]);(0,H.useEffect)((function(){var t=function(t){Ye(!1),ut()((function(){var e=Qe.current.selection;He(e,t)}))};return rt.current.push(t),function(){var e;rt.current=F()(e=rt.current).call(e,(function(e){return e!==t}))}}),[He,Ye,U]),(0,H.useEffect)((function(){var t=Q.addSelectChangeListener((function(t){var e=t.value;if(Vn()(e).call(e,(function(t){for(var e=J.findControl(t).parentId,n=t;e;){if(e===ft||ft===n)return!1;if(e===at)return!0;var r=J.findControl(e);e=null==r?void 0:r.parentId,n=null==r?void 0:r.id}return!1}))||0===e.length)return v!==se&&(g(se),Ye()),void Ke({reset:!0})})),e=J.addDataChangeListener((function(){ut()((function(){Ye(!1)}))}));return function(){e(),t()}}),[ft,v,Ke,t,at,He,Ye]);var qe=(0,H.useCallback)((function(){if(Qe.current.isSelection){var t,e=[],n=Qe.current.selection,r=n.minRowNum,i=n.maxRowNum,o=n.minColumnNum,a=n.maxColumnNum;if(oi()(t=[r,i,o,a]).call(t,(function(t){return!Y().isUndefined(t)}))){for(var u=function(t,e,n,r,i){for(var o=$d(t,e,r,i),a=function(t,e){var n=e.mergeConfig;if(!n)return t;var r=n.columnStart,i=n.columnLength;return Math.max(t,r+i-1)},u=n,c=o(u,a);c>u;)c=o(u=c,a);return u}(r,i,a,Tt,Pt),c=function(t,e,n,r,i){for(var o=$d(t,e,r,i),a=function(t,e){var n=e.mergeConfig;if(!n)return t;var r=n.columnStart;return Math.min(t,r)},u=n,c=o(u,a);c<u;)c=o(u=c,a);return u}(r,i,o,Tt,Pt),l=r;l<=i;l++)for(var s=c;s<=u;s++)e.push(Tt[Pt(l,s)].id);Y().isEqual(e,Q.getSelection())||Q.setSelect(e)}}Qe.current.isSelection=!1}),[Tt]);(0,Z.useOnClickOutside)([E],(function(){G()}),!1),(0,H.useEffect)((function(){var t=function(){qe()};return window.addEventListener("mouseup",t),function(){window.removeEventListener("mouseup",t)}}),[qe]),(0,H.useEffect)((function(){var t;(v!==fe&&Ye(),v!==se)&&(null===(t=S.current)||void 0===t||t.handlePassGridActionGuide())}),[v]);var Xe=function(t,e,n,r){Wt(t,e,n,r),Ye()},$e=function(t,e,n,r){Zt(t,e,n,r),Ye()},tn=R()(It).call(It,(function(t,e){return V().createElement(ky,{key:"tempalte_row_".concat(e),cells:t,isTemplate:!0,cellBackColor:"#F5F8FC"})})),en=R()(Lt).call(Lt,(function(t,e){var n;return V().createElement(ky,{key:P()(n="".concat(t.row.id,"_row_")).call(n,e),cells:t.cells,row:t.row})})),nn=(0,H.useMemo)((function(){return{gridState:v,gridX:ye,gridY:be,gridBorderType:qt,isEditorGridState:v===fe,removeGridSelection:Ye}}),[v,ye,be,qt,Ye]);return V().createElement(V().Fragment,null,V().createElement(qp.Group,{draggable:v!==fe,width:ge,height:me,x:ye,y:be,scale:{x:1,y:1},onDragStart:Re,onDragMove:_e,onDragEnd:Ne,onMouseOver:Me,onMouseOut:Ie,onContextMenu:We,onDblClick:function(t){v!==fe&&(g(fe),t.cancelBubble=!0)},onMouseDown:function(t){G(),v!==fe&&g("2"),v!==fe&&Xt(t),function(t){if(0===t.evt.button||2===t.evt.button){var e=null==t?void 0:t.target;if(v===fe){var n,r,i,o=null===(n=e.id().split("_"))||void 0===n?void 0:n[0];if(o&&!bd(J.findControl(o)))return;var a=t.evt,u=a.layerX,c=a.layerY,l=tt(),s=l.x,f=l.y,d=Qf((null==oe?void 0:oe.y)||0,U),h=Gt(c-be-f-d,Ot,Rt),p=zt(u-ye-s);if(-1===h||-1===p)return;if(2===t.evt.button)return Qe.current.contextRowIndex=h,void(Qe.current.contextColumnIndex=p);Ze(Qe),Qe.current.isSelection=!0;var g=Qe.current.selection;Qe.current.rowIndex=h,Qe.current.columnIndex=p,g.rowStart=Qe.current.rowIndex,g.columnStart=Qe.current.columnIndex,g.minRowNum=void 0,g.maxRowNum=void 0,g.minColumnNum=void 0,g.maxColumnNum=void 0,Qe.current.operationType="cell",Qe.current.operationMultiple=!1,null===(r=k.current)||void 0===r||r.visible(!1),null===(i=k.current)||void 0===i||i.draw(),Ke({reset:!0})}}}(t)},onMouseMove:function(t){if(Qe.current.isSelection){var e=t.evt,n=e.layerX,r=e.layerY,i=tt(),o=i.x,a=i.y,u=Qf((null==oe?void 0:oe.y)||0,U),c=Gt(r-be-a-u,Ot,Rt),l=zt(n-ye-o);if(-1===c||-1===l)return;var s=Qe.current.selection,f=c,d=l;if(f===s.rowEnd&&d===s.columnEnd)return;s.rowEnd=f,s.columnEnd=d;var h,p,v=s.rowStart,g=void 0===v?0:v,m=s.columnStart,y=void 0===m?0:m,b=s.rowEnd,C=void 0===b?0:b,x=s.columnEnd,w=void 0===x?0:x;if(g===C&&y===w)return null===(h=k.current)||void 0===h||h.visible(!1),void(null===(p=k.current)||void 0===p||p.draw());for(var E=Math.min(g,C),S=Math.min(y,w),D=Math.max(g,C),A=Math.max(y,w),I=E,M=D,T=S,B=A,F=E;F<=D;F++)for(var L=S;L<=A;L++){var R=Tt[Pt(F,L)].mergeConfig;if(R){var _=R.rowStart,N=R.columnStart,P=R.rowLength,O=R.columnLength;I=Math.min(I,_),M=Math.max(M,_+P-1),T=Math.min(T,N),B=Math.max(B,N+O-1)}}(0,ot.c)(s,{minRowNum:I,minColumnNum:T,maxRowNum:M,maxColumnNum:B}),He(s)}},onMouseUp:qe,ref:C,id:ft,dragBoundFunc:Pe,name:P()(n=P()(r=P()(i="".concat("grid"," ")).call(i,Et," ")).call(r,St," ")).call(n,kt)},V().createElement(qp.Rect,{width:ge,height:me,scale:{x:1,y:1},onTransform:je,onTransformEnd:Ge,ref:x,strokeEnabled:!1,name:P()(o=P()(a="".concat(ft," ")).call(a,St," ")).call(o,kt)}),V().createElement(mn.Provider,{value:nn},tn,It.length>0&&V().createElement(qp.Text,{key:"grid-template-text",name:"grid-template-text",listening:!1,verticalAlign:"middle",align:"center",text:(0,Z.getLangMsg)("printd.components.key0041"),opacity:1,fill:"#E45D5D",fontSize:18,x:0,y:Qf(Ot,U),width:ge,height:Qf(Rt,U),onContextMenu:function(t){"Text"===t.currentTarget.getType()&&(t.cancelBubble=!0)}}),en),V().createElement(qp.Rect,{key:"grid-selection-rect",name:"grid-selection-rect ".concat(Mt),ref:k,listening:!1,visible:!1,x:0,y:0,width:0,height:0,fill:"#99CCFF",strokeEnabled:!0,stroke:"#0E5FD8",strokeWidth:1,hitStrokeWidth:0,opacity:.4,strokeHitEnabled:!1}),F()(u=R()(c=m()(ce)).call(c,(function(t){var e,n=ce[t],r=n.id,i=n.visible,o=n.index,a=(n.data,"grid-selection-row-".concat(r));if(!ht[o])return null;var u=0;_t>-1&&o>_t&&Rt&&(u=Rt);var c={x:0,y:Qf(o&&ad(En()(ht).call(ht,0,o)),U)+Qf(u,U),width:Qf(ad(vt),U),height:Qf(ht[o].rowHeight,U)};return i&&V().createElement(qp.Rect,(0,ot.c)({key:a,name:P()(e="".concat(a," ")).call(e,Mt),listening:!1,visible:i},c,{fill:"#99CCFF",strokeEnabled:!0,stroke:"#0E5FD8",strokeWidth:1,hitStrokeWidth:0,opacity:.4,strokeHitEnabled:!1}))}))).call(u,Boolean),F()(l=R()(s=m()(pe)).call(s,(function(t){var e,n=pe[t],r=n.id,i=n.visible,o=n.index,a=(n.data,"grid-selection-column-".concat(r));if(!vt[o])return null;var u={y:0,x:Qf(o&&ad(En()(vt).call(vt,0,o)),U),height:Qf(ad(ht),U)+Qf(Rt,U),width:Qf(vt[o].columnWidth,U)};return i&&V().createElement(qp.Rect,(0,ot.c)({key:a,name:P()(e="".concat(a," ")).call(e,Mt),listening:!1,visible:i},u,{fill:"#99CCFF",strokeEnabled:!0,stroke:"#0E5FD8",strokeWidth:1,hitStrokeWidth:0,opacity:.4,strokeHitEnabled:!1}))}))).call(l,Boolean),V().createElement(qp.Rect,{width:ge,height:me,visible:!0,listening:!1,scale:{x:1,y:1},dash:Se,ref:w,stroke:xe,dashEnabled:Ee,strokeWidth:we,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,strokeEnabled:!ke,name:P()(f=" ".concat(kt," ")).call(f,Dt)})),V().createElement(bg,Ue),v===fe&&V().createElement(xy,(d={gridType:wt,maxLimitWidthChange:Kt,maxLimitHeightChange:Yt,x:!0},(0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)(d,"x",K+ye+(Fd(oe)?Qf(oe.x,U):0)),"y",q+be+(Fd(oe)?Qf(oe.y,U):0)),"containerWidth",ge),"containerHeight",me),"templateRowData",It),"templateRowHeight",Rt),"scrollTop",st),"scrollLeft",lt),"rowTitleSelection",ce),"columnTitleSelection",pe),(0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)(d,"changeRow",Xe),"tableTailId",ie),"changeColumn",$e),"handleGridSelection",Ke),"onContextMenu",We),"portalRef",W),"scale",U),"rows",ht),"columns",vt),"subGridId",ee),(0,T.c)((0,T.c)((0,T.c)(d,"addSubDataGrid",ne),"gridState",v),"isShowAddSubGridBtn",re))),it&&V().createElement(yy,{x:K+ye,y:q+be,portalRef:W,ref:S}),v===fe&&I&&V().createElement(py,(0,ot.c)({ref:E},N,{gridSelectionContext:Qe.current,addRow:jt,hideContextMenu:G,addColumn:Ut,mergeConfig:mt,gridType:wt,rowData:Lt,deleteRow:Qt,deleteColumn:Jt,originCells:Tt,getCellIdx:Pt,changeRow:Xe,changeColumn:$e,addMerge:function(){Ht.apply(void 0,arguments),Ye(!0)},removeMerge:function(){Vt.apply(void 0,arguments),Ye()},calcSelectionCanMerge:Je,rowCount:Bt,columnCount:Ft,rows:ht,subGridId:ee,selectionContext:Q,dataContext:J})))}),(function(t,e){return gg(t,e)})),Iy=Ay,My=function(t){var e=(0,H.useRef)(null);return!!_.isEqual(t,e.current)},Ty=["key"];function By(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=By(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=By(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Ly=function(t){return"up"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up")?t:t+1},Ry=function(t,e){return rr(t.definition,(function(t){if(t.dataSource===e)return!0}))},_y=function(t,e,n,r,i,o,a){for(var u=e;u<=e+n-1;u++)for(var c=r;c<=r+i-1;c++){var l,s;if(null!==(l=o[a(u,c)])&&void 0!==l&&l.mergeConfig){var f,d=o[a(u,c)].mergeConfig,h=d.rowStart,p=d.columnStart;t[P()(f="".concat(h,"_")).call(f,p)]=void 0}t[P()(s="".concat(u,"_")).call(s,c)]=void 0}},Ny=[],Py=function(t){var e=t.data,n=(0,H.useContext)(yn),r=(0,H.useContext)(vn),i=n.activedSelectId,o=e.mergeConfig,a=void 0===o?{}:o,u=e.id,c=e.fixedRowAtPage,l=e.fixedRowCount,s=void 0===l?1:l,f=e.height,d=e.width,h=e.x,p=e.y,v=e.borderType,g=e.subGridId,m=e.dataSource,y=(e.key,(0,zn.c)(e,Ty)),b=r.globalConfig,C=r.dataContext,x=xd(e),w=C.getRootId(),E=C.findControl(w).language,S=(0,H.useState)((function(){var t;return x&&!c&&!!m&&!(null===(t=Ry(b,m))||void 0===t||null===(t=t.SubEntryList)||void 0===t||!t.length)})),k=(0,M.c)(S,2),D=k[0],A=k[1];(0,H.useEffect)((function(){var t,e=x&&!c&&!!m&&!(null===(t=Ry(b,m))||void 0===t||null===(t=t.SubEntryList)||void 0===t||!t.length);e!==D&&A(e)}),[D,m,b,qf(C),x,E,c]);var I=Mg(Fy(Fy({},r),{},{activedSelectId:i}),u),B=I.handleMouseDown,L=I.isSelected,_=I.isLastSelected,N=r.scale,O=void 0===N?1:N,j=r.selectionContext,G=r.setMessage,U=r.pageWidth,W=r.pageHeight,Q=r.dataFactory,J=(C.getMeta(),_d(C,u)),K=J.items,q=J.allItems,X=Hf(U-d-h,1)>=0?Hf(U-d-h,1):Im(),$=Hf(W-f-p,1)>=0?Hf(W-f-p,1):Im(),tt=Q;Z.console.log("KDgrid",K);var et=cd(K),nt=et.rows,rt=void 0===nt?[]:nt,it=et.columns,at=void 0===it?[]:it,ut=et.cells,ct=void 0===ut?[]:ut,lt=et.rowData,st=et.columnData,dt=My(ct),ht=My(e),pt=My(q),vt=(0,H.useMemo)((function(){return Rd(e)?R()(ct).call(ct,(function(t){var e=t.id;return F()(q).call(q,(function(t){return t.parentId===e}))})):Ny}),[ht,dt,pt]),gt=R()(vt).call(vt,(function(t){return t.id})),mt=R()(ct).call(ct,(function(t){return t.id})),yt=(0,H.useState)((function(){var t;return F()(t=j.getSelection()).call(t,(function(t){if(kn()(mt).call(mt,t)||kn()(gt).call(gt,t))return t}))})),bt=(0,M.c)(yt,2),Ct=bt[0],xt=bt[1];(0,H.useEffect)((function(){var t=j.addSelectChangeListener((function(){var t,e=F()(t=j.getSelection()).call(t,(function(t){if(kn()(mt).call(mt,t)||kn()(gt).call(gt,t))return t}));$f()(e).call(e)!==$f()(Ct).call(Ct)&&xt(e)}));return function(){t&&t()}}),[Ct,gt,mt]);var wt=ud({columns:at,rows:rt,cells:ct,mergeConfig:a,templateRowCount:s,fixedRowAtPage:c,allItems:q,gridData:e}),Et=wt.templateRowData,St=wt.originCells,kt=wt.rowData,Dt=wt.templateRowHeight,At=wt.templateRowIndex,It=wt.templateRowY,Mt=wt.rowCount,Tt=wt.columnCount,Bt=z()(rt),Ft=z()(at),Lt=(0,H.useCallback)(rd({rows:rt,columns:at}),[Bt,Ft]),Rt=(0,H.useCallback)(function(t){return od(t)}(Tt),[Tt]),_t=(0,H.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:we,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0,a=C.getData().items,c=t,l=e;!1===r&&(n===we?(c=0,l="up"):n===Ee&&(c=rt.length-1,l="down"));for(var s=rt[c],f=Y().cloneDeep(s).id,d=(0,T.c)((0,T.c)((0,T.c)((0,T.c)((0,T.c)({},we,(0,Z.getLangMsg)("printd.components.key0043")),xe,(0,Z.getLangMsg)("printd.components.key0044")),Ee,(0,Z.getLangMsg)("printd.components.key0045")),Se,(0,Z.getLangMsg)("printd.components.key0046")),ke,(0,Z.getLangMsg)("printd.components.key0047")),h=(Jn()(a).call(a,(function(t){return t.id===u})),[]),p=ft()(a).call(a,(function(t){return t.id===f})),v=0;v<i;v++){var g=tt({type:"DataRow",parentId:u,transferData:{name:d[n],rowType:n}});h.push(g)}C.addControl((0,Z.createAddAction)(h,{index:Ly(p,l),rowIndex:c,direction:l})).then((function(t){if(o){var e=Jn()(t).call(t,(function(t){return"DataCell"===t.value[0].type})).value;j.setSelect(R()(e).call(e,(function(t){return t.id})))}}))}),[Bt,u]),Nt=(0,H.useCallback)((function(t){var e=rt[t],n=e.id;return"Detail"===e.rowType?(G((0,Z.getLangMsg)("printd.components.key0048")),void Z.console.error((0,Z.getLangMsg)("printd.components.key0048"))):1===rt.length?(0!==t&&Z.console.error("unreachable error deleteRow action"),void C.deleteControl((0,Z.createDeleteAction)(u)).then((function(){j.setSelect([])}))):(j.setSelect([u]),void C.deleteControl((0,Z.createDeleteAction)(n)).then((function(){})))}),[Bt,u]);Z.console.log("maxLimitWidthChange max",[X,U,d,h],[$,W,f,p]);var Pt=(0,H.useCallback)((function(t){for(var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=at[t],a=Y().cloneDeep(o),c=a.type,l=a.id,s=C.getData().items,f=(Jn()(s).call(s,(function(t){return t.id===u})),[]),d=ft()(s).call(s,(function(t){return t.id===l})),h=0;h<i;h++)if(n=void 0,n=tt({type:c,parentId:u}),e=void f.push(n))return e.v;C.addControl((0,Z.createAddAction)(f,{index:Ly(d,r),columnIndex:t,direction:r}))}),[Ft,u]),Ot=(0,H.useCallback)((function(t){var e=at[t].id;if(1===at.length)return 0!==t&&Z.console.error("unreachable error deleteRow action"),void C.deleteControl((0,Z.createDeleteAction)(u)).then((function(){j.setSelect([])}));j.setSelect([u]),C.deleteControl((0,Z.createDeleteAction)(e)).then((function(){}))}),[Ft,u]),jt=(0,H.useCallback)((function(t){return function(e,n,r,i){var o="row"===t?rt:at,a=o[e].id,c="row"===t?"rowHeight":"columnWidth",l="row"===t?"height":"width",s=(C.findControl(u)[l],o[e][c]),f=C.getData().items,d=[],h="row"===t?0===$:0===X;if(i&&h&&e!==o.length-1&&h){var p="row"===t?3:5;if(i>0){var v=En()(o).call(o,e+1),g=ad(v),m=Math.min(Zf(i,O),g-p*v.length),y=Y().cloneDeep(Jn()(f).call(f,(function(t){return t.id===o[e].id})));y[c]=Hf(y[c]+m,1),d.push([y.id,(0,T.c)({},c,y[c])]);for(var b=function(t){if(0===m)return 1;var e=Y().cloneDeep(Jn()(f).call(f,(function(e){return e.id===o[t].id})));e[c]-p>=m?(e[c]=Hf(e[c]-m,1),d.push([e.id,(0,T.c)({},c,e[c])]),m-=m):(m=Hf(m-e[c]+p,1),e[c]=p,d.push([e.id,(0,T.c)({},c,e[c])]))},x=e+1;x<o.length&&!b(x);x++);}else{var w=Y().cloneDeep(Jn()(f).call(f,(function(t){return t.id===o[e].id}))),E=Hf(Math.max(w[c]+Zf(i,O),p),1),S=w[c]-E;w[c]=E,d.push([w.id,(0,T.c)({},c,w[c])]);var k=Y().cloneDeep(Jn()(f).call(f,(function(t){return t.id===o[e+1].id})));k[c]=Hf(k[c]+S,1),d.push([k.id,(0,T.c)({},c,k[c])])}C.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(d))}else{var D=Y().cloneDeep(Jn()(f).call(f,(function(t){return t.id===a})));D[c]=Hf(s+Zf(n,O),1),d.push([D.id,(0,T.c)({},c,D[c])]),C.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(d))}}}),[u,O,$,X,Bt,Ft]),Gt=(0,H.useCallback)(jt("row"),[jt]),zt=(0,H.useCallback)(jt("column"),[jt]),Ut=(0,H.useCallback)((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0,i=Qf(e,O),o=Qf(n,O);Z.console.log("getRowIndexlocateByPosition",t,rt,et,K,C.getData());for(var a=ft()(rt).call(rt,(function(t){return t.rowType===xe})),u=0;u<rt.length;u++){var c=rt[u].rowHeight,l=Qf(c,O);if(i>-1&&o>0){if(t>i&&t<i+o)return-1;if(u>a){if(t>=r+o&&t<=l+r+o)return u}else if(t>=r&&t<=l+r)return u}else if(t>=r&&t<=l+r)return u;r+=l}return-1}),[O,Bt]),Wt=(0,H.useCallback)((function(t){var e=0;Z.console.log("getRowIndexlocateByPosition getColumnIndexlocateByPosition",t);for(var n=0;n<at.length;n++){var r=at[n].columnWidth,i=Qf(r,O);if(t>=e&&t<=i+e)return n;e+=i}return-1}),[O,Ft]),Qt=(0,H.useCallback)((function(t){var e,n=t.rowStart,r=t.rowLength,i=t.columnStart,o=t.columnLength,a=C.findControl(u),c=C.getData().items,l=Y().cloneDeep(a.mergeConfig||{});_y(l,n,r,i,o,St,Rt);var s={mergeConfig:(0,ot.c)({},l,(0,T.c)({},P()(e="".concat(n,"_")).call(e,i),{rowStart:n,rowLength:r,columnStart:i,columnLength:o}))};s.mergeConfig=Y().omitBy(s.mergeConfig,Y().isUndefined);var f=Y().cloneDeep(Jn()(c).call(c,(function(t){return t.id===u})));f.mergeConfig=s.mergeConfig;var d=Qd(f,c);C.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(P()(d).call(d,[[u,s]]))).then((function(){j.setSelect([St[Rt(n,i)].id])}))}),[kt,u,St,Rt]),Zt=(0,H.useCallback)((function(t){var e=t.rowStart,n=t.rowLength,r=t.columnStart,i=t.columnLength,o=C.findControl(u),a=C.getData().items,c=Y().cloneDeep(o.mergeConfig||{});_y(c,e,n,r,i,St,Rt);var l=Y().cloneDeep(Jn()(a).call(a,(function(t){return t.id===u}))),s={mergeConfig:Y().omitBy((0,ot.c)({},o.mergeConfig,c),Y().isUndefined)};l.mergeConfig=s.mergeConfig;var f=Qd(l,a,!0);C.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(P()(f).call(f,[[u,s]])))}),[u,St]),Jt=(0,H.useCallback)((function(t){var e=Sd(C).width,n=Hf(e/2,1),r=0===h&&e-d<1,i="right"===t?{x:r?n:Hf(h+d,1),y:p,width:r?n:Hf(e-h-d,1)}:{x:h,y:Hf(p+f,1),width:d},o=Fy(Fy({parentGridId:u},i),{},{subGridDirection:t}),a=tt({type:de,parentId:C.getRootId(),transferData:o});C.addControl((0,Z.createAddAction)(a,{transferData:o})).then((function(t){var e;Z.console.log("addSubDataGrid",t),(null===(e=t[0])||void 0===e||null===(e=e.value)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.id)&&j.setSelect([t[0].value[0].id])}))}),[u,h,p,f,d]);return V().createElement(Iy,(0,ot.c)({},t,et,y,{gridBorderType:v,templateRowData:Et,rowItemData:lt,columnItemData:st,addRow:_t,originCells:St,rowCount:Mt,columnCount:Tt,rowData:kt,templateRowHeight:Dt,templateRowIndex:At,getCellPosition:Lt,getCellIdx:Rt,templateRowY:It,changeRow:Gt,deleteRow:Nt,addColumn:Pt,changeColumn:zt,deleteColumn:Ot,removeMerge:Zt,addMerge:Qt,getRowIndexlocateByPosition:Ut,getColumnIndexlocateByPosition:Wt,maxLimitWidthChange:X,maxLimitHeightChange:$,handleMouseDown:B,isSelected:L,isLastSelected:_,cellItems:vt,subGridId:g,addSubDataGrid:Jt,isShowAddSubGridBtn:D,scale:O,cellItemsSelection:Ct}))},Oy=["x","y","width","height","border","name","id","childItems","isLastSelected","handleMouseDown","isSelected"];var jy=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,c=(0,H.useContext)(vn),l=c.selectionContext,s=c.dataContext,f=c.pageWidth,d=(l.getSelection(),c.scale),h=void 0===d?1:d,p=c.contextStrokeEnabled,v=c.pixelRatio,g=(0,H.useRef)(null),m=(0,H.useRef)(null);Z.console.log(c,c.refLineRef.searchRefLines);var y=t.x,b=void 0===y?0:y,C=t.y,x=void 0===C?0:C,w=t.width,E=t.height,S=t.border,k=t.name,D=t.id,A=t.childItems,I=void 0===A?[]:A,M=t.isLastSelected,T=t.handleMouseDown,B=t.isSelected,F=(0,zn.c)(t,Oy);uv({isSelected:B,refs:[g],pixelRatio:v,scale:h,currentProp:{x:b,y:x,width:w,height:E,name:k,id:D,childItems:I}});var L=ng({x:b,y:x,id:D,width:w,height:E,border:S,scale:h,isSelected:B,contextStrokeEnabled:p}),_=L.stroke,N=L.strokeWidth,O=(L.strokeEnabled,L.dashEnabled),G=L.defaultDash,z=L.customedStrokeElement,U=L.controlStrokeRef,W=dv({strokeEnabled:!0,shapeRef:m,isSelected:M,shapeRefStroke:_,controlStrokeRef:U}),Q=W.onMouseOut,J=W.onMouseOver,K=dg(E,h),Y=dg(w,h),q=K,X=Qf(b,h),$=Qf(x,h),tt=(0,H.useCallback)((function(t){var e=t.x,n=t.y;c.dataContext.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[D,{x:Zf(e,h),y:Zf(n,h)}]]))}),[D,h]),et=(0,H.useCallback)((function(t){t.x,t.y,t.scaleX,t.scaleY;var e,n,r=t.width,i=t.height,o=s.getRootId(),a=s.findControlByCondition((function(t){return t.parentId===D})),u=j()(a).call(a,(function(t,e){var n=e.y,r=e.height;return n+r>t?n+r:t}),5),c=Zf(r,h);c!==f&&(c=f);var l=Zf(i,h);l<u?l=Math.min(u,80):l>80&&(l=80);var d=s.findControlByCondition((function(t){var e=t.y,n=t.type,r=t.parentId;return"Header"!==n&&"Footer"!==n&&r===o&&e<l})),p=R()(e=d||[]).call(e,(function(t){return[t.id,{y:l}]}));Z.console.log("onTransformEndAction-------",l,p),s.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(P()(n=[[D,{x:0,y:0,width:c,height:l}]]).call(n,(0,bn.c)(p))))}),[D,h,s,f]),nt=nv({id:D,shapeRef:g,refLineRef:c.refLineRef,context:c,onDragEnd:tt,parentId:t.ParentId,scale:h}),rt=(nt.onDragStart,nt.onDragMove,nt.onDragEnd,nt.dragBoundFunc,av({id:D,shapeRef:m,refLineRef:c.refLineRef,onTransformEnd:et,context:c})),it=rt.onTransform,at=rt.onTransformEnd,ut={stageRef:c.stageRef,rootControlRef:c.rootControlRef,selectedId:D,isSelected:B&&!M};return V().createElement(V().Fragment,null,V().createElement(qp.Group,(0,ot.c)({height:q,width:Y,clipX:0,clipY:0,clipWidth:Y,clipHeight:q,onMouseOut:Q,onMouseOver:J,ref:g},F,{x:X,y:$,draggable:!1,clipX:0,clipY:0,clipWidth:Y,clipHeight:q,id:D,name:P()(n=P()(r="".concat(Et," ")).call(r,St," ")).call(n,kt)}),V().createElement(qp.Text,{height:q,width:Y,x:0,y:0,text:(0,Z.getLangMsg)("printd.grid.key0033"),fill:"#E5E5E5",verticalAlign:"middle",align:"center",name:P()(i="".concat(kt," ")).call(i,At),fontSize:18,hitStrokeWidth:0}),V().createElement(qp.Rect,{id:"".concat(D,"_rect"),height:q,width:Y,name:P()(o=P()(a=P()(u="".concat(D," ")).call(u,St," ")).call(a,kt," ")).call(o,Dt),fill:"transparent",onTransform:it,onTransformEnd:at,onMouseDown:T,dashEnabled:O,dash:G,scale:{x:1,y:1},ref:m,stroke:_,strokeWidth:N,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:!0}),I&&Eb(I,!0),z),V().createElement(bg,(0,ot.c)({},ut,{enabledAnchors:["bottom-center"]})))})),gg),Gy=jy,zy=["key"];function Uy(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wy(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Uy(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Uy(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Qy=function(t){var e=(0,H.useContext)(vn),n=e.dataContext,r=e.scale,i=void 0===r?1:r,o=t.data,a=o.key,u=(0,zn.c)(o,zy),c=o.id,l=(0,H.useContext)(vn),s=(0,H.useContext)(yn).activedSelectId,f=Mg(Wy(Wy({},l),{},{activedSelectId:s}),c),d=f.handleMouseDown,h=f.isSelected,p=f.isLastSelected,v=n.findControlByCondition((function(t){return t.parentId===c}))||[];return V().createElement(Gy,(0,ot.c)({},u,{dataKey:a,scale:i,childItems:v,isLastSelected:p,isSelected:h,handleMouseDown:d}))},Zy=["x","y","width","height","border","name","id","childItems","isLastSelected","handleMouseDown","isSelected"],Jy=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u=(0,H.useContext)(vn),c=u.selectionContext,l=u.dataContext,s=u.pageWidth,f=u.pageHeight,d=(c.getSelection(),u.scale),h=void 0===d?1:d,p=u.contextStrokeEnabled,v=u.pixelRatio,g=(0,H.useRef)(null),m=(0,H.useRef)(null);Z.console.log(u,u.refLineRef.searchRefLines);var y=t.x,b=void 0===y?0:y,C=t.y,x=void 0===C?0:C,w=t.width,E=t.height,S=t.border,k=t.name,D=t.id,A=t.childItems,I=void 0===A?[]:A,M=t.isLastSelected,T=t.handleMouseDown,B=t.isSelected,L=(0,zn.c)(t,Zy);uv({isSelected:B,refs:[g],pixelRatio:v,scale:h,currentProp:{x:b,y:x,width:w,height:E,name:k,id:D,childItems:I}});var _=ng({x:b,y:x,id:D,width:w,height:E,border:S,scale:h,isSelected:B,contextStrokeEnabled:p}),N=_.stroke,O=_.strokeWidth,G=(_.strokeEnabled,_.dashEnabled),z=_.defaultDash,U=_.customedStrokeElement,W=_.controlStrokeRef,Q=dv({strokeEnabled:!0,shapeRef:m,isSelected:M,shapeRefStroke:N,controlStrokeRef:W}),J=Q.onMouseOut,K=Q.onMouseOver,Y=dg(E,h),q=dg(w,h),X=Y,$=Qf(b,h),tt=Qf(x,h),et=(0,H.useCallback)((function(t){var e=t.x,n=t.y;u.dataContext.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[D,{x:Zf(e,h),y:Zf(n,h)}]]))}),[D,h]),nt=(0,H.useCallback)((function(t){t.x,t.y,t.scaleX,t.scaleY;var e,n,r,i=t.width,o=t.height,a=l.getRootId(),u=l.findControlByCondition((function(t){return t.parentId===D})),c=Zf(o,h),d=Zf(i,h),p=j()(u).call(u,(function(t,e){var n=e.height;return n>t?n:t}),5);d!==s&&(d=s),c<=p?c=Math.min(p,80):c>80&&(c=80);var v=F()(e=R()(u).call(u,(function(t){var e=t.y,n=t.height,r=t.id;return e+n>c?[r,{y:c-n}]:null}))).call(e,Boolean),g=l.findControlByCondition((function(t){var e=t.y,n=t.type,r=t.height,i=t.parentId;return"Header"!==n&&"Footer"!==n&&i===a&&e+r>f-c})),m=R()(n=g||[]).call(n,(function(t){return[t.id,{y:f-c-t.height}]}));l.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(P()(r=[[D,{x:0,width:d,height:c}]]).call(r,(0,bn.c)(m),(0,bn.c)(v))))}),[D,s,f,l,h]),rt=nv({id:D,shapeRef:g,refLineRef:u.refLineRef,context:u,onDragEnd:et,parentId:t.ParentId,scale:h}),it=(rt.onDragStart,rt.onDragMove,rt.onDragEnd,rt.dragBoundFunc,av({id:D,shapeRef:m,refLineRef:u.refLineRef,onTransformEnd:nt,context:u})),at=it.onTransform,ut=it.onTransformEnd,ct={dataContext:l,stageRef:u.stageRef,rootControlRef:u.rootControlRef,selectedId:D,isSelected:B&&!M};return V().createElement(V().Fragment,null,V().createElement(qp.Group,(0,ot.c)({height:X,width:q,onMouseOut:J,onMouseOver:K,ref:g},L,{x:$,y:tt,draggable:!1,clipX:0,clipY:0,clipWidth:q,clipHeight:X,id:D,name:P()(n=P()(r="".concat(Et," ")).call(r,St," ")).call(n,kt)}),V().createElement(qp.Text,{height:X,width:q,x:0,y:0,text:(0,Z.getLangMsg)("printd.grid.key0030"),fill:"#E5E5E5",verticalAlign:"middle",align:"center",name:"".concat(kt),fontSize:18,hitStrokeWidth:0}),V().createElement(qp.Rect,{id:"".concat(D,"_rect"),x:0,y:0,height:X,width:q,name:P()(i=P()(o=P()(a="".concat(D," ")).call(a,St," ")).call(o,kt," ")).call(i,Dt),fill:"transparent",onTransform:at,onTransformEnd:ut,onMouseDown:T,dashEnabled:G,dash:z,scale:{x:1,y:1},ref:m,stroke:N,strokeWidth:O,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:!0}),I&&Eb(I,!0),U),V().createElement(bg,(0,ot.c)({},ct,{enabledAnchors:["top-center"]})))})),gg),Hy=Jy,Vy=["key"];function Ky(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yy(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Ky(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Ky(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var qy=function(t){var e=(0,H.useContext)(vn),n=e.dataContext,r=e.scale,i=void 0===r?1:r,o=t.data,a=o.key,u=(0,zn.c)(o,Vy),c=o.id,l=(0,H.useContext)(vn),s=(0,H.useContext)(yn).activedSelectId,f=Mg(Yy(Yy({},l),{},{activedSelectId:s}),c),d=f.handleMouseDown,h=f.isSelected,p=f.isLastSelected,v=n.findControlByCondition((function(t){return t.parentId===c}))||[];return V().createElement(Hy,(0,ot.c)({},u,{dataKey:a,scale:i,childItems:v,isLastSelected:p,isSelected:h,handleMouseDown:d}))},Xy=["x","y","width","height","border","name","id","isLastSelected","handleMouseDown","isSelected"],$y=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,c=(0,H.useContext)(vn),l=c.scale,s=void 0===l?1:l,f=c.contextStrokeEnabled,d=c.pixelRatio,h=(0,H.useContext)(mn),p=h.gridState,v=h.isEditorGridState,g=void 0===v||v,m=hg(),y=(0,H.useRef)(null),b=(0,H.useRef)(null);Z.console.log(c,c.refLineRef.searchRefLines);var C=t.x,x=void 0===C?0:C,w=t.y,E=void 0===w?0:w,S=t.width,k=t.height,D=t.border,A=t.name,I=t.id,M=t.isLastSelected,T=t.handleMouseDown,B=t.isSelected,F=(0,zn.c)(t,Xy);uv({isSelected:B,refs:[y],pixelRatio:d,scale:s,currentProp:{x:x,y:E,width:S,height:k,name:A,id:I}});var L=ng({x:x,y:E,id:I,width:S,height:k,border:D,scale:s,isSelected:B,contextStrokeEnabled:f}),R=L.stroke,_=L.strokeWidth,N=L.strokeEnabled,O=L.dashEnabled,j=L.defaultDash,G=L.customedStrokeElement,z=L.controlStrokeRef,U=dv({strokeEnabled:N,shapeRef:b,isSelected:M,shapeRefStroke:R,controlStrokeRef:z}),W=U.onMouseOut,Q=U.onMouseOver,J=dg(k,s),K=dg(S,s),Y=J,q=(Qf(7,s),Qf(x,s)),X=Qf(E,s),$=fg(t,c),tt=pv({id:I,refLineRef:c.refLineRef}),et=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height;c.dataContext.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[I,{x:Zf(e,s),y:Zf(n,s),width:Zf(r,s),height:Zf(i,s)}]]))}),[I,s]),nt=nv({id:I,shapeRef:y,refLineRef:c.refLineRef,context:c,onDragEnd:$,onDragMove:tt,parentId:t.parentId,scale:s}),rt=nt.onDragStart,it=nt.onDragMove,at=nt.onDragEnd,ut=nt.dragBoundFunc,ct=av({id:I,shapeRef:b,refLineRef:c.refLineRef,onTransformEnd:et,context:c}),lt=ct.onTransform,st=ct.onTransformEnd,ft={stageRef:c.stageRef,rootControlRef:c.rootControlRef,selectedId:I,isSelected:B&&!M};return V().createElement(V().Fragment,null,V().createElement(qp.Group,(0,ot.c)({height:Y,width:K,clipX:0,clipY:0,clipWidth:K,clipHeight:Y,onDragStart:rt,onDragMove:it,onDragEnd:at,onMouseOut:W,onMouseOver:Q,onMouseDown:T,onDblClick:function(t){m(t,p,T)},ref:y},F,{x:q,y:X,draggable:g,dragBoundFunc:ut,clipX:0,clipY:0,clipWidth:K,clipHeight:Y,id:I,name:P()(n=P()(r="".concat(Et," ")).call(r,St," ")).call(n,kt)}),V().createElement(qp.Rect,{width:K,height:Y,x:0,y:0,fill:"#f2f6ff"}),V().createElement(qp.Text,{height:Y,width:K,x:0,y:0,text:(0,Z.getLangMsg)("printd.components.key0062"),fill:"#212121",verticalAlign:"middle",align:"center",name:P()(i="".concat(kt," ")).call(i,At),fontSize:20,fontStyle:"bold",fontFamily:"Arial",hitStrokeWidth:0}),V().createElement(qp.Rect,{id:"".concat(I,"_rect"),height:Y,width:K,name:P()(o=P()(a=P()(u="".concat(I," ")).call(u,St," ")).call(a,kt," ")).call(o,Dt),fill:"transparent",onTransform:lt,onTransformEnd:st,dashEnabled:O,dash:j,scale:{x:1,y:1},ref:b,stroke:R,strokeWidth:_,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:!0}),G),V().createElement(bg,ft))})),gg),tb=$y,eb=["key"];function nb(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function rb(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=nb(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=nb(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var ib=function(t){var e=t.data,n=e.key,r=(0,zn.c)(e,eb),i=(0,H.useContext)(vn),o=(0,H.useContext)(yn),a=(0,H.useContext)(mn).gridState,u=e.id,c=o.activedSelectId,l=Mg(rb(rb({},i),{},{beforeMouseDown:Tg(a),activedSelectId:c}),u),s=l.handleMouseDown,f=l.isSelected,d=l.isLastSelected;return V().createElement(tb,(0,ot.c)({},r,{dataKey:n,isLastSelected:d,isSelected:f,handleMouseDown:s}))},ob=["x","y","width","height","border","name","id","childItems","isLastSelected","handleMouseDown","isSelected","activedSelectId"],ab=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u=(0,H.useContext)(vn),c=u.selectionContext,l=u.dataContext,s=u.pageWidth,f=u.pageHeight,d=(c.getSelection(),u.scale),h=void 0===d?1:d,p=u.contextStrokeEnabled,v=u.pixelRatio,g=(0,H.useRef)(null),m=(0,H.useRef)(null);Z.console.log(u,u.refLineRef.searchRefLines);var y=t.x,b=void 0===y?0:y,C=t.y,x=void 0===C?0:C,w=t.width,E=t.height,S=t.border,k=t.name,D=t.id,A=t.childItems,I=void 0===A?[]:A,M=t.isLastSelected,T=t.handleMouseDown,B=t.isSelected,F=t.activedSelectId,L=(0,zn.c)(t,ob);uv({isSelected:B,refs:[g],pixelRatio:v,scale:h,currentProp:{x:b,y:x,width:w,height:E,name:k,id:D,childItems:I}});var R=ng({x:b,y:x,id:D,width:w,height:E,border:S,scale:h,isSelected:B,contextStrokeEnabled:p}),_=R.stroke,N=R.strokeWidth,O=(R.strokeEnabled,R.dashEnabled),G=R.defaultDash,z=R.customedStrokeElement,U=R.controlStrokeRef,W=dv({strokeEnabled:!0,shapeRef:m,isSelected:M,shapeRefStroke:_,controlStrokeRef:U}),Q=W.onMouseOut,J=W.onMouseOver,K=dg(E,h),Y=dg(w,h),q=K,X=Qf(b,h),$=Qf(x,h),tt=fg(t,u),et=(0,H.useCallback)((function(t){var e=t.x,n=(t.y,t.scaleX,t.scaleY,t.width),r=t.height,i=(l.getRootId(),l.findControl(D)),o=l.findControl(i.parentGridId),a=l.findControlByCondition((function(t){return t.parentId===D})),u=Zf(r,h),c=Zf(n,h),s=j()(a).call(a,(function(t,e){var n=e.height;return n>t?n:t}),5);u<=s&&(u=Math.min(s,100)),o.width<c&&(c=o.width),l.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[D,{x:Zf(e),width:c,height:u}]]))}),[D,s,f,l,h]),nt=nv({id:D,shapeRef:g,refLineRef:u.refLineRef,context:u,onDragEnd:tt,parentId:t.ParentId,scale:h}),rt=nt.onDragStart,it=nt.onDragMove,at=nt.onDragEnd,ut=nt.dragBoundFunc,ct=av({id:D,shapeRef:m,refLineRef:u.refLineRef,onTransformEnd:et,context:u}),lt=ct.onTransform,st=ct.onTransformEnd,ft={stageRef:u.stageRef,rootControlRef:u.rootControlRef,selectedId:D,isSelected:B&&!M};return V().createElement(V().Fragment,null,V().createElement(qp.Group,(0,ot.c)({height:q,width:Y,onDragStart:rt,onDragMove:it,onDragEnd:at,onMouseOut:Q,onMouseOver:J,ref:g},L,{x:X,y:$,draggable:"LayoutCell"!==l.findControl(F).type,id:D,dragBoundFunc:ut,name:P()(n=P()(r="".concat(Et," ")).call(r,St," ")).call(n,kt)}),V().createElement(qp.Text,{height:q,width:Y,x:0,y:0,text:(0,Z.getLangMsg)("printd.components.key0002"),fill:"#E5E5E5",verticalAlign:"middle",align:"center",name:"".concat(kt),fontSize:18,hitStrokeWidth:0}),V().createElement(qp.Rect,{id:"".concat(D,"_rect"),x:0,y:0,height:q,width:Y,name:P()(i=P()(o=P()(a="".concat(D," ")).call(a,St," ")).call(o,kt," ")).call(i,Dt),fill:"transparent",onTransform:lt,onTransformEnd:st,onMouseDown:T,dashEnabled:O,dash:G,scale:{x:1,y:1},ref:m,stroke:_,strokeWidth:N,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:!0}),I&&Eb(I,!0),z),V().createElement(bg,(0,ot.c)({},ft,{enabledAnchors:["top-center"]})))})),gg),ub=ab,cb=["key"];function lb(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function sb(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=lb(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=lb(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var fb=function(t){var e=(0,H.useContext)(vn),n=e.dataContext,r=e.scale,i=void 0===r?1:r,o=t.data,a=o.key,u=(0,zn.c)(o,cb),c=o.id,l=(0,H.useContext)(vn),s=(0,H.useContext)(yn).activedSelectId,f=Mg(sb(sb({},l),{},{activedSelectId:s}),c),d=f.handleMouseDown,h=f.isSelected,p=f.isLastSelected,v=n.findControlByCondition((function(t){return t.parentId===c}))||[];return V().createElement(ub,(0,ot.c)({},u,{dataKey:a,scale:i,childItems:v,activedSelectId:s,isLastSelected:p,isSelected:h,handleMouseDown:d}))},db=["x","y","width","height","border","name","id","isLastSelected","handleMouseDown","isSelected","direction"],hb=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,c,l=(0,H.useContext)(vn),s=l.scale,f=void 0===s?1:s,d=(l.contextStrokeEnabled,l.pixelRatio),h=l.setMessage,p=(0,H.useContext)(mn),v=p.gridState,g=p.isEditorGridState,m=void 0===g||g,y=hg(),b=(0,H.useRef)(null),C=(0,H.useRef)(null),x=t.x,w=void 0===x?0:x,E=t.y,S=void 0===E?0:E,k=t.width,D=t.height,A=t.border,I=t.name,M=t.id,T=t.isLastSelected,B=t.handleMouseDown,L=t.isSelected,R=t.direction,_=(0,zn.c)(t,db);uv({isSelected:L,refs:[b],pixelRatio:d,scale:f,currentProp:{x:w,y:S,width:k,height:D,name:I,id:M}});var N,O=ng({x:w,y:S,id:M,width:k,height:D,border:A,scale:f,isSelected:L,contextStrokeEnabled:!1}),j=O.stroke,G=O.strokeWidth,z=O.strokeEnabled,U=O.dashEnabled,W=O.defaultDash,Q=(O.customedStrokeElement,O.controlStrokeRef),J=dv({strokeEnabled:z,shapeRef:C,isSelected:T,shapeRefStroke:j,controlStrokeRef:Q}),K=J.onMouseOut,Y=J.onMouseOver,q=dg(D,f,2),X=dg(k,f,2),$=q,tt=(Qf(7,f),Qf(w,f)),et=Qf(S,f),nt=fg(t,l),rt=pv({id:M,refLineRef:l.refLineRef}),it=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height,o=Zf(e,f),a=Zf(n,f),u=Zf(r,f,2),c=Zf(i,f,2),s={x:o,y:a,width:u,height:c};"H"===R&&c>3&&(s.height=3,delete s.y,h((0,Z.getLangMsg)("printd.grid.key0130"))),"V"===R&&u>3&&(s.width=3,delete s.x,h((0,Z.getLangMsg)("printd.grid.key0130"))),l.dataContext.batchUpdateControlPropertyValues((0,Z.createUpdateAction)([[M,s]]))}),[M,f,R]),at=nv({id:M,shapeRef:b,refLineRef:l.refLineRef,context:l,onDragEnd:nt,onDragMove:rt,parentId:t.parentId,scale:f}),ut=at.onDragStart,ct=at.onDragMove,st=at.onDragEnd,ft=at.dragBoundFunc,dt=av({id:M,shapeRef:C,refLineRef:l.refLineRef,onTransformEnd:it,context:l}),ht=dt.onTransform,pt=dt.onTransformEnd,vt=(l.stageRef,l.rootControlRef,A&&F()(n=lt()(A.color)).call(n,(function(t){return t}))[0]),gt=A&&F()(r=lt()(A.style)).call(r,(function(t){return t}))[0];return"dotted"===gt?N=[2,2]:"dashed"===gt&&(N=[4,4]),V().createElement(V().Fragment,null,V().createElement(qp.Group,(0,ot.c)({height:$,width:X,clipX:-10,clipY:-10,clipWidth:X+20,clipHeight:$+20,onDragStart:ut,onDragMove:ct,onDragEnd:st,onMouseOut:K,onMouseOver:Y,onMouseDown:B,onDblClick:function(t){if(y(t,v,B))return null},ref:b},_,{x:tt,y:et,draggable:m,dragBoundFunc:ft,id:M,name:P()(i=P()(o="".concat(Et," ")).call(o,St," ")).call(i,kt)}),V().createElement(qp.Line,{x:0,y:0,stroke:vt||"#000",strokeWidth:"H"===R?$:X,points:"H"===R?[0,$/2,X,$/2]:[X/2,$,X/2,0],dash:N,hitStrokeWidth:20}),V().createElement(qp.Rect,{id:"".concat(M,"_rect"),height:$,width:X,name:P()(a=P()(u=P()(c="".concat(M," ")).call(c,St," ")).call(u,kt," ")).call(a,Dt),fill:"transparent",onTransform:ht,onTransformEnd:pt,dashEnabled:U,dash:W,scale:{x:1,y:1},ref:C,stroke:j,strokeWidth:G,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,alpha:1,strokeEnabled:!0})))})),gg),pb=hb,vb=["key"];function gb(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function mb(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=gb(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=gb(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var yb={Text:Rg,RichText:ib,Image:zg,Barcode:em,QRCode:Vg,PrintTemplate:ly,PrintForm:ly,Paper:ly,DataGrid:Py,CardGrid:Py,LayoutGrid:Py,Header:Qy,Footer:qy,SubDataGrid:Py,TableTail:fb,Line:function(t){var e=t.data,n=e.key,r=(0,zn.c)(e,vb),i=(0,H.useContext)(vn),o=(0,H.useContext)(yn),a=(0,H.useContext)(mn).gridState,u=e.id,c=o.activedSelectId,l=Mg(mb(mb({},i),{},{beforeMouseDown:Tg(a),activedSelectId:c}),u),s=l.handleMouseDown,f=l.isSelected,d=l.isLastSelected;return V().createElement(pb,(0,ot.c)({},r,{dataKey:n,isLastSelected:d,isSelected:f,handleMouseDown:s}))}};m()(yb);function bb(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}var Cb=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=(arguments.length>4?arguments[4]:void 0)||t.type,i=yb[r];if(!i)return null;var o={key:t.id||t.key};return V().createElement(i,function(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=bb(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=bb(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}({data:t,appState:n,children:e},o))};function xb(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function wb(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=xb(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=xb(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Eb=function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Y().isEmpty(n))return null;if(Gn()(n))return R()(n).call(n,(function(e){return t(e,!0)}));if(Cd(n))return Cb(wb(wb({},n),i));var o=n.items&&!Y().isEmpty(n.items)?R()(e=lt()(n.items)).call(e,(function(e){return t(e,!0)})):[];return Cb(n,o,r,i)},Sb=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},r=(e=e||{}).children,i=e.parent,o=e.id,a={},u={};if(r=r||"children",i=i||"parent",Y().isObject(t)||Y().isArray(t)){for(var c in t)Y().has(t,c)&&t[c]&&(a[t[c][o]]=t[c]);for(var l in a)if(Y().has(a,l))if(a[l][i]){var s,f=a[l][i];if(a[f]&&!a[f][r]&&(a[f][r]={}),a[f]&&!a[f][i])a[f]&&f!==a[l][o]&&(a[f][r][a[l][o]]=n(a[l]));else a[f]&&f!==a[l][o]&&a[f][i]&&-1==xn()(s=a[f][i]).call(s,a[l][o])&&(a[f][r][a[l][o]]=n(a[l]))}else u[a[l][o]]=a[l];return u}},kb=["type"];function Db(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}var Ab=(0,H.memo)((function(t){var e=(0,H.useContext)(Z.DataContext),n=(0,H.useContext)(Z.SelectionContext),r=(0,Z.useActivedSelectedId)({dataContext:e,selectionContext:n}).activedSelectId,i=(0,H.useContext)(gn),o=i.meta,a=void 0===o?[]:o,u=i.definition,c=void 0===u?{}:u,l=i.pagesManageRef,s=i.pageManage,f=i.globalConfig,d=i.scaleRef,h=i.asistantBorderRef,p=(0,H.useState)(0)[1],v=(0,H.useRef)(null),g=(0,H.useRef)(!1);(0,H.useEffect)((function(){var t=e.addDataChangeListener((function(t){var e=t.type,n=(0,zn.c)(t,kb);Z.console.log(e,n),p((function(t){return t+1}))}));return function(){t&&t()}}),[]);var m=(0,H.useMemo)((function(){var t=e.getData();return lt()(Sb(JSON.parse(z()(t)).items,{children:"items",parent:"parentId",id:"id"}))[0]}),[e.getData()]);Z.console.log("props",m);var y=(0,H.useContext)(Z.ConfigContext),b=(0,y.getPrefixCls)(y.prefixCls),C=(0,H.useRef)(null),x=(0,H.useRef)(null),E=sr(),k=(0,M.c)(E,2),A=(k[0],k[1]),B=A.width,F=A.height,L=(e.findControl(e.getRootId()).language,"".concat(b,"-top-view-main"));return V().createElement(V().Fragment,null,V().createElement(Z.ViewHeader,{content:V().createElement("div",{className:"".concat(b,"-main-view-toolbar"),id:"kdesigner-top-view-main"},V().createElement(Xv,(0,ot.c)({},t,{ref:v,onChangeProperty:function(){},context:{dataContext:e,selectionContext:n,activedSelectId:r,canvasRef:C,globalConfig:f,scaleRef:d,asistantBorderRef:h,isMultiKeyActiveWhenSelectedRef:g}}))),portalId:L}),V().createElement("div",{className:"".concat(b,"-paper"),ref:x},Eb(m,!1,function(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Db(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Db(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}({width:B,height:F,navToolRef:v,canvasRef:C,meta:a,definition:c,activedSelectId:r,dataContext:e,isMultiKeyActiveWhenSelectedRef:g},t))),V().createElement("div",{className:"".concat(b,"-pages-manage"),ref:l},s))}));Ab.tabKey="PrintDesignerCore",Ab.getTabName=function(){return(0,Z.getLangMsg)("printd.grid.key0109")};var Ib=Ab,Mb=V().memo((function(t){t.meta,t.data;var e=(0,H.useContext)(Z.DataContext),n=(0,H.useContext)(Z.SelectionContext),r=e.getRootId(),i=(0,Z.useActivedSelectedId)({dataContext:e,selectionContext:n}).activedSelectId,o=(0,H.useState)(0)[1];return(0,H.useEffect)((function(){var t=e.addDataChangeListener((function(t){t.type;o((function(t){return t+1}))}));return function(){t&&t()}}),[]),V().createElement(Z.PropertyView,(0,ot.c)({},t,{id:r,key:i||r}))}));Mb.tabKey="PrintSetting",Mb.getTabName=function(){return(0,Z.getLangMsg)("printd.grid.key0107")};var Tb=Mb,Bb=function(t){var e=t.meta,n=void 0===e?{}:e,r=(0,H.useContext)(Z.DataContext),i=(0,H.useContext)(Z.SelectionContext),o=i.getSelection(),a=(0,H.useContext)(Z.GlobalConfigContext),u=r.findControlByCondition((function(t){return kn()(o).call(o,t.id)})),c=function(t,e){var n=(0,bn.c)(new(li())(R()(e).call(e,(function(t){return t.rowId||""}))));if(1!==n.length)return!1;var r=n[0];return!!r&&t.findControlByCondition((function(t){return t.rowId===r})).length===e.length}(r,u),l=c?u[0].rowId:"",s=(0,H.useContext)(Z.DataFactoryContext).modelFactory,f=(0,Z.useSelectModel)({dataContext:r,selectionContext:i,solidId:l,meta:n,activedSelectId:"",modelFactory:s,globalConfig:a}),d=f.modelData,h=f.field,p=(0,H.useContext)(Z.ConfigContext),v=(0,p.getPrefixCls)(p.prefixCls,"right-view"),g=function(t,e,n,r){if(!t)return r;var i=n.findControl(e),o=i.parentId,a=i.rowType,u=n.findControl(o).type,c=!!n.findControlByCondition((function(t){return Td(t)&&t.parentId===o})).length;return"Detail"!==a||!c&&"SubDataGrid"!==u?r:F()(r).call(r,(function(t){return"DataRowGroup"!==t.Id}))}(c,l,r,d);return c&&V().createElement(Z.PropertyViewItemGroup,{modelData:g,PropertyViewItemRender:Z.PropertyViewItem,className:v,field:h})},Fb=V().memo((function(t){var e=t.meta,n=void 0===e?{}:e,r=(0,H.useContext)(Z.DataContext),i=(0,H.useContext)(Z.SelectionContext),o=(0,H.useState)(0)[1];return(0,H.useEffect)((function(){var t=i.addSelectChangeListener((function(){o((function(t){return t+1}))})),e=r.addDataChangeListener((function(t){t.type;o((function(t){return t+1}))}));return function(){e&&e(),t&&t()}}),[]),V().createElement(Z.PropertyView,{meta:n},V().createElement(Bb,{meta:n}))}));Fb.tabKey="PropertyView",Fb.getTabName=function(){return(0,Z.getLangMsg)("printd.grid.key0108")};var Lb=Fb;function Rb(t,e){var n=m()(t);if(C()){var r=C()(t);e&&(r=F()(r).call(r,(function(e){return w()(t,e).enumerable}))),n.push.apply(n,r)}return n}function _b(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?W()(n=Rb(Object(i),!0)).call(n,(function(e){(0,T.c)(t,e,i[e])})):S()?D()(t,S()(i)):W()(r=Rb(Object(i))).call(r,(function(e){I()(t,e,w()(i,e))}))}return t}var Nb=function t(e,n,r,i,o,a){var u;return null==e?void 0:F()(u=R()(e).call(e,(function(e){var u=e.Name,c=(e.Type,e.Items),l=e.Key,s=e.DsType,f=(e.Tag,e.IsDs),d=i,h=o;if(s&&(h=s),f||r)d=l;else if(!r&&!f){var p;d=d?P()(p="".concat(d,".")).call(p,l):l}var v,g=n,m=a||u;f&&(m=u,g=n?P()(v="".concat(n,".")).call(v,l):l);var y=c?{Items:t(c,g,f,d,h,m)}:{};return _b(_b({dataSource:g,dataSourceText:m,bindField:d,dsTypeKey:o},e),y)}))).call(u,Boolean)},Pb=function(){},Ob=(0,H.memo)((0,H.forwardRef)((function(t,e){var n=Pp(),r=t.data,i=void 0===r?{}:r,o=t.meta,a=void 0===o?{}:o,u=t.onData,c=t.showMessage,l=void 0===c?function(t){Z.console.log("showMessage-------",t)}:c,s=t.definition,f=t.handleOpenCustomDsModal,d=void 0===f?Pb:f,h=t.handleOpenRefDsModal,p=void 0===h?Pb:h,v=t.handleChangePLang,g=void 0===v?Pb:v,m=t.pageManage,y=t.scaleRef,b=t.asistantBorderRef,C=t.dataRef,x=t.uploadImageUrl,w=void 0===x?Np("api/print/upload.do",[[pn,n],["printtplid",""]]):x,E=t.previewImageUrl,S=void 0===E?Np("api/print/download.do",[[pn,n],["rcId",""]]):E,k=t.handlePassGridActionGuide,D=void 0===k?Pb:k,A=t.handlePassPrintActionGuide,I=void 0===A?Pb:A,T=t.handleOpenDGridSortSettingEdModal,B=void 0===T?Pb:T,L=t.handleOpenDGridFilterSettingEdModal,_=void 0===L?Pb:L,N=t.invokePrintDesignerCustomEvent,O=void 0===N?Pb:N,G=t.handleChangeFileName,U=t.isFirstUseGrid,J=t.isFirstVisit,K=t.expressions,Y=void 0===K?[]:K,q=t.getLangMsg,X="print-designer",$=(0,H.useRef)([]),tt=(0,H.useMemo)((function(){return Nb(s)}),[s]),et=(0,H.useState)(!1),nt=(0,M.c)(et,2),rt=nt[0],ot=nt[1],at=a.FontMapping;if(at){var ut,ct,lt=(null===(ut=at[0])||void 0===ut?void 0:ut.Code)||(null===(ct=at[0])||void 0===ct?void 0:ct.Name);lt&&function(t){He!==t&&(He=t)}(lt),function(t){Ve!==t&&(Ve=t)}(j()(at).call(at,(function(t,e){var n=e.Name,r=e.Code;return t[n]=r,t}),{}))}var st=(0,H.useCallback)((function(){Z.eventBus.emit(af,tt)}),[tt]),ft=(0,H.useCallback)((function(t){Z.eventBus.emit(t,tt)}),[tt]),dt=function(t,e){try{var n,r,i=t[0],o=null===(n=bt.current)||void 0===n?void 0:n.dataContext;if(!i)return;r="filterSetting"===e?JSON.parse(i.condition).filterRow.length?{filterSettingValue:z()(i),filterSettingText:q("printd.grid.key0001")}:{filterSettingValue:"",filterSettingText:""}:"fileName"===e?{fileName:i.fileNameK}:{sortSettings:i.sortSettings,sortSettingsText:(u=i.sortSettings,null===(c=R()(u).call(u,(function(t){return t.bindName||t.bindField})))||void 0===c?void 0:c.join(";"))};var a=[[i.dataGridId||i.id,r]];o.batchUpdateControlPropertyValues((0,Z.createUpdateAction)(a))}catch(t){Z.console.error(t)}var u,c};(0,H.useImperativeHandle)(e,(function(){var t,e;return{pagesManageRef:yt,attrActions:null===(t=bt.current)||void 0===t?void 0:t.attrActions,resetPatches:null===(e=bt.current)||void 0===e||null===(e=e.dataContext)||void 0===e?void 0:e.resetPatches,beforeSave:st,setProperty:dt}}));var ht=(0,H.useRef)({}),pt=(0,H.useCallback)((function(t){switch(t){case"main":return{main:Ib};case"left":return{control:Yp,definition:Up};case"right":return{property:Lb,rootProperty:Tb};default:return{}}}),[]),vt=(0,H.useCallback)((function(t){var e=F()(t).call(t,(function(t){return"CommonGroup"===t.Id}))||[];return R()(e).call(e,(function(t){return _b(_b({},t),{},{Visible:!0})}))}),[]),mt=(0,H.useMemo)((function(){return{definition:tt,getViews:pt,getPropertyEditors:Oh,getCustomActions:it,getValue:sd,preHandle:Rp,filterProperty:np,activateTab:jh,handleOpenCustomDsModal:d,handleOpenRefDsModal:p,handleChangePLang:g,handleOpenDGridSortSettingEdModal:B,handleOpenDGridFilterSettingEdModal:_,handleChangeFileName:G,invokePrintDesignerCustomEvent:O,showMessage:l,getOutlineItemIcon:Zh,enableSearch:!1,positionRecordsRef:ht,dataRef:C||$,uploadImageUrl:w,previewImageUrl:S,keywordMapping:{id:"id",type:"type",name:"name",key:"key",parentId:"parentId",items:"items"},enableDiffDefaultData:!1,isRootPropertyEmpty:!0,commonPropertyHandler:vt,getLangMsg:q}}),[tt,pt,Oh,it,sd,jh,d,p,B,_,G,O,g,l,Zh,C,w,S]);Z.console.log(t,mt);var yt=(0,H.useRef)(null);(0,H.useEffect)((function(){var t=function(t,e){g(t,e)};return Z.eventBus.on("change-lang",t),function(){Z.eventBus.off("change-lang",t)}}),[g]);var bt=(0,H.useRef)(null),Ct=(0,H.useCallback)((function(t){l&&l(t)}),[]),wt=(0,H.useMemo)((function(){return{prefixCls:X,definition:tt,setMessage:Ct,meta:a,pagesManageRef:yt,globalConfig:mt,pageManage:m,scaleRef:y,asistantBorderRef:b,handlePassGridActionGuide:D,isFirstUseGrid:U,expressions:Y,beforeSave:st,onValid:ft}}),[tt,l,a,mt,m,Ct,D,U,Y,st,ft]),Et=(0,H.useCallback)((function(t,e){var n=(t||{}).items,r=void 0===n?[]:n;ht.current={},W()(r).call(r,(function(t){var e=t||{},n=e.x,r=e.y,i=e.parentId,o=ht.current;i&&(o[i]=o[i]||[],o[i].push([n,r].join("-")))})),u&&u(t,e)}),[u]),St=(0,H.useMemo)((function(){return Ks(a,!0)}),[a]),kt=(0,H.useMemo)((function(){return Ks(a,!1)}),[a]),Dt=(0,H.useMemo)((function(){return{prefixCls:"print-designer",getPrefixCls:function(t,e,n){var r;return n||(t=t||"print-designer",e?P()(r="".concat(t,"-")).call(r,e):t)}}}),[]);(0,H.useEffect)((function(){var t;null!==(t=bt.current)&&void 0!==t&&t.dataContext&&bt.current.dataContext.resetData(i,!1)}),[i]),(0,H.useEffect)((function(){ot(!0)}),[]);var At=gt(),It=(0,M.c)(At,1)[0];return V().createElement(V().Fragment,null,rt&&J&&It&&V().createElement(xt,{handlePassPrintActionGuide:I}),V().createElement(Q.ConfigProvider,{value:{prefixCls:"kdesigner"}},V().createElement(gn.Provider,{value:wt},V().createElement(Z.ConfigContext.Provider,{value:Dt},V().createElement(jb,{ref:bt,globalConfig:mt,onData:Et,meta:a,data:i,prefixCls:X,dataFactory:kt,modelFactory:St})))))}))),jb=V().memo(J(),(function(){return!0}));Ob.displayName="PrintDesigner";var Gb=Ob,zb=!1,Ub={},Wb=function(t){var e;W()(e=cp()(t)).call(e,(function(t){var e=(0,M.c)(t,1)[0],n="阿里巴巴普惠体-R"===e?"阿里巴巴普惠体":e,r=document.createElement("div");r.style.position="fixed",r.style.opacity="0",r.style.zIndex="-1050",r.classList.add("cq-font-family-install-dummy-node"),r.textContent=n,r.style.fontFamily=Ze(n),document.body.appendChild(r)}))},Qb=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,H.useState)(!t),n=(0,M.c)(e,2),r=n[0],i=n[1];if(t&&!r&&!zb)if(zb=!0,window.FontFace){var o;qr().allSettled(R()(o=cp()(t)).call(o,(function(t){var e=(0,M.c)(t,2),n=e[0],r=e[1],i="阿里巴巴普惠体-R"===n?"阿里巴巴普惠体":n;return new(qr())((function(t,e){ut()((function(){t("not to wait loading font ".concat(i))}),5e3);new FontFace(i,"url(".concat(r,")")).load().then((function(e){e&&(Ub[i]=!0),document.fonts.add(e),t("install resolve ".concat(i))})).catch((function(){e("install reject ".concat(i))}))})).then((function(t){}),(function(t){}))}))).then((function(e){Wb(t),i(!0)})).catch((function(e){Wb(t),i(!0)}))}else{var a,u={method:"GET",mode:"cors",credentials:"include",headers:{"Cache-Control":"public, max-age=31536000"}};qr().allSettled(R()(a=cp()(t)).call(a,(function(t){var e=(0,M.c)(t,2),n=e[0],r=e[1],i="阿里巴巴普惠体-R"===n?"阿里巴巴普惠体":n;return new(qr())((function(t,e){ut()((function(){t("not to wait loading font ".concat(i))}),5e3);window.fetch(r,u).then((function(t){return t.text()})).then((function(e){if(e){var n,o=document.createElement("style");o.type="text/css";var a=P()(n='\n              @font-face {\n                font-family: "'.concat(i,'";\n                src: url(')).call(n,r,");\n              }");o.styleSheet?o.styleSheet.cssText=a:o.appendChild(document.createTextNode(a)),Ub[i]=!0,document.head.appendChild(o),t("install resolve ".concat(i))}})).catch((function(t){e("install reject ".concat(i))}))})).then((function(t){}),(function(t){}))}))).then((function(e){Wb(t),i(!0)})).catch((function(){Wb(t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];i(!0)}))}return r}},6220:function(t){"use strict";t.exports=function(t){if(t=String(t||""),r.test(t))return"rtl";if(i.test(t))return"ltr";return"neutral"};var e="֑-߿יִ-﷽ﹰ-ﻼ",n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",r=new RegExp("^[^"+n+"]*["+e+"]"),i=new RegExp("^[^"+e+"]*["+n+"]")},44820:function(t){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=57)}([function(t,e,n){var r=n(2),i=n(11),o=n(4),a=n(13),u=n(22),c=function(t,e,n){var l,s,f,d,h=t&c.F,p=t&c.G,v=t&c.S,g=t&c.P,m=t&c.B,y=p?r:v?r[e]||(r[e]={}):(r[e]||{}).prototype,b=p?i:i[e]||(i[e]={}),C=b.prototype||(b.prototype={});for(l in p&&(n=e),n)f=((s=!h&&y&&void 0!==y[l])?y:n)[l],d=m&&s?u(f,r):g&&"function"==typeof f?u(Function.call,f):f,y&&a(y,l,f,t&c.U),b[l]!=f&&o(b,l,d),g&&C[l]!=f&&(C[l]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(17)("wks"),i=n(14),o=n(2).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(5),i=n(16);t.exports=n(6)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(12),i=n(35),o=n(21),a=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(7)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(39),i=n(24);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperty:n(5).f})},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(3);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(2),i=n(4),o=n(8),a=n(14)("src"),u=n(59),c=(""+u).split("toString");n(11).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||u.call(this)}))},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(45),i=n(28);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(11),i=n(2),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(18)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var r=n(24);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(2),i=n(8),o=n(6),a=n(0),u=n(13),c=n(62).KEY,l=n(7),s=n(17),f=n(26),d=n(14),h=n(1),p=n(43),v=n(44),g=n(63),m=n(42),y=n(12),b=n(3),C=n(19),x=n(9),w=n(21),E=n(16),S=n(30),k=n(67),D=n(49),A=n(47),I=n(5),M=n(15),T=D.f,B=I.f,F=k.f,L=r.Symbol,R=r.JSON,_=R&&R.stringify,N=h("_hidden"),P=h("toPrimitive"),O={}.propertyIsEnumerable,j=s("symbol-registry"),G=s("symbols"),z=s("op-symbols"),U=Object.prototype,W="function"==typeof L&&!!A.f,Q=r.QObject,Z=!Q||!Q.prototype||!Q.prototype.findChild,J=o&&l((function(){return 7!=S(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=T(U,e);r&&delete U[e],B(t,e,n),r&&t!==U&&B(U,e,r)}:B,H=function(t){var e=G[t]=S(L.prototype);return e._k=t,e},V=W&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},K=function(t,e,n){return t===U&&K(z,e,n),y(t),e=w(e,!0),y(n),i(G,e)?(n.enumerable?(i(t,N)&&t[N][e]&&(t[N][e]=!1),n=S(n,{enumerable:E(0,!1)})):(i(t,N)||B(t,N,E(1,{})),t[N][e]=!0),J(t,e,n)):B(t,e,n)},Y=function(t,e){y(t);for(var n,r=g(e=x(e)),i=0,o=r.length;o>i;)K(t,n=r[i++],e[n]);return t},q=function(t){var e=O.call(this,t=w(t,!0));return!(this===U&&i(G,t)&&!i(z,t))&&(!(e||!i(this,t)||!i(G,t)||i(this,N)&&this[N][t])||e)},X=function(t,e){if(t=x(t),e=w(e,!0),t!==U||!i(G,e)||i(z,e)){var n=T(t,e);return!n||!i(G,e)||i(t,N)&&t[N][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=F(x(t)),r=[],o=0;n.length>o;)i(G,e=n[o++])||e==N||e==c||r.push(e);return r},tt=function(t){for(var e,n=t===U,r=F(n?z:x(t)),o=[],a=0;r.length>a;)!i(G,e=r[a++])||n&&!i(U,e)||o.push(G[e]);return o};W||(u((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(z,n),i(this,N)&&i(this[N],t)&&(this[N][t]=!1),J(this,t,E(1,n))};return o&&Z&&J(U,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",(function(){return this._k})),D.f=X,I.f=K,n(48).f=k.f=$,n(29).f=q,A.f=tt,o&&!n(18)&&u(U,"propertyIsEnumerable",q,!0),p.f=function(t){return H(h(t))}),a(a.G+a.W+a.F*!W,{Symbol:L});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var rt=M(h.store),it=0;rt.length>it;)v(rt[it++]);a(a.S+a.F*!W,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=L(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),a(a.S+a.F*!W,"Object",{create:function(t,e){return void 0===e?S(t):Y(S(t),e)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=l((function(){A.f(1)}));a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return A.f(C(t))}}),R&&a(a.S+a.F*(!W||l((function(){var t=L();return"[null]"!=_([t])||"{}"!=_({a:t})||"{}"!=_(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!V(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!V(e))return e}),r[1]=e,_.apply(R,r)}}),L.prototype[P]||n(4)(L.prototype,P,L.prototype.valueOf),f(L,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(3);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(37);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(5).f,i=n(8),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(17)("keys"),i=n(14);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(12),i=n(65),o=n(28),a=n(27)("IE_PROTO"),u=function(){},c=function(){var t,e=n(36)("iframe"),r=o.length;for(e.style.display="none",n(66).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";var r=n(68),i=n(69),o=n(32),a=n(9);t.exports=n(70)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports={}},function(t,e,n){n(44)("asyncIterator")},function(t,e,n){"use strict";var r=n(0),i=n(38)(0),o=n(25)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){t.exports=!n(6)&&!n(7)((function(){return 7!=Object.defineProperty(n(36)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(22),i=n(39),o=n(19),a=n(40),u=n(60);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,s=4==t,f=6==t,d=5==t||f,h=e||u;return function(e,u,p){for(var v,g,m=o(e),y=i(m),b=r(u,p,3),C=a(y.length),x=0,w=n?h(e,C):c?h(e,0):void 0;C>x;x++)if((d||x in y)&&(g=b(v=y[x],x,m),t))if(n)w[x]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:w.push(v)}else if(s)return!1;return f?-1:l||s?s:w}}},function(t,e,n){var r=n(23);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(41),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(23);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){e.f=n(1)},function(t,e,n){var r=n(2),i=n(11),o=n(18),a=n(43),u=n(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(8),i=n(9),o=n(46)(!1),a=n(27)("IE_PROTO");t.exports=function(t,e){var n,u=i(t),c=0,l=[];for(n in u)n!=a&&r(u,n)&&l.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(9),i=n(40),o=n(64);t.exports=function(t){return function(e,n,a){var u,c=r(e),l=i(c.length),s=o(a,l);if(t&&n!=n){for(;l>s;)if((u=c[s++])!=u)return!0}else for(;l>s;s++)if((t||s in c)&&c[s]===n)return t||s||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(45),i=n(28).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(29),i=n(16),o=n(9),a=n(21),u=n(8),c=n(35),l=Object.getOwnPropertyDescriptor;e.f=n(6)?l:function(t,e){if(t=o(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){for(var r=n(31),i=n(15),o=n(13),a=n(2),u=n(4),c=n(32),l=n(1),s=l("iterator"),f=l("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var g,m=p[v],y=h[m],b=a[m],C=b&&b.prototype;if(C&&(C[s]||u(C,s,d),C[f]||u(C,f,m),c[m]=d,y))for(g in r)C[g]||o(C,g,r[g],!0)}},function(t,e,n){"use strict";var r=n(73),i={};i[n(1)("toStringTag")]="z",i+""!="[object z]"&&n(13)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(19),i=n(15);n(74)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){"use strict";var r=n(0),i=n(38)(2);r(r.P+r.F*!n(25)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(75)})},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(30)})},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(81).set})},function(t,e,n){n(58),t.exports=n(82)},function(t,e){},function(t,e,n){t.exports=n(17)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(61);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(3),i=n(42),o=n(1)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(14)("meta"),i=n(3),o=n(8),a=n(5).f,u=0,c=Object.isExtensible||function(){return!0},l=!n(7)((function(){return c(Object.preventExtensions({}))})),s=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";s(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;s(t)}return t[r].w},onFreeze:function(t){return l&&f.NEED&&c(t)&&!o(t,r)&&s(t),t}}},function(t,e,n){var r=n(15),i=n(47),o=n(29);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,u=n(t),c=o.f,l=0;u.length>l;)c.call(t,a=u[l++])&&e.push(a);return e}},function(t,e,n){var r=n(41),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(5),i=n(12),o=n(15);t.exports=n(6)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),u=a.length,c=0;u>c;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(9),i=n(48).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(1)("unscopables"),i=Array.prototype;null==i[r]&&n(4)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(18),i=n(0),o=n(13),a=n(4),u=n(32),c=n(71),l=n(26),s=n(72),f=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,p,v,g,m){c(n,e,p);var y,b,C,x=function(t){if(!d&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",E="values"==v,S=!1,k=t.prototype,D=k[f]||k["@@iterator"]||v&&k[v],A=D||x(v),I=v?E?x("entries"):A:void 0,M="Array"==e&&k.entries||D;if(M&&(C=s(M.call(new t)))!==Object.prototype&&C.next&&(l(C,w,!0),r||"function"==typeof C[f]||a(C,f,h)),E&&D&&"values"!==D.name&&(S=!0,A=function(){return D.call(this)}),r&&!m||!d&&!S&&k[f]||a(k,f,A),u[e]=A,u[w]=h,v)if(y={values:E?A:x("values"),keys:g?A:x("keys"),entries:I},m)for(b in y)b in k||o(k,b,y[b]);else i(i.P+i.F*(d||S),e,y);return y}},function(t,e,n){"use strict";var r=n(30),i=n(16),o=n(26),a={};n(4)(a,n(1)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(8),i=n(19),o=n(27)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(23),i=n(1)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(0),i=n(11),o=n(7);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){"use strict";var r=n(37),i=n(3),o=n(76),a=[].slice,u={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),c=function(){var r=n.concat(a.call(arguments));return this instanceof c?function(t,e,n){if(!(e in u)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";u[e]=Function("F,a","return new F("+r.join(",")+")")}return u[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(c.prototype=e.prototype),c}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";n(78)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){var r=n(0),i=n(24),o=n(7),a=n(79),u="["+a+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),s=function(t,e,n){var i={},u=o((function(){return!!a[t]()||"​"!="​"[t]()})),c=i[t]=u?e(f):a[t];n&&(i[n]=c),r(r.P+r.F*u,"String",i)},f=s.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=s},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(0),i=n(46)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(25)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){var r=n(3),i=n(12),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(22)(Function.call,n(49).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){"use strict";n.r(e),n(34),n(20),n(50),n(31),n(51),n(52),n(10),n(53),n(54);var r=.75,i=10,o=!0,a=!0,u=!0,c=!1,l="driver-highlighted-element-stage",s='<div id="'.concat("driver-page-overlay",'"></div>'),f='<div id="'.concat(l,'"></div>');function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(33),n(77);var h=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},p=function t(e,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){for(var r=["","-webkit-","-ms-","moz-","-o-"],i=0;i<r.length;i++){var o=t(e,r[i]+n);if(o)return o}return""}var a="";return e.currentStyle?a=e.currentStyle[n]:document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(e,null).getPropertyValue(n)),a&&a.toLowerCase?a.toLowerCase():a},v=function(t){return t&&"object"===d(t)&&"nodeType"in t};function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.highlightedElement=null,this.lastHighlightedElement=null,this.hideTimer=null,this.window=n,this.document=r,this.removeNode=this.removeNode.bind(this)}var e,n,r;return e=t,(n=[{key:"attachNode",value:function(){var t=this.document.getElementById("driver-page-overlay");t||(t=h(s),document.body.appendChild(t)),this.node=t,this.node.style.opacity="0",this.options.animate||this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"highlight",value:function(t){t&&t.node&&(t.isSame(this.highlightedElement)||(this.window.clearTimeout(this.hideTimer),t.onHighlightStarted(),this.highlightedElement&&!this.highlightedElement.isSame(this.lastHighlightedElement)&&this.highlightedElement.onDeselected(),t.getCalculatedPosition().canHighlight()&&(this.lastHighlightedElement=this.highlightedElement,this.highlightedElement=t,this.show(),this.highlightedElement.onHighlighted())))}},{key:"show",value:function(){var t=this;this.node&&this.node.parentElement||(this.attachNode(),window.setTimeout((function(){t.node.style.opacity="".concat(t.options.opacity),t.node.style.position="fixed",t.node.style.left="0",t.node.style.top="0",t.node.style.bottom="0",t.node.style.right="0"})))}},{key:"getHighlightedElement",value:function(){return this.highlightedElement}},{key:"getLastHighlightedElement",value:function(){return this.lastHighlightedElement}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.onReset&&this.options.onReset(this.highlightedElement),this.highlightedElement&&this.highlightedElement.onDeselected(!0),this.highlightedElement=null,this.lastHighlightedElement=null,this.node&&(this.window.clearTimeout(this.hideTimer),this.options.animate&&!t?(this.node.style.opacity="0",this.hideTimer=this.window.setTimeout(this.removeNode,300)):this.removeNode())}},{key:"removeNode",value:function(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"refresh",value:function(){this.highlightedElement&&(this.highlightedElement.showPopover(),this.highlightedElement.showStage())}}])&&g(e.prototype,n),r&&g(e,r),t}();function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(80);var b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,r=void 0===n?0:n,i=e.top,o=void 0===i?0:i,a=e.right,u=void 0===a?0:a,c=e.bottom,l=void 0===c?0:c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.left=r,this.right=u,this.top=o,this.bottom=l}var e,n,r;return e=t,(n=[{key:"canHighlight",value:function(){return this.left<this.right&&this.top<this.bottom}}])&&y(e.prototype,n),r&&y(e,r),t}();function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.node,r=e.options,i=e.popover,o=e.stage,a=e.overlay,u=e.window,c=e.document;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=n,this.document=c,this.window=u,this.options=r,this.overlay=a,this.popover=i,this.stage=o,this.animationTimeout=null}var e,n,r;return e=t,(n=[{key:"isInView",value:function(){for(var t=this.node.offsetTop,e=this.node.offsetLeft,n=this.node.offsetWidth,r=this.node.offsetHeight,i=this.node;i.offsetParent;)t+=(i=i.offsetParent).offsetTop,e+=i.offsetLeft;return t>=this.window.pageYOffset&&e>=this.window.pageXOffset&&t+r<=this.window.pageYOffset+this.window.innerHeight&&e+n<=this.window.pageXOffset+this.window.innerWidth}},{key:"scrollManually",value:function(){var t=this.node.getBoundingClientRect().top+this.window.pageYOffset-this.window.innerHeight/2;this.window.scrollTo(0,t)}},{key:"bringInView",value:function(){if(this.node&&!this.isInView())if(this.node.scrollIntoView)try{this.node.scrollIntoView(this.options.scrollIntoViewOptions||{behavior:"instant",block:"center"})}catch(t){this.scrollManually()}else this.scrollManually()}},{key:"getCalculatedPosition",value:function(){var t=this.document.body,e=this.document.documentElement,n=this.window,r=this.window.pageYOffset||e.scrollTop||t.scrollTop,i=n.pageXOffset||e.scrollLeft||t.scrollLeft,o=this.node.getBoundingClientRect();return new b({top:o.top+r,left:o.left+i,right:o.left+i+o.width,bottom:o.top+r+o.height})}},{key:"getPopover",value:function(){return this.popover}},{key:"onDeselected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hidePopover(),t&&this.hideStage(),this.removeHighlightClasses(),this.window.clearTimeout(this.animationTimeout),this.options.onDeselected&&this.options.onDeselected(this)}},{key:"isSame",value:function(t){return!(!t||!t.node)&&t.node===this.node}},{key:"onHighlightStarted",value:function(){this.options.onHighlightStarted&&this.options.onHighlightStarted(this)}},{key:"onHighlighted",value:function(){this.isInView()||this.bringInView(),this.showPopover(),this.showStage(),this.addHighlightClasses(),this.options.onHighlighted&&this.options.onHighlighted(this)}},{key:"removeHighlightClasses",value:function(){this.node.classList.remove("driver-highlighted-element"),this.node.classList.remove("driver-position-relative");for(var t=this.document.querySelectorAll(".".concat("driver-fix-stacking")),e=0;e<t.length;e++)t[e].classList.remove("driver-fix-stacking")}},{key:"addHighlightClasses",value:function(){this.node.classList.add("driver-highlighted-element"),this.canMakeRelative()&&this.node.classList.add("driver-position-relative"),this.fixStackingContext()}},{key:"fixStackingContext",value:function(){for(var t=this.node.parentNode;t&&t.tagName&&"body"!==t.tagName.toLowerCase();){var e=p(t,"z-index"),n=parseFloat(p(t,"opacity")),r=p(t,"transform",!0),i=p(t,"transform-style",!0),o=p(t,"transform-box",!0),a=p(t,"filter",!0),u=p(t,"perspective",!0);(/[0-9]+/.test(e)||n<1||r&&"none"!==r||i&&"flat"!==i||o&&"border-box"!==o||a&&"none"!==a||u&&"none"!==u)&&t.classList.add("driver-fix-stacking"),t=t.parentNode}}},{key:"canMakeRelative",value:function(){var t=this.getStyleProperty("position");return-1===["absolute","fixed","relative"].indexOf(t)}},{key:"getStyleProperty",value:function(t){return p(this.node,t)}},{key:"showStage",value:function(){this.stage.show(this.getCalculatedPosition())}},{key:"getNode",value:function(){return this.node}},{key:"hideStage",value:function(){this.stage.hide()}},{key:"hidePopover",value:function(){this.popover&&this.popover.hide()}},{key:"showPopover",value:function(){var t=this;if(this.popover){var e=this.getCalculatedPosition(),n=300;this.options.animate&&this.overlay.lastHighlightedElement||(n=0),this.animationTimeout=this.window.setTimeout((function(){t.popover.show(e)}),n)}}},{key:"getFullPageSize",value:function(){var t=this.document.body,e=this.document.documentElement;return{height:Math.max(t.scrollHeight,t.offsetHeight,e.scrollHeight,e.offsetHeight),width:Math.max(t.scrollWidth,t.offsetWidth,e.scrollWidth,e.offsetWidth)}}},{key:"getSize",value:function(){return{height:Math.max(this.node.scrollHeight,this.node.offsetHeight),width:Math.max(this.node.scrollWidth,this.node.offsetWidth)}}}])&&C(e.prototype,n),r&&C(e,r),t}();function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(55),n(56);var I=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=k(this,D(e).call(this))).options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){E(t,e,n[e])}))}return t}({isFirst:!0,isLast:!0,totalCount:1,currentIndex:0,offset:0,showButtons:!0,closeBtnText:"Close",doneBtnText:"Done",startBtnText:"Next &rarr;",nextBtnText:"Next &rarr;",prevBtnText:"&larr; Previous"},t),i.window=n,i.document=r,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,x),n=e,(r=[{key:"attachNode",value:function(){var t=this.document.getElementById("driver-popover-item");t&&t.parentElement.removeChild(t),t=h(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return'\n  <div id="'.concat("driver-popover-item",'" class="').concat(t,'">\n    <div class="').concat("driver-popover-tip",'"></div>\n    <div class="').concat("driver-popover-title",'">Popover Title</div>\n    <div class="').concat("driver-popover-description",'">Popover Description</div>\n    <div class="driver-clearfix ').concat("driver-popover-footer",'">\n      <button class="').concat("driver-close-btn",'">Close</button>\n      <span class="driver-btn-group ').concat("driver-navigation-btns",'">\n        <button class="').concat("driver-prev-btn",'">&larr; Previous</button>\n        <button class="').concat("driver-next-btn",'">Next &rarr;</button>\n      </span>\n    </div>\n  </div>')}(this.options.className)),document.body.appendChild(t),this.node=t,this.tipNode=t.querySelector(".".concat("driver-popover-tip")),this.titleNode=t.querySelector(".".concat("driver-popover-title")),this.descriptionNode=t.querySelector(".".concat("driver-popover-description")),this.footerNode=t.querySelector(".".concat("driver-popover-footer")),this.nextBtnNode=t.querySelector(".".concat("driver-next-btn")),this.prevBtnNode=t.querySelector(".".concat("driver-prev-btn")),this.closeBtnNode=t.querySelector(".".concat("driver-close-btn"))}},{key:"getTitleNode",value:function(){return this.titleNode}},{key:"getDescriptionNode",value:function(){return this.descriptionNode}},{key:"hide",value:function(){this.node&&(this.node.style.display="none")}},{key:"setInitialState",value:function(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right="",this.node.querySelector(".".concat("driver-popover-tip")).className="driver-popover-tip"}},{key:"show",value:function(t){switch(this.attachNode(),this.setInitialState(),this.titleNode.innerHTML=this.options.title,this.descriptionNode.innerHTML=this.options.description||"",this.renderFooter(),this.options.position){case"left":case"left-top":this.positionOnLeft(t);break;case"left-center":this.positionOnLeftCenter(t);break;case"left-bottom":this.positionOnLeftBottom(t);break;case"right":case"right-top":this.positionOnRight(t);break;case"right-center":this.positionOnRightCenter(t);break;case"right-bottom":this.positionOnRightBottom(t);break;case"top":case"top-left":this.positionOnTop(t);break;case"top-center":this.positionOnTopCenter(t);break;case"top-right":this.positionOnTopRight(t);break;case"bottom":case"bottom-left":this.positionOnBottom(t);break;case"bottom-center":this.positionOnBottomCenter(t);break;case"bottom-right":this.positionOnBottomRight(t);break;case"mid-center":this.positionOnMidCenter(t);break;default:this.autoPosition(t)}this.bringInView()}},{key:"renderFooter",value:function(){this.nextBtnNode.innerHTML=this.options.nextBtnText,this.prevBtnNode.innerHTML=this.options.prevBtnText,this.closeBtnNode.innerHTML=this.options.closeBtnText;var t=this.options.totalCount&&1!==this.options.totalCount;this.options.showButtons?(t?(this.nextBtnNode.style.display="inline-block",this.prevBtnNode.style.display="inline-block",this.closeBtnNode.classList.remove("driver-close-only-btn")):(this.nextBtnNode.style.display="none",this.prevBtnNode.style.display="none",this.closeBtnNode.classList.add("driver-close-only-btn")),this.footerNode.style.display="block",this.options.isFirst?(this.prevBtnNode.classList.add("driver-disabled"),this.nextBtnNode.innerHTML=this.options.startBtnText):this.prevBtnNode.classList.remove("driver-disabled"),this.options.isLast?this.nextBtnNode.innerHTML=this.options.doneBtnText:this.nextBtnNode.innerHTML=this.options.nextBtnText):this.footerNode.style.display="none"}},{key:"positionOnLeft",value:function(t){var e=this.getSize().width,n=this.options.padding+10;this.node.style.left="".concat(t.left-e-n,"px"),this.node.style.top="".concat(t.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right")}},{key:"positionOnLeftBottom",value:function(t){var e=this.getSize(),n=e.width,r=this.options.padding+10;this.node.style.left="".concat(t.left-n-r,"px"),this.node.style.top="".concat(t.bottom+this.options.padding+this.options.offset-e.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("right","position-bottom")}},{key:"positionOnLeftCenter",value:function(t){var e=this.getSize(),n=e.width,r=e.height/2,i=this.options.padding+10,o=(t.bottom-t.top)/2,a=t.top-r+o+this.options.offset;this.node.style.left="".concat(t.left-n-i,"px"),this.node.style.top="".concat(a,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right","position-center")}},{key:"positionOnRight",value:function(t){var e=this.options.padding+10;this.node.style.left="".concat(t.right+e,"px"),this.node.style.top="".concat(t.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left")}},{key:"positionOnRightCenter",value:function(t){var e=this.getSize(),n=this.options.padding+10,r=e.height/2,i=(t.bottom-t.top)/2,o=t.top-r+i+this.options.offset;this.node.style.left="".concat(t.right+n,"px"),this.node.style.top="".concat(o,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left","position-center")}},{key:"positionOnRightBottom",value:function(t){var e=this.options.padding+10,n=this.getSize();this.node.style.left="".concat(t.right+e,"px"),this.node.style.top="".concat(t.bottom+this.options.padding+this.options.offset-n.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("left","position-bottom")}},{key:"positionOnTop",value:function(t){var e=this.getSize().height,n=this.options.padding+10;this.node.style.top="".concat(t.top-e-n,"px"),this.node.style.left="".concat(t.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom")}},{key:"positionOnTopCenter",value:function(t){var e=this.getSize(),n=e.height,r=e.width/2,i=this.options.padding+10,o=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top="".concat(t.top-n-i,"px"),this.node.style.left="".concat(o-r-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-center")}},{key:"positionOnTopRight",value:function(t){var e=this.getSize(),n=e.height,r=this.options.padding+10;this.node.style.top="".concat(t.top-n-r,"px"),this.node.style.left="".concat(t.right+this.options.padding+this.options.offset-e.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-right")}},{key:"positionOnBottom",value:function(t){var e=this.options.padding+10;this.node.style.top="".concat(t.bottom+e,"px"),this.node.style.left="".concat(t.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top")}},{key:"positionOnBottomCenter",value:function(t){var e=this.getSize().width/2,n=this.options.padding+10,r=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top="".concat(t.bottom+n,"px"),this.node.style.left="".concat(r-e-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-center")}},{key:"positionOnBottomRight",value:function(t){var e=this.getSize(),n=this.options.padding+10;this.node.style.top="".concat(t.bottom+n,"px"),this.node.style.left="".concat(t.right+this.options.padding+this.options.offset-e.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-right")}},{key:"positionOnMidCenter",value:function(t){var e=this.getSize(),n=e.height,r=e.width/2,i=n/2,o=(t.bottom-t.top)/2,a=t.top-i+o+this.options.offset,u=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top="".concat(a,"px"),this.node.style.left="".concat(u-r-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("mid-center")}},{key:"autoPosition",value:function(t){var e=this.getFullPageSize(),n=this.getSize(),r=e.height,i=n.height,o=this.options.padding+10;t.bottom+i+o>=r?this.positionOnTop(t):this.positionOnBottom(t)}}])&&S(n.prototype,r),i&&S(n,i),e}();function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=B(this,F(e).call(this))).options=t,i.window=n,i.document=r,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,x),n=e,(r=[{key:"attachNode",value:function(){var t=this.document.getElementById(l);t||(t=h(f),document.body.appendChild(t)),this.node=t,this.options.animate?this.node.classList.remove("driver-stage-no-animation"):this.node.classList.add("driver-stage-no-animation")}},{key:"hide",value:function(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"setInitialStyle",value:function(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right=""}},{key:"show",value:function(t){this.attachNode(),this.setInitialStyle();var e=2*this.options.padding,n=t.right-t.left+e,r=t.bottom-t.top+e;this.node.style.display="block",this.node.style.position="absolute",this.node.style.width="".concat(n,"px"),this.node.style.height="".concat(r,"px"),this.node.style.top="".concat(t.top-e/2,"px"),this.node.style.left="".concat(t.left-e/2,"px"),this.node.style.backgroundColor=this.options.stageBackground}}])&&T(n.prototype,r),i&&T(n,i),e}();function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){N(t,e,n[e])}))}return t}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"default",(function(){return O}));var O=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=_({animate:o,opacity:r,padding:i,scrollIntoViewOptions:null,allowClose:a,keyboardControl:u,overlayClickNext:c,stageBackground:"#ffffff",onHighlightStarted:function(){return null},onHighlighted:function(){return null},onDeselected:function(){return null},onReset:function(){return null},onNext:function(){return null},onPrevious:function(){return null}},e),this.document=document,this.window=window,this.isActivated=!1,this.steps=[],this.currentStep=0,this.currentMovePrevented=!1,this.overlay=new m(this.options,window,document),this.onResize=this.onResize.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onClick=this.onClick.bind(this),this.moveNext=this.moveNext.bind(this),this.movePrevious=this.movePrevious.bind(this),this.preventMove=this.preventMove.bind(this),this.bind()}var e,n,l;return e=t,(n=[{key:"getSteps",value:function(){return this.steps}},{key:"setSteps",value:function(t){this.steps=t}},{key:"bind",value:function(){this.window.addEventListener("resize",this.onResize,!1),this.window.addEventListener("keyup",this.onKeyUp,!1),"ontouchstart"in document.documentElement?this.window.addEventListener("touchstart",this.onClick,!1):this.window.addEventListener("click",this.onClick,!1)}},{key:"onClick",value:function(t){if(this.isActivated&&this.hasHighlightedElement()){t.stopPropagation();var e=this.overlay.getHighlightedElement(),n=this.document.getElementById("driver-popover-item"),r=e.node.contains(t.target),i=n&&n.contains(t.target);if(r||i||!this.options.overlayClickNext)if(r||i||!this.options.allowClose){var o=t.target.classList.contains("driver-next-btn"),a=t.target.classList.contains("driver-prev-btn");t.target.classList.contains("driver-close-btn")?this.reset():o?this.handleNext():a&&this.handlePrevious()}else this.reset();else this.handleNext()}}},{key:"onResize",value:function(){this.isActivated&&this.refresh()}},{key:"refresh",value:function(){this.overlay.refresh()}},{key:"onKeyUp",value:function(t){if(this.isActivated&&this.options.keyboardControl)if(27!==t.keyCode){var e=this.getHighlightedElement();e&&e.popover&&(39===t.keyCode?this.handleNext():37===t.keyCode&&this.handlePrevious())}else this.reset()}},{key:"movePrevious",value:function(){var t=this.steps[this.currentStep-1];t?(this.overlay.highlight(t),this.currentStep-=1):this.reset()}},{key:"preventMove",value:function(){this.currentMovePrevented=!0}},{key:"handleNext",value:function(){this.currentMovePrevented=!1;var t=this.steps[this.currentStep];t&&t.options&&t.options.onNext&&t.options.onNext(this.overlay.highlightedElement),this.currentMovePrevented||this.moveNext()}},{key:"handlePrevious",value:function(){this.currentMovePrevented=!1;var t=this.steps[this.currentStep];t&&t.options&&t.options.onPrevious&&t.options.onPrevious(this.overlay.highlightedElement),this.currentMovePrevented||this.movePrevious()}},{key:"moveNext",value:function(){var t=this.steps[this.currentStep+1];t?(this.overlay.highlight(t),this.currentStep+=1):this.reset()}},{key:"hasNextStep",value:function(){return!!this.steps[this.currentStep+1]}},{key:"hasPreviousStep",value:function(){return!!this.steps[this.currentStep-1]}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.currentStep=0,this.isActivated=!1,this.overlay.clear(t)}},{key:"hasHighlightedElement",value:function(){var t=this.overlay.getHighlightedElement();return t&&t.node}},{key:"getHighlightedElement",value:function(){return this.overlay.getHighlightedElement()}},{key:"getLastHighlightedElement",value:function(){return this.overlay.getLastHighlightedElement()}},{key:"defineSteps",value:function(t){this.steps=[];for(var e=0;e<t.length;e++){var n=this.prepareElementFromStep(t[e],t,e);n&&this.steps.push(n)}}},{key:"prepareElementFromStep",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=_({},this.options),i=t,o="string"!=typeof t&&!v(t);if(!t||o&&!t.element)throw new Error("Element is required in step ".concat(n));o&&(i=t.element,r=_({},this.options,t));var a=v(i)?i:this.document.querySelector(i);if(!a)return null;var u=null;if(r.popover&&r.popover.title){var c=[this.options.className,r.popover.className].filter((function(t){return t})).join(" "),l=_({},r,r.popover,{className:c,totalCount:e.length,currentIndex:n,isFirst:0===n,isLast:0===e.length||n===e.length-1});u=new I(l,this.window,this.document)}var s=_({},r),f=new R(s,this.window,this.document);return new x({node:a,options:r,popover:u,stage:f,overlay:this.overlay,window:this.window,document:this.document})}},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.steps||0===this.steps.length)throw new Error("There are no steps defined to iterate");this.isActivated=!0,this.currentStep=t,this.overlay.highlight(this.steps[t])}},{key:"highlight",value:function(t){this.isActivated=!0;var e=this.prepareElementFromStep(t);e&&this.overlay.highlight(e)}}])&&P(e.prototype,n),l&&P(e,l),t}()}]).default},73003:function(t,e,n){var r;t=n.nmd(t),function(i){var o=e,a=(t&&t.exports,"object"==typeof n.g&&n.g);a.global!==a&&a.window;var u=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,c=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,l=function(t){for(var e="",n=(t=t.replace(u,(function(t,e,n){return l(n)+e})).replace(c,"$2$1")).length;n--;)e+=t.charAt(n);return e},s={version:"0.2.0",reverse:l};void 0===(r=function(){return s}.call(e,n,e,t))||(t.exports=r)}()},19641:function(t){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n}},90352:function(t,e){"use strict";for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)o["f"+a]=111+a;function u(t,e,n){e&&!("byKey"in e)&&(n=e,e=null),Array.isArray(t)||(t=[t]);var r=t.map((function(t){return c(t,e)})),i=function(t){return r.some((function(e){return l(e,t)}))};return null==n?i:i(n)}function c(t,e){var n=e&&e.byKey,i={},o=(t=t.replace("++","+add")).split("+"),a=o.length;for(var u in r)i[r[u]]=!1;var c=!0,l=!1,d=void 0;try{for(var h,p=o[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var v=h.value,g=v.endsWith("?")&&v.length>1;g&&(v=v.slice(0,-1));var m=f(v),y=r[m];1!==a&&y||(n?i.key=m:i.which=s(v)),y&&(i[y]=!g||null)}}catch(t){l=!0,d=t}finally{try{!c&&p.return&&p.return()}finally{if(l)throw d}}return i}function l(t,e){for(var n in t){var r=t[n],i=void 0;if(null!=r&&((null!=(i="key"===n&&null!=e.key?e.key.toLowerCase():"which"===n?91===r&&93===e.which?91:e.which:e[n])||!1!==r)&&i!==r))return!1}return!0}function s(t){return t=f(t),o[t]||t.toUpperCase().charCodeAt(0)}function f(t){return t=t.toLowerCase(),t=i[t]||t}e.g5=u},30856:function(t,e,n){"use strict";var r=n(16196);function i(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==i(t)&&("function"==typeof(e=t.constructor)&&(!1!==i(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},16196:function(t){"use strict";t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},7072:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Animation=void 0;var r=n(4880),i=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()},o=function(){function t(e,n){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=e,this.setLayers(n)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,n=this.layers,r=n.length;for(e=0;e<r;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,n=t.animations,r=n.length;for(e=0;e<r;e++)if(n[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,n=t.id,r=this.animations,i=r.length;for(e=0;e<i;e++)if(r[e].id===n){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,n,r,o,a,u,c,l={},s=this.animations;for(r=0;r<s.length;r++)if(e=(t=s[r]).layers,n=t.func,t._updateFrameObject(i()),a=e.length,!n||!1!==n.call(t,t.frame))for(o=0;o<a;o++)void 0!==(u=e[o])._id&&(l[u._id]=u);for(c in l)l.hasOwnProperty(c)&&l[c].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();e.Animation=o},49688:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HitCanvas=e.SceneCanvas=e.Canvas=void 0;var o,a=n(90240),u=n(3208),c=n(4880),l=n(28176),s=n(36e3);var f=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||c.Konva.pixelRatio||function(){if(o)return o;var t=a.Util.createCanvasElement().getContext("2d");return o=(c.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t||0),this.setHeight(e||0)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return a.Util.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}},t}();e.Canvas=f,l.Factory.addGetterSetter(f,"pixelRatio",void 0,s.getNumberValidator());var d=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.context=new u.SceneContext(n),n.setSize(e.width,e.height),n}return i(e,t),e}(f);e.SceneCanvas=d;var h=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.hitCanvas=!0,n.context=new u.HitContext(n),n.setSize(e.width,e.height),n}return i(e,t),e}(f);e.HitCanvas=h},21363:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var o=n(90240),a=n(28176),u=n(47876),c=n(36e3),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new o.Collection,e}return i(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new o.Collection;return this.children.each((function(n){t(n)&&e.push(n)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new o.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new o.Collection,this},e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}var r=t[0];if(r.getParent())return r.moveTo(this),this;var i=this.children;return this._validateAdd(r),r._clearCaches(),r.index=i.length,r.parent=this,i.push(r),this._fire("add",{child:r}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return o.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var n=[];return this._descendants((function(r){var i=r._isMatch(t);return i&&n.push(r),!(!i||!e)})),o.Collection.toCollection(n)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];if(t(n))return!0;if(n.hasChildren()&&n._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=u.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,r=0;r<n;r++){var i=e[r];t.children.push(i.toObject())}return t},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=u.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas(),i=r&&r.getContext(),o=this._getCanvasCache(),a=o&&o.scene,u=r&&r.isCache;if(!this.isVisible()&&!u)return this;if(a){i.save();var c=this.getAbsoluteTransform(e).getMatrix();i.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",r,e);return this},e.prototype.drawHit=function(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),r=t||n&&n.hitCanvas,i=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();var a=this.getAbsoluteTransform(e).getMatrix();i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,e);return this},e.prototype._drawChildren=function(t,e,n){var r=e&&e.getContext(),i=this.clipWidth(),o=this.clipHeight(),a=this.clipFunc(),u=i&&o||a,c=n===this;if(u){r.save();var l=this.getAbsoluteTransform(n),s=l.getMatrix();if(r.transform(s[0],s[1],s[2],s[3],s[4],s[5]),r.beginPath(),a)a.call(this,r,this);else{var f=this.clipX(),d=this.clipY();r.rect(f,d,i,o)}r.clip(),s=l.copy().invert().getMatrix(),r.transform(s[0],s[1],s[2],s[3],s[4],s[5])}var h=!c&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;h&&(r.save(),r._applyGlobalCompositeOperation(this)),this.children.each((function(r){r[t](e,n)})),h&&r.restore(),u&&r.restore()},e.prototype.getClientRect=function(t){var e,n,r,i,o=(t=t||{}).skipTransform,a=t.relativeTo,u={x:1/0,y:1/0,width:0,height:0},c=this;this.children.each((function(o){if(o.visible()){var a=o.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===a.width&&0===a.height||(void 0===e?(e=a.x,n=a.y,r=a.x+a.width,i=a.y+a.height):(e=Math.min(e,a.x),n=Math.min(n,a.y),r=Math.max(r,a.x+a.width),i=Math.max(i,a.y+a.height)))}}));for(var l=this.find("Shape"),s=!1,f=0;f<l.length;f++){if(l[f]._isVisible(this)){s=!0;break}}return u=s&&void 0!==e?{x:e,y:n,width:r-e,height:i-n}:{x:0,y:0,width:0,height:0},o?u:this._transformedRect(u,a)},e}(u.Node);e.Container=l,a.Factory.addComponentsGetterSetter(l,"clip",["x","y","width","height"]),a.Factory.addGetterSetter(l,"clipX",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"clipY",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"clipWidth",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"clipHeight",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(l,"clipFunc"),o.Collection.mapMethods(l)},3208:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HitContext=e.SceneContext=e.Context=void 0;var o=n(90240),a=n(4880),u=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],c=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),a.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.fillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.hasStroke()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))},t.prototype.getTrace=function(t){var e,n,r,i,a=this.traceArr,u=a.length,c="";for(e=0;e<u;e++)(r=(n=a[e]).method)?(i=n.args,c+=r,t?c+="()":o.Util._isArray(i[0])?c+="(["+i.join(",")+"])":c+="("+i.join(",")+")"):(c+=n.property,t||(c+="="+n.val)),c+=";";return c},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,n,r,i,o){this._context.arc(t,e,n,r,i,o)},t.prototype.arcTo=function(t,e,n,r,i){this._context.arcTo(t,e,n,r,i)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){this._context.bezierCurveTo(t,e,n,r,i,o)},t.prototype.clearRect=function(t,e,n,r){this._context.clearRect(t,e,n,r)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,n,r){return this._context.createLinearGradient(t,e,n,r)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,n,r,i,o){return this._context.createRadialGradient(t,e,n,r,i,o)},t.prototype.drawImage=function(t,e,n,r,i,o,a,u,c){var l=arguments,s=this._context;3===l.length?s.drawImage(t,e,n):5===l.length?s.drawImage(t,e,n,r,i):9===l.length&&s.drawImage(t,e,n,r,i,o,a,u,c)},t.prototype.ellipse=function(t,e,n,r,i,o,a,u){this._context.ellipse(t,e,n,r,i,o,a,u)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,n,r){this._context.fillRect(t,e,n,r)},t.prototype.strokeRect=function(t,e,n,r){this._context.strokeRect(t,e,n,r)},t.prototype.fillText=function(t,e,n){this._context.fillText(t,e,n)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,n,r){return this._context.getImageData(t,e,n,r)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,n,r){this._context.rect(t,e,n,r)},t.prototype.putImageData=function(t,e,n){this._context.putImageData(t,e,n)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._context.quadraticCurveTo(t,e,n,r)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,n,r,i,o){this._context.setTransform(t,e,n,r,i,o)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,n,r){this._context.strokeText(t,e,n,r)},t.prototype.transform=function(t,e,n,r,i,o){this._context.transform(t,e,n,r,i,o)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,n=this,r=u.length,i=o.Util._simplifyArray,a=this.setAttr,c=function(t){var r,o=n[t];n[t]=function(){return e=i(Array.prototype.slice.call(arguments,0)),r=o.apply(n,arguments),n._trace({method:t,args:e}),r}};for(t=0;t<r;t++)c(u[t]);n.setAttr=function(){a.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=c,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(c.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),r=a.Konva.getAngle(t.getFillPatternRotation()),i=t.getFillPatternOffsetX(),o=t.getFillPatternOffsetY();t.getFillPatternScaleX(),t.getFillPatternScaleY();(e||n)&&this.translate(e||0,n||0),r&&this.rotate(r),(i||o)&&this.translate(-1*i,-1*o),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)this._fillColor(t);else{var r=t.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(t);else{var i=t.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)this._fillLinearGradient(t);else{var o=t.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):r?this._fillPattern(t):i?this._fillLinearGradient(t):o&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",i)}},e.prototype._stroke=function(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}},e.prototype._applyShadow=function(t){var e=o.Util,n=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),i=e.get(t.getShadowOffset(),{x:0,y:0}),a=t.getAbsoluteScale(),u=this.canvas.getPixelRatio(),c=a.x*u,l=a.y*u;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*Math.min(Math.abs(c),Math.abs(l))),this.setAttr("shadowOffsetX",i.x*c),this.setAttr("shadowOffsetY",i.y*l)},e}(c);e.SceneContext=l;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype.strokeShape=function(t){t.hasHitStroke()&&this._stroke(t)},e.prototype._stroke=function(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),i="auto"===r?t.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(c);e.HitContext=s},81868:function(t,e,n){var r=n(31372).Konva;r._injectGlobal(r),e.default=r,r.default=r,t.exports=e.default},71624:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;var r=n(4880),i=n(90240);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((function(e){"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){var n=[];e.DD._dragElements.forEach((function(e,r){var o=e.node,a=o.getStage();a.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=i.Util._getFirstPointerId(t));var u=a._changedPointerPositions.find((function(t){return t.id===e.pointerId}));if(u){if("dragging"!==e.dragStatus){var c=o.dragDistance();if(Math.max(Math.abs(u.x-e.startPointerPos.x),Math.abs(u.y-e.startPointerPos.y))<c)return;if(o.startDrag({evt:t}),!o.isDragging())return}o._setDragPosition(t,e),n.push(o)}})),n.forEach((function(e){e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore:function(t){e.DD._dragElements.forEach((function(n,i){var o=n.node.getStage();if(t&&o.setPointersPositions(t),o._changedPointerPositions.find((function(t){return t.id===n.pointerId}))){"dragging"!==n.dragStatus&&"stopped"!==n.dragStatus||(e.DD.justDragged=!0,r.Konva.listenClickTap=!1,n.dragStatus="stopped");var a=n.node.getLayer()||n.node instanceof r.Konva.Stage&&n.node;a&&a.batchDraw()}}))},_endDragAfter:function(t){e.DD._dragElements.forEach((function(n,r){"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:t},!0),"dragging"!==n.dragStatus&&e.DD._dragElements.delete(r)}))}},r.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},28176:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;var r=n(90240),i=n(36e3),o="get",a="set";e.Factory={addGetterSetter:function(t,n,r,i,o){e.Factory.addGetter(t,n,r),e.Factory.addSetter(t,n,i,o),e.Factory.addOverloadedGetterSetter(t,n)},addGetter:function(t,e,n){var i=o+r.Util._capitalize(e);t.prototype[i]=t.prototype[i]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter:function(t,n,i,o){var u=a+r.Util._capitalize(n);t.prototype[u]||e.Factory.overWriteSetter(t,n,i,o)},overWriteSetter:function(t,e,n,i){var o=a+r.Util._capitalize(e);t.prototype[o]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter:function(t,n,u,c,l){var s,f,d=u.length,h=r.Util._capitalize,p=o+h(n),v=a+h(n);t.prototype[p]=function(){var t={};for(s=0;s<d;s++)t[f=u[s]]=this.getAttr(n+h(f));return t};var g=i.getComponentValidator(u);t.prototype[v]=function(t){var e,r=this.attrs[n];for(e in c&&(t=c.call(this,t)),g&&g.call(this,t,n),t)t.hasOwnProperty(e)&&this._setAttr(n+h(e),t[e]);return this._fireChangeEvent(n,r,t),l&&l.call(this),this},e.Factory.addOverloadedGetterSetter(t,n)},addOverloadedGetterSetter:function(t,e){var n=r.Util._capitalize(e),i=a+n,u=o+n;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter:function(t,n,i,a){r.Util.error("Adding deprecated "+n);var u=o+r.Util._capitalize(n),c=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[u]=function(){r.Util.error(c);var t=this.attrs[n];return void 0===t?i:t},e.Factory.addSetter(t,n,a,(function(){r.Util.error(c)})),e.Factory.addOverloadedGetterSetter(t,n)},backCompat:function(t,e){r.Util.each(e,(function(e,n){var i=t.prototype[n],u=o+r.Util._capitalize(e),c=a+r.Util._capitalize(e);function l(){i.apply(this,arguments),r.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=l,t.prototype[u]=l,t.prototype[c]=l}))},afterSetFilter:function(){this._filterUpToDate=!1}}},80496:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FastLayer=void 0;var o=n(90240),a=n(40200),u=n(4880),c=function(t){function e(e){var n=t.call(this,e)||this;return n.listening(!1),o.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.'),n}return i(e,t),e}(a.Layer);e.FastLayer=c,c.prototype.nodeType="FastLayer",u._registerNode(c),o.Collection.mapMethods(c)},4880:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e._NODES_REGISTRY=e.Konva=e.glob=e._parseUA=void 0;var r=Math.PI/180;var i=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)};e._parseUA=function(t){var e=t.toLowerCase(),n=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),o=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:i(e),mobile:r,ieMobile:o}},e.glob=void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"7.2.5",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*r:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={};e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}},82048:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;var o=n(90240),a=n(21363),u=n(4880),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to groups.")},e}(a.Container);e.Group=c,c.prototype.nodeType="Group",u._registerNode(c),o.Collection.mapMethods(c)},40200:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=void 0;var o=n(90240),a=n(21363),u=n(47876),c=n(28176),l=n(49688),s=n(36e3),f=n(27668),d=n(4880),h=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=h.length,v=function(t){function e(e){var n=t.call(this,e)||this;return n.canvas=new l.SceneCanvas,n.hitCanvas=new l.HitCanvas({pixelRatio:1}),n._waitingForDraw=!1,n.on("visibleChange.konva",n._checkVisibility),n._checkVisibility(),n.on("imageSmoothingEnabledChange.konva",n._setSmoothEnabled),n._setSmoothEnabled(),n}return i(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var n=this.getStage();return n&&(n.content.removeChild(this.getCanvas()._canvas),e<n.children.length-1?n.content.insertBefore(this.getCanvas()._canvas,n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){u.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!u.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.children.length-1?t.content.insertBefore(this.getCanvas()._canvas,t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(u.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(u.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return u.Node.prototype.remove.call(this),t&&t.parentNode&&o.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,n=t.height;return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to a layer.")},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),u.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._setSmoothEnabled=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){o.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){o.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,o.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype.getIntersection=function(t,e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(var i=0;i<p;i++){var o=h[i],a=this._getIntersection({x:t.x+o.x*n,y:t.y+o.y*n}),u=a.shape;if(u&&e)return u.findAncestor(e,!0);if(u)return u;if(r=!!a.antialiased,!a.antialiased)break}if(!r)return null;n+=1}},e.prototype._getIntersection=function(t){var e=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,r=n[3];if(255===r){var i=o.Util._rgbToHex(n[0],n[1],n[2]),a=f.shapes["#"+i];return a?{shape:a}:{antialiased:!0}}return r>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),a.Container.prototype.drawScene.call(this,r,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var n=this.getLayer(),r=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),a.Container.prototype.drawHit.call(this,r,e),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.setHitGraphEnabled=function(t){o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)},e.prototype.getHitGraphEnabled=function(t){return o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e}(a.Container);e.Layer=v,v.prototype.nodeType="Layer",d._registerNode(v),c.Factory.addGetterSetter(v,"imageSmoothingEnabled",!0),c.Factory.addGetterSetter(v,"clearBeforeDraw",!0),c.Factory.addGetterSetter(v,"hitGraphEnabled",!0,s.getBooleanValidator()),o.Collection.mapMethods(v)},47876:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Node=e._removeName=e._addName=e._removeId=e.names=e.ids=void 0;var r=n(90240),i=n(28176),o=n(49688),a=n(4880),u=n(71624),c=n(36e3);e.ids={},e.names={};e._removeId=function(t,n){t&&e.ids[t]===n&&delete e.ids[t]};e._addName=function(t,n){n&&(e.names[n]||(e.names[n]=[]),e.names[n].push(t))};e._removeName=function(t,n){if(t){var r=e.names[t];if(r){for(var i=0;i<r.length;i++){r[i]._id===n&&r.splice(i,1)}0===r.length&&delete e.names[t]}}};var l="absoluteOpacity",s="allEventListeners",f="absoluteTransform",d="absoluteScale",h="canvas",p="listening",v="mouseenter",g="mouseleave",m="Shape",y=" ",b="stage",C="transform",x="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(y),E=(["scaleXChange.konva","scaleYChange.konva"].join(y),new r.Collection),S=1,k=function(){function t(t){this._id=S++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=E,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return E},t.prototype._clearCache=function(t){t!==C&&t!==f||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0},t.prototype._getCache=function(t,e){var n=this._cache.get(t);return(void 0===n||(t===C||t===f)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n},t.prototype._calculate=function(t,e,n){var r=this;if(!this._attachedDepsListeners.get(t)){var i=e.map((function(t){return t+"Change.konva"})).join(y);this.on(i,(function(){r._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)},t.prototype._getCanvasCache=function(){return this._cache.get(h)},t.prototype._clearSelfAndDescendantCache=function(t,e){this._clearCache(t),e&&t===f&&this.fire("_clearTransformCache"),this.isCached()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t,!0)}))},t.prototype.clearCache=function(){return this._cache.delete(h),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(e.width||n.width),a=Math.ceil(e.height||n.height),u=e.pixelRatio,c=void 0===e.x?n.x:e.x,s=void 0===e.y?n.y:e.y,f=e.offset||0,p=e.drawBorder||!1;if(i&&a){i+=2*f,a+=2*f,c-=f,s-=f;var v=new o.SceneCanvas({pixelRatio:u,width:i,height:a}),g=new o.SceneCanvas({pixelRatio:u,width:0,height:0}),m=new o.HitCanvas({pixelRatio:1,width:i,height:a}),y=v.getContext(),b=m.getContext();return m.isCache=!0,v.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(v.getContext()._context.imageSmoothingEnabled=!1,g.getContext()._context.imageSmoothingEnabled=!1),y.save(),b.save(),y.translate(-c,-s),b.translate(-c,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(d),this.drawScene(v,this),this.drawHit(m,this),this._isUnderCache=!1,y.restore(),b.restore(),p&&(y.save(),y.beginPath(),y.rect(0,0,i,a),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),this._cache.set(h,{scene:v,filter:g,hit:m,x:c,y:s}),this}r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var n,r,i,o,a=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],u=this.getAbsoluteTransform(e);return a.forEach((function(t){var e=u.point(t);void 0===n&&(n=i=e.x,r=o=e.y),n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y)})),{x:n,y:r,width:i-n,height:o-r}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/r,n.height/r),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,n,i,o=this.filters(),a=this._getCanvasCache(),u=a.scene,c=a.filter,l=c.getContext();if(o){if(!this._filterUpToDate){var s=u.pixelRatio;c.setSize(u.width/u.pixelRatio,u.height/u.pixelRatio);try{for(t=o.length,l.clear(),l.drawImage(u._canvas,0,0,u.getWidth()/s,u.getHeight()/s),e=l.getImageData(0,0,c.getWidth(),c.getHeight()),n=0;n<t;n++)"function"==typeof(i=o[n])?(i.call(this,e),l.putImageData(e,0,0)):r.Util.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(t){r.Util.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return c}return u},t.prototype.on=function(t,e){if(this._cache&&this._cache.delete(s),3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,o,a=t.split(y),u=a.length;for(n=0;n<u;n++)i=(r=a[n].split("."))[0],o=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:e});return this},t.prototype.off=function(t,e){var n,r,i,o,a,u=(t||"").split(y),c=u.length;if(this._cache&&this._cache.delete(s),!t)for(r in this.eventListeners)this._off(r);for(n=0;n<c;n++)if(o=(i=u[n].split("."))[0],a=i[1],o)this.eventListeners[o]&&this._off(o,a,e);else for(r in this.eventListeners)this._off(r,a,e);return this},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,n){var i=this;this.on(t,(function(t){for(var o=t.target.findAncestors(e,!0,i),a=0;a<o.length;a++)(t=r.Util.cloneObject(t)).currentTarget=o[a],n.call(o[a],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),u.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._clearCaches=function(){this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(b),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(p)},t.prototype._remove=function(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),n=0;n<t.length;n++){var r=t[n];e._removeName(r,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+r.Util._capitalize(t);return r.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new r.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e=this;return this._batchTransformChanges((function(){var n,i;if(!t)return e;for(n in t)"children"!==n&&(i="set"+r.Util._capitalize(n),r.Util._isFunction(e[i])?e[i](t[n]):e._setAttr(n,t[n]))})),this},t.prototype.isListening=function(){return this._getCache(p,this._isListening)},t.prototype._isListening=function(t){if(!this.listening())return!1;var e=this.getParent();return!e||e===t||this===t||e._isListening(t)},t.prototype.isVisible=function(){return this._getCache(x,this._isVisible)},t.prototype._isVisible=function(t){if(!this.visible())return!1;var e=this.getParent();return!e||e===t||this===t||e._isVisible(t)},t.prototype.shouldDrawHit=function(t,e){if(void 0===e&&(e=!1),t)return this._isVisible(t)&&this._isListening(t);var n=this.getLayer(),r=!1;u.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===n)&&(r=!0)}));var i=!e&&!a.Konva.hitOnDragEnabled&&r;return this.isListening()&&this.isVisible()&&!i},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,n,r,i=this.getDepth(),o=this,a=0;return"Stage"!==o.nodeType&&function u(c){for(t=[],e=c.length,n=0;n<e;n++)r=c[n],a++,r.nodeType!==m&&(t=t.concat(r.getChildren().toArray())),r._id===o._id&&(n=e);t.length>0&&t[0].getDepth()<=i&&u(t)}(o.getStage().getChildren()),a},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype._batchTransformChanges=function(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(f,!0)),this._needClearTransformCache=!1},t.prototype.setPosition=function(t){var e=this;return this._batchTransformChanges((function(){e.x(t.x),e.y(t.y)})),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){for(var e=!1,n=this.parent;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),o=new r.Transform,a=this.offset();return o.m=i.slice(),o.translate(a.x,a.y),o.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(C);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(t.x,t.y),t={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(C),this._clearSelfAndDescendantCache(f),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e]},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t},t.prototype.move=function(t){var e=t.x,n=t.y,r=this.x(),i=this.y();return void 0!==e&&(r+=e),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this},t.prototype._eachAncestorReverse=function(t,e){var n,r,i=[],o=this.getParent();if(!e||e._id!==this._id){for(i.unshift(this);o&&(!e||o._id!==e._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)t(i[r])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&r.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache(l,this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,n,i,o={},a=this.getAttrs();for(t in o.attrs={},a)e=a[t],r.Util.isObject(e)&&!r.Util._isPlainObject(e)&&!r.Util._isArray(e)||(n="function"==typeof this[t]&&this[t],delete a[t],i=n?n.call(this):null,a[t]=e,i!==e&&(o.attrs[t]=e));return o.className=this.getClassName(),r.Util._prepareToStringify(o)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,n){var r=[];e&&this._isMatch(t)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(t)&&r.push(i),i=i.parent}return r},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,n){return this.findAncestors(t,e,n)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,n,i=t.replace(/ /g,"").split(","),o=i.length;for(e=0;e<o;e++)if(n=i[e],r.Util.isValidSelector(n)||(r.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache(b,this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,n){return void 0===e&&(e={}),e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(f,this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e;if(t)return e=new r.Transform,this._eachAncestorReverse((function(t){var n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(f)||new r.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var n=this.transformsEnabled();if("all"===n)e.multiply(this.getTransform());else if("position"===n){var i=this.attrs.x||0,o=this.attrs.y||0,a=this.attrs.offsetX||0,u=this.attrs.offsetY||0;e.translate(i-a,o-u)}return e.dirty=!1,e},t.prototype.getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}},t.prototype.getAbsoluteRotation=function(){return this.getAbsoluteTransform().decompose().rotation},t.prototype.getTransform=function(){return this._getCache(C,this._getTransform)},t.prototype._getTransform=function(){var t,e,n=this._cache.get(C)||new r.Transform;n.reset();var i=this.x(),o=this.y(),u=a.Konva.getAngle(this.rotation()),c=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,l=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,s=this.attrs.skewX||0,f=this.attrs.skewY||0,d=this.attrs.offsetX||0,h=this.attrs.offsetY||0;return 0===i&&0===o||n.translate(i,o),0!==u&&n.rotate(u),0===s&&0===f||n.skew(s,f),1===c&&1===l||n.scale(c,l),0===d&&0===h||n.translate(-1*d,-1*h),n.dirty=!1,n},t.prototype.clone=function(t){var e,n,i,o,a,u=r.Util.cloneObject(this.attrs);for(e in t)u[e]=t[e];var c=new this.constructor(u);for(e in this.eventListeners)for(i=(n=this.eventListeners[e]).length,o=0;o<i;o++)(a=n[o]).name.indexOf("konva")<0&&(c.eventListeners[e]||(c.eventListeners[e]=[]),c.eventListeners[e].push(a));return c},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),r=void 0!==t.x?t.x:e.x,i=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,u=new o.SceneCanvas({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:a}),c=u.getContext();return c.save(),(r||i)&&c.translate(-1*r,-1*i),this.drawScene(u),c.restore(),u},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(r),r},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,r.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.Konva.dragDistance},t.prototype._off=function(t,e,n){var r,i,o,a=this.eventListeners[t];for(r=0;r<a.length;r++)if(i=a[r].name,o=a[r].handler,!("konva"===i&&"konva"!==e||e&&i!==e||n&&n!==o)){if(a.splice(r,1),0===a.length){delete this.eventListeners[t];break}r--}},t.prototype._fireChangeEvent=function(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})},t.prototype.setId=function(t){var n=this.id();return e._removeId(n,this),function(t,n){n&&(e.ids[n]=t)}(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var n,r,i=(this.name()||"").split(/\s/g),o=(t||"").split(/\s/g);for(r=0;r<i.length;r++)n=i[r],-1===o.indexOf(n)&&n&&e._removeName(n,this._id);for(r=0;r<o.length;r++)n=o[r],-1===i.indexOf(n)&&n&&e._addName(this,n);return this._setAttr("name",t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var n=this["set"+r.Util._capitalize(t)];return r.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e,n){void 0===n&&(n=!1);var i=this.attrs[t];(i!==e||r.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,e))},t.prototype._setComponentAttr=function(t,e,n){var r;void 0!==n&&((r=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,r,n))},t.prototype._fireAndBubble=function(t,e,n){if(e&&this.nodeType===m&&(e.target=this),!((t===v||t===g)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(t,e);var r=(t===v||t===g)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._getProtoListeners=function(t){var e=this._cache.get(s);if(!e){e={};for(var n=Object.getPrototypeOf(this);n;)if(n.eventListeners){for(var r in n.eventListeners){var i=n.eventListeners[r],o=e[r]||[];e[r]=i.concat(o)}n=Object.getPrototypeOf(n)}else n=Object.getPrototypeOf(n);this._cache.set(s,e)}return e[t]},t.prototype._fire=function(t,e){(e=e||{}).currentTarget=this,e.type=t;var n=this._getProtoListeners(t);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,e);var i=this.eventListeners[t];if(i)for(r=0;r<i.length;r++)i[r].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(e)||n._changedPointerPositions[0]||r;u.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:e})},t.prototype.startDrag=function(t,e){void 0===e&&(e=!0),u.DD._dragElements.has(this._id)||this._createDragElement(t),u.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)},t.prototype._setDragPosition=function(t,e){var n=this.getStage()._getPointerById(e.pointerId);if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y},o=this.dragBoundFunc();if(void 0!==o){var a=o.call(this,i,t);a?i=a:r.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=i}},t.prototype.stopDrag=function(t){var e=u.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),u.DD._endDragBefore(t),u.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=u.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((!(void 0!==t.evt.button)||a.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var n=!1;u.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(n=!0)})),n||this._createDragElement(t)}}))},t.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;var t=u.DD._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,n=t&&"ready"===t.dragStatus;e?this.stopDrag():n&&u.DD._dragElements.delete(this._id)}},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return r.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,n){var i,o,u,c=t.prototype.getClassName.call(e),l=e.children;if(n&&(e.attrs.container=n),a._NODES_REGISTRY[c]||(r.Util.warn('Can not find a node with class name "'+c+'". Fallback to "Shape".'),c="Shape"),i=new(0,a._NODES_REGISTRY[c])(e.attrs),l)for(o=l.length,u=0;u<o;u++)i.add(t._createNode(l[u]));return i},t}();e.Node=k,k.prototype.nodeType="Node",k.prototype._attrsAffectingSize=[],k.prototype.eventListeners={},k.prototype.on.call(k.prototype,w,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(C),this._clearSelfAndDescendantCache(f))})),k.prototype.on.call(k.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(x)})),k.prototype.on.call(k.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(p)})),k.prototype.on.call(k.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(l)}));var D=i.Factory.addGetterSetter;D(k,"zIndex"),D(k,"absolutePosition"),D(k,"position"),D(k,"x",0,c.getNumberValidator()),D(k,"y",0,c.getNumberValidator()),D(k,"globalCompositeOperation","source-over",c.getStringValidator()),D(k,"opacity",1,c.getNumberValidator()),D(k,"name","",c.getStringValidator()),D(k,"id","",c.getStringValidator()),D(k,"rotation",0,c.getNumberValidator()),i.Factory.addComponentsGetterSetter(k,"scale",["x","y"]),D(k,"scaleX",1,c.getNumberValidator()),D(k,"scaleY",1,c.getNumberValidator()),i.Factory.addComponentsGetterSetter(k,"skew",["x","y"]),D(k,"skewX",0,c.getNumberValidator()),D(k,"skewY",0,c.getNumberValidator()),i.Factory.addComponentsGetterSetter(k,"offset",["x","y"]),D(k,"offsetX",0,c.getNumberValidator()),D(k,"offsetY",0,c.getNumberValidator()),D(k,"dragDistance",null,c.getNumberValidator()),D(k,"width",0,c.getNumberValidator()),D(k,"height",0,c.getNumberValidator()),D(k,"listening",!0,c.getBooleanValidator()),D(k,"preventDefault",!0,c.getBooleanValidator()),D(k,"filters",null,(function(t){return this._filterUpToDate=!1,t})),D(k,"visible",!0,c.getBooleanValidator()),D(k,"transformsEnabled","all",c.getStringValidator()),D(k,"size"),D(k,"dragBoundFunc"),D(k,"draggable",!1,c.getBooleanValidator()),i.Factory.backCompat(k,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),r.Collection.mapMethods(k)},97132:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.releaseCapture=e.setPointerCapture=e.hasPointerCapture=e.createEvent=e.getCapturedShape=void 0;var r=n(4880),i=new Map,o=void 0!==r.Konva._global.PointerEvent;function a(t){return{evt:t,pointerId:t.pointerId}}function u(t,e){var n=i.get(t);if(n){var r=n.getStage();r&&r.content,i.delete(t),o&&n._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}}e.getCapturedShape=function(t){return i.get(t)},e.createEvent=a,e.hasPointerCapture=function(t,e){return i.get(t)===e},e.setPointerCapture=function(t,e){u(t),e.getStage()&&(i.set(t,e),o&&e._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))},e.releaseCapture=u},27668:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;var o,a=n(90240),u=n(28176),c=n(47876),l=n(36e3),s=n(4880),f=n(97132),d="hasShadow",h="shadowRGBA",p="patternImage",v="linearGradient",g="radialGradient";function m(){return o||(o=a.Util.createCanvasElement().getContext("2d"))}e.shapes={};var y=function(t){function n(n){for(var r,i=t.call(this,n)||this;!(r=a.Util.getRandomColor())||r in e.shapes;);return i.colorKey=r,e.shapes[r]=i,i}return i(n,t),n.prototype.getContext=function(){return this.getLayer().getContext()},n.prototype.getCanvas=function(){return this.getLayer().getCanvas()},n.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},n.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},n.prototype.hasShadow=function(){return this._getCache(d,this._hasShadow)},n.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},n.prototype._getFillPattern=function(){return this._getCache(p,this.__getFillPattern)},n.prototype.__getFillPattern=function(){if(this.fillPatternImage()){var t=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");return t&&t.setTransform&&t.setTransform({a:this.fillPatternScaleX(),b:0,c:0,d:this.fillPatternScaleY(),e:0,f:0}),t}},n.prototype._getLinearGradient=function(){return this._getCache(v,this.__getLinearGradient)},n.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=m(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=e.createLinearGradient(n.x,n.y,r.x,r.y),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},n.prototype._getRadialGradient=function(){return this._getCache(g,this.__getRadialGradient)},n.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=m(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},n.prototype.getShadowRGBA=function(){return this._getCache(h,this._getShadowRGBA)},n.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=a.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},n.prototype.hasFill=function(){var t=this;return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(function(){return t.fillEnabled()&&!!(t.fill()||t.fillPatternImage()||t.fillLinearGradientColorStops()||t.fillRadialGradientColorStops())}))},n.prototype.hasStroke=function(){var t=this;return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(function(){return t.strokeEnabled()&&t.strokeWidth()&&!(!t.stroke()&&!t.strokeLinearGradientColorStops())}))},n.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t},n.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},n.prototype.destroy=function(){return c.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},n.prototype._useBufferCanvas=function(t){var e;if(!this.getStage())return!1;if(!(null===(e=this.attrs.perfectDrawEnabled)||void 0===e||e))return!1;var n=t||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;var o=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(n&&r&&o&&a)},n.prototype.setStrokeHitEnabled=function(t){a.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},n.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},n.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}},n.prototype.getClientRect=function(t){void 0===t&&(t={});var e=t.skipTransform,n=t.relativeTo,r=this.getSelfRect(),i=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=r.width+i,a=r.height+i,u=!t.skipShadow&&this.hasShadow(),c=u?this.shadowOffsetX():0,l=u?this.shadowOffsetY():0,s=o+Math.abs(c),f=a+Math.abs(l),d=u&&this.shadowBlur()||0,h=s+2*d,p=f+2*d,v=0;Math.round(i/2)!==i/2&&(v=1);var g={width:h+v,height:p+v,x:-Math.round(i/2+d)+Math.min(c,0)+r.x,y:-Math.round(i/2+d)+Math.min(l,0)+r.y};return e?g:this._transformedRect(g,n)},n.prototype.drawScene=function(t,e){var n,r,i=this.getLayer(),o=t||i.getCanvas(),a=o.getContext(),u=this._getCanvasCache(),c=this.getSceneFunc(),l=this.hasShadow(),s=o.isCache,f=o.isCache,d=e===this;if(!this.isVisible()&&!s)return this;if(u){a.save();var h=this.getAbsoluteTransform(e).getMatrix();return a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!c)return this;if(a.save(),this._useBufferCanvas()&&!f){(r=(n=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this);var p=this.getAbsoluteTransform(e).getMatrix();r.transform(p[0],p[1],p[2],p[3],p[4],p[5]),c.call(this,r,this),r.restore();var v=n.pixelRatio;l&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(n._canvas,0,0,n.width/v,n.height/v)}else{if(a._applyLineJoin(this),!d){p=this.getAbsoluteTransform(e).getMatrix();a.transform(p[0],p[1],p[2],p[3],p[4],p[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}l&&a._applyShadow(this),c.call(this,a,this)}return a.restore(),this},n.prototype.drawHit=function(t,e,n){if(void 0===n&&(n=!1),!this.shouldDrawHit(e,n))return this;var r=this.getLayer(),i=t||r.hitCanvas,o=i&&i.getContext(),u=this.hitFunc()||this.sceneFunc(),c=this._getCanvasCache(),l=c&&c.hit;if(this.colorKey||a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()"),l){o.save();var s=this.getAbsoluteTransform(e).getMatrix();return o.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!u)return this;if(o.save(),o._applyLineJoin(this),!(this===e)){var f=this.getAbsoluteTransform(e).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5])}return u.call(this,o,this),o.restore(),this},n.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,n,r,i,o,u=this._getCanvasCache(),c=this._getCachedSceneCanvas(),l=u.hit,s=l.getContext(),f=l.getWidth(),d=l.getHeight();s.clear(),s.drawImage(c._canvas,0,0,f,d);try{for(r=(n=(e=s.getImageData(0,0,f,d)).data).length,i=a.Util._hexToRgb(this.colorKey),o=0;o<r;o+=4)n[o+3]>t?(n[o]=i.r,n[o+1]=i.g,n[o+2]=i.b,n[o+3]=255):n[o+3]=0;s.putImageData(e,0,0)}catch(t){a.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this},n.prototype.hasPointerCapture=function(t){return f.hasPointerCapture(t,this)},n.prototype.setPointerCapture=function(t){f.setPointerCapture(t,this)},n.prototype.releaseCapture=function(t){f.releaseCapture(t,this)},n}(c.Node);e.Shape=y,y.prototype._fillFunc=function(t){t.fill()},y.prototype._strokeFunc=function(t){t.stroke()},y.prototype._fillFuncHit=function(t){t.fill()},y.prototype._strokeFuncHit=function(t){t.stroke()},y.prototype._centroid=!1,y.prototype.nodeType="Shape",s._registerNode(y),y.prototype.eventListeners={},y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(d)})),y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(h)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",(function(){this._clearCache(p)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(v)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(g)})),u.Factory.addGetterSetter(y,"stroke",void 0,l.getStringOrGradientValidator()),u.Factory.addGetterSetter(y,"strokeWidth",2,l.getNumberValidator()),u.Factory.addGetterSetter(y,"fillAfterStrokeEnabled",!1),u.Factory.addGetterSetter(y,"hitStrokeWidth","auto",l.getNumberOrAutoValidator()),u.Factory.addGetterSetter(y,"strokeHitEnabled",!0,l.getBooleanValidator()),u.Factory.addGetterSetter(y,"perfectDrawEnabled",!0,l.getBooleanValidator()),u.Factory.addGetterSetter(y,"shadowForStrokeEnabled",!0,l.getBooleanValidator()),u.Factory.addGetterSetter(y,"lineJoin"),u.Factory.addGetterSetter(y,"lineCap"),u.Factory.addGetterSetter(y,"sceneFunc"),u.Factory.addGetterSetter(y,"hitFunc"),u.Factory.addGetterSetter(y,"dash"),u.Factory.addGetterSetter(y,"dashOffset",0,l.getNumberValidator()),u.Factory.addGetterSetter(y,"shadowColor",void 0,l.getStringValidator()),u.Factory.addGetterSetter(y,"shadowBlur",0,l.getNumberValidator()),u.Factory.addGetterSetter(y,"shadowOpacity",1,l.getNumberValidator()),u.Factory.addComponentsGetterSetter(y,"shadowOffset",["x","y"]),u.Factory.addGetterSetter(y,"shadowOffsetX",0,l.getNumberValidator()),u.Factory.addGetterSetter(y,"shadowOffsetY",0,l.getNumberValidator()),u.Factory.addGetterSetter(y,"fillPatternImage"),u.Factory.addGetterSetter(y,"fill",void 0,l.getStringOrGradientValidator()),u.Factory.addGetterSetter(y,"fillPatternX",0,l.getNumberValidator()),u.Factory.addGetterSetter(y,"fillPatternY",0,l.getNumberValidator()),u.Factory.addGetterSetter(y,"fillLinearGradientColorStops"),u.Factory.addGetterSetter(y,"strokeLinearGradientColorStops"),u.Factory.addGetterSetter(y,"fillRadialGradientStartRadius",0),u.Factory.addGetterSetter(y,"fillRadialGradientEndRadius",0),u.Factory.addGetterSetter(y,"fillRadialGradientColorStops"),u.Factory.addGetterSetter(y,"fillPatternRepeat","repeat"),u.Factory.addGetterSetter(y,"fillEnabled",!0),u.Factory.addGetterSetter(y,"strokeEnabled",!0),u.Factory.addGetterSetter(y,"shadowEnabled",!0),u.Factory.addGetterSetter(y,"dashEnabled",!0),u.Factory.addGetterSetter(y,"strokeScaleEnabled",!0),u.Factory.addGetterSetter(y,"fillPriority","color"),u.Factory.addComponentsGetterSetter(y,"fillPatternOffset",["x","y"]),u.Factory.addGetterSetter(y,"fillPatternOffsetX",0,l.getNumberValidator()),u.Factory.addGetterSetter(y,"fillPatternOffsetY",0,l.getNumberValidator()),u.Factory.addComponentsGetterSetter(y,"fillPatternScale",["x","y"]),u.Factory.addGetterSetter(y,"fillPatternScaleX",1,l.getNumberValidator()),u.Factory.addGetterSetter(y,"fillPatternScaleY",1,l.getNumberValidator()),u.Factory.addComponentsGetterSetter(y,"fillLinearGradientStartPoint",["x","y"]),u.Factory.addComponentsGetterSetter(y,"strokeLinearGradientStartPoint",["x","y"]),u.Factory.addGetterSetter(y,"fillLinearGradientStartPointX",0),u.Factory.addGetterSetter(y,"strokeLinearGradientStartPointX",0),u.Factory.addGetterSetter(y,"fillLinearGradientStartPointY",0),u.Factory.addGetterSetter(y,"strokeLinearGradientStartPointY",0),u.Factory.addComponentsGetterSetter(y,"fillLinearGradientEndPoint",["x","y"]),u.Factory.addComponentsGetterSetter(y,"strokeLinearGradientEndPoint",["x","y"]),u.Factory.addGetterSetter(y,"fillLinearGradientEndPointX",0),u.Factory.addGetterSetter(y,"strokeLinearGradientEndPointX",0),u.Factory.addGetterSetter(y,"fillLinearGradientEndPointY",0),u.Factory.addGetterSetter(y,"strokeLinearGradientEndPointY",0),u.Factory.addComponentsGetterSetter(y,"fillRadialGradientStartPoint",["x","y"]),u.Factory.addGetterSetter(y,"fillRadialGradientStartPointX",0),u.Factory.addGetterSetter(y,"fillRadialGradientStartPointY",0),u.Factory.addComponentsGetterSetter(y,"fillRadialGradientEndPoint",["x","y"]),u.Factory.addGetterSetter(y,"fillRadialGradientEndPointX",0),u.Factory.addGetterSetter(y,"fillRadialGradientEndPointY",0),u.Factory.addGetterSetter(y,"fillPatternRotation",0),u.Factory.backCompat(y,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),a.Collection.mapMethods(y)},15964:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;var o=n(90240),a=n(28176),u=n(21363),c=n(4880),l=n(49688),s=n(71624),f=n(4880),d=n(97132),h="mouseout",p="mouseleave",v="mouseover",g="mouseenter",m="mousemove",y="mousedown",b="mouseup",C="pointermove",x="pointerdown",w="pointerup",E="contextmenu",S="click",k="dblclick",D="touchstart",A="touchend",I="dbltap",M="touchmove",T="wheel",B=[g,y,m,b,p,D,M,A,v,T,E,x,C,w,"pointercancel","lostpointercapture"],F=B.length;function L(t,e){t.content.addEventListener(e,(function(n){t["_"+e](n)}),!1)}function R(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&o.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var _=function(t){function n(n){var r=t.call(this,R(n))||this;return r._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),e.stages.push(r),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){R(r.attrs)})),r._checkVisibility(),r}return i(n,t),n.prototype._validateAdd=function(t){var e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||o.Util.throw("You may only add layers to the stage.")},n.prototype._checkVisibility=function(){if(this.content){var t=this.visible()?"":"none";this.content.style.display=t}},n.prototype.setContainer=function(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},n.prototype.shouldDrawHit=function(){return!0},n.prototype.clear=function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},n.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),u.Container.prototype.clone.call(this,t)},n.prototype.destroy=function(){t.prototype.destroy.call(this);var n=this.content;n&&o.Util._isInDocument(n)&&this.container().removeChild(n);var r=e.stages.indexOf(this);return r>-1&&e.stages.splice(r,1),this},n.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(o.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)},n.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},n.prototype.getPointersPositions=function(){return this._pointerPositions},n.prototype.getStage=function(){return this},n.prototype.getContent=function(){return this.content},n.prototype._toKonvaCanvas=function(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new l.SceneCanvas({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),n=e.getContext()._context,r=this.children;return(t.x||t.y)&&n.translate(-1*t.x,-1*t.y),r.each((function(e){if(e.isVisible()){var r=e._toKonvaCanvas(t);n.drawImage(r._canvas,t.x,t.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}})),e},n.prototype.getIntersection=function(t,e){if(!t)return null;var n,r,i=this.children;for(n=i.length-1;n>=0;n--)if(r=i[n].getIntersection(t,e))return r;return null},n.prototype._resizeDOM=function(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.each((function(n){n.setSize({width:t,height:e}),n.draw()}))},n.prototype.add=function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}t.prototype.add.call(this,e);var r=this.children.length;return r>5&&o.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),c.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},n.prototype.getParent=function(){return null},n.prototype.getLayer=function(){return null},n.prototype.hasPointerCapture=function(t){return d.hasPointerCapture(t,this)},n.prototype.setPointerCapture=function(t){d.setPointerCapture(t,this)},n.prototype.releaseCapture=function(t){d.releaseCapture(t,this)},n.prototype.getLayers=function(){return this.getChildren()},n.prototype._bindContentEvents=function(){if(c.Konva.isBrowser)for(var t=0;t<F;t++)L(this,B[t])},n.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire(g,{evt:t,target:this,currentTarget:this})},n.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire(v,{evt:t,target:this,currentTarget:this})},n.prototype._mouseleave=function(t){var e;this.setPointersPositions(t);var n=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,r=!s.DD.isDragging||c.Konva.hitOnDragEnabled;n&&r?(n._fireAndBubble(h,{evt:t}),n._fireAndBubble(p,{evt:t}),this._fire(p,{evt:t,target:this,currentTarget:this}),this.targetShape=null):r&&(this._fire(p,{evt:t,target:this,currentTarget:this}),this._fire(h,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},n.prototype._mousemove=function(t){var e;if(c.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var n,r=o.Util._getFirstPointerId(t),i=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,a=!s.DD.isDragging||c.Konva.hitOnDragEnabled;if(a){if((n=this.getIntersection(this.getPointerPosition()))&&n.isListening())a&&i!==n?(i&&(i._fireAndBubble(h,{evt:t,pointerId:r},n),i._fireAndBubble(p,{evt:t,pointerId:r},n)),n._fireAndBubble(v,{evt:t,pointerId:r},i),n._fireAndBubble(g,{evt:t,pointerId:r},i),n._fireAndBubble(m,{evt:t,pointerId:r}),this.targetShape=n):n._fireAndBubble(m,{evt:t,pointerId:r});else i&&a&&(i._fireAndBubble(h,{evt:t,pointerId:r}),i._fireAndBubble(p,{evt:t,pointerId:r}),this._fire(v,{evt:t,target:this,currentTarget:this,pointerId:r}),this.targetShape=null),this._fire(m,{evt:t,target:this,currentTarget:this,pointerId:r});this._fire("contentMousemove",{evt:t})}t.cancelable&&t.preventDefault()},n.prototype._mousedown=function(t){if(c.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=o.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition());s.DD.justDragged=!1,c.Konva.listenClickTap=!0,n&&n.isListening()?(this.clickStartShape=n,n._fireAndBubble(y,{evt:t,pointerId:e})):this._fire(y,{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},n.prototype._mouseup=function(t){if(c.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=o.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,i=this.clickEndShape,a=!1;c.Konva.inDblClickWindow?(a=!0,clearTimeout(this.dblTimeout)):s.DD.justDragged||(c.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){c.Konva.inDblClickWindow=!1}),c.Konva.dblClickWindow),n&&n.isListening()?(this.clickEndShape=n,n._fireAndBubble(b,{evt:t,pointerId:e}),c.Konva.listenClickTap&&r&&r._id===n._id&&(n._fireAndBubble(S,{evt:t,pointerId:e}),a&&i&&i===n&&n._fireAndBubble(k,{evt:t,pointerId:e}))):(this.clickEndShape=null,this._fire(b,{evt:t,target:this,currentTarget:this,pointerId:e}),c.Konva.listenClickTap&&this._fire(S,{evt:t,target:this,currentTarget:this,pointerId:e}),a&&this._fire(k,{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),c.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),a&&this._fire("contentDblclick",{evt:t})),c.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},n.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(E,{evt:t}):this._fire(E,{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},n.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var n=!1;this._changedPointerPositions.forEach((function(r){var i=e.getIntersection(r);c.Konva.listenClickTap=!0,s.DD.justDragged=!1,i&&i.isListening()&&(c.Konva.captureTouchEventsEnabled&&i.setPointerCapture(r.id),e.tapStartShape=i,i._fireAndBubble(D,{evt:t,pointerId:r.id},e),n=!0,i.isListening()&&i.preventDefault()&&t.cancelable&&t.preventDefault())})),n||this._fire(D,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},n.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!s.DD.isDragging||c.Konva.hitOnDragEnabled){var n=!1,r={};this._changedPointerPositions.forEach((function(i){var o=d.getCapturedShape(i.id)||e.getIntersection(i);o&&o.isListening()&&(r[o._id]||(r[o._id]=!0,o._fireAndBubble(M,{evt:t,pointerId:i.id}),n=!0,o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),n||this._fire(M,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}s.DD.isDragging&&s.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},n.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var n=this.tapEndShape,r=!1;c.Konva.inDblClickWindow?(r=!0,clearTimeout(this.dblTimeout)):s.DD.justDragged||(c.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){c.Konva.inDblClickWindow=!1}),c.Konva.dblClickWindow);var i=!1,o={},a=!1,u=!1;this._changedPointerPositions.forEach((function(l){var s=d.getCapturedShape(l.id)||e.getIntersection(l);s&&s.releaseCapture(l.id),s&&s.isListening()&&(o[s._id]||(o[s._id]=!0,e.tapEndShape=s,s._fireAndBubble(A,{evt:t,pointerId:l.id}),i=!0,c.Konva.listenClickTap&&s===e.tapStartShape&&(a=!0,s._fireAndBubble("tap",{evt:t,pointerId:l.id}),r&&n&&n===s&&(u=!0,s._fireAndBubble(I,{evt:t,pointerId:l.id}))),s.isListening()&&s.preventDefault()&&t.cancelable&&t.preventDefault()))})),i||this._fire(A,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),c.Konva.listenClickTap&&!a&&(this.tapEndShape=null,this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})),r&&!u&&this._fire(I,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),c.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),r&&this._fire("contentDbltap",{evt:t})),this.preventDefault()&&t.cancelable&&t.preventDefault(),c.Konva.listenClickTap=!1},n.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(T,{evt:t}):this._fire(T,{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},n.prototype._pointerdown=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(x,d.createEvent(t))}},n.prototype._pointermove=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(C,d.createEvent(t))}},n.prototype._pointerup=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(w,d.createEvent(t)),d.releaseCapture(t.pointerId)}},n.prototype._pointercancel=function(t){if(c.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(w,d.createEvent(t)),d.releaseCapture(t.pointerId)}},n.prototype._lostpointercapture=function(t){d.releaseCapture(t.pointerId)},n.prototype.setPointersPositions=function(t){var e=this,n=this._getContentPosition(),r=null,i=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],o.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})})),o.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})}))):(r=(t.clientX-n.left)/n.scaleX,i=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:o.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:i,id:o.Util._getFirstPointerId(t)}])},n.prototype._setPointerPosition=function(t){o.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},n.prototype._getContentPosition=function(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},n.prototype._buildDOM=function(){if(this.bufferCanvas=new l.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new l.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),c.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},n.prototype.cache=function(){return o.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},n.prototype.clearCache=function(){return this},n.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},n}(u.Container);e.Stage=_,_.prototype.nodeType="Stage",f._registerNode(_),a.Factory.addGetterSetter(_,"container")},87216:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;var r=n(90240),i=n(7072),o=n(47876),a=n(4880),u={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=0,l=["fill","stroke","shadowColor"],s=function(){function t(t,e,n,r,i,o,a){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),f=function(){function t(n){var o,l,f=this,d=n.node,h=d._id,p=n.easing||e.Easings.Linear,v=!!n.yoyo;o=void 0===n.duration?.3:0===n.duration?.001:n.duration,this.node=d,this._id=c++;var g=d.getLayer()||(d instanceof a.Konva.Stage?d.getLayers():null);for(l in g||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation((function(){f.tween.onEnterFrame()}),g),this.tween=new s(l,(function(t){f._tweenFunc(t)}),p,0,1,1e3*o,v),this._addListeners(),t.attrs[h]||(t.attrs[h]={}),t.attrs[h][this._id]||(t.attrs[h][this._id]={}),t.tweens[h]||(t.tweens[h]={}),n)void 0===u[l]&&this._addAttr(l,n[l]);this.reset(),this.onFinish=n.onFinish,this.onReset=n.onReset,this.onUpdate=n.onUpdate}return t.prototype._addAttr=function(e,n){var i,o,a,u,c,s,f,d,h=this.node,p=h._id;if((a=t.tweens[p][e])&&delete t.attrs[p][a][e],i=h.getAttr(e),r.Util._isArray(n))if(o=[],c=Math.max(n.length,i.length),"points"===e&&n.length!==i.length&&(n.length>i.length?(f=i,i=r.Util._prepareArrayForTween(i,n,h.closed())):(s=n,n=r.Util._prepareArrayForTween(n,i,h.closed()))),0===e.indexOf("fill"))for(u=0;u<c;u++)if(u%2==0)o.push(n[u]-i[u]);else{var v=r.Util.colorToRGBA(i[u]);d=r.Util.colorToRGBA(n[u]),i[u]=v,o.push({r:d.r-v.r,g:d.g-v.g,b:d.b-v.b,a:d.a-v.a})}else for(u=0;u<c;u++)o.push(n[u]-i[u]);else-1!==l.indexOf(e)?(i=r.Util.colorToRGBA(i),o={r:(d=r.Util.colorToRGBA(n)).r-i.r,g:d.g-i.g,b:d.b-i.b,a:d.a-i.a}):o=n-i;t.attrs[p][this._id][e]={start:i,diff:o,end:n,trueEnd:s,trueStart:f},t.tweens[p][e]=this._id},t.prototype._tweenFunc=function(e){var n,i,o,a,u,c,s,f,d=this.node,h=t.attrs[d._id][this._id];for(n in h){if(o=(i=h[n]).start,a=i.diff,f=i.end,r.Util._isArray(o))if(u=[],s=Math.max(o.length,f.length),0===n.indexOf("fill"))for(c=0;c<s;c++)c%2==0?u.push((o[c]||0)+a[c]*e):u.push("rgba("+Math.round(o[c].r+a[c].r*e)+","+Math.round(o[c].g+a[c].g*e)+","+Math.round(o[c].b+a[c].b*e)+","+(o[c].a+a[c].a*e)+")");else for(c=0;c<s;c++)u.push((o[c]||0)+a[c]*e);else u=-1!==l.indexOf(n)?"rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":o+a*e;d.setAttr(n,u)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var n=e.node,r=t.attrs[n._id][e._id];r.points&&r.points.trueEnd&&n.setAttr("points",r.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var n=e.node,r=t.attrs[n._id][e._id];r.points&&r.points.trueStart&&n.points(r.points.trueStart),e.onReset&&e.onReset()},this.tween.onUpdate=function(){e.onUpdate&&e.onUpdate.call(e)}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,n=this.node._id,r=this._id,i=t.tweens[n];for(e in this.pause(),i)delete t.tweens[n][e];delete t.attrs[n][r]},t.attrs={},t.tweens={},t}();e.Tween=f,o.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new f(t).play()},e.Easings={BackEaseIn:function(t,e,n,r){var i=1.70158;return n*(t/=r)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,n,r){var i=1.70158;return n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn:function(t,e,n,r,i,o){var a=0;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)+e)},ElasticEaseOut:function(t,e,n,r,i,o){var a=0;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+n+e)},ElasticEaseInOut:function(t,e,n,r,i,o){var a=0;return 0===t?e:2==(t/=r/2)?e+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+n+e)},BounceEaseOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,n,r,i){return r-e.Easings.BounceEaseOut(i-t,0,r,i)+n},BounceEaseInOut:function(t,n,r,i){return t<i/2?.5*e.Easings.BounceEaseIn(2*t,0,r,i)+n:.5*e.Easings.BounceEaseOut(2*t-i,0,r,i)+.5*r+n},EaseIn:function(t,e,n,r){return n*(t/=r)*t+e},EaseOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,r){return n*t/r+e}}},90240:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=e.Collection=void 0;var r=n(4880),i=function(){function t(){}return t.toCollection=function(e){var n,r=new t,i=e.length;for(n=0;n<i;n++)r.push(e[n]);return r},t._mapMethod=function(e){t.prototype[e]=function(){var t,n=this.length,r=[].slice.call(arguments);for(t=0;t<n;t++)this[t][e].apply(this[t],r);return this}},t.mapMethods=function(e){var n=e.prototype;for(var r in n)t._mapMethod(r)},t}();e.Collection=i,i.prototype=[],i.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},i.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e};var o=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.reset=function(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0},t.prototype.copy=function(){return new t(this.m)},t.prototype.copyInto=function(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,o=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=a,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var n=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,o=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,r=-this.m[2]*t,i=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var n=this.m[0],r=this.m[1],i=this.m[2],o=this.m[3],a=this.m[4],u=(n*(e-this.m[5])-r*(t-a))/(n*o-r*i),c=(t-a-i*u)/n;return this.translate(c,u)},t.prototype.decompose=function(){var t=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],o=t*i-n*r,a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=n){var u=Math.sqrt(t*t+n*n);a.rotation=n>0?Math.acos(t/u):-Math.acos(t/u),a.scaleX=u,a.scaleY=o/u,a.skewX=(t*r+n*i)/o,a.skewY=0}else if(0!=r||0!=i){var c=Math.sqrt(r*r+i*i);a.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),a.scaleX=o/c,a.scaleY=c,a.skewX=0,a.skewY=(t*r+n*i)/o}return a.rotation=e.Util._getRotation(a.rotation),a},t}();e.Transform=o;var a=Math.PI/180,u=180/Math.PI,c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},l=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,s=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t||t>0?1:-1},requestAnimFrame:function(t){s.push(t),1===s.length&&requestAnimationFrame((function(){var t=s;s=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var n,r,i=[],o=t.length,a=e.Util;for(n=0;n<o;n++)r=t[n],a._isNumber(r)?r=Math.round(1e3*r)/1e3:a._isString(r)||(r=r.toString()),i.push(r);return i},_urlToImage:function(t,e){var n=new r.glob.Image;n.onload=function(){e(n)},n.src=t},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in c?{r:(e=c[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=l.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=c[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=(e[0],e.slice(1)),r=Number(n[0])/360,i=Number(n[1])/100,o=Number(n[2])/100,a=void 0,u=void 0,c=void 0;if(0===i)return c=255*o,{r:Math.round(c),g:Math.round(c),b:Math.round(c),a:1};for(var l=2*o-(a=o<.5?o*(1+i):o+i-o*i),s=[0,0,0],f=0;f<3;f++)(u=r+1/3*-(f-1))<0&&u++,u>1&&u--,c=6*u<1?l+6*(a-l)*u:2*u<1?a:3*u<2?l+(a-l)*(2/3-u)*6:l,s[f]=255*c;return{r:Math.round(s[0]),g:Math.round(s[1]),b:Math.round(s[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*a},_radToDeg:function(t){return t*u},_getRotation:function(t){return r.Konva.angleDeg?e.Util._radToDeg(t):t},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error("Konva error: "+t)},error:function(t){},warn:function(t){r.Konva.showWarnings},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var r=t.prototype;for(var i in t.prototype=new n,r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,n,r,i,o,a){var u=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),c=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),l=a*u/(u+c),s=a*c/(u+c);return[n-l*(i-t),r-l*(o-e),n+s*(i-t),r+s*(o-e)]},_expandPoints:function(t,n){var r,i,o=t.length,a=[];for(r=2;r<o-2;r+=2)i=e.Util._getControlPoints(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],n),isNaN(i[0])||(a.push(i[0]),a.push(i[1]),a.push(t[r]),a.push(t[r+1]),a.push(i[2]),a.push(i[3]));return a},each:function(t,e){for(var n in t)e(n,t[n])},_inRange:function(t,e,n){return e<=t&&t<n},_getProjectionToSegment:function(t,e,n,r,i,o){var a,u,c,l=(t-n)*(t-n)+(e-r)*(e-r);if(0==l)a=t,u=e,c=(i-n)*(i-n)+(o-r)*(o-r);else{var s=((i-t)*(n-t)+(o-e)*(r-e))/l;s<0?(a=t,u=e,c=(t-i)*(t-i)+(e-o)*(e-o)):s>1?(a=n,u=r,c=(n-i)*(n-i)+(r-o)*(r-o)):c=((a=t+s*(n-t))-i)*(a-i)+((u=e+s*(r-e))-o)*(u-o)}return[a,u,c]},_getProjectionToLine:function(t,n,r){var i=e.Util.cloneObject(t),o=Number.MAX_VALUE;return n.forEach((function(a,u){if(r||u!==n.length-1){var c=n[(u+1)%n.length],l=e.Util._getProjectionToSegment(a.x,a.y,c.x,c.y,t.x,t.y),s=l[0],f=l[1],d=l[2];d<o&&(i.x=s,i.y=f,o=d)}})),i},_prepareArrayForTween:function(t,n,r){var i,o=[],a=[];if(t.length>n.length){var u=n;n=t,t=u}for(i=0;i<t.length;i+=2)o.push({x:t[i],y:t[i+1]});for(i=0;i<n.length;i+=2)a.push({x:n[i],y:n[i+1]});var c=[];return a.forEach((function(t){var n=e.Util._getProjectionToLine(t,o,r);c.push(n.x),c.push(n.y)})),c},_prepareToStringify:function(t){var n;for(var r in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(r)&&t[r]&&"object"==typeof t[r])if(n=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||e.Util._isElement(t[r])){if(!n.configurable)return null;delete t[r]}else if(null===e.Util._prepareToStringify(t[r])){if(!n.configurable)return null;delete t[r]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},36e3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getComponentValidator=e.getBooleanValidator=e.getNumberArrayValidator=e.getFunctionValidator=e.getStringOrGradientValidator=e.getStringValidator=e.getNumberOrAutoValidator=e.getNumberOrArrayOfNumbersValidator=e.getNumberValidator=e.alphaComponent=e.RGBComponent=void 0;var r=n(4880),i=n(90240);function o(t){return i.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||i.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrArrayOfNumbersValidator=function(t){if(r.Konva.isUnminified)return function(e,n){var r=i.Util._isNumber(e),a=i.Util._isArray(e)&&e.length==t;return r||a||i.Util.warn(o(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}},e.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||"auto"===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isString(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getStringOrGradientValidator=function(){if(r.Konva.isUnminified)return function(t,e){var n=i.Util._isString(t),r="[object CanvasGradient]"===Object.prototype.toString.call(t);return n||r||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}},e.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isFunction(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isArray(t)?t.forEach((function(t){i.Util._isNumber(t)||i.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(t,e){return!0===t||!1===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(r.Konva.isUnminified)return function(e,n){return i.Util.isObject(e)||i.Util.warn(o(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}},31372:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var r=n(4880),i=n(90240),o=n(47876),a=n(21363),u=n(15964),c=n(40200),l=n(80496),s=n(82048),f=n(71624),d=n(27668),h=n(7072),p=n(87216),v=n(3208),g=n(49688);e.Konva=i.Util._assign(r.Konva,{Collection:i.Collection,Util:i.Util,Transform:i.Transform,Node:o.Node,ids:o.ids,names:o.names,Container:a.Container,Stage:u.Stage,stages:u.stages,Layer:c.Layer,FastLayer:l.FastLayer,Group:s.Group,DD:f.DD,Shape:d.Shape,shapes:d.shapes,Animation:h.Animation,Tween:p.Tween,Easings:p.Easings,Context:v.Context,Canvas:g.Canvas})},23180:function(t,e,n){"use strict";e.U=void 0;var r=n(31372),i=n(5464),o=n(99440),a=n(12988),u=n(49420),c=n(54800),l=n(69480),s=n(97536),f=n(17948),d=n(89740),h=n(37996),p=n(91152),v=n(44004),g=n(53632),m=n(5176),y=n(29112),b=n(51080),C=n(63764),x=n(30144),w=n(16024),E=n(67336),S=n(80880),k=n(69848),D=n(50192),A=n(51336),I=n(5036),M=n(43724),T=n(68956),B=n(55720),F=n(5e3),L=n(55992),R=n(68380),_=n(39004),N=n(63964),P=n(9944),O=n(43560),j=n(4280);e.U=r.Konva.Util._assign(r.Konva,{Arc:i.Arc,Arrow:o.Arrow,Circle:a.Circle,Ellipse:u.Ellipse,Image:c.Image,Label:l.Label,Tag:l.Tag,Line:s.Line,Path:f.Path,Rect:d.Rect,RegularPolygon:h.RegularPolygon,Ring:p.Ring,Sprite:v.Sprite,Star:g.Star,Text:m.Text,TextPath:y.TextPath,Transformer:b.Transformer,Wedge:C.Wedge,Filters:{Blur:x.Blur,Brighten:w.Brighten,Contrast:E.Contrast,Emboss:S.Emboss,Enhance:k.Enhance,Grayscale:D.Grayscale,HSL:A.HSL,HSV:I.HSV,Invert:M.Invert,Kaleidoscope:T.Kaleidoscope,Mask:B.Mask,Noise:F.Noise,Pixelate:L.Pixelate,Posterize:R.Posterize,RGB:_.RGB,RGBA:N.RGBA,Sepia:P.Sepia,Solarize:O.Solarize,Threshold:j.Threshold}})},30144:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Blur=void 0;var r=n(28176),i=n(47876),o=n(36e3);function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var u=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],c=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,r,i,o,l,s,f,d,h,p,v,g,m,y,b,C,x,w,E,S,k,D,A,I,M=t.data,T=t.width,B=t.height,F=e+e+1,L=T-1,R=B-1,_=e+1,N=_*(_+1)/2,P=new a,O=null,j=P,G=null,z=null,U=u[e],W=c[e];for(i=1;i<F;i++)j=j.next=new a,i===_&&(O=j);for(j.next=P,f=s=0,r=0;r<B;r++){for(C=x=w=E=d=h=p=v=0,g=_*(S=M[s]),m=_*(k=M[s+1]),y=_*(D=M[s+2]),b=_*(A=M[s+3]),d+=N*S,h+=N*k,p+=N*D,v+=N*A,j=P,i=0;i<_;i++)j.r=S,j.g=k,j.b=D,j.a=A,j=j.next;for(i=1;i<_;i++)o=s+((L<i?L:i)<<2),d+=(j.r=S=M[o])*(I=_-i),h+=(j.g=k=M[o+1])*I,p+=(j.b=D=M[o+2])*I,v+=(j.a=A=M[o+3])*I,C+=S,x+=k,w+=D,E+=A,j=j.next;for(G=P,z=O,n=0;n<T;n++)M[s+3]=A=v*U>>W,0!==A?(A=255/A,M[s]=(d*U>>W)*A,M[s+1]=(h*U>>W)*A,M[s+2]=(p*U>>W)*A):M[s]=M[s+1]=M[s+2]=0,d-=g,h-=m,p-=y,v-=b,g-=G.r,m-=G.g,y-=G.b,b-=G.a,o=f+((o=n+e+1)<L?o:L)<<2,d+=C+=G.r=M[o],h+=x+=G.g=M[o+1],p+=w+=G.b=M[o+2],v+=E+=G.a=M[o+3],G=G.next,g+=S=z.r,m+=k=z.g,y+=D=z.b,b+=A=z.a,C-=S,x-=k,w-=D,E-=A,z=z.next,s+=4;f+=T}for(n=0;n<T;n++){for(x=w=E=C=h=p=v=d=0,g=_*(S=M[s=n<<2]),m=_*(k=M[s+1]),y=_*(D=M[s+2]),b=_*(A=M[s+3]),d+=N*S,h+=N*k,p+=N*D,v+=N*A,j=P,i=0;i<_;i++)j.r=S,j.g=k,j.b=D,j.a=A,j=j.next;for(l=T,i=1;i<=e;i++)s=l+n<<2,d+=(j.r=S=M[s])*(I=_-i),h+=(j.g=k=M[s+1])*I,p+=(j.b=D=M[s+2])*I,v+=(j.a=A=M[s+3])*I,C+=S,x+=k,w+=D,E+=A,j=j.next,i<R&&(l+=T);for(s=n,G=P,z=O,r=0;r<B;r++)M[3+(o=s<<2)]=A=v*U>>W,A>0?(A=255/A,M[o]=(d*U>>W)*A,M[o+1]=(h*U>>W)*A,M[o+2]=(p*U>>W)*A):M[o]=M[o+1]=M[o+2]=0,d-=g,h-=m,p-=y,v-=b,g-=G.r,m-=G.g,y-=G.b,b-=G.a,o=n+((o=r+_)<R?o:R)*T<<2,d+=C+=G.r=M[o],h+=x+=G.g=M[o+1],p+=w+=G.b=M[o+2],v+=E+=G.a=M[o+3],G=G.next,g+=S=z.r,m+=k=z.g,y+=D=z.b,b+=A=z.a,C-=S,x-=k,w-=D,E-=A,z=z.next,s+=T}}(t,e)},r.Factory.addGetterSetter(i.Node,"blurRadius",0,o.getNumberValidator(),r.Factory.afterSetFilter)},16024:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Brighten=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.Brighten=function(t){var e,n=255*this.brightness(),r=t.data,i=r.length;for(e=0;e<i;e+=4)r[e]+=n,r[e+1]+=n,r[e+2]+=n},r.Factory.addGetterSetter(i.Node,"brightness",0,o.getNumberValidator(),r.Factory.afterSetFilter)},67336:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Contrast=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.Contrast=function(t){var e,n=Math.pow((this.contrast()+100)/100,2),r=t.data,i=r.length,o=150,a=150,u=150;for(e=0;e<i;e+=4)o=r[e],a=r[e+1],u=r[e+2],o/=255,o-=.5,o*=n,o+=.5,a/=255,a-=.5,a*=n,a+=.5,u/=255,u-=.5,u*=n,u+=.5,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,u=(u*=255)<0?0:u>255?255:u,r[e]=o,r[e+1]=a,r[e+2]=u},r.Factory.addGetterSetter(i.Node,"contrast",0,o.getNumberValidator(),r.Factory.afterSetFilter)},80880:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emboss=void 0;var r=n(28176),i=n(47876),o=n(90240),a=n(36e3);e.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),a=0,u=0,c=t.data,l=t.width,s=t.height,f=4*l,d=s;switch(r){case"top-left":a=-1,u=-1;break;case"top":a=-1,u=0;break;case"top-right":a=-1,u=1;break;case"right":a=0,u=1;break;case"bottom-right":a=1,u=1;break;case"bottom":a=1,u=0;break;case"bottom-left":a=1,u=-1;break;case"left":a=0,u=-1;break;default:o.Util.error("Unknown emboss direction: "+r)}do{var h=(d-1)*f,p=a;d+p<1&&(p=0),d+p>s&&(p=0);var v=(d-1+p)*l*4,g=l;do{var m=h+4*(g-1),y=u;g+y<1&&(y=0),g+y>l&&(y=0);var b=v+4*(g-1+y),C=c[m]-c[b],x=c[m+1]-c[b+1],w=c[m+2]-c[b+2],E=C,S=E>0?E:-E;if((x>0?x:-x)>S&&(E=x),(w>0?w:-w)>S&&(E=w),E*=e,i){var k=c[m]+E,D=c[m+1]+E,A=c[m+2]+E;c[m]=k>255?255:k<0?0:k,c[m+1]=D>255?255:D<0?0:D,c[m+2]=A>255?255:A<0?0:A}else{var I=n-E;I<0?I=0:I>255&&(I=255),c[m]=c[m+1]=c[m+2]=I}}while(--g)}while(--d)},r.Factory.addGetterSetter(i.Node,"embossStrength",.5,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossWhiteLevel",.5,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},69848:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Enhance=void 0;var r=n(28176),i=n(47876),o=n(36e3);function a(t,e,n,r,i){var o=n-e,a=i-r;return 0===o?r+a/2:0===a?r:a*((t-e)/o)+r}e.Enhance=function(t){var e,n,r,i,o=t.data,u=o.length,c=o[0],l=c,s=o[1],f=s,d=o[2],h=d,p=this.enhance();if(0!==p){for(i=0;i<u;i+=4)(e=o[i+0])<c?c=e:e>l&&(l=e),(n=o[i+1])<s?s=n:n>f&&(f=n),(r=o[i+2])<d?d=r:r>h&&(h=r);var v,g,m,y,b,C,x,w,E;for(l===c&&(l=255,c=0),f===s&&(f=255,s=0),h===d&&(h=255,d=0),p>0?(g=l+p*(255-l),m=c-p*(c-0),b=f+p*(255-f),C=s-p*(s-0),w=h+p*(255-h),E=d-p*(d-0)):(g=l+p*(l-(v=.5*(l+c))),m=c+p*(c-v),b=f+p*(f-(y=.5*(f+s))),C=s+p*(s-y),w=h+p*(h-(x=.5*(h+d))),E=d+p*(d-x)),i=0;i<u;i+=4)o[i+0]=a(o[i+0],c,l,m,g),o[i+1]=a(o[i+1],s,f,C,b),o[i+2]=a(o[i+2],d,h,E,w)}},r.Factory.addGetterSetter(i.Node,"enhance",0,o.getNumberValidator(),r.Factory.afterSetFilter)},50192:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=void 0;e.Grayscale=function(t){var e,n,r=t.data,i=r.length;for(e=0;e<i;e+=4)n=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=n,r[e+1]=n,r[e+2]=n}},51336:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSL=void 0;var r=n(28176),i=n(47876),o=n(36e3);r.Factory.addGetterSetter(i.Node,"hue",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"luminance",0,o.getNumberValidator(),r.Factory.afterSetFilter);e.HSL=function(t){var e,n,r,i,o,a=t.data,u=a.length,c=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,s=127*this.luminance(),f=1*c*Math.cos(l*Math.PI/180),d=1*c*Math.sin(l*Math.PI/180),h=.299+.701*f+.167*d,p=.587-.587*f+.33*d,v=.114-.114*f-.497*d,g=.299-.299*f-.328*d,m=.587+.413*f+.035*d,y=.114-.114*f+.293*d,b=.299-.3*f+1.25*d,C=.587-.586*f-1.05*d,x=.114+.886*f-.2*d;for(e=0;e<u;e+=4)n=a[e+0],r=a[e+1],i=a[e+2],o=a[e+3],a[e+0]=h*n+p*r+v*i+s,a[e+1]=g*n+m*r+y*i+s,a[e+2]=b*n+C*r+x*i+s,a[e+3]=o}},5036:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSV=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.HSV=function(t){var e,n,r,i,o,a=t.data,u=a.length,c=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,f=c*l*Math.cos(s*Math.PI/180),d=c*l*Math.sin(s*Math.PI/180),h=.299*c+.701*f+.167*d,p=.587*c-.587*f+.33*d,v=.114*c-.114*f-.497*d,g=.299*c-.299*f-.328*d,m=.587*c+.413*f+.035*d,y=.114*c-.114*f+.293*d,b=.299*c-.3*f+1.25*d,C=.587*c-.586*f-1.05*d,x=.114*c+.886*f-.2*d;for(e=0;e<u;e+=4)n=a[e+0],r=a[e+1],i=a[e+2],o=a[e+3],a[e+0]=h*n+p*r+v*i,a[e+1]=g*n+m*r+y*i,a[e+2]=b*n+C*r+x*i,a[e+3]=o},r.Factory.addGetterSetter(i.Node,"hue",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"value",0,o.getNumberValidator(),r.Factory.afterSetFilter)},43724:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=void 0;e.Invert=function(t){var e,n=t.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}},68956:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Kaleidoscope=void 0;var r=n(28176),i=n(47876),o=n(90240),a=n(36e3);e.Kaleidoscope=function(t){var e,n,r,i,a,u,c,l,s,f=t.width,d=t.height,h=Math.round(this.kaleidoscopePower()),p=Math.round(this.kaleidoscopeAngle()),v=Math.floor(f*(p%360)/360);if(!(h<1)){var g=o.Util.createCanvasElement();g.width=f,g.height=d;var m=g.getContext("2d").getImageData(0,0,f,d);!function(t,e,n){var r,i,o,a,u=t.data,c=e.data,l=t.width,s=t.height,f=n.polarCenterX||l/2,d=n.polarCenterY||s/2,h=0,p=0,v=0,g=0,m=Math.sqrt(f*f+d*d);i=l-f,o=s-d,m=(a=Math.sqrt(i*i+o*o))>m?a:m;var y,b,C,x,w=s,E=l,S=360/E*Math.PI/180;for(b=0;b<E;b+=1)for(C=Math.sin(b*S),x=Math.cos(b*S),y=0;y<w;y+=1)i=Math.floor(f+m*y/w*x),h=u[0+(r=4*((o=Math.floor(d+m*y/w*C))*l+i))],p=u[r+1],v=u[r+2],g=u[r+3],c[0+(r=4*(b+y*l))]=h,c[r+1]=p,c[r+2]=v,c[r+3]=g}(t,m,{polarCenterX:f/2,polarCenterY:d/2});for(var y=f/Math.pow(2,h);y<=8;)y*=2,h-=1;var b=y=Math.ceil(y),C=0,x=b,w=1;for(v+y>f&&(C=b,x=0,w=-1),n=0;n<d;n+=1)for(e=C;e!==x;e+=w)l=4*(f*n+Math.round(e+v)%f),i=m.data[l+0],a=m.data[l+1],u=m.data[l+2],c=m.data[l+3],s=4*(f*n+e),m.data[s+0]=i,m.data[s+1]=a,m.data[s+2]=u,m.data[s+3]=c;for(n=0;n<d;n+=1)for(b=Math.floor(y),r=0;r<h;r+=1){for(e=0;e<b+1;e+=1)l=4*(f*n+e),i=m.data[l+0],a=m.data[l+1],u=m.data[l+2],c=m.data[l+3],s=4*(f*n+2*b-e-1),m.data[s+0]=i,m.data[s+1]=a,m.data[s+2]=u,m.data[s+3]=c;b*=2}!function(t,e,n){var r,i,o,a,u,c,l=t.data,s=e.data,f=t.width,d=t.height,h=n.polarCenterX||f/2,p=n.polarCenterY||d/2,v=0,g=0,m=0,y=0,b=Math.sqrt(h*h+p*p);i=f-h,o=d-p,b=(c=Math.sqrt(i*i+o*o))>b?c:b;var C,x,w,E=d,S=f,k=n.polarRotation||0;for(i=0;i<f;i+=1)for(o=0;o<d;o+=1)a=i-h,u=o-p,C=Math.sqrt(a*a+u*u)*E/b,x=(x=(180*Math.atan2(u,a)/Math.PI+360+k)%360)*S/360,w=Math.floor(x),v=l[0+(r=4*(Math.floor(C)*f+w))],g=l[r+1],m=l[r+2],y=l[r+3],s[0+(r=4*(o*f+i))]=v,s[r+1]=g,s[r+2]=m,s[r+3]=y}(m,t,{polarRotation:0})}},r.Factory.addGetterSetter(i.Node,"kaleidoscopePower",2,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"kaleidoscopeAngle",0,a.getNumberValidator(),r.Factory.afterSetFilter)},55720:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mask=void 0;var r=n(28176),i=n(47876),o=n(36e3);function a(t,e,n){var r=4*(n*t.width+e),i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function u(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var n=a(t,0,0),r=a(t,t.width-1,0),i=a(t,0,t.height-1),o=a(t,t.width-1,t.height-1),c=e||10;if(u(n,r)<c&&u(r,o)<c&&u(o,i)<c&&u(i,n)<c){for(var l=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,n,o,i]),s=[],f=0;f<t.width*t.height;f++){var d=u(l,[t.data[4*f],t.data[4*f+1],t.data[4*f+2]]);s[f]=d<c?0:255}return s}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],u=0;u<n;u++)for(var c=0;c<e;c++){for(var l=u*e+c,s=0,f=0;f<i;f++)for(var d=0;d<i;d++){var h=u+f-o,p=c+d-o;if(h>=0&&h<n&&p>=0&&p<e){var v=r[f*i+d];s+=t[h*e+p]*v}}a[l]=s}return a}(e=function(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],u=0;u<n;u++)for(var c=0;c<e;c++){for(var l=u*e+c,s=0,f=0;f<i;f++)for(var d=0;d<i;d++){var h=u+f-o,p=c+d-o;if(h>=0&&h<n&&p>=0&&p<e){var v=r[f*i+d];s+=t[h*e+p]*v}}a[l]=s>=1020?255:0}return a}(e=function(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],u=0;u<n;u++)for(var c=0;c<e;c++){for(var l=u*e+c,s=0,f=0;f<i;f++)for(var d=0;d<i;d++){var h=u+f-o,p=c+d-o;if(h>=0&&h<n&&p>=0&&p<e){var v=r[f*i+d];s+=t[h*e+p]*v}}a[l]=2040===s?255:0}return a}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},r.Factory.addGetterSetter(i.Node,"threshold",0,o.getNumberValidator(),r.Factory.afterSetFilter)},5e3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Noise=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.Noise=function(t){var e,n=255*this.noise(),r=t.data,i=r.length,o=n/2;for(e=0;e<i;e+=4)r[e+0]+=o-2*o*Math.random(),r[e+1]+=o-2*o*Math.random(),r[e+2]+=o-2*o*Math.random()},r.Factory.addGetterSetter(i.Node,"noise",.2,o.getNumberValidator(),r.Factory.afterSetFilter)},55992:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pixelate=void 0;var r=n(28176),i=n(90240),o=n(47876),a=n(36e3);e.Pixelate=function(t){var e,n,r,o,a,u,c,l,s,f,d,h,p,v,g=Math.ceil(this.pixelSize()),m=t.width,y=t.height,b=Math.ceil(m/g),C=Math.ceil(y/g),x=t.data;if(g<=0)i.Util.error("pixelSize value can not be <= 0");else for(h=0;h<b;h+=1)for(p=0;p<C;p+=1){for(o=0,a=0,u=0,c=0,s=(l=h*g)+g,d=(f=p*g)+g,v=0,e=l;e<s;e+=1)if(!(e>=m))for(n=f;n<d;n+=1)n>=y||(o+=x[(r=4*(m*n+e))+0],a+=x[r+1],u+=x[r+2],c+=x[r+3],v+=1);for(o/=v,a/=v,u/=v,c/=v,e=l;e<s;e+=1)if(!(e>=m))for(n=f;n<d;n+=1)n>=y||(x[(r=4*(m*n+e))+0]=o,x[r+1]=a,x[r+2]=u,x[r+3]=c)}},r.Factory.addGetterSetter(o.Node,"pixelSize",8,a.getNumberValidator(),r.Factory.afterSetFilter)},68380:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Posterize=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,r=t.data,i=r.length,o=255/n;for(e=0;e<i;e+=1)r[e]=Math.floor(r[e]/o)*o},r.Factory.addGetterSetter(i.Node,"levels",.5,o.getNumberValidator(),r.Factory.afterSetFilter)},39004:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGB=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.RGB=function(t){var e,n,r=t.data,i=r.length,o=this.red(),a=this.green(),u=this.blue();for(e=0;e<i;e+=4)n=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=n*o,r[e+1]=n*a,r[e+2]=n*u,r[e+3]=r[e+3]},r.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter)},63964:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.RGBA=function(t){var e,n,r=t.data,i=r.length,o=this.red(),a=this.green(),u=this.blue(),c=this.alpha();for(e=0;e<i;e+=4)n=1-c,r[e]=o*c+r[e]*n,r[e+1]=a*c+r[e+1]*n,r[e+2]=u*c+r[e+2]*n},r.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},9944:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=void 0;e.Sepia=function(t){var e,n,r,i,o=t.data,a=o.length;for(e=0;e<a;e+=4)n=o[e+0],r=o[e+1],i=o[e+2],o[e+0]=Math.min(255,.393*n+.769*r+.189*i),o[e+1]=Math.min(255,.349*n+.686*r+.168*i),o[e+2]=Math.min(255,.272*n+.534*r+.131*i)}},43560:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=void 0;e.Solarize=function(t){var e=t.data,n=t.width,r=4*n,i=t.height;do{var o=(i-1)*r,a=n;do{var u=o+4*(a-1),c=e[u],l=e[u+1],s=e[u+2];c>127&&(c=255-c),l>127&&(l=255-l),s>127&&(s=255-s),e[u]=c,e[u+1]=l,e[u+2]=s}while(--a)}while(--i)}},4280:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Threshold=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.Threshold=function(t){var e,n=255*this.threshold(),r=t.data,i=r.length;for(e=0;e<i;e+=1)r[e]=r[e]<n?0:255},r.Factory.addGetterSetter(i.Node,"threshold",.5,o.getNumberValidator(),r.Factory.afterSetFilter)},25700:function(t,e,n){var r=n(23180).U;r._injectGlobal(r),e.default=r,t.exports=e.default},5464:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Arc=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(4880),l=n(36e3),s=n(4880),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=c.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(u.Shape);e.Arc=f,f.prototype._centroid=!0,f.prototype.className="Arc",f.prototype._attrsAffectingSize=["innerRadius","outerRadius"],s._registerNode(f),a.Factory.addGetterSetter(f,"innerRadius",0,l.getNumberValidator()),a.Factory.addGetterSetter(f,"outerRadius",0,l.getNumberValidator()),a.Factory.addGetterSetter(f,"angle",0,l.getNumberValidator()),a.Factory.addGetterSetter(f,"clockwise",!1,l.getBooleanValidator()),o.Collection.mapMethods(f)},99440:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Arrow=void 0;var o=n(90240),a=n(28176),u=n(97536),c=n(36e3),l=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var n=2*Math.PI,r=this.points(),i=r,o=0!==this.tension()&&r.length>4;o&&(i=this.getTensionPoints());var a,u,c=r.length;o?(a=r[c-2]-(i[i.length-2]+i[i.length-4])/2,u=r[c-1]-(i[i.length-1]+i[i.length-3])/2):(a=r[c-2]-r[c-4],u=r[c-1]-r[c-3]);var l=(Math.atan2(u,a)+n)%n,s=this.pointerLength(),f=this.pointerWidth();e.save(),e.beginPath(),e.translate(r[c-2],r[c-1]),e.rotate(l),e.moveTo(0,0),e.lineTo(-s,f/2),e.lineTo(-s,-f/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(r[0],r[1]),o?(a=(i[0]+i[2])/2-r[0],u=(i[1]+i[3])/2-r[1]):(a=r[2]-r[0],u=r[3]-r[1]),e.rotate((Math.atan2(-u,-a)+n)%n),e.moveTo(0,0),e.lineTo(-s,f/2),e.lineTo(-s,-f/2),e.closePath(),e.restore());var d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)},e.prototype.getSelfRect=function(){var e=t.prototype.getSelfRect.call(this),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+2*n,height:e.height+2*n}},e}(u.Line);e.Arrow=s,s.prototype.className="Arrow",l._registerNode(s),a.Factory.addGetterSetter(s,"pointerLength",10,c.getNumberValidator()),a.Factory.addGetterSetter(s,"pointerWidth",10,c.getNumberValidator()),a.Factory.addGetterSetter(s,"pointerAtBeginning",!1),o.Collection.mapMethods(s)},12988:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(36e3),l=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(u.Shape);e.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],l._registerNode(s),a.Factory.addGetterSetter(s,"radius",0,c.getNumberValidator()),o.Collection.mapMethods(s)},49420:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Ellipse=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(36e3),l=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(u.Shape);e.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],l._registerNode(s),a.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),a.Factory.addGetterSetter(s,"radiusX",0,c.getNumberValidator()),a.Factory.addGetterSetter(s,"radiusY",0,c.getNumberValidator()),o.Collection.mapMethods(s)},54800:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Image=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(36e3),l=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._sceneFunc=function(t){var e,n=this.getWidth(),r=this.getHeight(),i=this.attrs.image;if(i){var o=this.attrs.cropWidth,a=this.attrs.cropHeight;e=o&&a?[i,this.cropX(),this.cropY(),o,a,0,0,n,r]:[i,0,0,n,r]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)),i&&t.drawImage.apply(t,e)},e.prototype._hitFunc=function(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.width)||0},e.prototype.getHeight=function(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.height)||0},e.fromURL=function(t,n){var r=o.Util.createImageElement();r.onload=function(){var t=new e({image:r});n(t)},r.crossOrigin="Anonymous",r.src=t},e}(u.Shape);e.Image=s,s.prototype.className="Image",l._registerNode(s),a.Factory.addGetterSetter(s,"image"),a.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),a.Factory.addGetterSetter(s,"cropX",0,c.getNumberValidator()),a.Factory.addGetterSetter(s,"cropY",0,c.getNumberValidator()),a.Factory.addGetterSetter(s,"cropWidth",0,c.getNumberValidator()),a.Factory.addGetterSetter(s,"cropHeight",0,c.getNumberValidator()),o.Collection.mapMethods(s)},69480:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=e.Label=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(82048),l=n(36e3),s=n(4880),f=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],d="up",h="right",p="down",v="left",g=f.length,m=function(t){function e(e){var n=t.call(this,e)||this;return n.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),n}return i(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,n=this,r=function(){n._sync()};for(e=0;e<g;e++)t.on(f[e]+"Change.konva",r)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,n,r,i,o,a,u=this.getText(),c=this.getTag();if(u&&c){switch(t=u.width(),e=u.height(),n=c.pointerDirection(),r=c.pointerWidth(),a=c.pointerHeight(),i=0,o=0,n){case d:i=t/2,o=-1*a;break;case h:i=t+r,o=e/2;break;case p:i=t/2,o=e+a;break;case v:i=-1*r,o=e/2}c.setAttrs({x:-1*i,y:-1*o,width:t,height:e}),u.setAttrs({x:-1*i,y:-1*o})}},e}(c.Group);e.Label=m,m.prototype.className="Label",s._registerNode(m),o.Collection.mapMethods(m);var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius(),u=0,c=0,l=0,s=0;"number"==typeof a?u=c=l=s=Math.min(a,e/2,n/2):(u=Math.min(a[0]||0,e/2,n/2),c=Math.min(a[1]||0,e/2,n/2),s=Math.min(a[2]||0,e/2,n/2),l=Math.min(a[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(u,0),r===d&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+i)/2,0)),t.lineTo(e-c,0),t.arc(e-c,c,c,3*Math.PI/2,0,!1),r===h&&(t.lineTo(e,(n-o)/2),t.lineTo(e+i,n/2),t.lineTo(e,(n+o)/2)),t.lineTo(e,n-s),t.arc(e-s,n-s,s,0,Math.PI/2,!1),r===p&&(t.lineTo((e+i)/2,n),t.lineTo(e/2,n+o),t.lineTo((e-i)/2,n)),t.lineTo(l,n),t.arc(l,n-l,l,Math.PI/2,Math.PI,!1),r===v&&(t.lineTo(0,(n+o)/2),t.lineTo(-1*i,n/2),t.lineTo(0,(n-o)/2)),t.lineTo(0,u),t.arc(u,u,u,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return i===d?(e-=r,a+=r):i===p?a+=r:i===v?(t-=1.5*n,o+=n):i===h&&(o+=1.5*n),{x:t,y:e,width:o,height:a}},e}(u.Shape);e.Tag=y,y.prototype.className="Tag",s._registerNode(y),a.Factory.addGetterSetter(y,"pointerDirection","none"),a.Factory.addGetterSetter(y,"pointerWidth",0,l.getNumberValidator()),a.Factory.addGetterSetter(y,"pointerHeight",0,l.getNumberValidator()),a.Factory.addGetterSetter(y,"cornerRadius",0,l.getNumberOrArrayOfNumbersValidator(4)),o.Collection.mapMethods(y)},97536:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;var a=n(90240),u=n(28176),c=n(27668),l=n(36e3),s=n(4880),f=function(t){function e(e){var n=t.call(this,e)||this;return n.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),n}return i(e,t),e.prototype._sceneFunc=function(t){var e,n,r,i=this.points(),o=i.length,a=this.tension(),u=this.closed(),c=this.bezier();if(o){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&o>4){for(n=(e=this.getTensionPoints()).length,r=u?0:4,u||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<n-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);u||t.quadraticCurveTo(e[n-2],e[n-1],i[o-2],i[o-1])}else if(c)for(r=2;r<o;)t.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)t.lineTo(i[r],i[r+1]);u?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():a.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,n=this.tension(),r=a.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),i=a.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),o=a.Util._expandPoints(t,n);return[r[2],r[3]].concat(o).concat([i[0],i[1],t[e-2],t[e-1],i[2],i[3],r[0],r[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,r=(t=0!==this.tension()?o([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points())[0],i=t[0],a=t[1],u=t[1],c=0;c<t.length/2;c++)e=t[2*c],n=t[2*c+1],r=Math.min(r,e),i=Math.max(i,e),a=Math.min(a,n),u=Math.max(u,n);return{x:r,y:a,width:i-r,height:u-a}},e}(c.Shape);e.Line=f,f.prototype.className="Line",f.prototype._attrsAffectingSize=["points","bezier","tension"],s._registerNode(f),u.Factory.addGetterSetter(f,"closed",!1),u.Factory.addGetterSetter(f,"bezier",!1),u.Factory.addGetterSetter(f,"tension",0,l.getNumberValidator()),u.Factory.addGetterSetter(f,"points",[],l.getNumberArrayValidator()),a.Collection.mapMethods(f)},17948:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Path=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(4880),l=function(t){function e(n){var r=t.call(this,n)||this;r.dataArray=[],r.pathLength=0,r.dataArray=e.parsePathData(r.data()),r.pathLength=0;for(var i=0;i<r.dataArray.length;++i)r.pathLength+=r.dataArray[i].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),r}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var n=!1,r=0;r<e.length;r++){var i=e[r].command,o=e[r].points;switch(i){case"L":t.lineTo(o[0],o[1]);break;case"M":t.moveTo(o[0],o[1]);break;case"C":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],u=o[1],c=o[2],l=o[3],s=o[4],f=o[5],d=o[6],h=o[7],p=c>l?c:l,v=c>l?1:c/l,g=c>l?l/c:1;t.translate(a,u),t.rotate(d),t.scale(v,g),t.arc(0,0,p,s,s+f,1-h),t.scale(1/v,1/g),t.rotate(-d),t.translate(-a,-u);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(n){if("A"===n.command){var r=n.points[4],i=n.points[5],o=n.points[4]+i,a=Math.PI/180;if(Math.abs(r-o)<a&&(a=Math.abs(r-o)),i<0)for(var u=r-a;u>o;u-=a){var c=e.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],u,0);t.push(c.x,c.y)}else for(u=r+a;u<o;u+=a){c=e.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],u,0);t.push(c.x,c.y)}}else if("C"===n.command)for(u=0;u<=1;u+=.01){c=e.getPointOnCubicBezier(u,n.start.x,n.start.y,n.points[0],n.points[1],n.points[2],n.points[3],n.points[4],n.points[5]);t.push(c.x,c.y)}else t=t.concat(n.points)}));for(var n,r,i=t[0],o=t[0],a=t[1],u=t[1],c=0;c<t.length/2;c++)n=t[2*c],r=t[2*c+1],isNaN(n)||(i=Math.min(i,n),o=Math.max(o,n)),isNaN(r)||(a=Math.min(a,r),u=Math.max(u,r));return{x:Math.round(i),y:Math.round(a),width:Math.round(o-i),height:Math.round(u-a)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===i)return{x:(n=this.dataArray[r-1].points.slice(-2))[0],y:n[1]};if(t<.01)return{x:(n=this.dataArray[r].points.slice(0,2))[0],y:n[1]};var o=this.dataArray[r],a=o.points;switch(o.command){case"L":return e.getPointOnLine(t,o.start.x,o.start.y,a[0],a[1]);case"C":return e.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return e.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var u=a[0],c=a[1],l=a[2],s=a[3],f=a[4],d=a[5],h=a[6];return f+=d*t/o.pathLength,e.getPointOnEllipticalArc(u,c,l,s,f,h)}return null},e.getLineLength=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},e.getPointOnLine=function(t,e,n,r,i,o,a){void 0===o&&(o=e),void 0===a&&(a=n);var u=(i-n)/(r-e+1e-8),c=Math.sqrt(t*t/(1+u*u));r<e&&(c*=-1);var l,s=u*c;if(r===e)l={x:o,y:a+s};else if((a-n)/(o-e+1e-8)===u)l={x:o+c,y:a+s};else{var f,d,h=this.getLineLength(e,n,r,i),p=(o-e)*(r-e)+(a-n)*(i-n);f=e+(p/=h*h)*(r-e),d=n+p*(i-n);var v=this.getLineLength(o,a,f,d),g=Math.sqrt(t*t-v*v);c=Math.sqrt(g*g/(1+u*u)),r<e&&(c*=-1),l={x:f+c,y:d+(s=u*c)}}return l},e.getPointOnCubicBezier=function(t,e,n,r,i,o,a,u,c){function l(t){return t*t*t}function s(t){return 3*t*t*(1-t)}function f(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:u*l(t)+o*s(t)+r*f(t)+e*d(t),y:c*l(t)+a*s(t)+i*f(t)+n*d(t)}},e.getPointOnQuadraticBezier=function(t,e,n,r,i,o,a){function u(t){return t*t}function c(t){return 2*t*(1-t)}function l(t){return(1-t)*(1-t)}return{x:o*u(t)+r*c(t)+e*l(t),y:a*u(t)+i*c(t)+n*l(t)}},e.getPointOnEllipticalArc=function(t,e,n,r,i,o){var a=Math.cos(o),u=Math.sin(o),c=n*Math.cos(i),l=r*Math.sin(i);return{x:t+(c*a-l*u),y:e+(c*u+l*a)}},e.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)e=e.replace(new RegExp(n[r],"g"),"|"+n[r]);var i,o=e.split("|"),a=[],u=[],c=0,l=0,s=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<o.length;r++){var f=o[r],d=f.charAt(0);for(f=f.slice(1),u.length=0;i=s.exec(f);)u.push(i[0]);for(var h=[],p=0,v=u.length;p<v;p++){var g=parseFloat(u[p]);isNaN(g)?h.push(0):h.push(g)}for(;h.length>0&&!isNaN(h[0]);){var m,y,b,C,x,w,E,S,k,D,A=null,I=[],M=c,T=l;switch(d){case"l":c+=h.shift(),l+=h.shift(),A="L",I.push(c,l);break;case"L":c=h.shift(),l=h.shift(),I.push(c,l);break;case"m":var B=h.shift(),F=h.shift();if(c+=B,l+=F,A="M",a.length>2&&"z"===a[a.length-1].command)for(var L=a.length-2;L>=0;L--)if("M"===a[L].command){c=a[L].points[0]+B,l=a[L].points[1]+F;break}I.push(c,l),d="l";break;case"M":c=h.shift(),l=h.shift(),A="M",I.push(c,l),d="L";break;case"h":c+=h.shift(),A="L",I.push(c,l);break;case"H":c=h.shift(),A="L",I.push(c,l);break;case"v":l+=h.shift(),A="L",I.push(c,l);break;case"V":l=h.shift(),A="L",I.push(c,l);break;case"C":I.push(h.shift(),h.shift(),h.shift(),h.shift()),c=h.shift(),l=h.shift(),I.push(c,l);break;case"c":I.push(c+h.shift(),l+h.shift(),c+h.shift(),l+h.shift()),c+=h.shift(),l+=h.shift(),A="C",I.push(c,l);break;case"S":y=c,b=l,"C"===(m=a[a.length-1]).command&&(y=c+(c-m.points[2]),b=l+(l-m.points[3])),I.push(y,b,h.shift(),h.shift()),c=h.shift(),l=h.shift(),A="C",I.push(c,l);break;case"s":y=c,b=l,"C"===(m=a[a.length-1]).command&&(y=c+(c-m.points[2]),b=l+(l-m.points[3])),I.push(y,b,c+h.shift(),l+h.shift()),c+=h.shift(),l+=h.shift(),A="C",I.push(c,l);break;case"Q":I.push(h.shift(),h.shift()),c=h.shift(),l=h.shift(),I.push(c,l);break;case"q":I.push(c+h.shift(),l+h.shift()),c+=h.shift(),l+=h.shift(),A="Q",I.push(c,l);break;case"T":y=c,b=l,"Q"===(m=a[a.length-1]).command&&(y=c+(c-m.points[0]),b=l+(l-m.points[1])),c=h.shift(),l=h.shift(),A="Q",I.push(y,b,c,l);break;case"t":y=c,b=l,"Q"===(m=a[a.length-1]).command&&(y=c+(c-m.points[0]),b=l+(l-m.points[1])),c+=h.shift(),l+=h.shift(),A="Q",I.push(y,b,c,l);break;case"A":C=h.shift(),x=h.shift(),w=h.shift(),E=h.shift(),S=h.shift(),k=c,D=l,c=h.shift(),l=h.shift(),A="A",I=this.convertEndpointToCenterParameterization(k,D,c,l,E,S,C,x,w);break;case"a":C=h.shift(),x=h.shift(),w=h.shift(),E=h.shift(),S=h.shift(),k=c,D=l,c+=h.shift(),l+=h.shift(),A="A",I=this.convertEndpointToCenterParameterization(k,D,c,l,E,S,C,x,w)}a.push({command:A||d,points:I,start:{x:M,y:T},pathLength:this.calcLength(M,T,A||d,I)})}"z"!==d&&"Z"!==d||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a},e.calcLength=function(t,n,r,i){var o,a,u,c,l=e;switch(r){case"L":return l.getLineLength(t,n,i[0],i[1]);case"C":for(o=0,a=l.getPointOnCubicBezier(0,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),c=.01;c<=1;c+=.01)u=l.getPointOnCubicBezier(c,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),o+=l.getLineLength(a.x,a.y,u.x,u.y),a=u;return o;case"Q":for(o=0,a=l.getPointOnQuadraticBezier(0,t,n,i[0],i[1],i[2],i[3]),c=.01;c<=1;c+=.01)u=l.getPointOnQuadraticBezier(c,t,n,i[0],i[1],i[2],i[3]),o+=l.getLineLength(a.x,a.y,u.x,u.y),a=u;return o;case"A":o=0;var s=i[4],f=i[5],d=i[4]+f,h=Math.PI/180;if(Math.abs(s-d)<h&&(h=Math.abs(s-d)),a=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),f<0)for(c=s-h;c>d;c-=h)u=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),o+=l.getLineLength(a.x,a.y,u.x,u.y),a=u;else for(c=s+h;c<d;c+=h)u=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),o+=l.getLineLength(a.x,a.y,u.x,u.y),a=u;return u=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),o+=l.getLineLength(a.x,a.y,u.x,u.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,n,r,i,o,a,u,c){var l=c*(Math.PI/180),s=Math.cos(l)*(t-n)/2+Math.sin(l)*(e-r)/2,f=-1*Math.sin(l)*(t-n)/2+Math.cos(l)*(e-r)/2,d=s*s/(a*a)+f*f/(u*u);d>1&&(a*=Math.sqrt(d),u*=Math.sqrt(d));var h=Math.sqrt((a*a*(u*u)-a*a*(f*f)-u*u*(s*s))/(a*a*(f*f)+u*u*(s*s)));i===o&&(h*=-1),isNaN(h)&&(h=0);var p=h*a*f/u,v=h*-u*s/a,g=(t+n)/2+Math.cos(l)*p-Math.sin(l)*v,m=(e+r)/2+Math.sin(l)*p+Math.cos(l)*v,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},C=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},x=C([1,0],[(s-p)/a,(f-v)/u]),w=[(s-p)/a,(f-v)/u],E=[(-1*s-p)/a,(-1*f-v)/u],S=C(w,E);return b(w,E)<=-1&&(S=Math.PI),b(w,E)>=1&&(S=0),0===o&&S>0&&(S-=2*Math.PI),1===o&&S<0&&(S+=2*Math.PI),[g,m,a,u,x,S,l,o]},e}(u.Shape);e.Path=l,l.prototype.className="Path",l.prototype._attrsAffectingSize=["data"],c._registerNode(l),a.Factory.addGetterSetter(l,"data"),o.Collection.mapMethods(l)},89740:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(4880),l=n(36e3),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),n=this.width(),r=this.height();if(t.beginPath(),e){var i=0,o=0,a=0,u=0;"number"==typeof e?i=o=a=u=Math.min(e,n/2,r/2):(i=Math.min(e[0]||0,n/2,r/2),o=Math.min(e[1]||0,n/2,r/2),u=Math.min(e[2]||0,n/2,r/2),a=Math.min(e[3]||0,n/2,r/2)),t.moveTo(i,0),t.lineTo(n-o,0),t.arc(n-o,o,o,3*Math.PI/2,0,!1),t.lineTo(n,r-u),t.arc(n-u,r-u,u,0,Math.PI/2,!1),t.lineTo(a,r),t.arc(a,r-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,n,r);t.closePath(),t.fillStrokeShape(this)},e}(u.Shape);e.Rect=s,s.prototype.className="Rect",c._registerNode(s),a.Factory.addGetterSetter(s,"cornerRadius",0,l.getNumberOrArrayOfNumbersValidator(4)),o.Collection.mapMethods(s)},37996:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RegularPolygon=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(36e3),l=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.fillStrokeShape(this)},e.prototype._getPoints=function(){for(var t=this.attrs.sides,e=this.attrs.radius||0,n=[],r=0;r<t;r++)n.push({x:e*Math.sin(2*r*Math.PI/t),y:-1*e*Math.cos(2*r*Math.PI/t)});return n},e.prototype.getSelfRect=function(){var t=this._getPoints(),e=t[0].x,n=t[0].y,r=t[0].x,i=t[0].y;return t.forEach((function(t){e=Math.min(e,t.x),n=Math.max(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.y)})),{x:e,y:r,width:n-e,height:i-r}},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(u.Shape);e.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],l._registerNode(s),a.Factory.addGetterSetter(s,"radius",0,c.getNumberValidator()),a.Factory.addGetterSetter(s,"sides",0,c.getNumberValidator()),o.Collection.mapMethods(s)},91152:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Ring=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(36e3),l=n(4880),s=2*Math.PI,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,s,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),s,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(u.Shape);e.Ring=f,f.prototype.className="Ring",f.prototype._centroid=!0,f.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(f),a.Factory.addGetterSetter(f,"innerRadius",0,c.getNumberValidator()),a.Factory.addGetterSetter(f,"outerRadius",0,c.getNumberValidator()),o.Collection.mapMethods(f)},44004:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(7072),l=n(36e3),s=n(4880),f=function(t){function e(e){var n=t.call(this,e)||this;return n._updated=!0,n.anim=new c.Animation((function(){var t=n._updated;return n._updated=!1,t})),n.on("animationChange.konva",(function(){this.frameIndex(0)})),n.on("frameIndexChange.konva",(function(){this._updated=!0})),n.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),n}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[r+0],u=i[r+1],c=i[r+2],l=i[r+3],s=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,c,l),t.closePath(),t.fillStrokeShape(this)),s)if(o){var f=o[e],d=2*n;t.drawImage(s,a,u,c,l,f[d+0],f[d+1],c,l)}else t.drawImage(s,a,u,c,l,0,0,c,l)},e.prototype._hitFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[r+2],u=i[r+3];if(t.beginPath(),o){var c=o[e],l=2*n;t.rect(c[l+0],c[l+1],a,u)}else t.rect(0,0,a,u);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(u.Shape);e.Sprite=f,f.prototype.className="Sprite",s._registerNode(f),a.Factory.addGetterSetter(f,"animation"),a.Factory.addGetterSetter(f,"animations"),a.Factory.addGetterSetter(f,"frameOffsets"),a.Factory.addGetterSetter(f,"image"),a.Factory.addGetterSetter(f,"frameIndex",0,l.getNumberValidator()),a.Factory.addGetterSetter(f,"frameRate",17,l.getNumberValidator()),a.Factory.backCompat(f,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),o.Collection.mapMethods(f)},53632:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Star=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(36e3),l=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*r;i++){var o=i%2==0?n:e,a=o*Math.sin(i*Math.PI/r),u=-1*o*Math.cos(i*Math.PI/r);t.lineTo(a,u)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(u.Shape);e.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(s),a.Factory.addGetterSetter(s,"numPoints",5,c.getNumberValidator()),a.Factory.addGetterSetter(s,"innerRadius",0,c.getNumberValidator()),a.Factory.addGetterSetter(s,"outerRadius",0,c.getNumberValidator()),o.Collection.mapMethods(s)},5176:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Text=e.stringToArray=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(4880),l=n(36e3),s=n(4880);function f(t){return Array.from(t)}e.stringToArray=f;var d,h="auto",p="justify",v="left",g="middle",m="normal",y=" ",b=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],C=b.length;function x(){return d||(d=o.Util.createCanvasElement().getContext("2d"))}var w=function(t){function e(e){var n=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;n._partialTextX=0,n._partialTextY=0;for(var r=0;r<C;r++)n.on(b[r]+"Change.konva",n._setTextData);return n._setTextData(),n}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.textArr,n=e.length;if(this.text()){var r,i=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,u=this.verticalAlign(),c=0,l=this.align(),s=this.getWidth(),d=this.letterSpacing(),h=this.fill(),m=this.textDecoration(),y=-1!==m.indexOf("underline"),b=-1!==m.indexOf("line-through"),C=0,x=(C=a/2,0),w=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",g),t.setAttr("textAlign",v),u===g?c=(this.getHeight()-n*a-2*i)/2:"bottom"===u&&(c=this.getHeight()-n*a-2*i),t.translate(i,c+i),r=0;r<n;r++){x=0,w=0;var E,S,k,D=e[r],A=D.text,I=D.width,M=r!==n-1;if(t.save(),"right"===l?x+=s-I-2*i:"center"===l&&(x+=(s-I-2*i)/2),y&&(t.save(),t.beginPath(),t.moveTo(x,C+w+Math.round(o/2)),S=0===(E=A.split(" ").length-1),k=l===p&&M&&!S?s-2*i:I,t.lineTo(x+Math.round(k),C+w+Math.round(o/2)),t.lineWidth=o/15,t.strokeStyle=h,t.stroke(),t.restore()),b&&(t.save(),t.beginPath(),t.moveTo(x,C+w),S=0===(E=A.split(" ").length-1),k=l===p&&M&&!S?s-2*i:I,t.lineTo(x+Math.round(k),C+w),t.lineWidth=o/15,t.strokeStyle=h,t.stroke(),t.restore()),0!==d||l===p){E=A.split(" ").length-1;for(var T=f(A),B=0;B<T.length;B++){var F=T[B];" "===F&&r!==n-1&&l===p&&(x+=(s-2*i-I)/E),this._partialTextX=x,this._partialTextY=C+w,this._partialText=F,t.fillStrokeShape(this),x+=this.measureSize(F).width+d}}else this._partialTextX=x,this._partialTextY=C+w,this._partialText=A,t.fillStrokeShape(this);t.restore(),n>1&&(C+=a)}}},e.prototype._hitFunc=function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=o.Util._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this},e.prototype.getWidth=function(){return this.attrs.width===h||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return this.attrs.height===h||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,n=x(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:r}},e.prototype._getContextFont=function(){return c.Konva.UA.isIE?this.fontStyle()+y+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+y+this.fontVariant()+y+(this.fontSize()+"px ")+this.fontFamily().split(",").map((function(t){var e=(t=t.trim()).indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!n&&(t='"'+t+'"'),t})).join(", ")},e.prototype._addTextLine=function(t){this.align()===p&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),n=t.length;return x().measureText(t).width+(n?e*(n-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,r=this.lineHeight()*e,i=this.attrs.width,o=this.attrs.height,a=i!==h&&void 0!==i,u=o!==h&&void 0!==o,c=this.padding(),l=i-2*c,s=o-2*c,f=0,d=this.wrap(),p="none"!==d,v="char"!==d&&p,g=this.ellipsis();this.textArr=[],x().font=this._getContextFont();for(var m=g?this._getTextWidth("…"):0,b=0,C=t.length;b<C;++b){var w=t[b],E=this._getTextWidth(w);if(a&&E>l)for(;w.length>0;){for(var S=0,k=w.length,D="",A=0;S<k;){var I=S+k>>>1,M=w.slice(0,I+1),T=this._getTextWidth(M)+m;T<=l?(S=I+1,D=M,A=T):k=I}if(!D)break;if(v){var B,F=w[D.length];(B=(F===y||"-"===F)&&A<=l?D.length:Math.max(D.lastIndexOf(y),D.lastIndexOf("-"))+1)>0&&(S=B,D=D.slice(0,S),A=this._getTextWidth(D))}if(D=D.trimRight(),this._addTextLine(D),n=Math.max(n,A),f+=r,!p||u&&f+r>s){var L=this.textArr[this.textArr.length-1];if(L)if(g)this._getTextWidth(L.text+"…")<l||(L.text=L.text.slice(0,L.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(L.text+"…");break}if((w=(w=w.slice(S)).trimLeft()).length>0&&(E=this._getTextWidth(w))<=l){this._addTextLine(w),f+=r,n=Math.max(n,E);break}}else this._addTextLine(w),f+=r,n=Math.max(n,E);if(u&&f+r>s)break}this.textHeight=e,this.textWidth=n},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(u.Shape);e.Text=w,w.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},w.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},w.prototype.className="Text",w.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],s._registerNode(w),a.Factory.overWriteSetter(w,"width",l.getNumberOrAutoValidator()),a.Factory.overWriteSetter(w,"height",l.getNumberOrAutoValidator()),a.Factory.addGetterSetter(w,"fontFamily","Arial"),a.Factory.addGetterSetter(w,"fontSize",12,l.getNumberValidator()),a.Factory.addGetterSetter(w,"fontStyle",m),a.Factory.addGetterSetter(w,"fontVariant",m),a.Factory.addGetterSetter(w,"padding",0,l.getNumberValidator()),a.Factory.addGetterSetter(w,"align",v),a.Factory.addGetterSetter(w,"verticalAlign","top"),a.Factory.addGetterSetter(w,"lineHeight",1,l.getNumberValidator()),a.Factory.addGetterSetter(w,"wrap","word"),a.Factory.addGetterSetter(w,"ellipsis",!1,l.getBooleanValidator()),a.Factory.addGetterSetter(w,"letterSpacing",0,l.getNumberValidator()),a.Factory.addGetterSetter(w,"text","",l.getStringValidator()),a.Factory.addGetterSetter(w,"textDecoration",""),o.Collection.mapMethods(w)},29112:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextPath=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(17948),l=n(5176),s=n(36e3),f=n(4880),d="normal";function h(t){t.fillText(this.partialText,0,0)}function p(t){t.strokeText(this.partialText,0,0)}var v=function(t){function e(e){var n=t.call(this,e)||this;return n.dummyCanvas=o.Util.createCanvasElement(),n.dataArray=[],n.dataArray=c.Path.parsePathData(n.attrs.data),n.on("dataChange.konva",(function(){this.dataArray=c.Path.parsePathData(this.attrs.data),this._setTextData()})),n.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",n._setTextData),e&&e.getKerning&&(o.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),n.kerningFunc(e.getKerning)),n._setTextData(),n}return i(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var o=0;o<i.length;o++){t.save();var a=i[o].p0;t.translate(a.x,a.y),t.rotate(i[o].rotation),this.partialText=i[o].text,t.fillStrokeShape(this),"underline"===e&&(0===o&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=r/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var r=0;r<e.length;r++){var i=e[r].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return l.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return l.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.letterSpacing(),r=this.align(),i=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var a=0,u=0;u<t.dataArray.length;u++)t.dataArray[u].pathLength>0&&(a+=t.dataArray[u].pathLength);var s=0;"center"===r&&(s=Math.max(0,a/2-o/2)),"right"===r&&(s=Math.max(0,a-o));for(var f,d,h,p=l.stringToArray(this.text()),v=this.text().split(" ").length-1,g=-1,m=0,y=function(){m=0;for(var e=t.dataArray,n=g+1;n<e.length;n++){if(e[n].pathLength>0)return g=n,e[n];"M"===e[n].command&&(f={x:e[n].points[0],y:e[n].points[1]})}return{}},b=function(e){var i=t._getTextSize(e).width+n;" "===e&&"justify"===r&&(i+=(a-o)/v);var u=0,l=0;for(d=void 0;Math.abs(i-u)/i>.01&&l<20;){l++;for(var s=u;void 0===h;)(h=y())&&s+h.pathLength<i&&(s+=h.pathLength,h=void 0);if(h==={}||void 0===f)return;var p=!1;switch(h.command){case"L":c.Path.getLineLength(f.x,f.y,h.points[0],h.points[1])>i?d=c.Path.getPointOnLine(i,f.x,f.y,h.points[0],h.points[1],f.x,f.y):h=void 0;break;case"A":var g=h.points[4],b=h.points[5],C=h.points[4]+b;0===m?m=g+1e-8:i>u?m+=Math.PI/180*b/Math.abs(b):m-=Math.PI/360*b/Math.abs(b),(b<0&&m<C||b>=0&&m>C)&&(m=C,p=!0),d=c.Path.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],m,h.points[6]);break;case"C":0===m?m=i>h.pathLength?1e-8:i/h.pathLength:i>u?m+=(i-u)/h.pathLength/2:m=Math.max(m-(u-i)/h.pathLength/2,0),m>1&&(m=1,p=!0),d=c.Path.getPointOnCubicBezier(m,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);break;case"Q":0===m?m=i/h.pathLength:i>u?m+=(i-u)/h.pathLength:m-=(u-i)/h.pathLength,m>1&&(m=1,p=!0),d=c.Path.getPointOnQuadraticBezier(m,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3])}void 0!==d&&(u=c.Path.getLineLength(f.x,f.y,d.x,d.y)),p&&(p=!1,h=void 0)}},C=s/(t._getTextSize("C").width+n)-1,x=0;x<C&&(b("C"),void 0!==f&&void 0!==d);x++)f=d;for(var w=0;w<p.length&&(b(p[w]),void 0!==f&&void 0!==d);w++){var E=c.Path.getLineLength(f.x,f.y,d.x,d.y),S=0;if(i)try{S=i(p[w-1],p[w])*this.fontSize()}catch(t){S=0}f.x+=S,d.x+=S,this.textWidth+=S;var k=c.Path.getPointOnLine(S+E/2,f.x,f.y,d.x,d.y),D=Math.atan2(d.y-f.y,d.x-f.x);this.glyphInfo.push({transposeX:k.x,transposeY:k.y,text:p[w],rotation:D,p0:f,p1:d}),f=d}},e.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,r=t[0]||0,i=t[0]||0,o=t[1]||0,a=t[1]||0,u=0;u<t.length/2;u++)e=t[2*u],n=t[2*u+1],r=Math.min(r,e),i=Math.max(i,e),o=Math.min(o,n),a=Math.max(a,n);var c=this.fontSize();return{x:r-c/2,y:o-c/2,width:i-r+c,height:a-o+c}},e}(u.Shape);e.TextPath=v,v.prototype._fillFunc=h,v.prototype._strokeFunc=p,v.prototype._fillFuncHit=h,v.prototype._strokeFuncHit=p,v.prototype.className="TextPath",v.prototype._attrsAffectingSize=["text","fontSize","data"],f._registerNode(v),a.Factory.addGetterSetter(v,"data"),a.Factory.addGetterSetter(v,"fontFamily","Arial"),a.Factory.addGetterSetter(v,"fontSize",12,s.getNumberValidator()),a.Factory.addGetterSetter(v,"fontStyle",d),a.Factory.addGetterSetter(v,"align","left"),a.Factory.addGetterSetter(v,"letterSpacing",0,s.getNumberValidator()),a.Factory.addGetterSetter(v,"textBaseline","middle"),a.Factory.addGetterSetter(v,"fontVariant",d),a.Factory.addGetterSetter(v,"text",""),a.Factory.addGetterSetter(v,"textDecoration",null),a.Factory.addGetterSetter(v,"kerningFunc",null),o.Collection.mapMethods(v)},51080:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Transformer=void 0;var a=n(90240),u=n(28176),c=n(47876),l=n(27668),s=n(89740),f=n(82048),d=n(4880),h=n(36e3),p=n(4880),v="tr-konva",g=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+"."+v})).join(" "),m="nodesRect",y=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+"."+v})).join(" "),b={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},C="ontouchstart"in d.Konva._global;var x=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function w(t,e,n){var r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return o(o({},t),{rotation:t.rotation+e,x:r,y:i})}function E(t,e){var n=function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t);return w(t,e,n)}var S=function(t){function e(e){var n=t.call(this,e)||this;return n._transforming=!1,n._createElements(),n._handleMouseMove=n._handleMouseMove.bind(n),n._handleMouseUp=n._handleMouseUp.bind(n),n.update=n.update.bind(n),n.on(g,n.update),n.getNode()&&n.update(),n}return i(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){return a.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])},e.prototype.getNode=function(){return this._nodes&&this._nodes[0]},e.prototype.setNodes=function(t){var e=this;return void 0===t&&(t=[]),this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((function(t){var n=t._attrsAffectingSize.map((function(t){return t+"Change."+v})).join(" "),r=function(){1===e.nodes().length&&e.rotation(e.nodes()[0].getAbsoluteRotation()),e._resetTransformCache(),e._transforming||e.isDragging()||e.update()};t.on(n,r),t.on(y,r),t.on("_clearTransformCache."+v,r),t.on("xChange."+v+" yChange."+v,r),e._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this},e.prototype._proxyDrag=function(t){var e,n=this;t.on("dragstart."+v,(function(r){e=t.getAbsolutePosition(),n.isDragging()||t===n.findOne(".back")||n.startDrag(r,!1)})),t.on("dragmove."+v,(function(r){if(e){var i=t.getAbsolutePosition(),o=i.x-e.x,a=i.y-e.y;n.nodes().forEach((function(e){if(e!==t&&!e.isDragging()){var n=e.getAbsolutePosition();e.setAbsolutePosition({x:n.x+o,y:n.y+a}),e.startDrag(r)}})),e=null}}))},e.prototype.getNodes=function(){return this._nodes||[]},e.prototype.getActiveAnchor=function(){return this._movingAnchorName},e.prototype.detach=function(){this._nodes&&this._nodes.forEach((function(t){t.off("."+v)})),this._nodes=[],this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache(m),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache(m,this.__getNodeRect)},e.prototype.__getNodeShape=function(t,e,n){void 0===e&&(e=this.rotation());var r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=t.getAbsoluteScale(n),o=t.getAbsolutePosition(n),a=r.x*i.x-t.offsetX()*i.x,u=r.y*i.y-t.offsetY()*i.y,c=(d.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return w({x:o.x+a*Math.cos(c)+u*Math.sin(-c),y:o.y+u*Math.cos(c)+a*Math.sin(c),width:r.width*i.x,height:r.height*i.y,rotation:c},-d.Konva.getAngle(e),{x:0,y:0})},e.prototype.__getNodeRect=function(){var t=this;if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};var e=[];this.nodes().map((function(n){var r=n.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:t.ignoreStroke()}),i=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],o=n.getAbsoluteTransform();i.forEach((function(t){var n=o.point(t);e.push(n)}))}));var n,r,i,o,u=new a.Transform;u.rotate(-d.Konva.getAngle(this.rotation())),e.forEach((function(t){var e=u.point(t);void 0===n&&(n=i=e.x,r=o=e.y),n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y)})),u.invert();var c=u.point({x:n,y:r});return{x:c.x,y:c.y,width:i-n,height:o-r,rotation:d.Konva.getAngle(this.rotation())}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),x.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,n=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:C?10:"auto"}),r=this;n.on("mousedown touchstart",(function(t){r._handleMouseDown(t)})),n.on("dragstart",(function(t){n.stopDrag(),t.cancelBubble=!0})),n.on("dragend",(function(t){t.cancelBubble=!0})),n.on("mouseenter",(function(){var r=d.Konva.getAngle(e.rotation()),i=function(t,e){if("rotater"===t)return"crosshair";e+=a.Util._degToRad(b[t]||0);var n=(a.Util._radToDeg(e)%360+360)%360;return a.Util._inRange(n,337.5,360)||a.Util._inRange(n,0,22.5)?"ns-resize":a.Util._inRange(n,22.5,67.5)?"nesw-resize":a.Util._inRange(n,67.5,112.5)?"ew-resize":a.Util._inRange(n,112.5,157.5)?"nwse-resize":a.Util._inRange(n,157.5,202.5)?"ns-resize":a.Util._inRange(n,202.5,247.5)?"nesw-resize":a.Util._inRange(n,247.5,292.5)?"ew-resize":a.Util._inRange(n,292.5,337.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(t,r);n.getStage().content.style.cursor=i,e._cursorChange=!0})),n.on("mouseout",(function(){n.getStage().content.style.cursor="",e._cursorChange=!1})),this.add(n)},e.prototype._createBack=function(){var t=this,e=new l.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc:function(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*a.Util._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:function(e,n){if(t.shouldOverdrawWholeArea()){var r=t.padding();e.beginPath(),e.rect(-r,-r,n.width()+2*r,n.height()+2*r),e.fillStrokeShape(n)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",(function(t){t.cancelBubble=!0})),e.on("dragmove",(function(t){t.cancelBubble=!0})),e.on("dragend",(function(t){t.cancelBubble=!0}))},e.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,r=e.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0;var o=t.target.getAbsolutePosition(),a=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this._nodes.forEach((function(e){e._fire("transformstart",{evt:t,target:e})}))},e.prototype._handleMouseMove=function(t){var e,n,r,i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(t);var a=o.getPointerPosition(),u={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},c=i.getAbsolutePosition();i.setAbsolutePosition(u);var l=i.getAbsolutePosition();if(c.x!==l.x||c.y!==l.y)if("rotater"!==this._movingAnchorName){var s=this.keepRatio()||t.shiftKey,f=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(s){var h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(h.x-i.x(),2)+Math.pow(h.y-i.y(),2));var p=this.findOne(".top-left").x()>h.x?-1:1,v=this.findOne(".top-left").y()>h.y?-1:1;e=r*this.cos*p,n=r*this.sin*v,this.findOne(".top-left").x(h.x-e),this.findOne(".top-left").y(h.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(s){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(i.x()-h.x,2)+Math.pow(h.y-i.y(),2));p=this.findOne(".top-right").x()<h.x?-1:1,v=this.findOne(".top-right").y()>h.y?-1:1;e=r*this.cos*p,n=r*this.sin*v,this.findOne(".top-right").x(h.x+e),this.findOne(".top-right").y(h.y-n)}var g=i.position();this.findOne(".top-left").y(g.y),this.findOne(".bottom-right").x(g.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(s){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(h.x-i.x(),2)+Math.pow(i.y()-h.y,2));p=h.x<i.x()?-1:1,v=i.y()<h.y?-1:1;e=r*this.cos*p,n=r*this.sin*v,i.x(h.x-e),i.y(h.y+n)}g=i.position(),this.findOne(".top-left").x(g.x),this.findOne(".bottom-right").y(g.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName&&s){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(i.x()-h.x,2)+Math.pow(i.y()-h.y,2));p=this.findOne(".bottom-right").x()<h.x?-1:1,v=this.findOne(".bottom-right").y()<h.y?-1:1;e=r*this.cos*p,n=r*this.sin*v,this.findOne(".bottom-right").x(h.x+e),this.findOne(".bottom-right").y(h.y+n)}if(f=this.centeredScaling()||t.altKey){var m=this.findOne(".top-left"),y=this.findOne(".bottom-right"),b=m.x(),C=m.y(),x=this.getWidth()-y.x(),w=this.getHeight()-y.y();y.move({x:-b,y:-C}),m.move({x:x,y:w})}var S=this.findOne(".top-left").getAbsolutePosition();e=S.x,n=S.y;var k=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),D=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:k,height:D,rotation:d.Konva.getAngle(this.rotation())},t)}else{var A=this._getNodeRect();e=i.x()-A.width/2,n=-i.y()+A.height/2;var I=Math.atan2(-n,e)+Math.PI/2;A.height<0&&(I-=Math.PI);var M=d.Konva.getAngle(this.rotation())+I,T=d.Konva.getAngle(this.rotationSnapTolerance()),B=function(t,e,n){for(var r=e,i=0;i<t.length;i++){var o=d.Konva.getAngle(t[i]),a=Math.abs(o-e)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=o)}return r}(this.rotationSnaps(),M,T),F=E(A,B-A.rotation);this._fitNodesInto(F,t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype.getAbsoluteTransform=function(){return this.getTransform()},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0);var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((function(e){e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}},e.prototype._fitNodesInto=function(t,e){var n=this,r=this._getNodeRect(),i=.1;if(a.Util._inRange(t.width,2*-this.padding()-i,i))this.update();else if(a.Util._inRange(t.height,2*-this.padding()-i,i))this.update();else{var o=new a.Transform;if(o.rotate(d.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){var u=o.point({x:2*-this.padding(),y:0});t.x+=u.x,t.y+=u.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){u=o.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,t.width+=2*this.padding()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){u=o.point({x:0,y:2*-this.padding()});t.x+=u.x,t.y+=u.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,t.height+=2*this.padding()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){u=o.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,t.height+=2*this.padding()}if(this.boundBoxFunc()){var c=this.boundBoxFunc()(r,t);c?t=c:a.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}var l=1e7,s=new a.Transform;s.translate(r.x,r.y),s.rotate(r.rotation),s.scale(r.width/l,r.height/l);var f=new a.Transform;f.translate(t.x,t.y),f.rotate(t.rotation),f.scale(t.width/l,t.height/l);var h=f.multiply(s.invert());this._nodes.forEach((function(t){var r,i=t.getParent().getAbsoluteTransform(),o=t.getTransform().copy();o.translate(t.offsetX(),t.offsetY());var u=new a.Transform;u.multiply(i.copy().invert()).multiply(h).multiply(i).multiply(o);var c=u.decompose();t.setAttrs(c),n._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(r=t.getLayer())||void 0===r||r.batchDraw()})),this.rotation(a.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype._batchChangeChild=function(t,e){this.findOne(t).setAttrs(e)},e.prototype.update=function(){var t,e=this,n=this._getNodeRect();this.rotation(a.Util._getRotation(n.rotation));var r=n.width,i=n.height,o=this.enabledAnchors(),u=this.resizeEnabled(),c=this.padding(),l=this.anchorSize();this.find("._anchor").each((function(t){t.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:e.anchorStroke(),strokeWidth:e.anchorStrokeWidth(),fill:e.anchorFill(),cornerRadius:e.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+c,offsetY:l/2+c,visible:u&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+c,visible:u&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-c,offsetY:l/2+c,visible:u&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+c,visible:u&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-c,visible:u&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+c,offsetY:l/2-c,visible:u&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-c,visible:u&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-c,offsetY:l/2-c,visible:u&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*a.Util._sign(i)-c,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),f.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return c.Node.prototype.toObject.call(this)},e}(f.Group);e.Transformer=S,S.prototype.className="Transformer",p._registerNode(S),u.Factory.addGetterSetter(S,"enabledAnchors",x,(function(t){return t instanceof Array||a.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===x.indexOf(t)&&a.Util.warn("Unknown anchor name: "+t+". Available names are: "+x.join(", "))})),t||[]})),u.Factory.addGetterSetter(S,"resizeEnabled",!0),u.Factory.addGetterSetter(S,"anchorSize",10,h.getNumberValidator()),u.Factory.addGetterSetter(S,"rotateEnabled",!0),u.Factory.addGetterSetter(S,"rotationSnaps",[]),u.Factory.addGetterSetter(S,"rotateAnchorOffset",50,h.getNumberValidator()),u.Factory.addGetterSetter(S,"rotationSnapTolerance",5,h.getNumberValidator()),u.Factory.addGetterSetter(S,"borderEnabled",!0),u.Factory.addGetterSetter(S,"anchorStroke","rgb(0, 161, 255)"),u.Factory.addGetterSetter(S,"anchorStrokeWidth",1,h.getNumberValidator()),u.Factory.addGetterSetter(S,"anchorFill","white"),u.Factory.addGetterSetter(S,"anchorCornerRadius",0,h.getNumberValidator()),u.Factory.addGetterSetter(S,"borderStroke","rgb(0, 161, 255)"),u.Factory.addGetterSetter(S,"borderStrokeWidth",1,h.getNumberValidator()),u.Factory.addGetterSetter(S,"borderDash"),u.Factory.addGetterSetter(S,"keepRatio",!0),u.Factory.addGetterSetter(S,"centeredScaling",!1),u.Factory.addGetterSetter(S,"ignoreStroke",!1),u.Factory.addGetterSetter(S,"padding",0,h.getNumberValidator()),u.Factory.addGetterSetter(S,"node"),u.Factory.addGetterSetter(S,"nodes"),u.Factory.addGetterSetter(S,"boundBoxFunc"),u.Factory.addGetterSetter(S,"shouldOverdrawWholeArea",!1),u.Factory.backCompat(S,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),a.Collection.mapMethods(S)},63764:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Wedge=void 0;var o=n(90240),a=n(28176),u=n(27668),c=n(4880),l=n(36e3),s=n(4880),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,c.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(u.Shape);e.Wedge=f,f.prototype.className="Wedge",f.prototype._centroid=!0,f.prototype._attrsAffectingSize=["radius"],s._registerNode(f),a.Factory.addGetterSetter(f,"radius",0,l.getNumberValidator()),a.Factory.addGetterSetter(f,"angle",0,l.getNumberValidator()),a.Factory.addGetterSetter(f,"clockwise",!1),a.Factory.backCompat(f,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),o.Collection.mapMethods(f)},73972:function(t,e,n){var r=n(99088).Symbol;t.exports=r},57596:function(t,e,n){var r=n(73972),i=n(30712),o=n(22640),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},83900:function(t,e,n){var r=n(63296),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},67400:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},30712:function(t,e,n){var r=n(73972),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[u]=n:delete t[u]),i}},22640:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},99088:function(t,e,n){var r=n(67400),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},63296:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},94608:function(t,e,n){var r=n(50636),i=n(21192),o=n(40080),a=Math.max,u=Math.min;t.exports=function(t,e,n){var c,l,s,f,d,h,p=0,v=!1,g=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=c,r=l;return c=l=void 0,p=e,f=t.apply(r,n)}function b(t){var n=t-h;return void 0===h||n>=e||n<0||g&&t-p>=s}function C(){var t=i();if(b(t))return x(t);d=setTimeout(C,function(t){var n=e-(t-h);return g?u(n,s-(t-p)):n}(t))}function x(t){return d=void 0,m&&c?y(t):(c=l=void 0,f)}function w(){var t=i(),n=b(t);if(c=arguments,l=this,h=t,n){if(void 0===d)return function(t){return p=t,d=setTimeout(C,e),v?y(t):f}(h);if(g)return clearTimeout(d),d=setTimeout(C,e),y(h)}return void 0===d&&(d=setTimeout(C,e)),f}return e=o(e)||0,r(n)&&(v=!!n.leading,s=(g="maxWait"in n)?a(o(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m),w.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=h=l=d=void 0},w.flush=function(){return void 0===d?f:x(i())},w}},50636:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},28152:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},47432:function(t,e,n){var r=n(57596),i=n(28152);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},45548:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",c=16,l=32,s=64,f=128,d=256,h=1/0,p=9007199254740991,v=NaN,g=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",s],["rearg",d]],y="[object Arguments]",b="[object Array]",C="[object Boolean]",x="[object Date]",w="[object Error]",E="[object Function]",S="[object GeneratorFunction]",k="[object Map]",D="[object Number]",A="[object Object]",I="[object Promise]",M="[object RegExp]",T="[object Set]",B="[object String]",F="[object Symbol]",L="[object WeakMap]",R="[object ArrayBuffer]",_="[object DataView]",N="[object Float32Array]",P="[object Float64Array]",O="[object Int8Array]",j="[object Int16Array]",G="[object Int32Array]",z="[object Uint8Array]",U="[object Uint8ClampedArray]",W="[object Uint16Array]",Q="[object Uint32Array]",Z=/\b__p \+= '';/g,J=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,Y=RegExp(V.source),q=RegExp(K.source),X=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),at=/^\s+/,ut=/\s/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,Ct=/^(?:0|[1-9]\d*)$/,xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,Et=/['\n\r\u2028\u2029\\]/g,St="\\ud800-\\udfff",kt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Dt="\\u2700-\\u27bf",At="a-z\\xdf-\\xf6\\xf8-\\xff",It="A-Z\\xc0-\\xd6\\xd8-\\xde",Mt="\\ufe0e\\ufe0f",Tt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bt="['’]",Ft="["+St+"]",Lt="["+Tt+"]",Rt="["+kt+"]",_t="\\d+",Nt="["+Dt+"]",Pt="["+At+"]",Ot="[^"+St+Tt+_t+Dt+At+It+"]",jt="\\ud83c[\\udffb-\\udfff]",Gt="[^"+St+"]",zt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ut="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+It+"]",Qt="\\u200d",Zt="(?:"+Pt+"|"+Ot+")",Jt="(?:"+Wt+"|"+Ot+")",Ht="(?:['’](?:d|ll|m|re|s|t|ve))?",Vt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Kt="(?:"+Rt+"|"+jt+")"+"?",Yt="["+Mt+"]?",qt=Yt+Kt+("(?:"+Qt+"(?:"+[Gt,zt,Ut].join("|")+")"+Yt+Kt+")*"),Xt="(?:"+[Nt,zt,Ut].join("|")+")"+qt,$t="(?:"+[Gt+Rt+"?",Rt,zt,Ut,Ft].join("|")+")",te=RegExp(Bt,"g"),ee=RegExp(Rt,"g"),ne=RegExp(jt+"(?="+jt+")|"+$t+qt,"g"),re=RegExp([Wt+"?"+Pt+"+"+Ht+"(?="+[Lt,Wt,"$"].join("|")+")",Jt+"+"+Vt+"(?="+[Lt,Wt+Zt,"$"].join("|")+")",Wt+"?"+Zt+"+"+Ht,Wt+"+"+Vt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_t,Xt].join("|"),"g"),ie=RegExp("["+Qt+St+kt+Mt+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ue=-1,ce={};ce[N]=ce[P]=ce[O]=ce[j]=ce[G]=ce[z]=ce[U]=ce[W]=ce[Q]=!0,ce[y]=ce[b]=ce[R]=ce[C]=ce[_]=ce[x]=ce[w]=ce[E]=ce[k]=ce[D]=ce[A]=ce[M]=ce[T]=ce[B]=ce[L]=!1;var le={};le[y]=le[b]=le[R]=le[_]=le[C]=le[x]=le[N]=le[P]=le[O]=le[j]=le[G]=le[k]=le[D]=le[A]=le[M]=le[T]=le[B]=le[F]=le[z]=le[U]=le[W]=le[Q]=!0,le[w]=le[E]=le[L]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,de=parseInt,he="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pe="object"==typeof self&&self&&self.Object===Object&&self,ve=he||pe||Function("return this")(),ge=e&&!e.nodeType&&e,me=ge&&t&&!t.nodeType&&t,ye=me&&me.exports===ge,be=ye&&he.process,Ce=function(){try{var t=me&&me.require&&me.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(t){}}(),xe=Ce&&Ce.isArrayBuffer,we=Ce&&Ce.isDate,Ee=Ce&&Ce.isMap,Se=Ce&&Ce.isRegExp,ke=Ce&&Ce.isSet,De=Ce&&Ce.isTypedArray;function Ae(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ie(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Te(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Be(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Fe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Le(t,e){return!!(null==t?0:t.length)&&We(t,e,0)>-1}function Re(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function _e(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ne(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Pe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Oe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ge=He("length");function ze(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ue(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function We(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ue(t,Ze,n)}function Qe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ze(t){return t!=t}function Je(t,e){var n=null==t?0:t.length;return n?Ye(t,e)/n:v}function He(t){return function(e){return null==e?i:e[t]}}function Ve(t){return function(e){return null==t?i:t[e]}}function Ke(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ye(t,e){for(var n,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function qe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Xe(t){return t?t.slice(0,gn(t)+1).replace(at,""):t}function $e(t){return function(e){return t(e)}}function tn(t,e){return _e(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&We(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&We(e,t[n],0)>-1;);return n}var on=Ve({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=Ve({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(t){return"\\"+se[t]}function cn(t){return ie.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function sn(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==u||(t[n]=u,o[i++]=n)}return o}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return cn(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Ge(t)}function vn(t){return cn(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&ut.test(t.charAt(e)););return e}var mn=Ve({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(e){var n,r=(e=null==e?ve:yn.defaults(ve.Object(),e,yn.pick(ve,ae))).Array,ut=e.Date,St=e.Error,kt=e.Function,Dt=e.Math,At=e.Object,It=e.RegExp,Mt=e.String,Tt=e.TypeError,Bt=r.prototype,Ft=kt.prototype,Lt=At.prototype,Rt=e["__core-js_shared__"],_t=Ft.toString,Nt=Lt.hasOwnProperty,Pt=0,Ot=(n=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",jt=Lt.toString,Gt=_t.call(At),zt=ve._,Ut=It("^"+_t.call(Nt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=ye?e.Buffer:i,Qt=e.Symbol,Zt=e.Uint8Array,Jt=Wt?Wt.allocUnsafe:i,Ht=sn(At.getPrototypeOf,At),Vt=At.create,Kt=Lt.propertyIsEnumerable,Yt=Bt.splice,qt=Qt?Qt.isConcatSpreadable:i,Xt=Qt?Qt.iterator:i,$t=Qt?Qt.toStringTag:i,ne=function(){try{var t=ho(At,"defineProperty");return t({},"",{}),t}catch(t){}}(),ie=e.clearTimeout!==ve.clearTimeout&&e.clearTimeout,se=ut&&ut.now!==ve.Date.now&&ut.now,he=e.setTimeout!==ve.setTimeout&&e.setTimeout,pe=Dt.ceil,ge=Dt.floor,me=At.getOwnPropertySymbols,be=Wt?Wt.isBuffer:i,Ce=e.isFinite,Ge=Bt.join,Ve=sn(At.keys,At),bn=Dt.max,Cn=Dt.min,xn=ut.now,wn=e.parseInt,En=Dt.random,Sn=Bt.reverse,kn=ho(e,"DataView"),Dn=ho(e,"Map"),An=ho(e,"Promise"),In=ho(e,"Set"),Mn=ho(e,"WeakMap"),Tn=ho(At,"create"),Bn=Mn&&new Mn,Fn={},Ln=jo(kn),Rn=jo(Dn),_n=jo(An),Nn=jo(In),Pn=jo(Mn),On=Qt?Qt.prototype:i,jn=On?On.valueOf:i,Gn=On?On.toString:i;function zn(t){if(nu(t)&&!Za(t)&&!(t instanceof Zn)){if(t instanceof Qn)return t;if(Nt.call(t,"__wrapped__"))return Go(t)}return new Qn(t)}var Un=function(){function t(){}return function(e){if(!eu(e))return{};if(Vt)return Vt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Wn(){}function Qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Zn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Jn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Vn;++e<n;)this.add(t[e])}function Yn(t){var e=this.__data__=new Hn(t);this.size=e.size}function qn(t,e){var n=Za(t),r=!n&&Qa(t),i=!n&&!r&&Ka(t),o=!n&&!r&&!i&&su(t),a=n||r||i||o,u=a?qe(t.length,Mt):[],c=u.length;for(var l in t)!e&&!Nt.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Co(l,c))||u.push(l);return u}function Xn(t){var e=t.length;return e?t[Kr(0,e-1)]:i}function $n(t,e){return No(Ti(t),cr(e,0,t.length))}function tr(t){return No(Ti(t))}function er(t,e,n){(n!==i&&!za(t[e],n)||n===i&&!(e in t))&&ar(t,e,n)}function nr(t,e,n){var r=t[e];Nt.call(t,e)&&za(r,n)&&(n!==i||e in t)||ar(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if(za(t[n][0],e))return n;return-1}function ir(t,e,n,r){return hr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function or(t,e){return t&&Bi(e,Fu(e),t)}function ar(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ur(t,e){for(var n=-1,o=e.length,a=r(o),u=null==t;++n<o;)a[n]=u?i:Au(t,e[n]);return a}function cr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function lr(t,e,n,r,o,a){var u,c=1&e,l=2&e,s=4&e;if(n&&(u=o?n(t,r,o,a):n(t)),u!==i)return u;if(!eu(t))return t;var f=Za(t);if(f){if(u=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!c)return Ti(t,u)}else{var d=go(t),h=d==E||d==S;if(Ka(t))return Si(t,c);if(d==A||d==y||h&&!o){if(u=l||h?{}:yo(t),!c)return l?function(t,e){return Bi(t,vo(t),e)}(t,function(t,e){return t&&Bi(e,Lu(e),t)}(u,t)):function(t,e){return Bi(t,po(t),e)}(t,or(u,t))}else{if(!le[d])return o?t:{};u=function(t,e,n){var r=t.constructor;switch(e){case R:return ki(t);case C:case x:return new r(+t);case _:return function(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case P:case O:case j:case G:case z:case U:case W:case Q:return Di(t,n);case k:return new r;case D:case B:return new r(t);case M:return function(t){var e=new t.constructor(t.source,vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case T:return new r;case F:return i=t,jn?At(jn.call(i)):{}}var i}(t,d,c)}}a||(a=new Yn);var p=a.get(t);if(p)return p;a.set(t,u),uu(t)?t.forEach((function(r){u.add(lr(r,e,n,r,t,a))})):ru(t)&&t.forEach((function(r,i){u.set(i,lr(r,e,n,i,t,a))}));var v=f?i:(s?l?oo:io:l?Lu:Fu)(t);return Me(v||t,(function(r,i){v&&(r=t[i=r]),nr(u,i,lr(r,e,n,i,t,a))})),u}function sr(t,e,n){var r=n.length;if(null==t)return!r;for(t=At(t);r--;){var o=n[r],a=e[o],u=t[o];if(u===i&&!(o in t)||!a(u))return!1}return!0}function fr(t,e,n){if("function"!=typeof t)throw new Tt(o);return Fo((function(){t.apply(i,n)}),e)}function dr(t,e,n,r){var i=-1,o=Le,a=!0,u=t.length,c=[],l=e.length;if(!u)return c;n&&(e=_e(e,$e(n))),r?(o=Re,a=!1):e.length>=200&&(o=en,a=!1,e=new Kn(e));t:for(;++i<u;){var s=t[i],f=null==n?s:n(s);if(s=r||0!==s?s:0,a&&f==f){for(var d=l;d--;)if(e[d]===f)continue t;c.push(s)}else o(e,f,r)||c.push(s)}return c}zn.templateSettings={escape:X,evaluate:$,interpolate:tt,variable:"",imports:{_:zn}},zn.prototype=Wn.prototype,zn.prototype.constructor=zn,Qn.prototype=Un(Wn.prototype),Qn.prototype.constructor=Qn,Zn.prototype=Un(Wn.prototype),Zn.prototype.constructor=Zn,Jn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Jn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Jn.prototype.get=function(t){var e=this.__data__;if(Tn){var n=e[t];return n===a?i:n}return Nt.call(e,t)?e[t]:i},Jn.prototype.has=function(t){var e=this.__data__;return Tn?e[t]!==i:Nt.call(e,t)},Jn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tn&&e===i?a:e,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Yt.call(e,n,1),--this.size,!0)},Hn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?i:e[n][1]},Hn.prototype.has=function(t){return rr(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Vn.prototype.clear=function(){this.size=0,this.__data__={hash:new Jn,map:new(Dn||Hn),string:new Jn}},Vn.prototype.delete=function(t){var e=so(this,t).delete(t);return this.size-=e?1:0,e},Vn.prototype.get=function(t){return so(this,t).get(t)},Vn.prototype.has=function(t){return so(this,t).has(t)},Vn.prototype.set=function(t,e){var n=so(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(t){return this.__data__.set(t,a),this},Kn.prototype.has=function(t){return this.__data__.has(t)},Yn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Yn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Yn.prototype.get=function(t){return this.__data__.get(t)},Yn.prototype.has=function(t){return this.__data__.has(t)},Yn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Dn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Vn(r)}return n.set(t,e),this.size=n.size,this};var hr=Ri(xr),pr=Ri(wr,!0);function vr(t,e){var n=!0;return hr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function gr(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],u=e(a);if(null!=u&&(c===i?u==u&&!lu(u):n(u,c)))var c=u,l=a}return l}function mr(t,e){var n=[];return hr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function yr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=bo),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?yr(u,e-1,n,r,i):Ne(i,u):r||(i[i.length]=u)}return i}var br=_i(),Cr=_i(!0);function xr(t,e){return t&&br(t,e,Fu)}function wr(t,e){return t&&Cr(t,e,Fu)}function Er(t,e){return Fe(e,(function(e){return Xa(t[e])}))}function Sr(t,e){for(var n=0,r=(e=Ci(e,t)).length;null!=t&&n<r;)t=t[Oo(e[n++])];return n&&n==r?t:i}function kr(t,e,n){var r=e(t);return Za(t)?r:Ne(r,n(t))}function Dr(t){return null==t?t===i?"[object Undefined]":"[object Null]":$t&&$t in At(t)?function(t){var e=Nt.call(t,$t),n=t[$t];try{t[$t]=i;var r=!0}catch(t){}var o=jt.call(t);r&&(e?t[$t]=n:delete t[$t]);return o}(t):function(t){return jt.call(t)}(t)}function Ar(t,e){return t>e}function Ir(t,e){return null!=t&&Nt.call(t,e)}function Mr(t,e){return null!=t&&e in At(t)}function Tr(t,e,n){for(var o=n?Re:Le,a=t[0].length,u=t.length,c=u,l=r(u),s=1/0,f=[];c--;){var d=t[c];c&&e&&(d=_e(d,$e(e))),s=Cn(d.length,s),l[c]=!n&&(e||a>=120&&d.length>=120)?new Kn(c&&d):i}d=t[0];var h=-1,p=l[0];t:for(;++h<a&&f.length<s;){var v=d[h],g=e?e(v):v;if(v=n||0!==v?v:0,!(p?en(p,g):o(f,g,n))){for(c=u;--c;){var m=l[c];if(!(m?en(m,g):o(t[c],g,n)))continue t}p&&p.push(g),f.push(v)}}return f}function Br(t,e,n){var r=null==(t=Mo(t,e=Ci(e,t)))?t:t[Oo(qo(e))];return null==r?i:Ae(r,t,n)}function Fr(t){return nu(t)&&Dr(t)==y}function Lr(t,e,n,r,o){return t===e||(null==t||null==e||!nu(t)&&!nu(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var u=Za(t),c=Za(e),l=u?b:go(t),s=c?b:go(e),f=(l=l==y?A:l)==A,d=(s=s==y?A:s)==A,h=l==s;if(h&&Ka(t)){if(!Ka(e))return!1;u=!0,f=!1}if(h&&!f)return a||(a=new Yn),u||su(t)?no(t,e,n,r,o,a):function(t,e,n,r,i,o,a){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!o(new Zt(t),new Zt(e)));case C:case x:case D:return za(+t,+e);case w:return t.name==e.name&&t.message==e.message;case M:case B:return t==e+"";case k:var u=ln;case T:var c=1&r;if(u||(u=dn),t.size!=e.size&&!c)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var s=no(u(t),u(e),r,i,o,a);return a.delete(t),s;case F:if(jn)return jn.call(t)==jn.call(e)}return!1}(t,e,l,n,r,o,a);if(!(1&n)){var p=f&&Nt.call(t,"__wrapped__"),v=d&&Nt.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,m=v?e.value():e;return a||(a=new Yn),o(g,m,n,r,a)}}if(!h)return!1;return a||(a=new Yn),function(t,e,n,r,o,a){var u=1&n,c=io(t),l=c.length,s=io(e),f=s.length;if(l!=f&&!u)return!1;var d=l;for(;d--;){var h=c[d];if(!(u?h in e:Nt.call(e,h)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);var m=u;for(;++d<l;){var y=t[h=c[d]],b=e[h];if(r)var C=u?r(b,y,h,e,t,a):r(y,b,h,t,e,a);if(!(C===i?y===b||o(y,b,n,r,a):C)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(t),a.delete(e),g}(t,e,n,r,o,a)}(t,e,n,r,Lr,o))}function Rr(t,e,n,r){var o=n.length,a=o,u=!r;if(null==t)return!a;for(t=At(t);o--;){var c=n[o];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<a;){var l=(c=n[o])[0],s=t[l],f=c[1];if(u&&c[2]){if(s===i&&!(l in t))return!1}else{var d=new Yn;if(r)var h=r(s,f,l,t,e,d);if(!(h===i?Lr(f,s,3,r,d):h))return!1}}return!0}function _r(t){return!(!eu(t)||(e=t,Ot&&Ot in e))&&(Xa(t)?Ut:yt).test(jo(t));var e}function Nr(t){return"function"==typeof t?t:null==t?ic:"object"==typeof t?Za(t)?Ur(t[0],t[1]):zr(t):hc(t)}function Pr(t){if(!ko(t))return Ve(t);var e=[];for(var n in At(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Or(t){if(!eu(t))return function(t){var e=[];if(null!=t)for(var n in At(t))e.push(n);return e}(t);var e=ko(t),n=[];for(var r in t)("constructor"!=r||!e&&Nt.call(t,r))&&n.push(r);return n}function jr(t,e){return t<e}function Gr(t,e){var n=-1,i=Ha(t)?r(t.length):[];return hr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function zr(t){var e=fo(t);return 1==e.length&&e[0][2]?Ao(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function Ur(t,e){return wo(t)&&Do(e)?Ao(Oo(t),e):function(n){var r=Au(n,t);return r===i&&r===e?Iu(n,t):Lr(e,r,3)}}function Wr(t,e,n,r,o){t!==e&&br(e,(function(a,u){if(o||(o=new Yn),eu(a))!function(t,e,n,r,o,a,u){var c=To(t,n),l=To(e,n),s=u.get(l);if(s)return void er(t,n,s);var f=a?a(c,l,n+"",t,e,u):i,d=f===i;if(d){var h=Za(l),p=!h&&Ka(l),v=!h&&!p&&su(l);f=l,h||p||v?Za(c)?f=c:Va(c)?f=Ti(c):p?(d=!1,f=Si(l,!0)):v?(d=!1,f=Di(l,!0)):f=[]:ou(l)||Qa(l)?(f=c,Qa(c)?f=yu(c):eu(c)&&!Xa(c)||(f=yo(l))):d=!1}d&&(u.set(l,f),o(f,l,r,a,u),u.delete(l));er(t,n,f)}(t,e,u,n,Wr,r,o);else{var c=r?r(To(t,u),a,u+"",t,e,o):i;c===i&&(c=a),er(t,u,c)}}),Lu)}function Qr(t,e){var n=t.length;if(n)return Co(e+=e<0?n:0,n)?t[e]:i}function Zr(t,e,n){e=e.length?_e(e,(function(t){return Za(t)?function(e){return Sr(e,1===t.length?t[0]:t)}:t})):[ic];var r=-1;e=_e(e,$e(lo()));var i=Gr(t,(function(t,n,i){var o=_e(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var c=Ai(i[r],o[r]);if(c)return r>=u?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Jr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Sr(t,a);n(u,a)&&ti(o,Ci(a,t),u)}return o}function Hr(t,e,n,r){var i=r?Qe:We,o=-1,a=e.length,u=t;for(t===e&&(e=Ti(e)),n&&(u=_e(t,$e(n)));++o<a;)for(var c=0,l=e[o],s=n?n(l):l;(c=i(u,s,c,r))>-1;)u!==t&&Yt.call(u,c,1),Yt.call(t,c,1);return t}function Vr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Co(i)?Yt.call(t,i,1):di(t,i)}}return t}function Kr(t,e){return t+ge(En()*(e-t+1))}function Yr(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=ge(e/2))&&(t+=t)}while(e);return n}function qr(t,e){return Lo(Io(t,e,ic),t+"")}function Xr(t){return Xn(zu(t))}function $r(t,e){var n=zu(t);return No(n,cr(e,0,n.length))}function ti(t,e,n,r){if(!eu(t))return t;for(var o=-1,a=(e=Ci(e,t)).length,u=a-1,c=t;null!=c&&++o<a;){var l=Oo(e[o]),s=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=u){var f=c[l];(s=r?r(f,l,c):i)===i&&(s=eu(f)?f:Co(e[o+1])?[]:{})}nr(c,l,s),c=c[l]}return t}var ei=Bn?function(t,e){return Bn.set(t,e),t}:ic,ni=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:ec(e),writable:!0})}:ic;function ri(t){return No(zu(t))}function ii(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function oi(t,e){var n;return hr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!lu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ui(t,e,ic,n)}function ui(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var u=(e=n(e))!=e,c=null===e,l=lu(e),s=e===i;o<a;){var f=ge((o+a)/2),d=n(t[f]),h=d!==i,p=null===d,v=d==d,g=lu(d);if(u)var m=r||v;else m=s?v&&(r||h):c?v&&h&&(r||!p):l?v&&h&&!p&&(r||!g):!p&&!g&&(r?d<=e:d<e);m?o=f+1:a=f}return Cn(a,4294967294)}function ci(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!za(u,c)){var c=u;o[i++]=0===a?0:a}}return o}function li(t){return"number"==typeof t?t:lu(t)?v:+t}function si(t){if("string"==typeof t)return t;if(Za(t))return _e(t,si)+"";if(lu(t))return Gn?Gn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fi(t,e,n){var r=-1,i=Le,o=t.length,a=!0,u=[],c=u;if(n)a=!1,i=Re;else if(o>=200){var l=e?null:Yi(t);if(l)return dn(l);a=!1,i=en,c=new Kn}else c=e?[]:u;t:for(;++r<o;){var s=t[r],f=e?e(s):s;if(s=n||0!==s?s:0,a&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue t;e&&c.push(f),u.push(s)}else i(c,f,n)||(c!==u&&c.push(f),u.push(s))}return u}function di(t,e){return null==(t=Mo(t,e=Ci(e,t)))||delete t[Oo(qo(e))]}function hi(t,e,n,r){return ti(t,e,n(Sr(t,e)),r)}function pi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function vi(t,e){var n=t;return n instanceof Zn&&(n=n.value()),Pe(e,(function(t,e){return e.func.apply(e.thisArg,Ne([t],e.args))}),n)}function gi(t,e,n){var i=t.length;if(i<2)return i?fi(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],c=-1;++c<i;)c!=o&&(a[o]=dr(a[o]||u,t[c],e,n));return fi(yr(a,1),e,n)}function mi(t,e,n){for(var r=-1,o=t.length,a=e.length,u={};++r<o;){var c=r<a?e[r]:i;n(u,t[r],c)}return u}function yi(t){return Va(t)?t:[]}function bi(t){return"function"==typeof t?t:ic}function Ci(t,e){return Za(t)?t:wo(t,e)?[t]:Po(bu(t))}var xi=qr;function wi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ii(t,e,n)}var Ei=ie||function(t){return ve.clearTimeout(t)};function Si(t,e){if(e)return t.slice();var n=t.length,r=Jt?Jt(n):new t.constructor(n);return t.copy(r),r}function ki(t){var e=new t.constructor(t.byteLength);return new Zt(e).set(new Zt(t)),e}function Di(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ai(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,a=lu(t),u=e!==i,c=null===e,l=e==e,s=lu(e);if(!c&&!s&&!a&&t>e||a&&u&&l&&!c&&!s||r&&u&&l||!n&&l||!o)return 1;if(!r&&!a&&!s&&t<e||s&&n&&o&&!r&&!a||c&&n&&o||!u&&o||!l)return-1}return 0}function Ii(t,e,n,i){for(var o=-1,a=t.length,u=n.length,c=-1,l=e.length,s=bn(a-u,0),f=r(l+s),d=!i;++c<l;)f[c]=e[c];for(;++o<u;)(d||o<a)&&(f[n[o]]=t[o]);for(;s--;)f[c++]=t[o++];return f}function Mi(t,e,n,i){for(var o=-1,a=t.length,u=-1,c=n.length,l=-1,s=e.length,f=bn(a-c,0),d=r(f+s),h=!i;++o<f;)d[o]=t[o];for(var p=o;++l<s;)d[p+l]=e[l];for(;++u<c;)(h||o<a)&&(d[p+n[u]]=t[o++]);return d}function Ti(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Bi(t,e,n,r){var o=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var c=e[a],l=r?r(n[c],t[c],c,n,t):i;l===i&&(l=t[c]),o?ar(n,c,l):nr(n,c,l)}return n}function Fi(t,e){return function(n,r){var i=Za(n)?Ie:ir,o=e?e():{};return i(n,t,lo(r,2),o)}}function Li(t){return qr((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,u=o>2?n[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,u&&xo(n[0],n[1],u)&&(a=o<3?i:a,o=1),e=At(e);++r<o;){var c=n[r];c&&t(e,c,r,a)}return e}))}function Ri(t,e){return function(n,r){if(null==n)return n;if(!Ha(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=At(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function _i(t){return function(e,n,r){for(var i=-1,o=At(e),a=r(e),u=a.length;u--;){var c=a[t?u:++i];if(!1===n(o[c],c,o))break}return e}}function Ni(t){return function(e){var n=cn(e=bu(e))?vn(e):i,r=n?n[0]:e.charAt(0),o=n?wi(n,1).join(""):e.slice(1);return r[t]()+o}}function Pi(t){return function(e){return Pe(Xu(Qu(e).replace(te,"")),t,"")}}function Oi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Un(t.prototype),r=t.apply(n,e);return eu(r)?r:n}}function ji(t){return function(e,n,r){var o=At(e);if(!Ha(e)){var a=lo(n,3);e=Fu(e),n=function(t){return a(o[t],t,o)}}var u=t(e,n,r);return u>-1?o[a?e[u]:u]:i}}function Gi(t){return ro((function(e){var n=e.length,r=n,a=Qn.prototype.thru;for(t&&e.reverse();r--;){var u=e[r];if("function"!=typeof u)throw new Tt(o);if(a&&!c&&"wrapper"==uo(u))var c=new Qn([],!0)}for(r=c?r:n;++r<n;){var l=uo(u=e[r]),s="wrapper"==l?ao(u):i;c=s&&Eo(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?c[uo(s[0])].apply(c,s[3]):1==u.length&&Eo(u)?c[l]():c.thru(u)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&Za(r))return c.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function zi(t,e,n,o,a,u,c,l,s,d){var h=e&f,p=1&e,v=2&e,g=24&e,m=512&e,y=v?i:Oi(t);return function f(){for(var b=arguments.length,C=r(b),x=b;x--;)C[x]=arguments[x];if(g)var w=co(f),E=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(C,w);if(o&&(C=Ii(C,o,a,g)),u&&(C=Mi(C,u,c,g)),b-=E,g&&b<d){var S=fn(C,w);return Vi(t,e,zi,f.placeholder,n,C,S,l,s,d-b)}var k=p?n:this,D=v?k[t]:t;return b=C.length,l?C=function(t,e){var n=t.length,r=Cn(e.length,n),o=Ti(t);for(;r--;){var a=e[r];t[r]=Co(a,n)?o[a]:i}return t}(C,l):m&&b>1&&C.reverse(),h&&s<b&&(C.length=s),this&&this!==ve&&this instanceof f&&(D=y||Oi(D)),D.apply(k,C)}}function Ui(t,e){return function(n,r){return function(t,e,n,r){return xr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Wi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=li(n),r=li(r)),o=t(n,r)}return o}}function Qi(t){return ro((function(e){return e=_e(e,$e(lo())),qr((function(n){var r=this;return t(e,(function(t){return Ae(t,r,n)}))}))}))}function Zi(t,e){var n=(e=e===i?" ":si(e)).length;if(n<2)return n?Yr(e,t):e;var r=Yr(e,pe(t/pn(e)));return cn(e)?wi(vn(r),0,t).join(""):r.slice(0,t)}function Ji(t){return function(e,n,o){return o&&"number"!=typeof o&&xo(e,n,o)&&(n=o=i),e=pu(e),n===i?(n=e,e=0):n=pu(n),function(t,e,n,i){for(var o=-1,a=bn(pe((e-t)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=n;return u}(e,n,o=o===i?e<n?1:-1:pu(o),t)}}function Hi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=mu(e),n=mu(n)),t(e,n)}}function Vi(t,e,n,r,o,a,u,c,f,d){var h=8&e;e|=h?l:s,4&(e&=~(h?s:l))||(e&=-4);var p=[t,e,o,h?a:i,h?u:i,h?i:a,h?i:u,c,f,d],v=n.apply(i,p);return Eo(t)&&Bo(v,p),v.placeholder=r,Ro(v,t,e)}function Ki(t){var e=Dt[t];return function(t,n){if(t=mu(t),(n=null==n?0:Cn(vu(n),292))&&Ce(t)){var r=(bu(t)+"e").split("e");return+((r=(bu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Yi=In&&1/dn(new In([,-0]))[1]==h?function(t){return new In(t)}:lc;function qi(t){return function(e){var n=go(e);return n==k?ln(e):n==T?hn(e):function(t,e){return _e(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Xi(t,e,n,a,h,p,v,g){var m=2&e;if(!m&&"function"!=typeof t)throw new Tt(o);var y=a?a.length:0;if(y||(e&=-97,a=h=i),v=v===i?v:bn(vu(v),0),g=g===i?g:vu(g),y-=h?h.length:0,e&s){var b=a,C=h;a=h=i}var x=m?i:ao(t),w=[t,e,n,a,h,b,C,p,v,g];if(x&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==d&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var l=t[3];t[3]=l?Ii(l,c,e[4]):c,t[4]=l?fn(t[3],u):e[4]}(c=e[5])&&(l=t[5],t[5]=l?Mi(l,c,e[6]):c,t[6]=l?fn(t[5],u):e[6]);(c=e[7])&&(t[7]=c);r&f&&(t[8]=null==t[8]?e[8]:Cn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(w,x),t=w[0],e=w[1],n=w[2],a=w[3],h=w[4],!(g=w[9]=w[9]===i?m?0:t.length:bn(w[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==c?function(t,e,n){var o=Oi(t);return function a(){for(var u=arguments.length,c=r(u),l=u,s=co(a);l--;)c[l]=arguments[l];var f=u<3&&c[0]!==s&&c[u-1]!==s?[]:fn(c,s);return(u-=f.length)<n?Vi(t,e,zi,a.placeholder,i,c,f,i,i,n-u):Ae(this&&this!==ve&&this instanceof a?o:t,this,c)}}(t,e,g):e!=l&&33!=e||h.length?zi.apply(i,w):function(t,e,n,i){var o=1&e,a=Oi(t);return function e(){for(var u=-1,c=arguments.length,l=-1,s=i.length,f=r(s+c),d=this&&this!==ve&&this instanceof e?a:t;++l<s;)f[l]=i[l];for(;c--;)f[l++]=arguments[++u];return Ae(d,o?n:this,f)}}(t,e,n,a);else var E=function(t,e,n){var r=1&e,i=Oi(t);return function e(){return(this&&this!==ve&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Ro((x?ei:Bo)(E,w),t,e)}function $i(t,e,n,r){return t===i||za(t,Lt[n])&&!Nt.call(r,n)?e:t}function to(t,e,n,r,o,a){return eu(t)&&eu(e)&&(a.set(e,t),Wr(t,e,i,to,a),a.delete(e)),t}function eo(t){return ou(t)?i:t}function no(t,e,n,r,o,a){var u=1&n,c=t.length,l=e.length;if(c!=l&&!(u&&l>c))return!1;var s=a.get(t),f=a.get(e);if(s&&f)return s==e&&f==t;var d=-1,h=!0,p=2&n?new Kn:i;for(a.set(t,e),a.set(e,t);++d<c;){var v=t[d],g=e[d];if(r)var m=u?r(g,v,d,e,t,a):r(v,g,d,t,e,a);if(m!==i){if(m)continue;h=!1;break}if(p){if(!je(e,(function(t,e){if(!en(p,e)&&(v===t||o(v,t,n,r,a)))return p.push(e)}))){h=!1;break}}else if(v!==g&&!o(v,g,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function ro(t){return Lo(Io(t,i,Jo),t+"")}function io(t){return kr(t,Fu,po)}function oo(t){return kr(t,Lu,vo)}var ao=Bn?function(t){return Bn.get(t)}:lc;function uo(t){for(var e=t.name+"",n=Fn[e],r=Nt.call(Fn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function co(t){return(Nt.call(zn,"placeholder")?zn:t).placeholder}function lo(){var t=zn.iteratee||oc;return t=t===oc?Nr:t,arguments.length?t(arguments[0],arguments[1]):t}function so(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function fo(t){for(var e=Fu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Do(i)]}return e}function ho(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return _r(n)?n:i}var po=me?function(t){return null==t?[]:(t=At(t),Fe(me(t),(function(e){return Kt.call(t,e)})))}:gc,vo=me?function(t){for(var e=[];t;)Ne(e,po(t)),t=Ht(t);return e}:gc,go=Dr;function mo(t,e,n){for(var r=-1,i=(e=Ci(e,t)).length,o=!1;++r<i;){var a=Oo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&tu(i)&&Co(a,i)&&(Za(t)||Qa(t))}function yo(t){return"function"!=typeof t.constructor||ko(t)?{}:Un(Ht(t))}function bo(t){return Za(t)||Qa(t)||!!(qt&&t&&t[qt])}function Co(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&Ct.test(t))&&t>-1&&t%1==0&&t<e}function xo(t,e,n){if(!eu(n))return!1;var r=typeof e;return!!("number"==r?Ha(n)&&Co(e,n.length):"string"==r&&e in n)&&za(n[e],t)}function wo(t,e){if(Za(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!lu(t))||(nt.test(t)||!et.test(t)||null!=e&&t in At(e))}function Eo(t){var e=uo(t),n=zn[e];if("function"!=typeof n||!(e in Zn.prototype))return!1;if(t===n)return!0;var r=ao(n);return!!r&&t===r[0]}(kn&&go(new kn(new ArrayBuffer(1)))!=_||Dn&&go(new Dn)!=k||An&&go(An.resolve())!=I||In&&go(new In)!=T||Mn&&go(new Mn)!=L)&&(go=function(t){var e=Dr(t),n=e==A?t.constructor:i,r=n?jo(n):"";if(r)switch(r){case Ln:return _;case Rn:return k;case _n:return I;case Nn:return T;case Pn:return L}return e});var So=Rt?Xa:mc;function ko(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function Do(t){return t==t&&!eu(t)}function Ao(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in At(n)))}}function Io(t,e,n){return e=bn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=bn(i.length-e,0),u=r(a);++o<a;)u[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(u),Ae(t,this,c)}}function Mo(t,e){return e.length<2?t:Sr(t,ii(e,0,-1))}function To(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Bo=_o(ei),Fo=he||function(t,e){return ve.setTimeout(t,e)},Lo=_o(ni);function Ro(t,e,n){var r=e+"";return Lo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ct,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Me(m,(function(n){var r="_."+n[0];e&n[1]&&!Le(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(st):[]}(r),n)))}function _o(t){var e=0,n=0;return function(){var r=xn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function No(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var a=Kr(n,o),u=t[a];t[a]=t[n],t[n]=u}return t.length=e,t}var Po=function(t){var e=_a(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,i){e.push(r?i.replace(ht,"$1"):n||t)})),e}));function Oo(t){if("string"==typeof t||lu(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return _t.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Go(t){if(t instanceof Zn)return t.clone();var e=new Qn(t.__wrapped__,t.__chain__);return e.__actions__=Ti(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var zo=qr((function(t,e){return Va(t)?dr(t,yr(e,1,Va,!0)):[]})),Uo=qr((function(t,e){var n=qo(e);return Va(n)&&(n=i),Va(t)?dr(t,yr(e,1,Va,!0),lo(n,2)):[]})),Wo=qr((function(t,e){var n=qo(e);return Va(n)&&(n=i),Va(t)?dr(t,yr(e,1,Va,!0),i,n):[]}));function Qo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:vu(n);return i<0&&(i=bn(r+i,0)),Ue(t,lo(e,3),i)}function Zo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=vu(n),o=n<0?bn(r+o,0):Cn(o,r-1)),Ue(t,lo(e,3),o,!0)}function Jo(t){return(null==t?0:t.length)?yr(t,1):[]}function Ho(t){return t&&t.length?t[0]:i}var Vo=qr((function(t){var e=_e(t,yi);return e.length&&e[0]===t[0]?Tr(e):[]})),Ko=qr((function(t){var e=qo(t),n=_e(t,yi);return e===qo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Tr(n,lo(e,2)):[]})),Yo=qr((function(t){var e=qo(t),n=_e(t,yi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Tr(n,i,e):[]}));function qo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Xo=qr($o);function $o(t,e){return t&&t.length&&e&&e.length?Hr(t,e):t}var ta=ro((function(t,e){var n=null==t?0:t.length,r=ur(t,e);return Vr(t,_e(e,(function(t){return Co(t,n)?+t:t})).sort(Ai)),r}));function ea(t){return null==t?t:Sn.call(t)}var na=qr((function(t){return fi(yr(t,1,Va,!0))})),ra=qr((function(t){var e=qo(t);return Va(e)&&(e=i),fi(yr(t,1,Va,!0),lo(e,2))})),ia=qr((function(t){var e=qo(t);return e="function"==typeof e?e:i,fi(yr(t,1,Va,!0),i,e)}));function oa(t){if(!t||!t.length)return[];var e=0;return t=Fe(t,(function(t){if(Va(t))return e=bn(t.length,e),!0})),qe(e,(function(e){return _e(t,He(e))}))}function aa(t,e){if(!t||!t.length)return[];var n=oa(t);return null==e?n:_e(n,(function(t){return Ae(e,i,t)}))}var ua=qr((function(t,e){return Va(t)?dr(t,e):[]})),ca=qr((function(t){return gi(Fe(t,Va))})),la=qr((function(t){var e=qo(t);return Va(e)&&(e=i),gi(Fe(t,Va),lo(e,2))})),sa=qr((function(t){var e=qo(t);return e="function"==typeof e?e:i,gi(Fe(t,Va),i,e)})),fa=qr(oa);var da=qr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,aa(t,n)}));function ha(t){var e=zn(t);return e.__chain__=!0,e}function pa(t,e){return e(t)}var va=ro((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return ur(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Zn&&Co(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:pa,args:[o],thisArg:i}),new Qn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var ga=Fi((function(t,e,n){Nt.call(t,n)?++t[n]:ar(t,n,1)}));var ma=ji(Qo),ya=ji(Zo);function ba(t,e){return(Za(t)?Me:hr)(t,lo(e,3))}function Ca(t,e){return(Za(t)?Te:pr)(t,lo(e,3))}var xa=Fi((function(t,e,n){Nt.call(t,n)?t[n].push(e):ar(t,n,[e])}));var wa=qr((function(t,e,n){var i=-1,o="function"==typeof e,a=Ha(t)?r(t.length):[];return hr(t,(function(t){a[++i]=o?Ae(e,t,n):Br(t,e,n)})),a})),Ea=Fi((function(t,e,n){ar(t,n,e)}));function Sa(t,e){return(Za(t)?_e:Gr)(t,lo(e,3))}var ka=Fi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Da=qr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&xo(t,e[0],e[1])?e=[]:n>2&&xo(e[0],e[1],e[2])&&(e=[e[0]]),Zr(t,yr(e,1),[])})),Aa=se||function(){return ve.Date.now()};function Ia(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Xi(t,f,i,i,i,i,e)}function Ma(t,e){var n;if("function"!=typeof e)throw new Tt(o);return t=vu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ta=qr((function(t,e,n){var r=1;if(n.length){var i=fn(n,co(Ta));r|=l}return Xi(t,r,e,n,i)})),Ba=qr((function(t,e,n){var r=3;if(n.length){var i=fn(n,co(Ba));r|=l}return Xi(e,r,t,n,i)}));function Fa(t,e,n){var r,a,u,c,l,s,f=0,d=!1,h=!1,p=!0;if("function"!=typeof t)throw new Tt(o);function v(e){var n=r,o=a;return r=a=i,f=e,c=t.apply(o,n)}function g(t){var n=t-s;return s===i||n>=e||n<0||h&&t-f>=u}function m(){var t=Aa();if(g(t))return y(t);l=Fo(m,function(t){var n=e-(t-s);return h?Cn(n,u-(t-f)):n}(t))}function y(t){return l=i,p&&r?v(t):(r=a=i,c)}function b(){var t=Aa(),n=g(t);if(r=arguments,a=this,s=t,n){if(l===i)return function(t){return f=t,l=Fo(m,e),d?v(t):c}(s);if(h)return Ei(l),l=Fo(m,e),v(s)}return l===i&&(l=Fo(m,e)),c}return e=mu(e)||0,eu(n)&&(d=!!n.leading,u=(h="maxWait"in n)?bn(mu(n.maxWait)||0,e):u,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==i&&Ei(l),f=0,r=s=a=l=i},b.flush=function(){return l===i?c:y(Aa())},b}var La=qr((function(t,e){return fr(t,1,e)})),Ra=qr((function(t,e,n){return fr(t,mu(e)||0,n)}));function _a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Tt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(_a.Cache||Vn),n}function Na(t){if("function"!=typeof t)throw new Tt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}_a.Cache=Vn;var Pa=xi((function(t,e){var n=(e=1==e.length&&Za(e[0])?_e(e[0],$e(lo())):_e(yr(e,1),$e(lo()))).length;return qr((function(r){for(var i=-1,o=Cn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ae(t,this,r)}))})),Oa=qr((function(t,e){var n=fn(e,co(Oa));return Xi(t,l,i,e,n)})),ja=qr((function(t,e){var n=fn(e,co(ja));return Xi(t,s,i,e,n)})),Ga=ro((function(t,e){return Xi(t,d,i,i,i,e)}));function za(t,e){return t===e||t!=t&&e!=e}var Ua=Hi(Ar),Wa=Hi((function(t,e){return t>=e})),Qa=Fr(function(){return arguments}())?Fr:function(t){return nu(t)&&Nt.call(t,"callee")&&!Kt.call(t,"callee")},Za=r.isArray,Ja=xe?$e(xe):function(t){return nu(t)&&Dr(t)==R};function Ha(t){return null!=t&&tu(t.length)&&!Xa(t)}function Va(t){return nu(t)&&Ha(t)}var Ka=be||mc,Ya=we?$e(we):function(t){return nu(t)&&Dr(t)==x};function qa(t){if(!nu(t))return!1;var e=Dr(t);return e==w||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ou(t)}function Xa(t){if(!eu(t))return!1;var e=Dr(t);return e==E||e==S||"[object AsyncFunction]"==e||"[object Proxy]"==e}function $a(t){return"number"==typeof t&&t==vu(t)}function tu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function eu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function nu(t){return null!=t&&"object"==typeof t}var ru=Ee?$e(Ee):function(t){return nu(t)&&go(t)==k};function iu(t){return"number"==typeof t||nu(t)&&Dr(t)==D}function ou(t){if(!nu(t)||Dr(t)!=A)return!1;var e=Ht(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&_t.call(n)==Gt}var au=Se?$e(Se):function(t){return nu(t)&&Dr(t)==M};var uu=ke?$e(ke):function(t){return nu(t)&&go(t)==T};function cu(t){return"string"==typeof t||!Za(t)&&nu(t)&&Dr(t)==B}function lu(t){return"symbol"==typeof t||nu(t)&&Dr(t)==F}var su=De?$e(De):function(t){return nu(t)&&tu(t.length)&&!!ce[Dr(t)]};var fu=Hi(jr),du=Hi((function(t,e){return t<=e}));function hu(t){if(!t)return[];if(Ha(t))return cu(t)?vn(t):Ti(t);if(Xt&&t[Xt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Xt]());var e=go(t);return(e==k?ln:e==T?dn:zu)(t)}function pu(t){return t?(t=mu(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function vu(t){var e=pu(t),n=e%1;return e==e?n?e-n:e:0}function gu(t){return t?cr(vu(t),0,g):0}function mu(t){if("number"==typeof t)return t;if(lu(t))return v;if(eu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=eu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Xe(t);var n=mt.test(t);return n||bt.test(t)?de(t.slice(2),n?2:8):gt.test(t)?v:+t}function yu(t){return Bi(t,Lu(t))}function bu(t){return null==t?"":si(t)}var Cu=Li((function(t,e){if(ko(e)||Ha(e))Bi(e,Fu(e),t);else for(var n in e)Nt.call(e,n)&&nr(t,n,e[n])})),xu=Li((function(t,e){Bi(e,Lu(e),t)})),wu=Li((function(t,e,n,r){Bi(e,Lu(e),t,r)})),Eu=Li((function(t,e,n,r){Bi(e,Fu(e),t,r)})),Su=ro(ur);var ku=qr((function(t,e){t=At(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&xo(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],u=Lu(a),c=-1,l=u.length;++c<l;){var s=u[c],f=t[s];(f===i||za(f,Lt[s])&&!Nt.call(t,s))&&(t[s]=a[s])}return t})),Du=qr((function(t){return t.push(i,to),Ae(_u,i,t)}));function Au(t,e,n){var r=null==t?i:Sr(t,e);return r===i?n:r}function Iu(t,e){return null!=t&&mo(t,e,Mr)}var Mu=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=n}),ec(ic)),Tu=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),lo),Bu=qr(Br);function Fu(t){return Ha(t)?qn(t):Pr(t)}function Lu(t){return Ha(t)?qn(t,!0):Or(t)}var Ru=Li((function(t,e,n){Wr(t,e,n)})),_u=Li((function(t,e,n,r){Wr(t,e,n,r)})),Nu=ro((function(t,e){var n={};if(null==t)return n;var r=!1;e=_e(e,(function(e){return e=Ci(e,t),r||(r=e.length>1),e})),Bi(t,oo(t),n),r&&(n=lr(n,7,eo));for(var i=e.length;i--;)di(n,e[i]);return n}));var Pu=ro((function(t,e){return null==t?{}:function(t,e){return Jr(t,e,(function(e,n){return Iu(t,n)}))}(t,e)}));function Ou(t,e){if(null==t)return{};var n=_e(oo(t),(function(t){return[t]}));return e=lo(e),Jr(t,n,(function(t,n){return e(t,n[0])}))}var ju=qi(Fu),Gu=qi(Lu);function zu(t){return null==t?[]:tn(t,Fu(t))}var Uu=Pi((function(t,e,n){return e=e.toLowerCase(),t+(n?Wu(e):e)}));function Wu(t){return qu(bu(t).toLowerCase())}function Qu(t){return(t=bu(t))&&t.replace(xt,on).replace(ee,"")}var Zu=Pi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ju=Pi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Hu=Ni("toLowerCase");var Vu=Pi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ku=Pi((function(t,e,n){return t+(n?" ":"")+qu(e)}));var Yu=Pi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),qu=Ni("toUpperCase");function Xu(t,e,n){return t=bu(t),(e=n?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var $u=qr((function(t,e){try{return Ae(t,i,e)}catch(t){return qa(t)?t:new St(t)}})),tc=ro((function(t,e){return Me(e,(function(e){e=Oo(e),ar(t,e,Ta(t[e],t))})),t}));function ec(t){return function(){return t}}var nc=Gi(),rc=Gi(!0);function ic(t){return t}function oc(t){return Nr("function"==typeof t?t:lr(t,1))}var ac=qr((function(t,e){return function(n){return Br(n,t,e)}})),uc=qr((function(t,e){return function(n){return Br(t,n,e)}}));function cc(t,e,n){var r=Fu(e),i=Er(e,r);null!=n||eu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Er(e,Fu(e)));var o=!(eu(n)&&"chain"in n&&!n.chain),a=Xa(t);return Me(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Ti(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ne([this.value()],arguments))})})),t}function lc(){}var sc=Qi(_e),fc=Qi(Be),dc=Qi(je);function hc(t){return wo(t)?He(Oo(t)):function(t){return function(e){return Sr(e,t)}}(t)}var pc=Ji(),vc=Ji(!0);function gc(){return[]}function mc(){return!1}var yc=Wi((function(t,e){return t+e}),0),bc=Ki("ceil"),Cc=Wi((function(t,e){return t/e}),1),xc=Ki("floor");var wc,Ec=Wi((function(t,e){return t*e}),1),Sc=Ki("round"),kc=Wi((function(t,e){return t-e}),0);return zn.after=function(t,e){if("function"!=typeof e)throw new Tt(o);return t=vu(t),function(){if(--t<1)return e.apply(this,arguments)}},zn.ary=Ia,zn.assign=Cu,zn.assignIn=xu,zn.assignInWith=wu,zn.assignWith=Eu,zn.at=Su,zn.before=Ma,zn.bind=Ta,zn.bindAll=tc,zn.bindKey=Ba,zn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Za(t)?t:[t]},zn.chain=ha,zn.chunk=function(t,e,n){e=(n?xo(t,e,n):e===i)?1:bn(vu(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,u=0,c=r(pe(o/e));a<o;)c[u++]=ii(t,a,a+=e);return c},zn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},zn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ne(Za(n)?Ti(n):[n],yr(e,1))},zn.cond=function(t){var e=null==t?0:t.length,n=lo();return t=e?_e(t,(function(t){if("function"!=typeof t[1])throw new Tt(o);return[n(t[0]),t[1]]})):[],qr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ae(i[0],this,n))return Ae(i[1],this,n)}}))},zn.conforms=function(t){return function(t){var e=Fu(t);return function(n){return sr(n,t,e)}}(lr(t,1))},zn.constant=ec,zn.countBy=ga,zn.create=function(t,e){var n=Un(t);return null==e?n:or(n,e)},zn.curry=function t(e,n,r){var o=Xi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},zn.curryRight=function t(e,n,r){var o=Xi(e,c,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},zn.debounce=Fa,zn.defaults=ku,zn.defaultsDeep=Du,zn.defer=La,zn.delay=Ra,zn.difference=zo,zn.differenceBy=Uo,zn.differenceWith=Wo,zn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=n||e===i?1:vu(e))<0?0:e,r):[]},zn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,0,(e=r-(e=n||e===i?1:vu(e)))<0?0:e):[]},zn.dropRightWhile=function(t,e){return t&&t.length?pi(t,lo(e,3),!0,!0):[]},zn.dropWhile=function(t,e){return t&&t.length?pi(t,lo(e,3),!0):[]},zn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&xo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=vu(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:vu(r))<0&&(r+=o),r=n>r?0:gu(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},zn.filter=function(t,e){return(Za(t)?Fe:mr)(t,lo(e,3))},zn.flatMap=function(t,e){return yr(Sa(t,e),1)},zn.flatMapDeep=function(t,e){return yr(Sa(t,e),h)},zn.flatMapDepth=function(t,e,n){return n=n===i?1:vu(n),yr(Sa(t,e),n)},zn.flatten=Jo,zn.flattenDeep=function(t){return(null==t?0:t.length)?yr(t,h):[]},zn.flattenDepth=function(t,e){return(null==t?0:t.length)?yr(t,e=e===i?1:vu(e)):[]},zn.flip=function(t){return Xi(t,512)},zn.flow=nc,zn.flowRight=rc,zn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},zn.functions=function(t){return null==t?[]:Er(t,Fu(t))},zn.functionsIn=function(t){return null==t?[]:Er(t,Lu(t))},zn.groupBy=xa,zn.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},zn.intersection=Vo,zn.intersectionBy=Ko,zn.intersectionWith=Yo,zn.invert=Mu,zn.invertBy=Tu,zn.invokeMap=wa,zn.iteratee=oc,zn.keyBy=Ea,zn.keys=Fu,zn.keysIn=Lu,zn.map=Sa,zn.mapKeys=function(t,e){var n={};return e=lo(e,3),xr(t,(function(t,r,i){ar(n,e(t,r,i),t)})),n},zn.mapValues=function(t,e){var n={};return e=lo(e,3),xr(t,(function(t,r,i){ar(n,r,e(t,r,i))})),n},zn.matches=function(t){return zr(lr(t,1))},zn.matchesProperty=function(t,e){return Ur(t,lr(e,1))},zn.memoize=_a,zn.merge=Ru,zn.mergeWith=_u,zn.method=ac,zn.methodOf=uc,zn.mixin=cc,zn.negate=Na,zn.nthArg=function(t){return t=vu(t),qr((function(e){return Qr(e,t)}))},zn.omit=Nu,zn.omitBy=function(t,e){return Ou(t,Na(lo(e)))},zn.once=function(t){return Ma(2,t)},zn.orderBy=function(t,e,n,r){return null==t?[]:(Za(e)||(e=null==e?[]:[e]),Za(n=r?i:n)||(n=null==n?[]:[n]),Zr(t,e,n))},zn.over=sc,zn.overArgs=Pa,zn.overEvery=fc,zn.overSome=dc,zn.partial=Oa,zn.partialRight=ja,zn.partition=ka,zn.pick=Pu,zn.pickBy=Ou,zn.property=hc,zn.propertyOf=function(t){return function(e){return null==t?i:Sr(t,e)}},zn.pull=Xo,zn.pullAll=$o,zn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,lo(n,2)):t},zn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,i,n):t},zn.pullAt=ta,zn.range=pc,zn.rangeRight=vc,zn.rearg=Ga,zn.reject=function(t,e){return(Za(t)?Fe:mr)(t,Na(lo(e,3)))},zn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=lo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Vr(t,i),n},zn.rest=function(t,e){if("function"!=typeof t)throw new Tt(o);return qr(t,e=e===i?e:vu(e))},zn.reverse=ea,zn.sampleSize=function(t,e,n){return e=(n?xo(t,e,n):e===i)?1:vu(e),(Za(t)?$n:$r)(t,e)},zn.set=function(t,e,n){return null==t?t:ti(t,e,n)},zn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ti(t,e,n,r)},zn.shuffle=function(t){return(Za(t)?tr:ri)(t)},zn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&xo(t,e,n)?(e=0,n=r):(e=null==e?0:vu(e),n=n===i?r:vu(n)),ii(t,e,n)):[]},zn.sortBy=Da,zn.sortedUniq=function(t){return t&&t.length?ci(t):[]},zn.sortedUniqBy=function(t,e){return t&&t.length?ci(t,lo(e,2)):[]},zn.split=function(t,e,n){return n&&"number"!=typeof n&&xo(t,e,n)&&(e=n=i),(n=n===i?g:n>>>0)?(t=bu(t))&&("string"==typeof e||null!=e&&!au(e))&&!(e=si(e))&&cn(t)?wi(vn(t),0,n):t.split(e,n):[]},zn.spread=function(t,e){if("function"!=typeof t)throw new Tt(o);return e=null==e?0:bn(vu(e),0),qr((function(n){var r=n[e],i=wi(n,0,e);return r&&Ne(i,r),Ae(t,this,i)}))},zn.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},zn.take=function(t,e,n){return t&&t.length?ii(t,0,(e=n||e===i?1:vu(e))<0?0:e):[]},zn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=r-(e=n||e===i?1:vu(e)))<0?0:e,r):[]},zn.takeRightWhile=function(t,e){return t&&t.length?pi(t,lo(e,3),!1,!0):[]},zn.takeWhile=function(t,e){return t&&t.length?pi(t,lo(e,3)):[]},zn.tap=function(t,e){return e(t),t},zn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Tt(o);return eu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Fa(t,e,{leading:r,maxWait:e,trailing:i})},zn.thru=pa,zn.toArray=hu,zn.toPairs=ju,zn.toPairsIn=Gu,zn.toPath=function(t){return Za(t)?_e(t,Oo):lu(t)?[t]:Ti(Po(bu(t)))},zn.toPlainObject=yu,zn.transform=function(t,e,n){var r=Za(t),i=r||Ka(t)||su(t);if(e=lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:eu(t)&&Xa(o)?Un(Ht(t)):{}}return(i?Me:xr)(t,(function(t,r,i){return e(n,t,r,i)})),n},zn.unary=function(t){return Ia(t,1)},zn.union=na,zn.unionBy=ra,zn.unionWith=ia,zn.uniq=function(t){return t&&t.length?fi(t):[]},zn.uniqBy=function(t,e){return t&&t.length?fi(t,lo(e,2)):[]},zn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?fi(t,i,e):[]},zn.unset=function(t,e){return null==t||di(t,e)},zn.unzip=oa,zn.unzipWith=aa,zn.update=function(t,e,n){return null==t?t:hi(t,e,bi(n))},zn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:hi(t,e,bi(n),r)},zn.values=zu,zn.valuesIn=function(t){return null==t?[]:tn(t,Lu(t))},zn.without=ua,zn.words=Xu,zn.wrap=function(t,e){return Oa(bi(e),t)},zn.xor=ca,zn.xorBy=la,zn.xorWith=sa,zn.zip=fa,zn.zipObject=function(t,e){return mi(t||[],e||[],nr)},zn.zipObjectDeep=function(t,e){return mi(t||[],e||[],ti)},zn.zipWith=da,zn.entries=ju,zn.entriesIn=Gu,zn.extend=xu,zn.extendWith=wu,cc(zn,zn),zn.add=yc,zn.attempt=$u,zn.camelCase=Uu,zn.capitalize=Wu,zn.ceil=bc,zn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=mu(n))==n?n:0),e!==i&&(e=(e=mu(e))==e?e:0),cr(mu(t),e,n)},zn.clone=function(t){return lr(t,4)},zn.cloneDeep=function(t){return lr(t,5)},zn.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:i)},zn.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:i)},zn.conformsTo=function(t,e){return null==e||sr(t,e,Fu(e))},zn.deburr=Qu,zn.defaultTo=function(t,e){return null==t||t!=t?e:t},zn.divide=Cc,zn.endsWith=function(t,e,n){t=bu(t),e=si(e);var r=t.length,o=n=n===i?r:cr(vu(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},zn.eq=za,zn.escape=function(t){return(t=bu(t))&&q.test(t)?t.replace(K,an):t},zn.escapeRegExp=function(t){return(t=bu(t))&&ot.test(t)?t.replace(it,"\\$&"):t},zn.every=function(t,e,n){var r=Za(t)?Be:vr;return n&&xo(t,e,n)&&(e=i),r(t,lo(e,3))},zn.find=ma,zn.findIndex=Qo,zn.findKey=function(t,e){return ze(t,lo(e,3),xr)},zn.findLast=ya,zn.findLastIndex=Zo,zn.findLastKey=function(t,e){return ze(t,lo(e,3),wr)},zn.floor=xc,zn.forEach=ba,zn.forEachRight=Ca,zn.forIn=function(t,e){return null==t?t:br(t,lo(e,3),Lu)},zn.forInRight=function(t,e){return null==t?t:Cr(t,lo(e,3),Lu)},zn.forOwn=function(t,e){return t&&xr(t,lo(e,3))},zn.forOwnRight=function(t,e){return t&&wr(t,lo(e,3))},zn.get=Au,zn.gt=Ua,zn.gte=Wa,zn.has=function(t,e){return null!=t&&mo(t,e,Ir)},zn.hasIn=Iu,zn.head=Ho,zn.identity=ic,zn.includes=function(t,e,n,r){t=Ha(t)?t:zu(t),n=n&&!r?vu(n):0;var i=t.length;return n<0&&(n=bn(i+n,0)),cu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&We(t,e,n)>-1},zn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:vu(n);return i<0&&(i=bn(r+i,0)),We(t,e,i)},zn.inRange=function(t,e,n){return e=pu(e),n===i?(n=e,e=0):n=pu(n),function(t,e,n){return t>=Cn(e,n)&&t<bn(e,n)}(t=mu(t),e,n)},zn.invoke=Bu,zn.isArguments=Qa,zn.isArray=Za,zn.isArrayBuffer=Ja,zn.isArrayLike=Ha,zn.isArrayLikeObject=Va,zn.isBoolean=function(t){return!0===t||!1===t||nu(t)&&Dr(t)==C},zn.isBuffer=Ka,zn.isDate=Ya,zn.isElement=function(t){return nu(t)&&1===t.nodeType&&!ou(t)},zn.isEmpty=function(t){if(null==t)return!0;if(Ha(t)&&(Za(t)||"string"==typeof t||"function"==typeof t.splice||Ka(t)||su(t)||Qa(t)))return!t.length;var e=go(t);if(e==k||e==T)return!t.size;if(ko(t))return!Pr(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},zn.isEqual=function(t,e){return Lr(t,e)},zn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Lr(t,e,i,n):!!r},zn.isError=qa,zn.isFinite=function(t){return"number"==typeof t&&Ce(t)},zn.isFunction=Xa,zn.isInteger=$a,zn.isLength=tu,zn.isMap=ru,zn.isMatch=function(t,e){return t===e||Rr(t,e,fo(e))},zn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Rr(t,e,fo(e),n)},zn.isNaN=function(t){return iu(t)&&t!=+t},zn.isNative=function(t){if(So(t))throw new St("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _r(t)},zn.isNil=function(t){return null==t},zn.isNull=function(t){return null===t},zn.isNumber=iu,zn.isObject=eu,zn.isObjectLike=nu,zn.isPlainObject=ou,zn.isRegExp=au,zn.isSafeInteger=function(t){return $a(t)&&t>=-9007199254740991&&t<=p},zn.isSet=uu,zn.isString=cu,zn.isSymbol=lu,zn.isTypedArray=su,zn.isUndefined=function(t){return t===i},zn.isWeakMap=function(t){return nu(t)&&go(t)==L},zn.isWeakSet=function(t){return nu(t)&&"[object WeakSet]"==Dr(t)},zn.join=function(t,e){return null==t?"":Ge.call(t,e)},zn.kebabCase=Zu,zn.last=qo,zn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=vu(n))<0?bn(r+o,0):Cn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Ue(t,Ze,o,!0)},zn.lowerCase=Ju,zn.lowerFirst=Hu,zn.lt=fu,zn.lte=du,zn.max=function(t){return t&&t.length?gr(t,ic,Ar):i},zn.maxBy=function(t,e){return t&&t.length?gr(t,lo(e,2),Ar):i},zn.mean=function(t){return Je(t,ic)},zn.meanBy=function(t,e){return Je(t,lo(e,2))},zn.min=function(t){return t&&t.length?gr(t,ic,jr):i},zn.minBy=function(t,e){return t&&t.length?gr(t,lo(e,2),jr):i},zn.stubArray=gc,zn.stubFalse=mc,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=Ec,zn.nth=function(t,e){return t&&t.length?Qr(t,vu(e)):i},zn.noConflict=function(){return ve._===this&&(ve._=zt),this},zn.noop=lc,zn.now=Aa,zn.pad=function(t,e,n){t=bu(t);var r=(e=vu(e))?pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Zi(ge(i),n)+t+Zi(pe(i),n)},zn.padEnd=function(t,e,n){t=bu(t);var r=(e=vu(e))?pn(t):0;return e&&r<e?t+Zi(e-r,n):t},zn.padStart=function(t,e,n){t=bu(t);var r=(e=vu(e))?pn(t):0;return e&&r<e?Zi(e-r,n)+t:t},zn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wn(bu(t).replace(at,""),e||0)},zn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&xo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pu(t),e===i?(e=t,t=0):e=pu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=En();return Cn(t+o*(e-t+fe("1e-"+((o+"").length-1))),e)}return Kr(t,e)},zn.reduce=function(t,e,n){var r=Za(t)?Pe:Ke,i=arguments.length<3;return r(t,lo(e,4),n,i,hr)},zn.reduceRight=function(t,e,n){var r=Za(t)?Oe:Ke,i=arguments.length<3;return r(t,lo(e,4),n,i,pr)},zn.repeat=function(t,e,n){return e=(n?xo(t,e,n):e===i)?1:vu(e),Yr(bu(t),e)},zn.replace=function(){var t=arguments,e=bu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},zn.result=function(t,e,n){var r=-1,o=(e=Ci(e,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[Oo(e[r])];a===i&&(r=o,a=n),t=Xa(a)?a.call(t):a}return t},zn.round=Sc,zn.runInContext=t,zn.sample=function(t){return(Za(t)?Xn:Xr)(t)},zn.size=function(t){if(null==t)return 0;if(Ha(t))return cu(t)?pn(t):t.length;var e=go(t);return e==k||e==T?t.size:Pr(t).length},zn.snakeCase=Vu,zn.some=function(t,e,n){var r=Za(t)?je:oi;return n&&xo(t,e,n)&&(e=i),r(t,lo(e,3))},zn.sortedIndex=function(t,e){return ai(t,e)},zn.sortedIndexBy=function(t,e,n){return ui(t,e,lo(n,2))},zn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&za(t[r],e))return r}return-1},zn.sortedLastIndex=function(t,e){return ai(t,e,!0)},zn.sortedLastIndexBy=function(t,e,n){return ui(t,e,lo(n,2),!0)},zn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(za(t[n],e))return n}return-1},zn.startCase=Ku,zn.startsWith=function(t,e,n){return t=bu(t),n=null==n?0:cr(vu(n),0,t.length),e=si(e),t.slice(n,n+e.length)==e},zn.subtract=kc,zn.sum=function(t){return t&&t.length?Ye(t,ic):0},zn.sumBy=function(t,e){return t&&t.length?Ye(t,lo(e,2)):0},zn.template=function(t,e,n){var r=zn.templateSettings;n&&xo(t,e,n)&&(e=i),t=bu(t),e=wu({},e,r,$i);var o,a,u=wu({},e.imports,r.imports,$i),c=Fu(u),l=tn(u,c),s=0,f=e.interpolate||wt,d="__p += '",h=It((e.escape||wt).source+"|"+f.source+"|"+(f===tt?pt:wt).source+"|"+(e.evaluate||wt).source+"|$","g"),p="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ue+"]")+"\n";t.replace(h,(function(e,n,r,i,u,c){return r||(r=i),d+=t.slice(s,c).replace(Et,un),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),d+="';\n";var v=Nt.call(e,"variable")&&e.variable;if(v){if(dt.test(v))throw new St("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(Z,""):d).replace(J,"$1").replace(H,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=$u((function(){return kt(c,p+"return "+d).apply(i,l)}));if(g.source=d,qa(g))throw g;return g},zn.times=function(t,e){if((t=vu(t))<1||t>p)return[];var n=g,r=Cn(t,g);e=lo(e),t-=g;for(var i=qe(r,e);++n<t;)e(n);return i},zn.toFinite=pu,zn.toInteger=vu,zn.toLength=gu,zn.toLower=function(t){return bu(t).toLowerCase()},zn.toNumber=mu,zn.toSafeInteger=function(t){return t?cr(vu(t),-9007199254740991,p):0===t?t:0},zn.toString=bu,zn.toUpper=function(t){return bu(t).toUpperCase()},zn.trim=function(t,e,n){if((t=bu(t))&&(n||e===i))return Xe(t);if(!t||!(e=si(e)))return t;var r=vn(t),o=vn(e);return wi(r,nn(r,o),rn(r,o)+1).join("")},zn.trimEnd=function(t,e,n){if((t=bu(t))&&(n||e===i))return t.slice(0,gn(t)+1);if(!t||!(e=si(e)))return t;var r=vn(t);return wi(r,0,rn(r,vn(e))+1).join("")},zn.trimStart=function(t,e,n){if((t=bu(t))&&(n||e===i))return t.replace(at,"");if(!t||!(e=si(e)))return t;var r=vn(t);return wi(r,nn(r,vn(e))).join("")},zn.truncate=function(t,e){var n=30,r="...";if(eu(e)){var o="separator"in e?e.separator:o;n="length"in e?vu(e.length):n,r="omission"in e?si(e.omission):r}var a=(t=bu(t)).length;if(cn(t)){var u=vn(t);a=u.length}if(n>=a)return t;var c=n-pn(r);if(c<1)return r;var l=u?wi(u,0,c).join(""):t.slice(0,c);if(o===i)return l+r;if(u&&(c+=l.length-c),au(o)){if(t.slice(c).search(o)){var s,f=l;for(o.global||(o=It(o.source,bu(vt.exec(o))+"g")),o.lastIndex=0;s=o.exec(f);)var d=s.index;l=l.slice(0,d===i?c:d)}}else if(t.indexOf(si(o),c)!=c){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+r},zn.unescape=function(t){return(t=bu(t))&&Y.test(t)?t.replace(V,mn):t},zn.uniqueId=function(t){var e=++Pt;return bu(t)+e},zn.upperCase=Yu,zn.upperFirst=qu,zn.each=ba,zn.eachRight=Ca,zn.first=Ho,cc(zn,(wc={},xr(zn,(function(t,e){Nt.call(zn.prototype,e)||(wc[e]=t)})),wc),{chain:!1}),zn.VERSION="4.17.21",Me(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){zn[t].placeholder=zn})),Me(["drop","take"],(function(t,e){Zn.prototype[t]=function(n){n=n===i?1:bn(vu(n),0);var r=this.__filtered__&&!e?new Zn(this):this.clone();return r.__filtered__?r.__takeCount__=Cn(n,r.__takeCount__):r.__views__.push({size:Cn(n,g),type:t+(r.__dir__<0?"Right":"")}),r},Zn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Me(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Zn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Me(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Zn.prototype[t]=function(){return this[n](1).value()[0]}})),Me(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Zn.prototype[t]=function(){return this.__filtered__?new Zn(this):this[n](1)}})),Zn.prototype.compact=function(){return this.filter(ic)},Zn.prototype.find=function(t){return this.filter(t).head()},Zn.prototype.findLast=function(t){return this.reverse().find(t)},Zn.prototype.invokeMap=qr((function(t,e){return"function"==typeof t?new Zn(this):this.map((function(n){return Br(n,t,e)}))})),Zn.prototype.reject=function(t){return this.filter(Na(lo(t)))},Zn.prototype.slice=function(t,e){t=vu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Zn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=vu(e))<0?n.dropRight(-e):n.take(e-t)),n)},Zn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Zn.prototype.toArray=function(){return this.take(g)},xr(Zn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=zn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(zn.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,c=e instanceof Zn,l=u[0],s=c||Za(e),f=function(t){var e=o.apply(zn,Ne([t],u));return r&&d?e[0]:e};s&&n&&"function"==typeof l&&1!=l.length&&(c=s=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=c&&!h;if(!a&&s){e=v?e:new Zn(this);var g=t.apply(e,u);return g.__actions__.push({func:pa,args:[f],thisArg:i}),new Qn(g,d)}return p&&v?t.apply(this,u):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})})),Me(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Bt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);zn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Za(i)?i:[],t)}return this[n]((function(n){return e.apply(Za(n)?n:[],t)}))}})),xr(Zn.prototype,(function(t,e){var n=zn[e];if(n){var r=n.name+"";Nt.call(Fn,r)||(Fn[r]=[]),Fn[r].push({name:e,func:n})}})),Fn[zi(i,2).name]=[{name:"wrapper",func:i}],Zn.prototype.clone=function(){var t=new Zn(this.__wrapped__);return t.__actions__=Ti(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ti(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ti(this.__views__),t},Zn.prototype.reverse=function(){if(this.__filtered__){var t=new Zn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Zn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Za(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Cn(e,t+a);break;case"takeRight":t=bn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,c=u-a,l=r?u:a-1,s=this.__iteratees__,f=s.length,d=0,h=Cn(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return vi(t,this.__actions__);var p=[];t:for(;c--&&d<h;){for(var v=-1,g=t[l+=e];++v<f;){var m=s[v],y=m.iteratee,b=m.type,C=y(g);if(2==b)g=C;else if(!C){if(1==b)continue t;break t}}p[d++]=g}return p},zn.prototype.at=va,zn.prototype.chain=function(){return ha(this)},zn.prototype.commit=function(){return new Qn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===i&&(this.__values__=hu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},zn.prototype.plant=function(t){for(var e,n=this;n instanceof Wn;){var r=Go(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},zn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Zn){var e=t;return this.__actions__.length&&(e=new Zn(this)),(e=e.reverse()).__actions__.push({func:pa,args:[ea],thisArg:i}),new Qn(e,this.__chain__)}return this.thru(ea)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,Xt&&(zn.prototype[Xt]=function(){return this}),zn}();ve._=yn,(r=function(){return yn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},21192:function(t,e,n){var r=n(99088);t.exports=function(){return r.Date.now()}},5800:function(t,e,n){var r=n(94608),i=n(50636);t.exports=function(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:o,maxWait:e,trailing:a})}},40080:function(t,e,n){var r=n(83900),i=n(50636),o=n(47432),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},35176:function(){},19600:function(){},9443:function(t){"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,i){for(var o,a,u=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(e){a=e(o);for(var s=0;s<a.length;s++)r.call(o,a[s])&&(u[a[s]]=o[a[s]])}}return u}},57336:function(t,e,n){"use strict";var r=n(97200);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},40900:function(t,e,n){t.exports=n(57336)()},97200:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},73019:function(t,e,n){"use strict";e.__esModule=!0,e.didNotFindHydratableTextInstance=e.didNotFindHydratableInstance=e.didNotFindHydratableContainerTextInstance=e.didNotFindHydratableContainerInstance=e.didNotHydrateInstance=e.didNotHydrateContainerInstance=e.didNotMatchHydratedTextInstance=e.didNotMatchHydratedContainerTextInstance=e.hydrateTextInstance=e.hydrateInstance=e.getFirstHydratableChild=e.getNextHydratableSibling=e.canHydrateTextInstance=e.canHydrateInstance=e.supportsHydration=void 0;var r,i=n(22676),o=(r=i)&&r.__esModule?r:{default:r};function a(){(0,o.default)(!1,"The current renderer does not support hyration. This error is likely caused by a bug in React. Please file an issue.")}e.supportsHydration=!1,e.canHydrateInstance=a,e.canHydrateTextInstance=a,e.getNextHydratableSibling=a,e.getFirstHydratableChild=a,e.hydrateInstance=a,e.hydrateTextInstance=a,e.didNotMatchHydratedContainerTextInstance=a,e.didNotMatchHydratedTextInstance=a,e.didNotHydrateContainerInstance=a,e.didNotHydrateInstance=a,e.didNotFindHydratableContainerInstance=a,e.didNotFindHydratableContainerTextInstance=a,e.didNotFindHydratableInstance=a,e.didNotFindHydratableTextInstance=a},99148:function(t,e,n){"use strict";e.__esModule=!0,e.createHiddenTextInstance=e.cloneUnhiddenInstance=e.cloneHiddenInstance=e.replaceContainerChildren=e.finalizeContainerChildren=e.appendChildToContainerChildSet=e.createContainerChildSet=e.cloneInstance=e.supportsPersistence=void 0;var r,i=n(22676),o=(r=i)&&r.__esModule?r:{default:r};function a(){(0,o.default)(!1,"The current renderer does not support persistence. This error is likely caused by a bug in React. Please file an issue.")}e.supportsPersistence=!1,e.cloneInstance=a,e.createContainerChildSet=a,e.appendChildToContainerChildSet=a,e.finalizeContainerChildren=a,e.replaceContainerChildren=a,e.cloneHiddenInstance=a,e.cloneUnhiddenInstance=a,e.createHiddenTextInstance=a},11276:function(t,e){"use strict";e.__esModule=!0,e.getClosestInstanceFromNode=function(t){if(t[i])return t[i];for(;!t[i];){if(!t.parentNode)return null;t=t.parentNode}var e=t[i];if(e.tag===n||e.tag===r)return e;return null};var n=5,r=6,i="__reactInternalInstance$"+Math.random().toString(36).slice(2)},2480:function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(9880);n(25700);t.exports=r({},i)},9880:function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=n(43400),o=n(81868),a=n(64932),u=n(11276),c=n(74664),l=n(48720),s=l.applyNodeProps,f=l.toggleStrictMode,d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){o.isBrowser&&(this._stage=new o.Stage({width:this.props.width,height:this.props.height,container:this._tagRef}),this._setRef(this._stage),s(this._stage,this.props),this._mountNode=p.createContainer(this._stage),p.updateContainer(this.props.children,this._mountNode,this))},e.prototype._setRef=function(t){var e=this.props.forwardedRef;e&&("function"==typeof e?e(t):e.current=t)},e.prototype.componentDidUpdate=function(t){o.isBrowser&&(this._setRef(this._stage),s(this._stage,this.props,t),p.updateContainer(this.props.children,this._mountNode,this))},e.prototype.componentWillUnmount=function(){o.isBrowser&&(this._setRef(null),p.updateContainer(null,this._mountNode,this),this._stage.destroy())},e.prototype.getStage=function(){return this._stage},e.prototype.render=function(){var t=this,e=this.props;return i.createElement("div",{ref:function(e){return t._tagRef=e},accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},e}(i.Component),h={};["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"].forEach((function(t){h[t]=t}));var p=a(c);p.injectIntoDevTools({findFiberByHostInstance:u.getClosestInstanceFromNode,bundleType:0,version:i.version,rendererPackageName:"react-konva",getInspectorDataForViewTag:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n]}});var v=i.forwardRef((function(t,e){return i.createElement(d,r({},t,{forwardedRef:e}))}));t.exports=r({},h,{__matchRectVersion:!0,Stage:v,useStrictMode:f})},74664:function(t,e,n){"use strict";e.__esModule=!0,e.supportsMutation=e.isPrimaryRenderer=e.cancelPassiveEffects=e.schedulePassiveEffects=e.noTimeout=e.cancelTimeout=e.scheduleTimeout=e.cancelDeferredCallback=e.shouldYield=e.scheduleDeferredCallback=e.now=void 0;var r=n(99148);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i=n(73019);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var o=n(82328);Object.defineProperty(e,"now",{enumerable:!0,get:function(){return o.unstable_now}}),Object.defineProperty(e,"scheduleDeferredCallback",{enumerable:!0,get:function(){return o.unstable_scheduleCallback}}),Object.defineProperty(e,"shouldYield",{enumerable:!0,get:function(){return o.unstable_shouldYield}}),Object.defineProperty(e,"cancelDeferredCallback",{enumerable:!0,get:function(){return o.unstable_cancelCallback}}),e.appendInitialChild=function(t,e){if("string"==typeof e)return void(0,c.default)(!1,'Don not use plain text as child of Konva.Node. You are using text: "%s"',e);t.add(e),(0,u.updatePicture)(t)},e.createInstance=function(t,e,n){var r=a.default[t];if(!r)return void(0,c.default)(s,'Konva has no node with the type "%s". If you use minimal version of react-konva, just import required nodes into Konva: `import "konva/lib/shapes/%s"`  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html',t,t);var i={},o={};for(var l in e){"on"===l.slice(0,2)?o[l]=e[l]:i[l]=e[l]}var s=new r(i);return(0,u.applyNodeProps)(s,o),s},e.createTextInstance=function(t,e,n){(0,c.default)(!1,'Text components are not supported for now in ReactKonva. You text is: "'+t+'"')},e.finalizeInitialChildren=function(t,e,n){return!1},e.getPublicInstance=function(t){return t},e.prepareForCommit=function(){},e.prepareUpdate=function(t,e,n,r){return f},e.resetAfterCommit=function(){},e.resetTextContent=function(t){},e.shouldDeprioritizeSubtree=function(t,e){return!1},e.getRootHostContext=function(){return s},e.getChildHostContext=function(){return s},e.shouldSetTextContent=function(t,e){return!1},e.appendChild=function(t,e){e.parent===t?e.moveToTop():t.add(e);(0,u.updatePicture)(t)},e.appendChildToContainer=function(t,e){e.parent===t?e.moveToTop():t.add(e);(0,u.updatePicture)(t)},e.insertBefore=d,e.insertInContainerBefore=function(t,e,n){d(t,e,n)},e.removeChild=function(t,e){e.destroy(),e.off(u.EVENTS_NAMESPACE),(0,u.updatePicture)(t)},e.removeChildFromContainer=function(t,e){e.destroy(),e.off(u.EVENTS_NAMESPACE),(0,u.updatePicture)(t)},e.commitTextUpdate=function(t,e,n){(0,c.default)(!1,'Text components are not yet supported in ReactKonva. You text is: "'+n+'"')},e.commitMount=function(t,e,n){},e.commitUpdate=function(t,e,n,r,i){(0,u.applyNodeProps)(t,i,r)},e.hideInstance=function(t){t.hide(),(0,u.updatePicture)(t)},e.hideTextInstance=function(t){},e.unhideInstance=function(t,e){(null==e.visible||e.visible)&&t.show()},e.unhideTextInstance=function(t,e){};var a=l(n(81868)),u=n(48720),c=l(n(22676));function l(t){return t&&t.__esModule?t:{default:t}}var s={},f={};a.default.Node.prototype._applyProps=u.applyNodeProps;e.scheduleTimeout=setTimeout,e.cancelTimeout=clearTimeout,e.noTimeout=-1,e.schedulePassiveEffects=o.unstable_scheduleCallback,e.cancelPassiveEffects=o.unstable_cancelCallback;e.isPrimaryRenderer=!1,e.supportsMutation=!0;function d(t,e,n){(0,c.default)(e!==n,"ReactKonva: Can not insert node before itself"),e._remove(),t.add(e),e.setZIndex(n.getZIndex()),(0,u.updatePicture)(t)}},22676:function(t){"use strict";var e=function(t){if(void 0===t)throw new Error("invariant(...): Second argument must be a string.")};t.exports=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(e(n),!t){var a;if(void 0===n)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;(a=new Error(n.replace(/%s/g,(function(){return String(i[u++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},48720:function(t,e){"use strict";e.__esModule=!0,e.toggleStrictMode=function(t){a=t},e.applyNodeProps=function(t,e){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;!r&&"zIndex"in e&&(r=!0);if(!i&&e.draggable){var s=void 0!==e.x||void 0!==e.y,f=e.onDragEnd||e.onDragMove;s&&!f&&(i=!0)}for(var d in l)if(!n[d]){var h="on"===d.slice(0,2),p=l[d]!==e[d];if(h&&p)"content"===(C=d.substr(2).toLowerCase()).substr(0,7)&&(C="content"+C.substr(7,1).toUpperCase()+C.substr(8)),t.off(C,l[d]);!e.hasOwnProperty(d)&&t.setAttr(d,void 0)}var v=a||e._useStrictMode,g={},m=!1,y={};for(var d in e)if(!n[d]){h="on"===d.slice(0,2);var b=l[d]!==e[d];if(h&&b)"content"===(C=d.substr(2).toLowerCase()).substr(0,7)&&(C="content"+C.substr(7,1).toUpperCase()+C.substr(8)),e[d]&&(y[C]=e[d]);!h&&(e[d]!==l[d]||v&&e[d]!==t.getAttr(d))&&(m=!0,g[d]=e[d])}m&&(t.setAttrs(g),c(t));for(var C in y)t.on(C+o,y[C])},e.updatePicture=c;var n={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0},r=!1,i=!1,o=e.EVENTS_NAMESPACE=".react-konva-event",a=!1;var u={};function c(t){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}},65080:function(t,e,n){(t=n.nmd(t)).exports=function e(r){"use strict";var i=n(9443),o=n(43400),a=n(82328);function u(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;c.hasOwnProperty("ReactCurrentDispatcher")||(c.ReactCurrentDispatcher={current:null}),c.hasOwnProperty("ReactCurrentBatchConfig")||(c.ReactCurrentBatchConfig={suspense:null});var l="function"==typeof Symbol&&Symbol.for,s=l?Symbol.for("react.element"):60103,f=l?Symbol.for("react.portal"):60106,d=l?Symbol.for("react.fragment"):60107,h=l?Symbol.for("react.strict_mode"):60108,p=l?Symbol.for("react.profiler"):60114,v=l?Symbol.for("react.provider"):60109,g=l?Symbol.for("react.context"):60110,m=l?Symbol.for("react.concurrent_mode"):60111,y=l?Symbol.for("react.forward_ref"):60112,b=l?Symbol.for("react.suspense"):60113,C=l?Symbol.for("react.suspense_list"):60120,x=l?Symbol.for("react.memo"):60115,w=l?Symbol.for("react.lazy"):60116,E=l?Symbol.for("react.block"):60121,S="function"==typeof Symbol&&Symbol.iterator;function k(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=S&&t[S]||t["@@iterator"])?t:null}function D(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case d:return"Fragment";case f:return"Portal";case p:return"Profiler";case h:return"StrictMode";case b:return"Suspense";case C:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case g:return"Context.Consumer";case v:return"Context.Provider";case y:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case x:return D(t.type);case E:return D(t.render);case w:if(t=1===t._status?t._result:null)return D(t)}return null}function A(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function I(t){if(A(t)!==t)throw Error(u(188))}function M(t){var e=t.alternate;if(!e){if(null===(e=A(t)))throw Error(u(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return I(i),t;if(o===r)return I(i),e;o=o.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?t:e}function T(t){if(!(t=M(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var B=r.getPublicInstance,F=r.getRootHostContext,L=r.getChildHostContext,R=r.prepareForCommit,_=r.resetAfterCommit,N=r.createInstance,P=r.appendInitialChild,O=r.finalizeInitialChildren,j=r.prepareUpdate,G=r.shouldSetTextContent,z=r.shouldDeprioritizeSubtree,U=r.createTextInstance,W=r.setTimeout,Q=r.clearTimeout,Z=r.noTimeout,J=r.isPrimaryRenderer,H=r.supportsMutation,V=r.supportsPersistence,K=r.supportsHydration,Y=r.appendChild,q=r.appendChildToContainer,X=r.commitTextUpdate,$=r.commitMount,tt=r.commitUpdate,et=r.insertBefore,nt=r.insertInContainerBefore,rt=r.removeChild,it=r.removeChildFromContainer,ot=r.resetTextContent,at=r.hideInstance,ut=r.hideTextInstance,ct=r.unhideInstance,lt=r.unhideTextInstance,st=r.cloneInstance,ft=r.createContainerChildSet,dt=r.appendChildToContainerChildSet,ht=r.finalizeContainerChildren,pt=r.replaceContainerChildren,vt=r.cloneHiddenInstance,gt=r.cloneHiddenTextInstance,mt=r.canHydrateInstance,yt=r.canHydrateTextInstance,bt=r.isSuspenseInstancePending,Ct=r.isSuspenseInstanceFallback,xt=r.getNextHydratableSibling,wt=r.getFirstHydratableChild,Et=r.hydrateInstance,St=r.hydrateTextInstance,kt=r.getNextHydratableInstanceAfterSuspenseInstance,Dt=r.commitHydratedContainer,At=r.commitHydratedSuspenseInstance,It=/^(.*)[\\\/]/;function Mt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=D(t.type);n=null,r&&(n=D(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(It,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var Tt=[],Bt=-1;function Ft(t){0>Bt||(t.current=Tt[Bt],Tt[Bt]=null,Bt--)}function Lt(t,e){Bt++,Tt[Bt]=t.current,t.current=e}var Rt={},_t={current:Rt},Nt={current:!1},Pt=Rt;function Ot(t,e){var n=t.type.contextTypes;if(!n)return Rt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function jt(t){return null!=(t=t.childContextTypes)}function Gt(){Ft(Nt),Ft(_t)}function zt(t,e,n){if(_t.current!==Rt)throw Error(u(168));Lt(_t,e),Lt(Nt,n)}function Ut(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(u(108,D(e)||"Unknown",o));return i({},n,{},r)}function Wt(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rt,Pt=_t.current,Lt(_t,t),Lt(Nt,Nt.current),!0}function Qt(t,e,n){var r=t.stateNode;if(!r)throw Error(u(169));n?(t=Ut(t,e,Pt),r.__reactInternalMemoizedMergedChildContext=t,Ft(Nt),Ft(_t),Lt(_t,t)):Ft(Nt),Lt(Nt,n)}var Zt=a.unstable_runWithPriority,Jt=a.unstable_scheduleCallback,Ht=a.unstable_cancelCallback,Vt=a.unstable_requestPaint,Kt=a.unstable_now,Yt=a.unstable_getCurrentPriorityLevel,qt=a.unstable_ImmediatePriority,Xt=a.unstable_UserBlockingPriority,$t=a.unstable_NormalPriority,te=a.unstable_LowPriority,ee=a.unstable_IdlePriority,ne={},re=a.unstable_shouldYield,ie=void 0!==Vt?Vt:function(){},oe=null,ae=null,ue=!1,ce=Kt(),le=1e4>ce?Kt:function(){return Kt()-ce};function se(){switch(Yt()){case qt:return 99;case Xt:return 98;case $t:return 97;case te:return 96;case ee:return 95;default:throw Error(u(332))}}function fe(t){switch(t){case 99:return qt;case 98:return Xt;case 97:return $t;case 96:return te;case 95:return ee;default:throw Error(u(332))}}function de(t,e){return t=fe(t),Zt(t,e)}function he(t,e,n){return t=fe(t),Jt(t,e,n)}function pe(t){return null===oe?(oe=[t],ae=Jt(qt,ge)):oe.push(t),ne}function ve(){if(null!==ae){var t=ae;ae=null,Ht(t)}ge()}function ge(){if(!ue&&null!==oe){ue=!0;var t=0;try{var e=oe;de(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),oe=null}catch(e){throw null!==oe&&(oe=oe.slice(t+1)),Jt(qt,ve),e}finally{ue=!1}}}function me(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}var ye="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},be=Object.prototype.hasOwnProperty;function Ce(t,e){if(ye(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!be.call(e,n[r])||!ye(t[n[r]],e[n[r]]))return!1;return!0}function xe(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var we={current:null},Ee=null,Se=null,ke=null;function De(){ke=Se=Ee=null}function Ae(t,e){t=t.type._context,J?(Lt(we,t._currentValue),t._currentValue=e):(Lt(we,t._currentValue2),t._currentValue2=e)}function Ie(t){var e=we.current;Ft(we),t=t.type._context,J?t._currentValue=e:t._currentValue2=e}function Me(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function Te(t,e){Ee=t,ke=Se=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(ir=!0),t.firstContext=null)}function Be(t,e){if(ke!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(ke=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Se){if(null===Ee)throw Error(u(308));Se=e,Ee.dependencies={expirationTime:0,firstContext:e,responders:null}}else Se=Se.next=e;return J?t._currentValue:t._currentValue2}var Fe=!1;function Le(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Re(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function _e(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function Ne(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Pe(t,e){var n=t.alternate;null!==n&&Re(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function Oe(t,e,n,r){var o=t.updateQueue;Fe=!1;var a=o.baseQueue,u=o.shared.pending;if(null!==u){if(null!==a){var c=a.next;a.next=u.next,u.next=c}a=u,o.shared.pending=null,null!==(c=t.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=u))}if(null!==a){c=a.next;var l=o.baseState,s=0,f=null,d=null,h=null;if(null!==c)for(var p=c;;){if((u=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(d=h=v,f=l):h=h.next=v,u>s&&(s=u)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Vi(u,p.suspenseConfig);t:{var g=t,m=p;switch(u=e,v=n,m.tag){case 1:if("function"==typeof(g=m.payload)){l=g.call(v,l,u);break t}l=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(u="function"==typeof(g=m.payload)?g.call(v,l,u):g))break t;l=i({},l,u);break t;case 2:Fe=!0}}null!==p.callback&&(t.effectTag|=32,null===(u=o.effects)?o.effects=[p]:u.push(p))}if(null===(p=p.next)||p===c){if(null===(u=o.shared.pending))break;p=a.next=u.next,u.next=c,o.baseQueue=a=u,o.shared.pending=null}}null===h?f=l:h.next=d,o.baseState=f,o.baseQueue=h,Ki(s),t.expirationTime=s,t.memoizedState=l}}function je(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(u(191,r));r.call(i)}}}var Ge=c.ReactCurrentBatchConfig,ze=(new o.Component).refs;function Ue(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var We={isMounted:function(t){return!!(t=t._reactInternalFiber)&&A(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=_i(),i=Ge.suspense;(i=_e(r=Ni(r,t,i),i)).payload=e,null!=n&&(i.callback=n),Ne(t,i),Pi(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=_i(),i=Ge.suspense;(i=_e(r=Ni(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),Ne(t,i),Pi(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=_i(),r=Ge.suspense;(r=_e(n=Ni(n,t,r),r)).tag=2,null!=e&&(r.callback=e),Ne(t,r),Pi(t,n)}};function Qe(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Ce(n,r)||!Ce(i,o))}function Ze(t,e,n){var r=!1,i=Rt,o=e.contextType;return"object"==typeof o&&null!==o?o=Be(o):(i=jt(e)?Pt:_t.current,o=(r=null!=(r=e.contextTypes))?Ot(t,i):Rt),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=We,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Je(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&We.enqueueReplaceState(e,e.state,null)}function He(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ze,Le(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=Be(o):(o=jt(e)?Pt:_t.current,i.context=Ot(t,o)),Oe(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(Ue(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&We.enqueueReplaceState(i,i.state,null),Oe(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var Ve=Array.isArray;function Ke(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===ze&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!=typeof t)throw Error(u(284));if(!n._owner)throw Error(u(290,t))}return t}function Ye(t,e){if("textarea"!==t.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function qe(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=mo(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function c(t,e,n,r){return null===e||6!==e.tag?((e=Co(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Ke(t,e,n),r.return=t,r):((r=yo(n.type,n.key,n.props,null,t.mode,r)).ref=Ke(t,e,n),r.return=t,r)}function h(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=xo(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function p(t,e,n,r,o){return null===e||7!==e.tag?((e=bo(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function v(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Co(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case s:return(n=yo(e.type,e.key,e.props,null,t.mode,n)).ref=Ke(t,null,e),n.return=t,n;case f:return(e=xo(e,t.mode,n)).return=t,e}if(Ve(e)||k(e))return(e=bo(e,t.mode,n,null)).return=t,e;Ye(t,e)}return null}function g(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case s:return n.key===i?n.type===d?p(t,e,n.props.children,r,i):l(t,e,n,r):null;case f:return n.key===i?h(t,e,n,r):null}if(Ve(n)||k(n))return null!==i?null:p(t,e,n,r,null);Ye(t,n)}return null}function m(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return c(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case s:return t=t.get(null===r.key?n:r.key)||null,r.type===d?p(e,t,r.props.children,i,r.key):l(e,t,r,i);case f:return h(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Ve(r)||k(r))return p(e,t=t.get(n)||null,r,i,null);Ye(e,r)}return null}function y(i,a,u,c){for(var l=null,s=null,f=a,d=a=0,h=null;null!==f&&d<u.length;d++){f.index>d?(h=f,f=null):h=f.sibling;var p=g(i,f,u[d],c);if(null===p){null===f&&(f=h);break}t&&f&&null===p.alternate&&e(i,f),a=o(p,a,d),null===s?l=p:s.sibling=p,s=p,f=h}if(d===u.length)return n(i,f),l;if(null===f){for(;d<u.length;d++)null!==(f=v(i,u[d],c))&&(a=o(f,a,d),null===s?l=f:s.sibling=f,s=f);return l}for(f=r(i,f);d<u.length;d++)null!==(h=m(f,i,d,u[d],c))&&(t&&null!==h.alternate&&f.delete(null===h.key?d:h.key),a=o(h,a,d),null===s?l=h:s.sibling=h,s=h);return t&&f.forEach((function(t){return e(i,t)})),l}function b(i,a,c,l){var s=k(c);if("function"!=typeof s)throw Error(u(150));if(null==(c=s.call(c)))throw Error(u(151));for(var f=s=null,d=a,h=a=0,p=null,y=c.next();null!==d&&!y.done;h++,y=c.next()){d.index>h?(p=d,d=null):p=d.sibling;var b=g(i,d,y.value,l);if(null===b){null===d&&(d=p);break}t&&d&&null===b.alternate&&e(i,d),a=o(b,a,h),null===f?s=b:f.sibling=b,f=b,d=p}if(y.done)return n(i,d),s;if(null===d){for(;!y.done;h++,y=c.next())null!==(y=v(i,y.value,l))&&(a=o(y,a,h),null===f?s=y:f.sibling=y,f=y);return s}for(d=r(i,d);!y.done;h++,y=c.next())null!==(y=m(d,i,h,y.value,l))&&(t&&null!==y.alternate&&d.delete(null===y.key?h:y.key),a=o(y,a,h),null===f?s=y:f.sibling=y,f=y);return t&&d.forEach((function(t){return e(i,t)})),s}return function(t,r,o,c){var l="object"==typeof o&&null!==o&&o.type===d&&null===o.key;l&&(o=o.props.children);var h="object"==typeof o&&null!==o;if(h)switch(o.$$typeof){case s:t:{for(h=o.key,l=r;null!==l;){if(l.key===h){if(7===l.tag){if(o.type===d){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}}else if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=Ke(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===d?((r=bo(o.props.children,t.mode,c,o.key)).return=t,t=r):((c=yo(o.type,o.key,o.props,null,t.mode,c)).ref=Ke(t,r,o),c.return=t,t=c)}return a(t);case f:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=xo(o,t.mode,c)).return=t,t=r}return a(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Co(o,t.mode,c)).return=t,t=r),a(t);if(Ve(o))return y(t,r,o,c);if(k(o))return b(t,r,o,c);if(h&&Ye(t,o),void 0===o&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(u(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Xe=qe(!0),$e=qe(!1),tn={},en={current:tn},nn={current:tn},rn={current:tn};function on(t){if(t===tn)throw Error(u(174));return t}function an(t,e){Lt(rn,e),Lt(nn,t),Lt(en,tn),t=F(e),Ft(en),Lt(en,t)}function un(){Ft(en),Ft(nn),Ft(rn)}function cn(t){var e=on(rn.current),n=on(en.current);n!==(e=L(n,t.type,e))&&(Lt(nn,t),Lt(en,e))}function ln(t){nn.current===t&&(Ft(en),Ft(nn))}var sn={current:0};function fn(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||bt(n)||Ct(n)))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function dn(t,e){return{responder:t,props:e}}var hn=c.ReactCurrentDispatcher,pn=c.ReactCurrentBatchConfig,vn=0,gn=null,mn=null,yn=null,bn=!1;function Cn(){throw Error(u(321))}function xn(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ye(t[n],e[n]))return!1;return!0}function wn(t,e,n,r,i,o){if(vn=o,gn=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,hn.current=null===t||null===t.memoizedState?Zn:Jn,t=n(r,i),e.expirationTime===vn){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(u(301));o+=1,yn=mn=null,e.updateQueue=null,hn.current=Hn,t=n(r,i)}while(e.expirationTime===vn)}if(hn.current=Qn,e=null!==mn&&null!==mn.next,vn=0,yn=mn=gn=null,bn=!1,e)throw Error(u(300));return t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yn?gn.memoizedState=yn=t:yn=yn.next=t,yn}function Sn(){if(null===mn){var t=gn.alternate;t=null!==t?t.memoizedState:null}else t=mn.next;var e=null===yn?gn.memoizedState:yn.next;if(null!==e)yn=e,mn=t;else{if(null===t)throw Error(u(310));t={memoizedState:(mn=t).memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},null===yn?gn.memoizedState=yn=t:yn=yn.next=t}return yn}function kn(t,e){return"function"==typeof e?e(t):e}function Dn(t){var e=Sn(),n=e.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=t;var r=mn,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=a=o=null,l=i;do{var s=l.expirationTime;if(s<vn){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(a=c=f,o=r):c=c.next=f,s>gn.expirationTime&&(gn.expirationTime=s,Ki(s))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Vi(s,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=a,ye(r,e.memoizedState)||(ir=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function An(t){var e=Sn(),n=e.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);ye(o,e.memoizedState)||(ir=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function In(t){var e=En();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:kn,lastRenderedState:t}).dispatch=Wn.bind(null,gn,t),[e.memoizedState,t]}function Mn(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=gn.updateQueue)?(e={lastEffect:null},gn.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Tn(){return Sn().memoizedState}function Bn(t,e,n,r){var i=En();gn.effectTag|=t,i.memoizedState=Mn(1|e,n,void 0,void 0===r?null:r)}function Fn(t,e,n,r){var i=Sn();r=void 0===r?null:r;var o=void 0;if(null!==mn){var a=mn.memoizedState;if(o=a.destroy,null!==r&&xn(r,a.deps))return void Mn(e,n,o,r)}gn.effectTag|=t,i.memoizedState=Mn(1|e,n,o,r)}function Ln(t,e){return Bn(516,4,t,e)}function Rn(t,e){return Fn(516,4,t,e)}function _n(t,e){return Fn(4,2,t,e)}function Nn(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Pn(t,e,n){return n=null!=n?n.concat([t]):null,Fn(4,2,Nn.bind(null,e,t),n)}function On(){}function jn(t,e){return En().memoizedState=[t,void 0===e?null:e],t}function Gn(t,e){var n=Sn();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&xn(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zn(t,e){var n=Sn();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&xn(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Un(t,e,n){var r=se();de(98>r?98:r,(function(){t(!0)})),de(97<r?97:r,(function(){var r=pn.suspense;pn.suspense=void 0===e?null:e;try{t(!1),n()}finally{pn.suspense=r}}))}function Wn(t,e,n){var r=_i(),i=Ge.suspense;i={expirationTime:r=Ni(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===gn||null!==o&&o===gn)bn=!0,i.expirationTime=vn,gn.expirationTime=vn;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,u=o(a,n);if(i.eagerReducer=o,i.eagerState=u,ye(u,a))return}catch(t){}Pi(t,r)}}var Qn={readContext:Be,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useResponder:Cn,useDeferredValue:Cn,useTransition:Cn},Zn={readContext:Be,useCallback:jn,useContext:Be,useEffect:Ln,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,Bn(4,2,Nn.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bn(4,2,t,e)},useMemo:function(t,e){var n=En();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Wn.bind(null,gn,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},En().memoizedState=t},useState:In,useDebugValue:On,useResponder:dn,useDeferredValue:function(t,e){var n=In(t),r=n[0],i=n[1];return Ln((function(){var n=pn.suspense;pn.suspense=void 0===e?null:e;try{i(t)}finally{pn.suspense=n}}),[t,e]),r},useTransition:function(t){var e=In(!1),n=e[0];return e=e[1],[jn(Un.bind(null,e,t),[e,t]),n]}},Jn={readContext:Be,useCallback:Gn,useContext:Be,useEffect:Rn,useImperativeHandle:Pn,useLayoutEffect:_n,useMemo:zn,useReducer:Dn,useRef:Tn,useState:function(){return Dn(kn)},useDebugValue:On,useResponder:dn,useDeferredValue:function(t,e){var n=Dn(kn),r=n[0],i=n[1];return Rn((function(){var n=pn.suspense;pn.suspense=void 0===e?null:e;try{i(t)}finally{pn.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Dn(kn),n=e[0];return e=e[1],[Gn(Un.bind(null,e,t),[e,t]),n]}},Hn={readContext:Be,useCallback:Gn,useContext:Be,useEffect:Rn,useImperativeHandle:Pn,useLayoutEffect:_n,useMemo:zn,useReducer:An,useRef:Tn,useState:function(){return An(kn)},useDebugValue:On,useResponder:dn,useDeferredValue:function(t,e){var n=An(kn),r=n[0],i=n[1];return Rn((function(){var n=pn.suspense;pn.suspense=void 0===e?null:e;try{i(t)}finally{pn.suspense=n}}),[t,e]),r},useTransition:function(t){var e=An(kn),n=e[0];return e=e[1],[Gn(Un.bind(null,e,t),[e,t]),n]}},Vn=null,Kn=null,Yn=!1;function qn(t,e){var n=vo(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Xn(t,e){switch(t.tag){case 5:return null!==(e=mt(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=yt(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function $n(t){if(Yn){var e=Kn;if(e){var n=e;if(!Xn(t,e)){if(!(e=xt(n))||!Xn(t,e))return t.effectTag=-1025&t.effectTag|2,Yn=!1,void(Vn=t);qn(Vn,n)}Vn=t,Kn=wt(e)}else t.effectTag=-1025&t.effectTag|2,Yn=!1,Vn=t}}function tr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Vn=t}function er(t){if(!K||t!==Vn)return!1;if(!Yn)return tr(t),Yn=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!G(e,t.memoizedProps))for(e=Kn;e;)qn(t,e),e=xt(e);if(tr(t),13===t.tag){if(!K)throw Error(u(316));if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(u(317));Kn=kt(t)}else Kn=Vn?xt(t.stateNode):null;return!0}function nr(){K&&(Kn=Vn=null,Yn=!1)}var rr=c.ReactCurrentOwner,ir=!1;function or(t,e,n,r){e.child=null===t?$e(e,null,n,r):Xe(e,t.child,n,r)}function ar(t,e,n,r,i){n=n.render;var o=e.ref;return Te(e,i),r=wn(t,e,n,r,o,i),null===t||ir?(e.effectTag|=1,or(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Er(t,e,i))}function ur(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||go(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=yo(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,cr(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Ce)(i,r)&&t.ref===e.ref)?Er(t,e,o):(e.effectTag|=1,(t=mo(a,r)).ref=e.ref,t.return=e,e.child=t)}function cr(t,e,n,r,i,o){return null!==t&&Ce(t.memoizedProps,r)&&t.ref===e.ref&&(ir=!1,i<o)?(e.expirationTime=t.expirationTime,Er(t,e,o)):sr(t,e,n,r,o)}function lr(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function sr(t,e,n,r,i){var o=jt(n)?Pt:_t.current;return o=Ot(e,o),Te(e,i),n=wn(t,e,n,r,o,i),null===t||ir?(e.effectTag|=1,or(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Er(t,e,i))}function fr(t,e,n,r,i){if(jt(n)){var o=!0;Wt(e)}else o=!1;if(Te(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Ze(e,n,r),He(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=Be(l):l=Ot(e,l=jt(n)?Pt:_t.current);var s=n.getDerivedStateFromProps,f="function"==typeof s||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||c!==l)&&Je(e,a,r,l),Fe=!1;var d=e.memoizedState;a.state=d,Oe(e,r,a,i),c=e.memoizedState,u!==r||d!==c||Nt.current||Fe?("function"==typeof s&&(Ue(e,n,s,r),c=e.memoizedState),(u=Fe||Qe(e,n,u,r,d,c,l))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=l,r=u):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,Re(t,e),u=e.memoizedProps,a.props=e.type===e.elementType?u:xe(e.type,u),c=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Be(l):l=Ot(e,l=jt(n)?Pt:_t.current),(f="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||c!==l)&&Je(e,a,r,l),Fe=!1,c=e.memoizedState,a.state=c,Oe(e,r,a,i),d=e.memoizedState,u!==r||c!==d||Nt.current||Fe?("function"==typeof s&&(Ue(e,n,s,r),d=e.memoizedState),(s=Fe||Qe(e,n,u,r,c,d,l))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||u===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=l,r=s):("function"!=typeof a.componentDidUpdate||u===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),r=!1);return dr(t,e,n,r,o,i)}function dr(t,e,n,r,i,o){lr(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&Qt(e,n,!1),Er(t,e,o);r=e.stateNode,rr.current=e;var u=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Xe(e,t.child,null,o),e.child=Xe(e,null,u,o)):or(t,e,u,o),e.memoizedState=r.state,i&&Qt(e,n,!0),e.child}function hr(t){var e=t.stateNode;e.pendingContext?zt(0,e.pendingContext,e.pendingContext!==e.context):e.context&&zt(0,e.context,!1),an(t,e.containerInfo)}var pr,vr,gr,mr,yr={dehydrated:null,retryTime:0};function br(t,e,n){var r,i=e.mode,o=e.pendingProps,a=sn.current,u=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&a)&&(null===t||null!==t.memoizedState)),r?(u=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),Lt(sn,1&a),null===t){if(void 0!==o.fallback&&$n(e),u){if(u=o.fallback,(o=bo(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=bo(u,i,n,null)).return=e,o.sibling=n,e.memoizedState=yr,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=$e(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,u){if(o=o.fallback,(n=mo(t,t.pendingProps)).return=e,0==(2&e.mode)&&(u=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=mo(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=yr,e.child=n,i}return n=Xe(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,u){if(u=o.fallback,(o=bo(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=bo(u,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=yr,e.child=o,n}return e.memoizedState=null,e.child=Xe(e,t,o.children,n)}function Cr(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),Me(t.return,e)}function xr(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function wr(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(or(t,e,r.children,n),0!=(2&(r=sn.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Cr(t,n);else if(19===t.tag)Cr(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Lt(sn,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===fn(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xr(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===fn(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xr(e,!0,n,null,o,e.lastEffect);break;case"together":xr(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Er(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&Ki(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(u(153));if(null!==e.child){for(n=mo(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=mo(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Sr(t){t.effectTag|=4}if(H)pr=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)P(t,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},vr=function(){},gr=function(t,e,n,r,i){if((t=t.memoizedProps)!==r){var o=e.stateNode,a=on(en.current);n=j(o,n,t,r,i,a),(e.updateQueue=n)&&Sr(e)}},mr=function(t,e,n,r){n!==r&&Sr(e)};else if(V){pr=function(t,e,n,r){for(var i=e.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=vt(o,i.type,i.memoizedProps,i)),P(t,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=gt(o,i.memoizedProps,i)),P(t,o);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.effectTag)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,pr(t,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var kr=function(t,e,n,r){for(var i=e.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=vt(o,i.type,i.memoizedProps,i)),dt(t,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=gt(o,i.memoizedProps,i)),dt(t,o);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.effectTag)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,kr(t,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};vr=function(t){var e=t.stateNode;if(null!==t.firstEffect){var n=e.containerInfo,r=ft(n);kr(r,t,!1,!1),e.pendingChildren=r,Sr(t),ht(n,r)}},gr=function(t,e,n,r,i){var o=t.stateNode,a=t.memoizedProps;if((t=null===e.firstEffect)&&a===r)e.stateNode=o;else{var u=e.stateNode,c=on(en.current),l=null;a!==r&&(l=j(u,n,a,r,i,c)),t&&null===l?e.stateNode=o:(o=st(o,l,n,a,r,e,t,u),O(o,n,r,i,c)&&Sr(e),e.stateNode=o,t?Sr(e):pr(o,e,!1,!1))}},mr=function(t,e,n,r){n!==r?(t=on(rn.current),n=on(en.current),e.stateNode=U(r,t,n,e),Sr(e)):e.stateNode=t.stateNode}}else vr=function(){},gr=function(){},mr=function(){};function Dr(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ar(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return jt(e.type)&&Gt(),null;case 3:return un(),Ft(Nt),Ft(_t),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===t||null===t.child)&&er(e)&&Sr(e),vr(e),null;case 5:ln(e);var i=on(rn.current);if(n=e.type,null!==t&&null!=e.stateNode)gr(t,e,n,r,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(u(166));return null}if(t=on(en.current),er(e)){if(!K)throw Error(u(175));t=Et(e.stateNode,e.type,e.memoizedProps,i,t,e),e.updateQueue=t,null!==t&&Sr(e)}else{var o=N(n,r,i,t,e);pr(o,e,!1,!1),e.stateNode=o,O(o,n,r,i,t)&&Sr(e)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)mr(t,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(u(166));if(t=on(rn.current),i=on(en.current),er(e)){if(!K)throw Error(u(176));St(e.stateNode,e.memoizedProps,e)&&Sr(e)}else e.stateNode=U(r,t,i,e)}return null;case 13:return Ft(sn),r=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=n,e):(r=null!==r,i=!1,null===t?void 0!==e.memoizedProps.fallback&&er(e):(i=null!==(n=t.memoizedState),r||null===n||null!==(n=t.child.sibling)&&(null!==(o=e.firstEffect)?(e.firstEffect=n,n.nextEffect=o):(e.firstEffect=e.lastEffect=n,n.nextEffect=null),n.effectTag=8)),r&&!i&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&sn.current)?vi===oi&&(vi=ci):(vi!==oi&&vi!==ci||(vi=li),0!==Ci&&null!==di&&(So(di,pi),ko(di,Ci)))),V&&r&&(e.effectTag|=4),H&&(r||i)&&(e.effectTag|=4),null);case 4:return un(),vr(e),null;case 10:return Ie(e),null;case 19:if(Ft(sn),null===(r=e.memoizedState))return null;if(i=0!=(64&e.effectTag),null===(o=r.rendering)){if(i)Dr(r,!1);else if(vi!==oi||null!==t&&0!=(64&t.effectTag))for(t=e.child;null!==t;){if(null!==(o=fn(t))){for(e.effectTag|=64,Dr(r,!1),null!==(t=o.updateQueue)&&(e.updateQueue=t,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,t=n,r=e.child;null!==r;)n=t,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(o=i.alternate)?(i.childExpirationTime=0,i.expirationTime=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=o.childExpirationTime,i.expirationTime=o.expirationTime,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,n=o.dependencies,i.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),r=r.sibling;return Lt(sn,1&sn.current|2),e.child}t=t.sibling}}else{if(!i)if(null!==(t=fn(o))){if(e.effectTag|=64,i=!0,null!==(t=t.updateQueue)&&(e.updateQueue=t,e.effectTag|=4),Dr(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*le()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,i=!0,Dr(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(o.sibling=e.child,e.child=o):(null!==(t=r.last)?t.sibling=o:e.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=le()+500),t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=le(),t.sibling=null,e=sn.current,Lt(sn,i?1&e|2:1&e),t):null}throw Error(u(156,e.tag))}function Ir(t){switch(t.tag){case 1:jt(t.type)&&Gt();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(un(),Ft(Nt),Ft(_t),0!=(64&(e=t.effectTag)))throw Error(u(285));return t.effectTag=-4097&e|64,t;case 5:return ln(t),null;case 13:return Ft(sn),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return Ft(sn),null;case 4:return un(),null;case 10:return Ie(t),null;default:return null}}function Mr(t,e){return{value:t,source:e,stack:Mt(e)}}var Tr="function"==typeof WeakSet?WeakSet:Set;function Br(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=Mt(n)),null!==n&&D(n.type),e=e.value,null!==t&&1===t.tag&&D(t.type)}function Fr(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){uo(t,e)}else e.current=null}function Lr(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:xe(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(u(163))}function Rr(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function _r(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nr(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void _r(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:xe(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&je(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=B(n.child.stateNode);break;case 1:t=n.child.stateNode}je(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&$(t,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(K&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&At(n)))))}throw Error(u(163))}function Pr(t,e,n){switch("function"==typeof ho&&ho(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;de(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(t){uo(i,t)}}t=t.next}while(t!==r)}))}break;case 1:Fr(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){uo(t,e)}}(e,n);break;case 5:Fr(e);break;case 4:H?Qr(t,e,n):V&&function(t){if(V){t=t.stateNode.containerInfo;var e=ft(t);pt(t,e)}}(e)}}function Or(t,e,n){for(var r=e;;)if(Pr(t,r,n),null===r.child||H&&4===r.tag){if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function jr(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&jr(e)}function Gr(t){return 5===t.tag||3===t.tag||4===t.tag}function zr(t){if(H){t:{for(var e=t.return;null!==e;){if(Gr(e)){var n=e;break t}e=e.return}throw Error(u(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(u(161))}16&n.effectTag&&(ot(e),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Gr(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?Ur(t,n,e):Wr(t,n,e)}}function Ur(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?nt(n,t,e):q(n,t);else if(4!==r&&null!==(t=t.child))for(Ur(t,e,n),t=t.sibling;null!==t;)Ur(t,e,n),t=t.sibling}function Wr(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?et(n,t,e):Y(n,t);else if(4!==r&&null!==(t=t.child))for(Wr(t,e,n),t=t.sibling;null!==t;)Wr(t,e,n),t=t.sibling}function Qr(t,e,n){for(var r,i,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(u(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag)Or(t,o,n),i?it(r,o.stateNode):rt(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Pr(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Zr(t,e){if(H){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Rr(3,e);case 1:case 12:case 17:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var i=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&tt(n,o,i,t,r,e)}return;case 6:if(null===e.stateNode)throw Error(u(162));return n=e.memoizedProps,void X(e.stateNode,null!==t?t.memoizedProps:n,n);case 3:return void(K&&(e=e.stateNode,e.hydrate&&(e.hydrate=!1,Dt(e.containerInfo))));case 13:return Jr(e),void Hr(e);case 19:return void Hr(e)}throw Error(u(163))}switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Rr(3,e);case 12:return;case 13:return Jr(e),void Hr(e);case 19:return void Hr(e);case 3:K&&((n=e.stateNode).hydrate&&(n.hydrate=!1,Dt(n.containerInfo)))}t:if(V){switch(e.tag){case 1:case 5:case 6:case 20:break t;case 3:case 4:e=e.stateNode,pt(e.containerInfo,e.pendingChildren);break t}throw Error(u(163))}}function Jr(t){var e=t;if(null===t.memoizedState)var n=!1;else n=!0,e=t.child,wi=le();if(H&&null!==e)t:if(t=e,H)for(e=t;;){if(5===e.tag){var r=e.stateNode;n?at(r):ct(e.stateNode,e.memoizedProps)}else if(6===e.tag)r=e.stateNode,n?ut(r):lt(r,e.memoizedProps);else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(r=e.child.sibling).return=e,e=r;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}}function Hr(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Tr),e.forEach((function(e){var r=lo.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var Vr="function"==typeof WeakMap?WeakMap:Map;function Kr(t,e,n){(n=_e(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ki||(ki=!0,Di=r),Br(t,e)},n}function Yr(t,e,n){(n=_e(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return Br(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ai?Ai=new Set([this]):Ai.add(this),Br(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var qr,Xr=Math.ceil,$r=c.ReactCurrentDispatcher,ti=c.ReactCurrentOwner,ei=0,ni=8,ri=16,ii=32,oi=0,ai=1,ui=2,ci=3,li=4,si=5,fi=ei,di=null,hi=null,pi=0,vi=oi,gi=null,mi=1073741823,yi=1073741823,bi=null,Ci=0,xi=!1,wi=0,Ei=500,Si=null,ki=!1,Di=null,Ai=null,Ii=!1,Mi=null,Ti=90,Bi=null,Fi=0,Li=null,Ri=0;function _i(){return(fi&(ri|ii))!==ei?1073741821-(le()/10|0):0!==Ri?Ri:Ri=1073741821-(le()/10|0)}function Ni(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=se();if(0==(4&e))return 99===r?1073741823:1073741822;if((fi&ri)!==ei)return pi;if(null!==n)t=me(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=me(t,150,100);break;case 97:case 96:t=me(t,5e3,250);break;case 95:t=2;break;default:throw Error(u(326))}return null!==di&&t===pi&&--t,t}function Pi(t,e){if(50<Fi)throw Fi=0,Li=null,Error(u(185));if(null!==(t=Oi(t,e))){var n=se();1073741823===e?(fi&ni)!==ei&&(fi&(ri|ii))===ei?Ui(t):(Gi(t),fi===ei&&ve()):Gi(t),(4&fi)===ei||98!==n&&99!==n||(null===Bi?Bi=new Map([[t,e]]):(void 0===(n=Bi.get(t))||n>e)&&Bi.set(t,e))}}function Oi(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(di===i&&(Ki(e),vi===li&&So(i,pi)),ko(i,e)),i}function ji(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Eo(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Gi(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=pe(Ui.bind(null,t));else{var e=ji(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=_i();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==ne&&Ht(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?pe(Ui.bind(null,t)):he(r,zi.bind(null,t),{timeout:10*(1073741821-e)-le()}),t.callbackNode=e}}}function zi(t,e){if(Ri=0,e)return Do(t,e=_i()),Gi(t),null;var n=ji(t);if(0!==n){if(e=t.callbackNode,(fi&(ri|ii))!==ei)throw Error(u(327));if(io(),t===di&&n===pi||Zi(t,n),null!==hi){var r=fi;fi|=ri;for(var i=Hi();;)try{qi();break}catch(e){Ji(t,e)}if(De(),fi=r,$r.current=i,vi===ai)throw e=gi,Zi(t,n),So(t,n),Gi(t),e;if(null===hi)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=vi,di=null,r){case oi:case ai:throw Error(u(345));case ui:Do(t,2<n?2:n);break;case ci:if(So(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=to(i)),1073741823===mi&&10<(i=wi+Ei-le())){if(xi){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,Zi(t,n);break}}if(0!==(o=ji(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=W(eo.bind(null,t),i);break}eo(t);break;case li:if(So(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=to(i)),xi&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,Zi(t,n);break}if(0!==(i=ji(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==yi?r=10*(1073741821-yi)-le():1073741823===mi?r=0:(r=10*(1073741821-mi)-5e3,0>(r=(i=le())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xr(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=W(eo.bind(null,t),r);break}eo(t);break;case si:if(1073741823!==mi&&null!==bi){o=mi;var a=bi;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=le()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){So(t,n),t.timeoutHandle=W(eo.bind(null,t),r);break}}eo(t);break;default:throw Error(u(329))}if(Gi(t),t.callbackNode===e)return zi.bind(null,t)}}return null}function Ui(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(fi&(ri|ii))!==ei)throw Error(u(327));if(io(),t===di&&e===pi||Zi(t,e),null!==hi){var n=fi;fi|=ri;for(var r=Hi();;)try{Yi();break}catch(e){Ji(t,e)}if(De(),fi=n,$r.current=r,vi===ai)throw n=gi,Zi(t,e),So(t,e),Gi(t),n;if(null!==hi)throw Error(u(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,di=null,eo(t),Gi(t)}return null}function Wi(t,e){var n=fi;fi|=1;try{return t(e)}finally{(fi=n)===ei&&ve()}}function Qi(t,e){if((fi&(ri|ii))!==ei)throw Error(u(187));var n=fi;fi|=1;try{return de(99,t.bind(null,e))}finally{fi=n,ve()}}function Zi(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(n!==Z&&(t.timeoutHandle=Z,Q(n)),null!==hi)for(n=hi.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Gt();break;case 3:un(),Ft(Nt),Ft(_t);break;case 5:ln(r);break;case 4:un();break;case 13:case 19:Ft(sn);break;case 10:Ie(r)}n=n.return}di=t,hi=mo(t.current,null),pi=e,vi=oi,gi=null,yi=mi=1073741823,bi=null,Ci=0,xi=!1}function Ji(t,e){for(;;){try{if(De(),hn.current=Qn,bn)for(var n=gn.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(vn=0,yn=mn=gn=null,bn=!1,null===hi||null===hi.return)return vi=ai,gi=e,hi=null;t:{var i=t,o=hi.return,a=hi,u=e;if(e=pi,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var s=0!=(1&sn.current),f=o;do{var d;if(d=13===f.tag){var h=f.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var p=f.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!s)}}if(d){var v=f.updateQueue;if(null===v){var g=new Set;g.add(c),f.updateQueue=g}else v.add(c);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var m=_e(1073741823,null);m.tag=2,Ne(a,m)}a.expirationTime=1073741823;break t}u=void 0,a=e;var y=i.pingCache;if(null===y?(y=i.pingCache=new Vr,u=new Set,y.set(c,u)):void 0===(u=y.get(c))&&(u=new Set,y.set(c,u)),!u.has(a)){u.add(a);var b=co.bind(null,i,c,a);c.then(b,b)}f.effectTag|=4096,f.expirationTime=e;break t}f=f.return}while(null!==f);u=Error((D(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Mt(a))}vi!==si&&(vi=ui),u=Mr(u,a),f=o;do{switch(f.tag){case 3:c=u,f.effectTag|=4096,f.expirationTime=e,Pe(f,Kr(f,c,e));break t;case 1:c=u;var C=f.type,x=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof C.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ai||!Ai.has(x)))){f.effectTag|=4096,f.expirationTime=e,Pe(f,Yr(f,c,e));break t}}f=f.return}while(null!==f)}hi=$i(hi)}catch(t){e=t;continue}break}}function Hi(){var t=$r.current;return $r.current=Qn,null===t?Qn:t}function Vi(t,e){t<mi&&2<t&&(mi=t),null!==e&&t<yi&&2<t&&(yi=t,bi=e)}function Ki(t){t>Ci&&(Ci=t)}function Yi(){for(;null!==hi;)hi=Xi(hi)}function qi(){for(;null!==hi&&!re();)hi=Xi(hi)}function Xi(t){var e=qr(t.alternate,t,pi);return t.memoizedProps=t.pendingProps,null===e&&(e=$i(t)),ti.current=null,e}function $i(t){hi=t;do{var e=hi.alternate;if(t=hi.return,0==(2048&hi.effectTag)){if(e=Ar(e,hi,pi),1===pi||1!==hi.childExpirationTime){for(var n=0,r=hi.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}hi.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=hi.firstEffect),null!==hi.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=hi.firstEffect),t.lastEffect=hi.lastEffect),1<hi.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=hi:t.firstEffect=hi,t.lastEffect=hi))}else{if(null!==(e=Ir(hi)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=hi.sibling))return e;hi=t}while(null!==hi);return vi===oi&&(vi=si),null}function to(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function eo(t){var e=se();return de(99,no.bind(null,t,e)),null}function no(t,e){do{io()}while(null!==Mi);if((fi&(ri|ii))!==ei)throw Error(u(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(u(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=to(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===di&&(hi=di=null,pi=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=fi;fi|=ii,ti.current=null,R(t.containerInfo),Si=i;do{try{ro()}catch(t){if(null===Si)throw Error(u(330));uo(Si,t),Si=Si.nextEffect}}while(null!==Si);Si=i;do{try{for(var a=t,c=e;null!==Si;){var l=Si.effectTag;if(16&l&&H&&ot(Si.stateNode),128&l){var s=Si.alternate;if(null!==s){var f=s.ref;null!==f&&("function"==typeof f?f(null):f.current=null)}}switch(1038&l){case 2:zr(Si),Si.effectTag&=-3;break;case 6:zr(Si),Si.effectTag&=-3,Zr(Si.alternate,Si);break;case 1024:Si.effectTag&=-1025;break;case 1028:Si.effectTag&=-1025,Zr(Si.alternate,Si);break;case 4:Zr(Si.alternate,Si);break;case 8:var d=a,h=Si,p=c;H?Qr(d,h,p):Or(d,h,p),jr(h)}Si=Si.nextEffect}}catch(t){if(null===Si)throw Error(u(330));uo(Si,t),Si=Si.nextEffect}}while(null!==Si);_(t.containerInfo),t.current=n,Si=i;do{try{for(l=t;null!==Si;){var v=Si.effectTag;if(36&v&&Nr(l,Si.alternate,Si),128&v){s=void 0;var g=Si.ref;if(null!==g){var m=Si.stateNode;if(5===Si.tag)s=B(m);else s=m;"function"==typeof g?g(s):g.current=s}}Si=Si.nextEffect}}catch(t){if(null===Si)throw Error(u(330));uo(Si,t),Si=Si.nextEffect}}while(null!==Si);Si=null,ie(),fi=o}else t.current=n;if(Ii)Ii=!1,Mi=t,Ti=e;else for(Si=i;null!==Si;)e=Si.nextEffect,Si.nextEffect=null,Si=e;if(0===(e=t.firstPendingTime)&&(Ai=null),1073741823===e?t===Li?Fi++:(Fi=0,Li=t):Fi=0,"function"==typeof fo&&fo(n.stateNode,r),Gi(t),ki)throw ki=!1,t=Di,Di=null,t;return(fi&ni)!==ei||ve(),null}function ro(){for(;null!==Si;){var t=Si.effectTag;0!=(256&t)&&Lr(Si.alternate,Si),0==(512&t)||Ii||(Ii=!0,he(97,(function(){return io(),null}))),Si=Si.nextEffect}}function io(){if(90!==Ti){var t=97<Ti?97:Ti;return Ti=90,de(t,oo)}}function oo(){if(null===Mi)return!1;var t=Mi;if(Mi=null,(fi&(ri|ii))!==ei)throw Error(u(331));var e=fi;for(fi|=ii,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Rr(5,n),_r(5,n)}}catch(e){if(null===t)throw Error(u(330));uo(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return fi=e,ve(),!0}function ao(t,e,n){Ne(t,e=Kr(t,e=Mr(n,e),1073741823)),null!==(t=Oi(t,1073741823))&&Gi(t)}function uo(t,e){if(3===t.tag)ao(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){ao(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ai||!Ai.has(r))){Ne(n,t=Yr(n,t=Mr(e,t),1073741823)),null!==(n=Oi(n,1073741823))&&Gi(n);break}}n=n.return}}function co(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),di===t&&pi===n?vi===li||vi===ci&&1073741823===mi&&le()-wi<Ei?Zi(t,pi):xi=!0:Eo(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Gi(t)))}function lo(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Ni(e=_i(),t,null)),null!==(t=Oi(t,e))&&Gi(t)}qr=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||Nt.current)ir=!0;else{if(r<n){switch(ir=!1,e.tag){case 3:hr(e),nr();break;case 5:if(cn(e),4&e.mode&&1!==n&&z(e.type,i))return e.expirationTime=e.childExpirationTime=1,null;break;case 1:jt(e.type)&&Wt(e);break;case 4:an(e,e.stateNode.containerInfo);break;case 10:Ae(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?br(t,e,n):(Lt(sn,1&sn.current),null!==(e=Er(t,e,n))?e.sibling:null);Lt(sn,1&sn.current);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return wr(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),Lt(sn,sn.current),!r)return null}return Er(t,e,n)}ir=!1}}else ir=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=Ot(e,_t.current),Te(e,n),i=wn(null,e,r,t,i,n),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)){var o=!0;Wt(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Le(e);var a=r.getDerivedStateFromProps;"function"==typeof a&&Ue(e,r,a,t),i.updater=We,e.stateNode=i,i._reactInternalFiber=e,He(e,r,t,n),e=dr(null,e,r,!0,o,n)}else e.tag=0,or(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"==typeof t)return go(t)?1:0;if(null!=t){if((t=t.$$typeof)===y)return 11;if(t===x)return 14}return 2}(i),t=xe(i,t),o){case 0:e=sr(null,e,i,t,n);break t;case 1:e=fr(null,e,i,t,n);break t;case 11:e=ar(null,e,i,t,n);break t;case 14:e=ur(null,e,i,xe(i.type,t),r,n);break t}throw Error(u(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,sr(t,e,r,i=e.elementType===r?i:xe(r,i),n);case 1:return r=e.type,i=e.pendingProps,fr(t,e,r,i=e.elementType===r?i:xe(r,i),n);case 3:if(hr(e),r=e.updateQueue,null===t||null===r)throw Error(u(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,Re(t,e),Oe(e,r,null,n),(r=e.memoizedState.element)===i)nr(),e=Er(t,e,n);else{if((i=e.stateNode.hydrate)&&(K?(Kn=wt(e.stateNode.containerInfo),Vn=e,i=Yn=!0):i=!1),i)for(n=$e(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else or(t,e,r,n),nr();e=e.child}return e;case 5:return cn(e),null===t&&$n(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,G(r,i)?a=null:null!==o&&G(r,o)&&(e.effectTag|=16),lr(t,e),4&e.mode&&1!==n&&z(r,i)?(e.expirationTime=e.childExpirationTime=1,e=null):(or(t,e,a,n),e=e.child),e;case 6:return null===t&&$n(e),null;case 13:return br(t,e,n);case 4:return an(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Xe(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,ar(t,e,r,i=e.elementType===r?i:xe(r,i),n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,Ae(e,o=i.value),null!==a){var c=a.value;if(0===(o=ye(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(a.children===i.children&&!Nt.current){e=Er(t,e,n);break t}}else for(null!==(c=e.child)&&(c.return=e);null!==c;){var l=c.dependencies;if(null!==l){a=c.child;for(var s=l.firstContext;null!==s;){if(s.context===r&&0!=(s.observedBits&o)){1===c.tag&&((s=_e(n,null)).tag=2,Ne(c,s)),c.expirationTime<n&&(c.expirationTime=n),null!==(s=c.alternate)&&s.expirationTime<n&&(s.expirationTime=n),Me(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}s=s.next}}else a=10===c.tag&&c.type===e.type?null:c.child;if(null!==a)a.return=c;else for(a=c;null!==a;){if(a===e){a=null;break}if(null!==(c=a.sibling)){c.return=a.return,a=c;break}a=a.return}c=a}}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,Te(e,n),r=r(i=Be(i,o.unstable_observedBits)),e.effectTag|=1,or(t,e,r,n),e.child;case 14:return o=xe(i=e.type,e.pendingProps),ur(t,e,i,o=xe(i.type,o),r,n);case 15:return cr(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xe(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,jt(r)?(t=!0,Wt(e)):t=!1,Te(e,n),Ze(e,r,i),He(e,r,i,n),dr(null,e,r,!0,t,n);case 19:return wr(t,e,n)}throw Error(u(156,e.tag))};var so={current:!1},fo=null,ho=null;function po(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function vo(t,e,n,r){return new po(t,e,n,r)}function go(t){return!(!(t=t.prototype)||!t.isReactComponent)}function mo(t,e){var n=t.alternate;return null===n?((n=vo(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yo(t,e,n,r,i,o){var a=2;if(r=t,"function"==typeof t)go(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case d:return bo(n.children,i,o,e);case m:a=8,i|=7;break;case h:a=8,i|=1;break;case p:return(t=vo(12,n,e,8|i)).elementType=p,t.type=p,t.expirationTime=o,t;case b:return(t=vo(13,n,e,i)).type=b,t.elementType=b,t.expirationTime=o,t;case C:return(t=vo(19,n,e,i)).elementType=C,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case v:a=10;break t;case g:a=9;break t;case y:a=11;break t;case x:a=14;break t;case w:a=16,r=null;break t;case E:a=22;break t}throw Error(u(130,null==t?t:typeof t,""))}return(e=vo(a,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function bo(t,e,n,r){return(t=vo(7,t,r,e)).expirationTime=n,t}function Co(t,e,n){return(t=vo(6,t,null,e)).expirationTime=n,t}function xo(t,e,n){return(e=vo(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wo(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=Z,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Eo(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function So(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function ko(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Do(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}var Ao=null;function Io(t){var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(u(188));throw Error(u(268,Object.keys(t)))}return null===(t=T(e))?null:t.stateNode}function Mo(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function To(t,e){Mo(t,e),(t=t.alternate)&&Mo(t,e)}var Bo=c.IsSomeRendererActing,Fo="function"==typeof a.unstable_flushAllWithoutAsserting,Lo=a.unstable_flushAllWithoutAsserting||function(){for(var t=!1;io();)t=!0;return t};function Ro(e){try{Lo(),function(e){if(null===Ao)try{var n=("require"+Math.random()).slice(0,7);Ao=(t&&t[n])("timers").setImmediate}catch(t){Ao=function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(void 0)}}Ao(e)}((function(){Lo()?Ro(e):e()}))}catch(t){e(t)}}var _o=0,No=!1,Po={__proto__:null,createContainer:function(t,e,n){return t=new wo(t,e,n),e=vo(3,null,null,2===e?7:1===e?3:0),t.current=e,e.stateNode=t,Le(e),t},updateContainer:function(t,e,n,r){var i=e.current,o=_i(),a=Ge.suspense;o=Ni(o,i,a);t:if(n){e:{if(A(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(u(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(jt(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(null!==c);throw Error(u(171))}if(1===n.tag){var l=n.type;if(jt(l)){n=Ut(n,l,c);break t}}n=c}else n=Rt;return null===e.context?e.context=n:e.pendingContext=n,(e=_e(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),Ne(i,e),Pi(i,o),o},batchedEventUpdates:function(t,e){var n=fi;fi|=2;try{return t(e)}finally{(fi=n)===ei&&ve()}},batchedUpdates:Wi,unbatchedUpdates:function(t,e){var n=fi;fi&=-2,fi|=ni;try{return t(e)}finally{(fi=n)===ei&&ve()}},deferredUpdates:function(t){return de(97,t)},syncUpdates:function(t,e,n,r){return de(99,t.bind(null,e,n,r))},discreteUpdates:function(t,e,n,r,i){var o=fi;fi|=4;try{return de(98,t.bind(null,e,n,r,i))}finally{(fi=o)===ei&&ve()}},flushDiscreteUpdates:function(){(fi&(1|ri|ii))===ei&&(function(){if(null!==Bi){var t=Bi;Bi=null,t.forEach((function(t,e){Do(e,t),Gi(e)})),ve()}}(),io())},flushControlled:function(t){var e=fi;fi|=1;try{de(99,t)}finally{(fi=e)===ei&&ve()}},flushSync:Qi,flushPassiveEffects:io,IsThisRendererActing:so,getPublicRootInstance:function(t){return(t=t.current).child?5===t.child.tag?B(t.child.stateNode):t.child.stateNode:null},attemptSynchronousHydration:function(t){switch(t.tag){case 3:var e=t.stateNode;e.hydrate&&function(t,e){Do(t,e),Gi(t),(fi&(ri|ii))===ei&&ve()}(e,e.firstPendingTime);break;case 13:Qi((function(){return Pi(t,1073741823)})),e=me(_i(),150,100),To(t,e)}},attemptUserBlockingHydration:function(t){if(13===t.tag){var e=me(_i(),150,100);Pi(t,e),To(t,e)}},attemptContinuousHydration:function(t){13===t.tag&&(Pi(t,3),To(t,3))},attemptHydrationAtCurrentPriority:function(t){if(13===t.tag){var e=_i();Pi(t,e=Ni(e,t,null)),To(t,e)}},findHostInstance:Io,findHostInstanceWithWarning:function(t){return Io(t)},findHostInstanceWithNoPortals:function(t){return null===(t=function(t){if(!(t=M(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}(t))?null:20===t.tag?t.stateNode.instance:t.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(t){var e=t.findFiberByHostInstance;return function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);fo=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},ho=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}return!0}(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=T(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))},act:function(t){function e(){_o--,Bo.current=n,so.current=r}!1===No&&(No=!0),_o++;var n=Bo.current,r=so.current;Bo.current=!0,so.current=!0;try{var i=Wi(t)}catch(t){throw e(),t}if(null!==i&&"object"==typeof i&&"function"==typeof i.then)return{then:function(t,r){i.then((function(){1<_o||!0===Fo&&!0===n?(e(),t()):Ro((function(n){e(),n?r(n):t()}))}),(function(t){e(),r(t)}))}};try{1!==_o||!1!==Fo&&!1!==n||Lo(),e()}catch(t){throw e(),t}return{then:function(t){t()}}}},Oo=Po&&Po.default||Po;t.exports=Oo.default||Oo;var jo=t.exports;return t.exports=e,jo}},64932:function(t,e,n){"use strict";t.exports=n(65080)},19980:function(t,e,n){"use strict";n.d(e,{o:function(){return a}});var r=n(43400);var i=function(t){(0,r.useEffect)(t,[])},o=n(74808);function a(t){var e={state:t instanceof Function?t():t,setState:function(t){e.state=function(t,e){return"function"==typeof t?t.length?t(e):t():t}(t,e.state),e.setters.forEach((function(t){return t(e.state)}))},setters:[]};return function(){var t=(0,r.useState)(e.state),n=t[0],a=t[1];return i((function(){return function(){e.setters=e.setters.filter((function(t){return t!==a}))}})),(0,o.c)((function(){e.setters.includes(a)||e.setters.push(a)})),[n,e.setState]}}},52484:function(t,e,n){"use strict";var r=n(43400);e.c=function(t,e){var n=(0,r.useState)(null),i=n[0],o=n[1];return(0,r.useEffect)((function(){if(t.current&&"function"==typeof IntersectionObserver){var n=new IntersectionObserver((function(t){o(t[0])}),e);return n.observe(t.current),function(){o(null),n.disconnect()}}return function(){}}),[t.current,e.threshold,e.root,e.rootMargin]),i}},74808:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(43400);var i="undefined"!=typeof window,o=i?r.useLayoutEffect:r.useEffect},29392:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),u=new T(r||[]);return i(a,"_invoke",{value:D(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var C={};l(C,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(B([])));w&&w!==n&&r.call(w,a)&&(C=w);var E=b.prototype=m.prototype=Object.create(C);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,u){var c=f(t[i],t,o);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==typeof s&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function D(t,e,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw o;return F()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=A(a,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=f(t,e,n);if("normal"===c.type){if(r=n.done?v:h,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=v,n.method="throw",n.arg=c.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function B(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:F}}function F(){return{value:e,done:!0}}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},S(k.prototype),l(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new k(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=B,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},82504:function(t,e,n){"use strict";var r=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var u=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,l=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&c()}function u(){a(o)}function c(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(u,e);i=t}return c}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;u.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),s=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},d=y(0,0,0,0);function h(t){return parseFloat(t)||0}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+h(t["border-"+n+"-width"])}),0)}function v(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return d;var r=f(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=h(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,u=h(r.width),c=h(r.height);if("border-box"===r.boxSizing&&(Math.round(u+o)!==e&&(u-=p(r,"left","right")+o),Math.round(c+a)!==n&&(c-=p(r,"top","bottom")+a)),!function(t){return t===f(t).document.documentElement}(t)){var l=Math.round(u+o)-e,s=Math.round(c+a)-n;1!==Math.abs(l)&&(u-=l),1!==Math.abs(s)&&(c-=s)}return y(i.left,i.top,u,c)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"==typeof t.getBBox};function m(t){return i?g(t)?function(t){var e=t.getBBox();return y(0,0,e.width,e.height)}(t):v(t):d}function y(t,e,n,r){return{x:t,y:e,width:n,height:r}}var b=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=m(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),C=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return s(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);s(this,{target:t,contentRect:n})},x=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new b(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new C(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),w="undefined"!=typeof WeakMap?new WeakMap:new r,E=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new x(e,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){E.prototype[t]=function(){var e;return(e=w.get(this))[t].apply(e,arguments)}}));var S=void 0!==o.ResizeObserver?o.ResizeObserver:E;e.c=S},9572:function(t,e){"use strict";var n,r,i,o,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(l,0),t}},s=Date.now();e.unstable_now=function(){return Date.now()-s},n=function(t){null!==u?setTimeout(n,0,t):(u=t,setTimeout(l,0))},r=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},o=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){window.cancelAnimationFrame;window.requestAnimationFrame}if("object"==typeof f&&"function"==typeof f.now)e.unstable_now=function(){return f.now()};else{var v=d.now();e.unstable_now=function(){return d.now()-v}}var g=!1,m=null,y=-1,b=5,C=0;o=function(){return e.unstable_now()>=C},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t||(b=0<t?Math.floor(1e3/t):5)};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();C=t+b;try{m(!0,t)?w.postMessage(null):(g=!1,m=null)}catch(t){throw w.postMessage(null),t}}else g=!1},n=function(t){m=t,g||(g=!0,w.postMessage(null))},r=function(t,n){y=h((function(){t(e.unstable_now())}),n)},i=function(){p(y),y=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<D(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function k(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],u=o+1,c=t[u];if(void 0!==a&&0>D(a,n))void 0!==c&&0>D(c,a)?(t[r]=c,t[u]=n,r=u):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==c&&0>D(c,n)))break t;t[r]=c,t[u]=n,r=u}}}return e}return null}function D(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var A=[],I=[],M=1,T=null,B=3,F=!1,L=!1,R=!1;function _(t){for(var e=S(I);null!==e;){if(null===e.callback)k(I);else{if(!(e.startTime<=t))break;k(I),e.sortIndex=e.expirationTime,E(A,e)}e=S(I)}}function N(t){if(R=!1,_(t),!L)if(null!==S(A))L=!0,n(P);else{var e=S(I);null!==e&&r(N,e.startTime-t)}}function P(t,n){L=!1,R&&(R=!1,i()),F=!0;var a=B;try{for(_(n),T=S(A);null!==T&&(!(T.expirationTime>n)||t&&!o());){var u=T.callback;if(null!==u){T.callback=null,B=T.priorityLevel;var c=u(T.expirationTime<=n);n=e.unstable_now(),"function"==typeof c?T.callback=c:T===S(A)&&k(A),_(n)}else k(A);T=S(A)}if(null!==T)var l=!0;else{var s=S(I);null!==s&&r(N,s.startTime-n),l=!1}return l}finally{T=null,B=a,F=!1}}function O(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var j=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){L||F||(L=!0,n(P))},e.unstable_getCurrentPriorityLevel=function(){return B},e.unstable_getFirstCallbackNode=function(){return S(A)},e.unstable_next=function(t){switch(B){case 1:case 2:case 3:var e=3;break;default:e=B}var n=B;B=e;try{return t()}finally{B=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=j,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=B;B=t;try{return e()}finally{B=n}},e.unstable_scheduleCallback=function(t,o,a){var u=e.unstable_now();if("object"==typeof a&&null!==a){var c=a.delay;c="number"==typeof c&&0<c?u+c:u,a="number"==typeof a.timeout?a.timeout:O(t)}else a=O(t),c=u;return t={id:M++,callback:o,priorityLevel:t,startTime:c,expirationTime:a=c+a,sortIndex:-1},c>u?(t.sortIndex=c,E(I,t),null===S(A)&&t===S(I)&&(R?i():R=!0,r(N,c-u))):(t.sortIndex=a,E(A,t),L||F||(L=!0,n(P))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();_(t);var n=S(A);return n!==T&&null!==T&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<T.expirationTime||o()},e.unstable_wrapCallback=function(t){var e=B;return function(){var n=B;B=e;try{return t.apply(this,arguments)}finally{B=n}}}},82328:function(t,e,n){"use strict";t.exports=n(9572)},76232:function(t,e,n){"use strict";n.d(e,{c:function(){return f}});var r=n(58496),i=n(97552);function o(t){return"object"==(0,r.c)(t)&&null!=t&&1===t.nodeType}function a(t,e){return(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t}function u(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var n=getComputedStyle(t,null);return a(n.overflowY,e)||a(n.overflowX,e)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function c(t,e,n,r,i,o,a,u){return o<t&&a>e||o>t&&a<e?0:o<=t&&u<=n||a>=e&&u>=n?o-t-r:a>e&&u<n||o<t&&u>n?a-e+i:0}var l=function(t,e){var n=window,r=e.scrollMode,a=e.block,l=e.inline,s=e.boundary,f=e.skipOverflowHiddenElements,d="function"==typeof s?s:function(t){return t!==s};if(!o(t))throw new TypeError("Invalid target");for(var h,p,v=document.scrollingElement||document.documentElement,g=[],m=t;o(m)&&d(m);){if((m=null==(p=(h=m).parentElement)?h.getRootNode().host||null:p)===v){g.push(m);break}null!=m&&m===document.body&&u(m)&&!u(document.documentElement)||null!=m&&u(m,f)&&g.push(m)}for(var y=n.visualViewport?n.visualViewport.width:innerWidth,b=n.visualViewport?n.visualViewport.height:innerHeight,C=window.scrollX||pageXOffset,x=window.scrollY||pageYOffset,w=t.getBoundingClientRect(),E=w.height,S=w.width,k=w.top,D=w.right,A=w.bottom,I=w.left,M="start"===a||"nearest"===a?k:"end"===a?A:k+E/2,T="center"===l?I+S/2:"end"===l?D:I,B=[],F=0;F<g.length;F++){var L=g[F],R=L.getBoundingClientRect(),_=R.height,N=R.width,P=R.top,O=R.right,j=R.bottom,G=R.left;if("if-needed"===r&&k>=0&&I>=0&&A<=b&&D<=y&&k>=P&&A<=j&&I>=G&&D<=O)return B;var z=getComputedStyle(L),U=i(z.borderLeftWidth,10),W=i(z.borderTopWidth,10),Q=i(z.borderRightWidth,10),Z=i(z.borderBottomWidth,10),J=0,H=0,V="offsetWidth"in L?L.offsetWidth-L.clientWidth-U-Q:0,K="offsetHeight"in L?L.offsetHeight-L.clientHeight-W-Z:0,Y="offsetWidth"in L?0===L.offsetWidth?0:N/L.offsetWidth:0,q="offsetHeight"in L?0===L.offsetHeight?0:_/L.offsetHeight:0;if(v===L)J="start"===a?M:"end"===a?M-b:"nearest"===a?c(x,x+b,b,W,Z,x+M,x+M+E,E):M-b/2,H="start"===l?T:"center"===l?T-y/2:"end"===l?T-y:c(C,C+y,y,U,Q,C+T,C+T+S,S),J=Math.max(0,J+x),H=Math.max(0,H+C);else{J="start"===a?M-P-W:"end"===a?M-j+Z+K:"nearest"===a?c(P,j,_,W,Z+K,M,M+E,E):M-(P+_/2)+K/2,H="start"===l?T-G-U:"center"===l?T-(G+N/2)+V/2:"end"===l?T-O+Q+V:c(G,O,N,U,Q+V,T,T+S,S);var X=L.scrollLeft,$=L.scrollTop;M+=$-(J=Math.max(0,Math.min($+J/q,L.scrollHeight-_/q+K))),T+=X-(H=Math.max(0,Math.min(X+H/Y,L.scrollWidth-N/Y+V)))}B.push({el:L,top:J,left:H})}return B};function s(t){return t===Object(t)&&0!==Object.keys(t).length}var f=function(t,e){var n=t.isConnected||t.ownerDocument.documentElement.contains(t);if(s(e)&&"function"==typeof e.behavior)return e.behavior(n?l(t,e):[]);if(n){var r=function(t){return!1===t?{block:"end",inline:"nearest"}:s(t)?t:{block:"start",inline:"nearest"}}(e);return function(t,e){void 0===e&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach((function(t){var r=t.el,i=t.top,o=t.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:e}):(r.scrollTop=i,r.scrollLeft=o)}))}(l(t,r),r.behavior)}}},96552:function(t,e,n){"use strict";function r(t){return!0==(null!=(e=t)&&"object"==typeof e&&!1===Array.isArray(e))&&"[object Object]"===Object.prototype.toString.call(t);var e}n.d(e,{GW:function(){return Mt},gr:function(){return kt},a8:function(){return Ft},YH:function(){return Nt},wb:function(){return jt},EH:function(){return zt},a:function(){return Qt},cx:function(){return ae}});var i=function(t){var e,n;return!1!==r(t)&&("function"==typeof(e=t.constructor)&&(!1!==r(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},o=n(73003);function a(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function u(t){return!!t&&!!t[V]}function c(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof n&&Function.toString.call(n)===K}(t)||Array.isArray(t)||!!t[H]||!!t.constructor[H]||v(t)||g(t))}function l(t,e,n){void 0===n&&(n=!1),0===s(t)?(n?Object.keys:Y)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function s(t){var e=t[V];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:v(t)?2:g(t)?3:0}function f(t,e){return 2===s(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){return 2===s(t)?t.get(e):t[e]}function h(t,e,n){var r=s(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function p(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function v(t){return W&&t instanceof Map}function g(t){return Q&&t instanceof Set}function m(t){return t.o||t.t}function y(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=q(t);delete e[V];for(var n=Y(e),r=0;r<n.length;r++){var i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function b(t,e){return void 0===e&&(e=!1),x(t)||u(t)||!c(t)||(s(t)>1&&(t.set=t.add=t.clear=t.delete=C),Object.freeze(t),e&&l(t,(function(t,e){return b(e,!0)}),!0)),t}function C(){a(2)}function x(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function w(t){var e=X[t];return e||a(18,t),e}function E(){return z}function S(t,e){e&&(w("Patches"),t.u=[],t.s=[],t.v=e)}function k(t){D(t),t.p.forEach(I),t.p=null}function D(t){t===z&&(z=t.l)}function A(t){return z={p:[],l:z,h:t,m:!0,_:0}}function I(t){var e=t[V];0===e.i||1===e.i?e.j():e.g=!0}function M(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.O||w("ES5").S(e,t,r),r?(n[V].P&&(k(e),a(4)),c(t)&&(t=T(e,t),e.l||F(e,t)),e.u&&w("Patches").M(n[V],t,e.u,e.s)):t=T(e,n,[]),k(e),e.u&&e.v(e.u,e.s),t!==J?t:void 0}function T(t,e,n){if(x(e))return e;var r=e[V];if(!r)return l(e,(function(i,o){return B(t,r,e,i,o,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return F(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=y(r.k):r.o;l(3===r.i?new Set(i):i,(function(e,o){return B(t,r,i,e,o,n)})),F(t,i,!1),n&&t.u&&w("Patches").R(r,n,t.u,t.s)}return r.o}function B(t,e,n,r,i,o){if(u(i)){var a=T(t,i,o&&e&&3!==e.i&&!f(e.D,r)?o.concat(r):void 0);if(h(n,r,a),!u(a))return;t.m=!1}if(c(i)&&!x(i)){if(!t.h.F&&t._<1)return;T(t,i),e&&e.A.l||F(t,i)}}function F(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&b(e,n)}function L(t,e){var n=t[V];return(n?m(n):t)[e]}function R(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function _(t){t.P||(t.P=!0,t.l&&_(t.l))}function N(t){t.o||(t.o=y(t.t))}function P(t,e,n){var r=v(e)?w("MapSet").N(e,n):g(e)?w("MapSet").T(e,n):t.O?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:E(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},i=r,o=$;n&&(i=[r],o=tt);var a=Proxy.revocable(i,o),u=a.revoke,c=a.proxy;return r.k=c,r.j=u,c}(e,n):w("ES5").J(e,n);return(n?n.A:E()).p.push(r),r}function O(t){return u(t)||a(22,t),function t(e){if(!c(e))return e;var n,r=e[V],i=s(e);if(r){if(!r.P&&(r.i<4||!w("ES5").K(r)))return r.t;r.I=!0,n=j(e,i),r.I=!1}else n=j(e,i);return l(n,(function(e,i){r&&d(r.t,e)===i||h(n,e,t(i))})),3===i?new Set(n):n}(t)}function j(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return y(t)}var G,z,U="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),W="undefined"!=typeof Map,Q="undefined"!=typeof Set,Z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,J=U?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),H=U?Symbol.for("immer-draftable"):"__$immer_draftable",V=U?Symbol.for("immer-state"):"__$immer_state",K=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Y="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,q=Object.getOwnPropertyDescriptors||function(t){var e={};return Y(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},X={},$={get:function(t,e){if(e===V)return t;var n=m(t);if(!f(n,e))return function(t,e,n){var r,i=R(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!c(r)?r:r===L(t.t,e)?(N(t),t.o[e]=P(t.A.h,r,t)):r},has:function(t,e){return e in m(t)},ownKeys:function(t){return Reflect.ownKeys(m(t))},set:function(t,e,n){var r=R(m(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=L(m(t),e),o=null==i?void 0:i[V];if(o&&o.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(p(n,i)&&(void 0!==n||f(t.t,e)))return!0;N(t),_(t)}return t.o[e]===n&&"number"!=typeof n||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==L(t.t,e)||e in t.t?(t.D[e]=!1,N(t),_(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=m(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){a(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){a(12)}},tt={};l($,(function(t,e){tt[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),tt.deleteProperty=function(t,e){return $.deleteProperty.call(this,t[0],e)},tt.set=function(t,e,n){return $.set.call(this,t[0],e,n,t[0])};var et=function(){function t(t){var e=this;this.O=Z,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var o=e;return function(t){var e=this;void 0===t&&(t=i);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return o.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(a))}))}}var u;if("function"!=typeof n&&a(6),void 0!==r&&"function"!=typeof r&&a(7),c(t)){var l=A(e),s=P(e,t,void 0),f=!0;try{u=n(s),f=!1}finally{f?k(l):D(l)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(t){return S(l,r),M(t,l)}),(function(t){throw k(l),t})):(S(l,r),M(u,l))}if(!t||"object"!=typeof t){if((u=n(t))===J)return;return void 0===u&&(u=t),e.F&&b(u,!0),u}a(21,t)},this.produceWithPatches=function(t,n){return"function"==typeof t?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(i))}))}:[e.produce(t,n,(function(t,e){r=t,i=e})),r,i];var r,i},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){c(t)||a(8),u(t)&&(t=O(t));var e=A(this),n=P(this,t,void 0);return n[V].C=!0,D(e),n},e.finishDraft=function(t,e){var n=(t&&t[V]).A;return S(n,e),M(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Z&&a(20),this.O=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}var i=w("Patches").$;return u(t)?i(t,e):this.produce(t,(function(t){return i(t,e.slice(n+1))}))},t}(),nt=new et,rt=nt.produce,it=(nt.produceWithPatches.bind(nt),nt.setAutoFreeze.bind(nt),nt.setUseProxies.bind(nt),nt.applyPatches.bind(nt),nt.createDraft.bind(nt)),ot=nt.finishDraft.bind(nt),at=n(19641),ut=n.n(at);function ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lt=new WeakMap,st=(new WeakMap,new WeakMap),ft=new WeakMap,dt=new WeakMap,ht=new WeakMap;function pt(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var vt=/\s/,gt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,mt=/['\u2018\u2019]/,yt=t=>{for(var e=0,n=null,r=t.charCodeAt(0);r;)if(Ct(r)){var i=xt(r,t,e);if("SURR"===n||"BMP"===n)break;e+=2,n=i?"MOD":"SURR",r=t.charCodeAt(e)}else if(8205!==r)if(Et(r)){if(n&&"ZWJ"!==n&&"VAR"!==n)break;e+=1,n="BMP",r=t.charCodeAt(e)}else{if(!wt(r)){if("MOD"===n){e+=1;break}break}if(n&&"ZWJ"!==n)break;e+=1,n="VAR",r=t.charCodeAt(e)}else e+=1,n="ZWJ",r=t.charCodeAt(e);return e||1},bt=(t,e)=>{if(vt.test(t))return!1;if(mt.test(t)){var n=e.charAt(0),r=yt(n);n=e.slice(0,r);var i=e.slice(r);if(bt(n,i))return!0}return!gt.test(t)},Ct=t=>55296<=t&&t<=57343,xt=(t,e,n)=>{if(55356===t){var r=e.charCodeAt(n+1);return r<=57343&&r>=57339}return!1},wt=t=>t<=65039&&t>=65024,Et=t=>10084===t||9794===t||9792===t||9760===t||9877===t||9992===t||9711===t,St=t=>i(t)&&Ft.isNodeList(t.children)&&!Mt.isEditor(t),kt={isAncestor(t){return i(t)&&Ft.isNodeList(t.children)},isElement:St,isElementList(t){return Array.isArray(t)&&t.every((t=>kt.isElement(t)))},isElementProps(t){return void 0!==t.children},isElementType:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return St(t)&&t[n]===e},matches(t,e){for(var n in e)if("children"!==n&&t[n]!==e[n])return!1;return!0}};function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var It=new WeakMap,Mt={above(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:i=t.selection,match:o}=e;if(i){var a=Mt.path(t,i),u="lowest"===r;for(var[c,l]of Mt.levels(t,{at:a,voids:n,match:o,reverse:u}))if(!Qt.isText(c)&&!Nt.equals(a,l))return[c,l]}},addMark(t,e,n){t.addMark(e,n)},after(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:Mt.point(t,e,{edge:"end"}),focus:Mt.end(t,[])},{distance:o=1}=r,a=0;for(var u of Mt.positions(t,At(At({},r),{},{at:i}))){if(a>o)break;0!==a&&(n=u),a++}return n},before(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:Mt.start(t,[]),focus:Mt.point(t,e,{edge:"start"})},{distance:o=1}=r,a=0;for(var u of Mt.positions(t,At(At({},r),{},{at:i,reverse:!0}))){if(a>o)break;0!==a&&(n=u),a++}return n},deleteBackward(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=e;t.deleteBackward(n)},deleteForward(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=e;t.deleteForward(n)},deleteFragment(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{direction:n="forward"}=e;t.deleteFragment(n)},edges(t,e){return[Mt.start(t,e),Mt.end(t,e)]},end(t,e){return Mt.point(t,e,{edge:"end"})},first(t,e){var n=Mt.path(t,e,{edge:"start"});return Mt.node(t,n)},fragment(t,e){var n=Mt.range(t,e);return Ft.fragment(t,n)},hasBlocks(t,e){return e.children.some((e=>Mt.isBlock(t,e)))},hasInlines(t,e){return e.children.some((e=>Qt.isText(e)||Mt.isInline(t,e)))},hasTexts(t,e){return e.children.every((t=>Qt.isText(t)))},insertBreak(t){t.insertBreak()},insertFragment(t,e){t.insertFragment(e)},insertNode(t,e){t.insertNode(e)},insertText(t,e){t.insertText(e)},isBlock(t,e){return kt.isElement(e)&&!t.isInline(e)},isEditor(t){if(!i(t))return!1;var e=It.get(t);if(void 0!==e)return e;var n="function"==typeof t.addMark&&"function"==typeof t.apply&&"function"==typeof t.deleteBackward&&"function"==typeof t.deleteForward&&"function"==typeof t.deleteFragment&&"function"==typeof t.insertBreak&&"function"==typeof t.insertFragment&&"function"==typeof t.insertNode&&"function"==typeof t.insertText&&"function"==typeof t.isInline&&"function"==typeof t.isVoid&&"function"==typeof t.normalizeNode&&"function"==typeof t.onChange&&"function"==typeof t.removeMark&&(null===t.marks||i(t.marks))&&(null===t.selection||zt.isRange(t.selection))&&Ft.isNodeList(t.children)&&_t.isOperationList(t.operations);return It.set(t,n),n},isEnd(t,e,n){var r=Mt.end(t,n);return jt.equals(e,r)},isEdge(t,e,n){return Mt.isStart(t,e,n)||Mt.isEnd(t,e,n)},isEmpty(t,e){var{children:n}=e,[r]=n;return 0===n.length||1===n.length&&Qt.isText(r)&&""===r.text&&!t.isVoid(e)},isInline(t,e){return kt.isElement(e)&&t.isInline(e)},isNormalizing(t){var e=st.get(t);return void 0===e||e},isStart(t,e,n){if(0!==e.offset)return!1;var r=Mt.start(t,n);return jt.equals(e,r)},isVoid(t,e){return kt.isElement(e)&&t.isVoid(e)},last(t,e){var n=Mt.path(t,e,{edge:"end"});return Mt.node(t,n)},leaf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Mt.path(t,e,n);return[Ft.leaf(t,r),r]},*levels(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=t.selection,reverse:r=!1,voids:i=!1}=e,{match:o}=e;if(null==o&&(o=()=>!0),n){var a=[],u=Mt.path(t,n);for(var[c,l]of Ft.levels(t,u))if(o(c,l)&&(a.push([c,l]),!i&&Mt.isVoid(t,c)))break;r&&a.reverse(),yield*a}},marks(t){var{marks:e,selection:n}=t;if(!n)return null;if(e)return e;if(zt.isExpanded(n)){var[r]=Mt.nodes(t,{match:Qt.isText});if(r){var[i]=r;return pt(i,["text"])}return{}}var{anchor:o}=n,{path:a}=o,[u]=Mt.leaf(t,a);if(0===o.offset){var c=Mt.previous(t,{at:a,match:Qt.isText}),l=Mt.above(t,{match:e=>Mt.isBlock(t,e)});if(c&&l){var[s,f]=c,[,d]=l;Nt.isAncestor(d,f)&&(u=s)}}return pt(u,["text"])},next(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=e,{match:i,at:o=t.selection}=e;if(o){var a=Mt.after(t,o,{voids:r});if(a){var[,u]=Mt.last(t,[]),c=[a.path,u];if(Nt.isPath(o)&&0===o.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if(Nt.isPath(o)){var[l]=Mt.parent(t,o);i=t=>l.children.includes(t)}else i=()=>!0;var[s]=Mt.nodes(t,{at:c,match:i,mode:n,voids:r});return s}}},node(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Mt.path(t,e,n);return[Ft.get(t,r),r]},*nodes(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=t.selection,mode:r="all",universal:i=!1,reverse:o=!1,voids:a=!1}=e,{match:u}=e;if(u||(u=()=>!0),n){var c,l;if(Tt.isSpan(n))c=n[0],l=n[1];else{var s=Mt.path(t,n,{edge:"start"}),f=Mt.path(t,n,{edge:"end"});c=o?f:s,l=o?s:f}var d,h=Ft.nodes(t,{reverse:o,from:c,to:l,pass:e=>{var[n]=e;return!a&&Mt.isVoid(t,n)}}),p=[];for(var[v,g]of h){var m=d&&0===Nt.compare(g,d[1]);if("highest"!==r||!m)if(u(v,g))if("lowest"===r&&m)d=[v,g];else{var y="lowest"===r?d:[v,g];y&&(i?p.push(y):yield y),d=[v,g]}else if(i&&!m&&Qt.isText(v))return}"lowest"===r&&d&&(i?p.push(d):yield d),i&&(yield*p)}},normalize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:n=!1}=e,r=t=>lt.get(t)||[];if(Mt.isNormalizing(t)){if(n){var i=Array.from(Ft.nodes(t),(t=>{var[,e]=t;return e}));lt.set(t,i)}0!==r(t).length&&Mt.withoutNormalizing(t,(()=>{for(var e of r(t))if(Ft.has(t,e)){var[n,i]=Mt.node(t,e);if(kt.isElement(n)&&0===n.children.length){ae.insertNodes(t,{text:""},{at:e.concat(0),voids:!0})}}for(var o=42*r(t).length,a=0;0!==r(t).length;){if(a>o)throw new Error("\n            Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var u=r(t).pop();if(Ft.has(t,u)){var c=Mt.node(t,u);t.normalizeNode(c)}a++}}))}},parent(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Mt.path(t,e,n),i=Nt.parent(r);return Mt.node(t,i)},path(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:r,edge:i}=n;if(Nt.isPath(e))if("start"===i){var[,o]=Ft.first(t,e);e=o}else if("end"===i){var[,a]=Ft.last(t,e);e=a}return zt.isRange(e)&&(e="start"===i?zt.start(e):"end"===i?zt.end(e):Nt.common(e.anchor.path,e.focus.path)),jt.isPoint(e)&&(e=e.path),null!=r&&(e=e.slice(0,r)),e},hasPath(t,e){return Ft.has(t,e)},pathRef(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:e,affinity:r,unref(){var{current:e}=i;return Mt.pathRefs(t).delete(i),i.current=null,e}};return Mt.pathRefs(t).add(i),i},pathRefs(t){var e=ft.get(t);return e||(e=new Set,ft.set(t,e)),e},point(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:r="start"}=n;if(Nt.isPath(e)){var i;if("end"===r){var[,o]=Ft.last(t,e);i=o}else{var[,a]=Ft.first(t,e);i=a}var u=Ft.get(t,i);if(!Qt.isText(u))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(e,"] because it has no ").concat(r," text node."));return{path:i,offset:"end"===r?u.text.length:0}}if(zt.isRange(e)){var[c,l]=zt.edges(e);return"start"===r?c:l}return e},pointRef(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:e,affinity:r,unref(){var{current:e}=i;return Mt.pointRefs(t).delete(i),i.current=null,e}};return Mt.pointRefs(t).add(i),i},pointRefs(t){var e=dt.get(t);return e||(e=new Set,dt.set(t,e)),e},*positions(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=t.selection,unit:r="offset",reverse:i=!1,voids:a=!1}=e;if(n){var u=Mt.range(t,n),[c,l]=zt.edges(u),s=i?l:c,f=!1,d="",h=0,p=0,v=0;for(var[g,m]of Mt.nodes(t,{at:n,reverse:i,voids:a})){if(kt.isElement(g)){if(!a&&t.isVoid(g)){yield Mt.start(t,m);continue}if(t.isInline(g))continue;if(Mt.hasInlines(t,g)){var y=Nt.isAncestor(m,l.path)?l:Mt.end(t,m),b=Nt.isAncestor(m,c.path)?c:Mt.start(t,m);d=Mt.string(t,{anchor:b,focus:y},{voids:a}),d=i?(0,o.reverse)(d):d,f=!0}}if(Qt.isText(g)){var C=Nt.equals(m,s.path);for(C?(p=i?s.offset:g.text.length-s.offset,v=s.offset):(p=g.text.length,v=i?p:0),(C||f||"offset"===r)&&(yield{path:m,offset:v},f=!1);;){if(0===h){if(""===d)break;h=x(d,r),d=d.slice(h)}if(v=i?v-h:v+h,(p-=h)<0){h=-p;break}h=0,yield{path:m,offset:v}}}}}function x(t,e){return"character"===e?yt(t):"word"===e?(t=>{for(var e,n=0,r=0,i=!1;e=t.charAt(r);){var o=yt(e);e=t.slice(r,r+o);var a=t.slice(r+o);if(bt(e,a))i=!0,n+=o;else{if(i)break;n+=o}r+=o}return n})(t):"line"===e||"block"===e?t.length:1}},previous(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=e,{match:i,at:o=t.selection}=e;if(o){var a=Mt.before(t,o,{voids:r});if(a){var[,u]=Mt.first(t,[]),c=[a.path,u];if(Nt.isPath(o)&&0===o.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if(Nt.isPath(o)){var[l]=Mt.parent(t,o);i=t=>l.children.includes(t)}else i=()=>!0;var[s]=Mt.nodes(t,{reverse:!0,at:c,match:i,mode:n,voids:r});return s}}},range(t,e,n){return zt.isRange(e)&&!n?e:{anchor:Mt.start(t,e),focus:Mt.end(t,n||e)}},rangeRef(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:e,affinity:r,unref(){var{current:e}=i;return Mt.rangeRefs(t).delete(i),i.current=null,e}};return Mt.rangeRefs(t).add(i),i},rangeRefs(t){var e=ht.get(t);return e||(e=new Set,ht.set(t,e)),e},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){st.set(t,e)},start(t,e){return Mt.point(t,e,{edge:"start"})},string(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,i=Mt.range(t,e),[o,a]=zt.edges(i),u="";for(var[c,l]of Mt.nodes(t,{at:i,match:Qt.isText,voids:r})){var s=c.text;Nt.equals(l,a.path)&&(s=s.slice(0,a.offset)),Nt.equals(l,o.path)&&(s=s.slice(o.offset)),u+=s}return u},unhangRange(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,[i,o]=zt.edges(e);if(0!==i.offset||0!==o.offset||zt.isCollapsed(e))return e;var a=Mt.above(t,{at:o,match:e=>Mt.isBlock(t,e)}),u=a?a[1]:[],c={anchor:Mt.start(t,[]),focus:o},l=!0;for(var[s,f]of Mt.nodes(t,{at:c,match:Qt.isText,reverse:!0,voids:r}))if(l)l=!1;else if(""!==s.text||Nt.isBefore(f,u)){o={path:f,offset:s.text.length};break}return{anchor:i,focus:o}},void(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Mt.above(t,At(At({},e),{},{match:e=>Mt.isVoid(t,e)}))},withoutNormalizing(t,e){var n=Mt.isNormalizing(t);Mt.setNormalizing(t,!1);try{e()}finally{Mt.setNormalizing(t,n)}Mt.normalize(t)}},Tt={isSpan(t){return Array.isArray(t)&&2===t.length&&t.every(Nt.isPath)}},Bt=new WeakMap,Ft={ancestor(t,e){var n=Ft.get(t,e);if(Qt.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(n));return n},*ancestors(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of Nt.ancestors(e,n)){var i=[Ft.ancestor(t,r),r];yield i}},child(t,e){if(Qt.isText(t))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(t)));var n=t.children[e];if(null==n)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(JSON.stringify(t)));return n},*children(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:r=!1}=n,i=Ft.ancestor(t,e),{children:o}=i,a=r?o.length-1:0;r?a>=0:a<o.length;){var u=Ft.child(i,a),c=e.concat(a);yield[u,c],a=r?a-1:a+1}},common(t,e,n){var r=Nt.common(e,n);return[Ft.get(t,r),r]},descendant(t,e){var n=Ft.get(t,e);if(Mt.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(n));return n},*descendants(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of Ft.nodes(t,e))0!==r.length&&(yield[n,r])},*elements(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of Ft.nodes(t,e))kt.isElement(n)&&(yield[n,r])},extractProps(t){return kt.isAncestor(t)?pt(t,["children"]):pt(t,["text"])},first(t,e){for(var n=e.slice(),r=Ft.get(t,n);r&&!Qt.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment(t,e){if(Qt.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(t)));var n=rt({children:t.children},(t=>{var[n,r]=zt.edges(e),i=Ft.nodes(t,{reverse:!0,pass:t=>{var[,n]=t;return!zt.includes(e,n)}});for(var[,o]of i){if(!zt.includes(e,o)){var a=Ft.parent(t,o),u=o[o.length-1];a.children.splice(u,1)}if(Nt.equals(o,r.path)){var c=Ft.leaf(t,o);c.text=c.text.slice(0,r.offset)}if(Nt.equals(o,n.path)){var l=Ft.leaf(t,o);l.text=l.text.slice(n.offset)}}Mt.isEditor(t)&&(t.selection=null)}));return n.children},get(t,e){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(Qt.isText(n)||!n.children[i])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(JSON.stringify(t)));n=n.children[i]}return n},has(t,e){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(Qt.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode(t){return Qt.isText(t)||kt.isElement(t)||Mt.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=Bt.get(t);if(void 0!==e)return e;var n=t.every((t=>Ft.isNode(t)));return Bt.set(t,n),n},last(t,e){for(var n=e.slice(),r=Ft.get(t,n);r&&!Qt.isText(r)&&0!==r.children.length;){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(t,e){var n=Ft.get(t,e);if(!Qt.isText(n))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(n));return n},*levels(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of Nt.levels(e,n)){var i=Ft.get(t,r);yield[i,r]}},matches(t,e){return kt.isElement(t)&&kt.isElementProps(e)&&kt.matches(t,e)||Qt.isText(t)&&Qt.isTextProps(e)&&Qt.matches(t,e)},*nodes(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:n,reverse:r=!1}=e,{from:i=[],to:o}=e,a=new Set,u=[],c=t;!o||!(r?Nt.isBefore(u,o):Nt.isAfter(u,o));)if(a.has(c)||(yield[c,u]),a.has(c)||Qt.isText(c)||0===c.children.length||null!=n&&!1!==n([c,u])){if(0===u.length)break;if(!r){var l=Nt.next(u);if(Ft.has(t,l)){u=l,c=Ft.get(t,u);continue}}if(r&&0!==u[u.length-1])u=Nt.previous(u),c=Ft.get(t,u);else u=Nt.parent(u),c=Ft.get(t,u),a.add(c)}else{a.add(c);var s=r?c.children.length-1:0;Nt.isAncestor(u,i)&&(s=i[u.length]),u=u.concat(s),c=Ft.get(t,u)}},parent(t,e){var n=Nt.parent(e),r=Ft.get(t,n);if(Qt.isText(r))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return r},string(t){return Qt.isText(t)?t.text:t.children.map(Ft.string).join("")},*texts(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of Ft.nodes(t,e))Qt.isText(n)&&(yield[n,r])}};function Lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _t={isNodeOperation(t){return _t.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!i(t))return!1;switch(t.type){case"insert_node":case"remove_node":return Nt.isPath(t.path)&&Ft.isNode(t.node);case"insert_text":case"remove_text":return"number"==typeof t.offset&&"string"==typeof t.text&&Nt.isPath(t.path);case"merge_node":return"number"==typeof t.position&&Nt.isPath(t.path)&&i(t.properties);case"move_node":return Nt.isPath(t.path)&&Nt.isPath(t.newPath);case"set_node":return Nt.isPath(t.path)&&i(t.properties)&&i(t.newProperties);case"set_selection":return null===t.properties&&zt.isRange(t.newProperties)||null===t.newProperties&&zt.isRange(t.properties)||i(t.properties)&&i(t.newProperties);case"split_node":return Nt.isPath(t.path)&&"number"==typeof t.position&&i(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every((t=>_t.isOperation(t)))},isSelectionOperation(t){return _t.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return _t.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return Rt(Rt({},t),{},{type:"remove_node"});case"insert_text":return Rt(Rt({},t),{},{type:"remove_text"});case"merge_node":return Rt(Rt({},t),{},{type:"split_node",path:Nt.previous(t.path)});case"move_node":var{newPath:e,path:n}=t;if(Nt.equals(e,n))return t;if(Nt.isSibling(n,e))return Rt(Rt({},t),{},{path:e,newPath:n});var r=Nt.transform(n,t),i=Nt.transform(Nt.next(n),t);return Rt(Rt({},t),{},{path:r,newPath:i});case"remove_node":return Rt(Rt({},t),{},{type:"insert_node"});case"remove_text":return Rt(Rt({},t),{},{type:"insert_text"});case"set_node":var{properties:o,newProperties:a}=t;return Rt(Rt({},t),{},{properties:a,newProperties:o});case"set_selection":var{properties:u,newProperties:c}=t;return Rt(Rt({},t),{},null==u?{properties:c,newProperties:null}:null==c?{properties:null,newProperties:u}:{properties:c,newProperties:u});case"split_node":return Rt(Rt({},t),{},{type:"merge_node",path:Nt.next(t.path)})}}},Nt={ancestors(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=e,r=Nt.levels(t,e);return r=n?r.slice(1):r.slice(0,-1)},common(t,e){for(var n=[],r=0;r<t.length&&r<e.length;r++){var i=t[r];if(i!==e[r])break;n.push(i)}return n},compare(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return 0},endsAfter(t,e){var n=t.length-1,r=t.slice(0,n),i=e.slice(0,n),o=t[n],a=e[n];return Nt.equals(r,i)&&o>a},endsAt(t,e){var n=t.length,r=t.slice(0,n),i=e.slice(0,n);return Nt.equals(r,i)},endsBefore(t,e){var n=t.length-1,r=t.slice(0,n),i=e.slice(0,n),o=t[n],a=e[n];return Nt.equals(r,i)&&o<a},equals(t,e){return t.length===e.length&&t.every(((t,n)=>t===e[n]))},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return 1===Nt.compare(t,e)},isAncestor(t,e){return t.length<e.length&&0===Nt.compare(t,e)},isBefore(t,e){return-1===Nt.compare(t,e)},isChild(t,e){return t.length===e.length+1&&0===Nt.compare(t,e)},isCommon(t,e){return t.length<=e.length&&0===Nt.compare(t,e)},isDescendant(t,e){return t.length>e.length&&0===Nt.compare(t,e)},isParent(t,e){return t.length+1===e.length&&0===Nt.compare(t,e)},isPath(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])},isSibling(t,e){if(t.length!==e.length)return!1;var n=t.slice(0,-1),r=e.slice(0,-1);return t[t.length-1]!==e[e.length-1]&&Nt.equals(n,r)},levels(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=e,r=[],i=0;i<=t.length;i++)r.push(t.slice(0,i));return n&&r.reverse(),r},next(t){if(0===t.length)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},parent(t){if(0===t.length)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(0===t.length)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!Nt.isAncestor(e,t)&&!Nt.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return rt(t,(r=>{var{affinity:i="forward"}=n;if(0!==t.length)switch(e.type){case"insert_node":var{path:o}=e;(Nt.equals(o,r)||Nt.endsBefore(o,r)||Nt.isAncestor(o,r))&&(r[o.length-1]+=1);break;case"remove_node":var{path:a}=e;if(Nt.equals(a,r)||Nt.isAncestor(a,r))return null;Nt.endsBefore(a,r)&&(r[a.length-1]-=1);break;case"merge_node":var{path:u,position:c}=e;Nt.equals(u,r)||Nt.endsBefore(u,r)?r[u.length-1]-=1:Nt.isAncestor(u,r)&&(r[u.length-1]-=1,r[u.length]+=c);break;case"split_node":var{path:l,position:s}=e;if(Nt.equals(l,r)){if("forward"===i)r[r.length-1]+=1;else if("backward"!==i)return null}else Nt.endsBefore(l,r)?r[l.length-1]+=1:Nt.isAncestor(l,r)&&t[l.length]>=s&&(r[l.length-1]+=1,r[l.length]-=s);break;case"move_node":var{path:f,newPath:d}=e;if(Nt.equals(f,d))return;if(Nt.isAncestor(f,r)||Nt.equals(f,r)){var h=d.slice();return Nt.endsBefore(f,d)&&f.length<d.length&&(h[f.length-1]-=1),h.concat(r.slice(f.length))}Nt.isSibling(f,d)&&(Nt.isAncestor(d,r)||Nt.equals(d,r))?Nt.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:Nt.endsBefore(d,r)||Nt.equals(d,r)||Nt.isAncestor(d,r)?(Nt.endsBefore(f,r)&&(r[f.length-1]-=1),r[d.length-1]+=1):Nt.endsBefore(f,r)&&(Nt.equals(d,r)&&(r[d.length-1]+=1),r[f.length-1]-=1)}}))}};function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var jt={compare(t,e){var n=Nt.compare(t.path,e.path);return 0===n?t.offset<e.offset?-1:t.offset>e.offset?1:0:n},isAfter(t,e){return 1===jt.compare(t,e)},isBefore(t,e){return-1===jt.compare(t,e)},equals(t,e){return t.offset===e.offset&&Nt.equals(t.path,e.path)},isPoint(t){return i(t)&&"number"==typeof t.offset&&Nt.isPath(t.path)},transform(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return rt(t,(t=>{var{affinity:r="forward"}=n,{path:i,offset:o}=t;switch(e.type){case"insert_node":case"move_node":t.path=Nt.transform(i,e,n);break;case"insert_text":Nt.equals(e.path,i)&&e.offset<=o&&(t.offset+=e.text.length);break;case"merge_node":Nt.equals(e.path,i)&&(t.offset+=e.position),t.path=Nt.transform(i,e,n);break;case"remove_text":Nt.equals(e.path,i)&&e.offset<=o&&(t.offset-=Math.min(o-e.offset,e.text.length));break;case"remove_node":if(Nt.equals(e.path,i)||Nt.isAncestor(e.path,i))return null;t.path=Nt.transform(i,e,n);break;case"split_node":if(Nt.equals(e.path,i)){if(e.position===o&&null==r)return null;(e.position<o||e.position===o&&"forward"===r)&&(t.offset-=e.position,t.path=Nt.transform(i,e,Ot(Ot({},n),{},{affinity:"forward"})))}else t.path=Nt.transform(i,e,n)}}))}};function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var zt={edges(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=e,{anchor:r,focus:i}=t;return zt.isBackward(t)===n?[r,i]:[i,r]},end(t){var[,e]=zt.edges(t);return e},equals(t,e){return jt.equals(t.anchor,e.anchor)&&jt.equals(t.focus,e.focus)},includes(t,e){if(zt.isRange(e)){if(zt.includes(t,e.anchor)||zt.includes(t,e.focus))return!0;var[n,r]=zt.edges(t),[i,o]=zt.edges(e);return jt.isBefore(n,i)&&jt.isAfter(r,o)}var[a,u]=zt.edges(t),c=!1,l=!1;return jt.isPoint(e)?(c=jt.compare(e,a)>=0,l=jt.compare(e,u)<=0):(c=Nt.compare(e,a.path)>=0,l=Nt.compare(e,u.path)<=0),c&&l},intersection(t,e){var n=pt(t,["anchor","focus"]),[r,i]=zt.edges(t),[o,a]=zt.edges(e),u=jt.isBefore(r,o)?o:r,c=jt.isBefore(i,a)?i:a;return jt.isBefore(c,u)?null:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({anchor:u,focus:c},n)},isBackward(t){var{anchor:e,focus:n}=t;return jt.isAfter(e,n)},isCollapsed(t){var{anchor:e,focus:n}=t;return jt.equals(e,n)},isExpanded(t){return!zt.isCollapsed(t)},isForward(t){return!zt.isBackward(t)},isRange(t){return i(t)&&jt.isPoint(t.anchor)&&jt.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=zt.edges(t);return e},transform(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:o="inward"}=i;return"inward"===o?zt.isForward(t)?(n="forward",r="backward"):(n="backward",r="forward"):"outward"===o?zt.isForward(t)?(n="backward",r="forward"):(n="forward",r="backward"):(n=o,r=o),rt(t,(t=>{var i=jt.transform(t.anchor,e,{affinity:n}),o=jt.transform(t.focus,e,{affinity:r});if(!i||!o)return null;t.anchor=i,t.focus=o}))}};function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qt={equals(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:r=!1}=n;function i(t){return pt(t,["text"])}return ut()(r?i(t):t,r?i(e):e)},isText(t){return i(t)&&"string"==typeof t.text},isTextList(t){return Array.isArray(t)&&t.every((t=>Qt.isText(t)))},isTextProps(t){return void 0!==t.text},matches(t,e){for(var n in e)if("text"!==n&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;return!0},decorations(t,e){var n=[Wt({},t)];for(var r of e){var i=pt(r,["anchor","focus"]),[o,a]=zt.edges(r),u=[],c=0;for(var l of n){var{length:s}=l.text,f=c;if(c+=s,o.offset<=f&&a.offset>=c)Object.assign(l,i),u.push(l);else if(o.offset!==a.offset&&(o.offset===c||a.offset===f)||o.offset>c||a.offset<f||a.offset===f&&0!==f)u.push(l);else{var d=l,h=void 0,p=void 0;if(a.offset<c){var v=a.offset-f;p=Wt(Wt({},d),{},{text:d.text.slice(v)}),d=Wt(Wt({},d),{},{text:d.text.slice(0,v)})}if(o.offset>f){var g=o.offset-f;h=Wt(Wt({},d),{},{text:d.text.slice(0,g)}),d=Wt(Wt({},d),{},{text:d.text.slice(g)})}Object.assign(d,i),h&&u.push(h),u.push(d),p&&u.push(p)}}n=u}return n}};function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ht={transform(t,e){t.children=it(t.children);var n=t.selection&&it(t.selection);try{n=((t,e,n)=>{switch(n.type){case"insert_node":var{path:r,node:i}=n,o=Ft.parent(t,r),a=r[r.length-1];if(a>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(o.children.splice(a,0,i),e)for(var[u,c]of zt.points(e))e[c]=jt.transform(u,n);break;case"insert_text":var{path:l,offset:s,text:f}=n;if(0===f.length)break;var d=Ft.leaf(t,l),h=d.text.slice(0,s),p=d.text.slice(s);if(d.text=h+f+p,e)for(var[v,g]of zt.points(e))e[g]=jt.transform(v,n);break;case"merge_node":var{path:m}=n,y=Ft.get(t,m),b=Nt.previous(m),C=Ft.get(t,b),x=Ft.parent(t,m),w=m[m.length-1];if(Qt.isText(y)&&Qt.isText(C))C.text+=y.text;else{if(Qt.isText(y)||Qt.isText(C))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(y," ").concat(C));C.children.push(...y.children)}if(x.children.splice(w,1),e)for(var[E,S]of zt.points(e))e[S]=jt.transform(E,n);break;case"move_node":var{path:k,newPath:D}=n;if(Nt.isAncestor(k,D))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(D,"] because the destination is inside itself."));var A=Ft.get(t,k),I=Ft.parent(t,k),M=k[k.length-1];I.children.splice(M,1);var T=Nt.transform(k,n),B=Ft.get(t,Nt.parent(T)),F=T[T.length-1];if(B.children.splice(F,0,A),e)for(var[L,R]of zt.points(e))e[R]=jt.transform(L,n);break;case"remove_node":var{path:_}=n,N=_[_.length-1];if(Ft.parent(t,_).children.splice(N,1),e)for(var[P,O]of zt.points(e)){var j=jt.transform(P,n);if(null!=e&&null!=j)e[O]=j;else{var G=void 0,z=void 0;for(var[U,W]of Ft.texts(t)){if(-1!==Nt.compare(W,_)){z=[U,W];break}G=[U,W]}G?(P.path=G[1],P.offset=G[0].text.length):z?(P.path=z[1],P.offset=0):e=null}}break;case"remove_text":var{path:Q,offset:Z,text:J}=n;if(0===J.length)break;var H=Ft.leaf(t,Q),V=H.text.slice(0,Z),K=H.text.slice(Z+J.length);if(H.text=V+K,e)for(var[Y,q]of zt.points(e))e[q]=jt.transform(Y,n);break;case"set_node":var{path:X,properties:$,newProperties:tt}=n;if(0===X.length)throw new Error("Cannot set properties on the root node!");var et=Ft.get(t,X);for(var nt in tt){if("children"===nt||"text"===nt)throw new Error('Cannot set the "'.concat(nt,'" property of nodes!'));var rt=tt[nt];null==rt?delete et[nt]:et[nt]=rt}for(var it in $)tt.hasOwnProperty(it)||delete et[it];break;case"set_selection":var{newProperties:ot}=n;if(null==ot)e=ot;else{if(null==e){if(!zt.isRange(ot))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ot)," when there is no current selection."));e=Jt({},ot)}for(var at in ot){var ut=ot[at];if(null==ut){if("anchor"===at||"focus"===at)throw new Error('Cannot remove the "'.concat(at,'" selection property'));delete e[at]}else e[at]=ut}}break;case"split_node":var{path:ct,position:lt,properties:st}=n;if(0===ct.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ct,"] because the root node cannot be split."));var ft,dt=Ft.get(t,ct),ht=Ft.parent(t,ct),pt=ct[ct.length-1];if(Qt.isText(dt)){var vt=dt.text.slice(0,lt),gt=dt.text.slice(lt);dt.text=vt,ft=Jt(Jt({},st),{},{text:gt})}else{var mt=dt.children.slice(0,lt),yt=dt.children.slice(lt);dt.children=mt,ft=Jt(Jt({},st),{},{children:yt})}if(ht.children.splice(pt+1,0,ft),e)for(var[bt,Ct]of zt.points(e))e[Ct]=jt.transform(bt,n)}return e})(t,n,e)}finally{t.children=ot(t.children),t.selection=n?u(n)?ot(n):n:null}}};function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Yt={insertNodes(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mt.withoutNormalizing(t,(()=>{var{hanging:r=!1,voids:i=!1,mode:o="lowest"}=n,{at:a,match:u,select:c}=n;if(Ft.isNode(e)&&(e=[e]),0!==e.length){var[l]=e;if(a||(a=t.selection?t.selection:t.children.length>0?Mt.end(t,[]):[0],c=!0),null==c&&(c=!1),zt.isRange(a))if(r||(a=Mt.unhangRange(t,a)),zt.isCollapsed(a))a=a.anchor;else{var[,s]=zt.edges(a),f=Mt.pointRef(t,s);ae.delete(t,{at:a}),a=f.unref()}if(jt.isPoint(a)){null==u&&(u=Qt.isText(l)?t=>Qt.isText(t):t.isInline(l)?e=>Qt.isText(e)||Mt.isInline(t,e):e=>Mt.isBlock(t,e));var[d]=Mt.nodes(t,{at:a.path,match:u,mode:o,voids:i});if(!d)return;var[,h]=d,p=Mt.pathRef(t,h),v=Mt.isEnd(t,a,h);ae.splitNodes(t,{at:a,match:u,mode:o,voids:i});var g=p.unref();a=v?Nt.next(g):g}var m=Nt.parent(a),y=a[a.length-1];if(i||!Mt.void(t,{at:m})){for(var b of e){var C=m.concat(y);y++,t.apply({type:"insert_node",path:C,node:b})}if(c){var x=Mt.end(t,a);x&&ae.select(t,x)}}}}))},liftNodes(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mt.withoutNormalizing(t,(()=>{var{at:n=t.selection,mode:r="lowest",voids:i=!1}=e,{match:o}=e;if(null==o&&(o=Nt.isPath(n)?$t(t,n):e=>Mt.isBlock(t,e)),n){var a=Mt.nodes(t,{at:n,match:o,mode:r,voids:i}),u=Array.from(a,(e=>{var[,n]=e;return Mt.pathRef(t,n)}));for(var c of u){var l=c.unref();if(l.length<2)throw new Error("Cannot lift node at a path [".concat(l,"] because it has a depth of less than `2`."));var s=Mt.node(t,Nt.parent(l)),[f,d]=s,h=l[l.length-1],{length:p}=f.children;if(1===p){var v=Nt.next(d);ae.moveNodes(t,{at:l,to:v,voids:i}),ae.removeNodes(t,{at:d,voids:i})}else if(0===h)ae.moveNodes(t,{at:l,to:d,voids:i});else if(h===p-1){var g=Nt.next(d);ae.moveNodes(t,{at:l,to:g,voids:i})}else{var m=Nt.next(l),y=Nt.next(d);ae.splitNodes(t,{at:m,voids:i}),ae.moveNodes(t,{at:l,to:y,voids:i})}}}}))},mergeNodes(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mt.withoutNormalizing(t,(()=>{var{match:n,at:r=t.selection}=e,{hanging:i=!1,voids:o=!1,mode:a="lowest"}=e;if(r){if(null==n)if(Nt.isPath(r)){var[u]=Mt.parent(t,r);n=t=>u.children.includes(t)}else n=e=>Mt.isBlock(t,e);if(!i&&zt.isRange(r)&&(r=Mt.unhangRange(t,r)),zt.isRange(r))if(zt.isCollapsed(r))r=r.anchor;else{var[,c]=zt.edges(r),l=Mt.pointRef(t,c);ae.delete(t,{at:r}),r=l.unref(),null==e.at&&ae.select(t,r)}var[s]=Mt.nodes(t,{at:r,match:n,voids:o,mode:a}),f=Mt.previous(t,{at:r,match:n,voids:o,mode:a});if(s&&f){var[d,h]=s,[p,v]=f;if(0!==h.length&&0!==v.length){var g,m,y=Nt.next(v),b=Nt.common(h,v),C=Nt.isSibling(h,v),x=Array.from(Mt.levels(t,{at:h}),(t=>{var[e]=t;return e})).slice(b.length).slice(0,-1),w=Mt.above(t,{at:h,mode:"highest",match:e=>x.includes(e)&&qt(t,e)}),E=w&&Mt.pathRef(t,w[1]);if(Qt.isText(d)&&Qt.isText(p)){var S=pt(d,["text"]);m=p.text.length,g=S}else{if(!kt.isElement(d)||!kt.isElement(p))throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(d)," ").concat(JSON.stringify(p)));S=pt(d,["children"]);m=p.children.length,g=S}C||ae.moveNodes(t,{at:h,to:y,voids:o}),E&&ae.removeNodes(t,{at:E.current,voids:o}),kt.isElement(p)&&Mt.isEmpty(t,p)||Qt.isText(p)&&""===p.text&&0!==v[v.length-1]?ae.removeNodes(t,{at:v,voids:o}):t.apply({type:"merge_node",path:y,position:m,properties:g}),E&&E.unref()}}}}))},moveNodes(t,e){Mt.withoutNormalizing(t,(()=>{var{to:n,at:r=t.selection,mode:i="lowest",voids:o=!1}=e,{match:a}=e;if(r){null==a&&(a=Nt.isPath(r)?$t(t,r):e=>Mt.isBlock(t,e));var u=Mt.pathRef(t,n),c=Mt.nodes(t,{at:r,match:a,mode:i,voids:o}),l=Array.from(c,(e=>{var[,n]=e;return Mt.pathRef(t,n)}));for(var s of l){var f=s.unref(),d=u.current;0!==f.length&&t.apply({type:"move_node",path:f,newPath:d}),u.current&&Nt.isSibling(d,f)&&Nt.isAfter(d,f)&&(u.current=Nt.next(u.current))}u.unref()}}))},removeNodes(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mt.withoutNormalizing(t,(()=>{var{hanging:n=!1,voids:r=!1,mode:i="lowest"}=e,{at:o=t.selection,match:a}=e;if(o){null==a&&(a=Nt.isPath(o)?$t(t,o):e=>Mt.isBlock(t,e)),!n&&zt.isRange(o)&&(o=Mt.unhangRange(t,o));var u=Mt.nodes(t,{at:o,match:a,mode:i,voids:r}),c=Array.from(u,(e=>{var[,n]=e;return Mt.pathRef(t,n)}));for(var l of c){var s=l.unref();if(s){var[f]=Mt.node(t,s);t.apply({type:"remove_node",path:s,node:f})}}}}))},setNodes(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mt.withoutNormalizing(t,(()=>{var{match:r,at:i=t.selection}=n,{hanging:o=!1,mode:a="lowest",split:u=!1,voids:c=!1}=n;if(i){if(null==r&&(r=Nt.isPath(i)?$t(t,i):e=>Mt.isBlock(t,e)),!o&&zt.isRange(i)&&(i=Mt.unhangRange(t,i)),u&&zt.isRange(i)){var l=Mt.rangeRef(t,i,{affinity:"inward"}),[s,f]=zt.edges(i),d="lowest"===a?"lowest":"highest",h=Mt.isEnd(t,f,f.path);ae.splitNodes(t,{at:f,match:r,mode:d,voids:c,always:!h});var p=Mt.isStart(t,s,s.path);ae.splitNodes(t,{at:s,match:r,mode:d,voids:c,always:!p}),i=l.unref(),null==n.at&&ae.select(t,i)}for(var[v,g]of Mt.nodes(t,{at:i,match:r,mode:a,voids:c})){var m={},y={};if(0!==g.length){for(var b in e)"children"!==b&&"text"!==b&&e[b]!==v[b]&&(v.hasOwnProperty(b)&&(m[b]=v[b]),y[b]=e[b]);0!==Object.keys(y).length&&t.apply({type:"set_node",path:g,properties:m,newProperties:y})}}}}))},splitNodes(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mt.withoutNormalizing(t,(()=>{var{mode:n="lowest",voids:r=!1}=e,{match:i,at:o=t.selection,height:a=0,always:u=!1}=e;if(null==i&&(i=e=>Mt.isBlock(t,e)),zt.isRange(o)&&(o=Xt(t,o)),Nt.isPath(o)){var c=o,l=Mt.point(t,c),[s]=Mt.parent(t,c);i=t=>t===s,a=l.path.length-c.length+1,o=l,u=!0}if(o){var f=Mt.pointRef(t,o,{affinity:"backward"}),[d]=Mt.nodes(t,{at:o,match:i,mode:n,voids:r});if(d){var h=Mt.void(t,{at:o,mode:"highest"});if(!r&&h){var[p,v]=h;if(kt.isElement(p)&&t.isInline(p)){var g=Mt.after(t,v);if(!g){var m=Nt.next(v);ae.insertNodes(t,{text:""},{at:m,voids:r}),g=Mt.point(t,m)}o=g,u=!0}a=o.path.length-v.length+1,u=!0}var y=Mt.pointRef(t,o),b=o.path.length-a,[,C]=d,x=o.path.slice(0,b),w=0===a?o.offset:o.path[b]+0;for(var[E,S]of Mt.levels(t,{at:x,reverse:!0,voids:r})){var k=!1;if(S.length<C.length||0===S.length||!r&&Mt.isVoid(t,E))break;var D=f.current,A=Mt.isEnd(t,D,S);if(u||!f||!Mt.isEdge(t,D,S)){k=!0;var I=Ft.extractProps(E);t.apply({type:"split_node",path:S,position:w,properties:I})}w=S[S.length-1]+(k||A?1:0)}if(null==e.at){var M=y.current||Mt.end(t,[]);ae.select(t,M)}f.unref(),y.unref()}}}))},unsetNodes(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(e)||(e=[e]);var r={};for(var i of e)r[i]=null;ae.setNodes(t,r,n)},unwrapNodes(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mt.withoutNormalizing(t,(()=>{var{mode:n="lowest",split:r=!1,voids:i=!1}=e,{at:o=t.selection,match:a}=e;if(o){null==a&&(a=Nt.isPath(o)?$t(t,o):e=>Mt.isBlock(t,e)),Nt.isPath(o)&&(o=Mt.range(t,o));var u=zt.isRange(o)?Mt.rangeRef(t,o):null,c=Mt.nodes(t,{at:o,match:a,mode:n,voids:i}),l=Array.from(c,(e=>{var[,n]=e;return Mt.pathRef(t,n)})),s=function(e){var n=e.unref(),[o]=Mt.node(t,n),a=Mt.range(t,n);r&&u&&(a=zt.intersection(u.current,a)),ae.liftNodes(t,{at:a,match:t=>kt.isAncestor(o)&&o.children.includes(t),voids:i})};for(var f of l)s(f);u&&u.unref()}}))},wrapNodes(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mt.withoutNormalizing(t,(()=>{var{mode:r="lowest",split:i=!1,voids:o=!1}=n,{match:a,at:u=t.selection}=n;if(u){if(null==a&&(a=Nt.isPath(u)?$t(t,u):t.isInline(e)?e=>Mt.isInline(t,e)||Qt.isText(e):e=>Mt.isBlock(t,e)),i&&zt.isRange(u)){var[c,l]=zt.edges(u),s=Mt.rangeRef(t,u,{affinity:"inward"});ae.splitNodes(t,{at:l,match:a,voids:o}),ae.splitNodes(t,{at:c,match:a,voids:o}),u=s.unref(),null==n.at&&ae.select(t,u)}var f=Array.from(Mt.nodes(t,{at:u,match:t.isInline(e)?e=>Mt.isBlock(t,e):t=>Mt.isEditor(t),mode:"lowest",voids:o}));for(var[,d]of f){var h=zt.isRange(u)?zt.intersection(u,Mt.range(t,d)):u;if(h){var p=Array.from(Mt.nodes(t,{at:h,match:a,mode:r,voids:o}));if(p.length>0){var v=function(){var[n]=p,r=p[p.length-1],[,i]=n,[,a]=r;if(0===i.length&&0===a.length)return"continue";var u=Nt.equals(i,a)?Nt.parent(i):Nt.common(i,a),c=Mt.range(t,i,a),l=Mt.node(t,u),[s]=l,f=u.length+1,d=Nt.next(a.slice(0,f)),h=Kt(Kt({},e),{},{children:[]});ae.insertNodes(t,h,{at:d,voids:o}),ae.moveNodes(t,{at:c,match:t=>kt.isAncestor(s)&&s.children.includes(t),to:d.concat(0),voids:o})}();if("continue"===v)continue}}}}}))}},qt=(t,e)=>{if(kt.isElement(e)){var n=e;return!!Mt.isVoid(t,e)||1===n.children.length&&qt(t,n.children[0])}return!Mt.isEditor(e)},Xt=(t,e)=>{if(zt.isCollapsed(e))return e.anchor;var[,n]=zt.edges(e),r=Mt.pointRef(t,n);return ae.delete(t,{at:e}),r.unref()},$t=(t,e)=>{var[n]=Mt.node(t,e);return t=>t===n};function te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ne={collapse(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:n="anchor"}=e,{selection:r}=t;if(r)if("anchor"===n)ae.select(t,r.anchor);else if("focus"===n)ae.select(t,r.focus);else if("start"===n){var[i]=zt.edges(r);ae.select(t,i)}else if("end"===n){var[,o]=zt.edges(r);ae.select(t,o)}},deselect(t){var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},move(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=t,{distance:r=1,unit:i="character",reverse:o=!1}=e,{edge:a=null}=e;if(n){"start"===a&&(a=zt.isBackward(n)?"focus":"anchor"),"end"===a&&(a=zt.isBackward(n)?"anchor":"focus");var{anchor:u,focus:c}=n,l={distance:r,unit:i},s={};if(null==a||"anchor"===a){var f=o?Mt.before(t,u,l):Mt.after(t,u,l);f&&(s.anchor=f)}if(null==a||"focus"===a){var d=o?Mt.before(t,c,l):Mt.after(t,c,l);d&&(s.focus=d)}ae.setSelection(t,s)}},select(t,e){var{selection:n}=t;if(e=Mt.range(t,e),n)ae.setSelection(t,e);else{if(!zt.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(e)));t.apply({type:"set_selection",properties:n,newProperties:e})}},setPoint(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:r}=t,{edge:i="both"}=n;if(r){"start"===i&&(i=zt.isBackward(r)?"focus":"anchor"),"end"===i&&(i=zt.isBackward(r)?"anchor":"focus");var{anchor:o,focus:a}=r,u="anchor"===i?o:a;ae.setSelection(t,{["anchor"===i?"anchor":"focus"]:ee(ee({},u),e)})}},setSelection(t,e){var{selection:n}=t,r={},i={};if(n){for(var o in e)("anchor"===o&&null!=e.anchor&&!jt.equals(e.anchor,n.anchor)||"focus"===o&&null!=e.focus&&!jt.equals(e.focus,n.focus)||"anchor"!==o&&"focus"!==o&&e[o]!==n[o])&&(r[o]=n[o],i[o]=e[o]);Object.keys(r).length>0&&t.apply({type:"set_selection",properties:r,newProperties:i})}}},re={delete(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mt.withoutNormalizing(t,(()=>{var{reverse:n=!1,unit:r="character",distance:i=1,voids:o=!1}=e,{at:a=t.selection,hanging:u=!1}=e;if(a){if(zt.isRange(a)&&zt.isCollapsed(a)&&(a=a.anchor),jt.isPoint(a)){var c=Mt.void(t,{at:a,mode:"highest"});if(!o&&c){var[,l]=c;a=l}else{var s={unit:r,distance:i};a={anchor:a,focus:n?Mt.before(t,a,s)||Mt.start(t,[]):Mt.after(t,a,s)||Mt.end(t,[])},u=!0}}if(Nt.isPath(a))ae.removeNodes(t,{at:a,voids:o});else if(!zt.isCollapsed(a)){if(!u){var[,f]=zt.edges(a),d=Mt.end(t,[]);jt.equals(f,d)||(a=Mt.unhangRange(t,a,{voids:o}))}var[h,p]=zt.edges(a),v=Mt.above(t,{match:e=>Mt.isBlock(t,e),at:h,voids:o}),g=Mt.above(t,{match:e=>Mt.isBlock(t,e),at:p,voids:o}),m=v&&g&&!Nt.equals(v[1],g[1]),y=Nt.equals(h.path,p.path),b=o?null:Mt.void(t,{at:h,mode:"highest"}),C=o?null:Mt.void(t,{at:p,mode:"highest"});if(b){var x=Mt.before(t,h);x&&v&&Nt.isAncestor(v[1],x.path)&&(h=x)}if(C){var w=Mt.after(t,p);w&&g&&Nt.isAncestor(g[1],w.path)&&(p=w)}var E,S=[];for(var k of Mt.nodes(t,{at:a,voids:o})){var[D,A]=k;E&&0===Nt.compare(A,E)||(!o&&Mt.isVoid(t,D)||!Nt.isCommon(A,h.path)&&!Nt.isCommon(A,p.path))&&(S.push(k),E=A)}var I=Array.from(S,(e=>{var[,n]=e;return Mt.pathRef(t,n)})),M=Mt.pointRef(t,h),T=Mt.pointRef(t,p);if(!y&&!b){var B=M.current,[F]=Mt.leaf(t,B),{path:L}=B,{offset:R}=h,_=F.text.slice(R);_.length>0&&t.apply({type:"remove_text",path:L,offset:R,text:_})}for(var N of I){var P=N.unref();ae.removeNodes(t,{at:P,voids:o})}if(!C){var O=T.current,[j]=Mt.leaf(t,O),{path:G}=O,z=y?h.offset:0,U=j.text.slice(z,p.offset);U.length>0&&t.apply({type:"remove_text",path:G,offset:z,text:U})}!y&&m&&T.current&&M.current&&ae.mergeNodes(t,{at:T.current,hanging:!0,voids:o});var W=n?M.unref()||T.unref():T.unref()||M.unref();null==e.at&&W&&ae.select(t,W)}}}))},insertFragment(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mt.withoutNormalizing(t,(()=>{var{hanging:r=!1,voids:i=!1}=n,{at:o=t.selection}=n;if(e.length&&o){if(zt.isRange(o))if(r||(o=Mt.unhangRange(t,o)),zt.isCollapsed(o))o=o.anchor;else{var[,a]=zt.edges(o);if(!i&&Mt.void(t,{at:a}))return;var u=Mt.pointRef(t,a);ae.delete(t,{at:o}),o=u.unref()}else Nt.isPath(o)&&(o=Mt.start(t,o));if(i||!Mt.void(t,{at:o})){var c=Mt.above(t,{at:o,match:e=>Mt.isInline(t,e),mode:"highest",voids:i});if(c){var[,l]=c;if(Mt.isEnd(t,o,l))o=Mt.after(t,l);else if(Mt.isStart(t,o,l)){o=Mt.before(t,l)}}var s=Mt.above(t,{match:e=>Mt.isBlock(t,e),at:o,voids:i}),[,f]=s,d=Mt.isStart(t,o,f),h=Mt.isEnd(t,o,f),p=!d||d&&h,v=!h,[,g]=Ft.first({children:e},[]),[,m]=Ft.last({children:e},[]),y=[],b=e=>{var[n,r]=e;return!(p&&Nt.isAncestor(r,g)&&kt.isElement(n)&&!t.isVoid(n)&&!t.isInline(n))&&!(v&&Nt.isAncestor(r,m)&&kt.isElement(n)&&!t.isVoid(n)&&!t.isInline(n))};for(var C of Ft.nodes({children:e},{pass:b}))C[1].length>0&&b(C)&&y.push(C);var x=[],w=[],E=[],S=!0,k=!1;for(var[D]of y)kt.isElement(D)&&!t.isInline(D)?(S=!1,k=!0,w.push(D)):S?x.push(D):E.push(D);var[A]=Mt.nodes(t,{at:o,match:e=>Qt.isText(e)||Mt.isInline(t,e),mode:"highest",voids:i}),[,I]=A,M=Mt.isStart(t,o,I),T=Mt.isEnd(t,o,I),B=Mt.pathRef(t,h?Nt.next(f):f),F=Mt.pathRef(t,T?Nt.next(I):I);ae.splitNodes(t,{at:o,match:e=>k?Mt.isBlock(t,e):Qt.isText(e)||Mt.isInline(t,e),mode:k?"lowest":"highest",voids:i});var L=Mt.pathRef(t,!M||M&&T?Nt.next(I):I);if(ae.insertNodes(t,x,{at:L.current,match:e=>Qt.isText(e)||Mt.isInline(t,e),mode:"highest",voids:i}),ae.insertNodes(t,w,{at:B.current,match:e=>Mt.isBlock(t,e),mode:"lowest",voids:i}),ae.insertNodes(t,E,{at:F.current,match:e=>Qt.isText(e)||Mt.isInline(t,e),mode:"highest",voids:i}),!n.at){var R;R=E.length>0?Nt.previous(F.current):w.length>0?Nt.previous(B.current):Nt.previous(L.current);var _=Mt.end(t,R);ae.select(t,_)}L.unref(),B.unref(),F.unref()}}}))},insertText(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mt.withoutNormalizing(t,(()=>{var{voids:r=!1}=n,{at:i=t.selection}=n;if(i){if(Nt.isPath(i)&&(i=Mt.range(t,i)),zt.isRange(i))if(zt.isCollapsed(i))i=i.anchor;else{var o=zt.end(i);if(!r&&Mt.void(t,{at:o}))return;var a=Mt.pointRef(t,o);ae.delete(t,{at:i,voids:r}),i=a.unref(),ae.setSelection(t,{anchor:i,focus:i})}if(r||!Mt.void(t,{at:i})){var{path:u,offset:c}=i;e.length>0&&t.apply({type:"insert_text",path:u,offset:c,text:e})}}}))}};function ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ae=oe(oe(oe(oe({},Ht),Yt),ne),re)},51452:function(t,e,n){"use strict";var r=new Error;t.exports=new Promise((function(t,e){if("undefined"!=typeof designer_base)return t();n.l(window.DESIGNER_BASE_ENTRY,(function(n){if("undefined"!=typeof designer_base)return t();var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;r.message="Loading script failed.\n("+i+": "+o+")",r.name="ScriptExternalLoadError",r.type=i,r.request=o,e(r)}),"designer_base")})).then((function(){return designer_base}))},71252:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=a(t,o(n)))}return t}function o(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)r.call(t,n)&&t[n]&&(e=a(e,n));return e}function a(t,e){return e?t?t+" "+e:t+e:t}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},95280:function(t,e,n){"use strict";var r=n(36128);t.exports=r},24224:function(t,e,n){"use strict";var r=n(81324);t.exports=r},36188:function(t,e,n){"use strict";var r=n(50984);t.exports=r},81536:function(t,e,n){"use strict";var r=n(24920);t.exports=r},8404:function(t,e,n){"use strict";var r=n(92960);t.exports=r},37216:function(t,e,n){"use strict";var r=n(49372);t.exports=r},49152:function(t,e,n){"use strict";var r=n(35720);t.exports=r},82080:function(t,e,n){"use strict";var r=n(87144);t.exports=r},80296:function(t,e,n){"use strict";var r=n(27584);t.exports=r},50376:function(t,e,n){"use strict";var r=n(95608);t.exports=r},83916:function(t,e,n){"use strict";var r=n(72672);t.exports=r},46404:function(t,e,n){"use strict";var r=n(68792);t.exports=r},19468:function(t,e,n){"use strict";var r=n(9224);t.exports=r},95699:function(t,e,n){"use strict";var r=n(48624);t.exports=r},280:function(t,e,n){"use strict";var r=n(10424);t.exports=r},88008:function(t,e,n){"use strict";var r=n(42648);t.exports=r},53080:function(t,e,n){"use strict";var r=n(19516);n(21048),t.exports=r},47144:function(t,e,n){"use strict";var r=n(39928);n(46536),n(7576),n(57772),n(65656),t.exports=r},19184:function(t,e,n){"use strict";var r=n(88308);t.exports=r},69259:function(t,e,n){"use strict";n(34176),n(19952);var r=n(19832);t.exports=r.Array.from},3376:function(t,e,n){"use strict";n(45656);var r=n(19832);t.exports=r.Array.isArray},7160:function(t,e,n){"use strict";n(22216);var r=n(46180);t.exports=r("Array","concat")},70216:function(t,e,n){"use strict";n(30340),n(12352);var r=n(46180);t.exports=r("Array","entries")},94488:function(t,e,n){"use strict";n(16408);var r=n(46180);t.exports=r("Array","every")},18011:function(t,e,n){"use strict";n(64124);var r=n(46180);t.exports=r("Array","fill")},5592:function(t,e,n){"use strict";n(64864);var r=n(46180);t.exports=r("Array","filter")},24216:function(t,e,n){"use strict";n(41008);var r=n(46180);t.exports=r("Array","findIndex")},38256:function(t,e,n){"use strict";n(36952);var r=n(46180);t.exports=r("Array","find")},16560:function(t,e,n){"use strict";n(37096),n(52651);var r=n(46180);t.exports=r("Array","flatMap")},23272:function(t,e,n){"use strict";n(18068);var r=n(46180);t.exports=r("Array","forEach")},56184:function(t,e,n){"use strict";n(46504);var r=n(46180);t.exports=r("Array","includes")},26720:function(t,e,n){"use strict";n(11904);var r=n(46180);t.exports=r("Array","indexOf")},74908:function(t,e,n){"use strict";n(30340),n(12352);var r=n(46180);t.exports=r("Array","keys")},83844:function(t,e,n){"use strict";n(97092);var r=n(46180);t.exports=r("Array","map")},56883:function(t,e,n){"use strict";n(91704);var r=n(46180);t.exports=r("Array","reduce")},89696:function(t,e,n){"use strict";n(9020);var r=n(46180);t.exports=r("Array","reverse")},74792:function(t,e,n){"use strict";n(15863);var r=n(46180);t.exports=r("Array","slice")},4348:function(t,e,n){"use strict";n(43408);var r=n(46180);t.exports=r("Array","some")},4416:function(t,e,n){"use strict";n(38280);var r=n(46180);t.exports=r("Array","sort")},63612:function(t,e,n){"use strict";n(74152);var r=n(46180);t.exports=r("Array","splice")},79720:function(t,e,n){"use strict";n(30340),n(12352);var r=n(46180);t.exports=r("Array","values")},2412:function(t,e,n){"use strict";n(54388);var r=n(46180);t.exports=r("Function","bind")},34556:function(t,e,n){"use strict";n(30340),n(34176);var r=n(80068);t.exports=r},35776:function(t,e,n){"use strict";n(56736),t.exports=n(85216)},74756:function(t,e,n){"use strict";var r=n(82360),i=n(2412),o=Function.prototype;t.exports=function(t){var e=t.bind;return t===o||r(o,t)&&e===o.bind?i:e}},65056:function(t,e,n){"use strict";var r=n(82360),i=n(56544),o=String.prototype;t.exports=function(t){var e=t.codePointAt;return"string"==typeof t||t===o||r(o,t)&&e===o.codePointAt?i:e}},88884:function(t,e,n){"use strict";var r=n(82360),i=n(7160),o=Array.prototype;t.exports=function(t){var e=t.concat;return t===o||r(o,t)&&e===o.concat?i:e}},46172:function(t,e,n){"use strict";var r=n(82360),i=n(71340),o=String.prototype;t.exports=function(t){var e=t.endsWith;return"string"==typeof t||t===o||r(o,t)&&e===o.endsWith?i:e}},28312:function(t,e,n){"use strict";var r=n(82360),i=n(94488),o=Array.prototype;t.exports=function(t){var e=t.every;return t===o||r(o,t)&&e===o.every?i:e}},56404:function(t,e,n){"use strict";var r=n(82360),i=n(18011),o=Array.prototype;t.exports=function(t){var e=t.fill;return t===o||r(o,t)&&e===o.fill?i:e}},680:function(t,e,n){"use strict";var r=n(82360),i=n(5592),o=Array.prototype;t.exports=function(t){var e=t.filter;return t===o||r(o,t)&&e===o.filter?i:e}},53612:function(t,e,n){"use strict";var r=n(82360),i=n(24216),o=Array.prototype;t.exports=function(t){var e=t.findIndex;return t===o||r(o,t)&&e===o.findIndex?i:e}},32600:function(t,e,n){"use strict";var r=n(82360),i=n(38256),o=Array.prototype;t.exports=function(t){var e=t.find;return t===o||r(o,t)&&e===o.find?i:e}},11912:function(t,e,n){"use strict";var r=n(82360),i=n(16560),o=Array.prototype;t.exports=function(t){var e=t.flatMap;return t===o||r(o,t)&&e===o.flatMap?i:e}},8180:function(t,e,n){"use strict";var r=n(82360),i=n(56184),o=n(44464),a=Array.prototype,u=String.prototype;t.exports=function(t){var e=t.includes;return t===a||r(a,t)&&e===a.includes?i:"string"==typeof t||t===u||r(u,t)&&e===u.includes?o:e}},44156:function(t,e,n){"use strict";var r=n(82360),i=n(26720),o=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===o||r(o,t)&&e===o.indexOf?i:e}},91352:function(t,e,n){"use strict";var r=n(82360),i=n(83844),o=Array.prototype;t.exports=function(t){var e=t.map;return t===o||r(o,t)&&e===o.map?i:e}},39063:function(t,e,n){"use strict";var r=n(82360),i=n(56883),o=Array.prototype;t.exports=function(t){var e=t.reduce;return t===o||r(o,t)&&e===o.reduce?i:e}},15080:function(t,e,n){"use strict";var r=n(82360),i=n(89696),o=Array.prototype;t.exports=function(t){var e=t.reverse;return t===o||r(o,t)&&e===o.reverse?i:e}},58688:function(t,e,n){"use strict";var r=n(82360),i=n(74792),o=Array.prototype;t.exports=function(t){var e=t.slice;return t===o||r(o,t)&&e===o.slice?i:e}},48284:function(t,e,n){"use strict";var r=n(82360),i=n(4348),o=Array.prototype;t.exports=function(t){var e=t.some;return t===o||r(o,t)&&e===o.some?i:e}},86188:function(t,e,n){"use strict";var r=n(82360),i=n(4416),o=Array.prototype;t.exports=function(t){var e=t.sort;return t===o||r(o,t)&&e===o.sort?i:e}},46312:function(t,e,n){"use strict";var r=n(82360),i=n(63612),o=Array.prototype;t.exports=function(t){var e=t.splice;return t===o||r(o,t)&&e===o.splice?i:e}},1240:function(t,e,n){"use strict";var r=n(82360),i=n(51940),o=String.prototype;t.exports=function(t){var e=t.startsWith;return"string"==typeof t||t===o||r(o,t)&&e===o.startsWith?i:e}},78125:function(t,e,n){"use strict";var r=n(82360),i=n(74352),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||r(o,t)&&e===o.trim?i:e}},69304:function(t,e,n){"use strict";n(4864),n(58824);var r=n(19832),i=n(79867);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return i(r.JSON.stringify,null,arguments)}},52548:function(t,e,n){"use strict";n(30340),n(86775),n(62648),n(12352),n(34176);var r=n(19832);t.exports=r.Map},96576:function(t,e,n){"use strict";n(71620);var r=n(19832);t.exports=r.Number.isNaN},84884:function(t,e,n){"use strict";n(52379),t.exports=9007199254740991},59196:function(t,e,n){"use strict";n(46448);var r=n(19832);t.exports=r.Object.assign},44636:function(t,e,n){"use strict";n(68928);var r=n(19832).Object;t.exports=function(t,e){return r.create(t,e)}},42172:function(t,e,n){"use strict";n(67300);var r=n(19832).Object,i=t.exports=function(t,e){return r.defineProperties(t,e)};r.defineProperties.sham&&(i.sham=!0)},74856:function(t,e,n){"use strict";n(98708);var r=n(19832).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},92536:function(t,e,n){"use strict";n(6360);var r=n(19832);t.exports=r.Object.entries},42348:function(t,e,n){"use strict";n(96360);var r=n(19832);t.exports=r.Object.freeze},12436:function(t,e,n){"use strict";n(30340),n(20224);var r=n(19832);t.exports=r.Object.fromEntries},13416:function(t,e,n){"use strict";n(97648);var r=n(19832).Object,i=t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},32936:function(t,e,n){"use strict";n(65032);var r=n(19832);t.exports=r.Object.getOwnPropertyDescriptors},61852:function(t,e,n){"use strict";n(45312);var r=n(19832).Object;t.exports=function(t){return r.getOwnPropertyNames(t)}},920:function(t,e,n){"use strict";n(49276);var r=n(19832);t.exports=r.Object.getOwnPropertySymbols},3056:function(t,e,n){"use strict";n(33416);var r=n(19832);t.exports=r.Object.getPrototypeOf},67552:function(t,e,n){"use strict";n(63008);var r=n(19832);t.exports=r.Object.isFrozen},45704:function(t,e,n){"use strict";n(92500);var r=n(19832);t.exports=r.Object.is},82613:function(t,e,n){"use strict";n(40088);var r=n(19832);t.exports=r.Object.keys},23092:function(t,e,n){"use strict";n(91020);var r=n(19832);t.exports=r.Object.setPrototypeOf},6104:function(t,e,n){"use strict";n(17016);var r=n(19832);t.exports=r.Object.values},15384:function(t,e,n){"use strict";n(18984);var r=n(19832);t.exports=r.parseFloat},5357:function(t,e,n){"use strict";n(71740);var r=n(19832);t.exports=r.parseInt},31736:function(t,e,n){"use strict";n(38436),n(30340),n(12352),n(86244),n(38128),n(73728),n(10096),n(50196),n(34176);var r=n(19832);t.exports=r.Promise},92880:function(t,e,n){"use strict";n(14915);var r=n(19832);t.exports=r.Reflect.construct},25784:function(t,e,n){"use strict";n(79896);var r=n(19832);t.exports=r.Reflect.getOwnPropertyDescriptor},21836:function(t,e,n){"use strict";n(71088);var r=n(19832);t.exports=r.Reflect.ownKeys},77376:function(t,e,n){"use strict";n(30340),n(12352),n(81160),n(67036),n(47124),n(24136),n(72304),n(23276),n(63112),n(61704),n(34176);var r=n(19832);t.exports=r.Set},56544:function(t,e,n){"use strict";n(5920);var r=n(46180);t.exports=r("String","codePointAt")},71340:function(t,e,n){"use strict";n(20976);var r=n(46180);t.exports=r("String","endsWith")},44464:function(t,e,n){"use strict";n(3512);var r=n(46180);t.exports=r("String","includes")},51940:function(t,e,n){"use strict";n(78812);var r=n(46180);t.exports=r("String","startsWith")},74352:function(t,e,n){"use strict";n(25384);var r=n(46180);t.exports=r("String","trim")},63656:function(t,e,n){"use strict";n(49276);var r=n(19832);t.exports=r.Symbol.for},22767:function(t,e,n){"use strict";n(22216),n(12352),n(49276),n(52240),n(49452),n(71344),n(74436),n(6992),n(58028),n(56380),n(76176),n(91176),n(60781),n(76720),n(95536),n(44732),n(84243),n(19928),n(93787),n(72556);var r=n(19832);t.exports=r.Symbol},25180:function(t,e,n){"use strict";n(30340),n(12352),n(34176),n(6992);var r=n(81104);t.exports=r.f("iterator")},63576:function(t,e,n){"use strict";n(30340),n(12352),n(72340);var r=n(19832);t.exports=r.WeakMap},96680:function(t,e,n){"use strict";t.exports=n(37944)},6164:function(t,e,n){"use strict";t.exports=n(42396)},64800:function(t,e,n){"use strict";t.exports=n(420)},83620:function(t,e,n){"use strict";t.exports=n(19556)},17456:function(t,e,n){"use strict";t.exports=n(8176)},2732:function(t,e,n){"use strict";t.exports=n(35960)},17893:function(t,e,n){"use strict";t.exports=n(47112)},78772:function(t,e,n){"use strict";t.exports=n(38952)},10384:function(t,e,n){"use strict";t.exports=n(53232)},83576:function(t,e,n){"use strict";t.exports=n(24556)},46656:function(t,e,n){"use strict";t.exports=n(52600)},3568:function(t,e,n){"use strict";t.exports=n(88520)},62952:function(t,e,n){"use strict";t.exports=n(50518)},91864:function(t,e,n){"use strict";t.exports=n(97368)},76008:function(t,e,n){"use strict";t.exports=n(85284)},40624:function(t,e,n){"use strict";t.exports=n(80988)},98744:function(t,e,n){"use strict";t.exports=n(89056)},16388:function(t,e,n){"use strict";t.exports=n(39216)},71792:function(t,e,n){"use strict";t.exports=n(47268)},37944:function(t,e,n){"use strict";var r=n(95280);t.exports=r},42396:function(t,e,n){"use strict";var r=n(24224);t.exports=r},420:function(t,e,n){"use strict";var r=n(36188);t.exports=r},19556:function(t,e,n){"use strict";n(19760);var r=n(81536);t.exports=r},8176:function(t,e,n){"use strict";var r=n(8404);t.exports=r},35960:function(t,e,n){"use strict";var r=n(37216);t.exports=r},47112:function(t,e,n){"use strict";var r=n(49152);t.exports=r},38952:function(t,e,n){"use strict";var r=n(82080);t.exports=r},53232:function(t,e,n){"use strict";var r=n(80296);t.exports=r},24556:function(t,e,n){"use strict";var r=n(50376);t.exports=r},52600:function(t,e,n){"use strict";var r=n(83916);t.exports=r},88520:function(t,e,n){"use strict";var r=n(46404);t.exports=r},50518:function(t,e,n){"use strict";var r=n(19468);t.exports=r},97368:function(t,e,n){"use strict";var r=n(95699);t.exports=r},85284:function(t,e,n){"use strict";var r=n(280);t.exports=r},80988:function(t,e,n){"use strict";var r=n(88008);t.exports=r},89056:function(t,e,n){"use strict";var r=n(53080);n(52796),n(18744),n(94384),n(5200),t.exports=r},39216:function(t,e,n){"use strict";var r=n(47144);n(89264),n(98460),n(53504),n(4184),n(31216),n(5196),n(84448),n(72948),n(12252),n(8776),t.exports=r},47268:function(t,e,n){"use strict";var r=n(19184);t.exports=r},20028:function(t,e,n){"use strict";var r=n(38536),i=n(48944),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},39556:function(t,e,n){"use strict";var r=n(39496),i=n(48944),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a constructor")}},31459:function(t,e,n){"use strict";var r=n(97432),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},92292:function(t,e,n){"use strict";var r=n(48944),i=TypeError;t.exports=function(t){if("object"==typeof t&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new i(r(t)+" is not a set")}},51472:function(t){"use strict";t.exports=function(){}},6952:function(t,e,n){"use strict";var r=n(82360),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new i("Incorrect invocation")}},42032:function(t,e,n){"use strict";var r=n(68608),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},3648:function(t,e,n){"use strict";var r=n(92064);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},33028:function(t,e,n){"use strict";var r=n(92819),i=n(24180),o=n(35316);t.exports=function(t){for(var e=r(this),n=o(e),a=arguments.length,u=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>u;)e[u++]=t;return e}},66056:function(t,e,n){"use strict";var r=n(7608).forEach,i=n(54888)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},9980:function(t,e,n){"use strict";var r=n(21884),i=n(34580),o=n(92819),a=n(9928),u=n(84992),c=n(39496),l=n(35316),s=n(14895),f=n(74656),d=n(80068),h=Array;t.exports=function(t){var e=o(t),n=c(this),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v;g&&(v=r(v,p>2?arguments[2]:void 0));var m,y,b,C,x,w,E=d(e),S=0;if(!E||this===h&&u(E))for(m=l(e),y=n?new this(m):h(m);m>S;S++)w=g?v(e[S],S):e[S],s(y,S,w);else for(y=n?new this:[],x=(C=f(e,E)).next;!(b=i(x,C)).done;S++)w=g?a(C,v,[b.value,S],!0):b.value,s(y,S,w);return y.length=S,y}},77464:function(t,e,n){"use strict";var r=n(30445),i=n(24180),o=n(35316),a=function(t){return function(e,n,a){var u=r(e),c=o(u);if(0===c)return!t&&-1;var l,s=i(a,c);if(t&&n!=n){for(;c>s;)if((l=u[s++])!=l)return!0}else for(;c>s;s++)if((t||s in u)&&u[s]===n)return t||s||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},7608:function(t,e,n){"use strict";var r=n(21884),i=n(29252),o=n(22899),a=n(92819),u=n(35316),c=n(94872),l=i([].push),s=function(t){var e=1===t,n=2===t,i=3===t,s=4===t,f=6===t,d=7===t,h=5===t||f;return function(p,v,g,m){for(var y,b,C=a(p),x=o(C),w=u(x),E=r(v,g),S=0,k=m||c,D=e?k(p,w):n||d?k(p,0):void 0;w>S;S++)if((h||S in x)&&(b=E(y=x[S],S,C),t))if(e)D[S]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:l(D,y)}else switch(t){case 4:return!1;case 7:l(D,y)}return f?-1:i||s?s:D}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},85384:function(t,e,n){"use strict";var r=n(92064),i=n(23336),o=n(23896),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},54888:function(t,e,n){"use strict";var r=n(92064);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},16460:function(t,e,n){"use strict";var r=n(20028),i=n(92819),o=n(22899),a=n(35316),u=TypeError,c="Reduce of empty array with no initial value",l=function(t){return function(e,n,l,s){var f=i(e),d=o(f),h=a(f);if(r(n),0===h&&l<2)throw new u(c);var p=t?h-1:0,v=t?-1:1;if(l<2)for(;;){if(p in d){s=d[p],p+=v;break}if(p+=v,t?p<0:h<=p)throw new u(c)}for(;t?p>=0:h>p;p+=v)p in d&&(s=n(s,d[p],p,f));return s}};t.exports={left:l(!1),right:l(!0)}},1716:function(t,e,n){"use strict";var r=n(99172),i=n(33204),o=TypeError,a=Object.getOwnPropertyDescriptor,u=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=u?function(t,e){if(i(t)&&!a(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},70940:function(t,e,n){"use strict";var r=n(29252);t.exports=r([].slice)},43864:function(t,e,n){"use strict";var r=n(70940),i=Math.floor,o=function(t,e){var n=t.length;if(n<8)for(var a,u,c=1;c<n;){for(u=c,a=t[c];u&&e(t[u-1],a)>0;)t[u]=t[--u];u!==c++&&(t[u]=a)}else for(var l=i(n/2),s=o(r(t,0,l),e),f=o(r(t,l),e),d=s.length,h=f.length,p=0,v=0;p<d||v<h;)t[p+v]=p<d&&v<h?e(s[p],f[v])<=0?s[p++]:f[v++]:p<d?s[p++]:f[v++];return t};t.exports=o},22556:function(t,e,n){"use strict";var r=n(33204),i=n(39496),o=n(68608),a=n(23336)("species"),u=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===u||r(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?u:e}},94872:function(t,e,n){"use strict";var r=n(22556);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},9928:function(t,e,n){"use strict";var r=n(42032),i=n(45872);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},7212:function(t){"use strict";t.exports=function(t,e){return 1===e?function(e,n){return e[t](n)}:function(e,n,r){return e[t](n,r)}}},70347:function(t,e,n){"use strict";var r=n(23336)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},47936:function(t,e,n){"use strict";var r=n(29252),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},60636:function(t,e,n){"use strict";var r=n(26744),i=n(38536),o=n(47936),a=n(23336)("toStringTag"),u=Object,c="Arguments"===o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=u(t),a))?n:c?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},63928:function(t,e,n){"use strict";var r=n(4488),i=n(56968),o=n(48104),a=n(21884),u=n(6952),c=n(19511),l=n(75799),s=n(536),f=n(73848),d=n(13120),h=n(99172),p=n(48611).fastKey,v=n(2344),g=v.set,m=v.getterFor;t.exports={getConstructor:function(t,e,n,s){var f=t((function(t,i){u(t,d),g(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),h||(t.size=0),c(i)||l(i,t[s],{that:t,AS_ENTRIES:n})})),d=f.prototype,v=m(e),y=function(t,e,n){var r,i,o=v(t),a=b(t,e);return a?a.value=n:(o.last=a={index:i=p(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),h?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},b=function(t,e){var n,r=v(t),i=p(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===e)return n};return o(d,{clear:function(){for(var t=v(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),e=e.next;t.first=t.last=void 0,t.index=r(null),h?t.size=0:this.size=0},delete:function(t){var e=this,n=v(e),r=b(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first===r&&(n.first=i),n.last===r&&(n.last=o),h?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=v(this),r=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),o(d,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),h&&i(d,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=m(e),o=m(r);s(t,e,(function(t,e){g(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?f("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),d(e)}}},92168:function(t,e,n){"use strict";var r=n(29252),i=n(48104),o=n(48611).getWeakData,a=n(6952),u=n(42032),c=n(19511),l=n(68608),s=n(75799),f=n(7608),d=n(34664),h=n(2344),p=h.set,v=h.getterFor,g=f.find,m=f.findIndex,y=r([].splice),b=0,C=function(t){return t.frozen||(t.frozen=new x)},x=function(){this.entries=[]},w=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};x.prototype={get:function(t){var e=w(this,t);if(e)return e[1]},has:function(t){return!!w(this,t)},set:function(t,e){var n=w(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&y(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var f=t((function(t,i){a(t,h),p(t,{type:e,id:b++,frozen:void 0}),c(i)||s(i,t[r],{that:t,AS_ENTRIES:n})})),h=f.prototype,g=v(e),m=function(t,e,n){var r=g(t),i=o(u(e),!0);return!0===i?C(r).set(e,n):i[r.id]=n,t};return i(h,{delete:function(t){var e=g(this);if(!l(t))return!1;var n=o(t);return!0===n?C(e).delete(t):n&&d(n,e.id)&&delete n[e.id]},has:function(t){var e=g(this);if(!l(t))return!1;var n=o(t);return!0===n?C(e).has(t):n&&d(n,e.id)}}),i(h,n?{get:function(t){var e=g(this);if(l(t)){var n=o(t);return!0===n?C(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),f}}},46072:function(t,e,n){"use strict";var r=n(33952),i=n(85216),o=n(48611),a=n(92064),u=n(20896),c=n(75799),l=n(6952),s=n(38536),f=n(68608),d=n(19511),h=n(35836),p=n(12280).f,v=n(7608).forEach,g=n(99172),m=n(2344),y=m.set,b=m.getterFor;t.exports=function(t,e,n){var m,C=-1!==t.indexOf("Map"),x=-1!==t.indexOf("Weak"),w=C?"set":"add",E=i[t],S=E&&E.prototype,k={};if(g&&s(E)&&(x||S.forEach&&!a((function(){(new E).entries().next()})))){var D=(m=e((function(e,n){y(l(e,D),{type:t,collection:new E}),d(n)||c(n,e[w],{that:e,AS_ENTRIES:C})}))).prototype,A=b(t);v(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in S)||x&&"clear"===t||u(D,t,(function(n,r){var i=A(this).collection;if(!e&&x&&!f(n))return"get"===t&&void 0;var o=i[t](0===n?0:n,r);return e?this:o}))})),x||p(D,"size",{configurable:!0,get:function(){return A(this).collection.size}})}else m=n.getConstructor(e,t,C,w),o.enable();return h(m,t,!1,!0),k[t]=m,r({global:!0,forced:!0},k),x||n.setStrong(m,t,C),m}},1100:function(t,e,n){"use strict";var r=n(34664),i=n(7876),o=n(91008),a=n(12280);t.exports=function(t,e,n){for(var u=i(e),c=a.f,l=o.f,s=0;s<u.length;s++){var f=u[s];r(t,f)||n&&r(n,f)||c(t,f,l(e,f))}}},60660:function(t,e,n){"use strict";var r=n(23336)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},72480:function(t,e,n){"use strict";var r=n(92064);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},73848:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},20896:function(t,e,n){"use strict";var r=n(99172),i=n(12280),o=n(48981);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},48981:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},14895:function(t,e,n){"use strict";var r=n(99172),i=n(12280),o=n(48981);t.exports=function(t,e,n){r?i.f(t,e,o(0,n)):t[e]=n}},67276:function(t,e,n){"use strict";var r=n(29252),i=n(92064),o=n(9960).start,a=RangeError,u=isFinite,c=Math.abs,l=Date.prototype,s=l.toISOString,f=r(l.getTime),d=r(l.getUTCDate),h=r(l.getUTCFullYear),p=r(l.getUTCHours),v=r(l.getUTCMilliseconds),g=r(l.getUTCMinutes),m=r(l.getUTCMonth),y=r(l.getUTCSeconds);t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!==s.call(new Date(-50000000000001))}))||!i((function(){s.call(new Date(NaN))}))?function(){if(!u(f(this)))throw new a("Invalid time value");var t=this,e=h(t),n=v(t),r=e<0?"-":e>9999?"+":"";return r+o(c(e),r?6:4,0)+"-"+o(m(t)+1,2,0)+"-"+o(d(t),2,0)+"T"+o(p(t),2,0)+":"+o(g(t),2,0)+":"+o(y(t),2,0)+"."+o(n,3,0)+"Z"}:s},56968:function(t,e,n){"use strict";var r=n(12280);t.exports=function(t,e,n){return r.f(t,e,n)}},55424:function(t,e,n){"use strict";var r=n(20896);t.exports=function(t,e,n,i){return i&&i.enumerable?t[e]=n:r(t,e,n),t}},48104:function(t,e,n){"use strict";var r=n(55424);t.exports=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:r(t,i,e[i],n);return t}},44408:function(t,e,n){"use strict";var r=n(85216),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},86940:function(t,e,n){"use strict";var r=n(48944),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+r(e)+" of "+r(t))}},99172:function(t,e,n){"use strict";var r=n(92064);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},21940:function(t,e,n){"use strict";var r=n(85216),i=n(68608),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},18200:function(t){"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},50472:function(t){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7587:function(t,e,n){"use strict";var r=n(72276).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},50940:function(t,e,n){"use strict";var r=n(35924),i=n(91432);t.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},77352:function(t){"use strict";t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},35924:function(t){"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},86028:function(t,e,n){"use strict";var r=n(72276);t.exports=/MSIE|Trident/.test(r)},38792:function(t,e,n){"use strict";var r=n(72276);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},56772:function(t,e,n){"use strict";var r=n(72276);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},91432:function(t,e,n){"use strict";var r=n(85216),i=n(47936);t.exports="process"===i(r.process)},51824:function(t,e,n){"use strict";var r=n(72276);t.exports=/web0s(?!.*chrome)/i.test(r)},72276:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},23896:function(t,e,n){"use strict";var r,i,o=n(85216),a=n(72276),u=o.process,c=o.Deno,l=u&&u.versions||c&&c.version,s=l&&l.v8;s&&(i=(r=s.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},83624:function(t,e,n){"use strict";var r=n(72276).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},63620:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},69492:function(t,e,n){"use strict";var r=n(29252),i=Error,o=r("".replace),a=String(new i("zxcasd").stack),u=/\n\s*at [^:]*:[^\n]*/,c=u.test(a);t.exports=function(t,e){if(c&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,u,"");return t}},69035:function(t,e,n){"use strict";var r=n(20896),i=n(69492),o=n(91376),a=Error.captureStackTrace;t.exports=function(t,e,n,u){o&&(a?a(t,e):r(t,"stack",i(n,u)))}},91376:function(t,e,n){"use strict";var r=n(92064),i=n(48981);t.exports=!r((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},33952:function(t,e,n){"use strict";var r=n(85216),i=n(79867),o=n(61248),a=n(38536),u=n(91008).f,c=n(88536),l=n(19832),s=n(21884),f=n(20896),d=n(34664);n(99284);var h=function(t){var e=function(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,i,p,v,g,m,y,b,C,x=t.target,w=t.global,E=t.stat,S=t.proto,k=w?r:E?r[x]:r[x]&&r[x].prototype,D=w?l:l[x]||f(l,x,{})[x],A=D.prototype;for(v in e)i=!(n=c(w?v:x+(E?".":"#")+v,t.forced))&&k&&d(k,v),m=D[v],i&&(y=t.dontCallGetSet?(C=u(k,v))&&C.value:k[v]),g=i&&y?y:e[v],(n||S||typeof m!=typeof g)&&(b=t.bind&&i?s(g,r):t.wrap&&i?h(g):S&&a(g)?o(g):g,(t.sham||g&&g.sham||m&&m.sham)&&f(b,"sham",!0),f(D,v,b),S&&(d(l,p=x+"Prototype")||f(l,p,{}),f(l[p],v,g),t.real&&A&&(n||!A[v])&&f(A,v,g)))}},92064:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},8728:function(t,e,n){"use strict";var r=n(33204),i=n(35316),o=n(18200),a=n(21884),u=function(t,e,n,c,l,s,f,d){for(var h,p,v=l,g=0,m=!!f&&a(f,d);g<c;)g in n&&(h=m?m(n[g],g,e):n[g],s>0&&r(h)?(p=i(h),v=u(t,e,h,p,v,s-1)-1):(o(v+1),t[v]=h),v++),g++;return v};t.exports=u},69380:function(t,e,n){"use strict";var r=n(92064);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},79867:function(t,e,n){"use strict";var r=n(25200),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},21884:function(t,e,n){"use strict";var r=n(61248),i=n(20028),o=n(25200),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},25200:function(t,e,n){"use strict";var r=n(92064);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},5404:function(t,e,n){"use strict";var r=n(29252),i=n(20028),o=n(68608),a=n(34664),u=n(70940),c=n(25200),l=Function,s=r([].concat),f=r([].join),d={};t.exports=c?l.bind:function(t){var e=i(this),n=e.prototype,r=u(arguments,1),c=function(){var n=s(r,u(arguments));return this instanceof c?function(t,e,n){if(!a(d,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";d[e]=l("C,a","return new C("+f(r,",")+")")}return d[e](t,n)}(e,n.length,n):e.apply(t,n)};return o(n)&&(c.prototype=n),c}},34580:function(t,e,n){"use strict";var r=n(25200),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},13564:function(t,e,n){"use strict";var r=n(99172),i=n(34664),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=i(o,"name"),c=u&&"something"===function(){}.name,l=u&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:l}},97864:function(t,e,n){"use strict";var r=n(29252),i=n(20028);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},61248:function(t,e,n){"use strict";var r=n(47936),i=n(29252);t.exports=function(t){if("Function"===r(t))return i(t)}},29252:function(t,e,n){"use strict";var r=n(25200),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},46180:function(t,e,n){"use strict";var r=n(85216),i=n(19832);t.exports=function(t,e){var n=i[t+"Prototype"],o=n&&n[e];if(o)return o;var a=r[t],u=a&&a.prototype;return u&&u[e]}},23464:function(t,e,n){"use strict";var r=n(19832),i=n(85216),o=n(38536),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},69360:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},80068:function(t,e,n){"use strict";var r=n(60636),i=n(31636),o=n(19511),a=n(97256),u=n(23336)("iterator");t.exports=function(t){if(!o(t))return i(t,u)||i(t,"@@iterator")||a[r(t)]}},74656:function(t,e,n){"use strict";var r=n(34580),i=n(20028),o=n(42032),a=n(48944),u=n(80068),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?u(t):e;if(i(n))return o(r(n,t));throw new c(a(t)+" is not iterable")}},13676:function(t,e,n){"use strict";var r=n(29252),i=n(33204),o=n(38536),a=n(47936),u=n(39352),c=r([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,n=[],r=0;r<e;r++){var l=t[r];"string"==typeof l?c(n,l):"number"!=typeof l&&"Number"!==a(l)&&"String"!==a(l)||c(n,u(l))}var s=n.length,f=!0;return function(t,e){if(f)return f=!1,e;if(i(this))return e;for(var r=0;r<s;r++)if(n[r]===t)return e}}}},31636:function(t,e,n){"use strict";var r=n(20028),i=n(19511);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},82308:function(t,e,n){"use strict";var r=n(20028),i=n(42032),o=n(34580),a=n(45016),u=n(69360),c="Invalid size",l=RangeError,s=TypeError,f=Math.max,d=function(t,e){this.set=t,this.size=f(e,0),this.has=r(t.has),this.keys=r(t.keys)};d.prototype={getIterator:function(){return u(i(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!=e)throw new s(c);var n=a(e);if(n<0)throw new l(c);return new d(t,n)}},85216:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},34664:function(t,e,n){"use strict";var r=n(29252),i=n(92819),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},13328:function(t){"use strict";t.exports={}},3320:function(t){"use strict";t.exports=function(t,e){}},67896:function(t,e,n){"use strict";var r=n(23464);t.exports=r("document","documentElement")},124:function(t,e,n){"use strict";var r=n(99172),i=n(92064),o=n(21940);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},22899:function(t,e,n){"use strict";var r=n(29252),i=n(92064),o=n(47936),a=Object,u=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?u(t,""):a(t)}:a},39376:function(t,e,n){"use strict";var r=n(29252),i=n(38536),o=n(99284),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},19055:function(t,e,n){"use strict";var r=n(68608),i=n(20896);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},48611:function(t,e,n){"use strict";var r=n(33952),i=n(29252),o=n(13328),a=n(68608),u=n(34664),c=n(12280).f,l=n(11600),s=n(41920),f=n(85432),d=n(66696),h=n(69380),p=!1,v=d("meta"),g=0,m=function(t){c(t,v,{value:{objectID:"O"+g++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},p=!0;var t=l.f,e=i([].splice),n={};n[v]=1,t(n).length&&(l.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===v){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,v)){if(!f(t))return"F";if(!e)return"E";m(t)}return t[v].objectID},getWeakData:function(t,e){if(!u(t,v)){if(!f(t))return!0;if(!e)return!1;m(t)}return t[v].weakData},onFreeze:function(t){return h&&p&&f(t)&&!u(t,v)&&m(t),t}};o[v]=!0},2344:function(t,e,n){"use strict";var r,i,o,a=n(23184),u=n(85216),c=n(68608),l=n(20896),s=n(34664),f=n(99284),d=n(80924),h=n(13328),p="Object already initialized",v=u.TypeError,g=u.WeakMap;if(a||f.state){var m=f.state||(f.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,r=function(t,e){if(m.has(t))throw new v(p);return e.facade=t,m.set(t,e),e},i=function(t){return m.get(t)||{}},o=function(t){return m.has(t)}}else{var y=d("state");h[y]=!0,r=function(t,e){if(s(t,y))throw new v(p);return e.facade=t,l(t,y,e),e},i=function(t){return s(t,y)?t[y]:{}},o=function(t){return s(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return n}}}},84992:function(t,e,n){"use strict";var r=n(23336),i=n(97256),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},33204:function(t,e,n){"use strict";var r=n(47936);t.exports=Array.isArray||function(t){return"Array"===r(t)}},38536:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},39496:function(t,e,n){"use strict";var r=n(29252),i=n(92064),o=n(38536),a=n(60636),u=n(23464),c=n(39376),l=function(){},s=u("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),h=!f.test(l),p=function(t){if(!o(t))return!1;try{return s(l,[],t),!0}catch(t){return!1}},v=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!d(f,c(t))}catch(t){return!0}};v.sham=!0,t.exports=!s||i((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?v:p},88536:function(t,e,n){"use strict";var r=n(92064),i=n(38536),o=/#|\.prototype\./,a=function(t,e){var n=c[u(t)];return n===s||n!==l&&(i(e)?r(e):!!e)},u=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",s=a.POLYFILL="P";t.exports=a},19511:function(t){"use strict";t.exports=function(t){return null==t}},68608:function(t,e,n){"use strict";var r=n(38536);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},97432:function(t,e,n){"use strict";var r=n(68608);t.exports=function(t){return r(t)||null===t}},31016:function(t){"use strict";t.exports=!0},9300:function(t,e,n){"use strict";var r=n(68608),i=n(47936),o=n(23336)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===i(t))}},95376:function(t,e,n){"use strict";var r=n(23464),i=n(38536),o=n(82360),a=n(46416),u=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,u(t))}},63187:function(t,e,n){"use strict";var r=n(34580);t.exports=function(t,e,n){for(var i,o,a=n?t:t.iterator,u=t.next;!(i=r(u,a)).done;)if(void 0!==(o=e(i.value)))return o}},75799:function(t,e,n){"use strict";var r=n(21884),i=n(34580),o=n(42032),a=n(48944),u=n(84992),c=n(35316),l=n(82360),s=n(74656),f=n(80068),d=n(45872),h=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,n){var g,m,y,b,C,x,w,E=n&&n.that,S=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_RECORD),D=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),I=r(e,E),M=function(t){return g&&d(g,"normal",t),new p(!0,t)},T=function(t){return S?(o(t),A?I(t[0],t[1],M):I(t[0],t[1])):A?I(t,M):I(t)};if(k)g=t.iterator;else if(D)g=t;else{if(!(m=f(t)))throw new h(a(t)+" is not iterable");if(u(m)){for(y=0,b=c(t);b>y;y++)if((C=T(t[y]))&&l(v,C))return C;return new p(!1)}g=s(t,m)}for(x=k?t.next:g.next;!(w=i(x,g)).done;){try{C=T(w.value)}catch(t){d(g,"throw",t)}if("object"==typeof C&&C&&l(v,C))return C}return new p(!1)}},45872:function(t,e,n){"use strict";var r=n(34580),i=n(42032),o=n(31636);t.exports=function(t,e,n){var a,u;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){u=!0,a=t}if("throw"===e)throw n;if(u)throw a;return i(a),n}},39976:function(t,e,n){"use strict";var r=n(72224).IteratorPrototype,i=n(4488),o=n(48981),a=n(35836),u=n(97256),c=function(){return this};t.exports=function(t,e,n,l){var s=e+" Iterator";return t.prototype=i(r,{next:o(+!l,n)}),a(t,s,!1,!0),u[s]=c,t}},536:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(31016),a=n(13564),u=n(38536),c=n(39976),l=n(27800),s=n(92288),f=n(35836),d=n(20896),h=n(55424),p=n(23336),v=n(97256),g=n(72224),m=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,C=g.BUGGY_SAFARI_ITERATORS,x=p("iterator"),w="keys",E="values",S="entries",k=function(){return this};t.exports=function(t,e,n,a,p,g,D){c(n,e,a);var A,I,M,T=function(t){if(t===p&&_)return _;if(!C&&t&&t in L)return L[t];switch(t){case w:case E:case S:return function(){return new n(this,t)}}return function(){return new n(this)}},B=e+" Iterator",F=!1,L=t.prototype,R=L[x]||L["@@iterator"]||p&&L[p],_=!C&&R||T(p),N="Array"===e&&L.entries||R;if(N&&(A=l(N.call(new t)))!==Object.prototype&&A.next&&(o||l(A)===b||(s?s(A,b):u(A[x])||h(A,x,k)),f(A,B,!0,!0),o&&(v[B]=k)),m&&p===E&&R&&R.name!==E&&(!o&&y?d(L,"name",E):(F=!0,_=function(){return i(R,this)})),p)if(I={values:T(E),keys:g?_:T(w),entries:T(S)},D)for(M in I)(C||F||!(M in L))&&h(L,M,I[M]);else r({target:e,proto:!0,forced:C||F},I);return o&&!D||L[x]===_||h(L,x,_,{name:p}),v[e]=_,I}},72224:function(t,e,n){"use strict";var r,i,o,a=n(92064),u=n(38536),c=n(68608),l=n(4488),s=n(27800),f=n(55424),d=n(23336),h=n(31016),p=d("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):v=!0),!c(r)||a((function(){var t={};return r[p].call(t)!==t}))?r={}:h&&(r=l(r)),u(r[p])||f(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},97256:function(t){"use strict";t.exports={}},35316:function(t,e,n){"use strict";var r=n(84596);t.exports=function(t){return r(t.length)}},2408:function(t,e,n){"use strict";var r=n(23464),i=n(7212),o=r("Map");t.exports={Map:o,set:i("set",2),get:i("get",1),has:i("has",1),remove:i("delete",1),proto:o.prototype}},90024:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},39836:function(t,e,n){"use strict";var r,i,o,a,u,c=n(85216),l=n(94604),s=n(21884),f=n(93368).set,d=n(20984),h=n(56772),p=n(38792),v=n(51824),g=n(91432),m=c.MutationObserver||c.WebKitMutationObserver,y=c.document,b=c.process,C=c.Promise,x=l("queueMicrotask");if(!x){var w=new d,E=function(){var t,e;for(g&&(t=b.domain)&&t.exit();e=w.get();)try{e()}catch(t){throw w.head&&r(),t}t&&t.enter()};h||g||v||!m||!y?!p&&C&&C.resolve?((a=C.resolve(void 0)).constructor=C,u=s(a.then,a),r=function(){u(E)}):g?r=function(){b.nextTick(E)}:(f=s(f,c),r=function(){f(E)}):(i=!0,o=y.createTextNode(""),new m(E).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),x=function(t){w.head||r(),w.add(t)}}t.exports=x},71243:function(t,e,n){"use strict";var r=n(20028),i=TypeError,o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw new i("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},93080:function(t,e,n){"use strict";var r=n(39352);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},29720:function(t,e,n){"use strict";var r=n(9300),i=TypeError;t.exports=function(t){if(r(t))throw new i("The method doesn't accept regular expressions");return t}},25411:function(t,e,n){"use strict";var r=n(85216),i=n(92064),o=n(29252),a=n(39352),u=n(36832).trim,c=n(25276),l=o("".charAt),s=r.parseFloat,f=r.Symbol,d=f&&f.iterator,h=1/s(c+"-0")!=-1/0||d&&!i((function(){s(Object(d))}));t.exports=h?function(t){var e=u(a(t)),n=s(e);return 0===n&&"-"===l(e,0)?-0:n}:s},24828:function(t,e,n){"use strict";var r=n(85216),i=n(92064),o=n(29252),a=n(39352),u=n(36832).trim,c=n(25276),l=r.parseInt,s=r.Symbol,f=s&&s.iterator,d=/^[+-]?0x/i,h=o(d.exec),p=8!==l(c+"08")||22!==l(c+"0x16")||f&&!i((function(){l(Object(f))}));t.exports=p?function(t,e){var n=u(a(t));return l(n,e>>>0||(h(d,n)?16:10))}:l},88980:function(t,e,n){"use strict";var r=n(99172),i=n(29252),o=n(34580),a=n(92064),u=n(9547),c=n(74060),l=n(66500),s=n(92819),f=n(22899),d=Object.assign,h=Object.defineProperty,p=i([].concat);t.exports=!d||a((function(){if(r&&1!==d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==d({},t)[n]||u(d({},e)).join("")!==i}))?function(t,e){for(var n=s(t),i=arguments.length,a=1,d=c.f,h=l.f;i>a;)for(var v,g=f(arguments[a++]),m=d?p(u(g),d(g)):u(g),y=m.length,b=0;y>b;)v=m[b++],r&&!o(h,g,v)||(n[v]=g[v]);return n}:d},4488:function(t,e,n){"use strict";var r,i=n(42032),o=n(86452),a=n(63620),u=n(13328),c=n(67896),l=n(21940),s=n(80924),f="prototype",d="script",h=s("IE_PROTO"),p=function(){},v=function(t){return"<"+d+">"+t+"</"+d+">"},g=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;m="undefined"!=typeof document?document.domain&&r?g(r):(e=l("iframe"),n="java"+d+":",e.style.display="none",c.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):g(r);for(var i=a.length;i--;)delete m[f][a[i]];return m()};u[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[f]=i(t),n=new p,p[f]=null,n[h]=t):n=m(),void 0===e?n:o.f(n,e)}},86452:function(t,e,n){"use strict";var r=n(99172),i=n(63109),o=n(12280),a=n(42032),u=n(30445),c=n(9547);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=c(e),l=i.length,s=0;l>s;)o.f(t,n=i[s++],r[n]);return t}},12280:function(t,e,n){"use strict";var r=n(99172),i=n(124),o=n(63109),a=n(42032),u=n(42319),c=TypeError,l=Object.defineProperty,s=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",h="writable";e.f=r?o?function(t,e,n){if(a(t),e=u(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&h in n&&!n[h]){var r=s(t,e);r&&r[h]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:f in n?n[f]:r[f],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(a(t),e=u(e),a(n),i)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},91008:function(t,e,n){"use strict";var r=n(99172),i=n(34580),o=n(66500),a=n(48981),u=n(30445),c=n(42319),l=n(34664),s=n(124),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=u(t),e=c(e),s)try{return f(t,e)}catch(t){}if(l(t,e))return a(!i(o.f,t,e),t[e])}},41920:function(t,e,n){"use strict";var r=n(47936),i=n(30445),o=n(11600).f,a=n(70940),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"Window"===r(t)?function(t){try{return o(t)}catch(t){return a(u)}}(t):o(i(t))}},11600:function(t,e,n){"use strict";var r=n(92884),i=n(63620).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},74060:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},27800:function(t,e,n){"use strict";var r=n(34664),i=n(38536),o=n(92819),a=n(80924),u=n(72480),c=a("IE_PROTO"),l=Object,s=l.prototype;t.exports=u?l.getPrototypeOf:function(t){var e=o(t);if(r(e,c))return e[c];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof l?s:null}},85432:function(t,e,n){"use strict";var r=n(92064),i=n(68608),o=n(47936),a=n(3648),u=Object.isExtensible,c=r((function(){u(1)}));t.exports=c||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!==o(t))&&(!u||u(t)))}:u},82360:function(t,e,n){"use strict";var r=n(29252);t.exports=r({}.isPrototypeOf)},92884:function(t,e,n){"use strict";var r=n(29252),i=n(34664),o=n(30445),a=n(77464).indexOf,u=n(13328),c=r([].push);t.exports=function(t,e){var n,r=o(t),l=0,s=[];for(n in r)!i(u,n)&&i(r,n)&&c(s,n);for(;e.length>l;)i(r,n=e[l++])&&(~a(s,n)||c(s,n));return s}},9547:function(t,e,n){"use strict";var r=n(92884),i=n(63620);t.exports=Object.keys||function(t){return r(t,i)}},66500:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},92288:function(t,e,n){"use strict";var r=n(97864),i=n(68608),o=n(69952),a=n(31459);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),a(r),i(n)?(e?t(n,r):n.__proto__=r,n):n}}():void 0)},82768:function(t,e,n){"use strict";var r=n(99172),i=n(92064),o=n(29252),a=n(27800),u=n(9547),c=n(30445),l=o(n(66500).f),s=o([].push),f=r&&i((function(){var t=Object.create(null);return t[2]=2,!l(t,2)})),d=function(t){return function(e){for(var n,i=c(e),o=u(i),d=f&&null===a(i),h=o.length,p=0,v=[];h>p;)n=o[p++],r&&!(d?n in i:l(i,n))||s(v,t?[n,i[n]]:i[n]);return v}};t.exports={entries:d(!0),values:d(!1)}},71616:function(t,e,n){"use strict";var r=n(26744),i=n(60636);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},10416:function(t,e,n){"use strict";var r=n(34580),i=n(38536),o=n(68608),a=TypeError;t.exports=function(t,e){var n,u;if("string"===e&&i(n=t.toString)&&!o(u=r(n,t)))return u;if(i(n=t.valueOf)&&!o(u=r(n,t)))return u;if("string"!==e&&i(n=t.toString)&&!o(u=r(n,t)))return u;throw new a("Can't convert object to primitive value")}},7876:function(t,e,n){"use strict";var r=n(23464),i=n(29252),o=n(11600),a=n(74060),u=n(42032),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(u(t)),n=a.f;return n?c(e,n(t)):e}},19832:function(t){"use strict";t.exports={}},35240:function(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},35524:function(t,e,n){"use strict";var r=n(85216),i=n(50728),o=n(38536),a=n(88536),u=n(39376),c=n(23336),l=n(50940),s=n(35924),f=n(31016),d=n(23896),h=i&&i.prototype,p=c("species"),v=!1,g=o(r.PromiseRejectionEvent),m=a("Promise",(function(){var t=u(i),e=t!==String(i);if(!e&&66===d)return!0;if(f&&(!h.catch||!h.finally))return!0;if(!d||d<51||!/native code/.test(t)){var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(v=n.then((function(){}))instanceof r))return!0}return!e&&(l||s)&&!g}));t.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:v}},50728:function(t,e,n){"use strict";var r=n(85216);t.exports=r.Promise},29592:function(t,e,n){"use strict";var r=n(42032),i=n(68608),o=n(71243);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},84880:function(t,e,n){"use strict";var r=n(50728),i=n(70347),o=n(35524).CONSTRUCTOR;t.exports=o||!i((function(t){r.all(t).then(void 0,(function(){}))}))},20984:function(t){"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},69952:function(t,e,n){"use strict";var r=n(19511),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},94604:function(t,e,n){"use strict";var r=n(85216),i=n(99172),o=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return r[t];var e=o(r,t);return e&&e.value}},11176:function(t){"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},98084:function(t,e,n){"use strict";var r,i=n(85216),o=n(79867),a=n(38536),u=n(77352),c=n(72276),l=n(70940),s=n(75872),f=i.Function,d=/MSIE .\./.test(c)||u&&((r=i.Bun.version.split(".")).length<3||"0"===r[0]&&(r[1]<3||"3"===r[1]&&"0"===r[2]));t.exports=function(t,e){var n=e?2:1;return d?function(r,i){var u=s(arguments.length,1)>n,c=a(r)?r:f(r),d=u?l(arguments,n):[],h=u?function(){o(c,this,d)}:c;return e?t(h,i):t(h)}:t}},94440:function(t,e,n){"use strict";var r=n(68152),i=n(71836),o=r.Set,a=r.add;t.exports=function(t){var e=new o;return i(t,(function(t){a(e,t)})),e}},62396:function(t,e,n){"use strict";var r=n(92292),i=n(68152),o=n(94440),a=n(30032),u=n(82308),c=n(71836),l=n(63187),s=i.has,f=i.remove;t.exports=function(t){var e=r(this),n=u(t),i=o(e);return a(e)<=n.size?c(e,(function(t){n.includes(t)&&f(i,t)})):l(n.getIterator(),(function(t){s(e,t)&&f(i,t)})),i}},68152:function(t,e,n){"use strict";var r=n(23464),i=n(7212),o=r("Set"),a=o.prototype;t.exports={Set:o,add:i("add",1),has:i("has",1),remove:i("delete",1),proto:a}},50920:function(t,e,n){"use strict";var r=n(92292),i=n(68152),o=n(30032),a=n(82308),u=n(71836),c=n(63187),l=i.Set,s=i.add,f=i.has;t.exports=function(t){var e=r(this),n=a(t),i=new l;return o(e)>n.size?c(n.getIterator(),(function(t){f(e,t)&&s(i,t)})):u(e,(function(t){n.includes(t)&&s(i,t)})),i}},27968:function(t,e,n){"use strict";var r=n(92292),i=n(68152).has,o=n(30032),a=n(82308),u=n(71836),c=n(63187),l=n(45872);t.exports=function(t){var e=r(this),n=a(t);if(o(e)<=n.size)return!1!==u(e,(function(t){if(n.includes(t))return!1}),!0);var s=n.getIterator();return!1!==c(s,(function(t){if(i(e,t))return l(s,"normal",!1)}))}},89972:function(t,e,n){"use strict";var r=n(92292),i=n(30032),o=n(71836),a=n(82308);t.exports=function(t){var e=r(this),n=a(t);return!(i(e)>n.size)&&!1!==o(e,(function(t){if(!n.includes(t))return!1}),!0)}},93472:function(t,e,n){"use strict";var r=n(92292),i=n(68152).has,o=n(30032),a=n(82308),u=n(63187),c=n(45872);t.exports=function(t){var e=r(this),n=a(t);if(o(e)<n.size)return!1;var l=n.getIterator();return!1!==u(l,(function(t){if(!i(e,t))return c(l,"normal",!1)}))}},71836:function(t,e,n){"use strict";var r=n(63187);t.exports=function(t,e,n){return n?r(t.keys(),e,!0):t.forEach(e)}},94864:function(t){"use strict";t.exports=function(){return!1}},30032:function(t){"use strict";t.exports=function(t){return t.size}},13120:function(t,e,n){"use strict";var r=n(23464),i=n(56968),o=n(23336),a=n(99172),u=o("species");t.exports=function(t){var e=r(t);a&&e&&!e[u]&&i(e,u,{configurable:!0,get:function(){return this}})}},58732:function(t,e,n){"use strict";var r=n(92292),i=n(68152),o=n(94440),a=n(82308),u=n(63187),c=i.add,l=i.has,s=i.remove;t.exports=function(t){var e=r(this),n=a(t).getIterator(),i=o(e);return u(n,(function(t){l(e,t)?s(i,t):c(i,t)})),i}},35836:function(t,e,n){"use strict";var r=n(26744),i=n(12280).f,o=n(20896),a=n(34664),u=n(71616),c=n(23336)("toStringTag");t.exports=function(t,e,n,l){var s=n?t:t&&t.prototype;s&&(a(s,c)||i(s,c,{configurable:!0,value:e}),l&&!r&&o(s,"toString",u))}},56240:function(t,e,n){"use strict";var r=n(92292),i=n(68152).add,o=n(94440),a=n(82308),u=n(63187);t.exports=function(t){var e=r(this),n=a(t).getIterator(),c=o(e);return u(n,(function(t){i(c,t)})),c}},80924:function(t,e,n){"use strict";var r=n(68852),i=n(66696),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},99284:function(t,e,n){"use strict";var r=n(31016),i=n(85216),o=n(44408),a="__core-js_shared__",u=t.exports=i[a]||o(a,{});(u.versions||(u.versions=[])).push({version:"3.37.0",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"})},68852:function(t,e,n){"use strict";var r=n(99284);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},84928:function(t,e,n){"use strict";var r=n(42032),i=n(39556),o=n(19511),a=n(23336)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||o(n=r(u)[a])?e:i(n)}},16392:function(t,e,n){"use strict";var r=n(29252),i=n(45016),o=n(39352),a=n(69952),u=r("".charAt),c=r("".charCodeAt),l=r("".slice),s=function(t){return function(e,n){var r,s,f=o(a(e)),d=i(n),h=f.length;return d<0||d>=h?t?"":void 0:(r=c(f,d))<55296||r>56319||d+1===h||(s=c(f,d+1))<56320||s>57343?t?u(f,d):r:t?l(f,d,d+2):s-56320+(r-55296<<10)+65536}};t.exports={codeAt:s(!1),charAt:s(!0)}},9960:function(t,e,n){"use strict";var r=n(29252),i=n(84596),o=n(39352),a=n(75448),u=n(69952),c=r(a),l=r("".slice),s=Math.ceil,f=function(t){return function(e,n,r){var a,f,d=o(u(e)),h=i(n),p=d.length,v=void 0===r?" ":o(r);return h<=p||""===v?d:((f=c(v,s((a=h-p)/v.length))).length>a&&(f=l(f,0,a)),t?d+f:f+d)}};t.exports={start:f(!1),end:f(!0)}},75448:function(t,e,n){"use strict";var r=n(45016),i=n(39352),o=n(69952),a=RangeError;t.exports=function(t){var e=i(o(this)),n="",u=r(t);if(u<0||u===1/0)throw new a("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(e+=e))1&u&&(n+=e);return n}},74144:function(t,e,n){"use strict";var r=n(13564).PROPER,i=n(92064),o=n(25276);t.exports=function(t){return i((function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||r&&o[t].name!==t}))}},36832:function(t,e,n){"use strict";var r=n(29252),i=n(69952),o=n(39352),a=n(25276),u=r("".replace),c=RegExp("^["+a+"]+"),l=RegExp("(^|[^"+a+"])["+a+"]+$"),s=function(t){return function(e){var n=o(i(e));return 1&t&&(n=u(n,c,"")),2&t&&(n=u(n,l,"$1")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},25235:function(t,e,n){"use strict";var r=n(23896),i=n(92064),o=n(85216).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},50072:function(t,e,n){"use strict";var r=n(34580),i=n(23464),o=n(23336),a=n(55424);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,u=o("toPrimitive");e&&!e[u]&&a(e,u,(function(t){return r(n,this)}),{arity:1})}},95080:function(t,e,n){"use strict";var r=n(23464),i=n(29252),o=r("Symbol"),a=o.keyFor,u=i(o.prototype.valueOf);t.exports=o.isRegisteredSymbol||function(t){try{return void 0!==a(u(t))}catch(t){return!1}}},12636:function(t,e,n){"use strict";for(var r=n(68852),i=n(23464),o=n(29252),a=n(95376),u=n(23336),c=i("Symbol"),l=c.isWellKnownSymbol,s=i("Object","getOwnPropertyNames"),f=o(c.prototype.valueOf),d=r("wks"),h=0,p=s(c),v=p.length;h<v;h++)try{var g=p[h];a(c[g])&&u(g)}catch(t){}t.exports=function(t){if(l&&l(t))return!0;try{for(var e=f(t),n=0,r=s(d),i=r.length;n<i;n++)if(d[r[n]]==e)return!0}catch(t){}return!1}},37780:function(t,e,n){"use strict";var r=n(25235);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},93368:function(t,e,n){"use strict";var r,i,o,a,u=n(85216),c=n(79867),l=n(21884),s=n(38536),f=n(34664),d=n(92064),h=n(67896),p=n(70940),v=n(21940),g=n(75872),m=n(56772),y=n(91432),b=u.setImmediate,C=u.clearImmediate,x=u.process,w=u.Dispatch,E=u.Function,S=u.MessageChannel,k=u.String,D=0,A={},I="onreadystatechange";d((function(){r=u.location}));var M=function(t){if(f(A,t)){var e=A[t];delete A[t],e()}},T=function(t){return function(){M(t)}},B=function(t){M(t.data)},F=function(t){u.postMessage(k(t),r.protocol+"//"+r.host)};b&&C||(b=function(t){g(arguments.length,1);var e=s(t)?t:E(t),n=p(arguments,1);return A[++D]=function(){c(e,void 0,n)},i(D),D},C=function(t){delete A[t]},y?i=function(t){x.nextTick(T(t))}:w&&w.now?i=function(t){w.now(T(t))}:S&&!m?(a=(o=new S).port2,o.port1.onmessage=B,i=l(a.postMessage,a)):u.addEventListener&&s(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!d(F)?(i=F,u.addEventListener("message",B,!1)):i=I in v("script")?function(t){h.appendChild(v("script"))[I]=function(){h.removeChild(this),M(t)}}:function(t){setTimeout(T(t),0)}),t.exports={set:b,clear:C}},24180:function(t,e,n){"use strict";var r=n(45016),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},30445:function(t,e,n){"use strict";var r=n(22899),i=n(69952);t.exports=function(t){return r(i(t))}},45016:function(t,e,n){"use strict";var r=n(90024);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},84596:function(t,e,n){"use strict";var r=n(45016),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},92819:function(t,e,n){"use strict";var r=n(69952),i=Object;t.exports=function(t){return i(r(t))}},23504:function(t,e,n){"use strict";var r=n(34580),i=n(68608),o=n(95376),a=n(31636),u=n(10416),c=n(23336),l=TypeError,s=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,c=a(t,s);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!i(n)||o(n))return n;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},42319:function(t,e,n){"use strict";var r=n(23504),i=n(95376);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},26744:function(t,e,n){"use strict";var r={};r[n(23336)("toStringTag")]="z",t.exports="[object z]"===String(r)},39352:function(t,e,n){"use strict";var r=n(60636),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},48944:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},66696:function(t,e,n){"use strict";var r=n(29252),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},46416:function(t,e,n){"use strict";var r=n(25235);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},63109:function(t,e,n){"use strict";var r=n(99172),i=n(92064);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},75872:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},23184:function(t,e,n){"use strict";var r=n(85216),i=n(38536),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},61084:function(t,e,n){"use strict";var r=n(19832),i=n(34664),o=n(81104),a=n(12280).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},81104:function(t,e,n){"use strict";var r=n(23336);e.f=r},23336:function(t,e,n){"use strict";var r=n(85216),i=n(68852),o=n(34664),a=n(66696),u=n(25235),c=n(46416),l=r.Symbol,s=i("wks"),f=c?l.for||l:l&&l.withoutSetter||a;t.exports=function(t){return o(s,t)||(s[t]=u&&o(l,t)?l[t]:f("Symbol."+t)),s[t]}},25276:function(t){"use strict";t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},59232:function(t,e,n){"use strict";var r=n(33952),i=n(82360),o=n(27800),a=n(92288),u=n(1100),c=n(4488),l=n(20896),s=n(48981),f=n(19055),d=n(69035),h=n(75799),p=n(93080),v=n(23336)("toStringTag"),g=Error,m=[].push,y=function(t,e){var n,r=i(b,this);a?n=a(new g,r?o(this):b):(n=r?this:c(b),l(n,v,"Error")),void 0!==e&&l(n,"message",p(e)),d(n,y,n.stack,1),arguments.length>2&&f(n,arguments[2]);var u=[];return h(t,m,{that:u}),l(n,"errors",u),n};a?a(y,g):u(y,g,{name:!0});var b=y.prototype=c(g.prototype,{constructor:s(1,y),message:s(1,""),name:s(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},38436:function(t,e,n){"use strict";n(59232)},22216:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(33204),a=n(68608),u=n(92819),c=n(35316),l=n(18200),s=n(14895),f=n(94872),d=n(85384),h=n(23336),p=n(23896),v=h("isConcatSpreadable"),g=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!g||!d("concat")},{concat:function(t){var e,n,r,i,o,a=u(this),d=f(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(m(o=-1===e?a:arguments[e]))for(i=c(o),l(h+i),n=0;n<i;n++,h++)n in o&&s(d,h,o[n]);else l(h+1),s(d,h++,o);return d.length=h,d}})},16408:function(t,e,n){"use strict";var r=n(33952),i=n(7608).every;r({target:"Array",proto:!0,forced:!n(54888)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},64124:function(t,e,n){"use strict";var r=n(33952),i=n(33028),o=n(51472);r({target:"Array",proto:!0},{fill:i}),o("fill")},64864:function(t,e,n){"use strict";var r=n(33952),i=n(7608).filter;r({target:"Array",proto:!0,forced:!n(85384)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},41008:function(t,e,n){"use strict";var r=n(33952),i=n(7608).findIndex,o=n(51472),a="findIndex",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},36952:function(t,e,n){"use strict";var r=n(33952),i=n(7608).find,o=n(51472),a="find",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},37096:function(t,e,n){"use strict";var r=n(33952),i=n(8728),o=n(20028),a=n(92819),u=n(35316),c=n(94872);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=a(this),r=u(n);return o(t),(e=c(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},18068:function(t,e,n){"use strict";var r=n(33952),i=n(66056);r({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},19952:function(t,e,n){"use strict";var r=n(33952),i=n(9980);r({target:"Array",stat:!0,forced:!n(70347)((function(t){Array.from(t)}))},{from:i})},46504:function(t,e,n){"use strict";var r=n(33952),i=n(77464).includes,o=n(92064),a=n(51472);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},11904:function(t,e,n){"use strict";var r=n(33952),i=n(61248),o=n(77464).indexOf,a=n(54888),u=i([].indexOf),c=!!u&&1/u([1],1,-0)<0;r({target:"Array",proto:!0,forced:c||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?u(this,t,e)||0:o(this,t,e)}})},45656:function(t,e,n){"use strict";n(33952)({target:"Array",stat:!0},{isArray:n(33204)})},30340:function(t,e,n){"use strict";var r=n(30445),i=n(51472),o=n(97256),a=n(2344),u=n(12280).f,c=n(536),l=n(73848),s=n(31016),f=n(99172),d="Array Iterator",h=a.set,p=a.getterFor(d);t.exports=c(Array,"Array",(function(t,e){h(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,l(void 0,!0);switch(t.kind){case"keys":return l(n,!1);case"values":return l(e[n],!1)}return l([n,e[n]],!1)}),"values");var v=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!s&&f&&"values"!==v.name)try{u(v,"name",{value:"values"})}catch(t){}},97092:function(t,e,n){"use strict";var r=n(33952),i=n(7608).map;r({target:"Array",proto:!0,forced:!n(85384)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},91704:function(t,e,n){"use strict";var r=n(33952),i=n(16460).left,o=n(54888),a=n(23896);r({target:"Array",proto:!0,forced:!n(91432)&&a>79&&a<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},9020:function(t,e,n){"use strict";var r=n(33952),i=n(29252),o=n(33204),a=i([].reverse),u=[1,2];r({target:"Array",proto:!0,forced:String(u)===String(u.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},15863:function(t,e,n){"use strict";var r=n(33952),i=n(33204),o=n(39496),a=n(68608),u=n(24180),c=n(35316),l=n(30445),s=n(14895),f=n(23336),d=n(85384),h=n(70940),p=d("slice"),v=f("species"),g=Array,m=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,f,d=l(this),p=c(d),y=u(t,p),b=u(void 0===e?p:e,p);if(i(d)&&(n=d.constructor,(o(n)&&(n===g||i(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return h(d,y,b);for(r=new(void 0===n?g:n)(m(b-y,0)),f=0;y<b;y++,f++)y in d&&s(r,f,d[y]);return r.length=f,r}})},43408:function(t,e,n){"use strict";var r=n(33952),i=n(7608).some;r({target:"Array",proto:!0,forced:!n(54888)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},38280:function(t,e,n){"use strict";var r=n(33952),i=n(29252),o=n(20028),a=n(92819),u=n(35316),c=n(86940),l=n(39352),s=n(92064),f=n(43864),d=n(54888),h=n(7587),p=n(86028),v=n(23896),g=n(83624),m=[],y=i(m.sort),b=i(m.push),C=s((function(){m.sort(void 0)})),x=s((function(){m.sort(null)})),w=d("sort"),E=!s((function(){if(v)return v<70;if(!(h&&h>3)){if(p)return!0;if(g)return g<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:e+r,v:n})}for(m.sort((function(t,e){return e.v-t.v})),r=0;r<m.length;r++)e=m[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:C||!x||!w||!E},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(E)return void 0===t?y(e):y(e,t);var n,r,i=[],s=u(e);for(r=0;r<s;r++)r in e&&b(i,e[r]);for(f(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:l(e)>l(n)?1:-1}}(t)),n=u(i),r=0;r<n;)e[r]=i[r++];for(;r<s;)c(e,r++);return e}})},74152:function(t,e,n){"use strict";var r=n(33952),i=n(92819),o=n(24180),a=n(45016),u=n(35316),c=n(1716),l=n(18200),s=n(94872),f=n(14895),d=n(86940),h=n(85384)("splice"),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,r,h,g,m,y,b=i(this),C=u(b),x=o(t,C),w=arguments.length;for(0===w?n=r=0:1===w?(n=0,r=C-x):(n=w-2,r=v(p(a(e),0),C-x)),l(C+n-r),h=s(b,r),g=0;g<r;g++)(m=x+g)in b&&f(h,g,b[m]);if(h.length=r,n<r){for(g=x;g<C-r;g++)y=g+n,(m=g+r)in b?b[y]=b[m]:d(b,y);for(g=C;g>C-r+n;g--)d(b,g-1)}else if(n>r)for(g=C-r;g>x;g--)y=g+n-1,(m=g+r-1)in b?b[y]=b[m]:d(b,y);for(g=0;g<n;g++)b[g+x]=arguments[g+2];return c(b,C-r+n),h}})},52651:function(t,e,n){"use strict";n(51472)("flatMap")},4864:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(92819),a=n(23504),u=n(67276),c=n(47936);r({target:"Date",proto:!0,forced:n(92064)((function(){return null!==new Date(NaN).toJSON()||1!==i(Date.prototype.toJSON,{toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),n=a(e,"number");return"number"!=typeof n||isFinite(n)?"toISOString"in e||"Date"!==c(e)?e.toISOString():i(u,e):null}})},54388:function(t,e,n){"use strict";var r=n(33952),i=n(5404);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},56736:function(t,e,n){"use strict";var r=n(33952),i=n(85216);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},58824:function(t,e,n){"use strict";var r=n(33952),i=n(23464),o=n(79867),a=n(34580),u=n(29252),c=n(92064),l=n(38536),s=n(95376),f=n(70940),d=n(13676),h=n(25235),p=String,v=i("JSON","stringify"),g=u(/./.exec),m=u("".charAt),y=u("".charCodeAt),b=u("".replace),C=u(1..toString),x=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,S=!h||c((function(){var t=i("Symbol")("stringify detection");return"[null]"!==v([t])||"{}"!==v({a:t})||"{}"!==v(Object(t))})),k=c((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),D=function(t,e){var n=f(arguments),r=d(e);if(l(r)||void 0!==t&&!s(t))return n[1]=function(t,e){if(l(r)&&(e=a(r,this,p(t),e)),!s(e))return e},o(v,null,n)},A=function(t,e,n){var r=m(n,e-1),i=m(n,e+1);return g(w,t)&&!g(E,i)||g(E,t)&&!g(w,r)?"\\u"+C(y(t,0),16):t};v&&r({target:"JSON",stat:!0,arity:3,forced:S||k},{stringify:function(t,e,n){var r=f(arguments),i=o(S?D:v,null,r);return k&&"string"==typeof i?b(i,x,A):i}})},19928:function(t,e,n){"use strict";var r=n(85216);n(35836)(r.JSON,"JSON",!0)},76696:function(t,e,n){"use strict";n(46072)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(63928))},62648:function(t,e,n){"use strict";var r=n(33952),i=n(29252),o=n(20028),a=n(69952),u=n(75799),c=n(2408),l=n(31016),s=n(92064),f=c.Map,d=c.has,h=c.get,p=c.set,v=i([].push),g=l||s((function(){return 1!==f.groupBy("ab",(function(t){return t})).get("a").length}));r({target:"Map",stat:!0,forced:l||g},{groupBy:function(t,e){a(t),o(e);var n=new f,r=0;return u(t,(function(t){var i=e(t,r++);d(n,i)?v(h(n,i),t):p(n,i,[t])})),n}})},86775:function(t,e,n){"use strict";n(76696)},93787:function(){},71620:function(t,e,n){"use strict";n(33952)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},52379:function(t,e,n){"use strict";n(33952)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},46448:function(t,e,n){"use strict";var r=n(33952),i=n(88980);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},68928:function(t,e,n){"use strict";n(33952)({target:"Object",stat:!0,sham:!n(99172)},{create:n(4488)})},67300:function(t,e,n){"use strict";var r=n(33952),i=n(99172),o=n(86452).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},98708:function(t,e,n){"use strict";var r=n(33952),i=n(99172),o=n(12280).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},6360:function(t,e,n){"use strict";var r=n(33952),i=n(82768).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},96360:function(t,e,n){"use strict";var r=n(33952),i=n(69380),o=n(92064),a=n(68608),u=n(48611).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){c(1)})),sham:!i},{freeze:function(t){return c&&a(t)?c(u(t)):t}})},20224:function(t,e,n){"use strict";var r=n(33952),i=n(75799),o=n(14895);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){o(e,t,n)}),{AS_ENTRIES:!0}),e}})},97648:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(30445),a=n(91008).f,u=n(99172);r({target:"Object",stat:!0,forced:!u||i((function(){a(1)})),sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},65032:function(t,e,n){"use strict";var r=n(33952),i=n(99172),o=n(7876),a=n(30445),u=n(91008),c=n(14895);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=u.f,l=o(r),s={},f=0;l.length>f;)void 0!==(n=i(r,e=l[f++]))&&c(s,e,n);return s}})},45312:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(41920).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},79672:function(t,e,n){"use strict";var r=n(33952),i=n(25235),o=n(92064),a=n(74060),u=n(92819);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(u(t)):[]}})},33416:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(92819),a=n(27800),u=n(72480);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!u},{getPrototypeOf:function(t){return a(o(t))}})},63008:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(68608),a=n(47936),u=n(3648),c=Object.isFrozen;r({target:"Object",stat:!0,forced:u||i((function(){c(1)}))},{isFrozen:function(t){return!o(t)||(!(!u||"ArrayBuffer"!==a(t))||!!c&&c(t))}})},92500:function(t,e,n){"use strict";n(33952)({target:"Object",stat:!0},{is:n(11176)})},40088:function(t,e,n){"use strict";var r=n(33952),i=n(92819),o=n(9547);r({target:"Object",stat:!0,forced:n(92064)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},91020:function(t,e,n){"use strict";n(33952)({target:"Object",stat:!0},{setPrototypeOf:n(92288)})},12352:function(){},17016:function(t,e,n){"use strict";var r=n(33952),i=n(82768).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},18984:function(t,e,n){"use strict";var r=n(33952),i=n(25411);r({global:!0,forced:parseFloat!==i},{parseFloat:i})},71740:function(t,e,n){"use strict";var r=n(33952),i=n(24828);r({global:!0,forced:parseInt!==i},{parseInt:i})},38128:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(20028),a=n(71243),u=n(35240),c=n(75799);r({target:"Promise",stat:!0,forced:n(84880)},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,l=n.reject,s=u((function(){var n=o(e.resolve),a=[],u=0,l=1;c(t,(function(t){var o=u++,c=!1;l++,i(n,e,t).then((function(t){c||(c=!0,a[o]={status:"fulfilled",value:t},--l||r(a))}),(function(t){c||(c=!0,a[o]={status:"rejected",reason:t},--l||r(a))}))})),--l||r(a)}));return s.error&&l(s.value),n.promise}})},83952:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(20028),a=n(71243),u=n(35240),c=n(75799);r({target:"Promise",stat:!0,forced:n(84880)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,l=n.reject,s=u((function(){var n=o(e.resolve),a=[],u=0,s=1;c(t,(function(t){var o=u++,c=!1;s++,i(n,e,t).then((function(t){c||(c=!0,a[o]=t,--s||r(a))}),l)})),--s||r(a)}));return s.error&&l(s.value),n.promise}})},73728:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(20028),a=n(23464),u=n(71243),c=n(35240),l=n(75799),s=n(84880),f="No one promise resolved";r({target:"Promise",stat:!0,forced:s},{any:function(t){var e=this,n=a("AggregateError"),r=u.f(e),s=r.resolve,d=r.reject,h=c((function(){var r=o(e.resolve),a=[],u=0,c=1,h=!1;l(t,(function(t){var o=u++,l=!1;c++,i(r,e,t).then((function(t){l||h||(h=!0,s(t))}),(function(t){l||h||(l=!0,a[o]=t,--c||d(new n(a,f)))}))})),--c||d(new n(a,f))}));return h.error&&d(h.value),r.promise}})},32996:function(t,e,n){"use strict";var r=n(33952),i=n(31016),o=n(35524).CONSTRUCTOR,a=n(50728),u=n(23464),c=n(38536),l=n(55424),s=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&c(a)){var f=u("Promise").prototype.catch;s.catch!==f&&l(s,"catch",f,{unsafe:!0})}},96160:function(t,e,n){"use strict";var r,i,o,a=n(33952),u=n(31016),c=n(91432),l=n(85216),s=n(34580),f=n(55424),d=n(92288),h=n(35836),p=n(13120),v=n(20028),g=n(38536),m=n(68608),y=n(6952),b=n(84928),C=n(93368).set,x=n(39836),w=n(3320),E=n(35240),S=n(20984),k=n(2344),D=n(50728),A=n(35524),I=n(71243),M="Promise",T=A.CONSTRUCTOR,B=A.REJECTION_EVENT,F=A.SUBCLASSING,L=k.getterFor(M),R=k.set,_=D&&D.prototype,N=D,P=_,O=l.TypeError,j=l.document,G=l.process,z=I.f,U=z,W=!!(j&&j.createEvent&&l.dispatchEvent),Q="unhandledrejection",Z=function(t){var e;return!(!m(t)||!g(e=t.then))&&e},J=function(t,e){var n,r,i,o=e.value,a=1===e.state,u=a?t.ok:t.fail,c=t.resolve,l=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&q(e),e.rejection=1),!0===u?n=o:(f&&f.enter(),n=u(o),f&&(f.exit(),i=!0)),n===t.promise?l(new O("Promise-chain cycle")):(r=Z(n))?s(r,n,c,l):c(n)):l(o)}catch(t){f&&!i&&f.exit(),l(t)}},H=function(t,e){t.notified||(t.notified=!0,x((function(){for(var n,r=t.reactions;n=r.get();)J(n,t);t.notified=!1,e&&!t.rejection&&K(t)})))},V=function(t,e,n){var r,i;W?((r=j.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!B&&(i=l["on"+t])?i(r):t===Q&&w("Unhandled promise rejection",n)},K=function(t){s(C,l,(function(){var e,n=t.facade,r=t.value;if(Y(t)&&(e=E((function(){c?G.emit("unhandledRejection",r,n):V(Q,n,r)})),t.rejection=c||Y(t)?2:1,e.error))throw e.value}))},Y=function(t){return 1!==t.rejection&&!t.parent},q=function(t){s(C,l,(function(){var e=t.facade;c?G.emit("rejectionHandled",e):V("rejectionhandled",e,t.value)}))},X=function(t,e,n){return function(r){t(e,r,n)}},$=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,H(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new O("Promise can't be resolved itself");var r=Z(e);r?x((function(){var n={done:!1};try{s(r,e,X(tt,n,t),X($,n,t))}catch(e){$(n,e,t)}})):(t.value=e,t.state=1,H(t,!1))}catch(e){$({done:!1},e,t)}}};if(T&&(P=(N=function(t){y(this,P),v(t),s(r,this);var e=L(this);try{t(X(tt,e),X($,e))}catch(t){$(e,t)}}).prototype,(r=function(t){R(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=f(P,"then",(function(t,e){var n=L(this),r=z(b(this,N));return n.parent=!0,r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=c?G.domain:void 0,0===n.state?n.reactions.add(r):x((function(){J(r,n)})),r.promise})),i=function(){var t=new r,e=L(t);this.promise=t,this.resolve=X(tt,e),this.reject=X($,e)},I.f=z=function(t){return t===N||undefined===t?new i(t):U(t)},!u&&g(D)&&_!==Object.prototype)){o=_.then,F||f(_,"then",(function(t,e){var n=this;return new N((function(t,e){s(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete _.constructor}catch(t){}d&&d(_,P)}a({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:N}),h(N,M,!1,!0),p(M)},50196:function(t,e,n){"use strict";var r=n(33952),i=n(31016),o=n(50728),a=n(92064),u=n(23464),c=n(38536),l=n(84928),s=n(29592),f=n(55424),d=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,u("Promise")),n=c(t);return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}}),!i&&c(o)){var h=u("Promise").prototype.finally;d.finally!==h&&f(d,"finally",h,{unsafe:!0})}},86244:function(t,e,n){"use strict";n(96160),n(83952),n(32996),n(76968),n(84072),n(45832)},76968:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(20028),a=n(71243),u=n(35240),c=n(75799);r({target:"Promise",stat:!0,forced:n(84880)},{race:function(t){var e=this,n=a.f(e),r=n.reject,l=u((function(){var a=o(e.resolve);c(t,(function(t){i(a,e,t).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},84072:function(t,e,n){"use strict";var r=n(33952),i=n(71243);r({target:"Promise",stat:!0,forced:n(35524).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},45832:function(t,e,n){"use strict";var r=n(33952),i=n(23464),o=n(31016),a=n(50728),u=n(35524).CONSTRUCTOR,c=n(29592),l=i("Promise"),s=o&&!u;r({target:"Promise",stat:!0,forced:o||u},{resolve:function(t){return c(s&&this===l?a:this,t)}})},10096:function(t,e,n){"use strict";var r=n(33952),i=n(71243);r({target:"Promise",stat:!0},{withResolvers:function(){var t=i.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})},14915:function(t,e,n){"use strict";var r=n(33952),i=n(23464),o=n(79867),a=n(5404),u=n(39556),c=n(42032),l=n(68608),s=n(4488),f=n(92064),d=i("Reflect","construct"),h=Object.prototype,p=[].push,v=f((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),g=!f((function(){d((function(){}))})),m=v||g;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){u(t),c(e);var n=arguments.length<3?t:u(arguments[2]);if(g&&!v)return d(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(a,t,r))}var i=n.prototype,f=s(l(i)?i:h),m=o(t,f,e);return l(m)?m:f}})},79896:function(t,e,n){"use strict";var r=n(33952),i=n(99172),o=n(42032),a=n(91008);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},71088:function(t,e,n){"use strict";n(33952)({target:"Reflect",stat:!0},{ownKeys:n(7876)})},72556:function(){},96784:function(t,e,n){"use strict";n(46072)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(63928))},67036:function(t,e,n){"use strict";var r=n(33952),i=n(62396);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("difference")},{difference:i})},47124:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(50920);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:o})},24136:function(t,e,n){"use strict";var r=n(33952),i=n(27968);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("isDisjointFrom")},{isDisjointFrom:i})},72304:function(t,e,n){"use strict";var r=n(33952),i=n(89972);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("isSubsetOf")},{isSubsetOf:i})},23276:function(t,e,n){"use strict";var r=n(33952),i=n(93472);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("isSupersetOf")},{isSupersetOf:i})},81160:function(t,e,n){"use strict";n(96784)},63112:function(t,e,n){"use strict";var r=n(33952),i=n(58732);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("symmetricDifference")},{symmetricDifference:i})},61704:function(t,e,n){"use strict";var r=n(33952),i=n(56240);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("union")},{union:i})},5920:function(t,e,n){"use strict";var r=n(33952),i=n(16392).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},20976:function(t,e,n){"use strict";var r,i=n(33952),o=n(61248),a=n(91008).f,u=n(84596),c=n(39352),l=n(29720),s=n(69952),f=n(60660),d=n(31016),h=o("".slice),p=Math.min,v=f("endsWith");i({target:"String",proto:!0,forced:!!(d||v||(r=a(String.prototype,"endsWith"),!r||r.writable))&&!v},{endsWith:function(t){var e=c(s(this));l(t);var n=arguments.length>1?arguments[1]:void 0,r=e.length,i=void 0===n?r:p(u(n),r),o=c(t);return h(e,i-o.length,i)===o}})},3512:function(t,e,n){"use strict";var r=n(33952),i=n(29252),o=n(29720),a=n(69952),u=n(39352),c=n(60660),l=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~l(u(a(this)),u(o(t)),arguments.length>1?arguments[1]:void 0)}})},34176:function(t,e,n){"use strict";var r=n(16392).charAt,i=n(39352),o=n(2344),a=n(536),u=n(73848),c="String Iterator",l=o.set,s=o.getterFor(c);a(String,"String",(function(t){l(this,{type:c,string:i(t),index:0})}),(function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?u(void 0,!0):(t=r(n,i),e.index+=t.length,u(t,!1))}))},78812:function(t,e,n){"use strict";var r,i=n(33952),o=n(61248),a=n(91008).f,u=n(84596),c=n(39352),l=n(29720),s=n(69952),f=n(60660),d=n(31016),h=o("".slice),p=Math.min,v=f("startsWith");i({target:"String",proto:!0,forced:!!(d||v||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!v},{startsWith:function(t){var e=c(s(this));l(t);var n=u(p(arguments.length>1?arguments[1]:void 0,e.length)),r=c(t);return h(e,n,n+r.length)===r}})},25384:function(t,e,n){"use strict";var r=n(33952),i=n(36832).trim;r({target:"String",proto:!0,forced:n(74144)("trim")},{trim:function(){return i(this)}})},52240:function(t,e,n){"use strict";n(61084)("asyncIterator")},63840:function(t,e,n){"use strict";var r=n(33952),i=n(85216),o=n(34580),a=n(29252),u=n(31016),c=n(99172),l=n(25235),s=n(92064),f=n(34664),d=n(82360),h=n(42032),p=n(30445),v=n(42319),g=n(39352),m=n(48981),y=n(4488),b=n(9547),C=n(11600),x=n(41920),w=n(74060),E=n(91008),S=n(12280),k=n(86452),D=n(66500),A=n(55424),I=n(56968),M=n(68852),T=n(80924),B=n(13328),F=n(66696),L=n(23336),R=n(81104),_=n(61084),N=n(50072),P=n(35836),O=n(2344),j=n(7608).forEach,G=T("hidden"),z="Symbol",U="prototype",W=O.set,Q=O.getterFor(z),Z=Object[U],J=i.Symbol,H=J&&J[U],V=i.RangeError,K=i.TypeError,Y=i.QObject,q=E.f,X=S.f,$=x.f,tt=D.f,et=a([].push),nt=M("symbols"),rt=M("op-symbols"),it=M("wks"),ot=!Y||!Y[U]||!Y[U].findChild,at=function(t,e,n){var r=q(Z,e);r&&delete Z[e],X(t,e,n),r&&t!==Z&&X(Z,e,r)},ut=c&&s((function(){return 7!==y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?at:X,ct=function(t,e){var n=nt[t]=y(H);return W(n,{type:z,tag:t,description:e}),c||(n.description=e),n},lt=function(t,e,n){t===Z&&lt(rt,e,n),h(t);var r=v(e);return h(n),f(nt,r)?(n.enumerable?(f(t,G)&&t[G][r]&&(t[G][r]=!1),n=y(n,{enumerable:m(0,!1)})):(f(t,G)||X(t,G,m(1,y(null))),t[G][r]=!0),ut(t,r,n)):X(t,r,n)},st=function(t,e){h(t);var n=p(e),r=b(n).concat(pt(n));return j(r,(function(e){c&&!o(ft,n,e)||lt(t,e,n[e])})),t},ft=function(t){var e=v(t),n=o(tt,this,e);return!(this===Z&&f(nt,e)&&!f(rt,e))&&(!(n||!f(this,e)||!f(nt,e)||f(this,G)&&this[G][e])||n)},dt=function(t,e){var n=p(t),r=v(e);if(n!==Z||!f(nt,r)||f(rt,r)){var i=q(n,r);return!i||!f(nt,r)||f(n,G)&&n[G][r]||(i.enumerable=!0),i}},ht=function(t){var e=$(p(t)),n=[];return j(e,(function(t){f(nt,t)||f(B,t)||et(n,t)})),n},pt=function(t){var e=t===Z,n=$(e?rt:p(t)),r=[];return j(n,(function(t){!f(nt,t)||e&&!f(Z,t)||et(r,nt[t])})),r};l||(J=function(){if(d(H,this))throw new K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=F(t),n=function(t){var r=void 0===this?i:this;r===Z&&o(n,rt,t),f(r,G)&&f(r[G],e)&&(r[G][e]=!1);var a=m(1,t);try{ut(r,e,a)}catch(t){if(!(t instanceof V))throw t;at(r,e,a)}};return c&&ot&&ut(Z,e,{configurable:!0,set:n}),ct(e,t)},A(H=J[U],"toString",(function(){return Q(this).tag})),A(J,"withoutSetter",(function(t){return ct(F(t),t)})),D.f=ft,S.f=lt,k.f=st,E.f=dt,C.f=x.f=ht,w.f=pt,R.f=function(t){return ct(L(t),t)},c&&(I(H,"description",{configurable:!0,get:function(){return Q(this).description}}),u||A(Z,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:J}),j(b(it),(function(t){_(t)})),r({target:z,stat:!0,forced:!l},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(t,e){return void 0===e?y(t):st(y(t),e)},defineProperty:lt,defineProperties:st,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ht}),N(),P(J,z),B[G]=!0},49452:function(){},90920:function(t,e,n){"use strict";var r=n(33952),i=n(23464),o=n(34664),a=n(39352),u=n(68852),c=n(37780),l=u("string-to-symbol-registry"),s=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=a(t);if(o(l,e))return l[e];var n=i("Symbol")(e);return l[e]=n,s[n]=e,n}})},71344:function(t,e,n){"use strict";n(61084)("hasInstance")},74436:function(t,e,n){"use strict";n(61084)("isConcatSpreadable")},6992:function(t,e,n){"use strict";n(61084)("iterator")},49276:function(t,e,n){"use strict";n(63840),n(90920),n(61896),n(58824),n(79672)},61896:function(t,e,n){"use strict";var r=n(33952),i=n(34664),o=n(95376),a=n(48944),u=n(68852),c=n(37780),l=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!o(t))throw new TypeError(a(t)+" is not a symbol");if(i(l,t))return l[t]}})},56380:function(t,e,n){"use strict";n(61084)("matchAll")},58028:function(t,e,n){"use strict";n(61084)("match")},76176:function(t,e,n){"use strict";n(61084)("replace")},91176:function(t,e,n){"use strict";n(61084)("search")},60781:function(t,e,n){"use strict";n(61084)("species")},76720:function(t,e,n){"use strict";n(61084)("split")},95536:function(t,e,n){"use strict";var r=n(61084),i=n(50072);r("toPrimitive"),i()},44732:function(t,e,n){"use strict";var r=n(23464),i=n(61084),o=n(35836);i("toStringTag"),o(r("Symbol"),"Symbol")},84243:function(t,e,n){"use strict";n(61084)("unscopables")},32596:function(t,e,n){"use strict";var r,i=n(69380),o=n(85216),a=n(29252),u=n(48104),c=n(48611),l=n(46072),s=n(92168),f=n(68608),d=n(2344).enforce,h=n(92064),p=n(23184),v=Object,g=Array.isArray,m=v.isExtensible,y=v.isFrozen,b=v.isSealed,C=v.freeze,x=v.seal,w=!o.ActiveXObject&&"ActiveXObject"in o,E=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},S=l("WeakMap",E,s),k=S.prototype,D=a(k.set);if(p)if(w){r=s.getConstructor(E,"WeakMap",!0),c.enable();var A=a(k.delete),I=a(k.has),M=a(k.get);u(k,{delete:function(t){if(f(t)&&!m(t)){var e=d(this);return e.frozen||(e.frozen=new r),A(this,t)||e.frozen.delete(t)}return A(this,t)},has:function(t){if(f(t)&&!m(t)){var e=d(this);return e.frozen||(e.frozen=new r),I(this,t)||e.frozen.has(t)}return I(this,t)},get:function(t){if(f(t)&&!m(t)){var e=d(this);return e.frozen||(e.frozen=new r),I(this,t)?M(this,t):e.frozen.get(t)}return M(this,t)},set:function(t,e){if(f(t)&&!m(t)){var n=d(this);n.frozen||(n.frozen=new r),I(this,t)?D(this,t,e):n.frozen.set(t,e)}else D(this,t,e);return this}})}else i&&h((function(){var t=C([]);return D(new S,t,1),!y(t)}))&&u(k,{set:function(t,e){var n;return g(t)&&(y(t)?n=C:b(t)&&(n=x)),D(this,t,e),n&&n(t),this}})},72340:function(t,e,n){"use strict";n(32596)},52796:function(t,e,n){"use strict";n(38436)},46536:function(t,e,n){"use strict";var r=n(23336),i=n(12280).f,o=r("metadata"),a=Function.prototype;void 0===a[o]&&i(a,o,{value:null})},19760:function(t,e,n){"use strict";n(56736)},18744:function(t,e,n){"use strict";n(38128)},5200:function(t,e,n){"use strict";n(73728)},94384:function(t,e,n){"use strict";var r=n(33952),i=n(79867),o=n(70940),a=n(71243),u=n(20028),c=n(35240);r({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=o(arguments,1),n=a.f(this),r=c((function(){return i(u(t),void 0,e)}));return(r.error?n.reject:n.resolve)(r.value),n.promise}})},21048:function(t,e,n){"use strict";n(10096)},7576:function(t,e,n){"use strict";n(61084)("asyncDispose")},53504:function(t,e,n){"use strict";n(61084)("customMatcher")},57772:function(t,e,n){"use strict";n(61084)("dispose")},89264:function(t,e,n){"use strict";n(33952)({target:"Symbol",stat:!0},{isRegisteredSymbol:n(95080)})},31216:function(t,e,n){"use strict";n(33952)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:n(95080)})},98460:function(t,e,n){"use strict";n(33952)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:n(12636)})},5196:function(t,e,n){"use strict";n(33952)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:n(12636)})},84448:function(t,e,n){"use strict";n(61084)("matcher")},72948:function(t,e,n){"use strict";n(61084)("metadataKey")},65656:function(t,e,n){"use strict";n(61084)("metadata")},4184:function(t,e,n){"use strict";n(61084)("observable")},12252:function(t,e,n){"use strict";n(61084)("patternMatch")},8776:function(t,e,n){"use strict";n(61084)("replaceAll")},42920:function(){},23624:function(t,e,n){"use strict";n(30340);var r=n(50472),i=n(85216),o=n(35836),a=n(97256);for(var u in r)o(i[u],u),a[u]=a.Array},23379:function(t,e,n){"use strict";var r=n(33952),i=n(85216),o=n(98084)(i.setInterval,!0);r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},6436:function(t,e,n){"use strict";var r=n(33952),i=n(85216),o=n(98084)(i.setTimeout,!0);r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},99495:function(t,e,n){"use strict";n(23379),n(6436)},36128:function(t,e,n){"use strict";var r=n(69259);t.exports=r},81324:function(t,e,n){"use strict";var r=n(3376);t.exports=r},46768:function(t,e,n){"use strict";var r=n(70216);t.exports=r},75368:function(t,e,n){"use strict";var r=n(23272);t.exports=r},57100:function(t,e,n){"use strict";var r=n(74908);t.exports=r},31056:function(t,e,n){"use strict";var r=n(79720);t.exports=r},50984:function(t,e,n){"use strict";var r=n(34556);n(23624),t.exports=r},24920:function(t,e,n){"use strict";var r=n(35776);t.exports=r},92960:function(t,e,n){"use strict";var r=n(74756);t.exports=r},9452:function(t,e,n){"use strict";var r=n(65056);t.exports=r},51188:function(t,e,n){"use strict";var r=n(88884);t.exports=r},20104:function(t,e,n){"use strict";var r=n(46172);t.exports=r},34963:function(t,e,n){"use strict";n(23624);var r=n(60636),i=n(34664),o=n(82360),a=n(46768),u=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.entries;return t===u||o(u,t)&&e===u.entries||i(c,r(t))?a:e}},91924:function(t,e,n){"use strict";var r=n(28312);t.exports=r},77444:function(t,e,n){"use strict";var r=n(56404);t.exports=r},28320:function(t,e,n){"use strict";var r=n(680);t.exports=r},13352:function(t,e,n){"use strict";var r=n(53612);t.exports=r},70120:function(t,e,n){"use strict";var r=n(32600);t.exports=r},43676:function(t,e,n){"use strict";var r=n(11912);t.exports=r},49372:function(t,e,n){"use strict";var r=n(60636),i=n(34664),o=n(82360),a=n(75368);n(42920);var u=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===u||o(u,t)&&e===u.forEach||i(c,r(t))?a:e}},8760:function(t,e,n){"use strict";var r=n(8180);t.exports=r},35720:function(t,e,n){"use strict";var r=n(44156);t.exports=r},5960:function(t,e,n){"use strict";n(23624);var r=n(60636),i=n(34664),o=n(82360),a=n(57100),u=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.keys;return t===u||o(u,t)&&e===u.keys||i(c,r(t))?a:e}},48776:function(t,e,n){"use strict";var r=n(91352);t.exports=r},69344:function(t,e,n){"use strict";var r=n(39063);t.exports=r},87144:function(t,e,n){"use strict";var r=n(15080);t.exports=r},27584:function(t,e,n){"use strict";var r=n(58688);t.exports=r},59620:function(t,e,n){"use strict";var r=n(48284);t.exports=r},84644:function(t,e,n){"use strict";var r=n(86188);t.exports=r},9384:function(t,e,n){"use strict";var r=n(46312);t.exports=r},28812:function(t,e,n){"use strict";var r=n(1240);t.exports=r},59408:function(t,e,n){"use strict";var r=n(78125);t.exports=r},24992:function(t,e,n){"use strict";n(23624);var r=n(60636),i=n(34664),o=n(82360),a=n(31056),u=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.values;return t===u||o(u,t)&&e===u.values||i(c,r(t))?a:e}},69140:function(t,e,n){"use strict";var r=n(69304);t.exports=r},62572:function(t,e,n){"use strict";var r=n(52548);n(23624),t.exports=r},92496:function(t,e,n){"use strict";var r=n(96576);t.exports=r},54104:function(t,e,n){"use strict";var r=n(84884);t.exports=r},95608:function(t,e,n){"use strict";var r=n(59196);t.exports=r},72672:function(t,e,n){"use strict";var r=n(44636);t.exports=r},62296:function(t,e,n){"use strict";var r=n(42172);t.exports=r},68792:function(t,e,n){"use strict";var r=n(74856);t.exports=r},37752:function(t,e,n){"use strict";var r=n(92536);t.exports=r},38736:function(t,e,n){"use strict";var r=n(42348);t.exports=r},9788:function(t,e,n){"use strict";var r=n(12436);n(23624),t.exports=r},35716:function(t,e,n){"use strict";var r=n(13416);t.exports=r},56860:function(t,e,n){"use strict";var r=n(32936);t.exports=r},43760:function(t,e,n){"use strict";var r=n(61852);t.exports=r},9224:function(t,e,n){"use strict";var r=n(920);t.exports=r},48624:function(t,e,n){"use strict";var r=n(3056);t.exports=r},72504:function(t,e,n){"use strict";var r=n(67552);t.exports=r},50396:function(t,e,n){"use strict";var r=n(45704);t.exports=r},10424:function(t,e,n){"use strict";var r=n(82613);t.exports=r},42648:function(t,e,n){"use strict";var r=n(23092);t.exports=r},77052:function(t,e,n){"use strict";var r=n(6104);t.exports=r},52136:function(t,e,n){"use strict";var r=n(15384);t.exports=r},11480:function(t,e,n){"use strict";var r=n(5357);t.exports=r},19516:function(t,e,n){"use strict";var r=n(31736);n(23624),t.exports=r},43252:function(t,e,n){"use strict";var r=n(92880);t.exports=r},94088:function(t,e,n){"use strict";var r=n(25784);t.exports=r},77932:function(t,e,n){"use strict";var r=n(21836);t.exports=r},42592:function(t,e,n){"use strict";n(99495);var r=n(19832);t.exports=r.setTimeout},43328:function(t,e,n){"use strict";var r=n(77376);n(23624),t.exports=r},35184:function(t,e,n){"use strict";var r=n(63656);t.exports=r},39928:function(t,e,n){"use strict";var r=n(22767);n(23624),t.exports=r},88308:function(t,e,n){"use strict";var r=n(25180);n(23624),t.exports=r},86167:function(t,e,n){"use strict";var r=n(63576);n(23624),t.exports=r},29464:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{c:function(){return r}})},66636:function(t,e,n){"use strict";n.d(e,{c:function(){return i}});var r=n(93920);function i(t){if(r(t))return t}},89280:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{c:function(){return r}})},85640:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(86724);function i(t,e,n,i,o,a,u){try{var c=t[a](u),l=c.value}catch(t){return void n(t)}c.done?e(l):r.resolve(l).then(i,o)}function o(t){return function(){var e=this,n=arguments;return new r((function(r,o){var a=t.apply(e,n);function u(t){i(a,r,o,u,c,"next",t)}function c(t){i(a,r,o,u,c,"throw",t)}u(void 0)}))}}},3460:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{c:function(){return r}})},27688:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(19692);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),r(t,"prototype",{writable:!1}),t}},30112:function(t,e,n){"use strict";n.d(e,{c:function(){return i}});var r=n(19692);function i(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},80284:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(12484),i=n(9712);function o(){var t;return o=r?i(t=r).call(t):function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}},77284:function(t,e,n){"use strict";n.d(e,{c:function(){return a}});var r=n(53140),i=n(9712),o=n(80075);function a(t){var e;return a=r?i(e=o).call(e):function(t){return t.__proto__||o(t)},a(t)}},43840:function(t,e,n){"use strict";n.d(e,{c:function(){return c}});var r=n(71072),i=n(19692),o=n(53140),a=n(9712);function u(t,e){var n;return u=o?a(n=o).call(n):function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i(t,"prototype",{writable:!1}),e&&u(t,e)}},40948:function(t,e,n){"use strict";n.d(e,{c:function(){return a}});var r=n(98468),i=n(64248),o=n(91648);function a(t){if(void 0!==r&&null!=i(t)||null!=t["@@iterator"])return o(t)}},76288:function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,{c:function(){return r}})},34984:function(t,e,n){"use strict";n.d(e,{c:function(){return a}});var r=n(57312),i=n(26568),o=n(57328);function a(t,e){if(null==t)return{};var n,a,u=function(t,e){if(null==t)return{};var n,r,a={},u=o(t);for(r=0;r<u.length;r++)n=u[r],i(e).call(e,n)>=0||(a[n]=t[n]);return a}(t,e);if(r){var c=r(t);for(a=0;a<c.length;a++)n=c[a],i(e).call(e,n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(u[n]=t[n])}return u}},54895:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(58496),i=n(89280);function o(t,e){if(e&&("object"===(0,r.c)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.c)(t)}},57048:function(t,e,n){"use strict";function r(t){throw new TypeError('"'+t+'" is read-only')}n.d(e,{c:function(){return r}})},72048:function(t,e,n){"use strict";n.d(e,{c:function(){return c}});var r=n(66636),i=n(98468),o=n(64248);var a=n(95956),u=n(76288);function c(t,e){return(0,r.c)(t)||function(t,e){var n=null==t?null:void 0!==i&&o(t)||t["@@iterator"];if(null!=n){var r,a,u=[],c=!0,l=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(u.push(r.value),!e||u.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{c||null==n.return||n.return()}finally{if(l)throw a}}return u}}(t,e)||(0,a.c)(t,e)||(0,u.c)()}},75240:function(t,e,n){"use strict";n.d(e,{c:function(){return u}});var r=n(66636),i=n(40948),o=n(95956),a=n(76288);function u(t){return(0,r.c)(t)||(0,i.c)(t)||(0,o.c)(t)||(0,a.c)()}},81043:function(t,e,n){"use strict";n.d(e,{c:function(){return u}});var r=n(93920),i=n(29464);var o=n(40948),a=n(95956);function u(t){return function(t){if(r(t))return(0,i.c)(t)}(t)||(0,o.c)(t)||(0,a.c)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},58496:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(98468),i=n(51592);function o(t){return o="function"==typeof r&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t},o(t)}},95956:function(t,e,n){"use strict";n.d(e,{c:function(){return a}});var r=n(29656),i=n(91648),o=n(29464);function a(t,e){var n;if(t){if("string"==typeof t)return(0,o.c)(t,e);var a=r(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?i(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,o.c)(t,e):void 0}}},83789:function(t,e,n){"use strict";n.d(e,{Ut:function(){return Bt},Wl:function(){return _},eQ:function(){return Ft},o7:function(){return Lt}});var r,i,o,a,u,c,l=n(58496),s=n(75984),f=n(57492),d=n(12388),h=n(7312),p=n(47976),v=n(88836),g=n(59312),m=n(12640),y=n(26260),b=n(24560),C=n(69216),x=n(81744),w=n(55748),E=n(89843),S=(n(39832),n(45040),n(64136),n(11872),n(66196),n(75668),n(5848),n(97440)),k=n(31192),D=(n(72600),n(62360)),A=n(39448),I=n(27392),M=n(54120),T=n(28555),B=n(25448),F=(n(97552),n(2992)),L=n(37152);function R(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+s(n).call(n,(function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function _(t){return!!t&&!!t[wt]}function N(t){var e;return!!t&&(function(t){if(!t||"object"!=(0,l.c)(t))return!1;var e=f(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Et}(t)||d(t)||!!t[xt]||!!(null===(e=t.constructor)||void 0===e?void 0:e[xt])||W(t)||Q(t))}function P(t,e,n){var r;void 0===n&&(n=!1),0===O(t)?h(r=(n?p:St)(t)).call(r,(function(r){n&&"symbol"==(0,l.c)(r)||e(r,t[r],t)})):h(t).call(t,(function(n,r){return e(r,n,t)}))}function O(t){var e=t[wt];return e?e.i>3?e.i-4:e.i:d(t)?1:W(t)?2:Q(t)?3:0}function j(t,e){return 2===O(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function G(t,e){return 2===O(t)?t.get(e):t[e]}function z(t,e,n){var r=O(t);2===r?t.set(e,n):3===r?t.add(n):t[e]=n}function U(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function W(t){return mt&&t instanceof v}function Q(t){return yt&&t instanceof g}function Z(t){return t.o||t.t}function J(t){if(d(t))return m(Array.prototype).call(t);var e=kt(t);delete e[wt];for(var n=St(e),r=0;r<n.length;r++){var i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return y(f(t),e)}function H(t,e){return void 0===e&&(e=!1),K(t)||_(t)||!N(t)||(O(t)>1&&(t.set=t.add=t.clear=t.delete=V),b(t),e&&P(t,(function(t,e){return H(e,!0)}),!0)),t}function V(){R(2)}function K(t){return null==t||"object"!=(0,l.c)(t)||C(t)}function Y(t){var e=Dt[t];return e||R(18,t),e}function q(){return vt}function X(t,e){e&&(Y("Patches"),t.u=[],t.s=[],t.v=e)}function $(t){var e;tt(t),h(e=t.p).call(e,nt),t.p=null}function tt(t){t===vt&&(vt=t.l)}function et(t){return vt={p:[],l:vt,h:t,m:!0,_:0}}function nt(t){var e=t[wt];0===e.i||1===e.i?e.j():e.g=!0}function rt(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.O||Y("ES5").S(e,t,r),r?(n[wt].P&&($(e),R(4)),N(t)&&(t=it(e,t),e.l||at(e,t)),e.u&&Y("Patches").M(n[wt].t,t,e.u,e.s)):t=it(e,n,[]),$(e),e.u&&e.v(e.u,e.s),t!==Ct?t:void 0}function it(t,e,n){if(K(e))return e;var r=e[wt];if(!r)return P(e,(function(i,o){return ot(t,r,e,i,o,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return at(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=J(r.k):r.o,o=i,a=!1;3===r.i&&(o=new g(i),i.clear(),a=!0),P(o,(function(e,o){return ot(t,r,i,e,o,n,a)})),at(t,i,!1),n&&t.u&&Y("Patches").N(r,n,t.u,t.s)}return r.o}function ot(t,e,n,r,i,o,a){if(_(i)){var u=it(t,i,o&&e&&3!==e.i&&!j(e.R,r)?x(o).call(o,r):void 0);if(z(n,r,u),!_(u))return;t.m=!1}else a&&n.add(i);if(N(i)&&!K(i)){if(!t.h.D&&t._<1)return;it(t,i),e&&e.A.l||at(t,i)}}function at(t,e,n){void 0===n&&(n=!1),!t.l&&t.h.D&&t.m&&H(e,n)}function ut(t,e){var n=t[wt];return(n?Z(n):t)[e]}function ct(t,e){if(e in t)for(var n=f(t);n;){var r=w(n,e);if(r)return r;n=f(n)}}function lt(t){t.P||(t.P=!0,t.l&&lt(t.l))}function st(t){t.o||(t.o=J(t.t))}function ft(t,e,n){var r=W(e)?Y("MapSet").F(e,n):Q(e)?Y("MapSet").T(e,n):t.O?function(t,e){var n=d(t),r={i:n?1:0,A:e?e.A:q(),P:!1,I:!1,R:{},l:e,t:t,k:null,o:null,j:null,C:!1},i=r,o=At;n&&(i=[r],o=It);var a=Proxy.revocable(i,o),u=a.revoke,c=a.proxy;return r.k=c,r.j=u,c}(e,n):Y("ES5").J(e,n);return(n?n.A:q()).p.push(r),r}function dt(t){return _(t)||R(22,t),function t(e){if(!N(e))return e;var n,r=e[wt],i=O(e);if(r){if(!r.P&&(r.i<4||!Y("ES5").K(r)))return r.t;r.I=!0,n=ht(e,i),r.I=!1}else n=ht(e,i);return P(n,(function(e,i){r&&G(r.t,e)===i||z(n,e,t(i))})),3===i?new g(n):n}(t)}function ht(t,e){switch(e){case 2:return new v(t);case 3:return E(t)}return J(t)}var pt,vt,gt=void 0!==S&&"symbol"==(0,l.c)(S("x")),mt=void 0!==v,yt=void 0!==g,bt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ct=gt?k("immer-nothing"):((pt={})["immer-nothing"]=!0,pt),xt=gt?k("immer-draftable"):"__$immer_draftable",wt=gt?k("immer-state"):"__$immer_state",Et=""+Object.prototype.constructor,St="undefined"!=typeof Reflect&&D?D:void 0!==A?function(t){var e;return x(e=I(t)).call(e,A(t))}:I,kt=M||function(t){var e,n={};return h(e=St(t)).call(e,(function(e){n[e]=w(t,e)})),n},Dt={},At={get:function(t,e){if(e===wt)return t;var n=Z(t);if(!j(n,e))return function(t,e,n){var r,i=ct(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!N(r)?r:r===ut(t.t,e)?(st(t),t.o[e]=ft(t.A.h,r,t)):r},has:function(t,e){return e in Z(t)},ownKeys:function(t){return D(Z(t))},set:function(t,e,n){var r=ct(Z(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=ut(Z(t),e),o=null==i?void 0:i[wt];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(U(n,i)&&(void 0!==n||j(t.t,e)))return!0;st(t),lt(t)}return t.o[e]===n&&(void 0!==n||e in t.o)||T(n)&&T(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return void 0!==ut(t.t,e)||e in t.t?(t.R[e]=!1,st(t),lt(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Z(t),r=B(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){R(11)},getPrototypeOf:function(t){return f(t.t)},setPrototypeOf:function(){R(12)}},It={};P(At,(function(t,e){It[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),It.deleteProperty=function(t,e){return It.set.call(this,t,e,void 0)},It.set=function(t,e,n){return At.set.call(this,t[0],e,n,t[0])};var Mt=function(){function t(t){var e=this;this.O=bt,this.D=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var o=e;return function(t){var e=this;void 0===t&&(t=i);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return o.produce(t,(function(t){var r,i;return(i=n).call.apply(i,x(r=[e,t]).call(r,a))}))}}var a;if("function"!=typeof n&&R(6),void 0!==r&&"function"!=typeof r&&R(7),N(t)){var u=et(e),c=ft(e,t,void 0),s=!0;try{a=n(c),s=!1}finally{s?$(u):tt(u)}return void 0!==F&&a instanceof F?a.then((function(t){return X(u,r),rt(t,u)}),(function(t){throw $(u),t})):(X(u,r),rt(a,u))}if(!t||"object"!=(0,l.c)(t)){if(void 0===(a=n(t))&&(a=t),a===Ct&&(a=void 0),e.D&&H(a,!0),r){var f=[],d=[];Y("Patches").M(t,a,f,d),r(f,d)}return a}R(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.produceWithPatches(n,(function(e){var n;return t.apply(void 0,x(n=[e]).call(n,i))}))};var r,i,o=e.produce(t,n,(function(t,e){r=t,i=e}));return void 0!==F&&o instanceof F?o.then((function(t){return[t,r,i]})):[o,r,i]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){N(t)||R(8),_(t)&&(t=dt(t));var e=et(this),n=ft(this,t,void 0);return n[wt].C=!0,tt(e),n},e.finishDraft=function(t,e){var n=(t&&t[wt]).A;return X(n,e),rt(void 0,n)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!bt&&R(20),this.O=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=m(e).call(e,n+1));var i=Y("Patches").$;return _(t)?i(t,e):this.produce(t,(function(t){return i(t,e)}))},t}(),Tt=new Mt,Bt=Tt.produce,Ft=(L(r=Tt.produceWithPatches).call(r,Tt),L(i=Tt.setAutoFreeze).call(i,Tt),L(o=Tt.setUseProxies).call(o,Tt),L(a=Tt.applyPatches).call(a,Tt),L(u=Tt.createDraft).call(u,Tt)),Lt=L(c=Tt.finishDraft).call(c,Tt)}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,loaded:!1,exports:{}};return i[t].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,a.c=o,a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,n){return a.f[n](t,e),e}),[]))},a.u=function(t){return"js/"+({74:"common-vendor",120:"react-vendor",160:"react-color-vendor",636:"kdesign-vender",907:"react-dom-vendor"}[t]||t)+"."+{74:"7607de00",120:"fd9be75f",160:"44f72e3e",400:"fcd07757",636:"7ca1ec44",820:"c465f772",907:"4ebdfa71"}[t]+".js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="print-designer:",a.l=function(n,r,i,o){if(t[n])t[n].push(r);else{var u,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var f=l[s];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==e+i){u=f;break}}u||(c=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.setAttribute("data-webpack",e+i),u.src=n),t[n]=[r];var d=function(e,r){u.onerror=u.onload=null,clearTimeout(h);var i=t[n];if(delete t[n],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(t){return t(r)})),e)return e(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),c&&document.head.appendChild(u)}},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},n={},r={},a.f.remotes=function(t,e){a.o(n,t)&&n[t].forEach((function(t){var n=a.R;n||(n=[]);var i=r[t];if(!(n.indexOf(i)>=0)){if(n.push(i),i.p)return e.push(i.p);var o=function(e){e||(e=new Error("Container missing")),"string"==typeof e.message&&(e.message+='\nwhile loading "'+i[1]+'" from '+i[2]),a.m[t]=function(){throw e},i.p=0},u=function(t,n,r,a,u,c){try{var l=t(n,r);if(!l||!l.then)return u(l,a,c);var s=l.then((function(t){return u(t,a)}),o);if(!c)return s;e.push(i.p=s)}catch(t){o(t)}},c=function(t,e,r){return u(e.get,i[1],n,0,l,r)},l=function(e){i.p=1,a.m[t]=function(t){t.exports=e()}};u(a,i[2],0,0,(function(t,e,n){return t?u(a.I,i[0],0,t,c,n):o()}),1)}}))},function(){a.S={};var t={},e={};a.I=function(n,r){r||(r=[]);var i=e[n];if(i||(i=e[n]={}),!(r.indexOf(i)>=0)){if(r.push(i),t[n])return t[n];a.o(a.S,n)||(a.S[n]={});var o=a.S[n],u="print-designer",c=function(t,e,n,r){var i=o[t]=o[t]||{},a=i[e];(!a||!a.loaded&&(!r!=!a.eager?r:u>a.from))&&(i[e]={get:n,from:u,eager:!!r})},l=[];if("default"===n)c("@kdcloudjs/kdesign","1.7.68-stable.7",(function(){return Promise.all([a.e(636),a.e(160),a.e(74),a.e(820)]).then((function(){return function(){return a(37848)}}))})),c("react-dom","16.14.0",(function(){return Promise.all([a.e(907),a.e(74),a.e(400)]).then((function(){return function(){return a(12356)}}))})),c("react","16.14.0",(function(){return Promise.all([a.e(120),a.e(74)]).then((function(){return function(){return a(85668)}}))})),function(t){var e=function(t){"undefined"!=typeof console&&console.warn};try{var i=a(t);if(!i)return;var o=function(t){return t&&t.init&&t.init(a.S[n],r)};if(i.then)return l.push(i.then(o,e));var u=o(i);if(u&&u.then)return l.push(u.catch(e))}catch(t){e()}}(51452);return l.length?t[n]=Promise.all(l).then((function(){return t[n]=1})):t[n]=1}}}(),function(){var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!t;)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t+"../"}();var u={994:0,820:0,400:0,43:0};return a.f.compat=function(t,e){u[t]?e.push(u[t]):0!==u[t]&&{74:1}[t]&&e.push(u[t]=new Promise((function(e,n){for(var r="css/"+({74:"common-vendor",120:"react-vendor",160:"react-color-vendor",636:"kdesign-vender",907:"react-dom-vendor"}[t]||t)+"."+{74:"2e25f83a",120:"31d6cfe0",160:"31d6cfe0",400:"31d6cfe0",636:"31d6cfe0",820:"31d6cfe0",907:"31d6cfe0"}[t]+".css",i=a.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var l=(f=o[c]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(l===r||l===i))return e()}var s=document.getElementsByTagName("style");for(c=0;c<s.length;c++){var f;if((l=(f=s[c]).getAttribute("data-href"))===r||l===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete u[t],d.parentNode.removeChild(d),n(o)},d.href=i,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){u[t]=0})))},function(){var t=function(t){var e=function(t){return t.split(".").map((function(t){return+t==t?+t:t}))},n=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(t),r=n[1]?e(n[1]):[];return n[2]&&(r.length++,r.push.apply(r,e(n[2]))),n[3]&&(r.push([]),r.push.apply(r,e(n[3]))),r},e=function(e,n){e=t(e),n=t(n);for(var r=0;;){if(r>=e.length)return r<n.length&&"u"!=(typeof n[r])[0];var i=e[r],o=(typeof i)[0];if(r>=n.length)return"u"==o;var a=n[r],u=(typeof a)[0];if(o!=u)return"o"==o&&"n"==u||"s"==u||"u"==o;if("o"!=o&&"u"!=o&&i!=a)return i<a;r++}},n=function(t,n){var r=t[n];return Object.keys(r).reduce((function(t,n){return!t||!r[t].loaded&&e(t,n)?n:t}),0)},r=function(t,e,r,o){var a=n(t,r);return i(t[r][a])},i=function(t){return t.loaded=1,t.get()},o=function(t){return function(e,n,r,i){var o=a.I(e);return o&&o.then?o.then(t.bind(t,e,a.S[e],n,r,i)):t(e,a.S[e],n,r,i)}},u=o((function(t,e,n,i){return e&&a.o(e,n)?r(e,0,n):i()})),c={},l={71536:function(){return u("default","react-dom",(function(){return Promise.all([a.e(907),a.e(74)]).then((function(){return function(){return a(12356)}}))}))},43400:function(){return u("default","react",(function(){return Promise.all([a.e(120),a.e(74)]).then((function(){return function(){return a(85668)}}))}))},54116:function(){return u("default","@kdcloudjs/kdesign",(function(){return Promise.all([a.e(636),a.e(160),a.e(74)]).then((function(){return function(){return a(37848)}}))}))}};[54116,43400,71536].forEach((function(t){a.m[t]=function(e){c[t]=0,delete a.c[t];var n=l[t]();if("function"!=typeof n)throw new Error("Shared module is not available for eager consumption: "+t);e.exports=n()}}));var s={400:[43400],820:[71536,43400]},f={};a.f.consumes=function(t,e){a.o(s,t)&&s[t].forEach((function(t){if(a.o(c,t))return e.push(c[t]);if(!f[t]){var n=function(e){c[t]=0,a.m[t]=function(n){delete a.c[t],n.exports=e()}};f[t]=!0;var r=function(e){delete c[t],a.m[t]=function(n){throw delete a.c[t],e}};try{var i=l[t]();i.then?e.push(c[t]=i.then(n).catch(r)):n(i)}catch(t){r(t)}}}))}}(),function(){var t={994:0,820:0,400:0,43:0};a.f.j=function(e,n){var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else if(/^(40|82)0$/.test(e))t[e]=0;else{var i=new Promise((function(n,i){r=t[e]=[n,i]}));n.push(r[2]=i);var o=a.p+a.u(e),u=new Error;a.l(o,(function(n){if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,r[1](u)}}),"chunk-"+e,e)}};var e=function(e,n){var r,i,o=n[0],u=n[1],c=n[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(r in u)a.o(u,r)&&(a.m[r]=u[r]);if(c)c(a)}for(e&&e(n);l<o.length;l++)i=o[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=self.webpackChunkprint_designer=self.webpackChunkprint_designer||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),a.nc=void 0,a(54043)}()}));