!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["print-designer"]=e():t["print-designer"]=e()}(self,(function(){return function(){var t,e,n,r,i={87964:function(t,e,n){"use strict";n(79464);var r,i=(r=n(23512))&&r.__esModule?r:{default:r};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn,i.default._babelPolyfill=!0},79464:function(t,e,n){"use strict";n(69812),n(91832),n(46808),n(28224),n(42224),n(58744),n(53648),n(48252),n(1884),n(2784),n(40416),n(70656),n(52540),n(29392)},69812:function(t,e,n){n(89032),n(16156),n(63196),n(37536),n(16872),n(92360),n(21112),n(25724),n(40004),n(35264),n(24336),n(4668),n(17272),n(37092),n(65712),n(43188),n(3088),n(85168),n(14280),n(76032),n(76496),n(78228),n(7200),n(57360),n(77656),n(42556),n(38880),n(65160),n(90328),n(36904),n(72300),n(85368),n(73208),n(8700),n(2320),n(32992),n(24760),n(58187),n(7064),n(64936),n(77808),n(52532),n(98769),n(88152),n(78204),n(5988),n(83127),n(71160),n(27664),n(77772),n(91760),n(84016),n(91224),n(37160),n(74652),n(8792),n(72564),n(53160),n(29600),n(89296),n(43932),n(46024),n(20416),n(82856),n(22020),n(32420),n(85704),n(47028),n(92928),n(72548),n(33372),n(65308),n(13928),n(78272),n(77980),n(59440),n(91344),n(85336),n(66824),n(2200),n(83096),n(6656),n(92872),n(64016),n(4760),n(78084),n(41724),n(17976),n(91204),n(97700),n(12320),n(54924),n(72996),n(8408),n(9664),n(36060),n(44900),n(71380),n(1064),n(63e3),n(75320),n(43572),n(68216),n(67720),n(2760),n(34124),n(9272),n(76264),n(75876),n(37352),n(13480),n(41800),n(93744),n(37664),n(55892),n(28280),n(664),n(39588),n(61915),n(45680),n(68456),n(54276),n(29992),n(46848),n(12960),n(59080),n(33464),n(16968),n(22716),n(39860),n(96864),n(42864),n(70992),n(14232),n(42772),n(51412),n(92152),n(20024),t.exports=n(39892)},46808:function(t,e,n){n(94796),t.exports=n(39892).Array.flatMap},91832:function(t,e,n){n(78600),t.exports=n(39892).Array.includes},40416:function(t,e,n){n(98440),t.exports=n(39892).Object.entries},1884:function(t,e,n){n(17492),t.exports=n(39892).Object.getOwnPropertyDescriptors},2784:function(t,e,n){n(11836),t.exports=n(39892).Object.values},70656:function(t,e,n){"use strict";n(75876),n(78792),t.exports=n(39892).Promise.finally},42224:function(t,e,n){n(77392),t.exports=n(39892).String.padEnd},28224:function(t,e,n){n(84768),t.exports=n(39892).String.padStart},53648:function(t,e,n){n(5384),t.exports=n(39892).String.trimRight},58744:function(t,e,n){n(91928),t.exports=n(39892).String.trimLeft},48252:function(t,e,n){n(48632),t.exports=n(63784).f("asyncIterator")},23512:function(t,e,n){n(32896),t.exports=n(67928).global},35552:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},67112:function(t,e,n){var r=n(13348);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},67928:function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},39176:function(t,e,n){var r=n(35552);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},94648:function(t,e,n){t.exports=!n(68672)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},7960:function(t,e,n){var r=n(13348),i=n(99352).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},216:function(t,e,n){var r=n(99352),i=n(67928),o=n(39176),a=n(26832),u=n(81892),l="prototype",c=function(t,e,n){var s,f,d,h=t&c.F,p=t&c.G,v=t&c.S,g=t&c.P,m=t&c.B,y=t&c.W,C=p?i:i[e]||(i[e]={}),b=C[l],x=p?r:v?r[e]:(r[e]||{})[l];for(s in p&&(n=e),n)(f=!h&&x&&void 0!==x[s])&&u(C,s)||(d=f?x[s]:n[s],C[s]=p&&"function"!=typeof x[s]?n[s]:m&&f?o(d,r):y&&x[s]==d?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[l]=t[l],e}(d):g&&"function"==typeof d?o(Function.call,d):d,g&&((C.virtual||(C.virtual={}))[s]=d,t&c.R&&b&&!b[s]&&a(b,s,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},68672:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},99352:function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},81892:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},26832:function(t,e,n){var r=n(75708),i=n(86484);t.exports=n(94648)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},56808:function(t,e,n){t.exports=!n(94648)&&!n(68672)((function(){return 7!=Object.defineProperty(n(7960)("div"),"a",{get:function(){return 7}}).a}))},13348:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},75708:function(t,e,n){var r=n(67112),i=n(56808),o=n(28920),a=Object.defineProperty;e.f=n(94648)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},86484:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},28920:function(t,e,n){var r=n(13348);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},32896:function(t,e,n){var r=n(216);r(r.G,{global:n(99352)})},60467:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},16712:function(t,e,n){var r=n(24144);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},57224:function(t,e,n){var r=n(12400)("unscopables"),i=Array.prototype;null==i[r]&&n(62432)(i,r,{}),t.exports=function(t){i[r][t]=!0}},85360:function(t,e,n){"use strict";var r=n(80152)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},78696:function(t){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},43192:function(t,e,n){var r=n(74988);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},83892:function(t,e,n){"use strict";var r=n(4944),i=n(68012),o=n(91304);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),u=i(t,a),l=i(e,a),c=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===c?a:i(c,a))-l,a-u),f=1;for(l<u&&u<l+s&&(f=-1,l+=s-1,u+=s-1);s-- >0;)l in n?n[u]=n[l]:delete n[u],u+=f,l+=f;return n}},85032:function(t,e,n){"use strict";var r=n(4944),i=n(68012),o=n(91304);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,u=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>u;)e[u++]=t;return e}},39432:function(t,e,n){var r=n(61368),i=n(91304),o=n(68012);t.exports=function(t){return function(e,n,a){var u,l=r(e),c=i(l.length),s=o(a,c);if(t&&n!=n){for(;c>s;)if((u=l[s++])!=u)return!0}else for(;c>s;s++)if((t||s in l)&&l[s]===n)return t||s||0;return!t&&-1}}},99060:function(t,e,n){var r=n(92820),i=n(49376),o=n(4944),a=n(91304),u=n(31460);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,s=4==t,f=6==t,d=5==t||f,h=e||u;return function(e,u,p){for(var v,g,m=o(e),y=i(m),C=r(u,p,3),b=a(y.length),x=0,w=n?h(e,b):l?h(e,0):void 0;b>x;x++)if((d||x in y)&&(g=C(v=y[x],x,m),t))if(n)w[x]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:w.push(v)}else if(s)return!1;return f?-1:c||s?s:w}}},18692:function(t,e,n){var r=n(60467),i=n(4944),o=n(49376),a=n(91304);t.exports=function(t,e,n,u,l){r(e);var c=i(t),s=o(c),f=a(c.length),d=l?f-1:0,h=l?-1:1;if(n<2)for(;;){if(d in s){u=s[d],d+=h;break}if(d+=h,l?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:f>d;d+=h)d in s&&(u=e(u,s[d],d,c));return u}},89448:function(t,e,n){var r=n(74988),i=n(83464),o=n(12400)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},31460:function(t,e,n){var r=n(89448);t.exports=function(t,e){return new(r(t))(e)}},5280:function(t,e,n){"use strict";var r=n(60467),i=n(74988),o=n(72904),a=[].slice,u={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),l=function(){var r=n.concat(a.call(arguments));return this instanceof l?function(t,e,n){if(!(e in u)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";u[e]=Function("F,a","return new F("+r.join(",")+")")}return u[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(l.prototype=e.prototype),l}},50108:function(t,e,n){var r=n(24144),i=n(12400)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},24144:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},89884:function(t,e,n){"use strict";var r=n(73792).f,i=n(51172),o=n(79388),a=n(92820),u=n(78696),l=n(98576),c=n(70488),s=n(60808),f=n(38576),d=n(73176),h=n(48500).fastKey,p=n(34880),v=d?"_s":"size",g=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var s=t((function(t,r){u(t,s,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&l(r,n,t[c],t)}));return o(s.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),d&&r(s.prototype,"size",{get:function(){return p(this,e)[v]}}),s},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?s(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,s(1))}),n?"entries":"values",!n,!0),f(e)}}},77488:function(t,e,n){"use strict";var r=n(79388),i=n(48500).getWeak,o=n(43192),a=n(74988),u=n(78696),l=n(98576),c=n(99060),s=n(55408),f=n(34880),d=c(5),h=c(6),p=0,v=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},m=function(t,e){return d(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t((function(t,r){u(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=r&&l(r,n,t[o],t)}));return r(c.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(f(this,e)).delete(t):n&&s(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(f(this,e)).has(t):n&&s(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},57821:function(t,e,n){"use strict";var r=n(35160),i=n(86524),o=n(16901),a=n(79388),u=n(48500),l=n(98576),c=n(78696),s=n(74988),f=n(32232),d=n(25112),h=n(94024),p=n(79768);t.exports=function(t,e,n,v,g,m){var y=r[t],C=y,b=g?"set":"add",x=C&&C.prototype,w={},E=function(t){var e=x[t];o(x,t,"delete"==t||"has"==t?function(t){return!(m&&!s(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!s(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof C&&(m||x.forEach&&!f((function(){(new C).entries().next()})))){var S=new C,k=S[b](m?{}:-0,1)!=S,A=f((function(){S.has(1)})),D=d((function(t){new C(t)})),I=!m&&f((function(){for(var t=new C,e=5;e--;)t[b](e,e);return!t.has(-0)}));D||((C=e((function(e,n){c(e,C,t);var r=p(new y,e,C);return null!=n&&l(n,g,r[b],r),r}))).prototype=x,x.constructor=C),(A||I)&&(E("delete"),E("has"),g&&E("get")),(I||k)&&E(b),m&&x.clear&&delete x.clear}else C=v.getConstructor(e,t,g,b),a(C.prototype,n),u.NEED=!0;return h(C,t),w[t]=C,i(i.G+i.W+i.F*(C!=y),w),m||v.setStrong(C,t,g),C}},39892:function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},23040:function(t,e,n){"use strict";var r=n(73792),i=n(17592);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},92820:function(t,e,n){var r=n(60467);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},71440:function(t,e,n){"use strict";var r=n(32232),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},79060:function(t,e,n){"use strict";var r=n(43192),i=n(84484),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},39484:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},73176:function(t,e,n){t.exports=!n(32232)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},91624:function(t,e,n){var r=n(74988),i=n(35160).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},12800:function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},92264:function(t,e,n){var r=n(5576),i=n(98844),o=n(13524);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,u=n(t),l=o.f,c=0;u.length>c;)l.call(t,a=u[c++])&&e.push(a);return e}},86524:function(t,e,n){var r=n(35160),i=n(39892),o=n(62432),a=n(16901),u=n(92820),l="prototype",c=function(t,e,n){var s,f,d,h,p=t&c.F,v=t&c.G,g=t&c.S,m=t&c.P,y=t&c.B,C=v?r:g?r[e]||(r[e]={}):(r[e]||{})[l],b=v?i:i[e]||(i[e]={}),x=b[l]||(b[l]={});for(s in v&&(n=e),n)d=((f=!p&&C&&void 0!==C[s])?C:n)[s],h=y&&f?u(d,r):m&&"function"==typeof d?u(Function.call,d):d,C&&a(C,s,d,t&c.U),b[s]!=d&&o(b,s,h),m&&x[s]!=d&&(x[s]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},81048:function(t,e,n){var r=n(12400)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},32232:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},3424:function(t,e,n){"use strict";n(43572);var r=n(16901),i=n(62432),o=n(32232),a=n(39484),u=n(12400),l=n(2008),c=u("species"),s=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=u(t),h=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!e})):void 0;if(!h||!p||"replace"===t&&!s||"split"===t&&!f){var v=/./[d],g=n(a,d,""[t],(function(t,e,n,r,i){return e.exec===l?h&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=g[0],y=g[1];r(String.prototype,t,m),i(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},47448:function(t,e,n){"use strict";var r=n(43192);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},18444:function(t,e,n){"use strict";var r=n(83464),i=n(74988),o=n(91304),a=n(92820),u=n(12400)("isConcatSpreadable");t.exports=function t(e,n,l,c,s,f,d,h){for(var p,v,g=s,m=0,y=!!d&&a(d,h,3);m<c;){if(m in l){if(p=y?y(l[m],m,n):l[m],v=!1,i(p)&&(v=void 0!==(v=p[u])?!!v:r(p)),v&&f>0)g=t(e,n,p,o(p.length),g,f-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=p}g++}m++}return g}},98576:function(t,e,n){var r=n(92820),i=n(60396),o=n(98488),a=n(43192),u=n(91304),l=n(76352),c={},s={},f=t.exports=function(t,e,n,f,d){var h,p,v,g,m=d?function(){return t}:l(t),y=r(n,f,e?2:1),C=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(h=u(t.length);h>C;C++)if((g=e?y(a(p=t[C])[0],p[1]):y(t[C]))===c||g===s)return g}else for(v=m.call(t);!(p=v.next()).done;)if((g=i(v,y,p.value,e))===c||g===s)return g};f.BREAK=c,f.RETURN=s},18060:function(t,e,n){t.exports=n(22752)("native-function-to-string",Function.toString)},35160:function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},55408:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},62432:function(t,e,n){var r=n(73792),i=n(17592);t.exports=n(73176)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},37960:function(t,e,n){var r=n(35160).document;t.exports=r&&r.documentElement},87232:function(t,e,n){t.exports=!n(73176)&&!n(32232)((function(){return 7!=Object.defineProperty(n(91624)("div"),"a",{get:function(){return 7}}).a}))},79768:function(t,e,n){var r=n(74988),i=n(2664).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},72904:function(t){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},49376:function(t,e,n){var r=n(24144);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},98488:function(t,e,n){var r=n(87460),i=n(12400)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},83464:function(t,e,n){var r=n(24144);t.exports=Array.isArray||function(t){return"Array"==r(t)}},6e4:function(t,e,n){var r=n(74988),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},74988:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},11312:function(t,e,n){var r=n(74988),i=n(24144),o=n(12400)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},60396:function(t,e,n){var r=n(43192);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},13696:function(t,e,n){"use strict";var r=n(51172),i=n(17592),o=n(94024),a={};n(62432)(a,n(12400)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},70488:function(t,e,n){"use strict";var r=n(91684),i=n(86524),o=n(16901),a=n(62432),u=n(87460),l=n(13696),c=n(94024),s=n(81316),f=n(12400)("iterator"),d=!([].keys&&"next"in[].keys()),h="keys",p="values",v=function(){return this};t.exports=function(t,e,n,g,m,y,C){l(n,e,g);var b,x,w,E=function(t){if(!d&&t in D)return D[t];switch(t){case h:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",k=m==p,A=!1,D=t.prototype,I=D[f]||D["@@iterator"]||m&&D[m],T=I||E(m),B=m?k?E("entries"):T:void 0,M="Array"==e&&D.entries||I;if(M&&(w=s(M.call(new t)))!==Object.prototype&&w.next&&(c(w,S,!0),r||"function"==typeof w[f]||a(w,f,v)),k&&I&&I.name!==p&&(A=!0,T=function(){return I.call(this)}),r&&!C||!d&&!A&&D[f]||a(D,f,T),u[e]=T,u[S]=v,m)if(b={values:k?T:E(p),keys:y?T:E(h),entries:B},C)for(x in b)x in D||o(D,x,b[x]);else i(i.P+i.F*(d||A),e,b);return b}},25112:function(t,e,n){var r=n(12400)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},60808:function(t){t.exports=function(t,e){return{value:e,done:!!t}}},87460:function(t){t.exports={}},91684:function(t){t.exports=!1},860:function(t){var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},21360:function(t,e,n){var r=n(97011),i=Math.pow,o=i(2,-52),a=i(2,-23),u=i(2,127)*(2-a),l=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),c=r(t);return i<l?c*(i/l/a+1/o-1/o)*l*a:(n=(e=(1+a/o)*i)-(e-i))>u||n!=n?c*(1/0):c*n}},38808:function(t){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},97011:function(t){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},48500:function(t,e,n){var r=n(11608)("meta"),i=n(74988),o=n(55408),a=n(73792).f,u=0,l=Object.isExtensible||function(){return!0},c=!n(32232)((function(){return l(Object.preventExtensions({}))})),s=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";s(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;s(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&l(t)&&!o(t,r)&&s(t),t}}},81320:function(t,e,n){var r=n(35160),i=n(2860).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,l="process"==n(24144)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(l&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var s=u.resolve(void 0);n=function(){s.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},54568:function(t,e,n){"use strict";var r=n(60467);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},72900:function(t,e,n){"use strict";var r=n(73176),i=n(5576),o=n(98844),a=n(13524),u=n(4944),l=n(49376),c=Object.assign;t.exports=!c||n(32232)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=u(t),c=arguments.length,s=1,f=o.f,d=a.f;c>s;)for(var h,p=l(arguments[s++]),v=f?i(p).concat(f(p)):i(p),g=v.length,m=0;g>m;)h=v[m++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:c},51172:function(t,e,n){var r=n(43192),i=n(27760),o=n(12800),a=n(49392)("IE_PROTO"),u=function(){},l="prototype",c=function(){var t,e=n(91624)("iframe"),r=o.length;for(e.style.display="none",n(37960).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c[l][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[l]=r(t),n=new u,u[l]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},73792:function(t,e,n){var r=n(43192),i=n(87232),o=n(84484),a=Object.defineProperty;e.f=n(73176)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},27760:function(t,e,n){var r=n(73792),i=n(43192),o=n(5576);t.exports=n(73176)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),u=a.length,l=0;u>l;)r.f(t,n=a[l++],e[n]);return t}},3652:function(t,e,n){var r=n(13524),i=n(17592),o=n(61368),a=n(84484),u=n(55408),l=n(87232),c=Object.getOwnPropertyDescriptor;e.f=n(73176)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},61760:function(t,e,n){var r=n(61368),i=n(25588).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},25588:function(t,e,n){var r=n(66908),i=n(12800).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},98844:function(t,e){e.f=Object.getOwnPropertySymbols},81316:function(t,e,n){var r=n(55408),i=n(4944),o=n(49392)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},66908:function(t,e,n){var r=n(55408),i=n(61368),o=n(39432)(!1),a=n(49392)("IE_PROTO");t.exports=function(t,e){var n,u=i(t),l=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;e.length>l;)r(u,n=e[l++])&&(~o(c,n)||c.push(n));return c}},5576:function(t,e,n){var r=n(66908),i=n(12800);t.exports=Object.keys||function(t){return r(t,i)}},13524:function(t,e){e.f={}.propertyIsEnumerable},65084:function(t,e,n){var r=n(86524),i=n(39892),o=n(32232);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},92508:function(t,e,n){var r=n(73176),i=n(5576),o=n(61368),a=n(13524).f;t.exports=function(t){return function(e){for(var n,u=o(e),l=i(u),c=l.length,s=0,f=[];c>s;)n=l[s++],r&&!a.call(u,n)||f.push(t?[n,u[n]]:u[n]);return f}}},40736:function(t,e,n){var r=n(25588),i=n(98844),o=n(43192),a=n(35160).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},77860:function(t,e,n){var r=n(35160).parseFloat,i=n(3772).trim;t.exports=1/r(n(99752)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},11396:function(t,e,n){var r=n(35160).parseInt,i=n(3772).trim,o=n(99752),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},54744:function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},63732:function(t,e,n){var r=n(43192),i=n(74988),o=n(54568);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},17592:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},79388:function(t,e,n){var r=n(16901);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},16901:function(t,e,n){var r=n(35160),i=n(62432),o=n(55408),a=n(11608)("src"),u=n(18060),l="toString",c=(""+u).split(l);n(39892).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||u.call(this)}))},98448:function(t,e,n){"use strict";var r=n(50108),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},2008:function(t,e,n){"use strict";var r,i,o=n(47448),a=RegExp.prototype.exec,u=String.prototype.replace,l=a,c="lastIndex",s=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[c]||0!==i[c]),f=void 0!==/()??/.exec("")[1];(s||f)&&(l=function(t){var e,n,r,i,l=this;return f&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),s&&(e=l[c]),r=a.call(l,t),s&&r&&(l[c]=l.global?r.index+r[0].length:e),f&&r&&r.length>1&&u.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=l},10240:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},2664:function(t,e,n){var r=n(74988),i=n(43192),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(92820)(Function.call,n(3652).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},38576:function(t,e,n){"use strict";var r=n(35160),i=n(73792),o=n(73176),a=n(12400)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},94024:function(t,e,n){var r=n(73792).f,i=n(55408),o=n(12400)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},49392:function(t,e,n){var r=n(22752)("keys"),i=n(11608);t.exports=function(t){return r[t]||(r[t]=i(t))}},22752:function(t,e,n){var r=n(39892),i=n(35160),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(91684)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},13312:function(t,e,n){var r=n(43192),i=n(60467),o=n(12400)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},46856:function(t,e,n){"use strict";var r=n(32232);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},80152:function(t,e,n){var r=n(73328),i=n(39484);t.exports=function(t){return function(e,n){var o,a,u=String(i(e)),l=r(n),c=u.length;return l<0||l>=c?t?"":void 0:(o=u.charCodeAt(l))<55296||o>56319||l+1===c||(a=u.charCodeAt(l+1))<56320||a>57343?t?u.charAt(l):o:t?u.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},6060:function(t,e,n){var r=n(11312),i=n(39484);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},60016:function(t,e,n){var r=n(86524),i=n(32232),o=n(39484),a=/"/g,u=function(t,e,n,r){var i=String(o(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),u+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(u),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},82912:function(t,e,n){var r=n(91304),i=n(16496),o=n(39484);t.exports=function(t,e,n,a){var u=String(o(t)),l=u.length,c=void 0===n?" ":String(n),s=r(e);if(s<=l||""==c)return u;var f=s-l,d=i.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+u:u+d}},16496:function(t,e,n){"use strict";var r=n(73328),i=n(39484);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},3772:function(t,e,n){var r=n(86524),i=n(39484),o=n(32232),a=n(99752),u="["+a+"]",l=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),s=function(t,e,n){var i={},u=o((function(){return!!a[t]()||"​"!="​"[t]()})),l=i[t]=u?e(f):a[t];n&&(i[n]=l),r(r.P+r.F*u,"String",i)},f=s.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=s},99752:function(t){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},2860:function(t,e,n){var r,i,o,a=n(92820),u=n(72904),l=n(37960),c=n(91624),s=n(35160),f=s.process,d=s.setImmediate,h=s.clearImmediate,p=s.MessageChannel,v=s.Dispatch,g=0,m={},y="onreadystatechange",C=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){C.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){u("function"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete m[t]},"process"==n(24144)(f)?r=function(t){f.nextTick(a(C,t,1))}:v&&v.now?r=function(t){v.now(a(C,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(r=function(t){s.postMessage(t+"","*")},s.addEventListener("message",b,!1)):r=y in c("script")?function(t){l.appendChild(c("script"))[y]=function(){l.removeChild(this),C.call(t)}}:function(t){setTimeout(a(C,t,1),0)}),t.exports={set:d,clear:h}},68012:function(t,e,n){var r=n(73328),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},66544:function(t,e,n){var r=n(73328),i=n(91304);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},73328:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},61368:function(t,e,n){var r=n(49376),i=n(39484);t.exports=function(t){return r(i(t))}},91304:function(t,e,n){var r=n(73328),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},4944:function(t,e,n){var r=n(39484);t.exports=function(t){return Object(r(t))}},84484:function(t,e,n){var r=n(74988);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},91160:function(t,e,n){"use strict";if(n(73176)){var r=n(91684),i=n(35160),o=n(32232),a=n(86524),u=n(3640),l=n(47764),c=n(92820),s=n(78696),f=n(17592),d=n(62432),h=n(79388),p=n(73328),v=n(91304),g=n(66544),m=n(68012),y=n(84484),C=n(55408),b=n(50108),x=n(74988),w=n(4944),E=n(98488),S=n(51172),k=n(81316),A=n(25588).f,D=n(76352),I=n(11608),T=n(12400),B=n(99060),M=n(39432),R=n(13312),L=n(63e3),F=n(87460),_=n(25112),P=n(38576),N=n(85032),O=n(83892),j=n(73792),G=n(3652),U=j.f,z=G.f,Z=i.RangeError,Q=i.TypeError,W=i.Uint8Array,J="ArrayBuffer",V="Shared"+J,H="BYTES_PER_ELEMENT",K="prototype",q=Array[K],Y=l.ArrayBuffer,X=l.DataView,$=B(0),tt=B(2),et=B(3),nt=B(4),rt=B(5),it=B(6),ot=M(!0),at=M(!1),ut=L.values,lt=L.keys,ct=L.entries,st=q.lastIndexOf,ft=q.reduce,dt=q.reduceRight,ht=q.join,pt=q.sort,vt=q.slice,gt=q.toString,mt=q.toLocaleString,yt=T("iterator"),Ct=T("toStringTag"),bt=I("typed_constructor"),xt=I("def_constructor"),wt=u.CONSTR,Et=u.TYPED,St=u.VIEW,kt="Wrong length!",At=B(1,(function(t,e){return Mt(R(t,t[xt]),e)})),Dt=o((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),It=!!W&&!!W[K].set&&o((function(){new W(1).set({})})),Tt=function(t,e){var n=p(t);if(n<0||n%e)throw Z("Wrong offset!");return n},Bt=function(t){if(x(t)&&Et in t)return t;throw Q(t+" is not a typed array!")},Mt=function(t,e){if(!x(t)||!(bt in t))throw Q("It is not a typed array constructor!");return new t(e)},Rt=function(t,e){return Lt(R(t,t[xt]),e)},Lt=function(t,e){for(var n=0,r=e.length,i=Mt(t,r);r>n;)i[n]=e[n++];return i},Ft=function(t,e,n){U(t,e,{get:function(){return this._d[n]}})},_t=function(t){var e,n,r,i,o,a,u=w(t),l=arguments.length,s=l>1?arguments[1]:void 0,f=void 0!==s,d=D(u);if(null!=d&&!E(d)){for(a=d.call(u),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);u=r}for(f&&l>2&&(s=c(s,arguments[2],2)),e=0,n=v(u.length),i=Mt(this,n);n>e;e++)i[e]=f?s(u[e],e):u[e];return i},Pt=function(){for(var t=0,e=arguments.length,n=Mt(this,e);e>t;)n[t]=arguments[t++];return n},Nt=!!W&&o((function(){mt.call(new W(1))})),Ot=function(){return mt.apply(Nt?vt.call(Bt(this)):Bt(this),arguments)},jt={copyWithin:function(t,e){return O.call(Bt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Bt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(Bt(this),arguments)},filter:function(t){return Rt(this,tt(Bt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(Bt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Bt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Bt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Bt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Bt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(Bt(this),arguments)},lastIndexOf:function(t){return st.apply(Bt(this),arguments)},map:function(t){return At(Bt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ft.apply(Bt(this),arguments)},reduceRight:function(t){return dt.apply(Bt(this),arguments)},reverse:function(){for(var t,e=this,n=Bt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(Bt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Bt(this),t)},subarray:function(t,e){var n=Bt(this),r=n.length,i=m(t,r);return new(R(n,n[xt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:m(e,r))-i))}},Gt=function(t,e){return Rt(this,vt.call(Bt(this),t,e))},Ut=function(t){Bt(this);var e=Tt(arguments[1],1),n=this.length,r=w(t),i=v(r.length),o=0;if(i+e>n)throw Z(kt);for(;o<i;)this[e+o]=r[o++]},zt={entries:function(){return ct.call(Bt(this))},keys:function(){return lt.call(Bt(this))},values:function(){return ut.call(Bt(this))}},Zt=function(t,e){return x(t)&&t[Et]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Qt=function(t,e){return Zt(t,e=y(e,!0))?f(2,t[e]):z(t,e)},Wt=function(t,e,n){return!(Zt(t,e=y(e,!0))&&x(n)&&C(n,"value"))||C(n,"get")||C(n,"set")||n.configurable||C(n,"writable")&&!n.writable||C(n,"enumerable")&&!n.enumerable?U(t,e,n):(t[e]=n.value,t)};wt||(G.f=Qt,j.f=Wt),a(a.S+a.F*!wt,"Object",{getOwnPropertyDescriptor:Qt,defineProperty:Wt}),o((function(){gt.call({})}))&&(gt=mt=function(){return ht.call(this)});var Jt=h({},jt);h(Jt,zt),d(Jt,yt,zt.values),h(Jt,{slice:Gt,set:Ut,constructor:function(){},toString:gt,toLocaleString:Ot}),Ft(Jt,"buffer","b"),Ft(Jt,"byteOffset","o"),Ft(Jt,"byteLength","l"),Ft(Jt,"length","e"),U(Jt,Ct,{get:function(){return this[Et]}}),t.exports=function(t,e,n,l){var c=t+((l=!!l)?"Clamped":"")+"Array",f="get"+t,h="set"+t,p=i[c],m=p||{},y=p&&k(p),C=!p||!u.ABV,w={},E=p&&p[K],D=function(t,n){U(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[f](n*e+r.o,Dt)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*e+i.o,r,Dt)}(this,n,t)},enumerable:!0})};C?(p=n((function(t,n,r,i){s(t,p,c,"_d");var o,a,u,l,f=0,h=0;if(x(n)){if(!(n instanceof Y||(l=b(n))==J||l==V))return Et in n?Lt(p,n):_t.call(p,n);o=n,h=Tt(r,e);var m=n.byteLength;if(void 0===i){if(m%e)throw Z(kt);if((a=m-h)<0)throw Z(kt)}else if((a=v(i)*e)+h>m)throw Z(kt);u=a/e}else u=g(n),o=new Y(a=u*e);for(d(t,"_d",{b:o,o:h,l:a,e:u,v:new X(o)});f<u;)D(t,f++)})),E=p[K]=S(Jt),d(E,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&_((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,r,i){var o;return s(t,p,c),x(n)?n instanceof Y||(o=b(n))==J||o==V?void 0!==i?new m(n,Tt(r,e),i):void 0!==r?new m(n,Tt(r,e)):new m(n):Et in n?Lt(p,n):_t.call(p,n):new m(g(n))})),$(y!==Function.prototype?A(m).concat(A(y)):A(m),(function(t){t in p||d(p,t,m[t])})),p[K]=E,r||(E.constructor=p));var I=E[yt],T=!!I&&("values"==I.name||null==I.name),B=zt.values;d(p,bt,!0),d(E,Et,c),d(E,St,!0),d(E,xt,p),(l?new p(1)[Ct]==c:Ct in E)||U(E,Ct,{get:function(){return c}}),w[c]=p,a(a.G+a.W+a.F*(p!=m),w),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){m.of.call(p,1)})),c,{from:_t,of:Pt}),H in E||d(E,H,e),a(a.P,c,jt),P(c),a(a.P+a.F*It,c,{set:Ut}),a(a.P+a.F*!T,c,zt),r||E.toString==gt||(E.toString=gt),a(a.P+a.F*o((function(){new p(1).slice()})),c,{slice:Gt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){E.toLocaleString.call([1,2])}))),c,{toLocaleString:Ot}),F[c]=T?I:B,r||T||d(E,yt,B)}}else t.exports=function(){}},47764:function(t,e,n){"use strict";var r=n(35160),i=n(73176),o=n(91684),a=n(3640),u=n(62432),l=n(79388),c=n(32232),s=n(78696),f=n(73328),d=n(91304),h=n(66544),p=n(25588).f,v=n(73792).f,g=n(85032),m=n(94024),y="ArrayBuffer",C="DataView",b="prototype",x="Wrong index!",w=r[y],E=r[C],S=r.Math,k=r.RangeError,A=r.Infinity,D=w,I=S.abs,T=S.pow,B=S.floor,M=S.log,R=S.LN2,L="buffer",F="byteLength",_="byteOffset",P=i?"_b":L,N=i?"_l":F,O=i?"_o":_;function j(t,e,n){var r,i,o,a=new Array(n),u=8*n-e-1,l=(1<<u)-1,c=l>>1,s=23===e?T(2,-24)-T(2,-77):0,f=0,d=t<0||0===t&&1/t<0?1:0;for((t=I(t))!=t||t===A?(i=t!=t?1:0,r=l):(r=B(M(t)/R),t*(o=T(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?s/o:s*T(2,1-c))*o>=2&&(r++,o/=2),r+c>=l?(i=0,r=l):r+c>=1?(i=(t*o-1)*T(2,e),r+=c):(i=t*T(2,c-1)*T(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,u+=e;u>0;a[f++]=255&r,r/=256,u-=8);return a[--f]|=128*d,a}function G(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,u=i-7,l=n-1,c=t[l--],s=127&c;for(c>>=7;u>0;s=256*s+t[l],l--,u-=8);for(r=s&(1<<-u)-1,s>>=-u,u+=e;u>0;r=256*r+t[l],l--,u-=8);if(0===s)s=1-a;else{if(s===o)return r?NaN:c?-A:A;r+=T(2,e),s-=a}return(c?-1:1)*r*T(2,s-e)}function U(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function z(t){return[255&t]}function Z(t){return[255&t,t>>8&255]}function Q(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function W(t){return j(t,52,8)}function J(t){return j(t,23,4)}function V(t,e,n){v(t[b],e,{get:function(){return this[n]}})}function H(t,e,n,r){var i=h(+n);if(i+e>t[N])throw k(x);var o=t[P]._b,a=i+t[O],u=o.slice(a,a+e);return r?u:u.reverse()}function K(t,e,n,r,i,o){var a=h(+n);if(a+e>t[N])throw k(x);for(var u=t[P]._b,l=a+t[O],c=r(+i),s=0;s<e;s++)u[l+s]=c[o?s:e-s-1]}if(a.ABV){if(!c((function(){w(1)}))||!c((function(){new w(-1)}))||c((function(){return new w,new w(1.5),new w(NaN),w.name!=y}))){for(var q,Y=(w=function(t){return s(this,w),new D(h(t))})[b]=D[b],X=p(D),$=0;X.length>$;)(q=X[$++])in w||u(w,q,D[q]);o||(Y.constructor=w)}var tt=new E(new w(2)),et=E[b].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||l(E[b],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else w=function(t){s(this,w,y);var e=h(t);this._b=g.call(new Array(e),0),this[N]=e},E=function(t,e,n){s(this,E,C),s(t,w,C);var r=t[N],i=f(e);if(i<0||i>r)throw k("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw k("Wrong length!");this[P]=t,this[O]=i,this[N]=n},i&&(V(w,F,"_l"),V(E,L,"_b"),V(E,F,"_l"),V(E,_,"_o")),l(E[b],{getInt8:function(t){return H(this,1,t)[0]<<24>>24},getUint8:function(t){return H(this,1,t)[0]},getInt16:function(t){var e=H(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=H(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return U(H(this,4,t,arguments[1]))},getUint32:function(t){return U(H(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return G(H(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return G(H(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){K(this,1,t,z,e)},setUint8:function(t,e){K(this,1,t,z,e)},setInt16:function(t,e){K(this,2,t,Z,e,arguments[2])},setUint16:function(t,e){K(this,2,t,Z,e,arguments[2])},setInt32:function(t,e){K(this,4,t,Q,e,arguments[2])},setUint32:function(t,e){K(this,4,t,Q,e,arguments[2])},setFloat32:function(t,e){K(this,4,t,J,e,arguments[2])},setFloat64:function(t,e){K(this,8,t,W,e,arguments[2])}});m(w,y),m(E,C),u(E[b],a.VIEW,!0),e[y]=w,e[C]=E},3640:function(t,e,n){for(var r,i=n(35160),o=n(62432),a=n(11608),u=a("typed_array"),l=a("view"),c=!(!i.ArrayBuffer||!i.DataView),s=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,u,!0),o(r.prototype,l,!0)):s=!1;t.exports={ABV:c,CONSTR:s,TYPED:u,VIEW:l}},11608:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},71528:function(t,e,n){var r=n(35160).navigator;t.exports=r&&r.userAgent||""},34880:function(t,e,n){var r=n(74988);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},67984:function(t,e,n){var r=n(35160),i=n(39892),o=n(91684),a=n(63784),u=n(73792).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},63784:function(t,e,n){e.f=n(12400)},12400:function(t,e,n){var r=n(22752)("wks"),i=n(11608),o=n(35160).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},76352:function(t,e,n){var r=n(50108),i=n(12400)("iterator"),o=n(87460);t.exports=n(39892).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},9664:function(t,e,n){var r=n(86524);r(r.P,"Array",{copyWithin:n(83892)}),n(57224)("copyWithin")},97700:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(4);r(r.P+r.F*!n(46856)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},36060:function(t,e,n){var r=n(86524);r(r.P,"Array",{fill:n(85032)}),n(57224)("fill")},17976:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(2);r(r.P+r.F*!n(46856)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},71380:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(57224)(o)},44900:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(57224)(o)},78084:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(0),o=n(46856)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},83096:function(t,e,n){"use strict";var r=n(92820),i=n(86524),o=n(4944),a=n(60396),u=n(98488),l=n(91304),c=n(23040),s=n(76352);i(i.S+i.F*!n(25112)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,f,d=o(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,y=s(d);if(g&&(v=r(v,p>2?arguments[2]:void 0,2)),null==y||h==Array&&u(y))for(n=new h(e=l(d.length));e>m;m++)c(n,m,g?v(d[m],m):d[m]);else for(f=y.call(d),n=new h;!(i=f.next()).done;m++)c(n,m,g?a(f,v,[i.value,m],!0):i.value);return n.length=m,n}})},72996:function(t,e,n){"use strict";var r=n(86524),i=n(39432)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(46856)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},2200:function(t,e,n){var r=n(86524);r(r.S,"Array",{isArray:n(83464)})},63e3:function(t,e,n){"use strict";var r=n(57224),i=n(60808),o=n(87460),a=n(61368);t.exports=n(70488)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},92872:function(t,e,n){"use strict";var r=n(86524),i=n(61368),o=[].join;r(r.P+r.F*(n(49376)!=Object||!n(46856)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},8408:function(t,e,n){"use strict";var r=n(86524),i=n(61368),o=n(73328),a=n(91304),u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(46856)(u)),"Array",{lastIndexOf:function(t){if(l)return u.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},41724:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(1);r(r.P+r.F*!n(46856)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},6656:function(t,e,n){"use strict";var r=n(86524),i=n(23040);r(r.S+r.F*n(32232)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},54924:function(t,e,n){"use strict";var r=n(86524),i=n(18692);r(r.P+r.F*!n(46856)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},12320:function(t,e,n){"use strict";var r=n(86524),i=n(18692);r(r.P+r.F*!n(46856)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},64016:function(t,e,n){"use strict";var r=n(86524),i=n(37960),o=n(24144),a=n(68012),u=n(91304),l=[].slice;r(r.P+r.F*n(32232)((function(){i&&l.call(i)})),"Array",{slice:function(t,e){var n=u(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return l.call(this,t,e);for(var i=a(t,n),c=a(e,n),s=u(c-i),f=new Array(s),d=0;d<s;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},91204:function(t,e,n){"use strict";var r=n(86524),i=n(99060)(3);r(r.P+r.F*!n(46856)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},4760:function(t,e,n){"use strict";var r=n(86524),i=n(60467),o=n(4944),a=n(32232),u=[].sort,l=[1,2,3];r(r.P+r.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n(46856)(u)),"Array",{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),i(t))}})},1064:function(t,e,n){n(38576)("Array")},77980:function(t,e,n){var r=n(86524);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},91344:function(t,e,n){var r=n(86524),i=n(71440);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},59440:function(t,e,n){"use strict";var r=n(86524),i=n(4944),o=n(84484);r(r.P+r.F*n(32232)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},66824:function(t,e,n){var r=n(12400)("toPrimitive"),i=Date.prototype;r in i||n(62432)(i,r,n(79060))},85336:function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],u=r.getTime;new Date(NaN)+""!=i&&n(16901)(r,o,(function(){var t=u.call(this);return t==t?a.call(this):i}))},14280:function(t,e,n){var r=n(86524);r(r.P,"Function",{bind:n(5280)})},76496:function(t,e,n){"use strict";var r=n(74988),i=n(81316),o=n(12400)("hasInstance"),a=Function.prototype;o in a||n(73792).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},76032:function(t,e,n){var r=n(73792).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(73176)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},37352:function(t,e,n){"use strict";var r=n(89884),i=n(34880),o="Map";t.exports=n(57821)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},32992:function(t,e,n){var r=n(86524),i=n(38808),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},24760:function(t,e,n){var r=n(86524),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},58187:function(t,e,n){var r=n(86524),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},7064:function(t,e,n){var r=n(86524),i=n(97011);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},64936:function(t,e,n){var r=n(86524);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},77808:function(t,e,n){var r=n(86524),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},52532:function(t,e,n){var r=n(86524),i=n(860);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},98769:function(t,e,n){var r=n(86524);r(r.S,"Math",{fround:n(21360)})},88152:function(t,e,n){var r=n(86524),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,u=arguments.length,l=0;a<u;)l<(n=i(arguments[a++]))?(o=o*(r=l/n)*r+1,l=n):o+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*Math.sqrt(o)}})},78204:function(t,e,n){var r=n(86524),i=Math.imul;r(r.S+r.F*n(32232)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},5988:function(t,e,n){var r=n(86524);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},83127:function(t,e,n){var r=n(86524);r(r.S,"Math",{log1p:n(38808)})},71160:function(t,e,n){var r=n(86524);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},27664:function(t,e,n){var r=n(86524);r(r.S,"Math",{sign:n(97011)})},77772:function(t,e,n){var r=n(86524),i=n(860),o=Math.exp;r(r.S+r.F*n(32232)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},91760:function(t,e,n){var r=n(86524),i=n(860),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},84016:function(t,e,n){var r=n(86524);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},57360:function(t,e,n){"use strict";var r=n(35160),i=n(55408),o=n(24144),a=n(79768),u=n(84484),l=n(32232),c=n(25588).f,s=n(3652).f,f=n(73792).f,d=n(3772).trim,h="Number",p=r[h],v=p,g=p.prototype,m=o(n(51172)(g))==h,y="trim"in String.prototype,C=function(t){var e=u(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=y?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,l=e.slice(2),c=0,s=l.length;c<s;c++)if((a=l.charCodeAt(c))<48||a>i)return NaN;return parseInt(l,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(m?l((function(){g.valueOf.call(n)})):o(n)!=h)?a(new v(C(e)),n,p):C(e)};for(var b,x=n(73176)?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)i(v,b=x[w])&&!i(p,b)&&f(p,b,s(v,b));p.prototype=g,g.constructor=p,n(16901)(r,h,p)}},38880:function(t,e,n){var r=n(86524);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},65160:function(t,e,n){var r=n(86524),i=n(35160).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},90328:function(t,e,n){var r=n(86524);r(r.S,"Number",{isInteger:n(6e4)})},36904:function(t,e,n){var r=n(86524);r(r.S,"Number",{isNaN:function(t){return t!=t}})},72300:function(t,e,n){var r=n(86524),i=n(6e4),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},85368:function(t,e,n){var r=n(86524);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},73208:function(t,e,n){var r=n(86524);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},8700:function(t,e,n){var r=n(86524),i=n(77860);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},2320:function(t,e,n){var r=n(86524),i=n(11396);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},77656:function(t,e,n){"use strict";var r=n(86524),i=n(73328),o=n(16712),a=n(16496),u=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",f="0",d=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=l(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=l(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call(f,7-n.length)+n}return e},v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)};r(r.P+r.F*(!!u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(32232)((function(){u.call({})}))),"Number",{toFixed:function(t){var e,n,r,u,l=o(this,s),c=i(t),g="",m=f;if(c<0||c>20)throw RangeError(s);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*v(2,69,1))-69,n=e<0?l*v(2,-e,1):l/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(d(0,n),r=c;r>=7;)d(1e7,0),r-=7;for(d(v(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),d(1,1),h(2),m=p()}else d(0,n),d(1<<-e,0),m=p()+a.call(f,c);return m=c>0?g+((u=m.length)<=c?"0."+a.call(f,c-u)+m:m.slice(0,u-c)+"."+m.slice(u-c)):g+m}})},42556:function(t,e,n){"use strict";var r=n(86524),i=n(32232),o=n(16712),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},65712:function(t,e,n){var r=n(86524);r(r.S+r.F,"Object",{assign:n(72900)})},16156:function(t,e,n){var r=n(86524);r(r.S,"Object",{create:n(51172)})},37536:function(t,e,n){var r=n(86524);r(r.S+r.F*!n(73176),"Object",{defineProperties:n(27760)})},63196:function(t,e,n){var r=n(86524);r(r.S+r.F*!n(73176),"Object",{defineProperty:n(73792).f})},40004:function(t,e,n){var r=n(74988),i=n(48500).onFreeze;n(65084)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},16872:function(t,e,n){var r=n(61368),i=n(3652).f;n(65084)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},25724:function(t,e,n){n(65084)("getOwnPropertyNames",(function(){return n(61760).f}))},92360:function(t,e,n){var r=n(4944),i=n(81316);n(65084)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},37092:function(t,e,n){var r=n(74988);n(65084)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},4668:function(t,e,n){var r=n(74988);n(65084)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},17272:function(t,e,n){var r=n(74988);n(65084)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},43188:function(t,e,n){var r=n(86524);r(r.S,"Object",{is:n(10240)})},21112:function(t,e,n){var r=n(4944),i=n(5576);n(65084)("keys",(function(){return function(t){return i(r(t))}}))},24336:function(t,e,n){var r=n(74988),i=n(48500).onFreeze;n(65084)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},35264:function(t,e,n){var r=n(74988),i=n(48500).onFreeze;n(65084)("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},3088:function(t,e,n){var r=n(86524);r(r.S,"Object",{setPrototypeOf:n(2664).set})},85168:function(t,e,n){"use strict";var r=n(50108),i={};i[n(12400)("toStringTag")]="z",i+""!="[object z]"&&n(16901)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},7200:function(t,e,n){var r=n(86524),i=n(77860);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},78228:function(t,e,n){var r=n(86524),i=n(11396);r(r.G+r.F*(parseInt!=i),{parseInt:i})},75876:function(t,e,n){"use strict";var r,i,o,a,u=n(91684),l=n(35160),c=n(92820),s=n(50108),f=n(86524),d=n(74988),h=n(60467),p=n(78696),v=n(98576),g=n(13312),m=n(2860).set,y=n(81320)(),C=n(54568),b=n(54744),x=n(71528),w=n(63732),E="Promise",S=l.TypeError,k=l.process,A=k&&k.versions,D=A&&A.v8||"",I=l[E],T="process"==s(k),B=function(){},M=i=C.f,R=!!function(){try{var t=I.resolve(1),e=(t.constructor={})[n(12400)("species")]=function(t){t(B,B)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(B)instanceof e&&0!==D.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),L=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},F=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,u=i?e.ok:e.fail,l=e.resolve,c=e.reject,s=e.domain;try{u?(i||(2==t._h&&N(t),t._h=1),!0===u?n=r:(s&&s.enter(),n=u(r),s&&(s.exit(),a=!0)),n===e.promise?c(S("Promise-chain cycle")):(o=L(n))?o.call(n,l,c):l(n)):c(r)}catch(t){s&&!a&&s.exit(),c(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&_(t)}))}},_=function(t){m.call(l,(function(){var e,n,r,i=t._v,o=P(t);if(o&&(e=b((function(){T?k.emit("unhandledRejection",i,t):(n=l.onunhandledrejection)?n({promise:t,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=T||P(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){m.call(l,(function(){var e;T?k.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},O=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),F(e,!0))},j=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=L(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,c(j,r,1),c(O,r,1))}catch(t){O.call(r,t)}})):(n._v=t,n._s=1,F(n,!1))}catch(t){O.call({_w:n,_d:!1},t)}}};R||(I=function(t){p(this,I,E,"_h"),h(t),r.call(this);try{t(c(j,this,1),c(O,this,1))}catch(t){O.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(79388)(I.prototype,{then:function(t,e){var n=M(g(this,I));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&F(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(j,t,1),this.reject=c(O,t,1)},C.f=M=function(t){return t===I||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!R,{Promise:I}),n(94024)(I,E),n(38576)(E),a=n(39892)[E],f(f.S+f.F*!R,E,{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(u||!R),E,{resolve:function(t){return w(u&&this===a?I:this,t)}}),f(f.S+f.F*!(R&&n(25112)((function(t){I.all(t).catch(B)}))),E,{all:function(t){var e=this,n=M(e),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,a=1;v(t,!1,(function(t){var u=o++,l=!1;n.push(void 0),a++,e.resolve(t).then((function(t){l||(l=!0,n[u]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=M(e),r=n.reject,i=b((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},12960:function(t,e,n){var r=n(86524),i=n(60467),o=n(43192),a=(n(35160).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n(32232)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),l=o(n);return a?a(r,e,l):u.call(r,e,l)}})},59080:function(t,e,n){var r=n(86524),i=n(51172),o=n(60467),a=n(43192),u=n(74988),l=n(32232),c=n(5280),s=(n(35160).Reflect||{}).construct,f=l((function(){function t(){}return!(s((function(){}),[],t)instanceof t)})),d=!l((function(){s((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!f)return s(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var l=n.prototype,h=i(u(l)?l:Object.prototype),p=Function.apply.call(t,h,e);return u(p)?p:h}})},33464:function(t,e,n){var r=n(73792),i=n(86524),o=n(43192),a=n(84484);i(i.S+i.F*n(32232)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},16968:function(t,e,n){var r=n(86524),i=n(3652).f,o=n(43192);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},22716:function(t,e,n){"use strict";var r=n(86524),i=n(43192),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(13696)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},96864:function(t,e,n){var r=n(3652),i=n(86524),o=n(43192);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},42864:function(t,e,n){var r=n(86524),i=n(81316),o=n(43192);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},39860:function(t,e,n){var r=n(3652),i=n(81316),o=n(55408),a=n(86524),u=n(74988),l=n(43192);a(a.S,"Reflect",{get:function t(e,n){var a,c,s=arguments.length<3?e:arguments[2];return l(e)===s?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(s):void 0:u(c=i(e))?t(c,n,s):void 0}})},70992:function(t,e,n){var r=n(86524);r(r.S,"Reflect",{has:function(t,e){return e in t}})},14232:function(t,e,n){var r=n(86524),i=n(43192),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},42772:function(t,e,n){var r=n(86524);r(r.S,"Reflect",{ownKeys:n(40736)})},51412:function(t,e,n){var r=n(86524),i=n(43192),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},20024:function(t,e,n){var r=n(86524),i=n(2664);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},92152:function(t,e,n){var r=n(73792),i=n(3652),o=n(81316),a=n(55408),u=n(86524),l=n(17592),c=n(43192),s=n(74988);u(u.S,"Reflect",{set:function t(e,n,u){var f,d,h=arguments.length<4?e:arguments[3],p=i.f(c(e),n);if(!p){if(s(d=o(e)))return t(d,n,u,h);p=l(0)}if(a(p,"value")){if(!1===p.writable||!s(h))return!1;if(f=i.f(h,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=u,r.f(h,n,f)}else r.f(h,n,l(0,u));return!0}return void 0!==p.set&&(p.set.call(h,u),!0)}})},75320:function(t,e,n){var r=n(35160),i=n(79768),o=n(73792).f,a=n(25588).f,u=n(11312),l=n(47448),c=r.RegExp,s=c,f=c.prototype,d=/a/g,h=/a/g,p=new c(d)!==d;if(n(73176)&&(!p||n(32232)((function(){return h[n(12400)("match")]=!1,c(d)!=d||c(h)==h||"/a/i"!=c(d,"i")})))){c=function(t,e){var n=this instanceof c,r=u(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(p?new s(r&&!o?t.source:t,e):s((r=t instanceof c)?t.source:t,r&&o?l.call(t):e),n?this:f,c)};for(var v=function(t){t in c||o(c,t,{configurable:!0,get:function(){return s[t]},set:function(e){s[t]=e}})},g=a(s),m=0;g.length>m;)v(g[m++]);f.constructor=c,c.prototype=f,n(16901)(r,"RegExp",c)}n(38576)("RegExp")},43572:function(t,e,n){"use strict";var r=n(2008);n(86524)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},67720:function(t,e,n){n(73176)&&"g"!=/./g.flags&&n(73792).f(RegExp.prototype,"flags",{configurable:!0,get:n(47448)})},2760:function(t,e,n){"use strict";var r=n(43192),i=n(91304),o=n(85360),a=n(98448);n(3424)("match",1,(function(t,e,n,u){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=u(n,t,this);if(e.done)return e.value;var l=r(t),c=String(this);if(!l.global)return a(l,c);var s=l.unicode;l.lastIndex=0;for(var f,d=[],h=0;null!==(f=a(l,c));){var p=String(f[0]);d[h]=p,""===p&&(l.lastIndex=o(c,i(l.lastIndex),s)),h++}return 0===h?null:d}]}))},34124:function(t,e,n){"use strict";var r=n(43192),i=n(4944),o=n(91304),a=n(73328),u=n(85360),l=n(98448),c=Math.max,s=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n(3424)("replace",2,(function(t,e,n,p){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var f=r(t),d=String(this),h="function"==typeof e;h||(e=String(e));var g=f.global;if(g){var m=f.unicode;f.lastIndex=0}for(var y=[];;){var C=l(f,d);if(null===C)break;if(y.push(C),!g)break;""===String(C[0])&&(f.lastIndex=u(d,o(f.lastIndex),m))}for(var b,x="",w=0,E=0;E<y.length;E++){C=y[E];for(var S=String(C[0]),k=c(s(a(C.index),d.length),0),A=[],D=1;D<C.length;D++)A.push(void 0===(b=C[D])?b:String(b));var I=C.groups;if(h){var T=[S].concat(A,k,d);void 0!==I&&T.push(I);var B=String(e.apply(void 0,T))}else B=v(S,d,k,A,I,e);k>=w&&(x+=d.slice(w,k)+B,w=k+S.length)}return x+d.slice(w)}];function v(t,e,r,o,a,u){var l=r+t.length,c=o.length,s=h;return void 0!==a&&(a=i(a),s=d),n.call(u,s,(function(n,i){var u;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(l);case"<":u=a[i.slice(1,-1)];break;default:var s=+i;if(0===s)return n;if(s>c){var d=f(s/10);return 0===d?n:d<=c?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}u=o[s-1]}return void 0===u?"":u}))}}))},9272:function(t,e,n){"use strict";var r=n(43192),i=n(10240),o=n(98448);n(3424)("search",1,(function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var u=r(t),l=String(this),c=u.lastIndex;i(c,0)||(u.lastIndex=0);var s=o(u,l);return i(u.lastIndex,c)||(u.lastIndex=c),null===s?-1:s.index}]}))},76264:function(t,e,n){"use strict";var r=n(11312),i=n(43192),o=n(13312),a=n(85360),u=n(91304),l=n(98448),c=n(2008),s=n(32232),f=Math.min,d=[].push,h="split",p="length",v="lastIndex",g=4294967295,m=!s((function(){RegExp(g,"y")}));n(3424)("split",2,(function(t,e,n,s){var y;return y="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,u,l=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?g:e>>>0,m=new RegExp(t.source,s+"g");(o=c.call(m,i))&&!((a=m[v])>f&&(l.push(i.slice(f,o.index)),o[p]>1&&o.index<i[p]&&d.apply(l,o.slice(1)),u=o[0][p],f=a,l[p]>=h));)m[v]===o.index&&m[v]++;return f===i[p]?!u&&m.test("")||l.push(""):l.push(i.slice(f)),l[p]>h?l.slice(0,h):l}:"0"[h](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(t,e){var r=s(y,t,this,e,y!==n);if(r.done)return r.value;var c=i(t),d=String(this),h=o(c,RegExp),p=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(m?"y":"g"),C=new h(m?c:"^(?:"+c.source+")",v),b=void 0===e?g:e>>>0;if(0===b)return[];if(0===d.length)return null===l(C,d)?[d]:[];for(var x=0,w=0,E=[];w<d.length;){C.lastIndex=m?w:0;var S,k=l(C,m?d:d.slice(w));if(null===k||(S=f(u(C.lastIndex+(m?0:w)),d.length))===x)w=a(d,w,p);else{if(E.push(d.slice(x,w)),E.length===b)return E;for(var A=1;A<=k.length-1;A++)if(E.push(k[A]),E.length===b)return E;w=x=S}}return E.push(d.slice(x)),E}]}))},68216:function(t,e,n){"use strict";n(67720);var r=n(43192),i=n(47448),o=n(73176),a="toString",u=/./[a],l=function(t){n(16901)(RegExp.prototype,a,t,!0)};n(32232)((function(){return"/a/b"!=u.call({source:"a",flags:"b"})}))?l((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):u.name!=a&&l((function(){return u.call(this)}))},13480:function(t,e,n){"use strict";var r=n(89884),i=n(34880);t.exports=n(57821)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},46024:function(t,e,n){"use strict";n(60016)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},20416:function(t,e,n){"use strict";n(60016)("big",(function(t){return function(){return t(this,"big","","")}}))},82856:function(t,e,n){"use strict";n(60016)("blink",(function(t){return function(){return t(this,"blink","","")}}))},22020:function(t,e,n){"use strict";n(60016)("bold",(function(t){return function(){return t(this,"b","","")}}))},72564:function(t,e,n){"use strict";var r=n(86524),i=n(80152)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},53160:function(t,e,n){"use strict";var r=n(86524),i=n(91304),o=n(6060),a="endsWith",u=""[a];r(r.P+r.F*n(81048)(a),"String",{endsWith:function(t){var e=o(this,t,a),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),l=void 0===n?r:Math.min(i(n),r),c=String(t);return u?u.call(e,c,l):e.slice(l-c.length,l)===c}})},32420:function(t,e,n){"use strict";n(60016)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},85704:function(t,e,n){"use strict";n(60016)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},47028:function(t,e,n){"use strict";n(60016)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},91224:function(t,e,n){var r=n(86524),i=n(68012),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},29600:function(t,e,n){"use strict";var r=n(86524),i=n(6060),o="includes";r(r.P+r.F*n(81048)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},92928:function(t,e,n){"use strict";n(60016)("italics",(function(t){return function(){return t(this,"i","","")}}))},8792:function(t,e,n){"use strict";var r=n(80152)(!0);n(70488)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},72548:function(t,e,n){"use strict";n(60016)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},37160:function(t,e,n){var r=n(86524),i=n(61368),o=n(91304);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],u=0;n>u;)a.push(String(e[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},89296:function(t,e,n){var r=n(86524);r(r.P,"String",{repeat:n(16496)})},33372:function(t,e,n){"use strict";n(60016)("small",(function(t){return function(){return t(this,"small","","")}}))},43932:function(t,e,n){"use strict";var r=n(86524),i=n(91304),o=n(6060),a="startsWith",u=""[a];r(r.P+r.F*n(81048)(a),"String",{startsWith:function(t){var e=o(this,t,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return u?u.call(e,r,n):e.slice(n,n+r.length)===r}})},65308:function(t,e,n){"use strict";n(60016)("strike",(function(t){return function(){return t(this,"strike","","")}}))},13928:function(t,e,n){"use strict";n(60016)("sub",(function(t){return function(){return t(this,"sub","","")}}))},78272:function(t,e,n){"use strict";n(60016)("sup",(function(t){return function(){return t(this,"sup","","")}}))},74652:function(t,e,n){"use strict";n(3772)("trim",(function(t){return function(){return t(this,3)}}))},89032:function(t,e,n){"use strict";var r=n(35160),i=n(55408),o=n(73176),a=n(86524),u=n(16901),l=n(48500).KEY,c=n(32232),s=n(22752),f=n(94024),d=n(11608),h=n(12400),p=n(63784),v=n(67984),g=n(92264),m=n(83464),y=n(43192),C=n(74988),b=n(4944),x=n(61368),w=n(84484),E=n(17592),S=n(51172),k=n(61760),A=n(3652),D=n(98844),I=n(73792),T=n(5576),B=A.f,M=I.f,R=k.f,L=r.Symbol,F=r.JSON,_=F&&F.stringify,P="prototype",N=h("_hidden"),O=h("toPrimitive"),j={}.propertyIsEnumerable,G=s("symbol-registry"),U=s("symbols"),z=s("op-symbols"),Z=Object[P],Q="function"==typeof L&&!!D.f,W=r.QObject,J=!W||!W[P]||!W[P].findChild,V=o&&c((function(){return 7!=S(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=B(Z,e);r&&delete Z[e],M(t,e,n),r&&t!==Z&&M(Z,e,r)}:M,H=function(t){var e=U[t]=S(L[P]);return e._k=t,e},K=Q&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},q=function(t,e,n){return t===Z&&q(z,e,n),y(t),e=w(e,!0),y(n),i(U,e)?(n.enumerable?(i(t,N)&&t[N][e]&&(t[N][e]=!1),n=S(n,{enumerable:E(0,!1)})):(i(t,N)||M(t,N,E(1,{})),t[N][e]=!0),V(t,e,n)):M(t,e,n)},Y=function(t,e){y(t);for(var n,r=g(e=x(e)),i=0,o=r.length;o>i;)q(t,n=r[i++],e[n]);return t},X=function(t){var e=j.call(this,t=w(t,!0));return!(this===Z&&i(U,t)&&!i(z,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,N)&&this[N][t])||e)},$=function(t,e){if(t=x(t),e=w(e,!0),t!==Z||!i(U,e)||i(z,e)){var n=B(t,e);return!n||!i(U,e)||i(t,N)&&t[N][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=R(x(t)),r=[],o=0;n.length>o;)i(U,e=n[o++])||e==N||e==l||r.push(e);return r},et=function(t){for(var e,n=t===Z,r=R(n?z:x(t)),o=[],a=0;r.length>a;)!i(U,e=r[a++])||n&&!i(Z,e)||o.push(U[e]);return o};Q||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===Z&&e.call(z,n),i(this,N)&&i(this[N],t)&&(this[N][t]=!1),V(this,t,E(1,n))};return o&&J&&V(Z,t,{configurable:!0,set:e}),H(t)},u(L[P],"toString",(function(){return this._k})),A.f=$,I.f=q,n(25588).f=k.f=tt,n(13524).f=X,D.f=et,o&&!n(91684)&&u(Z,"propertyIsEnumerable",X,!0),p.f=function(t){return H(h(t))}),a(a.G+a.W+a.F*!Q,{Symbol:L});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)h(nt[rt++]);for(var it=T(h.store),ot=0;it.length>ot;)v(it[ot++]);a(a.S+a.F*!Q,"Symbol",{for:function(t){return i(G,t+="")?G[t]:G[t]=L(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in G)if(G[e]===t)return e},useSetter:function(){J=!0},useSimple:function(){J=!1}}),a(a.S+a.F*!Q,"Object",{create:function(t,e){return void 0===e?S(t):Y(S(t),e)},defineProperty:q,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var at=c((function(){D.f(1)}));a(a.S+a.F*at,"Object",{getOwnPropertySymbols:function(t){return D.f(b(t))}}),F&&a(a.S+a.F*(!Q||c((function(){var t=L();return"[null]"!=_([t])||"{}"!=_({a:t})||"{}"!=_(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(C(e)||void 0!==t)&&!K(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),r[1]=e,_.apply(F,r)}}),L[P][O]||n(62432)(L[P],O,L[P].valueOf),f(L,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},37664:function(t,e,n){"use strict";var r=n(86524),i=n(3640),o=n(47764),a=n(43192),u=n(68012),l=n(91304),c=n(74988),s=n(35160).ArrayBuffer,f=n(13312),d=o.ArrayBuffer,h=o.DataView,p=i.ABV&&s.isView,v=d.prototype.slice,g=i.VIEW,m="ArrayBuffer";r(r.G+r.W+r.F*(s!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,m,{isView:function(t){return p&&p(t)||c(t)&&g in t}}),r(r.P+r.U+r.F*n(32232)((function(){return!new d(2).slice(1,void 0).byteLength})),m,{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,r=u(t,n),i=u(void 0===e?n:e,n),o=new(f(this,d))(l(i-r)),c=new h(this),s=new h(o),p=0;r<i;)s.setUint8(p++,c.getUint8(r++));return o}}),n(38576)(m)},55892:function(t,e,n){var r=n(86524);r(r.G+r.W+r.F*!n(3640).ABV,{DataView:n(47764).DataView})},29992:function(t,e,n){n(91160)("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},46848:function(t,e,n){n(91160)("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},61915:function(t,e,n){n(91160)("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},68456:function(t,e,n){n(91160)("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},28280:function(t,e,n){n(91160)("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},45680:function(t,e,n){n(91160)("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},54276:function(t,e,n){n(91160)("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},664:function(t,e,n){n(91160)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},39588:function(t,e,n){n(91160)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},41800:function(t,e,n){"use strict";var r,i=n(35160),o=n(99060)(0),a=n(16901),u=n(48500),l=n(72900),c=n(77488),s=n(74988),f=n(34880),d=n(34880),h=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",v=u.getWeak,g=Object.isExtensible,m=c.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},C={get:function(t){if(s(t)){var e=v(t);return!0===e?m(f(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(f(this,p),t,e)}},b=t.exports=n(57821)(p,y,C,c,!0,!0);d&&h&&(l((r=c.getConstructor(y,p)).prototype,C),u.NEED=!0,o(["delete","has","get","set"],(function(t){var e=b.prototype,n=e[t];a(e,t,(function(e,i){if(s(e)&&!g(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},93744:function(t,e,n){"use strict";var r=n(77488),i=n(34880),o="WeakSet";n(57821)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},94796:function(t,e,n){"use strict";var r=n(86524),i=n(18444),o=n(4944),a=n(91304),u=n(60467),l=n(31460);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return u(t),e=a(r.length),n=l(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(57224)("flatMap")},78600:function(t,e,n){"use strict";var r=n(86524),i=n(39432)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(57224)("includes")},98440:function(t,e,n){var r=n(86524),i=n(92508)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},17492:function(t,e,n){var r=n(86524),i=n(40736),o=n(61368),a=n(3652),u=n(23040);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),l=a.f,c=i(r),s={},f=0;c.length>f;)void 0!==(n=l(r,e=c[f++]))&&u(s,e,n);return s}})},11836:function(t,e,n){var r=n(86524),i=n(92508)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},78792:function(t,e,n){"use strict";var r=n(86524),i=n(39892),o=n(35160),a=n(13312),u=n(63732);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}})},77392:function(t,e,n){"use strict";var r=n(86524),i=n(82912),o=n(71528),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},84768:function(t,e,n){"use strict";var r=n(86524),i=n(82912),o=n(71528),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},91928:function(t,e,n){"use strict";n(3772)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},5384:function(t,e,n){"use strict";n(3772)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},48632:function(t,e,n){n(67984)("asyncIterator")},10120:function(t,e,n){for(var r=n(63e3),i=n(5576),o=n(16901),a=n(35160),u=n(62432),l=n(87460),c=n(12400),s=c("iterator"),f=c("toStringTag"),d=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var g,m=p[v],y=h[m],C=a[m],b=C&&C.prototype;if(b&&(b[s]||u(b,s,d),b[f]||u(b,f,m),l[m]=d,y))for(g in r)b[g]||o(b,g,r[g],!0)}},57212:function(t,e,n){var r=n(86524),i=n(2860);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},97016:function(t,e,n){var r=n(35160),i=n(86524),o=n(71528),a=[].slice,u=/MSIE .\./.test(o),l=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*u,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},52540:function(t,e,n){n(97016),n(57212),n(10120),t.exports=n(39892)},89843:function(t,e,n){t.exports=n(36128)},12388:function(t,e,n){t.exports=n(81324)},37152:function(t,e,n){t.exports=n(92960)},53684:function(t,e,n){t.exports=n(9452)},81744:function(t,e,n){t.exports=n(51188)},73400:function(t,e,n){t.exports=n(20104)},64136:function(t,e,n){t.exports=n(34963)},30479:function(t,e,n){t.exports=n(91924)},1508:function(t,e,n){t.exports=n(77444)},18860:function(t,e,n){t.exports=n(28320)},29636:function(t,e,n){t.exports=n(13352)},47332:function(t,e,n){t.exports=n(70120)},74741:function(t,e,n){t.exports=n(43676)},7312:function(t,e,n){t.exports=n(49372)},82600:function(t,e,n){t.exports=n(8760)},39568:function(t,e,n){t.exports=n(35720)},75668:function(t,e,n){n(5960)},75984:function(t,e,n){t.exports=n(48776)},45076:function(t,e,n){t.exports=n(69344)},96416:function(t,e,n){t.exports=n(87144)},12640:function(t,e,n){t.exports=n(27584)},65624:function(t,e,n){t.exports=n(59620)},6908:function(t,e,n){t.exports=n(84644)},11872:function(t,e,n){t.exports=n(9384)},49464:function(t,e,n){t.exports=n(28812)},52360:function(t,e,n){t.exports=n(59408)},5848:function(t,e,n){t.exports=n(24992)},39832:function(t,e,n){t.exports=n(69140)},88836:function(t,e,n){t.exports=n(62572)},28555:function(t,e,n){t.exports=n(92496)},92192:function(t,e,n){t.exports=n(54104)},26260:function(t,e,n){t.exports=n(72672)},63808:function(t,e,n){t.exports=n(62296)},45040:function(t,e,n){t.exports=n(68792)},31408:function(t,e,n){t.exports=n(37752)},24560:function(t,e,n){t.exports=n(38736)},20484:function(t,e,n){t.exports=n(9788)},55748:function(t,e,n){t.exports=n(35716)},54120:function(t,e,n){t.exports=n(56860)},27392:function(t,e,n){t.exports=n(43760)},39448:function(t,e,n){t.exports=n(9224)},57492:function(t,e,n){t.exports=n(48624)},69216:function(t,e,n){t.exports=n(72504)},48560:function(t,e,n){t.exports=n(50396)},47976:function(t,e,n){t.exports=n(10424)},66196:function(t,e,n){n(42648)},41256:function(t,e,n){t.exports=n(77052)},7224:function(t,e,n){t.exports=n(52136)},97552:function(t,e,n){t.exports=n(11480)},2992:function(t,e,n){t.exports=n(19516)},11984:function(t,e,n){t.exports=n(43252)},25448:function(t,e,n){t.exports=n(94088)},62360:function(t,e,n){t.exports=n(77932)},13760:function(t,e,n){t.exports=n(42592)},59312:function(t,e,n){t.exports=n(43328)},97440:function(t,e,n){t.exports=n(39928)},31192:function(t,e,n){t.exports=n(35184)},72600:function(t,e,n){t.exports=n(88308)},89472:function(t,e,n){t.exports=n(86167)},91648:function(t,e,n){t.exports=n(96680)},93920:function(t,e,n){t.exports=n(6164)},64248:function(t,e,n){t.exports=n(64800)},57548:function(t,e,n){t.exports=n(83620)},9712:function(t,e,n){t.exports=n(17456)},69268:function(t,e,n){t.exports=n(2732)},26568:function(t,e,n){t.exports=n(17893)},42484:function(t,e,n){t.exports=n(78772)},29656:function(t,e,n){t.exports=n(10384)},12484:function(t,e,n){t.exports=n(83576)},71072:function(t,e,n){t.exports=n(46656)},19692:function(t,e,n){t.exports=n(3568)},57312:function(t,e,n){t.exports=n(62952)},80075:function(t,e,n){t.exports=n(91864)},57328:function(t,e,n){t.exports=n(76008)},53140:function(t,e,n){t.exports=n(40624)},86724:function(t,e,n){t.exports=n(98744)},98468:function(t,e,n){t.exports=n(16388)},51592:function(t,e,n){t.exports=n(71792)},72072:function(t,e,n){var r=n(6144).default,i=n(98468),o=n(19692),a=n(71072),u=n(80075),l=n(69268),c=n(53140),s=n(86724),f=n(42484),d=n(29656);function h(){"use strict";t.exports=h=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,p=n.hasOwnProperty,v="function"==typeof i?i:{},g=v.iterator||"@@iterator",m=v.asyncIterator||"@@asyncIterator",y=v.toStringTag||"@@toStringTag";function C(t,e,n){return o(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{C({},"")}catch(t){C=function(t,e,n){return t[e]=n}}function b(t,e,n,r){var i=e&&e.prototype instanceof E?e:E,o=a(i.prototype),u=new F(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=M(a,n);if(u){if(u===w)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=x(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===w)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,u),o}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=b;var w={};function E(){}function S(){}function k(){}var A={};C(A,g,(function(){return this}));var D=u&&u(u(_([])));D&&D!==n&&p.call(D,g)&&(A=D);var I=k.prototype=E.prototype=a(A);function T(t){var e;l(e=["next","throw","return"]).call(e,(function(e){C(t,e,(function(t){return this._invoke(e,t)}))}))}function B(t,e){function n(i,o,a,u){var l=x(t[i],t,o);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==r(s)&&p.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function M(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,M(t,e),"throw"===e.method))return w;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var r=x(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,w;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,w):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],l(t).call(t,R,this),this.reset(!0)}function _(t){if(t){var e=t[g];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(p.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return S.prototype=k,C(I,"constructor",k),C(k,"constructor",S),S.displayName=C(k,y,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return c?c(t,k):(t.__proto__=k,C(t,y,"GeneratorFunction")),t.prototype=a(I),t},e.awrap=function(t){return{__await:t}},T(B.prototype),C(B.prototype,m,(function(){return this})),e.AsyncIterator=B,e.async=function(t,n,r,i,o){void 0===o&&(o=s);var a=new B(b(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(I),C(I,y,"Generator"),C(I,g,(function(){return this})),C(I,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return f(e).call(e),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,F.prototype={constructor:F,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,l(e=this.tryEntries).call(e,L),!t)for(var n in this)"t"===n.charAt(0)&&p.call(this,n)&&!isNaN(+d(n).call(n,1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=p.call(i,"catchLoc"),u=p.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&p.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),w}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),w}},e}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports},6144:function(t,e,n){var r=n(98468),i=n(51592);function o(e){return t.exports=o="function"==typeof r&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,o(e)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},85344:function(t,e,n){var r=n(72072)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},85776:function(t,e,n){"use strict";n.r(e),n.d(e,{PrintDesigner:function(){return tb},useInstallFontFamilyOnline:function(){return ib}});var r={};n.r(r),n.d(r,{SetStatistic:function(){return X}});var i={};n.r(i),n.d(i,{InputQuery:function(){return Mf}});var o={};n.r(o),n.d(o,{InputQuery:function(){return Ff}});var a={};n.r(a),n.d(a,{GridCheckBox:function(){return Eh},Query:function(){return bh},SortSettings:function(){return xh},filterSetting:function(){return wh}});var u={};n.r(u),n.d(u,{InputQuery:function(){return Sh}});var l={};n.r(l),n.d(l,{InputQuery:function(){return kh}});var c={};n.r(c),n.d(c,{ImageUpload:function(){return Ih},Query:function(){return Ah}});var s={};n.r(s),n.d(s,{ImageUpload:function(){return Mh},PaperDirection:function(){return Th}});var f={};n.r(f),n.d(f,{InputQuery:function(){return Fh},Query:function(){return Fh}});var d={};n.r(d),n.d(d,{InputQuery:function(){return Ff}});var h={};n.r(h),n.d(h,{Query:function(){return bh}});var p={};n.r(p),n.d(p,{MergeByField:function(){return jh},MergeSummaryField:function(){return Gh},Query:function(){return Oh}});var v={};n.r(v),n.d(v,{FileNameInput:function(){return ep},Input:function(){return Yh},Radio:function(){return tp},Select:function(){return Xh},TextInput:function(){return np}});var g={};n.r(g),n.d(g,{DataMatrix:function(){return $g},PDF417:function(){return Xg},QRCode:function(){return tm},defaultQRCode:function(){return em}});n(19600);var m=n(47976),C=n.n(m),b=n(39448),x=n.n(b),w=n(55748),E=n.n(w),S=n(54120),k=n.n(S),A=n(63808),D=n.n(A),I=n(45040),T=n.n(I),B=n(72048),M=n(30112),R=n(18860),L=n.n(R),F=n(75984),P=n.n(F),N=n(81744),O=n.n(N),j=n(45076),G=n.n(j),U=n(39832),z=n.n(U),Z=n(7312),Q=n.n(Z),W=(n(87964),n(54116)),J=n(18040),V=n.n(J),H=n(43400),K=n.n(H),q=n(45548),Y=n.n(q);function X(t,e){var n=t.Key,r=t.Value,i={};n=Y().camelCase(n),r=Y().camelCase(r);var o=e[n],a=e[r];return o?(/\S+\((\S+)\)$/.test(o)?i[n]="noStat"===a?"=$".concat(o.replace(/\S+\((\S+)\)$/g,"$1")):o.replace(/\S+\((\S+)\)$/g,"=".concat(a,"($1)")):i[n]=o.replace(/^\=\$(\S+)/,"=".concat(a,"($1)")),i):i}var $,tt,et,nt,rt,it,ot=function(){var t={dataActions:[],propertyActions:[]},e=[[r,"DataCell"],[r,"Text"],[r,"LayoutCell"]];return Q()(e).call(e,(function(e){var n,r=(0,B.c)(e,2),i=r[0],o=r[1];Q()(n=C()(i)).call(n,(function(e){t.dataActions.push([e,i[e],o])}))})),t},at=n(80284),ut=n(13760),lt=n.n(ut),ct=n(41256),st=n.n(ct),ft=n(29636),dt=n.n(ft),ht=n.p+"images/10a6246291a0d3b504113bd071fd58d0.png",pt=n.p+"images/a4a05f34e894ef1e8cd1b3e97e33a010.png",vt=n(44820),gt=n.n(vt),mt=(n(35176),(0,n(19980).o)(!0)),yt=function(t,e){var n=t.getBoundingClientRect(),r=n.left,i=n.top;e.style.top=i+"px",e.style.left=r+"px"},Ct=function(t){t.style.opacity=0,t.style.visibility="hidden"},bt=function(t,e){if(e){var n=e();return function(){n&&n()}}var r=document.querySelector(t);return r.style.opacity=1,r.style.visibility="visible",function(){Ct(r)}},xt={current:null},wt=function(t){var e=t.handlePassPrintActionGuide,n=mt(),r=(0,B.c)(n,2),i=r[0],o=r[1],a=(0,H.useRef)(null),u=(0,H.useRef)((function(){})),l=(0,H.useRef)(0),c="print-guide-title",s="print-guide-content",f="print-guide-progress",d="print-guide-card",h=".print-guide-mock-image-print-setting",p="print-guide-layer-mask",v=(0,H.useCallback)((function(t,e){var n;return O()(n="<div class='".concat(e,"'>")).call(n,t,"</div>")}),[]),g=function(){var t=document.querySelector(".".concat(p));t&&document.body.removeChild(t)},m=(0,H.useMemo)((function(){var t;return[{element:h,title:v((0,J.getLangMsg)("printd.grid.key0107"),c),_image:pt,_parent:'[data-portalid="print-designer-top-view-right"]',position:"left-center",intro:v((0,J.getLangMsg)("printd.components.key0050"),s)},{element:".print-guide-mock-image-control",title:v((0,J.getLangMsg)("printd.components.key0051"),c),_image:"data:image/png;base64,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EjJCRsgIGSEjISNkhIyQETJCRkJGyAgZISNkJGSEjJARMkJGyEjICBkhI2SEjISMkBEyQkbICBkJGSEjZISMkJGQETJCRsgIGSEjISNkhIyQETISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2SEjISMkBEyQkbISMgIGSEjZISMkJGQETJCRsgIGQkZISNkhIyQETISMkJGyAgZISMhI2SEjJARMkJGQkbICBkhI2QkZISMkBEyQkbIuBGEjJARMkJGyEjICBkhI2SEjJBBRsgIGSEjZISMhIyQETJCRsgIGWSEjJARMkJGyEjICBkhI2SEjISMkBEyQkbICBkJGSEjZISMkJGQETJCRsgIGSEjISNkhIyQETISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2SEjISMkBEyQkbISMgIGSEjZISMkJGQETJCRsgIGQkZISNkhIyQETISMkJGyAgZISMhI2SEjJARMkJGQkbICBkhI2QkZISMkBEyQkbISMgIGSEjZISMhIyQETJCRsgIGQkZISNkhIyQkZARMkJGyAgZISMhI2SEjJARMhIyQkbICBkhI2QkZISMkBEyQkZCRsgIGSEjZISMhIyQETJCRshIyAgZISNkhIyQkZARMkJGyAgZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJBxIwgZISNkhIyQkZARMkJGyAgZIYOMkBEyQkbICBkJGSEjZISMkBEyyAgZISNkhIyQkZARMkJGyAgZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJCRkBEyQkbICBkJGSEjZISMkBEyEjJCRsgIGSEjISNkhIyQETJCRkJGyAgZISNkJGSEjJARMkJGyEjICBkhI2SEjISMkBEyQkbICBkJGSEjZISMkJGQETJCRsgIGSEjISNkhIyQETISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2SEjISMkBEyQkbISMgIGSEjZISMkJGQETJCRsgIGQkZISNkhIyQETISMkJGyAgZISMhI2SEjJARMkJGQkbICBkhI2QkZISMkBEyQkbISMgIGSEjZISMhIyQETJCRsgIGQkZISNkhIyQkZARMkJGyAgZIeNGEDJCRsgIGSEjISNkhIyQETJCBhkhI2SEjJARMhIyQkbICBkhI2SQETJCRsgIGSEjISNkhIyQETISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2SEjISMkBEyQkbISMgIGSEjZISMkJGQETJCRsgIGQkZISNkhIyQETISMkJGyAgZISMhI2SEjJARMkJGQkbICBkhI2QkZISMkBEyQkbISMgIGSEjZISMhIyQETJCRsgIGQkZISNkhIyQkZARMkJGyAgZISMhI2SEjJARMhIyQkbICBkhI2QkZISMkBEyQkZCRsgIGSEjZISMhIyQETJCRshIyAgZISNkhIyQkZARMkJGyAgZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJCRkBEyQkbICBkJGSEjZISMkBEyEjJCRsgIGSEjISNkhIyQETJCxo0gZISMkBEyQkZCRsgIGSEjZIQMMkJGyAgZISNkJGSEjJARMkJGyCAjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJCRkBEyQkbICBkJGSEjZISMkBEyEjJCRsgIGSEjISNkhIyQETJCRkJGyAgZISNkJGSEjJARMkJGyEjICBkhI2SEjISMkBEyQkbICBkJGSEjZISMkJGQETJCRsgIGSEjISNkhIyQETISMkJGyAgZISNkJGSEjJARMkJGQkbICBkhI2R0vWSkLiGjzmT+D/QuigoVnf8fAAAAAElFTkSuQmCC",_parent:'[data-portalid="print-designer-top-view-left"]',position:"right-center",intro:v((0,J.getLangMsg)("printd.components.key0052"),s)},{element:".print-guide-mock-image-datasource",title:(0,J.getLangMsg)("printd.components.key0013"),_image:ht,_parent:'[data-portalid="print-designer-top-view-left"]',parent:".print-guide-mock-image",position:"right-center",intro:O()(t="\n          <div>\n           ".concat(v((0,J.getLangMsg)("printd.components.key0053"),s),"\n           ")).call(t,v((0,J.getLangMsg)("printd.components.key0054"),s),"\n          </div>\n          ")},{element:".print-guide-mock-image-property",title:v((0,J.getLangMsg)("printd.grid.key0108"),c),_image:"data:image/png;base64,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hIyQETISMkJGyAgZISMhI2SEjJARMkJGQkbICBkhI2QkZISMkBEyQkbISMgIGSEjZISMhIyQETJCRsgIGQkZISNkhIyQkZARMkJGyAgZISMhI2SEjJARMhIyQkbICBkhI2QkZISMkBEyQkZCRsgIGSEjZISMhIyQETJCRshIyAgZISNkhIyQkZARMkJGyAgZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIwZCBkhI2SEjJCRkBEyQkbICBkhg4yQETJCRsgIGQkZISNkhIyQkZARMkJGyAgZISMhI2SEjJARMhIyQkbICBkhI2QkZISMkBEyQkZCRsgIGSEjZISMhIyQETJCRshIyAgZISNkhIyQkZARMkJGyAgZCRkhI2SEjJARMhIyQkbICBkhIyEjZISMkBEyQkZCRsgIGSEjZCRkhIyQETJCRshIyAgZISNkhIyEjJARMkJGyAgZCRkhI2SEjJCRkBEyQkbICBkhIyEjZISMkBEyEjJCRsgIGSEjZCRkhIyQETJCRkJGyAgZISNkhIyEjJARMkJGyEjICBkhI2SEjJCRkBEyunT/A+RKXPPypoMLAAAAAElFTkSuQmCC",_parent:'[data-portalid="print-designer-top-view-right"]',position:"left-center",intro:v((0,J.getLangMsg)("printd.components.key0055"),s)},{element:"#kdesigner-top-view-main",_isDynamic:!0,title:v((0,J.getLangMsg)("printd.components.key0056"),c),_image:"data:image/png;base64,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",_parent:"#kdesigner-top-view-main",position:"bottom",intro:v((0,J.getLangMsg)("printd.components.key0057"),s)}]}),[]),y=document.body.style.overflow,C=(0,H.useRef)({}),b=(0,H.useCallback)((function(){var t,n;document.body.style.overflow=y,a.current=null,u.current=null,u.current=null,Q()(m).call(m,(function(t){var e=t._unmountContainer;e&&(e(),t._unmountContainer=null,t._container=null,t._parentDom=null)})),o(!1),Q()(t=st()(C.current)).call(t,(function(t){return t&&t()})),null===(n=document.querySelector(".".concat(d)))||void 0===n||n.remove(),e&&e(),g()}),[]),x=(0,H.useCallback)((function(){Q()(m).call(m,(function(t){var e=t._parentDom,n=t._container;e&&n&&yt(e,n)}))}),[]),w=(0,H.useCallback)((function(t){u.current&&u.current(),l.current=t;var e=m[l.current],n=e.element;if(e._isDynamic){u.current=bt(n,(function(){var t=document.querySelector(n);if(t){var e=t.style.pointerEvents;t.style.pointerEvents="none";var r=function(){t.style.pointerEvents=e};return C.current.removeDynamicEffect=r,r}}))}else u.current=bt(n)}),[]),E=(0,H.useCallback)((function(t){lt()((function(){!function(t,e,n){if(!document.querySelector(".".concat(e))){var r=document.querySelector(t),i=document.createElement("span");i.classList.add(e),r?(r.insertBefore(i,r.firstElementChild),n&&n()):lt()((function(){var r=document.querySelector(t);r?(r.insertBefore(i,r.firstElementChild),n&&n()):J.console.log("createProgressText fail",t,e,n)}))}}(".driver-popover-footer",f,(function(){!function(t,e,n){var r;document.querySelector(".".concat(t)).textContent=O()(r="".concat(e," / ")).call(r,n)}(f,t.currentStep+1,m.length),function(t,e,n){var r,i=document.querySelector(".".concat(t));Q()(r=[e,n]).call(r,(function(t){var e=document.createElement("div");e.classList.add(t),null==i||i.appendChild(e)}))}(d,"print-guide-line-shape","print-guide-ball-shape")}))}),150)}),[]),S=(0,H.useRef)(!1);return(0,H.useEffect)((function(){if(i){Q()(m).call(m,(function(t){var e=t.element,n=t._parent,r=t._image,i=t._isMount;if(!t._isDynamic){var o=function(t){var e=t._parent,n=t.element,r=t._isMount,i=t._image;if(r)J.console.log("createContainer isMount",e,n,r,i);else{var o=document.querySelector(e);if(o){var a=document.createElement("div");yt(o,a),a.style.zIndex="1050",a.style.position="fixed",a.classList.add(n.substring(1)),o.appendChild(a);var u=o.style.position;o.style.position="relative";var l=document.createElement("div"),c=document.createElement("img");return c.src=i,l.classList.add("print-guide-mock-image"),l.appendChild(c),a.appendChild(l),Ct(a),{_parentDom:o,_container:a,_unmountContainer:function(){null==o||o.removeChild(a),o.style.position=u||"static"}}}J.console.log("createContainer parent",e,n,r,i)}}({element:e,_parent:n,_isMount:i,_image:r});o&&(t._isMount=!0),(0,at.c)(t,o)}})),xt.current||lt()((function(){xt.current=new(gt())({animate:!1,doneBtnText:(0,J.getLangMsg)("printd.components.key0058"),closeBtnText:(0,J.getLangMsg)("printd.components.key0059"),nextBtnText:(0,J.getLangMsg)("printd.components.key0060"),prevBtnText:(0,J.getLangMsg)("printd.components.key0061"),keyboardControl:!0,overlayClickNext:!1,padding:0,allowClose:!1,onNext:function(t){var e=t.options.element,n=dt()(m).call(m,(function(t){return e===t.element}));n===m.length-1?b():w(n+1),J.console.log("onNext",t)},onPrevious:function(t){var e=t.options.element,n=dt()(m).call(m,(function(t){return e===t.element}));0!==n&&w(n-1),J.console.log("onPrevious",t)},onDeselected:function(t){J.console.log("onDeselected",t),xt.current.isActivated||(b(),g())},onHighlighted:function(){E(xt.current),document.body.style.overflow="hidden",function(){if(!document.querySelector(".".concat(p))){var t=document.createElement("div");t.classList.add(p),document.body.appendChild(t)}}(),J.console.log("driver",xt.current)},onHighlightStarted:function(){S.current||(w(0),S.current=!0)}}),xt.current.defineSteps(P()(m).call(m,(function(t){var e,n,r=t.element,i=t.title,o=t.intro,a=t.position,u=O()(e="".concat(r.substring(1),"-card ")).call(e,r!==h?d:O()(n="".concat(d," ")).call(n,"print-guide-first-card"));return{element:r,popover:{className:u,title:i,description:o,position:a}}}))),lt()((function(){var t;null===(t=xt.current)||void 0===t||t.start(0)}),500)}));var t=function(){var t;x(),null===(t=xt.current)||void 0===t||t.refresh(),E(xt.current)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}}),[]),null};function Et(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}var St="container_node_cls",kt="scale_node_cls",At="normal_node_cls",Dt="hover_node_cls",It="text_node_cls",Tt="cell_node_cls",Bt="not_cache_node_cls",Mt=17,Rt=20,Lt="horAlignment",Ft="lineSpace",_t="verAlignment",Pt="fontName",Nt="fontSize",Ot="bold",jt="italic",Gt="underLine",Ut="strike",zt="foreColor",Zt="backColor",Qt="border",Wt="left",Jt="right",Vt="bottom",Ht="vertical_center",Kt="horizontal_center",qt="horizontal_distribution",Yt="vertical_distribution",Xt="x",$t="y",te="width",ee="height",ne="id",re=[Lt,_t,Pt,Nt,Ot,jt,Gt,zt,Zt,Qt,Ut,Ft],ie=[Ot,Nt,Pt,Lt,_t,Gt,zt,Zt,jt,Ut,Ft],oe="#666666",ae="#5582F3",ue="#0E5FD8",le=["top","bottom","left","right","inner"],ce=["top","bottom","left","right"],se={color:G()(le).call(le,(function(t,e){return t[e]="",t}),{}),width:G()(le).call(le,(function(t,e){return t[e]=0,t}),{}),style:G()(le).call(le,(function(t,e){return t[e]="",t}),{})},fe=(G()(le).call(le,(function(t,e){return t[e]=0,t}),{}),"1"),de="3",he="SubDataGrid",pe="TableTail",ve="DataGrid",ge="CardGrid",me=["DataGrid","LayoutGrid",he,"CardGrid"],ye=["DataRow"],Ce=["DataColumn"],be=["DataCell","LayoutCell"],xe=["SubDataCell"],we="Detail",Ee="Normal",Se="Statistic",ke="Layout",Ae="Group",De={bindField:"",bindText:"",viewText:"",dataSource:"",dsType:"",formulaData:null},Ie=[ne,"key","parentId"],Te="rowId",Be="columnId",Me=O()($=[]).call($,Ie,[Te,Be,Qt]),Re={left:0,right:0,top:0,bottom:0},Le="borderType",Fe="innerBorder",_e="outBorder",Pe="outBorderBlod",Ne="allBorder",Oe="noneBorder",je="left",Ge="top",Ue="right",ze="bottom",Ze="rowHeight",Qe="columnWidth",We=10,Je=function(t){var e;return O()(e="".concat(t,", ")).call(e,"arial, sans-serif")},Ve={"思源宋体":["SourceHanSerifSC-Regular","otf"],"思源黑体":["SourceHanSansSC-Regular","otf"],"方正细圆简体":["FZXiYuan-M01S","ttf"],"方正兰亭黑简体":["FZLanTingHeiS-R-GB","ttf"],"阿里巴巴普惠体":["Alibaba-PuHuiTi-Regular","otf"]},He=(function(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Et(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Et(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}}({},G()(tt=C()(Ve)).call(tt,(function(t,e){var n=(0,B.c)(Ve[e],1)[0];return t[e]=Je(n),t}),{})),"思源宋体 CN"),Ke={},qe=function(t){var e,n=Ke[t];return Je(O()(e="".concat((n||"")+(n?", ":""))).call(e,He))},Ye="Header",Xe="Footer",$e="SubDataGrid",tn="Line",en=O()(et=[Ye,Xe,$e]).call(et,be,[pe]),nn=O()(nt=[Ye,Xe,$e]).call(nt,be),rn=[Ye,Xe,$e],on=O()(rt=[]).call(rt,be),an="arrow-down",un=O()(it=[]).call(it,be),ln=".5",cn="1",sn="2",fn="cq-print-designer-copy",dn="cq-print-designer-gridcell-copy",hn=["char","char","char","none"],pn={text:"Text",richText:"RichText"},vn="kdcdc",gn=66/130,mn={QR_CODE:1,PDF417:gn,Truncated_PDF417:gn,MicroPDF417:gn,Data_Matrix:1,GS1_Data_Matrix:1},yn={QR_CODE:"QRCode",PDF417:"PDF417",Truncated_PDF417:"PDF417",MicroPDF417:"PDF417",Data_Matrix:"DataMatrix",GS1_Data_Matrix:"DataMatrix"},Cn=(0,H.createContext)(null);Cn.displayName="PrintRootContext";var bn=(0,H.createContext)(null);bn.displayName="PrintDesignerContext";bn.displayName="DataSourceViewContext";var xn=(0,H.createContext)({});xn.displayName="DataGridContext";var wn=(0,H.createContext)({});wn.displayName="CanvasSelectContext";var En=n(81043),Sn=n(39568),kn=n.n(Sn),An=n(12640),Dn=n.n(An),In=n(82600),Tn=n.n(In),Bn=n(37152),Mn=n.n(Bn),Rn=n(73400),Ln=n.n(Rn),Fn=function(t){var e=t.selectionContext,n=t.dataContext,r=(t.meta,t.activedSelectId),i=t.modelFactory,o=n.getRootId(),a=n.findControl(r||o);a||J.console.log("useLastSelectedModal",r,e.getSelection());var u=i({type:a.type});return{modelData:u.Properties,selectModel:u,activedSelectId:r,selectItem:a,rootId:o,isRootId:o===r}},_n=function(t){var e,n=t.dataContext,r=t.selectionContext,i=t.meta,o=t.activedSelectId,a=t.modelFactory,u=Fn({dataContext:n,selectionContext:r,meta:i,activedSelectId:o,modelFactory:a}),l=u.selectItem;return!u.isRootId&&l&&l.dataSource&&l.bindField?(J.console.log("selectItem useScrollKey",l),O()(e="".concat(l.dataSource,"-")).call(e,l.bindField)):""},Pn=n.p+"images/b7faef5a0338c01e97e8b6d7d8f7511f.png",Nn=n(89843),On=n.n(Nn),jn=n(97440),Gn=n.n(jn),Un=n(64248),zn=n.n(Un),Zn=n(12388),Qn=n.n(Zn),Wn=n(34984),Jn=n(58496),Vn=n(71252),Hn=n.n(Vn),Kn=n(47332),qn=n.n(Kn),Yn=n(65624),Xn=n.n(Yn),$n=function t(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=0;i<n.length;i++){var o=n[i],a=(o.isReportEntryGroup,o.Key,o.Name),u=o.ViewName,l=o.Items,c=(o.IsDs,o.ZeroShow),s=o.IgnoreTailZero,f=o.dataSource,d=o.bindField,h=o.dsTypeKey,p=o.dataSourceText,v="".concat(r?r+"."+a:a);if(e===tr(f,d))return{dataSource:f,ancestorTitle:v,dataSourceText:p,key:d,dsType:h,title:u||a,ZeroShow:c,IgnoreTailZero:s};var g=t(e,l||[],v);if(g)return g}},tr=function(t,e){var n,r,i=O()(n=O()(r="".concat(t||"")).call(r,t&&e&&"-")).call(n,e||"");if(er(i)){var o,a=i.split("."),u="",l=L()(o=G()(a).call(a,(function(t,e,n){var r;-1!==kn()(e).call(e,"-")&&er(e)?(u=qn()(a).call(a,(function(t,e){return!er(t)&&e>n})),t.push(O()(r="".concat(e.split("-")[0],"-")).call(r,u))):er(e)||t.push(e);return t}),[])).call(o,(function(t){return t!==u}));i=l.join(".")}return i},er=function(t){return"string"==typeof t&&-1!==kn()(t).call(t,"reportEntryGroup")},nr=function t(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e,i=0;i<n.length;i++){var o=n[i],a=(o.Key,o.Name),u=o.Items,l=(o.IsDs,o.dataSource),c=o.bindField,s=o.dsTypeKey,f=o.dataSourceText,d=o.ViewName,h=a;if(0===kn()(r).call(r,h)){var p=r.replace(a,"");if(""!==p){if("."!==p[0])continue;r=p.substring(1)}else r="";if(""===r)return u?null:{dsType:s,dataSource:l,viewText:d||a,key:c,dataSourceText:f};var v=t(r,u);if(v)return v}}},rr=function(t){if(!t)return{isBindField:!1,bindField:t};var e=/^\=\$.?/g.test(t);return{isBindField:e,bindField:e?t.replace(/^\=\$/,""):t}},ir=function(t){var e,n;return G()(e=L()(n=C()(t)).call(n,(function(t){return"undefined"!==t}))).call(e,(function(e,n){return e[n]=t[n],e}),{})},or=function t(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0;r<n.length;r++){var i=n[r],o=(i.Key,i.Name,i.Items),a=(i.IsDs,i.dataSource),u=i.bindField;if(e===tr(a,u))return i;var l=t(e,o||[]);if(l)return l}},ar=function(t,e){var n=t.type,r=t.key,i=$n(r,e);if(i){var o=i.ancestorTitle,a=i.key,u=i.dataSource,l=i.dataSourceText,c=i.title,s=i.dsType,f=i.ZeroShow,d=i.IgnoreTailZero;return"Text"===n?{bindText:"=$".concat(o),bindField:a,dataSource:u,dataSourceText:l,dsType:s,title:c,zeroShow:f,ignoreTailZero:d}:{bindText:"=$".concat(o),bindField:a,dataSource:u,dsType:s,title:c,zeroShow:f,ignoreTailZero:d}}return{}},ur=function t(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=0;r<e.length;r++){var i=e[r];if(n(i))return i;var o=t(i.Items,n);if(o)return o}},lr=function(t){var e=[];return function t(e,n){var r=e.key,i=e.Items,o=e.IsField,a=e.dataSource,u=e.bindField;r=r||tr(a,u),!o&&i&&i.length||n.push(r),i&&Q()(i).call(i,(function(e){return t(e,n)}))}(t,e),e},cr=function(t,e,n){var r=t.findControl(e)||{},i=["Text","Barcode","QRCode","Image"],o=t.findControl(r.parentId)||{};if(null!=r&&r.parentId&&Tn()(i).call(i,r.type)){var a=t.findControl(o.parentId)||{};if(a.type===n)return a.dataSource}else if(o.type===n)return o.dataSource},sr=n(82504),fr=n(74808),dr={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function hr(){var t=(0,H.useState)(null),e=(0,B.c)(t,2),n=e[0],r=e[1],i=(0,H.useState)(dr),o=(0,B.c)(i,2),a=o[0],u=o[1],l=(0,H.useMemo)((function(){return new sr.c((function(t){if(t[0]){var e=t[0].contentRect,n=e.x,r=e.y,i=e.width,o=e.height,a=e.top,l=e.left,c=e.bottom,s=e.right;u({x:n,y:r,width:i,height:o,top:a,left:l,bottom:c,right:s})}}))}),[]);return(0,fr.c)((function(){if(n)return l.observe(n),function(){l.disconnect()}}),[n]),[r,a]}function pr(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=pr(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=pr(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var gr=function t(e,n,r){return G()(e).call(e,(function(e,i){var o=i.Items;return o&&(i=r&&r===i.DsType||!r?vr(vr({},i),{},{Items:t(o,n)}):i),(n(i)||i.Items&&i.Items.length)&&e.push(i),e}),[])},mr=function(t,e){return gr(t,(function(t){var n=t.Type;return n&&n!==e}))},yr=function t(e){return function(n){return G()(n).call(n,(function(n,r){var i=r[e],o=r.Items;return!i&&o&&(r=vr(vr({},r),{},{Items:t(e)(o)})),(i||r.Items&&r.Items.length)&&n.push(r),n}),[])}},Cr=yr("IsDataGridDs"),br=yr("IsSubDataGridDs"),xr=function t(e,n){if(!n)return e;var r=function(t,e){return"string"==typeof t?t===e:!!Qn()(t)&&Tn()(t).call(t,e)},i=G()(e).call(e,(function(e,i){var o=i,a=o.dataSource,u=o.Items;return u&&!r(n,a)&&(i=vr(vr({},i),{},{Items:t(u,n)})),(a&&r(n,a)||i.Items&&i.Items.length)&&e.push(i),e}),[]);return i},wr=function(t,e){return null!=e&&e.length?gr(t,(function(t){var n=t.bindField,r=t.dataSource,i=tr(r,n);return i&&Tn()(e).call(e,i)})):t},Er=["Entry","ReportEntry","Subentry"];function Sr(t,e){return G()(t).call(t,(function(t,n){var r=e===n.dataSource,i=n.Items;return!r&&i&&(n=vr(vr({},n),{},{Items:Sr(i,e)})),(r||n.Items&&n.Items.length)&&t.push(n),t}),[])}var kr=function(t,e){if(function(t,e){if(e=qn()(e).call(e,(function(t){return"Main"===t.DsType})),!e)return;e=e.Items;return function e(n){return qn()(n).call(n,(function(n){return t===n.dataSource||n.Items&&e(n.Items)}))}(e)}(t,e)){var n=[qn()(e).call(e,(function(t){return"Main"===t.DsType}))];Q()(e).call(e,(function(t){return("Ref"===t.DsType||"Custom"===t.DsType)&&n.push(t)})),e=function e(n){var r=G()(n).call(n,(function(n,r){var i=r.Items,o=r.DsType;return Tn()(Er).call(Er,o)||t===r.dataSource||(i?n.push(vr(vr({},r),{},{Items:e(i)})):n.push(r)),t===r.dataSource&&n.push(r),n}),[]);return r}(n)}else e=Sr(e,t);return e};function Ar(t){return function(e){return G()(e).call(e,(function(e,n){var r,i,o=n.DsType&&Tn()(t).call(t,n.DsType);return!o||null!=n&&null!==(r=n.Items)&&void 0!==r&&r.length||e.push(n),o&&(null==n||null===(i=n.Items)||void 0===i?void 0:i.length)>0&&e.push(vr(vr({},n),{},{Items:Ar(t)(n.Items)})),e}),[])}}var Dr=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return qn()(e).call(e,(function(e){return n===e.dataSource||e.Items&&t(e.Items,n)}))},Ir=["controlType","draggable","checkable","meta","definition","onSelect","onCheck","checkedKeys","showDefinitionId","showDataSourceTitle","filterTreeData","emptyNode","onDataChange","scrollToKey","expandedKeys"];function Tr(t,e){var n=void 0!==Gn()&&zn()(t)||t["@@iterator"];if(!n){if(Qn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Br(t,e);var r=Dn()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return On()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Br(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Br(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mr(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Mr(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Mr(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Lr=function(t){var e=t.type,n=t.style,r=void 0===n?{}:n;return e?K().createElement(W.Icon,{prefix:"printdesignericon",type:e,style:r}):K().createElement(W.Icon,{prefix:"printdesignericon",type:"zidingyi",style:r})},Fr=function(t){return t},_r=function(t){var e=t.name,n=t.type,r=t.isDsRoot,i=t.tag,o=void 0===i?{}:i,a=o.Color,u=o.Name;return K().createElement("span",{className:Hn()("kds-tree-node",{"kds-tree-node-tag":r})},K().createElement(Lr,{type:n}),K().createElement("span",{style:{marginLeft:3}},e),u&&K().createElement(W.Tag,{style:{marginLeft:16},type:"attribute",color:a,className:"kds-tree-tag"},u))},Pr=["Sys"],Nr=function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;return L()(i=P()(n).call(n,(function(n){var i,s=n.Name,f=n.Type,d=n.Items,h=n.Key,p=n.DsType,v=n.IsDataGridDs,g=n.IsSubDataGridDs,m=n.Tag,y=(n.IsDs,n.ViewName),C=n.dataSource,b=n.bindField,x=n.Icon,w=d?{children:t(e,d,r,o,!1,p||u,v||l,g||c)}:{},E=y||s;return Rr(Rr({key:tr(C,b),title:K().createElement(_r,{isDsRoot:a,type:x||f,name:r?(a?"Sys"===p:Tn()(Pr).call(Pr,u))?E:O()(i="".concat(E,"(")).call(i,h,")"):E,tag:m}),type:f,dataSource:C,bindField:b,dsType:p||u,isDataGridDs:v||l,isSubDataGridDs:g||c,viewName:y},w),{},{checkable:o&&!(d&&d.length)&&"CardGrid"!==e,selectable:!d&&!o||"CardGrid"===e&&!(d&&d.length),expandOnClickNode:"CardGrid"===e},n)}))).call(i,Boolean)},Or=function(t,e){var n=function t(e,n){return L()(e).call(e,(function(e){var r,i,o;"object"===(0,Jn.c)(e.Name)&&(e.Name=null===(o=e.Name)||void 0===o?void 0:o.zh_CN);if((-1!==(null===(r=e.ViewName||e.Name)||void 0===r?void 0:kn()(r).call(r,n))||kn()(i=e.Key.toLowerCase()).call(i,n)>-1)&&(!e.children||0===e.children.length))return!0;var a=e.children&&t(e.children,n);return(null==a?void 0:a.length)>0?(e.children=a,!0):void 0}))};return P()(t).call(t,(function(t){if(!(null==t?void 0:t.children))return t;var r=n(t.children,e);return Rr(Rr({},t),{},{children:r})}))},jr=function(t){var e=[],n=function t(e,n){var r=e.key,i=e.Items,o=e.dataSource,a=e.bindField;r=r||tr(o,a),n.push(r),i&&Q()(i).call(i,(function(e){return t(e,n)}))};return Q()(t).call(t,(function(t){n(t,e)})),e},Gr=function t(e,n){var r,i=Tr(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.key,u=o.children;if(n===a)return!0;if(u&&u.length){var l=t(u,n);if(l)return l}}}catch(t){i.e(t)}finally{i.f()}return!1};function Ur(t){var e=t.className;return K().createElement("div",{className:"".concat(e,"-empty")},K().createElement("img",{className:"".concat(e,"-empty-img"),src:Pn,width:"168",height:"96",alt:(0,J.getLangMsg)("printd.grid.key0004")}),K().createElement("div",{className:"".concat(e,"-empty-text")},(0,J.getLangMsg)("printd.grid.key0004")))}var zr=(0,H.memo)((function(t){var e=t.controlType,n=t.draggable,r=t.checkable,i=(t.meta,t.definition),o=t.onSelect,a=t.onCheck,u=t.checkedKeys,l=void 0===u?[]:u,c=t.showDefinitionId,s=t.showDataSourceTitle,f=t.filterTreeData,d=void 0===f?Fr:f,h=t.emptyNode,p=t.onDataChange,v=t.scrollToKey,g=t.expandedKeys,m=(0,Wn.c)(t,Ir),y=(0,H.useRef)(null),C=(0,H.useRef)([]),b=(0,H.useState)(""),x=(0,B.c)(b,2),w=x[0],E=x[1],S=(0,H.useState)(!1),k=(0,B.c)(S,2),A=(k[0],k[1],(0,H.useState)([v])),D=(0,B.c)(A,2),I=D[0],T=D[1],M=(0,H.useContext)(J.SelectionContext),R=(0,H.useContext)(J.DataContext),F=(0,H.useState)(""),_=(0,B.c)(F,2),N=(_[0],_[1]),j=(0,H.useContext)(J.GlobalConfigContext).env,G=M.getSelection(),U=(0,H.useState)((function(){return Nr(e,d(i),c,r)})),z=(0,B.c)(U,2),Z=z[0],Q=z[1],V=(0,H.useMemo)((function(){return v&&Gr(Z,v)?{scrollToKey:v}:{}}),[v,Z]),q=(0,H.useState)((function(){var t,e,n=[];m.expandAll?n=jr(Z):n=P()(e=Z||[]).call(e,(function(t){return t.key}));return O()(t=[]).call(t,(0,En.c)(n),(0,En.c)(g||[]))})),X=(0,B.c)(q,2),$=X[0],tt=X[1];(0,H.useEffect)((function(){e&&N(e)}),[e]),(0,H.useEffect)((function(){var t=function(t){var e,n=R.findControl(t)||{},r=R.findControl(n.parentId)||{};if(n&&null!=n&&n.parentId&&Tn()(e=["Text","Barcode","QRCode","Image"]).call(e,n.type)){var i,o=R.findControl(r.parentId)||{},a="DataGrid"===o.type&&Tn()(i=["Detail","Group"]).call(i,r.cellType);return("CardGrid"===o.type||a)&&o.dataSource}var u,l="DataGrid"===r.type&&Tn()(u=["Detail","Group"]).call(u,n.cellType);return("CardGrid"===r.type||l)&&r.dataSource}(G[0]);t&&"SubDataGrid"!==e&&(i=kr(t,i))}),[]),(0,H.useEffect)((function(){Q((function(t){var n,o=Nr(e,d(i),c,r),a=P()(n=L()(o).call(o,(function(e){var n=P()(t).call(t,(function(t){return t.key}));return!Tn()(n).call(n,e.key)}))).call(n,(function(t){return t.key}));return tt((function(t){var e;return O()(e=[]).call(e,(0,En.c)(t),(0,En.c)(a))})),o}))}),[i,r]),(0,H.useEffect)((function(){Q((function(){var t=Nr(e,d(i),c,r),n=Or(t,w);return"CardGrid"!==e&&(n=L()(n).call(n,(function(t){var e;return null==t||null===(e=t.children)||void 0===e?void 0:e.length}))),n}))}),[c]),(0,H.useEffect)((function(){p&&p(Z)}),[Z]),(0,H.useEffect)((function(){I.length&&!v&&T([])}),[G,v]);var et=(0,H.useCallback)((function(t){var e=t.event,n=t.node;if(((null==n?void 0:n.Items)||[]).length)return e.preventDefault();(e=e||window.event).currentTarget.style.backgroundColor="#fff",e.currentTarget.style.color="#000";var r={};for(var i in n)"function"!=typeof n[i]&&"title"!==i&&(r[i]=n[i]);var o={type:"dataSource",data:r,showDataSourceTitle:s};j[J.CONTROL_DRAG_DATA]=o}),[s]),nt=(0,H.useCallback)((function(t){var e=t.event;t.node;(e=e||window.event).currentTarget.style.backgroundColor="",e.currentTarget.style.color=""}),[]),rt=(0,H.useCallback)((function(t){t.Key;var n=t.Items,r=t.key,i=t.DsType,o="print-tree-node";return!(n&&n.length)&&Tn()(r).call(r,".")&&(o+=" print-tree-node-children"),n&&n.length&&(o+=" print-tree-node-parent"),"CardGrid"===e||"Main"!==i&&"Custom"!==i&&"Sys"!==i&&"Ref"!==i||(o+=" print-tree-root"),o}),[Z]),it=hr(),ot=(0,B.c)(it,2),ut=ot[0],lt=ot[1];lt.height,lt.width;return w||null!=Z&&Z.length||!h?K().createElement(K().Fragment,null,K().createElement(W.Input,{style:{marginBottom:12,width:"100%"},ref:y,value:w,placeholder:(0,J.getLangMsg)("printd.components.key0022"),borderType:"bordered",onChange:function(t){var n=t.target.value,o=Nr(e,d(i),c,r);if(n){var a=Or(o,n);"CardGrid"!==e&&(a=L()(a).call(a,(function(t){var e;return null==t||null===(e=t.children)||void 0===e?void 0:e.length}))),w||(C.current=$),Q(a);var u=jr(a);tt(u)}else Y().isEqual(o,Z)||Q(o),tt(C.current);E(n)},allowClear:!0,suffix:K().createElement("div",null,K().createElement(W.Icon,{type:"search",style:{cursor:"pointer"}}))}),!w||null!=Z&&Z.length?K().createElement("div",{className:"kd-datasource-tree",ref:ut},K().createElement("div",{className:"tree-wrap"},K().createElement(W.Tree,(0,at.c)({name:"definition",draggable:!!n,checkable:!!r,setTreeNodeClassName:rt},V,{expandedKeys:$,showIcon:!1,style:{width:"100%"},onDragStart:et,onDragEnd:nt,onExpand:function(t,e){var n,r=e.expanded,i=e.node.key,o=L()(t).call(t,Boolean);o=r?O()(n=[i]).call(n,(0,En.c)(o)):L()(o).call(o,(function(t){return t!==i})),tt(o)},treeData:Z,onSelect:function(t,n){var r=n.checked,i=n.node,a=n.event;T(t),"CardGrid"===e?(i.key=[i.key],o(i,e)):o(r,i,a)},selectedKeys:I,onCheck:a,checkedKeys:l,virtual:!1})))):K().createElement(Ur,{className:"left-datasource"})):h})),Zr=zr;function Qr(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Qr(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Qr(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}function Jr(t){var e=t.className;return K().createElement("div",{className:"".concat(e,"-empty")},K().createElement("img",{className:"".concat(e,"-empty-img"),src:Pn,width:"168",height:"96",alt:(0,J.getLangMsg)("printd.grid.key0004")}),K().createElement("div",{className:"".concat(e,"-empty-text")},(0,J.getLangMsg)("printd.grid.key0004")))}var Vr=function(t){var e=t.visible,n=t.checkable,r=t.meta,i=t.definition,o=t.onSelect,a=t.className,u=t.emptyNode,l=void 0===u?K().createElement(Jr,{className:"left-datasource"}):u,c=t.expandedKeys,s=void 0===c?[]:c,f=t.selectedKey,d=t.filterTreeData,h=t.activedSelectId,p=t.checkedKeys,v=void 0===p?[]:p,g=t.modalTitle,m=t.onCancel,y=(0,H.useState)(!1),C=(0,B.c)(y,2),b=C[0],x=C[1],w=(0,H.useState)(!0),E=(0,B.c)(w,2),S=E[0],k=E[1],A=(0,H.useState)([]),D=(0,B.c)(A,2),I=D[0],T=D[1],M=(0,H.useState)(v),R=(0,B.c)(M,2),F=R[0],_=R[1],N=(0,H.useRef)(null),j=(0,H.useContext)(J.DataContext),G=(0,H.useContext)(J.SelectionContext),U=(0,H.useContext)(J.DataFactoryContext).modelFactory,z=j.getRootId(),Z=(j.findControl(z).language,f||_n({dataContext:j,selectionContext:G,meta:r,activedSelectId:h,modelFactory:U})),Q=(0,H.useCallback)((function(t,e){var n,r,o,a=e.checked,u=e.node,l=(e.event,lr(u)),c=a?O()(n=[]).call(n,(0,En.c)(F),(0,En.c)(l)):L()(F).call(F,(function(t){return!Tn()(l).call(l,t)})),s=L()(r=P()(o=L()(c).call(c,Boolean)).call(o,(function(t){return Wr({key:t},or(t,i))}))).call(r,(function(t){var e=t.dataSource,n=t.Key,r=t.Items;return!r||!r.length||!(Ln()(e).call(e,n)||r&&r.length)})),f=P()(s).call(s,(function(t){return t.key}));_(f),T(s)}),[F,_]);(0,H.useEffect)((function(){if(e){_(v);var t=P()(v).call(v,(function(t){return Wr({key:t},or(t,i))}));T(t)}}),[e]);var V=K().createElement(K().Fragment,null,!S&&K().createElement(W.Checkbox,{className:"".concat(a,"-modal-footer-checkbox"),checked:b,onChange:function(t){var e=!!t.target.checked;x(e)}},(0,J.getLangMsg)("printd.grid.key0101")),K().createElement("div",{className:"".concat(a,"-modal-footer-btns")},K().createElement(W.Button,{onClick:m,type:"second",className:"".concat(a,"-modal-cancel-btn")},(0,J.getLangMsg)("printd.components.key0011")),K().createElement(W.Button,{onClick:function(){if(n)o(I);else{var t=N.current;o(t)}},type:"primary",className:"".concat(a,"-modal-ok-btn")},(0,J.getLangMsg)("printd.components.key0012"))));return K().createElement(W.Modal,{body:K().createElement(Zr,{checkable:!!n,scrollToKey:Z,meta:r,definition:i,filterTreeData:d,onSelect:function(t,e,n){N.current=e},showDefinitionId:b,emptyNode:l,onDataChange:function(t){var e=!(t&&t.length);k(e)},expandedKeys:s,onCheck:Q,checkedKeys:F}),bodyStyle:{justifyContent:"start",alignItems:"start",overflowX:"hidden",overflowY:"auto",flexDirection:"column"},titleIcon:null,className:"".concat(a,"-modal"),footer:V,maskClosable:!1,width:512,height:614,title:g||(0,J.getLangMsg)("printd.components.key0001"),closable:!0,destroyOnClose:!0,onCancel:m,onOk:m,mask:!0,visible:e})},Hr=n(52484),Kr=n(71536),qr=n.n(Kr),Yr=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i=t.className,o=t.children,a=t.tipText,u=(0,H.useState)(!1),l=(0,B.c)(u,2),c=l[0],s=l[1],f=(0,H.useState)(!1),d=(0,B.c)(f,2),h=d[0],p=d[1],v=(0,H.useState)(0)[1];(0,H.useImperativeHandle)(e,(function(){return{show:function(){!c&&s(!0)},hide:function(){c&&s(!1)}}}),[c]),(0,H.useEffect)((function(){var t=function(){v((function(t){return t+1}))};return window.addEventListener("scroll",t),window.addEventListener("resize",t),function(){window.removeEventListener("scroll",t),window.addEventListener("resize",t)}}),[c]);var g=(0,H.useRef)(0),m=(0,H.useRef)(0),y=(0,H.useRef)(null),C=(0,H.useRef)(null),b=K().cloneElement(o,{ref:y});(0,H.useEffect)((function(){p(!0)}),[o]);var x,w=(0,Hr.c)(y,{rootMargin:"0px",threshold:1});(x=null==w?void 0:w.isIntersecting)&&c&&lt()((function(){C.current&&(C.current.style.display=x?"flex":"none")}));var E=(0,H.useRef)(null),S=(0,H.useRef)(null),k=function t(){if(c&&!S.current){if(C.current&&y.current){var e,n,r=null!==(e=null===(n=y.current)||void 0===n?void 0:n.getBoundingClientRect())&&void 0!==e?e:{left:0,top:0};!function(t,e){t-1===g.current&&m.current===e+35||(g.current=t-1,m.current=e+35,C.current&&(C.current.style.left="".concat(t-1,"px"),C.current.style.top="".concat(e+35,"px")))}(r.left,r.top)}else J.console.error("miss errorDivRef or inputRef",C,y);window.cancelAnimationFrame(E.current),E.current=window.requestAnimationFrame((function(){t()}))}};0!==(null==w?void 0:w.intersectionRatio)&&lt()((function(){window.cancelAnimationFrame(E.current),k()}),0),(0,H.useEffect)((function(){return function(){window.cancelAnimationFrame(E.current),S.current=!0}}),[]);var A=null!==(n=null===(r=y.current)||void 0===r?void 0:r.getBoundingClientRect())&&void 0!==n?n:{left:0,top:0},D=A.left,I=A.top;return h&&K().createElement(K().Fragment,null,b,y.current&&c&&qr().createPortal(K().createElement("div",{ref:C,className:"".concat(i,"-tooltip"),style:{display:c?"flex":"none",left:D-1,top:I+35}},a||(0,J.getLangMsg)("printd.grid.key0005")),document.body))}))),Xr=Yr,$r=n(2992),ti=n.n($r),ei=n(85344),ni=n.n(ei),ri=n(89472),ii=n.n(ri),oi=n(96416),ai=n.n(oi),ui=n(30479),li=n.n(ui),ci=n(11872),si=n.n(ci),fi=n(59312),di=n.n(fi),hi=n(53684),pi=n.n(hi),vi=n(30856),gi=n.n(vi),mi=n(83789),yi=ni().mark(Na),Ci=ni().mark(Za),bi=ni().mark(Xa);function xi(t,e){var n=void 0!==Gn()&&zn()(t)||t["@@iterator"];if(!n){if(Qn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return wi(t,e);var r=Dn()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return On()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function wi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ei=function(t,e){var n=t.current,r=t.affinity;if(null!=n){var i=Li.transform(n,e,{affinity:r});t.current=i,null==i&&t.unref()}},Si=function(t,e){var n=t.current,r=t.affinity;if(null!=n){var i=ro.transform(n,e,{affinity:r});t.current=i,null==i&&t.unref()}},ki=function(t,e){var n=t.current,r=t.affinity;if(null!=n){var i=zi.transform(n,e,{affinity:r});t.current=i,null==i&&t.unref()}},Ai=new(ii()),Di=new(ii()),Ii=new(ii()),Ti=new(ii()),Bi=new(ii()),Mi=new(ii()),Ri=new(ii()),Li={ancestors:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ai()(e),r=void 0!==n&&n,i=Li.levels(t,e);return i=r?Dn()(i).call(i,1):Dn()(i).call(i,0,-1)},common:function(t,e){for(var n=[],r=0;r<t.length&&r<e.length;r++){var i=t[r];if(i!==e[r])break;n.push(i)}return n},compare:function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return 0},endsAfter:function(t,e){var n=t.length-1,r=Dn()(t).call(t,0,n),i=Dn()(e).call(e,0,n),o=t[n],a=e[n];return Li.equals(r,i)&&o>a},endsAt:function(t,e){var n=t.length,r=Dn()(t).call(t,0,n),i=Dn()(e).call(e,0,n);return Li.equals(r,i)},endsBefore:function(t,e){var n=t.length-1,r=Dn()(t).call(t,0,n),i=Dn()(e).call(e,0,n),o=t[n],a=e[n];return Li.equals(r,i)&&o<a},equals:function(t,e){return t.length===e.length&&li()(t).call(t,(function(t,n){return t===e[n]}))},hasPrevious:function(t){return t[t.length-1]>0},isAfter:function(t,e){return 1===Li.compare(t,e)},isAncestor:function(t,e){return t.length<e.length&&0===Li.compare(t,e)},isBefore:function(t,e){return-1===Li.compare(t,e)},isChild:function(t,e){return t.length===e.length+1&&0===Li.compare(t,e)},isCommon:function(t,e){return t.length<=e.length&&0===Li.compare(t,e)},isDescendant:function(t,e){return t.length>e.length&&0===Li.compare(t,e)},isParent:function(t,e){return t.length+1===e.length&&0===Li.compare(t,e)},isPath:function(t){return Qn()(t)&&(0===t.length||"number"==typeof t[0])},isSibling:function(t,e){if(t.length!==e.length)return!1;var n=Dn()(t).call(t,0,-1),r=Dn()(e).call(e,0,-1);return t[t.length-1]!==e[e.length-1]&&Li.equals(n,r)},levels:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ai()(e),r=void 0!==n&&n,i=[],o=0;o<=t.length;o++)i.push(Dn()(t).call(t,0,o));return r&&ai()(i).call(i),i},next:function(t){var e;if(0===t.length)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var n=t[t.length-1];return O()(e=Dn()(t).call(t,0,-1)).call(e,n+1)},operationCanTransformPath:function(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent:function(t){if(0===t.length)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return Dn()(t).call(t,0,-1)},previous:function(t){var e;if(0===t.length)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var n=t[t.length-1];if(n<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return O()(e=Dn()(t).call(t,0,-1)).call(e,n-1)},relative:function(t,e){var n;if(!Li.isAncestor(e,t)&&!Li.equals(t,e))throw new Error(O()(n="Cannot get the relative path of [".concat(t,"] inside ancestor [")).call(n,e,"], because it is not above or equal to the path."));return Dn()(t).call(t,e.length)},transform:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return null;var r=(0,En.c)(t),i=n.affinity,o=void 0===i?"forward":i;if(0===t.length)return r;switch(e.type){case"insert_node":var a=e.path;(Li.equals(a,r)||Li.endsBefore(a,r)||Li.isAncestor(a,r))&&(r[a.length-1]+=1);break;case"remove_node":var u=e.path;if(Li.equals(u,r)||Li.isAncestor(u,r))return null;Li.endsBefore(u,r)&&(r[u.length-1]-=1);break;case"merge_node":var l=e.path,c=e.position;Li.equals(l,r)||Li.endsBefore(l,r)?r[l.length-1]-=1:Li.isAncestor(l,r)&&(r[l.length-1]-=1,r[l.length]+=c);break;case"split_node":var s=e.path,f=e.position;if(Li.equals(s,r)){if("forward"===o)r[r.length-1]+=1;else if("backward"!==o)return null}else Li.endsBefore(s,r)?r[s.length-1]+=1:Li.isAncestor(s,r)&&t[s.length]>=f&&(r[s.length-1]+=1,r[s.length]-=f);break;case"move_node":var d=e.path,h=e.newPath;if(Li.equals(d,h))return r;if(Li.isAncestor(d,r)||Li.equals(d,r)){var p=Dn()(h).call(h);return Li.endsBefore(d,h)&&d.length<h.length&&(p[d.length-1]-=1),O()(p).call(p,Dn()(r).call(r,d.length))}Li.isSibling(d,h)&&(Li.isAncestor(h,r)||Li.equals(h,r))?Li.endsBefore(d,r)?r[d.length-1]-=1:r[d.length-1]+=1:Li.endsBefore(h,r)||Li.equals(h,r)||Li.isAncestor(h,r)?(Li.endsBefore(d,r)&&(r[d.length-1]-=1),r[h.length-1]+=1):Li.endsBefore(d,r)&&(Li.equals(h,r)&&(r[h.length-1]+=1),r[d.length-1]-=1)}return r}};function Fi(t,e,n){return e in t?T()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _i(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=_i(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=_i(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var Ni={transform:function(t,e){t.children=(0,mi.eQ)(t.children);var n=t.selection&&(0,mi.eQ)(t.selection);try{n=function(t,e,n){switch(n.type){case"insert_node":var r,i=n.path,o=n.node,a=Hi.parent(t,i),u=i[i.length-1];if(u>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(i,"] because the destination is past the end of the node."));if(si()(r=a.children).call(r,u,0,o),e){var l,c=xi(zi.points(e));try{for(c.s();!(l=c.n()).done;){var s=(0,B.c)(l.value,2),f=s[0];e[s[1]]=ro.transform(f,n)}}catch(t){c.e(t)}finally{c.f()}}break;case"insert_text":var d,h,p=n.path,v=n.offset,g=n.text;if(0===g.length)break;var m=Hi.leaf(t,p),y=Dn()(d=m.text).call(d,0,v),C=Dn()(h=m.text).call(h,v);if(m.text=y+g+C,e){var b,x=xi(zi.points(e));try{for(x.s();!(b=x.n()).done;){var w=(0,B.c)(b.value,2),E=w[0];e[w[1]]=ro.transform(E,n)}}catch(t){x.e(t)}finally{x.f()}}break;case"merge_node":var S,k=n.path,A=Hi.get(t,k),D=Li.previous(k),I=Hi.get(t,D),T=Hi.parent(t,k),M=k[k.length-1];if(fo.isText(A)&&fo.isText(I))I.text+=A.text;else{var R,L,F;if(fo.isText(A)||fo.isText(I))throw new Error(O()(R=O()(L='Cannot apply a "merge_node" operation at path ['.concat(k,"] to nodes of different interfaces: ")).call(L,oo.stringify(A)," ")).call(R,oo.stringify(I)));(F=I.children).push.apply(F,(0,En.c)(A.children))}if(si()(S=T.children).call(S,M,1),e){var _,P=xi(zi.points(e));try{for(P.s();!(_=P.n()).done;){var N=(0,B.c)(_.value,2),j=N[0];e[N[1]]=ro.transform(j,n)}}catch(t){P.e(t)}finally{P.f()}}break;case"move_node":var G,U,z,Z=n.path,Q=n.newPath;if(Li.isAncestor(Z,Q))throw new Error(O()(z="Cannot move a path [".concat(Z,"] to new path [")).call(z,Q,"] because the destination is inside itself."));var W=Hi.get(t,Z),J=Hi.parent(t,Z),V=Z[Z.length-1];si()(G=J.children).call(G,V,1);var H=Li.transform(Z,n),K=Hi.get(t,Li.parent(H)),q=H[H.length-1];if(si()(U=K.children).call(U,q,0,W),e){var Y,X=xi(zi.points(e));try{for(X.s();!(Y=X.n()).done;){var $=(0,B.c)(Y.value,2),tt=$[0];e[$[1]]=ro.transform(tt,n)}}catch(t){X.e(t)}finally{X.f()}}break;case"remove_node":var et,nt=n.path,rt=nt[nt.length-1],it=Hi.parent(t,nt);if(si()(et=it.children).call(et,rt,1),e){var ot,at=xi(zi.points(e));try{for(at.s();!(ot=at.n()).done;){var ut=(0,B.c)(ot.value,2),lt=ut[0],ct=ut[1],st=ro.transform(lt,n);if(null!=e&&null!=st)e[ct]=st;else{var ft,dt=void 0,ht=void 0,pt=xi(Hi.texts(t));try{for(pt.s();!(ft=pt.n()).done;){var vt=(0,B.c)(ft.value,2),gt=vt[0],mt=vt[1];if(-1!==Li.compare(mt,nt)){ht=[gt,mt];break}dt=[gt,mt]}}catch(t){pt.e(t)}finally{pt.f()}var yt=!1;dt&&ht&&(yt=Li.equals(ht[1],nt)?!Li.hasPrevious(ht[1]):Li.common(dt[1],nt).length<Li.common(ht[1],nt).length),dt&&!yt?(lt.path=dt[1],lt.offset=dt[0].text.length):ht?(lt.path=ht[1],lt.offset=0):e=null}}}catch(t){at.e(t)}finally{at.f()}}break;case"remove_text":var Ct,bt,xt=n.path,wt=n.offset,Et=n.text;if(0===Et.length)break;var St=Hi.leaf(t,xt),kt=Dn()(Ct=St.text).call(Ct,0,wt),At=Dn()(bt=St.text).call(bt,wt+Et.length);if(St.text=kt+At,e){var Dt,It=xi(zi.points(e));try{for(It.s();!(Dt=It.n()).done;){var Tt=(0,B.c)(Dt.value,2),Bt=Tt[0];e[Tt[1]]=ro.transform(Bt,n)}}catch(t){It.e(t)}finally{It.f()}}break;case"set_node":var Mt=n.path,Rt=n.properties,Lt=n.newProperties;if(0===Mt.length)throw new Error("Cannot set properties on the root node!");var Ft=Hi.get(t,Mt);for(var _t in Lt){if("children"===_t||"text"===_t)throw new Error('Cannot set the "'.concat(_t,'" property of nodes!'));var Pt=Lt[_t];null==Pt?delete Ft[_t]:Ft[_t]=Pt}for(var Nt in Rt)Lt.hasOwnProperty(Nt)||delete Ft[Nt];break;case"set_selection":var Ot=n.newProperties;if(null==Ot)e=Ot;else{if(null==e){if(!zi.isRange(Ot))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(oo.stringify(Ot)," when there is no current selection."));e=Pi({},Ot)}for(var jt in Ot){var Gt=Ot[jt];if(null==Gt){if("anchor"===jt||"focus"===jt)throw new Error('Cannot remove the "'.concat(jt,'" selection property'));delete e[jt]}else e[jt]=Gt}}break;case"split_node":var Ut,zt=n.path,Zt=n.position,Qt=n.properties;if(0===zt.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(zt,"] because the root node cannot be split."));var Wt,Jt=Hi.get(t,zt),Vt=Hi.parent(t,zt),Ht=zt[zt.length-1];if(fo.isText(Jt)){var Kt,qt,Yt=Dn()(Kt=Jt.text).call(Kt,0,Zt),Xt=Dn()(qt=Jt.text).call(qt,Zt);Jt.text=Yt,Wt=Pi(Pi({},Qt),{},{text:Xt})}else{var $t,te,ee=Dn()($t=Jt.children).call($t,0,Zt),ne=Dn()(te=Jt.children).call(te,Zt);Jt.children=ee,Wt=Pi(Pi({},Qt),{},{children:ne})}if(si()(Ut=Vt.children).call(Ut,Ht+1,0,Wt),e){var re,ie=xi(zi.points(e));try{for(ie.s();!(re=ie.n()).done;){var oe=(0,B.c)(re.value,2),ae=oe[0];e[oe[1]]=ro.transform(ae,n)}}catch(t){ie.e(t)}finally{ie.f()}}}return e}(t,n,e)}finally{t.children=(0,mi.o7)(t.children),t.selection=n?(0,mi.Wl)(n)?(0,mi.o7)(n):n:null}}},Oi=function t(e,n){for(var r in e){var i=e[r],o=n[r];if(gi()(i)&&gi()(o)){if(!t(i,o))return!1}else if(Qn()(i)&&Qn()(o)){if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(i[a]!==o[a])return!1}else if(i!==o)return!1}for(var u in n)if(void 0===e[u]&&void 0!==n[u])return!1;return!0};function ji(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=C()(t);for(r=0;r<o.length;r++)n=o[r],kn()(e).call(e,n)>=0||(i[n]=t[n]);return i}(t,e);if(x()){var o=x()(t);for(r=0;r<o.length;r++)n=o[r],kn()(e).call(e,n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Gi=["anchor","focus"];function Ui(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}var zi={edges:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ai()(e),r=void 0!==n&&n,i=t.anchor,o=t.focus;return zi.isBackward(t)===r?[i,o]:[o,i]},end:function(t){var e=zi.edges(t),n=(0,B.c)(e,2)[1];return n},equals:function(t,e){return ro.equals(t.anchor,e.anchor)&&ro.equals(t.focus,e.focus)},includes:function(t,e){if(zi.isRange(e)){if(Tn()(zi).call(zi,t,e.anchor)||Tn()(zi).call(zi,t,e.focus))return!0;var n=zi.edges(t),r=(0,B.c)(n,2),i=r[0],o=r[1],a=zi.edges(e),u=(0,B.c)(a,2),l=u[0],c=u[1];return ro.isBefore(i,l)&&ro.isAfter(o,c)}var s=zi.edges(t),f=(0,B.c)(s,2),d=f[0],h=f[1],p=!1,v=!1;return ro.isPoint(e)?(p=ro.compare(e,d)>=0,v=ro.compare(e,h)<=0):(p=Li.compare(e,d.path)>=0,v=Li.compare(e,h.path)<=0),p&&v},intersection:function(t,e){var n=ji(t,Gi),r=zi.edges(t),i=(0,B.c)(r,2),o=i[0],a=i[1],u=zi.edges(e),l=(0,B.c)(u,2),c=l[0],s=l[1],f=ro.isBefore(o,c)?c:o,d=ro.isBefore(a,s)?a:s;return ro.isBefore(d,f)?null:function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=Ui(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=Ui(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}({anchor:f,focus:d},n)},isBackward:function(t){var e=t.anchor,n=t.focus;return ro.isAfter(e,n)},isCollapsed:function(t){var e=t.anchor,n=t.focus;return ro.equals(e,n)},isExpanded:function(t){return!zi.isCollapsed(t)},isForward:function(t){return!zi.isBackward(t)},isRange:function(t){return gi()(t)&&ro.isPoint(t.anchor)&&ro.isPoint(t.focus)},points:ni().mark((function t(e){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,[e.anchor,"anchor"];case 2:return t.next=4,[e.focus,"focus"];case 4:case"end":return t.stop()}}),t)})),start:function(t){var e=zi.edges(t),n=(0,B.c)(e,1)[0];return n},transform:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,mi.Ut)(t,(function(t){if(null===t)return null;var r,i,o=n.affinity,a=void 0===o?"inward":o;if("inward"===a){var u=zi.isCollapsed(t);zi.isForward(t)?(r="forward",i=u?r:"backward"):(r="backward",i=u?r:"forward")}else"outward"===a?zi.isForward(t)?(r="backward",i="forward"):(r="forward",i="backward"):(r=a,i=a);var l=ro.transform(t.anchor,e,{affinity:r}),c=ro.transform(t.focus,e,{affinity:i});if(!l||!c)return null;t.anchor=l,t.focus=c}))}},Zi=function(t){return gi()(t)&&Hi.isNodeList(t.children)&&!$i.isEditor(t)},Qi={isAncestor:function(t){return gi()(t)&&Hi.isNodeList(t.children)},isElement:Zi,isElementList:function(t){return Qn()(t)&&li()(t).call(t,(function(t){return Qi.isElement(t)}))},isElementProps:function(t){return void 0!==t.children},isElementType:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return Zi(t)&&t[n]===e},matches:function(t,e){for(var n in e)if("children"!==n&&t[n]!==e[n])return!1;return!0}},Wi=["children"],Ji=["text"],Vi=new(ii()),Hi={ancestor:function(t,e){var n,r=Hi.get(t,e);if(fo.isText(r))throw new Error(O()(n="Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ")).call(n,oo.stringify(r)));return r},ancestors:ni().mark((function t(e,n){var r,i,o,a,u,l,c=arguments;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=c.length>2&&void 0!==c[2]?c[2]:{},i=xi(Li.ancestors(n,r)),t.prev=2,i.s();case 4:if((o=i.n()).done){t.next=12;break}return a=o.value,u=Hi.ancestor(e,a),l=[u,a],t.next=10,l;case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),i.e(t.t0);case 17:return t.prev=17,i.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[2,14,17,20]])})),child:function(t,e){if(fo.isText(t))throw new Error("Cannot get the child of a text node: ".concat(oo.stringify(t)));var n,r=t.children[e];if(null==r)throw new Error(O()(n="Cannot get child at index `".concat(e,"` in node: ")).call(n,oo.stringify(t)));return r},children:ni().mark((function(t,e){var n,r,i,o,a,u,l,c,s=arguments;return ni().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:n=s.length>2&&void 0!==s[2]?s[2]:{},r=ai()(n),i=void 0!==r&&r,o=Hi.ancestor(t,e),a=o.children,u=i?a.length-1:0;case 5:if(!(i?u>=0:u<a.length)){f.next=13;break}return l=Hi.child(o,u),c=O()(e).call(e,u),f.next=10,[l,c];case 10:u=i?u-1:u+1,f.next=5;break;case 13:case"end":return f.stop()}}),a)})),common:function(t,e,n){var r=Li.common(e,n);return[Hi.get(t,r),r]},descendant:function(t,e){var n,r=Hi.get(t,e);if($i.isEditor(r))throw new Error(O()(n="Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ")).call(n,oo.stringify(r)));return r},descendants:ni().mark((function t(e){var n,r,i,o,a,u,l=arguments;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=xi(Hi.nodes(e,n)),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=11;break}if(o=(0,B.c)(i.value,2),a=o[0],0===(u=o[1]).length){t.next=9;break}return t.next=9,[a,u];case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})),elements:ni().mark((function t(e){var n,r,i,o,a,u,l=arguments;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=xi(Hi.nodes(e,n)),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=11;break}if(o=(0,B.c)(i.value,2),a=o[0],u=o[1],!Qi.isElement(a)){t.next=9;break}return t.next=9,[a,u];case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})),extractProps:function(t){return Qi.isAncestor(t)?ji(t,Wi):ji(t,Ji)},first:function(t,e){for(var n=Dn()(e).call(e),r=Hi.get(t,n);r&&!fo.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment:function(t,e){if(fo.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(oo.stringify(t)));var n=(0,mi.Ut)({children:t.children},(function(t){var n,r=zi.edges(e),i=(0,B.c)(r,2),o=i[0],a=i[1],u=Hi.nodes(t,{reverse:!0,pass:function(t){var n=(0,B.c)(t,2)[1];return!Tn()(zi).call(zi,e,n)}}),l=xi(u);try{for(l.s();!(n=l.n()).done;){var c=(0,B.c)(n.value,2)[1];if(!Tn()(zi).call(zi,e,c)){var s,f=Hi.parent(t,c),d=c[c.length-1];si()(s=f.children).call(s,d,1)}if(Li.equals(c,a.path)){var h,p=Hi.leaf(t,c);p.text=Dn()(h=p.text).call(h,0,a.offset)}if(Li.equals(c,o.path)){var v,g=Hi.leaf(t,c);g.text=Dn()(v=g.text).call(v,o.offset)}}}catch(t){l.e(t)}finally{l.f()}$i.isEditor(t)&&(t.selection=null)}));return n.children},get:function(t,e){for(var n=t,r=0;r<e.length;r++){var i,o=e[r];if(fo.isText(n)||!n.children[o])throw new Error(O()(i="Cannot find a descendant at path [".concat(e,"] in node: ")).call(i,oo.stringify(t)));n=n.children[o]}return n},has:function(t,e){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(fo.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode:function(t){return fo.isText(t)||Qi.isElement(t)||$i.isEditor(t)},isNodeList:function(t){if(!Qn()(t))return!1;var e=Vi.get(t);if(void 0!==e)return e;var n=li()(t).call(t,(function(t){return Hi.isNode(t)}));return Vi.set(t,n),n},last:function(t,e){for(var n=Dn()(e).call(e),r=Hi.get(t,n);r&&!fo.isText(r)&&0!==r.children.length;){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf:function(t,e){var n,r=Hi.get(t,e);if(!fo.isText(r))throw new Error(O()(n="Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ")).call(n,oo.stringify(r)));return r},levels:ni().mark((function t(e,n){var r,i,o,a,u,l=arguments;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=l.length>2&&void 0!==l[2]?l[2]:{},i=xi(Li.levels(n,r)),t.prev=2,i.s();case 4:if((o=i.n()).done){t.next=11;break}return a=o.value,u=Hi.get(e,a),t.next=9,[u,a];case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),i.e(t.t0);case 16:return t.prev=16,i.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})),matches:function(t,e){return Qi.isElement(t)&&Qi.isElementProps(e)&&Qi.matches(t,e)||fo.isText(t)&&fo.isTextProps(e)&&fo.matches(t,e)},nodes:ni().mark((function t(e){var n,r,i,o,a,u,l,c,s,f,d,h,p,v=arguments;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(n=v.length>1&&void 0!==v[1]?v[1]:{}).pass,i=ai()(n),o=void 0!==i&&i,a=n.from,u=void 0===a?[]:a,l=n.to,c=new(di()),s=[],f=e;case 6:if(!l||!(o?Li.isBefore(s,l):Li.isAfter(s,l))){t.next=9;break}return t.abrupt("break",37);case 9:if(c.has(f)){t.next=12;break}return t.next=12,[f,s];case 12:if(c.has(f)||fo.isText(f)||0===f.children.length||null!=r&&!1!==r([f,s])){t.next=19;break}return c.add(f),d=o?f.children.length-1:0,Li.isAncestor(s,u)&&(d=u[s.length]),s=O()(s).call(s,d),f=Hi.get(e,s),t.abrupt("continue",6);case 19:if(0!==s.length){t.next=21;break}return t.abrupt("break",37);case 21:if(o){t.next=27;break}if(h=Li.next(s),!Hi.has(e,h)){t.next=27;break}return s=h,f=Hi.get(e,s),t.abrupt("continue",6);case 27:if(!o||0===s[s.length-1]){t.next=32;break}return p=Li.previous(s),s=p,f=Hi.get(e,s),t.abrupt("continue",6);case 32:s=Li.parent(s),f=Hi.get(e,s),c.add(f),t.next=6;break;case 37:case"end":return t.stop()}}),t)})),parent:function(t,e){var n=Li.parent(e),r=Hi.get(t,n);if(fo.isText(r))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return r},string:function(t){return fo.isText(t)?t.text:P()(e=t.children).call(e,Hi.string).join("");var e},texts:ni().mark((function t(e){var n,r,i,o,a,u,l=arguments;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=xi(Hi.nodes(e,n)),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=11;break}if(o=(0,B.c)(i.value,2),a=o[0],u=o[1],!fo.isText(a)){t.next=9;break}return t.next=9,[a,u];case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])}))};function Ki(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=Ki(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=Ki(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var Yi={isNodeOperation:function(t){var e;return Yi.isOperation(t)&&Ln()(e=t.type).call(e,"_node")},isOperation:function(t){if(!gi()(t))return!1;switch(t.type){case"insert_node":case"remove_node":return Li.isPath(t.path)&&Hi.isNode(t.node);case"insert_text":case"remove_text":return"number"==typeof t.offset&&"string"==typeof t.text&&Li.isPath(t.path);case"merge_node":return"number"==typeof t.position&&Li.isPath(t.path)&&gi()(t.properties);case"move_node":return Li.isPath(t.path)&&Li.isPath(t.newPath);case"set_node":return Li.isPath(t.path)&&gi()(t.properties)&&gi()(t.newProperties);case"set_selection":return null===t.properties&&zi.isRange(t.newProperties)||null===t.newProperties&&zi.isRange(t.properties)||gi()(t.properties)&&gi()(t.newProperties);case"split_node":return Li.isPath(t.path)&&"number"==typeof t.position&&gi()(t.properties);default:return!1}},isOperationList:function(t){return Qn()(t)&&li()(t).call(t,(function(t){return Yi.isOperation(t)}))},isSelectionOperation:function(t){var e;return Yi.isOperation(t)&&Ln()(e=t.type).call(e,"_selection")},isTextOperation:function(t){var e;return Yi.isOperation(t)&&Ln()(e=t.type).call(e,"_text")},inverse:function(t){switch(t.type){case"insert_node":return qi(qi({},t),{},{type:"remove_node"});case"insert_text":return qi(qi({},t),{},{type:"remove_text"});case"merge_node":return qi(qi({},t),{},{type:"split_node",path:Li.previous(t.path)});case"move_node":var e=t.newPath,n=t.path;if(Li.equals(e,n))return t;if(Li.isSibling(n,e))return qi(qi({},t),{},{path:e,newPath:n});var r=Li.transform(n,t),i=Li.transform(Li.next(n),t);return qi(qi({},t),{},{path:r,newPath:i});case"remove_node":return qi(qi({},t),{},{type:"insert_node"});case"remove_text":return qi(qi({},t),{},{type:"insert_text"});case"set_node":var o=t.properties,a=t.newProperties;return qi(qi({},t),{},{properties:a,newProperties:o});case"set_selection":var u=t.properties,l=t.newProperties;return qi(qi({},t),{},null==u?{properties:l,newProperties:null}:null==l?{properties:null,newProperties:u}:{properties:l,newProperties:u});case"split_node":return qi(qi({},t),{},{type:"merge_node",path:Li.next(t.path)})}}},Xi=new(ii()),$i={above:function(t,e){return t.above(e)},addMark:function(t,e,n){t.addMark(e,n)},after:function(t,e,n){return t.after(e,n)},before:function(t,e,n){return t.before(e,n)},deleteBackward:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).unit,n=void 0===e?"character":e;t.deleteBackward(n)},deleteForward:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).unit,n=void 0===e?"character":e;t.deleteForward(n)},deleteFragment:function(t,e){t.deleteFragment(e)},edges:function(t,e){return t.edges(e)},elementReadOnly:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.elementReadOnly(e)},end:function(t,e){return t.end(e)},first:function(t,e){return t.first(e)},fragment:function(t,e){return t.fragment(e)},hasBlocks:function(t,e){return t.hasBlocks(e)},hasInlines:function(t,e){return t.hasInlines(e)},hasPath:function(t,e){return t.hasPath(e)},hasTexts:function(t,e){return t.hasTexts(e)},insertBreak:function(t){t.insertBreak()},insertFragment:function(t,e,n){t.insertFragment(e,n)},insertNode:function(t,e){t.insertNode(e)},insertSoftBreak:function(t){t.insertSoftBreak()},insertText:function(t,e){t.insertText(e)},isBlock:function(t,e){return t.isBlock(e)},isEdge:function(t,e,n){return t.isEdge(e,n)},isEditor:function(t){return function(t){var e=Xi.get(t);if(void 0!==e)return e;if(!gi()(t))return!1;var n="function"==typeof t.addMark&&"function"==typeof t.apply&&"function"==typeof t.deleteFragment&&"function"==typeof t.insertBreak&&"function"==typeof t.insertSoftBreak&&"function"==typeof t.insertFragment&&"function"==typeof t.insertNode&&"function"==typeof t.insertText&&"function"==typeof t.isElementReadOnly&&"function"==typeof t.isInline&&"function"==typeof t.isSelectable&&"function"==typeof t.isVoid&&"function"==typeof t.normalizeNode&&"function"==typeof t.onChange&&"function"==typeof t.removeMark&&"function"==typeof t.getDirtyPaths&&(null===t.marks||gi()(t.marks))&&(null===t.selection||zi.isRange(t.selection))&&Hi.isNodeList(t.children)&&Yi.isOperationList(t.operations);return Xi.set(t,n),n}(t)},isElementReadOnly:function(t,e){return t.isElementReadOnly(e)},isEmpty:function(t,e){return t.isEmpty(e)},isEnd:function(t,e,n){return t.isEnd(e,n)},isInline:function(t,e){return t.isInline(e)},isNormalizing:function(t){return t.isNormalizing()},isSelectable:function(t,e){return t.isSelectable(e)},isStart:function(t,e,n){return t.isStart(e,n)},isVoid:function(t,e){return t.isVoid(e)},last:function(t,e){return t.last(e)},leaf:function(t,e,n){return t.leaf(e,n)},levels:function(t,e){return t.levels(e)},marks:function(t){return t.getMarks()},next:function(t,e){return t.next(e)},node:function(t,e,n){return t.node(e,n)},nodes:function(t,e){return t.nodes(e)},normalize:function(t,e){t.normalize(e)},parent:function(t,e,n){return t.parent(e,n)},path:function(t,e,n){return t.path(e,n)},pathRef:function(t,e,n){return t.pathRef(e,n)},pathRefs:function(t){return t.pathRefs()},point:function(t,e,n){return t.point(e,n)},pointRef:function(t,e,n){return t.pointRef(e,n)},pointRefs:function(t){return t.pointRefs()},positions:function(t,e){return t.positions(e)},previous:function(t,e){return t.previous(e)},range:function(t,e,n){return t.range(e,n)},rangeRef:function(t,e,n){return t.rangeRef(e,n)},rangeRefs:function(t){return t.rangeRefs()},removeMark:function(t,e){t.removeMark(e)},setNormalizing:function(t,e){t.setNormalizing(e)},start:function(t,e){return t.start(e)},string:function(t,e,n){return t.string(e,n)},unhangRange:function(t,e,n){return t.unhangRange(e,n)},void:function(t,e){return t.void(e)},withoutNormalizing:function(t,e){t.withoutNormalizing(e)}},to={isSpan:function(t){return Qn()(t)&&2===t.length&&li()(t).call(t,Li.isPath)}};function eo(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=eo(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=eo(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var ro={compare:function(t,e){var n=Li.compare(t.path,e.path);return 0===n?t.offset<e.offset?-1:t.offset>e.offset?1:0:n},isAfter:function(t,e){return 1===ro.compare(t,e)},isBefore:function(t,e){return-1===ro.compare(t,e)},equals:function(t,e){return t.offset===e.offset&&Li.equals(t.path,e.path)},isPoint:function(t){return gi()(t)&&"number"==typeof t.offset&&Li.isPath(t.path)},transform:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,mi.Ut)(t,(function(t){if(null===t)return null;var r=n.affinity,i=void 0===r?"forward":r,o=t.path,a=t.offset;switch(e.type){case"insert_node":case"move_node":t.path=Li.transform(o,e,n);break;case"insert_text":Li.equals(e.path,o)&&(e.offset<a||e.offset===a&&"forward"===i)&&(t.offset+=e.text.length);break;case"merge_node":Li.equals(e.path,o)&&(t.offset+=e.position),t.path=Li.transform(o,e,n);break;case"remove_text":Li.equals(e.path,o)&&e.offset<=a&&(t.offset-=Math.min(a-e.offset,e.text.length));break;case"remove_node":if(Li.equals(e.path,o)||Li.isAncestor(e.path,o))return null;t.path=Li.transform(o,e,n);break;case"split_node":if(Li.equals(e.path,o)){if(e.position===a&&null==i)return null;(e.position<a||e.position===a&&"forward"===i)&&(t.offset-=e.position,t.path=Li.transform(o,e,no(no({},n),{},{affinity:"forward"})))}else t.path=Li.transform(o,e,n)}}))}},io=void 0,oo={setScrubber:function(t){io=t},stringify:function(t){return z()(t,io)}},ao=["text"],uo=["anchor","focus"];function lo(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=lo(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=lo(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var so,fo={equals:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).loose,r=void 0!==n&&n;function i(t){return ji(t,ao)}return Oi(r?i(t):t,r?i(e):e)},isText:function(t){return gi()(t)&&"string"==typeof t.text},isTextList:function(t){return Qn()(t)&&li()(t).call(t,(function(t){return fo.isText(t)}))},isTextProps:function(t){return void 0!==t.text},matches:function(t,e){for(var n in e)if("text"!==n&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;return!0},decorations:function(t,e){var n,r=[co({},t)],i=xi(e);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,u=ji(a,uo),l=zi.edges(a),c=(0,B.c)(l,2),s=c[0],f=c[1],d=[],h=0,p=s.offset,v=f.offset,g=xi(r);try{for(g.s();!(o=g.n()).done;){var m=o.value,y=m.text.length,C=h;if(h+=y,p<=C&&h<=v)(0,at.c)(m,u),d.push(m);else if(p!==v&&(p===h||v===C)||p>h||v<C||v===C&&0!==C)d.push(m);else{var b=m,x=void 0,w=void 0;if(v<h){var E,S,k=v-C;w=co(co({},b),{},{text:Dn()(E=b.text).call(E,k)}),b=co(co({},b),{},{text:Dn()(S=b.text).call(S,0,k)})}if(p>C){var A,D,I=p-C;x=co(co({},b),{},{text:Dn()(A=b.text).call(A,0,I)}),b=co(co({},b),{},{text:Dn()(D=b.text).call(D,I)})}(0,at.c)(b,u),x&&d.push(x),d.push(b),w&&d.push(w)}}}catch(t){g.e(t)}finally{g.f()}r=d}}catch(t){i.e(t)}finally{i.f()}return r}},ho=function(t){return t.selection?t.selection:t.children.length>0?$i.end(t,[]):[0]},po=function(t,e){var n=$i.node(t,e),r=(0,B.c)(n,1)[0];return function(t){return t===r}},vo=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!n,i=n?wo(t):t,o=so.None,a=so.None,u=0,l=null,c=xi(i);try{for(c.s();!(e=c.n()).done;){var s=e.value,f=pi()(s).call(s,0);if(!f)break;var d=Fo(s,f),h=r?[a,d]:[d,o],p=(0,B.c)(h,2);if(o=p[0],a=p[1],_o(o,so.ZWJ)&&_o(a,so.ExtPict)&&!jo(r?t.substring(0,u):t.substring(0,t.length-u)))break;if(_o(o,so.RI)&&_o(a,so.RI)&&!(l=null!==l?!l:!!r||Uo(t.substring(0,t.length-u))))break;if(o!==so.None&&a!==so.None&&No(o,a))break;u+=s.length}}catch(t){c.e(t)}finally{c.f()}return u||1},go=/\s/,mo=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,yo=/['\u2018\u2019]/,Co=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;t.length>0;){var i=vo(t,e),o=bo(t,i,e),a=(0,B.c)(o,2),u=a[0],l=a[1];if(xo(u,l,e))r=!0,n+=i;else{if(r)break;n+=i}t=l}return n},bo=function(t,e,n){if(n){var r=t.length-e;return[Dn()(t).call(t,r,t.length),Dn()(t).call(t,0,r)]}return[Dn()(t).call(t,0,e),Dn()(t).call(t,e)]},xo=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(go.test(e))return!1;if(yo.test(e)){var i=vo(n,r),o=bo(n,i,r),a=(0,B.c)(o,2);if(t(a[0],a[1],r))return!0}return!mo.test(e)},wo=ni().mark((function t(e){var n,r,i,o;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.length-1,r=0;case 2:if(!(r<e.length)){t.next=16;break}if(i=e.charAt(n-r),!So(i.charCodeAt(0))){t.next=11;break}if(o=e.charAt(n-r-1),!Eo(o.charCodeAt(0))){t.next=11;break}return t.next=9,o+i;case 9:return r++,t.abrupt("continue",13);case 11:return t.next=13,i;case 13:r++,t.next=2;break;case 16:case"end":return t.stop()}}),t)})),Eo=function(t){return t>=55296&&t<=56319},So=function(t){return t>=56320&&t<=57343};!function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"}(so||(so={}));var ko=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Ao=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Do=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Io=/^[\u1100-\u115F\uA960-\uA97C]$/,To=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Bo=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Mo=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Ro=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Lo=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Fo=function(t,e){var n=so.Any;return-1!==t.search(ko)&&(n|=so.Extend),8205===e&&(n|=so.ZWJ),e>=127462&&e<=127487&&(n|=so.RI),-1!==t.search(Ao)&&(n|=so.Prepend),-1!==t.search(Do)&&(n|=so.SpacingMark),-1!==t.search(Io)&&(n|=so.L),-1!==t.search(To)&&(n|=so.V),-1!==t.search(Bo)&&(n|=so.T),-1!==t.search(Mo)&&(n|=so.LV),-1!==t.search(Ro)&&(n|=so.LVT),-1!==t.search(Lo)&&(n|=so.ExtPict),n};function _o(t,e){return 0!=(t&e)}var Po=[[so.L,so.L|so.V|so.LV|so.LVT],[so.LV|so.V,so.V|so.T],[so.LVT|so.T,so.T],[so.Any,so.Extend|so.ZWJ],[so.Any,so.SpacingMark],[so.Prepend,so.Any],[so.ZWJ,so.ExtPict],[so.RI,so.RI]];function No(t,e){return-1===dt()(Po).call(Po,(function(n){return _o(t,n[0])&&_o(e,n[1])}))}var Oo=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,jo=function(t){return-1!==t.search(Oo)},Go=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Uo=function(t){var e=t.match(Go);return null!==e&&e[0].length/2%2==1},zo={delete:function(t,e){t.delete(e)},insertFragment:function(t,e,n){t.insertFragment(e,n)},insertText:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$i.withoutNormalizing(t,(function(){var r=n.voids,i=void 0!==r&&r,o=n.at,a=void 0===o?ho(t):o;if(Li.isPath(a)&&(a=$i.range(t,a)),zi.isRange(a))if(zi.isCollapsed(a))a=a.anchor;else{var u=zi.end(a);if(!i&&$i.void(t,{at:u}))return;var l=zi.start(a),c=$i.pointRef(t,l),s=$i.pointRef(t,u);Wo.delete(t,{at:a,voids:i});var f=c.unref(),d=s.unref();a=f||d,Wo.setSelection(t,{anchor:a,focus:a})}if(!(!i&&$i.void(t,{at:a})||$i.elementReadOnly(t,{at:a}))){var h=a,p=h.path,v=h.offset;e.length>0&&t.apply({type:"insert_text",path:p,offset:v,text:e})}}))}};function Zo(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qo(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=Zo(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=Zo(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var Wo=Qo(Qo(Qo(Qo({},Ni),{insertNodes:function(t,e,n){t.insertNodes(e,n)},liftNodes:function(t,e){t.liftNodes(e)},mergeNodes:function(t,e){t.mergeNodes(e)},moveNodes:function(t,e){t.moveNodes(e)},removeNodes:function(t,e){t.removeNodes(e)},setNodes:function(t,e,n){t.setNodes(e,n)},splitNodes:function(t,e){t.splitNodes(e)},unsetNodes:function(t,e,n){t.unsetNodes(e,n)},unwrapNodes:function(t,e){t.unwrapNodes(e)},wrapNodes:function(t,e,n){t.wrapNodes(e,n)}}),{collapse:function(t,e){t.collapse(e)},deselect:function(t){t.deselect()},move:function(t,e){t.move(e)},select:function(t,e){t.select(e)},setPoint:function(t,e,n){t.setPoint(e,n)},setSelection:function(t,e){t.setSelection(e)}}),zo),Jo=function(t,e){var n,r=xi($i.pathRefs(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;Ei(i,e)}}catch(t){r.e(t)}finally{r.f()}var o,a=xi($i.pointRefs(t));try{for(a.s();!(o=a.n()).done;){var u=o.value;Si(u,e)}}catch(t){a.e(t)}finally{a.f()}var l,c=xi($i.rangeRefs(t));try{for(c.s();!(l=c.n()).done;){var s=l.value;ki(s,e)}}catch(t){c.e(t)}finally{c.f()}var f,d,h=Ai.get(t)||[],p=Di.get(t)||new(di()),v=function(t){if(t){var e=t.join(",");d.has(e)||(d.add(e),f.push(t))}};if(Li.operationCanTransformPath(e)){f=[],d=new(di());var g,m=xi(h);try{for(m.s();!(g=m.n()).done;){var y=g.value;v(Li.transform(y,e))}}catch(t){m.e(t)}finally{m.f()}}else f=h,d=p;var C,b=xi(t.getDirtyPaths(e));try{for(b.s();!(C=b.n()).done;){v(C.value)}}catch(t){b.e(t)}finally{b.f()}Ai.set(t,f),Di.set(t,d),Wo.transform(t,e),t.operations.push(e),$i.normalize(t,{operation:e}),"set_selection"===e.type&&(t.marks=null),Ii.get(t)||(Ii.set(t,!0),ti().resolve().then((function(){Ii.set(t,!1),t.onChange({operation:e}),t.operations=[]})))},Vo=function(t,e){switch(e.type){case"insert_text":case"remove_text":case"set_node":var n=e.path;return Li.levels(n);case"insert_node":var r,i=e.node,o=e.path,a=Li.levels(o),u=fo.isText(i)?[]:On()(Hi.nodes(i),(function(t){var e=(0,B.c)(t,2)[1];return O()(o).call(o,e)}));return O()(r=[]).call(r,(0,En.c)(a),(0,En.c)(u));case"merge_node":var l,c=e.path,s=Li.ancestors(c),f=Li.previous(c);return O()(l=[]).call(l,(0,En.c)(s),[f]);case"move_node":var d,h=e.path,p=e.newPath;if(Li.equals(h,p))return[];var v,g=[],m=[],y=xi(Li.ancestors(h));try{for(y.s();!(v=y.n()).done;){var C=v.value,b=Li.transform(C,e);g.push(b)}}catch(t){y.e(t)}finally{y.f()}var x,w=xi(Li.ancestors(p));try{for(w.s();!(x=w.n()).done;){var E=x.value,S=Li.transform(E,e);m.push(S)}}catch(t){w.e(t)}finally{w.f()}var k=m[m.length-1],A=p[p.length-1],D=O()(k).call(k,A);return O()(d=[]).call(d,g,m,[D]);case"remove_node":var I=e.path,T=Li.ancestors(I);return(0,En.c)(T);case"split_node":var M,R=e.path,L=Li.levels(R),F=Li.next(R);return O()(M=[]).call(M,(0,En.c)(L),[F]);default:return[]}},Ho=function(t){var e=t.selection;return e?Hi.fragment(t,e):[]},Ko=function(t,e){var n=(0,B.c)(e,2),r=n[0],i=n[1];if(!fo.isText(r))if(Qi.isElement(r)&&0===r.children.length){Wo.insertNodes(t,{text:""},{at:O()(i).call(i,0),voids:!0})}else for(var o=!$i.isEditor(r)&&(Qi.isElement(r)&&(t.isInline(r)||0===r.children.length||fo.isText(r.children[0])||t.isInline(r.children[0]))),a=0,u=0;u<r.children.length;u++,a++){var l=Hi.get(t,i);if(!fo.isText(l)){var c=l.children[a],s=l.children[a-1],f=u===r.children.length-1;if((fo.isText(c)||Qi.isElement(c)&&t.isInline(c))!==o)Wo.removeNodes(t,{at:O()(i).call(i,a),voids:!0}),a--;else if(Qi.isElement(c)){if(t.isInline(c))if(null!=s&&fo.isText(s)){if(f){Wo.insertNodes(t,{text:""},{at:O()(i).call(i,a+1),voids:!0}),a++}}else{Wo.insertNodes(t,{text:""},{at:O()(i).call(i,a),voids:!0}),a++}}else null!=s&&fo.isText(s)&&(fo.equals(c,s,{loose:!0})?(Wo.mergeNodes(t,{at:O()(i).call(i,a),voids:!0}),a--):""===s.text?(Wo.removeNodes(t,{at:O()(i).call(i,a-1),voids:!0}),a--):""===c.text&&(Wo.removeNodes(t,{at:O()(i).call(i,a),voids:!0}),a--))}}},qo=function(t,e){var n=e.iteration,r=42*e.initialDirtyPathsLength;if(n>r)throw new Error("Could not completely normalize the editor after ".concat(r," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},Yo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.voids,r=void 0!==n&&n,i=e.mode,o=void 0===i?"lowest":i,a=e.at,u=void 0===a?t.selection:a,l=e.match;if(u){var c,s=$i.path(t,u),f="lowest"===o,d=xi($i.levels(t,{at:s,voids:r,match:l,reverse:f}));try{for(d.s();!(c=d.n()).done;){var h=(0,B.c)(c.value,2),p=h[0],v=h[1];if(!fo.isText(p))if(zi.isRange(u)){if(Li.isAncestor(v,u.anchor.path)&&Li.isAncestor(v,u.focus.path))return[p,v]}else if(!Li.equals(s,v))return[p,v]}}catch(t){d.e(t)}finally{d.f()}}};function Xo(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $o(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=Xo(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=Xo(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var ta=function(t,e,n){var r=t.selection;if(r){var i=function(e,n){if(!fo.isText(e))return!1;var r=$i.parent(t,n),i=(0,B.c)(r,2),o=i[0];i[1];return!t.isVoid(o)||t.markableVoid(o)},o=zi.isExpanded(r),a=!1;if(!o){var u=$i.node(t,r),l=(0,B.c)(u,2),c=l[0],s=l[1];if(c&&i(c,s)){var f=$i.parent(t,s),d=(0,B.c)(f,1)[0];a=d&&t.markableVoid(d)}}if(o||a)Wo.setNodes(t,(0,M.c)({},e,n),{match:i,split:!0,voids:!0});else{var h=$o($o({},$i.marks(t)||{}),{},(0,M.c)({},e,n));t.marks=h,Ii.get(t)||t.onChange()}}};function ea(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=ea(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=ea(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var ra=function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:$i.point(t,e,{edge:"end"}),focus:$i.end(t,[])},a=i.distance,u=void 0===a?1:a,l=0,c=xi($i.positions(t,na(na({},i),{},{at:o})));try{for(c.s();!(r=c.n()).done;){var s=r.value;if(l>u)break;0!==l&&(n=s),l++}}catch(t){c.e(t)}finally{c.f()}return n};function ia(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function oa(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=ia(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=ia(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var aa=function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:$i.start(t,[]),focus:$i.point(t,e,{edge:"start"})},a=i.distance,u=void 0===a?1:a,l=0,c=xi($i.positions(t,oa(oa({},i),{},{at:o,reverse:!0})));try{for(c.s();!(r=c.n()).done;){var s=r.value;if(l>u)break;0!==l&&(n=s),l++}}catch(t){c.e(t)}finally{c.f()}return n},ua=function(t,e){var n=t.selection;n&&zi.isCollapsed(n)&&Wo.delete(t,{unit:e,reverse:!0})},la=function(t,e){var n=t.selection;n&&zi.isCollapsed(n)&&Wo.delete(t,{unit:e})},ca=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).direction,n=void 0===e?"forward":e,r=t.selection;r&&zi.isExpanded(r)&&Wo.delete(t,{reverse:"backward"===n})},sa=function(t,e){return[$i.start(t,e),$i.end(t,e)]};function fa(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=fa(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=fa(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var ha=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $i.above(t,da(da({},e),{},{match:function(e){return Qi.isElement(e)&&$i.isElementReadOnly(t,e)}}))},pa=function(t,e){return $i.point(t,e,{edge:"end"})},va=function(t,e){var n=$i.path(t,e,{edge:"start"});return $i.node(t,n)},ga=function(t,e){var n=$i.range(t,e);return Hi.fragment(t,n)};function ma(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ya(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=ma(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=ma(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var Ca=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $i.above(t,ya(ya({},e),{},{match:function(e){return Qi.isElement(e)&&$i.isVoid(t,e)}}))},ba=function(t,e){var n;return Xn()(n=e.children).call(n,(function(e){return Qi.isElement(e)&&$i.isBlock(t,e)}))},xa=function(t,e){var n;return Xn()(n=e.children).call(n,(function(e){return fo.isText(e)||$i.isInline(t,e)}))},wa=function(t,e){return Hi.has(t,e)},Ea=function(t,e){var n;return li()(n=e.children).call(n,(function(t){return fo.isText(t)}))},Sa=function(t){Wo.splitNodes(t,{always:!0})},ka=function(t,e,n){Wo.insertNodes(t,e,n)},Aa=function(t){Wo.splitNodes(t,{always:!0})};function Da(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}var Ia=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.selection,i=t.marks;if(r){if(i){var o=function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=Da(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=Da(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}({text:e},i);Wo.insertNodes(t,o,{at:n.at,voids:n.voids})}else Wo.insertText(t,e,n);t.marks=null}},Ta=function(t,e){return!t.isInline(e)},Ba=function(t,e,n){return $i.isStart(t,e,n)||$i.isEnd(t,e,n)},Ma=function(t,e){var n=e.children,r=(0,B.c)(n,1)[0];return 0===n.length||1===n.length&&fo.isText(r)&&""===r.text&&!t.isVoid(e)},Ra=function(t,e,n){var r=$i.end(t,n);return ro.equals(e,r)},La=function(t){var e=Ti.get(t);return void 0===e||e},Fa=function(t,e,n){if(0!==e.offset)return!1;var r=$i.start(t,n);return ro.equals(e,r)},_a=function(t,e){var n=$i.path(t,e,{edge:"end"});return $i.node(t,n)},Pa=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=$i.path(t,e,n);return[Hi.leaf(t,r),r]};function Na(t){var e,n,r,i,o,a,u,l,c,s,f,d,h,p,v,g=arguments;return ni().wrap((function(m){for(;;)switch(m.prev=m.next){case 0:if(n=(e=g.length>1&&void 0!==g[1]?g[1]:{}).at,r=void 0===n?t.selection:n,i=ai()(e),o=void 0!==i&&i,a=e.voids,u=void 0!==a&&a,null==(l=e.match)&&(l=function(){return!0}),r){m.next=6;break}return m.abrupt("return");case 6:c=[],s=$i.path(t,r),f=xi(Hi.levels(t,s)),m.prev=9,f.s();case 11:if((d=f.n()).done){m.next=20;break}if(h=(0,B.c)(d.value,2),p=h[0],v=h[1],l(p,v)){m.next=15;break}return m.abrupt("continue",18);case 15:if(c.push([p,v]),u||!Qi.isElement(p)||!$i.isVoid(t,p)){m.next=18;break}return m.abrupt("break",20);case 18:m.next=11;break;case 20:m.next=25;break;case 22:m.prev=22,m.t0=m.catch(9),f.e(m.t0);case 25:return m.prev=25,f.f(),m.finish(25);case 28:return o&&ai()(c).call(c),m.delegateYield(c,"t1",30);case 30:case"end":return m.stop()}}),yi,null,[[9,22,25,28]])}var Oa=["text"],ja=["text"],Ga=function(t){var e=t.marks,n=t.selection;if(!n)return null;if(e)return e;if(zi.isExpanded(n)){var r=$i.nodes(t,{match:fo.isText}),i=(0,B.c)(r,1)[0];return i?ji((0,B.c)(i,1)[0],Oa):{}}var o=n.anchor,a=o.path,u=$i.leaf(t,a),l=(0,B.c)(u,1)[0];if(0===o.offset){var c=$i.previous(t,{at:a,match:fo.isText}),s=$i.above(t,{match:function(e){return Qi.isElement(e)&&$i.isVoid(t,e)&&t.markableVoid(e)}});if(!s){var f=$i.above(t,{match:function(e){return Qi.isElement(e)&&$i.isBlock(t,e)}});if(c&&f){var d=(0,B.c)(c,2),h=d[0],p=d[1],v=(0,B.c)(f,2)[1];Li.isAncestor(v,p)&&(l=h)}}}return ji(l,ja)},Ua=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.mode,r=void 0===n?"lowest":n,i=e.voids,o=void 0!==i&&i,a=e.match,u=e.at,l=void 0===u?t.selection:u;if(l){var c=$i.after(t,l,{voids:o});if(c){var s=$i.last(t,[]),f=(0,B.c)(s,2)[1],d=[c.path,f];if(Li.isPath(l)&&0===l.length)throw new Error("Cannot get the next node from the root node!");if(null==a)if(Li.isPath(l)){var h=$i.parent(t,l),p=(0,B.c)(h,1)[0];a=function(t){var e;return Tn()(e=p.children).call(e,t)}}else a=function(){return!0};var v=$i.nodes(t,{at:d,match:a,mode:r,voids:o}),g=(0,B.c)(v,1)[0];return g}}},za=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=$i.path(t,e,n),i=Hi.get(t,r);return[i,r]};function Za(t){var e,n,r,i,o,a,u,l,c,s,f,d,h,p,v,g,m,y,C,b,x,w,E,S,k,A,D,I,T=arguments;return ni().wrap((function(M){for(;;)switch(M.prev=M.next){case 0:if(n=(e=T.length>1&&void 0!==T[1]?T[1]:{}).at,r=void 0===n?t.selection:n,i=e.mode,o=void 0===i?"all":i,a=e.universal,u=void 0!==a&&a,l=ai()(e),c=void 0!==l&&l,s=e.voids,f=void 0!==s&&s,d=e.ignoreNonSelectable,h=void 0!==d&&d,(p=e.match)||(p=function(){return!0}),r){M.next=6;break}return M.abrupt("return");case 6:to.isSpan(r)?(v=r[0],g=r[1]):(m=$i.path(t,r,{edge:"start"}),y=$i.path(t,r,{edge:"end"}),v=c?y:m,g=c?m:y),C=Hi.nodes(t,{reverse:c,from:v,to:g,pass:function(e){var n=(0,B.c)(e,1)[0];return!!Qi.isElement(n)&&(!(f||!$i.isVoid(t,n)&&!$i.isElementReadOnly(t,n))||!(!h||$i.isSelectable(t,n)))}}),b=[],w=xi(C),M.prev=10,w.s();case 12:if((E=w.n()).done){M.next=39;break}if(S=(0,B.c)(E.value,2),k=S[0],A=S[1],!h||!Qi.isElement(k)||$i.isSelectable(t,k)){M.next=16;break}return M.abrupt("continue",37);case 16:if(D=x&&0===Li.compare(A,x[1]),"highest"!==o||!D){M.next=19;break}return M.abrupt("continue",37);case 19:if(p(k,A)){M.next=25;break}if(!u||D||!fo.isText(k)){M.next=24;break}return M.abrupt("return");case 24:return M.abrupt("continue",37);case 25:if("lowest"!==o||!D){M.next=28;break}return x=[k,A],M.abrupt("continue",37);case 28:if(!(I="lowest"===o?x:[k,A])){M.next=36;break}if(!u){M.next=34;break}b.push(I),M.next=36;break;case 34:return M.next=36,I;case 36:x=[k,A];case 37:M.next=12;break;case 39:M.next=44;break;case 41:M.prev=41,M.t0=M.catch(10),w.e(M.t0);case 44:return M.prev=44,w.f(),M.finish(44);case 47:if("lowest"!==o||!x){M.next=54;break}if(!u){M.next=52;break}b.push(x),M.next=54;break;case 52:return M.next=54,x;case 54:if(!u){M.next=56;break}return M.delegateYield(b,"t1",56);case 56:case"end":return M.stop()}}),Ci,null,[[10,41,44,47]])}var Qa=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.force,r=void 0!==n&&n,i=e.operation,o=function(t){return Ai.get(t)||[]},a=function(t){var e=o(t).pop(),n=e.join(",");return function(t){return Di.get(t)||new(di())}(t).delete(n),e};if($i.isNormalizing(t)){if(r){var u=On()(Hi.nodes(t),(function(t){return(0,B.c)(t,2)[1]})),l=new(di())(P()(u).call(u,(function(t){return t.join(",")})));Ai.set(t,u),Di.set(t,l)}0!==o(t).length&&$i.withoutNormalizing(t,(function(){var e,n=xi(o(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(Hi.has(t,r)){var u=$i.node(t,r),l=u,c=(0,B.c)(l,2),s=c[0];c[1];Qi.isElement(s)&&0===s.children.length&&t.normalizeNode(u,{operation:i})}}}catch(t){n.e(t)}finally{n.f()}for(var f=o(t),d=f.length,h=0;0!==f.length;){if(!t.shouldNormalize({dirtyPaths:f,iteration:h,initialDirtyPathsLength:d,operation:i}))return;var p=a(t);if(Hi.has(t,p)){var v=$i.node(t,p);t.normalizeNode(v,{operation:i})}h++,f=o(t)}}))}},Wa=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=$i.path(t,e,n),i=Li.parent(r);return $i.node(t,i)},Ja=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:e,affinity:void 0===n?"forward":n,unref:function(){var e=r.current;return $i.pathRefs(t).delete(r),r.current=null,e}};return $i.pathRefs(t).add(r),r},Va=function(t){var e=Bi.get(t);return e||(e=new(di()),Bi.set(t,e)),e},Ha=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.depth,i=n.edge;if(Li.isPath(e))if("start"===i){var o=Hi.first(t,e);e=(0,B.c)(o,2)[1]}else if("end"===i){var a=Hi.last(t,e);e=(0,B.c)(a,2)[1]}return zi.isRange(e)&&(e="start"===i?zi.start(e):"end"===i?zi.end(e):Li.common(e.anchor.path,e.focus.path)),ro.isPoint(e)&&(e=e.path),null!=r&&(e=Dn()(e).call(e,0,r)),e},Ka=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:e,affinity:void 0===n?"forward":n,unref:function(){var e=r.current;return $i.pointRefs(t).delete(r),r.current=null,e}};return $i.pointRefs(t).add(r),r},qa=function(t){var e=Mi.get(t);return e||(e=new(di()),Mi.set(t,e)),e},Ya=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).edge,r=void 0===n?"start":n;if(Li.isPath(e)){var i;if("end"===r){var o=Hi.last(t,e);i=(0,B.c)(o,2)[1]}else{var a=Hi.first(t,e);i=(0,B.c)(a,2)[1]}var u,l,c=Hi.get(t,i);if(!fo.isText(c))throw new Error(O()(u=O()(l="Cannot get the ".concat(r," point in the node at path [")).call(l,e,"] because it has no ")).call(u,r," text node."));return{path:i,offset:"end"===r?c.text.length:0}}if(zi.isRange(e)){var s=zi.edges(e),f=(0,B.c)(s,2),d=f[0],h=f[1];return"start"===r?d:h}return e};function Xa(t){var e,n,r,i,o,a,u,l,c,s,f,d,h,p,v,g,m,y,C,b,x,w,E,S,k,A,D,I,T,M,R,L=arguments;return ni().wrap((function(F){for(;;)switch(F.prev=F.next){case 0:if(R=function(t,e,n){return"character"===e?vo(t,n):"word"===e?Co(t,n):"line"===e||"block"===e?t.length:1},n=(e=L.length>1&&void 0!==L[1]?L[1]:{}).at,r=void 0===n?t.selection:n,i=e.unit,o=void 0===i?"offset":i,a=ai()(e),u=void 0!==a&&a,l=e.voids,c=void 0!==l&&l,s=e.ignoreNonSelectable,f=void 0!==s&&s,r){F.next=5;break}return F.abrupt("return");case 5:d=$i.range(t,r),h=zi.edges(d),p=(0,B.c)(h,2),v=p[0],g=p[1],m=u?g:v,y=!1,C="",b=0,x=0,w=0,E=xi($i.nodes(t,{at:r,reverse:u,voids:c,ignoreNonSelectable:f})),F.prev=14,E.s();case 16:if((S=E.n()).done){F.next=51;break}if(k=(0,B.c)(S.value,2),A=k[0],D=k[1],!Qi.isElement(A)){F.next=26;break}if(c||!t.isVoid(A)&&!t.isElementReadOnly(A)){F.next=23;break}return F.next=22,$i.start(t,D);case 22:return F.abrupt("continue",49);case 23:if(!t.isInline(A)){F.next=25;break}return F.abrupt("continue",49);case 25:$i.hasInlines(t,A)&&(I=Li.isAncestor(D,g.path)?g:$i.end(t,D),T=Li.isAncestor(D,v.path)?v:$i.start(t,D),C=$i.string(t,{anchor:T,focus:I},{voids:c}),y=!0);case 26:if(!fo.isText(A)){F.next=49;break}if((M=Li.equals(D,m.path))?(x=u?m.offset:A.text.length-m.offset,w=m.offset):(x=A.text.length,w=u?x:0),!M&&!y&&"offset"!==o){F.next=33;break}return F.next=32,{path:D,offset:w};case 32:y=!1;case 33:if(0!==b){F.next=39;break}if(""!==C){F.next=37;break}return F.abrupt("break",49);case 37:b=R(C,o,u),C=bo(C,b,u)[1];case 39:if(w=u?w-b:w+b,!((x-=b)<0)){F.next=44;break}return b=-x,F.abrupt("break",49);case 44:return b=0,F.next=47,{path:D,offset:w};case 47:F.next=33;break;case 49:F.next=16;break;case 51:F.next=56;break;case 53:F.prev=53,F.t0=F.catch(14),E.e(F.t0);case 56:return F.prev=56,E.f(),F.finish(56);case 59:case"end":return F.stop()}}),bi,null,[[14,53,56,59]])}var $a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.mode,r=void 0===n?"lowest":n,i=e.voids,o=void 0!==i&&i,a=e.match,u=e.at,l=void 0===u?t.selection:u;if(l){var c=$i.before(t,l,{voids:o});if(c){var s=$i.first(t,[]),f=(0,B.c)(s,2)[1],d=[c.path,f];if(Li.isPath(l)&&0===l.length)throw new Error("Cannot get the previous node from the root node!");if(null==a)if(Li.isPath(l)){var h=$i.parent(t,l),p=(0,B.c)(h,1)[0];a=function(t){var e;return Tn()(e=p.children).call(e,t)}}else a=function(){return!0};var v=$i.nodes(t,{reverse:!0,at:d,match:a,mode:r,voids:o}),g=(0,B.c)(v,1)[0];return g}}},tu=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:e,affinity:void 0===n?"forward":n,unref:function(){var e=r.current;return $i.rangeRefs(t).delete(r),r.current=null,e}};return $i.rangeRefs(t).add(r),r},eu=function(t){var e=Ri.get(t);return e||(e=new(di()),Ri.set(t,e)),e},nu=function(t,e,n){return zi.isRange(e)&&!n?e:{anchor:$i.start(t,e),focus:$i.end(t,n||e)}};function ru(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}var iu=function(t,e){var n=t.selection;if(n){var r=function(e,n){if(!fo.isText(e))return!1;var r=$i.parent(t,n),i=(0,B.c)(r,2),o=i[0];i[1];return!t.isVoid(o)||t.markableVoid(o)},i=zi.isExpanded(n),o=!1;if(!i){var a=$i.node(t,n),u=(0,B.c)(a,2),l=u[0],c=u[1];if(l&&r(l,c)){var s=$i.parent(t,c),f=(0,B.c)(s,1)[0];o=f&&t.markableVoid(f)}}if(i||o)Wo.unsetNodes(t,e,{match:r,split:!0,voids:!0});else{var d=function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=ru(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=ru(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}({},$i.marks(t)||{});delete d[e],t.marks=d,Ii.get(t)||t.onChange()}}},ou=function(t,e){Ti.set(t,e)},au=function(t,e){return $i.point(t,e,{edge:"start"})},uu=function(t,e){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).voids,i=void 0!==r&&r,o=$i.range(t,e),a=zi.edges(o),u=(0,B.c)(a,2),l=u[0],c=u[1],s="",f=xi($i.nodes(t,{at:o,match:fo.isText,voids:i}));try{for(f.s();!(n=f.n()).done;){var d=(0,B.c)(n.value,2),h=d[0],p=d[1],v=h.text;Li.equals(p,c.path)&&(v=Dn()(v).call(v,0,c.offset)),Li.equals(p,l.path)&&(v=Dn()(v).call(v,l.offset)),s+=v}}catch(t){f.e(t)}finally{f.f()}return s},lu=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).voids,r=void 0!==n&&n,i=zi.edges(e),o=(0,B.c)(i,2),a=o[0],u=o[1];if(0!==a.offset||0!==u.offset||zi.isCollapsed(e)||Li.hasPrevious(u.path))return e;var l,c=$i.above(t,{at:u,match:function(e){return Qi.isElement(e)&&$i.isBlock(t,e)},voids:r}),s=c?c[1]:[],f={anchor:$i.start(t,a),focus:u},d=!0,h=xi($i.nodes(t,{at:f,match:fo.isText,reverse:!0,voids:r}));try{for(h.s();!(l=h.n()).done;){var p=(0,B.c)(l.value,2),v=p[0],g=p[1];if(d)d=!1;else if(""!==v.text||Li.isBefore(g,s)){u={path:g,offset:v.text.length};break}}}catch(t){h.e(t)}finally{h.f()}return{anchor:a,focus:u}},cu=function(t,e){var n=$i.isNormalizing(t);$i.setNormalizing(t,!1);try{e()}finally{$i.setNormalizing(t,n)}$i.normalize(t)},su=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$i.withoutNormalizing(t,(function(){var n,r,i,o,a,u=ai()(e),l=void 0!==u&&u,c=e.unit,s=void 0===c?"character":c,f=e.distance,d=void 0===f?1:f,h=e.voids,p=void 0!==h&&h,v=e.at,g=void 0===v?t.selection:v,m=e.hanging,y=void 0!==m&&m;if(g){var C=!1;if(zi.isRange(g)&&zi.isCollapsed(g)&&(C=!0,g=g.anchor),ro.isPoint(g)){var b=$i.void(t,{at:g,mode:"highest"});if(!p&&b){g=(0,B.c)(b,2)[1]}else{var x={unit:s,distance:d};g={anchor:g,focus:l?$i.before(t,g,x)||$i.start(t,[]):$i.after(t,g,x)||$i.end(t,[])},y=!0}}if(Li.isPath(g))Wo.removeNodes(t,{at:g,voids:p});else if(!zi.isCollapsed(g)){if(!y){var w=zi.edges(g),E=(0,B.c)(w,2)[1],S=$i.end(t,[]);ro.equals(E,S)||(g=$i.unhangRange(t,g,{voids:p}))}var k=zi.edges(g),A=(0,B.c)(k,2),D=A[0],I=A[1],T=$i.above(t,{match:function(e){return Qi.isElement(e)&&$i.isBlock(t,e)},at:D,voids:p}),M=$i.above(t,{match:function(e){return Qi.isElement(e)&&$i.isBlock(t,e)},at:I,voids:p}),R=T&&M&&!Li.equals(T[1],M[1]),F=Li.equals(D.path,I.path),_=p?null:null!==(o=$i.void(t,{at:D,mode:"highest"}))&&void 0!==o?o:$i.elementReadOnly(t,{at:D,mode:"highest"}),N=p?null:null!==(a=$i.void(t,{at:I,mode:"highest"}))&&void 0!==a?a:$i.elementReadOnly(t,{at:I,mode:"highest"});if(_){var O=$i.before(t,D);O&&T&&Li.isAncestor(T[1],O.path)&&(D=O)}if(N){var j=$i.after(t,I);j&&M&&Li.isAncestor(M[1],j.path)&&(I=j)}var G,U,z=[],Z=xi($i.nodes(t,{at:g,voids:p}));try{for(Z.s();!(U=Z.n()).done;){var W=U.value,J=W,V=(0,B.c)(J,2),H=V[0],K=V[1];G&&0===Li.compare(K,G)||(!p&&Qi.isElement(H)&&($i.isVoid(t,H)||$i.isElementReadOnly(t,H))||!Li.isCommon(K,D.path)&&!Li.isCommon(K,I.path))&&(z.push(W),G=K)}}catch(t){Z.e(t)}finally{Z.f()}var q=On()(z,(function(e){var n=(0,B.c)(e,2)[1];return $i.pathRef(t,n)})),Y=$i.pointRef(t,D),X=$i.pointRef(t,I),$="";if(!F&&!_){var tt,et=Y.current,nt=$i.leaf(t,et),rt=(0,B.c)(nt,1)[0],it=et.path,ot=D.offset,at=Dn()(tt=rt.text).call(tt,ot);at.length>0&&(t.apply({type:"remove_text",path:it,offset:ot,text:at}),$=at)}if(Q()(n=L()(r=P()(i=ai()(q).call(q)).call(i,(function(t){return t.unref()}))).call(r,(function(t){return null!==t}))).call(n,(function(e){return Wo.removeNodes(t,{at:e,voids:p})})),!N){var ut,lt=X.current,ct=$i.leaf(t,lt),st=(0,B.c)(ct,1)[0],ft=lt.path,dt=F?D.offset:0,ht=Dn()(ut=st.text).call(ut,dt,I.offset);ht.length>0&&(t.apply({type:"remove_text",path:ft,offset:dt,text:ht}),$=ht)}!F&&R&&X.current&&Y.current&&Wo.mergeNodes(t,{at:X.current,hanging:!0,voids:p}),C&&l&&"character"===s&&$.length>1&&$.match(/[\u0E00-\u0E7F]+/)&&Wo.insertText(t,Dn()($).call($,0,$.length-d));var pt=Y.unref(),vt=X.unref(),gt=l?pt||vt:vt||pt;null==e.at&&gt&&Wo.select(t,gt)}}}))},fu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$i.withoutNormalizing(t,(function(){var r=n.hanging,i=void 0!==r&&r,o=n.voids,a=void 0!==o&&o,u=n.at,l=void 0===u?ho(t):u;if(e.length){if(zi.isRange(l))if(i||(l=$i.unhangRange(t,l,{voids:a})),zi.isCollapsed(l))l=l.anchor;else{var c=zi.edges(l),s=(0,B.c)(c,2)[1];if(!a&&$i.void(t,{at:s}))return;var f=$i.pointRef(t,s);Wo.delete(t,{at:l}),l=f.unref()}else Li.isPath(l)&&(l=$i.start(t,l));if(a||!$i.void(t,{at:l})){var d=$i.above(t,{at:l,match:function(e){return Qi.isElement(e)&&$i.isInline(t,e)},mode:"highest",voids:a});if(d){var h=(0,B.c)(d,2)[1];if($i.isEnd(t,l,h))l=$i.after(t,h);else if($i.isStart(t,l,h)){l=$i.before(t,h)}}var p,v=$i.above(t,{match:function(e){return Qi.isElement(e)&&$i.isBlock(t,e)},at:l,voids:a}),g=(0,B.c)(v,2)[1],m=$i.isStart(t,l,g),y=$i.isEnd(t,l,g),C=m&&y,b=!m||m&&y,x=!y,w=Hi.first({children:e},[]),E=(0,B.c)(w,2)[1],S=Hi.last({children:e},[]),k=(0,B.c)(S,2)[1],A=[],D=function(e){var n=(0,B.c)(e,2),r=n[0],i=n[1];return!(0===i.length)&&(!!C||!(b&&Li.isAncestor(i,E)&&Qi.isElement(r)&&!t.isVoid(r)&&!t.isInline(r))&&!(x&&Li.isAncestor(i,k)&&Qi.isElement(r)&&!t.isVoid(r)&&!t.isInline(r)))},I=xi(Hi.nodes({children:e},{pass:D}));try{for(I.s();!(p=I.n()).done;){var T=p.value;D(T)&&A.push(T)}}catch(t){I.e(t)}finally{I.f()}for(var M=[],R=[],L=[],F=!0,_=!1,P=0,N=A;P<N.length;P++){var O=(0,B.c)(N[P],1)[0];Qi.isElement(O)&&!t.isInline(O)?(F=!1,_=!0,R.push(O)):F?M.push(O):L.push(O)}var j=$i.nodes(t,{at:l,match:function(e){return fo.isText(e)||$i.isInline(t,e)},mode:"highest",voids:a}),G=(0,B.c)(j,1)[0],U=(0,B.c)(G,2)[1],z=$i.isStart(t,l,U),Z=$i.isEnd(t,l,U),Q=$i.pathRef(t,y&&!L.length?Li.next(g):g),W=$i.pathRef(t,Z?Li.next(U):U);Wo.splitNodes(t,{at:l,match:function(e){return _?Qi.isElement(e)&&$i.isBlock(t,e):fo.isText(e)||$i.isInline(t,e)},mode:_?"lowest":"highest",always:_&&(!m||M.length>0)&&(!y||L.length>0),voids:a});var J,V=$i.pathRef(t,!z||z&&Z?Li.next(U):U);if(Wo.insertNodes(t,M,{at:V.current,match:function(e){return fo.isText(e)||$i.isInline(t,e)},mode:"highest",voids:a}),C&&!M.length&&R.length&&!L.length&&Wo.delete(t,{at:g,voids:a}),Wo.insertNodes(t,R,{at:Q.current,match:function(e){return Qi.isElement(e)&&$i.isBlock(t,e)},mode:"lowest",voids:a}),Wo.insertNodes(t,L,{at:W.current,match:function(e){return fo.isText(e)||$i.isInline(t,e)},mode:"highest",voids:a}),!n.at)if(L.length>0&&W.current?J=Li.previous(W.current):R.length>0&&Q.current?J=Li.previous(Q.current):V.current&&(J=Li.previous(V.current)),J){var H=$i.end(t,J);Wo.select(t,H)}V.unref(),Q.unref(),W.unref()}}}))},du=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).edge,n=void 0===e?"anchor":e,r=t.selection;if(r)if("anchor"===n)Wo.select(t,r.anchor);else if("focus"===n)Wo.select(t,r.focus);else if("start"===n){var i=zi.edges(r),o=(0,B.c)(i,1)[0];Wo.select(t,o)}else if("end"===n){var a=zi.edges(r),u=(0,B.c)(a,2)[1];Wo.select(t,u)}},hu=function(t){var e=t.selection;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},pu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selection,r=e.distance,i=void 0===r?1:r,o=e.unit,a=void 0===o?"character":o,u=ai()(e),l=void 0!==u&&u,c=e.edge,s=void 0===c?null:c;if(n){"start"===s&&(s=zi.isBackward(n)?"focus":"anchor"),"end"===s&&(s=zi.isBackward(n)?"anchor":"focus");var f=n.anchor,d=n.focus,h={distance:i,unit:a,ignoreNonSelectable:!0},p={};if(null==s||"anchor"===s){var v=l?$i.before(t,f,h):$i.after(t,f,h);v&&(p.anchor=v)}if(null==s||"focus"===s){var g=l?$i.before(t,d,h):$i.after(t,d,h);g&&(p.focus=g)}Wo.setSelection(t,p)}},vu=function(t,e){var n=t.selection;if(e=$i.range(t,e),n)Wo.setSelection(t,e);else{if(!zi.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(oo.stringify(e)));t.apply({type:"set_selection",properties:n,newProperties:e})}};function gu(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=gu(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=gu(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var yu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.selection,i=n.edge,o=void 0===i?"both":i;if(r){"start"===o&&(o=zi.isBackward(r)?"focus":"anchor"),"end"===o&&(o=zi.isBackward(r)?"anchor":"focus");var a=r.anchor,u=r.focus,l="anchor"===o?a:u;Wo.setSelection(t,(0,M.c)({},"anchor"===o?"anchor":"focus",mu(mu({},l),e)))}},Cu=function(t,e){var n=t.selection,r={},i={};if(n){for(var o in e)("anchor"===o&&null!=e.anchor&&!ro.equals(e.anchor,n.anchor)||"focus"===o&&null!=e.focus&&!ro.equals(e.focus,n.focus)||"anchor"!==o&&"focus"!==o&&e[o]!==n[o])&&(r[o]=n[o],i[o]=e[o]);C()(r).length>0&&t.apply({type:"set_selection",properties:r,newProperties:i})}},bu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$i.withoutNormalizing(t,(function(){var r=n.hanging,i=void 0!==r&&r,o=n.voids,a=void 0!==o&&o,u=n.mode,l=void 0===u?"lowest":u,c=n.at,s=n.match,f=n.select;if(Hi.isNode(e)&&(e=[e]),0!==e.length){var d=e,h=(0,B.c)(d,1)[0];if(c||(c=ho(t),f=!0),null==f&&(f=!1),zi.isRange(c))if(i||(c=$i.unhangRange(t,c,{voids:a})),zi.isCollapsed(c))c=c.anchor;else{var p=zi.edges(c),v=(0,B.c)(p,2)[1],g=$i.pointRef(t,v);Wo.delete(t,{at:c}),c=g.unref()}if(ro.isPoint(c)){null==s&&(s=fo.isText(h)?function(t){return fo.isText(t)}:t.isInline(h)?function(e){return fo.isText(e)||$i.isInline(t,e)}:function(e){return Qi.isElement(e)&&$i.isBlock(t,e)});var m=$i.nodes(t,{at:c.path,match:s,mode:l,voids:a}),y=(0,B.c)(m,1)[0];if(!y)return;var C=(0,B.c)(y,2)[1],b=$i.pathRef(t,C),x=$i.isEnd(t,c,C);Wo.splitNodes(t,{at:c,match:s,mode:l,voids:a});var w=b.unref();c=x?Li.next(w):w}var E=Li.parent(c),S=c[c.length-1];if(a||!$i.void(t,{at:E})){var k,A=xi(e);try{for(A.s();!(k=A.n()).done;){var D=k.value,I=O()(E).call(E,S);S++,t.apply({type:"insert_node",path:I,node:D}),c=Li.next(c)}}catch(t){A.e(t)}finally{A.f()}if(c=Li.previous(c),f){var T=$i.end(t,c);T&&Wo.select(t,T)}}}}))},xu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$i.withoutNormalizing(t,(function(){var n=e.at,r=void 0===n?t.selection:n,i=e.mode,o=void 0===i?"lowest":i,a=e.voids,u=void 0!==a&&a,l=e.match;if(null==l&&(l=Li.isPath(r)?po(t,r):function(e){return Qi.isElement(e)&&$i.isBlock(t,e)}),r){var c,s=$i.nodes(t,{at:r,match:l,mode:o,voids:u}),f=xi(On()(s,(function(e){var n=(0,B.c)(e,2)[1];return $i.pathRef(t,n)})));try{for(f.s();!(c=f.n()).done;){var d=c.value.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var h=$i.node(t,Li.parent(d)),p=(0,B.c)(h,2),v=p[0],g=p[1],m=d[d.length-1],y=v.children.length;if(1===y){var C=Li.next(g);Wo.moveNodes(t,{at:d,to:C,voids:u}),Wo.removeNodes(t,{at:g,voids:u})}else if(0===m)Wo.moveNodes(t,{at:d,to:g,voids:u});else if(m===y-1){var b=Li.next(g);Wo.moveNodes(t,{at:d,to:b,voids:u})}else{var x=Li.next(d),w=Li.next(g);Wo.splitNodes(t,{at:x,voids:u}),Wo.moveNodes(t,{at:d,to:w,voids:u})}}}catch(t){f.e(t)}finally{f.f()}}}))},wu=["text"],Eu=["children"],Su=function t(e,n){if(Qi.isElement(n)){var r=n;return!!$i.isVoid(e,n)||1===r.children.length&&t(e,r.children[0])}return!$i.isEditor(n)},ku=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$i.withoutNormalizing(t,(function(){var n,r,i=e.match,o=e.at,a=void 0===o?t.selection:o,u=e.hanging,l=void 0!==u&&u,c=e.voids,s=void 0!==c&&c,f=e.mode,d=void 0===f?"lowest":f;if(a){if(null==i)if(Li.isPath(a)){var h=$i.parent(t,a),p=(0,B.c)(h,1)[0];i=function(t){var e;return Tn()(e=p.children).call(e,t)}}else i=function(e){return Qi.isElement(e)&&$i.isBlock(t,e)};if(!l&&zi.isRange(a)&&(a=$i.unhangRange(t,a,{voids:s})),zi.isRange(a))if(zi.isCollapsed(a))a=a.anchor;else{var v=zi.edges(a),g=(0,B.c)(v,2)[1],m=$i.pointRef(t,g);Wo.delete(t,{at:a}),a=m.unref(),null==e.at&&Wo.select(t,a)}var y=$i.nodes(t,{at:a,match:i,voids:s,mode:d}),C=(0,B.c)(y,1)[0],b=$i.previous(t,{at:a,match:i,voids:s,mode:d});if(C&&b){var x=(0,B.c)(C,2),w=x[0],E=x[1],S=(0,B.c)(b,2),k=S[0],A=S[1];if(0!==E.length&&0!==A.length){var D,I,T=Li.next(A),M=Li.common(E,A),R=Li.isSibling(E,A),L=Dn()(n=Dn()(r=On()($i.levels(t,{at:E}),(function(t){return(0,B.c)(t,1)[0]}))).call(r,M.length)).call(n,0,-1),F=$i.above(t,{at:E,mode:"highest",match:function(e){return Tn()(L).call(L,e)&&Su(t,e)}}),_=F&&$i.pathRef(t,F[1]);if(fo.isText(w)&&fo.isText(k)){var P=ji(w,wu);I=k.text.length,D=P}else{var N,j;if(!Qi.isElement(w)||!Qi.isElement(k))throw new Error(O()(N=O()(j="Cannot merge the node at path [".concat(E,"] with the previous sibling because it is not the same kind: ")).call(j,oo.stringify(w)," ")).call(N,oo.stringify(k)));P=ji(w,Eu);I=k.children.length,D=P}R||Wo.moveNodes(t,{at:E,to:T,voids:s}),_&&Wo.removeNodes(t,{at:_.current,voids:s}),Qi.isElement(k)&&$i.isEmpty(t,k)||fo.isText(k)&&""===k.text&&0!==A[A.length-1]?Wo.removeNodes(t,{at:A,voids:s}):t.apply({type:"merge_node",path:T,position:I,properties:D}),_&&_.unref()}}}}))},Au=function(t,e){$i.withoutNormalizing(t,(function(){var n=e.to,r=e.at,i=void 0===r?t.selection:r,o=e.mode,a=void 0===o?"lowest":o,u=e.voids,l=void 0!==u&&u,c=e.match;if(i){null==c&&(c=Li.isPath(i)?po(t,i):function(e){return Qi.isElement(e)&&$i.isBlock(t,e)});var s,f=$i.pathRef(t,n),d=$i.nodes(t,{at:i,match:c,mode:a,voids:l}),h=xi(On()(d,(function(e){var n=(0,B.c)(e,2)[1];return $i.pathRef(t,n)})));try{for(h.s();!(s=h.n()).done;){var p=s.value.unref(),v=f.current;0!==p.length&&t.apply({type:"move_node",path:p,newPath:v}),f.current&&Li.isSibling(v,p)&&Li.isAfter(v,p)&&(f.current=Li.next(f.current))}}catch(t){h.e(t)}finally{h.f()}f.unref()}}))},Du=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$i.withoutNormalizing(t,(function(){var n=e.hanging,r=void 0!==n&&n,i=e.voids,o=void 0!==i&&i,a=e.mode,u=void 0===a?"lowest":a,l=e.at,c=void 0===l?t.selection:l,s=e.match;if(c){null==s&&(s=Li.isPath(c)?po(t,c):function(e){return Qi.isElement(e)&&$i.isBlock(t,e)}),!r&&zi.isRange(c)&&(c=$i.unhangRange(t,c,{voids:o}));var f,d=$i.nodes(t,{at:c,match:s,mode:u,voids:o}),h=xi(On()(d,(function(e){var n=(0,B.c)(e,2)[1];return $i.pathRef(t,n)})));try{for(h.s();!(f=h.n()).done;){var p=f.value.unref();if(p){var v=$i.node(t,p),g=(0,B.c)(v,1)[0];t.apply({type:"remove_node",path:p,node:g})}}}catch(t){h.e(t)}finally{h.f()}}}))},Iu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$i.withoutNormalizing(t,(function(){var r=n.match,i=n.at,o=void 0===i?t.selection:i,a=n.compare,u=n.merge,l=n.hanging,c=void 0!==l&&l,s=n.mode,f=void 0===s?"lowest":s,d=n.split,h=void 0!==d&&d,p=n.voids,v=void 0!==p&&p;if(o){if(null==r&&(r=Li.isPath(o)?po(t,o):function(e){return Qi.isElement(e)&&$i.isBlock(t,e)}),!c&&zi.isRange(o)&&(o=$i.unhangRange(t,o,{voids:v})),h&&zi.isRange(o)){if(zi.isCollapsed(o)&&$i.leaf(t,o.anchor)[0].text.length>0)return;var g=$i.rangeRef(t,o,{affinity:"inward"}),m=zi.edges(o),y=(0,B.c)(m,2),C=y[0],b=y[1],x="lowest"===f?"lowest":"highest",w=$i.isEnd(t,b,b.path);Wo.splitNodes(t,{at:b,match:r,mode:x,voids:v,always:!w});var E=$i.isStart(t,C,C.path);Wo.splitNodes(t,{at:C,match:r,mode:x,voids:v,always:!E}),o=g.unref(),null==n.at&&Wo.select(t,o)}a||(a=function(t,e){return t!==e});var S,k=xi($i.nodes(t,{at:o,match:r,mode:f,voids:v}));try{for(k.s();!(S=k.n()).done;){var A=(0,B.c)(S.value,2),D=A[0],I=A[1],T={},M={};if(0!==I.length){var R=!1;for(var L in e)"children"!==L&&"text"!==L&&a(e[L],D[L])&&(R=!0,D.hasOwnProperty(L)&&(T[L]=D[L]),u?null!=e[L]&&(M[L]=u(D[L],e[L])):null!=e[L]&&(M[L]=e[L]));R&&t.apply({type:"set_node",path:I,properties:T,newProperties:M})}}}catch(t){k.e(t)}finally{k.f()}}}))},Tu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$i.withoutNormalizing(t,(function(){var n=e.mode,r=void 0===n?"lowest":n,i=e.voids,o=void 0!==i&&i,a=e.match,u=e.at,l=void 0===u?t.selection:u,c=e.height,s=void 0===c?0:c,f=e.always,d=void 0!==f&&f;if(null==a&&(a=function(e){return Qi.isElement(e)&&$i.isBlock(t,e)}),zi.isRange(l)&&(l=function(t,e){if(zi.isCollapsed(e))return e.anchor;var n=zi.edges(e),r=(0,B.c)(n,2)[1],i=$i.pointRef(t,r);return Wo.delete(t,{at:e}),i.unref()}(t,l)),Li.isPath(l)){var h=l,p=$i.point(t,h),v=$i.parent(t,h),g=(0,B.c)(v,1)[0];a=function(t){return t===g},s=p.path.length-h.length+1,l=p,d=!0}if(l){var m,y=$i.pointRef(t,l,{affinity:"backward"});try{var C,b=$i.nodes(t,{at:l,match:a,mode:r,voids:o}),x=(0,B.c)(b,1)[0];if(!x)return;var w=$i.void(t,{at:l,mode:"highest"});if(!o&&w){var E=(0,B.c)(w,2),S=E[0],k=E[1];if(Qi.isElement(S)&&t.isInline(S)){var A=$i.after(t,k);if(!A){var D=Li.next(k);Wo.insertNodes(t,{text:""},{at:D,voids:o}),A=$i.point(t,D)}l=A,d=!0}s=l.path.length-k.length+1,d=!0}m=$i.pointRef(t,l);var I,T=l.path.length-s,M=(0,B.c)(x,2)[1],R=Dn()(C=l.path).call(C,0,T),L=0===s?l.offset:l.path[T]+0,F=xi($i.levels(t,{at:R,reverse:!0,voids:o}));try{for(F.s();!(I=F.n()).done;){var _=(0,B.c)(I.value,2),P=_[0],N=_[1],O=!1;if(N.length<M.length||0===N.length||!o&&Qi.isElement(P)&&$i.isVoid(t,P))break;var j=y.current,G=$i.isEnd(t,j,N);if(d||!y||!$i.isEdge(t,j,N)){O=!0;var U=Hi.extractProps(P);t.apply({type:"split_node",path:N,position:L,properties:U})}L=N[N.length-1]+(O||G?1:0)}}catch(t){F.e(t)}finally{F.f()}if(null==e.at){var z=m.current||$i.end(t,[]);Wo.select(t,z)}}finally{var Z;y.unref(),null===(Z=m)||void 0===Z||Z.unref()}}}))},Bu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qn()(e)||(e=[e]);var r,i={},o=xi(e);try{for(o.s();!(r=o.n()).done;){i[r.value]=null}}catch(t){o.e(t)}finally{o.f()}Wo.setNodes(t,i,n)},Mu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$i.withoutNormalizing(t,(function(){var n,r=e.mode,i=void 0===r?"lowest":r,o=e.split,a=void 0!==o&&o,u=e.voids,l=void 0!==u&&u,c=e.at,s=void 0===c?t.selection:c,f=e.match;if(s){null==f&&(f=Li.isPath(s)?po(t,s):function(e){return Qi.isElement(e)&&$i.isBlock(t,e)}),Li.isPath(s)&&(s=$i.range(t,s));var d,h=zi.isRange(s)?$i.rangeRef(t,s):null,p=$i.nodes(t,{at:s,match:f,mode:i,voids:l}),v=function(e){var n=e.unref(),r=$i.node(t,n),i=(0,B.c)(r,1)[0],o=$i.range(t,n);a&&h&&(o=zi.intersection(h.current,o)),Wo.liftNodes(t,{at:o,match:function(t){var e;return Qi.isAncestor(i)&&Tn()(e=i.children).call(e,t)},voids:l})},g=xi(ai()(n=On()(p,(function(e){var n=(0,B.c)(e,2)[1];return $i.pathRef(t,n)}))).call(n));try{for(g.s();!(d=g.n()).done;){v(d.value)}}catch(t){g.e(t)}finally{g.f()}h&&h.unref()}}))};function Ru(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lu(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=Ru(Object(r),!0)).call(n,(function(e){Fi(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=Ru(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var Fu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$i.withoutNormalizing(t,(function(){var r=n.mode,i=void 0===r?"lowest":r,o=n.split,a=void 0!==o&&o,u=n.voids,l=void 0!==u&&u,c=n.match,s=n.at,f=void 0===s?t.selection:s;if(f){if(null==c&&(c=Li.isPath(f)?po(t,f):t.isInline(e)?function(e){return Qi.isElement(e)&&$i.isInline(t,e)||fo.isText(e)}:function(e){return Qi.isElement(e)&&$i.isBlock(t,e)}),a&&zi.isRange(f)){var d=zi.edges(f),h=(0,B.c)(d,2),p=h[0],v=h[1],g=$i.rangeRef(t,f,{affinity:"inward"});Wo.splitNodes(t,{at:v,match:c,voids:l}),Wo.splitNodes(t,{at:p,match:c,voids:l}),f=g.unref(),null==n.at&&Wo.select(t,f)}var m,y=On()($i.nodes(t,{at:f,match:t.isInline(e)?function(e){return Qi.isElement(e)&&$i.isBlock(t,e)}:function(t){return $i.isEditor(t)},mode:"lowest",voids:l})),C=xi(y);try{for(C.s();!(m=C.n()).done;){var b=(0,B.c)(m.value,2)[1],x=zi.isRange(f)?zi.intersection(f,$i.range(t,b)):f;if(x){var w=On()($i.nodes(t,{at:x,match:c,mode:i,voids:l}));if(w.length>0){var E=function(){var n=w,r=(0,B.c)(n,1)[0],i=w[w.length-1],o=(0,B.c)(r,2)[1],a=(0,B.c)(i,2)[1];if(0===o.length&&0===a.length)return"continue";var u=Li.equals(o,a)?Li.parent(o):Li.common(o,a),c=$i.range(t,o,a),s=$i.node(t,u),f=(0,B.c)(s,1)[0],d=u.length+1,h=Li.next(Dn()(a).call(a,0,d)),p=Lu(Lu({},e),{},{children:[]});Wo.insertNodes(t,p,{at:h,voids:l}),Wo.moveNodes(t,{at:c,match:function(t){var e;return Qi.isAncestor(f)&&Tn()(e=f.children).call(e,t)},to:O()(h).call(h,0),voids:l})}();if("continue"===E)continue}}}}catch(t){C.e(t)}finally{C.f()}}}))},_u=function(){var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:function(){return!1},isInline:function(){return!1},isSelectable:function(){return!0},isVoid:function(){return!1},markableVoid:function(){return!1},onChange:function(){},apply:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jo.apply(void 0,O()(e=[t]).call(e,r))},addMark:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ta.apply(void 0,O()(e=[t]).call(e,r))},deleteBackward:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ua.apply(void 0,O()(e=[t]).call(e,r))},deleteForward:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return la.apply(void 0,O()(e=[t]).call(e,r))},deleteFragment:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ca.apply(void 0,O()(e=[t]).call(e,r))},getFragment:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ho.apply(void 0,O()(e=[t]).call(e,r))},insertBreak:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sa.apply(void 0,O()(e=[t]).call(e,r))},insertSoftBreak:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Aa.apply(void 0,O()(e=[t]).call(e,r))},insertFragment:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fu.apply(void 0,O()(e=[t]).call(e,r))},insertNode:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ka.apply(void 0,O()(e=[t]).call(e,r))},insertText:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ia.apply(void 0,O()(e=[t]).call(e,r))},normalizeNode:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ko.apply(void 0,O()(e=[t]).call(e,r))},removeMark:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return iu.apply(void 0,O()(e=[t]).call(e,r))},getDirtyPaths:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Vo.apply(void 0,O()(e=[t]).call(e,r))},shouldNormalize:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qo.apply(void 0,O()(e=[t]).call(e,r))},above:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Yo.apply(void 0,O()(e=[t]).call(e,r))},after:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ra.apply(void 0,O()(e=[t]).call(e,r))},before:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return aa.apply(void 0,O()(e=[t]).call(e,r))},collapse:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return du.apply(void 0,O()(e=[t]).call(e,r))},delete:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return su.apply(void 0,O()(e=[t]).call(e,r))},deselect:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return hu.apply(void 0,O()(e=[t]).call(e,r))},edges:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return sa.apply(void 0,O()(e=[t]).call(e,r))},elementReadOnly:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ha.apply(void 0,O()(e=[t]).call(e,r))},end:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return pa.apply(void 0,O()(e=[t]).call(e,r))},first:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return va.apply(void 0,O()(e=[t]).call(e,r))},fragment:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ga.apply(void 0,O()(e=[t]).call(e,r))},getMarks:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ga.apply(void 0,O()(e=[t]).call(e,r))},hasBlocks:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ba.apply(void 0,O()(e=[t]).call(e,r))},hasInlines:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xa.apply(void 0,O()(e=[t]).call(e,r))},hasPath:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wa.apply(void 0,O()(e=[t]).call(e,r))},hasTexts:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ea.apply(void 0,O()(e=[t]).call(e,r))},insertNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bu.apply(void 0,O()(e=[t]).call(e,r))},isBlock:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ta.apply(void 0,O()(e=[t]).call(e,r))},isEdge:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ba.apply(void 0,O()(e=[t]).call(e,r))},isEmpty:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ma.apply(void 0,O()(e=[t]).call(e,r))},isEnd:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ra.apply(void 0,O()(e=[t]).call(e,r))},isNormalizing:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return La.apply(void 0,O()(e=[t]).call(e,r))},isStart:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Fa.apply(void 0,O()(e=[t]).call(e,r))},last:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _a.apply(void 0,O()(e=[t]).call(e,r))},leaf:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Pa.apply(void 0,O()(e=[t]).call(e,r))},levels:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Na.apply(void 0,O()(e=[t]).call(e,r))},liftNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xu.apply(void 0,O()(e=[t]).call(e,r))},mergeNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ku.apply(void 0,O()(e=[t]).call(e,r))},move:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return pu.apply(void 0,O()(e=[t]).call(e,r))},moveNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Au.apply(void 0,O()(e=[t]).call(e,r))},next:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ua.apply(void 0,O()(e=[t]).call(e,r))},node:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return za.apply(void 0,O()(e=[t]).call(e,r))},nodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Za.apply(void 0,O()(e=[t]).call(e,r))},normalize:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Qa.apply(void 0,O()(e=[t]).call(e,r))},parent:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wa.apply(void 0,O()(e=[t]).call(e,r))},path:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ha.apply(void 0,O()(e=[t]).call(e,r))},pathRef:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ja.apply(void 0,O()(e=[t]).call(e,r))},pathRefs:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Va.apply(void 0,O()(e=[t]).call(e,r))},point:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ya.apply(void 0,O()(e=[t]).call(e,r))},pointRef:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ka.apply(void 0,O()(e=[t]).call(e,r))},pointRefs:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qa.apply(void 0,O()(e=[t]).call(e,r))},positions:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Xa.apply(void 0,O()(e=[t]).call(e,r))},previous:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $a.apply(void 0,O()(e=[t]).call(e,r))},range:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nu.apply(void 0,O()(e=[t]).call(e,r))},rangeRef:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return tu.apply(void 0,O()(e=[t]).call(e,r))},rangeRefs:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return eu.apply(void 0,O()(e=[t]).call(e,r))},removeNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Du.apply(void 0,O()(e=[t]).call(e,r))},select:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return vu.apply(void 0,O()(e=[t]).call(e,r))},setNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Iu.apply(void 0,O()(e=[t]).call(e,r))},setNormalizing:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ou.apply(void 0,O()(e=[t]).call(e,r))},setPoint:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yu.apply(void 0,O()(e=[t]).call(e,r))},setSelection:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Cu.apply(void 0,O()(e=[t]).call(e,r))},splitNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Tu.apply(void 0,O()(e=[t]).call(e,r))},start:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return au.apply(void 0,O()(e=[t]).call(e,r))},string:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uu.apply(void 0,O()(e=[t]).call(e,r))},unhangRange:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return lu.apply(void 0,O()(e=[t]).call(e,r))},unsetNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Bu.apply(void 0,O()(e=[t]).call(e,r))},unwrapNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Mu.apply(void 0,O()(e=[t]).call(e,r))},void:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ca.apply(void 0,O()(e=[t]).call(e,r))},withoutNormalizing:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return cu.apply(void 0,O()(e=[t]).call(e,r))},wrapNodes:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Fu.apply(void 0,O()(e=[t]).call(e,r))}};return t};function Pu(t,e){var n=void 0!==Gn()&&zn()(t)||t["@@iterator"];if(!n){if(Qn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Nu(t,e);var r=Dn()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return On()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Nu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ou=function(t){return gi()(t)&&Qn()(t.redos)&&Qn()(t.undos)&&(0===t.redos.length||Yi.isOperationList(t.redos[0]))&&(0===t.undos.length||Yi.isOperationList(t.undos[0]))},ju=(new(ii()),new(ii())),Gu=new(ii()),Uu={isHistoryEditor:function(t){return Ou(t.history)&&$i.isEditor(t)},isMerging:function(t){return Gu.get(t)},isSaving:function(t){return ju.get(t)},redo:function(t){t.redo()},undo:function(t){t.undo()},withoutMerging:function(t,e){var n=Uu.isMerging(t);Gu.set(t,!1),e(),Gu.set(t,n)},withoutSaving:function(t,e){var n=Uu.isSaving(t);ju.set(t,!1),e(),ju.set(t,n)}},zu=function(t){var e=t,n=e.apply;return e.history={undos:[],redos:[]},e.redo=function(){var t=e.history,n=t.redos;if(n.length>0){var r=n[n.length-1];Uu.withoutSaving(e,(function(){$i.withoutNormalizing(e,(function(){var t,n=Pu(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.apply(i)}}catch(t){n.e(t)}finally{n.f()}}))})),t.redos.pop(),t.undos.push(r)}},e.undo=function(){var t=e.history,n=t.undos;if(n.length>0){var r=n[n.length-1];Uu.withoutSaving(e,(function(){$i.withoutNormalizing(e,(function(){var t,n,i=Pu(ai()(t=P()(r).call(r,Yi.inverse)).call(t));try{for(i.s();!(n=i.n()).done;){var o=n.value;e.apply(o)}}catch(t){i.e(t)}finally{i.f()}}))})),t.redos.push(r),t.undos.pop()}},e.apply=function(t){var r=e.operations,i=e.history,o=i.undos,a=o[o.length-1],u=a&&a[a.length-1],l=Wu(t,u),c=Uu.isSaving(e),s=Uu.isMerging(e);if(null==c&&(c=Qu(t)),c){if(null==s&&(s=null!=a&&(0!==r.length||(Zu(t,u)||l))),a&&s)l&&a.pop(),a.push(t);else{var f=[t];o.push(f)}for(;o.length>100;)o.shift();Ju(t)&&(i.redos=[])}n(t)},e},Zu=function(t,e){return"set_selection"===t.type||(!(!e||"insert_text"!==t.type||"insert_text"!==e.type||t.offset!==e.offset+e.text.length||!Li.equals(t.path,e.path))||!(!e||"remove_text"!==t.type||"remove_text"!==e.type||t.offset+t.text.length!==e.offset||!Li.equals(t.path,e.path)))},Qu=function(t,e){return"set_selection"!==t.type||null!=t.properties&&null!=t.newProperties},Wu=function(t,e){return!(!e||"set_selection"!==t.type||"set_selection"!==e.type)},Ju=function(t){return"set_selection"!==t.type},Vu=n(11984),Hu=n.n(Vu),Ku=n(54895),qu=n(77284),Yu=n(43840),Xu=n(27688),$u=n(3460),tl=n(97552),el=n.n(tl),nl=n(57548),rl=n.n(nl),il=n(49464),ol=n.n(il),al=n(20484),ul=n.n(al),ll=n(52360),cl=n.n(ll),sl=n(6220),fl=n.n(sl),dl=n(94608),hl=n.n(dl),pl=n(5800),vl=n.n(pl),gl=n(76232),ml=n(90352);function yl(t,e,n){return e=(0,qu.c)(e),(0,Ku.c)(t,Cl()?Hu()(e,n||[],(0,qu.c)(t).constructor):e.apply(t,n))}function Cl(){try{var t=!Boolean.prototype.valueOf.call(Hu()(Boolean,[],(function(){})))}catch(t){}return(Cl=function(){return!!t})()}function bl(t,e){var n=void 0!==Gn()&&zn()(t)||t["@@iterator"];if(!n){if(Qn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return xl(t,e);var r=Dn()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return On()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xl(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function xl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wl(t,e,n){return e in t?T()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function El(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=C()(t);for(r=0;r<o.length;r++)n=o[r],kn()(e).call(e,n)>=0||(i[n]=t[n]);return i}(t,e);if(x()){var o=x()(t);for(r=0;r<o.length;r++)n=o[r],kn()(e).call(e,n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Sl=(0,H.createContext)(null),kl=function(){var t=(0,H.useContext)(Sl);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},Al=el()(K().version.split(".")[0],10),Dl="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Il="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),Tl="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),Bl="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ml="undefined"!=typeof navigator&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),Rl="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Ll="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),Fl="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),_l=Tl&&"undefined"!=typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Pl="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),Nl="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),Ol="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),jl=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Gl=(!Fl||!_l)&&!Rl&&void 0!==rl()&&rl().InputEvent&&"function"==typeof rl().InputEvent.prototype.getTargetRanges,Ul=new(ii()),zl=new(ii()),Zl=new(ii()),Ql=new(ii()),Wl=new(ii()),Jl=new(ii()),Vl=new(ii()),Hl=new(ii()),Kl=new(ii()),ql=new(ii()),Yl=new(ii()),Xl=new(ii()),$l=new(ii()),tc=new(ii()),ec=new(ii()),nc=new(ii()),rc=new(ii()),ic=new(ii()),oc=new(ii()),ac=new(ii()),uc=new(ii()),lc=Gn()("placeholder"),cc=Gn()("mark-placeholder"),sc=rl().Text,fc=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||null},dc=function(t){return hc(t)&&1===t.nodeType},hc=function(t){var e=fc(t);return!!e&&t instanceof e.Node},pc=function(t){var e=t&&t.anchorNode&&fc(t.anchorNode);return!!e&&t instanceof e.Selection},vc=function(t){return hc(t)&&3===t.nodeType},gc=function(t,e,n){for(var r,i=t.childNodes,o=i[e],a=e,u=!1,l=!1;(hc(r=o)&&8===r.nodeType||dc(o)&&0===o.childNodes.length||dc(o)&&"false"===o.getAttribute("contenteditable"))&&(!u||!l);)a>=i.length?(u=!0,a=e-1,n="backward"):a<0?(l=!0,a=e+1,n="forward"):(o=i[a],e=a,a+="forward"===n?1:-1);return[o,e]},mc=function(t,e,n){var r=gc(t,e,n);return(0,B.c)(r,1)[0]},yc=function t(e){var n="";if(vc(e)&&e.nodeValue)return e.nodeValue;if(dc(e)){for(var r=0,i=On()(e.childNodes);r<i.length;r++){n+=t(i[r])}var o=getComputedStyle(e).getPropertyValue("display");"block"!==o&&"list"!==o&&"BR"!==e.tagName||(n+="\n")}return n},Cc=/data-slate-fragment="(.+?)"/m,bc=function t(e,n,r){var i=n.target;if(dc(i)&&i.matches('[contentEditable="false"]'))return!1;if(Ec.getWindow(e).document.contains(i))return Ec.hasDOMNode(e,i,{editable:!0});var o=qn()(r).call(r,(function(t){var e,n=t.addedNodes,r=t.removedNodes,o=bl(n);try{for(o.s();!(e=o.n()).done;){var a=e.value;if(a===i||a.contains(i))return!0}}catch(t){o.e(t)}finally{o.f()}var u,l=bl(r);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c===i||c.contains(i))return!0}}catch(t){l.e(t)}finally{l.f()}}));return!(!o||o===n)&&t(e,o,r)},xc=0,wc=(0,Xu.c)((function t(){(0,$u.c)(this,t),this.id="".concat(xc++)})),Ec={androidPendingDiffs:function(t){return ic.get(t)},androidScheduleFlush:function(t){var e;null===(e=ec.get(t))||void 0===e||e()},blur:function(t){var e=Ec.toDOMNode(t,t),n=Ec.findDocumentOrShadowRoot(t);Yl.set(t,!1),n.activeElement===e&&e.blur()},deselect:function(t){var e=t.selection,n=Ec.findDocumentOrShadowRoot(t).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),e&&Wo.deselect(t)},findDocumentOrShadowRoot:function(t){var e=Ec.toDOMNode(t,t),n=e.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:e.ownerDocument},findEventRange:function(t,e){"nativeEvent"in e&&(e=e.nativeEvent);var n=e,r=n.clientX,i=n.clientY,o=n.target;if(null==r||null==i)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var a,u=Ec.toSlateNode(t,e.target),l=Ec.findPath(t,u);if(Qi.isElement(u)&&$i.isVoid(t,u)){var c=o.getBoundingClientRect(),s=t.isInline(u)?r-c.left<c.left+c.width-r:i-c.top<c.top+c.height-i,f=$i.point(t,l,{edge:s?"start":"end"}),d=s?$i.before(t,f):$i.after(t,f);if(d)return $i.range(t,d)}var h=Ec.getWindow(t).document;if(h.caretRangeFromPoint)a=h.caretRangeFromPoint(r,i);else{var p=h.caretPositionFromPoint(r,i);p&&((a=h.createRange()).setStart(p.offsetNode,p.offset),a.setEnd(p.offsetNode,p.offset))}if(!a)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));return Ec.toSlateRange(t,a,{exactMatch:!1,suppressThrow:!1})},findKey:function(t,e){var n=Hl.get(e);return n||(n=new wc,Hl.set(e,n)),n},findPath:function(t,e){for(var n=[],r=e;;){var i=zl.get(r);if(null==i){if($i.isEditor(r))return n;break}var o=Ul.get(r);if(null==o)break;n.unshift(o),r=i}throw new Error("Unable to find the path for Slate node: ".concat(oo.stringify(e)))},focus:function(t){var e=Ec.toDOMNode(t,t),n=Ec.findDocumentOrShadowRoot(t);Yl.set(t,!0),n.activeElement!==e&&e.focus({preventScroll:!0})},getWindow:function(t){var e=Zl.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(t,e){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).editable,i=void 0!==r&&r,o=Ec.toDOMNode(t,t);try{n=dc(e)?e:e.parentElement}catch(t){var a;if(!Tn()(a=t.message).call(a,'Permission denied to access property "nodeType"'))throw t}return!!n&&!(n.closest("[data-slate-editor]")!==o||i&&!n.isContentEditable&&("boolean"!=typeof n.isContentEditable||n.closest('[contenteditable="false"]')!==o)&&!n.getAttribute("data-slate-zero-width"))},hasEditableTarget:function(t,e){return hc(e)&&Ec.hasDOMNode(t,e,{editable:!0})},hasRange:function(t,e){var n=e.anchor,r=e.focus;return $i.hasPath(t,n.path)&&$i.hasPath(t,r.path)},hasSelectableTarget:function(t,e){return Ec.hasEditableTarget(t,e)||Ec.isTargetInsideNonReadonlyVoid(t,e)},hasTarget:function(t,e){return hc(e)&&Ec.hasDOMNode(t,e)},insertData:function(t,e){t.insertData(e)},insertFragmentData:function(t,e){return t.insertFragmentData(e)},insertTextData:function(t,e){return t.insertTextData(e)},isComposing:function(t){return!!Xl.get(t)},isFocused:function(t){return!!Yl.get(t)},isReadOnly:function(t){return!!ql.get(t)},isTargetInsideNonReadonlyVoid:function(t,e){if(ql.get(t))return!1;var n=Ec.hasTarget(t,e)&&Ec.toSlateNode(t,e);return Qi.isElement(n)&&$i.isVoid(t,n)},setFragmentData:function(t,e,n){return t.setFragmentData(e,n)},toDOMNode:function(t,e){var n=Kl.get(t),r=$i.isEditor(e)?Ql.get(t):null==n?void 0:n.get(Ec.findKey(t,e));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(oo.stringify(e)));return r},toDOMPoint:function(t,e){var n,r=$i.node(t,e.path),i=(0,B.c)(r,1)[0],o=Ec.toDOMNode(t,i);$i.void(t,{at:e})&&(e={path:e.path,offset:0});for(var a=On()(o.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),u=0,l=0;l<a.length;l++){var c=a[l],s=c.childNodes[0];if(null!=s&&null!=s.textContent){var f=s.textContent.length,d=c.getAttribute("data-slate-length"),h=u+(null==d?f:el()(d,10)),p=a[l+1];if(e.offset===h&&null!=p&&p.hasAttribute("data-slate-mark-placeholder")){var v,g=p.childNodes[0];n=[g instanceof sc?g:p,null!==(v=p.textContent)&&void 0!==v&&ol()(v).call(v,"\ufeff")?1:0];break}if(e.offset<=h){n=[s,Math.min(f,Math.max(0,e.offset-u))];break}u=h}}if(!n)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(oo.stringify(e)));return n},toDOMRange:function(t,e){var n=e.anchor,r=e.focus,i=zi.isBackward(e),o=Ec.toDOMPoint(t,n),a=zi.isCollapsed(e)?o:Ec.toDOMPoint(t,r),u=Ec.getWindow(t).document.createRange(),l=i?a:o,c=(0,B.c)(l,2),s=c[0],f=c[1],d=i?o:a,h=(0,B.c)(d,2),p=h[0],v=h[1],g=!!(dc(s)?s:s.parentElement).getAttribute("data-slate-zero-width"),m=!!(dc(p)?p:p.parentElement).getAttribute("data-slate-zero-width");return u.setStart(s,g?1:f),u.setEnd(p,m?1:v),u},toSlateNode:function(t,e){var n=dc(e)?e:e.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Jl.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:function(t,e,n){var r=n.exactMatch,i=n.suppressThrow,o=r?e:function(t){var e=(0,B.c)(t,2),n=e[0],r=e[1];if(dc(n)&&n.childNodes.length){var i=r===n.childNodes.length,o=i?r-1:r,a=gc(n,o,i?"backward":"forward"),u=(0,B.c)(a,2);for(n=u[0],i=(o=u[1])<r;dc(n)&&n.childNodes.length;){var l=i?n.childNodes.length-1:0;n=mc(n,l,i?"backward":"forward")}r=i&&null!=n.textContent?n.textContent.length:0}return[n,r]}(e),a=(0,B.c)(o,2),u=a[0],l=a[1],c=u.parentNode,s=null,f=0;if(c){var d,h,p=Ec.toDOMNode(t,t),v=c.closest('[data-slate-void="true"]'),g=v&&p.contains(v)?v:null,m=c.closest("[data-slate-leaf]"),y=null;if(m){if(s=m.closest('[data-slate-node="text"]')){var C,b=Ec.getWindow(t).document.createRange();b.setStart(s,0),b.setEnd(u,l);var x=b.cloneContents(),w=O()(C=[]).call(C,(0,En.c)(Dn()(Array.prototype).call(x.querySelectorAll("[data-slate-zero-width]"))),(0,En.c)(Dn()(Array.prototype).call(x.querySelectorAll("[contenteditable=false]"))));Q()(w).call(w,(function(t){var e,n;Tl&&!r&&t.hasAttribute("data-slate-zero-width")&&t.textContent.length>0&&"\ufeff"!==t.textContext?ol()(e=t.textContent).call(e,"\ufeff")&&(t.textContent=Dn()(n=t.textContent).call(n,1)):t.parentNode.removeChild(t)})),f=x.textContent.length,y=s}}else if(g){for(var E,S=g.querySelectorAll("[data-slate-leaf]"),k=0;k<S.length;k++){var A=S[k];if(Ec.hasDOMNode(t,A)){m=A;break}}if(m)s=m.closest('[data-slate-node="text"]'),f=(y=m).textContent.length,Q()(E=y.querySelectorAll("[data-slate-zero-width]")).call(E,(function(t){f-=t.textContent.length}));else f=1}y&&f===y.textContent.length&&Tl&&"z"===y.getAttribute("data-slate-zero-width")&&null!==(d=y.textContent)&&void 0!==d&&ol()(d).call(d,"\ufeff")&&(c.hasAttribute("data-slate-zero-width")||Bl&&null!==(h=y.textContent)&&void 0!==h&&Ln()(h).call(h,"\n\n"))&&f--}if(Tl&&!s&&!r){var D=c.hasAttribute("data-slate-node")?c:c.closest("[data-slate-node]");if(D&&Ec.hasDOMNode(t,D,{editable:!0})){var I=Ec.toSlateNode(t,D),T=$i.start(t,Ec.findPath(t,I)),M=T.path,R=T.offset;return D.querySelector("[data-slate-leaf]")||(R=l),{path:M,offset:R}}}if(!s){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var L=Ec.toSlateNode(t,s);return{path:Ec.findPath(t,L),offset:f}},toSlateRange:function(t,e,n){var r,i,o,a,u,l,c=n.exactMatch,s=n.suppressThrow;if(pc(e)?e.anchorNode:e.startContainer)if(pc(e)){if(Bl&&e.rangeCount>1){o=e.focusNode;var f=e.getRangeAt(0),d=e.getRangeAt(e.rangeCount-1);if(o instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement&&d.startContainer instanceof HTMLTableRowElement){var h=function t(e){return e.childElementCount>0?t(e.children[0]):e},p=f.startContainer,v=d.startContainer,g=h(p.children[f.startOffset]),m=h(v.children[d.startOffset]);a=0,r=m.childNodes.length>0?m.childNodes[0]:m,o=g.childNodes.length>0?g.childNodes[0]:g,i=m instanceof HTMLElement?m.innerHTML.length:0}else f.startContainer===o?(r=d.endContainer,i=d.endOffset,a=f.startOffset):(r=f.startContainer,i=f.endOffset,a=d.startOffset)}else r=e.anchorNode,i=e.anchorOffset,o=e.focusNode,a=e.focusOffset;u=Ll&&function(t){for(var e=t&&t.parentNode;e;){if("[object ShadowRoot]"===e.toString())return!0;e=e.parentNode}return!1}(r)||Bl?e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:e.isCollapsed}else r=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,u=e.collapsed;if(null==r||null==o||null==i||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));"getAttribute"in o&&"false"===o.getAttribute("contenteditable")&&"true"!==o.getAttribute("data-slate-void")&&(o=r,a=(null===(l=r.textContent)||void 0===l?void 0:l.length)||0);var y=Ec.toSlatePoint(t,[r,i],{exactMatch:c,suppressThrow:s});if(!y)return null;var C=u?y:Ec.toSlatePoint(t,[o,a],{exactMatch:c,suppressThrow:s});if(!C)return null;var b={anchor:y,focus:C};return zi.isExpanded(b)&&zi.isForward(b)&&dc(o)&&$i.void(t,{at:b.focus,mode:"highest"})&&(b=$i.unhangRange(t,b,{voids:!0})),b}};function Sc(t,e){var n,r=e.path,i=e.diff;if(!$i.hasPath(t,r))return!1;var o,a=Hi.get(t,r);if(!fo.isText(a))return!1;if(i.start!==a.text.length||0===i.text.length)return Dn()(o=a.text).call(o,i.start,i.start+i.text.length)===i.text;var u=Li.next(r);if(!$i.hasPath(t,u))return!1;var l=Hi.get(t,u);return fo.isText(l)&&ol()(n=l.text).call(n,i.text)}function kc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return G()(n).call(n,(function(t,e){return Dn()(t).call(t,0,e.start)+e.text+Dn()(t).call(t,e.end)}),t)}function Ac(t,e){var n=e.start,r=e.end,i=e.text,o=Dn()(t).call(t,n,r),a=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r))return r;return n}(o,i),u=function(t,e,n){for(var r=Math.min(t.length,e.length,n),i=0;i<r;i++)if(t.charAt(t.length-i-1)!==e.charAt(e.length-i-1))return i;return r}(o,i,Math.min(o.length-a,i.length-a)),l={start:n+a,end:r-u,text:Dn()(i).call(i,a,i.length-u)};return l.start===l.end&&0===l.text.length?null:l}function Dc(t){var e=t.path,n=t.diff;return{anchor:{path:e,offset:n.start},focus:{path:e,offset:n.end}}}function Ic(t,e){var n=e.path,r=e.offset;if(!$i.hasPath(t,n))return null;var i=Hi.get(t,n);if(!fo.isText(i))return null;var o=$i.above(t,{match:function(e){return Qi.isElement(e)&&$i.isBlock(t,e)},at:n});if(!o)return null;for(;r>i.text.length;){var a=$i.next(t,{at:n,match:fo.isText});if(!a||!Li.isDescendant(a[1],o[1]))return null;r-=i.text.length,i=a[0],n=a[1]}return{path:n,offset:r}}function Tc(t,e){var n=Ic(t,e.anchor);if(!n)return null;if(zi.isCollapsed(e))return{anchor:n,focus:n};var r=Ic(t,e.focus);return r?{anchor:n,focus:r}:null}function Bc(t,e,n){var r=ic.get(t),i=null==r?void 0:qn()(r).call(r,(function(t){var n=t.path;return Li.equals(n,e.path)}));if(!i||e.offset<=i.diff.start)return ro.transform(e,n,{affinity:"backward"});var o=i.diff;if(e.offset<=o.start+o.text.length){var a={path:e.path,offset:o.start},u=ro.transform(a,n,{affinity:"backward"});return u?{path:u.path,offset:u.offset+e.offset-o.start}:null}var l={path:e.path,offset:e.offset-o.text.length+o.end-o.start},c=ro.transform(l,n,{affinity:"backward"});return c?"split_node"===n.type&&Li.equals(n.path,e.path)&&l.offset<n.position&&o.start<n.position?c:{path:c.path,offset:c.offset+o.text.length-o.end+o.start}:null}function Mc(t,e,n){var r=Bc(t,e.anchor,n);if(!r)return null;if(zi.isCollapsed(e))return{anchor:r,focus:r};var i=Bc(t,e.focus,n);return i?{anchor:r,focus:i}:null}function Rc(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=Rc(Object(r),!0)).call(n,(function(e){wl(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=Rc(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}function Fc(t){var e=t.editor,n=t.scheduleOnDOMSelectionChange,r=t.onDOMSelectionChange,i=!1,o=null,a=null,u=null,l=0,c=!1,s=function(){var t=ac.get(e);if(ac.delete(e),t){var n=e.selection,r=Tc(e,t);!r||n&&zi.equals(r,n)||Wo.select(e,r)}},f=function(){if(a&&(clearTimeout(a),a=null),u&&(clearTimeout(u),u=null),g()||v()){i||(i=!0,lt()((function(){return i=!1}))),v()&&(i="action");var t=e.selection&&$i.rangeRef(e,e.selection,{affinity:"forward"});rc.set(e,e.marks),oc.get(e),ic.get(e);for(var o,l=g();o=null===(f=ic.get(e))||void 0===f?void 0:f[0];){var f,d,h=nc.get(e);void 0!==h&&(nc.delete(e),e.marks=h),h&&!1===c&&(c=null);var p=Dc(o);e.selection&&zi.equals(e.selection,p)||Wo.select(e,p),o.diff.text?$i.insertText(e,o.diff.text):$i.deleteFragment(e),ic.set(e,null===(d=ic.get(e))||void 0===d?void 0:L()(d).call(d,(function(t){return t.id!==o.id}))),Sc(e,o)||(l=!1,oc.delete(e),rc.delete(e),i="action",ac.delete(e),n.cancel(),r.cancel(),null==t||t.unref())}var m=null==t?void 0:t.unref();if(!m||ac.get(e)||e.selection&&zi.equals(m,e.selection)||Wo.select(e,m),v())!function(){var t=oc.get(e);if(oc.delete(e),t){if(t.at){var n=ro.isPoint(t.at)?Ic(e,t.at):Tc(e,t.at);if(!n)return;var r=$i.range(e,n);e.selection&&zi.equals(e.selection,r)||Wo.select(e,n)}t.run()}}();else{l&&n(),n.flush(),r.flush(),s();var y=rc.get(e);rc.delete(e),void 0!==y&&(e.marks=y,e.onChange())}}else s()},d=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Wl.get(e);n&&(g()||t?n.style.display="none":n.style.removeProperty("display"))},h=function(t,n){var r,i=null!==(r=ic.get(e))&&void 0!==r?r:[];ic.set(e,i);var o=Hi.leaf(e,t),a=dt()(i).call(i,(function(e){return Li.equals(e.path,t)}));if(a<0)return Ac(o.text,n)&&i.push({path:t,diff:n,id:l++}),void d();var u=function(t,e,n){var r=Math.min(e.start,n.start),i=Math.max(0,Math.min(e.start+e.text.length,n.end)-n.start),o=kc(t,e,n),a=Math.max(n.start+n.text.length,e.start+e.text.length+(e.start+e.text.length>n.start?n.text.length:0)-i),u=Dn()(o).call(o,r,a);return Ac(t,{start:r,end:Math.max(e.end,n.end-e.text.length+(e.end-e.start)),text:u})}(o.text,i[a].diff,n);if(!u)return si()(i).call(i,a,1),void d();i[a]=Lc(Lc({},i[a]),{},{diff:u})},p=function(t){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).at;c=!1,ac.delete(e),n.cancel(),r.cancel(),v()&&f(),oc.set(e,{at:i,run:t}),u=lt()(f)},v=function(){return!!oc.get(e)},g=function(){var t;return!(null===(t=ic.get(e))||void 0===t||!t.length)},m=function(t){var n,r;ac.set(e,t),a&&(clearTimeout(a),a=null);var i=e.selection;if(t){var o=!i||!Li.equals(i.anchor.path,t.anchor.path),u=!i||!Li.equals(Dn()(n=i.anchor.path).call(n,0,-1),Dn()(r=t.anchor.path).call(r,0,-1));(o&&c||u)&&(c=!1),(o||g())&&(a=lt()(f,200))}},y=function(){v()||(u=lt()(f))};return{flush:f,scheduleFlush:y,hasPendingDiffs:g,hasPendingAction:v,hasPendingChanges:function(){return v()||g()},isFlushing:function(){return i},handleUserSelect:m,handleCompositionEnd:function(t){o&&clearTimeout(o),o=lt()((function(){Xl.set(e,!1),f()}),25)},handleCompositionStart:function(t){Xl.set(e,!0),o&&(clearTimeout(o),o=null)},handleDOMBeforeInput:function(t){var n;a&&(clearTimeout(a),a=null);var r=t.inputType,i=null,o=t.dataTransfer||t.data||void 0;!1!==c&&"insertText"!==r&&"insertCompositionText"!==r&&(c=!1);var u=t.getTargetRanges(),l=(0,B.c)(u,1)[0];l&&(i=Ec.toSlateRange(e,l,{exactMatch:!1,suppressThrow:!0}));var s=Ec.getWindow(e).getSelection();if(!i&&s&&(l=s,i=Ec.toSlateRange(e,s,{exactMatch:!1,suppressThrow:!0})),i=null!==(n=i)&&void 0!==n?n:e.selection){var f,d=!0;if(ol()(r).call(r,"delete")){var v;if(zi.isExpanded(i)){var g=zi.edges(i),C=(0,B.c)(g,2),b=C[0],x=C[1];if(Hi.leaf(e,b.path).text.length===b.offset&&0===x.offset){var w=$i.next(e,{at:b.path,match:fo.isText});w&&Li.equals(w[1],x.path)&&(i={anchor:x,focus:x})}}var E=Ln()(r).call(r,"Backward")?"backward":"forward",S=zi.edges(i),k=(0,B.c)(S,2),A=k[0],D=k[1],I=$i.leaf(e,A.path),T=(0,B.c)(I,2),M=T[0],R=T[1],L={text:"",start:A.offset,end:D.offset},F=ic.get(e),_=null==F?void 0:qn()(F).call(F,(function(t){return Li.equals(t.path,R)})),P=_?[_.diff,L]:[L];if(0===kc.apply(void 0,O()(v=[M.text]).call(v,P)).length&&(d=!1),zi.isExpanded(i)){if(d&&Li.equals(i.anchor.path,i.focus.path)){var N={path:i.anchor.path,offset:A.offset},j=$i.range(e,N,N);return m(j),h(i.anchor.path,{text:"",end:D.offset,start:A.offset})}return p((function(){return $i.deleteFragment(e,{direction:E})}),{at:i})}}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p((function(){return $i.deleteFragment(e)}),{at:i});case"deleteContent":case"deleteContentForward":var G=i.anchor;if(d&&zi.isCollapsed(i)){var U=Hi.leaf(e,G.path);if(G.offset<U.text.length)return h(G.path,{text:"",start:G.offset,end:G.offset+1})}return p((function(){return $i.deleteForward(e)}),{at:i});case"deleteContentBackward":var z,Z=i.anchor,W=pc(l)?l.isCollapsed:!(null===(z=l)||void 0===z||!z.collapsed);return d&&W&&zi.isCollapsed(i)&&Z.offset>0?h(Z.path,{text:"",start:Z.offset-1,end:Z.offset}):p((function(){return $i.deleteBackward(e)}),{at:i});case"deleteEntireSoftLine":return p((function(){$i.deleteBackward(e,{unit:"line"}),$i.deleteForward(e,{unit:"line"})}),{at:i});case"deleteHardLineBackward":return p((function(){return $i.deleteBackward(e,{unit:"block"})}),{at:i});case"deleteSoftLineBackward":return p((function(){return $i.deleteBackward(e,{unit:"line"})}),{at:i});case"deleteHardLineForward":return p((function(){return $i.deleteForward(e,{unit:"block"})}),{at:i});case"deleteSoftLineForward":return p((function(){return $i.deleteForward(e,{unit:"line"})}),{at:i});case"deleteWordBackward":return p((function(){return $i.deleteBackward(e,{unit:"word"})}),{at:i});case"deleteWordForward":return p((function(){return $i.deleteForward(e,{unit:"word"})}),{at:i});case"insertLineBreak":return p((function(){return $i.insertSoftBreak(e)}),{at:i});case"insertParagraph":return p((function(){return $i.insertBreak(e)}),{at:i});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if("DataTransfer"===(null==(f=o)?void 0:f.constructor.name))return p((function(){return Ec.insertData(e,o)}),{at:i});var J=null!=o?o:"";if(nc.get(e)&&(J=J.replace("\ufeff","")),"insertText"===r&&/.*\n.*\n$/.test(J)&&(J=Dn()(J).call(J,0,-1)),Tn()(J).call(J,"\n"))return p((function(){var t=J.split("\n");Q()(t).call(t,(function(n,r){n&&$i.insertText(e,n),r!==t.length-1&&$i.insertSoftBreak(e)}))}),{at:i});if(Li.equals(i.anchor.path,i.focus.path)){var V=zi.edges(i),H=(0,B.c)(V,2),K=H[0],q=H[1],Y={start:K.offset,end:q.offset,text:J};if(J&&c&&"insertCompositionText"===r){var X=c.start+c.text.search(/\S|$/);Y.start+Y.text.search(/\S|$/)===X+1&&Y.end===c.start+c.text.length?(Y.start-=1,c=null,y()):c=!1}else c="insertText"===r&&(null===c?Y:!(!c||!zi.isCollapsed(i)||c.end+c.text.length!==K.offset)&&Lc(Lc({},c),{},{text:c.text+J}));if(d)return void h(K.path,Y)}return p((function(){return $i.insertText(e,J)}),{at:i})}}},handleKeyDown:function(t){g()||(d(!0),lt()(d))},handleDomMutations:function(t){var n;g()||v()||Xn()(t).call(t,(function(n){return bc(e,n,t)}))&&(null===(n=uc.get(e))||void 0===n||n())},handleInput:function(){!v()&&g()||f()}}}var _c=jl?H.useLayoutEffect:H.useEffect;var Pc=["node"];function Nc(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}var Oc={subtree:!0,childList:!0,characterData:!0},jc=Tl?function(t){var e=t.node,n=El(t,Pc);if(!Tl)return null;var r,i=kl(),o=(r=(0,H.useRef)(!1),(0,H.useEffect)((function(){return r.current=!0,function(){r.current=!1}}),[]),r.current),a=(0,H.useState)((function(){return Fc(function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=Nc(Object(r),!0)).call(n,(function(e){wl(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=Nc(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}({editor:i},n))})),u=(0,B.c)(a,1)[0];return function(t,e,n){var r=(0,H.useState)((function(){return new MutationObserver(e)})),i=(0,B.c)(r,1)[0];_c((function(){i.takeRecords()})),(0,H.useEffect)((function(){if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return i.observe(t.current,n),function(){return i.disconnect()}}),[i,t,n])}(e,u.handleDomMutations,Oc),ec.set(i,u.scheduleFlush),o&&u.flush(),u}:function(){return null},Gc=["anchor","focus"],Uc=["anchor","focus"],zc=function(t,e){var n,r,i,o=El(t,Gc),a=El(e,Uc);return t[lc]===e[lc]&&(n=o,r=a,C()(n).length===C()(r).length&&li()(i=C()(n)).call(i,(function(t){return r.hasOwnProperty(t)&&n[t]===r[t]})))},Zc=function(t){var e,n=t.isLast,r=t.leaf,i=t.parent,o=t.text,a=kl(),u=Ec.findPath(a,o),l=Li.parent(u),c=!0===r[cc];return a.isVoid(i)?K().createElement(Jc,{length:Hi.string(i).length}):""!==r.text||i.children[i.children.length-1]!==o||a.isInline(i)||""!==$i.string(a,l)?""===r.text?K().createElement(Jc,{isMarkPlaceholder:c}):n&&"\n"===Dn()(e=r.text).call(e,-1)?K().createElement(Qc,{isTrailing:!0,text:r.text}):K().createElement(Qc,{text:r.text}):K().createElement(Jc,{isLineBreak:!0,isMarkPlaceholder:c})},Qc=function(t){var e=t.text,n=t.isTrailing,r=void 0!==n&&n,i=(0,H.useRef)(null),o=function(){var t;return O()(t="".concat(null!=e?e:"")).call(t,r?"\n":"")},a=(0,H.useState)(o),u=(0,B.c)(a,1)[0];return _c((function(){var t=o();i.current&&i.current.textContent!==t&&(i.current.textContent=t)})),K().createElement(Wc,{ref:i},u)},Wc=(0,H.memo)((0,H.forwardRef)((function(t,e){return K().createElement("span",{"data-slate-string":!0,ref:e},t.children)}))),Jc=function(t){var e=t.length,n=void 0===e?0:e,r=t.isLineBreak,i=void 0!==r&&r,o=t.isMarkPlaceholder,a={"data-slate-zero-width":i?"n":"z","data-slate-length":n};return void 0!==o&&o&&(a["data-slate-mark-placeholder"]=!0),K().createElement("span",(0,at.c)({},a),Tl&&i?null:"\ufeff",i?K().createElement("br",null):null)};function Vc(t){t.current&&(clearTimeout(t.current),t.current=null)}var Hc=function(t){var e=t.leaf,n=t.isLast,r=t.text,i=t.parent,o=t.renderPlaceholder,a=t.renderLeaf,u=void 0===a?function(t){return K().createElement(qc,(0,at.c)({},t))}:a,l=kl(),c=(0,H.useRef)(null),s=(0,H.useRef)(null),f=(0,H.useState)(!1),d=(0,B.c)(f,2),h=d[0],p=d[1],v=(0,H.useRef)(null),g=(0,H.useCallback)((function(t){if(function(t,e){t.current&&(t.current.disconnect(),e&&(t.current=null))}(c,null==t),null==t){var n;Wl.delete(l),null===(n=e.onPlaceholderResize)||void 0===n||n.call(e,null)}else{if(Wl.set(l,t),!c.current){var r=window.ResizeObserver||ResizeObserver;c.current=new r((function(){var n;null===(n=e.onPlaceholderResize)||void 0===n||n.call(e,t)}))}c.current.observe(t),s.current=t}}),[s,e,l]),m=K().createElement(Zc,{isLast:n,leaf:e,parent:i,text:r}),y=e[lc];if((0,H.useEffect)((function(){return y?v.current||(v.current=lt()((function(){p(!0),v.current=null}),300)):(Vc(v),p(!1)),function(){return Vc(v)}}),[y,p]),y&&h){var C={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Ml?"inherit":void 0},contentEditable:!1,ref:g}};m=K().createElement(K().Fragment,null,o(C),m)}return u({attributes:{"data-slate-leaf":!0},children:m,leaf:e,text:r})},Kc=K().memo(Hc,(function(t,e){return e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&fo.equals(e.leaf,t.leaf)&&e.leaf[lc]===t.leaf[lc]})),qc=function(t){var e=t.attributes,n=t.children;return K().createElement("span",(0,at.c)({},e),n)},Yc=function(t){for(var e=t.decorations,n=t.isLast,r=t.parent,i=t.renderPlaceholder,o=t.renderLeaf,a=t.text,u=kl(),l=(0,H.useRef)(null),c=fo.decorations(a,e),s=Ec.findKey(u,a),f=[],d=0;d<c.length;d++){var h,p=c[d];f.push(K().createElement(Kc,{isLast:n&&d===c.length-1,key:O()(h="".concat(s.id,"-")).call(h,d),renderPlaceholder:i,leaf:p,text:a,parent:r,renderLeaf:o}))}var v=(0,H.useCallback)((function(t){var e=Kl.get(u);t?(null==e||e.set(s,t),Vl.set(a,t),Jl.set(t,a)):(null==e||e.delete(s),Vl.delete(a),l.current&&Jl.delete(l.current)),l.current=t}),[l,u,s,a]);return K().createElement("span",{"data-slate-node":"text",ref:v},f)},Xc=K().memo(Yc,(function(t,e){return e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(r.anchor.offset!==i.anchor.offset||r.focus.offset!==i.focus.offset||!zc(r,i))return!1}return!0}(e.decorations,t.decorations)})),$c=function(t){var e=t.decorations,n=t.element,r=t.renderElement,i=void 0===r?function(t){return K().createElement(es,(0,at.c)({},t))}:r,o=t.renderPlaceholder,a=t.renderLeaf,u=t.selection,l=kl(),c=us(),s=l.isInline(n),f=Ec.findKey(l,n),d=(0,H.useCallback)((function(t){var e=Kl.get(l);t?(null==e||e.set(f,t),Vl.set(n,t),Jl.set(t,n)):(null==e||e.delete(f),Vl.delete(n))}),[l,f,n]),h=os({decorations:e,node:n,renderElement:i,renderPlaceholder:o,renderLeaf:a,selection:u}),p={"data-slate-node":"element",ref:d};if(s&&(p["data-slate-inline"]=!0),!s&&$i.hasInlines(l,n)){var v=Hi.string(n),g=fl()(v);"rtl"===g&&(p.dir=g)}if($i.isVoid(l,n)){p["data-slate-void"]=!0,!c&&s&&(p.contentEditable=!1);var m=s?"span":"div",y=Hi.texts(n),C=(0,B.c)(y,1),b=(0,B.c)(C[0],1)[0];h=K().createElement(m,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},K().createElement(Xc,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:b})),Ul.set(b,0),zl.set(b,n)}return i({attributes:p,children:h,element:n})},ts=K().memo($c,(function(t,e){return t.element===e.element&&t.renderElement===e.renderElement&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(!zi.equals(r,i)||!zc(r,i))return!1}return!0}(t.decorations,e.decorations)&&(t.selection===e.selection||!!t.selection&&!!e.selection&&zi.equals(t.selection,e.selection))})),es=function(t){var e=t.attributes,n=t.children,r=t.element,i=kl().isInline(r)?"span":"div";return K().createElement(i,(0,at.c)({},e,{style:{position:"relative"}}),n)},ns=(0,H.createContext)((function(){return[]})),rs=(0,H.createContext)(!1),is=function(){return(0,H.useContext)(rs)},os=function(t){for(var e=t.decorations,n=t.node,r=t.renderElement,i=t.renderPlaceholder,o=t.renderLeaf,a=t.selection,u=(0,H.useContext)(ns),l=kl(),c=Ec.findPath(l,n),s=[],f=Qi.isElement(n)&&!l.isInline(n)&&$i.hasInlines(l,n),d=0;d<n.children.length;d++){var h,p=O()(c).call(c,d),v=n.children[d],g=Ec.findKey(l,v),m=$i.range(l,p),y=a&&zi.intersection(m,a),C=u([v,p]),b=bl(e);try{for(b.s();!(h=b.n()).done;){var x=h.value,w=zi.intersection(x,m);w&&C.push(w)}}catch(t){b.e(t)}finally{b.f()}Qi.isElement(v)?s.push(K().createElement(rs.Provider,{key:"provider-".concat(g.id),value:!!y},K().createElement(ts,{decorations:C,element:v,key:g.id,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:y}))):s.push(K().createElement(Xc,{decorations:C,key:g.id,isLast:f&&d===n.children.length-1,parent:n,renderPlaceholder:i,renderLeaf:o,text:v})),Ul.set(v,d),zl.set(v,n)}return s},as=(0,H.createContext)(!1),us=function(){return(0,H.useContext)(as)},ls=(0,H.createContext)(null);var cs={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},ss={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},fs={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ds=function(t){var e=cs[t],n=ss[t],r=fs[t],i=e&&(0,ml.g5)(e),o=n&&(0,ml.g5)(n),a=r&&(0,ml.g5)(r);return function(t){return!(!i||!i(t))||(!!(Il&&o&&o(t))||!(Il||!a||!a(t)))}},hs={isBold:ds("bold"),isCompose:ds("compose"),isMoveBackward:ds("moveBackward"),isMoveForward:ds("moveForward"),isDeleteBackward:ds("deleteBackward"),isDeleteForward:ds("deleteForward"),isDeleteLineBackward:ds("deleteLineBackward"),isDeleteLineForward:ds("deleteLineForward"),isDeleteWordBackward:ds("deleteWordBackward"),isDeleteWordForward:ds("deleteWordForward"),isExtendBackward:ds("extendBackward"),isExtendForward:ds("extendForward"),isExtendLineBackward:ds("extendLineBackward"),isExtendLineForward:ds("extendLineForward"),isItalic:ds("italic"),isMoveLineBackward:ds("moveLineBackward"),isMoveLineForward:ds("moveLineForward"),isMoveWordBackward:ds("moveWordBackward"),isMoveWordForward:ds("moveWordForward"),isRedo:ds("redo"),isSoftBreak:ds("insertSoftBreak"),isSplitBlock:ds("splitBlock"),isTransposeCharacter:ds("transposeCharacter"),isUndo:ds("undo")},ps={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0},vs=function(t){function e(){var t;return(0,$u.c)(this,e),(t=yl(this,e,arguments)).context=null,t.manager=null,t.mutationObserver=null,t}return(0,Yu.c)(e,t),(0,Xu.c)(e,[{key:"observe",value:function(){var t,e=this.props.node;if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");null===(t=this.mutationObserver)||void 0===t||t.observe(e.current,ps)}},{key:"componentDidMount",value:function(){var t=this.props.receivedUserInput,e=this.context;this.manager=function(t,e){var n=[],r=function(){n=[]};return{registerMutations:function(r){var i;if(e.current){var o=L()(r).call(r,(function(e){return bc(t,e,r)}));(i=n).push.apply(i,(0,En.c)(o))}},restoreDOM:function(){var t;n.length>0&&(Q()(t=ai()(n).call(n)).call(t,(function(t){var e,n;"characterData"!==t.type&&(Q()(e=t.removedNodes).call(e,(function(e){t.target.insertBefore(e,t.nextSibling)})),Q()(n=t.addedNodes).call(n,(function(e){t.target.removeChild(e)})))})),r())},clear:r}}(e,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}},{key:"getSnapshotBeforeUpdate",value:function(){var t,e,n,r,i=null===(t=this.mutationObserver)||void 0===t?void 0:t.takeRecords();null!=i&&i.length&&(null===(r=this.manager)||void 0===r||r.registerMutations(i));return null===(e=this.mutationObserver)||void 0===e||e.disconnect(),null===(n=this.manager)||void 0===n||n.restoreDOM(),null}},{key:"componentDidUpdate",value:function(){var t;null===(t=this.manager)||void 0===t||t.clear(),this.observe()}},{key:"componentWillUnmount",value:function(){var t;null===(t=this.mutationObserver)||void 0===t||t.disconnect()}},{key:"render",value:function(){return this.props.children}}]),e}(H.Component);vs.contextType=Sl;var gs=Tl?vs:function(t){var e=t.children;return K().createElement(K().Fragment,null,e)},ms=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],ys=["text"];function Cs(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=Cs(Object(r),!0)).call(n,(function(e){wl(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=Cs(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var xs=function(t){return K().createElement(K().Fragment,null,os(t))},ws=function(t){var e=(0,H.useCallback)((function(t){return K().createElement(Es,(0,at.c)({},t))}),[]),n=t.autoFocus,r=t.decorate,i=void 0===r?Ss:r,o=t.onDOMBeforeInput,a=t.placeholder,u=t.readOnly,l=void 0!==u&&u,c=t.renderElement,s=t.renderLeaf,f=t.renderPlaceholder,d=void 0===f?e:f,h=t.scrollSelectionIntoView,p=void 0===h?ks:h,v=t.style,g=void 0===v?{}:v,m=t.as,y=void 0===m?"div":m,b=t.disableDefaultStyles,x=void 0!==b&&b,w=El(t,ms),E=function(){var t=(0,H.useContext)(ls);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");return t.editor}(),S=(0,H.useState)(!1),k=(0,B.c)(S,2),A=k[0],D=k[1],I=(0,H.useRef)(null),T=(0,H.useRef)([]),R=(0,H.useState)(),L=(0,B.c)(R,2),F=L[0],_=L[1],N=function(){var t=kl(),e=(0,H.useRef)(!1),n=(0,H.useRef)(0),r=(0,H.useCallback)((function(){if(!e.current){e.current=!0;var r=Ec.getWindow(t);r.cancelAnimationFrame(n.current),n.current=r.requestAnimationFrame((function(){e.current=!1}))}}),[t]);return(0,H.useEffect)((function(){return function(){return cancelAnimationFrame(n.current)}}),[]),{receivedUserInput:e,onUserInput:r}}(),O=N.onUserInput,j=N.receivedUserInput,G=(0,H.useReducer)((function(t){return t+1}),0),U=(0,B.c)(G,2)[1];uc.set(E,U),ql.set(E,l);var z=(0,H.useMemo)((function(){return{isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}}),[]);(0,H.useEffect)((function(){I.current&&n&&I.current.focus()}),[n]);var Z=(0,H.useRef)(),Q=(0,H.useMemo)((function(){return vl()((function(){var t=Z.current;if((Tl||!Ec.isComposing(E))&&(!z.isUpdatingSelection||null!=t&&t.isFlushing())&&!z.isDraggingInternally){var e=Ec.findDocumentOrShadowRoot(E),n=e.activeElement,r=Ec.toDOMNode(E,E),i=e.getSelection();if(n===r?(z.latestElement=n,Yl.set(E,!0)):Yl.delete(E),!i)return Wo.deselect(E);var o=i.anchorNode,a=i.focusNode,u=Ec.hasEditableTarget(E,o)||Ec.isTargetInsideNonReadonlyVoid(E,o),c=Ec.hasEditableTarget(E,a)||Ec.isTargetInsideNonReadonlyVoid(E,a);if(u&&c){var s=Ec.toSlateRange(E,i,{exactMatch:!1,suppressThrow:!0});s&&(Ec.isComposing(E)||null!=t&&t.hasPendingChanges()||null!=t&&t.isFlushing()?null==t||t.handleUserSelect(s):Wo.select(E,s))}!l||u&&c||Wo.deselect(E)}}),100)}),[E,l,z]),W=(0,H.useMemo)((function(){return hl()(Q,0)}),[Q]);Z.current=jc({node:I,onDOMSelectionChange:Q,scheduleOnDOMSelectionChange:W}),_c((function(){var t,e,n;I.current&&(n=fc(I.current))?(Zl.set(E,n),Ql.set(E,I.current),Vl.set(E,I.current),Jl.set(I.current,E)):Vl.delete(E);var r=E.selection,i=Ec.findDocumentOrShadowRoot(E).getSelection();if(i&&Ec.isFocused(E)&&(null===(t=Z.current)||void 0===t||!t.hasPendingAction())){var o=function(t){var e="None"!==i.type;if(r||e){var n,o=i.focusNode;if(Bl&&i.rangeCount>1){var a=i.getRangeAt(0),u=i.getRangeAt(i.rangeCount-1);n=a.startContainer===o?u.endContainer:a.startContainer}else n=i.anchorNode;var l=Ql.get(E),c=!1;if(l.contains(n)&&l.contains(o)&&(c=!0),e&&c&&r&&!t){var s=Ec.toSlateRange(E,i,{exactMatch:!0,suppressThrow:!0});if(s&&zi.equals(s,r)){var f,d;if(!z.hasMarkPlaceholder)return;if(null!==(f=n)&&void 0!==f&&null!==(d=f.parentElement)&&void 0!==d&&d.hasAttribute("data-slate-mark-placeholder"))return}}if(!r||Ec.hasRange(E,r)){z.isUpdatingSelection=!0;var h=r&&Ec.toDOMRange(E,r);return h?(Ec.isComposing(E)&&!Tl?i.collapseToEnd():zi.isBackward(r)?i.setBaseAndExtent(h.endContainer,h.endOffset,h.startContainer,h.startOffset):i.setBaseAndExtent(h.startContainer,h.startOffset,h.endContainer,h.endOffset),p(E,h)):i.removeAllRanges(),h}E.selection=Ec.toSlateRange(E,i,{exactMatch:!1,suppressThrow:!0})}};i.rangeCount<=1&&o();var a="action"===(null===(e=Z.current)||void 0===e?void 0:e.isFlushing());if(Tl&&a){var u=null,l=requestAnimationFrame((function(){if(a){var t=function(t){try{Ec.toDOMNode(E,E).focus(),o(t)}catch(t){}};t(),u=lt()((function(){t(!0),z.isUpdatingSelection=!1}))}}));return function(){cancelAnimationFrame(l),u&&clearTimeout(u)}}lt()((function(){z.isUpdatingSelection=!1}))}}));var J=(0,H.useCallback)((function(t){if(O(),!l&&Ec.hasEditableTarget(E,t.target)&&!Is(t,o)){var e;if(Z.current)return Z.current.handleDOMBeforeInput(t);W.flush(),Q.flush();var n=E.selection,r=t.inputType,i=t.dataTransfer||t.data||void 0,a="insertCompositionText"===r||"deleteCompositionText"===r;if(a&&Ec.isComposing(E))return;var u=!1;if("insertText"===r&&n&&zi.isCollapsed(n)&&t.data&&1===t.data.length&&/[a-z ]/i.test(t.data)&&0!==n.anchor.offset){var c,s;u=!0,E.marks&&(u=!1);var f=n.anchor,d=Ec.toDOMPoint(E,f),h=(0,B.c)(d,2),p=h[0],v=h[1],g=null===(c=p.parentElement)||void 0===c?void 0:c.closest("a"),m=Ec.getWindow(E);if(u&&g&&Ec.hasDOMNode(E,g)){var y,C=null==m?void 0:m.document.createTreeWalker(g,NodeFilter.SHOW_TEXT).lastChild();C===p&&(null===(y=C.textContent)||void 0===y?void 0:y.length)===v&&(u=!1)}if(u&&p.parentElement&&"pre"===(null==m||null===(s=m.getComputedStyle(p.parentElement))||void 0===s?void 0:s.whiteSpace)){var b,x=$i.above(E,{at:f.path,match:function(t){return Qi.isElement(t)&&$i.isBlock(E,t)}});x&&Tn()(b=Hi.string(x[0])).call(b,"\t")&&(u=!1)}}if(!ol()(r).call(r,"delete")||ol()(r).call(r,"deleteBy")){var w=t.getTargetRanges(),S=(0,B.c)(w,1)[0];if(S){var k=Ec.toSlateRange(E,S,{exactMatch:!1,suppressThrow:!1});if(!n||!zi.equals(n,k)){u=!1;var A=!a&&E.selection&&$i.rangeRef(E,E.selection);Wo.select(E,k),A&&$l.set(E,A)}}}if(a)return;if(u||t.preventDefault(),n&&zi.isExpanded(n)&&ol()(r).call(r,"delete")){var I=Ln()(r).call(r,"Backward")?"backward":"forward";return void $i.deleteFragment(E,{direction:I})}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":$i.deleteFragment(E);break;case"deleteContent":case"deleteContentForward":$i.deleteForward(E);break;case"deleteContentBackward":$i.deleteBackward(E);break;case"deleteEntireSoftLine":$i.deleteBackward(E,{unit:"line"}),$i.deleteForward(E,{unit:"line"});break;case"deleteHardLineBackward":$i.deleteBackward(E,{unit:"block"});break;case"deleteSoftLineBackward":$i.deleteBackward(E,{unit:"line"});break;case"deleteHardLineForward":$i.deleteForward(E,{unit:"block"});break;case"deleteSoftLineForward":$i.deleteForward(E,{unit:"line"});break;case"deleteWordBackward":$i.deleteBackward(E,{unit:"word"});break;case"deleteWordForward":$i.deleteForward(E,{unit:"word"});break;case"insertLineBreak":$i.insertSoftBreak(E);break;case"insertParagraph":$i.insertBreak(E);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===r&&Ec.isComposing(E)&&(D(!1),Xl.set(E,!1)),"DataTransfer"===(null==i?void 0:i.constructor.name)?Ec.insertData(E,i):"string"==typeof i&&(u?T.current.push((function(){return $i.insertText(E,i)})):$i.insertText(E,i))}var M=null===(e=$l.get(E))||void 0===e?void 0:e.unref();$l.delete(E),!M||E.selection&&zi.equals(E.selection,M)||Wo.select(E,M)}}),[E,Q,O,o,l,W]),V=(0,H.useCallback)((function(t){null==t?(Q.cancel(),W.cancel(),Ql.delete(E),Vl.delete(E),I.current&&Gl&&I.current.removeEventListener("beforeinput",J)):Gl&&t.addEventListener("beforeinput",J),I.current=t}),[Q,W,E,J]);_c((function(){var t=Ec.getWindow(E);return t.document.addEventListener("selectionchange",W),function(){t.document.removeEventListener("selectionchange",W)}}),[W]);var q=i([E,[]]),Y=a&&1===E.children.length&&1===On()(Hi.texts(E)).length&&""===Hi.string(E)&&!A,X=(0,H.useCallback)((function(t){var e;t&&Y?_(null===(e=t.getBoundingClientRect())||void 0===e?void 0:e.height):_(void 0)}),[Y]);if(Y){var $=$i.start(E,[]);q.push((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},lc,!0),"placeholder",a),"onPlaceholderResize",X),"anchor",$),"focus",$))}var tt=E.marks;if(z.hasMarkPlaceholder=!1,E.selection&&zi.isCollapsed(E.selection)&&tt){var et=E.selection.anchor,nt=Hi.leaf(E,et.path),rt=El(nt,ys);if(!fo.equals(nt,tt,{loose:!0})){var it;z.hasMarkPlaceholder=!0;var ot=ul()(P()(it=C()(rt)).call(it,(function(t){return[t,null]})));q.push(bs(bs(bs((0,M.c)({},cc,!0),ot),tt),{},{anchor:et,focus:et}))}}return(0,H.useEffect)((function(){lt()((function(){var t=E.selection;if(t){var e=t.anchor,n=Hi.leaf(E,e.path);if(tt&&!fo.equals(n,tt,{loose:!0}))return void nc.set(E,tt)}nc.delete(E)}))})),K().createElement(as.Provider,{value:l},K().createElement(ns.Provider,{value:i},K().createElement(gs,{node:I,receivedUserInput:j},K().createElement(y,(0,at.c)({role:l?void 0:"textbox","aria-multiline":!l||void 0},w,{spellCheck:!(!Gl&&jl)&&w.spellCheck,autoCorrect:Gl||!jl?w.autoCorrect:"false",autoCapitalize:Gl||!jl?w.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l,zindex:-1,suppressContentEditableWarning:!0,ref:V,style:bs(bs({},x?{}:bs({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},F?{minHeight:F}:{})),g),onBeforeInput:(0,H.useCallback)((function(t){if(!Gl&&!l&&!As(t,w.onBeforeInput)&&Ec.hasSelectableTarget(E,t.target)&&(t.preventDefault(),!Ec.isComposing(E))){var e=t.data;$i.insertText(E,e)}}),[w.onBeforeInput,E,l]),onInput:(0,H.useCallback)((function(t){if(!As(t,w.onInput))if(Z.current)Z.current.handleInput();else{var e,n=bl(T.current);try{for(n.s();!(e=n.n()).done;){(0,e.value)()}}catch(t){n.e(t)}finally{n.f()}T.current=[]}}),[w.onInput]),onBlur:(0,H.useCallback)((function(t){if(!l&&!z.isUpdatingSelection&&Ec.hasSelectableTarget(E,t.target)&&!As(t,w.onBlur)){var e=Ec.findDocumentOrShadowRoot(E);if(z.latestElement!==e.activeElement){var n=t.relatedTarget;if(!(n===Ec.toDOMNode(E,E)||dc(n)&&n.hasAttribute("data-slate-spacer"))){if(null!=n&&hc(n)&&Ec.hasDOMNode(E,n)){var r=Ec.toSlateNode(E,n);if(Qi.isElement(r)&&!E.isVoid(r))return}if(Ml){var i=e.getSelection();null==i||i.removeAllRanges()}Yl.delete(E)}}}}),[l,z.isUpdatingSelection,z.latestElement,E,w.onBlur]),onClick:(0,H.useCallback)((function(t){if(Ec.hasTarget(E,t.target)&&!As(t,w.onClick)&&hc(t.target)){var e=Ec.toSlateNode(E,t.target),n=Ec.findPath(E,e);if(!$i.hasPath(E,n)||Hi.get(E,n)!==e)return;if(3===t.detail&&n.length>=1){var r=n;if(!Qi.isElement(e)||!$i.isBlock(E,e)){var i,o=$i.above(E,{match:function(t){return Qi.isElement(t)&&$i.isBlock(E,t)},at:n});r=null!==(i=null==o?void 0:o[1])&&void 0!==i?i:Dn()(n).call(n,0,1)}var a=$i.range(E,r);return void Wo.select(E,a)}if(l)return;var u=$i.start(E,n),c=$i.end(E,n),s=$i.void(E,{at:u}),f=$i.void(E,{at:c});if(s&&f&&Li.equals(s[1],f[1])){var d=$i.range(E,u);Wo.select(E,d)}}}),[E,w.onClick,l]),onCompositionEnd:(0,H.useCallback)((function(t){if(Ec.hasSelectableTarget(E,t.target)){var e;if(Ec.isComposing(E)&&(D(!1),Xl.set(E,!1)),null===(e=Z.current)||void 0===e||e.handleCompositionEnd(t),As(t,w.onCompositionEnd)||Tl)return;if(!Ml&&!Pl&&!Dl&&!Ol&&!Nl&&t.data){var n=nc.get(E);nc.delete(E),void 0!==n&&(rc.set(E,E.marks),E.marks=n),$i.insertText(E,t.data);var r=rc.get(E);rc.delete(E),void 0!==r&&(E.marks=r)}}}),[w.onCompositionEnd,E]),onCompositionUpdate:(0,H.useCallback)((function(t){Ec.hasSelectableTarget(E,t.target)&&!As(t,w.onCompositionUpdate)&&(Ec.isComposing(E)||(D(!0),Xl.set(E,!0)))}),[w.onCompositionUpdate,E]),onCompositionStart:(0,H.useCallback)((function(t){if(Ec.hasSelectableTarget(E,t.target)){var e;if(null===(e=Z.current)||void 0===e||e.handleCompositionStart(t),As(t,w.onCompositionStart)||Tl)return;D(!0);var n=E.selection;if(n){if(zi.isExpanded(n))return void $i.deleteFragment(E);var r=$i.above(E,{match:function(t){return Qi.isElement(t)&&$i.isInline(E,t)},mode:"highest"});if(r){var i=(0,B.c)(r,2)[1];if($i.isEnd(E,n.anchor,i)){var o=$i.after(E,i);Wo.setSelection(E,{anchor:o,focus:o})}}}}}),[w.onCompositionStart,E]),onCopy:(0,H.useCallback)((function(t){!Ec.hasSelectableTarget(E,t.target)||As(t,w.onCopy)||Ds(t)||(t.preventDefault(),Ec.setFragmentData(E,t.clipboardData,"copy"))}),[w.onCopy,E]),onCut:(0,H.useCallback)((function(t){if(!l&&Ec.hasSelectableTarget(E,t.target)&&!As(t,w.onCut)&&!Ds(t)){t.preventDefault(),Ec.setFragmentData(E,t.clipboardData,"cut");var e=E.selection;if(e)if(zi.isExpanded(e))$i.deleteFragment(E);else{var n=Hi.parent(E,e.anchor.path);$i.isVoid(E,n)&&Wo.delete(E)}}}),[l,E,w.onCut]),onDragOver:(0,H.useCallback)((function(t){if(Ec.hasTarget(E,t.target)&&!As(t,w.onDragOver)){var e=Ec.toSlateNode(E,t.target);Qi.isElement(e)&&$i.isVoid(E,e)&&t.preventDefault()}}),[w.onDragOver,E]),onDragStart:(0,H.useCallback)((function(t){if(!l&&Ec.hasTarget(E,t.target)&&!As(t,w.onDragStart)){var e=Ec.toSlateNode(E,t.target),n=Ec.findPath(E,e);if(Qi.isElement(e)&&$i.isVoid(E,e)||$i.void(E,{at:n,voids:!0})){var r=$i.range(E,n);Wo.select(E,r)}z.isDraggingInternally=!0,Ec.setFragmentData(E,t.dataTransfer,"drag")}}),[l,E,w.onDragStart,z]),onDrop:(0,H.useCallback)((function(t){if(!l&&Ec.hasTarget(E,t.target)&&!As(t,w.onDrop)){t.preventDefault();var e=E.selection,n=Ec.findEventRange(E,t),r=t.dataTransfer;Wo.select(E,n),z.isDraggingInternally&&(!e||zi.equals(e,n)||$i.void(E,{at:n,voids:!0})||Wo.delete(E,{at:e})),Ec.insertData(E,r),Ec.isFocused(E)||Ec.focus(E)}z.isDraggingInternally=!1}),[l,E,w.onDrop,z]),onDragEnd:(0,H.useCallback)((function(t){!l&&z.isDraggingInternally&&w.onDragEnd&&Ec.hasTarget(E,t.target)&&w.onDragEnd(t),z.isDraggingInternally=!1}),[l,z,w,E]),onFocus:(0,H.useCallback)((function(t){if(!l&&!z.isUpdatingSelection&&Ec.hasEditableTarget(E,t.target)&&!As(t,w.onFocus)){var e=Ec.toDOMNode(E,E),n=Ec.findDocumentOrShadowRoot(E);if(z.latestElement=n.activeElement,Bl&&t.target!==e)return void e.focus();Yl.set(E,!0)}}),[l,z,E,w.onFocus]),onKeyDown:(0,H.useCallback)((function(t){if(!l&&Ec.hasEditableTarget(E,t.target)){var e;null===(e=Z.current)||void 0===e||e.handleKeyDown(t);var n=t.nativeEvent;if(Ec.isComposing(E)&&!1===n.isComposing&&(Xl.set(E,!1),D(!1)),As(t,w.onKeyDown)||Ec.isComposing(E))return;var r=E.selection,i=E.children[null!==r?r.focus.path[0]:0],o="rtl"===fl()(Hi.string(i));if(hs.isRedo(n)){t.preventDefault();var a=E;return void("function"==typeof a.redo&&a.redo())}if(hs.isUndo(n)){t.preventDefault();var u=E;return void("function"==typeof u.undo&&u.undo())}if(hs.isMoveLineBackward(n))return t.preventDefault(),void Wo.move(E,{unit:"line",reverse:!0});if(hs.isMoveLineForward(n))return t.preventDefault(),void Wo.move(E,{unit:"line"});if(hs.isExtendLineBackward(n))return t.preventDefault(),void Wo.move(E,{unit:"line",edge:"focus",reverse:!0});if(hs.isExtendLineForward(n))return t.preventDefault(),void Wo.move(E,{unit:"line",edge:"focus"});if(hs.isMoveBackward(n))return t.preventDefault(),void(r&&zi.isCollapsed(r)?Wo.move(E,{reverse:!o}):Wo.collapse(E,{edge:"start"}));if(hs.isMoveForward(n))return t.preventDefault(),void(r&&zi.isCollapsed(r)?Wo.move(E,{reverse:o}):Wo.collapse(E,{edge:"end"}));if(hs.isMoveWordBackward(n))return t.preventDefault(),r&&zi.isExpanded(r)&&Wo.collapse(E,{edge:"focus"}),void Wo.move(E,{unit:"word",reverse:!o});if(hs.isMoveWordForward(n))return t.preventDefault(),r&&zi.isExpanded(r)&&Wo.collapse(E,{edge:"focus"}),void Wo.move(E,{unit:"word",reverse:o});if(Gl){if((Ll||Ml)&&r&&(hs.isDeleteBackward(n)||hs.isDeleteForward(n))&&zi.isCollapsed(r)){var c=Hi.parent(E,r.anchor.path);if(Qi.isElement(c)&&$i.isVoid(E,c)&&($i.isInline(E,c)||$i.isBlock(E,c)))return t.preventDefault(),void $i.deleteBackward(E,{unit:"block"})}}else{if(hs.isBold(n)||hs.isItalic(n)||hs.isTransposeCharacter(n))return void t.preventDefault();if(hs.isSoftBreak(n))return t.preventDefault(),void $i.insertSoftBreak(E);if(hs.isSplitBlock(n))return t.preventDefault(),void $i.insertBreak(E);if(hs.isDeleteBackward(n))return t.preventDefault(),void(r&&zi.isExpanded(r)?$i.deleteFragment(E,{direction:"backward"}):$i.deleteBackward(E));if(hs.isDeleteForward(n))return t.preventDefault(),void(r&&zi.isExpanded(r)?$i.deleteFragment(E,{direction:"forward"}):$i.deleteForward(E));if(hs.isDeleteLineBackward(n))return t.preventDefault(),void(r&&zi.isExpanded(r)?$i.deleteFragment(E,{direction:"backward"}):$i.deleteBackward(E,{unit:"line"}));if(hs.isDeleteLineForward(n))return t.preventDefault(),void(r&&zi.isExpanded(r)?$i.deleteFragment(E,{direction:"forward"}):$i.deleteForward(E,{unit:"line"}));if(hs.isDeleteWordBackward(n))return t.preventDefault(),void(r&&zi.isExpanded(r)?$i.deleteFragment(E,{direction:"backward"}):$i.deleteBackward(E,{unit:"word"}));if(hs.isDeleteWordForward(n))return t.preventDefault(),void(r&&zi.isExpanded(r)?$i.deleteFragment(E,{direction:"forward"}):$i.deleteForward(E,{unit:"word"}))}}}),[l,E,w.onKeyDown]),onPaste:(0,H.useCallback)((function(t){l||!Ec.hasEditableTarget(E,t.target)||As(t,w.onPaste)||(!Gl||function(t){return t.clipboardData&&""!==t.clipboardData.getData("text/plain")&&1===t.clipboardData.types.length}(t.nativeEvent)||Ml)&&(t.preventDefault(),Ec.insertData(E,t.clipboardData))}),[l,E,w.onPaste])}),K().createElement(xs,{decorations:q,node:E,renderElement:c,renderPlaceholder:d,renderLeaf:s,selection:E.selection})))))},Es=function(t){var e=t.attributes,n=t.children;return K().createElement("span",(0,at.c)({},e),n,Tl&&K().createElement("br",null))},Ss=function(){return[]},ks=function(t,e){if(e.getBoundingClientRect&&(!t.selection||t.selection&&zi.isCollapsed(t.selection))){var n,r=e.startContainer.parentElement;r.getBoundingClientRect=Mn()(n=e.getBoundingClientRect).call(n,e),(0,gl.c)(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},As=function(t,e){if(!e)return!1;var n=e(t);return null!=n?n:t.isDefaultPrevented()||t.isPropagationStopped()},Ds=function(t){return hc(t.target)&&(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)},Is=function(t,e){if(!e)return!1;var n=e(t);return null!=n?n:t.defaultPrevented},Ts=(0,H.createContext)(!1),Bs=function(){return(0,H.useContext)(Ts)};var Ms=(0,H.createContext)({});var Rs=["editor","children","onChange","value"],Ls=function(t){var e=t.editor,n=t.children,r=t.onChange,i=t.value,o=El(t,Rs),a=K().useState((function(){if(!Hi.isNodeList(i))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(oo.stringify(i)));if(!$i.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(oo.stringify(e)));return e.children=i,(0,at.c)(e,o),{v:0,editor:e}})),u=(0,B.c)(a,2),l=u[0],c=u[1],s=function(t){var e=(0,H.useRef)([]).current,n=(0,H.useRef)({editor:t}).current,r=(0,H.useCallback)((function(t){n.editor=t,Q()(e).call(e,(function(e){return e(t)}))}),[e,n]);return{selectorContext:(0,H.useMemo)((function(){return{getSlate:function(){return n.editor},addEventListener:function(t){return e.push(t),function(){si()(e).call(e,kn()(e).call(e,t),1)}}}}),[e,n]),onChange:r}}(e),f=s.selectorContext,d=s.onChange,h=(0,H.useCallback)((function(){r&&r(e.children),c((function(t){return{v:t.v+1,editor:e}})),d(e)}),[e,d,r]);(0,H.useEffect)((function(){return tc.set(e,h),function(){tc.set(e,(function(){}))}}),[e,h]);var p=(0,H.useState)(Ec.isFocused(e)),v=(0,B.c)(p,2),g=v[0],m=v[1];return(0,H.useEffect)((function(){m(Ec.isFocused(e))}),[e]),_c((function(){var t=function(){return m(Ec.isFocused(e))};return Al>=17?(document.addEventListener("focusin",t),document.addEventListener("focusout",t),function(){document.removeEventListener("focusin",t),document.removeEventListener("focusout",t)}):(document.addEventListener("focus",t,!0),document.addEventListener("blur",t,!0),function(){document.removeEventListener("focus",t,!0),document.removeEventListener("blur",t,!0)})}),[]),K().createElement(Ms.Provider,{value:f},K().createElement(ls.Provider,{value:l},K().createElement(Sl.Provider,{value:l.editor},K().createElement(Ts.Provider,{value:g},n))))},Fs=function(t,e){var n=(e.top+e.bottom)/2;return t.top<=n&&t.bottom>=n},_s=function(t,e,n){var r=Ec.toDOMRange(t,e).getBoundingClientRect(),i=Ec.toDOMRange(t,n).getBoundingClientRect();return Fs(r,i)&&Fs(i,r)};function Ps(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)Q()(n=Ps(Object(r),!0)).call(n,(function(e){wl(t,e,r[e])}));else if(k())D()(t,k()(r));else{var i;Q()(i=Ps(Object(r))).call(i,(function(e){T()(t,e,E()(r,e))}))}}return t}var Os=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",n=t,r=n.apply,i=n.onChange,o=n.deleteBackward,a=n.addMark,u=n.removeMark;return Kl.set(n,new(ii())),n.addMark=function(t,e){var r,i;null===(r=ec.get(n))||void 0===r||r(),!nc.get(n)&&null!==(i=ic.get(n))&&void 0!==i&&i.length&&nc.set(n,null),rc.delete(n),a(t,e)},n.removeMark=function(t){var e;!nc.get(n)&&null!==(e=ic.get(n))&&void 0!==e&&e.length&&nc.set(n,null),rc.delete(n),u(t)},n.deleteBackward=function(t){if("line"!==t)return o(t);if(n.selection&&zi.isCollapsed(n.selection)){var e=$i.above(n,{match:function(t){return Qi.isElement(t)&&$i.isBlock(n,t)},at:n.selection});if(e){var r=(0,B.c)(e,2)[1],i=$i.range(n,r,n.selection.anchor),a=function(t,e){var n=$i.range(t,zi.end(e)),r=On()($i.positions(t,{at:e})),i=0,o=r.length,a=Math.floor(o/2);if(_s(t,$i.range(t,r[i]),n))return $i.range(t,r[i],n);if(r.length<2)return $i.range(t,r[r.length-1],n);for(;a!==r.length&&a!==i;)_s(t,$i.range(t,r[a]),n)?o=a:i=a,a=Math.floor((i+o)/2);return $i.range(t,r[o],n)}(n,i);zi.isCollapsed(a)||Wo.delete(n,{at:a})}}},n.apply=function(t){var e=[],i=ic.get(n);if(null!=i&&i.length){var o,a=L()(o=P()(i).call(i,(function(e){return function(t,e){var n=t.path,r=t.diff,i=t.id;switch(e.type){case"insert_text":return!Li.equals(e.path,n)||e.offset>=r.end?t:e.offset<=r.start?{diff:{start:e.text.length+r.start,end:e.text.length+r.end,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end+e.text.length,text:r.text},id:i,path:n};case"remove_text":return!Li.equals(e.path,n)||e.offset>=r.end?t:e.offset+e.text.length<=r.start?{diff:{start:r.start-e.text.length,end:r.end-e.text.length,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end-e.text.length,text:r.text},id:i,path:n};case"split_node":return!Li.equals(e.path,n)||e.position>=r.end?{diff:r,id:i,path:Li.transform(n,e,{affinity:"backward"})}:e.position>r.start?{diff:{start:r.start,end:Math.min(e.position,r.end),text:r.text},id:i,path:n}:{diff:{start:r.start-e.position,end:r.end-e.position,text:r.text},id:i,path:Li.transform(n,e,{affinity:"forward"})};case"merge_node":return Li.equals(e.path,n)?{diff:{start:r.start+e.position,end:r.end+e.position,text:r.text},id:i,path:Li.transform(n,e)}:{diff:r,id:i,path:Li.transform(n,e)}}var o=Li.transform(n,e);return o?{diff:r,path:o,id:i}:null}(e,t)}))).call(o,Boolean);ic.set(n,a)}var u=ac.get(n);u&&ac.set(n,Mc(n,u,t));var l=oc.get(n);if(null!=l&&l.at){var c=ro.isPoint(null==l?void 0:l.at)?Bc(n,l.at,t):Mc(n,l.at,t);oc.set(n,c?Ns(Ns({},l),{},{at:c}):null)}switch(t.type){case"insert_text":case"remove_text":case"set_node":case"split_node":e.push.apply(e,(0,En.c)(js(n,t.path)));break;case"set_selection":var s;null===(s=$l.get(n))||void 0===s||s.unref(),$l.delete(n);break;case"insert_node":case"remove_node":e.push.apply(e,(0,En.c)(js(n,Li.parent(t.path))));break;case"merge_node":var f=Li.previous(t.path);e.push.apply(e,(0,En.c)(js(n,f)));break;case"move_node":var d=Li.common(Li.parent(t.path),Li.parent(t.newPath));e.push.apply(e,(0,En.c)(js(n,d)))}r(t);for(var h=0,p=e;h<p.length;h++){var v=(0,B.c)(p[h],2),g=v[0],m=v[1],y=$i.node(n,g),C=(0,B.c)(y,1)[0];Hl.set(C,m)}},n.setFragmentData=function(t){var r,i,o=n.selection;if(o){var a=zi.edges(o),u=(0,B.c)(a,2),l=u[0],c=u[1],s=$i.void(n,{at:l.path}),f=$i.void(n,{at:c.path});if(!zi.isCollapsed(o)||s){var d=Ec.toDOMRange(n,o),h=d.cloneContents(),p=h.childNodes[0];if(Q()(r=h.childNodes).call(r,(function(t){var e;t.textContent&&""!==cl()(e=t.textContent).call(e)&&(p=t)})),f){var v=(0,B.c)(f,1)[0],g=d.cloneRange(),m=Ec.toDOMNode(n,v);g.setEndAfter(m),h=g.cloneContents()}if(s&&(p=h.querySelector("[data-slate-spacer]")),Q()(i=On()(h.querySelectorAll("[data-slate-zero-width]"))).call(i,(function(t){var e="n"===t.getAttribute("data-slate-zero-width");t.textContent=e?"\n":""})),vc(p)){var y=p.ownerDocument.createElement("span");y.style.whiteSpace="pre",y.appendChild(p),h.appendChild(y),p=y}var C=n.getFragment(),b=z()(C),x=window.btoa(encodeURIComponent(b));p.setAttribute("data-slate-fragment",x),t.setData("application/".concat(e),x);var w=h.ownerDocument.createElement("div");return w.appendChild(h),w.setAttribute("hidden","true"),h.ownerDocument.body.appendChild(w),t.setData("text/html",w.innerHTML),t.setData("text/plain",yc(w)),h.ownerDocument.body.removeChild(w),t}}},n.insertData=function(t){n.insertFragmentData(t)||n.insertTextData(t)},n.insertFragmentData=function(t){var r,i=t.getData("application/".concat(e))||(r=t.getData("text/html").match(Cc)||[],(0,B.c)(r,2)[1]);if(i){var o=decodeURIComponent(window.atob(i)),a=JSON.parse(o);return n.insertFragment(a),!0}return!1},n.insertTextData=function(t){var e=t.getData("text/plain");if(e){var r,i=!1,o=bl(e.split(/\r\n|\r|\n/));try{for(o.s();!(r=o.n()).done;){var a=r.value;i&&Wo.splitNodes(n,{always:!0}),n.insertText(a),i=!0}}catch(t){o.e(t)}finally{o.f()}return!0}return!1},n.onChange=function(t){(Al<18?qr().unstable_batchedUpdates:function(t){return t()})((function(){var e=tc.get(n);e&&e(),i(t)}))},n},js=function(t,e){var n,r=[],i=bl($i.levels(t,{at:e}));try{for(i.s();!(n=i.n()).done;){var o=(0,B.c)(n.value,2),a=o[0],u=o[1],l=Ec.findKey(t,a);r.push([u,l])}}catch(t){i.e(t)}finally{i.f()}return r};function Gs(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Gs(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Gs(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}function zs(t){var e=t.className;return K().createElement("div",{className:"".concat(e,"-empty")},K().createElement("img",{className:"".concat(e,"-empty-img"),src:Pn,width:"168",height:"96",alt:(0,J.getLangMsg)("printd.grid.key0004")}),K().createElement("div",{className:"".concat(e,"-empty-text")},(0,J.getLangMsg)("printd.grid.key0004")))}var Zs=function(t){var e=t.onSelect,n=t.onShowDescription,r=(0,H.useContext)(bn).expressions,i=(0,H.useState)(""),o=(0,B.c)(i,2),a=o[0],u=o[1],l=(0,H.useState)(null),c=(0,B.c)(l,2),s=c[0],f=c[1],d=(0,H.useState)(""),h=(0,B.c)(d,2),p=h[0],v=h[1],g=(0,H.useState)(r),m=(0,B.c)(g,2),y=m[0],C=m[1];return K().createElement("div",{className:"kd-expression-tree-wrap"},K().createElement(W.Input,{style:{marginBottom:12,width:"100%"},value:a,placeholder:(0,J.getLangMsg)("printd.components.key0029"),borderType:"bordered",onChange:function(t){var e=t.target.value;u(e),C((function(){var t=function(t,e){var n;return L()(n=P()(t).call(t,(function(t){var n=t.items,r=L()(n).call(n,(function(t){var n;return Tn()(n=t.name).call(n,e)}));return r.length?Us(Us({},t),{},{items:r}):null}))).call(n,Boolean)}(r,e);return t}))},allowClear:!0,suffix:K().createElement("div",null,K().createElement(W.Icon,{type:"search",style:{cursor:"pointer"}}))}),!a||null!=y&&y.length?K().createElement("div",{className:"kd-expression-tree"},P()(y).call(y,(function(t){var r=t.items,i=t.name;return K().createElement(W.Collapse,{name:"Collapse",key:t.type,defaultActiveKey:t.type},K().createElement(W.Collapse.Panel,{header:i,panelKey:t.type},P()(r).call(r,(function(r){var i;return K().createElement("div",{key:O()(i="".concat(t.type,"-")).call(i,r.key),className:Hn()(["expression-item",{"is-active":r.key===p}]),onClick:function(){return function(t){var r=t.key;e(r),v(r),f(t),n(t)}(r)},onMouseOver:function(){return n(r)},onMouseLeave:function(){return n(s)}},r.name)}))))}))):K().createElement(zs,{className:"left-datasource"}))},Qs="object"==("undefined"==typeof self?"undefined":(0,Jn.c)(self))&&self.self===self&&self||"object"==(void 0===n.g?"undefined":(0,Jn.c)(n.g))&&n.g.global===n.g&&n.g||{},Ws="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Js(t){var e,n;for(e=[],n=0;n<t.length;n++)e.push(Ws[t[n]%62]);return e.join("")}var Vs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(void 0!==Qs.crypto)return Js(Qs.crypto.getRandomValues(new Uint8Array(t)));for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(256*Math.random());return Js(e)};var Hs=function(t,e,n){var r;return Y().isUndefined(t)?Y().isUndefined(null==e||null===(r=e[0])||void 0===r?void 0:r.Value)?function(t){switch(t){case"String":default:return"";case"Integer":return 0;case"Boolean":return!1}}(n):e[0].Value:t},Ks=Y().memoize((function(t,e){for(var n={},r=0;r<t.Categories.length;r++){var i,o=t.Categories[r],a=qn()(i=o.Controls).call(i,(function(t){return t.Id===e}));a&&(0,at.c)(n,a)}return n}),(function(t,e){return z()({meta:t,type:e})})),qs=Y().memoize((function(t){var e={},n=t.Nodes;if(n)Q()(n).call(n,(function(t){var n=Y().camelCase(t.Id),r=t.Editor;if(r){var i=r.DataType,o=r.Default,a=(r.Min,r.Enum);e[n]=Hs(o,a,i)}else e[n]="not editor property: err"}));else{var r=t.Editor,i=r.DataType,o=r.Default,a=(r.Min,r.Enum),u=Y().camelCase(t.Id);e[u]=r?Hs(o,a,i):"not editor property: err"}return e}));function Ys(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r,i=n.type,o=n.parentId,a=n.transferData,u={},l={};if(e&&a)(0,at.c)(l,a);else{var c=Ks(t,i);c&&(0,at.c)(l,c)}return e?l:(o&&(u.parentId=o),Q()(r=l.Properties).call(r,(function(t){(0,at.c)(u,qs(t))})),u.id=Vs(),u.name=l.Name,u.type=l.Id,!e&&a&&(0,at.c)(u,a),u)}}function Xs(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $s(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Xs(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Xs(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var tf=[{type:"paragraph",children:[{text:""}]}],ef=(0,J.ErrorBoundaryWrap)(Ls,"slate");function nf(t){return K().createElement("p",t.attributes,t.children)}function rf(t){var e=is(),n=Bs(),r=t.element.textFormat,i="Date"===r?"#FFF1D4":"Number"===r||"Amount"===r?"#DCFAE4":"#E0EFFF";return(0,H.useEffect)((function(){if(e&&n){var r=t.element.key;(0,t.setActiveDataSourceKey)(r)}}),[e,n]),K().createElement("span",(0,at.c)({},t.attributes,{contentEditable:!1,style:{padding:"1px 8px",margin:"0 3px",verticalAlign:"baseline",display:"inline-block",borderRadius:"2px",backgroundColor:i,fontSize:"12px",cursor:"pointer",boxShadow:e&&n?"0 0 0 2px #B4D5FF":"none",lineHeight:"18px"}}),t.element.formulaName,t.children)}var of=(0,H.forwardRef)((function(t,e){var n=t.meta,r=t.definition,i=t.expandedKeys,o=t.formulaData,a=t.activedSelectId,u=t.filterTreeData,l=t.showDefinitionId,c=(0,H.useState)(null),s=(0,B.c)(c,2),f=s[0],d=s[1],h=(0,H.useState)(""),p=(0,B.c)(h,2),v=p[0],g=p[1],m=(0,H.useRef)(null),y=(0,H.useState)((function(){if(o&&o.length){var t=[],e={type:"paragraph",children:[{text:""}]};return Q()(o).call(o,(function(n,r){if("_enter_"!==n){var i=r===o.length-1;i&&t.push($s({},e)),"string"==typeof n?e.children.push({text:n}):e.children.push({text:""},$s($s({},n),{},{type:"label",children:[{text:""}]}),{text:""}),e=i?{type:"paragraph",children:[]}:e}else t.push($s({},e)),e={type:"paragraph",children:[{text:""}]}})),t}return tf})),C=(0,B.c)(y,2),b=C[0],x=C[1],w=(0,H.useMemo)((function(){return z()(b)===z()(tf)}),[b]),E=(0,H.useState)({visible:!1,msg:"",type:"success"}),S=(0,B.c)(E,2),k=S[0],A=S[1],D=(0,H.useContext)(J.DataContext),I=D.findControl(a),T=I.cellType,M=I.parentId,R=D.findControl(M),F=(0,H.useMemo)((function(){return function(t){var e=t.isVoid,n=t.isInline;return t.isInline=function(t){return"label"===t.type||n(t)},t.isVoid=function(t){return"label"===t.type||e(t)},t}(Os(zu(_u())))}),[]),_=function(){var t=[];Q()(b).call(b,(function(e,n){var r,i=e.children,o=L()(r=P()(i).call(i,(function(t){var e=t.type,n=t.text;return"label"===e?t:n}))).call(r,(function(t){return""!==t}));t.push.apply(t,(0,En.c)(o)),n!==b.length-1&&t.push("_enter_")}));var e=D.getData(),n=null==e?void 0:e.version;return{formulaData:t,tplVersion:n}},N=function(){var t=_();return window.fetch("api/print/validatePrintFormula.do",{method:"POST",headers:{"Content-Type":"application/jsoncharset=utf-8"},body:z()(t),mode:"cors",credentials:"include"}).then((function(t){if(t.ok)return t.json();throw new Error(t.statusText)})).then((function(e){var n=e.result,r=e.msg;return A((function(){return{type:"fail"===n?"error":"success",visible:!0,msg:r}})),"success"===n?(m.current=lt()((function(){m.current&&clearTimeout(m.current),A((function(t){return $s($s({},t),{},{visible:!1})}))}),1100),$s({curTab:"2"},t)):"fail"})).catch((function(t){return!1}))};(0,H.useImperativeHandle)(e,(function(){return{getFormulaData:_,onExpressionSave:N,onAutoFocus:U}}));var O=(0,H.useCallback)((function(t){return"label"===t.element.type?K().createElement(rf,(0,at.c)({},t,{setActiveDataSourceKey:g})):K().createElement(nf,t)}),[]),j=(0,H.useRef)(null),G=function(t){j.current&&(Wo.select(F,j.current),Wo.insertText(F,t),Ec.focus(F))},U=(0,H.useCallback)((function(){var t,e,n=null===(t=F.children[0])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length,r=null===(e=F.children[0])||void 0===e||null===(e=e.children[n-1])||void 0===e||null===(e=e.text)||void 0===e?void 0:e.length,i={anchor:{path:[0,n-1],offset:r},focus:{path:[0,n-1],offset:r}};Wo.select(F,i),Ec.focus(F)}),[F]);return K().createElement(K().Fragment,null,K().createElement("div",{className:"expression-left"},K().createElement("div",{className:"block-title"},(0,J.getLangMsg)("printd.components.key0013")),K().createElement("div",{className:"block-main"},K().createElement(Zr,{meta:n,definition:r,onSelect:function(t,e,n){var r;if(j.current){var i=e.Name,o=e.ViewName,a=e.bindField,u=e.dataSource,l=e.dsTypeKey,c=e.key,s=e.InitAttr,f=void 0===s?{TextFormat:"Text"}:s,d=o||i;if(j.current)Wo.select(F,j.current);else{var h,p=b[0].children.length-1,v=[0,p],m=(null===(h=b[0].children[p])||void 0===h||null===(h=h.text)||void 0===h?void 0:h.length)||0;Wo.select(F,{focus:{path:v,offset:m},anchor:{path:v,offset:m}})}var y={id:Vs(),type:"label",formulaName:d,bindField:(null==a?void 0:L()(r=a.split(".")).call(r,(function(t){return!Tn()(t).call(t,"$reportEntryGroup$")})).join("."))||"",dataSource:u,dsType:l,key:c,textFormat:f.TextFormat,children:[{text:""}]};g(c),Wo.insertNodes(F,y),Wo.move(F),Ec.focus(F)}},expandedKeys:i,scrollToKey:v,filterTreeData:function(t){var e=cr(D,a,"DataGrid");return e?kr(e,t):u(t)},showDefinitionId:l}))),K().createElement("div",{className:"expression-main"},K().createElement("div",{className:"editor-area"},K().createElement("div",{className:"editor-toolbar"},K().createElement("span",{onClick:function(){return G("+")}},K().createElement(W.Icon,{type:"add"})),K().createElement("span",{onClick:function(){return G("-")}},K().createElement(W.Icon,{type:"reduce"})),K().createElement("span",{onClick:function(){return G("*")}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"chengyi"})),K().createElement("span",{onClick:function(){return G("/")}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"xiegang"})),K().createElement("span",{onClick:function(){return G(">")}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"dayu"})),K().createElement("span",{onClick:function(){return G("<")}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"xiaoyu"})),K().createElement("span",{onClick:function(){return G(">=")}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"dayudengyu"})),K().createElement("span",{onClick:function(){return G("<=")}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"xiaoyudengyu"})),K().createElement("span",{onClick:function(){return G("=")}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"dengyu3"})),K().createElement("span",{onClick:function(){return G("!=")}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"budengyu"}))),K().createElement("div",{className:"editor"},K().createElement(ef,{value:b,editor:F,onChange:function(t){x(t)}},K().createElement(ws,{placeholder:(0,J.getLangMsg)("printd.components.key0005"),id:"slate-editor",renderElement:O,onKeyDown:function(t){if("("===t.key&&(t.preventDefault(),F.insertText("()"),Wo.move(F,{distance:1,unit:"offset",reverse:!0})),13===t.keyCode){var e=D.getData(),n=null==e?void 0:e.version;(!n||Number(n)<6)&&t.preventDefault()}},autoFocus:!0,onBlur:function(t){t.persist();var e=t.relatedTarget;if("INPUT"!==(null==e?void 0:e.tagName)){var n=F.selection,r={};for(var i in n){var o=n[i],a=o.path,u=o.offset;r[i]={path:Dn()(a).call(a,0,2),offset:u}}j.current=r,Wo.select(F,r),Ec.focus(F)}}})),K().createElement("div",{className:"editor-bottom"},K().createElement("span",{className:Hn()(["verify-btn",{disabled:w}]),onClick:function(){if(!w){var t=_(),e=$s($s({},"Detail"===T?{cellType:T,dataSource:R.dataSource}:{}),t);window.fetch("api/print/validatePrintFormula.do",{method:"POST",headers:{"Content-Type":"application/jsoncharset=utf-8"},body:z()(e),mode:"cors",credentials:"include"}).then((function(t){if(t.ok)return t.json();throw new Error(t.statusText)})).then((function(t){var e=t.result,n=t.msg;A((function(){return{type:"fail"===e?"error":"success",visible:!0,msg:n}})),"success"===e&&(m.current=lt()((function(){m.current&&clearTimeout(m.current),A((function(t){return $s($s({},t),{},{visible:!1})}))}),1100))})).catch((function(t){}))}}},(0,J.getLangMsg)("printd.components.key0010"))))),K().createElement("div",{className:"description-area"},k.visible&&K().createElement(W.Alert,{message:k.msg,showIcon:!0,closable:!0,type:k.type,delayOffTime:"success"===k.type?1e3:0,onClose:function(){return A((function(t){return $s($s({},t),{},{visible:!1})}))}}),f?K().createElement("div",{className:"description-content"},K().createElement("div",{className:"description-title"},(null==f?void 0:f.title)||""),K().createElement("div",{className:"description-detail"},(null==f?void 0:f.description)||"")):K().createElement("div",{className:"description-content"},(0,J.getLangMsg)("printd.components.key0023"),K().createElement("br",null),(0,J.getLangMsg)("printd.components.key0024"),K().createElement("br",null),(0,J.getLangMsg)("printd.components.key0025"),K().createElement("br",null),(0,J.getLangMsg)("printd.components.key0026")))),K().createElement("div",{className:"expression-right"},K().createElement("div",{className:"block-title"},(0,J.getLangMsg)("printd.components.key0028")),K().createElement("div",{className:"block-main"},K().createElement(Zs,{onSelect:function(t){j.current&&(Wo.select(F,j.current),Wo.insertText(F,t+"()"),Wo.move(F,{distance:1,unit:"offset",reverse:!0}),Ec.focus(F))},onShowDescription:d}))))})),af=(0,H.forwardRef)((function(t,e){var n,r=t.meta,i=t.definition,o=t.expandedKeys,a=void 0===o?[]:o,u=t.scrollToKey,l=t.filterTreeData,c=t.activedSelectId,s=t.showDefinitionId,f=t.activeTab,d=t.formulaData,h=t.filterExpressionTreeData,p=t.DataSourceOption,v=(0,H.useRef)(null),g=(0,H.useRef)(null),m=(0,H.useRef)(null),y=(0,H.useState)(f),C=(0,B.c)(y,2),b=C[0],x=C[1],w=null===(n=(0,H.useContext)(J.DataContext).getData())||void 0===n?void 0:n.version,E="expression-modal";(0,H.useImperativeHandle)(e,(function(){return{getDataSource:function(){return new(ti())((function(t,e){var n;"1"===b?t({curTab:b,selectNode:v.current}):null===(n=g.current)||void 0===n||n.onExpressionSave().then(t)}))}}}));(0,H.useEffect)((function(){var t;b&&(null===(t=g.current)||void 0===t||t.onAutoFocus())}),[b]);var S=(0,H.useMemo)((function(){var t=w&&Number(w)>=6;return[K().createElement("span",null,(0,J.getLangMsg)("printd.grid.key0003"),t?K().createElement("label",{className:"".concat(E,"-new-tag")},"NEW"):null),t]}),[w]),k=(0,B.c)(S,2),A=k[0],D=k[1];return K().createElement("div",{className:"".concat(E,"-tab-wrapper")},K().createElement(W.Tabs,{type:"dynamic",activeKey:b,onChange:function(t){x(t)}},K().createElement(W.Tabs.TabPane,{key:"1",tab:(0,J.getLangMsg)("printd.components.key0027")},K().createElement("div",{className:"body-left"},K().createElement(Zr,{scrollToKey:u,meta:r,definition:i,onSelect:function(t,e,n){v.current=e},showDefinitionId:s,expandedKeys:a,filterTreeData:l}))),!1===(null==p?void 0:p.AllowFormula)?K().createElement("div",null):K().createElement(W.Tabs.TabPane,{key:"2",tab:A},K().createElement("div",{className:"body-right",ref:m},K().createElement(of,{meta:r,definition:i,expandedKeys:a,ref:g,formulaData:d,activedSelectId:c,filterTreeData:h,showDefinitionId:s}))),D?K().createElement(W.Tabs.TabPane,{specialPane:"right"},K().createElement(W.Link,{target:"_blank",rel:"noreferrer",href:"https://vip.kingdee.com/article/609740912138348800"},(0,J.getLangMsg)("printd.grid.key0129"))):null))})),uf=function(t){var e=t.visible,n=t.setVisible,r=t.meta,i=t.definition,o=t.onSelect,a=(t.emptyNode,t.expandedKeys),u=void 0===a?[]:a,l=t.activeTab,c=t.DataSourceOption,s=t.filterTreeData,f=t.activedSelectId,d=t.formulaData,h=t.filterExpressionTreeData,p="expression",v=(0,H.useState)(!1),g=(0,B.c)(v,2),m=g[0],y=g[1],C=(0,H.useState)(!0),b=(0,B.c)(C,2),x=(b[0],b[1],(0,H.useRef)(null)),w=(0,H.useContext)(J.DataContext),E=(0,H.useContext)(J.SelectionContext),S=(0,H.useContext)(J.DataFactoryContext).modelFactory,k=w.getRootId(),A=(w.findControl(k).language,_n({dataContext:w,selectionContext:E,meta:r,activedSelectId:f,modelFactory:S})),D=K().createElement(K().Fragment,null,K().createElement(W.Checkbox,{className:"".concat(p,"-modal-footer-checkbox"),checked:m,onChange:function(t){var e=!!t.target.checked;y(e)}},(0,J.getLangMsg)("printd.grid.key0101")),K().createElement("div",{className:"".concat(p,"-modal-footer-btns")},K().createElement(W.Button,{onClick:function(){return n(!1)},type:"second",className:"".concat(p,"-modal-cancel-btn")},(0,J.getLangMsg)("printd.components.key0011")),K().createElement(W.Button,{onClick:function(){var t;null===(t=x.current)||void 0===t||t.getDataSource().then((function(t){"fail"!==t&&o(t)}))},type:"primary",className:"".concat(p,"-modal-ok-btn")},(0,J.getLangMsg)("printd.components.key0012"))));return K().createElement(W.Modal,{body:K().createElement(af,{scrollToKey:A,activeTab:l,formulaData:d,meta:r,definition:i,showDefinitionId:m,expandedKeys:u,ref:x,filterTreeData:s,activedSelectId:f,filterExpressionTreeData:h,DataSourceOption:c}),bodyStyle:{justifyContent:"start",alignItems:"start",overflowX:"hidden",overflowY:"auto",flexDirection:"column"},titleIcon:null,className:"".concat(p,"-modal"),footer:D,maskClosable:!1,width:1e3,height:614,title:(0,J.getLangMsg)("printd.components.key0001"),closable:!0,destroyOnClose:!0,onCancel:function(){return n(!1)},onOk:function(){return n(!1)},mask:!0,visible:e})},lf="beforeSave";function cf(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function sf(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=cf(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=cf(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}function ff(t,e){if(!e)return t;e.ShowType;var n=e.DsType,r=e.FieldType,i=n.Hide,o=(n.OnlyShow,r.Hide,r.OnlyShow);return(null==i?void 0:i.length)>0&&(t=hf(t,i)),(null==o?void 0:o.length)>0&&(t=df(t,o)),t}function df(t,e){return G()(t).call(t,(function(t,n){var r=n,i=r.Items,o=r.Type,a=Tn()(e).call(e,o);return!a&&i&&(n=sf(sf({},n),{},{Items:df(i,e)})),(a||n.Items&&n.Items.length)&&t.push(n),t}),[])}function hf(t,e){return G()(t).call(t,(function(t,n){var r=n.Items,i=n.DsType;return Tn()(e).call(e,i)||(r?t.push(sf(sf({},n),{},{Items:hf(r,e)})):t.push(n)),t}),[])}var pf={locale:"zh-CN","global.selectholder":"请选择","global.placeholder":"请输入...","global.cancel":"取消","global.confirm":"确定"};function vf(t,e){var n=void 0!==Gn()&&zn()(t)||t["@@iterator"];if(!n){if(Qn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return gf(t,e);var r=Dn()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return On()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function gf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mf=function(){function t(e,n){(0,$u.c)(this,t),(0,M.c)(this,"localesData",void 0),(0,M.c)(this,"locale",void 0),this.locale=n||pf.locale,this.localesData=e}return(0,Xu.c)(t,[{key:"setLocalesData",value:function(t,e){var n=e||this.localesData[t];if(n)return this.locale=t,this.localesData[t]=n,e}},{key:"getLocalData",value:function(){return this.localesData[this.locale]}},{key:"getLocal",value:function(){return this.locale}},{key:"getLocalesData",value:function(){return this.localesData}}]),t}(),yf=new mf((0,M.c)({},pf.locale,pf)),Cf=function(t,e,n){var r,i=yf.getLocalData();return function(t,e){var n,r=/{[\w\W]*?}/g,i=t.match(r)||[],o=function(t){return"object"===(0,Jn.c)(t)||"function"==typeof t},a=function(t){var e=t.length;return Dn()(t).call(t,1,e-1)},u=[],l=[],c=vf(i);try{for(c.s();!(n=c.n()).done;){var s=a(n.value),f=e[s];o(f)?l.push({k:s,v:f}):u.push({k:s,v:f})}}catch(t){c.e(t)}finally{c.f()}t=function(t,e){return Q()(e).call(e,(function(e){var n=e.k,r=e.v,i=new RegExp("{"+n+"}","g");t=t.replace(i,r)})),t}(t,u);var d=[];l.length>0&&(d=function(t,e){var n=function(t){var e,n=[],r={t:0,v:""},i=t.length;return Q()(e=t.split("")).call(e,(function(t,e){"{"===t?(n.push(r),r={t:1,v:""}):"}"===t?(n.push(r),r={t:0,v:""}):r.v=r.v+t,e===i-1&&n.push(r)})),n},r=[],i=n(t);return Q()(i).call(i,(function(t,n){var i=t.t,o=t.v;0===i&&""!==o?r.push(K().createElement("span",{key:n},o)):1===i&&r.push(K().cloneElement(e[o],{key:n}))})),r}(t,e));return l.length>0?d:t}(i[O()(r="".concat(t,".")).call(r,e)]||i["global.".concat(e)]||"",n)};var bf,xf={getPrefixCls:function(t,e,n){var r;return n||(t=t||"kdesigner",e?O()(r="".concat(t,"-")).call(r,e):t)},prefixCls:"kdesigner",locale:{getLangMsg:Cf,getCompLangMsg:function(t,e,n){var r=t.componentName,i=t.labels,o=t.labelParams;if(o=o||{},n=n||pf,!(i=i||[]).length)for(var a in n){var u=a.split(".");r===u[0]&&u[1]&&i.push(u[1])}var l={};return Q()(i).call(i,(function(t){l[t]=e&&"function"==typeof e?e(r,t,o[t]||{}):Cf(r,t,o[t]||{})})),l}}},wf=xf,Ef=(0,H.createContext)(wf);function Sf(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Sf(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Sf(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Af=O()(bf=[pn.text]).call(bf,(0,En.c)(be),(0,En.c)(xe)),Df=function(t){var e=t.id,n=t.propName,r=t.dataContext,i=(t.activedSelectId,t.RelationKey),o=t.RelationViewText,a=t.RelationDataSource,u=t.DataSourceOption,l=t.value,c=t.className,s=t.Editor,f=void 0===s?{}:s,d=t.field,h=t.readOnly,p=t.modalTitle,v=t.clearable,g=void 0!==v&&v,m=t.onClear,y=t.onSelect,b=t.handleInputChange,x=t.filterTreeData,w=t.expandedKeys,E=t.checkedKeys,S=t.selectedKey,k=t.modalType,A=t.Name,D=t.Tips,I=t.checkable,T=t.filterExpressionTreeData,R=t.DataSourceInfo,L=(0,H.useState)(!1),F=(0,B.c)(L,2),_=F[0],P=F[1],N=(0,H.useState)(!1),j=(0,B.c)(N,2),U=j[0],z=j[1],Z=(0,H.useState)(!1),Q=(0,B.c)(Z,2),V=Q[0],q=Q[1],X=(0,H.useState)("1"),$=(0,B.c)(X,2),tt=$[0],et=$[1],nt=(0,H.useRef)(null),rt=f.MaxLength,it=f.Tips,ot=f.NameHidden,ut=(0,H.useContext)(bn),ct=d.formulaData,st="Formula"===d.dsType&&A===(0,J.getLangMsg)({key:"printd.grid.key0128"}),ft=(ut.meta,ut.definition),dt=ut.setMessage,ht="left-datasource",pt=["=now()","=getUserName()"],vt=function(t){lt()((function(){var e,n;t?null===(e=nt.current)||void 0===e||e.show():null===(n=nt.current)||void 0===n||n.hide()}),0)},gt=(0,H.useState)(l),mt=(0,B.c)(gt,2),yt=mt[0],Ct=mt[1];!function(t,e){(0,H.useEffect)((function(){var n=function(n){var r=n.id,i=n.value;r===t&&e(i)};return J.eventBus.on("input-query",n),function(){J.eventBus.off("input-query",n)}}),[t])}(e,vt),(0,H.useEffect)((function(){Ct(l)}),[l]),(0,H.useEffect)((function(){var t=rr(l),e=t.isBindField,n=t.bindField;if(!e||st)vt(!1),bt(!1);else{var r=nr(n,ft);if("$DsKey=[System]"===d.dataSource&&(r=!0),r)vt(!1),bt(!1);else{var i,o,a;if(d.dataSource||d.bindField||!d.anchorField)a=$n(tr(d.dataSource,d.bindField),ft);else{var u=d.anchorField,c=u.bindField,s=u.dataSource;a=$n(tr(s,c),ft)}if(!a&&-1!==(null==d||null===(i=d.bindField)||void 0===i||null===(o=kn()(i))||void 0===o?void 0:o.call(i,"."))){var f=d.bindField.match(/w?\w*$/)[0];a=$n(tr(d.dataSource,f),ft)}a?(vt(!1),bt(!1)):(vt(!0),bt(!0))}}}),[l,ft,st]);var bt=function(t){var n;J.eventBus.emit(O()(n="".concat(lf,"_")).call(n,e),t)},xt=(0,H.useCallback)((function(t){if(t!==l){if(st)return r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[e,ir((0,M.c)((0,M.c)({},n,t),"viewText",""))]]));var o,u=rr(t),c=u.isBindField,s=u.bindField;if(J.console.log("isBindField",c),o=ir(R?(0,M.c)((0,M.c)({},n,t),R,""):(0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},n,t),Y().camelCase(i),""),Y().camelCase(a),""),"viewText",""),"dsType","")),c){var f=nr(s,ft);if(!f)return vt(!0),r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[e,o]])),void J.console.error("queryDataSourceAndAncestorByName has no res",s,ft);vt(!1);var d=f.dataSource,h=f.key,p=f.viewText,v=f.dsType;J.console.log("bindField, definition, res"),J.console.log(s,ft,f),r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[e,ir((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},n,t),Y().camelCase(i),h),Y().camelCase(a),d),"viewText","=$".concat(p)),"dsType",v))]]))}else vt(!1),r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[e,o]]))}}),[e,l,n,i,a,ft,st]),wt=(0,H.useCallback)((function(t){var u=t.curTab;if(t)if("2"===u){var l=t.formulaData,c=st?{formulaData:l}:(0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},n,(0,J.getLangMsg)("printd.grid.key0003")),Y().camelCase(i),""),Y().camelCase(a),""),Y().camelCase(o),""),"dsType","Formula"),"formulaData",l);r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[e,ir(c)]]))}else{var s=t.selectNode;Et(s)}else{r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[e,{bindField:"",bindText:"",dataSource:"",dsType:"",formulaData:[],viewText:""}]]))}q(!1)}),[e,n,ft,o,a,i,n,k,st,d]),Et=(0,H.useCallback)((function(t){var u;if(t){var l=t.key,c=t.InitAttr,s=void 0===c?{}:c,f=$n(l,ft);if(f){var h=f.dataSource,p=f.ancestorTitle,v=f.key,g=f.title,m=f.dsType,y=f.ZeroShow,b=f.IgnoreTailZero,x=G()(u=C()(s)).call(u,(function(t,e){return t[Y().camelCase(e)]=s[e],t}),{});x.zeroShow=y,x.ignoreTailZero=b;var w=d.cellType,E=d.statType,S=d.parentId,k="=$".concat(g);if("Layout"===w){var A,D=r.findControl(S).parentId,I=r.findControl(D);if(I&&"TableTail"===I.type)k="noStat"!==E?O()(A="=".concat(E,"(")).call(A,g,")"):"=$".concat(g)}R?r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[e,ir((0,M.c)((0,M.c)({},n,"=$".concat(p)),R,ir((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},Y().camelCase(i),v),Y().camelCase(a),h),Y().camelCase(o),k),"dsType",m))))]])):r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[e,ir(kf((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},n,"=$".concat(p)),Y().camelCase(i),v),Y().camelCase(a),h),Y().camelCase(o),k),"dsType",m),"formulaData",null),x))]]))}else J.console.error("queryDataSourceAndAncestorByKey has no res",l,ft)}}),[e,n,ft,o,a,i,n,R,d]),St=(0,H.useCallback)((function(){z(!1)}),[]),kt=function(){et((function(){return st?"2":"1"})),"expression"===k?q(!0):z(!0)},At=(0,H.useCallback)((function(t){return"function"==typeof T&&(t=T(t)),function(t,e){return null!=e&&e.length?gr(t,(function(t){var n=t.bindField;return n&&Tn()(e).call(e,n)}),"Sys"):t}(t,pt)}),[T]),Dt=(0,H.useContext)(J.GlobalConfigContext).invokePrintDesignerCustomEvent,It=(0,H.useCallback)((function(t){Dt("clickTipsLink",t)}),[Dt]),Tt=(0,H.useCallback)((function(t){return x(ff(t,u))}),[u]);return K().createElement(K().Fragment,null,K().createElement(J.NameTipWrapper,{nameHidden:ot,className:c,name:A,tips:D,onLinkClick:It}),K().createElement(Xr,{ref:nt,className:c},K().createElement("div",{onMouseOver:function(){g&&yt&&P(!0)},onMouseLeave:function(){_&&P(!1)}},K().createElement(W.Input,{onChange:function(t){var e=t.target.value||"";Ct(e)},readOnly:h,onPressEnter:function(){},onBlur:function(t){var e=t.target.value||"",n=b||xt;rt&&e.length>rt&&((null==it?void 0:it.MaxLength)&&dt(it.MaxLength),e=Dn()(e).call(e,0,rt),Ct(e)),n(e,vt)},value:yt,title:l,type:"string",placeholder:(0,J.getLangMsg)("printd.grid.key0002"),borderType:"bordered",prefix:st?K().createElement("span",{className:"formula-prefix"},"fx"):null,onClick:function(){h&&kt()},suffix:K().createElement(K().Fragment,null,_&&K().createElement(W.Icon,{type:"close",style:{cursor:"pointer"},onClick:m}),K().createElement(W.Icon,{type:"more",style:{cursor:"pointer"},onClick:kt}))}),st&&Tn()(Af).call(Af,d.type)?K().createElement(Bf,null):null)),K().createElement(Vr,(0,at.c)({activedSelectId:e,visible:U,modalTitle:p},ut,{filterTreeData:x,expandedKeys:w,selectedKey:S,checkedKeys:E,onSelect:y?Mn()(y).call(y,null,z):function(t){Et(t),z(!1)},onCancel:St,className:ht,emptyNode:K().createElement(If,{className:"left-datasource"}),checkable:I})),K().createElement(uf,(0,at.c)({activedSelectId:e,visible:V,activeTab:tt,formulaData:ct},ut,{filterTreeData:Tt,filterExpressionTreeData:At,expandedKeys:w,setVisible:q,onSelect:y?Mn()(y).call(y,null,q):wt,className:ht,DataSourceOption:u})))};function If(t){var e=t.className;return K().createElement("div",{className:"".concat(e,"-empty")},K().createElement("img",{className:"".concat(e,"-empty-img"),src:Pn,width:"168",height:"96",alt:(0,J.getLangMsg)("printd.grid.key0004")}),K().createElement("div",{className:"".concat(e,"-empty-text")},(0,J.getLangMsg)("printd.grid.key0004")))}var Tf=" ";function Bf(){var t=(0,H.useContext)(Ef),e=t.getPrefixCls,n=t.prefixCls,r=e?e(n,"print-designer"):"";return K().createElement("div",{className:"".concat(r,"-formula-helper-text")},K().createElement("span",null,(0,J.getLangMsg)("printd.grid.key0125")+Tf),K().createElement("a",{href:"https://vip.kingdee.com/article/583309331983209728",target:"_blank",rel:"noreferrer"},(0,J.getLangMsg)("printd.grid.key0126")))}var Mf=function(t){var e,n=t.dataContext,r=t.field,i=null==t||null===(e=t.field)||void 0===e?void 0:e.type,o="LayoutCell"!==i,a=n.findControl(r.parentId)||{},u=a.id,l=(a.dataSource,a.type,(0,H.useCallback)((function(t){var e=n.findControl(u);null==e||e.cellType,n.findControl(null==e?void 0:e.parentId);return t=L()(t).call(t,(function(t){return"Sys"!==t.DsType})),o?mr(t,"Image"):t}),[i])),c=(0,H.useCallback)((function(t){return o?mr(t,"Image"):t}),[]);return K().createElement(Df,(0,at.c)({},t,{modalType:"expression",filterTreeData:l,filterExpressionTreeData:c}))};function Rf(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Rf(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Rf(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Ff=function(t){t.Name;var e,n,r,i=t.id,o=t.propName,a=t.DataSourceInfo,u=t.dataContext,l=t.RelationKey,c=t.RelationViewText,s=t.RelationDataSource,f=t.value,d=t.field;t.className;J.console.log("datacell------",t);(0,H.useRef)(null);var h=(0,H.useContext)(bn),p=d.statType||"",v=d.dsType,g=d.cellType,m="Formula"===v,y=u.findControl(d.parentId),b=y.id,x=y.dataSource,w=y.type,E=(Tn()(e=["Detail","Group"]).call(e,g)?x:"").replace(/^(\S+\.)?(\S+)$/g,"$2"),S=Tn()(n=["Detail","Group"]).call(n,g)?[O()(r="".concat(x,"-")).call(r,E)]:[],k=(h.meta,h.definition),A="SubDataGrid"===w&&"Detail"===g?null:"expression",D=function(t){var e,n=t.key,r=t.InitAttr,c=void 0===r?{}:r,f=$n(n,k);if(f){var d,h,v,m=f.dataSource,y=f.ancestorTitle,w=f.key,E=f.title,S=f.dsType,A=f.ZeroShow,D=f.IgnoreTailZero,I="=$".concat(y),T=G()(e=C()(c)).call(e,(function(t,e){return t[Y().camelCase(e)]=c[e],t}),{});if(T.zeroShow=A,T.ignoreTailZero=D,a)d=[[i,ir((0,M.c)((0,M.c)({},o,I),a,ir(Lf((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},Y().camelCase(l),w),Y().camelCase(s),m),"viewText","Statistic"===g&&"noStat"!==p?O()(h="=".concat(p,"(")).call(h,E,")"):"=$".concat(E)),"dsType",S),T))))]];else d=[[i,ir(Lf((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},o,I),Y().camelCase(l),w),Y().camelCase(s),m),"viewText","Statistic"===g&&"noStat"!==p?O()(v="=".concat(p,"(")).call(v,E,")"):"=$".concat(E)),"dsType",S),T))]];x||d.push([b,{dataSource:m,dataSourceText:I?I.replace(/(\S+)\.(\S+)(\.\S+)$/g,"$2"):""}]),u.batchUpdateControlPropertyValues((0,J.createUpdateAction)(d))}else J.console.error("queryDataSourceAndAncestorByKey has no res",n,k)},I=(0,H.useCallback)((function(t){return t=L()(t).call(t,(function(t){return"Sys"!==t.DsType}))}),[g,x,d]);return K().createElement(Df,(0,at.c)({},t,{modalType:A,filterTreeData:I,expandedKeys:S,onSelect:"expression"===A?function(t,e){if(e)if("2"===e.curTab){var n,r=e.formulaData,a=m?{formulaData:r}:(0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},o,(0,J.getLangMsg)("printd.grid.key0003")),Y().camelCase(l),""),Y().camelCase(s),""),Y().camelCase(c),""),"dsType","Formula"),"formulaData",r);n=null!=r&&r[0]||1!==(null==r?void 0:r.length)?ir(a):Lf(Lf({},ir(a)),{},{bindText:"",dsType:""}),u.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[i,n]]))}else{var f=e.selectNode;D(f)}else{u.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[i,{bindField:"",bindText:"",dataSource:"",dsType:"",formulaData:[],viewText:""}]]))}t(!1)}:function(t,e){D(e),t(!1)},handleInputChange:function(t,e){if(t!==f){if(m)return u.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[i,ir((0,M.c)((0,M.c)({},o,t),"viewText",""))]]));var n=rr(f),r=n.isBindField,d=n.bindField;if(r){var h,v=nr(d,k);if(!v)return e(!0),u.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[i,ir((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},o,t),Y().camelCase(l),""),Y().camelCase(s),""),Y().camelCase(c),""),"dsType",""))]])),void J.console.error("queryDataSourceAndAncestorByName has no res",d,k);e(!1);var y=v.dataSource,C=v.key,w=v.viewText,E=v.dataSourceText,S=v.dsType;J.console.log("bindField, definition, res"),J.console.log(d,k,v);var A,D="Statistic"===g?(0,M.c)({},Y().camelCase(c),O()(h="=".concat(p,"(")).call(h,w,")")):(0,M.c)({},Y().camelCase(c),"=$".concat(w));A=a?[[i,ir((0,M.c)((0,M.c)({},o,t),a,""))]]:[[i,ir(Lf((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},o,t),Y().camelCase(l),C),Y().camelCase(s),y),"dsType",S),D))]],x||A.push([b,{dataSource:y,dataSourceText:E}]),u.batchUpdateControlPropertyValues((0,J.createUpdateAction)(A))}else e(!1),u.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[i,(0,M.c)({},o,t)]]))}}}))};function _f(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pf(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=_f(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=_f(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Nf,Of=function(t){var e=t.className,n=t.scrollToKey,r=t.errorTipShow,i=t.setErrorTipShow,o=t.checkable,a=t.meta,u=t.definition,l=t.showDefinitionId,c=t.filterTreeData,s=t.onCheck,f=t.checkedKeys,d=t.checkedNodes,h=t.emptyNode,p=t.handleDelete,v=t.handleClear,g=t.setCheckedNodes,m=t.setCheckedNodeKeys,y=t.controlType,C=t.onSelect,b=d.length||0,x=(0,H.useState)(null),w=(0,B.c)(x,2),E=w[0],S=w[1],k=(0,H.useState)(!1),A=(0,B.c)(k,2),D=A[0],I=A[1],T=(0,H.useCallback)((function(t,e,n){return t[e]=si()(t).call(t,n,1,t[e])[0],t}),[]),M=function(t){t.preventDefault()},R=function(t){I(!1)};return K().createElement(K().Fragment,null,r&&K().createElement(W.Alert,{className:"".concat(e,"-alert"),message:(0,J.getLangMsg)("printd.components.key0007"),type:"error",delayOffTime:0,closable:!0,showIcon:!0,onClose:function(){return i(!1)}}),K().createElement("div",{className:e},K().createElement("div",{className:"".concat(e,"-left")},K().createElement(Zr,{controlType:y,onSelect:C,checkable:!!o&&"CardGrid"!==y,scrollToKey:n,meta:a,definition:u,showDefinitionId:l,filterTreeData:c,onCheck:s,checkedKeys:f,emptyNode:h})),"CardGrid"!==y&&K().createElement("div",{className:"".concat(e,"-right")},K().createElement("div",{className:"right-header"},K().createElement("div",{className:"total"},(0,J.getLangMsg)("printd.components.key0008"),"（",b,"）"),K().createElement("div",{className:Hn()({"clear-all":!0,disabled:0===b}),onClick:v},(0,J.getLangMsg)("printd.components.key0009"))),K().createElement("ul",{className:Hn()("checked-list",{"is-drag":D}),onDragOver:M,onDragEnter:M},P()(d).call(d,(function(t,e){return K().createElement("li",{className:Hn()("checked-item",{"is-active":E===e}),key:e,draggable:!0,onDragStart:function(t){return function(t,e){t.stopPropagation(),S(e),I(!0)}(t,e)},onDragEnd:R,onDragOver:function(t){return function(t,e){if(e!==E){var n=T(d,e,E);g(n),m(P()(n).call(n,(function(t){return t.key}))),S(e)}}(0,e)},onMouseOver:function(t){return function(t,e){S(e)}(0,e)},onMouseLeave:function(t){S(null)}},K().createElement("span",{className:"item-name"},t.ViewName||t.Name||""),K().createElement(W.Icon,{type:"close",onClick:function(){return p(t.key)}}))}))))))},jf=function(t){var e=t.visible,n=t.onCancel,r=t.meta,i=t.definition,o=t.checkedKeys,a=void 0===o?[]:o,u=t.onSelect,l=t.emptyNode,c=(t.activedSelectId,t.controlType),s=void 0===c?"DataGrid":c,f=t.transferData,d=(0,H.useState)(!1),h=(0,B.c)(d,2),p=h[0],v=h[1],g=(0,H.useState)(!1),m=(0,B.c)(g,2),y=m[0],C=m[1],b=(0,H.useState)([]),x=(0,B.c)(b,2),w=x[0],E=x[1],S=(0,H.useState)(a),k=(0,B.c)(S,2),A=k[0],D=k[1],I=!A.length,T=(0,H.useContext)(J.DataContext),M=((0,H.useContext)(J.SelectionContext),(0,H.useContext)(J.DataFactoryContext).modelFactory,T.getRootId()),R=(T.findControl(M).language,s===he?null==f?void 0:f.parentGridId:""),F="grid-guide",_=(0,H.useCallback)((function(t,e){var n,r,o,a,u,l=e.checked,c=e.node;e.event;J.console.log("checkedKeys",l,t,c);var s=lr(c);J.console.log("fieldKeys--------",s,A);var f=l?O()(n=[]).call(n,(0,En.c)(A),(0,En.c)(s)):L()(A).call(A,(function(t){return!Tn()(s).call(s,t)}));J.console.log("checkedKeys--------",f);var d=L()(r=P()(o=L()(f).call(f,Boolean)).call(o,(function(t){return Pf({key:t},or(t,i))}))).call(r,(function(t){var e=t.dataSource,n=t.Key,r=t.Items;return!r||!r.length||!(Ln()(e).call(e,n)||r&&r.length)}));J.console.log("nodes------",d,P()(a=L()(f).call(f,Boolean)).call(a,(function(t){return Pf({key:t},or(t,i))})));var h=L()(d).call(d,(function(t){return"=getRowNumber()"!==t.Key})),p=(null===(u=L()(h).call(h,(function(t){return t}))[0])||void 0===u?void 0:u.dataSource)||"",g=(0,En.c)(new(di())(P()(h).call(h,(function(t){return t.dataSource})))),m=g.length>1;v(m),J.console.log("nodes---------",d),d=L()(d).call(d,(function(t){return"=getRowNumber()"===t.Key||t.dataSource===p}));var y=P()(d).call(d,(function(t){return t.key}));D(y),E(d),J.console.log("checkedNodes.current",d)}),[A,D,v]),N=function(){E([]),D([])},j=function(){v(!1),n()},G=["Entry","ReportEntry","Custom","Ref","Subentry","Workflow","Head","Main","Report","Approveline"],U=(0,H.useCallback)((function(t){if("CardGrid"===s)return Ar(G)(t);if(s===he){var e,n=T.findControl(R).dataSource,r=(null===(e=ur(t,(function(t){if(t.dataSource===n)return!0})))||void 0===e?void 0:e.SubEntryList)||[];return t=br(t),xr(t,r)}var i=null==f?void 0:f.subGridId;if(null!=i&&i.length){var o=f.dataSource;return xr(t,o)}var a=Cr(t);try{var u,l,c=null==a||null===(u=qn()(a).call(a,(function(t){return"Ref"===t.DsType})))||void 0===u||null===(u=qn()(l=u.Items).call(l,(function(t){return"Workflow"===t.DsType})))||void 0===u?void 0:u.Items;if((null==c?void 0:c.length)>1){var d=dt()(c).call(c,(function(t){return"Approveactivity"===t.DsType}));-1!==d&&si()(c).call(c,d,1)}}catch(t){}return a}),[s]);(0,H.useEffect)((function(){}),[A]),(0,H.useEffect)((function(){if(e)if(Dr(i,null==f?void 0:f.dataSource)||"CardGrid"===s){D(a);var t=P()(a).call(a,(function(t){return Pf({key:t},or(t,i))}));E(t)}else N()}),[e,i.length,null==f?void 0:f.dataSource,s]);var z=K().createElement(K().Fragment,null,K().createElement(W.Checkbox,{className:"".concat(F,"-modal-footer-checkbox"),checked:y,onChange:function(t){var e=!!t.target.checked;C(e)}},(0,J.getLangMsg)("printd.grid.key0101")),K().createElement("div",{className:"".concat(F,"-modal-footer-btns")},K().createElement(W.Button,{onClick:j,type:"second",className:"".concat(F,"-modal-cancel-btn")},(0,J.getLangMsg)("printd.components.key0011")),K().createElement(W.Button,{className:"".concat(F,"-modal-ok-btn"),type:"primary",disabled:I,onClick:function(){u(w,s)}},(0,J.getLangMsg)("printd.components.key0012"))));return K().createElement(W.Modal,{body:K().createElement(Of,{checkable:!0,className:"".concat(F,"-body"),errorTipShow:p,setErrorTipShow:v,meta:r,definition:i,showDefinitionId:y,filterTreeData:U,onCheck:_,checkedKeys:A,checkedNodes:w,handleDelete:function(t){E((function(e){return L()(e).call(e,(function(e){return e.key!==t}))})),D((function(e){return L()(e).call(e,(function(e){return e!==t}))}))},handleClear:N,emptyNode:l,setCheckedNodes:E,setCheckedNodeKeys:D,controlType:s,onSelect:function(t){E(t),D(t.key)}}),titleIcon:null,maskClosable:!1,className:"".concat(F,"-modal"),footer:z,width:688,height:500,title:(0,J.getLangMsg)("printd.components.key0013"),closable:!0,destroyOnClose:!0,onCancel:j,onOk:j,mask:!0,visible:e})},Gf=n(1508),Uf=n.n(Gf),zf=n(7224),Zf=n.n(zf);function Qf(){if(Nf)return Nf;if(Nf={},null!=window.screen.deviceXDPI)Nf.x=window.screen.deviceXDPI,Nf.y=window.screen.deviceYDPI;else{var t=document.createElement("div");t.style.cssText="width:1in;height:1in;position:absolute;left:0;top:0;z-index:0;visibility:hidden",document.body.appendChild(t),Nf.x=el()(t.offsetWidth),Nf.y=el()(t.offsetHeight),t.parentNode.removeChild(t)}return Nf}var Wf=function(){return Hf(1,"x",arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)},Jf=function(t){var e=arguments.length>2?arguments[2]:void 0;return Kf(t*Hf(1,"x",arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),null!=e?e:1)},Vf=function(t){var e=arguments.length>2?arguments[2]:void 0;return Kf(t/Hf(1,"x",arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),null!=e?e:1)};function Hf(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mm";"string"==typeof t&&(e=t.substr(t.length-2,2)),e=e||i,t=Zf()(t);var o=Qf()[n];switch(e){case"cm":return Kf(t*o/2.54,1)*r;case"mm":return Kf(t*o/25.4,1)*r;default:return t*r}}function Kf(t,e){if(!e)return t;var n=Math.pow(10,e);return Math.round(t*n)/n}function qf(t,e){if(!e)return t;var n=Math.pow(10,e);return Math.floor(t*n)/n}var Yf=["fontSize","width","height"],Xf=function(t){var e;return G()(e=C()(t)).call(e,(function(e,n){if(t.lineSpace)return e[n]=t[n],e;var r=qn()(Yf).call(Yf,(function(e){return null==t?void 0:t[e]}))?2:1;return e[n]=Y().isNumber(t[n])?Kf(t[n],r):t[n],e}),{})},$f=function(t){var e;return"PrintMetadata"!==(null===(e=t.getData())||void 0===e?void 0:e.type)},td=n(6908),ed=n.n(td);function nd(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function rd(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=nd(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=nd(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var id=function(t){var e=t.columns,n=t.rows;return function(t){var r=t.row,i=t.column;return{x:ld(Dn()(e).call(e,0,i)),y:ld(Dn()(n).call(n,0,r)),width:e[i].columnWidth,height:n[r].rowHeight}}},od=id,ad=function(t,e){var n;return O()(n="".concat(t,"-")).call(n,e)},ud=function(t){return function(e,n){return e*t+n}},ld=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.length?Kf(G()(t).call(t,(function(t,n){return"DataRow"===n.type?n.rowType===we||n.rowType===ke?t+n.rowHeight+e:t+n.rowHeight:t+n.columnWidth}),0),1):0},cd=function(t){var e,n,r,i,o=t.columns,a=t.rows,u=t.cells,l=t.mergeConfig,c=t.templateRowCount,s=t.fixedRowAtPage,f=t.allItems,d=void 0===f?[]:f,h=t.gridData,p=Y().cloneDeep(d),v=[],g=P()(e=Uf()(n=new Array(a.length)).call(n,0)).call(e,(function(){return{cells:[],row:{}}})),m=o.length,y=a.length,b=Y().cloneDeep(u),x={},w=id({columns:o,rows:a}),E=ud(m),S=jd(null!=h?h:{}),k=Ud(null!=h?h:{});Q()(r=C()(l)).call(r,(function(t){for(var e=t.split("-"),n=(0,B.c)(e,2),r=(n[0],n[1],l[t]),i=r.rowStart,o=r.rowLength,a=r.columnStart,u=r.columnLength,c=i;c<i+o;c++)for(var s=a;s<a+u;s++)b[E(c,s)].mergeConfig=l[t]})),Q()(b).call(b,(function(t,e){var n=t.row,r=t.column,i=t.border,o=void 0===i?DEFUALT_BORDER_DATA:i,u=t.id;if(t.mergeConfig){var l=t.mergeConfig,c=l.rowStart,s=l.columnStart,f=(l.rowLength,l.columnLength,ad(c,s));if(f in x){var d=x[f],h=w({row:n,column:r}),m=h.width,y=h.height;n!==c&&r===s&&(v[d].height+=y),r!==s&&n===c&&(v[d].width+=m)}else{var C=rd(rd(rd({},t),w({row:n,column:r})),{},{cellKey:ad(n,r),border:o,childItems:(null==p?void 0:L()(p).call(p,(function(t){return t.parentId===u})))||[]});v.push(C),g[n]=g[n]||{cells:[]},g[n].row=a[n],g[n].cells.push(C),x[f]=v.length-1}}else{var b=rd(rd(rd({},t),w({row:n,column:r})),{},{cellKey:ad(n,r),border:o});v.push(b),g[n]=g[n]||{cells:[]},g[n].row=a[n],g[n].cells.push(b)}})),J.console.log("cellDataWithMergeCell",g,v,x);var A=[],D=-1,I=0,T=-1;if(s&&c>1){var M,R,F,_=c-1;S?(D=dt()(g).call(g,(function(t){return t.row.rowType===we})),M=g[D]):k&&(M=g[g.length-1]),M&&(R=M.cells,F=M.row.rowHeight,I=k?G()(g).call(g,(function(t,e){return t+e.row.rowHeight*_}),0):F*_,R&&(A=On()({length:_},(function(t,e){return P()(R).call(R,(function(t){var n=t.y+F*(e+1);return 0===e&&(T=n),rd(rd(rd({},t),De),{},{y:n})}))}))))}if(D>-1&&0!==I&&Q()(g).call(g,(function(t,e){var n=t.cells;e>D&&Q()(n).call(n,(function(t){(0,at.c)(t,{y:t.y+I})}))})),h&&A.length&&-1!==D&&!Tn()(i=[Oe,Ne]).call(i,h[Le])){var N,j,U=Y().cloneDeep(g[D]);Q()(N=U.cells).call(N,(function(t){t.row=0})),Q()(A).call(A,(function(t,e){Q()(t).call(t,(function(t){t.row=e+1}))}));var z=sh(h,O()(j=[U]).call(j,(0,En.c)(P()(A).call(A,(function(t){return{cells:t}})))),c,m).newRowData;if(z){var Z,W,V,H=dh(h[Qt]),K=(0,B.c)(H,4),q=K[0],X=K[1],$=K[2],tt=K[3],et=q;if(0!==D){var nt,rt,it;if(Tn()(et).call(et,Fe))Q()(nt=z[0].cells).call(nt,(function(t){t[Qt]=_d(t[Qt],Ge,tt,X,$)}));if(Tn()(et).call(et,Ge))Q()(rt=z[0].cells).call(rt,(function(t){t[Qt]=_d(t[Qt],Ge,0,X,$)}));if(Tn()(et).call(et,_e))Q()(it=z[0].cells).call(it,(function(t){t[Qt]=_d(t[Qt],Ge,0,X,$)}))}if(D!==y-1){var ot,ut;if(Tn()(et).call(et,Fe),Tn()(et).call(et,ze))Q()(ot=z[z.length-1].cells).call(ot,(function(t){t[Qt]=_d(t[Qt],ze,0,X,$)}));if(Tn()(et).call(et,_e))Q()(ut=z[z.length-1].cells).call(ut,(function(t){t[Qt]=_d(t[Qt],ze,0,X,$)}))}return{originCells:b,rowData:O()(Z=O()(W=Dn()(g).call(g,0,D)).call(W,z[0])).call(Z,Dn()(g).call(g,D+1)),templateRowData:P()(V=Dn()(z).call(z,1)).call(V,(function(t){return t.cells})),templateRowHeight:I,templateRowIndex:D,templateRowY:T,rowCount:y,columnCount:m}}}return{originCells:b,rowData:g,templateRowData:A,templateRowHeight:I,templateRowIndex:D,templateRowY:T,rowCount:y,columnCount:m}},sd=Y().memoize((function(t){var e,n,r,i,o=G()(e=Y().cloneDeep(t)).call(e,(function(t,e){var n=e.type;e.id;switch(n){case"DataRow":return t.rows.push(e),t;case"DataColumn":return t.columns.push(e),t;default:return t.cells.push(e),t}}),{columnData:{},rowData:{},cells:[],columns:[],rows:[]}),a=(o.columns.length,o.rows),u=o.columns;return Q()(n=o.cells).call(n,(function(t,e){t.id;var n=t.rowId,r=t.columnId,i=dt()(a).call(a,(function(t){return t.id===n})),l=dt()(u).call(u,(function(t){return t.id===r}));o.cells[e]=rd(rd({},t),{},{row:i,column:l}),o.rowData[i]=o.rowData[i]||[],o.rowData[i].push(t),o.columnData[l]=o.columnData[l]||[],o.columnData[l].push(t)})),ed()(r=o.cells).call(r,(function(t,e){var n=t.row,r=t.column,i=e.row,o=e.column;return n-i==0?r-o:n-i})),J.console.log("originCells",o.cells),J.console.log("originCells id",P()(i=o.cells).call(i,(function(t){return{row:t.row,column:t.column}}))),o.rowCount=a.length,o.columnCount=u.length,o}),z()),fd=function(t,e,n){var r={};return G()(e).call(e,(function(e,i){var o=i.rowId,a=i.columnId,u="height"===n?o:a;return r[u]?(r[u]=!0,Kf(e,1)):(r[u]=!0,Kf(e+t.findControl(u)["height"===n?Ze:Qe],1))}),0)},dd=function(t){var e=t.isMultiSelected,n=t.field,r=t.dataContext,i=t.selectionContext,o=t.propName,a=(n.id,n.parentId),u=n.rowId,l=n.columnId,c=i.getSelection();if(e){var s=P()(c).call(c,(function(t){return r.findControl(t)})),f=L()(s).call(s,Nd);if(f.length===s.length&&("width"===o||"height"===o)){var d=P()(f).call(f,(function(t){return hd({dataContext:r,field:t})[o]}));return 1===new(di())(d).size?d[0]:""}return 1===new(di())(P()(s).call(s,(function(t){return t[o]}))).size?n[o]:""}if(Nd(n)&&("width"===o||"height"===o)){var h,p,v,g,m=r.findControl(a);if(m.mergeConfig){var y=ph({items:r.getData().items,gridData:m,rowId:u,columnId:l});if(y.length)return fd(r,y,o)}return"width"===o?null!==(h=null===(p=r.findControl(l))||void 0===p?void 0:p.columnWidth)&&void 0!==h?h:"":null!==(v=null===(g=r.findControl(u))||void 0===g?void 0:g.rowHeight)&&void 0!==v?v:""}return n[o]},hd=function(t){var e=t.field,n=t.dataContext,r=(e.id,e.parentId),i=e.rowId,o=e.columnId;if(Nd(e)){var a=n.findControl(r);if(a.mergeConfig){var u=ph({items:n.getData().items,gridData:a,rowId:i,columnId:o});if(u.length)return{width:fd(n,u,"width"),height:fd(n,u,"height")};var l=n.findControl(i);return{width:n.findControl(o).columnWidth,height:l.rowHeight}}}},pd=["Id","Count","CellType","Name"],vd=["Id","Count","CellType","Name"];function gd(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function md(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=gd(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=gd(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var yd=function(){return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0026")),K().createElement("g",{id:"文本备份",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("path",{d:"M5.5,24 L22.5,24 L22.5,22.5 L23.999,22.5 L24,5.5 L22.5,5.5 L22.5,4 L5.5,4 L5.5,5.5 L4,5.5 L3.999,22.5 L5.5,22.5 L5.5,24 Z M4.5,23.5 L2.5,23.5 L2.5,25.5 L4.5,25.5 L4.5,23.5 Z M25.5,23.5 L23.5,23.5 L23.5,25.5 L25.5,25.5 L25.5,23.5 Z M4.5,2.5 L2.5,2.5 L2.5,4.5 L4.5,4.5 L4.5,2.5 Z M25.5,2.5 L23.5,2.5 L23.5,4.5 L25.5,4.5 L25.5,2.5 Z M5.5,26.5 L1.5,26.5 L1.5,22.5 L2.999,22.5 L3,5.5 L1.5,5.5 L1.5,1.5 L5.5,1.5 L5.5,3 L22.5,3 L22.5,1.5 L26.5,1.5 L26.5,5.5 L25,5.5 L24.999,22.5 L26.5,22.5 L26.5,26.5 L22.5,26.5 L22.5,25 L5.5,25 L5.5,26.5 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}),K().createElement("path",{d:"M20.5234375,19.924 C20.7995799,19.924 21.0234375,20.1478576 21.0234375,20.424 C21.0234375,20.6694599 20.8465623,20.8736084 20.6133131,20.9159443 L20.5234375,20.924 L7.55200195,20.924 C7.27585958,20.924 7.05200195,20.7001424 7.05200195,20.424 C7.05200195,20.1785401 7.22887711,19.9743916 7.46212632,19.9320557 L7.55200195,19.924 L20.5234375,19.924 Z M20.5,17.424 C20.7761424,17.424 21,17.6478576 21,17.924 C21,18.1694599 20.8231248,18.3736084 20.5898756,18.4159443 L20.5,18.424 L15.5,18.424 C15.2238576,18.424 15,18.2001424 15,17.924 C15,17.6785401 15.1768752,17.4743916 15.4101244,17.4320557 L15.5,17.424 L20.5,17.424 Z M20.5,14.424 C20.7761424,14.424 21,14.6478576 21,14.924 C21,15.1694599 20.8231248,15.3736084 20.5898756,15.4159443 L20.5,15.424 L15.5,15.424 C15.2238576,15.424 15,15.2001424 15,14.924 C15,14.6785401 15.1768752,14.4743916 15.4101244,14.4320557 L15.5,14.424 L20.5,14.424 Z",id:"形状结合",fill:"#979797","fill-rule":"nonzero"}),K().createElement("path",{d:"M12.6,17.6699621 L12.6,8.03204346 L12.6,8.03204346 L16.1159783,8.03204346 C16.4009692,8.03204346 16.632,7.80101266 16.632,7.51602173 C16.632,7.2310308 16.4009692,7 16.1159783,7 L7.78802173,7 C7.5030308,7 7.272,7.2310308 7.272,7.51602173 C7.272,7.80101266 7.5030308,8.03204346 7.78802173,8.03204346 L11.304,8.03204346 L11.304,8.03204346 L11.304,17.7739187 C11.304,18.1053028 11.57264,18.3739428 11.9040241,18.3739428 C11.9200353,18.3739428 11.9360401,18.3733019 11.952,18.3720217 C12.3179691,18.3426661 12.6,18.0371067 12.6,17.6699621 Z",id:"T",fill:"#404040","fill-rule":"nonzero"})))},Cd=function(t){switch(t){case"Text":return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0026")),K().createElement("g",{id:"文本备份",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("path",{d:"M5.5,24 L22.5,24 L22.5,22.5 L23.999,22.5 L24,5.5 L22.5,5.5 L22.5,4 L5.5,4 L5.5,5.5 L4,5.5 L3.999,22.5 L5.5,22.5 L5.5,24 Z M4.5,23.5 L2.5,23.5 L2.5,25.5 L4.5,25.5 L4.5,23.5 Z M25.5,23.5 L23.5,23.5 L23.5,25.5 L25.5,25.5 L25.5,23.5 Z M4.5,2.5 L2.5,2.5 L2.5,4.5 L4.5,4.5 L4.5,2.5 Z M25.5,2.5 L23.5,2.5 L23.5,4.5 L25.5,4.5 L25.5,2.5 Z M5.5,26.5 L1.5,26.5 L1.5,22.5 L2.999,22.5 L3,5.5 L1.5,5.5 L1.5,1.5 L5.5,1.5 L5.5,3 L22.5,3 L22.5,1.5 L26.5,1.5 L26.5,5.5 L25,5.5 L24.999,22.5 L26.5,22.5 L26.5,26.5 L22.5,26.5 L22.5,25 L5.5,25 L5.5,26.5 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}),K().createElement("path",{d:"M20.5234375,19.924 C20.7995799,19.924 21.0234375,20.1478576 21.0234375,20.424 C21.0234375,20.6694599 20.8465623,20.8736084 20.6133131,20.9159443 L20.5234375,20.924 L7.55200195,20.924 C7.27585958,20.924 7.05200195,20.7001424 7.05200195,20.424 C7.05200195,20.1785401 7.22887711,19.9743916 7.46212632,19.9320557 L7.55200195,19.924 L20.5234375,19.924 Z M20.5,17.424 C20.7761424,17.424 21,17.6478576 21,17.924 C21,18.1694599 20.8231248,18.3736084 20.5898756,18.4159443 L20.5,18.424 L15.5,18.424 C15.2238576,18.424 15,18.2001424 15,17.924 C15,17.6785401 15.1768752,17.4743916 15.4101244,17.4320557 L15.5,17.424 L20.5,17.424 Z M20.5,14.424 C20.7761424,14.424 21,14.6478576 21,14.924 C21,15.1694599 20.8231248,15.3736084 20.5898756,15.4159443 L20.5,15.424 L15.5,15.424 C15.2238576,15.424 15,15.2001424 15,14.924 C15,14.6785401 15.1768752,14.4743916 15.4101244,14.4320557 L15.5,14.424 L20.5,14.424 Z",id:"形状结合",fill:"#979797","fill-rule":"nonzero"}),K().createElement("path",{d:"M12.6,17.6699621 L12.6,8.03204346 L12.6,8.03204346 L16.1159783,8.03204346 C16.4009692,8.03204346 16.632,7.80101266 16.632,7.51602173 C16.632,7.2310308 16.4009692,7 16.1159783,7 L7.78802173,7 C7.5030308,7 7.272,7.2310308 7.272,7.51602173 C7.272,7.80101266 7.5030308,8.03204346 7.78802173,8.03204346 L11.304,8.03204346 L11.304,8.03204346 L11.304,17.7739187 C11.304,18.1053028 11.57264,18.3739428 11.9040241,18.3739428 C11.9200353,18.3739428 11.9360401,18.3733019 11.952,18.3720217 C12.3179691,18.3426661 12.6,18.0371067 12.6,17.6699621 Z",id:"T",fill:"#404040","fill-rule":"nonzero"})));case"RichText":return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("path",{d:"M821.428571 107.142857C860.877482 107.142857 892.857143 139.122518 892.857143 178.571429L892.857143 821.428571C892.857143 860.877482 860.877482 892.857143 821.428571 892.857143L178.571429 892.857143C139.122518 892.857143 107.142857 860.877482 107.142857 821.428571L107.142857 178.571429C107.142857 139.122518 139.122518 107.142857 178.571429 107.142857L821.428571 107.142857zM821.428571 142.857143L178.571429 142.857143C160.255863 142.857143 145.160459 156.644293 143.097419 174.406388L142.857143 178.571429L142.857143 821.428571C142.857143 839.744136 156.644293 854.839543 174.406388 856.902582L178.571429 857.142857L821.428571 857.142857C839.744136 857.142857 854.839543 843.355707 856.902582 825.593611L857.142857 821.428571L857.142857 178.571429C857.142857 160.255863 843.355707 145.160459 825.593611 143.097419L821.428571 142.857143zM742.093161 706.857143C751.955389 706.857143 759.950304 714.852057 759.950304 724.714286C759.950304 733.480711 753.633332 740.771729 745.303004 742.283725L742.093161 742.571429L267.857143 742.571429C257.994915 742.571429 250 734.576514 250 724.714286C250 715.947861 256.31697 708.656843 264.647299 707.144846L267.857143 706.857143L742.093161 706.857143zM742.093161 564C751.955389 564 759.950304 571.994914 759.950304 581.857143C759.950304 590.623568 753.633332 597.914586 745.303004 599.426582L742.093161 599.714286L563.521732 599.714286C553.659504 599.714286 545.664589 591.719371 545.664589 581.857143C545.664589 573.090718 551.981557 565.7997 560.311886 564.287704L563.521732 564L742.093161 564zM364.307446 267.857143C370.307446 267.857143 375.164589 269.214286 378.878875 271.928571C381.664589 273.964286 383.807446 276.522321 385.307446 279.602679L386.593161 282.857143L477.021732 545.571429C479.307446 552.428571 479.450304 558.214286 477.450304 562.928571C475.450304 567.642857 470.736018 570 463.307446 570C458.450304 570.285714 454.521732 568.928571 451.521732 565.928571C449.271732 563.678571 447.463696 560.90625 446.097625 557.611607L444.878875 554.142857L421.307446 488.571429L307.736017 488.571429L290.164589 537.857143C288.736017 541.857143 287.307446 545.714286 285.878874 549.428571C284.450303 553.142857 282.807446 556.571429 280.950303 559.714286C279.09316 562.857143 276.950303 565.357143 274.521731 567.214286C272.09316 569.071429 269.307446 570 266.164589 570C260.450303 570 256.021731 568.214286 252.878874 564.642857C250.184997 561.581632 249.800157 556.26385 251.724355 548.689504L252.878874 544.714286L342.878874 282.857143C344.307446 278.285714 346.807446 274.642857 350.378874 271.928571C353.950303 269.214286 358.593161 267.857143 364.307446 267.857143zM364.736018 311.571429L315.878874 458.571429L413.593161 458.571429L364.736018 311.571429zM742.093161 421.142857C751.955389 421.142857 759.950304 429.137771 759.950304 439C759.950304 447.766425 753.633332 455.057443 745.303004 456.569439L742.093161 456.857143L563.521732 456.857143C553.659504 456.857143 545.664589 448.862229 545.664589 439C545.664589 430.233575 551.981557 422.942557 560.311886 421.430561L563.521732 421.142857L742.093161 421.142857zM742.093161 278.285714C751.955389 278.285714 759.950304 286.28063 759.950304 296.142857C759.950304 304.909282 753.633332 312.200299 745.303004 313.712298L742.093161 314L563.521732 314C553.659504 314 545.664589 306.005085 545.664589 296.142857C545.664589 287.376433 551.981557 280.085415 560.311886 278.573417L563.521732 278.285714L742.093161 278.285714z"}));case"Image":return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0027")),K().createElement("g",{id:"图片",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("path",{d:"M19.0635867,11.8647461 C20.8536504,11.8647461 22.8005418,13.7442816 24.9042609,17.5033525 L25.2664347,18.1661764 C25.5089081,18.6203335 25.7534299,19.0990397 26,19.6022949 L26,23 C26,24.1045695 25.1045695,25 24,25 L4,25 C2.8954305,25 2,24.1045695 2,23 L2,17.8845201 C4.66666667,15.29484 6.66666667,14 8,14 C10,14 10.8910175,16.4140625 12.9127329,16.4140625 C13.6708761,16.4140625 14.2999834,15.7743149 14.9497399,14.9746304 L15.6119234,14.1394043 C16.5187958,13.0020752 17.5510805,11.8647461 19.0635867,11.8647461 Z M19.0635867,12.8647461 C18.2328992,12.8647461 17.5590201,13.3424069 16.5714275,14.5433547 L15.7888437,15.5273213 L15.5490143,15.8193286 C15.5112838,15.8641349 15.474257,15.9074927 15.4373086,15.9501251 C14.6063027,16.9089708 13.8692177,17.4140625 12.9127329,17.4140625 C11.8290264,17.4140625 11.1560903,17.0708566 10.03841,16.1646156 L9.78761095,15.9582593 C8.89476212,15.2155435 8.5141519,15 8,15 C7.33313035,15 6.2739504,15.5469592 4.88524327,16.6528567 L4.43582359,17.0206811 L3.96493565,17.4257486 C3.88468972,17.4963682 3.80356758,17.568543 3.72157839,17.6422748 L3.21931187,18.1033643 L3,18.309 L3,23 C3,23.5128358 3.38604019,23.9355072 3.88337887,23.9932723 L4,24 L24,24 C24.5128358,24 24.9355072,23.6139598 24.9932723,23.1166211 L25,23 L25,19.838 L24.9249973,19.6846648 C22.6893998,15.2138574 20.6966562,12.9807295 19.1821547,12.8691495 L19.0635867,12.8647461 Z",id:"矩形",fill:"#979797","fill-rule":"nonzero"}),K().createElement("path",{d:"M24,3 C25.1045695,3 26,3.8954305 26,5 L26,23 C26,24.1045695 25.1045695,25 24,25 L4,25 C2.8954305,25 2,24.1045695 2,23 L2,5 C2,3.8954305 2.8954305,3 4,3 L24,3 Z M24,4 L4,4 C3.48716416,4 3.06449284,4.38604019 3.00672773,4.88337887 L3,5 L3,23 C3,23.5128358 3.38604019,23.9355072 3.88337887,23.9932723 L4,24 L24,24 C24.5128358,24 24.9355072,23.6139598 24.9932723,23.1166211 L25,23 L25,5 C25,4.48716416 24.6139598,4.06449284 24.1166211,4.00672773 L24,4 Z",id:"矩形备份",fill:"#404040","fill-rule":"nonzero"}),K().createElement("path",{d:"M8,6.5 C6.61928813,6.5 5.5,7.61928813 5.5,9 C5.5,10.3807119 6.61928813,11.5 8,11.5 C9.38071187,11.5 10.5,10.3807119 10.5,9 C10.5,7.61928813 9.38071187,6.5 8,6.5 Z M8,7.5 C8.82842712,7.5 9.5,8.17157288 9.5,9 C9.5,9.82842712 8.82842712,10.5 8,10.5 C7.17157288,10.5 6.5,9.82842712 6.5,9 C6.5,8.17157288 7.17157288,7.5 8,7.5 Z",id:"椭圆形",fill:"#404040","fill-rule":"nonzero"})));case"Barcode":return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0028")),K().createElement("g",{id:"条形码",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("path",{d:"M2.45361328,18.5048828 C2.72975566,18.5048828 2.95361328,18.7287404 2.95361328,19.0048828 L2.95361328,19.0048828 L2.95361328,21.3505859 L2.96047986,21.4950459 C3.0331646,22.2556979 3.67391716,22.8505859 4.45361328,22.8505859 L4.45361328,22.8505859 L7,22.8505859 L7.08987563,22.8586416 C7.32312484,22.9009776 7.5,23.105126 7.5,23.3505859 C7.5,23.6267283 7.27614237,23.8505859 7,23.8505859 L7,23.8505859 L4.45361328,23.8505859 L4.28923759,23.8452683 C2.98514922,23.7606246 1.95361328,22.6760693 1.95361328,21.3505859 L1.95361328,21.3505859 L1.95361328,19.0048828 L1.96166895,18.9150072 C2.00400491,18.681758 2.20815339,18.5048828 2.45361328,18.5048828 Z M26,18.5048828 C26.2454599,18.5048828 26.4496084,18.681758 26.4919443,18.9150072 L26.5,19.0048828 L26.5,21.3505859 C26.5,22.6760693 25.4684641,23.7606246 24.1643757,23.8452683 L24,23.8505859 L21.4536133,23.8505859 C21.1774709,23.8505859 20.9536133,23.6267283 20.9536133,23.3505859 C20.9536133,23.105126 21.1304884,22.9009776 21.3637376,22.8586416 L21.4536133,22.8505859 L24,22.8505859 C24.7796961,22.8505859 25.4204487,22.2556979 25.4931334,21.4950459 L25.5,21.3505859 L25.5,19.0048828 C25.5,18.7287404 25.7238576,18.5048828 26,18.5048828 Z M7,4.50488281 C7.27614237,4.50488281 7.5,4.72874044 7.5,5.00488281 C7.5,5.2503427 7.32312484,5.45449118 7.08987563,5.49682714 L7,5.50488281 L4.45361328,5.50488281 C3.67391716,5.50488281 3.0331646,6.0997709 2.96047986,6.8604228 L2.95361328,7.00488281 L2.95361328,9.35058594 C2.95361328,9.62672831 2.72975566,9.85058594 2.45361328,9.85058594 C2.20815339,9.85058594 2.00400491,9.67371078 1.96166895,9.44046157 L1.95361328,9.35058594 L1.95361328,7.00488281 C1.95361328,5.67939941 2.98514922,4.59484414 4.28923759,4.51020049 L4.45361328,4.50488281 L7,4.50488281 Z M24,4.50488281 L24.1643757,4.51020049 C25.4684641,4.59484414 26.5,5.67939941 26.5,7.00488281 L26.5,7.00488281 L26.5,9.35058594 L26.4919443,9.44046157 C26.4496084,9.67371078 26.2454599,9.85058594 26,9.85058594 C25.7238576,9.85058594 25.5,9.62672831 25.5,9.35058594 L25.5,9.35058594 L25.5,7.00488281 L25.4931334,6.8604228 C25.4204487,6.0997709 24.7796961,5.50488281 24,5.50488281 L24,5.50488281 L21.4536133,5.50488281 L21.3637376,5.49682714 C21.1304884,5.45449118 20.9536133,5.2503427 20.9536133,5.00488281 C20.9536133,4.72874044 21.1774709,4.50488281 21.4536133,4.50488281 L21.4536133,4.50488281 L24,4.50488281 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}),K().createElement("path",{d:"M18,15 C18.2761424,15 18.5,15.2238576 18.5,15.5 L18.5,18.5 C18.5,18.7761424 18.2761424,19 18,19 C17.7238576,19 17.5,18.7761424 17.5,18.5 L17.5,15.5 C17.5,15.2238576 17.7238576,15 18,15 Z M6,13 C6.27614237,13 6.5,13.2238576 6.5,13.5 L6.5,18.5 C6.5,18.7761424 6.27614237,19 6,19 C5.72385763,19 5.5,18.7761424 5.5,18.5 L5.5,13.5 C5.5,13.2238576 5.72385763,13 6,13 Z M10,15 C10.2761424,15 10.5,15.2238576 10.5,15.5 L10.5,18.5 C10.5,18.7761424 10.2761424,19 10,19 C9.72385763,19 9.5,18.7761424 9.5,18.5 L9.5,15.5 C9.5,15.2238576 9.72385763,15 10,15 Z M22,17 C22.2761424,17 22.5,17.2238576 22.5,17.5 L22.5,18.5 C22.5,18.7761424 22.2761424,19 22,19 C21.7238576,19 21.5,18.7761424 21.5,18.5 L21.5,17.5 C21.5,17.2238576 21.7238576,17 22,17 Z M14,13 C14.2761424,13 14.5,13.2238576 14.5,13.5 L14.5,18.5 C14.5,18.7761424 14.2761424,19 14,19 C13.7238576,19 13.5,18.7761424 13.5,18.5 L13.5,13.5 C13.5,13.2238576 13.7238576,13 14,13 Z M22,9 C22.2761424,9 22.5,9.22385763 22.5,9.5 L22.5,15.5 C22.5,15.7761424 22.2761424,16 22,16 C21.7238576,16 21.5,15.7761424 21.5,15.5 L21.5,9.5 C21.5,9.22385763 21.7238576,9 22,9 Z M10,9 C10.2761424,9 10.5,9.22385763 10.5,9.5 L10.5,13.5 C10.5,13.7761424 10.2761424,14 10,14 C9.72385763,14 9.5,13.7761424 9.5,13.5 L9.5,9.5 C9.5,9.22385763 9.72385763,9 10,9 Z M18,9 C18.2761424,9 18.5,9.22385763 18.5,9.5 L18.5,13.5 C18.5,13.7761424 18.2761424,14 18,14 C17.7238576,14 17.5,13.7761424 17.5,13.5 L17.5,9.5 C17.5,9.22385763 17.7238576,9 18,9 Z M6,9 C6.27614237,9 6.5,9.22385763 6.5,9.5 L6.5,11.5 C6.5,11.7761424 6.27614237,12 6,12 C5.72385763,12 5.5,11.7761424 5.5,11.5 L5.5,9.5 C5.5,9.22385763 5.72385763,9 6,9 Z M14,9 C14.2761424,9 14.5,9.22385763 14.5,9.5 L14.5,11.5 C14.5,11.7761424 14.2761424,12 14,12 C13.7238576,12 13.5,11.7761424 13.5,11.5 L13.5,9.5 C13.5,9.22385763 13.7238576,9 14,9 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}),K().createElement("rect",{id:"矩形备份-21",x:"16.5",y:"18",width:"1",height:"1",rx:"0.5"})));case"QRCode":return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0029")),K().createElement("g",{id:"二维码",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("path",{d:"M11,3 C12.1045695,3 13,3.8954305 13,5 L13,11 C13,12.1045695 12.1045695,13 11,13 L5,13 C3.8954305,13 3,12.1045695 3,11 L3,5 C3,3.8954305 3.8954305,3 5,3 L11,3 Z M11,4 L5,4 C4.48716416,4 4.06449284,4.38604019 4.00672773,4.88337887 L4,5 L4,11 C4,11.5128358 4.38604019,11.9355072 4.88337887,11.9932723 L5,12 L11,12 C11.5128358,12 11.9355072,11.6139598 11.9932723,11.1166211 L12,11 L12,5 C12,4.48716416 11.6139598,4.06449284 11.1166211,4.00672773 L11,4 Z",id:"矩形",fill:"#404040","fill-rule":"nonzero"}),K().createElement("path",{d:"M11,15 C12.1045695,15 13,15.8954305 13,17 L13,23 C13,24.1045695 12.1045695,25 11,25 L5,25 C3.8954305,25 3,24.1045695 3,23 L3,17 C3,15.8954305 3.8954305,15 5,15 L11,15 Z M11,16 L5,16 C4.48716416,16 4.06449284,16.3860402 4.00672773,16.8833789 L4,17 L4,23 C4,23.5128358 4.38604019,23.9355072 4.88337887,23.9932723 L5,24 L11,24 C11.5128358,24 11.9355072,23.6139598 11.9932723,23.1166211 L12,23 L12,17 C12,16.4871642 11.6139598,16.0644928 11.1166211,16.0067277 L11,16 Z",id:"矩形备份-2",fill:"#404040","fill-rule":"nonzero"}),K().createElement("path",{d:"M23,3 C24.1045695,3 25,3.8954305 25,5 L25,11 C25,12.1045695 24.1045695,13 23,13 L17,13 C15.8954305,13 15,12.1045695 15,11 L15,5 C15,3.8954305 15.8954305,3 17,3 L23,3 Z M23,4 L17,4 C16.4871642,4 16.0644928,4.38604019 16.0067277,4.88337887 L16,5 L16,11 C16,11.5128358 16.3860402,11.9355072 16.8833789,11.9932723 L17,12 L23,12 C23.5128358,12 23.9355072,11.6139598 23.9932723,11.1166211 L24,11 L24,5 C24,4.48716416 23.6139598,4.06449284 23.1166211,4.00672773 L23,4 Z",id:"矩形备份",fill:"#404040","fill-rule":"nonzero"}),K().createElement("path",{d:"M9,5.5 L7,5.5 C6.17157288,5.5 5.5,6.17157288 5.5,7 L5.5,9 C5.5,9.82842712 6.17157288,10.5 7,10.5 L9,10.5 C9.82842712,10.5 10.5,9.82842712 10.5,9 L10.5,7 C10.5,6.17157288 9.82842712,5.5 9,5.5 Z M7,6.5 L9,6.5 C9.27614237,6.5 9.5,6.72385763 9.5,7 L9.5,9 C9.5,9.27614237 9.27614237,9.5 9,9.5 L7,9.5 C6.72385763,9.5 6.5,9.27614237 6.5,9 L6.5,7 C6.5,6.72385763 6.72385763,6.5 7,6.5 Z",id:"矩形",fill:"#979797","fill-rule":"nonzero"}),K().createElement("path",{d:"M21,5.5 L19,5.5 C18.1715729,5.5 17.5,6.17157288 17.5,7 L17.5,9 C17.5,9.82842712 18.1715729,10.5 19,10.5 L21,10.5 C21.8284271,10.5 22.5,9.82842712 22.5,9 L22.5,7 C22.5,6.17157288 21.8284271,5.5 21,5.5 Z M19,6.5 L21,6.5 C21.2761424,6.5 21.5,6.72385763 21.5,7 L21.5,9 C21.5,9.27614237 21.2761424,9.5 21,9.5 L19,9.5 C18.7238576,9.5 18.5,9.27614237 18.5,9 L18.5,7 C18.5,6.72385763 18.7238576,6.5 19,6.5 Z",id:"矩形备份-3",fill:"#979797","fill-rule":"nonzero"}),K().createElement("path",{d:"M9,17.5 L7,17.5 C6.17157288,17.5 5.5,18.1715729 5.5,19 L5.5,21 C5.5,21.8284271 6.17157288,22.5 7,22.5 L9,22.5 C9.82842712,22.5 10.5,21.8284271 10.5,21 L10.5,19 C10.5,18.1715729 9.82842712,17.5 9,17.5 Z M7,18.5 L9,18.5 C9.27614237,18.5 9.5,18.7238576 9.5,19 L9.5,21 C9.5,21.2761424 9.27614237,21.5 9,21.5 L7,21.5 C6.72385763,21.5 6.5,21.2761424 6.5,21 L6.5,19 C6.5,18.7238576 6.72385763,18.5 7,18.5 Z",id:"矩形备份-4",fill:"#979797","fill-rule":"nonzero"}),K().createElement("path",{d:"M15.5,18 C15.7761424,18 16,18.2238576 16,18.5 L16,24.5 C16,24.7761424 15.7761424,25 15.5,25 C15.2238576,25 15,24.7761424 15,24.5 L15,18.5 C15,18.2238576 15.2238576,18 15.5,18 Z M18.5,19 C18.7761424,19 19,19.2238576 19,19.5 L19,24.5 C19,24.7761424 18.7761424,25 18.5,25 C18.2238576,25 18,24.7761424 18,24.5 L18,19.5 C18,19.2238576 18.2238576,19 18.5,19 Z M21.5,21 C21.7761424,21 22,21.2238576 22,21.5 L22,24.5 C22,24.7761424 21.7761424,25 21.5,25 C21.2238576,25 21,24.7761424 21,24.5 L21,21.5 C21,21.2238576 21.2238576,21 21.5,21 Z M24.5,19 C24.7761424,19 25,19.2238576 25,19.5 L25,24.5 C25,24.7761424 24.7761424,25 24.5,25 C24.2238576,25 24,24.7761424 24,24.5 L24,19.5 C24,19.2238576 24.2238576,19 24.5,19 Z M21.5,15 C21.7761424,15 22,15.2238576 22,15.5 L22,19.5 C22,19.7761424 21.7761424,20 21.5,20 C21.2238576,20 21,19.7761424 21,19.5 L21,15.5 C21,15.2238576 21.2238576,15 21.5,15 Z M18.5,15 C18.7761424,15 19,15.2238576 19,15.5 L19,17.5 C19,17.7761424 18.7761424,18 18.5,18 C18.2238576,18 18,17.7761424 18,17.5 L18,15.5 C18,15.2238576 18.2238576,15 18.5,15 Z M24.5,15 C24.7761424,15 25,15.2238576 25,15.5 L25,17.5 C25,17.7761424 24.7761424,18 24.5,18 C24.2238576,18 24,17.7761424 24,17.5 L24,15.5 C24,15.2238576 24.2238576,15 24.5,15 Z M15.5,15 C15.7761424,15 16,15.2238576 16,15.5 L16,16.5 C16,16.7761424 15.7761424,17 15.5,17 C15.2238576,17 15,16.7761424 15,16.5 L15,15.5 C15,15.2238576 15.2238576,15 15.5,15 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"})));case"Footer":return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0030")),K().createElement("g",{id:"页脚",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("g",{id:"编组",transform:"translate(4.000000, 1.967985)","fill-rule":"nonzero"},K().createElement("path",{d:"M1,19.532015 L2.70000005,19.532015 L2.70000005,18.532015 L1,18.532015 L1,19.532015 Z M4.4000001,19.532015 L6.10000014,19.532015 L6.10000014,18.532015 L4.4000001,18.532015 L4.4000001,19.532015 Z M7.80000019,19.532015 L9.50000024,19.532015 L9.50000024,18.532015 L7.80000019,18.532015 L7.80000019,19.532015 Z M11.2000003,19.532015 L12.9000003,19.532015 L12.9000003,18.532015 L11.2000003,18.532015 L11.2000003,19.532015 Z M14.6000004,19.532015 L16.3000004,19.532015 L16.3000004,18.532015 L14.6000004,18.532015 L14.6000004,19.532015 Z M18.0000005,19.532015 L19.5361328,19.532015 L19.5361328,18.532015 L18.0000005,18.532015 L18.0000005,19.532015 Z",id:"路径-20备份-3",fill:"#404040"}),K().createElement("path",{d:"M12.947418,0 L19.9931943,8.10498047 L19.938,8.152 L20,8.15262042 L20,22.032015 C20,23.1365845 19.1045695,24.032015 18,24.032015 L2,24.032015 C0.8954305,24.032015 0,23.1365845 0,22.032015 L0,2.03201496 C0,0.927445456 0.8954305,0.0320149557 2,0.0320149557 L12.91,0.032 L12.947418,0 Z M11.958,1.03201496 L2,1.03201496 C1.48716416,1.03201496 1.06449284,1.41805515 1.00672773,1.91539383 L1,2.03201496 L1,22.032015 C1,22.5448508 1.38604019,22.9675221 1.88337887,23.0252872 L2,23.032015 L18,23.032015 C18.5128358,23.032015 18.9355072,22.6459748 18.9932723,22.1486361 L19,22.032015 L19,9.15201496 L14.9587268,9.15262042 C13.3610459,9.15262042 12.0550659,7.90370046 11.9638195,6.32889321 L11.9587268,6.15262042 L11.958,1.03201496 Z M18.709,8.152 L12.958,1.537 L12.9587268,6.15262042 C12.9587268,7.25718992 13.8541573,8.15262042 14.9587268,8.15262042 L18.709,8.152 Z",id:"形状结合",fill:"#404040"}),K().createElement("rect",{id:"矩形备份-24",fill:"#979797",transform:"translate(10.000000, 15.532015) scale(1, -1) rotate(-180.000000) translate(-10.000000, -15.532015) ",x:"5",y:"15.032015",width:"10",height:"1",rx:"0.5"}),K().createElement("rect",{id:"矩形备份-25",fill:"#979797",transform:"translate(10.000000, 11.532015) scale(1, -1) rotate(-180.000000) translate(-10.000000, -11.532015) ",x:"5",y:"11.032015",width:"10",height:"1",rx:"0.5"}))));case"DataGrid":return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0031")),K().createElement("g",{id:"数据表格",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("g",{id:"编组备份-5",transform:"translate(3.000000, 3.000000)"},K().createElement("path",{d:"M7.5,7.5 L7.5,12 L14.5,11.999 L14.5,7.5 L15.5,7.5 L15.5,11.999 L21,12 L21,13 L15.5,12.999 L15.5,16.999 L21,17 L21,18 L15.5,17.999 L15.5,21.5 L14.5,21.5 L14.5,17.999 L7.5,18 L7.5,21.5 L6.5,21.5 L6.5,18 L1,18 L1,17 L6.5,17 L6.5,13 L1,13 L1,12 L6.5,12 L6.5,7.5 L7.5,7.5 Z M14.5,12.999 L7.5,13 L7.5,17 L14.5,16.999 L14.5,12.999 Z",id:"形状结合",fill:"#979797"}),K().createElement("path",{d:"M20,0 C21.1045695,0 22,0.8954305 22,2 L22,20 C22,21.1045695 21.1045695,22 20,22 L2,22 C0.8954305,22 0,21.1045695 0,20 L0,2 C0,0.8954305 0.8954305,0 2,0 L20,0 Z M1,8 L1,20 C1,20.5128358 1.38604019,20.9355072 1.88337887,20.9932723 L2,21 L20,21 C20.5128358,21 20.9355072,20.6139598 20.9932723,20.1166211 L21,20 L21,8 L1,8 Z M1,7 L21,7 L21,2 C21,1.48716416 20.6139598,1.06449284 20.1166211,1.00672773 L20,1 L2,1 C1.48716416,1 1.06449284,1.38604019 1.00672773,1.88337887 L1,2 L1,7 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}))));case"SubDateGrid":return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0032")),K().createElement("g",{id:"子数据表格",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("g",{id:"编组",transform:"translate(3.000000, 3.000000)","fill-rule":"nonzero"},K().createElement("path",{d:"M20,0 C21.1045695,0 22,0.8954305 22,2 L22,20 C22,21.1045695 21.1045695,22 20,22 L2,22 C0.8954305,22 0,21.1045695 0,20 L0,2 C0,0.8954305 0.8954305,0 2,0 L20,0 Z M20,1 L2,1 C1.48716416,1 1.06449284,1.38604019 1.00672773,1.88337887 L1,2 L1,20 C1,20.5128358 1.38604019,20.9355072 1.88337887,20.9932723 L2,21 L20,21 C20.5128358,21 20.9355072,20.6139598 20.9932723,20.1166211 L21,20 L21,2 C21,1.48716416 20.6139598,1.06449284 20.1166211,1.00672773 L20,1 Z",id:"矩形备份",fill:"#404040"}),K().createElement("path",{d:"M18,4.5 L4,4.5 C3.17157288,4.5 2.5,5.17157288 2.5,6 L2.5,8 C2.5,8.82842712 3.17157288,9.5 4,9.5 L18,9.5 C18.8284271,9.5 19.5,8.82842712 19.5,8 L19.5,6 C19.5,5.17157288 18.8284271,4.5 18,4.5 Z M4,5.5 L18,5.5 C18.2761424,5.5 18.5,5.72385763 18.5,6 L18.5,8 C18.5,8.27614237 18.2761424,8.5 18,8.5 L4,8.5 C3.72385763,8.5 3.5,8.27614237 3.5,8 L3.5,6 C3.5,5.72385763 3.72385763,5.5 4,5.5 Z",id:"矩形",fill:"#979797"}),K().createElement("path",{d:"M7,12.5 C7.82842712,12.5 8.5,13.1715729 8.5,14 L8.5,14 L8.5,17 C8.5,17.8284271 7.82842712,18.5 7,18.5 L7,18.5 L4,18.5 C3.17157288,18.5 2.5,17.8284271 2.5,17 L2.5,17 L2.5,14 C2.5,13.1715729 3.17157288,12.5 4,12.5 L4,12.5 Z M18.5,17 C18.7761424,17 19,17.2238576 19,17.5 C19,17.7761424 18.7761424,18 18.5,18 L18.5,18 L11.5,18 C11.2238576,18 11,17.7761424 11,17.5 C11,17.2238576 11.2238576,17 11.5,17 L11.5,17 Z M7,13.5 L4,13.5 C3.72385763,13.5 3.5,13.7238576 3.5,14 L3.5,14 L3.5,17 C3.5,17.2761424 3.72385763,17.5 4,17.5 L4,17.5 L7,17.5 C7.27614237,17.5 7.5,17.2761424 7.5,17 L7.5,17 L7.5,14 C7.5,13.7238576 7.27614237,13.5 7,13.5 L7,13.5 Z M18.5,13 C18.7761424,13 19,13.2238576 19,13.5 C19,13.7761424 18.7761424,14 18.5,14 L18.5,14 L11.5,14 C11.2238576,14 11,13.7761424 11,13.5 C11,13.2238576 11.2238576,13 11.5,13 L11.5,13 Z",id:"形状结合",fill:"#404040"}))));case"Header":return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0033")),K().createElement("g",{id:"页眉",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("path",{d:"M16.947418,1.96798504 L23.9931943,10.0729655 L23.938,10.119985 L24,10.1206055 L24,24 C24,25.1045695 23.1045695,26 22,26 L6,26 C4.8954305,26 4,25.1045695 4,24 L4,4 C4,2.8954305 4.8954305,2 6,2 L16.91,1.99998504 L16.947418,1.96798504 Z M15.958,3 L6,3 C5.48716416,3 5.06449284,3.38604019 5.00672773,3.88337887 L5,4 L5,24 C5,24.5128358 5.38604019,24.9355072 5.88337887,24.9932723 L6,25 L22,25 C22.5128358,25 22.9355072,24.6139598 22.9932723,24.1166211 L23,24 L23,11.12 L18.9587268,11.1206055 C17.3610459,11.1206055 16.0550659,9.8716855 15.9638195,8.29687826 L15.9587268,8.12060547 L15.958,3 Z M22.709,10.119985 L16.958,3.50498504 L16.9587268,8.12060547 C16.9587268,9.22517497 17.8541573,10.1206055 18.9587268,10.1206055 L22.709,10.119985 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero"}),K().createElement("rect",{id:"矩形备份-9",fill:"#979797",transform:"translate(14.000000, 17.500000) scale(1, -1) rotate(-180.000000) translate(-14.000000, -17.500000) ",x:"9",y:"17",width:"10",height:"1",rx:"0.5"}),K().createElement("rect",{id:"矩形备份-10",fill:"#979797",transform:"translate(14.000000, 13.500000) scale(1, -1) rotate(-180.000000) translate(-14.000000, -13.500000) ",x:"9",y:"13",width:"10",height:"1",rx:"0.5"}),K().createElement("path",{d:"M5,7.5 L6.5,7.5 L6.5,6.5 L5,6.5 L5,7.5 Z M8,7.5 L9.5,7.5 L9.5,6.5 L8,6.5 L8,7.5 Z M11,7.5 L12.5,7.5 L12.5,6.5 L11,6.5 L11,7.5 Z M14,7.5 L15.5,7.5 L15.5,6.5 L14,6.5 L14,7.5 Z",id:"路径-20",fill:"#404040","fill-rule":"nonzero"})));case"LayoutGrid":return K().createElement("svg",{className:"icon",width:"200",height:"200",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0034")),K().createElement("g",{id:"网格",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("rect",{id:"矩形",stroke:"#404040",x:"3.5",y:"3.5",width:"21",height:"21",rx:"2"}),K().createElement("path",{d:"M11,4 L11,10 L24,10 L24,11 L11,11 L11,24 L10,24 L10,11 L4,11 L4,10 L10,10 L10,4 L11,4 Z",id:"形状结合",fill:"#404040"}),K().createElement("path",{d:"M11,4 L11,10 L24,10 L24,11 L11,11 L11,24 L10,24 L10,11 L4,11 L4,10 L10,10 L10,4 L11,4 Z",id:"形状结合",fill:"#979797",transform:"translate(14.000000, 14.000000) scale(-1, -1) translate(-14.000000, -14.000000) "})));case"CardGrid":return K().createElement("svg",{className:"icon",width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0112")),K().createElement("g",{id:"布局",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("g",{transform:"translate(4.000000, 4.000000)",fill:"#404040","fill-rule":"nonzero",id:"形状结合"},K().createElement("path",{d:"M19,14 L13,14 C11.8954305,14 11,14.8954305 11,16 L11,19 C11,20.1045695 11.8954305,21 13,21 L19,21 C20.1045695,21 21,20.1045695 21,19 L21,16 C21,14.8954305 20.1045695,14 19,14 Z M19,15 C19.5522847,15 20,15.4477153 20,16 L20,19 C20,19.5522847 19.5522847,20 19,20 L13,20 C12.4477153,20 12,19.5522847 12,19 L12,16 C12,15.4477153 12.4477153,15 13,15 L19,15 Z M7,-1 L1,-1 C-0.1045695,-1 -1,-0.1045695 -1,1 L-1,7 C-1,8.1045695 -0.1045695,9 1,9 L7,9 C8.1045695,9 9,8.1045695 9,7 L9,1 C9,-0.1045695 8.1045695,-1 7,-1 Z M7,0 C7.55228475,0 8,0.44771525 8,1 L8,7 C8,7.55228475 7.55228475,8 7,8 L1,8 C0.44771525,8 0,7.55228475 0,7 L0,1 C0,0.44771525 0.44771525,0 1,0 L7,0 Z M19,-1 L13,-1 C11.8954305,-1 11,-0.1045695 11,1 L11,10 C11,11.1045695 11.8954305,12 13,12 L19,12 C20.1045695,12 21,11.1045695 21,10 L21,1 C21,-0.1045695 20.1045695,-1 19,-1 Z M19,0 C19.5522847,0 20,0.44771525 20,1 L20,10 C20,10.5522847 19.5522847,11 19,11 L13,11 C12.4477153,11 12,10.5522847 12,10 L12,1 C12,0.44771525 12.4477153,0 13,0 L19,0 Z M7,11 L1,11 C-0.1045695,11 -1,11.8954305 -1,13 L-1,19 C-1,20.1045695 -0.1045695,21 1,21 L7,21 C8.1045695,21 9,20.1045695 9,19 L9,13 C9,11.8954305 8.1045695,11 7,11 Z M7,12 C7.55228475,12 8,12.4477153 8,13 L8,19 C8,19.5522847 7.55228475,20 7,20 L1,20 C0.44771525,20 0,19.5522847 0,19 L0,13 C0,12.4477153 0.44771525,12 1,12 L7,12 Z"}))));case"Line":return K().createElement("svg",{className:"icon",width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},K().createElement("title",null,"直线"),K().createElement("g",{id:"直线",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("path",{d:"M6.5,15.5046212 C5.67157288,15.5046212 5,14.8330483 5,14.0046212 C5,13.1761941 5.67157288,12.5046212 6.5,12.5046212 C7.15321869,12.5046212 7.70891488,12.9221647 7.91475048,13.5049137 L20.0852495,13.5049137 C20.2910851,12.9221647 20.8467813,12.5046212 21.5,12.5046212 C22.3284271,12.5046212 23,13.1761941 23,14.0046212 C23,14.8330483 22.3284271,15.5046212 21.5,15.5046212 C20.8471533,15.5046212 20.2917181,15.0875531 20.0856015,14.5053242 L7.91439849,14.5053242 C7.70828193,15.0875531 7.1528467,15.5046212 6.5,15.5046212 Z M21.5,13.5046212 C21.2238576,13.5046212 21,13.7284788 21,14.0046212 C21,14.2807636 21.2238576,14.5046212 21.5,14.5046212 C21.7761424,14.5046212 22,14.2807636 22,14.0046212 C22,13.7284788 21.7761424,13.5046212 21.5,13.5046212 Z M6.5,13.5046212 C6.22385763,13.5046212 6,13.7284788 6,14.0046212 C6,14.2807636 6.22385763,14.5046212 6.5,14.5046212 C6.77614237,14.5046212 7,14.2807636 7,14.0046212 C7,13.7284788 6.77614237,13.5046212 6.5,13.5046212 Z",id:"形状结合",fill:"#404040","fill-rule":"nonzero",transform:"translate(14, 14.0046) rotate(-45) translate(-14, -14.0046)"}),K().createElement("path",{d:"M23,3 C24.1045695,3 25,3.8954305 25,5 L25,23 C25,24.1045695 24.1045695,25 23,25 L5,25 C3.8954305,25 3,24.1045695 3,23 L3,5 C3,3.8954305 3.8954305,3 5,3 L23,3 Z M23,4 L5,4 C4.48716416,4 4.06449284,4.38604019 4.00672773,4.88337887 L4,5 L4,23 C4,23.5128358 4.38604019,23.9355072 4.88337887,23.9932723 L5,24 L23,24 C23.5128358,24 23.9355072,23.6139598 23.9932723,23.1166211 L24,23 L24,5 C24,4.48716416 23.6139598,4.06449284 23.1166211,4.00672773 L23,4 Z",id:"矩形备份",fill:"#404040","fill-rule":"nonzero"})));default:return K().createElement(yd,null)}},bd=function(t,e,n){Qn()(t)?Q()(t).call(t,(function(t){t[e]=n})):t[e]=n};function xd(t,e){return function(n){var r=n.type,i=n.parentId,o=n.transferData,a=n.cellData,u=void 0===a?[]:a,l=n.parentItem,c=t({type:r,parentId:i,transferData:o,parentItem:l}),s=e({type:r});if("DataGrid"===s.Id||s.Id===he){var f=s.Default,d=0,h=[],p=[],v=[];c.items=_.flatten(P()(f).call(f,(function(e){var n,r,i,a=e.Id,l=e.Count,s=e.CellType,f=e.Name,g=(0,Wn.c)(e,pd),m={};o&&o.width&&(m={columnWidth:qf(o.width/u.length,1)});var y=_.isEmpty(g)?g:G()(n=C()(g)).call(n,(function(t,e){return t[_.camelCase(e)]=g[e],t}),{}),b=0,x=P()(r=Uf()(i=new Array("DataRow"!==a?u.length:l)).call(i,0)).call(r,(function(e,n,r){n%r.length==r.length-1&&(b||(b=Zf()((o.width-qf(o.width/r.length,1)*(r.length-1)).toFixed(1))),m={columnWidth:b});var i=u[n]||{},l=i.viewText,v=void 0===l?"":l,g={Detail:i,Normal:{bindText:v?v.replace(/=\$(.+)$/g,"$1"):""}};return t({type:a,parentId:c.id,transferData:"DataCell"===a?md(md(md(md({rowId:h[d].id,columnId:p[n].id,width:p[n].columnWidth,height:h[d].rowHeight,cellType:s},y),f?{name:f}:{}),g[s]||{}),m):md(md(md({},y),f?{name:f}:{}),"DataColumn"===a?m:{})})}));return"DataRow"===a?h.push.apply(h,(0,En.c)(x)):"DataColumn"===a&&p.push.apply(p,(0,En.c)(x)),"DataCell"===a&&(d++,v.push.apply(v,(0,En.c)(x))),x})))}return o&&(0,at.c)(c,o),null!=o&&o.width&&(c.width=o.width),Ed(c)}}function wd(t,e){return function(n){var r=n.type,i=n.parentId,o=n.transferData,a=n.gridInfo,u=void 0===a?{}:a,l=n.parentItem,c=t({type:r,parentId:i,transferData:o,parentItem:l}),s=e({type:r}),f=u.row,d=void 0===f?1:f,h=u.column,p=void 0===h?1:h;if(d=el()(d),p=el()(p),"LayoutGrid"===s.Id||"CardGrid"===s.Id){var v=s.Default,g=[],m=[];c.items=_.flatten(P()(v).call(v,(function(e){var n,r,i,a=e.Id,u=(e.Count,e.CellType),l=e.Name,s=(0,Wn.c)(e,vd),f={};o&&o.width&&(f={columnWidth:qf(o.width/p,1)});var h=_.isEmpty(s)?s:G()(n=C()(s)).call(n,(function(t,e){return t[_.camelCase(e)]=s[e],t}),{}),v=0,y=P()(r=Uf()(i=new Array(function(t){return"DataRow"===t?d:"DataColumn"===t?p:"LayoutCell"===t?d*p:void 0}(a))).call(i,0)).call(r,(function(e,n,r){return n%r.length==r.length-1&&(v||(v=Zf()((o.width-qf(o.width/p,1)*(p-1)).toFixed(1))),f={columnWidth:v}),t({type:a,parentId:c.id,transferData:"LayoutCell"===a?md(md({rowId:g[Math.floor(n/p)].id,columnId:m[n%p].id,width:m[n%p].columnWidth,height:g[Math.floor(n/p)].rowHeight,cellType:u},h),f):md(md(md({},h),l?{name:l}:{}),"DataColumn"===a?f:{})})}));return"DataRow"===a?g.push.apply(g,(0,En.c)(y)):"DataColumn"===a&&m.push.apply(m,(0,En.c)(y)),y})))}return o&&(0,at.c)(c,o),null!=o&&o.width&&(c.width=o.width),Ed(c)}}function Ed(t){if(t.items){var e,n=t.items;return t.items=void 0,uh(t,n,!0),O()(e=[t]).call(e,(0,En.c)(n))}return t}function Sd(t,e,n){e.findControlByCondition((function(e){return e.parentId===t})).length||e.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[t,n]]))}var kd={Normal:["Sys","Head","Import","Main","Entry"]};function Ad(t,e,n,r,i,o){var a,u,l=t.isDataGridDs,c=t.dsType,s=t.isSubDataGridDs,f=(t.dataSource,t.bindField),d=e.statType,h=e.cellType,p=e.parentId,v=e.id,g=r.initAttr,m=r.title,y=kd[h],C=n.findControl(p),b=C.type;C.parentControl;if("Sys"===c&&!Tn()(a=["=getGroupRowNumber()","=getRowNumber()"]).call(a,f))return i((0,J.getLangMsg)("printd.grid.key0113"));var x,w=cr(n,v,"DataGrid")||cr(n,v,"SubDataGrid");if(!Dr(o,w))return i((0,J.getLangMsg)("printd.grid.key0035"));if("Normal"===h&&!Tn()(y).call(y,c))return i((0,J.getLangMsg)("printd.grid.key0036"));"Normal"!==h&&"Statistic"!==h||n.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[v,md(md({},g),{},{viewText:"Statistic"===h&&"noStat"!==d?O()(x="=".concat(d,"(")).call(x,m,")"):"=$".concat(m)})]]));if(Tn()(u=["Detail","Group"]).call(u,h)){var E,S=n.findControl(p).dataSource,k=["Entry","ReportEntry","Subentry","Workflow","Report","Approveline"];if("DataGrid"===b&&!(Tn()(E=["=getGroupRowNumber()","=getRowNumber()"]).call(E,g.bindField)||S&&(g.dataSource===S||!Tn()(k).call(k,g.dsType))||!S&&l))return i((0,J.getLangMsg)("printd.grid.key0037"));if("SubDataGrid"===b&&!("=getRowNumber()"===g.bindField||S&&g.dataSource===S||!S&&s))return i((0,J.getLangMsg)("printd.grid.key0038"));var A=[[v,md(md({},g),{},{viewText:"=$".concat(m)})]];S||A.push([p,{dataSource:g.dataSource,dataSourceText:g.dataSourceText}]),n.batchUpdateControlPropertyValues((0,J.createUpdateAction)(A))}}var Dd=function(t,e){var n=t.y,r=t.height,i=t.subGridId,o=t.tableTailId;if(jd(t)&&null!=i&&i.length){var a=e.findControl(i[0]),u=a.subGridDirection,l=a.height;if("bottom"===u)return qf(n+r+l,1);if("right"===u)return qf(n+Math.max(r,l),1)}if((jd(t)||Ud(t))&&o)return qf(n+r+e.findControl(o).height,1);if(Gd(t)){var c=t.subGridDirection,s=t.parentGridId;if("right"===c){var f=e.findControl(s).height;return qf(n+Math.max(r,f),1)}}return qf(n+r,1)},Id=function(t,e){var n=t.y;if(Gd(t)){var r=t.subGridDirection,i=t.parentGridId;if("bottom"===r)return qf(n-e.findControl(i).height,1)}return n},Td=function(t,e){var n,r,i=P()(n=Uf()(r=Array(e.length)).call(r,null)).call(n,(function(){return[]}));return t.mapping((function(t){Q()(e).call(e,(function(e,n){e(t)&&i[n].push(t)}))})),i};function Bd(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Bd(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Bd(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}function Rd(t,e){return G()(le).call(le,(function(n,r){return e&&e(n,r)||(n[r]=t),n}),{})}var Ld=function(t,e,n,r){var i,o,a=Tn()(i=["dashed","dotted"]).call(i,r)?.5:n===Pe?2:r,u=Tn()(o=["dashed","dotted"]).call(o,r)?r:"solid";return Fd(t,n,e,a,u)},Fd=function(t,e,n,r,i){var o=Y().cloneDeep(t);switch(e){case Oe:o.width.left=0,o.width.right=0,o.width.top=0,o.width.bottom=0,o.width.inner=0;break;case je:o.width.left=r,o.color.left=n,o.style.left=i;break;case Ue:o.width.right=r,o.color.right=n,o.style.right=i;break;case Ge:o.color.top=n,o.width.top=r,o.style.top=i;break;case ze:o.color.bottom=n,o.width.bottom=r,o.style.bottom=i;break;case Fe:o.color.inner=n,o.width.inner=r,o.style.inner=i;break;default:o.width=G()(le).call(le,(function(t,n){return"inner"===n&&e!==Ne||(t[n]=r),t}),{}),o.color=G()(le).call(le,(function(t,r){return"inner"===r&&e!==Ne||(t[r]=n),t}),{}),o.style=G()(le).call(le,(function(t,n){return"inner"===n&&e!==Ne||(t[n]=i),t}),{})}return o},_d=function(t,e,n,r,i,o,a){var u=Y().cloneDeep(t);if(n&&!a&&(u.width=Rd(n||.5,(function(t,e){if(!u.width[e])return t[e]=u.width[e],!0}))),r&&(u.color=Rd(r)),i&&(u.style=Rd(i)),!e)return u;var l=Y().isUndefined(n)?u.width.top||u.width.left||u.width.right||u.width.bottom||u.width.inner||.5:n,c=Y().isUndefined(i)?u.style.top||u.style.left||u.style.right||u.style.bottom||u.style.inner:i,s=Y().isUndefined(r)?u.color.top||u.color.left||u.color.right||u.color.bottom||u.color.inner:r;switch(e){case Oe:o?(u.width.left=0,u.width.right=0,u.width.top=0,u.width.bottom=0,void 0===u.width.inner&&(u.width.inner=0)):u.width=G()(le).call(le,(function(t,e){return t[e]=0,t}),{});break;case je:var f=l,d=s,h=c;u.width.left=f,u.color.left=d,u.style.left=h;break;case Ue:var p=l,v=s,g=c;u.color.right=v,u.width.right=p,u.style.right=g;break;case Ge:var m=l,y=s,C=c;u.color.top=y,u.width.top=m,u.style.top=C;break;case ze:var b=l,x=s,w=c;u.color.bottom=x,u.width.bottom=b,u.style.bottom=w;break;case Ne:var E=l,S=s,k=c;u.width=G()(le).call(le,(function(t,e){return t[e]=E,t}),{}),u.color=G()(le).call(le,(function(t,e){return t[e]=S,t}),{}),u.style=G()(ce).call(ce,(function(t,e){return t[e]=k,t}),{});break;case Fe:var A=l,D=s,I=c;u.color.inner=D,u.width.inner=A,u.style.inner=I;break;default:var T=l,B=s,M=c;u.width=(0,at.c)(u.width,G()(ce).call(ce,(function(t,e){return t[e]=T,t}),{})),u.color=(0,at.c)(u.color,G()(ce).call(ce,(function(t,e){return t[e]=B,t}),{})),u.style=(0,at.c)(u.style,G()(ce).call(ce,(function(t,e){return t[e]=M,t}),{}))}return u},Pd=function t(e,n){var r=Y().cloneDeep(e);if(Qn()(n))return G()(n).call(n,(function(e,n){return t(e,n)}),r);switch(n){case je:r.width.left=0;break;case Ue:r.width.right=0;break;case Ge:r.width.top=0;break;case ze:r.width.bottom=0;break;default:return r}return r},Nd=function(t){return Tn()(be).call(be,null==t?void 0:t.type)},Od=function(t){return Tn()(me).call(me,null==t?void 0:t.type)},jd=function(t){return"DataGrid"===t.type},Gd=function(t){return(null==t?void 0:t.type)===he},Ud=function(t){return"CardGrid"===t.type},zd=function(t){var e=t.findControl(t.getRootId()),n=e.width-e.marginLeft-e.marginRight,r=e.height-e.marginTop-e.marginBottom;return{x:0,y:0,width:n,height:r,left:0,top:0,right:n,bottom:r}},Zd=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.x,i=void 0===r?0:r,o=n.y,a=void 0===o?0:o,u=t.findControl(e),l=u.width,c=u.height,s=u.x,f=u.y;return{x:s+=i,y:f+=a,width:l,height:c,left:s,top:f,right:s+l,bottom:f+c}},Qd=function(t){return Tn()(ye).call(ye,t.type)},Wd=function(t){return Tn()(Ce).call(Ce,t.type)},Jd=function(t){return t.rowType===we},Vd=function(t){if(!t)return!1;var e=t.type,n=t.cellType;return"DataCell"===e&&"Detail"===n},Hd=function(t){return t.rowType===Ae},Kd=function(t){return!!t&&"LayoutCell"===t.type},qd=function(t){return"TableTail"===t.type},Yd=function(t){return!!t&&"DataCell"===t.type},Xd=function(t){if(!t)return!1;var e=t.type;return"LayoutGrid"===e||"CardGrid"===e},$d=function(t,e){var n=t.getData().items;return{items:L()(n).call(n,(function(t){return t.parentId===e})),gridData:qn()(n).call(n,(function(t){return t.id===e})),allItems:n}},th=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return G()(e).call(e,(function(e,r,i){return(n[i]||r)&&(e[n[i]||r]=t[r]),e}),{})},eh=function(t){var e,n={};Q()(t).call(t,(function(t){var e=(0,B.c)(t,2),r=e[0],i=e[1];n[r]=n[r]||[],n[r].push(i)}));var r={};return L()(e=P()(t).call(t,(function(t){var e,i=(0,B.c)(t,2),o=i[0];i[1];if(!r[o])return r[o]=!0,[o,G()(e=n[o]).call(e,(function(t,e){return(0,at.c)(t,Xf(e))}),{})]}))).call(e,Boolean)},nh=function(t){var e=t.mergeConfig,n=t.row,r=t.column,i=n,o=r;e&&(i+=e.rowLength-1,o+=e.columnLength-1);return i===n&&(i=null),o===r&&(o=null),{realRowIdx:n,realCellIdx:r,rightRowIdx:i,bottomCellIdx:o}},rh=function(t){t.rowIdx,t.cellIdx;var e,n,r=t.cell,i=(t.cells,t.borderConfig),o=t.handleBorderTypes,a=t.columnLength,u=nh(r),l=u.realCellIdx,c=u.bottomCellIdx,s=i.borderColor,f=i.borderStyle,d=i.borderWidth,h=(0,B.c)(o,3),p=h[0],v=h[1],g=h[2];Tn()(e=[l,c]).call(e,0)&&(r[Qt]=G()(p).call(p,(function(t,e){return _d(t,e,d,s,f,!1,!0)}),r[Qt])),Tn()(n=[l,c]).call(n,a-1)&&(r[Qt]=G()(g).call(g,(function(t,e){return _d(t,e,d,s,f,!1,!0)}),r[Qt])),(0!==l||c!==a-1||(0,q.isNumber)(c)&&c!==a-1)&&(r[Qt]=G()(v).call(v,(function(t,e){return _d(t,e,d,s,f,!1,!0)}),r[Qt]))},ih=function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(0===n.length)return null;if(Qn()(e))return G()(e).call(e,(function(e,n){return t(n,e,r,i,o)}),n);var a=r.borderColor,u=r.borderStyle,l=r.borderWidth,c=i.rowLength,s=i.columnLength;switch(e){case Ne:return Q()(n).call(n,(function(t,e,n){var r=t.cells;Q()(r).call(r,(function(t,e,n){var r,i,o,f,d,h,p=nh(t),v=p.realRowIdx,g=p.realCellIdx,m=p.rightRowIdx,y=p.bottomCellIdx;Tn()(r=[v,m]).call(r,c-1)?Tn()(i=[g,y]).call(i,s-1)?t[Qt]=_d(t[Qt],_e,l,a,u):(t[Qt]=Pd(t[Qt],Ue),t[Qt]=G()(o=[je,Ge,ze]).call(o,(function(t,e){return _d(t,e,l,a,u)}),t[Qt])):Tn()(f=[g,y]).call(f,s-1)?(t[Qt]=Pd(t[Qt],ze),t[Qt]=G()(d=[je,Ge,Ue]).call(d,(function(t,e){return _d(t,e,l,a,u)}),t[Qt])):(t[Qt]=Pd(t[Qt],[ze,Ue]),t[Qt]=G()(h=[je,Ge]).call(h,(function(t,e){return _d(t,e,l,a,u)}),t[Qt]))}))})),n;case _e:for(var f=0;f<n.length;f++)for(var d=n[f].cells,h=0;h<d.length;h++){var p,v,g=d[h],m=nh(g),y=m.realRowIdx,C=(m.realCellIdx,m.rightRowIdx);m.bottomCellIdx;Tn()(p=[y,C]).call(p,0)&&rh({rowIdx:f,cellIdx:h,cell:g,cells:d,borderConfig:r,handleBorderTypes:[[je,Ge],[Ge],[Ue,Ge]],columnLength:s}),Tn()(v=[y,C]).call(v,c-1)&&rh({rowIdx:f,cellIdx:h,cell:g,cells:d,borderConfig:r,handleBorderTypes:[[je,ze],[ze],[Ue,ze]],columnLength:s}),(0!==y||y!==c-1||(0,q.isNumber)(C)&&C!==c-1)&&rh({rowIdx:f,cellIdx:h,cell:g,cells:d,borderConfig:r,handleBorderTypes:[[je],[],[Ue]],columnLength:s})}return n;case Oe:return Q()(n).call(n,(function(t,e,n){var r=t.cells;Q()(r).call(r,(function(t,e,n){t[Qt]=_d(t[Qt],Oe,l,a,u,!0)}))})),n;case je:return Q()(n).call(n,(function(t,e,n){var r=t.cells;Q()(r).call(r,(function(t,e,n){var r=nh(t),i=(r.realRowIdx,r.realCellIdx),o=r.rightRowIdx;r.bottomCellIdx;0!==i&&0!==o||(t[Qt]=_d(t[Qt],je,l,a,u))}))})),n;case Ge:var b=n[0].cells;return Q()(b).call(b,(function(t){t[Qt]=_d(t[Qt],Ge,l,a,u)})),n;case Ue:return Q()(n).call(n,(function(t,e,n){var r=t.cells;Q()(r).call(r,(function(t){var e,n=nh(t),r=(n.realRowIdx,n.realCellIdx),i=(n.rightRowIdx,n.bottomCellIdx);Tn()(e=[r,i]).call(e,s-1)&&(t[Qt]=_d(t[Qt],Ue,l,a,u))}))})),n;case ze:return Q()(n).call(n,(function(t,e,n){var r=t.cells;Q()(r).call(r,(function(t){var e,n=nh(t),r=n.realRowIdx,i=(n.realCellIdx,n.rightRowIdx);n.bottomCellIdx;Tn()(e=[r,i]).call(e,c-1)&&(t[Qt]=_d(t[Qt],ze,l,a,u))}))})),n;case Fe:return Q()(n).call(n,(function(t,e,n){var r=t.cells;Q()(r).call(r,(function(t,e,n){var r,i,o,c,s=nh(t),f=s.realRowIdx,d=s.realCellIdx,h=s.rightRowIdx,p=s.bottomCellIdx;Tn()(r=[f,h]).call(r,0)?Tn()(i=[d,p]).call(i,0)||(t[Qt]=_d(t[Qt],je,l,a,u)):Tn()(o=[d,p]).call(o,0)?t[Qt]=_d(t[Qt],Ge,l,a,u):t[Qt]=G()(c=[je,Ge]).call(c,(function(t,e){return _d(t,e,l,a,u)}),t[Qt])}))})),n;default:J.console.error("unreachable action error")}},oh=function(t,e,n,r,i){return Q()(n).call(n,(function(t,n,o){var a=t.cells;Q()(a).call(a,(function(t,n,o){var a,u,l,c=nh(t),s=c.realRowIdx,f=c.realCellIdx,d=c.rightRowIdx,h=c.bottomCellIdx,p=qn()(e).call(e,(function(e){return e.id===t.id}));(p&&(t[Qt]=p[Qt]),Tn()(a=[s,d]).call(a,r-1))?Tn()(u=[f,h]).call(u,i-1)||(t[Qt]=Pd(t[Qt],Ue)):Tn()(l=[f,h]).call(l,i-1)?t[Qt]=Pd(t[Qt],ze):t[Qt]=Pd(t[Qt],[ze,Ue])}))})),n},ah=function(t,e,n,r,i){return Q()(n).call(n,(function(t,n,o){var a=t.cells;Q()(a).call(a,(function(t,n,o){var a,u,l=nh(t),c=l.realRowIdx,s=l.realCellIdx,f=l.rightRowIdx,d=l.bottomCellIdx,h=qn()(e).call(e,(function(e){return e.id===t.id}));if(h&&(t[Qt]=h[Qt]),Tn()(a=[c,f]).call(a,r-1)){var p=Y().findLast(e,(function(t){return"DataRow"===t.type}));if(p&&p.id!==t.rowId){var v,g=qn()(e).call(e,(function(e){return e.rowId===p.id&&e.columnId===t.columnId})).border;if(null!=g&&null!==(v=g.width)&&void 0!==v&&v.bottom){var m=dh(t[Qt])[1],y=dh(t[Qt])[2],C=dh(t[Qt])[3];t[Qt]=_d(t[Qt],ze,C,m,y)}}}if(Tn()(u=[s,d]).call(u,i-1)){var b=Y().findLast(e,(function(t){return"DataColumn"===t.type}));if(b&&b.id!==t.columnId){var x,w=qn()(e).call(e,(function(e){return e.columnId===b.id&&e.rowId===t.rowId})).border;if(null!=w&&null!==(x=w.width)&&void 0!==x&&x.right){var E=dh(t[Qt])[1],S=dh(t[Qt])[2],k=dh(t[Qt])[3];t[Qt]=_d(t[Qt],Ue,k,E,S)}}}}))})),n},uh=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Y().cloneDeep(t),o=i.borderType,a=i.border,u=i.mergeConfig,l=void 0===u?{}:u,c=(r?function(t){return t}:Y().cloneDeep)(L()(e).call(e,(function(e){return e.parentId===t.id}))),s=sd(c),f=s.columns,d=s.rows,h=s.cells,p=cd(Md(Md({columns:f,rows:d,cells:h},i),{},{mergeConfig:l})).rowData,v=hh(a,o,p,d.length,f.length),g=[];v&&Q()(n=G()(v).call(v,(function(t,e){return O()(t).call(t,e.cells)}),[])).call(n,(function(t){var e=t.id,n=t.border,i=qn()(c).call(c,(function(t){return t.id===e}));i&&r&&(i.border=n,g.push([i.id,{border:n}]))}));return g},lh=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Y().cloneDeep(t),i=(r.borderType,r.border,r.mergeConfig),o=void 0===i?{}:i,a=(0,Y().cloneDeep)(L()(e).call(e,(function(e){return e.parentId===t.id}))),u=sd(a),l=u.columns,c=u.rows,s=u.cells,f=cd(Md(Md({columns:l,rows:c,cells:s},r),{},{mergeConfig:o})).rowData,d=[];d=n?oh(0,a,f,c.length,l.length):ah(0,a,f,c.length,l.length);var h,p=[];d&&Q()(h=G()(d).call(d,(function(t,e){return O()(t).call(t,e.cells)}),[])).call(h,(function(t){var e=t.id,n=t.border,r=qn()(a).call(a,(function(t){return t.id===e}));r&&p.push([r.id,{border:n}])}));return p},ch=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Y().cloneDeep(t),o=i.borderType,a=i.border,u=i.mergeConfig,l=void 0===u?{}:u,c=(0,Y().cloneDeep)(L()(e).call(e,(function(e){return e.parentId===t.id}))),s=L()(n).call(n,(function(e){return e.parentId===t.id})),f=sd(c),d=f.columns,h=f.rows,p=f.cells,v=cd(Md(Md({columns:d,rows:h,cells:p},i),{},{mergeConfig:l})).rowData,g=hh(a,o,v,h.length,d.length);g=r?ah(0,s,v,h.length,d.length):oh(0,n,v,h.length,d.length);var m,y=[];g&&Q()(m=G()(g).call(g,(function(t,e){return O()(t).call(t,e.cells)}),[])).call(m,(function(t){var e=t.id,n=t.border,r=qn()(c).call(c,(function(t){return t.id===e}));r&&(r.border=n,y.push([r.id,{border:n}]))}));return y},sh=function(t,e,n,r){var i=t.borderType,o=t.border;t.mergeConfig;return{newRowData:hh(o,i,e,n,r)}},fh=[ln,cn,sn],dh=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=st()(n.width||{}),i=n.width||{},o=i.left,a=i.right,u=i.top,l=i.bottom,c=!i.inner&&o&&a&&u&&l,s=(st()(n.color||{}),st()(n.style||{}),L()(r).call(r,Boolean).length);if(0===s)return[[Oe]];if(5===s)return[[Ne],n.color.top,n.style.top,+(null!==(t=qn()(fh).call(fh,(function(t){return+t==+n.width.top})))&&void 0!==t?t:ln),{color:n.color.inner,width:n.width.inner,style:n.style.inner}];if(c)return[[_e],n.color.top,n.style.top,+(null!==(e=qn()(fh).call(fh,(function(t){return+t==+n.width.top})))&&void 0!==e?e:ln)];var f=[];return n.width.top&&f.push(Ge),n.width.left&&f.push(je),n.width.right&&f.push(Ue),n.width.bottom&&f.push(ze),n.width.inner&&f.push(Fe),[f,n.color.top||n.color.bottom||n.color.left||n.color.right||n.color.inner,n.style.top||n.style.bottom||n.style.left||n.style.right||n.style.inner,+(n.width.top||n.width.bottom||n.width.left||n.width.right||n.width.inner||ln),{color:n.color.inner,width:n.width.inner,style:n.style.inner}]},hh=Y().memoize((function(t,e,n,r,i){var o=dh(t),a=(0,B.c)(o,4),u=a[0],l=a[1],c=a[2],s=a[3],f=Tn()(u).call(u,Fe)?[Fe]:u,d=ih(f,Y().cloneDeep(n),{borderColor:l,borderStyle:c,borderWidth:s},{rowLength:r,columnLength:i},L()(u).call(u,(function(t){return t!==Fe})));return d}),(function(t,e,n,r,i){return z()({value:t,type:e,rowData:n,rowLength:r,columnLength:i})})),ph=function(t){var e,n=t.items,r=t.rowId,i=t.columnId,o=t.gridData,a=Y().cloneDeep(o),u=(a.borderType,a.border,a.mergeConfig),l=void 0===u?{}:u;if(Y().isEmpty(l))return[];var c=L()(n).call(n,(function(t){return t.parentId===o.id})),s=sd(c),f=s.columns,d=s.rows,h=s.cells,p=s.columnCount,v=ud(p),g=O()(e="".concat(dt()(d).call(d,(function(t){return t.id===r})),"_")).call(e,dt()(f).call(f,(function(t){return t.id===i}))),m=[];if(l[g])for(var y=l[g],C=y.rowStart,b=y.rowLength,x=y.columnStart,w=y.columnLength,E=C;E<C+b;E++)for(var S=x;S<x+w;S++){var k=h[v(E,S)];k.rowId!==r&&k.columnId!==i||m.push(k)}return m},vh=function(t,e){var n=G()(t).call(t,(function(t,e){return t+e}),0),r=e-n;return P()(t).call(t,(function(e){return qf(e+(0===n?r/t.length:r*e/n),1)}))},gh=function(t,e){if((null==t?void 0:t.length)>1){var n=G()(t).call(t,(function(t,e){return t+e}),0);t[t.length-1]=t[t.length-1]+qf(e-n,1)}return t};var mh=function(t,e,n,r){return function(i,o){for(var a=i,u=t;u<=e;u++){a=o(a,n[r(u,i)])}return a}};function yh(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ch(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=yh(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=yh(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var bh=function(t){t.Name;var e,n=t.id,r=t.dataContext,i=t.value,o=t.field,a=t.className,u=t.selectionContext,l=t.Name,c=t.Tips,s=t.Editor,f=(void 0===s?{}:s).NameHidden,d=(0,H.useState)(!1),h=(0,B.c)(d,2),p=h[0],v=h[1],g=(0,H.useState)([]),m=(0,B.c)(g,2),y=m[0],b=m[1],x=(0,H.useContext)(bn),w=x.meta,E=x.definition,S=x.setMessage,k=r.getRootId(),A=(Y().last(O()(e=[k]).call(e,(0,En.c)(u.getSelection()))),(0,H.useContext)(J.GlobalConfigContext).invokePrintDesignerCustomEvent),D=(0,H.useCallback)((function(t){A("clickTipsLink",t)}),[A]);return K().createElement(K().Fragment,null,K().createElement(J.NameTipWrapper,{nameHidden:f,className:a,name:l,tips:c,onLinkClick:D}),K().createElement("div",{className:"".concat(a,"-query"),onClick:function(){var t,e=o.id,n=r.findControlByCondition((function(t){return t.parentId===e&&"Detail"===t.cellType})),i=L()(t=P()(n).call(n,(function(t){var e=t.bindField,n=t.dataSource;return tr(n,e)}))).call(t,Boolean);b(i),v(!0)}},K().createElement("div",{className:Hn()(["".concat(a,"-query-text"),(0,M.c)({},"".concat(a,"-query-text-empty"),!i)])},i||(0,J.getLangMsg)("printd.grid.key0008")),K().createElement("div",{className:"".concat(a,"-query-btn")},K().createElement(W.Icon,{type:"more",style:{cursor:"pointer"}}))),K().createElement(jf,{activedSelectId:n,meta:w,definition:E,visible:p,onCancel:function(){return v(!1)},onSelect:function(t,e){if("CardGrid"===e){var i=(null==t?void 0:t.key)||[],a=$n(null==i?void 0:i[0],E);if(!a)return;var l=a.dataSource,c=a.dataSourceText,s=a.dsType,f=a.ZeroShow,d=a.IgnoreTailZero,h=[n,{dataSource:l,dataSourceText:c,dsType:s,methodName:"switchDataSource",zeroShow:f,ignoreTailZero:d}],p=o.tableTailId;return r.batchUpdateControlPropertyValues((0,J.createCustomUpdateAction)(h)).then((function(){p&&r.deleteControl((0,J.createDeleteAction)(p))})),void v(!1)}var g=r.findControl(k);if((g.width-g.marginLeft-g.marginRight)/t.length<5)return S((0,J.getLangMsg)("printd.grid.key0004"));var m,b=P()(t).call(t,(function(t){var e,n=t.key,r=t.InitAttr,i=void 0===r?{}:r,o=$n(n,E);if(!o)return{};var a=o.dataSource,u=o.ancestorTitle,l=o.key,c=o.title,s=o.dsType,f=o.ZeroShow,d=o.IgnoreTailZero,h=G()(e=C()(i)).call(e,(function(t,e){return t[Y().camelCase(e)]=i[e],t}),{});return h.zeroShow=f,h.ignoreTailZero=d,Ch({bindText:"=$".concat(u),bindField:l,dataSource:a,viewText:"=$".concat(c),dsType:s},h)})),x=P()(b).call(b,(function(t){return tr(t.dataSource,t.bindField)}));if(!(m=y,x.join("")===m.join(""))){u.setSelect([]);var w=o.tableTailId;r.batchUpdateControlPropertyValues((0,J.createCustomUpdateAction)([n,{dataSource:b}])).then((function(t){w&&r.deleteControl((0,J.createDeleteAction)(w));var e=t[1].value;u.setSelect(Qn()(e)?[e[0].id]:[e.id])}))}v(!1)},checkedKeys:y,controlType:o.type,transferData:o}))},xh=function(t){t.Name,t.id;var e=t.dataContext,n=t.value,r=t.field,i=t.className,o=t.Name,a=t.Tips,u=t.Editor,l=(void 0===u?{}:u).NameHidden,c=(0,H.useContext)(J.GlobalConfigContext).handleOpenDGridSortSettingEdModal,s=(0,H.useCallback)((function(){var t=e.findControlByCondition((function(t){return Vd(t)&&t.parentId===r.id})),i=P()(t).call(t,(function(t){return{dataSource:t.dataSource,bindField:t.bindField}}));null==c||c(Ch(Ch({},r),{},{sortSettingsText:n,dsList:i}))}),[c,r,n]),f=(0,H.useContext)(J.GlobalConfigContext).invokePrintDesignerCustomEvent,d=(0,H.useCallback)((function(t){f("clickTipsLink",t)}),[f]);return K().createElement(K().Fragment,null,K().createElement(J.NameTipWrapper,{nameHidden:l,className:i,name:o,tips:a,onLinkClick:d}),K().createElement("div",{className:"".concat(i,"-query"),onClick:s},K().createElement("div",{className:Hn()(["".concat(i,"-query-text"),(0,M.c)({},"".concat(i,"-query-text-empty"),!n)])},n||(0,J.getLangMsg)("printd.grid.key0008")),K().createElement("div",{className:"".concat(i,"-query-btn")},K().createElement(W.Icon,{type:"more",style:{cursor:"pointer"}}))))},wh=function(t){t.Name,t.id,t.dataContext;var e,n=t.value,r=t.field,i=t.className,o=t.Name,a=t.Tips,u=t.Editor,l=(void 0===u?{}:u).NameHidden,c=(0,H.useContext)(J.GlobalConfigContext).handleOpenDGridFilterSettingEdModal,s=(0,H.useCallback)((function(){null==c||c(Ch({},r))}),[c,r,n]),f=(0,H.useContext)(bn).definition,d=void 0===f?{}:f,h=function(t){var e;return function n(r){return Xn()(r).call(r,(function(r){var i=r.dataSource===t;return e=i&&r.DsType,i||r.Items&&n(r.Items)})),e}}(r.dataSource)(d),p=Tn()(e=["ReportEntry","Approveline","Approveactivity","Custom","Workflow","Ref","Attach"]).call(e,h),v=(0,H.useContext)(J.GlobalConfigContext).invokePrintDesignerCustomEvent,g=(0,H.useCallback)((function(t){v("clickTipsLink",t)}),[v]);return K().createElement(K().Fragment,null,!p&&K().createElement(K().Fragment,null,K().createElement(J.NameTipWrapper,{nameHidden:l,className:i,name:o,tips:a,onLinkClick:g}),K().createElement("div",{className:"".concat(i,"-query"),onClick:s},K().createElement("div",{className:Hn()(["".concat(i,"-query-text"),(0,M.c)({},"".concat(i,"-query-text-empty"),!(n||r.filterSettingValue))])},n||r.filterSettingValue?(0,J.getLangMsg)("printd.grid.key0001"):(0,J.getLangMsg)("printd.grid.key0009")),K().createElement("div",{className:"".concat(i,"-query-btn")},K().createElement(W.Icon,{type:"more",style:{cursor:"pointer"}})))))},Eh=function(t){var e,n=t.id,r=t.locked,i=t.className,o=t.editor,a=t.Name,u=t.Tips,l=t.dataContext,c=t.field,s=o.NameHidden,f=o.Required;if((null===(e=c.subGridId)||void 0===e?void 0:e.length)>0)return K().createElement(K().Fragment,null);var d=(0,H.useContext)(J.GlobalConfigContext).invokePrintDesignerCustomEvent,h=(0,H.useCallback)((function(t){d("clickTipsLink",t)}),[d]);return K().createElement(K().Fragment,null,K().createElement(W.Checkbox,{checked:!!c.tableTailId,disabled:r,onChange:function(t){var e,r;e=t.target.checked,r=[[n,{hasTableTail:e}]],l.batchUpdateControlPropertyValues((0,J.createUpdateAction)(r))}},K().createElement(J.NameTipWrapper,{nameHidden:s,className:i,name:a,tips:u,required:f,onLinkClick:h})))},Sh=function(t){var e,n=(0,H.useCallback)((function(t){return t=L()(t).call(t,(function(t){return"Sys"!==t.DsType})),mr(t,"Image")}),[]),r=(0,H.useCallback)((function(t){return mr(t,"Image")}),[]);return K().createElement(Df,(0,at.c)({filterTreeData:n,filterExpressionTreeData:r},t,{modalType:(null==t||null===(e=t.editor)||void 0===e?void 0:e.SupportFx)&&"expression"}))},kh=function(t){var e,n=(0,H.useCallback)((function(t){return t=L()(t).call(t,(function(t){return"Sys"!==t.DsType})),mr(t,"Image")}),[]),r=(0,H.useCallback)((function(t){return mr(t,"Image")}),[]);return K().createElement(Df,(0,at.c)({},t,{filterTreeData:n,filterExpressionTreeData:r,modalType:(null==t||null===(e=t.editor)||void 0===e?void 0:e.SupportFx)&&"expression"}))},Ah=function(t){var e=t.id,n=t.propName,r=t.dataContext,i=t.value,o=t.className,a=(t.activedSelectId,(0,H.useState)(!1)),u=(0,B.c)(a,2),l=u[0],c=u[1],s=(0,H.useContext)(bn),f=s.definition,d=(0,H.useCallback)((function(t){t||c(!1);var i=t.key,o=$n(i,f);if(J.console.log("onSelect-----",t,o),o){var a=o.dataSource,u=o.ancestorTitle,l=o.key,s=o.dsType;r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[e,(0,M.c)((0,M.c)((0,M.c)((0,M.c)({},n,"=$".concat(u)),"dsType",s),"bindField",l),"dataSource",a)]])),c(!1)}else J.console.error("queryDataSourceAndAncestorByKey has no res",i,f)}),[e,n,f]),h=(0,H.useCallback)((function(t){return function(t,e){return gr(t,(function(t){var n=t.Type;return n&&n===e}))}(t,"Image")}),[]),p=(0,H.useCallback)((function(){c(!1)}),[]);return K().createElement(K().Fragment,null,K().createElement("div",{className:"".concat(o,"-query"),onClick:function(){return c(!0)}},K().createElement("div",{className:Hn()(["".concat(o,"-query-text"),(0,M.c)({},"".concat(o,"-query-text-empty"),!i)])},i||(0,J.getLangMsg)("printd.grid.key0010")),K().createElement("div",{className:"".concat(o,"-query-btn")},K().createElement(W.Icon,{type:"more",style:{cursor:"pointer"}}))),K().createElement(Vr,(0,at.c)({activedSelectId:e,visible:l,filterTreeData:h},s,{setVisible:c,onSelect:d,onCancel:p,className:"left-datasource",emptyNode:K().createElement(Dh,{className:"left-datasource"})})))};function Dh(t){var e=t.className;return K().createElement("div",{className:"".concat(e,"-empty")},K().createElement("img",{className:"".concat(e,"-empty-img"),src:Pn,width:"168",height:"96",alt:(0,J.getLangMsg)("printd.grid.key0011")}),K().createElement("div",{className:"".concat(e,"-empty-text")},(0,J.getLangMsg)("printd.grid.key0011")))}var Ih=function(t){var e,n=t.id,r=(t.handleChange,t.value),i=(t.className,t.rootId,t.field,t.dataContext),o=t.locked,a=t.propName,u="kdesigner-image-upload",l=(0,H.useState)([]),c=(0,B.c)(l,2),s=c[0],f=c[1],d=(0,H.useState)(""),h=(0,B.c)(d,2),p=h[0],v=h[1],g=(0,H.useRef)(null),m=(0,H.useContext)(J.GlobalConfigContext).uploadImageUrl,y=(0,H.useContext)(bn).setMessage,C=i.getData().id||"";(0,H.useEffect)((function(){var t;t="error"===p,lt()((function(){var e,n;t?null===(e=g.current)||void 0===e||e.show():null===(n=g.current)||void 0===n||n.hide()}),0)}),[p]),(0,H.useEffect)((function(){rr(r).isBindField&&i.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[n,(0,M.c)((0,M.c)((0,M.c)({},a,""),"bindField",""),"dataSource","")]]))}),[]);var b=O()(e="".concat(m)).call(e,C);return K().createElement(W.Upload,{disabled:o,action:b,className:"".concat(u,"-wrapper"),accept:".jpg,.jpeg,.png,.bmp",fileList:s,onChange:function(t){var e=t.file.status,r=(0,En.c)(t.fileList);r=Dn()(r).call(r,-1),r=P()(r).call(r,(function(t){var r=t.response;if(r){var o=r.rcId,u=r.fileName,l=r.status,c=r.message;"1"===l?(i.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[n,(0,M.c)((0,M.c)((0,M.c)({},a,u),"bindField",o),"dataSource","")]])),e="success"):(e="error",y(c||(0,J.getLangMsg)("printd.grid.key0012")))}return t})),f(r),J.console.log("upload------",e),v((function(){return"error"===e?"error":"success"}))}},K().createElement("div",{className:u},K().createElement("div",{className:Hn()(["".concat(u,"-value"),(0,M.c)({},"".concat(u,"-value-empty"),!r)])},r||(0,J.getLangMsg)("printd.grid.key0013")),K().createElement(W.Icon,{type:"shangchuan",prefix:"designericon",className:"".concat(u,"-icon")})))},Th=function(t){t.className;var e=t.Editor,n=t.value,r=t.handleChange;n||J.console.error("PaperDirection value is null");var i=e.Enum,o="editor";return K().createElement(K().Fragment,null,K().createElement("div",{style:{opacity:1,visibility:"hidden",height:"16px"}},(0,J.getLangMsg)("printd.grid.key0020")),K().createElement("div",{className:"".concat(o,"-page-direction")},P()(i).call(i,(function(t){var e=t.Value;return K().createElement("div",{className:Hn()((0,M.c)({},"".concat(o,"-page-direction-enable"),e===n)),onClick:function(){r(e)},title:"horizontal"===e?(0,J.getLangMsg)("printd.grid.key0021"):(0,J.getLangMsg)("printd.grid.key0022"),key:e},K().createElement("div",{className:Hn()((0,M.c)((0,M.c)({},"".concat(o,"-page-direction-horizontal"),"horizontal"===e),"".concat(o,"-page-direction-veritical"),"vertical"===e))}))}))))},Bh=n(85640),Mh=function(t){var e,n=t.handleChange,r=t.value,i=t.className,o=(t.rootId,t.Name),a=t.dataContext,u=(t.propName,(0,H.useContext)(J.GlobalConfigContext)),l=u.previewImageUrl,c=u.uploadImageUrl,s="editor",f=(0,H.useState)([]),d=(0,B.c)(f,2),h=d[0],p=d[1],v=(0,H.useState)(""),g=(0,B.c)(v,2),m=(g[0],g[1]),y=(0,H.useState)((function(){var t,e=r||"";return e?O()(t="".concat(l)).call(t,e):""})),C=(0,B.c)(y,2),b=C[0],x=C[1],w=(0,H.useContext)(bn).setMessage,E=a.getData().id||"",S=function(t){return new(ti())((function(e,n){var r=a.getRootId(),i=a.findControl(r),o=i.width,u=(i.height,new Image);u.src=t;u.onload=function(){var t=u.width,n=u.height;t=Vf(t,1),n=Vf(n,1),e(t>o?{width:o,height:n*o/t}:{width:t,height:n})}}))},k=function(){var t=(0,Bh.c)(ni().mark((function t(e){var r,i,o,a,u,c,s;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.file.status,i=(0,En.c)(e.fileList),i=Dn()(i).call(i,-1),i=P()(i).call(i,(function(t){var e=t.response;if(e){var n=e.rcId,i=e.fileName,a=e.status,u=e.message;"1"===a?(o={rcId:n,name:i},r="success"):(r="error",w(u||(0,J.getLangMsg)("printd.grid.key0019")))}return t})),!o){t.next=14;break}return u=o.rcId,c=O()(a="".concat(l)).call(a,u),t.next=9,S(c);case 9:s=t.sent,s.width,s.height,x(c),n(u);case 14:p(i),m((function(){return"error"===r?"error":"success"}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,H.useEffect)((function(){var t,e=r||"";x(e?O()(t="".concat(l)).call(t,e):"")}),[r]);var A=O()(e="".concat(c)).call(e,E);return K().createElement(K().Fragment,null,K().createElement("div",{className:Hn()((0,M.c)({},"".concat(i,"-title"),!0))},o),b?K().createElement("div",{className:"".concat(s,"-upload-preview")},K().createElement("img",{src:b,alt:""}),b&&K().createElement("div",{className:"".concat(s,"-upload-preview-bg"),onClick:function(){x(""),p([]),n("")}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"shanchu"}))):K().createElement(W.Upload,{className:"".concat(i,"-background-upload"),action:A,accept:".jpg,.jpeg,.png,.bmp",fileList:h,onChange:k},K().createElement("div",{className:"".concat(s,"-upload")},K().createElement(W.Icon,{type:"add"}))))};function Rh(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lh(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Rh(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Rh(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Fh=function(t){var e=t.id,n=t.propName,r=t.dataContext,i=t.value,o=t.className,a=(t.activedSelectId,t.RelationKey),u=t.RelationDataSource,l=t.RelationViewText,c=t.Name,s=t.Tips,f=t.Editor,d=void 0===f?{}:f,h=t.field,p=d.NameHidden,v=(0,H.useState)(!1),g=(0,B.c)(v,2),m=g[0],y=g[1],b=(0,H.useContext)(bn),x=(b.meta,b.definition),w=(0,H.useCallback)((function(t){var i;t||y(!1);var o=t.key,c=t.InitAttr,s=void 0===c?{}:c,f=$n(o,x);if(f){var d=f.dataSource,h=f.ancestorTitle,p=f.key,v=f.title,g=f.dsType,m=f.ZeroShow,b=f.IgnoreTailZero,w=G()(i=C()(s)).call(i,(function(t,e){return t[Y().camelCase(e)]=s[e],t}),{});w.zeroShow=m,w.ignoreTailZero=b,r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[e,ir(Lh((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},n,"=$".concat(h)),Y().camelCase(a),p),Y().camelCase(u),d),Y().camelCase(l),"=$".concat(v)),"dsType",g),w))]])),y(!1)}else J.console.error("queryDataSourceAndAncestorByKey has no res",o,x)}),[e,n,x,l,u,a,n]),E=(0,H.useCallback)((function(){y(!1)}),[]),S=(0,H.useCallback)((function(t){return"RichText"===h.type&&(t=gr(t,(function(){}),"Sys")),function(t,e){return gr(t,(function(t){var n=t.Type,r=t.InitAttr;return n&&Tn()(e).call(e,n)&&Tn()(e).call(e,null==r?void 0:r.TextFormat)}))}(t,["Text","RichText"])}),[h.type]),k=(0,H.useContext)(J.GlobalConfigContext).invokePrintDesignerCustomEvent,A=(0,H.useCallback)((function(t){k("clickTipsLink",t)}),[k]);return K().createElement(K().Fragment,null,K().createElement(J.NameTipWrapper,{nameHidden:p,className:o,name:c,tips:s,onLinkClick:A}),K().createElement("div",{className:"".concat(o,"-query"),onClick:function(){return y(!0)}},K().createElement("div",{className:Hn()(["".concat(o,"-query-text"),(0,M.c)({},"".concat(o,"-query-text-empty"),!i)])},i||(0,J.getLangMsg)("printd.grid.key0014")),K().createElement("div",{className:"".concat(o,"-query-btn")},K().createElement(W.Icon,{type:"more",style:{cursor:"pointer"}}))),K().createElement(Vr,(0,at.c)({activedSelectId:e,visible:m,filterTreeData:S},b,{onSelect:w,onCancel:E,className:"left-datasource",emptyNode:K().createElement(_h,{className:"left-datasource"})})))};function _h(t){var e=t.className;return K().createElement("div",{className:"".concat(e,"-empty")},K().createElement("img",{className:"".concat(e,"-empty-img"),src:Pn,width:"168",height:"96",alt:(0,J.getLangMsg)("printd.grid.key0014")}),K().createElement("div",{className:"".concat(e,"-empty-text")},(0,J.getLangMsg)("printd.grid.key0014")))}function Ph(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nh(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Ph(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Ph(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Oh=function(t){var e,n,r=t.id,i=t.propName,o=t.dataContext,a=t.RelationKey,u=t.value,l=t.field,c=(0,H.useContext)(bn),s=l.parentId,f=l.groupField,d=o.findControl(s).dataSource,h=d.replace(/^(\S+\.)?(\S+)$/g,"$2"),p=[O()(e="".concat(d,"-")).call(e,h)],v=O()(n="".concat(d,"-")).call(n,f),g=c.definition,m=(0,H.useCallback)((function(t){return t=Cr(t),t=xr(t,d)}),[d]);return K().createElement(Df,(0,at.c)({},t,{readOnly:!0,filterTreeData:m,selectedKey:v,expandedKeys:p,onSelect:function(t,e){var n,u=e.key,l=e.InitAttr,c=void 0===l?{}:l,s=$n(u,g);if(s){var f=s.ancestorTitle,d=s.key,h=s.dsType,p=s.ZeroShow,v=s.IgnoreTailZero,m="=$".concat(f),y=G()(n=C()(c)).call(n,(function(t,e){return t[(0,q.camelCase)(e)]=c[e],t}),{});y.zeroShow=p,y.ignoreTailZero=v;var b=[[r,ir(Nh((0,M.c)((0,M.c)((0,M.c)({},i,m),(0,q.camelCase)(a),d),"dsType",h),y))]];o.batchUpdateControlPropertyValues((0,J.createUpdateAction)(b)),t(!1)}},handleInputChange:function(t,e){if(t!==u){var n=rr(t),l=n.isBindField,c=n.bindField;if(l){var s=nr(c,g);if(!s)return e(!0),void o.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[r,ir((0,M.c)((0,M.c)((0,M.c)({},i,t),(0,q.camelCase)(a),""),"dsType",""))]]));e(!1);var f=s.key,d=s.dsType,h=[[r,ir((0,M.c)((0,M.c)((0,M.c)({},i,t),(0,q.camelCase)(a),f),"dsType",d))]];o.batchUpdateControlPropertyValues((0,J.createUpdateAction)(h))}else e(!1),o.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[r,(0,M.c)((0,M.c)((0,M.c)({},i,t),(0,q.camelCase)(a),""),"dsType","")]]))}}}))},jh=function(t){var e,n,r=t.id,i=t.propName,o=(t.className,t.Name),a=t.dataContext,u=t.RelationKey,l=t.value,c=t.field,s=(0,H.useContext)(bn).definition,f=c.parentId,d=c.mergeByField,h=c.mergeSummaryField,p=a.findControl(f),v=p.id,g=p.dataSource,m=g.replace(/^(\S+\.)?(\S+)$/g,"$2"),y=[O()(e="".concat(g,"-")).call(e,m)],b=[function(t){return t.parentId===v&&"Detail"===t.cellType},function(t){return Hd(t)&&t.parentId===f},function(t){return Gd(t)&&t.parentGridId===f}],x=Td(a,b),w=(0,B.c)(x,3),E=w[0],S=w[1],k=w[2],A=!!S.length,D=!!k.length,I=(0,En.c)(new(di())(L()(n=P()(E).call(E,(function(t){var e=t.bindField,n=t.dataSource;return tr(n,e)}))).call(n,Boolean))),T=(0,H.useMemo)((function(){var t,e=wr(s,I),n=d?null==d?void 0:P()(t=d.split(";")).call(t,(function(t){var e;return O()(e="".concat(g,"-")).call(e,t)})):[];return P()(n).call(n,(function(t){var n=t;return Uh(e,t)||Zh(e,t.split("-")[1],(function(t){var e,r=t.dataSource,i=t.bindField;n=O()(e="".concat(r,"-")).call(e,i)})),n}))}),[I,d,g]);return A||Gd(p)||D?null:K().createElement(Df,(0,at.c)({},t,{readOnly:!0,clearable:!0,modalTitle:o,filterTreeData:function(t){return g?t=zh(t=wr(t,I)):[]},expandedKeys:y,checkedKeys:T,onSelect:function(t,e){var n=P()(e).call(e,(function(t){var e,n=t.key,r=t.InitAttr,i=void 0===r?{}:r,o=$n(n,s);if(!o)return{};var a=o.dataSource,u=o.ancestorTitle,l=o.key,c=o.title,f=o.dsType,d=o.ZeroShow,h=o.IgnoreTailZero,p=G()(e=C()(i)).call(e,(function(t,e){return t[(0,q.camelCase)(e)]=i[e],t}),{});return p.zeroShow=d,p.ignoreTailZero=h,Nh({bindText:"=$".concat(u),bindField:l,dataSource:a,viewText:"=$".concat(c),title:c,dsType:f},p)})),o=ir((0,M.c)((0,M.c)({},i,P()(n).call(n,(function(t){return t.title})).join(";")),(0,q.camelCase)(u),P()(n).call(n,(function(t){return t.bindField})).join(";")));a.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[r,o]])),t(!1)},onClear:function(){var t=h.length?{mergeSummaryField:[],mergeSummaryFieldText:""}:{};a.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[r,ir(Nh((0,M.c)((0,M.c)({},i,""),(0,q.camelCase)(u),""),t))]]))},handleInputChange:function(t,e){if(t!==l){var n=rr(t),o=n.isBindField,c=n.bindField;if(o){var f=nr(c,s);if(!f)return e(!0),void a.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[r,ir((0,M.c)((0,M.c)({},i,t),(0,q.camelCase)(u),""))]]));e(!1);var d=f.key,h=[[r,ir((0,M.c)((0,M.c)({},i,t),(0,q.camelCase)(u),d))]];a.batchUpdateControlPropertyValues((0,J.createUpdateAction)(h))}else e(!1),a.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[r,(0,M.c)((0,M.c)({},i,t),(0,q.camelCase)(u),"")]]))}},checkable:!0}))},Gh=function(t){var e,n,r=t.Name,i=t.id,o=t.propName,a=t.dataContext,u=t.RelationKey,l=t.value,c=t.field,s=t.className,f=(t.selectionContext,(0,H.useState)(!1)),d=(0,B.c)(f,2),h=d[0],p=d[1],v=(0,H.useState)(!1),g=(0,B.c)(v,2),m=g[0],y=g[1],b=(0,H.useState)([]),x=(0,B.c)(b,2),w=x[0],E=x[1],S=(0,H.useContext)(bn),k=c.mergeSummaryField,A=c.parentId,D=c.mergeByField,I=a.findControl(A),T=I.id,R=I.dataSource,F=(I.type,R.replace(/^(\S+\.)?(\S+)$/g,"$2")),_=[O()(e="".concat(R,"-")).call(e,F)],N=[function(t){return t.parentId===T&&"Detail"===t.cellType},function(t){return Hd(t)&&t.parentId===A},function(t){return Gd(t)&&t.parentGridId===A}],j=Td(a,N),U=(0,B.c)(j,3),z=U[0],Z=U[1],Q=U[2],V=!!Z.length,Y=!!Q.length,X=(0,En.c)(new(di())(L()(n=P()(z).call(z,(function(t){var e=t.bindField,n=t.dataSource;return tr(n,e)}))).call(n,Boolean))),$=!D,tt=S.meta,et=S.definition,nt=(0,H.useMemo)((function(){var t,e=wr(et,X),n=D?null==D?void 0:P()(t=D.split(";")).call(t,(function(t){var e;return O()(e="".concat(R,"-")).call(e,t)})):[];return P()(n).call(n,(function(t){var n=t;return Uh(e,t)||Zh(e,t.split("-")[1],(function(t){var e,r=t.dataSource,i=t.bindField;n=O()(e="".concat(r,"-")).call(e,i)})),n}))}),[X,D,R]);return V||Gd(I)||Y?null:K().createElement(K().Fragment,null,K().createElement("div",{className:"".concat(s,"-title")},r),K().createElement("div",{className:Hn()(["".concat(s,"-query"),{"is-disabled":$}]),onMouseOver:function(t){l&&p(!0)},onMouseLeave:function(t){h&&p(!1)},onClick:function(){if(!$){var t=k?P()(k).call(k,(function(t){var e;return O()(e="".concat(R,"-")).call(e,t)})):[];E(t),y(!0)}}},K().createElement("div",{className:Hn()(["".concat(s,"-query-text"),(0,M.c)({},"".concat(s,"-query-text-empty"),!l)])},l||(0,J.getLangMsg)("printd.grid.key0008")),K().createElement("div",{className:"".concat(s,"-query-btn")},!$&&h&&K().createElement(W.Icon,{type:"close",style:{cursor:"pointer"},onClick:function(t){t.stopPropagation(),a.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[i,ir((0,M.c)((0,M.c)({},o,""),(0,q.camelCase)(u),[]))]]))}}),K().createElement(W.Icon,{type:"more",style:{cursor:$?"not-allowed":"pointer"}}))),K().createElement(Vr,{checkable:!0,className:"left-datasource",activedSelectId:i,modalTitle:r,meta:tt,definition:et,visible:m,onCancel:function(){return y(!1)},onSelect:function(t){var e=P()(t).call(t,(function(t){var e,n=t.key,r=t.InitAttr,i=void 0===r?{}:r,o=$n(n,et);if(!o)return{};var a=o.dataSource,u=o.ancestorTitle,l=o.key,c=o.title,s=o.dsType,f=o.ZeroShow,d=o.IgnoreTailZero,h=G()(e=C()(i)).call(e,(function(t,e){return t[(0,q.camelCase)(e)]=i[e],t}),{});return h.zeroShow=f,h.ignoreTailZero=d,Nh({bindText:"=$".concat(u),bindField:l,dataSource:a,viewText:"=$".concat(c),title:c,dsType:s},h)})),n=(0,M.c)((0,M.c)({},o,P()(e).call(e,(function(t){return t.title})).join(";")),(0,q.camelCase)(u),P()(e).call(e,(function(t){return t.bindField})));a.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[i,n]])),y(!1)},expandedKeys:_,checkedKeys:w,filterTreeData:function(t){return R?(t=function(t,e){return null!=e&&e.length?gr(t,(function(t){var n=t.bindField,r=t.dataSource,i=tr(r,n);return i&&!Tn()(e).call(e,i)})):t}(t=wr(t,X),nt),t=zh(t)):[]}}))};function Uh(t,e){return qn()(t).call(t,(function(t){var n=t.bindField,r=t.dataSource,i=t.Items;return r+"-"+n===e||(null==i?void 0:i.length)&&Uh(i,e)}))}function zh(t){return G()(t).call(t,(function(t,e){var n=e.DsType,r=e.Items;return r&&(e.Items=zh(r)),"Attach"!==n&&t.push(e),t}),[])}function Zh(t,e,n){return qn()(t).call(t,(function(t){var r=t.bindField,i=t.Items,o=r===e;return o&&n(t),o||i&&Zh(i,e,n)}))}function Qh(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wh(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Qh(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Qh(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}function Jh(t){var e=t.visible,n=t.onCancel,r=t.selectList,i=t.fileName,o=t.id,a=(0,H.useContext)(J.DataContext),u=(0,H.useState)(!1),l=(0,B.c)(u,2),c=l[0],s=l[1],f=(0,H.useState)([]),d=(0,B.c)(f,2),h=d[0],p=d[1],v=(0,H.useRef)(null),g="grid-guide",m=["\\","/",":","*","?","<",">","|"],y=function(){s(!1),n()};return K().createElement(W.Modal,{body:K().createElement(Vh,{checkable:!0,className:"".concat(g,"-body"),errorTipShow:c,setErrorTipShow:s,checkedNodes:h,setCheckedNodes:p,selectList:r,fileName:i,ref:v}),titleIcon:null,maskClosable:!1,className:"".concat(g,"-modal"),footer:K().createElement(K().Fragment,null,K().createElement("div",{className:"".concat(g,"-modal-footer-btns")},K().createElement(W.Button,{onClick:y,type:"second",className:"".concat(g,"-modal-cancel-btn")},(0,J.getLangMsg)("printd.components.key0011")),K().createElement(W.Button,{className:"".concat(g,"-modal-ok-btn"),type:"primary",onClick:function(){var t,e,n=null===(t=v.current)||void 0===t?void 0:t.getFormulaData();(null===(e=v.current)||void 0===e?void 0:e.getDataLen())<=100?!function(t){if(null!=t&&t.length)return qn()(t).call(t,(function(t){return"string"==typeof t&&qn()(m).call(m,(function(e){return Tn()(t).call(t,e)}))}))}(n)?(a.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[o,{fileName:n}]])),y()):s("existSpecialStr"):s(!0)}},(0,J.getLangMsg)("printd.components.key0012")))),width:480,height:320,title:(0,J.getLangMsg)("printd.grid.key0121"),closable:!0,destroyOnClose:!0,onCancel:y,onOk:y,mask:!0,visible:e})}var Vh=(0,H.forwardRef)((function(t,e){var n=(0,H.useRef)(),r=function(){var t;return null===(t=n.current)||void 0===t?void 0:t.getFormulaData()},i=function(){var t;return null===(t=n.current)||void 0===t?void 0:t.getDataLen()};return(0,H.useImperativeHandle)(e,(function(){return{getFormulaData:r,getDataLen:i}})),(0,H.useEffect)((function(){n.current.onAutoFocus()}),[]),K().createElement("div",{className:"".concat(t.className," fileNameRoot")},K().createElement(Hh,(0,at.c)({ref:n},t)))}));Vh.displayName="FileNameModalBody";var Hh=(0,H.forwardRef)((function(t,e){var n=(0,H.useMemo)((function(){return function(t){var e=t.isVoid,n=t.isInline;return t.isInline=function(t){return"label"===t.type||n(t)},t.isVoid=function(t){return"label"===t.type||e(t)},t}(Os(zu(_u())))}),[]),r=t.fileName,i=t.errorTipShow,o=t.className,a=t.setErrorTipShow,u=(0,H.useState)(!1),l=(0,B.c)(u,2),c=l[0],s=l[1],f=(0,H.useState)(""),d=(0,B.c)(f,2),h=d[0],p=d[1],v=(0,H.useState)(0),g=(0,B.c)(v,2),m=g[0],y=g[1],C=(0,H.useRef)(null),b=(0,H.useState)((function(){if(null!=r&&r.length){var t=[],e={type:"paragraph",children:[{text:""}]};return Q()(r).call(r,(function(n,i){var o=i===r.length-1;o&&t.push(Wh({},e)),"string"==typeof n?e.children.push({text:n}):e.children.push({text:""},Wh(Wh({},n),{},{type:"label",children:[{text:""}]}),{text:""}),e=o?{type:"paragraph",children:[]}:e})),t}return[{type:"paragraph",children:[{text:""}]}]})),x=(0,B.c)(b,2),w=x[0],E=x[1],S=(0,H.useMemo)((function(){var e;return L()(e=t.selectList).call(e,(function(t){var e=t.name,n=t.key;return-1!==kn()(e).call(e,h)||-1!==kn()(n).call(n,h)}))}),[t.selectList,h]);(0,H.useEffect)((function(){return document.addEventListener("mousedown",D),function(){document.removeEventListener("mousedown",D)}}),[c]),(0,H.useImperativeHandle)(e,(function(){return{getFormulaData:A,onAutoFocus:M,getDataLen:k}}));var k=function(t){var e=((null==t?void 0:t[0])||(null==w?void 0:w[0])).children,n=0;return Q()(e).call(e,(function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.type,i=e.text;n+="label"===r?null==e||null===(t=e.name)||void 0===t?void 0:t.length:null==i?void 0:i.length})),n},A=function(){var t,e=(w[0]||{}).children;return L()(t=P()(e).call(e,(function(t){var e=t.type,n=t.text;return"label"===e?t:n}))).call(t,(function(t){return""!==t}))},D=function(t){if(c){var e=t.target,n=document.getElementById("kdPrintDesignerFileNameList"),r=document.getElementById("kdPrintDesignerFileNameBtn");n.contains(e)||r.contains(e)||s(!1)}},I=function(t){var e=t.target.value;p(e)},T=function(t){var e=t.name,r=t.key,i=t.type;if(C.current){Wo.select(n,C.current);var o={type:"label",name:e,key:r,textFormat:i,children:[{text:""}],id:Vs()};Wo.insertNodes(n,o),Wo.move(n),Ec.focus(n)}},M=function(){var t,e,r=null===(t=n.children[0])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length,i=null===(e=n.children[0])||void 0===e||null===(e=e.children[r-1])||void 0===e||null===(e=e.text)||void 0===e?void 0:e.length,o={anchor:{path:[0,r-1],offset:i},focus:{path:[0,r-1],offset:i}};Wo.select(n,o),Ec.focus(n)},R=(0,H.useMemo)((function(){return K().createElement(W.Dropdown.Menu,{id:"kdPrintDesignerFileNameList"},K().createElement("div",{className:"searchInput"},K().createElement(W.Input,{style:{marginBottom:8,marginRight:8,paddingRight:28},placeholder:(0,J.getLangMsg)("printd.grid.key0115"),borderType:"bordered",onChange:I}),K().createElement("div",{className:"image"},K().createElement("img",{src:"data:image/png;base64,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"}))),P()(S).call(S,(function(t,e){var n=t.fileViewName,r=t.key;return K().createElement(W.Dropdown.Item,{className:"".concat(0===e?"firstItem":""),key:r}," ",n)})),!S.length&&K().createElement("div",{className:"noData"},(0,J.getLangMsg)(" printd.grid.key0116")))}),[S]),F=(0,H.useCallback)((function(t){return"label"===t.element.type?K().createElement(qh,t):K().createElement(Kh,t)}),[]);return K().createElement(K().Fragment,null,i&&K().createElement(W.Alert,{className:"".concat(o,"-alert"),message:(0,J.getLangMsg)("existSpecialStr"!==i?"printd.grid.key0117":"printd.grid.key0122"),type:"error",delayOffTime:0,closable:!0,showIcon:!0,onClose:function(){return a(!1)}}),K().createElement("span",{className:"fileName"},(0,J.getLangMsg)("printd.grid.key0118")),K().createElement("div",{className:"editor"},K().createElement(Ls,{value:w,editor:n,onChange:function(t){var e=k(t);y(e),E(t)}},K().createElement(ws,{placeholder:(0,J.getLangMsg)("printd.grid.key0119"),id:"slate-editor",renderElement:F,onKeyDown:function(t){"("===t.key&&(t.preventDefault(),n.insertText("()"),Wo.move(n,{distance:1,unit:"offset",reverse:!0}))},autoFocus:!0,onBlur:function(t){t.persist();var e=t.relatedTarget;if("INPUT"!==(null==e?void 0:e.tagName)){var r=n.selection,i={};for(var o in r){var a=r[o],u=a.path,l=a.offset;i[o]={path:Dn()(u).call(u,0,2),offset:l}}C.current=i,Wo.select(n,i),Ec.focus(n)}}}))),K().createElement("div",{className:"count"},K().createElement("div",{class:"kd-input-textarea-mark"},"".concat(m,"/100"))),K().createElement("div",null,K().createElement(W.Button,{icon:K().createElement(W.Icon,{type:"add"}),onClick:function(){s(!c)},title:(0,J.getLangMsg)("printd.grid.key0120"),className:"button-basic-left",style:{marginTop:8,minWidth:85,maxWidth:200},id:"kdPrintDesignerFileNameBtn"},(0,J.getLangMsg)("printd.grid.key0120"))),K().createElement("div",{className:"helpText"},(0,J.getLangMsg)("printd.grid.key0123")," "),K().createElement(W.Dropdown,{menu:R,visible:c,onItemClick:function(t){T(qn()(S).call(S,(function(e){return t===e.key})))}}))}));function Kh(t){return K().createElement("p",t.attributes,t.children)}function qh(t){var e=is(),n=Bs(),r=t.element.textFormat,i="Date"===r?"#FFF1D4":"Number"===r||"Amount"===r?"#DCFAE4":"#E0EFFF";return K().createElement("span",(0,at.c)({},t.attributes,{contentEditable:!1,style:{padding:"1px 8px",margin:"0 3px",verticalAlign:"baseline",display:"inline-block",borderRadius:"2px",backgroundColor:i,fontSize:"12px",cursor:"pointer",boxShadow:e&&n?"0 0 0 2px #B4D5FF":"none",lineHeight:"18px"}}),t.element.name,t.children)}Hh.displayName="FileNameExpressionView";var Yh=function(t){var e=(0,H.useRef)(null),n=t.handleChange,r=t.value,i=t.Id,o=t.className,a=t.locked,u=t.Editor,l=t.Name,c=t.Tips,s=t.dataContext,f=t.field,d=t.Id,h=t.inputStyle,p=u.NameHidden,v=u.DataScope,g=void 0===v?[]:v,m=u.Tips,y=u.MaxLength,C=u.Min,b=u.Max,x=(0,H.useContext)(J.GlobalConfigContext).showMessage,w=(0,H.useState)(r),E=(0,B.c)(w,2),S=E[0],k=E[1],A=(0,H.useState)(""),D=(0,B.c)(A,2),I=(D[0],D[1]),T="String"===u.DataType?"string":"number",M={style:h,placeholder:(0,J.getLangMsg)("printd.grid.key0002"),borderType:"bordered",suffix:t.Unit};(0,H.useEffect)((function(){k(r)}),[r]);var R=function(t){var e="string"===T?t.target.value:""===t.target.value?"":+t.target.value;if(r!==e)if(""!==e||"number"!==T){var i,o=(0,B.c)(g,1)[0];if(!Y().isEmpty(g)&&!Y().isUndefined(o)&&e<o?(x(m.DataScope),e=o):!Y().isUndefined(C)&&e<C&&(x(m.Min),e=C),"X"===d||"Y"===d||"Height"===d||"Width"===d){var a=f.parentId,u=s.findControl(a)||{};if("TableTail"===u.type){var l=u.width,c=u.height,h=f.width,p=f.height;"X"===d&&e+h>l&&k(e=l-h),"Y"===d&&e+p>c&&k(e=c-p),"Height"===d&&e>c&&k(e=c),"Width"===d&&e>l&&k(e=l)}}i=e,n("number"!==T||i?i:0)}else k(r)},L={};if("number"===T){if(g.length){var F=(0,B.c)(g,2),_=F[0],P=F[1];L.min=_,L.max=P}Y().isUndefined(C)||(L.min=C),Y().isUndefined(b)||(L.max=b),f.type===tn&&("H"===f.direction&&"Height"===i&&(L.max=3),"V"===f.direction&&"Width"===i&&(L.max=3))}var N=(0,H.useContext)(J.GlobalConfigContext).invokePrintDesignerCustomEvent,O=(0,H.useCallback)((function(t){N("clickTipsLink",t)}),[N]);return K().createElement(K().Fragment,null,K().createElement(J.NameTipWrapper,{nameHidden:p,className:o,name:l,tips:c,onLinkClick:O}),K().createElement(W.Input,(0,at.c)({},M,{type:T,ref:e,value:S,onKeyPress:function(t){if("string"!==T){var e=["-","+","e","E"];-1!==kn()(e).call(e,t.key)&&t.preventDefault()}},onChange:function(t){var e=t.target.value;if(""===e)return k(e);var n="string"===T?e:+e;if(y&&n.length>y&&(x(m.MaxLength),n=Dn()(n).call(n,0,y)),S!==n){if("string"===T)return k(n);var r=g[1];!Y().isUndefined(r)&&n>r?(x(m.DataScope),k(r)):!Y().isUndefined(b)&&n>b?(x(m.Max),k(b)):n>L.max&&f.type===tn?(x((0,J.getLangMsg)("printd.grid.key0130")),k(L.max)):k(n)}},onFocus:function(t){return function(t){"number"===T&&e.current.select(),I("string"===T?t.target.value:""===t.target.value?"":+t.target.value)}(t)},onPressEnter:function(){},onBlur:R,onClick:function(t){var n;null===(n=e.current)||void 0===n||n.focus(),R(t)},disabled:a},L)))},Xh=function(t){var e,n,r,i=t.handleChange,o=t.value,a=t.className,u=t.editor,l=t.locked,c=(t.field,u.Enum),s=u.Default,f=u.NameHidden,d=(0,H.useState)(!1),h=(0,B.c)(d,2),p=h[0],v=h[1],g=s||c&&(null!==(e=null===(n=c[0])||void 0===n?void 0:n.Value)&&void 0!==e?e:null===(r=c[0])||void 0===r?void 0:r.Id);if(null==g)return"selectValue: ".concat(g);var m=P()(c).call(c,(function(t){var e;return{value:null!==(e=t.Value)&&void 0!==e?e:t.Id,label:t.Name,disabled:!1===t.Visible}})),y=t.Name,C=t.Tips;(0,H.useRef)(null);(0,H.useEffect)((function(){var t=function(t){for(var e=t.target;e&&e!==document;){if(e.classList.contains("kds-scroll-select-panel"))return;e=e.parentNode}v(!1)};return document.addEventListener("scroll",t,!0),function(){document.removeEventListener("scroll",t,!0)}}),[]);var b=(0,H.useContext)(J.GlobalConfigContext).invokePrintDesignerCustomEvent,x=(0,H.useCallback)((function(t){b("clickTipsLink",t)}),[b]);return K().createElement(K().Fragment,null,K().createElement(J.NameTipWrapper,{nameHidden:f,className:a,name:y,tips:C,onLinkClick:x}),K().createElement(W.Select,{disabled:l,placeholder:(0,J.getLangMsg)("printd.grid.key0002"),borderType:"bordered",value:Y().isUndefined(o)?g:o,onChange:function(t){v(!1),i(t)},options:m,visible:p,onVisibleChange:function(t){v(t)},popperClassName:"kds-scroll-select-panel"}))},$h=W.Radio.Group,tp=function(t){var e=t.handleChange,n=t.value,r=t.className,i=t.editor,o=t.locked,a=t.Id,u=t.field,l=i.Enum,c=i.NameHidden,s=i.DataType,f=i.Required,d=t.Name,h=t.Tips,p=(0,H.useContext)(bn).definition;if("MergePrint"===a){var v,g,m,y=u.dataSource;if(Tn()(v=y.split(".")).call(v,"workflow"))return null;var C=Sr(p,y),b=null==C||null===(g=C[0])||void 0===g?void 0:g.DsType;if(Tn()(m=["Ref","Custom"]).call(m,b))return null}var x=(0,H.useContext)(J.GlobalConfigContext).invokePrintDesignerCustomEvent,w=(0,H.useCallback)((function(t){x("clickTipsLink",t)}),[x]);if("object"===(0,Jn.c)(l[0])){var E=P()(l).call(l,(function(t){return{label:t.Name,value:t.Value}}));return K().createElement(K().Fragment,null,K().createElement(J.NameTipWrapper,{nameHidden:c,className:r,name:d,tips:h,required:f,onLinkClick:w}),K().createElement($h,{disabled:o,value:null==n?void 0:n.toString(),onChange:function(t){"Boolean"===s?"false"===t.target.value?e(!1):e(!0):e(t.target.value)},options:E}))}return K().createElement(J.CheckboxPropertyEditor,(0,at.c)({},t,{onLinkClick:w}))},ep=function(t){var e=t.id,n=t.field,r=t.className,i=t.Name,o=t.Tips,a=t.Editor,u=void 0===a?{}:a,l=(0,H.useContext)(bn).definition,c=["Entry","ReportEntry","Attach","Custom","Ref","Subentry","Workflow","Head","Report","Approveline","Sys"],s=(0,H.useMemo)((function(){var t,e=qn()(l).call(l,(function(t){return"Main"===t.DsType})),n=e?P()(t=rp([e],c)).call(t,(function(t){var e,n=t.bindField,r=t.Name,i=t.ViewName;return{name:i||r,key:n,fileViewName:O()(e="".concat(i||r,"(")).call(e,n,")")}})):[];return n.push({name:"打印人",key:"$sys.printer",fileViewName:"打印人(sys.printer)"}),n.push({name:"打印时间",key:"$sys.printTime",fileViewName:"打印时间(sys.printTime)"}),n}),[l]),f=n.fileName,d=u.NameHidden,h=(0,H.useState)(!1),p=(0,B.c)(h,2),v=p[0],g=p[1],m=(0,H.useMemo)((function(){if(null!=f&&f.length)return G()(f).call(f,(function(t,e){return"string"==typeof e?t.push(e):e.name&&t.push("{".concat(e.name,"}")),t}),[]).join("")}),[f,null==f?void 0:f.length]);return K().createElement(K().Fragment,null,K().createElement(J.NameTipWrapper,{nameHidden:d,className:r,name:i,tips:o}),K().createElement("div",{className:"".concat(r,"-query"),onClick:function(){g(!v)}},K().createElement("div",{className:Hn()(["".concat(r,"-query-text"),(0,M.c)({},"".concat(r,"-query-text-empty"),!m)])},m||(0,J.getLangMsg)("printd.grid.key0002")),K().createElement("div",{className:"".concat(r,"-query-btn")},K().createElement(W.Icon,{type:"more",style:{cursor:"pointer"}}))),K().createElement(Jh,{visible:v,selectList:s,onCancel:function(){g(!1)},onConfirm:function(){g(!1)},fileName:f,id:e}))},np=function(t){var e;return K().createElement("div",{className:O()(e="".concat(t.className,"-title ")).call(e,t.className,"-TextInput")},K().createElement("span",{style:{marginRight:4}},t.Name),K().createElement(Yh,(0,at.c)({},t,{Name:""},{inputStyle:{flex:1}})))};function rp(t,e){return G()(t).call(t,(function(t,n){if(!n)return[];var r=n.Items,i=n.DsType,o=n.Type,a=n.Icon;return r||Tn()(e).call(e,i)||"Image"===o||"fujian"===a||t.push(n),r&&!Tn()(e).call(e,i)&&"Image"!==o&&"fujian"!==a&&t.push.apply(t,(0,En.c)(rp(r,e))),t}),[])}var ip=function(){var t=[],e=[[i,"Text"],[a,"CardGrid"],[i,"LayoutCell"],[i,"CardCell"],[f,"RichText"],[o,"DataCell"],[a,"DataGrid"],[h,"SubDataGrid"],[d,"SubDataCell"],[u,"QRCode"],[l,"Barcode"],[c,"Image"],[s,"Paper"],[p,"DataRow"],[v]];return Q()(e).call(e,(function(e){var n,r=(0,B.c)(e,2),i=r[0],o=r[1];Q()(n=C()(i)).call(n,(function(e){t.push([e,i[e],o])}))})),t};function op(t,e){var n=t.dataContext,r=t.selectionContext;if("right"===e){var i,o=n.getRootId();return Y().last(O()(i=[o]).call(i,(0,En.c)(r.getSelection())))===o?"PrintSetting":"PropertyView"}}var ap=["FontName","FontSize","Bold","Italic","UnderLine","ForeColor","BackColor","HorAlignment","Border","BorderType","VerAlignment","Padding","Strike","LineSpace"],up=function(t,e){var n=e.Id;return Tn()(ap).call(ap,n)},lp=function(t){return"Header"===t.type},cp=function(t){return"Footer"===t.type},sp=function(t){return"Barcode"===t.type},fp=function(t){return t?t.parentId?t:(0,at.c)({},t,{width:Math.max(t.width-(t.marginLeft+t.marginRight),t.marginLeft+t.marginRight),height:Math.max(t.height-(t.marginTop+t.marginBottom),t.marginTop+t.marginBottom),x:0,y:0}):t},dp=n(31408),hp=n.n(dp);function pp(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=pp(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=pp(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var gp=function(t){var e,n,r,i=t.change,o=t.id,a=t.dataContext,u=t.globalConfig,l=t.addActionRef,c=t.action,s=(u.definition,u.dataRef),f=u.showMessage,d=a.getRootId(),h=a.findControl(o);if("key"in i){var p,v=P()(p=s.current).call(p,(function(t){return t.key}));if(Tn()(v).call(v,i.key))return f((0,J.getLangMsg)("printd.grid.key0048")),{change:h.key,id:o}}if(Nd(h)){var g="height"in i,m="width"in i;if(g||m){var y=g?ee:te,b=y===ee,x=(h[y],i[y]),w=h.parentId,E=h.rowId,S=h.columnId,k=a.findControl(E),A=a.findControl(S),D=[[o,(0,M.c)({},y,x)],b?[k.id,{rowHeight:x}]:[A.id,{columnWidth:x}]],I=a.findControl(w);if(I.mergeConfig){var T=ph({items:a.getData().items,gridData:I,rowId:E,columnId:S});if(T.length){var R,F,_=new(di());m?Q()(T).call(T,(function(t){_.add(t.columnId)})):Q()(T).call(T,(function(t){_.add(t.rowId)}));var N=P()(R=(0,En.c)(_)).call(R,(function(t){return a.findControl(t)})),j=m?i.width:i.height,U=m?"columnWidth":"rowHeight",z=P()(F=vh(P()(N).call(N,(function(t){return t[U]})),j)).call(F,(function(t,e){return[N[e].id,(0,M.c)({},U,t)]}));return z.unshift.apply(z,D),J.console.log(Y().cloneDeep(z),"afterChange",eh(z)),eh(z)}}return eh(D)}}if(h&&function(t){return"Line"===t.type}(h)){if(i.border){var Z,W=L()(Z=st()(i.border.width)).call(Z,(function(t){return t}))[0];if("color"!==i.changeBorderType){var V,H;i.height=Vf(W,i.scale/100,2);var K=["dashed","dotted"],q=i.border&&L()(V=st()(i.border.style)).call(V,(function(t){return t}))[0],X=h.border&&L()(H=st()(h.border.style)).call(H,(function(t){return t}))[0];if(Tn()(K).call(K,q)&&Tn()(K).call(K,X)||"solid"===q&&"solid"===X);else{var $,tt,et,nt,rt=h.border&&L()($=st()(h.border.color)).call($,(function(t){return t}))[0],it=h.border&&L()(tt=st()(h.border.width)).call(tt,(function(t){return t}))[0];Q()(et=C()(h.border.color)).call(et,(function(t){i.border.color[t]=rt})),Q()(nt=C()(h.border.width)).call(nt,(function(t){i.border.width[t]=it}))}}else{var ot,ut,lt=h.border&&L()(ot=st()(h.border.style)).call(ot,(function(t){return t}))[0];Q()(ut=C()(h.border.style)).call(ut,(function(t){i.border.style[t]=lt}))}"V"===h.direction&&(i.width=i.height||h.width,i.height=h.height)}return i.direction&&i.direction!==h.direction&&(i.width=h.height,i.height=h.width),{change:i,id:o}}if(h&&sp(h)&&"rotate"in i){var ct=h.width,ft=h.height,dt=h.x,ht=h.y;if(e=h,n=i.rotate,r=e.rotate,Math.abs(n-r)%180==90){i.width=ft,i.height=ct;var pt={x:qf(dt+ct/2-ft/2),y:qf(ht+ft/2-ct/2)};i.x=pt.x,i.y=pt.y}return{id:o,change:i}}if(h&&function(t){return!!t&&"Text"===t.type}(h)&&Qt in i){var vt=c[Le]||h[Le];i[Le]=vt||h[Le]}if(Od(h)){var gt=Y().cloneDeep(h),mt=Y().cloneDeep((0,at.c)({},gt,i)),yt=[[o,i]],Ct=a.getData().items,bt=L()(Ct).call(Ct,(function(t){return t.parentId===o})),xt=sd(bt),wt=xt.rows,Et=void 0===wt?[]:wt,St=xt.columns,kt=void 0===St?[]:St,At=xt.cells,Dt=void 0===At?[]:At,It=(xt.rowData,xt.columnData,mt.x),Tt=mt.y,Bt=mt.id,Mt=mt.height,Rt=mt.width,Lt=(mt.detailRowHeight,mt.fixedRowAtPage),Ft=mt.fixedRowCount,_t=mt.mergeConfig,Pt=(mt.subGridId,mt.parentGridId,mt.subGridDirection,mt.pagePrintN),Nt=mt.pagePrint,Ot=jd(h),jt=(Ud(h),Ot?Ft:Pt),Gt=Ot?Lt:Nt,Ut=cd({columns:kt,rows:Et,cells:Dt,mergeConfig:_t,templateRowCount:jt,fixedRowAtPage:Gt,allItems:a.getData().items}).rowData;if(Qt in i){var zt,Zt,Wt=c.changeType,Jt=i.gridBorder,Vt=i[Qt];h[Qt];if(Jt)Zt=function(t,e,n,r,i){var o,a;if(!r.length)return null;var u=i.rc,l=i.cc,c=Tn()(o=["dashed","dotted"]).call(o,n)?.5:e===Pe?2:n,s=Tn()(a=["dashed","dotted"]).call(a,n)?n:"solid",f=e===_e||e===Pe;return Q()(r).call(r,(function(n){var r=n.cells;Q()(r).call(r,(function(n){var r=n.row,i=n.column,o=n.mergeConfig||{},a=o.columnLength,d=o.columnStart,h=o.rowLength,p=o.rowStart;(e===je||f)&&0===i&&(n[Qt].width.left=c,n[Qt].color.left=t,n[Qt].style.left=s),(e===Ue||f)&&(i!==l-1&&a+d!==l||(n[Qt].width.right=c,n[Qt].color.right=t,n[Qt].style.right=s)),(e===Ge||f)&&0===r&&(n[Qt].width.top=c,n[Qt].color.top=t,n[Qt].style.top=s),(e===ze||f)&&(r!==u-1&&h+p!==u||(n[Qt].width.bottom=c,n[Qt].color.bottom=t,n[Qt].style.bottom=s)),e===Oe&&Q()(le).call(le,(function(t){n[Qt].width[t]=0})),e===Ne&&(n[Qt].width.left=c,n[Qt].color.left=t,n[Qt].style.left=s,n[Qt].width.top=c,n[Qt].color.top=t,n[Qt].style.top=s,r!==u-1&&h+p!==u||(n[Qt].width.bottom=c,n[Qt].color.bottom=t,n[Qt].style.bottom=s),i!==l-1&&a+d!==l||(n[Qt].width.right=c,n[Qt].color.right=t,n[Qt].style.right=s)),e===Fe&&(0!==i&&(n[Qt].width.left=c,n[Qt].color.left=t,n[Qt].style.left=s),0!==r&&(n[Qt].width.top=c,n[Qt].color.top=t,n[Qt].style.top=s))}))})),r}(Jt.color,Jt.type,Jt.line,Ut,{rc:Et.length,cc:kt.length}),delete i.gridBorder;else"borderWidth"===Wt?Zt=function(t,e){var n=dh(t)[3];return Q()(e).call(e,(function(t){var e=t.cells;Q()(e).call(e,(function(t){t[Qt]=_d(t[Qt],void 0,n,void 0,"solid")}))})),e}(Vt,Ut):"borderColor"===Wt?Zt=function(t,e){var n=dh(t)[1];return Q()(e).call(e,(function(t){var e=t.cells;Q()(e).call(e,(function(t){t[Qt]=_d(t[Qt],void 0,void 0,n,void 0)}))})),e}(Vt,Ut):"borderStyle"===Wt?Zt=function(t,e){var n=dh(t)[2];return Q()(e).call(e,(function(t){var e=t.cells;Q()(e).call(e,(function(t){t[Qt]=_d(t[Qt],void 0,void 0,void 0,n)}))})),e}(Vt,Ut):i.formatBrush?(Zt=function(t,e,n){var r=n.rc,i=n.cc;return Q()(t).call(t,(function(t){var n=t.cells;Q()(n).call(n,(function(t){var n=t.row,o=t.column,a=t.mergeConfig||{},u=a.columnLength,l=a.columnStart,c=a.rowLength,s=a.rowStart;0===o&&(t[Qt].width.left=e.width.left,t[Qt].color.left=e.color.left,t[Qt].style.left=e.style.left),o!==i-1&&u+l!==i||(t[Qt].width.right=e.width.right,t[Qt].color.right=e.color.right,t[Qt].style.right=e.style.right),0===n&&(t[Qt].width.top=e.width.top,t[Qt].color.top=e.color.top,t[Qt].style.top=e.style.top),n!==r-1&&c+s!==r||(t[Qt].width.bottom=e.width.bottom,t[Qt].color.bottom=e.color.bottom,t[Qt].style.bottom=e.style.bottom)}))})),t}(Y().cloneDeep(Ut),i.border,{rc:Et.length,cc:kt.length}),delete i.formatBrush):Zt=hh(Vt,void 0,Ut,Et.length,kt.length);return Zt?O()(yt).call(yt,P()(zt=G()(Zt).call(Zt,(function(t,e){return O()(t).call(t,e.cells)}),[])).call(zt,(function(t){return[t.id,{border:t.border}]}))):yt}var Ht=gt.x,Kt=gt.y,qt=gt.fixedRowAtPage,Yt=gt.height,ne=gt.width,re=(gt.detailRowHeight,gt.fixedRowCount),oe=gt.mergeConfig,ae=gt.tableTailId,ue=gt.pagePrint,ce=gt.pagePrintN,se=Ot?qt:ue,fe=Ot?re:ce,de=zd(a).height,he=ae?a.findControl(ae).height:0,pe=function(t){de-Kt-t-he<0&&f((0,J.getLangMsg)("printd.grid.key0131"))};if(se!==Gt){var ve;if(Ot){var ge=qn()(Et).call(Et,(function(t){return t.rowType===we}));ve=(null==ge?void 0:ge.rowHeight)*(Ft-1)}else ve=G()(Ut).call(Ut,(function(t,e){return t+e.row.rowHeight}),0)*(jt-1);var me=Gt?Mt+ve:Mt-ve;ae&&yt.push([ae,{y:me+Kt,isfixedRowAtPage:!0}]),yt.push([o,{height:me,x:Ht,y:Kt,isfixedRowAtPage:!0}]),pe(me)}if(jt!==fe){var ye,Ce=jt-fe;if(Ot){var be=qn()(Et).call(Et,(function(t){return t.rowType===we}));ye=(null==be?void 0:be.rowHeight)*Ce}else ye=G()(Ut).call(Ut,(function(t,e){return t+e.row.rowHeight}),0)*Ce;var xe=Mt+ye;yt.push([o,{height:xe}]),pe(xe)}if(Yt!==Mt||ne!==Rt){var Ee=function(t){var e,n,r,i,o,a,u,l,c=t.x,s=t.y,f=t.width,d=t.height,h=t.id,p=t.rows,v=t.columns,g=t.dataContext,m=Y().cloneDeep(g.getData()).items,y=qn()(m).call(m,(function(t){return t.id===h})),C=y.width,b=y.height,x=y.fixedRowAtPage,w=y.fixedRowCount,E=y.pagePrint,S=y.pagePrintN;y.x=void 0===c?y.x:c,y.y=void 0===s?y.y:s,y.width=f,y.height=d;var k=d,A=P()(p).call(p,(function(t){return t.id})),D=P()(v).call(v,(function(t){return t.id})),I=L()(m).call(m,(function(t){return Tn()(A).call(A,t.id)})),T=qn()(I).call(I,(function(t){return t.rowType===we})),B=L()(m).call(m,(function(t){return Tn()(D).call(D,t.id)})),M=jd(y)?x&&w>1?P()(e=Uf()(n=new Array(w-1)).call(n,0)).call(e,(function(){return T.rowHeight})):[]:E&&S>1?P()(r=Uf()(i=new Array(p.length*(S-1))).call(i,0)).call(r,(function(t,e){return p[e%p.length].rowHeight})):[],R=gh(vh(O()(o=P()(I).call(I,(function(t){return t.rowHeight}))).call(o,M),k),d),F=gh(vh(P()(B).call(B,(function(t){return t.columnWidth})),f),f);if(Y().isEqual(Dn()(R).call(R,0,I.length),P()(I).call(I,(function(t){return t.rowHeight})))&&Y().isEqual(F,P()(B).call(B,(function(t){return t.columnWidth}))))return[[h,{width:C,height:b}]];var _=P()(I).call(I,(function(t,e){return t.rowHeight=R[e],t})),N=P()(B).call(B,(function(t,e){return t.columnWidth=F[e],t})),j=L()(a=P()(m).call(m,(function(t){var e=t.id,n=t.rowId,r=t.columnId;return e===y.id?[y.id,th(y,[Xt,$t,ee,te])]:Tn()(A).call(A,e)?[e,th(qn()(_).call(_,(function(t){return t.id===e})),[Ze])]:Tn()(D).call(D,e)?[e,th(qn()(N).call(N,(function(t){return t.id===e})),[Qe])]:Tn()(A).call(A,n)&&Tn()(D).call(D,r)?[e,(0,at.c)({},th(qn()(_).call(_,(function(t){return t.id===n})),[Ze],[ee]),th(qn()(N).call(N,(function(t){return t.id===r})),[Qe],[te]))]:null}))).call(a,Boolean),G=L()(u=P()(m).call(m,(function(t){var e=t.id,n=(t.rowId,t.columnId,t.parentId),r=n?g.findControl(n):null;if(!r||!Kd(r))return null;var i=r.rowId,o=r.columnId;if(Tn()(A).call(A,i)&&Tn()(D).call(D,o)){var a={},u=hd({field:r,dataContext:g}),l=u.width,c=u.height,s=g.findControlByCondition((function(t){return t.parentId===n}));return 1===s.length&&(0,at.c)(a,{width:l,height:c}),[e,(0,at.c)({},th(qn()(_).call(_,(function(t){return t.id===i})),[Ze],[ee]),th(qn()(N).call(N,(function(t){return t.id===o})),[Qe],[te]),a)]}}))).call(u,Boolean);return O()(l=[]).call(l,(0,En.c)(j),(0,En.c)(G))}({x:It,y:Tt,width:Rt,height:Mt,rows:Et,columns:kt,dataContext:a,id:o});Ee&&yt.push.apply(yt,(0,En.c)(Ee))}if(!Y().isEqual(mt,gt)){var Se={};if(Q()(ie).call(ie,(function(t){mt[t]!==gt[t]&&(Se[t]=mt[t])})),!Y().isEmpty(Se)){var ke=Y().cloneDeep(a.getData()).items,Ae=G()(ke).call(ke,(function(t,e){var n=e.id,r=(e.type,e.parentId),i=qn()(ke).call(ke,(function(t){return t.id===r})),a=[];if(Nd(e)&&r===o||Nd(i)&&i.parentId===o){var u,l={};Q()(u=hp()(Se)).call(u,(function(t){var n=(0,B.c)(t,2),r=n[0],i=n[1];r in e&&(l[r]=i)})),Y().isEmpty(l)||a.push([n,l])}return O()(t).call(t,a)}),[]);yt.push.apply(yt,(0,En.c)(Ae))}}if(!Y().isEqual(oe,_t)){var Ie,Te,Be,Re=Y().cloneDeep(L()(Ie=P()(bt).call(bt,(function(t){if(t.parentId===Bt)return t}))).call(Ie,Boolean)),We=sd(Re),Je=(We.columns,We.cells),Ve=We.columnCount,He=ud(Ve),Ke=L()(Te=P()(Be=C()(_t)).call(Be,(function(t){return oe[t]&&Y().isEqual(_t[t],oe[t])?void 0:t}))).call(Te,Boolean);Q()(Ke).call(Ke,(function(t){var e,n=_t[t],r=n.rowStart,i=n.rowLength,o=n.columnStart,a=n.columnLength,c=qn()(Re).call(Re,(function(t){return t.id===Je[He(r,o)].id})),s=!0;Xn()(e=C()(De)).call(e,(function(t){return c[t]}))||(qn()(bt).call(bt,(function(t){return t.parentId===c.id}))||(s=!1));if(!s)for(var f=r;f<=r+i-1;f++)for(var d=function(){if(s)return 1;if(f!==r||h!==o){var t,e=Je[He(f,h)];if(Xn()(t=C()(De)).call(t,(function(t){return e[t]}))){var n,i={};Q()(n=C()(e)).call(n,(function(t){Tn()(Me).call(Me,t)||(c[t]=e[t],i[t]=e[t])})),yt.push([c.id,i]),s=!0}var a=qn()(bt).call(bt,(function(t){return t.parentId===e.id}));if(a){var d=(0,at.c)({},a,{parentId:c.id}),p=u.dataRef;d.key=(0,J.createUniqueKey)(d.key,d.type,p.current),p.current.push(d),l.current.push(d),s=!0}}},h=o;h<=o+a-1&&!d();h++);}))}var qe=eh(yt);if(1===qe.length){var Ye=(0,B.c)(qe[0],2);return{id:Ye[0],change:Ye[1]}}return qe}if(h&&h.id===d){var Xe="height"in i||"marginTop"in i||"marginBottom"in i,$e="width"in i||"marginLeft"in i||"marginRight"in i,tn=a.findControlByCondition((function(t){return"Footer"===t.type}))[0],en=a.findControlByCondition((function(t){return"Header"===t.type}))[0],nn=[[o,i]],rn=i.height,on=i.width,an=i.marginTop,un=i.marginBottom,ln=i.marginLeft,cn=i.marginRight;rn=Y().isUndefined(rn)?h.height:rn,on=Y().isUndefined(on)?h.width:on,an=Y().isUndefined(an)?h.marginTop:an,un=Y().isUndefined(un)?h.marginBottom:un,ln=Y().isUndefined(ln)?h.marginLeft:ln,cn=Y().isUndefined(cn)?h.marginRight:cn;var sn=Math.max(rn-Math.max(an,0)-Math.max(un,0),0),fn=Math.max(on-Math.max(ln,0)-Math.max(cn,0),0);if(tn&&(Xe||$e)){var dn=tn.height,hn=tn.id;nn.push([hn,vp(vp({},tn),{},{width:fn,y:sn-dn})])}if(en&&$e){var pn=en.id;nn.push([pn,vp(vp({},en),{},{width:fn})])}return nn}if(h&&cp(h)){if("height"in i){var vn=i.height,gn=a.findControl(d),mn=gn.marginTop,yn=gn.marginBottom,Cn=gn.height,bn=Math.max(Cn-Math.max(mn,0)-Math.max(yn,0),0)-vn,xn=[[o,vp(vp({},i),{},{y:bn})]],wn=a.findControlByCondition((function(t){return"Header"!==t.type&&"Footer"!==t.type&&t.parentId===d&&t.y+t.height>bn}))||[],Sn=P()(wn).call(wn,(function(t){return[t.id,{y:bn-t.height}]}));return xn.push.apply(xn,(0,En.c)(Sn)),xn}return{id:o,change:i}}if(h&&lp(h)){if("height"in i){var An=i.height,In=[[o,i]],Bn=a.findControlByCondition((function(t){return"Header"!==t.type&&"Footer"!==t.type&&t.parentId===d&&t.y<An})),Mn=Bn&&P()(Bn).call(Bn,(function(t){return[t.id,{y:An}]}));return In.push.apply(In,(0,En.c)(Mn)),In}return{id:o,change:i}}if(h&&Jd(h)){var Rn="mergeSummaryField"in i;if("mergeByField"in i&&i.mergeByField&&h.mergeByField){var Fn,_n=i.mergeByFieldText,Pn=i.mergeByField,Nn=Pn?Pn.split(";"):[],On=h.id,jn=h.mergeSummaryField,Gn=h.mergeSummaryFieldText,Un=Gn?Gn.split(";"):[],zn=[[o,i]],Zn=a.findControlByCondition((function(t){return Vd(t)&&t.rowId===On})),Qn=L()(Fn=P()(Zn).call(Zn,(function(t){var e=t.mergeSummary,n=t.bindField,r=t.id;return kn()(Nn).call(Nn,n)>-1&&e?[r,{mergeSummary:!1}]:null}))).call(Fn,Boolean);return zn.push.apply(zn,(0,En.c)(Qn)),zn.push([On,{mergeSummaryField:L()(jn).call(jn,(function(t){return-1===kn()(Nn).call(Nn,t)})),mergeSummaryFieldText:L()(Un).call(Un,(function(t){return!Ln()(_n).call(_n,t)})).join(";")}]),zn}if(Rn){var Wn,Jn=h.id,Vn=i.mergeSummaryField,Hn=[[o,i]],Kn=a.findControlByCondition((function(t){return Vd(t)&&t.rowId===Jn})),Yn=L()(Wn=P()(Kn).call(Kn,(function(t){var e=t.mergeSummary,n=t.bindField,r=t.id,i=Tn()(Vn).call(Vn,n);return i!==e?[r,{mergeSummary:i}]:null}))).call(Wn,Boolean);return Hn.push.apply(Hn,(0,En.c)(Yn)),Hn}return{id:o,change:i}}if(h&&Vd(h)){var $n=h.bindField,tr="bindField"in i;if("mergeSummary"in i&&$n){var er=h.rowId,nr=h.viewText,rr=i.mergeSummary,ir=nr.replace(/^=\$(\S+)$/g,"$1"),or=a.findControl(er),ar=or.mergeSummaryField,ur=or.mergeSummaryFieldText,lr=ur?ur.split(";"):[],cr=a.findControlByCondition((function(t){return Vd(t)&&t.rowId===er})),sr=L()(cr).call(cr,(function(t){return t.bindField===$n})).length>1,fr=[[o,i]];return rr&&!Tn()(ar).call(ar,$n)?fr.push([er,{mergeSummaryField:O()(ar).call(ar,$n),mergeSummaryFieldText:O()(lr).call(lr,ir).join(";")}]):rr||!Tn()(ar).call(ar,$n)||sr||fr.push([er,{mergeSummaryField:L()(ar).call(ar,(function(t){return t!==$n})),mergeSummaryFieldText:L()(lr).call(lr,(function(t){return t!==ir})).join(";")}]),fr}if(tr){var dr,hr,pr=h.viewText,vr=h.rowId,gr=h.bindField,mr=h.mergeSummary,yr=pr.replace(/^=\$(\S+)$/g,"$1"),Cr=a.findControl(vr),br=Cr.mergeSummaryField,xr=Cr.mergeSummaryFieldText,wr=Cr.mergeByFieldText,Er=Cr.mergeByField,Sr=xr?xr.split(";"):[],kr=wr?wr.split(";"):[],Ar=Er?Er.split(";"):[],Dr=a.findControlByCondition((function(t){return Vd(t)&&t.rowId===vr})),Ir=L()(Dr).call(Dr,(function(t){return t.bindField===gr})).length>1,Tr=[[o,i]];if(gr&&Tn()(Ar).call(Ar,gr)&&!Ir)Tr.push([vr,{mergeByField:O()(dr=L()(Ar).call(Ar,(function(t){return t!==$n}))).call(dr,i.bindField).join(";"),mergeByFieldText:O()(hr=L()(kr).call(kr,(function(t){return t!==yr}))).call(hr,i.viewText.replace(/^=\$(\S+)$/g,"$1")).join(";")}]);return gr&&mr&&Tn()(br).call(br,gr)&&!Ir&&(Tr.push([vr,{mergeSummaryField:L()(br).call(br,(function(t){return t!==gr})),mergeSummaryFieldText:L()(Sr).call(Sr,(function(t){return t!==yr})).join(";")}]),Tr.push([o,{mergeSummary:!1}])),Tr}}return{id:o,change:i}},mp=function(t,e,n){var r=Y().cloneDeep(t),i=[];return{items:G()(r).call(r,(function(t,r){var o=(0,B.c)(r,2),a=o[0],u=o[1],l=e.findControl(a);return n(l,u,a,e)?(i.push(r),null==t?void 0:O()(t).call(t,l)):t}),[]),changes:i}},yp=function(t){var e=t.realChange,n=t.dataContext,r=mp(e,n,(function(t){return t&&(jd(t)||Ud(t))})),i=r.items,o=r.changes,a=mp(e,n,(function(t){return t&&Gd(t)})),u=a.items,l=a.changes,c=mp(e,n,(function(t){return t&&qd(t)})),s=c.items,f=c.changes;null!=i&&i.length&&Q()(i).call(i,(function(t,r){var i=(0,B.c)(o[r],2),a=(i[0],i[1]),u=t,l=(0,at.c)({},Y().cloneDeep(t),a),c=l.x,s=l.y,f=l.subGridId,d=l.width,h=l.height,p=l.tableTailId,v=(l.hasTableTail,u.x),g=u.y,m=u.width,y=u.height;if(f&&f.length>0){var C=n.findControl(f);Q()(C).call(C,(function(t){var n=t.subGridDirection,r=t.id,i={};"right"===n?(c===v&&d===m||(i.x=Kf(c+d,1)),s!==g&&(i.y=s)):(s===g&&h===y||(i.y=Kf(s+h,1)),c!==v&&(i.x=c)),Y().isEmpty(i)||e.push([r,i])}))}if(p){var b=n.findControl(p),x={x:c-v+b.x,y:s+h};(b.x<c||b.x>c+d)&&(x.x=c),e.push([p,x])}})),null!=u&&u.length&&Q()(u).call(u,(function(t,r){var i=(0,B.c)(l[r],2),o=(i[0],i[1]),a=t,u=(0,at.c)({},Y().cloneDeep(t),o),c=u.parentGridId,s=u.x,f=u.y,d=u.subGridDirection,h=a.x,p=a.y,v=n.findControl(c),g={};"right"===d?(s!==h&&(g.x=Kf(s-v.width,1)),f!==p&&(g.y=f)):(f!==p&&(g.y=Kf(f-v.height,1)),s!==h&&(g.x=s)),Y().isEmpty(g)||e.push([c,g])})),null!=i&&i.length||null==s||!s.length||Q()(s).call(s,(function(t,r){var i=(0,B.c)(f[r],2),o=(i[0],i[1]),a=t,u=(0,at.c)({},t,o),l=u.parentGridId,c=u.y,s=a.y,d=n.findControl(l),h={};c!==s&&(h.y=Kf(c-d.height,1)),Y().isEmpty(h)||e.push([l,h])}))},Cp=function(t,e,n){var r,i=t.dataContext,o=(t.selectionContext,t.globalConfig),a=t.action,u=i.getRootId(),l=a.value;if(l.length){if(1===l.length){var c=(0,B.c)(l,1),s=(0,B.c)(c[0],2),f=s[0],d=s[1];if(f===u&&"language"in d)return void J.eventBus.emit("beforeChangeLang",{resolve:e,reject:n,value:d.language});if("hasTableTail"in d)return void J.eventBus.emit("beforeChangeGridFooter",{resolve:e,reject:n,tableTail:d.hasTableTail,parentGridId:f});var h=i.findControl(f);if(h&&("x"in d||"y"in d)){var p=d.x,v=d.y,g=h.parentId,m=i.findControl(g)||{};if("TableTail"===m.type){var y=m.width,C=m.height,b=h.width,x=h.height;p+b>y&&(d.x=Math.max(y-b,0)),v+x>C&&(d.y=Math.max(C-x,0))}}}var w={current:[]},E=eh(G()(l).call(l,(function(t,e){var n=(0,B.c)(e,2),r=n[0],u=n[1],l=gp({change:u,id:r,globalConfig:o,dataContext:i,addActionRef:w,action:a});return Qn()(l)?t.push.apply(t,(0,En.c)(l)):t.push([l.id,l.change]),t}),[])),S=mp(E,i,(function(t,e){return t&&(Qd(t)||Wd(t))&&(Ze in e||Qe in e)})),k=S.items,A=S.changes;if(null!=k&&k.length){var D=i.findControl(k[0].parentId),I=D.id,T=i.findControlByCondition((function(t){return t.parentId===I&&(Qd(t)||Wd(t))})),M=jd(D),R=Ud(D);E.push([I,Xf(G()(T).call(T,(function(t,e){var n,r=e.id,i=null===(n=qn()(A).call(A,(function(t){return(0,B.c)(t,1)[0]===r})))||void 0===n?void 0:n[1],o=i?(0,at.c)({},e,i):e;return Qd(o)?Jd(o)&&M&&D.fixedRowAtPage&&D.fixedRowCount>1?t.height+=o.rowHeight+o.rowHeight*Math.max(D.fixedRowCount-1,1):R&&D.pagePrint&&D.pagePrintN>1?t.height+=o.rowHeight+o.rowHeight*Math.max(D.pagePrintN-1,1):t.height+=o.rowHeight:t.width+=o.columnWidth,t}),{width:0,height:0}))]),E=eh(E)}yp({realChange:E,dataContext:i});var F=function(t,e){var n,r,i=mp(t,e,(function(t){return t&&Xd(t)})),o=i.items,a=(i.changes,Y().cloneDeep(e.getData()).items);Q()(t).call(t,(function(t){var e,n=(0,B.c)(t,2),r=n[0],i=n[1],o=qn()(a).call(a,(function(t){return t.id===r}));o&&Q()(e=hp()(i)).call(e,(function(t){var e=(0,B.c)(t,2),n=e[0],r=e[1];o[n]=r}))}));var u=[];if(null===(n=o)||void 0===n||!n.length){var l,c,s=mp(t,e,(function(t,e,n,r){var i=t&&r.findControl(t.parentId);return i&&Xd(i)&&t&&(Qd(t)||Wd(t))&&(Ze in e||Qe in e)})),f=s.items;null!=f&&f.length&&(o=L()(l=P()(c=(0,En.c)(new(di())(P()(f).call(f,(function(t){return t.parentId}))))).call(c,(function(t){return qn()(a).call(a,(function(e){return e.id===t}))}))).call(l,Boolean))}return null!==(r=o)&&void 0!==r&&r.length&&Q()(o).call(o,(function(t){var e,n=t.id,r=(qn()(a).call(a,(function(t){return t.id===n})),L()(e=P()(a).call(a,(function(t){if(t.parentId===n)return t}))).call(e,Boolean)),i=sd(r).cells;Q()(i).call(i,(function(t){var e=t.id,n=qn()(a).call(a,(function(t){return t.parentId===e}));if(n){var r=hd({field:t,dataContext:(0,J.createDataContext)(void 0,{items:a},{keywordMapping:{id:"id",type:"type",name:"name",key:"key",parentId:"parentId",items:"items"}})});if(r){var i=r.width,o=r.height,l=n.id,c=n.width,s=n.height,f={};c>i&&(f.width=i),s>o&&(f.height=o),Y().isEmpty(f)||u.push([l,f])}}}))})),u}(E,i);return L()(r=[{type:J.ActionType.UPDATE,value:eh(O()(E).call(E,F))},w.current.length&&(0,J.createAddAction)(w.current)]).call(r,Boolean)}},bp=(W.Icon,(0,J.getLangMsg)("printd.grid.key0114"),(0,J.getLangMsg)("printd.grid.key0114"),W.Icon,(0,J.getLangMsg)("printd.grid.key0114"),(0,J.getLangMsg)("printd.grid.key0114"),W.Icon,(0,J.getLangMsg)("printd.grid.key0114"),(0,J.getLangMsg)("printd.grid.key0114"),W.Icon,(0,J.getLangMsg)("printd.grid.key0114"),(0,J.getLangMsg)("printd.grid.key0114"),W.Icon,(0,J.getLangMsg)("printd.grid.key0114"),(0,J.getLangMsg)("printd.grid.key0114"),{color:{top:"#000000",left:"#000000",bottom:"#000000",right:"#000000",inner:"#000000"},width:{top:.5,left:.5,bottom:.5,right:.5,inner:.5},style:{top:"solid",left:"solid",bottom:"solid",right:"solid",inner:"solid"}});function xp(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=xp(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=xp(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Ep=["color","width","style"],Sp=["left","right"];function kp(t,e,n){var r=t.globalConfig,i=t.dataContext,o=t.selectionContext,a=t.action,u=t.dataFactory,l=(t.modelFactory,r.showMessage),c=null,s=a.value,f=Qn()(s)?s:[s],d=Qn()(s)?s[0]:s,h=i.getRootId(),p=i.findControl(h),v=p.width,g=p.height,m=p.marginBottom,y=p.marginTop,b=p.marginLeft,x=p.marginRight,w=Math.max(g-Math.max(y,0)-Math.max(m,0),0),E=Math.max(v-Math.max(b,0)-Math.max(x,0),0),S=d.type,k=d.parentId,A=d.height,D=d.width,I=d.y,T=d.x,M=d.id,R=i.findControl(k),F=R.height,_=R.type,N=i.findControlByCondition((function(t){return"Header"===t.type})),j=i.findControlByCondition((function(t){return"Footer"===t.type}));if(Qn()(s)||"DataGrid"!==S&&S!==he)if("LayoutGrid"!==S){if("CardGrid"!==S){if(lp(d))if(N.length)l((0,J.getLangMsg)("printd.grid.key0043")),n((0,J.getLangMsg)("printd.grid.key0044"));else{k!==h&&n((0,J.getLangMsg)("printd.grid.key0042")),d.width=E,d.x=0,d.y=0;var U=i.findControlByCondition((function(t){return"Header"!==t.type&&"Footer"!==t.type&&t.parentId===h&&t.y<A}));c=U&&P()(U).call(U,(function(t){return[t.id,{y:A}]})),document.getElementById("printDesignerCanvasContainer").scrollTop=0}if(cp(d))if(j.length)l((0,J.getLangMsg)("printd.grid.key0046")),n((0,J.getLangMsg)("printd.grid.key0047"));else{k!==h&&n((0,J.getLangMsg)("printd.grid.key0045")),d.width=E,d.x=0,d.y=w-A;var z=i.findControlByCondition((function(t){return"Header"!==t.type&&"Footer"!==t.type&&t.parentId===h&&t.y+t.height>d.y}))||[];c=z&&P()(z).call(z,(function(t){var e=function(t,e){var n=t.height,r=t.subGridId;if(jd(t)&&null!=r&&r.length){var i=e.findControl(r[0]),o=i.subGridDirection,a=i.height;if("bottom"===o)return qf(n+a,1);if("right"===o)return Math.max(n,a)}if(Gd(t)){var u=t.subGridDirection,l=t.parentGridId,c=e.findControl(l).height;if("right"===u)return Math.max(n,c)}return n}(t,i);return[t.id,{y:qf(d.y-e,1)}]}));var Z=document.getElementById("printDesignerCanvasContainer"),W=Z.scrollHeight;Z.scrollTop=W}if((lp(R)||cp(R)||qd(R))&&I+A>F&&(c=A>=F?P()(f).call(f,(function(t){return[t.id,{y:0,height:F,width:qf(F/A*D,1)}]})):P()(f).call(f,(function(t){return[t.id,{y:F-A}]}))),N.length&&!cp(d)&&k===h){var V=N[0].height;I<V&&(jd(d)||Xd(s)?d.y=I+V:Q()(f).call(f,(function(t){t.y+=V})))}if("1"===i.getData().bizType&&sp(d)&&(d.width=E),Kd(R)||Yd(R)){var H=hd({field:R,dataContext:i}),K=H.width,q=H.height;i.findControlByCondition((function(t){return t.parentId===k})).length?n("error: fail to add control to layoutcell;accept only one children"):c=[[M,{x:0,y:0,width:K,height:q}]]}if(Od(d)){var X=L()(f).call(f,(function(t){return t.parentId===M&&"DataColumn"===t.type})),$=G()(X).call(X,(function(t,e){return t.width=qf(t.width+e.columnWidth,1),t}),{width:0});if(c=[[M,$]],jd(d)){var tt=d.subGridId||[];Q()(tt).call(tt,(function(t){var e=i.findControl(t),n=e.subGridDirection,r=e.x;"right"===n&&r!==qf(T+$.width,1)&&c.push([t,{x:qf(T+$.width,1)}])}))}}if(Qd(d)){var et,nt,rt=a.rowIndex,it=a.index,ot=a.direction,ut=d.parentId,lt=d.rowType,ct=$d(i,ut),st=ct.items,ft=ct.gridData,dt=ct.allItems,ht=Y().cloneDeep(dt),pt=Y().cloneDeep(st),vt=Y().cloneDeep(ft),gt=sd(st),mt=gt.rows,yt=void 0===mt?[]:mt,Ct=gt.columns,bt=void 0===Ct?[]:Ct,xt=(gt.cells,gt.rowData),wt=(gt.columnData,gt.rowCount,{height:vt.height}),Et=[],St={};Q()(ie).call(ie,(function(t){vt[t]&&(St[t]=vt[t])}));var kt=Ud(vt)&&vt.pagePrint?vt.pagePrintN:1;Q()(et=a.value).call(et,(function(t,e){var n;wt.height+=t.rowHeight*kt,vt.height+=t.rowHeight*kt;var r=P()(n=xt[rt]).call(n,(function(e,n){var r=e.type,i=e.border,o=e.backColor,l=wp({rowId:t.id,columnId:bt[n].id,cellType:t.rowType},St);if(!(0===rt&&"up"===a.direction||rt===C()(xt).length-1&&"bottom"===a.direction)){var c=Y().cloneDeep(bp),s="up"===a.direction?xt[rt-1][n]:xt[rt+1][n];qn()(Ep).call(Ep,(function(t){return qn()(Sp).call(Sp,(function(e){return i[t][e]!==s.border[t][e]}))}))||Q()(Ep).call(Ep,(function(t){return Q()(Sp).call(Sp,(function(e){return c[t][e]=i[t][e]}))})),(0,at.c)(l,{border:c}),o===s.backColor&&(0,at.c)(l,{backColor:o})}return u({type:r,parentId:ut,transferData:l})}));Et.push.apply(Et,(0,En.c)(r))})),si()(ht).apply(ht,O()(nt=[it,0]).call(nt,(0,En.c)(a.value))),ht.push.apply(ht,Et);var At=vt.mergeConfig,Dt=void 0===At?{}:At;if(!Y().isEmpty(Dt)){var It,Tt=a.value.length,Bt=G()(It=C()(Dt)).call(It,(function(t,e){var n,r,i=P()(n=e.split("_")).call(n,(function(t){return+t})),o=(0,B.c)(i,2),a=o[0],u=o[1],l=yt[a].rowType,c=lt===l?Tt:0,s=Dt[e],f=s.rowLength;s.columnLength;if(rt<a)t[O()(r="".concat(a+Tt,"_")).call(r,u)]=(0,at.c)({},Dt[e],{rowStart:a+Tt});else if(rt===a&&"up"===ot){var d;t[O()(d="".concat(a+Tt,"_")).call(d,u)]=(0,at.c)({},Dt[e],{rowStart:a+Tt})}else t[e]=rt===a&&1!==f||rt>a&&rt<a+f-1||rt===a+f-1&&"up"===ot?wp(wp({},Dt[e]),{},{rowLength:f+c}):wp({},Dt[e]);return t}),{});wt.mergeConfig=Y().omitBy(Bt,Y().isUndefined),vt.mergeConfig=wt.mergeConfig}var Mt=ch(vt,ht,pt);Q()(Et).call(Et,(function(t){var e=qn()(Mt).call(Mt,(function(e){var n=(0,B.c)(e,2),r=n[0];n[1];return t.id===r}));e&&(0,at.c)(t,e[1])}));var Rt=[[ut,wt]];return yp({realChange:Rt,dataContext:i}),[a,(0,J.createAddAction)(Et),(0,J.createUpdateAction)(O()(Mt).call(Mt,Rt))]}if(Wd(d)){var Lt,Ft,_t=a.columnIndex,Pt=a.index,Nt=a.direction,Ot=d.parentId,jt=$d(i,Ot),Gt=jt.items,Ut=jt.gridData,zt=jt.allItems,Zt=Y().cloneDeep(zt),Qt=Y().cloneDeep(Gt),Wt=Y().cloneDeep(Ut),Jt=sd(Gt),Vt=Jt.rows,Ht=void 0===Vt?[]:Vt,Kt=(Jt.columns,Jt.cells,Jt.rowData,Jt.columnData),qt=(Jt.columnCount,{width:Wt.width}),Yt=[],Xt={};Q()(ie).call(ie,(function(t){Wt[t]&&(Xt[t]=Wt[t])})),Q()(Lt=a.value).call(Lt,(function(t){var e;Wt.width+=t.columnWidth,qt.width+=t.columnWidth,Yt.push.apply(Yt,(0,En.c)(P()(e=Kt[_t]).call(e,(function(e,n){var r=e.type;return u({type:r,parentId:Ot,transferData:wp({rowId:Ht[n].id,columnId:t.id,cellType:Ht[n].rowType},Xt)})}))))})),si()(Zt).apply(Zt,O()(Ft=[Pt,0]).call(Ft,(0,En.c)(a.value))),Zt.push.apply(Zt,Yt);var $t=Wt.mergeConfig,te=void 0===$t?{}:$t;if(!Y().isEmpty(te)){var ee,ne=a.value.length,re=G()(ee=C()(te)).call(ee,(function(t,e){var n,r,i=P()(n=e.split("_")).call(n,(function(t){return+t})),o=(0,B.c)(i,2),a=o[0],u=o[1],l=te[e],c=(l.rowLength,l.columnLength);if(_t<u)t[O()(r="".concat(a,"_")).call(r,u+ne)]=(0,at.c)({},te[e],{columnStart:u+ne});else if(_t===u&&"up"===Nt){var s;t[O()(s="".concat(a,"_")).call(s,u+ne)]=(0,at.c)({},te[e],{columnStart:u+ne})}else t[e]=_t===u&&1!==c||_t>u&&_t<u+c-1||_t===u+c-1&&"up"===Nt?wp(wp({},te[e]),{},{columnLength:c+ne}):wp({},te[e]);return t}),{});qt.mergeConfig=Y().omitBy(re,Y().isUndefined),Wt.mergeConfig=qt.mergeConfig}var oe=ch(Wt,Zt,Qt);Q()(Yt).call(Yt,(function(t){var e=qn()(oe).call(oe,(function(e){var n=(0,B.c)(e,2),r=n[0];n[1];return t.id===r}));e&&(0,at.c)(t,e[1])}));var ae=[[Ot,qt]];return yp({realChange:ae,dataContext:i}),[a,(0,J.createAddAction)(Yt),(0,J.createUpdateAction)(O()(oe).call(oe,ae))]}var ue=[a];return c&&c.length&&ue.push.apply(ue,(0,En.c)(Cp({dataContext:i,selectionContext:o,action:{type:J.ActionType.UPDATE,value:c},globalConfig:r}))),ue}k===h?J.eventBus.emit("card-setting",{resolve:e,reject:n}):"TableTail"===_&&J.eventBus.emit("card-setting",{resolve:e,reject:n,parentId:k})}else k===h?J.eventBus.emit("layoutGrid-setting",{resolve:e,reject:n}):"TableTail"===_&&J.eventBus.emit("layoutGrid-setting",{resolve:e,reject:n,parentId:k});else k===h&&J.eventBus.emit("grid-guide",{resolve:e,reject:n,controlType:S,transferData:a.transferData})}function Ap(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Ap(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Ap(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Ip=function(t){return Qn()(t)?t:[t]},Tp=function(t){if(Y().isUndefined(t))return!0;var e=t.rowLength,n=t.columnLength;return 1===e&&1===n};function Bp(t,e,n){t.globalConfig;var r,i=t.dataContext,o=(t.selectionContext,t.action),a=(t.dataFactory,t.modelFactory,Qn()(o.value)?o.value[0]:o.value),u=i.findControl(a),l=Ip(o.value),c=i.findControl(l),s=[];if(Qd(u)){var f,d=u.parentId,h=$d(i,d),p=h.items,v=h.gridData,g=h.allItems,m=Y().cloneDeep(v),y=sd(p),b=y.rows,x=void 0===b?[]:b,w=(y.columns,y.cells,y.rowData),E=(y.columnData,y.rowCount,g),S=Y().cloneDeep(p),k={height:m.height},A=m.mergeConfig,D=void 0===A?{}:A,I=Ud(m)&&m.pagePrint?m.pagePrintN:1;Q()(f=Ip(o.value)).call(f,(function(t){var e,n=dt()(x).call(x,(function(e){return e.id===t})),r=x[n];k.height-=r.rowHeight*I,m.height-=r.rowHeight*I;var i=P()(e=w[n]).call(e,(function(t){return t.id}));if(E=L()(E).call(E,(function(t){var e=t.id;t.parentId;return r.id!==e&&!Tn()(i).call(i,e)})),!Y().isEmpty(D)){var o,a=n;Q()(o=C()(D)).call(o,(function(t){var e,n,r=P()(e=t.split("_")).call(e,(function(t){return+t})),i=(0,B.c)(r,2),o=i[0],u=i[1],l=D[t],c=l.rowLength;l.columnLength;if(a<o)D[O()(n="".concat(o-1,"_")).call(n,u)]=Dp(Dp({},D[t]),{},{rowStart:o-1}),D[t]=void 0;else if(a>o){var s=D[t],f=s.rowLength;s.columnLength;D[t]=Dp(Dp({},D[t]),{},{rowLength:o+f-1<a?f:f-1})}else{var d;if(1===c)D[t]=void 0;else D[O()(d="".concat(o,"_")).call(d,u)]=(0,at.c)({},D[t],{rowStart:o,rowLength:c-1})}})),k.mergeConfig=Y().omitBy(D,Tp),m.mergeConfig=k.mergeConfig}}));var T=ch(m,E,S,!0),M=[[d,k]];return yp({realChange:M,dataContext:i}),[(0,J.createDeleteAction)(Y().difference(P()(g).call(g,(function(t){return t.id})),P()(E).call(E,(function(t){return t.id})))),(0,J.createUpdateAction)(O()(T).call(T,M))]}if(Wd(u)){var R,F,_,N,j=u.parentId,U=$d(i,j),z=U.items,Z=U.gridData,W=U.allItems,V=Y().cloneDeep(Z),H=sd(z),K=(H.rows,H.columns),q=void 0===K?[]:K,X=(H.cells,H.rowData,H.columnData),$=(H.rowCount,W),tt=Y().cloneDeep(z),et={width:V.width},nt=V.mergeConfig,rt=void 0===nt?{}:nt,it=(null===(R=i.findControlByCondition((function(t){return(e=t).rowType===we&&"DataRow"===e.type&&t.parentId===j;var e})))||void 0===R?void 0:R[0])||{},ot=null===(F=i.findControlByCondition((function(t){return t.columnId===u.id&&t.rowId===(null==it?void 0:it.id)})))||void 0===F?void 0:F[0],ut=ot||{},lt=ut.bindField,ct=ut.viewText,st=ut.mergeSummary,ft=it||{},ht=ft.mergeSummaryField,pt=ft.mergeSummaryFieldText,vt=ft.mergeByField,gt=ft.mergeByFieldText,mt=null==ct?void 0:ct.replace(/^=\$(\S+)$/g,"$1"),yt=[],Ct=i.findControlByCondition((function(t){return Vd(t)&&t.rowId===(null==it?void 0:it.id)})),bt=pt?pt.split(";"):[],xt=vt?vt.split(";"):[],wt=gt?gt.split(";"):[],Et=L()(Ct).call(Ct,(function(t){return t.bindField===lt})).length>1;if(vt&&Tn()(xt).call(xt,lt)&&!Et){var St=L()(xt).call(xt,(function(t){return t!==lt})).join(";");St?yt.push([it.id,{mergeByField:St,mergeByFieldText:L()(wt).call(wt,(function(t){return t!==mt})).join(";")}]):yt.push([it.id,{mergeByField:"",mergeByFieldText:"",mergeSummaryField:[],mergeSummaryFieldText:""}])}else st&&Tn()(ht).call(ht,lt)&&!Et&&yt.push([it.id,{mergeSummaryField:L()(ht).call(ht,(function(t){return t!==lt})),mergeSummaryFieldText:L()(bt).call(bt,(function(t){return t!==mt})).join(";")}]);Q()(_=Ip(o.value)).call(_,(function(t){var e,n=dt()(q).call(q,(function(e){return e.id===t})),r=q[n];et.width-=r.columnWidth,V.width-=r.columnWidth;var i=P()(e=X[n]).call(e,(function(t){return t.id}));if($=L()($).call($,(function(t){var e=t.id;t.parentId;return r.id!==e&&!Tn()(i).call(i,e)})),!Y().isEmpty(rt)){var o,a=n;Q()(o=C()(rt)).call(o,(function(t){var e,n,r=P()(e=t.split("_")).call(e,(function(t){return+t})),i=(0,B.c)(r,2),o=i[0],u=i[1],l=rt[t],c=(l.rowLength,l.columnLength);if(a<u)rt[O()(n="".concat(o,"_")).call(n,u-1)]=Dp(Dp({},rt[t]),{},{columnStart:u-1}),rt[t]=void 0;else if(a>u){var s=rt[t],f=(s.rowLength,s.columnLength);rt[t]=Dp(Dp({},rt[t]),{},{columnLength:u+f-1<a?f:f-1})}else{var d;if(1===c)rt[t]=void 0;else rt[O()(d="".concat(o,"_")).call(d,u)]=(0,at.c)({},rt[t],{columnStart:u,columnLength:c-1})}})),et.mergeConfig=Y().omitBy(rt,Tp),V.mergeConfig=et.mergeConfig}}));var kt=ch(V,$,tt,!0),At=[[j,et]];return yp({realChange:At,dataContext:i}),[(0,J.createDeleteAction)(Y().difference(P()(W).call(W,(function(t){return t.id})),P()($).call($,(function(t){return t.id})))),(0,J.createUpdateAction)(O()(N=O()(kt).call(kt,At)).call(N,yt))]}if(Nd(u)){var Dt,It,Tt,Bt,Mt=P()(Dt=o.value).call(Dt,(function(t){return[t,De]})),Rt={},Lt=[],Ft=[],_t="";Q()(c).call(c,(function(t){var e=t.parentId,n=(t.type,t.bindField),r=t.id;if(Ft=Ft||i.findControl(_t),_t=_t||e,n){var o=t.viewText,a=t.rowId,u=t.mergeSummary,l=o.replace(/^=\$(\S+)$/g,"$1"),c=i.findControl(a),s=c.mergeSummaryField,f=c.mergeSummaryFieldText,d=c.mergeByField,h=c.mergeByFieldText;Rt[a]||(Rt[a]={mergeByField:d,mergeByFieldText:h,mergeSummaryField:s,mergeSummaryFieldText:f});var p=Rt[a].mergeByField?Rt[a].mergeByField.split(";"):[],v=Rt[a].mergeByFieldText?Rt[a].mergeByFieldText.split(";"):[],g=Rt[a].mergeSummaryFieldText?Rt[a].mergeSummaryFieldText.split(";"):[],m=i.findControlByCondition((function(t){return Vd(t)&&t.rowId===a})),y=L()(m).call(m,(function(t){return t.bindField===n})).length>1;if(Rt[a].mergeByField&&Tn()(p).call(p,n)&&!y){var C;Lt=O()(C=[]).call(C,(0,En.c)(Lt),[[r,{mergeSummary:!1}]]);var b=L()(p).call(p,(function(t){return t!==n})).join(";");Rt[a]=Dp(Dp({},Rt[a]),{},b?{mergeByField:b,mergeByFieldText:L()(v).call(v,(function(t){return t!==l})).join(";")}:{mergeByField:"",mergeByFieldText:"",mergeSummaryField:[],mergeSummaryFieldText:""})}else u&&Tn()(s).call(s,n)&&!y&&(Rt[a]=Dp(Dp({},Rt[a]),{},{mergeSummaryField:L()(s).call(s,(function(t){return t!==n})),mergeSummaryFieldText:L()(g).call(g,(function(t){return t!==l})).join(";")}),Mt.push([r,{mergeSummary:!1}]))}}));var Pt=P()(It=C()(Rt)).call(It,(function(t){return[t,Rt[t]]}));Mt=O()(Tt=[]).call(Tt,(0,En.c)(Mt),(0,En.c)(Pt),(0,En.c)(Lt));var Nt=(jd(Ft)||Gd(Ft))&&!i.findControlByCondition((function(t){var e,n=t.parentId,r=t.cellType,i=t.bindField,a=t.id;return n===_t&&"Detail"===r&&!(null!==(e=o.value)&&void 0!==e&&Tn()(e).call(e,a))&&i&&"=getRowNumber()"!==i})).length;Nt&&Mt.push([_t,{dataSource:"",dataSourceText:""}]);var Ot=G()(Bt=o.value).call(Bt,(function(t,e){var n,r=i.findControlByCondition((function(t){return t.parentId===e}))||[],o=P()(r).call(r,(function(t){return t.id}));return O()(n=[]).call(n,(0,En.c)(t),(0,En.c)(o))}),[]);return[(0,J.createUpdateAction)(Mt),(0,J.createDeleteAction)(Ot)]}return Xn()(c).call(c,(function(t){return jd(t)}))&&Q()(c).call(c,(function(t){var e=t.subGridId,n=t.tableTailId;n&&s.push((0,J.createDeleteAction)(n)),e&&e.length>0&&s.push((0,J.createDeleteAction)(e))})),Xn()(c).call(c,(function(t){return Ud(t)}))&&Q()(c).call(c,(function(t){var e=t.tableTailId;e&&s.push((0,J.createDeleteAction)(e))})),Xn()(c).call(c,(function(t){return qd(t)}))&&Q()(c).call(c,(function(t){var e=t.parentGridId;e&&!Tn()(l).call(l,e)&&s.push((0,J.createUpdateAction)([[e,{hasTableTail:"",tableTailId:""}]]))})),Xn()(c).call(c,(function(t){return Gd(t)}))&&Q()(c).call(c,(function(t){var e,n=t.parentGridId;n&&!Tn()(l).call(l,n)&&s.push((0,J.createUpdateAction)([[n,{subGridId:L()(e=i.findControl(n).subGridId).call(e,(function(e){return e!==t.id}))}]]))})),O()(r=[o]).call(r,s)}function Mp(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Mp(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Mp(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Lp=function(t,e,n){var r=t.globalConfig,i=t.dataContext,o=t.selectionContext,a=t.action,u=t.dataFactory,l=t.modelFactory,c=a.value;if(c.length){var s=(0,B.c)(c,2),f=s[0],d=s[1],h=i.findControl(f),p=i.getRootId(),v=i.findControl(p),g=v.width-v.marginLeft-v.marginRight,m=i.findControl(f);if(Ud(m)&&"switchDataSource"===(null==d?void 0:d.methodName)){var y,C=d.dataSource,b=d.dataSourceText,x=d.dsType,w=[[f,{dataSource:C,dataSourceText:b,dsType:x,tableTailId:""}]],E=i.findControlByCondition((function(t){return t.parentId===f&&"LayoutCell"===t.type})),S=h.tableTailId,k=P()(E).call(E,(function(t){return t.id}));return O()(y=[(0,J.createDeleteAction)(S)]).call(y,(0,En.c)(Bp({dataContext:i,selectionContext:o,action:{type:J.ActionType.DELETE,value:k},globalConfig:r})),(0,En.c)(Cp({dataContext:i,selectionContext:o,action:{type:J.ActionType.UPDATE,value:w},globalConfig:r})))}if((jd(h)||Gd(h))&&"dataSource"in d){var A,D,I,T,M=h.x,R=h.y,L=h.width,F=h.type,_=h.parentGridId,N=h.subGridDirection,j=h.subGridId,G={type:F,parentId:p},U=d.dataSource,z=xd(u,l),Z=(null===(A=U[0])||void 0===A?void 0:A.bindText)||"";Z=Z?Z.replace(/(\S+)\.(\S+)(\.\S+)$/g,"$2"):"";var Q={parentGridId:_,subGridDirection:N},W=null!=j&&j.length?{subGridId:j}:{},V=Rp(Rp({dataSource:(null===(D=U[0])||void 0===D?void 0:D.dataSource)||"",dataSourceText:Z,width:"DataGrid"!==F||null!=j&&j.length?L:g},"DataGrid"===F?W:{}),"SubDataGrid"===F?Q:{}),H=z((0,at.c)({},G,{cellData:U,transferData:V}));H[0].x=M,H[0].y=R;var K=jd(h)?P()(I=H[0].subGridId||[]).call(I,(function(t){return"bottom"===i.findControl(t).subGridDirection?[t,{parentGridId:H[0].id,y:qf(H[0].y+H[0].height,1)}]:[t,{parentGridId:H[0].id}]})):[];return O()(T=[(0,J.createDeleteAction)(f)]).call(T,(0,En.c)(kp({dataContext:i,selectionContext:o,action:(0,J.createAddAction)(H,{isDealPos:!1}),globalConfig:r})),[(0,J.createUpdateAction)(K)])}return Cp({dataContext:i,selectionContext:o,action:{type:J.ActionType.UPDATE,value:[c]},globalConfig:r})}};var Fp=function(t,e,n,r){for(var i,o=[t.x,t.y].join("-"),a=["DataCell","LayoutCell","DataRow","DataColumn","Header"];null!==(u=r[n])&&void 0!==u&&Tn()(u).call(u,o)&&!Tn()(a).call(a,t.type);){var u,l,c,s;if(null===(l=r[n])||void 0===l||!Tn()(l).call(l,o))break;o=P()(c=o.split("-")).call(c,(function(t){return+t+5})).join("-");var f=P()(s=o.split("-")).call(s,(function(t){return+t})),d=(0,B.c)(f,2),h=d[0],p=d[1];if(e&&n){var v,g=h,m=p,y=!1,C=!1;if(h+t.width>e.width&&(y=!0,g=Math.max(e.width-t.width,0)),p+t.height>e.height&&(C=!0,m=Math.max(e.height-t.height,0)),o=O()(v="".concat(g,"-")).call(v,m),y&&C)break}}var b=P()(i=o.split("-")).call(i,(function(t){return+t})),x=(0,B.c)(b,2),w=x[0],E=x[1];return t.x=w,t.y=E,r[n]=r[n]||[],r[n].push([t.x,t.y].join("-")),t},_p=["type","value"];function Pp(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Np(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Pp(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Pp(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Op=(0,M.c)((0,M.c)((0,M.c)((0,M.c)({},J.ActionType.ADD,kp),J.ActionType.UPDATE,Cp),J.ActionType.CUSTOMUPDATE,Lp),J.ActionType.DELETE,Bp),jp=function(t){var e,n=t.action,r=t.dataContext,i=t.selectionContext,o=t.globalConfig,a=t.dataFactory,u=t.modelFactory,l=t.success,c=t.fail,s=(null===(e=o.positionRecordsRef)||void 0===e?void 0:e.current)||{},f=o.dataRef,d=o.keywordMapping,h=function(t){var e=[],n=P()(t).call(t,(function(t){var n=t.type,a=t.value,u=(0,Wn.c)(t,_p),l=(u||{}).isDealPos,c=void 0===l||l;if(n===J.ActionType.ADD||n===J.ActionType.PASTE){if(Qn()(a)){if(Q()(a).call(a,(function(t){t.key=(0,J.createUniqueKey)(t.key,t.type,f.current,d),f.current.push(t)})),Gd(a[0])){var h,p=zd(r).width,v=a[0],g=v.parentGridId,m=v.subGridDirection,C=v.id,b=r.findControl(g),x=b.width,w=b.x,E=b.height,S=b.fixedRowAtPage,k=b.fixedRowCount,A=r.findControlByCondition((function(t){return t.parentId===g&&"Detail"===t.rowType}))[0],D=(null==A?void 0:A.rowHeight)*(k-1),I=S?{fixedRowAtPage:!1,height:E-D}:{};if("right"===m&&c&&0===w&&p-x<1){var T,M=Cp({dataContext:r,selectionContext:i,globalConfig:o,action:(0,J.createUpdateAction)([[g,{width:Kf(p/2,1)}]])});null===(T=M[0])||void 0===T||null===(T=T.value)||void 0===T||Q()(T).call(T,(function(t){var e=(0,B.c)(t,2),n=e[0],r=e[1];if(n===g){var i=r.width;i&&i!==x&&(a[0].x=i)}})),e.push.apply(e,(0,En.c)(M))}var R="bottom"===m&&S?[[C,{y:Kf(y-D,1)}]]:[];e.push((0,J.createUpdateAction)(O()(h=[[g,Np({subGridId:[C]},I)]]).call(h,R)))}var L=c?P()(a).call(a,(function(t){var e=t.parentId;return Fp(t,fp(r.findControl(e)),e,s)})):a;return"addField"===(null==u?void 0:u.addType)&&L[1]&&L[0].x+L[0].width+L[1].width<=zd(r).width&&(L[1].x=L[0].x+L[0].width,L[1].y=L[0].y),(0,J.createAddAction)(L,u)}a.key=(0,J.createUniqueKey)(a.key,a.type,f.current,d),f.current.push(a);var F=a.parentId;return(0,J.createAddAction)(Fp(a,fp(r.findControl(F)),F,s),u)}return t}));l(O()(n).call(n,e))},p=[],v=n.type,g=Op[v];if(g){var m=g({globalConfig:o,dataContext:r,selectionContext:i,action:n,dataFactory:a,modelFactory:u},h,c);m&&p.push.apply(p,(0,En.c)(m))}else p.push(n);p.length&&h(p)},Gp="kd_print_kdcdc";function Up(t,e){var n=L()(e).call(e,(function(t){return"string"==typeof t[1]}));return n.length?t+"?"+P()(n).call(n,(function(t){var e;return O()(e="".concat(t[0],"=")).call(e,t[1])})).join("&"):t}function zp(){var t,e,n=window.location.href,r=(e={},(t=n)?(t.replace(/[?&]([^=&#]+)=([^&#]*)/g,(function(t,n,r){return void 0===e[n]&&""!==r&&(e[n]=r),""})),e):e),i=r.accountId,o=r.accountid,a=r.kdcdc,u=i||o||a,l=window.sessionStorage.getItem(Gp);return u&&window.sessionStorage.setItem(Gp,u),u||l}var Zp=["title"];function Qp(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Qp(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Qp(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}W.Collapse.Panel;var Jp=(0,H.memo)((function(t){var e,n=t.meta,r=void 0===n?[]:n,i=(0,H.useState)(!1),o=(0,B.c)(i,2),a=o[0],u=o[1],l=(0,H.useState)(!0),c=(0,B.c)(l,2),s=c[0],f=c[1],d=(0,H.useContext)(J.DataContext),h=(0,H.useContext)(J.SelectionContext),p=(0,H.useContext)(bn),v=p.setMessage,g=p.definition,m=void 0===g?{}:g,y=p.prefixCls,b="".concat(y,"-left-view"),x=(0,H.useState)(!1),w=(0,B.c)(x,2),E=(w[0],w[1],(0,H.useContext)(J.GlobalConfigContext)),S=E.handleOpenCustomDsModal,k=E.handleOpenRefDsModal,A=E.keywordMapping,D=d.getRootId(),I=(d.findControl(D).language,$f(d)),T=(0,H.useContext)(J.DataFactoryContext),M=T.dataFactory,R=T.modelFactory,L=T.controlMetaInfo,F=(0,J.useActivedSelectedId)({dataContext:d,selectionContext:h}).activedSelectId,_=_n({dataContext:d,selectionContext:h,meta:r,activedSelectId:F,modelFactory:R}),P=M,N=(0,H.useMemo)((function(){var t,e;return"SubDataGrid"===(null===(t=d.findControl(null===(e=d.findControl(F))||void 0===e?void 0:e.parentId))||void 0===t?void 0:t.type)?{isContainer:!1,accept:""}:(0,J.getControlIsContainer)(L,d.findControl(F),A)}),[F,L]),j=N.isContainer,U=N.accept,z=(0,H.useState)(0)[1];(0,H.useEffect)((function(){var t=d.addDataChangeListener((function(t){t.type;z((function(t){return t+1}))}));return function(){t&&t()}}),[]);return J.console.log("renderView DataSourceView"),K().createElement("div",{className:Hn()(b,"".concat(b,"-datasource"))},K().createElement("div",{className:Hn()("".concat(b,"-datasource-header"))},K().createElement("div",{className:Hn()("".concat(b,"-datasource-action"),{hide:I})},K().createElement("div",{onClick:k},K().createElement(W.Icon,{prefix:"printdesignericon",type:"guanlian"}),K().createElement("span",null,(0,J.getLangMsg)("printd.grid.key0099"))),K().createElement("div",{onClick:S},K().createElement(W.Icon,{prefix:"printdesignericon",type:"tianjia"}),K().createElement("span",null,(0,J.getLangMsg)("printd.grid.key0100")))),K().createElement(Zr,{draggable:!0,scrollToKey:_,meta:r,definition:m,onSelect:function(t,e,n){var r,i;J.console.log("dataSourceView--------",e);var o=d.getRootId(),a=(d.findControl(o).height,Y().last(O()(r=[o]).call(r,(0,En.c)(h.getSelection())))),u=d.findControl(a),l=e.type,c=void 0===l?"Text":l,f=e.Items,p=e.InitAttr,g=void 0===p?{}:p,y=e.isDataGridDs;e.dsType,e.isSubDataGridDs;if(!f){var b=ar(e,m),x=b.title,w=(0,Wn.c)(b,Zp),E=(0,at.c)({},G()(i=C()(g)).call(i,(function(t,e){return t[Y().camelCase(e)]=g[e],t}),{}),w);if(u){var S=u.type,k=u.parentId,A=u.id,D=(u.cellType,u.statType),I=cr(d,A,"CardGrid");if(I){var T=kr(I,m);if(!Dr(T,null==b?void 0:b.dataSource))return v((0,J.getLangMsg)("printd.grid.key0095"))}if("Text"===S){var B=d.findControl(k),M=B.type,R=B.cellType,L=B.parentId;if("DataCell"===M&&"Detail"===R){var F,_=d.findControl(L),N=_.type,z=_.dataSource,Z=["Entry","ReportEntry","Subentry","Workflow","Report","Approveline","Sys"],Q=Tn()(F=["=getGroupRowNumber()","=getRowNumber()"]).call(F,E.bindField),W=z&&(E.dataSource===z||!Tn()(Z).call(Z,E.dsType));if("DataGrid"===N&&!(Q||W||!z&&y))return v((0,J.getLangMsg)("printd.grid.key0037"))}return d.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[a,Wp(Wp({},E),{},{viewText:"=$".concat(x)})]]))}if("DataCell"===S)return Ad(e,u,d,{initAttr:E,title:x},v,m);if("LayoutCell"===S){var V,H=d.findControl(k).parentId,K=d.findControl(H),q="=$".concat(x);if(K&&"TableTail"===K.type)q="noStat"!==D?O()(V="=".concat(D,"(")).call(V,x,")"):"=$".concat(x);return Sd(A,d,Wp(Wp({},E),{},{viewText:q}))}}if("Text"===c){var X=P({type:c,parentId:j?a:o,transferData:{bindText:x}}),$=s?{x:(+X.x||0)+(+X.width||0)}:{},tt=P({type:c,parentId:j?a:o,transferData:(0,at.c)({},E,Wp(Wp({},$),{},{viewText:"=$".concat(x)}))}),et=s?[X,tt]:[tt];d.addControl((0,J.createAddAction)(et,{addType:"addField"})).then((function(){h.setSelect(s?[X.id,tt.id]:[tt.id])}))}else{if(c===pn.richText&&j&&U&&!Tn()(U).call(U,c))return;var nt=P({type:c,parentId:j?a:o,transferData:E});d.addControl((0,J.createAddAction)(nt)).then((function(){h.setSelect([nt.id])}))}}},showDefinitionId:a,showDataSourceTitle:s})),K().createElement("div",{className:O()(e="".concat(b,"-datasource-checkbox ")).call(e,b,"-datasource-checkbox-limit-width")},K().createElement(W.Checkbox,{checked:a,onChange:function(t){var e=!!t.target.checked;u(e)}},K().createElement("span",{title:(0,J.getLangMsg)("printd.grid.key0101")},(0,J.getLangMsg)("printd.grid.key0101"))),K().createElement(W.Checkbox,{checked:s,onChange:function(t){var e=!!t.target.checked;f(e)}},K().createElement("span",{title:(0,J.getLangMsg)("printd.grid.key0102")},(0,J.getLangMsg)("printd.grid.key0102")),K().createElement(W.Tooltip,{placement:"right",tip:(0,J.getLangMsg)("printd.grid.key0103"),style:{marginLeft:"5px"}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"tishixinxi"})))))}));Jp.getTabName=function(){return(0,J.getLangMsg)("printd.grid.key0111")},Jp.tabKey="dataSource";var Vp=Jp;function Hp(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Hp(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Hp(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var qp=W.Collapse.Panel,Yp=function(t){var e=t.Categories,n=t.Controls;return P()(e).call(e,(function(t){var e=t.Id,r=L()(n).call(n,(function(t){return t.CategoryId===e}));return Kp(Kp({},t),{},{Controls:r})}))},Xp=function(t){var e=t.Id,n=(t.Name,t.createControlData),r=t.className,i=t.getOutlineItemIcon,o=t.activedSelectId,a=t.isContainer,u=t.env,l=t.Tips,c=t.Visible,s=void 0===c||c,f=(0,H.useState)(!1),d=(0,B.c)(f,2),h=d[0],p=d[1],v=(0,H.useContext)(J.DataContext),g=(0,H.useContext)(J.SelectionContext),m=v.getRootId(),y=(0,H.useCallback)((function(){var t=n({type:e,parentId:a?o:m});v.addControl((0,J.createAddAction)(t)).then((function(t){var e=t[0].value;g.setSelect(Qn()(e)?[e[0].id]:[e.id])}))}),[e,o]),C=(0,H.useCallback)((function(e){var n={type:"control",data:t};u[J.CONTROL_DRAG_DATA]=n,p(!1)}),[t]),b=(0,H.useCallback)((function(t){p(t)}),[]);return s?K().createElement("div",{className:"".concat(r,"-control")},l?K().createElement(W.Tooltip,{placement:"right",tip:l||"",visible:h,onVisibleChange:b},K().createElement("div",{className:"".concat(r,"-control-content"),draggable:!0,onDragStart:C,onClick:y},i(e),K().createElement("span",{title:t.Name},t.Name))):K().createElement("div",{className:"".concat(r,"-control-content"),draggable:!0,onDragStart:C,onClick:y},i(e),K().createElement("span",{title:t.Name},t.Name))):null},$p=function(t){var e=t.meta,n=void 0===e?[]:e,r=(0,H.useContext)(J.ConfigContext).getPrefixCls,i=(0,H.useContext)(bn).prefixCls,o=(0,H.useRef)(null),a=(0,H.useState)(""),u=(0,B.c)(a,2),l=u[0],c=u[1],s=(0,H.useState)((function(){return Yp(n)})),f=(0,B.c)(s,2),d=f[0],h=f[1],p=(0,H.useState)(d),v=(0,B.c)(p,2),g=v[0],m=v[1],y=(0,H.useContext)(J.DataContext),b=(0,H.useContext)(J.SelectionContext),x=(0,J.useActivedSelectedId)({dataContext:y,selectionContext:b}).activedSelectId,w=(0,H.useContext)(J.GlobalConfigContext),E=w.getOutlineItemIcon,S=w.enableSearch,k=w.env,A=w.keywordMapping,D=r(i,"left-view"),I=(0,H.useContext)(J.DataFactoryContext),T=I.dataFactory,M=I.controlMetaInfo,R={getOutlineItemIcon:E,createControlData:T},F=(0,H.useMemo)((function(){var t,e,n;if("SubDataGrid"===(null===(t=y.findControl(null===(e=y.findControl(x))||void 0===e?void 0:e.parentId))||void 0===t?void 0:t.type))return{isContainer:!1,accept:""};var r=y.findControl(x);return Tn()(n=C()(M)).call(n,r.type)?(0,J.getControlIsContainer)(M,r,A):{isContainer:!1,accept:""}}),[x]),N=F.isContainer,O=F.accept,j=(0,H.useMemo)((function(){return!!O&&!g.length}),[O,g]),G=(0,H.useMemo)((function(){var t;return l?L()(t=P()(g).call(g,(function(t){var e;if("HiddenControl"===t.Id)return null;var n=L()(e=t.Controls).call(e,(function(t){var e;return-1!==kn()(e=t.Name).call(e,l)}));return 0===n.length?null:Kp(Kp({},t),{},{Controls:n})}))).call(t,Boolean):g}),[l,g]);(0,H.useEffect)((function(){h((function(){return Yp(n)}))}),[n]),(0,H.useEffect)((function(){m((function(){var t;if(!O)return d;var e=L()(t=P()(d).call(d,(function(t){var e;if("HiddenControl"===t.Id)return null;var n=L()(e=t.Controls).call(e,(function(t){return Tn()(O).call(O,t.Id)}));return 0===n.length?null:Kp(Kp({},t),{},{Controls:n})}))).call(t,Boolean);return e}))}),[O,d]);var U=(0,H.useCallback)((function(){var t,e=null===(t=o.current)||void 0===t?void 0:t.value;c(e)}),[n,g]);return j?K().createElement("div",{className:"".concat(D,"-props-empty")},K().createElement("img",{className:"".concat(D,"-props-empty-img"),src:Pn,width:"168",height:"96",alt:(0,J.getLangMsg)("printd.grid.key0104")}),K().createElement("div",{className:"".concat(D,"-props-empty-desc")},(0,J.getLangMsg)("printd.grid.key0002"))):K().createElement("div",{className:"".concat(D,"-control-tabs")},S&&K().createElement("div",{className:"".concat(D,"-control-search")},K().createElement(W.Input,{className:"".concat(D,"-control-search-input"),ref:o,placeholder:(0,J.getLangMsg)("printd.grid.key0097"),borderType:"bordered",onChange:_.debounce(U,250),allowClear:!0,suffix:K().createElement("div",{onClick:U},K().createElement(W.Icon,{type:"search"}))})),P()(G).call(G,(function(t){var e;return"HiddenControl"===t.Id?null:K().createElement(W.Collapse,{animatable:!1,name:"Collapse",key:t.Id,defaultActiveKey:t.Id,expandIconPosition:"right",className:"".concat(D,"-collapse")},K().createElement(qp,{header:t.Name,panelKey:t.Id},K().createElement("div",{className:"".concat(D,"-pane")},P()(e=(null==t?void 0:t.Controls)||[]).call(e,(function(t){return K().createElement(Xp,(0,at.c)({key:t.Id},t,R,{className:D,activedSelectId:x,isContainer:N,env:k}))})))))})))},tv=(0,H.memo)((function(t){var e=(0,H.useContext)(Ef).getPrefixCls,n=(0,H.useContext)(bn).prefixCls,r=(0,H.useContext)(J.DataContext),i=(e(n,"left-view"),r.getRootId()),o=(r.findControl(i).language,(0,H.useState)(0)[1]);return(0,H.useEffect)((function(){var t=r.addDataChangeListener((function(t){t.type;o((function(t){return t+1}))}));return function(){t&&t()}}),[]),K().createElement($p,t)}));tv.tabKey="ControlView",tv.getTabName=function(){return(0,J.getLangMsg)("printd.grid.key0106")};var ev=tv,nv=n(2480);function rv(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function iv(t,e){var n,r=null!==(n=null==t?void 0:t.current)&&void 0!==n?n:t;if(!r)return null;var i=e||{x:0,y:0},o=i.x,a=i.y,u={x:r.x()-o,y:r.y()-a,height:r.height(),width:r.width()},l=u.x,c=u.y,s=u.height,f=u.width;return Xf({x:Math.max(l,0),y:Math.max(c,0),left:Math.max(l,0),top:Math.max(c,0),width:f,height:s,right:l+f,bottom:c+s})}function ov(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},r=n.x,i=n.y,o=null!==(e=null==t?void 0:t.current)&&void 0!==e?e:t;if(!o)return null;var a=o.height(),u=o.width(),l=function(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=rv(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=rv(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}({},o.getAbsolutePosition()),c=l.x,s=l.y;return Xf({x:Math.max(c-r,0),y:Math.max(s-i,0),left:Math.max(c-r,0),top:Math.max(s-i,0),width:u,height:a,right:c-r+u,bottom:s-i+a})}var av=function(t,e){var n=t.target;if((null==n?void 0:n.id())!==e)return!0},uv=function(t){var e=t.id,n=t.shapeRef,r=t.refLineRef,i=t.onDragStart,o=t.onDragMove,a=t.onDragEnd,u=t.parentId,l=t.context,c=t.scale,s=void 0===c?1:c,f=!1,d=(0,H.useRef)({}),h=(0,H.useRef)({}),p=(0,H.useRef)([]),v=function(t){var e=l.stageRef,r=l.rootControlRef,i=(l.rootId,l.selectionContext,e.current),o=r.current,a=i.findOne("#".concat(u)),c=iv(n),s=(c.width,c.height,h.current),f=s.topDis,d=s.bottomDis,p=s.leftDis,v=s.rightDis,g=Kf(o.width(),1),m=Kf(o.height(),1),y=Xf(ov(a||o)),C=y.x,b=void 0===C?0:C,x=y.y,w=void 0===x?0:x,E=y.right,S=void 0===E?g:E,k=y.bottom,A=void 0===k?m:k,D=t.x,I=t.y;return J.console.log("xxx",D,I,{topDis:f,bottomDis:d,leftDis:p,rightDis:v},iv(a)),p+v>g||d+f>m?(D-p<b&&(J.console.log("dragBoundFunc x",D),D=b+p,J.console.log("dragBoundFunc x",D,p,b)),I-f<w&&(J.console.log("dragBoundFunc y",I),I=w+f,J.console.log("dragBoundFunc y",I,f,w)),{x:D,y:I}):(D-p<b&&(J.console.log("dragBoundFunc x",D),D=b+p,J.console.log("dragBoundFunc x",D,p,b)),D+v>S&&(J.console.log("dragBoundFunc x1",D),D=S-v,J.console.log("dragBoundFunc x1",D,v,S)),I-f<w&&(J.console.log("dragBoundFunc y",I),I=w+f,J.console.log("dragBoundFunc y",I,f,w)),I+d>A&&(J.console.log("dragBoundFunc y1",I),I=A-d,J.console.log("dragBoundFunc y1",I,A,d)),{x:D,y:I})};return{dragBoundFunc:v,onDragStart:function(t){var r;if(!av(t,e)){var o=t.target,a=l.stageRef,u=l.selectionContext,c=l.dataContext,s=(l.dragGroupRef,o.attrs),f=s.x,v=s.y,g=o.getAbsolutePosition(),m=g.x,y=g.y,b=u.getSelection(),x=(0,En.c)(b),w=function(t){if(jd(t)||Ud(t)){var e=t.subGridId,n=t.tableTailId;n&&(x.push(n),p.current.push(n)),null!=e&&e.length&&Q()(e).call(e,(function(t){Tn()(b).call(b,t)||(x.push(t),p.current.push(t))}))}if(Gd(t)){var r=t.parentGridId;r&&(Tn()(b).call(b,r)||(x.push(r),p.current.push(r)))}if(qd(t)){var i=t.parentGridId;x.push(i),p.current.push(i)}};w(c.findControl(e)),Q()(b).call(b,(function(t){var e=c.findControl(t);w(e)}));var E=L()(r=P()(x).call(x,(function(t){var e=a.current.findOne("#".concat(t));return(null==e?void 0:e.draggable())&&e}))).call(r,Boolean),S=L()(E).call(E,(function(e){return e!==t.target}));J.console.log("onDragStart",S),a.current.dragStartMousePos=a.current.getPointerPosition();var k=G()(S).call(S,(function(t,e){var n=e.attrs,r=n.id,i=(n.x,n.y,n.draggable),o=e.getAbsolutePosition(),a=o.x,u=o.y;return i?(t[r]={xDis:m-a,yDis:y-u},t):t}),{});d.current=k;var A=G()(E).call(E,(function(t,e){var n=e.attrs,r=n.x,i=n.y,o=n.width,a=i,u=i+n.height,l=r,c=r+o;if(C()(t).length){var s=t,f=s.top,d=s.bottom,h=s.left,p=s.right;t={top:a<f?a:f,bottom:u>d?u:d,left:l<h?l:h,right:c>p?c:p}}else t={top:a,bottom:u,left:l,right:c};return t}),{});h.current={topDis:v-A.top,bottomDis:A.bottom-v,leftDis:f-A.left,rightDis:A.right-f};var D=iv(n);i&&i(D,t)}},onDragEnd:function(t){if(!av(t,e)){var i=t.target.attrs,o=i.x,u=i.y,c=(l.dataContext,l.selectionContext,l.controlGroupRef,l.stageRef,(r.current||{}).hideRefLines),v=iv(n);if(c&&c(),Y().isEmpty(d.current))a&&a(v,t);else{var g,m,y=L()(g=P()(m=C()(d.current)).call(m,(function(t){var e,n=d.current[t],r=n.xDis,i=n.yDis;if(!Tn()(e=p.current).call(e,t))return[t,{x:Vf(o-r,s),y:Vf(u-i,s)}]}))).call(g,Boolean);a&&a(v,t,y)}d.current={},h.current={},p.current=[],f&&(f=!1,window.requestIdleCallback?window.requestIdleCallback((function(){document.body.style.cursor="default"}),{timeout:30}):lt()((function(){document.body.style.cursor="default"}),30))}},onDragMove:function(t){var r;if(!av(t,e)){var i=t.target,a=l.stageRef,u=(l.selectionContext,l.getRedundancyXY),c=(l.rootControlRef,(l.rulerRef.current||{}).operateLine),s=o&&o(t,E,v),h=i.getAbsolutePosition(),p=h.x,g=h.y,m=(0,at.c)({},s||{}),y=m.x,b=m.y,x=Y().isUndefined(y)?p:y,w=Y().isUndefined(b)?g:b;Q()(r=C()(d.current)).call(r,(function(t){var e,n=d.current[t],r=n.xDis,i=n.yDis,o=a.current.findOne("#".concat(t));o.draggable()&&(o.setAbsolutePosition({x:x-r,y:w-i}),null===(e=a.current.findOne("#transformer_".concat(t)))||void 0===e||e.forceUpdate())})),f||(f=!0,window.requestIdleCallback?window.requestIdleCallback((function(){document.body.style.cursor="move"}),{timeout:30}):lt()((function(){document.body.style.cursor="move"}),30));var E=ov(n,u());c&&c((0,at.c)(E,{top:E.y,left:E.x}))}}}};function lv(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function cv(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=lv(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=lv(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}function sv(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null!==(e=t.current)&&void 0!==e?e:t,o=null==i?void 0:i.scaleX(),a=null==i?void 0:i.scaleY(),u=cv(cv({},n?i.getAbsolutePosition():{x:Math.max(i.x()+i.getParent().x(),0),y:Math.max(i.y()+i.getParent().y(),0)}),{},{width:i.width()*o,height:i.height()*a}),l=u.height,c=u.width,s=u.x,f=u.y;return r&&(i.scaleX(1),i.scaleY(1),i.x(0),i.y(0),J.console.log(i)),{x:Math.max(s,0),y:Math.max(f,0),width:c,height:l,right:s+c,bottom:f+l,scaleX:o,scaleY:a}}var fv=function(t){var e=t.shapeRef,n=t.refLineRef,r=t.onTransform,i=t.onTransformEnd,o=t.context;t.id;return{onTransform:function(t){(n.current||{}).searchRefLines;var i=(o.rulerRef.current||{}).operateLine,a=(0,o.getRedundancyXY)(),u=a.x,l=a.y,c=sv(e,!0),s=(c.scaleX,c.scaleY,c.x,c.y,c.width,c.height,c.x-u),f=c.y-l;i&&i((0,at.c)(c,{top:f,left:s,x:s,y:f})),r&&r(c,t)},onTransformEnd:function(t){var r=(n.current||{}).hideRefLines,a=(o.getRedundancyXY,o.marginLeft,o.marginTop,0),u=0,l=sv(e,!1,!0),c=l.scaleX,s=l.scaleY,f=l.x,d=l.y,h=l.width,p=l.height;J.console.log("onTransformEnd",{x:Math.max(f,0),y:Math.max(d,0),width:h,height:p,right:f+h,bottom:d+p,scaleX:c,scaleY:s},t);var v=l.x-a,g=l.y-u;i&&i((0,at.c)(l,{top:g,left:v,x:v,y:g}),t),r&&r()}}},dv=function(t){t.isSelected,t.refs,t.pixelRatio,t.scale,t.currentProp},hv=function(t){return function(e,n){var r;Qn()(e.current)?Q()(r=e.current).call(r,(function(e){return e[t]&&e[t](n)})):e.current&&e.current[t](n)}},pv=hv("strokeEnabled"),vv=hv("stroke"),gv=function(t){var e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Qn()(t.current)?o?null===(e=t.current[0])||void 0===e||null===(e=e.getLayer())||void 0===e||e.batchDraw():Q()(n=t.current).call(n,(function(t){return null==t?void 0:t.draw()})):o?null===(r=t.current)||void 0===r||r.getLayer().batchDraw():null===(i=t.current)||void 0===i||i.draw()},mv=function(t){var e=t.shapeRef,n=t.isSelected,r=t.shapeRefStroke,i=void 0===r?oe:r,o=t.controlStrokeRef,a=t.strokeEnabled,u=!1,l=(0,H.useCallback)((function(){var t;n||(null===(t=o.current)||void 0===t||t.mouseEnter(ae),!a&&pv(e,!a),vv(e,ae),gv(e,!0),J.console.log("DEFAULT_HOVER_BORDER_COLOR",ae,e),J.console.log("DEFAULT_HOVER_BORDER_COLOR",e.current.stroke()));return!0}),[n,i,a,u]),c=(0,H.useCallback)((function(){var t,r;n||(!a&&pv(e,a),null===(t=o.current)||void 0===t||t.mouseLeave(),vv(e,""),i&&vv(e,i),J.console.log("onMouseOut",e,i,null===(r=e.current)||void 0===r?void 0:r.stroke()),gv(e,!0));return!0}),[n,i,a,u]);return(0,H.useEffect)((function(){var t;i&&(pv(e,a),null===(t=o.current)||void 0===t||t.mouseLeave(),vv(e,i),gv(e,!0))}),[n,i,a,u]),{onMouseOut:c,onMouseOver:l}},yv=function(t){var e=t.shapeRef,n=t.isNotNeed;(0,H.useEffect)((function(){var t=function(t){var n,r;(J.console.log("e.ctrlKe shapeRef.current?.stopDrag()"),null!==(n=e.current)&&void 0!==n&&n.isDragging())&&(null===(r=e.current)||void 0===r||r.stopDrag())};return!n&&document.addEventListener("keydown",t),function(){!n&&document.removeEventListener("keydown",t)}}),[n])},Cv=function(t){var e=t.id,n=t.refLineRef;return(0,H.useCallback)((function(t,r,i){var o=(n.current||{}).searchRefLines,a=o&&o(e);if(a&&!Y().isEmpty(a)){var u=a.selectedNode,l=a.x,c=a.y,s=a.refX,f=a.refY,d=i({x:Y().isUndefined(s)?l:s,y:Y().isUndefined(f)?c:f}),h=d.x,p=d.y;return u.absolutePosition({x:h,y:p}),{x:h,y:p}}}),[])},bv=n(89280),xv=n(40900),wv=n.n(xv);function Ev(t,e,n){return e=(0,qu.c)(e),(0,Ku.c)(t,Sv()?Hu()(e,n||[],(0,qu.c)(t).constructor):e.apply(t,n))}function Sv(){try{var t=!Boolean.prototype.valueOf.call(Hu()(Boolean,[],(function(){})))}catch(t){}return(Sv=function(){return!!t})()}var kv=function(t){return"".concat(t).replace("#","")},Av=function(t){function e(t){var n,r,i,o,a,u;return(0,$u.c)(this,e),(u=Ev(this,e,[t])).state={color:kv(t.color),alpha:t.alpha,isCheck:!1},u.clickFunc=Mn()(n=u.clickFunc).call(n,(0,bv.c)(u)),u.changeColorFromItems=Mn()(r=u.changeColorFromItems).call(r,(0,bv.c)(u)),u.handleKeyDown=Mn()(i=u.handleKeyDown).call(i,(0,bv.c)(u)),u.handleChangeText=Mn()(o=u.handleChangeText).call(o,(0,bv.c)(u)),u.handleBlur=Mn()(a=u.handleBlur).call(a,(0,bv.c)(u)),u}return(0,Yu.c)(e,t),(0,Xu.c)(e,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickFunc)}},{key:"componentWillReceiveProps",value:function(t){this.props.color!==t.color&&this.setState({color:kv(t.color)})}},{key:"componentDidUpdate",value:function(){this.props.showPanel?document.addEventListener("click",this.clickFunc):document.removeEventListener("click",this.clickFunc)}},{key:"clickFunc",value:function(t){for(var e=t.target;e;){if(e===qr().findDOMNode(this))return;e=e.parentNode}this.closePanel()}},{key:"createColorItems",value:function(){var t=this;if(this.props.showPanel){var e=Y().flatten(this.props.colors);return P()(Y()).call(Y(),e,(function(e,n){var r={backgroundColor:e="current"===e?t.props.color||"#ffffff":e};return K().createElement("span",{key:n,className:Hn()("colorItem","kd-cq-color-picker-color-block"),title:e,style:r,onClick:function(n){return t.changeColorFromItems({color:e&&(ol()(e).call(e,"#")?Dn()(e).call(e,1):e),alpha:t.state.alpha})}})}))}return null}},{key:"closePanel",value:function(){this.props.onClosePanel()}},{key:"changeColorFromItems",value:function(t){var e=t.color,n=t.alpha;this.state.isCheck||this.changeColor({color:e,alpha:n})}},{key:"changeColor",value:function(t){var e=this,n=t.color,r=t.alpha;this.setState({color:n,alpha:r},(function(){n.match(/^([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/)?e.props.onChange({color:"#"+n,alpha:r}):/^themeColor/.test(n)&&e.props.onChange({color:n,alpha:r})}))}},{key:"handleChangeText",value:function(t){var e=t.target.value;this.setState({color:e,alpha:this.state.alpha})}},{key:"handleChangeAlpha",value:function(t){var e=this.state.color,n=t.target.value;n<0||n>100||this.changeColor({color:e,alpha:n})}},{key:"handleKeyDown",value:function(t){13===t.keyCode&&this.changeColorFromItems({color:this.state.color,alpha:this.state.alpha})}},{key:"handleBlur",value:function(t){this.changeColorFromItems({color:this.state.color,alpha:this.state.alpha})}},{key:"render",value:function(){var t,e,n=this.props,r=(n.color,n.alpha),i=(n.defaultColor,n.poperContainer);this.state.isCheck;var o=null==i?void 0:i.current,a=null!==(t=null==i||null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect())&&void 0!==t?t:{},u=a.left,l=void 0===u?0:u,c=a.top,s=void 0===c?0:c;return o?qr().createPortal(K().createElement("div",{ref:this.props.colorPickerRef,className:"colorPicker",style:{position:"absolute",top:s-77+39,left:l,zIndex:1050}},this.props.showPanel?K().createElement("div",{className:Hn()("colorPanel","kd-cq-color-picker kd-cq-printd-color-picker")},K().createElement("div",{className:"colors"},this.createColorItems(),K().createElement("div",{className:"footer"},K().createElement("div",{className:Hn()("colorInfo","kd-cq-color-picker-color-block"),style:{backgroundColor:"#".concat(this.state.color)}}),K().createElement("span",{className:"text"},(0,J.getLangMsg)("printd.grid.key0015")),K().createElement("div",{className:"customColorInput"},K().createElement("span",{className:"punctuation"},"#"),K().createElement("input",{placeholder:(0,J.getLangMsg)("printd.grid.key0016"),value:this.state.color,onChange:this.handleChangeText,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur}))))):null),document.body):K().createElement("div",{className:"colorPicker"},this.props.showPanel?K().createElement("div",{className:Hn()("colorPanel","kd-cq-color-picker kd-cq-printd-color-picker")},K().createElement("div",{className:"colors"},this.createColorItems(),K().createElement("div",{className:"footer"},K().createElement("div",{className:Hn()("colorInfo","kd-cq-color-picker-color-block"),style:{backgroundColor:"#".concat(this.state.color)}}),K().createElement("span",{className:"text"},(0,J.getLangMsg)("printd.grid.key0015")," "),K().createElement("div",{className:"customColorInput"},K().createElement("span",{className:"punctuation"},"#"),K().createElement("input",{placeholder:(0,J.getLangMsg)("printd.grid.key0016"),value:this.state.color,onChange:this.handleChangeText,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur}))))):null)}}]),e}(K().Component);Av.propTypes={color:wv().string,alpha:wv().number,defaultColor:wv().string,onChange:wv().func},Av.defaultProps={colors:[["#45cdff","#3dccc0","#40bd6e","#99d92b","#ffd52e","#ffb44a","#ff854d","#ff5257","#ff3b72","#9a4dff","#3987ed","#5797ff"],["#16b0f1","#16b8b1","#1ba854","#77c404","#fdc200","#ff991c","#ff5f1f","#fb2323","#f90d58","#701df0","#0e5fd8","#276ff5"],["#ffffff","#fafafa","#f5f5f5","#f2f2f2","#e5e5e5","#d9d9d9","#cccccc","#999999","#666666","#404040","#212121","#000000"]],alpha:100,color:"#ffffff",defaultColor:"#ffffff"};var Dv=Av,Iv=function(t){var e=t.value,n=t.handleChange,r=t.enable,i=t.setColorPickVisible,o=t.setMoreBarVisible,a=(0,H.useState)(null),u=(0,B.c)(a,2),l=u[0],c=u[1],s=(0,H.useState)(an),f=(0,B.c)(s,2),d=f[0],h=(f[1],(0,H.useRef)(null)),p=(0,H.useRef)(null),v=(0,H.useRef)(null);return(0,J.useOnClickOutside)([h,v,p],(function(){})),(0,H.useEffect)((function(){r||(c(!1),i(!1),o(!1))}),[r]),(0,H.useEffect)((function(){r&&l&&i(!0)}),[l,r]),K().createElement(K().Fragment,null,K().createElement("svg",{ref:h,className:Hn()(["navtool-icon",{"editor-panel-visible":l}]),width:"200",height:"200",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",onClick:function(){c(!1),n(e)}},K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0014")),K().createElement("g",{id:"油漆桶",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("g",{id:"编组",transform:"translate(2.810513, 0.777902)"},K().createElement("rect",{id:"矩形备份-3",stroke:"#D9D9D9","stroke-width":"0.5",fill:e,x:"-0.060513479",y:"15.9720982",width:"14.5",height:"2.5",rx:"1"}),K().createElement("path",{d:"M7.35237743,0.219669914 L8.05948421,0.926776695 L8.06299995,0.931 L12.8033719,5.58910098 C13.6474203,6.41866449 13.6988871,7.75029176 12.9455484,8.64490829 L12.82651,8.7757058 L7.52324583,14.07897 C6.68640806,14.9158077 5.35438522,14.9556572 4.47038697,14.1985182 L4.34126532,14.07897 L0.658927543,10.3966322 C-0.177910225,9.55979443 -0.217759275,8.22777195 0.539946158,7.34320727 L0.659583703,7.21399633 L6.45599995,1.445 L6.29171726,1.28033009 C5.99882404,0.987436867 5.99882404,0.512563133 6.29171726,0.219669914 C6.58461048,-0.0732233047 7.05948421,-0.0732233047 7.35237743,0.219669914 Z M12.7772674,11.2000162 C12.8448732,11.2253684 12.8982166,11.2787118 12.9235688,11.3463177 L13.6628014,13.3176044 C13.8643815,13.8551514 13.5920265,14.4543322 13.0544796,14.6559123 C12.9377675,14.6996794 12.8141351,14.7220982 12.6894865,14.7220982 C12.1153861,14.7220982 11.6499858,14.2566979 11.6499858,13.6825975 C11.6499858,13.557949 11.6724047,13.4343165 11.7161717,13.3176044 L12.4554042,11.3463177 C12.5038843,11.2170376 12.6479873,11.1515362 12.7772674,11.2000162 Z M7.52128565,2.50147715 L2.77699995,7.222 L11.9757231,7.22266041 C11.9821309,7.05395544 11.9319029,6.8835921 11.8253092,6.74250292 L11.751965,6.65901613 L7.52128565,2.50147715 Z",id:"形状结合",fill:"#404040"})))),K().createElement(W.Icon,{ref:v,type:d,className:Hn()(["navtool-icon-arrow",{"editor-panel-visible":l}]),onClick:function(){r&&c(!l)}}),K().createElement(Dv,{colorPickerRef:p,poperContainer:h,showPanel:l&&r,color:e,onClosePanel:function(){c(!1)},onChange:function(t){var e=t.color;n(e)}}))},Tv=function(t){var e=t.value,n=t.handleChange,r=t.enable,i=t.setColorPickVisible,o=t.setMoreBarVisible,a=(0,H.useState)(null),u=(0,B.c)(a,2),l=u[0],c=u[1],s=(0,H.useState)(an),f=(0,B.c)(s,2),d=f[0],h=(f[1],(0,H.useRef)(null)),p=(0,H.useRef)(null),v=(0,H.useRef)(null);return(0,J.useOnClickOutside)([p,v,h],(function(){})),(0,H.useEffect)((function(){r||(c(!1),i(!1),o(!1))}),[r]),(0,H.useEffect)((function(){r&&l&&i(!0)}),[l,r]),K().createElement(K().Fragment,null,K().createElement("svg",(0,M.c)({ref:p,className:Hn()(["navtool-icon",{"editor-panel-visible":l}]),width:"200",height:"200",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",onClick:function(){}},"onClick",(function(){c(!1),n(e)})),K().createElement("title",null,(0,J.getLangMsg)("printd.grid.key0017")),K().createElement("g",{id:"文字颜色",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},K().createElement("g",{id:"编组",transform:"translate(3.000000, 1.225936)"},K().createElement("path",{d:"M7.10199875,0.000488183945 C7.39408208,-0.0100860974 7.67791213,0.151661551 7.80920279,0.433215284 L7.80920279,0.433215284 L13.7258585,13.1215243 C13.9009127,13.4969293 13.7384963,13.9431646 13.3630913,14.1182188 C12.9876863,14.2932731 12.541451,14.1308567 12.3663968,13.7554517 L12.3663968,13.7554517 L10.2754569,9.274 L3.87745688,9.274 L1.7883667,13.7554517 C1.61331249,14.1308567 1.16707714,14.2932731 0.791672168,14.1182188 C0.416267191,13.9431646 0.253850808,13.4969293 0.428905024,13.1215243 L6.34556069,0.433215284 C6.48061111,0.143598729 6.77706251,-0.0192517453 7.07787471,0.00182180938 Z M7.07645688,2.413 L4.57645688,7.774 L9.57645688,7.774 L7.07645688,2.413 Z",id:"形状结合",fill:"#404040"}),K().createElement("rect",{id:"矩形备份-2",stroke:"#D9D9D9","stroke-width":"0.5",fill:e,x:"-0.25",y:"15.5240643",width:"14.5",height:"2.5",rx:"1"})))),K().createElement(W.Icon,{ref:v,type:d,className:Hn()(["navtool-icon-arrow",{"editor-panel-visible":l}]),onClick:function(){r&&c(!l)}}),K().createElement(Dv,{colorPickerRef:h,poperContainer:p,showPanel:l&&r,color:e,onClosePanel:function(){c(!1)},onChange:function(t){var e=t.color;n(e)}}))},Bv="nav-tool-fontsize",Mv=function(t){var e=t.options,n=t.disabled,r=t.className,i=t.value,o=t.onChange,a=t.dropdownStyle,u=void 0===a?{}:a,l=t.bizType,c=(0,H.useRef)(null),s=(0,H.useRef)(null),f=(0,H.useState)(!1),d=(0,B.c)(f,2),h=d[0],p=d[1];(0,J.useOnClickOutside)([c,s],(function(t){for(var e=t.target;e;){var n;if(e.classList&&Tn()(n=On()(e.classList)).call(n,"".concat(Bv,"-dropdown")))return;e=e.parentNode}p(!1)}));var v=P()(e).call(e,(function(t){var e=t.label,n=t.value;return{key:n,label:e,selected:i===n}})),g=(0,H.useRef)(null);(0,H.useEffect)((function(){var t;null===(t=g.current)||void 0===t||t.focus(),lt()((function(){var t;null===(t=g.current)||void 0===t||t.blur()}))}),[]);var m=(0,H.useState)(i),y=(0,B.c)(m,2),C=y[0],b=y[1];(0,H.useEffect)((function(){b(i)}),[i]);var x=(0,H.useCallback)((function(){g.current.select()}),[]);return K().createElement("div",{ref:c,className:Hn()(Bv,r)},K().createElement(W.Dropdown,{key:"fontsize-dropdown-".concat(i),selectable:!0,defaultKey:i,getTriggerElement:function(){return s.current},popperClassName:"".concat(Bv,"-dropdown"),className:"".concat(Bv,"-dropdown"),disabled:n,dropdownStyle:u,menu:v,onItemClick:function(t){o(t),p(!1)},visible:h},K().createElement(W.InputNumber,{ref:g,disabled:n,borderType:"bordered",decimalLength:2,onFocus:x,value:C,onChange:function(t){if("1"!==l){var e=t.target.value;b(e||"")}},onBlur:function(t){var e=t.target.value;o(isNaN(+e)?6:+e)},className:"".concat(Bv,"-input"),onPressEnter:function(){}})),K().createElement(W.Icon,{ref:s,type:an,onClick:function(){p(!h)}}))},Rv=n(74741),Lv=n.n(Rv);function Fv(){return"Mac68K"==window.navigator.platform||"MacPPC"==window.navigator.platform||"Macintosh"==window.navigator.platform||"MacIntel"==window.navigator.platform}function _v(t){return Fv()?t.metaKey:t.ctrlKey}function Pv(t){return t.shiftKey}var Nv,Ov,jv;function Gv(t,e){var n,r=t.findControl(e[0]);if(!Nd(r)&&(n=r,!Tn()(xe).call(xe,null==n?void 0:n.type)))return[];for(var i=[r[Be]],o=1;o<e.length;){var a=t.findControl(e[o]);if(Tn()(i).call(i,a[Be]))break;i.push(a[Be]),o++}return i}function Uv(t,e,n){var r,i,o=n[0],a=n[n.length-1],u=t.findControl(e[0])[Te],l=null===(r=t.findControl(e[e.length-1]))||void 0===r?void 0:r[Te],c=function(t,e){u===t[Te]&&e.firstRowCells.push(t),l===t[Te]&&e.lastRowCells.push(t),o===t[Be]&&e.firstColCells.push(t),a===t[Be]&&e.lastColCells.push(t)},s={firstRowCells:[],lastRowCells:[],firstColCells:[],lastColCells:[]},f=((null===(i=t.getParentControl)||void 0===i?void 0:i.call(t,o))||{}).mergeConfig;if(function(t){return C()(t||{}).length>0}(f))for(var d=function(t,e){var n=t.findControl(e[0]),r=n[Te],i=-1,o=t.findControl(r);for(;Tn()(ye).call(ye,null===(a=o)||void 0===a?void 0:a.type);){var a,u;o=null===(u=t.getPrevSibling(o.id))||void 0===u?void 0:u.control,i++}var l=n[Be],c=-1,s=t.findControl(l);for(;Tn()(Ce).call(Ce,null===(f=s)||void 0===f?void 0:f.type);){var f,d;s=null===(d=t.getPrevSibling(s.id))||void 0===d?void 0:d.control,c++}return{rowIndex:i,colIndex:c}}(t,e),h=n.length,p=e.length/h,v=function(t,e,n,r){var i,o=e.rowIndex,a=e.colIndex;return G()(i=C()(t)).call(i,(function(e,i){var u=i.split("_"),l=(0,B.c)(u,2),c=l[0],s=l[1],f=Number(c),d=Number(s);return f>=o&&f<o+n&&d>=a&&d<a+r&&(e[i]=t[i]),e}),{})}(f,d,p,h),g=0,m=0;m<e.length;){for(var y=0;y<h&&m<e.length;){var b,x=t.findControl(e[m]);c(x,s);var w=d.rowIndex,E=d.colIndex,S=v[O()(b="".concat(w+g,"_")).call(b,E+y)];if(S){var k=S.rowLength,A=S.columnLength;g+k===p&&s.lastRowCells.push(x),y+A===h&&s.lastColCells.push(x)}m++,y++}g++}else s=G()(e).call(e,(function(e,n){var r=t.findControl(n);return c(r,e),e}),s);return s}var zv=["id","parentId"],Zv=["id","parentId"];function Qv(t,e){var n=void 0!==Gn()&&zn()(t)||t["@@iterator"];if(!n){if(Qn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Wv(t,e);var r=Dn()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return On()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wv(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Wv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jv(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vv(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Jv(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Jv(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Hv=(0,J.getLangMsg)("printd.grid.key0049"),Kv=(0,J.getLangMsg)("printd.grid.key0050"),qv=(0,J.getLangMsg)("printd.grid.key0051"),Yv=(0,J.getLangMsg)("printd.grid.key0052"),Xv=function(t,e,n){var r=Y().cloneDeep(t);return r.parentId=e,r.key=(0,J.createUniqueKey)(t.key,t.type,n.current),r.id=(0,J.createUUid)(),r},$v=function t(e){var n,r,i=e.selectItem,o=e.items,a=e.parentId,u=e.dataRef,l=i.id,c=i.parentId,s=((0,Wn.c)(i,zv),Xv(i,a||c,u)),f=L()(n=P()(o).call(o,(function(t){if(t.parentId===l)return t}))).call(n,Boolean);return O()(r=[s]).call(r,Y().flattenDeep(P()(f).call(f,(function(e){return t({selectItem:e,items:o,parentId:s.id,dataRef:u})}))))},tg=function(t){var e,n=t.selectItem,r=t.items,i=t.parentId,o=t.dataRef,a=n.id,u=n.parentId,l=((0,Wn.c)(n,Zv),Xv(n,i||u,o));l.parentId=i||u,l.subGridId=[];var c=L()(r).call(r,(function(t){return t.parentId===a})),s=sd(c),f=s.cells,d=s.rows,h=s.columns,p=P()(d).call(d,(function(t){return(0,at.c)({},Y().cloneDeep(t),{id:(0,J.createUUid)(),key:(0,J.createUniqueKey)(t.key,t.type,o.current),parentId:l.id})})),v=P()(h).call(h,(function(t){return(0,at.c)({},Y().cloneDeep(t),{id:(0,J.createUUid)(),key:(0,J.createUniqueKey)(t.key,t.type,o.current),parentId:l.id})})),g=P()(f).call(f,(function(t){return(0,at.c)({},Y().cloneDeep(t),{id:(0,J.createUUid)(),key:(0,J.createUniqueKey)(t.key,t.type,o.current),parentId:l.id,rowId:p[dt()(d).call(d,(function(e){return e.id===t.rowId}))].id,columnId:v[dt()(h).call(h,(function(e){return e.id===t.columnId}))].id})})),m=Y().flattenDeep(P()(f).call(f,(function(t,e){var n,i=t.id,a=new(ii()),u=L()(n=P()(r).call(r,(function(t){if(t.parentId===i)return a.set(t,e),t}))).call(n,Boolean);return Y().flattenDeep(P()(u).call(u,(function(t){return $v({selectItem:t,items:r,dataRef:o,parentId:g[a.get(t)].id})})))})));return O()(e=[l]).call(e,p,v,g,m)},eg="align-shapes",ng=O()(Nv=[{name:Pt,margin:5},{name:Nt,margin:10},{name:Ot,margin:7}]).call(Nv,(0,En.c)(P()(Ov=[jt,Gt,Ut]).call(Ov,(function(t){return{name:t,margin:4}}))),(0,En.c)(P()(jv=[zt,Zt,Ft,Lt,_t,Qt]).call(jv,(function(t){return{name:t,margin:4}}))),[{name:eg,margin:19}]),rg=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,l,c,s,f,d,h,p,v,g,m,y,b,x,w,E,S=t.meta,k=t.data,A=t.context,D=(t.onChangeProperty,(0,H.useContext)(J.ConfigContext)),I=D.getPrefixCls,T=D.prefixCls,R=((0,H.useRef)(null),(0,H.useState)(!1)),F=(0,B.c)(R,2),_=F[0],N=F[1],j=(0,H.useState)(!1),G=(0,B.c)(j,2),U=G[0],z=G[1],Z=(0,H.useState)(!1),V=(0,B.c)(Z,2),q=V[0],X=V[1],$=(0,H.useState)(!1),tt=(0,B.c)($,2),et=tt[0],nt=tt[1],rt=(0,H.useState)(!1),it=(0,B.c)(rt,2),ot=it[0],ut=it[1],lt=I(T,"nav-tool"),ct=(0,H.useState)("#000000"),st=(0,B.c)(ct,2),ft=st[0],dt=st[1],ht=(0,H.useState)(ln),pt=(0,B.c)(ht,2),vt=pt[0],gt=pt[1],mt=(0,H.useState)(Ne),yt=(0,B.c)(mt,2),Ct=yt[0],bt=yt[1],xt=A.dataContext,wt=A.selectionContext,Et=A.canvasRef,St=A.activedSelectId,kt=A.globalConfig,At=A.scaleRef,Dt=A.asistantBorderRef,It=A.isMultiKeyActiveWhenSelectedRef,Tt=void 0===It?(0,H.useRef)(!1):It,Bt=(0,H.useState)("1"===k.bizType),Mt=(0,B.c)(Bt,2),Rt=Mt[0],Xt=Mt[1],$t=(0,H.useState)((function(){return(null==At?void 0:At.current)||"".concat(100)})),te=(0,B.c)($t,2),ee=te[0],ne=te[1],re=(0,H.useContext)(J.DataFactoryContext),ie=re.dataFactory,oe=re.modelFactory,ae=Fn(Vv(Vv({meta:S},A),{},{activedSelectId:St,modelFactory:oe})),ue=ae.modelData,le=ae.selectItem,ce=ae.isRootId,fe=ae.rootId,de=function(t){var e=t.selectionContext,n=t.dataContext,r=t.meta,i=t.globalConfig,o=e.getSelection(),a=o.length>1,u=P()(o).call(o,(function(t){return n.findControl(t)})),l=P()(u).call(u,(function(t){return t.type})),c=(0,H.useMemo)((function(){var t=(0,J.getCommonProperties)(l)(r,i),e=Lv()(t).call(t,(function(t){return t.Nodes||[]}));return P()(e).call(e,(function(t){return Y().camelCase(t.Id)}))}),[l,r]);return{commonProp:c,multiSelect:a,selection:o}}({selectionContext:wt,dataContext:xt,meta:S,globalConfig:kt}),he=de.commonProp,pe=de.multiSelect,ve=de.selection,ge=P()(ve).call(ve,(function(t){return xt.findControl(t)})),me=qn()(ue).call(ue,(function(t){return"CommonGroup"===t.Id})),ye=null==me||null===(n=me.Nodes)||void 0===n?void 0:qn()(n).call(n,(function(t){return"FontName"===t.Id})),Ce=null==me||null===(r=me.Nodes)||void 0===r?void 0:qn()(r).call(r,(function(t){return"FontSize"===t.Id})),be=(0,H.useContext)(bn).setMessage,xe=wt.getSelection(),we=le[Qt]||se,Ee=dh(we),Se=(0,B.c)(Ee,4),ke=Se[0],Ae=(Se[1],Se[2],Se[3],1===ke.length&&ke[0],Od(le)),De=(Xn()(i=wt.getSelection()).call(i,(function(t){return Nd(xt.findControl(t))})),St!==fe),Ie=Xn()(o=wt.getSelection()).call(o,(function(t){return Tn()(nn).call(nn,xt.findControl(t).type)})),Te=De&&li()(a=wt.getSelection()).call(a,(function(t){return!Tn()(en).call(en,xt.findControl(t).type)})),Be=De&&li()(u=wt.getSelection()).call(u,(function(t){return!Tn()(on).call(on,xt.findControl(t).type)})),Me=De&&li()(l=wt.getSelection()).call(l,(function(t){return!Tn()(rn).call(rn,xt.findControl(t).type)})),Re=(0,H.useCallback)((function(t){J.console.log("scale---change",t),t!==ee&&(ne(t),At&&(At.current=t),J.eventBus.emit("scale",+t/100))}),[ee]),Le=P()(c=[80,100,150,200,300]).call(c,(function(t){return{label:"".concat(t,"%"),value:"".concat(t)}})),Ze=(0,H.useCallback)((function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.selection,r=e.items,i=Y().flattenDeep(P()(t=n||xe).call(t,(function(t){var e=r?qn()(r).call(r,(function(e){return e.id===t})):xt.findControl(t);r&&(e.parentId=xt.getRootId());var n=r||xt.getData().items;return Od(e)?tg({selectItem:e,items:n,dataRef:kt.dataRef}):$v({selectItem:e,items:n,dataRef:kt.dataRef})})));return i}),[ce,S,xe,ie,kt]),Qe=(0,H.useCallback)((function(t){var e,n,r;t=Qn()(t)?t:L()(e=[t]).call(e,Boolean);var i=P()(n=L()(t).call(t,(function(t){return lp(t)||cp(t)}))).call(n,(function(t){return t.id})),o=P()(r=L()(t).call(t,Gd)).call(r,(function(t){return t.id})),a=L()(t).call(t,(function(t){return!(cp(t)||lp(t)||Tn()(i).call(i,t.parentId))&&!(Gd(t)||qd(t)||Tn()(o).call(o,t.parentId))}));a&&a.length&&xt.addControl((0,J.createPasteAction)(a)).then((function(){var t,e=P()(a).call(a,(function(t){return t.id}));wt.setSelect(P()(t=L()(a).call(a,(function(t){return!Tn()(e).call(e,t.parentId)}))).call(t,(function(t){return t.id})))}))}),[]),We=(0,H.useCallback)((function(){if(Te){var t=Ze();t&&Qe(P()(t).call(t,(function(t){return delete t.tableTailId,t})))}}),[ce,xe,S,Te]),Je=(0,H.useCallback)((function(){xt.redo()}),[]),Ve=(0,H.useCallback)((function(){xt.undo()}),[]),He=(0,H.useState)(!1),Ke=(0,B.c)(He,2),qe=Ke[0],Ye=Ke[1],Xe=(0,H.useCallback)((function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";null!==(t=Et.current)&&void 0!==t&&null!==(t=t.content)&&void 0!==t&&t.style&&(Et.current.content.style.cursor=e)}),[]);(0,H.useEffect)((function(){return J.eventBus.on("format-done",(function(){qe&&(Ye(!1),Xe(""),$e.current={})})),function(){J.eventBus.off("format-done")}}),[qe]);var $e=(0,H.useRef)({}),tn=(0,H.useCallback)((function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!ce){if(qe)return Ye(!1),$e.current={},void Xe("");Xe("url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQflBRgDCh1Mv+qbAAABAklEQVQoz3XRPyuFYRzG8c/9PE8pf0rHyEApg3CykeGUt6BMJtlNJpMysRmkjEokbwElg5JkMB0ZSJGSjkN0zm05eNRxrd9v133d/UKJxJAe0W+CqjMvHMowZlNQk0+7LYtiSYaiihlvOVwzZ1KnZzFDohqvw8efhnvD9i05yPCoP2z4zOGoqKzPoIO0l1sfCg3wPbJsxagrpxmerTbAiFktiFrNGrJHciiKohTGTUsFQaJuxwkZRyipUTDgwVrtIs3NSXI/Xzelw246odEaRdmP0KVowaltRcdHTRqCujs3XgVNn/gnv0KU6Nan7c/ZchuenFv2jvPmQsW8EZlbl3nhCwJBSyl0EBnIAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA1LTI0VDAzOjEwOjI5KzAwOjAwjsqiaAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNS0yNFQwMzoxMDoyOSswMDowMP+XGtQAAAAASUVORK5CYII=","),auto")),t?(Ye(!0),$e.current.isDoubleClick=!1):(Ye(!0),$e.current.isDoubleClick=!0),$e.current.selectItem=le}}),[ce,St,le,qe]),an=(0,H.useCallback)((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=t!==Ft||e?e:1,St!==fe)if(pe){var r=P()(ve).call(ve,(function(n){return[n,(0,M.c)({},t,e)]}));xt.batchUpdateControlPropertyValues((0,J.createUpdateAction)(r,n))}else xt.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[St,(0,M.c)({},t,e)]],n))}),[St,fe,pe,ve,Ae,le]),un=(0,H.useCallback)((function(){var t;if(Be){var e=L()(t=wt.getSelection()).call(t,(function(t){return t!==fe}));e.length&&(xt.deleteControl((0,J.createDeleteAction)(e)),wt.setSelect([]))}}),[fe,Be]),fn="".concat(lt,"-dropdown-text"),dn={arrow:!1,arrowOffset:0,arrowSize:0,placement:"rightTop",popperClassName:"kds-dropdown"},hn="borderWidth",pn="borderColor",vn="dotted",gn="dashed",mn=(0,H.useState)(!1),yn=(0,B.c)(mn,2),Cn=yn[0],xn=yn[1],wn=(0,H.useState)(!1),Sn=(0,B.c)(wn,2),kn=Sn[0],An=Sn[1],In=(W.Dropdown.Menu,W.Dropdown.Item,{marginRight:-5}),Bn=(0,H.useState)(1),Mn=(0,B.c)(Bn,2),Rn=Mn[0],Ln=Mn[1];(0,H.useEffect)((function(){Ln(Number(le[Ft])||1)}),[le[Ft]]);var _n=function(t){var e,n=K().cloneElement(t,{},(0,En.c)(P()(e=t.props.children.props.data).call(e,(function(t){return K().cloneElement(t,{},[t.props.children.props.data,K().createElement("div",{className:fn},t.props.children.props.itemTitle)])}))));return K().createElement("div",null,n,K().createElement("div",{className:"customInput"},K().createElement("span",{className:"label"},(0,J.getLangMsg)("printd.components.key0064")),K().createElement(W.InputNumber,{decimalLength:2,onChange:function(t){var e=t.target.value;if(!(e<=0&&""!==e))return e>50?be((0,J.getLangMsg)("printd.components.key0065")):void Ln(e)},onBlur:function(){an(Ft,Number(Rn))},value:Rn,borderType:"bordered",max:50,min:1,minMark:"[",onClick:function(t){t.stopPropagation()},onKeyDown:function(t){13===t.keyCode&&an(Ft,Number(Rn))},zeroShow:!1,showDecimalTailZero:!0})))},Pn={style:{},dropdownClassName:"kds-select",dropdownStyle:{minWidth:120},dropdownRender:function(t){var e,n=K().cloneElement(t,{},P()(e=t.props.children.props.data).call(e,(function(t){return[K().cloneElement(t,{},[t.props.children,K().createElement("div",{className:fn},t.props.children.props.itemTitle)])]})));return n}},Nn=(0,H.useCallback)((function(t){return ge.length&&li()(ge).call(ge,(function(e){return t&&e[t]}))}),[ge]),On=(0,H.useCallback)((function(t,e){var n=(0,En.c)(new(di())(P()(ge).call(ge,(function(n){return n[t]||e}))));return 1===n.length?n[0]:e}),[ge]),jn=(0,H.useCallback)((function(t,e,n){var r;return Hn()((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},"".concat(lt,"-operation-btn"),!0),O()(r="".concat(lt,"-operation-btn-")).call(r,e),e),"".concat(lt,"-btn-enable"),t),"".concat(lt,"-btn-disable"),!t),"".concat(lt,"-btn-used"),Nn(e)||n))}),[lt,le,Nn]),Gn=(0,H.useCallback)((function(t){return!Tn()(he).call(he,t)}),[he]),Un=null!==(s=null==ye||null===(f=ye.Editor)||void 0===f||null===(f=f.Enum)||void 0===f?void 0:P()(f).call(f,(function(t){return{value:t.Value,label:t.Name,isCustom:t.IsCustom}})))&&void 0!==s?s:[{value:"default",label:(0,J.getLangMsg)("printd.grid.key0127")}],zn=null!==(d=null==ye||null===(h=ye.Editor)||void 0===h||null===(h=h.Enum)||void 0===h?void 0:P()(p=L()(h).call(h,(function(t){return!!t.IsCustom}))).call(p,(function(t){return{key:t.Value,label:t.Name,isCustom:t.IsCustom}})))&&void 0!==d?d:[],Zn=null!==(v=null==Ce||null===(g=Ce.Editor)||void 0===g||null===(g=g.Enum)||void 0===g?void 0:P()(g).call(g,(function(t){return{value:t.Value,label:t.Name}})))&&void 0!==v?v:[{value:"default",label:12}],Wn=(0,H.useState)((function(){return ng})),Jn=(0,B.c)(Wn,2),Vn=Jn[0],Kn=Jn[1],Yn=(0,H.useState)((function(){return[]})),$n=(0,B.c)(Yn,2),tr=$n[0],er=$n[1],nr=function(t,e,n,r){if(pe){var i;if(Tn()(i=[Pe,_e]).call(i,e)&&!1===Tt.current){var o=Gv(xt,ve);if(o.length){var a,u,l,c,s,f=function(t,e){var n=d(t,e),r=(0,B.c)(n,2),i=r[0],o=r[1];v[i]=o},d=function(e,i){var o,a,u=v[e.id]?v[e.id][Qt]:e[Qt],l=Tn()(o=["dashed","dotted"]).call(o,n)?.5:h===Pe?2:n,c=Tn()(a=["dashed","dotted"]).call(a,n)?n:"solid",s=Fd(u,i,t,l,c);return[e.id,(0,M.c)((0,M.c)({scale:ee,changeBorderType:r},Qt,s),"gridBorder",{color:t,type:i,line:n})]},h=e,p=Uv(xt,ve,o),v={};return Q()(a=p.firstRowCells).call(a,(function(t){return f(t,Ge)})),Q()(u=p.lastRowCells).call(u,(function(t){return f(t,ze)})),Q()(l=p.firstColCells).call(l,(function(t){return f(t,je)})),Q()(c=p.lastColCells).call(c,(function(t){return f(t,Ue)})),void xt.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(s=C()(v)).call(s,(function(t){return[t,v[t]]}))))}}var g=P()(ve).call(ve,(function(i){var o=xt.findControl(i),a=o[Qt],u=Od(o);e="Line"===o.type?"allBorder":e;var l=Ld(a,t,e,n);return[i,(0,M.c)((0,M.c)({scale:ee,changeBorderType:r},Qt,l),"gridBorder",u&&{color:t,type:e,line:n})]}));xt.batchUpdateControlPropertyValues((0,J.createUpdateAction)(g))}else{e="Line"===le.type?"allBorder":e;var m=Ld(we,t,e,n);xt.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[St,(0,M.c)((0,M.c)({scale:ee,changeBorderType:r},Qt,m),"gridBorder",Ae&&{color:t,type:e,line:n})]]))}},rr=[{value:je,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"zuobiankuang",itemTitle:(0,J.getLangMsg)("printd.grid.key0055"),title:qv}),title:(0,J.getLangMsg)("printd.grid.key0055"),disabled:"Line"===le.type},{value:Ue,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"youbiankuang",itemTitle:(0,J.getLangMsg)("printd.grid.key0056"),title:qv}),title:(0,J.getLangMsg)("printd.grid.key0056"),disabled:"Line"===le.type},{value:Ge,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"shangbiankuang",itemTitle:(0,J.getLangMsg)("printd.grid.key0057"),title:qv}),title:(0,J.getLangMsg)("printd.grid.key0057"),disabled:"Line"===le.type},{value:ze,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"xiabiankuang",itemTitle:(0,J.getLangMsg)("printd.grid.key0058"),title:qv}),title:(0,J.getLangMsg)("printd.grid.key0058"),disabled:"Line"===le.type},{value:_e,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"waicebiankuang",itemTitle:(0,J.getLangMsg)("printd.grid.key0059"),title:qv}),title:(0,J.getLangMsg)("printd.grid.key0059"),disabled:"Line"===le.type},{value:Pe,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"cuwaibiankuang",itemTitle:(0,J.getLangMsg)("printd.grid.key0060"),title:qv}),title:(0,J.getLangMsg)("printd.grid.key0060"),disabled:"Line"===le.type},{value:Fe,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"neibiankuang",itemTitle:(0,J.getLangMsg)("printd.grid.key0061"),title:qv}),title:(0,J.getLangMsg)("printd.grid.key0061"),disabled:"Line"===le.type},{value:Ne,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"suoyoubiankuang",itemTitle:(0,J.getLangMsg)("printd.grid.key0062"),title:qv}),title:(0,J.getLangMsg)("printd.grid.key0062"),disabled:"Line"===le.type},{value:Oe,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"wubiankuang",itemTitle:(0,J.getLangMsg)("printd.grid.key0063"),title:qv}),title:(0,J.getLangMsg)("printd.grid.key0063"),disabled:"Line"===le.type}],ir=(m={},(0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)(m,Pt,(function(t,e){var n;return K().createElement(W.Select,(0,M.c)((0,M.c)((0,M.c)((0,M.c)({disabled:t,className:Hn()("".concat(lt,"-property-font-name"),O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(Pt)),e,(0,M.c)((0,M.c)({},"".concat(lt,"-property-font-name-enable"),!Gn(Pt)),"".concat(lt,"-property-font-name-disabled"),Gn(Pt))),visible:U&&!t,onVisibleChange:function(t){z(t)},dropdownRender:function(t){var e;if(!zn.length)return t;var n=L()(e=t.props.children.props.data).call(e,(function(t){return!qn()(zn).call(zn,(function(e){return t.props.value===e.key}))})),r=K().cloneElement(t,{},n);return K().createElement("div",null,r,K().createElement(W.Dropdown,(0,at.c)({key:"dropdown",onItemClick:function(t){J.console.log("onItemClick"),an(Pt,t),U&&z(!1)}},dn,{popperStyle:{width:100},popperClassName:Hn()(dn.popperClassName,"kds-font-custom"),menu:zn}),K().createElement("div",{className:Hn()("kds-hover-panel")},K().createElement("span",{className:fn,style:{marginLeft:0}},(0,J.getLangMsg)("printd.grid.key0064")))))},dropdownStyle:{width:100},style:{width:86,height:28},onChange:function(t){an(Pt,t),U&&z(!1)}},"disabled",Gn(Pt)),"borderType","none"),"value",le[Pt]||"default"),"options",Un))})),Nt,(function(t,e){var n;return K().createElement(Mv,{bizType:k.bizType,className:Hn()("".concat(lt,"-property-font-size"),e,O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(Nt)),(0,M.c)((0,M.c)({},"".concat(lt,"-property-font-size-enable"),!Gn(Nt)),"".concat(lt,"-property-font-size-disabled"),Gn(Nt))),onChange:function(t){an(Nt,t)},value:+le[Nt]||12,dropdownStyle:{width:100},disabled:Gn(Nt)||t,options:Zn})})),Ot,(function(t,e){var n;return K().createElement("div",{title:(0,J.getLangMsg)("printd.grid.key0065"),className:Hn()(jn(De&&!Gn(Ot),Ot),e,O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(Ot))),onClick:function(){an(Ot,!Nn(Ot))}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"jiacu"}))})),jt,(function(t,e){var n;return K().createElement("div",{title:(0,J.getLangMsg)("printd.grid.key0066"),className:Hn()(jn(De&&!Gn(jt),jt),e,O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(jt))),onClick:function(){an(jt,!Nn(jt))}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"xieti"}))})),Gt,(function(t,e){var n;return K().createElement("div",{title:(0,J.getLangMsg)("printd.grid.key0067"),className:Hn()(jn(De&&!Gn(Gt),Gt),e,O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(Gt))),onClick:function(){an(Gt,!Nn(Gt))}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"xiahuaxian"}))})),Ut,(function(t,e){var n;return K().createElement("div",{title:(0,J.getLangMsg)("printd.grid.key0068"),className:Hn()(jn(De&&!Gn(Ut),Ut),e,O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(Ut))),onClick:function(){an(Ut,!Nn(Ut))}},K().createElement("img",{src:"data:image/png;base64,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",style:{width:16}}))})),zt,(function(t,e){var n;return K().createElement("div",{style:{width:40},className:Hn()(jn(De&&!Gn(zt)),e,"".concat(lt,"-self-select"),O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(zt)))},K().createElement(Tv,{handleChange:function(t){an(zt,t)},setColorPickVisible:nt,setMoreBarVisible:X,enable:De&&!Gn(zt)&&!t,value:le[zt]||"#000000"}))})),Zt,(function(t,e){var n;return K().createElement("div",{style:{width:40},className:Hn()(jn(De&&!Gn(Zt)),e,"".concat(lt,"-self-select"),O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(Zt)))},K().createElement(Iv,{value:le[Zt]||"#ffffff",setColorPickVisible:nt,setMoreBarVisible:X,handleChange:function(t){an(Zt,t)},enable:De&&!Gn(Zt)&&!t}))})),Ft,(function(t,e){var n,r;return K().createElement(W.Select,(0,at.c)({},Pn,{disabled:Gn(Ft)||t,dropdownClassName:Hn()("kds-select-border","kds-select","lineHeight"),className:Hn()(!Gn(Ft)&&"".concat(lt,"-select-enable"),e,O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(Ft))),onChange:function(t){J.console.log(t),an(Ft,t)},onVisibleChange:function(t){ut(t)},onSelect:function(){ut(!1),X(!1)},borderType:"none",value:Tn()(r=[1,1.15,1.25,1.5,2]).call(r,On(Ft,1))?On(Ft,1):"default",options:[{value:"default",label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"1.0"}),title:(0,J.getLangMsg)("printd.grid.key0114")},{value:1,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"1.0"}),title:(0,J.getLangMsg)("printd.grid.key0114")},{value:1.15,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"1.15"}),title:(0,J.getLangMsg)("printd.grid.key0114")},{value:1.25,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"1.25"}),title:(0,J.getLangMsg)("printd.grid.key0114")},{value:1.5,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"1.5"}),title:(0,J.getLangMsg)("printd.grid.key0114")},{value:2,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"xingjushezhi",itemTitle:"2.0"}),title:(0,J.getLangMsg)("printd.grid.key0114")}],dropdownRender:_n,defaultValue:1}))})),Lt,(function(t,e){var n;return K().createElement(W.Select,(0,at.c)({},Pn,{disabled:Gn(Lt)||t,className:Hn()(!Gn(Lt)&&"".concat(lt,"-select-enable"),e,O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(Lt))),onChange:function(t){J.console.log(t),an(Lt,t)},borderType:"none",value:On(Lt,"left"),options:[{value:"left",label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"duanluo-zuoduiqi",itemTitle:(0,J.getLangMsg)("printd.grid.key0069"),title:Hv}),title:(0,J.getLangMsg)("printd.grid.key0069")},{value:"center",label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"duanluo-juzhong",itemTitle:(0,J.getLangMsg)("printd.grid.key0070"),title:Hv}),title:(0,J.getLangMsg)("printd.grid.key0070")},{value:"right",label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"duanluo-youduiqi",itemTitle:(0,J.getLangMsg)("printd.grid.key0071"),title:Hv}),title:(0,J.getLangMsg)("printd.grid.key0071")},{value:"justify",label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"duanluo-quanbuliangduanduiqi",itemTitle:(0,J.getLangMsg)("printd.grid.key0072"),title:Hv}),title:(0,J.getLangMsg)("printd.grid.key0072"),disabled:"Image"===le.type}]}))})),(0,M.c)((0,M.c)((0,M.c)(m,Qt,(function(t,e){var n;return K().createElement(W.Select,(0,at.c)({},Pn,{dropdownStyle:{minWidth:120,overflow:"hidden"},className:Hn()(!Gn(Qt)&&"".concat(lt,"-select-enable"),e,O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(Qt))),visible:_&&!t,onVisibleChange:function(t){Cn||kn||N(t)},dropdownClassName:Hn()("kds-select-border","kds-select"),dropdownRender:function(t){return function(t,e,n){var r,i=K().cloneElement(t,{},(0,En.c)(P()(r=t.props.children.props.data).call(r,(function(t){return t.props.value,K().cloneElement(t,{},[t.props.children,K().createElement("div",{className:fn},t.props.children.props.itemTitle)])})))),o=function(t,r){gt(t),nr(ft,Ct===Pe&&t!==sn?_e:Ct,t),An(!1),e(!1),n(!1)};return K().createElement("div",null,i,K().createElement(W.Tooltip,(0,at.c)({key:hn},dn,{gap:-6,visible:kn,onVisibleChange:An,popperClassName:"kds-border-width-dropdown",popperStyle:{width:100,transition:"none"},tip:K().createElement("div",null,K().createElement("div",{className:Hn()(["kds-border-width-dropdown-item",{selected:vt===ln}]),key:ln,onClick:function(){return o(ln)}},K().createElement("span",{className:"kds-border-width-dropdown-item-changgui"})),K().createElement("div",{className:Hn()(["kds-border-width-dropdown-item",{selected:vt===cn}]),key:cn,onClick:function(){return o(cn)}},K().createElement("span",{className:"kds-border-width-dropdown-item-cu"})),K().createElement("div",{className:Hn()(["kds-border-width-dropdown-item",{selected:vt===sn}]),key:sn,onClick:function(){return o(sn)}},K().createElement("span",{className:"kds-border-width-dropdown-item-jiacu"})),K().createElement("div",{className:Hn()(["kds-border-width-dropdown-item",{selected:vt===vn}]),key:vn,onClick:function(){return o(vn)}},K().createElement("span",{className:"kds-border-width-dropdown-item-dotted"},K().createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAABCAYAAAB0UUiZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAAAB5JREFUGNNjdHBw+M/AwMBw4MABRgYoQBcb6XxkMQCOoUnBExsl8wAAAD5lWElmAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAATKADAAQAAAABAAAAAQAAAACZ+EYYAAAAAElFTkSuQmCC"}))),K().createElement("div",{className:Hn()(["kds-border-width-dropdown-item",{selected:vt===gn}]),key:gn,onClick:function(){return o(gn)}},K().createElement("span",{className:"kds-border-width-dropdown-item-dashed"},K().createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAAABCAYAAACbkyOnAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAATaADAAQAAAABAAAAAQAAAAAxfJBbAAAAGklEQVQYGWN0cHD4z4AGDhw4wAgTGpXHDB8Apz4lwZkCeZgAAAAASUVORK5CYII="}))))}),K().createElement("div",{className:Hn()("kds-hover-panel")},K().createElement(W.Icon,{prefix:"printdesignericon",type:"shezhibiankuangcuxi"}),K().createElement("span",{className:fn,style:In},(0,J.getLangMsg)("printd.grid.key0053")),K().createElement(W.Icon,{type:"arrow-right-solid"}))),"1"!==k.bizType&&K().createElement(W.Tooltip,(0,at.c)({key:pn},dn,{gap:-6,popperStyle:{width:244,height:92,transition:"none"},visible:Cn,onVisibleChange:xn,popperClassName:"kds-color-dropdown",tip:K().createElement(Dv,{showPanel:Cn,color:"#ffffff",onClosePanel:function(){e(!1),xn(!1),n(!1)},onChange:function(t){var e=t.color;dt(e),nr(e,Ct,Ct===Pe?Pe:vt,"color")},onFocus:function(){!Cn&&xn(!0)},setPoperVisible:xn})}),K().createElement("div",{className:Hn()("kds-hover-panel")},K().createElement(W.Icon,{prefix:"printdesignericon",type:"xiantiaoyanse"}),K().createElement("span",{className:fn,style:In},(0,J.getLangMsg)("printd.grid.key0054")),K().createElement(W.Icon,{type:"arrow-right-solid"}))))}(t,N,X)},disabled:Gn(Qt)||t,onSelect:function(t){bt(t),nr(ft,t,Ct===Pe?sn:vt),N(!1),X(!1)},borderType:"none",defaultValue:_e,options:rr}))})),_t,(function(t,e){var n;return K().createElement(W.Select,(0,at.c)({},Pn,{disabled:Gn(_t)||t,onChange:function(t){an(_t,t)},borderType:"none",className:Hn()(!Gn(_t)&&"".concat(lt,"-select-enable"),e,O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(_t))),value:On(_t,"middle"),options:[{value:"top",label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"xinggaoduiqizhiding",itemTitle:(0,J.getLangMsg)("printd.grid.key0073"),title:Kv}),title:(0,J.getLangMsg)("printd.grid.key0073")},{value:"middle",label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"xinggaoduiqijuzhong",itemTitle:(0,J.getLangMsg)("printd.grid.key0074"),title:Kv}),title:(0,J.getLangMsg)("printd.grid.key0074")},{value:"bottom",label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"xinggaoduiqizhidi",itemTitle:(0,J.getLangMsg)("printd.grid.key0075"),title:Kv}),title:(0,J.getLangMsg)("printd.grid.key0075")}]}))})),eg,(function(t,e){var n;return K().createElement(K().Fragment,null,(Vn.length===ng.length||tr.length>1)&&K().createElement("div",{className:Hn()("".concat(lt,"-operation-bar-split-line"),e)}),K().createElement(W.Select,(0,at.c)({},Pn,{disabled:xe.length<2||Ie||t,className:Hn()(!(xe.length<2||Ie)&&"".concat(lt,"-select-enable"),e,O()(n="".concat(lt,"-editor-")).call(n,Y().kebabCase(eg))),onChange:function(t){J.eventBus.emit("align-shapes",{type:t,ids:xe})},borderType:"none",value:Wt,options:[{value:Wt,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"zuoduiqi3",itemTitle:(0,J.getLangMsg)("printd.grid.key0076"),title:Yv}),title:(0,J.getLangMsg)("printd.grid.key0076")},{value:Kt,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"zuoyoujuzhong",itemTitle:(0,J.getLangMsg)("printd.grid.key0077"),title:Yv}),title:(0,J.getLangMsg)("printd.grid.key0077")},{value:qt,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"shuipingfenbu",itemTitle:(0,J.getLangMsg)("printd.grid.key0078"),title:Yv}),disabled:xe.length<3,title:(0,J.getLangMsg)("printd.grid.key0078")},{value:Jt,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"youduiqi3",itemTitle:(0,J.getLangMsg)("printd.grid.key0079"),title:Yv}),title:(0,J.getLangMsg)("printd.grid.key0079")},{value:"top",label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"dingduiqi",itemTitle:(0,J.getLangMsg)("printd.grid.key0080"),title:Yv}),title:(0,J.getLangMsg)("printd.grid.key0080")},{value:Ht,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"shangxiajuzhong",itemTitle:(0,J.getLangMsg)("printd.grid.key0081"),title:Yv}),title:(0,J.getLangMsg)("printd.grid.key0081")},{value:Yt,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"chuizhifenbu",itemTitle:(0,J.getLangMsg)("printd.grid.key0082"),title:Yv}),disabled:xe.length<3,title:(0,J.getLangMsg)("printd.grid.key0082")},{value:Vt,label:K().createElement(W.Icon,{prefix:"printdesignericon",type:"diduiqi",itemTitle:(0,J.getLangMsg)("printd.grid.key0083"),title:Yv}),title:(0,J.getLangMsg)("printd.grid.key0083")}]})))}))),or=(0,H.useRef)(null),ar=(0,H.useRef)(null),ur=(0,H.useRef)(null),lr=(0,H.useRef)(null),cr=(0,H.useCallback)((function(){var t=ng;if(J.console.log("count"),ar.current){var e=ar.current.offsetWidth;if(e<=32)return void(Y().isEqual(t,tr)||er(t));var n,r=0,i=[],o=[],a=Qv(ng);try{for(a.s();!(n=a.n()).done;){var u,l,c=n.value,s=ar.current.querySelector(O()(u=".".concat(lt,"-editor-")).call(u,Y().kebabCase(c.name))),f=(null!==(l=null==s?void 0:s.offsetWidth)&&void 0!==l?l:0)+(s?Zf()(getComputedStyle(s).marginLeft||0)+Zf()(getComputedStyle(s).marginRight||0):c.margin);if(!(e>=f)){e<32&&(i.pop(),e+=o.pop()||0,r--);break}i.push(c),e-=f,o.push(f),r++}}catch(t){a.e(t)}finally{a.f()}Y().isEqual(i,Vn)||(Kn(i),er(Dn()(t).call(t,r)))}}),[ng,tr,Vn,lt]),sr=(0,H.useRef)(Y().debounce(cr));return(0,H.useEffect)((function(){sr.current(),J.eventBus.emit("contextStrokeEnabled","1"===k.bizType)}),[]),(0,H.useEffect)((function(){sr.current=Y().debounce(cr)}),[ng,tr,Vn,lt]),(0,H.useEffect)((function(){var t=function(){sr.current()};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[sr.current]),(0,H.useImperativeHandle)(e,(function(){return{formatControlInfoRef:$e,copyControl:Ze,pasteControl:Qe,copyAndPasteControl:We,canvasRedo:Je,canvasUndo:Ve}}),[$e,Ze,We]),K().createElement("div",{className:lt,ref:or},K().createElement("div",{ref:lr},K().createElement("div",{className:"".concat(lt,"-operation-bar"),ref:ur},K().createElement("div",{title:O()(y="".concat((0,J.getLangMsg)("printd.grid.key0084"),"\n")).call(y,Fv()?"⌘+Z":"Ctrl+Z"),className:Hn()((0,M.c)((0,M.c)({},"".concat(lt,"-operation-disable"),!xt.canUndo()),"".concat(lt,"-operation-btn"),!0)),onClick:Ve},K().createElement(W.Icon,{prefix:"printdesignericon",type:"chexiao"})),K().createElement("div",{title:O()(b="".concat((0,J.getLangMsg)("printd.grid.key0085"),"\n")).call(b,Fv()?"⌘+Y":"Ctrl+Y"),className:Hn()((0,M.c)((0,M.c)({},"".concat(lt,"-operation-disable"),!xt.canRedo()),"".concat(lt,"-operation-btn"),!0)),onClick:Je},K().createElement(W.Icon,{prefix:"printdesignericon",type:"zhongzuo"})),K().createElement("div",{className:"".concat(lt,"-operation-bar-split-line")}),K().createElement("div",{className:jn(Te),onClick:We,title:O()(x="".concat((0,J.getLangMsg)("printd.grid.key0086"),"\n")).call(x,Fv()?"⌘+D":"Ctrl+D")},K().createElement(W.Icon,{prefix:"printdesignericon",type:"fuzhi"})),K().createElement("div",{title:(0,J.getLangMsg)("printd.grid.key0087"),className:jn(Me,"null",qe&&De),onClick:function(){tn()},onDoubleClick:function(){tn(!1)}},K().createElement(W.Icon,{prefix:"printdesignericon",type:"geshishua"})),K().createElement("div",{title:"".concat((0,J.getLangMsg)("printd.grid.key0088"),"\nDelete"),className:jn(Be),onClick:un},K().createElement(W.Icon,{prefix:"printdesignericon",type:"shanchu"})),K().createElement("div",{className:"".concat(lt,"-operation-bar-split-line")})),K().createElement("div",{className:"".concat(lt,"-property-operation-bar"),ref:ar},P()(w=L()(ng).call(ng,(function(t){return qn()(Vn).call(Vn,(function(e){return e.name===t.name}))}))).call(w,(function(t){return ir[t.name](!1)})),tr.length>0&&K().createElement(W.Tooltip,{popperClassName:"".concat(lt,"-operation-more-popper"),arrow:!1,arrowSize:0,placement:"bottomRight",visible:q,onVisibleChange:function(t){!ot&&!_&&(!et||t)&&X(t)},tip:K().createElement("div",{className:"".concat(lt,"-more-property-bar")},P()(tr).call(tr,(function(t){var e=t.name;return ir[e](!1)}))),trigger:"click",popperStyle:{}},K().createElement("div",{className:Hn()("".concat(lt,"-operation-btn"),"".concat(lt,"-operation-more-btn"))},K().createElement(W.Icon,{type:"more"}))),P()(E=L()(ng).call(ng,(function(t){return!qn()(Vn).call(Vn,(function(e){return e.name===t.name}))}))).call(E,(function(t){return ir[t.name](!0,"shadow-calc-dom")})))),K().createElement("div",null,K().createElement("div",{className:"".concat(lt,"-canvas-operation-bar")},K().createElement("div",{className:jn(!0,"",Rt),onClick:function(){Xt(!Rt),Dt&&(Dt.current=!Rt),J.eventBus.emit("contextStrokeEnabled",!Rt)},title:(0,J.getLangMsg)("printd.grid.key0089")},K().createElement(W.Icon,{prefix:"printdesignericon",type:"kaiqifuzhuxian",onClick:function(){}})),K().createElement(W.Select,{style:{width:64},dropdownStyle:{width:100},title:(0,J.getLangMsg)("printd.grid.key0090"),borderType:"none",value:ee,options:Le,onChange:Re}))))}))),ig=rg;function og(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=og(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=og(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var ug=oe,lg=[3,3];var cg=function(t){t.x,t.y;var e=t.id,n=t.width,r=t.height,i=t.border,o=void 0===i?{}:i,a=t.borderType,u=t.isSelected,l=t.contextStrokeEnabled,c=t.scale,s=dh(o,a),f=(0,B.c)(s,5),d=f[0],h=f[1],p=f[2],v=f[3],g=f[4],m=h||"#B2B2B2",y=v||1,C=p||"solid",b=!!l&&!(Tn()(d).call(d,_e)||Tn()(d).call(d,Ne)),x=!(Tn()(d).call(d,_e)||Tn()(d).call(d,Ne)),w=(0,H.useRef)(null),E=o.width||{},S=E.top,k=void 0===S?0:S,A=E.left,D=void 0===A?0:A,I=E.right,T=void 0===I?0:I,M=E.bottom,R=void 0===M?0:M,L=o.color||{},F=L.top,_=L.left,P=L.right,N=L.bottom,O=o.style||{},j=O.top,G=O.left,U=O.right,z=O.bottom,Z=Jf(n,c),W=Jf(r,c),J=[0,0,Z,0],V=[0,0,0,W],q=[Z,0,Z,W],Y=[Z,W,0,W],X=(0,H.useRef)(null),$=(0,H.useRef)(null),tt=(0,H.useRef)(null),et=(0,H.useRef)(null);(0,H.useImperativeHandle)(w,(function(){return{mouseEnter:function(t){var e;Q()(e=[X,$,tt,et]).call(e,(function(e){var n,r;null===(n=e.current)||void 0===n||n.stroke(t),null===(r=e.current)||void 0===r||r.draw()}))},mouseLeave:function(){var t,e,n,r;null===(t=tt.current)||void 0===t||t.stroke(F||ug),null===(e=X.current)||void 0===e||e.stroke(_||ug),null===(n=$.current)||void 0===n||n.stroke(P||ug),null===(r=et.current)||void 0===r||r.stroke(N||ug)}}}),[F,_,P,N]);var nt={borderTypes:d,stroke:m,strokeWidth:y,strokeStyle:C,strokeEnabled:b,dashEnabled:x,defaultDash:lg,controlStrokeRef:w,innerConfig:g},rt={listening:!1,draggable:!1},it=(0,H.useMemo)((function(){switch(p){case"dashed":return[3,1];case"dotted":return[2,2];default:return lg}}),[p]),ot=K().createElement(nv.Group,rt,0!==k&&K().createElement(nv.Line,(0,at.c)({key:"".concat(e,"_top_stroke"),ref:tt,name:"".concat(e,"_top_border_line")},rt,{stroke:F||ug,strokeWidth:2*(k||1),dashEnabled:"solid"!==j,dash:it,points:J})),0!==D&&K().createElement(nv.Line,(0,at.c)({key:"".concat(e,"_left_stroke"),ref:X,name:"".concat(e,"_left_border_line")},rt,{stroke:_||ug,strokeWidth:2*(D||1),dashEnabled:"solid"!==G,dash:it,points:V})),0!==T&&K().createElement(nv.Line,(0,at.c)({key:"".concat(e,"_right_stroke"),ref:$,name:"".concat(e,"_right_border_line")},rt,{stroke:P||ug,strokeWidth:2*(T||1),dashEnabled:"solid"!==U,dash:it,points:q})),0!==R&&K().createElement(nv.Line,(0,at.c)({key:"".concat(e,"_bottom_stroke"),ref:et,name:"".concat(e,"_bottom_border_line")},rt,{stroke:N||ug,strokeWidth:2*(R||1),dashEnabled:"solid"!==z,dash:it,points:Y}))),ut=0!==k||0!==D||0!==T||0!==R;return ag(ag({},nt),{},{customedStrokeElement:!u&&ut&&ot,dashEnabled:nt.dashEnabled&&!(0!==k&&0!==D&&0!==T&&0!==R)&&!u})},sg=["src","getImageSize","xPos","yPos","scale","pixelRatio","verAlignment","horAlignment"],fg=(0,H.forwardRef)((function(t,e){var n=t.src,r=t.getImageSize,i=(t.xPos,t.yPos,t.scale),o=(t.pixelRatio,t.verAlignment),a=t.horAlignment,u=(0,Wn.c)(t,sg),l=(0,H.useState)(null),c=(0,B.c)(l,2),s=c[0],f=c[1],d=(0,H.useState)({width:0,height:0,left:0,top:0}),h=(0,B.c)(d,2),p=h[0],v=h[1],g=p.width,m=p.height,y=p.left,C=p.top,b=(0,H.useRef)(null),x=e||b;return(0,H.useEffect)((function(){var t,e=function(){f(t)};return n&&((t=new Image).addEventListener("load",e),t.src=n),function(){var n;null===(n=t)||void 0===n||n.removeEventListener("load",e)}}),[n]),(0,H.useEffect)((function(){if(null!==s){var t=s.width,e=s.height,n=Vf(t,1),i=Vf(e,1);v(r(n,i,o,a))}}),[v,r,s,o,a]),s?K().createElement(nv.Image,(0,at.c)({ref:x,image:s,width:Jf(g,i),height:Jf(m,i),x:y?Jf(y,i):void 0,y:C?Jf(C,i):void 0},u,{name:Bt})):null})),dg=fg,hg=2.54;function pg(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=pg(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=pg(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var gg,mg=function(t,e,n){if(jd(t)||Ud(t)){var r=t.subGridId,i=t.tableTailId;null!=r&&r.length&&e.push.apply(e,(0,En.c)(n.findControl(r))),i&&e.push(n.findControl(i))}if(Gd(t)||qd(t)){var o=t.parentGridId;o&&e.push(n.findControl(o))}};function yg(t,e){return function(n,r){var i,o,a,u=n.x,l=n.y,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=[],f=t.id,d=t.parentId,h=t.height,p=t.width,v=t.x,g=t.y,m=e.dataContext,y=e.selectionContext,C=e.getRedundancyXY,b=e.pageHeight,x=e.stageRef,w=e.rootId,E=e.scale,S=e.setMessage,k=e.forceUpdateTransformer,A=null===(i=x.current)||void 0===i?void 0:i.getPointerPosition(),D=null===(o=x.current)||void 0===o?void 0:o.findOne("#".concat(f)),I=(0,En.c)(new(di())(O()(a=[]).call(a,(0,En.c)(y.getSelection()),[f]))),T=[];mg(t,T,m);var R=m.findControlByCondition((function(t){return Tn()(I).call(I,t.id)})),L=(0,En.c)(R);Q()(R).call(R,(function(t){mg(t,L,m)}));var F=A.x,_=A.y,P=C(),N=P.x,j=P.y,U=["Text","Image","QRCode","Barcode","LayoutGrid","Line"];F=Vf(F-N,E),_=Vf(_-j,E),u=Vf(u,E),l=Vf(l,E);var z,Z=Id(vg(vg({},t),{},{x:u,y:l}),m),W=Dd(vg(vg({},t),{},{x:u,y:l}),m),V=c.length?G()(c).call(c,(function(t,e){var n=(0,B.c)(e,2),r=n[0],i=n[1],o=void 0===i?{}:i,a=m.findControl(r);return Math.min(Id(vg(vg({},a),o),m),t)}),Z):Z,H=c.length?G()(c).call(c,(function(t,e){var n=(0,B.c)(e,2),r=n[0],i=n[1],o=void 0===i?{}:i,a=m.findControl(r);return Math.max(Dd(vg(vg({},a),o),m),t)}),W):W,K=m.findControlByCondition((function(t){return"Header"===t.type})),q=m.findControlByCondition((function(t){return"Footer"===t.type})),Y=m.findControlByCondition((function(t){return"TableTail"===t.type})),X=K[0]||{},$=X.width,tt=void 0===$?0:$,et=X.height,nt=void 0===et?0:et,rt=q[0]||{},it=rt.width,ot=void 0===it?0:it,at=rt.height,ut=void 0===at?0:at,lt=rt.y,ct=void 0===lt?0:lt,st=function(){return I.length>1?(Q()(L).call(L,(function(t){var e,n=null===(e=x.current)||void 0===e?void 0:e.findOne("#".concat(t.id));null==n||n.position({x:Jf(t.x,E),y:Jf(t.y,E)})})),k(),S((0,J.getLangMsg)("printd.grid.key0023")),!0):jd(t)||Xd(t)||Gd(t)||qd(t)||Ud(t)?(null==D||D.position({x:Jf(v,E),y:Jf(g,E)}),Q()(T).call(T,(function(t){var e,n=null===(e=x.current)||void 0===e?void 0:e.findOne("#".concat(t.id));null==n||n.position({x:Jf(t.x,E),y:Jf(t.y,E)})})),S((0,J.getLangMsg)("printd.grid.key0024")),!0):"RichText"===t.type?(null==D||D.position({x:Jf(v,E),y:Jf(g,E)}),S((0,J.getLangMsg)("printd.grid.key0025")),!0):void 0};if(d===w)if(K.length&&F<tt&&_<nt){var ft=K[0].id;if(st())return;l+h>nt?h>=nt?s.push([f,{y:0,x:u,height:nt,width:nt/h*p,parentId:ft}]):s.push([f,{y:nt-h,x:u,parentId:ft}]):s.push([f,{x:u,y:l,parentId:ft}])}else if(q.length&&F<ot&&_>b-ut){var dt=q[0].id;if(st())return;_-ct+h>ut&&h>=ut?s.push([f,{y:0,x:u,height:ut,width:ut/h*p,parentId:dt}]):s.push([f,{y:l-ct,x:u,parentId:dt}])}else{if(nt>0&&V<nt)return Q()(L).call(L,(function(t){var e,n=null===(e=x.current)||void 0===e?void 0:e.findOne("#".concat(t.id));null==n||n.position({x:Jf(t.x,E),y:Jf(t.y,E)})})),void k();if(ct>0&&H>ct)return Q()(L).call(L,(function(t){var e,n=null===(e=x.current)||void 0===e?void 0:e.findOne("#".concat(t.id));null==n||n.position({x:Jf(t.x,E),y:Jf(t.y,E)})})),void k();if(Y.length&&Tn()(U).call(U,t.type)){var ht=qn()(Y).call(Y,(function(t){var e=t.height,n=t.parentGridId,r=m.findControl(n),i=r.y,o=r.height,a=r.x,u=r.width;return o+i<_&&_<o+i+e&&a<F&&F<u+a}));if(ht){var pt=G()(I).call(I,(function(t,e){var n=m.findControl(e).type;return Tn()(U).call(U,n)||t.add(n),t}),new(di()));if(pt.size){Q()(L).call(L,(function(t){var e,n=null===(e=x.current)||void 0===e?void 0:e.findOne("#".concat(t.id));null==n||n.position({x:Jf(t.x,E),y:Jf(t.y,E)})})),k();var vt=(0,En.c)(pt),gt=(gg||(gg=(0,M.c)((0,M.c)((0,M.c)({},ve,(0,J.getLangMsg)("printd.grid.key0031")),pn.richText,(0,J.getLangMsg)("printd.components.key0062")),ge,(0,J.getLangMsg)("printd.components.key0063"))),gg),mt=G()(vt).call(vt,(function(t,e){return gt[e]&&t.push(gg[e]),t}),[]);return S((0,J.getLangMsg)({key:"printd.grid.key0124",variables:{detail:mt.length?"：".concat(mt.join(" ")):""}})),!0}z=!0;var yt=ht.parentGridId,Ct=ht.id,bt=m.findControl(yt),xt=bt.y,wt=bt.x,Et=bt.height,St=x.current.dragStartMousePos,kt=Vf(St.x-N,E),At=Vf(St.y-j,E),Dt=Vf(A.x-N,E),It=Vf(A.y-j,E);1===I.length?s.push([f,{x:u-wt,y:l-Et-xt,parentId:Ct}]):Q()(I).call(I,(function(t){var e=m.findControl(t),n=e.x,r=e.y,i=(e.type,kt-n),o=At-r,a=Dt-i<0?0:Dt-i,u=(It-o<0?0:It-o)-Et-xt;s.push([t,{x:a-wt,y:u<0?0:u,parentId:Ct}])}))}else s.push([f,{x:u,y:l}])}else s.push([f,{x:u,y:l}])}else s.push([f,{x:u,y:l}]);if(z||(s.push.apply(s,(0,En.c)(c)),z=!1),1===s.length){var Tt=(0,B.c)(s[0],2),Bt=Tt[0],Mt=Tt[1];m.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[Bt,Mt]]))}else m.batchUpdateControlPropertyValues((0,J.createUpdateAction)(s))}}var Cg=function(t,e,n){return Math.max(Jf(t,e,n),.1)},bg=function(){return(0,H.useCallback)((function(t,e,n){return 0!==t.evt.button||(e!==de?(n(t),!0):void 0)}),[])},xg=n(48560),wg=n.n(xg),Eg=function(t,e){return!(!wg()(t,e)&&!Y().isEqual(t,e))},Sg=function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height;return t.x<n||t.y<r||qf(t.x+t.width,1)>qf(n+i,1)||qf(t.y+t.height,qf)>qf(r+o,1)},kg=(0,H.memo)((0,H.forwardRef)((function(t,e){var n=t.stageRef,r=t.rootControlRef,i=t.selectedId,o=t.parentId,a=t.isCell,u=void 0!==a&&a,l=t.isSelected,c=void 0!==l&&l,s=t.isLastSelected,f=void 0!==s&&s,d=t.trRef,h=t.rotateEnabled,p=void 0!==h&&h,v=t.resizeEnabled,g=void 0===v||v,m=t.id,y=t.dataContext,C=t.enabledAnchors,b=void 0===C?["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"]:C,x=t.boundBoxFunc,w=t.controlGroupRef,E=t.isGlobal,S=void 0!==E&&E,k=t.refLineRef,A=void 0===k?{}:k,D=t.padding,I=(0,H.useRef)(null),T=d||I,R=x||function(t,e){var o,a,u=ov(n.current.findOne("#".concat(null===(o=y.findControl(i))||void 0===o?void 0:o.parentId))||r.current),l=u.x,c=u.y,s=u.width,f=u.height,d=u.bottom,h=Xf(t),p=Xf(e),v=(A.current||{}).searchRefLines,g=T.current.getActiveAnchor(),C=v&&v(i,!0,(0,at.c)({},p,{activeAnchor:g}));(J.console.log("refPosition out",C),C&&!Y().isEmpty(C))&&(J.console.log("refPosition",C),J.console.log("refPosition",h,p),Q()(a=hp()(C)).call(a,(function(t){var e=(0,B.c)(t,2),n=e[0],r=e[1];Y().isUndefined(r)||(p[n]=r)})));if(Sg(h,u))return J.console.log("isShapeOverflow(oldBox, rootRect)",h,p,u,Sg),y&&Od(y.findControl(m))?h.x>l+s||h.x<l||h.y<c||h.y>c+f?p:(0,at.c)({},h,{width:h.width>s?qf(l+s-h.x,1):h.width,height:h.height>f?qf(c+f-h.y,1):h.height}):p;if(Sg(p,u))return p.x!==h.x||p.y!==h.y?(0,at.c)({},h,{x:p.x<u.x?u.x:h.x,y:p.y<u.y?u.y:h.y,width:p.x<u.x?qf(p.width+(p.x-u.x),1):h.width,height:p.y<u.y?qf(p.height+(p.y-u.y),1):h.height}):(0,at.c)({},h,{width:qf(p.x+p.width,1)>qf(u.x+u.width,1)?qf(u.x+u.width-p.x,1):h.width,height:qf(p.y+p.height,1)>qf(u.y+u.height,1)?qf(u.y+u.height-p.y,1):h.height});var b=y&&y.findControl(i);if(b&&cp(b)){if(p.height>f)return h}else if(p.y+p.height>d)return h;return 0===p.height?h:p},L=(0,H.useRef)(!1),F=(0,H.useCallback)((function(){if(c){var t,e,r,o,a,u=null===(t=n.current)||void 0===t?void 0:t.findOne((function(t){var e,n=t.name().split(" ");return li()(e=[i.toString(),kt]).call(e,(function(t){return Tn()(n).call(n,t)}))}));if(u){if(null===(e=T.current)||void 0===e||e.nodes([u]),null!=w&&w.current)null===(r=T.current)||void 0===r||r.zIndex(Math.max((null===(o=w.current)||void 0===o?void 0:o.children.length)-2,0))}else null===(a=T.current)||void 0===a||a.detach()}}),[c,i,o]);return K().useEffect((function(){S||F()}),[c,i,o,S]),(0,H.useEffect)((function(){var t=function(t){var e,n;(J.console.log("e.ctrlKe shapeRef.current?.stopDrag()"),null!==(e=T.current)&&void 0!==e&&e.isTransforming())&&(null===(n=T.current)||void 0===n||n.stopTransform())};return S&&document.addEventListener("keydown",t),function(){S&&document.removeEventListener("keydown",t)}}),[S]),S&&lt()((function(){F()})),(0,H.useImperativeHandle)(e,(function(){return{showDash:function(){var t,e;!L.current&&c&&(null===(t=T.current)||void 0===t||t.borderDash([2,2]),null===(e=T.current)||void 0===e||e.forceUpdate(),L.current=!0)},hideDash:function(){var t,e;L.current&&c&&(null===(t=T.current)||void 0===t||t.borderDash([]),null===(e=T.current)||void 0===e||e.forceUpdate(),L.current=!1)},mouseEnter:function(t){var e,n,r;null===(e=T.current)||void 0===e||e.borderStroke(t),null===(n=T.current)||void 0===n||n.visible(!0),null===(r=T.current)||void 0===r||r.forceUpdate()},mouseLeave:function(){var t,e,n;null===(t=T.current)||void 0===t||t.borderStroke(ue),null===(e=T.current)||void 0===e||e.visible(!1),null===(n=T.current)||void 0===n||n.forceUpdate()}}}),[c,i]),f&&J.console.log("isLastSelected",T),c?K().createElement(nv.Transformer,(0,M.c)({ref:T,id:"transformer_".concat(i),resizeEnabled:g&&f&&!u,rotateEnabled:p,anchorStroke:ue,keepRatio:!1,ignoreStroke:!0,padding:u?-1:0,anchorSize:7,enabledAnchors:b,borderStroke:ue,borderStrokeWidth:u?2:1,boundBoxFunc:R},"padding",D)):null})),(function(t,e){return!t.isGlobal&&!e.isGlobal&&wg()(e,t)})),Ag=kg,Dg=["x","y","width","height","backColor","horAlignment","verAlignment","lineWrapRule","foreColor","padding","divideModel","divideCharNums","fontName","fontSize","children","wrap","bold","underLine","strike","italic","textFormat","textOverFlow","type","alpha","globalCompositeOperation","id","border","borderType","isCell","isTemplate","hasChildItems","childItems","isLastSelected","handleMouseDown","isSelected","parentId","dsType"];function Ig(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tg(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Ig(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Ig(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Bg="bindText";function Mg(t,e,n){return t/e*n}function Rg(t,e,n){var r=t/e;return Math.max(r,n)}var Lg=function(t){var e=t.width,n=t.height,r=t.text,i=t.divideNums,o=Uf()(t),a=(t.verticalAlign,t.align),u=t.fontFamily,l=t.fontStyle,c=t.textDecoration,s=t.fontSize,f=t.divideLineEnable,d=t.divideLineColor,h=t.divideLineWidth,p=t.divideLineStyle,v=function(t,e,n){var r,i,o,a=Uf()(r=new Array(n)).call(r,""),u=[],l=On()(t).length;if(l>n)if("left"===e)u=O()(o=Dn()(t).call(t,0,n-1).split("")).call(o,"...");else if("right"===e)(u=Dn()(t).call(t,1-n).split("")).unshift("...");else if(1===n)u=["..."];else if(2===n)u=["...","..."];else{var c,s,f=Math.floor((l-n)/2+1);u=1===f?O()(c=[]).call(c,(0,En.c)(Dn()(t).call(t,0,n-1)),["..."]):O()(s=["..."]).call(s,(0,En.c)(Dn()(t).call(t,f,f+n-2)),["..."])}else if(l<n)if("left"===e)u=t.split("");else if("right"===e){var d;u=O()(d=Dn()(a).call(a,0,-l)).apply(d,(0,En.c)(t))}else{var h,p,v=Math.floor((n-l)/2);u=(0,En.c)(a),si()(h=u).apply(h,O()(p=[v,l]).call(p,(0,En.c)(t)))}else u=t.split("");return si()(a).apply(a,O()(i=[0,u.length]).call(i,(0,En.c)(u))),a}(r,a,i),g=(0,H.useCallback)((function(t){return f&&t!==i&&0!==t}),[i,f]),m=(0,H.useMemo)((function(){var t="solid"!==p,e=lg;switch(p){case"dashed":e=[3,1];break;case"dotted":e=[2,2]}return[e,t]}),[p]),y=(0,B.c)(m,2),C=y[0],b=y[1];return K().createElement(K().Fragment,null,P()(v).call(v,(function(t,r){var a,f,p,v;return K().createElement(K().Fragment,{key:O()(a="divide_".concat(t,"_")).call(a,r)},K().createElement(nv.Text,{width:Rg(e,i,s),height:n,key:O()(f="text_".concat(t,"_")).call(f,r),x:Mg(e,i,r),y:0,text:t,fill:o,verticalAlign:"middle",align:"center",name:O()(p="".concat(At," ")).call(p,It),fontFamily:u,fontStyle:l,textDecoration:c,fontSize:s,wrap:"none",hitStrokeWidth:0,letterSpacing:0}),g(r)&&K().createElement(nv.Line,{key:O()(v="line_".concat(t,"_")).call(v,r),x:Mg(e,i,r),y:0,stroke:d,dash:C,dashEnabled:b,strokeWidth:h,points:[0,n,0,0]}))})))},Fg=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,l,c,s,f,d=(0,H.useContext)(Cn),h=d.selectionContext,p=d.contextStrokeEnabled,v=(h.getSelection(),(0,H.useContext)(xn)),g=d.scale,m=void 0===g?1:g,y=d.pixelRatio,b=(d.getRedundancyXY,d.getInputSize),x=d.getTextSize,w=d.onValid,E=(d.globalTrRef,d.dataContext),S=v.gridState,k=(v.gridX,v.gridY,v.gridBorderType),A=v.isEditorGridState,D=void 0===A||A,I=v.removeGridSelection,T=bg(),R=((0,J.usePrevious)(S),(0,H.useRef)(null)),F=(0,H.useRef)(null),_=(0,H.useRef)(null),P=t[Bg],N=t.viewText||t[Bg]||"",j=t[Bg],U=t.bindField,z=t.dataSource,Z=t.x,Q=void 0===Z?0:Z,W=t.y,V=void 0===W?0:W,q=t.width,X=t.height,$=t.backColor,tt=t.horAlignment,et=void 0===tt?"left":tt,nt=t.verAlignment,rt=void 0===nt?"middle":nt,it=t.lineWrapRule,ot=void 0===it?1:it,ut=t.foreColor,lt=void 0===ut?"#333":ut,ct=t.padding,ft=void 0===ct?Re:ct,dt=t.divideModel,ht=t.divideCharNums,pt=t.fontName,vt=void 0===pt?"Arial":pt,gt=t.fontSize,mt=void 0===gt?12:gt,yt=t.children,Ct=t.wrap,bt=void 0===Ct?"none":Ct,xt=t.bold,wt=void 0!==xt&&xt,Et=t.underLine,Bt=void 0!==Et&&Et,Mt=t.strike,Rt=void 0!==Mt&&Mt,Lt=t.italic,Ft=void 0!==Lt&&Lt,_t=t.textFormat,Pt=t.textOverFlow,Nt=t.type,Ot=t.alpha,jt=void 0===Ot?0:Ot,Gt=t.globalCompositeOperation,Ut=void 0===Gt?"multiply":Gt,zt=t.id,Zt=t.border,Qt=void 0===Zt?{}:Zt,Wt=t.borderType,Jt=t.isCell,Vt=t.isTemplate,Ht=t.hasChildItems,Kt=t.childItems,qt=t.isLastSelected,Yt=t.handleMouseDown,Xt=t.isSelected,$t=t.parentId,te=t.dsType,ee=((0,Wn.c)(t,Dg),t.lineSpace||1),ne=L()(n=st()(ft||Re)).call(n,Boolean),re=G()(r=C()(ft)).call(r,(function(t,e){return t[e]=ft[e]*m,t}),{}),ie=re.top,oe=re.left,ae=re.right,ue=re.bottom,le=(0,H.useState)((mt||12)*m),ce=(0,B.c)(le,2),se=ce[0],fe=ce[1],he="normal";Rt&&Bt?he="underline line-through":Rt?he="line-through":Bt&&(he="underline");var pe=L()(i=[Ft&&"italic",wt&&"bold"]).call(i,Boolean).join(" "),ve={fontSize:se,fontFamily:qe(vt),fontWeight:wt?"700":"normal",fontStyle:Ft?"italic":"textDecoration",textDecoration:he,backgroundColor:$,color:lt,paddingTop:ie,paddingLeft:oe,paddingRight:ae,paddingBottom:ue,align:et,verAlignment:rt,lineHeight:ee,letterSpacing:0},ge=(0,H.useRef)(null),me=!(Jt&&null!=yt&&yt.length),ye=!((null==yt||!yt.length)&&!me||Vt),Ce=O()(o=O()(a=O()(u="".concat(Vt?"template_".concat(zt,"}"):zt," ")).call(u,kt," ")).call(a,At," ")).call(o,Dt),be=O()(l=O()(c=O()(s="".concat(Jt?Tt:""," ")).call(s,St," ")).call(c,kt," ")).call(l,At),xe=cg({x:Q,y:V,id:zt,width:q,height:X,border:Qt,scale:m,contextStrokeEnabled:p,borderType:Wt,isSelected:Xt&&!Vt}),we=xe.stroke,Ee=xe.strokeWidth,Se=xe.strokeEnabled,ke=xe.strokeStyle,Ae=xe.dashEnabled,De=xe.defaultDash,Ie=xe.customedStrokeElement,Te=xe.controlStrokeRef,Be=xe.borderTypes,Me=xe.innerConfig,Le=function(t,e){var n=t.dataSource,r=t.value,i=t.isFormulaMode,o=t.id,a=t.onValid,u=t.bindField,l=t.dataContext,c=(0,H.useState)(!1),s=(0,B.c)(c,2),f=s[0],d=s[1],h=(0,H.useRef)(!1),p=(0,H.useCallback)((function(t){var e=rr(r),a=e.isBindField,c=e.bindField;if(!a||i)d(!1);else{var s=l.findControl(o);if(!s)return void d(!1);var f=nr(c,t);if("$DsKey=[System]"===(null==s?void 0:s.dataSource)&&(f=!0),f)d(!1);else{var h,p=$n(tr(n,u),t);if(!p&&-1!==(null==u||null===(h=kn()(u))||void 0===h?void 0:h.call(u,"."))){var v=s.bindField.match(/w?\w*$/)[0];p=$n(tr(s.dataSource,v),t)}d(!p)}}}),[n,r,i,u]);return(0,H.useEffect)((function(){var t,n;return J.eventBus.on(e,p),J.eventBus.on(O()(t="".concat(e,"_")).call(t,o),d),J.eventBus.on(O()(n="".concat(e,"_")).call(n,o,"_init"),p),h.current=!0,function(){var t,n;J.eventBus.off(e,p),J.eventBus.off(O()(t="".concat(e,"_")).call(t,o),d),J.eventBus.off(O()(n="".concat(e,"_")).call(n,o,"_init"),p)}}),[p,o,e]),(0,H.useEffect)((function(){var t;h.current&&(null==a||a(O()(t="".concat(e,"_")).call(t,o,"_init")))}),[h.current]),[f,d]}({onValid:w,dataSource:z,bindField:U,value:j,isFormulaMode:"Formula"===te,id:zt,dataContext:d.dataContext},lf),_e=(0,B.c)(Le,1)[0],Pe=function(t){var e=t.height,n=t.scale,r=t.offsetLeft,i=void 0===r?3:r,o=t.scaledFontSize,a=(0,H.useCallback)((function(){return{width:o/hg,height:o/hg}}),[o]),u=(0,H.useMemo)((function(){return(Jf(e,n)-1.5*o)/2}),[e,n,o]);return[K().createElement(dg,{getImageSize:a,src:"data:image/png;base64,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",scale:n,x:i,y:u}),i,o/hg]}({height:X,scale:m,offsetLeft:3,scaledFontSize:se}),Oe=(0,B.c)(Pe,3),je=Oe[0],Ge=Oe[1],Ue=Oe[2],ze={stageRef:d.stageRef,rootControlRef:d.rootControlRef,selectedId:zt,ref:ge,isSelected:Xt&&!qt,isCell:Jt,resizeEnabled:!Jt},Ze=!Vt&&K().createElement(Ag,ze);yv({shapeRef:R,isNotNeed:Jt});ne.length>0&&Math.min.apply(Math,(0,En.c)(ne));var Qe=Cg(q,m),We=Cg(X,m),Je=Jf(Q,m),Ve=Jf(V,m),He=dt&&ht>0,Ke=Tn()(Be).call(Be,Fe)||Tn()(Be).call(Be,Ne);dv({isSelected:Xt,refs:ye?[]:[R],pixelRatio:y,scale:m,currentProp:{x:Q,y:V,width:q,height:X,fill:$,align:et,textColor:lt,padding:ft,divideModel:dt,divideCharNums:ht,fontFamily:vt,fontSize:mt,wrap:bt,bold:wt,underLine:Bt,strike:Rt,italic:Ft,textFormat:_t,textOverFlow:Pt,type:Nt,alpha:jt,globalCompositeOperation:Ut,id:zt,border:Qt,isCell:Jt,isTemplate:Vt,hasChildItems:Ht,childItems:Kt}});var Ye=mv({strokeEnabled:Se,shapeRef:F,isSelected:qt,shapeRefStroke:we,controlStrokeRef:Te}),Xe=Ye.onMouseOut,$e=Ye.onMouseOver,tn=yg(t,d),en=Cv({id:zt,refLineRef:d.refLineRef}),nn=(0,H.useMemo)((function(){if(!Me)return[we,Ee,ke];var t=Me.color,e=Me.width,n=Me.style;return[t||we,e||Ee,n||ke]}),[Me,we,Ee,ke]),rn=(0,B.c)(nn,3),on=rn[0],an=rn[1],un=rn[2],ln=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height;d.dataContext.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[zt,{x:Kf(Vf(e,m),1),y:Kf(Vf(n,m),1),width:Kf(Vf(r,m),1),height:Kf(Vf(i,m),1)}]]))}),[zt,m]),cn=uv({id:zt,shapeRef:R,refLineRef:d.refLineRef,context:d,onDragEnd:tn,onDragMove:en,parentId:t.parentId,scale:m}),sn=cn.onDragStart,fn=cn.onDragMove,dn=cn.onDragEnd,pn=cn.dragBoundFunc,vn=fv({id:zt,shapeRef:F,refLineRef:d.refLineRef,onTransformEnd:ln,context:d}),gn=vn.onTransform,mn=vn.onTransformEnd,yn=(0,H.useCallback)((function(t){Yt(t)}),[Yt]),bn=(0,H.useCallback)((function(t){if(S===de&&!Vt&&S){var e=h.getSelection(),n=Jt?zt:$t;Tn()(e).call(e,n)||window.requestAnimationFrame((function(){I(),h.setSelect([n])}))}}),[zt,Jt,Vt,S,$t]),wn=Jt||S?function(t){if(!Ht&&!T(t,S,Yt))if(S===de){var e=d.showEditor,n=d.setEditorPosition,r=R.current,i=iv(r),o=i.height,a=i.width,u=r.getAbsolutePosition();n(Tg({x:u.x,y:u.y,width:a,height:o,value:P,shapeRef:R,id:zt,isWrap:true,propertyName:Bg},ve)),e()}else Yt(t)}:function(t){if(0===t.evt.button&&"RichText"!==Nt){var e=d.showEditor,n=d.setEditorPosition,r=R.current,i=iv(r),o=i.height,a=i.width,u=r.getAbsolutePosition();n(Tg({x:u.x,y:u.y,width:a,height:o,value:P,shapeRef:R,id:zt,isWrap:true,propertyName:Bg},ve)),e()}},Sn=Jt?Tg({},S===de?{onMouseOver:$e,onMouseOut:Xe}:{}):{onDragStart:sn,onDragMove:Y().throttle(fn,100),onDragEnd:dn,onMouseOver:$e,onMouseOut:Xe,dragBoundFunc:Y().throttle(pn,100)},An=Jt?{}:{onTransform:gn,onTransformEnd:mn},Dn=1.5*se,In=3*(Ge+Ue),Bn=(0,H.useMemo)((function(){var t="Formula"===te,e={width:Qe-ae-oe-(t?Dn:0)-(_e?In:0),height:We-ie-ue+0,x:oe+(t?Dn:0)+(_e?In:0),y:ie};if(!N)return e;var n=b(N,{width:e.width*m,fontSize:se,fontFamily:qe(vt)},zt);if(!n)return e;n.width;var r=n.height;if(r>We){var i="middle"===rt?We/2-(ie+ue+r)/2:"bottom"===rt?We-(ie+ue+r):ie;return(0,at.c)(e,{height:r+0,y:i})}return e}),[ft,q,X,Q,V,m,N,Je,Ve,te,qe(vt),mt,se,rt,_e,Ge,Ue,zt]);(0,H.useEffect)((function(){if(3===ot&&N&&/[\r\n]/g.test(N)){var t=N.replace(/[\r\n]/g,"");E.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[zt,{bindText:t}]]))}}),[ot,zt,N,E]);var Mn=function(t){var e,n=t?"width":"height",r=se,i=Number(mt||12)*m,o=function(t){var e=1.5*t,n=3*(Ge+t/2.54),r="Formula"===te;return{width:Qe-ae-oe-(r?e:0)-(_e?n:0),height:We-ie-ue+0,x:oe+(r?e:0)+(_e?n:0),y:ie}}(r),a=o.width,u=(o.height,o[n]),l=function(){return x(Tg({x:0,y:0,fontSize:r,width:t?null:a},c))[n]},c={wrap:hn[ot],textDecoration:he,fontStyle:pe,text:N,perfectDrawEnabled:!1,hitStrokeWidth:0,verticalAlign:rt,align:et,fontFamily:qe(vt)};if(l()>u)for(;!e&&r>1;){r-=1;var s=l();if(s<=0)break;(s<=u||s<=6)&&(e=r)}else if(r<i)for(;!e&&r<100;){r+=1;var f=l();if(f<=0)break;if(f>=u||f>=18){var d=r-1;e=d>=i?i:d}}return e};(0,H.useEffect)((function(){var t=Number(mt||12)*m;"ShrinkWrap"!==Pt&&t!==se&&fe(t)}),[Pt,mt,m,se]),(0,H.useEffect)((function(){if(N&&"ShrinkWrap"===Pt&&1!==se){var t=Mn(3===ot);t&&fe(t)}}),[ft.top,ft.left,ft.right,ft.bottom,q,X,m,N,te,ot,qe(vt),mt,se,Pt,rt,_e,Ge,Ue]);var Rn=ye?{}:{fill:$},Ln=3===ot&&N&&/[\r\n]/g.test(N)?N.replace(/[\r\n]/g,""):N;return K().createElement(K().Fragment,null,K().createElement(nv.Group,(0,at.c)({height:We,width:Qe,clipX:0,clipY:0,clipWidth:Qe,clipHeight:We},Sn,{scale:{x:1,y:1},ref:R,x:Je,y:Ve,id:Vt?"template_".concat(zt):zt,draggable:!Jt&&D,listening:!Vt,name:be}),ye&&!!$&&K().createElement(nv.Rect,{height:We,width:Qe,name:"rect-".concat(zt,"-backColor"),fill:$,scale:{x:1,y:1}}),me?He?K().createElement(Lg,{width:Qe,height:We,text:Ln,divideNums:ht,fill:lt,divideLineEnable:Ke,divideLineColor:on,divideLineWidth:an,divideLineStyle:un,align:et,fontFamily:qe(vt),fontStyle:pe,textDecoration:he,fontSize:se}):K().createElement(K().Fragment,null,_e&&je,"Formula"===te?K().createElement(nv.Text,{text:"fx",width:Dn,height:We,x:oe+(_e?In:0),fill:"#B2B2B2",verticalAlign:"middle",align:"center",fontFamily:qe(vt),fontStyle:pe,fontSize:se}):null,K().createElement(nv.Text,(0,at.c)({},Bn,(0,M.c)((0,M.c)({perfectDrawEnabled:false,scale:{x:1,y:1},text:Ln,letterSpacing:0,fill:lt,verticalAlign:rt,align:et,name:"".concat(At),fontFamily:qe(vt),fontStyle:pe,textDecoration:he,fontSize:se,wrap:hn[ot],ref:_,hitStrokeWidth:0},"name",It),"lineHeight",ee)))):null,K().createElement(nv.Rect,(0,at.c)({height:We,width:Qe,id:"".concat(zt,"_rect"),name:Ce},An,{dashEnabled:Jt?Ae&&!Tn()(f=[Ne]).call(f,k):Ae,listening:!Vt,dash:De,onDblClick:wn,onMouseDown:yn,onContextMenu:bn,scale:{x:1,y:1},x:0,y:0,ref:F,stroke:we,strokeWidth:Ee,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,strokeEnabled:Se},Rn)),yt,Ie),Ze)})),Eg),_g=Fg;function Pg(t,e){var n=void 0!==Gn()&&zn()(t)||t["@@iterator"];if(!n){if(Qn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Ng(t,e);var r=Dn()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return On()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ng(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ng(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Og=null,jg=function(t,e){var n=t.selectionContext,r=t.activedSelectId,i=t.dataContext,o=t.rulerRef,a=t.navToolRef,u=t.beforeMouseDown,l=i.getRootId(),c=l===e,s=n.getSelection(),f=i.findControl(e),d=null==f?void 0:f.parentId,h=((0,H.useContext)(wn)||{}).isMultiKeyActiveWhenSelectedRef,p=void 0===h?(0,H.useRef)(!1):h,v=(0,H.useCallback)((function(t){var e,n,r=((null!==(e=null===(n=a.current)||void 0===n?void 0:n.formatControlInfoRef)&&void 0!==e?e:{}).current||{}).selectItem;if(J.console.log("formatControl",t,l,r,a),r){if(l===t)return void J.eventBus.emit("format-done");var o=i.findControl(t);J.console.log("formatControl",(0,at.c)({},r,o),r,o),i.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[t,(0,at.c)({formatBrush:!0},G()(re).call(re,(function(t,e){var n;if(Tn()(n=["DataCell","LayoutCell"]).call(n,r.type)&&"border"===e){if("border"in r&&"border"in o){var i=Y().cloneDeep(r.border);if(i.width.left&&i.width.top&&i.color.left===i.color.top&&i.width.left===i.width.top&&i.style.left===i.style.top){var a=["right","bottom"],u={color:G()(BORDER_PROPS).call(BORDER_PROPS,(function(t,e){var n=Tn()(a).call(a,e)&&i.width[e];return t[e]=n?i.color[e]:i.color.top,t}),{}),width:G()(BORDER_PROPS).call(BORDER_PROPS,(function(t,e){var n=Tn()(a).call(a,e)&&i.width[e];return t[e]=n?i.width[e]:i.width.top,t}),{}),style:G()(BORDER_PROPS).call(BORDER_PROPS,(function(t,e){var n=Tn()(a).call(a,e)&&i.width[e];return J.console.log(i.style.top),t[e]=n?i.style[e]:i.style.top,t}),{})};t.border=u}else t.border=r.border}}else e in r&&e in o&&(t[e]=r[e]);return t}),{}))]]))}}),[l]),g=e===r,m=Tn()(s).call(s,e),y=d?i.findControl(d):{},C=(0,H.useMemo)((function(){if(y&&Od(y)){var t=$d(i,d).items,e=sd(t),n=e.cells,r=e.columnData,o=e.columns,a=e.rows,u=Y().keyBy(n,"id"),l=function(t,e,n){var r=[],i={};for(var o in t){var a,u=Pg(t[o]);try{for(u.s();!(a=u.n()).done;){var l=a.value;i[l.columnId]||(i[l.columnId]=[]),i[l.columnId].push(l)}}catch(t){u.e(t)}finally{u.f()}}var c,s=Pg(e);try{for(s.s();!(c=s.n()).done;){var f,d=i[c.value.id]||[],h={},p=Pg(d);try{for(p.s();!(f=p.n()).done;){var v=f.value;h[v.rowId]||(h[v.rowId]=[]),h[v.rowId].push(v)}}catch(t){p.e(t)}finally{p.f()}var g,m=[],y=Pg(n);try{for(y.s();!(g=y.n()).done;){var C=g.value.id;h[C]&&m.push.apply(m,(0,En.c)(h[C]))}}catch(t){y.e(t)}finally{y.f()}r.push(m)}}catch(t){s.e(t)}finally{s.f()}return r}(r,o,a);return{gridData:l,cellsMap:u}}return{}}),[y]),b=C.gridData,x=C.cellsMap,w=(0,H.useCallback)((function(t){var l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0,h=t;if(h.id().split("_")[0]!==e&&h.id()!==e&&null!=h&&h.getParent())J.console.log("handleMouseDown",e,h);else if(J.console.log("handleMouseDown"),(!u||!u(s))&&e){var p,m,y=(null!==(p=null===(m=a.current)||void 0===m?void 0:m.formatControlInfoRef)&&void 0!==p?p:{}).current||{},C=(y.selectItem,y.isDoubleClick);J.console.log("isMulti",l,r,e);var w=n.getSelection();if(f||(Og=e),l){if(c){var E;if(o)null===(E=o.current)||void 0===E||E.hideLine();return void J.eventBus.emit("format-done")}if(Tn()(w).call(w,e)){var S=L()(w).call(w,(function(t){return t!==e}));n.setSelect(S)}else{var k=w.length?i.findControl(w[0]).parentId:"";d&&d!==k?n.setSelect([e]):n.appendSelect([e])}v(e)}else if(f&&b&&x[Og]){for(var A=x[Og],D=A.column,I=A.row,T=x[e],B=T.column,M=T.row,R=Math.min(I,M),F=Math.max(I,M),_=Math.min(D,B),P=Math.max(D,B),N=[],j=R;j<=F;j++)for(var G=_;G<=P;G++)N.push(b[G][j].id);n.setSelect(N),v(e)}else{if(J.console.log("id--------------",g,e),Tn()(w).call(w,e)){var U;if(Nd(i.findControl(e)))n.setSelect([e]);else n.setSelect(O()(U=L()(w).call(w,(function(t){return e!==t}))).call(U,e));return}(!g||w.length>1)&&(n.setSelect(c?[]:[e]),v(e))}!1===C&&J.eventBus.emit("format-done")}}),[c,e,g,l,u,b]),E=(0,H.useCallback)((function(t){var e,n=t.currentTarget;if(0===(null===(e=t.evt)||void 0===e?void 0:e.button)||0===t.button){var r=_v(t.evt),i=Pv(t.evt);window.requestAnimationFrame((function(){w(n,r,t,i),p.current=r}))}}),[w,c,e,g,l,u]);return{isRootId:c,selection:s,isSelected:m,activedSelectId:r,isLastSelected:g,handleMouseDown:E}},Gg=function(t){return(0,H.useCallback)((function(e){var n;if(J.console.log("grid cellItem onMouseDown",t),t&&Tn()(n=[fe,"2"]).call(n,t)&&"dblclick"!==(null==e?void 0:e.type))return!0}),[t])},Ug=["key"];function zg(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=zg(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=zg(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Qg=function(t){var e=t.data,n=t.children,r=(t.meta,e.key),i=(0,Wn.c)(e,Ug),o=(0,H.useContext)(Cn),a=(0,H.useContext)(wn),u=(0,H.useContext)(xn).gridState,l=e.id,c=a.activedSelectId,s=jg(Zg(Zg({},o),{},{beforeMouseDown:Gg(u),activedSelectId:c}),l),f=s.handleMouseDown,d=s.isSelected,h=s.isLastSelected;return K().createElement(_g,(0,at.c)({id:l},i,{dataKey:r,isLastSelected:h,isSelected:d,handleMouseDown:f}),n)},Wg=["x","y","width","height","border","displayMode","name","bindType","bindText","bindField","type","id","isLastSelected","handleMouseDown","isSelected","horAlignment","verAlignment"],Jg=(0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,l=(0,H.useContext)(Cn),c=l.globalConfig.previewImageUrl,s=(0,H.useContext)(xn),f=((0,H.useState)(0)[1],s.gridState),d=s.isEditorGridState,h=void 0===d||d,p=(l.selectionContext.getSelection(),l.scale),v=void 0===p?1:p,g=l.contextStrokeEnabled,m=l.pixelRatio,y=bg(),C=(0,H.useRef)(null),b=(0,H.useRef)(null);yv({shapeRef:C});var x=t.x,w=void 0===x?0:x,E=t.y,S=void 0===E?0:E,k=t.width,A=t.height,D=t.border,I=t.displayMode,T=void 0===I?"zoom":I,B=t.name,M=t.bindType,R=t.bindText,L=t.bindField,F=t.type,_=t.id,P=t.isLastSelected,N=t.handleMouseDown,j=t.isSelected,G=t.horAlignment,U=void 0===G?"left":G,z=t.verAlignment,Z=void 0===z?"top":z,Q=(0,Wn.c)(t,Wg);J.console.log("image----PROPS",t),dv({isSelected:j,refs:[C],pixelRatio:m,scale:v,currentProp:{x:w,y:S,width:k,height:A,displayMode:T,name:B,bindType:M,bindText:R,bindField:L,type:F,id:_}});var W=cg({x:w,y:S,id:_,width:k,height:A,border:D,scale:v,isSelected:j,contextStrokeEnabled:g}),V=W.stroke,q=W.strokeWidth,Y=W.strokeEnabled,X=W.dashEnabled,$=W.defaultDash,tt=W.customedStrokeElement,et=W.controlStrokeRef,nt=mv({strokeEnabled:Y,shapeRef:b,isSelected:P,shapeRefStroke:V,controlStrokeRef:et}),rt=nt.onMouseOut,it=nt.onMouseOver,ot=rr(R).isBindField?"":L,ut=ot?O()(n="".concat(c)).call(n,L):"data:image/png;base64,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",lt=Cg(k,v),ct=Cg(A,v),st=Jf(w,v),ft=Jf(S,v),dt=(0,H.useCallback)((function(t,e,n,r){if(ot){var i="zoom"===T?t/e<k/A?{width:A/e*t,height:A}:{width:k,height:k/t*e}:{width:t,height:e},o=i.width,a=i.height,u=0,l=0;if(A-a>0)switch(n){case"middle":u=(A-a)/2;break;case"bottom":u=A-a}if(k-o>0)switch(r){case"center":l=(k-o)/2;break;case"right":l=k-o}return{height:a,width:o,top:u,left:l}}return{width:ot?t:k,height:ot?e:A,top:0,left:0}}),[k,A,T,ot,v]),ht=yg(t,l),pt=Cv({id:_,refLineRef:l.refLineRef}),vt=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height;l.dataContext.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[_,{x:Vf(e,v),y:Vf(n,v),width:Vf(r,v),height:Vf(i,v)}]]))}),[_,v]),gt=uv({id:_,shapeRef:C,refLineRef:l.refLineRef,context:l,onDragEnd:ht,onDragMove:pt,parentId:t.parentId,scale:v}),mt=gt.onDragStart,yt=gt.onDragMove,Ct=gt.onDragEnd,bt=gt.dragBoundFunc,xt=fv({id:_,shapeRef:b,refLineRef:l.refLineRef,onTransformEnd:vt,context:l}),wt=xt.onTransform,Et=xt.onTransformEnd,It={stageRef:l.stageRef,rootControlRef:l.rootControlRef,selectedId:_,isSelected:j&&!P};return K().createElement(K().Fragment,null,K().createElement(nv.Group,(0,at.c)({height:ct,width:lt,clipX:0,clipY:0,clipWidth:lt,clipHeight:ct,onDragStart:mt,onDragMove:yt,onDragEnd:Ct,onMouseOut:rt,onMouseOver:it,onMouseDown:N,onDblClick:function(t){J.console.log("image onDblClick"),y(t,f,N)},ref:C},Q,{x:st,y:ft,dragBoundFunc:bt,id:_,draggable:h,name:O()(r=O()(i="".concat(St," ")).call(i,kt," ")).call(r,At)}),K().createElement(dg,{getImageSize:dt,src:ut,scale:v,horAlignment:U,verAlignment:Z}),K().createElement(nv.Rect,{height:ct,width:lt,name:O()(o=O()(a=O()(u="".concat(_," ")).call(u,kt," ")).call(a,At," ")).call(o,Dt),fill:"transparent",onTransform:wt,onTransformEnd:Et,dashEnabled:X,dash:$,scale:{x:1,y:1},ref:b,stroke:V,strokeWidth:q,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:Y}),tt),K().createElement(Ag,It))})),Vg=Jg,Hg=["key"];function Kg(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function qg(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Kg(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Kg(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Yg=function(t){var e=t.data,n=e.key,r=(0,Wn.c)(e,Hg),i=(0,H.useContext)(Cn),o=(0,H.useContext)(wn),a=(0,H.useContext)(xn).gridState,u=e.id,l=o.activedSelectId,c=jg(qg(qg({},i),{},{beforeMouseDown:Gg(a),activedSelectId:l}),u),s=c.handleMouseDown,f=c.isSelected,d=c.isLastSelected;return K().createElement(Vg,(0,at.c)({},r,{dataKey:n,isLastSelected:d,isSelected:f,handleMouseDown:s}))},Xg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAABCAQMAAAChJZwKAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAKVJREFUeNpj+J/br25jNifhR/Hyy3vkv8kdYKCpyKpzRs4SJ3mOn1hEc5Feyw8GlxPO+7bP9qe9yOwzZvkSB/eknX1Ac5Gej00Gbgy/eNjPHaa5SJ/LGaPJCQ8L3ILyaS7Ss1jCjCfhB0/bwTaai/SmsRkIVxxLT/+UT3ORvn6Q7Tc3tB+cQ3ORXr0yk2aJSzxpE9JoLtIn5GBwRuGxQZvmN9qKAAAoFDTTdduhGwAAAABJRU5ErkJggg==",$g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAACEAQMAAABrihHkAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAKZJREFUeNrN1UEKxSAMBNABD+D9b+kBAmkm0dr/oUuZWij4Ng3JaOEONEO83ProAxBLGJeR0H18QLjhHlgVCiXLa1ki7bhMtf31X4Hn9GqOx8WbZTtiMS5iCQrJ586zUlDJjRIZ3pleoTxGGFtALdGwSvcjUVJBNisnODMmlTzYtN1DraDadV9/R6VVfHm4X2T9rGwn6qCsq4/H+xOyL34fcvlbQysXaMC43QnP9IEAAAAASUVORK5CYII=",tm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAAQMAAAD58POIAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAANVJREFUeNq1lUEOhCAMRUtYuPQIPYo3c5zMxTwKR3DJwsyflmJG9/yGGHguKp/PV+BVVpF1alOhgFNEpvKquk3FpgsJzDgNAF9/HlSwtsEGCWTQJIy2N03ZoPvDwcMwY8FVusmzhgIc1rk0oHv7DgYwCXNVY6nKkuPkxgM7m1g5AHYWEFRzBN7WXGYSMAnPSAd7lUPT8SDKks4uVZeQAMLayQeQTUIK6HmKuKP/gGWDHn1AVYdM4P4wTW3BBCk2lw8hgZ6nvrlmQQq4fuL6qbrfUnso+AFlA+5pQALjxgAAAABJRU5ErkJggg==",em=tm,nm=["x","y","width","height","border","name","bindField","type","id","isLastSelected","handleMouseDown","isSelected","encodeMode"],rm=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u=(0,H.useContext)(Cn),l=(u.selectionContext.getSelection(),u.scale),c=void 0===l?1:l,s=u.contextStrokeEnabled,f=u.pixelRatio,d=(0,H.useContext)(xn),h=d.gridState,p=d.isEditorGridState,v=void 0===p||p,m=(0,H.useRef)(null),y=(0,H.useRef)(null);J.console.log(u,u.refLineRef.searchRefLines);var C=bg();yv({shapeRef:m});var b=t.x,x=void 0===b?0:b,w=t.y,E=void 0===w?0:w,S=t.width,k=t.height,A=t.border,D=t.name,I=t.bindField,T=t.type,B=t.id,M=t.isLastSelected,R=t.handleMouseDown,L=t.isSelected,F=t.encodeMode,_=(0,Wn.c)(t,nm);J.console.log("qrcode----PROPS",t),dv({isSelected:L,refs:[m],pixelRatio:f,scale:c,currentProp:{x:x,y:E,width:S,height:k,name:D,bindField:I,type:T,id:B}});var P=cg({x:x,y:E,id:B,width:S,height:k,border:A,scale:c,isSelected:L,contextStrokeEnabled:s}),N=P.stroke,j=P.strokeWidth,G=P.strokeEnabled,U=P.dashEnabled,z=P.defaultDash,Z=P.customedStrokeElement,Q=P.controlStrokeRef,W=mv({strokeEnabled:G,shapeRef:y,isSelected:M,shapeRefStroke:N,controlStrokeRef:Q}),V=W.onMouseOut,q=W.onMouseOver,Y=(0,H.useMemo)((function(){var t;return null!==(t=g[yn[F]])&&void 0!==t?t:em}),[F]),X=Cg(S,c),$=Cg(k,c),tt=Jf(x,c),et=Jf(E,c),nt=(0,H.useMemo)((function(){var t=S,e=k;if(1!==mn[F]&&F)for(e=S*mn[F];e>k;)e=k,t=k/mn[F];else t=e=S>k?k:S;return{width:t,height:e}}),[S,k,F]),rt=(0,H.useCallback)((function(){return nt}),[nt]),it=(0,H.useMemo)((function(){return S>nt.height?Jf((S-nt.width)/2,c):0}),[nt,c]),ot=(0,H.useMemo)((function(){return k>nt.height?Jf((k-nt.height)/2,c):0}),[nt,c]),ut=yg(t,u),lt=Cv({id:B,refLineRef:u.refLineRef}),ct=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height;u.dataContext.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[B,{x:Vf(e,c),y:Vf(n,c),width:Vf(r,c),height:Vf(i,c)}]]))}),[B,c]),st=uv({id:B,shapeRef:m,refLineRef:u.refLineRef,context:u,onDragEnd:ut,onDragMove:lt,parentId:t.parentId,scale:c}),ft=st.onDragStart,dt=st.onDragMove,ht=st.onDragEnd,pt=st.dragBoundFunc,vt=fv({id:B,shapeRef:y,refLineRef:u.refLineRef,onTransformEnd:ct,context:u}),gt=vt.onTransform,mt=vt.onTransformEnd,yt={stageRef:u.stageRef,rootControlRef:u.rootControlRef,selectedId:B,isSelected:L&&!M};return K().createElement(K().Fragment,null,K().createElement(nv.Group,(0,at.c)({height:$,width:X,clipX:0,clipY:0,clipWidth:X,clipHeight:$,onDragStart:ft,onDragMove:dt,onDragEnd:ht,onMouseOut:V,onMouseOver:q,onDblClick:function(t){J.console.log("image onDblClick"),C(t,h,R)},scale:{x:1,y:1},onMouseDown:R,ref:m},_,{x:tt,y:et,dragBoundFunc:pt,id:B,draggable:v,name:O()(n=O()(r="".concat(St," ")).call(r,kt," ")).call(n,At)}),K().createElement(dg,{getImageSize:rt,src:Y,scale:c,x:it,y:ot}),K().createElement(nv.Rect,{height:$,width:X,name:O()(i=O()(o=O()(a="".concat(B," ")).call(a,kt," ")).call(o,At," ")).call(i,Dt),fill:"transparent",onTransform:gt,onTransformEnd:mt,dashEnabled:U,dash:z,scale:{x:1,y:1},ref:y,stroke:N,strokeWidth:j,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:G}),Z),K().createElement(Ag,yt))})),Eg),im=rm,om=["key"];function am(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=am(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=am(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var lm=function(t){var e=t.data,n=e.key,r=(0,Wn.c)(e,om),i=(0,H.useContext)(Cn),o=(0,H.useContext)(wn),a=(0,H.useContext)(xn).gridState,u=e.id,l=o.activedSelectId,c=jg(um(um({},i),{},{beforeMouseDown:Gg(a),activedSelectId:l}),u),s=c.handleMouseDown,f=c.isSelected,d=c.isLastSelected;return K().createElement(im,(0,at.c)({},r,{dataKey:n,isLastSelected:d,isSelected:f,handleMouseDown:s}))},cm=["x","y","width","height","border","name","bindField","encodeMode","showLabel","rotate","id","isLastSelected","handleMouseDown","isSelected"];var sm=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,l=(0,H.useContext)(Cn),c=(0,H.useState)((function(){return function(){for(var t=[];t.length<13;){var e=Math.floor(10*Math.random());t.push(e)}return t.join("")}()}))[0],s=(l.selectionContext.getSelection(),l.scale),f=void 0===s?1:s,d=l.contextStrokeEnabled,h=l.pixelRatio,p=(0,H.useContext)(xn),v=p.gridState,g=p.isEditorGridState,m=void 0===g||g,y=(0,H.useRef)(null),C=(0,H.useRef)(null),b=bg();J.console.log(l,l.refLineRef.searchRefLines);var x=t.x,w=void 0===x?0:x,E=t.y,S=void 0===E?0:E,k=t.width,A=t.height,D=t.border,I=t.name,T=t.bindField,B=t.encodeMode,M=t.showLabel,R=t.rotate,L=t.id,F=t.isLastSelected,_=t.handleMouseDown,P=t.isSelected,N=(0,Wn.c)(t,cm);dv({isSelected:P,refs:[y],pixelRatio:h,scale:f,currentProp:{x:w,y:S,width:k,height:A,name:I,bindField:T,encodeMode:B,showLabel:M,rotate:R,id:L}});var j=cg({x:w,y:S,id:L,width:k,height:A,border:D,scale:f,isSelected:P,contextStrokeEnabled:d}),G=j.stroke,U=j.strokeWidth,z=j.strokeEnabled,Z=j.dashEnabled,Q=j.defaultDash,W=j.customedStrokeElement,V=j.controlStrokeRef,q=mv({strokeEnabled:z,shapeRef:C,isSelected:F,shapeRefStroke:G,controlStrokeRef:V}),Y=q.onMouseOut,X=q.onMouseOver,$=Cg(A,f),tt=Cg(k,f),et=tt,nt=$,rt=Jf(w,f),it=Jf(S,f),ot=(0,H.useMemo)((function(){return{rotation:Number(R)||0}}),[R]),ut=yg(t,l),lt=Cv({id:L,refLineRef:l.refLineRef}),ct=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height;l.dataContext.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[L,{x:Vf(e,f),y:Vf(n,f),width:Vf(r,f),height:Vf(i,f)}]]))}),[L,f]),st=uv({id:L,shapeRef:y,refLineRef:l.refLineRef,context:l,onDragEnd:ut,onDragMove:lt,parentId:t.parentId,scale:f}),ft=st.onDragStart,dt=st.onDragMove,ht=st.onDragEnd,pt=st.dragBoundFunc,vt=fv({id:L,shapeRef:C,refLineRef:l.refLineRef,onTransformEnd:ct,context:l}),gt=vt.onTransform,mt=vt.onTransformEnd,yt={stageRef:l.stageRef,rootControlRef:l.rootControlRef,selectedId:L,isSelected:P&&!F},Ct=(0,H.useMemo)((function(){var t=Number(R),e=Math.min(tt/9,.3*$);return 90===t||270===t?(e=Math.min($/9,.3*tt),{width:$,height:1.2*e,fontSize:e}):{width:tt,height:1.2*e,fontSize:e}}),[R,tt,$]),bt=(0,H.useCallback)((function(){var t=Number(R);return 90===t||270===t?{width:A,height:M?Vf(tt-Ct.height):k}:{width:k,height:M?Vf($-Ct.height):A}}),[k,A,M,R]),xt=(0,H.useMemo)((function(){switch(Number(R)){case 90:case 180:return tt;default:return 0}}),[R,tt,$]),wt=(0,H.useMemo)((function(){switch(Number(R)){case 90:default:return 0;case 180:case 270:return $}}),[R,tt,$]),Et=(0,H.useMemo)((function(){switch(Number(R)){case 90:return Ct.height;case 180:return tt;case 270:return tt-Ct.height;default:return 0}}),[R,tt,$]),Tt=(0,H.useMemo)((function(){switch(Number(R)){case 90:return 0;case 180:return Ct.height;case 270:return $;default:return $-Ct.height}}),[R,tt,$]);J.console.log("labelProps",Ct);var Bt=l.dataContext.getData().bizType;return K().createElement(K().Fragment,null,K().createElement(nv.Group,(0,at.c)({height:nt,width:et,clipX:0,clipY:0,clipWidth:et,clipHeight:nt,onDragStart:ft,onDragMove:dt,onDragEnd:ht,onMouseOut:Y,onMouseOver:X,onMouseDown:_,onDblClick:function(t){J.console.log("image onDblClick"),b(t,v,_)},ref:y},N,{x:rt,y:it,dragBoundFunc:pt,id:L,draggable:m,name:O()(n=O()(r="".concat(St," ")).call(r,kt," ")).call(n,At)}),K().createElement(nv.Group,{x:0,y:0,height:nt,width:et,name:St},K().createElement(dg,(0,at.c)({getImageSize:bt,src:"data:image/png;base64,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",scale:f,x:"1"===Bt?(et-Jf(48,f))/2||0:xt,width:"1"===Bt?Jf(48):void 0,y:wt},ot)),M&&K().createElement(nv.Text,(0,at.c)({},Ct,{x:Et,y:Tt,text:c,fill:"#000",verticalAlign:"middle",align:"center",name:O()(i="".concat(At," ")).call(i,It),hitStrokeWidth:0},ot))),K().createElement(nv.Rect,{height:nt,width:et,name:O()(o=O()(a=O()(u="".concat(L," ")).call(u,kt," ")).call(a,At," ")).call(o,Dt),fill:"transparent",onTransform:gt,onTransformEnd:mt,dashEnabled:Z,dash:Q,scale:{x:1,y:1},ref:C,stroke:G,strokeWidth:U,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:z}),W),K().createElement(Ag,yt))}))),fm=sm,dm=["key"];function hm(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function pm(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=hm(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=hm(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var vm=function(t){var e=t.data,n=e.key,r=(0,Wn.c)(e,dm),i=(0,H.useContext)(Cn),o=(0,H.useContext)(wn),a=(0,H.useContext)(xn).gridState,u=e.id,l=o.activedSelectId,c=jg(pm(pm({},i),{},{beforeMouseDown:Gg(a),activedSelectId:l}),u),s=c.handleMouseDown,f=c.isSelected,d=c.isLastSelected;return K().createElement(fm,(0,at.c)({},r,{dataKey:n,isLastSelected:d,isSelected:f,handleMouseDown:s}))},gm=n(57048),mm=n(25700),ym=n.n(mm),Cm=function(t){var e=t.className;return K().createElement("div",{className:"".concat(e,"-empty")},K().createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAABgCAYAAACJ8DltAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAqKADAAQAAAABAAAAYAAAAACo6b7MAAADyUlEQVR4Ae2dP2vUYBzHn1QRoRQcRK9SXERQFwfxRfgmHJ0cuohOenUTFwcnwaVvwlfgJA66KIiLHHh1cCkt4mBMaofL3TWN3KX5ffP9HBR6Se7J98+HJ5e7cEmJBwmQAAmQAAmQAAmQAAmQAAmQAAmQAAmQAAmQAAmQAAmQQGcJZJ3tueUd53l+ZvRj72me0t2U5+st724pw+/sjLdu37w6XMpgPRlkpSc+ZmwcwJnnD1XgLA3keXry7sOX4YwZ4wW9BfRg5hQsFkirpfUWUKWZs1oJM+lkHv0FdNKl4P/MpP9KA9DA8AJpSgAaGNBSmjukABocUHdIAVQAUGdIAVQEUFdIAVQIUEdIAVQMUDdIAVQQUCdIAVQUUBdIAVQYUAdIe3u53bfxbnG9yOxjPB7PLpxaMhgMppbEf3p5sNbLLplB47NnrRBAreuPbx5A43dkrRBAreuPbx5A43dkrRBAreuPbx5A43dkrRBAreuPb/50fInLVaj4IfxyE9AajRlUqy87tQBqV7mWYQDV6stOLYDaVa5lGEC1+rJTa3cW3+Ryu8gUuH0K0ctrCEvAFrke9H8A/Tg6m16/PZd+7lcPRjtfP9UO8+D+rdr1i67cfrNfGSLL0tbnF6vDykKBJ9VUBQRHkzgPzmgaSz3lL5Rc29wbRtRWpwlA69JpsG565mzwks42UYQUQDvDpZsdq0Fqd5LUDRbt7fX5y/eVwZu8tz2ENCm8J7UD1O0suELvxBMVSDnET5Tm9m8JaXTPABq9IXN9AGoOQHT7ABq9IXN9AGoOQHT7dmfxy/8u/lL0jqX12QEq3dYc8U0+95zzMplFHOJlqvIUCqCevcu4BlCZqjyF8h60pd4vXrleO/L09Zq1GxuvtAOU7+K1aOcQr9WXnVoAtatcyzCAavVlpxZA7SrXMgygWn3ZqQVQu8q1DAOoVl92agHUrnItwwCq1ZedWgC1q1zLMIBq9WWnFkDtKtcyDKBafdmpBVC7yrUMA6hWX3ZqAdSuci3DAKrVl51aALWrXMswgGr1ZacWQO0q1zIMoFp92akFULvKtQwDqFZfdmoB1K5yLcMAqtWXnVoAtatcy3B/f/omy74X9/9b76qO4+7VedK6jvutqJPW03R/vZ1Bi7vkbjcNge3iJtBbQDcurD7OsuxZKmfSFh/n11ocvPWhs1Hru1hwB709xBdw/i6yeXT4t2BMR7/8xuavOyn9eVXcT3jj6K0irslGp7KVexGVoYkESIAESIAESIAESIAESIAESIAESIAESIAESIAEnBL4C2BywrT3uwIUAAAAAElFTkSuQmCC",width:"168",height:"96",alt:(0,J.getLangMsg)("printd.components.key0018")}),K().createElement("div",{className:"".concat(e,"-empty-text")},(0,J.getLangMsg)("printd.components.key0019")))},bm=function(t){var e=t.visible,n=(t.meta,t.definition,t.onConfirm),r=t.onCancel,i=t.onClose,o="change-lang",a=function(){n()},u=K().createElement(K().Fragment,null,K().createElement("div",{className:"".concat(o,"-modal-footer-btns")},K().createElement(W.Button,{onClick:function(){r()},type:"second",className:"".concat(o,"-modal-cancel-btn")},(0,J.getLangMsg)("printd.components.key0020")),K().createElement(W.Button,{className:"".concat(o,"-modal-ok-btn"),type:"primary",onClick:a},(0,J.getLangMsg)("printd.components.key0021"))));return K().createElement(W.Modal,{body:K().createElement(Cm,{className:"".concat(o,"-body")}),maskClosable:!1,className:"".concat(o,"-modal"),footer:u,bodyStyle:{display:"flex",alignItems:"center",justifyContent:"center"},title:(0,J.getLangMsg)("printd.components.key0018"),type:"confirm",destroyOnClose:!0,onCancel:i,onOk:a,mask:!0,visible:e})},xm=function(t){var e,n=t.className,r=t.row,i=t.setRow,o=t.column,a=t.setColumn,u=t.errorTipShow,l=t.setErrorTipShow,c=(0,H.useState)(0),s=(0,B.c)(c,2),f=s[0],d=s[1],h=(0,H.useState)(0),p=(0,B.c)(h,2),v=p[0],g=p[1],m=(0,H.useContext)(J.DataContext),y=m.getRootId(),C=m.findControl(y).language,b=(0,H.useCallback)((function(){d(0),g(0)}),[]),x=(0,H.useCallback)((function(){return K().createElement("span",{className:"exceed-cell"},"...")}),[]),w=(0,H.useCallback)((function(t){var e=[1,2,3,4,5,6,7,8,9,10];return P()(e).call(e,(function(e){var n,u,l=t<=r&&e<=o,c=t<=f&&e<=v;return K().createElement("div",{className:Hn()({cell:!0,active:l,hover:!l&&c}),key:O()(n="".concat(t,"-")).call(n,e),onClick:function(){return function(t,e){t=String(t),e=String(e),i(t),a(e)}(t,e)},onMouseOver:function(){return function(t,e){d(t),g(e)}(t,e)}},(u=e,8===t&&r>8&&u<=o||10===u&&o>10&&t<=r?x():null))}))}),[r,o,f,v]);return K().createElement(K().Fragment,null,u&&K().createElement(W.Alert,{className:"".concat(n,"-alert"),message:(0,J.getLangMsg)("printd.components.key0030"),type:"error",delayOffTime:0,closable:!0,showIcon:!0,onClose:function(){return l(!1)}}),K().createElement("div",{className:n},K().createElement("div",{className:"grid-info"},K().createElement("div",{className:"grid-input"},K().createElement("div",{className:"label"},(0,J.getLangMsg)("printd.components.key0015")),K().createElement(W.InputNumber,{placeholder:"",value:r,style:"en_US"===C?{width:45}:{},onChange:function(t){i(t.target.value)}})),K().createElement("div",{className:"grid-input"},K().createElement("div",{className:"label"},(0,J.getLangMsg)("printd.components.key0016")),K().createElement(W.InputNumber,{placeholder:"",value:o,style:"en_US"===C?{width:45}:{},onChange:function(t){a(t.target.value)}}))),K().createElement("div",{className:"grid-main",onMouseLeave:b},(e=[1,2,3,4,5,6,7,8],P()(e).call(e,(function(t){return K().createElement("div",{className:"row",key:t},w(t))}))))))},wm=function(t){var e=t.visible,n=t.onCancel,r=(t.meta,t.definition,t.onConfirm),i=(0,H.useState)(""),o=(0,B.c)(i,2),a=o[0],u=o[1],l=(0,H.useState)(""),c=(0,B.c)(l,2),s=c[0],f=c[1],d=(0,H.useState)(!1),h=(0,B.c)(d,2),p=h[0],v=h[1],g="grid-settings",m=K().createElement(K().Fragment,null,K().createElement("div",{className:"".concat(g,"-modal-footer-btns")},K().createElement(W.Button,{onClick:n,type:"second",className:"".concat(g,"-modal-cancel-btn")},(0,J.getLangMsg)("printd.components.key0011")),K().createElement(W.Button,{className:"".concat(g,"-modal-ok-btn"),type:"primary",onClick:function(){if(!(Number(a)>0&&Number(s)>0))return J.console.log("errorTipShow",p),v(!0);p&&v(!1),r({row:a,column:s})}},(0,J.getLangMsg)("printd.components.key0012"))));return K().createElement(W.Modal,{body:K().createElement(xm,{className:"".concat(g,"-body"),row:a,setRow:u,column:s,setColumn:f,errorTipShow:p,setErrorTipShow:v}),titleIcon:null,maskClosable:!1,className:"".concat(g,"-modal"),footer:m,width:400,height:500,title:(0,J.getLangMsg)("printd.components.key0017"),destroyOnClose:!0,closable:!0,onCancel:n,onOk:function(){return null},mask:!0,visible:e})},Em=function(t){var e,n=t.className,r=t.row,i=t.setRow,o=t.column,a=t.setColumn,u=t.errorTipShow,l=t.setErrorTipShow,c=(0,H.useState)(0),s=(0,B.c)(c,2),f=s[0],d=s[1],h=(0,H.useState)(0),p=(0,B.c)(h,2),v=p[0],g=p[1],m=(0,H.useContext)(J.DataContext),y=m.getRootId(),C=m.findControl(y).language,b=(0,H.useCallback)((function(){d(0),g(0)}),[]),x=(0,H.useCallback)((function(){return K().createElement("span",{className:"exceed-cell"},"...")}),[]),w=(0,H.useCallback)((function(t){var e=[1,2,3,4,5,6,7,8,9,10];return P()(e).call(e,(function(e){var n,u,l=t<=r&&e<=o,c=t<=f&&e<=v;return K().createElement("div",{className:Hn()({cell:!0,active:l,hover:!l&&c}),key:O()(n="".concat(t,"-")).call(n,e),onClick:function(){return function(t,e){t=String(t),e=String(e),i(t),a(e)}(t,e)},onMouseOver:function(){return function(t,e){d(t),g(e)}(t,e)}},(u=e,8===t&&r>8&&u<=o||10===u&&o>10&&t<=r?x():null))}))}),[r,o,f,v]);return K().createElement(K().Fragment,null,u&&K().createElement(W.Alert,{className:"".concat(n,"-alert"),message:(0,J.getLangMsg)("printd.components.key0014"),type:"error",delayOffTime:0,closable:!0,showIcon:!0,onClose:function(){return l(!1)}}),K().createElement("div",{className:n},K().createElement("div",{className:"grid-info"},K().createElement("div",{className:"grid-input"},K().createElement("div",{className:"label"},(0,J.getLangMsg)("printd.components.key0015")),K().createElement(W.InputNumber,{placeholder:"",value:r,style:"en_US"===C?{width:45}:{},onChange:function(t){i(t.target.value)}})),K().createElement("div",{className:"grid-input"},K().createElement("div",{className:"label"},(0,J.getLangMsg)("printd.components.key0016")),K().createElement(W.InputNumber,{placeholder:"",value:o,style:"en_US"===C?{width:45}:{},onChange:function(t){a(t.target.value)}}))),K().createElement("div",{className:"grid-main",onMouseLeave:b},(e=[1,2,3,4,5,6,7,8],P()(e).call(e,(function(t){return K().createElement("div",{className:"row",key:t},w(t))}))))))},Sm=function(t){var e=t.visible,n=t.onCancel,r=(t.meta,t.definition,t.onConfirm),i=(0,H.useState)(""),o=(0,B.c)(i,2),a=o[0],u=o[1],l=(0,H.useState)(""),c=(0,B.c)(l,2),s=c[0],f=c[1],d=(0,H.useState)(!1),h=(0,B.c)(d,2),p=h[0],v=h[1],g="grid-settings",m=K().createElement(K().Fragment,null,K().createElement("div",{className:"".concat(g,"-modal-footer-btns")},K().createElement(W.Button,{onClick:n,type:"second",className:"".concat(g,"-modal-cancel-btn")},(0,J.getLangMsg)("printd.components.key0011")),K().createElement(W.Button,{className:"".concat(g,"-modal-ok-btn"),type:"primary",onClick:function(){if(!(Number(a)>0&&Number(s)>0))return J.console.log("errorTipShow",p),v(!0);p&&v(!1),r({row:a,column:s})}},(0,J.getLangMsg)("printd.components.key0012"))));return K().createElement(W.Modal,{body:K().createElement(Em,{className:"".concat(g,"-body"),row:a,setRow:u,column:s,setColumn:f,errorTipShow:p,setErrorTipShow:v}),titleIcon:null,maskClosable:!1,className:"".concat(g,"-modal"),footer:m,width:400,height:500,title:(0,J.getLangMsg)("printd.components.key0017"),destroyOnClose:!0,closable:!0,onCancel:n,onOk:function(){return null},mask:!0,visible:e})};function km(t,e){var n=void 0!==Gn()&&zn()(t)||t["@@iterator"];if(!n){if(Qn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Am(t,e);var r=Dn()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return On()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Am(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Am(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dm(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Dm(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Dm(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Tm="start",Bm="ruler-split-line",Mm="#5797FF",Rm="#D9D9D9",Lm=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mt;return t%20==0?1*(n-16):t%10==0?1*(n-8):1*(n-4)},Fm=function(){return Im(Im({},function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt;return"x"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x")?{x:0,y:t}:{y:0,x:t}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x")),{},{stroke:Rm,strokeWidth:1,listening:!1})},_m=(0,H.memo)((0,H.forwardRef)((function(t,e){var n=t.direction,r=t.scale,i=void 0===r?1:r,o=t.pageSize,a=t.ruleWidth,u=void 0===a?Mt:a,l=t.marginTop,c=void 0===l?0:l,s=t.marginLeft,f=void 0===s?0:s,d=t.marginBottom,h=void 0===d?0:d,p=t.marginRight,v=void 0===p?0:p,g=(0,H.useRef)(null),m=(0,H.useRef)(null),y=(0,H.useRef)(null),C=(0,H.useRef)(null),b=(0,H.useRef)(null),x=(0,H.useRef)(null),w=Wf(i),E=Mt+c*w,S=Mt+f*w,k=(0,H.useRef)(null),A=(0,H.useRef)(null),D=(0,H.useRef)([]),I=(0,H.useRef)(null),T=(0,H.useRef)(null);(0,H.useImperativeHandle)(e,(function(){return{operateLine:function(t){var e,n,r,i,o,a,u,l,c,s=t.top,f=(t.bottom,t.left),d=(t.right,t.width),h=t.height;null===(e=b.current)||void 0===e||e.position({x:0,y:s+E}),null===(n=I.current)||void 0===n||n.points([f+S,Mt,d+f+S,Mt]),null===(r=I.current)||void 0===r||r.visible(!0),null===(i=b.current)||void 0===i||i.height(h),null===(o=x.current)||void 0===o||o.position({x:f+S,y:0}),null===(a=T.current)||void 0===a||a.points([Mt,s+E,Mt,s+E+h]),null===(u=T.current)||void 0===u||u.visible(!0),null===(l=x.current)||void 0===l||l.width(d);var p=[b,x];Q()(c=[A,k]).call(c,(function(t,e){var n,r=null===(n=t.current)||void 0===n?void 0:qn()(n).call(n,".".concat(Bm)).toArray(),i=p[e].current;if(i){var o;Q()(o=D.current).call(o,(function(t){t.stroke(Rm)})),D.current=[];var a,u=!1,l=km(r);try{for(l.s();!(a=l.n()).done;){var c=a.value;if(ym().Util.haveIntersection(i.getClientRect(),c.getClientRect()))u=!0,D.current.push(c),c.stroke(Mm);else{if(u)break;c.stroke(Rm)}}}catch(t){l.e(t)}finally{l.f()}}})),Q()(p).call(p,(function(t){var e,n;null===(e=t.current)||void 0===e||e.visible(!0),null===(n=t.current)||void 0===n||null===(n=n.getLayer())||void 0===n||n.batchDraw()}))},hideLine:function(){var t,e,n,r;null===(t=I.current)||void 0===t||t.visible(!1),null===(e=T.current)||void 0===e||e.visible(!1),Q()(n=D.current).call(n,(function(t){t.stroke(Rm)})),Q()(r=[b,x]).call(r,(function(t){var e,n;null===(e=t.current)||void 0===e||e.visible(!1),null===(n=t.current)||void 0===n||null===(n=n.getLayer())||void 0===n||n.batchDraw()}))},operateRuler:function(t){var e,n,r,i,o=t.top,a=t.left;void 0!==o&&(null===(e=A.current)||void 0===e||e.position({y:o}),null===(n=A.current)||void 0===n||n.batchDraw());void 0!==a&&(null===(r=k.current)||void 0===r||r.position({x:a}),null===(i=k.current)||void 0===i||i.batchDraw())}}}),[c,f,i]);var B=o.height,M=o.width,R=Math.max(B,c+h)+Rt,L=Math.max(M,f+v)+Rt;return"x"===n?K().createElement(Om,{direction:"x",highLineRef:T,scale:i,rectRef:b,marginStart:c,marginEnd:h,realLength:R,ruleWidth:u,frontRef:g,endRef:m,ref:A}):K().createElement(Om,{direction:"y",highLineRef:I,scale:i,rectRef:x,marginStart:f,marginEnd:v,realLength:L,ruleWidth:u,frontRef:y,endRef:C,ref:k})})));function Pm(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mt;return{x:"x"===t?e:n+r+4,y:"x"===t?n+r+-3:e}}function Nm(t){var e=t.direction,n=t.scale,r=t.seq,i=t.marginLength,o=t.length,a=t.rulerWidth,u=void 0===a?Mt:a,l={},c=Wf(n);if("x"===e){var s,f={y:r===Tm?0:o-i-Rt,x:0,height:i};(0,at.c)(l,G()(s=C()(f)).call(s,(function(t,e){return t[e]=f[e]*c,"y"===e&&(t[e]+=u),t}),{}),{width:u})}else{var d,h={x:r===Tm?0:o-i-Rt,y:0,width:i};(0,at.c)(l,G()(d=C()(h)).call(d,(function(t,e){return t[e]=h[e]*c,"x"===e&&(t[e]+=u),t}),{}),{height:u})}return(0,at.c)(l,{listening:!1,fill:"#000000",opacity:.1})}var Om=(0,H.memo)((0,H.forwardRef)((function(t,e){var n=t.direction,r=t.scale,i=t.marginStart,o=t.marginEnd,a=t.realLength,u=t.ruleWidth,l=void 0===u?Mt:u,c=t.frontRef,s=t.endRef,f=t.rectRef,d=t.highLineRef,h=[],p=[],v=Wf(r),g=Nm({direction:n,scale:r,seq:Tm,marginLength:i,length:a}),m=Nm({direction:n,scale:r,seq:"end",marginLength:o,length:a}),y="x"===n?[m.x,g.y+g.height,g.x+g.width,g.y+g.height]:[g.x+g.width,0,g.x+g.width,g.height],C="x"===n?[m.x,m.y,m.x+m.width,m.y]:[m.x,0,m.x,m.height];p.push(K().createElement(nv.Line,(0,at.c)({},g,{opacity:1,fill:"#0E5FD8",dash:[2,2],x:0,y:0,stroke:"#0E5FD8",strokeWidth:2,points:y,key:"".concat("x"===n?"rect_horizontal_start":"rect_vertical_start")})),K().createElement(nv.Line,(0,at.c)({},m,{opacity:1,fill:"#0E5FD8",dash:[2,2],x:0,y:0,stroke:"#0E5FD8",strokeWidth:2,points:C,key:"".concat("x"===n?"rect_horizontal_end":"rect_vertical_end")})),K().createElement(nv.Rect,(0,at.c)({ref:f,visible:!1},(0,M.c)((0,M.c)({listening:!1,opacity:1},"x"===n?"width":"height",l),"x"!==n?"width":"height",l),{key:"".concat("x"===n?"rect_horizontal_control":"rect_vertical_control"),fill:"#C7E5FF",x:0,y:0,id:"".concat("x"===n?"rect_horizontal_control":"rect_vertical_control")})));for(var b=0;b<a;b+=2){var x,w=b*v,E="x"===n?[Lm(b,a),w,l,w]:[w,Lm(b,a),w,l];h.push(K().createElement(nv.Line,(0,at.c)({},Fm(n),{key:O()(x="".concat(n,"_")).call(x,b),points:E,name:Bm})));if(b%20==0&&b<a-Rt){var S,k=Pm(n,4.5,w);h.push(K().createElement(nv.Text,(0,at.c)({letterSpacing:2,fill:"#999999",rotation:"x"===n?-90:0,fontSize:10,align:"right",text:Math.round(b/1)+"",key:O()(S="text_".concat("x"===n?"horizontal":"vertical","_")).call(S,b),listening:!1},k)))}}var A="x"===n?[0,0,l,0]:[0,0,0,l];return h.push(K().createElement(nv.Line,(0,at.c)({},Fm(n),{points:A,ref:c,visible:!1,key:"x"===n?"top-line":"left-line"}))),h.push(K().createElement(nv.Line,(0,at.c)({},Fm(n),{points:A,ref:s,visible:!1,key:"x"===n?"bottom-line":"right-line"}))),h.push(K().createElement(nv.Line,{stroke:Mm,points:"x"===n?[l,0,l,1]:[0,l,1,l],ref:d,visible:!1,key:"x"===n?"left-high-line":"top-high-line"})),K().createElement(K().Fragment,null,K().createElement(nv.Layer,{ref:e,listening:!1,key:"ruler_".concat(n)},K().createElement(nv.Group,null,(0,J.toArray)(O()(p).call(p,h)))))}))),jm=_m,Gm=n(75240),Um=n(92192),zm=n.n(Um);function Zm(t,e){var n=void 0!==Gn()&&zn()(t)||t["@@iterator"];if(!n){if(Qn()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Qm(t,e);var r=Dn()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return On()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qm(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Qm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wm=.09,Jm={hLine:[],vLine:[]},Vm="LEFT",Hm="RIGHT",Km="BOTTOM",qm="TOP",Ym={x:0,y:0,stroke:"#FB2323",fill:"#FB2323",shadowEnabled:!1,strokeWidth:.5,listening:!1};function Xm(t){var e={length:0,origin:0,position:0,distance:zm()};if(!t.length)return[e,-1];var n=zm(),r=G()(t).call(t,(function(t,e){var r=(0,Gm.c)(e),i=r[0],o=r[1],a=Dn()(r).call(r,2);if(a.length){var u=Math.max.apply(Math,(0,En.c)(a))-Math.min.apply(Math,(0,En.c)(a)),l=Math.min.apply(Math,(0,En.c)(a));return o<n&&(n=o),O()(t).call(t,[{length:u,origin:l,position:i,distance:o}])}return t}),[]),i=dt()(r).call(r,(function(t){var e=t.distance;return n===e}));return[-1!==i?r[i]:e,i]}function $m(t,e,n){var r=n.x,i=n.y,o=t.position,a=t.origin,u=t.lineLength;return"x"===e?[o-r,a-i,o-r,a+u-i]:[a-r,o-i,a+u-r,o-i]}var ty=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i=t.lines,o=void 0===i?Jm:i,a=t.stageRef,u=(t.marginTop,t.marginLeft,t.rootControlRef),l=t.selectionContext,c=t.getRedundancyXY,s=t.dataContext,f=t.controlGroupRef,d=(0,H.useState)(!0),h=(0,B.c)(d,2),p=h[0],v=h[1],g=(0,H.useState)(o),m=(0,B.c)(g,2),y=m[0],C=m[1];(0,H.useEffect)((function(){return J.eventBus.on("refline",(function(t){p!==t&&v(t)})),function(){J.eventBus.off("refline")}}),[p]);var b=(0,H.useCallback)((function(t){var e=t.selectedNode,n=t.posInfo,r=t.isTransformAction,i=void 0!==r&&r,o=(t.selectedId,t.transformerNewBox),a=n.top,u=n.left,l=n.width,c=n.height,s=n.isNotChangeTopLeft,f=void 0!==s&&s,d={};if(p){if(void 0!==a)if(i){var h=o.x,v=o.height,g=o.rotation,m=o.width,y=o.y;d.rotation=g,d.x=h,d.y=f?y:a,d.height=c,d.width=m,J.console.log("transformer resBox update",{y:a,x:h,height:c,heightArr:[v,c]})}else{var C=e.absolutePosition().x;d.x=C,d.refY=a,d.selectedNode=e}else if(void 0!==u)if(i){var b=o.y,x=o.width,w=o.rotation,E=o.height,S=o.x;d.rotation=w,d.x=f?S:u,d.y=b,d.width=l,d.height=E,J.console.log("transformer resBox update",{y:b,x:u,width:l,widthArr:[x,l]})}else{var k=e.absolutePosition().y;d.refX=u,d.y=k,d.selectedNode=e}return d}}),[p]),x=(0,H.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(p&&t){var r,i,o,c,d={},h="",v=s.findControl(null===(r=s.findControl(t))||void 0===r?void 0:r.parentId);if(Tn()(un).call(un,null==v?void 0:v.type))return;var g=a.current,m=u.current,y=ov(m),x=null==g?void 0:g.findOne("#".concat(t));if(!x)return void J.console.log("error selectedNode selectedId",x,t);J.console.log("selectedNode",x);var w=(0,at.c)({},ov(x));if(e){var E=n.x,S=n.y,k=n.height,A=n.width,D=n.activeAnchor;h=D,(0,at.c)(w,Xf((0,at.c)({},n,{left:E,top:S,right:E+A,bottom:S+k})))}var I=!e&&Sg(ov(x),ov(u.current)),T=w.width,M=w.height,R=w.x,F=w.y,N=R,j=R+T,G=F,U=F+M,Z={x:Math.max(R-6,0),y:y.y,width:Math.min(T+12,y.width),height:y.height},Q={x:y.x,y:Math.max(F-6,0),width:y.width,height:Math.min(M+12,y.height)},W=Uf()(i=new Array(6)).call(i,{visible:!1,position:0,origin:0,lineLength:0}),V={vLine:JSON.parse(z()(W)),hLine:JSON.parse(z()(W))},H=(null===(o=f.current)||void 0===o?void 0:o.getChildren((function(t){var e;return Tn()(e=t.name().split(" ")).call(e,St)})))||[],K=l.getSelection(),q=[],Y=s.findControl(t);if(!e&&Gd(Y)){var X=Y.parentGridId;X&&q.push(X)}if(!e&&jd(Y)){var $=Y.subGridId;null!=$&&$.length&&q.push.apply(q,(0,En.c)($))}var tt,et=O()(c=[]).call(c,(0,En.c)(I?H:L()(H).call(H,(function(t){var n;return Xn()(n=[Z,Q]).call(n,(function(n){var r=t.name().split(" "),i=t.id();return!(r.length>0&&Tn()(r).call(r,Tt))&&(!!e||!Tn()(K).call(K,i))&&!Tn()(q).call(q,i)&&ym().Util.haveIntersection(n,ov(t))}))}))),[m]),nt={value:{x:[[],[],[],[],[],[]],y:[[],[],[],[],[],[]]},snapPosConfig:{x:[[],[],[],[],[],[]],y:[[],[],[],[],[],[]]},visible:[],position:[]},rt=!1,it=Zm(et);try{for(it.s();!(tt=it.n()).done;){var ot=tt.value,ut=ot===m;if(ot.id()!=="".concat(t)||ut){var lt=ov(ot),ct=lt.width,st=lt.height,ft=lt.x,dt=lt.y,ht=ft+ct,pt=dt+st,vt=!1,gt=!1,mt=G+M/2-(dt+st/2),yt=Math.abs(mt),Ct=N+T/2-(ft+ct/2),bt=Math.abs(Ct),xt=dt-U,wt=Math.abs(xt);J.console.log("refLines",dt,U,xt,wt);var Et=pt-U,kt=Math.abs(Et),At=dt-G,Dt=Math.abs(At),It=pt-G,Bt=Math.abs(It),Mt=ft-j,Rt=Math.abs(Mt),Lt=ht-j,Ft=Math.abs(Lt),_t=ft-N,Pt=Math.abs(_t),Nt=ht-N,Ot=Math.abs(Nt),jt=[bt,Rt,Ft,Pt,Ot],Gt=[yt,wt,kt,Dt,Bt],Ut=(Math.min.apply(Math,jt),Math.min.apply(Math,Gt),yt<=5),zt=bt<=5,Zt=wt<=5&&!ut,Qt=kt<=5&&!ut,Wt=Dt<=5&&!ut,Jt=Bt<=5&&!ut,Vt=Rt<=5&&!ut,Ht=Ft<=5&&!ut,Kt=Pt<=5&&!ut,qt=Ot<=5&&!ut,Yt=function(t){if(!e)return!0;switch(h){case"top-left":var n;return Tn()(n=[qm,Vm]).call(n,t);case"top-center":var r;return Tn()(r=[qm]).call(r,t);case"top-right":var i;return Tn()(i=[qm,Hm]).call(i,t);case"bottom-left":var o;return Tn()(o=[Km,Vm]).call(o,t);case"bottom-center":var a;return Tn()(a=[Km]).call(a,t);case"bottom-right":var u;return Tn()(u=[Km,Hm]).call(u,t);case"middle-left":var l;return Tn()(l=[Vm]).call(l,t);case"middle-right":var c;return Tn()(c=[Hm]).call(c,t);default:return!1}};if(J.console.log(Rt,Ft,h),nt.visible=[Zt,Qt,Wt,Jt,Ut,Ut,Vt,Ht,Kt,qt,zt,zt],nt.position=[dt,pt,dt,pt,dt+st/2,dt+st/2,ft,ht,ft,ht,ft+ct/2,ft+ct/2],Zt||e&&wt<=Wm&&!ut){var Xt={top:dt-M,height:dt-G,isNotChangeTopLeft:!0};J.console.log("refline ts",Xt);var $t=!1;!vt&&Yt(Km)&&(nt.snapPosConfig.y[0].push(Xt),vt=!0,$t=!0),($t||wt<=Wm)&&!ut&&nt.value.y[0].push([dt,wt,ft,ht,N,j])}if(Wt||e&&Dt<=Wm&&!ut){var te={top:dt,height:U-dt};J.console.log("refline bs",te);var ee=!1;!vt&&Yt(qm)&&(nt.snapPosConfig.y[3].push(te),vt=!0,ee=!0),(ee||Dt<=Wm&&!ut)&&nt.value.y[3].push([dt,Dt,ft,ht,N,j])}if(Qt||e&&kt<=Wm&&!ut){var ne={top:pt-M,height:pt-G,isNotChangeTopLeft:!0};J.console.log("refline ts",ne);var re=!1;!vt&&Yt(Km)&&(nt.snapPosConfig.y[1].push(ne),vt=!0,re=!0),(re||kt<=Wm&&!ut)&&nt.value.y[1].push([pt,kt,ft,ht,N,j])}if(Jt||e&&Bt<=Wm&&!ut){var ie={top:pt,height:U-pt};J.console.log("refline bs",ie);var oe=!1;!vt&&Yt(qm)&&(nt.snapPosConfig.y[4].push(ie),vt=!0,oe=!0),(oe||Bt<=Wm&&!ut)&&nt.value.y[4].push([pt,Bt,ft,ht,N,j])}if(Vt||e&&Rt<=Wm&&!ut){var ae={left:ft-T,width:ft-N,isNotChangeTopLeft:!0};J.console.log("refline ls",ae);var ue=!1;!gt&&Yt(Hm)&&(nt.snapPosConfig.x[0].push(ae),gt=!0,ue=!0),(ue||Rt<=Wm&&!ut)&&nt.value.x[0].push([ft,Rt,dt,pt,G,U])}if(Kt||e&&Pt<=Wm&&!ut){var le={left:ft,width:j-ft};J.console.log("refline rs",le);var ce=!1;!gt&&Yt(Vm)&&(nt.snapPosConfig.x[3].push(le),gt=!0,ce=!0),(ce||Pt<=Wm&&!ut)&&nt.value.x[3].push([ft,Pt,dt,pt,G,U])}if(Ht||e&&Ft<=Wm&&!ut){var se={left:ht-T,width:ht-N,isNotChangeTopLeft:!0};J.console.log("refline ls",se);var fe=!1;!gt&&Yt(Hm)&&(nt.snapPosConfig.x[1].push(se),gt=!0,fe=!0),(fe||Ft<=Wm&&!ut)&&nt.value.x[1].push([ht,Ft,dt,pt,G,U])}if(qt||e&&Ot<=Wm&&!ut){var de={left:ht,width:j-ht};J.console.log("refline rs",de);var he=!1;!gt&&Yt(Vm)&&(nt.snapPosConfig.x[4].push(de),gt=!0,he=!0),(he||Ot<=Wm&&!ut)&&nt.value.x[4].push([ht,Ot,dt,pt,G,U])}if(!e&&Ut||yt<=Wm){var pe={top:dt+st/2-M/2};J.console.log("refline hc",pe);var ve=!1;!vt&&Yt("")&&(nt.snapPosConfig.y[2].push(pe),vt=!0,ve=!0),(ve||yt<=Wm)&&nt.value.y[2].push([dt+st/2,yt,ft,ht,N,j])}if(!e&&(zt||bt<=Wm)){var ge={left:ft+ct/2-T/2};J.console.log("refline vc",ge);var me=!1;!gt&&Yt("")&&(nt.snapPosConfig.x[5].push(ge),gt=!0,me=!0),(me||bt<=Wm)&&nt.value.x[5].push([ft+ct/2,bt,dt,pt,G,U])}}}}catch(t){it.e(t)}finally{it.f()}for(var ye=[0,1,3,4,2,0,1,3,4,5],Ce={0:1,3:4,1:0,4:3},be={x_0:[5,3,4],x_1:[5,3,4],x_5:[0,1,3,4],x_3:[0,1,5],x_4:[0,1,5],y_0:[3,4,2],y_1:[3,4,2],y_3:[0,1,2],y_4:[0,1,2],y_2:[0,1,3,4]},xe=function(){var r=we<ye.length/2?"y":"x",i=we<ye.length/2?"hLine":"vLine",o=Xm(nt.value[r][ye[we]]),a=(0,B.c)(o,2),u=a[0],l=u.origin,c=u.length,s=u.position,f=u.distance,h=a[1],p=h;if(!e&&-1!==p){var v,g,m,y,C=Ce[ye[we]],w=be[O()(v="".concat(r,"_")).call(v,ye[we])],E=_.isUndefined(C)?[{distance:f},p]:Xm(nt.value[r][C]),S=(0,B.c)(E,2),k=S[0].distance,A=S[1],D=P()(g=L()(m=P()(w).call(w,(function(t){return Xm(nt.value[r][t])}))).call(m,(function(t){var e=(0,B.c)(t,2);e[0];return-1!==e[1]}))).call(g,(function(t){return(0,B.c)(t,1)[0].distance}));if(-1!==A&&k<f&&f>Wm&&(p=-1),-1!==p&&D.length>0&&f>Wm)if(Xn()(D).call(D,(function(t){return t<=f})))if(p=-1,Math.min.apply(Math,(0,En.c)(D))===f)Tn()(y=[3,4]).call(y,ye[we])&&(p=h)}if(0!==l&&0!==c&&-1!==p){!rt&&(rt=!0);var I=nt.snapPosConfig[r][ye[we]][h];I&&function(e,r,i){J.console.log("transformer newBox",(0,at.c)({},n));var o=b({selectedNode:e,posInfo:r,isTransformAction:i,selectedId:t,transformerNewBox:(0,at.c)({},_.isEmpty(d)?n:d)});(0,at.c)(d,o)}(x,I,e),V[i][ye[we]].visible=!0,V[i][ye[we]].position=s,V[i][ye[we]].origin=l,V[i][ye[we]].lineLength=c}},we=0;we<ye.length;we++)xe();return J.console.log("refLines",V),C(rt?function(){return V}:function(){return Jm}),d}}),[p]),w=(0,H.useCallback)((function(){p&&C((function(){return Jm}))}),[p]);if((0,H.useImperativeHandle)(e,(function(){return{setRefLines:C,searchRefLines:x,hideRefLines:w}}),[p]),!p)return null;J.console.log("refline",y);var E=c(),S={x:E.x,y:E.y};return K().createElement(K().Fragment,null,P()(n=y.vLine).call(n,(function(t,e){var n=$m(t,"x",S);return K().createElement(nv.Line,(0,at.c)({},Ym,{name:"ref_line_y_".concat(e),key:"ref_line_y_".concat(e),points:n,visible:t.visible}))})),P()(r=y.hLine).call(r,(function(t,e){var n=$m(t,"y",S);return K().createElement(nv.Line,(0,at.c)({},Ym,{name:"ref_line_x_".concat(e),key:"ref_line_x_".concat(e),points:n,visible:t.visible}))})))}))),ey=ty,ny=["getEditor","dataContext","definition"];function ry(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function iy(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=ry(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=ry(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var oy=(0,H.memo)((0,H.forwardRef)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=(t.marginLeft,t.offsetTop,t.offsetLeft,t.marginTop,t.height),u=t.width,l=t.value,c=t.show,s=t.id,f=t.propertyName,d=t.onSave,h=t.saveBySelf,p=t.hideEditor,v=t.isWrap,g=t.fontSize,m=void 0===g?12:g,y=t.fontFamily,C=void 0===y?"SimSun, arial, sans-serif":y,b=t.fontWeight,x=t.fontStyle,w=t.textDecoration,E=t.paddingTop,S=t.paddingLeft,k=t.paddingRight,A=t.paddingBottom,D=t.backgroundColor,I=t.color,T=t.maxLength,R=t.align,L=(t.verAlignment,t.lineSpace),F=t.letterSpacing;t.save;if(!c)return null;var _=(0,H.useRef)(null),P=(0,H.useState)(l),N=(0,B.c)(P,2),O=N[0],j=N[1];(0,H.useEffect)((function(){j(l)}),[l]);var G=(0,H.useCallback)((function(){c&&l!==O&&(j(O),h?h(s,O):d(s,(0,M.c)({},f,O)))}),[c,O,l]);(0,H.useImperativeHandle)(e,(function(){return{save:G,isInputShow:function(){return!!_.current}}}),[c,O,l]),(0,H.useEffect)((function(){var t;null===(t=_.current)||void 0===t||t.focus()}),[]);var U=(0,H.useRef)(null);(0,H.useEffect)((function(){var t=function(){G(),p&&p()},e=function(e){if(_.current){for(var n=e.target;n;){if(n===U.current)return;n=n.parentNode}t()}};return document.addEventListener("mousedown",e),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t),document.removeEventListener("mousedown",e)}}),[G]);(0,H.useRef)(l);return K().createElement("div",{ref:U,className:"kdesigner-text-editor",style:{left:r+We,top:o+We,position:"absolute",height:a,width:u,backgroundColor:D||"#fff",border:"1px solid ".concat(ae),overflow:"hidden",boxSizing:"border-box"}},K().createElement("div",{style:{height:a,width:u,fontSize:m,fontFamily:C,wordBreak:v?"break-all":"normal",fontWeight:b,fontStyle:x,textDecoration:w,color:I,paddingLeft:S,paddingTop:E,paddingRight:k,paddingBottom:A,boxSizing:"border-box",outline:"none",display:"flex",alignItems:"flex-start"}},K().createElement(W.TextArea,{autoSize:!0,borderType:"none",value:O,className:"kdesigner-text-editor",style:{height:"100%",width:"100%",textAlign:R,lineSpace:L,letterSpacing:F,fontSize:m,fontFamily:C,wordBreak:v?"break-all":"normal",fontWeight:b,fontStyle:x,textDecoration:w,color:I,paddingTop:2,paddingLeft:2,paddingRight:0,paddingBottom:0,backgroundColor:D||"#fff"},onChange:function(t){j(t.target.value||"")},maxLength:T,count:!!T,onBlur:function(t){G()},ref:_,pressEnterSwitch:!1,onFocus:function(t){var e;null===(e=t.target)||void 0===e||e.setSelectionRange((null==O?void 0:O.length)||0,(null==O?void 0:O.length)||0)}})))}))),ay=function(t){var e=t.getEditor,n=void 0===e?function(){return oy}:e,r=t.dataContext,i=t.definition,o=(0,Wn.c)(t,ny),a=(0,H.useCallback)((function(t,e){var n=r.findControl(t),o=n.dsType;if(3===n.lineWrapRule&&e.bindText&&(e.bindText=e.bindText.replace(/[\r\n]/g,"")),"Formula"===o)return r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[t,iy(iy({},e),{},{viewText:""})]]));var a=rr(e),u=a.isBindField,l=a.bindField,c=iy(iy({},e),{},{bindField:"",dataSource:"",viewText:"",dsType:""});if(u){var s=nr(l,i);if(!s)return J.eventBus.emit("input-query",{id:t,value:!0}),void r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[t,c]]));J.eventBus.emit("input-query",{id:t,value:!1});var f=s.dataSource,d=s.key,h=s.viewText,p=s.dsType;r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[t,iy(iy({},e),{},{bindField:d,dataSource:f,viewText:"=$".concat(h),dsType:p})]]))}else J.eventBus.emit("input-query",{id:t,value:!1}),r.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[t,c]]))}),[r]),u=(0,H.useState)(!1),l=(0,B.c)(u,2),c=l[0],s=l[1],f=(0,H.useState)({}),d=(0,B.c)(f,2),h=d[0],p=d[1],v=(0,H.useRef)(null),g=(0,H.useRef)(null),m=(0,H.useCallback)((function(){s(!0)}),[]),y=(0,H.useCallback)((function(){var t,e;null!==(t=g.current)&&void 0!==t&&t.isInputShow()&&(null===(e=g.current)||void 0===e||e.save(),s(!1))}),[]),C=(0,H.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.shapeRef;v.current=null==e?void 0:e.current,p(t)}),[]),b=n();return{showEditor:m,hideEditor:y,editorElement:K().createElement(b,(0,at.c)({ref:g,show:c,onSave:a,hideEditor:y},o,h)),setEditorPosition:C,inputNodeRef:v}},uy={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,BACKSPACE:8,DELETE:46,META:91,"*":106,"+":107,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"]":221,CTRL:17,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,SEMICOLON:186,EQUAL:187,COMMA:188,MINUS:189,PERIOD:190,SLASH:191,BACKQUOTE:192,BRACKETLEFT:219,BRACKETRIGHT:221,BACKSLASH:11,QUOTE:229,PAD0:96,PAD1:97,PAD2:98,PAD3:99,PAD4:100,PAD5:101,PAD6:102,PAD7:103,PAD8:104,PAD9:105};window,document;var ly,cy,sy,fy="";window.addEventListener?(ly="addEventListener",sy="removeEventListener"):(ly="attachEvent",sy="detachEvent",fy="on"),cy="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var dy=function(t){return function(e){!e&&(e=window.event);var n={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==cy?(n.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(n.deltaX=-1/40*e.wheelDeltaX)):n.deltaY=e.detail,t(n)}};function hy(t,e,n,r){var i=dy(n);return t[ly](fy+e,"wheel"==cy?n:i,r||!1),function(){t[sy](fy+e,"wheel"==cy?n:i,r||!1)}}var py=function(t,e){(0,H.useEffect)((function(){e();var t=function(t,e,n){return hy(t,"DOMMouseScroll"==cy?"MozMousePixelScroll":cy,e,n)}(document,(function(t){_v(t)&&e()})),n=function(t){var n,r=t.keyCode||t.which;_v(t)&&Tn()(n=[uy[0],uy["+"],uy["-"]]).call(n,r)&&e()};return document.addEventListener("keydown",n),function(){t&&t(),document.removeEventListener("keydown",n)}}),t)},vy=["title"];function gy(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=gy(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=gy(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var yy=-100;function Cy(t,e){var n;return[t,Y().flattenDeep(L()(n=P()(e).call(e,(function(n){var r=n.id;if(n.parentId===t)return Cy(r,e)}))).call(n,Boolean))]}var by=function(t,e,n,r){var i,o,a;if(!(t.length<=2)){var u=ai()(i=Dn()(t).call(t)).call(i),l=Math.max.apply(null,P()(t).call(t,(function(t){return t[n]+t[r]}))),c=qn()(u).call(u,(function(t){return t[n]+t[r]===l})),s=Math.min.apply(null,P()(t).call(t,(function(t){return t[n]}))),f=qn()(t).call(t,(function(t){return t[n]===s})),d=ed()(o=Dn()(a=L()(t).call(t,(function(t){var e;return!Tn()(e=[f[ne],c[ne]]).call(e,t[ne])}))).call(a)).call(o,(function(t,e){return t[n]-e[n]})),h=G()(t).call(t,(function(t,e){return t+e[r]}),0),p=s+f[r],v=l-s,g=0;if(h>v){var m=v/(t.length-1),y=P()(d).call(d,(function(t,e){var r=Kf(s+m*(e+1),1);return r===t[n]&&g++,[t[ne],(0,M.c)({},n,r)]}));if(g===d.length)return;e.batchUpdateControlPropertyValues((0,J.createUpdateAction)(y))}else{var C=(v-f[r]-c[r]-G()(d).call(d,(function(t,e){return t+e[r]}),0))/(2+d.length-1),b=p,x=P()(d).call(d,(function(t,e){var i=Kf(b+C,1);return b+=C+t[r],t[n]===i&&g++,[t[ne],(0,M.c)({},n,i)]}));if(g===d.length)return;e.batchUpdateControlPropertyValues((0,J.createUpdateAction)(x))}}},xy=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,l,c,s,f=(0,H.useContext)(bn),d=f.setMessage,h=(f.scaleRef,f.asistantBorderRef),p=f.handlePassGridActionGuide,v=f.isFirstUseGrid,g=f.onValid,m=(0,H.useContext)(J.GlobalConfigContext),y=m.env,b=m.keywordMapping,x=(0,H.useState)(1),w=(0,B.c)(x,2),E=w[0],S=w[1],k=(0,H.useState)((function(){return+(window.devicePixelRatio||1).toFixed(2)})),A=(0,B.c)(k,2),D=A[0],I=A[1],T=(0,H.useRef)(null),R=((0,H.useRef)(null),(0,H.useRef)(null)),F=(0,H.useRef)(null),_=(0,H.useRef)(null),N=(0,H.useRef)(null),j=(0,H.useRef)(null),U=(0,H.useRef)(null),Z=(0,H.useRef)(null),V=(0,H.useRef)(null),q=(0,H.useRef)(null),X=(0,H.useRef)(null),$=(0,H.useRef)(null),tt=(0,H.useRef)(null),et=(0,H.useRef)({isDrag:!1,yPos:0}),nt=(0,H.useRef)(null),rt=(0,H.useRef)(null),it=(0,H.useContext)(J.GlobalConfigContext),ot=it.previewImageUrl,ut=(it.uploadImageUrl,t.fieldSizeCacher),ct=ut.setFieldSizeCache,st=ut.getFieldSizeCache,ft=null==t?void 0:t.data.key,dt=(0,H.useMemo)((function(){return st(ft)||{}}),[ft]),ht=(0,H.useCallback)((function(t){var e=new(ym().Stage)({container:"shadowCanvas",width:window.innerWidth,height:window.innerHeight}),n=new(ym().Layer);e.add(n);var r=new(ym().Text)(t),i=r.height(),o=r.width();return e.destroy(),{height:i,width:o}}),[]),pt=(0,H.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(nt.current){var r;if(dt[n]){var i=dt[n],o=i.offsetWidth,a=i.offsetHeight,u=i.text,l=i.style.width,c=e.width;if(u===t&&l===c)return{width:o,height:a}}nt.current.innerText=t,Q()(r=C()(e)).call(r,(function(t){nt.current.style[t]=Y().isString(e[t])?e[t]:e[t]+"px"}));var s=nt.current,f=s.offsetWidth,d=s.offsetHeight;return dt[n]={text:t,style:e,width:f,height:d},ct(ft,dt),{width:f,height:d}}}),[ut]),vt=(0,H.useRef)(null),gt=(0,H.useContext)(J.DataFactoryContext),mt=gt.dataFactory,yt=gt.modelFactory,Ct=gt.controlMetaInfo,bt=vt.current||{},xt=bt.offsetHeight,wt=bt.offsetWidth,Et=(0,H.useState)({show:!1}),kt=(0,B.c)(Et,2),At=kt[0],Dt=kt[1],It=(0,H.useState)({show:!1}),Tt=(0,B.c)(It,2),Bt=Tt[0],Lt=Tt[1],Ft=(0,H.useState)({show:!1}),_t=(0,B.c)(Ft,2),Pt=_t[0],Nt=_t[1],Ot=(0,H.useState)({show:!1}),jt=(0,B.c)(Ot,2),Gt=jt[0],Ut=jt[1],zt=t.children,Zt=t.appState,Qt=t.deleteSelectionControl,Wt=t.data,re=Wt.id,ie=Wt.width,oe=Wt.height,ae=Wt.marginTop,ue=Wt.marginLeft,le=Wt.marginBottom,ce=Wt.marginRight,se=(Wt.paperDirection,Wt.bgImgRcId),fe=Math.max(oe-Math.max(ae,0)-Math.max(le,0),0),de=Math.max(ie-Math.max(ue,0)-Math.max(ce,0),0),ve=Math.max(Jf(ie,E),wt?wt-20:0),ge=Math.max(Jf(oe,E),xt?xt-20:0),me=Math.max(fe,0)+Math.max(ae,0)+Math.max(le,0),ye=Math.max(de,0)+Math.max(ue,0)+Math.max(ce,0),Ce=Zt.navToolRef,be=void 0===Ce?{}:Ce,xe=Zt.canvasRef,we=Zt.meta,Ee=void 0===we?[]:we,Se=Zt.definition,ke=void 0===Se?{}:Se,Ae=Zt.activedSelectId,De=Zt.isMultiKeyActiveWhenSelectedRef,Ie=se?O()(n="".concat(ot)).call(n,se):"";(0,H.useEffect)((function(){var t=vt.current||{},e=t.offsetHeight,n=t.offsetWidth;F.current.style.width=Math.max(Jf(de,E),null!=n?n:0),F.current.style.height=Math.max(Jf(fe,E),null!=e?e:0),Pn((function(t){return t+1}))}),[]);var Te=(0,H.useContext)(J.SelectionContext),Be=(0,H.useContext)(J.DataContext),Me=Be.getRootId(),Re=mt,Le=jg({selectionContext:Te,dataContext:Be,rulerRef:jn,navToolRef:be,activedSelectId:Ae},Me).handleMouseDown,Fe=(0,H.useMemo)((function(){var t,e;return"SubDataGrid"===(null===(t=Be.findControl(null===(e=Be.findControl(Ae))||void 0===e?void 0:e.parentId))||void 0===t?void 0:t.type)?{isContainer:!1,accept:""}:(0,J.getControlIsContainer)(Ct,Be.findControl(Ae),b)}),[Ae,Ct]),_e=(Fe.isContainer,Fe.accept),Pe=(0,H.useContext)(Ef),Ne=(0,Pe.getPrefixCls)(Pe.prefixCls,"print-designer"),Oe=(0,H.useRef)({isDragging:!1,startX:0,startY:0}),je=(0,H.useRef)(null),Ge=(0,H.useRef)(null),Ue=(0,H.useRef)(null),ze=function(t,e){var n,r;if("CardGrid"===(null==At?void 0:At.controlType)){var i=(null==At?void 0:At.gridInfo)||{};return Ze(t,i),Qe(),void Dt({show:!1})}var o=t.length,a=function(t){return(null==e?void 0:e[t])||At[t]},u=a("controlType"),l=a("transferData");if("DataGrid"===u&&de/o<5)return d((0,J.getLangMsg)("printd.grid.key0092"));if(l){var c=l.width;"right"===l.subGridDirection&&c/o<10&&(l.width=10*o)}var s=P()(t).call(t,(function(t){var e,n=t.key,r=t.InitAttr,i=void 0===r?{}:r,o=$n(n,ke);if(!o)return{};var a=o.dataSource,u=o.dataSourceText,l=o.ancestorTitle,c=o.key,s=o.title,f=o.dsType,d=o.ZeroShow,h=o.IgnoreTailZero,p=G()(e=C()(i)).call(e,(function(t,e){return t[Y().camelCase(e)]=i[e],t}),{});return p.zeroShow=d,p.ignoreTailZero=h,my({bindText:"=$".concat(l),bindField:c,dataSource:a,dataSourceText:u,viewText:"=$".concat(s),dsType:f},p)})),f=xd(mt,yt),h=Be.findControlByCondition((function(t){return"Header"===t.type})),p=et.current,v=p.isDrag,g=p.yPos,m=my({dataSource:(null===(n=s[0])||void 0===n?void 0:n.dataSource)||"",dataSourceText:(null===(r=s[0])||void 0===r?void 0:r.dataSourceText)||"",width:de},v?{y:g}:{}),y=Be.findControl(Ae),b=qd(y)&&y.id,x=f({type:a("controlType")||"DataGrid",parentId:b||Me,parentItem:fp(Be.findControl(Me)),cellData:s,transferData:l?(0,at.c)(m,l):m});h&&h.length&&x[0].y<h[0].height&&(x[0].y=h[0].height+x[0].y),a("resolve")([{type:J.ActionType.ADD,value:x}]),Qe(),Dt({show:!1})},Ze=function(t,e){var n=e.row,r=e.column;if(de/r<5)return d((0,J.getLangMsg)("printd.grid.key0094"));var i=wd(mt,yt),o=Be.findControlByCondition((function(t){return"Header"===t.type})),a=et.current,u=a.isDrag,l=a.yPos,c=t.dataSource,s=t.dataSourceText,f=my({width:de,height:8*n,dataSource:c,dataSourceText:s},u?{y:l}:{}),h=i({type:"CardGrid",parentId:Me,gridInfo:e,transferData:f});o&&o.length&&h[0].y<o[0].height&&(h[0].y=o[0].height+h[0].y),(0,At.resolve)([{type:J.ActionType.ADD,value:h}])},Qe=function(){et.current={isDrag:!1,yPos:0}};(0,H.useEffect)((function(){return J.eventBus.on("grid-guide",(function(t){!function(t,e){$f(Be)?ze([{},{},{}],e):t(my({show:!0},e))}(Dt,t)})),J.eventBus.on("layoutGrid-setting",(function(t){Lt(my({show:!0},t))})),J.eventBus.on("beforeChangeLang",(function(t){Nt(my({show:!0},t))})),J.eventBus.on("card-setting",(function(t){Ut(my({show:!0},t))})),J.eventBus.on("beforeChangeGridFooter",(function(t){var e=t.parentGridId,n=t.tableTail,r=t.resolve;t.reject;if(n){var i=Be.findControl(e),o=Re({type:"TableTail",parentId:Me,transferData:{x:i.x,y:i.y+i.height,width:i.width,parentGridId:e}});r([{type:J.ActionType.ADD,value:o},{type:J.ActionType.UPDATE,value:[[i.id,{hasTableTail:n,tableTailId:o.id}]]}])}else{var a=Be.findControl(e);r([{type:J.ActionType.DELETE,value:a.tableTailId},{type:J.ActionType.UPDATE,value:[[a.id,{hasTableTail:n,tableTailId:""}]]}])}})),function(){J.eventBus.off("grid-guide"),J.eventBus.off("layoutGrid-setting"),J.eventBus.off("beforeChangeLang"),J.eventBus.off("card-setting"),J.eventBus.off("beforeChangeGridFooter")}}),[Ae,ze]);var Je=(0,H.useCallback)((function(){var t=je.current;if(t){var e,n,r,i=t.offsetTop,o=t.offsetLeft;(0,at.c)(Ke.current,{offsetTop:i,offsetLeft:o}),Z.current.style.top=Math.max(null!=i?i:0,We)+"px",q.current.style.left=Math.max(null!=o?o:0,We)+"px",null===(e=_.current)||void 0===e||e.x(o-We),null===(n=_.current)||void 0===n||n.y(i-We),null===(r=_.current)||void 0===r||r.batchDraw(),Pn((function(t){return t+1}))}}),[]);(0,H.useEffect)((function(){Je()}),[]),(0,J.useResizeObserver)(je.current,Je),(0,J.useResizeObserver)(vt.current,Je);var Ve=[Ue,T,Ge,$],He=function(t){return Xn()(Ve).call(Ve,(function(e){return e.current===t}))},Ke=(0,H.useRef)({offsetLeft:0,offsetTop:0}),qe=(0,H.useCallback)((function(){var t,e,n,r;return{x:(null!==(t=null===(e=Ke.current)||void 0===e?void 0:e.offsetLeft)&&void 0!==t?t:0)-We+Jf(ue,E),y:(null!==(n=null===(r=Ke.current)||void 0===r?void 0:r.offsetTop)&&void 0!==n?n:0)-We+Jf(ae,E)}}),[ue,ae,E]),$e=function(){var t=localStorage.getItem(dn);if(t){var e=JSON.parse(t),n=e.dataSource,r=e.bindField,i=e.bindText,o=e.viewText,a=or(tr(n,r),ke);a?function(t,e,n,r,i){var o=t.isDataGridDs,a=t.dsType,u=t.isSubDataGridDs,l=t.ViewName,c=t.Name,s=t.bindField,f=t.dataSource,d=t.dataSourceText,h=e.statType,p=e.cellType,v=e.parentId,g=e.id,m=r.viewText,y=l||c,C=kd[p],b=n.findControl(v),x=n.findControl(v),w=x.type,E=x.dataSource;if(jd(b)||Gd(b)){var S,k;if("Normal"===p&&!Tn()(C).call(C,a))return i((0,J.getLangMsg)("printd.grid.key0039"));if("Normal"!==p&&"Statistic"!==p||n.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[g,md(md({},r),{},{viewText:"Statistic"===p&&"noStat"!==h?O()(k="=".concat(h,"(")).call(k,y,")"):m})]])),Tn()(S=["Detail","Group"]).call(S,p)){if("DataGrid"===w&&!("=getRowNumber()"===s||E&&f===E||!E&&o))return i((0,J.getLangMsg)("printd.grid.key0040"));if("SubDataGrid"===w&&!("=getRowNumber()"===s||E&&f===E||!E&&u))return i((0,J.getLangMsg)("printd.grid.key0041"));var A=[[g,r]];E||A.push([v,{dataSource:f,dataSourceText:d}]),n.batchUpdateControlPropertyValues((0,J.createUpdateAction)(A))}}else n.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[g,r]]))}(a,Zn,Be,{dataSource:n,bindField:r,bindText:i,viewText:o},d):Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[Ae,{dataSource:n,bindField:r,bindText:i,viewText:o}]]))}},en=(0,H.useCallback)((function(t){var e=t.keyCode||t.which,n=_v(t),r=Te.getSelection(),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return L()(t).call(t,(function(t){var e,n=Be.findControl(t);return!Xn()(e=[lp,Nd,cp,Gd]).call(e,(function(t){return t(n)}))}))},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=Be.findControl(t),u=a.x,l=a.y,c=a.parentId;return function(t){var e=t.position,n=t.id,r=t.parentId,i=t.rootId,o=t.dataContext,a=Zd(o,n),u=a.width,l=void 0===u?0:u,c=a.height,s=void 0===c?0:c,f=zd(o),d=f.width,h=f.height,p=Xf(r!==i?Zd(o,r):zd(o)),v=p.x,g=void 0===v?0:v,m=p.y,y=void 0===m?0:m,C=p.right,b=void 0===C?d:C,x=p.bottom,w=void 0===x?h:x,E=e.x,S=e.y;if(l>d||s>h)return{x:E,y:S};E<g&&(E=g),E+l>b&&(E=b-l);var k=S+y;return S+y<y&&(k=0),S+y>y&&(k-=y),S+y+s>w&&(k=w-y-s),{x:E,y:k}}({position:{x:u+r,y:l+o},id:t,rootId:Me,parentId:c,dataContext:Be,addXY:{x:r,y:o}})},a=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return Xn()(t=Be.findControl(e)).call(t,Nd)};switch(e){case uy.BACKSPACE:case uy.DELETE:Qt();break;case uy.A:if(n){var u,l=Be.getData().items;Te.setSelect(P()(u=L()(l).call(l,(function(t){return t.parentId===Me}))).call(u,(function(t){return t.id})))}break;case uy.C:if(n){var c=Te.getSelection();if(c.length){if(a())return 1===c.length?function(){try{localStorage.setItem(dn,z()(Zn))}catch(t){localStorage.clear(),localStorage.setItem(dn,Zn)}}():localStorage.removeItem(fn);var s=Be.getData().items,f=Y().flattenDeep(P()(c).call(c,(function(t){return Cy(t,s)}))),d=z()({selection:c,items:P()(f).call(f,(function(t){return Be.findControl(t)}))});try{localStorage.setItem(fn,d)}catch(t){localStorage.removeItem(fn),localStorage.setItem(fn,d)}}}break;case uy.V:if(n){var h=Te.getSelection();if(a())return 1===h.length&&$e();var p=localStorage.getItem(fn);if(p){var v=JSON.parse(p),g=v.selection,m=v.items,y=be.current.copyControl({selection:g,items:P()(m).call(m,(function(t){return t.tableTailId&&(t.tableTailId=""),t}))}),b=L()(y).call(y,(function(t){var e;return Tn()(e=C()(Ct)).call(e,t.type)}));(null==b?void 0:b.length)>0&&be.current.pasteControl(b)}}break;case uy.D:n&&be.current.copyAndPasteControl();break;case uy.Z:n&&(be.current.canvasUndo(),lt()((function(){F.current.focus()})));break;case uy.Y:n&&(be.current.canvasRedo(),lt()((function(){F.current.focus()})));break;case uy.ARROWUP:var x;if(a())return;Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(x=i()).call(x,(function(t){var e=o(t,{y:-1}),n=(e.x,e.y),r=Be.findControl(t),i=r.parentId,a=r.y;return"TableTail"===(Be.findControl(i)||{}).type&&(n=a-1>0?a-1:0),[t,{y:n}]}))));break;case uy.ARROWDOWN:var w;if(a())return;Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(w=i()).call(w,(function(t){var e=o(t,{y:1}),n=(e.x,e.y),r=Be.findControl(t),i=r.parentId,a=r.y,u=r.height,l=Be.findControl(i)||{},c=l.height;return"TableTail"===l.type&&(n=u+a+1>c?a:+a+1),[t,{y:n}]}))));break;case uy.ARROWLEFT:var E;if(a())return;Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(E=i()).call(E,(function(t){var e=o(t,{x:-1}),n=e.x;e.y;return[t,{x:n}]}))));break;case uy.ARROWRIGHT:var S;if(a())return;Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(S=i()).call(S,(function(t){var e=o(t,{x:1}),n=e.x;e.y;return[t,{x:n}]}))))}}),[Ae]),nn=(0,H.useCallback)(Y().throttle(en,200,{trailing:!0}),[en]),rn=function(t){var e,n=t?Be.findControl(t):null,r=(0,J.getControlIsContainer)(Ct,n||{},b).isContainer;if("SubDataGrid"===(null===(e=Be.findControl(Be.findControl(Ae).parentId))||void 0===e?void 0:e.type))return!1;for(;n&&!r&&n.parentId!==Me;){n=Be.findControl(n.parentId)}return n},on=function(t,e,n){var r,i,o,a=t.Id,u=(e.offsetX,e.offsetY,null==n||null===(r=n.attrs)||void 0===r?void 0:r.id),l=rn(u),c=(0,J.getControlIsContainer)(Ct,l||{},b),s=c.isContainer,f=c.accept;if("SubDataGrid"===(null===(i=Be.findControl(null===(o=Be.findControl(u))||void 0===o?void 0:o.parentId))||void 0===i?void 0:i.type)&&((0,gm.c)("isContainer"),(0,gm.c)("accept")),!s||!f||Tn()(f).call(f,a)){var d=Re({type:a,parentId:s?l.id:Me,transferData:{x:e.x,y:s?e.y-l.y:e.y}});if(d){var h=d.x,p=d.y,v=d.width,g=d.height;h+v>=de&&(d.x=de-v),p+g>fe&&(d.y=fe-g);var m=Be.findControlByCondition((function(t){return"Footer"===t.type}))[0];m&&d.parentId===Me&&p+g>m.y&&bd([d],"y",m.y-g),d.x=d.x<0?0:d.x,Be.addControl((0,J.createAddAction)(d)).then((function(t){var e=t[0].value;Te.setSelect(Qn()(e)?[e[0].id]:[e.id])}))}}},an=function(t,e,n,r){var i,o,a;t.key=t.nodeKey;var u=t.type,l=void 0===u?"Text":u,c=t.Items,s=t.InitAttr,f=void 0===s?{}:s;if(!c){var h=ar(t,ke),p=h.title,v=(0,Wn.c)(h,vy),g=(0,at.c)({},G()(i=C()(f)).call(i,(function(t,e){return t[Y().camelCase(e)]=f[e],t}),{}),v),m=null==n||null===(o=n.attrs)||void 0===o?void 0:o.id,y=rn(m),x=(0,J.getControlIsContainer)(Ct,y||{},b),w=x.isContainer,E=x.accept;if("SubDataGrid"===(null===(a=Be.findControl(Be.findControl(Ae).parentId))||void 0===a?void 0:a.type)&&(w=!1,E=""),"Text"===l){if(y&&Yd(y))return Ad(t,y,Be,{initAttr:g,title:p},d,ke);if(w&&E&&!Tn()(E).call(E,l))return;if(y&&Kd(y)){var S=cr(Be,m,"CardGrid");if(S){var k=kr(S,ke);if(!Dr(k,null==h?void 0:h.dataSource))return d((0,J.getLangMsg)("printd.grid.key0095"))}var A,D=y.parentId,I=y.statType,T=Be.findControl(D).parentId,B=Be.findControl(T),M="=$".concat(p);if(B&&"TableTail"===B.type)M="noStat"!==I?O()(A="=".concat(I,"(")).call(A,p,")"):"=$".concat(p);return Sd(m,Be,my(my({},g),{},{viewText:M}))}var R=[];if(r){var L=Re({type:l,parentId:w?y.id:Me,transferData:{bindText:p,x:e.x,y:w?e.y-y.y:e.y}}),F=L.x,_=L.y,N=L.width,j=L.height;F+N>=de&&(L.x=de-2*N),_+j>fe&&(L.y=fe-j);var U=Re({type:l,parentId:w?y.id:Me,transferData:(0,at.c)({},g,{x:(+L.x||0)+(+L.width||0),y:+L.y||0,viewText:"=$".concat(p)})});R=[L,U]}else{var z=Re({type:l,parentId:w?y.id:Me,transferData:my(my({},g),{},{x:e.x,y:w?e.y-y.y:e.y,viewText:"=$".concat(p)})}),Z=z.x,Q=z.y,W=z.width,V=z.height;Z+W>=de&&(z.x=de-W),Q+V>fe&&(z.y=fe-V),R=[z]}var H=Be.findControlByCondition((function(t){return"Footer"===t.type}))[0],K=R[0],q=K.y,X=K.height;H&&R[0].parentId===Me&&q+X>H.y&&bd(R,"y",H.y-X),Be.addControl((0,J.createAddAction)(R,{addType:"addField"})).then((function(){Te.setSelect(P()(R).call(R,(function(t){return t.id})))}))}else{if(l===pn.richText&&y){if(Yd(y))return Ad(t,y,Be,{initAttr:g,title:p},d,ke);if(Kd(y)){var $=cr(Be,m,"CardGrid");if($){var tt=kr($,ke);if(!Dr(tt,null==h?void 0:h.dataSource))return d((0,J.getLangMsg)("printd.grid.key0095"))}return Sd(m,Be,my(my({},g),{},{viewText:"=$".concat(p)}))}}if(y&&Kd(y)){var et=y.id,nt=cr(Be,et,"CardGrid");if(nt){var rt=kr(nt,ke);if(!Dr(rt,null==h?void 0:h.dataSource))return d((0,J.getLangMsg)("printd.grid.key0096"))}}if(w&&_e&&!Tn()(_e).call(_e,l))return;var it=Re({type:l,parentId:w?y.id:Me,transferData:my(my({},g),{},{x:e.x,y:w?e.y-y.y:e.y})}),ot=it.x,ut=it.y,lt=it.width,ct=it.height;ot+lt>=de&&(it.x=de-lt),ut+ct>fe&&(it.y=fe-ct),Be.addControl((0,J.createAddAction)(it)).then((function(){Te.setSelect([it.id])}))}}},un=(0,H.useRef)({isOutMouseUp:!1}),ln=(0,H.useCallback)((function(){if(!0===Oe.current.isDragging){var t,e,n,r;Oe.current.isDragging=!1;var i=X.current,o=ov(i),a=null===(t=T.current)||void 0===t?void 0:qn()(t).call(t,".".concat(St)).toArray(),u=L()(e=P()(n=L()(a).call(a,(function(t){t.name().split(" ");return ym().Util.haveIntersection(o,ov(t))&&t.getParent()===N.current}))).call(n,(function(t){return t.id()}))).call(e,Boolean);u.length>0&&Te.setSelect(u),i.x(yy),i.y(yy),i.width(yy),i.height(yy),i.visible(!1),null==i||null===(r=i.getLayer())||void 0===r||r.batchDraw()}}),[]);(0,H.useEffect)((function(){var t,e=function(){un.current.isOutMouseUp=!0},n=function(t){var e,n,r,i,o,a;if(("INPUT"!==(null===(e=t.target)||void 0===e?void 0:e.tagName)||"checkbox"===(null===(n=t.target)||void 0===n?void 0:n.type))&&"TEXTAREA"!==(null===(r=t.target)||void 0===r?void 0:r.tagName)&&"true"!==(null===(i=t.target)||void 0===i?void 0:i.contentEditable)){var u=t.keyCode||t.which,l=_v(t);(Tn()(o=[uy.ARROWDOWN,uy.ARROWLEFT,uy.ARROWRIGHT,uy.ARROWUP,uy.DELETE,uy.BACKSPACE]).call(o,u)||l&&Tn()(a=[uy.D,uy.A]).call(a,u))&&t.preventDefault(),nn(t)}};return null===(t=document.querySelector(".print-designer-root"))||void 0===t||t.addEventListener("keydown",n),window.addEventListener("mouseup",e),function(){var t;null===(t=document.querySelector(".print-designer-root"))||void 0===t||t.removeEventListener("keydown",n),window.removeEventListener("mouseup",e)}}),[Ae,Me,ln,nn]),(0,H.useEffect)((function(){var t=function(t){t.stopPropagation()};return window.addEventListener("drop",t),function(){window.removeEventListener("drop",t)}}),[]),(0,H.useEffect)((function(){return J.eventBus.on("scale",(function(t){t!==E&&S(t)})),function(){J.eventBus.off("scale")}}),[E]);var cn=(0,H.useState)((function(){return(null==h?void 0:h.current)||!1})),sn=(0,B.c)(cn,2),hn=sn[0],vn=sn[1];(0,H.useEffect)((function(){return J.eventBus.on("contextStrokeEnabled",(function(t){t!==hn&&vn(t)})),function(){J.eventBus.off("contextStrokeEnabled")}}),[hn]);var gn=(0,H.useCallback)((function(){var t=vt.current,e=t.offsetWidth,n=t.offsetHeight;if(t){var r,i=function(t,e,n,r){return{justifyContent:t&&t<n?"flex-start":"center",alignItems:e&&e<r?"flex-start":"center"}}(e,n,Jf(ye,E),Jf(me,E)),o=i.justifyContent,a=i.alignItems,u=!1;t.style.justifyContent!==o&&(t.style.justifyContent=o,u=!0),t.style.alignItems!==a&&(t.style.alignItems=a,u=!0),u&&Pn((function(t){return t+1})),Q()(r=Sn.current).call(r,(function(t){return t()})),Je(),xn()}}),[E,ye,me]);(0,H.useEffect)((function(){return window.addEventListener("resize",gn),function(){window.removeEventListener("resize",gn)}}),[de,fe,E,D,ye,me]),(0,H.useEffect)((function(){gn()}),[E,de,fe,ye,me]);var mn=(0,H.useRef)([]),yn=(0,H.useCallback)((function(){var t,e=(window.devicePixelRatio||1).toFixed(2);Y().isEqual(+e,+D)||I(+e),gn(),xn(),Q()(t=mn.current).call(t,(function(t){return t(E)}))}),[D,de,fe,E,ye,me]);py([D,de,fe,E,ye,me],yn),(0,H.useImperativeHandle)(e,(function(){return{stage:T.current}}),[]);var xn=(0,H.useCallback)((function(){lt()((function(){var t,e;null===(t=T.current)||void 0===t||Q()(e=qn()(t).call(t,"Transformer").toArray()).call(e,(function(t){null==t||t.forceUpdate()}))}))}),[]);(0,H.useEffect)((function(){var t=function(){var t;if(Ae!==Me){var e=null===(t=T.current)||void 0===t?void 0:t.findOne("#".concat(Ae));lt()((function(){var t,n,r=ov(e,qe());r&&Be.findControl(Ae)?null===(t=jn.current)||void 0===t||t.operateLine(r):null===(n=jn.current)||void 0===n||n.hideLine();xn()}))}else{var n;null===(n=jn.current)||void 0===n||n.hideLine()}};t();var e=Be.addDataChangeListener(t);return function(){e()}}),[Ae,E,Me,xn]),(0,H.useEffect)((function(){return J.eventBus.on("align-shapes",(function(t){var e=t.type,n=t.ids,r=Be.findControl(n);switch(e){case"top":var i=(0,M.c)({},$t,Math.min.apply(null,P()(r).call(r,(function(t){return t[$t]}))));Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(r).call(r,(function(t){return[t[ne],i]}))));break;case Ht:var o=(0,M.c)({},$t,Kf((Math.min.apply(null,P()(r).call(r,(function(t){return t[$t]})))+Math.max.apply(null,P()(r).call(r,(function(t){return t[$t]+t[ee]}))))/2,1));Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(r).call(r,(function(t){return[t[ne],(0,M.c)({},$t,Kf(o[$t]-t[ee]/2,1))]}))));break;case Yt:by(r,Be,$t,ee);break;case qt:by(r,Be,Xt,te);break;case Kt:var a=(0,M.c)({},Xt,Kf((Math.max.apply(null,P()(r).call(r,(function(t){return t[Xt]+t[te]})))+Math.min.apply(null,P()(r).call(r,(function(t){return t[Xt]}))))/2,1));Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(r).call(r,(function(t){return[t[ne],(0,M.c)({},Xt,Kf(a[Xt]-t[te]/2,1))]}))));break;case Jt:var u=G()(r).call(r,(function(t,e){var n=e[Xt]+e[te];return n>t?n:t}),0);Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(r).call(r,(function(t){return[t[ne],(0,M.c)({},Xt,t[Xt]+(u-(t[Xt]+t[te])))]}))));break;case Vt:var l=G()(r).call(r,(function(t,e){var n=e[$t]+e[ee];return n>t?n:t}),0);Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(r).call(r,(function(t){return[t[ne],(0,M.c)({},$t,t[$t]+(l-(t[$t]+t[ee])))]}))));break;default:var c=(0,M.c)({},Xt,Math.min.apply(null,P()(r).call(r,(function(t){return t[Xt]}))));Be.batchUpdateControlPropertyValues((0,J.createUpdateAction)(P()(r).call(r,(function(t){return[t[ne],c]}))))}})),function(){J.eventBus.off("align-shapes")}}),[]);var En=(0,H.useRef)([]),Sn=(0,H.useRef)([]),kn=(0,H.useCallback)((function(t){var e,n=t.currentTarget,r=n.scrollLeft,i=n.scrollTop;q.current.style.transform="translateX(".concat(-r+"px",")"),Z.current.style.transform="translateY(".concat(-i+"px",")"),Q()(e=En.current).call(e,(function(t){t&&t({scrollLeft:r,scrollTop:i})}))}),[]),An=(Jf(oe,E),Jf(ie,E),Jf(Math.max(oe,ae+le),E)),Dn=Jf(Math.max(ie,ue+ce),E),In=qe(),Bn=(In.x,In.y,ay({offsetTop:null!==(r=null===(i=je.current)||void 0===i?void 0:i.offsetTop)&&void 0!==r?r:0,offsetLeft:null!==(o=null===(a=je.current)||void 0===a?void 0:a.offsetLeft)&&void 0!==o?o:0,marginLeft:Jf(ue,E),marginTop:Jf(ae,E),definition:ke,dataContext:Be,id:re})),Mn=Bn.showEditor,Rn=Bn.hideEditor,Ln=Bn.editorElement,Fn=Bn.setEditorPosition,_n=Bn.inputNodeRef,Pn=(0,H.useState)(0)[1];(0,H.useEffect)((function(){var t=function(){if(_.current&&je.current){var t=je.current||{},e=t.offsetLeft,n=t.offsetTop;_.current.position({x:(null!=e?e:0)-We,y:(null!=n?n:0)-We})}};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[Fn]);var Nn,On,jn=(0,H.useMemo)((function(){return{current:{operateLine:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(t=U.current)||void 0===t||t.operateLine.apply(t,r),null===(e=V.current)||void 0===e||e.operateLine.apply(e,r)},hideLine:function(){var t,e;null===(t=U.current)||void 0===t||t.hideLine(),null===(e=V.current)||void 0===e||e.hideLine()}}}}),[]),Gn=(0,H.useCallback)((function(){var t,e,n,r;return{scrollTop:null!==(t=null===(e=vt.current)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0,scrollLeft:null!==(n=null===(r=vt.current)||void 0===r?void 0:r.scrollLeft)&&void 0!==n?n:0}}),[]),Un=(0,H.useCallback)((function(t,e){return t>ie?{width:ie,height:e*ie/t}:{width:t,height:e}}),[ie,oe,E]),zn=(0,H.useRef)(null),Zn=Be.findControl(Ae)||{},Jn=(Nn=Zn,"1"===(On=Zt.data.bizType)&&"Barcode"===Nn.type?{enabledAnchors:["bottom-center","top-center"]}:"1"===On&&"QRCode"===Nn.type?{enabledAnchors:[]}:Nn.type===Xe?{enabledAnchors:["top-center"]}:Nn.type===Ye?{enabledAnchors:["bottom-center"]}:Nn.type===he?{enabledAnchors:["bottom-center","middle-right","bottom-right"]}:Nn.type===pe?{enabledAnchors:["middle-left","bottom-left","bottom-center","middle-right","bottom-right"]}:Nn.type===tn?{enabledAnchors:["middle-right","middle-left","bottom-center","top-center"],padding:3}:{}),Vn=my({isGlobal:!0,stageRef:T,rootControlRef:Ue,selectedId:Ae,parentId:null==Zn?void 0:Zn.parentId,ref:zn,controlGroupRef:N,isCell:Nd(Zn),isSelected:Ae!==Me,isLastSelected:Ae!==Me,dataContext:Be,refLineRef:R},Jn),Kn=(0,H.useMemo)((function(){var t,e,n,r;return{refLineRef:R,rulerRef:jn,stageRef:T,rootControlRef:Ue,xRulerRef:U,yRulerRef:V,showEditor:Mn,globalTrRef:zn,pageHeight:fe,pageWidth:de,pixelRatio:D,setMessage:d,hideEditor:Rn,setEditorPosition:Fn,marginLeft:Jf(ue,E),marginTop:Jf(ae,E),selectionContext:Te,navToolRef:be,canvasAbsolutePosRef:tt,deleteSelectionControl:Qt,getContainerDomScroll:Gn,canvasBoxRef:je,rulerWidth:Mt,offsetTop:(null!==(t=null===(e=je.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0)+Mt,offsetLeft:(null!==(n=null===(r=je.current)||void 0===r?void 0:r.offsetLeft)&&void 0!==n?n:0)+Mt,dataContext:Be,isNeedDashBorder:!1,scrollCallbackRef:En,scale:E,contextStrokeEnabled:hn,containerDomRef:vt,getRedundancyXY:qe,rootId:Me,getInputSize:pt,getTextSize:ht,controlGroupRef:N,dataFactory:mt,dragGroupRef:j,globalConfig:it,sizeAndPixelRatioChangeCbRef:mn,forceUpdateTransformer:xn,canvasResizeCallbackRef:Sn,handlePassGridActionGuide:p,isFirstUseGrid:v,onValid:g}}),[jn,Mn,fe,de,D,d,Rn,Fn,ue,ae,Qt,Gn,Mt,E,hn,qe,Me,pt,ht,mt,it,p,v,g]),Yn=(0,H.useMemo)((function(){return{activedSelectId:Ae,isMultiKeyActiveWhenSelectedRef:De}}),[Ae]);(0,H.useEffect)((function(){xe.current=T.current}),[T.current]);var er={position:"absolute",zIndex:1,backgroundColor:"#ffffff"};return K().createElement(K().Fragment,null,K().createElement("div",{className:Hn()("".concat(Ne,"-canvas-ruler"),"".concat(Ne,"-canvas-ruler-x")),style:my(my({},er),{},{width:Mt,height:An+Rt+Mt}),ref:Z},K().createElement(nv.Stage,{width:Mt,height:An+Mt+Rt},K().createElement(jm,{direction:"x",scale:E,marginLeft:ue,marginTop:ae,marginRight:ce,marginBottom:le,pageSize:{width:ie,height:oe},dataContext:Be,ref:U}))),K().createElement("div",{className:"".concat(Ne,"-canvas-and-ruler"),ref:tt},K().createElement("div",{className:"".concat(Ne,"-lock")},K().createElement(W.Icon,{type:"lock"})),K().createElement("div",{className:Hn()("".concat(Ne,"-canvas-ruler"),"".concat(Ne,"-canvas-ruler-y")),style:my(my({},er),{},{width:Dn+Rt+Mt,height:Mt}),ref:q},K().createElement(nv.Stage,{width:Dn+Rt+Mt,height:Mt},K().createElement(jm,{direction:"y",scale:E,marginLeft:ue,marginTop:ae,marginRight:ce,marginBottom:le,pageSize:{width:ie,height:oe},dataContext:Be,ref:V}))),K().createElement("div",{className:Hn()("".concat(Ne,"-canvas-container"),"".concat(Ne,"-shadow-canvas-container")),id:"printDesignerCanvasContainer",ref:function(t){t&&(vt.current=t)},onScroll:kn},K().createElement("div",{className:"".concat(Ne,"-canvas-container-border-left")}),K().createElement("div",{className:"".concat(Ne,"-canvas-container-border-top")}),K().createElement("div",{className:Hn()("".concat(Ne,"-canvas-box"),"".concat(Ne,"-shadow-canvas-box")),ref:je,style:{position:"relative",height:Jf(fe,E),width:Jf(de,E),paddingLeft:Jf(ue,E),paddingRight:Jf(ce,E),paddingTop:Jf(ae,E),paddingBottom:Jf(le,E),boxSizing:"content-box"}}),K().createElement("div",{className:"".concat(Ne,"-canvas-paper"),ref:F,onDragOver:function(t){if(vt.current){var e=vt.current.getBoundingClientRect(),n=e.left,r=e.top,i=(e.height,e.width,vt.current),o=i.scrollLeft,a=i.scrollTop,u=qe(),l=u.x,c=u.y,s=t.pageX,f=t.pageY;s>=n+Math.max(l-o,0)&&s<=n+Math.max(l-o,0)+Jf(de,E)&&f>=r+Math.max(c-a,0)&&f<=r+Math.max(c-a,0)+Jf(fe,E)&&t.preventDefault()}},onDrop:function(t){t.preventDefault();var e=window.event,n=e.offsetX,r=e.offsetY,i=qe(),o=i.x,a=i.y,u={offsetX:n-o,offsetY:r-a,x:Vf(n-o,E),y:Vf(r-a,E)};et.current={isDrag:!0,yPos:u.y};var l=y[J.CONTROL_DRAG_DATA]||{};if(C()(l).length){var c=l.type,s=l.data,f=l.showDataSourceTitle;null==T||T.current.fire("drop",{dropType:c,target:T.current,evt:window.event,controlData:s,position:u,showDataSourceTitle:f},!1),delete y[J.CONTROL_DRAG_DATA]}},style:{width:Math.ceil(ve),height:Math.ceil(ge)},tabIndex:-1},K().createElement("div",{className:"".concat(Ne,"-shadow-input"),ref:nt}),K().createElement("canvas",{ref:rt,style:{display:"none"}}),K().createElement("div",{id:"shadowCanvas",style:{display:"none"}}),K().createElement(nv.Stage,{ref:T,className:"".concat(Ne,"-paper"),width:Math.ceil(ve),height:Math.ceil(ge),scale:{x:Math.ceil(ve)/ve,y:Math.ceil(ge)/ge},onMouseDown:function(t){var e=t.target;if(0===t.evt.button){e!==(null==_n?void 0:_n.current)&&Rn&&Rn(),He(e)&&(Oe.current.isDragging=!0);var n=t.evt,r=n.layerX,i=n.layerY;Oe.current.startX=r,Oe.current.startY=i,He(e)&&Le(t)}},onMouseMove:function(t){var e;if(un.current.isOutMouseUp)return ln(t),void(un.current.isOutMouseUp=!1);if(Oe.current.isDragging){var n=t.evt,r=n.layerX,i=n.layerY,o=Oe.current,a=o.startX,u=o.startY,l=[Math.min(r,a),Math.min(i,u),Math.abs(r-a),Math.abs(i-u)],c=l[0],s=l[1],f=l[2],d=l[3],h=X.current,p=qe(),v=p.x,g=p.y;h.x(c-v),h.y(s-g),h.width(f),h.height(d),h.visible(!0),null==h||null===(e=h.getLayer())||void 0===e||e.batchDraw()}},onMouseUp:ln,onDrop:function(t){var e=t.dropType,n=t.evt,r=t.controlData,i=t.position,o=t.showDataSourceTitle,a={x:n.offsetX,y:n.offsetY},u=T.current.getIntersection(a,"Group");"control"===e?on(r,i,u):an(r,i,u,o)}},K().createElement(Cn.Provider,{value:Kn},K().createElement(wn.Provider,{value:Yn},K().createElement(nv.Layer,{ref:_,x:(null!==(u=null===(l=je.current)||void 0===l?void 0:l.offsetLeft)&&void 0!==u?u:0)-We,y:(null!==(c=null===(s=je.current)||void 0===s?void 0:s.offsetTop)&&void 0!==c?c:0)-We},K().createElement(nv.Rect,{id:"".concat(re,"_outter"),ref:Ge,name:"".concat(re,"_outter_rect"),x:0,y:0,width:Jf(ie,E),height:Jf(oe,E),draggable:!1,strokeWidth:1,fill:"#ffffff",shadowColor:"#000",shadowBlur:10,shadowOpacity:.1,shadowOffset:{x:0,y:2},shadowEnabled:!0}),K().createElement(dg,{key:Ie,id:"unique_draw_background",ref:$,getImageSize:Un,src:Ie,scale:E}),K().createElement(nv.Group,{x:Jf(ue,E),ref:N,name:"".concat(re,"_group"),y:Jf(ae,E)},K().createElement(nv.Rect,{id:"".concat(re),ref:Ue,name:"".concat(re,"_dotted_rect"),width:Jf(de,E),height:Jf(fe,E),draggable:!1,dash:[2.5,2.5],stroke:"#D9D9D9",dashEnabled:!0}),(0,J.toArray)(zt,{context:Kn}),K().createElement(Ag,(0,at.c)({},Vn,{key:"global-transformer"})),K().createElement(nv.Rect,{key:"unique_draw_region",id:"unique_draw_region",ref:X,x:yy,y:yy,height:yy,width:yy,visible:!1,stroke:"#0E5FD8",strokeWidth:1,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:!0}),K().createElement(ey,{dataContext:Be,marginTop:Jf(ae,E),marginLeft:Jf(ue,E),getRedundancyXY:qe,controlGroupRef:N,key:"unique_refline",rootControlRef:Ue,ref:R,stageRef:T,selectedId:Ae,selectionContext:Te}))))))),Ln)),At.show&&K().createElement(jf,{meta:Ee,controlType:At.controlType,transferData:At.transferData,definition:ke,visible:At.show,onCancel:function(){var t=At.reject;t&&t("error: cancel add DataGrid"),Dt({show:!1})},onSelect:ze,activedSelectId:Ae}),Bt.show&&K().createElement(wm,{meta:Ee,definition:ke,visible:Bt.show,onCancel:function(){var t=Bt.reject;t&&t("error: cancel add layoutGrid"),Lt({show:!1})},onConfirm:function(t){var e=t.row,n=t.column;if(de/n<5)return d((0,J.getLangMsg)("printd.grid.key0093"));var r=wd(mt,yt),i=Be.findControlByCondition((function(t){return"Header"===t.type})),o=et.current,a=o.isDrag,u=o.yPos,l=Bt.resolve,c=Bt.parentId,s=my({width:de,height:8*e},a?{y:u}:{}),f=null;if(c){var h=Be.findControl(c),p=h.width,v=h.y,g=h.height,m=h.type;s.width=p,s.y=a?s.y-v:0,"TableTail"===m&&g<8*e&&(f={type:J.ActionType.UPDATE,value:[[c,{height:8*e}]]})}var y=r({type:"LayoutGrid",parentId:c||Me,gridInfo:t,transferData:s});i&&i.length&&y[0].y<i[0].height&&c===Me&&(y[0].y=i[0].height+y[0].y);var C=[{type:J.ActionType.ADD,value:y}];f&&C.push(f),l(C),Qe(),Lt({show:!1})}}),Gt.show&&K().createElement(Sm,{meta:Ee,definition:ke,visible:Gt.show,onCancel:function(){var t=Gt.reject;t&&t("error: cancel add layoutGrid"),Ut({show:!1})},onConfirm:function(t){Ut({show:!1});var e=Gt.resolve,n=Gt.reject;Dt({controlType:"CardGrid",reject:n,resolve:e,show:!0,gridInfo:t})}}),K().createElement(bm,{meta:Ee,definition:ke,visible:Pt.show,onCancel:function(){var t=Pt.value;Pt.resolve,Pt.reject;J.eventBus.emit("change-lang",t,!1),Nt({show:!1})},onConfirm:function(){var t=Pt.value;Pt.resolve,Pt.reject;J.eventBus.emit("change-lang",t,!0),Nt({show:!1})},onClose:function(){Pt.value,Pt.resolve;(0,Pt.reject)((0,J.getLangMsg)("printd.grid.key0091")),Nt({show:!1})}}))}))),wy=(0,J.ErrorBoundaryWrap)(xy,"print-main-view"),Ey=function(t){var e=(0,H.useRef)({}),n=(0,H.useContext)(J.SelectionContext),r=(0,H.useContext)(J.DataContext),i=(0,H.useCallback)((function(t){var n;return(null===(n=e.current)||void 0===n?void 0:n[t])||{}}),[]),o=(0,H.useCallback)((function(t,n){e.current[t]=n}),[]),a=(0,H.useMemo)((function(){return{setFieldSizeCache:o,getFieldSizeCache:i}}),[]),u=(0,H.useCallback)((function(t,e,n){li()(t).call(t,(function(t){return Nd(t)}))||e.setSelect(n)}),[]),l=(0,H.useCallback)((function(){var t;J.console.log("deleteSelectionControl");var e=r.getRootId(),i=L()(t=n.getSelection()).call(t,(function(t){return t!==e})),o=i,a=P()(i).call(i,(function(t){return r.findControl(t)}));if(o.length){if(1===a.length){var l=a[0];u(a,n,l.parentId!==e?[l.parentId]:[])}else u(a,n,[]);r.deleteControl((0,J.createDeleteAction)(o))}}),[]);return K().createElement(wy,(0,at.c)({deleteSelectionControl:l,fieldSizeCacher:a},t))},Sy=function(t){var e,n=t.portalRef,r=t.children,i=t.position,o=t.style,a=(0,H.useState)(document.createElement("div")),u=(0,B.c)(a,1)[0],l=(0,H.useRef)(!1),c=(0,H.useRef)(!1);(u.style.position=i||"absolute",u.style.top="0px",u.style.left="0px",u.style.zIndex="1050",o)&&Q()(e=hp()(o)).call(e,(function(t){var e=(0,B.c)(t,2),n=e[0],r=e[1];u.style[n]=r}));var s=(0,H.useCallback)((function(){if(c.current){var t;if(qr().unmountComponentAtNode(u),l.current)document.body.removeChild(u);else null===(t=n.current)||void 0===t||t.removeChild(u);c.current=!1}}),[]);(0,H.useEffect)((function(){return l.current=!1,null!=n&&n.current?n.current.appendChild(u):(document.body.appendChild(u),l.current=!0),c.current=!0,s}),[]),r?qr().render(r,u):s()},ky="up",Ay="bottom",Dy=(0,H.forwardRef)((function(t,e){var n=t.x,r=t.y,i=t.portalRef,o=t.rowData,a=t.gridType,u=t.originCells,l=t.getCellIdx,c=t.mergeConfig,s=t.gridSelectionContext,f=t.hideContextMenu,d=t.addRow,h=t.addColumn,p=t.deleteRow,v=t.deleteColumn,g=t.addMerge,m=t.removeMerge,y=t.calcSelectionCanMerge,C=t.rowCount,b=t.columnCount,x=t.rows,w=t.subGridId,E=t.dataContext,S=t.selectionContext,k=1===S.getSelection().length&&Nd(E.findControl(S.getSelection()[0])),A=y(),D=!k&&!A,I=function(){var t=s.selection,e=t.minRowNum,n=t.maxRowNum,r=t.minColumnNum,i=t.maxColumnNum;if(void 0===e||void 0===n||void 0===r||void 0===i){if(!A)return!1;var o=A.isSameRowType,a=A.isOnlyOneRowData;return o&&!a}for(var c=u[l(e,0)].row,f=x[c].rowType,d=e+1;d<=n;d++){var h=u[l(d,0)].row;if(f!==x[h].rowType)return!1}var p=u[l(e,r)].mergeConfig;if(p){for(var v=e;v<=n;v++)for(var g=r;g<=i;g++){var m=u[l(v,g)].mergeConfig;if(!Y().isEqual(m,p))return!0}return!1}return!0}(),T=function(){var t,e,n=s.contextRowIndex,r=s.contextColumnIndex,i=s.operationRowIndex,o=s.operationColumnIndex,a=s.selection,f=a.minRowNum,d=a.maxRowNum,h=a.minColumnNum,p=a.maxColumnNum;if(void 0!==f&&void 0!==d&&void 0!==h&&void 0!==p){for(var v=f;v<=d;v++)for(var g=h;g<=p;g++){if(u[l(v,g)].mergeConfig)return!0}return!1}if(void 0!==i){for(var m=0;m<b;m++){if(u[l(i,m)].mergeConfig)return!0}return!1}if(void 0!==o){for(var y=0;y<C;y++){if(u[l(y,o)].mergeConfig)return!0}return!1}return void 0!==n&&void 0!==r&&(!!c[O()(t="".concat(n,"_")).call(t,r)]||!(null===(e=u[l(n,r)])||void 0===e||!e.mergeConfig))}(),B=function(t){if(A)return t===ky?A.minRowNum:A.maxRowNum;if(T&&"cell"===s.operationType){var e,n,r=s.contextRowIndex,i=s.contextColumnIndex,o=c[O()(e="".concat(r,"_")).call(e,i)]||(null===(n=u[l(r,i)])||void 0===n?void 0:n.mergeConfig);if(t===ky&&o)return o.rowStart;if(o)return o.rowStart+o.rowLength-1}return"cell"===s.operationType?s.contextRowIndex:s.operationRowIndex},M=function(t){if(A)return t===ky?A.minColumnNum:A.maxColumnNum;if(T&&"cell"===s.operationType){var e,n,r=s.contextRowIndex,i=s.contextColumnIndex,o=c[O()(e="".concat(r,"_")).call(e,i)]||(null===(n=u[l(r,i)])||void 0===n?void 0:n.mergeConfig);if(t===ky&&o)return o.columnStart;if(o)return o.columnStart+o.columnLength-1}return"cell"===s.operationType?s.contextColumnIndex:s.operationColumnIndex},R=(0,H.useCallback)((function(t,e){if("LayoutGrid"===a||"CardGrid"===a)return ke;var n=dt()(o).call(o,(function(t){return Jd(t.row)}));return-1===n||t<n?Ee:t>n?Se:e===ky?Ee:Se}),[a,o]),F=!!L()(o).call(o,(function(t){return t.row.rowType===Ee||t.row.rowType===ke})).length,_=!!L()(o).call(o,(function(t){return t.row.rowType===Se})).length,P=!!L()(o).call(o,(function(t){return t.row.rowType===ke})).length,N=!!L()(o).call(o,(function(t){var e,n=t.row;return n.rowType===we&&(null===(e=n.mergeSummaryField)||void 0===e?void 0:e.length)})).length,j=(s.operationType,s.operationType,"row"===s.operationType),G="column"===s.operationType,U=!("DataGrid"!==a||L()(o).call(o,(function(t){return t.row.rowType===Ae})).length||null!=w&&w.length||N),z=!D&&!0,Z=!D&&!0,Q=!!s.operationMultiple;J.console.log(n,r,"GridContextMenu",I,T,s);var W=function(){return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(I||T)?{borderBottom:"1px solid #D9D9D9"}:{}},V=D&&"cell"===s.operationType,q=(0,H.useMemo)((function(){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(Q)return{top:r,left:n};var e=16;return Z&&(e+=U?96:64),z&&(e+=64),j&&(e+=32),G&&(e+=32),I&&(e+=32),T&&(e+=32),r+e>t?{top:r-e,left:n}:{top:r,left:n}}),[j,G,I,T,Q]);return Sy({portalRef:i,position:"fixed",children:!V&&K().createElement("div",{className:"grid-context-menu",ref:e,style:q},Q?K().createElement(K().Fragment,null,K().createElement("span",{onClick:function(){f()}},(0,J.getLangMsg)("printd.components.key0031"))):K().createElement(K().Fragment,null,Z&&K().createElement("span",{onClick:function(){var t=dt()(o).call(o,(function(t){return Jd(t.row)})),e=dt()(o).call(o,(function(t){return Hd(t.row)})),n=B(ky);f(),e>-1&&n===t&&(n=e),d(n,ky,R(n,ky))}},(0,J.getLangMsg)("printd.components.key0032")),Z&&K().createElement("span",{onClick:function(){var t=dt()(o).call(o,(function(t){return Hd(t.row)})),e=B(Ay),n=dt()(o).call(o,(function(t){return Jd(t.row)}));f(),t===e?d(n,Ay,Se):d(B(Ay),Ay,R(e,Ay))}},(0,J.getLangMsg)("printd.components.key0033")),Z&&U&&K().createElement("span",{onClick:function(){var t=dt()(o).call(o,(function(t){return Jd(t.row)}));f(),d(t,ky,Ae,!1,1,!0)}},(0,J.getLangMsg)("printd.components.key0034")),j&&K().createElement("span",{onClick:function(){f(),p(B())}},(0,J.getLangMsg)("printd.components.key0035")),z&&K().createElement("span",{onClick:function(){f(),h(M(ky))}},(0,J.getLangMsg)("printd.components.key0036")),z&&K().createElement("span",{style:W(!G),onClick:function(){f(),h(M(Ay),Ay)}},(0,J.getLangMsg)("printd.components.key0037")),G&&K().createElement("span",{style:W(),onClick:function(){f(),v(M())}},(0,J.getLangMsg)("printd.components.key0038")),I&&K().createElement("span",{onClick:function(){f();var t={};if(Y().isObject(A)){var e=A;(0,at.c)(t,e)}else(0,at.c)(t,s.selection);var n=t.minRowNum,r=t.minColumnNum;g({rowStart:n,rowLength:t.maxRowNum-n+1,columnStart:r,columnLength:t.maxColumnNum-r+1})}},(0,J.getLangMsg)("printd.components.key0039")),T&&K().createElement("span",{onClick:function(){var t;f();var e=s.selection,n=e.minRowNum,r=e.maxRowNum,i=e.minColumnNum,o=e.maxColumnNum,a=s.contextRowIndex,d=s.contextColumnIndex,h=s.operationRowIndex,p=s.operationColumnIndex;if(void 0!==n&&void 0!==r&&void 0!==i&&void 0!==o)m({rowStart:n,rowLength:r-n+1,columnStart:i,columnLength:o-i+1});else if(void 0!==h)m({rowStart:h,rowLength:1,columnStart:0,columnLength:b});else if(void 0!==p)m({rowStart:0,rowLength:C,columnStart:p,columnLength:1});else if(Y().isObject(A)){var v=A.minRowNum,g=A.maxRowNum,y=A.minColumnNum,x=A.maxColumnNum;m({rowStart:v,rowLength:g-v+1,columnStart:y,columnLength:x-y+1})}else if(c[O()(t="".concat(a,"_")).call(t,d)]){var w,E=c[O()(w="".concat(a,"_")).call(w,d)],S=E.rowLength,k=E.columnLength;m({rowStart:void 0===n?s.contextRowIndex:n,rowLength:void 0===n?S:r-n+1,columnStart:void 0===i?s.contextColumnIndex:i,columnLength:void 0===i?k:o-i+1})}else if(u[l(a,d)].mergeConfig){var D=u[l(a,d)].mergeConfig,I=D.rowStart,T=D.columnStart,B=D.rowLength,M=D.columnLength;m({rowStart:void 0===n?I:n,rowLength:void 0===n?B:r-n+1,columnStart:void 0===i?T:i,columnLength:void 0===i?M:o-i+1})}}},(0,J.getLangMsg)("printd.components.key0040"))))}),null})),Iy=Dy,Ty=function(t){var e=t.scrollCallbackRef,n=t.refs,r=t.canvasResizeCallbackRef,i=(0,H.useState)(0)[1];(0,H.useEffect)((function(){var t,o,a=function(t){var e,r,i=t.scrollLeft,o=t.scrollTop;Q()(e=L()(r=P()(n).call(n,(function(t){return t.current}))).call(r,Boolean)).call(e,(function(t){var e;t.style.transform=O()(e="translate(".concat(-i+"px",", ")).call(e,-o+"px",")")}))},u=function(){i((function(t){return t+1}))};return null===(t=r.current)||void 0===t||t.push(u),null===(o=e.current)||void 0===o||o.push(a),function(){var t,n;e.current=L()(t=e.current).call(t,(function(t){return t!==a})),r.current=L()(n=r.current).call(n,(function(t){return t!==u}))}}),[e])},By=!1,My=(0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,l,c,s,f=t.x,d=t.y,h=t.portalRef,p=(0,H.useState)(By),v=(0,B.c)(p,2),g=v[0],m=v[1],y=(0,H.useState)(!1),C=(0,B.c)(y,2),b=C[0],x=C[1];(0,H.useEffect)((function(){x(!0)}),[]),By=!0;var w=(0,H.useContext)(Cn),E=w.scrollCallbackRef,S=w.containerDomRef,k=(w.pageHeight,w.canvasBoxRef),A=w.rulerWidth,D=(w.pageWidth,w.canvasResizeCallbackRef),I=w.handlePassGridActionGuide,T=f+(null!==(n=null===(r=k.current)||void 0===r?void 0:r.offsetLeft)&&void 0!==n?n:0)+A,M=d+(null!==(i=null===(o=k.current)||void 0===o?void 0:o.offsetTop)&&void 0!==i?i:0)+A,R=(0,H.useRef)(null);Ty({scrollCallbackRef:E,refs:[R],canvasResizeCallbackRef:D});var L=(0,H.useCallback)((function(){g||(I&&I(),m(!0))}),[I,g]),F=b&&!g&&K().createElement("div",{onClick:L,title:(0,J.getLangMsg)("printd.components.key0042"),className:"print-grid-action-guide",ref:R,style:{position:"absolute",transform:O()(a="translate(".concat((null!==(u=-(null===(l=S.current)||void 0===l?void 0:l.scrollLeft))&&void 0!==u?u:0)+"px",", ")).call(a,(null!==(c=-(null===(s=S.current)||void 0===s?void 0:s.scrollTop))&&void 0!==c?c:0)+"px",")"),left:T,top:M-44}},(0,J.getLangMsg)("printd.components.key0066"));return(0,H.useImperativeHandle)(e,(function(){return{handlePassGridActionGuide:L}}),[L]),Sy({portalRef:h,children:F,style:{width:"1000px"}}),null})),Ry=My,Ly="grid-title",Fy=function(t){var e,n=t.gridSelectionContext,r=t.text,i=t.width,o=t.height,a=t.type,u=t.lineRef,l=t.index,c=t.change,s=t.handleGridSelection,f=(t.length,t.isSelected),d=t.onContextMenu,h=t.templateRowData,p=(t.templateRowHeight,t.scale),v=t.maxLimitWidthChange,g=t.maxLimitHeightChange,m=t.isNextSelected,y=(0,H.useRef)(null);(0,J.useOnClickOutside)([y],(function(t){var e=u.current.dataset.canDrag;!e||JSON.parse(e)}),!1);(0,H.useEffect)((function(){var t=function(t){J.console.log("e.ctrlKe shapeRef.current?.stopDrag()");var e=y.current,n=u.current;e&&(e.dataset.dragging=!1),n&&(n.style.display="none",n.style.transform="",n.dataset.canDrag=!1)};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[]),(0,H.useEffect)((function(){var t=function(t){var e=y.current,n=u.current;if(e&&n&&e.dataset.dragging&&JSON.parse(e.dataset.dragging)){var r,i=n.dataset["".concat(a,"DragStart")],o=("row"!==a?t.clientX:t.clientY)-+i;n.style.transform=O()(r="translate".concat("row"===a?"Y":"X","(")).call(r,o,"px)")}};return window.addEventListener("mousemove",t),function(){window.removeEventListener("mousemove",t)}}),[]);var C="row"===a?Jf(3,p)-o:Jf(5,p)-i,b=Jf("row"===a?g:v,p);(0,H.useEffect)((function(){var t=function(t){var e=u.current,n=y.current;if(e&&n){var r=n.dataset.dragging;if(r&&JSON.parse(r)){var i=e.dataset["".concat(a,"DragStart")],o=("row"!==a?t.clientX:t.clientY)-+i;if(e.style.display="none",e.style.transform="",!isNaN(o)){var s=o>b?b:o<C?C:o;J.console.log("handleMouseUp",o,t.clientX,t.clientY,+i,[s,b,C]),c(l,h?s/(h.length+1):s,s,o)}}e.dataset.canDrag=!1,n.dataset.dragging=!1}};return window.addEventListener("mouseup",t),function(){window.removeEventListener("mouseup",t)}}),[c,h]);return K().createElement("div",{ref:y,className:Hn()("".concat(Ly,"-cell"),(0,M.c)((0,M.c)({},"".concat(Ly,"-cell-selectable"),f),O()(e="".concat(Ly,"-cell-")).call(e,a,"-next-selectable"),m)),style:{width:"row"===a?i:i+(0===l?1:0),fontSize:12*p,lineHeight:1.5,height:"row"!==a?o:o+(0===l?1:0)},onContextMenu:d,onMouseMove:function(t){var e=y.current,n=u.current;if(e&&n){var r="row"===a?t.nativeEvent.offsetY:t.nativeEvent.offsetX,i="row"===a?e.offsetHeight:e.offsetWidth;J.console.log("handleMouseMove",r,8,i,r+8>=i),e.dataset.dragging&&JSON.parse(e.dataset.dragging)||(r+8>=i?(n.dataset.canDrag=!0,e.style.cursor="row"===a?"ns-resize":"ew-resize"):(n.dataset.canDrag=!1,e.style.cursor=""))}},onMouseDown:function(t){var e=u.current,r=y.current,i=e.dataset.canDrag;e&&i&&JSON.parse(i)&&r?(r.dataset.dragging=!0,e.dataset["".concat(a,"DragStart")]="row"!==a?t.clientX:t.clientY,e.style["row"===a?"top":"left"]="".concat(r["row"===a?"offsetTop":"offsetLeft"]+r["row"===a?"offsetHeight":"offsetWidth"],"px"),J.console.log("handleMouseDown",e,y.current),e.style["row"===a?"top":"left"]="row"===a?t.clientX:t.clientY,e.style.display="block",null==t||t.stopPropagation()):(Pv(t)||(n.originClickType="title",n.originTitleIndex=l),_v(t)?s({type:a,index:l,isMult:!0}):Pv(t)?s({type:a,index:l,isMult:!1,isShiftKey:!0}):s({type:a,index:l,isMult:!1}))}},K().createElement("span",{className:"".concat(Ly,"-cell-text")},r))},_y=function(t){var e,n,r,i,o,a,u,l,c,s,f,d,h,p,v,g,m,y,C,b,x,w,E,S,k,A=t.columns,D=t.scale,I=t.x,T=t.y,B=t.portalRef,M=t.rows,R=(t.scrollTop,t.scrollLeft,t.gridType),L=t.templateRowData,F=t.maxLimitWidthChange,_=t.maxLimitHeightChange,N=t.changeRow,j=t.changeColumn,G=t.handleGridSelection,U=t.onContextMenu,z=t.rowTitleSelection,Z=t.columnTitleSelection,Q=t.templateRowHeight,V=t.containerHeight,q=t.containerWidth,Y=t.subGridId,X=t.addSubDataGrid,$=t.gridState,tt=t.isShowAddSubGridBtn,et=t.tableTailId,nt=t.gridSelectionContext,rt=60*D,it=25*D,ot=104*D,at=40*D,ut=2*D,lt=((0,H.useRef)(null),(0,H.useRef)(null)),ct=(0,H.useRef)(null),st=(0,H.useRef)(null),ft=(0,H.useRef)(null),dt=(0,H.useRef)(null),ht=(0,H.useRef)(null),pt=(0,H.useContext)(Cn),vt=pt.scrollCallbackRef,gt=pt.containerDomRef,mt=(pt.pageHeight,pt.canvasBoxRef),yt=pt.rulerWidth,Ct=(pt.pageWidth,pt.canvasResizeCallbackRef),bt=I+(null!==(e=null===(n=mt.current)||void 0===n?void 0:n.offsetLeft)&&void 0!==e?e:0)+yt,xt=T+(null!==(r=null===(i=mt.current)||void 0===i?void 0:i.offsetTop)&&void 0!==r?r:0)+yt;Ty({scrollCallbackRef:vt,refs:[ft,st,dt,ht],canvasResizeCallbackRef:Ct});var wt=qn()(M).call(M,(function(t){return"Group"===t.rowType})),Et=qn()(M).call(M,(function(t){return"Detail"===t.rowType})),St=!(null==Et||null===(o=Et.mergeSummaryField)||void 0===o||!o.length)||!(null==Et||!Et.mergeByField);J.console.log("gridTitle",bt,xt,it,Jf(ld(M,Q),D));var kt=$===de,At=!(!tt||R!==ve||"2"!==$&&$!==de||null!=Y&&Y.length)&&!wt&&!St&&!et,Dt=function(t,e,n,r){var i,o=!(null===(i=t[e])||void 0===i||!i.visible),a=!o;if(n<r.length-1){var u,l=r[n+1].id;a=a&&!(null===(u=t[l])||void 0===u||!u.visible)}else a=!1;return{isSelected:o,isNextSelected:a}};return Sy({portalRef:B,children:K().createElement(K().Fragment,null,kt&&K().createElement("div",{tabIndex:-1,className:Hn()("".concat(Ly,"-column"),Ly),ref:ft,style:{width:q,height:it+0,transform:O()(a="translate(".concat((null!==(u=-(null===(l=gt.current)||void 0===l?void 0:l.scrollLeft))&&void 0!==u?u:0)+"px",", ")).call(a,(null!==(c=-(null===(s=gt.current)||void 0===s?void 0:s.scrollTop))&&void 0!==c?c:0)+"px",")"),left:bt+1,top:xt-it}},P()(A).call(A,(function(t,e){var n=function(t){if(t<=0)return"";for(var e=[];t;){var n=t%26?t%26:26;e.unshift(String.fromCharCode(n+64)),t=Math.floor((t-n)/26)}return e.join("")}(e+1),r=t.id,i=Dt(Z,r,e,A),o=i.isSelected,a=i.isNextSelected;return K().createElement(Fy,{gridSelectionContext:nt,maxLimitWidthChange:F,maxLimitHeightChange:_,scale:D,onContextMenu:U,isSelected:o,isNextSelected:a,handleGridSelection:G,length:M.length,index:e,change:j,key:"grid-column-".concat(t.id),text:n,lineRef:lt,type:"column",width:Jf(t.columnWidth,D),height:it})})),K().createElement("div",{ref:lt,className:"".concat(Ly,"-column-drag-line"),style:{height:Jf(ld(M,Q),D)+it}})),kt&&K().createElement("div",{tabIndex:-1,className:Hn()("".concat(Ly,"-row"),Ly),ref:st,style:{width:rt,height:V+it,transform:O()(f="translate(".concat((null!==(d=-(null===(h=gt.current)||void 0===h?void 0:h.scrollLeft))&&void 0!==d?d:0)+"px",", ")).call(f,(null!==(p=-(null===(v=gt.current)||void 0===v?void 0:v.scrollTop))&&void 0!==p?p:0)+"px",")"),left:bt-rt+1+0,top:xt-it}},K().createElement("div",{className:"".concat(Ly,"-frozen-cell"),style:{width:rt,height:it}},K().createElement("div",{className:"".concat(Ly,"-frozen-cell-line"),style:{width:60*D}})),P()(M).call(M,(function(t,e){var n=function(t,e,n){if("LayoutGrid"===e||"CardGrid"===e)return n+1;switch((t||{}).rowType){case Ee:return(0,J.getLangMsg)("printd.components.key0043");case we:return(0,J.getLangMsg)("printd.components.key0044");case Se:return(0,J.getLangMsg)("printd.components.key0045");case ke:return(0,J.getLangMsg)("printd.components.key0046");case Ae:return(0,J.getLangMsg)("printd.components.key0047");default:return t.name}}(t,R,e),r=t.id,i=t.rowType,o=t.rowHeight,a=Jf(o,D);i===we&&L.length&&(a+=L.length*a);var u=Dt(z,r,e,M),l=u.isSelected,c=u.isNextSelected;return K().createElement(Fy,{gridSelectionContext:nt,maxLimitWidthChange:F,templateRowHeight:Q,maxLimitHeightChange:_,scale:D,onContextMenu:U,templateRowData:i===we&&L,isSelected:l,isNextSelected:c,handleGridSelection:G,length:A.length,index:e,change:N,key:"grid-row-".concat(t.id),text:n,type:"row",lineRef:ct,width:rt,height:a})})),K().createElement("div",{ref:ct,className:"".concat(Ly,"-row-drag-line"),style:{width:Jf(ld(A),D)+rt}})),At&&K().createElement("div",{className:"".concat(Ly,"-subgrid-right"),ref:dt,style:{width:ot,height:V+1,transform:O()(g="translate(".concat((null!==(m=-(null===(y=gt.current)||void 0===y?void 0:y.scrollLeft))&&void 0!==m?m:0)+"px",", ")).call(g,(null!==(C=-(null===(b=gt.current)||void 0===b?void 0:b.scrollTop))&&void 0!==C?C:0)+"px",")"),left:bt+q+1+0+ut,top:xt},onClick:function(){X("right")}},K().createElement(W.Icon,{type:"add"}),(0,J.getLangMsg)("printd.grid.key0032")),At&&K().createElement("div",{className:"".concat(Ly,"-subgrid-bottom"),ref:ht,style:{width:q,height:at+1,transform:O()(x="translate(".concat((null!==(w=-(null===(E=gt.current)||void 0===E?void 0:E.scrollLeft))&&void 0!==w?w:0)+"px",", ")).call(x,(null!==(S=-(null===(k=gt.current)||void 0===k?void 0:k.scrollTop))&&void 0!==S?S:0)+"px",")"),left:bt+1+0,top:xt+V+ut},onClick:function(){X("bottom")}},K().createElement(W.Icon,{type:"add"}),(0,J.getLangMsg)("printd.grid.key0032")))}),null};function Py(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Py(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Py(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Oy=function(t){var e=(0,H.useContext)(Cn),n=(e.scale,e.dataContext),r=((0,H.useRef)(null),(0,H.useRef)(null),t.x,t.y,t.id),i=(t.width,t.height,t.config,t.isTemplate),o=t.cellBackColor,a=t.backColor,u=i?[]:n.findControlByCondition((function(t){return t.parentId===r}))||[],l=!i&&(!!u&&!!u.length);return K().createElement(Qg,{data:Ny(Ny({},t),{},{isCell:!0,hasChildItems:l,isTemplate:i,backColor:o||a,childItems:u})},u&&NC(u,!0))},jy=function(t){t.row;var e=t.cells,n=t.isTemplate,r=t.cellBackColor;return K().createElement(K().Fragment,null,P()(e).call(e,(function(t){t.row,t.column;var e,i,o=t.cellKey,a=t.id;return K().createElement(Oy,(0,at.c)({},t,{isTemplate:n,key:O()(e=O()(i="".concat(n?"tempalte_":"")).call(i,o,"_")).call(e,a),cellBackColor:r}))})))},Gy=function(t){return G()(t).call(t,(function(t,e,n){return t[e.id]={id:e.id,visible:!1,index:n,data:e},t}),{})},Uy=(0,H.memo)((function(t){var e,n,r,i,o,a,u,l,c,s,f,d,h=(0,H.useState)(fe),p=(0,B.c)(h,2),v=p[0],g=p[1],m=(0,H.useContext)(Cn),y=m.contextStrokeEnabled,b=(0,H.useRef)(null),x=(0,H.useRef)(null),w=(0,H.useRef)(null),E=(0,H.useRef)(null),S=(0,H.useRef)(null),k=(0,H.useRef)(null);yv({shapeRef:b});var A=(0,H.useState)(!1),D=(0,B.c)(A,2),I=D[0],T=D[1],R=(0,H.useState)({}),F=(0,B.c)(R,2),_=F[0],N=F[1],j=(0,H.useCallback)((function(){I&&T(!1)}),[I]);(0,H.useEffect)((function(){return window.addEventListener("resize",j),function(){window.removeEventListener("resize",j)}}),[j]);var U=m.scale,z=void 0===U?1:U,Z=m.canvasAbsolutePosRef,Q=m.selectionContext,W=m.dataContext,V=m.marginLeft,q=m.marginTop,X=m.getContainerDomScroll,$=m.scrollCallbackRef,tt=m.getRedundancyXY,et=m.controlGroupRef,nt=m.pixelRatio,rt=m.sizeAndPixelRatioChangeCbRef,it=m.isFirstUseGrid,ot=(Q.getSelection(),W.getRootId()),ut=X(),ct=ut.scrollTop,st=ut.scrollLeft;(0,H.useEffect)((function(){var t;return null===(t=$.current)||void 0===t||t.push(j),function(){var t;$.current=L()(t=$.current).call(t,(function(t){return t!==j}))}}),[I,j]);var ft=t.id,dt=t.rows,ht=void 0===dt?[]:dt,pt=t.columns,vt=void 0===pt?[]:pt,gt=(t.cells,t.mergeConfig),mt=void 0===gt?{}:gt,yt=t.width,Ct=t.height,bt=t.x,xt=t.y,wt=t.type,Et=t.border,It=t.templateRowData,Tt=t.originCells,Mt=t.rowCount,Rt=t.columnCount,Lt=t.rowData,Ft=t.templateRowHeight,_t=t.templateRowIndex,Pt=t.getCellPosition,Nt=t.getCellIdx,Ot=t.templateRowY,jt=t.addRow,Gt=t.getRowIndexlocateByPosition,Ut=t.getColumnIndexlocateByPosition,zt=t.addColumn,Zt=t.changeRow,Qt=t.deleteRow,Wt=t.changeColumn,Jt=t.deleteColumn,Vt=t.addMerge,Ht=t.removeMerge,Kt=t.maxLimitWidthChange,qt=t.maxLimitHeightChange,Yt=t.gridBorderType,Xt=t.handleMouseDown,$t=t.isSelected,te=t.isLastSelected,ee=t.subGridId,ne=t.addSubDataGrid,re=t.isShowAddSubGridBtn,ie=null===(e=W.findControl(ft))||void 0===e?void 0:e.tableTailId,oe=W.findControl(t.parentId),ae=jd({type:wt}),ue=Ud({type:wt}),le=(0,H.useState)((function(){return Gy(ht)})),ce=(0,B.c)(le,2),se=ce[0],he=ce[1],pe=(0,H.useState)((function(){return Gy(vt)})),ve=(0,B.c)(pe,2),ge=ve[0],me=ve[1];(0,H.useEffect)((function(){C()(se).length!==ht.length&&he(Gy(ht))}),[t]),(0,H.useEffect)((function(){C()(ge).length!==vt.length&&me(Gy(vt))}),[t]);var ye=Cg(yt,z),Ce=Cg(Ct,z),be=Jf(bt,z),xe=Jf(xt,z),we=cg({x:bt,y:xt,id:ft,width:yt,height:Ct,border:Et,scale:z,contextStrokeEnabled:y,isSelected:$t}),Ee=we.stroke,Se=we.strokeWidth,ke=(we.strokeEnabled,we.dashEnabled),Ae=we.defaultDash,De=we.customedStrokeElement,Ie=we.controlStrokeRef;dv({isSelected:$t,refs:[b],pixelRatio:nt,scale:z,currentProp:{id:ft,width:yt,height:Ct,x:bt,y:xt,gridState:v,templateRowData:It,gridBorderType:Yt,rowData:Lt,stroke:Ee,dashEnabled:ke,strokeWidth:Se,rowGridSelectionState:se,columnGridSelectionState:ge}});var Te=mv({shapeRef:w,isSelected:te,shapeRefStroke:"#fff",strokeEnabled:!1,controlStrokeRef:Ie}),Be=Te.onMouseOut,Me=Te.onMouseOver;(0,H.useEffect)((function(){var t,e,n,r,i,o=null===(t=b.current)||void 0===t?void 0:t.zIndex(),a=!1;v!==de||Y().isUndefined(o)||(null===(e=b.current)||void 0===e||e.zIndex(((null===(n=et.current)||void 0===n?void 0:n.children.length)||P()(r=W.getData().items).call(r,(function(t){return t.parentId===ot})).length)-2),null===(i=b.current)||void 0===i||i.draw(),a=!0);return function(){var t;a&&!Y().isUndefined(o)&&(null===(t=b.current)||void 0===t||t.zIndex(o))}}),[v,ot]);var Re=yg(t,m),Le=Cv({id:ft,refLineRef:m.refLineRef}),Fe=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height,o=m.dataContext,a=Vf(r,z),u=Vf(i,z);o.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[ft,{x:Vf(e,z),y:Vf(n,z),width:a,height:u}]]))}),[ft,z]),_e=uv({id:ft,shapeRef:b,refLineRef:m.refLineRef,context:m,onDragEnd:Re,onDragMove:Le,parentId:t.parentId,scale:z}),Pe=_e.onDragStart,Ne=_e.onDragMove,Oe=_e.onDragEnd,je=_e.dragBoundFunc,Ge=fv({id:ft,shapeRef:x,refLineRef:m.refLineRef,onTransformEnd:Fe,context:m}),Ue=Ge.onTransform,ze=Ge.onTransformEnd,Ze=(0,H.useRef)(null),Qe={stageRef:m.stageRef,rootControlRef:m.rootControlRef,selectedId:v!==de&&ft,id:ft,dataContext:W,ref:Ze,isSelected:v!==de&&$t&&!te},We=function(t){var e=t.evt||t;if(e.preventDefault(),v===de){W.findControl(ot).language;var n=e.pageX,r=e.pageY;N({x:n,y:r}),I||(T(!0),t.evt&&qe())}},Je=(0,H.useRef)({isSelection:!1,rowIndex:-1,columnIndex:-1,selection:{},operationType:"cell",operationMultiple:!1,contextRowIndex:void 0,contextColumnIndex:void 0,operationRowIndex:void 0,operationColumnIndex:void 0}),Ve=function(t){t.current.contextRowIndex=void 0,t.current.contextColumnIndex=void 0},He=(0,H.useCallback)((function(){var t=Q.getSelection(),e=W.findControl(t);if(li()(e).call(e,(function(t){return Nd(t)}))&&t.length>1){var n,r=G()(Lt).call(Lt,(function(e,n){var r=n.cells;return O()(e).call(e,L()(r).call(r,(function(e){var n=e.id;return Tn()(t).call(t,n)})))}),[]),i=!1;1===r.length&&(i=!0);for(var o=new(di()),a=new(di()),u=new(di()),l=new(di()),c=new(di()),s=!0,f=0;f<Tt.length;f++){var d=Tt[f],h=d.id,p=(d.rowId,d.columnId,d.row),v=d.column,g=d.mergeConfig;if(Tn()(t).call(t,h)&&(c.add(h),o.add(p),l.add(ht[p].rowType),l.size>1&&(s=!1),a.add(v),u.add(h),g))for(var m=g.rowStart,y=g.columnStart,C=g.rowLength,b=g.columnLength,x=m;x<=m+C-1;x++)for(var w=y;w<=y+b-1;w++){var E=Tt[Nt(x,w)];if(E){var S=E.id,k=E.row,A=E.column;u.add(S),o.add(k),a.add(A)}}if(c.size===t.length)break}var D=(0,En.c)(o),I=(0,En.c)(a);if(Xn()(n=[D,I]).call(n,(function(t){return!function(t){if(0===t.length)return!1;if(1===t.length)return!0;for(var e=0;e<t.length-1;e++)if(t[e]!==t[e+1]-1)return!1;return!0}(t)})))return!1;if(D.length*I.length===(0,En.c)(u).length&&D.length*I.length!=1)return{minRowNum:Math.min.apply(Math,(0,En.c)(D)),minColumnNum:Math.min.apply(Math,(0,En.c)(a)),maxRowNum:Math.max.apply(Math,(0,En.c)(D)),maxColumnNum:Math.max.apply(Math,(0,En.c)(a)),isSameRowType:s,isOnlyOneRowData:i}}return!1}),[ft,Tt,ht,Lt]),Ke=function(t){var e,n,r,i,o,a,u=t.minRowNum,l=t.maxRowNum,c=t.minColumnNum,s=t.maxColumnNum,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;if(void 0!==u&&void 0!==l&&void 0!==c&&void 0!==s){(0,at.c)(Je.current.selection,{minRowNum:u,maxRowNum:l,minColumnNum:c,maxColumnNum:s});for(var d=Tt[Nt(u,c)],h=d.row,p=d.id,v=qn()(e=Lt[h].cells).call(e,(function(t){return t.id===p})),g=v.x,m=v.y,y=0,C=0,b=u;b<=l;b++){var x=Pt({row:b,column:c});x.width;C+=x.height}for(var w=c;w<=s;w++){var E=Pt({row:u,column:w}),S=E.width;E.height;y+=S}y=Jf(y,f),C=Jf(C,f),null===(n=k.current)||void 0===n||n.position({x:Jf(g,f),y:Jf(m,f)}),null===(r=k.current)||void 0===r||r.width(y),null===(i=k.current)||void 0===i||i.height(C),null===(o=k.current)||void 0===o||o.visible(!0),null===(a=k.current)||void 0===a||null===(a=a.getLayer())||void 0===a||a.batchDraw()}},qe=function(){var t=Gy(ht),e=Gy(vt),n=!1;return Je.current.operationType="cell",Je.current.operationRowIndex=void 0,Je.current.operationColumnIndex=void 0,Y().isEqual(t,se)||(he(t),n=!0),Y().isEqual(e,ge)||(me(e),n=!0),n},Ye=function(t){var e=t.type,n=t.index,r=t.isMult,i=t.reset,o=void 0!==i&&i,a=(t.isSelectedGrid,t.isShiftKey),u=void 0!==a&&a;if(Ve(Je),o)qe();else{j(),Xe();var l=[],c=[],s=!1,f=Je.current,d=f.rowIndex,h=f.columnIndex,p=f.originClickType,v=f.originTitleIndex,g="row"===e,m="cell"===p?g?d:h:v;Je.current.operationType=g?"row":"column",Je.current.operationRowIndex=g?n:void 0,Je.current.operationColumnIndex=g?void 0:n;var y=function(t,e,n){for(var r=Gy(t),i=e;i<=n;i++)r[t[i].id].visible=!0;return Y().cloneDeep(r)};if(u){var C=Math.min(m,n),b=Math.max(m,n);if(g){he((function(){return y(ht,C,b)})),me(Gy(vt));for(var x=function(t){var e;(e=l).push.apply(e,(0,En.c)(On()({length:Rt},(function(e,n){return Tt[Nt(t,n)].id}))))},w=C;w<=b;w++)x(w)}else{me((function(){return y(vt,C,b)})),he(Gy(ht));for(var E=function(t){var e;(e=l).push.apply(e,(0,En.c)(On()({length:Mt},(function(e,n){return Tt[Nt(n,t)].id}))))},S=C;S<=b;S++)E(S)}}else{var k=g?ht[n]:vt[n];r?(g?he:me)((function(t){return s=!t[k.id].visible,t[k.id].visible=s,Y().cloneDeep(t)})):g?(he((function(){var t=Gy(ht);return s=!t[k.id].visible,t[k.id].visible=s,Y().cloneDeep(t)})),me(Gy(vt))):(me((function(){var t=Gy(vt);return s=!t[k.id].visible,t[k.id].visible=s,Y().cloneDeep(t)})),he(Gy(ht))),l=On()({length:g?Rt:Mt},(function(t,e){return Tt[Nt(g?n:e,g?e:n)].id}))}if(r||u)Je.current.operationMultiple=!0;else{Je.current.operationMultiple=!1;var A=Q.getSelection();c=L()(A).call(A,(function(t){return t!==ft}))}if(u)Q.setSelect(l);else{var D,I,T,B,M=L()(D=Q.getSelection()).call(D,(function(t){return!Tn()(c).call(c,t)})),R=s?L()(I=(0,En.c)(new(di())(O()(T=[]).call(T,(0,En.c)(M),(0,En.c)(l))))).call(I,(function(t){return t!==ft})):L()(B=L()(M).call(M,(function(t){return!Tn()(l).call(l,t)}))).call(B,(function(t){return t!==ft}));Q.setSelect(R.length>0?R:[W.getRootId()])}}},Xe=(0,H.useCallback)((function(){var t,e;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(Je.current.selection={}),null===(t=k.current)||void 0===t||t.visible(!1),null===(e=k.current)||void 0===e||e.draw(),Je.current.isSelection=!1}),[]);(0,H.useEffect)((function(){var t=function(t){Xe(!1),lt()((function(){var e=Je.current.selection;Ke(e,t)}))};return rt.current.push(t),function(){var e;rt.current=L()(e=rt.current).call(e,(function(e){return e!==t}))}}),[Ke,Xe,z]),(0,H.useEffect)((function(){var t=Q.addSelectChangeListener((function(t){var e=t.value;if(Xn()(e).call(e,(function(t){for(var e=W.findControl(t).parentId,n=t;e;){if(e===ft||ft===n)return!1;if(e===ot)return!0;var r=W.findControl(e);e=null==r?void 0:r.parentId,n=null==r?void 0:r.id}return!1}))||0===e.length)return v!==fe&&(g(fe),Xe()),void Ye({reset:!0})})),e=W.addDataChangeListener((function(){lt()((function(){Xe(!1)}))}));return function(){e(),t()}}),[ft,v,Ye,t,ot,Ke,Xe]);var $e=(0,H.useCallback)((function(){if(Je.current.isSelection){var t,e=[],n=Je.current.selection,r=n.minRowNum,i=n.maxRowNum,o=n.minColumnNum,a=n.maxColumnNum;if(li()(t=[r,i,o,a]).call(t,(function(t){return!Y().isUndefined(t)}))){for(var u=function(t,e,n,r,i){for(var o=mh(t,e,r,i),a=function(t,e){var n=e.mergeConfig;if(!n)return t;var r=n.columnStart,i=n.columnLength;return Math.max(t,r+i-1)},u=n,l=o(u,a);l>u;)l=o(u=l,a);return u}(r,i,a,Tt,Nt),l=function(t,e,n,r,i){for(var o=mh(t,e,r,i),a=function(t,e){var n=e.mergeConfig;if(!n)return t;var r=n.columnStart;return Math.min(t,r)},u=n,l=o(u,a);l<u;)l=o(u=l,a);return u}(r,i,o,Tt,Nt),c=r;c<=i;c++)for(var s=l;s<=u;s++)e.push(Tt[Nt(c,s)].id);Y().isEqual(e,Q.getSelection())||Q.setSelect(e)}}Je.current.isSelection=!1}),[Tt]);(0,J.useOnClickOutside)([E],(function(){j()}),!1),(0,H.useEffect)((function(){var t=function(){$e()};return window.addEventListener("mouseup",t),function(){window.removeEventListener("mouseup",t)}}),[$e]),(0,H.useEffect)((function(){var t;(v!==de&&Xe(),v!==fe)&&(null===(t=S.current)||void 0===t||t.handlePassGridActionGuide())}),[v]);var tn=function(t,e,n,r){Zt(t,e,n,r),Xe()},en=function(t,e,n,r){Wt(t,e,n,r),Xe()},nn=(0,H.useMemo)((function(){return It.length&&ae?P()(It).call(It,(function(t,e){return K().createElement(jy,{key:"tempalte_row_".concat(e),cells:t,isTemplate:!0,cellBackColor:"#F5F8FC"})})):null}),[It,ae]),rn=P()(Lt).call(Lt,(function(t,e){var n;return K().createElement(jy,{key:O()(n="".concat(t.row.id,"_row_")).call(n,e),cells:t.cells,row:t.row})})),on=(0,H.useMemo)((function(){return{gridState:v,gridX:be,gridY:xe,gridBorderType:Yt,isEditorGridState:v===de,removeGridSelection:Xe}}),[v,be,xe,Yt,Xe]);return K().createElement(K().Fragment,null,K().createElement(nv.Group,{draggable:v!==de,width:ye,height:Ce,x:be,y:xe,scale:{x:1,y:1},onDragStart:Pe,onDragMove:Ne,onDragEnd:Oe,onMouseOver:Me,onMouseOut:Be,onContextMenu:We,onDblClick:function(t){v!==de&&(g(de),t.cancelBubble=!0)},onMouseDown:function(t){j(),v!==de&&g("2"),v!==de&&Xt(t),function(t){if(0===t.evt.button||2===t.evt.button){var e=null==t?void 0:t.target;if(v===de){var n,r,i,o=null===(n=e.id().split("_"))||void 0===n?void 0:n[0];if(o&&!Nd(W.findControl(o)))return;var a=t.evt,u=a.layerX,l=a.layerY,c=tt(),s=c.x,f=c.y,d=Jf((null==oe?void 0:oe.y)||0,z),h=Gt(l-xe-f-d,Ot,Ft),p=Ut(u-be-s);if(-1===h||-1===p)return;if(2===t.evt.button)return Je.current.contextRowIndex=h,void(Je.current.contextColumnIndex=p);Ve(Je),Je.current.isSelection=!0;var g=Je.current.selection;Je.current.rowIndex=h,Je.current.columnIndex=p,Je.current.originClickType="cell",g.rowStart=Je.current.rowIndex,g.columnStart=Je.current.columnIndex,g.minRowNum=void 0,g.maxRowNum=void 0,g.minColumnNum=void 0,g.maxColumnNum=void 0,Je.current.operationType="cell",Je.current.operationMultiple=!1,null===(r=k.current)||void 0===r||r.visible(!1),null===(i=k.current)||void 0===i||i.draw(),Ye({reset:!0})}}}(t)},onMouseMove:function(t){if(Je.current.isSelection){var e=t.evt,n=e.layerX,r=e.layerY,i=tt(),o=i.x,a=i.y,u=Jf((null==oe?void 0:oe.y)||0,z),l=Gt(r-xe-a-u,Ot,Ft),c=Ut(n-be-o);if(-1===l||-1===c)return;var s=Je.current.selection,f=l,d=c;if(f===s.rowEnd&&d===s.columnEnd)return;s.rowEnd=f,s.columnEnd=d;var h,p,v=s.rowStart,g=void 0===v?0:v,m=s.columnStart,y=void 0===m?0:m,C=s.rowEnd,b=void 0===C?0:C,x=s.columnEnd,w=void 0===x?0:x;if(g===b&&y===w)return null===(h=k.current)||void 0===h||h.visible(!1),void(null===(p=k.current)||void 0===p||p.draw());for(var E=Math.min(g,b),S=Math.min(y,w),A=Math.max(g,b),D=Math.max(y,w),I=E,T=A,B=S,M=D,R=E;R<=A;R++)for(var L=S;L<=D;L++){var F=Tt[Nt(R,L)].mergeConfig;if(F){var _=F.rowStart,P=F.columnStart,N=F.rowLength,O=F.columnLength;I=Math.min(I,_),T=Math.max(T,_+N-1),B=Math.min(B,P),M=Math.max(M,P+O-1)}}(0,at.c)(s,{minRowNum:I,minColumnNum:B,maxRowNum:T,maxColumnNum:M}),Ke(s)}},onMouseUp:$e,ref:b,id:ft,dragBoundFunc:je,name:O()(n=O()(r=O()(i="".concat("grid"," ")).call(i,St," ")).call(r,kt," ")).call(n,At)},K().createElement(nv.Rect,{width:ye,height:Ce,scale:{x:1,y:1},onTransform:Ue,onTransformEnd:ze,ref:x,strokeEnabled:!1,name:O()(o=O()(a="".concat(ft," ")).call(a,kt," ")).call(o,At)}),K().createElement(xn.Provider,{value:on},nn,It.length>0&&ue&&K().createElement(nv.Rect,{key:"grid-temp-rect",name:"grid-temp-rect",listening:!1,opacity:1,fill:"#F5F8FC",x:0,y:Jf(Ot,z),width:ye,height:Jf(Ft,z)}),It.length>0&&K().createElement(nv.Text,{key:"grid-template-text",name:"grid-template-text",listening:!1,verticalAlign:"middle",align:"center",text:ae?(0,J.getLangMsg)("printd.components.key0041"):(0,J.getLangMsg)("printd.components.key0069"),opacity:1,fill:"#E45D5D",fontSize:18,x:0,y:Jf(Ot,z),width:ye,height:Jf(Ft,z),onContextMenu:function(t){"Text"===t.currentTarget.getType()&&(t.cancelBubble=!0)}}),rn),K().createElement(nv.Rect,{key:"grid-selection-rect",name:"grid-selection-rect ".concat(Bt),ref:k,listening:!1,visible:!1,x:0,y:0,width:0,height:0,fill:"#99CCFF",strokeEnabled:!0,stroke:"#0E5FD8",strokeWidth:1,hitStrokeWidth:0,opacity:.4,strokeHitEnabled:!1}),L()(u=P()(l=C()(se)).call(l,(function(t){var e,n=se[t],r=n.id,i=n.visible,o=n.index,a=(n.data,"grid-selection-row-".concat(r));if(!ht[o])return null;var u=0;_t>-1&&o>_t&&Ft&&(u=Ft);var l={x:0,y:Jf(o&&ld(Dn()(ht).call(ht,0,o)),z)+Jf(u,z),width:Jf(ld(vt),z),height:Jf(ht[o].rowHeight,z)};return i&&K().createElement(nv.Rect,(0,at.c)({key:a,name:O()(e="".concat(a," ")).call(e,Bt),listening:!1,visible:i},l,{fill:"#99CCFF",strokeEnabled:!0,stroke:"#0E5FD8",strokeWidth:1,hitStrokeWidth:0,opacity:.4,strokeHitEnabled:!1}))}))).call(u,Boolean),L()(c=P()(s=C()(ge)).call(s,(function(t){var e,n=ge[t],r=n.id,i=n.visible,o=n.index,a=(n.data,"grid-selection-column-".concat(r));if(!vt[o])return null;var u={y:0,x:Jf(o&&ld(Dn()(vt).call(vt,0,o)),z),height:Jf(ld(ht),z)+Jf(Ft,z),width:Jf(vt[o].columnWidth,z)};return i&&K().createElement(nv.Rect,(0,at.c)({key:a,name:O()(e="".concat(a," ")).call(e,Bt),listening:!1,visible:i},u,{fill:"#99CCFF",strokeEnabled:!0,stroke:"#0E5FD8",strokeWidth:1,hitStrokeWidth:0,opacity:.4,strokeHitEnabled:!1}))}))).call(c,Boolean),K().createElement(nv.Rect,{width:ye,height:Ce,visible:!0,listening:!1,scale:{x:1,y:1},dash:Ae,ref:w,stroke:Ee,dashEnabled:ke,strokeWidth:Se,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,strokeEnabled:!De,name:O()(f=" ".concat(At," ")).call(f,Dt)})),K().createElement(Ag,Qe),v===de&&K().createElement(_y,(d={gridType:wt,gridSelectionContext:Je.current,maxLimitWidthChange:Kt,maxLimitHeightChange:qt,x:!0},(0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)(d,"x",V+be+(qd(oe)?Jf(oe.x,z):0)),"y",q+xe+(qd(oe)?Jf(oe.y,z):0)),"containerWidth",ye),"containerHeight",Ce),"templateRowData",It),"templateRowHeight",Ft),"scrollTop",st),"scrollLeft",ct),"rowTitleSelection",se),"columnTitleSelection",ge),(0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)(d,"changeRow",tn),"tableTailId",ie),"changeColumn",en),"handleGridSelection",Ye),"onContextMenu",We),"portalRef",Z),"scale",z),"rows",ht),"columns",vt),"subGridId",ee),(0,M.c)((0,M.c)((0,M.c)(d,"addSubDataGrid",ne),"gridState",v),"isShowAddSubGridBtn",re))),it&&K().createElement(Ry,{x:V+be,y:q+xe,portalRef:Z,ref:S}),v===de&&I&&K().createElement(Iy,(0,at.c)({ref:E},_,{gridSelectionContext:Je.current,addRow:jt,hideContextMenu:j,addColumn:zt,mergeConfig:mt,gridType:wt,rowData:Lt,deleteRow:Qt,deleteColumn:Jt,originCells:Tt,getCellIdx:Nt,changeRow:tn,changeColumn:en,addMerge:function(){Vt.apply(void 0,arguments),Xe(!0)},removeMerge:function(){Ht.apply(void 0,arguments),Xe()},calcSelectionCanMerge:He,rowCount:Mt,columnCount:Rt,rows:ht,subGridId:ee,selectionContext:Q,dataContext:W})))}),(function(t,e){return Eg(t,e)})),zy=Uy,Zy=function(t){var e=(0,H.useRef)(null);return!!_.isEqual(t,e.current)},Qy=["key"];function Wy(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jy(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=Wy(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=Wy(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var Vy=function(t){return"up"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up")?t:t+1},Hy=function(t,e){return ur(t.definition,(function(t){if(t.dataSource===e)return!0}))},Ky=function(t,e,n,r,i,o,a){for(var u=e;u<=e+n-1;u++)for(var l=r;l<=r+i-1;l++){var c,s;if(null!==(c=o[a(u,l)])&&void 0!==c&&c.mergeConfig){var f,d=o[a(u,l)].mergeConfig,h=d.rowStart,p=d.columnStart;t[O()(f="".concat(h,"_")).call(f,p)]=void 0}t[O()(s="".concat(u,"_")).call(s,l)]=void 0}},qy=[],Yy=function(t){var e=t.data,n=(0,H.useContext)(wn),r=(0,H.useContext)(Cn),i=n.activedSelectId,o=e.mergeConfig,a=void 0===o?{}:o,u=e.id,l=e.fixedRowAtPage,c=e.fixedRowCount,s=void 0===c?1:c,f=e.height,d=e.width,h=e.x,p=e.y,v=e.borderType,g=e.subGridId,m=e.dataSource,y=(e.type,e.pagePrint),C=e.pagePrintN,b=(e.key,(0,Wn.c)(e,Qy)),x=r.globalConfig,w=r.dataContext,E=jd(e),S=w.getRootId(),k=w.findControl(S).language,A=(0,H.useState)((function(){var t;return E&&!l&&!!m&&!(null===(t=Hy(x,m))||void 0===t||null===(t=t.SubEntryList)||void 0===t||!t.length)})),D=(0,B.c)(A,2),I=D[0],T=D[1];(0,H.useEffect)((function(){var t,e=E&&!l&&!!m&&!(null===(t=Hy(x,m))||void 0===t||null===(t=t.SubEntryList)||void 0===t||!t.length);e!==I&&T(e)}),[I,m,x,$f(w),E,k,l]);var R=jg(Jy(Jy({},r),{},{activedSelectId:i}),u),F=R.handleMouseDown,_=R.isSelected,N=R.isLastSelected,j=r.scale,G=void 0===j?1:j,U=r.selectionContext,Z=r.setMessage,Q=r.pageWidth,W=r.pageHeight,V=r.dataFactory,q=(w.getMeta(),$d(w,u)),X=q.items,$=q.allItems,tt=Kf(Q-d-h,1)>=0?Kf(Q-d-h,1):zm(),et=Kf(W-f-p,1)>=0?Kf(W-f-p,1):zm(),nt=V;J.console.log("KDgrid",X);var rt=sd(X),it=rt.rows,ot=void 0===it?[]:it,ut=rt.columns,lt=void 0===ut?[]:ut,ct=rt.cells,st=void 0===ct?[]:ct,ft=rt.rowData,ht=rt.columnData,pt=Zy(st),vt=Zy(e),gt=Zy($),mt=(0,H.useMemo)((function(){return Xd(e)?P()(st).call(st,(function(t){var e=t.id;return L()($).call($,(function(t){return t.parentId===e}))})):qy}),[vt,pt,gt]),yt=P()(mt).call(mt,(function(t){return t.id})),Ct=P()(st).call(st,(function(t){return t.id})),bt=(0,H.useState)((function(){var t;return L()(t=U.getSelection()).call(t,(function(t){if(Tn()(Ct).call(Ct,t)||Tn()(yt).call(yt,t))return t}))})),xt=(0,B.c)(bt,2),wt=xt[0],Et=xt[1];(0,H.useEffect)((function(){var t=U.addSelectChangeListener((function(){var t,e=L()(t=U.getSelection()).call(t,(function(t){if(Tn()(Ct).call(Ct,t)||Tn()(yt).call(yt,t))return t}));ed()(e).call(e)!==ed()(wt).call(wt)&&Et(e)}));return function(){t&&t()}}),[wt,yt,Ct]);var St=(0,H.useMemo)((function(){return{templateRowCount:E?s:C,fixedRowAtPage:E?l:y}}),[E,s,l,C,y]),kt=cd(Jy({columns:lt,rows:ot,cells:st,mergeConfig:a,allItems:$,gridData:e},St)),At=kt.templateRowData,Dt=kt.originCells,It=kt.rowData,Tt=kt.templateRowHeight,Bt=kt.templateRowIndex,Mt=kt.templateRowY,Rt=kt.rowCount,Lt=kt.columnCount,Ft=z()(ot),_t=z()(lt),Pt=(0,H.useCallback)(od({rows:ot,columns:lt}),[Ft,_t]),Nt=(0,H.useCallback)(function(t){return ud(t)}(Lt),[Lt]),Ot=(0,H.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ee,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0,a=w.getData().items,l=t,c=e;!1===r&&(n===Ee?(l=0,c="up"):n===Se&&(l=ot.length-1,c="down"));for(var s=ot[l],f=Y().cloneDeep(s).id,d=(0,M.c)((0,M.c)((0,M.c)((0,M.c)((0,M.c)({},Ee,(0,J.getLangMsg)("printd.components.key0043")),we,(0,J.getLangMsg)("printd.components.key0044")),Se,(0,J.getLangMsg)("printd.components.key0045")),ke,(0,J.getLangMsg)("printd.components.key0046")),Ae,(0,J.getLangMsg)("printd.components.key0047")),h=(qn()(a).call(a,(function(t){return t.id===u})),[]),p=dt()(a).call(a,(function(t){return t.id===f})),v=0;v<i;v++){var g=nt({type:"DataRow",parentId:u,transferData:{name:d[n],rowType:n}});h.push(g)}w.addControl((0,J.createAddAction)(h,{index:Vy(p,c),rowIndex:l,direction:c})).then((function(t){if(o){var e=qn()(t).call(t,(function(t){return"DataCell"===t.value[0].type})).value;U.setSelect(P()(e).call(e,(function(t){return t.id})))}}))}),[Ft,u]),jt=(0,H.useCallback)((function(t){var e=ot[t],n=e.id;return"Detail"===e.rowType?(Z((0,J.getLangMsg)("printd.components.key0048")),void J.console.error((0,J.getLangMsg)("printd.components.key0048"))):1===ot.length?(0!==t&&J.console.error("unreachable error deleteRow action"),void w.deleteControl((0,J.createDeleteAction)(u)).then((function(){U.setSelect([])}))):(U.setSelect([u]),void w.deleteControl((0,J.createDeleteAction)(n)).then((function(){})))}),[Ft,u]);J.console.log("maxLimitWidthChange max",[tt,Q,d,h],[et,W,f,p]);var Gt=(0,H.useCallback)((function(t){for(var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=lt[t],a=Y().cloneDeep(o),l=a.type,c=a.id,s=w.getData().items,f=(qn()(s).call(s,(function(t){return t.id===u})),[]),d=dt()(s).call(s,(function(t){return t.id===c})),h=0;h<i;h++)if(n=void 0,n=nt({type:l,parentId:u}),e=void f.push(n))return e.v;w.addControl((0,J.createAddAction)(f,{index:Vy(d,r),columnIndex:t,direction:r}))}),[_t,u]),Ut=(0,H.useCallback)((function(t){var e=lt[t].id;if(1===lt.length)return 0!==t&&J.console.error("unreachable error deleteRow action"),void w.deleteControl((0,J.createDeleteAction)(u)).then((function(){U.setSelect([])}));U.setSelect([u]),w.deleteControl((0,J.createDeleteAction)(e)).then((function(){}))}),[_t,u]),zt=(0,H.useCallback)((function(t){return function(e,n,r,i){var o="row"===t?ot:lt,a=o[e].id,l="row"===t?"rowHeight":"columnWidth",c="row"===t?"height":"width",s=(w.findControl(u)[c],o[e][l]),f=w.getData().items,d=[],h="row"===t?0===et:0===tt;if(i&&h&&e!==o.length-1&&h){var p="row"===t?3:5;if(i>0){var v=Dn()(o).call(o,e+1),g=ld(v),m=Math.min(Vf(i,G),g-p*v.length),y=Y().cloneDeep(qn()(f).call(f,(function(t){return t.id===o[e].id})));y[l]=Kf(y[l]+m,1),d.push([y.id,(0,M.c)({},l,y[l])]);for(var C=function(t){if(0===m)return 1;var e=Y().cloneDeep(qn()(f).call(f,(function(e){return e.id===o[t].id})));e[l]-p>=m?(e[l]=Kf(e[l]-m,1),d.push([e.id,(0,M.c)({},l,e[l])]),m-=m):(m=Kf(m-e[l]+p,1),e[l]=p,d.push([e.id,(0,M.c)({},l,e[l])]))},b=e+1;b<o.length&&!C(b);b++);}else{var x=Y().cloneDeep(qn()(f).call(f,(function(t){return t.id===o[e].id}))),E=Kf(Math.max(x[l]+Vf(i,G),p),1),S=x[l]-E;x[l]=E,d.push([x.id,(0,M.c)({},l,x[l])]);var k=Y().cloneDeep(qn()(f).call(f,(function(t){return t.id===o[e+1].id})));k[l]=Kf(k[l]+S,1),d.push([k.id,(0,M.c)({},l,k[l])])}w.batchUpdateControlPropertyValues((0,J.createUpdateAction)(d))}else{var A=Y().cloneDeep(qn()(f).call(f,(function(t){return t.id===a})));A[l]=Kf(s+Vf(n,G),1),d.push([A.id,(0,M.c)({},l,A[l])]),w.batchUpdateControlPropertyValues((0,J.createUpdateAction)(d))}}}),[u,G,et,tt,Ft,_t]),Zt=(0,H.useCallback)(zt("row"),[zt]),Qt=(0,H.useCallback)(zt("column"),[zt]),Wt=(Ud(e),(0,H.useCallback)((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0,i=Jf(e,G),o=Jf(n,G);J.console.log("getRowIndexlocateByPosition",t,ot,rt,X,w.getData());for(var a=E?dt()(ot).call(ot,(function(t){return t.rowType===we})):ot.length-1,u=0;u<ot.length;u++){var l=ot[u].rowHeight,c=Jf(l,G);if(i>-1&&o>0){if(t>i&&t<i+o)return-1;if(u>a){if(t>=r+o&&t<=c+r+o)return u}else if(t>=r&&t<=c+r)return u}else if(t>=r&&t<=c+r)return u;r+=c}return-1}),[G,Ft])),Jt=(0,H.useCallback)((function(t){var e=0;J.console.log("getRowIndexlocateByPosition getColumnIndexlocateByPosition",t);for(var n=0;n<lt.length;n++){var r=lt[n].columnWidth,i=Jf(r,G);if(t>=e&&t<=i+e)return n;e+=i}return-1}),[G,_t]),Vt=(0,H.useCallback)((function(t){var e,n=t.rowStart,r=t.rowLength,i=t.columnStart,o=t.columnLength,a=w.findControl(u),l=w.getData().items,c=Y().cloneDeep(a.mergeConfig||{});Ky(c,n,r,i,o,Dt,Nt);var s={mergeConfig:(0,at.c)({},c,(0,M.c)({},O()(e="".concat(n,"_")).call(e,i),{rowStart:n,rowLength:r,columnStart:i,columnLength:o}))};s.mergeConfig=Y().omitBy(s.mergeConfig,Y().isUndefined);var f=Y().cloneDeep(qn()(l).call(l,(function(t){return t.id===u})));f.mergeConfig=s.mergeConfig;var d=lh(f,l);w.batchUpdateControlPropertyValues((0,J.createUpdateAction)(O()(d).call(d,[[u,s]]))).then((function(){U.setSelect([Dt[Nt(n,i)].id])}))}),[It,u,Dt,Nt]),Ht=(0,H.useCallback)((function(t){var e=t.rowStart,n=t.rowLength,r=t.columnStart,i=t.columnLength,o=w.findControl(u),a=w.getData().items,l=Y().cloneDeep(o.mergeConfig||{});Ky(l,e,n,r,i,Dt,Nt);var c=Y().cloneDeep(qn()(a).call(a,(function(t){return t.id===u}))),s={mergeConfig:Y().omitBy((0,at.c)({},o.mergeConfig,l),Y().isUndefined)};c.mergeConfig=s.mergeConfig;var f=lh(c,a,!0);w.batchUpdateControlPropertyValues((0,J.createUpdateAction)(O()(f).call(f,[[u,s]])))}),[u,Dt]),Kt=(0,H.useCallback)((function(t){var e=zd(w).width,n=Kf(e/2,1),r=0===h&&e-d<1,i="right"===t?{x:r?n:Kf(h+d,1),y:p,width:r?n:Kf(e-h-d,1)}:{x:h,y:Kf(p+f,1),width:d},o=Jy(Jy({parentGridId:u},i),{},{subGridDirection:t}),a=nt({type:he,parentId:w.getRootId(),transferData:o});w.addControl((0,J.createAddAction)(a,{transferData:o})).then((function(t){var e;J.console.log("addSubDataGrid",t),(null===(e=t[0])||void 0===e||null===(e=e.value)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.id)&&U.setSelect([t[0].value[0].id])}))}),[u,h,p,f,d]);return K().createElement(zy,(0,at.c)({},t,rt,b,{gridBorderType:v,templateRowData:At,rowItemData:ft,columnItemData:ht,addRow:Ot,originCells:Dt,rowCount:Rt,columnCount:Lt,rowData:It,templateRowHeight:Tt,templateRowIndex:Bt,getCellPosition:Pt,getCellIdx:Nt,templateRowY:Mt,changeRow:Zt,deleteRow:jt,addColumn:Gt,changeColumn:Qt,deleteColumn:Ut,removeMerge:Ht,addMerge:Vt,getRowIndexlocateByPosition:Wt,getColumnIndexlocateByPosition:Jt,maxLimitWidthChange:tt,maxLimitHeightChange:et,handleMouseDown:F,isSelected:_,isLastSelected:N,cellItems:mt,subGridId:g,addSubDataGrid:Kt,isShowAddSubGridBtn:I,scale:G,cellItemsSelection:wt}))},Xy=["x","y","width","height","border","name","id","childItems","isLastSelected","handleMouseDown","isSelected"];var $y=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,l=(0,H.useContext)(Cn),c=l.selectionContext,s=l.dataContext,f=l.pageWidth,d=(c.getSelection(),l.scale),h=void 0===d?1:d,p=l.contextStrokeEnabled,v=l.pixelRatio,g=(0,H.useRef)(null),m=(0,H.useRef)(null);J.console.log(l,l.refLineRef.searchRefLines);var y=t.x,C=void 0===y?0:y,b=t.y,x=void 0===b?0:b,w=t.width,E=t.height,S=t.border,k=t.name,A=t.id,D=t.childItems,I=void 0===D?[]:D,T=t.isLastSelected,B=t.handleMouseDown,M=t.isSelected,R=(0,Wn.c)(t,Xy);dv({isSelected:M,refs:[g],pixelRatio:v,scale:h,currentProp:{x:C,y:x,width:w,height:E,name:k,id:A,childItems:I}});var L=cg({x:C,y:x,id:A,width:w,height:E,border:S,scale:h,isSelected:M,contextStrokeEnabled:p}),F=L.stroke,_=L.strokeWidth,N=(L.strokeEnabled,L.dashEnabled),j=L.defaultDash,U=L.customedStrokeElement,z=L.controlStrokeRef,Z=mv({strokeEnabled:!0,shapeRef:m,isSelected:T,shapeRefStroke:F,controlStrokeRef:z}),Q=Z.onMouseOut,W=Z.onMouseOver,V=Cg(E,h),q=Cg(w,h),Y=V,X=Jf(C,h),$=Jf(x,h),tt=(0,H.useCallback)((function(t){var e=t.x,n=t.y;l.dataContext.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[A,{x:Vf(e,h),y:Vf(n,h)}]]))}),[A,h]),et=(0,H.useCallback)((function(t){t.x,t.y,t.scaleX,t.scaleY;var e,n,r=t.width,i=t.height,o=s.getRootId(),a=s.findControlByCondition((function(t){return t.parentId===A})),u=G()(a).call(a,(function(t,e){var n=e.y,r=e.height;return n+r>t?n+r:t}),5),l=Vf(r,h);l!==f&&(l=f);var c=Vf(i,h);c<u?c=Math.min(u,80):c>80&&(c=80);var d=s.findControlByCondition((function(t){var e=t.y,n=t.type,r=t.parentId;return"Header"!==n&&"Footer"!==n&&r===o&&e<c})),p=P()(e=d||[]).call(e,(function(t){return[t.id,{y:c}]}));J.console.log("onTransformEndAction-------",c,p),s.batchUpdateControlPropertyValues((0,J.createUpdateAction)(O()(n=[[A,{x:0,y:0,width:l,height:c}]]).call(n,(0,En.c)(p))))}),[A,h,s,f]),nt=uv({id:A,shapeRef:g,refLineRef:l.refLineRef,context:l,onDragEnd:tt,parentId:t.ParentId,scale:h}),rt=(nt.onDragStart,nt.onDragMove,nt.onDragEnd,nt.dragBoundFunc,fv({id:A,shapeRef:m,refLineRef:l.refLineRef,onTransformEnd:et,context:l})),it=rt.onTransform,ot=rt.onTransformEnd,ut={stageRef:l.stageRef,rootControlRef:l.rootControlRef,selectedId:A,isSelected:M&&!T};return K().createElement(K().Fragment,null,K().createElement(nv.Group,(0,at.c)({height:Y,width:q,clipX:0,clipY:0,clipWidth:q,clipHeight:Y,onMouseOut:Q,onMouseOver:W,ref:g},R,{x:X,y:$,draggable:!1,clipX:0,clipY:0,clipWidth:q,clipHeight:Y,id:A,name:O()(n=O()(r="".concat(St," ")).call(r,kt," ")).call(n,At)}),K().createElement(nv.Text,{height:Y,width:q,x:0,y:0,text:(0,J.getLangMsg)("printd.grid.key0033"),fill:"#E5E5E5",verticalAlign:"middle",align:"center",name:O()(i="".concat(At," ")).call(i,It),fontSize:18,hitStrokeWidth:0}),K().createElement(nv.Rect,{id:"".concat(A,"_rect"),height:Y,width:q,name:O()(o=O()(a=O()(u="".concat(A," ")).call(u,kt," ")).call(a,At," ")).call(o,Dt),fill:"transparent",onTransform:it,onTransformEnd:ot,onMouseDown:B,dashEnabled:N,dash:j,scale:{x:1,y:1},ref:m,stroke:F,strokeWidth:_,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:!0}),I&&NC(I,!0),U),K().createElement(Ag,(0,at.c)({},ut,{enabledAnchors:["bottom-center"]})))})),Eg),tC=$y,eC=["key"];function nC(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function rC(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=nC(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=nC(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var iC=function(t){var e=(0,H.useContext)(Cn),n=e.dataContext,r=e.scale,i=void 0===r?1:r,o=t.data,a=o.key,u=(0,Wn.c)(o,eC),l=o.id,c=(0,H.useContext)(Cn),s=(0,H.useContext)(wn).activedSelectId,f=jg(rC(rC({},c),{},{activedSelectId:s}),l),d=f.handleMouseDown,h=f.isSelected,p=f.isLastSelected,v=n.findControlByCondition((function(t){return t.parentId===l}))||[];return K().createElement(tC,(0,at.c)({},u,{dataKey:a,scale:i,childItems:v,isLastSelected:p,isSelected:h,handleMouseDown:d}))},oC=["x","y","width","height","border","name","id","childItems","isLastSelected","handleMouseDown","isSelected"],aC=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u=(0,H.useContext)(Cn),l=u.selectionContext,c=u.dataContext,s=u.pageWidth,f=u.pageHeight,d=(l.getSelection(),u.scale),h=void 0===d?1:d,p=u.contextStrokeEnabled,v=u.pixelRatio,g=(0,H.useRef)(null),m=(0,H.useRef)(null);J.console.log(u,u.refLineRef.searchRefLines);var y=t.x,C=void 0===y?0:y,b=t.y,x=void 0===b?0:b,w=t.width,E=t.height,S=t.border,k=t.name,A=t.id,D=t.childItems,I=void 0===D?[]:D,T=t.isLastSelected,B=t.handleMouseDown,M=t.isSelected,R=(0,Wn.c)(t,oC);dv({isSelected:M,refs:[g],pixelRatio:v,scale:h,currentProp:{x:C,y:x,width:w,height:E,name:k,id:A,childItems:I}});var F=cg({x:C,y:x,id:A,width:w,height:E,border:S,scale:h,isSelected:M,contextStrokeEnabled:p}),_=F.stroke,N=F.strokeWidth,j=(F.strokeEnabled,F.dashEnabled),U=F.defaultDash,z=F.customedStrokeElement,Z=F.controlStrokeRef,Q=mv({strokeEnabled:!0,shapeRef:m,isSelected:T,shapeRefStroke:_,controlStrokeRef:Z}),W=Q.onMouseOut,V=Q.onMouseOver,q=Cg(E,h),Y=Cg(w,h),X=q,$=Jf(C,h),tt=Jf(x,h),et=(0,H.useCallback)((function(t){var e=t.x,n=t.y;u.dataContext.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[A,{x:Vf(e,h),y:Vf(n,h)}]]))}),[A,h]),nt=(0,H.useCallback)((function(t){t.x,t.y,t.scaleX,t.scaleY;var e,n,r,i=t.width,o=t.height,a=c.getRootId(),u=c.findControlByCondition((function(t){return t.parentId===A})),l=Vf(o,h),d=Vf(i,h),p=G()(u).call(u,(function(t,e){var n=e.height;return n>t?n:t}),5);d!==s&&(d=s),l<=p?l=Math.min(p,80):l>80&&(l=80);var v=L()(e=P()(u).call(u,(function(t){var e=t.y,n=t.height,r=t.id;return e+n>l?[r,{y:l-n}]:null}))).call(e,Boolean),g=c.findControlByCondition((function(t){var e=t.y,n=t.type,r=t.height,i=t.parentId;return"Header"!==n&&"Footer"!==n&&i===a&&e+r>f-l})),m=P()(n=g||[]).call(n,(function(t){return[t.id,{y:f-l-t.height}]}));c.batchUpdateControlPropertyValues((0,J.createUpdateAction)(O()(r=[[A,{x:0,width:d,height:l}]]).call(r,(0,En.c)(m),(0,En.c)(v))))}),[A,s,f,c,h]),rt=uv({id:A,shapeRef:g,refLineRef:u.refLineRef,context:u,onDragEnd:et,parentId:t.ParentId,scale:h}),it=(rt.onDragStart,rt.onDragMove,rt.onDragEnd,rt.dragBoundFunc,fv({id:A,shapeRef:m,refLineRef:u.refLineRef,onTransformEnd:nt,context:u})),ot=it.onTransform,ut=it.onTransformEnd,lt={dataContext:c,stageRef:u.stageRef,rootControlRef:u.rootControlRef,selectedId:A,isSelected:M&&!T};return K().createElement(K().Fragment,null,K().createElement(nv.Group,(0,at.c)({height:X,width:Y,onMouseOut:W,onMouseOver:V,ref:g},R,{x:$,y:tt,draggable:!1,clipX:0,clipY:0,clipWidth:Y,clipHeight:X,id:A,name:O()(n=O()(r="".concat(St," ")).call(r,kt," ")).call(n,At)}),K().createElement(nv.Text,{height:X,width:Y,x:0,y:0,text:(0,J.getLangMsg)("printd.grid.key0030"),fill:"#E5E5E5",verticalAlign:"middle",align:"center",name:"".concat(At),fontSize:18,hitStrokeWidth:0}),K().createElement(nv.Rect,{id:"".concat(A,"_rect"),x:0,y:0,height:X,width:Y,name:O()(i=O()(o=O()(a="".concat(A," ")).call(a,kt," ")).call(o,At," ")).call(i,Dt),fill:"transparent",onTransform:ot,onTransformEnd:ut,onMouseDown:B,dashEnabled:j,dash:U,scale:{x:1,y:1},ref:m,stroke:_,strokeWidth:N,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:!0}),I&&NC(I,!0),z),K().createElement(Ag,(0,at.c)({},lt,{enabledAnchors:["top-center"]})))})),Eg),uC=aC,lC=["key"];function cC(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function sC(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=cC(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=cC(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var fC=function(t){var e=(0,H.useContext)(Cn),n=e.dataContext,r=e.scale,i=void 0===r?1:r,o=t.data,a=o.key,u=(0,Wn.c)(o,lC),l=o.id,c=(0,H.useContext)(Cn),s=(0,H.useContext)(wn).activedSelectId,f=jg(sC(sC({},c),{},{activedSelectId:s}),l),d=f.handleMouseDown,h=f.isSelected,p=f.isLastSelected,v=n.findControlByCondition((function(t){return t.parentId===l}))||[];return K().createElement(uC,(0,at.c)({},u,{dataKey:a,scale:i,childItems:v,isLastSelected:p,isSelected:h,handleMouseDown:d}))},dC=["x","y","width","height","border","name","id","isLastSelected","handleMouseDown","isSelected"],hC=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,l=(0,H.useContext)(Cn),c=l.scale,s=void 0===c?1:c,f=l.contextStrokeEnabled,d=l.pixelRatio,h=(0,H.useContext)(xn),p=h.gridState,v=h.isEditorGridState,g=void 0===v||v,m=bg(),y=(0,H.useRef)(null),C=(0,H.useRef)(null);J.console.log(l,l.refLineRef.searchRefLines);var b=t.x,x=void 0===b?0:b,w=t.y,E=void 0===w?0:w,S=t.width,k=t.height,A=t.border,D=t.name,I=t.id,T=t.isLastSelected,B=t.handleMouseDown,M=t.isSelected,R=(0,Wn.c)(t,dC);dv({isSelected:M,refs:[y],pixelRatio:d,scale:s,currentProp:{x:x,y:E,width:S,height:k,name:D,id:I}});var L=cg({x:x,y:E,id:I,width:S,height:k,border:A,scale:s,isSelected:M,contextStrokeEnabled:f}),F=L.stroke,_=L.strokeWidth,P=L.strokeEnabled,N=L.dashEnabled,j=L.defaultDash,G=L.customedStrokeElement,U=L.controlStrokeRef,z=mv({strokeEnabled:P,shapeRef:C,isSelected:T,shapeRefStroke:F,controlStrokeRef:U}),Z=z.onMouseOut,Q=z.onMouseOver,W=Cg(k,s),V=Cg(S,s),q=W,Y=(Jf(7,s),Jf(x,s)),X=Jf(E,s),$=yg(t,l),tt=Cv({id:I,refLineRef:l.refLineRef}),et=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height;l.dataContext.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[I,{x:Vf(e,s),y:Vf(n,s),width:Vf(r,s),height:Vf(i,s)}]]))}),[I,s]),nt=uv({id:I,shapeRef:y,refLineRef:l.refLineRef,context:l,onDragEnd:$,onDragMove:tt,parentId:t.parentId,scale:s}),rt=nt.onDragStart,it=nt.onDragMove,ot=nt.onDragEnd,ut=nt.dragBoundFunc,lt=fv({id:I,shapeRef:C,refLineRef:l.refLineRef,onTransformEnd:et,context:l}),ct=lt.onTransform,st=lt.onTransformEnd,ft={stageRef:l.stageRef,rootControlRef:l.rootControlRef,selectedId:I,isSelected:M&&!T};return K().createElement(K().Fragment,null,K().createElement(nv.Group,(0,at.c)({height:q,width:V,clipX:0,clipY:0,clipWidth:V,clipHeight:q,onDragStart:rt,onDragMove:it,onDragEnd:ot,onMouseOut:Z,onMouseOver:Q,onMouseDown:B,onDblClick:function(t){m(t,p,B)},ref:y},R,{x:Y,y:X,draggable:g,dragBoundFunc:ut,clipX:0,clipY:0,clipWidth:V,clipHeight:q,id:I,name:O()(n=O()(r="".concat(St," ")).call(r,kt," ")).call(n,At)}),K().createElement(nv.Rect,{width:V,height:q,x:0,y:0,fill:"#f2f6ff"}),K().createElement(nv.Text,{height:q,width:V,x:0,y:0,text:(0,J.getLangMsg)("printd.components.key0062"),fill:"#212121",verticalAlign:"middle",align:"center",name:O()(i="".concat(At," ")).call(i,It),fontSize:20,fontStyle:"bold",fontFamily:"Arial",hitStrokeWidth:0}),K().createElement(nv.Rect,{id:"".concat(I,"_rect"),height:q,width:V,name:O()(o=O()(a=O()(u="".concat(I," ")).call(u,kt," ")).call(a,At," ")).call(o,Dt),fill:"transparent",onTransform:ct,onTransformEnd:st,dashEnabled:N,dash:j,scale:{x:1,y:1},ref:C,stroke:F,strokeWidth:_,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:!0}),G),K().createElement(Ag,ft))})),Eg),pC=hC,vC=["key"];function gC(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function mC(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=gC(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=gC(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var yC=function(t){var e=t.data,n=e.key,r=(0,Wn.c)(e,vC),i=(0,H.useContext)(Cn),o=(0,H.useContext)(wn),a=(0,H.useContext)(xn).gridState,u=e.id,l=o.activedSelectId,c=jg(mC(mC({},i),{},{beforeMouseDown:Gg(a),activedSelectId:l}),u),s=c.handleMouseDown,f=c.isSelected,d=c.isLastSelected;return K().createElement(pC,(0,at.c)({},r,{dataKey:n,isLastSelected:d,isSelected:f,handleMouseDown:s}))},CC=["x","y","width","height","border","name","id","childItems","isLastSelected","handleMouseDown","isSelected","activedSelectId"],bC=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u=(0,H.useContext)(Cn),l=u.selectionContext,c=u.dataContext,s=u.pageWidth,f=u.pageHeight,d=(l.getSelection(),u.scale),h=void 0===d?1:d,p=u.contextStrokeEnabled,v=u.pixelRatio,g=(0,H.useRef)(null),m=(0,H.useRef)(null);J.console.log(u,u.refLineRef.searchRefLines);var y=t.x,C=void 0===y?0:y,b=t.y,x=void 0===b?0:b,w=t.width,E=t.height,S=t.border,k=t.name,A=t.id,D=t.childItems,I=void 0===D?[]:D,T=t.isLastSelected,B=t.handleMouseDown,M=t.isSelected,R=t.activedSelectId,L=(0,Wn.c)(t,CC);dv({isSelected:M,refs:[g],pixelRatio:v,scale:h,currentProp:{x:C,y:x,width:w,height:E,name:k,id:A,childItems:I}});var F=cg({x:C,y:x,id:A,width:w,height:E,border:S,scale:h,isSelected:M,contextStrokeEnabled:p}),_=F.stroke,P=F.strokeWidth,N=(F.strokeEnabled,F.dashEnabled),j=F.defaultDash,U=F.customedStrokeElement,z=F.controlStrokeRef,Z=mv({strokeEnabled:!0,shapeRef:m,isSelected:T,shapeRefStroke:_,controlStrokeRef:z}),Q=Z.onMouseOut,W=Z.onMouseOver,V=Cg(E,h),q=Cg(w,h),Y=V,X=Jf(C,h),$=Jf(x,h),tt=yg(t,u),et=(0,H.useCallback)((function(t){var e=t.x,n=(t.y,t.scaleX,t.scaleY,t.width),r=t.height,i=(c.getRootId(),c.findControl(A)),o=c.findControl(i.parentGridId),a=c.findControlByCondition((function(t){return t.parentId===A})),u=Vf(r,h),l=Vf(n,h),s=G()(a).call(a,(function(t,e){var n=e.height;return n>t?n:t}),5);u<=s&&(u=Math.min(s,100)),o.width<l&&(l=o.width),c.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[A,{x:Vf(e),width:l,height:u}]]))}),[A,s,f,c,h]),nt=uv({id:A,shapeRef:g,refLineRef:u.refLineRef,context:u,onDragEnd:tt,parentId:t.ParentId,scale:h}),rt=nt.onDragStart,it=nt.onDragMove,ot=nt.onDragEnd,ut=nt.dragBoundFunc,lt=fv({id:A,shapeRef:m,refLineRef:u.refLineRef,onTransformEnd:et,context:u}),ct=lt.onTransform,st=lt.onTransformEnd,ft={stageRef:u.stageRef,rootControlRef:u.rootControlRef,selectedId:A,isSelected:M&&!T};return K().createElement(K().Fragment,null,K().createElement(nv.Group,(0,at.c)({height:Y,width:q,onDragStart:rt,onDragMove:it,onDragEnd:ot,onMouseOut:Q,onMouseOver:W,ref:g},L,{x:X,y:$,draggable:"LayoutCell"!==c.findControl(R).type,id:A,dragBoundFunc:ut,name:O()(n=O()(r="".concat(St," ")).call(r,kt," ")).call(n,At)}),K().createElement(nv.Text,{height:Y,width:q,x:0,y:0,text:(0,J.getLangMsg)("printd.components.key0002"),fill:"#E5E5E5",verticalAlign:"middle",align:"center",name:"".concat(At),fontSize:18,hitStrokeWidth:0}),K().createElement(nv.Rect,{id:"".concat(A,"_rect"),x:0,y:0,height:Y,width:q,name:O()(i=O()(o=O()(a="".concat(A," ")).call(a,kt," ")).call(o,At," ")).call(i,Dt),fill:"transparent",onTransform:ct,onTransformEnd:st,onMouseDown:B,dashEnabled:N,dash:j,scale:{x:1,y:1},ref:m,stroke:_,strokeWidth:P,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,hitStrokeWidth:0,alpha:1,strokeEnabled:!0}),I&&NC(I,!0),U),K().createElement(Ag,(0,at.c)({},ft,{enabledAnchors:["top-center"]})))})),Eg),xC=bC,wC=["key"];function EC(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function SC(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=EC(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=EC(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var kC=function(t){var e=(0,H.useContext)(Cn),n=e.dataContext,r=e.scale,i=void 0===r?1:r,o=t.data,a=o.key,u=(0,Wn.c)(o,wC),l=o.id,c=(0,H.useContext)(Cn),s=(0,H.useContext)(wn).activedSelectId,f=jg(SC(SC({},c),{},{activedSelectId:s}),l),d=f.handleMouseDown,h=f.isSelected,p=f.isLastSelected,v=n.findControlByCondition((function(t){return t.parentId===l}))||[];return K().createElement(xC,(0,at.c)({},u,{dataKey:a,scale:i,childItems:v,activedSelectId:s,isLastSelected:p,isSelected:h,handleMouseDown:d}))},AC=["x","y","width","height","border","name","id","isLastSelected","handleMouseDown","isSelected","direction"],DC=(0,H.memo)((0,H.forwardRef)((function(t,e){var n,r,i,o,a,u,l,c=(0,H.useContext)(Cn),s=c.scale,f=void 0===s?1:s,d=(c.contextStrokeEnabled,c.pixelRatio),h=c.setMessage,p=(0,H.useContext)(xn),v=p.gridState,g=p.isEditorGridState,m=void 0===g||g,y=bg(),C=(0,H.useRef)(null),b=(0,H.useRef)(null),x=t.x,w=void 0===x?0:x,E=t.y,S=void 0===E?0:E,k=t.width,A=t.height,D=t.border,I=t.name,T=t.id,B=t.isLastSelected,M=t.handleMouseDown,R=t.isSelected,F=t.direction,_=(0,Wn.c)(t,AC);dv({isSelected:R,refs:[C],pixelRatio:d,scale:f,currentProp:{x:w,y:S,width:k,height:A,name:I,id:T}});var P,N=cg({x:w,y:S,id:T,width:k,height:A,border:D,scale:f,isSelected:R,contextStrokeEnabled:!1}),j=N.stroke,G=N.strokeWidth,U=N.strokeEnabled,z=N.dashEnabled,Z=N.defaultDash,Q=(N.customedStrokeElement,N.controlStrokeRef),W=mv({strokeEnabled:U,shapeRef:b,isSelected:B,shapeRefStroke:j,controlStrokeRef:Q}),V=W.onMouseOut,q=W.onMouseOver,Y=Cg(A,f,2),X=Cg(k,f,2),$=Y,tt=(Jf(7,f),Jf(w,f)),et=Jf(S,f),nt=yg(t,c),rt=Cv({id:T,refLineRef:c.refLineRef}),it=(0,H.useCallback)((function(t){var e=t.x,n=t.y,r=(t.scaleX,t.scaleY,t.width),i=t.height,o=Vf(e,f),a=Vf(n,f),u=Vf(r,f,2),l=Vf(i,f,2),s={x:o,y:a,width:u,height:l};"H"===F&&l>3&&(s.height=3,delete s.y,h((0,J.getLangMsg)("printd.grid.key0130"))),"V"===F&&u>3&&(s.width=3,delete s.x,h((0,J.getLangMsg)("printd.grid.key0130"))),c.dataContext.batchUpdateControlPropertyValues((0,J.createUpdateAction)([[T,s]]))}),[T,f,F]),ot=uv({id:T,shapeRef:C,refLineRef:c.refLineRef,context:c,onDragEnd:nt,onDragMove:rt,parentId:t.parentId,scale:f}),ut=ot.onDragStart,lt=ot.onDragMove,ct=ot.onDragEnd,ft=ot.dragBoundFunc,dt=fv({id:T,shapeRef:b,refLineRef:c.refLineRef,onTransformEnd:it,context:c}),ht=dt.onTransform,pt=dt.onTransformEnd,vt=(c.stageRef,c.rootControlRef,D&&L()(n=st()(D.color)).call(n,(function(t){return t}))[0]),gt=D&&L()(r=st()(D.style)).call(r,(function(t){return t}))[0];return"dotted"===gt?P=[2,2]:"dashed"===gt&&(P=[4,4]),K().createElement(K().Fragment,null,K().createElement(nv.Group,(0,at.c)({height:$,width:X,clipX:-10,clipY:-10,clipWidth:X+20,clipHeight:$+20,onDragStart:ut,onDragMove:lt,onDragEnd:ct,onMouseOut:V,onMouseOver:q,onMouseDown:M,onDblClick:function(t){if(y(t,v,M))return null},ref:C},_,{x:tt,y:et,draggable:m,dragBoundFunc:ft,id:T,name:O()(i=O()(o="".concat(St," ")).call(o,kt," ")).call(i,At)}),K().createElement(nv.Line,{x:0,y:0,stroke:vt||"#000",strokeWidth:"H"===F?$:X,points:"H"===F?[0,$/2,X,$/2]:[X/2,$,X/2,0],dash:P,hitStrokeWidth:20}),K().createElement(nv.Rect,{id:"".concat(T,"_rect"),height:$,width:X,name:O()(a=O()(u=O()(l="".concat(T," ")).call(l,kt," ")).call(u,At," ")).call(a,Dt),fill:"transparent",onTransform:ht,onTransformEnd:pt,dashEnabled:z,dash:Z,scale:{x:1,y:1},ref:b,stroke:j,strokeWidth:G,shadowForStrokeEnabled:!1,strokeScaleEnabled:!1,alpha:1,strokeEnabled:!0})))})),Eg),IC=DC,TC=["key"];function BC(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function MC(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=BC(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=BC(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var RC={Text:Qg,RichText:yC,Image:Yg,Barcode:vm,QRCode:lm,PrintTemplate:Ey,PrintForm:Ey,Paper:Ey,DataGrid:Yy,CardGrid:Yy,LayoutGrid:Yy,Header:iC,Footer:fC,SubDataGrid:Yy,TableTail:kC,Line:function(t){var e=t.data,n=e.key,r=(0,Wn.c)(e,TC),i=(0,H.useContext)(Cn),o=(0,H.useContext)(wn),a=(0,H.useContext)(xn).gridState,u=e.id,l=o.activedSelectId,c=jg(MC(MC({},i),{},{beforeMouseDown:Gg(a),activedSelectId:l}),u),s=c.handleMouseDown,f=c.isSelected,d=c.isLastSelected;return K().createElement(IC,(0,at.c)({},r,{dataKey:n,isLastSelected:d,isSelected:f,handleMouseDown:s}))}};C()(RC);function LC(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}var FC=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=(arguments.length>4?arguments[4]:void 0)||t.type,i=RC[r];if(!i)return null;var o={key:t.id||t.key};return K().createElement(i,function(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=LC(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=LC(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}({data:t,appState:n,children:e},o))};function _C(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function PC(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=_C(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=_C(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var NC=function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Y().isEmpty(n))return null;if(Qn()(n))return P()(n).call(n,(function(e){return t(e,!0)}));if(Od(n))return FC(PC(PC({},n),i));var o=n.items&&!Y().isEmpty(n.items)?P()(e=st()(n.items)).call(e,(function(e){return t(e,!0)})):[];return FC(n,o,r,i)},OC=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},r=(e=e||{}).children,i=e.parent,o=e.id,a={},u={};if(r=r||"children",i=i||"parent",Y().isObject(t)||Y().isArray(t)){for(var l in t)Y().has(t,l)&&t[l]&&(a[t[l][o]]=t[l]);for(var c in a)if(Y().has(a,c))if(a[c][i]){var s,f=a[c][i];if(a[f]&&!a[f][r]&&(a[f][r]={}),a[f]&&!a[f][i])a[f]&&f!==a[c][o]&&(a[f][r][a[c][o]]=n(a[c]));else a[f]&&f!==a[c][o]&&a[f][i]&&-1==kn()(s=a[f][i]).call(s,a[c][o])&&(a[f][r][a[c][o]]=n(a[c]))}else u[a[c][o]]=a[c];return u}},jC=["type"];function GC(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}var UC=(0,H.memo)((function(t){var e=(0,H.useContext)(J.DataContext),n=(0,H.useContext)(J.SelectionContext),r=(0,J.useActivedSelectedId)({dataContext:e,selectionContext:n}).activedSelectId,i=(0,H.useContext)(bn),o=i.meta,a=void 0===o?[]:o,u=i.definition,l=void 0===u?{}:u,c=i.pagesManageRef,s=i.pageManage,f=i.globalConfig,d=i.scaleRef,h=i.asistantBorderRef,p=(0,H.useState)(0)[1],v=(0,H.useRef)(null),g=(0,H.useRef)(!1);(0,H.useEffect)((function(){var t=e.addDataChangeListener((function(t){var e=t.type,n=(0,Wn.c)(t,jC);J.console.log(e,n),p((function(t){return t+1}))}));return function(){t&&t()}}),[]);var m=(0,H.useMemo)((function(){var t=e.getData();return st()(OC(JSON.parse(z()(t)).items,{children:"items",parent:"parentId",id:"id"}))[0]}),[e.getData()]);J.console.log("props",m);var y=(0,H.useContext)(J.ConfigContext),C=(0,y.getPrefixCls)(y.prefixCls),b=(0,H.useRef)(null),x=(0,H.useRef)(null),w=hr(),S=(0,B.c)(w,2),A=(S[0],S[1]),I=A.width,R=A.height,L=(e.findControl(e.getRootId()).language,"".concat(C,"-top-view-main"));return K().createElement(K().Fragment,null,K().createElement(J.ViewHeader,{content:K().createElement("div",{className:"".concat(C,"-main-view-toolbar"),id:"kdesigner-top-view-main"},K().createElement(ig,(0,at.c)({},t,{ref:v,onChangeProperty:function(){},context:{dataContext:e,selectionContext:n,activedSelectId:r,canvasRef:b,globalConfig:f,scaleRef:d,asistantBorderRef:h,isMultiKeyActiveWhenSelectedRef:g}}))),portalId:L}),K().createElement("div",{className:"".concat(C,"-paper"),ref:x},NC(m,!1,function(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=GC(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=GC(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}({width:I,height:R,navToolRef:v,canvasRef:b,meta:a,definition:l,activedSelectId:r,dataContext:e,isMultiKeyActiveWhenSelectedRef:g},t))),K().createElement("div",{className:"".concat(C,"-pages-manage"),ref:c},s))}));UC.tabKey="PrintDesignerCore",UC.getTabName=function(){return(0,J.getLangMsg)("printd.grid.key0109")};var zC=UC,ZC=K().memo((function(t){t.meta,t.data;var e=(0,H.useContext)(J.DataContext),n=(0,H.useContext)(J.SelectionContext),r=e.getRootId(),i=(0,J.useActivedSelectedId)({dataContext:e,selectionContext:n}).activedSelectId,o=(0,H.useState)(0)[1];return(0,H.useEffect)((function(){var t=e.addDataChangeListener((function(t){t.type;o((function(t){return t+1}))}));return function(){t&&t()}}),[]),K().createElement(J.PropertyView,(0,at.c)({},t,{id:r,key:i||r}))}));ZC.tabKey="PrintSetting",ZC.getTabName=function(){return(0,J.getLangMsg)("printd.grid.key0107")};var QC=ZC,WC=function(t){var e=t.meta,n=void 0===e?{}:e,r=(0,H.useContext)(J.DataContext),i=(0,H.useContext)(J.SelectionContext),o=i.getSelection(),a=(0,H.useContext)(J.GlobalConfigContext),u=r.findControlByCondition((function(t){return Tn()(o).call(o,t.id)})),l=function(t,e){var n=(0,En.c)(new(di())(P()(e).call(e,(function(t){return t.rowId||""}))));if(1!==n.length)return!1;var r=n[0];return!!r&&t.findControlByCondition((function(t){return t.rowId===r})).length===e.length}(r,u),c=l?u[0].rowId:"",s=(0,H.useContext)(J.DataFactoryContext).modelFactory,f=(0,J.useSelectModel)({dataContext:r,selectionContext:i,solidId:c,meta:n,activedSelectId:"",modelFactory:s,globalConfig:a}),d=f.modelData,h=f.field,p=(0,H.useContext)(J.ConfigContext),v=(0,p.getPrefixCls)(p.prefixCls,"right-view"),g=function(t,e,n,r){if(!t)return r;var i=n.findControl(e),o=i.parentId,a=i.rowType,u=n.findControl(o).type,l=[function(t){return Hd(t)&&t.parentId===o},function(t){return Gd(t)&&t.parentGridId===o}],c=Td(n,l),s=(0,B.c)(c,2),f=s[0],d=s[1],h=!!f.length,p=!!d.length;return"Detail"===a&&(h||"SubDataGrid"===u||p)?L()(r).call(r,(function(t){return"DataRowGroup"!==t.Id})):r}(l,c,r,d);return l&&K().createElement(J.PropertyViewItemGroup,{modelData:g,PropertyViewItemRender:J.PropertyViewItem,className:v,field:h})},JC=K().memo((function(t){var e=t.meta,n=void 0===e?{}:e,r=(0,H.useContext)(J.DataContext),i=(0,H.useContext)(J.SelectionContext),o=(0,H.useState)(0)[1];return(0,H.useEffect)((function(){var t=i.addSelectChangeListener((function(){o((function(t){return t+1}))})),e=r.addDataChangeListener((function(t){t.type;o((function(t){return t+1}))}));return function(){e&&e(),t&&t()}}),[]),K().createElement(J.PropertyView,{meta:n},K().createElement(WC,{meta:n}))}));JC.tabKey="PropertyView",JC.getTabName=function(){return(0,J.getLangMsg)("printd.grid.key0108")};var VC=JC;function HC(t,e){var n=C()(t);if(x()){var r=x()(t);e&&(r=L()(r).call(r,(function(e){return E()(t,e).enumerable}))),n.push.apply(n,r)}return n}function KC(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Q()(n=HC(Object(i),!0)).call(n,(function(e){(0,M.c)(t,e,i[e])})):k()?D()(t,k()(i)):Q()(r=HC(Object(i))).call(r,(function(e){T()(t,e,E()(i,e))}))}return t}var qC=function t(e,n,r,i,o,a){var u;return null==e?void 0:L()(u=P()(e).call(e,(function(e){var u=e.Name,l=(e.Type,e.Items),c=e.Key,s=e.DsType,f=(e.Tag,e.IsDs),d=i,h=o;if(s&&(h=s),f||r)d=c;else if(!r&&!f){var p;d=d?O()(p="".concat(d,".")).call(p,c):c}var v,g=n,m=a||u;f&&(m=u,g=n?O()(v="".concat(n,".")).call(v,c):c);var y=l?{Items:t(l,g,f,d,h,m)}:{};return KC(KC({dataSource:g,dataSourceText:m,bindField:d,dsTypeKey:o},e),y)}))).call(u,Boolean)},YC=function(){},XC=(0,H.memo)((0,H.forwardRef)((function(t,e){var n=zp(),r=t.data,i=void 0===r?{}:r,o=t.meta,a=void 0===o?{}:o,u=t.onData,l=t.showMessage,c=void 0===l?function(t){J.console.log("showMessage-------",t)}:l,s=t.definition,f=t.handleOpenCustomDsModal,d=void 0===f?YC:f,h=t.handleOpenRefDsModal,p=void 0===h?YC:h,v=t.handleChangePLang,g=void 0===v?YC:v,m=t.pageManage,y=t.scaleRef,C=t.asistantBorderRef,b=t.dataRef,x=t.uploadImageUrl,w=void 0===x?Up("api/print/upload.do",[[vn,n],["printtplid",""]]):x,E=t.previewImageUrl,S=void 0===E?Up("api/print/download.do",[[vn,n],["rcId",""]]):E,k=t.handlePassGridActionGuide,A=void 0===k?YC:k,D=t.handlePassPrintActionGuide,I=void 0===D?YC:D,T=t.handleOpenDGridSortSettingEdModal,M=void 0===T?YC:T,R=t.handleOpenDGridFilterSettingEdModal,F=void 0===R?YC:R,_=t.invokePrintDesignerCustomEvent,N=void 0===_?YC:_,j=t.handleChangeFileName,U=t.isFirstUseGrid,Z=t.isFirstVisit,V=t.expressions,q=void 0===V?[]:V,Y=t.getLangMsg,X="print-designer",$=(0,H.useRef)([]),tt=(0,H.useMemo)((function(){return qC(s)}),[s]),et=(0,H.useState)(!1),nt=(0,B.c)(et,2),rt=nt[0],it=nt[1],at=a.FontMapping;if(at){var ut,lt,ct=(null===(ut=at[0])||void 0===ut?void 0:ut.Code)||(null===(lt=at[0])||void 0===lt?void 0:lt.Name);ct&&function(t){He!==t&&(He=t)}(ct),function(t){Ke!==t&&(Ke=t)}(G()(at).call(at,(function(t,e){var n=e.Name,r=e.Code;return t[n]=r,t}),{}))}var st=(0,H.useCallback)((function(){J.eventBus.emit(lf,tt)}),[tt]),ft=(0,H.useCallback)((function(t){J.eventBus.emit(t,tt)}),[tt]),dt=function(t,e){try{var n,r,i=t[0],o=null===(n=Ct.current)||void 0===n?void 0:n.dataContext;if(!i)return;r="filterSetting"===e?JSON.parse(i.condition).filterRow.length?{filterSettingValue:z()(i),filterSettingText:Y("printd.grid.key0001")}:{filterSettingValue:"",filterSettingText:""}:"fileName"===e?{fileName:i.fileNameK}:{sortSettings:i.sortSettings,sortSettingsText:(u=i.sortSettings,null===(l=P()(u).call(u,(function(t){return t.bindName||t.bindField})))||void 0===l?void 0:l.join(";"))};var a=[[i.dataGridId||i.id,r]];o.batchUpdateControlPropertyValues((0,J.createUpdateAction)(a))}catch(t){J.console.error(t)}var u,l};(0,H.useImperativeHandle)(e,(function(){var t,e,n,r;return{pagesManageRef:yt,attrActions:null===(t=Ct.current)||void 0===t?void 0:t.attrActions,resetPatches:null===(e=Ct.current)||void 0===e||null===(e=e.dataContext)||void 0===e?void 0:e.resetPatches,beforeSave:st,setProperty:dt,pushUndoPatch:null===(n=Ct.current)||void 0===n||null===(n=n.dataContext)||void 0===n?void 0:n.pushUndoPatch,resetData:null===(r=Ct.current)||void 0===r||null===(r=r.dataContext)||void 0===r?void 0:r.resetData}}));var ht=(0,H.useRef)({}),pt=(0,H.useCallback)((function(t){switch(t){case"main":return{main:zC};case"left":return{control:ev,definition:Vp};case"right":return{property:VC,rootProperty:QC};default:return{}}}),[]),vt=(0,H.useCallback)((function(t){var e=L()(t).call(t,(function(t){return"CommonGroup"===t.Id}))||[];return P()(e).call(e,(function(t){return KC(KC({},t),{},{Visible:!0})}))}),[]),gt=(0,H.useMemo)((function(){return{definition:tt,getViews:pt,getPropertyEditors:ip,getCustomActions:ot,getValue:dd,preHandle:jp,filterProperty:up,activateTab:op,handleOpenCustomDsModal:d,handleOpenRefDsModal:p,handleChangePLang:g,handleOpenDGridSortSettingEdModal:M,handleOpenDGridFilterSettingEdModal:F,handleChangeFileName:j,invokePrintDesignerCustomEvent:N,showMessage:c,getOutlineItemIcon:Cd,enableSearch:!1,positionRecordsRef:ht,dataRef:b||$,uploadImageUrl:w,previewImageUrl:S,keywordMapping:{id:"id",type:"type",name:"name",key:"key",parentId:"parentId",items:"items"},enableDiffDefaultData:!1,isRootPropertyEmpty:!0,commonPropertyHandler:vt,getLangMsg:Y}}),[tt,pt,ip,ot,dd,op,d,p,M,F,j,N,g,c,Cd,b,w,S]);J.console.log(t,gt);var yt=(0,H.useRef)(null);(0,H.useEffect)((function(){var t=function(t,e){g(t,e)};return J.eventBus.on("change-lang",t),function(){J.eventBus.off("change-lang",t)}}),[g]);var Ct=(0,H.useRef)(null),bt=(0,H.useCallback)((function(t){c&&c(t)}),[]),xt=(0,H.useMemo)((function(){return{prefixCls:X,definition:tt,setMessage:bt,meta:a,pagesManageRef:yt,globalConfig:gt,pageManage:m,scaleRef:y,asistantBorderRef:C,handlePassGridActionGuide:A,isFirstUseGrid:U,expressions:q,beforeSave:st,onValid:ft}}),[tt,c,a,gt,m,bt,A,U,q,st,ft]),Et=(0,H.useCallback)((function(t,e){var n=(t||{}).items,r=void 0===n?[]:n;ht.current={},Q()(r).call(r,(function(t){var e=t||{},n=e.x,r=e.y,i=e.parentId,o=ht.current;i&&(o[i]=o[i]||[],o[i].push([n,r].join("-")))})),u&&u(t,e)}),[u]),St=(0,H.useMemo)((function(){return Ys(a,!0)}),[a]),kt=(0,H.useMemo)((function(){return Ys(a,!1)}),[a]),At=(0,H.useMemo)((function(){return{prefixCls:"print-designer",getPrefixCls:function(t,e,n){var r;return n||(t=t||"print-designer",e?O()(r="".concat(t,"-")).call(r,e):t)}}}),[]);(0,H.useEffect)((function(){it(!0)}),[]);var Dt=mt(),It=(0,B.c)(Dt,1)[0];return K().createElement(K().Fragment,null,rt&&Z&&It&&K().createElement(wt,{handlePassPrintActionGuide:I}),K().createElement(W.ConfigProvider,{value:{prefixCls:"kdesigner"}},K().createElement(bn.Provider,{value:xt},K().createElement(J.ConfigContext.Provider,{value:At},K().createElement($C,{ref:Ct,globalConfig:gt,onData:Et,meta:a,data:i,prefixCls:X,dataFactory:kt,modelFactory:St})))))}))),$C=K().memo(V(),(function(){return!0}));XC.displayName="PrintDesigner";var tb=XC,eb=!1,nb={},rb=function(t){var e;Q()(e=hp()(t)).call(e,(function(t){var e=(0,B.c)(t,1)[0],n="阿里巴巴普惠体-R"===e?"阿里巴巴普惠体":e,r=document.createElement("div");r.style.position="fixed",r.style.opacity="0",r.style.zIndex="-1050",r.classList.add("cq-font-family-install-dummy-node"),r.textContent=n,r.style.fontFamily=Je(n),document.body.appendChild(r)}))},ib=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,H.useState)(!t),n=(0,B.c)(e,2),r=n[0],i=n[1];if(t&&!r&&!eb)if(eb=!0,window.FontFace){var o;ti().allSettled(P()(o=hp()(t)).call(o,(function(t){var e=(0,B.c)(t,2),n=e[0],r=e[1],i="阿里巴巴普惠体-R"===n?"阿里巴巴普惠体":n;return new(ti())((function(t,e){lt()((function(){t("not to wait loading font ".concat(i))}),5e3);new FontFace(i,"url(".concat(r,")")).load().then((function(e){e&&(nb[i]=!0),document.fonts.add(e),t("install resolve ".concat(i))})).catch((function(){e("install reject ".concat(i))}))})).then((function(t){}),(function(t){}))}))).then((function(e){rb(t),i(!0)})).catch((function(e){rb(t),i(!0)}))}else{var a,u={method:"GET",mode:"cors",credentials:"include",headers:{"Cache-Control":"public, max-age=31536000"}};ti().allSettled(P()(a=hp()(t)).call(a,(function(t){var e=(0,B.c)(t,2),n=e[0],r=e[1],i="阿里巴巴普惠体-R"===n?"阿里巴巴普惠体":n;return new(ti())((function(t,e){lt()((function(){t("not to wait loading font ".concat(i))}),5e3);window.fetch(r,u).then((function(t){return t.text()})).then((function(e){if(e){var n,o=document.createElement("style");o.type="text/css";var a=O()(n='\n              @font-face {\n                font-family: "'.concat(i,'";\n                src: url(')).call(n,r,");\n              }");o.styleSheet?o.styleSheet.cssText=a:o.appendChild(document.createTextNode(a)),nb[i]=!0,document.head.appendChild(o),t("install resolve ".concat(i))}})).catch((function(t){e("install reject ".concat(i))}))})).then((function(t){}),(function(t){}))}))).then((function(e){rb(t),i(!0)})).catch((function(){rb(t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];i(!0)}))}return r}},6220:function(t){"use strict";t.exports=function(t){if(t=String(t||""),r.test(t))return"rtl";if(i.test(t))return"ltr";return"neutral"};var e="֑-߿יִ-﷽ﹰ-ﻼ",n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",r=new RegExp("^[^"+n+"]*["+e+"]"),i=new RegExp("^[^"+e+"]*["+n+"]")},44820:function(t){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=57)}([function(t,e,n){var r=n(2),i=n(11),o=n(4),a=n(13),u=n(22),l=function(t,e,n){var c,s,f,d,h=t&l.F,p=t&l.G,v=t&l.S,g=t&l.P,m=t&l.B,y=p?r:v?r[e]||(r[e]={}):(r[e]||{}).prototype,C=p?i:i[e]||(i[e]={}),b=C.prototype||(C.prototype={});for(c in p&&(n=e),n)f=((s=!h&&y&&void 0!==y[c])?y:n)[c],d=m&&s?u(f,r):g&&"function"==typeof f?u(Function.call,f):f,y&&a(y,c,f,t&l.U),C[c]!=f&&o(C,c,d),g&&b[c]!=f&&(b[c]=f)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){var r=n(17)("wks"),i=n(14),o=n(2).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(5),i=n(16);t.exports=n(6)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(12),i=n(35),o=n(21),a=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(7)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(39),i=n(24);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperty:n(5).f})},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(3);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(2),i=n(4),o=n(8),a=n(14)("src"),u=n(59),l=(""+u).split("toString");n(11).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||u.call(this)}))},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(45),i=n(28);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(11),i=n(2),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(18)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var r=n(24);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(2),i=n(8),o=n(6),a=n(0),u=n(13),l=n(62).KEY,c=n(7),s=n(17),f=n(26),d=n(14),h=n(1),p=n(43),v=n(44),g=n(63),m=n(42),y=n(12),C=n(3),b=n(19),x=n(9),w=n(21),E=n(16),S=n(30),k=n(67),A=n(49),D=n(47),I=n(5),T=n(15),B=A.f,M=I.f,R=k.f,L=r.Symbol,F=r.JSON,_=F&&F.stringify,P=h("_hidden"),N=h("toPrimitive"),O={}.propertyIsEnumerable,j=s("symbol-registry"),G=s("symbols"),U=s("op-symbols"),z=Object.prototype,Z="function"==typeof L&&!!D.f,Q=r.QObject,W=!Q||!Q.prototype||!Q.prototype.findChild,J=o&&c((function(){return 7!=S(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=B(z,e);r&&delete z[e],M(t,e,n),r&&t!==z&&M(z,e,r)}:M,V=function(t){var e=G[t]=S(L.prototype);return e._k=t,e},H=Z&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},K=function(t,e,n){return t===z&&K(U,e,n),y(t),e=w(e,!0),y(n),i(G,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=S(n,{enumerable:E(0,!1)})):(i(t,P)||M(t,P,E(1,{})),t[P][e]=!0),J(t,e,n)):M(t,e,n)},q=function(t,e){y(t);for(var n,r=g(e=x(e)),i=0,o=r.length;o>i;)K(t,n=r[i++],e[n]);return t},Y=function(t){var e=O.call(this,t=w(t,!0));return!(this===z&&i(G,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(G,t)||i(this,P)&&this[P][t])||e)},X=function(t,e){if(t=x(t),e=w(e,!0),t!==z||!i(G,e)||i(U,e)){var n=B(t,e);return!n||!i(G,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=R(x(t)),r=[],o=0;n.length>o;)i(G,e=n[o++])||e==P||e==l||r.push(e);return r},tt=function(t){for(var e,n=t===z,r=R(n?U:x(t)),o=[],a=0;r.length>a;)!i(G,e=r[a++])||n&&!i(z,e)||o.push(G[e]);return o};Z||(u((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===z&&e.call(U,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),J(this,t,E(1,n))};return o&&W&&J(z,t,{configurable:!0,set:e}),V(t)}).prototype,"toString",(function(){return this._k})),A.f=X,I.f=K,n(48).f=k.f=$,n(29).f=Y,D.f=tt,o&&!n(18)&&u(z,"propertyIsEnumerable",Y,!0),p.f=function(t){return V(h(t))}),a(a.G+a.W+a.F*!Z,{Symbol:L});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var rt=T(h.store),it=0;rt.length>it;)v(rt[it++]);a(a.S+a.F*!Z,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=L(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!Z,"Object",{create:function(t,e){return void 0===e?S(t):q(S(t),e)},defineProperty:K,defineProperties:q,getOwnPropertyDescriptor:X,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=c((function(){D.f(1)}));a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return D.f(b(t))}}),F&&a(a.S+a.F*(!Z||c((function(){var t=L();return"[null]"!=_([t])||"{}"!=_({a:t})||"{}"!=_(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(C(e)||void 0!==t)&&!H(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!H(e))return e}),r[1]=e,_.apply(F,r)}}),L.prototype[N]||n(4)(L.prototype,N,L.prototype.valueOf),f(L,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(3);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(37);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(5).f,i=n(8),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(17)("keys"),i=n(14);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(12),i=n(65),o=n(28),a=n(27)("IE_PROTO"),u=function(){},l=function(){var t,e=n(36)("iframe"),r=o.length;for(e.style.display="none",n(66).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";var r=n(68),i=n(69),o=n(32),a=n(9);t.exports=n(70)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports={}},function(t,e,n){n(44)("asyncIterator")},function(t,e,n){"use strict";var r=n(0),i=n(38)(0),o=n(25)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){t.exports=!n(6)&&!n(7)((function(){return 7!=Object.defineProperty(n(36)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(22),i=n(39),o=n(19),a=n(40),u=n(60);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,s=4==t,f=6==t,d=5==t||f,h=e||u;return function(e,u,p){for(var v,g,m=o(e),y=i(m),C=r(u,p,3),b=a(y.length),x=0,w=n?h(e,b):l?h(e,0):void 0;b>x;x++)if((d||x in y)&&(g=C(v=y[x],x,m),t))if(n)w[x]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:w.push(v)}else if(s)return!1;return f?-1:c||s?s:w}}},function(t,e,n){var r=n(23);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(41),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(23);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){e.f=n(1)},function(t,e,n){var r=n(2),i=n(11),o=n(18),a=n(43),u=n(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(8),i=n(9),o=n(46)(!1),a=n(27)("IE_PROTO");t.exports=function(t,e){var n,u=i(t),l=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;e.length>l;)r(u,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(9),i=n(40),o=n(64);t.exports=function(t){return function(e,n,a){var u,l=r(e),c=i(l.length),s=o(a,c);if(t&&n!=n){for(;c>s;)if((u=l[s++])!=u)return!0}else for(;c>s;s++)if((t||s in l)&&l[s]===n)return t||s||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(45),i=n(28).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(29),i=n(16),o=n(9),a=n(21),u=n(8),l=n(35),c=Object.getOwnPropertyDescriptor;e.f=n(6)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){for(var r=n(31),i=n(15),o=n(13),a=n(2),u=n(4),l=n(32),c=n(1),s=c("iterator"),f=c("toStringTag"),d=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var g,m=p[v],y=h[m],C=a[m],b=C&&C.prototype;if(b&&(b[s]||u(b,s,d),b[f]||u(b,f,m),l[m]=d,y))for(g in r)b[g]||o(b,g,r[g],!0)}},function(t,e,n){"use strict";var r=n(73),i={};i[n(1)("toStringTag")]="z",i+""!="[object z]"&&n(13)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(19),i=n(15);n(74)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){"use strict";var r=n(0),i=n(38)(2);r(r.P+r.F*!n(25)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(75)})},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(30)})},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(81).set})},function(t,e,n){n(58),t.exports=n(82)},function(t,e){},function(t,e,n){t.exports=n(17)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(61);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(3),i=n(42),o=n(1)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(14)("meta"),i=n(3),o=n(8),a=n(5).f,u=0,l=Object.isExtensible||function(){return!0},c=!n(7)((function(){return l(Object.preventExtensions({}))})),s=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";s(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;s(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&l(t)&&!o(t,r)&&s(t),t}}},function(t,e,n){var r=n(15),i=n(47),o=n(29);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,u=n(t),l=o.f,c=0;u.length>c;)l.call(t,a=u[c++])&&e.push(a);return e}},function(t,e,n){var r=n(41),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(5),i=n(12),o=n(15);t.exports=n(6)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),u=a.length,l=0;u>l;)r.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(9),i=n(48).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(1)("unscopables"),i=Array.prototype;null==i[r]&&n(4)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(18),i=n(0),o=n(13),a=n(4),u=n(32),l=n(71),c=n(26),s=n(72),f=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,p,v,g,m){l(n,e,p);var y,C,b,x=function(t){if(!d&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",E="values"==v,S=!1,k=t.prototype,A=k[f]||k["@@iterator"]||v&&k[v],D=A||x(v),I=v?E?x("entries"):D:void 0,T="Array"==e&&k.entries||A;if(T&&(b=s(T.call(new t)))!==Object.prototype&&b.next&&(c(b,w,!0),r||"function"==typeof b[f]||a(b,f,h)),E&&A&&"values"!==A.name&&(S=!0,D=function(){return A.call(this)}),r&&!m||!d&&!S&&k[f]||a(k,f,D),u[e]=D,u[w]=h,v)if(y={values:E?D:x("values"),keys:g?D:x("keys"),entries:I},m)for(C in y)C in k||o(k,C,y[C]);else i(i.P+i.F*(d||S),e,y);return y}},function(t,e,n){"use strict";var r=n(30),i=n(16),o=n(26),a={};n(4)(a,n(1)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(8),i=n(19),o=n(27)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(23),i=n(1)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(0),i=n(11),o=n(7);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){"use strict";var r=n(37),i=n(3),o=n(76),a=[].slice,u={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),l=function(){var r=n.concat(a.call(arguments));return this instanceof l?function(t,e,n){if(!(e in u)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";u[e]=Function("F,a","return new F("+r.join(",")+")")}return u[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(l.prototype=e.prototype),l}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";n(78)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){var r=n(0),i=n(24),o=n(7),a=n(79),u="["+a+"]",l=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),s=function(t,e,n){var i={},u=o((function(){return!!a[t]()||"​"!="​"[t]()})),l=i[t]=u?e(f):a[t];n&&(i[n]=l),r(r.P+r.F*u,"String",i)},f=s.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=s},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(0),i=n(46)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(25)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){var r=n(3),i=n(12),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(22)(Function.call,n(49).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){"use strict";n.r(e),n(34),n(20),n(50),n(31),n(51),n(52),n(10),n(53),n(54);var r=.75,i=10,o=!0,a=!0,u=!0,l=!1,c="driver-highlighted-element-stage",s='<div id="'.concat("driver-page-overlay",'"></div>'),f='<div id="'.concat(c,'"></div>');function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(33),n(77);var h=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},p=function t(e,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){for(var r=["","-webkit-","-ms-","moz-","-o-"],i=0;i<r.length;i++){var o=t(e,r[i]+n);if(o)return o}return""}var a="";return e.currentStyle?a=e.currentStyle[n]:document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(e,null).getPropertyValue(n)),a&&a.toLowerCase?a.toLowerCase():a},v=function(t){return t&&"object"===d(t)&&"nodeType"in t};function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.highlightedElement=null,this.lastHighlightedElement=null,this.hideTimer=null,this.window=n,this.document=r,this.removeNode=this.removeNode.bind(this)}var e,n,r;return e=t,(n=[{key:"attachNode",value:function(){var t=this.document.getElementById("driver-page-overlay");t||(t=h(s),document.body.appendChild(t)),this.node=t,this.node.style.opacity="0",this.options.animate||this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"highlight",value:function(t){t&&t.node&&(t.isSame(this.highlightedElement)||(this.window.clearTimeout(this.hideTimer),t.onHighlightStarted(),this.highlightedElement&&!this.highlightedElement.isSame(this.lastHighlightedElement)&&this.highlightedElement.onDeselected(),t.getCalculatedPosition().canHighlight()&&(this.lastHighlightedElement=this.highlightedElement,this.highlightedElement=t,this.show(),this.highlightedElement.onHighlighted())))}},{key:"show",value:function(){var t=this;this.node&&this.node.parentElement||(this.attachNode(),window.setTimeout((function(){t.node.style.opacity="".concat(t.options.opacity),t.node.style.position="fixed",t.node.style.left="0",t.node.style.top="0",t.node.style.bottom="0",t.node.style.right="0"})))}},{key:"getHighlightedElement",value:function(){return this.highlightedElement}},{key:"getLastHighlightedElement",value:function(){return this.lastHighlightedElement}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.onReset&&this.options.onReset(this.highlightedElement),this.highlightedElement&&this.highlightedElement.onDeselected(!0),this.highlightedElement=null,this.lastHighlightedElement=null,this.node&&(this.window.clearTimeout(this.hideTimer),this.options.animate&&!t?(this.node.style.opacity="0",this.hideTimer=this.window.setTimeout(this.removeNode,300)):this.removeNode())}},{key:"removeNode",value:function(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"refresh",value:function(){this.highlightedElement&&(this.highlightedElement.showPopover(),this.highlightedElement.showStage())}}])&&g(e.prototype,n),r&&g(e,r),t}();function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(80);var C=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,r=void 0===n?0:n,i=e.top,o=void 0===i?0:i,a=e.right,u=void 0===a?0:a,l=e.bottom,c=void 0===l?0:l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.left=r,this.right=u,this.top=o,this.bottom=c}var e,n,r;return e=t,(n=[{key:"canHighlight",value:function(){return this.left<this.right&&this.top<this.bottom}}])&&y(e.prototype,n),r&&y(e,r),t}();function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.node,r=e.options,i=e.popover,o=e.stage,a=e.overlay,u=e.window,l=e.document;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=n,this.document=l,this.window=u,this.options=r,this.overlay=a,this.popover=i,this.stage=o,this.animationTimeout=null}var e,n,r;return e=t,(n=[{key:"isInView",value:function(){for(var t=this.node.offsetTop,e=this.node.offsetLeft,n=this.node.offsetWidth,r=this.node.offsetHeight,i=this.node;i.offsetParent;)t+=(i=i.offsetParent).offsetTop,e+=i.offsetLeft;return t>=this.window.pageYOffset&&e>=this.window.pageXOffset&&t+r<=this.window.pageYOffset+this.window.innerHeight&&e+n<=this.window.pageXOffset+this.window.innerWidth}},{key:"scrollManually",value:function(){var t=this.node.getBoundingClientRect().top+this.window.pageYOffset-this.window.innerHeight/2;this.window.scrollTo(0,t)}},{key:"bringInView",value:function(){if(this.node&&!this.isInView())if(this.node.scrollIntoView)try{this.node.scrollIntoView(this.options.scrollIntoViewOptions||{behavior:"instant",block:"center"})}catch(t){this.scrollManually()}else this.scrollManually()}},{key:"getCalculatedPosition",value:function(){var t=this.document.body,e=this.document.documentElement,n=this.window,r=this.window.pageYOffset||e.scrollTop||t.scrollTop,i=n.pageXOffset||e.scrollLeft||t.scrollLeft,o=this.node.getBoundingClientRect();return new C({top:o.top+r,left:o.left+i,right:o.left+i+o.width,bottom:o.top+r+o.height})}},{key:"getPopover",value:function(){return this.popover}},{key:"onDeselected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hidePopover(),t&&this.hideStage(),this.removeHighlightClasses(),this.window.clearTimeout(this.animationTimeout),this.options.onDeselected&&this.options.onDeselected(this)}},{key:"isSame",value:function(t){return!(!t||!t.node)&&t.node===this.node}},{key:"onHighlightStarted",value:function(){this.options.onHighlightStarted&&this.options.onHighlightStarted(this)}},{key:"onHighlighted",value:function(){this.isInView()||this.bringInView(),this.showPopover(),this.showStage(),this.addHighlightClasses(),this.options.onHighlighted&&this.options.onHighlighted(this)}},{key:"removeHighlightClasses",value:function(){this.node.classList.remove("driver-highlighted-element"),this.node.classList.remove("driver-position-relative");for(var t=this.document.querySelectorAll(".".concat("driver-fix-stacking")),e=0;e<t.length;e++)t[e].classList.remove("driver-fix-stacking")}},{key:"addHighlightClasses",value:function(){this.node.classList.add("driver-highlighted-element"),this.canMakeRelative()&&this.node.classList.add("driver-position-relative"),this.fixStackingContext()}},{key:"fixStackingContext",value:function(){for(var t=this.node.parentNode;t&&t.tagName&&"body"!==t.tagName.toLowerCase();){var e=p(t,"z-index"),n=parseFloat(p(t,"opacity")),r=p(t,"transform",!0),i=p(t,"transform-style",!0),o=p(t,"transform-box",!0),a=p(t,"filter",!0),u=p(t,"perspective",!0);(/[0-9]+/.test(e)||n<1||r&&"none"!==r||i&&"flat"!==i||o&&"border-box"!==o||a&&"none"!==a||u&&"none"!==u)&&t.classList.add("driver-fix-stacking"),t=t.parentNode}}},{key:"canMakeRelative",value:function(){var t=this.getStyleProperty("position");return-1===["absolute","fixed","relative"].indexOf(t)}},{key:"getStyleProperty",value:function(t){return p(this.node,t)}},{key:"showStage",value:function(){this.stage.show(this.getCalculatedPosition())}},{key:"getNode",value:function(){return this.node}},{key:"hideStage",value:function(){this.stage.hide()}},{key:"hidePopover",value:function(){this.popover&&this.popover.hide()}},{key:"showPopover",value:function(){var t=this;if(this.popover){var e=this.getCalculatedPosition(),n=300;this.options.animate&&this.overlay.lastHighlightedElement||(n=0),this.animationTimeout=this.window.setTimeout((function(){t.popover.show(e)}),n)}}},{key:"getFullPageSize",value:function(){var t=this.document.body,e=this.document.documentElement;return{height:Math.max(t.scrollHeight,t.offsetHeight,e.scrollHeight,e.offsetHeight),width:Math.max(t.scrollWidth,t.offsetWidth,e.scrollWidth,e.offsetWidth)}}},{key:"getSize",value:function(){return{height:Math.max(this.node.scrollHeight,this.node.offsetHeight),width:Math.max(this.node.scrollWidth,this.node.offsetWidth)}}}])&&b(e.prototype,n),r&&b(e,r),t}();function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(55),n(56);var I=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=k(this,A(e).call(this))).options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){E(t,e,n[e])}))}return t}({isFirst:!0,isLast:!0,totalCount:1,currentIndex:0,offset:0,showButtons:!0,closeBtnText:"Close",doneBtnText:"Done",startBtnText:"Next &rarr;",nextBtnText:"Next &rarr;",prevBtnText:"&larr; Previous"},t),i.window=n,i.document=r,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,x),n=e,(r=[{key:"attachNode",value:function(){var t=this.document.getElementById("driver-popover-item");t&&t.parentElement.removeChild(t),t=h(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return'\n  <div id="'.concat("driver-popover-item",'" class="').concat(t,'">\n    <div class="').concat("driver-popover-tip",'"></div>\n    <div class="').concat("driver-popover-title",'">Popover Title</div>\n    <div class="').concat("driver-popover-description",'">Popover Description</div>\n    <div class="driver-clearfix ').concat("driver-popover-footer",'">\n      <button class="').concat("driver-close-btn",'">Close</button>\n      <span class="driver-btn-group ').concat("driver-navigation-btns",'">\n        <button class="').concat("driver-prev-btn",'">&larr; Previous</button>\n        <button class="').concat("driver-next-btn",'">Next &rarr;</button>\n      </span>\n    </div>\n  </div>')}(this.options.className)),document.body.appendChild(t),this.node=t,this.tipNode=t.querySelector(".".concat("driver-popover-tip")),this.titleNode=t.querySelector(".".concat("driver-popover-title")),this.descriptionNode=t.querySelector(".".concat("driver-popover-description")),this.footerNode=t.querySelector(".".concat("driver-popover-footer")),this.nextBtnNode=t.querySelector(".".concat("driver-next-btn")),this.prevBtnNode=t.querySelector(".".concat("driver-prev-btn")),this.closeBtnNode=t.querySelector(".".concat("driver-close-btn"))}},{key:"getTitleNode",value:function(){return this.titleNode}},{key:"getDescriptionNode",value:function(){return this.descriptionNode}},{key:"hide",value:function(){this.node&&(this.node.style.display="none")}},{key:"setInitialState",value:function(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right="",this.node.querySelector(".".concat("driver-popover-tip")).className="driver-popover-tip"}},{key:"show",value:function(t){switch(this.attachNode(),this.setInitialState(),this.titleNode.innerHTML=this.options.title,this.descriptionNode.innerHTML=this.options.description||"",this.renderFooter(),this.options.position){case"left":case"left-top":this.positionOnLeft(t);break;case"left-center":this.positionOnLeftCenter(t);break;case"left-bottom":this.positionOnLeftBottom(t);break;case"right":case"right-top":this.positionOnRight(t);break;case"right-center":this.positionOnRightCenter(t);break;case"right-bottom":this.positionOnRightBottom(t);break;case"top":case"top-left":this.positionOnTop(t);break;case"top-center":this.positionOnTopCenter(t);break;case"top-right":this.positionOnTopRight(t);break;case"bottom":case"bottom-left":this.positionOnBottom(t);break;case"bottom-center":this.positionOnBottomCenter(t);break;case"bottom-right":this.positionOnBottomRight(t);break;case"mid-center":this.positionOnMidCenter(t);break;default:this.autoPosition(t)}this.bringInView()}},{key:"renderFooter",value:function(){this.nextBtnNode.innerHTML=this.options.nextBtnText,this.prevBtnNode.innerHTML=this.options.prevBtnText,this.closeBtnNode.innerHTML=this.options.closeBtnText;var t=this.options.totalCount&&1!==this.options.totalCount;this.options.showButtons?(t?(this.nextBtnNode.style.display="inline-block",this.prevBtnNode.style.display="inline-block",this.closeBtnNode.classList.remove("driver-close-only-btn")):(this.nextBtnNode.style.display="none",this.prevBtnNode.style.display="none",this.closeBtnNode.classList.add("driver-close-only-btn")),this.footerNode.style.display="block",this.options.isFirst?(this.prevBtnNode.classList.add("driver-disabled"),this.nextBtnNode.innerHTML=this.options.startBtnText):this.prevBtnNode.classList.remove("driver-disabled"),this.options.isLast?this.nextBtnNode.innerHTML=this.options.doneBtnText:this.nextBtnNode.innerHTML=this.options.nextBtnText):this.footerNode.style.display="none"}},{key:"positionOnLeft",value:function(t){var e=this.getSize().width,n=this.options.padding+10;this.node.style.left="".concat(t.left-e-n,"px"),this.node.style.top="".concat(t.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right")}},{key:"positionOnLeftBottom",value:function(t){var e=this.getSize(),n=e.width,r=this.options.padding+10;this.node.style.left="".concat(t.left-n-r,"px"),this.node.style.top="".concat(t.bottom+this.options.padding+this.options.offset-e.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("right","position-bottom")}},{key:"positionOnLeftCenter",value:function(t){var e=this.getSize(),n=e.width,r=e.height/2,i=this.options.padding+10,o=(t.bottom-t.top)/2,a=t.top-r+o+this.options.offset;this.node.style.left="".concat(t.left-n-i,"px"),this.node.style.top="".concat(a,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right","position-center")}},{key:"positionOnRight",value:function(t){var e=this.options.padding+10;this.node.style.left="".concat(t.right+e,"px"),this.node.style.top="".concat(t.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left")}},{key:"positionOnRightCenter",value:function(t){var e=this.getSize(),n=this.options.padding+10,r=e.height/2,i=(t.bottom-t.top)/2,o=t.top-r+i+this.options.offset;this.node.style.left="".concat(t.right+n,"px"),this.node.style.top="".concat(o,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left","position-center")}},{key:"positionOnRightBottom",value:function(t){var e=this.options.padding+10,n=this.getSize();this.node.style.left="".concat(t.right+e,"px"),this.node.style.top="".concat(t.bottom+this.options.padding+this.options.offset-n.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("left","position-bottom")}},{key:"positionOnTop",value:function(t){var e=this.getSize().height,n=this.options.padding+10;this.node.style.top="".concat(t.top-e-n,"px"),this.node.style.left="".concat(t.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom")}},{key:"positionOnTopCenter",value:function(t){var e=this.getSize(),n=e.height,r=e.width/2,i=this.options.padding+10,o=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top="".concat(t.top-n-i,"px"),this.node.style.left="".concat(o-r-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-center")}},{key:"positionOnTopRight",value:function(t){var e=this.getSize(),n=e.height,r=this.options.padding+10;this.node.style.top="".concat(t.top-n-r,"px"),this.node.style.left="".concat(t.right+this.options.padding+this.options.offset-e.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-right")}},{key:"positionOnBottom",value:function(t){var e=this.options.padding+10;this.node.style.top="".concat(t.bottom+e,"px"),this.node.style.left="".concat(t.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top")}},{key:"positionOnBottomCenter",value:function(t){var e=this.getSize().width/2,n=this.options.padding+10,r=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top="".concat(t.bottom+n,"px"),this.node.style.left="".concat(r-e-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-center")}},{key:"positionOnBottomRight",value:function(t){var e=this.getSize(),n=this.options.padding+10;this.node.style.top="".concat(t.bottom+n,"px"),this.node.style.left="".concat(t.right+this.options.padding+this.options.offset-e.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-right")}},{key:"positionOnMidCenter",value:function(t){var e=this.getSize(),n=e.height,r=e.width/2,i=n/2,o=(t.bottom-t.top)/2,a=t.top-i+o+this.options.offset,u=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top="".concat(a,"px"),this.node.style.left="".concat(u-r-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("mid-center")}},{key:"autoPosition",value:function(t){var e=this.getFullPageSize(),n=this.getSize(),r=e.height,i=n.height,o=this.options.padding+10;t.bottom+i+o>=r?this.positionOnTop(t):this.positionOnBottom(t)}}])&&S(n.prototype,r),i&&S(n,i),e}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var F=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=M(this,R(e).call(this))).options=t,i.window=n,i.document=r,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,x),n=e,(r=[{key:"attachNode",value:function(){var t=this.document.getElementById(c);t||(t=h(f),document.body.appendChild(t)),this.node=t,this.options.animate?this.node.classList.remove("driver-stage-no-animation"):this.node.classList.add("driver-stage-no-animation")}},{key:"hide",value:function(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"setInitialStyle",value:function(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right=""}},{key:"show",value:function(t){this.attachNode(),this.setInitialStyle();var e=2*this.options.padding,n=t.right-t.left+e,r=t.bottom-t.top+e;this.node.style.display="block",this.node.style.position="absolute",this.node.style.width="".concat(n,"px"),this.node.style.height="".concat(r,"px"),this.node.style.top="".concat(t.top-e/2,"px"),this.node.style.left="".concat(t.left-e/2,"px"),this.node.style.backgroundColor=this.options.stageBackground}}])&&B(n.prototype,r),i&&B(n,i),e}();function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){P(t,e,n[e])}))}return t}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"default",(function(){return O}));var O=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=_({animate:o,opacity:r,padding:i,scrollIntoViewOptions:null,allowClose:a,keyboardControl:u,overlayClickNext:l,stageBackground:"#ffffff",onHighlightStarted:function(){return null},onHighlighted:function(){return null},onDeselected:function(){return null},onReset:function(){return null},onNext:function(){return null},onPrevious:function(){return null}},e),this.document=document,this.window=window,this.isActivated=!1,this.steps=[],this.currentStep=0,this.currentMovePrevented=!1,this.overlay=new m(this.options,window,document),this.onResize=this.onResize.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onClick=this.onClick.bind(this),this.moveNext=this.moveNext.bind(this),this.movePrevious=this.movePrevious.bind(this),this.preventMove=this.preventMove.bind(this),this.bind()}var e,n,c;return e=t,(n=[{key:"getSteps",value:function(){return this.steps}},{key:"setSteps",value:function(t){this.steps=t}},{key:"bind",value:function(){this.window.addEventListener("resize",this.onResize,!1),this.window.addEventListener("keyup",this.onKeyUp,!1),"ontouchstart"in document.documentElement?this.window.addEventListener("touchstart",this.onClick,!1):this.window.addEventListener("click",this.onClick,!1)}},{key:"onClick",value:function(t){if(this.isActivated&&this.hasHighlightedElement()){t.stopPropagation();var e=this.overlay.getHighlightedElement(),n=this.document.getElementById("driver-popover-item"),r=e.node.contains(t.target),i=n&&n.contains(t.target);if(r||i||!this.options.overlayClickNext)if(r||i||!this.options.allowClose){var o=t.target.classList.contains("driver-next-btn"),a=t.target.classList.contains("driver-prev-btn");t.target.classList.contains("driver-close-btn")?this.reset():o?this.handleNext():a&&this.handlePrevious()}else this.reset();else this.handleNext()}}},{key:"onResize",value:function(){this.isActivated&&this.refresh()}},{key:"refresh",value:function(){this.overlay.refresh()}},{key:"onKeyUp",value:function(t){if(this.isActivated&&this.options.keyboardControl)if(27!==t.keyCode){var e=this.getHighlightedElement();e&&e.popover&&(39===t.keyCode?this.handleNext():37===t.keyCode&&this.handlePrevious())}else this.reset()}},{key:"movePrevious",value:function(){var t=this.steps[this.currentStep-1];t?(this.overlay.highlight(t),this.currentStep-=1):this.reset()}},{key:"preventMove",value:function(){this.currentMovePrevented=!0}},{key:"handleNext",value:function(){this.currentMovePrevented=!1;var t=this.steps[this.currentStep];t&&t.options&&t.options.onNext&&t.options.onNext(this.overlay.highlightedElement),this.currentMovePrevented||this.moveNext()}},{key:"handlePrevious",value:function(){this.currentMovePrevented=!1;var t=this.steps[this.currentStep];t&&t.options&&t.options.onPrevious&&t.options.onPrevious(this.overlay.highlightedElement),this.currentMovePrevented||this.movePrevious()}},{key:"moveNext",value:function(){var t=this.steps[this.currentStep+1];t?(this.overlay.highlight(t),this.currentStep+=1):this.reset()}},{key:"hasNextStep",value:function(){return!!this.steps[this.currentStep+1]}},{key:"hasPreviousStep",value:function(){return!!this.steps[this.currentStep-1]}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.currentStep=0,this.isActivated=!1,this.overlay.clear(t)}},{key:"hasHighlightedElement",value:function(){var t=this.overlay.getHighlightedElement();return t&&t.node}},{key:"getHighlightedElement",value:function(){return this.overlay.getHighlightedElement()}},{key:"getLastHighlightedElement",value:function(){return this.overlay.getLastHighlightedElement()}},{key:"defineSteps",value:function(t){this.steps=[];for(var e=0;e<t.length;e++){var n=this.prepareElementFromStep(t[e],t,e);n&&this.steps.push(n)}}},{key:"prepareElementFromStep",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=_({},this.options),i=t,o="string"!=typeof t&&!v(t);if(!t||o&&!t.element)throw new Error("Element is required in step ".concat(n));o&&(i=t.element,r=_({},this.options,t));var a=v(i)?i:this.document.querySelector(i);if(!a)return null;var u=null;if(r.popover&&r.popover.title){var l=[this.options.className,r.popover.className].filter((function(t){return t})).join(" "),c=_({},r,r.popover,{className:l,totalCount:e.length,currentIndex:n,isFirst:0===n,isLast:0===e.length||n===e.length-1});u=new I(c,this.window,this.document)}var s=_({},r),f=new F(s,this.window,this.document);return new x({node:a,options:r,popover:u,stage:f,overlay:this.overlay,window:this.window,document:this.document})}},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.steps||0===this.steps.length)throw new Error("There are no steps defined to iterate");this.isActivated=!0,this.currentStep=t,this.overlay.highlight(this.steps[t])}},{key:"highlight",value:function(t){this.isActivated=!0;var e=this.prepareElementFromStep(t);e&&this.overlay.highlight(e)}}])&&N(e.prototype,n),c&&N(e,c),t}()}]).default},90352:function(t,e){"use strict";for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)o["f"+a]=111+a;function u(t,e,n){e&&!("byKey"in e)&&(n=e,e=null),Array.isArray(t)||(t=[t]);var r=t.map((function(t){return l(t,e)})),i=function(t){return r.some((function(e){return c(e,t)}))};return null==n?i:i(n)}function l(t,e){var n=e&&e.byKey,i={},o=(t=t.replace("++","+add")).split("+"),a=o.length;for(var u in r)i[r[u]]=!1;var l=!0,c=!1,d=void 0;try{for(var h,p=o[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value,g=v.endsWith("?")&&v.length>1;g&&(v=v.slice(0,-1));var m=f(v),y=r[m];1!==a&&y||(n?i.key=m:i.which=s(v)),y&&(i[y]=!g||null)}}catch(t){c=!0,d=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw d}}return i}function c(t,e){for(var n in t){var r=t[n],i=void 0;if(null!=r&&((null!=(i="key"===n&&null!=e.key?e.key.toLowerCase():"which"===n?91===r&&93===e.which?91:e.which:e[n])||!1!==r)&&i!==r))return!1}return!0}function s(t){return t=f(t),o[t]||t.toUpperCase().charCodeAt(0)}function f(t){return t=t.toLowerCase(),t=i[t]||t}e.g5=u},30856:function(t,e,n){"use strict";var r=n(16196);function i(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==i(t)&&("function"==typeof(e=t.constructor)&&(!1!==i(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},16196:function(t){"use strict";t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},7072:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Animation=void 0;var r=n(4880),i=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()},o=function(){function t(e,n){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=e,this.setLayers(n)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,n=this.layers,r=n.length;for(e=0;e<r;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,n=t.animations,r=n.length;for(e=0;e<r;e++)if(n[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,n=t.id,r=this.animations,i=r.length;for(e=0;e<i;e++)if(r[e].id===n){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,n,r,o,a,u,l,c={},s=this.animations;for(r=0;r<s.length;r++)if(e=(t=s[r]).layers,n=t.func,t._updateFrameObject(i()),a=e.length,!n||!1!==n.call(t,t.frame))for(o=0;o<a;o++)void 0!==(u=e[o])._id&&(c[u._id]=u);for(l in c)c.hasOwnProperty(l)&&c[l].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();e.Animation=o},49688:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HitCanvas=e.SceneCanvas=e.Canvas=void 0;var o,a=n(90240),u=n(3208),l=n(4880),c=n(28176),s=n(36e3);var f=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||l.Konva.pixelRatio||function(){if(o)return o;var t=a.Util.createCanvasElement().getContext("2d");return o=(l.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t||0),this.setHeight(e||0)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return a.Util.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}},t}();e.Canvas=f,c.Factory.addGetterSetter(f,"pixelRatio",void 0,s.getNumberValidator());var d=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.context=new u.SceneContext(n),n.setSize(e.width,e.height),n}return i(e,t),e}(f);e.SceneCanvas=d;var h=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.hitCanvas=!0,n.context=new u.HitContext(n),n.setSize(e.width,e.height),n}return i(e,t),e}(f);e.HitCanvas=h},21363:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var o=n(90240),a=n(28176),u=n(47876),l=n(36e3),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new o.Collection,e}return i(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new o.Collection;return this.children.each((function(n){t(n)&&e.push(n)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new o.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new o.Collection,this},e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}var r=t[0];if(r.getParent())return r.moveTo(this),this;var i=this.children;return this._validateAdd(r),r._clearCaches(),r.index=i.length,r.parent=this,i.push(r),this._fire("add",{child:r}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return o.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var n=[];return this._descendants((function(r){var i=r._isMatch(t);return i&&n.push(r),!(!i||!e)})),o.Collection.toCollection(n)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];if(t(n))return!0;if(n.hasChildren()&&n._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=u.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,r=0;r<n;r++){var i=e[r];t.children.push(i.toObject())}return t},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=u.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas(),i=r&&r.getContext(),o=this._getCanvasCache(),a=o&&o.scene,u=r&&r.isCache;if(!this.isVisible()&&!u)return this;if(a){i.save();var l=this.getAbsoluteTransform(e).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",r,e);return this},e.prototype.drawHit=function(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),r=t||n&&n.hitCanvas,i=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();var a=this.getAbsoluteTransform(e).getMatrix();i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,e);return this},e.prototype._drawChildren=function(t,e,n){var r=e&&e.getContext(),i=this.clipWidth(),o=this.clipHeight(),a=this.clipFunc(),u=i&&o||a,l=n===this;if(u){r.save();var c=this.getAbsoluteTransform(n),s=c.getMatrix();if(r.transform(s[0],s[1],s[2],s[3],s[4],s[5]),r.beginPath(),a)a.call(this,r,this);else{var f=this.clipX(),d=this.clipY();r.rect(f,d,i,o)}r.clip(),s=c.copy().invert().getMatrix(),r.transform(s[0],s[1],s[2],s[3],s[4],s[5])}var h=!l&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;h&&(r.save(),r._applyGlobalCompositeOperation(this)),this.children.each((function(r){r[t](e,n)})),h&&r.restore(),u&&r.restore()},e.prototype.getClientRect=function(t){var e,n,r,i,o=(t=t||{}).skipTransform,a=t.relativeTo,u={x:1/0,y:1/0,width:0,height:0},l=this;this.children.each((function(o){if(o.visible()){var a=o.getClientRect({relativeTo:l,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===a.width&&0===a.height||(void 0===e?(e=a.x,n=a.y,r=a.x+a.width,i=a.y+a.height):(e=Math.min(e,a.x),n=Math.min(n,a.y),r=Math.max(r,a.x+a.width),i=Math.max(i,a.y+a.height)))}}));for(var c=this.find("Shape"),s=!1,f=0;f<c.length;f++){if(c[f]._isVisible(this)){s=!0;break}}return u=s&&void 0!==e?{x:e,y:n,width:r-e,height:i-n}:{x:0,y:0,width:0,height:0},o?u:this._transformedRect(u,a)},e}(u.Node);e.Container=c,a.Factory.addComponentsGetterSetter(c,"clip",["x","y","width","height"]),a.Factory.addGetterSetter(c,"clipX",void 0,l.getNumberValidator()),a.Factory.addGetterSetter(c,"clipY",void 0,l.getNumberValidator()),a.Factory.addGetterSetter(c,"clipWidth",void 0,l.getNumberValidator()),a.Factory.addGetterSetter(c,"clipHeight",void 0,l.getNumberValidator()),a.Factory.addGetterSetter(c,"clipFunc"),o.Collection.mapMethods(c)},3208:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HitContext=e.SceneContext=e.Context=void 0;var o=n(90240),a=n(4880),u=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],l=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),a.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.fillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.hasStroke()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))},t.prototype.getTrace=function(t){var e,n,r,i,a=this.traceArr,u=a.length,l="";for(e=0;e<u;e++)(r=(n=a[e]).method)?(i=n.args,l+=r,t?l+="()":o.Util._isArray(i[0])?l+="(["+i.join(",")+"])":l+="("+i.join(",")+")"):(l+=n.property,t||(l+="="+n.val)),l+=";";return l},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,n,r,i,o){this._context.arc(t,e,n,r,i,o)},t.prototype.arcTo=function(t,e,n,r,i){this._context.arcTo(t,e,n,r,i)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){this._context.bezierCurveTo(t,e,n,r,i,o)},t.prototype.clearRect=function(t,e,n,r){this._context.clearRect(t,e,n,r)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,n,r){return this._context.createLinearGradient(t,e,n,r)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,n,r,i,o){return this._context.createRadialGradient(t,e,n,r,i,o)},t.prototype.drawImage=function(t,e,n,r,i,o,a,u,l){var c=arguments,s=this._context;3===c.length?s.drawImage(t,e,n):5===c.length?s.drawImage(t,e,n,r,i):9===c.length&&s.drawImage(t,e,n,r,i,o,a,u,l)},t.prototype.ellipse=function(t,e,n,r,i,o,a,u){this._context.ellipse(t,e,n,r,i,o,a,u)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,n,r){this._context.fillRect(t,e,n,r)},t.prototype.strokeRect=function(t,e,n,r){this._context.strokeRect(t,e,n,r)},t.prototype.fillText=function(t,e,n){this._context.fillText(t,e,n)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,n,r){return this._context.getImageData(t,e,n,r)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,n,r){this._context.rect(t,e,n,r)},t.prototype.putImageData=function(t,e,n){this._context.putImageData(t,e,n)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._context.quadraticCurveTo(t,e,n,r)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,n,r,i,o){this._context.setTransform(t,e,n,r,i,o)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,n,r){this._context.strokeText(t,e,n,r)},t.prototype.transform=function(t,e,n,r,i,o){this._context.transform(t,e,n,r,i,o)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,n=this,r=u.length,i=o.Util._simplifyArray,a=this.setAttr,l=function(t){var r,o=n[t];n[t]=function(){return e=i(Array.prototype.slice.call(arguments,0)),r=o.apply(n,arguments),n._trace({method:t,args:e}),r}};for(t=0;t<r;t++)l(u[t]);n.setAttr=function(){a.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=l,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(l.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),r=a.Konva.getAngle(t.getFillPatternRotation()),i=t.getFillPatternOffsetX(),o=t.getFillPatternOffsetY();t.getFillPatternScaleX(),t.getFillPatternScaleY();(e||n)&&this.translate(e||0,n||0),r&&this.rotate(r),(i||o)&&this.translate(-1*i,-1*o),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)this._fillColor(t);else{var r=t.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(t);else{var i=t.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)this._fillLinearGradient(t);else{var o=t.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):r?this._fillPattern(t):i?this._fillLinearGradient(t):o&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",i)}},e.prototype._stroke=function(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}},e.prototype._applyShadow=function(t){var e=o.Util,n=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),i=e.get(t.getShadowOffset(),{x:0,y:0}),a=t.getAbsoluteScale(),u=this.canvas.getPixelRatio(),l=a.x*u,c=a.y*u;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*Math.min(Math.abs(l),Math.abs(c))),this.setAttr("shadowOffsetX",i.x*l),this.setAttr("shadowOffsetY",i.y*c)},e}(l);e.SceneContext=c;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype.strokeShape=function(t){t.hasHitStroke()&&this._stroke(t)},e.prototype._stroke=function(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),i="auto"===r?t.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(l);e.HitContext=s},81868:function(t,e,n){var r=n(31372).Konva;r._injectGlobal(r),e.default=r,r.default=r,t.exports=e.default},71624:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;var r=n(4880),i=n(90240);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((function(e){"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){var n=[];e.DD._dragElements.forEach((function(e,r){var o=e.node,a=o.getStage();a.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=i.Util._getFirstPointerId(t));var u=a._changedPointerPositions.find((function(t){return t.id===e.pointerId}));if(u){if("dragging"!==e.dragStatus){var l=o.dragDistance();if(Math.max(Math.abs(u.x-e.startPointerPos.x),Math.abs(u.y-e.startPointerPos.y))<l)return;if(o.startDrag({evt:t}),!o.isDragging())return}o._setDragPosition(t,e),n.push(o)}})),n.forEach((function(e){e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore:function(t){e.DD._dragElements.forEach((function(n,i){var o=n.node.getStage();if(t&&o.setPointersPositions(t),o._changedPointerPositions.find((function(t){return t.id===n.pointerId}))){"dragging"!==n.dragStatus&&"stopped"!==n.dragStatus||(e.DD.justDragged=!0,r.Konva.listenClickTap=!1,n.dragStatus="stopped");var a=n.node.getLayer()||n.node instanceof r.Konva.Stage&&n.node;a&&a.batchDraw()}}))},_endDragAfter:function(t){e.DD._dragElements.forEach((function(n,r){"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:t},!0),"dragging"!==n.dragStatus&&e.DD._dragElements.delete(r)}))}},r.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},28176:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;var r=n(90240),i=n(36e3),o="get",a="set";e.Factory={addGetterSetter:function(t,n,r,i,o){e.Factory.addGetter(t,n,r),e.Factory.addSetter(t,n,i,o),e.Factory.addOverloadedGetterSetter(t,n)},addGetter:function(t,e,n){var i=o+r.Util._capitalize(e);t.prototype[i]=t.prototype[i]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter:function(t,n,i,o){var u=a+r.Util._capitalize(n);t.prototype[u]||e.Factory.overWriteSetter(t,n,i,o)},overWriteSetter:function(t,e,n,i){var o=a+r.Util._capitalize(e);t.prototype[o]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter:function(t,n,u,l,c){var s,f,d=u.length,h=r.Util._capitalize,p=o+h(n),v=a+h(n);t.prototype[p]=function(){var t={};for(s=0;s<d;s++)t[f=u[s]]=this.getAttr(n+h(f));return t};var g=i.getComponentValidator(u);t.prototype[v]=function(t){var e,r=this.attrs[n];for(e in l&&(t=l.call(this,t)),g&&g.call(this,t,n),t)t.hasOwnProperty(e)&&this._setAttr(n+h(e),t[e]);return this._fireChangeEvent(n,r,t),c&&c.call(this),this},e.Factory.addOverloadedGetterSetter(t,n)},addOverloadedGetterSetter:function(t,e){var n=r.Util._capitalize(e),i=a+n,u=o+n;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter:function(t,n,i,a){r.Util.error("Adding deprecated "+n);var u=o+r.Util._capitalize(n),l=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[u]=function(){r.Util.error(l);var t=this.attrs[n];return void 0===t?i:t},e.Factory.addSetter(t,n,a,(function(){r.Util.error(l)})),e.Factory.addOverloadedGetterSetter(t,n)},backCompat:function(t,e){r.Util.each(e,(function(e,n){var i=t.prototype[n],u=o+r.Util._capitalize(e),l=a+r.Util._capitalize(e);function c(){i.apply(this,arguments),r.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=c,t.prototype[u]=c,t.prototype[l]=c}))},afterSetFilter:function(){this._filterUpToDate=!1}}},80496:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FastLayer=void 0;var o=n(90240),a=n(40200),u=n(4880),l=function(t){function e(e){var n=t.call(this,e)||this;return n.listening(!1),o.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.'),n}return i(e,t),e}(a.Layer);e.FastLayer=l,l.prototype.nodeType="FastLayer",u._registerNode(l),o.Collection.mapMethods(l)},4880:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e._NODES_REGISTRY=e.Konva=e.glob=e._parseUA=void 0;var r=Math.PI/180;var i=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)};e._parseUA=function(t){var e=t.toLowerCase(),n=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),o=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:i(e),mobile:r,ieMobile:o}},e.glob=void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"7.2.5",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*r:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={};e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}},82048:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;var o=n(90240),a=n(21363),u=n(4880),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to groups.")},e}(a.Container);e.Group=l,l.prototype.nodeType="Group",u._registerNode(l),o.Collection.mapMethods(l)},40200:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=void 0;var o=n(90240),a=n(21363),u=n(47876),l=n(28176),c=n(49688),s=n(36e3),f=n(27668),d=n(4880),h=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=h.length,v=function(t){function e(e){var n=t.call(this,e)||this;return n.canvas=new c.SceneCanvas,n.hitCanvas=new c.HitCanvas({pixelRatio:1}),n._waitingForDraw=!1,n.on("visibleChange.konva",n._checkVisibility),n._checkVisibility(),n.on("imageSmoothingEnabledChange.konva",n._setSmoothEnabled),n._setSmoothEnabled(),n}return i(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var n=this.getStage();return n&&(n.content.removeChild(this.getCanvas()._canvas),e<n.children.length-1?n.content.insertBefore(this.getCanvas()._canvas,n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){u.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!u.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.children.length-1?t.content.insertBefore(this.getCanvas()._canvas,t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(u.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(u.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return u.Node.prototype.remove.call(this),t&&t.parentNode&&o.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,n=t.height;return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to a layer.")},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),u.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._setSmoothEnabled=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){o.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){o.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,o.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype.getIntersection=function(t,e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(var i=0;i<p;i++){var o=h[i],a=this._getIntersection({x:t.x+o.x*n,y:t.y+o.y*n}),u=a.shape;if(u&&e)return u.findAncestor(e,!0);if(u)return u;if(r=!!a.antialiased,!a.antialiased)break}if(!r)return null;n+=1}},e.prototype._getIntersection=function(t){var e=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,r=n[3];if(255===r){var i=o.Util._rgbToHex(n[0],n[1],n[2]),a=f.shapes["#"+i];return a?{shape:a}:{antialiased:!0}}return r>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),a.Container.prototype.drawScene.call(this,r,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var n=this.getLayer(),r=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),a.Container.prototype.drawHit.call(this,r,e),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.setHitGraphEnabled=function(t){o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)},e.prototype.getHitGraphEnabled=function(t){return o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e}(a.Container);e.Layer=v,v.prototype.nodeType="Layer",d._registerNode(v),l.Factory.addGetterSetter(v,"imageSmoothingEnabled",!0),l.Factory.addGetterSetter(v,"clearBeforeDraw",!0),l.Factory.addGetterSetter(v,"hitGraphEnabled",!0,s.getBooleanValidator()),o.Collection.mapMethods(v)},47876:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Node=e._removeName=e._addName=e._removeId=e.names=e.ids=void 0;var r=n(90240),i=n(28176),o=n(49688),a=n(4880),u=n(71624),l=n(36e3);e.ids={},e.names={};e._removeId=function(t,n){t&&e.ids[t]===n&&delete e.ids[t]};e._addName=function(t,n){n&&(e.names[n]||(e.names[n]=[]),e.names[n].push(t))};e._removeName=function(t,n){if(t){var r=e.names[t];if(r){for(var i=0;i<r.length;i++){r[i]._id===n&&r.splice(i,1)}0===r.length&&delete e.names[t]}}};var c="absoluteOpacity",s="allEventListeners",f="absoluteTransform",d="absoluteScale",h="canvas",p="listening",v="mouseenter",g="mouseleave",m="Shape",y=" ",C="stage",b="transform",x="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(y),E=(["scaleXChange.konva","scaleYChange.konva"].join(y),new r.Collection),S=1,k=function(){function t(t){this._id=S++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=E,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return E},t.prototype._clearCache=function(t){t!==b&&t!==f||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0},t.prototype._getCache=function(t,e){var n=this._cache.get(t);return(void 0===n||(t===b||t===f)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n},t.prototype._calculate=function(t,e,n){var r=this;if(!this._attachedDepsListeners.get(t)){var i=e.map((function(t){return t+"Change.konva"})).join(y);this.on(i,(function(){r._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)},t.prototype._getCanvasCache=function(){return this._cache.get(h)},t.prototype._clearSelfAndDescendantCache=function(t,e){this._clearCache(t),e&&t===f&&this.fire("_clearTransformCache"),this.isCached()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t,!0)}))},t.prototype.clearCache=function(){return this._cache.delete(h),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(e.width||n.width),a=Math.ceil(e.height||n.height),u=e.pixelRatio,l=void 0===e.x?n.x:e.x,s=void 0===e.y?n.y:e.y,f=e.offset||0,p=e.drawBorder||!1;if(i&&a){i+=2*f,a+=2*f,l-=f,s-=f;var v=new o.SceneCanvas({pixelRatio:u,width:i,height:a}),g=new o.SceneCanvas({pixelRatio:u,width:0,height:0}),m=new o.HitCanvas({pixelRatio:1,width:i,height:a}),y=v.getContext(),C=m.getContext();return m.isCache=!0,v.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(v.getContext()._context.imageSmoothingEnabled=!1,g.getContext()._context.imageSmoothingEnabled=!1),y.save(),C.save(),y.translate(-l,-s),C.translate(-l,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(d),this.drawScene(v,this),this.drawHit(m,this),this._isUnderCache=!1,y.restore(),C.restore(),p&&(y.save(),y.beginPath(),y.rect(0,0,i,a),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),this._cache.set(h,{scene:v,filter:g,hit:m,x:l,y:s}),this}r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var n,r,i,o,a=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],u=this.getAbsoluteTransform(e);return a.forEach((function(t){var e=u.point(t);void 0===n&&(n=i=e.x,r=o=e.y),n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y)})),{x:n,y:r,width:i-n,height:o-r}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/r,n.height/r),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,n,i,o=this.filters(),a=this._getCanvasCache(),u=a.scene,l=a.filter,c=l.getContext();if(o){if(!this._filterUpToDate){var s=u.pixelRatio;l.setSize(u.width/u.pixelRatio,u.height/u.pixelRatio);try{for(t=o.length,c.clear(),c.drawImage(u._canvas,0,0,u.getWidth()/s,u.getHeight()/s),e=c.getImageData(0,0,l.getWidth(),l.getHeight()),n=0;n<t;n++)"function"==typeof(i=o[n])?(i.call(this,e),c.putImageData(e,0,0)):r.Util.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(t){r.Util.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return u},t.prototype.on=function(t,e){if(this._cache&&this._cache.delete(s),3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,o,a=t.split(y),u=a.length;for(n=0;n<u;n++)i=(r=a[n].split("."))[0],o=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:e});return this},t.prototype.off=function(t,e){var n,r,i,o,a,u=(t||"").split(y),l=u.length;if(this._cache&&this._cache.delete(s),!t)for(r in this.eventListeners)this._off(r);for(n=0;n<l;n++)if(o=(i=u[n].split("."))[0],a=i[1],o)this.eventListeners[o]&&this._off(o,a,e);else for(r in this.eventListeners)this._off(r,a,e);return this},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,n){var i=this;this.on(t,(function(t){for(var o=t.target.findAncestors(e,!0,i),a=0;a<o.length;a++)(t=r.Util.cloneObject(t)).currentTarget=o[a],n.call(o[a],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),u.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._clearCaches=function(){this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(C),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(p)},t.prototype._remove=function(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),n=0;n<t.length;n++){var r=t[n];e._removeName(r,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+r.Util._capitalize(t);return r.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new r.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e=this;return this._batchTransformChanges((function(){var n,i;if(!t)return e;for(n in t)"children"!==n&&(i="set"+r.Util._capitalize(n),r.Util._isFunction(e[i])?e[i](t[n]):e._setAttr(n,t[n]))})),this},t.prototype.isListening=function(){return this._getCache(p,this._isListening)},t.prototype._isListening=function(t){if(!this.listening())return!1;var e=this.getParent();return!e||e===t||this===t||e._isListening(t)},t.prototype.isVisible=function(){return this._getCache(x,this._isVisible)},t.prototype._isVisible=function(t){if(!this.visible())return!1;var e=this.getParent();return!e||e===t||this===t||e._isVisible(t)},t.prototype.shouldDrawHit=function(t,e){if(void 0===e&&(e=!1),t)return this._isVisible(t)&&this._isListening(t);var n=this.getLayer(),r=!1;u.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===n)&&(r=!0)}));var i=!e&&!a.Konva.hitOnDragEnabled&&r;return this.isListening()&&this.isVisible()&&!i},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,n,r,i=this.getDepth(),o=this,a=0;return"Stage"!==o.nodeType&&function u(l){for(t=[],e=l.length,n=0;n<e;n++)r=l[n],a++,r.nodeType!==m&&(t=t.concat(r.getChildren().toArray())),r._id===o._id&&(n=e);t.length>0&&t[0].getDepth()<=i&&u(t)}(o.getStage().getChildren()),a},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype._batchTransformChanges=function(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(b),this._clearSelfAndDescendantCache(f,!0)),this._needClearTransformCache=!1},t.prototype.setPosition=function(t){var e=this;return this._batchTransformChanges((function(){e.x(t.x),e.y(t.y)})),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){for(var e=!1,n=this.parent;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),o=new r.Transform,a=this.offset();return o.m=i.slice(),o.translate(a.x,a.y),o.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(b);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(t.x,t.y),t={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(b),this._clearSelfAndDescendantCache(f),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e]},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t},t.prototype.move=function(t){var e=t.x,n=t.y,r=this.x(),i=this.y();return void 0!==e&&(r+=e),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this},t.prototype._eachAncestorReverse=function(t,e){var n,r,i=[],o=this.getParent();if(!e||e._id!==this._id){for(i.unshift(this);o&&(!e||o._id!==e._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)t(i[r])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&r.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache(c,this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,n,i,o={},a=this.getAttrs();for(t in o.attrs={},a)e=a[t],r.Util.isObject(e)&&!r.Util._isPlainObject(e)&&!r.Util._isArray(e)||(n="function"==typeof this[t]&&this[t],delete a[t],i=n?n.call(this):null,a[t]=e,i!==e&&(o.attrs[t]=e));return o.className=this.getClassName(),r.Util._prepareToStringify(o)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,n){var r=[];e&&this._isMatch(t)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(t)&&r.push(i),i=i.parent}return r},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,n){return this.findAncestors(t,e,n)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,n,i=t.replace(/ /g,"").split(","),o=i.length;for(e=0;e<o;e++)if(n=i[e],r.Util.isValidSelector(n)||(r.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache(C,this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,n){return void 0===e&&(e={}),e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(f,this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e;if(t)return e=new r.Transform,this._eachAncestorReverse((function(t){var n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(f)||new r.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var n=this.transformsEnabled();if("all"===n)e.multiply(this.getTransform());else if("position"===n){var i=this.attrs.x||0,o=this.attrs.y||0,a=this.attrs.offsetX||0,u=this.attrs.offsetY||0;e.translate(i-a,o-u)}return e.dirty=!1,e},t.prototype.getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}},t.prototype.getAbsoluteRotation=function(){return this.getAbsoluteTransform().decompose().rotation},t.prototype.getTransform=function(){return this._getCache(b,this._getTransform)},t.prototype._getTransform=function(){var t,e,n=this._cache.get(b)||new r.Transform;n.reset();var i=this.x(),o=this.y(),u=a.Konva.getAngle(this.rotation()),l=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,c=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,s=this.attrs.skewX||0,f=this.attrs.skewY||0,d=this.attrs.offsetX||0,h=this.attrs.offsetY||0;return 0===i&&0===o||n.translate(i,o),0!==u&&n.rotate(u),0===s&&0===f||n.skew(s,f),1===l&&1===c||n.scale(l,c),0===d&&0===h||n.translate(-1*d,-1*h),n.dirty=!1,n},t.prototype.clone=function(t){var e,n,i,o,a,u=r.Util.cloneObject(this.attrs);for(e in t)u[e]=t[e];var l=new this.constructor(u);for(e in this.eventListeners)for(i=(n=this.eventListeners[e]).length,o=0;o<i;o++)(a=n[o]).name.indexOf("konva")<0&&(l.eventListeners[e]||(l.eventListeners[e]=[]),l.eventListeners[e].push(a));return l},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),r=void 0!==t.x?t.x:e.x,i=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,u=new o.SceneCanvas({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:a}),l=u.getContext();return l.save(),(r||i)&&l.translate(-1*r,-1*i),this.drawScene(u),l.restore(),u},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(r),r},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,r.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.Konva.dragDistance},t.prototype._off=function(t,e,n){var r,i,o,a=this.eventListeners[t];for(r=0;r<a.length;r++)if(i=a[r].name,o=a[r].handler,!("konva"===i&&"konva"!==e||e&&i!==e||n&&n!==o)){if(a.splice(r,1),0===a.length){delete this.eventListeners[t];break}r--}},t.prototype._fireChangeEvent=function(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})},t.prototype.setId=function(t){var n=this.id();return e._removeId(n,this),function(t,n){n&&(e.ids[n]=t)}(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var n,r,i=(this.name()||"").split(/\s/g),o=(t||"").split(/\s/g);for(r=0;r<i.length;r++)n=i[r],-1===o.indexOf(n)&&n&&e._removeName(n,this._id);for(r=0;r<o.length;r++)n=o[r],-1===i.indexOf(n)&&n&&e._addName(this,n);return this._setAttr("name",t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var n=this["set"+r.Util._capitalize(t)];return r.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e,n){void 0===n&&(n=!1);var i=this.attrs[t];(i!==e||r.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,e))},t.prototype._setComponentAttr=function(t,e,n){var r;void 0!==n&&((r=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,r,n))},t.prototype._fireAndBubble=function(t,e,n){if(e&&this.nodeType===m&&(e.target=this),!((t===v||t===g)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(t,e);var r=(t===v||t===g)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._getProtoListeners=function(t){var e=this._cache.get(s);if(!e){e={};for(var n=Object.getPrototypeOf(this);n;)if(n.eventListeners){for(var r in n.eventListeners){var i=n.eventListeners[r],o=e[r]||[];e[r]=i.concat(o)}n=Object.getPrototypeOf(n)}else n=Object.getPrototypeOf(n);this._cache.set(s,e)}return e[t]},t.prototype._fire=function(t,e){(e=e||{}).currentTarget=this,e.type=t;var n=this._getProtoListeners(t);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,e);var i=this.eventListeners[t];if(i)for(r=0;r<i.length;r++)i[r].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(e)||n._changedPointerPositions[0]||r;u.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:e})},t.prototype.startDrag=function(t,e){void 0===e&&(e=!0),u.DD._dragElements.has(this._id)||this._createDragElement(t),u.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)},t.prototype._setDragPosition=function(t,e){var n=this.getStage()._getPointerById(e.pointerId);if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y},o=this.dragBoundFunc();if(void 0!==o){var a=o.call(this,i,t);a?i=a:r.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=i}},t.prototype.stopDrag=function(t){var e=u.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),u.DD._endDragBefore(t),u.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=u.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((!(void 0!==t.evt.button)||a.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var n=!1;u.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(n=!0)})),n||this._createDragElement(t)}}))},t.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;var t=u.DD._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,n=t&&"ready"===t.dragStatus;e?this.stopDrag():n&&u.DD._dragElements.delete(this._id)}},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return r.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,n){var i,o,u,l=t.prototype.getClassName.call(e),c=e.children;if(n&&(e.attrs.container=n),a._NODES_REGISTRY[l]||(r.Util.warn('Can not find a node with class name "'+l+'". Fallback to "Shape".'),l="Shape"),i=new(0,a._NODES_REGISTRY[l])(e.attrs),c)for(o=c.length,u=0;u<o;u++)i.add(t._createNode(c[u]));return i},t}();e.Node=k,k.prototype.nodeType="Node",k.prototype._attrsAffectingSize=[],k.prototype.eventListeners={},k.prototype.on.call(k.prototype,w,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(b),this._clearSelfAndDescendantCache(f))})),k.prototype.on.call(k.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(x)})),k.prototype.on.call(k.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(p)})),k.prototype.on.call(k.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(c)}));var A=i.Factory.addGetterSetter;A(k,"zIndex"),A(k,"absolutePosition"),A(k,"position"),A(k,"x",0,l.getNumberValidator()),A(k,"y",0,l.getNumberValidator()),A(k,"globalCompositeOperation","source-over",l.getStringValidator()),A(k,"opacity",1,l.getNumberValidator()),A(k,"name","",l.getStringValidator()),A(k,"id","",l.getStringValidator()),A(k,"rotation",0,l.getNumberValidator()),i.Factory.addComponentsGetterSetter(k,"scale",["x","y"]),A(k,"scaleX",1,l.getNumberValidator()),A(k,"scaleY",1,l.getNumberValidator()),i.Factory.addComponentsGetterSetter(k,"skew",["x","y"]),A(k,"skewX",0,l.getNumberValidator()),A(k,"skewY",0,l.getNumberValidator()),i.Factory.addComponentsGetterSetter(k,"offset",["x","y"]),A(k,"offsetX",0,l.getNumberValidator()),A(k,"offsetY",0,l.getNumberValidator()),A(k,"dragDistance",null,l.getNumberValidator()),A(k,"width",0,l.getNumberValidator()),A(k,"height",0,l.getNumberValidator()),A(k,"listening",!0,l.getBooleanValidator()),A(k,"preventDefault",!0,l.getBooleanValidator()),A(k,"filters",null,(function(t){return this._filterUpToDate=!1,t})),A(k,"visible",!0,l.getBooleanValidator()),A(k,"transformsEnabled","all",l.getStringValidator()),A(k,"size"),A(k,"dragBoundFunc"),A(k,"draggable",!1,l.getBooleanValidator()),i.Factory.backCompat(k,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),r.Collection.mapMethods(k)},97132:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.releaseCapture=e.setPointerCapture=e.hasPointerCapture=e.createEvent=e.getCapturedShape=void 0;var r=n(4880),i=new Map,o=void 0!==r.Konva._global.PointerEvent;function a(t){return{evt:t,pointerId:t.pointerId}}function u(t,e){var n=i.get(t);if(n){var r=n.getStage();r&&r.content,i.delete(t),o&&n._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}}e.getCapturedShape=function(t){return i.get(t)},e.createEvent=a,e.hasPointerCapture=function(t,e){return i.get(t)===e},e.setPointerCapture=function(t,e){u(t),e.getStage()&&(i.set(t,e),o&&e._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))},e.releaseCapture=u},27668:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;var o,a=n(90240),u=n(28176),l=n(47876),c=n(36e3),s=n(4880),f=n(97132),d="hasShadow",h="shadowRGBA",p="patternImage",v="linearGradient",g="radialGradient";function m(){return o||(o=a.Util.createCanvasElement().getContext("2d"))}e.shapes={};var y=function(t){function n(n){for(var r,i=t.call(this,n)||this;!(r=a.Util.getRandomColor())||r in e.shapes;);return i.colorKey=r,e.shapes[r]=i,i}return i(n,t),n.prototype.getContext=function(){return this.getLayer().getContext()},n.prototype.getCanvas=function(){return this.getLayer().getCanvas()},n.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},n.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},n.prototype.hasShadow=function(){return this._getCache(d,this._hasShadow)},n.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},n.prototype._getFillPattern=function(){return this._getCache(p,this.__getFillPattern)},n.prototype.__getFillPattern=function(){if(this.fillPatternImage()){var t=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");return t&&t.setTransform&&t.setTransform({a:this.fillPatternScaleX(),b:0,c:0,d:this.fillPatternScaleY(),e:0,f:0}),t}},n.prototype._getLinearGradient=function(){return this._getCache(v,this.__getLinearGradient)},n.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=m(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=e.createLinearGradient(n.x,n.y,r.x,r.y),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},n.prototype._getRadialGradient=function(){return this._getCache(g,this.__getRadialGradient)},n.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=m(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},n.prototype.getShadowRGBA=function(){return this._getCache(h,this._getShadowRGBA)},n.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=a.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},n.prototype.hasFill=function(){var t=this;return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(function(){return t.fillEnabled()&&!!(t.fill()||t.fillPatternImage()||t.fillLinearGradientColorStops()||t.fillRadialGradientColorStops())}))},n.prototype.hasStroke=function(){var t=this;return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(function(){return t.strokeEnabled()&&t.strokeWidth()&&!(!t.stroke()&&!t.strokeLinearGradientColorStops())}))},n.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t},n.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},n.prototype.destroy=function(){return l.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},n.prototype._useBufferCanvas=function(t){var e;if(!this.getStage())return!1;if(!(null===(e=this.attrs.perfectDrawEnabled)||void 0===e||e))return!1;var n=t||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;var o=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(n&&r&&o&&a)},n.prototype.setStrokeHitEnabled=function(t){a.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},n.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},n.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}},n.prototype.getClientRect=function(t){void 0===t&&(t={});var e=t.skipTransform,n=t.relativeTo,r=this.getSelfRect(),i=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=r.width+i,a=r.height+i,u=!t.skipShadow&&this.hasShadow(),l=u?this.shadowOffsetX():0,c=u?this.shadowOffsetY():0,s=o+Math.abs(l),f=a+Math.abs(c),d=u&&this.shadowBlur()||0,h=s+2*d,p=f+2*d,v=0;Math.round(i/2)!==i/2&&(v=1);var g={width:h+v,height:p+v,x:-Math.round(i/2+d)+Math.min(l,0)+r.x,y:-Math.round(i/2+d)+Math.min(c,0)+r.y};return e?g:this._transformedRect(g,n)},n.prototype.drawScene=function(t,e){var n,r,i=this.getLayer(),o=t||i.getCanvas(),a=o.getContext(),u=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),s=o.isCache,f=o.isCache,d=e===this;if(!this.isVisible()&&!s)return this;if(u){a.save();var h=this.getAbsoluteTransform(e).getMatrix();return a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!l)return this;if(a.save(),this._useBufferCanvas()&&!f){(r=(n=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this);var p=this.getAbsoluteTransform(e).getMatrix();r.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,r,this),r.restore();var v=n.pixelRatio;c&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(n._canvas,0,0,n.width/v,n.height/v)}else{if(a._applyLineJoin(this),!d){p=this.getAbsoluteTransform(e).getMatrix();a.transform(p[0],p[1],p[2],p[3],p[4],p[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}c&&a._applyShadow(this),l.call(this,a,this)}return a.restore(),this},n.prototype.drawHit=function(t,e,n){if(void 0===n&&(n=!1),!this.shouldDrawHit(e,n))return this;var r=this.getLayer(),i=t||r.hitCanvas,o=i&&i.getContext(),u=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()"),c){o.save();var s=this.getAbsoluteTransform(e).getMatrix();return o.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!u)return this;if(o.save(),o._applyLineJoin(this),!(this===e)){var f=this.getAbsoluteTransform(e).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5])}return u.call(this,o,this),o.restore(),this},n.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,n,r,i,o,u=this._getCanvasCache(),l=this._getCachedSceneCanvas(),c=u.hit,s=c.getContext(),f=c.getWidth(),d=c.getHeight();s.clear(),s.drawImage(l._canvas,0,0,f,d);try{for(r=(n=(e=s.getImageData(0,0,f,d)).data).length,i=a.Util._hexToRgb(this.colorKey),o=0;o<r;o+=4)n[o+3]>t?(n[o]=i.r,n[o+1]=i.g,n[o+2]=i.b,n[o+3]=255):n[o+3]=0;s.putImageData(e,0,0)}catch(t){a.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this},n.prototype.hasPointerCapture=function(t){return f.hasPointerCapture(t,this)},n.prototype.setPointerCapture=function(t){f.setPointerCapture(t,this)},n.prototype.releaseCapture=function(t){f.releaseCapture(t,this)},n}(l.Node);e.Shape=y,y.prototype._fillFunc=function(t){t.fill()},y.prototype._strokeFunc=function(t){t.stroke()},y.prototype._fillFuncHit=function(t){t.fill()},y.prototype._strokeFuncHit=function(t){t.stroke()},y.prototype._centroid=!1,y.prototype.nodeType="Shape",s._registerNode(y),y.prototype.eventListeners={},y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(d)})),y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(h)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",(function(){this._clearCache(p)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(v)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(g)})),u.Factory.addGetterSetter(y,"stroke",void 0,c.getStringOrGradientValidator()),u.Factory.addGetterSetter(y,"strokeWidth",2,c.getNumberValidator()),u.Factory.addGetterSetter(y,"fillAfterStrokeEnabled",!1),u.Factory.addGetterSetter(y,"hitStrokeWidth","auto",c.getNumberOrAutoValidator()),u.Factory.addGetterSetter(y,"strokeHitEnabled",!0,c.getBooleanValidator()),u.Factory.addGetterSetter(y,"perfectDrawEnabled",!0,c.getBooleanValidator()),u.Factory.addGetterSetter(y,"shadowForStrokeEnabled",!0,c.getBooleanValidator()),u.Factory.addGetterSetter(y,"lineJoin"),u.Factory.addGetterSetter(y,"lineCap"),u.Factory.addGetterSetter(y,"sceneFunc"),u.Factory.addGetterSetter(y,"hitFunc"),u.Factory.addGetterSetter(y,"dash"),u.Factory.addGetterSetter(y,"dashOffset",0,c.getNumberValidator()),u.Factory.addGetterSetter(y,"shadowColor",void 0,c.getStringValidator()),u.Factory.addGetterSetter(y,"shadowBlur",0,c.getNumberValidator()),u.Factory.addGetterSetter(y,"shadowOpacity",1,c.getNumberValidator()),u.Factory.addComponentsGetterSetter(y,"shadowOffset",["x","y"]),u.Factory.addGetterSetter(y,"shadowOffsetX",0,c.getNumberValidator()),u.Factory.addGetterSetter(y,"shadowOffsetY",0,c.getNumberValidator()),u.Factory.addGetterSetter(y,"fillPatternImage"),u.Factory.addGetterSetter(y,"fill",void 0,c.getStringOrGradientValidator()),u.Factory.addGetterSetter(y,"fillPatternX",0,c.getNumberValidator()),u.Factory.addGetterSetter(y,"fillPatternY",0,c.getNumberValidator()),u.Factory.addGetterSetter(y,"fillLinearGradientColorStops"),u.Factory.addGetterSetter(y,"strokeLinearGradientColorStops"),u.Factory.addGetterSetter(y,"fillRadialGradientStartRadius",0),u.Factory.addGetterSetter(y,"fillRadialGradientEndRadius",0),u.Factory.addGetterSetter(y,"fillRadialGradientColorStops"),u.Factory.addGetterSetter(y,"fillPatternRepeat","repeat"),u.Factory.addGetterSetter(y,"fillEnabled",!0),u.Factory.addGetterSetter(y,"strokeEnabled",!0),u.Factory.addGetterSetter(y,"shadowEnabled",!0),u.Factory.addGetterSetter(y,"dashEnabled",!0),u.Factory.addGetterSetter(y,"strokeScaleEnabled",!0),u.Factory.addGetterSetter(y,"fillPriority","color"),u.Factory.addComponentsGetterSetter(y,"fillPatternOffset",["x","y"]),u.Factory.addGetterSetter(y,"fillPatternOffsetX",0,c.getNumberValidator()),u.Factory.addGetterSetter(y,"fillPatternOffsetY",0,c.getNumberValidator()),u.Factory.addComponentsGetterSetter(y,"fillPatternScale",["x","y"]),u.Factory.addGetterSetter(y,"fillPatternScaleX",1,c.getNumberValidator()),u.Factory.addGetterSetter(y,"fillPatternScaleY",1,c.getNumberValidator()),u.Factory.addComponentsGetterSetter(y,"fillLinearGradientStartPoint",["x","y"]),u.Factory.addComponentsGetterSetter(y,"strokeLinearGradientStartPoint",["x","y"]),u.Factory.addGetterSetter(y,"fillLinearGradientStartPointX",0),u.Factory.addGetterSetter(y,"strokeLinearGradientStartPointX",0),u.Factory.addGetterSetter(y,"fillLinearGradientStartPointY",0),u.Factory.addGetterSetter(y,"strokeLinearGradientStartPointY",0),u.Factory.addComponentsGetterSetter(y,"fillLinearGradientEndPoint",["x","y"]),u.Factory.addComponentsGetterSetter(y,"strokeLinearGradientEndPoint",["x","y"]),u.Factory.addGetterSetter(y,"fillLinearGradientEndPointX",0),u.Factory.addGetterSetter(y,"strokeLinearGradientEndPointX",0),u.Factory.addGetterSetter(y,"fillLinearGradientEndPointY",0),u.Factory.addGetterSetter(y,"strokeLinearGradientEndPointY",0),u.Factory.addComponentsGetterSetter(y,"fillRadialGradientStartPoint",["x","y"]),u.Factory.addGetterSetter(y,"fillRadialGradientStartPointX",0),u.Factory.addGetterSetter(y,"fillRadialGradientStartPointY",0),u.Factory.addComponentsGetterSetter(y,"fillRadialGradientEndPoint",["x","y"]),u.Factory.addGetterSetter(y,"fillRadialGradientEndPointX",0),u.Factory.addGetterSetter(y,"fillRadialGradientEndPointY",0),u.Factory.addGetterSetter(y,"fillPatternRotation",0),u.Factory.backCompat(y,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),a.Collection.mapMethods(y)},15964:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;var o=n(90240),a=n(28176),u=n(21363),l=n(4880),c=n(49688),s=n(71624),f=n(4880),d=n(97132),h="mouseout",p="mouseleave",v="mouseover",g="mouseenter",m="mousemove",y="mousedown",C="mouseup",b="pointermove",x="pointerdown",w="pointerup",E="contextmenu",S="click",k="dblclick",A="touchstart",D="touchend",I="dbltap",T="touchmove",B="wheel",M=[g,y,m,C,p,A,T,D,v,B,E,x,b,w,"pointercancel","lostpointercapture"],R=M.length;function L(t,e){t.content.addEventListener(e,(function(n){t["_"+e](n)}),!1)}function F(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&o.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var _=function(t){function n(n){var r=t.call(this,F(n))||this;return r._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),e.stages.push(r),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){F(r.attrs)})),r._checkVisibility(),r}return i(n,t),n.prototype._validateAdd=function(t){var e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||o.Util.throw("You may only add layers to the stage.")},n.prototype._checkVisibility=function(){if(this.content){var t=this.visible()?"":"none";this.content.style.display=t}},n.prototype.setContainer=function(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},n.prototype.shouldDrawHit=function(){return!0},n.prototype.clear=function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},n.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),u.Container.prototype.clone.call(this,t)},n.prototype.destroy=function(){t.prototype.destroy.call(this);var n=this.content;n&&o.Util._isInDocument(n)&&this.container().removeChild(n);var r=e.stages.indexOf(this);return r>-1&&e.stages.splice(r,1),this},n.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(o.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)},n.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},n.prototype.getPointersPositions=function(){return this._pointerPositions},n.prototype.getStage=function(){return this},n.prototype.getContent=function(){return this.content},n.prototype._toKonvaCanvas=function(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new c.SceneCanvas({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),n=e.getContext()._context,r=this.children;return(t.x||t.y)&&n.translate(-1*t.x,-1*t.y),r.each((function(e){if(e.isVisible()){var r=e._toKonvaCanvas(t);n.drawImage(r._canvas,t.x,t.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}})),e},n.prototype.getIntersection=function(t,e){if(!t)return null;var n,r,i=this.children;for(n=i.length-1;n>=0;n--)if(r=i[n].getIntersection(t,e))return r;return null},n.prototype._resizeDOM=function(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.each((function(n){n.setSize({width:t,height:e}),n.draw()}))},n.prototype.add=function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}t.prototype.add.call(this,e);var r=this.children.length;return r>5&&o.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),l.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},n.prototype.getParent=function(){return null},n.prototype.getLayer=function(){return null},n.prototype.hasPointerCapture=function(t){return d.hasPointerCapture(t,this)},n.prototype.setPointerCapture=function(t){d.setPointerCapture(t,this)},n.prototype.releaseCapture=function(t){d.releaseCapture(t,this)},n.prototype.getLayers=function(){return this.getChildren()},n.prototype._bindContentEvents=function(){if(l.Konva.isBrowser)for(var t=0;t<R;t++)L(this,M[t])},n.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire(g,{evt:t,target:this,currentTarget:this})},n.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire(v,{evt:t,target:this,currentTarget:this})},n.prototype._mouseleave=function(t){var e;this.setPointersPositions(t);var n=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,r=!s.DD.isDragging||l.Konva.hitOnDragEnabled;n&&r?(n._fireAndBubble(h,{evt:t}),n._fireAndBubble(p,{evt:t}),this._fire(p,{evt:t,target:this,currentTarget:this}),this.targetShape=null):r&&(this._fire(p,{evt:t,target:this,currentTarget:this}),this._fire(h,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},n.prototype._mousemove=function(t){var e;if(l.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var n,r=o.Util._getFirstPointerId(t),i=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,a=!s.DD.isDragging||l.Konva.hitOnDragEnabled;if(a){if((n=this.getIntersection(this.getPointerPosition()))&&n.isListening())a&&i!==n?(i&&(i._fireAndBubble(h,{evt:t,pointerId:r},n),i._fireAndBubble(p,{evt:t,pointerId:r},n)),n._fireAndBubble(v,{evt:t,pointerId:r},i),n._fireAndBubble(g,{evt:t,pointerId:r},i),n._fireAndBubble(m,{evt:t,pointerId:r}),this.targetShape=n):n._fireAndBubble(m,{evt:t,pointerId:r});else i&&a&&(i._fireAndBubble(h,{evt:t,pointerId:r}),i._fireAndBubble(p,{evt:t,pointerId:r}),this._fire(v,{evt:t,target:this,currentTarget:this,pointerId:r}),this.targetShape=null),this._fire(m,{evt:t,target:this,currentTarget:this,pointerId:r});this._fire("contentMousemove",{evt:t})}t.cancelable&&t.preventDefault()},n.prototype._mousedown=function(t){if(l.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=o.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition());s.DD.justDragged=!1,l.Konva.listenClickTap=!0,n&&n.isListening()?(this.clickStartShape=n,n._fireAndBubble(y,{evt:t,pointerId:e})):this._fire(y,{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},n.prototype._mouseup=function(t){if(l.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=o.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,i=this.clickEndShape,a=!1;l.Konva.inDblClickWindow?(a=!0,clearTimeout(this.dblTimeout)):s.DD.justDragged||(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){l.Konva.inDblClickWindow=!1}),l.Konva.dblClickWindow),n&&n.isListening()?(this.clickEndShape=n,n._fireAndBubble(C,{evt:t,pointerId:e}),l.Konva.listenClickTap&&r&&r._id===n._id&&(n._fireAndBubble(S,{evt:t,pointerId:e}),a&&i&&i===n&&n._fireAndBubble(k,{evt:t,pointerId:e}))):(this.clickEndShape=null,this._fire(C,{evt:t,target:this,currentTarget:this,pointerId:e}),l.Konva.listenClickTap&&this._fire(S,{evt:t,target:this,currentTarget:this,pointerId:e}),a&&this._fire(k,{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),l.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),a&&this._fire("contentDblclick",{evt:t})),l.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},n.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(E,{evt:t}):this._fire(E,{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},n.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var n=!1;this._changedPointerPositions.forEach((function(r){var i=e.getIntersection(r);l.Konva.listenClickTap=!0,s.DD.justDragged=!1,i&&i.isListening()&&(l.Konva.captureTouchEventsEnabled&&i.setPointerCapture(r.id),e.tapStartShape=i,i._fireAndBubble(A,{evt:t,pointerId:r.id},e),n=!0,i.isListening()&&i.preventDefault()&&t.cancelable&&t.preventDefault())})),n||this._fire(A,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},n.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!s.DD.isDragging||l.Konva.hitOnDragEnabled){var n=!1,r={};this._changedPointerPositions.forEach((function(i){var o=d.getCapturedShape(i.id)||e.getIntersection(i);o&&o.isListening()&&(r[o._id]||(r[o._id]=!0,o._fireAndBubble(T,{evt:t,pointerId:i.id}),n=!0,o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),n||this._fire(T,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}s.DD.isDragging&&s.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},n.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var n=this.tapEndShape,r=!1;l.Konva.inDblClickWindow?(r=!0,clearTimeout(this.dblTimeout)):s.DD.justDragged||(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){l.Konva.inDblClickWindow=!1}),l.Konva.dblClickWindow);var i=!1,o={},a=!1,u=!1;this._changedPointerPositions.forEach((function(c){var s=d.getCapturedShape(c.id)||e.getIntersection(c);s&&s.releaseCapture(c.id),s&&s.isListening()&&(o[s._id]||(o[s._id]=!0,e.tapEndShape=s,s._fireAndBubble(D,{evt:t,pointerId:c.id}),i=!0,l.Konva.listenClickTap&&s===e.tapStartShape&&(a=!0,s._fireAndBubble("tap",{evt:t,pointerId:c.id}),r&&n&&n===s&&(u=!0,s._fireAndBubble(I,{evt:t,pointerId:c.id}))),s.isListening()&&s.preventDefault()&&t.cancelable&&t.preventDefault()))})),i||this._fire(D,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l.Konva.listenClickTap&&!a&&(this.tapEndShape=null,this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})),r&&!u&&this._fire(I,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),l.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),r&&this._fire("contentDbltap",{evt:t})),this.preventDefault()&&t.cancelable&&t.preventDefault(),l.Konva.listenClickTap=!1},n.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(B,{evt:t}):this._fire(B,{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},n.prototype._pointerdown=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(x,d.createEvent(t))}},n.prototype._pointermove=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(b,d.createEvent(t))}},n.prototype._pointerup=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(w,d.createEvent(t)),d.releaseCapture(t.pointerId)}},n.prototype._pointercancel=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(w,d.createEvent(t)),d.releaseCapture(t.pointerId)}},n.prototype._lostpointercapture=function(t){d.releaseCapture(t.pointerId)},n.prototype.setPointersPositions=function(t){var e=this,n=this._getContentPosition(),r=null,i=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],o.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})})),o.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})}))):(r=(t.clientX-n.left)/n.scaleX,i=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:o.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:i,id:o.Util._getFirstPointerId(t)}])},n.prototype._setPointerPosition=function(t){o.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},n.prototype._getContentPosition=function(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},n.prototype._buildDOM=function(){if(this.bufferCanvas=new c.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new c.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),l.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},n.prototype.cache=function(){return o.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},n.prototype.clearCache=function(){return this},n.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},n}(u.Container);e.Stage=_,_.prototype.nodeType="Stage",f._registerNode(_),a.Factory.addGetterSetter(_,"container")},87216:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;var r=n(90240),i=n(7072),o=n(47876),a=n(4880),u={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=0,c=["fill","stroke","shadowColor"],s=function(){function t(t,e,n,r,i,o,a){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),f=function(){function t(n){var o,c,f=this,d=n.node,h=d._id,p=n.easing||e.Easings.Linear,v=!!n.yoyo;o=void 0===n.duration?.3:0===n.duration?.001:n.duration,this.node=d,this._id=l++;var g=d.getLayer()||(d instanceof a.Konva.Stage?d.getLayers():null);for(c in g||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation((function(){f.tween.onEnterFrame()}),g),this.tween=new s(c,(function(t){f._tweenFunc(t)}),p,0,1,1e3*o,v),this._addListeners(),t.attrs[h]||(t.attrs[h]={}),t.attrs[h][this._id]||(t.attrs[h][this._id]={}),t.tweens[h]||(t.tweens[h]={}),n)void 0===u[c]&&this._addAttr(c,n[c]);this.reset(),this.onFinish=n.onFinish,this.onReset=n.onReset,this.onUpdate=n.onUpdate}return t.prototype._addAttr=function(e,n){var i,o,a,u,l,s,f,d,h=this.node,p=h._id;if((a=t.tweens[p][e])&&delete t.attrs[p][a][e],i=h.getAttr(e),r.Util._isArray(n))if(o=[],l=Math.max(n.length,i.length),"points"===e&&n.length!==i.length&&(n.length>i.length?(f=i,i=r.Util._prepareArrayForTween(i,n,h.closed())):(s=n,n=r.Util._prepareArrayForTween(n,i,h.closed()))),0===e.indexOf("fill"))for(u=0;u<l;u++)if(u%2==0)o.push(n[u]-i[u]);else{var v=r.Util.colorToRGBA(i[u]);d=r.Util.colorToRGBA(n[u]),i[u]=v,o.push({r:d.r-v.r,g:d.g-v.g,b:d.b-v.b,a:d.a-v.a})}else for(u=0;u<l;u++)o.push(n[u]-i[u]);else-1!==c.indexOf(e)?(i=r.Util.colorToRGBA(i),o={r:(d=r.Util.colorToRGBA(n)).r-i.r,g:d.g-i.g,b:d.b-i.b,a:d.a-i.a}):o=n-i;t.attrs[p][this._id][e]={start:i,diff:o,end:n,trueEnd:s,trueStart:f},t.tweens[p][e]=this._id},t.prototype._tweenFunc=function(e){var n,i,o,a,u,l,s,f,d=this.node,h=t.attrs[d._id][this._id];for(n in h){if(o=(i=h[n]).start,a=i.diff,f=i.end,r.Util._isArray(o))if(u=[],s=Math.max(o.length,f.length),0===n.indexOf("fill"))for(l=0;l<s;l++)l%2==0?u.push((o[l]||0)+a[l]*e):u.push("rgba("+Math.round(o[l].r+a[l].r*e)+","+Math.round(o[l].g+a[l].g*e)+","+Math.round(o[l].b+a[l].b*e)+","+(o[l].a+a[l].a*e)+")");else for(l=0;l<s;l++)u.push((o[l]||0)+a[l]*e);else u=-1!==c.indexOf(n)?"rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":o+a*e;d.setAttr(n,u)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var n=e.node,r=t.attrs[n._id][e._id];r.points&&r.points.trueEnd&&n.setAttr("points",r.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var n=e.node,r=t.attrs[n._id][e._id];r.points&&r.points.trueStart&&n.points(r.points.trueStart),e.onReset&&e.onReset()},this.tween.onUpdate=function(){e.onUpdate&&e.onUpdate.call(e)}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,n=this.node._id,r=this._id,i=t.tweens[n];for(e in this.pause(),i)delete t.tweens[n][e];delete t.attrs[n][r]},t.attrs={},t.tweens={},t}();e.Tween=f,o.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new f(t).play()},e.Easings={BackEaseIn:function(t,e,n,r){var i=1.70158;return n*(t/=r)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,n,r){var i=1.70158;return n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn:function(t,e,n,r,i,o){var a=0;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)+e)},ElasticEaseOut:function(t,e,n,r,i,o){var a=0;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+n+e)},ElasticEaseInOut:function(t,e,n,r,i,o){var a=0;return 0===t?e:2==(t/=r/2)?e+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+n+e)},BounceEaseOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,n,r,i){return r-e.Easings.BounceEaseOut(i-t,0,r,i)+n},BounceEaseInOut:function(t,n,r,i){return t<i/2?.5*e.Easings.BounceEaseIn(2*t,0,r,i)+n:.5*e.Easings.BounceEaseOut(2*t-i,0,r,i)+.5*r+n},EaseIn:function(t,e,n,r){return n*(t/=r)*t+e},EaseOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,r){return n*t/r+e}}},90240:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=e.Collection=void 0;var r=n(4880),i=function(){function t(){}return t.toCollection=function(e){var n,r=new t,i=e.length;for(n=0;n<i;n++)r.push(e[n]);return r},t._mapMethod=function(e){t.prototype[e]=function(){var t,n=this.length,r=[].slice.call(arguments);for(t=0;t<n;t++)this[t][e].apply(this[t],r);return this}},t.mapMethods=function(e){var n=e.prototype;for(var r in n)t._mapMethod(r)},t}();e.Collection=i,i.prototype=[],i.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},i.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e};var o=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.reset=function(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0},t.prototype.copy=function(){return new t(this.m)},t.prototype.copyInto=function(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,o=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=a,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var n=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,o=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,r=-this.m[2]*t,i=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var n=this.m[0],r=this.m[1],i=this.m[2],o=this.m[3],a=this.m[4],u=(n*(e-this.m[5])-r*(t-a))/(n*o-r*i),l=(t-a-i*u)/n;return this.translate(l,u)},t.prototype.decompose=function(){var t=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],o=t*i-n*r,a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=n){var u=Math.sqrt(t*t+n*n);a.rotation=n>0?Math.acos(t/u):-Math.acos(t/u),a.scaleX=u,a.scaleY=o/u,a.skewX=(t*r+n*i)/o,a.skewY=0}else if(0!=r||0!=i){var l=Math.sqrt(r*r+i*i);a.rotation=Math.PI/2-(i>0?Math.acos(-r/l):-Math.acos(r/l)),a.scaleX=o/l,a.scaleY=l,a.skewX=0,a.skewY=(t*r+n*i)/o}return a.rotation=e.Util._getRotation(a.rotation),a},t}();e.Transform=o;var a=Math.PI/180,u=180/Math.PI,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,s=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t||t>0?1:-1},requestAnimFrame:function(t){s.push(t),1===s.length&&requestAnimationFrame((function(){var t=s;s=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var n,r,i=[],o=t.length,a=e.Util;for(n=0;n<o;n++)r=t[n],a._isNumber(r)?r=Math.round(1e3*r)/1e3:a._isString(r)||(r=r.toString()),i.push(r);return i},_urlToImage:function(t,e){var n=new r.glob.Image;n.onload=function(){e(n)},n.src=t},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in l?{r:(e=l[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=c.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=l[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=(e[0],e.slice(1)),r=Number(n[0])/360,i=Number(n[1])/100,o=Number(n[2])/100,a=void 0,u=void 0,l=void 0;if(0===i)return l=255*o,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};for(var c=2*o-(a=o<.5?o*(1+i):o+i-o*i),s=[0,0,0],f=0;f<3;f++)(u=r+1/3*-(f-1))<0&&u++,u>1&&u--,l=6*u<1?c+6*(a-c)*u:2*u<1?a:3*u<2?c+(a-c)*(2/3-u)*6:c,s[f]=255*l;return{r:Math.round(s[0]),g:Math.round(s[1]),b:Math.round(s[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*a},_radToDeg:function(t){return t*u},_getRotation:function(t){return r.Konva.angleDeg?e.Util._radToDeg(t):t},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error("Konva error: "+t)},error:function(t){},warn:function(t){r.Konva.showWarnings},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var r=t.prototype;for(var i in t.prototype=new n,r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,n,r,i,o,a){var u=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),c=a*u/(u+l),s=a*l/(u+l);return[n-c*(i-t),r-c*(o-e),n+s*(i-t),r+s*(o-e)]},_expandPoints:function(t,n){var r,i,o=t.length,a=[];for(r=2;r<o-2;r+=2)i=e.Util._getControlPoints(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],n),isNaN(i[0])||(a.push(i[0]),a.push(i[1]),a.push(t[r]),a.push(t[r+1]),a.push(i[2]),a.push(i[3]));return a},each:function(t,e){for(var n in t)e(n,t[n])},_inRange:function(t,e,n){return e<=t&&t<n},_getProjectionToSegment:function(t,e,n,r,i,o){var a,u,l,c=(t-n)*(t-n)+(e-r)*(e-r);if(0==c)a=t,u=e,l=(i-n)*(i-n)+(o-r)*(o-r);else{var s=((i-t)*(n-t)+(o-e)*(r-e))/c;s<0?(a=t,u=e,l=(t-i)*(t-i)+(e-o)*(e-o)):s>1?(a=n,u=r,l=(n-i)*(n-i)+(r-o)*(r-o)):l=((a=t+s*(n-t))-i)*(a-i)+((u=e+s*(r-e))-o)*(u-o)}return[a,u,l]},_getProjectionToLine:function(t,n,r){var i=e.Util.cloneObject(t),o=Number.MAX_VALUE;return n.forEach((function(a,u){if(r||u!==n.length-1){var l=n[(u+1)%n.length],c=e.Util._getProjectionToSegment(a.x,a.y,l.x,l.y,t.x,t.y),s=c[0],f=c[1],d=c[2];d<o&&(i.x=s,i.y=f,o=d)}})),i},_prepareArrayForTween:function(t,n,r){var i,o=[],a=[];if(t.length>n.length){var u=n;n=t,t=u}for(i=0;i<t.length;i+=2)o.push({x:t[i],y:t[i+1]});for(i=0;i<n.length;i+=2)a.push({x:n[i],y:n[i+1]});var l=[];return a.forEach((function(t){var n=e.Util._getProjectionToLine(t,o,r);l.push(n.x),l.push(n.y)})),l},_prepareToStringify:function(t){var n;for(var r in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(r)&&t[r]&&"object"==typeof t[r])if(n=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||e.Util._isElement(t[r])){if(!n.configurable)return null;delete t[r]}else if(null===e.Util._prepareToStringify(t[r])){if(!n.configurable)return null;delete t[r]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},36e3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getComponentValidator=e.getBooleanValidator=e.getNumberArrayValidator=e.getFunctionValidator=e.getStringOrGradientValidator=e.getStringValidator=e.getNumberOrAutoValidator=e.getNumberOrArrayOfNumbersValidator=e.getNumberValidator=e.alphaComponent=e.RGBComponent=void 0;var r=n(4880),i=n(90240);function o(t){return i.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||i.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrArrayOfNumbersValidator=function(t){if(r.Konva.isUnminified)return function(e,n){var r=i.Util._isNumber(e),a=i.Util._isArray(e)&&e.length==t;return r||a||i.Util.warn(o(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}},e.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||"auto"===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isString(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getStringOrGradientValidator=function(){if(r.Konva.isUnminified)return function(t,e){var n=i.Util._isString(t),r="[object CanvasGradient]"===Object.prototype.toString.call(t);return n||r||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}},e.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isFunction(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isArray(t)?t.forEach((function(t){i.Util._isNumber(t)||i.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(t,e){return!0===t||!1===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(r.Konva.isUnminified)return function(e,n){return i.Util.isObject(e)||i.Util.warn(o(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}},31372:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var r=n(4880),i=n(90240),o=n(47876),a=n(21363),u=n(15964),l=n(40200),c=n(80496),s=n(82048),f=n(71624),d=n(27668),h=n(7072),p=n(87216),v=n(3208),g=n(49688);e.Konva=i.Util._assign(r.Konva,{Collection:i.Collection,Util:i.Util,Transform:i.Transform,Node:o.Node,ids:o.ids,names:o.names,Container:a.Container,Stage:u.Stage,stages:u.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:s.Group,DD:f.DD,Shape:d.Shape,shapes:d.shapes,Animation:h.Animation,Tween:p.Tween,Easings:p.Easings,Context:v.Context,Canvas:g.Canvas})},23180:function(t,e,n){"use strict";e.U=void 0;var r=n(31372),i=n(5464),o=n(99440),a=n(12988),u=n(49420),l=n(54800),c=n(69480),s=n(97536),f=n(17948),d=n(89740),h=n(37996),p=n(91152),v=n(44004),g=n(53632),m=n(5176),y=n(29112),C=n(51080),b=n(63764),x=n(30144),w=n(16024),E=n(67336),S=n(80880),k=n(69848),A=n(50192),D=n(51336),I=n(5036),T=n(43724),B=n(68956),M=n(55720),R=n(5e3),L=n(55992),F=n(68380),_=n(39004),P=n(63964),N=n(9944),O=n(43560),j=n(4280);e.U=r.Konva.Util._assign(r.Konva,{Arc:i.Arc,Arrow:o.Arrow,Circle:a.Circle,Ellipse:u.Ellipse,Image:l.Image,Label:c.Label,Tag:c.Tag,Line:s.Line,Path:f.Path,Rect:d.Rect,RegularPolygon:h.RegularPolygon,Ring:p.Ring,Sprite:v.Sprite,Star:g.Star,Text:m.Text,TextPath:y.TextPath,Transformer:C.Transformer,Wedge:b.Wedge,Filters:{Blur:x.Blur,Brighten:w.Brighten,Contrast:E.Contrast,Emboss:S.Emboss,Enhance:k.Enhance,Grayscale:A.Grayscale,HSL:D.HSL,HSV:I.HSV,Invert:T.Invert,Kaleidoscope:B.Kaleidoscope,Mask:M.Mask,Noise:R.Noise,Pixelate:L.Pixelate,Posterize:F.Posterize,RGB:_.RGB,RGBA:P.RGBA,Sepia:N.Sepia,Solarize:O.Solarize,Threshold:j.Threshold}})},30144:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Blur=void 0;var r=n(28176),i=n(47876),o=n(36e3);function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var u=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,r,i,o,c,s,f,d,h,p,v,g,m,y,C,b,x,w,E,S,k,A,D,I,T=t.data,B=t.width,M=t.height,R=e+e+1,L=B-1,F=M-1,_=e+1,P=_*(_+1)/2,N=new a,O=null,j=N,G=null,U=null,z=u[e],Z=l[e];for(i=1;i<R;i++)j=j.next=new a,i===_&&(O=j);for(j.next=N,f=s=0,r=0;r<M;r++){for(b=x=w=E=d=h=p=v=0,g=_*(S=T[s]),m=_*(k=T[s+1]),y=_*(A=T[s+2]),C=_*(D=T[s+3]),d+=P*S,h+=P*k,p+=P*A,v+=P*D,j=N,i=0;i<_;i++)j.r=S,j.g=k,j.b=A,j.a=D,j=j.next;for(i=1;i<_;i++)o=s+((L<i?L:i)<<2),d+=(j.r=S=T[o])*(I=_-i),h+=(j.g=k=T[o+1])*I,p+=(j.b=A=T[o+2])*I,v+=(j.a=D=T[o+3])*I,b+=S,x+=k,w+=A,E+=D,j=j.next;for(G=N,U=O,n=0;n<B;n++)T[s+3]=D=v*z>>Z,0!==D?(D=255/D,T[s]=(d*z>>Z)*D,T[s+1]=(h*z>>Z)*D,T[s+2]=(p*z>>Z)*D):T[s]=T[s+1]=T[s+2]=0,d-=g,h-=m,p-=y,v-=C,g-=G.r,m-=G.g,y-=G.b,C-=G.a,o=f+((o=n+e+1)<L?o:L)<<2,d+=b+=G.r=T[o],h+=x+=G.g=T[o+1],p+=w+=G.b=T[o+2],v+=E+=G.a=T[o+3],G=G.next,g+=S=U.r,m+=k=U.g,y+=A=U.b,C+=D=U.a,b-=S,x-=k,w-=A,E-=D,U=U.next,s+=4;f+=B}for(n=0;n<B;n++){for(x=w=E=b=h=p=v=d=0,g=_*(S=T[s=n<<2]),m=_*(k=T[s+1]),y=_*(A=T[s+2]),C=_*(D=T[s+3]),d+=P*S,h+=P*k,p+=P*A,v+=P*D,j=N,i=0;i<_;i++)j.r=S,j.g=k,j.b=A,j.a=D,j=j.next;for(c=B,i=1;i<=e;i++)s=c+n<<2,d+=(j.r=S=T[s])*(I=_-i),h+=(j.g=k=T[s+1])*I,p+=(j.b=A=T[s+2])*I,v+=(j.a=D=T[s+3])*I,b+=S,x+=k,w+=A,E+=D,j=j.next,i<F&&(c+=B);for(s=n,G=N,U=O,r=0;r<M;r++)T[3+(o=s<<2)]=D=v*z>>Z,D>0?(D=255/D,T[o]=(d*z>>Z)*D,T[o+1]=(h*z>>Z)*D,T[o+2]=(p*z>>Z)*D):T[o]=T[o+1]=T[o+2]=0,d-=g,h-=m,p-=y,v-=C,g-=G.r,m-=G.g,y-=G.b,C-=G.a,o=n+((o=r+_)<F?o:F)*B<<2,d+=b+=G.r=T[o],h+=x+=G.g=T[o+1],p+=w+=G.b=T[o+2],v+=E+=G.a=T[o+3],G=G.next,g+=S=U.r,m+=k=U.g,y+=A=U.b,C+=D=U.a,b-=S,x-=k,w-=A,E-=D,U=U.next,s+=B}}(t,e)},r.Factory.addGetterSetter(i.Node,"blurRadius",0,o.getNumberValidator(),r.Factory.afterSetFilter)},16024:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Brighten=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.Brighten=function(t){var e,n=255*this.brightness(),r=t.data,i=r.length;for(e=0;e<i;e+=4)r[e]+=n,r[e+1]+=n,r[e+2]+=n},r.Factory.addGetterSetter(i.Node,"brightness",0,o.getNumberValidator(),r.Factory.afterSetFilter)},67336:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Contrast=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.Contrast=function(t){var e,n=Math.pow((this.contrast()+100)/100,2),r=t.data,i=r.length,o=150,a=150,u=150;for(e=0;e<i;e+=4)o=r[e],a=r[e+1],u=r[e+2],o/=255,o-=.5,o*=n,o+=.5,a/=255,a-=.5,a*=n,a+=.5,u/=255,u-=.5,u*=n,u+=.5,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,u=(u*=255)<0?0:u>255?255:u,r[e]=o,r[e+1]=a,r[e+2]=u},r.Factory.addGetterSetter(i.Node,"contrast",0,o.getNumberValidator(),r.Factory.afterSetFilter)},80880:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emboss=void 0;var r=n(28176),i=n(47876),o=n(90240),a=n(36e3);e.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),a=0,u=0,l=t.data,c=t.width,s=t.height,f=4*c,d=s;switch(r){case"top-left":a=-1,u=-1;break;case"top":a=-1,u=0;break;case"top-right":a=-1,u=1;break;case"right":a=0,u=1;break;case"bottom-right":a=1,u=1;break;case"bottom":a=1,u=0;break;case"bottom-left":a=1,u=-1;break;case"left":a=0,u=-1;break;default:o.Util.error("Unknown emboss direction: "+r)}do{var h=(d-1)*f,p=a;d+p<1&&(p=0),d+p>s&&(p=0);var v=(d-1+p)*c*4,g=c;do{var m=h+4*(g-1),y=u;g+y<1&&(y=0),g+y>c&&(y=0);var C=v+4*(g-1+y),b=l[m]-l[C],x=l[m+1]-l[C+1],w=l[m+2]-l[C+2],E=b,S=E>0?E:-E;if((x>0?x:-x)>S&&(E=x),(w>0?w:-w)>S&&(E=w),E*=e,i){var k=l[m]+E,A=l[m+1]+E,D=l[m+2]+E;l[m]=k>255?255:k<0?0:k,l[m+1]=A>255?255:A<0?0:A,l[m+2]=D>255?255:D<0?0:D}else{var I=n-E;I<0?I=0:I>255&&(I=255),l[m]=l[m+1]=l[m+2]=I}}while(--g)}while(--d)},r.Factory.addGetterSetter(i.Node,"embossStrength",.5,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossWhiteLevel",.5,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},69848:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Enhance=void 0;var r=n(28176),i=n(47876),o=n(36e3);function a(t,e,n,r,i){var o=n-e,a=i-r;return 0===o?r+a/2:0===a?r:a*((t-e)/o)+r}e.Enhance=function(t){var e,n,r,i,o=t.data,u=o.length,l=o[0],c=l,s=o[1],f=s,d=o[2],h=d,p=this.enhance();if(0!==p){for(i=0;i<u;i+=4)(e=o[i+0])<l?l=e:e>c&&(c=e),(n=o[i+1])<s?s=n:n>f&&(f=n),(r=o[i+2])<d?d=r:r>h&&(h=r);var v,g,m,y,C,b,x,w,E;for(c===l&&(c=255,l=0),f===s&&(f=255,s=0),h===d&&(h=255,d=0),p>0?(g=c+p*(255-c),m=l-p*(l-0),C=f+p*(255-f),b=s-p*(s-0),w=h+p*(255-h),E=d-p*(d-0)):(g=c+p*(c-(v=.5*(c+l))),m=l+p*(l-v),C=f+p*(f-(y=.5*(f+s))),b=s+p*(s-y),w=h+p*(h-(x=.5*(h+d))),E=d+p*(d-x)),i=0;i<u;i+=4)o[i+0]=a(o[i+0],l,c,m,g),o[i+1]=a(o[i+1],s,f,b,C),o[i+2]=a(o[i+2],d,h,E,w)}},r.Factory.addGetterSetter(i.Node,"enhance",0,o.getNumberValidator(),r.Factory.afterSetFilter)},50192:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=void 0;e.Grayscale=function(t){var e,n,r=t.data,i=r.length;for(e=0;e<i;e+=4)n=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=n,r[e+1]=n,r[e+2]=n}},51336:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSL=void 0;var r=n(28176),i=n(47876),o=n(36e3);r.Factory.addGetterSetter(i.Node,"hue",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"luminance",0,o.getNumberValidator(),r.Factory.afterSetFilter);e.HSL=function(t){var e,n,r,i,o,a=t.data,u=a.length,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,s=127*this.luminance(),f=1*l*Math.cos(c*Math.PI/180),d=1*l*Math.sin(c*Math.PI/180),h=.299+.701*f+.167*d,p=.587-.587*f+.33*d,v=.114-.114*f-.497*d,g=.299-.299*f-.328*d,m=.587+.413*f+.035*d,y=.114-.114*f+.293*d,C=.299-.3*f+1.25*d,b=.587-.586*f-1.05*d,x=.114+.886*f-.2*d;for(e=0;e<u;e+=4)n=a[e+0],r=a[e+1],i=a[e+2],o=a[e+3],a[e+0]=h*n+p*r+v*i+s,a[e+1]=g*n+m*r+y*i+s,a[e+2]=C*n+b*r+x*i+s,a[e+3]=o}},5036:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSV=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.HSV=function(t){var e,n,r,i,o,a=t.data,u=a.length,l=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,f=l*c*Math.cos(s*Math.PI/180),d=l*c*Math.sin(s*Math.PI/180),h=.299*l+.701*f+.167*d,p=.587*l-.587*f+.33*d,v=.114*l-.114*f-.497*d,g=.299*l-.299*f-.328*d,m=.587*l+.413*f+.035*d,y=.114*l-.114*f+.293*d,C=.299*l-.3*f+1.25*d,b=.587*l-.586*f-1.05*d,x=.114*l+.886*f-.2*d;for(e=0;e<u;e+=4)n=a[e+0],r=a[e+1],i=a[e+2],o=a[e+3],a[e+0]=h*n+p*r+v*i,a[e+1]=g*n+m*r+y*i,a[e+2]=C*n+b*r+x*i,a[e+3]=o},r.Factory.addGetterSetter(i.Node,"hue",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"value",0,o.getNumberValidator(),r.Factory.afterSetFilter)},43724:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=void 0;e.Invert=function(t){var e,n=t.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}},68956:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Kaleidoscope=void 0;var r=n(28176),i=n(47876),o=n(90240),a=n(36e3);e.Kaleidoscope=function(t){var e,n,r,i,a,u,l,c,s,f=t.width,d=t.height,h=Math.round(this.kaleidoscopePower()),p=Math.round(this.kaleidoscopeAngle()),v=Math.floor(f*(p%360)/360);if(!(h<1)){var g=o.Util.createCanvasElement();g.width=f,g.height=d;var m=g.getContext("2d").getImageData(0,0,f,d);!function(t,e,n){var r,i,o,a,u=t.data,l=e.data,c=t.width,s=t.height,f=n.polarCenterX||c/2,d=n.polarCenterY||s/2,h=0,p=0,v=0,g=0,m=Math.sqrt(f*f+d*d);i=c-f,o=s-d,m=(a=Math.sqrt(i*i+o*o))>m?a:m;var y,C,b,x,w=s,E=c,S=360/E*Math.PI/180;for(C=0;C<E;C+=1)for(b=Math.sin(C*S),x=Math.cos(C*S),y=0;y<w;y+=1)i=Math.floor(f+m*y/w*x),h=u[0+(r=4*((o=Math.floor(d+m*y/w*b))*c+i))],p=u[r+1],v=u[r+2],g=u[r+3],l[0+(r=4*(C+y*c))]=h,l[r+1]=p,l[r+2]=v,l[r+3]=g}(t,m,{polarCenterX:f/2,polarCenterY:d/2});for(var y=f/Math.pow(2,h);y<=8;)y*=2,h-=1;var C=y=Math.ceil(y),b=0,x=C,w=1;for(v+y>f&&(b=C,x=0,w=-1),n=0;n<d;n+=1)for(e=b;e!==x;e+=w)c=4*(f*n+Math.round(e+v)%f),i=m.data[c+0],a=m.data[c+1],u=m.data[c+2],l=m.data[c+3],s=4*(f*n+e),m.data[s+0]=i,m.data[s+1]=a,m.data[s+2]=u,m.data[s+3]=l;for(n=0;n<d;n+=1)for(C=Math.floor(y),r=0;r<h;r+=1){for(e=0;e<C+1;e+=1)c=4*(f*n+e),i=m.data[c+0],a=m.data[c+1],u=m.data[c+2],l=m.data[c+3],s=4*(f*n+2*C-e-1),m.data[s+0]=i,m.data[s+1]=a,m.data[s+2]=u,m.data[s+3]=l;C*=2}!function(t,e,n){var r,i,o,a,u,l,c=t.data,s=e.data,f=t.width,d=t.height,h=n.polarCenterX||f/2,p=n.polarCenterY||d/2,v=0,g=0,m=0,y=0,C=Math.sqrt(h*h+p*p);i=f-h,o=d-p,C=(l=Math.sqrt(i*i+o*o))>C?l:C;var b,x,w,E=d,S=f,k=n.polarRotation||0;for(i=0;i<f;i+=1)for(o=0;o<d;o+=1)a=i-h,u=o-p,b=Math.sqrt(a*a+u*u)*E/C,x=(x=(180*Math.atan2(u,a)/Math.PI+360+k)%360)*S/360,w=Math.floor(x),v=c[0+(r=4*(Math.floor(b)*f+w))],g=c[r+1],m=c[r+2],y=c[r+3],s[0+(r=4*(o*f+i))]=v,s[r+1]=g,s[r+2]=m,s[r+3]=y}(m,t,{polarRotation:0})}},r.Factory.addGetterSetter(i.Node,"kaleidoscopePower",2,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"kaleidoscopeAngle",0,a.getNumberValidator(),r.Factory.afterSetFilter)},55720:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mask=void 0;var r=n(28176),i=n(47876),o=n(36e3);function a(t,e,n){var r=4*(n*t.width+e),i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function u(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var n=a(t,0,0),r=a(t,t.width-1,0),i=a(t,0,t.height-1),o=a(t,t.width-1,t.height-1),l=e||10;if(u(n,r)<l&&u(r,o)<l&&u(o,i)<l&&u(i,n)<l){for(var c=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,n,o,i]),s=[],f=0;f<t.width*t.height;f++){var d=u(c,[t.data[4*f],t.data[4*f+1],t.data[4*f+2]]);s[f]=d<l?0:255}return s}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],u=0;u<n;u++)for(var l=0;l<e;l++){for(var c=u*e+l,s=0,f=0;f<i;f++)for(var d=0;d<i;d++){var h=u+f-o,p=l+d-o;if(h>=0&&h<n&&p>=0&&p<e){var v=r[f*i+d];s+=t[h*e+p]*v}}a[c]=s}return a}(e=function(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],u=0;u<n;u++)for(var l=0;l<e;l++){for(var c=u*e+l,s=0,f=0;f<i;f++)for(var d=0;d<i;d++){var h=u+f-o,p=l+d-o;if(h>=0&&h<n&&p>=0&&p<e){var v=r[f*i+d];s+=t[h*e+p]*v}}a[c]=s>=1020?255:0}return a}(e=function(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],u=0;u<n;u++)for(var l=0;l<e;l++){for(var c=u*e+l,s=0,f=0;f<i;f++)for(var d=0;d<i;d++){var h=u+f-o,p=l+d-o;if(h>=0&&h<n&&p>=0&&p<e){var v=r[f*i+d];s+=t[h*e+p]*v}}a[c]=2040===s?255:0}return a}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},r.Factory.addGetterSetter(i.Node,"threshold",0,o.getNumberValidator(),r.Factory.afterSetFilter)},5e3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Noise=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.Noise=function(t){var e,n=255*this.noise(),r=t.data,i=r.length,o=n/2;for(e=0;e<i;e+=4)r[e+0]+=o-2*o*Math.random(),r[e+1]+=o-2*o*Math.random(),r[e+2]+=o-2*o*Math.random()},r.Factory.addGetterSetter(i.Node,"noise",.2,o.getNumberValidator(),r.Factory.afterSetFilter)},55992:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pixelate=void 0;var r=n(28176),i=n(90240),o=n(47876),a=n(36e3);e.Pixelate=function(t){var e,n,r,o,a,u,l,c,s,f,d,h,p,v,g=Math.ceil(this.pixelSize()),m=t.width,y=t.height,C=Math.ceil(m/g),b=Math.ceil(y/g),x=t.data;if(g<=0)i.Util.error("pixelSize value can not be <= 0");else for(h=0;h<C;h+=1)for(p=0;p<b;p+=1){for(o=0,a=0,u=0,l=0,s=(c=h*g)+g,d=(f=p*g)+g,v=0,e=c;e<s;e+=1)if(!(e>=m))for(n=f;n<d;n+=1)n>=y||(o+=x[(r=4*(m*n+e))+0],a+=x[r+1],u+=x[r+2],l+=x[r+3],v+=1);for(o/=v,a/=v,u/=v,l/=v,e=c;e<s;e+=1)if(!(e>=m))for(n=f;n<d;n+=1)n>=y||(x[(r=4*(m*n+e))+0]=o,x[r+1]=a,x[r+2]=u,x[r+3]=l)}},r.Factory.addGetterSetter(o.Node,"pixelSize",8,a.getNumberValidator(),r.Factory.afterSetFilter)},68380:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Posterize=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,r=t.data,i=r.length,o=255/n;for(e=0;e<i;e+=1)r[e]=Math.floor(r[e]/o)*o},r.Factory.addGetterSetter(i.Node,"levels",.5,o.getNumberValidator(),r.Factory.afterSetFilter)},39004:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGB=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.RGB=function(t){var e,n,r=t.data,i=r.length,o=this.red(),a=this.green(),u=this.blue();for(e=0;e<i;e+=4)n=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=n*o,r[e+1]=n*a,r[e+2]=n*u,r[e+3]=r[e+3]},r.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter)},63964:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.RGBA=function(t){var e,n,r=t.data,i=r.length,o=this.red(),a=this.green(),u=this.blue(),l=this.alpha();for(e=0;e<i;e+=4)n=1-l,r[e]=o*l+r[e]*n,r[e+1]=a*l+r[e+1]*n,r[e+2]=u*l+r[e+2]*n},r.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},9944:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=void 0;e.Sepia=function(t){var e,n,r,i,o=t.data,a=o.length;for(e=0;e<a;e+=4)n=o[e+0],r=o[e+1],i=o[e+2],o[e+0]=Math.min(255,.393*n+.769*r+.189*i),o[e+1]=Math.min(255,.349*n+.686*r+.168*i),o[e+2]=Math.min(255,.272*n+.534*r+.131*i)}},43560:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=void 0;e.Solarize=function(t){var e=t.data,n=t.width,r=4*n,i=t.height;do{var o=(i-1)*r,a=n;do{var u=o+4*(a-1),l=e[u],c=e[u+1],s=e[u+2];l>127&&(l=255-l),c>127&&(c=255-c),s>127&&(s=255-s),e[u]=l,e[u+1]=c,e[u+2]=s}while(--a)}while(--i)}},4280:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Threshold=void 0;var r=n(28176),i=n(47876),o=n(36e3);e.Threshold=function(t){var e,n=255*this.threshold(),r=t.data,i=r.length;for(e=0;e<i;e+=1)r[e]=r[e]<n?0:255},r.Factory.addGetterSetter(i.Node,"threshold",.5,o.getNumberValidator(),r.Factory.afterSetFilter)},25700:function(t,e,n){var r=n(23180).U;r._injectGlobal(r),e.default=r,t.exports=e.default},5464:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Arc=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(4880),c=n(36e3),s=n(4880),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=l.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(u.Shape);e.Arc=f,f.prototype._centroid=!0,f.prototype.className="Arc",f.prototype._attrsAffectingSize=["innerRadius","outerRadius"],s._registerNode(f),a.Factory.addGetterSetter(f,"innerRadius",0,c.getNumberValidator()),a.Factory.addGetterSetter(f,"outerRadius",0,c.getNumberValidator()),a.Factory.addGetterSetter(f,"angle",0,c.getNumberValidator()),a.Factory.addGetterSetter(f,"clockwise",!1,c.getBooleanValidator()),o.Collection.mapMethods(f)},99440:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Arrow=void 0;var o=n(90240),a=n(28176),u=n(97536),l=n(36e3),c=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var n=2*Math.PI,r=this.points(),i=r,o=0!==this.tension()&&r.length>4;o&&(i=this.getTensionPoints());var a,u,l=r.length;o?(a=r[l-2]-(i[i.length-2]+i[i.length-4])/2,u=r[l-1]-(i[i.length-1]+i[i.length-3])/2):(a=r[l-2]-r[l-4],u=r[l-1]-r[l-3]);var c=(Math.atan2(u,a)+n)%n,s=this.pointerLength(),f=this.pointerWidth();e.save(),e.beginPath(),e.translate(r[l-2],r[l-1]),e.rotate(c),e.moveTo(0,0),e.lineTo(-s,f/2),e.lineTo(-s,-f/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(r[0],r[1]),o?(a=(i[0]+i[2])/2-r[0],u=(i[1]+i[3])/2-r[1]):(a=r[2]-r[0],u=r[3]-r[1]),e.rotate((Math.atan2(-u,-a)+n)%n),e.moveTo(0,0),e.lineTo(-s,f/2),e.lineTo(-s,-f/2),e.closePath(),e.restore());var d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)},e.prototype.getSelfRect=function(){var e=t.prototype.getSelfRect.call(this),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+2*n,height:e.height+2*n}},e}(u.Line);e.Arrow=s,s.prototype.className="Arrow",c._registerNode(s),a.Factory.addGetterSetter(s,"pointerLength",10,l.getNumberValidator()),a.Factory.addGetterSetter(s,"pointerWidth",10,l.getNumberValidator()),a.Factory.addGetterSetter(s,"pointerAtBeginning",!1),o.Collection.mapMethods(s)},12988:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(36e3),c=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(u.Shape);e.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],c._registerNode(s),a.Factory.addGetterSetter(s,"radius",0,l.getNumberValidator()),o.Collection.mapMethods(s)},49420:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Ellipse=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(36e3),c=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(u.Shape);e.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],c._registerNode(s),a.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),a.Factory.addGetterSetter(s,"radiusX",0,l.getNumberValidator()),a.Factory.addGetterSetter(s,"radiusY",0,l.getNumberValidator()),o.Collection.mapMethods(s)},54800:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Image=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(36e3),c=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._sceneFunc=function(t){var e,n=this.getWidth(),r=this.getHeight(),i=this.attrs.image;if(i){var o=this.attrs.cropWidth,a=this.attrs.cropHeight;e=o&&a?[i,this.cropX(),this.cropY(),o,a,0,0,n,r]:[i,0,0,n,r]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)),i&&t.drawImage.apply(t,e)},e.prototype._hitFunc=function(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.width)||0},e.prototype.getHeight=function(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.height)||0},e.fromURL=function(t,n){var r=o.Util.createImageElement();r.onload=function(){var t=new e({image:r});n(t)},r.crossOrigin="Anonymous",r.src=t},e}(u.Shape);e.Image=s,s.prototype.className="Image",c._registerNode(s),a.Factory.addGetterSetter(s,"image"),a.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),a.Factory.addGetterSetter(s,"cropX",0,l.getNumberValidator()),a.Factory.addGetterSetter(s,"cropY",0,l.getNumberValidator()),a.Factory.addGetterSetter(s,"cropWidth",0,l.getNumberValidator()),a.Factory.addGetterSetter(s,"cropHeight",0,l.getNumberValidator()),o.Collection.mapMethods(s)},69480:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=e.Label=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(82048),c=n(36e3),s=n(4880),f=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],d="up",h="right",p="down",v="left",g=f.length,m=function(t){function e(e){var n=t.call(this,e)||this;return n.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),n}return i(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,n=this,r=function(){n._sync()};for(e=0;e<g;e++)t.on(f[e]+"Change.konva",r)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,n,r,i,o,a,u=this.getText(),l=this.getTag();if(u&&l){switch(t=u.width(),e=u.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),i=0,o=0,n){case d:i=t/2,o=-1*a;break;case h:i=t+r,o=e/2;break;case p:i=t/2,o=e+a;break;case v:i=-1*r,o=e/2}l.setAttrs({x:-1*i,y:-1*o,width:t,height:e}),u.setAttrs({x:-1*i,y:-1*o})}},e}(l.Group);e.Label=m,m.prototype.className="Label",s._registerNode(m),o.Collection.mapMethods(m);var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius(),u=0,l=0,c=0,s=0;"number"==typeof a?u=l=c=s=Math.min(a,e/2,n/2):(u=Math.min(a[0]||0,e/2,n/2),l=Math.min(a[1]||0,e/2,n/2),s=Math.min(a[2]||0,e/2,n/2),c=Math.min(a[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(u,0),r===d&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+i)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),r===h&&(t.lineTo(e,(n-o)/2),t.lineTo(e+i,n/2),t.lineTo(e,(n+o)/2)),t.lineTo(e,n-s),t.arc(e-s,n-s,s,0,Math.PI/2,!1),r===p&&(t.lineTo((e+i)/2,n),t.lineTo(e/2,n+o),t.lineTo((e-i)/2,n)),t.lineTo(c,n),t.arc(c,n-c,c,Math.PI/2,Math.PI,!1),r===v&&(t.lineTo(0,(n+o)/2),t.lineTo(-1*i,n/2),t.lineTo(0,(n-o)/2)),t.lineTo(0,u),t.arc(u,u,u,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return i===d?(e-=r,a+=r):i===p?a+=r:i===v?(t-=1.5*n,o+=n):i===h&&(o+=1.5*n),{x:t,y:e,width:o,height:a}},e}(u.Shape);e.Tag=y,y.prototype.className="Tag",s._registerNode(y),a.Factory.addGetterSetter(y,"pointerDirection","none"),a.Factory.addGetterSetter(y,"pointerWidth",0,c.getNumberValidator()),a.Factory.addGetterSetter(y,"pointerHeight",0,c.getNumberValidator()),a.Factory.addGetterSetter(y,"cornerRadius",0,c.getNumberOrArrayOfNumbersValidator(4)),o.Collection.mapMethods(y)},97536:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;var a=n(90240),u=n(28176),l=n(27668),c=n(36e3),s=n(4880),f=function(t){function e(e){var n=t.call(this,e)||this;return n.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),n}return i(e,t),e.prototype._sceneFunc=function(t){var e,n,r,i=this.points(),o=i.length,a=this.tension(),u=this.closed(),l=this.bezier();if(o){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&o>4){for(n=(e=this.getTensionPoints()).length,r=u?0:4,u||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<n-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);u||t.quadraticCurveTo(e[n-2],e[n-1],i[o-2],i[o-1])}else if(l)for(r=2;r<o;)t.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)t.lineTo(i[r],i[r+1]);u?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():a.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,n=this.tension(),r=a.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),i=a.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),o=a.Util._expandPoints(t,n);return[r[2],r[3]].concat(o).concat([i[0],i[1],t[e-2],t[e-1],i[2],i[3],r[0],r[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,r=(t=0!==this.tension()?o([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points())[0],i=t[0],a=t[1],u=t[1],l=0;l<t.length/2;l++)e=t[2*l],n=t[2*l+1],r=Math.min(r,e),i=Math.max(i,e),a=Math.min(a,n),u=Math.max(u,n);return{x:r,y:a,width:i-r,height:u-a}},e}(l.Shape);e.Line=f,f.prototype.className="Line",f.prototype._attrsAffectingSize=["points","bezier","tension"],s._registerNode(f),u.Factory.addGetterSetter(f,"closed",!1),u.Factory.addGetterSetter(f,"bezier",!1),u.Factory.addGetterSetter(f,"tension",0,c.getNumberValidator()),u.Factory.addGetterSetter(f,"points",[],c.getNumberArrayValidator()),a.Collection.mapMethods(f)},17948:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Path=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(4880),c=function(t){function e(n){var r=t.call(this,n)||this;r.dataArray=[],r.pathLength=0,r.dataArray=e.parsePathData(r.data()),r.pathLength=0;for(var i=0;i<r.dataArray.length;++i)r.pathLength+=r.dataArray[i].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),r}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var n=!1,r=0;r<e.length;r++){var i=e[r].command,o=e[r].points;switch(i){case"L":t.lineTo(o[0],o[1]);break;case"M":t.moveTo(o[0],o[1]);break;case"C":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],u=o[1],l=o[2],c=o[3],s=o[4],f=o[5],d=o[6],h=o[7],p=l>c?l:c,v=l>c?1:l/c,g=l>c?c/l:1;t.translate(a,u),t.rotate(d),t.scale(v,g),t.arc(0,0,p,s,s+f,1-h),t.scale(1/v,1/g),t.rotate(-d),t.translate(-a,-u);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(n){if("A"===n.command){var r=n.points[4],i=n.points[5],o=n.points[4]+i,a=Math.PI/180;if(Math.abs(r-o)<a&&(a=Math.abs(r-o)),i<0)for(var u=r-a;u>o;u-=a){var l=e.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],u,0);t.push(l.x,l.y)}else for(u=r+a;u<o;u+=a){l=e.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],u,0);t.push(l.x,l.y)}}else if("C"===n.command)for(u=0;u<=1;u+=.01){l=e.getPointOnCubicBezier(u,n.start.x,n.start.y,n.points[0],n.points[1],n.points[2],n.points[3],n.points[4],n.points[5]);t.push(l.x,l.y)}else t=t.concat(n.points)}));for(var n,r,i=t[0],o=t[0],a=t[1],u=t[1],l=0;l<t.length/2;l++)n=t[2*l],r=t[2*l+1],isNaN(n)||(i=Math.min(i,n),o=Math.max(o,n)),isNaN(r)||(a=Math.min(a,r),u=Math.max(u,r));return{x:Math.round(i),y:Math.round(a),width:Math.round(o-i),height:Math.round(u-a)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===i)return{x:(n=this.dataArray[r-1].points.slice(-2))[0],y:n[1]};if(t<.01)return{x:(n=this.dataArray[r].points.slice(0,2))[0],y:n[1]};var o=this.dataArray[r],a=o.points;switch(o.command){case"L":return e.getPointOnLine(t,o.start.x,o.start.y,a[0],a[1]);case"C":return e.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return e.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var u=a[0],l=a[1],c=a[2],s=a[3],f=a[4],d=a[5],h=a[6];return f+=d*t/o.pathLength,e.getPointOnEllipticalArc(u,l,c,s,f,h)}return null},e.getLineLength=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},e.getPointOnLine=function(t,e,n,r,i,o,a){void 0===o&&(o=e),void 0===a&&(a=n);var u=(i-n)/(r-e+1e-8),l=Math.sqrt(t*t/(1+u*u));r<e&&(l*=-1);var c,s=u*l;if(r===e)c={x:o,y:a+s};else if((a-n)/(o-e+1e-8)===u)c={x:o+l,y:a+s};else{var f,d,h=this.getLineLength(e,n,r,i),p=(o-e)*(r-e)+(a-n)*(i-n);f=e+(p/=h*h)*(r-e),d=n+p*(i-n);var v=this.getLineLength(o,a,f,d),g=Math.sqrt(t*t-v*v);l=Math.sqrt(g*g/(1+u*u)),r<e&&(l*=-1),c={x:f+l,y:d+(s=u*l)}}return c},e.getPointOnCubicBezier=function(t,e,n,r,i,o,a,u,l){function c(t){return t*t*t}function s(t){return 3*t*t*(1-t)}function f(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:u*c(t)+o*s(t)+r*f(t)+e*d(t),y:l*c(t)+a*s(t)+i*f(t)+n*d(t)}},e.getPointOnQuadraticBezier=function(t,e,n,r,i,o,a){function u(t){return t*t}function l(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:o*u(t)+r*l(t)+e*c(t),y:a*u(t)+i*l(t)+n*c(t)}},e.getPointOnEllipticalArc=function(t,e,n,r,i,o){var a=Math.cos(o),u=Math.sin(o),l=n*Math.cos(i),c=r*Math.sin(i);return{x:t+(l*a-c*u),y:e+(l*u+c*a)}},e.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)e=e.replace(new RegExp(n[r],"g"),"|"+n[r]);var i,o=e.split("|"),a=[],u=[],l=0,c=0,s=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<o.length;r++){var f=o[r],d=f.charAt(0);for(f=f.slice(1),u.length=0;i=s.exec(f);)u.push(i[0]);for(var h=[],p=0,v=u.length;p<v;p++){var g=parseFloat(u[p]);isNaN(g)?h.push(0):h.push(g)}for(;h.length>0&&!isNaN(h[0]);){var m,y,C,b,x,w,E,S,k,A,D=null,I=[],T=l,B=c;switch(d){case"l":l+=h.shift(),c+=h.shift(),D="L",I.push(l,c);break;case"L":l=h.shift(),c=h.shift(),I.push(l,c);break;case"m":var M=h.shift(),R=h.shift();if(l+=M,c+=R,D="M",a.length>2&&"z"===a[a.length-1].command)for(var L=a.length-2;L>=0;L--)if("M"===a[L].command){l=a[L].points[0]+M,c=a[L].points[1]+R;break}I.push(l,c),d="l";break;case"M":l=h.shift(),c=h.shift(),D="M",I.push(l,c),d="L";break;case"h":l+=h.shift(),D="L",I.push(l,c);break;case"H":l=h.shift(),D="L",I.push(l,c);break;case"v":c+=h.shift(),D="L",I.push(l,c);break;case"V":c=h.shift(),D="L",I.push(l,c);break;case"C":I.push(h.shift(),h.shift(),h.shift(),h.shift()),l=h.shift(),c=h.shift(),I.push(l,c);break;case"c":I.push(l+h.shift(),c+h.shift(),l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),D="C",I.push(l,c);break;case"S":y=l,C=c,"C"===(m=a[a.length-1]).command&&(y=l+(l-m.points[2]),C=c+(c-m.points[3])),I.push(y,C,h.shift(),h.shift()),l=h.shift(),c=h.shift(),D="C",I.push(l,c);break;case"s":y=l,C=c,"C"===(m=a[a.length-1]).command&&(y=l+(l-m.points[2]),C=c+(c-m.points[3])),I.push(y,C,l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),D="C",I.push(l,c);break;case"Q":I.push(h.shift(),h.shift()),l=h.shift(),c=h.shift(),I.push(l,c);break;case"q":I.push(l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),D="Q",I.push(l,c);break;case"T":y=l,C=c,"Q"===(m=a[a.length-1]).command&&(y=l+(l-m.points[0]),C=c+(c-m.points[1])),l=h.shift(),c=h.shift(),D="Q",I.push(y,C,l,c);break;case"t":y=l,C=c,"Q"===(m=a[a.length-1]).command&&(y=l+(l-m.points[0]),C=c+(c-m.points[1])),l+=h.shift(),c+=h.shift(),D="Q",I.push(y,C,l,c);break;case"A":b=h.shift(),x=h.shift(),w=h.shift(),E=h.shift(),S=h.shift(),k=l,A=c,l=h.shift(),c=h.shift(),D="A",I=this.convertEndpointToCenterParameterization(k,A,l,c,E,S,b,x,w);break;case"a":b=h.shift(),x=h.shift(),w=h.shift(),E=h.shift(),S=h.shift(),k=l,A=c,l+=h.shift(),c+=h.shift(),D="A",I=this.convertEndpointToCenterParameterization(k,A,l,c,E,S,b,x,w)}a.push({command:D||d,points:I,start:{x:T,y:B},pathLength:this.calcLength(T,B,D||d,I)})}"z"!==d&&"Z"!==d||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a},e.calcLength=function(t,n,r,i){var o,a,u,l,c=e;switch(r){case"L":return c.getLineLength(t,n,i[0],i[1]);case"C":for(o=0,a=c.getPointOnCubicBezier(0,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)u=c.getPointOnCubicBezier(l,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),o+=c.getLineLength(a.x,a.y,u.x,u.y),a=u;return o;case"Q":for(o=0,a=c.getPointOnQuadraticBezier(0,t,n,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)u=c.getPointOnQuadraticBezier(l,t,n,i[0],i[1],i[2],i[3]),o+=c.getLineLength(a.x,a.y,u.x,u.y),a=u;return o;case"A":o=0;var s=i[4],f=i[5],d=i[4]+f,h=Math.PI/180;if(Math.abs(s-d)<h&&(h=Math.abs(s-d)),a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),f<0)for(l=s-h;l>d;l-=h)u=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(a.x,a.y,u.x,u.y),a=u;else for(l=s+h;l<d;l+=h)u=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(a.x,a.y,u.x,u.y),a=u;return u=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),o+=c.getLineLength(a.x,a.y,u.x,u.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,n,r,i,o,a,u,l){var c=l*(Math.PI/180),s=Math.cos(c)*(t-n)/2+Math.sin(c)*(e-r)/2,f=-1*Math.sin(c)*(t-n)/2+Math.cos(c)*(e-r)/2,d=s*s/(a*a)+f*f/(u*u);d>1&&(a*=Math.sqrt(d),u*=Math.sqrt(d));var h=Math.sqrt((a*a*(u*u)-a*a*(f*f)-u*u*(s*s))/(a*a*(f*f)+u*u*(s*s)));i===o&&(h*=-1),isNaN(h)&&(h=0);var p=h*a*f/u,v=h*-u*s/a,g=(t+n)/2+Math.cos(c)*p-Math.sin(c)*v,m=(e+r)/2+Math.sin(c)*p+Math.cos(c)*v,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},C=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},b=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(C(t,e))},x=b([1,0],[(s-p)/a,(f-v)/u]),w=[(s-p)/a,(f-v)/u],E=[(-1*s-p)/a,(-1*f-v)/u],S=b(w,E);return C(w,E)<=-1&&(S=Math.PI),C(w,E)>=1&&(S=0),0===o&&S>0&&(S-=2*Math.PI),1===o&&S<0&&(S+=2*Math.PI),[g,m,a,u,x,S,c,o]},e}(u.Shape);e.Path=c,c.prototype.className="Path",c.prototype._attrsAffectingSize=["data"],l._registerNode(c),a.Factory.addGetterSetter(c,"data"),o.Collection.mapMethods(c)},89740:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(4880),c=n(36e3),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),n=this.width(),r=this.height();if(t.beginPath(),e){var i=0,o=0,a=0,u=0;"number"==typeof e?i=o=a=u=Math.min(e,n/2,r/2):(i=Math.min(e[0]||0,n/2,r/2),o=Math.min(e[1]||0,n/2,r/2),u=Math.min(e[2]||0,n/2,r/2),a=Math.min(e[3]||0,n/2,r/2)),t.moveTo(i,0),t.lineTo(n-o,0),t.arc(n-o,o,o,3*Math.PI/2,0,!1),t.lineTo(n,r-u),t.arc(n-u,r-u,u,0,Math.PI/2,!1),t.lineTo(a,r),t.arc(a,r-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,n,r);t.closePath(),t.fillStrokeShape(this)},e}(u.Shape);e.Rect=s,s.prototype.className="Rect",l._registerNode(s),a.Factory.addGetterSetter(s,"cornerRadius",0,c.getNumberOrArrayOfNumbersValidator(4)),o.Collection.mapMethods(s)},37996:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RegularPolygon=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(36e3),c=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.fillStrokeShape(this)},e.prototype._getPoints=function(){for(var t=this.attrs.sides,e=this.attrs.radius||0,n=[],r=0;r<t;r++)n.push({x:e*Math.sin(2*r*Math.PI/t),y:-1*e*Math.cos(2*r*Math.PI/t)});return n},e.prototype.getSelfRect=function(){var t=this._getPoints(),e=t[0].x,n=t[0].y,r=t[0].x,i=t[0].y;return t.forEach((function(t){e=Math.min(e,t.x),n=Math.max(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.y)})),{x:e,y:r,width:n-e,height:i-r}},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(u.Shape);e.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],c._registerNode(s),a.Factory.addGetterSetter(s,"radius",0,l.getNumberValidator()),a.Factory.addGetterSetter(s,"sides",0,l.getNumberValidator()),o.Collection.mapMethods(s)},91152:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Ring=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(36e3),c=n(4880),s=2*Math.PI,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,s,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),s,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(u.Shape);e.Ring=f,f.prototype.className="Ring",f.prototype._centroid=!0,f.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(f),a.Factory.addGetterSetter(f,"innerRadius",0,l.getNumberValidator()),a.Factory.addGetterSetter(f,"outerRadius",0,l.getNumberValidator()),o.Collection.mapMethods(f)},44004:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(7072),c=n(36e3),s=n(4880),f=function(t){function e(e){var n=t.call(this,e)||this;return n._updated=!0,n.anim=new l.Animation((function(){var t=n._updated;return n._updated=!1,t})),n.on("animationChange.konva",(function(){this.frameIndex(0)})),n.on("frameIndexChange.konva",(function(){this._updated=!0})),n.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),n}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[r+0],u=i[r+1],l=i[r+2],c=i[r+3],s=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,c),t.closePath(),t.fillStrokeShape(this)),s)if(o){var f=o[e],d=2*n;t.drawImage(s,a,u,l,c,f[d+0],f[d+1],l,c)}else t.drawImage(s,a,u,l,c,0,0,l,c)},e.prototype._hitFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[r+2],u=i[r+3];if(t.beginPath(),o){var l=o[e],c=2*n;t.rect(l[c+0],l[c+1],a,u)}else t.rect(0,0,a,u);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(u.Shape);e.Sprite=f,f.prototype.className="Sprite",s._registerNode(f),a.Factory.addGetterSetter(f,"animation"),a.Factory.addGetterSetter(f,"animations"),a.Factory.addGetterSetter(f,"frameOffsets"),a.Factory.addGetterSetter(f,"image"),a.Factory.addGetterSetter(f,"frameIndex",0,c.getNumberValidator()),a.Factory.addGetterSetter(f,"frameRate",17,c.getNumberValidator()),a.Factory.backCompat(f,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),o.Collection.mapMethods(f)},53632:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Star=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(36e3),c=n(4880),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*r;i++){var o=i%2==0?n:e,a=o*Math.sin(i*Math.PI/r),u=-1*o*Math.cos(i*Math.PI/r);t.lineTo(a,u)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(u.Shape);e.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(s),a.Factory.addGetterSetter(s,"numPoints",5,l.getNumberValidator()),a.Factory.addGetterSetter(s,"innerRadius",0,l.getNumberValidator()),a.Factory.addGetterSetter(s,"outerRadius",0,l.getNumberValidator()),o.Collection.mapMethods(s)},5176:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Text=e.stringToArray=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(4880),c=n(36e3),s=n(4880);function f(t){return Array.from(t)}e.stringToArray=f;var d,h="auto",p="justify",v="left",g="middle",m="normal",y=" ",C=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],b=C.length;function x(){return d||(d=o.Util.createCanvasElement().getContext("2d"))}var w=function(t){function e(e){var n=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;n._partialTextX=0,n._partialTextY=0;for(var r=0;r<b;r++)n.on(C[r]+"Change.konva",n._setTextData);return n._setTextData(),n}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.textArr,n=e.length;if(this.text()){var r,i=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,u=this.verticalAlign(),l=0,c=this.align(),s=this.getWidth(),d=this.letterSpacing(),h=this.fill(),m=this.textDecoration(),y=-1!==m.indexOf("underline"),C=-1!==m.indexOf("line-through"),b=0,x=(b=a/2,0),w=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",g),t.setAttr("textAlign",v),u===g?l=(this.getHeight()-n*a-2*i)/2:"bottom"===u&&(l=this.getHeight()-n*a-2*i),t.translate(i,l+i),r=0;r<n;r++){x=0,w=0;var E,S,k,A=e[r],D=A.text,I=A.width,T=r!==n-1;if(t.save(),"right"===c?x+=s-I-2*i:"center"===c&&(x+=(s-I-2*i)/2),y&&(t.save(),t.beginPath(),t.moveTo(x,b+w+Math.round(o/2)),S=0===(E=D.split(" ").length-1),k=c===p&&T&&!S?s-2*i:I,t.lineTo(x+Math.round(k),b+w+Math.round(o/2)),t.lineWidth=o/15,t.strokeStyle=h,t.stroke(),t.restore()),C&&(t.save(),t.beginPath(),t.moveTo(x,b+w),S=0===(E=D.split(" ").length-1),k=c===p&&T&&!S?s-2*i:I,t.lineTo(x+Math.round(k),b+w),t.lineWidth=o/15,t.strokeStyle=h,t.stroke(),t.restore()),0!==d||c===p){E=D.split(" ").length-1;for(var B=f(D),M=0;M<B.length;M++){var R=B[M];" "===R&&r!==n-1&&c===p&&(x+=(s-2*i-I)/E),this._partialTextX=x,this._partialTextY=b+w,this._partialText=R,t.fillStrokeShape(this),x+=this.measureSize(R).width+d}}else this._partialTextX=x,this._partialTextY=b+w,this._partialText=D,t.fillStrokeShape(this);t.restore(),n>1&&(b+=a)}}},e.prototype._hitFunc=function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=o.Util._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this},e.prototype.getWidth=function(){return this.attrs.width===h||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return this.attrs.height===h||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,n=x(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:r}},e.prototype._getContextFont=function(){return l.Konva.UA.isIE?this.fontStyle()+y+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+y+this.fontVariant()+y+(this.fontSize()+"px ")+this.fontFamily().split(",").map((function(t){var e=(t=t.trim()).indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!n&&(t='"'+t+'"'),t})).join(", ")},e.prototype._addTextLine=function(t){this.align()===p&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),n=t.length;return x().measureText(t).width+(n?e*(n-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,r=this.lineHeight()*e,i=this.attrs.width,o=this.attrs.height,a=i!==h&&void 0!==i,u=o!==h&&void 0!==o,l=this.padding(),c=i-2*l,s=o-2*l,f=0,d=this.wrap(),p="none"!==d,v="char"!==d&&p,g=this.ellipsis();this.textArr=[],x().font=this._getContextFont();for(var m=g?this._getTextWidth("…"):0,C=0,b=t.length;C<b;++C){var w=t[C],E=this._getTextWidth(w);if(a&&E>c)for(;w.length>0;){for(var S=0,k=w.length,A="",D=0;S<k;){var I=S+k>>>1,T=w.slice(0,I+1),B=this._getTextWidth(T)+m;B<=c?(S=I+1,A=T,D=B):k=I}if(!A)break;if(v){var M,R=w[A.length];(M=(R===y||"-"===R)&&D<=c?A.length:Math.max(A.lastIndexOf(y),A.lastIndexOf("-"))+1)>0&&(S=M,A=A.slice(0,S),D=this._getTextWidth(A))}if(A=A.trimRight(),this._addTextLine(A),n=Math.max(n,D),f+=r,!p||u&&f+r>s){var L=this.textArr[this.textArr.length-1];if(L)if(g)this._getTextWidth(L.text+"…")<c||(L.text=L.text.slice(0,L.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(L.text+"…");break}if((w=(w=w.slice(S)).trimLeft()).length>0&&(E=this._getTextWidth(w))<=c){this._addTextLine(w),f+=r,n=Math.max(n,E);break}}else this._addTextLine(w),f+=r,n=Math.max(n,E);if(u&&f+r>s)break}this.textHeight=e,this.textWidth=n},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(u.Shape);e.Text=w,w.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},w.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},w.prototype.className="Text",w.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],s._registerNode(w),a.Factory.overWriteSetter(w,"width",c.getNumberOrAutoValidator()),a.Factory.overWriteSetter(w,"height",c.getNumberOrAutoValidator()),a.Factory.addGetterSetter(w,"fontFamily","Arial"),a.Factory.addGetterSetter(w,"fontSize",12,c.getNumberValidator()),a.Factory.addGetterSetter(w,"fontStyle",m),a.Factory.addGetterSetter(w,"fontVariant",m),a.Factory.addGetterSetter(w,"padding",0,c.getNumberValidator()),a.Factory.addGetterSetter(w,"align",v),a.Factory.addGetterSetter(w,"verticalAlign","top"),a.Factory.addGetterSetter(w,"lineHeight",1,c.getNumberValidator()),a.Factory.addGetterSetter(w,"wrap","word"),a.Factory.addGetterSetter(w,"ellipsis",!1,c.getBooleanValidator()),a.Factory.addGetterSetter(w,"letterSpacing",0,c.getNumberValidator()),a.Factory.addGetterSetter(w,"text","",c.getStringValidator()),a.Factory.addGetterSetter(w,"textDecoration",""),o.Collection.mapMethods(w)},29112:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextPath=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(17948),c=n(5176),s=n(36e3),f=n(4880),d="normal";function h(t){t.fillText(this.partialText,0,0)}function p(t){t.strokeText(this.partialText,0,0)}var v=function(t){function e(e){var n=t.call(this,e)||this;return n.dummyCanvas=o.Util.createCanvasElement(),n.dataArray=[],n.dataArray=l.Path.parsePathData(n.attrs.data),n.on("dataChange.konva",(function(){this.dataArray=l.Path.parsePathData(this.attrs.data),this._setTextData()})),n.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",n._setTextData),e&&e.getKerning&&(o.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),n.kerningFunc(e.getKerning)),n._setTextData(),n}return i(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var o=0;o<i.length;o++){t.save();var a=i[o].p0;t.translate(a.x,a.y),t.rotate(i[o].rotation),this.partialText=i[o].text,t.fillStrokeShape(this),"underline"===e&&(0===o&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=r/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var r=0;r<e.length;r++){var i=e[r].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return c.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return c.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.letterSpacing(),r=this.align(),i=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var a=0,u=0;u<t.dataArray.length;u++)t.dataArray[u].pathLength>0&&(a+=t.dataArray[u].pathLength);var s=0;"center"===r&&(s=Math.max(0,a/2-o/2)),"right"===r&&(s=Math.max(0,a-o));for(var f,d,h,p=c.stringToArray(this.text()),v=this.text().split(" ").length-1,g=-1,m=0,y=function(){m=0;for(var e=t.dataArray,n=g+1;n<e.length;n++){if(e[n].pathLength>0)return g=n,e[n];"M"===e[n].command&&(f={x:e[n].points[0],y:e[n].points[1]})}return{}},C=function(e){var i=t._getTextSize(e).width+n;" "===e&&"justify"===r&&(i+=(a-o)/v);var u=0,c=0;for(d=void 0;Math.abs(i-u)/i>.01&&c<20;){c++;for(var s=u;void 0===h;)(h=y())&&s+h.pathLength<i&&(s+=h.pathLength,h=void 0);if(h==={}||void 0===f)return;var p=!1;switch(h.command){case"L":l.Path.getLineLength(f.x,f.y,h.points[0],h.points[1])>i?d=l.Path.getPointOnLine(i,f.x,f.y,h.points[0],h.points[1],f.x,f.y):h=void 0;break;case"A":var g=h.points[4],C=h.points[5],b=h.points[4]+C;0===m?m=g+1e-8:i>u?m+=Math.PI/180*C/Math.abs(C):m-=Math.PI/360*C/Math.abs(C),(C<0&&m<b||C>=0&&m>b)&&(m=b,p=!0),d=l.Path.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],m,h.points[6]);break;case"C":0===m?m=i>h.pathLength?1e-8:i/h.pathLength:i>u?m+=(i-u)/h.pathLength/2:m=Math.max(m-(u-i)/h.pathLength/2,0),m>1&&(m=1,p=!0),d=l.Path.getPointOnCubicBezier(m,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);break;case"Q":0===m?m=i/h.pathLength:i>u?m+=(i-u)/h.pathLength:m-=(u-i)/h.pathLength,m>1&&(m=1,p=!0),d=l.Path.getPointOnQuadraticBezier(m,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3])}void 0!==d&&(u=l.Path.getLineLength(f.x,f.y,d.x,d.y)),p&&(p=!1,h=void 0)}},b=s/(t._getTextSize("C").width+n)-1,x=0;x<b&&(C("C"),void 0!==f&&void 0!==d);x++)f=d;for(var w=0;w<p.length&&(C(p[w]),void 0!==f&&void 0!==d);w++){var E=l.Path.getLineLength(f.x,f.y,d.x,d.y),S=0;if(i)try{S=i(p[w-1],p[w])*this.fontSize()}catch(t){S=0}f.x+=S,d.x+=S,this.textWidth+=S;var k=l.Path.getPointOnLine(S+E/2,f.x,f.y,d.x,d.y),A=Math.atan2(d.y-f.y,d.x-f.x);this.glyphInfo.push({transposeX:k.x,transposeY:k.y,text:p[w],rotation:A,p0:f,p1:d}),f=d}},e.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,r=t[0]||0,i=t[0]||0,o=t[1]||0,a=t[1]||0,u=0;u<t.length/2;u++)e=t[2*u],n=t[2*u+1],r=Math.min(r,e),i=Math.max(i,e),o=Math.min(o,n),a=Math.max(a,n);var l=this.fontSize();return{x:r-l/2,y:o-l/2,width:i-r+l,height:a-o+l}},e}(u.Shape);e.TextPath=v,v.prototype._fillFunc=h,v.prototype._strokeFunc=p,v.prototype._fillFuncHit=h,v.prototype._strokeFuncHit=p,v.prototype.className="TextPath",v.prototype._attrsAffectingSize=["text","fontSize","data"],f._registerNode(v),a.Factory.addGetterSetter(v,"data"),a.Factory.addGetterSetter(v,"fontFamily","Arial"),a.Factory.addGetterSetter(v,"fontSize",12,s.getNumberValidator()),a.Factory.addGetterSetter(v,"fontStyle",d),a.Factory.addGetterSetter(v,"align","left"),a.Factory.addGetterSetter(v,"letterSpacing",0,s.getNumberValidator()),a.Factory.addGetterSetter(v,"textBaseline","middle"),a.Factory.addGetterSetter(v,"fontVariant",d),a.Factory.addGetterSetter(v,"text",""),a.Factory.addGetterSetter(v,"textDecoration",null),a.Factory.addGetterSetter(v,"kerningFunc",null),o.Collection.mapMethods(v)},51080:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Transformer=void 0;var a=n(90240),u=n(28176),l=n(47876),c=n(27668),s=n(89740),f=n(82048),d=n(4880),h=n(36e3),p=n(4880),v="tr-konva",g=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+"."+v})).join(" "),m="nodesRect",y=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+"."+v})).join(" "),C={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},b="ontouchstart"in d.Konva._global;var x=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function w(t,e,n){var r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return o(o({},t),{rotation:t.rotation+e,x:r,y:i})}function E(t,e){var n=function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t);return w(t,e,n)}var S=function(t){function e(e){var n=t.call(this,e)||this;return n._transforming=!1,n._createElements(),n._handleMouseMove=n._handleMouseMove.bind(n),n._handleMouseUp=n._handleMouseUp.bind(n),n.update=n.update.bind(n),n.on(g,n.update),n.getNode()&&n.update(),n}return i(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){return a.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])},e.prototype.getNode=function(){return this._nodes&&this._nodes[0]},e.prototype.setNodes=function(t){var e=this;return void 0===t&&(t=[]),this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((function(t){var n=t._attrsAffectingSize.map((function(t){return t+"Change."+v})).join(" "),r=function(){1===e.nodes().length&&e.rotation(e.nodes()[0].getAbsoluteRotation()),e._resetTransformCache(),e._transforming||e.isDragging()||e.update()};t.on(n,r),t.on(y,r),t.on("_clearTransformCache."+v,r),t.on("xChange."+v+" yChange."+v,r),e._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this},e.prototype._proxyDrag=function(t){var e,n=this;t.on("dragstart."+v,(function(r){e=t.getAbsolutePosition(),n.isDragging()||t===n.findOne(".back")||n.startDrag(r,!1)})),t.on("dragmove."+v,(function(r){if(e){var i=t.getAbsolutePosition(),o=i.x-e.x,a=i.y-e.y;n.nodes().forEach((function(e){if(e!==t&&!e.isDragging()){var n=e.getAbsolutePosition();e.setAbsolutePosition({x:n.x+o,y:n.y+a}),e.startDrag(r)}})),e=null}}))},e.prototype.getNodes=function(){return this._nodes||[]},e.prototype.getActiveAnchor=function(){return this._movingAnchorName},e.prototype.detach=function(){this._nodes&&this._nodes.forEach((function(t){t.off("."+v)})),this._nodes=[],this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache(m),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache(m,this.__getNodeRect)},e.prototype.__getNodeShape=function(t,e,n){void 0===e&&(e=this.rotation());var r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=t.getAbsoluteScale(n),o=t.getAbsolutePosition(n),a=r.x*i.x-t.offsetX()*i.x,u=r.y*i.y-t.offsetY()*i.y,l=(d.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return w({x:o.x+a*Math.cos(l)+u*Math.sin(-l),y:o.y+u*Math.cos(l)+a*Math.sin(l),width:r.width*i.x,height:r.height*i.y,rotation:l},-d.Konva.getAngle(e),{x:0,y:0})},e.prototype.__getNodeRect=function(){var t=this;if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};var e=[];this.nodes().map((function(n){var r=n.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:t.ignoreStroke()}),i=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],o=n.getAbsoluteTransform();i.forEach((function(t){var n=o.point(t);e.push(n)}))}));var n,r,i,o,u=new a.Transform;u.rotate(-d.Konva.getAngle(this.rotation())),e.forEach((function(t){var e=u.point(t);void 0===n&&(n=i=e.x,r=o=e.y),n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y)})),u.invert();var l=u.point({x:n,y:r});return{x:l.x,y:l.y,width:i-n,height:o-r,rotation:d.Konva.getAngle(this.rotation())}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),x.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,n=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:b?10:"auto"}),r=this;n.on("mousedown touchstart",(function(t){r._handleMouseDown(t)})),n.on("dragstart",(function(t){n.stopDrag(),t.cancelBubble=!0})),n.on("dragend",(function(t){t.cancelBubble=!0})),n.on("mouseenter",(function(){var r=d.Konva.getAngle(e.rotation()),i=function(t,e){if("rotater"===t)return"crosshair";e+=a.Util._degToRad(C[t]||0);var n=(a.Util._radToDeg(e)%360+360)%360;return a.Util._inRange(n,337.5,360)||a.Util._inRange(n,0,22.5)?"ns-resize":a.Util._inRange(n,22.5,67.5)?"nesw-resize":a.Util._inRange(n,67.5,112.5)?"ew-resize":a.Util._inRange(n,112.5,157.5)?"nwse-resize":a.Util._inRange(n,157.5,202.5)?"ns-resize":a.Util._inRange(n,202.5,247.5)?"nesw-resize":a.Util._inRange(n,247.5,292.5)?"ew-resize":a.Util._inRange(n,292.5,337.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(t,r);n.getStage().content.style.cursor=i,e._cursorChange=!0})),n.on("mouseout",(function(){n.getStage().content.style.cursor="",e._cursorChange=!1})),this.add(n)},e.prototype._createBack=function(){var t=this,e=new c.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc:function(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*a.Util._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:function(e,n){if(t.shouldOverdrawWholeArea()){var r=t.padding();e.beginPath(),e.rect(-r,-r,n.width()+2*r,n.height()+2*r),e.fillStrokeShape(n)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",(function(t){t.cancelBubble=!0})),e.on("dragmove",(function(t){t.cancelBubble=!0})),e.on("dragend",(function(t){t.cancelBubble=!0}))},e.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,r=e.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0;var o=t.target.getAbsolutePosition(),a=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this._nodes.forEach((function(e){e._fire("transformstart",{evt:t,target:e})}))},e.prototype._handleMouseMove=function(t){var e,n,r,i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(t);var a=o.getPointerPosition(),u={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},l=i.getAbsolutePosition();i.setAbsolutePosition(u);var c=i.getAbsolutePosition();if(l.x!==c.x||l.y!==c.y)if("rotater"!==this._movingAnchorName){var s=this.keepRatio()||t.shiftKey,f=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(s){var h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(h.x-i.x(),2)+Math.pow(h.y-i.y(),2));var p=this.findOne(".top-left").x()>h.x?-1:1,v=this.findOne(".top-left").y()>h.y?-1:1;e=r*this.cos*p,n=r*this.sin*v,this.findOne(".top-left").x(h.x-e),this.findOne(".top-left").y(h.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(s){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(i.x()-h.x,2)+Math.pow(h.y-i.y(),2));p=this.findOne(".top-right").x()<h.x?-1:1,v=this.findOne(".top-right").y()>h.y?-1:1;e=r*this.cos*p,n=r*this.sin*v,this.findOne(".top-right").x(h.x+e),this.findOne(".top-right").y(h.y-n)}var g=i.position();this.findOne(".top-left").y(g.y),this.findOne(".bottom-right").x(g.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(s){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(h.x-i.x(),2)+Math.pow(i.y()-h.y,2));p=h.x<i.x()?-1:1,v=i.y()<h.y?-1:1;e=r*this.cos*p,n=r*this.sin*v,i.x(h.x-e),i.y(h.y+n)}g=i.position(),this.findOne(".top-left").x(g.x),this.findOne(".bottom-right").y(g.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName&&s){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(i.x()-h.x,2)+Math.pow(i.y()-h.y,2));p=this.findOne(".bottom-right").x()<h.x?-1:1,v=this.findOne(".bottom-right").y()<h.y?-1:1;e=r*this.cos*p,n=r*this.sin*v,this.findOne(".bottom-right").x(h.x+e),this.findOne(".bottom-right").y(h.y+n)}if(f=this.centeredScaling()||t.altKey){var m=this.findOne(".top-left"),y=this.findOne(".bottom-right"),C=m.x(),b=m.y(),x=this.getWidth()-y.x(),w=this.getHeight()-y.y();y.move({x:-C,y:-b}),m.move({x:x,y:w})}var S=this.findOne(".top-left").getAbsolutePosition();e=S.x,n=S.y;var k=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),A=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:k,height:A,rotation:d.Konva.getAngle(this.rotation())},t)}else{var D=this._getNodeRect();e=i.x()-D.width/2,n=-i.y()+D.height/2;var I=Math.atan2(-n,e)+Math.PI/2;D.height<0&&(I-=Math.PI);var T=d.Konva.getAngle(this.rotation())+I,B=d.Konva.getAngle(this.rotationSnapTolerance()),M=function(t,e,n){for(var r=e,i=0;i<t.length;i++){var o=d.Konva.getAngle(t[i]),a=Math.abs(o-e)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=o)}return r}(this.rotationSnaps(),T,B),R=E(D,M-D.rotation);this._fitNodesInto(R,t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype.getAbsoluteTransform=function(){return this.getTransform()},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0);var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((function(e){e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}},e.prototype._fitNodesInto=function(t,e){var n=this,r=this._getNodeRect(),i=.1;if(a.Util._inRange(t.width,2*-this.padding()-i,i))this.update();else if(a.Util._inRange(t.height,2*-this.padding()-i,i))this.update();else{var o=new a.Transform;if(o.rotate(d.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){var u=o.point({x:2*-this.padding(),y:0});t.x+=u.x,t.y+=u.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){u=o.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,t.width+=2*this.padding()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){u=o.point({x:0,y:2*-this.padding()});t.x+=u.x,t.y+=u.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,t.height+=2*this.padding()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){u=o.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,t.height+=2*this.padding()}if(this.boundBoxFunc()){var l=this.boundBoxFunc()(r,t);l?t=l:a.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}var c=1e7,s=new a.Transform;s.translate(r.x,r.y),s.rotate(r.rotation),s.scale(r.width/c,r.height/c);var f=new a.Transform;f.translate(t.x,t.y),f.rotate(t.rotation),f.scale(t.width/c,t.height/c);var h=f.multiply(s.invert());this._nodes.forEach((function(t){var r,i=t.getParent().getAbsoluteTransform(),o=t.getTransform().copy();o.translate(t.offsetX(),t.offsetY());var u=new a.Transform;u.multiply(i.copy().invert()).multiply(h).multiply(i).multiply(o);var l=u.decompose();t.setAttrs(l),n._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(r=t.getLayer())||void 0===r||r.batchDraw()})),this.rotation(a.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype._batchChangeChild=function(t,e){this.findOne(t).setAttrs(e)},e.prototype.update=function(){var t,e=this,n=this._getNodeRect();this.rotation(a.Util._getRotation(n.rotation));var r=n.width,i=n.height,o=this.enabledAnchors(),u=this.resizeEnabled(),l=this.padding(),c=this.anchorSize();this.find("._anchor").each((function(t){t.setAttrs({width:c,height:c,offsetX:c/2,offsetY:c/2,stroke:e.anchorStroke(),strokeWidth:e.anchorStrokeWidth(),fill:e.anchorFill(),cornerRadius:e.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:c/2+l,offsetY:c/2+l,visible:u&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:c/2+l,visible:u&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:c/2-l,offsetY:c/2+l,visible:u&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:c/2+l,visible:u&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:c/2-l,visible:u&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:c/2+l,offsetY:c/2-l,visible:u&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:c/2-l,visible:u&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:c/2-l,offsetY:c/2-l,visible:u&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*a.Util._sign(i)-l,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),f.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return l.Node.prototype.toObject.call(this)},e}(f.Group);e.Transformer=S,S.prototype.className="Transformer",p._registerNode(S),u.Factory.addGetterSetter(S,"enabledAnchors",x,(function(t){return t instanceof Array||a.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===x.indexOf(t)&&a.Util.warn("Unknown anchor name: "+t+". Available names are: "+x.join(", "))})),t||[]})),u.Factory.addGetterSetter(S,"resizeEnabled",!0),u.Factory.addGetterSetter(S,"anchorSize",10,h.getNumberValidator()),u.Factory.addGetterSetter(S,"rotateEnabled",!0),u.Factory.addGetterSetter(S,"rotationSnaps",[]),u.Factory.addGetterSetter(S,"rotateAnchorOffset",50,h.getNumberValidator()),u.Factory.addGetterSetter(S,"rotationSnapTolerance",5,h.getNumberValidator()),u.Factory.addGetterSetter(S,"borderEnabled",!0),u.Factory.addGetterSetter(S,"anchorStroke","rgb(0, 161, 255)"),u.Factory.addGetterSetter(S,"anchorStrokeWidth",1,h.getNumberValidator()),u.Factory.addGetterSetter(S,"anchorFill","white"),u.Factory.addGetterSetter(S,"anchorCornerRadius",0,h.getNumberValidator()),u.Factory.addGetterSetter(S,"borderStroke","rgb(0, 161, 255)"),u.Factory.addGetterSetter(S,"borderStrokeWidth",1,h.getNumberValidator()),u.Factory.addGetterSetter(S,"borderDash"),u.Factory.addGetterSetter(S,"keepRatio",!0),u.Factory.addGetterSetter(S,"centeredScaling",!1),u.Factory.addGetterSetter(S,"ignoreStroke",!1),u.Factory.addGetterSetter(S,"padding",0,h.getNumberValidator()),u.Factory.addGetterSetter(S,"node"),u.Factory.addGetterSetter(S,"nodes"),u.Factory.addGetterSetter(S,"boundBoxFunc"),u.Factory.addGetterSetter(S,"shouldOverdrawWholeArea",!1),u.Factory.backCompat(S,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),a.Collection.mapMethods(S)},63764:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Wedge=void 0;var o=n(90240),a=n(28176),u=n(27668),l=n(4880),c=n(36e3),s=n(4880),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,l.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(u.Shape);e.Wedge=f,f.prototype.className="Wedge",f.prototype._centroid=!0,f.prototype._attrsAffectingSize=["radius"],s._registerNode(f),a.Factory.addGetterSetter(f,"radius",0,c.getNumberValidator()),a.Factory.addGetterSetter(f,"angle",0,c.getNumberValidator()),a.Factory.addGetterSetter(f,"clockwise",!1),a.Factory.backCompat(f,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),o.Collection.mapMethods(f)},73972:function(t,e,n){var r=n(99088).Symbol;t.exports=r},57596:function(t,e,n){var r=n(73972),i=n(30712),o=n(22640),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},83900:function(t,e,n){var r=n(63296),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},67400:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},30712:function(t,e,n){var r=n(73972),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[u]=n:delete t[u]),i}},22640:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},99088:function(t,e,n){var r=n(67400),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},63296:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},94608:function(t,e,n){var r=n(50636),i=n(21192),o=n(40080),a=Math.max,u=Math.min;t.exports=function(t,e,n){var l,c,s,f,d,h,p=0,v=!1,g=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=l,r=c;return l=c=void 0,p=e,f=t.apply(r,n)}function C(t){var n=t-h;return void 0===h||n>=e||n<0||g&&t-p>=s}function b(){var t=i();if(C(t))return x(t);d=setTimeout(b,function(t){var n=e-(t-h);return g?u(n,s-(t-p)):n}(t))}function x(t){return d=void 0,m&&l?y(t):(l=c=void 0,f)}function w(){var t=i(),n=C(t);if(l=arguments,c=this,h=t,n){if(void 0===d)return function(t){return p=t,d=setTimeout(b,e),v?y(t):f}(h);if(g)return clearTimeout(d),d=setTimeout(b,e),y(h)}return void 0===d&&(d=setTimeout(b,e)),f}return e=o(e)||0,r(n)&&(v=!!n.leading,s=(g="maxWait"in n)?a(o(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m),w.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=h=c=d=void 0},w.flush=function(){return void 0===d?f:x(i())},w}},50636:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},28152:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},47432:function(t,e,n){var r=n(57596),i=n(28152);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},45548:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",l=16,c=32,s=64,f=128,d=256,h=1/0,p=9007199254740991,v=NaN,g=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",s],["rearg",d]],y="[object Arguments]",C="[object Array]",b="[object Boolean]",x="[object Date]",w="[object Error]",E="[object Function]",S="[object GeneratorFunction]",k="[object Map]",A="[object Number]",D="[object Object]",I="[object Promise]",T="[object RegExp]",B="[object Set]",M="[object String]",R="[object Symbol]",L="[object WeakMap]",F="[object ArrayBuffer]",_="[object DataView]",P="[object Float32Array]",N="[object Float64Array]",O="[object Int8Array]",j="[object Int16Array]",G="[object Int32Array]",U="[object Uint8Array]",z="[object Uint8ClampedArray]",Z="[object Uint16Array]",Q="[object Uint32Array]",W=/\b__p \+= '';/g,J=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,q=RegExp(H.source),Y=RegExp(K.source),X=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),at=/^\s+/,ut=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,Ct=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,Et=/['\n\r\u2028\u2029\\]/g,St="\\ud800-\\udfff",kt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",At="\\u2700-\\u27bf",Dt="a-z\\xdf-\\xf6\\xf8-\\xff",It="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\ufe0e\\ufe0f",Bt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt="['’]",Rt="["+St+"]",Lt="["+Bt+"]",Ft="["+kt+"]",_t="\\d+",Pt="["+At+"]",Nt="["+Dt+"]",Ot="[^"+St+Bt+_t+At+Dt+It+"]",jt="\\ud83c[\\udffb-\\udfff]",Gt="[^"+St+"]",Ut="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Zt="["+It+"]",Qt="\\u200d",Wt="(?:"+Nt+"|"+Ot+")",Jt="(?:"+Zt+"|"+Ot+")",Vt="(?:['’](?:d|ll|m|re|s|t|ve))?",Ht="(?:['’](?:D|LL|M|RE|S|T|VE))?",Kt="(?:"+Ft+"|"+jt+")"+"?",qt="["+Tt+"]?",Yt=qt+Kt+("(?:"+Qt+"(?:"+[Gt,Ut,zt].join("|")+")"+qt+Kt+")*"),Xt="(?:"+[Pt,Ut,zt].join("|")+")"+Yt,$t="(?:"+[Gt+Ft+"?",Ft,Ut,zt,Rt].join("|")+")",te=RegExp(Mt,"g"),ee=RegExp(Ft,"g"),ne=RegExp(jt+"(?="+jt+")|"+$t+Yt,"g"),re=RegExp([Zt+"?"+Nt+"+"+Vt+"(?="+[Lt,Zt,"$"].join("|")+")",Jt+"+"+Ht+"(?="+[Lt,Zt+Wt,"$"].join("|")+")",Zt+"?"+Wt+"+"+Vt,Zt+"+"+Ht,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_t,Xt].join("|"),"g"),ie=RegExp("["+Qt+St+kt+Tt+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ue=-1,le={};le[P]=le[N]=le[O]=le[j]=le[G]=le[U]=le[z]=le[Z]=le[Q]=!0,le[y]=le[C]=le[F]=le[b]=le[_]=le[x]=le[w]=le[E]=le[k]=le[A]=le[D]=le[T]=le[B]=le[M]=le[L]=!1;var ce={};ce[y]=ce[C]=ce[F]=ce[_]=ce[b]=ce[x]=ce[P]=ce[N]=ce[O]=ce[j]=ce[G]=ce[k]=ce[A]=ce[D]=ce[T]=ce[B]=ce[M]=ce[R]=ce[U]=ce[z]=ce[Z]=ce[Q]=!0,ce[w]=ce[E]=ce[L]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,de=parseInt,he="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pe="object"==typeof self&&self&&self.Object===Object&&self,ve=he||pe||Function("return this")(),ge=e&&!e.nodeType&&e,me=ge&&t&&!t.nodeType&&t,ye=me&&me.exports===ge,Ce=ye&&he.process,be=function(){try{var t=me&&me.require&&me.require("util").types;return t||Ce&&Ce.binding&&Ce.binding("util")}catch(t){}}(),xe=be&&be.isArrayBuffer,we=be&&be.isDate,Ee=be&&be.isMap,Se=be&&be.isRegExp,ke=be&&be.isSet,Ae=be&&be.isTypedArray;function De(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ie(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Te(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Be(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Re(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Le(t,e){return!!(null==t?0:t.length)&&Ze(t,e,0)>-1}function Fe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function _e(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Pe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ne(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Oe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ge=Ve("length");function Ue(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function ze(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ze(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):ze(t,We,n)}function Qe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function We(t){return t!=t}function Je(t,e){var n=null==t?0:t.length;return n?qe(t,e)/n:v}function Ve(t){return function(e){return null==e?i:e[t]}}function He(t){return function(e){return null==t?i:t[e]}}function Ke(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function qe(t,e){for(var n,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function Ye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Xe(t){return t?t.slice(0,gn(t)+1).replace(at,""):t}function $e(t){return function(e){return t(e)}}function tn(t,e){return _e(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&Ze(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&Ze(e,t[n],0)>-1;);return n}var on=He({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=He({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(t){return"\\"+se[t]}function ln(t){return ie.test(t)}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function sn(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==u||(t[n]=u,o[i++]=n)}return o}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return ln(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Ge(t)}function vn(t){return ln(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&ut.test(t.charAt(e)););return e}var mn=He({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(e){var n,r=(e=null==e?ve:yn.defaults(ve.Object(),e,yn.pick(ve,ae))).Array,ut=e.Date,St=e.Error,kt=e.Function,At=e.Math,Dt=e.Object,It=e.RegExp,Tt=e.String,Bt=e.TypeError,Mt=r.prototype,Rt=kt.prototype,Lt=Dt.prototype,Ft=e["__core-js_shared__"],_t=Rt.toString,Pt=Lt.hasOwnProperty,Nt=0,Ot=(n=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",jt=Lt.toString,Gt=_t.call(Dt),Ut=ve._,zt=It("^"+_t.call(Pt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=ye?e.Buffer:i,Qt=e.Symbol,Wt=e.Uint8Array,Jt=Zt?Zt.allocUnsafe:i,Vt=sn(Dt.getPrototypeOf,Dt),Ht=Dt.create,Kt=Lt.propertyIsEnumerable,qt=Mt.splice,Yt=Qt?Qt.isConcatSpreadable:i,Xt=Qt?Qt.iterator:i,$t=Qt?Qt.toStringTag:i,ne=function(){try{var t=ho(Dt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ie=e.clearTimeout!==ve.clearTimeout&&e.clearTimeout,se=ut&&ut.now!==ve.Date.now&&ut.now,he=e.setTimeout!==ve.setTimeout&&e.setTimeout,pe=At.ceil,ge=At.floor,me=Dt.getOwnPropertySymbols,Ce=Zt?Zt.isBuffer:i,be=e.isFinite,Ge=Mt.join,He=sn(Dt.keys,Dt),Cn=At.max,bn=At.min,xn=ut.now,wn=e.parseInt,En=At.random,Sn=Mt.reverse,kn=ho(e,"DataView"),An=ho(e,"Map"),Dn=ho(e,"Promise"),In=ho(e,"Set"),Tn=ho(e,"WeakMap"),Bn=ho(Dt,"create"),Mn=Tn&&new Tn,Rn={},Ln=jo(kn),Fn=jo(An),_n=jo(Dn),Pn=jo(In),Nn=jo(Tn),On=Qt?Qt.prototype:i,jn=On?On.valueOf:i,Gn=On?On.toString:i;function Un(t){if(nu(t)&&!Wa(t)&&!(t instanceof Wn)){if(t instanceof Qn)return t;if(Pt.call(t,"__wrapped__"))return Go(t)}return new Qn(t)}var zn=function(){function t(){}return function(e){if(!eu(e))return{};if(Ht)return Ht(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Zn(){}function Qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Wn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Jn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Hn;++e<n;)this.add(t[e])}function qn(t){var e=this.__data__=new Vn(t);this.size=e.size}function Yn(t,e){var n=Wa(t),r=!n&&Qa(t),i=!n&&!r&&Ka(t),o=!n&&!r&&!i&&su(t),a=n||r||i||o,u=a?Ye(t.length,Tt):[],l=u.length;for(var c in t)!e&&!Pt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,l))||u.push(c);return u}function Xn(t){var e=t.length;return e?t[Kr(0,e-1)]:i}function $n(t,e){return Po(Bi(t),lr(e,0,t.length))}function tr(t){return Po(Bi(t))}function er(t,e,n){(n!==i&&!Ua(t[e],n)||n===i&&!(e in t))&&ar(t,e,n)}function nr(t,e,n){var r=t[e];Pt.call(t,e)&&Ua(r,n)&&(n!==i||e in t)||ar(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if(Ua(t[n][0],e))return n;return-1}function ir(t,e,n,r){return hr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function or(t,e){return t&&Mi(e,Ru(e),t)}function ar(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ur(t,e){for(var n=-1,o=e.length,a=r(o),u=null==t;++n<o;)a[n]=u?i:Du(t,e[n]);return a}function lr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function cr(t,e,n,r,o,a){var u,l=1&e,c=2&e,s=4&e;if(n&&(u=o?n(t,r,o,a):n(t)),u!==i)return u;if(!eu(t))return t;var f=Wa(t);if(f){if(u=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Pt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!l)return Bi(t,u)}else{var d=go(t),h=d==E||d==S;if(Ka(t))return Si(t,l);if(d==D||d==y||h&&!o){if(u=c||h?{}:yo(t),!l)return c?function(t,e){return Mi(t,vo(t),e)}(t,function(t,e){return t&&Mi(e,Lu(e),t)}(u,t)):function(t,e){return Mi(t,po(t),e)}(t,or(u,t))}else{if(!ce[d])return o?t:{};u=function(t,e,n){var r=t.constructor;switch(e){case F:return ki(t);case b:case x:return new r(+t);case _:return function(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case P:case N:case O:case j:case G:case U:case z:case Z:case Q:return Ai(t,n);case k:return new r;case A:case M:return new r(t);case T:return function(t){var e=new t.constructor(t.source,vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case B:return new r;case R:return i=t,jn?Dt(jn.call(i)):{}}var i}(t,d,l)}}a||(a=new qn);var p=a.get(t);if(p)return p;a.set(t,u),uu(t)?t.forEach((function(r){u.add(cr(r,e,n,r,t,a))})):ru(t)&&t.forEach((function(r,i){u.set(i,cr(r,e,n,i,t,a))}));var v=f?i:(s?c?oo:io:c?Lu:Ru)(t);return Te(v||t,(function(r,i){v&&(r=t[i=r]),nr(u,i,cr(r,e,n,i,t,a))})),u}function sr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Dt(t);r--;){var o=n[r],a=e[o],u=t[o];if(u===i&&!(o in t)||!a(u))return!1}return!0}function fr(t,e,n){if("function"!=typeof t)throw new Bt(o);return Ro((function(){t.apply(i,n)}),e)}function dr(t,e,n,r){var i=-1,o=Le,a=!0,u=t.length,l=[],c=e.length;if(!u)return l;n&&(e=_e(e,$e(n))),r?(o=Fe,a=!1):e.length>=200&&(o=en,a=!1,e=new Kn(e));t:for(;++i<u;){var s=t[i],f=null==n?s:n(s);if(s=r||0!==s?s:0,a&&f==f){for(var d=c;d--;)if(e[d]===f)continue t;l.push(s)}else o(e,f,r)||l.push(s)}return l}Un.templateSettings={escape:X,evaluate:$,interpolate:tt,variable:"",imports:{_:Un}},Un.prototype=Zn.prototype,Un.prototype.constructor=Un,Qn.prototype=zn(Zn.prototype),Qn.prototype.constructor=Qn,Wn.prototype=zn(Zn.prototype),Wn.prototype.constructor=Wn,Jn.prototype.clear=function(){this.__data__=Bn?Bn(null):{},this.size=0},Jn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Jn.prototype.get=function(t){var e=this.__data__;if(Bn){var n=e[t];return n===a?i:n}return Pt.call(e,t)?e[t]:i},Jn.prototype.has=function(t){var e=this.__data__;return Bn?e[t]!==i:Pt.call(e,t)},Jn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Bn&&e===i?a:e,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():qt.call(e,n,1),--this.size,!0)},Vn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?i:e[n][1]},Vn.prototype.has=function(t){return rr(this.__data__,t)>-1},Vn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Jn,map:new(An||Vn),string:new Jn}},Hn.prototype.delete=function(t){var e=so(this,t).delete(t);return this.size-=e?1:0,e},Hn.prototype.get=function(t){return so(this,t).get(t)},Hn.prototype.has=function(t){return so(this,t).has(t)},Hn.prototype.set=function(t,e){var n=so(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(t){return this.__data__.set(t,a),this},Kn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.clear=function(){this.__data__=new Vn,this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},qn.prototype.get=function(t){return this.__data__.get(t)},qn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!An||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(t,e),this.size=n.size,this};var hr=Fi(xr),pr=Fi(wr,!0);function vr(t,e){var n=!0;return hr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function gr(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],u=e(a);if(null!=u&&(l===i?u==u&&!cu(u):n(u,l)))var l=u,c=a}return c}function mr(t,e){var n=[];return hr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function yr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Co),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?yr(u,e-1,n,r,i):Pe(i,u):r||(i[i.length]=u)}return i}var Cr=_i(),br=_i(!0);function xr(t,e){return t&&Cr(t,e,Ru)}function wr(t,e){return t&&br(t,e,Ru)}function Er(t,e){return Re(e,(function(e){return Xa(t[e])}))}function Sr(t,e){for(var n=0,r=(e=bi(e,t)).length;null!=t&&n<r;)t=t[Oo(e[n++])];return n&&n==r?t:i}function kr(t,e,n){var r=e(t);return Wa(t)?r:Pe(r,n(t))}function Ar(t){return null==t?t===i?"[object Undefined]":"[object Null]":$t&&$t in Dt(t)?function(t){var e=Pt.call(t,$t),n=t[$t];try{t[$t]=i;var r=!0}catch(t){}var o=jt.call(t);r&&(e?t[$t]=n:delete t[$t]);return o}(t):function(t){return jt.call(t)}(t)}function Dr(t,e){return t>e}function Ir(t,e){return null!=t&&Pt.call(t,e)}function Tr(t,e){return null!=t&&e in Dt(t)}function Br(t,e,n){for(var o=n?Fe:Le,a=t[0].length,u=t.length,l=u,c=r(u),s=1/0,f=[];l--;){var d=t[l];l&&e&&(d=_e(d,$e(e))),s=bn(d.length,s),c[l]=!n&&(e||a>=120&&d.length>=120)?new Kn(l&&d):i}d=t[0];var h=-1,p=c[0];t:for(;++h<a&&f.length<s;){var v=d[h],g=e?e(v):v;if(v=n||0!==v?v:0,!(p?en(p,g):o(f,g,n))){for(l=u;--l;){var m=c[l];if(!(m?en(m,g):o(t[l],g,n)))continue t}p&&p.push(g),f.push(v)}}return f}function Mr(t,e,n){var r=null==(t=To(t,e=bi(e,t)))?t:t[Oo(Yo(e))];return null==r?i:De(r,t,n)}function Rr(t){return nu(t)&&Ar(t)==y}function Lr(t,e,n,r,o){return t===e||(null==t||null==e||!nu(t)&&!nu(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var u=Wa(t),l=Wa(e),c=u?C:go(t),s=l?C:go(e),f=(c=c==y?D:c)==D,d=(s=s==y?D:s)==D,h=c==s;if(h&&Ka(t)){if(!Ka(e))return!1;u=!0,f=!1}if(h&&!f)return a||(a=new qn),u||su(t)?no(t,e,n,r,o,a):function(t,e,n,r,i,o,a){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case F:return!(t.byteLength!=e.byteLength||!o(new Wt(t),new Wt(e)));case b:case x:case A:return Ua(+t,+e);case w:return t.name==e.name&&t.message==e.message;case T:case M:return t==e+"";case k:var u=cn;case B:var l=1&r;if(u||(u=dn),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var s=no(u(t),u(e),r,i,o,a);return a.delete(t),s;case R:if(jn)return jn.call(t)==jn.call(e)}return!1}(t,e,c,n,r,o,a);if(!(1&n)){var p=f&&Pt.call(t,"__wrapped__"),v=d&&Pt.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,m=v?e.value():e;return a||(a=new qn),o(g,m,n,r,a)}}if(!h)return!1;return a||(a=new qn),function(t,e,n,r,o,a){var u=1&n,l=io(t),c=l.length,s=io(e),f=s.length;if(c!=f&&!u)return!1;var d=c;for(;d--;){var h=l[d];if(!(u?h in e:Pt.call(e,h)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);var m=u;for(;++d<c;){var y=t[h=l[d]],C=e[h];if(r)var b=u?r(C,y,h,e,t,a):r(y,C,h,t,e,a);if(!(b===i?y===C||o(y,C,n,r,a):b)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(t),a.delete(e),g}(t,e,n,r,o,a)}(t,e,n,r,Lr,o))}function Fr(t,e,n,r){var o=n.length,a=o,u=!r;if(null==t)return!a;for(t=Dt(t);o--;){var l=n[o];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<a;){var c=(l=n[o])[0],s=t[c],f=l[1];if(u&&l[2]){if(s===i&&!(c in t))return!1}else{var d=new qn;if(r)var h=r(s,f,c,t,e,d);if(!(h===i?Lr(f,s,3,r,d):h))return!1}}return!0}function _r(t){return!(!eu(t)||(e=t,Ot&&Ot in e))&&(Xa(t)?zt:yt).test(jo(t));var e}function Pr(t){return"function"==typeof t?t:null==t?il:"object"==typeof t?Wa(t)?zr(t[0],t[1]):Ur(t):hl(t)}function Nr(t){if(!ko(t))return He(t);var e=[];for(var n in Dt(t))Pt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Or(t){if(!eu(t))return function(t){var e=[];if(null!=t)for(var n in Dt(t))e.push(n);return e}(t);var e=ko(t),n=[];for(var r in t)("constructor"!=r||!e&&Pt.call(t,r))&&n.push(r);return n}function jr(t,e){return t<e}function Gr(t,e){var n=-1,i=Va(t)?r(t.length):[];return hr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Ur(t){var e=fo(t);return 1==e.length&&e[0][2]?Do(e[0][0],e[0][1]):function(n){return n===t||Fr(n,t,e)}}function zr(t,e){return wo(t)&&Ao(e)?Do(Oo(t),e):function(n){var r=Du(n,t);return r===i&&r===e?Iu(n,t):Lr(e,r,3)}}function Zr(t,e,n,r,o){t!==e&&Cr(e,(function(a,u){if(o||(o=new qn),eu(a))!function(t,e,n,r,o,a,u){var l=Bo(t,n),c=Bo(e,n),s=u.get(c);if(s)return void er(t,n,s);var f=a?a(l,c,n+"",t,e,u):i,d=f===i;if(d){var h=Wa(c),p=!h&&Ka(c),v=!h&&!p&&su(c);f=c,h||p||v?Wa(l)?f=l:Ha(l)?f=Bi(l):p?(d=!1,f=Si(c,!0)):v?(d=!1,f=Ai(c,!0)):f=[]:ou(c)||Qa(c)?(f=l,Qa(l)?f=yu(l):eu(l)&&!Xa(l)||(f=yo(c))):d=!1}d&&(u.set(c,f),o(f,c,r,a,u),u.delete(c));er(t,n,f)}(t,e,u,n,Zr,r,o);else{var l=r?r(Bo(t,u),a,u+"",t,e,o):i;l===i&&(l=a),er(t,u,l)}}),Lu)}function Qr(t,e){var n=t.length;if(n)return bo(e+=e<0?n:0,n)?t[e]:i}function Wr(t,e,n){e=e.length?_e(e,(function(t){return Wa(t)?function(e){return Sr(e,1===t.length?t[0]:t)}:t})):[il];var r=-1;e=_e(e,$e(co()));var i=Gr(t,(function(t,n,i){var o=_e(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var l=Di(i[r],o[r]);if(l)return r>=u?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Jr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Sr(t,a);n(u,a)&&ti(o,bi(a,t),u)}return o}function Vr(t,e,n,r){var i=r?Qe:Ze,o=-1,a=e.length,u=t;for(t===e&&(e=Bi(e)),n&&(u=_e(t,$e(n)));++o<a;)for(var l=0,c=e[o],s=n?n(c):c;(l=i(u,s,l,r))>-1;)u!==t&&qt.call(u,l,1),qt.call(t,l,1);return t}function Hr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;bo(i)?qt.call(t,i,1):di(t,i)}}return t}function Kr(t,e){return t+ge(En()*(e-t+1))}function qr(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=ge(e/2))&&(t+=t)}while(e);return n}function Yr(t,e){return Lo(Io(t,e,il),t+"")}function Xr(t){return Xn(Uu(t))}function $r(t,e){var n=Uu(t);return Po(n,lr(e,0,n.length))}function ti(t,e,n,r){if(!eu(t))return t;for(var o=-1,a=(e=bi(e,t)).length,u=a-1,l=t;null!=l&&++o<a;){var c=Oo(e[o]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=u){var f=l[c];(s=r?r(f,c,l):i)===i&&(s=eu(f)?f:bo(e[o+1])?[]:{})}nr(l,c,s),l=l[c]}return t}var ei=Mn?function(t,e){return Mn.set(t,e),t}:il,ni=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:il;function ri(t){return Po(Uu(t))}function ii(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function oi(t,e){var n;return hr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!cu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ui(t,e,il,n)}function ui(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var u=(e=n(e))!=e,l=null===e,c=cu(e),s=e===i;o<a;){var f=ge((o+a)/2),d=n(t[f]),h=d!==i,p=null===d,v=d==d,g=cu(d);if(u)var m=r||v;else m=s?v&&(r||h):l?v&&h&&(r||!p):c?v&&h&&!p&&(r||!g):!p&&!g&&(r?d<=e:d<e);m?o=f+1:a=f}return bn(a,4294967294)}function li(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Ua(u,l)){var l=u;o[i++]=0===a?0:a}}return o}function ci(t){return"number"==typeof t?t:cu(t)?v:+t}function si(t){if("string"==typeof t)return t;if(Wa(t))return _e(t,si)+"";if(cu(t))return Gn?Gn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fi(t,e,n){var r=-1,i=Le,o=t.length,a=!0,u=[],l=u;if(n)a=!1,i=Fe;else if(o>=200){var c=e?null:qi(t);if(c)return dn(c);a=!1,i=en,l=new Kn}else l=e?[]:u;t:for(;++r<o;){var s=t[r],f=e?e(s):s;if(s=n||0!==s?s:0,a&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue t;e&&l.push(f),u.push(s)}else i(l,f,n)||(l!==u&&l.push(f),u.push(s))}return u}function di(t,e){return null==(t=To(t,e=bi(e,t)))||delete t[Oo(Yo(e))]}function hi(t,e,n,r){return ti(t,e,n(Sr(t,e)),r)}function pi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function vi(t,e){var n=t;return n instanceof Wn&&(n=n.value()),Ne(e,(function(t,e){return e.func.apply(e.thisArg,Pe([t],e.args))}),n)}function gi(t,e,n){var i=t.length;if(i<2)return i?fi(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],l=-1;++l<i;)l!=o&&(a[o]=dr(a[o]||u,t[l],e,n));return fi(yr(a,1),e,n)}function mi(t,e,n){for(var r=-1,o=t.length,a=e.length,u={};++r<o;){var l=r<a?e[r]:i;n(u,t[r],l)}return u}function yi(t){return Ha(t)?t:[]}function Ci(t){return"function"==typeof t?t:il}function bi(t,e){return Wa(t)?t:wo(t,e)?[t]:No(Cu(t))}var xi=Yr;function wi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ii(t,e,n)}var Ei=ie||function(t){return ve.clearTimeout(t)};function Si(t,e){if(e)return t.slice();var n=t.length,r=Jt?Jt(n):new t.constructor(n);return t.copy(r),r}function ki(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function Ai(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Di(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,a=cu(t),u=e!==i,l=null===e,c=e==e,s=cu(e);if(!l&&!s&&!a&&t>e||a&&u&&c&&!l&&!s||r&&u&&c||!n&&c||!o)return 1;if(!r&&!a&&!s&&t<e||s&&n&&o&&!r&&!a||l&&n&&o||!u&&o||!c)return-1}return 0}function Ii(t,e,n,i){for(var o=-1,a=t.length,u=n.length,l=-1,c=e.length,s=Cn(a-u,0),f=r(c+s),d=!i;++l<c;)f[l]=e[l];for(;++o<u;)(d||o<a)&&(f[n[o]]=t[o]);for(;s--;)f[l++]=t[o++];return f}function Ti(t,e,n,i){for(var o=-1,a=t.length,u=-1,l=n.length,c=-1,s=e.length,f=Cn(a-l,0),d=r(f+s),h=!i;++o<f;)d[o]=t[o];for(var p=o;++c<s;)d[p+c]=e[c];for(;++u<l;)(h||o<a)&&(d[p+n[u]]=t[o++]);return d}function Bi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Mi(t,e,n,r){var o=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var l=e[a],c=r?r(n[l],t[l],l,n,t):i;c===i&&(c=t[l]),o?ar(n,l,c):nr(n,l,c)}return n}function Ri(t,e){return function(n,r){var i=Wa(n)?Ie:ir,o=e?e():{};return i(n,t,co(r,2),o)}}function Li(t){return Yr((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,u=o>2?n[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,u&&xo(n[0],n[1],u)&&(a=o<3?i:a,o=1),e=Dt(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e}))}function Fi(t,e){return function(n,r){if(null==n)return n;if(!Va(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Dt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function _i(t){return function(e,n,r){for(var i=-1,o=Dt(e),a=r(e),u=a.length;u--;){var l=a[t?u:++i];if(!1===n(o[l],l,o))break}return e}}function Pi(t){return function(e){var n=ln(e=Cu(e))?vn(e):i,r=n?n[0]:e.charAt(0),o=n?wi(n,1).join(""):e.slice(1);return r[t]()+o}}function Ni(t){return function(e){return Ne(Xu(Qu(e).replace(te,"")),t,"")}}function Oi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=zn(t.prototype),r=t.apply(n,e);return eu(r)?r:n}}function ji(t){return function(e,n,r){var o=Dt(e);if(!Va(e)){var a=co(n,3);e=Ru(e),n=function(t){return a(o[t],t,o)}}var u=t(e,n,r);return u>-1?o[a?e[u]:u]:i}}function Gi(t){return ro((function(e){var n=e.length,r=n,a=Qn.prototype.thru;for(t&&e.reverse();r--;){var u=e[r];if("function"!=typeof u)throw new Bt(o);if(a&&!l&&"wrapper"==uo(u))var l=new Qn([],!0)}for(r=l?r:n;++r<n;){var c=uo(u=e[r]),s="wrapper"==c?ao(u):i;l=s&&Eo(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?l[uo(s[0])].apply(l,s[3]):1==u.length&&Eo(u)?l[c]():l.thru(u)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&Wa(r))return l.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ui(t,e,n,o,a,u,l,c,s,d){var h=e&f,p=1&e,v=2&e,g=24&e,m=512&e,y=v?i:Oi(t);return function f(){for(var C=arguments.length,b=r(C),x=C;x--;)b[x]=arguments[x];if(g)var w=lo(f),E=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,w);if(o&&(b=Ii(b,o,a,g)),u&&(b=Ti(b,u,l,g)),C-=E,g&&C<d){var S=fn(b,w);return Hi(t,e,Ui,f.placeholder,n,b,S,c,s,d-C)}var k=p?n:this,A=v?k[t]:t;return C=b.length,c?b=function(t,e){var n=t.length,r=bn(e.length,n),o=Bi(t);for(;r--;){var a=e[r];t[r]=bo(a,n)?o[a]:i}return t}(b,c):m&&C>1&&b.reverse(),h&&s<C&&(b.length=s),this&&this!==ve&&this instanceof f&&(A=y||Oi(A)),A.apply(k,b)}}function zi(t,e){return function(n,r){return function(t,e,n,r){return xr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Zi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=ci(n),r=ci(r)),o=t(n,r)}return o}}function Qi(t){return ro((function(e){return e=_e(e,$e(co())),Yr((function(n){var r=this;return t(e,(function(t){return De(t,r,n)}))}))}))}function Wi(t,e){var n=(e=e===i?" ":si(e)).length;if(n<2)return n?qr(e,t):e;var r=qr(e,pe(t/pn(e)));return ln(e)?wi(vn(r),0,t).join(""):r.slice(0,t)}function Ji(t){return function(e,n,o){return o&&"number"!=typeof o&&xo(e,n,o)&&(n=o=i),e=pu(e),n===i?(n=e,e=0):n=pu(n),function(t,e,n,i){for(var o=-1,a=Cn(pe((e-t)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=n;return u}(e,n,o=o===i?e<n?1:-1:pu(o),t)}}function Vi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=mu(e),n=mu(n)),t(e,n)}}function Hi(t,e,n,r,o,a,u,l,f,d){var h=8&e;e|=h?c:s,4&(e&=~(h?s:c))||(e&=-4);var p=[t,e,o,h?a:i,h?u:i,h?i:a,h?i:u,l,f,d],v=n.apply(i,p);return Eo(t)&&Mo(v,p),v.placeholder=r,Fo(v,t,e)}function Ki(t){var e=At[t];return function(t,n){if(t=mu(t),(n=null==n?0:bn(vu(n),292))&&be(t)){var r=(Cu(t)+"e").split("e");return+((r=(Cu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var qi=In&&1/dn(new In([,-0]))[1]==h?function(t){return new In(t)}:cl;function Yi(t){return function(e){var n=go(e);return n==k?cn(e):n==B?hn(e):function(t,e){return _e(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Xi(t,e,n,a,h,p,v,g){var m=2&e;if(!m&&"function"!=typeof t)throw new Bt(o);var y=a?a.length:0;if(y||(e&=-97,a=h=i),v=v===i?v:Cn(vu(v),0),g=g===i?g:vu(g),y-=h?h.length:0,e&s){var C=a,b=h;a=h=i}var x=m?i:ao(t),w=[t,e,n,a,h,C,b,p,v,g];if(x&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==d&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Ii(c,l,e[4]):l,t[4]=c?fn(t[3],u):e[4]}(l=e[5])&&(c=t[5],t[5]=c?Ti(c,l,e[6]):l,t[6]=c?fn(t[5],u):e[6]);(l=e[7])&&(t[7]=l);r&f&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(w,x),t=w[0],e=w[1],n=w[2],a=w[3],h=w[4],!(g=w[9]=w[9]===i?m?0:t.length:Cn(w[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==l?function(t,e,n){var o=Oi(t);return function a(){for(var u=arguments.length,l=r(u),c=u,s=lo(a);c--;)l[c]=arguments[c];var f=u<3&&l[0]!==s&&l[u-1]!==s?[]:fn(l,s);return(u-=f.length)<n?Hi(t,e,Ui,a.placeholder,i,l,f,i,i,n-u):De(this&&this!==ve&&this instanceof a?o:t,this,l)}}(t,e,g):e!=c&&33!=e||h.length?Ui.apply(i,w):function(t,e,n,i){var o=1&e,a=Oi(t);return function e(){for(var u=-1,l=arguments.length,c=-1,s=i.length,f=r(s+l),d=this&&this!==ve&&this instanceof e?a:t;++c<s;)f[c]=i[c];for(;l--;)f[c++]=arguments[++u];return De(d,o?n:this,f)}}(t,e,n,a);else var E=function(t,e,n){var r=1&e,i=Oi(t);return function e(){return(this&&this!==ve&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Fo((x?ei:Mo)(E,w),t,e)}function $i(t,e,n,r){return t===i||Ua(t,Lt[n])&&!Pt.call(r,n)?e:t}function to(t,e,n,r,o,a){return eu(t)&&eu(e)&&(a.set(e,t),Zr(t,e,i,to,a),a.delete(e)),t}function eo(t){return ou(t)?i:t}function no(t,e,n,r,o,a){var u=1&n,l=t.length,c=e.length;if(l!=c&&!(u&&c>l))return!1;var s=a.get(t),f=a.get(e);if(s&&f)return s==e&&f==t;var d=-1,h=!0,p=2&n?new Kn:i;for(a.set(t,e),a.set(e,t);++d<l;){var v=t[d],g=e[d];if(r)var m=u?r(g,v,d,e,t,a):r(v,g,d,t,e,a);if(m!==i){if(m)continue;h=!1;break}if(p){if(!je(e,(function(t,e){if(!en(p,e)&&(v===t||o(v,t,n,r,a)))return p.push(e)}))){h=!1;break}}else if(v!==g&&!o(v,g,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function ro(t){return Lo(Io(t,i,Jo),t+"")}function io(t){return kr(t,Ru,po)}function oo(t){return kr(t,Lu,vo)}var ao=Mn?function(t){return Mn.get(t)}:cl;function uo(t){for(var e=t.name+"",n=Rn[e],r=Pt.call(Rn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function lo(t){return(Pt.call(Un,"placeholder")?Un:t).placeholder}function co(){var t=Un.iteratee||ol;return t=t===ol?Pr:t,arguments.length?t(arguments[0],arguments[1]):t}function so(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function fo(t){for(var e=Ru(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ao(i)]}return e}function ho(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return _r(n)?n:i}var po=me?function(t){return null==t?[]:(t=Dt(t),Re(me(t),(function(e){return Kt.call(t,e)})))}:gl,vo=me?function(t){for(var e=[];t;)Pe(e,po(t)),t=Vt(t);return e}:gl,go=Ar;function mo(t,e,n){for(var r=-1,i=(e=bi(e,t)).length,o=!1;++r<i;){var a=Oo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&tu(i)&&bo(a,i)&&(Wa(t)||Qa(t))}function yo(t){return"function"!=typeof t.constructor||ko(t)?{}:zn(Vt(t))}function Co(t){return Wa(t)||Qa(t)||!!(Yt&&t&&t[Yt])}function bo(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e}function xo(t,e,n){if(!eu(n))return!1;var r=typeof e;return!!("number"==r?Va(n)&&bo(e,n.length):"string"==r&&e in n)&&Ua(n[e],t)}function wo(t,e){if(Wa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!cu(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Dt(e))}function Eo(t){var e=uo(t),n=Un[e];if("function"!=typeof n||!(e in Wn.prototype))return!1;if(t===n)return!0;var r=ao(n);return!!r&&t===r[0]}(kn&&go(new kn(new ArrayBuffer(1)))!=_||An&&go(new An)!=k||Dn&&go(Dn.resolve())!=I||In&&go(new In)!=B||Tn&&go(new Tn)!=L)&&(go=function(t){var e=Ar(t),n=e==D?t.constructor:i,r=n?jo(n):"";if(r)switch(r){case Ln:return _;case Fn:return k;case _n:return I;case Pn:return B;case Nn:return L}return e});var So=Ft?Xa:ml;function ko(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function Ao(t){return t==t&&!eu(t)}function Do(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in Dt(n)))}}function Io(t,e,n){return e=Cn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=Cn(i.length-e,0),u=r(a);++o<a;)u[o]=i[e+o];o=-1;for(var l=r(e+1);++o<e;)l[o]=i[o];return l[e]=n(u),De(t,this,l)}}function To(t,e){return e.length<2?t:Sr(t,ii(e,0,-1))}function Bo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Mo=_o(ei),Ro=he||function(t,e){return ve.setTimeout(t,e)},Lo=_o(ni);function Fo(t,e,n){var r=e+"";return Lo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Te(m,(function(n){var r="_."+n[0];e&n[1]&&!Le(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(st):[]}(r),n)))}function _o(t){var e=0,n=0;return function(){var r=xn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Po(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var a=Kr(n,o),u=t[a];t[a]=t[n],t[n]=u}return t.length=e,t}var No=function(t){var e=_a(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,i){e.push(r?i.replace(ht,"$1"):n||t)})),e}));function Oo(t){if("string"==typeof t||cu(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return _t.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Go(t){if(t instanceof Wn)return t.clone();var e=new Qn(t.__wrapped__,t.__chain__);return e.__actions__=Bi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Uo=Yr((function(t,e){return Ha(t)?dr(t,yr(e,1,Ha,!0)):[]})),zo=Yr((function(t,e){var n=Yo(e);return Ha(n)&&(n=i),Ha(t)?dr(t,yr(e,1,Ha,!0),co(n,2)):[]})),Zo=Yr((function(t,e){var n=Yo(e);return Ha(n)&&(n=i),Ha(t)?dr(t,yr(e,1,Ha,!0),i,n):[]}));function Qo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:vu(n);return i<0&&(i=Cn(r+i,0)),ze(t,co(e,3),i)}function Wo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=vu(n),o=n<0?Cn(r+o,0):bn(o,r-1)),ze(t,co(e,3),o,!0)}function Jo(t){return(null==t?0:t.length)?yr(t,1):[]}function Vo(t){return t&&t.length?t[0]:i}var Ho=Yr((function(t){var e=_e(t,yi);return e.length&&e[0]===t[0]?Br(e):[]})),Ko=Yr((function(t){var e=Yo(t),n=_e(t,yi);return e===Yo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Br(n,co(e,2)):[]})),qo=Yr((function(t){var e=Yo(t),n=_e(t,yi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Br(n,i,e):[]}));function Yo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Xo=Yr($o);function $o(t,e){return t&&t.length&&e&&e.length?Vr(t,e):t}var ta=ro((function(t,e){var n=null==t?0:t.length,r=ur(t,e);return Hr(t,_e(e,(function(t){return bo(t,n)?+t:t})).sort(Di)),r}));function ea(t){return null==t?t:Sn.call(t)}var na=Yr((function(t){return fi(yr(t,1,Ha,!0))})),ra=Yr((function(t){var e=Yo(t);return Ha(e)&&(e=i),fi(yr(t,1,Ha,!0),co(e,2))})),ia=Yr((function(t){var e=Yo(t);return e="function"==typeof e?e:i,fi(yr(t,1,Ha,!0),i,e)}));function oa(t){if(!t||!t.length)return[];var e=0;return t=Re(t,(function(t){if(Ha(t))return e=Cn(t.length,e),!0})),Ye(e,(function(e){return _e(t,Ve(e))}))}function aa(t,e){if(!t||!t.length)return[];var n=oa(t);return null==e?n:_e(n,(function(t){return De(e,i,t)}))}var ua=Yr((function(t,e){return Ha(t)?dr(t,e):[]})),la=Yr((function(t){return gi(Re(t,Ha))})),ca=Yr((function(t){var e=Yo(t);return Ha(e)&&(e=i),gi(Re(t,Ha),co(e,2))})),sa=Yr((function(t){var e=Yo(t);return e="function"==typeof e?e:i,gi(Re(t,Ha),i,e)})),fa=Yr(oa);var da=Yr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,aa(t,n)}));function ha(t){var e=Un(t);return e.__chain__=!0,e}function pa(t,e){return e(t)}var va=ro((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return ur(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Wn&&bo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:pa,args:[o],thisArg:i}),new Qn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var ga=Ri((function(t,e,n){Pt.call(t,n)?++t[n]:ar(t,n,1)}));var ma=ji(Qo),ya=ji(Wo);function Ca(t,e){return(Wa(t)?Te:hr)(t,co(e,3))}function ba(t,e){return(Wa(t)?Be:pr)(t,co(e,3))}var xa=Ri((function(t,e,n){Pt.call(t,n)?t[n].push(e):ar(t,n,[e])}));var wa=Yr((function(t,e,n){var i=-1,o="function"==typeof e,a=Va(t)?r(t.length):[];return hr(t,(function(t){a[++i]=o?De(e,t,n):Mr(t,e,n)})),a})),Ea=Ri((function(t,e,n){ar(t,n,e)}));function Sa(t,e){return(Wa(t)?_e:Gr)(t,co(e,3))}var ka=Ri((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Aa=Yr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&xo(t,e[0],e[1])?e=[]:n>2&&xo(e[0],e[1],e[2])&&(e=[e[0]]),Wr(t,yr(e,1),[])})),Da=se||function(){return ve.Date.now()};function Ia(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Xi(t,f,i,i,i,i,e)}function Ta(t,e){var n;if("function"!=typeof e)throw new Bt(o);return t=vu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ba=Yr((function(t,e,n){var r=1;if(n.length){var i=fn(n,lo(Ba));r|=c}return Xi(t,r,e,n,i)})),Ma=Yr((function(t,e,n){var r=3;if(n.length){var i=fn(n,lo(Ma));r|=c}return Xi(e,r,t,n,i)}));function Ra(t,e,n){var r,a,u,l,c,s,f=0,d=!1,h=!1,p=!0;if("function"!=typeof t)throw new Bt(o);function v(e){var n=r,o=a;return r=a=i,f=e,l=t.apply(o,n)}function g(t){var n=t-s;return s===i||n>=e||n<0||h&&t-f>=u}function m(){var t=Da();if(g(t))return y(t);c=Ro(m,function(t){var n=e-(t-s);return h?bn(n,u-(t-f)):n}(t))}function y(t){return c=i,p&&r?v(t):(r=a=i,l)}function C(){var t=Da(),n=g(t);if(r=arguments,a=this,s=t,n){if(c===i)return function(t){return f=t,c=Ro(m,e),d?v(t):l}(s);if(h)return Ei(c),c=Ro(m,e),v(s)}return c===i&&(c=Ro(m,e)),l}return e=mu(e)||0,eu(n)&&(d=!!n.leading,u=(h="maxWait"in n)?Cn(mu(n.maxWait)||0,e):u,p="trailing"in n?!!n.trailing:p),C.cancel=function(){c!==i&&Ei(c),f=0,r=s=a=c=i},C.flush=function(){return c===i?l:y(Da())},C}var La=Yr((function(t,e){return fr(t,1,e)})),Fa=Yr((function(t,e,n){return fr(t,mu(e)||0,n)}));function _a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Bt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(_a.Cache||Hn),n}function Pa(t){if("function"!=typeof t)throw new Bt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}_a.Cache=Hn;var Na=xi((function(t,e){var n=(e=1==e.length&&Wa(e[0])?_e(e[0],$e(co())):_e(yr(e,1),$e(co()))).length;return Yr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return De(t,this,r)}))})),Oa=Yr((function(t,e){var n=fn(e,lo(Oa));return Xi(t,c,i,e,n)})),ja=Yr((function(t,e){var n=fn(e,lo(ja));return Xi(t,s,i,e,n)})),Ga=ro((function(t,e){return Xi(t,d,i,i,i,e)}));function Ua(t,e){return t===e||t!=t&&e!=e}var za=Vi(Dr),Za=Vi((function(t,e){return t>=e})),Qa=Rr(function(){return arguments}())?Rr:function(t){return nu(t)&&Pt.call(t,"callee")&&!Kt.call(t,"callee")},Wa=r.isArray,Ja=xe?$e(xe):function(t){return nu(t)&&Ar(t)==F};function Va(t){return null!=t&&tu(t.length)&&!Xa(t)}function Ha(t){return nu(t)&&Va(t)}var Ka=Ce||ml,qa=we?$e(we):function(t){return nu(t)&&Ar(t)==x};function Ya(t){if(!nu(t))return!1;var e=Ar(t);return e==w||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ou(t)}function Xa(t){if(!eu(t))return!1;var e=Ar(t);return e==E||e==S||"[object AsyncFunction]"==e||"[object Proxy]"==e}function $a(t){return"number"==typeof t&&t==vu(t)}function tu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function eu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function nu(t){return null!=t&&"object"==typeof t}var ru=Ee?$e(Ee):function(t){return nu(t)&&go(t)==k};function iu(t){return"number"==typeof t||nu(t)&&Ar(t)==A}function ou(t){if(!nu(t)||Ar(t)!=D)return!1;var e=Vt(t);if(null===e)return!0;var n=Pt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&_t.call(n)==Gt}var au=Se?$e(Se):function(t){return nu(t)&&Ar(t)==T};var uu=ke?$e(ke):function(t){return nu(t)&&go(t)==B};function lu(t){return"string"==typeof t||!Wa(t)&&nu(t)&&Ar(t)==M}function cu(t){return"symbol"==typeof t||nu(t)&&Ar(t)==R}var su=Ae?$e(Ae):function(t){return nu(t)&&tu(t.length)&&!!le[Ar(t)]};var fu=Vi(jr),du=Vi((function(t,e){return t<=e}));function hu(t){if(!t)return[];if(Va(t))return lu(t)?vn(t):Bi(t);if(Xt&&t[Xt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Xt]());var e=go(t);return(e==k?cn:e==B?dn:Uu)(t)}function pu(t){return t?(t=mu(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function vu(t){var e=pu(t),n=e%1;return e==e?n?e-n:e:0}function gu(t){return t?lr(vu(t),0,g):0}function mu(t){if("number"==typeof t)return t;if(cu(t))return v;if(eu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=eu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Xe(t);var n=mt.test(t);return n||Ct.test(t)?de(t.slice(2),n?2:8):gt.test(t)?v:+t}function yu(t){return Mi(t,Lu(t))}function Cu(t){return null==t?"":si(t)}var bu=Li((function(t,e){if(ko(e)||Va(e))Mi(e,Ru(e),t);else for(var n in e)Pt.call(e,n)&&nr(t,n,e[n])})),xu=Li((function(t,e){Mi(e,Lu(e),t)})),wu=Li((function(t,e,n,r){Mi(e,Lu(e),t,r)})),Eu=Li((function(t,e,n,r){Mi(e,Ru(e),t,r)})),Su=ro(ur);var ku=Yr((function(t,e){t=Dt(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&xo(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],u=Lu(a),l=-1,c=u.length;++l<c;){var s=u[l],f=t[s];(f===i||Ua(f,Lt[s])&&!Pt.call(t,s))&&(t[s]=a[s])}return t})),Au=Yr((function(t){return t.push(i,to),De(_u,i,t)}));function Du(t,e,n){var r=null==t?i:Sr(t,e);return r===i?n:r}function Iu(t,e){return null!=t&&mo(t,e,Tr)}var Tu=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=n}),el(il)),Bu=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Pt.call(t,e)?t[e].push(n):t[e]=[n]}),co),Mu=Yr(Mr);function Ru(t){return Va(t)?Yn(t):Nr(t)}function Lu(t){return Va(t)?Yn(t,!0):Or(t)}var Fu=Li((function(t,e,n){Zr(t,e,n)})),_u=Li((function(t,e,n,r){Zr(t,e,n,r)})),Pu=ro((function(t,e){var n={};if(null==t)return n;var r=!1;e=_e(e,(function(e){return e=bi(e,t),r||(r=e.length>1),e})),Mi(t,oo(t),n),r&&(n=cr(n,7,eo));for(var i=e.length;i--;)di(n,e[i]);return n}));var Nu=ro((function(t,e){return null==t?{}:function(t,e){return Jr(t,e,(function(e,n){return Iu(t,n)}))}(t,e)}));function Ou(t,e){if(null==t)return{};var n=_e(oo(t),(function(t){return[t]}));return e=co(e),Jr(t,n,(function(t,n){return e(t,n[0])}))}var ju=Yi(Ru),Gu=Yi(Lu);function Uu(t){return null==t?[]:tn(t,Ru(t))}var zu=Ni((function(t,e,n){return e=e.toLowerCase(),t+(n?Zu(e):e)}));function Zu(t){return Yu(Cu(t).toLowerCase())}function Qu(t){return(t=Cu(t))&&t.replace(xt,on).replace(ee,"")}var Wu=Ni((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ju=Ni((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Vu=Pi("toLowerCase");var Hu=Ni((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ku=Ni((function(t,e,n){return t+(n?" ":"")+Yu(e)}));var qu=Ni((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Yu=Pi("toUpperCase");function Xu(t,e,n){return t=Cu(t),(e=n?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var $u=Yr((function(t,e){try{return De(t,i,e)}catch(t){return Ya(t)?t:new St(t)}})),tl=ro((function(t,e){return Te(e,(function(e){e=Oo(e),ar(t,e,Ba(t[e],t))})),t}));function el(t){return function(){return t}}var nl=Gi(),rl=Gi(!0);function il(t){return t}function ol(t){return Pr("function"==typeof t?t:cr(t,1))}var al=Yr((function(t,e){return function(n){return Mr(n,t,e)}})),ul=Yr((function(t,e){return function(n){return Mr(t,n,e)}}));function ll(t,e,n){var r=Ru(e),i=Er(e,r);null!=n||eu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Er(e,Ru(e)));var o=!(eu(n)&&"chain"in n&&!n.chain),a=Xa(t);return Te(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Bi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Pe([this.value()],arguments))})})),t}function cl(){}var sl=Qi(_e),fl=Qi(Me),dl=Qi(je);function hl(t){return wo(t)?Ve(Oo(t)):function(t){return function(e){return Sr(e,t)}}(t)}var pl=Ji(),vl=Ji(!0);function gl(){return[]}function ml(){return!1}var yl=Zi((function(t,e){return t+e}),0),Cl=Ki("ceil"),bl=Zi((function(t,e){return t/e}),1),xl=Ki("floor");var wl,El=Zi((function(t,e){return t*e}),1),Sl=Ki("round"),kl=Zi((function(t,e){return t-e}),0);return Un.after=function(t,e){if("function"!=typeof e)throw new Bt(o);return t=vu(t),function(){if(--t<1)return e.apply(this,arguments)}},Un.ary=Ia,Un.assign=bu,Un.assignIn=xu,Un.assignInWith=wu,Un.assignWith=Eu,Un.at=Su,Un.before=Ta,Un.bind=Ba,Un.bindAll=tl,Un.bindKey=Ma,Un.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Wa(t)?t:[t]},Un.chain=ha,Un.chunk=function(t,e,n){e=(n?xo(t,e,n):e===i)?1:Cn(vu(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,u=0,l=r(pe(o/e));a<o;)l[u++]=ii(t,a,a+=e);return l},Un.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Un.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Pe(Wa(n)?Bi(n):[n],yr(e,1))},Un.cond=function(t){var e=null==t?0:t.length,n=co();return t=e?_e(t,(function(t){if("function"!=typeof t[1])throw new Bt(o);return[n(t[0]),t[1]]})):[],Yr((function(n){for(var r=-1;++r<e;){var i=t[r];if(De(i[0],this,n))return De(i[1],this,n)}}))},Un.conforms=function(t){return function(t){var e=Ru(t);return function(n){return sr(n,t,e)}}(cr(t,1))},Un.constant=el,Un.countBy=ga,Un.create=function(t,e){var n=zn(t);return null==e?n:or(n,e)},Un.curry=function t(e,n,r){var o=Xi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Un.curryRight=function t(e,n,r){var o=Xi(e,l,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Un.debounce=Ra,Un.defaults=ku,Un.defaultsDeep=Au,Un.defer=La,Un.delay=Fa,Un.difference=Uo,Un.differenceBy=zo,Un.differenceWith=Zo,Un.drop=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=n||e===i?1:vu(e))<0?0:e,r):[]},Un.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,0,(e=r-(e=n||e===i?1:vu(e)))<0?0:e):[]},Un.dropRightWhile=function(t,e){return t&&t.length?pi(t,co(e,3),!0,!0):[]},Un.dropWhile=function(t,e){return t&&t.length?pi(t,co(e,3),!0):[]},Un.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&xo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=vu(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:vu(r))<0&&(r+=o),r=n>r?0:gu(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Un.filter=function(t,e){return(Wa(t)?Re:mr)(t,co(e,3))},Un.flatMap=function(t,e){return yr(Sa(t,e),1)},Un.flatMapDeep=function(t,e){return yr(Sa(t,e),h)},Un.flatMapDepth=function(t,e,n){return n=n===i?1:vu(n),yr(Sa(t,e),n)},Un.flatten=Jo,Un.flattenDeep=function(t){return(null==t?0:t.length)?yr(t,h):[]},Un.flattenDepth=function(t,e){return(null==t?0:t.length)?yr(t,e=e===i?1:vu(e)):[]},Un.flip=function(t){return Xi(t,512)},Un.flow=nl,Un.flowRight=rl,Un.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Un.functions=function(t){return null==t?[]:Er(t,Ru(t))},Un.functionsIn=function(t){return null==t?[]:Er(t,Lu(t))},Un.groupBy=xa,Un.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},Un.intersection=Ho,Un.intersectionBy=Ko,Un.intersectionWith=qo,Un.invert=Tu,Un.invertBy=Bu,Un.invokeMap=wa,Un.iteratee=ol,Un.keyBy=Ea,Un.keys=Ru,Un.keysIn=Lu,Un.map=Sa,Un.mapKeys=function(t,e){var n={};return e=co(e,3),xr(t,(function(t,r,i){ar(n,e(t,r,i),t)})),n},Un.mapValues=function(t,e){var n={};return e=co(e,3),xr(t,(function(t,r,i){ar(n,r,e(t,r,i))})),n},Un.matches=function(t){return Ur(cr(t,1))},Un.matchesProperty=function(t,e){return zr(t,cr(e,1))},Un.memoize=_a,Un.merge=Fu,Un.mergeWith=_u,Un.method=al,Un.methodOf=ul,Un.mixin=ll,Un.negate=Pa,Un.nthArg=function(t){return t=vu(t),Yr((function(e){return Qr(e,t)}))},Un.omit=Pu,Un.omitBy=function(t,e){return Ou(t,Pa(co(e)))},Un.once=function(t){return Ta(2,t)},Un.orderBy=function(t,e,n,r){return null==t?[]:(Wa(e)||(e=null==e?[]:[e]),Wa(n=r?i:n)||(n=null==n?[]:[n]),Wr(t,e,n))},Un.over=sl,Un.overArgs=Na,Un.overEvery=fl,Un.overSome=dl,Un.partial=Oa,Un.partialRight=ja,Un.partition=ka,Un.pick=Nu,Un.pickBy=Ou,Un.property=hl,Un.propertyOf=function(t){return function(e){return null==t?i:Sr(t,e)}},Un.pull=Xo,Un.pullAll=$o,Un.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Vr(t,e,co(n,2)):t},Un.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Vr(t,e,i,n):t},Un.pullAt=ta,Un.range=pl,Un.rangeRight=vl,Un.rearg=Ga,Un.reject=function(t,e){return(Wa(t)?Re:mr)(t,Pa(co(e,3)))},Un.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=co(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Hr(t,i),n},Un.rest=function(t,e){if("function"!=typeof t)throw new Bt(o);return Yr(t,e=e===i?e:vu(e))},Un.reverse=ea,Un.sampleSize=function(t,e,n){return e=(n?xo(t,e,n):e===i)?1:vu(e),(Wa(t)?$n:$r)(t,e)},Un.set=function(t,e,n){return null==t?t:ti(t,e,n)},Un.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ti(t,e,n,r)},Un.shuffle=function(t){return(Wa(t)?tr:ri)(t)},Un.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&xo(t,e,n)?(e=0,n=r):(e=null==e?0:vu(e),n=n===i?r:vu(n)),ii(t,e,n)):[]},Un.sortBy=Aa,Un.sortedUniq=function(t){return t&&t.length?li(t):[]},Un.sortedUniqBy=function(t,e){return t&&t.length?li(t,co(e,2)):[]},Un.split=function(t,e,n){return n&&"number"!=typeof n&&xo(t,e,n)&&(e=n=i),(n=n===i?g:n>>>0)?(t=Cu(t))&&("string"==typeof e||null!=e&&!au(e))&&!(e=si(e))&&ln(t)?wi(vn(t),0,n):t.split(e,n):[]},Un.spread=function(t,e){if("function"!=typeof t)throw new Bt(o);return e=null==e?0:Cn(vu(e),0),Yr((function(n){var r=n[e],i=wi(n,0,e);return r&&Pe(i,r),De(t,this,i)}))},Un.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},Un.take=function(t,e,n){return t&&t.length?ii(t,0,(e=n||e===i?1:vu(e))<0?0:e):[]},Un.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=r-(e=n||e===i?1:vu(e)))<0?0:e,r):[]},Un.takeRightWhile=function(t,e){return t&&t.length?pi(t,co(e,3),!1,!0):[]},Un.takeWhile=function(t,e){return t&&t.length?pi(t,co(e,3)):[]},Un.tap=function(t,e){return e(t),t},Un.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Bt(o);return eu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ra(t,e,{leading:r,maxWait:e,trailing:i})},Un.thru=pa,Un.toArray=hu,Un.toPairs=ju,Un.toPairsIn=Gu,Un.toPath=function(t){return Wa(t)?_e(t,Oo):cu(t)?[t]:Bi(No(Cu(t)))},Un.toPlainObject=yu,Un.transform=function(t,e,n){var r=Wa(t),i=r||Ka(t)||su(t);if(e=co(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:eu(t)&&Xa(o)?zn(Vt(t)):{}}return(i?Te:xr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Un.unary=function(t){return Ia(t,1)},Un.union=na,Un.unionBy=ra,Un.unionWith=ia,Un.uniq=function(t){return t&&t.length?fi(t):[]},Un.uniqBy=function(t,e){return t&&t.length?fi(t,co(e,2)):[]},Un.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?fi(t,i,e):[]},Un.unset=function(t,e){return null==t||di(t,e)},Un.unzip=oa,Un.unzipWith=aa,Un.update=function(t,e,n){return null==t?t:hi(t,e,Ci(n))},Un.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:hi(t,e,Ci(n),r)},Un.values=Uu,Un.valuesIn=function(t){return null==t?[]:tn(t,Lu(t))},Un.without=ua,Un.words=Xu,Un.wrap=function(t,e){return Oa(Ci(e),t)},Un.xor=la,Un.xorBy=ca,Un.xorWith=sa,Un.zip=fa,Un.zipObject=function(t,e){return mi(t||[],e||[],nr)},Un.zipObjectDeep=function(t,e){return mi(t||[],e||[],ti)},Un.zipWith=da,Un.entries=ju,Un.entriesIn=Gu,Un.extend=xu,Un.extendWith=wu,ll(Un,Un),Un.add=yl,Un.attempt=$u,Un.camelCase=zu,Un.capitalize=Zu,Un.ceil=Cl,Un.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=mu(n))==n?n:0),e!==i&&(e=(e=mu(e))==e?e:0),lr(mu(t),e,n)},Un.clone=function(t){return cr(t,4)},Un.cloneDeep=function(t){return cr(t,5)},Un.cloneDeepWith=function(t,e){return cr(t,5,e="function"==typeof e?e:i)},Un.cloneWith=function(t,e){return cr(t,4,e="function"==typeof e?e:i)},Un.conformsTo=function(t,e){return null==e||sr(t,e,Ru(e))},Un.deburr=Qu,Un.defaultTo=function(t,e){return null==t||t!=t?e:t},Un.divide=bl,Un.endsWith=function(t,e,n){t=Cu(t),e=si(e);var r=t.length,o=n=n===i?r:lr(vu(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Un.eq=Ua,Un.escape=function(t){return(t=Cu(t))&&Y.test(t)?t.replace(K,an):t},Un.escapeRegExp=function(t){return(t=Cu(t))&&ot.test(t)?t.replace(it,"\\$&"):t},Un.every=function(t,e,n){var r=Wa(t)?Me:vr;return n&&xo(t,e,n)&&(e=i),r(t,co(e,3))},Un.find=ma,Un.findIndex=Qo,Un.findKey=function(t,e){return Ue(t,co(e,3),xr)},Un.findLast=ya,Un.findLastIndex=Wo,Un.findLastKey=function(t,e){return Ue(t,co(e,3),wr)},Un.floor=xl,Un.forEach=Ca,Un.forEachRight=ba,Un.forIn=function(t,e){return null==t?t:Cr(t,co(e,3),Lu)},Un.forInRight=function(t,e){return null==t?t:br(t,co(e,3),Lu)},Un.forOwn=function(t,e){return t&&xr(t,co(e,3))},Un.forOwnRight=function(t,e){return t&&wr(t,co(e,3))},Un.get=Du,Un.gt=za,Un.gte=Za,Un.has=function(t,e){return null!=t&&mo(t,e,Ir)},Un.hasIn=Iu,Un.head=Vo,Un.identity=il,Un.includes=function(t,e,n,r){t=Va(t)?t:Uu(t),n=n&&!r?vu(n):0;var i=t.length;return n<0&&(n=Cn(i+n,0)),lu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ze(t,e,n)>-1},Un.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:vu(n);return i<0&&(i=Cn(r+i,0)),Ze(t,e,i)},Un.inRange=function(t,e,n){return e=pu(e),n===i?(n=e,e=0):n=pu(n),function(t,e,n){return t>=bn(e,n)&&t<Cn(e,n)}(t=mu(t),e,n)},Un.invoke=Mu,Un.isArguments=Qa,Un.isArray=Wa,Un.isArrayBuffer=Ja,Un.isArrayLike=Va,Un.isArrayLikeObject=Ha,Un.isBoolean=function(t){return!0===t||!1===t||nu(t)&&Ar(t)==b},Un.isBuffer=Ka,Un.isDate=qa,Un.isElement=function(t){return nu(t)&&1===t.nodeType&&!ou(t)},Un.isEmpty=function(t){if(null==t)return!0;if(Va(t)&&(Wa(t)||"string"==typeof t||"function"==typeof t.splice||Ka(t)||su(t)||Qa(t)))return!t.length;var e=go(t);if(e==k||e==B)return!t.size;if(ko(t))return!Nr(t).length;for(var n in t)if(Pt.call(t,n))return!1;return!0},Un.isEqual=function(t,e){return Lr(t,e)},Un.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Lr(t,e,i,n):!!r},Un.isError=Ya,Un.isFinite=function(t){return"number"==typeof t&&be(t)},Un.isFunction=Xa,Un.isInteger=$a,Un.isLength=tu,Un.isMap=ru,Un.isMatch=function(t,e){return t===e||Fr(t,e,fo(e))},Un.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Fr(t,e,fo(e),n)},Un.isNaN=function(t){return iu(t)&&t!=+t},Un.isNative=function(t){if(So(t))throw new St("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _r(t)},Un.isNil=function(t){return null==t},Un.isNull=function(t){return null===t},Un.isNumber=iu,Un.isObject=eu,Un.isObjectLike=nu,Un.isPlainObject=ou,Un.isRegExp=au,Un.isSafeInteger=function(t){return $a(t)&&t>=-9007199254740991&&t<=p},Un.isSet=uu,Un.isString=lu,Un.isSymbol=cu,Un.isTypedArray=su,Un.isUndefined=function(t){return t===i},Un.isWeakMap=function(t){return nu(t)&&go(t)==L},Un.isWeakSet=function(t){return nu(t)&&"[object WeakSet]"==Ar(t)},Un.join=function(t,e){return null==t?"":Ge.call(t,e)},Un.kebabCase=Wu,Un.last=Yo,Un.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=vu(n))<0?Cn(r+o,0):bn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):ze(t,We,o,!0)},Un.lowerCase=Ju,Un.lowerFirst=Vu,Un.lt=fu,Un.lte=du,Un.max=function(t){return t&&t.length?gr(t,il,Dr):i},Un.maxBy=function(t,e){return t&&t.length?gr(t,co(e,2),Dr):i},Un.mean=function(t){return Je(t,il)},Un.meanBy=function(t,e){return Je(t,co(e,2))},Un.min=function(t){return t&&t.length?gr(t,il,jr):i},Un.minBy=function(t,e){return t&&t.length?gr(t,co(e,2),jr):i},Un.stubArray=gl,Un.stubFalse=ml,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=El,Un.nth=function(t,e){return t&&t.length?Qr(t,vu(e)):i},Un.noConflict=function(){return ve._===this&&(ve._=Ut),this},Un.noop=cl,Un.now=Da,Un.pad=function(t,e,n){t=Cu(t);var r=(e=vu(e))?pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Wi(ge(i),n)+t+Wi(pe(i),n)},Un.padEnd=function(t,e,n){t=Cu(t);var r=(e=vu(e))?pn(t):0;return e&&r<e?t+Wi(e-r,n):t},Un.padStart=function(t,e,n){t=Cu(t);var r=(e=vu(e))?pn(t):0;return e&&r<e?Wi(e-r,n)+t:t},Un.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wn(Cu(t).replace(at,""),e||0)},Un.random=function(t,e,n){if(n&&"boolean"!=typeof n&&xo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pu(t),e===i?(e=t,t=0):e=pu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=En();return bn(t+o*(e-t+fe("1e-"+((o+"").length-1))),e)}return Kr(t,e)},Un.reduce=function(t,e,n){var r=Wa(t)?Ne:Ke,i=arguments.length<3;return r(t,co(e,4),n,i,hr)},Un.reduceRight=function(t,e,n){var r=Wa(t)?Oe:Ke,i=arguments.length<3;return r(t,co(e,4),n,i,pr)},Un.repeat=function(t,e,n){return e=(n?xo(t,e,n):e===i)?1:vu(e),qr(Cu(t),e)},Un.replace=function(){var t=arguments,e=Cu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Un.result=function(t,e,n){var r=-1,o=(e=bi(e,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[Oo(e[r])];a===i&&(r=o,a=n),t=Xa(a)?a.call(t):a}return t},Un.round=Sl,Un.runInContext=t,Un.sample=function(t){return(Wa(t)?Xn:Xr)(t)},Un.size=function(t){if(null==t)return 0;if(Va(t))return lu(t)?pn(t):t.length;var e=go(t);return e==k||e==B?t.size:Nr(t).length},Un.snakeCase=Hu,Un.some=function(t,e,n){var r=Wa(t)?je:oi;return n&&xo(t,e,n)&&(e=i),r(t,co(e,3))},Un.sortedIndex=function(t,e){return ai(t,e)},Un.sortedIndexBy=function(t,e,n){return ui(t,e,co(n,2))},Un.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&Ua(t[r],e))return r}return-1},Un.sortedLastIndex=function(t,e){return ai(t,e,!0)},Un.sortedLastIndexBy=function(t,e,n){return ui(t,e,co(n,2),!0)},Un.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(Ua(t[n],e))return n}return-1},Un.startCase=Ku,Un.startsWith=function(t,e,n){return t=Cu(t),n=null==n?0:lr(vu(n),0,t.length),e=si(e),t.slice(n,n+e.length)==e},Un.subtract=kl,Un.sum=function(t){return t&&t.length?qe(t,il):0},Un.sumBy=function(t,e){return t&&t.length?qe(t,co(e,2)):0},Un.template=function(t,e,n){var r=Un.templateSettings;n&&xo(t,e,n)&&(e=i),t=Cu(t),e=wu({},e,r,$i);var o,a,u=wu({},e.imports,r.imports,$i),l=Ru(u),c=tn(u,l),s=0,f=e.interpolate||wt,d="__p += '",h=It((e.escape||wt).source+"|"+f.source+"|"+(f===tt?pt:wt).source+"|"+(e.evaluate||wt).source+"|$","g"),p="//# sourceURL="+(Pt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ue+"]")+"\n";t.replace(h,(function(e,n,r,i,u,l){return r||(r=i),d+=t.slice(s,l).replace(Et,un),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=l+e.length,e})),d+="';\n";var v=Pt.call(e,"variable")&&e.variable;if(v){if(dt.test(v))throw new St("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(W,""):d).replace(J,"$1").replace(V,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=$u((function(){return kt(l,p+"return "+d).apply(i,c)}));if(g.source=d,Ya(g))throw g;return g},Un.times=function(t,e){if((t=vu(t))<1||t>p)return[];var n=g,r=bn(t,g);e=co(e),t-=g;for(var i=Ye(r,e);++n<t;)e(n);return i},Un.toFinite=pu,Un.toInteger=vu,Un.toLength=gu,Un.toLower=function(t){return Cu(t).toLowerCase()},Un.toNumber=mu,Un.toSafeInteger=function(t){return t?lr(vu(t),-9007199254740991,p):0===t?t:0},Un.toString=Cu,Un.toUpper=function(t){return Cu(t).toUpperCase()},Un.trim=function(t,e,n){if((t=Cu(t))&&(n||e===i))return Xe(t);if(!t||!(e=si(e)))return t;var r=vn(t),o=vn(e);return wi(r,nn(r,o),rn(r,o)+1).join("")},Un.trimEnd=function(t,e,n){if((t=Cu(t))&&(n||e===i))return t.slice(0,gn(t)+1);if(!t||!(e=si(e)))return t;var r=vn(t);return wi(r,0,rn(r,vn(e))+1).join("")},Un.trimStart=function(t,e,n){if((t=Cu(t))&&(n||e===i))return t.replace(at,"");if(!t||!(e=si(e)))return t;var r=vn(t);return wi(r,nn(r,vn(e))).join("")},Un.truncate=function(t,e){var n=30,r="...";if(eu(e)){var o="separator"in e?e.separator:o;n="length"in e?vu(e.length):n,r="omission"in e?si(e.omission):r}var a=(t=Cu(t)).length;if(ln(t)){var u=vn(t);a=u.length}if(n>=a)return t;var l=n-pn(r);if(l<1)return r;var c=u?wi(u,0,l).join(""):t.slice(0,l);if(o===i)return c+r;if(u&&(l+=c.length-l),au(o)){if(t.slice(l).search(o)){var s,f=c;for(o.global||(o=It(o.source,Cu(vt.exec(o))+"g")),o.lastIndex=0;s=o.exec(f);)var d=s.index;c=c.slice(0,d===i?l:d)}}else if(t.indexOf(si(o),l)!=l){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r},Un.unescape=function(t){return(t=Cu(t))&&q.test(t)?t.replace(H,mn):t},Un.uniqueId=function(t){var e=++Nt;return Cu(t)+e},Un.upperCase=qu,Un.upperFirst=Yu,Un.each=Ca,Un.eachRight=ba,Un.first=Vo,ll(Un,(wl={},xr(Un,(function(t,e){Pt.call(Un.prototype,e)||(wl[e]=t)})),wl),{chain:!1}),Un.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Un[t].placeholder=Un})),Te(["drop","take"],(function(t,e){Wn.prototype[t]=function(n){n=n===i?1:Cn(vu(n),0);var r=this.__filtered__&&!e?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:t+(r.__dir__<0?"Right":"")}),r},Wn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Wn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:co(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Te(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Wn.prototype[t]=function(){return this[n](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Wn.prototype[t]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(il)},Wn.prototype.find=function(t){return this.filter(t).head()},Wn.prototype.findLast=function(t){return this.reverse().find(t)},Wn.prototype.invokeMap=Yr((function(t,e){return"function"==typeof t?new Wn(this):this.map((function(n){return Mr(n,t,e)}))})),Wn.prototype.reject=function(t){return this.filter(Pa(co(t)))},Wn.prototype.slice=function(t,e){t=vu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Wn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=vu(e))<0?n.dropRight(-e):n.take(e-t)),n)},Wn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Wn.prototype.toArray=function(){return this.take(g)},xr(Wn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Un[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(Un.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,l=e instanceof Wn,c=u[0],s=l||Wa(e),f=function(t){var e=o.apply(Un,Pe([t],u));return r&&d?e[0]:e};s&&n&&"function"==typeof c&&1!=c.length&&(l=s=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=l&&!h;if(!a&&s){e=v?e:new Wn(this);var g=t.apply(e,u);return g.__actions__.push({func:pa,args:[f],thisArg:i}),new Qn(g,d)}return p&&v?t.apply(this,u):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Mt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Un.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Wa(i)?i:[],t)}return this[n]((function(n){return e.apply(Wa(n)?n:[],t)}))}})),xr(Wn.prototype,(function(t,e){var n=Un[e];if(n){var r=n.name+"";Pt.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:e,func:n})}})),Rn[Ui(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var t=new Wn(this.__wrapped__);return t.__actions__=Bi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Bi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Bi(this.__views__),t},Wn.prototype.reverse=function(){if(this.__filtered__){var t=new Wn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Wn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Wa(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=bn(e,t+a);break;case"takeRight":t=Cn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,l=u-a,c=r?u:a-1,s=this.__iteratees__,f=s.length,d=0,h=bn(l,this.__takeCount__);if(!n||!r&&i==l&&h==l)return vi(t,this.__actions__);var p=[];t:for(;l--&&d<h;){for(var v=-1,g=t[c+=e];++v<f;){var m=s[v],y=m.iteratee,C=m.type,b=y(g);if(2==C)g=b;else if(!b){if(1==C)continue t;break t}}p[d++]=g}return p},Un.prototype.at=va,Un.prototype.chain=function(){return ha(this)},Un.prototype.commit=function(){return new Qn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=hu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(t){for(var e,n=this;n instanceof Zn;){var r=Go(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Un.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Wn){var e=t;return this.__actions__.length&&(e=new Wn(this)),(e=e.reverse()).__actions__.push({func:pa,args:[ea],thisArg:i}),new Qn(e,this.__chain__)}return this.thru(ea)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Xt&&(Un.prototype[Xt]=function(){return this}),Un}();ve._=yn,(r=function(){return yn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},21192:function(t,e,n){var r=n(99088);t.exports=function(){return r.Date.now()}},5800:function(t,e,n){var r=n(94608),i=n(50636);t.exports=function(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:o,maxWait:e,trailing:a})}},40080:function(t,e,n){var r=n(83900),i=n(50636),o=n(47432),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},35176:function(){},19600:function(){},9443:function(t){"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,i){for(var o,a,u=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(u[c]=o[c]);if(e){a=e(o);for(var s=0;s<a.length;s++)r.call(o,a[s])&&(u[a[s]]=o[a[s]])}}return u}},57336:function(t,e,n){"use strict";var r=n(97200);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},40900:function(t,e,n){t.exports=n(57336)()},97200:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},73019:function(t,e,n){"use strict";e.__esModule=!0,e.didNotFindHydratableTextInstance=e.didNotFindHydratableInstance=e.didNotFindHydratableContainerTextInstance=e.didNotFindHydratableContainerInstance=e.didNotHydrateInstance=e.didNotHydrateContainerInstance=e.didNotMatchHydratedTextInstance=e.didNotMatchHydratedContainerTextInstance=e.hydrateTextInstance=e.hydrateInstance=e.getFirstHydratableChild=e.getNextHydratableSibling=e.canHydrateTextInstance=e.canHydrateInstance=e.supportsHydration=void 0;var r,i=n(22676),o=(r=i)&&r.__esModule?r:{default:r};function a(){(0,o.default)(!1,"The current renderer does not support hyration. This error is likely caused by a bug in React. Please file an issue.")}e.supportsHydration=!1,e.canHydrateInstance=a,e.canHydrateTextInstance=a,e.getNextHydratableSibling=a,e.getFirstHydratableChild=a,e.hydrateInstance=a,e.hydrateTextInstance=a,e.didNotMatchHydratedContainerTextInstance=a,e.didNotMatchHydratedTextInstance=a,e.didNotHydrateContainerInstance=a,e.didNotHydrateInstance=a,e.didNotFindHydratableContainerInstance=a,e.didNotFindHydratableContainerTextInstance=a,e.didNotFindHydratableInstance=a,e.didNotFindHydratableTextInstance=a},99148:function(t,e,n){"use strict";e.__esModule=!0,e.createHiddenTextInstance=e.cloneUnhiddenInstance=e.cloneHiddenInstance=e.replaceContainerChildren=e.finalizeContainerChildren=e.appendChildToContainerChildSet=e.createContainerChildSet=e.cloneInstance=e.supportsPersistence=void 0;var r,i=n(22676),o=(r=i)&&r.__esModule?r:{default:r};function a(){(0,o.default)(!1,"The current renderer does not support persistence. This error is likely caused by a bug in React. Please file an issue.")}e.supportsPersistence=!1,e.cloneInstance=a,e.createContainerChildSet=a,e.appendChildToContainerChildSet=a,e.finalizeContainerChildren=a,e.replaceContainerChildren=a,e.cloneHiddenInstance=a,e.cloneUnhiddenInstance=a,e.createHiddenTextInstance=a},11276:function(t,e){"use strict";e.__esModule=!0,e.getClosestInstanceFromNode=function(t){if(t[i])return t[i];for(;!t[i];){if(!t.parentNode)return null;t=t.parentNode}var e=t[i];if(e.tag===n||e.tag===r)return e;return null};var n=5,r=6,i="__reactInternalInstance$"+Math.random().toString(36).slice(2)},2480:function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(9880);n(25700);t.exports=r({},i)},9880:function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=n(43400),o=n(81868),a=n(64932),u=n(11276),l=n(74664),c=n(48720),s=c.applyNodeProps,f=c.toggleStrictMode,d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){o.isBrowser&&(this._stage=new o.Stage({width:this.props.width,height:this.props.height,container:this._tagRef}),this._setRef(this._stage),s(this._stage,this.props),this._mountNode=p.createContainer(this._stage),p.updateContainer(this.props.children,this._mountNode,this))},e.prototype._setRef=function(t){var e=this.props.forwardedRef;e&&("function"==typeof e?e(t):e.current=t)},e.prototype.componentDidUpdate=function(t){o.isBrowser&&(this._setRef(this._stage),s(this._stage,this.props,t),p.updateContainer(this.props.children,this._mountNode,this))},e.prototype.componentWillUnmount=function(){o.isBrowser&&(this._setRef(null),p.updateContainer(null,this._mountNode,this),this._stage.destroy())},e.prototype.getStage=function(){return this._stage},e.prototype.render=function(){var t=this,e=this.props;return i.createElement("div",{ref:function(e){return t._tagRef=e},accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},e}(i.Component),h={};["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"].forEach((function(t){h[t]=t}));var p=a(l);p.injectIntoDevTools({findFiberByHostInstance:u.getClosestInstanceFromNode,bundleType:0,version:i.version,rendererPackageName:"react-konva",getInspectorDataForViewTag:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n]}});var v=i.forwardRef((function(t,e){return i.createElement(d,r({},t,{forwardedRef:e}))}));t.exports=r({},h,{__matchRectVersion:!0,Stage:v,useStrictMode:f})},74664:function(t,e,n){"use strict";e.__esModule=!0,e.supportsMutation=e.isPrimaryRenderer=e.cancelPassiveEffects=e.schedulePassiveEffects=e.noTimeout=e.cancelTimeout=e.scheduleTimeout=e.cancelDeferredCallback=e.shouldYield=e.scheduleDeferredCallback=e.now=void 0;var r=n(99148);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i=n(73019);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var o=n(82328);Object.defineProperty(e,"now",{enumerable:!0,get:function(){return o.unstable_now}}),Object.defineProperty(e,"scheduleDeferredCallback",{enumerable:!0,get:function(){return o.unstable_scheduleCallback}}),Object.defineProperty(e,"shouldYield",{enumerable:!0,get:function(){return o.unstable_shouldYield}}),Object.defineProperty(e,"cancelDeferredCallback",{enumerable:!0,get:function(){return o.unstable_cancelCallback}}),e.appendInitialChild=function(t,e){if("string"==typeof e)return void(0,l.default)(!1,'Don not use plain text as child of Konva.Node. You are using text: "%s"',e);t.add(e),(0,u.updatePicture)(t)},e.createInstance=function(t,e,n){var r=a.default[t];if(!r)return void(0,l.default)(s,'Konva has no node with the type "%s". If you use minimal version of react-konva, just import required nodes into Konva: `import "konva/lib/shapes/%s"`  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html',t,t);var i={},o={};for(var c in e){"on"===c.slice(0,2)?o[c]=e[c]:i[c]=e[c]}var s=new r(i);return(0,u.applyNodeProps)(s,o),s},e.createTextInstance=function(t,e,n){(0,l.default)(!1,'Text components are not supported for now in ReactKonva. You text is: "'+t+'"')},e.finalizeInitialChildren=function(t,e,n){return!1},e.getPublicInstance=function(t){return t},e.prepareForCommit=function(){},e.prepareUpdate=function(t,e,n,r){return f},e.resetAfterCommit=function(){},e.resetTextContent=function(t){},e.shouldDeprioritizeSubtree=function(t,e){return!1},e.getRootHostContext=function(){return s},e.getChildHostContext=function(){return s},e.shouldSetTextContent=function(t,e){return!1},e.appendChild=function(t,e){e.parent===t?e.moveToTop():t.add(e);(0,u.updatePicture)(t)},e.appendChildToContainer=function(t,e){e.parent===t?e.moveToTop():t.add(e);(0,u.updatePicture)(t)},e.insertBefore=d,e.insertInContainerBefore=function(t,e,n){d(t,e,n)},e.removeChild=function(t,e){e.destroy(),e.off(u.EVENTS_NAMESPACE),(0,u.updatePicture)(t)},e.removeChildFromContainer=function(t,e){e.destroy(),e.off(u.EVENTS_NAMESPACE),(0,u.updatePicture)(t)},e.commitTextUpdate=function(t,e,n){(0,l.default)(!1,'Text components are not yet supported in ReactKonva. You text is: "'+n+'"')},e.commitMount=function(t,e,n){},e.commitUpdate=function(t,e,n,r,i){(0,u.applyNodeProps)(t,i,r)},e.hideInstance=function(t){t.hide(),(0,u.updatePicture)(t)},e.hideTextInstance=function(t){},e.unhideInstance=function(t,e){(null==e.visible||e.visible)&&t.show()},e.unhideTextInstance=function(t,e){};var a=c(n(81868)),u=n(48720),l=c(n(22676));function c(t){return t&&t.__esModule?t:{default:t}}var s={},f={};a.default.Node.prototype._applyProps=u.applyNodeProps;e.scheduleTimeout=setTimeout,e.cancelTimeout=clearTimeout,e.noTimeout=-1,e.schedulePassiveEffects=o.unstable_scheduleCallback,e.cancelPassiveEffects=o.unstable_cancelCallback;e.isPrimaryRenderer=!1,e.supportsMutation=!0;function d(t,e,n){(0,l.default)(e!==n,"ReactKonva: Can not insert node before itself"),e._remove(),t.add(e),e.setZIndex(n.getZIndex()),(0,u.updatePicture)(t)}},22676:function(t){"use strict";var e=function(t){if(void 0===t)throw new Error("invariant(...): Second argument must be a string.")};t.exports=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(e(n),!t){var a;if(void 0===n)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;(a=new Error(n.replace(/%s/g,(function(){return String(i[u++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},48720:function(t,e){"use strict";e.__esModule=!0,e.toggleStrictMode=function(t){a=t},e.applyNodeProps=function(t,e){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;!r&&"zIndex"in e&&(r=!0);if(!i&&e.draggable){var s=void 0!==e.x||void 0!==e.y,f=e.onDragEnd||e.onDragMove;s&&!f&&(i=!0)}for(var d in c)if(!n[d]){var h="on"===d.slice(0,2),p=c[d]!==e[d];if(h&&p)"content"===(b=d.substr(2).toLowerCase()).substr(0,7)&&(b="content"+b.substr(7,1).toUpperCase()+b.substr(8)),t.off(b,c[d]);!e.hasOwnProperty(d)&&t.setAttr(d,void 0)}var v=a||e._useStrictMode,g={},m=!1,y={};for(var d in e)if(!n[d]){h="on"===d.slice(0,2);var C=c[d]!==e[d];if(h&&C)"content"===(b=d.substr(2).toLowerCase()).substr(0,7)&&(b="content"+b.substr(7,1).toUpperCase()+b.substr(8)),e[d]&&(y[b]=e[d]);!h&&(e[d]!==c[d]||v&&e[d]!==t.getAttr(d))&&(m=!0,g[d]=e[d])}m&&(t.setAttrs(g),l(t));for(var b in y)t.on(b+o,y[b])},e.updatePicture=l;var n={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0},r=!1,i=!1,o=e.EVENTS_NAMESPACE=".react-konva-event",a=!1;var u={};function l(t){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}},65080:function(t,e,n){(t=n.nmd(t)).exports=function e(r){"use strict";var i=n(9443),o=n(43400),a=n(82328);function u(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;l.hasOwnProperty("ReactCurrentDispatcher")||(l.ReactCurrentDispatcher={current:null}),l.hasOwnProperty("ReactCurrentBatchConfig")||(l.ReactCurrentBatchConfig={suspense:null});var c="function"==typeof Symbol&&Symbol.for,s=c?Symbol.for("react.element"):60103,f=c?Symbol.for("react.portal"):60106,d=c?Symbol.for("react.fragment"):60107,h=c?Symbol.for("react.strict_mode"):60108,p=c?Symbol.for("react.profiler"):60114,v=c?Symbol.for("react.provider"):60109,g=c?Symbol.for("react.context"):60110,m=c?Symbol.for("react.concurrent_mode"):60111,y=c?Symbol.for("react.forward_ref"):60112,C=c?Symbol.for("react.suspense"):60113,b=c?Symbol.for("react.suspense_list"):60120,x=c?Symbol.for("react.memo"):60115,w=c?Symbol.for("react.lazy"):60116,E=c?Symbol.for("react.block"):60121,S="function"==typeof Symbol&&Symbol.iterator;function k(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=S&&t[S]||t["@@iterator"])?t:null}function A(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case d:return"Fragment";case f:return"Portal";case p:return"Profiler";case h:return"StrictMode";case C:return"Suspense";case b:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case g:return"Context.Consumer";case v:return"Context.Provider";case y:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case x:return A(t.type);case E:return A(t.render);case w:if(t=1===t._status?t._result:null)return A(t)}return null}function D(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function I(t){if(D(t)!==t)throw Error(u(188))}function T(t){var e=t.alternate;if(!e){if(null===(e=D(t)))throw Error(u(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return I(i),t;if(o===r)return I(i),e;o=o.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?t:e}function B(t){if(!(t=T(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var M=r.getPublicInstance,R=r.getRootHostContext,L=r.getChildHostContext,F=r.prepareForCommit,_=r.resetAfterCommit,P=r.createInstance,N=r.appendInitialChild,O=r.finalizeInitialChildren,j=r.prepareUpdate,G=r.shouldSetTextContent,U=r.shouldDeprioritizeSubtree,z=r.createTextInstance,Z=r.setTimeout,Q=r.clearTimeout,W=r.noTimeout,J=r.isPrimaryRenderer,V=r.supportsMutation,H=r.supportsPersistence,K=r.supportsHydration,q=r.appendChild,Y=r.appendChildToContainer,X=r.commitTextUpdate,$=r.commitMount,tt=r.commitUpdate,et=r.insertBefore,nt=r.insertInContainerBefore,rt=r.removeChild,it=r.removeChildFromContainer,ot=r.resetTextContent,at=r.hideInstance,ut=r.hideTextInstance,lt=r.unhideInstance,ct=r.unhideTextInstance,st=r.cloneInstance,ft=r.createContainerChildSet,dt=r.appendChildToContainerChildSet,ht=r.finalizeContainerChildren,pt=r.replaceContainerChildren,vt=r.cloneHiddenInstance,gt=r.cloneHiddenTextInstance,mt=r.canHydrateInstance,yt=r.canHydrateTextInstance,Ct=r.isSuspenseInstancePending,bt=r.isSuspenseInstanceFallback,xt=r.getNextHydratableSibling,wt=r.getFirstHydratableChild,Et=r.hydrateInstance,St=r.hydrateTextInstance,kt=r.getNextHydratableInstanceAfterSuspenseInstance,At=r.commitHydratedContainer,Dt=r.commitHydratedSuspenseInstance,It=/^(.*)[\\\/]/;function Tt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=A(t.type);n=null,r&&(n=A(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(It,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var Bt=[],Mt=-1;function Rt(t){0>Mt||(t.current=Bt[Mt],Bt[Mt]=null,Mt--)}function Lt(t,e){Mt++,Bt[Mt]=t.current,t.current=e}var Ft={},_t={current:Ft},Pt={current:!1},Nt=Ft;function Ot(t,e){var n=t.type.contextTypes;if(!n)return Ft;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function jt(t){return null!=(t=t.childContextTypes)}function Gt(){Rt(Pt),Rt(_t)}function Ut(t,e,n){if(_t.current!==Ft)throw Error(u(168));Lt(_t,e),Lt(Pt,n)}function zt(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(u(108,A(e)||"Unknown",o));return i({},n,{},r)}function Zt(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ft,Nt=_t.current,Lt(_t,t),Lt(Pt,Pt.current),!0}function Qt(t,e,n){var r=t.stateNode;if(!r)throw Error(u(169));n?(t=zt(t,e,Nt),r.__reactInternalMemoizedMergedChildContext=t,Rt(Pt),Rt(_t),Lt(_t,t)):Rt(Pt),Lt(Pt,n)}var Wt=a.unstable_runWithPriority,Jt=a.unstable_scheduleCallback,Vt=a.unstable_cancelCallback,Ht=a.unstable_requestPaint,Kt=a.unstable_now,qt=a.unstable_getCurrentPriorityLevel,Yt=a.unstable_ImmediatePriority,Xt=a.unstable_UserBlockingPriority,$t=a.unstable_NormalPriority,te=a.unstable_LowPriority,ee=a.unstable_IdlePriority,ne={},re=a.unstable_shouldYield,ie=void 0!==Ht?Ht:function(){},oe=null,ae=null,ue=!1,le=Kt(),ce=1e4>le?Kt:function(){return Kt()-le};function se(){switch(qt()){case Yt:return 99;case Xt:return 98;case $t:return 97;case te:return 96;case ee:return 95;default:throw Error(u(332))}}function fe(t){switch(t){case 99:return Yt;case 98:return Xt;case 97:return $t;case 96:return te;case 95:return ee;default:throw Error(u(332))}}function de(t,e){return t=fe(t),Wt(t,e)}function he(t,e,n){return t=fe(t),Jt(t,e,n)}function pe(t){return null===oe?(oe=[t],ae=Jt(Yt,ge)):oe.push(t),ne}function ve(){if(null!==ae){var t=ae;ae=null,Vt(t)}ge()}function ge(){if(!ue&&null!==oe){ue=!0;var t=0;try{var e=oe;de(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),oe=null}catch(e){throw null!==oe&&(oe=oe.slice(t+1)),Jt(Yt,ve),e}finally{ue=!1}}}function me(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}var ye="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Ce=Object.prototype.hasOwnProperty;function be(t,e){if(ye(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ce.call(e,n[r])||!ye(t[n[r]],e[n[r]]))return!1;return!0}function xe(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var we={current:null},Ee=null,Se=null,ke=null;function Ae(){ke=Se=Ee=null}function De(t,e){t=t.type._context,J?(Lt(we,t._currentValue),t._currentValue=e):(Lt(we,t._currentValue2),t._currentValue2=e)}function Ie(t){var e=we.current;Rt(we),t=t.type._context,J?t._currentValue=e:t._currentValue2=e}function Te(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function Be(t,e){Ee=t,ke=Se=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(ir=!0),t.firstContext=null)}function Me(t,e){if(ke!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(ke=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Se){if(null===Ee)throw Error(u(308));Se=e,Ee.dependencies={expirationTime:0,firstContext:e,responders:null}}else Se=Se.next=e;return J?t._currentValue:t._currentValue2}var Re=!1;function Le(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Fe(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function _e(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function Pe(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Ne(t,e){var n=t.alternate;null!==n&&Fe(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function Oe(t,e,n,r){var o=t.updateQueue;Re=!1;var a=o.baseQueue,u=o.shared.pending;if(null!==u){if(null!==a){var l=a.next;a.next=u.next,u.next=l}a=u,o.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=u))}if(null!==a){l=a.next;var c=o.baseState,s=0,f=null,d=null,h=null;if(null!==l)for(var p=l;;){if((u=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(d=h=v,f=c):h=h.next=v,u>s&&(s=u)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Hi(u,p.suspenseConfig);t:{var g=t,m=p;switch(u=e,v=n,m.tag){case 1:if("function"==typeof(g=m.payload)){c=g.call(v,c,u);break t}c=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(u="function"==typeof(g=m.payload)?g.call(v,c,u):g))break t;c=i({},c,u);break t;case 2:Re=!0}}null!==p.callback&&(t.effectTag|=32,null===(u=o.effects)?o.effects=[p]:u.push(p))}if(null===(p=p.next)||p===l){if(null===(u=o.shared.pending))break;p=a.next=u.next,u.next=l,o.baseQueue=a=u,o.shared.pending=null}}null===h?f=c:h.next=d,o.baseState=f,o.baseQueue=h,Ki(s),t.expirationTime=s,t.memoizedState=c}}function je(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(u(191,r));r.call(i)}}}var Ge=l.ReactCurrentBatchConfig,Ue=(new o.Component).refs;function ze(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var Ze={isMounted:function(t){return!!(t=t._reactInternalFiber)&&D(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=_i(),i=Ge.suspense;(i=_e(r=Pi(r,t,i),i)).payload=e,null!=n&&(i.callback=n),Pe(t,i),Ni(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=_i(),i=Ge.suspense;(i=_e(r=Pi(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),Pe(t,i),Ni(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=_i(),r=Ge.suspense;(r=_e(n=Pi(n,t,r),r)).tag=2,null!=e&&(r.callback=e),Pe(t,r),Ni(t,n)}};function Qe(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!be(n,r)||!be(i,o))}function We(t,e,n){var r=!1,i=Ft,o=e.contextType;return"object"==typeof o&&null!==o?o=Me(o):(i=jt(e)?Nt:_t.current,o=(r=null!=(r=e.contextTypes))?Ot(t,i):Ft),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Ze,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Je(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ze.enqueueReplaceState(e,e.state,null)}function Ve(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ue,Le(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=Me(o):(o=jt(e)?Nt:_t.current,i.context=Ot(t,o)),Oe(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(ze(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Ze.enqueueReplaceState(i,i.state,null),Oe(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var He=Array.isArray;function Ke(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===Ue&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!=typeof t)throw Error(u(284));if(!n._owner)throw Error(u(290,t))}return t}function qe(t,e){if("textarea"!==t.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Ye(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=mo(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=bo(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Ke(t,e,n),r.return=t,r):((r=yo(n.type,n.key,n.props,null,t.mode,r)).ref=Ke(t,e,n),r.return=t,r)}function h(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=xo(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function p(t,e,n,r,o){return null===e||7!==e.tag?((e=Co(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function v(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=bo(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case s:return(n=yo(e.type,e.key,e.props,null,t.mode,n)).ref=Ke(t,null,e),n.return=t,n;case f:return(e=xo(e,t.mode,n)).return=t,e}if(He(e)||k(e))return(e=Co(e,t.mode,n,null)).return=t,e;qe(t,e)}return null}function g(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case s:return n.key===i?n.type===d?p(t,e,n.props.children,r,i):c(t,e,n,r):null;case f:return n.key===i?h(t,e,n,r):null}if(He(n)||k(n))return null!==i?null:p(t,e,n,r,null);qe(t,n)}return null}function m(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case s:return t=t.get(null===r.key?n:r.key)||null,r.type===d?p(e,t,r.props.children,i,r.key):c(e,t,r,i);case f:return h(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(He(r)||k(r))return p(e,t=t.get(n)||null,r,i,null);qe(e,r)}return null}function y(i,a,u,l){for(var c=null,s=null,f=a,d=a=0,h=null;null!==f&&d<u.length;d++){f.index>d?(h=f,f=null):h=f.sibling;var p=g(i,f,u[d],l);if(null===p){null===f&&(f=h);break}t&&f&&null===p.alternate&&e(i,f),a=o(p,a,d),null===s?c=p:s.sibling=p,s=p,f=h}if(d===u.length)return n(i,f),c;if(null===f){for(;d<u.length;d++)null!==(f=v(i,u[d],l))&&(a=o(f,a,d),null===s?c=f:s.sibling=f,s=f);return c}for(f=r(i,f);d<u.length;d++)null!==(h=m(f,i,d,u[d],l))&&(t&&null!==h.alternate&&f.delete(null===h.key?d:h.key),a=o(h,a,d),null===s?c=h:s.sibling=h,s=h);return t&&f.forEach((function(t){return e(i,t)})),c}function C(i,a,l,c){var s=k(l);if("function"!=typeof s)throw Error(u(150));if(null==(l=s.call(l)))throw Error(u(151));for(var f=s=null,d=a,h=a=0,p=null,y=l.next();null!==d&&!y.done;h++,y=l.next()){d.index>h?(p=d,d=null):p=d.sibling;var C=g(i,d,y.value,c);if(null===C){null===d&&(d=p);break}t&&d&&null===C.alternate&&e(i,d),a=o(C,a,h),null===f?s=C:f.sibling=C,f=C,d=p}if(y.done)return n(i,d),s;if(null===d){for(;!y.done;h++,y=l.next())null!==(y=v(i,y.value,c))&&(a=o(y,a,h),null===f?s=y:f.sibling=y,f=y);return s}for(d=r(i,d);!y.done;h++,y=l.next())null!==(y=m(d,i,h,y.value,c))&&(t&&null!==y.alternate&&d.delete(null===y.key?h:y.key),a=o(y,a,h),null===f?s=y:f.sibling=y,f=y);return t&&d.forEach((function(t){return e(i,t)})),s}return function(t,r,o,l){var c="object"==typeof o&&null!==o&&o.type===d&&null===o.key;c&&(o=o.props.children);var h="object"==typeof o&&null!==o;if(h)switch(o.$$typeof){case s:t:{for(h=o.key,c=r;null!==c;){if(c.key===h){if(7===c.tag){if(o.type===d){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}}else if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=Ke(t,c,o),r.return=t,t=r;break t}n(t,c);break}e(t,c),c=c.sibling}o.type===d?((r=Co(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=yo(o.type,o.key,o.props,null,t.mode,l)).ref=Ke(t,r,o),l.return=t,t=l)}return a(t);case f:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=xo(o,t.mode,l)).return=t,t=r}return a(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=bo(o,t.mode,l)).return=t,t=r),a(t);if(He(o))return y(t,r,o,l);if(k(o))return C(t,r,o,l);if(h&&qe(t,o),void 0===o&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(u(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Xe=Ye(!0),$e=Ye(!1),tn={},en={current:tn},nn={current:tn},rn={current:tn};function on(t){if(t===tn)throw Error(u(174));return t}function an(t,e){Lt(rn,e),Lt(nn,t),Lt(en,tn),t=R(e),Rt(en),Lt(en,t)}function un(){Rt(en),Rt(nn),Rt(rn)}function ln(t){var e=on(rn.current),n=on(en.current);n!==(e=L(n,t.type,e))&&(Lt(nn,t),Lt(en,e))}function cn(t){nn.current===t&&(Rt(en),Rt(nn))}var sn={current:0};function fn(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ct(n)||bt(n)))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function dn(t,e){return{responder:t,props:e}}var hn=l.ReactCurrentDispatcher,pn=l.ReactCurrentBatchConfig,vn=0,gn=null,mn=null,yn=null,Cn=!1;function bn(){throw Error(u(321))}function xn(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ye(t[n],e[n]))return!1;return!0}function wn(t,e,n,r,i,o){if(vn=o,gn=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,hn.current=null===t||null===t.memoizedState?Wn:Jn,t=n(r,i),e.expirationTime===vn){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(u(301));o+=1,yn=mn=null,e.updateQueue=null,hn.current=Vn,t=n(r,i)}while(e.expirationTime===vn)}if(hn.current=Qn,e=null!==mn&&null!==mn.next,vn=0,yn=mn=gn=null,Cn=!1,e)throw Error(u(300));return t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yn?gn.memoizedState=yn=t:yn=yn.next=t,yn}function Sn(){if(null===mn){var t=gn.alternate;t=null!==t?t.memoizedState:null}else t=mn.next;var e=null===yn?gn.memoizedState:yn.next;if(null!==e)yn=e,mn=t;else{if(null===t)throw Error(u(310));t={memoizedState:(mn=t).memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},null===yn?gn.memoizedState=yn=t:yn=yn.next=t}return yn}function kn(t,e){return"function"==typeof e?e(t):e}function An(t){var e=Sn(),n=e.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=t;var r=mn,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,c=i;do{var s=c.expirationTime;if(s<vn){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=f,o=r):l=l.next=f,s>gn.expirationTime&&(gn.expirationTime=s,Ki(s))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Hi(s,c.suspenseConfig),r=c.eagerReducer===t?c.eagerState:t(r,c.action);c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=a,ye(r,e.memoizedState)||(ir=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Dn(t){var e=Sn(),n=e.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);ye(o,e.memoizedState)||(ir=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function In(t){var e=En();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:kn,lastRenderedState:t}).dispatch=Zn.bind(null,gn,t),[e.memoizedState,t]}function Tn(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=gn.updateQueue)?(e={lastEffect:null},gn.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Bn(){return Sn().memoizedState}function Mn(t,e,n,r){var i=En();gn.effectTag|=t,i.memoizedState=Tn(1|e,n,void 0,void 0===r?null:r)}function Rn(t,e,n,r){var i=Sn();r=void 0===r?null:r;var o=void 0;if(null!==mn){var a=mn.memoizedState;if(o=a.destroy,null!==r&&xn(r,a.deps))return void Tn(e,n,o,r)}gn.effectTag|=t,i.memoizedState=Tn(1|e,n,o,r)}function Ln(t,e){return Mn(516,4,t,e)}function Fn(t,e){return Rn(516,4,t,e)}function _n(t,e){return Rn(4,2,t,e)}function Pn(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Nn(t,e,n){return n=null!=n?n.concat([t]):null,Rn(4,2,Pn.bind(null,e,t),n)}function On(){}function jn(t,e){return En().memoizedState=[t,void 0===e?null:e],t}function Gn(t,e){var n=Sn();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&xn(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Un(t,e){var n=Sn();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&xn(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zn(t,e,n){var r=se();de(98>r?98:r,(function(){t(!0)})),de(97<r?97:r,(function(){var r=pn.suspense;pn.suspense=void 0===e?null:e;try{t(!1),n()}finally{pn.suspense=r}}))}function Zn(t,e,n){var r=_i(),i=Ge.suspense;i={expirationTime:r=Pi(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===gn||null!==o&&o===gn)Cn=!0,i.expirationTime=vn,gn.expirationTime=vn;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,u=o(a,n);if(i.eagerReducer=o,i.eagerState=u,ye(u,a))return}catch(t){}Ni(t,r)}}var Qn={readContext:Me,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useResponder:bn,useDeferredValue:bn,useTransition:bn},Wn={readContext:Me,useCallback:jn,useContext:Me,useEffect:Ln,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,Mn(4,2,Pn.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mn(4,2,t,e)},useMemo:function(t,e){var n=En();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Zn.bind(null,gn,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},En().memoizedState=t},useState:In,useDebugValue:On,useResponder:dn,useDeferredValue:function(t,e){var n=In(t),r=n[0],i=n[1];return Ln((function(){var n=pn.suspense;pn.suspense=void 0===e?null:e;try{i(t)}finally{pn.suspense=n}}),[t,e]),r},useTransition:function(t){var e=In(!1),n=e[0];return e=e[1],[jn(zn.bind(null,e,t),[e,t]),n]}},Jn={readContext:Me,useCallback:Gn,useContext:Me,useEffect:Fn,useImperativeHandle:Nn,useLayoutEffect:_n,useMemo:Un,useReducer:An,useRef:Bn,useState:function(){return An(kn)},useDebugValue:On,useResponder:dn,useDeferredValue:function(t,e){var n=An(kn),r=n[0],i=n[1];return Fn((function(){var n=pn.suspense;pn.suspense=void 0===e?null:e;try{i(t)}finally{pn.suspense=n}}),[t,e]),r},useTransition:function(t){var e=An(kn),n=e[0];return e=e[1],[Gn(zn.bind(null,e,t),[e,t]),n]}},Vn={readContext:Me,useCallback:Gn,useContext:Me,useEffect:Fn,useImperativeHandle:Nn,useLayoutEffect:_n,useMemo:Un,useReducer:Dn,useRef:Bn,useState:function(){return Dn(kn)},useDebugValue:On,useResponder:dn,useDeferredValue:function(t,e){var n=Dn(kn),r=n[0],i=n[1];return Fn((function(){var n=pn.suspense;pn.suspense=void 0===e?null:e;try{i(t)}finally{pn.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Dn(kn),n=e[0];return e=e[1],[Gn(zn.bind(null,e,t),[e,t]),n]}},Hn=null,Kn=null,qn=!1;function Yn(t,e){var n=vo(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Xn(t,e){switch(t.tag){case 5:return null!==(e=mt(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=yt(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function $n(t){if(qn){var e=Kn;if(e){var n=e;if(!Xn(t,e)){if(!(e=xt(n))||!Xn(t,e))return t.effectTag=-1025&t.effectTag|2,qn=!1,void(Hn=t);Yn(Hn,n)}Hn=t,Kn=wt(e)}else t.effectTag=-1025&t.effectTag|2,qn=!1,Hn=t}}function tr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Hn=t}function er(t){if(!K||t!==Hn)return!1;if(!qn)return tr(t),qn=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!G(e,t.memoizedProps))for(e=Kn;e;)Yn(t,e),e=xt(e);if(tr(t),13===t.tag){if(!K)throw Error(u(316));if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(u(317));Kn=kt(t)}else Kn=Hn?xt(t.stateNode):null;return!0}function nr(){K&&(Kn=Hn=null,qn=!1)}var rr=l.ReactCurrentOwner,ir=!1;function or(t,e,n,r){e.child=null===t?$e(e,null,n,r):Xe(e,t.child,n,r)}function ar(t,e,n,r,i){n=n.render;var o=e.ref;return Be(e,i),r=wn(t,e,n,r,o,i),null===t||ir?(e.effectTag|=1,or(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Er(t,e,i))}function ur(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||go(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=yo(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,lr(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:be)(i,r)&&t.ref===e.ref)?Er(t,e,o):(e.effectTag|=1,(t=mo(a,r)).ref=e.ref,t.return=e,e.child=t)}function lr(t,e,n,r,i,o){return null!==t&&be(t.memoizedProps,r)&&t.ref===e.ref&&(ir=!1,i<o)?(e.expirationTime=t.expirationTime,Er(t,e,o)):sr(t,e,n,r,o)}function cr(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function sr(t,e,n,r,i){var o=jt(n)?Nt:_t.current;return o=Ot(e,o),Be(e,i),n=wn(t,e,n,r,o,i),null===t||ir?(e.effectTag|=1,or(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Er(t,e,i))}function fr(t,e,n,r,i){if(jt(n)){var o=!0;Zt(e)}else o=!1;if(Be(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),We(e,n,r),Ve(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,u=e.memoizedProps;a.props=u;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Me(c):c=Ot(e,c=jt(n)?Nt:_t.current);var s=n.getDerivedStateFromProps,f="function"==typeof s||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||l!==c)&&Je(e,a,r,c),Re=!1;var d=e.memoizedState;a.state=d,Oe(e,r,a,i),l=e.memoizedState,u!==r||d!==l||Pt.current||Re?("function"==typeof s&&(ze(e,n,s,r),l=e.memoizedState),(u=Re||Qe(e,n,u,r,d,l,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=u):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,Fe(t,e),u=e.memoizedProps,a.props=e.type===e.elementType?u:xe(e.type,u),l=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=Me(c):c=Ot(e,c=jt(n)?Nt:_t.current),(f="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||l!==c)&&Je(e,a,r,c),Re=!1,l=e.memoizedState,a.state=l,Oe(e,r,a,i),d=e.memoizedState,u!==r||l!==d||Pt.current||Re?("function"==typeof s&&(ze(e,n,s,r),d=e.memoizedState),(s=Re||Qe(e,n,u,r,l,d,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||u===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=c,r=s):("function"!=typeof a.componentDidUpdate||u===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),r=!1);return dr(t,e,n,r,o,i)}function dr(t,e,n,r,i,o){cr(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&Qt(e,n,!1),Er(t,e,o);r=e.stateNode,rr.current=e;var u=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Xe(e,t.child,null,o),e.child=Xe(e,null,u,o)):or(t,e,u,o),e.memoizedState=r.state,i&&Qt(e,n,!0),e.child}function hr(t){var e=t.stateNode;e.pendingContext?Ut(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ut(0,e.context,!1),an(t,e.containerInfo)}var pr,vr,gr,mr,yr={dehydrated:null,retryTime:0};function Cr(t,e,n){var r,i=e.mode,o=e.pendingProps,a=sn.current,u=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&a)&&(null===t||null!==t.memoizedState)),r?(u=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),Lt(sn,1&a),null===t){if(void 0!==o.fallback&&$n(e),u){if(u=o.fallback,(o=Co(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Co(u,i,n,null)).return=e,o.sibling=n,e.memoizedState=yr,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=$e(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,u){if(o=o.fallback,(n=mo(t,t.pendingProps)).return=e,0==(2&e.mode)&&(u=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=mo(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=yr,e.child=n,i}return n=Xe(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,u){if(u=o.fallback,(o=Co(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Co(u,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=yr,e.child=o,n}return e.memoizedState=null,e.child=Xe(e,t,o.children,n)}function br(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),Te(t.return,e)}function xr(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function wr(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(or(t,e,r.children,n),0!=(2&(r=sn.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&br(t,n);else if(19===t.tag)br(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Lt(sn,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===fn(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xr(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===fn(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xr(e,!0,n,null,o,e.lastEffect);break;case"together":xr(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Er(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&Ki(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(u(153));if(null!==e.child){for(n=mo(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=mo(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Sr(t){t.effectTag|=4}if(V)pr=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)N(t,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},vr=function(){},gr=function(t,e,n,r,i){if((t=t.memoizedProps)!==r){var o=e.stateNode,a=on(en.current);n=j(o,n,t,r,i,a),(e.updateQueue=n)&&Sr(e)}},mr=function(t,e,n,r){n!==r&&Sr(e)};else if(H){pr=function(t,e,n,r){for(var i=e.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=vt(o,i.type,i.memoizedProps,i)),N(t,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=gt(o,i.memoizedProps,i)),N(t,o);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.effectTag)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,pr(t,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var kr=function(t,e,n,r){for(var i=e.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=vt(o,i.type,i.memoizedProps,i)),dt(t,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=gt(o,i.memoizedProps,i)),dt(t,o);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.effectTag)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,kr(t,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};vr=function(t){var e=t.stateNode;if(null!==t.firstEffect){var n=e.containerInfo,r=ft(n);kr(r,t,!1,!1),e.pendingChildren=r,Sr(t),ht(n,r)}},gr=function(t,e,n,r,i){var o=t.stateNode,a=t.memoizedProps;if((t=null===e.firstEffect)&&a===r)e.stateNode=o;else{var u=e.stateNode,l=on(en.current),c=null;a!==r&&(c=j(u,n,a,r,i,l)),t&&null===c?e.stateNode=o:(o=st(o,c,n,a,r,e,t,u),O(o,n,r,i,l)&&Sr(e),e.stateNode=o,t?Sr(e):pr(o,e,!1,!1))}},mr=function(t,e,n,r){n!==r?(t=on(rn.current),n=on(en.current),e.stateNode=z(r,t,n,e),Sr(e)):e.stateNode=t.stateNode}}else vr=function(){},gr=function(){},mr=function(){};function Ar(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dr(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return jt(e.type)&&Gt(),null;case 3:return un(),Rt(Pt),Rt(_t),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===t||null===t.child)&&er(e)&&Sr(e),vr(e),null;case 5:cn(e);var i=on(rn.current);if(n=e.type,null!==t&&null!=e.stateNode)gr(t,e,n,r,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(u(166));return null}if(t=on(en.current),er(e)){if(!K)throw Error(u(175));t=Et(e.stateNode,e.type,e.memoizedProps,i,t,e),e.updateQueue=t,null!==t&&Sr(e)}else{var o=P(n,r,i,t,e);pr(o,e,!1,!1),e.stateNode=o,O(o,n,r,i,t)&&Sr(e)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)mr(t,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(u(166));if(t=on(rn.current),i=on(en.current),er(e)){if(!K)throw Error(u(176));St(e.stateNode,e.memoizedProps,e)&&Sr(e)}else e.stateNode=z(r,t,i,e)}return null;case 13:return Rt(sn),r=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=n,e):(r=null!==r,i=!1,null===t?void 0!==e.memoizedProps.fallback&&er(e):(i=null!==(n=t.memoizedState),r||null===n||null!==(n=t.child.sibling)&&(null!==(o=e.firstEffect)?(e.firstEffect=n,n.nextEffect=o):(e.firstEffect=e.lastEffect=n,n.nextEffect=null),n.effectTag=8)),r&&!i&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&sn.current)?vi===oi&&(vi=li):(vi!==oi&&vi!==li||(vi=ci),0!==bi&&null!==di&&(So(di,pi),ko(di,bi)))),H&&r&&(e.effectTag|=4),V&&(r||i)&&(e.effectTag|=4),null);case 4:return un(),vr(e),null;case 10:return Ie(e),null;case 19:if(Rt(sn),null===(r=e.memoizedState))return null;if(i=0!=(64&e.effectTag),null===(o=r.rendering)){if(i)Ar(r,!1);else if(vi!==oi||null!==t&&0!=(64&t.effectTag))for(t=e.child;null!==t;){if(null!==(o=fn(t))){for(e.effectTag|=64,Ar(r,!1),null!==(t=o.updateQueue)&&(e.updateQueue=t,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,t=n,r=e.child;null!==r;)n=t,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(o=i.alternate)?(i.childExpirationTime=0,i.expirationTime=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=o.childExpirationTime,i.expirationTime=o.expirationTime,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,n=o.dependencies,i.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),r=r.sibling;return Lt(sn,1&sn.current|2),e.child}t=t.sibling}}else{if(!i)if(null!==(t=fn(o))){if(e.effectTag|=64,i=!0,null!==(t=t.updateQueue)&&(e.updateQueue=t,e.effectTag|=4),Ar(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*ce()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,i=!0,Ar(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(o.sibling=e.child,e.child=o):(null!==(t=r.last)?t.sibling=o:e.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ce()+500),t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=ce(),t.sibling=null,e=sn.current,Lt(sn,i?1&e|2:1&e),t):null}throw Error(u(156,e.tag))}function Ir(t){switch(t.tag){case 1:jt(t.type)&&Gt();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(un(),Rt(Pt),Rt(_t),0!=(64&(e=t.effectTag)))throw Error(u(285));return t.effectTag=-4097&e|64,t;case 5:return cn(t),null;case 13:return Rt(sn),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return Rt(sn),null;case 4:return un(),null;case 10:return Ie(t),null;default:return null}}function Tr(t,e){return{value:t,source:e,stack:Tt(e)}}var Br="function"==typeof WeakSet?WeakSet:Set;function Mr(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=Tt(n)),null!==n&&A(n.type),e=e.value,null!==t&&1===t.tag&&A(t.type)}function Rr(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){uo(t,e)}else e.current=null}function Lr(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:xe(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(u(163))}function Fr(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function _r(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pr(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void _r(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:xe(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&je(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=M(n.child.stateNode);break;case 1:t=n.child.stateNode}je(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&$(t,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(K&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))))}throw Error(u(163))}function Nr(t,e,n){switch("function"==typeof ho&&ho(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;de(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(t){uo(i,t)}}t=t.next}while(t!==r)}))}break;case 1:Rr(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){uo(t,e)}}(e,n);break;case 5:Rr(e);break;case 4:V?Qr(t,e,n):H&&function(t){if(H){t=t.stateNode.containerInfo;var e=ft(t);pt(t,e)}}(e)}}function Or(t,e,n){for(var r=e;;)if(Nr(t,r,n),null===r.child||V&&4===r.tag){if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function jr(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&jr(e)}function Gr(t){return 5===t.tag||3===t.tag||4===t.tag}function Ur(t){if(V){t:{for(var e=t.return;null!==e;){if(Gr(e)){var n=e;break t}e=e.return}throw Error(u(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(u(161))}16&n.effectTag&&(ot(e),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Gr(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?zr(t,n,e):Zr(t,n,e)}}function zr(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?nt(n,t,e):Y(n,t);else if(4!==r&&null!==(t=t.child))for(zr(t,e,n),t=t.sibling;null!==t;)zr(t,e,n),t=t.sibling}function Zr(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?et(n,t,e):q(n,t);else if(4!==r&&null!==(t=t.child))for(Zr(t,e,n),t=t.sibling;null!==t;)Zr(t,e,n),t=t.sibling}function Qr(t,e,n){for(var r,i,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(u(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag)Or(t,o,n),i?it(r,o.stateNode):rt(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Nr(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Wr(t,e){if(V){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Fr(3,e);case 1:case 12:case 17:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var i=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&tt(n,o,i,t,r,e)}return;case 6:if(null===e.stateNode)throw Error(u(162));return n=e.memoizedProps,void X(e.stateNode,null!==t?t.memoizedProps:n,n);case 3:return void(K&&(e=e.stateNode,e.hydrate&&(e.hydrate=!1,At(e.containerInfo))));case 13:return Jr(e),void Vr(e);case 19:return void Vr(e)}throw Error(u(163))}switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Fr(3,e);case 12:return;case 13:return Jr(e),void Vr(e);case 19:return void Vr(e);case 3:K&&((n=e.stateNode).hydrate&&(n.hydrate=!1,At(n.containerInfo)))}t:if(H){switch(e.tag){case 1:case 5:case 6:case 20:break t;case 3:case 4:e=e.stateNode,pt(e.containerInfo,e.pendingChildren);break t}throw Error(u(163))}}function Jr(t){var e=t;if(null===t.memoizedState)var n=!1;else n=!0,e=t.child,wi=ce();if(V&&null!==e)t:if(t=e,V)for(e=t;;){if(5===e.tag){var r=e.stateNode;n?at(r):lt(e.stateNode,e.memoizedProps)}else if(6===e.tag)r=e.stateNode,n?ut(r):ct(r,e.memoizedProps);else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(r=e.child.sibling).return=e,e=r;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}}function Vr(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Br),e.forEach((function(e){var r=co.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var Hr="function"==typeof WeakMap?WeakMap:Map;function Kr(t,e,n){(n=_e(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ki||(ki=!0,Ai=r),Mr(t,e)},n}function qr(t,e,n){(n=_e(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return Mr(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Di?Di=new Set([this]):Di.add(this),Mr(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Yr,Xr=Math.ceil,$r=l.ReactCurrentDispatcher,ti=l.ReactCurrentOwner,ei=0,ni=8,ri=16,ii=32,oi=0,ai=1,ui=2,li=3,ci=4,si=5,fi=ei,di=null,hi=null,pi=0,vi=oi,gi=null,mi=1073741823,yi=1073741823,Ci=null,bi=0,xi=!1,wi=0,Ei=500,Si=null,ki=!1,Ai=null,Di=null,Ii=!1,Ti=null,Bi=90,Mi=null,Ri=0,Li=null,Fi=0;function _i(){return(fi&(ri|ii))!==ei?1073741821-(ce()/10|0):0!==Fi?Fi:Fi=1073741821-(ce()/10|0)}function Pi(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=se();if(0==(4&e))return 99===r?1073741823:1073741822;if((fi&ri)!==ei)return pi;if(null!==n)t=me(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=me(t,150,100);break;case 97:case 96:t=me(t,5e3,250);break;case 95:t=2;break;default:throw Error(u(326))}return null!==di&&t===pi&&--t,t}function Ni(t,e){if(50<Ri)throw Ri=0,Li=null,Error(u(185));if(null!==(t=Oi(t,e))){var n=se();1073741823===e?(fi&ni)!==ei&&(fi&(ri|ii))===ei?zi(t):(Gi(t),fi===ei&&ve()):Gi(t),(4&fi)===ei||98!==n&&99!==n||(null===Mi?Mi=new Map([[t,e]]):(void 0===(n=Mi.get(t))||n>e)&&Mi.set(t,e))}}function Oi(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(di===i&&(Ki(e),vi===ci&&So(i,pi)),ko(i,e)),i}function ji(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Eo(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Gi(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=pe(zi.bind(null,t));else{var e=ji(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=_i();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==ne&&Vt(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?pe(zi.bind(null,t)):he(r,Ui.bind(null,t),{timeout:10*(1073741821-e)-ce()}),t.callbackNode=e}}}function Ui(t,e){if(Fi=0,e)return Ao(t,e=_i()),Gi(t),null;var n=ji(t);if(0!==n){if(e=t.callbackNode,(fi&(ri|ii))!==ei)throw Error(u(327));if(io(),t===di&&n===pi||Wi(t,n),null!==hi){var r=fi;fi|=ri;for(var i=Vi();;)try{Yi();break}catch(e){Ji(t,e)}if(Ae(),fi=r,$r.current=i,vi===ai)throw e=gi,Wi(t,n),So(t,n),Gi(t),e;if(null===hi)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=vi,di=null,r){case oi:case ai:throw Error(u(345));case ui:Ao(t,2<n?2:n);break;case li:if(So(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=to(i)),1073741823===mi&&10<(i=wi+Ei-ce())){if(xi){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,Wi(t,n);break}}if(0!==(o=ji(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=Z(eo.bind(null,t),i);break}eo(t);break;case ci:if(So(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=to(i)),xi&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,Wi(t,n);break}if(0!==(i=ji(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==yi?r=10*(1073741821-yi)-ce():1073741823===mi?r=0:(r=10*(1073741821-mi)-5e3,0>(r=(i=ce())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xr(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=Z(eo.bind(null,t),r);break}eo(t);break;case si:if(1073741823!==mi&&null!==Ci){o=mi;var a=Ci;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=ce()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){So(t,n),t.timeoutHandle=Z(eo.bind(null,t),r);break}}eo(t);break;default:throw Error(u(329))}if(Gi(t),t.callbackNode===e)return Ui.bind(null,t)}}return null}function zi(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(fi&(ri|ii))!==ei)throw Error(u(327));if(io(),t===di&&e===pi||Wi(t,e),null!==hi){var n=fi;fi|=ri;for(var r=Vi();;)try{qi();break}catch(e){Ji(t,e)}if(Ae(),fi=n,$r.current=r,vi===ai)throw n=gi,Wi(t,e),So(t,e),Gi(t),n;if(null!==hi)throw Error(u(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,di=null,eo(t),Gi(t)}return null}function Zi(t,e){var n=fi;fi|=1;try{return t(e)}finally{(fi=n)===ei&&ve()}}function Qi(t,e){if((fi&(ri|ii))!==ei)throw Error(u(187));var n=fi;fi|=1;try{return de(99,t.bind(null,e))}finally{fi=n,ve()}}function Wi(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(n!==W&&(t.timeoutHandle=W,Q(n)),null!==hi)for(n=hi.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Gt();break;case 3:un(),Rt(Pt),Rt(_t);break;case 5:cn(r);break;case 4:un();break;case 13:case 19:Rt(sn);break;case 10:Ie(r)}n=n.return}di=t,hi=mo(t.current,null),pi=e,vi=oi,gi=null,yi=mi=1073741823,Ci=null,bi=0,xi=!1}function Ji(t,e){for(;;){try{if(Ae(),hn.current=Qn,Cn)for(var n=gn.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(vn=0,yn=mn=gn=null,Cn=!1,null===hi||null===hi.return)return vi=ai,gi=e,hi=null;t:{var i=t,o=hi.return,a=hi,u=e;if(e=pi,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var s=0!=(1&sn.current),f=o;do{var d;if(d=13===f.tag){var h=f.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var p=f.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!s)}}if(d){var v=f.updateQueue;if(null===v){var g=new Set;g.add(l),f.updateQueue=g}else v.add(l);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var m=_e(1073741823,null);m.tag=2,Pe(a,m)}a.expirationTime=1073741823;break t}u=void 0,a=e;var y=i.pingCache;if(null===y?(y=i.pingCache=new Hr,u=new Set,y.set(l,u)):void 0===(u=y.get(l))&&(u=new Set,y.set(l,u)),!u.has(a)){u.add(a);var C=lo.bind(null,i,l,a);l.then(C,C)}f.effectTag|=4096,f.expirationTime=e;break t}f=f.return}while(null!==f);u=Error((A(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Tt(a))}vi!==si&&(vi=ui),u=Tr(u,a),f=o;do{switch(f.tag){case 3:l=u,f.effectTag|=4096,f.expirationTime=e,Ne(f,Kr(f,l,e));break t;case 1:l=u;var b=f.type,x=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Di||!Di.has(x)))){f.effectTag|=4096,f.expirationTime=e,Ne(f,qr(f,l,e));break t}}f=f.return}while(null!==f)}hi=$i(hi)}catch(t){e=t;continue}break}}function Vi(){var t=$r.current;return $r.current=Qn,null===t?Qn:t}function Hi(t,e){t<mi&&2<t&&(mi=t),null!==e&&t<yi&&2<t&&(yi=t,Ci=e)}function Ki(t){t>bi&&(bi=t)}function qi(){for(;null!==hi;)hi=Xi(hi)}function Yi(){for(;null!==hi&&!re();)hi=Xi(hi)}function Xi(t){var e=Yr(t.alternate,t,pi);return t.memoizedProps=t.pendingProps,null===e&&(e=$i(t)),ti.current=null,e}function $i(t){hi=t;do{var e=hi.alternate;if(t=hi.return,0==(2048&hi.effectTag)){if(e=Dr(e,hi,pi),1===pi||1!==hi.childExpirationTime){for(var n=0,r=hi.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}hi.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=hi.firstEffect),null!==hi.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=hi.firstEffect),t.lastEffect=hi.lastEffect),1<hi.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=hi:t.firstEffect=hi,t.lastEffect=hi))}else{if(null!==(e=Ir(hi)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=hi.sibling))return e;hi=t}while(null!==hi);return vi===oi&&(vi=si),null}function to(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function eo(t){var e=se();return de(99,no.bind(null,t,e)),null}function no(t,e){do{io()}while(null!==Ti);if((fi&(ri|ii))!==ei)throw Error(u(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(u(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=to(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===di&&(hi=di=null,pi=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=fi;fi|=ii,ti.current=null,F(t.containerInfo),Si=i;do{try{ro()}catch(t){if(null===Si)throw Error(u(330));uo(Si,t),Si=Si.nextEffect}}while(null!==Si);Si=i;do{try{for(var a=t,l=e;null!==Si;){var c=Si.effectTag;if(16&c&&V&&ot(Si.stateNode),128&c){var s=Si.alternate;if(null!==s){var f=s.ref;null!==f&&("function"==typeof f?f(null):f.current=null)}}switch(1038&c){case 2:Ur(Si),Si.effectTag&=-3;break;case 6:Ur(Si),Si.effectTag&=-3,Wr(Si.alternate,Si);break;case 1024:Si.effectTag&=-1025;break;case 1028:Si.effectTag&=-1025,Wr(Si.alternate,Si);break;case 4:Wr(Si.alternate,Si);break;case 8:var d=a,h=Si,p=l;V?Qr(d,h,p):Or(d,h,p),jr(h)}Si=Si.nextEffect}}catch(t){if(null===Si)throw Error(u(330));uo(Si,t),Si=Si.nextEffect}}while(null!==Si);_(t.containerInfo),t.current=n,Si=i;do{try{for(c=t;null!==Si;){var v=Si.effectTag;if(36&v&&Pr(c,Si.alternate,Si),128&v){s=void 0;var g=Si.ref;if(null!==g){var m=Si.stateNode;if(5===Si.tag)s=M(m);else s=m;"function"==typeof g?g(s):g.current=s}}Si=Si.nextEffect}}catch(t){if(null===Si)throw Error(u(330));uo(Si,t),Si=Si.nextEffect}}while(null!==Si);Si=null,ie(),fi=o}else t.current=n;if(Ii)Ii=!1,Ti=t,Bi=e;else for(Si=i;null!==Si;)e=Si.nextEffect,Si.nextEffect=null,Si=e;if(0===(e=t.firstPendingTime)&&(Di=null),1073741823===e?t===Li?Ri++:(Ri=0,Li=t):Ri=0,"function"==typeof fo&&fo(n.stateNode,r),Gi(t),ki)throw ki=!1,t=Ai,Ai=null,t;return(fi&ni)!==ei||ve(),null}function ro(){for(;null!==Si;){var t=Si.effectTag;0!=(256&t)&&Lr(Si.alternate,Si),0==(512&t)||Ii||(Ii=!0,he(97,(function(){return io(),null}))),Si=Si.nextEffect}}function io(){if(90!==Bi){var t=97<Bi?97:Bi;return Bi=90,de(t,oo)}}function oo(){if(null===Ti)return!1;var t=Ti;if(Ti=null,(fi&(ri|ii))!==ei)throw Error(u(331));var e=fi;for(fi|=ii,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Fr(5,n),_r(5,n)}}catch(e){if(null===t)throw Error(u(330));uo(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return fi=e,ve(),!0}function ao(t,e,n){Pe(t,e=Kr(t,e=Tr(n,e),1073741823)),null!==(t=Oi(t,1073741823))&&Gi(t)}function uo(t,e){if(3===t.tag)ao(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){ao(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Di||!Di.has(r))){Pe(n,t=qr(n,t=Tr(e,t),1073741823)),null!==(n=Oi(n,1073741823))&&Gi(n);break}}n=n.return}}function lo(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),di===t&&pi===n?vi===ci||vi===li&&1073741823===mi&&ce()-wi<Ei?Wi(t,pi):xi=!0:Eo(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Gi(t)))}function co(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Pi(e=_i(),t,null)),null!==(t=Oi(t,e))&&Gi(t)}Yr=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||Pt.current)ir=!0;else{if(r<n){switch(ir=!1,e.tag){case 3:hr(e),nr();break;case 5:if(ln(e),4&e.mode&&1!==n&&U(e.type,i))return e.expirationTime=e.childExpirationTime=1,null;break;case 1:jt(e.type)&&Zt(e);break;case 4:an(e,e.stateNode.containerInfo);break;case 10:De(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Cr(t,e,n):(Lt(sn,1&sn.current),null!==(e=Er(t,e,n))?e.sibling:null);Lt(sn,1&sn.current);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return wr(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),Lt(sn,sn.current),!r)return null}return Er(t,e,n)}ir=!1}}else ir=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=Ot(e,_t.current),Be(e,n),i=wn(null,e,r,t,i,n),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)){var o=!0;Zt(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Le(e);var a=r.getDerivedStateFromProps;"function"==typeof a&&ze(e,r,a,t),i.updater=Ze,e.stateNode=i,i._reactInternalFiber=e,Ve(e,r,t,n),e=dr(null,e,r,!0,o,n)}else e.tag=0,or(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"==typeof t)return go(t)?1:0;if(null!=t){if((t=t.$$typeof)===y)return 11;if(t===x)return 14}return 2}(i),t=xe(i,t),o){case 0:e=sr(null,e,i,t,n);break t;case 1:e=fr(null,e,i,t,n);break t;case 11:e=ar(null,e,i,t,n);break t;case 14:e=ur(null,e,i,xe(i.type,t),r,n);break t}throw Error(u(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,sr(t,e,r,i=e.elementType===r?i:xe(r,i),n);case 1:return r=e.type,i=e.pendingProps,fr(t,e,r,i=e.elementType===r?i:xe(r,i),n);case 3:if(hr(e),r=e.updateQueue,null===t||null===r)throw Error(u(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,Fe(t,e),Oe(e,r,null,n),(r=e.memoizedState.element)===i)nr(),e=Er(t,e,n);else{if((i=e.stateNode.hydrate)&&(K?(Kn=wt(e.stateNode.containerInfo),Hn=e,i=qn=!0):i=!1),i)for(n=$e(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else or(t,e,r,n),nr();e=e.child}return e;case 5:return ln(e),null===t&&$n(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,G(r,i)?a=null:null!==o&&G(r,o)&&(e.effectTag|=16),cr(t,e),4&e.mode&&1!==n&&U(r,i)?(e.expirationTime=e.childExpirationTime=1,e=null):(or(t,e,a,n),e=e.child),e;case 6:return null===t&&$n(e),null;case 13:return Cr(t,e,n);case 4:return an(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Xe(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,ar(t,e,r,i=e.elementType===r?i:xe(r,i),n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,De(e,o=i.value),null!==a){var l=a.value;if(0===(o=ye(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!Pt.current){e=Er(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var s=c.firstContext;null!==s;){if(s.context===r&&0!=(s.observedBits&o)){1===l.tag&&((s=_e(n,null)).tag=2,Pe(l,s)),l.expirationTime<n&&(l.expirationTime=n),null!==(s=l.alternate)&&s.expirationTime<n&&(s.expirationTime=n),Te(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}s=s.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,Be(e,n),r=r(i=Me(i,o.unstable_observedBits)),e.effectTag|=1,or(t,e,r,n),e.child;case 14:return o=xe(i=e.type,e.pendingProps),ur(t,e,i,o=xe(i.type,o),r,n);case 15:return lr(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xe(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,jt(r)?(t=!0,Zt(e)):t=!1,Be(e,n),We(e,r,i),Ve(e,r,i,n),dr(null,e,r,!0,t,n);case 19:return wr(t,e,n)}throw Error(u(156,e.tag))};var so={current:!1},fo=null,ho=null;function po(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function vo(t,e,n,r){return new po(t,e,n,r)}function go(t){return!(!(t=t.prototype)||!t.isReactComponent)}function mo(t,e){var n=t.alternate;return null===n?((n=vo(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yo(t,e,n,r,i,o){var a=2;if(r=t,"function"==typeof t)go(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case d:return Co(n.children,i,o,e);case m:a=8,i|=7;break;case h:a=8,i|=1;break;case p:return(t=vo(12,n,e,8|i)).elementType=p,t.type=p,t.expirationTime=o,t;case C:return(t=vo(13,n,e,i)).type=C,t.elementType=C,t.expirationTime=o,t;case b:return(t=vo(19,n,e,i)).elementType=b,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case v:a=10;break t;case g:a=9;break t;case y:a=11;break t;case x:a=14;break t;case w:a=16,r=null;break t;case E:a=22;break t}throw Error(u(130,null==t?t:typeof t,""))}return(e=vo(a,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Co(t,e,n,r){return(t=vo(7,t,r,e)).expirationTime=n,t}function bo(t,e,n){return(t=vo(6,t,null,e)).expirationTime=n,t}function xo(t,e,n){return(e=vo(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wo(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=W,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Eo(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function So(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function ko(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Ao(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}var Do=null;function Io(t){var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(u(188));throw Error(u(268,Object.keys(t)))}return null===(t=B(e))?null:t.stateNode}function To(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Bo(t,e){To(t,e),(t=t.alternate)&&To(t,e)}var Mo=l.IsSomeRendererActing,Ro="function"==typeof a.unstable_flushAllWithoutAsserting,Lo=a.unstable_flushAllWithoutAsserting||function(){for(var t=!1;io();)t=!0;return t};function Fo(e){try{Lo(),function(e){if(null===Do)try{var n=("require"+Math.random()).slice(0,7);Do=(t&&t[n])("timers").setImmediate}catch(t){Do=function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(void 0)}}Do(e)}((function(){Lo()?Fo(e):e()}))}catch(t){e(t)}}var _o=0,Po=!1,No={__proto__:null,createContainer:function(t,e,n){return t=new wo(t,e,n),e=vo(3,null,null,2===e?7:1===e?3:0),t.current=e,e.stateNode=t,Le(e),t},updateContainer:function(t,e,n,r){var i=e.current,o=_i(),a=Ge.suspense;o=Pi(o,i,a);t:if(n){e:{if(D(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(u(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(jt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(u(171))}if(1===n.tag){var c=n.type;if(jt(c)){n=zt(n,c,l);break t}}n=l}else n=Ft;return null===e.context?e.context=n:e.pendingContext=n,(e=_e(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),Pe(i,e),Ni(i,o),o},batchedEventUpdates:function(t,e){var n=fi;fi|=2;try{return t(e)}finally{(fi=n)===ei&&ve()}},batchedUpdates:Zi,unbatchedUpdates:function(t,e){var n=fi;fi&=-2,fi|=ni;try{return t(e)}finally{(fi=n)===ei&&ve()}},deferredUpdates:function(t){return de(97,t)},syncUpdates:function(t,e,n,r){return de(99,t.bind(null,e,n,r))},discreteUpdates:function(t,e,n,r,i){var o=fi;fi|=4;try{return de(98,t.bind(null,e,n,r,i))}finally{(fi=o)===ei&&ve()}},flushDiscreteUpdates:function(){(fi&(1|ri|ii))===ei&&(function(){if(null!==Mi){var t=Mi;Mi=null,t.forEach((function(t,e){Ao(e,t),Gi(e)})),ve()}}(),io())},flushControlled:function(t){var e=fi;fi|=1;try{de(99,t)}finally{(fi=e)===ei&&ve()}},flushSync:Qi,flushPassiveEffects:io,IsThisRendererActing:so,getPublicRootInstance:function(t){return(t=t.current).child?5===t.child.tag?M(t.child.stateNode):t.child.stateNode:null},attemptSynchronousHydration:function(t){switch(t.tag){case 3:var e=t.stateNode;e.hydrate&&function(t,e){Ao(t,e),Gi(t),(fi&(ri|ii))===ei&&ve()}(e,e.firstPendingTime);break;case 13:Qi((function(){return Ni(t,1073741823)})),e=me(_i(),150,100),Bo(t,e)}},attemptUserBlockingHydration:function(t){if(13===t.tag){var e=me(_i(),150,100);Ni(t,e),Bo(t,e)}},attemptContinuousHydration:function(t){13===t.tag&&(Ni(t,3),Bo(t,3))},attemptHydrationAtCurrentPriority:function(t){if(13===t.tag){var e=_i();Ni(t,e=Pi(e,t,null)),Bo(t,e)}},findHostInstance:Io,findHostInstanceWithWarning:function(t){return Io(t)},findHostInstanceWithNoPortals:function(t){return null===(t=function(t){if(!(t=T(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}(t))?null:20===t.tag?t.stateNode.instance:t.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(t){var e=t.findFiberByHostInstance;return function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);fo=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},ho=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}return!0}(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=B(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))},act:function(t){function e(){_o--,Mo.current=n,so.current=r}!1===Po&&(Po=!0),_o++;var n=Mo.current,r=so.current;Mo.current=!0,so.current=!0;try{var i=Zi(t)}catch(t){throw e(),t}if(null!==i&&"object"==typeof i&&"function"==typeof i.then)return{then:function(t,r){i.then((function(){1<_o||!0===Ro&&!0===n?(e(),t()):Fo((function(n){e(),n?r(n):t()}))}),(function(t){e(),r(t)}))}};try{1!==_o||!1!==Ro&&!1!==n||Lo(),e()}catch(t){throw e(),t}return{then:function(t){t()}}}},Oo=No&&No.default||No;t.exports=Oo.default||Oo;var jo=t.exports;return t.exports=e,jo}},64932:function(t,e,n){"use strict";t.exports=n(65080)},19980:function(t,e,n){"use strict";n.d(e,{o:function(){return a}});var r=n(43400);var i=function(t){(0,r.useEffect)(t,[])},o=n(74808);function a(t){var e={state:t instanceof Function?t():t,setState:function(t){e.state=function(t,e){return"function"==typeof t?t.length?t(e):t():t}(t,e.state),e.setters.forEach((function(t){return t(e.state)}))},setters:[]};return function(){var t=(0,r.useState)(e.state),n=t[0],a=t[1];return i((function(){return function(){e.setters=e.setters.filter((function(t){return t!==a}))}})),(0,o.c)((function(){e.setters.includes(a)||e.setters.push(a)})),[n,e.setState]}}},52484:function(t,e,n){"use strict";var r=n(43400);e.c=function(t,e){var n=(0,r.useState)(null),i=n[0],o=n[1];return(0,r.useEffect)((function(){if(t.current&&"function"==typeof IntersectionObserver){var n=new IntersectionObserver((function(t){o(t[0])}),e);return n.observe(t.current),function(){o(null),n.disconnect()}}return function(){}}),[t.current,e.threshold,e.root,e.rootMargin]),i}},74808:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(43400);var i="undefined"!=typeof window,o=i?r.useLayoutEffect:r.useEffect},29392:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),u=new B(r||[]);return i(a,"_invoke",{value:A(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function C(){}var b={};c(b,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(M([])));w&&w!==n&&r.call(w,a)&&(b=w);var E=C.prototype=m.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,u){var l=f(t[i],t,o);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==typeof s&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,u)}))}u(l.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function A(t,e,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=D(a,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=f(t,e,n);if("normal"===l.type){if(r=n.done?v:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=v,n.method="throw",n.arg=l.arg)}}}function D(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,D(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function B(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function M(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:e,done:!0}}return y.prototype=C,i(E,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:y,configurable:!0}),y.displayName=c(C,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,c(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},S(k.prototype),c(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new k(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=M,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},82504:function(t,e,n){"use strict";var r=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var u=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&l()}function u(){a(o)}function l(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(u,e);i=t}return l}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;u.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),s=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},d=y(0,0,0,0);function h(t){return parseFloat(t)||0}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+h(t["border-"+n+"-width"])}),0)}function v(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return d;var r=f(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=h(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,u=h(r.width),l=h(r.height);if("border-box"===r.boxSizing&&(Math.round(u+o)!==e&&(u-=p(r,"left","right")+o),Math.round(l+a)!==n&&(l-=p(r,"top","bottom")+a)),!function(t){return t===f(t).document.documentElement}(t)){var c=Math.round(u+o)-e,s=Math.round(l+a)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(s)&&(l-=s)}return y(i.left,i.top,u,l)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"==typeof t.getBBox};function m(t){return i?g(t)?function(t){var e=t.getBBox();return y(0,0,e.width,e.height)}(t):v(t):d}function y(t,e,n,r){return{x:t,y:e,width:n,height:r}}var C=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=m(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return s(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);s(this,{target:t,contentRect:n})},x=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new C(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new b(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),w="undefined"!=typeof WeakMap?new WeakMap:new r,E=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new x(e,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){E.prototype[t]=function(){var e;return(e=w.get(this))[t].apply(e,arguments)}}));var S=void 0!==o.ResizeObserver?o.ResizeObserver:E;e.c=S},9572:function(t,e){"use strict";var n,r,i,o,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,l=null,c=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(c,0),t}},s=Date.now();e.unstable_now=function(){return Date.now()-s},n=function(t){null!==u?setTimeout(n,0,t):(u=t,setTimeout(c,0))},r=function(t,e){l=setTimeout(t,e)},i=function(){clearTimeout(l)},o=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){window.cancelAnimationFrame;window.requestAnimationFrame}if("object"==typeof f&&"function"==typeof f.now)e.unstable_now=function(){return f.now()};else{var v=d.now();e.unstable_now=function(){return d.now()-v}}var g=!1,m=null,y=-1,C=5,b=0;o=function(){return e.unstable_now()>=b},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t||(C=0<t?Math.floor(1e3/t):5)};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();b=t+C;try{m(!0,t)?w.postMessage(null):(g=!1,m=null)}catch(t){throw w.postMessage(null),t}}else g=!1},n=function(t){m=t,g||(g=!0,w.postMessage(null))},r=function(t,n){y=h((function(){t(e.unstable_now())}),n)},i=function(){p(y),y=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<A(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function k(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],u=o+1,l=t[u];if(void 0!==a&&0>A(a,n))void 0!==l&&0>A(l,a)?(t[r]=l,t[u]=n,r=u):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>A(l,n)))break t;t[r]=l,t[u]=n,r=u}}}return e}return null}function A(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var D=[],I=[],T=1,B=null,M=3,R=!1,L=!1,F=!1;function _(t){for(var e=S(I);null!==e;){if(null===e.callback)k(I);else{if(!(e.startTime<=t))break;k(I),e.sortIndex=e.expirationTime,E(D,e)}e=S(I)}}function P(t){if(F=!1,_(t),!L)if(null!==S(D))L=!0,n(N);else{var e=S(I);null!==e&&r(P,e.startTime-t)}}function N(t,n){L=!1,F&&(F=!1,i()),R=!0;var a=M;try{for(_(n),B=S(D);null!==B&&(!(B.expirationTime>n)||t&&!o());){var u=B.callback;if(null!==u){B.callback=null,M=B.priorityLevel;var l=u(B.expirationTime<=n);n=e.unstable_now(),"function"==typeof l?B.callback=l:B===S(D)&&k(D),_(n)}else k(D);B=S(D)}if(null!==B)var c=!0;else{var s=S(I);null!==s&&r(P,s.startTime-n),c=!1}return c}finally{B=null,M=a,R=!1}}function O(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var j=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){L||R||(L=!0,n(N))},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return S(D)},e.unstable_next=function(t){switch(M){case 1:case 2:case 3:var e=3;break;default:e=M}var n=M;M=e;try{return t()}finally{M=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=j,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=M;M=t;try{return e()}finally{M=n}},e.unstable_scheduleCallback=function(t,o,a){var u=e.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?u+l:u,a="number"==typeof a.timeout?a.timeout:O(t)}else a=O(t),l=u;return t={id:T++,callback:o,priorityLevel:t,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>u?(t.sortIndex=l,E(I,t),null===S(D)&&t===S(I)&&(F?i():F=!0,r(P,l-u))):(t.sortIndex=a,E(D,t),L||R||(L=!0,n(N))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();_(t);var n=S(D);return n!==B&&null!==B&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<B.expirationTime||o()},e.unstable_wrapCallback=function(t){var e=M;return function(){var n=M;M=e;try{return t.apply(this,arguments)}finally{M=n}}}},82328:function(t,e,n){"use strict";t.exports=n(9572)},76232:function(t,e,n){"use strict";n.d(e,{c:function(){return f}});var r=n(58496),i=n(97552);function o(t){return"object"==(0,r.c)(t)&&null!=t&&1===t.nodeType}function a(t,e){return(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t}function u(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var n=getComputedStyle(t,null);return a(n.overflowY,e)||a(n.overflowX,e)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function l(t,e,n,r,i,o,a,u){return o<t&&a>e||o>t&&a<e?0:o<=t&&u<=n||a>=e&&u>=n?o-t-r:a>e&&u<n||o<t&&u>n?a-e+i:0}var c=function(t,e){var n=window,r=e.scrollMode,a=e.block,c=e.inline,s=e.boundary,f=e.skipOverflowHiddenElements,d="function"==typeof s?s:function(t){return t!==s};if(!o(t))throw new TypeError("Invalid target");for(var h,p,v=document.scrollingElement||document.documentElement,g=[],m=t;o(m)&&d(m);){if((m=null==(p=(h=m).parentElement)?h.getRootNode().host||null:p)===v){g.push(m);break}null!=m&&m===document.body&&u(m)&&!u(document.documentElement)||null!=m&&u(m,f)&&g.push(m)}for(var y=n.visualViewport?n.visualViewport.width:innerWidth,C=n.visualViewport?n.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,x=window.scrollY||pageYOffset,w=t.getBoundingClientRect(),E=w.height,S=w.width,k=w.top,A=w.right,D=w.bottom,I=w.left,T="start"===a||"nearest"===a?k:"end"===a?D:k+E/2,B="center"===c?I+S/2:"end"===c?A:I,M=[],R=0;R<g.length;R++){var L=g[R],F=L.getBoundingClientRect(),_=F.height,P=F.width,N=F.top,O=F.right,j=F.bottom,G=F.left;if("if-needed"===r&&k>=0&&I>=0&&D<=C&&A<=y&&k>=N&&D<=j&&I>=G&&A<=O)return M;var U=getComputedStyle(L),z=i(U.borderLeftWidth,10),Z=i(U.borderTopWidth,10),Q=i(U.borderRightWidth,10),W=i(U.borderBottomWidth,10),J=0,V=0,H="offsetWidth"in L?L.offsetWidth-L.clientWidth-z-Q:0,K="offsetHeight"in L?L.offsetHeight-L.clientHeight-Z-W:0,q="offsetWidth"in L?0===L.offsetWidth?0:P/L.offsetWidth:0,Y="offsetHeight"in L?0===L.offsetHeight?0:_/L.offsetHeight:0;if(v===L)J="start"===a?T:"end"===a?T-C:"nearest"===a?l(x,x+C,C,Z,W,x+T,x+T+E,E):T-C/2,V="start"===c?B:"center"===c?B-y/2:"end"===c?B-y:l(b,b+y,y,z,Q,b+B,b+B+S,S),J=Math.max(0,J+x),V=Math.max(0,V+b);else{J="start"===a?T-N-Z:"end"===a?T-j+W+K:"nearest"===a?l(N,j,_,Z,W+K,T,T+E,E):T-(N+_/2)+K/2,V="start"===c?B-G-z:"center"===c?B-(G+P/2)+H/2:"end"===c?B-O+Q+H:l(G,O,P,z,Q+H,B,B+S,S);var X=L.scrollLeft,$=L.scrollTop;T+=$-(J=Math.max(0,Math.min($+J/Y,L.scrollHeight-_/Y+K))),B+=X-(V=Math.max(0,Math.min(X+V/q,L.scrollWidth-P/q+H)))}M.push({el:L,top:J,left:V})}return M};function s(t){return t===Object(t)&&0!==Object.keys(t).length}var f=function(t,e){var n=t.isConnected||t.ownerDocument.documentElement.contains(t);if(s(e)&&"function"==typeof e.behavior)return e.behavior(n?c(t,e):[]);if(n){var r=function(t){return!1===t?{block:"end",inline:"nearest"}:s(t)?t:{block:"start",inline:"nearest"}}(e);return function(t,e){void 0===e&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach((function(t){var r=t.el,i=t.top,o=t.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:e}):(r.scrollTop=i,r.scrollLeft=o)}))}(c(t,r),r.behavior)}}},51452:function(t,e,n){"use strict";var r=new Error;t.exports=new Promise((function(t,e){if("undefined"!=typeof designer_base)return t();n.l(window.DESIGNER_BASE_ENTRY,(function(n){if("undefined"!=typeof designer_base)return t();var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;r.message="Loading script failed.\n("+i+": "+o+")",r.name="ScriptExternalLoadError",r.type=i,r.request=o,e(r)}),"designer_base")})).then((function(){return designer_base}))},71252:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=a(t,o(n)))}return t}function o(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)r.call(t,n)&&t[n]&&(e=a(e,n));return e}function a(t,e){return e?t?t+" "+e:t+e:t}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},95280:function(t,e,n){"use strict";var r=n(36128);t.exports=r},24224:function(t,e,n){"use strict";var r=n(81324);t.exports=r},36188:function(t,e,n){"use strict";var r=n(50984);t.exports=r},81536:function(t,e,n){"use strict";var r=n(24920);t.exports=r},8404:function(t,e,n){"use strict";var r=n(92960);t.exports=r},37216:function(t,e,n){"use strict";var r=n(49372);t.exports=r},49152:function(t,e,n){"use strict";var r=n(35720);t.exports=r},82080:function(t,e,n){"use strict";var r=n(87144);t.exports=r},80296:function(t,e,n){"use strict";var r=n(27584);t.exports=r},50376:function(t,e,n){"use strict";var r=n(95608);t.exports=r},83916:function(t,e,n){"use strict";var r=n(72672);t.exports=r},46404:function(t,e,n){"use strict";var r=n(68792);t.exports=r},19468:function(t,e,n){"use strict";var r=n(9224);t.exports=r},95699:function(t,e,n){"use strict";var r=n(48624);t.exports=r},280:function(t,e,n){"use strict";var r=n(10424);t.exports=r},88008:function(t,e,n){"use strict";var r=n(42648);t.exports=r},53080:function(t,e,n){"use strict";var r=n(19516);n(21048),t.exports=r},47144:function(t,e,n){"use strict";var r=n(39928);n(46536),n(7576),n(57772),n(65656),t.exports=r},19184:function(t,e,n){"use strict";var r=n(88308);t.exports=r},69259:function(t,e,n){"use strict";n(34176),n(19952);var r=n(19832);t.exports=r.Array.from},3376:function(t,e,n){"use strict";n(45656);var r=n(19832);t.exports=r.Array.isArray},7160:function(t,e,n){"use strict";n(22216);var r=n(46180);t.exports=r("Array","concat")},70216:function(t,e,n){"use strict";n(30340),n(12352);var r=n(46180);t.exports=r("Array","entries")},94488:function(t,e,n){"use strict";n(16408);var r=n(46180);t.exports=r("Array","every")},18011:function(t,e,n){"use strict";n(64124);var r=n(46180);t.exports=r("Array","fill")},5592:function(t,e,n){"use strict";n(64864);var r=n(46180);t.exports=r("Array","filter")},24216:function(t,e,n){"use strict";n(41008);var r=n(46180);t.exports=r("Array","findIndex")},38256:function(t,e,n){"use strict";n(36952);var r=n(46180);t.exports=r("Array","find")},16560:function(t,e,n){"use strict";n(37096),n(52651);var r=n(46180);t.exports=r("Array","flatMap")},23272:function(t,e,n){"use strict";n(18068);var r=n(46180);t.exports=r("Array","forEach")},56184:function(t,e,n){"use strict";n(46504);var r=n(46180);t.exports=r("Array","includes")},26720:function(t,e,n){"use strict";n(11904);var r=n(46180);t.exports=r("Array","indexOf")},74908:function(t,e,n){"use strict";n(30340),n(12352);var r=n(46180);t.exports=r("Array","keys")},83844:function(t,e,n){"use strict";n(97092);var r=n(46180);t.exports=r("Array","map")},56883:function(t,e,n){"use strict";n(91704);var r=n(46180);t.exports=r("Array","reduce")},89696:function(t,e,n){"use strict";n(9020);var r=n(46180);t.exports=r("Array","reverse")},74792:function(t,e,n){"use strict";n(15863);var r=n(46180);t.exports=r("Array","slice")},4348:function(t,e,n){"use strict";n(43408);var r=n(46180);t.exports=r("Array","some")},4416:function(t,e,n){"use strict";n(38280);var r=n(46180);t.exports=r("Array","sort")},63612:function(t,e,n){"use strict";n(74152);var r=n(46180);t.exports=r("Array","splice")},79720:function(t,e,n){"use strict";n(30340),n(12352);var r=n(46180);t.exports=r("Array","values")},2412:function(t,e,n){"use strict";n(54388);var r=n(46180);t.exports=r("Function","bind")},34556:function(t,e,n){"use strict";n(30340),n(34176);var r=n(80068);t.exports=r},35776:function(t,e,n){"use strict";n(56736),t.exports=n(85216)},74756:function(t,e,n){"use strict";var r=n(82360),i=n(2412),o=Function.prototype;t.exports=function(t){var e=t.bind;return t===o||r(o,t)&&e===o.bind?i:e}},65056:function(t,e,n){"use strict";var r=n(82360),i=n(56544),o=String.prototype;t.exports=function(t){var e=t.codePointAt;return"string"==typeof t||t===o||r(o,t)&&e===o.codePointAt?i:e}},88884:function(t,e,n){"use strict";var r=n(82360),i=n(7160),o=Array.prototype;t.exports=function(t){var e=t.concat;return t===o||r(o,t)&&e===o.concat?i:e}},46172:function(t,e,n){"use strict";var r=n(82360),i=n(71340),o=String.prototype;t.exports=function(t){var e=t.endsWith;return"string"==typeof t||t===o||r(o,t)&&e===o.endsWith?i:e}},28312:function(t,e,n){"use strict";var r=n(82360),i=n(94488),o=Array.prototype;t.exports=function(t){var e=t.every;return t===o||r(o,t)&&e===o.every?i:e}},56404:function(t,e,n){"use strict";var r=n(82360),i=n(18011),o=Array.prototype;t.exports=function(t){var e=t.fill;return t===o||r(o,t)&&e===o.fill?i:e}},680:function(t,e,n){"use strict";var r=n(82360),i=n(5592),o=Array.prototype;t.exports=function(t){var e=t.filter;return t===o||r(o,t)&&e===o.filter?i:e}},53612:function(t,e,n){"use strict";var r=n(82360),i=n(24216),o=Array.prototype;t.exports=function(t){var e=t.findIndex;return t===o||r(o,t)&&e===o.findIndex?i:e}},32600:function(t,e,n){"use strict";var r=n(82360),i=n(38256),o=Array.prototype;t.exports=function(t){var e=t.find;return t===o||r(o,t)&&e===o.find?i:e}},11912:function(t,e,n){"use strict";var r=n(82360),i=n(16560),o=Array.prototype;t.exports=function(t){var e=t.flatMap;return t===o||r(o,t)&&e===o.flatMap?i:e}},8180:function(t,e,n){"use strict";var r=n(82360),i=n(56184),o=n(44464),a=Array.prototype,u=String.prototype;t.exports=function(t){var e=t.includes;return t===a||r(a,t)&&e===a.includes?i:"string"==typeof t||t===u||r(u,t)&&e===u.includes?o:e}},44156:function(t,e,n){"use strict";var r=n(82360),i=n(26720),o=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===o||r(o,t)&&e===o.indexOf?i:e}},91352:function(t,e,n){"use strict";var r=n(82360),i=n(83844),o=Array.prototype;t.exports=function(t){var e=t.map;return t===o||r(o,t)&&e===o.map?i:e}},39063:function(t,e,n){"use strict";var r=n(82360),i=n(56883),o=Array.prototype;t.exports=function(t){var e=t.reduce;return t===o||r(o,t)&&e===o.reduce?i:e}},15080:function(t,e,n){"use strict";var r=n(82360),i=n(89696),o=Array.prototype;t.exports=function(t){var e=t.reverse;return t===o||r(o,t)&&e===o.reverse?i:e}},58688:function(t,e,n){"use strict";var r=n(82360),i=n(74792),o=Array.prototype;t.exports=function(t){var e=t.slice;return t===o||r(o,t)&&e===o.slice?i:e}},48284:function(t,e,n){"use strict";var r=n(82360),i=n(4348),o=Array.prototype;t.exports=function(t){var e=t.some;return t===o||r(o,t)&&e===o.some?i:e}},86188:function(t,e,n){"use strict";var r=n(82360),i=n(4416),o=Array.prototype;t.exports=function(t){var e=t.sort;return t===o||r(o,t)&&e===o.sort?i:e}},46312:function(t,e,n){"use strict";var r=n(82360),i=n(63612),o=Array.prototype;t.exports=function(t){var e=t.splice;return t===o||r(o,t)&&e===o.splice?i:e}},1240:function(t,e,n){"use strict";var r=n(82360),i=n(51940),o=String.prototype;t.exports=function(t){var e=t.startsWith;return"string"==typeof t||t===o||r(o,t)&&e===o.startsWith?i:e}},78125:function(t,e,n){"use strict";var r=n(82360),i=n(74352),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||r(o,t)&&e===o.trim?i:e}},69304:function(t,e,n){"use strict";n(4864),n(58824);var r=n(19832),i=n(79867);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return i(r.JSON.stringify,null,arguments)}},52548:function(t,e,n){"use strict";n(30340),n(86775),n(62648),n(12352),n(34176);var r=n(19832);t.exports=r.Map},96576:function(t,e,n){"use strict";n(71620);var r=n(19832);t.exports=r.Number.isNaN},84884:function(t,e,n){"use strict";n(52379),t.exports=9007199254740991},59196:function(t,e,n){"use strict";n(46448);var r=n(19832);t.exports=r.Object.assign},44636:function(t,e,n){"use strict";n(68928);var r=n(19832).Object;t.exports=function(t,e){return r.create(t,e)}},42172:function(t,e,n){"use strict";n(67300);var r=n(19832).Object,i=t.exports=function(t,e){return r.defineProperties(t,e)};r.defineProperties.sham&&(i.sham=!0)},74856:function(t,e,n){"use strict";n(98708);var r=n(19832).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},92536:function(t,e,n){"use strict";n(6360);var r=n(19832);t.exports=r.Object.entries},42348:function(t,e,n){"use strict";n(96360);var r=n(19832);t.exports=r.Object.freeze},12436:function(t,e,n){"use strict";n(30340),n(20224);var r=n(19832);t.exports=r.Object.fromEntries},13416:function(t,e,n){"use strict";n(97648);var r=n(19832).Object,i=t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},32936:function(t,e,n){"use strict";n(65032);var r=n(19832);t.exports=r.Object.getOwnPropertyDescriptors},61852:function(t,e,n){"use strict";n(45312);var r=n(19832).Object;t.exports=function(t){return r.getOwnPropertyNames(t)}},920:function(t,e,n){"use strict";n(49276);var r=n(19832);t.exports=r.Object.getOwnPropertySymbols},3056:function(t,e,n){"use strict";n(33416);var r=n(19832);t.exports=r.Object.getPrototypeOf},67552:function(t,e,n){"use strict";n(63008);var r=n(19832);t.exports=r.Object.isFrozen},45704:function(t,e,n){"use strict";n(92500);var r=n(19832);t.exports=r.Object.is},82613:function(t,e,n){"use strict";n(40088);var r=n(19832);t.exports=r.Object.keys},23092:function(t,e,n){"use strict";n(91020);var r=n(19832);t.exports=r.Object.setPrototypeOf},6104:function(t,e,n){"use strict";n(17016);var r=n(19832);t.exports=r.Object.values},15384:function(t,e,n){"use strict";n(18984);var r=n(19832);t.exports=r.parseFloat},5357:function(t,e,n){"use strict";n(71740);var r=n(19832);t.exports=r.parseInt},31736:function(t,e,n){"use strict";n(38436),n(30340),n(12352),n(86244),n(38128),n(73728),n(10096),n(50196),n(34176);var r=n(19832);t.exports=r.Promise},92880:function(t,e,n){"use strict";n(14915);var r=n(19832);t.exports=r.Reflect.construct},25784:function(t,e,n){"use strict";n(79896);var r=n(19832);t.exports=r.Reflect.getOwnPropertyDescriptor},21836:function(t,e,n){"use strict";n(71088);var r=n(19832);t.exports=r.Reflect.ownKeys},77376:function(t,e,n){"use strict";n(30340),n(12352),n(81160),n(67036),n(47124),n(24136),n(72304),n(23276),n(63112),n(61704),n(34176);var r=n(19832);t.exports=r.Set},56544:function(t,e,n){"use strict";n(5920);var r=n(46180);t.exports=r("String","codePointAt")},71340:function(t,e,n){"use strict";n(20976);var r=n(46180);t.exports=r("String","endsWith")},44464:function(t,e,n){"use strict";n(3512);var r=n(46180);t.exports=r("String","includes")},51940:function(t,e,n){"use strict";n(78812);var r=n(46180);t.exports=r("String","startsWith")},74352:function(t,e,n){"use strict";n(25384);var r=n(46180);t.exports=r("String","trim")},63656:function(t,e,n){"use strict";n(49276);var r=n(19832);t.exports=r.Symbol.for},22767:function(t,e,n){"use strict";n(22216),n(12352),n(49276),n(52240),n(49452),n(71344),n(74436),n(6992),n(58028),n(56380),n(76176),n(91176),n(60781),n(76720),n(95536),n(44732),n(84243),n(19928),n(93787),n(72556);var r=n(19832);t.exports=r.Symbol},25180:function(t,e,n){"use strict";n(30340),n(12352),n(34176),n(6992);var r=n(81104);t.exports=r.f("iterator")},63576:function(t,e,n){"use strict";n(30340),n(12352),n(72340);var r=n(19832);t.exports=r.WeakMap},96680:function(t,e,n){"use strict";t.exports=n(37944)},6164:function(t,e,n){"use strict";t.exports=n(42396)},64800:function(t,e,n){"use strict";t.exports=n(420)},83620:function(t,e,n){"use strict";t.exports=n(19556)},17456:function(t,e,n){"use strict";t.exports=n(8176)},2732:function(t,e,n){"use strict";t.exports=n(35960)},17893:function(t,e,n){"use strict";t.exports=n(47112)},78772:function(t,e,n){"use strict";t.exports=n(38952)},10384:function(t,e,n){"use strict";t.exports=n(53232)},83576:function(t,e,n){"use strict";t.exports=n(24556)},46656:function(t,e,n){"use strict";t.exports=n(52600)},3568:function(t,e,n){"use strict";t.exports=n(88520)},62952:function(t,e,n){"use strict";t.exports=n(50518)},91864:function(t,e,n){"use strict";t.exports=n(97368)},76008:function(t,e,n){"use strict";t.exports=n(85284)},40624:function(t,e,n){"use strict";t.exports=n(80988)},98744:function(t,e,n){"use strict";t.exports=n(89056)},16388:function(t,e,n){"use strict";t.exports=n(39216)},71792:function(t,e,n){"use strict";t.exports=n(47268)},37944:function(t,e,n){"use strict";var r=n(95280);t.exports=r},42396:function(t,e,n){"use strict";var r=n(24224);t.exports=r},420:function(t,e,n){"use strict";var r=n(36188);t.exports=r},19556:function(t,e,n){"use strict";n(19760);var r=n(81536);t.exports=r},8176:function(t,e,n){"use strict";var r=n(8404);t.exports=r},35960:function(t,e,n){"use strict";var r=n(37216);t.exports=r},47112:function(t,e,n){"use strict";var r=n(49152);t.exports=r},38952:function(t,e,n){"use strict";var r=n(82080);t.exports=r},53232:function(t,e,n){"use strict";var r=n(80296);t.exports=r},24556:function(t,e,n){"use strict";var r=n(50376);t.exports=r},52600:function(t,e,n){"use strict";var r=n(83916);t.exports=r},88520:function(t,e,n){"use strict";var r=n(46404);t.exports=r},50518:function(t,e,n){"use strict";var r=n(19468);t.exports=r},97368:function(t,e,n){"use strict";var r=n(95699);t.exports=r},85284:function(t,e,n){"use strict";var r=n(280);t.exports=r},80988:function(t,e,n){"use strict";var r=n(88008);t.exports=r},89056:function(t,e,n){"use strict";var r=n(53080);n(52796),n(18744),n(94384),n(5200),t.exports=r},39216:function(t,e,n){"use strict";var r=n(47144);n(89264),n(98460),n(53504),n(4184),n(31216),n(5196),n(84448),n(72948),n(12252),n(8776),t.exports=r},47268:function(t,e,n){"use strict";var r=n(19184);t.exports=r},20028:function(t,e,n){"use strict";var r=n(38536),i=n(48944),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},39556:function(t,e,n){"use strict";var r=n(39496),i=n(48944),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a constructor")}},31459:function(t,e,n){"use strict";var r=n(97432),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},92292:function(t,e,n){"use strict";var r=n(48944),i=TypeError;t.exports=function(t){if("object"==typeof t&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new i(r(t)+" is not a set")}},51472:function(t){"use strict";t.exports=function(){}},6952:function(t,e,n){"use strict";var r=n(82360),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new i("Incorrect invocation")}},42032:function(t,e,n){"use strict";var r=n(68608),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},3648:function(t,e,n){"use strict";var r=n(92064);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},33028:function(t,e,n){"use strict";var r=n(92819),i=n(24180),o=n(35316);t.exports=function(t){for(var e=r(this),n=o(e),a=arguments.length,u=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>u;)e[u++]=t;return e}},66056:function(t,e,n){"use strict";var r=n(7608).forEach,i=n(54888)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},9980:function(t,e,n){"use strict";var r=n(21884),i=n(34580),o=n(92819),a=n(9928),u=n(84992),l=n(39496),c=n(35316),s=n(14895),f=n(74656),d=n(80068),h=Array;t.exports=function(t){var e=o(t),n=l(this),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v;g&&(v=r(v,p>2?arguments[2]:void 0));var m,y,C,b,x,w,E=d(e),S=0;if(!E||this===h&&u(E))for(m=c(e),y=n?new this(m):h(m);m>S;S++)w=g?v(e[S],S):e[S],s(y,S,w);else for(y=n?new this:[],x=(b=f(e,E)).next;!(C=i(x,b)).done;S++)w=g?a(b,v,[C.value,S],!0):C.value,s(y,S,w);return y.length=S,y}},77464:function(t,e,n){"use strict";var r=n(30445),i=n(24180),o=n(35316),a=function(t){return function(e,n,a){var u=r(e),l=o(u);if(0===l)return!t&&-1;var c,s=i(a,l);if(t&&n!=n){for(;l>s;)if((c=u[s++])!=c)return!0}else for(;l>s;s++)if((t||s in u)&&u[s]===n)return t||s||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},7608:function(t,e,n){"use strict";var r=n(21884),i=n(29252),o=n(22899),a=n(92819),u=n(35316),l=n(94872),c=i([].push),s=function(t){var e=1===t,n=2===t,i=3===t,s=4===t,f=6===t,d=7===t,h=5===t||f;return function(p,v,g,m){for(var y,C,b=a(p),x=o(b),w=u(x),E=r(v,g),S=0,k=m||l,A=e?k(p,w):n||d?k(p,0):void 0;w>S;S++)if((h||S in x)&&(C=E(y=x[S],S,b),t))if(e)A[S]=C;else if(C)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:c(A,y)}else switch(t){case 4:return!1;case 7:c(A,y)}return f?-1:i||s?s:A}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},85384:function(t,e,n){"use strict";var r=n(92064),i=n(23336),o=n(23896),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},54888:function(t,e,n){"use strict";var r=n(92064);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},16460:function(t,e,n){"use strict";var r=n(20028),i=n(92819),o=n(22899),a=n(35316),u=TypeError,l="Reduce of empty array with no initial value",c=function(t){return function(e,n,c,s){var f=i(e),d=o(f),h=a(f);if(r(n),0===h&&c<2)throw new u(l);var p=t?h-1:0,v=t?-1:1;if(c<2)for(;;){if(p in d){s=d[p],p+=v;break}if(p+=v,t?p<0:h<=p)throw new u(l)}for(;t?p>=0:h>p;p+=v)p in d&&(s=n(s,d[p],p,f));return s}};t.exports={left:c(!1),right:c(!0)}},1716:function(t,e,n){"use strict";var r=n(99172),i=n(33204),o=TypeError,a=Object.getOwnPropertyDescriptor,u=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=u?function(t,e){if(i(t)&&!a(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},70940:function(t,e,n){"use strict";var r=n(29252);t.exports=r([].slice)},43864:function(t,e,n){"use strict";var r=n(70940),i=Math.floor,o=function(t,e){var n=t.length;if(n<8)for(var a,u,l=1;l<n;){for(u=l,a=t[l];u&&e(t[u-1],a)>0;)t[u]=t[--u];u!==l++&&(t[u]=a)}else for(var c=i(n/2),s=o(r(t,0,c),e),f=o(r(t,c),e),d=s.length,h=f.length,p=0,v=0;p<d||v<h;)t[p+v]=p<d&&v<h?e(s[p],f[v])<=0?s[p++]:f[v++]:p<d?s[p++]:f[v++];return t};t.exports=o},22556:function(t,e,n){"use strict";var r=n(33204),i=n(39496),o=n(68608),a=n(23336)("species"),u=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===u||r(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?u:e}},94872:function(t,e,n){"use strict";var r=n(22556);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},9928:function(t,e,n){"use strict";var r=n(42032),i=n(45872);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},7212:function(t){"use strict";t.exports=function(t,e){return 1===e?function(e,n){return e[t](n)}:function(e,n,r){return e[t](n,r)}}},70347:function(t,e,n){"use strict";var r=n(23336)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},47936:function(t,e,n){"use strict";var r=n(29252),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},60636:function(t,e,n){"use strict";var r=n(26744),i=n(38536),o=n(47936),a=n(23336)("toStringTag"),u=Object,l="Arguments"===o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=u(t),a))?n:l?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},63928:function(t,e,n){"use strict";var r=n(4488),i=n(56968),o=n(48104),a=n(21884),u=n(6952),l=n(19511),c=n(75799),s=n(536),f=n(73848),d=n(13120),h=n(99172),p=n(48611).fastKey,v=n(2344),g=v.set,m=v.getterFor;t.exports={getConstructor:function(t,e,n,s){var f=t((function(t,i){u(t,d),g(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),h||(t.size=0),l(i)||c(i,t[s],{that:t,AS_ENTRIES:n})})),d=f.prototype,v=m(e),y=function(t,e,n){var r,i,o=v(t),a=C(t,e);return a?a.value=n:(o.last=a={index:i=p(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),h?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},C=function(t,e){var n,r=v(t),i=p(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===e)return n};return o(d,{clear:function(){for(var t=v(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),e=e.next;t.first=t.last=void 0,t.index=r(null),h?t.size=0:this.size=0},delete:function(t){var e=this,n=v(e),r=C(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first===r&&(n.first=i),n.last===r&&(n.last=o),h?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=v(this),r=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!C(this,t)}}),o(d,n?{get:function(t){var e=C(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),h&&i(d,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=m(e),o=m(r);s(t,e,(function(t,e){g(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?f("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),d(e)}}},92168:function(t,e,n){"use strict";var r=n(29252),i=n(48104),o=n(48611).getWeakData,a=n(6952),u=n(42032),l=n(19511),c=n(68608),s=n(75799),f=n(7608),d=n(34664),h=n(2344),p=h.set,v=h.getterFor,g=f.find,m=f.findIndex,y=r([].splice),C=0,b=function(t){return t.frozen||(t.frozen=new x)},x=function(){this.entries=[]},w=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};x.prototype={get:function(t){var e=w(this,t);if(e)return e[1]},has:function(t){return!!w(this,t)},set:function(t,e){var n=w(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&y(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var f=t((function(t,i){a(t,h),p(t,{type:e,id:C++,frozen:void 0}),l(i)||s(i,t[r],{that:t,AS_ENTRIES:n})})),h=f.prototype,g=v(e),m=function(t,e,n){var r=g(t),i=o(u(e),!0);return!0===i?b(r).set(e,n):i[r.id]=n,t};return i(h,{delete:function(t){var e=g(this);if(!c(t))return!1;var n=o(t);return!0===n?b(e).delete(t):n&&d(n,e.id)&&delete n[e.id]},has:function(t){var e=g(this);if(!c(t))return!1;var n=o(t);return!0===n?b(e).has(t):n&&d(n,e.id)}}),i(h,n?{get:function(t){var e=g(this);if(c(t)){var n=o(t);return!0===n?b(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),f}}},46072:function(t,e,n){"use strict";var r=n(33952),i=n(85216),o=n(48611),a=n(92064),u=n(20896),l=n(75799),c=n(6952),s=n(38536),f=n(68608),d=n(19511),h=n(35836),p=n(12280).f,v=n(7608).forEach,g=n(99172),m=n(2344),y=m.set,C=m.getterFor;t.exports=function(t,e,n){var m,b=-1!==t.indexOf("Map"),x=-1!==t.indexOf("Weak"),w=b?"set":"add",E=i[t],S=E&&E.prototype,k={};if(g&&s(E)&&(x||S.forEach&&!a((function(){(new E).entries().next()})))){var A=(m=e((function(e,n){y(c(e,A),{type:t,collection:new E}),d(n)||l(n,e[w],{that:e,AS_ENTRIES:b})}))).prototype,D=C(t);v(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in S)||x&&"clear"===t||u(A,t,(function(n,r){var i=D(this).collection;if(!e&&x&&!f(n))return"get"===t&&void 0;var o=i[t](0===n?0:n,r);return e?this:o}))})),x||p(A,"size",{configurable:!0,get:function(){return D(this).collection.size}})}else m=n.getConstructor(e,t,b,w),o.enable();return h(m,t,!1,!0),k[t]=m,r({global:!0,forced:!0},k),x||n.setStrong(m,t,b),m}},1100:function(t,e,n){"use strict";var r=n(34664),i=n(7876),o=n(91008),a=n(12280);t.exports=function(t,e,n){for(var u=i(e),l=a.f,c=o.f,s=0;s<u.length;s++){var f=u[s];r(t,f)||n&&r(n,f)||l(t,f,c(e,f))}}},60660:function(t,e,n){"use strict";var r=n(23336)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},72480:function(t,e,n){"use strict";var r=n(92064);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},73848:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},20896:function(t,e,n){"use strict";var r=n(99172),i=n(12280),o=n(48981);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},48981:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},14895:function(t,e,n){"use strict";var r=n(99172),i=n(12280),o=n(48981);t.exports=function(t,e,n){r?i.f(t,e,o(0,n)):t[e]=n}},67276:function(t,e,n){"use strict";var r=n(29252),i=n(92064),o=n(9960).start,a=RangeError,u=isFinite,l=Math.abs,c=Date.prototype,s=c.toISOString,f=r(c.getTime),d=r(c.getUTCDate),h=r(c.getUTCFullYear),p=r(c.getUTCHours),v=r(c.getUTCMilliseconds),g=r(c.getUTCMinutes),m=r(c.getUTCMonth),y=r(c.getUTCSeconds);t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!==s.call(new Date(-50000000000001))}))||!i((function(){s.call(new Date(NaN))}))?function(){if(!u(f(this)))throw new a("Invalid time value");var t=this,e=h(t),n=v(t),r=e<0?"-":e>9999?"+":"";return r+o(l(e),r?6:4,0)+"-"+o(m(t)+1,2,0)+"-"+o(d(t),2,0)+"T"+o(p(t),2,0)+":"+o(g(t),2,0)+":"+o(y(t),2,0)+"."+o(n,3,0)+"Z"}:s},56968:function(t,e,n){"use strict";var r=n(12280);t.exports=function(t,e,n){return r.f(t,e,n)}},55424:function(t,e,n){"use strict";var r=n(20896);t.exports=function(t,e,n,i){return i&&i.enumerable?t[e]=n:r(t,e,n),t}},48104:function(t,e,n){"use strict";var r=n(55424);t.exports=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:r(t,i,e[i],n);return t}},44408:function(t,e,n){"use strict";var r=n(85216),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},86940:function(t,e,n){"use strict";var r=n(48944),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+r(e)+" of "+r(t))}},99172:function(t,e,n){"use strict";var r=n(92064);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},21940:function(t,e,n){"use strict";var r=n(85216),i=n(68608),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},18200:function(t){"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},50472:function(t){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7587:function(t,e,n){"use strict";var r=n(72276).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},50940:function(t,e,n){"use strict";var r=n(35924),i=n(91432);t.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},77352:function(t){"use strict";t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},35924:function(t){"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},86028:function(t,e,n){"use strict";var r=n(72276);t.exports=/MSIE|Trident/.test(r)},38792:function(t,e,n){"use strict";var r=n(72276);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},56772:function(t,e,n){"use strict";var r=n(72276);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},91432:function(t,e,n){"use strict";var r=n(85216),i=n(47936);t.exports="process"===i(r.process)},51824:function(t,e,n){"use strict";var r=n(72276);t.exports=/web0s(?!.*chrome)/i.test(r)},72276:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},23896:function(t,e,n){"use strict";var r,i,o=n(85216),a=n(72276),u=o.process,l=o.Deno,c=u&&u.versions||l&&l.version,s=c&&c.v8;s&&(i=(r=s.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},83624:function(t,e,n){"use strict";var r=n(72276).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},63620:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},69492:function(t,e,n){"use strict";var r=n(29252),i=Error,o=r("".replace),a=String(new i("zxcasd").stack),u=/\n\s*at [^:]*:[^\n]*/,l=u.test(a);t.exports=function(t,e){if(l&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,u,"");return t}},69035:function(t,e,n){"use strict";var r=n(20896),i=n(69492),o=n(91376),a=Error.captureStackTrace;t.exports=function(t,e,n,u){o&&(a?a(t,e):r(t,"stack",i(n,u)))}},91376:function(t,e,n){"use strict";var r=n(92064),i=n(48981);t.exports=!r((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},33952:function(t,e,n){"use strict";var r=n(85216),i=n(79867),o=n(61248),a=n(38536),u=n(91008).f,l=n(88536),c=n(19832),s=n(21884),f=n(20896),d=n(34664);n(99284);var h=function(t){var e=function(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,i,p,v,g,m,y,C,b,x=t.target,w=t.global,E=t.stat,S=t.proto,k=w?r:E?r[x]:r[x]&&r[x].prototype,A=w?c:c[x]||f(c,x,{})[x],D=A.prototype;for(v in e)i=!(n=l(w?v:x+(E?".":"#")+v,t.forced))&&k&&d(k,v),m=A[v],i&&(y=t.dontCallGetSet?(b=u(k,v))&&b.value:k[v]),g=i&&y?y:e[v],(n||S||typeof m!=typeof g)&&(C=t.bind&&i?s(g,r):t.wrap&&i?h(g):S&&a(g)?o(g):g,(t.sham||g&&g.sham||m&&m.sham)&&f(C,"sham",!0),f(A,v,C),S&&(d(c,p=x+"Prototype")||f(c,p,{}),f(c[p],v,g),t.real&&D&&(n||!D[v])&&f(D,v,g)))}},92064:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},8728:function(t,e,n){"use strict";var r=n(33204),i=n(35316),o=n(18200),a=n(21884),u=function(t,e,n,l,c,s,f,d){for(var h,p,v=c,g=0,m=!!f&&a(f,d);g<l;)g in n&&(h=m?m(n[g],g,e):n[g],s>0&&r(h)?(p=i(h),v=u(t,e,h,p,v,s-1)-1):(o(v+1),t[v]=h),v++),g++;return v};t.exports=u},69380:function(t,e,n){"use strict";var r=n(92064);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},79867:function(t,e,n){"use strict";var r=n(25200),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},21884:function(t,e,n){"use strict";var r=n(61248),i=n(20028),o=n(25200),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},25200:function(t,e,n){"use strict";var r=n(92064);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},5404:function(t,e,n){"use strict";var r=n(29252),i=n(20028),o=n(68608),a=n(34664),u=n(70940),l=n(25200),c=Function,s=r([].concat),f=r([].join),d={};t.exports=l?c.bind:function(t){var e=i(this),n=e.prototype,r=u(arguments,1),l=function(){var n=s(r,u(arguments));return this instanceof l?function(t,e,n){if(!a(d,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";d[e]=c("C,a","return new C("+f(r,",")+")")}return d[e](t,n)}(e,n.length,n):e.apply(t,n)};return o(n)&&(l.prototype=n),l}},34580:function(t,e,n){"use strict";var r=n(25200),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},13564:function(t,e,n){"use strict";var r=n(99172),i=n(34664),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=i(o,"name"),l=u&&"something"===function(){}.name,c=u&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:u,PROPER:l,CONFIGURABLE:c}},97864:function(t,e,n){"use strict";var r=n(29252),i=n(20028);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},61248:function(t,e,n){"use strict";var r=n(47936),i=n(29252);t.exports=function(t){if("Function"===r(t))return i(t)}},29252:function(t,e,n){"use strict";var r=n(25200),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},46180:function(t,e,n){"use strict";var r=n(85216),i=n(19832);t.exports=function(t,e){var n=i[t+"Prototype"],o=n&&n[e];if(o)return o;var a=r[t],u=a&&a.prototype;return u&&u[e]}},23464:function(t,e,n){"use strict";var r=n(19832),i=n(85216),o=n(38536),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},69360:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},80068:function(t,e,n){"use strict";var r=n(60636),i=n(31636),o=n(19511),a=n(97256),u=n(23336)("iterator");t.exports=function(t){if(!o(t))return i(t,u)||i(t,"@@iterator")||a[r(t)]}},74656:function(t,e,n){"use strict";var r=n(34580),i=n(20028),o=n(42032),a=n(48944),u=n(80068),l=TypeError;t.exports=function(t,e){var n=arguments.length<2?u(t):e;if(i(n))return o(r(n,t));throw new l(a(t)+" is not iterable")}},13676:function(t,e,n){"use strict";var r=n(29252),i=n(33204),o=n(38536),a=n(47936),u=n(39352),l=r([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,n=[],r=0;r<e;r++){var c=t[r];"string"==typeof c?l(n,c):"number"!=typeof c&&"Number"!==a(c)&&"String"!==a(c)||l(n,u(c))}var s=n.length,f=!0;return function(t,e){if(f)return f=!1,e;if(i(this))return e;for(var r=0;r<s;r++)if(n[r]===t)return e}}}},31636:function(t,e,n){"use strict";var r=n(20028),i=n(19511);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},82308:function(t,e,n){"use strict";var r=n(20028),i=n(42032),o=n(34580),a=n(45016),u=n(69360),l="Invalid size",c=RangeError,s=TypeError,f=Math.max,d=function(t,e){this.set=t,this.size=f(e,0),this.has=r(t.has),this.keys=r(t.keys)};d.prototype={getIterator:function(){return u(i(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!=e)throw new s(l);var n=a(e);if(n<0)throw new c(l);return new d(t,n)}},85216:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},34664:function(t,e,n){"use strict";var r=n(29252),i=n(92819),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},13328:function(t){"use strict";t.exports={}},3320:function(t){"use strict";t.exports=function(t,e){}},67896:function(t,e,n){"use strict";var r=n(23464);t.exports=r("document","documentElement")},124:function(t,e,n){"use strict";var r=n(99172),i=n(92064),o=n(21940);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},22899:function(t,e,n){"use strict";var r=n(29252),i=n(92064),o=n(47936),a=Object,u=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?u(t,""):a(t)}:a},39376:function(t,e,n){"use strict";var r=n(29252),i=n(38536),o=n(99284),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},19055:function(t,e,n){"use strict";var r=n(68608),i=n(20896);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},48611:function(t,e,n){"use strict";var r=n(33952),i=n(29252),o=n(13328),a=n(68608),u=n(34664),l=n(12280).f,c=n(11600),s=n(41920),f=n(85432),d=n(66696),h=n(69380),p=!1,v=d("meta"),g=0,m=function(t){l(t,v,{value:{objectID:"O"+g++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},p=!0;var t=c.f,e=i([].splice),n={};n[v]=1,t(n).length&&(c.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===v){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,v)){if(!f(t))return"F";if(!e)return"E";m(t)}return t[v].objectID},getWeakData:function(t,e){if(!u(t,v)){if(!f(t))return!0;if(!e)return!1;m(t)}return t[v].weakData},onFreeze:function(t){return h&&p&&f(t)&&!u(t,v)&&m(t),t}};o[v]=!0},2344:function(t,e,n){"use strict";var r,i,o,a=n(23184),u=n(85216),l=n(68608),c=n(20896),s=n(34664),f=n(99284),d=n(80924),h=n(13328),p="Object already initialized",v=u.TypeError,g=u.WeakMap;if(a||f.state){var m=f.state||(f.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,r=function(t,e){if(m.has(t))throw new v(p);return e.facade=t,m.set(t,e),e},i=function(t){return m.get(t)||{}},o=function(t){return m.has(t)}}else{var y=d("state");h[y]=!0,r=function(t,e){if(s(t,y))throw new v(p);return e.facade=t,c(t,y,e),e},i=function(t){return s(t,y)?t[y]:{}},o=function(t){return s(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return n}}}},84992:function(t,e,n){"use strict";var r=n(23336),i=n(97256),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},33204:function(t,e,n){"use strict";var r=n(47936);t.exports=Array.isArray||function(t){return"Array"===r(t)}},38536:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},39496:function(t,e,n){"use strict";var r=n(29252),i=n(92064),o=n(38536),a=n(60636),u=n(23464),l=n(39376),c=function(){},s=u("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),h=!f.test(c),p=function(t){if(!o(t))return!1;try{return s(c,[],t),!0}catch(t){return!1}},v=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!d(f,l(t))}catch(t){return!0}};v.sham=!0,t.exports=!s||i((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?v:p},88536:function(t,e,n){"use strict";var r=n(92064),i=n(38536),o=/#|\.prototype\./,a=function(t,e){var n=l[u(t)];return n===s||n!==c&&(i(e)?r(e):!!e)},u=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",s=a.POLYFILL="P";t.exports=a},19511:function(t){"use strict";t.exports=function(t){return null==t}},68608:function(t,e,n){"use strict";var r=n(38536);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},97432:function(t,e,n){"use strict";var r=n(68608);t.exports=function(t){return r(t)||null===t}},31016:function(t){"use strict";t.exports=!0},9300:function(t,e,n){"use strict";var r=n(68608),i=n(47936),o=n(23336)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===i(t))}},95376:function(t,e,n){"use strict";var r=n(23464),i=n(38536),o=n(82360),a=n(46416),u=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,u(t))}},63187:function(t,e,n){"use strict";var r=n(34580);t.exports=function(t,e,n){for(var i,o,a=n?t:t.iterator,u=t.next;!(i=r(u,a)).done;)if(void 0!==(o=e(i.value)))return o}},75799:function(t,e,n){"use strict";var r=n(21884),i=n(34580),o=n(42032),a=n(48944),u=n(84992),l=n(35316),c=n(82360),s=n(74656),f=n(80068),d=n(45872),h=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,n){var g,m,y,C,b,x,w,E=n&&n.that,S=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_RECORD),A=!(!n||!n.IS_ITERATOR),D=!(!n||!n.INTERRUPTED),I=r(e,E),T=function(t){return g&&d(g,"normal",t),new p(!0,t)},B=function(t){return S?(o(t),D?I(t[0],t[1],T):I(t[0],t[1])):D?I(t,T):I(t)};if(k)g=t.iterator;else if(A)g=t;else{if(!(m=f(t)))throw new h(a(t)+" is not iterable");if(u(m)){for(y=0,C=l(t);C>y;y++)if((b=B(t[y]))&&c(v,b))return b;return new p(!1)}g=s(t,m)}for(x=k?t.next:g.next;!(w=i(x,g)).done;){try{b=B(w.value)}catch(t){d(g,"throw",t)}if("object"==typeof b&&b&&c(v,b))return b}return new p(!1)}},45872:function(t,e,n){"use strict";var r=n(34580),i=n(42032),o=n(31636);t.exports=function(t,e,n){var a,u;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){u=!0,a=t}if("throw"===e)throw n;if(u)throw a;return i(a),n}},39976:function(t,e,n){"use strict";var r=n(72224).IteratorPrototype,i=n(4488),o=n(48981),a=n(35836),u=n(97256),l=function(){return this};t.exports=function(t,e,n,c){var s=e+" Iterator";return t.prototype=i(r,{next:o(+!c,n)}),a(t,s,!1,!0),u[s]=l,t}},536:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(31016),a=n(13564),u=n(38536),l=n(39976),c=n(27800),s=n(92288),f=n(35836),d=n(20896),h=n(55424),p=n(23336),v=n(97256),g=n(72224),m=a.PROPER,y=a.CONFIGURABLE,C=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,x=p("iterator"),w="keys",E="values",S="entries",k=function(){return this};t.exports=function(t,e,n,a,p,g,A){l(n,e,a);var D,I,T,B=function(t){if(t===p&&_)return _;if(!b&&t&&t in L)return L[t];switch(t){case w:case E:case S:return function(){return new n(this,t)}}return function(){return new n(this)}},M=e+" Iterator",R=!1,L=t.prototype,F=L[x]||L["@@iterator"]||p&&L[p],_=!b&&F||B(p),P="Array"===e&&L.entries||F;if(P&&(D=c(P.call(new t)))!==Object.prototype&&D.next&&(o||c(D)===C||(s?s(D,C):u(D[x])||h(D,x,k)),f(D,M,!0,!0),o&&(v[M]=k)),m&&p===E&&F&&F.name!==E&&(!o&&y?d(L,"name",E):(R=!0,_=function(){return i(F,this)})),p)if(I={values:B(E),keys:g?_:B(w),entries:B(S)},A)for(T in I)(b||R||!(T in L))&&h(L,T,I[T]);else r({target:e,proto:!0,forced:b||R},I);return o&&!A||L[x]===_||h(L,x,_,{name:p}),v[e]=_,I}},72224:function(t,e,n){"use strict";var r,i,o,a=n(92064),u=n(38536),l=n(68608),c=n(4488),s=n(27800),f=n(55424),d=n(23336),h=n(31016),p=d("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):v=!0),!l(r)||a((function(){var t={};return r[p].call(t)!==t}))?r={}:h&&(r=c(r)),u(r[p])||f(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},97256:function(t){"use strict";t.exports={}},35316:function(t,e,n){"use strict";var r=n(84596);t.exports=function(t){return r(t.length)}},2408:function(t,e,n){"use strict";var r=n(23464),i=n(7212),o=r("Map");t.exports={Map:o,set:i("set",2),get:i("get",1),has:i("has",1),remove:i("delete",1),proto:o.prototype}},90024:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},39836:function(t,e,n){"use strict";var r,i,o,a,u,l=n(85216),c=n(94604),s=n(21884),f=n(93368).set,d=n(20984),h=n(56772),p=n(38792),v=n(51824),g=n(91432),m=l.MutationObserver||l.WebKitMutationObserver,y=l.document,C=l.process,b=l.Promise,x=c("queueMicrotask");if(!x){var w=new d,E=function(){var t,e;for(g&&(t=C.domain)&&t.exit();e=w.get();)try{e()}catch(t){throw w.head&&r(),t}t&&t.enter()};h||g||v||!m||!y?!p&&b&&b.resolve?((a=b.resolve(void 0)).constructor=b,u=s(a.then,a),r=function(){u(E)}):g?r=function(){C.nextTick(E)}:(f=s(f,l),r=function(){f(E)}):(i=!0,o=y.createTextNode(""),new m(E).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),x=function(t){w.head||r(),w.add(t)}}t.exports=x},71243:function(t,e,n){"use strict";var r=n(20028),i=TypeError,o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw new i("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},93080:function(t,e,n){"use strict";var r=n(39352);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},29720:function(t,e,n){"use strict";var r=n(9300),i=TypeError;t.exports=function(t){if(r(t))throw new i("The method doesn't accept regular expressions");return t}},25411:function(t,e,n){"use strict";var r=n(85216),i=n(92064),o=n(29252),a=n(39352),u=n(36832).trim,l=n(25276),c=o("".charAt),s=r.parseFloat,f=r.Symbol,d=f&&f.iterator,h=1/s(l+"-0")!=-1/0||d&&!i((function(){s(Object(d))}));t.exports=h?function(t){var e=u(a(t)),n=s(e);return 0===n&&"-"===c(e,0)?-0:n}:s},24828:function(t,e,n){"use strict";var r=n(85216),i=n(92064),o=n(29252),a=n(39352),u=n(36832).trim,l=n(25276),c=r.parseInt,s=r.Symbol,f=s&&s.iterator,d=/^[+-]?0x/i,h=o(d.exec),p=8!==c(l+"08")||22!==c(l+"0x16")||f&&!i((function(){c(Object(f))}));t.exports=p?function(t,e){var n=u(a(t));return c(n,e>>>0||(h(d,n)?16:10))}:c},88980:function(t,e,n){"use strict";var r=n(99172),i=n(29252),o=n(34580),a=n(92064),u=n(9547),l=n(74060),c=n(66500),s=n(92819),f=n(22899),d=Object.assign,h=Object.defineProperty,p=i([].concat);t.exports=!d||a((function(){if(r&&1!==d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==d({},t)[n]||u(d({},e)).join("")!==i}))?function(t,e){for(var n=s(t),i=arguments.length,a=1,d=l.f,h=c.f;i>a;)for(var v,g=f(arguments[a++]),m=d?p(u(g),d(g)):u(g),y=m.length,C=0;y>C;)v=m[C++],r&&!o(h,g,v)||(n[v]=g[v]);return n}:d},4488:function(t,e,n){"use strict";var r,i=n(42032),o=n(86452),a=n(63620),u=n(13328),l=n(67896),c=n(21940),s=n(80924),f="prototype",d="script",h=s("IE_PROTO"),p=function(){},v=function(t){return"<"+d+">"+t+"</"+d+">"},g=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;m="undefined"!=typeof document?document.domain&&r?g(r):(e=c("iframe"),n="java"+d+":",e.style.display="none",l.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):g(r);for(var i=a.length;i--;)delete m[f][a[i]];return m()};u[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[f]=i(t),n=new p,p[f]=null,n[h]=t):n=m(),void 0===e?n:o.f(n,e)}},86452:function(t,e,n){"use strict";var r=n(99172),i=n(63109),o=n(12280),a=n(42032),u=n(30445),l=n(9547);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=l(e),c=i.length,s=0;c>s;)o.f(t,n=i[s++],r[n]);return t}},12280:function(t,e,n){"use strict";var r=n(99172),i=n(124),o=n(63109),a=n(42032),u=n(42319),l=TypeError,c=Object.defineProperty,s=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",h="writable";e.f=r?o?function(t,e,n){if(a(t),e=u(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&h in n&&!n[h]){var r=s(t,e);r&&r[h]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:f in n?n[f]:r[f],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=u(e),a(n),i)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},91008:function(t,e,n){"use strict";var r=n(99172),i=n(34580),o=n(66500),a=n(48981),u=n(30445),l=n(42319),c=n(34664),s=n(124),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=u(t),e=l(e),s)try{return f(t,e)}catch(t){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},41920:function(t,e,n){"use strict";var r=n(47936),i=n(30445),o=n(11600).f,a=n(70940),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"Window"===r(t)?function(t){try{return o(t)}catch(t){return a(u)}}(t):o(i(t))}},11600:function(t,e,n){"use strict";var r=n(92884),i=n(63620).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},74060:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},27800:function(t,e,n){"use strict";var r=n(34664),i=n(38536),o=n(92819),a=n(80924),u=n(72480),l=a("IE_PROTO"),c=Object,s=c.prototype;t.exports=u?c.getPrototypeOf:function(t){var e=o(t);if(r(e,l))return e[l];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?s:null}},85432:function(t,e,n){"use strict";var r=n(92064),i=n(68608),o=n(47936),a=n(3648),u=Object.isExtensible,l=r((function(){u(1)}));t.exports=l||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!==o(t))&&(!u||u(t)))}:u},82360:function(t,e,n){"use strict";var r=n(29252);t.exports=r({}.isPrototypeOf)},92884:function(t,e,n){"use strict";var r=n(29252),i=n(34664),o=n(30445),a=n(77464).indexOf,u=n(13328),l=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,s=[];for(n in r)!i(u,n)&&i(r,n)&&l(s,n);for(;e.length>c;)i(r,n=e[c++])&&(~a(s,n)||l(s,n));return s}},9547:function(t,e,n){"use strict";var r=n(92884),i=n(63620);t.exports=Object.keys||function(t){return r(t,i)}},66500:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},92288:function(t,e,n){"use strict";var r=n(97864),i=n(68608),o=n(69952),a=n(31459);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),a(r),i(n)?(e?t(n,r):n.__proto__=r,n):n}}():void 0)},82768:function(t,e,n){"use strict";var r=n(99172),i=n(92064),o=n(29252),a=n(27800),u=n(9547),l=n(30445),c=o(n(66500).f),s=o([].push),f=r&&i((function(){var t=Object.create(null);return t[2]=2,!c(t,2)})),d=function(t){return function(e){for(var n,i=l(e),o=u(i),d=f&&null===a(i),h=o.length,p=0,v=[];h>p;)n=o[p++],r&&!(d?n in i:c(i,n))||s(v,t?[n,i[n]]:i[n]);return v}};t.exports={entries:d(!0),values:d(!1)}},71616:function(t,e,n){"use strict";var r=n(26744),i=n(60636);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},10416:function(t,e,n){"use strict";var r=n(34580),i=n(38536),o=n(68608),a=TypeError;t.exports=function(t,e){var n,u;if("string"===e&&i(n=t.toString)&&!o(u=r(n,t)))return u;if(i(n=t.valueOf)&&!o(u=r(n,t)))return u;if("string"!==e&&i(n=t.toString)&&!o(u=r(n,t)))return u;throw new a("Can't convert object to primitive value")}},7876:function(t,e,n){"use strict";var r=n(23464),i=n(29252),o=n(11600),a=n(74060),u=n(42032),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(u(t)),n=a.f;return n?l(e,n(t)):e}},19832:function(t){"use strict";t.exports={}},35240:function(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},35524:function(t,e,n){"use strict";var r=n(85216),i=n(50728),o=n(38536),a=n(88536),u=n(39376),l=n(23336),c=n(50940),s=n(35924),f=n(31016),d=n(23896),h=i&&i.prototype,p=l("species"),v=!1,g=o(r.PromiseRejectionEvent),m=a("Promise",(function(){var t=u(i),e=t!==String(i);if(!e&&66===d)return!0;if(f&&(!h.catch||!h.finally))return!0;if(!d||d<51||!/native code/.test(t)){var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(v=n.then((function(){}))instanceof r))return!0}return!e&&(c||s)&&!g}));t.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:v}},50728:function(t,e,n){"use strict";var r=n(85216);t.exports=r.Promise},29592:function(t,e,n){"use strict";var r=n(42032),i=n(68608),o=n(71243);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},84880:function(t,e,n){"use strict";var r=n(50728),i=n(70347),o=n(35524).CONSTRUCTOR;t.exports=o||!i((function(t){r.all(t).then(void 0,(function(){}))}))},20984:function(t){"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},69952:function(t,e,n){"use strict";var r=n(19511),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},94604:function(t,e,n){"use strict";var r=n(85216),i=n(99172),o=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return r[t];var e=o(r,t);return e&&e.value}},11176:function(t){"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},98084:function(t,e,n){"use strict";var r,i=n(85216),o=n(79867),a=n(38536),u=n(77352),l=n(72276),c=n(70940),s=n(75872),f=i.Function,d=/MSIE .\./.test(l)||u&&((r=i.Bun.version.split(".")).length<3||"0"===r[0]&&(r[1]<3||"3"===r[1]&&"0"===r[2]));t.exports=function(t,e){var n=e?2:1;return d?function(r,i){var u=s(arguments.length,1)>n,l=a(r)?r:f(r),d=u?c(arguments,n):[],h=u?function(){o(l,this,d)}:l;return e?t(h,i):t(h)}:t}},94440:function(t,e,n){"use strict";var r=n(68152),i=n(71836),o=r.Set,a=r.add;t.exports=function(t){var e=new o;return i(t,(function(t){a(e,t)})),e}},62396:function(t,e,n){"use strict";var r=n(92292),i=n(68152),o=n(94440),a=n(30032),u=n(82308),l=n(71836),c=n(63187),s=i.has,f=i.remove;t.exports=function(t){var e=r(this),n=u(t),i=o(e);return a(e)<=n.size?l(e,(function(t){n.includes(t)&&f(i,t)})):c(n.getIterator(),(function(t){s(e,t)&&f(i,t)})),i}},68152:function(t,e,n){"use strict";var r=n(23464),i=n(7212),o=r("Set"),a=o.prototype;t.exports={Set:o,add:i("add",1),has:i("has",1),remove:i("delete",1),proto:a}},50920:function(t,e,n){"use strict";var r=n(92292),i=n(68152),o=n(30032),a=n(82308),u=n(71836),l=n(63187),c=i.Set,s=i.add,f=i.has;t.exports=function(t){var e=r(this),n=a(t),i=new c;return o(e)>n.size?l(n.getIterator(),(function(t){f(e,t)&&s(i,t)})):u(e,(function(t){n.includes(t)&&s(i,t)})),i}},27968:function(t,e,n){"use strict";var r=n(92292),i=n(68152).has,o=n(30032),a=n(82308),u=n(71836),l=n(63187),c=n(45872);t.exports=function(t){var e=r(this),n=a(t);if(o(e)<=n.size)return!1!==u(e,(function(t){if(n.includes(t))return!1}),!0);var s=n.getIterator();return!1!==l(s,(function(t){if(i(e,t))return c(s,"normal",!1)}))}},89972:function(t,e,n){"use strict";var r=n(92292),i=n(30032),o=n(71836),a=n(82308);t.exports=function(t){var e=r(this),n=a(t);return!(i(e)>n.size)&&!1!==o(e,(function(t){if(!n.includes(t))return!1}),!0)}},93472:function(t,e,n){"use strict";var r=n(92292),i=n(68152).has,o=n(30032),a=n(82308),u=n(63187),l=n(45872);t.exports=function(t){var e=r(this),n=a(t);if(o(e)<n.size)return!1;var c=n.getIterator();return!1!==u(c,(function(t){if(!i(e,t))return l(c,"normal",!1)}))}},71836:function(t,e,n){"use strict";var r=n(63187);t.exports=function(t,e,n){return n?r(t.keys(),e,!0):t.forEach(e)}},94864:function(t){"use strict";t.exports=function(){return!1}},30032:function(t){"use strict";t.exports=function(t){return t.size}},13120:function(t,e,n){"use strict";var r=n(23464),i=n(56968),o=n(23336),a=n(99172),u=o("species");t.exports=function(t){var e=r(t);a&&e&&!e[u]&&i(e,u,{configurable:!0,get:function(){return this}})}},58732:function(t,e,n){"use strict";var r=n(92292),i=n(68152),o=n(94440),a=n(82308),u=n(63187),l=i.add,c=i.has,s=i.remove;t.exports=function(t){var e=r(this),n=a(t).getIterator(),i=o(e);return u(n,(function(t){c(e,t)?s(i,t):l(i,t)})),i}},35836:function(t,e,n){"use strict";var r=n(26744),i=n(12280).f,o=n(20896),a=n(34664),u=n(71616),l=n(23336)("toStringTag");t.exports=function(t,e,n,c){var s=n?t:t&&t.prototype;s&&(a(s,l)||i(s,l,{configurable:!0,value:e}),c&&!r&&o(s,"toString",u))}},56240:function(t,e,n){"use strict";var r=n(92292),i=n(68152).add,o=n(94440),a=n(82308),u=n(63187);t.exports=function(t){var e=r(this),n=a(t).getIterator(),l=o(e);return u(n,(function(t){i(l,t)})),l}},80924:function(t,e,n){"use strict";var r=n(68852),i=n(66696),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},99284:function(t,e,n){"use strict";var r=n(31016),i=n(85216),o=n(44408),a="__core-js_shared__",u=t.exports=i[a]||o(a,{});(u.versions||(u.versions=[])).push({version:"3.37.0",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"})},68852:function(t,e,n){"use strict";var r=n(99284);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},84928:function(t,e,n){"use strict";var r=n(42032),i=n(39556),o=n(19511),a=n(23336)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||o(n=r(u)[a])?e:i(n)}},16392:function(t,e,n){"use strict";var r=n(29252),i=n(45016),o=n(39352),a=n(69952),u=r("".charAt),l=r("".charCodeAt),c=r("".slice),s=function(t){return function(e,n){var r,s,f=o(a(e)),d=i(n),h=f.length;return d<0||d>=h?t?"":void 0:(r=l(f,d))<55296||r>56319||d+1===h||(s=l(f,d+1))<56320||s>57343?t?u(f,d):r:t?c(f,d,d+2):s-56320+(r-55296<<10)+65536}};t.exports={codeAt:s(!1),charAt:s(!0)}},9960:function(t,e,n){"use strict";var r=n(29252),i=n(84596),o=n(39352),a=n(75448),u=n(69952),l=r(a),c=r("".slice),s=Math.ceil,f=function(t){return function(e,n,r){var a,f,d=o(u(e)),h=i(n),p=d.length,v=void 0===r?" ":o(r);return h<=p||""===v?d:((f=l(v,s((a=h-p)/v.length))).length>a&&(f=c(f,0,a)),t?d+f:f+d)}};t.exports={start:f(!1),end:f(!0)}},75448:function(t,e,n){"use strict";var r=n(45016),i=n(39352),o=n(69952),a=RangeError;t.exports=function(t){var e=i(o(this)),n="",u=r(t);if(u<0||u===1/0)throw new a("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(e+=e))1&u&&(n+=e);return n}},74144:function(t,e,n){"use strict";var r=n(13564).PROPER,i=n(92064),o=n(25276);t.exports=function(t){return i((function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||r&&o[t].name!==t}))}},36832:function(t,e,n){"use strict";var r=n(29252),i=n(69952),o=n(39352),a=n(25276),u=r("".replace),l=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),s=function(t){return function(e){var n=o(i(e));return 1&t&&(n=u(n,l,"")),2&t&&(n=u(n,c,"$1")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},25235:function(t,e,n){"use strict";var r=n(23896),i=n(92064),o=n(85216).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},50072:function(t,e,n){"use strict";var r=n(34580),i=n(23464),o=n(23336),a=n(55424);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,u=o("toPrimitive");e&&!e[u]&&a(e,u,(function(t){return r(n,this)}),{arity:1})}},95080:function(t,e,n){"use strict";var r=n(23464),i=n(29252),o=r("Symbol"),a=o.keyFor,u=i(o.prototype.valueOf);t.exports=o.isRegisteredSymbol||function(t){try{return void 0!==a(u(t))}catch(t){return!1}}},12636:function(t,e,n){"use strict";for(var r=n(68852),i=n(23464),o=n(29252),a=n(95376),u=n(23336),l=i("Symbol"),c=l.isWellKnownSymbol,s=i("Object","getOwnPropertyNames"),f=o(l.prototype.valueOf),d=r("wks"),h=0,p=s(l),v=p.length;h<v;h++)try{var g=p[h];a(l[g])&&u(g)}catch(t){}t.exports=function(t){if(c&&c(t))return!0;try{for(var e=f(t),n=0,r=s(d),i=r.length;n<i;n++)if(d[r[n]]==e)return!0}catch(t){}return!1}},37780:function(t,e,n){"use strict";var r=n(25235);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},93368:function(t,e,n){"use strict";var r,i,o,a,u=n(85216),l=n(79867),c=n(21884),s=n(38536),f=n(34664),d=n(92064),h=n(67896),p=n(70940),v=n(21940),g=n(75872),m=n(56772),y=n(91432),C=u.setImmediate,b=u.clearImmediate,x=u.process,w=u.Dispatch,E=u.Function,S=u.MessageChannel,k=u.String,A=0,D={},I="onreadystatechange";d((function(){r=u.location}));var T=function(t){if(f(D,t)){var e=D[t];delete D[t],e()}},B=function(t){return function(){T(t)}},M=function(t){T(t.data)},R=function(t){u.postMessage(k(t),r.protocol+"//"+r.host)};C&&b||(C=function(t){g(arguments.length,1);var e=s(t)?t:E(t),n=p(arguments,1);return D[++A]=function(){l(e,void 0,n)},i(A),A},b=function(t){delete D[t]},y?i=function(t){x.nextTick(B(t))}:w&&w.now?i=function(t){w.now(B(t))}:S&&!m?(a=(o=new S).port2,o.port1.onmessage=M,i=c(a.postMessage,a)):u.addEventListener&&s(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!d(R)?(i=R,u.addEventListener("message",M,!1)):i=I in v("script")?function(t){h.appendChild(v("script"))[I]=function(){h.removeChild(this),T(t)}}:function(t){setTimeout(B(t),0)}),t.exports={set:C,clear:b}},24180:function(t,e,n){"use strict";var r=n(45016),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},30445:function(t,e,n){"use strict";var r=n(22899),i=n(69952);t.exports=function(t){return r(i(t))}},45016:function(t,e,n){"use strict";var r=n(90024);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},84596:function(t,e,n){"use strict";var r=n(45016),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},92819:function(t,e,n){"use strict";var r=n(69952),i=Object;t.exports=function(t){return i(r(t))}},23504:function(t,e,n){"use strict";var r=n(34580),i=n(68608),o=n(95376),a=n(31636),u=n(10416),l=n(23336),c=TypeError,s=l("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,l=a(t,s);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},42319:function(t,e,n){"use strict";var r=n(23504),i=n(95376);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},26744:function(t,e,n){"use strict";var r={};r[n(23336)("toStringTag")]="z",t.exports="[object z]"===String(r)},39352:function(t,e,n){"use strict";var r=n(60636),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},48944:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},66696:function(t,e,n){"use strict";var r=n(29252),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},46416:function(t,e,n){"use strict";var r=n(25235);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},63109:function(t,e,n){"use strict";var r=n(99172),i=n(92064);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},75872:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},23184:function(t,e,n){"use strict";var r=n(85216),i=n(38536),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},61084:function(t,e,n){"use strict";var r=n(19832),i=n(34664),o=n(81104),a=n(12280).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},81104:function(t,e,n){"use strict";var r=n(23336);e.f=r},23336:function(t,e,n){"use strict";var r=n(85216),i=n(68852),o=n(34664),a=n(66696),u=n(25235),l=n(46416),c=r.Symbol,s=i("wks"),f=l?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return o(s,t)||(s[t]=u&&o(c,t)?c[t]:f("Symbol."+t)),s[t]}},25276:function(t){"use strict";t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},59232:function(t,e,n){"use strict";var r=n(33952),i=n(82360),o=n(27800),a=n(92288),u=n(1100),l=n(4488),c=n(20896),s=n(48981),f=n(19055),d=n(69035),h=n(75799),p=n(93080),v=n(23336)("toStringTag"),g=Error,m=[].push,y=function(t,e){var n,r=i(C,this);a?n=a(new g,r?o(this):C):(n=r?this:l(C),c(n,v,"Error")),void 0!==e&&c(n,"message",p(e)),d(n,y,n.stack,1),arguments.length>2&&f(n,arguments[2]);var u=[];return h(t,m,{that:u}),c(n,"errors",u),n};a?a(y,g):u(y,g,{name:!0});var C=y.prototype=l(g.prototype,{constructor:s(1,y),message:s(1,""),name:s(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},38436:function(t,e,n){"use strict";n(59232)},22216:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(33204),a=n(68608),u=n(92819),l=n(35316),c=n(18200),s=n(14895),f=n(94872),d=n(85384),h=n(23336),p=n(23896),v=h("isConcatSpreadable"),g=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!g||!d("concat")},{concat:function(t){var e,n,r,i,o,a=u(this),d=f(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(m(o=-1===e?a:arguments[e]))for(i=l(o),c(h+i),n=0;n<i;n++,h++)n in o&&s(d,h,o[n]);else c(h+1),s(d,h++,o);return d.length=h,d}})},16408:function(t,e,n){"use strict";var r=n(33952),i=n(7608).every;r({target:"Array",proto:!0,forced:!n(54888)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},64124:function(t,e,n){"use strict";var r=n(33952),i=n(33028),o=n(51472);r({target:"Array",proto:!0},{fill:i}),o("fill")},64864:function(t,e,n){"use strict";var r=n(33952),i=n(7608).filter;r({target:"Array",proto:!0,forced:!n(85384)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},41008:function(t,e,n){"use strict";var r=n(33952),i=n(7608).findIndex,o=n(51472),a="findIndex",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},36952:function(t,e,n){"use strict";var r=n(33952),i=n(7608).find,o=n(51472),a="find",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},37096:function(t,e,n){"use strict";var r=n(33952),i=n(8728),o=n(20028),a=n(92819),u=n(35316),l=n(94872);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=a(this),r=u(n);return o(t),(e=l(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},18068:function(t,e,n){"use strict";var r=n(33952),i=n(66056);r({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},19952:function(t,e,n){"use strict";var r=n(33952),i=n(9980);r({target:"Array",stat:!0,forced:!n(70347)((function(t){Array.from(t)}))},{from:i})},46504:function(t,e,n){"use strict";var r=n(33952),i=n(77464).includes,o=n(92064),a=n(51472);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},11904:function(t,e,n){"use strict";var r=n(33952),i=n(61248),o=n(77464).indexOf,a=n(54888),u=i([].indexOf),l=!!u&&1/u([1],1,-0)<0;r({target:"Array",proto:!0,forced:l||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return l?u(this,t,e)||0:o(this,t,e)}})},45656:function(t,e,n){"use strict";n(33952)({target:"Array",stat:!0},{isArray:n(33204)})},30340:function(t,e,n){"use strict";var r=n(30445),i=n(51472),o=n(97256),a=n(2344),u=n(12280).f,l=n(536),c=n(73848),s=n(31016),f=n(99172),d="Array Iterator",h=a.set,p=a.getterFor(d);t.exports=l(Array,"Array",(function(t,e){h(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,c(void 0,!0);switch(t.kind){case"keys":return c(n,!1);case"values":return c(e[n],!1)}return c([n,e[n]],!1)}),"values");var v=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!s&&f&&"values"!==v.name)try{u(v,"name",{value:"values"})}catch(t){}},97092:function(t,e,n){"use strict";var r=n(33952),i=n(7608).map;r({target:"Array",proto:!0,forced:!n(85384)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},91704:function(t,e,n){"use strict";var r=n(33952),i=n(16460).left,o=n(54888),a=n(23896);r({target:"Array",proto:!0,forced:!n(91432)&&a>79&&a<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},9020:function(t,e,n){"use strict";var r=n(33952),i=n(29252),o=n(33204),a=i([].reverse),u=[1,2];r({target:"Array",proto:!0,forced:String(u)===String(u.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},15863:function(t,e,n){"use strict";var r=n(33952),i=n(33204),o=n(39496),a=n(68608),u=n(24180),l=n(35316),c=n(30445),s=n(14895),f=n(23336),d=n(85384),h=n(70940),p=d("slice"),v=f("species"),g=Array,m=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,f,d=c(this),p=l(d),y=u(t,p),C=u(void 0===e?p:e,p);if(i(d)&&(n=d.constructor,(o(n)&&(n===g||i(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return h(d,y,C);for(r=new(void 0===n?g:n)(m(C-y,0)),f=0;y<C;y++,f++)y in d&&s(r,f,d[y]);return r.length=f,r}})},43408:function(t,e,n){"use strict";var r=n(33952),i=n(7608).some;r({target:"Array",proto:!0,forced:!n(54888)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},38280:function(t,e,n){"use strict";var r=n(33952),i=n(29252),o=n(20028),a=n(92819),u=n(35316),l=n(86940),c=n(39352),s=n(92064),f=n(43864),d=n(54888),h=n(7587),p=n(86028),v=n(23896),g=n(83624),m=[],y=i(m.sort),C=i(m.push),b=s((function(){m.sort(void 0)})),x=s((function(){m.sort(null)})),w=d("sort"),E=!s((function(){if(v)return v<70;if(!(h&&h>3)){if(p)return!0;if(g)return g<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:e+r,v:n})}for(m.sort((function(t,e){return e.v-t.v})),r=0;r<m.length;r++)e=m[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!x||!w||!E},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(E)return void 0===t?y(e):y(e,t);var n,r,i=[],s=u(e);for(r=0;r<s;r++)r in e&&C(i,e[r]);for(f(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=u(i),r=0;r<n;)e[r]=i[r++];for(;r<s;)l(e,r++);return e}})},74152:function(t,e,n){"use strict";var r=n(33952),i=n(92819),o=n(24180),a=n(45016),u=n(35316),l=n(1716),c=n(18200),s=n(94872),f=n(14895),d=n(86940),h=n(85384)("splice"),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,r,h,g,m,y,C=i(this),b=u(C),x=o(t,b),w=arguments.length;for(0===w?n=r=0:1===w?(n=0,r=b-x):(n=w-2,r=v(p(a(e),0),b-x)),c(b+n-r),h=s(C,r),g=0;g<r;g++)(m=x+g)in C&&f(h,g,C[m]);if(h.length=r,n<r){for(g=x;g<b-r;g++)y=g+n,(m=g+r)in C?C[y]=C[m]:d(C,y);for(g=b;g>b-r+n;g--)d(C,g-1)}else if(n>r)for(g=b-r;g>x;g--)y=g+n-1,(m=g+r-1)in C?C[y]=C[m]:d(C,y);for(g=0;g<n;g++)C[g+x]=arguments[g+2];return l(C,b-r+n),h}})},52651:function(t,e,n){"use strict";n(51472)("flatMap")},4864:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(92819),a=n(23504),u=n(67276),l=n(47936);r({target:"Date",proto:!0,forced:n(92064)((function(){return null!==new Date(NaN).toJSON()||1!==i(Date.prototype.toJSON,{toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),n=a(e,"number");return"number"!=typeof n||isFinite(n)?"toISOString"in e||"Date"!==l(e)?e.toISOString():i(u,e):null}})},54388:function(t,e,n){"use strict";var r=n(33952),i=n(5404);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},56736:function(t,e,n){"use strict";var r=n(33952),i=n(85216);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},58824:function(t,e,n){"use strict";var r=n(33952),i=n(23464),o=n(79867),a=n(34580),u=n(29252),l=n(92064),c=n(38536),s=n(95376),f=n(70940),d=n(13676),h=n(25235),p=String,v=i("JSON","stringify"),g=u(/./.exec),m=u("".charAt),y=u("".charCodeAt),C=u("".replace),b=u(1..toString),x=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,S=!h||l((function(){var t=i("Symbol")("stringify detection");return"[null]"!==v([t])||"{}"!==v({a:t})||"{}"!==v(Object(t))})),k=l((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),A=function(t,e){var n=f(arguments),r=d(e);if(c(r)||void 0!==t&&!s(t))return n[1]=function(t,e){if(c(r)&&(e=a(r,this,p(t),e)),!s(e))return e},o(v,null,n)},D=function(t,e,n){var r=m(n,e-1),i=m(n,e+1);return g(w,t)&&!g(E,i)||g(E,t)&&!g(w,r)?"\\u"+b(y(t,0),16):t};v&&r({target:"JSON",stat:!0,arity:3,forced:S||k},{stringify:function(t,e,n){var r=f(arguments),i=o(S?A:v,null,r);return k&&"string"==typeof i?C(i,x,D):i}})},19928:function(t,e,n){"use strict";var r=n(85216);n(35836)(r.JSON,"JSON",!0)},76696:function(t,e,n){"use strict";n(46072)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(63928))},62648:function(t,e,n){"use strict";var r=n(33952),i=n(29252),o=n(20028),a=n(69952),u=n(75799),l=n(2408),c=n(31016),s=n(92064),f=l.Map,d=l.has,h=l.get,p=l.set,v=i([].push),g=c||s((function(){return 1!==f.groupBy("ab",(function(t){return t})).get("a").length}));r({target:"Map",stat:!0,forced:c||g},{groupBy:function(t,e){a(t),o(e);var n=new f,r=0;return u(t,(function(t){var i=e(t,r++);d(n,i)?v(h(n,i),t):p(n,i,[t])})),n}})},86775:function(t,e,n){"use strict";n(76696)},93787:function(){},71620:function(t,e,n){"use strict";n(33952)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},52379:function(t,e,n){"use strict";n(33952)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},46448:function(t,e,n){"use strict";var r=n(33952),i=n(88980);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},68928:function(t,e,n){"use strict";n(33952)({target:"Object",stat:!0,sham:!n(99172)},{create:n(4488)})},67300:function(t,e,n){"use strict";var r=n(33952),i=n(99172),o=n(86452).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},98708:function(t,e,n){"use strict";var r=n(33952),i=n(99172),o=n(12280).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},6360:function(t,e,n){"use strict";var r=n(33952),i=n(82768).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},96360:function(t,e,n){"use strict";var r=n(33952),i=n(69380),o=n(92064),a=n(68608),u=n(48611).onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){l(1)})),sham:!i},{freeze:function(t){return l&&a(t)?l(u(t)):t}})},20224:function(t,e,n){"use strict";var r=n(33952),i=n(75799),o=n(14895);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){o(e,t,n)}),{AS_ENTRIES:!0}),e}})},97648:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(30445),a=n(91008).f,u=n(99172);r({target:"Object",stat:!0,forced:!u||i((function(){a(1)})),sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},65032:function(t,e,n){"use strict";var r=n(33952),i=n(99172),o=n(7876),a=n(30445),u=n(91008),l=n(14895);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=u.f,c=o(r),s={},f=0;c.length>f;)void 0!==(n=i(r,e=c[f++]))&&l(s,e,n);return s}})},45312:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(41920).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},79672:function(t,e,n){"use strict";var r=n(33952),i=n(25235),o=n(92064),a=n(74060),u=n(92819);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(u(t)):[]}})},33416:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(92819),a=n(27800),u=n(72480);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!u},{getPrototypeOf:function(t){return a(o(t))}})},63008:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(68608),a=n(47936),u=n(3648),l=Object.isFrozen;r({target:"Object",stat:!0,forced:u||i((function(){l(1)}))},{isFrozen:function(t){return!o(t)||(!(!u||"ArrayBuffer"!==a(t))||!!l&&l(t))}})},92500:function(t,e,n){"use strict";n(33952)({target:"Object",stat:!0},{is:n(11176)})},40088:function(t,e,n){"use strict";var r=n(33952),i=n(92819),o=n(9547);r({target:"Object",stat:!0,forced:n(92064)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},91020:function(t,e,n){"use strict";n(33952)({target:"Object",stat:!0},{setPrototypeOf:n(92288)})},12352:function(){},17016:function(t,e,n){"use strict";var r=n(33952),i=n(82768).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},18984:function(t,e,n){"use strict";var r=n(33952),i=n(25411);r({global:!0,forced:parseFloat!==i},{parseFloat:i})},71740:function(t,e,n){"use strict";var r=n(33952),i=n(24828);r({global:!0,forced:parseInt!==i},{parseInt:i})},38128:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(20028),a=n(71243),u=n(35240),l=n(75799);r({target:"Promise",stat:!0,forced:n(84880)},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,s=u((function(){var n=o(e.resolve),a=[],u=0,c=1;l(t,(function(t){var o=u++,l=!1;c++,i(n,e,t).then((function(t){l||(l=!0,a[o]={status:"fulfilled",value:t},--c||r(a))}),(function(t){l||(l=!0,a[o]={status:"rejected",reason:t},--c||r(a))}))})),--c||r(a)}));return s.error&&c(s.value),n.promise}})},83952:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(20028),a=n(71243),u=n(35240),l=n(75799);r({target:"Promise",stat:!0,forced:n(84880)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,s=u((function(){var n=o(e.resolve),a=[],u=0,s=1;l(t,(function(t){var o=u++,l=!1;s++,i(n,e,t).then((function(t){l||(l=!0,a[o]=t,--s||r(a))}),c)})),--s||r(a)}));return s.error&&c(s.value),n.promise}})},73728:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(20028),a=n(23464),u=n(71243),l=n(35240),c=n(75799),s=n(84880),f="No one promise resolved";r({target:"Promise",stat:!0,forced:s},{any:function(t){var e=this,n=a("AggregateError"),r=u.f(e),s=r.resolve,d=r.reject,h=l((function(){var r=o(e.resolve),a=[],u=0,l=1,h=!1;c(t,(function(t){var o=u++,c=!1;l++,i(r,e,t).then((function(t){c||h||(h=!0,s(t))}),(function(t){c||h||(c=!0,a[o]=t,--l||d(new n(a,f)))}))})),--l||d(new n(a,f))}));return h.error&&d(h.value),r.promise}})},32996:function(t,e,n){"use strict";var r=n(33952),i=n(31016),o=n(35524).CONSTRUCTOR,a=n(50728),u=n(23464),l=n(38536),c=n(55424),s=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&l(a)){var f=u("Promise").prototype.catch;s.catch!==f&&c(s,"catch",f,{unsafe:!0})}},96160:function(t,e,n){"use strict";var r,i,o,a=n(33952),u=n(31016),l=n(91432),c=n(85216),s=n(34580),f=n(55424),d=n(92288),h=n(35836),p=n(13120),v=n(20028),g=n(38536),m=n(68608),y=n(6952),C=n(84928),b=n(93368).set,x=n(39836),w=n(3320),E=n(35240),S=n(20984),k=n(2344),A=n(50728),D=n(35524),I=n(71243),T="Promise",B=D.CONSTRUCTOR,M=D.REJECTION_EVENT,R=D.SUBCLASSING,L=k.getterFor(T),F=k.set,_=A&&A.prototype,P=A,N=_,O=c.TypeError,j=c.document,G=c.process,U=I.f,z=U,Z=!!(j&&j.createEvent&&c.dispatchEvent),Q="unhandledrejection",W=function(t){var e;return!(!m(t)||!g(e=t.then))&&e},J=function(t,e){var n,r,i,o=e.value,a=1===e.state,u=a?t.ok:t.fail,l=t.resolve,c=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&Y(e),e.rejection=1),!0===u?n=o:(f&&f.enter(),n=u(o),f&&(f.exit(),i=!0)),n===t.promise?c(new O("Promise-chain cycle")):(r=W(n))?s(r,n,l,c):l(n)):c(o)}catch(t){f&&!i&&f.exit(),c(t)}},V=function(t,e){t.notified||(t.notified=!0,x((function(){for(var n,r=t.reactions;n=r.get();)J(n,t);t.notified=!1,e&&!t.rejection&&K(t)})))},H=function(t,e,n){var r,i;Z?((r=j.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!M&&(i=c["on"+t])?i(r):t===Q&&w("Unhandled promise rejection",n)},K=function(t){s(b,c,(function(){var e,n=t.facade,r=t.value;if(q(t)&&(e=E((function(){l?G.emit("unhandledRejection",r,n):H(Q,n,r)})),t.rejection=l||q(t)?2:1,e.error))throw e.value}))},q=function(t){return 1!==t.rejection&&!t.parent},Y=function(t){s(b,c,(function(){var e=t.facade;l?G.emit("rejectionHandled",e):H("rejectionhandled",e,t.value)}))},X=function(t,e,n){return function(r){t(e,r,n)}},$=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,V(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new O("Promise can't be resolved itself");var r=W(e);r?x((function(){var n={done:!1};try{s(r,e,X(tt,n,t),X($,n,t))}catch(e){$(n,e,t)}})):(t.value=e,t.state=1,V(t,!1))}catch(e){$({done:!1},e,t)}}};if(B&&(N=(P=function(t){y(this,N),v(t),s(r,this);var e=L(this);try{t(X(tt,e),X($,e))}catch(t){$(e,t)}}).prototype,(r=function(t){F(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=f(N,"then",(function(t,e){var n=L(this),r=U(C(this,P));return n.parent=!0,r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=l?G.domain:void 0,0===n.state?n.reactions.add(r):x((function(){J(r,n)})),r.promise})),i=function(){var t=new r,e=L(t);this.promise=t,this.resolve=X(tt,e),this.reject=X($,e)},I.f=U=function(t){return t===P||undefined===t?new i(t):z(t)},!u&&g(A)&&_!==Object.prototype)){o=_.then,R||f(_,"then",(function(t,e){var n=this;return new P((function(t,e){s(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete _.constructor}catch(t){}d&&d(_,N)}a({global:!0,constructor:!0,wrap:!0,forced:B},{Promise:P}),h(P,T,!1,!0),p(T)},50196:function(t,e,n){"use strict";var r=n(33952),i=n(31016),o=n(50728),a=n(92064),u=n(23464),l=n(38536),c=n(84928),s=n(29592),f=n(55424),d=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,u("Promise")),n=l(t);return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}}),!i&&l(o)){var h=u("Promise").prototype.finally;d.finally!==h&&f(d,"finally",h,{unsafe:!0})}},86244:function(t,e,n){"use strict";n(96160),n(83952),n(32996),n(76968),n(84072),n(45832)},76968:function(t,e,n){"use strict";var r=n(33952),i=n(34580),o=n(20028),a=n(71243),u=n(35240),l=n(75799);r({target:"Promise",stat:!0,forced:n(84880)},{race:function(t){var e=this,n=a.f(e),r=n.reject,c=u((function(){var a=o(e.resolve);l(t,(function(t){i(a,e,t).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},84072:function(t,e,n){"use strict";var r=n(33952),i=n(71243);r({target:"Promise",stat:!0,forced:n(35524).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},45832:function(t,e,n){"use strict";var r=n(33952),i=n(23464),o=n(31016),a=n(50728),u=n(35524).CONSTRUCTOR,l=n(29592),c=i("Promise"),s=o&&!u;r({target:"Promise",stat:!0,forced:o||u},{resolve:function(t){return l(s&&this===c?a:this,t)}})},10096:function(t,e,n){"use strict";var r=n(33952),i=n(71243);r({target:"Promise",stat:!0},{withResolvers:function(){var t=i.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})},14915:function(t,e,n){"use strict";var r=n(33952),i=n(23464),o=n(79867),a=n(5404),u=n(39556),l=n(42032),c=n(68608),s=n(4488),f=n(92064),d=i("Reflect","construct"),h=Object.prototype,p=[].push,v=f((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),g=!f((function(){d((function(){}))})),m=v||g;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){u(t),l(e);var n=arguments.length<3?t:u(arguments[2]);if(g&&!v)return d(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(a,t,r))}var i=n.prototype,f=s(c(i)?i:h),m=o(t,f,e);return c(m)?m:f}})},79896:function(t,e,n){"use strict";var r=n(33952),i=n(99172),o=n(42032),a=n(91008);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},71088:function(t,e,n){"use strict";n(33952)({target:"Reflect",stat:!0},{ownKeys:n(7876)})},72556:function(){},96784:function(t,e,n){"use strict";n(46072)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(63928))},67036:function(t,e,n){"use strict";var r=n(33952),i=n(62396);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("difference")},{difference:i})},47124:function(t,e,n){"use strict";var r=n(33952),i=n(92064),o=n(50920);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:o})},24136:function(t,e,n){"use strict";var r=n(33952),i=n(27968);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("isDisjointFrom")},{isDisjointFrom:i})},72304:function(t,e,n){"use strict";var r=n(33952),i=n(89972);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("isSubsetOf")},{isSubsetOf:i})},23276:function(t,e,n){"use strict";var r=n(33952),i=n(93472);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("isSupersetOf")},{isSupersetOf:i})},81160:function(t,e,n){"use strict";n(96784)},63112:function(t,e,n){"use strict";var r=n(33952),i=n(58732);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("symmetricDifference")},{symmetricDifference:i})},61704:function(t,e,n){"use strict";var r=n(33952),i=n(56240);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("union")},{union:i})},5920:function(t,e,n){"use strict";var r=n(33952),i=n(16392).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},20976:function(t,e,n){"use strict";var r,i=n(33952),o=n(61248),a=n(91008).f,u=n(84596),l=n(39352),c=n(29720),s=n(69952),f=n(60660),d=n(31016),h=o("".slice),p=Math.min,v=f("endsWith");i({target:"String",proto:!0,forced:!!(d||v||(r=a(String.prototype,"endsWith"),!r||r.writable))&&!v},{endsWith:function(t){var e=l(s(this));c(t);var n=arguments.length>1?arguments[1]:void 0,r=e.length,i=void 0===n?r:p(u(n),r),o=l(t);return h(e,i-o.length,i)===o}})},3512:function(t,e,n){"use strict";var r=n(33952),i=n(29252),o=n(29720),a=n(69952),u=n(39352),l=n(60660),c=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(t){return!!~c(u(a(this)),u(o(t)),arguments.length>1?arguments[1]:void 0)}})},34176:function(t,e,n){"use strict";var r=n(16392).charAt,i=n(39352),o=n(2344),a=n(536),u=n(73848),l="String Iterator",c=o.set,s=o.getterFor(l);a(String,"String",(function(t){c(this,{type:l,string:i(t),index:0})}),(function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?u(void 0,!0):(t=r(n,i),e.index+=t.length,u(t,!1))}))},78812:function(t,e,n){"use strict";var r,i=n(33952),o=n(61248),a=n(91008).f,u=n(84596),l=n(39352),c=n(29720),s=n(69952),f=n(60660),d=n(31016),h=o("".slice),p=Math.min,v=f("startsWith");i({target:"String",proto:!0,forced:!!(d||v||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!v},{startsWith:function(t){var e=l(s(this));c(t);var n=u(p(arguments.length>1?arguments[1]:void 0,e.length)),r=l(t);return h(e,n,n+r.length)===r}})},25384:function(t,e,n){"use strict";var r=n(33952),i=n(36832).trim;r({target:"String",proto:!0,forced:n(74144)("trim")},{trim:function(){return i(this)}})},52240:function(t,e,n){"use strict";n(61084)("asyncIterator")},63840:function(t,e,n){"use strict";var r=n(33952),i=n(85216),o=n(34580),a=n(29252),u=n(31016),l=n(99172),c=n(25235),s=n(92064),f=n(34664),d=n(82360),h=n(42032),p=n(30445),v=n(42319),g=n(39352),m=n(48981),y=n(4488),C=n(9547),b=n(11600),x=n(41920),w=n(74060),E=n(91008),S=n(12280),k=n(86452),A=n(66500),D=n(55424),I=n(56968),T=n(68852),B=n(80924),M=n(13328),R=n(66696),L=n(23336),F=n(81104),_=n(61084),P=n(50072),N=n(35836),O=n(2344),j=n(7608).forEach,G=B("hidden"),U="Symbol",z="prototype",Z=O.set,Q=O.getterFor(U),W=Object[z],J=i.Symbol,V=J&&J[z],H=i.RangeError,K=i.TypeError,q=i.QObject,Y=E.f,X=S.f,$=x.f,tt=A.f,et=a([].push),nt=T("symbols"),rt=T("op-symbols"),it=T("wks"),ot=!q||!q[z]||!q[z].findChild,at=function(t,e,n){var r=Y(W,e);r&&delete W[e],X(t,e,n),r&&t!==W&&X(W,e,r)},ut=l&&s((function(){return 7!==y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?at:X,lt=function(t,e){var n=nt[t]=y(V);return Z(n,{type:U,tag:t,description:e}),l||(n.description=e),n},ct=function(t,e,n){t===W&&ct(rt,e,n),h(t);var r=v(e);return h(n),f(nt,r)?(n.enumerable?(f(t,G)&&t[G][r]&&(t[G][r]=!1),n=y(n,{enumerable:m(0,!1)})):(f(t,G)||X(t,G,m(1,y(null))),t[G][r]=!0),ut(t,r,n)):X(t,r,n)},st=function(t,e){h(t);var n=p(e),r=C(n).concat(pt(n));return j(r,(function(e){l&&!o(ft,n,e)||ct(t,e,n[e])})),t},ft=function(t){var e=v(t),n=o(tt,this,e);return!(this===W&&f(nt,e)&&!f(rt,e))&&(!(n||!f(this,e)||!f(nt,e)||f(this,G)&&this[G][e])||n)},dt=function(t,e){var n=p(t),r=v(e);if(n!==W||!f(nt,r)||f(rt,r)){var i=Y(n,r);return!i||!f(nt,r)||f(n,G)&&n[G][r]||(i.enumerable=!0),i}},ht=function(t){var e=$(p(t)),n=[];return j(e,(function(t){f(nt,t)||f(M,t)||et(n,t)})),n},pt=function(t){var e=t===W,n=$(e?rt:p(t)),r=[];return j(n,(function(t){!f(nt,t)||e&&!f(W,t)||et(r,nt[t])})),r};c||(J=function(){if(d(V,this))throw new K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=R(t),n=function(t){var r=void 0===this?i:this;r===W&&o(n,rt,t),f(r,G)&&f(r[G],e)&&(r[G][e]=!1);var a=m(1,t);try{ut(r,e,a)}catch(t){if(!(t instanceof H))throw t;at(r,e,a)}};return l&&ot&&ut(W,e,{configurable:!0,set:n}),lt(e,t)},D(V=J[z],"toString",(function(){return Q(this).tag})),D(J,"withoutSetter",(function(t){return lt(R(t),t)})),A.f=ft,S.f=ct,k.f=st,E.f=dt,b.f=x.f=ht,w.f=pt,F.f=function(t){return lt(L(t),t)},l&&(I(V,"description",{configurable:!0,get:function(){return Q(this).description}}),u||D(W,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:J}),j(C(it),(function(t){_(t)})),r({target:U,stat:!0,forced:!c},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(t,e){return void 0===e?y(t):st(y(t),e)},defineProperty:ct,defineProperties:st,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ht}),P(),N(J,U),M[G]=!0},49452:function(){},90920:function(t,e,n){"use strict";var r=n(33952),i=n(23464),o=n(34664),a=n(39352),u=n(68852),l=n(37780),c=u("string-to-symbol-registry"),s=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(t){var e=a(t);if(o(c,e))return c[e];var n=i("Symbol")(e);return c[e]=n,s[n]=e,n}})},71344:function(t,e,n){"use strict";n(61084)("hasInstance")},74436:function(t,e,n){"use strict";n(61084)("isConcatSpreadable")},6992:function(t,e,n){"use strict";n(61084)("iterator")},49276:function(t,e,n){"use strict";n(63840),n(90920),n(61896),n(58824),n(79672)},61896:function(t,e,n){"use strict";var r=n(33952),i=n(34664),o=n(95376),a=n(48944),u=n(68852),l=n(37780),c=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(t){if(!o(t))throw new TypeError(a(t)+" is not a symbol");if(i(c,t))return c[t]}})},56380:function(t,e,n){"use strict";n(61084)("matchAll")},58028:function(t,e,n){"use strict";n(61084)("match")},76176:function(t,e,n){"use strict";n(61084)("replace")},91176:function(t,e,n){"use strict";n(61084)("search")},60781:function(t,e,n){"use strict";n(61084)("species")},76720:function(t,e,n){"use strict";n(61084)("split")},95536:function(t,e,n){"use strict";var r=n(61084),i=n(50072);r("toPrimitive"),i()},44732:function(t,e,n){"use strict";var r=n(23464),i=n(61084),o=n(35836);i("toStringTag"),o(r("Symbol"),"Symbol")},84243:function(t,e,n){"use strict";n(61084)("unscopables")},32596:function(t,e,n){"use strict";var r,i=n(69380),o=n(85216),a=n(29252),u=n(48104),l=n(48611),c=n(46072),s=n(92168),f=n(68608),d=n(2344).enforce,h=n(92064),p=n(23184),v=Object,g=Array.isArray,m=v.isExtensible,y=v.isFrozen,C=v.isSealed,b=v.freeze,x=v.seal,w=!o.ActiveXObject&&"ActiveXObject"in o,E=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},S=c("WeakMap",E,s),k=S.prototype,A=a(k.set);if(p)if(w){r=s.getConstructor(E,"WeakMap",!0),l.enable();var D=a(k.delete),I=a(k.has),T=a(k.get);u(k,{delete:function(t){if(f(t)&&!m(t)){var e=d(this);return e.frozen||(e.frozen=new r),D(this,t)||e.frozen.delete(t)}return D(this,t)},has:function(t){if(f(t)&&!m(t)){var e=d(this);return e.frozen||(e.frozen=new r),I(this,t)||e.frozen.has(t)}return I(this,t)},get:function(t){if(f(t)&&!m(t)){var e=d(this);return e.frozen||(e.frozen=new r),I(this,t)?T(this,t):e.frozen.get(t)}return T(this,t)},set:function(t,e){if(f(t)&&!m(t)){var n=d(this);n.frozen||(n.frozen=new r),I(this,t)?A(this,t,e):n.frozen.set(t,e)}else A(this,t,e);return this}})}else i&&h((function(){var t=b([]);return A(new S,t,1),!y(t)}))&&u(k,{set:function(t,e){var n;return g(t)&&(y(t)?n=b:C(t)&&(n=x)),A(this,t,e),n&&n(t),this}})},72340:function(t,e,n){"use strict";n(32596)},52796:function(t,e,n){"use strict";n(38436)},46536:function(t,e,n){"use strict";var r=n(23336),i=n(12280).f,o=r("metadata"),a=Function.prototype;void 0===a[o]&&i(a,o,{value:null})},19760:function(t,e,n){"use strict";n(56736)},18744:function(t,e,n){"use strict";n(38128)},5200:function(t,e,n){"use strict";n(73728)},94384:function(t,e,n){"use strict";var r=n(33952),i=n(79867),o=n(70940),a=n(71243),u=n(20028),l=n(35240);r({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=o(arguments,1),n=a.f(this),r=l((function(){return i(u(t),void 0,e)}));return(r.error?n.reject:n.resolve)(r.value),n.promise}})},21048:function(t,e,n){"use strict";n(10096)},7576:function(t,e,n){"use strict";n(61084)("asyncDispose")},53504:function(t,e,n){"use strict";n(61084)("customMatcher")},57772:function(t,e,n){"use strict";n(61084)("dispose")},89264:function(t,e,n){"use strict";n(33952)({target:"Symbol",stat:!0},{isRegisteredSymbol:n(95080)})},31216:function(t,e,n){"use strict";n(33952)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:n(95080)})},98460:function(t,e,n){"use strict";n(33952)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:n(12636)})},5196:function(t,e,n){"use strict";n(33952)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:n(12636)})},84448:function(t,e,n){"use strict";n(61084)("matcher")},72948:function(t,e,n){"use strict";n(61084)("metadataKey")},65656:function(t,e,n){"use strict";n(61084)("metadata")},4184:function(t,e,n){"use strict";n(61084)("observable")},12252:function(t,e,n){"use strict";n(61084)("patternMatch")},8776:function(t,e,n){"use strict";n(61084)("replaceAll")},42920:function(){},23624:function(t,e,n){"use strict";n(30340);var r=n(50472),i=n(85216),o=n(35836),a=n(97256);for(var u in r)o(i[u],u),a[u]=a.Array},23379:function(t,e,n){"use strict";var r=n(33952),i=n(85216),o=n(98084)(i.setInterval,!0);r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},6436:function(t,e,n){"use strict";var r=n(33952),i=n(85216),o=n(98084)(i.setTimeout,!0);r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},99495:function(t,e,n){"use strict";n(23379),n(6436)},36128:function(t,e,n){"use strict";var r=n(69259);t.exports=r},81324:function(t,e,n){"use strict";var r=n(3376);t.exports=r},46768:function(t,e,n){"use strict";var r=n(70216);t.exports=r},75368:function(t,e,n){"use strict";var r=n(23272);t.exports=r},57100:function(t,e,n){"use strict";var r=n(74908);t.exports=r},31056:function(t,e,n){"use strict";var r=n(79720);t.exports=r},50984:function(t,e,n){"use strict";var r=n(34556);n(23624),t.exports=r},24920:function(t,e,n){"use strict";var r=n(35776);t.exports=r},92960:function(t,e,n){"use strict";var r=n(74756);t.exports=r},9452:function(t,e,n){"use strict";var r=n(65056);t.exports=r},51188:function(t,e,n){"use strict";var r=n(88884);t.exports=r},20104:function(t,e,n){"use strict";var r=n(46172);t.exports=r},34963:function(t,e,n){"use strict";n(23624);var r=n(60636),i=n(34664),o=n(82360),a=n(46768),u=Array.prototype,l={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.entries;return t===u||o(u,t)&&e===u.entries||i(l,r(t))?a:e}},91924:function(t,e,n){"use strict";var r=n(28312);t.exports=r},77444:function(t,e,n){"use strict";var r=n(56404);t.exports=r},28320:function(t,e,n){"use strict";var r=n(680);t.exports=r},13352:function(t,e,n){"use strict";var r=n(53612);t.exports=r},70120:function(t,e,n){"use strict";var r=n(32600);t.exports=r},43676:function(t,e,n){"use strict";var r=n(11912);t.exports=r},49372:function(t,e,n){"use strict";var r=n(60636),i=n(34664),o=n(82360),a=n(75368);n(42920);var u=Array.prototype,l={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===u||o(u,t)&&e===u.forEach||i(l,r(t))?a:e}},8760:function(t,e,n){"use strict";var r=n(8180);t.exports=r},35720:function(t,e,n){"use strict";var r=n(44156);t.exports=r},5960:function(t,e,n){"use strict";n(23624);var r=n(60636),i=n(34664),o=n(82360),a=n(57100),u=Array.prototype,l={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.keys;return t===u||o(u,t)&&e===u.keys||i(l,r(t))?a:e}},48776:function(t,e,n){"use strict";var r=n(91352);t.exports=r},69344:function(t,e,n){"use strict";var r=n(39063);t.exports=r},87144:function(t,e,n){"use strict";var r=n(15080);t.exports=r},27584:function(t,e,n){"use strict";var r=n(58688);t.exports=r},59620:function(t,e,n){"use strict";var r=n(48284);t.exports=r},84644:function(t,e,n){"use strict";var r=n(86188);t.exports=r},9384:function(t,e,n){"use strict";var r=n(46312);t.exports=r},28812:function(t,e,n){"use strict";var r=n(1240);t.exports=r},59408:function(t,e,n){"use strict";var r=n(78125);t.exports=r},24992:function(t,e,n){"use strict";n(23624);var r=n(60636),i=n(34664),o=n(82360),a=n(31056),u=Array.prototype,l={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.values;return t===u||o(u,t)&&e===u.values||i(l,r(t))?a:e}},69140:function(t,e,n){"use strict";var r=n(69304);t.exports=r},62572:function(t,e,n){"use strict";var r=n(52548);n(23624),t.exports=r},92496:function(t,e,n){"use strict";var r=n(96576);t.exports=r},54104:function(t,e,n){"use strict";var r=n(84884);t.exports=r},95608:function(t,e,n){"use strict";var r=n(59196);t.exports=r},72672:function(t,e,n){"use strict";var r=n(44636);t.exports=r},62296:function(t,e,n){"use strict";var r=n(42172);t.exports=r},68792:function(t,e,n){"use strict";var r=n(74856);t.exports=r},37752:function(t,e,n){"use strict";var r=n(92536);t.exports=r},38736:function(t,e,n){"use strict";var r=n(42348);t.exports=r},9788:function(t,e,n){"use strict";var r=n(12436);n(23624),t.exports=r},35716:function(t,e,n){"use strict";var r=n(13416);t.exports=r},56860:function(t,e,n){"use strict";var r=n(32936);t.exports=r},43760:function(t,e,n){"use strict";var r=n(61852);t.exports=r},9224:function(t,e,n){"use strict";var r=n(920);t.exports=r},48624:function(t,e,n){"use strict";var r=n(3056);t.exports=r},72504:function(t,e,n){"use strict";var r=n(67552);t.exports=r},50396:function(t,e,n){"use strict";var r=n(45704);t.exports=r},10424:function(t,e,n){"use strict";var r=n(82613);t.exports=r},42648:function(t,e,n){"use strict";var r=n(23092);t.exports=r},77052:function(t,e,n){"use strict";var r=n(6104);t.exports=r},52136:function(t,e,n){"use strict";var r=n(15384);t.exports=r},11480:function(t,e,n){"use strict";var r=n(5357);t.exports=r},19516:function(t,e,n){"use strict";var r=n(31736);n(23624),t.exports=r},43252:function(t,e,n){"use strict";var r=n(92880);t.exports=r},94088:function(t,e,n){"use strict";var r=n(25784);t.exports=r},77932:function(t,e,n){"use strict";var r=n(21836);t.exports=r},42592:function(t,e,n){"use strict";n(99495);var r=n(19832);t.exports=r.setTimeout},43328:function(t,e,n){"use strict";var r=n(77376);n(23624),t.exports=r},35184:function(t,e,n){"use strict";var r=n(63656);t.exports=r},39928:function(t,e,n){"use strict";var r=n(22767);n(23624),t.exports=r},88308:function(t,e,n){"use strict";var r=n(25180);n(23624),t.exports=r},86167:function(t,e,n){"use strict";var r=n(63576);n(23624),t.exports=r},29464:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{c:function(){return r}})},66636:function(t,e,n){"use strict";n.d(e,{c:function(){return i}});var r=n(93920);function i(t){if(r(t))return t}},89280:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{c:function(){return r}})},85640:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(86724);function i(t,e,n,i,o,a,u){try{var l=t[a](u),c=l.value}catch(t){return void n(t)}l.done?e(c):r.resolve(c).then(i,o)}function o(t){return function(){var e=this,n=arguments;return new r((function(r,o){var a=t.apply(e,n);function u(t){i(a,r,o,u,l,"next",t)}function l(t){i(a,r,o,u,l,"throw",t)}u(void 0)}))}}},3460:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{c:function(){return r}})},27688:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(19692);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),r(t,"prototype",{writable:!1}),t}},30112:function(t,e,n){"use strict";n.d(e,{c:function(){return i}});var r=n(19692);function i(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},80284:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(12484),i=n(9712);function o(){var t;return o=r?i(t=r).call(t):function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}},77284:function(t,e,n){"use strict";n.d(e,{c:function(){return a}});var r=n(53140),i=n(9712),o=n(80075);function a(t){var e;return a=r?i(e=o).call(e):function(t){return t.__proto__||o(t)},a(t)}},43840:function(t,e,n){"use strict";n.d(e,{c:function(){return l}});var r=n(71072),i=n(19692),o=n(53140),a=n(9712);function u(t,e){var n;return u=o?a(n=o).call(n):function(t,e){return t.__proto__=e,t},u(t,e)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i(t,"prototype",{writable:!1}),e&&u(t,e)}},40948:function(t,e,n){"use strict";n.d(e,{c:function(){return a}});var r=n(98468),i=n(64248),o=n(91648);function a(t){if(void 0!==r&&null!=i(t)||null!=t["@@iterator"])return o(t)}},76288:function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,{c:function(){return r}})},34984:function(t,e,n){"use strict";n.d(e,{c:function(){return a}});var r=n(57312),i=n(26568),o=n(57328);function a(t,e){if(null==t)return{};var n,a,u=function(t,e){if(null==t)return{};var n,r,a={},u=o(t);for(r=0;r<u.length;r++)n=u[r],i(e).call(e,n)>=0||(a[n]=t[n]);return a}(t,e);if(r){var l=r(t);for(a=0;a<l.length;a++)n=l[a],i(e).call(e,n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(u[n]=t[n])}return u}},54895:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(58496),i=n(89280);function o(t,e){if(e&&("object"===(0,r.c)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.c)(t)}},57048:function(t,e,n){"use strict";function r(t){throw new TypeError('"'+t+'" is read-only')}n.d(e,{c:function(){return r}})},72048:function(t,e,n){"use strict";n.d(e,{c:function(){return l}});var r=n(66636),i=n(98468),o=n(64248);var a=n(95956),u=n(76288);function l(t,e){return(0,r.c)(t)||function(t,e){var n=null==t?null:void 0!==i&&o(t)||t["@@iterator"];if(null!=n){var r,a,u=[],l=!0,c=!1;try{for(n=n.call(t);!(l=(r=n.next()).done)&&(u.push(r.value),!e||u.length!==e);l=!0);}catch(t){c=!0,a=t}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return u}}(t,e)||(0,a.c)(t,e)||(0,u.c)()}},75240:function(t,e,n){"use strict";n.d(e,{c:function(){return u}});var r=n(66636),i=n(40948),o=n(95956),a=n(76288);function u(t){return(0,r.c)(t)||(0,i.c)(t)||(0,o.c)(t)||(0,a.c)()}},81043:function(t,e,n){"use strict";n.d(e,{c:function(){return u}});var r=n(93920),i=n(29464);var o=n(40948),a=n(95956);function u(t){return function(t){if(r(t))return(0,i.c)(t)}(t)||(0,o.c)(t)||(0,a.c)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},58496:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(98468),i=n(51592);function o(t){return o="function"==typeof r&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t},o(t)}},95956:function(t,e,n){"use strict";n.d(e,{c:function(){return a}});var r=n(29656),i=n(91648),o=n(29464);function a(t,e){var n;if(t){if("string"==typeof t)return(0,o.c)(t,e);var a=r(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?i(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,o.c)(t,e):void 0}}},83789:function(t,e,n){"use strict";n.d(e,{Ut:function(){return Mt},Wl:function(){return _},eQ:function(){return Rt},o7:function(){return Lt}});var r,i,o,a,u,l,c=n(58496),s=n(75984),f=n(57492),d=n(12388),h=n(7312),p=n(47976),v=n(88836),g=n(59312),m=n(12640),y=n(26260),C=n(24560),b=n(69216),x=n(81744),w=n(55748),E=n(89843),S=(n(39832),n(45040),n(64136),n(11872),n(66196),n(75668),n(5848),n(97440)),k=n(31192),A=(n(72600),n(62360)),D=n(39448),I=n(27392),T=n(54120),B=n(28555),M=n(25448),R=(n(97552),n(2992)),L=n(37152);function F(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+s(n).call(n,(function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function _(t){return!!t&&!!t[wt]}function P(t){var e;return!!t&&(function(t){if(!t||"object"!=(0,c.c)(t))return!1;var e=f(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Et}(t)||d(t)||!!t[xt]||!!(null===(e=t.constructor)||void 0===e?void 0:e[xt])||Z(t)||Q(t))}function N(t,e,n){var r;void 0===n&&(n=!1),0===O(t)?h(r=(n?p:St)(t)).call(r,(function(r){n&&"symbol"==(0,c.c)(r)||e(r,t[r],t)})):h(t).call(t,(function(n,r){return e(r,n,t)}))}function O(t){var e=t[wt];return e?e.i>3?e.i-4:e.i:d(t)?1:Z(t)?2:Q(t)?3:0}function j(t,e){return 2===O(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function G(t,e){return 2===O(t)?t.get(e):t[e]}function U(t,e,n){var r=O(t);2===r?t.set(e,n):3===r?t.add(n):t[e]=n}function z(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function Z(t){return mt&&t instanceof v}function Q(t){return yt&&t instanceof g}function W(t){return t.o||t.t}function J(t){if(d(t))return m(Array.prototype).call(t);var e=kt(t);delete e[wt];for(var n=St(e),r=0;r<n.length;r++){var i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return y(f(t),e)}function V(t,e){return void 0===e&&(e=!1),K(t)||_(t)||!P(t)||(O(t)>1&&(t.set=t.add=t.clear=t.delete=H),C(t),e&&N(t,(function(t,e){return V(e,!0)}),!0)),t}function H(){F(2)}function K(t){return null==t||"object"!=(0,c.c)(t)||b(t)}function q(t){var e=At[t];return e||F(18,t),e}function Y(){return vt}function X(t,e){e&&(q("Patches"),t.u=[],t.s=[],t.v=e)}function $(t){var e;tt(t),h(e=t.p).call(e,nt),t.p=null}function tt(t){t===vt&&(vt=t.l)}function et(t){return vt={p:[],l:vt,h:t,m:!0,_:0}}function nt(t){var e=t[wt];0===e.i||1===e.i?e.j():e.g=!0}function rt(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.O||q("ES5").S(e,t,r),r?(n[wt].P&&($(e),F(4)),P(t)&&(t=it(e,t),e.l||at(e,t)),e.u&&q("Patches").M(n[wt].t,t,e.u,e.s)):t=it(e,n,[]),$(e),e.u&&e.v(e.u,e.s),t!==bt?t:void 0}function it(t,e,n){if(K(e))return e;var r=e[wt];if(!r)return N(e,(function(i,o){return ot(t,r,e,i,o,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return at(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=J(r.k):r.o,o=i,a=!1;3===r.i&&(o=new g(i),i.clear(),a=!0),N(o,(function(e,o){return ot(t,r,i,e,o,n,a)})),at(t,i,!1),n&&t.u&&q("Patches").N(r,n,t.u,t.s)}return r.o}function ot(t,e,n,r,i,o,a){if(_(i)){var u=it(t,i,o&&e&&3!==e.i&&!j(e.R,r)?x(o).call(o,r):void 0);if(U(n,r,u),!_(u))return;t.m=!1}else a&&n.add(i);if(P(i)&&!K(i)){if(!t.h.D&&t._<1)return;it(t,i),e&&e.A.l||at(t,i)}}function at(t,e,n){void 0===n&&(n=!1),!t.l&&t.h.D&&t.m&&V(e,n)}function ut(t,e){var n=t[wt];return(n?W(n):t)[e]}function lt(t,e){if(e in t)for(var n=f(t);n;){var r=w(n,e);if(r)return r;n=f(n)}}function ct(t){t.P||(t.P=!0,t.l&&ct(t.l))}function st(t){t.o||(t.o=J(t.t))}function ft(t,e,n){var r=Z(e)?q("MapSet").F(e,n):Q(e)?q("MapSet").T(e,n):t.O?function(t,e){var n=d(t),r={i:n?1:0,A:e?e.A:Y(),P:!1,I:!1,R:{},l:e,t:t,k:null,o:null,j:null,C:!1},i=r,o=Dt;n&&(i=[r],o=It);var a=Proxy.revocable(i,o),u=a.revoke,l=a.proxy;return r.k=l,r.j=u,l}(e,n):q("ES5").J(e,n);return(n?n.A:Y()).p.push(r),r}function dt(t){return _(t)||F(22,t),function t(e){if(!P(e))return e;var n,r=e[wt],i=O(e);if(r){if(!r.P&&(r.i<4||!q("ES5").K(r)))return r.t;r.I=!0,n=ht(e,i),r.I=!1}else n=ht(e,i);return N(n,(function(e,i){r&&G(r.t,e)===i||U(n,e,t(i))})),3===i?new g(n):n}(t)}function ht(t,e){switch(e){case 2:return new v(t);case 3:return E(t)}return J(t)}var pt,vt,gt=void 0!==S&&"symbol"==(0,c.c)(S("x")),mt=void 0!==v,yt=void 0!==g,Ct="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,bt=gt?k("immer-nothing"):((pt={})["immer-nothing"]=!0,pt),xt=gt?k("immer-draftable"):"__$immer_draftable",wt=gt?k("immer-state"):"__$immer_state",Et=""+Object.prototype.constructor,St="undefined"!=typeof Reflect&&A?A:void 0!==D?function(t){var e;return x(e=I(t)).call(e,D(t))}:I,kt=T||function(t){var e,n={};return h(e=St(t)).call(e,(function(e){n[e]=w(t,e)})),n},At={},Dt={get:function(t,e){if(e===wt)return t;var n=W(t);if(!j(n,e))return function(t,e,n){var r,i=lt(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!P(r)?r:r===ut(t.t,e)?(st(t),t.o[e]=ft(t.A.h,r,t)):r},has:function(t,e){return e in W(t)},ownKeys:function(t){return A(W(t))},set:function(t,e,n){var r=lt(W(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=ut(W(t),e),o=null==i?void 0:i[wt];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(z(n,i)&&(void 0!==n||j(t.t,e)))return!0;st(t),ct(t)}return t.o[e]===n&&(void 0!==n||e in t.o)||B(n)&&B(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return void 0!==ut(t.t,e)||e in t.t?(t.R[e]=!1,st(t),ct(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=W(t),r=M(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){F(11)},getPrototypeOf:function(t){return f(t.t)},setPrototypeOf:function(){F(12)}},It={};N(Dt,(function(t,e){It[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),It.deleteProperty=function(t,e){return It.set.call(this,t,e,void 0)},It.set=function(t,e,n){return Dt.set.call(this,t[0],e,n,t[0])};var Tt=function(){function t(t){var e=this;this.O=Ct,this.D=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var o=e;return function(t){var e=this;void 0===t&&(t=i);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return o.produce(t,(function(t){var r,i;return(i=n).call.apply(i,x(r=[e,t]).call(r,a))}))}}var a;if("function"!=typeof n&&F(6),void 0!==r&&"function"!=typeof r&&F(7),P(t)){var u=et(e),l=ft(e,t,void 0),s=!0;try{a=n(l),s=!1}finally{s?$(u):tt(u)}return void 0!==R&&a instanceof R?a.then((function(t){return X(u,r),rt(t,u)}),(function(t){throw $(u),t})):(X(u,r),rt(a,u))}if(!t||"object"!=(0,c.c)(t)){if(void 0===(a=n(t))&&(a=t),a===bt&&(a=void 0),e.D&&V(a,!0),r){var f=[],d=[];q("Patches").M(t,a,f,d),r(f,d)}return a}F(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.produceWithPatches(n,(function(e){var n;return t.apply(void 0,x(n=[e]).call(n,i))}))};var r,i,o=e.produce(t,n,(function(t,e){r=t,i=e}));return void 0!==R&&o instanceof R?o.then((function(t){return[t,r,i]})):[o,r,i]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){P(t)||F(8),_(t)&&(t=dt(t));var e=et(this),n=ft(this,t,void 0);return n[wt].C=!0,tt(e),n},e.finishDraft=function(t,e){var n=(t&&t[wt]).A;return X(n,e),rt(void 0,n)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!Ct&&F(20),this.O=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=m(e).call(e,n+1));var i=q("Patches").$;return _(t)?i(t,e):this.produce(t,(function(t){return i(t,e)}))},t}(),Bt=new Tt,Mt=Bt.produce,Rt=(L(r=Bt.produceWithPatches).call(r,Bt),L(i=Bt.setAutoFreeze).call(i,Bt),L(o=Bt.setUseProxies).call(o,Bt),L(a=Bt.applyPatches).call(a,Bt),L(u=Bt.createDraft).call(u,Bt)),Lt=L(l=Bt.finishDraft).call(l,Bt)}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,loaded:!1,exports:{}};return i[t].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,a.c=o,a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,n){return a.f[n](t,e),e}),[]))},a.u=function(t){return"js/"+({74:"common-vendor",120:"react-vendor",160:"react-color-vendor",636:"kdesign-vender",907:"react-dom-vendor"}[t]||t)+"."+{74:"6e07f22f",120:"fd9be75f",160:"44f72e3e",400:"fcd07757",636:"d8a4ca31",820:"c465f772",907:"4ebdfa71"}[t]+".js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="print-designer:",a.l=function(n,r,i,o){if(t[n])t[n].push(r);else{var u,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var f=c[s];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==e+i){u=f;break}}u||(l=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.setAttribute("data-webpack",e+i),u.src=n),t[n]=[r];var d=function(e,r){u.onerror=u.onload=null,clearTimeout(h);var i=t[n];if(delete t[n],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(t){return t(r)})),e)return e(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),l&&document.head.appendChild(u)}},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},n={},r={},a.f.remotes=function(t,e){a.o(n,t)&&n[t].forEach((function(t){var n=a.R;n||(n=[]);var i=r[t];if(!(n.indexOf(i)>=0)){if(n.push(i),i.p)return e.push(i.p);var o=function(e){e||(e=new Error("Container missing")),"string"==typeof e.message&&(e.message+='\nwhile loading "'+i[1]+'" from '+i[2]),a.m[t]=function(){throw e},i.p=0},u=function(t,n,r,a,u,l){try{var c=t(n,r);if(!c||!c.then)return u(c,a,l);var s=c.then((function(t){return u(t,a)}),o);if(!l)return s;e.push(i.p=s)}catch(t){o(t)}},l=function(t,e,r){return u(e.get,i[1],n,0,c,r)},c=function(e){i.p=1,a.m[t]=function(t){t.exports=e()}};u(a,i[2],0,0,(function(t,e,n){return t?u(a.I,i[0],0,t,l,n):o()}),1)}}))},function(){a.S={};var t={},e={};a.I=function(n,r){r||(r=[]);var i=e[n];if(i||(i=e[n]={}),!(r.indexOf(i)>=0)){if(r.push(i),t[n])return t[n];a.o(a.S,n)||(a.S[n]={});var o=a.S[n],u="print-designer",l=function(t,e,n,r){var i=o[t]=o[t]||{},a=i[e];(!a||!a.loaded&&(!r!=!a.eager?r:u>a.from))&&(i[e]={get:n,from:u,eager:!!r})},c=[];if("default"===n)l("@kdcloudjs/kdesign","1.7.68-stable.9",(function(){return Promise.all([a.e(636),a.e(160),a.e(74),a.e(820)]).then((function(){return function(){return a(75624)}}))})),l("react-dom","16.14.0",(function(){return Promise.all([a.e(907),a.e(74),a.e(400)]).then((function(){return function(){return a(12356)}}))})),l("react","16.14.0",(function(){return Promise.all([a.e(120),a.e(74)]).then((function(){return function(){return a(85668)}}))})),function(t){var e=function(t){"undefined"!=typeof console&&console.warn};try{var i=a(t);if(!i)return;var o=function(t){return t&&t.init&&t.init(a.S[n],r)};if(i.then)return c.push(i.then(o,e));var u=o(i);if(u&&u.then)return c.push(u.catch(e))}catch(t){e()}}(51452);return c.length?t[n]=Promise.all(c).then((function(){return t[n]=1})):t[n]=1}}}(),function(){var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!t;)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t+"../"}();var u={994:0,820:0,400:0,776:0};return a.f.compat=function(t,e){u[t]?e.push(u[t]):0!==u[t]&&{74:1}[t]&&e.push(u[t]=new Promise((function(e,n){for(var r="css/"+({74:"common-vendor",120:"react-vendor",160:"react-color-vendor",636:"kdesign-vender",907:"react-dom-vendor"}[t]||t)+"."+{74:"2e25f83a",120:"31d6cfe0",160:"31d6cfe0",400:"31d6cfe0",636:"31d6cfe0",820:"31d6cfe0",907:"31d6cfe0"}[t]+".css",i=a.p+r,o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var c=(f=o[l]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(c===r||c===i))return e()}var s=document.getElementsByTagName("style");for(l=0;l<s.length;l++){var f;if((c=(f=s[l]).getAttribute("data-href"))===r||c===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete u[t],d.parentNode.removeChild(d),n(o)},d.href=i,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){u[t]=0})))},function(){var t=function(t){var e=function(t){return t.split(".").map((function(t){return+t==t?+t:t}))},n=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(t),r=n[1]?e(n[1]):[];return n[2]&&(r.length++,r.push.apply(r,e(n[2]))),n[3]&&(r.push([]),r.push.apply(r,e(n[3]))),r},e=function(e,n){e=t(e),n=t(n);for(var r=0;;){if(r>=e.length)return r<n.length&&"u"!=(typeof n[r])[0];var i=e[r],o=(typeof i)[0];if(r>=n.length)return"u"==o;var a=n[r],u=(typeof a)[0];if(o!=u)return"o"==o&&"n"==u||"s"==u||"u"==o;if("o"!=o&&"u"!=o&&i!=a)return i<a;r++}},n=function(t,n){var r=t[n];return Object.keys(r).reduce((function(t,n){return!t||!r[t].loaded&&e(t,n)?n:t}),0)},r=function(t,e,r,o){var a=n(t,r);return i(t[r][a])},i=function(t){return t.loaded=1,t.get()},o=function(t){return function(e,n,r,i){var o=a.I(e);return o&&o.then?o.then(t.bind(t,e,a.S[e],n,r,i)):t(e,a.S[e],n,r,i)}},u=o((function(t,e,n,i){return e&&a.o(e,n)?r(e,0,n):i()})),l={},c={71536:function(){return u("default","react-dom",(function(){return Promise.all([a.e(907),a.e(74)]).then((function(){return function(){return a(12356)}}))}))},43400:function(){return u("default","react",(function(){return Promise.all([a.e(120),a.e(74)]).then((function(){return function(){return a(85668)}}))}))},54116:function(){return u("default","@kdcloudjs/kdesign",(function(){return Promise.all([a.e(636),a.e(160),a.e(74)]).then((function(){return function(){return a(75624)}}))}))}};[54116,43400,71536].forEach((function(t){a.m[t]=function(e){l[t]=0,delete a.c[t];var n=c[t]();if("function"!=typeof n)throw new Error("Shared module is not available for eager consumption: "+t);e.exports=n()}}));var s={400:[43400],820:[71536,43400]},f={};a.f.consumes=function(t,e){a.o(s,t)&&s[t].forEach((function(t){if(a.o(l,t))return e.push(l[t]);if(!f[t]){var n=function(e){l[t]=0,a.m[t]=function(n){delete a.c[t],n.exports=e()}};f[t]=!0;var r=function(e){delete l[t],a.m[t]=function(n){throw delete a.c[t],e}};try{var i=c[t]();i.then?e.push(l[t]=i.then(n).catch(r)):n(i)}catch(t){r(t)}}}))}}(),function(){var t={994:0,820:0,400:0,776:0};a.f.j=function(e,n){var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else if(/^(40|82)0$/.test(e))t[e]=0;else{var i=new Promise((function(n,i){r=t[e]=[n,i]}));n.push(r[2]=i);var o=a.p+a.u(e),u=new Error;a.l(o,(function(n){if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,r[1](u)}}),"chunk-"+e,e)}};var e=function(e,n){var r,i,o=n[0],u=n[1],l=n[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(r in u)a.o(u,r)&&(a.m[r]=u[r]);if(l)l(a)}for(e&&e(n);c<o.length;c++)i=o[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=self.webpackChunkprint_designer=self.webpackChunkprint_designer||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),a.nc=void 0,a(85776)}()}));