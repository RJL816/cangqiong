"use strict";(self.webpackChunkcode_editor=self.webpackChunkcode_editor||[]).push([[1104],{36408:function(e,t,n){n.r(t),n.d(t,{autoRowSpan:function(){return r.w},buildTree:function(){return o.Y},colGroupExtendable:function(){return Me.i},columnDrag:function(){return Ee.w},columnHover:function(){return a.U},columnRangeHover:function(){return i.M},columnResize:function(){return Oe.O8},contextMenu:function(){return De.I},filter:function(){return Ae.I},footerDataSource:function(){return Ke.M},footerRowMetaSymbol:function(){return Ke.j},mergeCellHover:function(){return Ie.S},multiSelect:function(){return l.G},rangeSelection:function(){return Pe.cf},rowDetail:function(){return c.i},rowDrag:function(){return Te.gV},rowGrouping:function(){return W},singleSelect:function(){return j.S},sort:function(){return ce},tips:function(){return de},treeMetaSymbol:function(){return pe.MF},treeMode:function(){return pe.k1},treeSelect:function(){return ke}});var r=n(45847),o=n(14732),a=n(61980),i=n(23304),l=n(64568),c=n(89028),u=n(81043),s=n(75240),f=n(30112),d=n(2664),p=n(97440),v=n.n(p),h=n(53604),g=n.n(h),m=n(59312),y=n.n(m),w=n(59364),b=n.n(w),x=n(12640),C=n.n(x),S=n(96480),R=n.n(S),k=n(71252),E=n.n(k),O=n(53656),D=n.n(O),A=n(33059),P=n(91344),I=n(21320),K=n(52963),M=n(54068),T=n(32280),L=n(76600),F=v()("row-grouping-meta");function H(e){return(0,d.c)((0,f.c)({},F,{expandable:!(0,I.c)(e)}),e)}function G(e){return null==e[F]?{isGroupHeader:!1,expandable:!1}:{isGroupHeader:!0,expandable:e[F].expandable}}function B(e){if(G(e).isGroupHeader)return{className:"alternative"}}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,r,o,a,i="rowGrouping",l=t.ctx.indents,c=l.iconIndent+l.iconWidth+l.iconGap,f=t.ensurePrimaryKey("rowGrouping");if("string"!=typeof f)throw new Error("rowGrouping 仅支持字符串作为 primaryKey");var p=null!==(a=null!==(o=null!==(r=e.openKeys)&&void 0!==r?r:t.getStateAtKey(i))&&void 0!==o?o:e.defaultOpenAll?g()(n=t.getDataSource()).call(n,(function(e){return e[f]})):e.defaultOpenKeys)&&void 0!==a?a:[],v=new(y())(p),h=function(n,r,o){var a;null===(a=e.onChangeOpenKeys)||void 0===a||a.call(e,n,r,o),t.setStateAtKey(i,n,{key:r,action:o})};return t.mapDataSource((function(e){return(0,T.sX)(e,(function(e){var t=[H(e)];return v.has(e[f])&&Array.isArray(e.children)&&(t=b()(t).call(t,e.children)),t}))})).mapColumns((function(t){var n;if(0===t.length)return t;var r=(0,K.c)(t,"leaf-only").length,o=(0,s.c)(t),a=o[0],i=C()(o).call(o,1);return b()(n=[(0,d.c)((0,d.c)({},a),{title:D().createElement("div",{style:{display:"inline-block",marginLeft:c}},P.u.safeRenderHeader(a)),render:function(e,t,n){var r,o,i=P.u.safeRender(a,t,n),u=G(t);if(!u.isGroupHeader||!u.expandable){var s=c+(u.isGroupHeader?0:l.indentSize);return D().createElement(A.iO,{style:{marginLeft:s}},u.isGroupHeader&&null!==(r=t.groupTitle)&&void 0!==r?r:i)}var d=v.has(t[f])?L.or.expanded:L.or.collapsed;return D().createElement(A.Aj,{className:E()("expansion-cell",d)},D().createElement(A.Pt.CaretRight,{className:E()("expansion-icon",d),style:{marginLeft:l.iconIndent,marginRight:l.iconGap}}),null!==(o=t.groupTitle)&&void 0!==o?o:i)},getCellProps:function(t,n,r){var o,i=G(n);if(i.isGroupHeader){var l,c=i.expandable,s=n[f],d=v.has(s);c&&(l=function(t){var n;e.stopClickEventPropagation&&t.stopPropagation(),d?h(R()(p).call(p,(function(e){return e!==s})),s,"collapse"):h(b()(n=[]).call(n,(0,u.c)(p),[s]),s,"expand")});var g=null===(o=a.getCellProps)||void 0===o?void 0:o.call(a,t,n,r);return(0,M.c)(g,{onClick:l,style:{cursor:c?"pointer":void 0}})}},getSpanRect:function(e,t,n){if(G(t).isGroupHeader)return{top:n,bottom:n+1,left:0,right:r}}})]).call(n,(0,u.c)(i))})).appendRowPropsGetter(B)}}var _,j=n(66464),N=n(89843),V=n.n(N),z=n(64248),q=n.n(z),U=n(59e3),Y=n(88836),Z=n.n(Y),X=n(29636),$=n.n(X),Q=n(99304),J=n(6908),ee=n.n(J);function te(e,t){if(null==e)return 1;if(null==t)return-1;if("number"==typeof e&&"number"==typeof t)return e-t;if("string"==typeof e&&"string"==typeof t)return e<t?-1:e>t?1:0;if(Array.isArray(e)&&Array.isArray(t)){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=te(e[r],t[r]);if(0!==o)return o}return e.length-t.length}return 0}function ne(e,t){var n=void 0!==v()&&q()(e)||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){var n;if("string"==typeof e)return re(e,t);var r=C()(n={}.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?V()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oe(e){var t=e.size,n=void 0===t?32:t,r=e.style,o=e.className,a=e.order;return D().createElement("svg",{style:r,className:o,focusable:"false",preserveAspectRatio:"xMidYMid meet",width:n,height:n,viewBox:"0 0 32 32","aria-hidden":"true",fill:"currentColor"},D().createElement("path",{fill:"asc"===a?"currentColor":"#bfbfbf",transform:"translate(0, 4)",d:"M8 8L16 0 24 8z"}),D().createElement("path",{fill:"desc"===a?"currentColor":"#bfbfbf",transform:"translate(0, -4)",d:"M24 24L16 32 8 24z "}))}function ae(e){var t=e.children,n=e.column,r=e.onToggle,o=e.sortOrder,a=e.sortIndex,i=e.sortOptions,l="right"===n.align?"flex-end":"center"===n.align?"center":"flex-start";return D().createElement(ie,{onClick:r,style:{justifyContent:l}},t,D().createElement(oe,{style:{userSelect:"none",marginLeft:2,flexShrink:0},className:E()((0,f.c)((0,f.c)({},L.or.tableSortIcon,!0),"active","desc"===o||"asc"===o)),size:16,order:o}),"multiple"===i.mode&&-1!==a&&D().createElement("div",{style:{userSelect:"none",marginLeft:2,color:"#666",flex:"0 0 auto",fontSize:10,fontFamily:"monospace"}},a+1))}var ie=Q.cp.div(_||(_=(0,U.c)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  // flex: auto;\n"]))),le="sort";function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,r,o,a=e.orders,i=void 0===a?["desc","asc","none"]:a,l=e.mode,c=void 0===l?"multiple":l,u=e.SortHeaderCell,s=void 0===u?ae:u,f=e.keepDataSource,p=e.highlightColumnWhenActive,v=e.stopClickEventPropagation,h=e.sortIconHoverShow,m=null!==(o=null!==(r=null!==(n=e.sorts)&&void 0!==n?n:t.getStateAtKey(le))&&void 0!==r?r:e.defaultSorts)&&void 0!==o?o:[],y=R()(m).call(m,(function(e){return"none"!==e.order})),w="multiple"===c?y:C()(y).call(y,0,1),x=function(n,r){var o;null===(o=e.onChangeSorts)||void 0===o||o.call(e,n,r),t.setStateAtKey(le,n)},S="multiple"===c?x:function(e,t){var n=e.length;x(C()(e).call(e,n-1),t)},k={sorts:w,onChangeSorts:S,orders:i,mode:c,keepDataSource:f,highlightColumnWhenActive:p,stopClickEventPropagation:v,sortIconHoverShow:h},E=new(Z())(g()(w).call(w,(function(e,t){return[e.code,(0,d.c)({index:t},e)]}))),O=t.getDataSource(),A=t.getColumns();return t.dataSource(function(e){var t,n;if(f)return e;if(0===E.size)return e;var r=new(Z())(g()(t=R()(n=(0,K.c)(A,"leaf-only")).call(n,(function(e){var t,n;return!1!==(null===(t=e.features)||void 0===t?void 0:t.sortable)&&null!=(null===(n=e.features)||void 0===n?void 0:n.sortable)}))).call(t,(function(e){return[e.code,e]})));return o=e,a=function(e,t){var n,o=ne(w);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.code,l=a.order,c=r.get(i);if(null!=c){var u=c.features.sortable,s=("function"==typeof u?u:te)(P.u.safeGetValue(c,e,-1),P.u.safeGetValue(c,t,-1),e,t);if(0!==s)return s*("asc"===l?1:-1)}}}catch(e){o.e(e)}finally{o.f()}return 0},function e(t){var n;return Array.isArray(o)?ee()(n=g()(t).call(t,(function(t){return(0,I.c)(t)?t:(0,d.c)((0,d.c)({},t),{children:e(t.children)})}))).call(n,a):o}(o);var o,a}(O)),t.columns(function(e){return g()(e).call(e,(function e(t){var n,r,o=(0,d.c)({},t),a=t.code&&((null===(n=t.features)||void 0===n?void 0:n.sortable)||E.has(t.code)),i=a&&E.has(t.code);if(a){var l=-1,c="none";if(i){var u=E.get(t.code);c=u.order,l=u.index,p&&(o.headerCellProps=(0,M.c)(t.headerCellProps,{style:{background:"var(--header-highlight-bgcolor)"}}),o.getCellProps=function(e,n,r){var o=P.u.safeGetCellProps(t,n,r);return(0,M.c)(o,{style:{background:"var(--highlight-bgcolor)"}})})}var f=D().createElement(s,{onToggle:function(e){v&&e.stopPropagation(),T(t.code)},sortOrder:c,column:t,sortIndex:l,sortOptions:k},P.u.safeRenderHeader((0,d.c)((0,d.c)({},t),{title:t.title&&t.title[0]?t.title[0]:t.title}))),h=D().createElement(s,{onToggle:function(e){v&&e.stopPropagation(),T(t.code)},sortOrder:c,column:t,sortIndex:l,sortOptions:k});t.renderHeader?o.title=t.renderHeader(o.title,h):o.title&&o.title[0]?o.title[0]=f:o.title=f}(0,I.c)(t)||(o.children=g()(r=t.children).call(r,e));return o}))}(A)),t;function T(e){var t,n,r,o=E.get(e);if(null==o)t={code:e,order:i[0]},S(b()(w).call(w,[t]),t);else{var a=$()(w).call(w,(function(t){return t.code===e})),l=C()(w).call(w,0,a+1),c=(n=o.order,r=i.indexOf(n),i[r===i.length-1?0:r+1]);t={code:e,order:c},"none"===c?l.pop():l[a]=(0,d.c)((0,d.c)({},l[a]),{order:c}),S(l,t)}}}}var ue,se=n(30240),fe=Q.cp.div(ue||(ue=(0,U.c)(["\n  display: flex;\n  align-items: center;\n\n  .tip-icon-wrapper {\n    margin-left: 2px;\n  }\n\n  .tip-icon {\n    display: flex;\n    fill: currentColor;\n  }\n"])));function de(){return function(e){var t=e.ctx.components.Balloon,n=e.ctx.components.Tooltip;if(null==t&&null==n)throw new Error("使用 tips 之前需要通过 pipeline context 设置 components.Balloon / components.Tooltip");return e.mapColumns((0,se.c)((function(e){var r;if(!(null===(r=e.features)||void 0===r?void 0:r.tips))return e;var o="right"===e.align?"flex-end":"center"===e.align?"center":"flex-start";return(0,d.c)((0,d.c)({},e),{title:D().createElement(fe,{style:{justifyContent:o}},P.u.safeRenderHeader(e),t?D().createElement(t,{closable:!1,trigger:D().createElement("div",{className:"tip-icon-wrapper"},D().createElement(A.Pt.Info,{className:"tip-icon"}))},e.features.tips):D().createElement(n,{title:e.features.tips},D().createElement("div",{className:"tip-icon-wrapper"},D().createElement(A.Pt.Info,{className:"tip-icon"}))))})})))}}var pe=n(29952),ve=n(27688),he=n(3460);function ge(e,t){var n=void 0!==v()&&q()(e)||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){var n;if("string"==typeof e)return me(e,t);var r=C()(n={}.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?V()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ye=(0,ve.c)((function e(t){(0,he.c)(this,e),(0,d.c)(this,t)})),we=function(){return(0,ve.c)((function e(t){(0,he.c)(this,e),this.opts=t,this.valueSet=new(y())(t.value),this.initWrapperTree()}),[{key:"initWrapperTree",value:function(){var e=this,t=this.opts.getNodeValue;this.rootWrapper=new ye({root:!0,children:[]}),this.wrapperMap=new(Z());var n=function(r,o){var a,i=ge(o);try{for(i.s();!(a=i.n()).done;){var l=a.value,c=new ye({parent:r,node:l,checked:e.valueSet.has(t(l))});e.wrapperMap.set(t(l),c),r.children.push(c),(0,I.c)(l)||(c.children=[],n(c,l.children))}}catch(e){i.e(e)}finally{i.f()}};n(this.rootWrapper,this.opts.tree)}},{key:"value",get:function(){return this.opts.value}},{key:"isIndeterminate",value:function(e){return!1}},{key:"isChecked",value:function(e){return this.valueSet.has(e)}},{key:"getValueAfterCheck",value:function(e){return this.isChecked(e)?this.value:T.Gq.merge(this.value,[e])}},{key:"getValueAfterUncheck",value:function(e){return this.isChecked(e)?T.Gq.diff(this.value,[e]):this.value}},{key:"getValueAfterToggle",value:function(e){return this.isChecked(e)?this.getValueAfterUncheck(e):this.getValueAfterCheck(e)}},{key:"getNode",value:function(e){var t;return null===(t=this.wrapperMap.get(e))||void 0===t?void 0:t.node}},{key:"getCleanValue",value:function(){return this.value}}])}();function be(e,t){var n=void 0!==v()&&q()(e)||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){var n;if("string"==typeof e)return xe(e,t);var r=C()(n={}.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?V()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ce=(0,ve.c)((function e(t){(0,he.c)(this,e),(0,d.c)(this,t)})),Se=function(){function e(t){var n=this;(0,he.c)(this,e),this.isDetached=function(e){var t,r,o;return null!==(o=null===(r=(t=n.opts).isDetached)||void 0===r?void 0:r.call(t,e))&&void 0!==o&&o},this.opts=t,this.valueSet=new(y())(t.value),this.initWrapperTree()}return(0,ve.c)(e,[{key:"value",get:function(){return this.opts.value}},{key:"initWrapperTree",value:function(){var e=new(y())(this.value);this.rootWrapper=new Ce({root:!0,children:[]}),this.wrapperMap=new(Z());var t=this.opts.getNodeValue,n=this.isDetached,r=this.wrapperMap;!function o(a,i,l){a.allChildrenChecked=!0,!1;var c,u=be(i);try{for(u.s();!(c=u.n()).done;){var s=c.value,f=n(s),d=e.has(t(s));d&&!f&&(a.anyDescendentsChecked=!0);var p=!f&&l,v=d||p,h=new Ce({parent:a,node:s,checked:v,exactChecked:d,parentChecked:p,anyDescendentsChecked:v,detached:f});if(r.set(t(s),h),a.children.push(h),!(0,I.c)(s)&&(h.children=[],o(h,s.children,v),h.anyDescendentsChecked&&!f&&(a.anyDescendentsChecked=!0),h.allChildrenChecked)){h.checked=!0;var g,m=be(h.children);try{for(m.s();!(g=m.n()).done;){var y=g.value;y.detached||(y.parentChecked=!0)}}catch(e){m.e(e)}finally{m.f()}}h.checked||f||(a.allChildrenChecked=!1)}}catch(e){u.e(e)}finally{u.f()}}(this.rootWrapper,this.opts.tree,!1)}},{key:"isIndeterminate",value:function(e){var t=this.wrapperMap.get(e);return!t.checked&&t.anyDescendentsChecked}},{key:"isChecked",value:function(e){return this.wrapperMap.get(e).checked}},{key:"getValueAfterCheck",value:function(t){if(this.isChecked(t))return this.getCleanValue();var n=T.Gq.merge(this.value,[t]);return new e((0,d.c)((0,d.c)({},this.opts),{value:n})).getCleanValue()}},{key:"getValueAfterUncheck",value:function(t){var n;if(!this.isChecked(t))return this.getCleanValue();var r=this.wrapperMap.get(t),o=this.opts.getNodeValue,a=function(e){var t=[],n=e;for(;n.parentChecked&&!n.detached;){var r,a=be(n.parent.children);try{for(a.s();!(r=a.n()).done;){var i=r.value;i===n||i.exactChecked||i.detached||t.push(o(i.node))}}catch(e){a.e(e)}finally{a.f()}n=n.parent}return t}(r),i=function(e){var t=new(y()),n=e;for(;t.add(o(n.node)),!n.detached&&n.parentChecked;)n=n.parent;return function e(n){if(null==n)return;var r,a=be(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;!i.detached&&i.checked&&(t.add(o(i.node)),!(0,I.c)(i)&&i.anyDescendentsChecked&&e(i.children))}}catch(e){a.e(e)}finally{a.f()}}(e.children),t}(r),l=T.Gq.diff(b()(n=this.value).call(n,a),i);return new e((0,d.c)((0,d.c)({},this.opts),{value:l})).getCleanValue()}},{key:"getValueAfterToggle",value:function(e){return this.isChecked(e)?this.getValueAfterUncheck(e):this.getValueAfterCheck(e)}},{key:"getNode",value:function(e){var t;return null===(t=this.wrapperMap.get(e))||void 0===t?void 0:t.node}},{key:"getCleanValue",value:function(){var e,t=this,n=this.opts,r=n.checkedStrategy,o=n.getNodeValue,a=R()(e=this.value).call(e,(function(e){return!t.wrapperMap.has(e)}));return function e(t){var n,i=be(t);try{for(i.s();!(n=i.n()).done;){var l=n.value;l.checked&&("all"===r?a.push(o(l.node)):"parent"===r?l.parentChecked||a.push(o(l.node)):(0,I.c)(l)&&a.push(o(l.node))),(0,I.c)(l)||e(l.children)}}catch(e){i.e(e)}finally{i.f()}}(this.rootWrapper.children),a}}])}(),Re="treeSelect";function ke(e){return function(t){var n,r,o,a,i,l,c,u,s,p=t.ctx.components.Checkbox;if(null==p)throw new Error("使用 treeSelect 之前需要通过 pipeline context 设置 components.Checkbox");var v=t.ensurePrimaryKey("treeSelect");if("string"!=typeof v)throw new Error("treeSelect 仅支持字符串作为 primaryKey");var h=null!==(r=e.clickArea)&&void 0!==r?r:"checkbox",g=null!==(o=e.isDisabled)&&void 0!==o?o:(0,T.eK)(!1),m=null!==(a=e.idDetached)&&void 0!==a?a:(0,T.eK)(!1),y=null!==(c=null!==(l=null!==(i=e.value)&&void 0!==i?i:t.getStateAtKey(Re))&&void 0!==l?l:e.defaultValue)&&void 0!==c?c:[],w=null!=e.rootKey?[(0,f.c)((0,f.c)({},v,e.rootKey),"children",e.tree)]:e.tree,b=function(e){return e[v]},x=e.checkStrictly?new we({value:y,getNodeValue:b,tree:w}):new Se({value:y,getNodeValue:b,isDetached:m,tree:w,checkedStrategy:null!==(u=e.checkedStrategy)&&void 0!==u?u:"parent"}),S=function(n){var r,o=x.getValueAfterToggle(n);t.setStateAtKey(Re,o),null===(r=e.onChange)||void 0===r||r.call(e,o)},R=function(e,t,n){return D().createElement(p,{checked:x.isChecked(e),indeterminate:x.isIndeterminate(e),disabled:!t&&g(n),onChange:"checkbox"===h||t?function(){return S(e)}:void 0})},k=(0,d.c)((0,d.c)({name:"",width:50,align:"center",title:null!=e.rootKey?R(e.rootKey,!0):void 0},e.checkboxColumn),{render:function(e,t){return R(t[v],!1,t)},getCellProps:function(t,n){var r=n[v];if("cell"===h)return g(n)?{style:{cursor:"not-allowed"}}:{style:{cursor:"pointer"},onClick:function(t){e.stopClickEventPropagation&&t.stopPropagation(),S(r)}}}}),E=C()(n=t.getColumns()).call(n);return"start"===(null!==(s=e.checkboxPlacement)&&void 0!==s?s:"start")?E.unshift(k):E.push(k),t.columns(E),"row"===h&&t.appendRowPropsGetter((function(t){if(!g(t))return{style:{cursor:"pointer"},onClick:function(n){e.stopClickEventPropagation&&n.stopPropagation(),S(t[v])}}})),e.highlightRowWhenSelected&&t.appendRowPropsGetter((function(e){if(x.isChecked(e[v]))return{className:"highlight"}})),t}}var Ee=n(25260),Oe=n(76884),De=n(14948),Ae=n(94584),Pe=n(88348),Ie=n(1844),Ke=n(55420),Me=n(9752),Te=n(95216)},1844:function(e,t,n){n.d(t,{S:function(){return l}});var r=n(2664),o=n(30240),a=n(21320),i=n(54068);function l(){return function(e){return e.mapColumns((0,o.c)((function(t){if(!(0,a.c)(t))return t;var n=t.getCellProps;return(0,r.c)((0,r.c)({},t),{getCellProps:function(t,r,o){var a=null==n?void 0:n(t,r,o);return(0,i.c)(a,{onMouseEnter:function(t){e.ref.current.domHelper.getInRangeRowByCellEvent(t).forEach((function(e){e.classList.add("row-hover")}))},onMouseLeave:function(t){e.ref.current.domHelper.getInRangeRowByCellEvent(t).forEach((function(e){e.classList.remove("row-hover")}))}})}})})))}}},64568:function(e,t,n){n.d(t,{G:function(){return b}});var r=n(72048),o=n(30112),a=n(2664),i=n(59312),l=n.n(i),c=n(12640),u=n.n(c),s=n(53656),f=n.n(s),d=n(91344),p=n(32280),v=n(52963),h=n(54068),g=n(65512),m="fullRowsSetKey",y="allEnableKeys",w="selectValueSetKey";function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,i,c,s,b,x,C,S,R,k,E,O,D="multiSelect",A=t.ctx.components.Checkbox;if(null==A)throw new Error("使用 multiSelect 之前需要设置 pipeline.ctx.components.Checkbox");var P=t.ensurePrimaryKey("multiSelect"),I=null!==(n=e.isDisabled)&&void 0!==n?n:(0,p.eK)(!1),K=null!==(i=e.clickArea)&&void 0!==i?i:"checkbox",M=null!==(x=null!==(b=null!==(c=e.value)&&void 0!==c?c:null===(s=t.getStateAtKey(D))||void 0===s?void 0:s.value)&&void 0!==b?b:e.defaultValue)&&void 0!==x?x:[],T=null!==(k=null!==(R=null!==(C=e.lastKey)&&void 0!==C?C:null===(S=t.getStateAtKey(D))||void 0===S?void 0:S.lastKey)&&void 0!==R?R:e.defaultLastKey)&&void 0!==k?k:"",L=function(n,r,o,a){var i;null===(i=e.onChange)||void 0===i||i.call(e,n,r,o,a),t.setStateAtKey(D,{value:n,lastKey:r},{keys:o,action:a})},F=new(l()),H=[],G=new(l())(M),B=0!==G.size,W=!1;if((0,v.c)(t.getDataSource()).forEach((function(e,t){var n=d.u.safeGetRowKey(P,e,t);F.add(n),I(e,t)||(H.push(n),B&&(B=G.has(n)),W||(W=G.has(n)))})),!(e.checkboxColumn&&!0===e.checkboxColumn.hidden)){var _,j=f().createElement(A,{checked:B,indeterminate:!B&&W,onChange:function(e){var n=t.getFeatureOptions(y);B?L(p.Gq.diff(M,n),"",n,"uncheck-all"):L(p.Gq.merge(M,n),"",n,"check-all")}}),N=(0,a.c)((0,a.c)({name:"是否选中",title:j,width:50,align:"center"},e.checkboxColumn),{getCellProps:function(n,r,o){var a,i,c=d.u.safeGetRowKey(P,r,o),u={},s=null===(i=null===(a=e.checkboxColumn)||void 0===a?void 0:a.getCellProps)||void 0===i?void 0:i.call(a,n,r,o),f=t.getFeatureOptions(m)||new(l()),p=t.getFeatureOptions(w)||new(l());if(f.has(c)&&"cell"===K){var v=p.has(c),g=I(r,o);u={style:{cursor:g?"not-allowed":"pointer"},onClick:g?void 0:function(t){e.stopClickEventPropagation&&t.stopPropagation(),z(v,c,t.shiftKey)}}}return(0,h.c)(s,u)},render:function(n,r,o){if(r[t.getFeatureOptions("footerRowMetaKey")])return null;var a=d.u.safeGetRowKey(P,r,o),i=(t.getFeatureOptions(w)||new(l())).has(a);return f().createElement(A,{checked:i,disabled:I(r,o),onChange:"checkbox"===K?function(t,n){var r,o=null!==(r=null==n?void 0:n.nativeEvent)&&void 0!==r?r:t.nativeEvent;o&&(e.stopClickEventPropagation&&o.stopPropagation(),z(i,a,o.shiftKey))}:void 0})},features:(0,a.c)((0,a.c)({},null===(E=e.checkboxColumn)||void 0===E?void 0:E.features),(0,o.c)({},g.iE,!0))}),V=u()(_=t.getColumns()).call(_);"start"===(null!==(O=e.checkboxPlacement)&&void 0!==O?O:"start")?V.unshift(N):V.push(N),t.columns(V)}return t.appendRowPropsGetter((function(n,r){var o=d.u.safeGetRowKey(P,n,r);if((t.getFeatureOptions(m)||new(l())).has(o)){var a,i,c={},u=(t.getFeatureOptions(w)||new(l())).has(o);if(e.highlightRowWhenSelected&&u&&(a="highlight"),"row"===K)I(n,r)||(c.cursor="pointer",i=function(t){e.stopClickEventPropagation&&t.stopPropagation(),z(u,o,t.shiftKey)});return{className:a,style:c,onClick:i}}})),t.setFeatureOptions(m,F),t.setFeatureOptions(y,H),t.setFeatureOptions(w,G),F=null,H=null,G=null,t;function z(e,n,o){var a=[n];if(o&&T){var i=t.getFeatureOptions(y),l=i.indexOf(T),c=i.indexOf(n),s=l<c?[l,c]:[c,l],f=(0,r.c)(s,2),d=f[0],v=f[1];a=u()(i).call(i,d,v+1)}e?L(p.Gq.diff(M,a),n,a,"uncheck"):L(p.Gq.merge(M,a),n,a,"check")}}}},88348:function(e,t,n){n.d(t,{cf:function(){return A},sZ:function(){return k}});var r=n(30112),o=n(2664),a=n(81043),i=n(96480),l=n.n(i),c=n(29636),u=n.n(c),s=n(12640),f=n.n(s),d=n(82600),p=n.n(d),v=n(20728),h=n(52963),g=n(30240),m=n(54068),y=n(32280),w=n(58487),b=n(34196),x=n(37880),C=n(76600),S=n(71252),R=n.n(S),k="rangeSelection",E="lastClickCell",O="startSelectedCellRanges",D=30;function A(e){return function(t){var n=t.ref.current.domHelper&&t.ref.current.domHelper.tableBody,i=t.ref.current.domHelper&&t.ref.current.domHelper.tableFooter,c=t.ref.current.domHelper&&t.ref.current.domHelper.artTable;if(!n)return t;var s=t.getColumns(),d=t.getDataSource(),y=function(n,r){var o;r&&t.setFeatureOptions(O,n),t.setStateAtKey(k,n),null===(o=null==e?void 0:e.rangeSelectedChange)||void 0===o||o.call(e,n,r)},S=function(e,n,r){if(e&&n){var o=function(e,t,n){var r=(0,h.c)(n,"leaf-only"),o=u()(r).call(r,(function(t){return t.code===e.code})),a=u()(r).call(r,(function(e){return e.code===t.code}));return o<a?f()(r).call(r,o,a+1):f()(r).call(r,a,o+1)}(e,n,s),i=function(e,t,n){var r=null,o=-1,a=-1,i=function(e,t){if(n=e,r=t,n.rowIndex===r.rowIndex&&n.code===r.code&&n.isFooterCell===r.isFooterCell)return{startRow:e.rowIndex,endRow:e.rowIndex};var n,r;var o=e.rowIndex<=t.rowIndex,a=o?e.rowIndex:e.rowIndex+e.rowSpan-1,i=o?t.rowIndex+t.rowSpan-1:t.rowIndex;return{startRow:a,endRow:i}}(e,t),l=i.startRow,c=i.endRow;e.isFooterCell||t.isFooterCell?e.isFooterCell&&t.isFooterCell?r={startRow:l,endRow:c}:e.isFooterCell?(o=n.length-1,a=t.rowIndex,r={startRow:e.rowIndex,endRow:0}):(o=e.rowIndex,a=n.length-1,r={startRow:0,endRow:t.rowIndex}):(o=l,a=c);return{startRow:o,endRow:a,footerRowRange:r}}(e,n,d),p=i.startRow,v=i.endRow,g=i.footerRowRange,m={startRow:p,endRow:v,columns:o,startColumn:e.column,footerRowRange:g},w=t.getFeatureOptions(O)?(0,a.c)(t.getFeatureOptions(O)):[];if(K([m])){var b=F(m);w=l()(w).call(w,(function(e){return F(e)!==b}))}w.push(m),K(w)?c.classList.remove(R()(C.or.rangeSelection)):c.classList.add(R()(C.or.rangeSelection)),y(w,r)}};return t.addTableProps({onMouseDown:function(r){if(0===r.button&&((0,v.mM)(n,r.nativeEvent)||(0,v.mM)(i,r.nativeEvent))){var o=r.ctrlKey||r.metaKey,l=r.shiftKey,c=P(r.target,s);if(c)if(function(n,r){if(null==e?void 0:e.suppressMultiRangeSelection)t.setFeatureOptions(O,[]);else if(n||r||t.setFeatureOptions(O,[]),r){var o=t.getFeatureOptions(O)?(0,a.c)(t.getFeatureOptions(O)):[];o.pop(),t.setFeatureOptions(O,o)}}(o,l),l)!function(e){var n=P(e.target,s);if(n){var r=t.getFeatureOptions(E);r?S(r,n,!0):t.setFeatureOptions(E,n)}}(r);else{t.setFeatureOptions(E,c);var u=c,f=(0,w.w)(window,"mousemove"),d=(0,w.w)(window,"mouseup"),p=f.pipe((0,b.k)((function(e){var r=e.target||e.srcElement;u=P(r,s);var o={clientX:e.clientX,clientY:e.clientY};return(null==u?void 0:u.isFooterCell)||function(e){var r=e.clientX,o=e.clientY,a=n.getBoundingClientRect(),i=a.left,l=a.top,c=a.height,u=a.width;r+D>=i+u&&(t.ref.current.domHelper.virtual.scrollLeft+=D),r-D<=i&&(t.ref.current.domHelper.virtual.scrollLeft-=D),o+D>=l+c&&(t.ref.current.domHelper.tableBody.scrollTop+=D),o+D<=l&&(t.ref.current.domHelper.tableBody.scrollTop-=D)}(o),{startDragCell:c,draggingCell:u}})),(0,x.a)(d));p.subscribe({next:function(e){var t=e.startDragCell,n=e.draggingCell;S(t,n,!1)},complete:function(){S(c,u,!0)}})}}},onKeyDown:function(r){if(((0,v.mM)(n,r.nativeEvent)||(0,v.mM)(i,r.nativeEvent))&&(r.ctrlKey||r.metaKey)&&"a"===r.key){var o=t.getDataSource().length,a=t.getFooterDataSource()||[];s.length&&o&&!function(e){var t;if(!e)return;if(p()(t=["input","textarea"]).call(t,e.tagName.toLowerCase())){if("checkbox"===e.type)return;return!e.disabled&&!e.readOnly}}(r.target)&&(!1!==e.preventkDefaultOfKeyDownEvent&&r.preventDefault(),c.classList.add(R()(C.or.rangeSelection)),y([{startRow:0,endRow:o-1,columns:(0,h.c)(s,"leaf-only"),startColumn:s[0],footerRowRange:a.length>0?{startRow:0,endRow:a.length-1}:null}],!0))}},tabIndex:-1}),t.mapColumns((0,g.c)((function(e){var n=t.getStateAtKey(k)||[],a=e.getCellProps;return(0,o.c)((0,o.c)({},e),{getCellProps:function(o,i,l){var c=null==a?void 0:a(o,i,l),u=i[t.getFeatureOptions("footerRowMetaKey")];if(!n.some((function(t){return L(t,l,e,u)})))return c;var s=function(e,t){var n=t.isFooterCell,o=t.rowIndex,a=t.col,i=t.record,l=function(e,t){var n=t.isFooterCell,r=t.rowIndex,o=t.col;t.record;return e.reduce((function(e,t){if(!L(t,r,o,n))return e;var a=t.startRow,i=t.endRow,l=t.columns,c=t.footerRowRange,u=M(a,i),s=u.startRowIndex,f=u.endRowIndex,d=T(c),p=d.startRowIndex,v=d.endRowIndex,h=l[0],g=l[l.length-1],m=n?-1===s&&r===p:r===s,y=o.code===h.code,w=n?r===v:!c&&r===f,b=o.code===g.code;return e.matchCellRangeTop=e.matchCellRangeTop||m,e.matchCellRangeLeft=e.matchCellRangeLeft||y,e.matchCellRangeBottom=e.matchCellRangeBottom||w,e.matchCellRangeRight=e.matchCellRangeRight||b,e}),{matchCellRangeTop:!1,matchCellRangeLeft:!1,matchCellRangeBottom:!1,matchCellRangeRight:!1})}(e,{isFooterCell:n,rowIndex:o,col:a,record:i}),c=l.matchCellRangeTop,u=l.matchCellRangeLeft,s=l.matchCellRangeBottom,f=l.matchCellRangeRight,d=K(e),p=R()((0,r.c)((0,r.c)((0,r.c)((0,r.c)((0,r.c)((0,r.c)({},C.or.tableCellRangeSingleCell,d),C.or.tableCellRangeSelected,!d),C.or.tableCellRangeTop,!d&&c),C.or.tableCellRangeLeft,!d&&u),C.or.tableCellRangeBottom,!d&&s),C.or.tableCellRangeRight,!d&&f));return p}(n,{isFooterCell:u,rowIndex:l,col:e,record:i});return(0,m.c)(c,{className:s})}})})))}}function P(e,t){for(var n,r=function(){if("table-cell"===e.getAttribute("data-role")){var n=e.getAttribute("data-code"),r=(0,y.k9)(t,(function(e,t){return e.code===n}));return r?{v:{rowIndex:parseInt(e.getAttribute("data-rowindex")),rowSpan:parseInt(e.getAttribute("rowspan")||1),code:n,column:r,isFooterCell:I(e)}}:{v:null}}e=e.parentElement};e;)if(n=r())return n.v;return null}function I(e){for(;e&&!e.classList.contains(C.or.artTable);){if(e.classList.contains(C.or.tableFooter))return!0;e=e.parentElement}return!1}function K(e){if(1!==e.length)return!1;var t=e[0],n=t.startRow,r=t.endRow,o=t.columns,a=t.footerRowRange,i=!a&&n===r&&1===o.length,l=-1===n&&a.startRow===a.endRow&&1===o.length;return i||l}function M(e,t){var n=e>t;return{startRowIndex:n?t:e,endRowIndex:n?e:t}}function T(e){return e?M(e.startRow,e.endRow):{startRowIndex:-1,endRowIndex:-1}}function L(e,t,n,r){var o=e.startRow,a=e.endRow,i=e.columns,l=e.footerRowRange;if(!(-1!==u()(i).call(i,(function(e){return e.code===n.code}))))return!1;var c=M(o,a),s=c.startRowIndex,f=c.endRowIndex,d=T(l),p=d.startRowIndex,v=d.endRowIndex;return r&&l&&t>=p&&t<=v||!r&&t>=s&&t<=f}function F(e){var t=e.startRow,n=e.endRow,r=e.footerRowRange,o=e.columns,a=M(t,n),i=a.startRowIndex,l=a.endRowIndex,c=T(r);return i+"_"+l+"_"+c.startRowIndex+"_"+c.endRowIndex+"_"+o[0].code+"_"+o[o.length-1].code}},89028:function(e,t,n){n.d(t,{i:function(){return L}});var r=n(75240),o=n(30112),a=n(2664),i=n(81043),l=n(97440),c=n.n(l),u=n(53604),s=n.n(u),f=n(96480),d=n.n(f),p=n(59312),v=n.n(p),h=n(59364),g=n.n(h),m=n(29636),y=n.n(m),w=n(12640),b=n.n(w),x=n(71252),C=n.n(x),S=n(53656),R=n.n(S),k=n(33059),E=n(91344),O=n(54068),D=n(52963),A=n(32280),P=n(9472),I=n(60464),K=n(76600),M=c()("row-detail"),T=function(){return R().createElement("div",{style:{margin:"8px 24px"}},R().createElement("b",{style:{color:"indianred"}},"设置 ",R().createElement("code",null,"rowDetail.renderDetail")," 来自定义详情内容"))};function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,l,c,u,f,p,h,m,w,x,S="rowDetail",L=null!==(c=e.rowDetailMetaKey)&&void 0!==c?c:M,F=t.ensurePrimaryKey("rowDetail"),H=t.ctx.indents,G=H.iconIndent+H.iconWidth+H.iconGap,B=null!==(u=e.clickArea)&&void 0!==u?u:"cell",W=null!==(f=e.getDetailKey)&&void 0!==f?f:function(e,t){return E.u.safeGetRowKey(F,e,t)+"_detail"},_=null!==(p=e.renderDetail)&&void 0!==p?p:T,j=null!==(h=e.hasDetail)&&void 0!==h?h:(0,A.eK)(!0),N=null!==(x=null!==(w=null!==(m=e.openKeys)&&void 0!==m?m:t.getStateAtKey(S))&&void 0!==w?w:e.defaultOpenAll?s()(n=d()(l=t.getDataSource()).call(l,j)).call(n,(function(e,t){return E.u.safeGetRowKey(F,e,t)})):e.defaultOpenKeys)&&void 0!==x?x:[],V=function(n,r,o){var a;null===(a=e.onChangeOpenKeys)||void 0===a||a.call(e,n,r,o),t.setStateAtKey(S,n,{key:r,action:o})},z=new(v())(N),q=function(e){var t;z.has(e)?V(d()(N).call(N,(function(t){return t!==e})),e,"collapse"):V(g()(t=[]).call(t,(0,i.c)(N),[e]),e,"expand")},U="string"==typeof F?F:L.toString()+"PrimaryKey";return t.dataSource((0,A.sX)(t.getDataSource(),(function(e,t){return z.has(E.u.safeGetRowKey(F,e,t))?[e,(0,a.c)((0,a.c)((0,o.c)({},L,!0),e),(0,o.c)({},U,W(e,t)))]:[e]}))).columns(function(n){if(0===n.length)return n;var o=0;if(e.expandColumnCode&&(o=y()(n).call(n,(function(t){return t.code===e.expandColumnCode})))<0)return P.c.warn("没找到可展开的列，请检查设置的展开列code"),n;var l=n[o],c=(0,i.c)(n),u=(0,r.c)(c),s=u[0];b()(u).call(u,1);return c[0]=(0,a.c)((0,a.c)({},s),{render:function(e,n,r){if(n[L]){var o=(0,I.c)("rowDetail");return"function"==typeof o?o({row:n,rowIndex:r,domHelper:t.ref.current.domHelper,renderDetail:_}):_(n,r)}return E.u.safeRender(s,n,r)},getSpanRect:function(e,n,r){if(n[L])return{top:r,bottom:r+1,left:0,right:(0,D.c)(t.getColumns(),"leaf-only").length}}}),c[o]=(0,a.c)((0,a.c)({},l),{title:R().createElement("div",{style:{display:"inline-block",marginLeft:G}},E.u.safeRenderHeader(l)),render:function(n,r,a){if(r[L]){if(0!==o)return;var i=(0,I.c)("rowDetail");return"function"==typeof i?i({row:r,rowIndex:a,domHelper:t.ref.current.domHelper,renderDetail:_}):_(r,a)}var c=E.u.safeRender(l,r,a);if(!j(r,a))return R().createElement(k.iO,{style:{marginLeft:G}},c);var u=E.u.safeGetRowKey(F,r,a),s=z.has(u),f=function(t){e.stopClickEventPropagation&&t.stopPropagation(),q(u)},d=s?K.or.expanded:K.or.collapsed,p=e.expandIcon;return R().createElement(k.Aj,{className:C()("expansion-cell",d),style:{cursor:"content"===B?"pointer":void 0},onClick:"content"===B?f:void 0},e.expandIcon?R().createElement(p,{expanded:s,onClick:"icon"===B?f:void 0}):R().createElement(k.Pt.CaretRight,{style:{cursor:"icon"===B?"pointer":void 0,marginLeft:H.iconIndent,marginRight:H.iconGap},className:C()("expansion-icon",d),onClick:"icon"===B?f:void 0}),c)},getCellProps:"cell"===B?function(t,n,r){var o;if(n[L])return{style:(0,a.c)({"--cell-padding":"0",overflow:"hidden"},e.detailCellStyle)};var i=null===(o=l.getCellProps)||void 0===o?void 0:o.call(l,t,n,r);if(!j(n,r))return i;return(0,O.c)(i,{onClick:function(t){e.stopClickEventPropagation&&t.stopPropagation(),q(E.u.safeGetRowKey(F,n,r))},style:{cursor:"pointer"}})}:l.getCellProps,getSpanRect:function(e,n,r){if(n[L])return{top:r,bottom:r+1,left:0,right:(0,D.c)(t.getColumns(),"leaf-only").length}}}),c}(t.getColumns())).appendRowPropsGetter((function(e){if(e[L])return{className:"no-hover","data-row-detail-key":e[U]}}))}}},95216:function(e,t,n){n.d(t,{gV:function(){return D}});var r=n(30112),o=n(59364),a=n.n(o),i=n(47332),l=n.n(i),c=n(12640),u=n.n(c),s=n(29636),f=n.n(s),d=n(53656),p=n.n(d),v=n(58487),h=n(59756),g=n(34196),m=n(37880),y=n(71252),w=n.n(y),b=n(76600),x=n(46740),C=n(91344),S="rowDragKey",R="rowDragOptions",k=30,E=20,O={name:"拖拽列",code:"$_row_drag_column_&",lock:!0,title:"",width:40,align:"center",getCellProps:function(e,t,n){return{className:w()(b.or.rowDragCell)}},render:function(e,t,n){return p().createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/1999/xlink","data-icon":"drag",width:"16",height:"16"},p().createElement("path",{d:"M298.688 192a64 64 0 1 0 128 0 64 64 0 0 0-128 0z m298.624 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0zM298.688 512a64 64 0 1 0 128 0 64 64 0 0 0-128 0z m298.624 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0z m-298.624 320a64 64 0 1 0 128 0 64 64 0 0 0-128 0z m298.624 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0z","p-id":"4278"}))}};function D(e){return function(t){var n,o=t.ref.current.domHelper&&t.ref.current.domHelper.tableBody,i=t.ref.current.domHelper&&t.ref.current.domHelper.artTable,c=t.addFeatureApi(x.i.rowDrag);if(t.setFeatureOptions(R,e),!o)return t;var s=t.getDataSource(),d=function(e,t){var n=e.dragItem,r=e.x,o=e.y,a=e.dropZoneTarget,i=e.startDropZoneTagret,l=e.commonParams,c=e.startCommonParams,u=e.event,s=e.dropZoneTableParams,f=s.getDataSource,d=s.getTreeModeOptions,p=s.getRowDragOptions,v=f(),h=d(),g=p(),m=!!h&&(null==g?void 0:g.allowDragIntoRow),y=-1,w="bottom";if(!!L(u,a)&&v.length>0){var b=A(u.target,a,v);if(b)y=b.rowIndex,w=H(b.cell,u.clientY,m)}-1===y&&v.length>0&&a.contains(u.target)&&(y=v.length-1,w="bottom");var x=y>=0?v[y]:null;return{startRowIndex:n.rowIndex,startRow:n.row,endRowIndex:y,endRow:x,startDropZoneTagret:i,startCommonParams:c,commonParams:l,dropZoneTarget:a,event:u,dragPosition:w,isFinished:t,x:r,y:o}},p={getContainer:function(){return t.getLastPipeline().ref.current.domHelper.tableBody},onDragEnter:function(n){var r,o=d(n,!1);t.setStateAtKey(S,o),null===(r=null==e?void 0:e.onDragEnter)||void 0===r||r.call(e,o)},onDragLeave:function(n){var r,o=d(n,!1);t.setStateAtKey(S,o),null===(r=null==e?void 0:e.onDragLeave)||void 0===r||r.call(e,o)},onDragging:function(n){var r,o=d(n,!1);null===(r=null==e?void 0:e.onDragMove)||void 0===r||r.call(e,o),t.setStateAtKey(S,o)},onDragStop:function(n){var r,o=d(n,!0);t.setStateAtKey(S,o),null===(r=null==e?void 0:e.onDragEnd)||void 0===r||r.call(e,o)},isTable:!0,tableParams:{getDataSource:function(){return t.getLastPipeline().getDataSource()},getTreeModeOptions:function(){return t.getLastPipeline().getFeatureOptions("treeModeOptions")},getRowDragOptions:function(){return t.getLastPipeline().getFeatureOptions("rowDragOptions")}}},y=(null==e?void 0:e.rowDragColumn)||O;t.setFeatureOptions("rowDragColumnKey",y.code),c.setRowDropZoneParams(p);var D=u()(n=t.getColumns()).call(n);return D.unshift(y),t.columns(D),t.addTableProps({onMouseDown:function(n){var r,u=n.nativeEvent,f=A(u.target,o,s);if(f&&f.code===y.code&&!(null===(r=null==e?void 0:e.isDisabled)||void 0===r?void 0:r.call(e,f.row,f.rowIndex))){var x=!1,C=!1,S=null,R=null,O=null,D=null,P=null,K=null,B=[],W=function(t,n){if(!(null==e?void 0:e.suppressScrollMove)&&(D&&clearTimeout(D),P&&clearInterval(P),t)){var r=function(e,t){var n=t.clientY,r=e.getBoundingClientRect(),o=r.top,a=r.height;if(n>=o+a-E&&n<=o+a)return k;if(n>=o&&n<=o+E)return-k;return 0}(t,n);0!==r&&(D=setTimeout((function(){P=setInterval((function(){t.scrollTop+=r}),50)}),500))}},_=function(n){var r;S=function(e,t){var n,r,o=a()(n=a()(r="<div class='".concat(b.or.rowDragElement,"'>\n      <span class='")).call(r,b.or.rowDragElementIcon,"'></span>\n      <div class='")).call(n,b.or.rowDragElementLabel,"'></div>\n    </div>"),i=document.createElement("div");i.innerHTML=o;var l=i.firstChild,c=function(e,t){for(;e&&t.contains(e);){if("table-row"===e.getAttribute("data-role"))return e;e=e.parentElement}return null}(e.target,t);if(c){var u=c.getBoundingClientRect();l.style.height=u.height+"px"}var s=t.getBoundingClientRect();return l.style.maxWidth=s.width+"px",document.body.appendChild(l),l}(n,o);var l=!!t.getFeatureOptions("treeModeOptions");R=function(e){var t=document.createElement("div");t.classList.add(b.or.rowDragLine),e&&t.classList.add(b.or.treeTableRowDragLine);return document.body.appendChild(t),t}(l);var u=(null==e?void 0:e.rowDragText)?null===(r=null==e?void 0:e.rowDragText)||void 0===r?void 0:r.call(e,f.row,f.rowIndex):"第".concat(f.rowIndex,"行内容");!function(e,t){var n=t.toString(),r=e.querySelector(".".concat(b.or.rowDragElementLabel)),o=document.createTextNode(n);r.appendChild(o)}(S,u),i.classList.add(w()(b.or.rowDragging)),c.setDragStatus("start"),function(t){var n,r=d(t,!1);null===(n=null==e?void 0:e.onDragStart)||void 0===n||n.call(e,r)}(F(p,n,f,p))},j=function(e){var t;!function(e,t){var n,r,o,a,i,l;if(!e)return;var c=e.getBoundingClientRect().height,u=null!==(r=null===(n=document.body)||void 0===n?void 0:n.clientWidth)&&void 0!==r?r:window.innerHeight||(null===(o=document.documentElement)||void 0===o?void 0:o.clientWidth)||0,s=null!==(i=null===(a=document.body)||void 0===a?void 0:a.clientHeight)&&void 0!==i?i:window.innerHeight||(null===(l=document.documentElement)||void 0===l?void 0:l.clientHeight)||0,f=I(e.offsetParent),d=t.clientX,p=t.clientY,v=p-f.top-c/2,h=d-f.left,g=window.pageXOffset,m=window.pageYOffset;u>0&&h+e.clientWidth>u+g&&(h=Math.max(u+g-e.clientWidth,0));s>0&&v+e.clientHeight>s+m&&(v=Math.max(s+m-e.clientHeight,0));e.style.left="".concat(h,"px"),e.style.top="".concat(v,"px")}(S,e),c.setDragStatus("dragging"),T(S,"move");var n=c.getRowDropZone(),r=a()(n).call(n,p),o=l()(r).call(r,(function(t){return L(e,t.getContainer())}))||null;if(W(null==o?void 0:o.getContainer(),e),o!==O){if(null!==O&&null===o&&O.onDragLeave){T(S,"notAllowed"),R.style.display="none",O.getContainer().classList.remove(b.or.rowDragNoData);var i=F(O,e,f,p);O.onDragLeave(i)}if(null===O&&null!==o&&o.onDragEnter){if(T(S,"move"),o.isTable)!function(e){e.style.display="block"}(R),!!(0,o.tableParams.getTreeModeOptions)()?R.classList.add(b.or.treeTableRowDragLine):R.classList.remove(b.or.treeTableRowDragLine);var u=F(o,e,f,p);o.onDragEnter(u)}O=o}if(o&&(o.isTable&&function(e){var t,n=e.lineElement,r=e.dragZone,o=e.event,i=r.getContainer(),l=r.tableParams,c=l.getDataSource,u=l.getTreeModeOptions,s=l.getRowDragOptions,f=c(),d=u(),p=(s()||{}).allowDragIntoRow,v=!!d,h=i.getBoundingClientRect(),g=I(document.body);0===f.length?(i.classList.add(b.or.rowDragNoData),n.style.display="none"):(i.classList.remove(b.or.rowDragNoData),n.style.display="block");var m=A(o.target,i,f);if(!m){if(f.length>0&&i.contains(o.target)){var y,w,x=f.length-1,C=f[x],S="bottom",R=v?i.querySelector(a()(y='tr[data-rowindex="'.concat(x,'"] .')).call(y,b.or.tableExtendCell)):i.querySelector(a()(w='tr[data-rowindex="'.concat(x,'"] .')).call(w,b.or.rowDragCell));if(!R)return;var k=G({treeModeOptions:d,cell:R,row:C,direction:S,offsetParentSize:g,bodyRect:h}),E=k.top,O=k.left,D=k.width;n.style.left="".concat(O,"px"),n.style.top="".concat(E,"px"),n.style.width="".concat(D,"px")}return}var P=m.cell,K=m.rowIndex,M=m.row,T=v&&p,L=H(P,o.clientY,T),F=v?i.querySelector(a()(t='tr[data-rowindex="'.concat(K,'"] .')).call(t,b.or.tableExtendCell)):P;if(!F)return;var B=G({treeModeOptions:d,cell:F,row:M,direction:L,offsetParentSize:g,bodyRect:h}),W=B.top,_=B.left,j=B.width;n.style.left="".concat(_,"px"),n.style.top="".concat(W,"px"),n.style.width="".concat(j,"px"),n.style.display="into"===L?"none":"block"}({lineElement:R,dragZone:o,event:e}),(null===(t=null==o?void 0:o.tableParams)||void 0===t?void 0:t.getTreeModeOptions())&&(K&&clearTimeout(K),K=setTimeout((function(){var t=o.tableParams.getTreeModeOptions(),n=t.treeMetaKey,r=t.onExpand,a=t.isExpanded,i=t.onCollapse,l=o.tableParams.getDataSource(),c=A(e.target,o.getContainer(),l);if(c){var u=c.row[n],s=u.rowKey;u.isLeaf||a(s)||(r(s),B.push((function(){return i(s)})))}}),1e3)),o.onDragging)){var s=F(o,e,f,p);o.onDragging(s)}},N=(0,v.w)(window,"mousemove"),V=(0,v.w)(window,"mouseup");N.pipe((0,h.I)((function(e){var t=e.clientY,n=u.clientY;return Math.abs(t-n)>5&&(x=!0),x})),(0,g.k)((function(e){C||(C=!0,_(u),j(u)),j(e)})),(0,m.a)(V)).subscribe();var z=V.pipe((0,g.k)((function(e){!function(e){if(x){M(S),M(R),i.classList.remove(w()(b.or.rowDragging)),c.setDragStatus("finished"),clearTimeout(D),clearInterval(P),clearTimeout(K);var t=c.getRowDropZone();t.forEach((function(e){var t=e.getContainer();t&&t.classList.remove(b.or.rowDragNoData)}));var n=a()(t).call(t,p),r=l()(n).call(n,(function(t){return L(e,t.getContainer())}));if(r&&r.onDragStop){var o=F(r,e,f,p);r.onDragStop(o)}for(;B.length>0;)B.pop()()}}(e)}))).subscribe({next:function(){z.unsubscribe()}})}}}),t.appendRowPropsGetter((function(e,n){var o=t.getStateAtKey(S)||{},a=c.getDragStatus(),i=o.startRowIndex,l=o.endRowIndex,u=o.endRow,s=o.isFinished,d=o.dragPosition,p=e[t.getFeatureOptions("footerRowMetaKey")],v=t.getFeatureOptions("treeModeOptions"),h=!!v;if(!(p||s||!h&&n!==i&&n!==l)){var g=-1;if(h&&u){var m,y=u[v.treeMetaKey].parentRowKey,x=t.ensurePrimaryKey("rowDrag");g=f()(m=t.getDataSource()).call(m,(function(e){return C.u.safeGetRowKey(x,e,-1)===y}))}return{className:w()((0,r.c)((0,r.c)((0,r.c)((0,r.c)((0,r.c)((0,r.c)({},b.or.rowDragStart,n===i&&"finished"!==a),b.or.rowDragEnd,n===l),b.or.rowDragEndParent,h&&n===g&&"into"!==d),b.or.rowDragEndInto,n===l&&"into"===d),b.or.rowDragEndToTop,n===l&&"top"===d),b.or.rowDragEndToBottom,n===l&&"bottom"===d))}}})),t}}function A(e,t,n){for(;e&&t.contains(e);){if("table-cell"===e.getAttribute("data-role")){var r=e.getAttribute("data-code"),o=parseInt(e.getAttribute("data-rowindex")),a=n[o],i=P(e);return!a||i?null:{rowIndex:o,row:a,code:r,cell:e}}e=e.parentElement}return null}function P(e){for(;e&&!e.classList.contains(b.or.artTable);){if(e.classList.contains(b.or.tableFooter))return!0;e=e.parentElement}return!1}function I(e){var t=e.getBoundingClientRect(),n=K(e),r=n.borderTopWidth,o=n.borderLeftWidth,a=n.borderRightWidth,i=n.borderBottomWidth;return{top:t.top+(r||0),left:t.left+(o||0),right:t.right+(a||0),bottom:t.bottom+(i||0)}}function K(e){var t=window.getComputedStyle(e),n=t.height,r=t.width,o=t.borderTopWidth,a=t.borderRightWidth,i=t.borderBottomWidth,l=t.borderLeftWidth,c=t.paddingTop,u=t.paddingRight,s=t.paddingBottom,f=t.paddingLeft,d=t.marginTop,p=t.marginRight,v=t.marginBottom,h=t.marginLeft,g=t.boxSizing;return{height:parseFloat(n||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(o||"0"),borderRightWidth:parseFloat(a||"0"),borderBottomWidth:parseFloat(i||"0"),borderLeftWidth:parseFloat(l||"0"),paddingTop:parseFloat(c||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(s||"0"),paddingLeft:parseFloat(f||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(v||"0"),marginLeft:parseFloat(h||"0"),boxSizing:g}}function M(e){document.body.removeChild(e)}function T(e,t){var n=e.querySelector(".".concat(b.or.rowDragElementIcon));!function(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}(n),t=t||"notAllowed";var r=document.createElement("span");"move"===t?r.classList.add(b.or.iconMove):"notAllowed"===t&&r.classList.add(b.or.iconNotAllowed),n.appendChild(r)}function L(e,t){return t.contains(e.target)}function F(e,t,n,r){var o=e.getContainer(),a=r.getContainer(),i=o.getBoundingClientRect(),l=t.clientX-i.left,c=t.clientY-i.top,u=r.tableParams.getRowDragOptions(),s={dragItem:n,startDropZoneTagret:a,startCommonParams:null==u?void 0:u.commonParams,dropZoneTarget:o,event:t,x:l,y:c};if(e.isTable){var f=e.tableParams.getRowDragOptions(),d=null==f?void 0:f.commonParams;s.dropZoneTableParams=e.tableParams,s.commonParams=d}return s}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getBoundingClientRect(),o=r.height,a=r.y,i="bottom";return n?a+o/4>t?i="top":a+3*o/4>t&&(i="into"):a+o/2>t&&(i="top"),i}var G=function(e){var t=e.treeModeOptions,n=e.cell,r=e.row,o=e.direction,a=e.offsetParentSize,i=e.bodyRect;if(!!t){var l=t.iconWidth,c=t.iconIndent,u=t.iconGap,s=t.indentSize,f=t.treeMetaKey,d=K(n).paddingLeft,p=n.getBoundingClientRect(),v=r[f],h=(v.rowKey,v.depth),g=v.isLeaf,m=(v.expanded,c+h*s+(g?l+u:0)),y=p.x,w=p.y,b=p.height,x="bottom"===o?w+b-a.top:w-a.top,C=Math.max(y+d+m-i.x,0);return{top:x,left:i.x+C-a.left,width:i.width-C}}var S=n.getBoundingClientRect(),R=S.y,k=S.height;return{top:"bottom"===o?R+k-a.top:R-a.top,left:i.x-a.left,width:i.width}}},66464:function(e,t,n){n.d(t,{S:function(){return p}});var r=n(30112),o=n(2664),a=n(12640),i=n.n(a),l=n(53656),c=n.n(l),u=n(91344),s=n(32280),f=n(54068),d=n(65512);function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,a,l,p,v,h,g,m=t.ctx.components.Radio;if(null==m)throw new Error("使用 singleSelect 之前需要通过 pipeline context 设置 components.Radio");var y="singleSelect",w=null!==(a=e.clickArea)&&void 0!==a?a:"radio",b=null!==(l=e.isDisabled)&&void 0!==l?l:(0,s.eK)(!1),x=t.ensurePrimaryKey("singleSelect"),C=null!==(v=null!==(p=e.value)&&void 0!==p?p:t.getStateAtKey(y))&&void 0!==v?v:e.defaultValue,S=function(n){var r;null===(r=e.onChange)||void 0===r||r.call(e,n),t.setStateAtKey(y,n)},R=(0,o.c)((0,o.c)({name:"",width:50,align:"center"},e.radioColumn),{getCellProps:function(t,n,r){var o,a,i=null===(a=null===(o=e.radioColumn)||void 0===o?void 0:o.getCellProps)||void 0===a?void 0:a.call(o,t,n,r);if("cell"===w){var l=u.u.safeGetRowKey(x,n,r),c=b(n,r);return(0,f.c)(i,{style:{cursor:c?"not-allowed":"pointer"},onClick:c?void 0:function(t){e.stopClickEventPropagation&&t.stopPropagation(),S(l)}})}return i},render:function(n,r,o){if(r[t.getFeatureOptions("footerRowMetaKey")])return null;var a=u.u.safeGetRowKey(x,r,o);return c().createElement(m,{checked:C===a,disabled:b(r,o),onChange:"radio"===w?function(t,n){var r,o=null!==(r=null==n?void 0:n.nativeEvent)&&void 0!==r?r:null==t?void 0:t.nativeEvent;o&&e.stopClickEventPropagation&&o.stopPropagation(),S(a)}:void 0})},features:(0,o.c)((0,o.c)({},null===(h=e.radioColumn)||void 0===h?void 0:h.features),(0,r.c)({},d.S,!0))}),k=i()(n=t.getColumns()).call(n);return"start"===(null!==(g=e.radioPlacement)&&void 0!==g?g:"start")?k.unshift(R):k.push(R),t.columns(k),t.appendRowPropsGetter((function(t,n){var r,o,a=u.u.safeGetRowKey(x,t,n),i={};return e.highlightRowWhenSelected&&C===a&&(r="highlight"),"row"!==w||b(t,n)||(i.cursor="pointer",o=function(t){e.stopClickEventPropagation&&t.stopPropagation(),S(a)}),{className:r,style:i,onClick:o}})),t}}},29952:function(e,t,n){n.d(t,{MF:function(){return M},k1:function(){return L}});var r=n(12640),o=n.n(r),a=n(89843),i=n.n(a),l=n(64248),c=n.n(l),u=n(30112),s=n(2664),f=n(81043),d=n(97440),p=n.n(d),v=n(59312),h=n.n(v),g=n(96480),m=n.n(g),y=n(59364),w=n.n(y),b=n(29636),x=n.n(b),C=n(71252),S=n.n(C),R=n(53656),k=n.n(R),E=n(33059),O=n(91344),D=n(21320),A=n(54068),P=n(76600);function I(e,t){var n=void 0!==p()&&c()(e)||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){var n;if("string"==typeof e)return K(e,t);var r=o()(n={}.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?i()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,l=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw l}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=p()("treeMetaSymbol"),T="treeModeOptions";function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,r,o,a,i,l,c,d,p,v="treeMode",g=t.ctx,y=t.ensurePrimaryKey("treeMode"),b=null!==(o=null!==(r=null!==(n=e.openKeys)&&void 0!==n?n:t.getStateAtKey(v))&&void 0!==r?r:e.defaultOpenKeys)&&void 0!==o?o:[],C=t.getStateAtKey("sort"),R=new(h())(b),K=function(n,r,o){var a;null===(a=e.onChangeOpenKeys)||void 0===a||a.call(e,n,r,o),t.setStateAtKey(v,n,{key:r,action:o})},L=function(e){var t;R.has(e)?K(m()(b).call(b,(function(t){return t!==e})),e,"collapse"):K(w()(t=[]).call(t,(0,f.c)(b),[e]),e,"expand")},F=null!==(a=e.isLeafNode)&&void 0!==a?a:D.c,H=null!==(i=e.clickArea)&&void 0!==i?i:"cell",G=null!==(l=e.treeMetaKey)&&void 0!==l?l:M,B=Boolean(e.stopClickEventPropagation),W=g.indents.iconWidth,_=null!==(c=e.iconIndent)&&void 0!==c?c:g.indents.iconIndent,j=null!==(d=e.iconGap)&&void 0!==d?d:g.indents.iconGap,N=null!==(p=e.indentSize)&&void 0!==p?p:g.indents.indentSize;t.setFeatureOptions(T,{iconWidth:W,iconIndent:_,iconGap:j,indentSize:N,treeMetaKey:G,isExpanded:function(e){return R.has(e)},onExpand:function(e){var t;K(w()(t=[]).call(t,(0,f.c)(b),[e]),e,"expand")},onCollapse:function(e){K(m()(b).call(b,(function(t){return t!==e})),e,"collapse")}});var V=e.icon;return t.mapDataSource((function(e){if(t.isSameInputDataSource()&&b===t.getFeatureOptions("lastOpenKeys")&&C===t.getFeatureOptions("lastSort"))return t.getFeatureOptions("lastTreeMode");t.setFeatureOptions("lastOpenKeys",b),t.setFeatureOptions("lastSort",C);var n=[];return function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t)return;var a,i=I(t);try{for(i.s();!(a=i.n()).done;){var l=a.value,c=O.u.safeGetRowKey(y,l,-1),f=o?O.u.safeGetRowKey(y,o,-1):null,d=R.has(c),p=F(l,{depth:r,expanded:d,rowKey:c}),v={depth:r,isLeaf:p,expanded:d,rowKey:c,parentRowKey:f};n.push((0,s.c)((0,u.c)({},G,v),l)),!p&&d&&e(l.children,r+1,l)}}catch(e){i.e(e)}finally{i.f()}}(e,0),t.setFeatureOptions("lastTreeMode",n),n})).mapColumns((function(t){if(0===t.length)return t;var n=x()(t).call(t,(function(t){var n=t.code;return n&&e.expandColCode===n})),r=t[n=-1===n?0:n];return t[n]=(0,s.c)((0,s.c)({},r),{title:k().createElement("span",{style:{marginLeft:_+W+j,display:"flex"}},O.u.safeRenderHeader(r)),render:function(e,t,n){var o=O.u.safeRender(r,t,n);if(null==t[G])return o;var a=t[G],i=a.rowKey,l=a.depth,c=a.isLeaf,u=a.expanded,s=_+l*N;if(c)return k().createElement(E.iO,{className:S()("expansion-cell",P.or.leaf)},k().createElement("span",{style:{marginLeft:s+W+j}},o));var f=function(e){B&&e.stopPropagation(),L(i)},d=u?P.or.expanded:P.or.collapsed;return k().createElement(E.Aj,{className:S()("expansion-cell",d),style:{cursor:"content"===H?"pointer":void 0},onClick:"content"===H?f:void 0},V?k().createElement(V,{expanded:u,style:{cursor:"icon"===H?"pointer":void 0,marginLeft:s,marginRight:j,width:W},onClick:"icon"===H?f:void 0}):k().createElement(E.Pt.CaretRight,{className:S()("expansion-icon",d),style:{cursor:"icon"===H?"pointer":void 0,marginLeft:s,marginRight:j},onClick:"icon"===H?f:void 0}),o)},getCellProps:function(e,t,n){var o=O.u.safeGetCellProps(r,t,n);if(null==t[G]||"cell"!==H)return(0,A.c)(o,{className:P.or.tableExtendCell});var a=t[G],i=a.isLeaf,l=a.rowKey;if(i)return(0,A.c)(o,{className:P.or.tableExtendCell});return(0,A.c)(o,{onClick:function(e){B&&e.stopPropagation(),L(l)},style:{cursor:"pointer"},className:P.or.tableExtendCell})}}),(0,f.c)(t)}))}}},57432:function(e,t,n){n.d(t,{y:function(){return m}});var r=n(72048),o=n(30112),a=n(2664),i=n(3460),l=n(27688),c=n(53604),u=n.n(c),s=n(12640),f=n.n(s),d=n(53656),p=n(54068),v=n(21460),h=n(91356),g=function(){return(0,l.c)((function e(t){var n=t.state,r=t.setState,o=t.ctx,l=t.ref;(0,i.c)(this,e),this._snapshots={},this._rowPropsGetters=[],this._tableProps={},this.ctx={components:{},indents:e.defaultIndents},this.state=n,this.setState=r,this.ref=l,(0,a.c)(this.ctx,o)}),[{key:"guid",value:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"appendRowPropsGetter",value:function(e){return this._rowPropsGetters.push(e),this}},{key:"addTableProps",value:function(e){this._tableProps=(0,p.c)(this._tableProps,e)}},{key:"getDataSource",value:function(e){return null==e?this._dataSource:this._snapshots[e].dataSource}},{key:"isSameInputDataSource",value:function(){return this._isSameInputDataSource}},{key:"getColumns",value:function(e){return null==e?this._columns:this._snapshots[e].columns}},{key:"getFooterDataSource",value:function(){return this._footerDataSource}},{key:"getStateAtKey",value:function(e,t){var n;return null!==(n=this.state[e])&&void 0!==n?n:t}},{key:"setStateAtKey",value:function(e,t,n){this.setState((function(n){return(0,a.c)((0,a.c)({},n),(0,o.c)({},e,t))}),e,t,n)}},{key:"ensurePrimaryKey",value:function(e){if(null==this.ctx.primaryKey)throw new Error(e?"使用 ".concat(e," 之前必须先设置 primaryKey"):"必须先设置 primaryKey");return this.ctx.primaryKey}},{key:"input",value:function(e){var t,n=this;if(null!=this._dataSource||null!=this._columns)throw new Error("input 不能调用两次");return this._isSameInputDataSource=e.dataSource===this.ref.current._lastInputDataSource,this._dataSource=e.dataSource,this.ref.current._lastInputDataSource=e.dataSource,this.ref.current.lastPipeline=this,this._columns=u()(t=e.columns).call(t,(function(e){return(0,a.c)((0,a.c)({},e),{key:n.guid()})})),this.snapshot("input"),this}},{key:"dataSource",value:function(e){return this._dataSource=e,this}},{key:"columns",value:function(e){return this._columns=e,this}},{key:"primaryKey",value:function(e){return this.ctx.primaryKey=e,this}},{key:"footerDataSource",value:function(e){return this._footerDataSource=e,this}},{key:"snapshot",value:function(e){var t;return this._snapshots[e]={dataSource:this._dataSource,columns:this._columns,rowPropsGetters:f()(t=this._rowPropsGetters).call(t)},this}},{key:"useTransform",value:function(e){var t=e({dataSource:this.getDataSource(),columns:this.getColumns()});return this.dataSource(t.dataSource).columns(t.columns)}},{key:"use",value:function(e){return e(this)}},{key:"mapDataSource",value:function(e){return this.dataSource(e(this.getDataSource()))}},{key:"mapColumns",value:function(e){return this.columns(e(this.getColumns()))}},{key:"getFeatureOptions",value:function(e){var t;return null===(t=this.ref.current.featureOptions)||void 0===t?void 0:t[e]}},{key:"setFeatureOptions",value:function(e,t){this.ref.current.featureOptions[e]=t}},{key:"getProps",value:function(){var e=this;this.use((0,v.Md)());var t={dataSource:this._dataSource,columns:this._columns};return this.ctx.primaryKey&&(t.primaryKey=this.ctx.primaryKey),this._footerDataSource&&(t.footerDataSource=this._footerDataSource),this._rowPropsGetters.length>0&&(t.getRowProps=function(t,n){return e._rowPropsGetters.reduce((function(e,r){return(0,p.c)(e,r(t,n))}),{})}),t.getTableProps=function(){return e._tableProps},t.setTableWidth=function(t){e.getStateAtKey(v._A)!==t&&t&&e.setStateAtKey(v._A,t)},t.setTableDomHelper=function(t){e.ref.current.domHelper=t},t.setRowHeightManager=function(t){e.ref.current.rowHeightManager=t},t}},{key:"getFeatureApi",value:function(e){var t;return null===(t=this.ref.current.featureApi)||void 0===t?void 0:t[e]}},{key:"addFeatureApi",value:function(e){return this.getFeatureApi(e)||(this.ref.current.featureApi[e]=(0,h.w)(e,this)),this.ref.current.featureApi[e]}},{key:"getLastPipeline",value:function(){return this.ref.current.lastPipeline}}])}();function m(e){var t=(0,d.useState)({}),n=(0,r.c)(t,2),o=n[0],a=n[1],i=(0,d.useRef)({featureOptions:{},featureApi:{}});return new g({state:o,setState:a,ctx:e,ref:i})}g.defaultIndents={iconIndent:-8,iconWidth:16,iconGap:0,indentSize:16}},33104:function(e,t,n){n.d(t,{U:function(){return o},y:function(){return r}});var r=function(){var e,t=navigator.userAgent,n={};(e=t.match(/Edge\/(.*?)(?=\s|$)/))&&(n.name="Edge",n.version=e[1]);n.name||(e=t.match(/Edg\/(.*?)(?=\s|$)/))&&(n.name="NewEdge",n.version=e[1]);n.name||(e=t.match(/Chrome\/(.*?)(?=\s|$)/))&&(n.name="Chrome",n.version=e[1]);n.name||(e=t.match(/Safari\/(.*?)(?=\s|$)/))&&(n.name="Safari",n.version=e[1]);n.name||(e=t.match(/Firefox\/(.*?)(?=\s|$)/))&&(n.name="Firefox",n.version=e[1]);n.name||(/Trident\/(\d+)/.test(t)?(n.name="IE",e=t.match(/Trident.*rv:([\d.]+)/)||[],n.version=e[1]):(e=t.match(/MSIE\s(.*?);/))&&(n.name="IE",n.version=e[1]));return n}(),o={isEdge:"Edge"===r.name,isNewEdge:"NewEdge"===r.name,isIE:"IE"===r.name,isFireFox:"Firefox"===r.name,isChrome:"Chrome"===r.name,isSafari:"Safari"===r.name}},44664:function(e,t,n){n.d(t,{c:function(){return x}});var r=n(2664),o=n(88836),a=n.n(o),i=n(96480),l=n.n(i),c=n(89843),u=n.n(c),s=n(5848),f=n.n(s),d=n(12640),p=n.n(d),v=n(97440),h=n.n(v),g=n(64248),m=n.n(g),y=n(32280);function w(e,t){var n=void 0!==h()&&m()(e)||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){var n;if("string"==typeof e)return b(e,t);var r=p()(n={}.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?u()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n){var o,i,c=new(a()),s=function(e){if(c.has(e))return c.get(e);var t={id:e,parent:null,item:null,children:[]};return c.set(e,t),t},d=w(n);try{for(d.s();!(i=d.n()).done;){var p=i.value,v=s(p[t]),h=s(p[e]);h.parent=v,v.children.push(h),h.item=p}}catch(e){d.e(e)}finally{d.f()}return function e(t){var n,o=[],a=w(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;0===i.children.length?o.push(i.item):o.push((0,r.c)((0,r.c)({},i.item),{children:e(i.children)}))}}catch(e){a.e(e)}finally{a.f()}return o}((0,y.sX)(l()(o=u()(f()(c).call(c))).call(o,(function(e){return null==e.parent})),(function(e){return e.children})))}},52963:function(e,t,n){n.d(t,{c:function(){return v}});var r=n(12640),o=n.n(r),a=n(89843),i=n.n(a),l=n(97440),c=n.n(l),u=n(64248),s=n.n(u),f=n(21320);function d(e,t){var n=void 0!==c()&&s()(e)||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){var n;if("string"==typeof e)return p(e,t);var r=o()(n={}.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?i()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,f=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){f=!0,l=e},f:function(){try{u||null==n.return||n.return()}finally{if(f)throw l}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pre",n=[];return function e(r){if(null==r)return;var o,a=d(r);try{for(a.s();!(o=a.n()).done;){var i=o.value;(0,f.c)(i)?n.push(i):"pre"===t?(n.push(i),e(i.children)):"post"===t?(e(i.children),n.push(i)):e(i.children)}}catch(e){a.e(e)}finally{a.f()}}(e),n}},9472:function(e,t,n){var r=n(59364),o=n.n(r);t.c={log:function(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console).log.apply(e,o()(t=["[kd-table]"]).call(t,r))},warn:function(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console).warn.apply(e,o()(t=["[kd-table]"]).call(t,r))},error:function(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console).error.apply(e,o()(t=["[kd-table]"]).call(t,r))},table:function(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console).table.apply(e,o()(t=["[kd-table]"]).call(t,r))}}},94688:function(e,t,n){n.d(t,{O:function(){return o},U:function(){return a}});var r=n(9472),o=function(e){return function(t){t.value=e,t.select(),t.focus(),document.execCommand("copy"),document.body.removeChild(t)}};function a(e){var t=document.createElement("textarea");t.style.width="1px",t.style.height="1px",t.style.top="0px",t.style.left="0px",t.style.position="absolute",t.style.opacity="0.0",document.body.appendChild(t);try{e(t)}catch(e){r.c.warn("Browser does not support document.execCommand('copy') for clipboard operations")}}},20728:function(e,t,n){function r(e){return e.deepPath?e.deepPath():e.path?e.path:e.composedPath?e.composedPath():function(e){var t=[],n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}(e)}function o(e,t){return!(!e||!t)&&r(t).indexOf(e)>=0}function a(e,t){for(var n,r=0;!n&&r<e.length;){var o=e[r];t(o)&&(n=o),r++}return n}function i(e,t,n){var r=e.getBoundingClientRect(),o=(t===document.body?document.documentElement:t).getBoundingClientRect();return{x:r.left-o.left-(n?n.x:0),y:r.top-o.top-(n?n.y:0)}}function l(e,t,n,r,o){var a=e.getBoundingClientRect(),i=document.documentElement,l=i.getBoundingClientRect(),c=t.getBoundingClientRect(),u=a.width,s=a.height,f=e===document.body;if(f&&(u=l.width-Math.abs(l.left-a.left),s=l.height+i.scrollTop-Math.abs(l.top-a.top)),n){var d=c.width;n=function(e){var t=e.x,n=e.maxX,r=e.width;return e.isPerfectX&&Math.max(t,0)>Math.abs(n)&&r<=t?t-r:Math.min(Math.max(t,0),Math.abs(n))}({x:n,maxX:u-d,width:d,isPerfectX:o})}if(r){var p=c.height;r=function(e){var t=e.y,n=e.maxY,r=e.height,o=e.scrollTop,a=e.isBody;return e.isPerfectY&&Math.max(t,0)>Math.abs(n)&&r<=(a?t-o:t)?t-r:Math.min(Math.max(t,0),Math.abs(n))}({y:r,maxY:s-p,height:p,scrollTop:i.scrollTop,isBody:f,isPerfectY:o})}return{x:n,y:r}}function c(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight}n.d(t,{Ou:function(){return c},c9:function(){return i},mM:function(){return o},wP:function(){return a},yA:function(){return r},yM:function(){return l}})},61252:function(e,t,n){n.d(t,{c:function(){return v}});var r=n(12640),o=n.n(r),a=n(89843),i=n.n(a),l=n(97440),c=n.n(l),u=n(64248),s=n.n(u),f=n(21320);function d(e,t){var n=void 0!==c()&&s()(e)||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){var n;if("string"==typeof e)return p(e,t);var r=o()(n={}.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?i()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,f=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){f=!0,l=e},f:function(){try{u||null==n.return||n.return()}finally{if(f)throw l}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=-1;return function e(n,r){var o,a=d(n);try{for(a.s();!(o=a.n()).done;){var i=o.value;(0,f.c)(i)?t=Math.max(t,r):e(i.children,r+1)}}catch(e){a.e(e)}finally{a.f()}}(e,0),t}},74860:function(e,t,n){n.d(t,{c:function(){return a}});var r=n(29636),o=n.n(r);function a(e){return o()(e).call(e,(function(e){return e.children&&e.children.length>0}))>-1}},21320:function(e,t,n){function r(e){return null==e.children||0===e.children.length}n.d(t,{c:function(){return r}})},77536:function(e,t){t.c={ENTER:13,ESC:27}},30240:function(e,t,n){n.d(t,{c:function(){return g}});var r=n(81043),o=n(2664),a=n(12640),i=n.n(a),l=n(89843),c=n.n(l),u=n(97440),s=n.n(u),f=n(64248),d=n.n(f),p=n(21320);function v(e,t){var n=void 0!==s()&&d()(e)||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){var n;if("string"==typeof e)return h(e,t);var r=i()(n={}.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?c()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return function(t){return function t(n,a,l){var c,u=0,s=[],f=v(n);try{for(f.s();!(c=f.n()).done;){var d=c.value;l.push(d);var h=a+u,g=void 0;if((0,p.c)(d))g=e(d,{startIndex:h,endIndex:h+1,path:i()(l).call(l),isLeaf:!0}),u+=1;else{var m=t(d.children,h,l);g=e((0,o.c)((0,o.c)({},d),{children:m.result}),{startIndex:h,endIndex:h+m.flatCount,path:i()(l).call(l),isLeaf:!1}),u+=m.flatCount}Array.isArray(g)?s.push.apply(s,(0,r.c)(g)):null!=g&&s.push(g),l.pop()}}catch(e){f.e(e)}finally{f.f()}return{result:s,flatCount:u}}(t,0,[]).result}}},54068:function(e,t,n){n.d(t,{c:function(){return s}});var r=n(58496),o=n(2664),a=n(47976),i=n.n(a),l=n(71252),c=n.n(l);function u(e,t){return function(){e.apply(void 0,arguments),t.apply(void 0,arguments)}}function s(e,t){if(null==e)return t;if(null==t)return e;for(var n=(0,o.c)({},e),a=0,l=i()(t);a<l.length;a++){var s=l[a],f=t[s],d=(0,r.c)(f);if(null===f)n[s]=null;else if(void 0===f);else if("number"===d||"string"===d||"boolean"===d)n[s]="className"===s?c()(n[s],f):f;else if("function"===d){var p=n[s];n[s]=null==p?f:u(p,f)}else"object"===d&&(n[s]=(0,o.c)({},n[s],f))}return n}},32280:function(e,t,n){n.d(t,{Gq:function(){return p},eK:function(){return v},k9:function(){return h},sX:function(){return d}});n(12640),n(89843),n(97440),n(64248),n(72048);var r=n(81043),o=n(59312),a=n.n(o),i=n(96480),l=n.n(i),c=n(59364),u=n.n(c),s=n(11872),f=n.n(s);function d(e,t){var n=[];return e.forEach((function(o,a){n.push.apply(n,(0,r.c)(t(o,a,e)))})),n}var p={diff:function(e,t){var n=new(a())(t);return l()(e).call(e,(function(e){return!n.has(e)}))},merge:function(e,t){var n=new(a())(e);return u()(e).call(e,l()(t).call(t,(function(e){return!n.has(e)})))}};function v(e){return function(){return e}}function h(e,t){for(var n=0,o=e.length,a=[];n<o||a.length;){var i,l=e[n++]||a.pop();if(t(l,n))return l;if(l.children)f()(a).apply(a,u()(i=[0,0]).call(i,(0,r.c)(l.children)))}return null}},65512:function(e,t,n){n.d(t,{S:function(){return o},iE:function(){return r},y4:function(){return a}});var r="checkboxSelection",o="radioSelection";function a(e){var t=e.features||{};return!0===t[r]||!0===t[o]}},66452:function(e,t,n){n.d(t,{Q:function(){return a}});var r,o=n(33104);function a(){var e,t;return void 0===r&&(r=o.U.isIE||(e=o.y.name,t=o.y.version,"Firefox"===e&&function(e){return"number"==typeof e?e:Number("string"==typeof e?e.split(".")[0]:void 0)}(t)<=52)),r}},27852:function(e,t,n){n.d(t,{uV:function(){return ve}});var r=n(65144),o=Math.max,a=Math.min,i=Math.round,l=n(40344),c=n(65952);function u(){return!/^((?!chrome|android).)*safari/i.test((0,c.c)())}function s(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=e.getBoundingClientRect(),a=1,c=1;t&&(0,r._e)(e)&&(a=e.offsetWidth>0&&i(o.width)/e.offsetWidth||1,c=e.offsetHeight>0&&i(o.height)/e.offsetHeight||1);var s=((0,r.KI)(e)?(0,l.c)(e):window).visualViewport,f=!u()&&n,d=(o.left+(f&&s?s.offsetLeft:0))/a,p=(o.top+(f&&s?s.offsetTop:0))/c,v=o.width/a,h=o.height/c;return{width:v,height:h,top:p,right:d+v,bottom:p+h,left:d,x:d,y:p}}var f=n(11336);var d=n(35788),p=n(16308);function v(e){return s((0,p.c)(e)).left+(0,f.c)(e).scrollLeft}var h=n(21024);function g(e,t,n){void 0===n&&(n=!1);var o,a,c=(0,r._e)(t),u=(0,r._e)(t)&&function(e){var t=e.getBoundingClientRect(),n=i(t.width)/e.offsetWidth||1,r=i(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),g=(0,p.c)(t),m=s(e,u,n),y={scrollLeft:0,scrollTop:0},w={x:0,y:0};return(c||!c&&!n)&&(("body"!==(0,d.c)(t)||(0,h.c)(g))&&(y=(o=t)!==(0,l.c)(o)&&(0,r._e)(o)?{scrollLeft:(a=o).scrollLeft,scrollTop:a.scrollTop}:(0,f.c)(o)),(0,r._e)(t)?((w=s(t,!0)).x+=t.clientLeft,w.y+=t.clientTop):g&&(w.x=v(g))),{x:m.left+y.scrollLeft-w.x,y:m.top+y.scrollTop-w.y,width:m.width,height:m.height}}function m(e){var t=s(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}var y=n(92304);function w(e){return["html","body","#document"].indexOf((0,d.c)(e))>=0?e.ownerDocument.body:(0,r._e)(e)&&(0,h.c)(e)?e:w((0,y.c)(e))}function b(e,t){var n;void 0===t&&(t=[]);var r=w(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),a=(0,l.c)(r),i=o?[a].concat(a.visualViewport||[],(0,h.c)(r)?r:[]):r,c=t.concat(i);return o?c:c.concat(b((0,y.c)(i)))}var x=n(61396),C="top",S="bottom",R="right",k="left",E="auto",O=[C,S,R,k],D="start",A="end",P="clippingParents",I="viewport",K="popper",M="reference",T=O.reduce((function(e,t){return e.concat([t+"-"+D,t+"-"+A])}),[]),L=[].concat(O,[E]).reduce((function(e,t){return e.concat([t,t+"-"+D,t+"-"+A])}),[]),F=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}var G={placement:"bottom",modifiers:[],strategy:"absolute"};function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function W(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,o=void 0===n?[]:n,a=t.defaultOptions,i=void 0===a?G:a;return function(e,t,n){void 0===n&&(n=i);var a,l,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},G,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],s=!1,f={state:c,setOptions:function(n){var a="function"==typeof n?n(c.options):n;d(),c.options=Object.assign({},i,c.options,a),c.scrollParents={reference:(0,r.KI)(e)?b(e):e.contextElement?b(e.contextElement):[],popper:b(t)};var l,s,p=function(e){var t=H(e);return F.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((l=[].concat(o,c.options.modifiers),s=l.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(s).map((function(e){return s[e]}))));return c.orderedModifiers=p.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var a=o({state:c,name:t,instance:f,options:r}),i=function(){};u.push(a||i)}})),f.update()},forceUpdate:function(){if(!s){var e=c.elements,t=e.reference,n=e.popper;if(B(t,n)){c.rects={reference:g(t,(0,x.c)(n),"fixed"===c.options.strategy),popper:m(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var o=c.orderedModifiers[r],a=o.fn,i=o.options,l=void 0===i?{}:i,u=o.name;"function"==typeof a&&(c=a({state:c,options:l,name:u,instance:f})||c)}else c.reset=!1,r=-1}}},update:(a=function(){return new Promise((function(e){f.forceUpdate(),e(c)}))},function(){return l||(l=new Promise((function(e){Promise.resolve().then((function(){l=void 0,e(a())}))}))),l}),destroy:function(){d(),s=!0}};if(!B(e,t))return f;function d(){u.forEach((function(e){return e()})),u=[]}return f.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),f}}var _={passive:!0};var j={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=void 0===o||o,i=r.resize,c=void 0===i||i,u=(0,l.c)(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&s.forEach((function(e){e.addEventListener("scroll",n.update,_)})),c&&u.addEventListener("resize",n.update,_),function(){a&&s.forEach((function(e){e.removeEventListener("scroll",n.update,_)})),c&&u.removeEventListener("resize",n.update,_)}},data:{}};function N(e){return e.split("-")[0]}function V(e){return e.split("-")[1]}function z(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function q(e){var t,n=e.reference,r=e.element,o=e.placement,a=o?N(o):null,i=o?V(o):null,l=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(a){case C:t={x:l,y:n.y-r.height};break;case S:t={x:l,y:n.y+n.height};break;case R:t={x:n.x+n.width,y:c};break;case k:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var u=a?z(a):null;if(null!=u){var s="y"===u?"height":"width";switch(i){case D:t[u]=t[u]-(n[s]/2-r[s]/2);break;case A:t[u]=t[u]+(n[s]/2-r[s]/2)}}return t}var U={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Y=n(26104),Z={top:"auto",right:"auto",bottom:"auto",left:"auto"};function X(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,c=e.offsets,u=e.position,s=e.gpuAcceleration,f=e.adaptive,d=e.roundOffsets,v=e.isFixed,h=c.x,g=void 0===h?0:h,m=c.y,y=void 0===m?0:m,w="function"==typeof d?d({x:g,y:y}):{x:g,y:y};g=w.x,y=w.y;var b=c.hasOwnProperty("x"),E=c.hasOwnProperty("y"),O=k,D=C,P=window;if(f){var I=(0,x.c)(n),K="clientHeight",M="clientWidth";if(I===(0,l.c)(n)&&(I=(0,p.c)(n),"static"!==(0,Y.c)(I).position&&"absolute"===u&&(K="scrollHeight",M="scrollWidth")),o===C||(o===k||o===R)&&a===A)D=S,y-=(v&&I===P&&P.visualViewport?P.visualViewport.height:I[K])-r.height,y*=s?1:-1;if(o===k||(o===C||o===S)&&a===A)O=R,g-=(v&&I===P&&P.visualViewport?P.visualViewport.width:I[M])-r.width,g*=s?1:-1}var T,L=Object.assign({position:u},f&&Z),F=!0===d?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:i(n*o)/o||0,y:i(r*o)/o||0}}({x:g,y:y},(0,l.c)(n)):{x:g,y:y};return g=F.x,y=F.y,s?Object.assign({},L,((T={})[D]=E?"0":"",T[O]=b?"0":"",T.transform=(P.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",T)):Object.assign({},L,((t={})[D]=E?y+"px":"",t[O]=b?g+"px":"",t.transform="",t))}var $={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=void 0===o?[0,0]:o,i=L.reduce((function(e,n){return e[n]=function(e,t,n){var r=N(e),o=[k,C].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=a[0],l=a[1];return i=i||0,l=(l||0)*o,[k,R].indexOf(r)>=0?{x:l,y:i}:{x:i,y:l}}(n,t.rects,a),e}),{}),l=i[t.placement],c=l.x,u=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}},Q={left:"right",right:"left",bottom:"top",top:"bottom"};function J(e){return e.replace(/left|right|bottom|top/g,(function(e){return Q[e]}))}var ee={start:"end",end:"start"};function te(e){return e.replace(/start|end/g,(function(e){return ee[e]}))}function ne(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.sZ)(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function re(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oe(e,t,n){return t===I?re(function(e,t){var n=(0,l.c)(e),r=(0,p.c)(e),o=n.visualViewport,a=r.clientWidth,i=r.clientHeight,c=0,s=0;if(o){a=o.width,i=o.height;var f=u();(f||!f&&"fixed"===t)&&(c=o.offsetLeft,s=o.offsetTop)}return{width:a,height:i,x:c+v(e),y:s}}(e,n)):(0,r.KI)(t)?function(e,t){var n=s(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):re(function(e){var t,n=(0,p.c)(e),r=(0,f.c)(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=o(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=o(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),c=-r.scrollLeft+v(e),u=-r.scrollTop;return"rtl"===(0,Y.c)(a||n).direction&&(c+=o(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:l,x:c,y:u}}((0,p.c)(e)))}function ae(e,t,n,i){var l="clippingParents"===t?function(e){var t=b((0,y.c)(e)),n=["absolute","fixed"].indexOf((0,Y.c)(e).position)>=0&&(0,r._e)(e)?(0,x.c)(e):e;return(0,r.KI)(n)?t.filter((function(e){return(0,r.KI)(e)&&ne(e,n)&&"body"!==(0,d.c)(e)})):[]}(e):[].concat(t),c=[].concat(l,[n]),u=c[0],s=c.reduce((function(t,n){var r=oe(e,n,i);return t.top=o(r.top,t.top),t.right=a(r.right,t.right),t.bottom=a(r.bottom,t.bottom),t.left=o(r.left,t.left),t}),oe(e,u,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ie(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function le(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ce(e,t){void 0===t&&(t={});var n=t,o=n.placement,a=void 0===o?e.placement:o,i=n.strategy,l=void 0===i?e.strategy:i,c=n.boundary,u=void 0===c?P:c,f=n.rootBoundary,d=void 0===f?I:f,v=n.elementContext,h=void 0===v?K:v,g=n.altBoundary,m=void 0!==g&&g,y=n.padding,w=void 0===y?0:y,b=ie("number"!=typeof w?w:le(w,O)),x=h===K?M:K,k=e.rects.popper,E=e.elements[m?x:h],D=ae((0,r.KI)(E)?E:E.contextElement||(0,p.c)(e.elements.popper),u,d,l),A=s(e.elements.reference),T=q({reference:A,element:k,strategy:"absolute",placement:a}),L=re(Object.assign({},k,T)),F=h===K?L:A,H={top:D.top-F.top+b.top,bottom:F.bottom-D.bottom+b.bottom,left:D.left-F.left+b.left,right:F.right-D.right+b.right},G=e.modifiersData.offset;if(h===K&&G){var B=G[a];Object.keys(H).forEach((function(e){var t=[R,S].indexOf(e)>=0?1:-1,n=[C,S].indexOf(e)>=0?"y":"x";H[e]+=B[n]*t}))}return H}function ue(e,t,n){return o(e,a(t,n))}var se={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,l=void 0===i||i,c=n.altAxis,u=void 0!==c&&c,s=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.padding,v=n.tether,h=void 0===v||v,g=n.tetherOffset,y=void 0===g?0:g,w=ce(t,{boundary:s,rootBoundary:f,padding:p,altBoundary:d}),b=N(t.placement),E=V(t.placement),O=!E,A=z(b),P="x"===A?"y":"x",I=t.modifiersData.popperOffsets,K=t.rects.reference,M=t.rects.popper,T="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,L="number"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(I){if(l){var G,B="y"===A?C:k,W="y"===A?S:R,_="y"===A?"height":"width",j=I[A],q=j+w[B],U=j-w[W],Y=h?-M[_]/2:0,Z=E===D?K[_]:M[_],X=E===D?-M[_]:-K[_],$=t.elements.arrow,Q=h&&$?m($):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=J[B],te=J[W],ne=ue(0,K[_],Q[_]),re=O?K[_]/2-Y-ne-ee-L.mainAxis:Z-ne-ee-L.mainAxis,oe=O?-K[_]/2+Y+ne+te+L.mainAxis:X+ne+te+L.mainAxis,ae=t.elements.arrow&&(0,x.c)(t.elements.arrow),ie=ae?"y"===A?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(G=null==F?void 0:F[A])?G:0,se=j+oe-le,fe=ue(h?a(q,j+re-le-ie):q,j,h?o(U,se):U);I[A]=fe,H[A]=fe-j}if(u){var de,pe="x"===A?C:k,ve="x"===A?S:R,he=I[P],ge="y"===P?"height":"width",me=he+w[pe],ye=he-w[ve],we=-1!==[C,k].indexOf(b),be=null!=(de=null==F?void 0:F[P])?de:0,xe=we?me:he-K[ge]-M[ge]-be+L.altAxis,Ce=we?he+K[ge]+M[ge]-be-L.altAxis:ye,Se=h&&we?function(e,t,n){var r=ue(e,t,n);return r>n?n:r}(xe,he,Ce):ue(h?xe:me,he,h?Ce:ye);I[P]=Se,H[P]=Se-he}t.modifiersData[r]=H}},requiresIfExists:["offset"]};var fe={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,a=n.elements.arrow,i=n.modifiersData.popperOffsets,l=N(n.placement),c=z(l),u=[k,R].indexOf(l)>=0?"height":"width";if(a&&i){var s=function(e,t){return ie("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:le(e,O))}(o.padding,n),f=m(a),d="y"===c?C:k,p="y"===c?S:R,v=n.rects.reference[u]+n.rects.reference[c]-i[c]-n.rects.popper[u],h=i[c]-n.rects.reference[c],g=(0,x.c)(a),y=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,w=v/2-h/2,b=s[d],E=y-f[u]-s[p],D=y/2-f[u]/2+w,A=ue(b,D,E),P=c;n.modifiersData[r]=((t={})[P]=A,t.centerOffset=A-D,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&ne(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function de(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function pe(e){return[C,R,S,k].some((function(t){return e[t]>=0}))}var ve=W({defaultModifiers:[j,U,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,a=n.adaptive,i=void 0===a||a,l=n.roundOffsets,c=void 0===l||l,u={placement:N(t.placement),variation:V(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,X(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,X(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},a=t.elements[e];(0,r._e)(a)&&(0,d.c)(a)&&(Object.assign(a.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],a=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,r._e)(o)&&(0,d.c)(o)&&(Object.assign(o.style,i),Object.keys(a).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]},$,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=void 0===o||o,i=n.altAxis,l=void 0===i||i,c=n.fallbackPlacements,u=n.padding,s=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,v=void 0===p||p,h=n.allowedAutoPlacements,g=t.options.placement,m=N(g),y=c||(m===g||!v?[J(g)]:function(e){if(N(e)===E)return[];var t=J(e);return[te(e),t,te(t)]}(g)),w=[g].concat(y).reduce((function(e,n){return e.concat(N(n)===E?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,a=n.rootBoundary,i=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?L:c,s=V(r),f=s?l?T:T.filter((function(e){return V(e)===s})):O,d=f.filter((function(e){return u.indexOf(e)>=0}));0===d.length&&(d=f);var p=d.reduce((function(t,n){return t[n]=ce(e,{placement:n,boundary:o,rootBoundary:a,padding:i})[N(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:s,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:h}):n)}),[]),b=t.rects.reference,x=t.rects.popper,A=new Map,P=!0,I=w[0],K=0;K<w.length;K++){var M=w[K],F=N(M),H=V(M)===D,G=[C,S].indexOf(F)>=0,B=G?"width":"height",W=ce(t,{placement:M,boundary:s,rootBoundary:f,altBoundary:d,padding:u}),_=G?H?R:k:H?S:C;b[B]>x[B]&&(_=J(_));var j=J(_),z=[];if(a&&z.push(W[F]<=0),l&&z.push(W[_]<=0,W[j]<=0),z.every((function(e){return e}))){I=M,P=!1;break}A.set(M,z)}if(P)for(var q=function(e){var t=w.find((function(t){var n=A.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return I=t,"break"},U=v?3:1;U>0;U--){if("break"===q(U))break}t.placement!==I&&(t.modifiersData[r]._skip=!0,t.placement=I,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},se,fe,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,i=ce(t,{elementContext:"reference"}),l=ce(t,{altBoundary:!0}),c=de(i,r),u=de(l,o,a),s=pe(c),f=pe(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:s,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":s,"data-popper-escaped":f})}}]})}}]);