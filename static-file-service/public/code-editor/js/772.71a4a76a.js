(self.webpackChunkcode_editor=self.webpackChunkcode_editor||[]).push([[772],{8744:function(e,t,n){"use strict";n.d(t,{c:function(){return Zt}});var r=n(36512),a=n.n(r),o=n(18428),i=n.n(o),c=n(68416),u=n.n(c),l=n(52184),s=n.n(l),d=n(18583),f=n.n(d),p=n(88084),v=n.n(p),m=n(49684),b=n(21744),h=n(68704),g=n(51464),y=n.n(g),k=n(14260),C=n.n(k),_=n(49208),E=n.n(_),I=n(77872),x=n.n(I),w=n(62400),N=n.n(w),A=n(99324),S=n.n(A),P=(n(21300),n(33768),n(18080),n(13640),n(95520)),D=n.n(P),T=n(24900),L=n(71252),R=n.n(L),B=n(14020),M=n(39360),O=n.n(M),F=n(70308),j=n.n(F),K=n(20712),W=n.n(K),z=(n(76124),n(87912),n(97448),"kd_code_editor"),H="".concat(z,"_version"),U="".concat(z,"_versions'"),G="0.1.3",V=n(71736),Q=n(74140),q=n(10240),X=n(60960),Y=n.n(X),J=n(67084),Z=n.n(J);n(43924),n(82860),n(1336),n(76896),n(90512),n(78504),n(44388),n(37292),n(79860),n(23268),n(20660),n(94580),n(43160),n(8608),n(87503),n(16696),n(57309),n(76728),n(37332),n(37888),n(14379),n(93723),n(48776),n(57096),n(56539),n(55888),n(50768),n(54732),n(13108),n(56264),n(77864);var $=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();var ee=function(){try{var e;if(!$||!$.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==j()(e=fetch.toString()).call(e,"[native code");return(!t||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var te=function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(a){if("TypeError"!==a.name)throw a;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}},ne=n(98436),re=n.n(ne)();var ae=function(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))};var oe=function(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)};function ie(e){return"string"!=typeof e&&(console.warn("".concat(e," used as a key, but it is not a string.")),e=String(e)),e}function ce(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var ue,le="local-forage-detect-blob-support",se={},de=Object.prototype.toString,fe="readonly",pe="readwrite";function ve(e){return"boolean"==typeof ue?re.resolve(ue):function(e){return new re((function(t){var n=e.transaction(le,pe),r=te([""]);n.objectStore(le).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||Z()(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return ue=e}))}function me(e){var t=se[e.name],n={};n.promise=new re((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function be(e){var t=se[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function he(e,t){var n=se[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function ge(e,t){return new re((function(n,r){if(se[e.name]=se[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);me(e),e.db.close()}var a=[e.name];t&&a.push(e.version);var o=$.open.apply($,a);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(le)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),be(e)}}))}function ye(e){return ge(e,!1)}function ke(e){return ge(e,!0)}function Ce(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,a=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),a||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function _e(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),a=0;a<t;a++)r[a]=e.charCodeAt(a);return n}(atob(e.data));return te([t],{type:e.type})}function Ee(e){return e&&e.__local_forage_encoded_blob}function Ie(e){var t=this,n=t._initReady().then((function(){var e=se[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return oe(n,e,e),n}function xe(e,t,n,r){void 0===r&&(r=1);try{var a=e.db.transaction(e.storeName,t);n(null,a)}catch(a){if(r>0&&(!e.db||"InvalidStateError"===a.name||"NotFoundError"===a.name))return re.resolve().then((function(){if(!e.db||"NotFoundError"===a.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ke(e)})).then((function(){return function(e){me(e);for(var t=se[e.name],n=t.forages,r=0;r<n.length;r++){var a=n[r];a._dbInfo.db&&(a._dbInfo.db.close(),a._dbInfo.db=null)}return e.db=null,ye(e).then((function(t){return e.db=t,Ce(e)?ke(e):t})).then((function(r){e.db=t.db=r;for(var a=0;a<n.length;a++)n[a]._dbInfo.db=r})).catch((function(t){throw he(e,t),t}))}(e).then((function(){xe(e,t,n,r-1)}))})).catch(n);n(a)}}var we={_driver:"asyncStorage",_initStorage:function(e){var t,n=this,r={db:null};if(e)for(var a in e)r[a]=e[a];var o=se[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},se[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=Ie);var i=[];function c(){return re.resolve()}for(var u=0;u<o.forages.length;u++){var l=o.forages[u];l!==n&&i.push(l._initReady().catch(c))}var s=Y()(t=o.forages).call(t,0);return re.all(i).then((function(){return r.db=o.db,ye(r)})).then((function(e){return r.db=e,Ce(r,n._defaultConfig.version)?ke(r):e})).then((function(e){r.db=o.db=e,n._dbInfo=r;for(var t=0;t<s.length;t++){var a=s[t];a!==n&&(a._dbInfo.db=r.db,a._dbInfo.version=r.version)}}))},_support:ee(),iterate:function(e,t){var n=this,r=new re((function(t,r){n.ready().then((function(){xe(n._dbInfo,fe,(function(a,o){if(a)return r(a);try{var i=o.objectStore(n._dbInfo.storeName).openCursor(),c=1;i.onsuccess=function(){var n=i.result;if(n){var r=n.value;Ee(r)&&(r=_e(r));var a=e(r,n.key,c++);void 0!==a?t(a):n.continue()}else t()},i.onerror=function(){r(i.error)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},getItem:function(e,t){var n=this;e=ie(e);var r=new re((function(t,r){n.ready().then((function(){xe(n._dbInfo,fe,(function(a,o){if(a)return r(a);try{var i=o.objectStore(n._dbInfo.storeName).get(e);i.onsuccess=function(){var e=i.result;void 0===e&&(e=null),Ee(e)&&(e=_e(e)),t(e)},i.onerror=function(){r(i.error)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},setItem:function(e,t,n){var r=this;e=ie(e);var a=new re((function(n,a){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===de.call(t)?ve(o.db).then((function(e){return e?t:(n=t,new re((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){xe(r._dbInfo,pe,(function(o,i){if(o)return a(o);try{var c=i.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=c.put(t,e);i.oncomplete=function(){void 0===t&&(t=null),n(t)},i.onabort=i.onerror=function(){var e=u.error?u.error:u.transaction.error;a(e)}}catch(e){a(e)}}))})).catch(a)}));return ae(a,n),a},removeItem:function(e,t){var n=this;e=ie(e);var r=new re((function(t,r){n.ready().then((function(){xe(n._dbInfo,pe,(function(a,o){if(a)return r(a);try{var i=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(i.error)},o.onabort=function(){var e=i.error?i.error:i.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},clear:function(e){var t=this,n=new re((function(e,n){t.ready().then((function(){xe(t._dbInfo,pe,(function(r,a){if(r)return n(r);try{var o=a.objectStore(t._dbInfo.storeName).clear();a.oncomplete=function(){e()},a.onabort=a.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return ae(n,e),n},length:function(e){var t=this,n=new re((function(e,n){t.ready().then((function(){xe(t._dbInfo,fe,(function(r,a){if(r)return n(r);try{var o=a.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return ae(n,e),n},key:function(e,t){var n=this,r=new re((function(t,r){e<0?t(null):n.ready().then((function(){xe(n._dbInfo,fe,(function(a,o){if(a)return r(a);try{var i=o.objectStore(n._dbInfo.storeName),c=!1,u=i.openKeyCursor();u.onsuccess=function(){var n=u.result;n?0===e||c?t(n.key):(c=!0,n.advance(e)):t(null)},u.onerror=function(){r(u.error)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},keys:function(e){var t=this,n=new re((function(e,n){t.ready().then((function(){xe(t._dbInfo,fe,(function(r,a){if(r)return n(r);try{var o=a.objectStore(t._dbInfo.storeName).openKeyCursor(),i=[];o.onsuccess=function(){var t=o.result;t?(i.push(t.key),t.continue()):e(i)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return ae(n,e),n},dropInstance:function(e,t){t=ce.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var a=e.name===r.name&&this._dbInfo.db?re.resolve(this._dbInfo.db):ye(e).then((function(t){var n=se[e.name],r=n.forages;n.db=t;for(var a=0;a<r.length;a++)r[a]._dbInfo.db=t;return t}));n=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;me(e);var r=se[e.name],a=r.forages;t.close();for(var o=0;o<a.length;o++){var i=a[o];i._dbInfo.db=null,i._dbInfo.version=n}var c=new re((function(t,r){var a=$.open(e.name,n);a.onerror=function(e){a.result.close(),r(e)},a.onupgradeneeded=function(){a.result.deleteObjectStore(e.storeName)},a.onsuccess=function(){var e=a.result;e.close(),t(e)}}));return c.then((function(e){r.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,be(n._dbInfo)}})).catch((function(t){throw(he(e,t)||re.resolve()).catch((function(){})),t}))}})):a.then((function(t){me(e);var n=se[e.name],r=n.forages;t.close();for(var a=0;a<r.length;a++){r[a]._dbInfo.db=null}var o=new re((function(t,n){var r=$.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return o.then((function(e){n.db=e;for(var t=0;t<r.length;t++){be(r[t]._dbInfo)}})).catch((function(t){throw(he(e,t)||re.resolve()).catch((function(){})),t}))}))}else n=re.reject("Invalid arguments");return ae(n,t),n}},Ne=we;n(82320),n(9112);var Ae=function(){return"function"==typeof openDatabase},Se=(n(46912),n(78763),n(78176),n(82800),n(11364),n(42032),n(2080),n(19572),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Pe=/^~~local_forage_type~([^~]+)~/,De="__lfsc__:",Te="arbf",Le="blob",Re="si08",Be="ui08",Me="uic8",Oe="si16",Fe="si32",je="ur16",Ke="ui32",We="fl32",ze="fl64",He=Object.prototype.toString;function Ue(e){var t,n,r,a,o,i=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var l=new ArrayBuffer(i),s=new Uint8Array(l);for(t=0;t<c;t+=4)n=j()(Se).call(Se,e[t]),r=j()(Se).call(Se,e[t+1]),a=j()(Se).call(Se,e[t+2]),o=j()(Se).call(Se,e[t+3]),s[u++]=n<<2|r>>4,s[u++]=(15&r)<<4|a>>2,s[u++]=(3&a)<<6|63&o;return l}function Ge(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=Se[n[t]>>2],r+=Se[(3&n[t])<<4|n[t+1]>>4],r+=Se[(15&n[t+1])<<2|n[t+2]>>6],r+=Se[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var Ve={serialize:function(e,t){var n="";if(e&&(n=He.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===He.call(e.buffer))){var r,a=De;e instanceof ArrayBuffer?(r=e,a+=Te):(r=e.buffer,"[object Int8Array]"===n?a+=Re:"[object Uint8Array]"===n?a+=Be:"[object Uint8ClampedArray]"===n?a+=Me:"[object Int16Array]"===n?a+=Oe:"[object Uint16Array]"===n?a+=je:"[object Int32Array]"===n?a+=Fe:"[object Uint32Array]"===n?a+=Ke:"[object Float32Array]"===n?a+=We:"[object Float64Array]"===n?a+=ze:t(new Error("Failed to get type for BinaryArray"))),t(a+Ge(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+Ge(this.result);t(De+Le+n)},o.readAsArrayBuffer(e)}else try{t(O()(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,9)!==De)return JSON.parse(e);var t,n=e.substring(13),r=e.substring(9,13);if(r===Le&&Pe.test(n)){var a=n.match(Pe);t=a[1],n=n.substring(a[0].length)}var o=Ue(n);switch(r){case Te:return o;case Le:return te([o],{type:t});case Re:return new Int8Array(o);case Be:return new Uint8Array(o);case Me:return new Uint8ClampedArray(o);case Oe:return new Int16Array(o);case je:return new Uint16Array(o);case Fe:return new Int32Array(o);case Ke:return new Uint32Array(o);case We:return new Float32Array(o);case ze:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:Ue,bufferToString:Ge};function Qe(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS ".concat(t.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function qe(e,t,n,r,a,o){e.executeSql(n,r,a,(function(e,i){i.code===i.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,c){c.rows.length?o(e,i):Qe(e,t,(function(){e.executeSql(n,r,a,o)}),o)}),o):o(e,i)}),o)}function Xe(e,t,n,r){var a=this;e=ie(e);var o=new re((function(o,i){a.ready().then((function(){void 0===t&&(t=null);var c=t,u=a._dbInfo;u.serializer.serialize(t,(function(t,l){l?i(l):u.db.transaction((function(n){qe(n,u,"INSERT OR REPLACE INTO ".concat(u.storeName," ")+"(key, value) VALUES (?, ?)",[e,t],(function(){o(c)}),(function(e,t){i(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Xe.apply(a,[e,c,n,r-1]));i(t)}}))}))})).catch(i)}));return ae(o,n),o}var Ye={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var a=new re((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(a){Qe(a,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=Ve,a},_support:Ae(),iterate:function(e,t){var n=this,r=new re((function(t,r){n.ready().then((function(){var a=n._dbInfo;a.db.transaction((function(n){qe(n,a,"SELECT * FROM ".concat(a.storeName),[],(function(n,r){for(var o=r.rows,i=o.length,c=0;c<i;c++){var u=o.item(c),l=u.value;if(l&&(l=a.serializer.deserialize(l)),void 0!==(l=e(l,u.key,c+1)))return void t(l)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},getItem:function(e,t){var n=this;e=ie(e);var r=new re((function(t,r){n.ready().then((function(){var a=n._dbInfo;a.db.transaction((function(n){qe(n,a,"SELECT * FROM ".concat(a.storeName," WHERE key = ? LIMIT 1"),[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=a.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},setItem:function(e,t,n){return Xe.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=ie(e);var r=new re((function(t,r){n.ready().then((function(){var a=n._dbInfo;a.db.transaction((function(n){qe(n,a,"DELETE FROM ".concat(a.storeName," WHERE key = ?"),[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},clear:function(e){var t=this,n=new re((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){qe(t,r,"DELETE FROM ".concat(r.storeName),[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return ae(n,e),n},length:function(e){var t=this,n=new re((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){qe(t,r,"SELECT COUNT(key) as c FROM ".concat(r.storeName),[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return ae(n,e),n},key:function(e,t){var n=this,r=new re((function(t,r){n.ready().then((function(){var a=n._dbInfo;a.db.transaction((function(n){qe(n,a,"SELECT key FROM ".concat(a.storeName," WHERE id = ? LIMIT 1"),[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},keys:function(e){var t=this,n=new re((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){qe(t,r,"SELECT key FROM ".concat(r.storeName),[],(function(t,n){for(var r=[],a=0;a<n.rows.length;a++)r.push(n.rows.item(a).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return ae(n,e),n},dropInstance:function(e,t){t=ce.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,a=this;return r=e.name?new re((function(t){var r;r=e.name===n.name?a._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new re((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var a=[],o=0;o<r.rows.length;o++)a.push(r.rows.item(o).name);t({db:e,storeNames:a})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}(r))})).then((function(e){return new re((function(t,n){e.db.transaction((function(r){function a(e){return new re((function(t,n){r.executeSql("DROP TABLE IF EXISTS ".concat(e),[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],i=0,c=e.storeNames.length;i<c;i++)o.push(a(e.storeNames[i]));re.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):re.reject("Invalid arguments"),ae(r,t),r}},Je=Ye,Ze=n(10904),$e=n.n(Ze);function et(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function tt(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var nt,rt={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=et(e,this._defaultConfig),tt()?(this._dbInfo=t,t.serializer=Ve,re.resolve()):re.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,a=r.length,o=localStorage.length,i=1,c=0;c<o;c++){var u=localStorage.key(c);if(0===j()(u).call(u,r)){var l=localStorage.getItem(u);if(l&&(l=t.serializer.deserialize(l)),void 0!==(l=e(l,u.substring(a),i++)))return l}}}));return ae(r,t),r},getItem:function(e,t){var n=this;e=ie(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return ae(r,t),r},setItem:function(e,t,n){var r=this;e=ie(e);var a=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new re((function(a,o){var i=r._dbInfo;i.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(i.keyPrefix+e,t),a(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return ae(a,n),a},removeItem:function(e,t){var n=this;e=ie(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return ae(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===j()(r).call(r,e)&&localStorage.removeItem(r)}}));return ae(n,e),n},length:function(e){var t=$e()(this).call(this).then((function(e){return e.length}));return ae(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return ae(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],a=0;a<n;a++){var o=localStorage.key(a);0===j()(o).call(o,e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return ae(n,e),n},dropInstance:function(e,t){if(t=ce.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,a=this;return r=e.name?new re((function(t){e.storeName?t(et(e,a._defaultConfig)):t("".concat(e.name,"/"))})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===j()(n).call(n,e)&&localStorage.removeItem(n)}})):re.reject("Invalid arguments"),ae(r,t),r}},at=rt,ot=function(e,t){for(var n,r,a=e.length,o=0;o<a;){if((n=e[o])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},it=n(73560),ct=n.n(it)()||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ut={},lt={},st={INDEXEDDB:Ne,WEBSQL:Je,LOCALSTORAGE:at},dt=[st.INDEXEDDB._driver,st.WEBSQL._driver,st.LOCALSTORAGE._driver],ft=["dropInstance"],pt=E()(nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"]).call(nt,ft),vt={description:"",driver:Y()(dt).call(dt),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function mt(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function bt(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t){var r;if(t.hasOwnProperty(n))if(ct(t[n]))arguments[0][n]=Y()(r=t[n]).call(r);else arguments[0][n]=t[n]}}return arguments[0]}var ht=function(){function e(t){for(var n in(0,Q.c)(this,e),st)if(st.hasOwnProperty(n)){var r=st[n],a=r._driver;this[n]=a,ut[a]||this.defineDriver(r)}this._defaultConfig=bt({},vt),this._config=bt({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return(0,q.c)(e,[{key:"config",value:function(e){if("object"===(0,V.c)(e)){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config}},{key:"defineDriver",value:function(e,t,n){var r=new re((function(t,n){try{var r=e._driver,a=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(a);for(var o=E()(pt).call(pt,"_initStorage"),i=0,c=o.length;i<c;i++){var u=o[i];if((!ot(ft,u)||e[u])&&"function"!=typeof e[u])return void n(a)}!function(){for(var t=function(e){return function(){var t=new Error("Method ".concat(e," is not implemented by the current driver")),n=re.reject(t);return ae(n,arguments[arguments.length-1]),n}},n=0,r=ft.length;n<r;n++){var a=ft[n];e[a]||(e[a]=t(a))}}();var l=function(n){ut[r]&&"Redefining LocalForage driver: ".concat(r),ut[r]=e,lt[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,n):l(!!e._support):l(!0)}catch(e){n(e)}}));return oe(r,t,n),r}},{key:"driver",value:function(){return this._driver||null}},{key:"getDriver",value:function(e,t,n){var r=ut[e]?re.resolve(ut[e]):re.reject(new Error("Driver not found."));return oe(r,t,n),r}},{key:"getSerializer",value:function(e){var t=re.resolve(Ve);return oe(t,e),t}},{key:"ready",value:function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return oe(n,e,e),n}},{key:"setDriver",value:function(e,t,n){var r=this;ct(e)||(e=[e]);var a=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function i(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return re.resolve()})):re.resolve();return this._driverSet=c.then((function(){var e=a[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){if(t<e.length){var a=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(a).then(i).catch(n)}o();var c=new Error("No available storage method found.");return r._driverSet=re.reject(c),r._driverSet}()}}(a)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=re.reject(e),r._driverSet})),oe(this._driverSet,t,n),this._driverSet}},{key:"supports",value:function(e){return!!lt[e]}},{key:"_extend",value:function(e){bt(this,e)}},{key:"_getSupportedDrivers",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n];this.supports(a)&&t.push(a)}return t}},{key:"_wrapLibraryMethodsWithReady",value:function(){for(var e=0,t=pt.length;e<t;e++)mt(this,pt[e])}},{key:"createInstance",value:function(t){return new e(t)}}]),e}(),gt=new ht,yt={},kt=function(){var e=(0,b.c)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.clear();case 2:yt={};case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ct=function(){var e=(0,b.c)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.getItem(H);case 2:if(e.sent===G){e.next=8;break}return e.next=6,gt.clear();case 6:return e.next=8,gt.setItem(H,G);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=(0,b.c)(y().mark((function e(){var t,n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.getItem(U);case 2:return t=e.sent,n=JSON.parse(t||"{}"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Et=(0,B.C)((function(){gt.setItem(U,O()(yt))}),500),It=function(){var e=(0,b.c)(y().mark((function e(t){var n,r,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"GET"});case 2:if(!(n=e.sent).ok){e.next=14;break}return e.next=6,n.text();case 6:if(""!==(a=e.sent)){e.next=9;break}return e.abrupt("return"," ");case 9:if(!(j()(r=O()(a)).call(r,"showErrMsg")>-1||"string"!=typeof a||W()(a).call(a,"<!DOCTYPE html>"))){e.next=11;break}return e.abrupt("return","");case 11:return e.abrupt("return",a);case 14:if(404!==n.status){e.next=18;break}return e.abrupt("return","");case 18:console.warn("not search pack ".concat(t));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=(0,b.c)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t();case 2:yt=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wt=function(){var e=(0,b.c)(y().mark((function e(t){var n,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.getItem(E()(n="".concat(z,"-")).call(n,t));case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0="";case 5:return r=e.t0,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nt=function(e,t){var n;gt.setItem(E()(n="".concat(z,"-")).call(n,e),t)},At=function(){var e=(0,b.c)(y().mark((function e(t){var n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gt.config({name:E()(n="".concat("kdCodeEditorIDB")).call(n,t?"_"+t:"")}),e.next=3,Ct();case 3:return e.next=5,xt();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=(0,b.c)(y().mark((function e(t){var n,r,a,o,i,c,u=arguments;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(u.length>1&&void 0!==u[1])||u[1],r=t.path,a=t.version,o=t.name,i=!1,n&&(l=a,i=yt[o]===l),c="",!i){e.next=11;break}return e.next=8,wt(o);case 8:c=e.sent,e.next=18;break;case 11:return e.next=13,It(r);case 13:if(e.t0=e.sent,e.t0){e.next=16;break}e.t0="";case 16:(c=e.t0)&&(yt[o]=a,n&&Nt(o,c),Et());case 18:return e.abrupt("return",c);case 19:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=n(11528),Dt=JSON.parse('{"$schema":"vscode://schemas/color-theme","name":"Dark+","include":"./dark_vs.json","tokenColors":[{"name":"Function declarations","scope":["entity.name.function","support.function","support.constant.handlebars","source.powershell variable.other.member","entity.name.operator.custom-literal"],"settings":{"foreground":"#DCDCAA"}},{"name":"Types declaration and references","scope":["support.class","support.type","entity.name.type","entity.name.namespace","entity.other.attribute","entity.name.scope-resolution","entity.name.class","storage.type.numeric.go","storage.type.byte.go","storage.type.boolean.go","storage.type.string.go","storage.type.uintptr.go","storage.type.error.go","storage.type.rune.go","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],"settings":{"foreground":"#4EC9B0"}},{"name":"Types declaration and references, TS grammar specific","scope":["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json","entity.other.inherited-class"],"settings":{"foreground":"#4EC9B0"}},{"name":"Control flow / Special keywords","scope":["keyword.control","source.cpp keyword.operator.new","keyword.operator.delete","keyword.other.using","keyword.other.operator","entity.name.operator"],"settings":{"foreground":"#C586C0"}},{"name":"Variable and parameter name","scope":["variable","meta.definition.variable.name","support.variable","entity.name.variable","constant.other.placeholder"],"settings":{"foreground":"#9CDCFE"}},{"name":"Constants and enums","scope":["variable.other.constant","variable.other.enummember"],"settings":{"foreground":"#4FC1FF"}},{"name":"Object keys, TS grammar specific","scope":["meta.object-literal.key"],"settings":{"foreground":"#9CDCFE"}},{"name":"CSS property value","scope":["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],"settings":{"foreground":"#CE9178"}},{"name":"Regular expression groups","scope":["punctuation.definition.group.regexp","punctuation.definition.group.assertion.regexp","punctuation.definition.character-class.regexp","punctuation.character.set.begin.regexp","punctuation.character.set.end.regexp","keyword.operator.negation.regexp","support.other.parenthesis.regexp"],"settings":{"foreground":"#CE9178"}},{"scope":["constant.character.character-class.regexp","constant.other.character-class.set.regexp","constant.other.character-class.regexp","constant.character.set.regexp"],"settings":{"foreground":"#d16969"}},{"scope":["keyword.operator.or.regexp","keyword.control.anchor.regexp"],"settings":{"foreground":"#DCDCAA"}},{"scope":"keyword.operator.quantifier.regexp","settings":{"foreground":"#d7ba7d"}},{"scope":["constant.character","constant.other.option"],"settings":{"foreground":"#569cd6"}},{"scope":"constant.character.escape","settings":{"foreground":"#d7ba7d"}},{"scope":"entity.name.label","settings":{"foreground":"#C8C8C8"}}],"semanticTokenColors":{"newOperator":"#C586C0","stringLiteral":"#ce9178","customLiteral":"#DCDCAA","numberLiteral":"#b5cea8"}}');function Tt(e,t){var n=N()(e);if(a()){var r=a()(e);t&&(r=i()(r).call(r,(function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n,r,a=null!=arguments[t]?arguments[t]:{};t%2?x()(n=Tt(Object(a),!0)).call(n,(function(t){(0,m.c)(e,t,a[t])})):s()?f()(e,s()(a)):x()(r=Tt(Object(a))).call(r,(function(t){v()(e,t,u()(a,t))}))}return e}var Rt=function(e){var t=[];for(var n in e.tokenColors){var r=e.tokenColors[n];if(r.scope){var a=r.scope,o=r.settings;o.foreground&&t.push({token:a,foreground:o.foreground}),o.background&&t.push({token:a,background:o.background})}}return t};n(86456);function Bt(e){var t={};function n(e,t){var r=t.split("/"),a=r.shift();a&&(0===r.length?!e[a]&&(e[a]={}):(e[a]=e[a]||{},n(e[a],r.join("/"))))}return x()(e).call(e,(function(e){n(t,e)})),t}var Mt=n(78836),Ot=n(30072),Ft=function(e){var t=(0,P.useCallback)((function(){e&&N()(e).length&&T.C8.registerCodeActionProvider("typescript",{provideCodeActions:function(t,n,r){var a,o=[],i=t.getValueInRange(n),c=e.exports[i];if(c&&c.length)return x()(a=r.markers).call(a,(function(n){x()(c).call(c,(function(r){var a,c=e.paths[r],u=(0,Ot.K8)(t,{path:c,variables:[i]});c&&u&&o.push({title:E()(a="import { ".concat(i," } from '")).call(a,c,"'"),diagnostics:[n],isPreferred:!0,kind:"quickfix",edit:{edits:[{textEdit:u,resource:t.uri,versionId:t.getVersionId()}]}})}))})),{actions:o,dispose:function(){}}}})}),[e]);(0,P.useEffect)((function(){t()}),[t])},jt=n(5476),Kt=n.n(jt),Wt=n(99860),zt="_3rYUI6rm_toolbar",Ht="d_IUS0i-_modulesLoading",Ut="_1GQ0nLej_modulesLoadingText",Gt=n(66689),Vt=function(e){var t=e.modulesLoading,n=e.theme,r=void 0===n?"Dark":n,a=(0,Gt.c)(),o=a.modulesLoadingText,i=a.modulesLoadFinishText,c=(0,P.useMemo)((function(){return{none:"",loading:o,finish:i}}),[o,i]),u=(0,P.useState)(t?"loading":"none"),l=(0,h.c)(u,2),s=l[0],d=l[1],f=(0,P.useRef)(0);return(0,P.useEffect)((function(){return d(t?"loading":"finish"),!t&&(f.current=Kt()((function(){d("none")}),1e3)),function(){clearTimeout(f.current)}}),[t]),D().createElement("div",{className:zt},D().createElement("div",{className:Ht},D().createElement(Wt.Spin,{spinning:t||"none"!==s,type:"container"}),D().createElement("span",{className:Ut,style:{color:"Dark"===r?"#fff":"#212121"}},c[s])))},Qt=n(34432);function qt(e,t){var n=N()(e);if(a()){var r=a()(e);t&&(r=i()(r).call(r,(function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n,r,a=null!=arguments[t]?arguments[t]:{};t%2?x()(n=qt(Object(a),!0)).call(n,(function(t){(0,m.c)(e,t,a[t])})):s()?f()(e,s()(a)):x()(r=qt(Object(a))).call(r,(function(t){v()(e,t,u()(a,t))}))}return e}var Yt=[],Jt=function(e,t){var n=e.value,r=void 0===n?"":n,a=e.readOnly,o=void 0!==a&&a,i=e.className,c=void 0===i?"":i,u=e.onChange,l=e.tabSize,s=void 0===l?2:l,d=e.modulesPath,f=void 0===d?[]:d,p=e.style,v=e.moduleExports,m=e.theme,g=void 0===m?"Dark":m,k=e.modulesDBSuffix,_=void 0===k?"":k,I=R()(Qt.c.kd_code_editor_box,c),w=(0,P.useRef)(null),A=(0,P.useRef)(null),L=(0,P.useRef)(r),M=(0,P.useRef)({}),F=(0,P.useRef)({}),j=(0,P.useRef)({lineNumber:0,column:0}),K=(0,P.useState)(!!f.length&&f.length!==Yt.length),W=(0,h.c)(K,2),z=W[0],H=W[1],U=function(e){if(e.length){var t=Bt(e);T.C8.registerCompletionItemProvider("typescript",{triggerCharacters:['"',"'","/"],provideCompletionItems:function(e,n){var r=e.getLineContent(n.lineNumber);if(/import\s(.)*\sfrom\s/.test(r)){var a,o=(null===(a=r.match(/import\s+.*\s+from\s+['"]([^'"]+)['"]/))||void 0===a?void 0:a[1])||"",i=function(e,t){for(var n=JSON.parse(O()(t)),r=0,a=e.length;r<a;++r){var o=e[r];if(!n[o])break;n=n[o]}return N()(n)}(o.substring(0,o.length-1).split("/"),t),c={startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,startColumn:n.column,endColumn:n.column};return{suggestions:C()(i).call(i,(function(e){return{label:e,kind:T.C8.CompletionItemKind.Module,insertText:e,range:c}}))}}}})}},G=function(e,t){t in T.C8.typescript.typescriptDefaults.getExtraLibs()||T.C8.typescript.typescriptDefaults.addExtraLib(e,t)},V=function(){var e=(0,b.c)(y().mark((function e(t,n){var r,a,o,i,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St(t);case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return");case 5:o=E()(r="".concat(Pt.oF)).call(r,t.name),u=t.name,i=u.replace(/((\/?\.?index)?(\.d)?(\.ts)?)$/,""),M.current[i]=[o],a.length>1e4?G(a,o):F.current[i]={source:a,filePath:o},n===f.length-1&&(x()(c=N()(F.current)).call(c,(function(e){var t=F.current[e];G(t.source,t.filePath)})),T.C8.typescript.typescriptDefaults.setCompilerOptions(Xt(Xt({},T.C8.typescript.typescriptDefaults.getCompilerOptions()),{},{baseUrl:".",paths:M.current,allowSyntheticDefaultImports:!0,esModuleInterop:!0})),U(N()(M.current)),H(!1)),Yt.push(t.name);case 11:case"end":return e.stop()}var u}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=(0,b.c)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return t.length!==Yt.length&&H(!0),e.next=5,At(_);case 5:x()(t).call(t,(function(e,t){!S()(Yt).call(Yt,e.name)&&V(e,t)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,b.c)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt();case 2:Q(f);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e,t=null===(e=A.current)||void 0===e?void 0:e.onKeyDown((function(e){var t;if(S()(t=[T.Ax.KeyI,T.Ax.Period]).call(t,e.keyCode)&&(e.ctrlKey||e.metaKey))return e.stopPropagation(),e.preventDefault(),void function(){var e,t;if(A.current){var n=Mt.c.getEditorSelectText(),r=A.current.getModel(),a=A.current.getPosition()||{},o=a.lineNumber,i=void 0===o?0:o,c=a.column,u=void 0===c?0:c;if(!n&&r){var l=r.getWordAtPosition({lineNumber:i,column:u});if(l){var s=new T.EH(i,l.startColumn,u,l.endColumn);A.current.setSelection(s)}}null===(e=A.current.getAction("editor.action.quickFix"))||void 0===e||e.run({uri:null===(t=A.current.getModel())||void 0===t?void 0:t.uri}),A.current.setSelection(new T.EH(i,u,i,u))}}();e.keyCode===T.Ax.KeyM&&e.shiftKey&&(e.ctrlKey||e.metaKey)&&(e.stopPropagation(),e.preventDefault(),q())}));return null==t?void 0:t.dispose},Y=function(){var e,t,n,r;null===(e=A.current)||void 0===e||null===(t=e.onDidChangeModelContent)||void 0===t||t.call(e,(function(){var e,t=(null===(e=A.current)||void 0===e?void 0:e.getValue())||"";L.current!==t&&(null==u||u(t||""),L.current=t)})),null===(n=A.current)||void 0===n||null===(r=n.onDidChangeCursorPosition)||void 0===r||r.call(n,(function(e){var t=e.position;j.current=t}))},J=function(){var e;w.current&&(T.O0.defineTheme("custom-dark",(e=function(e){var t={};for(var n in e.colors){var r=e.colors[n];t[n]=r}return t}(Dt),{base:"vs-dark",inherit:!0,rules:Rt(Dt),colors:Lt({"editor.background":"#202224","editor.lineHighlightBorder":"#202224"},e)})),A.current=T.O0.create(w.current,{tabSize:s,readOnly:o,fontSize:13,fontFamily:'"Cascadia Code", Consolas, Menlo, "Liberation Mono", monospace',theme:"Dark"===g?"custom-dark":"vs",emptySelectionClipboard:!0,automaticLayout:!0,quickSuggestions:!0,autoClosingBrackets:"always",model:T.O0.createModel(r,"typescript"),lineHeight:18}),Mt.c.setEditor(A.current),Mt.c.focus())},Z=(0,P.useCallback)((0,B.C)((function(){var e,t;null===(e=A.current)||void 0===e||null===(t=e.layout)||void 0===t||t.call(e)}),100),[]);return(0,P.useEffect)((function(){J(),T.C8.typescript.typescriptDefaults.setCompilerOptions(Xt(Xt({},T.C8.typescript.typescriptDefaults.getCompilerOptions()),{},{target:T.C8.typescript.ScriptTarget.ES2015,moduleResolution:T.C8.typescript.ModuleResolutionKind.NodeJs,allowNonTsExtensions:!0,noImplicitAny:!0})),Y()}),[]),(0,P.useEffect)((function(){T.O0.setTheme("Dark"===g?"custom-dark":"vs")}),[g]),(0,P.useEffect)((function(){Q(f)}),[f]),(0,P.useEffect)((function(){return window.addEventListener("resize",Z),function(){window.removeEventListener("resize",Z)}}),[]),(0,P.useImperativeHandle)(t,(function(){return{insertTextAtPosition:Mt.c.insertTextAtPosition}})),Ft(v),(0,P.useEffect)((function(){return X()}),[]),(0,P.useEffect)((function(){o?Mt.c.disable():Mt.c.enable()}),[o]),(0,P.useEffect)((function(){return function(){T.C8.typescript.typescriptDefaults.getExtraLibs()}}),[]),D().createElement(D().Fragment,null,D().createElement("div",{className:Qt.c.kd_code_editor_container},D().createElement("div",{className:I,style:Xt(Xt({},p),{},{background:"Dark"===g?"#202224":"#fff"}),ref:w}),D().createElement(Vt,{modulesLoading:z,theme:g})))};Jt.displayName="BaseCodeEditor";var Zt=D().forwardRef(Jt)},83800:function(e,t,n){"use strict";n.d(t,{c:function(){return C}});var r=n(14260),a=n.n(r),o=n(49208),i=n.n(o),c=n(99860),u=n(95520),l=n.n(u),s={debugConsole:"_1gB5Ya1A_debugConsole",top:"w8kRc33s_top",leftArea:"_15S-AnAD_leftArea",rightArea:"_2lIhPt51_rightArea",icon:"_2ZH-0pI5_icon",content:"_38C72dys_content",inputArea:"_3iZGR6WK_inputArea",input:"_22MVQANm_input",consoleItem:"_3HCl-lp__consoleItem",errorLog:"_1aGe5hyR_errorLog",warningLog:"zuT4fq_l_warningLog"},d=n(31944),f=(n(21300),n(77872)),p=n.n(f),v=n(14248),m=n(71252),b=n.n(m),h={string:v.c.string,number:v.c.number,bigint:v.c.bigint,boolean:v.c.boolean,symbol:v.c.symbol,undefined:v.c.undefined,object:v.c.object,function:v.c.function},g=function(e){var t=e.data,n=e.className,r=(0,u.useCallback)((function(e){var t,n="{";return p()(t=e.properties).call(t,(function(t,r){var a,o;n=i()(a=i()(o="".concat(n)).call(o,t.name,": ")).call(a,"object"===t.type?"{...}":t.value),r!==e.properties.length-1&&(n+=", ")})),n+="}"}),[]);return l().createElement("div",{className:b()(v.c.title,h[t.type],n),title:t.value},"object"===t.type&&t.preview?r(t.preview):t.value)},y=n(66689),k={error:s.errorLog,warning:s.warningLog},C=function(e){var t=e.onClose,n=d.c.useContainer(),r=n.consoleStore,o=n.consoleAction,f=r.consoleData,p=(0,u.useRef)(null),v=(0,y.c)(),m=v.ClearConsole,b=v.DebugConsole,h=v.CloseConsole,C=(0,u.useCallback)((function(){o.clearConsole()}),[]);return(0,u.useEffect)((function(){var e;p.current&&(p.current.scrollTop=null===(e=p.current)||void 0===e?void 0:e.scrollHeight)}),[f]),l().createElement("div",{className:s.debugConsole},l().createElement("div",{className:s.top},l().createElement("div",{className:s.leftArea},l().createElement("div",null,b)),l().createElement("div",{className:s.rightArea},l().createElement(c.Icon,{className:s.icon,prefix:"kdfont",type:"shanchuxing",title:m,onClick:C}),l().createElement(c.Icon,{className:s.icon,prefix:"kdfont",type:"guanbi6",title:h,onClick:t}))),l().createElement("div",{className:s.content,ref:p},a()(f).call(f,(function(e,t){var n;return l().createElement("div",{key:t,className:s.consoleItem},l().createElement("div",{className:s.consoleArgs},a()(n=e.args).call(n,(function(n,r){var a;return l().createElement(g,{key:i()(a="".concat(t,"_")).call(a,r),data:n,className:k[e.type]||""})}))))}))))}},98640:function(e,t,n){"use strict";n.d(t,{c:function(){return Or}});var r=n(49684),a=n(68704),o=n(5476),i=n.n(o),c=n(99324),u=n.n(c),l=n(14260),s=n.n(l),d=n(95520),f=n.n(d),p=n(99860),v="XFA5ybkI_functionArea",m="JfOZd-px_menu",b="_33NGAJ5Z_menuItem",h="_1UUeJ64o_menuImg",g="V8ZIQHTh_menuIcon",y="_28seJosl_active",k="_3dS0aDAG_noline",C="_23RhoPm7_workSpace",_="oHvHRTDw_workSpaceItem",E="_2Q0sjTDe_hide",I="_21Ee8Ixr_isOpen",x=n(78836),w=n(21744),N=n(51464),A=n.n(N),S=n(31944),P=n(49208),D=n.n(P),T=n(36204),L=n.n(T),R="_1eT-bBpM_collapse",B="_1bDaOiEj_icon",M=n(62400),O=n.n(M),F=n(36512),j=n.n(F),K=n(18428),W=n.n(K),z=n(68416),H=n.n(z),U=n(77872),G=n.n(U),V=n(52184),Q=n.n(V),q=n(18583),X=n.n(q),Y=n(88084),J=n.n(Y),Z={breakPointItem:"_3kRag1_l_breakPointItem",leftArea:"_1dsBjBYL_leftArea",content:"_12Q5FrVT_content",rightArea:"eGuB8jGI_rightArea",icon:"PRdD0c7__icon",lineNumber:"_358o4GGy_lineNumber",breackPointActive:"_3CtXMaIS_breackPointActive"},$=n(71252),ee=n.n($),te=n(71736),ne=n(74140),re=n(10240),ae=(n(43924),n(76896),n(87912),n(97448),n(78504),n(77864),n(29500)),oe=n.n(ae),ie=n(98436),ce=n.n(ie),ue=n(23628),le=n.n(ue),se="debug_enable",de="debug_breakpoint_add_error_success",fe="debug_paused",pe="debug_consoleAPICalled",ve="debug_scope_update";function me(e,t){var n=O()(e);if(j()){var r=j()(e);t&&(r=W()(r).call(r,(function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n,a,o=null!=arguments[t]?arguments[t]:{};t%2?G()(n=me(Object(o),!0)).call(n,(function(t){(0,r.c)(e,t,o[t])})):Q()?X()(e,Q()(o)):G()(a=me(Object(o))).call(a,(function(t){J()(e,t,H()(o,t))}))}return e}var he={FrontEnd:{code:-1,message:"Front-end debugger init error."},EngineIdle:{code:-2,message:"The debug engine is idle, waiting for script execution."},timeoutError:{code:-3,message:"Debugger has stopped due to network connection loss."}},ge=[-2],ye=function(){function e(){(0,ne.c)(this,e),(0,r.c)(this,"cid",0),(0,r.c)(this,"config",void 0),(0,r.c)(this,"tempBreakPoints",[]),(0,r.c)(this,"enginePoolName","COSMIC_PLUGIN"),(0,r.c)(this,"protocolQueue",[]),(0,r.c)(this,"keepAliveTimeOut",2e4),(0,r.c)(this,"callFrames",[]),(0,r.c)(this,"protocolAction",void 0),(0,r.c)(this,"isPrepared",!1)}var t,n,a,o,c,l,d,f,p,v,m,b,h,g,y,k,C,_,E,I,x,N,S;return(0,re.c)(e,[{key:"showMethodMessage",value:function(e){var t,n,r,a=e.sid,o=e.method,i=e.type,c=e.cid,u="request"===i?"--\x3e":"<--",l=D()(t=D()(n=D()(r="".concat(u," ")).call(r,o," ( cid: ")).call(n,c||"-",", sid: ")).call(t,a||"-"," )");this.sendProtocolLogToConsole(l)}},{key:"sendProtocol",value:(S=(0,w.c)(A().mark((function e(t,n){var r,a,o,i,c,u,l,s,d,f,p,v,m,b,h;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(r=n||{}).isBreakError,o=void 0!==a&&a,i=r.isInitCid,c=void 0!==i&&i,u=r.breakEngine,l=void 0!==u&&u,s=!!this.config,d=this.config,f=d.showProtocolMethodInConsole,p=d.request,v=s&&f,m=l?oe()()+"":this.getCid(c),b=be({cid:m},t),v&&this.showMethodMessage({method:t.method,type:"request",cid:m}),!s){e.next=13;break}return e.next=10,p(b);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0={error:he.FrontEnd,result:{},cid:this.cid+"",sid:""};case 14:return h=e.t0,v&&this.showMethodMessage({method:t.method,type:"response",sid:null==h?void 0:h.sid,cid:null==h?void 0:h.cid}),this.handleError(h.error,!this.config||o),e.abrupt("return",h);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)})},{key:"debugEnable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!e&&(this.callFrames=[]),this.isPrepared=e,this.config.protocolAction({type:se,payload:{enable:e}})}},{key:"getCid",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.cid=0),this.cid+=1,this.cid+""}},{key:"sendTempBreakPoints",value:(N=(0,w.c)(A().mark((function e(){var t,n,r=this;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=W()(t=this.tempBreakPoints).call(t,(function(e){return!e.disable}))).length){e.next=3;break}return e.abrupt("return",!0);case 3:return e.abrupt("return",new(ce())((function(e){ce().all(s()(n).call(n,(function(e){return r.setBreakpointByUrl(e,!0)}))).then((function(){return e(!0)})).catch((function(){return e(!1)}))})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return N.apply(this,arguments)})},{key:"runtimeEnable",value:(x=(0,w.c)(A().mark((function e(){var t,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendProtocol({method:"Runtime.enable",params:{}});case 2:return n=e.sent,e.abrupt("return",!(null!=n&&null!==(t=n.error)&&void 0!==t&&t.code));case 4:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"debuggerEnable",value:(I=(0,w.c)(A().mark((function e(){var t,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendProtocol({method:"Debugger.enable",params:{}});case 2:return n=e.sent,e.abrupt("return",!(null!=n&&null!==(t=n.error)&&void 0!==t&&t.code));case 4:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)})},{key:"runIfWaitingForDebugger",value:(E=(0,w.c)(A().mark((function e(){var t,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendProtocol({method:"Runtime.runIfWaitingForDebugger",params:{}});case 2:return n=e.sent,e.abrupt("return",!(null!=n&&null!==(t=n.error)&&void 0!==t&&t.code));case 4:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"executionContextCreated",value:function(e){}},{key:"debugWaiting",value:(_=(0,w.c)(A().mark((function e(){var t,n,r;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.runtimeEnable();case 4:return t=e.sent,e.next=7,this.debuggerEnable();case 7:return n=e.sent,e.next=10,this.runIfWaitingForDebugger();case 10:return r=e.sent,t&&n&&r||this.debugEnable(!1),e.next=14,this.sendProtocol({method:"Debugger.ready",params:{}},{isBreakError:!0});case 14:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"scriptParsed",value:(C=(0,w.c)(A().mark((function e(t){var n,r,a,o,i;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config&&null!==(n=this.config.scriptPaths)&&void 0!==n&&n[0]&&t===this.config.scriptPaths[0]){e.next=2;break}return e.abrupt("return");case 2:if(this.sendProtocolQueue(),!this.tempBreakPoints.length){e.next=9;break}return e.next=6,this.setBreakpointsActive();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0={error:{code:0}};case 10:if(null==(a=e.t0)||null===(r=a.error)||void 0===r||!r.code){e.next=13;break}return e.abrupt("return",this.debugEnable(!1));case 13:return e.next=15,this.sendTempBreakPoints();case 15:if(!e.sent){e.next=23;break}return e.next=19,this.sendProtocol({method:"Debugger.go",params:{}},{isBreakError:!0});case 19:null!=(i=e.sent)&&null!==(o=i.error)&&void 0!==o&&o.code||this.debugEnable(!0),e.next=24;break;case 23:this.debugEnable(!1);case 24:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:"sendProtocolQueue",value:function(){var e;G()(e=this.protocolQueue).call(e,(function(e){return e.protocolFn()})),this.protocolQueue=[]}},{key:"setProtocolQueue",value:function(e){var t=this,n=oe()()+"";return this.protocolQueue.push({id:n,protocolFn:e}),function(){t.removeProtocolQueueItem(n)}}},{key:"removeProtocolQueueItem",value:function(e){var t,n,r=L()(t=this.protocolQueue).call(t,(function(t){return t.id===e}));le()(n=this.protocolQueue).call(n,r,1)}},{key:"updateTempBreakPoints",value:function(e){this.tempBreakPoints=s()(e).call(e,(function(e){return be({},e)}))}},{key:"updateConfig",value:function(e){this.config=e}},{key:"setBreakpointsActive",value:(k=(0,w.c)(A().mark((function e(){var t;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendProtocol({method:"Debugger.setBreakpointsActive",params:{active:!0}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"setBreakpointByUrl",value:(y=(0,w.c)(A().mark((function e(t){var n,r,a,o,i,c,u,l,s,d,f,p=arguments;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=p.length>1&&void 0!==p[1]&&p[1],this.config){e.next=3;break}return e.abrupt("return",{error:{code:-2}});case 3:if(o){e.next=9;break}return e.next=6,this.setBreakpointsActive();case 6:if(null==(c=e.sent)||null===(i=c.error)||void 0===i||!i.code){e.next=9;break}return e.abrupt("return",c);case 9:return u=t.lineNumber,l=t.condition,e.next=12,this.sendProtocol({method:"Debugger.setBreakpointByUrl",params:{lineNumber:u-1,url:this.config.scriptPaths[0],columnNumber:0,condition:l}});case 12:return s=e.sent,d=null==s||null===(n=s.error)||void 0===n?void 0:n.code,o&&!d&&null!=s&&null!==(r=s.result)&&void 0!==r&&r.breakpointId&&this.config.protocolAction({type:de,payload:{lineNumber:u,breakpointId:(null==s||null===(f=s.result)||void 0===f?void 0:f.breakpointId)||""}}),e.abrupt("return",{isError:d,result:{lineNumber:u,breakpointId:(null==s||null===(a=s.result)||void 0===a?void 0:a.breakpointId)||""}});case 16:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"removeBreakpoint",value:(g=(0,w.c)(A().mark((function e(t){var n,r;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.breakpointId,this.config&&n){e.next=3;break}return e.abrupt("return",{error:{code:-2}});case 3:return e.next=5,this.sendProtocol({method:"Debugger.removeBreakpoint",params:{breakpointId:n}});case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"updateBreakpoint",value:(h=(0,w.c)(A().mark((function e(t){var n,r,a,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.breakpointId,this.config&&r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.removeBreakpoint(t);case 5:if(null==(a=e.sent)||null===(n=a.error)||void 0===n||!n.code){e.next=10;break}e.t0=a,e.next=13;break;case 10:return e.next=12,this.setBreakpointByUrl(t);case 12:e.t0=e.sent;case 13:return o=e.t0,e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"debugDisable",value:(b=(0,w.c)(A().mark((function e(){var t;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isPrepared=!1,t=this.sendProtocol({method:"Debugger.disable",params:{}}),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"debugPrepare",value:(m=(0,w.c)(A().mark((function e(){var t,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.sendProtocol({method:"Debugger.prepare",params:{enginePoolName:this.enginePoolName,scriptPaths:this.config.scriptPaths}},{isBreakError:!0,isInitCid:!0});case 4:return null!=(n=e.sent)&&null!==(t=n.error)&&void 0!==t&&t.code||(this.debugEnable(!0),this.config.showProtocolMethodInConsole&&this.sendProtocolLogToConsole("debugId: ".concat(null==n?void 0:n.debugId))),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getRuntimeProperties",value:(v=(0,w.c)(A().mark((function e(t){var n,r,a=arguments;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,this.sendProtocol({method:"Runtime.getProperties",params:{objectId:t,ownProperties:n,generatePreview:!0,accessorPropertiesOnly:!1,nonIndexedPropertiesOnly:!1}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"evaluateOnCallFrameByCallFrameId",value:(p=(0,w.c)(A().mark((function e(t,n){var r,a,o,i;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendProtocol({method:"Debugger.evaluateOnCallFrame",params:{expression:t,callFrameId:n,silent:!0,returnByValue:!1,generatePreview:!1,includeCommandLineAPI:!1,objectGroup:"watch-group"}});case 2:return null!=(o=e.sent)&&null!==(r=o.error)&&void 0!==r&&r.code||null==o||null===(a=o.result)||void 0===a||!a.result||(i={name:t,value:o.result.result,enumerable:!1,configurable:!1},o.result=[i]),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"evaluateOnCallFrame",value:(f=(0,w.c)(A().mark((function e(t){var n,r,a,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.callFrames.length){e.next=2;break}return e.abrupt("return",{error:{code:-1},result:{}});case 2:r=0,a=this.callFrames.length;case 3:if(!(r<a)){e.next=12;break}return e.next=6,this.evaluateOnCallFrameByCallFrameId(t,this.callFrames[r].callFrameId);case 6:if(n=e.sent,"ReferenceError"===(null===(o=n)||void 0===o||null===(o=o.result)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.value.className)){e.next=9;break}return e.abrupt("break",12);case 9:++r,e.next=3;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"handleAfterDebugPaused",value:(d=(0,w.c)(A().mark((function e(t){var n,r,a,o,i,c,u,l,s,d;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.scopeChain,r=[],a=0,o=n.length;case 3:if(!(a<o)){e.next=15;break}if(i=n[a],c={type:"object"===(0,te.c)(i.object)?"object":"string",name:i.type,enumerable:!1,configurable:!1,value:i.object},"local"!==i.type||!i.object.objectId){e.next=11;break}return e.next=9,this.getRuntimeProperties(i.object.objectId);case 9:null!=(s=e.sent)&&null!==(u=s.error)&&void 0!==u&&u.code||null==s||null===(l=s.result)||void 0===l||null===(l=l.result)||void 0===l||!l.length||(c.children=(null==s||null===(d=s.result)||void 0===d?void 0:d.result)||[]);case 11:r.push(c);case 12:a++,e.next=3;break;case 15:this.config.protocolAction({type:ve,payload:{scopes:r}});case 16:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"keepAlive",value:function(){var e,t,n=this;return function r(){e=i()((0,w.c)(A().mark((function e(){var a,o,c,u;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i()((function(){n.handleError(he.timeoutError,!0)}),n.keepAliveTimeOut),e.next=3,n.sendProtocol({method:"Debugger.keepAlive",params:{}},{isBreakError:!0,breakEngine:!0});case 3:o=e.sent,window.clearTimeout(t),null!=o&&null!==(a=o.error)&&void 0!==a&&a.code||((u=2*(null==o||null===(c=o.result)||void 0===c?void 0:c.timeout)/3)&&(n.keepAliveTimeOut=u),r());case 6:case"end":return e.stop()}}),e)}))),n.keepAliveTimeOut)}(),function(){window.clearTimeout(e),window.clearTimeout(t)}}},{key:"hadnleDebugPaused",value:(l=(0,w.c)(A().mark((function e(t,n){var r;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config){e.next=2;break}return e.abrupt("return");case 2:r=null==n?void 0:n[0].location.lineNumber,this.config.protocolAction({type:fe,payload:{callFrames:n,breakpointId:"",lineNumber:void 0!==r?r+1:0}}),this.callFrames=n||[],n[0]&&this.handleAfterDebugPaused(n[0]);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"debugResume",value:(c=(0,w.c)(A().mark((function e(){var t;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.sendProtocol({method:"Debugger.resume",params:{terminateOnResume:!1}},{isBreakError:!0});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"debugStepOver",value:(o=(0,w.c)(A().mark((function e(){var t;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.sendProtocol({method:"Debugger.stepOver",params:{skipList:[]}},{isBreakError:!0});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"debugStepInto",value:(a=(0,w.c)(A().mark((function e(){var t;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.sendProtocol({method:"Debugger.stepInto",params:{skipList:[],breakOnAsyncCall:!0}},{isBreakError:!0});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"debugStepOut",value:(n=(0,w.c)(A().mark((function e(){var t;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.sendProtocol({method:"Debugger.stepOut",params:{}},{isBreakError:!0});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"echoCommand",value:(t=(0,w.c)(A().mark((function e(t){var n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.sendProtocol({method:"Debugger.echoCommand",params:{echo:t}}),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"handleConsoleAPICalled",value:function(e){var t,n;null===(t=this.config)||void 0===t||null===(n=t.protocolAction)||void 0===n||n.call(t,{type:pe,payload:{event:e}})}},{key:"sendProtocolLogToConsole",value:function(e,t){var n,r,a=(new Date).getTime(),o=!!t,i=t&&u()(ge).call(ge,t),c={type:i?"warning":o?"error":"log",executionContextId:a,timestamp:a,args:[{type:"string",value:o?D()(n=D()(r="".concat(i?"Warining":"ERROR",": ")).call(r,e,"(")).call(n,t,")"):e}]};this.handleConsoleAPICalled(c)}},{key:"handleError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!(!e||null==e||!e.code)&&(this.sendProtocolLogToConsole(e.message,e.code),t&&this.debugEnable(!1),!0)}},{key:"handleEvalEnded",value:function(){this.config&&this.config.protocolAction({type:"debug_evalEnded",payload:void 0})}},{key:"reponseHander",value:function(e){var t=e.method,n=e.result,r=void 0===n?{}:n,a=e.cid,o=e.params,i=e.error,c=e.sid,u=a?r:o;if(!this.handleError(i,!1))switch(this.config.showProtocolMethodInConsole&&this.showMethodMessage({sid:c,cid:a,method:t,type:"response"}),t){case"Debugger.prepared":this.debugWaiting();break;case"Runtime.executionContextCreated":this.executionContextCreated(u);break;case"Debugger.scriptParsed":this.scriptParsed((null==u?void 0:u.url)||"");break;case"Debugger.paused":this.hadnleDebugPaused((null==u?void 0:u.hitBreakpoints)||[],(null==u?void 0:u.callFrames)||[]);break;case"Runtime.consoleAPICalled":this.handleConsoleAPICalled(u);break;case"Debugger.evalEnded":this.handleEvalEnded()}}}]),e}(),ke=new ye,Ce=n(92052),_e=n.n(Ce),Ee=n(66689),Ie=function(e){var t=e.shortKey,n=e.callback,r=e.ctrlKey,a=void 0!==r&&r,o=e.altKey,i=void 0!==o&&o,c=e.shiftKey,u=void 0!==c&&c,l=e.preventDefault,s=void 0!==l&&l,f=e.stopPropagation,p=void 0!==f&&f,v=(0,d.useRef)((function(){}));return(0,d.useEffect)((function(){if(t&&n){var e=function(e){var r=a?e.ctrlKey||e.metaKey:!e.ctrlKey&&!e.metaKey,o=i?e.altKey:!e.altKey,c=u?e.shiftKey:!e.shiftKey;t===e.key&&r&&o&&c&&(s&&e.preventDefault(),p&&e.stopPropagation(),n(e))};return document.addEventListener("keydown",e),v.current=function(){document.removeEventListener("keydown",e)},v.current}}),[t,n,a,i,u,s,p]),v.current},xe=n(13192),we={breakEditorModal:"_1o1T6Xp__breakEditorModal",top:"_3esz3RJf_top",delIcon:"_2BQi0LWa_delIcon",check:"Mi7HxO5a_check",condition:"_2dx0jmQX_condition",cinditionTitle:"PHK4tIcn_cinditionTitle",icon:"_9tUMht37_icon",popper:"_2qCApfTc_popper",dropMenu:"_3pumeHox_dropMenu"},Ne=[],Ae=function(e){var t,n,r,o=e.visible,c=e.breakpoint,l=e.children,v=e.onVisibleChange,m=e.onDel,b=e.onEnableChange,h=e.onConditionChange,g=e.modalLocal,y=(0,Ee.c)(),k=y.ActiveBreakpoint,C=y.BreakpointCondition,_=y.ConditionTips,E=(0,d.useRef)(null),I=(0,d.useState)(c.condition),x=(0,a.c)(I,2),w=x[0],N=x[1],A=(0,d.useState)(!1),S=(0,a.c)(A,2),P=S[0],T=S[1],L=(0,d.useState)(D()(t=[]).call(t,Ne)),R=(0,a.c)(L,2),B=R[0],M=R[1],O=(0,d.useCallback)((function(e){var t=e.target.value;N(t),null==h||h(t)}),[h]);(0,d.useEffect)((function(){N(c.condition),o&&i()((function(){var e;null===(e=E.current)||void 0===e||e.focus()}),0)}),[o,c.condition]);var F=(0,d.useCallback)((function(){m(c)}),[m,c]),j=(0,d.useCallback)((function(e){var t=e.target.checked;b(t,c)}),[b,c]),K=(0,d.useCallback)((function(){N("")}),[]),W=(0,d.useCallback)((function(){T((function(e){return!e}))}),[]),z=(0,d.useCallback)((function(e){var t;T(!1),N(B[e]||""),null===(t=E.current)||void 0===t||t.focus()}),[B]),H=(0,d.useMemo)((function(){return f().createElement(p.Dropdown.Menu,{onClick:z},s()(B).call(B,(function(e,t){return f().createElement(p.Dropdown.Item,{key:t+""},e)})))}),[B,z]),U=(0,d.useCallback)((function(e){var t;!e&&T(!1),v(e,w),w&&!u()(Ne).call(Ne,w)&&Ne.push(w),_e()(Ne).call(Ne),M(D()(t=[]).call(t,Ne))}),[v,w]),G=(0,d.useCallback)((function(){o&&U(!1)}),[U,o]);Ie({shortKey:"Enter",callback:G,preventDefault:o,stopPropagation:o});var V={left:null!==(n=null==g?void 0:g.left)&&void 0!==n?n:0,top:null!==(r=null==g?void 0:g.top)&&void 0!==r?r:0},Q=(0,d.useMemo)((function(){return f().createElement("div",{className:we.breakEditorModal},f().createElement("div",{className:we.top},f().createElement("span",null,"Line:",c.lineNumber)),f().createElement("div",{className:we.check},f().createElement(p.Checkbox,{className:we.checkbox,checked:!c.disable,onChange:j},k)),f().createElement("div",{className:we.condition},f().createElement("p",{className:we.cinditionTitle},C),f().createElement(p.Dropdown,{menu:H,visible:P,popperClassName:we.dropMenu},f().createElement(p.Input,{ref:E,placeholder:_,borderType:"bordered",value:w,onChange:O,suffix:f().createElement("div",{className:we.inputSuffix},f().createElement(p.Icon,{prefix:"kdfont",type:"guanbi6",className:we.icon,onClick:K}),f().createElement(p.Icon,{prefix:"kdfont",type:P?"zhankai4":"shouqi7",className:we.icon,onClick:W}))}))))}),[c,F,j,O,P,H,w]),q=(0,d.useMemo)((function(){return{visible:o,arrow:!1,scrollHidden:!1,autoPlacement:!0,placement:"bottomLeft",clickToClose:!0,popperClassName:we.popper,popperStyle:V,onVisibleChange:U}}),[o,U]);return(0,xe.cp)(l,Q,q)};function Se(e,t){var n=O()(e);if(j()){var r=j()(e);t&&(r=W()(r).call(r,(function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n,a,o=null!=arguments[t]?arguments[t]:{};t%2?G()(n=Se(Object(o),!0)).call(n,(function(t){(0,r.c)(e,t,o[t])})):Q()?X()(e,Q()(o)):G()(a=Se(Object(o))).call(a,(function(t){J()(e,t,H()(o,t))}))}return e}var De=function(e){var t=e.breakPoint,n=e.isChoose,o=e.onClick,i=(0,d.useState)(!1),c=(0,a.c)(i,2),u=c[0],l=c[1],s=S.c.useContainer().breakpointAction,v=(0,Ee.c)(),m=v.EditBreakpoint,b=v.DelBreakpoint,h=(0,d.useCallback)((function(){o(t),x.c.selectLine(t.lineNumber)}),[t,o]),g=(0,d.useCallback)((0,w.c)(A().mark((function e(){var n,r;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ke.isPrepared||!t.breakpointId){e.next=6;break}return e.next=3,ke.removeBreakpoint(t);case 3:if(null==(r=e.sent)||null===(n=r.error)||void 0===n||!n.code){e.next=6;break}return e.abrupt("return");case 6:s.delBreakPoint(t.lineNumber);case 7:case"end":return e.stop()}}),e)}))),[t]),y=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(n){var r,a,o,i,c,u,l;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",!ke.isPrepared){e.next=17;break}if(!n){e.next=11;break}return e.next=5,ke.setBreakpointByUrl(t);case 5:if(i=e.sent,null===(a=i.error)||void 0===a||!a.code){e.next=8;break}return e.abrupt("return");case 8:r=(null===(o=i.result)||void 0===o?void 0:o.breakpointId)||"",e.next=17;break;case 11:if(!t.breakpointId){e.next=17;break}return e.next=14,ke.removeBreakpoint(t);case 14:if(null==(u=e.sent)||null===(c=u.error)||void 0===c||!c.code){e.next=17;break}return e.abrupt("return");case 17:l=t.lineNumber,n?s.activeBreakPoint(l,r):s.disableBreakPoint(l);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),k=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(n,r){var a,o,i,c;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return");case 2:if(l(n),r===t.condition){e.next=13;break}if(a="",!ke.isPrepared){e.next=12;break}return e.next=8,ke.updateBreakpoint(Pe(Pe({},t),{},{condition:r}));case 8:if(null==(c=e.sent)||null===(o=c.error)||void 0===o||!o.code){e.next=11;break}return e.abrupt("return");case 11:a=(null==c||null===(i=c.result)||void 0===i?void 0:i.breakpointId)||"";case 12:s.setBreakpointCondition(t.lineNumber,r,a);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),C=(0,d.useCallback)((function(){l(!0),h()}),[h]),_=(0,d.useCallback)((function(e){y(e.target.checked)}),[y]);return f().createElement(Ae,{breakpoint:t,visible:u,onDel:g,onVisibleChange:k,onEnableChange:y},f().createElement("div",{className:ee()(Z.breakPointItem,(0,r.c)({},Z.breackPointActive,n)),onClick:h},f().createElement("div",{className:Z.leftArea,title:t.content},f().createElement(p.Checkbox,{className:Z.checkbox,checked:!t.disable,onChange:_}),f().createElement("span",{className:Z.content},t.content)),f().createElement("div",{className:Z.rightArea},f().createElement(p.Icon,{className:Z.icon,type:"bianjixiugai",prefix:"kdfont",title:m,onClick:C}),f().createElement(p.Icon,{className:Z.icon,type:"guanbi6",prefix:"kdfont",title:b,onClick:g}),f().createElement("span",{className:Z.lineNumber},t.lineNumber))))},Te=n(24900),Le="_36C7s9ZY_breakpoints",Re="_3QFSngwJ_disablePoints",Be="_2cT-HReo_disableConditioPoints",Me="CT1QOVnj_conditionPoints",Oe="_2TR9pBL7_activePoint",Fe="_2Y0Jgge6_modalLocalEle",je=n(69396),Ke=n.n(je);function We(e,t){var n=O()(e);if(j()){var r=j()(e);t&&(r=W()(r).call(r,(function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n,a,o=null!=arguments[t]?arguments[t]:{};t%2?G()(n=We(Object(o),!0)).call(n,(function(t){(0,r.c)(e,t,o[t])})):Q()?X()(e,Q()(o)):G()(a=We(Object(o))).call(a,(function(t){J()(e,t,H()(o,t))}))}return e}var He=[Le,Re,Me,Be],Ue=function(){var e=S.c.useContainer(),t=e.breakPointsStore,n=e.breakpointAction,r=t.breakPoints,o=t.activePointLineNumber,c=(0,d.useRef)(r),l=(0,d.useRef)(r),s=(0,d.useRef)(),p=(0,d.useRef)(0),v=(0,d.useState)(0),m=(0,a.c)(v,2),b=m[0],h=m[1],g=(0,d.useState)(!1),y=(0,a.c)(g,2),k=y[0],C=y[1],_=(0,d.useState)({left:"0px",top:"0px"}),E=(0,a.c)(_,2),I=E[0],N=E[1],P=(0,d.useRef)(0),D=(0,d.useRef)(""),T=(0,d.useRef)([]),L=(0,d.useRef)(),R=(0,d.useRef)(!1),B=(0,d.useMemo)((function(){var e;return(null===(e=W()(r).call(r,(function(e){return e.lineNumber===b})))||void 0===e?void 0:e[0])||{breakpointId:"",lineNumber:0,disable:!1,condition:""}}),[b,r]);(0,d.useEffect)((function(){l.current=r}),[r]);var M=(0,d.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&t?Be:e?Re:t?Me:Le}),[]),O=(0,d.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(x.c.editor){var r=x.c.editor.getLineDecorations(e),a={range:new Te.EH(e,1,e,1),options:{isWholeLine:!1,linesDecorationsClassName:M(t,n)}};if(0===(null==r?void 0:W()(r).call(r,(function(e){return u()(He).call(He,e.options.linesDecorationsClassName)})).length)){var o=x.c.editor.createDecorationsCollection([a]);T.current.push(o)}}}),[]),F=(0,d.useCallback)((function(e){var t;if(x.c.editor&&(null===(t=L.current)||void 0===t||t.clear(),e)){var n={range:new Te.EH(e,1,e,1),options:{isWholeLine:!0,className:Oe}},r=x.c.editor.createDecorationsCollection([n]);L.current=r,x.c.revealLine(e)}}),[]);(0,d.useEffect)((function(){F(o),p.current=o}),[o]);var j=(0,d.useCallback)((function(e){D.current=e}),[]),K=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t){var a,o,i,c,u,l,s,d;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.c.editor){e.next=2;break}return e.abrupt("return");case 2:if(o=null===(a=W()(r).call(r,(function(e){return e.lineNumber===t})))||void 0===a?void 0:a[0]){e.next=16;break}if(i=x.c.getTargetLineContent(t),c={content:i,lineNumber:t,disable:!1,condition:"",breakpointId:""},!ke.isPrepared){e.next=13;break}return e.next=9,ke.setBreakpointByUrl(c);case 9:if(null==(l=e.sent)||null===(u=l.error)||void 0===u||!u.code){e.next=12;break}return e.abrupt("return");case 12:c.breakpointId=(null==l?void 0:l.result.breakpointId)||"";case 13:n.addBreakPoint(c),e.next=23;break;case 16:if(!ke.isPrepared||!o.breakpointId){e.next=22;break}return e.next=19,ke.removeBreakpoint(o);case 19:if(null==(d=e.sent)||null===(s=d.error)||void 0===s||!s.code){e.next=22;break}return e.abrupt("return");case 22:n.delBreakPoint(t);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r]),z=(0,d.useCallback)((function(e){K(e)}),[K]),H=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t,r){var a,o,i,c;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r===t.condition){e.next=10;break}if(a="",!ke.isPrepared){e.next=9;break}return e.next=5,ke.updateBreakpoint(ze(ze({},t),{},{condition:r}));case 5:if(null==(c=e.sent)||null===(o=c.error)||void 0===o||!o.code){e.next=8;break}return e.abrupt("return");case 8:a=(null==c||null===(i=c.result)||void 0===i?void 0:i.breakpointId)||"";case 9:n.setBreakpointCondition(t.lineNumber,r,a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),U=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t,n){var a,o,c,u;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=null===(a=W()(r).call(r,(function(e){return e.lineNumber===t})))||void 0===a?void 0:a[0]){e.next=3;break}return e.abrupt("return");case 3:R.current=!0,(u=b?null===(o=W()(r).call(r,(function(e){return e.lineNumber===b})))||void 0===o?void 0:o[0]:void 0)&&H(u,D.current),N({left:"".concat(n.x+1,"px"),top:"".concat(n.y,"px")}),C(!0),h(t),D.current=c.condition,i()((function(){R.current=!1}),100);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r,b,H]),V=(0,d.useCallback)((function(){x.c.addEditorInsListener((function(e){s.current=e.onMouseDown((function(t){if(t.target.type===Te.O0.MouseTargetType.GUTTER_LINE_NUMBERS){t.event.preventDefault();var n=t.target.position.lineNumber,r={lineNumber:n,column:t.target.range.endColumn};return e.setPosition(r),void(t.event.leftButton?z(n):U(n,{x:t.event.posx,y:t.event.posy}))}}))}))}),[z,U]),Q=(0,d.useCallback)((function(){var e;G()(e=T.current).call(e,(function(e){return e.clear()}))}),[r]),q=(0,d.useCallback)((function(){Q(c.current),G()(r).call(r,(function(e){O(e.lineNumber,e.disable,e.condition)}))}),[r,O,Q]);(0,d.useEffect)((function(){q(),c.current=r}),[r,q]),(0,d.useEffect)((function(){return V(),function(){var e;return null===(e=s.current)||void 0===e?void 0:e.dispose()}}),[V]);var X=(0,d.useCallback)((0,w.c)(A().mark((function e(){var t,r;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ke.isPrepared||!B.breakpointId){e.next=6;break}return e.next=3,ke.removeBreakpoint(B);case 3:if(null==(r=e.sent)||null===(t=r.error)||void 0===t||!t.code){e.next=6;break}return e.abrupt("return");case 6:n.delBreakPoint(B.lineNumber);case 7:case"end":return e.stop()}}),e)}))),[B]),Y=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t){var r,a,o,i,c,u,l;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",!ke.isPrepared){e.next=17;break}if(!t){e.next=11;break}return e.next=5,ke.setBreakpointByUrl(B);case 5:if(i=e.sent,null===(a=i.error)||void 0===a||!a.code){e.next=8;break}return e.abrupt("return");case 8:r=(null===(o=i.result)||void 0===o?void 0:o.breakpointId)||"",e.next=17;break;case 11:if(!B.breakpointId){e.next=17;break}return e.next=14,ke.removeBreakpoint(B);case 14:if(null==(u=e.sent)||null===(c=u.error)||void 0===c||!c.code){e.next=17;break}return e.abrupt("return");case 17:l=B.lineNumber,t?n.activeBreakPoint(l,r):n.disableBreakPoint(l);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[B]),J=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t,n){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t&&!R.current){e.next=2;break}return e.abrupt("return");case 2:return h(0),C(t),e.next=6,H(B,n);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[B,H]);return(0,d.useEffect)((function(){x.c.addEditorInsListener((function(e){var t;P.current=(null===(t=e.getModel())||void 0===t?void 0:t.getLineCount())||0,e.onDidChangeModelContent((function(t){var r,a,o=t.changes[0],i=(null===(r=e.getModel())||void 0===r?void 0:r.getLineCount())||0,c=[],u=o.range,s=u.startLineNumber,d=u.endLineNumber,f=o.text.split("\n");G()(a=l.current).call(a,(function(e){var t=ze({},e);if(t.lineNumber>d)t.lineNumber+=i-P.current,c.push(t);else if(t.lineNumber>=s&&t.lineNumber<=d){void 0!==f[t.lineNumber-s]&&(t.content=x.c.getTargetLineContent(t.lineNumber),c.push(t))}else c.push(t)})),n.updateAllBreakpoints(c),P.current=i}))}))}),[]),Ke().createPortal(f().createElement(Ae,{breakpoint:B,visible:k,onDel:X,modalLocal:I,onVisibleChange:J,onEnableChange:Y,onConditionChange:j},f().createElement("div",{className:Fe,style:I})),document.body)},Ge=function(e,t){var n=(0,d.useState)(0),r=(0,a.c)(n,2),o=r[0],i=r[1],c=S.c.useContainer().breakPointsStore.breakPoints,u=(0,Ee.c)().DebugBreakpoints;(0,d.useEffect)((function(){i((function(e){return L()(c).call(c,(function(t){return t.lineNumber===e}))>-1?e:0}))}),[c]);var l=(0,d.useCallback)((function(e){i(e.lineNumber)}),[]);return f().createElement(f().Fragment,null,f().createElement(p.Collapse,{name:"Collapse",defaultActiveKey:["panel_1"],className:R,expandIcon:f().createElement(p.Icon,{type:"arrow-right",color:"#d9d9d9"})},f().createElement(p.Collapse.Panel,{header:u,panelKey:"panel_1"},c.length>0&&s()(c).call(c,(function(e){var t=e.lineNumber===o;return f().createElement(De,{key:e.lineNumber,isChoose:t,breakPoint:e,onClick:l})})))),f().createElement(Ue,null))},Ve=(n(82320),n(9112),n(21300),n(14248)),Qe={string:Ve.c.string,number:Ve.c.number,boolean:Ve.c.boolean,object:Ve.c.object,undefined:Ve.c.undefined,null:Ve.c.null},qe=function(e){var t,n,r,a;if(null!==(t=e.value)&&void 0!==t&&null!==(t=t.className)&&void 0!==t&&u()(t).call(t,"Error"))return f().createElement("span",null,f().createElement("span",{className:Ve.c.scopeName},e.name,": "),f().createElement("span",{className:Ve.c.error},e.value.description));var o=null!=e&&null!==(n=e.value)&&void 0!==n&&n.type&&Qe[null==e||null===(r=e.value)||void 0===r?void 0:r.type]||Ve.c.type;switch(null==e||null===(a=e.value)||void 0===a?void 0:a.type){case"function":case"object":var i,c,l,s,d="null"===(null==e||null===(i=e.value)||void 0===i?void 0:i.subtype);return f().createElement("span",{title:D()(c="".concat(e.name,": ")).call(c,null==e||null===(l=e.value)||void 0===l?void 0:l.description)},f().createElement("span",{className:Ve.c.scopeName},e.name,": "),f().createElement("span",{className:d?Ve.c.null:o},null==e||null===(s=e.value)||void 0===s?void 0:s.description));default:var p,v,m;return f().createElement("span",{title:D()(p="".concat(e.name,": ")).call(p,null==e||null===(v=e.value)||void 0===v?void 0:v.value)},f().createElement("span",{className:Ve.c.scopeName},e.name,": "),f().createElement("span",{className:o},(null==e||null===(m=e.value)||void 0===m?void 0:m.value)+""))}},Xe=function e(t){var n,r,a,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",c={key:i,objectId:null==t||null===(n=t.value)||void 0===n?void 0:n.objectId,isLeaf:!(t.children||null!=t&&null!==(r=t.value)&&void 0!==r&&r.objectId&&(null===(a=t.value)||void 0===a||null===(a=a.className)||void 0===a||!u()(a).call(a,"Error"))),title:qe(t)};t.children&&(c.children=s()(o=t.children).call(o,(function(t,n){var r;return e(t,D()(r="".concat(i,"-")).call(r,n))})));return c},Ye=function(e){var t=[];return G()(e).call(e,(function(e,n){t.push(Xe(e,n+""))})),t},Je=function(e){var t=e.data,n=e.className,r=e.onLoadObjectData,o=e.defaultExpandedKeys,i=void 0===o?[]:o,c=e.style,u=f().useState(i),l=(0,a.c)(u,2),s=l[0],v=l[1],m=(0,d.useState)([]),b=(0,a.c)(m,2),h=b[0],g=b[1];(0,d.useEffect)((function(){g(Ye(t))}),[t]);var y=(0,d.useCallback)((function(e){var t=e.children,n=e.objectId,a=e.key,o=e.isLeaf;return new(ce())((function(e){if(t||!n||o)return e(void 0);var i=a.split("-");null==r||r(n,i,e)}))}),[r]);return f().createElement("div",{className:ee()(Ve.c.title,n),style:c},f().createElement(p.Tree,{treeData:h,loadData:y,expandedKeys:s,onExpand:function(e){v(e)},virtual:!1}))},Ze=function(){var e=S.c.useContainer(),t=e.scopeStore,n=e.scopeAction,r=e.breakPointsStore.activePointLineNumber,a=t.scopes,o=t.renderKey,i=(0,Ee.c)().DebugScope,c=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t,r,a){var o,i,c;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getRuntimeProperties(t);case 2:null!=(i=e.sent)&&null!==(o=i.error)&&void 0!==o&&o.code||n.pushScopeChildren((null==i||null===(c=i.result)||void 0===c?void 0:c.result)||[],r),a(void 0);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[]);return(0,d.useEffect)((function(){!r&&n.clearScope()}),[r]),f().createElement(p.Collapse,{name:"Collapse",defaultActiveKey:["panel_1"],className:R,expandIcon:f().createElement(p.Icon,{type:"arrow-right",color:"#d9d9d9"})},f().createElement(p.Collapse.Panel,{header:i,panelKey:"panel_1"},f().createElement(Je,{data:a,onLoadObjectData:c,key:o,defaultExpandedKeys:["0"]})))},$e="_1UEhbGle_WatchItem",et="CyaN2PmS_leftArea",tt="b4Qlv4sY_input",nt="_1QRlJ51s_expression",rt="_2M8mphr4_value",at="_28lQgWL__noValue",ot="DdXFrIuN_textArea",it="_2V7XoUlo_rightArea",ct="_3AQK_tbI_icon",ut="_2jTDmx7K_editItem",lt=function(e){var t,n=e.watchItemData,o=e.isAdd,i=e.onBlur,c=(0,d.useState)(o),u=(0,a.c)(c,2),l=u[0],s=u[1],v=S.c.useContainer(),m=v.watchAction,b=v.globalData,h=v.breakPointsStore,g=b.debugStatus,y=b.debugPausedNo,k=h.activePointLineNumber,C=(0,d.useRef)(null),_=(0,d.useMemo)((function(){return"debugging"===g&&!!k}),[g,k]),E=(0,Ee.c)(),I=E.WatchTips,x=E.DelWatchItem,N=(0,d.useCallback)((function(){o||m.delWatch(n.id)}),[n,o]),P=(0,d.useCallback)((function(){l||s(!0)}),[l]),T=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t){var r,a,c;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,null==i||i(a),!o){e.next=4;break}return e.abrupt("return");case 4:if(s(!1),a!==n.expression){e.next=7;break}return e.abrupt("return");case 7:if(m.editWatch(n.id,a),_){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,ke.evaluateOnCallFrame(a);case 12:null!=(c=e.sent)&&null!==(r=c.error)&&void 0!==r&&r.code||null==c||!c.result||m.setWatchValue(n.id,null==c?void 0:c.result);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,o,n,_]),L=(0,d.useCallback)((function(e){var t;"Enter"===e.key&&(null===(t=C.current)||void 0===t||t.blur())}),[]);(0,d.useEffect)((function(){var e;l&&(null===(e=C.current)||void 0===e||e.select())}),[l]);var R=(0,d.useMemo)((function(){return void 0===n.value?"<not available>":n.value}),[n.value]),B=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t,r,a){var o,i,c;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getRuntimeProperties(t);case 2:null!=(i=e.sent)&&null!==(o=i.error)&&void 0!==o&&o.code||m.pushWatchValueChildren(n.id,(null==i||null===(c=i.result)||void 0===c?void 0:c.result)||[],r),a(void 0);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[n.id]),M=(0,d.useMemo)((function(){return void 0!==n.value}),[n.value]);return f().createElement("div",{className:ee()($e,(0,r.c)({},ut,l)),onDoubleClick:P},f().createElement("div",{className:et},l?f().createElement(p.Input,{className:tt,size:"small",autoFocus:!0,defaultValue:n.expression,placeholder:I,onKeyUp:L,onBlur:T,ref:C}):f().createElement(f().Fragment,null,f().createElement("div",{style:{display:M?"none":"flex"},title:D()(t="".concat(n.expression,": ")).call(t,R),className:ot},f().createElement("span",{className:nt},n.expression,":"),f().createElement("span",{className:ee()(rt,at)},"<not available>")),f().createElement(Je,{style:{display:M?"flex":"none"},data:n.value||[],onLoadObjectData:B,key:y}))),f().createElement("div",{className:it},f().createElement(p.Icon,{className:ct,type:"shanchu",prefix:"kdfont",title:x,onClick:N})))},st=0,dt=function(e,t){var n=S.c.useContainer(),r=n.watchData,o=n.watchAction,i=n.globalData,c=n.breakPointsStore.activePointLineNumber,u=(0,d.useState)(!1),l=(0,a.c)(u,2),v=l[0],m=l[1],b=i.debugStatus,h=i.debugPausedNo,g=(0,d.useRef)(r),y=(0,d.useRef)("debugging"===b&&!!c),k=(0,Ee.c)(),C=k.Watch,_=k.WatchAddItem,E=k.DelAllWatchItem;(0,d.useEffect)((function(){g.current=r,y.current="debugging"===b&&!!c}),[r,b,c]),(0,d.useEffect)((function(){!c&&o.clearWatch()}),[c]);var I=(0,d.useCallback)((function(){m(!0)}),[]),x=(0,d.useCallback)((function(){o.delAllWatch()}),[]),N=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t,n){var r,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.current){e.next=5;break}return e.next=3,ke.evaluateOnCallFrame(t);case 3:null!=(a=e.sent)&&null!==(r=a.error)&&void 0!==r&&r.code||null==a||!a.result||o.setWatchValue(n,null==a?void 0:a.result);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),P=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t){var n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!1),t){e.next=3;break}return e.abrupt("return");case 3:st++,n=st+"",o.addWatch(n,t),N(t,n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[N]),D=(0,d.useCallback)((function(){var e;G()(e=g.current).call(e,(function(e){return N(e.expression,e.id)}))}),[N]);return(0,d.useEffect)((function(){0!==h&&D()}),[h,D]),f().createElement(p.Collapse,{name:"Collapse",defaultActiveKey:["panel_1"],className:R,expandIcon:f().createElement(p.Icon,{type:"arrow-right",color:"#d9d9d9"})},f().createElement(p.Collapse.Panel,{header:C,panelKey:"panel_1",extra:f().createElement("div",null,f().createElement(p.Icon,{className:B,type:"tianjia6",prefix:"kdfont",title:_,onClick:I}),f().createElement(p.Icon,{className:B,type:"shanchu",prefix:"kdfont",title:E,onClick:x}))},s()(r).call(r,(function(e){return f().createElement(lt,{key:e.id,watchItemData:e})})),v&&f().createElement(lt,{key:"add",isAdd:!0,watchItemData:{id:"",value:void 0,expression:""},onBlur:P})))},ft="t2S4Qc13_debuggerView",pt="_2JdE6HZm_splitPanel",vt="XiqiOhBg_titleArea",mt="_1FSqQbRL_title",bt="_3288lHyd_startBtn",ht="_3rjTNgiY_btnIcon",gt="_1qOwcVZT_debugging",yt="_1MmjiKqR_loading",kt="_9Z1LTlSW_controller",Ct="_2MEI91N4_visible",_t="_1F1Dw4Dz_btn",Et="_3_pB5aBA_icon",It="_2ryPOkEZ_activeIcon",xt="_1JdUSoqe_disableIcon",wt="_3vjdXgSC_dragBtn",Nt="koE84rdO_disableBtn",At=(window.innerWidth-160)/2,St=function(e){var t=e.visible,n=(0,d.useRef)(null),o=S.c.useContainer(),i=o.breakpointAction,c=o.breakPointsStore.activePointLineNumber,u=(0,Ee.c)(),l=u.DebugResume,v=u.DebugStepOver,m=u.DebugStepInto,b=u.DebugStepOut,h=(0,d.useState)(0),g=(0,a.c)(h,2),y=g[0],k=g[1],C=(0,d.useRef)(!1),_=(0,d.useCallback)((function(e){return function(){c&&t&&(i.setActiveBreakpointNumber(0),e())}}),[i,c]);Ie({shortKey:"F9",preventDefault:t,stopPropagation:t,callback:_((function(){return ke.debugResume()}))}),Ie({shortKey:"F10",preventDefault:t,stopPropagation:t,callback:_((function(){return ke.debugStepOver()}))}),Ie({shortKey:"F11",preventDefault:t,stopPropagation:t,callback:_((function(){return ke.debugStepInto()}))}),Ie({shortKey:"F11",shiftKey:!0,preventDefault:t,stopPropagation:t,callback:_((function(){return ke.debugStepOut()}))});var E=(0,d.useMemo)((function(){return[{icon:"jixuduandian",title:l,action:_((function(){return ke.debugResume()}))},{icon:"zhuguocheng",title:v,action:_((function(){return ke.debugStepOver()}))},{icon:"danbudiaoshi",title:m,action:_((function(){return ke.debugStepInto()}))},{icon:"danbutiaochu",title:b,action:_((function(){return ke.debugStepOut()}))}]}),[_,l,v,m,b]),I=(0,d.useCallback)((function(){C.current=!0}),[]),x=(0,d.useCallback)((function(e){C.current&&(e.preventDefault(),k((function(t){var n=t+e.movementX;return n<-At?-At:n>At?At:n})))}),[]),w=(0,d.useCallback)((function(){C.current=!1}),[]);return(0,d.useEffect)((function(){if(t)return document.addEventListener("mousemove",x),document.addEventListener("mouseup",w),function(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",w)}}),[t]),f().createElement("div",{ref:n,className:ee()(kt,(0,r.c)({},Ct,t)),style:{left:"".concat(At,"px"),transform:"translateX(".concat(y,"px)")}},f().createElement("div",{className:ee()(_t,wt),onMouseDown:I},f().createElement(p.Icon,{className:Et,type:"tuozhuai",prefix:"kdfont"})),s()(E).call(E,(function(e,t){return f().createElement("div",{key:t,className:ee()(_t,(0,r.c)({},Nt,!c)),title:e.title,onClick:e.action},f().createElement(p.Icon,{className:ee()(Et,c?It:xt),type:e.icon,prefix:"kdfont"}))})))},Pt=function(){var e=(0,d.useState)(!1),t=(0,a.c)(e,2),n=t[0],r=t[1],o=S.c.useContainer(),i=o.globalData,c=o.globalAction,u=(0,d.useCallback)((function(){r(!1)}),[]),l=(0,d.useCallback)((function(){r((function(e){return!e}))}),[]);return Ie({shortKey:"`",ctrlKey:!0,callback:l}),f().createElement(p.Drawer,{keyboard:!0,visible:n,onClose:u,title:"Develop Config"},f().createElement("div",{style:{display:"flex",alignItems:"center",height:30}},f().createElement("span",{style:{marginRight:8}},"echoCommand: "),f().createElement(p.Switch,{size:"large",checked:i.showProtocolMethodInConsole,onChange:c.toggleShowInConsole})))},Dt=function(e,t){var n,a=e.onToggleDebugging,o=e.debugStatus,i=e.toggleEnable,c=(0,Ee.c)(),u=c.Debugger,l=c.DebugLoading,s=c.DebugEnd,v=c.DebugBegin,m=(0,d.useCallback)((function(){"loading"!==o&&i&&a("debugging"===o?"none":"loading")}),[a,o,i]),b=(0,d.useMemo)((function(){return"debugging"===o}),[o]),h=(0,d.useMemo)((function(){return"loading"===o}),[o]),g=(0,d.useMemo)((function(){return h?l:b?s:v}),[h,l,s,b,v]);return Ie({preventDefault:!0,shortKey:"F4",callback:function(){"none"===o&&a("loading")}}),Ie({preventDefault:!0,shiftKey:!0,shortKey:"F4",callback:function(){"debugging"===o&&a("none")}}),f().createElement(f().Fragment,null,f().createElement("div",{className:ft},f().createElement("div",{className:vt},f().createElement("span",{className:mt,title:u},u),f().createElement("div",{className:bt,onClick:m,title:D()(n="".concat(g,"(")).call(n,"debugging"===o?"shift+":"","F4)")},f().createElement(p.Icon,{className:ee()(ht,(0,r.c)((0,r.c)({},gt,b),yt,h)),prefix:h?"kdicon":"kdfont",type:h?"loadding":b?"tingzhidiaoshi":"qidongchengxu",spin:h}),f().createElement("span",null,g))),f().createElement(p.SplitPanel,{defaultSplit:.3,canFold:!1,mode:"vertical",className:pt,firstSlot:f().createElement(dt,null),secondSlot:f().createElement(p.SplitPanel,{defaultSplit:.5,mode:"vertical",canFold:!1,className:pt,firstSlot:f().createElement(Ze,null),secondSlot:f().createElement(Ge,null)})})),f().createElement(St,{visible:b}),f().createElement(Pt,null))},Tt=function(e,t){var n=e.scriptPaths,r=e.onBeforeDebug,o=(0,d.useState)(!0),i=(0,a.c)(o,2),c=i[0],u=i[1],l=S.c.useContainer(),s=l.procotolRequest,p=l.breakPointsStore,v=l.breakpointAction,m=l.callFrameAction,b=l.consoleAction,h=l.scopeAction,g=l.globalData,y=l.globalAction,k=l.watchAction,C=g.debugStatus,_=p.breakPoints;(0,d.useEffect)((function(){ke.updateTempBreakPoints(_)}),[_]);var E=(0,d.useCallback)((function(e){y.setDebugStatus(e)}),[]),I=(0,d.useCallback)((function(){E("none"),v.setActiveBreakpointNumber(0),h.clearScope(),k.clearWatch(),x.c.enable()}),[]),N=(0,d.useCallback)(function(){var e=(0,w.c)(A().mark((function e(t){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!1),E("loading"),"loading"!==t){e.next=10;break}return null==r||r(),x.c.disable(),b.clearConsole(),e.next=8,ke.debugPrepare();case 8:e.next=13;break;case 10:return e.next=12,ke.debugDisable();case 12:I();case 13:u(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,I]);(0,d.useImperativeHandle)(t,(function(){return{sendDebugReponse:function(e){ke.reponseHander(e)}}})),(0,d.useEffect)((function(){if("debugging"===C)return ke.keepAlive()}),[C]);var P=(0,d.useCallback)((function(e){switch(e.type){case se:E(e.payload.enable?"debugging":"none"),!e.payload.enable&&I();break;case de:var t=e.payload,n=t.breakpointId,r=t.lineNumber;n&&v.updateBreakpointId(r,n);break;case fe:var a=e.payload,o=a.breakpointId,i=a.lineNumber,c=a.callFrames;v.setActiveBreakpointNumber(i,o),m.updateCallFrames(c),y.debugPaused();break;case pe:b.setConsoleItem(e.payload.event);break;case ve:h.updateScopes(e.payload.scopes)}}),[I]);return(0,d.useEffect)((function(){ke.updateConfig({scriptPaths:n,protocolAction:P,request:s,showProtocolMethodInConsole:g.showProtocolMethodInConsole})}),[s,n,g.showProtocolMethodInConsole]),f().createElement(Dt,{onToggleDebugging:N,debugStatus:C,toggleEnable:c})},Lt=f().forwardRef(Tt),Rt=(n(33768),n(29885),n(13640),function(){var e=(0,d.useRef)(!1);return(0,d.useEffect)((function(){return e.current=!1,function(){e.current=!0}}),[]),e});var Bt=function(e){var t=Rt(),n=(0,d.useState)(e),r=(0,a.c)(n,2),o=r[0],i=r[1];return[o,(0,d.useCallback)((function(e){t.current||i(e)}),[])]},Mt=n(73560),Ot=n.n(Mt),Ft=n(75188),jt=n.n(Ft);var Kt=function(e){var t=(0,d.useRef)(e);return t.current=e,t},Wt=n(14020);function zt(e,t){return e?(0,Wt.m)(e)?e():"current"in e?e.current:e:t}var Ht=n(84520),Ut=n.n(Ht),Gt=function(e){if(!e||!document.getRootNode)return document;var t,n=Ot()(e)?e:[e];return function(e){return Ut()(e).call(e,(function(e){var t=zt(e);return!!t&&(t.getRootNode()instanceof ShadowRoot||void 0)}))}(n)&&(t=zt(n[0]))?t.getRootNode():document},Vt=n(66272),Qt=n.n(Vt),qt=function(e){var t=Kt(e);(0,d.useEffect)((function(){return function(){t.current()}}),[])};function Xt(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Qt()(e[n],t[n]))return!1;return!0}var Yt,Jt=(Yt=d.useEffect,function(e,t,n){var r=(0,d.useRef)(!1),a=(0,d.useRef)([]),o=(0,d.useRef)([]),i=(0,d.useRef)();Yt((function(){var c,u=Ot()(n)?n:[n],l=s()(u).call(u,(function(e){return zt(e)}));if(!r.current)return r.current=!0,a.current=l,o.current=t,void(i.current=e());l.length===a.current.length&&Xt(a.current,l)&&Xt(o.current,t)||(null===(c=i.current)||void 0===c||c.call(i),a.current=l,o.current=t,i.current=e())})),qt((function(){var e;null===(e=i.current)||void 0===e||e.call(i),r.current=!1}))});var Zt="G4ygpKai_baseEditor",$t=function(e){var t=e.tabSize,n=void 0===t?4:t,r=e.readOnly,a=void 0!==r&&r,o=e.fontSize,i=void 0===o?13:o,c=e.onCreateEditor,u=e.value,l=void 0===u?"":u,s=e.className,p=e.style,v=e.lineNumbers,m=e.showMiniMap,b=void 0===m||m,h=e.theme,g=void 0===h?"Dark":h,y=e.canScrollBeyond,k=void 0!==y&&y,C=e.onScroll,_=(0,d.useRef)(null),E=(0,d.useRef)(null);return(0,d.useEffect)((function(){var e;_.current&&(E.current=Te.O0.create(_.current,{tabSize:n,readOnly:a,fontSize:i,fontFamily:'"Cascadia Code", Consolas, Menlo, "Liberation Mono", monospace',theme:"Dark"===g?"custom-dark":"vs",emptySelectionClipboard:!0,automaticLayout:!0,quickSuggestions:!0,lineNumbers:v,minimap:{enabled:b},autoClosingBrackets:"always",model:Te.O0.createModel(l,"typescript"),scrollBeyondLastLine:k,lineHeight:18}),null==c||c(E.current),C&&(null===(e=E.current.getDomNode())||void 0===e||e.addEventListener("wheel",C)))}),[]),(0,d.useEffect)((function(){var e;null===(e=E.current)||void 0===e||e.setValue(l)}),[l]),(0,d.useEffect)((function(){var e;null===(e=E.current)||void 0===e||e.updateOptions({readOnly:a})}),[a]),f().createElement("div",{ref:_,style:p,className:ee()(Zt,s)})},en={codeFragment:"_2VvCqjGo_codeFragment",search:"_3R_66TiA_search",treeIcon:"_1nEIeCXm_treeIcon",treeNode:"_3hl6K4IF_treeNode",icon:"_1t8fYOK6_icon",activeTreeNode:"_1C-2ySDP_activeTreeNode",codeDetailPopper:"fTftj4zS_codeDetailPopper",loading:"A-KMB0xn_loading",codeDetail:"_32h3Npch_codeDetail",codeDetailHeader:"_3PDOjzRZ_codeDetailHeader",codeDetailHeaderTitle:"f6dPRsXz_codeDetailHeaderTitle",codeDetailHeaderIcons:"_24HlA51J_codeDetailHeaderIcons",importCode:"_17lCdxJw_importCode",codeEditor:"_1hyk-gCM_codeEditor",heightLight:"_2hou3Ky2_heightLight"},tn={set:function(e,t){var n=document.createElement("textarea");n.style.position="absoult",n.style.left="-99999px",n.style.top="-99999px",document.body.appendChild(n),n.value=e,n.select(),document.execCommand("copy"),document.body.removeChild(n),null==t||t()}};function nn(e){return e.replace(/\$\{\d+\}/g,"")}var rn=function(e){var t=e.title,n=e.id,r=e.onGetCodeFragment,o=e.fragment,c=e.onShowFragmentKeyChange,u=e.isFragment,l=e.importCode,s=Bt(!1),v=(0,a.c)(s,2),m=v[0],b=v[1],h=Bt(nn(o||"")),g=(0,a.c)(h,2),y=g[0],k=g[1],C=(0,d.useRef)(null),_=(0,Ee.c)().copySucess,E=(0,d.useCallback)((function(e){var t,n=null===(t=x.c.editor)||void 0===t?void 0:t.getContainerDomNode(),r=null==n?void 0:n.querySelector(".active-line-number");n&&r&&(e?(n.classList.add(en.heightLight),n.clientWidth,r.style.width=n.clientWidth+"px"):(n.classList.remove(en.heightLight),r.style.width="36px"))}),[]),I=(0,d.useCallback)((function(){i()((function(){b((function(e){var t=!e;return t&&!o&&(null==r||r(n,(function(e){k(nn(e))}))),c(t?n:""),t}))}),0)}),[n,r]),w=(0,d.useCallback)((function(){b(!1),c("")}),[]),N=(0,d.useCallback)((function(){y&&(x.c.insertHadImportCode(y,!0),w())}),[y]);!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click",r=Kt(e);Jt((function(){var e=function(e){var n=Ot()(t)?t:[t];jt()(n).call(n,(function(t){var n=zt(t);return!n||n.contains(e.target)}))||r.current(e)},a=Gt(t),o=Ot()(n)?n:[n];return G()(o).call(o,(function(t){return a.addEventListener(t,e)})),function(){G()(o).call(o,(function(t){return a.removeEventListener(t,e)}))}}),Ot()(n)?n:[n],t)}((function(){m&&w()}),C);var A=(0,d.useCallback)((function(){y&&tn.set(y,(function(){p.Message.success(_),w()}))}),[y,_]);(0,d.useLayoutEffect)((function(){E(m)}),[m]);var S=(0,d.useMemo)((function(){return f().createElement("div",{ref:C,className:en.codeDetail},void 0!==y?f().createElement("div",null,f().createElement("div",{className:en.codeDetailHeader},f().createElement("p",{className:en.codeDetailHeaderTitle},t),f().createElement("div",{className:en.codeDetailHeaderIcons},f().createElement(p.Icon,{prefix:"kdfont",type:"charu3",className:en.icon,onClick:N}),f().createElement(p.Icon,{prefix:"kdfont",type:"fuzhi8",className:en.icon,onClick:A}))),!!l&&f().createElement("div",{className:en.importCode},l),f().createElement($t,{value:y,className:en.codeEditor,readOnly:!0,showMiniMap:!1,lineNumbers:"off"})):f().createElement("div",{className:en.loading},f().createElement(p.Spin,{spinning:!0,type:"container"})))}),[y]);return f().createElement(p.Tooltip,{tip:S,visible:m,placement:"rightTop",arrow:!1,popperClassName:en.codeDetailPopper},f().createElement("div",{className:en.treeNode,onClick:I},f().createElement(p.Icon,{prefix:"kdfont",type:u?"daimajiedian":"daimabiaoqian",className:en.icon,style:{color:u?"#4ABC28":"#276FF5"}}),f().createElement("span",{className:en.nodeTitle},t)))},an=(0,d.forwardRef)((function(e,t){var n=e.title,r=e.isFragment;return f().createElement("div",{className:en.treeNode,ref:t},f().createElement(p.Icon,{prefix:"kdfont",type:r?"daimajiedian":"daimabiaoqian",className:en.icon,style:{color:r?"#4ABC28":"#276FF5"}}),f().createElement("span",{className:en.nodeTitle},n))})),on=function(e){return f().createElement(an,{title:e.title,isFragment:!1})},cn=function(e){var t=e.isFragment,n=e.title;return t?f().createElement(rn,e):f().createElement(on,{title:n})},un=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return G()(t).call(t,(function(t){var r;1===t.type&&t.importCode&&t.code&&(n[t.importCode]=t.code),null!==(r=t.children)&&void 0!==r&&r.length&&e(t.children,n)})),n},ln=function(e){var t=e.codeFragmentTree,n=e.onGetCodeFragment,r=f().useState(t.length?[t[0].key]:[]),o=(0,a.c)(r,2),i=o[0],c=o[1],l=(0,d.useState)(""),v=(0,a.c)(l,2),m=v[0],b=v[1],h=Bt(""),g=(0,a.c)(h,2),y=g[0],k=g[1],C=(0,d.useRef)({}),_=(0,d.useRef)(un(t)),E=(0,Ee.c)().EnterWhatSearch,I=(0,d.useCallback)((function(e){b(e.target.value)}),[]),x=(0,d.useCallback)((function(e){var t;return u()(t=e.search).call(t,m)}),[m]),w=(0,d.useCallback)((function(e,t){null==n||n(e,(function(n){C.current[e]=n,t(n)}))}),[n]),N=(0,d.useCallback)((function(e){k(e)}),[]),A=(0,d.useCallback)((function(e){return s()(e).call(e,(function(e){return{type:e.type,key:e.key,children:e.children&&e.children.length?A(e.children):void 0,search:e.title,title:f().createElement(cn,{title:e.title,importCode:e.importCode,onShowFragmentKeyChange:N,isFragment:1===e.type,fragment:C.current[e.key],onGetCodeFragment:w,id:e.key})}}))}),[N]),S=(0,d.useMemo)((function(){return A(t)}),[t]),P=(0,d.useCallback)((function(e){return e.key===y?en.activeTreeNode:""}),[y]);(0,d.useEffect)((function(){_.current=un(t);var e=O()(_.current);if(e.length)return Te.C8.registerCompletionItemProvider("typescript",{provideCompletionItems:function(t,n){var r=t.getWordUntilPosition(n),a={startLineNumber:n.lineNumber,startColumn:r.startColumn,endLineNumber:n.lineNumber,endColumn:r.endColumn};return{suggestions:s()(e).call(e,(function(e){return{label:e,kind:Te.C8.CompletionItemKind.Snippet,insertText:_.current[e],detail:_.current[e],insertTextRules:Te.C8.CompletionItemInsertTextRule.InsertAsSnippet,range:a}}))}}}).dispose}),[t]);return f().createElement("div",{className:en.codeFragment},f().createElement("div",{className:en.search},f().createElement(p.Search,{placeholder:E,borderType:"bordered",value:m,onSearch:I,size:"small",prefix:!0})),f().createElement(p.Tree,{treeData:S,filterTreeNode:x,filterValue:m,virtual:!1,showLine:!0,setTreeNodeClassName:P,expandedKeys:i,onExpand:function(e){c(e)},switcherIcon:[f().createElement(p.Icon,{type:"arrow-right",key:"arrow-right",className:en.treeIcon}),f().createElement(p.Icon,{type:"arrow-down",key:"arrow-down",className:en.treeIcon})]}))},sn=n(39296),dn=n.n(sn),fn=n(11528),pn=n(12072),vn=n(10276),mn=n(93620),bn=n(10540),hn=n(64820),gn=function(){var e=(0,Ee.c)(),t=e.AIGenComment,n=e.AIGenCode,r=e.AIExplainCode,a=e.AIOptimizeCode,o=e.AIKnowledgQA,i=e.AIGenCodeTips,c=e.AIGenCommentTips,u=e.AIExplainCodeTips,l=e.AIOptimizeCodeTips,s=e.AIKnowledgQATips;return(0,d.useMemo)((function(){return[{type:fn.AY,title:n,tips:i,bg:pn},{type:fn.c5,title:t,tips:c,bg:vn},{type:fn.yi,title:a,tips:l,bg:mn},{type:fn.aG,title:r,tips:u,bg:bn},{type:fn.CV,title:o,tips:s,bg:hn}]}),[n,r,t,a,o,i,c,u,l,s])},yn="_3AR_Z3gr_aiDefaultView",kn="_2M0TtpY0_logoBox",Cn="_1Fq4D4kP_aiLogo",_n="_3JCz6tw5_welcomeTip",En="_7U809VUy_welcome",In="aGh1xuO6_ability",xn="_2TMRzATi_bg1",wn="tlDq1es__bg2",Nn="_2R9Bci3o_abilityLogo",An="_2a_RoN62_abilitiTextArea",Sn="_1RNHd_YS_abilityTitle",Pn="_28OcNIGK_abilityTips",Dn="_1mHFjdQo_buleGradlent",Tn=n(64636),Ln=n(7188),Rn=["zh_CN","en_US"],Bn=function(e){var t=(0,Ee.c)().AIWelcome,r=Tn.cp.getLocal(),a=e.onSelectAIType,o=gn(),i=(0,d.useMemo)((function(){return t.split("AI")}),[t]),c=(0,d.useMemo)((function(){return r===Ln.c.locale?s()(i).call(i,(function(e,t){return f().createElement(d.Fragment,{key:e},f().createElement("p",{className:En},e),t!==i.length-1?f().createElement("span",null,"AI"):null)})):f().createElement("p",null,t)}),[r,Ln.c.locale,i]),l=(0,d.useMemo)((function(){return u()(Rn).call(Rn,r)?r:Ln.c.locale}));return f().createElement("div",{className:yn},f().createElement("div",{className:kn},f().createElement("img",{className:Cn,src:n(25316)("./cosmic_".concat(l,".png"))})),f().createElement("div",{className:_n},c),s()(o).call(o,(function(e){return f().createElement("div",{className:ee()(In),key:e.type,onClick:function(){return a(e.type)}},f().createElement("div",{className:xn}),f().createElement("div",{className:ee()(wn,Dn)}),f().createElement("img",{className:Nn,src:e.bg}),f().createElement("div",{className:An},f().createElement("p",{className:Sn},e.title),f().createElement("p",{className:Pn},e.tips)))})))},Mn=n(24696),On=(n(90512),n(60960)),Fn=n.n(On),jn=n(13548),Kn=n.n(jn),Wn=n(93344),zn=n.n(Wn),Hn=n(84556),Un=n.n(Hn),Gn=n(37208),Vn=n.n(Gn),Qn={abilitySelector:"_12655eW9_abilitySelector",abilityImg:"_21psU0A-_abilityImg",icon:"_3EpnTaDj_icon",textArea:"_2lFs9Et0_textArea",abilitySelects:"t2iuGsCW_abilitySelects",title:"ko0HDWIh_title",ability:"-XMxHBXP_ability",abilityLogo:"_25fuFcl6_abilityLogo",abilitiTextArea:"_3_weXQGX_abilitiTextArea",abilityTitle:"_3WPcWz1S_abilityTitle",abilityTips:"_1rqZZ-mZ_abilityTips",selected:"e_rMlW0n_selected"};function qn(e,t){var n=void 0!==zn()&&Un()(e)||e["@@iterator"];if(!n){if(Ot()(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return Xn(e,t);var r=Fn()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Kn()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e,t){var n=O()(e);if(j()){var r=j()(e);t&&(r=W()(r).call(r,(function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Jn=function(e,t){var n=e.onSelect,o=e.contentRef,i=(0,d.useState)({}),c=(0,a.c)(i,2),u=c[0],l=c[1],v=(0,d.useState)(!1),m=(0,a.c)(v,2),b=m[0],h=m[1],g=gn(),y=(0,d.useState)(388),k=(0,a.c)(y,2),C=k[0],_=k[1],E=(0,Ee.c)().SelectAbility,I=(0,d.useCallback)((function(e){l(e),n(e.type),h(!1)}),[n]);(0,d.useImperativeHandle)(t,(function(){return{setAIAbility:function(e){var t=Vn()(g).call(g,(function(t){return t.type===e}));l(function(e){for(var t=1;t<arguments.length;t++){var n,a,o=null!=arguments[t]?arguments[t]:{};t%2?G()(n=Yn(Object(o),!0)).call(n,(function(t){(0,r.c)(e,t,o[t])})):Q()?X()(e,Q()(o)):G()(a=Yn(Object(o))).call(a,(function(t){J()(e,t,H()(o,t))}))}return e}({},t))}}})),(0,d.useEffect)((function(){o.current&&new ResizeObserver((function(e){var t,n=qn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.contentRect.width;_(r)}}catch(e){n.e(e)}finally{n.f()}})).observe(o.current)}),[]);var x=(0,d.useMemo)((function(){return f().createElement(f().Fragment,null,f().createElement("p",{className:Qn.title},E),s()(g).call(g,(function(e){return f().createElement("div",{key:e.type,className:ee()(Qn.ability,(0,r.c)({},Qn.selected,"type"in u&&u.type===e.type)),onClick:function(){return I(e)}},f().createElement("img",{className:Qn.abilityLogo,src:e.bg}),f().createElement("div",{className:Qn.abilitiTextArea},f().createElement("p",{className:Qn.abilityTitle},e.title),f().createElement("p",{className:Qn.abilityTips},e.tips)))})))}),[g,u,I]);return f().createElement(p.Tooltip,{tip:x,trigger:"click",visible:b,onVisibleChange:function(e){return h(e)},popperClassName:Qn.abilitySelects,popperStyle:{width:C||388},placement:"topLeft",arrow:!1},f().createElement("div",{className:ee()(Qn.abilitySelector,(0,r.c)({},Qn.active,b))},"type"in u?f().createElement("img",{src:u.bg,className:Qn.abilityImg}):f().createElement(p.Icon,{prefix:"kdfont",type:"bianji8",className:Qn.icon})))},Zn=(0,d.forwardRef)(Jn),$n={AIInput:"_2xiGEkeA_AIInput",header:"_3BoFdDv3_header",stopBtn:"_20jaqBSg_stopBtn",show:"_iuOrTym_show",opacityAnimation:"_1aQtXQMZ_opacityAnimation",newDialogue:"_3Ee5_S18_newDialogue",icon:"_1xUAL2zV_icon",aiTips:"MCUHYUE7_aiTips",sendIcon:"_3i1IP02c_sendIcon",disabled:"_132DT8HZ_disabled",opearIcon:"_12zcQzoU_opearIcon"},er=function(){var e=(0,d.useState)(""),t=(0,a.c)(e,2),n=t[0],r=t[1];return(0,d.useEffect)((function(){x.c.addEditorInsListener((function(e){var t;null===(t=e.onDidChangeCursorSelection)||void 0===t||t.call(e,(function(e){var t=e.selection,n=x.c.getEditorSelectText(t)||"";r(n)}))}))}),[]),n},tr="_1XMkGTyi_AITips",nr="_1MxCOkMj_header",rr="_2hALcwmV_title",ar="_2XbZMOBu_closeIcon",or="_2mR0vJpa_content",ir="_2LaxCNUY_tips",cr="_3VFtA1sZ_abilitys",ur="F3eVmsOl_ability",lr="_1R3HaNbB_abilityIcon",sr=[fn.c5,fn.yi,fn.aG],dr=function(e,t){var n=e.selectText,r=e.isWaitRobotAnswer,o=e.onChooseAbility,i=(0,d.useState)(!0),c=(0,a.c)(i,2),l=c[0],v=c[1],m=(0,Ee.c)(),b=m.AISelectText,h=m.AISelectTextTips,g=gn();(0,d.useEffect)((function(){n&&v(!0)}),[n]);var y=(0,d.useCallback)((function(){v(!1)}),[]);(0,d.useImperativeHandle)(t,(function(){return{closeTips:y}}));var k=(0,d.useCallback)((function(e){o(n,e),y()}),[n,o]);return r||!l?null:f().createElement("div",{className:tr},f().createElement("div",{className:nr},f().createElement("span",{className:rr},b),f().createElement(p.Icon,{prefix:"kdfont",type:"guanbi8",className:ar,onClick:y})),f().createElement("p",{className:or},n),f().createElement("p",{className:ir},h),f().createElement("div",{className:cr},s()(g).call(g,(function(e){return u()(sr).call(sr,e.type)?f().createElement("div",{className:ur,onClick:function(){return k(e.type)},key:e.type},f().createElement("img",{src:e.bg,className:lr}),f().createElement("span",null,e.title)):null}))))},fr=(0,d.forwardRef)(dr),pr=[fn.c5,fn.aG,fn.yi],vr=function(e,t){var n=e.onSend,o=(e.onClickNewDialogue,e.isWaitRobotAnswer),i=e.onStop,c=(0,d.useState)(""),l=(0,a.c)(c,2),s=l[0],v=l[1],m=(0,d.useState)(fn.CV),b=(0,a.c)(m,2),h=b[0],g=b[1],y=(0,d.useRef)(null),k=(0,d.useRef)(null),C=(0,d.useRef)(null),_=(0,d.useRef)(null),E=(0,Ee.c)(),I=E.AITips,x=E.AIInputTips,w=E.AIStop,N=er(),A=(0,d.useMemo)((function(){var e;return!!o||(!(!u()(e=[fn.AY,fn.c5,fn.aG,fn.yi,fn.CV]).call(e,h)||s)||!(!u()(pr).call(pr,h)||s||N))}),[N,h,o,s]),S=(0,d.useCallback)((function(){A||(n(s,h),v(""))}),[s,h,n,A]),P=(0,d.useCallback)((function(e){v(e.target.value)}),[]);return(0,d.useImperativeHandle)(t,(function(){return{setAIAbility:function(e){var t;g(e),null===(t=C.current)||void 0===t||t.setAIAbility(e)},setInputValue:function(e){v(e),k.current&&(k.current.focus(),k.current.setSelectionRange(-1,-1))}}})),f().createElement(f().Fragment,null,N&&f().createElement(fr,{isWaitRobotAnswer:o,selectText:N,ref:_,onChooseAbility:n}),f().createElement("div",{className:$n.AIInput,ref:y},f().createElement("div",{className:$n.header},f().createElement("div",{className:ee()($n.stopBtn,(0,r.c)({},$n.show,o)),onClick:i},w)),f().createElement(p.Input,{value:s,ref:k,onPressEnter:S,onChange:P,className:$n.input,borderType:"none",placeholder:x,maxLength:500,addonBefore:f().createElement(Zn,{onSelect:g,ref:C,contentRef:y}),addonAfter:f().createElement(f().Fragment,null,f().createElement(p.Icon,{prefix:"kdfont",type:"tijiao8",className:$n.opearIcon,onClick:S}))}),f().createElement("p",{className:$n.aiTips},I)))},mr=(0,d.forwardRef)(vr),br=n(44864),hr=n(77204),gr=(n(10068),{chartsView:"_3-WmZ0TJ_chartsView",avatar:"_1tj-zhZ8_avatar",userAvater:"_2Fx4ROY2_userAvater",userAvaterIcon:"_2KGiEIyj_userAvaterIcon",codeView:"_2ElOTDpT_codeView",codeHeader:"_2-KG4lCK_codeHeader",icon:"_1S0lbdWS_icon",tipsView:"_3YGHem3l_tipsView",tips:"N6mNvDYs_tips",loadingChat:"_1PM_53iw_loadingChat",loadingAvatar:"_1rUAHW47_loadingAvatar",loadingBox:"p_8Mrdwm_loadingBox"}),yr=n(69554),kr=n(51472),Cr=function(){return(0,d.useContext)(kr.c).userInfo||{name:"",photo:""}},_r=function(e){var t=e.onEditUserChat,r=e.text,a=e.chatIndex,o=Cr(),i=o.photo,c=o.name,u=(0,d.useMemo)((function(){var e;return s()(e=r.split("\n\n")).call(e,(function(e){return{type:"text",content:e}}))}),[r]),l=(0,d.useCallback)((function(){t(a)}),[a,t]);return f().createElement(yr.cp,{avatar:f().createElement("div",{className:ee()(gr.avatar,gr.userAvater)},f().createElement("img",{className:gr.avatar,src:i||n(79688)}),f().createElement("span",null,c)),data:u,onEditClick:l})},Er=function(){var e=(0,Ee.c)().Cosmic;return f().createElement("div",{className:gr.loadingChat},f().createElement("div",{className:gr.loadingAvatar},f().createElement("img",{src:n(7068)}),f().createElement("span",null,e)),f().createElement("div",{className:gr.loadingBox},f().createElement(p.Spin,{spinning:!0,type:"container"})))},Ir=["text","isLastRobotCard","isWaitRobotAnswer","tips","onSelectTips","isStoped","onEditorScroll","ability"],xr=function(e){var t=e.text,r=e.isLastRobotCard,a=e.isWaitRobotAnswer,o=e.tips,i=e.onSelectTips,c=e.isStoped,u=e.onEditorScroll,l=e.ability,v=(0,hr.c)(e,Ir),m=(0,Ee.c)(),b=m.AICodeTitle,h=m.copySucess,g=m.Cosmic,y=(0,d.useCallback)((function(e){var t=e.children.props,n=t.children;return f().createElement("div",{className:gr.codeView},f().createElement("div",{className:gr.codeHeader},f().createElement("span",{className:gr.title},b),f().createElement("div",{className:gr.iconArea},f().createElement(p.Icon,{prefix:"kdfont",type:"charu3",className:gr.icon,onClick:function(){var e;(e=t.children)&&x.c.insertHadImportCode(e,!0)}}),f().createElement(p.Icon,{prefix:"kdfont",type:"fuzhi8",className:gr.icon,onClick:function(){var e;(e=t.children)&&tn.set(e,(function(){p.Message.success(h)}))}}))),f().createElement($t,{style:{height:18*n.split("\n").length+18},value:n,className:gr.codeEditor,readOnly:!0,showMiniMap:!1,lineNumbers:"off",onScroll:u}))}),[b,u]);return t||!a||c?f().createElement(f().Fragment,null,f().createElement(yr.cp,(0,br.c)({},v,{onCopy:function(){tn.set(t,(function(){p.Message.success(h)}))},chatRole:"robot",showTyping:!1,completed:!0,showToolBar:!c&&!a,isLastRobotCard:r,avatar:f().createElement("div",{className:gr.avatar},f().createElement("img",{src:n(7068)}),f().createElement("span",null,g)),data:[{type:"markdown",content:t}],codeRender:y})),o&&o.length>0&&f().createElement("div",{className:gr.tipsView},s()(o).call(o,(function(e,t){return f().createElement("div",{className:gr.tips,key:t,onClick:function(){return i(e,l)}},e)})))):f().createElement(Er,null)},wr=["chats","onEditUserChat","isWaitRobotAnswer"],Nr=function(e){var t=e.chats,n=e.onEditUserChat,r=e.isWaitRobotAnswer,a=(0,hr.c)(e,wr),o=(0,d.useRef)(null),i=(0,d.useCallback)((function(e){var t;null!==(t=o.current)&&void 0!==t&&t.parentElement&&(o.current.parentElement.scrollTop+=e.deltaY)}),[]),c=(0,d.useCallback)((function(e){return e.replace(/<sup>.*?<\/sup>/g,"")}),[]);return f().createElement("div",{className:gr.chartsView,ref:o},s()(t).call(t,(function(e,o){return"user"===e.chatRole?f().createElement(_r,{key:o,text:e.data,chatIndex:o,onEditUserChat:n}):f().createElement(xr,(0,br.c)({key:o,ability:e.ability,text:c(e.data),isWaitRobotAnswer:r,isStoped:e.isStoped,isLastRobotCard:o===t.length-1,tips:e.tips,onEditorScroll:i},a))})))},Ar="_3s0-sUtj_AIBox",Sr="_1HdEGUNq_bgMasker",Pr="_1XZd7A6M_bgMasker2",Dr="_36J9zlyb_content",Tr="_3WhqmU9M_flexEnd",Lr={header:"_1wucMXbP_header",icon:"_3MML8SnH_icon",cosmic:"_2AvvKCqK_cosmic"},Rr=function(e){var t=e.onClickNewDialog,r=e.onClose,a=e.needLogo,o=(0,Ee.c)(),i=o.AINewConversation,c=o.Close,u=o.Cosmic;return f().createElement("div",{className:Lr.header},f().createElement("div",{className:Lr.leftArea},f().createElement(p.Icon,{prefix:"kdfont",type:"xinduihua",title:i,className:Lr.icon,onClick:t})),a&&f().createElement("div",{className:Lr.cosmic},f().createElement("img",{src:n(7068)}),f().createElement("span",null,u)),f().createElement("div",{className:Lr.rightArea},f().createElement(p.Icon,{prefix:"kdfont",type:"guanbi15",title:c,className:Lr.icon,onClick:r})))},Br=function(e){var t=e.onAIActionSend,n=e.onClose,o=(0,Mn.e)([]),c=(0,a.c)(o,2),l=c[0],s=c[1],p=(0,d.useRef)(null),v=(0,d.useState)(!1),m=(0,a.c)(v,2),b=m[0],h=m[1],g=(0,d.useRef)(null),y=(0,Ee.c)(),k=y.AIGenCommentChatTips,C=y.AIExplainCodeChatTips,_=y.AIOptimizeCodeChatTips,E=(0,d.useMemo)((function(){return(0,r.c)((0,r.c)((0,r.c)({},fn.aG,C),fn.c5,k),fn.yi,_)}),[k,C,_]),I=(0,d.useCallback)((function(e){var t;null===(t=p.current)||void 0===t||t.setAIAbility(e)}),[]),x=(0,d.useCallback)((function(){i()((function(){g.current&&(g.current.scrollTop=g.current.scrollHeight+100)}),0)}),[]),w=(0,d.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];s((function(a){if(!n){var o,i=E[t];a.push({chatRole:"user",data:r&&i?D()(o="".concat(i,"\n\n")).call(o,e):e,ability:t})}a.push({chatRole:"robot",data:"",isStoped:!1,ability:t})})),x(),h(!0)}),[E]),N=(0,d.useCallback)((function(e,t,n){s((function(t){var r=t[t.length-1];r.data+=e,r.tips=n})),x(),t&&h(!1)}),[]),A=(0,d.useCallback)((function(e,n){w(e,n,arguments.length>2&&void 0!==arguments[2]&&arguments[2],!(arguments.length>3&&void 0!==arguments[3])||arguments[3]),t({value:e,ability:n,sendActionResult:N})}),[w,N,t]),S=(0,d.useCallback)((function(){t({ability:fn.U4,value:"",sendActionResult:function(){}}),s((function(e){e[e.length-1].isStoped=!0})),h(!1),x()}),[t]),P=(0,d.useCallback)((function(){b&&S(),s((function(e){le()(e).call(e,0,e.length)}))}),[b,S]),T=(0,d.useCallback)((function(e){for(var t,n=l[e].data,r=dn()(E),a=0,o=r.length;a<o;++a){var i=r[a];if(u()(n).call(n,i)){n=n.replace("".concat(i,"\n\n"),"");break}}null===(t=p.current)||void 0===t||t.setInputValue(n)}),[l]),L=(0,d.useCallback)((function(){s((function(e){var t=e[e.length-2];e.pop();var n=t.data,r=t.ability;i()((function(){A(n,r,!0)}),0)}))}),[A]),R=(0,d.useCallback)((function(e,t){A(e,t,!1,!1)}),[A]);return f().createElement("div",{className:Ar},f().createElement("div",{className:Sr}),f().createElement("div",{className:Pr}),f().createElement(Rr,{onClickNewDialog:P,onClose:n,needLogo:l.length>0}),f().createElement("div",{className:ee()(Dr,(0,r.c)({},Tr,l.length)),ref:g},l.length>0?f().createElement(Nr,{chats:l,isWaitRobotAnswer:b,onEditUserChat:T,onReGenerate:L,onSelectTips:R}):f().createElement(Bn,{onSelectAIType:I})),f().createElement(mr,{ref:p,onSend:A,onClickNewDialogue:P,isWaitRobotAnswer:b,onStop:S}))},Mr=function(e,t){var o=(0,d.useState)(""),c=(0,a.c)(o,2),l=c[0],w=c[1],N=e.scriptPaths,A=e.onMenuActiveChange,S=e.menuList,P=e.onBeforeDebug,D=e.onGetCodeFragment,T=e.codeFragmentTree,L=e.onAIActionSend,R=(0,d.useRef)(),B=(0,Ee.c)(),M=B.DebugMenuName,O=B.FragmentMenuName,F=B.AIMenuName,j=(0,d.useCallback)((function(e){w((function(t){var n=e;return t===e&&(n=""),null==A||A(n),n})),i()((function(){x.c.resize()}),260)}),[]);(0,d.useImperativeHandle)(t,(function(){var e;return{sendDebugReponse:null===(e=R.current)||void 0===e?void 0:e.sendDebugReponse}}));var K=(0,d.useMemo)((function(){return u()(S).call(S,"debug")}),[S]),W=(0,d.useCallback)((function(){K&&j("debug")}),[K,j]);Ie({shortKey:"D",ctrlKey:!0,shiftKey:!0,stopPropagation:K,preventDefault:K,callback:W});var z=(0,d.useMemo)((function(){return{debug:{title:M,icon:"daimadiaoshi",view:f().createElement(Lt,{ref:R,scriptPaths:N,onBeforeDebug:P})},fragment:{title:O,icon:"moniceshi",view:f().createElement(ln,{codeFragmentTree:T,onGetCodeFragment:D})},ai:{title:F,icon:f().createElement("img",{src:n(69684),className:h}),view:f().createElement(Br,{onAIActionSend:L,onClose:function(){return j("")}})}}}),[M,N,O,T,F,L]),H=(0,d.useMemo)((function(){return s()(S).call(S,(function(e){var t=z[e];return t?f().createElement("div",{key:e,className:ee()(b,(0,r.c)({},y,l===e)),onClick:function(){return j(e)},title:t.title},"string"==typeof t.icon?f().createElement(p.Icon,{prefix:"kdfont",type:t.icon,className:g}):t.icon):null}))}),[z,S,j,l]),U=(0,d.useMemo)((function(){return s()(S).call(S,(function(e){var t=z[e];return t?f().createElement("div",{key:e,className:ee()(_,(0,r.c)({},E,l!==e))},t.view):null}))}),[z,S,l]);return S.length?f().createElement("div",{className:ee()(v,(0,r.c)({},k,l))},f().createElement("div",{className:m},H),f().createElement("div",{className:ee()(C,(0,r.c)({},I,l))},U)):null},Or=f().forwardRef(Mr)},51472:function(e,t,n){"use strict";var r=n(95520),a=n(53188),o=(0,r.createContext)(a.c);t.c=o},53188:function(e,t,n){"use strict";var r=n(64636),a={locale:{getLangMsg:r.yG,getCompLangMsg:r.eY}};t.c=a},58572:function(e,t,n){"use strict";n.d(t,{cp:function(){return s}});var r=n(95520),a=n.n(r),o=n(98824),i=n.n(o),c=n(51472),u=n(53188),l=n(64636),s=function(e){var t=e.value,n=t&&t.localeConfig;n&&l.cp.setLocalesData(n.locale,n.localeData);var r={getLangMsg:function(e,t,r){return n&&n.customGetLangMsg?n.customGetLangMsg(e,t,r):(0,l.yG)(e,t,r)},getCompLangMsg:function(e){return(0,l.eY)(e,null==n?void 0:n.customGetLangMsg)},locale:l.cp.getLocal()},o=i()({},u.c,t,{locale:r});return a().createElement(c.c.Provider,{value:o},e.children)}},11528:function(e,t,n){"use strict";n.d(t,{AY:function(){return a},CV:function(){return u},U4:function(){return l},aG:function(){return i},c5:function(){return o},oF:function(){return r},yi:function(){return c}});var r="file:///node_modules/",a="kingscript_code_gen",o="kingscript_comment_gen",i="kingscript_code_explain",c="kingscript_code_optimize",u="kingscript_code_knowledgeQA",l="kingscript_code_stopAIAnswer"},66689:function(e,t,n){"use strict";var r=n(95520),a=n(51472);t.c=function(){return(0,r.useContext)(a.c).locale.getCompLangMsg({componentName:"CodeEditor"})}},64636:function(e,t,n){"use strict";n.d(t,{cp:function(){return V},eY:function(){return G},yG:function(){return U}});var r=n(62400),a=n.n(r),o=n(36512),i=n.n(o),c=n(18428),u=n.n(c),l=n(68416),s=n.n(l),d=n(52184),f=n.n(d),p=n(18583),v=n.n(p),m=n(88084),b=n.n(m),h=n(13548),g=n.n(h),y=n(93344),k=n.n(y),C=n(84556),_=n.n(C),E=n(73560),I=n.n(E),x=n(71736),w=n(74140),N=n(10240),A=n(49684),S=(n(41220),n(76896),n(21300),n(87912),n(33768),n(90512),n(18080),n(13640),n(49208)),P=n.n(S),D=n(60960),T=n.n(D),L=n(77872),R=n.n(L),B=n(95520),M=n.n(B),O=n(7188);function F(e,t){var n=void 0!==k()&&_()(e)||e["@@iterator"];if(!n){if(I()(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return j(e,t);var r=T()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return g()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){var n=a()(e);if(i()){var r=i()(e);t&&(r=u()(r).call(r,(function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n,r,a=null!=arguments[t]?arguments[t]:{};t%2?R()(n=K(Object(a),!0)).call(n,(function(t){(0,A.c)(e,t,a[t])})):f()?v()(e,f()(a)):R()(r=K(Object(a))).call(r,(function(t){b()(e,t,s()(a,t))}))}return e}var z=function(){function e(t,n){(0,w.c)(this,e),(0,A.c)(this,"localesData",void 0),(0,A.c)(this,"locale",void 0),this.locale=n||O.c.locale,this.localesData=t}return(0,N.c)(e,[{key:"setLocalesData",value:function(e,t){if(t||this.localesData[e]){var n=W(W({},O.c),t),r=e||(null==n?void 0:n.locale);return this.locale=r,this.localesData[r]=n,t}console.error("缺少语言".concat(e,"对应的语言包，请检查后重新设置"))}},{key:"getLocalData",value:function(){return this.localesData[this.locale]}},{key:"getLocal",value:function(){return this.locale}},{key:"getLocalesData",value:function(){return this.localesData}}]),e}(),H=new z((0,A.c)({},O.c.locale,O.c)),U=function(e,t,n){var r,a=H.getLocalData();return function(e,t){if("string"==typeof e){var n,r=/{[\w\W]*?}/g,a=function(e){return"object"===(0,x.c)(e)||"function"==typeof e},o=function(e){var t=e.length;return T()(e).call(e,1,t-1)},i=[],c=[],u=F(e.match(r)||[]);try{for(u.s();!(n=u.n()).done;){var l=o(n.value),s=t[l];a(s)?c.push({k:l,v:s}):i.push({k:l,v:s})}}catch(e){u.e(e)}finally{u.f()}e=function(e,t){return R()(t).call(t,(function(t){var n=t.k,r=t.v,a=new RegExp("{"+n+"}","g");e=e.replace(a,r)})),e}(e,i);var d=[];return c.length>0&&(d=function(e,t){var n=function(e){var t,n=[],r={t:0,v:""},a=e.length;return R()(t=e.split("")).call(t,(function(e,t){"{"===e?(n.push(r),r={t:1,v:""}):"}"===e?(n.push(r),r={t:0,v:""}):r.v=r.v+e,t===a-1&&n.push(r)})),n},r=[],a=n(e);return R()(a).call(a,(function(e,n){var a=e.t,o=e.v;0===a&&""!==o?r.push(M().createElement("span",{key:n},o)):1===a&&r.push(M().cloneElement(t[o],{key:n}))})),r}(e,t)),c.length>0?d:e}return e}(a[P()(r="".concat(e,".")).call(r,t)]||a["global.".concat(t)]||"",n)};var G=function(e,t,n){var r=e.componentName,a=e.labels,o=e.labelParams;if(a=a||[],o=o||{},n=n||O.c,!a.length)for(var i in n){var c=i.split(".");r===c[0]&&c[1]&&a.push(c[1])}var u={locale:n.locale};return R()(a).call(a,(function(e){u[e]=t&&"function"==typeof t?t(r,e,o[e]||{}):U(r,e,o[e]||{})})),u},V=H},7188:function(e,t){"use strict";t.c={locale:"zh_CN","CodeEditor.AIPlaceholder":"请输入您的需求，输入“/”可获取提示。","CodeEditor.AIGenCodeTipsTitle":"推荐模板","CodeEditor.AIGenCode":"生成代码","CodeEditor.AIGenCodeTips":"需求解析，智能编码。","CodeEditor.AIGenComment":"生成注释","CodeEditor.AIGenCommentChatTips":"生成以下代码的注释：","CodeEditor.AIGenCommentTips":"逐段注释，易读易懂。","CodeEditor.AIExplainCode":"代码解释","CodeEditor.AIExplainCodeChatTips":"解释以下代码：","CodeEditor.AIExplainCodeTips":"一键解读，快速理解。","CodeEditor.AIOptimizeCode":"代码优化","CodeEditor.AIOptimizeCodeTips":"审查改进，高效排错。","CodeEditor.AIOptimizeCodeChatTips":"优化以下代码：","CodeEditor.AICompletionCode":"代码补全","CodeEditor.AIKnowledgQA":"知识问答","CodeEditor.AIKnowledgQATips":"解答疑惑，深度支持。","CodeEditor.AIConfirm":"接受代码（Press Tab）","CodeEditor.AICancel":"取消（Press Esc）","CodeEditor.copySucess":"复制成功","CodeEditor.modulesLoadingText":"资源加载中","CodeEditor.modulesLoadFinishText":"资源已完成加载","CodeEditor.ActiveBreakpoint":"启用","CodeEditor.BreakpointCondition":"断点条件","CodeEditor.EditBreakpoint":"编辑断点","CodeEditor.DebugBreakpoints":"断点","CodeEditor.DelBreakpoint":"删除断点","CodeEditor.ConditionTips":"在表达式结果为真时中断","CodeEditor.DebugResume":"继续（F9）","CodeEditor.DebugStepOver":"逐过程（F10）","CodeEditor.DebugStepInto":"单步进入（F11）","CodeEditor.DebugStepOut":"单步跳出（shift+F11）","CodeEditor.DebugConsole":"调试控制台","CodeEditor.ClearConsole":"清空控制台","CodeEditor.CloseConsole":"关闭控制台","CodeEditor.Close":"关闭","CodeEditor.Debugger":"运行和调试","CodeEditor.DebugLoading":"加载中...","CodeEditor.DebugEnd":"停止调试","CodeEditor.DebugBegin":"开始调试","CodeEditor.DebugScope":"变量","CodeEditor.WatchTips":"要监视的表达式","CodeEditor.DelWatchItem":"删除表达式","CodeEditor.Watch":"监视","CodeEditor.WatchAddItem":"添加表达式","CodeEditor.DelAllWatchItem":"删除所有表达式","CodeEditor.DebugMenuName":"调试","CodeEditor.FragmentMenuName":"代码片段","CodeEditor.AIMenuName":"AI","CodeEditor.AIWelcome":"你的AI开发助手","CodeEditor.AITips":"AI生成内容可能有误，请结合经验使用。","CodeEditor.AIAbilityTips":"我能协助你更快捷地进行编码开发，你可以尝试以下能力。","CodeEditor.AITry":"你可以试试","CodeEditor.AINewConversation":"新建会话","CodeEditor.AIName":"智能开发助手","CodeEditor.AIAbility":"技能","CodeEditor.AISelectText":"你选择的文本","CodeEditor.AISelectTextTips":"你想用文本做什么？","CodeEditor.AIInputTips":"根据你的问题智能匹配服务","CodeEditor.AICodeTitle":"插件代码","CodeEditor.AIStop":"停止生成","CodeEditor.Cosmic":"苍穹","CodeEditor.SelectAbility":"选择智能体","CodeEditor.EnterWhatSearch":"请输入需要搜索的内容"}},31944:function(e,t,n){"use strict";n.d(t,{c:function(){return ce}});var r=n(68704),a=n(36204),o=n.n(a),i=n(23628),c=n.n(i),u=n(49208),l=n.n(u),s=n(77872),d=n.n(s),f=n(95520),p=n.n(f),v=n(24696),m="debug_breakPoint_add",b="debug_breakPoint_del",h="debug_breakPoint_active",g="debug_breakPoint_disable",y="debug_breakPoint_update_id",k="debug_breakPoint_active_all",C="debug_breakPoint_set_active",_="debug_breakPoint_disable_all",E="debug_breakPoint_set_condition",I="debug_breakPoint_update_all",x="watch_add",w="watch_edit",N="watch_del",A="watch_del_all",S="watch_set_value",P="watch_push_value_children",D="watch_clear",T="debug_global_set_debugstatus",L="debug_global_debug_paused",R="debug_global_toggle_showMethodInConsole",B="callFrame_update_callFrames",M="console_clear",O="console_set_item",F="scope_update_scope",j="scope_push_item_children",K="scope_clear",W=[];var z=function(e){var t=(0,f.useCallback)((function(t,n){e({type:x,payload:{expression:n,id:t}})}),[]),n=(0,f.useCallback)((function(t){e({type:N,payload:{id:t}})}),[]),r=(0,f.useCallback)((function(){e({type:A,payload:void 0})}),[]);return{addWatch:t,delWatch:n,editWatch:(0,f.useCallback)((function(t,n){e({type:w,payload:{expression:n,id:t}})}),[]),clearWatch:(0,f.useCallback)((function(){e({type:D,payload:void 0})}),[]),delAllWatch:r,setWatchValue:(0,f.useCallback)((function(t,n){e({type:S,payload:{value:n,id:t}})}),[]),pushWatchValueChildren:(0,f.useCallback)((function(t,n,r){e({type:P,payload:{scopes:n,id:t,path:r}})}),[])}},H={scopes:[],renderKey:0};var U=function(e){return{updateScopes:(0,f.useCallback)((function(t){e({type:F,payload:{scopes:t}})}),[]),pushScopeChildren:(0,f.useCallback)((function(t,n){e({type:j,payload:{scopes:t,path:n}})}),[]),clearScope:(0,f.useCallback)((function(){e({type:K,payload:void 0})}),[])}},G={debugStatus:"none",debugPausedNo:0,showProtocolMethodInConsole:!1};var V=function(e){return{setDebugStatus:(0,f.useCallback)((function(t){e({type:T,payload:{debugStatus:t}})}),[]),debugPaused:(0,f.useCallback)((function(){e({type:L,payload:void 0})}),[]),toggleShowInConsole:(0,f.useCallback)((function(){e({type:R,payload:void 0})}),[])}},Q={consoleData:[]};var q=function(e){return{setConsoleItem:(0,f.useCallback)((function(t){e({type:O,payload:{consoleEvent:t}})}),[]),clearConsole:(0,f.useCallback)((function(){e({type:M,payload:void 0})}),[])}},X=n(93344),Y=n.n(X)()();var J={callFrames:[]};var Z=function(e){return{updateCallFrames:(0,f.useCallback)((function(t){e({type:B,payload:{callFrames:t}})}),[])}},$=n(92052),ee=n.n($),te=n(18428),ne=n.n(te),re={breakPoints:[],activePointLineNumber:0};var ae=function(e){var t=(0,f.useCallback)((function(t){e({type:m,payload:{breakPoint:t}})}),[]),n=(0,f.useCallback)((function(t){e({type:b,payload:{lineNumber:t}})}),[]),r=(0,f.useCallback)((function(t,n){e({type:h,payload:{lineNumber:t,breakpointId:n}})}),[]),a=(0,f.useCallback)((function(){e({type:k,payload:void 0})}),[]),o=(0,f.useCallback)((function(t){e({type:g,payload:{lineNumber:t}})}),[]),i=(0,f.useCallback)((function(){e({type:_,payload:void 0})}),[]),c=(0,f.useCallback)((function(t,n){e({type:C,payload:{lineNumber:t,breakpointId:n}})}),[]),u=(0,f.useCallback)((function(t,n){e({type:y,payload:{lineNumber:t,breakpointId:n}})}),[]);return{addBreakPoint:t,delBreakPoint:n,activeBreakPoint:r,activeAllBreakPoint:a,disableBreakPoint:o,disableAllBreakPoint:i,setBreakpointCondition:(0,f.useCallback)((function(t,n,r){e({type:E,payload:{lineNumber:t,condition:n,breakpointId:r}})}),[]),updateAllBreakpoints:(0,f.useCallback)((function(t){e({type:I,payload:{breakpoints:t}})}),[]),setActiveBreakpointNumber:c,updateBreakpointId:u}};var oe,ie,ce=(oe=function(e){var t=e.procotolRequest,n=function(){var e=(0,v.E)((function(e,t){var n=function(t){return o()(e).call(e,(function(e){return e.id===t}))};switch(t.type){case x:e.push({expression:t.payload.expression,value:void 0,id:t.payload.id});break;case N:var r=n(t.payload.id);c()(e).call(e,r,1);break;case w:var a=n(t.payload.id);e[a].expression=t.payload.expression,e[a].value=void 0;break;case A:c()(e).call(e,0,e.length);break;case S:var i=n(t.payload.id);e[i].value=t.payload.value;break;case P:var u=t.payload,s=u.scopes,f=u.path,p=u.id,v=e[n(p)];if(!v.value)return;var m,b=v.value[f[0]];if(!b)return void(v.value=l()(m=v.value).call(m,s));for(var h=1,g=f.length;h<g;++h){var y;if(!(b=null===(y=b)||void 0===y?void 0:y.children[f[h]]))return}b.children=s;break;case D:d()(e).call(e,(function(e){e.value=void 0}))}}),W),t=(0,r.c)(e,2),n=t[0],a=t[1];return{watchData:n,watchDispatch:a,watchAction:z(a)}}(),a=n.watchData,i=n.watchDispatch,u=n.watchAction,s=function(){var e=(0,v.E)((function(e,t){switch(t.type){case F:e.scopes=t.payload.scopes,e.renderKey++;break;case j:var n,r=t.payload,a=r.scopes,o=r.path,i=e.scopes[o[0]];if(!i)return void(e.scopes=l()(n=e.scopes).call(n,a));for(var u=1,s=o.length;u<s;++u){var d;if(!(i=null===(d=i)||void 0===d?void 0:d.children[o[u]]))return}i.children=a;break;case K:var f;c()(f=e.scopes).call(f,0,e.scopes.length)}}),H),t=(0,r.c)(e,2),n=t[0],a=t[1];return{scopeStore:n,scopeDispatch:a,scopeAction:U(a)}}(),f=s.scopeStore,p=s.scopeDispatch,X=s.scopeAction,Y=function(){var e=(0,v.E)((function(e,t){switch(t.type){case T:e.debugStatus=t.payload.debugStatus;break;case L:e.debugPausedNo++;break;case R:e.showProtocolMethodInConsole=!e.showProtocolMethodInConsole}}),G),t=(0,r.c)(e,2),n=t[0],a=t[1];return{globalData:n,globalDispatch:a,globalAction:V(a)}}(),$=Y.globalData,te=Y.globalDispatch,oe=Y.globalAction,ie=function(){var e=(0,v.E)((function(e,t){switch(t.type){case O:e.consoleData.push(t.payload.consoleEvent);break;case M:e.consoleData=[]}}),Q),t=(0,r.c)(e,2),n=t[0],a=t[1];return{consoleStore:n,consoleDispatch:a,consoleAction:q(a)}}(),ce=ie.consoleStore,ue=ie.consoleDispatch,le=ie.consoleAction,se=function(){var e=(0,v.E)((function(e,t){t.type===B&&(e.callFrames=t.payload.callFrames)}),J),t=(0,r.c)(e,2),n=t[0],a=t[1];return{callFrameStore:n,callFrameDispatch:a,callFrameAction:Z(a)}}(),de=se.callFrameStore,fe=se.callFrameDispatch,pe=se.callFrameAction,ve=function(){var e=(0,v.E)((function(e,t){var n=function(t){var n;return o()(n=e.breakPoints).call(n,(function(e){return e.lineNumber===t}))};switch(t.type){case m:var r,a=n(t.payload.breakPoint.lineNumber);a>-1?e.breakPoints[a]=t.payload.breakPoint:(e.breakPoints.push(t.payload.breakPoint),e.breakPoints=ee()(r=e.breakPoints).call(r,(function(e,t){return e.lineNumber-t.lineNumber})));break;case b:var i,u=n(t.payload.lineNumber);c()(i=e.breakPoints).call(i,u,1);break;case h:var l=n(t.payload.lineNumber);e.breakPoints[l].disable=!1,e.breakPoints[l].breakpointId=t.payload.breakpointId||"";break;case g:var s=n(t.payload.lineNumber);e.breakPoints[s].disable=!0,e.breakPoints[s].breakpointId="";break;case k:var f;d()(f=e.breakPoints).call(f,(function(e){e.disable=!1}));break;case _:var p;d()(p=e.breakPoints).call(p,(function(e){e.disable=!0}));break;case C:var v=t.payload.lineNumber;if(t.payload.breakpointId){var x,w,N=null===(x=ne()(w=e.breakPoints).call(w,(function(e){return e.breakpointId===t.payload.breakpointId})))||void 0===x?void 0:x[0];N&&(v=N.lineNumber)}e.activePointLineNumber=v;break;case y:var A=n(t.payload.lineNumber);e.breakPoints[A].breakpointId=t.payload.breakpointId;break;case E:var S=n(t.payload.lineNumber);e.breakPoints[S].condition=t.payload.condition,e.breakPoints[S].breakpointId=t.payload.breakpointId;break;case I:e.breakPoints=t.payload.breakpoints}}),re),t=(0,r.c)(e,2),n=t[0],a=t[1];return{breakPointsStore:n,breakPointDispatch:a,breakpointAction:ae(a)}}();return{procotolRequest:t,watchData:a,watchDispatch:i,watchAction:u,scopeStore:f,scopeDispatch:p,scopeAction:X,globalData:$,globalDispatch:te,globalAction:oe,consoleStore:ce,consoleDispatch:ue,consoleAction:le,callFrameStore:de,callFrameDispatch:fe,callFrameAction:pe,breakPointsStore:ve.breakPointsStore,breakPointDispatch:ve.breakPointDispatch,breakpointAction:ve.breakpointAction}},ie=p().createContext(Y),{Provider:function(e){var t=oe(e.value);return p().createElement(ie.Provider,{value:t},e.children)},useContainer:function(){var e=p().useContext(ie);if(e===Y)throw new Error("Component must be wrapped with <Container.Provider>");return e}})},78836:function(e,t,n){"use strict";var r=n(74140),a=n(10240),o=n(49684),i=(n(33768),n(13640),n(77872)),c=n.n(i),u=n(65076),l=n.n(u),s=n(37208),d=n.n(s),f=n(13548),p=n.n(f),v=n(80244),m=n.n(v),b=n(5476),h=n.n(b),g=n(24900),y=n(30072),k=function(){function e(t){(0,r.c)(this,e),(0,o.c)(this,"editor",void 0),(0,o.c)(this,"blurPosition",void 0),(0,o.c)(this,"insListeners",[]),this.editor=t}return(0,a.c)(e,[{key:"addEditorInsListener",value:function(e){this.editor?e(this.editor):this.insListeners.push(e)}},{key:"handleOnBlurEditorText",value:function(e){var t=this;e.onDidBlurEditorText((function(){var n=e.getPosition();n&&(t.blurPosition=n)}))}},{key:"setEditor",value:function(e){var t;this.editor=e,c()(t=this.insListeners).call(t,(function(t){t(e)})),this.handleOnBlurEditorText(this.editor)}},{key:"checkEditor",value:function(){var e=!!this.editor;return!e&&console.warn("code editor is not mount"),e}},{key:"getEditorSelectText",value:function(e){var t,n,r;if(this.editor){var a=e||this.editor.getSelection(),o=a&&(null===(t=this.editor.getModel())||void 0===t||null===(n=t.getValueInRange)||void 0===n?void 0:n.call(t,a))||"";return l()(r=o.replace(/\n/g,"")).call(r)||(o=""),o}}},{key:"focus",value:function(){this.editor&&this.editor.focus()}},{key:"getLinePositionXByLineNumber",value:function(e){var t,n;if(this.editor){var r=document.querySelector(".view-lines"),a=(null==r?void 0:r.children)||[],o=null===(t=d()(n=p()(a)).call(n,(function(t){var n=t.style,r=n.top,a=n.height;return m()(r)===m()(a)*(e-1)})))||void 0===t||null===(t=t.children)||void 0===t?void 0:t[0];if(!o)return 0;var i=o.getBoundingClientRect();return i.width+i.left}}},{key:"getCursorPositionInViewport",value:function(e,t){if(this.editor){var n=e||this.editor.getPosition()||{lineNumber:0,column:0},r=this.editor.getTopForPosition(n.lineNumber,n.column),a=this.getLinePositionXByLineNumber(void 0===t?n.lineNumber:t)||0,o=this.editor.getDomNode();if(o){var i=o.getBoundingClientRect(),c=i.top+r-this.editor.getScrollTop();return{left:i.left+a-this.editor.getScrollLeft(),top:c}}}}},{key:"editEditorText",value:function(e,t){if(this.editor){var n={range:new g.EH(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),text:e};this.editor.executeEdits("source",[n])}}},{key:"clearTargetLineText",value:function(e){var t;if(this.editor){var n=(null===(t=this.editor.getModel())||void 0===t?void 0:t.getLineLength(e))||0;this.editEditorText("",{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:n+1})}}},{key:"clearCurrentLineText",value:function(){if(this.editor){var e=this.getCurrentLine();this.clearTargetLineText(e)}}},{key:"getEndPositionByText",value:function(e,t){var n=t.lineNumber,r=t.column,a=e.split("\n"),o=a.length;return{lineNumber:n+o-1,column:(1===o?r:0)+a[o-1].length}}},{key:"insertHadImportCode",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.editor){var a=null===(t=this.editor)||void 0===t?void 0:t.getModel();if(a){var o=(0,y.Mv)(e),i=o.importStatements,u=o.content;u&&this.insertTextAtBlurPosition(u,r),null==i||c()(i).call(i,(function(e){var t=(0,y.i_)(e);if(t&&n.editor){var r=(0,y.K8)(a,t);r&&n.editor.executeEdits("source",[r])}}))}}}},{key:"insertTextAtBlurPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.editor){var n=e.split("\n"),r=n[n.length-1].length+1;if(this.blurPosition)this.editEditorText(e,{startLineNumber:this.blurPosition.lineNumber,endLineNumber:this.blurPosition.lineNumber,startColumn:this.blurPosition.column,endColumn:this.blurPosition.column}),t&&this.setSelection(this.blurPosition.lineNumber,1,this.blurPosition.lineNumber+n.length-1,r);else{var a=this.editor.getModel();if(!a)return;var o=a.getPositionAt(a.getValueLength());this.editEditorText(e,{startLineNumber:o.lineNumber+1,endLineNumber:o.lineNumber+1,startColumn:1,endColumn:1}),t&&this.setSelection(o.lineNumber+1,1,o.lineNumber+n.length,r)}}}},{key:"insertTextAtPosition",value:function(e){if(this.editor){var t=e.text,n=e.initPosition,r=e.delay,a=void 0===r?0:r,o=e.afterFinish,i=e.step,c=void 0===i?t.length:i,u=0,l=this;a?h()((function(){return s(t.length<=c)}),a):s(t.length<=c)}function s(e){if(l.editor){var r=0===u?n:l.editor.getPosition()||{lineNumber:0,column:0},i=t.substr(u,c);if(l.editEditorText(i,{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:r.lineNumber,endColumn:r.column}),l.editor.revealLineInCenterIfOutsideViewport(r.lineNumber),e){if(o){var d=l.getEndPositionByText(i,r),f=new g.GR(n.lineNumber,n.column,d.lineNumber,d.column);o(f)}}else{h()((function(){return s(u+c>=t.length)}),a);var p=u+c;u=p>=t.length?u+1:p}}}}},{key:"setCursorToSelectionNextLine",value:function(){if(this.editor){var e=this.editor.getSelection(),t=((null==e?void 0:e.endLineNumber)||0)+1,n=new g.JC(t,0);this.editor.setPosition(n)}}},{key:"getCurrentLine",value:function(){if(!this.editor)return 1;var e=this.editor.getPosition();return(null==e?void 0:e.lineNumber)||1}},{key:"getCurrentLineContent",value:function(){if(!this.editor)return"";var e=this.getCurrentLine();return this.getTargetLineContent(e)}},{key:"getTargetLineContent",value:function(e){var t;return this.editor&&(null===(t=this.editor.getModel())||void 0===t?void 0:t.getLineContent(e))||""}},{key:"setSelection",value:function(e,t,n,r){if(this.editor){var a=new g.EH(e,t,n,r);this.editor.setSelection(a)}}},{key:"selectLine",value:function(e){var t,n;if(this.editor){var r=(null===(t=this.editor.getModel())||void 0===t?void 0:t.getLineCount())||0;if(!(e<1||e>r)){var a=(null===(n=this.editor.getModel())||void 0===n?void 0:n.getLineLength(e))||0;this.setSelection(e,1,e,a+1)}}}},{key:"selectCurrentLine",value:function(){var e;if(this.editor){var t=this.getCurrentLine(),n=(null===(e=this.editor.getModel())||void 0===e?void 0:e.getLineLength(t))||0;this.setSelection(t,1,t,n+1)}}},{key:"resize",value:function(){var e,t;this.editor&&(null===(e=this.editor)||void 0===e||null===(t=e.layout)||void 0===t||t.call(e))}},{key:"disable",value:function(){this.editor&&this.editor.updateOptions({readOnly:!0})}},{key:"enable",value:function(){this.editor&&this.editor.updateOptions({readOnly:!1})}},{key:"revealLine",value:function(e){this.editor&&this.editor.revealLineInCenterIfOutsideViewport(e)}}]),e}();t.c=new k(null)},30072:function(e,t,n){"use strict";n.d(t,{K8:function(){return E},Mv:function(){return y},i_:function(){return k}});var r=n(484),a=n(18428),o=n.n(a),i=n(65076),c=n.n(i),u=n(14260),l=n.n(u),s=n(99324),d=n.n(s),f=n(49208),p=n.n(f),v=n(13548),m=n.n(v),b=n(87488),h=n.n(b),g=(n(86456),n(33768),n(18080),n(28640),n(24900)),y=function(e){var t,n,r=/import\s+.*\s+from\s+['"].*['"];?/g,a=e.match(r),i=o()(t=e.split(r)).call(t,(function(e){return""!==c()(e).call(e)}));i.length>0&&(i[i.length-1]=c()(n=i[i.length-1]).call(n));return{importStatements:a,content:null!=i&&i.length?i[i.length-1]:""}},k=function(e){var t=e.match(/^import\s+([\w{},\s]+)\s+from\s+['"]([^'"]+)['"]/);if(t){var n,r,a=c()(n=t[1].split(",")[0]).call(n),o=t[1].match(/\{([^}]*)\}/),i=o?l()(r=o[1].split(",")).call(r,(function(e){return c()(e).call(e)})):[],u=t[2];return{mainImport:d()(a).call(a,"{")?"":a,variables:i,path:u}}return null},C=function(e){var t=e.path,n=e.variables,r=e.mainImport,a=!(!t||!(null!=n&&n.length||r));return a||console.error("path or variables must have one"),a},_=function(e){var t,n=e.variables,r=e.mainImport,a=n?n.join(", "):"";return p()(t="".concat(r?r+" ":"","{ ")).call(t,a," }")},E=function(e,t){var n,a=t.path;if(C(t)){var o="import\\s(.)*\\s+(from)\\s+['\"](".concat(a,")['\"]"),i=e.findMatches(o,!0,!0,!1,null,!1);if(i.length>0){var c=i[0],u=function(e,t){if(!C(t))return"";var n=k(e);if(n){var a,o,i=_({path:n.path,mainImport:n.mainImport||t.mainImport,variables:m()(new(h())(p()(a=[]).call(a,(0,r.c)(n.variables||[]),(0,r.c)(t.variables||[]))))});return p()(o="import ".concat(i," from '")).call(o,n.path,"'")}var c,u,l=_(t);return p()(c="import ".concat(l," from '")).call(c,(null===(u=e.match(/from\s+'([^'"]+)'/))||void 0===u?void 0:u[1])||"","''")}(e.getValueInRange(c.range),t);return{text:u,range:c.range}}return{text:p()(n="import ".concat(_(t)," from '")).call(n,a,"'\n"),range:new g.EH(1,1,1,1)}}}},14020:function(e,t,n){"use strict";n.d(t,{C:function(){return o},m:function(){return i}});var r=n(5476),a=n.n(r);function o(e,t){var n=null;return function(){for(var r=this,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];clearTimeout(n),n=a()((function(){e.apply(r,i)}),t)}}var i=function(e){return"function"==typeof e}},34432:function(e,t){"use strict";t.c={kd_code_editor_container:"JUgZjwXI_kd_code_editor_container",kd_code_editor_box:"_1TkIJc0I_kd_code_editor_box",kd_code_editor_placeholder:"_2fLDZbdS_kd_code_editor_placeholder",scrollbar:"_3Qcz1eac_scrollbar",vertical:"_2Pbp9_a8_vertical",box:"_2SHKaL2p_box"}},14248:function(e,t){"use strict";t.c={title:"n3QT7LRA_title",scopeName:"_2GIcF95B_scopeName",type:"_2wzPLg_g_type",string:"_5S-ntiOt_string",number:"_3oo2k7XX_number",boolean:"_2WLM6ePl_boolean",undefined:"_3KCa_-L3_undefined",null:"_20SdCuZM_null",error:"_1DX9P4VH_error"}},25316:function(e,t,n){var r={"./cosmic_en_US.png":38492,"./cosmic_white.png":69684,"./cosmic_zh_CN.png":37128};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=25316},7068:function(e,t,n){"use strict";e.exports=n.p+"code-editor/images/b67f9ecbb9e5b63eed26.png"},38492:function(e,t,n){"use strict";e.exports=n.p+"code-editor/images/62967080088168badf42.png"},69684:function(e,t,n){"use strict";e.exports=n.p+"code-editor/images/34406126b6dde0b876c4.png"},37128:function(e,t,n){"use strict";e.exports=n.p+"code-editor/images/0dccfbe4c8439ee3597c.png"},79688:function(e,t,n){"use strict";e.exports=n.p+"code-editor/images/26b1fb4b98d80ebcb1f1.png"},10540:function(e,t,n){"use strict";e.exports=n.p+"code-editor/images/bd464c52ed7ae3d7d4ff.png"},12072:function(e,t,n){"use strict";e.exports=n.p+"code-editor/images/1efd99a0e54a4ade3f02.png"},10276:function(e,t,n){"use strict";e.exports=n.p+"code-editor/images/8263d256f7ed555ddf68.png"},64820:function(e,t,n){"use strict";e.exports=n.p+"code-editor/images/a891715201399e74e112.png"},93620:function(e,t,n){"use strict";e.exports=n.p+"code-editor/images/7acdaca19652494c3a48.png"}}]);