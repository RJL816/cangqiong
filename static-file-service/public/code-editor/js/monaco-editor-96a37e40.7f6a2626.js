(self.webpackChunkcode_editor=self.webpackChunkcode_editor||[]).push([[7484],{47300:function(e,t,i){"use strict";i.d(t,{g:function(){return l}});var n,o=i(41852),s=i(2443),r=i(66196),a=i(51392),h=i(71560);const d=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("domLineBreaksComputer",{createHTML:e=>e});class l{static create(){return new l}constructor(){}createLineBreaksComputer(e,t,i,n,l){const m=[],g=[];return{addRequest:(e,t,i)=>{m.push(e),g.push(t)},finalize:()=>function(e,t,i,n,l,m,g){var p;function _(t){const i=g[t];if(i){const n=a.Ow.applyInjectedText(e[t],i),o=i.map((e=>e.options)),s=i.map((e=>e.column-1));return new h.mQ(s,o,[n.length],[],0)}return null}if(-1===n){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=_(i);return t}const f=Math.round(n*t.typicalHalfwidthCharacterWidth),C=3===l?2:2===l?1:0,N=Math.round(i*C),L=Math.ceil(t.spaceWidth*N),b=document.createElement("div");(0,r.K)(b,t);const v=new o.gh(1e4),w=[],D=[],y=[],S=[],x=[];for(let n=0;n<e.length;n++){const o=a.Ow.applyInjectedText(e[n],g[n]);let r=0,h=0,d=f;if(0!==l)if(r=s.cX(o),-1===r)r=0;else{for(let e=0;e<r;e++){h+=9===o.charCodeAt(e)?i-h%i:1}const e=Math.ceil(t.spaceWidth*h);e+t.typicalFullwidthCharacterWidth>f?(r=0,h=0):d=f-e}const u=o.substr(r),m=c(u,h,i,d,v,L);w[n]=r,D[n]=h,y[n]=u,S[n]=m[0],x[n]=m[1]}const A=v.build(),M=null!==(p=null==d?void 0:d.createHTML(A))&&void 0!==p?p:A;b.innerHTML=M,b.style.position="absolute",b.style.top="10000","keepAll"===m?(b.style.wordBreak="keep-all",b.style.overflowWrap="anywhere"):(b.style.wordBreak="inherit",b.style.overflowWrap="break-word");document.body.appendChild(b);const W=document.createRange(),H=Array.prototype.slice.call(b.children,0),R=[];for(let t=0;t<e.length;t++){const e=u(W,H[t],y[t],S[t]);if(null===e){R[t]=_(t);continue}const i=w[t],n=D[t]+N,o=x[t],s=[];for(let t=0,i=e.length;t<i;t++)s[t]=o[e[t]];if(0!==i)for(let t=0,n=e.length;t<n;t++)e[t]+=i;let r,a;const d=g[t];d?(r=d.map((e=>e.options)),a=d.map((e=>e.column-1))):(r=null,a=null),R[t]=new h.mQ(a,r,e,s,n)}return document.body.removeChild(b),R}(m,e,t,i,n,l,g)}}}function c(e,t,i,n,o,r){if(0!==r){const e=String(r);o.appendString('<div style="text-indent: -'),o.appendString(e),o.appendString("px; padding-left: "),o.appendString(e),o.appendString("px; box-sizing: border-box; width:")}else o.appendString('<div style="width:');o.appendString(String(n)),o.appendString('px;">');const a=e.length;let h=t,d=0;const l=[],c=[];let u=0<a?e.charCodeAt(0):0;o.appendString("<span>");for(let t=0;t<a;t++){0!==t&&t%16384==0&&o.appendString("</span><span>"),l[t]=d,c[t]=h;const n=u;u=t+1<a?e.charCodeAt(t+1):0;let r=1,m=1;switch(n){case 9:r=i-h%i,m=r;for(let e=1;e<=r;e++)e<r?o.appendCharCode(160):o.appendASCIICharCode(32);break;case 32:32===u?o.appendCharCode(160):o.appendASCIICharCode(32);break;case 60:o.appendString("&lt;");break;case 62:o.appendString("&gt;");break;case 38:o.appendString("&amp;");break;case 0:o.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.appendCharCode(65533);break;default:s.MJ(n)&&m++,n<32?o.appendCharCode(9216+n):o.appendCharCode(n)}d+=r,h+=m}return o.appendString("</span>"),l[e.length]=d,c[e.length]=h,o.appendString("</div>"),[l,c]}function u(e,t,i,n){if(i.length<=1)return null;const o=Array.prototype.slice.call(t.children,0),s=[];try{m(e,o,n,0,null,i.length-1,null,s)}catch(e){return null}return 0===s.length?null:(s.push(i.length),s)}function m(e,t,i,n,o,s,r,a){if(n===s)return;if(o=o||g(e,t,i[n],i[n+1]),r=r||g(e,t,i[s],i[s+1]),Math.abs(o[0].top-r[0].top)<=.1)return;if(n+1===s)return void a.push(s);const h=n+(s-n)/2|0,d=g(e,t,i[h],i[h+1]);m(e,t,i,n,o,h,d,a),m(e,t,i,h,d,s,r,a)}function g(e,t,i,n){return e.setStart(t[i/16384|0].firstChild,i%16384),e.setEnd(t[n/16384|0].firstChild,n%16384),e.getClientRects()}},64880:function(e,t,i){"use strict";i.d(t,{I:function(){return o}});var n=i(32624);class o extends n.y{}},68936:function(e,t,i){"use strict";i.d(t,{c:function(){return s}});i(68128);var n=i(36184),o=i(2880);class s extends o.W{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(139);this._canUseLayerHinting=!t.get(30),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=(0,n.K)(document.createElement("div")),this._domNode.setClassName(s.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,n.K)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(s.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(139);return this._canUseLayerHinting=!t.get(30),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}s.CLASS_NAME="glyph-margin",s.OUTER_CLASS_NAME="margin"},53976:function(e,t,i){"use strict";i.d(t,{O:function(){return o}});i(36196);var n=i(21160);class o extends n.gb{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let o=0;for(let e=0,s=t.length;e<s;e++){const s=t[e],r=s.options.marginClassName,a=s.options.zIndex;r&&(i[o++]=new n.qB(s.range.startLineNumber,s.range.endLineNumber,r,a))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e),1),o=[];for(let e=t;e<=i;e++){const i=e-t,s=n[i].getLaneDecorations(1);let r="";for(const e of s)r+='<div class="cmdr '+e.className+'" style=""></div>';o[i]=r}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}},3082:function(e,t,i){"use strict";i.d(t,{s:function(){return B}});i(81780);var n=i(69040),o=i(36184),s=i(48892),r=i(39048),a=i(58776),h=i(2443),d=i(50020),l=i(2880),c=i(5872),u=i(90836),m=i(81920),g=i(81656),p=i(60200),_=i(76),f=i(95664),C=i(11340);const N=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();var L=i(16920);class b{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=b.soften(e,.8),this.charDataLight=b.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=(0,L.K)(e[n]*t);return i}renderChar(e,t,i,n,o,s,r,a,h,d,l){const c=1*this.scale,u=2*this.scale,m=l?1:u;if(t+c>e.width||i+m>e.height)return void console.warn("bad render request outside image data");const g=d?this.charDataLight:this.charDataNormal,p=((e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e)(n,h),_=4*e.width,f=r.r,C=r.g,N=r.b,L=o.r-f,b=o.g-C,v=o.b-N,w=Math.max(s,a),D=e.data;let y=p*c*u,S=i*_+4*t;for(let e=0;e<m;e++){let e=S;for(let t=0;t<c;t++){const t=g[y++]/255*(s/255);D[e++]=f+L*t,D[e++]=C+b*t,D[e++]=N+v*t,D[e++]=w}S+=_}}blockRenderChar(e,t,i,n,o,s,r,a){const h=1*this.scale,d=2*this.scale,l=a?1:d;if(t+h>e.width||i+l>e.height)return void console.warn("bad render request outside image data");const c=4*e.width,u=o/255*.5,m=s.r,g=s.g,p=s.b,_=m+(n.r-m)*u,f=g+(n.g-g)*u,C=p+(n.b-p)*u,N=Math.max(o,r),L=e.data;let b=i*c+4*t;for(let e=0;e<l;e++){let e=b;for(let t=0;t<h;t++)L[e++]=_,L[e++]=f,L[e++]=C,L[e++]=N;b+=c}}}var v=i(48117);const w={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},D=e=>{const t=new Uint8ClampedArray(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=w[e[i]]<<4|15&w[e[i+1]];return t},y={1:(0,v.q)((()=>D("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792"))),2:(0,v.q)((()=>D("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")))};class S{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return i=y[e]?new b(y[e](),e):S.createFromSampleData(S.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let n=0;for(const e of N)i.fillText(String.fromCharCode(e),n,8),n+=10;return i.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");const i=S._downsample(e,t);return new b(i,t)}static _downsampleChar(e,t,i,n,o){const s=1*o,r=2*o;let a=n,h=0;for(let n=0;n<r;n++){const o=n/r*16,d=(n+1)/r*16;for(let n=0;n<s;n++){const r=n/s*10,l=(n+1)/s*10;let c=0,u=0;for(let i=o;i<d;i++){const n=t+3840*Math.floor(i),o=1-(i-Math.floor(i));for(let t=r;t<l;t++){const i=1-(t-Math.floor(t)),s=n+4*Math.floor(t),r=i*o;u+=r,c+=e[s]*e[s+3]/255*r}}const m=c/u;h=Math.max(h,m),i[a++]=(0,L.K)(m)}}return h}static _downsample(e,t){const i=2*t*1*t,n=96*i,o=new Uint8ClampedArray(n);let s=0,r=0,a=0;for(let n=0;n<96;n++)a=Math.max(a,this._downsampleChar(e,r,o,s,t)),s+=i,r+=40;if(a>0){const e=255/a;for(let t=0;t<n;t++)o[t]*=e}return o}}var x=i(29608);class A{constructor(e,t,i){const n=e.options,o=n.get(137),s=n.get(139),r=s.minimap,a=n.get(48),h=n.get(70);this.renderMinimap=r.renderMinimap,this.size=h.size,this.minimapHeightIsEditorHeight=r.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(100),this.paddingTop=n.get(81).top,this.paddingBottom=n.get(81).bottom,this.showSlider=h.showSlider,this.autohide=h.autohide,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(64),this.minimapLeft=r.minimapLeft,this.minimapWidth=r.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=r.minimapCanvasInnerWidth,this.canvasInnerHeight=r.minimapCanvasInnerHeight,this.canvasOuterWidth=r.minimapCanvasOuterWidth,this.canvasOuterHeight=r.minimapCanvasOuterHeight,this.isSampling=r.minimapIsSampling,this.editorHeight=s.height,this.fontScale=r.minimapScale,this.minimapLineHeight=r.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,v.q)((()=>S.create(this.fontScale,a.fontFamily))),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=A._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=A._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(_.eiW);return i?new m.U(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(_.Ybx);return t?m.U._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class M{constructor(e,t,i,n,o,s,r,a,h){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=s,this.topPaddingLineCount=r,this.startLineNumber=a,this.endLineNumber=h}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumber,e.endLineNumber);return t>i?null:[t,i]}getYForLineNumber(e,t){return+(e-this.startLineNumber+this.topPaddingLineCount)*t}static create(e,t,i,n,o,s,r,a,h,d,l){const c=e.pixelRatio,u=e.minimapLineHeight,m=Math.floor(e.canvasInnerHeight/u),g=e.lineHeight;if(e.minimapHeightIsEditorHeight){let t=a*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(t+=Math.max(0,o-e.lineHeight-e.paddingBottom));const i=Math.max(1,Math.floor(o*o/t)),n=Math.max(0,e.minimapHeight-i),s=n/(d-o),l=h*s,c=n>0,u=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),m=Math.floor(e.paddingTop/e.lineHeight);return new M(h,d,c,s,l,i,m,1,Math.min(r,u))}let p;if(s&&i!==r){const e=i-t+1;p=Math.floor(e*u/c)}else{const e=o/g;p=Math.floor(e*u/c)}const _=Math.floor(e.paddingTop/g);let f,C=Math.floor(e.paddingBottom/g);if(e.scrollBeyondLastLine){const e=o/g;C=Math.max(C,e-1)}if(C>0){f=(_+r+C-o/g-1)*u/c}else f=Math.max(0,(_+r)*u/c-p);f=Math.min(e.minimapHeight-p,f);const N=f/(d-o),L=h*N;if(m>=_+r+C){return new M(h,d,f>0,N,L,p,_,1,r)}{let i,o;i=t>1?t+_:Math.max(1,h/g);let s=Math.max(1,Math.floor(i-L*c/u));s<_?(o=_-s+1,s=1):(o=0,s=Math.max(1,s-_)),l&&l.scrollHeight===d&&(l.scrollTop>h&&(s=Math.min(s,l.startLineNumber),o=Math.max(o,l.topPaddingLineCount)),l.scrollTop<h&&(s=Math.max(s,l.startLineNumber),o=Math.min(o,l.topPaddingLineCount)));const a=Math.min(r,s-o+m-1),f=(h-n)/g;let C;return C=h>e.paddingTop?(t-s+o+f)*u/c:h/e.paddingTop*(o+f)*u/c,new M(h,d,!0,N,C,p,o,s,a)}}}class W{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}W.INVALID=new W(-1);class H{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new d.Y((()=>W.INVALID)),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let e=0,i=t.length;e<i;e++)if(-1===t[e].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class R{constructor(e,t,i,n){this._backgroundFillData=R._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const n=i.r,o=i.g,s=i.b,r=i.a,a=new Uint8ClampedArray(e*t*4);let h=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)a[h]=n,a[h+1]=o,a[h+2]=s,a[h+3]=r,h+=4;return a}}class T{static compute(e,t,i){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const{minimapLineCount:n}=c.qD.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),o=t/n,s=o/2;if(!i||0===i.minimapLines.length){const e=[];if(e[0]=1,n>1){for(let t=0,i=n-1;t<i;t++)e[t]=Math.round(t*o+s);e[n-1]=t}return[new T(o,e),[]]}const r=i.minimapLines,a=r.length,h=[];let d=0,l=0,u=1;let m=[],g=null;for(let e=0;e<n;e++){const i=Math.max(u,Math.round(e*o)),c=Math.max(i,Math.round((e+1)*o));for(;d<a&&r[d]<i;){if(m.length<10){const e=d+1+l;g&&"deleted"===g.type&&g._oldIndex===d-1?g.deleteToLineNumber++:(g={type:"deleted",_oldIndex:d,deleteFromLineNumber:e,deleteToLineNumber:e},m.push(g)),l--}d++}let p;if(d<a&&r[d]<=c)p=r[d],d++;else if(p=0===e?1:e+1===n?t:Math.round(e*o+s),m.length<10){const t=d+1+l;g&&"inserted"===g.type&&g._i===e-1?g.insertToLineNumber++:(g={type:"inserted",_i:e,insertFromLineNumber:t,insertToLineNumber:t},m.push(g)),l++}h[e]=p,u=p}if(m.length<10)for(;d<a;){const e=d+1+l;g&&"deleted"===g.type&&g._oldIndex===d-1?g.deleteToLineNumber++:(g={type:"deleted",_oldIndex:d,deleteFromLineNumber:e,deleteToLineNumber:e},m.push(g)),l--,d++}else m=[{type:"flush"}];return[new T(o,h),m]}constructor(e,t){this.samplingRatio=e,this.minimapLines=t}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){const n=this.minimapLines[i];if(n<e||n>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class B extends l.W{constructor(e){super(e),this.tokensColorTracker=g.k.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new A(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=T.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new I(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new A(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return!!t&&this._actual.onLinesChanged(t[0],t[1]-t[0]+1)}return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=T.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const e of i)switch(e.type){case"deleted":this._actual.onLinesDeleted(e.deleteFromLineNumber,e.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(e.insertFromLineNumber,e.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const n=[];for(let o=0,s=t-e+1;o<s;o++)i[o]?n[o]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new f.G(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const n=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1];i=new u.E(n,1,o,this._context.viewModel.getLineMaxColumn(o))}else i=new u.E(e,1,t,this._context.viewModel.getLineMaxColumn(t));const n=this._context.viewModel.getMinimapDecorationsInRange(i);if(this._samplingState){const e=[];for(const t of n){if(!t.options.minimap)continue;const i=t.range,n=this._samplingState.modelLineToMinimapLine(i.startLineNumber),o=this._samplingState.modelLineToMinimapLine(i.endLineNumber);e.push(new p.cT(new u.E(n,i.startColumn,o,i.endColumn),t.options))}return e}return n}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new u.E(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class I extends r.CC{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(_.I4f),this._domNode=(0,o.K)(document.createElement("div")),l.y.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,o.K)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,o.K)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,o.K)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,o.K)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,o.K)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=n.IB(this._domNode.domNode,n.Wi.POINTER_DOWN,(e=>{e.preventDefault();if(0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(0===e.button&&this._lastRenderData){const t=n.HT(this._slider.domNode),i=t.top+t.height/2;this._startSliderDragging(e,i,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,i=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.offsetY;let o=Math.floor(i/t)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;o=Math.min(o,this._model.getLineCount()),this._model.revealLineNumber(o)})),this._sliderPointerMoveMonitor=new s.k,this._sliderPointerDownListener=n.IB(this._slider.domNode,n.Wi.POINTER_DOWN,(e=>{e.preventDefault(),e.stopPropagation(),0===e.button&&this._lastRenderData&&this._startSliderDragging(e,e.pageY,this._lastRenderData.renderedLayout)})),this._gestureDisposable=C.K.addTarget(this._domNode.domNode),this._sliderTouchStartListener=n.Wq(this._domNode.domNode,C.W.Start,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))}),{passive:!1}),this._sliderTouchMoveListener=n.Wq(this._domNode.domNode,C.W.Change,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)}),{passive:!1}),this._sliderTouchEndListener=n.IB(this._domNode.domNode,C.W.End,(e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)}))}_startSliderDragging(e,t,i){if(!(e.target&&e.target instanceof Element))return;const o=e.pageX;this._slider.toggleClassName("active",!0);const s=(e,s)=>{const r=n.HT(this._domNode.domNode),h=Math.min(Math.abs(s-o),Math.abs(s-r.left),Math.abs(s-r.left-r.width));if(a.Yf&&h>140)return void this._model.setScrollTop(i.scrollTop);const d=e-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(d))};e.pageY!==t&&s(e.pageY,o),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>s(e.pageY,e.pageX)),(()=>{this._slider.toggleClassName("active",!1)}))}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return"always"===this._model.options.showSlider?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new R(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){var i;return null===(i=this._lastRenderData)||void 0===i||i.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var i;return null===(i=this._lastRenderData)||void 0===i||i.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(_.I4f),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=M.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(u.E.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort(((e,t)=>(e.options.zIndex||0)-(t.options.zIndex||0)));const{canvasInnerWidth:n,canvasInnerHeight:o}=this._model.options,s=this._model.options.minimapLineHeight,r=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,h=this._decorationsCanvas.domNode.getContext("2d");h.clearRect(0,0,n,o);const d=new E(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(h,t,d,e,s),this._renderDecorationsLineHighlights(h,i,d,e,s);const l=new E(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(h,t,l,e,s,a,r,n),this._renderDecorationsHighlights(h,i,l,e,s,a,r,n)}}_renderSelectionLineHighlights(e,t,i,n,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let s=0,r=0;for(const a of t){const t=n.intersectWithViewport(a);if(!t)continue;const[h,d]=t;for(let e=h;e<=d;e++)i.set(e,!0);const l=n.getYForLineNumber(h,o),u=n.getYForLineNumber(d,o);r>=l||(r>s&&e.fillRect(c.mk,s,e.canvas.width,r-s),s=l),r=u}r>s&&e.fillRect(c.mk,s,e.canvas.width,r-s)}_renderDecorationsLineHighlights(e,t,i,n,o){const s=new Map;for(let r=t.length-1;r>=0;r--){const a=t[r],h=a.options.minimap;if(!h||h.position!==x.Xx.Inline)continue;const d=n.intersectWithViewport(a.range);if(!d)continue;const[l,u]=d,m=h.getColor(this._theme.value);if(!m||m.isTransparent())continue;let g=s.get(m.toString());g||(g=m.transparent(.5).toString(),s.set(m.toString(),g)),e.fillStyle=g;for(let t=l;t<=u;t++){if(i.has(t))continue;i.set(t,!0);const s=n.getYForLineNumber(l,o);e.fillRect(c.mk,s,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,i,n,o,s,r,a){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const h of t){const t=n.intersectWithViewport(h);if(!t)continue;const[d,l]=t;for(let t=d;t<=l;t++)this.renderDecorationOnLine(e,i,h,this._selectionColor,n,t,o,o,s,r,a)}}_renderDecorationsHighlights(e,t,i,n,o,s,r,a){for(const h of t){const t=h.options.minimap;if(!t)continue;const d=n.intersectWithViewport(h.range);if(!d)continue;const[l,c]=d,u=t.getColor(this._theme.value);if(u&&!u.isTransparent())for(let d=l;d<=c;d++)switch(t.position){case x.Xx.Inline:this.renderDecorationOnLine(e,i,h.range,u,n,d,o,o,s,r,a);continue;case x.Xx.Gutter:{const t=n.getYForLineNumber(d,o),i=2;this.renderDecoration(e,u,i,t,2,o);continue}}}}renderDecorationOnLine(e,t,i,n,o,s,r,a,h,d,l){const c=o.getYForLineNumber(s,a);if(c+r<0||c>this._model.options.canvasInnerHeight)return;const{startLineNumber:u,endLineNumber:m}=i,g=u===s?i.startColumn:1,p=m===s?i.endColumn:this._model.getLineMaxColumn(s),_=this.getXOffsetForPosition(t,s,g,h,d,l),f=this.getXOffsetForPosition(t,s,p,h,d,l);this.renderDecoration(e,n,_,c,f-_,r)}getXOffsetForPosition(e,t,i,n,o,s){if(1===i)return c.mk;if((i-1)*o>=s)return s;let r=e.get(t);if(!r){const i=this._model.getLineContent(t);r=[c.mk];let a=c.mk;for(let e=1;e<i.length+1;e++){const t=i.charCodeAt(e-1),d=a+(9===t?n*o:h.MJ(t)?2*o:o);if(d>=s){r[e]=s;break}r[e]=d,a=d}e.set(t,r)}return i-1<r.length?r[i-1]:s}renderDecoration(e,t,i,n,o,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,s)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new H(e,t.imageData,t.lines)}const o=this._getBuffer();if(!o)return null;const[s,r,a]=I._renderUntouchedLines(o,e.topPaddingLineCount,t,i,n,this._lastRenderData),h=this._model.getMinimapLinesRenderingData(t,i,a),d=this._model.getOptions().tabSize,l=this._model.options.defaultBackgroundColor,c=this._model.options.backgroundColor,u=this._model.options.foregroundAlpha,g=this._model.tokensColorTracker,p=g.backgroundIsLight(),_=this._model.options.renderMinimap,f=this._model.options.charRenderer(),C=this._model.options.fontScale,N=this._model.options.minimapCharWidth,L=(1===_?2:3)*C,b=n>L?Math.floor((n-L)/2):0,v=c.a/255,w=new m.U(Math.round((c.r-l.r)*v+l.r),Math.round((c.g-l.g)*v+l.g),Math.round((c.b-l.b)*v+l.b),255);let D=e.topPaddingLineCount*n;const y=[];for(let e=0,s=i-t+1;e<s;e++)a[e]&&I._renderLine(o,w,c.a,p,_,N,g,u,f,D,b,d,h[e],C,n),y[e]=new W(D),D+=n;const S=-1===s?0:s,x=(-1===r?o.height:r)-S;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,S,o.width,x),new H(e,o,y)}static _renderUntouchedLines(e,t,i,n,o,s){const r=[];if(!s){for(let e=0,t=n-i+1;e<t;e++)r[e]=!0;return[-1,-1,r]}const a=s._get(),h=a.imageData.data,d=a.rendLineNumberStart,l=a.lines,c=l.length,u=e.width,m=e.data,g=(n-i+1)*o*u*4;let p=-1,_=-1,f=-1,C=-1,N=-1,L=-1,b=t*o;for(let e=i;e<=n;e++){const t=e-i,n=e-d,s=n>=0&&n<c?l[n].dy:-1;if(-1===s){r[t]=!0,b+=o;continue}const a=s*u*4,v=(s+o)*u*4,w=b*u*4,D=(b+o)*u*4;C===a&&L===w?(C=v,L=D):(-1!==f&&(m.set(h.subarray(f,C),N),-1===p&&0===f&&f===N&&(p=C),-1===_&&C===g&&f===N&&(_=f)),f=a,C=v,N=w,L=D),r[t]=!1,b+=o}-1!==f&&(m.set(h.subarray(f,C),N),-1===p&&0===f&&f===N&&(p=C),-1===_&&C===g&&f===N&&(_=f));return[-1===p?-1:p/(4*u),-1===_?-1:_/(4*u),r]}static _renderLine(e,t,i,n,o,s,r,a,d,l,u,m,g,p,_){const f=g.content,C=g.tokens,N=e.width-s,L=1===_;let b=c.mk,v=0,w=0;for(let c=0,g=C.getCount();c<g;c++){const g=C.getEndOffset(c),_=C.getForeground(c),D=r.getColor(_);for(;v<g;v++){if(b>N)return;const r=f.charCodeAt(v);if(9===r){const e=m-(v+w)%m;w+=e-1,b+=e*s}else if(32===r)b+=s;else{const c=h.MJ(r)?2:1;for(let h=0;h<c;h++)if(2===o?d.blockRenderChar(e,b,l+u,D,a,t,i,L):d.renderChar(e,b,l+u,r,D,a,t,i,p,n,L),b+=s,b>N)return}}}}}class E{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let e=0,t=this._endLineNumber-this._startLineNumber+1;e<t;e++)this._values[e]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}},92468:function(e,t,i){"use strict";i.d(t,{o:function(){return s}});i(22756);var n=i(36184),o=i(2880);class s extends o.W{constructor(e){super(e);const t=this._context.configuration.options.get(139);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=(0,n.K)(document.createElement("div")),o.y.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(139);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=(0,n.K)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.setTop("")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];this._renderWidget(this._widgets[i])}}}},82448:function(e,t,i){"use strict";i.d(t,{A:function(){return c}});var n=i(36184),o=i(54752),s=i(2880),r=i(4400),a=i(62688),h=i(18252),d=i(60200);class l{constructor(e,t){const i=e.options;this.lineHeight=i.get(64),this.pixelRatio=i.get(137),this.overviewRulerLanes=i.get(80),this.renderBorder=i.get(79);const n=t.getColor(h.g$);this.borderColor=n?n.toString():null,this.hideCursor=i.get(57);const o=t.getColor(h.sV);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const s=i.get(70),r=s.enabled,d=s.side,l=t.getColor(h.cp),c=a.UD.getDefaultBackground();this.backgroundColor=l||(r&&"right"===d?c:null);const u=i.get(139).overviewRuler;this.top=u.top,this.right=u.right,this.domWidth=u.width,this.domHeight=u.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[m,g]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=m,this.w=g}_initLanes(e,t,i){const n=t-e;if(i>=3){const t=Math.floor(n/3),i=Math.floor(n/3),o=n-t-i,s=e+t;return[[0,e,s,e,e+t+o,e,s,e],[0,t,o,t+o,i,t+o+i,o+i,t+o+i]]}if(2===i){const t=Math.floor(n/2),i=n-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,i,t+i,t+i,t+i]]}return[[0,e,e,e,e,e,e,e],[0,n,n,n,n,n,n,n]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&o.gC.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class c extends s.W{constructor(e){super(e),this._domNode=(0,n.K)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=a.UD.onDidChange((e=>{e.changedColorMap&&this._updateSettings(!0)})),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new l(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(r.J.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){const e=this._settings.backgroundColor;if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(e?o.gC.Format.CSS.formatHexA(e):""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const t=this._settings.canvasWidth,i=this._settings.canvasHeight,n=this._settings.lineHeight,s=this._context.viewLayout,r=i/this._context.viewLayout.getScrollHeight(),a=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),h=6*this._settings.pixelRatio|0,l=h/2|0,c=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(c.fillStyle=o.gC.Format.CSS.formatHexA(e),c.fillRect(0,0,t,i)):(c.clearRect(0,0,t,i),c.fillStyle=o.gC.Format.CSS.formatHexA(e),c.fillRect(0,0,t,i)):c.clearRect(0,0,t,i);const u=this._settings.x,m=this._settings.w;a.sort(d.iy.cmp);for(const e of a){const t=e.color,o=e.data;c.fillStyle=t;let a=0,d=0,g=0;for(let e=0,t=o.length/3;e<t;e++){const t=o[3*e],p=o[3*e+1],_=o[3*e+2];let f=s.getVerticalOffsetForLineNumber(p)*r|0,C=(s.getVerticalOffsetForLineNumber(_)+n)*r|0;if(C-f<h){let e=(f+C)/2|0;e<l?e=l:e+l>i&&(e=i-l),f=e-l,C=e+l}f>g+1||t!==a?(0!==e&&c.fillRect(u[a],d,m[a],g-d),a=t,d=f,g=C):C>g&&(g=C)}c.fillRect(u[a],d,m[a],g-d)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,t=e/2|0,n=this._settings.x[7],o=this._settings.w[7];c.fillStyle=this._settings.cursorColor;let a=-100,h=-100;for(let d=0,l=this._cursorPositions.length;d<l;d++){const l=this._cursorPositions[d];let u=s.getVerticalOffsetForLineNumber(l.lineNumber)*r|0;u<t?u=t:u+t>i&&(u=i-t);const m=u-t,g=m+e;m>h+1?(0!==d&&c.fillRect(n,a,o,h-a),a=m,h=g):g>h&&(h=g)}c.fillRect(n,a,o,h-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(c.beginPath(),c.lineWidth=1,c.strokeStyle=this._settings.borderColor,c.moveTo(0,0),c.lineTo(0,i),c.stroke(),c.moveTo(0,0),c.lineTo(t,0),c.stroke())}}},81260:function(e,t,i){"use strict";i.d(t,{O:function(){return r}});var n=i(36184),o=i(94656),s=i(32624);class r extends s.y{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=(0,n.K)(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new o.HK((e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e))),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(64)),this._zoneManager.setPixelRatio(i.get(137)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(64)&&(this._zoneManager.setLineHeight(t.get(64)),this._render()),e.hasChanged(137)&&(this._zoneManager.setPixelRatio(t.get(137)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,s=0,r=0;for(const a of t){const t=a.colorId,h=a.from,d=a.to;t!==o?(e.fillRect(0,s,n,r-s),o=t,e.fillStyle=i[o],s=h,r=d):r>=h?r=Math.max(r,d):(e.fillRect(0,s,n,r-s),s=h,r=d)}e.fillRect(0,s,n,r-s)}}},85844:function(e,t,i){"use strict";i.d(t,{A:function(){return s}});i(19268);var n=i(36184),o=i(2880);class s extends o.W{constructor(e){super(e),this.domNode=(0,n.K)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(97),this._typicalHalfwidthCharacterWidth=t.get(48).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(97),this._typicalHalfwidthCharacterWidth=t.get(48).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:i}=this._context.viewModel.model.getOptions(),o=i;let s=t-e;for(;s>0;){const e=(0,n.K)(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(o),this.domNode.appendChild(e),this._renderedRulers.push(e),s--}return}let i=e-t;for(;i>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const i=this._renderedRulers[t],n=this._rulers[t];i.setBoxShadow(n.color?`1px 0 0 0 ${n.color} inset`:""),i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}},4184:function(e,t,i){"use strict";i.d(t,{i:function(){return s}});i(51928);var n=i(36184),o=i(2880);class s extends o.W{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(98);this._useShadows=t.useShadows,this._domNode=(0,n.K)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(139);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(98);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}},48068:function(e,t,i){"use strict";i.d(t,{W:function(){return l}});i(26184);var n=i(64880),o=i(76),s=i(68992);class r{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class a{constructor(e,t){this.lineNumber=e,this.ranges=t}}function h(e){return new r(e)}function d(e){return new a(e.lineNumber,e.ranges.map(h))}class l extends n.I{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(64),this._roundedSelection=t.get(96),this._typicalHalfwidthCharacterWidth=t.get(48).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(64),this._roundedSelection=t.get(96),this._typicalHalfwidthCharacterWidth=t.get(48).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++){if(e[t].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(e,t,i){const n=this._typicalHalfwidthCharacterWidth/4;let o=null,s=null;if(i&&i.length>0&&t.length>0){const n=t[0].lineNumber;if(n===e.startLineNumber)for(let e=0;!o&&e<i.length;e++)i[e].lineNumber===n&&(o=i[e].ranges[0]);const r=t[t.length-1].lineNumber;if(r===e.endLineNumber)for(let e=i.length-1;!s&&e>=0;e--)i[e].lineNumber===r&&(s=i[e].ranges[0]);o&&!o.startStyle&&(o=null),s&&!s.startStyle&&(s=null)}for(let e=0,i=t.length;e<i;e++){const r=t[e].ranges[0],a=r.left,h=r.left+r.width,d={top:0,bottom:0},l={top:0,bottom:0};if(e>0){const i=t[e-1].ranges[0].left,o=t[e-1].ranges[0].left+t[e-1].ranges[0].width;c(a-i)<n?d.top=2:a>i&&(d.top=1),c(h-o)<n?l.top=2:i<h&&h<o&&(l.top=1)}else o&&(d.top=o.startStyle.top,l.top=o.endStyle.top);if(e+1<i){const i=t[e+1].ranges[0].left,o=t[e+1].ranges[0].left+t[e+1].ranges[0].width;c(a-i)<n?d.bottom=2:i<a&&a<o&&(d.bottom=1),c(h-o)<n?l.bottom=2:h<o&&(l.bottom=1)}else s&&(d.bottom=s.startStyle.bottom,l.bottom=s.endStyle.bottom);r.startStyle=d,r.endStyle=l}}_getVisibleRangesWithStyle(e,t,i){const n=(t.linesVisibleRangesForRange(e,!0)||[]).map(d);return!this._visibleRangesHaveGaps(n)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,n,i),n}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(0===n.length)return;const o=!!n[0].ranges[0].startStyle,s=this._lineHeight.toString(),r=(this._lineHeight-1).toString(),a=n[0].lineNumber,h=n[n.length-1].lineNumber;for(let d=0,c=n.length;d<c;d++){const c=n[d],u=c.lineNumber,m=u-t,g=i&&(u===h||u===a)?r:s,p=i&&u===a?1:0;let _="",f="";for(let e=0,t=c.ranges.length;e<t;e++){const t=c.ranges[e];if(o){const e=t.startStyle,i=t.endStyle;if(1===e.top||1===e.bottom){_+=this._createSelectionPiece(p,g,l.SELECTION_CLASS_NAME,t.left-l.ROUNDED_PIECE_WIDTH,l.ROUNDED_PIECE_WIDTH);let i=l.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(i+=" "+l.SELECTION_TOP_RIGHT),1===e.bottom&&(i+=" "+l.SELECTION_BOTTOM_RIGHT),_+=this._createSelectionPiece(p,g,i,t.left-l.ROUNDED_PIECE_WIDTH,l.ROUNDED_PIECE_WIDTH)}if(1===i.top||1===i.bottom){_+=this._createSelectionPiece(p,g,l.SELECTION_CLASS_NAME,t.left+t.width,l.ROUNDED_PIECE_WIDTH);let e=l.EDITOR_BACKGROUND_CLASS_NAME;1===i.top&&(e+=" "+l.SELECTION_TOP_LEFT),1===i.bottom&&(e+=" "+l.SELECTION_BOTTOM_LEFT),_+=this._createSelectionPiece(p,g,e,t.left+t.width,l.ROUNDED_PIECE_WIDTH)}}let i=l.SELECTION_CLASS_NAME;if(o){const e=t.startStyle,n=t.endStyle;0===e.top&&(i+=" "+l.SELECTION_TOP_LEFT),0===e.bottom&&(i+=" "+l.SELECTION_BOTTOM_LEFT),0===n.top&&(i+=" "+l.SELECTION_TOP_RIGHT),0===n.bottom&&(i+=" "+l.SELECTION_BOTTOM_RIGHT)}f+=this._createSelectionPiece(p,g,i,t.left,t.width)}e[m][0]+=_,e[m][1]+=f}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let e=i;e<=n;e++){t[e-i]=["",""]}const o=[];for(let n=0,s=this._selections.length;n<s;n++){const s=this._selections[n];if(s.isEmpty()){o[n]=null;continue}const r=this._getVisibleRangesWithStyle(s,e,this._previousFrameVisibleRangesWithStyle[n]);o[n]=r,this._actualRenderOneSelection(t,i,this._selections.length>1,r)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map((([e,t])=>e+t))}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function c(e){return e<0?-e:e}l.SELECTION_CLASS_NAME="selected-text",l.SELECTION_TOP_LEFT="top-left-radius",l.SELECTION_BOTTOM_LEFT="bottom-left-radius",l.SELECTION_TOP_RIGHT="top-right-radius",l.SELECTION_BOTTOM_RIGHT="bottom-right-radius",l.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",l.ROUNDED_PIECE_WIDTH=10,(0,s.Sd)(((e,t)=>{const i=e.getColor(o.Mbq);i&&!i.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${i}; }`)}))},66984:function(e,t,i){"use strict";i.d(t,{k:function(){return C}});i(29976);var n=i(36184),o=i(81564),s=i(2880),r=i(69040),a=i(2443),h=i(66196),d=i(5872),l=i(4400),c=i(90836),u=i(33024);class m{constructor(e,t,i,n,o,s,r){this.top=e,this.left=t,this.paddingLeft=i,this.width=n,this.height=o,this.textContent=s,this.textContentClassName=r}}class g{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(48);this._cursorStyle=t.get(26),this._lineHeight=t.get(64),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(29),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,n.K)(document.createElement("div")),this._domNode.setClassName(`cursor ${u.A}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,h.K)(this._domNode,i),this._domNode.setDisplay("none"),this._position=new l.J(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(48);return this._cursorStyle=t.get(26),this._lineHeight=t.get(64),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(29),this._typicalHalfwidthCharacterWidth),(0,h.K)(this._domNode,i),!0}onCursorPositionChanged(e,t){return this._domNode.domNode.style.transitionProperty=t?"none":"",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[n,o]=a.OG(i,t-1);return[new l.J(e,n+1),i.substring(n,o)]}_prepareRender(e){let t="",i="";const[n,o]=this._getGraphemeAwarePosition();if(this._cursorStyle===d.WE.Line||this._cursorStyle===d.WE.LineThin){const s=e.visibleRangeForPosition(n);if(!s||s.outsideRenderedLine)return null;let a;this._cursorStyle===d.WE.Line?(a=r.Ab(this._lineCursorWidth>0?this._lineCursorWidth:2),a>2&&(t=o,i=this._getTokenClassName(n))):a=r.Ab(1);let h=s.left,l=0;a>=2&&h>=1&&(l=1,h-=l);const c=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.bigNumbersDelta;return new m(c,h,l,a,this._lineHeight,t,i)}const s=e.linesVisibleRangesForRange(new c.E(n.lineNumber,n.column,n.lineNumber,n.column+o.length),!1);if(!s||0===s.length)return null;const a=s[0];if(a.outsideRenderedLine||0===a.ranges.length)return null;const h=a.ranges[0],l="\t"===o||h.width<1?this._typicalHalfwidthCharacterWidth:h.width;this._cursorStyle===d.WE.Block&&(t=o,i=this._getTokenClassName(n));let u=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.bigNumbersDelta,g=this._lineHeight;return this._cursorStyle!==d.WE.Underline&&this._cursorStyle!==d.WE.UnderlineThin||(u+=this._lineHeight-2,g=2),new m(u,h.left,0,l,g,t,i)}_getTokenClassName(e){const t=this._context.viewModel.getViewLineData(e.lineNumber),i=t.tokens.findTokenIndexAtOffset(e.column-1);return t.tokens.getClassName(i)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${u.A} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}var p=i(18252),_=i(68992),f=i(11660);class C extends s.W{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(87),this._cursorBlinking=t.get(24),this._cursorStyle=t.get(26),this._cursorSmoothCaretAnimation=t.get(25),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new g(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,n.K)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new o.qF,this._cursorFlatBlinkInterval=new o.Ud,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(87),this._cursorBlinking=t.get(24),this._cursorStyle=t.get(26),this._cursorSmoothCaretAnimation=t.get(25),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t,i){const n=this._secondaryCursors.length!==t.length||"explicit"===this._cursorSmoothCaretAnimation&&3!==i;if(this._primaryCursor.onCursorPositionChanged(e,n),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new g(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let e=0;e<t.length;e++)this._secondaryCursors[e].onCursorPositionChanged(t[e],n)}onCursorStateChanged(e){const t=[];for(let i=0,n=e.selections.length;i<n;i++)t[i]=e.selections[i].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),e.reason);const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let i=0,n=e.ranges.length;i<n;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const e of this._secondaryCursors)if(t(e.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,i=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||i||(1===e?this._cursorFlatBlinkInterval.cancelAndSet((()=>{this._isVisible?this._hide():this._show()}),C.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((()=>{this._blinkingEnabled=!0,this._updateDomClassName()}),C.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case d.WE.Line:e+=" cursor-line-style";break;case d.WE.Block:e+=" cursor-block-style";break;case d.WE.Underline:e+=" cursor-underline-style";break;case d.WE.LineThin:e+=" cursor-line-thin-style";break;case d.WE.BlockOutline:e+=" cursor-block-outline-style";break;case d.WE.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return"on"!==this._cursorSmoothCaretAnimation&&"explicit"!==this._cursorSmoothCaretAnimation||(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let n=0,o=this._secondaryCursors.length;n<o;n++){const o=this._secondaryCursors[n].render(e);o&&(t[i++]=o)}this._renderData=t}getLastRenderData(){return this._renderData}}C.BLINK_INTERVAL=500,(0,_.Sd)(((e,t)=>{const i=e.getColor(p.sV);if(i){let n=e.getColor(p.uC);n||(n=i.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${n}; }`),(0,f.Km)(e.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}}))},46824:function(e,t,i){"use strict";i.d(t,{T:function(){return h}});var n=i(36184),o=i(32096),s=i(2880),r=i(4400);const a=()=>{throw new Error("Invalid change accessor")};class h extends s.W{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(139);this._lineHeight=t.get(64),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,n.K)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,n.K)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const i of e)t.set(i.id,i);let i=!1;return this._context.viewModel.changeWhitespace((e=>{const n=Object.keys(this._zones);for(let o=0,s=n.length;o<s;o++){const s=n[o],r=this._zones[s],a=this._computeWhitespaceProps(r.delegate);r.isInHiddenArea=a.isInHiddenArea;const h=t.get(s);!h||h.afterLineNumber===a.afterViewLineNumber&&h.height===a.heightInPx||(e.changeOneWhitespace(s,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(r.delegate,a.heightInPx),i=!0)}})),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(139);return this._lineHeight=t.get(64),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(64)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){var t,i;return null!==(i=null!==(t=e.ordinal)&&void 0!==t?t:e.afterColumn)&&void 0!==i?i:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,i;if(void 0!==e.afterColumn)t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const i=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new r.J(i,this._context.viewModel.model.getLineMaxColumn(i))}i=t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity),o=e.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace((i=>{const n={addZone:e=>(t=!0,this._addZone(i,e)),removeZone:e=>{e&&(t=this._removeZone(i,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(i,e)||t)}};!function(e,t){try{return e(t)}catch(e){(0,o.eU)(e)}}(e,n),n.addZone=a,n.removeZone=a,n.layoutZone=a})),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),o={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,n.K)(t.domNode),marginDomNode:t.marginDomNode?(0,n.K)(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(e){(0,o.eU)(e)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(e){(0,o.eU)(e)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let n=!1;for(const e of t)this._zones[e.id].isInHiddenArea||(i[e.id]=e,n=!0);const o=Object.keys(this._zones);for(let t=0,n=o.length;t<n;t++){const n=o[t],s=this._zones[n];let r=0,a=0,h="none";i.hasOwnProperty(n)?(r=i[n].verticalOffset-e.bigNumbersDelta,a=i[n].height,h="block",s.isVisible||(s.domNode.setAttribute("monaco-visible-view-zone","true"),s.isVisible=!0),this._safeCallOnDomNodeTop(s.delegate,e.getScrolledTopFromAbsoluteTop(i[n].verticalOffset))):(s.isVisible&&(s.domNode.removeAttribute("monaco-visible-view-zone"),s.isVisible=!1),this._safeCallOnDomNodeTop(s.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),s.domNode.setTop(r),s.domNode.setHeight(a),s.domNode.setDisplay(h),s.marginDomNode&&(s.marginDomNode.setTop(r),s.marginDomNode.setHeight(a),s.marginDomNode.setDisplay(h))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}},7676:function(e,t,i){"use strict";i.d(t,{E:function(){return h}});i(98139);var n=i(64880),o=i(2443),s=i(9848),r=i(4400),a=i(18252);class h extends n.I{constructor(e){super(),this._context=e,this._options=new d(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=new d(this._context.configuration);return this._options.equals(t)?e.hasChanged(139):(this._options=t,!0)}onCursorStateChanged(e){return this._selection=e.selections,"selection"===this._options.renderWhitespace}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if("none"===this._options.renderWhitespace)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber-t+1,n=new Array(i);for(let e=0;e<i;e++)n[e]=!0;const o=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,n);this._renderResult=[];for(let t=e.viewportData.startLineNumber;t<=e.viewportData.endLineNumber;t++){const i=t-e.viewportData.startLineNumber,n=o.data[i];let r=null;if("selection"===this._options.renderWhitespace){const e=this._selection;for(const i of e){if(i.endLineNumber<t||i.startLineNumber>t)continue;const e=i.startLineNumber===t?i.startColumn:n.minColumn,o=i.endLineNumber===t?i.endColumn:n.maxColumn;e<o&&(r||(r=[]),r.push(new s.K0(e-1,o-1)))}}this._renderResult[i]=this._applyRenderWhitespace(e,t,r,n)}}_applyRenderWhitespace(e,t,i,n){if("selection"===this._options.renderWhitespace&&!i)return"";if("trailing"===this._options.renderWhitespace&&n.continuesWithWrappedLine)return"";const s=this._context.theme.getColor(a.SW),h=this._options.renderWithSVG,d=n.content,l=-1===this._options.stopRenderingLineAfter?d.length:Math.min(this._options.stopRenderingLineAfter,d.length),c=n.continuesWithWrappedLine,u=n.minColumn-1,m="boundary"===this._options.renderWhitespace,g="trailing"===this._options.renderWhitespace,p=this._options.lineHeight,_=this._options.middotWidth,f=this._options.wsmiddotWidth,C=this._options.spaceWidth,N=Math.abs(f-C)<Math.abs(_-C)?11825:183,L=this._options.canUseHalfwidthRightwardsArrow;let b,v="",w=!1,D=o.cX(d);-1===D?(w=!0,D=l,b=l):b=o.U9(d);let y=0,S=i&&i[y],x=0;for(let n=u;n<l;n++){const o=d.charCodeAt(n);if(S&&n>=S.endOffset&&(y++,S=i&&i[y]),9!==o&&32!==o)continue;if(g&&!w&&n<=b)continue;if(m&&n>=D&&n<=b&&32===o){const e=n-1>=0?d.charCodeAt(n-1):0,t=n+1<l?d.charCodeAt(n+1):0;if(32!==e&&32!==t)continue}if(m&&c&&n===l-1){const e=n-1>=0?d.charCodeAt(n-1):0;if(32===o&&32!==e&&9!==e)continue}if(i&&(!S||S.startOffset>n||S.endOffset<=n))continue;const s=e.visibleRangeForPosition(new r.J(t,n+1));s&&(h?(x=Math.max(x,s.left),v+=9===o?this._renderArrow(p,C,s.left):`<circle cx="${(s.left+C/2).toFixed(2)}" cy="${(p/2).toFixed(2)}" r="${(C/7).toFixed(2)}" />`):v+=9===o?`<div class="mwh" style="left:${s.left}px;height:${p}px;">${L?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:`<div class="mwh" style="left:${s.left}px;height:${p}px;">${String.fromCharCode(N)}</div>`)}return h?(x=Math.round(x+C),`<svg style="position:absolute;width:${x}px;height:${p}px" viewBox="0 0 ${x} ${p}" xmlns="http://www.w3.org/2000/svg" fill="${s}">`+v+"</svg>"):v}_renderArrow(e,t,i){const n=e/2,o=i,s={x:0,y:t/7/2},r={x:.8*t,y:s.y},a={x:r.x-.2*r.x,y:r.y+.2*r.x},h={x:a.x+.1*r.x,y:a.y+.1*r.x},d={x:h.x+.35*r.x,y:h.y-.35*r.x};return`<path d="M ${[s,r,a,h,d,{x:d.x,y:-d.y},{x:h.x,y:-h.y},{x:a.x,y:-a.y},{x:r.x,y:-r.y},{x:s.x,y:-s.y}].map((e=>`${(o+e.x).toFixed(2)} ${(n+e.y).toFixed(2)}`)).join(" L ")}" />`}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class d{constructor(e){const t=e.options,i=t.get(48),n=t.get(36);"off"===n?(this.renderWhitespace="none",this.renderWithSVG=!1):"svg"===n?(this.renderWhitespace=t.get(94),this.renderWithSVG=!0):(this.renderWhitespace=t.get(94),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=t.get(64),this.stopRenderingLineAfter=t.get(112)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}},68128:function(e,t,i){var n=i(22108),o=i(1588);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},36196:function(e,t,i){var n=i(22108),o=i(98648);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},81780:function(e,t,i){var n=i(22108),o=i(94564);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},22756:function(e,t,i){var n=i(22108),o=i(77392);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},19268:function(e,t,i){var n=i(22108),o=i(26012);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},51928:function(e,t,i){var n=i(22108),o=i(93776);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},26184:function(e,t,i){var n=i(22108),o=i(80062);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},29976:function(e,t,i){var n=i(22108),o=i(16612);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},98139:function(e,t,i){var n=i(22108),o=i(99136);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},1588:function(e,t,i){(e.exports=i(22587)(!1)).push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin {\n\tbackground-color: var(--vscode-editorGutter-background);\n}\n",""])},98648:function(e,t,i){(e.exports=i(22587)(!1)).push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}",""])},94564:function(e,t,i){(e.exports=i(22587)(!1)).push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n/* END cover the case that slider is visible on mouseover */\n.monaco-editor .minimap-slider .minimap-slider-horizontal {\n\tbackground: var(--vscode-minimapSlider-background);\n}\n.monaco-editor .minimap-slider:hover .minimap-slider-horizontal {\n\tbackground: var(--vscode-minimapSlider-hoverBackground);\n}\n.monaco-editor .minimap-slider.active .minimap-slider-horizontal {\n\tbackground: var(--vscode-minimapSlider-activeBackground);\n}\n.monaco-editor .minimap-shadow-visible {\n\tbox-shadow: var(--vscode-scrollbar-shadow) -6px 0 6px -6px inset;\n}\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n\n/* 0.5s fade in/out for the minimap */\n.minimap.autohide {\n\topacity: 0;\n\ttransition: opacity 0.5s;\n}\n.minimap.autohide:hover {\n\topacity: 1;\n}\n",""])},77392:function(e,t,i){(e.exports=i(22587)(!1)).push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}",""])},26012:function(e,t,i){(e.exports=i(22587)(!1)).push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n\tbox-shadow: 1px 0 0 0 var(--vscode-editorRuler-foreground) inset;\n}\n",""])},93776:function(e,t,i){(e.exports=i(22587)(!1)).push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n\tbox-shadow: var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;\n}\n",""])},80062:function(e,t,i){(e.exports=i(22587)(!1)).push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor .focused .selected-text {\n\tbackground-color: var(--vscode-editor-selectionBackground);\n}\n\n.monaco-editor .selected-text {\n\tbackground-color: var(--vscode-editor-inactiveSelectionBackground);\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n\n.monaco-editor.hc-light .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-light .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-light .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-light .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n",""])},16612:function(e,t,i){(e.exports=i(22587)(!1)).push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n\tbox-sizing: border-box;\n}\n\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n}\n\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n}\n\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n",""])},99136:function(e,t,i){(e.exports=i(22587)(!1)).push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .mwh {\n\tposition: absolute;\n\tcolor: var(--vscode-editorWhitespace-foreground) !important;\n}\n",""])}}]);