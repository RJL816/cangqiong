/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkmodel_designer"] = self["webpackChunkmodel_designer"] || []).push([[84],{

/***/ 45816:
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModelDesigner: function() { return /* reexport safe */ _src__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; }\n/* harmony export */ });\n/* harmony import */ var _src_style_index_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/style/index.less */ 19600);\n/* harmony import */ var _src_style_index_less__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_src_style_index_less__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src */ 90236);\n\n\n\n//# sourceURL=webpack://model-designer/./index.js?");

/***/ }),

/***/ 1844:
/*!*******************************!*\
  !*** ./src/constant/const.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TABLE_GROUP_SUFFIX: function() { return /* binding */ TABLE_GROUP_SUFFIX; }\n/* harmony export */ });\nvar TABLE_GROUP_SUFFIX = '_tablegroup'; // 表分组id后缀，用于识别表分组\n\n//# sourceURL=webpack://model-designer/./src/constant/const.js?");

/***/ }),

/***/ 2236:
/*!****************************************!*\
  !*** ./src/constant/keywordMapping.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar keywordMapping = {\n  // 所有meta和data属性名大小写默认配置\n  id: 'Id',\n  type: '_Type_',\n  name: 'Name',\n  key: 'Key',\n  parentId: 'ParentId',\n  items: 'Items',\n  fieldType: 'FieldType',\n  fieldName: 'FieldName',\n  tableName: 'TableName'\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (keywordMapping);\n\n//# sourceURL=webpack://model-designer/./src/constant/keywordMapping.js?");

/***/ }),

/***/ 37400:
/*!**********************************!*\
  !*** ./src/constant/nodeType.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COLUMN_AP: function() { return /* binding */ COLUMN_AP; },\n/* harmony export */   DATA_MODEL_AP: function() { return /* binding */ DATA_MODEL_AP; },\n/* harmony export */   DM_PACKAGE_AP: function() { return /* binding */ DM_PACKAGE_AP; },\n/* harmony export */   PHYSICAL_DIAGRAM: function() { return /* binding */ PHYSICAL_DIAGRAM; },\n/* harmony export */   RELATIONSHIP_AP: function() { return /* binding */ RELATIONSHIP_AP; },\n/* harmony export */   TABLE_AP: function() { return /* binding */ TABLE_AP; },\n/* harmony export */   TABLE_GROUP_AP: function() { return /* binding */ TABLE_GROUP_AP; }\n/* harmony export */ });\nvar DATA_MODEL_AP = 'DataModelAp'; // 模型\nvar PHYSICAL_DIAGRAM = 'PhysicalDiagram'; // 模型图\nvar DM_PACKAGE_AP = 'DMPackageAp'; // 包\nvar TABLE_AP = 'TableAp'; // 表\nvar RELATIONSHIP_AP = 'RelationShipAp'; // 关系\n\nvar TABLE_GROUP_AP = 'TableGroupAp'; // 表分组\nvar COLUMN_AP = 'ColumnAp'; // 字段\n\n//# sourceURL=webpack://model-designer/./src/constant/nodeType.js?");

/***/ }),

/***/ 62240:
/*!***********************************!*\
  !*** ./src/constant/propnames.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ID: function() { return /* binding */ ID; },\n/* harmony export */   ITEMS: function() { return /* binding */ ITEMS; },\n/* harmony export */   NAME: function() { return /* binding */ NAME; },\n/* harmony export */   PARENTID: function() { return /* binding */ PARENTID; },\n/* harmony export */   REFERENCE_SYMBOL_APS: function() { return /* binding */ REFERENCE_SYMBOL_APS; },\n/* harmony export */   REL_TABLE_ID_SYMBOL: function() { return /* binding */ REL_TABLE_ID_SYMBOL; },\n/* harmony export */   TABLE_NAME: function() { return /* binding */ TABLE_NAME; },\n/* harmony export */   TABLE_SYMBOL_APS: function() { return /* binding */ TABLE_SYMBOL_APS; },\n/* harmony export */   _TYPE_: function() { return /* binding */ _TYPE_; }\n/* harmony export */ });\nvar ITEMS = 'Items';\nvar _TYPE_ = '_Type_';\nvar ID = 'Id';\nvar PARENTID = 'ParentId';\nvar NAME = 'Name';\nvar TABLE_SYMBOL_APS = 'TableSymbolAps';\nvar REFERENCE_SYMBOL_APS = 'ReferenceSymbolAps';\nvar REL_TABLE_ID_SYMBOL = 'RelTableIdSymbol';\nvar TABLE_NAME = 'TableName';\n\n//# sourceURL=webpack://model-designer/./src/constant/propnames.js?");

/***/ }),

/***/ 43083:
/*!***********************************!*\
  !*** ./src/constant/tableNode.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FIELDHEIGHT: function() { return /* binding */ FIELDHEIGHT; },\n/* harmony export */   MAXLENGTH: function() { return /* binding */ MAXLENGTH; },\n/* harmony export */   MINLENGTH: function() { return /* binding */ MINLENGTH; }\n/* harmony export */ });\nvar FIELDHEIGHT = 32;\nvar MINLENGTH = 5;\nvar MAXLENGTH = 10;\n\n//# sourceURL=webpack://model-designer/./src/constant/tableNode.js?");

/***/ }),

/***/ 28976:
/*!**********************************************!*\
  !*** ./src/controls/CustomConnectionLine.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var reactflow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! reactflow */ 77304);\n\n\n\nfunction CustomConnectionLine(_ref) {\n  var fromX = _ref.fromX,\n    fromY = _ref.fromY,\n    toX = _ref.toX,\n    toY = _ref.toY,\n    connectionLineStyle = _ref.connectionLineStyle;\n  var _getStraightPath = (0,reactflow__WEBPACK_IMPORTED_MODULE_2__.getStraightPath)({\n      sourceX: fromX,\n      sourceY: fromY,\n      targetX: toX,\n      targetY: toY\n    }),\n    _getStraightPath2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_getStraightPath, 1),\n    edgePath = _getStraightPath2[0];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"g\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    style: connectionLineStyle,\n    fill: \"none\",\n    d: edgePath\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"circle\", {\n    cx: toX,\n    cy: toY,\n    fill: \"black\",\n    r: 3,\n    stroke: \"black\",\n    strokeWidth: 1.5\n  }));\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (CustomConnectionLine);\n\n//# sourceURL=webpack://model-designer/./src/controls/CustomConnectionLine.js?");

/***/ }),

/***/ 87896:
/*!**************************************!*\
  !*** ./src/controls/FloatingEdge.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var reactflow__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! reactflow */ 77304);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _utils_layout_ts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/layout.ts */ 21920);\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\nfunction FloatingEdge(_ref) {\n  var id = _ref.id,\n    source = _ref.source,\n    target = _ref.target,\n    style = _ref.style;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(_useState, 2),\n    isSelected = _useState2[0],\n    setSelect = _useState2[1];\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context__WEBPACK_IMPORTED_MODULE_11__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var _getKdesignerApi = getKdesignerApi(),\n    selectionApi = _getKdesignerApi.selection,\n    dataApi = _getKdesignerApi.data;\n  (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    var selectionChangeListener = selectionApi.addSelectChangeListener(function (selectionData) {\n      var activeCtrlId = selectionData.value[0];\n      var isSelected = activeCtrlId === id;\n      setSelect(isSelected);\n    });\n    return function () {\n      selectionChangeListener === null || selectionChangeListener === void 0 || selectionChangeListener();\n    };\n  }, []);\n  var sourceNode = (0,reactflow__WEBPACK_IMPORTED_MODULE_13__.useStore)((0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (store) {\n    return store.nodeInternals.get(source);\n  }, [source]));\n  var targetNode = (0,reactflow__WEBPACK_IMPORTED_MODULE_13__.useStore)((0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (store) {\n    return store.nodeInternals.get(target);\n  }, [target]));\n  if (!sourceNode || !targetNode) {\n    return null;\n  }\n  var _getEdgeParams = (0,_utils_layout_ts__WEBPACK_IMPORTED_MODULE_12__.getEdgeParams)(sourceNode, targetNode),\n    sx = _getEdgeParams.sx,\n    sy = _getEdgeParams.sy,\n    tx = _getEdgeParams.tx,\n    ty = _getEdgeParams.ty,\n    sourcePos = _getEdgeParams.sourcePos,\n    targetPos = _getEdgeParams.targetPos;\n  var _getSmoothStepPath = (0,reactflow__WEBPACK_IMPORTED_MODULE_13__.getSmoothStepPath)({\n      sourceX: sx,\n      sourceY: sy,\n      sourcePosition: sourcePos,\n      targetPosition: targetPos,\n      targetX: tx,\n      targetY: ty\n    }),\n    _getSmoothStepPath2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(_getSmoothStepPath, 1),\n    edgePath = _getSmoothStepPath2[0];\n  var edgeColor = isSelected ? '#276FF5' : '#999';\n  var _style = _objectSpread(_objectSpread({}, style), {}, {\n    stroke: edgeColor\n  });\n  var markerEnd = isSelected ? 'url(#1__color=#276FF5&type=arrowclosed)' : 'url(#1__color=#999&type=arrowclosed)';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"path\", {\n    id: id,\n    className: \"react-flow__edge-path\",\n    d: edgePath,\n    markerEnd: markerEnd,\n    style: _style\n  });\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (FloatingEdge);\n\n//# sourceURL=webpack://model-designer/./src/controls/FloatingEdge.js?");

/***/ }),

/***/ 80564:
/*!******************************!*\
  !*** ./src/adaptor/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   translateDataToTree: function() { return /* binding */ translateDataToTree; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 11872);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../constant/propnames */ 62240);\n/* harmony import */ var _constant_nodeType__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../constant/nodeType */ 37400);\n/* harmony import */ var _constant_const__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../constant/const */ 1844);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_7___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context10, _context11; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context10 = ownKeys(Object(t), !0)).call(_context10, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_3___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context11 = ownKeys(Object(t))).call(_context11, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_4___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\nfunction translateDataToTree(data, options, includeTypeArr, getLangMsg) {\n  var _context;\n  console.time('开始计算耗时-将平铺数据转换为树形结构');\n  var initTreeData = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(_context = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(data[_constant_propnames__WEBPACK_IMPORTED_MODULE_14__.ITEMS])).call(_context, function (item) {\n    return _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_10___default()(includeTypeArr).call(includeTypeArr, item[_constant_propnames__WEBPACK_IMPORTED_MODULE_14__._TYPE_]) > -1;\n  });\n  var searchData = [];\n  var rootNode = {};\n  var childrens = [];\n  var prefix = (options === null || options === void 0 ? void 0 : options.prefix) || '';\n  // 构建树控件数据\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(initTreeData).call(initTreeData, function (itemData, index) {\n    var _context2, _context3;\n    var Id = itemData.Id,\n      Name = itemData.Name,\n      ParentId = itemData.ParentId,\n      Key = itemData.Key,\n      Hidden = itemData.Hidden,\n      Invisible = itemData.Invisible,\n      Type = itemData[_constant_propnames__WEBPACK_IMPORTED_MODULE_14__._TYPE_],\n      TableName = itemData.TableName;\n    var node = {\n      key: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context2 = \"\".concat(prefix)).call(_context2, Id),\n      title: Name || Key || Id,\n      parentId: ParentId ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context3 = \"\".concat(prefix)).call(_context3, ParentId) : ParentId,\n      Hidden: Hidden || Invisible,\n      $type: Type\n    };\n    // 如果type是包时，增加表分组节点，其parentId指向包id。并更改包下表的parentId，使其指向表分组\n    if (Type === _constant_nodeType__WEBPACK_IMPORTED_MODULE_15__.DM_PACKAGE_AP) {\n      var _context4, _context5, _context6;\n      // const tableGroupId = `${prefix}${createUUid()}` // key为随机id，这样随机添加，会造成添加的表分组每次的id不同\n      var tableGroupId = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context4 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context5 = \"\".concat(prefix)).call(_context5, Id)).call(_context4, _constant_const__WEBPACK_IMPORTED_MODULE_16__.TABLE_GROUP_SUFFIX);\n      var groupNode = {\n        key: tableGroupId,\n        title: getLangMsg('modeld.leftView.tableGroupName'),\n        parentId: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context6 = \"\".concat(prefix)).call(_context6, Id),\n        Hidden: Hidden || Invisible,\n        $type: _constant_nodeType__WEBPACK_IMPORTED_MODULE_15__.TABLE_GROUP_AP\n      };\n      // childrens.push(groupNode)\n      childrens.unshift(groupNode); // 保证表分组在包的第一位\n      // 为包添加tableGroupId属性，表明表分组id\n      node = _objectSpread(_objectSpread({}, node), {}, {\n        tableGroupId: tableGroupId\n      });\n    }\n    if (Type === _constant_nodeType__WEBPACK_IMPORTED_MODULE_15__.TABLE_AP) {\n      var _context7;\n      node.title = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context7 = \"\".concat(TableName, \"(\")).call(_context7, Name, \")\");\n    }\n    if (options && index > 0) {\n      var _context8;\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context8 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_7___default()(options)).call(_context8, function (key) {\n        node[key] = itemData[_constant_propnames__WEBPACK_IMPORTED_MODULE_14__._TYPE_];\n      });\n    }\n    if (!node.parentId) rootNode = _objectSpread({}, node);else childrens.push(node);\n  });\n\n  // 更改包下表的parentId，使其指向表分组\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(childrens).call(childrens, function (children) {\n    if (children.$type === _constant_nodeType__WEBPACK_IMPORTED_MODULE_15__.TABLE_AP) {\n      var _childrens$find;\n      // 如果是表，找出其包下的表分组id。将表的ParentId由包改为表分组\n      var oldParentId = children.parentId;\n      var newParentId = ((_childrens$find = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12___default()(childrens).call(childrens, function (item) {\n        return item.key === oldParentId;\n      })) === null || _childrens$find === void 0 ? void 0 : _childrens$find.tableGroupId) || oldParentId;\n      children.parentId = newParentId;\n    }\n  });\n  function translator(parent, childrens, level) {\n    var tempChildren = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(childrens);\n    var idx = 0;\n    if (!parent.parentId) {\n      searchData.push(_objectSpread(_objectSpread({}, parent), {}, {\n        level: level\n      }));\n    }\n    // delete parent.parentId\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(childrens).call(childrens, function (children, index) {\n      if ((children === null || children === void 0 ? void 0 : children.parentId) === parent.key) {\n        var _context9;\n        var _level = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context9 = \"\".concat(level, \"_\")).call(_context9, idx++);\n        searchData.push(_objectSpread(_objectSpread({}, children), {}, {\n          level: _level\n        }));\n        _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_13___default()(tempChildren).call(tempChildren, index, 1, undefined);\n        // delete children.parentId\n        parent.children ? parent.children.push(children) : parent.children = [children];\n        translator(children, tempChildren, _level);\n      }\n    });\n  }\n  translator(rootNode, childrens, '0');\n  console.timeEnd('开始计算耗时-将平铺数据转换为树形结构');\n  // 返回最终结果\n  rootNode.searchData = searchData;\n  return [rootNode];\n}\n\n//# sourceURL=webpack://model-designer/./src/adaptor/index.ts?");

/***/ }),

/***/ 7660:
/*!*************************************!*\
  !*** ./src/constant/prefixClass.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAIN_VIEW_WRAPPER: function() { return /* binding */ MAIN_VIEW_WRAPPER; }\n/* harmony export */ });\n// 组件样式类前缀，统一管理，避免冲突\n\nvar MAIN_VIEW_WRAPPER = 'main-view-wrapper';\n\n//# sourceURL=webpack://model-designer/./src/constant/prefixClass.ts?");

/***/ }),

/***/ 90115:
/*!******************************!*\
  !*** ./src/context/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DesignerContext: function() { return /* binding */ DesignerContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// 设计器context，用于顶层model-designer向下传入数据\n\nvar DesignerContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createContext({});\nDesignerContext.displayName = 'DesignerContext';\n\n//# sourceURL=webpack://model-designer/./src/context/index.ts?");

/***/ }),

/***/ 5504:
/*!****************************************!*\
  !*** ./src/controls/OperationBtns.tsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var reactflow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! reactflow */ 77304);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nvar OperationBtns = function OperationBtns(_ref) {\n  var FitViewOpertions = _ref.FitViewOpertions,\n    onZoomIn = _ref.onZoomIn,\n    onZoomOut = _ref.onZoomOut,\n    onFitView = _ref.onFitView;\n  var _useReactFlow = (0,reactflow__WEBPACK_IMPORTED_MODULE_3__.useReactFlow)(),\n    zoomIn = _useReactFlow.zoomIn,\n    zoomOut = _useReactFlow.zoomOut,\n    fitView = _useReactFlow.fitView;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var controlsPrefix = getPrefixCls && getPrefixCls(prefixCls, 'main-view');\n  var onZoomInHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    zoomIn === null || zoomIn === void 0 || zoomIn();\n    onZoomIn === null || onZoomIn === void 0 || onZoomIn();\n  }, [zoomIn, onZoomIn]);\n  var onZoomOutHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    zoomOut === null || zoomOut === void 0 || zoomOut();\n    onZoomOut === null || onZoomOut === void 0 || onZoomOut();\n  }, [zoomOut, onZoomOut]);\n  var onFitViewHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    fitView === null || fitView === void 0 || fitView(FitViewOpertions);\n    onFitView === null || onFitView === void 0 || onFitView();\n  }, [fitView, FitViewOpertions, onFitView]);\n  var plusIconTitle = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.getLangMsg)('modeld.operationBtns.plus');\n  var minusIconTitle = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.getLangMsg)('modeld.operationBtns.minus');\n  var fitViewIconTitle = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.getLangMsg)('modeld.operationBtns.fitView');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: controlsPrefix + '-operation-box'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    onClick: onZoomInHandler,\n    className: controlsPrefix + '-operation-box-button',\n    title: plusIconTitle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    prefix: \"designericon\",\n    type: \"fangda\",\n    className: controlsPrefix + '-operation-box-button-icon'\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    onClick: onZoomOutHandler,\n    className: controlsPrefix + '-operation-box-button',\n    title: minusIconTitle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    prefix: \"designericon\",\n    type: \"suoxiao\",\n    className: controlsPrefix + '-operation-box-button-icon'\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: controlsPrefix + '-operation-box-button',\n    onClick: onFitViewHandler,\n    title: fitViewIconTitle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    prefix: \"designericon\",\n    type: \"wanzhengshitu\",\n    className: controlsPrefix + '-operation-box-button-icon'\n  })));\n};\nOperationBtns.displayName = 'OperationBtns';\n/* harmony default export */ __webpack_exports__[\"default\"] = (OperationBtns);\n\n//# sourceURL=webpack://model-designer/./src/controls/OperationBtns.tsx?");

/***/ }),

/***/ 63996:
/*!************************************!*\
  !*** ./src/controls/TableNode.tsx ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TableNode; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var reactflow__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! reactflow */ 77304);\n/* harmony import */ var _constant_tableNode__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constant/tableNode */ 43083);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../context */ 90115);\n\n\n\n\n/**\n * 画布视图中的表结点\n */\n\n\n\n\n\n\n\nvar connectionNodeIdSelector = function connectionNodeIdSelector(state) {\n  return state.connectionNodeId;\n};\nfunction TableNode(_ref) {\n  var id = _ref.id,\n    data = _ref.data;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    showMore = _useState2[0],\n    setShowMore = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    isSelected = _useState4[0],\n    setIsSelected = _useState4[1];\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context__WEBPACK_IMPORTED_MODULE_9__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    isValidConnection = _useContext.isValidConnection;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.ConfigContext),\n    getPrefixCls = _useContext2.getPrefixCls,\n    prefixCls = _useContext2.prefixCls;\n  var _getKdesignerApi = getKdesignerApi(),\n    selectionApi = _getKdesignerApi.selection,\n    dataApi = _getKdesignerApi.data;\n  var _useContext3 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.GlobalConfigContext),\n    onTableClick = _useContext3.onTableClick;\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    var selectvalue = selectionApi.getSelection();\n    var isSelected = selectvalue === null || selectvalue === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(selectvalue).call(selectvalue, id);\n    setIsSelected(isSelected);\n    var selectChangeListener = selectionApi.addSelectChangeListener(function (data) {\n      var isSelected = data.value[0] === id;\n      setIsSelected(isSelected);\n    });\n    return function () {\n      selectChangeListener === null || selectChangeListener === void 0 || selectChangeListener();\n    };\n  }, []);\n  var tnPreCls = getPrefixCls && getPrefixCls(prefixCls, 'main-view-table-node');\n  var connectionNodeId = (0,reactflow__WEBPACK_IMPORTED_MODULE_10__.useStore)(connectionNodeIdSelector);\n  var isConnecting = !!connectionNodeId;\n  var isTarget = connectionNodeId && connectionNodeId !== id;\n  var label = isTarget ? 'Drop here' : 'Drag to connect';\n  var handleClick = function handleClick() {\n    selectionApi.setSelect(id);\n  };\n  var name = data.name,\n    items = data.items;\n  var list = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(items).call(items, function (item, index) {\n    var name = item.name,\n      type = item.type,\n      isNotNull = item.isNotNull,\n      isPrimaryKey = item.isPrimaryKey,\n      isForeignKey = item.isForeignKey;\n    var iconClass = classnames__WEBPACK_IMPORTED_MODULE_6___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, tnPreCls + '-icon', true), \"customNode\", true));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"li\", {\n      key: index,\n      className: tnPreCls + '-field-wrapper'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n      className: tnPreCls + '-field-wrapper-icon-wrapper ' + iconClass\n    }, isPrimaryKey ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__.Icon, {\n      prefix: \"designericon\",\n      type: \"zhujian\",\n      className: tnPreCls + '-field-wrapper-primary-key-icon'\n    }) : isNotNull ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__.Icon, {\n      prefix: \"designericon\",\n      type: \"chuangjianshijian\",\n      className: tnPreCls + '-field-wrapper-must-input-icon'\n    }) : null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", {\n      className: tnPreCls + '-field-wrapper-name'\n    }, name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", {\n      className: tnPreCls + '-field-wrapper-type'\n    }, type));\n  });\n  var hasMore = items.length > 5;\n  var panelMaxHeight = showMore ? _constant_tableNode__WEBPACK_IMPORTED_MODULE_8__.FIELDHEIGHT * _constant_tableNode__WEBPACK_IMPORTED_MODULE_8__.MAXLENGTH : _constant_tableNode__WEBPACK_IMPORTED_MODULE_8__.FIELDHEIGHT * _constant_tableNode__WEBPACK_IMPORTED_MODULE_8__.MINLENGTH;\n  var tnClass = classnames__WEBPACK_IMPORTED_MODULE_6___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, tnPreCls, true), tnPreCls + '-selected', isSelected));\n  var onClick = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {\n    var fieldsData = dataApi.getSubControls(id) || [];\n    // 获取table数据\n    var tableCtrl = dataApi.findControl(id);\n    onTableClick({\n      table: tableCtrl,\n      fields: fieldsData\n    });\n  }, [id]);\n  var fieldPanelClass = classnames__WEBPACK_IMPORTED_MODULE_6___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, tnPreCls + '-field-panel', true), tnPreCls + '-field-panel-is-connecting', isConnecting));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: tnClass,\n    onClick: handleClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: tnPreCls + '-header'\n  }, name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: tnPreCls + '-body'\n  }, !isConnecting && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(reactflow__WEBPACK_IMPORTED_MODULE_10__.Handle, {\n    className: \"customHandle\",\n    position: reactflow__WEBPACK_IMPORTED_MODULE_10__.Position.Right,\n    type: \"source\",\n    style: {\n      zIndex: isValidConnection ? 0 : -1\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(reactflow__WEBPACK_IMPORTED_MODULE_10__.Handle, {\n    className: \"customHandle\",\n    position: reactflow__WEBPACK_IMPORTED_MODULE_10__.Position.Left,\n    type: \"target\",\n    isConnectableStart: false\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"ul\", {\n    className: fieldPanelClass,\n    style: {\n      maxHeight: panelMaxHeight\n    }\n  }, list)), hasMore && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: tnPreCls + '-footer',\n    onClick: function onClick(e) {\n      return setShowMore(!showMore);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__.Icon, {\n    prefix: \"designericon\",\n    type: showMore ? 'xialajiantoufanxiang' : 'xialajiantou'\n  })), isSelected && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_7__.Icon, {\n    prefix: \"designericon\",\n    type: \"shouxieqianming\",\n    className: tnPreCls + '-add-icon',\n    onClick: onClick\n  }));\n}\n\n//# sourceURL=webpack://model-designer/./src/controls/TableNode.tsx?");

/***/ }),

/***/ 87864:
/*!**************************************!*\
  !*** ./src/hooks/useDragTreeNode.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _utils_setDragImage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/setDragImage */ 54739);\n/* harmony import */ var _constant_nodeType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constant/nodeType */ 37400);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils */ 63612);\n\n// 用于模型树的拖拽\n\n\n\n\n// import { dataControlId, dataDragTreeAffectedControl, dataOutlineDragTreeNode } from '../constant/dataAttribute'\n\n\n\nvar preventDefault = function preventDefault(event) {\n  event.preventDefault();\n  event.stopPropagation();\n};\nvar useDragTreeNode = function useDragTreeNode() {\n  var dragControlIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_4__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var kdesignerApi = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var selectionContext = kdesignerApi.selection;\n  var rootId = dataContext.getRootId();\n\n  // 开始拖拽\n  var onDragStart = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (_ref) {\n    var event = _ref.event,\n      node = _ref.node;\n    event.stopPropagation();\n    var nodeKey = node.nodeKey;\n    nodeKey = nodeKey.substr(2);\n    var dragCtrl = dataContext.findControl(nodeKey);\n    dragControlIdRef.current = nodeKey;\n    var _ref2 = dragCtrl || {},\n      controlType = _ref2._Type_,\n      name = _ref2.Name;\n    if (!dragCtrl && (0,_utils__WEBPACK_IMPORTED_MODULE_7__.isTableGroup)(nodeKey)) {\n      controlType = _constant_nodeType__WEBPACK_IMPORTED_MODULE_6__.TABLE_GROUP_AP;\n      name = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)('modeld.leftView.tableGroupName');\n    }\n    (0,_utils_setDragImage__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(event, controlType, name);\n    event.dataTransfer.setData('application/reactflow', nodeKey);\n  }, []);\n\n  // 当被鼠标拖动的对象进入其容器范围内时触发此事件\n  var onDragEnter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (_ref3) {\n    var event = _ref3.event,\n      node = _ref3.node;\n  } // preventDefault(event)\n  , []);\n\n  // 当某被拖动的对象在另一对象容器范围内拖动时触发此事件\n  var onDragOver = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((0,lodash__WEBPACK_IMPORTED_MODULE_2__.debounce)(function (_ref4) {\n    var event = _ref4.event,\n      node = _ref4.node;\n  } // preventDefault(event)\n  // eventBus.emit('drag-tree-node', node.key)\n  , 100), []);\n\n  // 当被鼠标拖动的对象离开其容器范围内时触发此事件\n  var onDragLeave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (_ref5) {\n    var event = _ref5.event,\n      node = _ref5.node;\n  } // preventDefault(event)\n  , []);\n\n  // 在一个拖动过程中，释放鼠标键时触发此事件\n  // dropPosition 指的是被拖拽节点被 drop 的位置，如插入在节点前则为 -1，在节点后则为 1，落在其上则为 0\n  var onDrop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (_ref6) {\n    var event = _ref6.event,\n      node = _ref6.node,\n      dragNodesKeys = _ref6.dragNodesKeys,\n      dropPosition = _ref6.dropPosition;\n    preventDefault(event);\n    var dragControlId = dragControlIdRef.current;\n    if (dragControlId === rootId) return;\n    var originIsTableGroup = (0,_utils__WEBPACK_IMPORTED_MODULE_7__.isTableGroup)(dragControlId);\n    var key = node.key,\n      $type = node.$type,\n      parentId = node.parentId;\n    var targetIsTableGroup = $type === _constant_nodeType__WEBPACK_IMPORTED_MODULE_6__.TABLE_GROUP_AP;\n    var targetId = targetIsTableGroup ? _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0___default()(parentId).call(parentId, 2) : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_0___default()(key).call(key, 2); // 如果target是表分组控件，data数据是不存在该数据的，需要将target指向其父级的包控件\n    // const dragControlId = dragNodesKeys[0].slice(2) // dragNodesKeys可能是数组，最后一个元素是父元素\n    dataContext.swapControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.createSwapAction)({\n      origin: dragControlId,\n      target: targetId,\n      dropPosition: dropPosition,\n      originIsTableGroup: originIsTableGroup,\n      targetIsTableGroup: targetIsTableGroup\n    })).then(function (actions) {\n      selectionContext.setSelect([dragControlId]);\n    });\n  }, []);\n\n  // 用户完成元素拖动后触发\n  var onDragEnd = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (_ref7) {\n    var event = _ref7.event,\n      node = _ref7.node;\n  } // preventDefault(event)\n  , []);\n  return {\n    onDragStart: onDragStart,\n    onDragEnter: onDragEnter,\n    onDragOver: onDragOver,\n    onDragLeave: onDragLeave,\n    onDrop: onDrop,\n    onDragEnd: onDragEnd\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useDragTreeNode);\n\n//# sourceURL=webpack://model-designer/./src/hooks/useDragTreeNode.ts?");

/***/ }),

/***/ 90236:
/*!***********************!*\
  !*** ./src/index.tsx ***!
  \***********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _constant_keywordMapping__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./constant/keywordMapping */ 2236);\n/* harmony import */ var _views_MainView__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./views/MainView */ 25996);\n/* harmony import */ var _views_left_view_index__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./views/left-view/index */ 45480);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./context */ 90115);\n/* harmony import */ var _pre_handle__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./pre-handle */ 85340);\n/* harmony import */ var _utils_setTableInfo__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./utils/setTableInfo */ 41960);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./utils */ 63612);\n/* harmony import */ var _utils_filterProperty__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./utils/filterProperty */ 79148);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _utils_setProperty__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./utils/setProperty */ 59416);\n/* harmony import */ var resize_observer_polyfill_dist_ResizeObserver_global__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! resize-observer-polyfill/dist/ResizeObserver.global */ 10936);\n/* harmony import */ var resize_observer_polyfill_dist_ResizeObserver_global__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(resize_observer_polyfill_dist_ResizeObserver_global__WEBPACK_IMPORTED_MODULE_26__);\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context3, _context4; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context3 = ownKeys(Object(t), !0)).call(_context3, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context4 = ownKeys(Object(t))).call(_context4, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ModelDesigner = function ModelDesigner(_ref) {\n  var getLangMsg = _ref.getLangMsg,\n    data = _ref.data,\n    meta = _ref.meta,\n    dataTypes = _ref.dataTypes,\n    showMessage = _ref.showMessage,\n    onData = _ref.onData,\n    onApi = _ref.onApi,\n    onTableClick = _ref.onTableClick,\n    handleCustomInputEditor = _ref.handleCustomInputEditor,\n    _ref$getPropertyAlias = _ref.getPropertyAliasValue,\n    getPropertyAliasValue = _ref$getPropertyAlias === void 0 ? function () {\n      return null;\n    } : _ref$getPropertyAlias;\n  // 用于测试左树的数据\n  // const meta = testMetaData\n  // const data = datatest.dmmeta\n  var dealmeta = (0,react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.adaptorMeta)(meta, designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.transformKeyMap, data);\n  }, []);\n  var kdesignerApi = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  var dataRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(data);\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(''),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(_useState, 2),\n    currDiagramId = _useState2[0],\n    setCurrDiagramId = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(_useState3, 2),\n    isValidConnection = _useState4[0],\n    setIsValidConnection = _useState4[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    dataRef.current = data;\n  }, [data]);\n  var designerValue = (0,react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return {\n      getKdesignerApi: function getKdesignerApi() {\n        return kdesignerApi.current;\n      },\n      prefixCls: 'model-designer',\n      getPrefixCls: function getPrefixCls(configPrefixCls, suffixCls, customizePrefixCls) {\n        var _context;\n        // 获取样式前缀方法\n        if (customizePrefixCls) return customizePrefixCls;\n        configPrefixCls = configPrefixCls || 'model-designer';\n        return suffixCls ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context = \"\".concat(configPrefixCls, \"-\")).call(_context, suffixCls) : configPrefixCls;\n      },\n      currDiagramId: currDiagramId,\n      setCurrDiagramId: setCurrDiagramId,\n      isValidConnection: isValidConnection,\n      // 画布中是否可以连线\n      setIsValidConnection: setIsValidConnection,\n      dataTypes: dataTypes\n    };\n  }, [currDiagramId, isValidConnection]);\n  var getViews = function getViews(viewName) {\n    switch (viewName) {\n      case 'main':\n        {\n          return {\n            main: _views_MainView__WEBPACK_IMPORTED_MODULE_16__[\"default\"]\n          };\n        }\n      case 'left':\n        {\n          _views_left_view_index__WEBPACK_IMPORTED_MODULE_17__[\"default\"].tabName = getLangMsg('modeld.leftView.tabName');\n          // LeftView.getTabName = () => '模型'\n          return {\n            control: _views_left_view_index__WEBPACK_IMPORTED_MODULE_17__[\"default\"]\n          };\n        }\n      case 'right':\n        {\n          designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.PropertyView.getTabName = function () {\n            return getLangMsg('modeld.rightView.tabName');\n          };\n          return {\n            property: designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.PropertyView\n          };\n        }\n    }\n  };\n  var onApiProxy = function onApiProxy(api) {\n    kdesignerApi.current = _objectSpread({\n      setTableInfo: (0,_utils_setTableInfo__WEBPACK_IMPORTED_MODULE_21__[\"default\"])({\n        kdesignerApi: kdesignerApi\n      }),\n      setProperty: (0,_utils_setProperty__WEBPACK_IMPORTED_MODULE_25__[\"default\"])({\n        dataRef: dataRef,\n        kdesignerApi: kdesignerApi,\n        keywordMapping: _constant_keywordMapping__WEBPACK_IMPORTED_MODULE_15__[\"default\"]\n      })\n    }, api);\n    onApi && onApi(kdesignerApi.current);\n  };\n  var processPropertyName = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (value) {\n    return value;\n  }, []);\n\n  // 获取别名\n  var getEditorFormatValue = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (propName, field, editor) {\n    var aliasApi = kdesignerApi.current.aliasData;\n    var controlType = field[_constant_keywordMapping__WEBPACK_IMPORTED_MODULE_15__[\"default\"].type];\n    var propVal = field[propName];\n    var defField = field;\n    if ((0,lodash__WEBPACK_IMPORTED_MODULE_24__.isUndefined)(propVal)) {\n      var propDefVal = kdesignerApi.current.meta.getControlPropertyDefaultValue(controlType, propName);\n      if (propDefVal) {\n        defField = _objectSpread(_objectSpread({}, field), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, propName, propDefVal));\n      }\n    }\n    var timer = _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_11___default()(function () {\n      var _context2;\n      var alias = editor.Alias,\n        EmptyDisplay = editor.EmptyDisplay;\n      if (alias && (EmptyDisplay || !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(_context2 = [undefined, '']).call(_context2, defField[propName]))) {\n        getPropertyAliasValue(propName, defField, editor);\n      }\n    });\n    if (aliasApi.hasAliasDataPropValue(controlType, propName, defField[propName])) {\n      var aliasValue = aliasApi.getAliasDataPropValue(controlType, propName, defField[propName]);\n      if (aliasValue) {\n        clearTimeout(timer);\n      }\n      return aliasValue;\n    }\n  }, [getPropertyAliasValue]);\n  var onCustomInputClick = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (propName, field, editor, other) {\n    var propVal = field[propName];\n    var controlType = field[_constant_keywordMapping__WEBPACK_IMPORTED_MODULE_15__[\"default\"].type];\n    var defField = field;\n    if ((0,lodash__WEBPACK_IMPORTED_MODULE_24__.isUndefined)(propVal)) {\n      var propDefVal = kdesignerApi.current.meta.getControlPropertyDefaultValue(controlType, propName);\n      if (propDefVal) {\n        defField = _objectSpread(_objectSpread({}, field), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, propName, propDefVal));\n      }\n    }\n    handleCustomInputEditor(propName, defField, editor, other);\n  }, [handleCustomInputEditor]);\n  var globalConfig = {\n    keywordMapping: _constant_keywordMapping__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n    getLangMsg: getLangMsg,\n    getViews: getViews,\n    preHandle: function preHandle() {\n      var invokeAction = function invokeAction(actionName, params) {\n        console.log('invokeAction-------', actionName, params);\n      };\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return _pre_handle__WEBPACK_IMPORTED_MODULE_20__[\"default\"].apply(void 0, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(args).call(args, [_objectSpread({\n        invokeAction: invokeAction\n      }, designerValue)]));\n    },\n    showMessage: showMessage,\n    onTableClick: onTableClick,\n    designerContextValue: designerValue,\n    processPropertyName: processPropertyName,\n    propertyViewSetting: {\n      showEmptyView: function showEmptyView(id) {\n        if ((0,_utils__WEBPACK_IMPORTED_MODULE_22__.isTableGroup)(id)) return true; // 选中表分组，属性面板显示空白\n        return false;\n      },\n      getEmptyView: function getEmptyView() {\n        return null;\n      } // 空视图设置的方式\n    },\n    filterProperty: function filterProperty(field, propMeta) {\n      return (0,_utils_filterProperty__WEBPACK_IMPORTED_MODULE_23__[\"default\"])()(field, propMeta);\n    },\n    onCustomInputClick: onCustomInputClick,\n    getEditorFormatValue: getEditorFormatValue\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_18__.ConfigProvider, {\n    value: {\n      prefixCls: 'kdesigner'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_context__WEBPACK_IMPORTED_MODULE_19__.DesignerContext.Provider, {\n    value: designerValue\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement((designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default()), {\n    globalConfig: globalConfig,\n    meta: dealmeta,\n    data: data,\n    onApi: onApiProxy,\n    onData: onData\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ModelDesigner);\n\n//# sourceURL=webpack://model-designer/./src/index.tsx?");

/***/ }),

/***/ 85340:
/*!*********************************!*\
  !*** ./src/pre-handle/index.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 2992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _preDragHandle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./preDragHandle */ 95964);\n/* harmony import */ var _preCustomUpdatesHandle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./preCustomUpdatesHandle */ 1492);\n/* harmony import */ var _constant_nodeType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constant/nodeType */ 37400);\n\n\n\n\n\n\n// 统一导出预处理函数\n\n\n\n\nvar preHandleFnMap = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.ActionType.DRAG, _preDragHandle__WEBPACK_IMPORTED_MODULE_7__[\"default\"]), designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.ActionType.CUSTOMUPDATE, _preCustomUpdatesHandle__WEBPACK_IMPORTED_MODULE_8__[\"default\"]);\nvar preHandle = function preHandle(_ref, handleConfig) {\n  var action = _ref.action,\n    dataContext = _ref.dataContext,\n    globalConfig = _ref.globalConfig,\n    success = _ref.success;\n  var keywordMapping = globalConfig.keywordMapping;\n  var isRecurve = false;\n  var succesProxy = function succesProxy(actions) {\n    var appendActions = [];\n    var getKdesignerApi = handleConfig.getKdesignerApi;\n    return _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_2___default().all(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(actions).call(actions, function (action) {\n      var type = action.type,\n        value = action.value;\n      var kdesignerApi = getKdesignerApi();\n      if (type === designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.ActionType.ADD) {\n        var values = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_4___default()(value) ? value : [value];\n        var valuePromise = _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_2___default().all(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(values).call(values, function (item) {\n          var length = kdesignerApi.data.findControlByCondition(function (dataItem) {\n            return item[keywordMapping.type] === dataItem[keywordMapping.type];\n          }).length;\n          // name末尾做递增，除了表中字段和索引\n          if (item._Type_ !== 'IndexAp' && item._Type_ !== 'ColumnAp') {\n            var _context;\n            item[keywordMapping.name] = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context = \"\".concat(item[keywordMapping.name])).call(_context, length === 0 ? '' : length);\n          }\n          // 表名末尾做递增\n          if (item[keywordMapping.type] === _constant_nodeType__WEBPACK_IMPORTED_MODULE_9__.TABLE_AP) {\n            var _context2;\n            item[keywordMapping.tableName] = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context2 = \"\".concat(item[keywordMapping.tableName])).call(_context2, length === 0 ? '' : length);\n          }\n          return item;\n        }));\n        return valuePromise.then(function (_value) {\n          action.value = _value;\n          return action;\n        });\n      } else {\n        return _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_2___default().resolve(action);\n      }\n      // 至多两次递归，多于的无效\n    })).then(function (newActions) {\n      return appendActions.length ? (isRecurve = true, succesProxy(appendActions).then(function (actions) {\n        return success(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(newActions).call(newActions, actions));\n      })) : isRecurve ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(newActions).call(newActions, appendActions) : success(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(newActions).call(newActions, appendActions));\n    });\n  };\n  var preHandleResults = [];\n  var type = action.type;\n  var preHandleFn = preHandleFnMap[type];\n  if (preHandleFn) {\n    var allActions = preHandleFn({\n      globalConfig: globalConfig,\n      dataContext: dataContext,\n      action: action\n    });\n    if (allActions) {\n      preHandleResults.push.apply(preHandleResults, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(allActions));\n    }\n  } else {\n    preHandleResults.push(action);\n  }\n  if (preHandleResults.length) {\n    succesProxy(preHandleResults);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preHandle);\n\n//# sourceURL=webpack://model-designer/./src/pre-handle/index.ts?");

/***/ }),

/***/ 1492:
/*!**************************************************!*\
  !*** ./src/pre-handle/preCustomUpdatesHandle.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 11872);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar preCustomUpdatesHandle = function preCustomUpdatesHandle(_ref) {\n  var action = _ref.action;\n  var type = action.type,\n    value = action.value;\n  var otherActions = [];\n  if (_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0___default()(value) && value[0] === 'model_custom_action') {\n    otherActions = _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_1___default()(value).call(value, 1, value.length);\n    return otherActions;\n  }\n  return [action];\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preCustomUpdatesHandle);\n\n//# sourceURL=webpack://model-designer/./src/pre-handle/preCustomUpdatesHandle.ts?");

/***/ }),

/***/ 95964:
/*!*****************************************!*\
  !*** ./src/pre-handle/preDragHandle.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../constant/propnames */ 62240);\n/* harmony import */ var _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../constant/nodeType */ 37400);\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_6___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_7___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\nvar preDragHandle = function preDragHandle(_ref) {\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    action = _ref.action;\n  var showMessage = globalConfig.showMessage;\n  var type = action.type,\n    value = action.value;\n  var valueAfterHandle = value;\n  var dragId = value.origin,\n    _target = value.target,\n    dropPosition = value.dropPosition,\n    originIsTableGroup = value.originIsTableGroup,\n    targetIsTableGroup = value.targetIsTableGroup;\n  // 表分组不支持拖拽排序\n  if (originIsTableGroup) {\n    return showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.getLangMsg)('modeld.leftView.dragMessage04'), 'warn');\n  }\n  var _dataContext$findCont = dataContext.findControl(_target),\n    targetId = _dataContext$findCont[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.ID],\n    targetType = _dataContext$findCont[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__._TYPE_],\n    parentId = _dataContext$findCont[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.PARENTID];\n  var uiData = dataContext.getData();\n  var items = uiData.Items;\n  var targetControlIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_9___default()(items).call(items, function (item) {\n    return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.ID] === _target;\n  });\n  var targetIndex = -1;\n  var targetParentId = '';\n  // dropPosition 指的是被拖拽节点被 drop 的位置，如插入在节点前则为 -1，在节点后则为 1，落在其上则为 0\n  if (dropPosition === -1) {\n    targetIndex = targetControlIndex - 1;\n    targetParentId = parentId;\n  } else if (dropPosition === 1) {\n    targetIndex = targetControlIndex;\n    targetParentId = parentId;\n  } else if (dropPosition === 0) {\n    targetIndex = targetControlIndex;\n    targetParentId = targetId; // 落在其上时targetParentId为目标节点id\n  }\n\n  // 父控件数据\n  var targetParentInfo = dataContext.findControl(targetParentId);\n  // 父控件类型\n  var targetParentType = targetParentInfo === null || targetParentInfo === void 0 ? void 0 : targetParentInfo[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__._TYPE_];\n  // 源控件数据\n  var sourceControlInfo = dataContext.findControl(dragId);\n  // 源控件类型\n  var sourceControlType = sourceControlInfo[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__._TYPE_];\n\n  // 模型图拖拽至表分组前\n  if (sourceControlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.PHYSICAL_DIAGRAM && dropPosition !== 0 && targetIsTableGroup) {\n    return showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.getLangMsg)('modeld.leftView.dragMessage05'), 'warn');\n  }\n  // 模型图支持在所属包或模型中拖拽\n  if (sourceControlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.PHYSICAL_DIAGRAM && (dropPosition === 0 && (sourceControlInfo[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.PARENTID] !== targetId || targetIsTableGroup) || dropPosition !== 0 && (sourceControlInfo[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.PARENTID] !== targetParentId || targetType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.TABLE_AP))) {\n    return showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.getLangMsg)('modeld.leftView.dragMessage01'), 'warn');\n  }\n  // 包支持拖拽至模型根节点\n  if (sourceControlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.DM_PACKAGE_AP && (dropPosition === 0 && targetType !== _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.DATA_MODEL_AP || dropPosition !== 0 && targetParentType !== _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.DATA_MODEL_AP)) {\n    return showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.getLangMsg)('modeld.leftView.dragMessage02'), 'warn');\n  }\n  // 表只能在所属表分组下拖拽排序，即只能和同个包下的表排序。不能拖拽到包上\n  if (sourceControlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.TABLE_AP && (dropPosition === 0 && !targetIsTableGroup || dropPosition !== 0 && targetType !== _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.TABLE_AP)) {\n    return showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.getLangMsg)('modeld.leftView.dragMessage03'), 'warn');\n  }\n  valueAfterHandle = _objectSpread(_objectSpread({}, valueAfterHandle), {}, {\n    // origin: originIds,\n    origin: [dragId],\n    targetIndex: targetIndex,\n    targetParentId: targetParentId\n  });\n  return [{\n    type: type,\n    value: valueAfterHandle\n  }];\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preDragHandle);\n\n//# sourceURL=webpack://model-designer/./src/pre-handle/preDragHandle.ts?");

/***/ }),

/***/ 23724:
/*!*************************************!*\
  !*** ./src/utils/controlIconMap.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   controlIconMap: function() { return /* binding */ controlIconMap; },\n/* harmony export */   \"default\": function() { return /* binding */ getControlIconMap; }\n/* harmony export */ });\nvar getDefaultType = function getDefaultType(type) {\n  return 'Flexmianban';\n};\nvar controlIconMap = {\n  DataModelAp: 'moxing2',\n  // 模型\n  DMPackageAp: 'bao4',\n  // 包\n  TableAp: 'biao57',\n  // 表\n  TableGroupAp: 'biaofenzu',\n  // 表分组\n  PhysicalDiagram: 'moxingtu' // 模型图\n};\nfunction getControlIconMap(type) {\n  return controlIconMap[type] || getDefaultType(''); // 新增先走默认图标\n}\n\n//# sourceURL=webpack://model-designer/./src/utils/controlIconMap.ts?");

/***/ }),

/***/ 79148:
/*!*************************************!*\
  !*** ./src/utils/filterProperty.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n\n/**\n * @description: 构造filterProperty函数\n * @param {any} getModel\n * @param {any} getKdesignerApi\n * @return {*} filterProperty\n */\nvar filterProperty = function filterProperty() {\n  return function (field, propMeta) {\n    var hideConfig = propMeta.Hide;\n    if (hideConfig && (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(hideConfig) === 'object') {\n      var hide = hideConfig.Hide;\n      return hide;\n    }\n    return false;\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (filterProperty);\n\n//# sourceURL=webpack://model-designer/./src/utils/filterProperty.ts?");

/***/ }),

/***/ 63612:
/*!****************************!*\
  !*** ./src/utils/index.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUniqueKey: function() { return /* binding */ createUniqueKey; },\n/* harmony export */   isInTargetEle: function() { return /* binding */ isInTargetEle; },\n/* harmony export */   isTableGroup: function() { return /* binding */ isTableGroup; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/ends-with */ 73400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/some */ 65624);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _constant_const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constant/const */ 1844);\n\n\n\n/**\n * 判断某元素是否在目标元素内\n * @param originEle\n * @param targetEle 目标元素\n * @returns\n */\nvar isInTargetEle = function isInTargetEle(originEle, targetEle) {\n  var dom = originEle;\n  while (dom !== document.body) {\n    if (dom === targetEle) return true;\n    dom = dom.parentNode;\n  }\n  return false;\n};\nvar isTableGroup = function isTableGroup() {\n  var ctrlId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_0___default()(ctrlId).call(ctrlId, _constant_const__WEBPACK_IMPORTED_MODULE_2__.TABLE_GROUP_SUFFIX);\n};\nvar createUniqueKey = function createUniqueKey(data) {\n  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var num = 1;\n  var isUniqueKey = false;\n  var key = '';\n  while (!isUniqueKey) {\n    key = prefix + num;\n    isUniqueKey = !_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_1___default()(data).call(data, function (item) {\n      return item.Key === key;\n    });\n    num++;\n  }\n  return key;\n};\n\n//# sourceURL=webpack://model-designer/./src/utils/index.ts?");

/***/ }),

/***/ 21920:
/*!*****************************!*\
  !*** ./src/utils/layout.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNodesAndEdges: function() { return /* binding */ createNodesAndEdges; },\n/* harmony export */   getEdgeParams: function() { return /* binding */ getEdgeParams; },\n/* harmony export */   getReactFlowConfig: function() { return /* binding */ getReactFlowConfig; },\n/* harmony export */   transformData: function() { return /* binding */ transformData; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var reactflow__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! reactflow */ 77304);\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context, _context2; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context = ownKeys(Object(t), !0)).call(_context, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_5___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(_context2 = ownKeys(Object(t))).call(_context2, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_6___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n/**\n * 获取 ReactFlow 的配置项\n * @returns ReactFlowProps\n */\nfunction getReactFlowConfig() {\n  return {\n    style: {\n      background: '#ECEEF2'\n    },\n    // zoomOnScroll: false,\n    // preventScrolling: false,\n    nodesConnectable: true,\n    nodesDraggable: true\n    // panOnScrollMode: PanOnScrollMode.Free,\n    // defaultZoom: 1,\n    // minZoom: 1 / 1.2 / 1.2,\n    // maxZoom: 1.2 * 1.2,\n    // zoomOnDoubleClick: false\n  };\n}\n\n// this helper function returns the intersection point\n// of the line between the center of the intersectionNode and the target node\nfunction getNodeIntersection(intersectionNode, targetNode) {\n  // https://math.stackexchange.com/questions/1724792/an-algorithm-for-finding-the-intersection-point-between-a-center-of-vision-and-a\n  var intersectionNodeWidth = intersectionNode.width,\n    intersectionNodeHeight = intersectionNode.height,\n    intersectionNodePosition = intersectionNode.positionAbsolute;\n  var targetPosition = targetNode.positionAbsolute;\n  var w = intersectionNodeWidth / 2;\n  var h = intersectionNodeHeight / 2;\n  var x2 = intersectionNodePosition.x + w;\n  var y2 = intersectionNodePosition.y + h;\n  var x1 = targetPosition.x + targetNode.width / 2;\n  var y1 = targetPosition.y + targetNode.height / 2;\n  var xx1 = (x1 - x2) / (2 * w) - (y1 - y2) / (2 * h);\n  var yy1 = (x1 - x2) / (2 * w) + (y1 - y2) / (2 * h);\n  var a = 1 / (Math.abs(xx1) + Math.abs(yy1));\n  var xx3 = a * xx1;\n  var yy3 = a * yy1;\n  var x = w * (xx3 + yy3) + x2;\n  var y = h * (-xx3 + yy3) + y2;\n  return {\n    x: x,\n    y: y\n  };\n}\n\n// returns the position (top,right,bottom or right) passed node compared to the intersection point\nfunction getEdgePosition(node, intersectionPoint) {\n  var n = _objectSpread(_objectSpread({}, node.positionAbsolute), node);\n  var nx = Math.round(n.x);\n  var ny = Math.round(n.y);\n  var px = Math.round(intersectionPoint.x);\n  var py = Math.round(intersectionPoint.y);\n  if (px <= nx + 1) {\n    return reactflow__WEBPACK_IMPORTED_MODULE_11__.Position.Left;\n  }\n  if (px >= nx + n.width - 1) {\n    return reactflow__WEBPACK_IMPORTED_MODULE_11__.Position.Right;\n  }\n  if (py <= ny + 1) {\n    return reactflow__WEBPACK_IMPORTED_MODULE_11__.Position.Top;\n  }\n  if (py >= n.y + n.height - 1) {\n    return reactflow__WEBPACK_IMPORTED_MODULE_11__.Position.Bottom;\n  }\n  return reactflow__WEBPACK_IMPORTED_MODULE_11__.Position.Top;\n}\n\n// returns the parameters (sx, sy, tx, ty, sourcePos, targetPos) you need to create an edge\nfunction getEdgeParams(source, target) {\n  var sourceIntersectionPoint = getNodeIntersection(source, target);\n  var targetIntersectionPoint = getNodeIntersection(target, source);\n  var sourcePos = getEdgePosition(source, sourceIntersectionPoint);\n  var targetPos = getEdgePosition(target, targetIntersectionPoint);\n  return {\n    sx: sourceIntersectionPoint.x,\n    sy: sourceIntersectionPoint.y,\n    tx: targetIntersectionPoint.x,\n    ty: targetIntersectionPoint.y,\n    sourcePos: sourcePos,\n    targetPos: targetPos\n  };\n}\nfunction createNodesAndEdges() {\n  var nodes = [];\n  var edges = [];\n  var center = {\n    x: window.innerWidth / 2,\n    y: window.innerHeight / 2\n  };\n  nodes.push({\n    id: 'target',\n    data: {\n      label: 'Target'\n    },\n    position: center\n  });\n  for (var i = 0; i < 8; i++) {\n    var degrees = i * (360 / 8);\n    var radians = degrees * (Math.PI / 180);\n    var x = 250 * Math.cos(radians) + center.x;\n    var y = 250 * Math.sin(radians) + center.y;\n    nodes.push({\n      id: \"\".concat(i),\n      data: {\n        label: 'Source'\n      },\n      position: {\n        x: x,\n        y: y\n      }\n    });\n    edges.push({\n      id: \"edge-\".concat(i),\n      target: 'target',\n      source: \"\".concat(i),\n      type: 'floating',\n      markerEnd: {\n        type: reactflow__WEBPACK_IMPORTED_MODULE_11__.MarkerType.Arrow\n      }\n    });\n  }\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n}\nvar transformData = function transformData(tablesData, fieldsData, referencesData) {\n  var dataTypes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var nodesData = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(tablesData).call(tablesData, function (table, index) {\n    var position = table.Position;\n    return {\n      id: table.Id,\n      type: 'table',\n      position: {\n        x: (position === null || position === void 0 ? void 0 : position.X) || index % 4 * 360,\n        y: (position === null || position === void 0 ? void 0 : position.Y) || Math.floor(index / 4) * 500\n      },\n      data: {\n        id: table.Id,\n        name: table.Name,\n        items: [],\n        size: {\n          width: 320,\n          height: 500\n        }\n      }\n    };\n  });\n  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_9___default()(fieldsData).call(fieldsData, function (field) {\n    var tableIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_10___default()(nodesData).call(nodesData, function (table) {\n      return table.id === field.ParentId;\n    });\n    nodesData[tableIndex].data.items.push({\n      name: field.Name,\n      type: dataTypes[field.ColumnType],\n      isNotNull: field.ColumnNull,\n      isPrimaryKey: field.ColumnPrimaryKey,\n      isForeignKey: false\n    });\n  });\n  var edgesData = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(referencesData).call(referencesData, function (reference) {\n    return {\n      id: reference.Id,\n      type: 'floating',\n      source: reference.RelStart.RelTableId,\n      target: reference.RelEnd.RelTableId\n    };\n  });\n  return {\n    nodesData: nodesData,\n    edgesData: edgesData\n  };\n};\n\n//# sourceURL=webpack://model-designer/./src/utils/layout.ts?");

/***/ }),

/***/ 54739:
/*!***********************************!*\
  !*** ./src/utils/setDragImage.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_controlIconMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/controlIconMap */ 23724);\n\n// 设置拖拽时的图像\n\nvar dragImage = null; // 拖拽时显示的图片对象\n\nvar setDragImage = function setDragImage(event, type, name) {\n  if (!event.dataTransfer || !event.dataTransfer.setDragImage) return;\n\n  // 清除图片信息\n  var clearDragImage = function clearDragImage() {\n    if (dragImage) {\n      document.body.removeChild(dragImage);\n    }\n    dragImage = null;\n  };\n  // 生成拖拽时跟随鼠标的图片\n  var getDragImage = function getDragImage(type, name) {\n    var _context;\n    clearDragImage();\n    dragImage = document.createElement('div');\n    var icon = (0,_utils_controlIconMap__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(type);\n    var dragHtml = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context = \"<i class=\\\"designericon designericon-\".concat(icon, \"\\\" style=\\\"font-size:20px\\\"></i>\")).call(_context, name);\n    dragImage.innerHTML = dragHtml;\n    dragImage.style.cssText = 'position:absolute;top:-9999px;left:-9999px;opacity:1!important;display:flex;align-items:center';\n    // dragImage.style.cssText = 'position:absolute;opacity:1!important;'\n    document.body.appendChild(dragImage);\n    return dragImage;\n  };\n  event.dataTransfer.dropEffect = 'move';\n  event.dataTransfer.setDragImage(getDragImage(type, name), -20, -24);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (setDragImage);\n\n//# sourceURL=webpack://model-designer/./src/utils/setDragImage.ts?");

/***/ }),

/***/ 59416:
/*!**********************************!*\
  !*** ./src/utils/setProperty.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 39832);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ 13760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constant/propnames */ 62240);\n\n\n\n\n\n\n/*\n * @Description: setProperty\n */\n\n\n\nvar UPDATE = 'update';\nvar ALIAS = 'alias';\nvar delayQueueUtil = new designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.DelayQueueUtil([UPDATE, ALIAS]);\nvar setProperty = function setProperty(_ref) {\n  var dataRef = _ref.dataRef,\n    kdesignerApi = _ref.kdesignerApi,\n    keywordMapping = _ref.keywordMapping;\n  return function (args) {\n    var _context;\n    if (!args || !args[0]) return;\n    var data = args[0];\n    data = (0,lodash__WEBPACK_IMPORTED_MODULE_7__.isArray)(data) ? data : [data];\n    var aliasActions = [];\n    var actions = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(data).call(data, function (prop) {\n      var _context2;\n      var itemId = prop.itemId,\n        value = prop.value,\n        _prop$metaType = prop.metaType,\n        metaType = _prop$metaType === void 0 ? 'dmmeta' : _prop$metaType,\n        propertyName = prop.propertyName,\n        _alias = prop.alias;\n      var _propertyName = propertyName;\n      var alias = (0,lodash__WEBPACK_IMPORTED_MODULE_7__.isUndefined)(_alias) ? _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(value) : _alias;\n      var oldItem = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = dataRef.current.Items).call(_context2, function (item) {\n        return item.Id === itemId;\n      });\n      if (!oldItem) {\n        console.log('other\"s form type action: ', prop);\n        return;\n      }\n      var oldValue = oldItem[_propertyName];\n      if ((0,lodash__WEBPACK_IMPORTED_MODULE_7__.isUndefined)(oldValue)) {\n        var propDefVal = kdesignerApi.current.meta.getControlPropertyDefaultValue(oldItem[_constant_propnames__WEBPACK_IMPORTED_MODULE_8__._TYPE_], _propertyName);\n        if (propDefVal) {\n          oldValue = propDefVal;\n        }\n      }\n      var isValChange = !(0,lodash__WEBPACK_IMPORTED_MODULE_7__.isEqual)(oldValue, value);\n      if (isValChange) {\n        // 这里如果是Batch还不能直接调,得在Attr里做一层转发 ?\n        return [itemId, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, propertyName, value)];\n      }\n      if (!(0,lodash__WEBPACK_IMPORTED_MODULE_7__.isUndefined)(alias)) {\n        var originAliasValue = kdesignerApi.current.aliasData.getAliasDataPropValue(oldItem[keywordMapping.type], propertyName, value);\n        if (!(0,lodash__WEBPACK_IMPORTED_MODULE_7__.isEqual)(originAliasValue, alias)) {\n          // 不应该会改type\n          aliasActions.push({\n            type: oldItem[keywordMapping.type],\n            propName: propertyName,\n            value: value,\n            alias: alias\n          });\n        }\n      }\n      return;\n    })).call(_context, Boolean);\n    delayQueueUtil.addQueueData(actions, UPDATE);\n    delayQueueUtil.addQueueData(aliasActions, ALIAS);\n    delayQueueUtil.addTimer(function () {\n      var dataActionQueue = delayQueueUtil.getQueueData(UPDATE);\n      var aliasActionQueue = delayQueueUtil.getQueueData(ALIAS);\n      if (dataActionQueue.length) {\n        kdesignerApi.current.data.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.createUpdateAction)(dataActionQueue));\n      }\n      if (aliasActionQueue.length) {\n        _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default()(function () {\n          kdesignerApi.current.aliasData.setAliasDataPropValue(aliasActionQueue);\n        });\n      }\n      delayQueueUtil.clearQueue();\n    });\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (setProperty);\n\n//# sourceURL=webpack://model-designer/./src/utils/setProperty.ts?");

/***/ }),

/***/ 41960:
/*!***********************************!*\
  !*** ./src/utils/setTableInfo.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constant/propnames */ 62240);\n\n\n\n\n\nvar setTableInfo = function setTableInfo(_ref) {\n  var kdesignerApi = _ref.kdesignerApi;\n  return function (args) {\n    var _dataApi$getData, _context;\n    if (!args[0]) return;\n    var tableData = args[0].table;\n    var tableId = tableData[_constant_propnames__WEBPACK_IMPORTED_MODULE_4__.ID];\n    var fieldsData = args[0].fields || [];\n    // 删除原有表中字段数据，添加新数据\n    var dataApi = kdesignerApi.current.data;\n    var items = (_dataApi$getData = dataApi.getData()) === null || _dataApi$getData === void 0 ? void 0 : _dataApi$getData[_constant_propnames__WEBPACK_IMPORTED_MODULE_4__.ITEMS];\n    var fieldsDataIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(items).call(items, function (item) {\n      return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_4__.PARENTID] === tableId;\n    })).call(_context, function (item) {\n      return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_4__.ID];\n    });\n    var delectAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.createDeleteAction)((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(fieldsDataIds));\n    var addAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.createAddAction)((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(fieldsData), {\n      isInstrucAdd: true\n    });\n    var updateAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.createUpdateAction)([[tableId, tableData]]);\n    var actions = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.createCustomUpdateAction)(['model_custom_action', delectAction, addAction, updateAction]);\n    dataApi.customUpdateState(actions).then(function () {\n      // selectionApi.setSelect(id)\n    });\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (setTableInfo);\n\n//# sourceURL=webpack://model-designer/./src/utils/setTableInfo.ts?");

/***/ }),

/***/ 31936:
/*!**************************************!*\
  !*** ./src/utils/uiModelFunction.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createReferenceData: function() { return /* binding */ createReferenceData; },\n/* harmony export */   createReferenceSymbolAp: function() { return /* binding */ createReferenceSymbolAp; },\n/* harmony export */   createTableSymbolData: function() { return /* binding */ createTableSymbolData; }\n/* harmony export */ });\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ 63612);\n\n\n\n// 存储在模型图中的关系数据\nvar createReferenceSymbolAp = function createReferenceSymbolAp(diagramId, refSymbolId, relRefId, sourceId, targetId) {\n  return {\n    ParentId: diagramId,\n    _Type_: 'ReferenceSymbolAp',\n    Key: 'ReferenceSymbolAp',\n    Id: refSymbolId,\n    RelationShipSymbol: {\n      ParentId: refSymbolId,\n      _Type_: 'RelationShipSymbolAp',\n      RelRelationIdSymbol: relRefId\n    },\n    SourceSymbol: {\n      ParentId: refSymbolId,\n      _Type_: 'TableSymbolAp',\n      RelTableIdSymbol: sourceId\n    },\n    DestinationSymbol: {\n      ParentId: refSymbolId,\n      _Type_: 'TableSymbolAp',\n      RelTableIdSymbol: targetId\n    }\n  };\n};\n\n// 存储在dmmeta.Items中的关系数据\nvar createReferenceData = function createReferenceData(dataList, parentId, refSymbolId, relRefId, sourceId, targetId) {\n  var key = (0,_index__WEBPACK_IMPORTED_MODULE_1__.createUniqueKey)(dataList, 'reference');\n  var relStartId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.createUUid)();\n  var relEndId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.createUUid)();\n  return {\n    ParentId: parentId,\n    RelStart: {\n      ParentId: refSymbolId,\n      _Type_: 'RelNode',\n      Id: relStartId,\n      RelTableId: sourceId\n    },\n    _Type_: 'RelationShipAp',\n    RelationShipType: '0..*',\n    Id: relRefId,\n    RelEnd: {\n      ParentId: refSymbolId,\n      _Type_: 'RelNode',\n      Id: relEndId,\n      RelTableId: targetId\n    },\n    Key: key,\n    Name: 'reference'\n  };\n};\n\n// 存储在dmmeta.Items中的表数据\nvar createTableSymbolData = function createTableSymbolData(name, parentId, relTableIdSymbol, position) {\n  var id = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.createUUid)();\n  return {\n    Id: id,\n    Name: name,\n    ParentId: parentId,\n    RelTableIdSymbol: relTableIdSymbol,\n    _Type_: 'TableSymbolAp',\n    Position: position\n  };\n};\n\n//# sourceURL=webpack://model-designer/./src/utils/uiModelFunction.ts?");

/***/ }),

/***/ 25996:
/*!********************************!*\
  !*** ./src/views/MainView.tsx ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MainView; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 29636);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/some */ 65624);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 47976);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 39448);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 55748);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 54120);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ 63808);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ 45040);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var reactflow__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! reactflow */ 77304);\n/* harmony import */ var reactflow__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! reactflow */ 82448);\n/* harmony import */ var reactflow_dist_style_css__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! reactflow/dist/style.css */ 2152);\n/* harmony import */ var reactflow_dist_style_css__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(reactflow_dist_style_css__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _TopView__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./TopView */ 59032);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _controls_TableNode__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../controls/TableNode */ 63996);\n/* harmony import */ var _utils_layout__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utils/layout */ 21920);\n/* harmony import */ var _controls_FloatingEdge__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../controls/FloatingEdge */ 87896);\n/* harmony import */ var _controls_CustomConnectionLine__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../controls/CustomConnectionLine */ 28976);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../constant/nodeType */ 37400);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../constant/propnames */ 62240);\n/* harmony import */ var _constant_prefixClass__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../constant/prefixClass */ 7660);\n/* harmony import */ var _img_empty_data_png__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../img/empty_data.png */ 91708);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_29__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../utils */ 63612);\n/* harmony import */ var _controls_OperationBtns__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../controls/OperationBtns */ 5504);\n/* harmony import */ var _utils_uiModelFunction__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../utils/uiModelFunction */ 31936);\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context2, _context3; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context2 = ownKeys(Object(t), !0)).call(_context2, function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default()) ? _babel_runtime_corejs3_core_js_stable_object_define_properties__WEBPACK_IMPORTED_MODULE_9___default()(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default()(t)) : _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(_context3 = ownKeys(Object(t))).call(_context3, function (r) { _babel_runtime_corejs3_core_js_stable_object_define_property__WEBPACK_IMPORTED_MODULE_10___default()(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction MainView(_ref) {\n  var _dataApi$findControl;\n  var data = _ref.data;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_16__.useState)({\n      nodesData: [],\n      edgesData: []\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    rfData = _useState2[0],\n    setRfData = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_16__.useState)(),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState3, 2),\n    activeCtrlId = _useState4[0],\n    setActiveCtrlId = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_16__.useState)(''),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState5, 2),\n    diagramId = _useState6[0],\n    setDiagramId = _useState6[1];\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_16__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_16__.useContext)(_context__WEBPACK_IMPORTED_MODULE_24__.DesignerContext),\n    getKdesignerApi = _useContext2.getKdesignerApi,\n    setCurrDiagramId = _useContext2.setCurrDiagramId,\n    dataTypes = _useContext2.dataTypes;\n  var _getKdesignerApi = getKdesignerApi(),\n    selectionApi = _getKdesignerApi.selection,\n    dataApi = _getKdesignerApi.data;\n  (0,react__WEBPACK_IMPORTED_MODULE_16__.useEffect)(function () {\n    var activeCtrlId = selectionApi.getActiveSelectedId();\n    setActiveCtrlId(activeCtrlId);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_16__.useEffect)(function () {\n    var dataChangeListener = dataApi.addDataChangeListener(setReactFlowData);\n    var selectionChangeListener = selectionApi.addSelectChangeListener(function (event) {\n      var _activeCtrlId = event.value[0];\n      setActiveCtrlId(_activeCtrlId);\n      setReactFlowData();\n    });\n    return function () {\n      dataChangeListener === null || dataChangeListener === void 0 || dataChangeListener();\n      selectionChangeListener === null || selectionChangeListener === void 0 || selectionChangeListener();\n    };\n  }, [diagramId]);\n  var setReactFlowData = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function () {\n    var activeCtrlId = selectionApi.getActiveSelectedId();\n    if (!activeCtrlId) return;\n    var _ref2 = dataApi.findControl(activeCtrlId) || {},\n      ctrlType = _ref2._Type_,\n      tableSymbolAps = _ref2.TableSymbolAps,\n      _ref2$ReferenceSymbol = _ref2.ReferenceSymbolAps,\n      references = _ref2$ReferenceSymbol === void 0 ? [] : _ref2$ReferenceSymbol;\n    var tables = tableSymbolAps || [];\n    if (ctrlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.TABLE_AP || ctrlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.RELATIONSHIP_AP) {\n      var diagramData = dataApi.findControl(diagramId);\n      tables = (diagramData === null || diagramData === void 0 ? void 0 : diagramData.TableSymbolAps) || [];\n      references = (diagramData === null || diagramData === void 0 ? void 0 : diagramData.ReferenceSymbolAps) || [];\n    } else if (ctrlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.PHYSICAL_DIAGRAM) {\n      setDiagramId(activeCtrlId);\n      setCurrDiagramId(activeCtrlId);\n    } else if (ctrlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.DM_PACKAGE_AP) {\n      var _diagramData = dataApi.findControl(diagramId);\n      if (!_diagramData) {\n        setRfData({\n          nodesData: [],\n          edgesData: []\n        });\n      }\n      return;\n    } else {\n      return;\n    }\n    var tablesId = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(tables).call(tables, function (table) {\n      return table.RelTableIdSymbol;\n    });\n    var referencesId = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(references).call(references, function (reference) {\n      return reference.RelationShipSymbol.RelRelationIdSymbol;\n    });\n    var _dataApi$getData = dataApi.getData(),\n      dataList = _dataApi$getData.Items;\n    var tablesData = [];\n    var fieldsData = [];\n    var referencesData = [];\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(dataList).call(dataList, function (item) {\n      var tableIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_12___default()(tablesId).call(tablesId, function (tableId) {\n        return tableId === item.Id;\n      });\n      if (tableIndex > -1) {\n        var tableData = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, item, {\n          Position: tables[tableIndex].Position\n        });\n        tablesData.push(tableData);\n      } else if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(tablesId).call(tablesId, item.ParentId) && item._Type_ === _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.COLUMN_AP) {\n        fieldsData.push(item);\n      } else if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(referencesId).call(referencesId, item.Id)) {\n        referencesData.push(item);\n      }\n    });\n    var _transformData = (0,_utils_layout__WEBPACK_IMPORTED_MODULE_21__.transformData)(tablesData, fieldsData, referencesData, dataTypes),\n      nodesData = _transformData.nodesData,\n      edgesData = _transformData.edgesData;\n    setRfData({\n      nodesData: nodesData,\n      edgesData: edgesData\n    });\n  }, [diagramId]);\n  var selectType = (0,_utils__WEBPACK_IMPORTED_MODULE_30__.isTableGroup)(activeCtrlId) ? _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.TABLE_GROUP_AP : (_dataApi$findControl = dataApi.findControl(activeCtrlId)) === null || _dataApi$findControl === void 0 ? void 0 : _dataApi$findControl._Type_;\n  var hasNodesData = rfData.nodesData && rfData.nodesData.length > 0;\n  var mainViewPrefixCls = getPrefixCls(prefixCls, _constant_prefixClass__WEBPACK_IMPORTED_MODULE_27__.MAIN_VIEW_WRAPPER);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n    className: mainViewPrefixCls,\n    id: \"ui-designer-root\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(_TopView__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n    diagramId: diagramId\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(DrawingBoard, {\n    nodesData: rfData.nodesData,\n    edgesData: rfData.edgesData,\n    diagramId: diagramId,\n    setSelect: selectionApi.setSelect,\n    hasNodesData: hasNodesData\n  }), hasNodesData ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(EmptyPanel, {\n    selectType: selectType\n  }));\n}\nvar connectionLineStyle = {\n  strokeWidth: 2,\n  stroke: '#999'\n};\nvar nodeTypes = {\n  table: _controls_TableNode__WEBPACK_IMPORTED_MODULE_20__[\"default\"]\n};\nvar edgeTypes = {\n  floating: _controls_FloatingEdge__WEBPACK_IMPORTED_MODULE_22__[\"default\"]\n};\nvar defaultEdgeOptions = {\n  style: {\n    strokeWidth: 2,\n    stroke: '#999'\n  },\n  type: 'floating',\n  markerEnd: {\n    type: reactflow__WEBPACK_IMPORTED_MODULE_33__.MarkerType.ArrowClosed,\n    color: '#999'\n  }\n};\nvar DrawingBoard = function DrawingBoard(_ref3) {\n  var _ref3$nodesData = _ref3.nodesData,\n    nodesData = _ref3$nodesData === void 0 ? [] : _ref3$nodesData,\n    _ref3$edgesData = _ref3.edgesData,\n    edgesData = _ref3$edgesData === void 0 ? [] : _ref3$edgesData,\n    diagramId = _ref3.diagramId,\n    hasNodesData = _ref3.hasNodesData;\n  var _useNodesState = (0,reactflow__WEBPACK_IMPORTED_MODULE_33__.useNodesState)(nodesData),\n    _useNodesState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useNodesState, 3),\n    nodes = _useNodesState2[0],\n    setNodes = _useNodesState2[1],\n    onNodesChange = _useNodesState2[2];\n  var _useEdgesState = (0,reactflow__WEBPACK_IMPORTED_MODULE_33__.useEdgesState)(edgesData),\n    _useEdgesState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useEdgesState, 3),\n    edges = _useEdgesState2[0],\n    setEdges = _useEdgesState2[1],\n    onEdgesChange = _useEdgesState2[2];\n  var _useContext3 = (0,react__WEBPACK_IMPORTED_MODULE_16__.useContext)(_context__WEBPACK_IMPORTED_MODULE_24__.DesignerContext),\n    getKdesignerApi = _useContext3.getKdesignerApi,\n    currDiagramId = _useContext3.currDiagramId,\n    isValidConnection = _useContext3.isValidConnection;\n  var _getKdesignerApi2 = getKdesignerApi(),\n    selectionApi = _getKdesignerApi2.selection,\n    dataApi = _getKdesignerApi2.data;\n  var reactFlowInstanceRef = (0,react__WEBPACK_IMPORTED_MODULE_16__.useRef)({});\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_16__.useState)(true),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState7, 2),\n    panOnScroll = _useState8[0],\n    setPanOnScroll = _useState8[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_16__.useEffect)(function () {\n    setNodes(nodesData);\n  }, [nodesData]);\n  (0,react__WEBPACK_IMPORTED_MODULE_16__.useEffect)(function () {\n    setEdges(edgesData);\n  }, [edgesData]);\n  var onInit = function onInit(instance) {\n    reactFlowInstanceRef.current = instance;\n  };\n  var onConnect = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (params) {\n    if (!isValidConnection) return;\n    var source = params.source,\n      target = params.target;\n    var diagramData = dataApi.findControl(currDiagramId);\n    var references = diagramData.ReferenceSymbolAps || [];\n    var existReference = _babel_runtime_corejs3_core_js_stable_instance_some__WEBPACK_IMPORTED_MODULE_14___default()(references).call(references, function (ref) {\n      var sourceTableId = ref.SourceSymbol.RelTableIdSymbol;\n      var targetTableId = ref.DestinationSymbol.RelTableIdSymbol;\n      return sourceTableId === source && targetTableId === target || sourceTableId === target && targetTableId === source;\n    });\n    // 如果两个节点之间已经存在连线，则重新连线失败\n    if (existReference) return;\n    setEdges(function (eds) {\n      return (0,reactflow__WEBPACK_IMPORTED_MODULE_33__.addEdge)(params, eds);\n    });\n    var refSymbolId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.createUUid)();\n    var relRefId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.createUUid)();\n    var referenceSymbolAp = (0,_utils_uiModelFunction__WEBPACK_IMPORTED_MODULE_32__.createReferenceSymbolAp)(currDiagramId, refSymbolId, relRefId, source, target);\n    var _dataApi$getData2 = dataApi.getData(),\n      dataList = _dataApi$getData2.Items;\n    var refData = (0,_utils_uiModelFunction__WEBPACK_IMPORTED_MODULE_32__.createReferenceData)(dataList, diagramData.ParentId, refSymbolId, relRefId, source, target);\n    dataApi.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.createAddAction)([refData, referenceSymbolAp]));\n    var updateAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.createUpdateAction)([[currDiagramId, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _constant_propnames__WEBPACK_IMPORTED_MODULE_26__.REFERENCE_SYMBOL_APS, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_15___default()(references).call(references, referenceSymbolAp))]]);\n    dataApi.batchUpdateControlPropertyValues(updateAction);\n  }, [setEdges, currDiagramId, isValidConnection]);\n  var onEdgeClick = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (event, edge) {\n    selectionApi.setSelect(edge.id);\n  }, [selectionApi]);\n  var clientPosToTargetPosConverter = function clientPosToTargetPosConverter(clientX, clientY) {\n    var _document$getElementB;\n    var reactflowPosition = (_document$getElementB = document.getElementById('ui-designer-root')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.getBoundingClientRect();\n    if (!reactflowPosition || !reactFlowInstanceRef.current.getViewport) return {\n      X: clientX,\n      Y: clientY\n    };\n    var _reactFlowInstanceRef = reactFlowInstanceRef.current.getViewport(),\n      translateX = _reactFlowInstanceRef.x,\n      translateY = _reactFlowInstanceRef.y,\n      zoom = _reactFlowInstanceRef.zoom; // 获取画布平移和缩放值\n    var positionIncanvas = {\n      x: clientX - reactflowPosition.x,\n      y: clientY - reactflowPosition.y\n    };\n    var position = {\n      X: (positionIncanvas.x - translateX) / zoom,\n      Y: (positionIncanvas.y - translateY) / zoom\n    };\n    return position;\n  };\n  var onPaneClick = function onPaneClick(_ref5) {\n    var clientX = _ref5.clientX,\n      clientY = _ref5.clientY;\n    var position = clientPosToTargetPosConverter(clientX, clientY);\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.eventBus.emit('tablePosition', {\n      diagramId: diagramId,\n      position: position\n    });\n  };\n  var onNodeMouseEnter = function onNodeMouseEnter() {\n    setPanOnScroll(false);\n  };\n  var onNodeMouseLeave = function onNodeMouseLeave() {\n    setPanOnScroll(true);\n  };\n  var onDragOver = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (event) {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  }, []);\n  var onDrop = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (event) {\n    event.preventDefault();\n    if (!diagramId) return;\n    var nodeId = event.dataTransfer.getData('application/reactflow');\n    var node = dataApi.findControl(nodeId) || {};\n    if (node[_constant_propnames__WEBPACK_IMPORTED_MODULE_26__._TYPE_] !== _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.TABLE_AP) return;\n    var position = clientPosToTargetPosConverter(event.clientX, event.clientY);\n    var diagramCtrl = dataApi.findControl(diagramId); // 当前打开的模型图控件\n    // 需要在模型图数据的TableSymbolAps属性下，新增指向table的数据id\n    var oldTableSymbolAps = diagramCtrl[_constant_propnames__WEBPACK_IMPORTED_MODULE_26__.TABLE_SYMBOL_APS] || [];\n    var tableSymbolAp = (0,_utils_uiModelFunction__WEBPACK_IMPORTED_MODULE_32__.createTableSymbolData)(node[_constant_propnames__WEBPACK_IMPORTED_MODULE_26__.NAME], diagramId, nodeId, position);\n    var newTableSymbolAps = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_15___default()(oldTableSymbolAps).call(oldTableSymbolAps, [tableSymbolAp]);\n    var updateAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.createUpdateAction)([[diagramId, {\n      TableSymbolAps: newTableSymbolAps\n    }]]);\n    var addAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.createAddAction)([tableSymbolAp]);\n    var actions = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.createCustomUpdateAction)(['model_custom_action', addAction, updateAction]);\n    dataApi.customUpdateState(actions).then(function () {\n      selectionApi.setSelect(nodeId);\n    });\n  }, [diagramId]);\n  var onNodeDragStop = function onNodeDragStop(event, node) {\n    var diagramData = dataApi.findControl(currDiagramId) || [];\n    var tableSymbolAps = diagramData[_constant_propnames__WEBPACK_IMPORTED_MODULE_26__.TABLE_SYMBOL_APS];\n    var isPositionChange = false;\n    var tableSymbolId = '';\n    var _node$position = node.position,\n      x = _node$position.x,\n      y = _node$position.y;\n    var newTableSymbolAps = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(tableSymbolAps).call(tableSymbolAps, function (item) {\n      if (item.RelTableIdSymbol === node.id) {\n        tableSymbolId = item.Id;\n        var originPosition = item.Position || {};\n        if (originPosition.X !== x || originPosition.Y !== y) {\n          isPositionChange = true;\n          return _objectSpread(_objectSpread({}, item), {}, {\n            Position: {\n              X: x,\n              Y: y\n            }\n          });\n        }\n      }\n      return item;\n    });\n    if (isPositionChange) {\n      var updateAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.createUpdateAction)([[currDiagramId, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _constant_propnames__WEBPACK_IMPORTED_MODULE_26__.TABLE_SYMBOL_APS, newTableSymbolAps)], [tableSymbolId, {\n        Position: {\n          X: x,\n          Y: y\n        }\n      }]]);\n      dataApi.batchUpdateControlPropertyValues(updateAction);\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement((react__WEBPACK_IMPORTED_MODULE_16___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"svg\", {\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"defs\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"marker\", {\n    class: \"react-flow__arrowhead\",\n    id: \"1__color=#276FF5&type=arrowclosed\",\n    markerWidth: \"12.5\",\n    markerHeight: \"12.5\",\n    viewBox: \"-10 -10 20 20\",\n    markerUnits: \"strokeWidth\",\n    orient: \"auto-start-reverse\",\n    refX: \"0\",\n    refY: \"0\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"polyline\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    points: \"-5,-4 0,0 -5,4 -5,-4\",\n    style: {\n      stroke: 'rgb(39, 111, 245)',\n      fill: 'rgb(39, 111, 245)',\n      strokeWidth: 1\n    }\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(reactflow__WEBPACK_IMPORTED_MODULE_33__.ReactFlow, {\n    onInit: onInit,\n    style: {\n      background: '#ECEEF2'\n    },\n    nodes: nodes,\n    edges: edges,\n    onNodesChange: onNodesChange,\n    onEdgesChange: onEdgesChange,\n    onConnect: onConnect,\n    onEdgeClick: onEdgeClick,\n    onPaneClick: onPaneClick,\n    fitView: true,\n    fitViewOptions: {\n      maxZoom: 1\n    },\n    nodeTypes: nodeTypes,\n    edgeTypes: edgeTypes,\n    defaultEdgeOptions: defaultEdgeOptions,\n    connectionLineComponent: _controls_CustomConnectionLine__WEBPACK_IMPORTED_MODULE_23__[\"default\"],\n    connectionLineStyle: connectionLineStyle,\n    onDragOver: onDragOver,\n    onDrop: onDrop,\n    onNodeDragStop: onNodeDragStop,\n    nodesConnectable: isValidConnection,\n    panOnScroll: panOnScroll,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseLeave: onNodeMouseLeave,\n    zoomOnScroll: false,\n    preventScrolling: false\n  }, hasNodesData && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(reactflow__WEBPACK_IMPORTED_MODULE_34__.MiniMap, {\n    zoomable: true,\n    pannable: true\n  }), hasNodesData && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(_controls_OperationBtns__WEBPACK_IMPORTED_MODULE_31__[\"default\"], null)));\n};\nvar EmptyPanel = function EmptyPanel(_ref7) {\n  var _context;\n  var selectType = _ref7.selectType;\n  var _useContext4 = (0,react__WEBPACK_IMPORTED_MODULE_16__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.ConfigContext),\n    getPrefixCls = _useContext4.getPrefixCls,\n    prefixCls = _useContext4.prefixCls;\n  var mainViewPrefixCls = getPrefixCls(prefixCls, _constant_prefixClass__WEBPACK_IMPORTED_MODULE_27__.MAIN_VIEW_WRAPPER);\n  var emptyTips = '';\n  if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(_context = [_constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.DM_PACKAGE_AP, _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.DATA_MODEL_AP, _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.TABLE_GROUP_AP]).call(_context, selectType)) {\n    emptyTips = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.getLangMsg)({\n      key: 'modeld.emptyPanel.tips1',\n      variables: {\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_29__.Icon, {\n          prefix: \"designericon\",\n          type: \"tianjiaziji\"\n        })\n      }\n    });\n  } else if (selectType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_25__.PHYSICAL_DIAGRAM) {\n    emptyTips = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.getLangMsg)({\n      key: 'modeld.emptyPanel.tips2',\n      variables: {\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_29__.Icon, {\n          prefix: \"designericon\",\n          type: \"biao57\"\n        })\n      }\n    });\n  } else {\n    return null;\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n    className: mainViewPrefixCls + '-empty-panel'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"img\", {\n    className: mainViewPrefixCls + '-empty-panel-img',\n    src: _img_empty_data_png__WEBPACK_IMPORTED_MODULE_28__[\"default\"]\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n    className: mainViewPrefixCls + '-empty-panel-tips'\n  }, emptyTips));\n};\n\n//# sourceURL=webpack://model-designer/./src/views/MainView.tsx?");

/***/ }),

/***/ 59032:
/*!*******************************!*\
  !*** ./src/views/TopView.tsx ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ TopView; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../constant/propnames */ 62240);\n/* harmony import */ var _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../constant/nodeType */ 37400);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils */ 63612);\n/* harmony import */ var _utils_uiModelFunction__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/uiModelFunction */ 31936);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction TopView(_ref) {\n  var diagramId = _ref.diagramId;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_7__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var topViewPrefixCls = getPrefixCls && getPrefixCls(prefixCls, 'top-view-wrapper');\n  var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: topViewPrefixCls\n  }, diagramId && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ToolBar, {\n    diagramId: diagramId\n  }));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.ViewHeader, {\n    content: content,\n    portalId: \"kdesigner-top-view-main\"\n  });\n}\nfunction ToolBar(_ref2) {\n  var diagramId = _ref2.diagramId;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.ConfigContext),\n    getPrefixCls = _useContext2.getPrefixCls,\n    prefixCls = _useContext2.prefixCls;\n  var topViewPrefixCls = getPrefixCls && getPrefixCls(prefixCls, 'top-view-wrapper');\n  var _useContext3 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context__WEBPACK_IMPORTED_MODULE_10__.DesignerContext),\n    getKdesignerApi = _useContext3.getKdesignerApi,\n    currDiagramId = _useContext3.currDiagramId,\n    setIsValidConnection = _useContext3.setIsValidConnection;\n  var kdesignerApi = (0,react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataApi = kdesignerApi.data,\n    metaApi = kdesignerApi.meta,\n    selectionApi = kdesignerApi.selection;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    addBtnSelected = _useState2[0],\n    setAddBtnSelected = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState3, 2),\n    addRefsBtnSelected = _useState4[0],\n    setAddRefsBtnSelected = _useState4[1];\n  var _useContext4 = (0,react__WEBPACK_IMPORTED_MODULE_7__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.GlobalConfigContext),\n    onTableClick = _useContext4.onTableClick,\n    showMessage = _useContext4.showMessage;\n  var rootId = dataApi.getRootId();\n  var tablePositionCb = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (_ref3) {\n    var diagramId = _ref3.diagramId,\n      position = _ref3.position;\n    if (!addBtnSelected) return;\n    handleAddTable({\n      diagramId: diagramId,\n      position: position\n    });\n    setAddBtnSelected(false);\n  }, [addBtnSelected]);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    var _document$getElements;\n    var reactFlowPanelEle = (_document$getElements = document.getElementsByClassName('react-flow__pane')) === null || _document$getElements === void 0 ? void 0 : _document$getElements[0];\n    if (reactFlowPanelEle) {\n      reactFlowPanelEle.style.cursor = addBtnSelected ? 'crosshair' : 'grab';\n    }\n  }, [addBtnSelected]);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.eventBus.on('tablePosition', tablePositionCb);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.eventBus.off('tablePosition');\n    };\n  }, [tablePositionCb]);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    setIsValidConnection(addRefsBtnSelected);\n  }, [addRefsBtnSelected]);\n  var onClick = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (event) {\n    if (!addBtnSelected && !addRefsBtnSelected) return;\n    var target = event.target;\n    var addBtnEle = document.getElementById('top-view-add-table-btn');\n    var addRefsBtnEle = document.getElementById('top-view-add-refs-btn');\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_14__.isInTargetEle)(target, addBtnEle) || (0,_utils__WEBPACK_IMPORTED_MODULE_14__.isInTargetEle)(target, addRefsBtnEle)) return;\n    var mainViewPanel = document.getElementById('ui-designer-root');\n    if (!(0,_utils__WEBPACK_IMPORTED_MODULE_14__.isInTargetEle)(target, mainViewPanel)) {\n      setAddRefsBtnSelected(false);\n      setAddBtnSelected(false);\n    }\n  }, [addBtnSelected, addRefsBtnSelected]);\n  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    document.addEventListener('click', onClick);\n    return function () {\n      document.removeEventListener('click', onClick);\n    };\n  }, [onClick]);\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.useDataChangeForceUpdateEffect)(kdesignerApi);\n\n  /**\n   * 1.获取当前选中模型图，在其所属包下新增表;2.在模型图数据的TableSymbolAps属性下，新增指向table的数据id\n   * @returns\n   */\n  var handleAddTable = function handleAddTable(_ref4) {\n    var _metaApi$getControlMe, _dataApi$getData;\n    var diagramId = _ref4.diagramId,\n      position = _ref4.position;\n    // 获取当前打开的模型图，在其所属包下新增表\n    var diagramCtrl = dataApi.findControl(diagramId);\n    if ((diagramCtrl === null || diagramCtrl === void 0 ? void 0 : diagramCtrl[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__._TYPE_]) !== _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.PHYSICAL_DIAGRAM) return;\n    // 是模型下的模型图，不允许新增表，只能用包内的表\n    if (diagramCtrl[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.PARENTID] === rootId) {\n      showMessage((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.getLangMsg)('modeld.topView.disableAddTable'), 'warn');\n      return;\n    }\n    var name = (_metaApi$getControlMe = metaApi.getControlMeta(_constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.TABLE_AP)) === null || _metaApi$getControlMe === void 0 ? void 0 : _metaApi$getControlMe[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.NAME];\n    var id = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createUUid)();\n    var isv = (_dataApi$getData = dataApi.getData()) === null || _dataApi$getData === void 0 ? void 0 : _dataApi$getData.Isv;\n    var tableName = isv === 'kingdee' ? 't_table' : \"tk_\".concat(isv, \"_table\"); // 表的标识根据开发商标识生成\n    var addControl = {\n      Name: name,\n      _Type_: _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.TABLE_AP,\n      Id: id,\n      ParentId: diagramCtrl[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.PARENTID],\n      Key: 'table',\n      TableName: tableName.toUpperCase()\n    };\n    var tableSymbolAp = (0,_utils_uiModelFunction__WEBPACK_IMPORTED_MODULE_15__.createTableSymbolData)(name, diagramId, id, position);\n    var addAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createAddAction)([addControl, tableSymbolAp]);\n    // 同时，需要在模型图数据的TableSymbolAps属性下，新增指向table的数据id\n    var oldTableSymbolAps = diagramCtrl[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.TABLE_SYMBOL_APS] || [];\n    var newTableSymbolAps = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(oldTableSymbolAps).call(oldTableSymbolAps, [tableSymbolAp]);\n    var updateAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createUpdateAction)([[diagramId, {\n      TableSymbolAps: newTableSymbolAps\n    }]]);\n    var actions = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createCustomUpdateAction)(['model_custom_action', addAction, updateAction]);\n    dataApi.customUpdateState(actions).then(function () {\n      selectionApi.setSelect(id);\n      // 新增表时需自动弹出表编辑弹窗\n      onTableClick({\n        table: addControl,\n        fields: []\n      });\n    });\n  };\n  var onAddTableClick = function onAddTableClick() {\n    setAddBtnSelected(!addBtnSelected);\n    setAddRefsBtnSelected(false);\n  };\n  var onAddReferencesClick = function onAddReferencesClick() {\n    setAddRefsBtnSelected(!addRefsBtnSelected);\n    setAddBtnSelected(false);\n  };\n  var getStatus = function getStatus(type) {\n    var disable = false;\n    var command = true;\n    var canUndo = dataApi.canUndo();\n    var canRedo = dataApi.canRedo();\n    switch (type) {\n      case 'undo':\n        disable = !canUndo;\n        command = canUndo;\n        break;\n      case 'redo':\n        disable = !canRedo;\n        command = canRedo;\n        break;\n      default:\n        disable = false;\n        command = true;\n    }\n    return {\n      disable: disable,\n      command: command\n    };\n  };\n\n  // 撤销\n  var undo = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function () {\n    var canUndo = dataApi.canUndo();\n    if (!canUndo) return;\n    dataApi.undo();\n    selectionApi.setSelect(diagramId);\n  }, [diagramId]);\n\n  // 恢复\n  var redo = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function () {\n    var canRedo = dataApi.canRedo();\n    if (!canRedo) return;\n    dataApi.redo();\n    selectionApi.setSelect(diagramId);\n  }, [diagramId]);\n  var addTableClz = classnames__WEBPACK_IMPORTED_MODULE_13___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, topViewPrefixCls + '-toolbar-item', true), topViewPrefixCls + '-toolbar-item-selected', addBtnSelected));\n  var addRefsClz = classnames__WEBPACK_IMPORTED_MODULE_13___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, topViewPrefixCls + '-toolbar-item', true), topViewPrefixCls + '-toolbar-item-selected', addRefsBtnSelected));\n  var getDomClassName = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (type) {\n    var _getStatus = getStatus(type),\n      disable = _getStatus.disable,\n      command = _getStatus.command;\n    var cn = classnames__WEBPACK_IMPORTED_MODULE_13___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, \"\".concat(topViewPrefixCls, \"-toolbar-operation-item\"), true), \"\".concat(topViewPrefixCls, \"-toolbar-operation-disable\"), disable), \"\".concat(topViewPrefixCls, \"-toolbar-operation-btn\"), command));\n    return cn;\n  }, [getStatus]);\n  var onDelete = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function () {\n    var activeCtrlId = selectionApi.getActiveSelectedId();\n    if (currDiagramId) {\n      var diagramData = dataApi.findControl(currDiagramId);\n      console.log('diagramData', diagramData);\n      var _ref5 = dataApi.findControl(activeCtrlId) || {},\n        ctrlType = _ref5._Type_;\n      if (ctrlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.TABLE_AP) {\n        // 删除表、同时删除相关的关系\n        var tableSymbolAps = diagramData[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.TABLE_SYMBOL_APS];\n        var newTableSymbolAps = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(tableSymbolAps).call(tableSymbolAps, function (item) {\n          return item.RelTableIdSymbol !== activeCtrlId;\n        });\n        if (newTableSymbolAps.length < tableSymbolAps.length) {\n          var _diagramData$REFERENC, _tableSymbolAps$find, _diagramData$REFERENC2, _context;\n          var newReferenceSymbolAps = (_diagramData$REFERENC = diagramData[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.REFERENCE_SYMBOL_APS]) === null || _diagramData$REFERENC === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(_diagramData$REFERENC).call(_diagramData$REFERENC, function (item) {\n            var _item$DestinationSymb, _item$SourceSymbol;\n            return (item === null || item === void 0 || (_item$DestinationSymb = item.DestinationSymbol) === null || _item$DestinationSymb === void 0 ? void 0 : _item$DestinationSymb.RelTableIdSymbol) !== activeCtrlId && (item === null || item === void 0 || (_item$SourceSymbol = item.SourceSymbol) === null || _item$SourceSymbol === void 0 ? void 0 : _item$SourceSymbol.RelTableIdSymbol) !== activeCtrlId;\n          });\n          var updateAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createUpdateAction)([[currDiagramId, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, _constant_propnames__WEBPACK_IMPORTED_MODULE_11__.TABLE_SYMBOL_APS, newTableSymbolAps), _constant_propnames__WEBPACK_IMPORTED_MODULE_11__.REFERENCE_SYMBOL_APS, newReferenceSymbolAps)]]);\n          dataApi.batchUpdateControlPropertyValues(updateAction);\n          selectionApi.setSelect(currDiagramId);\n          var deleteTableSymbolId = (_tableSymbolAps$find = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_5___default()(tableSymbolAps).call(tableSymbolAps, function (item) {\n            return item.RelTableIdSymbol === activeCtrlId;\n          })) === null || _tableSymbolAps$find === void 0 ? void 0 : _tableSymbolAps$find.Id;\n          if (!deleteTableSymbolId) return;\n          var deleteReferenceSymbolsId = (_diagramData$REFERENC2 = diagramData[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.REFERENCE_SYMBOL_APS]) === null || _diagramData$REFERENC2 === void 0 || (_diagramData$REFERENC2 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(_diagramData$REFERENC2).call(_diagramData$REFERENC2, function (item) {\n            var _item$DestinationSymb2, _item$SourceSymbol2;\n            return (item === null || item === void 0 || (_item$DestinationSymb2 = item.DestinationSymbol) === null || _item$DestinationSymb2 === void 0 ? void 0 : _item$DestinationSymb2.RelTableIdSymbol) === activeCtrlId || (item === null || item === void 0 || (_item$SourceSymbol2 = item.SourceSymbol) === null || _item$SourceSymbol2 === void 0 ? void 0 : _item$SourceSymbol2.RelTableIdSymbol) === activeCtrlId;\n          })) === null || _diagramData$REFERENC2 === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(_diagramData$REFERENC2).call(_diagramData$REFERENC2, function (item) {\n            return item.Id;\n          });\n          dataApi.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createDeleteAction)(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context = [deleteTableSymbolId]).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(deleteReferenceSymbolsId))));\n        }\n      } else if (ctrlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_12__.RELATIONSHIP_AP) {\n        // 删除关系\n        var referenceSymbolAps = diagramData[_constant_propnames__WEBPACK_IMPORTED_MODULE_11__.REFERENCE_SYMBOL_APS];\n        var _newReferenceSymbolAps = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(referenceSymbolAps).call(referenceSymbolAps, function (item) {\n          var _item$RelationShipSym;\n          return (item === null || item === void 0 || (_item$RelationShipSym = item.RelationShipSymbol) === null || _item$RelationShipSym === void 0 ? void 0 : _item$RelationShipSym.RelRelationIdSymbol) !== activeCtrlId;\n        });\n        if (_newReferenceSymbolAps.length < referenceSymbolAps.length) {\n          var _updateAction = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createUpdateAction)([[currDiagramId, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, _constant_propnames__WEBPACK_IMPORTED_MODULE_11__.REFERENCE_SYMBOL_APS, _newReferenceSymbolAps)]]);\n          dataApi.batchUpdateControlPropertyValues(_updateAction);\n          selectionApi.setSelect(currDiagramId);\n          var refSymbol = dataApi.findControlByCondition(function (item) {\n            var _item$RelationShipSym2;\n            return (item === null || item === void 0 || (_item$RelationShipSym2 = item.RelationShipSymbol) === null || _item$RelationShipSym2 === void 0 ? void 0 : _item$RelationShipSym2.RelRelationIdSymbol) === activeCtrlId;\n          });\n          var refSymbolId = refSymbol && refSymbol[0].Id;\n          refSymbolId && dataApi.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createDeleteAction)([refSymbolId]));\n        }\n      }\n    }\n  }, [currDiagramId]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: topViewPrefixCls + '-toolbar'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: topViewPrefixCls + '-toolbar-item-group'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Icon, {\n    prefix: \"designericon\",\n    type: \"biao57\",\n    className: addTableClz,\n    id: \"top-view-add-table-btn\",\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.getLangMsg)('modeld.topView.addTable'),\n    onClick: onAddTableClick\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Icon, {\n    prefix: \"designericon\",\n    type: \"xinzengguanxi\",\n    className: addRefsClz,\n    id: \"top-view-add-refs-btn\",\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.getLangMsg)('modeld.topView.addRelationship'),\n    onClick: onAddReferencesClick\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: topViewPrefixCls + '-toolbar-item-group'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Icon, {\n    prefix: \"designericon\",\n    type: \"chexiao\",\n    className: getDomClassName('undo'),\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.getLangMsg)('modeld.topView.undo'),\n    onClick: undo\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Icon, {\n    prefix: \"designericon\",\n    type: \"zhongzuo\",\n    className: getDomClassName('redo'),\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.getLangMsg)('modeld.topView.redo'),\n    onClick: redo\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: topViewPrefixCls + '-toolbar-item-group'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_9__.Icon, {\n    prefix: \"designericon\",\n    type: \"shanchu4\",\n    className: topViewPrefixCls + '-toolbar-item',\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.getLangMsg)('modeld.topView.delete'),\n    onClick: onDelete\n  })));\n}\n\n//# sourceURL=webpack://model-designer/./src/views/TopView.tsx?");

/***/ }),

/***/ 62840:
/*!****************************************!*\
  !*** ./src/views/left-view/NoData.tsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _img_empty_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../img/empty.svg */ 70256);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nvar NoData = function NoData(_ref) {\n  var prefixCls = _ref.prefixCls;\n  var addIcon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n    prefix: \"designericon\",\n    type: \"xinzeng\",\n    style: {\n      color: '#212121'\n    }\n  });\n  var physicalDiagramText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"text-blod\"\n  }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)('modeld.leftView.noDataTips3'));\n  var packageText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"text-blod\"\n  }, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)('modeld.leftView.noDataTips5'));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-template-empty\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n    src: _img_empty_svg__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    alt: '',\n    width: 168,\n    height: 96\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"text\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)('modeld.leftView.noDataTips1')), addIcon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)('modeld.leftView.noDataTips2'), physicalDiagramText, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.getLangMsg)('modeld.leftView.noDataTips4'), packageText)));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (NoData);\n\n//# sourceURL=webpack://model-designer/./src/views/left-view/NoData.tsx?");

/***/ }),

/***/ 45480:
/*!***************************************!*\
  !*** ./src/views/left-view/index.tsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 81744);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 12640);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 18860);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 82600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ 45076);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ 7312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/trim */ 52360);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 75984);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/sort */ 6908);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ 39568);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 89843);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 59312);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 47332);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/is-array */ 12388);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _hooks_useDragTreeNode__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../hooks/useDragTreeNode */ 87864);\n/* harmony import */ var _adaptor__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../adaptor */ 80564);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _constant_propnames__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../constant/propnames */ 62240);\n/* harmony import */ var _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../constant/nodeType */ 37400);\n/* harmony import */ var _utils_controlIconMap__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../utils/controlIconMap */ 23724);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! lodash */ 67928);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var _NoData__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./NoData */ 62840);\n/* harmony import */ var _img_model_designer_delete_confirm_png__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../img/model_designer_delete_confirm.png */ 69844);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./utils */ 62184);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_30__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../utils */ 63612);\n/* harmony import */ var _constant_const__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../constant/const */ 1844);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// 模型树\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar searchCacher = {};\nvar idPrefix = 'id';\nvar LeftView = function LeftView(props) {\n  var initData = props.data,\n    meta = props.meta;\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_17__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var _useContext2 = (0,react__WEBPACK_IMPORTED_MODULE_17__.useContext)(_context__WEBPACK_IMPORTED_MODULE_22__.DesignerContext),\n    getKdesignerApi = _useContext2.getKdesignerApi,\n    currDiagramId = _useContext2.currDiagramId;\n  var kdesignerApi = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataApi = kdesignerApi.data,\n    selectionApi = kdesignerApi.selection;\n  var _useContext3 = (0,react__WEBPACK_IMPORTED_MODULE_17__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.GlobalConfigContext),\n    onTableClick = _useContext3.onTableClick;\n  // 默认选中根节点\n  var rootId = dataApi.getRootId();\n  // 选中的节点\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    selectedKeys = _useState2[0],\n    setSelectedKeys = _useState2[1];\n  // 模型树的高度\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(600),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState3, 2),\n    treeHeight = _useState4[0],\n    setTreeHeight = _useState4[1];\n  // 输入框的值\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(undefined),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState5, 2),\n    inputValue = _useState6[0],\n    setInputValue = _useState6[1];\n  // 树中展开节点的key值集合，[idKEFmJcZ1zW]\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)([]),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState7, 2),\n    expandNodeKeys = _useState8[0],\n    setExpandNodeKeys = _useState8[1];\n  // 滚动到树某个节点\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(rootId),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState9, 2),\n    scrollToKey = _useState10[0],\n    setScrollToKey = _useState10[1];\n  // 模型树实例\n  var modelTreeRef = (0,react__WEBPACK_IMPORTED_MODULE_17__.useRef)(null);\n  // 输入框实例\n  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_17__.useRef)(null);\n  // data的变化\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(initData),\n    _useState12 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState11, 2),\n    data = _useState12[0],\n    setData = _useState12[1];\n  // 是否显示无数据提示\n  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false),\n    _useState14 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState13, 2),\n    noDataVisible = _useState14[0],\n    setNoDataVisible = _useState14[1];\n  // 选中节点的类型\n  var _useState15 = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(_constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DATA_MODEL_AP),\n    _useState16 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState15, 2),\n    selectedType = _useState16[0],\n    setSelectedType = _useState16[1]; // 点击左侧树的节点类型\n  var treeRef = (0,react__WEBPACK_IMPORTED_MODULE_17__.useRef)(null);\n  var isvRef = (0,react__WEBPACK_IMPORTED_MODULE_17__.useRef)('');\n  // 模型树键盘事件\n  // useKeyboardEvent(modelTreeRef, true)\n  // 拖拽事件\n  var _useDragTreeNode = (0,_hooks_useDragTreeNode__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(),\n    onDragStart = _useDragTreeNode.onDragStart,\n    onDragEnter = _useDragTreeNode.onDragEnter,\n    onDragOver = _useDragTreeNode.onDragOver,\n    onDragLeave = _useDragTreeNode.onDragLeave,\n    onDrop = _useDragTreeNode.onDrop,\n    onDragEnd = _useDragTreeNode.onDragEnd;\n  var leftViewPrefixCls = getPrefixCls && getPrefixCls(prefixCls, 'left-view') || 'model-designer-left-view';\n  (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    var _context;\n    // 初始时，选中根节点。二级节点展开\n    if (!rootId) return;\n    var rootNodeKey = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context = \"\".concat(idPrefix)).call(_context, rootId);\n    setExpandNodeKeys([rootNodeKey]);\n    setSelectedKeys([rootNodeKey]);\n    selectionApi.setSelect(rootId);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    var _selectedKeys$;\n    var nodeKey = selectedKeys === null || selectedKeys === void 0 || (_selectedKeys$ = selectedKeys[0]) === null || _selectedKeys$ === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(_selectedKeys$).call(_selectedKeys$, 2);\n    if (!nodeKey) return;\n    var _ref = dataApi.findControl(nodeKey) || {},\n      controlType = _ref[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__._TYPE_];\n    if (!controlType && (0,_utils__WEBPACK_IMPORTED_MODULE_31__.isTableGroup)(nodeKey)) {\n      controlType = _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_GROUP_AP;\n    }\n    setSelectedType(controlType);\n  }, [selectedKeys]);\n  (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    var items = (data === null || data === void 0 ? void 0 : data.Items) || [];\n    var length = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(items).call(items, function (item) {\n      var _context2;\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(_context2 = [_constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM, _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DM_PACKAGE_AP, _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP]).call(_context2, item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__._TYPE_]);\n    }).length;\n    setNoDataVisible(!length);\n    isvRef.current = data === null || data === void 0 ? void 0 : data.Isv;\n  }, [data]);\n\n  // 搜索图标\n  var searchIcon = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    var className = \"\".concat(leftViewPrefixCls, \"-search-prefix-icon\");\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n      prefix: \"designericon\",\n      type: \"sousuo\",\n      className: className\n    });\n  }, [leftViewPrefixCls]);\n\n  // data 变动的回调\n  var dataChangeListenerCallback = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function (dataChangeEvent) {\n    var value = dataChangeEvent.value;\n    var items = (value === null || value === void 0 ? void 0 : value.Items) || [];\n    var length = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(items).call(items, function (item) {\n      var _context3;\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(_context3 = [_constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM, _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DM_PACKAGE_AP, _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP]).call(_context3, item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__._TYPE_]);\n    }).length;\n    setNoDataVisible(!length);\n    setData(value);\n    isvRef.current = value === null || value === void 0 ? void 0 : value.Isv;\n  }, []);\n\n  // selection 变动的回调\n  var selectionChangeCallBack = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function (selection) {\n    var _context6;\n    var value = selection.value;\n    if (!value.length) return;\n    var tempValue = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_7___default()(value).call(value, function (prev, curr) {\n      var _context4, _context5;\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context4 = []).call(_context4, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prev), [_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context5 = \"\".concat(idPrefix)).call(_context5, curr)]);\n    }, []);\n    setSelectedKeys(tempValue);\n    setScrollToKey(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context6 = \"\".concat(idPrefix)).call(_context6, value[0]));\n    var _ref2 = dataApi.findControl(value[0]) || {},\n      controlType = _ref2[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__._TYPE_];\n    if (controlType !== _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM && controlType !== _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP) return;\n    // 将该节点以及祖先节点加入展开节点state\n    var expandedKeysBySelection = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(expandNodeKeys);\n    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default()(value).call(value, function (id) {\n      var _context8;\n      var controlId = id;\n      while (controlId !== rootId && controlId !== '') {\n        var _context7;\n        var tempControlId = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context7 = \"\".concat(idPrefix)).call(_context7, controlId);\n        !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(expandedKeysBySelection).call(expandedKeysBySelection, tempControlId) && expandedKeysBySelection.unshift(tempControlId);\n        controlId = dataApi.getParentControlId(controlId);\n      }\n      var tempRootId = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context8 = \"\".concat(idPrefix)).call(_context8, rootId);\n      !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(expandedKeysBySelection).call(expandedKeysBySelection, tempRootId) && expandedKeysBySelection.unshift(tempRootId);\n      // 如果是表，通过data数据查询，找不出表分组数据。\n      var control = dataApi.findControl(id);\n      if ((control === null || control === void 0 ? void 0 : control[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__._TYPE_]) === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP) {\n        var _context9, _context10;\n        var parentId = dataApi.getParentControlId(id);\n        // 表分组的key是id+包id+_tablegroup\n        var tableGroupId = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context9 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context10 = \"\".concat(idPrefix)).call(_context10, parentId)).call(_context9, _constant_const__WEBPACK_IMPORTED_MODULE_32__.TABLE_GROUP_SUFFIX);\n        !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(expandedKeysBySelection).call(expandedKeysBySelection, tableGroupId) && expandedKeysBySelection.unshift(tableGroupId);\n      }\n    });\n    setExpandNodeKeys(expandedKeysBySelection);\n  }, [rootId, expandNodeKeys]);\n\n  // 将selection与模型树联动\n  (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    var removeSelectionListener = selectionApi.addSelectChangeListener(selectionChangeCallBack);\n    var removeDataChangeListener = dataApi.addDataChangeListener(dataChangeListenerCallback);\n    return function () {\n      removeSelectionListener();\n      removeDataChangeListener();\n    };\n  }, [selectionChangeCallBack]);\n\n  // 树控件的数据\n  var treeData = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    var includeTypeArr = [_constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DATA_MODEL_AP, _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM, _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DM_PACKAGE_AP, _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP]; // 过滤数据类型，只留下模型、模型图、包、表\n    return (0,_adaptor__WEBPACK_IMPORTED_MODULE_21__.translateDataToTree)(data, {\n      prefix: idPrefix\n    }, includeTypeArr, designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg);\n  }, [data]);\n\n  // 监听输入值的变化\n  var onChange = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function (event) {\n    var _treeData$, _context11, _context12, _context13, _context14;\n    var dataItems = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((treeData === null || treeData === void 0 || (_treeData$ = treeData[0]) === null || _treeData$ === void 0 ? void 0 : _treeData$.searchData) || []);\n    var value = _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_9___default()(_context11 = event.target.value).call(_context11);\n    var result = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(_context12 = _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_11___default()(_context13 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(_context14 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(dataItems).call(dataItems, function (item) {\n      var title = item.title.toLowerCase();\n      var key = item.key.toLowerCase();\n      var lowerValue = value.toLowerCase();\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(title).call(title, lowerValue) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(key).call(key, lowerValue);\n    })).call(_context14, function (item) {\n      var _item$key;\n      return {\n        id: (_item$key = item.key) === null || _item$key === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(_item$key).call(_item$key, 2),\n        level: item.level\n      };\n    })).call(_context13, function (item) {\n      return item.level;\n    })).call(_context12, function (item) {\n      return item.id;\n    });\n    searchCacher[value] = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(result);\n    setInputValue(value);\n  }, [treeData]);\n\n  // 获取下一个查询结果的下标\n  var getNextSelection = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function () {\n    var _selectedKeys$2;\n    if (!inputValue || !searchCacher[inputValue]) return null;\n    var searchResult = searchCacher[inputValue];\n    var length = searchResult.length;\n    if (length <= 0) return  false || rootId;\n    // const activedSelectId = selectionApi.getActiveSelectedId()\n    // if (activedSelectId && !searchResult.includes(activedSelectId)) {\n    //   return searchResult[0]\n    // }\n    var activedSelectId = (_selectedKeys$2 = selectedKeys[0]) === null || _selectedKeys$2 === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(_selectedKeys$2).call(_selectedKeys$2, 2);\n    if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(searchResult).call(searchResult, activedSelectId)) {\n      return searchResult[0];\n    }\n    var index = _babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_12___default()(searchResult).call(searchResult, activedSelectId);\n    if (index === length - 1) {\n      index = 0;\n    } else index++;\n    return searchResult[index];\n  }, [inputValue, selectedKeys]);\n\n  // 监听回车键\n  var onPressEnter = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function () {\n    inputRef.current && inputRef.current.focus();\n    var nextSelection = getNextSelection();\n    var control = dataApi.findControl(nextSelection);\n    // 搜索的是表分组时\n    if (nextSelection && !control) {\n      var _context15;\n      var expandedKeysBySelection = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(expandNodeKeys);\n      var nextSelectionKey = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context15 = \"\".concat(idPrefix)).call(_context15, nextSelection);\n      // 这里要判断表分组的上层结构包是否加入了展开key\n      var packageKey = nextSelectionKey.split(_constant_const__WEBPACK_IMPORTED_MODULE_32__.TABLE_GROUP_SUFFIX)[0];\n      !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(expandedKeysBySelection).call(expandedKeysBySelection, nextSelectionKey) && expandedKeysBySelection.unshift(nextSelectionKey);\n      !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(expandedKeysBySelection).call(expandedKeysBySelection, packageKey) && expandedKeysBySelection.unshift(packageKey);\n      setExpandNodeKeys(expandedKeysBySelection);\n      setSelectedKeys([nextSelectionKey]);\n      setScrollToKey(nextSelectionKey);\n      selectionApi.setSelect(nextSelection);\n      return;\n    }\n    nextSelection && selectionApi.setSelect([control ? nextSelection : rootId]);\n  }, [inputRef, getNextSelection]);\n  (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    var handleCalcTreeHeight = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.debounce)(function () {\n      var height = document.body.clientHeight - 30 - 80 - 20;\n      setTreeHeight(height);\n      if (treeRef.current) {\n        treeRef.current.style.height = \"\".concat(height, \"px\");\n      }\n    }, 100);\n    window.addEventListener('resize', handleCalcTreeHeight);\n    return function () {\n      searchCacher = {};\n      window.removeEventListener('resize', handleCalcTreeHeight);\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    var height = document.body.clientHeight - 30 - 80 - 20;\n    setTreeHeight(height);\n    if (treeRef.current) {\n      treeRef.current.style.height = \"\".concat(height, \"px\");\n    }\n  }, [treeRef]);\n\n  // 展开/收起节点时触发的回调\n  var onExpand = function onExpand(keys, _ref3) {\n    var _context16;\n    var expanded = _ref3.expanded,\n      node = _ref3.node;\n    var key = node.key;\n    var allKeys = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(keys).call(keys, Boolean);\n    allKeys = expanded ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context16 = [key]).call(_context16, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(allKeys)) : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(allKeys).call(allKeys, function (item) {\n      return item !== key;\n    });\n    allKeys = _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_13___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_14___default())(allKeys));\n    setExpandNodeKeys(allKeys);\n  };\n\n  // 点击节点触发的回调（选中操作）\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function (nodeKeys, _ref4) {\n    var event = _ref4.event,\n      node = _ref4.node;\n    setSelectedKeys(nodeKeys);\n    var tempNodeKeys = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(nodeKeys).call(nodeKeys, function (key) {\n      return _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(key).call(key, 2);\n    });\n    selectionApi.setSelect(tempNodeKeys);\n  }, []);\n\n  // 渲染树节点图标\n  var renderNodeIcon = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function () {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      nodeKey = _ref5.nodeKey;\n    if (!nodeKey) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n      prefix: \"designericon\",\n      type: \"Flexmianban\"\n    });\n    var _ref6 = dataApi.findControl(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(nodeKey).call(nodeKey, 2)) || {},\n      controlType = _ref6[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__._TYPE_];\n    if (!controlType && (0,_utils__WEBPACK_IMPORTED_MODULE_31__.isTableGroup)(nodeKey)) {\n      controlType = _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_GROUP_AP;\n    }\n    var iconType = (0,_utils_controlIconMap__WEBPACK_IMPORTED_MODULE_25__[\"default\"])(controlType);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n      prefix: \"designericon\",\n      type: iconType\n    });\n  }, []);\n\n  // 新增\n  var onAddControl = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function (key) {\n    var _meta$Controls$find, _context17, _selectedKeys$3;\n    var addControls = [];\n    var name = (_meta$Controls$find = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_15___default()(_context17 = meta.Controls).call(_context17, function (item) {\n      return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.ID] === key;\n    })) === null || _meta$Controls$find === void 0 ? void 0 : _meta$Controls$find[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.NAME];\n    var id = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.createUUid)();\n    var parentId = (_selectedKeys$3 = selectedKeys[0]) === null || _selectedKeys$3 === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(_selectedKeys$3).call(_selectedKeys$3, 2);\n    var ctrlKey = key === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DM_PACKAGE_AP ? 'package' : key === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP ? 'table' : 'physicaldiagram';\n    if (key === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP) {\n      var _selectedKeys$4, _context18, _dataApi$findControl;\n      parentId = selectedType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_GROUP_AP ? (_selectedKeys$4 = selectedKeys[0]) === null || _selectedKeys$4 === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(_context18 = _selectedKeys$4.split(_constant_const__WEBPACK_IMPORTED_MODULE_32__.TABLE_GROUP_SUFFIX)[0]).call(_context18, 2) // 'idpackage_test_tablegroup' 如果是选中表分组，新增表时，需要特殊处理\n      : (_dataApi$findControl = dataApi.findControl(parentId)) === null || _dataApi$findControl === void 0 ? void 0 : _dataApi$findControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.PARENTID]; // 选中表新增表\n    }\n    var control = {\n      Name: name,\n      _Type_: key,\n      Id: id,\n      ParentId: parentId,\n      Key: ctrlKey\n    };\n    if (key === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP) {\n      var tableName = isvRef.current === 'kingdee' ? 't_table' : \"tk_\".concat(isvRef.current, \"_table\"); // 表的表名根据开发商标识生成\n      control[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.TABLE_NAME] = tableName.toUpperCase();\n    }\n    addControls.push(control);\n    // 新增包时自动新增一个模型图\n    if (key === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DM_PACKAGE_AP) {\n      var _meta$Controls$find2, _context19;\n      var _name = (_meta$Controls$find2 = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_15___default()(_context19 = meta.Controls).call(_context19, function (item) {\n        return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.ID] === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM;\n      })) === null || _meta$Controls$find2 === void 0 ? void 0 : _meta$Controls$find2[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.NAME];\n      var physicalDiagramId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.createUUid)();\n      var _control = {\n        Name: _name,\n        _Type_: _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM,\n        Id: physicalDiagramId,\n        ParentId: id,\n        Key: 'physicaldiagram'\n      };\n      addControls.push(_control);\n    }\n    var action = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.createAddAction)(addControls);\n    dataApi.addControl(action).then(function (actions) {\n      var realControl = actions[0].value;\n      selectionApi.setSelect(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_16___default()(realControl) ? [realControl[0][_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.ID]] : [realControl[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.ID]]);\n      // 新增表时需自动弹出表编辑弹窗\n      if (key === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP) {\n        var table = _babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_16___default()(realControl) ? realControl[0] : realControl;\n        onTableClick({\n          table: table,\n          fields: []\n        });\n      }\n    });\n  }, [selectedType, selectedKeys]);\n  var addMenu = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    var itemClz = \"\".concat(leftViewPrefixCls, \"-li-dropdowm-item\");\n    if (selectedType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DATA_MODEL_AP) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Dropdown.Menu, {\n        onClick: onAddControl\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Dropdown.Item, {\n        className: itemClz,\n        key: _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DM_PACKAGE_AP\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n        className: itemClz + '-container'\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n        prefix: \"designericon\",\n        type: \"bao4\",\n        className: itemClz + '-right'\n      }), (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.package'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Dropdown.Item, {\n        className: itemClz,\n        key: _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n        className: itemClz + '-container'\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n        prefix: \"designericon\",\n        type: \"moxingtu\",\n        className: itemClz + '-right'\n      }), (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.physicalDiagram'))));\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Dropdown.Menu, {\n      onClick: onAddControl\n    }, selectedType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DM_PACKAGE_AP && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Dropdown.Item, {\n      className: itemClz,\n      key: _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n      className: itemClz + '-container'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n      prefix: \"designericon\",\n      type: \"moxingtu\",\n      className: itemClz + '-right'\n    }), (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.physicalDiagram'))), selectedType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_GROUP_AP && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Dropdown.Item, {\n      className: itemClz,\n      key: _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n      className: itemClz + '-container'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n      prefix: \"designericon\",\n      type: \"biao57\",\n      className: itemClz + '-right'\n    }), (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.table'))), selectedType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Dropdown.Item, {\n      className: itemClz,\n      key: _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n      className: itemClz + '-container'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n      prefix: \"designericon\",\n      type: \"biao57\",\n      className: itemClz + '-right'\n    }), (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.table'))));\n  }, [selectedType, onAddControl]);\n  var onDeleteControl = function onDeleteControl(ctrlType, deleteControlId, nextSelectCtrlId) {\n    // 遍历其子节点\n    var deleteCtrlIds = dataApi.getAllSubControlIds(deleteControlId);\n    if (ctrlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP) {\n      // 删除表，需要删除相关虚拟表数据\n      var symbolTableCtrls = dataApi.findControlByCondition(function (item) {\n        return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.REL_TABLE_ID_SYMBOL] === deleteControlId;\n      });\n      var symbolTableCtrlIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(symbolTableCtrls).call(symbolTableCtrls, function (item) {\n        return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.ID];\n      });\n      deleteCtrlIds = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(deleteCtrlIds).call(deleteCtrlIds, symbolTableCtrlIds);\n    } else if (ctrlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM) {\n      // 删除图，需要删除图中虚拟表数据、关系数据。通过parentId可进行过滤，无需单独处理\n    } else if (ctrlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DM_PACKAGE_AP) {\n      // 删除包：删除与表相关的虚拟数据，以及与图相关的虚拟数据\n      // 表相关的虚拟数据\n      var tableCtrls = dataApi.findControlByCondition(function (item) {\n        return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.PARENTID] === deleteControlId && item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__._TYPE_] === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP;\n      });\n      var tableCtrlIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(tableCtrls).call(tableCtrls, function (item) {\n        return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.ID];\n      });\n      var symbolCtrlIdsForTable = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_7___default()(tableCtrlIds).call(tableCtrlIds, function (symbolArr, curVal) {\n        var symbolCtrls = dataApi.findControlByCondition(function (item) {\n          return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.REL_TABLE_ID_SYMBOL] === curVal;\n        });\n        var symbolCtrlIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(symbolCtrls).call(symbolCtrls, function (item) {\n          return item[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.ID];\n        });\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(symbolArr).call(symbolArr, symbolCtrlIds);\n      }, []);\n      // 图相关的虚拟数据，在遍历子节点时，已经包括在deleteCtrlIds中\n      var allCtrlIds = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(deleteCtrlIds).call(deleteCtrlIds, symbolCtrlIdsForTable);\n      deleteCtrlIds = _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_13___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_14___default())(allCtrlIds));\n    }\n    dataApi.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.createDeleteAction)(deleteCtrlIds)).then(function () {\n      selectionApi.setSelect([nextSelectCtrlId]);\n    });\n  };\n  var deleteHandle = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function () {\n    var _selectedKeys$5;\n    var selectedId = (_selectedKeys$5 = selectedKeys[0]) === null || _selectedKeys$5 === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(_selectedKeys$5).call(_selectedKeys$5, 2);\n    var _ref7 = dataApi.findControl(selectedId) || {},\n      controlType = _ref7[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__._TYPE_],\n      parentId = _ref7[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__.PARENTID];\n    var bodyText;\n    var nextSelectCtrlId = parentId;\n    // 判断选中类型\n    if (controlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DM_PACKAGE_AP) {\n      // 包，二次弹窗“确定删除包内所有模型图、表和关系？”\n      bodyText = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.deletePackagePrompt');\n    } else if (controlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM) {\n      // 模型图，二次弹窗“确定删除模型图、表和关系？”\n      bodyText = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.deletephysicalDiagramPrompt');\n    } else if (controlType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP) {\n      // 表，判断是否模型图引用此表。无：二次弹窗“确定删除表？”。有：\n      bodyText = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.deleteTablePrompt');\n      nextSelectCtrlId = currDiagramId;\n    } else {\n      // 模型，无反应，return\n      return;\n    }\n    var onOkCb = function onOkCb() {\n      return onDeleteControl(controlType, selectedId, nextSelectCtrlId);\n    };\n    (0,_utils__WEBPACK_IMPORTED_MODULE_29__.showModel)(bodyText, _img_model_designer_delete_confirm_png__WEBPACK_IMPORTED_MODULE_28__[\"default\"], onOkCb);\n  }, [selectedKeys, currDiagramId]);\n  var addIconEle = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    // selectedType为undefined的情况：选中表分组\n    if (!selectedType || selectedType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.PHYSICAL_DIAGRAM) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n        prefix: \"designericon\",\n        className: classnames__WEBPACK_IMPORTED_MODULE_30___default()(\"\".concat(leftViewPrefixCls, \"-search-icon\"), \"\".concat(leftViewPrefixCls, \"-search-icon-disable\")),\n        type: \"xinzeng\",\n        title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.add')\n      });\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Dropdown, {\n        placement: \"bottomRight\",\n        popperClassName: \"leftrule-li-dropdowm\",\n        scrollHidden: true,\n        trigger: \"click\",\n        menu: addMenu,\n        onClick: function onClick(e) {\n          return e.stopPropagation();\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n        prefix: \"designericon\",\n        className: \"\".concat(leftViewPrefixCls, \"-search-icon\"),\n        type: \"xinzeng\",\n        title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.add')\n      }));\n    }\n  }, [selectedType, addMenu]);\n  var onDoubleClick = function onDoubleClick() {\n    var _context20;\n    var ctrlId = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(_context20 = selectedKeys[0]).call(_context20, 2);\n    var tableCtrl = dataApi.findControl(ctrlId);\n    if (tableCtrl[_constant_propnames__WEBPACK_IMPORTED_MODULE_23__._TYPE_] === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_AP) {\n      var fieldsData = dataApi.getSubControls(ctrlId) || [];\n      onTableClick({\n        table: tableCtrl,\n        fields: fieldsData\n      });\n    }\n  };\n  var deleteBtnClz = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    return classnames__WEBPACK_IMPORTED_MODULE_30___default()(\"\".concat(leftViewPrefixCls, \"-search-icon\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(leftViewPrefixCls, \"-search-icon-disable\"), selectedType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.TABLE_GROUP_AP || selectedType === _constant_nodeType__WEBPACK_IMPORTED_MODULE_24__.DATA_MODEL_AP));\n  }, [selectedType]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"\".concat(leftViewPrefixCls, \"-wrap\"),\n    tabIndex: -1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"\".concat(leftViewPrefixCls, \"-search\")\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Input, {\n    prefix: searchIcon,\n    borderType: \"bordered\",\n    className: \"\".concat(leftViewPrefixCls, \"-search-input\"),\n    onChange: onChange,\n    onPressEnter: onPressEnter,\n    value: inputValue,\n    ref: inputRef,\n    allowClear: true\n  }), addIconEle, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Icon, {\n    prefix: \"designericon\",\n    className: deleteBtnClz,\n    onClick: deleteHandle,\n    type: \"shanchu4\",\n    title: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.getLangMsg)('modeld.leftView.delete')\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    ref: modelTreeRef,\n    tabIndex: -1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_19__.Tree, {\n    ref: treeRef,\n    name: \"ModelTree\",\n    treeData: treeData\n    // className={leftViewPrefixCls}\n    // height={treeHeight}\n    ,\n    width: 280,\n    virtual: true,\n    draggable: true,\n    showIcon: true,\n    icon: renderNodeIcon,\n    expandOnClickNode: true,\n    onlyExpandOnClickIcon: true,\n    expandedKeys: expandNodeKeys,\n    selectedKeys: selectedKeys,\n    scrollToKey: scrollToKey,\n    onSelect: onSelect,\n    onExpand: onExpand,\n    onDragStart: onDragStart,\n    onDragEnter: onDragEnter,\n    onDragOver: onDragOver,\n    onDragLeave: onDragLeave,\n    onDrop: onDrop,\n    onDragEnd: onDragEnd,\n    onDoubleClick: onDoubleClick\n    // setTreeNodeClassName={setTreeNodeClassName}\n    // switcherIcon={switcherIcon}\n  })), noDataVisible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_NoData__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n    prefixCls: leftViewPrefixCls\n  }));\n};\nLeftView.tabKey = 'leftView';\n/* harmony default export */ __webpack_exports__[\"default\"] = (LeftView);\n\n//# sourceURL=webpack://model-designer/./src/views/left-view/index.tsx?");

/***/ }),

/***/ 62184:
/*!***************************************!*\
  !*** ./src/views/left-view/utils.tsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   showModel: function() { return /* binding */ showModel; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 43400);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @kdcloudjs/kdesign */ 54116);\n/* harmony import */ var _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar showModel = function showModel(bodyText, confirmPng, onOkCb) {\n  // 弹窗\n  var body = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n    src: confirmPng\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      textAlign: 'center',\n      marginTop: 12\n    }\n  }, bodyText));\n  var bodyStyle = {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column'\n  };\n  var footerStyle = {\n    alignItems: 'start'\n  };\n  _kdcloudjs_kdesign__WEBPACK_IMPORTED_MODULE_1__.Modal.confirm({\n    title: '删除确认',\n    cancelText: '取消',\n    okText: '确认',\n    body: body,\n    bodyStyle: bodyStyle,\n    footerStyle: footerStyle,\n    onOk: onOkCb\n  });\n};\n\n//# sourceURL=webpack://model-designer/./src/views/left-view/utils.tsx?");

/***/ }),

/***/ 19600:
/*!******************************!*\
  !*** ./src/style/index.less ***!
  \******************************/
/***/ (function() {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack://model-designer/./src/style/index.less?");

/***/ }),

/***/ 70256:
/*!***************************!*\
  !*** ./src/img/empty.svg ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTY4cHgiIGhlaWdodD0iOTZweCIgdmlld0JveD0iMCAwIDE2OCA5NiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDx0aXRsZT7pgJrnlKgv5pqC5peg5pWw5o2uPC90aXRsZT4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0ibGluZWFyR3JhZGllbnQtMSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNENkRDRTciIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Q2RENFNyIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IumAmueUqC/mmoLml6DmlbDmja4iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLnvJbnu4QiPgogICAgICAgICAgICA8ZyBpZD0i6IOM5pmvL+S6kSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA4LCA0MCkiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMSkiIG9wYWNpdHk9IjAuMzAwMDAwMDEyIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLlvaLnirbnu5PlkIgiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLDM5IEwzLDI0IEMzLDE1LjcxNTcyODggOS43MTU3Mjg3NSw5IDE4LDkgQzI1LjQ2MTY3NzYsOSAzMS42NTA4NDY5LDE0LjQ0ODI1NTggMzIuODA2Mzk0OCwyMS41ODM2NTQzIEMzMy43OTc4NzUsMjEuMjA2NDc3OSAzNC44NzQ4MjQ3LDIxIDM2LDIxIEM0MC45NzA1NjI3LDIxIDQ1LDI1LjAyOTQzNzMgNDUsMzAgTDQ1LDM5IEwzLDM5IFoiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBpZD0i6IOM5pmvL+S6kSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzYsIDU2KSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0zNiwgLTU2KXRyYW5zbGF0ZSgxMiwgMzIpIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBvcGFjaXR5PSIwLjMwMDAwMDAxMiI+CiAgICAgICAgICAgICAgICA8ZyBpZD0i5b2i54q257uT5ZCIIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMywzOSBMMywyNCBDMywxNS43MTU3Mjg4IDkuNzE1NzI4NzUsOSAxOCw5IEMyNS40NjE2Nzc2LDkgMzEuNjUwODQ2OSwxNC40NDgyNTU4IDMyLjgwNjM5NDgsMjEuNTgzNjU0MyBDMzMuNzk3ODc1LDIxLjIwNjQ3NzkgMzQuODc0ODI0NywyMSAzNiwyMSBDNDAuOTcwNTYyNywyMSA0NSwyNS4wMjk0MzczIDQ1LDMwIEw0NSwzOSBMMywzOSBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzYsIDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02Myw5IEw2MywyNCBMNzgsMjQgTDc4LDg0IEM3OCw4NS42NTY4NTQyIDc2LjY1Njg1NDIsODcgNzUsODcgTDIxLDg3IEMxOS4zNDMxNDU4LDg3IDE4LDg1LjY1Njg1NDIgMTgsODQgTDE4LDEyIEMxOCwxMC4zNDMxNDU4IDE5LjM0MzE0NTgsOSAyMSw5IEw2Myw5IFoiIGlkPSLot6/lvoQiIGZpbGw9IiNFMkU4RjMiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGw9IiNDQUQwREIiIHg9IjI0IiB5PSIyNCIgd2lkdGg9IjkiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IuefqeW9oiIgZmlsbD0iI0VFRjRGRiIgcG9pbnRzPSI2MyA5IDc4IDI0IDYzIDI0Ij48L3BvbHlnb24+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjQ0FEMERCIiB4PSIyNCIgeT0iMzkiIHdpZHRoPSI0OCIgaGVpZ2h0PSI2Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjQ0FEMERCIiB4PSIyNCIgeT0iNTEiIHdpZHRoPSIyNCIgaGVpZ2h0PSI2Ij48L3JlY3Q+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\");\n\n//# sourceURL=webpack://model-designer/./src/img/empty.svg?");

/***/ }),

/***/ 91708:
/*!********************************!*\
  !*** ./src/img/empty_data.png ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAACACAMAAAAlB5WJAAAAP1BMVEUAAADZ3OzY3unX3efX3ujZ3unX3ejY3erW3OfX3ejW3OfY3unX3ejW3OfX3ejv9f/j6fTj6fTi6PPK0Nvu9P8w9aIhAAAAEnRSTlMACQ4lHBcuEyA6NSlEP0qA6aZdRYr1AAACYklEQVR42u3W23KjMAyAYUs+YQxZSPf9n3U7G3ahTRMiZIpF9dszBpKbb3QBRtM0TdM0TdPE58bhurFfRkBu5pH7LUE4XhlACcKBA5QgvHKAEoQsoAQhCyhByAJKELKAEoQsoAQhCyhByAJKELKAEoQsoAQhCyhByAJKELKAEoQsoAQhCyhByAJKEF6n3hZx0Ka2FKhABZJSoAIVqEAFVtWPAS5ToAIrSoEKVCApBTJe9KwU+C0Beo9wUiDadJlKFk8HdP3lQ707FdD33V0pngYI4d1zuVtdgHMAIXUPauEMwNl3X0L5L3pI/ZMSiAeG/mlBOrBJKwkHYjo5MB8JBN/kELJ1YPYK2tXKA5dfhlN9RrNLzVFAbC+fanchhteBbytRgBC6LwpQ3IdhvR2A2Hfd5YvVlxsiACKA8e+A9tHeDei7h7kyvGjD32w+YoKue5I3/NBmSqWB2D8tsn0u50OB6TkwAddniRUHrhR4Pm9rBybP8YGlAwuXdh2ha8iVBrarRcYAGwnAvB2Ijl5pYFgPNgN9HcB2ZaN04FoOonfOR6ADN1QcSMiiQGAm1dCmGDd0LDBbkAa0xEhC3NDhwObsQIuygA2914GwoQqAIAro6MXXgeRVBdBTgMRdHujp3YAE5HQxXcP/0c7Hv/9IBFLbCRh9jP7jujX/Np9mUfXASE8WEGPEiBinc25+dndvFtUPxJtvOhdrenZ/Lw5IS+AEzw2EDZlFCjweaKhLHpC0pQFNbSlQgQokpUAF/jTgUNY3mNoaywJHU1tuKDpAZ6rLjUMx3lihT9M0TdM0TdOI/QEKf4vvLLD1bQAAAABJRU5ErkJggg==\");\n\n//# sourceURL=webpack://model-designer/./src/img/empty_data.png?");

/***/ }),

/***/ 69844:
/*!***************************************************!*\
  !*** ./src/img/model_designer_delete_confirm.png ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAABgCAYAAACJ8DltAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAqKADAAQAAAABAAAAYAAAAACo6b7MAAAKz0lEQVR4Ae1dTYwcRxWu6u752RnvbjyecXZJCHES7CDxl1xA/B1CuHDghCMhFIQ4AFJEEOLABYGBEwcUiR8JOABC4oKQcuNiwyH8CBAkWMSK7ZAYbMc7azZe/816vTvTxauZ7ZmqN909PT29M1XTr6VV1997Vf3eN6+qXr3uZYwukgBJgCRAEiAJkARIAiQBkgBJgCRAEiAJkARIAiQBkgBJgCRAEiAJkARmJgE+s573ueMzZ0Rxqd76thDiM9DV6j53lwn7tbXmt9732NtPZMJsTpg4c/IcQ4+xB86vQYUV4JQPwDn75l9fevWETNPVk8DcAnTPclqnZwKprrK5BSg8pjWWU1cJWVJVHvMMUPU5rUuTJe2pjABqMHQJpIwRQA0GqBxa3kFKADUcoHkHKQHUAoDmGaQEUEsAmleQEkAtAmgeQUoAtQygeQMpAdRCgOYJpARQSwGaF5ASQC0GaB5AOrfhdhebt0QY9prNZlixVraysqLlbcg8sLI4l7okC2oD+nI8RgJojpVvw6MTQG3QUo7HSADNsfJteHQCqA1ayvEYCaA5Vr4Nj04AtUFLOR4jATTHyrfh0T0bBpnlGG10wmf5/LbxIgtqm8ZyNl4CaM4UbtvjEkAN1ZgPkQTN2y67cM1j2+25PGZPJPncrUETSWVGjTbvOGztlsvWbnvsKoCz7fcGUi4I9olHt1jJDY1/mdFop9MtAXQ6cg7tZWuXAyC9HigBmFGWchva/XfTY0fru6F81MKjz7Y+Dq8q/xjKHCHY589/v/pbtd62dO4AmiTcbr+U2BYO27y7wK7tVNibOwus1S4m7urCRpsttZtslBcCwPkTYHq/ZAzpn7MTYpWd4Hu2OHF3xjTMHUCnKXnBOLu+U+oC8trdCruxW2KyLM0lgZ3kgkVAQenh8LEbW4+fY+zvSWhNbEMAzVgrW50C29iudi3kdbCS0mpmce0Cn5PNR2Dn1ONWgXXp+x/YZvctdjT2AM4XoOB4UCh88SSkrQVoNtILpJHz+8XWPezPG29j527V2cbdambgDBOrXL/+5WJ5qIoLdkot5Mz5mJq3La3MBrYNPX68k7zyEc+5V/vFX62y1o4V4rvbcioHLz/H7yR5LtPakAVNqZGDVX1qTclmf8g421EYlxb91oeUvFXJ3K1BR+2Ck2pvteawy5tJW0+3HWyU1sG2vzXo1eeOXIeeDPI23cmCptRW44DRTnPYuA8uLoS161AC6ECPY6UOLY7VfKqNHeH/DTrs+z7hp/Teo1+9WZ/qIDLqjACaUpCNpZSEUyDzGZcW9J9KV5zvek8oeWuSBNCUqmosmjvFw5R+Cc6RtDUn511/aMqnnR0ZATSl7E22oJ5buCQcX/OHws9JbpSsu3K3i8/qLL4DjvK4/3Rz9fVzTIj+MpAdfugYnI0P24P1117RQHPvw+/Q8jIj+Uh+wSX5SH5RV2uzdJmx0uXS8tY2tAm8+Uce+dL2w//+Qfm1KDoTy4clZuIoDRyTPGoseQMA4iFy19WKRCe93xTTYt5aR4z97z+/4NvyD6b5P6l1ntOxzooSQFUNjpk+dCAaoI6ji9b3o9uO6hbTYt6IHtafweVr61AIv7MOoLmb4gPVZXGvLXTYlevhInSQBfUnsKCYFvPWnoWzPkC54KeEehrL2ROHP3X23YXdTqPdaf9r/fn3XNVoDczoP3MDB2jykOKOOx1HB67vt1M/CqbFvFXGYCX7AD1bq7wEddeU+lrRcU/7XJxyPO/K6lMvf0epMzJJAJ1ALbWY83ju6qIVnfRTPKbFvNVH6LmY9kpkoLJgv1fr3eLCXtCIcKHu6yvHz3xSrTctrf/MTRvdPownq7N4ObQjqzB/ng4fJJ6G8TQdThVeimkxb5WKO07fgspyGOFJcDH1QVgoV9o7t6/3STgTz0DmN/0CwxL6z9ywwZk+nHrMaRJ3XG34wp9gF49oMW+1I19wDaC+62r+ULdYrDDd3fWBe58+XVV5mJQmgE6gjXpMwAi2ctgKjtMtpsW8VV5ue7AGleXnnyu/DrcLgzbc9YqlQZaxIr/jfUQtMClNAJ1AG3GnSQ6yoD6yguN0i2kxb4WXX9ktX1Hy3SRM85oV9Ur6+00wzRsb7UQAxdocI78Eei5GrOLxRgZvdMbohmFazFvh1fzHT/nQu8nwop7mD3URQBkngCoynK9kPSJoxOE6cn0xgZsJ0WLegUTBUmrrz355uy138v3oFrdQhGWoapv4OxvHzxj5r03UUQbPQ/cxJNCI+O8vjqdvkvx2+k0SpsW8g+ECAi8GafV+9kdLb0Je+kT7lwd7JfXyuP+kmjclTQCdUBNR61B8HImPK8fpFtNi3gEvzQcaFAZ3zvV1aDmIIek14D4ngAaymqd71BTfdeWo7hwZ2aRENyWWAaaTPFW+CiOBfKBKFRNcP5d3SzpABSeAqvKam3ScL9RBp0l+itMkTIN5qoKEd+JD16Cyzc5m9Y9wk+F33ctxC0z+DS5x38rxFxuDvBkpmuIn1EPjQDQD7A7C7qJoykENpsE8By3hJSQnGqCh4XdomhdtF/ZZZl0E0An10Vjqb46HOGGHOna4DxGEFGAazFMlcbuveqglelowPcoezuWVBuIFE6ObCKCKitIkGzFvd2IwYbAl6Q/TYJ4Kj91X7qmsK/mhpCN0f+jAYS9edjr+p4cIDCjQnXUGDMi2ISyDt0aGfoaFe+Iz8zTn8ZgG81Tk9caozyzK8Ltjm1sy/K4m6aQvtLx48NkLP3vLDyEXPRUonUw7SRZ0QonDNzhZ1Jk8tnbYGibpGtNgnn0eI6b3bruQ8LvC4jIEipgJTjlmAmhfw+kTUb5QbO2wNUzSI6bBPPs8uB5m1y9HCfhBaf5Q+Pqdkf7PYNgE0EASE9yj1qF4x4135Em6xDSYp8Ij0sWktIGdvqudy4Nz9oMPflboTlGVYMZpAmgGCqgvhXtnsLXD1jBJ15gG8wx4CC4/1jD6Gg6/Y+WF5daHR1POpgUBNAO5R31IzPF08frBv+0Yo09Mg3kGrOKc9EGb4A4/J22a3/v6XVBt1F2XoFFDs2cw9QhXE446ShPRhGkwz0BKcEiVyILK9gLe9gzoundh7mdxCKCaptJloo478Y4b78iT9IZpMM+Ah1PsJAYo77R/B3SqW+mxR5+5eSjgZdKdAJqBNqI+JIbPzfG5epKuMQ3mKXmUwJt9/ntLG0n4yTYh4XdcuN5Hk9JPsx056jOQ9kHwJMq4kKFYEIg6CvvWktrlyPqYbzAFfOKOW4M2Q3cZfifE40H53tfvfh3kTbmTBc1AExKctRm+F9mI8CLEPRp85FZbh8J8b6Q/lAAap8Ux6uoxQSNjsEnVNGqJEcfszo3qH6C+H34H6SNHv7L9UBzNLOoIoBlJvR4TdpdRF5FsDi9HVkVWhIXfOX7HuLc7CaCRKhyvIuq4czwu6VpHublGccPhdyZ+/W6eAbo2SkFZ1qeZZrPqv1YV6gfCErPlju4PhS/hGXeiNLcA5Zz/MrGmMmgYddyZAeuRLMoef35ko5AG55YrL8LmqB9DCidMQ+/Uh5BNtWhuAXpzo/oNAOl3QZpTsaTvul+w2gzWobC0WD//avXLqVDTC7/7HNC+AX+XYIr/Qio+REQSIAmQBEgCJAGSAEmAJEASIAmQBEgCJAGSAEmAJEASIAmQBEgCJAGSwHxK4P/kgtGj7ZvXFgAAAABJRU5ErkJggg==\");\n\n//# sourceURL=webpack://model-designer/./src/img/model_designer_delete_confirm.png?");

/***/ })

}]);