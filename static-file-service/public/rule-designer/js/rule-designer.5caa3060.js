!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["rule-designer"]=t():e["rule-designer"]=t()}(self,(function(){return function(){var e,t,n,r,o={89843:function(e,t,n){e.exports=n(36128)},12388:function(e,t,n){e.exports=n(81324)},37152:function(e,t,n){e.exports=n(92960)},81744:function(e,t,n){e.exports=n(51188)},64136:function(e,t,n){e.exports=n(34963)},30479:function(e,t,n){e.exports=n(91924)},18860:function(e,t,n){e.exports=n(28320)},29636:function(e,t,n){e.exports=n(13352)},47332:function(e,t,n){e.exports=n(70120)},7312:function(e,t,n){e.exports=n(49372)},82600:function(e,t,n){e.exports=n(8760)},39568:function(e,t,n){e.exports=n(35720)},75668:function(e,t,n){n(5960)},75984:function(e,t,n){e.exports=n(48776)},45076:function(e,t,n){e.exports=n(69344)},12640:function(e,t,n){e.exports=n(27584)},65624:function(e,t,n){e.exports=n(59620)},6908:function(e,t,n){e.exports=n(84644)},11872:function(e,t,n){e.exports=n(9384)},52360:function(e,t,n){e.exports=n(59408)},5848:function(e,t,n){e.exports=n(24992)},39832:function(e,t,n){e.exports=n(69140)},88836:function(e,t,n){e.exports=n(62572)},28555:function(e,t,n){e.exports=n(92496)},26260:function(e,t,n){e.exports=n(72672)},63808:function(e,t,n){e.exports=n(62296)},45040:function(e,t,n){e.exports=n(68792)},24560:function(e,t,n){e.exports=n(38736)},55748:function(e,t,n){e.exports=n(35716)},54120:function(e,t,n){e.exports=n(56860)},27392:function(e,t,n){e.exports=n(43760)},39448:function(e,t,n){e.exports=n(9224)},57492:function(e,t,n){e.exports=n(48624)},69216:function(e,t,n){e.exports=n(72504)},47976:function(e,t,n){e.exports=n(10424)},66196:function(e,t,n){n(42648)},41256:function(e,t,n){e.exports=n(77052)},97552:function(e,t,n){e.exports=n(11480)},2992:function(e,t,n){e.exports=n(19516)},11984:function(e,t,n){e.exports=n(43252)},25448:function(e,t,n){e.exports=n(94088)},62360:function(e,t,n){e.exports=n(77932)},13760:function(e,t,n){e.exports=n(42592)},59312:function(e,t,n){e.exports=n(43328)},97440:function(e,t,n){e.exports=n(39928)},31192:function(e,t,n){e.exports=n(35184)},72600:function(e,t,n){e.exports=n(88308)},91648:function(e,t,n){e.exports=n(96680)},93920:function(e,t,n){e.exports=n(6164)},64248:function(e,t,n){e.exports=n(64800)},9712:function(e,t,n){e.exports=n(17456)},26568:function(e,t,n){e.exports=n(17893)},29656:function(e,t,n){e.exports=n(10384)},12484:function(e,t,n){e.exports=n(83576)},71072:function(e,t,n){e.exports=n(46656)},19692:function(e,t,n){e.exports=n(3568)},57312:function(e,t,n){e.exports=n(62952)},80075:function(e,t,n){e.exports=n(91864)},57328:function(e,t,n){e.exports=n(76008)},53140:function(e,t,n){e.exports=n(40624)},98468:function(e,t,n){e.exports=n(16388)},51592:function(e,t,n){e.exports=n(71792)},32344:function(e,t,n){"use strict";n.r(t),n.d(t,{RuleDesigner:function(){return Zo}});var r={};n.r(r),n.d(r,{CustomInput:function(){return Hr},Switch:function(){return Wr}});var o={};n.r(o),n.d(o,{CustomInput:function(){return Vr}});var i={};n.r(i),n.d(i,{CustomInput:function(){return Xr}});var a={};n.r(a),n.d(a,{CustomInput:function(){return Kr}});var u={};n.r(u),n.d(u,{CustomInput:function(){return qr}});var c={};n.r(c),n.d(c,{CustomInput:function(){return $r}});var s={};n.r(s),n.d(s,{CustomInput:function(){return no}});var l={};n.r(l),n.d(l,{CustomInput:function(){return jo}});var f={};n.r(f),n.d(f,{CustomInput:function(){return Ro}});var d={};n.r(d),n.d(d,{CustomInput:function(){return Vo}});n(19600);var p=n(39448),h=n.n(p),v=n(18860),g=n.n(v),m=n(55748),y=n.n(m),b=n(7312),w=n.n(b),x=n(54120),C=n.n(x),E=n(63808),S=n.n(E),_=n(45040),k=n.n(_),A=n(30112),O=n(72048),N=n(47976),M=n.n(N),T=n(81744),P=n.n(T),I=n(43400),L=n.n(I),D=n(18040),j=n.n(D),R=n(54116),F=n(2664),z=n(81043),B=n(45076),U=n.n(B),W=n(98752),H=L().createContext({});H.displayName="DesignerContext";var V=L().createContext({});V.displayName="FlowViewContext";var G=function(e){var t=e.prefixCls,n="".concat(t,"-target-handle");return L().createElement("div",{className:n})},Y={position:"absolute",cursor:"auto",background:"#999",width:"1px",height:"1px",border:"none",boderRadius:"0",left:0},X={position:"absolute",cursor:"auto",background:"#999",width:"1px",height:"1px",border:"none",boderRadius:"0",left:"-8px"},K={position:"absolute",cursor:"auto",background:"#999",width:"1px",height:"1px",border:"none",boderRadius:"0",right:0},q={cursor:"auto",background:"#999",width:"1px",height:"5px",border:"none",boderRadius:"0"},Z={cursor:"auto",background:"#999",width:"1px",height:"1px",border:"none",boderRadius:"0"},Q=(0,D.ErrorBoundaryWrap)((function(e){var t,n,r=e.data,o=(e.id,(0,I.useContext)(H)),i=o.getPrefixCls,a=o.prefixCls,u=i&&i(a,"controls-rule-node");return L().createElement("div",{className:u,style:{width:null===(t=r.size)||void 0===t?void 0:t.width,height:null===(n=r.size)||void 0===n?void 0:n.height}},L().createElement(W._2,{type:"source",position:W.JC.Right,id:"b",style:K}))}),"flow-rule-node"),J=function(e){var t=(0,I.useContext)(V).canClick,n=(0,(0,I.useContext)(H).getKdesignerApi)().selection.setSelect;return(0,I.useCallback)((function(r){t&&(r.stopPropagation(),n([e]))}),[])},$=n(82600),ee=n.n($),te=function(e){var t=(0,I.useState)(!1),n=(0,O.c)(t,2),r=n[0],o=n[1],i=(0,I.useContext)(H).getKdesignerApi,a=(0,I.useMemo)((function(){return i()}),[]).selection,u=(0,I.useCallback)((function(t){var n=t.value,r=null==n?void 0:ee()(n).call(n,e);o(r)}),[e]);return(0,I.useEffect)((function(){var t=a.getSelection(),n=null==t?void 0:ee()(t).call(t,e);o(n);var r=a.addSelectChangeListener(u);return function(){r()}}),[]),r},ne=n(71252),re=n.n(ne),oe=(0,D.ErrorBoundaryWrap)((function(e){var t,n,r=e.data,o=e.id,i=r.PreDescription,a=(0,I.useContext)(H),u=a.getPrefixCls,c=a.prefixCls,s=u&&u(c,"controls-condition-node"),l=te(o),f=J(o);return L().createElement("div",{className:re()(s,{"node-selection":l}),style:{width:null===(t=r.size)||void 0===t?void 0:t.width,height:null===(n=r.size)||void 0===n?void 0:n.height},onClick:f},L().createElement(W._2,{type:"target",position:W.JC.Left,id:"a",style:X},L().createElement(G,{prefixCls:c})),L().createElement(W._2,{type:"source",position:W.JC.Right,id:"b",style:K}),L().createElement("div",{className:"".concat(s,"-label")},i))}),"flow-condition-node"),ie=n(34984),ae=n(12388),ue=n.n(ae),ce=n(47332),se=n.n(ce),le="ConditionNode",fe="RuleNode",de="JudgeNode",pe="EndNode",he="TrueNode",ve="FalseNode",ge="ActionNode",me="RetNode",ye="AddNode";function be(e){return e.Type===le}function we(e){return e.__Type__===ge}function xe(e){return e.Type===he}function Ce(e){return e.Type===ve}var Ee=function(e,t){var n=["CardRowPanelAp","CardEntryRowAp","ListGridViewAp","ReportListAp"];return ee()(n).call(n,e)&&"formmeta"===t?"ClientRules":"Rules"},Se=function(e){var t=["CardEntryRowAp","ListGridViewAp","CardRowPanelAp"];return!ee()(t).call(t,e)},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1;return ue()(t)?n=null==t?void 0:ee()(t).call(t,e):"[object Object]"===Object.prototype.toString.call(t)&&(n="lock"===(null==t?void 0:t[e])),n},ke=function(e,t,n){for(var r=e.Categories,o=0;o<r.length;o++){var i,a,u=se()(i=r[o].ElementTypes).call(i,(function(e){return e.Id===t}));if(u)return se()(a=u.Properties).call(a,(function(e){return e.PropertyName===n}))}},Ae=["data","id"],Oe=(0,D.ErrorBoundaryWrap)((function(e){var t,n,r=e.data,o=(e.id,(0,ie.c)(e,Ae),(0,I.useContext)(H)),i=o.getPrefixCls,a=o.prefixCls,u=o.getRulesNodes,c=o.activeRuleNodeId,s=i&&i(a,"controls-judge-node"),l=function(e,t){if(!e)return!0;var n=!0;return null==e||w()(e).call(e,(function(e){t!==e.Id||Se(e._Type_)||(n=!1)})),n}(u(),c);return L().createElement("div",{className:s,style:{width:null===(t=r.size)||void 0===t?void 0:t.width,height:null===(n=r.size)||void 0===n?void 0:n.height}},L().createElement(W._2,{type:"target",position:W.JC.Left,id:"a",style:X},L().createElement(G,{prefixCls:a})),l&&L().createElement(W._2,{type:"source",position:W.JC.Bottom,id:"FalseNode",style:q}),L().createElement(W._2,{type:"source",position:W.JC.Right,id:"TrueNode",style:K}),L().createElement("div",{className:"".concat(s,"-label"),title:(0,D.getLangMsg)("ruled.judgeNode.key0001")},(0,D.getLangMsg)("ruled.judgeNode.key0001")),L().createElement("svg",{width:"100%",height:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:{overflow:"unset"}},L().createElement("polygon",{points:"0,18 31,0 62,18 31,36",style:{fill:"#fafafa",stroke:"#999",strokeWidth:1}})))}),"flow-judge-node"),Ne=function(e){var t,n,r=e.data,o=e.id,i=e.label,a=(0,I.useRef)(null),u=(0,I.useContext)(H),c=u.getPrefixCls,s=u.prefixCls,l=c&&c(s,"controls-tf-node"),f=te(o),d=J(o);return L().createElement("div",{className:re()(l,{"node-selection":f}),ref:a,style:{width:null===(t=r.size)||void 0===t?void 0:t.width,height:null===(n=r.size)||void 0===n?void 0:n.height},onClick:d},L().createElement(W._2,{type:"target",position:W.JC.Left,id:"a",style:Y}),L().createElement(W._2,{type:"source",position:W.JC.Right,id:"b",style:K}),L().createElement("div",{className:"".concat(l,"-label"),title:i},i))},Me=function(e){return function(t){var n="true"===e?(0,D.getLangMsg)("ruled.tfNode.key0001"):"false"===e?(0,D.getLangMsg)("ruled.tfNode.key0002"):null;return L().createElement(Ne,(0,F.c)({},t,{label:n}))}},Te=(0,D.ErrorBoundaryWrap)(Me("true"),"flow-tf-node"),Pe=(0,D.ErrorBoundaryWrap)(Me("false"),"flow-tf-node"),Ie=n(67928),Le=n.n(Ie),De=null,je=null,Re="front",Fe=Re,ze=function(e,t,n){var r=(0,I.useContext)(H),o=r.getKdesignerApi,i=(r.getPrefixCls,r.prefixCls,r.getRulesNodes,r.activeRuleNodeId,(0,Ie.throttle)((function(t){t.preventDefault(),function(e){je=e}(e);var n=t.target.getBoundingClientRect();Fe=t.clientX<=n.x+n.width/2?Re:"back"}),200));return{onDragStart:function(n){!function(e){De=e}(e),t&&t(n)},onDragOver:function(e){e.preventDefault(),e.persist(),i(e)},onDrop:function(e){var t,r;e.preventDefault(),r=je,(t=De)&&r&&r!==t&&o().data.customUpdateState((0,D.createCustomUpdateAction)((function(e){var n=e.Items,o=se()(n).call(n,(function(e){return e.Id===t})),i=se()(n).call(n,(function(e){return e.Id===r})),a=se()(n).call(n,(function(e){return e.ParentId===r})),u=null==a?void 0:a.Id,c=i.ParentId,s=se()(n).call(n,(function(e){return e.ParentId===t})),l=o.ParentId;if(Fe===Re){if(c===t)return;s.ParentId=l,i.ParentId=t,o.ParentId=c,o.NodeType=i.NodeType}else{if(u===t)return;s.ParentId=l,o.ParentId=r,o.NodeType=i.NodeType,a.ParentId=t}}))),n&&n(e)},draggable:!0}},Be=n(75984),Ue=n.n(Be),We=n(11984),He=n.n(We),Ve=n(54895),Ge=n(77284),Ye=n(89280),Xe=n(43840),Ke=n(3460),qe=n(27688),Ze=n(88836),Qe=n.n(Ze),Je=n(59312),$e=n.n(Je),et=n(83789),tt=n(12640),nt=n.n(tt),rt=n(89843),ot=n.n(rt),it=n(97440),at=n.n(it),ut=n(64248),ct=n.n(ut),st=n(58496);var lt=function(e,t,n,r){var o,i=e[0],a=i.entity,u=i.treeMap,c=(null==a||null===(o=a[t])||void 0===o?void 0:o[n])||"";return"object"===(0,st.c)(c)&&r&&(c=c[r]),c?[u[c]]:[]},ft=function(e){var t=[],n=function e(t,n){var r=t.children;null!=r&&r.length&&(n.push.apply(n,(0,z.c)(r)),w()(r).call(r,(function(t){return e(t,n)})))};return w()(e).call(e,(function(e){t.push(e),n(e,t)})),t},dt=function(e){var t=(0,Ie.cloneDeep)(e);return ue()(t)?t:t?[t]:[]},pt=["type","id","nodeType","ret","description","actionType","parentId"];function ht(e,t,n){return t=(0,Ge.c)(t),(0,Ve.c)(e,vt()?He()(t,n||[],(0,Ge.c)(e).constructor):t.apply(e,n))}function vt(){try{var e=!Boolean.prototype.valueOf.call(He()(Boolean,[],(function(){})))}catch(e){}return(vt=function(){return!!e})()}var gt=function(e){var t,n={FieldChanged:(0,D.getLangMsg)("ruled.meta.key0012"),ItemAdded:(0,D.getLangMsg)("ruled.meta.key0013"),Initialized:(0,D.getLangMsg)("ruled.meta.key0014")};return Ue()(t=e.checked).call(t,(function(t){return{Name:n[t]||t,Value:t,Locked:!e["support".concat(t)]}}))},mt=function(e){return new(Qe())([["FormulaAction",(0,D.getLangMsg)("ruled.meta.key0015")],["TakeBaseProAction",(0,D.getLangMsg)("ruled.meta.key0016")],["SetEqutionAction",(0,D.getLangMsg)("ruled.meta.key0017")],["ClearValueAction",(0,D.getLangMsg)("ruled.meta.key0018")],["FillQtyAction",(0,D.getLangMsg)("ruled.meta.key0019")],["LockFieldAction",(0,D.getLangMsg)("ruled.meta.key0020")],["UnlockFieldAction",(0,D.getLangMsg)("ruled.meta.key0020")],["ShowFieldAction",(0,D.getLangMsg)("ruled.meta.key0020")],["HideFieldAction",(0,D.getLangMsg)("ruled.meta.key0020")],["LockControlAction",(0,D.getLangMsg)("ruled.meta.key0021")],["UnlockControlAction",(0,D.getLangMsg)("ruled.meta.key0021")],["ShowControlAction",(0,D.getLangMsg)("ruled.meta.key0021")],["HideControlAction",(0,D.getLangMsg)("ruled.meta.key0021")],["ClientLockFieldAction",(0,D.getLangMsg)("ruled.meta.key0020")],["ClientUnlockFieldAction",(0,D.getLangMsg)("ruled.meta.key0020")],["ClientShowFieldAction",(0,D.getLangMsg)("ruled.meta.key0020")],["ClientHideFieldAction",(0,D.getLangMsg)("ruled.meta.key0020")],["ClientLockControlAction",(0,D.getLangMsg)("ruled.meta.key0021")],["ClientUnlockControlAction",(0,D.getLangMsg)("ruled.meta.key0021")],["ClientShowControlAction",(0,D.getLangMsg)("ruled.meta.key0021")],["ClientHideControlAction",(0,D.getLangMsg)("ruled.meta.key0021")],["ClientSetFieldfmtAction",(0,D.getLangMsg)("ruled.meta.key0022")],["ClientSetFieldAction",(0,D.getLangMsg)("ruled.meta.key0023")],["ClientSetControlAction",(0,D.getLangMsg)("ruled.meta.key0024")]]).get(e)||(0,D.getLangMsg)("ruled.meta.key0025")},yt=function(e,t){var n=e.id,r=[{Id:"RET",Name:(0,D.getLangMsg)("ruled.meta.key0026"),Editor:{Type:"MultiSelect",Enum:gt(e),Required:!0},Visible:!0,Locked:t},{Id:"Description",Name:(0,D.getLangMsg)("ruled.meta.key0027"),Editor:{Type:"Input",DataType:"String"},Visible:!0,Locked:t},"SetEqutionAction"===n?{Id:"OnlyEmptyRow",Name:(0,D.getLangMsg)("ruled.meta.key0028"),Editor:{Type:"Switch"},Visible:!0,Locked:t}:null,{Id:"Value",Name:mt(n),Editor:{Type:"CustomInput",Required:!0},Locked:t}];return g()(r).call(r,Boolean)},bt=function(e,t,n){var r,o=ft(dt(t)),i=null===(r=se()(o).call(o,(function(e){return e.data===n})))||void 0===r?void 0:r.serviceType;return g()(e).call(e,(function(e){var t=e.serviceTypes;return void 0===i||t===i}))},wt=function(e,t,n,r,o){var i=new($e()),a=t[0],u=a.serviceType,c=a.rulesTree,s=a.lockRules,l=bt(u,c,n),f=_e(o,s),d=Ue()(l).call(l,(function(e){var t=e.metaClass,n=e.title,r=e.tips,o=e.checked;return i.add(t),{Id:t,Name:n,Icon:"Icon",Tips:r,Properties:[{Id:"Property",Name:n,DefaultCollapse:!1,Nodes:yt(e,f)}],Accept:[],IsContainer:!0,CheckedRet:o}})),p=function(e){return{Categories:[{Id:"ActionNode",Name:(0,D.getLangMsg)("ruled.meta.key0001"),Controls:[{Id:"RuleRoot",Name:(0,D.getLangMsg)("ruled.meta.key0002"),Icon:"Icon",Properties:[],Accept:[],IsContainer:!0,Visible:!1},{Id:"RuleNode",Name:(0,D.getLangMsg)("ruled.meta.key0002"),Icon:"Icon",Properties:[{Id:"Property",Name:(0,D.getLangMsg)("ruled.meta.key0003"),DefaultCollapse:!1,Nodes:[{Id:"Description",Name:(0,D.getLangMsg)("ruled.meta.key0004"),Editor:{Type:"Input",DataType:"String",Required:!0},Visible:!0},{Id:"Enabled",Name:(0,D.getLangMsg)("ruled.meta.key0005"),Editor:{Type:"Switch",DataType:"Boolean",Required:!0},Visible:!0}]}],Accept:[],IsContainer:!0},{Id:"ConditionNode",Name:(0,D.getLangMsg)("ruled.meta.key0006"),Icon:"Icon",Properties:[{Id:"Property",Name:(0,D.getLangMsg)("ruled.meta.key0006"),DefaultCollapse:!1,Nodes:[{Id:"PreDescription",Name:(0,D.getLangMsg)("ruled.meta.key0007"),Editor:{Type:"Input",DataType:"String",Required:!0},Visible:!0,Locked:e},{Id:"PreCondition",Name:(0,D.getLangMsg)("ruled.meta.key0008"),Editor:{Type:"CustomInput",DataType:"String",Required:!0},Visible:!0,Locked:e}]}],Accept:[],IsContainer:!0},{Id:"JudgeNode",Name:(0,D.getLangMsg)("ruled.meta.key0009"),Icon:"Icon",Properties:[],Accept:[],IsContainer:!0},{Id:"TrueNode",Name:(0,D.getLangMsg)("ruled.meta.key0010"),Icon:"Icon",Properties:[],Accept:["ActionNode"],IsContainer:!0},{Id:"FalseNode",Name:(0,D.getLangMsg)("ruled.meta.key0011"),Icon:"Icon",Properties:[],Accept:["ActionNode"],IsContainer:!0},{Id:"EndNode",Name:(0,D.getLangMsg)("ruled.meta.key0011"),Icon:"Icon",Properties:[],Accept:["ActionNode"],IsContainer:!0}]}]}}(f);return(0,et.cp)(p,(function(e){for(var t=(0,O.c)(e.Categories,1)[0].Controls,n=t.length-1;n>t.length-4;n--)t[n].Accept=(0,z.c)(i);t.push.apply(t,(0,z.c)(Ue()(d).call(d,(function(e){return e.Accept=(0,z.c)(i),e}))))}))},xt=function(){function e(t){var n=t.type,r=t.id,o=t.parentId;(0,Ke.c)(this,e),(0,A.c)(this,et.qg,!0),(0,A.c)(this,"Type","RuleNode"),(0,A.c)(this,"Id","node"),(0,A.c)(this,"ParentId",""),this.Type=n,this.Id=r,this.ParentId=o}return(0,qe.c)(e,[{key:"getValue",value:function(){throw new Error("sub class must realize self getValue")}}]),e}(),Ct=function(e){function t(e){var n,r=e.type,o=void 0===r?"RuleNode":r,i=e.id,a=e.description,u=e.enabled,c=e.parentId,s=e.relationContainerNodeId;return(0,Ke.c)(this,t),n=ht(this,t,[{type:o,id:i,parentId:c,relationContainerNodeId:s}]),(0,A.c)((0,Ye.c)(n),"Description",""),(0,A.c)((0,Ye.c)(n),"Enabled",!0),(0,A.c)((0,Ye.c)(n),"RelationContainerNodeId",""),n.Description=a,n.Enabled=u,n.RelationContainerNodeId=s,n}return(0,Xe.c)(t,e),(0,qe.c)(t,[{key:"getValue",value:function(){return t.getValue.call(this)}}],[{key:"getValue",value:function(){return{Id:this.Id,Description:this.Description,Enabled:this.Enabled}}}]),t}(xt),Et=function(e){function t(e){var n,r=e.type,o=void 0===r?"ConditionNode":r,i=e.id,a=e.preDescription,u=e.preCondition,c=e.parentId;return(0,Ke.c)(this,t),n=ht(this,t,[{type:o,id:i,parentId:c}]),(0,A.c)((0,Ye.c)(n),"PreDescription",""),(0,A.c)((0,Ye.c)(n),"PreCondition",""),n.PreDescription=a,n.PreCondition=u,n}return(0,Xe.c)(t,e),(0,qe.c)(t,[{key:"getValue",value:function(){return t.getValue.call(this)}}],[{key:"getValue",value:function(){return{PreCondition:this.PreCondition||"",PreDescription:this.PreDescription||""}}}]),t}(xt),St=function(e){function t(e){var n=e.type,r=void 0===n?de:n,o=e.id,i=e.parentId;return(0,Ke.c)(this,t),ht(this,t,[{type:r,id:o,parentId:i}])}return(0,Xe.c)(t,e),(0,qe.c)(t)}(xt),_t=function(e){function t(e){var n,r=e.type,o=void 0===r?me:r,i=e.id,a=e.parentId,u=e.ret,c=void 0===u?"":u;return(0,Ke.c)(this,t),(n=ht(this,t,[{type:o,id:i,parentId:a}])).RET=c,n}return(0,Xe.c)(t,e),(0,qe.c)(t)}(xt),kt=function(e){function t(e){var n=e.type,r=void 0===n?he:n,o=e.id,i=e.parentId;return(0,Ke.c)(this,t),ht(this,t,[{type:r,id:o,parentId:i}])}return(0,Xe.c)(t,e),(0,qe.c)(t)}(xt),At=function(e){function t(e){var n=e.type,r=void 0===n?ve:n,o=e.id,i=e.parentId;return(0,Ke.c)(this,t),ht(this,t,[{type:r,id:o,parentId:i}])}return(0,Xe.c)(t,e),(0,qe.c)(t)}(xt),Ot=function(e){function t(e){var n=e.type,r=void 0===n?ye:n,o=e.id,i=e.parentId;return(0,Ke.c)(this,t),ht(this,t,[{type:r,id:o,parentId:i}])}return(0,Xe.c)(t,e),(0,qe.c)(t)}(xt),Nt=function(e){function t(e){var n=e.type,r=void 0===n?pe:n,o=e.id,i=e.parentId;return(0,Ke.c)(this,t),ht(this,t,[{type:r,id:o,parentId:i}])}return(0,Xe.c)(t,e),(0,qe.c)(t)}(xt),Mt="true",Tt="false",Pt=function(e){function t(e){var n,r,o=e.type,i=void 0===o?"ActionNode":o,a=e.id,u=e.nodeType,c=e.ret,s=e.description,l=e.actionType,f=e.parentId,d=(0,ie.c)(e,pt);return(0,Ke.c)(this,t),r=ht(this,t,[{type:i,id:a,parentId:f}]),(0,A.c)((0,Ye.c)(r),"NodeType","true"),(0,A.c)((0,Ye.c)(r),"ActionType",""),(0,A.c)((0,Ye.c)(r),"Description",""),(0,A.c)((0,Ye.c)(r),"__Type__","ActionNode"),(0,A.c)((0,Ye.c)(r),"RET",""),(0,A.c)((0,Ye.c)(r),"_Type_",""),r.NodeType=u,r.ActionType=l,r.Description=s,r.RET=c,r._Type_=r.Type,w()(n=M()(d)).call(n,(function(e){r[e]=d[e]})),r}return(0,Xe.c)(t,e),(0,qe.c)(t)}(xt),It=function(e){var t=e.data,n=e.close,r=e.onClick,o=e.panelRef,i=e.prefixCls,a=(0,I.useCallback)((function(e,t){e.stopPropagation(),r&&r(t),n&&n()}),[n,r]);return L().createElement("div",{className:i+"-list",ref:o},t&&(null==t?void 0:Ue()(t).call(t,(function(e,t){return L().createElement("div",{key:t,className:i+"-list-item",title:e.title,onClick:function(t){return a(t,e)}},e.title)}))))},Lt=function(e){var t=e.onClick,n=e.className,r=(0,I.useState)(!1),o=(0,O.c)(r,2),i=o[0],a=o[1],u=(0,I.useRef)(null),c=(0,I.useContext)(H),s=c.ruleMetaInfo,l=c.activeRuleNodeId,f=c.getPrefixCls,d=c.prefixCls,p=(null==s?void 0:s[0])||{},h=p.serviceType,v=p.rulesTree;if(!h)return null;h=bt(h,v,l);var g=f&&f(d,"add-icon"),m=(0,I.useCallback)((function(){a(!0)}),[]),y=(0,I.useCallback)((function(e){t(e)}),[]),b=(0,I.useCallback)((function(){a(!1)}),[]);return(0,D.useOnClickOutside)([u],(function(){b()})),L().createElement("div",{className:re()(g,n)},L().createElement(R.Icon,{prefix:"designericon",type:"tianjiakapian",onClick:m}),i&&L().createElement(It,{data:h,onClose:b,onClick:y,panelRef:u,prefixCls:g}))},Dt=(0,D.ErrorBoundaryWrap)((function(e){var t,n,r=e.data,o=e.id,i=r.Description,a=r.ParentId,u=r.Id,c=(0,I.useContext)(H),s=c.getPrefixCls,l=c.prefixCls,f=c.getKdesignerApi,d=c.isLockRule,p=(0,I.useMemo)((function(){return f()}),[]),h=p.data,v=p.selection,g=d(),m=s&&s(l,"controls-action-node"),y=g?{}:ze(o,void 0,void 0),b=te(o),w=J(o),x=function(e,t){var n=e||{},r=n.id,o=n.title,i=n.checked,c=(0,D.createUUid)(),s={Type:"TakeBaseProAction"===r?null==e?void 0:e.metaClass:r,Name:o,ParentId:"pre"===t?a:u,Id:c,RET:ue()(i)?i.join(","):i};h.addControl((0,D.createAddAction)(s)).then((function(){v.setSelect([c])}))},C=b&&!g,E=g?X:b?Y:X;return L().createElement("div",{className:m},C&&L().createElement(Lt,{className:"".concat(m,"-pre-add"),onClick:function(e){return x(e,"pre")}}),L().createElement("div",(0,F.c)({className:re()("".concat(m,"-node"),{"node-selection":b}),style:{width:null===(t=r.size)||void 0===t?void 0:t.width,height:null===(n=r.size)||void 0===n?void 0:n.height},onMouseDown:w},y),L().createElement(W._2,{type:"target",position:W.JC.Left,id:"a",style:E},!C&&L().createElement(G,{prefixCls:l})),L().createElement(W._2,{type:"source",position:W.JC.Right,id:"b",style:K}),L().createElement("div",{className:"".concat(m,"-label")},i)),C&&L().createElement(Lt,{className:"".concat(m,"-next-add"),onClick:function(e){return x(e,"next")}}))}),"flow-action-node"),jt=(0,D.ErrorBoundaryWrap)((function(e){var t,n,r=e.data,o=(e.id,(0,I.useContext)(H)),i=o.getPrefixCls,a=o.prefixCls,u=i&&i(a,"controls-end-node");return L().createElement("div",{className:u,style:{width:null===(t=r.size)||void 0===t?void 0:t.width,height:null===(n=r.size)||void 0===n?void 0:n.height}},L().createElement(W._2,{type:"target",position:W.JC.Left,id:"a",style:X},L().createElement(G,{prefixCls:a})))}),"flow-end-node"),Rt=(0,D.ErrorBoundaryWrap)((function(e){var t,n,r=e.data,o=(0,I.useContext)(H),i=o.getPrefixCls,a=o.prefixCls,u=o.getKdesignerApi;if((0,o.isLockRule)())return null;var c=(0,I.useMemo)((function(){return u()}),[]),s=c.data,l=c.selection,f=i&&i(a,"controls-add-node"),d=r.ParentId;return L().createElement("div",{className:f,style:{width:null===(t=r.size)||void 0===t?void 0:t.width,height:null===(n=r.size)||void 0===n?void 0:n.height}},L().createElement(W._2,{type:"target",position:W.JC.Left,id:"addTarget",style:Y}),L().createElement(Lt,{onClick:function(e){var t=e||{},n=t.metaClass,r=t.title,o=t.checked,i=(0,D.createUUid)(),a={Type:"TakeBaseProAction"===n?null==e?void 0:e.metaClass:n,Name:r,ParentId:d,Id:i,Ret:ue()(o)?o.join(","):o};s.addControl((0,D.createAddAction)(a)).then((function(){l.setSelect([i])}))}}),L().createElement(W._2,{type:"source",position:W.JC.Right,id:"addSource",style:K}))}),"flow-action-node"),Ft=n(84912),zt=n.n(Ft),Bt=n(39832),Ut=n.n(Bt),Wt=n(29636),Ht=n.n(Wt),Vt=n(11872),Gt=n.n(Vt),Yt=["_Type_","ActionType","Description","RET"];function Xt(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Kt=function(e){return e[e.length-1].Id},qt=function(e,t,n,r){var o={id:(0,D.createUUid)(),parentId:r},i=n===Mt?new kt(o):new At(o);e.push(i),w()(t).call(t,(function(t,r){var o=t._Type_,i=t.ActionType,a=t.Description,u=t.RET,c=(0,ie.c)(t,Yt),s=new Pt(function(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Xt(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Xt(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}({type:o,id:(0,D.createUUid)(),nodeType:n,actionType:i,description:a,ret:ue()(u)?u.join(","):u,parentId:Kt(e)},c));e.push(s)})),e.push(new Nt({id:(0,D.createUUid)(),parentId:Kt(e)}))},Zt=["Type","NodeType","ParentId"],Qt=function(e){var t=JSON.parse(Ut()(e));return w()(Zt).call(Zt,(function(e){delete t[e]})),"string"==typeof t.RET&&(t.RET=t.RET.split(",")),t},Jt=function(e,t,n,r){var o=e[r].Items,i=(0,D.createUUid)(),a=U()(o).call(o,(function(e,t){var o=(0,O.c)(e,2),a=o[0],u=o[1];if(ee()(n).call(n,t.Id)){a.push(t);var c=Ee(t._Type_,r),s=t[c],l=t.Id;(null==s?void 0:s.length)>0&&w()(s).call(s,(function(e){var n=e.Description,r=e.Enabled,o=void 0===r||r,a=e.Id,c=e.PreDescription,s=e.PreCondition,f=e.TrueActions,d=void 0===f?[]:f,p=e.FalseActions,h=void 0===p?[]:p,v=[],g=new Ct({id:a,description:n,enabled:o,parentId:i,relationContainerNodeId:l});v.push(g);var m=(0,D.createUUid)(),y=new Et({id:m,preDescription:c,preCondition:s,parentId:Kt(v)});v.push(y);var b=new St({id:(0,D.createUUid)(),parentId:m});v.push(b);var w=Kt(v);qt(v,d,Mt,w),Se(t._Type_)&&qt(v,h,Tt,w),u.push.apply(u,v)}))}return e}),[[],[{Type:"RuleRoot",Id:i}]]),u=(0,O.c)(a,2);return[u[0],{Items:u[1]}]};function $t(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=$t(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=$t(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var tn=function(e){var t=e.Type;return we(e)?ge:t},nn=function(e){var t,n={x:0,y:0},r=[],o=[];return w()(e).call(e,(function(e){var t,i=e.Id,a=e.Type,u=(e.Name,e.ParentId);(r.push({id:i,position:n,type:tn(e),data:en({},e)}),a!==fe)&&o.push(en(en({id:P()(t="".concat(u,"-")).call(t,i),source:u,target:i,type:"step"},function(e){return xe(e)?{sourceHandle:"TrueNode"}:Ce(e)?{sourceHandle:"FalseNode"}:{}}(e)),{},{style:{stroke:"#999"}}))})),P()(t=[]).call(t,r,o)},rn=function(e,t,n,r){var o,i={id:(0,D.createUUid)(),parentId:r},a=n===Mt?new kt(i):new At(i);e.push(a),w()(o=g()(t).call(t,(function(e){return e.NodeType===n}))).call(o,(function(t,n){var r=t.ActionType,o=t.Description,i=t.RET,a=t.NodeType,u=new Pt({type:r,id:(0,D.createUUid)(),nodeType:a,actionType:r,description:o,ret:i,parentId:Kt(e)});e.push(u)})),e.push(new Nt({id:(0,D.createUUid)(),parentId:Kt(e)}))},on=function(e,t){var n,r=t.findControlByCondition((function(e){return e.Type===fe})),o=Ue()(r).call(r,(function(e){return t.getAllSubControls(e.Id)}));if(!o.length)return[];var i=new(Qe());w()(o).call(o,(function(e){return t=e,r=se()(t).call(t,(function(e){return be(e)})),o=new($e())(g()(n=Ue()(t).call(t,(function(e){return e.RET}))).call(n,(function(e){return!(0,Ie.isUndefined)(e)}))),w()(o).call(o,(function(e){var n=i.get(e)||[],o=[],a=en(en({},r),{},{Id:(0,D.createUUid)()}),u=new St({id:(0,D.createUUid)(),parentId:a.Id});o.push(a,u);var c=u.Id,s=g()(t).call(t,(function(t){return t.RET===e}));rn(o,s,Mt,c),rn(o,s,Tt,c),n.push(o),i.set(e,n)})),i;var t,n,r,o}));var a=new($e())(g()(n=Ue()(e).call(e,(function(e){return e.RET}))).call(n,(function(e){return!(0,Ie.isUndefined)(e)}))),u=[],c=new Ct({id:(0,D.createUUid)(),parentId:""});return u.push(c),w()(a).call(a,(function(e){var t=new _t({id:(0,D.createUUid)(),parentId:c.Id,ret:e});u.push(t);var n=i.get(e)||[];w()(n).call(n,(function(e){e[0].ParentId=t.Id,u.push.apply(u,(0,z.c)(e))}))})),nn(u)},an=function(e,t){if(t)return e;var n=[];return w()(e).call(e,(function(t,r){if(t.Type===pe){var o=e[r-1];if(Ce(o)||xe(o)){var i=(0,D.createUUid)();n.push(new Ot({id:i,parentId:o.Id}),en(en({},t),{},{ParentId:i}))}else n.push(t)}else n.push(t)})),n},un=(0,D.ErrorBoundaryWrap)((function(e){var t,n,r=e.data,o=(e.id,r.RET),i=(0,I.useRef)(null),a=(0,I.useContext)(H),u=a.getPrefixCls,c=a.prefixCls,s=u&&u(c,"controls-condition-node");return L().createElement("div",{className:s,ref:i,style:{width:null===(t=r.size)||void 0===t?void 0:t.width,height:null===(n=r.size)||void 0===n?void 0:n.height}},L().createElement(W._2,{type:"target",position:W.JC.Left,id:"a",style:Z}),L().createElement(W._2,{type:"source",position:W.JC.Right,id:"b",style:K}),L().createElement("div",{className:"".concat(s,"-label")},o))}),"flow-ret-node");function cn(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=cn(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=cn(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}function ln(e){switch(e.type){case fe:case pe:return{width:11,height:11};case me:case le:return{width:117,height:fn(e,117)};case de:return{width:62,height:36};case he:case ve:return{width:70,height:24};case ge:return{width:146,height:fn(e,146)};case ye:return{width:16,height:16};default:return{width:172,height:36}}}function fn(e,t){var n=e.type,r=e.data,o="";o=n===le?r.PreDescription||"":n===me?r.RET||"":r.Description||"";var i=document.createElement("div");i.setAttribute("style","width: ".concat(t,"px; line-height: 18px;border: 1px solid transparent; word-break: break-word;padding: 8px 16px; max-width:320px; position:absolute; left:-9999px; top:0px; display:flex;min-height: 36px; font-weight: bold;font-size: 12px;")),document.body.appendChild(i),i.innerText=o;var a=i.getBoundingClientRect().height;return document.body.removeChild(i),a}var dn=function(e,t,n,r){if(e.type===fe)return n.x;var o=se()(t).call(t,(function(e){return e.id===r}));if(o){var i=o.position,a=o.data.size;return i.x+a.width+50}return n.x};function pn(){return{style:{background:"#ECEEF2"},panOnScroll:!0,zoomOnScroll:!1,preventScrolling:!1,nodesConnectable:!1,nodesDraggable:!1,panOnScrollMode:W.WY.Free,defaultZoom:1,minZoom:1/1.2/1.2,maxZoom:1.44,zoomOnDoubleClick:!1}}function hn(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=hn(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=hn(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var gn={RuleNode:Q,ConditionNode:oe,JudgeNode:Oe,TrueNode:Te,FalseNode:Pe,EndNode:jt,ActionNode:Dt,RetNode:un},mn=function(e){var t=e.visible,n=(0,I.useState)([]),r=(0,O.c)(n,2),o=r[0],i=r[1],a=(0,I.useState)("LR"),u=(0,O.c)(a,1)[0],c=(0,I.useState)(!0),s=(0,O.c)(c,2),l=s[0],f=s[1],d=(0,I.useContext)(H),p=d.getKdesignerApi,h=d.getPrefixCls,v=d.prefixCls,g=(0,I.useMemo)((function(){return p()}),[]),m=g.data,y=(g.selection,h&&h(v,"all-rules-view-body")),b=(0,I.useRef)(),x=(0,I.useRef)([]),C=(0,I.useRef)(!1),E=function(e){var t,n,r=new(zt().graphlib.Graph);r.setDefaultEdgeLabel((function(){return{}})),r.setGraph({rankdir:e,nodesep:30,ranksep:50,marginx:100,align:"UL"}),w()(t=x.current).call(t,(function(e){(0,W.yW)(e)?(e.data.size=ln(e),r.setNode(e.id,vn(vn({},e.data.size),{},{shape:"rect"}))):r.setEdge(e.source,e.target)})),zt().layout(r);var o=Ue()(n=x.current).call(n,(function(e){if((0,W.yW)(e)){var t=r.node(e.id);e.targetPosition=W.JC.Left,e.sourcePosition=W.JC.Right,e.position={x:t.x-t.width/2,y:t.y+(36-t.height)/2}}return e}));i(o)},S=(0,I.useCallback)((function(e){var t=m.findControlByCondition((function(e){return e.Type===fe})),n=U()(t).call(t,(function(e,t){return P()(e).call(e,m.getAllSubControls(t.Id))}),[]);x.current=on(n,m),C.current=!1,E(u)}),[u]);(0,I.useEffect)((function(){C.current=!0,E(u);var e=m.addDataChangeListener(S);return function(){e()}}),[u]),(0,I.useEffect)((function(){if(o.length>0){var e,t,n=null===(e=b.current.toObject())||void 0===e?void 0:e.zoom;null===(t=b.current)||void 0===t||t.fitView({minZoom:n,maxZoom:n})}}),[o]),(0,I.useEffect)((function(){if(t){C.current=!0;var e=m.findControlByCondition((function(e){return e.Type===fe})),n=U()(e).call(e,(function(e,t){return P()(e).call(e,m.getAllSubControls(t.Id))}),[]);x.current=on(n,m),E(u)}}),[t]);var _=sn(sn({},pn()),{},{style:{background:"#fff"}}),k=(0,I.useMemo)((function(){return{canClick:!1}}),[]);return L().createElement(V.Provider,{value:k},L().createElement("div",{className:y},L().createElement(W.Mt,null,L().createElement(W.cp,(0,F.c)({elements:o,nodeTypes:gn,onLoad:function(e){C.current=!0,E("LR"),b.current=e},panOnScroll:l,onNodeMouseEnter:function(){f(!1)},onNodeMouseLeave:function(){f(!0)}},_)))))},yn=function(e){var t=e.visible,n=e.setVisible,r=(0,I.useContext)(H),o=r.getPrefixCls,i=r.prefixCls,a=o&&o(i,"all-rules-view");return L().createElement(R.Modal,{body:L().createElement(mn,{visible:t}),titleIcon:null,className:a,footer:null,maskClosable:!1,width:1074,height:520,title:(0,D.getLangMsg)("ruled.allRulesView.key0001"),closable:!0,destroyOnClose:!0,onCancel:function(){return n(!1)},onOk:function(){return n(!1)},mask:!0,visible:t})},bn=(0,D.isMac)(),wn="rule-designer-node-nav-tool",xn=(0,D.ErrorBoundaryWrap)((function(){var e,t,n=(0,I.useContext)(H),r=n.getKdesignerApi,o=n.isLockRule,i=n.activeRuleId,a=(0,I.useState)(!1),u=(0,O.c)(a,2),c=u[0],s=u[1],l=(0,I.useState)(!0),f=(0,O.c)(l,2),d=f[0],p=f[1],h=r(),v=h.data,g=h.selection,m=o(i),y=(0,I.useRef)(m),b=v.canUndo(),w=v.canRedo(),x=(0,I.useCallback)((function(e){if(!y.current){var t=e.value;if(t!==e.oldValue&&1===t.length){var n=t[0],r=v.findControl(n);p(!we(r))}}}),[]);(0,I.useEffect)((function(){var e=g.addSelectChangeListener(x);return function(){e()}}),[]),(0,I.useEffect)((function(){y.current=m,m&&p(!0)}),[m]),(0,D.useDataChangeForceUpdateEffect)(h);var C=(0,I.useCallback)((function(e){var t=!1,n=!0;switch(e){case 1:t=!b,n=b;break;case 2:t=!w,n=w;break;case 3:t=d,n=!d;break;default:t=!1,n=!0}return{disable:t,command:n}}),[d,w,b]),E=(0,I.useCallback)((function(){C(2).disable||w&&v.redo()}),[w,C]),S=(0,I.useCallback)((function(){C(1).disable||b&&v.undo()}),[b,C]),_=(0,I.useCallback)((function(){if(!C(3).disable){var e=(0,g.getSelection)();if(1===e.length){var t=v.findControl(e[0]);v.deleteControl((0,D.createDeleteAction)(e)).then((function(){var e=t.ParentId;g.setSelect([e])}))}}}),[C]),k=(0,I.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=C(e),o=r.disable,i=r.command;return t?re()((0,A.c)((0,A.c)({},"".concat(wn,"-buttonbox-operation-disable-icon"),o),"".concat(wn,"-buttonbox-operation-btn-icon"),i)):n?re()((0,A.c)((0,A.c)((0,A.c)({},"".concat(wn,"-buttonbox-operation-disable"),o),"".concat(wn,"-buttonbox-last-operation"),!0),"".concat(wn,"-buttonbox-operation-btn"),i)):re()((0,A.c)((0,A.c)({},"".concat(wn,"-buttonbox-operation-disable"),o),"".concat(wn,"-buttonbox-operation-btn"),i))}),[C]);return L().createElement("div",{className:wn},L().createElement("div",{className:wn+"-buttonbox"},L().createElement("div",{title:P()(e="".concat((0,D.getLangMsg)("ruled.navToolBar.key0001"),"\n")).call(e,bn?"⌘+Z":"Ctrl+Z"),className:k(1),onClick:S},L().createElement(R.Icon,{prefix:"designericon",type:"chexiao",className:k(1,!0)})),L().createElement("div",{title:P()(t="".concat((0,D.getLangMsg)("ruled.navToolBar.key0002"),"\n")).call(t,bn?"⌘+Y":"Ctrl+Y"),className:k(2,!1,!0),onClick:E},L().createElement(R.Icon,{prefix:"designericon",type:"zhongzuo",className:k(2,!0)}))),L().createElement("div",{className:wn+"-buttonbox"},L().createElement("div",{title:"".concat((0,D.getLangMsg)("ruled.navToolBar.key0003"),"\nDelete"),onClick:_,className:k(3,!1,!0)},L().createElement(R.Icon,{prefix:"designericon",type:"shanchu",className:k(3,!0)}))),L().createElement(yn,{visible:c,setVisible:s}))}),"ed-nav-toolbar"),Cn=function(){var e=(0,I.useContext)(D.ConfigContext),t=(e.getPrefixCls,e.prefixCls,(0,I.useContext)(H)),n=t.getPrefixCls,r=t.prefixCls,o=n&&n(r),i="".concat(o,"-top-view-main"),a=L().createElement("div",{className:i},L().createElement(xn,null));return L().createElement(D.ViewHeader,{content:a,portalId:i})};var En=function(e,t){var n=(0,I.useContext)(H),r=n.getKdesignerApi,o=n.isLockRule,i=n.activeRuleId,a=(0,I.useMemo)((function(){return r()}),[]),u=a.data;(0,I.useEffect)((function(){if(!o(i)){var t=e.current;if(t){var n=function(e){if(e.target===t)switch(e.stopPropagation(),e.keyCode){case D.keyCode.DELETE:!function(e,t){var n=e.data,r=e.selection,o=(0,r.getSelection)();if(1===o.length){var i=n.findControl(o[0]);if(!we(i))return;n.deleteControl((0,D.createDeleteAction)(o)).then((function(){var e=i.ParentId;r.setSelect([e])}))}}(a);break;case D.keyCode.Z:var n=u.canUndo();(0,D.isCtrlActive)(e)&&n&&u.undo();break;case D.keyCode.Y:var r=u.canRedo();(0,D.isCtrlActive)(e)&&r&&u.redo()}};return t.addEventListener("keydown",n),function(){t.removeEventListener("keydown",n)}}}}),[i])};function Sn(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Sn(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Sn(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var kn={RuleNode:Q,ConditionNode:oe,JudgeNode:Oe,TrueNode:Te,FalseNode:Pe,EndNode:jt,ActionNode:Dt,AddNode:Rt},An=function(e){var t=e.prefixCls;return L().createElement("div",{className:"".concat(t,"-empty")},L().createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAABgCAYAAAAKNABWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAm6ADAAQAAAABAAAAYAAAAADCgU7PAAAV3klEQVR4Ae1de4xcV3n/zr3zntnZtTf22sZOgoObF3EgTloiGhoHyitCFbRSU6kKQkmbRhVR1ApVqhoUSuEfaBuqhkgNRW1EoaqqSn1ISCGAgVZqQ5LGEAe7DsaPjbPrtb2Ped/X6e87597Z2ZmdnVnvzM7dcL5k5/vO+5zv/O53HvecayJDRgNGA0YDRgNGA0YDRgNGA0YDRgNGA0YDRgNGA0YDRgNGA0YDRgNGA0YDRgNGA0YDRgNGA0YDRgNGA0YDRgNGA0YDRgNGA101ILqGjCDgxaOn7grI/xRJcbskuXsEVdhyRQoSb5CQL1hkf+HQrft/EOcGxAZsPzx68o+JxJ9JKWNTpzh3XHvdhBABkXzsjlsPfL49LC7uWHSstmjBEQDNiotitmI9GHAWWXfH1cIl4qBUHjqlJAO0PjpDwDzsmNxGxbG8ir1UqtDcpXmC/vAnrUBgGkIUy+E0FmDjORpU1YeqTRQG2vZtxaYiIvnCxXntp3TZDI6VEAtrYhYD/WMismitKVr94qzLWICtVXFGfvNqwIBti/Utz9HaaTW/9jhxcMdjzhYHTWyROvBigCkaOqMFwlaovgHbVuilljryqpMXA80FQUtY3EUzjMa9h95E9TNgexN1ZtybEothdNeuXXHXk6nfADRgLNsAlGiy6E8DBmz96cnEGoAGDNgGoESTRX8aMGDrT08m1gA0YMA2ACWaLPrTgAFbf3oysQaggVhsfQygHT/XWdTqDj399e/Q7NwiOa5HtPf+B+lt+/+OjjwOR3zIgC0+fXFFNbG9Bj395D/RF7/x363pn6ZTpw7C45FWz1HLZhgddQ9soPx0Y4l2XXiVXjp2lmy7rSsD+s0NZD2UpG01HEoZJtMhaGCsNEM7Lp4ky/PIdTx69vEP0Gd+67ZmSZmkHYv7Jc0KQYhFhc7OlMyZ8NZeWUPmYXNy/jSlnbKKVUkU6fgrJ+jQDfrm40s/vUTHzs3TiydmXvjS3/zJHWtktelBBmybrvIrLzBfuUgTi9NkSR83NgRd3nYNVXOTNH75DBVrF1dkPHt+5tFdH7nvSys8R+wwYBtxB/RTvOW7tH3hLGXrCyp6IGy6OHkdNdJjym0FHu1542jLMCW+Iw79ynv7yXsz45jV6GZq+wrKmlg4Q/nqZVgz3EEGeXYKQDtAbjLTzC2wEuQ1AkqmYDt8xPO8zzUDYySMDGx8832h6r7DluIDC+V6T5XwCdVyuUT1Wk3FzWSzVCiMEd+jXI2GHX+1Mgftl6/MUQFDZ9REGQR0qZ6ifznp0Q37anTt3gwlEzq0VpWUvHyZXNzznknvPD7ougwiv00H2/z8/ISdLjxUqroPYSm8s9+ryQy0SmX5skckj43poaRdGcOO317eMNyBaNkswNOD73rQydc9+qv/0vdGbSFpe9anPTssOnjgLvrlxlF6IXUTff+VxL/f+Gjlm1cXG6V376s/9+nf2fPiMOq33jw3DWywZKnFivOHliUekoFU2sLnAhqQ+dHU17vXqH1k0VqjsF83sA0rfgALu+QkYEEie9Nao43L+YRHuYRenNcw+V/EfI3nagmsQm3fo2MX9PAZeLDwiSzNVRM0d4YoXSA6FhyilO3RyXPubajnbacX03SulJGffersY489fPXIh9ZNAdvCQv26ctX7si2sW3h4swSpcVNSALnl6d14Xw01B54OnVzMUQNf1BgWnb2YoMNvrVMhpQFXGttF/MeUqpfpaEOXLV0Ntqgezx9z6ZYDCXr5hEsYbZtkky9OLGQehsfIwTY8rYXNLZfd94qE+I+AgutxW7sBgDmaywa2+eBm3pt4jtZOq/lFcVYLW81vPfHnMF8aJtC4LmWA6dnXslR2Oi2nkynQbbfk6eDViBjouWtUf+ZnzjeILW8r1RsNOl9O7Wj1G5Xc2aIB1qRUc98D4/WkFDKpsmVNwKw1NRLKC2Xn+l7FDnvC30/+p0sZWsQQOkx69XVJXiAonwro/W+rNS1ce5mXSj7d99dare1hre6gsUhWekL+/nWvTz3yyIG51rDNloemuUrFOeQF8s8ZWtiBVNYLczT1tR3mTLyaj+ReDeckPD/rNkdrTz+M+G1Go73IgborjrZw3QA3OWZTLkVUddYuVgYcQYqK63wEwlfXjj3c0KEMo1gMFHwpP8OtxB+Gyi5/QvsPt4lbN/cIcKsNqdyqiZ7LKqKP7Z2jp971Y7r/jnJu1JoYimVbqjqPCksUsTJvYLWOUbS5VbQsoOVs6NR7l1FrIcblR4BbzcJtB9jOh1/K6taER+92aHcei4ZU+q5SxfEwzOyB5rfBDlzCVsq0tJPfG8+Ik93SD9J/4GArlRpvJ2HdjUo6ASZCFhDFXBHbUV4phfbUAgwDMaQ9BF3im+K3G+C2Y7tjbRL+zqxrcxxppX4dqr8XQAuT8JMOV+DKpYpzCr30ZCGXfgbTmt477GEO62UDBxt2BT6GyVg4R+O1AMxa2D49R0PDGXAgNnkKfNq5pX5hIsj1V1Y5iYcoobp2pf96XBMZfIezy/P3/OtpevfVdUqHZVw1puDSNfvJgghs7DdhoizsRtmySJSjFMwVqW8YiymYhc+WsdFerToP53Kp56PgQfKBgq1arb7Fk/QOmC71dCiQoVUR2No54xAaaLZ7kA0bdl5LVaLptiFsB7aqd49vrOQ9k2uh1aKGbwNsGuWTPSzb1DhxRN3HAJX0/RrZVjTOqIpG8xjm6Iht2DD4+mK58fh4If21jbWkM/VAweaTfSfaBKumTZd6aLgRzSeVccVmTuMLbxPwuq8Z2Fk747OmBhjca9GOcVH3ipO1xOJFzNGgebfuSjvXgPr5zZfqBFg7JTBngidvEPzRQqlRnxhL/7PyHNDPQMEmhXVACAmrFs0LuJaryWHDwpYNqC0/d9kUUnWyYIrwwHa2HR1RsKnup4t4oaXBZvmO51Ou2tolbBa4N8KZTVOGIfiDpbr8UTEj/q8z8yvzWRfYsKWRKDvOLwhp7YFJmoCRFpjgL2Gif65QSJ1Zqrp7MW3hrQ5F3AiWI7gpbMGLOUfAT1Nmt6H1aeDES98j++i3qMvAK2aD/Un/ow/yRu5+zhmnfANf0PJpBvhpy8afate9xINp5EfSxVfc5e/C1EVdytlcMfUFtktSFu2y80EsnW+XQmQw6iu8YDEg1IoSfKni8htD3vz2LTX86zpFQGNXJEe81U/H3jq/SWgun15Z31Rf2lyZZiOun5w4vWbyV46f2eZn8nNk2dj78JPCqWPMFAAb2zH0Fgh2Ed3B8zjmTJGsenHXUs39RXj+jwra4E9P9VQcebtfdj4KpCSJ1zNBUJfgTFguo+78HKDyqKp+JrTfqvUK0CALjWDOxIuDgFNuPRrD4Qv+GyUtlbFKWYN8z7cuL5bcXCpz2a5XpoTn2lIGVQyR6AI9cOp5Mw4zYf7MWfEcWvvpuTTk98F7+GAr191f9VznPQAI16yBU6AaLMxBFoCDSqNyABAIL9uBH0txdncQn/BQ+x8arOpUaQjcjrjGo6cGFpf0pZe1Ip45N0d7rsrNMNgsr5HEyqAKMwYk6b0BPUbB4IUDJXx53OJFgvLBEbBr4JGEh7tWOf2EdbVs6t2mH/wSwIMDx/op0JYXcogVcK4QAKgrZgV4ZCArrkrndBw5TK/8Wn4M0FqUsX7R5dvvITE6eGzRQ0w4z4GrVm84fnrbdJLmbrU8Jw+U6Tlb63jSIke9FXUx9xz23x5YLDV2AYITwCBetlqzAXkvj+cz/4ly+zq1g2zCPRiWWmhRyu1+xTuMV0443IjqR6AIsG1jYTrKHIRLPkAaHhPthA8E7AMpzhEUNQNDd/gIsWsLD6Pz6LJer4rCBm+Y3bx39Sz47UxEDK8dk+P4p4UW2Ws5wJNVLzu2BKDgOImbB6vAgKBbw6lMmz0I4aqtB2cE1CHyW3HHBsTHwRQcd1qUeH+57t1Zq8mvZbPiNIf2otUtW9W/EzN/LF0wRGITkLnKiG9d+wBPePsaWEE9+PijNsKBD5lnBeAcP8Ilc6bAx6wOaZkr4tOIqvLauZV+ucVRM0ZW7xawcR3y+RzNzM6RncBxkJC8wK/jhC8m0lja+V7BLi8Ugvz2WVQ/7KNwKoR+5iTRtIi5yoJ9WVKhqre0/WEfdKdH3m8DcM8AcGdV/DV+OsB24YIsWOTuRUaOmoupXX5dEfjpORvzkBjnEcEAcgXYEOqqRXIYvyNcHW4L40aZGN63BpqdEKbI59LkNkoA22QzD8/z67BodpDNv2zVqwetWi3lF6gqwr05PDR4tcD/636IZOYqE1gPWAf0OzgISBPoYLYyYThvQbj3Hjt27G9vvvlmPs/UlTrAls06+1DOquNwZOWYc44dlq9rMV0CbDQQe3VdQmPtXcBK9OrlPo1FXSfwL/UJPd416wNM8TA6T4Xr/yFz5tU05fLnAKSKGh85FptoNVZq+4D4GNSApdBANM13aMbZYGAW1WpQVFnXHLjpRghHlaPLTwfY8OJ23A/fbQZAtAVEM+f0UuKUGqrGXLlDmf1Wyz9Ky5zD2/OzJPLGGfnV0sbdj/fUNntfrV0nelGw7DvB/1pf29Bad5waJTMXsZSU8ppb/8LHnpuyZmGfoWPYhPG+h+ojO2HpmRI4k5o1YerDnEldv0BMxeEWAJ5ko+E23gLn+sDmeSLhC1+ZQz7B4KGU5kkGFKjmX2HBwgaIfB8PkwaTXhgsLxCQFkEkmXNF2/NDYt6y25Jg4/aMnNo0N4kFAsa4FdXCXlsNFqOMvXb8y7dWlRd0rcmEev/Aw4ueWMOQYEsLnRau+iKZuSL2ZzlaFaI4jVTR84x6h2XDhI/SVlKd2sAJDkohM+aKuB0sR+2RHt5c4d4ZuI7Av8vLcQthEmHMOYQHX4BLcR3TQxM7qsBBsSd8OKjnkez2RrCx4OF3UNRu2XZun+gAm+u5Nei96ikDtmrJ6BU1P1N9hNVfGElz7p3WXkI+qseYa9IxumxshHGWY67wyCRsxwm80LLZ0oVVSjQt14qoMGSoEBs1td2BMK4fW72wvp4PM4m0zDmlRGRYMzwI2hLabPZGvqTjmq2f+BJ/+xGjXrlksUg8MECwhSNhs9jtsGypVKoJAw7wXb/iBG41kQgvozZjRwIDjfsjXBDgE1yUAICYgwLI/Fku5kwWOhdLW8WVh5r08ee5eIa1NukcWuIgiWvZtrJsgQurlExI5joKV5hlXXFYQZEIEpI5hydsyAEDLLRkAJPa3ABn0hsd2k95uLDeyRW6Ud7mpz8NtE3PqFjI0XhxjBZKqvtUJpWGV0tZNt5c98SCLpSHSI4bDZuR3CU9j538aqHnGIo4HWDDuzHc6wz9GSRcSAgWtk3abDGHJPABABBz5caxXJmAKzwHjgdC4IGQzDk8kpmz20P2CUbgFiTu6PV+bk/vPg6use3DaHEsR8XxlWBzyrUa7EHFdppTNdY994fuRFhCcjCQMWdycGE1hRvSzJkimbkiHvQ4rhr8CJ/zFWxMmevw7r+dYEtKB0rUpiiCLHOmNhg78E/BjzmTWjegSuH6AZ8C0OeNmDPx2aPIj91c5VX3WDgw5rQNl034b5TUbtnGCnn8O6T87RM+VaRpoVKpJYJUpZ7AiQ9QBv/V8R9zpnoVcgZ+4EyRzFwRj5kJfB6JuSL+VBLLipOXqMNgZBTX4d1/O8FWk67IpvUSgK8SSJyj0VcKlpERIoQ3qjmouWG9EvS40YMw+DFnSlAadW4ozu5lWT8l7Geofw20zpKSOPOUTidpDENpK12aw4cvvHLNlgUFFrYLNoAW2Q97AnIJfuBMkcxcEWOXZeZMkRyG2zj6otL0cQSmA2xeCrdaa+GYz+WzHIIcTwOO4dYFc1Uwr6J5zhWupuvYrM5IPCXgiqIvBIQcD4us16VgzuGtsk5gftejAT/a/EKiXFZ3Uj4XdlaY0amZi26hUChPh+694CwzZ3rjDRK7d5Nkzu5IZs5uRRHQ2BHJIW9PrxOs/tsBtqtyOadK+NgXSPo5KVJVXJTIKXcgqiIpc7h+h+0aEJ+m4ucoOlXFN7TLQVXd1ObwduIjVCl8ViD68AmA3ZTb4xp3bw3gDU4zUi6rT3Lm8MqqlS6cn8FGqIge+9agTZc7wDY/T65t80U1piXNIl7EDvUS/JiDUhA9iMyZPMRLUVFxdheLRbm0tCSYszuSmbM7CX9PydHGHfsa6lcDbgvYsiHYstFcK8okkexnoRjFHirvANu2bdSYpaKe0s/OEk1NETEHTQEcs7WaYK48NOaAKuVCtKJAdMmcfWo1TjcVcs5qCnFmFedwFQrgLtQrM1jW7mI/Q/1rYKVl08NnMpXkRz/qGYyNfkcf91/CYGN2mJQjR454gFdD/U1NLXPICHMAGMVZRlWciLMMLPFkTXGWERd/EZ/isAb7MVcypm3Mscv7Q3BDfWjADU/+cFQ/PFfIcjSMSj84w+6I8CIqNmDrqMjhw4f11nFU203g5y/UvuBL/17s0nWAfxOK31JFrAAbLuZFxMMo5mbBaz+b/lf43RL540GOzTAai87dszP7A3zy49OsrEhJhq+ugda9Na9lzpbLZXAoTTz2/MsnXmhNGadhtMOytVZ0M+W9u/Kfg4X7vif9T2GicTtete3ezPK7lTV9eTlktiKp7Orp6rLvYKSxLHaY9D7pmhkm+IgFCKPAinivHj/9j9Dh5w/e83v3tIbEehhd0YJNdrCFQ5H8Fxu6/tHKPHacJnSFeCs02g4dbBV/464UvevG3s/+TD3za++8Vvzbhz70Sd7j4DmvorPTs8dZCIIE7xFoT/yaYbSpii0gSPHKZtTS7/Kiu71sGDQFsNf99ApkYnhVG1CW8KO9f5UUV/ZWxGvPbzPdsZizbWaD11sWOuuZ9aa5kvjnL/c3XcXZtB9z/snAbgORUCBLptLhrmdUi6AtXuS/+dyArYfOf/JE5itYuBzpEW3DwT89jwPyvayboB998CbxBhdmy/IKEGEOp0A21nBWWjazGt1w32xaBgAa5tviE+CvDbPQi4uSnnup+3wQu+QeTjk/ENXB9zPwktMYVvla/BKOM6p/Re27330SN1rFEi53lBB2AZtJ0dvEKOnI+IqnY2S1iHnBx5/Inj70uLzVr9afqDvyQVgR9YZk0NV+7n89qgNvH74j2fw3qbgMFHYKc7JP3HuDaG5rvPjaAsZdPrAv8UlA8W2a/vtvqbj8cOz7+J9iufpFuHM44tGynuYYo6OhKG10zRl+yfc9Ja/N2O4nPU/ux4l2/VpvgMXiIEfDSogavirpH7zWPrV30npWpOjlDx9ou1657+NfBqAeDovG7u7kGE3/pX7hvvf+b8P/HhUm6Gd07pn9A6ziFWdlwHbFqhtxwn0PvB3fTzugaoGP/tGZZ77ZrNE1D7wTlw+uVW4rUaKzX32uGWYEowGjAaMBowGjAaMBowGjAaMBowGjAaMBowGjAaMBo4FhaOD/AXf+5Ym3Fix4AAAAAElFTkSuQmCC",alt:(0,D.getLangMsg)("ruled.mainView.key0001"),width:"168",height:"96"}),L().createElement("p",null,(0,D.getLangMsg)("ruled.mainView.key0002")),L().createElement("p",null,(0,D.getLangMsg)("ruled.mainView.key0003")))},On=(0,I.memo)((function(e){var t=(0,I.useContext)(H),n=t.getKdesignerApi,r=t.getPrefixCls,o=t.prefixCls,i=t.activeRuleId,a=t.activeRuleNodeId,u=t.isLockRule,c=n(),s=c.data,l=c.selection,f=u(),d=(0,I.useState)([]),p=(0,O.c)(d,2),h=p[0],v=p[1],m=(0,I.useState)(!1),y=(0,O.c)(m,2),b=y[0],x=y[1],C=r&&r(o,"flow-view"),E=(0,I.useRef)({x:0,y:0,zoom:1}),S=(0,I.useRef)(),_=(0,I.useRef)(null),k=(0,I.useRef)([]),A=(0,I.useRef)(""),N=(0,I.useRef)(null),M=(0,I.useCallback)((function(){if(a){var e=s.findControlByCondition((function(e){return e.RelationContainerNodeId===a}));x(!e.length)}}),[a]),T=(0,I.useCallback)((function(e){var t=R(i),n=an(t,f);k.current=nn(n),M(),B()}),[i,M]),j=(0,I.useCallback)((function(e){var t=e.value[0];if(A.current&&A.current===t){var n,r=document.querySelector('[data-id="'.concat(A.current,'"]')),o=((null==r?void 0:r.getBoundingClientRect())||{}).right,i=void 0===o?0:o,a=((null===(n=N.current)||void 0===n?void 0:n.getBoundingClientRect())||{}).right,u=void 0===a?0:a;if(i>u){var c,l=E.current,f=l.x,d=l.y,p=l.zoom,h=u-i-30*p,v=s.getSubControls(t)[0];if(v.Type===pe){var g=v.Id,m=document.querySelector('[data-id="'.concat(g,'"]')),y=((null==m?void 0:m.getBoundingClientRect())||{}).right;h=u-(void 0===y?0:y)}null===(c=S.current)||void 0===c||c.setTransform({x:f+h,y:d,zoom:p},100)}A.current=""}}),[]),R=(0,I.useCallback)((function(e){if(!e)return[];if(!s.findControl(e))return[];var t=s.getAllSubControls(e);return(0,z.c)(t)}),[]),B=function(e){var t,n,r=new(zt().graphlib.Graph);r.setDefaultEdgeLabel((function(){return{}})),r.setGraph({rankdir:"LR",nodesep:30,ranksep:50,align:"DL"}),w()(t=k.current).call(t,(function(e){(0,W.yW)(e)?(e.data.size=ln(e),r.setNode(e.id,_n(_n({},e.data.size),{},{shape:"rect"}))):r.setEdge(e.source,e.target)})),zt().layout(r);var o=U()(n=k.current).call(n,(function(e,t){if((0,W.yW)(t)){var n=t.data.ParentId,o=r.node(t.id);t.targetPosition=W.JC.Left,t.sourcePosition=W.JC.Right,t.position={x:dn(t,e,o,n),y:o.y+(36-o.height)/2}}return P()(e).call(e,t)}),[]);if(v(o),e){var i,a=function(e){var t,n=g()(t=Ue()(e).call(e,(function(e){if((0,W.yW)(e)){var t=e.position,n=t.x;return t.y,n}return null}))).call(t,Boolean);return Math.max.apply(Math,(0,z.c)(n))}(o),u=null===(i=_.current)||void 0===i?void 0:i.setCenter;null==u||u(Math.round(a/2),100,1)}};(0,I.useEffect)((function(){var e=s.addDataChangeListener(T),t=l.addSelectChangeListener(j);return function(){e(),t()}}),[T,j]);var G=(0,I.useCallback)((function(e){A.current=e}),[]);(0,I.useEffect)((function(){M()}),[a]),(0,I.useEffect)((function(){return D.eventBus.on("add-control-id",G),function(){D.eventBus.off("add-control-id",G)}}),[]),(0,I.useEffect)((function(){var e=R(i),t=an(e,f);k.current=nn(t),B(!0)}),[i]),En(N);var Y=pn(),X=(0,I.useMemo)((function(){return{canClick:!0}}),[]);return L().createElement(V.Provider,{value:X},L().createElement(Cn,null),L().createElement(W.Mt,null,L().createElement(W.cp,(0,F.c)({elements:b?[]:h,nodeTypes:kn,onLoad:function(e){S.current=e},onClick:function(e){e.persist()},ref:N,tabIndex:-1,onMove:function(e){E.current=e}},Y),L().createElement(Nn,{ref:_}),b&&L().createElement(An,{prefixCls:C}))))})),Nn=(0,I.forwardRef)((function(e,t){var n=(0,W._s)();return(0,I.useImperativeHandle)(t,(function(){return n})),L().createElement("div",null)}));On.displayName="MainView",Nn.displayName="Operation";var Mn=On,Tn=n(13760),Pn=n.n(Tn),In=n(52360),Ln=n.n(In),Dn=["prefixCls","node","removeRule","editRule","setRule","onSelect","selectId","editId","curSelectRuleTree","isDaggble"],jn="ruleEnable",Rn="ruleDelete",Fn="ruleEdit";function zn(e){e.prefixCls;var t=e.node,n=e.removeRule,r=e.editRule,o=e.setRule,i=e.onSelect,a=e.selectId,u=e.editId,c=e.curSelectRuleTree,s=e.isDaggble,l=(0,ie.c)(e,Dn),f=(0,(0,I.useContext)(H).isLockRule)(null==t?void 0:t.Id),d=(0,I.useState)(""),p=(0,O.c)(d,2),h=p[0],v=p[1],g=(0,I.useState)(t.Description||t.PreDescriptions),m=(0,O.c)(g,2),y=m[0],b=m[1],w=(0,I.useRef)(null),x=(0,I.useCallback)((function(e){var t;b(Ln()(t=e.target.value).call(t))}),[]),C=function(e){var n,o=null===(n=e.target)||void 0===n||null===(n=n.value)||void 0===n?void 0:Ln()(n).call(n);v(""),r(t,o||(0,D.getLangMsg)("ruled.ruleListItem.key0008"))},E=(0,I.useCallback)((function(){var e=L().createElement(L().Fragment,null,L().createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAABgCAYAAACJ8DltAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAqKADAAQAAAABAAAAYAAAAACo6b7MAAAK6klEQVR4Ae1dX2wcRxmfmb3znc+5OHFsx1FDadrQtCit+PPGP6FSXnjG0ArBAw8UCYmKIoSQEBh4QAhBX3kGAQIh8cZLS4UKCCFRimiqlFYhUu0kF0MaFyf22efb4ZuzZ2/mu9317t7eefb2W8mZPzvfNzPf97tvZ779ZsMYXSQBkgBJgCRAEiAJkARIAiQBkgBJgCRAEiAJkARIAiQBkgBJgCRAEiAJHJkE+JH1POKOpZRTa+t3vysZ+xyT8syIu8uFfbN57DsnZ/hKLswmhImYkHkMTKMHTim/XhRwqglIyb59+65cGZhMiSsmFqA9y1lAxRJIbaVNLECLZDltlZAlNeUxuQA1Z1nAPFnSfaURQB0GL4GUMQKowwBVQys7SAmgjgO07CAlgBYAoGUGKQG0IAAtK0gJoAUCaBlBSgAtGEDLBlICaAEBWiaQEkALCtCygJQAWmCAlgGkExtu92ZrE+JFBq9WqzVYiWqWlpZQjfvFe5eaE6lLsqDuY6/UIySAllr97k+eAOq+jko9QgJoqdXv/uQJoO7rqNQjJICWWv3uT54A6r6OSj1CAmip1e/+5CvuDzHfERbRCZ+vBIrFjSxosfRVutESQEun8mJNmADqqL5UIMGdPY9t7FRYV07ka/ZEki/dGjSRVI6oUbsr2GbHY3c6FfjzmH8Q7lIVkl04ucU8Fhr/ckSjHU+3BNDxyDm0lw5YRgXGzV2vB8w9P9xSdqB+o11hp+qdUD5m5cPPtD/h+/5PoE7A9YXLP67/zrxftHy4RIo2i5DxDhNuF8IulyrJBdvl06zDG2xHTLM9NpWYb13eZbN7N1iUF0KH2114emsVTtOf7THmbP3JE40zKyvcT9yRYw3Jgo5SIZwDGGsAykbvT+Uly2YTFLCB3aEXZ7IaLAQkW/zl21vvA6K/HUroaAMCaM6K6Yoq22UzPQvZAVD5OX28RfFpVc6z1q39AU/BuvTssTZrVrvWDOAH8CJY0GVdyZl4HPKFBSjt4rUmc0i3xAl2q/JO9j9vnu3wmdzAGTa0XViXrt2pD9ziQj5vVsKHfD9ulouWT/DQKNqU9sc76jXoF39xht3dKYL4+M6cmD75l2f5dhE1SRY0o9bmGvajNSObEZHx3T5jWdsQOx/ql4uVK90aNGoXnFZtS3OCrd5OSzWe9rCZasFX8e7VvfldX61Dn9PlIqVkQTNqa6EZ7JUzchghmS9fN7nzAq9DCaCmJlPk5x0+5StF5a/gkwp8n7Czf8/7vyrnU0zPmaYE0IyqWDiekXAMZEL6r4M/9B/9riTf9rcf65eLkyOAZtTV/DF3H/G+x1Yl59aa02dSrUMLdxFAM6rMZQtakXxVMGH7Q31eSICWbhef5NM3STDrd9RvO/oTOetXX2NShyNBy8VzFxgXg/bg5pXLVnenH3jYKquC9H22fvVfQT0XHPg9FJRxZmG2tgZ1azdub7eB+sCbL89d/Fr7gUs/rF/B7V0uD0rM5dE6NLbpqs/q/bfeAyMTwrPqIMLIKqcpYFrMG/H6zx9WeFv9Qf2fzXt7u93CWVECqKnBlPm5mWhnvfDsh5Pf3UvJvd8c02Le/ZZMBZRANNP+Bcq11qFws3AAtaWoZ0ZpIgmot0nXNyJECKF11iWzW1B4xlusYK1gl40SuJQCgMoKvJe3fhfysbPLlx+Rnr9Yr9ZeufKz8+sGqZPZ6Jk6OVy3BhVrQSvoEb8XbW0Pm5WPaAXibdJz2begTzQbL4NFfUvfh7dLc7Lq/dPvyue32jvXz3zq0vf0PVdTAugQmokFKLctqy8tU5aqV0wrEG+TmfmI3w9U5i+Y96v1xkHQiFQnSL55z/KrnzTvu5a3peja6EYwnrzexauh3bcUHc0kPPu3D+/DM88G02LeJmPwzgaP+F49l88BEAMQVmqNzs7mxrSmAf/olyD/G112LbWl6NroHB/PwvFogHLPfsTLbvZHPKbFvE0xeV5/Darqq8yz/KGiWpvhYGb1xRn/wKOfbc3osmspAXQIjczHBIxgV5DvZwcopsW8zSmAnbYs6CvP1v8Ne/urug1g0/Nq/UBnyeTUW7u3PqLvu5YSQIfQyHzM+3iBLKg/hAXFtJh3MAUIEGk8WL8elA8yOMremwqe8L0WcO7e2ah7AijWZory8bpkU5X+49Ik5chRL4ewoJgW89b9wg6+9dJTfOBssvTt9/IVw4Lu07p7LIQAqrWbMV04Hh40gjcy2Aqm6Q7TYt4BL8NJH9RBhjemX4B/g4F61Rq4Uo01spQX71t+Nfq9rclszHkC6JACX2iGMxDCdpDgdWQ4VXgtpsW8NRX4Od/UeTN97fv8FufyZbMOW9E9zh4377uSJ4AOqYn5CIDinTbeiafpFtNi3pqX6QPVdTqFN0zWbt7cKKk2PnPzNSgBVGswYxq1k1euHNOdA8d/mfpLe2E6zNfkB6thawdv3hNcWO/lwR9q3oagJzfjRQmgtppSl+LiQrE7CD+qk3SGaTBPk4eEc3xm2cyfnq39CdahKsKpd6mAE1HpL0Pg53PP+eU3FvR9V1IC6JCaiFqDKrYmAFTZ30v/uhPTYJ6Kr7484z28rtNpWPgddjfJuuHB14RHnBJAh1TAfMQuvscWRx3hqKQkfWMazNPg4cvpSAuqmkGgs7UOrdYNfyjnL7oY3UQANRScJbsQc7oTO9SxuyhJf5gG89Q8YMXb+fQJdlOXQ1PhW+vQYKPE+SVRnfpMKM0RVxJAh1TAiYZkFS/cWY/BhAOPk3SNaTDPgAdn1/ajl4KagQwOv+PcY/Xm7Jev/+rdj177+bvWBggcqCCA5qCEqJ083tDgoxtJusY0mKfmAf6B2Me7ahcWflebnVfBI+ndC7rjEacE0BwEPEpfaGIfaMwGyZqiRF+/8910L+kxE0C1JIZIo3by8Aluiyt2GVk3IwqYBvPUZHEuJt1GpVXhWetQqPrgR1f0yU+zpRt5W4JujKlwo4jyheLDbXjDk2SimAbz1DyElIc+4lVbHH6njiXf3Nz5sObjWkoAzUEjUWtQKyAD+sFRSUm6xjSYp+YBR/ATAVS1x+F3B1+/06ycSgmgOagjag2Ko46wNUzSNabBPDUPz6smBqhA7+XhO05OBoqouRFAtYaHSKPWoBydjccbniRdYhrMU/OY5skB6tenf2+G30nJ3/vQN+QpzcullACagzaivhWKXUJ4w5Oka0yDeSoetSpnL/2I/zcJP9VmMPwO/oOc9vbHktKPs10/WmCcvU5YXyePMebB95K6xreY1BRV5FHYt5bM6R92f/H+6G8waT6Lca9bdSOU7offSfVf1PSug6/f/VqXXUnJguagCcAmmzvCc5FRa+C4qcFa1novD8dCnFyHEkDjtJjiXtTRjxQsMjfNYkFPN2t/BBsfhN+Bj+HcI19p3595ECMiJIDmJNgsViynrlmUHzaOf1j4XcfvOne6kwAap8UU9+KOIKdgk6lpXERVHEMcfufi1+8mF6Cc34hTTt73onbyefcTxm+u2f9AWNj9qDrJfGsdCsc+nHujNLEAhX3LT6MUM4r6KF/oKPrCPGuC/RbXJSk/Odv4O8gpiCGFnX0nCd0420wsQM8uznwL3Dw/gMfWWCzpxXdIdirihOcoFQrrz5tvNxpPZ+lDhd/BCdHPg4yuwd8q7OyfysKHaEgCJAGSAEmAJEASIAmQBEgCJAGSAEmAJEASIAmQBEgCJAGSAEmAJEASmFAJ/B+YIfc7gS6QZwAAAABJRU5ErkJggg=="}),L().createElement("span",{style:{textAlign:"center",marginTop:12}},(0,D.getLangMsg)("ruled.ruleListItem.key0009")),L().createElement("span",{style:{textAlign:"center",marginTop:5}},(0,D.getLangMsg)("ruled.ruleListItem.key0010")));R.Modal.confirm({title:(0,D.getLangMsg)("ruled.ruleListItem.key0002"),cancelText:(0,D.getLangMsg)("ruled.ruleListItem.key0003"),okText:(0,D.getLangMsg)("ruled.ruleListItem.key0004"),body:e,bodyStyle:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},footerStyle:{alignItems:"start"},onOk:function(){n&&n(t)}})}),[t]),S=(0,I.useCallback)((function(){o&&o(t)}),[t]);(0,I.useEffect)((function(){u===t.Id&&v(Fn)}),[u]),(0,I.useEffect)((function(){if(h===Fn){var e=w.current;if(!e)return;e.focus(),e.select()}}),[h]),(0,I.useEffect)((function(){b(t.Description||t.PreDescription)}),[t.Description,t.PreDescription]);var _,k,N=L().createElement(R.Dropdown.Menu,{onClick:function(e){switch(e){case jn:S();break;case"ruleCopy":break;case Rn:E()}}},L().createElement(R.Dropdown.Item,{className:"leftrule-li-dropdowm-item",key:jn,disabled:(_=c,k=["CardEntryRowAp","ListGridViewAp"],ee()(k).call(k,null==_?void 0:_.type))},L().createElement(L().Fragment,null,(0,D.getLangMsg)("ruled.ruleListItem.key0005"),t.Enabled&&L().createElement(R.Icon,{prefix:"designericon",type:"shuzhankaibeifen",className:"leftrule-li-dropdowm-item-right"}))),L().createElement(R.Dropdown.Item,{className:"leftrule-li-dropdowm-item",key:Rn},L().createElement("span",null,(0,D.getLangMsg)("ruled.ruleListItem.key0004"))));return L().createElement("div",(0,F.c)({draggable:h!==Fn&&s,className:re()((0,A.c)({"leftrule-li":!0,selected:a===t.Id},h,!0)),onClick:function(e){var n;(!e.target||null!==(n=e.currentTarget)&&void 0!==n&&n.contains(e.target))&&a!==t.Id&&i&&i(t)}},l),!f&&L().createElement(R.Icon,{prefix:"designericon",type:"tuozhuailiebiao",className:"leftrule-li-text-dragIcon"}),L().createElement("div",{className:"leftrule-li-text",id:"drag",title:f||a!==t.Id?"":(0,D.getLangMsg)("ruled.ruleListItem.key0006"),onDoubleClick:function(e){var n;f||e.target&&(null===(n=e.currentTarget)||void 0===n||!n.contains(e.target))||a===t.Id&&v(Fn)}},h!==Fn||f?L().createElement(L().Fragment,null,t.Description||t.PreDescription):L().createElement("input",{ref:w,onChange:x,onKeyUp:function(e){13===e.keyCode&&C(e)},onBlur:C,value:y,placeholder:(0,D.getLangMsg)("ruled.ruleListItem.key0007")}),L().createElement("div",{className:re()("leftrule-li-status",{disabled:f})},t.Enabled&&L().createElement(R.Icon,{prefix:"designericon",type:"shuzhankaibeifen",className:"leftrule-li-status-right"}),!f&&L().createElement(R.Dropdown,{placement:"bottomRight",popperClassName:"leftrule-li-dropdowm",scrollHidden:!0,trigger:"click",menu:N,onClick:function(e){return e.stopPropagation()}},L().createElement("span",{className:"leftrule-li-status-btn"},"···")))))}var Bn=(0,I.memo)(zn);function Un(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Un(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Un(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}function Hn(e){var t=e.prefixCls,n=e.data,r=e.removeRule,o=e.setRule,i=e.editRule,a=e.onSelect,u=e.selectId,c=e.editId,s=e.curSelectRuleTree,l=(0,I.useContext)(H),f=l.getKdesignerApi,d=l.isDragRule,p=l.ruleMetaInfo,h=(0,I.useMemo)((function(){return f()}),[]).data,v=(p[0]||{}).lockRules,g=(0,I.useRef)(null),m=(0,I.useRef)(null),y=function(e,t,n,r){var o;if(r&&(g.current=Wn(Wn({},t),{},{dragControlIndex:n}),e.dataTransfer.setDragImage)){var i=(o=t.Description||t.PreDescription,m.current=document.createElement("div"),m.current.classList.add("leftrule-li-dragelement"),m.current.innerHTML=o,document.body.appendChild(m.current),m.current);e.dataTransfer.setDragImage(i,140,16)}},b=(0,Ie.throttle)((function(e,t){e.preventDefault()}),100),w=function(e,t){e&&e.querySelector("#drag").classList.remove(t?"drag-hover-up":"drag-hover-dowm")},x=function(e,t){return!v||(ue()(v)?n=ee()(v).call(v,e)===ee()(v).call(v,t):"[object Object]"===Object.prototype.toString.call(v)&&(n=v[e]===v[t]),n);var n},C=function(){document.body.removeChild(m.current),g.current=null};return(null==n?void 0:n.length)>0?L().createElement("div",{className:"leftrule-ul",onDragOver:function(e){return e.preventDefault()}},n&&Ue()(n).call(n,(function(e,l){var f,p,v=d(e.Id,null===(f=n[l-1])||void 0===f?void 0:f.Id,null===(p=n[l+1])||void 0===p?void 0:p.Id);return L().createElement(Bn,{prefixCls:t,node:e,key:e.Id,removeRule:r,setRule:o,editRule:i,onSelect:a,selectId:u,editId:c,isDaggble:v,curSelectRuleTree:s,onDrop:function(t){return function(e,t,n){e.preventDefault();var r=g.current||{},o=r.Id,i=r.dragControlIndex;if(!(0,Ie.isUndefined)(i)&&!(0,Ie.isUndefined)(o)&&o!==t.Id&&x(t.Id,o)){var a=n<i;w(e.currentTarget,a),h.insertControl((0,D.createInsertAction)({originId:o,targetId:t.Id,isPre:a})),g.current=null}}(t,e,l)},onDragStart:function(t){return y(t,e,l,v)},onDragEnter:function(t){return function(e,t,n){var r=g.current||{},o=r.dragControlIndex,i=r.Id;if(!(0,Ie.isUndefined)(o)&&!(0,Ie.isUndefined)(i)&&n!==o&&x(t.Id,i)){var a=n<o;!function(e,t){e&&e.querySelector("#drag").classList.add(t?"drag-hover-up":"drag-hover-dowm")}(e.currentTarget,a)}}(t,e,l)},onDragOver:function(e){return b(e,l)},onDragLeave:function(e){return function(e,t){var n=(g.current||{}).dragControlIndex;if(!(0,Ie.isUndefined)(n)&&t!==n){var r=t<n;w(e.currentTarget,r)}}(e,l)},onDragEnd:C})}))):null}var Vn=(0,I.memo)(Hn),Gn=["children","visible","setVisible","prefixCls"],Yn="rule-designer_addRuleTooltipVisible",Xn=(0,I.memo)((function(e){var t=e.children,n=e.visible,r=e.setVisible,o=e.prefixCls,i=(0,ie.c)(e,Gn);(0,I.useEffect)((function(){D.eventBus.on("onViewCollapseChange",(function(e){var t=e.position,n=e.hide;"left"===t&&n&&r(!1)}))}),[]);var a=!1,u=window.localStorage.getItem(Yn),c=(0,I.useCallback)((function(){a&&window.localStorage.setItem(Yn,"false"),r(!1)}),[a]),s=(0,I.useMemo)((function(){return L().createElement(L().Fragment,null,L().createElement("span",{className:"".concat(o,"-bar-tooltip-text")},(0,D.getLangMsg)("ruled.ruleContent.key0001")),L().createElement("div",{className:"".concat(o,"-bar-tooltip-footer")},L().createElement(R.Checkbox,{className:"".concat(o,"-bar-tooltip-footer-checkbox"),onChange:function(){a=!0}},(0,D.getLangMsg)("ruled.ruleContent.key0005")),L().createElement(R.Button,{type:"ghost",className:"".concat(o,"-bar-tooltip-footer-btn"),onClick:c},(0,D.getLangMsg)("ruled.ruleContent.key0002"))))}),[c]);return"false"!==u&&n?L().createElement(R.Tooltip,(0,F.c)({visible:n,popperClassName:"".concat(o,"-bar-tooltip"),tip:s},i),t):t}));var Kn=function(e){var t=e.prefixCls,n=e.data,r=e.addRule,o=e.canAddRules,i=e.removeRule,a=e.editRule,u=e.setRule,c=e.ruleSelect,s=e.selectId,l=e.editId,f=e.allRuleList,d=e.curSelectRuleTree,p=(0,I.useState)(0===f.length&&!s),h=(0,O.c)(p,2),v=h[0],g=h[1];(0,I.useEffect)((function(){g(0===f.length&&!s)}),[f,s]);var m=(0,I.useCallback)((function(){d&&o&&(g(!1),r((0,D.getLangMsg)("ruled.ruleListItem.key0008")))}),[r,o]);return L().createElement(L().Fragment,null,L().createElement("div",{className:"".concat(t,"-bar")},L().createElement("span",{className:"".concat(t,"-bar-title")},(0,D.getLangMsg)("ruled.ruleContent.key0003")),o?L().createElement(Xn,{prefixCls:t,placement:"rightTop",defaultVisible:v,visible:v,setVisible:g,arrow:!0},L().createElement("div",{className:"".concat(t,"-bar-handle"),onClick:m},L().createElement(R.Icon,{prefix:"designericon",type:"tianjia3",style:{fontSize:12}}),L().createElement("span",null,(0,D.getLangMsg)("ruled.ruleContent.key0004")))):L().createElement("div",{className:re()("".concat(t,"-bar-handle"),{disabled:!o}),onClick:m},L().createElement(R.Icon,{prefix:"designericon",type:"tianjia3",style:{fontSize:12}}),L().createElement("span",null,(0,D.getLangMsg)("ruled.ruleContent.key0004")))),L().createElement(Vn,{curSelectRuleTree:d,prefixCls:t,editId:l,data:n,removeRule:i,setRule:u,selectId:s,editRule:a,onSelect:c}))};var qn=function(e){var t=e.data,n=e.selectid,r=e.ruleList,o=e.onSelect,i=(0,I.useState)([]),a=(0,O.c)(i,2),u=a[0],c=a[1],s=(0,I.useState)([n]),l=(0,O.c)(s,2),f=l[0],d=l[1],p=(0,I.useState)(t),h=(0,O.c)(p,2),v=h[0],g=h[1];(0,I.useEffect)((function(){(0,Ie.isEqual)(t,v)||g(t)}),[t]);var m=(0,I.useCallback)((function(e,t){d(e),o&&o(e,r,t)}),[r]),y=(0,I.useCallback)((function(e){c(e)}),[]);return(0,I.useEffect)((function(){d([n])}),[n]),L().createElement("div",{className:"ruleTree",style:{display:"flex",flexDirection:"column"}},L().createElement(R.Tree,{name:"ruleTree",treeData:v,defaultExpandAll:!0,virtual:!1,expandedKeys:u,selectedKeys:f,onExpand:y,onSelect:m,classsName:"ruleTree",showIcon:!0}))};n(13128);function Zn(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Zn(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Zn(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}function Jn(e,t){var n=[];if(e)for(var r=function(){var r,i,a,u=e[o],c=Ee(null==u?void 0:u.type,t);u[c]&&ue()(u[c])&&(n=P()(n).call(n,null===(a=u[c])||void 0===a?void 0:Ue()(a).call(a,(function(e){return Qn(Qn({},e),{},{parentId:u.Id})}))));u.title=P()(r="".concat(u.title,"(")).call(r,(null===(i=u[c])||void 0===i?void 0:i.length)||0,")");var s=Jn(e[o].children,t);n=P()(n).call(n,s.list)},o=0;o<e.length;o++)r();return{list:n}}var $n=["EntryAp","CardEntryAp"],er=function e(t,n,r){return w()(t).call(t,(function(t){var o=se()(n).call(n,(function(e){return e.Id===t.data}));if(t.disabled=!o,t.title=t.text,o){t.Id=o.Id,t.key=o.Id,t.title=o.Name||t.text,t.parentid=o.ParentId,"formmeta"===r&&ee()($n).call($n,o._Type_)&&!o.EntryId&&(t.icon=L().createElement(tr,null),t.disabled=!0,t.showIcon=!0);var i=Ee(o._Type_,r);t[i]=ue()(o[i])?o[i]:[]}t.children&&(t.children=e(t.children,n,r))})),t};function tr(){return L().createElement(R.Tooltip,{placement:"right",tip:(0,D.getLangMsg)("ruled.leftPanel.key0001")},L().createElement(R.Icon,{style:{zIndex:1},prefix:"designericon",type:"bangdingfenlushiti"}))}function nr(e){var t=e.setActiveRuleNodeId,n=e.getPrefixCls,r=e.prefixCls,o=e.getKdesignerApi,i=e.ruleMetaInfo,a=e.getRulesNodes,u=e.activeRuleId,c=e.setActiveRuleId,s=e.getRulesLocked,l=o(),f=l.data,d=l.selection,p=n&&n(r,"leftrule"),h=(null==i?void 0:i[0])||{},v=h.metaType,m=h.rulesTree,y=h.showRule,b=(0,I.useState)([]),w=(0,O.c)(b,2),x=w[0],C=w[1],E=(0,I.useState)(),S=(0,O.c)(E,2),_=S[0],k=S[1],A=(0,I.useState)(),N=(0,O.c)(A,2),M=N[0],T=N[1],P=(0,I.useState)([]),j=(0,O.c)(P,2),R=j[0],F=j[1],z=(0,I.useState)(!1),B=(0,O.c)(z,2),U=B[0],W=B[1],H=(0,I.useRef)([]),V=(0,I.useRef)(_),G=(0,I.useRef)();(0,I.useEffect)((function(){V.current=_}),[_]),(0,I.useEffect)((function(){var e,n,r,o,i=a(),u=er(dt(m),i,v),l={},f="";null!=y&&y.entityId?(l=ue()(u)?se()(u).call(u,(function(e){return e.Id===y.entityId})):{},f=y.entityId):(l=ue()(u)?u[0]:{},f=null!==(r=l)&&void 0!==r&&r.disabled?"":null===(o=l)||void 0===o?void 0:o.Id);if(f){G.current=l,k(f),t(f);var d=!s(f);W(d)}var p=null===(e=Jn(u,v))||void 0===e?void 0:e.list;H.current=p,p=g()(p).call(p,(function(e){return e.parentId===f})),C(u),F(p);var h=(null===(n=p)||void 0===n?void 0:n.length)>0?p[0].Id:"";X((null==y?void 0:y.ruleId)||h),c((null==y?void 0:y.ruleId)||h)}),[]),(0,I.useEffect)((function(){var e=f.addDataChangeListener((function(){Pn()((function(){Y()}))}));return function(){e()}}),[]);var Y=function(){var e=a(),t=er(dt(m),e,v),n=Jn(t,v).list;H.current=n,n=g()(n).call(n,(function(e){return e.parentId===V.current})),C(t),F(n)},X=function(e){var t=f.getData().Items,n=se()(t).call(t,(function(t){return"ConditionNode"===t.Type&&t.ParentId===e}));n?d.setSelect([n.Id]):d.setSelect(e?[e]:[])},K=(0,I.useCallback)((function(e){var t=f.getData().Items,n=se()(t).call(t,(function(e){return"RuleRoot"===e.Type}));if(n){var r,o=Se(null===(r=G.current)||void 0===r?void 0:r.type);(function(e,t,n,r,o){var i=(0,D.createUUid)(),a=new Ct({id:i,description:e,parentId:t,enabled:!0,relationContainerNodeId:n}),u=(0,D.createUUid)(),c=new Et({id:u,parentId:i,preDescription:(0,D.getLangMsg)("ruled.leftPanelApi.key0001")}),s=(0,D.createUUid)(),l=new St({id:s,parentId:u}),f=(0,D.createUUid)(),d=new kt({id:f,parentId:s}),p=(0,D.createUUid)(),h=new At({id:p,parentId:s}),v=(0,D.createUUid)(),g=new Nt({id:v,parentId:f}),m=(0,D.createUUid)(),y=new Nt({id:m,parentId:p}),b=o?[a,c,l,d,g,h,y]:[a,c,l,d,g];return r((0,D.createAddAction)(Ue()(b).call(b,(function(e){return JSON.parse(Ut()(e))}))))})(e,n.Id,_,f.addControl,o).then((function(e){var t;null!==(t=e[0])&&void 0!==t&&null!==(t=t.value[0])&&void 0!==t&&t.Id&&(X(e[0].value[0].Id),c(e[0].value[0].Id),T(e[0].value[0].Id))}))}}),[e,G]),q=(0,I.useCallback)((function(e,t){var n,r;n=e.Id,r=t,(0,f.batchUpdateControlPropertyValues)((0,D.createUpdateAction)([[n,{Description:r}]]))}),[e]),Z=(0,I.useCallback)((function(e){var t,n;t=e.Id,n=!e.Enabled,(0,f.batchUpdateControlPropertyValues)((0,D.createUpdateAction)([[t,{Enabled:n}]]))}),[e]),Q=(0,I.useCallback)((function(e){var t,n;d.setSelect([]),(t=e.Id,n=f.deleteControl,n((0,D.createDeleteAction)([t]))).then((function(e){}))}),[e,R]),J=(0,I.useCallback)((function(e,n,r){var o;k(e[0]),t(e[0]),T(""),G.current=null==r?void 0:r.node;var i=g()(o=H.current).call(o,(function(t){return t.parentId===e[0]})),a=i&&i.length>0?i[0].Id:"";X(a),c(a),F(i);var u=!s(e[0]);W(u)}),[H.current]),$=(0,I.useCallback)((function(e){X(e.Id),c(e.Id)}),[e]);return L().createElement("div",{className:p},L().createElement("div",{className:"".concat(p,"-panel")},L().createElement(qn,{data:x,ruleList:R,selectid:_,onSelect:J})),L().createElement("div",{className:"".concat(p,"-panel")},L().createElement(Kn,{prefixCls:p,data:R,selectId:u,editId:M,addRule:K,canAddRules:U,editRule:q,setRule:Z,removeRule:Q,ruleSelect:$,ruleTreeSelectId:_,allRuleList:H.current,curSelectRuleTree:G.current})))}function rr(){return L().createElement(H.Consumer,null,(function(e){return L().createElement(nr,e)}))}rr.tabKey="leftTree",rr.tabName="";var or=rr,ir="rule-designer",ar=function(e){var t=e.children,n="rule-designer-right-view";return L().createElement(L().Fragment,null,L().createElement("div",{className:"".concat(n,"-property-bar")},L().createElement("span",{className:"".concat(n,"-bar-title"),title:(0,D.getLangMsg)("ruled.rightPanel.key0001")},(0,D.getLangMsg)("ruled.rightPanel.key0001"))),t)},ur=function(e){var t=e.text;return L().createElement("div",{className:"".concat(ir,"-empty-node")},t)},cr=function(e){var t=(0,I.useContext)(H),n=t.getKdesignerApi,r=t.activeRuleNodeId,o=t.isLockRule,i=n().data,a=o(),u=(0,I.useState)((function(){var e=i.findControlByCondition((function(e){return e.RelationContainerNodeId===r}));return!(null!=e&&e.length)})),c=(0,O.c)(u,2),s=c[0],l=c[1],f=(0,I.useCallback)((function(){if(r){var e=i.findControlByCondition((function(e){return e.RelationContainerNodeId===r}));l(!e.length)}}),[r]);(0,I.useEffect)((function(){var e=i.addDataChangeListener(f);return function(){e()}}),[f]),(0,I.useEffect)((function(){f()}),[r]);var d=L().createElement("div",{className:"".concat(ir,"-control-view")},a?L().createElement(ur,{text:(0,D.getLangMsg)("ruled.rightPanel.key0002")}):s?L().createElement(ur,{text:(0,D.getLangMsg)("ruled.rightPanel.key0003")}):L().createElement(D.ControlView,e)),p=L().createElement(ar,null,L().createElement("div",{className:"".concat(ir,"-property-view")},s?L().createElement(ur,{text:(0,D.getLangMsg)("ruled.rightPanel.key0004")}):L().createElement(D.PropertyView,e)));return L().createElement(R.SplitPanel,{mode:"vertical",defaultSplit:"280",firstSlot:d,secondSlot:p,canFold:!1})};cr.tabKey="Services",cr.tabName="";var sr=cr,lr={FormulaAction:"jisuanziduan3",TakeBasePropertyAction:"xiedaijichuziliaoshuxing",SetEqutionAction:"xiedaiziduan",ClearValueAction:"qingchuziduan2",FillQtyAction:"shulianghuansuan",LockFieldAction:"suodingziduan",UnlockFieldAction:"jiesuoziduan",ShowFieldAction:"xianshiziduan",HideFieldAction:"yincangziduan",LockControlAction:"suodingkongjian3",UnlockControlAction:"jiesuokongjian3",ShowControlAction:"xianshikongjian3",HideControlAction:"yincangkongjian3",ClientLockFieldAction:"suodingziduan",ClientUnlockFieldAction:"jiesuoziduan",ClientShowFieldAction:"xianshiziduan",ClientHideFieldAction:"yincangziduan",ClientLockControlAction:"suodingkongjian3",ClientUnlockControlAction:"jiesuokongjian3",ClientShowControlAction:"xianshikongjian3",ClientHideControlAction:"yincangkongjian3",ClientSetFieldfmtAction:"ziduanxianshiyangshi",ClientSetFieldAction:"ziduanshuxing",ClientSetControlAction:"kongjianshuxing",ClientSetRowFmtAction:"shezhixingyangshi"};function fr(e){return lr[e]||"zidingyifuwu"}var dr=["type","value"],pr=function(e,t,n){e.globalConfig;var r,o=e.dataContext,i=(e.selectionContext,e.action),a=(e.dataFactory,e.modelFactory,e.metaReader),u=(i.type,i.value),c=((0,ie.c)(i,dr),[i]);if(ue()(u))return c;var s,l=u.Type,f=u.ParentId,d=u.Id,p=u.Name,h=u.Ret,v=[],g=a.getControlMeta(l);if(!ee()(r=[fe,le,de,he,ve,pe]).call(r,l)){var m,y=g.CheckedRet,b=o.findControl(f),w=o.findControlIndex(f)+1,x=b.NodeType,C={type:l,actionType:"TakeBasePropertyAction"===l?"TakeBaseProAction":l,description:p,parentId:f,id:d,nodeType:(s=b,xe(s)||Ce(s)?xe(b)?Mt:Tt:x),ret:h||(y||[]).join(",")},E=o.getSubControls(f),S=Ue()(E).call(E,(function(e){var t=e.Id;return(0,D.createUpdateAction)([[t,{ParentId:d}]])}));return D.eventBus.emit("add-control-id",d),v.push.apply(v,P()(m=[(0,D.createAddAction)(JSON.parse(Ut()(new Pt(C))),{index:w})]).call(m,(0,z.c)(S))),v}return c},hr=["type","value"],vr=function(e,t,n){e.globalConfig;var r,o=e.dataContext,i=(e.selectionContext,e.action),a=(e.dataFactory,e.modelFactory,e.metaReader,i.type,i.value),u=((0,ie.c)(i,hr),o.findControl(a[0])),c=u.Type,s=u.ParentId,l=u.Id,f=[];if(!ee()(r=[fe,le,de,he,ve,pe]).call(r,c)){var d=o.getSubControls(l),p=Ue()(d).call(d,(function(e){var t=e.Id;return(0,D.createUpdateAction)([[t,{ParentId:s}]])}));return f.push.apply(f,(0,z.c)(p)),P()(f).call(f,[i])}var h=[i];return P()(h).call(h,f)},gr=(0,A.c)((0,A.c)({},D.ActionType.ADD,pr),D.ActionType.DELETE,vr),mr=function(e,t){var n=e.action,r=e.dataContext,o=e.selectionContext,i=e.globalConfig,a=e.dataFactory,u=e.modelFactory,c=e.metaReader,s=e.success,l=e.fail,f=(i.dataRef,i.keywordMapping,[]),d=n.type,p=gr[d];if(p){var h=p({globalConfig:i,dataContext:r,selectionContext:o,action:n,dataFactory:a,modelFactory:u,metaReader:c},s(f),l);h&&f.push.apply(f,(0,z.c)(h))}else f.push(n);f.length&&s(f)},yr=n(30479),br=n.n(yr),wr=n(65624),xr=n.n(wr),Cr=function(e){var t=e.visible,n=e.triggerRef,r=e.setVisible,o=e.children,i=e.onCancel,a=e.onConfirm,u=(0,I.useRef)(null),c=(0,I.useContext)(H),s=c.getPrefixCls,l=c.prefixCls,f=s&&s(l,"fields-add-panel");return(0,D.useOnClickOutside)([u,n],(function(e){var n,o,i=document.getElementById("dialogShow"),a=nt()(Array.prototype).call(document.querySelectorAll(".rule-designer-tree-select-popper")),u=nt()(Array.prototype).call(document.querySelectorAll(".rule-designer-select-popper")),c=nt()(Array.prototype).call(document.querySelectorAll(".rule-designer-tooltip-popper")),s=null===(n=P()(o=[]).call(o,(0,z.c)(a),(0,z.c)(u),(0,z.c)(c)))||void 0===n?void 0:xr()(n).call(n,(function(t){return null==t?void 0:t.contains(e.target)}));i&&null!=i&&i.contains(e.target)||s||t&&r(!1)})),t?L().createElement("div",{className:f,ref:u},L().createElement("div",{className:"".concat(f,"-body")},o),L().createElement("footer",{className:"".concat(f,"-footer")},L().createElement(R.Button,{onClick:i,type:"second",className:"".concat(f,"-cancel-btn"),style:{marginRight:"12px"}},(0,D.getLangMsg)("ruled.fieldsAddPanel.key0001")),L().createElement(R.Button,{className:"".concat(f,"-modal-ok-btn"),type:"primary",onClick:a},(0,D.getLangMsg)("ruled.fieldsAddPanel.key0002")))):null},Er=function(e){var t=e.prefixCls,n=e.label,r=e.children;return L().createElement("div",{className:"".concat(t,"-fields-item-wrap")},L().createElement("div",{className:"".concat(t,"-fields-item-label")},n),r)},Sr=n(39568),_r=n.n(Sr),kr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAABICAYAAAAwAEE4AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAfqADAAQAAAABAAAASAAAAAAO91pgAAAJu0lEQVR4Ae1d3XIbtxXG7vJvKdqMrPhHTmVJiT2ejlKnnXEfQC/hm970ti+RZnKd1+iNn6B3ym3GvmibsRWNVFuKEltSLGUUUSKX3AX6HYCHomjK5EpLclcFPNyDBc4CB+dbAOcDqUQIm6wHrAesB6wHrAesB6wHrAesB6wHsu0BJwvmK6W8N7+cPJKOrE7K3mm/slqpOLuT6j/pflMP/BulytHu8bdKqD8nPfg47VUqU/90POdv076zGee5tOq6aTWM7Yp2T/4yadDJFkc4d4QU3/5aVwtsW5Zl6oEXjvwkLQ5WSsxfFfDTD3xaUG/bcVXAt8Bf4MW6CuBb4C8APD2SdfAt8BcEPuvgW+AvAXyWwbfAXxL4rIJvgU8A+CyCb4FPCPisgZ9LcNxja2pnZ6dvX4VCQdy4caNv3WULj2q1Pw7ZxrzjiL9C96sh9SeiZmf8RNw++U4t8JPHYCIWWOAn4vbJd2qBnzwGE7HAAj8Rt0++00xG9RS990v5XCaH028oIy/LpKdGRdlG7u0UdWCX+hSBMU5TLPDj9HaK+rLApwiMcZqSyT3+4OBgnD4a2FcWY46JAP/8+fN8pVIpRdFUXohic2/vZmN52QkHerit0Gw2h1W1eud4YGzAv3ihCm7p5wVXFG5FIqpKGOQAdiEicfvejlj7795hJILdvGz8+ODBg+Ace21xQh4YOfD4KxhnY2PvU1XYX4yaeU/mFH6j7r43u8MorLheYaoRuQvfr++++vz+rVeO46iExmmb6fHASIGnJX3t1dsvpOt9JMJICBfTm6Z6n+Q4nlCo8zxt0uLq1tsqnv++j6o47wCnn64t6++BkQG/srKSq0zf/SJU8poQEqh7sABCSyGoY5r2bADnO0tBKKtFPC+lwMSHYlfKYjDVZX4qsuz3xI2Zn//8s5Zo+XmnoLEMAXNOFHA10BKW/KHOOc8Yt3V9R0j8ssKyzqQBGgnwW1tb0yet5gyMxRRvaZsJOok8Q0grvinT1Z38ab3RlVL6jou/XOud9uaxzF0R8+RevvylJERQ8LzjVq1Wazx+/Ng4aYyjGQnwNVGYFRKbeg6RXBjyJD4zrBzqQtSRpArOk6R7rgfiUkkEhF7fZkg19Wl9fb3Yckv3PFG8vfpqp+oAdtrkpKiK8nRVMxopmnuy8cnm0pIzFq6aOPDb29t+LVC+cL1QADDIvsBI1LmoI0mJ8yQpcb2ijOMK0mLokzrAGXWsQIxm/cfDxVYYfIoheBKj6DCarqAG5VMil1/Ml/bvgdG8HgejuTTwFMRde/iwMBMEcmFhIdjY2KlIFVEUl1ByNQ/Qsx5LPqUsHOAQo1ndevcHEVGMgj+5kjqypaxJvM+d7m2IfiLhuWIRTGgaz/97lFvAhYFfef26NBv4szInpsSJEHXhi5cbOzQxlePmOsE5j/OiEls7gMcef2bOX7S18TxHTEQzkjAAozGA58BmCFiSlDhP0qRT1oPHrxEjWllR/4pzotluaChxIeC/W/1p5iPh3my6kmBhy087VOr9stPaWDksg8rMcwI/G4mYCBYnPwdGc8pi9DLffoGFyIPhEPxGUu491uPPzr/5DEproxh1bODxm/apg2P3RgTAPfPy9rWriFI6dyVJifN8Fjuo3jxFez+Weqwj3VF9mg9wsK9jWZe+i/3uQyyG2Q5Ls/KfZT3wwQwxpPn5+V/ZH0nJWMA/ffrUOzmRH+ciZ+CMPoaFFLyS5NS9/lPHHN9QPedZh55t4INDWx3+wZ8AnzTFyP5owrR+uSvFIsRE8MLyUHSDvePTbGcI1tMkhiTEZIF/9Gi53GgQ5YyiYlGoIMBeBmlcxVBproKN3ySW7dszoruO8yxJkfLg8JJ2+Q7qVJHSRI7AfNeUBGTkzOTojeU026GXZADrCVvKJ6Y0NzdXT3LYsWZ8FBXwe8aGfpPD0Me5eh0vrt+2h+Y25XmOU55s5XrOx7Pfk9fNHq+nPIfAaDaNiWzUycW5Ex1TJ5MajVwFW0hjc3OzuF8sukdra83l5eUzK0rcnmIBT42HYVEPyPcjVa8XHZJUXq+HOk+S7k29KTP1RpeeoXvzgtCc5heF82bO+75C+47jO7R4AvCOU/XD6bzARh2CwuYkmU1TqZtgTLfIG2UwqPLc78UPP+wcvy3W3y4vLtKOGDvFAr7ZPJDlclG/aS2s+PRrZpKUctMzonVU05LuWwL5EsogKeWg18IuQNIkCu+oKQ7/OG9eZG7fESWpAyZopj2qpxlASz3+IbJLbsajWUrUrMnhGrmiNNMsLrzYPtxbmqvG/klSLOB9vxIFpRPj/0P0Tv+dSZKUgnb8wVIXdsUkpPsOH5KUep+nci7TCuZSQniM+WNmUld5GrPMPCAlvl42b/A5hg5iNYPqO802gxkwreDOnTu8dHaqPpSJBfz1hx9Hv70j9JDKRnRk+/aDgp8hJc6z7C6j/D4++JrHiczJHTuVqtKaeEISE8lFZ4O7XpsJJQqDu9HqflMIGLpngDjPOt2hNDEtMK7GkydPho4ruF10MTgFm5uytt9emu9C/w0+JPslriNJqUe/57bTFKuL63gG20I5V8KJAa1y2D+Zz+kG03ch+zSdg7meF4XjYD3kBaXyghgXskfDeiUW8M/wav2pGuqNpjl7XxWONxyS1FlhA/n7KIPUndPSTa9ze2nv1T+Gng99kqTPeZJ0z+2J3d9wn5EDWxzI07sJGiLDsIADrtGzHvIVpSi6rn/BaO4GXw1Ig/W0BmbdB87qhmwkptpPe7UvMdm/jPnYRNRxYocIDN+/KfFNGNS/0awE7ISMqddPwHrKYComRuI8SVOPmL3NZIzxNGuY6VAJ53tYT6f9UmtpafggL9aMx1I29B5ijL/8dXv3SDvm8i2NvgUylNYmOnRqtaJoHKyHWRUxrjgjjAV8nIb/H3X1Hg/gJZhIELSicbAe9rOvKrEmpQWePZeA5OATUhZmyyYA72Ytg/ro1uU8S3q2O99mPZr9oIoY16Dmu+st8N3euGSemAcmPJIjaxIznplNv3a5jmlMD83pue00xerMerRE+0Uwrn7dnFdmgT/PMxco13u8Dpel8mdnw3GwHmZRz5pN/coNa3asqH7YRpPUQ3D3FSbS35Nsc9RtgdJ9/btbla9H3U9v+3GCbzvje72XzL2KA0IyXcZrJeXfc8YbjNUe3gMW+OF9daU0LfBXCs7hB5N+4JX78/DDSYlmBmxOPfDe7fI/8G38s5RAOtAMspVsHqg4YYXU0znyD305NOn/xegwOLnKPbx7s/yftEf0w4zF6lgPWA9YD1gPWA9YD1gPWA9YD1gPpN0D/wPBQCiWY5kFsAAAAABJRU5ErkJggg==";function Ar(e,t){var n=void 0!==at()&&ct()(e)||e["@@iterator"];if(!n){if(ue()(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return Or(e,t);var r=nt()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return ot()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Or(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nr(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Nr(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Nr(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var Tr=function(e){return e},Pr=function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return g()(r=Ue()(t).call(t,(function(t){var r=t.id,i=t.children,a=t.text,u=i?{children:e(i,n,o)}:{children:[]};return Mr(Mr(Mr({},t),{},{key:r,title:n?a:a.replace(/(\S+)\(\S+\)/g,"$1")},u),{},{checkable:o,selectable:!i&&!o})}))).call(r,Boolean)},Ir=function(e){var t=[],n=function e(t,n){var r=t.key,o=t.children;n.push(r),o&&w()(o).call(o,(function(t){return e(t,n)}))};return w()(e).call(e,(function(e){n(e,t)})),t},Lr=function e(t,n){var r,o=Ar(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.key,u=i.children;if(n===a)return!0;if(u&&u.length){var c=e(u,n);if(c)return c}}}catch(e){o.e(e)}finally{o.f()}return!1},Dr=function(e,t){var n;if(""===t)return e;var r=function e(t,n){return g()(t).call(t,(function(t){var r;if(-1!==_r()(r=t.text||"").call(r,n)&&(!t.children||0===t.children.length))return!0;var o=t.children&&e(t.children,n);return(null==o?void 0:o.length)>0?(t.children=o,!0):void 0}))};return g()(n=Ue()(e).call(e,(function(e){if(!(null==e?void 0:e.children))return e;var n=r(e.children,t);return Mr(Mr({},e),{},{children:n})}))).call(n,(function(e){var t;return null==e||null===(t=e.children)||void 0===t?void 0:t.length}))};function jr(e){var t=e.className,n=(0,D.getLangMsg)("ruled.searchTree.key0001");return L().createElement("div",{className:t},L().createElement("img",{className:"".concat(t,"-img"),src:kr,height:"72",alt:n}),L().createElement("div",{className:"".concat(t,"-text")},n))}var Rr=(0,I.memo)((function(e){var t=e.placeholder,n=e.data,r=e.showDefinitionId,o=void 0===r||r,i=e.checkable,a=e.checkedKeys,u=void 0===a?[]:a,c=e.expandedKeys,s=e.onSelect,l=e.onCheck,f=e.filterTreeData,d=void 0===f?Tr:f,p=e.onDataChange,h=e.scrollToKey,v=e.expandAll,m=e.selectedNodeKeys,y=void 0===m?[]:m,b=(0,I.useRef)(null),w=(0,I.useRef)([]),x=(0,I.useState)(""),C=(0,O.c)(x,2),E=C[0],S=C[1],_=(0,I.useState)(y),k=(0,O.c)(_,2),A=k[0],N=k[1],M=(0,I.useState)((function(){return Pr(d(n),o,i)})),T=(0,O.c)(M,2),j=T[0],B=T[1],U=(0,I.useState)((function(){var e,t,n=[];v?n=Ir(j):n=Ue()(t=j||[]).call(t,(function(e){return e.key}));return P()(e=[]).call(e,(0,z.c)(n),(0,z.c)(c||[]))})),W=(0,O.c)(U,2),H=W[0],V=W[1],G=(0,I.useMemo)((function(){return h&&Lr(j,h)?{scrollToKey:h}:{}}),[h,j]);(0,I.useEffect)((function(){B((function(e){var t,r=Pr(d(n),o,i),a=Ue()(t=g()(r).call(r,(function(t){var n=Ue()(e).call(e,(function(e){return e.key}));return!ee()(n).call(n,t.key)}))).call(t,(function(e){return e.key}));return V((function(e){var t;return P()(t=[]).call(t,(0,z.c)(e),(0,z.c)(a))})),r}))}),[n,i]),(0,I.useEffect)((function(){B((function(){var e=Pr(d(n),o,i);return Dr(e,E)}))}),[o]),(0,I.useEffect)((function(){p&&p(j)}),[j]),(0,I.useEffect)((function(){A.length&&!h&&N([])}),[h]),(0,I.useEffect)((function(){y.length&&N(y)}),[y]);return L().createElement("div",{className:"kd-search-tree-wrap"},L().createElement(R.Input,{className:"kd-search-tree-input",style:{marginBottom:9,width:"100%"},ref:b,value:E,placeholder:t||(0,D.getLangMsg)("ruled.searchTree.key0002"),borderType:"bordered",onChange:function(e){var t=e.target.value,r=Pr(d(n),o,i);if(t){r=Dr(r,t),E||(w.current=H),B(r);var a=Ir(r);V(a)}else Le().isEqual(r,j)||B(r),V(w.current);S(t)},allowClear:!0,prefix:L().createElement("div",null,L().createElement(R.Icon,{type:"search",style:{cursor:"pointer"}}))}),!E||null!=j&&j.length?L().createElement("div",{className:"kd-search-tree"},L().createElement("div",{className:"tree-container"},L().createElement(R.Tree,(0,F.c)({name:"definition",checkable:!!i,expandedKeys:H,showIcon:!1,style:{width:"100%"},onExpand:function(e,t){var n,r=t.expanded,o=t.node,i=(t.event,o.key),a=g()(e).call(e,Boolean);a=r?P()(n=[i]).call(n,(0,z.c)(a)):g()(a).call(a,(function(e){return e!==i})),V(a)},treeData:j,onSelect:function(e,t){var n=t.checked,r=t.node,o=t.event;N(e),s(n,r,o)},selectedKeys:A,onCheck:l,checkedKeys:u,virtual:!1},G)))):L().createElement(jr,{className:"search-empty"}))})),Fr=Rr,zr=function(e){var t=e.prefixCls,n=e.value,r=e.treeData,o=e.onSelect,i=e.scrollToKey,a=(0,I.useState)(!1),u=(0,O.c)(a,2),c=u[0],s=u[1],l=(0,I.useRef)(null),f=(0,I.useRef)(null);(0,D.useOnClickOutside)([f,l],(function(e){c&&s(!1)}));return L().createElement(R.Tooltip,{ref:l,visible:c,trigger:"click",placement:"bottomRight",onVisibleChange:function(e){return s(e)},popperClassName:"".concat(t,"-tree-select-popper"),tip:L().createElement("div",{ref:f,className:"".concat(t,"-search-tree-wrap")},L().createElement(Fr,{data:r,onSelect:function(e,t,n){o(t),s(!1)},scrollToKey:i}))},L().createElement("div",{className:"".concat(t,"-tree-select")},L().createElement("span",null,n||""),L().createElement(R.Icon,{type:c?"arrow-up":"arrow-down"})))};function Br(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Br(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Br(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var Wr=function(e){var t=e.field,n=e.id,r=(0,I.useContext)(H),o=r.getKdesignerApi,i=r.isLockRule,a=o().data,u=t.FieldName,c=i(),s=(0,I.useState)((function(){return(null==u?void 0:u.length)&&(null==u?void 0:br()(u).call(u,(function(e){return!0===e.OnlyEmptyRow})))})),l=(0,O.c)(s,2),f=l[0],d=l[1];return L().createElement(D.SwitchPropertyEditor,(0,F.c)({},e,{locked:c,value:f,handleChange:function(e){if(!e&&f&&null!=u&&u.length){var t=Ue()(u).call(u,(function(e){return delete e.OnlyEmptyRow,e}));a.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[n,{fieldName:t}]]))}else if(e&&!f&&null!=u&&u.length){var r=Ue()(u).call(u,(function(t){return Ur(Ur({},t),{},{OnlyEmptyRow:e})}));a.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[n,{fieldName:r}]]))}d(e)}}))},Hr=function(e){var t=e.className,n=e.editor,r=e.Name,o=e.Tips,i=e.field,a=e.id,u=e.editorType,c=n.NameHidden,s=n.Required,l=(0,I.useContext)(H),f=l.getKdesignerApi,d=l.getPrefixCls,p=l.prefixCls,h=l.ruleMetaInfo,v=l.activeRuleNodeId,m=l.isLockRule,y=i.ActionType,b=i.Expression,w=void 0===b?[]:b,x=i.FieldName,C=void 0===x?[]:x,E=f().data,S=d&&d(p,"takeBaseProAction-editor"),_=m(),k=(0,I.useState)(!1),A=(0,O.c)(k,2),N=A[0],M=A[1],T=(0,I.useState)({}),j=(0,O.c)(T,2),F=j[0],z=j[1],B=(0,I.useRef)(null),U=(0,I.useRef)(null),W=(0,I.useMemo)((function(){return lt(h,v,u||y,"target")}),[h,v,y]),V=(0,I.useMemo)((function(){return lt(h,v,u||y,"source")}),[h,v,y]),G=function(e){E.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,e]])).then((function(){M(!1),z({})}))};return L().createElement(L().Fragment,null,L().createElement(D.NameTipWrapper,{nameHidden:c,className:t,name:r,tips:o,required:s,nameStyle:{width:"205px"}}),L().createElement("div",{className:S},L().createElement(R.Tooltip,{ref:B,getTriggerElement:function(){return U.current||B.current},visible:N,placement:"bottomRight",popperClassName:"".concat(p,"-fields-add-panel-popper"),tip:L().createElement(Cr,{visible:N,triggerRef:U||B,setVisible:function(e){M(e),!e&&z({})},onCancel:function(){z({}),M(!1)},onConfirm:function(){var e,t,n,r,o;(0,Ie.isUndefined)(null==F?void 0:F.index)?function(){var e=F.SrcField,t=F.TargetField;if(t||e){var n=F.SrcFieldName,r=F.TargetFieldName,o=P()(w).call(w,{SrcField:e,TargetField:t,_Type_:"TakeValueId"}),i=P()(C).call(C,{SrcFieldName:n,TargetFieldName:r,_Type_:"TakeValueId"});G({FieldName:i,Expression:o})}}():(e=(0,Ie.cloneDeep)(C),t=(0,Ie.cloneDeep)(w),n=F.index,r=F.SrcField,o=F.TargetField,r&&(e[n].SrcFieldName=F.SrcFieldName,t[n].SrcField=r),o&&(e[n].TargetFieldName=F.TargetFieldName,t[n].TargetField=o),G({FieldName:e,Expression:t}))}},L().createElement(Er,{label:(0,D.getLangMsg)("ruled.setEqution.key0001"),prefixCls:p},L().createElement(zr,{value:null==F?void 0:F.SrcFieldName,treeData:V,prefixCls:p,onSelect:function(e){z((function(t){var n=e.id,r=e.text;return Ur(Ur({},t),{},{SrcFieldName:r,SrcField:n})}))},scrollToKey:null==F?void 0:F.SrcField})),L().createElement(Er,{label:(0,D.getLangMsg)("ruled.setEqution.key0002"),prefixCls:p},L().createElement(zr,{value:null==F?void 0:F.TargetFieldName,treeData:W,prefixCls:p,onSelect:function(e){z((function(t){var n=e.id,r=e.text;return Ur(Ur({},t),{},{TargetFieldName:r,TargetField:n})}))},scrollToKey:null==F?void 0:F.TargetField})))},L().createElement("div",{ref:U,className:re()("".concat(S,"-add"),{disabled:_}),onClick:function(e){_||(U.current=e.target,z({}),M(!0))}},L().createElement(R.Icon,{type:"add"}),(0,D.getLangMsg)("ruled.setEqution.key0003"))),Ue()(C).call(C,(function(e,t){return L().createElement("div",{className:re()("".concat(S,"-field-name"),{disabled:_,edit:(null==F?void 0:F.index)===t}),key:t},L().createElement("div",{className:"".concat(S,"-field-name-wrap")},L().createElement("div",{className:"".concat(S,"-field-name-item")},L().createElement("div",{className:"".concat(S,"-field-name-label")},(0,D.getLangMsg)("ruled.setEqution.key0002")),L().createElement("div",{className:"".concat(S,"-field-name-value")},e.TargetFieldName||"")),L().createElement("div",{className:"".concat(S,"-field-name-item")},L().createElement("div",{className:"".concat(S,"-field-name-label")},(0,D.getLangMsg)("ruled.setEqution.key0004")),L().createElement("div",{className:"".concat(S,"-field-name-value")},e.SrcFieldName||"")),L().createElement(R.Icon,{type:"edit",className:"".concat(S,"-field-name-item-edit"),onClick:function(e){return function(e,t){if(!_){U.current=e.target;var n=se()(w).call(w,(function(e,n){return n===t}))||{},r=se()(C).call(C,(function(e,n){return n===t}))||{};z(Ur(Ur(Ur({},n),r),{},{index:t})),M(!0)}}(e,t)}}),L().createElement(R.Icon,{prefix:"designericon",type:"shanchu",onClick:function(){return function(e){if(!_){var t=g()(w).call(w,(function(t,n){return n!==e})),n=g()(C).call(C,(function(t,n){return n!==e}));E.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{FieldName:n,Expression:t}]])).then((function(){M(!1)}))}}(t)}})))}))))},Vr=function(e){return L().createElement(Hr,(0,F.c)({},e,{editorType:"TakeBaseProAction"}))};function Gr(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Gr(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Gr(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var Xr=function(e){var t=e.className,n=e.editor,r=e.Name,o=e.Tips,i=e.field,a=e.id,u=i.Expression,c=void 0===u?"":u;c=c?JSON.parse(c):[];var s=n.NameHidden,l=n.Required,f=(0,I.useContext)(H),d=f.getKdesignerApi,p=f.getPrefixCls,h=f.prefixCls,v=f.getDataRef,m=f.isLockRule,y=d().data,b=(0,I.useContext)(D.GlobalConfigContext).showMessage,w=p&&p(h,"fillQty-editor"),x=v().entitymeta,C=m(),E=(0,I.useState)(!1),S=(0,O.c)(E,2),_=S[0],k=S[1],A=(0,I.useState)({}),N=(0,O.c)(A,2),M=N[0],T=N[1],j=(0,I.useRef)(null),F=(0,I.useRef)(null),z=["BaseUnitqtyField","QtyField"],B=(0,I.useMemo)((function(){var e,t=g()(e=x.Items).call(e,(function(e){return ee()(z).call(z,e._Type_)}));return Ue()(t).call(t,(function(e){return{label:e.Name,value:e.Key}}))}),x),U=function(e){var t,n=se()(t=x.Items).call(t,(function(t){return t.Key===e}));return(null==n?void 0:n.Name)||""},W=function(e){y.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{Expression:Ut()(e)}]])).then((function(){k(!1),T({})}))};return L().createElement(L().Fragment,null,L().createElement(D.NameTipWrapper,{nameHidden:s,className:t,name:r,tips:o,required:l,nameStyle:{width:"205px"}}),L().createElement("div",{className:w},L().createElement(R.Tooltip,{ref:j,visible:_,placement:"bottomRight",popperClassName:"".concat(h,"-fields-add-panel-popper"),getTriggerElement:function(){return F.current||j.current},tip:L().createElement(Cr,{visible:_,triggerRef:F||j,setVisible:function(e){k(e),!e&&T({})},onCancel:function(){T({}),k(!1)},onConfirm:function(){var e,t,n,r;(0,Ie.isUndefined)(null==M?void 0:M.index)?function(){var e=M.srcQtyField,t=M.distQtyField;if(!e&&!t)return b((0,D.getLangMsg)("ruled.fillQty.key0002"));var n=P()(c).call(c,{distQtyField:t,srcQtyField:e});W(n)}():(e=(0,Ie.cloneDeep)(c),t=M.index,n=M.srcQtyField,r=M.distQtyField,n&&(e[t].srcQtyField=n),r&&(e[t].distQtyField=r),W(e))}},L().createElement(Er,{label:(0,D.getLangMsg)("ruled.fillQty.key0003"),prefixCls:h},L().createElement(R.Select,{className:"".concat(h,"-fields-item-trigger"),popperClassName:"".concat(h,"-select-popper"),scrollHidden:!0,placeholder:(0,D.getLangMsg)("ruled.fillQty.key0004"),borderType:"bordered",value:null==M?void 0:M.srcQtyField,options:B,onChange:function(e){e!==M.distQtyField?T((function(t){return Yr(Yr({},t),{},{srcQtyField:e})})):b((0,D.getLangMsg)("ruled.fillQty.key0001"))},notFoundContent:(0,D.getLangMsg)("ruled.fillQty.key0007")})),L().createElement(Er,{label:(0,D.getLangMsg)("ruled.fillQty.key0005"),prefixCls:h},L().createElement(R.Select,{className:"".concat(h,"-fields-item-trigger"),popperClassName:"".concat(h,"-select-popper"),scrollHidden:!0,placeholder:(0,D.getLangMsg)("ruled.fillQty.key0004"),borderType:"bordered",value:null==M?void 0:M.distQtyField,options:B,onChange:function(e){e!==M.srcQtyField?T((function(t){return Yr(Yr({},t),{},{distQtyField:e})})):b((0,D.getLangMsg)("ruled.fillQty.key0001"))},notFoundContent:(0,D.getLangMsg)("ruled.fillQty.key0007")})))},L().createElement("div",{ref:F,className:re()("".concat(w,"-add"),{disabled:C}),onClick:function(e){C||(F.current=e.target,T({}),k(!0))}},L().createElement(R.Icon,{type:"add"}),(0,D.getLangMsg)("ruled.fillQty.key0006"))),Ue()(c).call(c,(function(e,t){var n=e.distQtyField,r=e.srcQtyField;return L().createElement("div",{className:re()("".concat(w,"-field-name"),{disabled:C,edit:(null==M?void 0:M.index)===t}),key:t},L().createElement("div",{className:"".concat(w,"-field-name-wrap")},L().createElement("div",{className:"".concat(w,"-field-name-item")},L().createElement("div",{className:"".concat(w,"-field-name-label")},(0,D.getLangMsg)("ruled.fillQty.key0003")),L().createElement("div",{className:"".concat(w,"-field-name-value")},U(r))),L().createElement("div",{className:"".concat(w,"-field-name-item")},L().createElement("div",{className:"".concat(w,"-field-name-label")},(0,D.getLangMsg)("ruled.fillQty.key0005")),L().createElement("div",{className:"".concat(w,"-field-name-value")},U(n))),L().createElement(R.Icon,{type:"edit",className:"".concat(w,"-field-name-item-edit"),onClick:function(e){return function(e,t){if(!C){F.current=e.target;var n=se()(c).call(c,(function(e,n){return n===t}))||{};T(Yr(Yr({},n),{},{index:t})),k(!0)}}(e,t)}}),L().createElement(R.Icon,{prefix:"designericon",type:"shanchu",onClick:function(){return function(e){if(!C){var t=g()(c).call(c,(function(t,n){return n!==e}));y.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{Expression:Ut()(t)}]]))}}(t)}})))}))))},Kr=function(e){var t=e.className,n=e.editor,r=e.Name,o=e.Tips,i=e.field,a=e.id,u=n.NameHidden,c=n.Required,s=(0,I.useContext)(H),l=s.getKdesignerApi,f=s.getPrefixCls,d=s.prefixCls,p=s.ruleMetaInfo,h=s.activeRuleNodeId,v=s.isLockRule,m=i.ActionType,y=i.Expression,b=void 0===y?"":y,w=l().data,x=f&&f(d,"clearValue-editor"),C=v(),E=(0,I.useState)(!1),S=(0,O.c)(E,2),_=S[0],k=S[1],A=(0,I.useRef)(null),N=(0,I.useMemo)((function(){return lt(p,h,m)}),[p,h,m]),M=(0,I.useMemo)((function(){return ft(N)}),[N]),T=(0,I.useState)((function(){return b.split(":")})),P=(0,O.c)(T,2),j=P[0],F=P[1],z=(0,I.useState)((function(){var e=b.split(":");return g()(M).call(M,(function(t){return ee()(e).call(e,t.id)&&(0,Ie.isUndefined)(t.children)}))})),B=(0,O.c)(z,2),U=B[0],W=B[1];(0,I.useEffect)((function(){var e=b.split(":");(0,Ie.isEqual)(e,j)||(F(e),W((function(){return g()(M).call(M,(function(t){return ee()(e).call(e,t.id)&&(0,Ie.isUndefined)(t.children)}))})))}),[b]);return L().createElement(L().Fragment,null,L().createElement(D.NameTipWrapper,{nameHidden:u,className:t,name:r,tips:o,required:c}),L().createElement("div",{className:x},L().createElement(R.Tooltip,{ref:A,visible:_,placement:"bottomRight",popperClassName:"".concat(d,"-fields-tree-panel-popper"),tip:L().createElement(Cr,{visible:_,triggerRef:A,setVisible:k,onCancel:function(){return k(!1)},onConfirm:function(){var e=g()(M).call(M,(function(e){return ee()(j).call(j,e.id)&&(0,Ie.isUndefined)(e.children)}));W(e),w.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{Expression:j.join(":")}]])).then((function(){k(!1)}))}},L().createElement("div",{className:"".concat(d,"-tree-container")},L().createElement(Fr,{data:N,checkable:!0,onCheck:function(e,t){t.checked,t.node,t.event;var n=g()(M).call(M,(function(t){return ee()(e).call(e,t.id)&&(0,Ie.isUndefined)(t.children)}));F(Ue()(n).call(n,(function(e){return e.id})))},checkedKeys:j})))},L().createElement("div",{className:re()("".concat(x,"-add"),{disabled:C}),onClick:function(){C||k(!0)}},L().createElement(R.Icon,{type:"add"}),(0,D.getLangMsg)("ruled.clearValue.key0001"))),Ue()(U).call(U,(function(e){var t=e.text,n=e.id;return L().createElement("div",{className:re()("".concat(x,"-field-item"),{disabled:C}),key:n},L().createElement("div",{className:"".concat(x,"-field-item-label")},t),L().createElement(R.Icon,{prefix:"designericon",type:"shanchu",onClick:function(){return function(e){if(!C){var t=g()(j).call(j,(function(t){return t!==e}));F(t),W((function(t){return g()(t).call(t,(function(t){return t.id!==e}))})),w.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{Expression:t.join(":")}]]))}}(n)}}))}))))},qr=function(e){var t,n=e.className,r=e.editor,o=e.Name,i=e.Tips,a=e.field,u=e.id,c=r.NameHidden,s=r.Required,l=(0,I.useContext)(H),f=l.getKdesignerApi,d=l.getPrefixCls,p=l.prefixCls,h=l.ruleMetaInfo,v=l.activeRuleNodeId,m=l.isLockRule,y=a.Fields,b=void 0===y?[]:y,w=a.ActionType,x=f().data,C=d&&d(p,"checkFields-editor"),E=m(),S=(0,I.useState)(!1),_=(0,O.c)(S,2),k=_[0],A=_[1],N=(0,I.useRef)(null),M=(0,I.useState)(b),T=(0,O.c)(M,2),P=T[0],j=T[1],F=(0,I.useMemo)((function(){return lt(h,v,w)}),[h,v,w]),z=(0,I.useMemo)((function(){return ft(F)}),[F]),B=(null===(t=h[0])||void 0===t?void 0:t.rulesTree)||[],U=ue()(B)?B:[B],W=(0,I.useMemo)((function(){return ft(U)}),[U]),V=g()(W).call(W,(function(e){return e.data===v})),G=V.length?V[0].type:"",Y=["CardEntryRowAp","CardRowPanelAp"],X=ee()(Y).call(Y,G)?"id":"data",K=(0,I.useState)((function(){var e;return g()(e=Ue()(b).call(b,(function(e){var t=e.Id,n=se()(z).call(z,(function(e){return e[X]===t}));return null==n?void 0:n.id}))).call(e,Boolean)})),q=(0,O.c)(K,2),Z=q[0],Q=q[1],J=(0,I.useMemo)((function(){var e;return g()(e=Ue()(P).call(P,(function(e){var t=e.Id;return se()(z).call(z,(function(e){return e[X]===t}))}))).call(e,Boolean)}),[P]);(0,I.useEffect)((function(){var e;(0,Ie.isEqual)(P,b)||(j(b),Q(g()(e=Ue()(b).call(b,(function(e){var t=e.Id,n=se()(z).call(z,(function(e){return e[X]===t}));return null==n?void 0:n.id}))).call(e,Boolean)))}),[b]);return L().createElement(L().Fragment,null,L().createElement(D.NameTipWrapper,{nameHidden:c,className:n,name:o,tips:i,required:s}),L().createElement("div",{className:C},L().createElement(R.Tooltip,{ref:N,visible:k,placement:"bottomRight",popperClassName:"".concat(p,"-fields-tree-panel-popper"),tip:L().createElement(Cr,{visible:k,triggerRef:N,setVisible:A,onCancel:function(){return A(!1)},onConfirm:function(){var e=g()(z).call(z,(function(e){return ee()(Z).call(Z,e.id)&&(0,Ie.isUndefined)(e.children)})),t=Ue()(e).call(e,(function(e){return{_Type_:"FieldId",Id:e[X]}}));j(t),x.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[u,{Fields:t}]])).then((function(){A(!1)}))}},L().createElement("div",{className:"".concat(p,"-tree-container")},L().createElement(Fr,{data:F,checkable:!0,onCheck:function(e,t){t.checked,t.node,t.event;var n=g()(z).call(z,(function(t){return ee()(e).call(e,t.id)&&(0,Ie.isUndefined)(t.children)}));Q(Ue()(n).call(n,(function(e){return e.id})))},checkedKeys:Z})))},L().createElement("div",{className:re()("".concat(C,"-add"),{disabled:E}),onClick:function(){E||A(!0)}},L().createElement(R.Icon,{type:"add"}),(0,D.getLangMsg)("ruled.checkField.key0001"))),Ue()(J).call(J,(function(e){var t=e.text,n=e.id;return L().createElement("div",{className:re()("".concat(C,"-field-item"),{disabled:E}),key:n},L().createElement("div",{className:"".concat(C,"-field-item-label")},t),L().createElement(R.Icon,{prefix:"designericon",type:"shanchu",onClick:function(){return function(e){if(!E){var t=g()(Z).call(Z,(function(t){return t!==e})),n=g()(J).call(J,(function(t){return t.id!==e}));Q(t);var r=Ue()(n).call(n,(function(e){return{_Type_:"FieldId",Id:e[X]}}));j(r),x.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[u,{Fields:r}]]))}}(n)}}))}))))},Zr=function(e){var t=e.type,n=e.className,r=e.handleChange,o=e.value,i=e.hideThemeBtn,a=e.hideAlphaInput,u=e.disabled,c=(0,I.useState)(!1),s=(0,O.c)(c,2),l=s[0],f=s[1],d=(0,I.useState)(o||""),p=(0,O.c)(d,2),h=p[0],v=p[1],g=(0,I.useRef)(null),m=(0,I.useRef)(null),y="kdesigner-right-view";return(0,I.useEffect)((function(){o!==h&&v(o)}),[o]),L().createElement(L().Fragment,null,L().createElement("div",{className:"".concat(y,"-color-editor"),ref:m},L().createElement(D.ColorPrefixIcon,{disabled:u,className:"".concat(y,"-color-editor"),type:t,color:h,onClick:function(){u||f(!0)}}),L().createElement(R.Input,{className:"".concat(y,"-color-editor-input"),ref:g,borderType:"bordered",value:h,onChange:function(e){var t=e.target.value;v(t),r(t)},disabled:u,onClick:function(){f(!0)}})),L().createElement(D.ColorPicker,{triggerDom:m,showPanel:l,colorValue:h,className:n,hideThemeBtn:i,hideAlphaInput:a,onClosePanel:function(){f(!1)},onChange:function(e){r(e)}}))};function Qr(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Qr(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Qr(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var $r=function(e){var t=e.className,n=e.editor,r=e.Name,o=e.Tips,i=e.field,a=e.id,u=n.NameHidden,c=n.Required,s=(0,I.useContext)(H),l=s.getKdesignerApi,f=s.getPrefixCls,d=s.prefixCls,p=s.ruleMetaInfo,h=s.activeRuleNodeId,v=s.isLockRule,m=s.getRulesNodes,y=i.DisplayStyles,b=void 0===y?[]:y,w=i.ActionType,x=l().data,C=f&&f(d,"checkFields-editor"),E=v(),S=(0,I.useState)(!1),_=(0,O.c)(S,2),k=_[0],N=_[1],M=(0,I.useState)(b),T=(0,O.c)(M,2),j=T[0],F=T[1],z=(0,I.useRef)(null),B=(0,I.useRef)(null),U=(0,I.useMemo)((function(){return lt(p,h,w)}),[p,h,w]),W=(0,I.useMemo)((function(){return ft(U)}),[U]),V=(0,I.useState)((function(){var e;return g()(e=Ue()(b).call(b,(function(e){var t=e.Id,n=se()(W).call(W,(function(e){return e.id===t}));return null==n?void 0:n.id}))).call(e,Boolean)})),G=(0,O.c)(V,2),Y=G[0],X=G[1],K=(0,I.useMemo)((function(){var e;return g()(e=Ue()(j).call(j,(function(e){var t=e.Id;return se()(W).call(W,(function(e){return e.id===t}))}))).call(e,Boolean)}),[j]);(0,I.useEffect)((function(){var e;(0,Ie.isEqual)(b,j)||(F(b),X(g()(e=Ue()(b).call(b,(function(e){var t=e.Id,n=se()(W).call(W,(function(e){return e.id===t}));return null==n?void 0:n.id}))).call(e,Boolean)))}),[b]);var q=function(e,t,n){var r=Ue()(b).call(b,(function(r){return n===r.Id?Jr(Jr({},r),{},(0,A.c)({},e,t)):r}));F(r),x.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{DisplayStyles:r}]]))},Z=function(e,t,n){var r,o=t.target.value,i=Ue()(b).call(b,(function(t){return n===t.Id?Jr(Jr({},t),{},(0,A.c)({},e,o)):t}));F(i),r=i,B.current&&clearTimeout(B.current),B.current=Pn()((function(){B.current=null,x.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{DisplayStyles:r}]]))}),300)};return L().createElement(L().Fragment,null,L().createElement("div",{className:"".concat(C,"-header")},L().createElement(D.NameTipWrapper,{nameHidden:u,className:t,name:r,tips:o,required:c}),L().createElement(R.Tooltip,{ref:z,visible:k,placement:"bottomRight",popperClassName:"".concat(d,"-fields-tree-panel-popper"),tip:L().createElement(Cr,{visible:k,triggerRef:z,setVisible:N,onCancel:function(){return N(!1)},onConfirm:function(){var e=g()(W).call(W,(function(e){return ee()(Y).call(Y,e.id)&&(0,Ie.isUndefined)(e.children)})),t=Ue()(e).call(e,(function(e){var t=se()(j).call(j,(function(t){return t.Id===e.id})),n={_Type_:"DisplayStyle",FontSize:"12",Id:e.id,ForeColor:null,BackgroundColor:null,ValueFontSize:"12",ValueForeColor:null,ValueBackgroundColor:null};return t||n}));F(t),x.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{DisplayStyles:t}]])).then((function(){N(!1)}))}},L().createElement("div",{className:"".concat(d,"-tree-container")},L().createElement(Fr,{data:U,checkable:!0,onCheck:function(e,t){t.checked,t.node,t.event;var n=g()(W).call(W,(function(t){return ee()(e).call(e,t.id)&&(0,Ie.isUndefined)(t.children)}));X(Ue()(n).call(n,(function(e){return e.id})))},checkedKeys:Y})))},L().createElement("div",{className:re()("".concat(C,"-add"),{disabled:E}),onClick:function(){E||N(!0)}},L().createElement(R.Icon,{type:"add"}),(0,D.getLangMsg)("ruled.clientSetFieldfmt.key0001")))),L().createElement("div",{className:"".concat(C,"-body")},Ue()(j).call(j,(function(e){var t,n,r,o,i,u,c=e.ForeColor,s=e.BackgroundColor,l=e.FontSize,f=e.ValueForeColor,d=e.ValueFontSize,p=e.ValueBackgroundColor,v=e.Id,y=se()(K).call(K,(function(e){return e.id===v}));if(!y)return null;var b=y.text,w=y.id;return L().createElement("div",{className:re()("".concat(C,"-field-form"),{disabled:E}),key:w},L().createElement("div",{className:"".concat(C,"-field-header")},L().createElement("div",{className:"".concat(C,"-field-name")},b),L().createElement(R.Icon,{prefix:"designericon",type:"shanchu",onClick:function(){return function(e){if(!E){var t=g()(Y).call(Y,(function(t){return t!==e})),n=g()(K).call(K,(function(t){return t.id!==e}));X(t);var r=Ue()(n).call(n,(function(e){var t=se()(j).call(j,(function(t){return t.Id===e.id})),n={_Type_:"DisplayStyle",FontSize:"12",Id:e.id,ForeColor:null,BackgroundColor:null,ValueFontSize:"12",ValueForeColor:null,ValueBackgroundColor:null};return t||n}));F(r),x.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{DisplayStyles:r}]]))}}(w)}})),L().createElement("div",{className:"".concat(C,"-field-form-item")},L().createElement("div",{className:P()(t="".concat(C,"-field-form-item-block ")).call(t,C,"-field-form-item-ffsetting")},L().createElement("div",{className:"".concat(C,"-field-form-label")},(0,D.getLangMsg)("ruled.clientSetFieldfmt.key0002")),L().createElement(R.Input,{borderType:"bordered",value:l,disabled:E,onChange:function(e){return Z("FontSize",e,w)}})),L().createElement("div",{className:P()(n="".concat(C,"-field-form-item-block ")).call(n,C,"-field-form-item-fontcolor")},L().createElement("div",{className:"".concat(C,"-field-form-label")},(0,D.getLangMsg)("ruled.clientSetFieldfmt.key0003")),L().createElement(Zr,{className:"".concat(C,"-field-form-coloreditor"),disabled:E,hideThemeBtn:!0,hideAlphaInput:!0,type:"foreColor",value:c,handleChange:function(e){return q("ForeColor",e,w)}})),L().createElement("div",{className:P()(r="".concat(C,"-field-form-item-block ")).call(r,C,"-field-form-item-bgcolor")},L().createElement("div",{className:"".concat(C,"-field-form-label")},(0,D.getLangMsg)("ruled.clientSetFieldfmt.key0004")),L().createElement(Zr,{className:"".concat(C,"-field-form-coloreditor"),disabled:E,hideThemeBtn:!0,hideAlphaInput:!0,type:"backgroundColor",value:s,handleChange:function(e){return q("BackgroundColor",e,w)}}))),function(){var e=m(),t=g()(e).call(e,(function(e){return e.Id===h}));if(t.length){var n=t[0]._Type_,r=["CardRowPanelAp","CardEntryRowAp"];return ee()(r).call(r,n)}return!1}()&&L().createElement("div",{className:"".concat(C,"-field-form-item")},L().createElement("div",{className:P()(o="".concat(C,"-field-form-item-block ")).call(o,C,"-field-form-item-ffsetting")},L().createElement("div",{className:"".concat(C,"-field-form-label")},(0,D.getLangMsg)("ruled.clientSetFieldfmt.key0005")),L().createElement(R.Input,{borderType:"bordered",value:d,disabled:E,onChange:function(e){return Z("ValueFontSize",e,w)}})),L().createElement("div",{className:P()(i="".concat(C,"-field-form-item-block ")).call(i,C,"-field-form-item-fontcolor")},L().createElement("div",{className:"".concat(C,"-field-form-label")},(0,D.getLangMsg)("ruled.clientSetFieldfmt.key0006")),L().createElement(Zr,{className:"".concat(C,"-field-form-coloreditor"),disabled:E,hideThemeBtn:!0,hideAlphaInput:!0,type:"foreColor",value:f,handleChange:function(e){return q("ValueForeColor",e,w)}})),L().createElement("div",{className:P()(u="".concat(C,"-field-form-item-block ")).call(u,C,"-field-form-item-bgcolor")},L().createElement("div",{className:"".concat(C,"-field-form-label")},(0,D.getLangMsg)("ruled.clientSetFieldfmt.key0007")),L().createElement(Zr,{className:"".concat(C,"-field-form-coloreditor"),disabled:E,hideThemeBtn:!0,hideAlphaInput:!0,type:"backgroundColor",value:p,handleChange:function(e){return q("ValueBackgroundColor",e,w)}}))))}))))};function eo(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=eo(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=eo(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var no=function(e){var t=e.className,n=e.editor,r=e.Name,o=e.Tips,i=e.field,a=e.id,u=n.NameHidden,c=n.Required,s=(0,I.useContext)(H),l=s.getKdesignerApi,f=s.getPrefixCls,d=s.prefixCls,p=s.ruleMetaInfo,h=s.activeRuleNodeId,v=s.isLockRule,m=i.ClientProperties,y=void 0===m?[]:m,b=i.ActionType,w=l().data,x=f&&f(d,"setField-editor"),C=v(),E=(0,I.useState)(!1),S=(0,O.c)(E,2),_=S[0],k=S[1],A=(0,I.useState)(!1),N=(0,O.c)(A,2),M=N[0],T=N[1],j=(0,I.useState)(!1),F=(0,O.c)(j,2),B=F[0],U=F[1],W=(0,I.useRef)(null),V=((0,I.useRef)(null),(0,I.useRef)(null),(0,I.useRef)(null)),G=(0,I.useRef)(y);(0,I.useEffect)((function(){M&&B||k(!1)}),[M,B]);var Y=(0,I.useMemo)((function(){return lt(p,h,b)}),[p,h,b]),X=(0,I.useMemo)((function(){return ft(Y)}),[Y]),K=(0,I.useState)({}),q=(0,O.c)(K,2),Z=q[0],Q=q[1],J=(0,I.useState)((function(){return Ue()(y).call(y,(function(e){var t=se()(X).call(X,(function(t){return t.id===e.Id}));return to(to({},e),{},{Text:null==t?void 0:t.text,Ref:L().createRef()})}))})),$=(0,O.c)(J,2),ee=$[0],te=$[1];(0,I.useEffect)((function(){if(!(0,Ie.isEqual)(y,G.current)){var e=Ue()(y).call(y,(function(e){var t=se()(X).call(X,(function(t){return t.id===e.Id}));return to(to({},e),{},{Text:null==t?void 0:t.text,Ref:L().createRef()})}));te(e),G.current=y}}),[y]),(0,I.useEffect)((function(){Z.Id&&V.current&&V.current.focus()}),[Z.Id]);var ne=function(e,t,n){var r=se()(ee).call(ee,(function(e){return e.Id===t.id}));Q(r||{Id:t.id,PropertyName:"",PropertyValue:"",_Type_:"ClientProperty",Text:t.title,Ref:L().createRef()}),k(!1)},oe=function(){var e,t=!1,n=Ue()(ee).call(ee,(function(e){return e.Id===Z.Id&&(e=Z,t=!0),e}));t||(n=P()(e=[]).call(e,(0,z.c)(ee),[Z]));if((0,Ie.isEqual)(n,ee))return T(!1),U(!1),void Q({});te(n),w.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{ClientProperties:Ue()(n).call(n,(function(e){return delete e.Text,delete e.Ref,e}))}]])).then((function(){T(!1),U(!1),Q({})}))},ie=(0,I.useCallback)((function(e,t){C||(Q(t),U(t.Id))}),[]),ae=(0,I.useCallback)((function(e){var t=e.Id;if(!C){var n=g()(ee).call(ee,(function(e){return e.Id!==t}));te(n),w.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[a,{ClientProperties:Ue()(n).call(n,(function(e){return delete e.Text,e}))}]]))}}),[ee]),ue=(0,I.useCallback)((function(e,t){var n,r=to({},Z),o=null===(n=e.target)||void 0===n||null===(n=n.value)||void 0===n?void 0:Ln()(n).call(n);"name"===t?r.PropertyName=o:"value"===t&&(r.PropertyValue=o),Q(r)}),[Z]),ce=function(e,t,n){return L().createElement(Cr,{visible:t,triggerRef:e,setVisible:n,onCancel:function(){n(!1)},onConfirm:oe},L().createElement("div",{className:"".concat(x,"-container")},L().createElement(Er,{label:(0,D.getLangMsg)("ruled.clientSetField.key0001"),prefixCls:d},L().createElement(R.Tooltip,{popperClassName:"".concat(d,"-tooltip-popper"),visible:_,onVisibleChange:function(e){return k(e)},trigger:"click",placement:"bottomRight",tip:L().createElement("div",{className:"".concat(d,"-tree-select-popper")},L().createElement(Fr,{className:"".concat(d,"-container-searchtree"),data:Y,onSelect:ne,selectedNodeKeys:[null==Z?void 0:Z.Id],expandAll:!0}))},L().createElement("div",{className:"".concat(x,"-container-select")},L().createElement("span",null,null!=Z&&Z.Text?Z.Text:""),L().createElement(R.Icon,{type:_?"arrow-up":"arrow-down"})))),L().createElement(Er,{label:(0,D.getLangMsg)("ruled.clientSetField.key0002"),prefixCls:d},L().createElement(R.Input,{className:"".concat(x,"-container-input"),ref:V,disabled:!(null!=Z&&Z.Text),borderType:"bordered",onChange:function(e){return ue(e,"name")},value:Z.PropertyName})),L().createElement(Er,{label:(0,D.getLangMsg)("ruled.clientSetField.key0003"),prefixCls:d},L().createElement(R.Input,{className:"".concat(x,"-container-input"),disabled:!(null!=Z&&Z.Text),borderType:"bordered",onChange:function(e){return ue(e,"value")},value:Z.PropertyValue}))))};return L().createElement(L().Fragment,null,L().createElement("div",{className:"".concat(x,"-header")},L().createElement(D.NameTipWrapper,{nameHidden:u,className:t,name:r,tips:o,required:c}),L().createElement(R.Tooltip,{ref:W,visible:M,placement:"bottomRight",popperClassName:"".concat(d,"-fields-add-panel-popper"),tip:ce(W,M,T)},L().createElement("div",{className:re()("".concat(x,"-add"),{disabled:C}),onClick:function(){C||(T(!0),Q({}))}},L().createElement(R.Icon,{type:"add"}),(0,D.getLangMsg)("ruled.clientSetField.key0004")))),L().createElement("div",{className:"".concat(x,"-body")},Ue()(ee).call(ee,(function(e){var t=e.Text,n=e.Id,r=e.PropertyName,o=e.PropertyValue;return L().createElement("div",{className:re()("".concat(x,"-item"),{disabled:C}),key:n},L().createElement(R.Tooltip,{ref:e.Ref,visible:B===n,placement:"bottomRight",popperClassName:"".concat(d,"-fields-add-panel-popper"),scrollHidden:!0,tip:ce(e.Ref,B===n,U)},L().createElement("div",{className:"".concat(x,"-item-header")},L().createElement("p",null,t),L().createElement("div",{className:"".concat(x,"-item-header-right")},L().createElement(R.Icon,{className:"".concat(x,"-item-header-right-icon"),type:"edit",onClick:function(t){return ie(t,e)}}),L().createElement(R.Icon,{className:"".concat(x,"-item-header-right-icon"),type:"delete",onClick:function(){return ae(e)}})))),L().createElement("p",{className:"".concat(x,"-item-text")},L().createElement("label",null,(0,D.getLangMsg)("ruled.clientSetField.key0002")),L().createElement("span",null,r)),L().createElement("p",{className:"".concat(x,"-item-text")},L().createElement("label",null,(0,D.getLangMsg)("ruled.clientSetField.key0003")),L().createElement("span",null,o)))}))))},ro=function(e){var t=e.onClick,n=e.className,r=e.editor,o=e.Name,i=e.Tips,a=e.value,u=e.disabled,c=r.NameHidden,s=r.Required;return L().createElement(L().Fragment,null,L().createElement(D.NameTipWrapper,{nameHidden:c,className:n,name:o,tips:i,required:s}),L().createElement(R.Input,{className:"".concat(n,"-custom-input"),borderType:"bordered",readOnly:!0,value:a,disabled:u,suffix:!u&&L().createElement(R.Icon,{prefix:"designericon",type:"gengduo",style:{cursor:"pointer"},onClick:t})}))},oo=n(41256),io=n.n(oo),ao=n(6908),uo=n.n(ao),co=n(71536),so=n.n(co),lo=n(18232),fo=["(",")","()","Backspace","CLR"],po=/{{Field id="([^"]+)" text="([^"]+)"}}/,ho=/{{Field id="([^"]+)" text="([^"]+)"}}/g;n(7947),n(12848),n(92004),n(80760),n(23360),n(87376);function vo(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=vo(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=vo(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}function mo(e,t){var n=void 0!==at()&&ct()(e)||e["@@iterator"];if(!n){if(ue()(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return yo(e,t);var r=nt()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return ot()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bo={mode:{name:"custom"},autoCloseBrackets:!0,autofocus:!0,styleActiveLine:!0,lineNumbers:!0,smartIndent:!0,matchBrackets:!0,lineWrapping:!1,singleCursorHeightPerLine:!0,placeholder:""},wo=(0,I.forwardRef)((function(e,t){var n,r,o,i=e.value,a=e.expressionData,u=e.operations,c=e.treeData,s=e.onClickField,l=ft(c),f=uo()(n=g()(l).call(l,(function(e){return(0,Ie.isUndefined)(e.children)}))).call(n,(function(e,t){return t.id.length-e.id.length})),d=(0,I.useContext)(H),p=d.invokeAction,h=d.getEncodeValue,v=(0,I.useState)(""),m=(0,O.c)(v,2),y=m[0],b=m[1],w=(0,I.useRef)(null),x=(0,I.useRef)([]),C=(0,I.useRef)("safari"==(r=navigator.userAgent,(o=function(e){return r.match(e)})(/Trident\/(\d+)/)?"ie":o(/Firefox\/(\d+)/)?"firefox":o(/Edge?\/(\d+)/)?"edge":o(/Chrome\/(\d+)/)?"chrome":o(/Safari\/(\d+)/)?"safari":"unknow")),E=(0,I.useMemo)((function(){var e,t=[],n=mo(a);try{for(n.s();!(e=n.n()).done;){var r=e.value.types,o=Ue()(r).call(r,(function(e){return e.id}));t.push.apply(t,(0,z.c)(o))}}catch(e){n.e(e)}finally{n.f()}return t}),[a]),S=(0,I.useMemo)((function(){return g()(u).call(u,(function(e){return!ee()(fo).call(fo,e)}))}),[u]),_=(0,I.useMemo)((function(){return function(e,t){return{name:"custom",fn:function(){var n=uo()(e).call(e,(function(e,t){return t.length-e.length}));t=Ue()(t).call(t,(function(e){return e.toLowerCase()}));var r=g()(t).call(t,(function(e){return!/^\w+\s*\w*/.test(e)})),o=g()(t).call(t,(function(e){return/^\w+\s*\w*/.test(e)}));function i(e,t){if(t.beforeParams=!1,e.match(/\w+(?=\(.*\))/)){e.eatWhile(/\w+/);var i=e.current();return ee()(n).call(n,i)?"expression-style":null}if(e.match(/\w+/)){var a=e.current();return ee()(o).call(o,a.toLowerCase())?"operation-style":null}for(var u=0;u<r.length;u++)if(e.match(r[u]))return"operation-style";return e.next(),null}return{startState:function(){return{tokenize:i,beforeParams:!1,inParams:!1}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)}}}}}(E,S)}),[E,S]);(0,I.useImperativeHandle)(t,(function(){return{insertText:k,getEditorValue:function(){return(0,Ie.trimStart)(y)},getEditor:function(){return w.current.editor}}})),(0,I.useEffect)((function(){return D.eventBus.on("setFunctionParam",k),function(){D.eventBus.off("setFunctionParam",k)}}),[]);var k=function(e){var t=w.current.editor,n=t.getCursor();n.line;e=0!==n.ch?" ".concat(e," "):"".concat(e," "),t.replaceRange(e,n),Pn()((function(){t.refresh(),t.focus(),t.scrollIntoView(null)}),0)},A=function(e,t,n,r){for(var o=e.getSearchCursor(n,t,{multiline:"disable"});o.findNext();){if(0===e.findMarks(o.from(),o.to()).length){var i=o.from(),a=o.to();e.replaceRange(r,i,a)}}},N=function(e,t){for(var n=e.getSearchCursor(po,t,{multiline:"disable"});n.findNext();){if(0===e.findMarks(n.from(),n.to()).length){var r=n.from(),o=n.to(),i=e.getRange(r,o).match(po),a=document.createElement("div");a.setAttribute("class","tag"),a.setAttribute("data-id",i[1]),a.setAttribute("data-text",i[2]),x.current.push(a),e.markText(r,o,{replacedWith:a})}}},M=function(e){var t,n=!1;x.current=g()(t=x.current).call(t,(function(e){if(e.ownerDocument.body.contains(e)){if(!e.dataset.__react_rendered){var t=e.dataset.id,r=e.dataset.text;e.dataset.__react_rendered="1",so().render(L().createElement(xo,{id:t,text:r,onClickField:s}),e),n=!0}return!0}return e.dataset.__react_rendered&&so().unmountComponentAtNode(e),!1})),n&&e.refresh()};return bo.placeholder=(0,D.getLangMsg)("ruled.editArea.key0001"),L().createElement("div",{className:"code-edit"},L().createElement(lo.Mf,{ref:w,value:y,options:bo,defineMode:_,onBeforeChange:function(e,t,n){b(n)},onChange:function(e,t,n){var r,o=go(go({},t.from),{},{ch:0}),i=mo(f);try{for(i.s();!(r=i.n()).done;){var a,u=r.value,c=u.id,s=u.longText.replace(/(\S+)\(\S+\)/g,"$1"),l=C.current?new RegExp("\\s*(".concat(c,")\\s")):new RegExp("(?<!\\S)(".concat(c,")(?=\\s)")),d=P()(a='{{Field id="'.concat(c,'" text="')).call(a,s,'"}}');A(e,o,l,d)}}catch(e){i.e(e)}finally{i.f()}N(e,o)},editorDidMount:function(e){var t,n=i,r=mo(f);try{for(r.s();!(t=r.n()).done;){var o,a=t.value,u=a.id,c=a.longText.replace(/(\S+)\(\S+\)/g,"$1"),s=P()(o='{{Field id="'.concat(u,'" text="')).call(o,c,'"}}'),l=C.current?new RegExp('[^\\w|\\d|\\.|="|\\n]*(?:('.concat(u,'))[^\\w|\\d|"|\\n]*'),"g"):new RegExp('(?<!\\w|\\d|\\.|=")('.concat(u,')(?!\\w|\\d|")'),"g");n=n.replace(l,s)}}catch(e){r.e(e)}finally{r.f()}var d=Pn()((function(){clearTimeout(d),e.setValue(n),e.setCursor(e.lineCount(),0)}),0)},onUpdate:function(e){M(e)}}),L().createElement("div",{className:re()(["check-btn",{disabled:""===y}]),onClick:function(){if(""!==y){var e=h((0,Ie.trimStart)(y));p("validateFormula",[e])}}},(0,D.getLangMsg)("ruled.editArea.key0002")))}));function xo(e){var t=e.text,n=e.id,r=e.onClickField;return L().createElement("span",{onClick:function(){return r(n)}},t)}var Co=wo,Eo=function(e){var t=e.operations,n=e.onOperationClick;return L().createElement("div",{className:"condition-operator"},Ue()(t).call(t,(function(e){return L().createElement("div",{className:"operation-item",key:e,onClick:function(){return n(e)}},e)})))};function So(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=So(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=So(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var ko=function(e){var t=e.description,n=e.alertData,r=e.setAlertData;return L().createElement("div",{className:"note-area"},n.visible&&L().createElement(R.Alert,{message:n.msg,showIcon:!0,closable:!0,type:n.type,delayOffTime:"success"===n.type?1e3:0,onClose:function(){return r((function(e){return _o(_o({},e),{},{visible:!1})}))}}),t?L().createElement("div",{className:"description-content"},t):L().createElement("div",{className:"description-content"},(0,D.getLangMsg)("ruled.editors.key0001"),L().createElement("br",null),(0,D.getLangMsg)("ruled.editors.key0002"),L().createElement("br",null),(0,D.getLangMsg)("ruled.editors.key0003"),L().createElement("br",null),(0,D.getLangMsg)("ruled.editors.key0004")))};function Ao(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Ao(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Ao(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}function No(e){var t=e.className,n=(0,D.getLangMsg)("ruled.expressionTree.key0001");return L().createElement("div",{className:"".concat(t,"-empty")},L().createElement("img",{className:"".concat(t,"-empty-img"),src:kr,height:"72",alt:n}),L().createElement("div",{className:"".concat(t,"-empty-text")},n))}var Mo=function(e){var t=e.data,n=e.onSelect,r=e.onShowDescription,o=(0,I.useState)(""),i=(0,O.c)(o,2),a=i[0],u=i[1],c=(0,I.useState)(null),s=(0,O.c)(c,2),l=s[0],f=s[1],d=(0,I.useState)(""),p=(0,O.c)(d,2),h=p[0],v=p[1],m=(0,I.useState)(t),y=(0,O.c)(m,2),b=y[0],w=y[1];return L().createElement("div",{className:"kd-expression-tree-wrap"},L().createElement(R.Input,{style:{marginBottom:9,width:"100%"},value:a,placeholder:(0,D.getLangMsg)("ruled.expressionTree.key0002"),borderType:"bordered",onChange:function(e){var n=e.target.value;u(n),w((function(){var e=function(e,t){var n;return g()(n=Ue()(e).call(e,(function(e){var n=e.types,r=g()(n).call(n,(function(e){var n;return ee()(n=e.name).call(n,t)}));return r.length?Oo(Oo({},e),{},{types:r}):null}))).call(n,Boolean)}(t,n);return e}))},allowClear:!0,prefix:L().createElement("div",null,L().createElement(R.Icon,{type:"search",style:{cursor:"pointer"}}))}),!a||null!=b&&b.length?L().createElement("div",{className:"kd-expression-tree"},L().createElement("div",{className:"kd-expression-tree-body"},Ue()(b).call(b,(function(e){var t=e.types,o=e.name;return L().createElement(R.Collapse,{name:"Collapse",key:e.id,defaultActiveKey:e.id},L().createElement(R.Collapse.Panel,{header:o,panelKey:e.id},Ue()(t).call(t,(function(t){var o;return L().createElement("div",{key:P()(o="".concat(e.id,"-")).call(o,t.key),className:re()(["expression-item",{"is-active":t.id===h}]),onClick:function(){return function(e){var t=e.id,o=e.desc;n(e),v(t),f(o),r(o)}(t)},onMouseOver:function(){return r(t.desc)},onMouseLeave:function(){return r(l)}},t.name||"")}))))})))):L().createElement(No,{className:"left-datasource"}))};function To(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=To(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=To(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var Io=(0,I.forwardRef)((function(e,t){var n=e.value,r=e.actionType,o=e.className,i=e.showDefinitionId,a=(e.setCheckboxVisible,e.confirmCallback),u=(0,I.useState)(null),c=(0,O.c)(u,2),s=c[0],l=c[1],f=(0,I.useState)(""),d=(0,O.c)(f,2),p=d[0],h=d[1],v=(0,I.useContext)(H),g=v.ruleMetaInfo,m=v.activeRuleNodeId,y=v.invokeAction,b=(0,I.useRef)(null),w=(0,I.useRef)(null),x=(0,I.useMemo)((function(){return lt(g,m,r)}),[g,m]),C=(0,I.useMemo)((function(){return g[0].functionTypes}),[g]),E=(0,I.useMemo)((function(){var e=g[0].functionOperations;return io()(e)}),[g]),S=(0,I.useState)({visible:!1,msg:"",type:"success"}),_=(0,O.c)(S,2),k=_[0],A=_[1],N=(0,I.useRef)(null),M=(0,I.useRef)(!1);(0,I.useImperativeHandle)(t,(function(){return{getEditorValue:function(){var e;return null===(e=w.current)||void 0===e?void 0:e.getEditorValue()},setIsClickConfirmBtn:function(e){M.current=e}}})),(0,I.useEffect)((function(){return D.eventBus.on("validateFormula",T),function(){D.eventBus.off("validateFormula",T)}}),[]);var T=function(e){var t=e.result,n=e.msg;A((function(){return{type:"fail"===t?"error":"success",visible:!0,msg:n}})),"success"===t&&(N.current=Pn()((function(){N.current&&clearTimeout(N.current),A((function(e){return Po(Po({},e),{},{visible:!1})}))}),1100)),M.current&&(M.current=!1,"success"===t&&a())},j=(0,I.useCallback)((function(e){var t;null===(t=w.current)||void 0===t||t.insertText(e)}),[w.current]),R=(0,I.useCallback)((function(e){var t,n=null===(t=w.current)||void 0===t?void 0:t.getEditor();"Backspace"===e?(n.execCommand("delCharBefore"),n.refresh(),n.focus()):"CLR"===e?(n.setValue(""),n.focus()):j(e)}),[j]),F=(0,I.useCallback)((function(e,t,n){var r,o,i=t.longText,a=t.id,u=i.replace(/(\S+)\(\S+\)/g,"$1"),c=P()(r='{{Field id="'.concat(a,'" text="')).call(r,u,'"}}');null===(o=w.current)||void 0===o||o.insertText(c)}),[w.current]),z=(0,I.useCallback)((function(e){var t=e.settingFormId,n=e.id,r=(null==x?void 0:x[0])||{};t?y("showFunctionSetting",[n,Ut()(r)]):j("".concat(n,"()"))}),[y,j,x]),B=(0,I.useCallback)((function(e){var t,n;"1"!==(null===(t=b.current)||void 0===t?void 0:t.getCurTab())?(null===(n=b.current)||void 0===n||n.setCurTab("1"),Pn()((function(){h(e)}),0)):h(e)}),[b.current]);return L().createElement("div",{className:"".concat(o,"-body")},L().createElement("div",{className:"panel-aside"},L().createElement("div",{className:"panel-aside-header"},(0,D.getLangMsg)("ruled.conditionModal.key0001")),L().createElement("div",{className:"panel-aside-main"},L().createElement(Fr,{placeholder:(0,D.getLangMsg)("ruled.conditionModal.key0002"),data:x,showDefinitionId:i,onSelect:F,scrollToKey:p}))),L().createElement("div",{className:"panel-main"},L().createElement(Eo,{operations:E,onOperationClick:R}),L().createElement(Co,{ref:w,value:n,expressionData:C,operations:E,treeData:x,onClickField:B}),L().createElement(ko,{description:s,alertData:k,setAlertData:A})),L().createElement("div",{className:"panel-aside"},L().createElement("div",{className:"panel-aside-header"},(0,D.getLangMsg)("ruled.conditionModal.key0003")),L().createElement("div",{className:"panel-aside-main"},L().createElement(Mo,{data:C,onSelect:z,onShowDescription:l}))))})),Lo=function(e){var t=e.value,n=e.modalTitle,r=e.actionType,o=e.visible,i=e.setVisible,a=e.onConfirm,u=(0,I.useState)(!0),c=(0,O.c)(u,2),s=c[0],l=c[1],f=(0,I.useState)(!1),d=(0,O.c)(f,2),p=d[0],h=d[1],v=(0,I.useRef)(null),g=(0,I.useContext)(H),m=g.getPrefixCls,y=g.prefixCls,b=g.invokeAction,w=g.getEncodeValue,x=m&&m(y,"condition-modal"),C=(0,I.useCallback)((function(){var e,t=null===(e=v.current)||void 0===e?void 0:e.getEditorValue();a(t),i(!1)}),[v.current,i,a]),E=L().createElement(L().Fragment,null,s&&L().createElement(R.Checkbox,{className:"".concat(x,"-footer-checkbox"),checked:p,onChange:function(e){var t=!!e.target.checked;h(t)}},(0,D.getLangMsg)("ruled.conditionModal.key0004")),L().createElement("div",{className:"".concat(x,"-footer-btns")},L().createElement(R.Button,{onClick:function(){return i(!1)},type:"second",className:"".concat(x,"-cancel-btn")},(0,D.getLangMsg)("ruled.conditionModal.key0006")),L().createElement(R.Button,{onClick:function(){var e,t,n=null===(e=v.current)||void 0===e?void 0:e.getEditorValue();b("validateFormula",[w(n)]),null===(t=v.current)||void 0===t||t.setIsClickConfirmBtn(!0)},type:"primary",className:"".concat(x,"-ok-btn")},(0,D.getLangMsg)("ruled.conditionModal.key0005"))));return L().createElement(R.Modal,{body:L().createElement(Io,{ref:v,value:t,className:x,actionType:r,showDefinitionId:p,setCheckboxVisible:l,confirmCallback:C}),bodyStyle:{justifyContent:"start",alignItems:"start",overflowX:"hidden",overflowY:"auto",flexDirection:"column"},titleIcon:null,className:x,footer:E,maskClosable:!1,width:1e3,height:614,title:n||(0,D.getLangMsg)("ruled.conditionModal.key0007"),closable:!0,destroyOnClose:!0,onCancel:function(){return i(!1)},onOk:function(){return i(!1)},mask:!0,visible:o})},Do=function(e){var t=e.field,n=e.id,r=e.propName,o=e.actionType,i=e.modalTitle,a=e.locked,u=t[r]||"",c=(0,I.useState)(!1),s=(0,O.c)(c,2),l=s[0],f=s[1],d=(0,(0,I.useContext)(H).getKdesignerApi)().data,p=(0,I.useCallback)((function(e){var t=e.replace(ho,"$1");d.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[n,(0,A.c)({},r,t)]]))}),[]);return L().createElement(L().Fragment,null,L().createElement(ro,(0,F.c)({},e,{disabled:a,value:u,onClick:function(){a||f(!0)}})),L().createElement(Lo,{value:u,actionType:o,modalTitle:i,visible:l,setVisible:f,onConfirm:p}))},jo=function(e){var t=(0,(0,I.useContext)(H).isLockRule)();return L().createElement(Do,(0,F.c)({},e,{locked:t,actionType:"FormulaAction",propName:"Expression",modalTitle:(0,D.getLangMsg)("ruled.formula.key0001")}))},Ro=function(e){var t=(0,(0,I.useContext)(H).isLockRule)();return L().createElement(Do,(0,F.c)({},e,{locked:t,actionType:"PreCondition",propName:"PreCondition"}))};function Fo(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Fo(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Fo(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var Bo=["__Type__","_Type_","Type","RET","ParentId","NodeType","Id","Description","ActionType"],Uo=function(e){var t,n=e.field,r=e.id,o=(t=zo({},n),w()(Bo).call(Bo,(function(e){delete t[e]})),M()(t).length?Ut()(t):""),i=n.ActionType,a=(0,I.useContext)(H),u=a.getKdesignerApi,c=a.invokeAction,s=a.metaType,l=a.activeRuleNodeId,f=a.ruleMetaInfo,d=a.isLockRule,p=u().data,h=d();(0,I.useEffect)((function(){return D.eventBus.on("setCustomRuleAction",v),function(){D.eventBus.off("setCustomRuleAction",v)}}),[]);var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||{},p.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[r,zo({},e)]]))};return L().createElement(L().Fragment,null,L().createElement(ro,(0,F.c)({},e,{disabled:h,value:o,onClick:function(){var e=f[0].serviceType,t=se()(e).call(e,(function(e){return e.metaClass===i})),r={metaType:s,treeNodeId:l,serviceType:t,value:n};c("showCustomRuleServiceSetting",[Ut()(r)])}})))};function Wo(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Wo(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Wo(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var Vo=function(e){var t,n,r,o=e.field,i=e.id,a=(0,I.useContext)(H),u=a.getKdesignerApi,c=a.getPrefixCls,s=a.prefixCls,l=a.isLockRule,f=o.DisplayStyles,d=void 0===f?[]:f,p=u().data,h=c&&c(s,"checkFields-editor"),v=l(),g=(0,I.useState)(d[0]||{_Type_:"DisplayStyle",FontSize:"12",Id:"RowFormatSet",ForeColor:null,BackgroundColor:null}),m=(0,O.c)(g,2),y=m[0],b=m[1],w=(0,I.useRef)(null),x=function(e,t){var n=Ho(Ho({},y),{},(0,A.c)({},e,t));b(n),p.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[i,{DisplayStyles:[n]}]]))},C=y.ForeColor,E=y.BackgroundColor,S=y.FontSize;return L().createElement("div",{className:"".concat(h,"-body")},L().createElement("div",{className:re()("".concat(h,"-field-form"),{disabled:v})},L().createElement("div",{className:"".concat(h,"-field-header")},L().createElement("div",{className:"".concat(h,"-field-name")},(0,D.getLangMsg)("ruled.clientSetRowFmt.key0001"))),L().createElement("div",{className:"".concat(h,"-field-form-item")},L().createElement("div",{className:P()(t="".concat(h,"-field-form-item-block ")).call(t,h,"-field-form-item-ffsetting")},L().createElement("div",{className:"".concat(h,"-field-form-label")},(0,D.getLangMsg)("ruled.clientSetRowFmt.key0002")),L().createElement(R.Input,{borderType:"bordered",value:S,disabled:v,onChange:function(e){var t,n=e.target.value,r=Ho(Ho({},y),{},{FontSize:n});b(r),t=[r],w.current&&clearTimeout(w.current),w.current=Pn()((function(){w.current=null,p.batchUpdateControlPropertyValues((0,D.createUpdateAction)([[i,{DisplayStyles:t}]]))}),300)}})),L().createElement("div",{className:P()(n="".concat(h,"-field-form-item-block ")).call(n,h,"-field-form-item-fontcolor")},L().createElement("div",{className:"".concat(h,"-field-form-label")},(0,D.getLangMsg)("ruled.clientSetRowFmt.key0003")),L().createElement(Zr,{className:"".concat(h,"-field-form-coloreditor"),disabled:v,hideThemeBtn:!0,hideAlphaInput:!0,type:"foreColor",value:C,handleChange:function(e){return x("ForeColor",e)}})),L().createElement("div",{className:P()(r="".concat(h,"-field-form-item-block ")).call(r,h,"-field-form-item-bgcolor")},L().createElement("div",{className:"".concat(h,"-field-form-label")},(0,D.getLangMsg)("ruled.clientSetRowFmt.key0004")),L().createElement(Zr,{className:"".concat(h,"-field-form-coloreditor"),disabled:v,hideThemeBtn:!0,hideAlphaInput:!0,type:"backgroundColor",value:E,handleChange:function(e){return x("BackgroundColor",e)}})))))},Go=function(){var e=[],t=[[o,"TakeBasePropertyAction"],[r,"SetEqutionAction"],[i,"FillQtyAction"],[a,"ClearValueAction"],[u,"LockFieldAction"],[u,"UnlockFieldAction"],[u,"ShowFieldAction"],[u,"HideFieldAction"],[u,"LockControlAction"],[u,"UnlockControlAction"],[u,"ShowControlAction"],[u,"HideControlAction"],[u,"ClientLockFieldAction"],[u,"ClientUnlockFieldAction"],[u,"ClientShowFieldAction"],[u,"ClientHideFieldAction"],[u,"ClientLockControlAction"],[u,"ClientUnlockControlAction"],[u,"ClientShowControlAction"],[u,"ClientHideControlAction"],[c,"ClientSetFieldfmtAction"],[s,"ClientSetFieldAction"],[s,"ClientSetControlAction"],[l,"FormulaAction"],[f,"ConditionNode"],[d,"ClientSetRowFmtAction"]];return w()(t).call(t,(function(t){var n,r=(0,O.c)(t,2),o=r[0],i=r[1];w()(n=M()(o)).call(n,(function(t){e.push([t,o[t],i])})),e.push(["CustomInput",Uo,""])})),e};n(10936);function Yo(e,t){var n=M()(e);if(h()){var r=h()(e);t&&(r=g()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?w()(n=Yo(Object(o),!0)).call(n,(function(t){(0,A.c)(e,t,o[t])})):C()?S()(e,C()(o)):w()(r=Yo(Object(o))).call(r,(function(t){k()(e,t,y()(o,t))}))}return e}var Ko=(0,I.memo)((0,I.forwardRef)((function(e,t){var n,r=e.data,o=void 0===r?{}:r,i=e.meta,a=void 0===i?{}:i,u=e.onData,c=e.showMessage,s=void 0===c?function(e){}:c,l=e.handleCustomInputEditor,f=void 0===l?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}:l,d=e.invokeAction,p=void 0===d?function(e,t){}:d,h=e.getEncodeValue,v=void 0===h?function(e){return e}:h,g=e.ruleMetaInfo,m=void 0===g?{}:g,y=e.metaType,b=e.selectMetaType,x=void 0===b?y:b,C=e.onApi,E=e.getLangMsg,S=(0,I.useRef)(null),_=(0,I.useRef)(o),k=(0,I.useRef)(null),A=(0,I.useState)(""),N=(0,O.c)(A,2),T=N[0],j=N[1],z=(0,I.useState)(""),B=(0,O.c)(z,2),U=B[0],W=B[1],V=(0,I.useCallback)((function(e){return e}),[]);(0,I.useImperativeHandle)(t,(function(){return{}}));var G=M()((null===(n=m[0])||void 0===n?void 0:n.entity)||{}),Y="formmeta"===y?["BillFormAp","BasedataFormAp","EntryAp","CardEntryRowAp","ListGridViewAp","CardEntryAp","FormAp"]:["BaseEntity","BillEntity","EntryEntity","SubEntryEntity"],X=(0,I.useState)((function(){return Jt(o,Y,G,y)})),K=(0,O.c)(X,2),q=(0,O.c)(K[0],2),Z=q[0],Q=q[1],J=(K[1],(0,I.useRef)(Z)),$=wt(0,m,T,0,U);D.ControlView.tabName=E("ruled.views.key0001"),or.tabName=E("ruled.leftPanel.key0002"),sr.tabName=E("ruled.rightPanel.key0005");var te=(0,I.useCallback)((function(e){switch(e){case"main":return{main:Mn};case"left":return{control:or};case"right":return{property:sr};default:return{}}}),[]),ne=(0,I.useCallback)((function(e,t,n){f(e,t,n)}),[f]),re=(0,I.useCallback)((function(){return L().createElement("div",{className:"rule-designer-empty-node"},E("ruled.views.key0002"))}),[]),oe=(0,I.useCallback)((function(){return L().createElement("div",{className:"rule-designer-empty-node"},E("ruled.views.key0002"))}),[]),ie=(0,I.useMemo)((function(){return{showMessage:s,getViews:te,processPropertyName:V,keywordMapping:{id:"Id",type:"Type",name:"Name",key:"Key",items:"Items",parentId:"ParentId"},enableSearch:!1,dataPortalIdPrefix:"rule-designer-top-view",enableDiffDefaultData:!1,controlViewSetting:{showCollapseTop:!1,hideHelpIcon:!0,hideAnchorIcon:!0,searchInputPlaceholder:E("ruled.views.key0003"),getEmptyView:re,hideTitleTips:!0},propertyViewSetting:{getEmptyView:oe},getOutlineItemIcon:function(e){return L().createElement(R.Icon,{prefix:"designericon",type:fr(e),className:"rule-designer-control-icon"})},onCustomInputClick:ne,preHandle:mr,getPropertyEditors:Go,onViewCollapseChange:function(e){D.eventBus.emit("onViewCollapseChange",e)},getLangMsg:E}}),[s,te,V,ne,Go]),ae=(0,I.useCallback)((function(e){var t,n;S.current=Xo({attrActions:null===(t=k.current)||void 0===t?void 0:t.attrActions,resetPatches:null===(n=k.current)||void 0===n||null===(n=n.dataContext)||void 0===n?void 0:n.resetPatches},e),C(Xo({setFunctionParam:function(e){D.eventBus.emit("setFunctionParam",e)},validateFormula:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.eventBus.emit("validateFormula",e)},setCustomRuleAction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.eventBus.emit("setCustomRuleAction",e)}},S.current))}),[C]),ce=(0,I.useCallback)((function(e,t){J.current;_.current=function(e,t,n,r,o,i){var a;return o.current=JSON.parse(Ut()(o.current)),null===(a=o.current)||void 0===a||w()(a).call(a,(function(e){var t=Ee(e._Type_,i);e[t]&&delete e[t]})),(0,et.Ut)(n,(function(t){var n,a=t[i].Items;w()(a).call(a,(function(e){var t=Ee(e._Type_,i);e[t]&&delete e[t]})),w()(n=e.Items).call(n,(function(e){if("RelationContainerNodeId"in e){var t,n=se()(a).call(a,(function(t){return t.Id===e.RelationContainerNodeId}));if(!n)return;var u=Ee(n._Type_,i),c=Ct.getValue.call(e),s=r.getAllSubControls(e.Id),l=[],f=[];if(w()(s).call(s,(function(e){be(e)?(0,F.c)(c,Et.getValue.call(e)):we(e)&&(e.NodeType===Mt?l.push(Qt(e)):Se(n._Type_)&&f.push(Qt(e)))})),l.length&&(c.TrueActions=l),f.length&&(c.FalseActions=f),ue()(n[u])){var d,p,h=Ht()(d=n[u]).call(d,(function(e){return e.Id===c.Id}));-1===h?n[u].push(c):Gt()(p=n[u]).call(p,h,1,c)}else n[u]=[c];se()(t=o.current).call(t,(function(e){return e.Id===n.Id}))[u]=JSON.parse(Ut()(n[u]))}}))}))}(e,0,_.current,S.current.data,J,y),u&&u(_.current,t)}),[u]);(0,I.useEffect)((function(){}),[o]),(0,I.useEffect)((function(){C(Xo({setFunctionParam:function(e){D.eventBus.emit("setFunctionParam",e)},validateFormula:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.eventBus.emit("validateFormula",e)},setCustomRuleAction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.eventBus.emit("setCustomRuleAction",e)}},S.current))}),[]),(0,I.useEffect)((function(){if(U){var e=S.current.data,t=e.getData();e.resetPatches(),e.resetData(t,!1)}}),[U]);var le=(0,I.useRef)({getRulesNodes:function(){return J.current},getKdesignerApi:function(){return S.current},getDataRef:function(){return _.current},invokeAction:function(e,t){p(e,t)},prefixCls:"rule-designer",getPrefixCls:function(e,t,n){var r;return n||(e=e||"rule-designer",t?P()(r="".concat(e,"-")).call(r,t):e)}}),fe=(0,I.useMemo)((function(){return Xo(Xo({ruleMetaInfo:m,activeRuleNodeId:T,setActiveRuleNodeId:j,activeRuleId:U,setActiveRuleId:W,metaType:y},le.current),{},{isLockRule:function(e){var t,n;return e=null!==(t=e)&&void 0!==t?t:U,_e(e,null===(n=m[0])||void 0===n?void 0:n.lockRules)},isDragRule:function(e,t,n){var r;return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=!0;if(ue()(r))o=!ee()(r).call(r,e);else if("[object Object]"===Object.prototype.toString.call(r)){var i=r[e];o="unlock"===i?t&&(!n||!r[e])&&"unlock"===r[t]||!t&&"unlock"===r[n]||"unlock"===r[t]||"unlock"===r[n]:"lock"!==i}return o}(e,t,n,null===(r=m[0])||void 0===r?void 0:r.lockRules)},getRulesLocked:function(e){return function(e,t,n,r){var o,i="entitymeta"===r?"entitymeta":"formmeta",a=se()(o=n[i].Items).call(o,(function(t){return t.Id===e})),u=null==a?void 0:a._Type_,c="entitymeta"===r?t:t[r],s=ke(c,u,"Rules");return"lock"===(null==s?void 0:s.LockType)}(e,a,o,x)},getEncodeValue:v})}),[T,m,y,U]);return L().createElement(L().Fragment,null,L().createElement(R.ConfigProvider,{value:{prefixCls:"kdesigner"}},L().createElement(H.Provider,{value:fe},L().createElement(qo,{ref:k,globalConfig:ie,onData:ce,meta:$,data:Q,onApi:ae}))))}))),qo=L().memo(j());Ko.displayName="RuleDesigner";var Zo=Ko},87376:function(e,t,n){!function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function n(e){t(e);var n=e.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.style.direction=e.getOption("direction"),n.className="CodeMirror-placeholder CodeMirror-line-like";var r=e.getOption("placeholder");"string"==typeof r&&(r=document.createTextNode(r)),n.appendChild(r),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function r(e){setTimeout((function(){var r=!1;if(1==e.lineCount()){var o=e.getInputField();r="TEXTAREA"==o.nodeName?!e.getLine(0).length:!/[^\u200b]/.test(o.querySelector(".CodeMirror-line").textContent)}r?n(e):t(e)}),20)}function o(e){a(e)&&n(e)}function i(e){var r=e.getWrapperElement(),o=a(e);r.className=r.className.replace(" CodeMirror-empty","")+(o?" CodeMirror-empty":""),o?n(e):t(e)}function a(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",(function(n,a,u){var c=u&&u!=e.Init;if(a&&!c)n.on("blur",o),n.on("change",i),n.on("swapDoc",i),e.on(n.getInputField(),"compositionupdate",n.state.placeholderCompose=function(){r(n)}),i(n);else if(!a&&c){n.off("blur",o),n.off("change",i),n.off("swapDoc",i),e.off(n.getInputField(),"compositionupdate",n.state.placeholderCompose),t(n);var s=n.getWrapperElement();s.className=s.className.replace(" CodeMirror-empty","")}a&&!n.hasFocus()&&o(n)}))}(n(38812))},23360:function(e,t,n){!function(e){var t={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},n=e.Pos;function r(e,n){return"pairs"==n&&"string"==typeof e?e:"object"==typeof e&&null!=e[n]?e[n]:t[n]}e.defineOption("autoCloseBrackets",!1,(function(t,n,a){a&&a!=e.Init&&(t.removeKeyMap(o),t.state.closeBrackets=null),n&&(i(r(n,"pairs")),t.state.closeBrackets=n,t.addKeyMap(o))}));var o={Backspace:c,Enter:s};function i(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),r="'"+n+"'";o[r]||(o[r]=a(n))}}function a(e){return function(t){return d(t,e)}}function u(e){var t=e.state.closeBrackets;return!t||t.override?t:e.getModeAt(e.getCursor()).closeBrackets||t}function c(t){var o=u(t);if(!o||t.getOption("disableInput"))return e.Pass;for(var i=r(o,"pairs"),a=t.listSelections(),c=0;c<a.length;c++){if(!a[c].empty())return e.Pass;var s=p(t,a[c].head);if(!s||i.indexOf(s)%2!=0)return e.Pass}for(c=a.length-1;c>=0;c--){var l=a[c].head;t.replaceRange("",n(l.line,l.ch-1),n(l.line,l.ch+1),"+delete")}}function s(t){var n=u(t),o=n&&r(n,"explode");if(!o||t.getOption("disableInput"))return e.Pass;for(var i=t.listSelections(),a=0;a<i.length;a++){if(!i[a].empty())return e.Pass;var c=p(t,i[a].head);if(!c||o.indexOf(c)%2!=0)return e.Pass}t.operation((function(){var e=t.lineSeparator()||"\n";t.replaceSelection(e+e,null),l(t,-1),i=t.listSelections();for(var n=0;n<i.length;n++){var r=i[n].head.line;t.indentLine(r,null,!0),t.indentLine(r+1,null,!0)}}))}function l(e,t){for(var n=[],r=e.listSelections(),o=0,i=0;i<r.length;i++){var a=r[i];a.head==e.getCursor()&&(o=i);var u=a.head.ch||t>0?{line:a.head.line,ch:a.head.ch+t}:{line:a.head.line-1};n.push({anchor:u,head:u})}e.setSelections(n,o)}function f(t){var r=e.cmpPos(t.anchor,t.head)>0;return{anchor:new n(t.anchor.line,t.anchor.ch+(r?-1:1)),head:new n(t.head.line,t.head.ch+(r?1:-1))}}function d(t,o){var i=u(t);if(!i||t.getOption("disableInput"))return e.Pass;var a=r(i,"pairs"),c=a.indexOf(o);if(-1==c)return e.Pass;for(var s,d=r(i,"closeBefore"),p=r(i,"triples"),v=a.charAt(c+1)==o,g=t.listSelections(),m=c%2==0,y=0;y<g.length;y++){var b,w=g[y],x=w.head,C=t.getRange(x,n(x.line,x.ch+1));if(m&&!w.empty())b="surround";else if(!v&&m||C!=o)if(v&&x.ch>1&&p.indexOf(o)>=0&&t.getRange(n(x.line,x.ch-2),x)==o+o){if(x.ch>2&&/\bstring/.test(t.getTokenTypeAt(n(x.line,x.ch-2))))return e.Pass;b="addFour"}else if(v){var E=0==x.ch?" ":t.getRange(n(x.line,x.ch-1),x);if(e.isWordChar(C)||E==o||e.isWordChar(E))return e.Pass;b="both"}else{if(!m||!(0===C.length||/\s/.test(C)||d.indexOf(C)>-1))return e.Pass;b="both"}else b=v&&h(t,x)?"both":p.indexOf(o)>=0&&t.getRange(x,n(x.line,x.ch+3))==o+o+o?"skipThree":"skip";if(s){if(s!=b)return e.Pass}else s=b}var S=c%2?a.charAt(c-1):o,_=c%2?o:a.charAt(c+1);t.operation((function(){if("skip"==s)l(t,1);else if("skipThree"==s)l(t,3);else if("surround"==s){for(var e=t.getSelections(),n=0;n<e.length;n++)e[n]=S+e[n]+_;for(t.replaceSelections(e,"around"),e=t.listSelections().slice(),n=0;n<e.length;n++)e[n]=f(e[n]);t.setSelections(e)}else"both"==s?(t.replaceSelection(S+_,null),t.triggerElectric(S+_),l(t,-1)):"addFour"==s&&(t.replaceSelection(S+S+S+S,"before"),l(t,1))}))}function p(e,t){var r=e.getRange(n(t.line,t.ch-1),n(t.line,t.ch+1));return 2==r.length?r:null}function h(e,t){var r=e.getTokenAt(n(t.line,t.ch+1));return/\bstring/.test(r.type)&&r.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}i(t.pairs+"`")}(n(38812))},80760:function(e,t,n){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function o(e){return e&&e.bracketRegex||/[(){}[\]]/}function i(e,t,i){var u=e.getLineHandle(t.line),c=t.ch-1,s=i&&i.afterCursor;null==s&&(s=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var l=o(i),f=!s&&c>=0&&l.test(u.text.charAt(c))&&r[u.text.charAt(c)]||l.test(u.text.charAt(c+1))&&r[u.text.charAt(++c)];if(!f)return null;var d=">"==f.charAt(1)?1:-1;if(i&&i.strict&&d>0!=(c==t.ch))return null;var p=e.getTokenTypeAt(n(t.line,c+1)),h=a(e,n(t.line,c+(d>0?1:0)),d,p,i);return null==h?null:{from:n(t.line,c),to:h&&h.pos,match:h&&h.ch==f.charAt(0),forward:d>0}}function a(e,t,i,a,u){for(var c=u&&u.maxScanLineLength||1e4,s=u&&u.maxScanLines||1e3,l=[],f=o(u),d=i>0?Math.min(t.line+s,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-s),p=t.line;p!=d;p+=i){var h=e.getLine(p);if(h){var v=i>0?0:h.length-1,g=i>0?h.length:-1;if(!(h.length>c))for(p==t.line&&(v=t.ch-(i<0?1:0));v!=g;v+=i){var m=h.charAt(v);if(f.test(m)&&(void 0===a||(e.getTokenTypeAt(n(p,v+1))||"")==(a||""))){var y=r[m];if(y&&">"==y.charAt(1)==i>0)l.push(m);else{if(!l.length)return{pos:n(p,v),ch:m};l.pop()}}}}}return p-i!=(i>0?e.lastLine():e.firstLine())&&null}function u(e,r,o){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,u=o&&o.highlightNonMatching,c=[],s=e.listSelections(),l=0;l<s.length;l++){var f=s[l].empty()&&i(e,s[l].head,o);if(f&&(f.match||!1!==u)&&e.getLine(f.from.line).length<=a){var d=f.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";c.push(e.markText(f.from,n(f.from.line,f.from.ch+1),{className:d})),f.to&&e.getLine(f.to.line).length<=a&&c.push(e.markText(f.to,n(f.to.line,f.to.ch+1),{className:d}))}}if(c.length){t&&e.state.focused&&e.focus();var p=function(){e.operation((function(){for(var e=0;e<c.length;e++)c[e].clear()}))};if(!r)return p;setTimeout(p,800)}}function c(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=u(e,!1,e.state.matchBrackets)}))}function s(e){e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)}e.defineOption("matchBrackets",!1,(function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",c),t.off("focus",c),t.off("blur",s),s(t)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",c),t.on("focus",c),t.on("blur",s))})),e.defineExtension("matchBrackets",(function(){u(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),i(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,n,r){return a(this,e,t,n,r)}))}(n(38812))},92004:function(e,t,n){!function(e){"use strict";var t,n,r=e.Pos;function o(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function i(e,t){for(var n=o(e),r=n,i=0;i<t.length;i++)-1==r.indexOf(t.charAt(i))&&(r+=t.charAt(i));return n==r?e:new RegExp(e.source,r)}function a(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function u(e,t,n){t=i(t,"g");for(var o=n.line,a=n.ch,u=e.lastLine();o<=u;o++,a=0){t.lastIndex=a;var c=e.getLine(o),s=t.exec(c);if(s)return{from:r(o,s.index),to:r(o,s.index+s[0].length),match:s}}}function c(e,t,n){if(!a(t))return u(e,t,n);t=i(t,"gm");for(var o,c=1,s=n.line,l=e.lastLine();s<=l;){for(var f=0;f<c&&!(s>l);f++){var d=e.getLine(s++);o=null==o?d:o+"\n"+d}c*=2,t.lastIndex=n.ch;var p=t.exec(o);if(p){var h=o.slice(0,p.index).split("\n"),v=p[0].split("\n"),g=n.line+h.length-1,m=h[h.length-1].length;return{from:r(g,m),to:r(g+v.length-1,1==v.length?m+v[0].length:v[v.length-1].length),match:p}}}}function s(e,t,n){for(var r,o=0;o<=e.length;){t.lastIndex=o;var i=t.exec(e);if(!i)break;var a=i.index+i[0].length;if(a>e.length-n)break;(!r||a>r.index+r[0].length)&&(r=i),o=i.index+1}return r}function l(e,t,n){t=i(t,"g");for(var o=n.line,a=n.ch,u=e.firstLine();o>=u;o--,a=-1){var c=e.getLine(o),l=s(c,t,a<0?0:c.length-a);if(l)return{from:r(o,l.index),to:r(o,l.index+l[0].length),match:l}}}function f(e,t,n){if(!a(t))return l(e,t,n);t=i(t,"gm");for(var o,u=1,c=e.getLine(n.line).length-n.ch,f=n.line,d=e.firstLine();f>=d;){for(var p=0;p<u&&f>=d;p++){var h=e.getLine(f--);o=null==o?h:h+"\n"+o}u*=2;var v=s(o,t,c);if(v){var g=o.slice(0,v.index).split("\n"),m=v[0].split("\n"),y=f+g.length,b=g[g.length-1].length;return{from:r(y,b),to:r(y+m.length-1,1==m.length?b+m[0].length:m[m.length-1].length),match:v}}}}function d(e,t,n,r){if(e.length==t.length)return n;for(var o=0,i=n+Math.max(0,e.length-t.length);;){if(o==i)return o;var a=o+i>>1,u=r(e.slice(0,a)).length;if(u==n)return a;u>n?i=a:o=a+1}}function p(e,o,i,a){if(!o.length)return null;var u=a?t:n,c=u(o).split(/\r|\n\r?/);e:for(var s=i.line,l=i.ch,f=e.lastLine()+1-c.length;s<=f;s++,l=0){var p=e.getLine(s).slice(l),h=u(p);if(1==c.length){var v=h.indexOf(c[0]);if(-1==v)continue e;return i=d(p,h,v,u)+l,{from:r(s,d(p,h,v,u)+l),to:r(s,d(p,h,v+c[0].length,u)+l)}}var g=h.length-c[0].length;if(h.slice(g)==c[0]){for(var m=1;m<c.length-1;m++)if(u(e.getLine(s+m))!=c[m])continue e;var y=e.getLine(s+c.length-1),b=u(y),w=c[c.length-1];if(b.slice(0,w.length)==w)return{from:r(s,d(p,h,g,u)+l),to:r(s+c.length-1,d(y,b,w.length,u))}}}}function h(e,o,i,a){if(!o.length)return null;var u=a?t:n,c=u(o).split(/\r|\n\r?/);e:for(var s=i.line,l=i.ch,f=e.firstLine()-1+c.length;s>=f;s--,l=-1){var p=e.getLine(s);l>-1&&(p=p.slice(0,l));var h=u(p);if(1==c.length){var v=h.lastIndexOf(c[0]);if(-1==v)continue e;return{from:r(s,d(p,h,v,u)),to:r(s,d(p,h,v+c[0].length,u))}}var g=c[c.length-1];if(h.slice(0,g.length)==g){var m=1;for(i=s-c.length+1;m<c.length-1;m++)if(u(e.getLine(i+m))!=c[m])continue e;var y=e.getLine(s+1-c.length),b=u(y);if(b.slice(b.length-c[0].length)==c[0])return{from:r(s+1-c.length,d(y,b,y.length-c[0].length,u)),to:r(s,d(p,h,g.length,u))}}}}function v(e,t,n,o){var a;this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=e,n=n?e.clipPos(n):r(0,0),this.pos={from:n,to:n},"object"==typeof o?a=o.caseFold:(a=o,o=null),"string"==typeof t?(null==a&&(a=!1),this.matches=function(n,r){return(n?h:p)(e,t,r,a)}):(t=i(t,"gm"),o&&!1===o.multiline?this.matches=function(n,r){return(n?l:u)(e,t,r)}:this.matches=function(n,r){return(n?f:c)(e,t,r)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},n=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),v.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){var n=this.doc.clipPos(t?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(n=r(n.line,n.ch),t?(n.ch--,n.ch<0&&(n.line--,n.ch=(this.doc.getLine(n.line)||"").length)):(n.ch++,n.ch>(this.doc.getLine(n.line)||"").length&&(n.ch=0,n.line++)),0!=e.cmpPos(n,this.doc.clipPos(n))))return this.atOccurrence=!1;var o=this.matches(t,n);if(this.afterEmptyMatch=o&&0==e.cmpPos(o.from,o.to),o)return this.pos=o,this.atOccurrence=!0,this.pos.match||!0;var i=r(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var o=e.splitLines(t);this.doc.replaceRange(o,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+o.length-1,o[o.length-1].length+(1==o.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",(function(e,t,n){return new v(this.doc,e,t,n)})),e.defineDocExtension("getSearchCursor",(function(e,t,n){return new v(this,e,t,n)})),e.defineExtension("selectMatches",(function(t,n){for(var r=[],o=this.getSearchCursor(t,this.getCursor("from"),n);o.findNext()&&!(e.cmpPos(o.to(),this.getCursor("to"))>0);)r.push({anchor:o.from(),head:o.to()});r.length&&this.setSelections(r,0)}))}(n(38812))},12848:function(e,t,n){!function(e){"use strict";function t(e){e.state.markedSelection&&e.operation((function(){s(e)}))}function n(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation((function(){u(e)}))}e.defineOption("styleSelectedText",!1,(function(r,o,i){var a=i&&i!=e.Init;o&&!a?(r.state.markedSelection=[],r.state.markedSelectionStyle="string"==typeof o?o:"CodeMirror-selectedtext",c(r),r.on("cursorActivity",t),r.on("change",n)):!o&&a&&(r.off("cursorActivity",t),r.off("change",n),u(r),r.state.markedSelection=r.state.markedSelectionStyle=null)}));var r=8,o=e.Pos,i=e.cmpPos;function a(e,t,n,a){if(0!=i(t,n))for(var u=e.state.markedSelection,c=e.state.markedSelectionStyle,s=t.line;;){var l=s==t.line?t:o(s,0),f=s+r,d=f>=n.line,p=d?n:o(f,0),h=e.markText(l,p,{className:c});if(null==a?u.push(h):u.splice(a++,0,h),d)break;s=f}}function u(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function c(e){u(e);for(var t=e.listSelections(),n=0;n<t.length;n++)a(e,t[n].from(),t[n].to())}function s(e){if(!e.somethingSelected())return u(e);if(e.listSelections().length>1)return c(e);var t=e.getCursor("start"),n=e.getCursor("end"),o=e.state.markedSelection;if(!o.length)return a(e,t,n);var s=o[0].find(),l=o[o.length-1].find();if(!s||!l||n.line-t.line<=r||i(t,l.to)>=0||i(n,s.from)<=0)return c(e);for(;i(t,s.from)>0;)o.shift().clear(),s=o[0].find();for(i(t,s.from)<0&&(s.to.line-t.line<r?(o.shift().clear(),a(e,t,s.to,0)):a(e,t,s.from,0));i(n,l.to)<0;)o.pop().clear(),l=o[o.length-1].find();i(n,l.to)>0&&(n.line-l.from.line<r?(o.pop().clear(),a(e,l.from,n)):a(e,l.to,n))}}(n(38812))},38812:function(e){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),a=r||o||i,u=a&&(r?document.documentMode||6:+(i||o)[1]),c=!i&&/WebKit\//.test(e),s=c&&/Qt\/\d+\.\d+/.test(e),l=!i&&/Chrome\/(\d+)/.exec(e),f=l&&+l[1],d=/Opera\//.test(e),p=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),v=/PhantomJS/.test(e),g=p&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),m=/Android/.test(e),y=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=g||/Mac/.test(t),w=/\bCrOS\b/.test(e),x=/win/i.test(t),C=d&&e.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(d=!1,c=!0);var E=b&&(s||d&&(null==C||C<12.11)),S=n||a&&u>=9;function _(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var k,A=function(e,t){var n=e.className,r=_(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function O(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function N(e,t){return O(e).appendChild(t)}function M(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function T(e,t,n,r){var o=M(e,t,n,r);return o.setAttribute("role","presentation"),o}function P(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function I(e){var t,n=e.ownerDocument||e;try{t=e.activeElement}catch(e){t=n.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function L(e,t){var n=e.className;_(t).test(n)||(e.className+=(n?" ":"")+t)}function D(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!_(n[r]).test(t)&&(t+=" "+n[r]);return t}k=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var j=function(e){e.select()};function R(e){return e.display.wrapper.ownerDocument}function F(e){return z(e.display.wrapper)}function z(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function B(e){return R(e).defaultView}function U(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function W(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function H(e,t,n,r,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var i=r||0,a=o||0;;){var u=e.indexOf("\t",i);if(u<0||u>=t)return a+(t-i);a+=u-i,a+=n-a%n,i=u+1}}g?j=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(j=function(e){try{e.select()}catch(e){}});var V=function(){this.id=null,this.f=null,this.time=0,this.handler=U(this.onTimeout,this)};function G(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}V.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},V.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var Y=50,X={toString:function(){return"CodeMirror.Pass"}},K={scroll:!1},q={origin:"*mouse"},Z={origin:"+move"};function Q(e,t,n){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var a=i-r;if(i==e.length||o+a>=t)return r+Math.min(a,t-o);if(o+=i-r,r=i+1,(o+=n-o%n)>=t)return r}}var J=[""];function $(e){for(;J.length<=e;)J.push(ee(J)+" ");return J[e]}function ee(e){return e[e.length-1]}function te(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function ne(e,t,n){for(var r=0,o=n(t);r<e.length&&n(e[r])<=o;)r++;e.splice(r,0,t)}function re(){}function oe(e,t){var n;return Object.create?n=Object.create(e):(re.prototype=e,n=new re),t&&W(t,n),n}var ie=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ae(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ie.test(e))}function ue(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ae(e))||t.test(e):ae(e)}function ce(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var se=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function le(e){return e.charCodeAt(0)>=768&&se.test(e)}function fe(e,t,n){for(;(n<0?t>0:t<e.length)&&le(e.charAt(t));)t+=n;return t}function de(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,i=r<0?Math.ceil(o):Math.floor(o);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+r}}function pe(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",i),o=!0)}o||r(t,n,"ltr")}var he=null;function ve(e,t,n){var r;he=null;for(var o=0;o<e.length;++o){var i=e[o];if(i.from<t&&i.to>t)return o;i.to==t&&(i.from!=i.to&&"before"==n?r=o:he=o),i.from==t&&(i.from!=i.to&&"before"!=n?r=o:he=o)}return null!=r?r:he}var ge=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,i=/[LRr]/,a=/[Lb1n]/,u=/[1n]/;function c(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var s="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var l=e.length,f=[],d=0;d<l;++d)f.push(n(e.charCodeAt(d)));for(var p=0,h=s;p<l;++p){var v=f[p];"m"==v?f[p]=h:h=v}for(var g=0,m=s;g<l;++g){var y=f[g];"1"==y&&"r"==m?f[g]="n":i.test(y)&&(m=y,"r"==y&&(f[g]="R"))}for(var b=1,w=f[0];b<l-1;++b){var x=f[b];"+"==x&&"1"==w&&"1"==f[b+1]?f[b]="1":","!=x||w!=f[b+1]||"1"!=w&&"n"!=w||(f[b]=w),w=x}for(var C=0;C<l;++C){var E=f[C];if(","==E)f[C]="N";else if("%"==E){var S=void 0;for(S=C+1;S<l&&"%"==f[S];++S);for(var _=C&&"!"==f[C-1]||S<l&&"1"==f[S]?"1":"N",k=C;k<S;++k)f[k]=_;C=S-1}}for(var A=0,O=s;A<l;++A){var N=f[A];"L"==O&&"1"==N?f[A]="L":i.test(N)&&(O=N)}for(var M=0;M<l;++M)if(o.test(f[M])){var T=void 0;for(T=M+1;T<l&&o.test(f[T]);++T);for(var P="L"==(M?f[M-1]:s),I=P==("L"==(T<l?f[T]:s))?P?"L":"R":s,L=M;L<T;++L)f[L]=I;M=T-1}for(var D,j=[],R=0;R<l;)if(a.test(f[R])){var F=R;for(++R;R<l&&a.test(f[R]);++R);j.push(new c(0,F,R))}else{var z=R,B=j.length,U="rtl"==t?1:0;for(++R;R<l&&"L"!=f[R];++R);for(var W=z;W<R;)if(u.test(f[W])){z<W&&(j.splice(B,0,new c(1,z,W)),B+=U);var H=W;for(++W;W<R&&u.test(f[W]);++W);j.splice(B,0,new c(2,H,W)),B+=U,z=W}else++W;z<R&&j.splice(B,0,new c(1,z,R))}return"ltr"==t&&(1==j[0].level&&(D=e.match(/^\s+/))&&(j[0].from=D[0].length,j.unshift(new c(0,0,D[0].length))),1==ee(j).level&&(D=e.match(/\s+$/))&&(ee(j).to-=D[0].length,j.push(new c(0,l-D[0].length,l)))),"rtl"==t?j.reverse():j}}();function me(e,t){var n=e.order;return null==n&&(n=e.order=ge(e.text,t)),n}var ye=[],be=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||ye).concat(n)}};function we(e,t){return e._handlers&&e._handlers[t]||ye}function xe(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var i=G(o,n);i>-1&&(r[t]=o.slice(0,i).concat(o.slice(i+1)))}}}function Ce(e,t){var n=we(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function Ee(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ce(e,n||t.type,e,t),Ne(t)||t.codemirrorIgnore}function Se(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==G(n,t[r])&&n.push(t[r])}function _e(e,t){return we(e,t).length>0}function ke(e){e.prototype.on=function(e,t){be(this,e,t)},e.prototype.off=function(e,t){xe(this,e,t)}}function Ae(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Oe(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ne(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Me(e){Ae(e),Oe(e)}function Te(e){return e.target||e.srcElement}function Pe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var Ie,Le,De=function(){if(a&&u<9)return!1;var e=M("div");return"draggable"in e||"dragDrop"in e}();function je(e){if(null==Ie){var t=M("span","​");N(e,M("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ie=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&u<8))}var n=Ie?M("span","​"):M("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Re(e){if(null!=Le)return Le;var t=N(e,document.createTextNode("AخA")),n=k(t,0,1).getBoundingClientRect(),r=k(t,1,2).getBoundingClientRect();return O(e),!(!n||n.left==n.right)&&(Le=r.right-n.right<3)}var Fe,ze=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),t+=a+1):(n.push(i),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Be=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ue="oncopy"in(Fe=M("div"))||(Fe.setAttribute("oncopy","return;"),"function"==typeof Fe.oncopy),We=null;function He(e){if(null!=We)return We;var t=N(e,M("span","x")),n=t.getBoundingClientRect(),r=k(t,0,1).getBoundingClientRect();return We=Math.abs(n.left-r.left)>1}var Ve={},Ge={};function Ye(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ve[e]=t}function Xe(e,t){Ge[e]=t}function Ke(e){if("string"==typeof e&&Ge.hasOwnProperty(e))e=Ge[e];else if(e&&"string"==typeof e.name&&Ge.hasOwnProperty(e.name)){var t=Ge[e.name];"string"==typeof t&&(t={name:t}),(e=oe(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ke("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ke("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function qe(e,t){t=Ke(t);var n=Ve[t.name];if(!n)return qe(e,"text/plain");var r=n(e,t);if(Ze.hasOwnProperty(t.name)){var o=Ze[t.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Ze={};function Qe(e,t){W(t,Ze.hasOwnProperty(e)?Ze[e]:Ze[e]={})}function Je(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function $e(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function et(e,t,n){return!e.startState||e.startState(t,n)}var tt=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function nt(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(t<i){n=o;break}t-=i}return n.lines[t]}function rt(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,(function(e){var i=e.text;o==n.line&&(i=i.slice(0,n.ch)),o==t.line&&(i=i.slice(t.ch)),r.push(i),++o})),r}function ot(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function it(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function at(e){if(null==e.parent)return null;for(var t=e.parent,n=G(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;r.children[o]!=t;++o)n+=r.children[o].chunkSize();return n+t.first}function ut(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(t<i){e=o;continue e}t-=i,n+=o.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var u=e.lines[a].height;if(t<u)break;t-=u}return n+a}function ct(e,t){return t>=e.first&&t<e.first+e.size}function st(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function lt(e,t,n){if(void 0===n&&(n=null),!(this instanceof lt))return new lt(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ft(e,t){return e.line-t.line||e.ch-t.ch}function dt(e,t){return e.sticky==t.sticky&&0==ft(e,t)}function pt(e){return lt(e.line,e.ch)}function ht(e,t){return ft(e,t)<0?t:e}function vt(e,t){return ft(e,t)<0?e:t}function gt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function mt(e,t){if(t.line<e.first)return lt(e.first,0);var n=e.first+e.size-1;return t.line>n?lt(n,nt(e,n).text.length):yt(t,nt(e,t.line).text.length)}function yt(e,t){var n=e.ch;return null==n||n>t?lt(e.line,t):n<0?lt(e.line,0):e}function bt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=mt(e,t[r]);return n}tt.prototype.eol=function(){return this.pos>=this.string.length},tt.prototype.sol=function(){return this.pos==this.lineStart},tt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},tt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},tt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},tt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},tt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},tt.prototype.skipToEnd=function(){this.pos=this.string.length},tt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},tt.prototype.backUp=function(e){this.pos-=e},tt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},tt.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},tt.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},tt.prototype.current=function(){return this.string.slice(this.start,this.pos)},tt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},tt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},tt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var wt=function(e,t){this.state=e,this.lookAhead=t},xt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function Ct(e,t,n,r){var o=[e.state.modeGen],i={};Tt(e,t.text,e.doc.mode,n,(function(e,t){return o.push(e,t)}),i,r);for(var a=n.state,u=function(r){n.baseTokens=o;var u=e.state.overlays[r],c=1,s=0;n.state=!0,Tt(e,t.text,u.mode,n,(function(e,t){for(var n=c;s<e;){var r=o[c];r>e&&o.splice(c,1,e,o[c+1],r),c+=2,s=Math.min(e,r)}if(t)if(u.opaque)o.splice(n,c-n,e,"overlay "+t),c=n+2;else for(;n<c;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"overlay "+t}}),i),n.state=a,n.baseTokens=null,n.baseTokenPos=1},c=0;c<e.state.overlays.length;++c)u(c);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function Et(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=St(e,at(t)),o=t.text.length>e.options.maxHighlightLength&&Je(e.doc.mode,r.state),i=Ct(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function St(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new xt(r,!0,t);var i=Pt(e,t,n),a=i>r.first&&nt(r,i-1).stateAfter,u=a?xt.fromSaved(r,a,i):new xt(r,et(r.mode),i);return r.iter(i,t,(function(n){_t(e,n.text,u);var r=u.line;n.stateAfter=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?u.save():null,u.nextLine()})),n&&(r.modeFrontier=u.line),u}function _t(e,t,n,r){var o=e.doc.mode,i=new tt(t,e.options.tabSize,n);for(i.start=i.pos=r||0,""==t&&kt(o,n.state);!i.eol();)At(o,i,n.state),i.start=i.pos}function kt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=$e(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function At(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=$e(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}xt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},xt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},xt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},xt.fromSaved=function(e,t,n){return t instanceof wt?new xt(e,Je(e.mode,t.state),n,t.lookAhead):new xt(e,Je(e.mode,t),n)},xt.prototype.save=function(e){var t=!1!==e?Je(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new wt(t,this.maxLookAhead):t};var Ot=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Nt(e,t,n,r){var o,i,a=e.doc,u=a.mode,c=nt(a,(t=mt(a,t)).line),s=St(e,t.line,n),l=new tt(c.text,e.options.tabSize,s);for(r&&(i=[]);(r||l.pos<t.ch)&&!l.eol();)l.start=l.pos,o=At(u,l,s.state),r&&i.push(new Ot(l,o,Je(a.mode,s.state)));return r?i:new Ot(l,o,s.state)}function Mt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Tt(e,t,n,r,o,i,a){var u=n.flattenSpans;null==u&&(u=e.options.flattenSpans);var c,s=0,l=null,f=new tt(t,e.options.tabSize,r),d=e.options.addModeClass&&[null];for(""==t&&Mt(kt(n,r.state),i);!f.eol();){if(f.pos>e.options.maxHighlightLength?(u=!1,a&&_t(e,t,r,f.pos),f.pos=t.length,c=null):c=Mt(At(n,f,r.state,d),i),d){var p=d[0].name;p&&(c="m-"+(c?p+" "+c:p))}if(!u||l!=c){for(;s<f.start;)o(s=Math.min(f.start,s+5e3),l);l=c}f.start=f.pos}for(;s<f.pos;){var h=Math.min(f.pos,s+5e3);o(h,l),s=h}}function Pt(e,t,n){for(var r,o,i=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),u=t;u>a;--u){if(u<=i.first)return i.first;var c=nt(i,u-1),s=c.stateAfter;if(s&&(!n||u+(s instanceof wt?s.lookAhead:0)<=i.modeFrontier))return u;var l=H(c.text,null,e.options.tabSize);(null==o||r>l)&&(o=u-1,r=l)}return o}function It(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=nt(e,r).stateAfter;if(o&&(!(o instanceof wt)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Lt=!1,Dt=!1;function jt(){Lt=!0}function Rt(){Dt=!0}function Ft(e,t,n){this.marker=e,this.from=t,this.to=n}function zt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Bt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ut(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Wt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker;if(null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t)||i.from==t&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var u=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push(new Ft(a,i.from,u?null:i.to))}}return r}function Ht(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker;if(null==i.to||(a.inclusiveRight?i.to>=t:i.to>t)||i.from==t&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var u=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push(new Ft(a,u?null:i.from-t,null==i.to?null:i.to-t))}}return r}function Vt(e,t){if(t.full)return null;var n=ct(e,t.from.line)&&nt(e,t.from.line).markedSpans,r=ct(e,t.to.line)&&nt(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,i=t.to.ch,a=0==ft(t.from,t.to),u=Wt(n,o,a),c=Ht(r,i,a),s=1==t.text.length,l=ee(t.text).length+(s?o:0);if(u)for(var f=0;f<u.length;++f){var d=u[f];if(null==d.to){var p=zt(c,d.marker);p?s&&(d.to=null==p.to?null:p.to+l):d.to=o}}if(c)for(var h=0;h<c.length;++h){var v=c[h];null!=v.to&&(v.to+=l),null==v.from?zt(u,v.marker)||(v.from=l,s&&(u||(u=[])).push(v)):(v.from+=l,s&&(u||(u=[])).push(v))}u&&(u=Gt(u)),c&&c!=u&&(c=Gt(c));var g=[u];if(!s){var m,y=t.text.length-2;if(y>0&&u)for(var b=0;b<u.length;++b)null==u[b].to&&(m||(m=[])).push(new Ft(u[b].marker,null,null));for(var w=0;w<y;++w)g.push(m);g.push(c)}return g}function Gt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Yt(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=G(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var a=r[i],u=a.find(0),c=0;c<o.length;++c){var s=o[c];if(!(ft(s.to,u.from)<0||ft(s.from,u.to)>0)){var l=[c,1],f=ft(s.from,u.from),d=ft(s.to,u.to);(f<0||!a.inclusiveLeft&&!f)&&l.push({from:s.from,to:u.from}),(d>0||!a.inclusiveRight&&!d)&&l.push({from:u.to,to:s.to}),o.splice.apply(o,l),c+=l.length-3}}return o}function Xt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Kt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function qt(e){return e.inclusiveLeft?-1:0}function Zt(e){return e.inclusiveRight?1:0}function Qt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),i=ft(r.from,o.from)||qt(e)-qt(t);if(i)return-i;var a=ft(r.to,o.to)||Zt(e)-Zt(t);return a||t.id-e.id}function Jt(e,t){var n,r=Dt&&e.markedSpans;if(r)for(var o=void 0,i=0;i<r.length;++i)(o=r[i]).marker.collapsed&&null==(t?o.from:o.to)&&(!n||Qt(n,o.marker)<0)&&(n=o.marker);return n}function $t(e){return Jt(e,!0)}function en(e){return Jt(e,!1)}function tn(e,t){var n,r=Dt&&e.markedSpans;if(r)for(var o=0;o<r.length;++o){var i=r[o];i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!n||Qt(n,i.marker)<0)&&(n=i.marker)}return n}function nn(e,t,n,r,o){var i=nt(e,t),a=Dt&&i.markedSpans;if(a)for(var u=0;u<a.length;++u){var c=a[u];if(c.marker.collapsed){var s=c.marker.find(0),l=ft(s.from,n)||qt(c.marker)-qt(o),f=ft(s.to,r)||Zt(c.marker)-Zt(o);if(!(l>=0&&f<=0||l<=0&&f>=0)&&(l<=0&&(c.marker.inclusiveRight&&o.inclusiveLeft?ft(s.to,n)>=0:ft(s.to,n)>0)||l>=0&&(c.marker.inclusiveRight&&o.inclusiveLeft?ft(s.from,r)<=0:ft(s.from,r)<0)))return!0}}}function rn(e){for(var t;t=$t(e);)e=t.find(-1,!0).line;return e}function on(e){for(var t;t=en(e);)e=t.find(1,!0).line;return e}function an(e){for(var t,n;t=en(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function un(e,t){var n=nt(e,t),r=rn(n);return n==r?t:at(r)}function cn(e,t){if(t>e.lastLine())return t;var n,r=nt(e,t);if(!sn(e,r))return t;for(;n=en(r);)r=n.find(1,!0).line;return at(r)+1}function sn(e,t){var n=Dt&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)if((r=n[o]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ln(e,t,r))return!0}}function ln(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return ln(e,r.line,zt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,i=0;i<t.markedSpans.length;++i)if((o=t.markedSpans[i]).marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&ln(e,t,o))return!0}function fn(e){for(var t=0,n=(e=rn(e)).parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var i=n.parent;i;i=(n=i).parent)for(var a=0;a<i.children.length;++a){var u=i.children[a];if(u==n)break;t+=u.height}return t}function dn(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=$t(r);){var o=t.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}for(r=e;t=en(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,n+=(r=i.to.line).text.length-i.to.ch}return n}function pn(e){var t=e.display,n=e.doc;t.maxLine=nt(n,n.first),t.maxLineLength=dn(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=dn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var hn=function(e,t,n){this.text=e,Kt(this,t),this.height=n?n(this):1};function vn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Xt(e),Kt(e,n);var o=r?r(e):1;o!=e.height&&it(e,o)}function gn(e){e.parent=null,Xt(e)}hn.prototype.lineNo=function(){return at(this)},ke(hn);var mn={},yn={};function bn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?yn:mn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function wn(e,t){var n=T("span",null,null,c?"padding-right: .1px":null),r={pre:T("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var i=o?t.rest[o-1]:t.line,a=void 0;r.pos=0,r.addToken=Cn,Re(e.display.measure)&&(a=me(i,e.doc.direction))&&(r.addToken=Sn(r.addToken,a)),r.map=[],kn(i,r,Et(e,i,t!=e.display.externalMeasured&&at(i))),i.styleClasses&&(i.styleClasses.bgClass&&(r.bgClass=D(i.styleClasses.bgClass,r.bgClass||"")),i.styleClasses.textClass&&(r.textClass=D(i.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(je(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(c){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Ce(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=D(r.pre.className,r.textClass||"")),r}function xn(e){var t=M("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Cn(e,t,n,r,o,i,c){if(t){var s,l=e.splitSpaces?En(t,e.trailingSpace):t,f=e.cm.state.specialChars,d=!1;if(f.test(t)){s=document.createDocumentFragment();for(var p=0;;){f.lastIndex=p;var h=f.exec(t),v=h?h.index-p:t.length-p;if(v){var g=document.createTextNode(l.slice(p,p+v));a&&u<9?s.appendChild(M("span",[g])):s.appendChild(g),e.map.push(e.pos,e.pos+v,g),e.col+=v,e.pos+=v}if(!h)break;p+=v+1;var m=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(m=s.appendChild(M("span",$(b),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?((m=s.appendChild(M("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((m=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),a&&u<9?s.appendChild(M("span",[m])):s.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,s=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,s),a&&u<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==l.charCodeAt(t.length-1),n||r||o||d||i||c){var w=n||"";r&&(w+=r),o&&(w+=o);var x=M("span",[s],w,i);if(c)for(var C in c)c.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&x.setAttribute(C,c[C]);return e.content.appendChild(x)}e.content.appendChild(s)}}function En(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var i=e.charAt(o);" "!=i||!n||o!=e.length-1&&32!=e.charCodeAt(o+1)||(i=" "),r+=i,n=" "==i}return r}function Sn(e,t){return function(n,r,o,i,a,u,c){o=o?o+" cm-force-border":"cm-force-border";for(var s=n.pos,l=s+r.length;;){for(var f=void 0,d=0;d<t.length&&!((f=t[d]).to>s&&f.from<=s);d++);if(f.to>=l)return e(n,r,o,i,a,u,c);e(n,r.slice(0,f.to-s),o,i,null,u,c),i=null,r=r.slice(f.to-s),s=f.to}}}function _n(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function kn(e,t,n){var r=e.markedSpans,o=e.text,i=0;if(r)for(var a,u,c,s,l,f,d,p=o.length,h=0,v=1,g="",m=0;;){if(m==h){c=s=l=u="",d=null,f=null,m=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var x=r[w],C=x.marker;if("bookmark"==C.type&&x.from==h&&C.widgetNode)y.push(C);else if(x.from<=h&&(null==x.to||x.to>h||C.collapsed&&x.to==h&&x.from==h)){if(null!=x.to&&x.to!=h&&m>x.to&&(m=x.to,s=""),C.className&&(c+=" "+C.className),C.css&&(u=(u?u+";":"")+C.css),C.startStyle&&x.from==h&&(l+=" "+C.startStyle),C.endStyle&&x.to==m&&(b||(b=[])).push(C.endStyle,x.to),C.title&&((d||(d={})).title=C.title),C.attributes)for(var E in C.attributes)(d||(d={}))[E]=C.attributes[E];C.collapsed&&(!f||Qt(f.marker,C)<0)&&(f=x)}else x.from>h&&m>x.from&&(m=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==m&&(s+=" "+b[S]);if(!f||f.from==h)for(var _=0;_<y.length;++_)_n(t,0,y[_]);if(f&&(f.from||0)==h){if(_n(t,(null==f.to?p+1:f.to)-h,f.marker,null==f.from),null==f.to)return;f.to==h&&(f=!1)}}if(h>=p)break;for(var k=Math.min(p,m);;){if(g){var A=h+g.length;if(!f){var O=A>k?g.slice(0,k-h):g;t.addToken(t,O,a?a+c:c,l,h+O.length==m?s:"",u,d)}if(A>=k){g=g.slice(k-h),h=k;break}h=A,l=""}g=o.slice(i,i=n[v++]),a=bn(n[v++],t.cm.options)}}else for(var N=1;N<n.length;N+=2)t.addToken(t,o.slice(i,i=n[N]),bn(n[N+1],t.cm.options))}function An(e,t,n){this.line=t,this.rest=an(t),this.size=this.rest?at(ee(this.rest))-n+1:1,this.node=this.text=null,this.hidden=sn(e,t)}function On(e,t,n){for(var r,o=[],i=t;i<n;i=r){var a=new An(e.doc,nt(e.doc,i),i);r=i+a.size,o.push(a)}return o}var Nn=null;function Mn(e){Nn?Nn.ops.push(e):e.ownsGroup=Nn={ops:[e],delayedCallbacks:[]}}function Tn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function Pn(e,t){var n=e.ownsGroup;if(n)try{Tn(n)}finally{Nn=null,t(n)}}var In=null;function Ln(e,t){var n=we(e,t);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);Nn?r=Nn.delayedCallbacks:In?r=In:(r=In=[],setTimeout(Dn,0));for(var i=function(e){r.push((function(){return n[e].apply(null,o)}))},a=0;a<n.length;++a)i(a)}}function Dn(){var e=In;In=null;for(var t=0;t<e.length;++t)e[t]()}function jn(e,t,n,r){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?Bn(e,t):"gutter"==i?Wn(e,t,n,r):"class"==i?Un(e,t):"widget"==i&&Hn(e,t,r)}t.changes=null}function Rn(e){return e.node==e.text&&(e.node=M("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&u<8&&(e.node.style.zIndex=2)),e.node}function Fn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Rn(t);t.background=r.insertBefore(M("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function zn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):wn(e,t)}function Bn(e,t){var n=t.text.className,r=zn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Un(e,t)):n&&(t.text.className=n)}function Un(e,t){Fn(e,t),t.line.wrapClass?Rn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Wn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Rn(t);t.gutterBackground=M("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=Rn(t),u=t.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(u.setAttribute("aria-hidden","true"),e.display.input.setUneditable(u),a.insertBefore(u,t.text),t.line.gutterClass&&(u.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=u.appendChild(M("div",st(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var c=0;c<e.display.gutterSpecs.length;++c){var s=e.display.gutterSpecs[c].className,l=i.hasOwnProperty(s)&&i[s];l&&u.appendChild(M("div",[l],"CodeMirror-gutter-elt","left: "+r.gutterLeft[s]+"px; width: "+r.gutterWidth[s]+"px"))}}}function Hn(e,t,n){t.alignable&&(t.alignable=null);for(var r=_("CodeMirror-linewidget"),o=t.node.firstChild,i=void 0;o;o=i)i=o.nextSibling,r.test(o.className)&&t.node.removeChild(o);Gn(e,t,n)}function Vn(e,t,n,r){var o=zn(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),Un(e,t),Wn(e,t,n,r),Gn(e,t,r),t.node}function Gn(e,t,n){if(Yn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Yn(e,t.rest[r],t,n,!1)}function Yn(e,t,n,r,o){if(t.widgets)for(var i=Rn(n),a=0,u=t.widgets;a<u.length;++a){var c=u[a],s=M("div",[c.node],"CodeMirror-linewidget"+(c.className?" "+c.className:""));c.handleMouseEvents||s.setAttribute("cm-ignore-events","true"),Xn(c,s,n,r),e.display.input.setUneditable(s),o&&c.above?i.insertBefore(s,n.gutter||n.text):i.appendChild(s),Ln(c,"redraw")}}function Xn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Kn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!P(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),N(t.display.measure,M("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function qn(e,t){for(var n=Te(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Zn(e){return e.lineSpace.offsetTop}function Qn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Jn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=N(e.measure,M("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function $n(e){return Y-e.display.nativeBarWidth}function er(e){return e.display.scroller.clientWidth-$n(e)-e.display.barWidth}function tr(e){return e.display.scroller.clientHeight-$n(e)-e.display.barHeight}function nr(e,t,n){var r=e.options.lineWrapping,o=r&&er(e);if(!t.measure.heights||r&&t.measure.width!=o){var i=t.measure.heights=[];if(r){t.measure.width=o;for(var a=t.text.firstChild.getClientRects(),u=0;u<a.length-1;u++){var c=a[u],s=a[u+1];Math.abs(c.bottom-s.bottom)>2&&i.push((c.bottom+s.top)/2-n.top)}}i.push(n.bottom-n.top)}}function rr(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(at(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}}function or(e,t){var n=at(t=rn(t)),r=e.display.externalMeasured=new An(e.doc,t,n);r.lineN=n;var o=r.built=wn(e,r);return r.text=o.pre,N(e.display.lineMeasure,o.pre),r}function ir(e,t,n,r){return cr(e,ur(e,t),n,r)}function ar(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ur(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function ur(e,t){var n=at(t),r=ar(e,n);r&&!r.text?r=null:r&&r.changes&&(jn(e,r,n,jr(e)),e.curOp.forceUpdate=!0),r||(r=or(e,t));var o=rr(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function cr(e,t,n,r,o){t.before&&(n=-1);var i,a=n+(r||"");return t.cache.hasOwnProperty(a)?i=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(nr(e,t.view,t.rect),t.hasHeights=!0),(i=pr(e,t,n,r)).bogus||(t.cache[a]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var sr,lr={left:0,right:0,top:0,bottom:0};function fr(e,t,n){for(var r,o,i,a,u,c,s=0;s<e.length;s+=3)if(u=e[s],c=e[s+1],t<u?(o=0,i=1,a="left"):t<c?i=1+(o=t-u):(s==e.length-3||t==c&&e[s+3]>t)&&(o=(i=c-u)-1,t>=c&&(a="right")),null!=o){if(r=e[s+2],u==c&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==o)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)r=e[2+(s-=3)],a="left";if("right"==n&&o==c-u)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)r=e[(s+=3)+2],a="right";break}return{node:r,start:o,end:i,collapse:a,coverStart:u,coverEnd:c}}function dr(e,t){var n=lr;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var o=e.length-1;o>=0&&(n=e[o]).left==n.right;o--);return n}function pr(e,t,n,r){var o,i=fr(t.map,n,r),c=i.node,s=i.start,l=i.end,f=i.collapse;if(3==c.nodeType){for(var d=0;d<4;d++){for(;s&&le(t.line.text.charAt(i.coverStart+s));)--s;for(;i.coverStart+l<i.coverEnd&&le(t.line.text.charAt(i.coverStart+l));)++l;if((o=a&&u<9&&0==s&&l==i.coverEnd-i.coverStart?c.parentNode.getBoundingClientRect():dr(k(c,s,l).getClientRects(),r)).left||o.right||0==s)break;l=s,s-=1,f="right"}a&&u<11&&(o=hr(e.display.measure,o))}else{var p;s>0&&(f=r="right"),o=e.options.lineWrapping&&(p=c.getClientRects()).length>1?p["right"==r?p.length-1:0]:c.getBoundingClientRect()}if(a&&u<9&&!s&&(!o||!o.left&&!o.right)){var h=c.parentNode.getClientRects()[0];o=h?{left:h.left,right:h.left+Dr(e.display),top:h.top,bottom:h.bottom}:lr}for(var v=o.top-t.rect.top,g=o.bottom-t.rect.top,m=(v+g)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(m<y[b]);b++);var w=b?y[b-1]:0,x=y[b],C={left:("right"==f?o.right:o.left)-t.rect.left,right:("left"==f?o.left:o.right)-t.rect.left,top:w,bottom:x};return o.left||o.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=v,C.rbottom=g),C}function hr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!He(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function vr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function gr(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)vr(e.display.view[t])}function mr(e){gr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function yr(e){return l&&m?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function br(e){return l&&m?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function wr(e){var t=rn(e).widgets,n=0;if(t)for(var r=0;r<t.length;++r)t[r].above&&(n+=Kn(t[r]));return n}function xr(e,t,n,r,o){if(!o){var i=wr(t);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var a=fn(t);if("local"==r?a+=Zn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var u=e.display.lineSpace.getBoundingClientRect();a+=u.top+("window"==r?0:br(R(e)));var c=u.left+("window"==r?0:yr(R(e)));n.left+=c,n.right+=c}return n.top+=a,n.bottom+=a,n}function Cr(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=yr(R(e)),o-=br(R(e));else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function Er(e,t,n,r,o){return r||(r=nt(e.doc,t.line)),xr(e,r,ir(e,r,t.ch,o),n)}function Sr(e,t,n,r,o,i){function a(t,a){var u=cr(e,o,t,a?"right":"left",i);return a?u.left=u.right:u.right=u.left,xr(e,r,u,n)}r=r||nt(e.doc,t.line),o||(o=ur(e,r));var u=me(r,e.doc.direction),c=t.ch,s=t.sticky;if(c>=r.text.length?(c=r.text.length,s="before"):c<=0&&(c=0,s="after"),!u)return a("before"==s?c-1:c,"before"==s);function l(e,t,n){return a(n?e-1:e,1==u[t].level!=n)}var f=ve(u,c,s),d=he,p=l(c,f,"before"==s);return null!=d&&(p.other=l(c,d,"before"!=s)),p}function _r(e,t){var n=0;t=mt(e.doc,t),e.options.lineWrapping||(n=Dr(e.display)*t.ch);var r=nt(e.doc,t.line),o=fn(r)+Zn(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function kr(e,t,n,r,o){var i=lt(e,t,n);return i.xRel=o,r&&(i.outside=r),i}function Ar(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return kr(r.first,0,null,-1,-1);var o=ut(r,n),i=r.first+r.size-1;if(o>i)return kr(r.first+r.size-1,nt(r,i).text.length,null,1,1);t<0&&(t=0);for(var a=nt(r,o);;){var u=Tr(e,a,o,t,n),c=tn(a,u.ch+(u.xRel>0||u.outside>0?1:0));if(!c)return u;var s=c.find(1);if(s.line==o)return s;a=nt(r,o=s.line)}}function Or(e,t,n,r){r-=wr(t);var o=t.text.length,i=de((function(t){return cr(e,n,t-1).bottom<=r}),o,0);return{begin:i,end:o=de((function(t){return cr(e,n,t).top>r}),i,o)}}function Nr(e,t,n,r){return n||(n=ur(e,t)),Or(e,t,n,xr(e,t,cr(e,n,r),"line").top)}function Mr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Tr(e,t,n,r,o){o-=fn(t);var i=ur(e,t),a=wr(t),u=0,c=t.text.length,s=!0,l=me(t,e.doc.direction);if(l){var f=(e.options.lineWrapping?Ir:Pr)(e,t,n,i,l,r,o);u=(s=1!=f.level)?f.from:f.to-1,c=s?f.to:f.from-1}var d,p,h=null,v=null,g=de((function(t){var n=cr(e,i,t);return n.top+=a,n.bottom+=a,!!Mr(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(h=t,v=n),!0)}),u,c),m=!1;if(v){var y=r-v.left<v.right-r,b=y==s;g=h+(b?0:1),p=b?"after":"before",d=y?v.left:v.right}else{s||g!=c&&g!=u||g++,p=0==g?"after":g==t.text.length?"before":cr(e,i,g-(s?1:0)).bottom+a<=o==s?"after":"before";var w=Sr(e,lt(n,g,p),"line",t,i);d=w.left,m=o<w.top?-1:o>=w.bottom?1:0}return kr(n,g=fe(t.text,g,1),p,m,r-d)}function Pr(e,t,n,r,o,i,a){var u=de((function(u){var c=o[u],s=1!=c.level;return Mr(Sr(e,lt(n,s?c.to:c.from,s?"before":"after"),"line",t,r),i,a,!0)}),0,o.length-1),c=o[u];if(u>0){var s=1!=c.level,l=Sr(e,lt(n,s?c.from:c.to,s?"after":"before"),"line",t,r);Mr(l,i,a,!0)&&l.top>a&&(c=o[u-1])}return c}function Ir(e,t,n,r,o,i,a){var u=Or(e,t,r,a),c=u.begin,s=u.end;/\s/.test(t.text.charAt(s-1))&&s--;for(var l=null,f=null,d=0;d<o.length;d++){var p=o[d];if(!(p.from>=s||p.to<=c)){var h=cr(e,r,1!=p.level?Math.min(s,p.to)-1:Math.max(c,p.from)).right,v=h<i?i-h+1e9:h-i;(!l||f>v)&&(l=p,f=v)}}return l||(l=o[o.length-1]),l.from<c&&(l={from:c,to:l.to,level:l.level}),l.to>s&&(l={from:l.from,to:s,level:l.level}),l}function Lr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==sr){sr=M("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)sr.appendChild(document.createTextNode("x")),sr.appendChild(M("br"));sr.appendChild(document.createTextNode("x"))}N(e.measure,sr);var n=sr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),O(e.measure),n||1}function Dr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=M("span","xxxxxxxxxx"),n=M("pre",[t],"CodeMirror-line-like");N(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function jr(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var u=e.display.gutterSpecs[a].className;n[u]=i.offsetLeft+i.clientLeft+o,r[u]=i.clientWidth}return{fixedPos:Rr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Rr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Fr(e){var t=Lr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Dr(e.display)-3);return function(o){if(sn(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return n?i+(Math.ceil(o.text.length/r)||1)*t:i+t}}function zr(e){var t=e.doc,n=Fr(e);t.iter((function(e){var t=n(e);t!=e.height&&it(e,t)}))}function Br(e,t,n,r){var o=e.display;if(!n&&"true"==Te(t).getAttribute("cm-not-content"))return null;var i,a,u=o.lineSpace.getBoundingClientRect();try{i=t.clientX-u.left,a=t.clientY-u.top}catch(e){return null}var c,s=Ar(e,i,a);if(r&&s.xRel>0&&(c=nt(e.doc,s.line).text).length==s.ch){var l=H(c,c.length,e.options.tabSize)-c.length;s=lt(s.line,Math.max(0,Math.round((i-Jn(e.display).left)/Dr(e.display))-l))}return s}function Ur(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Wr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Dt&&un(e.doc,t)<o.viewTo&&Vr(e);else if(n<=o.viewFrom)Dt&&cn(e.doc,n+r)>o.viewFrom?Vr(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)Vr(e);else if(t<=o.viewFrom){var i=Gr(e,n,n+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):Vr(e)}else if(n>=o.viewTo){var a=Gr(e,t,t,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):Vr(e)}else{var u=Gr(e,t,t,-1),c=Gr(e,n,n+r,1);u&&c?(o.view=o.view.slice(0,u.index).concat(On(e,u.lineN,c.lineN)).concat(o.view.slice(c.index)),o.viewTo+=r):Vr(e)}var s=o.externalMeasured;s&&(n<s.lineN?s.lineN+=r:t<s.lineN+s.size&&(o.externalMeasured=null))}function Hr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var i=r.view[Ur(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==G(a,n)&&a.push(n)}}}function Vr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Gr(e,t,n,r){var o,i=Ur(e,t),a=e.display.view;if(!Dt||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var u=e.display.viewFrom,c=0;c<i;c++)u+=a[c].size;if(u!=t){if(r>0){if(i==a.length-1)return null;o=u+a[i].size-t,i++}else o=u-t;t+=o,n+=o}for(;un(e.doc,n)!=n;){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function Yr(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=On(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=On(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Ur(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(On(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Ur(e,n)))),r.viewTo=n}function Xr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];o.hidden||o.node&&!o.changes||++n}return n}function Kr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function qr(e,t){void 0===t&&(t=!0);var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=e.options.$customCursor;a&&(t=!0);for(var u=0;u<n.sel.ranges.length;u++)if(t||u!=n.sel.primIndex){var c=n.sel.ranges[u];if(!(c.from().line>=e.display.viewTo||c.to().line<e.display.viewFrom)){var s=c.empty();if(a){var l=a(e,c);l&&Zr(e,l,o)}else(s||e.options.showCursorWhenSelecting)&&Zr(e,c.head,o);s||Jr(e,c,i)}}return r}function Zr(e,t,n){var r=Sr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(M("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var i=Er(e,t,"div",null,null),a=i.right-i.left;o.style.width=(a>0?a:e.defaultCharWidth())+"px"}if(r.other){var u=n.appendChild(M("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));u.style.display="",u.style.left=r.other.left+"px",u.style.top=r.other.top+"px",u.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Qr(e,t){return e.top-t.top||e.left-t.left}function Jr(e,t,n){var r=e.display,o=e.doc,i=document.createDocumentFragment(),a=Jn(e.display),u=a.left,c=Math.max(r.sizerWidth,er(e)-r.sizer.offsetLeft)-a.right,s="ltr"==o.direction;function l(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),i.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?c-e:n)+"px;\n                             height: "+(r-t)+"px"))}function f(t,n,r){var i,a,f=nt(o,t),d=f.text.length;function p(n,r){return Er(e,lt(t,n),"div",f,r)}function h(t,n,r){var o=Nr(e,f,null,t),i="ltr"==n==("after"==r)?"left":"right";return p("after"==r?o.begin:o.end-(/\s/.test(f.text.charAt(o.end-1))?2:1),i)[i]}var v=me(f,o.direction);return pe(v,n||0,null==r?d:r,(function(e,t,o,f){var g="ltr"==o,m=p(e,g?"left":"right"),y=p(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==d,x=0==f,C=!v||f==v.length-1;if(y.top-m.top<=3){var E=(s?w:b)&&C,S=(s?b:w)&&x?u:(g?m:y).left,_=E?c:(g?y:m).right;l(S,m.top,_-S,m.bottom)}else{var k,A,O,N;g?(k=s&&b&&x?u:m.left,A=s?c:h(e,o,"before"),O=s?u:h(t,o,"after"),N=s&&w&&C?c:y.right):(k=s?h(e,o,"before"):u,A=!s&&b&&x?c:m.right,O=!s&&w&&C?u:y.left,N=s?h(t,o,"after"):c),l(k,m.top,A-k,m.bottom),m.bottom<y.top&&l(u,m.bottom,null,y.top),l(O,y.top,N-O,y.bottom)}(!i||Qr(m,i)<0)&&(i=m),Qr(y,i)<0&&(i=y),(!a||Qr(m,a)<0)&&(a=m),Qr(y,a)<0&&(a=y)})),{start:i,end:a}}var d=t.from(),p=t.to();if(d.line==p.line)f(d.line,d.ch,p.ch);else{var h=nt(o,d.line),v=nt(o,p.line),g=rn(h)==rn(v),m=f(d.line,d.ch,g?h.text.length+1:null).end,y=f(p.line,g?0:null,p.ch).start;g&&(m.top<y.top-2?(l(m.right,m.top,null,m.bottom),l(u,y.top,y.left,y.bottom)):l(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&l(u,m.bottom,null,y.top)}n.appendChild(i)}function $r(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||ro(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function eo(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||no(e))}function to(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&ro(e))}),100)}function no(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ce(e,"focus",e,t),e.state.focused=!0,L(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),c&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),$r(e))}function ro(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Ce(e,"blur",e,t),e.state.focused=!1,A(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function oo(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),o=t.lineDiv.getBoundingClientRect().top,i=0,c=0;c<t.view.length;c++){var s=t.view[c],l=e.options.lineWrapping,f=void 0,d=0;if(!s.hidden){if(o+=s.line.height,a&&u<8){var p=s.node.offsetTop+s.node.offsetHeight;f=p-n,n=p}else{var h=s.node.getBoundingClientRect();f=h.bottom-h.top,!l&&s.text.firstChild&&(d=s.text.firstChild.getBoundingClientRect().right-h.left-1)}var v=s.line.height-f;if((v>.005||v<-.005)&&(o<r&&(i-=v),it(s.line,f),io(s.line),s.rest))for(var g=0;g<s.rest.length;g++)io(s.rest[g]);if(d>e.display.sizerWidth){var m=Math.ceil(d/Dr(e.display));m>e.display.maxLineLength&&(e.display.maxLineLength=m,e.display.maxLine=s.line,e.display.maxLineChanged=!0)}}}Math.abs(i)>2&&(t.scroller.scrollTop+=i)}function io(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ao(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Zn(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,i=ut(t,r),a=ut(t,o);if(n&&n.ensure){var u=n.ensure.from.line,c=n.ensure.to.line;u<i?(i=u,a=ut(t,fn(nt(t,u))+e.wrapper.clientHeight)):Math.min(c,t.lastLine())>=a&&(i=ut(t,fn(nt(t,c))-e.wrapper.clientHeight),a=c)}return{from:i,to:Math.max(a,i+1)}}function uo(e,t){if(!Ee(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null,i=n.wrapper.ownerDocument;if(t.top+r.top<0?o=!0:t.bottom+r.top>(i.defaultView.innerHeight||i.documentElement.clientHeight)&&(o=!1),null!=o&&!v){var a=M("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Zn(e.display))+"px;\n                         height: "+(t.bottom-t.top+$n(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function co(e,t,n,r){var o;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?lt(t.line,t.ch+1,"before"):t,t=t.ch?lt(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var i=0;i<5;i++){var a=!1,u=Sr(e,t),c=n&&n!=t?Sr(e,n):u,s=lo(e,o={left:Math.min(u.left,c.left),top:Math.min(u.top,c.top)-r,right:Math.max(u.left,c.left),bottom:Math.max(u.bottom,c.bottom)+r}),l=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=s.scrollTop&&(yo(e,s.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(a=!0)),null!=s.scrollLeft&&(wo(e,s.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return o}function so(e,t){var n=lo(e,t);null!=n.scrollTop&&yo(e,n.scrollTop),null!=n.scrollLeft&&wo(e,n.scrollLeft)}function lo(e,t){var n=e.display,r=Lr(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,i=tr(e),a={};t.bottom-t.top>i&&(t.bottom=t.top+i);var u=e.doc.height+Qn(n),c=t.top<r,s=t.bottom>u-r;if(t.top<o)a.scrollTop=c?0:t.top;else if(t.bottom>o+i){var l=Math.min(t.top,(s?u:t.bottom)-i);l!=o&&(a.scrollTop=l)}var f=e.options.fixedGutter?0:n.gutters.offsetWidth,d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-f,p=er(e)-n.gutters.offsetWidth,h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<d?a.scrollLeft=Math.max(0,t.left+f-(h?0:10)):t.right>p+d-3&&(a.scrollLeft=t.right+(h?0:10)-p),a}function fo(e,t){null!=t&&(go(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function po(e){go(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ho(e,t,n){null==t&&null==n||go(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function vo(e,t){go(e),e.curOp.scrollToPos=t}function go(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,mo(e,_r(e,t.from),_r(e,t.to),t.margin))}function mo(e,t,n,r){var o=lo(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});ho(e,o.scrollLeft,o.scrollTop)}function yo(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||qo(e,{top:t}),bo(e,t,!0),n&&qo(e),Uo(e,100))}function bo(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function wo(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,$o(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function xo(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Qn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+$n(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Co=function(e,t,n){this.cm=n;var r=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),be(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),be(o,"scroll",(function(){o.clientWidth&&t(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Co.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Co.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Co.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Co.prototype.zeroWidthHack=function(){var e=b&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new V,this.disableVert=new V},Co.prototype.enableZeroWidthBar=function(e,t,n){function r(){var o=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,r)}e.style.visibility="",t.set(1e3,r)},Co.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Eo=function(){};function So(e,t){t||(t=xo(e));var n=e.display.barWidth,r=e.display.barHeight;_o(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&oo(e),_o(e,xo(e)),n=e.display.barWidth,r=e.display.barHeight}function _o(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Eo.prototype.update=function(){return{bottom:0,right:0}},Eo.prototype.setScrollLeft=function(){},Eo.prototype.setScrollTop=function(){},Eo.prototype.clear=function(){};var ko={native:Co,null:Eo};function Ao(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&A(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ko[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),be(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?wo(e,t):yo(e,t)}),e),e.display.scrollbars.addClass&&L(e.display.wrapper,e.display.scrollbars.addClass)}var Oo=0;function No(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Oo,markArrays:null},Mn(e.curOp)}function Mo(e){var t=e.curOp;t&&Pn(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;To(e)}))}function To(e){for(var t=e.ops,n=0;n<t.length;n++)Po(t[n]);for(var r=0;r<t.length;r++)Io(t[r]);for(var o=0;o<t.length;o++)Lo(t[o]);for(var i=0;i<t.length;i++)Do(t[i]);for(var a=0;a<t.length;a++)jo(t[a])}function Po(e){var t=e.cm,n=t.display;Vo(t),e.updateMaxLine&&pn(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ho(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Io(e){e.updatedDisplay=e.mustUpdate&&Xo(e.cm,e.update)}function Lo(e){var t=e.cm,n=t.display;e.updatedDisplay&&oo(t),e.barMeasure=xo(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=ir(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+$n(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-er(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Do(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&wo(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==I(F(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&So(t,e.barMeasure),e.updatedDisplay&&Jo(t,e.barMeasure),e.selectionChanged&&$r(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&eo(e.cm)}function jo(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&Ko(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&bo(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&wo(t,e.scrollLeft,!0,!0),e.scrollToPos&&uo(t,co(t,mt(r,e.scrollToPos.from),mt(r,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,i=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Ce(o[a],"hide");if(i)for(var u=0;u<i.length;++u)i[u].lines.length&&Ce(i[u],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ce(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ro(e,t){if(e.curOp)return t();No(e);try{return t()}finally{Mo(e)}}function Fo(e,t){return function(){if(e.curOp)return t.apply(e,arguments);No(e);try{return t.apply(e,arguments)}finally{Mo(e)}}}function zo(e){return function(){if(this.curOp)return e.apply(this,arguments);No(this);try{return e.apply(this,arguments)}finally{Mo(this)}}}function Bo(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);No(t);try{return e.apply(this,arguments)}finally{Mo(t)}}}function Uo(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,U(Wo,e))}function Wo(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=St(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(i){if(r.line>=e.display.viewFrom){var a=i.styles,u=i.text.length>e.options.maxHighlightLength?Je(t.mode,r.state):null,c=Ct(e,i,r,!0);u&&(r.state=u),i.styles=c.styles;var s=i.styleClasses,l=c.classes;l?i.styleClasses=l:s&&(i.styleClasses=null);for(var f=!a||a.length!=i.styles.length||s!=l&&(!s||!l||s.bgClass!=l.bgClass||s.textClass!=l.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=i.styles[d];f&&o.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=e.options.maxHighlightLength&&_t(e,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Uo(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&Ro(e,(function(){for(var t=0;t<o.length;t++)Hr(e,o[t],"text")}))}}var Ho=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ao(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=er(e),this.force=n,this.dims=jr(e),this.events=[]};function Vo(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=$n(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=$n(e)+"px",t.scrollbarsClipped=!0)}function Go(e){if(e.hasFocus())return null;var t=I(F(e));if(!t||!P(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=B(e).getSelection();r.anchorNode&&r.extend&&P(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Yo(e){if(e&&e.activeElt&&e.activeElt!=I(z(e.activeElt))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&P(document.body,e.anchorNode)&&P(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,n=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(e.focusNode,e.focusOffset)}}function Xo(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Vr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Xr(e))return!1;ei(e)&&(Vr(e),t.dims=jr(e));var o=r.first+r.size,i=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),Dt&&(i=un(e.doc,i),a=cn(e.doc,a));var u=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Yr(e,i,a),n.viewOffset=fn(nt(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=Xr(e);if(!u&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var s=Go(e);return c>4&&(n.lineDiv.style.display="none"),Zo(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Yo(s),O(n.cursorDiv),O(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,u&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Uo(e,400)),n.updateLineNumbers=null,!0}function Ko(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=er(e))r&&(t.visible=ao(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Qn(e.display)-tr(e),n.top)}),t.visible=ao(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Xo(e,t))break;oo(e);var o=xo(e);Kr(e),So(e,o),Jo(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function qo(e,t){var n=new Ho(e,t);if(Xo(e,n)){oo(e),Ko(e,n);var r=xo(e);Kr(e),So(e,r),Jo(e,r),n.finish()}}function Zo(e,t,n){var r=e.display,o=e.options.lineNumbers,i=r.lineDiv,a=i.firstChild;function u(t){var n=t.nextSibling;return c&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var s=r.view,l=r.viewFrom,f=0;f<s.length;f++){var d=s[f];if(d.hidden);else if(d.node&&d.node.parentNode==i){for(;a!=d.node;)a=u(a);var p=o&&null!=t&&t<=l&&d.lineNumber;d.changes&&(G(d.changes,"gutter")>-1&&(p=!1),jn(e,d,l,n)),p&&(O(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(st(e.options,l)))),a=d.node.nextSibling}else{var h=Vn(e,d,l,n);i.insertBefore(h,a)}l+=d.size}for(;a;)a=u(a)}function Qo(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Ln(e,"gutterChanged",e)}function Jo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+$n(e)+"px"}function $o(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Rr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=i),n[a].gutterBackground&&(n[a].gutterBackground.style.left=i));var u=n[a].alignable;if(u)for(var c=0;c<u.length;c++)u[c].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function ei(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=st(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(M("div",[M("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Qo(e.display),!0}return!1}function ti(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var i=e[o],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!t)continue;r=!0}n.push({className:i,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function ni(e){var t=e.gutters,n=e.gutterSpecs;O(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],i=o.className,a=o.style,u=t.appendChild(M("div",null,"CodeMirror-gutter "+i));a&&(u.style.cssText=a),"CodeMirror-linenumbers"==i&&(e.lineGutter=u,u.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Qo(e)}function ri(e){ni(e.display),Wr(e),$o(e)}function oi(e,t,r,o){var i=this;this.input=r,i.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=T("div",null,"CodeMirror-code"),i.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=M("div",null,"CodeMirror-cursors"),i.measure=M("div",null,"CodeMirror-measure"),i.lineMeasure=M("div",null,"CodeMirror-measure"),i.lineSpace=T("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var s=T("div",[i.lineSpace],"CodeMirror-lines");i.mover=M("div",[s],null,"position: relative"),i.sizer=M("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=M("div",null,null,"position: absolute; height: "+Y+"px; width: 1px;"),i.gutters=M("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=M("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=M("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),l&&f>=105&&(i.wrapper.style.clipPath="inset(0px)"),i.wrapper.setAttribute("translate","no"),a&&u<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),c||n&&y||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=ti(o.gutters,o.lineNumbers),ni(i),r.init(i)}Ho.prototype.signal=function(e,t){_e(e,t)&&this.events.push(arguments)},Ho.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Ce.apply(null,this.events[e])};var ii=0,ai=null;function ui(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function ci(e){var t=ui(e);return t.x*=ai,t.y*=ai,t}function si(e,t){l&&102==f&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout((function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""}),100));var r=ui(t),o=r.x,i=r.y,a=ai;0===t.deltaMode&&(o=t.deltaX,i=t.deltaY,a=1);var u=e.display,s=u.scroller,p=s.scrollWidth>s.clientWidth,h=s.scrollHeight>s.clientHeight;if(o&&p||i&&h){if(i&&b&&c)e:for(var v=t.target,g=u.view;v!=s;v=v.parentNode)for(var m=0;m<g.length;m++)if(g[m].node==v){e.display.currentWheelTarget=v;break e}if(o&&!n&&!d&&null!=a)return i&&h&&yo(e,Math.max(0,s.scrollTop+i*a)),wo(e,Math.max(0,s.scrollLeft+o*a)),(!i||i&&h)&&Ae(t),void(u.wheelStartX=null);if(i&&null!=a){var y=i*a,w=e.doc.scrollTop,x=w+u.wrapper.clientHeight;y<0?w=Math.max(0,w+y-50):x=Math.min(e.doc.height,x+y+50),qo(e,{top:w,bottom:x})}ii<20&&0!==t.deltaMode&&(null==u.wheelStartX?(u.wheelStartX=s.scrollLeft,u.wheelStartY=s.scrollTop,u.wheelDX=o,u.wheelDY=i,setTimeout((function(){if(null!=u.wheelStartX){var e=s.scrollLeft-u.wheelStartX,t=s.scrollTop-u.wheelStartY,n=t&&u.wheelDY&&t/u.wheelDY||e&&u.wheelDX&&e/u.wheelDX;u.wheelStartX=u.wheelStartY=null,n&&(ai=(ai*ii+n)/(ii+1),++ii)}}),200)):(u.wheelDX+=o,u.wheelDY+=i))}}a?ai=-.53:n?ai=15:l?ai=-.7:p&&(ai=-1/3);var li=function(e,t){this.ranges=e,this.primIndex=t};li.prototype.primary=function(){return this.ranges[this.primIndex]},li.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!dt(n.anchor,r.anchor)||!dt(n.head,r.head))return!1}return!0},li.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new fi(pt(this.ranges[t].anchor),pt(this.ranges[t].head));return new li(e,this.primIndex)},li.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},li.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ft(t,r.from())>=0&&ft(e,r.to())<=0)return n}return-1};var fi=function(e,t){this.anchor=e,this.head=t};function di(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort((function(e,t){return ft(e.from(),t.from())})),n=G(t,o);for(var i=1;i<t.length;i++){var a=t[i],u=t[i-1],c=ft(u.to(),a.from());if(r&&!a.empty()?c>0:c>=0){var s=vt(u.from(),a.from()),l=ht(u.to(),a.to()),f=u.empty()?a.from()==a.head:u.from()==u.head;i<=n&&--n,t.splice(--i,2,new fi(f?l:s,f?s:l))}}return new li(t,n)}function pi(e,t){return new li([new fi(e,t||e)],0)}function hi(e){return e.text?lt(e.from.line+e.text.length-1,ee(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function vi(e,t){if(ft(e,t.from)<0)return e;if(ft(e,t.to)<=0)return hi(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=hi(t).ch-t.to.ch),lt(n,r)}function gi(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new fi(vi(o.anchor,t),vi(o.head,t)))}return di(e.cm,n,e.sel.primIndex)}function mi(e,t,n){return e.line==t.line?lt(n.line,e.ch-t.ch+n.ch):lt(n.line+(e.line-t.line),e.ch)}function yi(e,t,n){for(var r=[],o=lt(e.first,0),i=o,a=0;a<t.length;a++){var u=t[a],c=mi(u.from,o,i),s=mi(hi(u),o,i);if(o=u.to,i=s,"around"==n){var l=e.sel.ranges[a],f=ft(l.head,l.anchor)<0;r[a]=new fi(f?s:c,f?c:s)}else r[a]=new fi(c,c)}return new li(r,e.sel.primIndex)}function bi(e){e.doc.mode=qe(e.options,e.doc.modeOption),wi(e)}function wi(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Uo(e,100),e.state.modeGen++,e.curOp&&Wr(e)}function xi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==ee(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ci(e,t,n,r){function o(e){return n?n[e]:null}function i(e,n,o){vn(e,n,o,r),Ln(e,"change",e,t)}function a(e,t){for(var n=[],i=e;i<t;++i)n.push(new hn(s[i],o(i),r));return n}var u=t.from,c=t.to,s=t.text,l=nt(e,u.line),f=nt(e,c.line),d=ee(s),p=o(s.length-1),h=c.line-u.line;if(t.full)e.insert(0,a(0,s.length)),e.remove(s.length,e.size-s.length);else if(xi(e,t)){var v=a(0,s.length-1);i(f,f.text,p),h&&e.remove(u.line,h),v.length&&e.insert(u.line,v)}else if(l==f)if(1==s.length)i(l,l.text.slice(0,u.ch)+d+l.text.slice(c.ch),p);else{var g=a(1,s.length-1);g.push(new hn(d+l.text.slice(c.ch),p,r)),i(l,l.text.slice(0,u.ch)+s[0],o(0)),e.insert(u.line+1,g)}else if(1==s.length)i(l,l.text.slice(0,u.ch)+s[0]+f.text.slice(c.ch),o(0)),e.remove(u.line+1,h);else{i(l,l.text.slice(0,u.ch)+s[0],o(0)),i(f,d+f.text.slice(c.ch),p);var m=a(1,s.length-1);h>1&&e.remove(u.line+1,h-1),e.insert(u.line+1,m)}Ln(e,"change",e,t)}function Ei(e,t,n){function r(e,o,i){if(e.linked)for(var a=0;a<e.linked.length;++a){var u=e.linked[a];if(u.doc!=o){var c=i&&u.sharedHist;n&&!c||(t(u.doc,c),r(u.doc,e,c))}}}r(e,null,!0)}function Si(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,zr(e),bi(e),_i(e),e.options.direction=t.direction,e.options.lineWrapping||pn(e),e.options.mode=t.modeOption,Wr(e)}function _i(e){("rtl"==e.doc.direction?L:A)(e.display.lineDiv,"CodeMirror-rtl")}function ki(e){Ro(e,(function(){_i(e),Wr(e)}))}function Ai(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Oi(e,t){var n={from:pt(t.from),to:hi(t),text:rt(e,t.from,t.to)};return Di(e,n,t.from.line,t.to.line+1),Ei(e,(function(e){return Di(e,n,t.from.line,t.to.line+1)}),!0),n}function Ni(e){for(;e.length&&ee(e).ranges;)e.pop()}function Mi(e,t){return t?(Ni(e.done),ee(e.done)):e.done.length&&!ee(e.done).ranges?ee(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),ee(e.done)):void 0}function Ti(e,t,n,r){var o=e.history;o.undone.length=0;var i,a,u=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>u-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(i=Mi(o,o.lastOp==r)))a=ee(i.changes),0==ft(t.from,t.to)&&0==ft(t.from,a.to)?a.to=hi(t):i.changes.push(Oi(e,t));else{var c=ee(o.done);for(c&&c.ranges||Li(e.sel,o.done),i={changes:[Oi(e,t)],generation:o.generation},o.done.push(i);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=u,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,a||Ce(e,"historyAdded")}function Pi(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ii(e,t,n,r){var o=e.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||Pi(e,i,ee(o.done),t))?o.done[o.done.length-1]=t:Li(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&Ni(o.undone)}function Li(e,t){var n=ee(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Di(e,t,n,r){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=n.markedSpans),++i}))}function ji(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Ri(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(ji(n[o]));return r}function Fi(e,t){var n=Ri(e,t),r=Vt(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],a=r[o];if(i&&a)e:for(var u=0;u<a.length;++u){for(var c=a[u],s=0;s<i.length;++s)if(i[s].marker==c.marker)continue e;i.push(c)}else a&&(n[o]=a)}return n}function zi(e,t,n){for(var r=[],o=0;o<e.length;++o){var i=e[o];if(i.ranges)r.push(n?li.prototype.deepCopy.call(i):i);else{var a=i.changes,u=[];r.push({changes:u});for(var c=0;c<a.length;++c){var s=a[c],l=void 0;if(u.push({from:s.from,to:s.to,text:s.text}),t)for(var f in s)(l=f.match(/^spans_(\d+)$/))&&G(t,Number(l[1]))>-1&&(ee(u)[f]=s[f],delete s[f])}}}return r}function Bi(e,t,n,r){if(r){var o=e.anchor;if(n){var i=ft(t,o)<0;i!=ft(n,o)<0?(o=t,t=n):i!=ft(t,n)<0&&(t=n)}return new fi(o,t)}return new fi(n||t,t)}function Ui(e,t,n,r,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),Xi(e,new li([Bi(e.sel.primary(),t,n,o)],0),r)}function Wi(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=Bi(e.sel.ranges[i],t[i],null,o);Xi(e,di(e.cm,r,e.sel.primIndex),n)}function Hi(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,Xi(e,di(e.cm,o,e.sel.primIndex),r)}function Vi(e,t,n,r){Xi(e,pi(t,n),r)}function Gi(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new fi(mt(e,t[n].anchor),mt(e,t[n].head))},origin:n&&n.origin};return Ce(e,"beforeSelectionChange",e,r),e.cm&&Ce(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?di(e.cm,r.ranges,r.ranges.length-1):t}function Yi(e,t,n){var r=e.history.done,o=ee(r);o&&o.ranges?(r[r.length-1]=t,Ki(e,t,n)):Xi(e,t,n)}function Xi(e,t,n){Ki(e,t,n),Ii(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ki(e,t,n){(_e(e,"beforeSelectionChange")||e.cm&&_e(e.cm,"beforeSelectionChange"))&&(t=Gi(e,t,n));var r=n&&n.bias||(ft(t.primary().head,e.sel.primary().head)<0?-1:1);qi(e,Qi(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||po(e.cm)}function qi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Se(e.cm)),Ln(e,"cursorActivity",e))}function Zi(e){qi(e,Qi(e,e.sel,null,!1))}function Qi(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var a=t.ranges[i],u=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],c=$i(e,a.anchor,u&&u.anchor,n,r),s=a.head==a.anchor?c:$i(e,a.head,u&&u.head,n,r);(o||c!=a.anchor||s!=a.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new fi(c,s))}return o?di(e.cm,o,t.primIndex):t}function Ji(e,t,n,r,o){var i=nt(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var u=i.markedSpans[a],c=u.marker,s="selectLeft"in c?!c.selectLeft:c.inclusiveLeft,l="selectRight"in c?!c.selectRight:c.inclusiveRight;if((null==u.from||(s?u.from<=t.ch:u.from<t.ch))&&(null==u.to||(l?u.to>=t.ch:u.to>t.ch))){if(o&&(Ce(c,"beforeCursorEnter"),c.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!c.atomic)continue;if(n){var f=c.find(r<0?1:-1),d=void 0;if((r<0?l:s)&&(f=ea(e,f,-r,f&&f.line==t.line?i:null)),f&&f.line==t.line&&(d=ft(f,n))&&(r<0?d<0:d>0))return Ji(e,f,t,r,o)}var p=c.find(r<0?-1:1);return(r<0?s:l)&&(p=ea(e,p,r,p.line==t.line?i:null)),p?Ji(e,p,t,r,o):null}}return t}function $i(e,t,n,r,o){var i=r||1,a=Ji(e,t,n,i,o)||!o&&Ji(e,t,n,i,!0)||Ji(e,t,n,-i,o)||!o&&Ji(e,t,n,-i,!0);return a||(e.cantEdit=!0,lt(e.first,0))}function ea(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?mt(e,lt(t.line-1)):null:n>0&&t.ch==(r||nt(e,t.line)).text.length?t.line<e.first+e.size-1?lt(t.line+1,0):null:new lt(t.line,t.ch+n)}function ta(e){e.setSelection(lt(e.firstLine(),0),lt(e.lastLine()),K)}function na(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,o,i){t&&(r.from=mt(e,t)),n&&(r.to=mt(e,n)),o&&(r.text=o),void 0!==i&&(r.origin=i)}),Ce(e,"beforeChange",e,r),e.cm&&Ce(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ra(e,t,n){if(e.cm){if(!e.cm.curOp)return Fo(e.cm,ra)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(_e(e,"beforeChange")||e.cm&&_e(e.cm,"beforeChange"))||(t=na(e,t,!0))){var r=Lt&&!n&&Yt(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)oa(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else oa(e,t)}}function oa(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ft(t.from,t.to)){var n=gi(e,t);Ti(e,t,n,e.cm?e.cm.curOp.id:NaN),ua(e,t,n,Vt(e,t));var r=[];Ei(e,(function(e,n){n||-1!=G(r,e.history)||(da(e.history,t),r.push(e.history)),ua(e,t,null,Vt(e,t))}))}}function ia(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var o,i=e.history,a=e.sel,u="undo"==t?i.done:i.undone,c="undo"==t?i.undone:i.done,s=0;s<u.length&&(o=u[s],n?!o.ranges||o.equals(e.sel):o.ranges);s++);if(s!=u.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=u.pop()).ranges){if(r)return void u.push(o);break}if(Li(o,c),n&&!o.equals(e.sel))return void Xi(e,o,{clearRedo:!1});a=o}var l=[];Li(a,c),c.push({changes:l,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var f=_e(e,"beforeChange")||e.cm&&_e(e.cm,"beforeChange"),d=function(n){var r=o.changes[n];if(r.origin=t,f&&!na(e,r,!1))return u.length=0,{};l.push(Oi(e,r));var i=n?gi(e,r):ee(u);ua(e,r,i,Fi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:hi(r)});var a=[];Ei(e,(function(e,t){t||-1!=G(a,e.history)||(da(e.history,r),a.push(e.history)),ua(e,r,null,Fi(e,r))}))},p=o.changes.length-1;p>=0;--p){var h=d(p);if(h)return h.v}}}}function aa(e,t){if(0!=t&&(e.first+=t,e.sel=new li(te(e.sel.ranges,(function(e){return new fi(lt(e.anchor.line+t,e.anchor.ch),lt(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Wr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Hr(e.cm,r,"gutter")}}function ua(e,t,n,r){if(e.cm&&!e.cm.curOp)return Fo(e.cm,ua)(e,t,n,r);if(t.to.line<e.first)aa(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);aa(e,o),t={from:lt(e.first,0),to:lt(t.to.line+o,t.to.ch),text:[ee(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:lt(i,nt(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=rt(e,t.from,t.to),n||(n=gi(e,t)),e.cm?ca(e.cm,t,r):Ci(e,t,r),Ki(e,n,K),e.cantEdit&&$i(e,lt(e.firstLine(),0))&&(e.cantEdit=!1)}}function ca(e,t,n){var r=e.doc,o=e.display,i=t.from,a=t.to,u=!1,c=i.line;e.options.lineWrapping||(c=at(rn(nt(r,i.line))),r.iter(c,a.line+1,(function(e){if(e==o.maxLine)return u=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&Se(e),Ci(r,t,n,Fr(e)),e.options.lineWrapping||(r.iter(c,i.line+t.text.length,(function(e){var t=dn(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,u=!1)})),u&&(e.curOp.updateMaxLine=!0)),It(r,i.line),Uo(e,400);var s=t.text.length-(a.line-i.line)-1;t.full?Wr(e):i.line!=a.line||1!=t.text.length||xi(e.doc,t)?Wr(e,i.line,a.line+1,s):Hr(e,i.line,"text");var l=_e(e,"changes"),f=_e(e,"change");if(f||l){var d={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&Ln(e,"change",e,d),l&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function sa(e,t,n,r,o){var i;r||(r=n),ft(r,n)<0&&(n=(i=[r,n])[0],r=i[1]),"string"==typeof t&&(t=e.splitLines(t)),ra(e,{from:n,to:r,text:t,origin:o})}function la(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function fa(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||((i=e[o]=i.deepCopy()).copied=!0);for(var u=0;u<i.ranges.length;u++)la(i.ranges[u].anchor,t,n,r),la(i.ranges[u].head,t,n,r)}else{for(var c=0;c<i.changes.length;++c){var s=i.changes[c];if(n<s.from.line)s.from=lt(s.from.line+r,s.from.ch),s.to=lt(s.to.line+r,s.to.ch);else if(t<=s.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function da(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;fa(e.done,n,r,o),fa(e.undone,n,r,o)}function pa(e,t,n,r){var o=t,i=t;return"number"==typeof t?i=nt(e,gt(e,t)):o=at(t),null==o?null:(r(i,o)&&e.cm&&Hr(e.cm,o,n),i)}function ha(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function va(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}fi.prototype.from=function(){return vt(this.anchor,this.head)},fi.prototype.to=function(){return ht(this.anchor,this.head)},fi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ha.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,gn(o),Ln(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},va.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var i=Math.min(t,o-e),a=r.height;if(r.removeInner(e,i),this.height-=a-r.height,o==i&&(this.children.splice(n--,1),r.parent=null),0==(t-=i))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ha))){var u=[];this.collapse(u),this.children=[new ha(u)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<=i){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,u=a;u<o.lines.length;){var c=new ha(o.lines.slice(u,u+=25));o.height-=c.height,this.children.splice(++r,0,c),c.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new va(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=G(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new va(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<i){var a=Math.min(t,i-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=i}}};var ga=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function ma(e,t,n){fn(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&fo(e,n)}function ya(e,t,n,r){var o=new ga(e,n,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),pa(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!sn(e,t)){var r=fn(t)<e.scrollTop;it(t,t.height+Kn(o)),r&&fo(i,o.height),i.curOp.forceUpdate=!0}return!0})),i&&Ln(i,"lineWidgetAdded",i,o,"number"==typeof t?t:at(t)),o}ga.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=at(n);if(null!=r&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var i=Kn(this);it(n,Math.max(0,n.height-i)),e&&(Ro(e,(function(){ma(e,n,-i),Hr(e,r,"widget")})),Ln(e,"lineWidgetCleared",e,this,r))}},ga.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=Kn(this)-t;o&&(sn(this.doc,r)||it(r,r.height+o),n&&Ro(n,(function(){n.curOp.forceUpdate=!0,ma(n,r,o),Ln(n,"lineWidgetChanged",n,e,at(r))})))},ke(ga);var ba=0,wa=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ba};function xa(e,t,n,r,o){if(r&&r.shared)return Ea(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return Fo(e.cm,xa)(e,t,n,r,o);var i=new wa(e,o),a=ft(t,n);if(r&&W(r,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=T("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(nn(e,t.line,t,n,i)||t.line!=n.line&&nn(e,n.line,t,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");Rt()}i.addToHistory&&Ti(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var u,c=t.line,s=e.cm;if(e.iter(c,n.line+1,(function(r){s&&i.collapsed&&!s.options.lineWrapping&&rn(r)==s.display.maxLine&&(u=!0),i.collapsed&&c!=t.line&&it(r,0),Ut(r,new Ft(i,c==t.line?t.ch:null,c==n.line?n.ch:null),e.cm&&e.cm.curOp),++c})),i.collapsed&&e.iter(t.line,n.line+1,(function(t){sn(e,t)&&it(t,0)})),i.clearOnEnter&&be(i,"beforeCursorEnter",(function(){return i.clear()})),i.readOnly&&(jt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++ba,i.atomic=!0),s){if(u&&(s.curOp.updateMaxLine=!0),i.collapsed)Wr(s,t.line,n.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var l=t.line;l<=n.line;l++)Hr(s,l,"text");i.atomic&&Zi(s.doc),Ln(s,"markerAdded",s,i)}return i}wa.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&No(e),_e(this,"clear")){var n=this.find();n&&Ln(this,"clear",n.from,n.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var a=this.lines[i],u=zt(a.markedSpans,this);e&&!this.collapsed?Hr(e,at(a),"text"):e&&(null!=u.to&&(o=at(a)),null!=u.from&&(r=at(a))),a.markedSpans=Bt(a.markedSpans,u),null==u.from&&this.collapsed&&!sn(this.doc,a)&&e&&it(a,Lr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var s=rn(this.lines[c]),l=dn(s);l>e.display.maxLineLength&&(e.display.maxLine=s,e.display.maxLineLength=l,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Wr(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Zi(e.doc)),e&&Ln(e,"markerCleared",e,this,r,o),t&&Mo(e),this.parent&&this.parent.clear()}},wa.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var i=this.lines[o],a=zt(i.markedSpans,this);if(null!=a.from&&(n=lt(t?i:at(i),a.from),-1==e))return n;if(null!=a.to&&(r=lt(t?i:at(i),a.to),1==e))return r}return n&&{from:n,to:r}},wa.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Ro(r,(function(){var o=t.line,i=at(t.line),a=ar(r,i);if(a&&(vr(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!sn(n.doc,o)&&null!=n.height){var u=n.height;n.height=null;var c=Kn(n)-u;c&&it(o,o.height+c)}Ln(r,"markerChanged",r,e)}))},wa.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=G(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wa.prototype.detachLine=function(e){if(this.lines.splice(G(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ke(wa);var Ca=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function Ea(e,t,n,r,o){(r=W(r)).shared=!1;var i=[xa(e,t,n,r,o)],a=i[0],u=r.widgetNode;return Ei(e,(function(e){u&&(r.widgetNode=u.cloneNode(!0)),i.push(xa(e,mt(e,t),mt(e,n),r,o));for(var c=0;c<e.linked.length;++c)if(e.linked[c].isParent)return;a=ee(i)})),new Ca(i,a)}function Sa(e){return e.findMarks(lt(e.first,0),e.clipPos(lt(e.lastLine())),(function(e){return e.parent}))}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(ft(i,a)){var u=xa(e,i,a,r.primary,r.primary.type);r.markers.push(u),u.parent=r}}}function ka(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Ei(n.primary.doc,(function(e){return r.push(e)}));for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==G(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}},n=0;n<e.length;n++)t(n)}Ca.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Ln(this,"clear")}},Ca.prototype.find=function(e,t){return this.primary.find(e,t)},ke(Ca);var Aa=0,Oa=function(e,t,n,r,o){if(!(this instanceof Oa))return new Oa(e,t,n,r,o);null==n&&(n=0),va.call(this,[new ha([new hn("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=lt(n,0);this.sel=pi(i),this.history=new Ai(null),this.id=++Aa,this.modeOption=t,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ci(this,{from:i,to:i,text:e}),Xi(this,pi(i),K)};Oa.prototype=oe(va.prototype,{constructor:Oa,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ot(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Bo((function(e){var t=lt(this.first,0),n=this.first+this.size-1;ra(this,{from:t,to:lt(n,nt(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ho(this.cm,0,0),Xi(this,pi(t),K)})),replaceRange:function(e,t,n,r){sa(this,e,t=mt(this,t),n=n?mt(this,n):t,r)},getRange:function(e,t,n){var r=rt(this,mt(this,e),mt(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(ct(this,e))return nt(this,e)},getLineNumber:function(e){return at(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=nt(this,e)),rn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return mt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Bo((function(e,t,n){Vi(this,mt(this,"number"==typeof e?lt(e,t||0):e),null,n)})),setSelection:Bo((function(e,t,n){Vi(this,mt(this,e),mt(this,t||e),n)})),extendSelection:Bo((function(e,t,n){Ui(this,mt(this,e),t&&mt(this,t),n)})),extendSelections:Bo((function(e,t){Wi(this,bt(this,e),t)})),extendSelectionsBy:Bo((function(e,t){Wi(this,bt(this,te(this.sel.ranges,e)),t)})),setSelections:Bo((function(e,t,n){if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new fi(mt(this,e[o].anchor),mt(this,e[o].head||e[o].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Xi(this,di(this.cm,r,t),n)}})),addSelection:Bo((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new fi(mt(this,e),mt(this,t||e))),Xi(this,di(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var o=rt(this,n[r].from(),n[r].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=rt(this,n[r].from(),n[r].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Bo((function(e,t,n){for(var r=[],o=this.sel,i=0;i<o.ranges.length;i++){var a=o.ranges[i];r[i]={from:a.from(),to:a.to(),text:this.splitLines(e[i]),origin:n}}for(var u=t&&"end"!=t&&yi(this,r,t),c=r.length-1;c>=0;c--)ra(this,r[c]);u?Yi(this,u):this.cm&&po(this.cm)})),undo:Bo((function(){ia(this,"undo")})),redo:Bo((function(){ia(this,"redo")})),undoSelection:Bo((function(){ia(this,"undo",!0)})),redoSelection:Bo((function(){ia(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Ai(this.history),Ei(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:zi(this.history.done),undone:zi(this.history.undone)}},setHistory:function(e){var t=this.history=new Ai(this.history);t.done=zi(e.done.slice(0),null,!0),t.undone=zi(e.undone.slice(0),null,!0)},setGutterMarker:Bo((function(e,t,n){return pa(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&ce(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Bo((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&pa(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,ce(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!ct(this,e))return null;if(t=e,!(e=nt(this,e)))return null}else if(null==(t=at(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Bo((function(e,t,n){return pa(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(_(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Bo((function(e,t,n){return pa(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var i=o.match(_(n));if(!i)return!1;var a=i.index+i[0].length;e[r]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0}))})),addLineWidget:Bo((function(e,t,n){return ya(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return xa(this,mt(this,e),mt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return xa(this,e=mt(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=nt(this,(e=mt(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=mt(this,e),t=mt(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,(function(i){var a=i.markedSpans;if(a)for(var u=0;u<a.length;u++){var c=a[u];null!=c.to&&o==e.line&&e.ch>=c.to||null==c.from&&o!=e.line||null!=c.from&&o==t.line&&c.from>=t.ch||n&&!n(c.marker)||r.push(c.marker.parent||c.marker)}++o})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(o){var i=o.text.length+r;if(i>e)return t=e,!0;e-=i,++n})),mt(this,lt(n,t))},indexFromPos:function(e){var t=(e=mt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Oa(ot(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Oa(ot(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],_a(r,Sa(this)),r},unlinkDoc:function(e){if(e instanceof Wu&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ka(Sa(this));break}if(e.history==this.history){var n=[e.id];Ei(e,(function(e){return n.push(e.id)}),!0),e.history=new Ai(null),e.history.done=zi(this.history.done,n),e.history.undone=zi(this.history.undone,n)}},iterLinkedDocs:function(e){Ei(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ze(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Bo((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&ki(this.cm))}))}),Oa.prototype.eachLine=Oa.prototype.iter;var Na=0;function Ma(e){var t=this;if(Ia(t),!Ee(t,e)&&!qn(t.display,e)){Ae(e),a&&(Na=+new Date);var n=Br(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),u=0,c=function(){++u==o&&Fo(t,(function(){var e={from:n=mt(t.doc,n),to:n,text:t.doc.splitLines(i.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};ra(t.doc,e),Yi(t.doc,pi(mt(t.doc,n),mt(t.doc,hi(e))))}))()},s=function(e,n){if(t.options.allowDropFileTypes&&-1==G(t.options.allowDropFileTypes,e.type))c();else{var r=new FileReader;r.onerror=function(){return c()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(i[n]=e),c()},r.readAsText(e)}},l=0;l<r.length;l++)s(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var f=e.dataTransfer.getData("Text");if(f){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),Ki(t.doc,pi(n,n)),d)for(var p=0;p<d.length;++p)sa(t.doc,"",d[p].anchor,d[p].head,"drag");t.replaceSelection(f,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ta(e,t){if(a&&(!e.state.draggingText||+new Date-Na<100))Me(t);else if(!Ee(e,t)&&!qn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!p)){var n=M("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Pa(e,t){var n=Br(e,t);if(n){var r=document.createDocumentFragment();Zr(e,n,r),e.display.dragCursor||(e.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),N(e.display.dragCursor,r)}}function Ia(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function La(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Da=!1;function ja(){Da||(Ra(),Da=!0)}function Ra(){var e;be(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,La(Fa)}),100))})),be(window,"blur",(function(){return La(ro)}))}function Fa(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var za={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ba=0;Ba<10;Ba++)za[Ba+48]=za[Ba+96]=String(Ba);for(var Ua=65;Ua<=90;Ua++)za[Ua]=String.fromCharCode(Ua);for(var Wa=1;Wa<=12;Wa++)za[Wa+111]=za[Wa+63235]="F"+Wa;var Ha={};function Va(e){var t,n,r,o,i=e.split(/-(?!$)/);e=i[i.length-1];for(var a=0;a<i.length-1;a++){var u=i[a];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))t=!0;else if(/^(c|ctrl|control)$/i.test(u))n=!0;else{if(!/^s(hift)?$/i.test(u))throw new Error("Unrecognized modifier name: "+u);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Ga(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=te(n.split(" "),Va),i=0;i<o.length;i++){var a=void 0,u=void 0;i==o.length-1?(u=o.join(" "),a=r):(u=o.slice(0,i+1).join(" "),a="...");var c=t[u];if(c){if(c!=a)throw new Error("Inconsistent bindings for "+u)}else t[u]=a}delete e[n]}for(var s in t)e[s]=t[s];return e}function Ya(e,t,n,r){var o=(t=Za(t)).call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ya(e,t.fallthrough,n,r);for(var i=0;i<t.fallthrough.length;i++){var a=Ya(e,t.fallthrough[i],n,r);if(a)return a}}}function Xa(e){var t="string"==typeof e?e:za[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ka(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(E?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(E?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function qa(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=za[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Ka(n,e,t))}function Za(e){return"string"==typeof e?Ha[e]:e}function Qa(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){for(var i=t(n[o]);r.length&&ft(i.from,ee(r).to)<=0;){var a=r.pop();if(ft(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}Ro(e,(function(){for(var t=r.length-1;t>=0;t--)sa(e.doc,"",r[t].from,r[t].to,"+delete");po(e)}))}function Ja(e,t,n){var r=fe(e.text,t+n,n);return r<0||r>e.text.length?null:r}function $a(e,t,n){var r=Ja(e,t.ch,n);return null==r?null:new lt(t.line,r,n<0?"after":"before")}function eu(e,t,n,r,o){if(e){"rtl"==t.doc.direction&&(o=-o);var i=me(n,t.doc.direction);if(i){var a,u=o<0?ee(i):i[0],c=o<0==(1==u.level)?"after":"before";if(u.level>0||"rtl"==t.doc.direction){var s=ur(t,n);a=o<0?n.text.length-1:0;var l=cr(t,s,a).top;a=de((function(e){return cr(t,s,e).top==l}),o<0==(1==u.level)?u.from:u.to-1,a),"before"==c&&(a=Ja(n,a,1))}else a=o<0?u.to:u.from;return new lt(r,a,c)}}return new lt(r,o<0?n.text.length:0,o<0?"before":"after")}function tu(e,t,n,r){var o=me(t,e.doc.direction);if(!o)return $a(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=ve(o,n.ch,n.sticky),a=o[i];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return $a(t,n,r);var u,c=function(e,n){return Ja(t,e instanceof lt?e.ch:e,n)},s=function(n){return e.options.lineWrapping?(u=u||ur(e,t),Nr(e,t,u,n)):{begin:0,end:t.text.length}},l=s("before"==n.sticky?c(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,d=c(n,f?1:-1);if(null!=d&&(f?d<=a.to&&d<=l.end:d>=a.from&&d>=l.begin)){var p=f?"before":"after";return new lt(n.line,d,p)}}var h=function(e,t,r){for(var i=function(e,t){return t?new lt(n.line,c(e,1),"before"):new lt(n.line,e,"after")};e>=0&&e<o.length;e+=t){var a=o[e],u=t>0==(1!=a.level),s=u?r.begin:c(r.end,-1);if(a.from<=s&&s<a.to)return i(s,u);if(s=u?a.from:c(a.to,-1),r.begin<=s&&s<r.end)return i(s,u)}},v=h(i+r,r,l);if(v)return v;var g=r>0?l.end:c(l.begin,-1);return null==g||r>0&&g==t.text.length||!(v=h(r>0?0:o.length-1,r,s(g)))?null:v}Ha.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ha.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ha.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ha.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ha.default=b?Ha.macDefault:Ha.pcDefault;var nu={selectAll:ta,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),K)},killLine:function(e){return Qa(e,(function(t){if(t.empty()){var n=nt(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:lt(t.head.line+1,0)}:{from:t.head,to:lt(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Qa(e,(function(t){return{from:lt(t.from().line,0),to:mt(e.doc,lt(t.to().line+1,0))}}))},delLineLeft:function(e){return Qa(e,(function(e){return{from:lt(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Qa(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Qa(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(lt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(lt(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ru(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return iu(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return ou(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),Z)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),Z)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?iu(e,t.head):r}),Z)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),a=H(e.getLine(i.line),i.ch,r);t.push($(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ro(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,i=nt(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new lt(o.line,o.ch-1)),o.ch>0)o=new lt(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),lt(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=nt(e.doc,o.line-1).text;a&&(o=new lt(o.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),lt(o.line-1,a.length-1),o,"+transpose"))}n.push(new fi(o,o))}e.setSelections(n)}))},newlineAndIndent:function(e){return Ro(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);po(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ru(e,t){var n=nt(e.doc,t),r=rn(n);return r!=n&&(t=at(r)),eu(!0,e,r,t,1)}function ou(e,t){var n=nt(e.doc,t),r=on(n);return r!=n&&(t=at(r)),eu(!0,e,n,t,-1)}function iu(e,t){var n=ru(e,t.line),r=nt(e.doc,n.line),o=me(r,e.doc.direction);if(!o||0==o[0].level){var i=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=i&&t.ch;return lt(n.line,a?0:i,n.sticky)}return n}function au(e,t,n){if("string"==typeof t&&!(t=nu[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=X}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function uu(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=Ya(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&Ya(t,e.options.extraKeys,n,e)||Ya(t,e.options.keyMap,n,e)}var cu=new V;function su(e,t,n,r){var o=e.state.keySeq;if(o){if(Xa(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:cu.set(50,(function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())})),lu(e,o+" "+t,n,r))return!0}return lu(e,t,n,r)}function lu(e,t,n,r){var o=uu(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Ln(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Ae(n),$r(e)),!!o}function fu(e,t){var n=qa(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?su(e,"Shift-"+n,t,(function(t){return au(e,t,!0)}))||su(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return au(e,t)})):su(e,n,t,(function(t){return au(e,t)})))}function du(e,t,n){return su(e,"'"+n+"'",t,(function(t){return au(e,t,!0)}))}var pu=null;function hu(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=I(F(t)),Ee(t,e)))){a&&u<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var o=fu(t,e);d&&(pu=o?r:null,o||88!=r||Ue||!(b?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!b&&!o&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||vu(t)}}function vu(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(A(t,"CodeMirror-crosshair"),xe(document,"keyup",n),xe(document,"mouseover",n))}L(t,"CodeMirror-crosshair"),be(document,"keyup",n),be(document,"mouseover",n)}function gu(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ee(this,e)}function mu(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||qn(t.display,e)||Ee(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==pu)return pu=null,void Ae(e);if(!d||e.which&&!(e.which<10)||!fu(t,e)){var o=String.fromCharCode(null==r?n:r);"\b"!=o&&(du(t,e,o)||t.display.input.onKeyPress(e))}}}var yu,bu,wu=400,xu=function(e,t,n){this.time=e,this.pos=t,this.button=n};function Cu(e,t){var n=+new Date;return bu&&bu.compare(n,e,t)?(yu=bu=null,"triple"):yu&&yu.compare(n,e,t)?(bu=new xu(n,e,t),yu=null,"double"):(yu=new xu(n,e,t),bu=null,"single")}function Eu(e){var t=this,n=t.display;if(!(Ee(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,qn(n,e))c||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Pu(t,e)){var r=Br(t,e),o=Pe(e),i=r?Cu(r,o):"single";B(t).focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),r&&Su(t,o,r,i,e)||(1==o?r?ku(t,r,i,e):Te(e)==n.scroller&&Ae(e):2==o?(r&&Ui(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==o&&(S?t.display.input.onContextMenu(e):to(t)))}}function Su(e,t,n,r,o){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),su(e,Ka(i=(1==t?"Left":2==t?"Middle":"Right")+i,o),o,(function(t){if("string"==typeof t&&(t=nu[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=X}finally{e.state.suppressEdits=!1}return r}))}function _u(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(null==o.unit){var i=w?n.shiftKey&&n.metaKey:n.altKey;o.unit=i?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),null==o.addNew&&(o.addNew=b?n.metaKey:n.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(b?n.altKey:n.ctrlKey)),o}function ku(e,t,n,r){a?setTimeout(U(eo,e),0):e.curOp.focus=I(F(e));var o,i=_u(e,n,r),u=e.doc.sel;e.options.dragDrop&&De&&!e.isReadOnly()&&"single"==n&&(o=u.contains(t))>-1&&(ft((o=u.ranges[o]).from(),t)<0||t.xRel>0)&&(ft(o.to(),t)>0||t.xRel<0)?Au(e,r,t,i):Nu(e,r,t,i)}function Au(e,t,n,r){var o=e.display,i=!1,s=Fo(e,(function(t){c&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:to(e)),xe(o.wrapper.ownerDocument,"mouseup",s),xe(o.wrapper.ownerDocument,"mousemove",l),xe(o.scroller,"dragstart",f),xe(o.scroller,"drop",s),i||(Ae(t),r.addNew||Ui(e.doc,n,null,null,r.extend),c&&!p||a&&9==u?setTimeout((function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()}),20):o.input.focus())})),l=function(e){i=i||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return i=!0};c&&(o.scroller.draggable=!0),e.state.draggingText=s,s.copy=!r.moveOnDrag,be(o.wrapper.ownerDocument,"mouseup",s),be(o.wrapper.ownerDocument,"mousemove",l),be(o.scroller,"dragstart",f),be(o.scroller,"drop",s),e.state.delayingBlurEvent=!0,setTimeout((function(){return o.input.focus()}),20),o.scroller.dragDrop&&o.scroller.dragDrop()}function Ou(e,t,n){if("char"==n)return new fi(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new fi(lt(t.line,0),mt(e.doc,lt(t.line+1,0)));var r=n(e,t);return new fi(r.from,r.to)}function Nu(e,t,n,r){a&&to(e);var o=e.display,i=e.doc;Ae(t);var u,c,s=i.sel,l=s.ranges;if(r.addNew&&!r.extend?(c=i.sel.contains(n),u=c>-1?l[c]:new fi(n,n)):(u=i.sel.primary(),c=i.sel.primIndex),"rectangle"==r.unit)r.addNew||(u=new fi(n,n)),n=Br(e,t,!0,!0),c=-1;else{var f=Ou(e,n,r.unit);u=r.extend?Bi(u,f.anchor,f.head,r.extend):f}r.addNew?-1==c?(c=l.length,Xi(i,di(e,l.concat([u]),c),{scroll:!1,origin:"*mouse"})):l.length>1&&l[c].empty()&&"char"==r.unit&&!r.extend?(Xi(i,di(e,l.slice(0,c).concat(l.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),s=i.sel):Hi(i,c,u,q):(c=0,Xi(i,new li([u],0),q),s=i.sel);var d=n;function p(t){if(0!=ft(d,t))if(d=t,"rectangle"==r.unit){for(var o=[],a=e.options.tabSize,l=H(nt(i,n.line).text,n.ch,a),f=H(nt(i,t.line).text,t.ch,a),p=Math.min(l,f),h=Math.max(l,f),v=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));v<=g;v++){var m=nt(i,v).text,y=Q(m,p,a);p==h?o.push(new fi(lt(v,y),lt(v,y))):m.length>y&&o.push(new fi(lt(v,y),lt(v,Q(m,h,a))))}o.length||o.push(new fi(n,n)),Xi(i,di(e,s.ranges.slice(0,c).concat(o),c),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=u,x=Ou(e,t,r.unit),C=w.anchor;ft(x.anchor,C)>0?(b=x.head,C=vt(w.from(),x.anchor)):(b=x.anchor,C=ht(w.to(),x.head));var E=s.ranges.slice(0);E[c]=Mu(e,new fi(mt(i,C),b)),Xi(i,di(e,E,c),q)}}var h=o.wrapper.getBoundingClientRect(),v=0;function g(t){var n=++v,a=Br(e,t,!0,"rectangle"==r.unit);if(a)if(0!=ft(a,d)){e.curOp.focus=I(F(e)),p(a);var u=ao(o,i);(a.line>=u.to||a.line<u.from)&&setTimeout(Fo(e,(function(){v==n&&g(t)})),150)}else{var c=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;c&&setTimeout(Fo(e,(function(){v==n&&(o.scroller.scrollTop+=c,g(t))})),50)}}function m(t){e.state.selectingText=!1,v=1/0,t&&(Ae(t),o.input.focus()),xe(o.wrapper.ownerDocument,"mousemove",y),xe(o.wrapper.ownerDocument,"mouseup",b),i.history.lastSelOrigin=null}var y=Fo(e,(function(e){0!==e.buttons&&Pe(e)?g(e):m(e)})),b=Fo(e,m);e.state.selectingText=b,be(o.wrapper.ownerDocument,"mousemove",y),be(o.wrapper.ownerDocument,"mouseup",b)}function Mu(e,t){var n=t.anchor,r=t.head,o=nt(e.doc,n.line);if(0==ft(n,r)&&n.sticky==r.sticky)return t;var i=me(o);if(!i)return t;var a=ve(i,n.ch,n.sticky),u=i[a];if(u.from!=n.ch&&u.to!=n.ch)return t;var c,s=a+(u.from==n.ch==(1!=u.level)?0:1);if(0==s||s==i.length)return t;if(r.line!=n.line)c=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var l=ve(i,r.ch,r.sticky),f=l-a||(r.ch-n.ch)*(1==u.level?-1:1);c=l==s-1||l==s?f<0:f>0}var d=i[s+(c?-1:0)],p=c==(1==d.level),h=p?d.from:d.to,v=p?"after":"before";return n.ch==h&&n.sticky==v?t:new fi(new lt(n.line,h,v),r)}function Tu(e,t,n,r){var o,i;if(t.touches)o=t.touches[0].clientX,i=t.touches[0].clientY;else try{o=t.clientX,i=t.clientY}catch(e){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Ae(t);var a=e.display,u=a.lineDiv.getBoundingClientRect();if(i>u.bottom||!_e(e,n))return Ne(t);i-=u.top-a.viewOffset;for(var c=0;c<e.display.gutterSpecs.length;++c){var s=a.gutters.childNodes[c];if(s&&s.getBoundingClientRect().right>=o)return Ce(e,n,e,ut(e.doc,i),e.display.gutterSpecs[c].className,t),Ne(t)}}function Pu(e,t){return Tu(e,t,"gutterClick",!0)}function Iu(e,t){qn(e.display,t)||Lu(e,t)||Ee(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function Lu(e,t){return!!_e(e,"gutterContextMenu")&&Tu(e,t,"gutterContextMenu",!1)}function Du(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),mr(e)}xu.prototype.compare=function(e,t,n){return this.time+wu>e&&0==ft(t,this.pos)&&n==this.button};var ju={toString:function(){return"CodeMirror.Init"}},Ru={},Fu={};function zu(e){var t=e.optionHandlers;function n(n,r,o,i){e.defaults[n]=r,o&&(t[n]=i?function(e,t,n){n!=ju&&o(e,t,n)}:o)}e.defineOption=n,e.Init=ju,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,bi(e)}),!0),n("indentUnit",2,bi,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){wi(e),mr(e),Wr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,n.push(lt(r,i))}r++}));for(var o=n.length-1;o>=0;o--)sa(e.doc,t,n[o],lt(n[o].line,n[o].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=ju&&e.refresh()})),n("specialCharPlaceholder",xn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",y?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){Du(e),ri(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Za(t),o=n!=ju&&Za(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Uu,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=ti(t,e.options.lineNumbers),ri(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Rr(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return So(e)}),!0),n("scrollbarStyle","native",(function(e){Ao(e),So(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=ti(e.options.gutters,t),ri(e)}),!0),n("firstLineNumber",1,ri,!0),n("lineNumberFormatter",(function(e){return e}),ri,!0),n("showCursorWhenSelecting",!1,Kr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(ro(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,Bu),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Kr,!0),n("singleCursorHeightPerLine",!0,Kr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,wi,!0),n("addModeClass",!1,wi,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,wi,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function Bu(e,t,n){if(!t!=!(n&&n!=ju)){var r=e.display.dragFunctions,o=t?be:xe;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function Uu(e){e.options.lineWrapping?(L(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(A(e.display.wrapper,"CodeMirror-wrap"),pn(e)),zr(e),Wr(e),mr(e),setTimeout((function(){return So(e)}),100)}function Wu(e,t){var n=this;if(!(this instanceof Wu))return new Wu(e,t);this.options=t=t?W(t):{},W(Ru,t,!1);var r=t.value;"string"==typeof r?r=new Oa(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Wu.inputStyles[t.inputStyle](this),i=this.display=new oi(e,r,o,t);for(var s in i.wrapper.CodeMirror=this,Du(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ao(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new V,keySeq:null,specialChars:null},t.autofocus&&!y&&i.input.focus(),a&&u<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Hu(this),ja(),No(this),this.curOp.forceUpdate=!0,Si(this,r),t.autofocus&&!y||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&no(n)}),20):ro(this),Fu)Fu.hasOwnProperty(s)&&Fu[s](this,t[s],ju);ei(this),t.finishInit&&t.finishInit(this);for(var l=0;l<Vu.length;++l)Vu[l](this);Mo(this),c&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function Hu(e){var t=e.display;be(t.scroller,"mousedown",Fo(e,Eu)),be(t.scroller,"dblclick",a&&u<11?Fo(e,(function(t){if(!Ee(e,t)){var n=Br(e,t);if(n&&!Pu(e,t)&&!qn(e.display,t)){Ae(t);var r=e.findWordAt(n);Ui(e.doc,r.anchor,r.head)}}})):function(t){return Ee(e,t)||Ae(t)}),be(t.scroller,"contextmenu",(function(t){return Iu(e,t)})),be(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||Iu(e,n)}));var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function c(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}be(t.scroller,"touchstart",(function(o){if(!Ee(e,o)&&!i(o)&&!Pu(e,o)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}})),be(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),be(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!qn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var i,a=e.coordsChar(t.activeTouch,"page");i=!r.prev||c(r,r.prev)?new fi(a,a):!r.prev.prev||c(r,r.prev.prev)?e.findWordAt(a):new fi(lt(a.line,0),mt(e.doc,lt(a.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),Ae(n)}o()})),be(t.scroller,"touchcancel",o),be(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(yo(e,t.scroller.scrollTop),wo(e,t.scroller.scrollLeft,!0),Ce(e,"scroll",e))})),be(t.scroller,"mousewheel",(function(t){return si(e,t)})),be(t.scroller,"DOMMouseScroll",(function(t){return si(e,t)})),be(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){Ee(e,t)||Me(t)},over:function(t){Ee(e,t)||(Pa(e,t),Me(t))},start:function(t){return Ta(e,t)},drop:Fo(e,Ma),leave:function(t){Ee(e,t)||Ia(e)}};var s=t.input.getField();be(s,"keyup",(function(t){return gu.call(e,t)})),be(s,"keydown",Fo(e,hu)),be(s,"keypress",Fo(e,mu)),be(s,"focus",(function(t){return no(e,t)})),be(s,"blur",(function(t){return ro(e,t)}))}Wu.defaults=Ru,Wu.optionHandlers=Fu;var Vu=[];function Gu(e,t,n,r){var o,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=St(e,t).state:n="prev");var a=e.options.tabSize,u=nt(i,t),c=H(u.text,null,a);u.stateAfter&&(u.stateAfter=null);var s,l=u.text.match(/^\s*/)[0];if(r||/\S/.test(u.text)){if("smart"==n&&((s=i.mode.indent(o,u.text.slice(l.length),u.text))==X||s>150)){if(!r)return;n="prev"}}else s=0,n="not";"prev"==n?s=t>i.first?H(nt(i,t-1).text,null,a):0:"add"==n?s=c+e.options.indentUnit:"subtract"==n?s=c-e.options.indentUnit:"number"==typeof n&&(s=c+n),s=Math.max(0,s);var f="",d=0;if(e.options.indentWithTabs)for(var p=Math.floor(s/a);p;--p)d+=a,f+="\t";if(d<s&&(f+=$(s-d)),f!=l)return sa(i,f,lt(t,0),lt(t,l.length),"+input"),u.stateAfter=null,!0;for(var h=0;h<i.sel.ranges.length;h++){var v=i.sel.ranges[h];if(v.head.line==t&&v.head.ch<l.length){var g=lt(t,l.length);Hi(i,h,new fi(g,g));break}}}Wu.defineInitHook=function(e){return Vu.push(e)};var Yu=null;function Xu(e){Yu=e}function Ku(e,t,n,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var a=+new Date-200,u="paste"==o||e.state.pasteIncoming>a,c=ze(t),s=null;if(u&&r.ranges.length>1)if(Yu&&Yu.text.join("\n")==t){if(r.ranges.length%Yu.text.length==0){s=[];for(var l=0;l<Yu.text.length;l++)s.push(i.splitLines(Yu.text[l]))}}else c.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(s=te(c,(function(e){return[e]})));for(var f=e.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var p=r.ranges[d],h=p.from(),v=p.to();p.empty()&&(n&&n>0?h=lt(h.line,h.ch-n):e.state.overwrite&&!u?v=lt(v.line,Math.min(nt(i,v.line).text.length,v.ch+ee(c).length)):u&&Yu&&Yu.lineWise&&Yu.text.join("\n")==c.join("\n")&&(h=v=lt(h.line,0)));var g={from:h,to:v,text:s?s[d%s.length]:c,origin:o||(u?"paste":e.state.cutIncoming>a?"cut":"+input")};ra(e.doc,g),Ln(e,"inputRead",e,g)}t&&!u&&Zu(e,t),po(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function qu(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||Ro(t,(function(){return Ku(t,n,0,null,"paste")})),!0}function Zu(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var u=0;u<i.electricChars.length;u++)if(t.indexOf(i.electricChars.charAt(u))>-1){a=Gu(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(nt(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Gu(e,o.head.line,"smart"));a&&Ln(e,"electricInput",e,o.head.line)}}}function Qu(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:lt(o,0),head:lt(o+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function Ju(e,t,n,r){e.setAttribute("autocorrect",n?"on":"off"),e.setAttribute("autocapitalize",r?"on":"off"),e.setAttribute("spellcheck",!!t)}function $u(){var e=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=M("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),t}function ec(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){B(this).focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,o=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Fo(this,t[e])(this,n,o),Ce(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Za(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:zo((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");ne(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Wr(this)})),removeOverlay:zo((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Wr(this)}})),indentLine:zo((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ct(this.doc,e)&&Gu(this,e,t,n)})),indentSelection:zo((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var o=t[r];if(o.empty())o.head.line>n&&(Gu(this,o.head.line,e,!0),n=o.head.line,r==this.doc.sel.primIndex&&po(this));else{var i=o.from(),a=o.to(),u=Math.max(n,i.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var c=u;c<n;++c)Gu(this,c,e);var s=this.doc.sel.ranges;0==i.ch&&t.length==s.length&&s[r].from().ch>0&&Hi(this.doc,r,new fi(i,s[r].to()),K)}}})),getTokenAt:function(e,t){return Nt(this,e,t)},getLineTokens:function(e,t){return Nt(this,lt(e),t,!0)},getTokenTypeAt:function(e){e=mt(this.doc,e);var t,n=Et(this,nt(this.doc,e.line)),r=0,o=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var a=r+o>>1;if((a?n[2*a-1]:0)>=i)o=a;else{if(!(n[2*a+1]<i)){t=n[2*a+2];break}r=a+1}}var u=t?t.indexOf("overlay "):-1;return u<0?t:0==u?null:t.slice(0,u-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],i=this.getModeAt(e);if("string"==typeof i[t])o[i[t]]&&r.push(o[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var u=o[i[t][a]];u&&r.push(u)}else i.helperType&&o[i.helperType]?r.push(o[i.helperType]):o[i.name]&&r.push(o[i.name]);for(var c=0;c<o._global.length;c++){var s=o._global[c];s.pred(i,this)&&-1==G(r,s.val)&&r.push(s.val)}return r},getStateAfter:function(e,t){var n=this.doc;return St(this,(e=gt(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Sr(this,null==e?n.head:"object"==typeof e?mt(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Er(this,mt(this.doc,e),t||"page")},coordsChar:function(e,t){return Ar(this,(e=Cr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Cr(this,{top:e,left:0},t||"page").top,ut(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,o=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),r=nt(this.doc,e)}else r=e;return xr(this,r,{top:0,left:0},t||"page",n||o).top+(o?this.doc.height-fn(r):0)},defaultTextHeight:function(){return Lr(this.display)},defaultCharWidth:function(){return Dr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var i=this.display,a=(e=Sr(this,mt(this.doc,e))).bottom,u=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),i.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var c=Math.max(i.wrapper.clientHeight,this.doc.height),s=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>c)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=c&&(a=e.bottom),u+t.offsetWidth>s&&(u=s-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==o?(u=i.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?u=0:"middle"==o&&(u=(i.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&so(this,{left:u,top:a,right:u+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:zo(hu),triggerOnKeyPress:zo(mu),triggerOnKeyUp:gu,triggerOnMouseDown:zo(Eu),execCommand:function(e){if(nu.hasOwnProperty(e))return nu[e].call(null,this)},triggerElectric:zo((function(e){Zu(this,e)})),findPosH:function(e,t,n,r){var o=1;t<0&&(o=-1,t=-t);for(var i=mt(this.doc,e),a=0;a<t&&!(i=tc(this.doc,i,o,n,r)).hitSide;++a);return i},moveH:zo((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?tc(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),Z)})),deleteH:zo((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Qa(this,(function(n){var o=tc(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}}))})),findPosV:function(e,t,n,r){var o=1,i=r;t<0&&(o=-1,t=-t);for(var a=mt(this.doc,e),u=0;u<t;++u){var c=Sr(this,a,"div");if(null==i?i=c.left:c.left=i,(a=nc(this,c,o,n)).hitSide)break}return a},moveV:zo((function(e,t){var n=this,r=this.doc,o=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(i)return e<0?a.from():a.to();var u=Sr(n,a.head,"div");null!=a.goalColumn&&(u.left=a.goalColumn),o.push(u.left);var c=nc(n,u,e,t);return"page"==t&&a==r.sel.primary()&&fo(n,Er(n,c,"div").top-u.top),c}),Z),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]})),findWordAt:function(e){var t=nt(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var i=t.charAt(n),a=ue(i,o)?function(e){return ue(e,o)}:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ue(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new fi(lt(e.line,n),lt(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?L(this.display.cursorDiv,"CodeMirror-overwrite"):A(this.display.cursorDiv,"CodeMirror-overwrite"),Ce(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==I(F(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:zo((function(e,t){ho(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-$n(this)-this.display.barHeight,width:e.scrollWidth-$n(this)-this.display.barWidth,clientHeight:tr(this),clientWidth:er(this)}},scrollIntoView:zo((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:lt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?vo(this,e):mo(this,e.from,e.to,e.margin)})),setSize:zo((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&gr(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Hr(n,o,"widget");break}++o})),this.curOp.forceUpdate=!0,Ce(this,"refresh",this)})),operation:function(e){return Ro(this,e)},startOperation:function(){return No(this)},endOperation:function(){return Mo(this)},refresh:zo((function(){var e=this.display.cachedTextHeight;Wr(this),this.curOp.forceUpdate=!0,mr(this),ho(this,this.doc.scrollLeft,this.doc.scrollTop),Qo(this.display),(null==e||Math.abs(e-Lr(this.display))>.5||this.options.lineWrapping)&&zr(this),Ce(this,"refresh",this)})),swapDoc:zo((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Si(this,e),mr(this),this.display.input.reset(),ho(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Ln(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ke(e),e.registerHelper=function(t,r,o){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=o},e.registerGlobalHelper=function(t,r,o,i){e.registerHelper(t,r,i),n[t]._global.push({pred:o,val:i})}}function tc(e,t,n,r,o){var i=t,a=n,u=nt(e,t.line),c=o&&"rtl"==e.direction?-n:n;function s(){var n=t.line+c;return!(n<e.first||n>=e.first+e.size)&&(t=new lt(n,t.ch,t.sticky),u=nt(e,n))}function l(i){var a;if("codepoint"==r){var l=u.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(l))a=null;else{var f=n>0?l>=55296&&l<56320:l>=56320&&l<57343;a=new lt(t.line,Math.max(0,Math.min(u.text.length,t.ch+n*(f?2:1))),-n)}}else a=o?tu(e.cm,u,t,n):$a(u,t,n);if(null==a){if(i||!s())return!1;t=eu(o,e.cm,u,t.line,c)}else t=a;return!0}if("char"==r||"codepoint"==r)l();else if("column"==r)l(!0);else if("word"==r||"group"==r)for(var f=null,d="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||l(!h);h=!1){var v=u.text.charAt(t.ch)||"\n",g=ue(v,p)?"w":d&&"\n"==v?"n":!d||/\s/.test(v)?null:"p";if(!d||h||g||(g="s"),f&&f!=g){n<0&&(n=1,l(),t.sticky="after");break}if(g&&(f=g),n>0&&!l(!h))break}var m=$i(e,t,i,a,!0);return dt(i,m)&&(m.hitSide=!0),m}function nc(e,t,n,r){var o,i,a=e.doc,u=t.left;if("page"==r){var c=Math.min(e.display.wrapper.clientHeight,B(e).innerHeight||a(e).documentElement.clientHeight),s=Math.max(c-.5*Lr(e.display),3);o=(n>0?t.bottom:t.top)+n*s}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;(i=Ar(e,u,o)).outside;){if(n<0?o<=0:o>=a.height){i.hitSide=!0;break}o+=5*n}return i}var rc=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new V,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function oc(e,t){var n=ar(e,t.line);if(!n||n.hidden)return null;var r=nt(e.doc,t.line),o=rr(n,r,t.line),i=me(r,e.doc.direction),a="left";i&&(a=ve(i,t.ch)%2?"right":"left");var u=fr(o.map,t.ch,a);return u.offset="right"==u.collapse?u.end:u.start,u}function ic(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ac(e,t){return t&&(e.bad=!0),e}function uc(e,t,n,r,o){var i="",a=!1,u=e.doc.lineSeparator(),c=!1;function s(e){return function(t){return t.id==e}}function l(){a&&(i+=u,c&&(i+=u),a=c=!1)}function f(e){e&&(l(),i+=e)}function d(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void f(n);var i,p=t.getAttribute("cm-marker");if(p){var h=e.findMarks(lt(r,0),lt(o+1,0),s(+p));return void(h.length&&(i=h[0].find(0))&&f(rt(e.doc,i.from,i.to).join(u)))}if("false"==t.getAttribute("contenteditable"))return;var v=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;v&&l();for(var g=0;g<t.childNodes.length;g++)d(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(c=!0),v&&(a=!0)}else 3==t.nodeType&&f(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;d(t),t!=n;)t=t.nextSibling,c=!1;return i}function cc(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return ac(e.clipPos(lt(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return sc(i,t,n)}}function sc(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!P(r,t))return ac(lt(at(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var i=e.rest?ee(e.rest):e.line;return ac(lt(at(i),i.text.length),o)}var a=3==t.nodeType?t:null,u=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));u.parentNode!=r;)u=u.parentNode;var c=e.measure,s=c.maps;function l(t,n,r){for(var o=-1;o<(s?s.length:0);o++)for(var i=o<0?c.map:s[o],a=0;a<i.length;a+=3){var u=i[a+2];if(u==t||u==n){var l=at(o<0?e.line:e.rest[o]),f=i[a]+r;return(r<0||u!=t)&&(f=i[a+(r?1:0)]),lt(l,f)}}}var f=l(a,u,n);if(f)return ac(f,o);for(var d=u.nextSibling,p=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(f=l(d,d.firstChild,0))return ac(lt(f.line,f.ch-p),o);p+=d.textContent.length}for(var h=u.previousSibling,v=n;h;h=h.previousSibling){if(f=l(h,h.firstChild,-1))return ac(lt(f.line,f.ch+v),o);v+=h.textContent.length}}rc.prototype.init=function(e){var t=this,n=this,r=n.cm,o=n.div=e.lineDiv;function i(e){for(var t=e.target;t;t=t.parentNode){if(t==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(i(e)&&!Ee(r,e)){if(r.somethingSelected())Xu({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Qu(r);Xu({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,K),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Yu.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var u=$u(),c=u.firstChild;Ju(c),r.display.lineSpace.insertBefore(u,r.display.lineSpace.firstChild),c.value=Yu.text.join("\n");var s=I(z(o));j(c),setTimeout((function(){r.display.lineSpace.removeChild(u),s.focus(),s==o&&n.showPrimarySelection()}),50)}}o.contentEditable=!0,Ju(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),be(o,"paste",(function(e){!i(e)||Ee(r,e)||qu(e,r)||u<=11&&setTimeout(Fo(r,(function(){return t.updateFromDOM()})),20)})),be(o,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),be(o,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),be(o,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),be(o,"touchstart",(function(){return n.forceCompositionEnd()})),be(o,"input",(function(){t.composing||t.readFromDOMSoon()})),be(o,"copy",a),be(o,"cut",a)},rc.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},rc.prototype.prepareSelection=function(){var e=qr(this.cm,!1);return e.focus=I(z(this.div))==this.div,e},rc.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},rc.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},rc.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),o=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var a=cc(t,e.anchorNode,e.anchorOffset),u=cc(t,e.focusNode,e.focusOffset);if(!a||a.bad||!u||u.bad||0!=ft(vt(a,u),o)||0!=ft(ht(a,u),i)){var c=t.display.view,s=o.line>=t.display.viewFrom&&oc(t,o)||{node:c[0].measure.map[2],offset:0},l=i.line<t.display.viewTo&&oc(t,i);if(!l){var f=c[c.length-1].measure,d=f.maps?f.maps[f.maps.length-1]:f.map;l={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(s&&l){var p,h=e.rangeCount&&e.getRangeAt(0);try{p=k(s.node,s.offset,l.offset,l.node)}catch(e){}p&&(!n&&t.state.focused?(e.collapse(s.node,s.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},rc.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},rc.prototype.showMultipleSelections=function(e){N(this.cm.display.cursorDiv,e.cursors),N(this.cm.display.selectionDiv,e.selection)},rc.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},rc.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return P(this.div,t)},rc.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&I(z(this.div))==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},rc.prototype.blur=function(){this.div.blur()},rc.prototype.getField=function(){return this.div},rc.prototype.supportsTouch=function(){return!0},rc.prototype.receivedFocus=function(){var e=this,t=this;function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.selectionInEditor()?setTimeout((function(){return e.pollSelection()}),20):Ro(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,n)},rc.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},rc.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(m&&l&&this.cm.display.gutterSpecs.length&&ic(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=cc(t,e.anchorNode,e.anchorOffset),r=cc(t,e.focusNode,e.focusOffset);n&&r&&Ro(t,(function(){Xi(t.doc,pi(n,r),K),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},rc.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,o=r.display,i=r.doc.sel.primary(),a=i.from(),u=i.to();if(0==a.ch&&a.line>r.firstLine()&&(a=lt(a.line-1,nt(r.doc,a.line-1).length)),u.ch==nt(r.doc,u.line).text.length&&u.line<r.lastLine()&&(u=lt(u.line+1,0)),a.line<o.viewFrom||u.line>o.viewTo-1)return!1;a.line==o.viewFrom||0==(e=Ur(r,a.line))?(t=at(o.view[0].line),n=o.view[0].node):(t=at(o.view[e].line),n=o.view[e-1].node.nextSibling);var c,s,l=Ur(r,u.line);if(l==o.view.length-1?(c=o.viewTo-1,s=o.lineDiv.lastChild):(c=at(o.view[l+1].line)-1,s=o.view[l+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(uc(r,n,s,t,c)),d=rt(r.doc,lt(t,0),lt(c,nt(r.doc,c).text.length));f.length>1&&d.length>1;)if(ee(f)==ee(d))f.pop(),d.pop(),c--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),t++}for(var p=0,h=0,v=f[0],g=d[0],m=Math.min(v.length,g.length);p<m&&v.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=ee(f),b=ee(d),w=Math.min(y.length-(1==f.length?p:0),b.length-(1==d.length?p:0));h<w&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;if(1==f.length&&1==d.length&&t==a.line)for(;p&&p>a.ch&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)p--,h++;f[f.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),f[0]=f[0].slice(p).replace(/\u200b+$/,"");var x=lt(t,p),C=lt(c,d.length?ee(d).length-h:0);return f.length>1||f[0]||ft(x,C)?(sa(r.doc,f,x,C,"+input"),!0):void 0},rc.prototype.ensurePolled=function(){this.forceCompositionEnd()},rc.prototype.reset=function(){this.forceCompositionEnd()},rc.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},rc.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},rc.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ro(this.cm,(function(){return Wr(e.cm)}))},rc.prototype.setUneditable=function(e){e.contentEditable="false"},rc.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Fo(this.cm,Ku)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},rc.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},rc.prototype.onContextMenu=function(){},rc.prototype.resetPosition=function(){},rc.prototype.needsContentAttribute=!0;var lc=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new V,this.hasSelection=!1,this.composing=null,this.resetting=!1};function fc(e,t){if((t=t?W(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=I(z(e));t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=u.getValue()}var o;if(e.form&&(be(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var i=e.form;o=i.submit;try{var a=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=a}}catch(e){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(xe(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=o))}},e.style.display="none";var u=Wu((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return u}function dc(e){e.off=xe,e.on=be,e.wheelEventPixels=ci,e.Doc=Oa,e.splitLines=ze,e.countColumn=H,e.findColumn=Q,e.isWordChar=ae,e.Pass=X,e.signal=Ce,e.Line=hn,e.changeEnd=hi,e.scrollbarModel=ko,e.Pos=lt,e.cmpPos=ft,e.modes=Ve,e.mimeModes=Ge,e.resolveMode=Ke,e.getMode=qe,e.modeExtensions=Ze,e.extendMode=Qe,e.copyState=Je,e.startState=et,e.innerMode=$e,e.commands=nu,e.keyMap=Ha,e.keyName=qa,e.isModifierKey=Xa,e.lookupKey=Ya,e.normalizeKeyMap=Ga,e.StringStream=tt,e.SharedTextMarker=Ca,e.TextMarker=wa,e.LineWidget=ga,e.e_preventDefault=Ae,e.e_stopPropagation=Oe,e.e_stop=Me,e.addClass=L,e.contains=P,e.rmClass=A,e.keyNames=za}lc.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var o=this.textarea;function i(e){if(!Ee(r,e)){if(r.somethingSelected())Xu({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Qu(r);Xu({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,K):(n.prevInput="",o.value=t.text.join("\n"),j(o))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(o.style.width="0px"),be(o,"input",(function(){a&&u>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),be(o,"paste",(function(e){Ee(r,e)||qu(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),be(o,"cut",i),be(o,"copy",i),be(e.scroller,"paste",(function(t){if(!qn(e,t)&&!Ee(r,t)){if(!o.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var i=new Event("paste");i.clipboardData=t.clipboardData,o.dispatchEvent(i)}})),be(e.lineSpace,"selectstart",(function(t){qn(e,t)||Ae(t)})),be(o,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),be(o,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},lc.prototype.createField=function(e){this.wrapper=$u(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;Ju(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},lc.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},lc.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=qr(e);if(e.options.moveInputWithCursor){var o=Sr(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},lc.prototype.showSelection=function(e){var t=this.cm.display;N(t.cursorDiv,e.cursors),N(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},lc.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&j(this.textarea),a&&u>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&u>=9&&(this.hasSelection=null));this.resetting=!1}},lc.prototype.getField=function(){return this.textarea},lc.prototype.supportsTouch=function(){return!1},lc.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!y||I(z(this.textarea))!=this.textarea))try{this.textarea.focus()}catch(e){}},lc.prototype.blur=function(){this.textarea.blur()},lc.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},lc.prototype.receivedFocus=function(){this.slowPoll()},lc.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},lc.prototype.fastPoll=function(){var e=!1,t=this;function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},lc.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||Be(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(a&&u>=9&&this.hasSelection===o||b&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var c=0,s=Math.min(r.length,o.length);c<s&&r.charCodeAt(c)==o.charCodeAt(c);)++c;return Ro(t,(function(){Ku(t,o.slice(c),r.length-c,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},lc.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},lc.prototype.onKeyPress=function(){a&&u>=9&&(this.hasSelection=null),this.fastPoll()},lc.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var i=Br(n,e),s=r.scroller.scrollTop;if(i&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(i)&&Fo(n,Xi)(n.doc,pi(i),K);var l,f=o.style.cssText,p=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",c&&(l=o.ownerDocument.defaultView.scrollY),r.input.focus(),c&&o.ownerDocument.defaultView.scrollTo(null,l),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=m,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&u>=9&&g(),S){Me(e);var v=function(){xe(window,"mouseup",v),setTimeout(m,20)};be(window,"mouseup",v)}else setTimeout(m,50)}function g(){if(null!=o.selectionStart){var e=n.somethingSelected(),i="​"+(e?o.value:"");o.value="⇚",o.value=i,t.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=i.length,r.selForContextMenu=n.doc.sel}}function m(){if(t.contextMenuPending==m&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,o.style.cssText=f,a&&u<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=s),null!=o.selectionStart)){(!a||a&&u<9)&&g();var e=0,i=function(){r.selForContextMenu==n.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==t.prevInput?Fo(n,ta)(n):e++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}},lc.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},lc.prototype.setUneditable=function(){},lc.prototype.needsContentAttribute=!1,zu(Wu),ec(Wu);var pc="iter insert remove copy getEditor constructor".split(" ");for(var hc in Oa.prototype)Oa.prototype.hasOwnProperty(hc)&&G(pc,hc)<0&&(Wu.prototype[hc]=function(e){return function(){return e.apply(this.doc,arguments)}}(Oa.prototype[hc]));return ke(Oa),Wu.inputStyles={textarea:lc,contenteditable:rc},Wu.defineMode=function(e){Wu.defaults.mode||"null"==e||(Wu.defaults.mode=e),Ye.apply(this,arguments)},Wu.defineMIME=Xe,Wu.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Wu.defineMIME("text/plain","null"),Wu.defineExtension=function(e,t){Wu.prototype[e]=t},Wu.defineDocExtension=function(e,t){Oa.prototype[e]=t},Wu.fromTextArea=fc,dc(Wu),Wu.version="5.65.16",Wu}()},84912:function(e,t,n){e.exports={graphlib:n(19648),layout:n(65908),debug:n(78460),util:{time:n(48456).time,notime:n(48456).notime},version:n(94428)}},74732:function(e,t,n){"use strict";var r=n(95464),o=n(10704);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?o(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(e.outEdges(a),(function(e){r.has(n,e.w)?t.push(e):i(e.w)})),delete n[a])}return r.forEach(e.nodes(),i),t}(e);r.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))}))},undo:function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}}},93512:function(e,t,n){var r=n(95464),o=n(48456);function i(e,t,n,r,i,a){var u={width:0,height:0,rank:a,borderType:t},c=i[t][a-1],s=o.addDummyNode(e,"border",u,n);i[t][a]=s,e.setParent(s,r),c&&e.setEdge(c,s,{weight:1})}e.exports=function(e){r.forEach(e.children(),(function t(n){var o=e.children(n),a=e.node(n);if(o.length&&r.forEach(o,t),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,c=a.maxRank+1;u<c;++u)i(e,"borderLeft","_bl",n,a,u),i(e,"borderRight","_br",n,a,u)}}))}},63900:function(e,t,n){"use strict";var r=n(95464);function o(e){r.forEach(e.nodes(),(function(t){i(e.node(t))})),r.forEach(e.edges(),(function(t){i(e.edge(t))}))}function i(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function u(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||o(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){r.forEach(e.nodes(),(function(t){a(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){r.forEach(e.nodes(),(function(t){u(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,u),r.has(n,"x")&&u(n)}))}(e),o(e))}}},24076:function(e){function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function r(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"}},78460:function(e,t,n){var r=n(95464),o=n(48456),i=n(19648).Graph;e.exports={debugOrdering:function(e){var t=o.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),r.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),r.forEach(t,(function(e,t){var o="layer"+t;n.setNode(o,{rank:"same"}),r.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},19648:function(e,t,n){var r;try{r=n(56269)}catch(e){}r||(r=window.graphlib),e.exports=r},10704:function(e,t,n){var r=n(95464),o=n(19648).Graph,i=n(24076);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new o,a=0,u=0;r.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),r.forEach(e.edges(),(function(e){var r=n.edge(e.v,e.w)||0,o=t(e),i=r+o;n.setEdge(e.v,e.w,i),u=Math.max(u,n.node(e.v).out+=o),a=Math.max(a,n.node(e.w).in+=o)}));var s=r.range(u+a+3).map((function(){return new i})),l=a+1;return r.forEach(n.nodes(),(function(e){c(s,l,n.node(e))})),{graph:n,buckets:s,zeroIdx:l}}(e,t||a),s=function(e,t,n){var r,o=[],i=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)u(e,t,n,r);for(;r=i.dequeue();)u(e,t,n,r);if(e.nodeCount())for(var c=t.length-2;c>0;--c)if(r=t[c].dequeue()){o=o.concat(u(e,t,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(s,(function(t){return e.outEdges(t.v,t.w)})),!0)};var a=r.constant(1);function u(e,t,n,o,i){var a=i?[]:void 0;return r.forEach(e.inEdges(o.v),(function(r){var o=e.edge(r),u=e.node(r.v);i&&a.push({v:r.v,w:r.w}),u.out-=o,c(t,n,u)})),r.forEach(e.outEdges(o.v),(function(r){var o=e.edge(r),i=r.w,a=e.node(i);a.in-=o,c(t,n,a)})),e.removeNode(o.v),a}function c(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},65908:function(e,t,n){"use strict";var r=n(95464),o=n(74732),i=n(11364),a=n(95476),u=n(48456).normalizeRanks,c=n(22028),s=n(48456).removeEmptyRanks,l=n(98276),f=n(93512),d=n(63900),p=n(85576),h=n(63740),v=n(48456),g=n(19648).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?v.time:v.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new g({multigraph:!0,compound:!0}),n=k(e.graph());return t.setGraph(r.merge({},y,_(n,m),r.pick(n,b))),r.forEach(e.nodes(),(function(n){var o=k(e.node(n));t.setNode(n,r.defaults(_(o,w),x)),t.setParent(n,e.parent(n))})),r.forEach(e.edges(),(function(n){var o=k(e.edge(n));t.setEdge(n,r.merge({},E,_(o,C),r.pick(o,S)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){r.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){o.run(e)})),t("    nestingGraph.run",(function(){l.run(e)})),t("    rank",(function(){a(v.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};v.addDummyNode(e,"edge-proxy",o,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){s(e)})),t("    nestingGraph.cleanup",(function(){l.cleanup(e)})),t("    normalizeRanks",(function(){u(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;r.forEach(e.nodes(),(function(n){var o=e.node(n);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=r.max(t,o.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){i.run(e)})),t("    parentDummyChains",(function(){c(e)})),t("    addBorderSegments",(function(){f(e)})),t("    order",(function(){p(e)})),t("    insertSelfEdges",(function(){!function(e){var t=v.buildLayerMatrix(e);r.forEach(t,(function(t){var n=0;r.forEach(t,(function(t,o){var i=e.node(t);i.order=o+n,r.forEach(i.selfEdges,(function(t){v.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:o+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){d.adjust(e)})),t("    position",(function(){h(e)})),t("    positionSelfEdges",(function(){!function(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,u=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){r.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),o=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),u=e.node(r.last(n.borderRight));n.width=Math.abs(u.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){i.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){d.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=e.graph(),u=a.marginx||0,c=a.marginy||0;function s(e){var r=e.x,a=e.y,u=e.width,c=e.height;t=Math.min(t,r-u/2),n=Math.max(n,r+u/2),o=Math.min(o,a-c/2),i=Math.max(i,a+c/2)}r.forEach(e.nodes(),(function(t){s(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.has(n,"x")&&s(n)})),t-=u,o-=c,r.forEach(e.nodes(),(function(n){var r=e.node(n);r.x-=t,r.y-=o})),r.forEach(e.edges(),(function(n){var i=e.edge(n);r.forEach(i.points,(function(e){e.x-=t,e.y-=o})),r.has(i,"x")&&(i.x-=t),r.has(i,"y")&&(i.y-=o)})),a.width=n-t+u,a.height=i-o+c}(e)})),t("    assignNodeIntersects",(function(){!function(e){r.forEach(e.edges(),(function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(v.intersectRect(i,n)),o.points.push(v.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){o.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){r.forEach(e.nodes(),(function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(e.edges(),(function(n){var o=e.edge(n),i=t.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],w=["width","height"],x={width:0,height:0},C=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function _(e,t){return r.mapValues(r.pick(e,t),Number)}function k(e){var t={};return r.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},95464:function(e,t,n){var r;try{r={cloneDeep:n(2704),constant:n(4528),defaults:n(63344),each:n(65520),filter:n(74952),find:n(18972),flatten:n(68628),forEach:n(42900),forIn:n(87160),has:n(76683),isUndefined:n(10352),last:n(38860),map:n(60768),mapValues:n(79884),max:n(93636),merge:n(896),min:n(39280),minBy:n(14696),now:n(21192),pick:n(81860),range:n(10020),reduce:n(49360),sortBy:n(38120),uniqueId:n(3904),values:n(84724),zipObject:n(8864)}}catch(e){}r||(r=window._),e.exports=r},98276:function(e,t,n){var r=n(95464),o=n(48456);function i(e,t,n,a,u,c,s){var l=e.children(s);if(l.length){var f=o.addBorderNode(e,"_bt"),d=o.addBorderNode(e,"_bb"),p=e.node(s);e.setParent(f,s),p.borderTop=f,e.setParent(d,s),p.borderBottom=d,r.forEach(l,(function(r){i(e,t,n,a,u,c,r);var o=e.node(r),l=o.borderTop?o.borderTop:r,p=o.borderBottom?o.borderBottom:r,h=o.borderTop?a:2*a,v=l!==p?1:u-c[s]+1;e.setEdge(f,l,{weight:h,minlen:v,nestingEdge:!0}),e.setEdge(p,d,{weight:h,minlen:v,nestingEdge:!0})})),e.parent(s)||e.setEdge(t,f,{weight:0,minlen:u+c[s]})}else s!==t&&e.setEdge(t,s,{weight:0,minlen:n})}e.exports={run:function(e){var t=o.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(o,i){var a=e.children(o);a&&a.length&&r.forEach(a,(function(e){n(e,i+1)})),t[o]=i}return r.forEach(e.children(),(function(e){n(e,1)})),t}(e),a=r.max(r.values(n))-1,u=2*a+1;e.graph().nestingRoot=t,r.forEach(e.edges(),(function(t){e.edge(t).minlen*=u}));var c=function(e){return r.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;r.forEach(e.children(),(function(r){i(e,t,u,c,a,n,r)})),e.graph().nodeRankFactor=u},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},11364:function(e,t,n){"use strict";var r=n(95464),o=n(48456);e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),(function(t){!function(e,t){var n,r,i,a=t.v,u=e.node(a).rank,c=t.w,s=e.node(c).rank,l=t.name,f=e.edge(t),d=f.labelRank;if(s===u+1)return;for(e.removeEdge(t),i=0,++u;u<s;++i,++u)f.points=[],r={width:0,height:0,edgeLabel:f,edgeObj:t,rank:u},n=o.addDummyNode(e,"edge",r,"_d"),u===d&&(r.width=f.width,r.height=f.height,r.dummy="edge-label",r.labelpos=f.labelpos),e.setEdge(a,n,{weight:f.weight},l),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,c,{weight:f.weight},l)}(e,t)}))},undo:function(e){r.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)}))}}},12424:function(e,t,n){var r=n(95464);e.exports=function(e,t,n){var o,i={};r.forEach(n,(function(n){for(var r,a,u=e.parent(n);u;){if((r=e.parent(u))?(a=i[r],i[r]=u):(a=o,o=u),a&&a!==u)return void t.setEdge(a,u);u=r}}))}},98824:function(e,t,n){var r=n(95464);e.exports=function(e,t){return r.map(t,(function(t){var n=e.inEdges(t);if(n.length){var o=r.reduce(n,(function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:o.sum/o.weight,weight:o.weight}}return{v:t}}))}},73504:function(e,t,n){var r=n(95464),o=n(19648).Graph;e.exports=function(e,t,n){var i=function(e){var t;for(;e.hasNode(t=r.uniqueId("_root")););return t}(e),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(t){return e.node(t)}));return r.forEach(e.nodes(),(function(o){var u=e.node(o),c=e.parent(o);(u.rank===t||u.minRank<=t&&t<=u.maxRank)&&(a.setNode(o),a.setParent(o,c||i),r.forEach(e[n](o),(function(t){var n=t.v===o?t.w:t.v,i=a.edge(n,o),u=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:e.edge(t).weight+u})})),r.has(u,"minRank")&&a.setNode(o,{borderLeft:u.borderLeft[t],borderRight:u.borderRight[t]}))})),a}},36496:function(e,t,n){"use strict";var r=n(95464);function o(e,t,n){for(var o=r.zipObject(n,r.map(n,(function(e,t){return t}))),i=r.flatten(r.map(t,(function(t){return r.sortBy(r.map(e.outEdges(t),(function(t){return{pos:o[t.w],weight:e.edge(t).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var u=2*a-1;a-=1;var c=r.map(new Array(u),(function(){return 0})),s=0;return r.forEach(i.forEach((function(e){var t=e.pos+a;c[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=c[t+1]),c[t=t-1>>1]+=e.weight;s+=e.weight*n}))),s}e.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=o(e,t[r-1],t[r]);return n}},85576:function(e,t,n){"use strict";var r=n(95464),o=n(28956),i=n(36496),a=n(75400),u=n(73504),c=n(12424),s=n(19648).Graph,l=n(48456);function f(e,t,n){return r.map(t,(function(t){return u(e,t,n)}))}function d(e,t){var n=new s;r.forEach(e,(function(e){var o=e.graph().root,i=a(e,o,n,t);r.forEach(i.vs,(function(t,n){e.node(t).order=n})),c(e,n,i.vs)}))}function p(e,t){r.forEach(t,(function(t){r.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=l.maxRank(e),n=f(e,r.range(1,t+1),"inEdges"),a=f(e,r.range(t-1,-1,-1),"outEdges"),u=o(e);p(e,u);for(var c,s=Number.POSITIVE_INFINITY,h=0,v=0;v<4;++h,++v){d(h%2?n:a,h%4>=2),u=l.buildLayerMatrix(e);var g=i(e,u);g<s&&(v=0,c=r.cloneDeep(u),s=g)}p(e,c)}},28956:function(e,t,n){"use strict";var r=n(95464);e.exports=function(e){var t={},n=r.filter(e.nodes(),(function(t){return!e.children(t).length})),o=r.max(r.map(n,(function(t){return e.node(t).rank}))),i=r.map(r.range(o+1),(function(){return[]}));var a=r.sortBy(n,(function(t){return e.node(t).rank}));return r.forEach(a,(function n(o){if(r.has(t,o))return;t[o]=!0;var a=e.node(o);i[a.rank].push(o),r.forEach(e.successors(o),n)})),i}},29715:function(e,t,n){"use strict";var r=n(95464);e.exports=function(e,t){var n={};return r.forEach(e,(function(e,t){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(o.barycenter=e.barycenter,o.weight=e.weight)})),r.forEach(t.edges(),(function(e){var t=n[e.v],o=n[e.w];r.isUndefined(t)||r.isUndefined(o)||(o.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function o(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(t,(function(e){return!e.merged})),(function(e){return r.pick(e,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(e){return!e.indegree})))}},75400:function(e,t,n){var r=n(95464),o=n(98824),i=n(29715),a=n(79240);e.exports=function e(t,n,u,c){var s=t.children(n),l=t.node(n),f=l?l.borderLeft:void 0,d=l?l.borderRight:void 0,p={};f&&(s=r.filter(s,(function(e){return e!==f&&e!==d})));var h=o(t,s);r.forEach(h,(function(n){if(t.children(n.v).length){var o=e(t,n.v,u,c);p[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var v=i(h,u);!function(e,t){r.forEach(e,(function(e){e.vs=r.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(v,p);var g=a(v,c);if(f&&(g.vs=r.flatten([f,g.vs,d],!0),t.predecessors(f).length)){var m=t.node(t.predecessors(f)[0]),y=t.node(t.predecessors(d)[0]);r.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+m.order+y.order)/(g.weight+2),g.weight+=2}return g}},79240:function(e,t,n){var r=n(95464),o=n(48456);function i(e,t,n){for(var o;t.length&&(o=r.last(t)).i<=n;)t.pop(),e.push(o.vs),n++;return n}e.exports=function(e,t){var n=o.partition(e,(function(e){return r.has(e,"barycenter")})),a=n.lhs,u=r.sortBy(n.rhs,(function(e){return-e.i})),c=[],s=0,l=0,f=0;a.sort((d=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:d?t.i-e.i:e.i-t.i})),f=i(c,u,f),r.forEach(a,(function(e){f+=e.vs.length,c.push(e.vs),s+=e.barycenter*e.weight,l+=e.weight,f=i(c,u,f)}));var d;var p={vs:r.flatten(c,!0)};l&&(p.barycenter=s/l,p.weight=l);return p}},22028:function(e,t,n){var r=n(95464);e.exports=function(e){var t=function(e){var t={},n=0;function o(i){var a=n;r.forEach(e.children(i),o),t[i]={low:a,lim:n++}}return r.forEach(e.children(),o),t}(e);r.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),o=r.edgeObj,i=function(e,t,n,r){var o,i,a=[],u=[],c=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>c||s>t[o].lim));i=o,o=r;for(;(o=e.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(e,t,o.v,o.w),a=i.path,u=i.lca,c=0,s=a[c],l=!0;n!==o.w;){if(r=e.node(n),l){for(;(s=a[c])!==u&&e.node(s).maxRank<r.rank;)c++;s===u&&(l=!1)}if(!l){for(;c<a.length-1&&e.node(s=a[c+1]).minRank<=r.rank;)c++;s=a[c]}e.setParent(n,s),n=e.successors(n)[0]}}))}},37456:function(e,t,n){"use strict";var r=n(95464),o=n(19648).Graph,i=n(48456);function a(e,t){var n={};return r.reduce(t,(function(t,o){var i=0,a=0,u=t.length,s=r.last(o);return r.forEach(o,(function(t,l){var f=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),d=f?e.node(f).order:u;(f||t===s)&&(r.forEach(o.slice(a,l+1),(function(t){r.forEach(e.predecessors(t),(function(r){var o=e.node(r),a=o.order;!(a<i||d<a)||o.dummy&&e.node(t).dummy||c(n,r,t)}))})),a=l+1,i=d)})),o})),n}function u(e,t){var n={};function o(t,o,i,a,u){var s;r.forEach(r.range(o,i),(function(o){s=t[o],e.node(s).dummy&&r.forEach(e.predecessors(s),(function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>u)&&c(n,t,s)}))}))}return r.reduce(t,(function(t,n){var i,a=-1,u=0;return r.forEach(n,(function(r,c){if("border"===e.node(r).dummy){var s=e.predecessors(r);s.length&&(i=e.node(s[0]).order,o(n,u,c,a,i),u=c,a=i)}o(n,u,n.length,i,t.length)})),n})),n}function c(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function s(e,t,n){if(t>n){var o=t;t=n,n=o}return r.has(e[t],n)}function l(e,t,n,o){var i={},a={},u={};return r.forEach(t,(function(e){r.forEach(e,(function(e,t){i[e]=e,a[e]=e,u[e]=t}))})),r.forEach(t,(function(e){var t=-1;r.forEach(e,(function(e){var c=o(e);if(c.length){c=r.sortBy(c,(function(e){return u[e]}));for(var l=(c.length-1)/2,f=Math.floor(l),d=Math.ceil(l);f<=d;++f){var p=c[f];a[e]===e&&t<u[p]&&!s(n,e,p)&&(a[p]=e,a[e]=i[e]=i[p],t=u[p])}}}))})),{root:i,align:a}}function f(e,t,n,i,a){var u={},c=function(e,t,n,i){var a=new o,u=e.graph(),c=function(e,t,n){return function(o,i,a){var u,c=o.node(i),s=o.node(a),l=0;if(l+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=-c.width/2;break;case"r":u=c.width/2}if(u&&(l+=n?u:-u),u=0,l+=(c.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,r.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2}return u&&(l+=n?u:-u),u=0,l}}(u.nodesep,u.edgesep,i);return r.forEach(t,(function(t){var o;r.forEach(t,(function(t){var r=n[t];if(a.setNode(r),o){var i=n[o],u=a.edge(i,r);a.setEdge(i,r,Math.max(c(e,t,o),u||0))}o=t}))})),a}(e,t,n,a),s=a?"borderLeft":"borderRight";function l(e,t){for(var n=c.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return l((function(e){u[e]=c.inEdges(e).reduce((function(e,t){return Math.max(e,u[t.v]+c.edge(t))}),0)}),c.predecessors.bind(c)),l((function(t){var n=c.outEdges(t).reduce((function(e,t){return Math.min(e,u[t.w]-c.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(u[t]=Math.max(u[t],n))}),c.successors.bind(c)),r.forEach(i,(function(e){u[e]=u[n[e]]})),u}function d(e,t){return r.minBy(r.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(t,(function(t,r){var i=function(e,t){return e.node(t).width}(e,r)/2;n=Math.max(t+i,n),o=Math.min(t-i,o)})),n-o}))}function p(e,t){var n=r.values(t),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var u,c=n+a,s=e[c];if(s!==t){var l=r.values(s);(u="l"===a?o-r.min(l):i-r.max(l))&&(e[c]=r.mapValues(s,(function(e){return e+u})))}}))}))}function h(e,t){return r.mapValues(e.ul,(function(n,o){if(t)return e[t.toLowerCase()][o];var i=r.sortBy(r.map(e,o));return(i[1]+i[2])/2}))}e.exports={positionX:function(e){var t,n=i.buildLayerMatrix(e),o=r.merge(a(e,n),u(e,n)),c={};r.forEach(["u","d"],(function(i){t="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(t=r.map(t,(function(e){return r.values(e).reverse()})));var a=("u"===i?e.predecessors:e.successors).bind(e),u=l(e,t,o,a),s=f(e,t,u.root,u.align,"r"===n);"r"===n&&(s=r.mapValues(s,(function(e){return-e}))),c[i+n]=s}))}));var s=d(e,c);return p(c,s),h(c,e.graph().align)},findType1Conflicts:a,findType2Conflicts:u,addConflict:c,hasConflict:s,verticalAlignment:l,horizontalCompaction:f,alignCoordinates:p,findSmallestWidthAlignment:d,balance:h}},63740:function(e,t,n){"use strict";var r=n(95464),o=n(48456),i=n(37456).positionX;e.exports=function(e){(function(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,i=0;r.forEach(t,(function(t){var o=r.max(r.map(t,(function(t){return e.node(t).height})));r.forEach(t,(function(t){e.node(t).y=i+o/2})),i+=o+n}))})(e=o.asNonCompoundGraph(e)),r.forEach(i(e),(function(t,n){e.node(n).x=t}))}},18060:function(e,t,n){"use strict";var r=n(95464),o=n(19648).Graph,i=n(6784).slack;function a(e,t){return r.forEach(e.nodes(),(function n(o){r.forEach(t.nodeEdges(o),(function(r){var a=r.v,u=o===a?r.w:a;e.hasNode(u)||i(t,r)||(e.setNode(u,{}),e.setEdge(o,u,{}),n(u))}))})),e.nodeCount()}function u(e,t){return r.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)}))}function c(e,t,n){r.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=function(e){var t,n,r=new o({directed:!1}),s=e.nodes()[0],l=e.nodeCount();r.setNode(s,{});for(;a(r,e)<l;)t=u(r,e),n=r.hasNode(t.v)?i(e,t):-i(e,t),c(r,e,n);return r}},95476:function(e,t,n){"use strict";var r=n(6784).longestPath,o=n(18060),i=n(31296);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:u(e);break;case"tight-tree":!function(e){r(e),o(e)}(e);break;case"longest-path":a(e)}};var a=r;function u(e){i(e)}},31296:function(e,t,n){"use strict";var r=n(95464),o=n(18060),i=n(6784).slack,a=n(6784).longestPath,u=n(19648).alg.preorder,c=n(19648).alg.postorder,s=n(48456).simplify;function l(e){e=s(e),a(e);var t,n=o(e);for(p(n),f(n,e);t=v(n);)m(n,e,t,g(n,e,t))}function f(e,t){var n=c(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(e,t,n){var r=e.node(n),o=r.parent;e.edge(n,o).cutvalue=d(e,t,n)}(e,t,n)}))}function d(e,t,n){var o=e.node(n).parent,i=!0,a=t.edge(n,o),u=0;return a||(i=!1,a=t.edge(o,n)),u=a.weight,r.forEach(t.nodeEdges(n),(function(r){var a,c,s=r.v===n,l=s?r.w:r.v;if(l!==o){var f=s===i,d=t.edge(r).weight;if(u+=f?d:-d,a=n,c=l,e.hasEdge(a,c)){var p=e.edge(n,l).cutvalue;u+=f?-p:p}}})),u}function p(e,t){arguments.length<2&&(t=e.nodes()[0]),h(e,{},1,t)}function h(e,t,n,o,i){var a=n,u=e.node(o);return t[o]=!0,r.forEach(e.neighbors(o),(function(i){r.has(t,i)||(n=h(e,t,n,i,o))})),u.low=a,u.lim=n++,i?u.parent=i:delete u.parent,n}function v(e){return r.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function g(e,t,n){var o=n.v,a=n.w;t.hasEdge(o,a)||(o=n.w,a=n.v);var u=e.node(o),c=e.node(a),s=u,l=!1;u.lim>c.lim&&(s=c,l=!0);var f=r.filter(t.edges(),(function(t){return l===y(e,e.node(t.v),s)&&l!==y(e,e.node(t.w),s)}));return r.minBy(f,(function(e){return i(t,e)}))}function m(e,t,n,o){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(o.v,o.w,{}),p(e),f(e,t),function(e,t){var n=r.find(e.nodes(),(function(e){return!t.node(e).parent})),o=u(e,n);o=o.slice(1),r.forEach(o,(function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;o||(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)}))}(e,t)}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=l,l.initLowLimValues=p,l.initCutValues=f,l.calcCutValue=d,l.leaveEdge=v,l.enterEdge=g,l.exchangeEdges=m},6784:function(e,t,n){"use strict";var r=n(95464);e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),(function n(o){var i=e.node(o);if(r.has(t,o))return i.rank;t[o]=!0;var a=r.min(r.map(e.outEdges(o),(function(t){return n(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},48456:function(e,t,n){"use strict";var r=n(95464),o=n(19648).Graph;function i(e,t,n,o){var i;do{i=r.uniqueId(o)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function a(e){return r.max(r.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n})))}e.exports={addDummyNode:i,simplify:function(e){var t=(new o).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),t},asNonCompoundGraph:function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,u=t.y-i,c=e.width/2,s=e.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*c>Math.abs(a)*s?(u<0&&(s=-s),n=s*a/u,r=s):(a<0&&(c=-c),n=c,r=c*u/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(e){var t=r.map(r.range(a(e)+1),(function(){return[]}));return r.forEach(e.nodes(),(function(n){var o=e.node(n),i=o.rank;r.isUndefined(i)||(t[i][o.order]=n)})),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank})));r.forEach(e.nodes(),(function(n){var o=e.node(n);r.has(o,"rank")&&(o.rank-=t)}))},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];r.forEach(e.nodes(),(function(r){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=e.graph().nodeRankFactor;r.forEach(n,(function(t,n){r.isUndefined(t)&&n%i!=0?--o:o&&r.forEach(t,(function(t){e.node(t).rank+=o}))}))},addBorderNode:function(e,t,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(e,"border",o,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){r.now();try{return t()}finally{}},notime:function(e,t){return t()}}},94428:function(e){e.exports="0.8.5"},56269:function(e,t,n){var r=n(22852);e.exports={Graph:r.Graph,json:n(68088),alg:n(91732),version:r.version}},42168:function(e,t,n){var r=n(75488);e.exports=function(e){var t,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),i),r.each(e.predecessors(o),i))}return r.each(e.nodes(),(function(e){t=[],i(e),t.length&&o.push(t)})),o}},77780:function(e,t,n){var r=n(75488);function o(e,t,n,i,a,u){r.has(i,t)||(i[t]=!0,n||u.push(t),r.each(a(t),(function(t){o(e,t,n,i,a,u)})),n&&u.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],u={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);o(e,t,"post"===n,u,i,a)})),a}},86924:function(e,t,n){var r=n(9604),o=n(75488);e.exports=function(e,t,n){return o.transform(e.nodes(),(function(o,i){o[i]=r(e,i,t,n)}),{})}},9604:function(e,t,n){var r=n(75488),o=n(29756);e.exports=function(e,t,n,r){return function(e,t,n,r){var i,a,u={},c=new o,s=function(e){var t=e.v!==i?e.v:e.w,r=u[t],o=n(e),s=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);s<r.distance&&(r.distance=s,r.predecessor=i,c.decrease(t,s))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;u[e]={distance:n},c.add(e,n)}));for(;c.size()>0&&(i=c.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(s);return u}(e,String(t),n||i,r||function(t){return e.outEdges(t)})};var i=r.constant(1)},33976:function(e,t,n){var r=n(75488),o=n(1940);e.exports=function(e){return r.filter(o(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},90756:function(e,t,n){var r=n(75488);e.exports=function(e,t,n){return function(e,t,n){var r={},o=e.nodes();return o.forEach((function(e){r[e]={},r[e][e]={distance:0},o.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=r[e];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[e],o=t[n],a=i[n],u=r.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),r}(e,t||o,n||function(t){return e.outEdges(t)})};var o=r.constant(1)},91732:function(e,t,n){e.exports={components:n(42168),dijkstra:n(9604),dijkstraAll:n(86924),findCycles:n(33976),floydWarshall:n(90756),isAcyclic:n(33776),postorder:n(77392),preorder:n(78809),prim:n(55976),tarjan:n(1940),topsort:n(69604)}},33776:function(e,t,n){var r=n(69604);e.exports=function(e){try{r(e)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},77392:function(e,t,n){var r=n(77780);e.exports=function(e,t){return r(e,t,"post")}},78809:function(e,t,n){var r=n(77780);e.exports=function(e,t){return r(e,t,"pre")}},55976:function(e,t,n){var r=n(75488),o=n(18948),i=n(29756);e.exports=function(e,t){var n,a=new o,u={},c=new i;function s(e){var r=e.v===n?e.w:e.v,o=c.priority(r);if(void 0!==o){var i=t(e);i<o&&(u[r]=n,c.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){c.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),c.decrease(e.nodes()[0],0);var l=!1;for(;c.size()>0;){if(n=c.removeMin(),r.has(u,n))a.setEdge(n,u[n]);else{if(l)throw new Error("Input graph is not connected: "+e);l=!0}e.nodeEdges(n).forEach(s)}return a}},1940:function(e,t,n){var r=n(75488);e.exports=function(e){var t=0,n=[],o={},i=[];function a(u){var c=o[u]={onStack:!0,lowlink:t,index:t++};if(n.push(u),e.successors(u).forEach((function(e){r.has(o,e)?o[e].onStack&&(c.lowlink=Math.min(c.lowlink,o[e].index)):(a(e),c.lowlink=Math.min(c.lowlink,o[e].lowlink))})),c.lowlink===c.index){var s,l=[];do{s=n.pop(),o[s].onStack=!1,l.push(s)}while(u!==s);i.push(l)}}return e.nodes().forEach((function(e){r.has(o,e)||a(e)})),i}},69604:function(e,t,n){var r=n(75488);function o(e){var t={},n={},o=[];if(r.each(e.sinks(),(function a(u){if(r.has(n,u))throw new i;r.has(t,u)||(n[u]=!0,t[u]=!0,r.each(e.predecessors(u),a),delete n[u],o.push(u))})),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i,i.prototype=new Error},29756:function(e,t,n){var r=n(75488);function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},18948:function(e,t,n){"use strict";var r=n(75488);e.exports=u;var o="\0",i="\0",a="";function u(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function c(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function l(e,t,n,i){var u=""+t,c=""+n;if(!e&&u>c){var s=u;u=c,c=s}return u+a+c+a+(r.isUndefined(i)?o:i)}function f(e,t){return l(e,t.v,t.w,t.name)}u.prototype._nodeCount=0,u.prototype._edgeCount=0,u.prototype.isDirected=function(){return this._isDirected},u.prototype.isMultigraph=function(){return this._isMultigraph},u.prototype.isCompound=function(){return this._isCompound},u.prototype.setGraph=function(e){return this._label=e,this},u.prototype.graph=function(){return this._label},u.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},u.prototype.nodeCount=function(){return this._nodeCount},u.prototype.nodes=function(){return r.keys(this._nodes)},u.prototype.sources=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._in[t])}))},u.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._out[t])}))},u.prototype.setNodes=function(e,t){var n=arguments,o=this;return r.each(e,(function(e){n.length>1?o.setNode(e,t):o.setNode(e)})),this},u.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children[i][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},u.prototype.node=function(e){return this._nodes[e]},u.prototype.hasNode=function(e){return r.has(this._nodes,e)},u.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},u.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=i;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},u.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},u.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},u.prototype.children=function(e){if(r.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},u.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},u.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},u.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},u.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},u.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),r.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var o={};function i(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(o[e]=r,r):r in o?o[r]:i(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},u.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},u.prototype.edgeCount=function(){return this._edgeCount},u.prototype.edges=function(){return r.values(this._edgeObjs)},u.prototype.setPath=function(e,t){var n=this,o=arguments;return r.reduce(e,(function(e,r){return o.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},u.prototype.setEdge=function(){var e,t,n,o,i=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(o=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var u=l(this._isDirected,e,t,n);if(r.has(this._edgeLabels,u))return i&&(this._edgeLabels[u]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=i?o:this._defaultEdgeLabelFn(e,t,n);var s=function(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};r&&(u.name=r);return u}(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[u]=s,c(this._preds[t],e),c(this._sucs[e],t),this._in[t][u]=s,this._out[e][u]=s,this._edgeCount++,this},u.prototype.edge=function(e,t,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return this._edgeLabels[r]},u.prototype.hasEdge=function(e,t,n){var o=1===arguments.length?f(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return r.has(this._edgeLabels,o)},u.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):l(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},u.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.v===t})):o}},u.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.w===t})):o}},u.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},22852:function(e,t,n){e.exports={Graph:n(18948),version:n(76248)}},68088:function(e,t,n){var r=n(75488),o=n(18948);function i(e){return r.map(e.nodes(),(function(t){var n=e.node(t),o=e.parent(t),i={v:t};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),o={v:t.v,w:t.w};return r.isUndefined(t.name)||(o.name=t.name),r.isUndefined(n)||(o.value=n),o}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},75488:function(e,t,n){var r;try{r={clone:n(56352),constant:n(4528),each:n(65520),filter:n(74952),has:n(76683),isArray:n(71648),isEmpty:n(58568),isFunction:n(87464),isUndefined:n(10352),keys:n(2820),map:n(60768),reduce:n(49360),size:n(70851),transform:n(2984),union:n(41872),values:n(84724)}}catch(e){}r||(r=window._),e.exports=r},76248:function(e){e.exports="2.1.8"},79408:function(e,t,n){var r=n(42676)(n(99088),"DataView");e.exports=r},69728:function(e,t,n){var r=n(47152),o=n(61372),i=n(21084),a=n(63516),u=n(31836);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,e.exports=c},44920:function(e,t,n){var r=n(42444),o=n(98776),i=n(13580),a=n(51776),u=n(54688);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,e.exports=c},8192:function(e,t,n){var r=n(42676)(n(99088),"Map");e.exports=r},79892:function(e,t,n){var r=n(4112),o=n(51928),i=n(78976),a=n(69336),u=n(43976);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,e.exports=c},5092:function(e,t,n){var r=n(42676)(n(99088),"Promise");e.exports=r},97968:function(e,t,n){var r=n(42676)(n(99088),"Set");e.exports=r},34920:function(e,t,n){var r=n(79892),o=n(50520),i=n(96240);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},33288:function(e,t,n){var r=n(44920),o=n(10816),i=n(84040),a=n(73304),u=n(46696),c=n(62968);function s(e){var t=this.__data__=new r(e);this.size=t.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=u,s.prototype.set=c,e.exports=s},73972:function(e,t,n){var r=n(99088).Symbol;e.exports=r},20400:function(e,t,n){var r=n(99088).Uint8Array;e.exports=r},21432:function(e,t,n){var r=n(42676)(n(99088),"WeakMap");e.exports=r},75088:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},33972:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},92856:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},94092:function(e,t,n){var r=n(86088);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},28156:function(e){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},30192:function(e,t,n){var r=n(79664),o=n(43396),i=n(71648),a=n(59028),u=n(1640),c=n(25692),s=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&c(e),p=n||l||f||d,h=p?r(e.length,String):[],v=h.length;for(var g in e)!t&&!s.call(e,g)||p&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||h.push(g);return h}},89376:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},44972:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},49048:function(e){e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},13464:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},76148:function(e,t,n){var r=n(49056)("length");e.exports=r},4056:function(e,t,n){var r=n(86437),o=n(44684);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},38156:function(e,t,n){var r=n(86437),o=n(44684),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},1840:function(e,t,n){var r=n(44684);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},91908:function(e,t,n){var r=n(92024),o=n(2820);e.exports=function(e,t){return e&&r(t,o(t),e)}},17840:function(e,t,n){var r=n(92024),o=n(80264);e.exports=function(e,t){return e&&r(t,o(t),e)}},86437:function(e,t,n){var r=n(97848);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},14776:function(e,t,n){var r=n(33288),o=n(33972),i=n(38156),a=n(91908),u=n(17840),c=n(98528),s=n(49924),l=n(1588),f=n(73256),d=n(22892),p=n(34800),h=n(42300),v=n(39100),g=n(70224),m=n(23128),y=n(71648),b=n(59028),w=n(73888),x=n(50636),C=n(57944),E=n(2820),S=n(80264),_="[object Arguments]",k="[object Function]",A="[object Object]",O={};O[_]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[A]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[k]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,N,M,T,P){var I,L=1&n,D=2&n,j=4&n;if(N&&(I=T?N(t,M,T,P):N(t)),void 0!==I)return I;if(!x(t))return t;var R=y(t);if(R){if(I=v(t),!L)return s(t,I)}else{var F=h(t),z=F==k||"[object GeneratorFunction]"==F;if(b(t))return c(t,L);if(F==A||F==_||z&&!T){if(I=D||z?{}:m(t),!L)return D?f(t,u(I,t)):l(t,a(I,t))}else{if(!O[F])return T?t:{};I=g(t,F,L)}}P||(P=new r);var B=P.get(t);if(B)return B;P.set(t,I),C(t)?t.forEach((function(r){I.add(e(r,n,N,r,t,P))})):w(t)&&t.forEach((function(r,o){I.set(o,e(r,n,N,o,t,P))}));var U=R?void 0:(j?D?p:d:D?S:E)(t);return o(U||t,(function(r,o){U&&(r=t[o=r]),i(I,o,e(r,n,N,o,t,P))})),I}},3188:function(e,t,n){var r=n(50636),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},82580:function(e,t,n){var r=n(86704),o=n(13808)(r);e.exports=o},37684:function(e,t,n){var r=n(47432);e.exports=function(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],u=t(a);if(null!=u&&(void 0===c?u==u&&!r(u):n(u,c)))var c=u,s=a}return s}},82744:function(e,t,n){var r=n(82580);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},10528:function(e){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},13776:function(e,t,n){var r=n(44972),o=n(17552);e.exports=function e(t,n,i,a,u){var c=-1,s=t.length;for(i||(i=o),u||(u=[]);++c<s;){var l=t[c];n>0&&i(l)?n>1?e(l,n-1,i,a,u):r(u,l):a||(u[u.length]=l)}return u}},20284:function(e,t,n){var r=n(41988)();e.exports=r},86704:function(e,t,n){var r=n(20284),o=n(2820);e.exports=function(e,t){return e&&r(e,t,o)}},54280:function(e,t,n){var r=n(24996),o=n(82104);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},69476:function(e,t,n){var r=n(44972),o=n(71648);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},57596:function(e,t,n){var r=n(73972),o=n(30712),i=n(22640),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},78412:function(e){e.exports=function(e,t){return e>t}},77232:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},28928:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},86088:function(e,t,n){var r=n(10528),o=n(91688),i=n(41688);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},15064:function(e,t,n){var r=n(57596),o=n(28152);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},27816:function(e,t,n){var r=n(54480),o=n(28152);e.exports=function e(t,n,i,a,u){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,u))}},54480:function(e,t,n){var r=n(33288),o=n(67227),i=n(51872),a=n(63980),u=n(42300),c=n(71648),s=n(59028),l=n(25692),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,m){var y=c(e),b=c(t),w=y?d:u(e),x=b?d:u(t),C=(w=w==f?p:w)==p,E=(x=x==f?p:x)==p,S=w==x;if(S&&s(e)){if(!s(t))return!1;y=!0,C=!1}if(S&&!C)return m||(m=new r),y||l(e)?o(e,t,n,v,g,m):i(e,t,w,n,v,g,m);if(!(1&n)){var _=C&&h.call(e,"__wrapped__"),k=E&&h.call(t,"__wrapped__");if(_||k){var A=_?e.value():e,O=k?t.value():t;return m||(m=new r),g(A,O,n,v,m)}}return!!S&&(m||(m=new r),a(e,t,n,v,g,m))}},4464:function(e,t,n){var r=n(42300),o=n(28152);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},45232:function(e,t,n){var r=n(33288),o=n(27816);e.exports=function(e,t,n,i){var a=n.length,u=a,c=!i;if(null==e)return!u;for(e=Object(e);a--;){var s=n[a];if(c&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<u;){var l=(s=n[a])[0],f=e[l],d=s[1];if(c&&s[2]){if(void 0===f&&!(l in e))return!1}else{var p=new r;if(i)var h=i(f,d,l,e,t,p);if(!(void 0===h?o(d,f,3,i,p):h))return!1}}return!0}},91688:function(e){e.exports=function(e){return e!=e}},7376:function(e,t,n){var r=n(87464),o=n(9008),i=n(50636),a=n(64776),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,l=c.toString,f=s.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:u).test(a(e))}},272:function(e,t,n){var r=n(42300),o=n(28152);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},90420:function(e,t,n){var r=n(57596),o=n(49912),i=n(28152),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},27840:function(e,t,n){var r=n(99696),o=n(58140),i=n(85992),a=n(71648),u=n(38144);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):u(e)}},72144:function(e,t,n){var r=n(34084),o=n(77532),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},78553:function(e,t,n){var r=n(50636),o=n(34084),i=n(24904),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var u in e)("constructor"!=u||!t&&a.call(e,u))&&n.push(u);return n}},7448:function(e){e.exports=function(e,t){return e<t}},27448:function(e,t,n){var r=n(82580),o=n(62468);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},99696:function(e,t,n){var r=n(45232),o=n(46720),i=n(2656);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},58140:function(e,t,n){var r=n(27816),o=n(34268),i=n(58464),a=n(93968),u=n(25107),c=n(2656),s=n(82104);e.exports=function(e,t){return a(e)&&u(t)?c(s(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},4224:function(e,t,n){var r=n(33288),o=n(4056),i=n(20284),a=n(91731),u=n(50636),c=n(80264),s=n(18336);e.exports=function e(t,n,l,f,d){t!==n&&i(n,(function(i,c){if(d||(d=new r),u(i))a(t,n,c,l,e,f,d);else{var p=f?f(s(t,c),i,c+"",t,n,d):void 0;void 0===p&&(p=i),o(t,c,p)}}),c)}},91731:function(e,t,n){var r=n(4056),o=n(98528),i=n(34832),a=n(49924),u=n(23128),c=n(43396),s=n(71648),l=n(79308),f=n(59028),d=n(87464),p=n(50636),h=n(63532),v=n(25692),g=n(18336),m=n(82092);e.exports=function(e,t,n,y,b,w,x){var C=g(e,n),E=g(t,n),S=x.get(E);if(S)r(e,n,S);else{var _=w?w(C,E,n+"",e,t,x):void 0,k=void 0===_;if(k){var A=s(E),O=!A&&f(E),N=!A&&!O&&v(E);_=E,A||O||N?s(C)?_=C:l(C)?_=a(C):O?(k=!1,_=o(E,!0)):N?(k=!1,_=i(E,!0)):_=[]:h(E)||c(E)?(_=C,c(C)?_=m(C):p(C)&&!d(C)||(_=u(E))):k=!1}k&&(x.set(E,_),b(_,E,y,w,x),x.delete(E)),r(e,n,_)}}},89461:function(e,t,n){var r=n(89376),o=n(54280),i=n(27840),a=n(27448),u=n(35612),c=n(15792),s=n(25888),l=n(85992),f=n(71648);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[l];var d=-1;t=r(t,c(i));var p=a(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return u(p,(function(e,t){return s(e,t,n)}))}},80956:function(e,t,n){var r=n(55532),o=n(58464);e.exports=function(e,t){return r(e,t,(function(t,n){return o(e,n)}))}},55532:function(e,t,n){var r=n(54280),o=n(5572),i=n(24996);e.exports=function(e,t,n){for(var a=-1,u=t.length,c={};++a<u;){var s=t[a],l=r(e,s);n(l,s)&&o(c,i(s,e),l)}return c}},49056:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},40176:function(e,t,n){var r=n(54280);e.exports=function(e){return function(t){return r(t,e)}}},21068:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,o,i){for(var a=-1,u=n(t((r-e)/(o||1)),0),c=Array(u);u--;)c[i?u:++a]=e,e+=o;return c}},34024:function(e){e.exports=function(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}},47208:function(e,t,n){var r=n(85992),o=n(2184),i=n(72568);e.exports=function(e,t){return i(o(e,t,r),e+"")}},5572:function(e,t,n){var r=n(38156),o=n(24996),i=n(1640),a=n(50636),u=n(82104);e.exports=function(e,t,n,c){if(!a(e))return e;for(var s=-1,l=(t=o(t,e)).length,f=l-1,d=e;null!=d&&++s<l;){var p=u(t[s]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(s!=f){var v=d[p];void 0===(h=c?c(v,p,d):void 0)&&(h=a(v)?v:i(t[s+1])?[]:{})}r(d,p,h),d=d[p]}return e}},26999:function(e,t,n){var r=n(4528),o=n(97848),i=n(85992),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},35612:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},79664:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},93060:function(e,t,n){var r=n(73972),o=n(89376),i=n(71648),a=n(47432),u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},83900:function(e,t,n){var r=n(63296),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},15792:function(e){e.exports=function(e){return function(t){return e(t)}}},91456:function(e,t,n){var r=n(34920),o=n(94092),i=n(28156),a=n(62844),u=n(80388),c=n(77280);e.exports=function(e,t,n){var s=-1,l=o,f=e.length,d=!0,p=[],h=p;if(n)d=!1,l=i;else if(f>=200){var v=t?null:u(e);if(v)return c(v);d=!1,l=a,h=new r}else h=t?[]:p;e:for(;++s<f;){var g=e[s],m=t?t(g):g;if(g=n||0!==g?g:0,d&&m==m){for(var y=h.length;y--;)if(h[y]===m)continue e;t&&h.push(m),p.push(g)}else l(h,m,n)||(h!==p&&h.push(m),p.push(g))}return p}},2668:function(e,t,n){var r=n(89376);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},46192:function(e){e.exports=function(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var u=r<i?t[r]:void 0;n(a,e[r],u)}return a}},62844:function(e){e.exports=function(e,t){return e.has(t)}},69024:function(e,t,n){var r=n(85992);e.exports=function(e){return"function"==typeof e?e:r}},24996:function(e,t,n){var r=n(71648),o=n(93968),i=n(26712),a=n(57216);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},89899:function(e,t,n){var r=n(20400);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},98528:function(e,t,n){e=n.nmd(e);var r=n(99088),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}},9315:function(e,t,n){var r=n(89899);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},26148:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},90864:function(e,t,n){var r=n(73972),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},34832:function(e,t,n){var r=n(89899);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},4408:function(e,t,n){var r=n(47432);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e==e,a=r(e),u=void 0!==t,c=null===t,s=t==t,l=r(t);if(!c&&!l&&!a&&e>t||a&&u&&s&&!c&&!l||o&&u&&s||!n&&s||!i)return 1;if(!o&&!a&&!l&&e<t||l&&n&&i&&!o&&!a||c&&n&&i||!u&&i||!s)return-1}return 0}},25888:function(e,t,n){var r=n(4408);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,u=i.length,c=n.length;++o<u;){var s=r(i[o],a[o]);if(s)return o>=c?s:s*("desc"==n[o]?-1:1)}return e.index-t.index}},49924:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},92024:function(e,t,n){var r=n(38156),o=n(86437);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var u=-1,c=t.length;++u<c;){var s=t[u],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),a?o(n,s,l):r(n,s,l)}return n}},1588:function(e,t,n){var r=n(92024),o=n(17112);e.exports=function(e,t){return r(e,o(e),t)}},73256:function(e,t,n){var r=n(92024),o=n(39232);e.exports=function(e,t){return r(e,o(e),t)}},11812:function(e,t,n){var r=n(99088)["__core-js_shared__"];e.exports=r},76656:function(e,t,n){var r=n(47208),o=n(8400);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(n[0],n[1],u)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}},13808:function(e,t,n){var r=n(62468);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,u=Object(n);(t?a--:++a<i)&&!1!==o(u[a],a,u););return n}}},41988:function(e){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var c=a[e?u:++o];if(!1===n(i[c],c,i))break}return t}}},87956:function(e,t,n){var r=n(27840),o=n(62468),i=n(2820);e.exports=function(e){return function(t,n,a){var u=Object(t);if(!o(t)){var c=r(n,3);t=i(t),n=function(e){return c(u[e],e,u)}}var s=e(t,n,a);return s>-1?u[c?t[s]:s]:void 0}}},98232:function(e,t,n){var r=n(21068),o=n(8400),i=n(64168);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}},80388:function(e,t,n){var r=n(97968),o=n(53284),i=n(77280),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},97848:function(e,t,n){var r=n(42676),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},67227:function(e,t,n){var r=n(34920),o=n(13464),i=n(62844);e.exports=function(e,t,n,a,u,c){var s=1&n,l=e.length,f=t.length;if(l!=f&&!(s&&f>l))return!1;var d=c.get(e),p=c.get(t);if(d&&p)return d==t&&p==e;var h=-1,v=!0,g=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++h<l;){var m=e[h],y=t[h];if(a)var b=s?a(y,m,h,t,e,c):a(m,y,h,e,t,c);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!o(t,(function(e,t){if(!i(g,t)&&(m===e||u(m,e,n,a,c)))return g.push(t)}))){v=!1;break}}else if(m!==y&&!u(m,y,n,a,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},51872:function(e,t,n){var r=n(73972),o=n(20400),i=n(44684),a=n(67227),u=n(68788),c=n(77280),s=r?r.prototype:void 0,l=s?s.valueOf:void 0;e.exports=function(e,t,n,r,s,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=u;case"[object Set]":var h=1&r;if(p||(p=c),e.size!=t.size&&!h)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var g=a(p(e),p(t),r,s,f,d);return d.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},63980:function(e,t,n){var r=n(22892),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,u){var c=1&n,s=r(e),l=s.length;if(l!=r(t).length&&!c)return!1;for(var f=l;f--;){var d=s[f];if(!(c?d in t:o.call(t,d)))return!1}var p=u.get(e),h=u.get(t);if(p&&h)return p==t&&h==e;var v=!0;u.set(e,t),u.set(t,e);for(var g=c;++f<l;){var m=e[d=s[f]],y=t[d];if(i)var b=c?i(y,m,d,t,e,u):i(m,y,d,e,t,u);if(!(void 0===b?m===y||a(m,y,n,i,u):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return u.delete(e),u.delete(t),v}},84524:function(e,t,n){var r=n(68628),o=n(2184),i=n(72568);e.exports=function(e){return i(o(e,void 0,r),e+"")}},67400:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},22892:function(e,t,n){var r=n(69476),o=n(17112),i=n(2820);e.exports=function(e){return r(e,i,o)}},34800:function(e,t,n){var r=n(69476),o=n(39232),i=n(80264);e.exports=function(e){return r(e,i,o)}},72840:function(e,t,n){var r=n(96768);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},46720:function(e,t,n){var r=n(25107),o=n(2820);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},42676:function(e,t,n){var r=n(7376),o=n(32420);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},20732:function(e,t,n){var r=n(80824)(Object.getPrototypeOf,Object);e.exports=r},30712:function(e,t,n){var r=n(73972),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[u]=n:delete e[u]),o}},17112:function(e,t,n){var r=n(92856),o=n(45992),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=u},39232:function(e,t,n){var r=n(44972),o=n(20732),i=n(17112),a=n(45992),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=u},42300:function(e,t,n){var r=n(79408),o=n(8192),i=n(5092),a=n(97968),u=n(21432),c=n(57596),s=n(64776),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",v=s(r),g=s(o),m=s(i),y=s(a),b=s(u),w=c;(r&&w(new r(new ArrayBuffer(1)))!=h||o&&w(new o)!=l||i&&w(i.resolve())!=f||a&&w(new a)!=d||u&&w(new u)!=p)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case v:return h;case g:return l;case m:return f;case y:return d;case b:return p}return t}),e.exports=w},32420:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},92796:function(e,t,n){var r=n(24996),o=n(43396),i=n(71648),a=n(1640),u=n(49912),c=n(82104);e.exports=function(e,t,n){for(var s=-1,l=(t=r(t,e)).length,f=!1;++s<l;){var d=c(t[s]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++s!=l?f:!!(l=null==e?0:e.length)&&u(l)&&a(d,l)&&(i(e)||o(e))}},24004:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},47152:function(e,t,n){var r=n(53768);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},61372:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},21084:function(e,t,n){var r=n(53768),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},63516:function(e,t,n){var r=n(53768),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},31836:function(e,t,n){var r=n(53768);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},39100:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},70224:function(e,t,n){var r=n(89899),o=n(9315),i=n(26148),a=n(90864),u=n(34832);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},23128:function(e,t,n){var r=n(3188),o=n(20732),i=n(34084);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},17552:function(e,t,n){var r=n(73972),o=n(43396),i=n(71648),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},1640:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},8400:function(e,t,n){var r=n(44684),o=n(62468),i=n(1640),a=n(50636);e.exports=function(e,t,n){if(!a(n))return!1;var u=typeof t;return!!("number"==u?o(n)&&i(t,n.length):"string"==u&&t in n)&&r(n[t],e)}},93968:function(e,t,n){var r=n(71648),o=n(47432),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},96768:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},9008:function(e,t,n){var r,o=n(11812),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},34084:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},25107:function(e,t,n){var r=n(50636);e.exports=function(e){return e==e&&!r(e)}},42444:function(e){e.exports=function(){this.__data__=[],this.size=0}},98776:function(e,t,n){var r=n(1840),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},13580:function(e,t,n){var r=n(1840);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},51776:function(e,t,n){var r=n(1840);e.exports=function(e){return r(this.__data__,e)>-1}},54688:function(e,t,n){var r=n(1840);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4112:function(e,t,n){var r=n(69728),o=n(44920),i=n(8192);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},51928:function(e,t,n){var r=n(72840);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},78976:function(e,t,n){var r=n(72840);e.exports=function(e){return r(this,e).get(e)}},69336:function(e,t,n){var r=n(72840);e.exports=function(e){return r(this,e).has(e)}},43976:function(e,t,n){var r=n(72840);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},68788:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},2656:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},25336:function(e,t,n){var r=n(49084);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},53768:function(e,t,n){var r=n(42676)(Object,"create");e.exports=r},77532:function(e,t,n){var r=n(80824)(Object.keys,Object);e.exports=r},24904:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},11548:function(e,t,n){e=n.nmd(e);var r=n(67400),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=u},22640:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},80824:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},2184:function(e,t,n){var r=n(75088),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,u=o(i.length-t,0),c=Array(u);++a<u;)c[a]=i[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=i[a];return s[t]=n(c),r(e,this,s)}}},99088:function(e,t,n){var r=n(67400),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},18336:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},50520:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},96240:function(e){e.exports=function(e){return this.__data__.has(e)}},77280:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},72568:function(e,t,n){var r=n(26999),o=n(78300)(r);e.exports=o},78300:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},10816:function(e,t,n){var r=n(44920);e.exports=function(){this.__data__=new r,this.size=0}},84040:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},73304:function(e){e.exports=function(e){return this.__data__.get(e)}},46696:function(e){e.exports=function(e){return this.__data__.has(e)}},62968:function(e,t,n){var r=n(44920),o=n(8192),i=n(79892);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},41688:function(e){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},99684:function(e,t,n){var r=n(76148),o=n(24004),i=n(11312);e.exports=function(e){return o(e)?i(e):r(e)}},26712:function(e,t,n){var r=n(25336),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},82104:function(e,t,n){var r=n(47432);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},64776:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},63296:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},11312:function(e){var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",s="[\\ufe0e\\ufe0f]?",l=s+c+("(?:\\u200d(?:"+[i,a,u].join("|")+")"+s+c+")*"),f="(?:"+[i+r+"?",r,a,u,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+f+l,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},56352:function(e,t,n){var r=n(14776);e.exports=function(e){return r(e,4)}},2704:function(e,t,n){var r=n(14776);e.exports=function(e){return r(e,5)}},4528:function(e){e.exports=function(e){return function(){return e}}},63344:function(e,t,n){var r=n(47208),o=n(44684),i=n(8400),a=n(80264),u=Object.prototype,c=u.hasOwnProperty,s=r((function(e,t){e=Object(e);var n=-1,r=t.length,s=r>2?t[2]:void 0;for(s&&i(t[0],t[1],s)&&(r=1);++n<r;)for(var l=t[n],f=a(l),d=-1,p=f.length;++d<p;){var h=f[d],v=e[h];(void 0===v||o(v,u[h])&&!c.call(e,h))&&(e[h]=l[h])}return e}));e.exports=s},65520:function(e,t,n){e.exports=n(42900)},44684:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},74952:function(e,t,n){var r=n(92856),o=n(82744),i=n(27840),a=n(71648);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},18972:function(e,t,n){var r=n(87956)(n(80308));e.exports=r},80308:function(e,t,n){var r=n(10528),o=n(27840),i=n(45624),a=Math.max;e.exports=function(e,t,n){var u=null==e?0:e.length;if(!u)return-1;var c=null==n?0:i(n);return c<0&&(c=a(u+c,0)),r(e,o(t,3),c)}},68628:function(e,t,n){var r=n(13776);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},42900:function(e,t,n){var r=n(33972),o=n(82580),i=n(69024),a=n(71648);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},87160:function(e,t,n){var r=n(20284),o=n(69024),i=n(80264);e.exports=function(e,t){return null==e?e:r(e,o(t),i)}},34268:function(e,t,n){var r=n(54280);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},76683:function(e,t,n){var r=n(77232),o=n(92796);e.exports=function(e,t){return null!=e&&o(e,t,r)}},58464:function(e,t,n){var r=n(28928),o=n(92796);e.exports=function(e,t){return null!=e&&o(e,t,r)}},85992:function(e){e.exports=function(e){return e}},43396:function(e,t,n){var r=n(15064),o=n(28152),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!u.call(e,"callee")};e.exports=c},71648:function(e){var t=Array.isArray;e.exports=t},62468:function(e,t,n){var r=n(87464),o=n(49912);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},79308:function(e,t,n){var r=n(62468),o=n(28152);e.exports=function(e){return o(e)&&r(e)}},59028:function(e,t,n){e=n.nmd(e);var r=n(99088),o=n(36388),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,u=a&&a.exports===i?r.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;e.exports=c},58568:function(e,t,n){var r=n(72144),o=n(42300),i=n(43396),a=n(71648),u=n(62468),c=n(59028),s=n(34084),l=n(25692),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(u(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(s(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},87464:function(e,t,n){var r=n(57596),o=n(50636);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},49912:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},73888:function(e,t,n){var r=n(4464),o=n(15792),i=n(11548),a=i&&i.isMap,u=a?o(a):r;e.exports=u},50636:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},28152:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},63532:function(e,t,n){var r=n(57596),o=n(20732),i=n(28152),a=Function.prototype,u=Object.prototype,c=a.toString,s=u.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},57944:function(e,t,n){var r=n(272),o=n(15792),i=n(11548),a=i&&i.isSet,u=a?o(a):r;e.exports=u},33116:function(e,t,n){var r=n(57596),o=n(71648),i=n(28152);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},47432:function(e,t,n){var r=n(57596),o=n(28152);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},25692:function(e,t,n){var r=n(90420),o=n(15792),i=n(11548),a=i&&i.isTypedArray,u=a?o(a):r;e.exports=u},10352:function(e){e.exports=function(e){return void 0===e}},2820:function(e,t,n){var r=n(30192),o=n(72144),i=n(62468);e.exports=function(e){return i(e)?r(e):o(e)}},80264:function(e,t,n){var r=n(30192),o=n(78553),i=n(62468);e.exports=function(e){return i(e)?r(e,!0):o(e)}},38860:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},67928:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",c=16,s=32,l=64,f=128,d=256,p=1/0,h=9007199254740991,v=NaN,g=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",s],["partialRight",l],["rearg",d]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",x="[object Date]",C="[object Error]",E="[object Function]",S="[object GeneratorFunction]",_="[object Map]",k="[object Number]",A="[object Object]",O="[object Promise]",N="[object RegExp]",M="[object Set]",T="[object String]",P="[object Symbol]",I="[object WeakMap]",L="[object ArrayBuffer]",D="[object DataView]",j="[object Float32Array]",R="[object Float64Array]",F="[object Int8Array]",z="[object Int16Array]",B="[object Int32Array]",U="[object Uint8Array]",W="[object Uint8ClampedArray]",H="[object Uint16Array]",V="[object Uint32Array]",G=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,Z=RegExp(K.source),Q=RegExp(q.source),J=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,ue=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ce=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ne="\\ufe0e\\ufe0f",Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['’]",Pe="["+Se+"]",Ie="["+Me+"]",Le="["+_e+"]",De="\\d+",je="["+ke+"]",Re="["+Ae+"]",Fe="[^"+Se+Me+De+ke+Ae+Oe+"]",ze="\\ud83c[\\udffb-\\udfff]",Be="[^"+Se+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Oe+"]",Ve="\\u200d",Ge="(?:"+Re+"|"+Fe+")",Ye="(?:"+He+"|"+Fe+")",Xe="(?:['’](?:d|ll|m|re|s|t|ve))?",Ke="(?:['’](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Le+"|"+ze+")"+"?",Ze="["+Ne+"]?",Qe=Ze+qe+("(?:"+Ve+"(?:"+[Be,Ue,We].join("|")+")"+Ze+qe+")*"),Je="(?:"+[je,Ue,We].join("|")+")"+Qe,$e="(?:"+[Be+Le+"?",Le,Ue,We,Pe].join("|")+")",et=RegExp(Te,"g"),tt=RegExp(Le,"g"),nt=RegExp(ze+"(?="+ze+")|"+$e+Qe,"g"),rt=RegExp([He+"?"+Re+"+"+Xe+"(?="+[Ie,He,"$"].join("|")+")",Ye+"+"+Ke+"(?="+[Ie,He+Ge,"$"].join("|")+")",He+"?"+Ge+"+"+Xe,He+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Je].join("|"),"g"),ot=RegExp("["+Ve+Se+_e+Ne+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ut=-1,ct={};ct[j]=ct[R]=ct[F]=ct[z]=ct[B]=ct[U]=ct[W]=ct[H]=ct[V]=!0,ct[y]=ct[b]=ct[L]=ct[w]=ct[D]=ct[x]=ct[C]=ct[E]=ct[_]=ct[k]=ct[A]=ct[N]=ct[M]=ct[T]=ct[I]=!1;var st={};st[y]=st[b]=st[L]=st[D]=st[w]=st[x]=st[j]=st[R]=st[F]=st[z]=st[B]=st[_]=st[k]=st[A]=st[N]=st[M]=st[T]=st[P]=st[U]=st[W]=st[H]=st[V]=!0,st[C]=st[E]=st[I]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,dt=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,vt=pt||ht||Function("return this")(),gt=t&&!t.nodeType&&t,mt=gt&&e&&!e.nodeType&&e,yt=mt&&mt.exports===gt,bt=yt&&pt.process,wt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),xt=wt&&wt.isArrayBuffer,Ct=wt&&wt.isDate,Et=wt&&wt.isMap,St=wt&&wt.isRegExp,_t=wt&&wt.isSet,kt=wt&&wt.isTypedArray;function At(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function It(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Lt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function jt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Rt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ft(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Xt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Wt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ht(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Wt(e,Gt,n)}function Vt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Gt(e){return e!=e}function Yt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:v}function Xt(e){return function(t){return null==t?o:t[e]}}function Kt(e){return function(t){return null==e?o:e[t]}}function qt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Zt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Qt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function $t(e){return function(t){return e(t)}}function en(e,t){return Dt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}var on=Kt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(e){return"\\"+lt[e]}function cn(e){return ot.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==u||(e[n]=u,i[o++]=n)}return i}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return cn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function vn(e){return cn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var mn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n,r=(t=null==t?vt:yn.defaults(vt.Object(),t,yn.pick(vt,at))).Array,ue=t.Date,Se=t.Error,_e=t.Function,ke=t.Math,Ae=t.Object,Oe=t.RegExp,Ne=t.String,Me=t.TypeError,Te=r.prototype,Pe=_e.prototype,Ie=Ae.prototype,Le=t["__core-js_shared__"],De=Pe.toString,je=Ie.hasOwnProperty,Re=0,Fe=(n=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ze=Ie.toString,Be=De.call(Ae),Ue=vt._,We=Oe("^"+De.call(je).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=yt?t.Buffer:o,Ve=t.Symbol,Ge=t.Uint8Array,Ye=He?He.allocUnsafe:o,Xe=ln(Ae.getPrototypeOf,Ae),Ke=Ae.create,qe=Ie.propertyIsEnumerable,Ze=Te.splice,Qe=Ve?Ve.isConcatSpreadable:o,Je=Ve?Ve.iterator:o,$e=Ve?Ve.toStringTag:o,nt=function(){try{var e=pi(Ae,"defineProperty");return e({},"",{}),e}catch(e){}}(),ot=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,lt=ue&&ue.now!==vt.Date.now&&ue.now,pt=t.setTimeout!==vt.setTimeout&&t.setTimeout,ht=ke.ceil,gt=ke.floor,mt=Ae.getOwnPropertySymbols,bt=He?He.isBuffer:o,wt=t.isFinite,Bt=Te.join,Kt=ln(Ae.keys,Ae),bn=ke.max,wn=ke.min,xn=ue.now,Cn=t.parseInt,En=ke.random,Sn=Te.reverse,_n=pi(t,"DataView"),kn=pi(t,"Map"),An=pi(t,"Promise"),On=pi(t,"Set"),Nn=pi(t,"WeakMap"),Mn=pi(Ae,"create"),Tn=Nn&&new Nn,Pn={},In=zi(_n),Ln=zi(kn),Dn=zi(An),jn=zi(On),Rn=zi(Nn),Fn=Ve?Ve.prototype:o,zn=Fn?Fn.valueOf:o,Bn=Fn?Fn.toString:o;function Un(e){if(nu(e)&&!Ga(e)&&!(e instanceof Gn)){if(e instanceof Vn)return e;if(je.call(e,"__wrapped__"))return Bi(e)}return new Vn(e)}var Wn=function(){function e(){}return function(t){if(!tu(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Hn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Zn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Qn(e,t){var n=Ga(e),r=!n&&Va(e),o=!n&&!r&&qa(e),i=!n&&!r&&!o&&lu(e),a=n||r||o||i,u=a?Qt(e.length,Ne):[],c=u.length;for(var s in e)!t&&!je.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||wi(s,c))||u.push(s);return u}function Jn(e){var t=e.length;return t?e[qr(0,t-1)]:o}function $n(e,t){return ji(To(e),cr(t,0,e.length))}function er(e){return ji(To(e))}function tr(e,t,n){(n!==o&&!Ua(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];je.call(e,t)&&Ua(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ua(e[n][0],t))return n;return-1}function or(e,t,n,r){return pr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Po(t,Pu(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var n=-1,i=t.length,a=r(i),u=null==e;++n<i;)a[n]=u?o:Au(e,t[n]);return a}function cr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function sr(e,t,n,r,i,a){var u,c=1&t,s=2&t,l=4&t;if(n&&(u=i?n(e,r,i,a):n(e)),u!==o)return u;if(!tu(e))return e;var f=Ga(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&je.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return To(e,u)}else{var d=gi(e),p=d==E||d==S;if(qa(e))return _o(e,c);if(d==A||d==y||p&&!i){if(u=s||p?{}:yi(e),!c)return s?function(e,t){return Po(e,vi(e),t)}(e,function(e,t){return e&&Po(t,Iu(t),e)}(u,e)):function(e,t){return Po(e,hi(e),t)}(e,ir(u,e))}else{if(!st[d])return i?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case L:return ko(e);case w:case x:return new r(+e);case D:return function(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case j:case R:case F:case z:case B:case U:case W:case H:case V:return Ao(e,n);case _:return new r;case k:case T:return new r(e);case N:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return new r;case P:return o=e,zn?Ae(zn.call(o)):{}}var o}(e,d,c)}}a||(a=new Zn);var h=a.get(e);if(h)return h;a.set(e,u),uu(e)?e.forEach((function(r){u.add(sr(r,t,n,r,e,a))})):ru(e)&&e.forEach((function(r,o){u.set(o,sr(r,t,n,o,e,a))}));var v=f?o:(l?s?ai:ii:s?Iu:Pu)(e);return Nt(v||e,(function(r,o){v&&(r=e[o=r]),nr(u,o,sr(r,t,n,o,e,a))})),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ae(e);r--;){var i=n[r],a=t[i],u=e[i];if(u===o&&!(i in e)||!a(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Me(i);return Pi((function(){e.apply(o,n)}),t)}function dr(e,t,n,r){var o=-1,i=It,a=!0,u=e.length,c=[],s=t.length;if(!u)return c;n&&(t=Dt(t,$t(n))),r?(i=Lt,a=!1):t.length>=200&&(i=tn,a=!1,t=new qn(t));e:for(;++o<u;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var d=s;d--;)if(t[d]===f)continue e;c.push(l)}else i(t,f,r)||c.push(l)}return c}Un.templateSettings={escape:J,evaluate:$,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Hn.prototype,Un.prototype.constructor=Un,Vn.prototype=Wn(Hn.prototype),Vn.prototype.constructor=Vn,Gn.prototype=Wn(Hn.prototype),Gn.prototype.constructor=Gn,Yn.prototype.clear=function(){this.__data__=Mn?Mn(null):{},this.size=0},Yn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Yn.prototype.get=function(e){var t=this.__data__;if(Mn){var n=t[e];return n===a?o:n}return je.call(t,e)?t[e]:o},Yn.prototype.has=function(e){var t=this.__data__;return Mn?t[e]!==o:je.call(t,e)},Yn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mn&&t===o?a:t,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Xn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},Xn.prototype.has=function(e){return rr(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(kn||Xn),string:new Yn}},Kn.prototype.delete=function(e){var t=fi(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return fi(this,e).get(e)},Kn.prototype.has=function(e){return fi(this,e).has(e)},Kn.prototype.set=function(e,t){var n=fi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,a),this},qn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Zn.prototype.get=function(e){return this.__data__.get(e)},Zn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var pr=Do(xr),hr=Do(Cr,!0);function vr(e,t){var n=!0;return pr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function gr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],u=t(a);if(null!=u&&(c===o?u==u&&!su(u):n(u,c)))var c=u,s=a}return s}function mr(e,t){var n=[];return pr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function yr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=bi),o||(o=[]);++i<a;){var u=e[i];t>0&&n(u)?t>1?yr(u,t-1,n,r,o):jt(o,u):r||(o[o.length]=u)}return o}var br=jo(),wr=jo(!0);function xr(e,t){return e&&br(e,t,Pu)}function Cr(e,t){return e&&wr(e,t,Pu)}function Er(e,t){return Pt(t,(function(t){return Ja(e[t])}))}function Sr(e,t){for(var n=0,r=(t=xo(t,e)).length;null!=e&&n<r;)e=e[Fi(t[n++])];return n&&n==r?e:o}function _r(e,t,n){var r=t(e);return Ga(e)?r:jt(r,n(e))}function kr(e){return null==e?e===o?"[object Undefined]":"[object Null]":$e&&$e in Ae(e)?function(e){var t=je.call(e,$e),n=e[$e];try{e[$e]=o;var r=!0}catch(e){}var i=ze.call(e);r&&(t?e[$e]=n:delete e[$e]);return i}(e):function(e){return ze.call(e)}(e)}function Ar(e,t){return e>t}function Or(e,t){return null!=e&&je.call(e,t)}function Nr(e,t){return null!=e&&t in Ae(e)}function Mr(e,t,n){for(var i=n?Lt:It,a=e[0].length,u=e.length,c=u,s=r(u),l=1/0,f=[];c--;){var d=e[c];c&&t&&(d=Dt(d,$t(t))),l=wn(d.length,l),s[c]=!n&&(t||a>=120&&d.length>=120)?new qn(c&&d):o}d=e[0];var p=-1,h=s[0];e:for(;++p<a&&f.length<l;){var v=d[p],g=t?t(v):v;if(v=n||0!==v?v:0,!(h?tn(h,g):i(f,g,n))){for(c=u;--c;){var m=s[c];if(!(m?tn(m,g):i(e[c],g,n)))continue e}h&&h.push(g),f.push(v)}}return f}function Tr(e,t,n){var r=null==(e=Ni(e,t=xo(t,e)))?e:e[Fi(Qi(t))];return null==r?o:At(r,e,n)}function Pr(e){return nu(e)&&kr(e)==y}function Ir(e,t,n,r,i){return e===t||(null==e||null==t||!nu(e)&&!nu(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var u=Ga(e),c=Ga(t),s=u?b:gi(e),l=c?b:gi(t),f=(s=s==y?A:s)==A,d=(l=l==y?A:l)==A,p=s==l;if(p&&qa(e)){if(!qa(t))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new Zn),u||lu(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L:return!(e.byteLength!=t.byteLength||!i(new Ge(e),new Ge(t)));case w:case x:case k:return Ua(+e,+t);case C:return e.name==t.name&&e.message==t.message;case N:case T:return e==t+"";case _:var u=sn;case M:var c=1&r;if(u||(u=dn),e.size!=t.size&&!c)return!1;var s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);var l=ri(u(e),u(t),r,o,i,a);return a.delete(e),l;case P:if(zn)return zn.call(e)==zn.call(t)}return!1}(e,t,s,n,r,i,a);if(!(1&n)){var h=f&&je.call(e,"__wrapped__"),v=d&&je.call(t,"__wrapped__");if(h||v){var g=h?e.value():e,m=v?t.value():t;return a||(a=new Zn),i(g,m,n,r,a)}}if(!p)return!1;return a||(a=new Zn),function(e,t,n,r,i,a){var u=1&n,c=ii(e),s=c.length,l=ii(t),f=l.length;if(s!=f&&!u)return!1;var d=s;for(;d--;){var p=c[d];if(!(u?p in t:je.call(t,p)))return!1}var h=a.get(e),v=a.get(t);if(h&&v)return h==t&&v==e;var g=!0;a.set(e,t),a.set(t,e);var m=u;for(;++d<s;){var y=e[p=c[d]],b=t[p];if(r)var w=u?r(b,y,p,t,e,a):r(y,b,p,e,t,a);if(!(w===o?y===b||i(y,b,n,r,a):w)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var x=e.constructor,C=t.constructor;x==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof C&&C instanceof C||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,i,a)}(e,t,n,r,Ir,i))}function Lr(e,t,n,r){var i=n.length,a=i,u=!r;if(null==e)return!a;for(e=Ae(e);i--;){var c=n[i];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var s=(c=n[i])[0],l=e[s],f=c[1];if(u&&c[2]){if(l===o&&!(s in e))return!1}else{var d=new Zn;if(r)var p=r(l,f,s,e,t,d);if(!(p===o?Ir(f,l,3,r,d):p))return!1}}return!0}function Dr(e){return!(!tu(e)||(t=e,Fe&&Fe in t))&&(Ja(e)?We:ye).test(zi(e));var t}function jr(e){return"function"==typeof e?e:null==e?oc:"object"==typeof e?Ga(e)?Wr(e[0],e[1]):Ur(e):pc(e)}function Rr(e){if(!_i(e))return Kt(e);var t=[];for(var n in Ae(e))je.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!tu(e))return function(e){var t=[];if(null!=e)for(var n in Ae(e))t.push(n);return t}(e);var t=_i(e),n=[];for(var r in e)("constructor"!=r||!t&&je.call(e,r))&&n.push(r);return n}function zr(e,t){return e<t}function Br(e,t){var n=-1,o=Xa(e)?r(e.length):[];return pr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Ur(e){var t=di(e);return 1==t.length&&t[0][2]?Ai(t[0][0],t[0][1]):function(n){return n===e||Lr(n,e,t)}}function Wr(e,t){return Ci(e)&&ki(t)?Ai(Fi(e),t):function(n){var r=Au(n,e);return r===o&&r===t?Ou(n,e):Ir(t,r,3)}}function Hr(e,t,n,r,i){e!==t&&br(t,(function(a,u){if(i||(i=new Zn),tu(a))!function(e,t,n,r,i,a,u){var c=Mi(e,n),s=Mi(t,n),l=u.get(s);if(l)return void tr(e,n,l);var f=a?a(c,s,n+"",e,t,u):o,d=f===o;if(d){var p=Ga(s),h=!p&&qa(s),v=!p&&!h&&lu(s);f=s,p||h||v?Ga(c)?f=c:Ka(c)?f=To(c):h?(d=!1,f=_o(s,!0)):v?(d=!1,f=Ao(s,!0)):f=[]:iu(s)||Va(s)?(f=c,Va(c)?f=yu(c):tu(c)&&!Ja(c)||(f=yi(s))):d=!1}d&&(u.set(s,f),i(f,s,r,a,u),u.delete(s));tr(e,n,f)}(e,t,u,n,Hr,r,i);else{var c=r?r(Mi(e,u),a,u+"",e,t,i):o;c===o&&(c=a),tr(e,u,c)}}),Iu)}function Vr(e,t){var n=e.length;if(n)return wi(t+=t<0?n:0,n)?e[t]:o}function Gr(e,t,n){t=t.length?Dt(t,(function(e){return Ga(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[oc];var r=-1;t=Dt(t,$t(li()));var o=Br(e,(function(e,n,o){var i=Dt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,u=n.length;for(;++r<a;){var c=Oo(o[r],i[r]);if(c)return r>=u?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Yr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=Sr(e,a);n(u,a)&&eo(i,xo(a,e),u)}return i}function Xr(e,t,n,r){var o=r?Vt:Ht,i=-1,a=t.length,u=e;for(e===t&&(t=To(t)),n&&(u=Dt(e,$t(n)));++i<a;)for(var c=0,s=t[i],l=n?n(s):s;(c=o(u,l,c,r))>-1;)u!==e&&Ze.call(u,c,1),Ze.call(e,c,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;wi(o)?Ze.call(e,o,1):po(e,o)}}return e}function qr(e,t){return e+gt(En()*(t-e+1))}function Zr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Ii(Oi(e,t,oc),e+"")}function Jr(e){return Jn(Uu(e))}function $r(e,t){var n=Uu(e);return ji(n,cr(t,0,n.length))}function eo(e,t,n,r){if(!tu(e))return e;for(var i=-1,a=(t=xo(t,e)).length,u=a-1,c=e;null!=c&&++i<a;){var s=Fi(t[i]),l=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=u){var f=c[s];(l=r?r(f,s,c):o)===o&&(l=tu(f)?f:wi(t[i+1])?[]:{})}nr(c,s,l),c=c[s]}return e}var to=Tn?function(e,t){return Tn.set(e,t),e}:oc,no=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:oc;function ro(e){return ji(Uu(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return pr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!su(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return uo(e,t,oc,n)}function uo(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=n(t))!=t,c=null===t,s=su(t),l=t===o;i<a;){var f=gt((i+a)/2),d=n(e[f]),p=d!==o,h=null===d,v=d==d,g=su(d);if(u)var m=r||v;else m=l?v&&(r||p):c?v&&p&&(r||!h):s?v&&p&&!h&&(r||!g):!h&&!g&&(r?d<=t:d<t);m?i=f+1:a=f}return wn(a,4294967294)}function co(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!Ua(u,c)){var c=u;i[o++]=0===a?0:a}}return i}function so(e){return"number"==typeof e?e:su(e)?v:+e}function lo(e){if("string"==typeof e)return e;if(Ga(e))return Dt(e,lo)+"";if(su(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fo(e,t,n){var r=-1,o=It,i=e.length,a=!0,u=[],c=u;if(n)a=!1,o=Lt;else if(i>=200){var s=t?null:Qo(e);if(s)return dn(s);a=!1,o=tn,c=new qn}else c=t?[]:u;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue e;t&&c.push(f),u.push(l)}else o(c,f,n)||(c!==u&&c.push(f),u.push(l))}return u}function po(e,t){return null==(e=Ni(e,t=xo(t,e)))||delete e[Fi(Qi(t))]}function ho(e,t,n,r){return eo(e,t,n(Sr(e,t)),r)}function vo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function go(e,t){var n=e;return n instanceof Gn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,jt([e],t.args))}),n)}function mo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var u=e[i],c=-1;++c<o;)c!=i&&(a[i]=dr(a[i]||u,e[c],t,n));return fo(yr(a,1),t,n)}function yo(e,t,n){for(var r=-1,i=e.length,a=t.length,u={};++r<i;){var c=r<a?t[r]:o;n(u,e[r],c)}return u}function bo(e){return Ka(e)?e:[]}function wo(e){return"function"==typeof e?e:oc}function xo(e,t){return Ga(e)?e:Ci(e,t)?[e]:Ri(bu(e))}var Co=Qr;function Eo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var So=ot||function(e){return vt.clearTimeout(e)};function _o(e,t){if(t)return e.slice();var n=e.length,r=Ye?Ye(n):new e.constructor(n);return e.copy(r),r}function ko(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function Ao(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=su(e),u=t!==o,c=null===t,s=t==t,l=su(t);if(!c&&!l&&!a&&e>t||a&&u&&s&&!c&&!l||r&&u&&s||!n&&s||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||c&&n&&i||!u&&i||!s)return-1}return 0}function No(e,t,n,o){for(var i=-1,a=e.length,u=n.length,c=-1,s=t.length,l=bn(a-u,0),f=r(s+l),d=!o;++c<s;)f[c]=t[c];for(;++i<u;)(d||i<a)&&(f[n[i]]=e[i]);for(;l--;)f[c++]=e[i++];return f}function Mo(e,t,n,o){for(var i=-1,a=e.length,u=-1,c=n.length,s=-1,l=t.length,f=bn(a-c,0),d=r(f+l),p=!o;++i<f;)d[i]=e[i];for(var h=i;++s<l;)d[h+s]=t[s];for(;++u<c;)(p||i<a)&&(d[h+n[u]]=e[i++]);return d}function To(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Po(e,t,n,r){var i=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var c=t[a],s=r?r(n[c],e[c],c,n,e):o;s===o&&(s=e[c]),i?ar(n,c,s):nr(n,c,s)}return n}function Io(e,t){return function(n,r){var o=Ga(n)?Ot:or,i=t?t():{};return o(n,e,li(r,2),i)}}function Lo(e){return Qr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,u=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,u&&xi(n[0],n[1],u)&&(a=i<3?o:a,i=1),t=Ae(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}function Do(e,t){return function(n,r){if(null==n)return n;if(!Xa(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Ae(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function jo(e){return function(t,n,r){for(var o=-1,i=Ae(t),a=r(t),u=a.length;u--;){var c=a[e?u:++o];if(!1===n(i[c],c,i))break}return t}}function Ro(e){return function(t){var n=cn(t=bu(t))?vn(t):o,r=n?n[0]:t.charAt(0),i=n?Eo(n,1).join(""):t.slice(1);return r[e]()+i}}function Fo(e){return function(t){return Rt(Ju(Vu(t).replace(et,"")),e,"")}}function zo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wn(e.prototype),r=e.apply(n,t);return tu(r)?r:n}}function Bo(e){return function(t,n,r){var i=Ae(t);if(!Xa(t)){var a=li(n,3);t=Pu(t),n=function(e){return a(i[e],e,i)}}var u=e(t,n,r);return u>-1?i[a?t[u]:u]:o}}function Uo(e){return oi((function(t){var n=t.length,r=n,a=Vn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Me(i);if(a&&!c&&"wrapper"==ci(u))var c=new Vn([],!0)}for(r=c?r:n;++r<n;){var s=ci(u=t[r]),l="wrapper"==s?ui(u):o;c=l&&Ei(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ci(l[0])].apply(c,l[3]):1==u.length&&Ei(u)?c[s]():c.thru(u)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Ga(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Wo(e,t,n,i,a,u,c,s,l,d){var p=t&f,h=1&t,v=2&t,g=24&t,m=512&t,y=v?o:zo(e);return function f(){for(var b=arguments.length,w=r(b),x=b;x--;)w[x]=arguments[x];if(g)var C=si(f),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,C);if(i&&(w=No(w,i,a,g)),u&&(w=Mo(w,u,c,g)),b-=E,g&&b<d){var S=fn(w,C);return qo(e,t,Wo,f.placeholder,n,w,S,s,l,d-b)}var _=h?n:this,k=v?_[e]:e;return b=w.length,s?w=function(e,t){var n=e.length,r=wn(t.length,n),i=To(e);for(;r--;){var a=t[r];e[r]=wi(a,n)?i[a]:o}return e}(w,s):m&&b>1&&w.reverse(),p&&l<b&&(w.length=l),this&&this!==vt&&this instanceof f&&(k=y||zo(k)),k.apply(_,w)}}function Ho(e,t){return function(n,r){return function(e,t,n,r){return xr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Vo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=lo(n),r=lo(r)):(n=so(n),r=so(r)),i=e(n,r)}return i}}function Go(e){return oi((function(t){return t=Dt(t,$t(li())),Qr((function(n){var r=this;return e(t,(function(e){return At(e,r,n)}))}))}))}function Yo(e,t){var n=(t=t===o?" ":lo(t)).length;if(n<2)return n?Zr(t,e):t;var r=Zr(t,ht(e/hn(t)));return cn(t)?Eo(vn(r),0,e).join(""):r.slice(0,e)}function Xo(e){return function(t,n,i){return i&&"number"!=typeof i&&xi(t,n,i)&&(n=i=o),t=hu(t),n===o?(n=t,t=0):n=hu(n),function(e,t,n,o){for(var i=-1,a=bn(ht((t-e)/(n||1)),0),u=r(a);a--;)u[o?a:++i]=e,e+=n;return u}(t,n,i=i===o?t<n?1:-1:hu(i),e)}}function Ko(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=mu(t),n=mu(n)),e(t,n)}}function qo(e,t,n,r,i,a,u,c,f,d){var p=8&t;t|=p?s:l,4&(t&=~(p?l:s))||(t&=-4);var h=[e,t,i,p?a:o,p?u:o,p?o:a,p?o:u,c,f,d],v=n.apply(o,h);return Ei(e)&&Ti(v,h),v.placeholder=r,Li(v,e,t)}function Zo(e){var t=ke[e];return function(e,n){if(e=mu(e),(n=null==n?0:wn(vu(n),292))&&wt(e)){var r=(bu(e)+"e").split("e");return+((r=(bu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qo=On&&1/dn(new On([,-0]))[1]==p?function(e){return new On(e)}:sc;function Jo(e){return function(t){var n=gi(t);return n==_?sn(t):n==M?pn(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $o(e,t,n,a,p,h,v,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Me(i);var y=a?a.length:0;if(y||(t&=-97,a=p=o),v=v===o?v:bn(vu(v),0),g=g===o?g:vu(g),y-=p?p.length:0,t&l){var b=a,w=p;a=p=o}var x=m?o:ui(e),C=[e,t,n,a,p,b,w,h,v,g];if(x&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var s=e[3];e[3]=s?No(s,c,t[4]):c,e[4]=s?fn(e[3],u):t[4]}(c=t[5])&&(s=e[5],e[5]=s?Mo(s,c,t[6]):c,e[6]=s?fn(e[5],u):t[6]);(c=t[7])&&(e[7]=c);r&f&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(C,x),e=C[0],t=C[1],n=C[2],a=C[3],p=C[4],!(g=C[9]=C[9]===o?m?0:e.length:bn(C[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==c?function(e,t,n){var i=zo(e);return function a(){for(var u=arguments.length,c=r(u),s=u,l=si(a);s--;)c[s]=arguments[s];var f=u<3&&c[0]!==l&&c[u-1]!==l?[]:fn(c,l);return(u-=f.length)<n?qo(e,t,Wo,a.placeholder,o,c,f,o,o,n-u):At(this&&this!==vt&&this instanceof a?i:e,this,c)}}(e,t,g):t!=s&&33!=t||p.length?Wo.apply(o,C):function(e,t,n,o){var i=1&t,a=zo(e);return function t(){for(var u=-1,c=arguments.length,s=-1,l=o.length,f=r(l+c),d=this&&this!==vt&&this instanceof t?a:e;++s<l;)f[s]=o[s];for(;c--;)f[s++]=arguments[++u];return At(d,i?n:this,f)}}(e,t,n,a);else var E=function(e,t,n){var r=1&t,o=zo(e);return function t(){return(this&&this!==vt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Li((x?to:Ti)(E,C),e,t)}function ei(e,t,n,r){return e===o||Ua(e,Ie[n])&&!je.call(r,n)?t:e}function ti(e,t,n,r,i,a){return tu(e)&&tu(t)&&(a.set(t,e),Hr(e,t,o,ti,a),a.delete(t)),e}function ni(e){return iu(e)?o:e}function ri(e,t,n,r,i,a){var u=1&n,c=e.length,s=t.length;if(c!=s&&!(u&&s>c))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,h=2&n?new qn:o;for(a.set(e,t),a.set(t,e);++d<c;){var v=e[d],g=t[d];if(r)var m=u?r(g,v,d,t,e,a):r(v,g,d,e,t,a);if(m!==o){if(m)continue;p=!1;break}if(h){if(!zt(t,(function(e,t){if(!tn(h,t)&&(v===e||i(v,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(v!==g&&!i(v,g,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function oi(e){return Ii(Oi(e,o,Yi),e+"")}function ii(e){return _r(e,Pu,hi)}function ai(e){return _r(e,Iu,vi)}var ui=Tn?function(e){return Tn.get(e)}:sc;function ci(e){for(var t=e.name+"",n=Pn[t],r=je.call(Pn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function si(e){return(je.call(Un,"placeholder")?Un:e).placeholder}function li(){var e=Un.iteratee||ic;return e=e===ic?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function fi(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function di(e){for(var t=Pu(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ki(o)]}return t}function pi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Dr(n)?n:o}var hi=mt?function(e){return null==e?[]:(e=Ae(e),Pt(mt(e),(function(t){return qe.call(e,t)})))}:gc,vi=mt?function(e){for(var t=[];e;)jt(t,hi(e)),e=Xe(e);return t}:gc,gi=kr;function mi(e,t,n){for(var r=-1,o=(t=xo(t,e)).length,i=!1;++r<o;){var a=Fi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&eu(o)&&wi(a,o)&&(Ga(e)||Va(e))}function yi(e){return"function"!=typeof e.constructor||_i(e)?{}:Wn(Xe(e))}function bi(e){return Ga(e)||Va(e)||!!(Qe&&e&&e[Qe])}function wi(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function xi(e,t,n){if(!tu(n))return!1;var r=typeof t;return!!("number"==r?Xa(n)&&wi(t,n.length):"string"==r&&t in n)&&Ua(n[t],e)}function Ci(e,t){if(Ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!su(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ae(t))}function Ei(e){var t=ci(e),n=Un[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=ui(n);return!!r&&e===r[0]}(_n&&gi(new _n(new ArrayBuffer(1)))!=D||kn&&gi(new kn)!=_||An&&gi(An.resolve())!=O||On&&gi(new On)!=M||Nn&&gi(new Nn)!=I)&&(gi=function(e){var t=kr(e),n=t==A?e.constructor:o,r=n?zi(n):"";if(r)switch(r){case In:return D;case Ln:return _;case Dn:return O;case jn:return M;case Rn:return I}return t});var Si=Le?Ja:mc;function _i(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function ki(e){return e==e&&!tu(e)}function Ai(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Ae(n)))}}function Oi(e,t,n){return t=bn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=bn(o.length-t,0),u=r(a);++i<a;)u[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(u),At(e,this,c)}}function Ni(e,t){return t.length<2?e:Sr(e,oo(t,0,-1))}function Mi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ti=Di(to),Pi=pt||function(e,t){return vt.setTimeout(e,t)},Ii=Di(no);function Li(e,t,n){var r=t+"";return Ii(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Nt(m,(function(n){var r="_."+n[0];t&n[1]&&!It(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(le):[]}(r),n)))}function Di(e){var t=0,n=0;return function(){var r=xn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ji(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=qr(n,i),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var Ri=function(e){var t=Da(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(pe,"$1"):n||e)})),t}));function Fi(e){if("string"==typeof e||su(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zi(e){if(null!=e){try{return De.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Bi(e){if(e instanceof Gn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=To(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ui=Qr((function(e,t){return Ka(e)?dr(e,yr(t,1,Ka,!0)):[]})),Wi=Qr((function(e,t){var n=Qi(t);return Ka(n)&&(n=o),Ka(e)?dr(e,yr(t,1,Ka,!0),li(n,2)):[]})),Hi=Qr((function(e,t){var n=Qi(t);return Ka(n)&&(n=o),Ka(e)?dr(e,yr(t,1,Ka,!0),o,n):[]}));function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vu(n);return o<0&&(o=bn(r+o,0)),Wt(e,li(t,3),o)}function Gi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=vu(n),i=n<0?bn(r+i,0):wn(i,r-1)),Wt(e,li(t,3),i,!0)}function Yi(e){return(null==e?0:e.length)?yr(e,1):[]}function Xi(e){return e&&e.length?e[0]:o}var Ki=Qr((function(e){var t=Dt(e,bo);return t.length&&t[0]===e[0]?Mr(t):[]})),qi=Qr((function(e){var t=Qi(e),n=Dt(e,bo);return t===Qi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Mr(n,li(t,2)):[]})),Zi=Qr((function(e){var t=Qi(e),n=Dt(e,bo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Mr(n,o,t):[]}));function Qi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ji=Qr($i);function $i(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var ea=oi((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Kr(e,Dt(t,(function(e){return wi(e,n)?+e:e})).sort(Oo)),r}));function ta(e){return null==e?e:Sn.call(e)}var na=Qr((function(e){return fo(yr(e,1,Ka,!0))})),ra=Qr((function(e){var t=Qi(e);return Ka(t)&&(t=o),fo(yr(e,1,Ka,!0),li(t,2))})),oa=Qr((function(e){var t=Qi(e);return t="function"==typeof t?t:o,fo(yr(e,1,Ka,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Ka(e))return t=bn(e.length,t),!0})),Qt(t,(function(t){return Dt(e,Xt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:Dt(n,(function(e){return At(t,o,e)}))}var ua=Qr((function(e,t){return Ka(e)?dr(e,t):[]})),ca=Qr((function(e){return mo(Pt(e,Ka))})),sa=Qr((function(e){var t=Qi(e);return Ka(t)&&(t=o),mo(Pt(e,Ka),li(t,2))})),la=Qr((function(e){var t=Qi(e);return t="function"==typeof t?t:o,mo(Pt(e,Ka),o,t)})),fa=Qr(ia);var da=Qr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,aa(e,n)}));function pa(e){var t=Un(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var va=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Gn&&wi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:o}),new Vn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ga=Io((function(e,t,n){je.call(e,n)?++e[n]:ar(e,n,1)}));var ma=Bo(Vi),ya=Bo(Gi);function ba(e,t){return(Ga(e)?Nt:pr)(e,li(t,3))}function wa(e,t){return(Ga(e)?Mt:hr)(e,li(t,3))}var xa=Io((function(e,t,n){je.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Ca=Qr((function(e,t,n){var o=-1,i="function"==typeof t,a=Xa(e)?r(e.length):[];return pr(e,(function(e){a[++o]=i?At(t,e,n):Tr(e,t,n)})),a})),Ea=Io((function(e,t,n){ar(e,n,t)}));function Sa(e,t){return(Ga(e)?Dt:Br)(e,li(t,3))}var _a=Io((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ka=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xi(e,t[0],t[1])?t=[]:n>2&&xi(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,yr(t,1),[])})),Aa=lt||function(){return vt.Date.now()};function Oa(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,$o(e,f,o,o,o,o,t)}function Na(e,t){var n;if("function"!=typeof t)throw new Me(i);return e=vu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ma=Qr((function(e,t,n){var r=1;if(n.length){var o=fn(n,si(Ma));r|=s}return $o(e,r,t,n,o)})),Ta=Qr((function(e,t,n){var r=3;if(n.length){var o=fn(n,si(Ta));r|=s}return $o(t,r,e,n,o)}));function Pa(e,t,n){var r,a,u,c,s,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new Me(i);function v(t){var n=r,i=a;return r=a=o,f=t,c=e.apply(i,n)}function g(e){var n=e-l;return l===o||n>=t||n<0||p&&e-f>=u}function m(){var e=Aa();if(g(e))return y(e);s=Pi(m,function(e){var n=t-(e-l);return p?wn(n,u-(e-f)):n}(e))}function y(e){return s=o,h&&r?v(e):(r=a=o,c)}function b(){var e=Aa(),n=g(e);if(r=arguments,a=this,l=e,n){if(s===o)return function(e){return f=e,s=Pi(m,t),d?v(e):c}(l);if(p)return So(s),s=Pi(m,t),v(l)}return s===o&&(s=Pi(m,t)),c}return t=mu(t)||0,tu(n)&&(d=!!n.leading,u=(p="maxWait"in n)?bn(mu(n.maxWait)||0,t):u,h="trailing"in n?!!n.trailing:h),b.cancel=function(){s!==o&&So(s),f=0,r=l=a=s=o},b.flush=function(){return s===o?c:y(Aa())},b}var Ia=Qr((function(e,t){return fr(e,1,t)})),La=Qr((function(e,t,n){return fr(e,mu(t)||0,n)}));function Da(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Me(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Da.Cache||Kn),n}function ja(e){if("function"!=typeof e)throw new Me(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Da.Cache=Kn;var Ra=Co((function(e,t){var n=(t=1==t.length&&Ga(t[0])?Dt(t[0],$t(li())):Dt(yr(t,1),$t(li()))).length;return Qr((function(r){for(var o=-1,i=wn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return At(e,this,r)}))})),Fa=Qr((function(e,t){var n=fn(t,si(Fa));return $o(e,s,o,t,n)})),za=Qr((function(e,t){var n=fn(t,si(za));return $o(e,l,o,t,n)})),Ba=oi((function(e,t){return $o(e,d,o,o,o,t)}));function Ua(e,t){return e===t||e!=e&&t!=t}var Wa=Ko(Ar),Ha=Ko((function(e,t){return e>=t})),Va=Pr(function(){return arguments}())?Pr:function(e){return nu(e)&&je.call(e,"callee")&&!qe.call(e,"callee")},Ga=r.isArray,Ya=xt?$t(xt):function(e){return nu(e)&&kr(e)==L};function Xa(e){return null!=e&&eu(e.length)&&!Ja(e)}function Ka(e){return nu(e)&&Xa(e)}var qa=bt||mc,Za=Ct?$t(Ct):function(e){return nu(e)&&kr(e)==x};function Qa(e){if(!nu(e))return!1;var t=kr(e);return t==C||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!iu(e)}function Ja(e){if(!tu(e))return!1;var t=kr(e);return t==E||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function $a(e){return"number"==typeof e&&e==vu(e)}function eu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function tu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function nu(e){return null!=e&&"object"==typeof e}var ru=Et?$t(Et):function(e){return nu(e)&&gi(e)==_};function ou(e){return"number"==typeof e||nu(e)&&kr(e)==k}function iu(e){if(!nu(e)||kr(e)!=A)return!1;var t=Xe(e);if(null===t)return!0;var n=je.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Be}var au=St?$t(St):function(e){return nu(e)&&kr(e)==N};var uu=_t?$t(_t):function(e){return nu(e)&&gi(e)==M};function cu(e){return"string"==typeof e||!Ga(e)&&nu(e)&&kr(e)==T}function su(e){return"symbol"==typeof e||nu(e)&&kr(e)==P}var lu=kt?$t(kt):function(e){return nu(e)&&eu(e.length)&&!!ct[kr(e)]};var fu=Ko(zr),du=Ko((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Xa(e))return cu(e)?vn(e):To(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=gi(e);return(t==_?sn:t==M?dn:Uu)(e)}function hu(e){return e?(e=mu(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vu(e){var t=hu(e),n=t%1;return t==t?n?t-n:t:0}function gu(e){return e?cr(vu(e),0,g):0}function mu(e){if("number"==typeof e)return e;if(su(e))return v;if(tu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=me.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):ge.test(e)?v:+e}function yu(e){return Po(e,Iu(e))}function bu(e){return null==e?"":lo(e)}var wu=Lo((function(e,t){if(_i(t)||Xa(t))Po(t,Pu(t),e);else for(var n in t)je.call(t,n)&&nr(e,n,t[n])})),xu=Lo((function(e,t){Po(t,Iu(t),e)})),Cu=Lo((function(e,t,n,r){Po(t,Iu(t),e,r)})),Eu=Lo((function(e,t,n,r){Po(t,Pu(t),e,r)})),Su=oi(ur);var _u=Qr((function(e,t){e=Ae(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&xi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],u=Iu(a),c=-1,s=u.length;++c<s;){var l=u[c],f=e[l];(f===o||Ua(f,Ie[l])&&!je.call(e,l))&&(e[l]=a[l])}return e})),ku=Qr((function(e){return e.push(o,ti),At(Du,o,e)}));function Au(e,t,n){var r=null==e?o:Sr(e,t);return r===o?n:r}function Ou(e,t){return null!=e&&mi(e,t,Nr)}var Nu=Ho((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),e[t]=n}),tc(oc)),Mu=Ho((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),je.call(e,t)?e[t].push(n):e[t]=[n]}),li),Tu=Qr(Tr);function Pu(e){return Xa(e)?Qn(e):Rr(e)}function Iu(e){return Xa(e)?Qn(e,!0):Fr(e)}var Lu=Lo((function(e,t,n){Hr(e,t,n)})),Du=Lo((function(e,t,n,r){Hr(e,t,n,r)})),ju=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=xo(t,e),r||(r=t.length>1),t})),Po(e,ai(e),n),r&&(n=sr(n,7,ni));for(var o=t.length;o--;)po(n,t[o]);return n}));var Ru=oi((function(e,t){return null==e?{}:function(e,t){return Yr(e,t,(function(t,n){return Ou(e,n)}))}(e,t)}));function Fu(e,t){if(null==e)return{};var n=Dt(ai(e),(function(e){return[e]}));return t=li(t),Yr(e,n,(function(e,n){return t(e,n[0])}))}var zu=Jo(Pu),Bu=Jo(Iu);function Uu(e){return null==e?[]:en(e,Pu(e))}var Wu=Fo((function(e,t,n){return t=t.toLowerCase(),e+(n?Hu(t):t)}));function Hu(e){return Qu(bu(e).toLowerCase())}function Vu(e){return(e=bu(e))&&e.replace(xe,on).replace(tt,"")}var Gu=Fo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Yu=Fo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xu=Ro("toLowerCase");var Ku=Fo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qu=Fo((function(e,t,n){return e+(n?" ":"")+Qu(t)}));var Zu=Fo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qu=Ro("toUpperCase");function Ju(e,t,n){return e=bu(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var $u=Qr((function(e,t){try{return At(e,o,t)}catch(e){return Qa(e)?e:new Se(e)}})),ec=oi((function(e,t){return Nt(t,(function(t){t=Fi(t),ar(e,t,Ma(e[t],e))})),e}));function tc(e){return function(){return e}}var nc=Uo(),rc=Uo(!0);function oc(e){return e}function ic(e){return jr("function"==typeof e?e:sr(e,1))}var ac=Qr((function(e,t){return function(n){return Tr(n,e,t)}})),uc=Qr((function(e,t){return function(n){return Tr(e,n,t)}}));function cc(e,t,n){var r=Pu(t),o=Er(t,r);null!=n||tu(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Er(t,Pu(t)));var i=!(tu(n)&&"chain"in n&&!n.chain),a=Ja(e);return Nt(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=To(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,jt([this.value()],arguments))})})),e}function sc(){}var lc=Go(Dt),fc=Go(Tt),dc=Go(zt);function pc(e){return Ci(e)?Xt(Fi(e)):function(e){return function(t){return Sr(t,e)}}(e)}var hc=Xo(),vc=Xo(!0);function gc(){return[]}function mc(){return!1}var yc=Vo((function(e,t){return e+t}),0),bc=Zo("ceil"),wc=Vo((function(e,t){return e/t}),1),xc=Zo("floor");var Cc,Ec=Vo((function(e,t){return e*t}),1),Sc=Zo("round"),_c=Vo((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Me(i);return e=vu(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Oa,Un.assign=wu,Un.assignIn=xu,Un.assignInWith=Cu,Un.assignWith=Eu,Un.at=Su,Un.before=Na,Un.bind=Ma,Un.bindAll=ec,Un.bindKey=Ta,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ga(e)?e:[e]},Un.chain=pa,Un.chunk=function(e,t,n){t=(n?xi(e,t,n):t===o)?1:bn(vu(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,u=0,c=r(ht(i/t));a<i;)c[u++]=oo(e,a,a+=t);return c},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return jt(Ga(n)?To(n):[n],yr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Me(i);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var o=e[r];if(At(o[0],this,n))return At(o[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Pu(e);return function(n){return lr(n,e,t)}}(sr(e,1))},Un.constant=tc,Un.countBy=ga,Un.create=function(e,t){var n=Wn(e);return null==t?n:ir(n,t)},Un.curry=function e(t,n,r){var i=$o(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Un.curryRight=function e(t,n,r){var i=$o(t,c,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Un.debounce=Pa,Un.defaults=_u,Un.defaultsDeep=ku,Un.defer=Ia,Un.delay=La,Un.difference=Ui,Un.differenceBy=Wi,Un.differenceWith=Hi,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:vu(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:vu(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?vo(e,li(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?vo(e,li(t,3),!0):[]},Un.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&xi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=vu(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:vu(r))<0&&(r+=i),r=n>r?0:gu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Ga(e)?Pt:mr)(e,li(t,3))},Un.flatMap=function(e,t){return yr(Sa(e,t),1)},Un.flatMapDeep=function(e,t){return yr(Sa(e,t),p)},Un.flatMapDepth=function(e,t,n){return n=n===o?1:vu(n),yr(Sa(e,t),n)},Un.flatten=Yi,Un.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,p):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===o?1:vu(t)):[]},Un.flip=function(e){return $o(e,512)},Un.flow=nc,Un.flowRight=rc,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Un.functions=function(e){return null==e?[]:Er(e,Pu(e))},Un.functionsIn=function(e){return null==e?[]:Er(e,Iu(e))},Un.groupBy=xa,Un.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},Un.intersection=Ki,Un.intersectionBy=qi,Un.intersectionWith=Zi,Un.invert=Nu,Un.invertBy=Mu,Un.invokeMap=Ca,Un.iteratee=ic,Un.keyBy=Ea,Un.keys=Pu,Un.keysIn=Iu,Un.map=Sa,Un.mapKeys=function(e,t){var n={};return t=li(t,3),xr(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},Un.mapValues=function(e,t){var n={};return t=li(t,3),xr(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},Un.matches=function(e){return Ur(sr(e,1))},Un.matchesProperty=function(e,t){return Wr(e,sr(t,1))},Un.memoize=Da,Un.merge=Lu,Un.mergeWith=Du,Un.method=ac,Un.methodOf=uc,Un.mixin=cc,Un.negate=ja,Un.nthArg=function(e){return e=vu(e),Qr((function(t){return Vr(t,e)}))},Un.omit=ju,Un.omitBy=function(e,t){return Fu(e,ja(li(t)))},Un.once=function(e){return Na(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Ga(t)||(t=null==t?[]:[t]),Ga(n=r?o:n)||(n=null==n?[]:[n]),Gr(e,t,n))},Un.over=lc,Un.overArgs=Ra,Un.overEvery=fc,Un.overSome=dc,Un.partial=Fa,Un.partialRight=za,Un.partition=_a,Un.pick=Ru,Un.pickBy=Fu,Un.property=pc,Un.propertyOf=function(e){return function(t){return null==e?o:Sr(e,t)}},Un.pull=Ji,Un.pullAll=$i,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,li(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,o,n):e},Un.pullAt=ea,Un.range=hc,Un.rangeRight=vc,Un.rearg=Ba,Un.reject=function(e,t){return(Ga(e)?Pt:mr)(e,ja(li(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Kr(e,o),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Me(i);return Qr(e,t=t===o?t:vu(t))},Un.reverse=ta,Un.sampleSize=function(e,t,n){return t=(n?xi(e,t,n):t===o)?1:vu(t),(Ga(e)?$n:$r)(e,t)},Un.set=function(e,t,n){return null==e?e:eo(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:eo(e,t,n,r)},Un.shuffle=function(e){return(Ga(e)?er:ro)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&xi(e,t,n)?(t=0,n=r):(t=null==t?0:vu(t),n=n===o?r:vu(n)),oo(e,t,n)):[]},Un.sortBy=ka,Un.sortedUniq=function(e){return e&&e.length?co(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?co(e,li(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&xi(e,t,n)&&(t=n=o),(n=n===o?g:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!au(t))&&!(t=lo(t))&&cn(e)?Eo(vn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Me(i);return t=null==t?0:bn(vu(t),0),Qr((function(n){var r=n[t],o=Eo(n,0,t);return r&&jt(o,r),At(e,this,o)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:vu(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:vu(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?vo(e,li(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?vo(e,li(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Me(i);return tu(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Pa(e,t,{leading:r,maxWait:t,trailing:o})},Un.thru=ha,Un.toArray=pu,Un.toPairs=zu,Un.toPairsIn=Bu,Un.toPath=function(e){return Ga(e)?Dt(e,Fi):su(e)?[e]:To(Ri(bu(e)))},Un.toPlainObject=yu,Un.transform=function(e,t,n){var r=Ga(e),o=r||qa(e)||lu(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:tu(e)&&Ja(i)?Wn(Xe(e)):{}}return(o?Nt:xr)(e,(function(e,r,o){return t(n,e,r,o)})),n},Un.unary=function(e){return Oa(e,1)},Un.union=na,Un.unionBy=ra,Un.unionWith=oa,Un.uniq=function(e){return e&&e.length?fo(e):[]},Un.uniqBy=function(e,t){return e&&e.length?fo(e,li(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},Un.unset=function(e,t){return null==e||po(e,t)},Un.unzip=ia,Un.unzipWith=aa,Un.update=function(e,t,n){return null==e?e:ho(e,t,wo(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:ho(e,t,wo(n),r)},Un.values=Uu,Un.valuesIn=function(e){return null==e?[]:en(e,Iu(e))},Un.without=ua,Un.words=Ju,Un.wrap=function(e,t){return Fa(wo(t),e)},Un.xor=ca,Un.xorBy=sa,Un.xorWith=la,Un.zip=fa,Un.zipObject=function(e,t){return yo(e||[],t||[],nr)},Un.zipObjectDeep=function(e,t){return yo(e||[],t||[],eo)},Un.zipWith=da,Un.entries=zu,Un.entriesIn=Bu,Un.extend=xu,Un.extendWith=Cu,cc(Un,Un),Un.add=yc,Un.attempt=$u,Un.camelCase=Wu,Un.capitalize=Hu,Un.ceil=bc,Un.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=mu(n))==n?n:0),t!==o&&(t=(t=mu(t))==t?t:0),cr(mu(e),t,n)},Un.clone=function(e){return sr(e,4)},Un.cloneDeep=function(e){return sr(e,5)},Un.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:o)},Un.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:o)},Un.conformsTo=function(e,t){return null==t||lr(e,t,Pu(t))},Un.deburr=Vu,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=wc,Un.endsWith=function(e,t,n){e=bu(e),t=lo(t);var r=e.length,i=n=n===o?r:cr(vu(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Un.eq=Ua,Un.escape=function(e){return(e=bu(e))&&Q.test(e)?e.replace(q,an):e},Un.escapeRegExp=function(e){return(e=bu(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},Un.every=function(e,t,n){var r=Ga(e)?Tt:vr;return n&&xi(e,t,n)&&(t=o),r(e,li(t,3))},Un.find=ma,Un.findIndex=Vi,Un.findKey=function(e,t){return Ut(e,li(t,3),xr)},Un.findLast=ya,Un.findLastIndex=Gi,Un.findLastKey=function(e,t){return Ut(e,li(t,3),Cr)},Un.floor=xc,Un.forEach=ba,Un.forEachRight=wa,Un.forIn=function(e,t){return null==e?e:br(e,li(t,3),Iu)},Un.forInRight=function(e,t){return null==e?e:wr(e,li(t,3),Iu)},Un.forOwn=function(e,t){return e&&xr(e,li(t,3))},Un.forOwnRight=function(e,t){return e&&Cr(e,li(t,3))},Un.get=Au,Un.gt=Wa,Un.gte=Ha,Un.has=function(e,t){return null!=e&&mi(e,t,Or)},Un.hasIn=Ou,Un.head=Xi,Un.identity=oc,Un.includes=function(e,t,n,r){e=Xa(e)?e:Uu(e),n=n&&!r?vu(n):0;var o=e.length;return n<0&&(n=bn(o+n,0)),cu(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Ht(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vu(n);return o<0&&(o=bn(r+o,0)),Ht(e,t,o)},Un.inRange=function(e,t,n){return t=hu(t),n===o?(n=t,t=0):n=hu(n),function(e,t,n){return e>=wn(t,n)&&e<bn(t,n)}(e=mu(e),t,n)},Un.invoke=Tu,Un.isArguments=Va,Un.isArray=Ga,Un.isArrayBuffer=Ya,Un.isArrayLike=Xa,Un.isArrayLikeObject=Ka,Un.isBoolean=function(e){return!0===e||!1===e||nu(e)&&kr(e)==w},Un.isBuffer=qa,Un.isDate=Za,Un.isElement=function(e){return nu(e)&&1===e.nodeType&&!iu(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Xa(e)&&(Ga(e)||"string"==typeof e||"function"==typeof e.splice||qa(e)||lu(e)||Va(e)))return!e.length;var t=gi(e);if(t==_||t==M)return!e.size;if(_i(e))return!Rr(e).length;for(var n in e)if(je.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Ir(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Ir(e,t,o,n):!!r},Un.isError=Qa,Un.isFinite=function(e){return"number"==typeof e&&wt(e)},Un.isFunction=Ja,Un.isInteger=$a,Un.isLength=eu,Un.isMap=ru,Un.isMatch=function(e,t){return e===t||Lr(e,t,di(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Lr(e,t,di(t),n)},Un.isNaN=function(e){return ou(e)&&e!=+e},Un.isNative=function(e){if(Si(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=ou,Un.isObject=tu,Un.isObjectLike=nu,Un.isPlainObject=iu,Un.isRegExp=au,Un.isSafeInteger=function(e){return $a(e)&&e>=-9007199254740991&&e<=h},Un.isSet=uu,Un.isString=cu,Un.isSymbol=su,Un.isTypedArray=lu,Un.isUndefined=function(e){return e===o},Un.isWeakMap=function(e){return nu(e)&&gi(e)==I},Un.isWeakSet=function(e){return nu(e)&&"[object WeakSet]"==kr(e)},Un.join=function(e,t){return null==e?"":Bt.call(e,t)},Un.kebabCase=Gu,Un.last=Qi,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=vu(n))<0?bn(r+i,0):wn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Wt(e,Gt,i,!0)},Un.lowerCase=Yu,Un.lowerFirst=Xu,Un.lt=fu,Un.lte=du,Un.max=function(e){return e&&e.length?gr(e,oc,Ar):o},Un.maxBy=function(e,t){return e&&e.length?gr(e,li(t,2),Ar):o},Un.mean=function(e){return Yt(e,oc)},Un.meanBy=function(e,t){return Yt(e,li(t,2))},Un.min=function(e){return e&&e.length?gr(e,oc,zr):o},Un.minBy=function(e,t){return e&&e.length?gr(e,li(t,2),zr):o},Un.stubArray=gc,Un.stubFalse=mc,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Ec,Un.nth=function(e,t){return e&&e.length?Vr(e,vu(t)):o},Un.noConflict=function(){return vt._===this&&(vt._=Ue),this},Un.noop=sc,Un.now=Aa,Un.pad=function(e,t,n){e=bu(e);var r=(t=vu(t))?hn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Yo(gt(o),n)+e+Yo(ht(o),n)},Un.padEnd=function(e,t,n){e=bu(e);var r=(t=vu(t))?hn(e):0;return t&&r<t?e+Yo(t-r,n):e},Un.padStart=function(e,t,n){e=bu(e);var r=(t=vu(t))?hn(e):0;return t&&r<t?Yo(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Cn(bu(e).replace(ae,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&xi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=hu(e),t===o?(t=e,e=0):t=hu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=En();return wn(e+i*(t-e+ft("1e-"+((i+"").length-1))),t)}return qr(e,t)},Un.reduce=function(e,t,n){var r=Ga(e)?Rt:qt,o=arguments.length<3;return r(e,li(t,4),n,o,pr)},Un.reduceRight=function(e,t,n){var r=Ga(e)?Ft:qt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},Un.repeat=function(e,t,n){return t=(n?xi(e,t,n):t===o)?1:vu(t),Zr(bu(e),t)},Un.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,i=(t=xo(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Fi(t[r])];a===o&&(r=i,a=n),e=Ja(a)?a.call(e):a}return e},Un.round=Sc,Un.runInContext=e,Un.sample=function(e){return(Ga(e)?Jn:Jr)(e)},Un.size=function(e){if(null==e)return 0;if(Xa(e))return cu(e)?hn(e):e.length;var t=gi(e);return t==_||t==M?e.size:Rr(e).length},Un.snakeCase=Ku,Un.some=function(e,t,n){var r=Ga(e)?zt:io;return n&&xi(e,t,n)&&(t=o),r(e,li(t,3))},Un.sortedIndex=function(e,t){return ao(e,t)},Un.sortedIndexBy=function(e,t,n){return uo(e,t,li(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&Ua(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ao(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return uo(e,t,li(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if(Ua(e[n],t))return n}return-1},Un.startCase=qu,Un.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:cr(vu(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},Un.subtract=_c,Un.sum=function(e){return e&&e.length?Zt(e,oc):0},Un.sumBy=function(e,t){return e&&e.length?Zt(e,li(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&xi(e,t,n)&&(t=o),e=bu(e),t=Cu({},t,r,ei);var i,a,u=Cu({},t.imports,r.imports,ei),c=Pu(u),s=en(u,c),l=0,f=t.interpolate||Ce,d="__p += '",p=Oe((t.escape||Ce).source+"|"+f.source+"|"+(f===ee?he:Ce).source+"|"+(t.evaluate||Ce).source+"|$","g"),h="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ut+"]")+"\n";e.replace(p,(function(t,n,r,o,u,c){return r||(r=o),d+=e.slice(l,c).replace(Ee,un),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var v=je.call(t,"variable")&&t.variable;if(v){if(de.test(v))throw new Se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(G,""):d).replace(Y,"$1").replace(X,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=$u((function(){return _e(c,h+"return "+d).apply(o,s)}));if(g.source=d,Qa(g))throw g;return g},Un.times=function(e,t){if((e=vu(e))<1||e>h)return[];var n=g,r=wn(e,g);t=li(t),e-=g;for(var o=Qt(r,t);++n<e;)t(n);return o},Un.toFinite=hu,Un.toInteger=vu,Un.toLength=gu,Un.toLower=function(e){return bu(e).toLowerCase()},Un.toNumber=mu,Un.toSafeInteger=function(e){return e?cr(vu(e),-9007199254740991,h):0===e?e:0},Un.toString=bu,Un.toUpper=function(e){return bu(e).toUpperCase()},Un.trim=function(e,t,n){if((e=bu(e))&&(n||t===o))return Jt(e);if(!e||!(t=lo(t)))return e;var r=vn(e),i=vn(t);return Eo(r,nn(r,i),rn(r,i)+1).join("")},Un.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===o))return e.slice(0,gn(e)+1);if(!e||!(t=lo(t)))return e;var r=vn(e);return Eo(r,0,rn(r,vn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=lo(t)))return e;var r=vn(e);return Eo(r,nn(r,vn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(tu(t)){var i="separator"in t?t.separator:i;n="length"in t?vu(t.length):n,r="omission"in t?lo(t.omission):r}var a=(e=bu(e)).length;if(cn(e)){var u=vn(e);a=u.length}if(n>=a)return e;var c=n-hn(r);if(c<1)return r;var s=u?Eo(u,0,c).join(""):e.slice(0,c);if(i===o)return s+r;if(u&&(c+=s.length-c),au(i)){if(e.slice(c).search(i)){var l,f=s;for(i.global||(i=Oe(i.source,bu(ve.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var d=l.index;s=s.slice(0,d===o?c:d)}}else if(e.indexOf(lo(i),c)!=c){var p=s.lastIndexOf(i);p>-1&&(s=s.slice(0,p))}return s+r},Un.unescape=function(e){return(e=bu(e))&&Z.test(e)?e.replace(K,mn):e},Un.uniqueId=function(e){var t=++Re;return bu(e)+t},Un.upperCase=Zu,Un.upperFirst=Qu,Un.each=ba,Un.eachRight=wa,Un.first=Xi,cc(Un,(Cc={},xr(Un,(function(e,t){je.call(Un.prototype,t)||(Cc[t]=e)})),Cc),{chain:!1}),Un.VERSION="4.17.21",Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Nt(["drop","take"],(function(e,t){Gn.prototype[e]=function(n){n=n===o?1:bn(vu(n),0);var r=this.__filtered__&&!t?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Nt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Nt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),Nt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(oc)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return Tr(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(ja(li(e)))},Gn.prototype.slice=function(e,t){e=vu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=vu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(g)},xr(Gn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Un[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Un.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,c=t instanceof Gn,s=u[0],l=c||Ga(t),f=function(e){var t=i.apply(Un,jt([e],u));return r&&d?t[0]:t};l&&n&&"function"==typeof s&&1!=s.length&&(c=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,v=c&&!p;if(!a&&l){t=v?t:new Gn(this);var g=e.apply(t,u);return g.__actions__.push({func:ha,args:[f],thisArg:o}),new Vn(g,d)}return h&&v?e.apply(this,u):(g=this.thru(f),h?r?g.value()[0]:g.value():g)})})),Nt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ga(o)?o:[],e)}return this[n]((function(n){return t.apply(Ga(n)?n:[],e)}))}})),xr(Gn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";je.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:t,func:n})}})),Pn[Wo(o,2).name]=[{name:"wrapper",func:o}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=To(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=To(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=To(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ga(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=wn(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,u=i.end,c=u-a,s=r?u:a-1,l=this.__iteratees__,f=l.length,d=0,p=wn(c,this.__takeCount__);if(!n||!r&&o==c&&p==c)return go(e,this.__actions__);var h=[];e:for(;c--&&d<p;){for(var v=-1,g=e[s+=t];++v<f;){var m=l[v],y=m.iteratee,b=m.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}h[d++]=g}return h},Un.prototype.at=va,Un.prototype.chain=function(){return pa(this)},Un.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===o&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Hn;){var r=Bi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ta],thisArg:o}),new Vn(t,this.__chain__)}return this.thru(ta)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return go(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Je&&(Un.prototype[Je]=function(){return this}),Un}();vt._=yn,(r=function(){return yn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},60768:function(e,t,n){var r=n(89376),o=n(27840),i=n(27448),a=n(71648);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},79884:function(e,t,n){var r=n(86437),o=n(86704),i=n(27840);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}},93636:function(e,t,n){var r=n(37684),o=n(78412),i=n(85992);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},49084:function(e,t,n){var r=n(79892);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},896:function(e,t,n){var r=n(4224),o=n(76656)((function(e,t,n){r(e,t,n)}));e.exports=o},39280:function(e,t,n){var r=n(37684),o=n(7448),i=n(85992);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},14696:function(e,t,n){var r=n(37684),o=n(27840),i=n(7448);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},53284:function(e){e.exports=function(){}},21192:function(e,t,n){var r=n(99088);e.exports=function(){return r.Date.now()}},81860:function(e,t,n){var r=n(80956),o=n(84524)((function(e,t){return null==e?{}:r(e,t)}));e.exports=o},38144:function(e,t,n){var r=n(49056),o=n(40176),i=n(93968),a=n(82104);e.exports=function(e){return i(e)?r(a(e)):o(e)}},10020:function(e,t,n){var r=n(98232)();e.exports=r},49360:function(e,t,n){var r=n(49048),o=n(82580),i=n(27840),a=n(34024),u=n(71648);e.exports=function(e,t,n){var c=u(e)?r:a,s=arguments.length<3;return c(e,i(t,4),n,s,o)}},70851:function(e,t,n){var r=n(72144),o=n(42300),i=n(62468),a=n(33116),u=n(99684);e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?u(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},38120:function(e,t,n){var r=n(13776),o=n(89461),i=n(47208),a=n(8400),u=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=u},45992:function(e){e.exports=function(){return[]}},36388:function(e){e.exports=function(){return!1}},64168:function(e,t,n){var r=n(40080),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},45624:function(e,t,n){var r=n(64168);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},40080:function(e,t,n){var r=n(83900),o=n(50636),i=n(47432),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||c.test(e)?s(e.slice(2),n?2:8):a.test(e)?NaN:+e}},82092:function(e,t,n){var r=n(92024),o=n(80264);e.exports=function(e){return r(e,o(e))}},57216:function(e,t,n){var r=n(93060);e.exports=function(e){return null==e?"":r(e)}},2984:function(e,t,n){var r=n(33972),o=n(3188),i=n(86704),a=n(27840),u=n(20732),c=n(71648),s=n(59028),l=n(87464),f=n(50636),d=n(25692);e.exports=function(e,t,n){var p=c(e),h=p||s(e)||d(e);if(t=a(t,4),null==n){var v=e&&e.constructor;n=h?p?new v:[]:f(e)&&l(v)?o(u(e)):{}}return(h?r:i)(e,(function(e,r,o){return t(n,e,r,o)})),n}},41872:function(e,t,n){var r=n(13776),o=n(47208),i=n(91456),a=n(79308),u=o((function(e){return i(r(e,1,a,!0))}));e.exports=u},3904:function(e,t,n){var r=n(57216),o=0;e.exports=function(e){var t=++o;return r(e)+t}},84724:function(e,t,n){var r=n(2668),o=n(2820);e.exports=function(e){return null==e?[]:r(e,o(e))}},8864:function(e,t,n){var r=n(38156),o=n(46192);e.exports=function(e,t){return o(e||[],t||[],r)}},7947:function(){},19600:function(){},13128:function(){},18232:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i,a=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.Mf=void 0;var u,c=n(43400),s="undefined"==typeof navigator||void 0!==n.g&&!0===n.g.PREVENT_CODEMIRROR_RENDER;s||(u=n(38812));var l=function(){function e(){}return e.equals=function(e,t){var n=this,r=Object.keys,i=o(e),a=o(t);return e&&t&&"object"===i&&i===a?r(e).length===r(t).length&&r(e).every((function(r){return n.equals(e[r],t[r])})):e===t},e}(),f=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,n){var r=this.editor.getDoc();n&&this.editor.focus(),t?r.setCursor(e):r.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.getDoc().setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,n){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!l.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!l.equals(e.cursor,t.cursor)&&this.delegateCursor(n.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!l.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":t.editor.on("blur",(function(e,n){t.props.onBlur(t.editor,n)}));break;case"onContextMenu":t.editor.on("contextmenu",(function(e,n){t.props.onContextMenu(t.editor,n)}));break;case"onCopy":t.editor.on("copy",(function(e,n){t.props.onCopy(t.editor,n)}));break;case"onCursor":t.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getDoc().getCursor())}));break;case"onCursorActivity":t.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onCut":t.editor.on("cut",(function(e,n){t.props.onCut(t.editor,n)}));break;case"onDblClick":t.editor.on("dblclick",(function(e,n){t.props.onDblClick(t.editor,n)}));break;case"onDragEnter":t.editor.on("dragenter",(function(e,n){t.props.onDragEnter(t.editor,n)}));break;case"onDragLeave":t.editor.on("dragleave",(function(e,n){t.props.onDragLeave(t.editor,n)}));break;case"onDragOver":t.editor.on("dragover",(function(e,n){t.props.onDragOver(t.editor,n)}));break;case"onDragStart":t.editor.on("dragstart",(function(e,n){t.props.onDragStart(t.editor,n)}));break;case"onDrop":t.editor.on("drop",(function(e,n){t.props.onDrop(t.editor,n)}));break;case"onFocus":t.editor.on("focus",(function(e,n){t.props.onFocus(t.editor,n)}));break;case"onGutterClick":t.editor.on("gutterClick",(function(e,n,r,o){t.props.onGutterClick(t.editor,n,r,o)}));break;case"onInputRead":t.editor.on("inputRead",(function(e,n){t.props.onInputRead(t.editor,n)}));break;case"onKeyDown":t.editor.on("keydown",(function(e,n){t.props.onKeyDown(t.editor,n)}));break;case"onKeyHandled":t.editor.on("keyHandled",(function(e,n,r){t.props.onKeyHandled(t.editor,n,r)}));break;case"onKeyPress":t.editor.on("keypress",(function(e,n){t.props.onKeyPress(t.editor,n)}));break;case"onKeyUp":t.editor.on("keyup",(function(e,n){t.props.onKeyUp(t.editor,n)}));break;case"onMouseDown":t.editor.on("mousedown",(function(e,n){t.props.onMouseDown(t.editor,n)}));break;case"onPaste":t.editor.on("paste",(function(e,n){t.props.onPaste(t.editor,n)}));break;case"onRenderLine":t.editor.on("renderLine",(function(e,n,r){t.props.onRenderLine(t.editor,n,r)}));break;case"onScroll":t.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":t.editor.on("beforeSelectionChange",(function(e,n){t.props.onSelection(t.editor,n)}));break;case"onTouchStart":t.editor.on("touchstart",(function(e,n){t.props.onTouchStart(t.editor,n)}));break;case"onUpdate":t.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":t.editor.on("viewportChange",(function(e,n,r){t.props.onViewportChange(t.editor,n,r)}))}}))},e}(),d=function(e){function t(t){var n=e.call(this,t)||this;return s||(n.applied=!1,n.appliedNext=!1,n.appliedUserDefined=!1,n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1),n}return a(t,e),t.prototype.hydrate=function(e){var t=this,n=e&&e.options?e.options:{},o=r({},u.defaults,this.editor.options,n);Object.keys(o).some((function(e){return t.editor.getOption(e)!==o[e]}))&&Object.keys(o).forEach((function(e){n.hasOwnProperty(e)&&t.editor.getOption(e)!==o[e]&&(t.editor.setOption(e,o[e]),t.mirror.setOption(e,o[e]))})),this.hydrated||(this.deferred?this.resolveChange(e.value):this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.getDoc(),n=t.lastLine(),r=t.getLine(t.lastLine()).length;t.replaceRange(e||"",{line:0,ch:0},{line:n,ch:r}),this.mirror.setValue(e),t.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(e){this.emulating=!0;var t=this.editor.getDoc();if("undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),e&&e!==t.getValue()){var n=t.getCursor();t.setValue(e),t.setCursor(n)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){var t=this.editor.getDoc();return"undo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var e=this;s||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&u.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=u(this.ref,this.props.options),this.shared=new f(this.editor,this.props),this.mirror=u((function(){}),this.props.options),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(t,n){if(!e.emulating){n.cancel(),e.deferred=n;var r=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,r)}})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,n,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(!s){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(e,this.props,t),this.appliedNext=!0),this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){s||this.props.editorWillUnmount&&this.props.editorWillUnmount(u)},t.prototype.shouldComponentUpdate=function(e,t){return!s},t.prototype.render=function(){var e=this;if(s)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return c.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(c.Component);t.Mf=d,function(e){function t(t){var n=e.call(this,t)||this;return s||(n.applied=!1,n.appliedUserDefined=!1,n.continueChange=!1,n.detached=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0}),n}a(t,e),t.prototype.hydrate=function(e){var t=this,n=e&&e.options?e.options:{},o=r({},u.defaults,this.editor.options,n);if(Object.keys(o).some((function(e){return t.editor.getOption(e)!==o[e]}))&&Object.keys(o).forEach((function(e){n.hasOwnProperty(e)&&t.editor.getOption(e)!==o[e]&&t.editor.setOption(e,o[e])})),!this.hydrated){var i=this.editor.getDoc(),a=i.lastLine(),c=i.getLine(i.lastLine()).length;i.replaceRange(e.value||"",{line:0,ch:0},{line:a,ch:c})}this.hydrated=!0},t.prototype.componentDidMount=function(){var e=this;s||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&u.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=u(this.ref,this.props.options),this.shared=new f(this.editor,this.props),this.editor.on("beforeChange",(function(t,n){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,n,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,n,e.editor.getValue()):e.props.onChange(e.editor,n,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(this.detached&&!1===this.props.detach&&(this.detached=!1,e.editorDidAttach&&e.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,e.editorDidDetach&&e.editorDidDetach(this.editor)),!s&&!this.detached){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),e.autoCursor||void 0===e.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(e),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){s||this.props.editorWillUnmount&&this.props.editorWillUnmount(u)},t.prototype.shouldComponentUpdate=function(e,t){var n=!0;return s&&(n=!1),this.detached&&e.detach&&(n=!1),n},t.prototype.render=function(){var e=this;if(s)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return c.createElement("div",{className:t,ref:function(t){return e.ref=t}})}}(c.Component)},98752:function(e,t,n){"use strict";n.d(t,{JC:function(){return Pi},Mt:function(){return es},WY:function(){return Ri},_2:function(){return Qu},_s:function(){return Uu},cp:function(){return kc},yW:function(){return zt}});var r=n(43400),o=n.n(r),i=n(71536),a=n.n(i);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=s(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}function l(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var f="function"==typeof Symbol&&Symbol.observable||"@@observable",d=function(){return Math.random().toString(36).substring(7).split("").join(".")},p={INIT:"@@redux/INIT"+d(),REPLACE:"@@redux/REPLACE"+d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+d()}};function h(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(l(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(l(1));return n(h)(e,t)}if("function"!=typeof e)throw new Error(l(2));var o=e,i=t,a=[],u=a,c=!1;function s(){u===a&&(u=a.slice())}function d(){if(c)throw new Error(l(3));return i}function v(e){if("function"!=typeof e)throw new Error(l(4));if(c)throw new Error(l(5));var t=!0;return s(),u.push(e),function(){if(t){if(c)throw new Error(l(6));t=!1,s();var n=u.indexOf(e);u.splice(n,1),a=null}}}function g(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(l(7));if(void 0===e.type)throw new Error(l(8));if(c)throw new Error(l(9));try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=u,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:p.INIT}),(r={dispatch:g,subscribe:v,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(l(10));o=e,g({type:p.REPLACE})}})[f]=function(){var e,t=v;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(l(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[f]=function(){return this},e},r}function v(e,t){return function(){return t(e.apply(this,arguments))}}function g(e,t){if("function"==typeof e)return v(e,t);if("object"!=typeof e||null===e)throw new Error(l(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=v(o,t))}return n}function m(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var y={exports:{}},b={exports:{}},w={},x="function"==typeof Symbol&&Symbol.for,C=x?Symbol.for("react.element"):60103,E=x?Symbol.for("react.portal"):60106,S=x?Symbol.for("react.fragment"):60107,_=x?Symbol.for("react.strict_mode"):60108,k=x?Symbol.for("react.profiler"):60114,A=x?Symbol.for("react.provider"):60109,O=x?Symbol.for("react.context"):60110,N=x?Symbol.for("react.async_mode"):60111,M=x?Symbol.for("react.concurrent_mode"):60111,T=x?Symbol.for("react.forward_ref"):60112,P=x?Symbol.for("react.suspense"):60113,I=x?Symbol.for("react.suspense_list"):60120,L=x?Symbol.for("react.memo"):60115,D=x?Symbol.for("react.lazy"):60116,j=x?Symbol.for("react.block"):60121,R=x?Symbol.for("react.fundamental"):60117,F=x?Symbol.for("react.responder"):60118,z=x?Symbol.for("react.scope"):60119;function B(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case C:switch(e=e.type){case N:case M:case S:case k:case _:case P:return e;default:switch(e=e&&e.$$typeof){case O:case T:case D:case L:case A:return e;default:return t}}case E:return t}}}function U(e){return B(e)===M}w.AsyncMode=N,w.ConcurrentMode=M,w.ContextConsumer=O,w.ContextProvider=A,w.Element=C,w.ForwardRef=T,w.Fragment=S,w.Lazy=D,w.Memo=L,w.Portal=E,w.Profiler=k,w.StrictMode=_,w.Suspense=P,w.isAsyncMode=function(e){return U(e)||B(e)===N},w.isConcurrentMode=U,w.isContextConsumer=function(e){return B(e)===O},w.isContextProvider=function(e){return B(e)===A},w.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===C},w.isForwardRef=function(e){return B(e)===T},w.isFragment=function(e){return B(e)===S},w.isLazy=function(e){return B(e)===D},w.isMemo=function(e){return B(e)===L},w.isPortal=function(e){return B(e)===E},w.isProfiler=function(e){return B(e)===k},w.isStrictMode=function(e){return B(e)===_},w.isSuspense=function(e){return B(e)===P},w.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===S||e===M||e===k||e===_||e===P||e===I||"object"==typeof e&&null!==e&&(e.$$typeof===D||e.$$typeof===L||e.$$typeof===A||e.$$typeof===O||e.$$typeof===T||e.$$typeof===R||e.$$typeof===F||e.$$typeof===z||e.$$typeof===j)},w.typeOf=B,b.exports=w;var W=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}})()&&Object.assign;var G="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Function.call.bind(Object.prototype.hasOwnProperty);function Y(e,t,n,r,o){}Y.resetWarningCache=function(){0};b.exports;var X=G;function K(){}function q(){}q.resetWarningCache=K;y.exports=function(){function e(e,t,n,r,o,i){if(i!==X){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:q,resetWarningCache:K};return n.PropTypes=n,n}();y.exports;var Z=o().createContext(null);var Q=function(e){e()},J=function(){return Q};var $={notify:function(){},get:function(){return[]}};function ee(e,t){var n,r=$;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=J(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=$)},getListeners:function(){return r}};return a}var te="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function ne(e){var t=e.store,n=e.context,i=e.children,a=(0,r.useMemo)((function(){var e=ee(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=(0,r.useMemo)((function(){return t.getState()}),[t]);te((function(){var e=a.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,u]);var c=n||Z;return o().createElement(c.Provider,{value:a},i)}var re=b.exports,oe={};oe[re.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oe[re.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var ie={},ae=60103,ue=60106,ce=60107,se=60108,le=60114,fe=60109,de=60110,pe=60112,he=60113,ve=60120,ge=60115,me=60116,ye=60121,be=60122,we=60117,xe=60129,Ce=60131;if("function"==typeof Symbol&&Symbol.for){var Ee=Symbol.for;ae=Ee("react.element"),ue=Ee("react.portal"),ce=Ee("react.fragment"),se=Ee("react.strict_mode"),le=Ee("react.profiler"),fe=Ee("react.provider"),de=Ee("react.context"),pe=Ee("react.forward_ref"),he=Ee("react.suspense"),ve=Ee("react.suspense_list"),ge=Ee("react.memo"),me=Ee("react.lazy"),ye=Ee("react.block"),be=Ee("react.server.block"),we=Ee("react.fundamental"),xe=Ee("react.debug_trace_mode"),Ce=Ee("react.legacy_hidden")}function Se(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case ae:switch(e=e.type){case ce:case le:case se:case he:case ve:return e;default:switch(e=e&&e.$$typeof){case de:case pe:case me:case ge:case fe:return e;default:return t}}case ue:return t}}}var _e=fe,ke=ae,Ae=pe,Oe=ce,Ne=me,Me=ge,Te=ue,Pe=le,Ie=se,Le=he;function De(){return(0,r.useContext)(Z)}function je(e){void 0===e&&(e=Z);var t=e===Z?De:function(){return(0,r.useContext)(e)};return function(){return t().store}}ie.ContextConsumer=de,ie.ContextProvider=_e,ie.Element=ke,ie.ForwardRef=Ae,ie.Fragment=Oe,ie.Lazy=Ne,ie.Memo=Me,ie.Portal=Te,ie.Profiler=Pe,ie.StrictMode=Ie,ie.Suspense=Le,ie.isAsyncMode=function(){return!1},ie.isConcurrentMode=function(){return!1},ie.isContextConsumer=function(e){return Se(e)===de},ie.isContextProvider=function(e){return Se(e)===fe},ie.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===ae},ie.isForwardRef=function(e){return Se(e)===pe},ie.isFragment=function(e){return Se(e)===ce},ie.isLazy=function(e){return Se(e)===me},ie.isMemo=function(e){return Se(e)===ge},ie.isPortal=function(e){return Se(e)===ue},ie.isProfiler=function(e){return Se(e)===le},ie.isStrictMode=function(e){return Se(e)===se},ie.isSuspense=function(e){return Se(e)===he},ie.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===ce||e===le||e===xe||e===se||e===he||e===ve||e===Ce||"object"==typeof e&&null!==e&&(e.$$typeof===me||e.$$typeof===ge||e.$$typeof===fe||e.$$typeof===de||e.$$typeof===pe||e.$$typeof===we||e.$$typeof===ye||e[0]===be)},ie.typeOf=Se;var Re=je();function Fe(e){void 0===e&&(e=Z);var t=e===Z?Re:je(e);return function(){return t().dispatch}}var ze=Fe(),Be=function(e,t){return e===t};function Ue(e){void 0===e&&(e=Z);var t=e===Z?De:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=Be);var o=t(),i=function(e,t,n,o){var i,a=(0,r.useReducer)((function(e){return e+1}),0)[1],u=(0,r.useMemo)((function(){return ee(n,o)}),[n,o]),c=(0,r.useRef)(),s=(0,r.useRef)(),l=(0,r.useRef)(),f=(0,r.useRef)(),d=n.getState();try{if(e!==s.current||d!==l.current||c.current){var p=e(d);i=void 0!==f.current&&t(p,f.current)?f.current:p}else i=f.current}catch(e){throw c.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),e}return te((function(){s.current=e,l.current=d,f.current=i,c.current=void 0})),te((function(){function e(){try{var e=n.getState();if(e===l.current)return;var r=s.current(e);if(t(r,f.current))return;f.current=r,l.current=e}catch(e){c.current=e}a()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[n,u]),i}(e,n,o.store,o.subscription);return(0,r.useDebugValue)(i),i}}var We,He=Ue();function Ve(e,t){return{type:e,payload:t}}We=i.unstable_batchedUpdates,Q=We;var Ge="SET_ON_CONNECT",Ye="SET_ON_CONNECT_START",Xe="SET_ON_CONNECT_STOP",Ke="SET_ON_CONNECT_END",qe="SET_ELEMENTS",Ze="UPDATE_NODE_DIMENSIONS",Qe="UPDATE_NODE_POS",Je="UPDATE_NODE_POS_DIFF",$e="SET_USER_SELECTION",et="UPDATE_USER_SELECTION",tt="UNSET_USER_SELECTION",nt="UNSET_NODES_SELECTION",rt="SET_SELECTED_ELEMENTS",ot="RESET_SELECTED_ELEMENTS",it="ADD_SELECTED_ELEMENTS",at="UPDATE_TRANSFORM",ut="UPDATE_SIZE",ct="INIT_D3ZOOM",st="SET_MINZOOM",lt="SET_MAXZOOM",ft="SET_TRANSLATEEXTENT",dt="SET_CONNECTION_POSITION",pt="SET_CONNECTION_NODEID",ht="SET_SNAPTOGRID",vt="SET_SNAPGRID",gt="SET_INTERACTIVE",mt="SET_NODES_DRAGGABLE",yt="SET_NODES_CONNECTABLE",bt="SET_ELEMENTS_SELECTABLE",wt="SET_MULTI_SELECTION_ACTIVE",xt="SET_CONNECTION_MODE",Ct="SET_NODE_EXTENT",Et=Object.freeze({__proto__:null,setOnConnect:function(e){return Ve(Ge,{onConnect:e})},setOnConnectStart:function(e){return Ve(Ye,{onConnectStart:e})},setOnConnectStop:function(e){return Ve(Xe,{onConnectStop:e})},setOnConnectEnd:function(e){return Ve(Ke,{onConnectEnd:e})},setElements:function(e){return Ve(qe,e)},updateNodeDimensions:function(e){return Ve(Ze,e)},updateNodePos:function(e){return Ve(Qe,e)},updateNodePosDiff:function(e){return Ve(Je,e)},setUserSelection:function(e){return Ve($e,e)},updateUserSelection:function(e){return Ve(et,e)},unsetUserSelection:function(){return Ve(tt)},setSelection:function(e){return Ve("SET_SELECTION",{selectionActive:e})},unsetNodesSelection:function(){return Ve(nt,{nodesSelectionActive:!1})},resetSelectedElements:function(){return Ve(ot,{selectedElements:null})},setSelectedElements:function(e){return Ve(rt,e)},addSelectedElements:function(e){return Ve(it,e)},updateTransform:function(e){return Ve(at,{transform:e})},updateSize:function(e){return Ve(ut,{width:e.width||500,height:e.height||500})},initD3Zoom:function(e){return Ve(ct,e)},setMinZoom:function(e){return Ve(st,e)},setMaxZoom:function(e){return Ve(lt,e)},setTranslateExtent:function(e){return Ve(ft,e)},setConnectionPosition:function(e){return Ve(dt,{connectionPosition:e})},setConnectionNodeId:function(e){return Ve(pt,e)},setSnapToGrid:function(e){return Ve(ht,{snapToGrid:e})},setSnapGrid:function(e){return Ve(vt,{snapGrid:e})},setInteractive:function(e){return Ve(gt,{nodesDraggable:e,nodesConnectable:e,elementsSelectable:e})},setNodesDraggable:function(e){return Ve(mt,{nodesDraggable:e})},setNodesConnectable:function(e){return Ve(yt,{nodesConnectable:e})},setElementsSelectable:function(e){return Ve(bt,{elementsSelectable:e})},setMultiSelectionActive:function(e){return Ve(wt,{multiSelectionActive:e})},setConnectionMode:function(e){return Ve(xt,{connectionMode:e})},setNodeExtent:function(e){return Ve(Ct,e)}});function St(e){var t=ze(),n=e(Et);return(0,r.useMemo)((function(){return g(n,t)}),[t,n])}var _t=He,kt=function(){return Re()};function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e,t){if(e){if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}function Nt(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||Ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tt=function(e){var t=null==e?void 0:e.target;return["INPUT","SELECT","TEXTAREA","BUTTON"].includes(null==t?void 0:t.nodeName)||(null==t?void 0:t.hasAttribute("contenteditable"))},Pt=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},It=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},Lt=function(e,t){return{x:It(e.x,t[0][0],t[1][0]),y:It(e.y,t[0][1],t[1][1])}},Dt=function(e){var t=Mt((0,r.useState)(!1),2),n=t[0],o=t[1];return(0,r.useEffect)((function(){if(void 0!==e){var t=function(t){Tt(t)||t.key!==e&&t.keyCode!==e||(t.preventDefault(),o(!0))},n=function(t){Tt(t)||t.key!==e&&t.keyCode!==e||o(!1)},r=function(){return o(!1)};return window.addEventListener("keydown",t),window.addEventListener("keyup",n),window.addEventListener("blur",r),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n),window.removeEventListener("blur",r)}}}),[e,o]),n};function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft=function(e){return"id"in e&&"source"in e&&"target"in e},zt=function(e){return"id"in e&&!("source"in e)&&!("target"in e)},Bt=function(e,t,n,r){var o=e.x,i=e.y,a=Mt(t,3),u=a[0],c=a[1],s=a[2],l=Mt(r,2),f=l[0],d=l[1],p={x:(o-u)/s,y:(i-c)/s};return n?{x:f*Math.round(p.x/f),y:d*Math.round(p.y/d)}:p},Ut=function(e){return function(t){var n=e.getState(),r=n.transform,o=n.snapToGrid,i=n.snapGrid;return Bt(t,r,o,i)}},Wt=function(e,t){var n,r;return Rt(Rt({},e),{},{id:e.id.toString(),type:e.type||"default",__rf:{position:Lt(e.position,t),width:(null===(n=e.style)||void 0===n?void 0:n.width)||null,height:(null===(r=e.style)||void 0===r?void 0:r.height)||null,handleBounds:{},isDragging:!1}})},Ht=function(e){return Rt(Rt({},e),{},{source:e.source.toString(),target:e.target.toString(),sourceHandle:e.sourceHandle?e.sourceHandle.toString():null,targetHandle:e.targetHandle?e.targetHandle.toString():null,id:e.id.toString(),type:e.type||"default"})},Vt=function(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}},Gt=function(e){var t=e.x,n=e.y;return{x:t,y:n,x2:t+e.width,y2:n+e.height}},Yt=function(e){var t=e.x,n=e.y;return{x:t,y:n,width:e.x2-t,height:e.y2-n}},Xt=function(e){var t=e.reduce((function(e,t){var n=t.__rf,r=(n=void 0===n?{}:n).position,o=n.width,i=n.height;return Vt(e,Gt(Rt(Rt({},r),{},{width:o,height:i})))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Yt(t)},Kt=function(e,t){var n=Mt(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],3),r=n[0],o=n[1],i=n[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=Gt({x:(t.x-r)/i,y:(t.y-o)/i,width:t.width/i,height:t.height/i});return e.filter((function(e){var t=e.selectable,n=void 0===t||t,r=e.__rf,o=r.position,i=r.width,s=r.height,l=r.isDragging;if(u&&!n)return!1;var f=Gt(Rt(Rt({},o),{},{width:i,height:s})),d=Math.max(0,Math.min(c.x2,f.x2)-Math.max(c.x,f.x)),p=Math.max(0,Math.min(c.y2,f.y2)-Math.max(c.y,f.y)),h=Math.ceil(d*p);return!(null!==i&&null!==s&&!l)||(a?h>0:h>=i*s)}))},qt=function(e,t){var n=e.map((function(e){return e.id}));return t.filter((function(e){return n.includes(e.source)||n.includes(e.target)}))},Zt=function(e,t){return[].concat(Nt(e.map((function(e){var t=Rt({},e);return t.position=t.__rf.position,delete t.__rf,t}))),Nt(t.map((function(e){return Rt({},e)}))))},Qt=function(e){return function(){var t=e.getState(),n=t.nodes,r=void 0===n?[]:n,o=t.edges;return Zt(r,void 0===o?[]:o)}},Jt=function(e){return function(){var t=e.getState(),n=t.nodes,r=void 0===n?[]:n,o=t.edges,i=void 0===o?[]:o,a=t.transform;return{elements:Zt(r,i),position:[a[0],a[1]],zoom:a[2]}}},$t=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1,a=t/(e.width*(1+i)),u=n/(e.height*(1+i)),c=Math.min(a,u),s=It(c,r,o);return[t/2-(e.x+e.width/2)*s,n/2-(e.y+e.height/2)*s,s]},en={value:()=>{}};function tn(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new nn(r)}function nn(e){this._=e}function rn(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function on(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=en,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}nn.prototype=tn.prototype={constructor:nn,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,u=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<u;)if(n=(e=i[a]).type)o[n]=on(o[n],e.name,t);else if(null==t)for(n in o)o[n]=on(o[n],e.name,null);return this}for(;++a<u;)if((n=(e=i[a]).type)&&(n=rn(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new nn(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var an="http://www.w3.org/1999/xhtml",un={svg:"http://www.w3.org/2000/svg",xhtml:an,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cn(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),un.hasOwnProperty(t)?{space:un[t],local:e}:e}function sn(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===an&&t.documentElement.namespaceURI===an?t.createElement(e):t.createElementNS(n,e)}}function ln(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fn(e){var t=cn(e);return(t.local?ln:sn)(t)}function dn(){}function pn(e){return null==e?dn:function(){return this.querySelector(e)}}function hn(){return[]}function vn(e){return null==e?hn:function(){return this.querySelectorAll(e)}}function gn(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function mn(e){return function(){return this.matches(e)}}function yn(e){return function(t){return t.matches(e)}}var bn=Array.prototype.find;function wn(){return this.firstElementChild}var xn=Array.prototype.filter;function Cn(){return Array.from(this.children)}function En(e){return new Array(e.length)}function Sn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function _n(e,t,n,r,o,i){for(var a,u=0,c=t.length,s=i.length;u<s;++u)(a=t[u])?(a.__data__=i[u],r[u]=a):n[u]=new Sn(e,i[u]);for(;u<c;++u)(a=t[u])&&(o[u]=a)}function kn(e,t,n,r,o,i,a){var u,c,s,l=new Map,f=t.length,d=i.length,p=new Array(f);for(u=0;u<f;++u)(c=t[u])&&(p[u]=s=a.call(c,c.__data__,u,t)+"",l.has(s)?o[u]=c:l.set(s,c));for(u=0;u<d;++u)s=a.call(e,i[u],u,i)+"",(c=l.get(s))?(r[u]=c,c.__data__=i[u],l.delete(s)):n[u]=new Sn(e,i[u]);for(u=0;u<f;++u)(c=t[u])&&l.get(p[u])===c&&(o[u]=c)}function An(e){return e.__data__}function On(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Nn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Mn(e){return function(){this.removeAttribute(e)}}function Tn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pn(e,t){return function(){this.setAttribute(e,t)}}function In(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ln(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Dn(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function jn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Rn(e){return function(){this.style.removeProperty(e)}}function Fn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function zn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Bn(e,t){return e.style.getPropertyValue(t)||jn(e).getComputedStyle(e,null).getPropertyValue(t)}function Un(e){return function(){delete this[e]}}function Wn(e,t){return function(){this[e]=t}}function Hn(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Vn(e){return e.trim().split(/^|\s+/)}function Gn(e){return e.classList||new Yn(e)}function Yn(e){this._node=e,this._names=Vn(e.getAttribute("class")||"")}function Xn(e,t){for(var n=Gn(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Kn(e,t){for(var n=Gn(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function qn(e){return function(){Xn(this,e)}}function Zn(e){return function(){Kn(this,e)}}function Qn(e,t){return function(){(t.apply(this,arguments)?Xn:Kn)(this,e)}}function Jn(){this.textContent=""}function $n(e){return function(){this.textContent=e}}function er(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function tr(){this.innerHTML=""}function nr(e){return function(){this.innerHTML=e}}function rr(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function or(){this.nextSibling&&this.parentNode.appendChild(this)}function ir(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ar(){return null}function ur(){var e=this.parentNode;e&&e.removeChild(this)}function cr(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sr(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lr(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function fr(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,u=o.length;a<u;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function dr(e,t,n){var r=jn(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function pr(e,t){return function(){return dr(this,e,t)}}function hr(e,t){return function(){return dr(this,e,t.apply(this,arguments))}}Sn.prototype={constructor:Sn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Yn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var vr=[null];function gr(e,t){this._groups=e,this._parents=t}function mr(){return new gr([[document.documentElement]],vr)}function yr(e){return"string"==typeof e?new gr([[document.querySelector(e)]],[document.documentElement]):new gr([[e]],vr)}function br(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}gr.prototype=mr.prototype={constructor:gr,select:function(e){"function"!=typeof e&&(e=pn(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,u=t[o],c=u.length,s=r[o]=new Array(c),l=0;l<c;++l)(i=u[l])&&(a=e.call(i,i.__data__,l,u))&&("__data__"in i&&(a.__data__=i.__data__),s[l]=a);return new gr(r,this._parents)},selectAll:function(e){e="function"==typeof e?gn(e):vn(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,u=t[i],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(e.call(a,a.__data__,s,u)),o.push(a));return new gr(r,o)},selectChild:function(e){return this.select(null==e?wn:function(e){return function(){return bn.call(this.children,e)}}("function"==typeof e?e:yn(e)))},selectChildren:function(e){return this.selectAll(null==e?Cn:function(e){return function(){return xn.call(this.children,e)}}("function"==typeof e?e:yn(e)))},filter:function(e){"function"!=typeof e&&(e=mn(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],u=a.length,c=r[o]=[],s=0;s<u;++s)(i=a[s])&&e.call(i,i.__data__,s,a)&&c.push(i);return new gr(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,An);var n=t?kn:_n,r=this._parents,o=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var i=o.length,a=new Array(i),u=new Array(i),c=new Array(i),s=0;s<i;++s){var l=r[s],f=o[s],d=f.length,p=On(e.call(l,l&&l.__data__,s,r)),h=p.length,v=u[s]=new Array(h),g=a[s]=new Array(h);n(l,f,v,g,c[s]=new Array(d),p,t);for(var m,y,b=0,w=0;b<h;++b)if(m=v[b]){for(b>=w&&(w=b+1);!(y=g[w])&&++w<h;);m._next=y||null}}return(a=new gr(a,r))._enter=u,a._exit=c,a},enter:function(){return new gr(this._enter||this._groups.map(En),this._parents)},exit:function(){return new gr(this._exit||this._groups.map(En),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),u=new Array(o),c=0;c<a;++c)for(var s,l=n[c],f=r[c],d=l.length,p=u[c]=new Array(d),h=0;h<d;++h)(s=l[h]||f[h])&&(p[h]=s);for(;c<o;++c)u[c]=n[c];return new gr(u,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Nn);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,u=n[i],c=u.length,s=o[i]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(t)}return new gr(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,u=i.length;a<u;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=cn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Tn:Mn:"function"==typeof t?n.local?Dn:Ln:n.local?In:Pn)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Rn:"function"==typeof t?zn:Fn)(e,t,null==n?"":n)):Bn(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Un:"function"==typeof t?Hn:Wn)(e,t)):this.node()[e]},classed:function(e,t){var n=Vn(e+"");if(arguments.length<2){for(var r=Gn(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?Qn:t?qn:Zn)(n,t))},text:function(e){return arguments.length?this.each(null==e?Jn:("function"==typeof e?er:$n)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?tr:("function"==typeof e?rr:nr)(e)):this.node().innerHTML},raise:function(){return this.each(or)},lower:function(){return this.each(ir)},append:function(e){var t="function"==typeof e?e:fn(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:fn(e),r=null==t?ar:"function"==typeof t?t:pn(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ur)},clone:function(e){return this.select(e?sr:cr)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=i.length;if(!(arguments.length<2)){for(u=t?fr:lr,r=0;r<a;++r)this.each(u(i[r],t,n));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?hr:pr)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const wr={capture:!0,passive:!1};function xr(e){e.preventDefault(),e.stopImmediatePropagation()}function Cr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Er(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Sr(){}var _r=.7,kr=1/_r,Ar="\\s*([+-]?\\d+)\\s*",Or="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mr=/^#([0-9a-f]{3,8})$/,Tr=new RegExp("^rgb\\("+[Ar,Ar,Ar]+"\\)$"),Pr=new RegExp("^rgb\\("+[Nr,Nr,Nr]+"\\)$"),Ir=new RegExp("^rgba\\("+[Ar,Ar,Ar,Or]+"\\)$"),Lr=new RegExp("^rgba\\("+[Nr,Nr,Nr,Or]+"\\)$"),Dr=new RegExp("^hsl\\("+[Or,Nr,Nr]+"\\)$"),jr=new RegExp("^hsla\\("+[Or,Nr,Nr,Or]+"\\)$"),Rr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fr(){return this.rgb().formatHex()}function zr(){return this.rgb().formatRgb()}function Br(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Mr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ur(t):3===n?new Vr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Wr(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Wr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Tr.exec(e))?new Vr(t[1],t[2],t[3],1):(t=Pr.exec(e))?new Vr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ir.exec(e))?Wr(t[1],t[2],t[3],t[4]):(t=Lr.exec(e))?Wr(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Dr.exec(e))?Kr(t[1],t[2]/100,t[3]/100,1):(t=jr.exec(e))?Kr(t[1],t[2]/100,t[3]/100,t[4]):Rr.hasOwnProperty(e)?Ur(Rr[e]):"transparent"===e?new Vr(NaN,NaN,NaN,0):null}function Ur(e){return new Vr(e>>16&255,e>>8&255,255&e,1)}function Wr(e,t,n,r){return r<=0&&(e=t=n=NaN),new Vr(e,t,n,r)}function Hr(e,t,n,r){return 1===arguments.length?((o=e)instanceof Sr||(o=Br(o)),o?new Vr((o=o.rgb()).r,o.g,o.b,o.opacity):new Vr):new Vr(e,t,n,null==r?1:r);var o}function Vr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Gr(){return"#"+Xr(this.r)+Xr(this.g)+Xr(this.b)}function Yr(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Xr(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Kr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zr(e,t,n,r)}function qr(e){if(e instanceof Zr)return new Zr(e.h,e.s,e.l,e.opacity);if(e instanceof Sr||(e=Br(e)),!e)return new Zr;if(e instanceof Zr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,u=i-o,c=(i+o)/2;return u?(a=t===i?(n-r)/u+6*(n<r):n===i?(r-t)/u+2:(t-n)/u+4,u/=c<.5?i+o:2-i-o,a*=60):u=c>0&&c<1?0:a,new Zr(a,u,c,e.opacity)}function Zr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Qr(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Cr(Sr,Br,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Fr,formatHex:Fr,formatHsl:function(){return qr(this).formatHsl()},formatRgb:zr,toString:zr}),Cr(Vr,Hr,Er(Sr,{brighter:function(e){return e=null==e?kr:Math.pow(kr,e),new Vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?_r:Math.pow(_r,e),new Vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gr,formatHex:Gr,formatRgb:Yr,toString:Yr})),Cr(Zr,(function(e,t,n,r){return 1===arguments.length?qr(e):new Zr(e,t,n,null==r?1:r)}),Er(Sr,{brighter:function(e){return e=null==e?kr:Math.pow(kr,e),new Zr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?_r:Math.pow(_r,e),new Zr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Vr(Qr(e>=240?e-240:e+120,o,r),Qr(e,o,r),Qr(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Jr=e=>()=>e;function $r(e){return 1==(e=+e)?eo:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Jr(isNaN(t)?n:t)}}function eo(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Jr(isNaN(e)?t:e)}var to=function e(t){var n=$r(t);function r(e,t){var r=n((e=Hr(e)).r,(t=Hr(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=eo(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function no(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ro=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oo=new RegExp(ro.source,"g");function io(e,t){var n,r,o,i=ro.lastIndex=oo.lastIndex=0,a=-1,u=[],c=[];for(e+="",t+="";(n=ro.exec(e))&&(r=oo.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:no(n,r)})),i=oo.lastIndex;return i<t.length&&(o=t.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})}var ao,uo=180/Math.PI,co={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function so(e,t,n,r,o,i){var a,u,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*uo,skewX:Math.atan(c)*uo,scaleX:a,scaleY:u}}function lo(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var u=[],c=[];return i=e(i),a=e(a),function(e,r,o,i,a,u){if(e!==o||r!==i){var c=a.push("translate(",null,t,null,n);u.push({i:c-4,x:no(e,o)},{i:c-2,x:no(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,u,c),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:no(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,u,c),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:no(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,u,c),function(e,t,n,r,i,a){if(e!==n||t!==r){var u=i.push(o(i)+"scale(",null,",",null,")");a.push({i:u-4,x:no(e,n)},{i:u-2,x:no(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,c),i=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)u[(t=c[n]).i]=t.x(e);return u.join("")}}}var fo=lo((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?co:so(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),po=lo((function(e){return null==e?co:(ao||(ao=document.createElementNS("http://www.w3.org/2000/svg","g")),ao.setAttribute("transform",e),(e=ao.transform.baseVal.consolidate())?so((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):co)}),", ",")",")");function ho(e){return((e=Math.exp(e))+1/e)/2}var vo,go,mo=function e(t,n,r){function o(e,o){var i,a,u=e[0],c=e[1],s=e[2],l=o[0],f=o[1],d=o[2],p=l-u,h=f-c,v=p*p+h*h;if(v<1e-12)a=Math.log(d/s)/t,i=function(e){return[u+e*p,c+e*h,s*Math.exp(t*e*a)]};else{var g=Math.sqrt(v),m=(d*d-s*s+r*v)/(2*s*n*g),y=(d*d-s*s-r*v)/(2*d*n*g),b=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-b)/t,i=function(e){var r=e*a,o=ho(b),i=s/(n*g)*(o*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[u+i*p,c+i*h,s*o/ho(t*r+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4),yo=0,bo=0,wo=0,xo=1e3,Co=0,Eo=0,So=0,_o="object"==typeof performance&&performance.now?performance:Date,ko="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ao(){return Eo||(ko(Oo),Eo=_o.now()+So)}function Oo(){Eo=0}function No(){this._call=this._time=this._next=null}function Mo(e,t,n){var r=new No;return r.restart(e,t,n),r}function To(){Eo=(Co=_o.now())+So,yo=bo=0;try{!function(){Ao(),++yo;for(var e,t=vo;t;)(e=Eo-t._time)>=0&&t._call.call(void 0,e),t=t._next;--yo}()}finally{yo=0,function(){var e,t,n=vo,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:vo=t);go=e,Io(r)}(),Eo=0}}function Po(){var e=_o.now(),t=e-Co;t>xo&&(So-=t,Co=e)}function Io(e){yo||(bo&&(bo=clearTimeout(bo)),e-Eo>24?(e<1/0&&(bo=setTimeout(To,e-_o.now()-So)),wo&&(wo=clearInterval(wo))):(wo||(Co=_o.now(),wo=setInterval(Po,xo)),yo=1,ko(To)))}function Lo(e,t,n){var r=new No;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}No.prototype=Mo.prototype={constructor:No,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Ao():+n)+(null==t?0:+t),this._next||go===this||(go?go._next=this:vo=this,go=this),this._call=e,this._time=n,Io()},stop:function(){this._call&&(this._call=null,this._time=1/0,Io())}};var Do=tn("start","end","cancel","interrupt"),jo=[],Ro=0,Fo=1,zo=2,Bo=3,Uo=4,Wo=5,Ho=6;function Vo(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=Fo,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var s,l,f,d;if(n.state!==Fo)return c();for(s in o)if((d=o[s]).name===n.name){if(d.state===Bo)return Lo(a);d.state===Uo?(d.state=Ho,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete o[s]):+s<t&&(d.state=Ho,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete o[s])}if(Lo((function(){n.state===Bo&&(n.state=Uo,n.timer.restart(u,n.delay,n.time),u(i))})),n.state=zo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===zo){for(n.state=Bo,r=new Array(f=n.tween.length),s=0,l=-1;s<f;++s)(d=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(r[++l]=d);r.length=l+1}}function u(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=Wo,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);n.state===Wo&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){for(var r in n.state=Ho,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=Mo(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:Do,tween:jo,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ro})}function Go(e,t){var n=Xo(e,t);if(n.state>Ro)throw new Error("too late; already scheduled");return n}function Yo(e,t){var n=Xo(e,t);if(n.state>Bo)throw new Error("too late; already running");return n}function Xo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ko(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>zo&&n.state<Wo,n.state=Ho,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function qo(e,t){var n,r;return function(){var o=Yo(this,e),i=o.tween;if(i!==n)for(var a=0,u=(r=n=i).length;a<u;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function Zo(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=Yo(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var u={name:t,value:n},c=0,s=o.length;c<s;++c)if(o[c].name===t){o[c]=u;break}c===s&&o.push(u)}i.tween=o}}function Qo(e,t,n){var r=e._id;return e.each((function(){var e=Yo(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Xo(e,r).value[t]}}function Jo(e,t){var n;return("number"==typeof t?no:t instanceof Br?to:(n=Br(t))?(t=n,to):io)(e,t)}function $o(e){return function(){this.removeAttribute(e)}}function ei(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ti(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function ni(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function ri(e,t,n){var r,o,i;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(u=c+"")?null:a===r&&u===o?i:(o=u,i=t(r=a,c));this.removeAttribute(e)}}function oi(e,t,n){var r,o,i;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(u=c+"")?null:a===r&&u===o?i:(o=u,i=t(r=a,c));this.removeAttributeNS(e.space,e.local)}}function ii(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function ai(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function ui(e,t){return function(){Go(this,e).delay=+t.apply(this,arguments)}}function ci(e,t){return t=+t,function(){Go(this,e).delay=t}}function si(e,t){return function(){Yo(this,e).duration=+t.apply(this,arguments)}}function li(e,t){return t=+t,function(){Yo(this,e).duration=t}}var fi=mr.prototype.constructor;function di(e){return function(){this.style.removeProperty(e)}}var pi=0;function hi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function vi(){return++pi}var gi=mr.prototype;hi.prototype={constructor:hi,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=pn(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var u,c,s=r[a],l=s.length,f=i[a]=new Array(l),d=0;d<l;++d)(u=s[d])&&(c=e.call(u,u.__data__,d,s))&&("__data__"in u&&(c.__data__=u.__data__),f[d]=c,Vo(f[d],t,n,d,f,Xo(u,n)));return new hi(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=vn(e));for(var r=this._groups,o=r.length,i=[],a=[],u=0;u<o;++u)for(var c,s=r[u],l=s.length,f=0;f<l;++f)if(c=s[f]){for(var d,p=e.call(c,c.__data__,f,s),h=Xo(c,n),v=0,g=p.length;v<g;++v)(d=p[v])&&Vo(d,t,n,v,p,h);i.push(p),a.push(c)}return new hi(i,a,t,n)},selectChild:gi.selectChild,selectChildren:gi.selectChildren,filter:function(e){"function"!=typeof e&&(e=mn(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],u=a.length,c=r[o]=[],s=0;s<u;++s)(i=a[s])&&e.call(i,i.__data__,s,a)&&c.push(i);return new hi(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,s=t[u],l=n[u],f=s.length,d=a[u]=new Array(f),p=0;p<f;++p)(c=s[p]||l[p])&&(d[p]=c);for(;u<r;++u)a[u]=t[u];return new hi(a,this._parents,this._name,this._id)},selection:function(){return new fi(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=vi(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,s=0;s<c;++s)if(a=u[s]){var l=Xo(a,t);Vo(a,e,n,s,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new hi(r,this._parents,e,n)},call:gi.call,nodes:gi.nodes,node:gi.node,size:gi.size,empty:gi.empty,each:gi.each,on:function(e,t){var n=this._id;return arguments.length<2?Xo(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Go:Yo;return function(){var a=i(this,e),u=a.on;u!==r&&(o=(r=u).copy()).on(t,n),a.on=o}}(n,e,t))},attr:function(e,t){var n=cn(e),r="transform"===n?po:Jo;return this.attrTween(e,"function"==typeof t?(n.local?oi:ri)(n,r,Qo(this,"attr."+e,t)):null==t?(n.local?ei:$o)(n):(n.local?ni:ti)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=cn(e);return this.tween(n,(r.local?ii:ai)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?fo:Jo;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=Bn(this,e),a=(this.style.removeProperty(e),Bn(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,di(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=Bn(this,e),u=n(this),c=u+"";return null==u&&(this.style.removeProperty(e),c=u=Bn(this,e)),a===c?null:a===r&&c===o?i:(o=c,i=t(r=a,u))}}(e,r,Qo(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,u="end."+a;return function(){var c=Yo(this,e),s=c.on,l=null==c.value[a]?i||(i=di(t)):void 0;s===n&&o===l||(r=(n=s).copy()).on(u,o=l),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=Bn(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Qo(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=Xo(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?qo:Zo)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ui:ci)(t,e)):Xo(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?si:li)(t,e)):Xo(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){Yo(this,e).ease=t}}(t,e)):Xo(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Yo(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var u={value:a},c={value:function(){0==--o&&i()}};n.each((function(){var n=Yo(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:gi[Symbol.iterator]};var mi={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function yi(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}mr.prototype.interrupt=function(e){return this.each((function(){Ko(this,e)}))},mr.prototype.transition=function(e){var t,n;e instanceof hi?(t=e._id,e=e._name):(t=vi(),(n=mi).time=Ao(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,s=0;s<c;++s)(a=u[s])&&Vo(a,e,t,s,u,n||yi(a,t));return new hi(r,this._parents,e,t)};var bi=e=>()=>e;function wi(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function xi(e,t,n){this.k=e,this.x=t,this.y=n}xi.prototype={constructor:xi,scale:function(e){return 1===e?this:new xi(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new xi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ci=new xi(1,0,0);function Ei(e){e.stopImmediatePropagation()}function Si(e){e.preventDefault(),e.stopImmediatePropagation()}function _i(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function ki(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Ai(){return this.__zoom||Ci}function Oi(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ni(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mi(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Ti(){var e,t,n,r=_i,o=ki,i=Mi,a=Oi,u=Ni,c=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,f=mo,d=tn("start","zoom","end"),p=500,h=150,v=0,g=10;function m(e){e.property("__zoom",Ai).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",k).filter(u).on("touchstart.zoom",A).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(c[0],Math.min(c[1],t)))===e.k?e:new xi(t,e.x,e.y)}function b(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new xi(e.k,r,o)}function w(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",(function(){C(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){C(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,a=C(e,i).event(r),u=o.apply(e,i),c=null==n?w(u):"function"==typeof n?n.apply(e,i):n,s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),l=e.__zoom,d="function"==typeof t?t.apply(e,i):t,p=f(l.invert(c).concat(s/l.k),d.invert(c).concat(s/d.k));return function(e){if(1===e)e=d;else{var t=p(e),n=s/t[2];e=new xi(n,c[0]-t[0]*n,c[1]-t[1]*n)}a.zoom(null,e)}}))}function C(e,t,n){return!n&&e.__zooming||new E(e,t)}function E(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function S(e,...t){if(r.apply(this,arguments)){var n=C(this,t).event(e),o=this.__zoom,u=Math.max(c[0],Math.min(c[1],o.k*Math.pow(2,a.apply(this,arguments)))),l=br(e);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=o.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(o.k===u)return;n.mouse=[l,o.invert(l)],Ko(this),n.start()}Si(e),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),h),n.zoom("mouse",i(b(y(o,u),n.mouse[0],n.mouse[1]),n.extent,s))}}function _(e,...t){if(!n&&r.apply(this,arguments)){var o=e.currentTarget,a=C(this,t,!0).event(e),u=yr(e.view).on("mousemove.zoom",(function(e){if(Si(e),!a.moved){var t=e.clientX-l,n=e.clientY-f;a.moved=t*t+n*n>v}a.event(e).zoom("mouse",i(b(a.that.__zoom,a.mouse[0]=br(e,o),a.mouse[1]),a.extent,s))}),!0).on("mouseup.zoom",(function(e){u.on("mousemove.zoom mouseup.zoom",null),function(e,t){var n=e.document.documentElement,r=yr(e).on("dragstart.drag",null);t&&(r.on("click.drag",xr,wr),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,a.moved),Si(e),a.event(e).end()}),!0),c=br(e,o),l=e.clientX,f=e.clientY;!function(e){var t=e.document.documentElement,n=yr(e).on("dragstart.drag",xr,wr);"onselectstart"in t?n.on("selectstart.drag",xr,wr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(e.view),Ei(e),a.mouse=[c,this.__zoom.invert(c)],Ko(this),a.start()}}function k(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=br(e.changedTouches?e.changedTouches[0]:e,this),u=n.invert(a),c=n.k*(e.shiftKey?.5:2),f=i(b(y(n,c),a,u),o.apply(this,t),s);Si(e),l>0?yr(this).transition().duration(l).call(x,f,a,e):yr(this).call(m.transform,f,a,e)}}function A(n,...o){if(r.apply(this,arguments)){var i,a,u,c,s=n.touches,l=s.length,f=C(this,o,n.changedTouches.length===l).event(n);for(Ei(n),a=0;a<l;++a)c=[c=br(u=s[a],this),this.__zoom.invert(c),u.identifier],f.touch0?f.touch1||f.touch0[2]===c[2]||(f.touch1=c,f.taps=0):(f.touch0=c,i=!0,f.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(f.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),p)),Ko(this),f.start())}}function O(e,...t){if(this.__zooming){var n,r,o,a,u=C(this,t).event(e),c=e.changedTouches,l=c.length;for(Si(e),n=0;n<l;++n)o=br(r=c[n],this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=o:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=o);if(r=u.that.__zoom,u.touch1){var f=u.touch0[0],d=u.touch0[1],p=u.touch1[0],h=u.touch1[1],v=(v=p[0]-f[0])*v+(v=p[1]-f[1])*v,g=(g=h[0]-d[0])*g+(g=h[1]-d[1])*g;r=y(r,Math.sqrt(v/g)),o=[(f[0]+p[0])/2,(f[1]+p[1])/2],a=[(d[0]+h[0])/2,(d[1]+h[1])/2]}else{if(!u.touch0)return;o=u.touch0[0],a=u.touch0[1]}u.zoom("touch",i(b(r,o,a),u.extent,s))}}function N(e,...r){if(this.__zooming){var o,i,a=C(this,r).event(e),u=e.changedTouches,c=u.length;for(Ei(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),o=0;o<c;++o)i=u[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=br(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<g)){var s=yr(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",Ai),e!==o?x(e,t,n,r):o.interrupt().each((function(){C(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?w(e):"function"==typeof n?n.apply(this,arguments):n,u=r.invert(a),c="function"==typeof t?t.apply(this,arguments):t;return i(b(y(r,c),a,u),e,s)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),s)}),null,r)},m.translateTo=function(e,t,n,r,a){m.transform(e,(function(){var e=o.apply(this,arguments),a=this.__zoom,u=null==r?w(e):"function"==typeof r?r.apply(this,arguments):r;return i(Ci.translate(u[0],u[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,s)}),r,a)},E.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=yr(this.that).datum();d.call(e,this.that,new wi(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:d}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:bi(+e),m):a},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:bi(!!e),m):r},m.touchable=function(e){return arguments.length?(u="function"==typeof e?e:bi(!!e),m):u},m.extent=function(e){return arguments.length?(o="function"==typeof e?e:bi([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):o},m.scaleExtent=function(e){return arguments.length?(c[0]=+e[0],c[1]=+e[1],m):[c[0],c[1]]},m.translateExtent=function(e){return arguments.length?(s[0][0]=+e[0][0],s[1][0]=+e[1][0],s[0][1]=+e[0][1],s[1][1]=+e[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(l=+e,m):l},m.interpolate=function(e){return arguments.length?(f=e,m):f},m.on=function(){var e=d.on.apply(d,arguments);return e===d?m:e},m.clickDistance=function(e){return arguments.length?(v=(e=+e)*e,m):Math.sqrt(v)},m.tapDistance=function(e){return arguments.length?(g=+e,m):g},m}var Pi,Ii,Li,Di,ji,Ri;!function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Pi||(Pi={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(Ii||(Ii={})),function(e){e.Lines="lines",e.Dots="dots"}(Li||(Li={})),function(e){e.Strict="strict",e.Loose="loose"}(Di||(Di={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep"}(ji||(ji={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(Ri||(Ri={}));var Fi=function(e){return{x:e.x,y:e.y,zoom:e.k}},zi=function(e){return e.target.closest(".nowheel")},Bi=function(e){var t=e.onMove,n=e.onMoveStart,i=e.onMoveEnd,a=e.zoomOnScroll,u=void 0===a||a,c=e.zoomOnPinch,s=void 0===c||c,l=e.panOnScroll,f=void 0!==l&&l,d=e.panOnScrollSpeed,p=void 0===d?.5:d,h=e.panOnScrollMode,v=void 0===h?Ri.Free:h,g=e.zoomOnDoubleClick,m=void 0===g||g,y=e.selectionKeyPressed,b=e.elementsSelectable,w=e.paneMoveable,x=void 0===w||w,C=e.defaultPosition,E=void 0===C?[0,0]:C,S=e.defaultZoom,_=void 0===S?1:S,k=e.translateExtent,A=e.zoomActivationKeyCode,O=e.preventScrolling,N=void 0===O||O,M=e.children,T=(0,r.useRef)(null),P=(0,r.useRef)({x:0,y:0,zoom:0}),I=kt(),L=_t((function(e){return e.d3Zoom})),D=_t((function(e){return e.d3Selection})),j=_t((function(e){return e.d3ZoomHandler})),R=St((function(e){return e.initD3Zoom})),F=St((function(e){return e.updateTransform})),z=Dt(A);return function(e){var t=St((function(e){return e.updateSize}));(0,r.useEffect)((function(){var n,r=function(){if(e.current){var n=Pt(e.current);0===n.height||n.width,t(n)}};return r(),window.onresize=r,e.current&&(n=new ResizeObserver((function(){return r()}))).observe(e.current),function(){window.onresize=null,n&&e.current&&n.unobserve(e.current)}}),[])}(T),(0,r.useEffect)((function(){if(T.current){var e=I.getState(),t=void 0!==k?k:e.translateExtent,n=Ti().scaleExtent([e.minZoom,e.maxZoom]).translateExtent(t),r=yr(T.current).call(n),o=It(E[0],t[0][0],t[1][0]),i=It(E[1],t[0][1],t[1][1]),a=It(_,e.minZoom,e.maxZoom),u=Ci.translate(o,i).scale(a);n.transform(r,u),R({d3Zoom:n,d3Selection:r,d3ZoomHandler:r.on("wheel.zoom"),transform:[o,i,a]})}}),[]),(0,r.useEffect)((function(){D&&L&&(f&&!z?D.on("wheel",(function(e){if(zi(e))return!1;e.preventDefault(),e.stopImmediatePropagation();var t=D.property("__zoom").k||1;if(e.ctrlKey&&s){var n=br(e),r=-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*10,o=t*Math.pow(2,r);L.scaleTo(D,o,n)}else{var i=1===e.deltaMode?20:1,a=v===Ri.Vertical?0:e.deltaX*i,u=v===Ri.Horizontal?0:e.deltaY*i;L.translateBy(D,-a/t*p,-u/t*p)}})).on("wheel.zoom",null):void 0!==j&&D.on("wheel",(function(e){if(!N||zi(e))return null;e.preventDefault()})).on("wheel.zoom",j))}),[f,v,D,L,j,z,s,N]),(0,r.useEffect)((function(){L&&(y?L.on("zoom",null):L.on("zoom",(function(e){if(F([e.transform.x,e.transform.y,e.transform.k]),t){var n=Fi(e.transform);t(n)}})))}),[y,L,F,t]),(0,r.useEffect)((function(){L&&(n?L.on("start",(function(e){var t=Fi(e.transform);P.current=t,n(t)})):L.on("start",null))}),[L,n]),(0,r.useEffect)((function(){L&&(i?L.on("end",(function(e){if(function(e,t){return e.x!==t.x||e.y!==t.y||e.zoom!==t.k}(P.current,e.transform)){var t=Fi(e.transform);P.current=t,i(t)}})):L.on("end",null))}),[L,i]),(0,r.useEffect)((function(){L&&L.filter((function(e){var t=z||u,n=s&&e.ctrlKey;return!!(x||t||f||m||s)&&(!y&&(!(!m&&"dblclick"===e.type)&&((!zi(e)||"wheel"!==e.type)&&((!e.target.closest(".react-flow__node")&&!e.target.closest(".react-flow__edge")||"wheel"===e.type)&&((!e.target.closest(".react-flow__nodesselection")||"wheel"===e.type)&&(!(!s&&e.ctrlKey&&"wheel"===e.type)&&(!!(t||f||n||"wheel"!==e.type)&&(!!(x||"mousedown"!==e.type&&"touchstart"!==e.type)&&!(e.ctrlKey&&"wheel"!==e.type||e.button)))))))))}))}),[L,u,s,f,m,x,y,b,z]),o().createElement("div",{className:"react-flow__renderer react-flow__zoompane",ref:T},M)};function Ui(e){var t=e.target.closest(".react-flow");if(t){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}}var Wi=function(){var e=_t((function(e){return e.userSelectionRect}));return e.draw?o().createElement("div",{className:"react-flow__selection",style:{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")}}):null},Hi=(0,r.memo)((function(e){var t=e.selectionKeyPressed,n=_t((function(e){return e.selectionActive})),r=_t((function(e){return e.elementsSelectable})),i=St((function(e){return e.setUserSelection})),a=St((function(e){return e.updateUserSelection})),u=St((function(e){return e.unsetUserSelection})),c=St((function(e){return e.unsetNodesSelection}));if(!r||!(n||t))return null;return o().createElement("div",{className:"react-flow__selectionpane",onMouseDown:function(e){var t=Ui(e);t&&i(t)},onMouseMove:function(e){if(t&&n){var r=Ui(e);r&&a(r)}},onMouseUp:function(){return u()},onMouseLeave:function(){u(),c()}},o().createElement(Wi,null))})),Vi={exports:{}},Gi={};function Yi(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Yi(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var Xi=Object.freeze({__proto__:null,default:function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Yi(e))&&(r&&(r+=" "),r+=t);return r}}),Ki=m(Xi),qi={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},Zi.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},Zi.isNum=function(e){return"number"==typeof e&&!isNaN(e)},Zi.int=function(e){return parseInt(e,10)},Zi.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))};var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.getPrefix=$i,Qi.browserPrefixToKey=ea,Qi.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},Qi.default=void 0;var Ji=["Moz","Webkit","O","ms"];function $i(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var r=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!r)return"";if(n in r)return"";for(var o=0;o<Ji.length;o++)if(ea(n,Ji[o])in r)return Ji[o];return""}function ea(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var ta=$i();function na(e){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(e)}Qi.default=ta,Object.defineProperty(qi,"__esModule",{value:!0}),qi.matchesSelector=la,qi.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(la(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},qi.addEvent=function(e,t,n,r){if(!e)return;var o=ua({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},qi.removeEvent=function(e,t,n,r){if(!e)return;var o=ua({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},qi.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,ra.int)(n.borderTopWidth),t+=(0,ra.int)(n.borderBottomWidth)},qi.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,ra.int)(n.borderLeftWidth),t+=(0,ra.int)(n.borderRightWidth)},qi.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,ra.int)(n.paddingTop),t-=(0,ra.int)(n.paddingBottom)},qi.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,ra.int)(n.paddingLeft),t-=(0,ra.int)(n.paddingRight)},qi.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-r.left)/n,i=(e.clientY+t.scrollTop-r.top)/n;return{x:o,y:i}},qi.createCSSTransform=function(e,t){var n=fa(e,t,"px");return ca({},(0,oa.browserPrefixToKey)("transform",oa.default),n)},qi.createSVGTransform=function(e,t){return fa(e,t,"")},qi.getTranslation=fa,qi.getTouch=function(e,t){return e.targetTouches&&(0,ra.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,ra.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},qi.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},qi.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&da(e.body,"react-draggable-transparent-selection")},qi.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&pa(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},qi.addClassName=da,qi.removeClassName=pa;var ra=Zi,oa=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==na(e)&&"function"!=typeof e)return{default:e};var n=ia(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(Qi);function ia(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ia=function(e){return e?n:t})(e)}function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sa="";function la(e,t){return sa||(sa=(0,ra.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,ra.isFunction)(e[t])}))),!!(0,ra.isFunction)(e[sa])&&e[sa](t)}function fa(e,t,n){var r=e.x,o=e.y,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),u="".concat("string"==typeof t.y?t.y:t.y+n);i="translate(".concat(a,", ").concat(u,")")+i}return i}function da(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function pa(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var ha={};Object.defineProperty(ha,"__esModule",{value:!0}),ha.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var o=ma(e);if("string"==typeof r){var i,a=o.ownerDocument,u=a.defaultView;if(!((i="parent"===r?o.parentNode:a.querySelector(r))instanceof u.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var c=i,s=u.getComputedStyle(o),l=u.getComputedStyle(c);r={left:-o.offsetLeft+(0,va.int)(l.paddingLeft)+(0,va.int)(s.marginLeft),top:-o.offsetTop+(0,va.int)(l.paddingTop)+(0,va.int)(s.marginTop),right:(0,ga.innerWidth)(c)-(0,ga.outerWidth)(o)-o.offsetLeft+(0,va.int)(l.paddingRight)-(0,va.int)(s.marginRight),bottom:(0,ga.innerHeight)(c)-(0,ga.outerHeight)(o)-o.offsetTop+(0,va.int)(l.paddingBottom)-(0,va.int)(s.marginBottom)}}(0,va.isNum)(r.right)&&(t=Math.min(t,r.right));(0,va.isNum)(r.bottom)&&(n=Math.min(n,r.bottom));(0,va.isNum)(r.left)&&(t=Math.max(t,r.left));(0,va.isNum)(r.top)&&(n=Math.max(n,r.top));return[t,n]},ha.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]},ha.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},ha.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},ha.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,ga.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var o=ma(n),i=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,ga.offsetXYFromParent)(r||e,i,n.props.scale)},ha.createCoreData=function(e,t,n){var r=e.state,o=!(0,va.isNum)(r.lastX),i=ma(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}},ha.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};var va=Zi,ga=qi;function ma(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var ya={},ba={};function wa(e){return wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(e)}Object.defineProperty(ba,"__esModule",{value:!0}),ba.default=function(){},Object.defineProperty(ya,"__esModule",{value:!0}),ya.default=void 0;var xa=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==wa(e)&&"function"!=typeof e)return{default:e};var n=Na(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(o()),Ca=Oa(y.exports),Ea=Oa(a()),Sa=qi,_a=ha,ka=Zi,Aa=Oa(ba);function Oa(e){return e&&e.__esModule?e:{default:e}}function Na(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Na=function(e){return e?n:t})(e)}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ta(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ia(e,t){return Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ia(e,t)}function La(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ja(e);if(t){var o=ja(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===wa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Da(e)}(this,n)}}function Da(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ja(e){return ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ja(e)}function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fa={start:"touchstart",move:"touchmove",stop:"touchend"},za={start:"mousedown",move:"mousemove",stop:"mouseup"},Ba=za,Ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}(i,e);var t,n,r,o=La(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ra(Da(e=o.call.apply(o,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Ra(Da(e),"mounted",!1),Ra(Da(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,Sa.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,Sa.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var o=(0,Sa.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var i=(0,_a.getControlPosition)(t,o,Da(e));if(null!=i){var a=i.x,u=i.y,c=(0,_a.createCoreData)(Da(e),a,u);(0,Aa.default)("DraggableCore: handleDragStart: %j",c),(0,Aa.default)("calling",e.props.onStart),!1!==e.props.onStart(t,c)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,Sa.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:a,lastY:u}),(0,Sa.addEvent)(r,Ba.move,e.handleDrag),(0,Sa.addEvent)(r,Ba.stop,e.handleDragStop))}}})),Ra(Da(e),"handleDrag",(function(t){var n=(0,_a.getControlPosition)(t,e.state.touchIdentifier,Da(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX,a=o-e.state.lastY,u=Ma((0,_a.snapToGrid)(e.props.grid,i,a),2);if(i=u[0],a=u[1],!i&&!a)return;r=e.state.lastX+i,o=e.state.lastY+a}var c=(0,_a.createCoreData)(Da(e),r,o);if((0,Aa.default)("DraggableCore: handleDrag: %j",c),!1!==e.props.onDrag(t,c)&&!1!==e.mounted)e.setState({lastX:r,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var s=document.createEvent("MouseEvents");s.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(s)}}})),Ra(Da(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,_a.getControlPosition)(t,e.state.touchIdentifier,Da(e));if(null!=n){var r=n.x,o=n.y,i=(0,_a.createCoreData)(Da(e),r,o);if(!1===e.props.onStop(t,i)||!1===e.mounted)return!1;var a=e.findDOMNode();a&&e.props.enableUserSelectHack&&(0,Sa.removeUserSelectStyles)(a.ownerDocument),(0,Aa.default)("DraggableCore: handleDragStop: %j",i),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),a&&((0,Aa.default)("DraggableCore: Removing handlers"),(0,Sa.removeEvent)(a.ownerDocument,Ba.move,e.handleDrag),(0,Sa.removeEvent)(a.ownerDocument,Ba.stop,e.handleDragStop))}}})),Ra(Da(e),"onMouseDown",(function(t){return Ba=za,e.handleDragStart(t)})),Ra(Da(e),"onMouseUp",(function(t){return Ba=za,e.handleDragStop(t)})),Ra(Da(e),"onTouchStart",(function(t){return Ba=Fa,e.handleDragStart(t)})),Ra(Da(e),"onTouchEnd",(function(t){return Ba=Fa,e.handleDragStop(t)})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,Sa.addEvent)(e,Fa.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,Sa.removeEvent)(t,za.move,this.handleDrag),(0,Sa.removeEvent)(t,Fa.move,this.handleDrag),(0,Sa.removeEvent)(t,za.stop,this.handleDragStop),(0,Sa.removeEvent)(t,Fa.stop,this.handleDragStop),(0,Sa.removeEvent)(e,Fa.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Sa.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:Ea.default.findDOMNode(this)}},{key:"render",value:function(){return xa.cloneElement(xa.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&Pa(t.prototype,n),r&&Pa(t,r),i}(xa.Component);ya.default=Ua,Ra(Ua,"displayName","DraggableCore"),Ra(Ua,"propTypes",{allowAnyClick:Ca.default.bool,disabled:Ca.default.bool,enableUserSelectHack:Ca.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ca.default.arrayOf(Ca.default.number),handle:Ca.default.string,cancel:Ca.default.string,nodeRef:Ca.default.object,onStart:Ca.default.func,onDrag:Ca.default.func,onStop:Ca.default.func,onMouseDown:Ca.default.func,scale:Ca.default.number,className:ka.dontSetMe,style:ka.dontSetMe,transform:ka.dontSetMe}),Ra(Ua,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var n=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==t(e)&&"function"!=typeof e)return{default:e};var r=v(n);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=e[a]}o.default=e,r&&r.set(e,o);return o}(o()),r=h(y.exports),i=h(a()),u=h(Ki),c=qi,s=ha,l=Zi,f=h(ya),d=h(ba),p=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function _(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=A(e);if(n){var i=A(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,r)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(l,e);var t,r,o,a=_(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),O(k(t=a.call(this,e)),"onDragStart",(function(e,n){if((0,d.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,s.createDraggableData)(k(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),O(k(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",n);var r=(0,s.createDraggableData)(k(t),n),o={x:r.x,y:r.y};if(t.props.bounds){var i=o.x,a=o.y;o.x+=t.state.slackX,o.y+=t.state.slackY;var u=x((0,s.getBoundPosition)(k(t),o.x,o.y),2),c=u[0],l=u[1];o.x=c,o.y=l,o.slackX=t.state.slackX+(i-o.x),o.slackY=t.state.slackY+(a-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-t.state.x,r.deltaY=o.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(o)})),O(k(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,s.createDraggableData)(k(t),n)))return!1;(0,d.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var o=t.props.position,i=o.x,a=o.y;r.x=i,r.y=a}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:w({},e.position),slackX:0,slackY:0,isElementSVG:!1},e.position&&!e.onDrag&&e.onStop,t}return t=l,r=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:i.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props;t.axis,t.bounds;var r=t.children,o=t.defaultPosition,i=t.defaultClassName,a=t.defaultClassNameDragging,l=t.defaultClassNameDragged,d=t.position,h=t.positionOffset;t.scale;var v=m(t,p),y={},b=null,x=!Boolean(d)||this.state.dragging,C=d||o,E={x:(0,s.canDragX)(this)&&x?this.state.x:C.x,y:(0,s.canDragY)(this)&&x?this.state.y:C.y};this.state.isElementSVG?b=(0,c.createSVGTransform)(E,h):y=(0,c.createCSSTransform)(E,h);var S=(0,u.default)(r.props.className||"",i,(O(e={},a,this.state.dragging),O(e,l,this.state.dragged),e));return n.createElement(f.default,g({},v,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:S,style:w(w({},r.props.style),y),transform:b}))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:w({},n)})}}],r&&E(t.prototype,r),o&&E(t,o),l}(n.Component);e.default=N,O(N,"displayName","Draggable"),O(N,"propTypes",w(w({},f.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),O(N,"defaultProps",w(w({},f.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(Gi);var Wa=Gi.default,Ha=Gi.DraggableCore;Vi.exports=Wa,Vi.exports.default=Wa;var Va=Vi.exports.DraggableCore=Ha,Ga=Vi.exports;function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ka=function(e){var t=e.onSelectionDragStart,n=e.onSelectionDrag,i=e.onSelectionDragStop,a=e.onSelectionContextMenu,u=Mt(_t((function(e){return e.transform})),3),c=u[0],s=u[1],l=u[2],f=_t((function(e){return e.selectedNodesBbox})),d=_t((function(e){return e.selectionActive})),p=_t((function(e){return e.selectedElements})),h=_t((function(e){return e.snapToGrid})),v=_t((function(e){return e.snapGrid})),g=_t((function(e){return e.nodes})),m=St((function(e){return e.updateNodePosDiff})),y=(0,r.useRef)(null),b=(0,r.useMemo)((function(){return h?v:[1,1]}),[h,v]),w=(0,r.useMemo)((function(){return p?p.filter(zt).map((function(e){var t=g.find((function(t){return t.id===e.id}));return Xa(Xa({},t),{},{position:null==t?void 0:t.__rf.position})})):[]}),[p,g]),x=(0,r.useMemo)((function(){return{transform:"translate(".concat(c,"px,").concat(s,"px) scale(").concat(l,")")}}),[c,s,l]),C=(0,r.useMemo)((function(){return{width:f.width,height:f.height,top:f.y,left:f.x}}),[f]),E=(0,r.useCallback)((function(e){null==t||t(e,w)}),[t,w]),S=(0,r.useCallback)((function(e,t){n&&n(e,w),m({diff:{x:t.deltaX,y:t.deltaY},isDragging:!0})}),[n,w,m]),_=(0,r.useCallback)((function(e){m({isDragging:!1}),null==i||i(e,w)}),[w,i]),k=(0,r.useCallback)((function(e){var t=p?p.filter(zt).map((function(e){return g.find((function(t){return t.id===e.id}))})):[];null==a||a(e,t)}),[a]);return!p||d?null:o().createElement("div",{className:"react-flow__nodesselection",style:x},o().createElement(Ga,{scale:l,grid:b,onStart:function(e){return E(e)},onDrag:function(e,t){return S(e,t)},onStop:function(e){return _(e)},nodeRef:y,enableUserSelectHack:!1},o().createElement("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:k,style:C})))},qa=function(e){var t=e.children,n=e.onPaneClick,i=e.onPaneContextMenu,a=e.onPaneScroll,u=e.onElementsRemove,c=e.deleteKeyCode,s=e.onMove,l=e.onMoveStart,f=e.onMoveEnd,d=e.selectionKeyCode,p=e.multiSelectionKeyCode,h=e.zoomActivationKeyCode,v=e.elementsSelectable,g=e.zoomOnScroll,m=e.zoomOnPinch,y=e.panOnScroll,b=e.panOnScrollSpeed,w=e.panOnScrollMode,x=e.zoomOnDoubleClick,C=e.paneMoveable,E=e.defaultPosition,S=e.defaultZoom,_=e.translateExtent,k=e.preventScrolling,A=e.onSelectionDragStart,O=e.onSelectionDrag,N=e.onSelectionDragStop,M=e.onSelectionContextMenu,T=St((function(e){return e.unsetNodesSelection})),P=St((function(e){return e.resetSelectedElements})),I=_t((function(e){return e.nodesSelectionActive})),L=Dt(d);!function(e){var t=e.deleteKeyCode,n=e.multiSelectionKeyCode,o=e.onElementsRemove,i=kt(),a=St((function(e){return e.unsetNodesSelection})),u=St((function(e){return e.setMultiSelectionActive})),c=St((function(e){return e.resetSelectedElements})),s=Dt(t),l=Dt(n);(0,r.useEffect)((function(){var e=i.getState(),t=e.edges,n=e.selectedElements;if(o&&s&&n){var r=n.filter(zt),u=qt(r,t),l=[].concat(Nt(n),Nt(u)).reduce((function(e,t){return e.set(t.id,t)}),new Map);o(Array.from(l.values())),a(),c()}}),[s]),(0,r.useEffect)((function(){u(l)}),[l])}({onElementsRemove:u,deleteKeyCode:c,multiSelectionKeyCode:p});var D=(0,r.useCallback)((function(e){null==n||n(e),T(),P()}),[n]),j=(0,r.useCallback)((function(e){null==i||i(e)}),[i]),R=(0,r.useCallback)((function(e){null==a||a(e)}),[a]);return o().createElement(Bi,{onMove:s,onMoveStart:l,onMoveEnd:f,selectionKeyPressed:L,elementsSelectable:v,zoomOnScroll:g,zoomOnPinch:m,panOnScroll:y,panOnScrollSpeed:b,panOnScrollMode:w,zoomOnDoubleClick:x,paneMoveable:C,defaultPosition:E,defaultZoom:S,translateExtent:_,zoomActivationKeyCode:h,preventScrolling:k},t,o().createElement(Hi,{selectionKeyPressed:L}),I&&o().createElement(Ka,{onSelectionDragStart:A,onSelectionDrag:O,onSelectionDragStop:N,onSelectionContextMenu:M}),o().createElement("div",{className:"react-flow__pane",onClick:D,onContextMenu:j,onWheel:R}))};qa.displayName="FlowRenderer";var Za=(0,r.memo)(qa),Qa=function(e){var t=_t((function(e){return e.transform})),n=_t((function(e){return e.selectedElements})),i=_t((function(e){return e.nodesDraggable})),a=_t((function(e){return e.nodesConnectable})),u=_t((function(e){return e.elementsSelectable})),c=_t((function(e){return e.width})),s=_t((function(e){return e.height})),l=_t((function(e){return e.nodes})),f=St((function(e){return e.updateNodeDimensions})),d=e.onlyRenderVisibleElements?Kt(l,{x:0,y:0,width:c,height:s},t,!0):l,p=(0,r.useMemo)((function(){return{transform:"translate(".concat(t[0],"px,").concat(t[1],"px) scale(").concat(t[2],")")}}),[t[0],t[1],t[2]]),h=(0,r.useMemo)((function(){return"undefined"==typeof ResizeObserver?null:new ResizeObserver((function(e){var t=e.map((function(e){return{id:e.target.getAttribute("data-id"),nodeElement:e.target}}));f(t)}))}),[]);return o().createElement("div",{className:"react-flow__nodes",style:p},d.map((function(r){var c=r.type||"default",s=e.nodeTypes[c]||e.nodeTypes.default;e.nodeTypes[c];var l=!!(r.draggable||i&&void 0===r.draggable),f=!!(r.selectable||u&&void 0===r.selectable),d=!!(r.connectable||a&&void 0===r.connectable);return o().createElement(s,{key:r.id,id:r.id,className:r.className,style:r.style,type:c,data:r.data,sourcePosition:r.sourcePosition,targetPosition:r.targetPosition,isHidden:r.isHidden,xPos:r.__rf.position.x,yPos:r.__rf.position.y,isDragging:r.__rf.isDragging,isInitialized:null!==r.__rf.width&&null!==r.__rf.height,snapGrid:e.snapGrid,snapToGrid:e.snapToGrid,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onElementClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onNodeDoubleClick:e.onNodeDoubleClick,onNodeDragStart:e.onNodeDragStart,onNodeDrag:e.onNodeDrag,onNodeDragStop:e.onNodeDragStop,scale:t[2],selected:(null==n?void 0:n.some((function(e){return e.id===r.id})))||!1,isDraggable:l,isSelectable:f,isConnectable:d,resizeObserver:h,dragHandle:r.dragHandle})})))};Qa.displayName="NodeRenderer";var Ja=(0,r.memo)(Qa),$a=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var tu=function(e){var t=e.x,n=e.y,i=e.label,a=e.labelStyle,l=void 0===a?{}:a,f=e.labelShowBg,d=void 0===f||f,p=e.labelBgStyle,h=void 0===p?{}:p,v=e.labelBgPadding,g=void 0===v?[2,4]:v,m=e.labelBgBorderRadius,y=void 0===m?2:m,b=e.children,w=e.className,x=c(e,$a),C=(0,r.useRef)(null),E=Mt((0,r.useState)({x:0,y:0,width:0,height:0}),2),S=E[0],_=E[1],k=s(["react-flow__edge-textwrapper",w]);return(0,r.useEffect)((function(){if(C.current){var e=C.current.getBBox();_({x:e.x,y:e.y,width:e.width,height:e.height})}}),[i]),void 0!==i&&i?o().createElement("g",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({transform:"translate(".concat(t-S.width/2," ").concat(n-S.height/2,")"),className:k},x),d&&o().createElement("rect",{width:S.width+2*g[0],x:-g[0],y:-g[1],height:S.height+2*g[1],className:"react-flow__edge-textbg",style:h,rx:y,ry:y}),o().createElement("text",{className:"react-flow__edge-text",y:S.height/2,dy:"0.3em",ref:C,style:l},i),b):null},nu=(0,r.memo)(tu),ru=function(e,t){return void 0!==t&&t?"url(#".concat(t,")"):void 0!==e?"url(#react-flow__".concat(e,")"):"none"},ou=[Pi.Left,Pi.Right],iu=function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,i=e.sourcePosition,a=void 0===i?Pi.Bottom:i,u=e.targetPosition,c=void 0===u?Pi.Top:u,s=ou.includes(a),l=ou.includes(c);if(s&&!l||l&&!s){var f=s?Math.abs(r-t):0,d=t>r?t-f:t+f,p=s?0:Math.abs(o-n);return[d,n<o?n+p:n-p,f,p]}var h=Math.abs(r-t)/2,v=r<t?r+h:r-h,g=Math.abs(o-n)/2;return[v,o<n?o+g:o-g,h,g]};function au(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?Pi.Bottom:r,i=e.targetX,a=e.targetY,u=e.targetPosition,c=void 0===u?Pi.Top:u,s=e.centerX,l=e.centerY,f=Mt(iu({sourceX:t,sourceY:n,targetX:i,targetY:a}),2),d=f[0],p=f[1],h=[Pi.Left,Pi.Right],v=void 0!==s?s:d,g=void 0!==l?l:p,m="M".concat(t,",").concat(n," C").concat(t,",").concat(g," ").concat(i,",").concat(g," ").concat(i,",").concat(a);return h.includes(o)&&h.includes(c)?m="M".concat(t,",").concat(n," C").concat(v,",").concat(n," ").concat(v,",").concat(a," ").concat(i,",").concat(a):h.includes(c)?m="M".concat(t,",").concat(n," Q").concat(t,",").concat(a," ").concat(i,",").concat(a):h.includes(o)&&(m="M".concat(t,",").concat(n," Q").concat(i,",").concat(n," ").concat(i,",").concat(a)),m}var uu=(0,r.memo)((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,a=e.sourcePosition,u=void 0===a?Pi.Bottom:a,c=e.targetPosition,s=void 0===c?Pi.Top:c,l=e.label,f=e.labelStyle,d=e.labelShowBg,p=e.labelBgStyle,h=e.labelBgPadding,v=e.labelBgBorderRadius,g=e.style,m=e.arrowHeadType,y=e.markerEndId,b=Mt(iu({sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:u,targetPosition:s}),2),w=b[0],x=b[1],C=au({sourceX:t,sourceY:n,sourcePosition:u,targetX:r,targetY:i,targetPosition:s}),E=l?o().createElement(nu,{x:w,y:x,label:l,labelStyle:f,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:v}):null,S=ru(m,y);return o().createElement(o().Fragment,null,o().createElement("path",{style:g,d:C,className:"react-flow__edge-path",markerEnd:S}),E)})),cu=function(e,t,n){return"L ".concat(e,",").concat(t-n,"Q ").concat(e,",").concat(t," ").concat(e+n,",").concat(t)},su=function(e,t,n){return"L ".concat(e+n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t-n)},lu=function(e,t,n){return"L ".concat(e,",").concat(t-n,"Q ").concat(e,",").concat(t," ").concat(e-n,",").concat(t)},fu=function(e,t,n){return"L ".concat(e-n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t-n)},du=function(e,t,n){return"L ".concat(e+n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t+n)},pu=function(e,t,n){return"L ".concat(e,",").concat(t+n,"Q ").concat(e,",").concat(t," ").concat(e+n,",").concat(t)},hu=function(e,t,n){return"L ".concat(e,",").concat(t+n,"Q ").concat(e,",").concat(t," ").concat(e-n,",").concat(t)},vu=function(e,t,n){return"L ".concat(e-n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t+n)};function gu(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?Pi.Bottom:r,i=e.targetX,a=e.targetY,u=e.targetPosition,c=void 0===u?Pi.Top:u,s=e.borderRadius,l=void 0===s?5:s,f=e.centerX,d=e.centerY,p=Mt(iu({sourceX:t,sourceY:n,targetX:i,targetY:a}),4),h=p[0],v=p[1],g=p[2],m=p[3],y=Math.min(l,Math.abs(i-t)),b=Math.min(l,Math.abs(a-n)),w=Math.min(y,b,g,m),x=[Pi.Left,Pi.Right],C=void 0!==f?f:h,E=void 0!==d?d:v,S=null,_=null;return t<=i?(S=n<=a?cu(t,E,w):pu(t,E,w),_=n<=a?vu(i,E,w):fu(i,E,w)):(S=n<a?lu(t,E,w):hu(t,E,w),_=n<a?du(i,E,w):su(i,E,w)),x.includes(o)&&x.includes(c)?t<=i?(S=n<=a?vu(C,n,w):fu(C,n,w),_=n<=a?cu(C,a,w):pu(C,a,w)):(o===Pi.Right&&c===Pi.Left||o===Pi.Left&&c===Pi.Right||o===Pi.Left&&c===Pi.Left)&&(S=n<=a?du(C,n,w):su(C,n,w),_=n<=a?lu(C,a,w):hu(C,a,w)):x.includes(o)&&!x.includes(c)?(S=t<=i?n<=a?vu(i,n,w):fu(i,n,w):n<=a?du(i,n,w):su(i,n,w),_=""):!x.includes(o)&&x.includes(c)&&(S=t<=i?n<=a?cu(t,a,w):pu(t,a,w):n<=a?lu(t,a,w):hu(t,a,w),_=""),"M ".concat(t,",").concat(n).concat(S).concat(_,"L ").concat(i,",").concat(a)}var mu=(0,r.memo)((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,a=e.label,u=e.labelStyle,c=e.labelShowBg,s=e.labelBgStyle,l=e.labelBgPadding,f=e.labelBgBorderRadius,d=e.style,p=e.sourcePosition,h=void 0===p?Pi.Bottom:p,v=e.targetPosition,g=void 0===v?Pi.Top:v,m=e.arrowHeadType,y=e.markerEndId,b=e.borderRadius,w=void 0===b?5:b,x=Mt(iu({sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:h,targetPosition:g}),2),C=x[0],E=x[1],S=gu({sourceX:t,sourceY:n,sourcePosition:h,targetX:r,targetY:i,targetPosition:g,borderRadius:w}),_=ru(m,y),k=a?o().createElement(nu,{x:C,y:E,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:f}):null;return o().createElement(o().Fragment,null,o().createElement("path",{style:d,className:"react-flow__edge-path",d:S,markerEnd:_}),k)})),yu=function(e){var t=e.connectionNodeId,n=e.connectionHandleId,i=e.connectionHandleType,a=e.connectionLineStyle,u=e.connectionPositionX,c=e.connectionPositionY,s=e.connectionLineType,l=void 0===s?ji.Bezier:s,f=e.nodes,d=void 0===f?[]:f,p=e.transform,h=e.isConnectable,v=e.CustomConnectionLineComponent,g=Mt((0,r.useState)(null),2),m=g[0],y=g[1],b=t,w=n;if((0,r.useEffect)((function(){var e=d.find((function(e){return e.id===b}))||null;y(e)}),[]),!m||!h)return null;var x=function(e,t,n){var r="source"===n?"target":"source",o=t.__rf.handleBounds[n]||t.__rf.handleBounds[r];return e?o.find((function(t){return t.id===e})):o[0]}(w,m,i),C=x?x.x+x.width/2:m.__rf.width/2,E=x?x.y+x.height/2:m.__rf.height,S=m.__rf.position.x+C,_=m.__rf.position.y+E,k=(u-p[0])/p[2],A=(c-p[1])/p[2],O=(null==x?void 0:x.position)===Pi.Left||(null==x?void 0:x.position)===Pi.Right?Pi.Left:Pi.Top;if(v)return o().createElement("g",{className:"react-flow__connection"},o().createElement(v,{sourceX:S,sourceY:_,sourcePosition:null==x?void 0:x.position,targetX:k,targetY:A,targetPosition:O,connectionLineType:l,connectionLineStyle:a,sourceNode:m,sourceHandle:x}));var N="";return N=l===ji.Bezier?au({sourceX:S,sourceY:_,sourcePosition:null==x?void 0:x.position,targetX:k,targetY:A,targetPosition:O}):l===ji.Step?gu({sourceX:S,sourceY:_,sourcePosition:null==x?void 0:x.position,targetX:k,targetY:A,targetPosition:O,borderRadius:0}):l===ji.SmoothStep?gu({sourceX:S,sourceY:_,sourcePosition:null==x?void 0:x.position,targetX:k,targetY:A,targetPosition:O}):"M".concat(S,",").concat(_," ").concat(k,",").concat(A),o().createElement("g",{className:"react-flow__connection"},o().createElement("path",{d:N,className:"react-flow__connection-path",style:a}))},bu=function(e){var t=e.id,n=e.children;return o().createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"12.5",markerHeight:"12.5",viewBox:"-10 -10 20 20",orient:"auto",refX:"0",refY:"0"},n)},wu=function(e){var t=e.color;return o().createElement("defs",null,o().createElement(bu,{id:"react-flow__arrowclosed"},o().createElement("polyline",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",fill:t,points:"-5,-4 0,0 -5,4 -5,-4"})),o().createElement(bu,{id:"react-flow__arrow"},o().createElement("polyline",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",fill:"none",points:"-5,-4 0,0 -5,4"})))};function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}wu.displayName="MarkerDefinitions";var Eu=(0,r.memo)((function(e){return o().createElement(mu,Cu(Cu({},e),{},{borderRadius:0}))})),Su=(0,r.memo)((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,i=e.targetY,a=e.label,u=e.labelStyle,c=e.labelShowBg,s=e.labelBgStyle,l=e.labelBgPadding,f=e.labelBgBorderRadius,d=e.style,p=e.arrowHeadType,h=e.markerEndId,v=Math.abs(i-n)/2,g=i<n?i+v:i-v,m=Math.abs(r-t)/2,y=r<t?r+m:r-m,b=ru(p,h),w=a?o().createElement(nu,{x:y,y:g,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:f}):null;return o().createElement(o().Fragment,null,o().createElement("path",{style:d,className:"react-flow__edge-path",d:"M ".concat(t,",").concat(n,"L ").concat(r,",").concat(i),markerEnd:b}),w)}));function _u(e,t,n,r,o,i,a){var u=a.elementFromPoint(e.clientX,e.clientY),c=(null==u?void 0:u.classList.contains("target"))||!1,s=(null==u?void 0:u.classList.contains("source"))||!1,l={elementBelow:u,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(u&&(c||s)&&(l.isHoveringHandle=!0,t!==Di.Strict||(n&&s||!n&&c))){var f=u.getAttribute("data-nodeid"),d=u.getAttribute("data-handleid"),p=n?{source:f,sourceHandle:d,target:r,targetHandle:o}:{source:r,sourceHandle:o,target:f,targetHandle:d};l.connection=p,l.isValid=i(p)}return l}function ku(e){null==e||e.classList.remove("react-flow__handle-valid"),null==e||e.classList.remove("react-flow__handle-connecting")}function Au(e,t,n,r,o,i,a,u,c,s,l,f,d,p){var h,v,g,m=e.target.closest(".react-flow"),y=(h=e.target,(null===(v=h.getRootNode)||void 0===v?void 0:v.call(h))||(null===(g=window)||void 0===g?void 0:g.document));if(y){var b=y.elementFromPoint(e.clientX,e.clientY),w=null==b?void 0:b.classList.contains("target"),x=null==b?void 0:b.classList.contains("source");if(m&&(w||x||s)){var C,E=s||(w?"target":"source"),S=m.getBoundingClientRect();o({x:e.clientX-S.left,y:e.clientY-S.top}),r({connectionNodeId:n,connectionHandleId:t,connectionHandleType:E}),null==f||f(e,{nodeId:n,handleId:t,handleType:E}),y.addEventListener("mousemove",_),y.addEventListener("mouseup",(function e(o){var f=_u(o,c,a,n,t,u,y),h=f.connection,v=f.isValid;null==d||d(o),v&&(null==i||i(h)),null==p||p(o),s&&l&&l(o),ku(C),r({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),y.removeEventListener("mousemove",_),y.removeEventListener("mouseup",e)}))}}function _(e){o({x:e.clientX-S.left,y:e.clientY-S.top});var r=_u(e,c,a,n,t,u,y),i=r.connection,s=r.elementBelow,l=r.isValid;if(!r.isHoveringHandle)return ku(C);!(i.source===i.target)&&s&&(C=s,s.classList.add("react-flow__handle-connecting"),s.classList.toggle("react-flow__handle-valid",l))}}var Ou=function(e,t,n){return n===Pi.Left?e-t:n===Pi.Right?e+t:e},Nu=function(e,t,n){return n===Pi.Top?e-t:n===Pi.Bottom?e+t:e},Mu=function(e){var t=e.className,n=e.position,r=e.centerX,i=e.centerY,a=e.radius,u=void 0===a?10:a;return o().createElement("circle",{className:s(["react-flow__edgeupdater",t]),cx:Ou(r,u,n),cy:Nu(i,u,n),r:u,stroke:"transparent",fill:"transparent"})},Tu=function(e){var t=function(t){var n=t.id,i=t.className,a=t.type,u=t.data,c=t.onClick,l=t.onEdgeDoubleClick,f=t.selected,d=t.animated,p=t.label,h=t.labelStyle,v=t.labelShowBg,g=t.labelBgStyle,m=t.labelBgPadding,y=t.labelBgBorderRadius,b=t.style,w=t.arrowHeadType,x=t.source,C=t.target,E=t.sourceX,S=t.sourceY,_=t.targetX,k=t.targetY,A=t.sourcePosition,O=t.targetPosition,N=t.elementsSelectable,M=t.markerEndId,T=t.isHidden,P=t.sourceHandleId,I=t.targetHandleId,L=t.handleEdgeUpdate,D=t.onConnectEdge,j=t.onContextMenu,R=t.onMouseEnter,F=t.onMouseMove,z=t.onMouseLeave,B=t.edgeUpdaterRadius,U=t.onEdgeUpdateStart,W=t.onEdgeUpdateEnd,H=St((function(e){return e.addSelectedElements})),V=St((function(e){return e.setConnectionNodeId})),G=St((function(e){return e.unsetNodesSelection})),Y=St((function(e){return e.setConnectionPosition})),X=_t((function(e){return e.connectionMode})),K=Mt((0,r.useState)(!1),2),q=K[0],Z=K[1],Q=!N&&!c,J=s(["react-flow__edge","react-flow__edge-".concat(a),i,{selected:f,animated:d,inactive:Q,updating:q}]),$=(0,r.useMemo)((function(){var e={id:n,source:x,target:C,type:a};return P&&(e.sourceHandle=P),I&&(e.targetHandle=I),void 0!==u&&(e.data=u),e}),[n,x,C,a,P,I,u]),ee=(0,r.useCallback)((function(e){N&&(G(),H($)),null==c||c(e,$)}),[N,$,c]),te=(0,r.useCallback)((function(e){null==l||l(e,$)}),[$,l]),ne=(0,r.useCallback)((function(e){null==j||j(e,$)}),[$,j]),re=(0,r.useCallback)((function(e){null==R||R(e,$)}),[$,j]),oe=(0,r.useCallback)((function(e){null==F||F(e,$)}),[$,j]),ie=(0,r.useCallback)((function(e){null==z||z(e,$)}),[$,j]),ae=(0,r.useCallback)((function(e,t){var n=t?C:x,r=t?I:P,o=t;null==U||U(e,$),Au(e,r,n,V,Y,D,o,(function(){return!0}),X,t?"target":"source",W?function(e){return W(e,$)}:void 0)}),[n,x,C,a,P,I,V,Y,$,D]),ue=(0,r.useCallback)((function(e){ae(e,!0)}),[n,x,P,ae]),ce=(0,r.useCallback)((function(e){ae(e,!1)}),[n,C,I,ae]),se=(0,r.useCallback)((function(){return Z(!0)}),[Z]),le=(0,r.useCallback)((function(){return Z(!1)}),[Z]);return T?null:o().createElement("g",{className:J,onClick:ee,onDoubleClick:te,onContextMenu:ne,onMouseEnter:re,onMouseMove:oe,onMouseLeave:ie},o().createElement(e,{id:n,source:x,target:C,selected:f,animated:d,label:p,labelStyle:h,labelShowBg:v,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:y,data:u,style:b,arrowHeadType:w,sourceX:E,sourceY:S,targetX:_,targetY:k,sourcePosition:A,targetPosition:O,markerEndId:M,sourceHandleId:P,targetHandleId:I}),L&&o().createElement("g",{onMouseDown:ue,onMouseEnter:se,onMouseOut:le},o().createElement(Mu,{position:A,centerX:E,centerY:S,radius:B})),L&&o().createElement("g",{onMouseDown:ce,onMouseEnter:se,onMouseOut:le},o().createElement(Mu,{position:O,centerX:_,centerY:k,radius:B})))};return t.displayName="EdgeWrapper",(0,r.memo)(t)};function Pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pu(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=((null==n?void 0:n.x)||0)+t.__rf.position.x,o=((null==n?void 0:n.y)||0)+t.__rf.position.y,i=(null==n?void 0:n.width)||t.__rf.width,a=(null==n?void 0:n.height)||t.__rf.height;switch(e){case Pi.Top:return{x:r+i/2,y:o};case Pi.Right:return{x:r+i,y:o+a/2};case Pi.Bottom:return{x:r+i/2,y:o+a};case Pi.Left:return{x:r,y:o+a/2}}}function Du(e,t){if(!e)return null;var n=null;return 1!==e.length&&t?t&&(n=e.find((function(e){return e.id===t}))):n=e[0],void 0===n?null:n}var ju=function(e){var t=e.edge,n=e.props,i=e.nodes,a=e.selectedElements,u=e.elementsSelectable,c=e.transform,s=e.width,l=e.height,f=e.onlyRenderVisibleElements,d=e.connectionMode,p=t.sourceHandle||null,h=t.targetHandle||null,v=function(e,t){return t.reduce((function(t,n){return n.id===e.source&&(t.sourceNode=n),n.id===e.target&&(t.targetNode=n),t}),{sourceNode:null,targetNode:null})}(t,i),g=v.sourceNode,m=v.targetNode,y=(0,r.useCallback)((function(e){var r;null===(r=n.onEdgeUpdate)||void 0===r||r.call(n,t,e)}),[t,n.onEdgeUpdate]);if(!g)return null;if(!m)return null;if(!g.__rf.width||!m.__rf.width)return null;var b=t.type||"default",w=n.edgeTypes[b]||n.edgeTypes.default,x=m.__rf.handleBounds,C=d===Di.Strict?x.target:x.target||x.source,E=Du(g.__rf.handleBounds.source,p),S=Du(C,h),_=E?E.position:Pi.Bottom,k=S?S.position:Pi.Top;if(!E)return null;if(!S)return null;var A=function(e,t,n,r,o,i){var a=Lu(n,e,t),u=Lu(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:u.x,targetY:u.y}}(g,E,_,m,S,k),O=A.sourceX,N=A.sourceY,M=A.targetX,T=A.targetY,P=!f||function(e){var t=e.sourcePos,n=e.targetPos,r=e.width,o=e.height,i=e.transform,a={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x,n.x),y2:Math.max(t.y,n.y)};a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);var u=Gt({x:(0-i[0])/i[2],y:(0-i[1])/i[2],width:r/i[2],height:o/i[2]}),c=Math.max(0,Math.min(u.x2,a.x2)-Math.max(u.x,a.x)),s=Math.max(0,Math.min(u.y2,a.y2)-Math.max(u.y,a.y));return Math.ceil(c*s)>0}({sourcePos:{x:O,y:N},targetPos:{x:M,y:T},width:s,height:l,transform:c});if(!P)return null;var I=(null==a?void 0:a.some((function(e){return Ft(e)&&e.id===t.id})))||!1;return o().createElement(w,{key:t.id,id:t.id,className:t.className,type:t.type,data:t.data,onClick:n.onElementClick,selected:I,animated:t.animated,label:t.label,labelStyle:t.labelStyle,labelShowBg:t.labelShowBg,labelBgStyle:t.labelBgStyle,labelBgPadding:t.labelBgPadding,labelBgBorderRadius:t.labelBgBorderRadius,style:t.style,arrowHeadType:t.arrowHeadType,source:t.source,target:t.target,sourceHandleId:p,targetHandleId:h,sourceX:O,sourceY:N,targetX:M,targetY:T,sourcePosition:_,targetPosition:k,elementsSelectable:u,markerEndId:n.markerEndId,isHidden:t.isHidden,onConnectEdge:y,handleEdgeUpdate:void 0!==n.onEdgeUpdate,onContextMenu:n.onEdgeContextMenu,onMouseEnter:n.onEdgeMouseEnter,onMouseMove:n.onEdgeMouseMove,onMouseLeave:n.onEdgeMouseLeave,edgeUpdaterRadius:n.edgeUpdaterRadius,onEdgeDoubleClick:n.onEdgeDoubleClick,onEdgeUpdateStart:n.onEdgeUpdateStart,onEdgeUpdateEnd:n.onEdgeUpdateEnd})},Ru=function(e){var t=_t((function(e){return e.transform})),n=_t((function(e){return e.nodes})),r=_t((function(e){return e.edges})),i=_t((function(e){return e.connectionNodeId})),a=_t((function(e){return e.connectionHandleId})),u=_t((function(e){return e.connectionHandleType})),c=_t((function(e){return e.connectionPosition})),s=_t((function(e){return e.selectedElements})),l=_t((function(e){return e.nodesConnectable})),f=_t((function(e){return e.elementsSelectable})),d=_t((function(e){return e.width})),p=_t((function(e){return e.height}));if(!d)return null;var h=e.connectionLineType,v=e.arrowHeadColor,g=e.connectionLineStyle,m=e.connectionLineComponent,y=e.onlyRenderVisibleElements,b="translate(".concat(t[0],"px,").concat(t[1],"px) scale(").concat(t[2],")"),w=i&&u;return o().createElement("svg",{width:d,height:p,className:"react-flow__edges"},o().createElement(wu,{color:v}),o().createElement("g",{style:{transform:b}},r.map((function(r){return o().createElement(ju,{key:r.id,edge:r,props:e,nodes:n,selectedElements:s,elementsSelectable:f,transform:t,width:d,height:p,onlyRenderVisibleElements:y})})),w&&o().createElement(yu,{nodes:n,connectionNodeId:i,connectionHandleId:a,connectionHandleType:u,connectionPositionX:c.x,connectionPositionY:c.y,transform:t,connectionLineStyle:g,connectionLineType:h,isConnectable:l,CustomConnectionLineComponent:m})))};Ru.displayName="EdgeRenderer";var Fu=(0,r.memo)(Ru),zu={zoomIn:function(){},zoomOut:function(){},zoomTo:function(e){},transform:function(e){},fitView:function(){},setCenter:function(e,t){},fitBounds:function(e){},project:function(e){return e},initialized:!1},Bu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)},Uu=function(){var e=kt(),t=_t((function(e){return e.d3Zoom})),n=_t((function(e){return e.d3Selection})),o=(0,r.useMemo)((function(){return n&&t?{zoomIn:function(e){return t.scaleBy(Bu(n,e),1.2)},zoomOut:function(e){return t.scaleBy(Bu(n,e),1/1.2)},zoomTo:function(e,r){return t.scaleTo(Bu(n,r),e)},transform:function(e,r){var o=Ci.translate(e.x,e.y).scale(e.zoom);t.transform(Bu(n,r),o)},fitView:function(){var r,o,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{padding:.1,includeHiddenNodes:!1,duration:0},u=e.getState(),c=u.nodes,s=u.width,l=u.height,f=u.minZoom,d=u.maxZoom;if(c.length){var p=Xt(a.includeHiddenNodes?c:c.filter((function(e){return!e.isHidden}))),h=Mt($t(p,s,l,null!==(r=a.minZoom)&&void 0!==r?r:f,null!==(o=a.maxZoom)&&void 0!==o?o:d,null!==(i=a.padding)&&void 0!==i?i:.1),3),v=h[0],g=h[1],m=h[2],y=Ci.translate(v,g).scale(m);t.transform(Bu(n,a.duration),y)}},setCenter:function(r,o,i,a){var u=e.getState(),c=u.width,s=u.height,l=u.maxZoom,f=void 0!==i?i:l,d=c/2-r*f,p=s/2-o*f,h=Ci.translate(d,p).scale(f);t.transform(Bu(n,a),h)},fitBounds:function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,i=arguments.length>2?arguments[2]:void 0,a=e.getState(),u=a.width,c=a.height,s=a.minZoom,l=a.maxZoom,f=Mt($t(r,u,c,s,l,o),3),d=f[0],p=f[1],h=f[2],v=Ci.translate(d,p).scale(h);t.transform(Bu(n,i),v)},project:function(t){var n=e.getState(),r=n.transform,o=n.snapToGrid,i=n.snapGrid;return Bt(t,r,o,i)},initialized:!0}:zu}),[t,n]);return o},Wu=function(e){var t=e.nodeTypes,n=e.edgeTypes,i=e.onMove,a=e.onMoveStart,u=e.onMoveEnd,c=e.onLoad,s=e.onElementClick,l=e.onNodeDoubleClick,f=e.onEdgeDoubleClick,d=e.onNodeMouseEnter,p=e.onNodeMouseMove,h=e.onNodeMouseLeave,v=e.onNodeContextMenu,g=e.onNodeDragStart,m=e.onNodeDrag,y=e.onNodeDragStop,b=e.onSelectionDragStart,w=e.onSelectionDrag,x=e.onSelectionDragStop,C=e.onSelectionContextMenu,E=e.connectionMode,S=e.connectionLineType,_=e.connectionLineStyle,k=e.connectionLineComponent,A=e.selectionKeyCode,O=e.multiSelectionKeyCode,N=e.zoomActivationKeyCode,M=e.onElementsRemove,T=e.deleteKeyCode,P=e.onConnect,I=e.onConnectStart,L=e.onConnectStop,D=e.onConnectEnd,j=e.snapToGrid,R=e.snapGrid,F=e.onlyRenderVisibleElements,z=e.nodesDraggable,B=e.nodesConnectable,U=e.elementsSelectable,W=e.selectNodesOnDrag,H=e.minZoom,V=e.maxZoom,G=e.defaultZoom,Y=e.defaultPosition,X=e.translateExtent,K=e.preventScrolling,q=e.nodeExtent,Z=e.arrowHeadColor,Q=e.markerEndId,J=e.zoomOnScroll,$=e.zoomOnPinch,ee=e.panOnScroll,te=e.panOnScrollSpeed,ne=e.panOnScrollMode,re=e.zoomOnDoubleClick,oe=e.paneMoveable,ie=e.onPaneClick,ae=e.onPaneScroll,ue=e.onPaneContextMenu,ce=e.onEdgeUpdate,se=e.onEdgeContextMenu,le=e.onEdgeMouseEnter,fe=e.onEdgeMouseMove,de=e.onEdgeMouseLeave,pe=e.edgeUpdaterRadius,he=e.onEdgeUpdateStart,ve=e.onEdgeUpdateEnd,ge=(0,r.useRef)(!1),me=St((function(e){return e.setOnConnect})),ye=St((function(e){return e.setOnConnectStart})),be=St((function(e){return e.setOnConnectStop})),we=St((function(e){return e.setOnConnectEnd})),xe=St((function(e){return e.setSnapGrid})),Ce=St((function(e){return e.setSnapToGrid})),Ee=St((function(e){return e.setNodesDraggable})),Se=St((function(e){return e.setNodesConnectable})),_e=St((function(e){return e.setElementsSelectable})),ke=St((function(e){return e.setMinZoom})),Ae=St((function(e){return e.setMaxZoom})),Oe=St((function(e){return e.setTranslateExtent})),Ne=St((function(e){return e.setNodeExtent})),Me=St((function(e){return e.setConnectionMode})),Te=kt(),Pe=Uu(),Ie=Pe.zoomIn,Le=Pe.zoomOut,De=Pe.zoomTo,je=Pe.transform,Re=Pe.fitView,Fe=Pe.initialized;return(0,r.useEffect)((function(){!ge.current&&Fe&&(c&&c({fitView:function(){return Re(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{padding:.1})},zoomIn:Ie,zoomOut:Le,zoomTo:De,setTransform:je,project:Ut(Te),getElements:Qt(Te),toObject:Jt(Te)}),ge.current=!0)}),[c,Ie,Le,De,je,Re,Fe]),(0,r.useEffect)((function(){P&&me(P)}),[P]),(0,r.useEffect)((function(){I&&ye(I)}),[I]),(0,r.useEffect)((function(){L&&be(L)}),[L]),(0,r.useEffect)((function(){D&&we(D)}),[D]),(0,r.useEffect)((function(){void 0!==j&&Ce(j)}),[j]),(0,r.useEffect)((function(){void 0!==R&&xe(R)}),[R]),(0,r.useEffect)((function(){void 0!==z&&Ee(z)}),[z]),(0,r.useEffect)((function(){void 0!==B&&Se(B)}),[B]),(0,r.useEffect)((function(){void 0!==U&&_e(U)}),[U]),(0,r.useEffect)((function(){void 0!==H&&ke(H)}),[H]),(0,r.useEffect)((function(){void 0!==V&&Ae(V)}),[V]),(0,r.useEffect)((function(){void 0!==X&&Oe(X)}),[X]),(0,r.useEffect)((function(){void 0!==q&&Ne(q)}),[q]),(0,r.useEffect)((function(){void 0!==E&&Me(E)}),[E]),o().createElement(Za,{onPaneClick:ie,onPaneContextMenu:ue,onPaneScroll:ae,onElementsRemove:M,deleteKeyCode:T,selectionKeyCode:A,multiSelectionKeyCode:O,zoomActivationKeyCode:N,elementsSelectable:U,onMove:i,onMoveStart:a,onMoveEnd:u,zoomOnScroll:J,zoomOnPinch:$,zoomOnDoubleClick:re,panOnScroll:ee,panOnScrollSpeed:te,panOnScrollMode:ne,paneMoveable:oe,defaultPosition:Y,defaultZoom:G,translateExtent:X,onSelectionDragStart:b,onSelectionDrag:w,onSelectionDragStop:x,onSelectionContextMenu:C,preventScrolling:K},o().createElement(Ja,{nodeTypes:t,onElementClick:s,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:p,onNodeMouseLeave:h,onNodeContextMenu:v,onNodeDragStop:y,onNodeDrag:m,onNodeDragStart:g,selectNodesOnDrag:W,snapToGrid:j,snapGrid:R,onlyRenderVisibleElements:F}),o().createElement(Fu,{edgeTypes:n,onElementClick:s,onEdgeDoubleClick:f,connectionLineType:S,connectionLineStyle:_,connectionLineComponent:k,connectionMode:E,arrowHeadColor:Z,markerEndId:Q,onEdgeUpdate:ce,onlyRenderVisibleElements:F,onEdgeContextMenu:se,onEdgeMouseEnter:le,onEdgeMouseMove:fe,onEdgeMouseLeave:de,onEdgeUpdateStart:he,onEdgeUpdateEnd:ve,edgeUpdaterRadius:pe}))};Wu.displayName="GraphView";var Hu=(0,r.memo)(Wu),Vu=function(e){var t=e.elements,n=St((function(e){return e.setElements}));return(0,r.useEffect)((function(){n(t)}),[t]),null},Gu=(0,r.createContext)(null),Yu=Gu.Provider;Gu.Consumer;var Xu=["type","position","isValidConnection","isConnectable","id","onConnect","children","className"];function Ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var qu=function(){return!0},Zu=(0,r.forwardRef)((function(e,t){var n=e.type,i=void 0===n?"source":n,a=e.position,l=void 0===a?Pi.Top:a,f=e.isValidConnection,d=void 0===f?qu:f,p=e.isConnectable,h=void 0===p||p,v=e.id,g=e.onConnect,m=e.children,y=e.className,b=c(e,Xu),w=(0,r.useContext)(Gu),x=St((function(e){return e.setConnectionPosition})),C=St((function(e){return e.setConnectionNodeId})),E=_t((function(e){return e.onConnect})),S=_t((function(e){return e.onConnectStart})),_=_t((function(e){return e.onConnectStop})),k=_t((function(e){return e.onConnectEnd})),A=_t((function(e){return e.connectionMode})),O=v||null,N="target"===i,M=(0,r.useCallback)((function(e){null==E||E(e),null==g||g(e)}),[E,g]),T=(0,r.useCallback)((function(e){Au(e,O,w,C,x,M,N,d,A,void 0,void 0,S,_,k)}),[O,w,C,x,M,N,d,A,S,_,k]),P=s(["react-flow__handle","react-flow__handle-".concat(l),"nodrag",y,{source:!N,target:N,connectable:h}]);return o().createElement("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"data-handleid":O,"data-nodeid":w,"data-handlepos":l,className:P,onMouseDown:T,ref:t},b),m)}));Zu.displayName="Handle";var Qu=(0,r.memo)(Zu),Ju=function(e){var t=e.data,n=e.isConnectable,r=e.targetPosition,i=void 0===r?Pi.Top:r,a=e.sourcePosition,u=void 0===a?Pi.Bottom:a;return o().createElement(o().Fragment,null,o().createElement(Qu,{type:"target",position:i,isConnectable:n}),t.label,o().createElement(Qu,{type:"source",position:u,isConnectable:n}))};Ju.displayName="DefaultNode";var $u=(0,r.memo)(Ju),ec=function(e){var t=e.data,n=e.isConnectable,r=e.sourcePosition,i=void 0===r?Pi.Bottom:r;return o().createElement(o().Fragment,null,t.label,o().createElement(Qu,{type:"source",position:i,isConnectable:n}))};ec.displayName="InputNode";var tc=(0,r.memo)(ec),nc=function(e){var t=e.data,n=e.isConnectable,r=e.targetPosition,i=void 0===r?Pi.Top:r;return o().createElement(o().Fragment,null,o().createElement(Qu,{type:"target",position:i,isConnectable:n}),t.label)};nc.displayName="OutputNode";var rc=(0,r.memo)(nc);function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ic=function(e){var t=function(t){var n=t.id,i=t.type,a=t.data,c=t.scale,l=t.xPos,f=t.yPos,d=t.selected,p=t.onClick,h=t.onMouseEnter,v=t.onMouseMove,g=t.onMouseLeave,m=t.onContextMenu,y=t.onNodeDoubleClick,b=t.onNodeDragStart,w=t.onNodeDrag,x=t.onNodeDragStop,C=t.style,E=t.className,S=t.isDraggable,_=t.isSelectable,k=t.isConnectable,A=t.selectNodesOnDrag,O=t.sourcePosition,N=t.targetPosition,M=t.isHidden,T=t.isInitialized,P=t.snapToGrid,I=t.snapGrid,L=t.isDragging,D=t.resizeObserver,j=t.dragHandle,R=St((function(e){return e.updateNodeDimensions})),F=St((function(e){return e.addSelectedElements})),z=St((function(e){return e.updateNodePosDiff})),B=St((function(e){return e.unsetNodesSelection})),U=(0,r.useRef)(null),W=(0,r.useMemo)((function(){return{id:n,type:i,position:{x:l,y:f},data:a}}),[n,i,l,f,a]),H=(0,r.useMemo)((function(){return P?I:[1,1]}),[P,I]),V=(0,r.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({zIndex:d?10:3,transform:"translate(".concat(l,"px,").concat(f,"px)"),pointerEvents:_||S||p||h||v||g?"all":"none",opacity:T?1:0},C)}),[d,l,f,_,S,p,T,C,h,v,g]),G=(0,r.useMemo)((function(){if(h&&!L)return function(e){return h(e,W)}}),[h,L,W]),Y=(0,r.useMemo)((function(){if(v&&!L)return function(e){return v(e,W)}}),[v,L,W]),X=(0,r.useMemo)((function(){if(g&&!L)return function(e){return g(e,W)}}),[g,L,W]),K=(0,r.useMemo)((function(){if(m)return function(e){return m(e,W)}}),[m,W]),q=(0,r.useCallback)((function(e){S||(_&&(B(),d||F(W)),null==p||p(e,W))}),[_,d,S,p,W]),Z=(0,r.useCallback)((function(e){null==b||b(e,W),A&&_?(B(),d||F(W)):A||d||!_||(B(),F([]))}),[W,d,A,_,b]),Q=(0,r.useCallback)((function(e,t){w&&(W.position.x+=t.deltaX,W.position.y+=t.deltaY,w(e,W)),z({id:n,diff:{x:t.deltaX,y:t.deltaY},isDragging:!0})}),[n,W,w]),J=(0,r.useCallback)((function(e){if(!L)return!_||A||d||F(W),void(null==p||p(e,W));z({id:W.id,isDragging:!1}),null==x||x(e,W)}),[W,_,A,p,x,L,d]),$=(0,r.useCallback)((function(e){null==y||y(e,W)}),[W,y]);if((0,r.useLayoutEffect)((function(){U.current&&!M&&R([{id:n,nodeElement:U.current,forceUpdate:!0}])}),[n,M,O,N]),(0,r.useEffect)((function(){if(U.current){var e=U.current;return null==D||D.observe(e),function(){return null==D?void 0:D.unobserve(e)}}}),[]),M)return null;var ee=s(["react-flow__node","react-flow__node-".concat(i),E,{selected:d,selectable:_}]);return o().createElement(Va,{onStart:Z,onDrag:Q,onStop:J,scale:c,disabled:!S,cancel:".nodrag",nodeRef:U,grid:H,enableUserSelectHack:!1,handle:j},o().createElement("div",{className:ee,ref:U,style:V,onMouseEnter:G,onMouseMove:Y,onMouseLeave:X,onContextMenu:K,onClick:q,onDoubleClick:$,"data-id":n},o().createElement(Yu,{value:n},o().createElement(e,{id:n,data:a,type:i,xPos:l,yPos:f,selected:d,isConnectable:k,sourcePosition:O,targetPosition:N,isDragging:L,dragHandle:j}))))};return t.displayName="NodeWrapper",(0,r.memo)(t)};function ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cc=function(e){var t=e.onSelectionChange,n=_t((function(e){return e.selectedElements}));return(0,r.useEffect)((function(){t(n)}),[n]),null},sc=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n};function lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var fc=function(e,t){var n=e.getBoundingClientRect();return{source:dc(".source",e,n,t),target:dc(".target",e,n,t)}},dc=function(e,t,n,r){var o=t.querySelectorAll(e);return o&&o.length?Array.from(o).map((function(e){var t=e.getBoundingClientRect(),o=Pt(e);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lc(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-n.left)/r,y:(t.top-n.top)/r},o)})):null};function pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:var n=t.payload.reduce((function(t,n){if(zt(n)){var r=e.nodes.find((function(e){return e.id===n.id}));if(r){var o=hc(hc({},r),n);r.position.x===n.position.x&&r.position.y===n.position.y||(o.__rf.position=n.position),void 0!==n.type&&n.type!==r.type&&(o.__rf.width=null),t.nextNodes.push(o)}else t.nextNodes.push(Wt(n,e.nodeExtent))}else if(Ft(n)){var i=e.edges.find((function(e){return e.id===n.id}));i?t.nextEdges.push(hc(hc({},i),n)):t.nextEdges.push(Ht(n))}return t}),{nextNodes:[],nextEdges:[]}),r=n.nextNodes,o=n.nextEdges;return hc(hc({},e),{},{nodes:r,edges:o});case Ze:var i=e.nodes.map((function(n){var r=t.payload.find((function(e){return e.id===n.id}));if(r){var o=Pt(r.nodeElement);if(o.width&&o.height&&(n.__rf.width!==o.width||n.__rf.height!==o.height||r.forceUpdate)){var i=fc(r.nodeElement,e.transform[2]);return hc(hc({},n),{},{__rf:hc(hc(hc({},n.__rf),o),{},{handleBounds:i})})}}return n}));return hc(hc({},e),{},{nodes:i});case Qe:var a=t.payload,u=a.id,c=a.pos,s=c;if(e.snapToGrid){var l=Mt(e.snapGrid,2),f=l[0],d=l[1];s={x:f*Math.round(c.x/f),y:d*Math.round(c.y/d)}}var p=e.nodes.map((function(e){return e.id===u?hc(hc({},e),{},{__rf:hc(hc({},e.__rf),{},{position:s})}):e}));return hc(hc({},e),{},{nodes:p});case Je:var h=t.payload,v=h.id,g=h.diff,m=h.isDragging,y=e.nodes.map((function(t){var n;if(v===t.id||null!==(n=e.selectedElements)&&void 0!==n&&n.find((function(e){return e.id===t.id}))){var r=hc(hc({},t),{},{__rf:hc(hc({},t.__rf),{},{isDragging:m})});return g&&(r.__rf.position={x:t.__rf.position.x+g.x,y:t.__rf.position.y+g.y}),r}return t}));return hc(hc({},e),{},{nodes:y});case $e:var b=t.payload;return hc(hc({},e),{},{selectionActive:!0,userSelectionRect:{width:0,height:0,startX:b.x,startY:b.y,x:b.x,y:b.y,draw:!0}});case et:var w,x,C=t.payload,E=null!==(w=e.userSelectionRect.startX)&&void 0!==w?w:0,S=null!==(x=e.userSelectionRect.startY)&&void 0!==x?x:0,_=hc(hc({},e.userSelectionRect),{},{x:C.x<E?C.x:E,y:C.y<S?C.y:S,width:Math.abs(C.x-E),height:Math.abs(C.y-S)}),k=Kt(e.nodes,_,e.transform,!1,!0),A=qt(k,e.edges),O=[].concat(Nt(k),Nt(A)),N=!sc(O,e.selectedElements)?{selectedElements:O.length>0?O:null}:{};return hc(hc(hc({},e),N),{},{userSelectionRect:_});case tt:var M,T=null===(M=e.selectedElements)||void 0===M?void 0:M.filter((function(e){return zt(e)&&e.__rf})),P=hc(hc({},e),{},{selectionActive:!1,userSelectionRect:hc(hc({},e.userSelectionRect),{},{draw:!1})});if(T&&0!==T.length){var I=Xt(T);P.selectedNodesBbox=I,P.nodesSelectionActive=!0}else P.selectedElements=null,P.nodesSelectionActive=!1;return P;case rt:var L=t.payload,D=Array.isArray(L)?L:[L],j=!sc(D,e.selectedElements)?D:e.selectedElements;return hc(hc({},e),{},{selectedElements:j});case it:var R=e.multiSelectionActive,F=e.selectedElements,z=t.payload,B=Array.isArray(z)?z:[z],U=B;R&&(U=F?[].concat(Nt(F),Nt(B)):B);var W=!sc(U,e.selectedElements)?U:e.selectedElements;return hc(hc({},e),{},{selectedElements:W});case ct:var H=t.payload,V=H.d3Zoom,G=H.d3Selection,Y=H.d3ZoomHandler,X=H.transform;return hc(hc({},e),{},{d3Zoom:V,d3Selection:G,d3ZoomHandler:Y,transform:X});case st:var K,q=t.payload;return null===(K=e.d3Zoom)||void 0===K||K.scaleExtent([q,e.maxZoom]),hc(hc({},e),{},{minZoom:q});case lt:var Z,Q=t.payload;return null===(Z=e.d3Zoom)||void 0===Z||Z.scaleExtent([e.minZoom,Q]),hc(hc({},e),{},{maxZoom:Q});case ft:var J,$=t.payload;return null===(J=e.d3Zoom)||void 0===J||J.translateExtent($),hc(hc({},e),{},{translateExtent:$});case Ct:var ee=t.payload;return hc(hc({},e),{},{nodeExtent:ee,nodes:e.nodes.map((function(e){return hc(hc({},e),{},{__rf:hc(hc({},e.__rf),{},{position:Lt(e.__rf.position,ee)})})}))});case Ge:case Ye:case Xe:case Ke:case ot:case nt:case at:case ut:case dt:case pt:case ht:case vt:case gt:case mt:case yt:case bt:case wt:case xt:return hc(hc({},e),t.payload);default:return e}}function gc(e){return h(vc,e)}var mc={width:0,height:0,transform:[0,0,1],nodes:[],edges:[],selectedElements:null,selectedNodesBbox:{x:0,y:0,width:0,height:0},d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodesSelectionActive:!1,selectionActive:!1,userSelectionRect:{startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:Di.Strict,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,multiSelectionActive:!1,reactFlowVersion:"9.7.4"},yc=gc(mc),bc=function(e){var t=e.children,n=(0,r.useContext)(Z);return(0,r.useMemo)((function(){var e,t;return null==n||null===(e=n.store)||void 0===e||null===(t=e.getState())||void 0===t?void 0:t.reactFlowVersion}),[n])?o().createElement(o().Fragment,null,t):o().createElement(ne,{store:yc},t)};function wc(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}bc.displayName="ReactFlowWrapper";wc(".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__pane,.react-flow__renderer,.react-flow__selectionpane{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow__edges,.react-flow__selection{left:0;position:absolute;top:0}.react-flow__edges{pointer-events:none;z-index:2}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{height:100%;pointer-events:none;width:100%;z-index:3}.react-flow__node,.react-flow__nodes{position:absolute;transform-origin:0 0}.react-flow__node{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{height:100%;left:0;pointer-events:none;position:absolute;top:0;transform-origin:left top;width:100%;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__background{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__controls{bottom:10px;left:10px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:10px;position:absolute;right:10px;z-index:5}");wc(".react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-input,.react-flow__node-output{border-radius:3px;border-style:solid;border-width:1px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-input{background:#fff;border-color:#0041d0}.react-flow__node-input.selected,.react-flow__node-input.selected:hover{box-shadow:0 0 0 .5px #0041d0}.react-flow__node-input .react-flow__handle{background:#0041d0}.react-flow__node-default{background:#fff;border-color:#1a192b}.react-flow__node-default.selected,.react-flow__node-default.selected:hover{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle{background:#1a192b}.react-flow__node-output{background:#fff;border-color:#ff0072}.react-flow__node-output.selected,.react-flow__node-output.selected:hover{box-shadow:0 0 0 .5px #ff0072}.react-flow__node-output .react-flow__handle{background:#ff0072}.react-flow__nodesselection-rect{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;position:absolute;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}");var xc=["elements","className","nodeTypes","edgeTypes","onElementClick","onLoad","onMove","onMoveStart","onMoveEnd","onElementsRemove","onConnect","onConnectStart","onConnectStop","onConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","arrowHeadColor","markerEndId","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","paneMoveable","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","nodeTypesId","edgeTypesId"];function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sc={input:tc,default:$u,output:rc},_c={default:uu,straight:Su,step:Eu,smoothstep:mu},kc=(0,r.forwardRef)((function(e,t){var n=e.elements,i=void 0===n?[]:n,a=e.className,u=e.nodeTypes,l=void 0===u?Sc:u,f=e.edgeTypes,d=void 0===f?_c:f,p=e.onElementClick,h=e.onLoad,v=e.onMove,g=e.onMoveStart,m=e.onMoveEnd,y=e.onElementsRemove,b=e.onConnect,w=e.onConnectStart,x=e.onConnectStop,C=e.onConnectEnd,E=e.onNodeMouseEnter,S=e.onNodeMouseMove,_=e.onNodeMouseLeave,k=e.onNodeContextMenu,A=e.onNodeDoubleClick,O=e.onNodeDragStart,N=e.onNodeDrag,M=e.onNodeDragStop,T=e.onSelectionChange,P=e.onSelectionDragStart,I=e.onSelectionDrag,L=e.onSelectionDragStop,D=e.onSelectionContextMenu,j=e.connectionMode,R=void 0===j?Di.Strict:j,F=e.connectionLineType,z=void 0===F?ji.Bezier:F,B=e.connectionLineStyle,U=e.connectionLineComponent,W=e.deleteKeyCode,H=void 0===W?"Backspace":W,V=e.selectionKeyCode,G=void 0===V?"Shift":V,Y=e.multiSelectionKeyCode,X=void 0===Y?"Meta":Y,K=e.zoomActivationKeyCode,q=void 0===K?"Meta":K,Z=e.snapToGrid,Q=void 0!==Z&&Z,J=e.snapGrid,$=void 0===J?[15,15]:J,ee=e.onlyRenderVisibleElements,te=void 0!==ee&&ee,ne=e.selectNodesOnDrag,re=void 0===ne||ne,oe=e.nodesDraggable,ie=e.nodesConnectable,ae=e.elementsSelectable,ue=e.minZoom,ce=e.maxZoom,se=e.defaultZoom,le=void 0===se?1:se,fe=e.defaultPosition,de=void 0===fe?[0,0]:fe,pe=e.translateExtent,he=e.preventScrolling,ve=void 0===he||he,ge=e.nodeExtent,me=e.arrowHeadColor,ye=void 0===me?"#b1b1b7":me,be=e.markerEndId,we=e.zoomOnScroll,xe=void 0===we||we,Ce=e.zoomOnPinch,Ee=void 0===Ce||Ce,Se=e.panOnScroll,_e=void 0!==Se&&Se,ke=e.panOnScrollSpeed,Ae=void 0===ke?.5:ke,Oe=e.panOnScrollMode,Ne=void 0===Oe?Ri.Free:Oe,Me=e.zoomOnDoubleClick,Te=void 0===Me||Me,Pe=e.paneMoveable,Ie=void 0===Pe||Pe,Le=e.onPaneClick,De=e.onPaneScroll,je=e.onPaneContextMenu,Re=e.children,Fe=e.onEdgeUpdate,ze=e.onEdgeContextMenu,Be=e.onEdgeDoubleClick,Ue=e.onEdgeMouseEnter,We=e.onEdgeMouseMove,He=e.onEdgeMouseLeave,Ve=e.onEdgeUpdateStart,Ge=e.onEdgeUpdateEnd,Ye=e.edgeUpdaterRadius,Xe=void 0===Ye?10:Ye,Ke=e.nodeTypesId,qe=void 0===Ke?"1":Ke,Ze=e.edgeTypesId,Qe=void 0===Ze?"1":Ze,Je=c(e,xc),$e=(0,r.useMemo)((function(){return function(e){var t={input:ic(e.input||tc),default:ic(e.default||$u),output:ic(e.output||rc)},n=Object.keys(e).filter((function(e){return!["input","default","output"].includes(e)})).reduce((function(t,n){return t[n]=ic(e[n]||$u),t}),{});return uc(uc({},t),n)}(l)}),[qe]),et=(0,r.useMemo)((function(){return function(e){var t={default:Tu(e.default||uu),straight:Tu(e.bezier||Su),step:Tu(e.step||Eu),smoothstep:Tu(e.step||mu)},n=Object.keys(e).filter((function(e){return!["default","bezier"].includes(e)})).reduce((function(t,n){return t[n]=Tu(e[n]||uu),t}),{});return Iu(Iu({},t),n)}(d)}),[Qe]),tt=s(["react-flow",a]);return o().createElement("div",Ec(Ec({},Je),{},{ref:t,className:tt}),o().createElement(bc,null,o().createElement(Hu,{onLoad:h,onMove:v,onMoveStart:g,onMoveEnd:m,onElementClick:p,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:A,onNodeDragStart:O,onNodeDrag:N,onNodeDragStop:M,nodeTypes:$e,edgeTypes:et,connectionMode:R,connectionLineType:z,connectionLineStyle:B,connectionLineComponent:U,selectionKeyCode:G,onElementsRemove:y,deleteKeyCode:H,multiSelectionKeyCode:X,zoomActivationKeyCode:q,onConnect:b,onConnectStart:w,onConnectStop:x,onConnectEnd:C,snapToGrid:Q,snapGrid:$,onlyRenderVisibleElements:te,nodesDraggable:oe,nodesConnectable:ie,elementsSelectable:ae,selectNodesOnDrag:re,minZoom:ue,maxZoom:ce,defaultZoom:le,defaultPosition:de,translateExtent:pe,preventScrolling:ve,nodeExtent:ge,arrowHeadColor:ye,markerEndId:be,zoomOnScroll:xe,zoomOnPinch:Ee,zoomOnDoubleClick:Te,panOnScroll:_e,panOnScrollSpeed:Ae,panOnScrollMode:Ne,paneMoveable:Ie,onPaneClick:Le,onPaneScroll:De,onPaneContextMenu:je,onSelectionDragStart:P,onSelectionDrag:I,onSelectionDragStop:L,onSelectionContextMenu:D,onEdgeUpdate:Fe,onEdgeContextMenu:ze,onEdgeDoubleClick:Be,onEdgeMouseEnter:Ue,onEdgeMouseMove:We,onEdgeMouseLeave:He,onEdgeUpdateStart:Ve,onEdgeUpdateEnd:Ge,edgeUpdaterRadius:Xe}),o().createElement(Vu,{elements:i}),T&&o().createElement(cc,{onSelectionChange:T}),Re))}));kc.displayName="ReactFlow";var Ac=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=e.style,u=e.color,c=e.strokeColor,l=e.strokeWidth,f=e.className,d=e.borderRadius,p=e.shapeRendering,h=a||{},v=h.background,g=h.backgroundColor,m=u||v||g;return o().createElement("rect",{className:s(["react-flow__minimap-node",f]),x:t,y:n,rx:d,ry:d,width:r,height:i,fill:m,stroke:c,strokeWidth:l,shapeRendering:p})};Ac.displayName="MiniMapNode";var Oc=(0,r.memo)(Ac),Nc=function(e){var t,n=e.style,r=e.className,i=e.nodeStrokeColor,a=void 0===i?"#555":i,u=e.nodeColor,c=void 0===u?"#fff":u,l=e.nodeClassName,f=void 0===l?"":l,d=e.nodeBorderRadius,p=void 0===d?5:d,h=e.nodeStrokeWidth,v=void 0===h?2:h,g=e.maskColor,m=void 0===g?"rgb(240, 242, 243, 0.7)":g,y=_t((function(e){return e.width})),b=_t((function(e){return e.height})),w=Mt(_t((function(e){return e.transform})),3),x=w[0],C=w[1],E=w[2],S=_t((function(e){return e.nodes})),_=s(["react-flow__minimap",r]),k=(null==n?void 0:n.width)||200,A=(null==n?void 0:n.height)||150,O=c instanceof Function?c:function(){return c},N=a instanceof Function?a:function(){return a},M=f instanceof Function?f:function(){return f},T=S&&S.length,P=Xt(S),I={x:-x/E,y:-C/E,width:y/E,height:b/E},L=T?(t=I,Yt(Vt(Gt(P),Gt(t)))):I,D=L.width/k,j=L.height/A,R=Math.max(D,j),F=R*k,z=R*A,B=5*R,U=L.x-(F-L.width)/2-B,W=L.y-(z-L.height)/2-B,H=F+2*B,V=z+2*B,G="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return o().createElement("svg",{width:k,height:A,viewBox:"".concat(U," ").concat(W," ").concat(H," ").concat(V),style:n,className:_},S.filter((function(e){return!e.isHidden})).map((function(e){return o().createElement(Oc,{key:e.id,x:e.__rf.position.x,y:e.__rf.position.y,width:e.__rf.width,height:e.__rf.height,style:e.style,className:M(e),color:O(e),borderRadius:p,strokeColor:N(e),strokeWidth:v,shapeRendering:G})})),o().createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(U-B,",").concat(W-B,"h").concat(H+2*B,"v").concat(V+2*B,"h").concat(-H-2*B,"z\n        M").concat(I.x,",").concat(I.y,"h").concat(I.width,"v").concat(I.height,"h").concat(-I.width,"z"),fill:m,fillRule:"evenodd"}))};Nc.displayName="MiniMap";var Mc;function Tc(){return Tc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tc.apply(this,arguments)}var Pc,Ic=function(e){return r.createElement("svg",Tc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),Mc||(Mc=r.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})))};function Lc(){return Lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lc.apply(this,arguments)}var Dc,jc=function(e){return r.createElement("svg",Lc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},e),Pc||(Pc=r.createElement("path",{d:"M0 0h32v4.2H0z"})))};function Rc(){return Rc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rc.apply(this,arguments)}var Fc,zc=function(e){return r.createElement("svg",Rc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},e),Dc||(Dc=r.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})))};function Bc(){return Bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc.apply(this,arguments)}var Uc,Wc=function(e){return r.createElement("svg",Bc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e),Fc||(Fc=r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})))};function Hc(){return Hc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hc.apply(this,arguments)}var Vc=function(e){return r.createElement("svg",Hc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e),Uc||(Uc=r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"})))},Gc=["children","className"];function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Xc=function(e){var t=e.children,n=e.className,r=c(e,Gc);return o().createElement("button",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"button",className:s(["react-flow__controls-button",n])},r),t)},Kc=function(e){var t=e.style,n=e.showZoom,i=void 0===n||n,a=e.showFitView,u=void 0===a||a,c=e.showInteractive,l=void 0===c||c,f=e.fitViewParams,d=e.onZoomIn,p=e.onZoomOut,h=e.onFitView,v=e.onInteractiveChange,g=e.className,m=e.children,y=Mt((0,r.useState)(!1),2),b=y[0],w=y[1],x=St((function(e){return e.setInteractive})),C=Uu(),E=C.zoomIn,S=C.zoomOut,_=C.fitView,k=_t((function(e){return e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable})),A=s(["react-flow__controls",g]),O=(0,r.useCallback)((function(){null==E||E(),null==d||d()}),[E,d]),N=(0,r.useCallback)((function(){null==S||S(),null==p||p()}),[S,p]),M=(0,r.useCallback)((function(){null==_||_(f),null==h||h()}),[_,f,h]),T=(0,r.useCallback)((function(){null==x||x(!k),null==v||v(!k)}),[k,x,v]);return(0,r.useEffect)((function(){w(!0)}),[]),b?o().createElement("div",{className:A,style:t},i&&o().createElement(o().Fragment,null,o().createElement(Xc,{onClick:O,className:"react-flow__controls-zoomin"},o().createElement(Ic,null)),o().createElement(Xc,{onClick:N,className:"react-flow__controls-zoomout"},o().createElement(jc,null))),u&&o().createElement(Xc,{className:"react-flow__controls-fitview",onClick:M},o().createElement(zc,null)),l&&o().createElement(Xc,{className:"react-flow__controls-interactive",onClick:T},k?o().createElement(Vc,null):o().createElement(Wc,null)),m):null};Kc.displayName="Controls";var qc;function Zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zc(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jc=(u(qc={},Li.Dots,"#81818a"),u(qc,Li.Lines,"#eee"),qc),$c=function(e){var t=e.variant,n=void 0===t?Li.Dots:t,i=e.gap,a=void 0===i?15:i,u=e.size,c=void 0===u?.4:u,l=e.color,f=e.style,d=e.className,p=Mt(_t((function(e){return e.transform})),3),h=p[0],v=p[1],g=p[2],m=(0,r.useMemo)((function(){return"pattern-".concat(Math.floor(1e5*Math.random()))}),[]),y=s(["react-flow__background",d]),b=a*g,w=h%b,x=v%b,C=n===Li.Lines,E=l||Jc[n],S=C?function(e,t,n){return o().createElement("path",{stroke:n,strokeWidth:t,d:"M".concat(e/2," 0 V").concat(e," M0 ").concat(e/2," H").concat(e)})}(b,c,E):function(e,t){return o().createElement("circle",{cx:e,cy:e,r:e,fill:t})}(c*g,E);return o().createElement("svg",{className:y,style:Qc(Qc({},f),{},{width:"100%",height:"100%"})},o().createElement("pattern",{id:m,x:w,y:x,width:b,height:b,patternUnits:"userSpaceOnUse"},S),o().createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(m,")")}))};$c.displayName="Background";var es=function(e){var t=e.children,n=(0,r.useMemo)((function(){return gc(mc)}),[]);return o().createElement(ne,{store:n},t)};es.displayName="ReactFlowProvider"},10936:function(e,t,n){e.exports=function(){"use strict";var e=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var o=r[n];e.call(t,o[1],o[0])}},Object.defineProperties(t.prototype,n),t}()}(),t="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},i=2,a=function(e,t){var n=!1,r=!1,a=0;function u(){n&&(n=!1,e()),r&&s()}function c(){o(u)}function s(){var e=Date.now();if(n){if(e-a<i)return;r=!0}else n=!0,r=!1,setTimeout(c,t);a=e}return s},u=20,c=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),u)};l.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},l.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},l.prototype.connect_=function(){t&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){t&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),c.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null;var f=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},p=E(0,0,0,0);function h(e){return parseFloat(e)||0}function v(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function g(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var o=r[n],i=e["padding-"+o];t[o]=h(i)}return t}function m(e){var t=e.getBBox();return E(0,0,t.width,t.height)}function y(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=d(e).getComputedStyle(e),o=g(r),i=o.left+o.right,a=o.top+o.bottom,u=h(r.width),c=h(r.height);if("border-box"===r.boxSizing&&(Math.round(u+i)!==t&&(u-=v(r,"left","right")+i),Math.round(c+a)!==n&&(c-=v(r,"top","bottom")+a)),!w(e)){var s=Math.round(u+i)-t,l=Math.round(c+a)-n;1!==Math.abs(s)&&(u-=s),1!==Math.abs(l)&&(c-=l)}return E(o.left,o.top,u,c)}var b="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function w(e){return e===d(e).document.documentElement}function x(e){return t?b(e)?m(e):y(e):p}function C(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return f(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}function E(e,t,n,r){return{x:e,y:t,width:n,height:r}}var S=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=e};S.prototype.isActive=function(){var e=x(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var _=function(e,t){var n=C(t);f(this,{target:e,contentRect:n})},k=function(t,n,r){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r};k.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},k.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},k.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},k.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},k.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new _(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},k.prototype.clearActive=function(){this.activeObservations_.splice(0)},k.prototype.hasActive=function(){return this.activeObservations_.length>0};var A="undefined"!=typeof WeakMap?new WeakMap:new e,O=function(e){if(!(this instanceof O))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=l.getInstance(),n=new k(e,t,this);A.set(this,n)};return["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){return(t=A.get(this))[e].apply(t,arguments);var t}})),void 0!==r.ResizeObserver?r.ResizeObserver:(r.ResizeObserver=O,O)}()},51452:function(e,t,n){"use strict";var r=new Error;e.exports=new Promise((function(e,t){if("undefined"!=typeof designer_base)return e();n.l(window.DESIGNER_BASE_ENTRY,(function(n){if("undefined"!=typeof designer_base)return e();var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;r.message="Loading script failed.\n("+o+": "+i+")",r.name="ScriptExternalLoadError",r.type=o,r.request=i,t(r)}),"designer_base")})).then((function(){return designer_base}))},71252:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},95280:function(e,t,n){"use strict";var r=n(36128);e.exports=r},24224:function(e,t,n){"use strict";var r=n(81324);e.exports=r},36188:function(e,t,n){"use strict";var r=n(50984);e.exports=r},8404:function(e,t,n){"use strict";var r=n(92960);e.exports=r},49152:function(e,t,n){"use strict";var r=n(35720);e.exports=r},80296:function(e,t,n){"use strict";var r=n(27584);e.exports=r},50376:function(e,t,n){"use strict";var r=n(95608);e.exports=r},83916:function(e,t,n){"use strict";var r=n(72672);e.exports=r},46404:function(e,t,n){"use strict";var r=n(68792);e.exports=r},19468:function(e,t,n){"use strict";var r=n(9224);e.exports=r},95699:function(e,t,n){"use strict";var r=n(48624);e.exports=r},280:function(e,t,n){"use strict";var r=n(10424);e.exports=r},88008:function(e,t,n){"use strict";var r=n(42648);e.exports=r},47144:function(e,t,n){"use strict";var r=n(39928);n(46536),n(7576),n(57772),n(65656),e.exports=r},19184:function(e,t,n){"use strict";var r=n(88308);e.exports=r},69259:function(e,t,n){"use strict";n(34176),n(19952);var r=n(19832);e.exports=r.Array.from},3376:function(e,t,n){"use strict";n(45656);var r=n(19832);e.exports=r.Array.isArray},7160:function(e,t,n){"use strict";n(22216);var r=n(46180);e.exports=r("Array","concat")},70216:function(e,t,n){"use strict";n(30340),n(12352);var r=n(46180);e.exports=r("Array","entries")},94488:function(e,t,n){"use strict";n(16408);var r=n(46180);e.exports=r("Array","every")},5592:function(e,t,n){"use strict";n(64864);var r=n(46180);e.exports=r("Array","filter")},24216:function(e,t,n){"use strict";n(41008);var r=n(46180);e.exports=r("Array","findIndex")},38256:function(e,t,n){"use strict";n(36952);var r=n(46180);e.exports=r("Array","find")},23272:function(e,t,n){"use strict";n(18068);var r=n(46180);e.exports=r("Array","forEach")},56184:function(e,t,n){"use strict";n(46504);var r=n(46180);e.exports=r("Array","includes")},26720:function(e,t,n){"use strict";n(11904);var r=n(46180);e.exports=r("Array","indexOf")},74908:function(e,t,n){"use strict";n(30340),n(12352);var r=n(46180);e.exports=r("Array","keys")},83844:function(e,t,n){"use strict";n(97092);var r=n(46180);e.exports=r("Array","map")},56883:function(e,t,n){"use strict";n(91704);var r=n(46180);e.exports=r("Array","reduce")},74792:function(e,t,n){"use strict";n(15863);var r=n(46180);e.exports=r("Array","slice")},4348:function(e,t,n){"use strict";n(43408);var r=n(46180);e.exports=r("Array","some")},4416:function(e,t,n){"use strict";n(38280);var r=n(46180);e.exports=r("Array","sort")},63612:function(e,t,n){"use strict";n(74152);var r=n(46180);e.exports=r("Array","splice")},79720:function(e,t,n){"use strict";n(30340),n(12352);var r=n(46180);e.exports=r("Array","values")},2412:function(e,t,n){"use strict";n(54388);var r=n(46180);e.exports=r("Function","bind")},34556:function(e,t,n){"use strict";n(30340),n(34176);var r=n(80068);e.exports=r},74756:function(e,t,n){"use strict";var r=n(82360),o=n(2412),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||r(i,e)&&t===i.bind?o:t}},88884:function(e,t,n){"use strict";var r=n(82360),o=n(7160),i=Array.prototype;e.exports=function(e){var t=e.concat;return e===i||r(i,e)&&t===i.concat?o:t}},28312:function(e,t,n){"use strict";var r=n(82360),o=n(94488),i=Array.prototype;e.exports=function(e){var t=e.every;return e===i||r(i,e)&&t===i.every?o:t}},680:function(e,t,n){"use strict";var r=n(82360),o=n(5592),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||r(i,e)&&t===i.filter?o:t}},53612:function(e,t,n){"use strict";var r=n(82360),o=n(24216),i=Array.prototype;e.exports=function(e){var t=e.findIndex;return e===i||r(i,e)&&t===i.findIndex?o:t}},32600:function(e,t,n){"use strict";var r=n(82360),o=n(38256),i=Array.prototype;e.exports=function(e){var t=e.find;return e===i||r(i,e)&&t===i.find?o:t}},8180:function(e,t,n){"use strict";var r=n(82360),o=n(56184),i=n(44464),a=Array.prototype,u=String.prototype;e.exports=function(e){var t=e.includes;return e===a||r(a,e)&&t===a.includes?o:"string"==typeof e||e===u||r(u,e)&&t===u.includes?i:t}},44156:function(e,t,n){"use strict";var r=n(82360),o=n(26720),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||r(i,e)&&t===i.indexOf?o:t}},91352:function(e,t,n){"use strict";var r=n(82360),o=n(83844),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||r(i,e)&&t===i.map?o:t}},39063:function(e,t,n){"use strict";var r=n(82360),o=n(56883),i=Array.prototype;e.exports=function(e){var t=e.reduce;return e===i||r(i,e)&&t===i.reduce?o:t}},58688:function(e,t,n){"use strict";var r=n(82360),o=n(74792),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||r(i,e)&&t===i.slice?o:t}},48284:function(e,t,n){"use strict";var r=n(82360),o=n(4348),i=Array.prototype;e.exports=function(e){var t=e.some;return e===i||r(i,e)&&t===i.some?o:t}},86188:function(e,t,n){"use strict";var r=n(82360),o=n(4416),i=Array.prototype;e.exports=function(e){var t=e.sort;return e===i||r(i,e)&&t===i.sort?o:t}},46312:function(e,t,n){"use strict";var r=n(82360),o=n(63612),i=Array.prototype;e.exports=function(e){var t=e.splice;return e===i||r(i,e)&&t===i.splice?o:t}},78125:function(e,t,n){"use strict";var r=n(82360),o=n(74352),i=String.prototype;e.exports=function(e){var t=e.trim;return"string"==typeof e||e===i||r(i,e)&&t===i.trim?o:t}},69304:function(e,t,n){"use strict";n(4864),n(58824);var r=n(19832),o=n(79867);r.JSON||(r.JSON={stringify:JSON.stringify}),e.exports=function(e,t,n){return o(r.JSON.stringify,null,arguments)}},52548:function(e,t,n){"use strict";n(30340),n(86775),n(62648),n(12352),n(34176);var r=n(19832);e.exports=r.Map},96576:function(e,t,n){"use strict";n(71620);var r=n(19832);e.exports=r.Number.isNaN},59196:function(e,t,n){"use strict";n(46448);var r=n(19832);e.exports=r.Object.assign},44636:function(e,t,n){"use strict";n(68928);var r=n(19832).Object;e.exports=function(e,t){return r.create(e,t)}},42172:function(e,t,n){"use strict";n(67300);var r=n(19832).Object,o=e.exports=function(e,t){return r.defineProperties(e,t)};r.defineProperties.sham&&(o.sham=!0)},74856:function(e,t,n){"use strict";n(98708);var r=n(19832).Object,o=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(o.sham=!0)},42348:function(e,t,n){"use strict";n(96360);var r=n(19832);e.exports=r.Object.freeze},13416:function(e,t,n){"use strict";n(97648);var r=n(19832).Object,o=e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)};r.getOwnPropertyDescriptor.sham&&(o.sham=!0)},32936:function(e,t,n){"use strict";n(65032);var r=n(19832);e.exports=r.Object.getOwnPropertyDescriptors},61852:function(e,t,n){"use strict";n(45312);var r=n(19832).Object;e.exports=function(e){return r.getOwnPropertyNames(e)}},920:function(e,t,n){"use strict";n(49276);var r=n(19832);e.exports=r.Object.getOwnPropertySymbols},3056:function(e,t,n){"use strict";n(33416);var r=n(19832);e.exports=r.Object.getPrototypeOf},67552:function(e,t,n){"use strict";n(63008);var r=n(19832);e.exports=r.Object.isFrozen},82613:function(e,t,n){"use strict";n(40088);var r=n(19832);e.exports=r.Object.keys},23092:function(e,t,n){"use strict";n(91020);var r=n(19832);e.exports=r.Object.setPrototypeOf},6104:function(e,t,n){"use strict";n(17016);var r=n(19832);e.exports=r.Object.values},5357:function(e,t,n){"use strict";n(71740);var r=n(19832);e.exports=r.parseInt},76496:function(e,t,n){"use strict";n(38436),n(30340),n(12352),n(86244),n(38128),n(73728),n(10096),n(50196),n(34176);var r=n(19832);e.exports=r.Promise},92880:function(e,t,n){"use strict";n(14915);var r=n(19832);e.exports=r.Reflect.construct},25784:function(e,t,n){"use strict";n(79896);var r=n(19832);e.exports=r.Reflect.getOwnPropertyDescriptor},21836:function(e,t,n){"use strict";n(71088);var r=n(19832);e.exports=r.Reflect.ownKeys},77376:function(e,t,n){"use strict";n(30340),n(12352),n(81160),n(67036),n(47124),n(24136),n(72304),n(23276),n(63112),n(61704),n(34176);var r=n(19832);e.exports=r.Set},44464:function(e,t,n){"use strict";n(3512);var r=n(46180);e.exports=r("String","includes")},74352:function(e,t,n){"use strict";n(25384);var r=n(46180);e.exports=r("String","trim")},63656:function(e,t,n){"use strict";n(49276);var r=n(19832);e.exports=r.Symbol.for},22767:function(e,t,n){"use strict";n(22216),n(12352),n(49276),n(52240),n(49452),n(71344),n(74436),n(6992),n(58028),n(56380),n(76176),n(91176),n(60781),n(76720),n(95536),n(44732),n(84243),n(19928),n(93787),n(72556);var r=n(19832);e.exports=r.Symbol},25180:function(e,t,n){"use strict";n(30340),n(12352),n(34176),n(6992);var r=n(81104);e.exports=r.f("iterator")},96680:function(e,t,n){"use strict";e.exports=n(37944)},6164:function(e,t,n){"use strict";e.exports=n(42396)},64800:function(e,t,n){"use strict";e.exports=n(420)},17456:function(e,t,n){"use strict";e.exports=n(8176)},17893:function(e,t,n){"use strict";e.exports=n(47112)},10384:function(e,t,n){"use strict";e.exports=n(53232)},83576:function(e,t,n){"use strict";e.exports=n(24556)},46656:function(e,t,n){"use strict";e.exports=n(52600)},3568:function(e,t,n){"use strict";e.exports=n(88520)},62952:function(e,t,n){"use strict";e.exports=n(72900)},91864:function(e,t,n){"use strict";e.exports=n(97368)},76008:function(e,t,n){"use strict";e.exports=n(85284)},40624:function(e,t,n){"use strict";e.exports=n(80988)},16388:function(e,t,n){"use strict";e.exports=n(39216)},71792:function(e,t,n){"use strict";e.exports=n(47268)},37944:function(e,t,n){"use strict";var r=n(95280);e.exports=r},42396:function(e,t,n){"use strict";var r=n(24224);e.exports=r},420:function(e,t,n){"use strict";var r=n(36188);e.exports=r},8176:function(e,t,n){"use strict";var r=n(8404);e.exports=r},47112:function(e,t,n){"use strict";var r=n(49152);e.exports=r},53232:function(e,t,n){"use strict";var r=n(80296);e.exports=r},24556:function(e,t,n){"use strict";var r=n(50376);e.exports=r},52600:function(e,t,n){"use strict";var r=n(83916);e.exports=r},88520:function(e,t,n){"use strict";var r=n(46404);e.exports=r},72900:function(e,t,n){"use strict";var r=n(19468);e.exports=r},97368:function(e,t,n){"use strict";var r=n(95699);e.exports=r},85284:function(e,t,n){"use strict";var r=n(280);e.exports=r},80988:function(e,t,n){"use strict";var r=n(88008);e.exports=r},39216:function(e,t,n){"use strict";var r=n(47144);n(89264),n(98460),n(53504),n(4184),n(31216),n(5196),n(84448),n(72948),n(12252),n(8776),e.exports=r},47268:function(e,t,n){"use strict";var r=n(19184);e.exports=r},20028:function(e,t,n){"use strict";var r=n(38536),o=n(48944),i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not a function")}},39556:function(e,t,n){"use strict";var r=n(39496),o=n(48944),i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not a constructor")}},31459:function(e,t,n){"use strict";var r=n(97432),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw new i("Can't set "+o(e)+" as a prototype")}},92292:function(e,t,n){"use strict";var r=n(48944),o=TypeError;e.exports=function(e){if("object"==typeof e&&"size"in e&&"has"in e&&"add"in e&&"delete"in e&&"keys"in e)return e;throw new o(r(e)+" is not a set")}},51472:function(e){"use strict";e.exports=function(){}},6952:function(e,t,n){"use strict";var r=n(82360),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new o("Incorrect invocation")}},42032:function(e,t,n){"use strict";var r=n(68608),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not an object")}},3648:function(e,t,n){"use strict";var r=n(92064);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},66056:function(e,t,n){"use strict";var r=n(7608).forEach,o=n(54888)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},9980:function(e,t,n){"use strict";var r=n(21884),o=n(34580),i=n(92819),a=n(9928),u=n(84992),c=n(39496),s=n(35316),l=n(14895),f=n(74656),d=n(80068),p=Array;e.exports=function(e){var t=i(e),n=c(this),h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v;g&&(v=r(v,h>2?arguments[2]:void 0));var m,y,b,w,x,C,E=d(t),S=0;if(!E||this===p&&u(E))for(m=s(t),y=n?new this(m):p(m);m>S;S++)C=g?v(t[S],S):t[S],l(y,S,C);else for(y=n?new this:[],x=(w=f(t,E)).next;!(b=o(x,w)).done;S++)C=g?a(w,v,[b.value,S],!0):b.value,l(y,S,C);return y.length=S,y}},77464:function(e,t,n){"use strict";var r=n(30445),o=n(24180),i=n(35316),a=function(e){return function(t,n,a){var u=r(t),c=i(u);if(0===c)return!e&&-1;var s,l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},7608:function(e,t,n){"use strict";var r=n(21884),o=n(29252),i=n(22899),a=n(92819),u=n(35316),c=n(94872),s=o([].push),l=function(e){var t=1===e,n=2===e,o=3===e,l=4===e,f=6===e,d=7===e,p=5===e||f;return function(h,v,g,m){for(var y,b,w=a(h),x=i(w),C=u(x),E=r(v,g),S=0,_=m||c,k=t?_(h,C):n||d?_(h,0):void 0;C>S;S++)if((p||S in x)&&(b=E(y=x[S],S,w),e))if(t)k[S]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:s(k,y)}else switch(e){case 4:return!1;case 7:s(k,y)}return f?-1:o||l?l:k}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},85384:function(e,t,n){"use strict";var r=n(92064),o=n(23336),i=n(23896),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},54888:function(e,t,n){"use strict";var r=n(92064);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},16460:function(e,t,n){"use strict";var r=n(20028),o=n(92819),i=n(22899),a=n(35316),u=TypeError,c="Reduce of empty array with no initial value",s=function(e){return function(t,n,s,l){var f=o(t),d=i(f),p=a(f);if(r(n),0===p&&s<2)throw new u(c);var h=e?p-1:0,v=e?-1:1;if(s<2)for(;;){if(h in d){l=d[h],h+=v;break}if(h+=v,e?h<0:p<=h)throw new u(c)}for(;e?h>=0:p>h;h+=v)h in d&&(l=n(l,d[h],h,f));return l}};e.exports={left:s(!1),right:s(!0)}},1716:function(e,t,n){"use strict";var r=n(99172),o=n(33204),i=TypeError,a=Object.getOwnPropertyDescriptor,u=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=u?function(e,t){if(o(e)&&!a(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},70940:function(e,t,n){"use strict";var r=n(29252);e.exports=r([].slice)},43864:function(e,t,n){"use strict";var r=n(70940),o=Math.floor,i=function(e,t){var n=e.length;if(n<8)for(var a,u,c=1;c<n;){for(u=c,a=e[c];u&&t(e[u-1],a)>0;)e[u]=e[--u];u!==c++&&(e[u]=a)}else for(var s=o(n/2),l=i(r(e,0,s),t),f=i(r(e,s),t),d=l.length,p=f.length,h=0,v=0;h<d||v<p;)e[h+v]=h<d&&v<p?t(l[h],f[v])<=0?l[h++]:f[v++]:h<d?l[h++]:f[v++];return e};e.exports=i},22556:function(e,t,n){"use strict";var r=n(33204),o=n(39496),i=n(68608),a=n(23336)("species"),u=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(o(t)&&(t===u||r(t.prototype))||i(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?u:t}},94872:function(e,t,n){"use strict";var r=n(22556);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},9928:function(e,t,n){"use strict";var r=n(42032),o=n(45872);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},29592:function(e){"use strict";e.exports=function(e,t){return 1===t?function(t,n){return t[e](n)}:function(t,n,r){return t[e](n,r)}}},70347:function(e,t,n){"use strict";var r=n(23336)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!o)return!1}catch(e){return!1}var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},47936:function(e,t,n){"use strict";var r=n(29252),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},60636:function(e,t,n){"use strict";var r=n(26744),o=n(38536),i=n(47936),a=n(23336)("toStringTag"),u=Object,c="Arguments"===i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=u(e),a))?n:c?i(t):"Object"===(r=i(t))&&o(t.callee)?"Arguments":r}},63928:function(e,t,n){"use strict";var r=n(4488),o=n(56968),i=n(48104),a=n(21884),u=n(6952),c=n(19511),s=n(75799),l=n(536),f=n(73848),d=n(13120),p=n(99172),h=n(70992).fastKey,v=n(2344),g=v.set,m=v.getterFor;e.exports={getConstructor:function(e,t,n,l){var f=e((function(e,o){u(e,d),g(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),p||(e.size=0),c(o)||s(o,e[l],{that:e,AS_ENTRIES:n})})),d=f.prototype,v=m(t),y=function(e,t,n){var r,o,i=v(e),a=b(e,t);return a?a.value=n:(i.last=a={index:o=h(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),p?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},b=function(e,t){var n,r=v(e),o=h(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key===t)return n};return i(d,{clear:function(){for(var e=v(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=void 0),t=t.next;e.first=e.last=void 0,e.index=r(null),p?e.size=0:this.size=0},delete:function(e){var t=this,n=v(t),r=b(t,e);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first===r&&(n.first=o),n.last===r&&(n.last=i),p?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=v(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),i(d,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),p&&o(d,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(e,t,n){var r=t+" Iterator",o=m(t),i=m(r);l(e,t,(function(e,t){g(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?f("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),d(t)}}},46072:function(e,t,n){"use strict";var r=n(33952),o=n(85216),i=n(70992),a=n(92064),u=n(20896),c=n(75799),s=n(6952),l=n(38536),f=n(68608),d=n(19511),p=n(35836),h=n(12280).f,v=n(7608).forEach,g=n(99172),m=n(2344),y=m.set,b=m.getterFor;e.exports=function(e,t,n){var m,w=-1!==e.indexOf("Map"),x=-1!==e.indexOf("Weak"),C=w?"set":"add",E=o[e],S=E&&E.prototype,_={};if(g&&l(E)&&(x||S.forEach&&!a((function(){(new E).entries().next()})))){var k=(m=t((function(t,n){y(s(t,k),{type:e,collection:new E}),d(n)||c(n,t[C],{that:t,AS_ENTRIES:w})}))).prototype,A=b(e);v(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"===e||"set"===e;!(e in S)||x&&"clear"===e||u(k,e,(function(n,r){var o=A(this).collection;if(!t&&x&&!f(n))return"get"===e&&void 0;var i=o[e](0===n?0:n,r);return t?this:i}))})),x||h(k,"size",{configurable:!0,get:function(){return A(this).collection.size}})}else m=n.getConstructor(t,e,w,C),i.enable();return p(m,e,!1,!0),_[e]=m,r({global:!0,forced:!0},_),x||n.setStrong(m,e,w),m}},1100:function(e,t,n){"use strict";var r=n(34664),o=n(7876),i=n(91008),a=n(12280);e.exports=function(e,t,n){for(var u=o(t),c=a.f,s=i.f,l=0;l<u.length;l++){var f=u[l];r(e,f)||n&&r(n,f)||c(e,f,s(t,f))}}},60660:function(e,t,n){"use strict";var r=n(23336)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},72480:function(e,t,n){"use strict";var r=n(92064);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},73848:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},20896:function(e,t,n){"use strict";var r=n(99172),o=n(12280),i=n(48981);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},48981:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},14895:function(e,t,n){"use strict";var r=n(99172),o=n(12280),i=n(48981);e.exports=function(e,t,n){r?o.f(e,t,i(0,n)):e[t]=n}},67276:function(e,t,n){"use strict";var r=n(29252),o=n(92064),i=n(9960).start,a=RangeError,u=isFinite,c=Math.abs,s=Date.prototype,l=s.toISOString,f=r(s.getTime),d=r(s.getUTCDate),p=r(s.getUTCFullYear),h=r(s.getUTCHours),v=r(s.getUTCMilliseconds),g=r(s.getUTCMinutes),m=r(s.getUTCMonth),y=r(s.getUTCSeconds);e.exports=o((function(){return"0385-07-25T07:06:39.999Z"!==l.call(new Date(-50000000000001))}))||!o((function(){l.call(new Date(NaN))}))?function(){if(!u(f(this)))throw new a("Invalid time value");var e=this,t=p(e),n=v(e),r=t<0?"-":t>9999?"+":"";return r+i(c(t),r?6:4,0)+"-"+i(m(e)+1,2,0)+"-"+i(d(e),2,0)+"T"+i(h(e),2,0)+":"+i(g(e),2,0)+":"+i(y(e),2,0)+"."+i(n,3,0)+"Z"}:l},56968:function(e,t,n){"use strict";var r=n(12280);e.exports=function(e,t,n){return r.f(e,t,n)}},55424:function(e,t,n){"use strict";var r=n(20896);e.exports=function(e,t,n,o){return o&&o.enumerable?e[t]=n:r(e,t,n),e}},48104:function(e,t,n){"use strict";var r=n(55424);e.exports=function(e,t,n){for(var o in t)n&&n.unsafe&&e[o]?e[o]=t[o]:r(e,o,t[o],n);return e}},44408:function(e,t,n){"use strict";var r=n(85216),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},86940:function(e,t,n){"use strict";var r=n(48944),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw new o("Cannot delete property "+r(t)+" of "+r(e))}},99172:function(e,t,n){"use strict";var r=n(92064);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},21940:function(e,t,n){"use strict";var r=n(85216),o=n(68608),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},18200:function(e){"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},50472:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7587:function(e,t,n){"use strict";var r=n(72276).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},50940:function(e,t,n){"use strict";var r=n(35924),o=n(91432);e.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},77352:function(e){"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},35924:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},86028:function(e,t,n){"use strict";var r=n(72276);e.exports=/MSIE|Trident/.test(r)},38792:function(e,t,n){"use strict";var r=n(72276);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},56772:function(e,t,n){"use strict";var r=n(72276);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},91432:function(e,t,n){"use strict";var r=n(85216),o=n(47936);e.exports="process"===o(r.process)},51824:function(e,t,n){"use strict";var r=n(72276);e.exports=/web0s(?!.*chrome)/i.test(r)},72276:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},23896:function(e,t,n){"use strict";var r,o,i=n(85216),a=n(72276),u=i.process,c=i.Deno,s=u&&u.versions||c&&c.version,l=s&&s.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},83624:function(e,t,n){"use strict";var r=n(72276).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},63620:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},69492:function(e,t,n){"use strict";var r=n(29252),o=Error,i=r("".replace),a=String(new o("zxcasd").stack),u=/\n\s*at [^:]*:[^\n]*/,c=u.test(a);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=i(e,u,"");return e}},69035:function(e,t,n){"use strict";var r=n(20896),o=n(69492),i=n(91376),a=Error.captureStackTrace;e.exports=function(e,t,n,u){i&&(a?a(e,t):r(e,"stack",o(n,u)))}},91376:function(e,t,n){"use strict";var r=n(92064),o=n(48981);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},33952:function(e,t,n){"use strict";var r=n(85216),o=n(79867),i=n(61248),a=n(38536),u=n(91008).f,c=n(88536),s=n(19832),l=n(21884),f=n(20896),d=n(34664);n(99284);var p=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return o(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,o,h,v,g,m,y,b,w,x=e.target,C=e.global,E=e.stat,S=e.proto,_=C?r:E?r[x]:r[x]&&r[x].prototype,k=C?s:s[x]||f(s,x,{})[x],A=k.prototype;for(v in t)o=!(n=c(C?v:x+(E?".":"#")+v,e.forced))&&_&&d(_,v),m=k[v],o&&(y=e.dontCallGetSet?(w=u(_,v))&&w.value:_[v]),g=o&&y?y:t[v],(n||S||typeof m!=typeof g)&&(b=e.bind&&o?l(g,r):e.wrap&&o?p(g):S&&a(g)?i(g):g,(e.sham||g&&g.sham||m&&m.sham)&&f(b,"sham",!0),f(k,v,b),S&&(d(s,h=x+"Prototype")||f(s,h,{}),f(s[h],v,g),e.real&&A&&(n||!A[v])&&f(A,v,g)))}},92064:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},69380:function(e,t,n){"use strict";var r=n(92064);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},79867:function(e,t,n){"use strict";var r=n(25200),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},21884:function(e,t,n){"use strict";var r=n(61248),o=n(20028),i=n(25200),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},25200:function(e,t,n){"use strict";var r=n(92064);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},5404:function(e,t,n){"use strict";var r=n(29252),o=n(20028),i=n(68608),a=n(34664),u=n(70940),c=n(25200),s=Function,l=r([].concat),f=r([].join),d={};e.exports=c?s.bind:function(e){var t=o(this),n=t.prototype,r=u(arguments,1),c=function(){var n=l(r,u(arguments));return this instanceof c?function(e,t,n){if(!a(d,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";d[t]=s("C,a","return new C("+f(r,",")+")")}return d[t](e,n)}(t,n.length,n):t.apply(e,n)};return i(n)&&(c.prototype=n),c}},34580:function(e,t,n){"use strict";var r=n(25200),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},13564:function(e,t,n){"use strict";var r=n(99172),o=n(34664),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,s=u&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},97864:function(e,t,n){"use strict";var r=n(29252),o=n(20028);e.exports=function(e,t,n){try{return r(o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},61248:function(e,t,n){"use strict";var r=n(47936),o=n(29252);e.exports=function(e){if("Function"===r(e))return o(e)}},29252:function(e,t,n){"use strict";var r=n(25200),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);e.exports=r?a:function(e){return function(){return i.apply(e,arguments)}}},46180:function(e,t,n){"use strict";var r=n(85216),o=n(19832);e.exports=function(e,t){var n=o[e+"Prototype"],i=n&&n[t];if(i)return i;var a=r[e],u=a&&a.prototype;return u&&u[t]}},23464:function(e,t,n){"use strict";var r=n(19832),o=n(85216),i=n(38536),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},69360:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},80068:function(e,t,n){"use strict";var r=n(60636),o=n(31636),i=n(19511),a=n(97256),u=n(23336)("iterator");e.exports=function(e){if(!i(e))return o(e,u)||o(e,"@@iterator")||a[r(e)]}},74656:function(e,t,n){"use strict";var r=n(34580),o=n(20028),i=n(42032),a=n(48944),u=n(80068),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(o(n))return i(r(n,e));throw new c(a(e)+" is not iterable")}},13676:function(e,t,n){"use strict";var r=n(29252),o=n(33204),i=n(38536),a=n(47936),u=n(39352),c=r([].push);e.exports=function(e){if(i(e))return e;if(o(e)){for(var t=e.length,n=[],r=0;r<t;r++){var s=e[r];"string"==typeof s?c(n,s):"number"!=typeof s&&"Number"!==a(s)&&"String"!==a(s)||c(n,u(s))}var l=n.length,f=!0;return function(e,t){if(f)return f=!1,t;if(o(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},31636:function(e,t,n){"use strict";var r=n(20028),o=n(19511);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},82308:function(e,t,n){"use strict";var r=n(20028),o=n(42032),i=n(34580),a=n(45016),u=n(69360),c="Invalid size",s=RangeError,l=TypeError,f=Math.max,d=function(e,t){this.set=e,this.size=f(t,0),this.has=r(e.has),this.keys=r(e.keys)};d.prototype={getIterator:function(){return u(o(i(this.keys,this.set)))},includes:function(e){return i(this.has,this.set,e)}},e.exports=function(e){o(e);var t=+e.size;if(t!=t)throw new l(c);var n=a(t);if(n<0)throw new s(c);return new d(e,n)}},85216:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},34664:function(e,t,n){"use strict";var r=n(29252),o=n(92819),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},13328:function(e){"use strict";e.exports={}},3320:function(e){"use strict";e.exports=function(e,t){}},67896:function(e,t,n){"use strict";var r=n(23464);e.exports=r("document","documentElement")},124:function(e,t,n){"use strict";var r=n(99172),o=n(92064),i=n(21940);e.exports=!r&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},22899:function(e,t,n){"use strict";var r=n(29252),o=n(92064),i=n(47936),a=Object,u=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?u(e,""):a(e)}:a},39376:function(e,t,n){"use strict";var r=n(29252),o=n(38536),i=n(99284),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},19055:function(e,t,n){"use strict";var r=n(68608),o=n(20896);e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},70992:function(e,t,n){"use strict";var r=n(33952),o=n(29252),i=n(13328),a=n(68608),u=n(34664),c=n(12280).f,s=n(11600),l=n(41920),f=n(85432),d=n(66696),p=n(69380),h=!1,v=d("meta"),g=0,m=function(e){c(e,v,{value:{objectID:"O"+g++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},h=!0;var e=s.f,t=o([].splice),n={};n[v]=1,e(n).length&&(s.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===v){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!u(e,v)){if(!f(e))return"F";if(!t)return"E";m(e)}return e[v].objectID},getWeakData:function(e,t){if(!u(e,v)){if(!f(e))return!0;if(!t)return!1;m(e)}return e[v].weakData},onFreeze:function(e){return p&&h&&f(e)&&!u(e,v)&&m(e),e}};i[v]=!0},2344:function(e,t,n){"use strict";var r,o,i,a=n(23184),u=n(85216),c=n(68608),s=n(20896),l=n(34664),f=n(99284),d=n(80924),p=n(13328),h="Object already initialized",v=u.TypeError,g=u.WeakMap;if(a||f.state){var m=f.state||(f.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,r=function(e,t){if(m.has(e))throw new v(h);return t.facade=e,m.set(e,t),t},o=function(e){return m.get(e)||{}},i=function(e){return m.has(e)}}else{var y=d("state");p[y]=!0,r=function(e,t){if(l(e,y))throw new v(h);return t.facade=e,s(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw new v("Incompatible receiver, "+e+" required");return n}}}},84992:function(e,t,n){"use strict";var r=n(23336),o=n(97256),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},33204:function(e,t,n){"use strict";var r=n(47936);e.exports=Array.isArray||function(e){return"Array"===r(e)}},38536:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},39496:function(e,t,n){"use strict";var r=n(29252),o=n(92064),i=n(38536),a=n(60636),u=n(23464),c=n(39376),s=function(){},l=u("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),p=!f.test(s),h=function(e){if(!i(e))return!1;try{return l(s,[],e),!0}catch(e){return!1}},v=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(f,c(e))}catch(e){return!0}};v.sham=!0,e.exports=!l||o((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?v:h},88536:function(e,t,n){"use strict";var r=n(92064),o=n(38536),i=/#|\.prototype\./,a=function(e,t){var n=c[u(e)];return n===l||n!==s&&(o(t)?r(t):!!t)},u=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},19511:function(e){"use strict";e.exports=function(e){return null==e}},68608:function(e,t,n){"use strict";var r=n(38536);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},97432:function(e,t,n){"use strict";var r=n(68608);e.exports=function(e){return r(e)||null===e}},31016:function(e){"use strict";e.exports=!0},9300:function(e,t,n){"use strict";var r=n(68608),o=n(47936),i=n(23336)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"===o(e))}},95376:function(e,t,n){"use strict";var r=n(23464),o=n(38536),i=n(82360),a=n(46416),u=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,u(e))}},63187:function(e,t,n){"use strict";var r=n(34580);e.exports=function(e,t,n){for(var o,i,a=n?e:e.iterator,u=e.next;!(o=r(u,a)).done;)if(void 0!==(i=t(o.value)))return i}},75799:function(e,t,n){"use strict";var r=n(21884),o=n(34580),i=n(42032),a=n(48944),u=n(84992),c=n(35316),s=n(82360),l=n(74656),f=n(80068),d=n(45872),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},v=h.prototype;e.exports=function(e,t,n){var g,m,y,b,w,x,C,E=n&&n.that,S=!(!n||!n.AS_ENTRIES),_=!(!n||!n.IS_RECORD),k=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),O=r(t,E),N=function(e){return g&&d(g,"normal",e),new h(!0,e)},M=function(e){return S?(i(e),A?O(e[0],e[1],N):O(e[0],e[1])):A?O(e,N):O(e)};if(_)g=e.iterator;else if(k)g=e;else{if(!(m=f(e)))throw new p(a(e)+" is not iterable");if(u(m)){for(y=0,b=c(e);b>y;y++)if((w=M(e[y]))&&s(v,w))return w;return new h(!1)}g=l(e,m)}for(x=_?e.next:g.next;!(C=o(x,g)).done;){try{w=M(C.value)}catch(e){d(g,"throw",e)}if("object"==typeof w&&w&&s(v,w))return w}return new h(!1)}},45872:function(e,t,n){"use strict";var r=n(34580),o=n(42032),i=n(31636);e.exports=function(e,t,n){var a,u;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){u=!0,a=e}if("throw"===t)throw n;if(u)throw a;return o(a),n}},39976:function(e,t,n){"use strict";var r=n(72224).IteratorPrototype,o=n(4488),i=n(48981),a=n(35836),u=n(97256),c=function(){return this};e.exports=function(e,t,n,s){var l=t+" Iterator";return e.prototype=o(r,{next:i(+!s,n)}),a(e,l,!1,!0),u[l]=c,e}},536:function(e,t,n){"use strict";var r=n(33952),o=n(34580),i=n(31016),a=n(13564),u=n(38536),c=n(39976),s=n(27800),l=n(92288),f=n(35836),d=n(20896),p=n(55424),h=n(23336),v=n(97256),g=n(72224),m=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,x=h("iterator"),C="keys",E="values",S="entries",_=function(){return this};e.exports=function(e,t,n,a,h,g,k){c(n,t,a);var A,O,N,M=function(e){if(e===h&&D)return D;if(!w&&e&&e in I)return I[e];switch(e){case C:case E:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",P=!1,I=e.prototype,L=I[x]||I["@@iterator"]||h&&I[h],D=!w&&L||M(h),j="Array"===t&&I.entries||L;if(j&&(A=s(j.call(new e)))!==Object.prototype&&A.next&&(i||s(A)===b||(l?l(A,b):u(A[x])||p(A,x,_)),f(A,T,!0,!0),i&&(v[T]=_)),m&&h===E&&L&&L.name!==E&&(!i&&y?d(I,"name",E):(P=!0,D=function(){return o(L,this)})),h)if(O={values:M(E),keys:g?D:M(C),entries:M(S)},k)for(N in O)(w||P||!(N in I))&&p(I,N,O[N]);else r({target:t,proto:!0,forced:w||P},O);return i&&!k||I[x]===D||p(I,x,D,{name:h}),v[t]=D,O}},72224:function(e,t,n){"use strict";var r,o,i,a=n(92064),u=n(38536),c=n(68608),s=n(4488),l=n(27800),f=n(55424),d=n(23336),p=n(31016),h=d("iterator"),v=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):v=!0),!c(r)||a((function(){var e={};return r[h].call(e)!==e}))?r={}:p&&(r=s(r)),u(r[h])||f(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},97256:function(e){"use strict";e.exports={}},35316:function(e,t,n){"use strict";var r=n(84596);e.exports=function(e){return r(e.length)}},2408:function(e,t,n){"use strict";var r=n(23464),o=n(29592),i=r("Map");e.exports={Map:i,set:o("set",2),get:o("get",1),has:o("has",1),remove:o("delete",1),proto:i.prototype}},90024:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},39836:function(e,t,n){"use strict";var r,o,i,a,u,c=n(85216),s=n(94604),l=n(21884),f=n(93368).set,d=n(20984),p=n(56772),h=n(38792),v=n(51824),g=n(91432),m=c.MutationObserver||c.WebKitMutationObserver,y=c.document,b=c.process,w=c.Promise,x=s("queueMicrotask");if(!x){var C=new d,E=function(){var e,t;for(g&&(e=b.domain)&&e.exit();t=C.get();)try{t()}catch(e){throw C.head&&r(),e}e&&e.enter()};p||g||v||!m||!y?!h&&w&&w.resolve?((a=w.resolve(void 0)).constructor=w,u=l(a.then,a),r=function(){u(E)}):g?r=function(){b.nextTick(E)}:(f=l(f,c),r=function(){f(E)}):(o=!0,i=y.createTextNode(""),new m(E).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),x=function(e){C.head||r(),C.add(e)}}e.exports=x},71243:function(e,t,n){"use strict";var r=n(20028),o=TypeError,i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new o("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},93080:function(e,t,n){"use strict";var r=n(39352);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},29720:function(e,t,n){"use strict";var r=n(9300),o=TypeError;e.exports=function(e){if(r(e))throw new o("The method doesn't accept regular expressions");return e}},24828:function(e,t,n){"use strict";var r=n(85216),o=n(92064),i=n(29252),a=n(39352),u=n(36832).trim,c=n(25276),s=r.parseInt,l=r.Symbol,f=l&&l.iterator,d=/^[+-]?0x/i,p=i(d.exec),h=8!==s(c+"08")||22!==s(c+"0x16")||f&&!o((function(){s(Object(f))}));e.exports=h?function(e,t){var n=u(a(e));return s(n,t>>>0||(p(d,n)?16:10))}:s},88980:function(e,t,n){"use strict";var r=n(99172),o=n(29252),i=n(34580),a=n(92064),u=n(9547),c=n(74060),s=n(66500),l=n(92819),f=n(22899),d=Object.assign,p=Object.defineProperty,h=o([].concat);e.exports=!d||a((function(){if(r&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!==d({},e)[n]||u(d({},t)).join("")!==o}))?function(e,t){for(var n=l(e),o=arguments.length,a=1,d=c.f,p=s.f;o>a;)for(var v,g=f(arguments[a++]),m=d?h(u(g),d(g)):u(g),y=m.length,b=0;y>b;)v=m[b++],r&&!i(p,g,v)||(n[v]=g[v]);return n}:d},4488:function(e,t,n){"use strict";var r,o=n(42032),i=n(86452),a=n(63620),u=n(13328),c=n(67896),s=n(21940),l=n(80924),f="prototype",d="script",p=l("IE_PROTO"),h=function(){},v=function(e){return"<"+d+">"+e+"</"+d+">"},g=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;m="undefined"!=typeof document?document.domain&&r?g(r):(t=s("iframe"),n="java"+d+":",t.style.display="none",c.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F):g(r);for(var o=a.length;o--;)delete m[f][a[o]];return m()};u[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[f]=o(e),n=new h,h[f]=null,n[p]=e):n=m(),void 0===t?n:i.f(n,t)}},86452:function(e,t,n){"use strict";var r=n(99172),o=n(63109),i=n(12280),a=n(42032),u=n(30445),c=n(9547);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);for(var n,r=u(t),o=c(t),s=o.length,l=0;s>l;)i.f(e,n=o[l++],r[n]);return e}},12280:function(e,t,n){"use strict";var r=n(99172),o=n(124),i=n(63109),a=n(42032),u=n(42319),c=TypeError,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",p="writable";t.f=r?i?function(e,t,n){if(a(e),t=u(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=l(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:f in n?n[f]:r[f],writable:!1})}return s(e,t,n)}:s:function(e,t,n){if(a(e),t=u(t),a(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},91008:function(e,t,n){"use strict";var r=n(99172),o=n(34580),i=n(66500),a=n(48981),u=n(30445),c=n(42319),s=n(34664),l=n(124),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=u(e),t=c(t),l)try{return f(e,t)}catch(e){}if(s(e,t))return a(!o(i.f,e,t),e[t])}},41920:function(e,t,n){"use strict";var r=n(47936),o=n(30445),i=n(11600).f,a=n(70940),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return u&&"Window"===r(e)?function(e){try{return i(e)}catch(e){return a(u)}}(e):i(o(e))}},11600:function(e,t,n){"use strict";var r=n(92884),o=n(63620).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},74060:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},27800:function(e,t,n){"use strict";var r=n(34664),o=n(38536),i=n(92819),a=n(80924),u=n(72480),c=a("IE_PROTO"),s=Object,l=s.prototype;e.exports=u?s.getPrototypeOf:function(e){var t=i(e);if(r(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof s?l:null}},85432:function(e,t,n){"use strict";var r=n(92064),o=n(68608),i=n(47936),a=n(3648),u=Object.isExtensible,c=r((function(){u(1)}));e.exports=c||a?function(e){return!!o(e)&&((!a||"ArrayBuffer"!==i(e))&&(!u||u(e)))}:u},82360:function(e,t,n){"use strict";var r=n(29252);e.exports=r({}.isPrototypeOf)},92884:function(e,t,n){"use strict";var r=n(29252),o=n(34664),i=n(30445),a=n(77464).indexOf,u=n(13328),c=r([].push);e.exports=function(e,t){var n,r=i(e),s=0,l=[];for(n in r)!o(u,n)&&o(r,n)&&c(l,n);for(;t.length>s;)o(r,n=t[s++])&&(~a(l,n)||c(l,n));return l}},9547:function(e,t,n){"use strict";var r=n(92884),o=n(63620);e.exports=Object.keys||function(e){return r(e,o)}},66500:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},92288:function(e,t,n){"use strict";var r=n(97864),o=n(68608),i=n(69952),a=n(31459);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),a(r),o(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},82768:function(e,t,n){"use strict";var r=n(99172),o=n(92064),i=n(29252),a=n(27800),u=n(9547),c=n(30445),s=i(n(66500).f),l=i([].push),f=r&&o((function(){var e=Object.create(null);return e[2]=2,!s(e,2)})),d=function(e){return function(t){for(var n,o=c(t),i=u(o),d=f&&null===a(o),p=i.length,h=0,v=[];p>h;)n=i[h++],r&&!(d?n in o:s(o,n))||l(v,e?[n,o[n]]:o[n]);return v}};e.exports={entries:d(!0),values:d(!1)}},71616:function(e,t,n){"use strict";var r=n(26744),o=n(60636);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},10416:function(e,t,n){"use strict";var r=n(34580),o=n(38536),i=n(68608),a=TypeError;e.exports=function(e,t){var n,u;if("string"===t&&o(n=e.toString)&&!i(u=r(n,e)))return u;if(o(n=e.valueOf)&&!i(u=r(n,e)))return u;if("string"!==t&&o(n=e.toString)&&!i(u=r(n,e)))return u;throw new a("Can't convert object to primitive value")}},7876:function(e,t,n){"use strict";var r=n(23464),o=n(29252),i=n(11600),a=n(74060),u=n(42032),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(u(e)),n=a.f;return n?c(t,n(e)):t}},19832:function(e){"use strict";e.exports={}},35240:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},35524:function(e,t,n){"use strict";var r=n(85216),o=n(50728),i=n(38536),a=n(88536),u=n(39376),c=n(23336),s=n(50940),l=n(35924),f=n(31016),d=n(23896),p=o&&o.prototype,h=c("species"),v=!1,g=i(r.PromiseRejectionEvent),m=a("Promise",(function(){var e=u(o),t=e!==String(o);if(!t&&66===d)return!0;if(f&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new o((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(v=n.then((function(){}))instanceof r))return!0}return!t&&(s||l)&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:v}},50728:function(e,t,n){"use strict";var r=n(85216);e.exports=r.Promise},7211:function(e,t,n){"use strict";var r=n(42032),o=n(68608),i=n(71243);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},84880:function(e,t,n){"use strict";var r=n(50728),o=n(70347),i=n(35524).CONSTRUCTOR;e.exports=i||!o((function(e){r.all(e).then(void 0,(function(){}))}))},20984:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},69952:function(e,t,n){"use strict";var r=n(19511),o=TypeError;e.exports=function(e){if(r(e))throw new o("Can't call method on "+e);return e}},94604:function(e,t,n){"use strict";var r=n(85216),o=n(99172),i=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!o)return r[e];var t=i(r,e);return t&&t.value}},98084:function(e,t,n){"use strict";var r,o=n(85216),i=n(79867),a=n(38536),u=n(77352),c=n(72276),s=n(70940),l=n(75872),f=o.Function,d=/MSIE .\./.test(c)||u&&((r=o.Bun.version.split(".")).length<3||"0"===r[0]&&(r[1]<3||"3"===r[1]&&"0"===r[2]));e.exports=function(e,t){var n=t?2:1;return d?function(r,o){var u=l(arguments.length,1)>n,c=a(r)?r:f(r),d=u?s(arguments,n):[],p=u?function(){i(c,this,d)}:c;return t?e(p,o):e(p)}:e}},94440:function(e,t,n){"use strict";var r=n(68152),o=n(71836),i=r.Set,a=r.add;e.exports=function(e){var t=new i;return o(e,(function(e){a(t,e)})),t}},62396:function(e,t,n){"use strict";var r=n(92292),o=n(68152),i=n(94440),a=n(30032),u=n(82308),c=n(71836),s=n(63187),l=o.has,f=o.remove;e.exports=function(e){var t=r(this),n=u(e),o=i(t);return a(t)<=n.size?c(t,(function(e){n.includes(e)&&f(o,e)})):s(n.getIterator(),(function(e){l(t,e)&&f(o,e)})),o}},68152:function(e,t,n){"use strict";var r=n(23464),o=n(29592),i=r("Set"),a=i.prototype;e.exports={Set:i,add:o("add",1),has:o("has",1),remove:o("delete",1),proto:a}},50920:function(e,t,n){"use strict";var r=n(92292),o=n(68152),i=n(30032),a=n(82308),u=n(71836),c=n(63187),s=o.Set,l=o.add,f=o.has;e.exports=function(e){var t=r(this),n=a(e),o=new s;return i(t)>n.size?c(n.getIterator(),(function(e){f(t,e)&&l(o,e)})):u(t,(function(e){n.includes(e)&&l(o,e)})),o}},27968:function(e,t,n){"use strict";var r=n(92292),o=n(68152).has,i=n(30032),a=n(82308),u=n(71836),c=n(63187),s=n(45872);e.exports=function(e){var t=r(this),n=a(e);if(i(t)<=n.size)return!1!==u(t,(function(e){if(n.includes(e))return!1}),!0);var l=n.getIterator();return!1!==c(l,(function(e){if(o(t,e))return s(l,"normal",!1)}))}},89972:function(e,t,n){"use strict";var r=n(92292),o=n(30032),i=n(71836),a=n(82308);e.exports=function(e){var t=r(this),n=a(e);return!(o(t)>n.size)&&!1!==i(t,(function(e){if(!n.includes(e))return!1}),!0)}},93472:function(e,t,n){"use strict";var r=n(92292),o=n(68152).has,i=n(30032),a=n(82308),u=n(63187),c=n(45872);e.exports=function(e){var t=r(this),n=a(e);if(i(t)<n.size)return!1;var s=n.getIterator();return!1!==u(s,(function(e){if(!o(t,e))return c(s,"normal",!1)}))}},71836:function(e,t,n){"use strict";var r=n(63187);e.exports=function(e,t,n){return n?r(e.keys(),t,!0):e.forEach(t)}},94864:function(e){"use strict";e.exports=function(){return!1}},30032:function(e){"use strict";e.exports=function(e){return e.size}},13120:function(e,t,n){"use strict";var r=n(23464),o=n(56968),i=n(23336),a=n(99172),u=i("species");e.exports=function(e){var t=r(e);a&&t&&!t[u]&&o(t,u,{configurable:!0,get:function(){return this}})}},58732:function(e,t,n){"use strict";var r=n(92292),o=n(68152),i=n(94440),a=n(82308),u=n(63187),c=o.add,s=o.has,l=o.remove;e.exports=function(e){var t=r(this),n=a(e).getIterator(),o=i(t);return u(n,(function(e){s(t,e)?l(o,e):c(o,e)})),o}},35836:function(e,t,n){"use strict";var r=n(26744),o=n(12280).f,i=n(20896),a=n(34664),u=n(71616),c=n(23336)("toStringTag");e.exports=function(e,t,n,s){var l=n?e:e&&e.prototype;l&&(a(l,c)||o(l,c,{configurable:!0,value:t}),s&&!r&&i(l,"toString",u))}},56240:function(e,t,n){"use strict";var r=n(92292),o=n(68152).add,i=n(94440),a=n(82308),u=n(63187);e.exports=function(e){var t=r(this),n=a(e).getIterator(),c=i(t);return u(n,(function(e){o(c,e)})),c}},80924:function(e,t,n){"use strict";var r=n(68852),o=n(66696),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},99284:function(e,t,n){"use strict";var r=n(31016),o=n(85216),i=n(44408),a="__core-js_shared__",u=e.exports=o[a]||i(a,{});(u.versions||(u.versions=[])).push({version:"3.37.0",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"})},68852:function(e,t,n){"use strict";var r=n(99284);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},84928:function(e,t,n){"use strict";var r=n(42032),o=n(39556),i=n(19511),a=n(23336)("species");e.exports=function(e,t){var n,u=r(e).constructor;return void 0===u||i(n=r(u)[a])?t:o(n)}},16392:function(e,t,n){"use strict";var r=n(29252),o=n(45016),i=n(39352),a=n(69952),u=r("".charAt),c=r("".charCodeAt),s=r("".slice),l=function(e){return function(t,n){var r,l,f=i(a(t)),d=o(n),p=f.length;return d<0||d>=p?e?"":void 0:(r=c(f,d))<55296||r>56319||d+1===p||(l=c(f,d+1))<56320||l>57343?e?u(f,d):r:e?s(f,d,d+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},9960:function(e,t,n){"use strict";var r=n(29252),o=n(84596),i=n(39352),a=n(75448),u=n(69952),c=r(a),s=r("".slice),l=Math.ceil,f=function(e){return function(t,n,r){var a,f,d=i(u(t)),p=o(n),h=d.length,v=void 0===r?" ":i(r);return p<=h||""===v?d:((f=c(v,l((a=p-h)/v.length))).length>a&&(f=s(f,0,a)),e?d+f:f+d)}};e.exports={start:f(!1),end:f(!0)}},75448:function(e,t,n){"use strict";var r=n(45016),o=n(39352),i=n(69952),a=RangeError;e.exports=function(e){var t=o(i(this)),n="",u=r(e);if(u<0||u===1/0)throw new a("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(t+=t))1&u&&(n+=t);return n}},74144:function(e,t,n){"use strict";var r=n(13564).PROPER,o=n(92064),i=n(25276);e.exports=function(e){return o((function(){return!!i[e]()||"​᠎"!=="​᠎"[e]()||r&&i[e].name!==e}))}},36832:function(e,t,n){"use strict";var r=n(29252),o=n(69952),i=n(39352),a=n(25276),u=r("".replace),c=RegExp("^["+a+"]+"),s=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(e){return function(t){var n=i(o(t));return 1&e&&(n=u(n,c,"")),2&e&&(n=u(n,s,"$1")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},25235:function(e,t,n){"use strict";var r=n(23896),o=n(92064),i=n(85216).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},50072:function(e,t,n){"use strict";var r=n(34580),o=n(23464),i=n(23336),a=n(55424);e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,u=i("toPrimitive");t&&!t[u]&&a(t,u,(function(e){return r(n,this)}),{arity:1})}},95080:function(e,t,n){"use strict";var r=n(23464),o=n(29252),i=r("Symbol"),a=i.keyFor,u=o(i.prototype.valueOf);e.exports=i.isRegisteredSymbol||function(e){try{return void 0!==a(u(e))}catch(e){return!1}}},12636:function(e,t,n){"use strict";for(var r=n(68852),o=n(23464),i=n(29252),a=n(95376),u=n(23336),c=o("Symbol"),s=c.isWellKnownSymbol,l=o("Object","getOwnPropertyNames"),f=i(c.prototype.valueOf),d=r("wks"),p=0,h=l(c),v=h.length;p<v;p++)try{var g=h[p];a(c[g])&&u(g)}catch(e){}e.exports=function(e){if(s&&s(e))return!0;try{for(var t=f(e),n=0,r=l(d),o=r.length;n<o;n++)if(d[r[n]]==t)return!0}catch(e){}return!1}},37780:function(e,t,n){"use strict";var r=n(25235);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},93368:function(e,t,n){"use strict";var r,o,i,a,u=n(85216),c=n(79867),s=n(21884),l=n(38536),f=n(34664),d=n(92064),p=n(67896),h=n(70940),v=n(21940),g=n(75872),m=n(56772),y=n(91432),b=u.setImmediate,w=u.clearImmediate,x=u.process,C=u.Dispatch,E=u.Function,S=u.MessageChannel,_=u.String,k=0,A={},O="onreadystatechange";d((function(){r=u.location}));var N=function(e){if(f(A,e)){var t=A[e];delete A[e],t()}},M=function(e){return function(){N(e)}},T=function(e){N(e.data)},P=function(e){u.postMessage(_(e),r.protocol+"//"+r.host)};b&&w||(b=function(e){g(arguments.length,1);var t=l(e)?e:E(e),n=h(arguments,1);return A[++k]=function(){c(t,void 0,n)},o(k),k},w=function(e){delete A[e]},y?o=function(e){x.nextTick(M(e))}:C&&C.now?o=function(e){C.now(M(e))}:S&&!m?(a=(i=new S).port2,i.port1.onmessage=T,o=s(a.postMessage,a)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!d(P)?(o=P,u.addEventListener("message",T,!1)):o=O in v("script")?function(e){p.appendChild(v("script"))[O]=function(){p.removeChild(this),N(e)}}:function(e){setTimeout(M(e),0)}),e.exports={set:b,clear:w}},24180:function(e,t,n){"use strict";var r=n(45016),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},30445:function(e,t,n){"use strict";var r=n(22899),o=n(69952);e.exports=function(e){return r(o(e))}},45016:function(e,t,n){"use strict";var r=n(90024);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},84596:function(e,t,n){"use strict";var r=n(45016),o=Math.min;e.exports=function(e){var t=r(e);return t>0?o(t,9007199254740991):0}},92819:function(e,t,n){"use strict";var r=n(69952),o=Object;e.exports=function(e){return o(r(e))}},23504:function(e,t,n){"use strict";var r=n(34580),o=n(68608),i=n(95376),a=n(31636),u=n(10416),c=n(23336),s=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,c=a(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!o(n)||i(n))return n;throw new s("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},42319:function(e,t,n){"use strict";var r=n(23504),o=n(95376);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},26744:function(e,t,n){"use strict";var r={};r[n(23336)("toStringTag")]="z",e.exports="[object z]"===String(r)},39352:function(e,t,n){"use strict";var r=n(60636),o=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},48944:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},66696:function(e,t,n){"use strict";var r=n(29252),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},46416:function(e,t,n){"use strict";var r=n(25235);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},63109:function(e,t,n){"use strict";var r=n(99172),o=n(92064);e.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},75872:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},23184:function(e,t,n){"use strict";var r=n(85216),o=n(38536),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},61084:function(e,t,n){"use strict";var r=n(19832),o=n(34664),i=n(81104),a=n(12280).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},81104:function(e,t,n){"use strict";var r=n(23336);t.f=r},23336:function(e,t,n){"use strict";var r=n(85216),o=n(68852),i=n(34664),a=n(66696),u=n(25235),c=n(46416),s=r.Symbol,l=o("wks"),f=c?s.for||s:s&&s.withoutSetter||a;e.exports=function(e){return i(l,e)||(l[e]=u&&i(s,e)?s[e]:f("Symbol."+e)),l[e]}},25276:function(e){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},59232:function(e,t,n){"use strict";var r=n(33952),o=n(82360),i=n(27800),a=n(92288),u=n(1100),c=n(4488),s=n(20896),l=n(48981),f=n(19055),d=n(69035),p=n(75799),h=n(93080),v=n(23336)("toStringTag"),g=Error,m=[].push,y=function(e,t){var n,r=o(b,this);a?n=a(new g,r?i(this):b):(n=r?this:c(b),s(n,v,"Error")),void 0!==t&&s(n,"message",h(t)),d(n,y,n.stack,1),arguments.length>2&&f(n,arguments[2]);var u=[];return p(e,m,{that:u}),s(n,"errors",u),n};a?a(y,g):u(y,g,{name:!0});var b=y.prototype=c(g.prototype,{constructor:l(1,y),message:l(1,""),name:l(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},38436:function(e,t,n){"use strict";n(59232)},22216:function(e,t,n){"use strict";var r=n(33952),o=n(92064),i=n(33204),a=n(68608),u=n(92819),c=n(35316),s=n(18200),l=n(14895),f=n(94872),d=n(85384),p=n(23336),h=n(23896),v=p("isConcatSpreadable"),g=h>=51||!o((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),m=function(e){if(!a(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,arity:1,forced:!g||!d("concat")},{concat:function(e){var t,n,r,o,i,a=u(this),d=f(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(m(i=-1===t?a:arguments[t]))for(o=c(i),s(p+o),n=0;n<o;n++,p++)n in i&&l(d,p,i[n]);else s(p+1),l(d,p++,i);return d.length=p,d}})},16408:function(e,t,n){"use strict";var r=n(33952),o=n(7608).every;r({target:"Array",proto:!0,forced:!n(54888)("every")},{every:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},64864:function(e,t,n){"use strict";var r=n(33952),o=n(7608).filter;r({target:"Array",proto:!0,forced:!n(85384)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},41008:function(e,t,n){"use strict";var r=n(33952),o=n(7608).findIndex,i=n(51472),a="findIndex",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},36952:function(e,t,n){"use strict";var r=n(33952),o=n(7608).find,i=n(51472),a="find",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},18068:function(e,t,n){"use strict";var r=n(33952),o=n(66056);r({target:"Array",proto:!0,forced:[].forEach!==o},{forEach:o})},19952:function(e,t,n){"use strict";var r=n(33952),o=n(9980);r({target:"Array",stat:!0,forced:!n(70347)((function(e){Array.from(e)}))},{from:o})},46504:function(e,t,n){"use strict";var r=n(33952),o=n(77464).includes,i=n(92064),a=n(51472);r({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},11904:function(e,t,n){"use strict";var r=n(33952),o=n(61248),i=n(77464).indexOf,a=n(54888),u=o([].indexOf),c=!!u&&1/u([1],1,-0)<0;r({target:"Array",proto:!0,forced:c||!a("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?u(this,e,t)||0:i(this,e,t)}})},45656:function(e,t,n){"use strict";n(33952)({target:"Array",stat:!0},{isArray:n(33204)})},30340:function(e,t,n){"use strict";var r=n(30445),o=n(51472),i=n(97256),a=n(2344),u=n(12280).f,c=n(536),s=n(73848),l=n(31016),f=n(99172),d="Array Iterator",p=a.set,h=a.getterFor(d);e.exports=c(Array,"Array",(function(e,t){p(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,s(void 0,!0);switch(e.kind){case"keys":return s(n,!1);case"values":return s(t[n],!1)}return s([n,t[n]],!1)}),"values");var v=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==v.name)try{u(v,"name",{value:"values"})}catch(e){}},97092:function(e,t,n){"use strict";var r=n(33952),o=n(7608).map;r({target:"Array",proto:!0,forced:!n(85384)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},91704:function(e,t,n){"use strict";var r=n(33952),o=n(16460).left,i=n(54888),a=n(23896);r({target:"Array",proto:!0,forced:!n(91432)&&a>79&&a<83||!i("reduce")},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},15863:function(e,t,n){"use strict";var r=n(33952),o=n(33204),i=n(39496),a=n(68608),u=n(24180),c=n(35316),s=n(30445),l=n(14895),f=n(23336),d=n(85384),p=n(70940),h=d("slice"),v=f("species"),g=Array,m=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,f,d=s(this),h=c(d),y=u(e,h),b=u(void 0===t?h:t,h);if(o(d)&&(n=d.constructor,(i(n)&&(n===g||o(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return p(d,y,b);for(r=new(void 0===n?g:n)(m(b-y,0)),f=0;y<b;y++,f++)y in d&&l(r,f,d[y]);return r.length=f,r}})},43408:function(e,t,n){"use strict";var r=n(33952),o=n(7608).some;r({target:"Array",proto:!0,forced:!n(54888)("some")},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},38280:function(e,t,n){"use strict";var r=n(33952),o=n(29252),i=n(20028),a=n(92819),u=n(35316),c=n(86940),s=n(39352),l=n(92064),f=n(43864),d=n(54888),p=n(7587),h=n(86028),v=n(23896),g=n(83624),m=[],y=o(m.sort),b=o(m.push),w=l((function(){m.sort(void 0)})),x=l((function(){m.sort(null)})),C=d("sort"),E=!l((function(){if(v)return v<70;if(!(p&&p>3)){if(h)return!0;if(g)return g<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:t+r,v:n})}for(m.sort((function(e,t){return t.v-e.v})),r=0;r<m.length;r++)t=m[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:w||!x||!C||!E},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(E)return void 0===e?y(t):y(t,e);var n,r,o=[],l=u(t);for(r=0;r<l;r++)r in t&&b(o,t[r]);for(f(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:s(t)>s(n)?1:-1}}(e)),n=u(o),r=0;r<n;)t[r]=o[r++];for(;r<l;)c(t,r++);return t}})},74152:function(e,t,n){"use strict";var r=n(33952),o=n(92819),i=n(24180),a=n(45016),u=n(35316),c=n(1716),s=n(18200),l=n(94872),f=n(14895),d=n(86940),p=n(85384)("splice"),h=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,p,g,m,y,b=o(this),w=u(b),x=i(e,w),C=arguments.length;for(0===C?n=r=0:1===C?(n=0,r=w-x):(n=C-2,r=v(h(a(t),0),w-x)),s(w+n-r),p=l(b,r),g=0;g<r;g++)(m=x+g)in b&&f(p,g,b[m]);if(p.length=r,n<r){for(g=x;g<w-r;g++)y=g+n,(m=g+r)in b?b[y]=b[m]:d(b,y);for(g=w;g>w-r+n;g--)d(b,g-1)}else if(n>r)for(g=w-r;g>x;g--)y=g+n-1,(m=g+r-1)in b?b[y]=b[m]:d(b,y);for(g=0;g<n;g++)b[g+x]=arguments[g+2];return c(b,w-r+n),p}})},4864:function(e,t,n){"use strict";var r=n(33952),o=n(34580),i=n(92819),a=n(23504),u=n(67276),c=n(47936);r({target:"Date",proto:!0,forced:n(92064)((function(){return null!==new Date(NaN).toJSON()||1!==o(Date.prototype.toJSON,{toISOString:function(){return 1}})}))},{toJSON:function(e){var t=i(this),n=a(t,"number");return"number"!=typeof n||isFinite(n)?"toISOString"in t||"Date"!==c(t)?t.toISOString():o(u,t):null}})},54388:function(e,t,n){"use strict";var r=n(33952),o=n(5404);r({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},58824:function(e,t,n){"use strict";var r=n(33952),o=n(23464),i=n(79867),a=n(34580),u=n(29252),c=n(92064),s=n(38536),l=n(95376),f=n(70940),d=n(13676),p=n(25235),h=String,v=o("JSON","stringify"),g=u(/./.exec),m=u("".charAt),y=u("".charCodeAt),b=u("".replace),w=u(1..toString),x=/[\uD800-\uDFFF]/g,C=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,S=!p||c((function(){var e=o("Symbol")("stringify detection");return"[null]"!==v([e])||"{}"!==v({a:e})||"{}"!==v(Object(e))})),_=c((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),k=function(e,t){var n=f(arguments),r=d(t);if(s(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(s(r)&&(t=a(r,this,h(e),t)),!l(t))return t},i(v,null,n)},A=function(e,t,n){var r=m(n,t-1),o=m(n,t+1);return g(C,e)&&!g(E,o)||g(E,e)&&!g(C,r)?"\\u"+w(y(e,0),16):e};v&&r({target:"JSON",stat:!0,arity:3,forced:S||_},{stringify:function(e,t,n){var r=f(arguments),o=i(S?k:v,null,r);return _&&"string"==typeof o?b(o,x,A):o}})},19928:function(e,t,n){"use strict";var r=n(85216);n(35836)(r.JSON,"JSON",!0)},76696:function(e,t,n){"use strict";n(46072)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(63928))},62648:function(e,t,n){"use strict";var r=n(33952),o=n(29252),i=n(20028),a=n(69952),u=n(75799),c=n(2408),s=n(31016),l=n(92064),f=c.Map,d=c.has,p=c.get,h=c.set,v=o([].push),g=s||l((function(){return 1!==f.groupBy("ab",(function(e){return e})).get("a").length}));r({target:"Map",stat:!0,forced:s||g},{groupBy:function(e,t){a(e),i(t);var n=new f,r=0;return u(e,(function(e){var o=t(e,r++);d(n,o)?v(p(n,o),e):h(n,o,[e])})),n}})},86775:function(e,t,n){"use strict";n(76696)},93787:function(){},71620:function(e,t,n){"use strict";n(33952)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},46448:function(e,t,n){"use strict";var r=n(33952),o=n(88980);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},68928:function(e,t,n){"use strict";n(33952)({target:"Object",stat:!0,sham:!n(99172)},{create:n(4488)})},67300:function(e,t,n){"use strict";var r=n(33952),o=n(99172),i=n(86452).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!o},{defineProperties:i})},98708:function(e,t,n){"use strict";var r=n(33952),o=n(99172),i=n(12280).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},96360:function(e,t,n){"use strict";var r=n(33952),o=n(69380),i=n(92064),a=n(68608),u=n(70992).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:i((function(){c(1)})),sham:!o},{freeze:function(e){return c&&a(e)?c(u(e)):e}})},97648:function(e,t,n){"use strict";var r=n(33952),o=n(92064),i=n(30445),a=n(91008).f,u=n(99172);r({target:"Object",stat:!0,forced:!u||o((function(){a(1)})),sham:!u},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},65032:function(e,t,n){"use strict";var r=n(33952),o=n(99172),i=n(7876),a=n(30445),u=n(91008),c=n(14895);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),o=u.f,s=i(r),l={},f=0;s.length>f;)void 0!==(n=o(r,t=s[f++]))&&c(l,t,n);return l}})},45312:function(e,t,n){"use strict";var r=n(33952),o=n(92064),i=n(41920).f;r({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:i})},79672:function(e,t,n){"use strict";var r=n(33952),o=n(25235),i=n(92064),a=n(74060),u=n(92819);r({target:"Object",stat:!0,forced:!o||i((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(u(e)):[]}})},33416:function(e,t,n){"use strict";var r=n(33952),o=n(92064),i=n(92819),a=n(27800),u=n(72480);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!u},{getPrototypeOf:function(e){return a(i(e))}})},63008:function(e,t,n){"use strict";var r=n(33952),o=n(92064),i=n(68608),a=n(47936),u=n(3648),c=Object.isFrozen;r({target:"Object",stat:!0,forced:u||o((function(){c(1)}))},{isFrozen:function(e){return!i(e)||(!(!u||"ArrayBuffer"!==a(e))||!!c&&c(e))}})},40088:function(e,t,n){"use strict";var r=n(33952),o=n(92819),i=n(9547);r({target:"Object",stat:!0,forced:n(92064)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},91020:function(e,t,n){"use strict";n(33952)({target:"Object",stat:!0},{setPrototypeOf:n(92288)})},12352:function(){},17016:function(e,t,n){"use strict";var r=n(33952),o=n(82768).values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},71740:function(e,t,n){"use strict";var r=n(33952),o=n(24828);r({global:!0,forced:parseInt!==o},{parseInt:o})},38128:function(e,t,n){"use strict";var r=n(33952),o=n(34580),i=n(20028),a=n(71243),u=n(35240),c=n(75799);r({target:"Promise",stat:!0,forced:n(84880)},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,s=n.reject,l=u((function(){var n=i(t.resolve),a=[],u=0,s=1;c(e,(function(e){var i=u++,c=!1;s++,o(n,t,e).then((function(e){c||(c=!0,a[i]={status:"fulfilled",value:e},--s||r(a))}),(function(e){c||(c=!0,a[i]={status:"rejected",reason:e},--s||r(a))}))})),--s||r(a)}));return l.error&&s(l.value),n.promise}})},83952:function(e,t,n){"use strict";var r=n(33952),o=n(34580),i=n(20028),a=n(71243),u=n(35240),c=n(75799);r({target:"Promise",stat:!0,forced:n(84880)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,s=n.reject,l=u((function(){var n=i(t.resolve),a=[],u=0,l=1;c(e,(function(e){var i=u++,c=!1;l++,o(n,t,e).then((function(e){c||(c=!0,a[i]=e,--l||r(a))}),s)})),--l||r(a)}));return l.error&&s(l.value),n.promise}})},73728:function(e,t,n){"use strict";var r=n(33952),o=n(34580),i=n(20028),a=n(23464),u=n(71243),c=n(35240),s=n(75799),l=n(84880),f="No one promise resolved";r({target:"Promise",stat:!0,forced:l},{any:function(e){var t=this,n=a("AggregateError"),r=u.f(t),l=r.resolve,d=r.reject,p=c((function(){var r=i(t.resolve),a=[],u=0,c=1,p=!1;s(e,(function(e){var i=u++,s=!1;c++,o(r,t,e).then((function(e){s||p||(p=!0,l(e))}),(function(e){s||p||(s=!0,a[i]=e,--c||d(new n(a,f)))}))})),--c||d(new n(a,f))}));return p.error&&d(p.value),r.promise}})},32996:function(e,t,n){"use strict";var r=n(33952),o=n(31016),i=n(35524).CONSTRUCTOR,a=n(50728),u=n(23464),c=n(38536),s=n(55424),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&c(a)){var f=u("Promise").prototype.catch;l.catch!==f&&s(l,"catch",f,{unsafe:!0})}},96160:function(e,t,n){"use strict";var r,o,i,a=n(33952),u=n(31016),c=n(91432),s=n(85216),l=n(34580),f=n(55424),d=n(92288),p=n(35836),h=n(13120),v=n(20028),g=n(38536),m=n(68608),y=n(6952),b=n(84928),w=n(93368).set,x=n(39836),C=n(3320),E=n(35240),S=n(20984),_=n(2344),k=n(50728),A=n(35524),O=n(71243),N="Promise",M=A.CONSTRUCTOR,T=A.REJECTION_EVENT,P=A.SUBCLASSING,I=_.getterFor(N),L=_.set,D=k&&k.prototype,j=k,R=D,F=s.TypeError,z=s.document,B=s.process,U=O.f,W=U,H=!!(z&&z.createEvent&&s.dispatchEvent),V="unhandledrejection",G=function(e){var t;return!(!m(e)||!g(t=e.then))&&t},Y=function(e,t){var n,r,o,i=t.value,a=1===t.state,u=a?e.ok:e.fail,c=e.resolve,s=e.reject,f=e.domain;try{u?(a||(2===t.rejection&&Q(t),t.rejection=1),!0===u?n=i:(f&&f.enter(),n=u(i),f&&(f.exit(),o=!0)),n===e.promise?s(new F("Promise-chain cycle")):(r=G(n))?l(r,n,c,s):c(n)):s(i)}catch(e){f&&!o&&f.exit(),s(e)}},X=function(e,t){e.notified||(e.notified=!0,x((function(){for(var n,r=e.reactions;n=r.get();)Y(n,e);e.notified=!1,t&&!e.rejection&&q(e)})))},K=function(e,t,n){var r,o;H?((r=z.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),s.dispatchEvent(r)):r={promise:t,reason:n},!T&&(o=s["on"+e])?o(r):e===V&&C("Unhandled promise rejection",n)},q=function(e){l(w,s,(function(){var t,n=e.facade,r=e.value;if(Z(e)&&(t=E((function(){c?B.emit("unhandledRejection",r,n):K(V,n,r)})),e.rejection=c||Z(e)?2:1,t.error))throw t.value}))},Z=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){l(w,s,(function(){var t=e.facade;c?B.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(r){e(t,r,n)}},$=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,X(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new F("Promise can't be resolved itself");var r=G(t);r?x((function(){var n={done:!1};try{l(r,t,J(ee,n,e),J($,n,e))}catch(t){$(n,t,e)}})):(e.value=t,e.state=1,X(e,!1))}catch(t){$({done:!1},t,e)}}};if(M&&(R=(j=function(e){y(this,R),v(e),l(r,this);var t=I(this);try{e(J(ee,t),J($,t))}catch(e){$(t,e)}}).prototype,(r=function(e){L(this,{type:N,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=f(R,"then",(function(e,t){var n=I(this),r=U(b(this,j));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=c?B.domain:void 0,0===n.state?n.reactions.add(r):x((function(){Y(r,n)})),r.promise})),o=function(){var e=new r,t=I(e);this.promise=e,this.resolve=J(ee,t),this.reject=J($,t)},O.f=U=function(e){return e===j||undefined===e?new o(e):W(e)},!u&&g(k)&&D!==Object.prototype)){i=D.then,P||f(D,"then",(function(e,t){var n=this;return new j((function(e,t){l(i,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete D.constructor}catch(e){}d&&d(D,R)}a({global:!0,constructor:!0,wrap:!0,forced:M},{Promise:j}),p(j,N,!1,!0),h(N)},50196:function(e,t,n){"use strict";var r=n(33952),o=n(31016),i=n(50728),a=n(92064),u=n(23464),c=n(38536),s=n(84928),l=n(7211),f=n(55424),d=i&&i.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,u("Promise")),n=c(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!o&&c(i)){var p=u("Promise").prototype.finally;d.finally!==p&&f(d,"finally",p,{unsafe:!0})}},86244:function(e,t,n){"use strict";n(96160),n(83952),n(32996),n(76968),n(84072),n(45832)},76968:function(e,t,n){"use strict";var r=n(33952),o=n(34580),i=n(20028),a=n(71243),u=n(35240),c=n(75799);r({target:"Promise",stat:!0,forced:n(84880)},{race:function(e){var t=this,n=a.f(t),r=n.reject,s=u((function(){var a=i(t.resolve);c(e,(function(e){o(a,t,e).then(n.resolve,r)}))}));return s.error&&r(s.value),n.promise}})},84072:function(e,t,n){"use strict";var r=n(33952),o=n(71243);r({target:"Promise",stat:!0,forced:n(35524).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return(0,t.reject)(e),t.promise}})},45832:function(e,t,n){"use strict";var r=n(33952),o=n(23464),i=n(31016),a=n(50728),u=n(35524).CONSTRUCTOR,c=n(7211),s=o("Promise"),l=i&&!u;r({target:"Promise",stat:!0,forced:i||u},{resolve:function(e){return c(l&&this===s?a:this,e)}})},10096:function(e,t,n){"use strict";var r=n(33952),o=n(71243);r({target:"Promise",stat:!0},{withResolvers:function(){var e=o.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}})},14915:function(e,t,n){"use strict";var r=n(33952),o=n(23464),i=n(79867),a=n(5404),u=n(39556),c=n(42032),s=n(68608),l=n(4488),f=n(92064),d=o("Reflect","construct"),p=Object.prototype,h=[].push,v=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),g=!f((function(){d((function(){}))})),m=v||g;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){u(e),c(t);var n=arguments.length<3?e:u(arguments[2]);if(g&&!v)return d(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return i(h,r,t),new(i(a,e,r))}var o=n.prototype,f=l(s(o)?o:p),m=i(e,f,t);return s(m)?m:f}})},79896:function(e,t,n){"use strict";var r=n(33952),o=n(99172),i=n(42032),a=n(91008);r({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function(e,t){return a.f(i(e),t)}})},71088:function(e,t,n){"use strict";n(33952)({target:"Reflect",stat:!0},{ownKeys:n(7876)})},72556:function(){},96784:function(e,t,n){"use strict";n(46072)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(63928))},67036:function(e,t,n){"use strict";var r=n(33952),o=n(62396);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("difference")},{difference:o})},47124:function(e,t,n){"use strict";var r=n(33952),o=n(92064),i=n(50920);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("intersection")||o((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:i})},24136:function(e,t,n){"use strict";var r=n(33952),o=n(27968);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("isDisjointFrom")},{isDisjointFrom:o})},72304:function(e,t,n){"use strict";var r=n(33952),o=n(89972);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("isSubsetOf")},{isSubsetOf:o})},23276:function(e,t,n){"use strict";var r=n(33952),o=n(93472);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("isSupersetOf")},{isSupersetOf:o})},81160:function(e,t,n){"use strict";n(96784)},63112:function(e,t,n){"use strict";var r=n(33952),o=n(58732);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("symmetricDifference")},{symmetricDifference:o})},61704:function(e,t,n){"use strict";var r=n(33952),o=n(56240);r({target:"Set",proto:!0,real:!0,forced:!n(94864)("union")},{union:o})},3512:function(e,t,n){"use strict";var r=n(33952),o=n(29252),i=n(29720),a=n(69952),u=n(39352),c=n(60660),s=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~s(u(a(this)),u(i(e)),arguments.length>1?arguments[1]:void 0)}})},34176:function(e,t,n){"use strict";var r=n(16392).charAt,o=n(39352),i=n(2344),a=n(536),u=n(73848),c="String Iterator",s=i.set,l=i.getterFor(c);a(String,"String",(function(e){s(this,{type:c,string:o(e),index:0})}),(function(){var e,t=l(this),n=t.string,o=t.index;return o>=n.length?u(void 0,!0):(e=r(n,o),t.index+=e.length,u(e,!1))}))},25384:function(e,t,n){"use strict";var r=n(33952),o=n(36832).trim;r({target:"String",proto:!0,forced:n(74144)("trim")},{trim:function(){return o(this)}})},52240:function(e,t,n){"use strict";n(61084)("asyncIterator")},63840:function(e,t,n){"use strict";var r=n(33952),o=n(85216),i=n(34580),a=n(29252),u=n(31016),c=n(99172),s=n(25235),l=n(92064),f=n(34664),d=n(82360),p=n(42032),h=n(30445),v=n(42319),g=n(39352),m=n(48981),y=n(4488),b=n(9547),w=n(11600),x=n(41920),C=n(74060),E=n(91008),S=n(12280),_=n(86452),k=n(66500),A=n(55424),O=n(56968),N=n(68852),M=n(80924),T=n(13328),P=n(66696),I=n(23336),L=n(81104),D=n(61084),j=n(50072),R=n(35836),F=n(2344),z=n(7608).forEach,B=M("hidden"),U="Symbol",W="prototype",H=F.set,V=F.getterFor(U),G=Object[W],Y=o.Symbol,X=Y&&Y[W],K=o.RangeError,q=o.TypeError,Z=o.QObject,Q=E.f,J=S.f,$=x.f,ee=k.f,te=a([].push),ne=N("symbols"),re=N("op-symbols"),oe=N("wks"),ie=!Z||!Z[W]||!Z[W].findChild,ae=function(e,t,n){var r=Q(G,t);r&&delete G[t],J(e,t,n),r&&e!==G&&J(G,t,r)},ue=c&&l((function(){return 7!==y(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?ae:J,ce=function(e,t){var n=ne[e]=y(X);return H(n,{type:U,tag:e,description:t}),c||(n.description=t),n},se=function(e,t,n){e===G&&se(re,t,n),p(e);var r=v(t);return p(n),f(ne,r)?(n.enumerable?(f(e,B)&&e[B][r]&&(e[B][r]=!1),n=y(n,{enumerable:m(0,!1)})):(f(e,B)||J(e,B,m(1,y(null))),e[B][r]=!0),ue(e,r,n)):J(e,r,n)},le=function(e,t){p(e);var n=h(t),r=b(n).concat(he(n));return z(r,(function(t){c&&!i(fe,n,t)||se(e,t,n[t])})),e},fe=function(e){var t=v(e),n=i(ee,this,t);return!(this===G&&f(ne,t)&&!f(re,t))&&(!(n||!f(this,t)||!f(ne,t)||f(this,B)&&this[B][t])||n)},de=function(e,t){var n=h(e),r=v(t);if(n!==G||!f(ne,r)||f(re,r)){var o=Q(n,r);return!o||!f(ne,r)||f(n,B)&&n[B][r]||(o.enumerable=!0),o}},pe=function(e){var t=$(h(e)),n=[];return z(t,(function(e){f(ne,e)||f(T,e)||te(n,e)})),n},he=function(e){var t=e===G,n=$(t?re:h(e)),r=[];return z(n,(function(e){!f(ne,e)||t&&!f(G,e)||te(r,ne[e])})),r};s||(Y=function(){if(d(X,this))throw new q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=P(e),n=function(e){var r=void 0===this?o:this;r===G&&i(n,re,e),f(r,B)&&f(r[B],t)&&(r[B][t]=!1);var a=m(1,e);try{ue(r,t,a)}catch(e){if(!(e instanceof K))throw e;ae(r,t,a)}};return c&&ie&&ue(G,t,{configurable:!0,set:n}),ce(t,e)},A(X=Y[W],"toString",(function(){return V(this).tag})),A(Y,"withoutSetter",(function(e){return ce(P(e),e)})),k.f=fe,S.f=se,_.f=le,E.f=de,w.f=x.f=pe,C.f=he,L.f=function(e){return ce(I(e),e)},c&&(O(X,"description",{configurable:!0,get:function(){return V(this).description}}),u||A(G,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Y}),z(b(oe),(function(e){D(e)})),r({target:U,stat:!0,forced:!s},{useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!c},{create:function(e,t){return void 0===t?y(e):le(y(e),t)},defineProperty:se,defineProperties:le,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pe}),j(),R(Y,U),T[B]=!0},49452:function(){},90920:function(e,t,n){"use strict";var r=n(33952),o=n(23464),i=n(34664),a=n(39352),u=n(68852),c=n(37780),s=u("string-to-symbol-registry"),l=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=a(e);if(i(s,t))return s[t];var n=o("Symbol")(t);return s[t]=n,l[n]=t,n}})},71344:function(e,t,n){"use strict";n(61084)("hasInstance")},74436:function(e,t,n){"use strict";n(61084)("isConcatSpreadable")},6992:function(e,t,n){"use strict";n(61084)("iterator")},49276:function(e,t,n){"use strict";n(63840),n(90920),n(61896),n(58824),n(79672)},61896:function(e,t,n){"use strict";var r=n(33952),o=n(34664),i=n(95376),a=n(48944),u=n(68852),c=n(37780),s=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!i(e))throw new TypeError(a(e)+" is not a symbol");if(o(s,e))return s[e]}})},56380:function(e,t,n){"use strict";n(61084)("matchAll")},58028:function(e,t,n){"use strict";n(61084)("match")},76176:function(e,t,n){"use strict";n(61084)("replace")},91176:function(e,t,n){"use strict";n(61084)("search")},60781:function(e,t,n){"use strict";n(61084)("species")},76720:function(e,t,n){"use strict";n(61084)("split")},95536:function(e,t,n){"use strict";var r=n(61084),o=n(50072);r("toPrimitive"),o()},44732:function(e,t,n){"use strict";var r=n(23464),o=n(61084),i=n(35836);o("toStringTag"),i(r("Symbol"),"Symbol")},84243:function(e,t,n){"use strict";n(61084)("unscopables")},46536:function(e,t,n){"use strict";var r=n(23336),o=n(12280).f,i=r("metadata"),a=Function.prototype;void 0===a[i]&&o(a,i,{value:null})},7576:function(e,t,n){"use strict";n(61084)("asyncDispose")},53504:function(e,t,n){"use strict";n(61084)("customMatcher")},57772:function(e,t,n){"use strict";n(61084)("dispose")},89264:function(e,t,n){"use strict";n(33952)({target:"Symbol",stat:!0},{isRegisteredSymbol:n(95080)})},31216:function(e,t,n){"use strict";n(33952)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:n(95080)})},98460:function(e,t,n){"use strict";n(33952)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:n(12636)})},5196:function(e,t,n){"use strict";n(33952)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:n(12636)})},84448:function(e,t,n){"use strict";n(61084)("matcher")},72948:function(e,t,n){"use strict";n(61084)("metadataKey")},65656:function(e,t,n){"use strict";n(61084)("metadata")},4184:function(e,t,n){"use strict";n(61084)("observable")},12252:function(e,t,n){"use strict";n(61084)("patternMatch")},8776:function(e,t,n){"use strict";n(61084)("replaceAll")},42920:function(){},23624:function(e,t,n){"use strict";n(30340);var r=n(50472),o=n(85216),i=n(35836),a=n(97256);for(var u in r)i(o[u],u),a[u]=a.Array},23379:function(e,t,n){"use strict";var r=n(33952),o=n(85216),i=n(98084)(o.setInterval,!0);r({global:!0,bind:!0,forced:o.setInterval!==i},{setInterval:i})},6436:function(e,t,n){"use strict";var r=n(33952),o=n(85216),i=n(98084)(o.setTimeout,!0);r({global:!0,bind:!0,forced:o.setTimeout!==i},{setTimeout:i})},99495:function(e,t,n){"use strict";n(23379),n(6436)},36128:function(e,t,n){"use strict";var r=n(69259);e.exports=r},81324:function(e,t,n){"use strict";var r=n(3376);e.exports=r},46768:function(e,t,n){"use strict";var r=n(70216);e.exports=r},75368:function(e,t,n){"use strict";var r=n(23272);e.exports=r},57100:function(e,t,n){"use strict";var r=n(74908);e.exports=r},31056:function(e,t,n){"use strict";var r=n(79720);e.exports=r},50984:function(e,t,n){"use strict";var r=n(34556);n(23624),e.exports=r},92960:function(e,t,n){"use strict";var r=n(74756);e.exports=r},51188:function(e,t,n){"use strict";var r=n(88884);e.exports=r},34963:function(e,t,n){"use strict";n(23624);var r=n(60636),o=n(34664),i=n(82360),a=n(46768),u=Array.prototype,c={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.entries;return e===u||i(u,e)&&t===u.entries||o(c,r(e))?a:t}},91924:function(e,t,n){"use strict";var r=n(28312);e.exports=r},28320:function(e,t,n){"use strict";var r=n(680);e.exports=r},13352:function(e,t,n){"use strict";var r=n(53612);e.exports=r},70120:function(e,t,n){"use strict";var r=n(32600);e.exports=r},49372:function(e,t,n){"use strict";var r=n(60636),o=n(34664),i=n(82360),a=n(75368);n(42920);var u=Array.prototype,c={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===u||i(u,e)&&t===u.forEach||o(c,r(e))?a:t}},8760:function(e,t,n){"use strict";var r=n(8180);e.exports=r},35720:function(e,t,n){"use strict";var r=n(44156);e.exports=r},5960:function(e,t,n){"use strict";n(23624);var r=n(60636),o=n(34664),i=n(82360),a=n(57100),u=Array.prototype,c={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===u||i(u,e)&&t===u.keys||o(c,r(e))?a:t}},48776:function(e,t,n){"use strict";var r=n(91352);e.exports=r},69344:function(e,t,n){"use strict";var r=n(39063);e.exports=r},27584:function(e,t,n){"use strict";var r=n(58688);e.exports=r},59620:function(e,t,n){"use strict";var r=n(48284);e.exports=r},84644:function(e,t,n){"use strict";var r=n(86188);e.exports=r},9384:function(e,t,n){"use strict";var r=n(46312);e.exports=r},59408:function(e,t,n){"use strict";var r=n(78125);e.exports=r},24992:function(e,t,n){"use strict";n(23624);var r=n(60636),o=n(34664),i=n(82360),a=n(31056),u=Array.prototype,c={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.values;return e===u||i(u,e)&&t===u.values||o(c,r(e))?a:t}},69140:function(e,t,n){"use strict";var r=n(69304);e.exports=r},62572:function(e,t,n){"use strict";var r=n(52548);n(23624),e.exports=r},92496:function(e,t,n){"use strict";var r=n(96576);e.exports=r},95608:function(e,t,n){"use strict";var r=n(59196);e.exports=r},72672:function(e,t,n){"use strict";var r=n(44636);e.exports=r},62296:function(e,t,n){"use strict";var r=n(42172);e.exports=r},68792:function(e,t,n){"use strict";var r=n(74856);e.exports=r},38736:function(e,t,n){"use strict";var r=n(42348);e.exports=r},35716:function(e,t,n){"use strict";var r=n(13416);e.exports=r},56860:function(e,t,n){"use strict";var r=n(32936);e.exports=r},43760:function(e,t,n){"use strict";var r=n(61852);e.exports=r},9224:function(e,t,n){"use strict";var r=n(920);e.exports=r},48624:function(e,t,n){"use strict";var r=n(3056);e.exports=r},72504:function(e,t,n){"use strict";var r=n(67552);e.exports=r},10424:function(e,t,n){"use strict";var r=n(82613);e.exports=r},42648:function(e,t,n){"use strict";var r=n(23092);e.exports=r},77052:function(e,t,n){"use strict";var r=n(6104);e.exports=r},11480:function(e,t,n){"use strict";var r=n(5357);e.exports=r},19516:function(e,t,n){"use strict";var r=n(76496);n(23624),e.exports=r},43252:function(e,t,n){"use strict";var r=n(92880);e.exports=r},94088:function(e,t,n){"use strict";var r=n(25784);e.exports=r},77932:function(e,t,n){"use strict";var r=n(21836);e.exports=r},42592:function(e,t,n){"use strict";n(99495);var r=n(19832);e.exports=r.setTimeout},43328:function(e,t,n){"use strict";var r=n(77376);n(23624),e.exports=r},35184:function(e,t,n){"use strict";var r=n(63656);e.exports=r},39928:function(e,t,n){"use strict";var r=n(22767);n(23624),e.exports=r},88308:function(e,t,n){"use strict";var r=n(25180);n(23624),e.exports=r},29464:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{c:function(){return r}})},66636:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(93920);function o(e){if(r(e))return e}},89280:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{c:function(){return r}})},3460:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{c:function(){return r}})},27688:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(19692);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),r(e,"prototype",{writable:!1}),e}},30112:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(19692);function o(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},2664:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(12484),o=n(9712);function i(){var e;return i=r?o(e=r).call(e):function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}},77284:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(53140),o=n(9712),i=n(80075);function a(e){var t;return a=r?o(t=i).call(t):function(e){return e.__proto__||i(e)},a(e)}},43840:function(e,t,n){"use strict";n.d(t,{c:function(){return c}});var r=n(71072),o=n(19692),i=n(53140),a=n(9712);function u(e,t){var n;return u=i?a(n=i).call(n):function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=r(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),o(e,"prototype",{writable:!1}),t&&u(e,t)}},40948:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(98468),o=n(64248),i=n(91648);function a(e){if(void 0!==r&&null!=o(e)||null!=e["@@iterator"])return i(e)}},76288:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{c:function(){return r}})},34984:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(57312),o=n(26568),i=n(57328);function a(e,t){if(null==e)return{};var n,a,u=function(e,t){if(null==e)return{};var n,r,a={},u=i(e);for(r=0;r<u.length;r++)n=u[r],o(t).call(t,n)>=0||(a[n]=e[n]);return a}(e,t);if(r){var c=r(e);for(a=0;a<c.length;a++)n=c[a],o(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}},54895:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(58496),o=n(89280);function i(e,t){if(t&&("object"===(0,r.c)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.c)(e)}},72048:function(e,t,n){"use strict";n.d(t,{c:function(){return c}});var r=n(66636),o=n(98468),i=n(64248);var a=n(95956),u=n(76288);function c(e,t){return(0,r.c)(e)||function(e,t){var n=null==e?null:void 0!==o&&i(e)||e["@@iterator"];if(null!=n){var r,a,u=[],c=!0,s=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(s)throw a}}return u}}(e,t)||(0,a.c)(e,t)||(0,u.c)()}},81043:function(e,t,n){"use strict";n.d(t,{c:function(){return u}});var r=n(93920),o=n(29464);var i=n(40948),a=n(95956);function u(e){return function(e){if(r(e))return(0,o.c)(e)}(e)||(0,i.c)(e)||(0,a.c)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},58496:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(98468),o=n(51592);function i(e){return i="function"==typeof r&&"symbol"==typeof o?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},i(e)}},95956:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(29656),o=n(91648),i=n(29464);function a(e,t){var n;if(e){if("string"==typeof e)return(0,i.c)(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?o(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,i.c)(e,t):void 0}}},83789:function(e,t,n){"use strict";n.d(t,{Ut:function(){return Te},qg:function(){return xe}});var r,o,i,a,u,c,s=n(58496),l=n(75984),f=n(57492),d=n(12388),p=n(7312),h=n(47976),v=n(88836),g=n(59312),m=n(12640),y=n(26260),b=n(24560),w=n(69216),x=n(81744),C=n(55748),E=n(89843),S=(n(39832),n(45040),n(64136),n(11872),n(66196),n(75668),n(5848),n(97440)),_=n(31192),k=(n(72600),n(62360)),A=n(39448),O=n(27392),N=n(54120),M=n(28555),T=n(25448),P=(n(97552),n(2992)),I=n(37152);function L(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+l(n).call(n,(function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function D(e){return!!e&&!!e[Ce]}function j(e){var t;return!!e&&(function(e){if(!e||"object"!=(0,s.c)(e))return!1;var t=f(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ee}(e)||d(e)||!!e[xe]||!!(null===(t=e.constructor)||void 0===t?void 0:t[xe])||H(e)||V(e))}function R(e,t,n){var r;void 0===n&&(n=!1),0===F(e)?p(r=(n?h:Se)(e)).call(r,(function(r){n&&"symbol"==(0,s.c)(r)||t(r,e[r],e)})):p(e).call(e,(function(n,r){return t(r,n,e)}))}function F(e){var t=e[Ce];return t?t.i>3?t.i-4:t.i:d(e)?1:H(e)?2:V(e)?3:0}function z(e,t){return 2===F(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return 2===F(e)?e.get(t):e[t]}function U(e,t,n){var r=F(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function W(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function H(e){return me&&e instanceof v}function V(e){return ye&&e instanceof g}function G(e){return e.o||e.t}function Y(e){if(d(e))return m(Array.prototype).call(e);var t=_e(e);delete t[Ce];for(var n=Se(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return y(f(e),t)}function X(e,t){return void 0===t&&(t=!1),q(e)||D(e)||!j(e)||(F(e)>1&&(e.set=e.add=e.clear=e.delete=K),b(e),t&&R(e,(function(e,t){return X(t,!0)}),!0)),e}function K(){L(2)}function q(e){return null==e||"object"!=(0,s.c)(e)||w(e)}function Z(e){var t=ke[e];return t||L(18,e),t}function Q(){return ve}function J(e,t){t&&(Z("Patches"),e.u=[],e.s=[],e.v=t)}function $(e){var t;ee(e),p(t=e.p).call(t,ne),e.p=null}function ee(e){e===ve&&(ve=e.l)}function te(e){return ve={p:[],l:ve,h:e,m:!0,_:0}}function ne(e){var t=e[Ce];0===t.i||1===t.i?t.j():t.g=!0}function re(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Z("ES5").S(t,e,r),r?(n[Ce].P&&($(t),L(4)),j(e)&&(e=oe(t,e),t.l||ae(t,e)),t.u&&Z("Patches").M(n[Ce].t,e,t.u,t.s)):e=oe(t,n,[]),$(t),t.u&&t.v(t.u,t.s),e!==we?e:void 0}function oe(e,t,n){if(q(t))return t;var r=t[Ce];if(!r)return R(t,(function(o,i){return ie(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ae(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=Y(r.k):r.o,i=o,a=!1;3===r.i&&(i=new g(o),o.clear(),a=!0),R(i,(function(t,i){return ie(e,r,o,t,i,n,a)})),ae(e,o,!1),n&&e.u&&Z("Patches").N(r,n,e.u,e.s)}return r.o}function ie(e,t,n,r,o,i,a){if(D(o)){var u=oe(e,o,i&&t&&3!==t.i&&!z(t.R,r)?x(i).call(i,r):void 0);if(U(n,r,u),!D(u))return;e.m=!1}else a&&n.add(o);if(j(o)&&!q(o)){if(!e.h.D&&e._<1)return;oe(e,o),t&&t.A.l||ae(e,o)}}function ae(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&X(t,n)}function ue(e,t){var n=e[Ce];return(n?G(n):e)[t]}function ce(e,t){if(t in e)for(var n=f(e);n;){var r=C(n,t);if(r)return r;n=f(n)}}function se(e){e.P||(e.P=!0,e.l&&se(e.l))}function le(e){e.o||(e.o=Y(e.t))}function fe(e,t,n){var r=H(t)?Z("MapSet").F(t,n):V(t)?Z("MapSet").T(t,n):e.O?function(e,t){var n=d(e),r={i:n?1:0,A:t?t.A:Q(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=Ae;n&&(o=[r],i=Oe);var a=Proxy.revocable(o,i),u=a.revoke,c=a.proxy;return r.k=c,r.j=u,c}(t,n):Z("ES5").J(t,n);return(n?n.A:Q()).p.push(r),r}function de(e){return D(e)||L(22,e),function e(t){if(!j(t))return t;var n,r=t[Ce],o=F(t);if(r){if(!r.P&&(r.i<4||!Z("ES5").K(r)))return r.t;r.I=!0,n=pe(t,o),r.I=!1}else n=pe(t,o);return R(n,(function(t,o){r&&B(r.t,t)===o||U(n,t,e(o))})),3===o?new g(n):n}(e)}function pe(e,t){switch(t){case 2:return new v(e);case 3:return E(e)}return Y(e)}var he,ve,ge=void 0!==S&&"symbol"==(0,s.c)(S("x")),me=void 0!==v,ye=void 0!==g,be="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,we=ge?_("immer-nothing"):((he={})["immer-nothing"]=!0,he),xe=ge?_("immer-draftable"):"__$immer_draftable",Ce=ge?_("immer-state"):"__$immer_state",Ee=""+Object.prototype.constructor,Se="undefined"!=typeof Reflect&&k?k:void 0!==A?function(e){var t;return x(t=O(e)).call(t,A(e))}:O,_e=N||function(e){var t,n={};return p(t=Se(e)).call(t,(function(t){n[t]=C(e,t)})),n},ke={},Ae={get:function(e,t){if(t===Ce)return e;var n=G(e);if(!z(n,t))return function(e,t,n){var r,o=ce(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!j(r)?r:r===ue(e.t,t)?(le(e),e.o[t]=fe(e.A.h,r,e)):r},has:function(e,t){return t in G(e)},ownKeys:function(e){return k(G(e))},set:function(e,t,n){var r=ce(G(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=ue(G(e),t),i=null==o?void 0:o[Ce];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(W(n,o)&&(void 0!==n||z(e.t,t)))return!0;le(e),se(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||M(n)&&M(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==ue(e.t,t)||t in e.t?(e.R[t]=!1,le(e),se(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=G(e),r=T(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){L(11)},getPrototypeOf:function(e){return f(e.t)},setPrototypeOf:function(){L(12)}},Oe={};R(Ae,(function(e,t){Oe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Oe.deleteProperty=function(e,t){return Oe.set.call(this,e,t,void 0)},Oe.set=function(e,t,n){return Ae.set.call(this,e[0],t,n,e[0])};var Ne=function(){function e(e){var t=this;this.O=be,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return i.produce(e,(function(e){var r,o;return(o=n).call.apply(o,x(r=[t,e]).call(r,a))}))}}var a;if("function"!=typeof n&&L(6),void 0!==r&&"function"!=typeof r&&L(7),j(e)){var u=te(t),c=fe(t,e,void 0),l=!0;try{a=n(c),l=!1}finally{l?$(u):ee(u)}return void 0!==P&&a instanceof P?a.then((function(e){return J(u,r),re(e,u)}),(function(e){throw $(u),e})):(J(u,r),re(a,u))}if(!e||"object"!=(0,s.c)(e)){if(void 0===(a=n(e))&&(a=e),a===we&&(a=void 0),t.D&&X(a,!0),r){var f=[],d=[];Z("Patches").M(e,a,f,d),r(f,d)}return a}L(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){var n;return e.apply(void 0,x(n=[t]).call(n,o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return void 0!==P&&i instanceof P?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){j(e)||L(8),D(e)&&(e=de(e));var t=te(this),n=fe(this,e,void 0);return n[Ce].C=!0,ee(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ce]).A;return J(n,t),re(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!be&&L(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=m(t).call(t,n+1));var o=Z("Patches").$;return D(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),Me=new Ne,Te=Me.produce;I(r=Me.produceWithPatches).call(r,Me),I(o=Me.setAutoFreeze).call(o,Me),I(i=Me.setUseProxies).call(i,Me),I(a=Me.applyPatches).call(a,Me),I(u=Me.createDraft).call(u,Me),I(c=Me.finishDraft).call(c,Me);t.cp=Te}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=o,a.c=i,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))},a.u=function(e){return"js/"+({74:"common-vendor",120:"react-vendor",160:"react-color-vendor",636:"kdesign-vender",907:"react-dom-vendor"}[e]||e)+"."+{74:"f0f1a226",120:"518ffe00",160:"7f759c46",400:"50902762",636:"ab43739b",820:"9a45b7c4",907:"a07ba2a0"}[e]+".js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="rule-designer:",a.l=function(n,r,o,i){if(e[n])e[n].push(r);else{var u,c;if(void 0!==o)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var f=s[l];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+o){u=f;break}}u||(c=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.setAttribute("data-webpack",t+o),u.src=n),e[n]=[r];var d=function(t,r){u.onerror=u.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),c&&document.head.appendChild(u)}},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n={},r={},a.f.remotes=function(e,t){a.o(n,e)&&n[e].forEach((function(e){var n=a.R;n||(n=[]);var o=r[e];if(!(n.indexOf(o)>=0)){if(n.push(o),o.p)return t.push(o.p);var i=function(t){t||(t=new Error("Container missing")),"string"==typeof t.message&&(t.message+='\nwhile loading "'+o[1]+'" from '+o[2]),a.m[e]=function(){throw t},o.p=0},u=function(e,n,r,a,u,c){try{var s=e(n,r);if(!s||!s.then)return u(s,a,c);var l=s.then((function(e){return u(e,a)}),i);if(!c)return l;t.push(o.p=l)}catch(e){i(e)}},c=function(e,t,r){return u(t.get,o[1],n,0,s,r)},s=function(t){o.p=1,a.m[e]=function(e){e.exports=t()}};u(a,o[2],0,0,(function(e,t,n){return e?u(a.I,o[0],0,e,c,n):i()}),1)}}))},function(){a.S={};var e={},t={};a.I=function(n,r){r||(r=[]);var o=t[n];if(o||(o=t[n]={}),!(r.indexOf(o)>=0)){if(r.push(o),e[n])return e[n];a.o(a.S,n)||(a.S[n]={});var i=a.S[n],u="rule-designer",c=function(e,t,n,r){var o=i[e]=i[e]||{},a=o[t];(!a||!a.loaded&&(!r!=!a.eager?r:u>a.from))&&(o[t]={get:n,from:u,eager:!!r})},s=[];if("default"===n)c("@kdcloudjs/kdesign","1.7.68-stable.7",(function(){return Promise.all([a.e(636),a.e(160),a.e(74),a.e(820)]).then((function(){return function(){return a(37848)}}))})),c("react-dom","16.14.0",(function(){return Promise.all([a.e(907),a.e(74),a.e(400)]).then((function(){return function(){return a(12356)}}))})),c("react","16.14.0",(function(){return Promise.all([a.e(120),a.e(74)]).then((function(){return function(){return a(85668)}}))})),function(e){var t=function(e){"undefined"!=typeof console&&console.warn};try{var o=a(e);if(!o)return;var i=function(e){return e&&e.init&&e.init(a.S[n],r)};if(o.then)return s.push(o.then(i,t));var u=i(o);if(u&&u.then)return s.push(u.catch(t))}catch(e){t()}}(51452);return s.length?e[n]=Promise.all(s).then((function(){return e[n]=1})):e[n]=1}}}(),function(){var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e+"../"}();var u={70:0,820:0,400:0,344:0};return a.f.compat=function(e,t){u[e]?t.push(u[e]):0!==u[e]&&{74:1}[e]&&t.push(u[e]=new Promise((function(t,n){for(var r="css/"+({74:"common-vendor",120:"react-vendor",160:"react-color-vendor",636:"kdesign-vender",907:"react-dom-vendor"}[e]||e)+"."+{74:"93dba3a4",120:"31d6cfe0",160:"31d6cfe0",400:"31d6cfe0",636:"31d6cfe0",820:"31d6cfe0",907:"31d6cfe0"}[e]+".css",o=a.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var s=(f=i[c]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(s===r||s===o))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){var f;if((s=(f=l[c]).getAttribute("data-href"))===r||s===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete u[e],d.parentNode.removeChild(d),n(i)},d.href=o,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){u[e]=0})))},function(){var e=function(e){var t=function(e){return e.split(".").map((function(e){return+e==e?+e:e}))},n=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(e),r=n[1]?t(n[1]):[];return n[2]&&(r.length++,r.push.apply(r,t(n[2]))),n[3]&&(r.push([]),r.push.apply(r,t(n[3]))),r},t=function(t,n){t=e(t),n=e(n);for(var r=0;;){if(r>=t.length)return r<n.length&&"u"!=(typeof n[r])[0];var o=t[r],i=(typeof o)[0];if(r>=n.length)return"u"==i;var a=n[r],u=(typeof a)[0];if(i!=u)return"o"==i&&"n"==u||"s"==u||"u"==i;if("o"!=i&&"u"!=i&&o!=a)return o<a;r++}},n=function(e,n){var r=e[n];return Object.keys(r).reduce((function(e,n){return!e||!r[e].loaded&&t(e,n)?n:e}),0)},r=function(e,t,r,i){var a=n(e,r);return o(e[r][a])},o=function(e){return e.loaded=1,e.get()},i=function(e){return function(t,n,r,o){var i=a.I(t);return i&&i.then?i.then(e.bind(e,t,a.S[t],n,r,o)):e(t,a.S[t],n,r,o)}},u=i((function(e,t,n,o){return t&&a.o(t,n)?r(t,0,n):o()})),c={},s={71536:function(){return u("default","react-dom",(function(){return Promise.all([a.e(907),a.e(74)]).then((function(){return function(){return a(12356)}}))}))},43400:function(){return u("default","react",(function(){return Promise.all([a.e(120),a.e(74)]).then((function(){return function(){return a(85668)}}))}))},54116:function(){return u("default","@kdcloudjs/kdesign",(function(){return Promise.all([a.e(636),a.e(160),a.e(74)]).then((function(){return function(){return a(37848)}}))}))}};[43400,54116,71536].forEach((function(e){a.m[e]=function(t){c[e]=0,delete a.c[e];var n=s[e]();if("function"!=typeof n)throw new Error("Shared module is not available for eager consumption: "+e);t.exports=n()}}));var l={400:[43400],820:[71536,43400]},f={};a.f.consumes=function(e,t){a.o(l,e)&&l[e].forEach((function(e){if(a.o(c,e))return t.push(c[e]);if(!f[e]){var n=function(t){c[e]=0,a.m[e]=function(n){delete a.c[e],n.exports=t()}};f[e]=!0;var r=function(t){delete c[e],a.m[e]=function(n){throw delete a.c[e],t}};try{var o=s[e]();o.then?t.push(c[e]=o.then(n).catch(r)):n(o)}catch(e){r(e)}}}))}}(),function(){var e={70:0,820:0,400:0,344:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else if(/^(40|82)0$/.test(t))e[t]=0;else{var o=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=o);var i=a.p+a.u(t),u=new Error;a.l(i,(function(n){if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,r[1](u)}}),"chunk-"+t,t)}};var t=function(t,n){var r,o,i=n[0],u=n[1],c=n[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(r in u)a.o(u,r)&&(a.m[r]=u[r]);if(c)c(a)}for(t&&t(n);s<i.length;s++)o=i[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkrule_designer=self.webpackChunkrule_designer||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),a.nc=void 0,a(32344)}()}));