var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(g,pb,Da){g instanceof String&&(g=String(g));for(var jb=g.length,Ib=0;Ib<jb;Ib++){var Nb=g[Ib];if(pb.call(Da,Nb,Ib,g))return{i:Ib,v:Nb}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,pb,Da){if(g==Array.prototype||g==Object.prototype)return g;g[pb]=Da.value;return g};$jscomp.getGlobal=function(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var pb=0;pb<g.length;++pb){var Da=g[pb];if(Da&&Da.Math==Math)return Da}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(g,pb){var Da=$jscomp.propertyToPolyfillSymbol[pb];if(null==Da)return g[pb];Da=g[Da];return void 0!==Da?Da:g[pb]};
$jscomp.polyfill=function(g,pb,Da,jb){pb&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(g,pb,Da,jb):$jscomp.polyfillUnisolated(g,pb,Da,jb))};$jscomp.polyfillUnisolated=function(g,pb,Da,jb){Da=$jscomp.global;g=g.split(".");for(jb=0;jb<g.length-1;jb++){var Ib=g[jb];if(!(Ib in Da))return;Da=Da[Ib]}g=g[g.length-1];jb=Da[g];pb=pb(jb);pb!=jb&&null!=pb&&$jscomp.defineProperty(Da,g,{configurable:!0,writable:!0,value:pb})};
$jscomp.polyfillIsolated=function(g,pb,Da,jb){var Ib=g.split(".");g=1===Ib.length;jb=Ib[0];jb=!g&&jb in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var Nb=0;Nb<Ib.length-1;Nb++){var lb=Ib[Nb];if(!(lb in jb))return;jb=jb[lb]}Ib=Ib[Ib.length-1];Da=$jscomp.IS_SYMBOL_NATIVE&&"es6"===Da?jb[Ib]:null;pb=pb(Da);null!=pb&&(g?$jscomp.defineProperty($jscomp.polyfills,Ib,{configurable:!0,writable:!0,value:pb}):pb!==Da&&(void 0===$jscomp.propertyToPolyfillSymbol[Ib]&&(Da=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[Ib]=
$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(Ib):$jscomp.POLYFILL_PREFIX+Da+"$"+Ib),$jscomp.defineProperty(jb,$jscomp.propertyToPolyfillSymbol[Ib],{configurable:!0,writable:!0,value:pb})))};$jscomp.polyfill("Array.prototype.find",function(g){return g?g:function(pb,Da){return $jscomp.findInternal(this,pb,Da).v}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(g){return g?g:function(pb,Da,jb){var Ib=this.length||0;0>Da&&(Da=Math.max(0,Ib+Da));if(null==jb||jb>Ib)jb=Ib;jb=Number(jb);0>jb&&(jb=Math.max(0,Ib+jb));for(Da=Number(Da||0);Da<jb;Da++)this[Da]=pb;return this}},"es6","es3");$jscomp.typedArrayFill=function(g){return g?g:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
(function(){function g(){var za=this,G=[];this.clone=function(){for(var A=new g,y=0;y<G.length;y++){var L=G[y].clone();A.addParagraph(L)}return A};this.getParagraphCount=function(){return G.length};this.getParagraph=function(A){return G[A]};this.addParagraph=function(A){G.push(A)};this.insertParagraph=function(A){var y=new pb;G.splice(A,0,y);return y};this.getAllText=function(A,y){var L="";ta(y,function(na,H,S,V){H=V.getText();y&&(na==y.getToParagraphIndex()&&S==y.getToContentIndex()&&(H=H.substring(0,
y.getToOffset())),na==y.getFromParagraphIndex()&&S==y.getFromContentIndex()&&(H=H.substring(y.getFromOffset())));L+=H},function(){A&&(L+=A)});return L};this.getAllTextLength=function(A){var y=0;ta(A,function(L,na,H,S){y+=S.getTextLength();A&&(L==A.getFromParagraphIndex()&&H==A.getFromContentIndex()&&(y-=A.getFromOffset()),L==A.getToParagraphIndex()&&H==A.getToContentIndex()&&(y-=S.getTextLength()-A.getToOffset()))});return y};this.getScope=function(A){var y=[0,0];if(A){var L=0,na=0;ta(null,function(H,
S,V,ua){H==A.getFromParagraphIndex()&&V==A.getFromContentIndex()&&(y[0]=L+A.getFromOffset(),na++);H==A.getToParagraphIndex()&&V==A.getToContentIndex()&&(y[1]=L+A.getToOffset(),na++);L+=ua.getTextLength();return 2<=na})}return y};this.replaceText=function(A,y,L){A+=1;var na,H,S=0;ta(null,function(ia,la,Ga,gb){la=S+gb.getTextLength();!na&&la>=A&&(na=new Ib(ia,Ga,A-S));!H&&la>=y&&(H=new Ib(ia,Ga,y-S));S=la;return na&&H?!0:!1});var V=G[na.getParagraphIndex()].getContent(na.getContentIndex()),ua=na.getOffset()-
1;na.update(na.getContentIndex(),ua);va(new Nb(na,H));var M=V.getText();V.setText(M.substring(0,ua)+L+M.substring(ua))};this.replaceVar=function(A,y,L){A+=1;var na,H,S=0;ta(null,function(Ga,gb,wa,Ob){gb=S+Ob.getTextLength();!na&&gb>=A&&(na=new Ib(Ga,wa,A-S));!H&&gb>=y&&(H=new Ib(Ga,wa,y-S));S=gb;return na&&H?!0:!1});var V=G[na.getParagraphIndex()].getContent(na.getContentIndex()),ua=new Da;ua.setText(L);ua.brushStyleBy(V);na.update(na.getContentIndex(),na.getOffset()-1);va(new Nb(na,H));L=na.getOffset();
V=G[na.getParagraphIndex()];if(0==L)V.insertContent(na.getContentIndex(),ua);else{var M=V.getContent(na.getContentIndex()),ia=M.getText();if(ia.length>L){M.setText(ia.substring(L));var la=new Da;la.setText(ia.substring(0,L));la.brushStyleBy(M);V.insertContent(na.getContentIndex(),la)}V.insertContent(na.getContentIndex()+1,ua)}return ua};this.inputText=function(A,y,L){!A.isCollapse()&&va(A);var na=A.getFromParagraphIndex(),H=A.getFromParagraphIndex(),S=A.getFromContentIndex(),V=A.getFromOffset();A=
G[H];var ua=A.getContent(S),M=ua.getText();ua.setText(M.substring(0,V));var ia=new Da;ia.setText(M.substring(V));ia.brushStyleBy(ua);A.insertContent(S+1,ia);S++;V=0;M=y.length;for(ia=0;ia<M;ia++){var la=y[ia];Ya.cleanInvalidChar(la,function(Ga){la=Ga});V=new Da;V.setText(la);V.brushStyleBy(ua);L&&L.applyTo(V);A=G[H];A.insertContent(S,V);V=la.length;A=new Nb(new Ib(H,S,V));ia<M-1&&(xa(A),H++,V=S=0)}A=new Nb(new Ib(H,S,V));ja(na,H,A);return A};this.inputCommand=function(A,y){var L=!A.isCollapse(),na=
A.getFromParagraphIndex(),H=na,S=na;switch(y){case 13:xa(A);L&&va(A);var V=new Ib(na+1,0,0);S=na+1;break;case 8:if(L)va(A);else{V=A;H=V.getFromParagraphIndex();S=V.getFromContentIndex();V=V.getFromOffset();y=G[H];if(0==V)if(0==S){if(0!=H){var ua=G[H-1];G.splice(H,1);H--;S=ua.getContentCount()-1;V=ua.getContent(S).getTextLength();for(var M=0;M<y.getContentCount();M++)L=y.getContent(M),ua.addContent(L)}}else V=y.getContent(S-1),ua=V.getText(),V.setText(ua.substring(0,ua.length-1)),S--,V=V.getTextLength();
else L=y.getContent(S),ua=L.getText(),L.setText(ua.substring(0,V-1)+ua.substring(V)),V--,0==V&&0<S&&(S--,V=y.getContent(S).getTextLength());V=new Ib(H,S,V);S=H=V.getParagraphIndex()}break;case 46:if(L)va(A);else{L=A;y=L.getFromParagraphIndex();ua=L.getFromContentIndex();M=L.getFromOffset();L=G[y];var ia=L.getContent(ua);if(M==ia.getTextLength())if(ua==L.getContentCount()-1){if(y!=G.length-1){ua=G[y+1];for(M=0;M<ua.getContentCount();M++)L.addContent(ua.getContent(M));G.splice(y+1,1)}}else y=L.getContent(ua+
1),1<y.getTextLength()?y.setText(y.getText().substring(1)):L.removeContent(ua+1);else y=ia.getText(),ia.setText(y.substring(0,M)+y.substring(M+1))}}V||(V=new Ib(na,A.getFromContentIndex(),A.getFromOffset()));A=new Nb(V);ja(H,S,A);return A};this.changeParagraphStyle=function(A,y){for(var L=A.getFromParagraphIndex();L<=A.getToParagraphIndex();L++)y(G[L])};this.changeContentStyle=function(A,y){for(var L=A.getFromParagraphIndex(),na=A.getFromContentIndex(),H=A.getFromOffset(),S=A.getToParagraphIndex(),
V=A.getToContentIndex(),ua=A.getToOffset(),M=S;M>=L;M--){var ia=G[M],la=ia.getContentCount()-1;if(M==S){var Ga=ia.getContent(V),gb=Ga.getText();Ga.setText(gb.substring(0,ua));var wa=new Da;wa.setText(gb.substring(ua));wa.brushStyleBy(Ga);ia.insertContent(V+1,wa);la=V}gb=0;M==L&&(Ga=ia.getContent(na),gb=Ga.getText(),Ga.setText(gb.substring(H)),wa=new Da,wa.setText(gb.substring(0,H)),wa.brushStyleBy(Ga),ia.insertContent(na,wa),la++,gb=na+1,A.updateStartPosition(na+1,0),L==S&&A.updateEndPosition(la,
ia.getContent(la).getTextLength()));for(;la>=gb;la--)Ga=ia.getContent(la),y(Ga)}ja(L,S,A)};var xa=function(A){var y=A.getToParagraphIndex(),L=G[y];y=za.insertParagraph(y+1);y.brushStyleBy(L);for(var na=L.getContentCount()-1;na>A.getToContentIndex();na--){var H=L.removeContent(na);y.insertContent(0,H)}H=L.getContent(A.getToContentIndex());L=H.getText().substring(A.getToOffset());H.setText(H.getText().substring(0,A.getToOffset()));A=new Da;A.setText(L);A.brushStyleBy(H);y.insertContent(0,A)},va=function(A){if(A.isInsideOneParagraph()){var y=
G[A.getFromParagraphIndex()];if(A.isInsideOneContent()){var L=y.getContent(A.getFromContentIndex());y=L.getText();L.setText(y.substring(0,A.getFromOffset())+y.substring(A.getToOffset()))}else for(L=y.getContent(A.getFromContentIndex()),L.setText(L.getText().substring(0,A.getFromOffset())),L=y.getContent(A.getToContentIndex()),L.setText(L.getText().substring(A.getToOffset())),L=A.getToContentIndex()-1;L>A.getFromContentIndex();L--)y.removeContent(L)}else{y=G[A.getFromParagraphIndex()];L=y.getContent(A.getFromContentIndex());
L.setText(L.getText().substring(0,A.getFromOffset()));for(L=y.getContentCount()-1;L>A.getFromContentIndex();L--)y.removeContent(L);var na=G[A.getToParagraphIndex()];L=na.getContent(A.getToContentIndex());L.setText(L.getText().substring(A.getToOffset()));for(L=A.getToContentIndex()-1;0<=L;L--)na.removeContent(L);G.splice(A.getFromParagraphIndex()+1,A.getToParagraphIndex()-A.getFromParagraphIndex());for(L=0;L<na.getContentCount();L++)y.addContent(na.getContent(L))}},ja=function(A,y,L){for(;y>=A;y--)for(var na=
G[y],H=null,S=na.getContentCount()-1;0<=S;S--){var V=na.getContent(S);if(V.isTextEmpty()&&1<na.getContentCount()){na.removeContent(S);if(y==L.getFromParagraphIndex())if(S<L.getFromContentIndex())L.updateStartPosition(L.getFromContentIndex()-1);else if(S==L.getFromContentIndex()){V=0==S?0:S-1;var ua=0==S?0:na.getContent(S-1).getTextLength();L.updateStartPosition(V,ua)}y==L.getToParagraphIndex()&&(S<L.getToContentIndex()?L.updateEndPosition(L.getToContentIndex()-1):S==L.getToContentIndex()&&(V=0==S?
0:S-1,ua=0==S?0:na.getContent(S-1).getTextLength(),L.updateEndPosition(V,ua)))}else H&&V.isStyleDuplicated(H)&&(ua=V.getTextLength(),V.setText(V.getText()+H.getText()),H=S+1,na.removeContent(H),y==L.getFromParagraphIndex()&&(H<L.getFromContentIndex()?L.updateStartPosition(L.getFromContentIndex()-1):H==L.getFromContentIndex()&&L.updateStartPosition(L.getFromContentIndex()-1,ua+L.getFromOffset())),y==L.getToParagraphIndex()&&(H<L.getToContentIndex()?L.updateEndPosition(L.getToContentIndex()-1):H==L.getToContentIndex()&&
L.updateEndPosition(L.getToContentIndex()-1,ua+L.getToOffset()))),H=V}},ta=function(A,y,L){for(var na=A?A.getFromParagraphIndex():0,H=A?A.getToParagraphIndex():G.length-1,S=na;S<=H;S++){S>na&&L&&L();for(var V=G[S],ua=A&&S==na?A.getFromContentIndex():0,M=A&&S==H?A.getToContentIndex():V.getContentCount()-1;ua<=M;ua++){var ia=V.getContent(ua);if(y(S,V,ua,ia))return}}}}function pb(){var za=this,G=[],xa="left",va=1.5,ja=0,ta=0,A=0;this.getContentCount=function(){return G.length};this.getContent=function(y){return G[y]};
this.removeContent=function(y){return G.splice(y,1)[0]};this.addContent=function(y){G.push(y)};this.insertContent=function(y,L){G.splice(y,0,L)};this.isTextEmpty=function(){for(var y=0;y<G.length;y++)if(!G[y].isTextEmpty())return!1;return!0};this.clone=function(){var y=new pb;y.brushStyleBy(za);for(var L=0;L<G.length;L++){var na=G[L].clone();y.addContent(na)}return y};this.brushStyleBy=function(y){xa=y.getAlign();va=y.getLineHeight();ja=y.getMarginBefore();ta=y.getMarginAfter();A=y.getIndent()};this.getMaxFontSize=
function(){for(var y=0,L=0;L<G.length;L++)y=Math.max(y,G[L].getFontSize());return y};this.getAlign=function(){return xa};this.setAlign=function(y){xa=y};this.getLineHeight=function(){return va};this.setLineHeight=function(y){va=y};this.getMarginBefore=function(){return ja};this.setMarginBefore=function(y){ja=y};this.getMarginAfter=function(){return ta};this.setMarginAfter=function(y){ta=y};this.getIndent=function(){return A};this.setIndent=function(y){A=y}}function Da(){var za=this,G="",xa,va=12,
ja=!1,ta=!1,A,y;this.getText=function(){return G};this.setText=function(L){G=L};this.getTextLength=function(){return G.length};this.isTextEmpty=function(){return G?!1:!0};this.clone=function(){var L=new Da;L.setText(G);L.brushStyleBy(za);return L};this.brushStyleBy=function(L){xa=L.getFontName();va=L.getFontSize();ja=L.isBold();ta=L.isItalic();A=L.getColor()};this.isStyleDuplicated=function(L){return xa==L.getFontName()&&va==L.getFontSize()&&ja==L.isBold()&&ta==L.isItalic()&&A==L.getColor()};this.getFontName=
function(){return xa};this.setFontName=function(L){xa=L};this.getFontSize=function(){return va};this.setFontSize=function(L){va=L};this.isBold=function(){return ja};this.setBold=function(L){ja=L};this.isItalic=function(){return ta};this.setItalic=function(L){ta=L};this.getColor=function(){return A};this.setColor=function(L){A=L};this.hookUiCustomDecorator=function(L){y=L};this.uiCustomDecorating=function(L){y&&y(L)}}function jb(){Da.call(this);var za=this;this.applyTo=function(G){void 0!==za.getFontName()&&
G.setFontName(za.getFontName());void 0!==za.getFontSize()&&G.setFontSize(za.getFontSize());void 0!==za.isBold()&&G.setBold(za.isBold());void 0!==za.isItalic()&&G.setItalic(za.isItalic());void 0!==za.getColor()&&G.setColor(za.getColor())}}function Ib(za,G,xa){var va=G,ja=xa;this.getParagraphIndex=function(){return za};this.getContentIndex=function(){return va};this.getOffset=function(){return ja};this.update=function(ta,A){va=ta;"number"==typeof A&&(ja=A)};this.toString=function(){return za+","+va+
","+ja}}function Nb(za,G){var xa=this,va=G?G:new Ib(za.getParagraphIndex(),za.getContentIndex(),za.getOffset());this.isInsideOneParagraph=function(){return za.getParagraphIndex()==va.getParagraphIndex()};this.isInsideOneContent=function(){return xa.isInsideOneParagraph()&&za.getContentIndex()==va.getContentIndex()};this.isCollapse=function(){return xa.isInsideOneContent()&&za.getOffset()==va.getOffset()};this.getFromParagraphIndex=function(){return za.getParagraphIndex()};this.getToParagraphIndex=
function(){return va.getParagraphIndex()};this.getFromContentIndex=function(){return za.getContentIndex()};this.getToContentIndex=function(){return va.getContentIndex()};this.getFromOffset=function(){return za.getOffset()};this.getToOffset=function(){return va.getOffset()};this.updateStartPosition=function(ja,ta){za.update(ja,ta)};this.updateEndPosition=function(ja,ta){va.update(ja,ta)};this.toString=function(){return za.toString()+"~"+va.toString()}}function lb(){var za=RegExp("\u21b5","gm"),G=this,
xa,va,ja="#333333",ta="transparent";this.getJqUi=function(){va||(va=$("<div>"),va.css("padding","4px 6px"),va.css("overflow-x","hidden"),va.css("overflow-y","auto"),va.css("white-space","pre-wrap"),xa&&A());return va};this.setModel=function(y){xa=y;va&&A()};this.setDefaultColor=function(y){ja=y;G.refresh()};this.getDefaultColor=function(){return ja};this.setOccupierColor=function(y){ta=y;va&&va.find(".occupier").css("color",ta)};this.refresh=function(){xa&&va&&A()};this.searchJqUiOfParagraphs=function(){return G.getJqUi().children(".paragraph")};
this.searchJqUiOfContents=function(y){return y?y.children(".content"):G.getJqUi().find(".content")};this.searchJqUiOfContent=function(y,L){y=".paragraph:eq(#1) .content:eq(#2)".replace("#1",y).replace("#2",L);return G.getJqUi().find(y)};this.searchHtmlUiOfText=function(y){y=y[0];var L=y.childNodes;return L&&0<L.length?(y=L[0],[y,y.length]):[y,0]};this.searchText=function(){var y=G.getJqUi().text();return y=y.replace(za,"")};this.upwardSearchOccupier=function(y){for(y=$(y);!y.hasClass("occupier");)if(y=
y.parent(),0==y.length||y[0]==va[0]||y[0]==document.body)return null;return y};this.searchOccupierInstead=function(y){return G.searchJqUiOfContents($(y).parent())[0]};var A=function(){for(var y=$(document.createDocumentFragment()),L=0;L<xa.getParagraphCount();L++){var na=xa.getParagraph(L),H=0<L?xa.getParagraph(L-1):null,S=$("<div>");S.addClass("paragraph");S.appendTo(y);var V=S,ua=na;H=H?H.getMarginAfter():0;V.css("text-align",ua.getAlign());V.css("line-height",ua.getLineHeight()+"em");V.css("margin-top",
H+ua.getMarginBefore()+"px");V.css("margin-bottom",ua.getMarginAfter()+"px");V.css("text-indent",ua.getIndent()+"em");V.css("font-size",ua.getMaxFontSize()+"px");for(V=0;V<na.getContentCount();V++){ua=na.getContent(V);H=$("<span>");H.addClass("content");H.text(ua.getText());H.appendTo(S);var M=H,ia=ua;M.css("font-family",ia.getFontName()?ia.getFontName():"");M.css("font-size",ia.getFontSize()+"px");ia.isBold()&&M.css("font-weight","bold");ia.isItalic()&&M.css("font-style","italic");ia.getColor()&&
M.css("color",ia.getColor());ua.uiCustomDecorating(H)}na.isTextEmpty()&&(na=$("<span>"),na.addClass("occupier"),na.text("\u21b5"),na.css("font-size","8px"),na.css("color",ta),na.appendTo(S))}va.empty();va.append(y);va.css("color",ja)}}function Vb(){var za,G,xa,va,ja,ta,A,y,L,na,H,S,V,ua,M,ia,la;this.hookDefaultColorGetter=function(ib){za=ib};this.getJqUi=function(){if(!va){ja=Ob(Qa.get("fontName","\u5b57\u4f53"));ta=Rb(Qa.get("fontSize","\u5b57\u53f7"));A=ec("rich-bold",Qa.get("bold","\u52a0\u7c97"));
y=fc("rich-italic",Qa.get("italic","\u659c\u4f53"));L=nc("rich-color",Qa.get("color","\u5b57\u4f53\u989c\u8272"));na=jc("left","rich-left",Qa.get("alignLeft","\u5de6\u5bf9\u9f50"));H=jc("center","rich-center",Qa.get("alignCenter","\u5c45\u4e2d"));S=jc("right","rich-right",Qa.get("alignRight","\u53f3\u5bf9\u9f50"));V=jc("justify","rich-justify",Qa.get("alignJustify","\u4e24\u7aef\u5bf9\u9f50"));ua=Dc("rich-lineheight",Qa.get("lineHeight","\u884c\u8ddd"));M=xc("rich-indent",Qa.get("indent","\u6bb5\u9996\u7f29\u8fdb"));
ia=lc(!0,"rich-marginbefore",Qa.get("marginBefore","\u6bb5\u524d\u95f4\u8ddd"));la=lc(!1,"rich-marginafter",Qa.get("marginAfter","\u6bb5\u540e\u95f4\u8ddd"));va=$("<div>");var ib=Ga(ja,0,108);ib=Ga(ta,ib,44);ib=Ga(A,ib,20);ib=Ga(y,ib,20);ib=Ga(L,ib,32);ib=Ga(na,ib,20);ib=Ga(H,ib,20);ib=Ga(S,ib,20);ib=Ga(V,ib,20);ib=Ga(ua,ib,32);ib=Ga(M,ib,32);ib=Ga(ia,ib,32);Ga(la,ib,32)}return va};this.updateState=function(ib,wb){ja.setSelectedModel(wb.getFontName());ta.setSelectedModel(wb.getFontSize());A.setSelected(wb.isBold());
y.setSelected(wb.isItalic());L.setSelectedModel(wb.getColor());M.setSelectedModel(ib.getIndent());na.setSelected("left"==ib.getAlign());H.setSelected("center"==ib.getAlign());S.setSelected("right"==ib.getAlign());V.setSelected("justify"==ib.getAlign());ua.setSelectedModel(ib.getLineHeight());ia.setSelectedModel(ib.getMarginBefore());la.setSelectedModel(ib.getMarginAfter())};this.setStyleModifyListener=function(ib,wb){G=ib;xa=wb};var Ga=function(ib,wb,Eb){va.append(ib.getJqUi());ya.layoutCtrl(ib.getJqUi(),
wb,0,Eb,20);return wb+Eb+4},gb=function(ib,wb){var Eb=new mb,Yb=Eb.getJqUi();Yb.attr("title",wb);wb=$("<div>");Ta.background(wb,ib);wb.appendTo(Yb);ya.layoutCtrlCenterAlign(wb,16);ya.layoutCtrlMiddleAlign(wb,16);return Eb},wa=function(ib,wb,Eb,Yb,Qb){var Zb=new aa;Eb&&Zb.setCustomPainter(function(O,Ia){Ia.data("init")||(Ia.data("init",!0),pc(Ia),O=$("<div>"),Ta.background(O,Eb),O.appendTo(Ia),ya.layoutCtrlCenterAlign(O,16),ya.layoutCtrlMiddleAlign(O,16))});Zb.setDropdownCreator(function(O,Ia,tb,bc){bc=
new X;bc.setText(ib+" ("+wb+")");var Pb=new Wa;Yb(Pb);Pb.setValue(Ia);Pb.addValueChangedListener(function(yc,vc,hc,Bc){Bc==Wa.CHANGED_BY_MANUAL_EDIT&&tb(hc)});Ia=new Fa;Ia.setText(Qa.get("confirmButton","\u786e\u5b9a"));Ia.addActionListener(function(yc){tb(Pb.getValue())});ya.layoutCtrlWithLRTB(bc.getJqUi(),10,10,null,4,null,23);ya.layoutCtrlWithLRTB(Pb.getJqUi(),10,null,68,30,null,23);ya.layoutCtrlWithLRTB(Ia.getJqUi(),null,10,42,30,null,23);O.append(bc.getJqUi());O.append(Pb.getJqUi());O.append(Ia.getJqUi());
O.css("background-color","#fff");return[140,66]});Zb.addSelectionListener(function(O,Ia){Ia&&Qb(O.getSelectedModel())});Zb.getJqUi().attr("title",ib);return Zb},Ob=function(ib){var wb=new aa;wb.setDropdownCreator(function(Eb,Yb,Qb,Zb){Zb=new X;Zb.setText(ib);var O=new nb;O.setUiListMode(!0);O.setDefaultDisplay("("+Qa.get("systemDefaultFont","\u9ed8\u8ba4\u5b57\u4f53")+")");O.setSelected(Yb);O.setSelectionListener(function(Ia,tb){setTimeout(function(){Qb(tb)},0)});ya.layoutCtrlWithLRTB(Zb.getJqUi(),
10,10,null,4,null,23);ya.layoutCtrlWithLRTB(O.getJqUi(),10,10,null,30,10,null);Eb.append(Zb.getJqUi());Eb.append(O.getJqUi());Eb.css("background-color","#fff");return[240,200]});wb.addSelectionListener(function(Eb,Yb){Yb&&xa(function(Qb){Qb.setFontName(Eb.getSelectedModel())})});wb.getJqUi().attr("title",ib);wb.setCustomPainter(function(Eb,Yb){if(Eb){var Qb=nb.searchDisplayName(Eb);!Qb&&(Qb=Eb)}else Qb="("+Qa.get("systemDefaultFont","\u9ed8\u8ba4\u5b57\u4f53")+")";Yb.text(Qb)});return wb},Rb=function(ib){ib=
wa(ib,Qa.get("unitPx","\u50cf\u7d20"),null,function(wb){wb.setConstraint(10,100,1)},function(wb){xa(function(Eb){Eb.setFontSize(wb)})});ib.setCustomPainter(function(wb,Eb){pc(Eb);Eb.text(wb);Eb.css("left",0);Eb.css("right",12)});return ib},ec=function(ib,wb){ib=gb(ib,wb);ib.addActionListener(function(Eb){var Yb=Eb.isSelected();xa(function(Qb){Qb.setBold(Yb)})});return ib},fc=function(ib,wb){ib=gb(ib,wb);ib.addActionListener(function(Eb){var Yb=Eb.isSelected();xa(function(Qb){Qb.setItalic(Yb)})});
return ib},jc=function(ib,wb,Eb){wb=gb(wb,Eb);wb.addActionListener(function(Yb){Yb.isSelected()?(na.setSelected(!1),H.setSelected(!1),S.setSelected(!1),V.setSelected(!1),Yb.setSelected(!0),G(function(Qb){Qb.setAlign(ib)})):(Yb.setSelected(!0),G(null))});return wb},xc=function(ib,wb){return wa(wb,Qa.get("unitEm","\u500d"),ib,function(Eb){Eb.setConstraint(0,10,.5);Eb.supportDecimal(2)},function(Eb){G(function(Yb){Yb.setIndent(Eb)})})},lc=function(ib,wb,Eb){return wa(Eb,Qa.get("unitPx","\u50cf\u7d20"),
wb,function(Yb){Yb.setConstraint(0,100,1)},function(Yb){G(function(Qb){ib?Qb.setMarginBefore(Yb):Qb.setMarginAfter(Yb)})})},Dc=function(ib,wb){return wa(wb,Qa.get("unitEm","\u500d"),ib,function(Eb){Eb.setConstraint(.1,10,.1);Eb.supportDecimal(2)},function(Eb){G(function(Yb){Yb.setLineHeight(Eb)})})},nc=function(ib,wb){var Eb=new aa;Eb.setCustomPainter(function(Yb,Qb){var Zb=Qb.data("myColorUi");Zb||(pc(Qb),Qb.css("overflow","visible"),Zb=$("<div>"),Ta.background(Zb,ib),Zb.appendTo(Qb),ya.layoutCtrl(Zb,
2,0,16,16),Zb=$("<div>"),Zb.css("border","1px solid #f0f0f0"),Zb.appendTo(Qb),ya.layoutCtrl(Zb,2,11,14,4),Qb.data("myColorUi",Zb));Zb.css("background-color",Yb?Yb:za())});Eb.setDropdownCreator(function(Yb,Qb,Zb,O){O=new gc;O.setColorConfirmedListener(function(Ia){Zb(Ia)});Qb=O.createJqUi(Qb,Qa.get("systemDefault","\u7cfb\u7edf\u9ed8\u8ba4"));Qb.appendTo(Yb);return[Qb.outerWidth(),Qb.outerHeight()]});Eb.addSelectionListener(function(Yb,Qb){Qb&&xa(function(Zb){var O=Yb.getSelectedModel();Zb.setColor(O)})});
Eb.getJqUi().attr("title",wb);return Eb},pc=function(ib){ib.css("left",0);ib.css("right",12);ib.next().css("right",0)}}function gc(){var za=["#ffffff #000000 #1f497d #c0504d #9bbb59 #8064a2 #4bacc6 #f79646".split(" "),"#f2f2f2 #7f7f7f #c6d9f0 #f2dcdb #ebf1dd #e5e0ec #dbeef3 #fdeada".split(" "),"#d8d8d8 #595959 #8db3e2 #e5b9b7 #d7e3bc #ccc1d9 #b7dde8 #fbd5b5".split(" "),"#bfbfbf #3f3f3f #548dd4 #d99694 #c3d69b #b2a2c7 #92cddc #fac08f".split(" "),"#a5a5a5 #262626 #17365d #953734 #76923c #5f497a #31859b #e36c09".split(" "),
"#7f7f7f #0c0c0c #0f243e #632423 #4f6128 #3f3151 #205867 #974806".split(" "),"#c00000 #ff0000 #ffc000 #ffff00 #92d050 #00b050 #00b0f0 #7030a0".split(" ")],G;this.setColorConfirmedListener=function(xa){G=xa};this.createJqUi=function(xa,va){var ja=new mb;ja.setText(va);ja.addActionListener(function(ta){ta.setSelected(!0);G(null)});va=ja.getJqUi();va.css("line-height","18px");xa?va.css("border","1px solid #dbdbdb"):(ja.setSelected(!0),xa="#808080");ja=new Ra;ja.setColorPool(za);ja.getModel().decodeFrom(xa);
ja.addSelectedListener(function(ta){ta=ta.encodeToHexRgb();G(ta)});xa=ja.createJqUi();ja=$("<div>");ja.append(va);ja.append(xa);ya.layoutCtrlWithLRTB(va,6,6,null,8,null,20);ya.layoutCtrlWithLRTB(xa,0,0,null,28,0,null);ja.css("background-color","#fff");ja.css("width",xa.outerWidth());ja.css("height",xa.outerHeight()+28);return ja}}function Pa(){var za,G=$("<div>"),xa=$("<div>");this.getJqUi=function(){za||(G.css({color:"#bbb"}),xa.css({color:"#bbb","text-align":"right"}),za=$("<div>"),za.append(G),
za.append(xa),ya.layoutCtrlWithLRTB(G,4,"50%",null,0,0,null),ya.layoutCtrlWithLRTB(xa,"50%",4,null,0,0,null));return za};this.setCursorPosition=function(ja,ta){var A="";if(ta){var y=Qa.get("statusCursor","\u6bb5\u843d#1, \u5b57\u7b26#2"),L=ta.getFromParagraphIndex(),na=va(ja,L,ta.getFromContentIndex(),ta.getFromOffset());A=y.replace("#1",L+1).replace("#2",na+1);ta.isCollapse()||(L=ta.getToParagraphIndex(),na=va(ja,L,ta.getToContentIndex(),ta.getToOffset()),A=A+"~"+y.replace("#1",L+1).replace("#2",
na+1))}G.text(A)};this.setInputableCharacterCount=function(ja){var ta=Qa.get("statusRemainChar","\u8fd8\u53ef\u4ee5\u8f93\u5165#1\u5b57");ta=ta.replace("#1",ja);xa.text(ta)};this.warningMaxCharacters=function(ja){var ta=$("<div>");ta.css("background-color","#fff");var A=$("<div>");A.text(Qa.get("statusWarningMaxChar","\u5b57\u6570\u8d85\u8fc7#1\u5b57\u4e0a\u9650").replace("#1",ja));A.css("color","#930");ya.layoutCtrlWithLRTB(ta,0,0,null,0,0,null);ya.layoutCtrlWithLRTB(A,0,0,null,0,0,null);ta.append(A);
za.append(ta);ja=new La;ja.setDuration(850,150);ja.setAction(function(){ta.remove()});ja.blink(A)};var va=function(ja,ta,A,y){ja=ja.getParagraph(ta);for(ta=0;ta<A;ta++)y+=ja.getContent(ta).getTextLength();return y}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.common&&(com.kingdee.bos.qing.common=
{});"undefined"==typeof com.kingdee.bos.qing.common.rich&&(com.kingdee.bos.qing.common.rich={});var pa=com.kingdee.bos.qing.common.rich;pa.Chapter=g;pa.RichDisplayer=lb;pa.RichEditor=function(){var za=String.fromCharCode(13),G=String.fromCharCode(10),xa=za+G,va=new RegExp(za,"gm"),ja=new RegExp(xa,"gm"),ta,A,y,L,na,H=1E3,S,V,ua;this.setMaxCharacters=function(O){H=O};this.setModel=function(O){ta=O;la().setModel(O);ib()};this.setDefaultColor=function(O){la().setDefaultColor(O)};this.setBackgroundColor=
function(O){!O&&(O="#fff");var Ia=$b.decodeStringToRgbaArray(O),tb=$b.rgbToHsl(Ia[0],Ia[1],Ia[2]);Ia=tb[0];tb=tb[2];30<Ia&&190>Ia?(Ia=40<tb?"#000":"#fff",tb=40<tb?"#333":"#ccc"):(Ia=70<tb?"#000":"#fff",tb=70<tb?"#333":"#ccc");la().setOccupierColor(tb);la().getJqUi().css({"background-color":O,"caret-color":Ia})};this.getJqUi=function(){if(!A){var O=M().getJqUi();M().updateState(ta.getParagraph(0),ta.getParagraph(0).getContent(0));var Ia=la().getJqUi();Ia.css("border","1px solid #ccc");Ia.css("outline",
"none");var tb=ia().getJqUi();0>Math.max(0,H-S.length)+0-0&&ia().warningMaxCharacters(H);A=$("<div>");A.append(O);A.append(Ia);A.append(tb);ya.layoutCtrlWithLRTB(O,0,0,null,0,null,24);ya.layoutCtrlWithLRTB(Ia,0,0,null,24,24,null);ya.layoutCtrlWithLRTB(tb,0,0,null,null,0,24)}return A};this.requestFocus=function(){la().getJqUi().focus();if(V)Yb(V);else{var O=ta.getParagraphCount()-1,Ia=ta.getParagraph(O),tb=Ia.getContentCount()-1;Ia=Ia.getContent(tb).getTextLength();O=new Ib(O,tb,Ia);Yb(new Nb(O));
wa()}};this.getSelectingScope=function(){return ta.getScope(V)};this.inputTextOnCursor=function(O){pc([O])};var M=function(){L||(L=new Vb,L.hookDefaultColorGetter(la().getDefaultColor),L.setStyleModifyListener(function(O){if(V){var Ia=O?!0:!1;Ia&&ta.changeParagraphStyle(V,O);Ia&&la().refresh();Yb(V)}},function(O){if(V){var Ia=O?!0:!1;if(Ia)if(V.isCollapse()){var tb=ta.getParagraph(V.getFromParagraphIndex()).getContent(V.getFromContentIndex());tb.isTextEmpty()?O(tb):(!ua&&(ua=jb.create()),O(ua))}else ta.changeContentStyle(V,
O);Ia&&la().refresh();Yb(V)}}));return L},ia=function(){na||(na=new Pa);return na},la=function(){if(!y){y=new lb;var O=y.getJqUi();O.attr("contenteditable",!0);O.on("compositionstart",lc);O.on("compositionend",Dc);O.on("keydown",fc);O.on("keyup",jc);O.on("mousedown",Ga);O.on("paste",Ob);O.on("cut",Rb);O.on("copy",ec)}return y},Ga=function(O){O.shiftKey||window.getSelection().removeAllRanges();O=$(document.body);O.on("mouseup",gb);O.on("mouseleave",gb)},gb=function(O){O=$(document.body);O.off("mouseup",
gb);O.off("mouseleave",gb);wa()},wa=function(){ua=null;var O=window.getSelection(),Ia=O.anchorNode,tb=O.anchorOffset,bc=O.focusNode,Pb=O.focusOffset;if(Ia&&bc){O=Ia==bc;var yc=!1,vc=la().upwardSearchOccupier(Ia);if(vc){yc=!0;var hc=vc.siblings();Ia=0==hc.length?vc.parent()[0]:hc[0];tb=0;O&&(bc=Ia,Pb=0)}!O&&(vc=la().upwardSearchOccupier(bc))&&(yc=!0,hc=vc.siblings(),bc=0==hc.length?vc.parent()[0]:hc[0],Pb=0);O&&yc&&Qb(Ia,tb,bc,Pb);Pb=[Ia,tb,bc,Pb];Ia=Pb[0];tb=Pb[1];bc=Pb[2];Pb=Pb[3];yc=la().searchJqUiOfParagraphs();
for(vc=0;vc<yc.length;vc++){hc=yc.eq(vc);hc=la().searchJqUiOfContents(hc);for(var Bc=0;Bc<hc.length;Bc++){var Jc=hc.eq(Bc),Kc=la().searchHtmlUiOfText(Jc)[0];Jc=Eb(Kc,Ia);Kc=O?Jc:Eb(Kc,bc);if(!f&&(Jc||Kc)){var k=O?Math.min(tb,Pb):Jc?tb:Pb;var f=new Ib(vc,Bc,k);if(!O)continue}if(f&&!l&&(Jc||Kc)){k=O?Math.max(tb,Pb):Kc?Pb:tb;var l=new Ib(vc,Bc,k);break}}}!f&&(f=wb());!l&&(l=wb());f=new Nb(f,l)}else f=null;f&&(f.isCollapse()?0==f.getFromOffset()&&0<f.getFromContentIndex()&&(l=f.getFromContentIndex()-
1,O=ta.getParagraph(f.getFromParagraphIndex()),bc=O.getContent(l),O=bc.getTextLength(),f.updateStartPosition(l,O),f.updateEndPosition(l,O)):(O=ta.getParagraph(f.getFromParagraphIndex()),bc=O.getContent(f.getFromContentIndex()),f.getFromOffset()==bc.getTextLength()&&f.getFromContentIndex()<O.getContentCount()-1&&f.updateStartPosition(f.getFromContentIndex()+1,0),0==f.getToOffset()&&0<f.getToContentIndex()&&(O=ta.getParagraph(f.getToParagraphIndex()),bc=O.getContent(f.getToContentIndex()-1),f.updateEndPosition(f.getToContentIndex()-
1,bc.getTextLength()))),V=f,f=ta.getParagraph(V.getFromParagraphIndex()),l=f.getContent(V.getFromContentIndex()),M().updateState(f,l),ia().setCursorPosition(ta,V))},Ob=function(O){O.preventDefault();O=(O.originalEvent.clipboardData||window.clipboardData).getData("Text");O=O.replace(ja,G);O=O.replace(va,G);O=O.split(G);pc(O)},Rb=function(O){O.preventDefault();V.isCollapse()||(Zb(O),pc([""]))},ec=function(O){O.preventDefault();V.isCollapse()||Zb(O)},fc=function(O){if(13==O.keyCode||8==O.keyCode||46==
O.keyCode)O.preventDefault(),O=ta.inputCommand(V,O.keyCode),la().refresh(),ib(),Yb(O),wa();else if(O.ctrlKey&&65==O.keyCode){O.preventDefault();var Ia=la().searchJqUiOfContents();O=la().searchHtmlUiOfText(Ia.eq(0));Ia=la().searchHtmlUiOfText(Ia.eq(Ia.length-1));Qb(O[0],0,Ia[0],Ia[1]);wa()}},jc=function(O){xc||(33<=O.keyCode&&40>=O.keyCode?wa():nc())},xc=!1,lc=function(O){xc=!0},Dc=function(O){xc=!1;nc()},nc=function(){var O=la().searchText();if(O!==S){for(var Ia=Math.min(S.length,O.length),tb=Ia,
bc=0;bc<Ia;bc++)if(S[bc]!==O[bc]){tb=bc;break}bc=O.length-(Ia-tb);for(var Pb=Ia;Pb>tb;Pb--){var yc=Ia-Pb;if(S[S.length-1-yc]!==O[O.length-1-yc]){bc=O.length-yc;break}}O=O.substring(tb,bc);pc([O])}},pc=function(O){var Ia=O.join("").length,tb=V.isCollapse()?0:ta.getAllTextLength(V);0>Math.max(0,H-S.length)+tb-Ia?(la().refresh(),Yb(V),ia().warningMaxCharacters(H)):(O=ta.inputText(V,O,ua),la().refresh(),ib(),Yb(O),wa())},ib=function(){S=la().searchText();ia().setInputableCharacterCount(Math.max(0,H-S.length))},
wb=function(){var O=ta.getParagraphCount()-1,Ia=ta.getParagraph(O),tb=Ia.getContentCount()-1;Ia=Ia.getContent(tb).getTextLength();return new Ib(O,tb,Ia)},Eb=function(O,Ia){for(var tb=la().getJqUi()[0];O!=Ia;)if(O=O.parentNode,O==tb||O==document.body)return!1;return!0},Yb=function(O){var Ia=O.getFromParagraphIndex(),tb=O.getFromContentIndex(),bc=O.getFromOffset();Ia=la().searchJqUiOfContent(Ia,tb);Ia=la().searchHtmlUiOfText(Ia)[0];tb=O.getToParagraphIndex();var Pb=O.getToContentIndex();O=O.getToOffset();
Pb=la().searchJqUiOfContent(tb,Pb);var yc=la().searchHtmlUiOfText(Pb),vc=yc[1];Qb(Ia,bc,yc[0],O);bc=Math.max(ta.getParagraph(tb).getMaxFontSize(),Pb.prop("offsetHeight"));Ia=0==vc?1:O/vc;bc=Pb.prop("offsetTop")+parseInt(bc*Ia);Ia=la().getJqUi();tb=Ia.prop("scrollTop");O=tb+Ia.prop("clientHeight");if(bc<tb||bc>O)O=tb+parseInt(.5*Ia.prop("clientHeight")),Ia.prop("scrollTop",tb+(bc-O))},Qb=function(O,Ia,tb,bc){var Pb=document.createRange();Pb.setStart(O,Ia);Pb.setEnd(tb,bc);O=window.getSelection();O.removeAllRanges();
O.addRange(Pb)},Zb=function(O){(O.originalEvent.clipboardData||window.clipboardData).setData("Text",ta.getAllText(xa,V))}};var Ya,ya,$b,ub,Qa,mb,aa,Wa,X,Fa,Ra,La,nb;(function(){var za=com.kingdee.bos.qing.common;Ya=za.Util;ya=za.DomUtil;$b=za.ColorUtil;za=com.kingdee.bos.qing.framework.common;ub=za.AbstractIcons;Qa=za.MultilanguageManager.createPackageAccessor(pa);za=com.kingdee.bos.qing.ui.component;mb=za.ToggleButton;aa=za.DropdownSelector;Wa=za.Spinner;X=za.Label;Fa=za.WorkButton;Ra=za.ColorChooser;
za=com.kingdee.bos.qing.common.ui;La=za.BlinkHelper;nb=za.FontSelector})();var Ta=new function(){ub.call(this);var za=this.protectedMethod;this.protectedInit=function(xa,va){com.kingdee.bos.qing.common.ComboIcon.define(va,"rich");G(0,0,"rich-bold");G(0,1,"rich-italic");G(0,2,"rich-underline");G(0,3,"rich-strikethrough");G(0,4,"rich-color");G(1,0,"rich-left");G(1,1,"rich-center");G(1,2,"rich-right");G(1,3,"rich-justify");G(1,4,"rich-lineheight");G(1,5,"rich-marginbefore");G(1,6,"rich-marginafter");
G(1,7,"rich-indent")};var G=function(xa,va,ja){za.registIcon(xa,va,ja)}};g.create=function(za){var G=new g,xa=G.insertParagraph(0),va=new Da;xa.insertContent(0,va);za&&za(xa,va);return G};g.createParagraph=function(){return new pb};g.createContent=function(){return new Da};jb.create=function(){var za=new jb;za.setFontName(void 0);za.setFontSize(void 0);za.setBold(void 0);za.setItalic(void 0);za.setColor(void 0);return za}})();(function(){function g(){var aa=this,Wa={},X={},Fa={};Fa[g.LINE_WIDE_1]=.75;Fa[g.LINE_WIDE_2]=1.5;Fa[g.LINE_WIDE_3]=2.25;Fa[g.LINE_WIDE_4]=3;Fa[g.LINE_WIDE_5]=4;var Ra=[],La={};La[g.LINECOLOR_MAIN]="#808080";La[g.LINECOLOR_STRONG]=null;var nb=La[g.LINECOLOR_WEAK]=null;this.setEdge=function(A,y){Wa[A]=y;y.bindDirection(A)};this.getEdge=function(A){return Wa[A]};this.setCorner=function(A,y){X[A]=y;y.bindDirection(A)};this.getCorner=function(A){return X[A]};this.setLineThickness=function(A,y){Fa[A]=
y};this.getLineThickness=function(A){return Fa[A]};this.getAllLightItems=function(){return Ra};this.getLightItems=function(A){for(var y=null,L=0;L<Ra.length;L++){var na=Ra[L];na.getDir()==A&&(!y&&(y=[]),y.push(na))}return y};this.validateLightItems=function(){for(var A=Ra.length-1;0<=A;A--){var y=Ra[A],L=y.getDir(),na=y.getPosition();y=y.getLogicColor();L&&(na||0===na)&&y||Ra.splice(A,1)}Ra.sort(function(H,S){var V=H.getDir()-S.getDir();0==V&&(V=H.getPosition()-S.getPosition());return V})};this.setLineColor=
function(A,y){La[A]=y};this.getLineColor=function(A){return La[A]};this.hookBackgroundColor=function(A){nb=A};this.getBackgroundColor=function(){return nb};this.copyToEdit=function(){var A=new g;A.fromJsonObject(aa.toJsonObject());return A};this.toJsonObject=function(){var A={};A.edgeN=Ta(g.DIR_N);A.edgeS=Ta(g.DIR_S);A.edgeW=Ta(g.DIR_W);A.edgeE=Ta(g.DIR_E);A.cornerNW=aa.getCorner(g.DIR_NW).toJsonObject();A.cornerNE=aa.getCorner(g.DIR_NE).toJsonObject();A.cornerSW=aa.getCorner(g.DIR_SW).toJsonObject();
A.cornerSE=aa.getCorner(g.DIR_SE).toJsonObject();var y={};xa(y,g.LINE_WIDE_1);xa(y,g.LINE_WIDE_2);xa(y,g.LINE_WIDE_3);xa(y,g.LINE_WIDE_4);xa(y,g.LINE_WIDE_5);A.lineThickness=y;y={};ja(y,g.LINECOLOR_MAIN);ja(y,g.LINECOLOR_STRONG);ja(y,g.LINECOLOR_WEAK);A.lineColor=y;return A};this.fromJsonObject=function(A){Ra=[];za(A.edgeN,g.DIR_N);za(A.edgeS,g.DIR_S);za(A.edgeW,g.DIR_W);za(A.edgeE,g.DIR_E);aa.validateLightItems();G(A.cornerNW,g.DIR_NW);G(A.cornerNE,g.DIR_NE);G(A.cornerSW,g.DIR_SW);G(A.cornerSE,g.DIR_SE);
var y=A.lineThickness;va(y,g.LINE_WIDE_1);va(y,g.LINE_WIDE_2);va(y,g.LINE_WIDE_3);va(y,g.LINE_WIDE_4);va(y,g.LINE_WIDE_5);A=A.lineColor;ta(A,g.LINECOLOR_MAIN);ta(A,g.LINECOLOR_STRONG);ta(A,g.LINECOLOR_WEAK)};var Ta=function(A){return aa.getEdge(A).toJsonObject(aa.getLightItems(A))},za=function(A,y){var L=[],na=new Da;na.fromJsonObject(A,L);aa.setEdge(y,na);if(0<L.length)for(A=0;A<L.length;A++)na=L[A],na.setDir(y),Ra.push(na)},G=function(A,y){var L=new jb;L.fromJsonObject(A);aa.setCorner(y,L)},xa=
function(A,y){var L=aa.getLineThickness(y);L=Math.round(100*L);y=Qa.encodeLogicLineWide(y);A[y]=L},va=function(A,y){var L=Qa.encodeLogicLineWide(y);A=A[L];aa.setLineThickness(y,A||0===A?A/100:1)},ja=function(A,y){var L=Qa.encodeLogicColor(y);(y=aa.getLineColor(y))&&(A[L]=y)},ta=function(A,y){var L=Qa.encodeLogicColor(y);A=A[L];aa.setLineColor(y,A?A:null)}}function pb(){var aa;this.bindDirection=function(Wa){aa=Wa};this.getDirection=function(){return aa};this.isDirection=function(Wa){return 0<(aa&
Wa)};this.isTheDirection=function(Wa){return aa==Wa}}function Da(){pb.call(this);var aa=this,Wa=Da.TYPE_STRAIGHT,X=!1,Fa=g.LINE_WIDE_2,Ra=g.LINE_NONE,La=[40,80],nb=Da.FLIP_NONE,Ta=null,za=null;this.setType=function(G){Wa=G};this.getType=function(){return Wa};this.setTitleEnhanced=function(G){X=G};this.isTitleEnhanced=function(){return X};this.setMajorLineLogicWide=function(G){Fa=G};this.getMajorLineLogicWide=function(){return Fa};this.setMinorLineLogicWide=function(G){Ra=G};this.getMinorLineLogicWide=
function(){return Ra};this.setTurning=function(G,xa){La=[];(G||0===G)&&La.push(G);(xa||0===xa)&&La.push(xa)};this.getFirstTurning=function(){var G=La[0];return G?G:0};this.getSecondTurning=function(){var G=La[1];return G||0===G?G:100};this.setFlip=function(G){nb=G};this.getFlip=function(){return nb};this.setCustomMinorLine=function(G){Ta=G};this.getCustomMinorLine=function(){return Ta};this.isCustomMinorLine=function(){return Ta?!0:!1};this.hookParsedPartsBlock=function(G){za=G};this.getParsedPartsBlock=
function(G){return za?za[G]:null};this.toJsonObject=function(G){var xa={};xa.type=Qa.encodeEdgeType(Wa);if(Wa!=Da.TYPE_NONE){xa.majorWide=Qa.encodeLogicLineWide(Fa);xa.minorWide=Qa.encodeLogicLineWide(Ra);xa.flip=Qa.encodeFlip(nb);if(Wa==Da.TYPE_SINGLE_TURN||Wa==Da.TYPE_DOUBLE_TURN)xa.turnPos1=La[0],Wa==Da.TYPE_DOUBLE_TURN&&(xa.turnPos2=La[1]),X&&(xa.titleEnhanced=!0);Ta&&Ra!=g.LINE_NONE&&(xa.customMinor=Ta)}if(G){for(var va=[],ja=0;ja<G.length;ja++)va.push(G[ja].toJsonObject());xa.lightItems=va}return xa};
this.fromJsonObject=function(G,xa){Wa=Qa.decodeEdgeType(G.type);var va=G.majorWide;va&&(Fa=Qa.decodeLogicLineWide(va));(va=G.minorWide)&&(Ra=Qa.decodeLogicLineWide(va));(va=G.flip)&&(nb=Qa.decodeFlip(va));va=G.turnPos1;var ja=G.turnPos2;(va||0===va)&&(La[0]=va);(ja||0===ja)&&(La[1]=ja);X=G.titleEnhanced?!0:!1;Ta=G.customMinor;if(G=G.lightItems)for(va=0;va<G.length;va++){ja=G[va];var ta=new Ib;ta.fromJsonObject(ja);xa.push(ta)}Ta&&(G=new Nb,xa=G.decode(Ta),G=G.getException(),aa.hookParsedPartsBlock(G?
null:xa))}}function jb(){pb.call(this);var aa=jb.TYPE_NONE,Wa=g.LINE_WIDE_2,X=6;this.setType=function(Fa){aa=Fa};this.getType=function(){return aa};this.setLineLogicWide=function(Fa){Wa=Fa};this.getLineLogicWide=function(){return Wa};this.setRadius=function(Fa){X=Fa};this.getRadius=function(){return X};this.toJsonObject=function(){var Fa={};Fa.type=Qa.encodeCornerType(aa);aa!=jb.TYPE_NONE&&(Fa.lineWide=Qa.encodeLogicLineWide(Wa),Fa.radius=X);return Fa};this.fromJsonObject=function(Fa){aa=Qa.decodeCornerType(Fa.type);
var Ra=Fa.lineWide;Ra&&(Wa=Qa.decodeLogicLineWide(Ra));((Fa=Fa.radius)||0===Fa)&&(X=Fa)}}function Ib(){var aa,Wa=10,X=g.LINECOLOR_MAIN;this.setDir=function(Fa){aa=Fa};this.getDir=function(){return aa};this.setPosition=function(Fa){Wa=Fa};this.getPosition=function(){return Wa};this.setLogicColor=function(Fa){X=Fa};this.getLogicColor=function(){return X};this.toJsonObject=function(){var Fa={};Fa.pos=Wa;Fa.color=Qa.encodeLogicColor(X);return Fa};this.fromJsonObject=function(Fa){Wa=Fa.pos;X=Qa.decodeLogicColor(Fa.color)}}
function Nb(){function aa(ja,ta,A,y){this.getContent=function(){return ja};this.getType=function(){return ta};this.getCharIndex=function(){return A};this.getWordLength=function(){return y}}aa.UNIT=1;aa.PREFIX=2;aa.SUFFIX=3;aa.LB=4;aa.RB=5;var Wa=aa.UNIT,X=aa.PREFIX,Fa=aa.LB,Ra,La,nb;this.getException=function(){return Ra};this.decode=function(ja){Ra=null;for(var ta=[],A=[],y=!1,L=!1,na=[],H="",S=0;S<ja.length;S++){var V=ja.charAt(S),ua=!0;if(y)if(ua=!1,"}"==V){var M=S-H.length,ia=H,la=M,Ga=$.trim(ia);
Ga&&(ub.decodeStringToRgbArray(Ga)||(Ra=new lb(lb.INVALID_PREFIX,la,ia.length,"Invalid prefix '{"+ia+"}'.")));if(Ra)break;na.push(new aa(Ga,aa.PREFIX,M-1,H.length+2));H="";y=!1}else H+=V;else L&&(Ta(V)?(H+=V,ua=!1):(na.push(new aa(H,aa.SUFFIX,S-H.length)),H="",L=!1));if(ua)if(";"==V)A.push(na),na=[];else if(mb.isUnitKeyChar(V))na.push(new aa(V,aa.UNIT,S));else if(Ta(V))H=V,L=!0;else if("~"==V)na.push(new aa(V,aa.SUFFIX,S));else if("{"==V)y=!0;else if("}"==V){Ra=new lb(lb.UNPAIRED_BRACE,S,1,"Unpaired brace '}'.");
break}else if("("==V)na.push(new aa(V,aa.LB,S));else if(")"==V)na.push(new aa(V,aa.RB,S));else if(" "!=V){Ra=new lb(lb.UNKNOWN_CHAR,S,1,"Invalid char '"+V+"'.");break}}Ra||(y?(S=ja.length-H.length-1,Ra=new lb(lb.UNPAIRED_BRACE,S,1,"Unpaired brace '{'.")):L&&(S=ja.length-H.length,na.push(new aa(H,aa.SUFFIX,S))));A.push(na);if(!Ra)for(ja=0;ja<A.length;ja++){L=A[ja];nb=null;La=[];for(y=0;y<L.length;y++){na=L[y];switch(na.getType()){case aa.UNIT:za()==Wa&&xa();La.push(na);break;case aa.PREFIX:switch(za()){case X:La.pop();
break;case Wa:xa()}La.push(na);break;case aa.SUFFIX:switch(za()){case 255:H=La.pop();va(H,na);La.push(H);break;case Wa:xa(na);break;default:H=na.getContent(),Ra=new lb(lb.REDUNDANT_SUFFIX,na.getCharIndex(),H.length,"Missing block-unit before '"+H+"'.")}break;case aa.LB:za()==Wa&&xa();La.push(na);break;case aa.RB:switch(za()){case Fa:H=La.pop();S=na.getCharIndex()-H.getCharIndex()+1;Ra=new lb(lb.EMPTY_BRACKET,H.getCharIndex(),S,"Empty bracket pairs.");break;case Wa:xa();break;case X:S=La.pop(),H=S.getContent(),
Ra=new lb(lb.REDUNDANT_PREFIX,S.getCharIndex(),S.getWordLength(),"Missing block-unit after '{"+H+"}'.")}if(!Ra){H=[];for(S=!1;0<La.length;)if(V=za(),255==V)V=La.pop(),H.push(V);else if(V==Fa){La.pop();S=!0;break}else throw Error("Impossible");if(S){if(na=new pa,za()==X&&(S=La.pop(),na.setAppointedColor(S.getContent())),0<H.length){for(;0<H.length;)na.addSubBlock(H.pop());La.push(na)}}else Ra=new lb(lb.REDUNDANT_RB,na.getCharIndex(),1,"Missing '('.")}break;default:throw Error("Impossible");}if(Ra)break}switch(za()){case Wa:xa();
break;case X:y=La.pop(),L=y.getContent(),Ra=new lb(lb.REDUNDANT_PREFIX,y.getCharIndex(),y.getWordLength(),"Missing block-unit after '{"+L+"}'.")}if(!Ra)for(y=La.length-1;0<=y;y--)if(L=La[y],na=G(L),na==Fa){Ra=new lb(lb.REDUNDANT_LB,L.getCharIndex(),1,"Missing ')'.");break}else if(255!=na)throw Error("Impossible");L=null;if(!Ra)if(1==La.length)L=La[0];else if(1<La.length)for(L=new pa,y=0;y<La.length;y++)L.addSubBlock(La[y]);if(Ra)break;ta.push(L)}return ta};var Ta=function(ja){ja=ja.charCodeAt(0);
return 48<=ja&&57>=ja},za=function(){return 0==La.length?0:G(La[La.length-1])},G=function(ja){if(ja instanceof aa)switch(ja.getType()){case aa.UNIT:return Wa;case aa.PREFIX:return X;case aa.LB:return Fa}else if(ja instanceof Pa||ja instanceof pa)return 255;throw Error("Impossible");},xa=function(ja){var ta=La.pop(),A=new Pa;A.setUnitKey(ta.getContent());za()==X&&(ta=La.pop(),A.setAppointedColor(ta.getContent()));ja&&va(A,ja);La.push(A)},va=function(ja,ta){var A=ta.getContent(),y="~"==A?-1:parseInt(A);
0===y?Ra=new lb(lb.REDUNDANT_SUFFIX,ta.getCharIndex(),1,"Zero suffix."):9999<y&&(Ra=new lb(lb.REDUNDANT_SUFFIX,ta.getCharIndex(),A.length,"Suffix '"+A+"' is larger than 9999."));ja.setTimes(y);nb==ja&&(Ra=new lb(lb.REDUNDANT_SUFFIX,ta.getCharIndex(),A.length,"Duplicated suffix '"+A+"'."));nb=ja}}function lb(aa,Wa,X,Fa){this.getCode=function(){return aa};this.getCharStart=function(){return Wa};this.getCharLength=function(){return X};this.getMessage=function(){return Fa}}function Vb(aa,Wa){this.getChar=
function(){return aa};this.isDrawingOnePixel=function(){return(Wa&Vb.SHAPE)!=Vb.SHAPE}}function gc(){var aa=this,Wa=1,X,Fa,Ra;this.isAtom=function(){throw Error("Implement");};this.setTimes=function(La){Wa=La};this.getTimes=function(){return Wa};this.setRtTimes=function(La){X=La;Fa=Math.floor(La)};this.getComputableTimes=function(){return X};this.getDrawingTimes=function(){return Fa};this.setAppointedColor=function(La){Ra=La?La:""};this.getAppointedColor=function(){return Ra};this.isAppointedColorErased=
function(){return""===Ra};this.getUnitLength=function(La){throw Error("Implement");};this.encode=function(){var La="";Ra?La="{"+Ra+"}":aa.isAppointedColorErased()&&(La="{}");var nb="";0>Wa?nb="~":1!=Wa&&(nb=Wa);return La+aa.protectedEncodeUnit((La?!0:!1)||(nb?!0:!1))+nb};this.protectedEncodeUnit=function(La){throw Error("Implement");}}function Pa(){gc.call(this);var aa;this.isAtom=function(){return!0};this.setUnitKey=function(Wa){aa=mb.searchUnitKey(Wa)};this.getUnitKey=function(){return aa};this.getUnitLength=
function(Wa){return aa.isDrawingOnePixel()?1:Wa};this.protectedEncodeUnit=function(Wa){return aa.getChar()}}function pa(){gc.call(this);var aa=[];this.isAtom=function(){return!1};this.addSubBlock=function(Wa){aa.push(Wa)};this.getSubBlockCount=function(){return aa.length};this.getSubBlock=function(Wa){return aa[Wa]};this.getUnitLength=function(Wa){for(var X=0,Fa=0;Fa<aa.length;Fa++){var Ra=aa[Fa];X+=Ra.getUnitLength(Wa)*Ra.getComputableTimes()}return X};this.protectedEncodeUnit=function(Wa){for(var X=
"",Fa=0;Fa<aa.length;Fa++){var Ra=aa[Fa];0<Fa&&(X+=" ");X+=Ra.encode()}Wa&&(X="("+X+")");return X}}function Ya(aa){var Wa=this,X,Fa=[],Ra;this.getEdge=function(){return aa};var La=function(){return aa.isDirection(g.DIR_W|g.DIR_E)},nb=function(){return aa.isDirection(g.DIR_S|g.DIR_W)};this.isFlipLeading=function(){return La()?(aa.getFlip()&Da.FLIP_V)==Da.FLIP_V:(aa.getFlip()&Da.FLIP_H)==Da.FLIP_H};this.isFlipOrthogonal=function(){return La()?(aa.getFlip()&Da.FLIP_H)==Da.FLIP_H:(aa.getFlip()&Da.FLIP_V)==
Da.FLIP_V};this.setMajorPoints=function(Ta){X=Ta};this.getMajorPointCount=function(){return X.length};this.getMajorPoint=function(Ta){return X[Ta]};this.addMinorPart=function(Ta,za){Fa.push([Ta,za])};this.getMinorPartCount=function(){return Fa.length};this.getMinorPointA=function(Ta){return Fa[Ta][0]};this.getMinorPointB=function(Ta){return Fa[Ta][1]};this.unified=function(Ta,za){return La()?[za,Ta]:[Ta,za]};this.unifiedMajorPoints=function(){var Ta=La(),za=nb();if(Ta||za){for(var G=[],xa=X.length-
1;0<=xa;xa--){var va=X[xa];Ta&&va.exchangeXY();za&&G.push(va)}za&&(X=G)}};this.connectToBrother=function(Ta,za,G,xa){var va=aa.isDirection(g.DIR_W|g.DIR_N),ja=va?Ta.getAxialP1():Ta.getAxialPn(),ta=va?za.getAxialP1():za.getAxialPn();za=Wa.getAxialP1();va=Wa.getAxialPn();var A=(Ta=0<Fa.length)?Fa[0][0]:null,y=Ta?Fa[Fa.length-1][1]:null;La()?(G=ja.getY()+G,xa=ta.getY()-xa,za.moveYTo(G),va.moveYTo(xa),Ta&&A.moveXTo(G),Ta&&y.moveXTo(xa)):(G=ja.getX()+G,xa=ta.getX()-xa,za.moveXTo(G),va.moveXTo(xa),Ta&&
A.moveXTo(G),Ta&&y.moveXTo(xa))};this.getClockwiseP1=function(){return X[0]};this.getClockwisePn=function(){return X[X.length-1]};this.getAxialP1=function(){return nb()?X[X.length-1]:X[0]};this.getAxialPn=function(){return nb()?X[0]:X[X.length-1]};this.setDrawingColor=function(Ta){Ra=Ta};this.getDrawingColor=function(){return Ra}}function ya(aa,Wa){var X=aa,Fa=Wa;this.getX=function(){return X};this.getY=function(){return Fa};this.exchangeXY=function(){var Ra=X;X=Fa;Fa=Ra};this.adjust=function(Ra,
La){X+=Ra;Fa+=La};this.moveXTo=function(Ra){X=Ra};this.moveYTo=function(Ra){Fa=Ra}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dsb&&(com.kingdee.bos.qing.dsb={});"undefined"==typeof com.kingdee.bos.qing.dsb.look&&(com.kingdee.bos.qing.dsb.look={});var $b=com.kingdee.bos.qing.dsb.look;g.Edge=Da;
g.Corner=jb;$b.CardLook=g;$b.DecorationParser=Nb;$b.ParsingException=lb;$b.CardLookRenderer=function(){var aa=.5*Math.PI,Wa,X;this.setModel=function(H){Wa=H};this.draw=function(H,S,V,ua,M){X=H;var ia=Wa.getEdge(g.DIR_N),la=Wa.getEdge(g.DIR_S),Ga=Wa.getEdge(g.DIR_W);H=Wa.getEdge(g.DIR_E);var gb=Wa.getCorner(g.DIR_NW),wa=Wa.getCorner(g.DIR_NE),Ob=Wa.getCorner(g.DIR_SW),Rb=Wa.getCorner(g.DIR_SE),ec=S+.5;S=S+ua-.5;ua=V+.5;var fc=V+M-.5;V=ec+10;M=S-10;var jc=ua+Ra(ia);fc-=Ra(la);var xc=Fa(ia,V,ua,M),lc=
Fa(la,V,fc,M);ia=jc+10;la=fc-10;var Dc=Fa(Ga,ia,ec,la);Ga=S-Ra(H);var nc=Fa(H,ia,Ga,la);xc.connectToBrother(Dc,nc,G(gb),G(wa));lc.connectToBrother(Dc,nc,G(Ob),G(Rb));Dc.connectToBrother(xc,lc,G(gb),G(Ob));nc.connectToBrother(xc,lc,G(wa),G(Rb));H=function(pc){ja(xc,pc);ta(wa,xc,nc,pc);ja(nc,pc);ta(Rb,nc,lc,pc);ja(lc,pc);ta(Ob,lc,Dc,pc);ja(Dc,pc);ta(gb,Dc,xc,pc)};if(Ga=Wa.getBackgroundColor())X.beginPath(),H(!1),X.closePath(),X.fillStyle=Ga,X.fill();H(!0);A(xc);A(lc);A(Dc);A(nc)};var Fa=function(H,
S,V,ua){var M=new Ya(H),ia=V,la=M.getEdge(),Ga=M.isFlipLeading(),gb=M.isFlipOrthogonal(),wa=ua-S;ia+=.5*Ta(la);var Ob=La(la)?30:6;V=[];if(la.getType()==Da.TYPE_SINGLE_TURN&&wa>2*Ob){wa-=Ob;var Rb=Ob*nb(la),ec=Ga?100-la.getFirstTurning():la.getFirstTurning();gb=Ga^gb?!0:!1;Ga=ia+(gb?Ob:0);ia+=gb?0:Ob;Ob=S+Rb+ec/100*wa;wa=Ob-Rb;Ob+=Rb;V.push(new ya(S,Ga));V.push(new ya(wa,Ga));V.push(new ya(Ob,ia));V.push(new ya(ua,ia))}else la.getType()==Da.TYPE_DOUBLE_TURN&&wa>3*Ob?(wa-=Ob,Rb=Ob*nb(la),ec=Ga?100-
la.getSecondTurning():la.getFirstTurning(),la=Ga?100-la.getFirstTurning():la.getSecondTurning(),Ga=ia+(gb?0:Ob),ia+=gb?Ob:0,Ob=S+Rb+ec/100*wa,gb=S+Rb+la/100*wa,wa=Ob-Rb,Ob+=Rb,ec=gb-Rb,Rb=gb+Rb,V.push(new ya(S,Ga)),V.push(new ya(wa,Ga)),V.push(new ya(Ob,ia)),V.push(new ya(ec,ia)),V.push(new ya(Rb,Ga))):(Ga=la.getMinorLineLogicWide()!=g.LINE_NONE&&gb?ia+2+za(la):ia,V.push(new ya(S,Ga))),V.push(new ya(ua,Ga));M.setMajorPoints(V);if(H.getMinorLineLogicWide()!=g.LINE_NONE)for(H=.5*Ta(M.getEdge()),S=.5*
za(M.getEdge()),ua=M.getMajorPointCount(),V=0;V<ua;V+=2)wa=M.getMajorPoint(V),Ga=M.getMajorPoint(V+1),Rb=wa.getX(),Ga=Ga.getX(),wa=wa.getY(),ia=0<V?V-1:V+2<ua?V+2:-1,ia=0>ia?M.isFlipOrthogonal()?-65535:65535:M.getMajorPoint(ia).getY(),Ob=ia<wa?-1:1,wa=La(M.getEdge())?ia-S*Ob:wa+(H+2+S)*Ob,M.addMinorPart(new ya(Rb,wa),new ya(Ga,wa));M.unifiedMajorPoints();return M},Ra=function(H){var S=0;if(H.getType()!=Da.TYPE_NONE)if(S=Ta(H),H.getType()==Da.TYPE_STRAIGHT)H.getMinorLineLogicWide()==g.LINE_NONE||(S=
S+2+za(H));else if(H.getType()==Da.TYPE_SINGLE_TURN||H.getType()==Da.TYPE_DOUBLE_TURN)S+=La(H)?30:6;return S},La=function(H){return H.isTitleEnhanced()&&H.isDirection(g.DIR_N)&&(H.getType()==Da.TYPE_SINGLE_TURN||H.getType()==Da.TYPE_DOUBLE_TURN)},nb=function(H){return La(H)?.2:.5},Ta=function(H){return H.getType()==Da.TYPE_NONE?0:Wa.getLineThickness(H.getMajorLineLogicWide())},za=function(H){return H.getMinorLineLogicWide()==g.LINE_NONE?0:Wa.getLineThickness(H.getMinorLineLogicWide())},G=function(H){return H.getType()==
jb.TYPE_NONE?0:Math.min(H.getRadius(),10)},xa=function(H){H=Wa.getLineColor(H);!H&&(H="rgba(128,128,128,0)");return H},va=function(H){var S=H.getDrawingColor();if(!S){S=xa(g.LINECOLOR_MAIN);var V=Wa.getLightItems(H.getEdge().getDirection());if(V){var ua=H.getAxialP1(),M=H.getAxialPn();ua=X.createLinearGradient(ua.getX(),ua.getY(),M.getX(),M.getY());ua.addColorStop(0,S);for(M=0;M<V.length;M++){var ia=V[M],la=ia.getPosition()/100;ia=xa(ia.getLogicColor());ua.addColorStop(la,ia)}ua.addColorStop(1,S);
S=ua}H.setDrawingColor(S)}X.strokeStyle=S},ja=function(H,S){var V=!0;if(S){var ua=Ta(H.getEdge());if(V=0!=ua)X.beginPath(),X.lineCap="butt",X.lineWidth=ua,va(H)}if(V){for(V=0;V<H.getMajorPointCount();V++)ua=H.getMajorPoint(V),X.lineTo(ua.getX(),ua.getY());S&&X.stroke()}},ta=function(H,S,V,ua){var M=H.getType()==jb.TYPE_NONE?0:Wa.getLineThickness(H.getLineLogicWide());var ia=S.getClockwisePn(),la=V.getClockwiseP1();ia=new ya(ia.getX(),ia.getY());la=new ya(la.getX(),la.getY());var Ga=ia,gb=la,wa=Ta(S.getEdge()),
Ob=Ta(V.getEdge()),Rb=M>wa,ec=M>Ob,fc=0,jc=0;H.isTheDirection(g.DIR_NE)?(ec&&(fc=.5*(Ob-M)),Rb&&(jc=.5*(-wa+M))):H.isTheDirection(g.DIR_SE)?(Rb&&(fc=.5*(wa-M)),ec&&(jc=.5*(Ob-M))):H.isTheDirection(g.DIR_SW)?(ec&&(fc=.5*(-Ob+M)),Rb&&(jc=.5*(wa-M))):H.isTheDirection(g.DIR_NW)&&(Rb&&(fc=.5*(-wa+M)),ec&&(jc=.5*(-Ob+M)));Ga.adjust(fc,jc);gb.adjust(fc,jc);Ga=!0;ua&&(Ga=0!=M,X.beginPath(),X.lineCap="square",X.lineWidth=M,X.strokeStyle=xa(g.LINECOLOR_MAIN),X.moveTo(ia.getX(),ia.getY()));if(Ga){M=H.isTheDirection(g.DIR_NE)||
H.isTheDirection(g.DIR_SW);if(H.getType()==jb.TYPE_HARD)H=M?la.getX():ia.getX(),V=M?ia.getY():la.getY(),X.lineTo(H,V),X.lineTo(la.getX(),la.getY());else if(H.getType()==jb.TYPE_LEAN)for(M=ia,ia=la,la=[],la.push(M),la.push(ia),ua&&(Ga=0==Ta(S.getEdge()),S=0==Ta(V.getEdge()),Ga||S)&&(V=.5*H.getRadius(),H=H.isTheDirection(g.DIR_NE)?[-1,0,0,1]:H.isTheDirection(g.DIR_SE)?[0,-1,-1,0]:H.isTheDirection(g.DIR_SW)?[1,0,0,-1]:H.isTheDirection(g.DIR_NW)?[0,1,1,0]:[0,0,0,0],Ga&&(Ga=M.getX()+V*H[0],M=M.getY()+
V*H[1],la.unshift(new ya(Ga,M))),S&&(S=ia.getX()+V*H[2],H=ia.getY()+V*H[3],la.push(new ya(S,H)))),ua&&X.moveTo(la[0].getX(),la[0].getY()),H=1;H<la.length;H++)X.lineTo(la[H].getX(),la[H].getY());else H.getType()==jb.TYPE_ROUND&&(V=M?ia.getX():la.getX(),la=M?la.getY():ia.getY(),ia=H.isTheDirection(g.DIR_SE)?[0,1]:H.isTheDirection(g.DIR_SW)?[1,2]:H.isTheDirection(g.DIR_NW)?[2,3]:H.isTheDirection(g.DIR_NE)?[3,4]:[0,0],S=aa*ia[0],ia=aa*ia[1],X.arc(V,la,H.getRadius(),S,ia));ua&&X.stroke()}},A=function(H){var S=
H.getEdge(),V=za(S);if(0!=V&&S.getType()!=Da.TYPE_NONE){va(H);X.lineCap="butt";X.fillStyle=X.strokeStyle;for(var ua=0;ua<H.getMinorPartCount();ua++){var M=H.getMinorPointA(ua),ia=H.getMinorPointB(ua),la=ia.getX()-M.getX();if(0<la)if(S.isCustomMinorLine()){var Ga=S.getParsedPartsBlock(ua);Ga&&(y(Ga,la,V),L(H,Ga,M.getX(),M.getY(),ia.getX(),V))}else M=H.unified(M.getX(),M.getY()),ia=H.unified(ia.getX(),ia.getY()),X.beginPath(),X.lineWidth=V,X.moveTo(M[0],M[1]),X.lineTo(ia[0],ia[1]),X.stroke()}}},y=function(H,
S,V){var ua=[],M=0,ia=0,la=function(Ga,gb){var wa=Ga.getTimes();0>wa?0>gb?Ga.setRtTimes(1):ua.push(Ga):Ga.setRtTimes(wa);gb=0>gb&&0>wa?1:wa*gb;if(Ga.isAtom())Ga=Ga.getUnitLength(V)*gb,0>gb?ia+=Ga:M+=Ga;else for(wa=0;wa<Ga.getSubBlockCount();wa++){var Ob=Ga.getSubBlock(wa);la(Ob,gb)}};la(H,1);H=S-M;H=0<H?H/Math.abs(ia):0;for(S=0;S<ua.length;S++)ua[S].setRtTimes(H)},L=function(H,S,V,ua,M,ia){var la=ia*nb(H.getEdge()),Ga=function(gb,wa){gb.isAppointedColorErased()?(X.fillStyle=H.getDrawingColor(),X.strokeStyle=
H.getDrawingColor()):gb.getAppointedColor()&&(X.fillStyle=gb.getAppointedColor(),X.strokeStyle=gb.getAppointedColor());if(!(wa>=M)){var Ob=gb.getUnitLength(ia),Rb=Ob*gb.getComputableTimes();if(gb.isAtom())if(gb.getUnitKey().isDrawingOnePixel()){Rb=Math.min(Rb,M-wa);Ob=wa;var ec=Rb;wa=gb.getUnitKey();if(wa!=Pa.BLANK){var fc=.5*ia;gb=ua-fc;ec=Ob+ec;fc=ua+fc;wa=wa==Pa.LEAN_LEFT?-la:wa==Pa.LEAN_RIGHT?la:0;na(H,Ob+wa,gb,ec+wa,gb,ec-wa,fc,Ob-wa,fc);X.fill()}}else{ec=gb.getUnitKey();fc=.2*ia;var jc=.5*ia,
xc=ia-fc,lc=.5*xc;X.lineWidth=fc;for(var Dc=0;Dc<gb.getDrawingTimes()&&!(wa+Ob>M);Dc++){if(ec==Pa.CIRCLE||ec==Pa.DISC){var nc=ec==Pa.CIRCLE?lc:jc,pc=H.unified(wa+jc,ua);X.beginPath();X.arc(pc[0],pc[1],nc,0,2*Math.PI);ec==Pa.CIRCLE?X.stroke():X.fill()}else if(ec==Pa.SQUARE){nc=wa+.5*fc;pc=nc+xc;var ib=ua-lc,wb=ua+lc;na(H,nc,ib,pc,ib,pc,wb,nc,wb);X.stroke()}wa+=Ob}}else for(Ob=0;Ob<gb.getDrawingTimes();Ob++)for(ec=0;ec<gb.getSubBlockCount();ec++)fc=gb.getSubBlock(ec),fc=Ga(fc,wa),wa+=fc;return Rb}};
Ga(S,V)},na=function(H,S,V,ua,M,ia,la,Ga,gb){S=H.unified(S,V);ua=H.unified(ua,M);ia=H.unified(ia,la);H=H.unified(Ga,gb);X.beginPath();X.moveTo(S[0],S[1]);X.lineTo(ua[0],ua[1]);X.lineTo(ia[0],ia[1]);X.lineTo(H[0],H[1]);X.closePath()}};var ub=com.kingdee.bos.qing.common.ColorUtil;g.DIR_N=1;g.DIR_S=2;g.DIR_W=4;g.DIR_E=8;g.DIR_NW=g.DIR_N|g.DIR_W;g.DIR_NE=g.DIR_N|g.DIR_E;g.DIR_SW=g.DIR_S|g.DIR_W;g.DIR_SE=g.DIR_S|g.DIR_E;g.LINE_NONE=0;g.LINE_WIDE_1=1;g.LINE_WIDE_2=2;g.LINE_WIDE_3=3;g.LINE_WIDE_4=4;g.LINE_WIDE_5=
5;g.LINECOLOR_MAIN=1;g.LINECOLOR_STRONG=2;g.LINECOLOR_WEAK=3;g.create=function(){var aa=new g;aa.setEdge(g.DIR_N,new Da);aa.setEdge(g.DIR_S,new Da);aa.setEdge(g.DIR_W,new Da);aa.setEdge(g.DIR_E,new Da);aa.setCorner(g.DIR_NW,new jb);aa.setCorner(g.DIR_NE,new jb);aa.setCorner(g.DIR_SW,new jb);aa.setCorner(g.DIR_SE,new jb);return aa};g.createLightItem=function(aa,Wa,X){var Fa=new Ib;Fa.setDir(aa);Fa.setPosition(Wa);Fa.setLogicColor(X);return Fa};Da.TYPE_NONE=0;Da.TYPE_STRAIGHT=1;Da.TYPE_SINGLE_TURN=
2;Da.TYPE_DOUBLE_TURN=3;Da.FLIP_NONE=0;Da.FLIP_H=1;Da.FLIP_V=2;Da.FLIP_BOTH=Da.FLIP_H|Da.FLIP_V;jb.TYPE_NONE=0;jb.TYPE_HARD=1;jb.TYPE_ROUND=2;jb.TYPE_LEAN=3;var Qa=new function(){this.encodeEdgeType=function(aa){return aa==Da.TYPE_STRAIGHT?"STRAIGHT":aa==Da.TYPE_SINGLE_TURN?"SINGLE_TURN":aa==Da.TYPE_DOUBLE_TURN?"DOUBLE_TURN":"NONE"};this.decodeEdgeType=function(aa){return"STRAIGHT"==aa?Da.TYPE_STRAIGHT:"SINGLE_TURN"==aa?Da.TYPE_SINGLE_TURN:"DOUBLE_TURN"==aa?Da.TYPE_DOUBLE_TURN:Da.TYPE_NONE};this.encodeCornerType=
function(aa){return aa==jb.TYPE_HARD?"HARD":aa==jb.TYPE_ROUND?"ROUND":aa==jb.TYPE_LEAN?"LEAN":"NONE"};this.decodeCornerType=function(aa){return"HARD"==aa?jb.TYPE_HARD:"ROUND"==aa?jb.TYPE_ROUND:"LEAN"==aa?jb.TYPE_LEAN:jb.TYPE_NONE};this.encodeLogicLineWide=function(aa){return aa==g.LINE_WIDE_1?"W1":aa==g.LINE_WIDE_2?"W2":aa==g.LINE_WIDE_3?"W3":aa==g.LINE_WIDE_4?"W4":aa==g.LINE_WIDE_5?"W5":"NONE"};this.decodeLogicLineWide=function(aa){return"W1"==aa?g.LINE_WIDE_1:"W2"==aa?g.LINE_WIDE_2:"W3"==aa?g.LINE_WIDE_3:
"W4"==aa?g.LINE_WIDE_4:"W5"==aa?g.LINE_WIDE_5:g.LINE_NONE};this.encodeLogicColor=function(aa){return aa==g.LINECOLOR_STRONG?"STRONG":aa==g.LINECOLOR_WEAK?"WEAK":"MAIN"};this.decodeLogicColor=function(aa){return"STRONG"==aa?g.LINECOLOR_STRONG:"WEAK"==aa?g.LINECOLOR_WEAK:g.LINECOLOR_MAIN};this.encodeFlip=function(aa){return aa==Da.FLIP_H?"H":aa==Da.FLIP_V?"V":aa==Da.FLIP_BOTH?"BOTH":"NONE"};this.decodeFlip=function(aa){return"H"==aa?Da.FLIP_H:"V"==aa?Da.FLIP_V:"BOTH"==aa?Da.FLIP_BOTH:Da.FLIP_NONE}};
lb.UNKNOWN_CHAR=1;lb.INVALID_PREFIX=2;lb.UNPAIRED_BRACE=3;lb.REDUNDANT_PREFIX=11;lb.REDUNDANT_SUFFIX=12;lb.REDUNDANT_LB=13;lb.REDUNDANT_RB=14;lb.EMPTY_BRACKET=15;var mb=new function(){var aa="",Wa={};this.register=function(X,Fa){aa+=X;Fa=new Vb(X,Fa);return Wa[X]=Fa};this.isUnitKeyChar=function(X){return 1==X.length&&0<=aa.indexOf(X)};this.searchUnitKey=function(X){return Wa[X]}};Vb.SHAPELESS=0;Vb.SHAPE=256;Pa.BLANK=mb.register("_",0|Vb.SHAPELESS);Pa.LINE=mb.register("|",1|Vb.SHAPELESS);Pa.LEAN_LEFT=
mb.register("\\",2|Vb.SHAPELESS);Pa.LEAN_RIGHT=mb.register("/",3|Vb.SHAPELESS);Pa.CIRCLE=mb.register("O",4|Vb.SHAPE);Pa.DISC=mb.register("o",5|Vb.SHAPE);Pa.SQUARE=mb.register("=",6|Vb.SHAPE)})();(function(){function g(){this.initUi=function(pa,Ya){throw Error("Implement");};this.resize=function(pa,Ya){};this.run=function(pa,Ya,ya){throw Error("Implement");};this.fireEvent=function(pa,Ya,ya){throw Error("Implement");};this.destroy=function(pa,Ya){}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dsb&&
(com.kingdee.bos.qing.dsb={});var pb=com.kingdee.bos.qing.dsb,Da,jb,Ib,Nb,lb,Vb,gc;(function(){var pa=com.kingdee.bos.qing.common;Da=pa.DomUtil;jb=pa.ColorUtil;pa=com.kingdee.bos.qing.framework.common;Ib=pa.AbstractFacade;Nb=pa.AbstractIcons;lb=pa.Resource;pa=com.kingdee.bos.qing.core.model;Vb=pa.Palette;pa=com.kingdee.bos.qing.square.model;gc=pa.SquareModel})();pb.Facade=function(pa,Ya,ya,$b){Ib.call(this,pa,Ya,ya,$b);var ub=this.protectedMethod;this.squareLoadSchema=function(Qa){Qa={ref:JSON.stringify(Qa)};
return ub.remote("squareLoadSchema",Qa)};this.squareSaveSchema=function(Qa,mb){Qa={ref:JSON.stringify(Qa),model:JSON.stringify(mb)};ub.remote("squareSaveSchema",Qa)};this.longerLoadSchema=function(Qa){Qa={ref:JSON.stringify(Qa)};return ub.remote("longerLoadSchema",Qa)};this.longerSaveSchema=function(Qa,mb){Qa={ref:JSON.stringify(Qa),model:JSON.stringify(mb)};ub.remote("longerSaveSchema",Qa)};this.refreshData=function(Qa,mb,aa){Qa={ref:JSON.stringify(Qa)};mb&&(Qa.tag=mb,aa&&(Qa.loafingMode=!0));return ub.remote("refreshData",
Qa)};this.getWidgetBoundMeta=function(Qa){ub.remote("getWidgetBoundMeta",{tag:Qa})};this.getFilterPreparedValue=function(Qa,mb,aa,Wa,X,Fa,Ra,La){Qa={tag:Qa,formalizedType:mb,metaFieldFullName:aa,displayMetaFieldFullName:Wa,orderByMetaFieldFullName:X,orderByAsc:Fa,additionalFilters:Ra?JSON.stringify(Ra):null,lightWeight:La};ub.remote("getFilterPreparedValue",Qa)};this.parseRelativePeriod=function(Qa,mb){Qa={part:mb,relative:JSON.stringify(Qa.toJsonObject())};ub.remote("parseRelativePeriod",Qa)};this.changeTestableCurrentTimeForRelativePeriod=
function(Qa){ub.remote("changeTestableCurrentTimeForRelativePeriod",{current:Qa})};this.loadPresetCosmetic=function(Qa){ub.remote("loadPresetCosmetic",{skin:Qa})};this.runtimeKeepAlive=function(){ub.remote("runtimeKeepAlive",{})}};pb.Icons=new function(){Nb.call(this);var pa=this.protectedMethod,Ya;this.createLoadingIcon=function(){var Qa=$("<div>");Qa.addClass("sa-common-loading-icon");Qa.css("background-image",lb.getIconUrl("common","loading.gif"));Da.layoutCtrlCenterAlign(Qa,40);Da.layoutCtrlMiddleAlign(Qa,
40);return Qa};this.setComboIconImpl=function(Qa){Ya=Qa};this.protectedInit=function(Qa,mb){if(!Ya)throw Error("Please setComboIconImpl() first.");Ya.define(mb,"toolbar");$b(0,0,"btn_undo");$b(0,1,"btn_redo");$b(4,2,"btn_preview");$b(4,3,"btn_backward");$b(4,6,"btn_info");$b(4,7,"btn_overall");$b(4,8,"btn_setting");Ya.define(mb,"toolbox");ya(0,0,"widget_unreleased");ya(0,1,"widget_square");ya(0,2,"widget_longer");ya(0,3,"widget_ext");ya(1,0,"widget_iframe");ya(1,1,"widget_tabbedall");ya(1,2,"widget_tabbedone");
ya(1,3,"widget_panel");ya(2,0,"widget_label");ya(2,1,"widget_picture");ya(2,2,"widget_rich");ya(2,3,"widget_clock");ya(3,0,"widget_combobox");ya(3,1,"widget_calendar");ya(3,2,"widget_buttongroup");ya(3,3,"widget_f7");ya(4,0,"widget_programable");ya(4,1,"widget_customcard");ya(4,2,"widget_cloudhub");ya(4,3,"widget_qingreport");ya(5,0,"widget_calendaryear");ya(5,1,"widget_calendarquarter");ya(5,2,"widget_calendarmonth");ya(5,3,"widget_calendarday");ya(6,0,"widget_titlebar");Ya.define(mb,"outline");
ub(0,0,"widget_page_min");ub(0,1,"widget_square_min");ub(0,2,"widget_longer_min");ub(0,3,"widget_ext_min");ub(2,0,"widget_iframe_min");ub(2,1,"widget_tabbedall_min");ub(2,2,"widget_tabbedone_min");ub(2,3,"widget_panel_min");ub(4,0,"widget_label_min");ub(4,1,"widget_picture_min");ub(4,2,"widget_rich_min");ub(4,3,"widget_clock_min");ub(6,0,"widget_combobox_min");ub(6,1,"widget_calendar_min");ub(6,2,"widget_buttongroup_min");ub(6,3,"widget_f7_min");ub(8,0,"widget_programable_min");ub(8,1,"widget_customcard_min");
ub(8,2,"widget_cloudhub_min");ub(8,3,"widget_qingreport_min");ub(10,0,"widget_calendaryear_min");ub(10,1,"widget_calendarquarter_min");ub(10,2,"widget_calendarmonth_min");ub(10,3,"widget_calendarday_min");ub(12,0,"widget_titlebar_min");Ya.define(mb,"operate");ya(0,0,"minidelete");Ya.define(mb,"card");ya(0,0,"edit");ya(0,1,"analysis");ya(0,2,"refresh");ya(0,3,"filter");ya(0,4,"fullscreen");ya(1,4,"quitFullscreen");ya(1,0,"others");ya(1,1,"info");ya(1,2,"play");ya(1,3,"pause");ya(1,5,"insight");Ya.define(mb,
"ctrl");ya(0,0,"left");ya(0,1,"right");Ya.define(mb,"exhibitionmode");ya(0,0,"icon_exmode_full");ya(1,0,"icon_exmode_fit");ya(2,0,"icon_exmode_hfull");ya(3,0,"icon_exmode_idle")};var ya=function(Qa,mb,aa){pa.registIcon(Qa,mb,aa)},$b=function(Qa,mb,aa){ya(Qa,mb,aa);ya(Qa+1,mb,aa+"_hover");ya(Qa+2,mb,aa+"_disabled")},ub=function(Qa,mb,aa){ya(Qa,mb,aa);ya(Qa+1,mb,aa+"_selected")}};pb.AbstractQingReportExecutor=g;pb.AbstractExtReportExecutor=function(){this.initUi=function(pa,Ya){throw Error("Override");
};this.resize=function(pa,Ya){};this.run=function(pa,Ya,ya){throw Error("Override");};this.updateTitle=function(pa,Ya){throw Error("Override");};this.destroy=function(pa,Ya){}};pb.AbstractProgramableCardExecutor=function(){this.initUi=function(pa,Ya){throw Error("Override");};this.resize=function(pa,Ya){};this.run=function(pa,Ya,ya){throw Error("Override");};this.destroy=function(pa,Ya){}};pb.AbstractCosmicCustomCardExecutor=function(){this.initUi=function(pa,Ya){throw Error("Override");};this.resize=
function(pa,Ya){};this.run=function(pa,Ya,ya){throw Error("Override");};this.destroy=function(pa,Ya){}};pb.AbstractCloudhubSubscribesExecutor=function(){this.initUi=function(pa,Ya){throw Error("Override");};this.resize=function(pa,Ya){};this.run=function(pa,Ya,ya){throw Error("Override");};this.destroy=function(pa,Ya){}};pb.VisualWidgetEditableConfirmer=function(pa,Ya){this.getRtSquareEditableConfirmer=function(){return pa};this.getRtLongerEditableConfirmer=function(){return Ya}};pb.ImageBorderRenerer=
function(){var pa,Ya,ya,$b,ub;this.setModel=function(Qa,mb,aa,Wa,X){ub=Qa;pa=mb;Ya=aa;ya=Wa;$b=X};this.draw=function(Qa,mb,aa,Wa,X){var Fa=ub.width,Ra=ub.height,La=Math.max(0,Math.min(Fa,pa)),nb=Math.max(0,Math.min(Fa,Ya)),Ta=Math.max(0,Fa-La-nb),za=0+La;Fa-=nb;var G=Math.max(0,Math.min(Ra,ya)),xa=Math.max(0,Math.min(Ra,$b)),va=Math.max(0,Ra-G-xa),ja=0+G;Ra-=xa;var ta=Math.max(0,Wa-La-nb),A=mb+La;Wa-=nb;var y=Math.max(0,X-G-xa),L=aa+G;X-=xa;Qa.drawImage(ub,0,0,La,G,mb,aa,La,G);Qa.drawImage(ub,za,
0,Ta,G,A,aa,ta,G);Qa.drawImage(ub,Fa,0,nb,G,Wa,aa,nb,G);Qa.drawImage(ub,0,ja,La,va,mb,L,La,y);Qa.drawImage(ub,za,ja,Ta,va,A,L,ta,y);Qa.drawImage(ub,Fa,ja,nb,va,Wa,L,nb,y);Qa.drawImage(ub,0,Ra,La,xa,mb,X,La,xa);Qa.drawImage(ub,za,Ra,Ta,xa,A,X,ta,xa);Qa.drawImage(ub,Fa,Ra,nb,xa,Wa,X,nb,xa)}};pb.IntegrationRegister=new function(){var pa,Ya,ya,$b,ub,Qa,mb,aa,Wa,X,Fa,Ra,La,nb,Ta,za;this.registerWidgetSourceSelector=function(G){pa=G};this.getWidgetSourceSelector=function(){return pa};this.registerQingReportExecutor=
function(G){Wa=G};this.getQingReportExecutor=function(){return Wa};this.registerExtReportSourceSelector=function(G){X=G};this.getExtReportSourceSelector=function(){return X};this.registerExtReportExecutor=function(G){Fa=G};this.getExtReportExecutor=function(){return Fa};this.registerCosmicCustomCardSourceSelector=function(G){La=G};this.getCosmicCustomCardSourceSelector=function(){return La};this.registerCosmicCustomCardExecutor=function(G){nb=G};this.getCosmicCustomCardExecutor=function(){return nb};
this.registerCloudhubSubscribesSourceSelector=function(G){Ta=G};this.getCloudhubSubscribesSourceSelector=function(){return Ta};this.registerCloudhubSubscribesExecutor=function(G){za=G};this.getCloudhubSubscribesExecutor=function(){return za};this.registerProgramableCardExecutor=function(G){Ra=G};this.getProgramableCardExecutor=function(){return Ra};this.registerSquareDesignerCreator=function(G){Ya=G};this.showSquareDesigner=function(G,xa,va,ja,ta,A,y){Ya(G,xa,va,ja,ta,A,y)};this.registerSquareAnalysisHandler=
function(G){ya=G};this.squareAnalysis=function(G,xa,va,ja,ta,A){ya(G,xa,va,ja,ta,A)};this.registerSquareSceneCreator=function(G){$b=G};this.createDashboardSquareScene=function(G,xa){$b(G,xa)};this.registerLongerDesignerCreator=function(G){ub=G};this.showLongerDesigner=function(G,xa,va,ja,ta,A,y){ub(G,xa,va,ja,ta,A,y)};this.registerLongerSceneCreator=function(G){Qa=G};this.createDashboardLongerScene=function(G,xa){Qa(G,xa)};this.registerBuiltinVisualWidgetEditableConfirmerParser=function(G){mb=G};
this.parseBuiltinVisualWidgetEditableConfirmer=function(G){return mb(G)};this.registerPictrueLoader=function(G){aa=G};this.getPictureLoader=function(){return aa}};g.EVENT_FILTER="filter";var Pa=new function(){var pa;this.unpack=function(Ya){pa=Ya};this.dipSome=function(Ya){var ya={};if(pa)for(var $b=0;$b<Ya.length;$b++)pa.pickItems(Ya[$b],ya);return ya};this.dip=function(Ya){return pa?pa.pickItems(Ya):null}};Pa.DSB_PAGE="page";Pa.DSB_PAGE_TITLE_BAR="pageTitleBar";Pa.DSB_CARD="card";Pa.DSB_LABEL="label";
Pa.DSB_INPUTER="sinlgeLineInputer";Pa.DSB_TABBED_HEAD="tabbedHead";Pa.DSB_BUTTON_GROUP="buttonGroup";Pa.DESIGN="designtime";Pa.SQUARE_EXHIBITION="squareExhibition";Pa.CHART_COMMON="chartCommon";Pa.CHART_PALETTE="chartPalette";Pa.CHART_PROGRESS="chartProgress";Pa.getPageBackgroundColor=function(){return Pa.dip(Pa.DSB_PAGE)[Pa.Key_Page_BackgroundColor]};Pa.getCardBackgroundColor=function(pa,Ya){Ya=Ya?Ya:Pa.dip(Pa.DSB_CARD);var ya=Ya[Pa.Key_Card_BackgroundColor]||"#ffffff";pa&&(pa=parseFloat(Ya[Pa.Key_Card_BackgroundOpacity]||
1),ya=jb.withOpacityToRgba(ya,pa));return ya};Pa.decorateCardSimpleBorder=function(pa,Ya,ya){ya=ya?ya:Pa.dip(Pa.DSB_CARD);var $b=parseInt(ya[Pa.Key_Card_BorderRadius]||0);Ya.css("border-radius",$b+"px");pa=Pa.getCardBackgroundColor(pa,ya);Ya.css("background-color",pa);(ya=ya[Pa.Key_Card_ShadowColor]||"")&&(ya="0 1px 3px 0 "+ya);Ya.css("box-shadow",ya)};Pa.undecorateCardSimpleBorder=function(pa){pa.css("border-radius","");pa.css("background-color","");pa.css("box-shadow","")};Pa.decorateCardTitle=
function(pa,Ya){Ya=Ya?Ya:Pa.dip(Pa.DSB_CARD);var ya=Ya[Pa.Key_Card_TitleColor]||"#5b6373";Ya=parseInt(Ya[Pa.Key_Card_TitleFontSize]||12);pa.css("color",ya);pa.css("font-size",Ya+"px")};Pa.decorateCardModalLayer=function(pa,Ya,ya){ya=ya?ya:Pa.dip(Pa.DSB_CARD);var $b=ya[Pa.Key_Card_ModalLayerColor]||"#999999";Ya?($b=jb.withOpacityToRgba($b,.5),Ya="rgba(128,128,128,0.001)"):(Ya=ya[Pa.Key_Card_BackgroundColor]||"#ffffff",Ya=jb.withOpacityToRgba(Ya,.8));pa.css("color",$b);pa.css("background-color",Ya)};
Pa.decorateLabel=function(pa,Ya){Ya=Ya?Ya:Pa.dip(Pa.DSB_LABEL);pa.css("color",Ya[Pa.Key_Label_Color]||"#808080")};Pa.decorateInputer=function(pa,Ya){Ya=Ya?Ya:Pa.dip(Pa.DSB_INPUTER);var ya=Ya[Pa.Key_Inputer_Color]||"#808080";Ya=Ya[Pa.Key_Inputer_UnderlineColor]||"#808080";pa.css("background-color","transparent");pa.css("color",ya);pa.css("box-shadow","0 1px 0 0 "+Ya)};Pa.decorateDesigntimeRectangle=function(pa,Ya){Ya=Ya?Ya:Pa.dip(Pa.DESIGN);pa.css("box-shadow","inset 0 0 0 1px "+Ya[Pa.Key_Design_ColorC])};
Pa.getChartDefaultPalette=function(pa){if(!pa)return null;a:{switch(pa){case gc.ChartType_ProgressBar:case gc.ChartType_ProgressColumn:case gc.ChartType_ProgressCircle:var Ya=Pa.dip(Pa.CHART_PROGRESS);pa=Ya[Pa.Key_ChartProgress_DesiredColor]+","+Ya[Pa.Key_ChartProgress_CompleteColor];break a;case gc.ChartType_Grid:case gc.ChartType_CustomList:case gc.ChartType_KPI:case gc.ChartType_Dial:case gc.ChartType_Map:case gc.ChartType_Waterfall:pa="";break a;case gc.ChartType_Line:case gc.ChartType_Radar:pa=
Pa.Key_Palette_ContrastingLine;break;case gc.ChartType_GIS:case gc.ChartType_Scatter:pa=Pa.Key_Palette_ContrastingArea;break;default:pa=Pa.Key_Palette_Base}Ya=Pa.dip(Pa.CHART_PALETTE);pa=Ya[pa]}Ya=new Vb;Ya.decodeFromString(pa);return Ya};Pa.Key_Page_BackgroundColor="backgroundColor";Pa.Key_Page_WatermarkColor="watermarkColor";Pa.Key_PageTitleBar_BackgroundColor="backgroundColor";Pa.Key_PageTitleBar_SeparaterLineWidth="separaterLineWidth";Pa.Key_PageTitleBar_SeparaterColor="separaterColor";Pa.Key_Card_BackgroundColor=
"backgroundColor";Pa.Key_Card_BackgroundOpacity="backgroundOpacity";Pa.Key_Card_ShadowColor="shadowColor";Pa.Key_Card_BorderRadius="borderRadius";Pa.Key_Card_TitleColor="titleColor";Pa.Key_Card_TitleFontSize="titleFontSize";Pa.Key_Card_ModalLayerColor="modalLayerColor";Pa.Key_Label_Color="color";Pa.Key_Inputer_Color="color";Pa.Key_Inputer_UnderlineColor="underlineColor";Pa.Key_TabbedHead_MainColor="mainColor";Pa.Key_TabbedHead_InverseColor="inverseColor";Pa.Key_ButtonGroup_Color="color";Pa.Key_ButtonGroup_BackgroundColor=
"backgroundColor";Pa.Key_ButtonGroup_BorderColor="borderColor";Pa.Key_ButtonGroup_Color_Selected="color_selected";Pa.Key_ButtonGroup_BackgroundColor_Selected="backgroundColor_selected";Pa.Key_ButtonGroup_BorderColor_Selected="borderColor_selected";Pa.Key_ButtonGroup_BackgroundColor_Hover="backgroundColor_hover";Pa.Key_Design_Adjustable="adjustable";Pa.Key_Design_Unadjustable="unadjustable";Pa.Key_Design_ColorA="colorA";Pa.Key_Design_ColorB="colorB";Pa.Key_Design_ColorC="colorC";Pa.Key_Palette_Base=
"base";Pa.Key_Palette_ContrastingLine="contrastingLine";Pa.Key_Palette_ContrastingArea="contrastingArea";Pa.Key_ChartProgress_DesiredColor="progressDesiredColor";Pa.Key_ChartProgress_CompleteColor="progressCompleteColor";pb.CosmeticBag=Pa})();
(function(){function g(){var X=[],Fa=!0,Ra=g.POSITION_LEFT|g.POSITION_TOP,La,nb,Ta,za=!1,G;this.addMenuItem=function(M,ia,la,Ga){X.push([M,ia,la,Ga?!0:!1])};this.setMenuItem=function(M,ia,la,Ga,gb){var wa=X[M];wa||(wa=[],X[M]=wa);ia&&(wa[0]=ia);la&&(wa[1]=la);Ga&&(wa[2]=Ga);!0!==gb&&!1!==gb||(wa[3]=gb);!Fa&&La&&La.is(":visible")&&(la=Ta.children().eq(M),ia=la.children().eq(0),la=la.children().eq(1),Qa.background(ia,X[M][0]),la.text(X[M][1]))};this.setGourd6Mode=function(M){Fa=M;La&&A();Fa?window.localStorage.removeItem("kd.qing.dsb.CornerMenu.gourd6"):
window.localStorage.setItem("kd.qing.dsb.CornerMenu.gourd6",Fa)};this.isGourd6Mode=function(){return Fa};this.setPosition=function(M){Ra=M;La&&(ta(),Fa&&Ta.css(y()));M=((Ra&g.POSITION_BOTTOM)==g.POSITION_BOTTOM?"S":"N")+(ja()?"E":"W");"NW"==M?window.localStorage.removeItem("kd.qing.dsb.CornerMenu.position"):window.localStorage.setItem("kd.qing.dsb.CornerMenu.position",M)};this.getPosition=function(){return Ra};this.setup=function(M,ia){if(!La){var la=window.localStorage.getItem("kd.qing.dsb.CornerMenu.position");
la&&(Ra=("S"==la.charAt(0)?g.POSITION_BOTTOM:g.POSITION_TOP)|("E"==la.charAt(1)?g.POSITION_RIGHT:g.POSITION_LEFT));(la=window.localStorage.getItem("kd.qing.dsb.CornerMenu.gourd6"))&&(Fa="false"!=la);La=$("<div>");La.css({cursor:"pointer","z-index":ia});xa().appendTo(La);Ta=$("<div>");Ta.css({"background-color":V(),color:mb.dip(mb.DSB_LABEL)[mb.Key_Label_Color],border:"1px solid "+ua(),"border-radius":"6px"});Ta.appendTo(La);La.appendTo(M);va(M);ta();A()}};var xa=function(){var M=$("<div>");M.css({"background-color":S(),
"border-radius":"6px"});nb=$("<div>");nb.append(M);nb.on("click",function(ia){L();ia.stopPropagation()});return nb},va=function(M){var ia=0,la=-1,Ga=-1;G=function(){ia=0};var gb=function(){Fa&&(!za&&(new Date).getTime()>ia?(La.hide(),ia=0):setTimeout(gb,2E3))};M.on("mousemove",function(wa){!Fa||wa.screenX==la&&wa.screenY==Ga||(la=wa.screenX,Ga=wa.screenY,0==ia&&(La.show(),setTimeout(gb,2E3)),ia=(new Date).getTime()+3E3)});M.on("click",function(wa){Fa&&za&&(za=!1,Ta.animate(y(),250))})},ja=function(){return(Ra&
g.POSITION_RIGHT)==g.POSITION_RIGHT},ta=function(){var M=0,ia="",la=-12,Ga="",gb=-6,wa="";ja()&&(M="",ia=0,la="",Ga=-12,gb="",wa=-6);var Ob=0,Rb="",ec=6,fc="";(Ra&g.POSITION_BOTTOM)==g.POSITION_BOTTOM&&(Ob="",Rb=0,ec="",fc=6);jb.layoutCtrlWithLRTB(La,M,ia,0,Ob,Rb,0);jb.layoutCtrlWithLRTB(nb,M,ia,40,Ob,Rb,40);jb.layoutCtrlWithLRTB(nb.children(),la,Ga,24,6,null,12);jb.layoutCtrlWithLRTB(Ta,gb,wa,"auto",ec,fc,"auto")},A=function(){Ta.stop();Fa?(za&&(za=!1,Ta.animate(y(),250)),nb.show(),La.hide(),G()):
(nb.hide(),La.show(),L())},y=function(){var M=ja()?"right":"left",ia=Ta.prop("offsetWidth"),la={};la[M]=-ia;return la},L=function(){za=!0;Ta.empty();for(var M=$(document.createDocumentFragment()),ia=0,la=0;la<X.length;la++)if(X[la]){var Ga=H(la);0<ia&&Ga.css("border-top","1px solid "+ua());Ga.appendTo(M);ia++}M.appendTo(Ta);Ta.css(y());M=Ta;ia=M.animate;la=ja()?"right":"left";Ga={};Ga[la]=-6;ia.call(M,Ga,325)},na=function(M,ia){var la=X[M];M=la[1];if(la[3]){la=V();var Ga=$("<div>");Ga.text(M);Ga.css({"white-space":"nowrap",
color:mb.dip(mb.DSB_LABEL)[mb.Key_Label_Color]});Ga.css("text-shadow","-1px -1px "+la+", 1px 1px "+la+", -1px 1px "+la+", 1px -1px "+la);ja()?(ia=jb.upwardCoordinate(ia[0],[ia.prop("offsetWidth"),0],La[0]),jb.layoutCtrlWithLRTB(Ga,null,0+La.prop("offsetWidth")-ia[0],"auto",ia[1],null,"auto")):(ia=jb.upwardCoordinate(ia[0],[0,0],La[0]),jb.layoutCtrl(Ga,ia[0],ia[1],"auto","auto"));Ga.appendTo(La);Ga.animate({"font-size":"28px"},325,function(){setTimeout(function(){Ga.remove()},1E3)})}},H=function(M){var ia=
$("<div>");jb.layoutCtrlWithLRTB(ia,12,null,16);jb.layoutCtrlMiddleAlign(ia,16);Qa.background(ia,X[M][0]);var la=$("<div>");la.css({position:"relative","white-space":"nowrap","line-height":"24px"});la.text(X[M][1]);var Ga=$("<div>");Ga.css({position:"relative",height:"24px",padding:"6px 12px 6px 32px"});Ga.on("click",function(gb){na(M,la);(0,X[M][2])()});Ga.append(ia);Ga.append(la);return Ga},S=function(){var M=mb.dip(mb.DSB_LABEL)[mb.Key_Label_Color];return M=Ib.withOpacityToRgba(M,.2)},V=function(){var M=
mb.dip(mb.DSB_CARD)[mb.Key_Card_BackgroundColor];return M=Ib.withOpacityToRgba(M,.8)},ua=function(){var M=mb.dip(mb.DSB_LABEL)[mb.Key_Label_Color];return M=Ib.withOpacityToRgba(M,.3)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dsb&&(com.kingdee.bos.qing.dsb={});"undefined"==typeof com.kingdee.bos.qing.dsb.commonui&&
(com.kingdee.bos.qing.dsb.commonui={});var pb=com.kingdee.bos.qing.dsb.commonui;pb.AbstractDialogWithJsonExportor=function(){lb.call(this);var X=this.protectedMethod,Fa,Ra=function(nb,Ta){for(var za=new gc,G=0;G<Ta.length;G++){var xa=Ta[G];"/"==xa?za.addSeperator():za.addItemModel(xa)}G=$(nb.currentTarget);nb=G.parent();Ta=nb.prop("clientHeight");G=G.prop("offsetLeft");xa=new Vb;xa.setModel(za);xa.show(nb,G,Ta,null,!0);return xa},La=function(nb,Ta,za,G,xa){Wa.isSupported()&&"function"==typeof FileReader?
(Fa||(Fa=$("<div>"),Fa.appendTo(xa()),jb.layoutCtrl(Fa,-1E3,-1E3,0,0)),Fa.empty(),xa=new ub,xa.appendInvislbelUiTo(Fa),xa.selectFile(function(va){if(va=va.getFile()){var ja=new FileReader;ja.onload=function(ta){ta=ta.target.result;try{var A=JSON.parse(ta)}catch(H){X.getMessageCurtain().showPrompt(Nb.get("promptParseFileError","\u89e3\u6790\u6587\u4ef6\u65f6\u53d1\u751f\u9519\u8bef\u3002")+H,6E4);return}if(A.qingStyleType!=nb)X.getMessageCurtain().showPrompt(Nb.get("promptFileTypeVerifyError","\u6587\u4ef6\u7c7b\u578b\u4e0d\u5339\u914d\u3002"),
6E4);else{ta=!1;var y=parseInt(A.version),L=parseInt(Ta);if(isNaN(y))X.getMessageCurtain().showPrompt(Nb.get("promptFileVersionVerifyError","\u6587\u4ef6\u7248\u672c\u4fe1\u606f\u9519\u8bef\u3002"),6E4);else if(y>L)X.getMessageCurtain().showPrompt(Nb.get("promptFileVersionHigherError","\u4e0d\u652f\u6301\u89e3\u6790\u4ece\u9ad8\u7248\u672c\u73af\u5883\u5bfc\u51fa\u7684\u6587\u4ef6\u3002"),6E4);else{y<L&&(ta=!0);try{var na=A.content;ta&&za(y,na);G(na,function(H){H&&X.getMessageCurtain().showSuccess(Nb.get("promptImportFromFileSuccess",
"\u5df2\u4ece\u9009\u4e2d\u6587\u4ef6\u5bfc\u5165\u3002"))})}catch(H){X.getMessageCurtain().showPrompt(Nb.get("promptImportFromFileError","\u5bfc\u5165\u65f6\u53d1\u751f\u9519\u8bef\u3002")+H,6E4)}}}};ja.onerror=function(ta){X.getMessageCurtain().showPrompt(Nb.get("promptReadFileError","\u8bfb\u53d6\u6587\u4ef6\u65f6\u53d1\u751f\u9519\u8bef\u3002")+ja.error,6E4)};ja.readAsText(va)}},"."+nb)):X.getMessageCurtain().showPrompt(Nb.get("promptCannotSupportFile","\u7531\u4e8e\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u7684\u95ee\u9898\uff0c\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301\u5bfc\u5165\u3001\u5bfc\u51fa\u6587\u4ef6\u3002"))};
X.initToolbarExportButton=function(nb,Ta,za,G,xa,va,ja,ta){X.getDialogCtrl().createToolbarButton(Nb.get("exportTo","\u5bfc\u51fa"),function(A){var y=Vb.createActionMenuItem(Nb.get("exportToFile","\u5bfc\u51fa\u5230\u6587\u4ef6"),function(){if(Wa.isSupported()&&"function"==typeof FileReader){var na={};na.qingStyleType=nb;na.version=Ta;na.content=G();na=JSON.stringify(na);var H=Da.formatDate("yyyyMMdd_HHmmss")+"."+nb;Wa.write(H,na)}else X.getMessageCurtain().showPrompt(Nb.get("promptCannotSupportFile",
"\u7531\u4e8e\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u7684\u95ee\u9898\uff0c\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301\u5bfc\u5165\u3001\u5bfc\u51fa\u6587\u4ef6\u3002"))}),L=Vb.createActionMenuItem(Nb.get("exportToClipboard","\u5bfc\u51fa\u5230\u6837\u5f0f\u526a\u8d34\u677f"),function(){var na=za(aa),H=G();aa.copy(na,H);X.getMessageCurtain().showSuccess(Nb.get("promptExportSuccess","\u5df2\u5bfc\u51fa\u3002"))});Ra(A,[y,L])},ta?!0:!1);X.getDialogCtrl().createToolbarButton(Nb.get("importFrom","\u5bfc\u5165"),
function(A){var y=Vb.createActionMenuItem(Nb.get("importFromFile","\u4ece\u6587\u4ef6\u5bfc\u5165")+"...",function(){La(nb,Ta,xa,va,ja)}),L=Vb.createActionMenuItem(Nb.get("importFromClipboard","\u4ece\u6837\u5f0f\u526a\u8d34\u677f\u5bfc\u5165"),function(){var na=za(aa);(na=aa.paste(na))?va(na,function(H){H&&X.getMessageCurtain().showSuccess(Nb.get("promptImportFromClipboardSuccess","\u5df2\u4ece\u6837\u5f0f\u526a\u8d34\u677f\u5bfc\u5165\u3002"))}):X.getMessageCurtain().showPrompt(Nb.get("promptImportFromClipboardEmpty",
"\u6837\u5f0f\u526a\u8d34\u677f\u4e2d\u6ca1\u6709\u5185\u5bb9\u3002"))});Ra(A,[y,L])})};X.popupMenu=Ra};pb.CornerMenu=g;var Da,jb,Ib,Nb,lb,Vb,gc,Pa,pa,Ya,ya,$b,ub,Qa,mb;(function(){var X=com.kingdee.bos.qing.common;Da=X.Util;jb=X.DomUtil;Ib=X.ColorUtil;X=com.kingdee.bos.qing.framework.common;Nb=X.MultilanguageManager.createPackageAccessor(pb);X=com.kingdee.bos.qing.ui.component;lb=X.AbstractModalDialog;Vb=X.Menu;gc=X.MenuModel;Pa=X.LeftTabContainer;pa=X.CheckBox;Ya=X.RadioButton;ya=X.RadioButtonGroup;
$b=X.Label;X=com.kingdee.bos.qing.common.ui;ub=X.LocalFileSelector;X=com.kingdee.bos.qing.dsb;Qa=X.Icons;mb=X.CosmeticBag})();var aa=new function(){this.getKeyOfCosmetic=function(){return"kd.qing.dashboard.style"};this.getKeyOfCardlook=function(){return"kd.qing.dashboard.cardlook"};this.copy=function(X,Fa){window.sessionStorage.setItem(X,JSON.stringify(Fa))};this.paste=function(X){return(X=window.sessionStorage.getItem(X))?JSON.parse(X):null}},Wa=new function(){this.isSupported=function(){if("undefined"===
typeof Blob)return!1;try{new Blob(["test"])}catch(Ra){return!1}return X()||"function"==typeof navigator.msSaveBlob};this.write=function(Ra,La){var nb=X();nb?(La=Fa(La),La=URL.createObjectURL(La),nb.href=La,nb.download=Ra,Ra=new MouseEvent("click"),nb.dispatchEvent(Ra),URL.revokeObjectURL(La)):(La=Fa(La),navigator.msSaveBlob(La,Ra))};var X=function(){var Ra=document.createElementNS("http://www.w3.org/1999/xhtml","a");return"download"in Ra?Ra:null},Fa=function(Ra){return new Blob([Ra],{type:"application/octet-stream"})}};
g.POSITION_LEFT=1;g.POSITION_RIGHT=2;g.POSITION_TOP=16;g.POSITION_BOTTOM=32;g.ConfigDialog=function(){function X(va,ja){Pa.AbstractTabPane.call(this);var ta;this.getTabHeadText=function(){return va};this.getJqUi=function(){ta||(ta=$("<div>"),ta.css({color:"#666","white-space":"pre-wrap",padding:"10px 20px","line-height":"24px"}));return ta};this.into=function(){ta.text()||0!=ta.children().length||ja(ta)}}function Fa(va){Pa.AbstractTabPane.call(this);var ja;this.getTabHeadText=function(){return Nb.get("cornerMenuTabConfig",
"\u83dc\u5355\u4e2a\u6027\u5316")};this.getJqUi=function(){!ja&&ta();return ja};var ta=function(){ja=$("<div>");var L=new $b;L.setText(Nb.get("cornerMenuConfigPosition","\u83dc\u5355\u4f4d\u7f6e"));var na=y(Nb.get("cornerMenuConfigPositionNW","\u5de6\u4e0a\u89d2"),g.POSITION_LEFT|g.POSITION_TOP),H=y(Nb.get("cornerMenuConfigPositionNE","\u53f3\u4e0a\u89d2"),g.POSITION_RIGHT|g.POSITION_TOP),S=y(Nb.get("cornerMenuConfigPositionSW","\u5de6\u4e0b\u89d2"),g.POSITION_LEFT|g.POSITION_BOTTOM),V=y(Nb.get("cornerMenuConfigPositionSE",
"\u53f3\u4e0b\u89d2"),g.POSITION_RIGHT|g.POSITION_BOTTOM),ua=new ya;ua.addElement(na);ua.addElement(H);ua.addElement(S);ua.addElement(V);ua.addChangedListener(function(M,ia){ia&&va.setPosition(M.getUserObject())});ua=new pa;ua.setText(Nb.get("cornerMenuConfigKeepMenu","\u83dc\u5355\u4e00\u76f4\u505c\u7559\u5728\u754c\u9762\u4e0a"));ua.setChecked(!va.isGourd6Mode());ua.addCheckedListener(function(M,ia){ia&&va.setGourd6Mode(!M.isChecked())});A(L.getJqUi(),20,10,120,20);A(na.getJqUi(),20,40,120,23);
A(H.getJqUi(),160,40,120,23);A(S.getJqUi(),20,80,120,23);A(V.getJqUi(),160,80,120,23);A(ua.getJqUi(),20,130,200,23)},A=function(L,na,H,S,V){L.appendTo(ja);jb.layoutCtrl(L,na,H,S,V)},y=function(L,na){var H=new Ya;H.setText(L);H.setUserObject(na);H.setChecked(va.getPosition()==na);return H}}function Ra(va){Pa.AbstractTabPane.call(this);var ja;this.getTabHeadText=function(){return Nb.get("cornerMenuTabPersonalization","\u4eea\u8868\u677f\u8bbe\u7f6e")};this.getJqUi=function(){ja||(ja=$("<div>"),va(ja));
return ja}}lb.call(this);var La=this,nb=this.protectedMethod,Ta,za,G,xa;this.setContextCreator=function(va){za=new X(Nb.get("cornerMenuTabContextInfo","\u4eea\u8868\u677f\u4fe1\u606f"),va)};this.setEnvCreator=function(va){G=new X(Nb.get("cornerMenuTabEnvInfo","\u73af\u5883\u4fe1\u606f"),va)};this.setPersonalizationCreator=function(va){xa=new Ra(va)};this.show=function(va,ja){La.setSize(640,360);nb.setTitle(va);nb.setFooterClosingOnly(!0);nb.setContentPaneCreator(function(){Ta=new Pa;Ta.setBorderVisible(!0);
Ta.setTabPanes([new Fa(ja),xa,G,za]);Ta.setTabHeadItemHeight(44);Ta.setTabHeadWidth(100);return Ta.getJqUi()});nb.setClosingAction(function(ta){});La.showDialog();Ta.refreshUi()}}})();(function(){function g(){var k=this,f,l=new tb,p=new tb,w;this.addPropertyChangedListener=function(Ha){l.addListener(Ha)};this.removePropertyChangedListener=function(Ha){l.removeListener(Ha)};var z=function(Ha,Na){l.fireEvent(function(U){U(Ha,Na)})};this.addChildrenChangedListener=function(Ha){p.addListener(Ha)};this.removeChildrenChangedListener=function(Ha){p.removeListener(Ha)};var D=function(Ha,Na,U){p.fireEvent(function(hb){hb(Ha,Na,U)})};this.getPage=function(){if(!f){f=new aa;var Ha=f.getWidgetTypeName();
f.setName(Ha);f.setDisplayName(Kc.getInstance(Ha).getTypeDisplayName());f.setRectangle(0,0,1024,768);f.setCardBorder(H.createInstance(H.TYPE_SIMPLE));f.addPropertyChangedListener(function(Na,U){z(Na,U)});f.addChildrenChangedListener(function(Na,U,hb){D(Na,U,hb)})}return f};this.getCurrentCosmeticModel=function(){return w};this.setCurrentCosmeticModel=function(Ha){w=Ha};this.allocateNameForNewWidget=function(Ha,Na,U,hb){var yb=Na.getTypeDisplayName();U=R(yb,U);Ha.setDisplayName(U);Na=Na.getTypeName();
hb=W(Na+(new Date).getTime(),"z",hb);Ha.setName(hb)};this.reallocateNameForCopyPasteWidget=function(Ha){K(Ha,function(Na,U){Na.setDisplayName(U)},function(Na,U){Na.setName(U)})};this.reallocateNameForCutPasteWidget=function(Ha,Na,U){K(Ha,Na,U)};var K=function(Ha,Na,U){var hb={},yb={};for(Ha=[Ha];0<Ha.length;){var Tb=Ha.shift(),N=Tb.getDisplayName();k.isDisplayNameExist(N)?(N=R(N+"_",hb),Na(Tb,N)):hb[N]=!0;N=Tb.getName();var Q=W(N,"_",yb);Q!=N&&U(Tb,Q);if(Tb.isContainer())for(N=0;N<Tb.getWidgetCount();N++)Ha.push(Tb.getWidget(N))}},
R=function(Ha,Na){for(var U=1,hb=Ha+U;k.isDisplayNameExist(hb)||Na&&Na[hb];)U++,hb=Ha+U;Na&&(Na[hb]=!0);return hb},W=function(Ha,Na,U){for(var hb=1,yb=Ha;sa(yb,"getName")||U&&U[yb];)yb=Ha+Na+hb,hb++;U&&(U[yb]=!0);return yb},sa=function(Ha,Na){var U=!1;k.getPage().traversalMeAndDescendents(function(hb){return hb[Na]()==Ha?U=!0:!1});return U};this.isDisplayNameExist=function(Ha){return sa(Ha,"getDisplayName")};this.searchWidgetByName=function(Ha){return k.getPage().searchWidgetByName(Ha)};this.collectStylesToJsonObject=
function(Ha){var Na=[];Ha.isContainer()?Ha.traversalMeAndDescendents(function(yb){Ba(yb,Na)}):Ba(Ha,Na);Ha=null;if(0<Na.length){Ha=[];for(var U=0;U<Na.length;U++){var hb=Na[U].toJsonObject();Ha.push(hb)}}return Ha};var Ba=function(Ha,Na){Ha.isInstanceOf(g.WidgetSuperType_WithCommonStyle)&&Ha.collectStyleAndAllocateId(function(U){for(var hb=-1,yb=0;yb<Na.length;yb++)if(Na[yb].isEquals(U)){hb=yb;break}0>hb&&(hb=Na.length,Na.push(U));return""+hb})};this.distributeStylesFromJsonObject=function(Ha,Na){for(var U=
[],hb=0;hb<Na.length;hb++){var yb=Na[hb],Tb=new na;Tb.fromJsonObject(yb);U.push(Tb)}Ha.isContainer()?Ha.traversalMeAndDescendents(function(N){Ua(N,U)}):Ua(Ha,U)};var Ua=function(Ha,Na){Ha.isInstanceOf(g.WidgetSuperType_WithCommonStyle)&&Ha.distributeStyle(function(U){return U?(U=parseInt(U),Na[U]):null})};this.toJsonObject=function(){var Ha={},Na=k.collectStylesToJsonObject(k.getPage());Na&&(Ha.styles=Na);(Na=k.getPage().getJsonCustomCosmetic())&&(Ha.cosmetic=Na);Ha.page=k.getPage().toJsonObject();
return Ha};this.fromJsonObject=function(Ha,Na){var U=Ha.isTooModern?!0:!1;Na&&Na.setTooModern(U);Na=Ha.page;k.getPage().fromJsonObject(Na);(Na=Ha.cosmetic)&&k.getPage().setJsonCustomCosmetic(Na);(Ha=Ha.styles)&&k.distributeStylesFromJsonObject(k.getPage(),Ha)}}function pb(){var k=this,f=new tb,l,p,w,z,D,K,R,W=!1,sa=!1,Ba=!0,Ua,Ha=!0;this.isContainer=function(){return!1};this.getSuperType=function(){return 0};this.isInstanceOf=function(U){return(k.getSuperType()&U)==U};this.getWidgetTypeName=function(){throw Error("Override me");
};this.addPropertyChangedListener=function(U){f.addListener(U)};this.removePropertyChangedListener=function(U){f.removeListener(U)};var Na=function(U,hb){f.fireEvent(function(yb){yb(U,hb)})};this.bindParent=function(U){l=U};this.getParent=function(){return l};this.getTopPage=function(){for(var U=k;U.getParent();)U=U.getParent();return U};this.upToVisitPath=function(U){for(var hb=k;hb.getParent()&&(hb=hb.getParent(),!U(hb)););};this.isOpacityRequired=function(){var U=!1;k.upToVisitPath(function(hb){var yb=
!1;hb.isInstanceOf(g.WidgetSuperType_ContainerWithBackground)&&(U=hb.isWidgetOpacityRequired())&&(yb=!0);return yb});return U};this.setName=function(U){p=U};this.getName=function(){return p};this.setDisplayName=function(U){w=U;Na(k,g.KEY_DISPLAY_NAME)};this.getDisplayName=function(){return w};this.getX=function(){return z};this.getY=function(){return D};this.getWidth=function(){return K};this.getHeight=function(){return R};this.setPosition=function(U,hb){z=U;D=hb};this.setSize=function(U,hb){K=U;
R=hb};this.setRectangle=function(U,hb,yb,Tb){z=U;D=hb;K=yb;R=Tb;Na(k,g.KEY_RECT)};this.markFullscreen=function(U,hb){U&&!Ua?(Ua=[z,D,K,R],Na(k,hb?g.KEY_FULLSCREEN_BY_ANCESTOR:g.KEY_FULLSCREEN)):!U&&Ua&&(k.setRectangle(Ua[0],Ua[1],Ua[2],Ua[3]),Ua=null,Na(k,hb?g.KEY_FULLSCREEN_BY_ANCESTOR:g.KEY_FULLSCREEN))};this.hasBeenFullscreen=function(){return Ua?!0:!1};this.isWidthLockedAlways=function(U){return U.isWidthLockedAlways()};this.isHeightLockedAlways=function(U){return U.isHeightLockedAlways()};this.isWidthLocked=
function(){return W};this.setWidthLocked=function(U){W=U};this.isHeightLocked=function(){return sa};this.setHeightLocked=function(U){sa=U};this.isCanBeContained=function(U,hb){return!0};this.isMovable=function(){return!0};this.isVisible=function(){return Ba};this.setVisible=function(U){Ba!=U&&(Ba=U,Na(k,g.KEY_VISIBLE))};this.isEldestSon=function(){return!1};this.setSkinActive=function(U){Ha=U};this.isSkinActive=function(){return Ha};this.toJsonObject=function(){var U={};U.widgetType=k.getWidgetTypeName();
U.name=p;U.displayName=w;U.x=z;U.y=D;U.width=K;U.height=R;W&&(U.widthLocked=!0);sa&&(U.heightLocked=!0);!Ba&&(U.visible=!1);k.protectedToJsonObject(U);return U};this.fromJsonObject=function(U){p=U.name;w=U.displayName;z=U.x;D=U.y;K=U.width;R=U.height;W=U.widthLocked?!0:!1;sa=U.heightLocked?!0:!1;Ba=!1===U.visible?!1:!0;k.protectedFromJsonObject(U)};this.protectedToJsonObject=function(U){throw Error("Override");};this.protectedFromJsonObject=function(U){throw Error("Override");};this.protectedMethod=
{firePropertyChangedEvent:Na}}function Da(){pb.call(this);var k=this,f=this.protectedMethod,l=[],p=new tb,w;this.isContainer=function(){return!0};this.isCanContain=function(W,sa){return!0};this.setLayoutAdapter=function(W){w=W};this.getLayoutAdapter=function(){return w};this.addChildrenChangedListener=function(W){p.addListener(W)};this.removeChildrenChangedListener=function(W){p.removeListener(W)};var z=function(W,sa,Ba){p.fireEvent(function(Ua){Ua(W,sa,Ba)})};this.getClientWidth=function(W){W=W?
W:k.getWidth();return k.protectedConfirmClientWidth(W)};this.protectedConfirmClientWidth=function(W){return W};this.getClientHeight=function(W){W=W?W:k.getHeight();return k.protectedConfirmClientHeight(W)};this.protectedConfirmClientHeight=function(W){return W};this.setClientSize=function(W,sa){k.setSize(W,sa)};this.addWidget=function(W,sa){"number"==typeof sa?l.splice(sa,0,W):l.push(W);W.bindParent(k);W.addPropertyChangedListener(K);W.isContainer()&&W.addChildrenChangedListener(R);z(g.KEY_ADD_CHILD,
k,W)};this.removeWidget=function(W){for(var sa=0;sa<l.length;sa++)if(l[sa]==W)return l.splice(sa,1),W.bindParent(null),W.removePropertyChangedListener(K),W.isContainer()&&W.removeChildrenChangedListener(R),z(g.KEY_REMOVE_CHILD,k,W),sa;return-1};this.moveWidgetTo=function(W,sa){for(var Ba=!1,Ua=0;Ua<l.length;Ua++)if(l[Ua]==W){l.splice(Ua,1);Ba=!0;break}Ba&&(l.splice(sa,0,W),z(g.KEY_MOVE_CHILD,k,W))};this.getWidgetCount=function(){return l.length};this.getWidget=function(W){return l[W]};this.traversalMeAndDescendents=
function(W){D(W,!0)};this.traversalDescendents=function(W){D(W,!1)};var D=function(W,sa){for(var Ba=[k];0<Ba.length;){var Ua=Ba.pop(),Ha=!1;if(sa||Ua!=k)Ha=W(Ua);if(Ha)break;if(Ua.isContainer())for(Ha=Ua.getWidgetCount()-1;0<=Ha;Ha--)Ba.push(Ua.getWidget(Ha))}};this.deepFirstTraversalDescendents=function(W,sa){for(var Ba=!1,Ua=0;Ua<l.length;Ua++){var Ha=l[Ua];(Ba=W(Ha))||!Ha.isContainer()||sa&&!sa(Ha)||(Ba=Ha.deepFirstTraversalDescendents(W,sa));if(Ba)break}return Ba};this.searchWidgetByName=function(W){var sa=
null;k.traversalMeAndDescendents(function(Ba){return Ba.getName()==W?(sa=Ba,!0):!1});return sa};this.isDescendentsContain=function(W){var sa=!1;k.traversalDescendents(function(Ba){return Ba==W?sa=!0:!1});return sa};var K=function(W,sa){k.protectedDoDescendantPropertyChanged(W,sa);f.firePropertyChangedEvent(W,sa)};this.protectedDoDescendantPropertyChanged=function(W,sa){};var R=function(W,sa,Ba){z(W,sa,Ba)};this.protectedMethod.containerToJsonObject=function(W){for(var sa=[],Ba=0;Ba<l.length;Ba++){var Ua=
l[Ba].toJsonObject();sa.push(Ua)}W.widgets=sa};this.protectedMethod.containerFromJsonObject=function(W){W=W.widgets;for(var sa=0;sa<W.length;sa++){var Ba=W[sa],Ua=Kc.getInstance(Ba.widgetType).createWidgetModel();Ua.fromJsonObject(Ba);k.addWidget(Ua)}};this.protectedMethod.isMySon=function(W){for(var sa=0;sa<k.getWidgetCount();sa++)if(k.getWidget(sa)==W)return!0;return!1}}function jb(){Da.call(this);var k=this;this.getSuperType=function(){return g.WidgetSuperType_CompositeContainer};var f=this.setSize;
this.setSize=function(D,K){f(D,K);z()};var l=this.setRectangle;this.setRectangle=function(D,K,R,W){l(D,K,R,W);z()};var p=this.addWidget;this.addWidget=function(D,K){p(D,K);k.protectedSyncSubRect(D);k.protectedAfterAddWidget(D)};this.protectedAfterAddWidget=function(D){};var w=this.removeWidget;this.removeWidget=function(D){var K=w(D);k.protectedAfterRemoveWidget(D);return K};this.protectedAfterRemoveWidget=function(D){};var z=function(){for(var D=0;D<k.getWidgetCount();D++){var K=k.getWidget(D);k.protectedSyncSubRect(K)}};
this.protectedSyncSubRect=function(D){throw Error("Implement");};this.protectedMethod.syncSubsRect=z}function Ib(){var k=this,f=this.protectedMethod,l;this.getSuperType=function(){return g.WidgetSuperType_ContainerWithBackground};this.setBackgroundPicture=function(p){l=p;f.firePropertyChangedEvent(k,g.KEY_PAGE_BACKGROUND)};this.getBackgroundPicture=function(){return l};this.isWidgetOpacityRequired=function(){return l?!0:!1};f.backgroundToJsonObject=function(p){l&&(p.background=l.toJsonObject())};
f.backgroundFromJsonObject=function(p){l=null;if(p=p.background)l=new G,l.fromJsonObject(p)}}function Nb(){this.getSuperType=function(){return g.WidgetSuperType_CardSurfaceAbout}}function lb(){var k=null,f=null,l=null,p=!1,w=lb.TitlePosition_Auto,z=lb.TitlePosition_Auto,D=null,K=null;this.setTopBarIcon=function(R){k=R};this.getTopBarIcon=function(){return k};this.getCardTitleHorizontalPosition=function(){return w};this.getCardTitleOffsetX=function(){return D};this.getCardTitleVerticalPosition=function(){return z};
this.getCardTitleOffsetY=function(){return K};this.getTopBarIconOffset=function(){return f};this.getTopBarIconSize=function(){return l};this.isTopBarIconWidthAsPercentage=function(){return p};this.setTitleLayout=function(R,W,sa,Ba,Ua,Ha,Na){f=R;l=W;p=sa;w=Ba;z=Ha;D=w==lb.TitlePosition_Offset?Ua:null;K=z==lb.TitlePosition_Offset?Na:null};this.toJsonObject=function(){var R={};k&&(R.topBarIcon=k.toJsonObject(),f&&(R.iconOffset=f),l&&(R.iconSize=l),p&&(R.iconWidthAsPercentage=!0));R.titleHorizontalPosition=
w;R.titleVerticalPosition=z;R.titleOffsetX=D;R.titleOffsetY=K;return R};this.fromJsonObject=function(R){k=null;var W=R.topBarIcon;if(W){k=G.createPeer();k.fromJsonObject(W);W=R.iconOffset;var sa=R.iconSize;f=W?W:null;l=sa?sa:null;p=R.iconWidthAsPercentage?!0:!1}W=R.titleHorizontalPosition;sa=R.titleVerticalPosition;w=W?W:lb.TitlePosition_Auto;z=sa?sa:lb.TitlePosition_Auto;D=w==lb.TitlePosition_Offset?R.titleOffsetX:null;K=z==lb.TitlePosition_Offset?R.titleOffsetY:null}}function Vb(){Nb.call(this);
var k=this,f=this.protectedMethod,l=Vb.Surface_Unified,p=null,w=null,z,D=null,K=null,R=null,W,sa=null;this.getSuperType=function(){return g.WidgetSuperType_CardSimilary};this.isBareSurface=function(){return l==Vb.Surface_Bare?!0:k.isBareSurfacePassively()};this.isBareSurfacePassively=function(){for(var Ba=k.getParent();Ba&&Ba.getWidgetTypeName()!=g.WidgetType_Page;){if(Ba.isInstanceOf(g.WidgetSuperType_CardSimilary))return!0;Ba=Ba.getParent()}return!1};this.getUsableCardBorder=function(){if(k.isSkinActive()){var Ba=
l==Vb.Surface_Custom?p:null;return Ba?Ba:k.getTopPage().getCardBorder()}return H.createInstance(H.TYPE_SIMPLE)};this.getUsableCardTopBarCommon=function(){return k.isSkinActive()?sa?sa:k.getTopPage().getCardTopBarCommon():null};this.getUsableCardTopBarIcon=function(){var Ba=k.getUsableCardTopBarCommon();return Ba?Ba.getTopBarIcon():null};this.getActiveBackgroundColor=function(){return l==Vb.Surface_Custom?k.getUsableCardBorder().getType()==H.TYPE_IMAGE?null:w:null};this.setCardSurfaceMode=function(Ba){l=
Ba;f.firePropertyChangedEvent(k,g.KEY_CARD_SURFACE)};this.getCardSurfaceMode=function(){return l};this.setCardBorder=function(Ba){p&&p.hookPropertyChangedListener(null);(p=Ba)&&p.hookPropertyChangedListener(function(){f.firePropertyChangedEvent(k,g.KEY_CARD_SURFACE)});f.firePropertyChangedEvent(k,g.KEY_CARD_SURFACE)};this.getCardBorder=function(){return p};this.setBackgroundColor=function(Ba){w=Ba;f.firePropertyChangedEvent(k,g.KEY_CARD_SURFACE)};this.getBackgroundColor=function(){return w};this.setCardTitle=
function(Ba){z=Ba;f.firePropertyChangedEvent(k,g.KEY_CARD_TITLE)};this.getCardTitle=function(){return z};this.getTitleFontName=function(){return D};this.getTitleFontSize=function(){return K};this.getTitleColor=function(){return R};this.setTitleStyle=function(Ba,Ua,Ha){D=Ba;K=Ua;R=Ha;f.firePropertyChangedEvent(k,g.KEY_CARD_TITLE)};this.setCardDescription=function(Ba){W=Ba;f.firePropertyChangedEvent(k,g.KEY_CARD_TITLE)};this.getCardDescription=function(){return W};this.setCardTopBarCommon=function(Ba){sa=
Ba;f.firePropertyChangedEvent(k,g.KEY_CARD_TITLE)};this.getCardTopBarCommon=function(){return sa};this.getPaddingLeft=function(){return k.isBareSurface()?0:20};this.getPaddingRight=function(){return k.isBareSurface()?0:20};this.getPaddingTop=function(){return k.isBareSurface()?16:k.isSkinActive()&&(z||k.getUsableCardTopBarIcon())?40:20};this.getPaddingBottom=function(){return k.isBareSurface()?0:10};this.protectedMethod.cardSimilaryToJsonObject=function(Ba){l!=Vb.Surface_Unified&&(Ba.cardSurfaceMode=
l==Vb.Surface_Bare?"bare":l==Vb.Surface_Custom?"custom":null,l==Vb.Surface_Custom&&(w&&(Ba.backgroundColor=w),p&&(Ba.cardBorder=p.toJsonObject())));k.isBareSurface()||(z&&(Ba.cardTitle=z,Ba.titleFontName=D,Ba.titleFontSize=K,Ba.titleColor=R),sa&&(Ba.topBar=sa.toJsonObject()));W&&(Ba.cardDescription=W)};this.protectedMethod.cardSimilaryFromJsonObject=function(Ba){var Ua=Ba.cardSurfaceMode;l="bare"==Ua?Vb.Surface_Bare:"custom"==Ua?Vb.Surface_Custom:Vb.Surface_Unified;w=(Ua=Ba.backgroundColor)?Ua:null;
Ua=null;var Ha=Ba.cardBorder;Ha&&(Ua=H.createInstance(Ha.type),Ua.fromJsonObject(Ha));k.setCardBorder(Ua);z=Ba.cardTitle;Ua=Ba.titleFontName;Ha=Ba.titleFontSize;var Na=Ba.titleColor;D=Ua?Ua:null;K=Ha?Ha:null;R=Na?Na:null;sa=null;if(Ua=Ba.topBar)sa=new lb,sa.fromJsonObject(Ua);W=Ba.cardDescription}}function gc(){var k=this,f=this.protectedMethod,l;this.getSuperType=function(){return g.WidgetSuperType_FilterSimilary};this.getSourceDataType=function(){throw Error("Override");};var p=function(w){l=w&&
w.getItemCount()?w:null};this.setAffectedTargets=function(w){p(w);f.firePropertyChangedEvent(k,g.KEY_AFFECTED_TARGETS)};this.getAffectedTargets=function(){return l};this.checkCircularAffection=function(w){w=w?w:k.getAffectedTargets();if(!w)return null;for(var z=[k,[k.getDisplayName()]],D=[z],K={};0<D.length;){z=D.shift();var R=z[0];z=z[1];if(K[R.getName()]){if(R==k)return z.join(" -> ")}else if(K[R.getName()]=!0,R=R==k?w:R.isInstanceOf(g.WidgetSuperType_FilterSimilary)?R.getAffectedTargets():null)for(var W=
0,sa=R.getItemCount();W<sa;W++){var Ba=null,Ua=R.getItem(W);Ua.isAffectingInsideDashboard()&&k.getTopPage().traversalMeAndDescendents(function(Na){return Na.getName()==Ua.getTargetWidgetName()?(Ba=Na,!0):!1});if(Ba){var Ha=z.slice(0);Ha.push(Ba.getDisplayName());D.push([Ba,Ha])}}}return null};this.protectedMethod.innerSetAffectedTargets=p;this.protectedMethod.filterSimilaryToJsonObject=function(w){if(l){var z={};l.toJsonObject(z);w.affectedTargets=z}};this.protectedMethod.filterSimilaryFromJsonObject=
function(w){if(w=w.affectedTargets)l=new Rb,l.fromJsonObject(w)}}function Pa(){var k=this,f=this.protectedMethod,l=0;this.setFontSizeEnhanced=function(p){l=p;f.firePropertyChangedEvent(k,g.KEY_FONT_SIZE_ENHANCED)};this.getFontSizeEnhanced=function(){return l};this.protectedMethod.fontSizeEnhancedToJsonObject=function(p){l&&(p.fontSizeEnhanced=l)};this.protectedMethod.fontSizeEnhancedFromJsonObject=function(p){l=(p=p.fontSizeEnhanced)?p:0}}function pa(){Pa.call(this);var k=this,f=this.protectedMethod,
l,p,w;this.getSuperType=function(){return g.WidgetSuperType_WithLabel};this.setFrontLabel=function(z){l=z;f.firePropertyChangedEvent(k,g.KEY_FILTER_FRONT_LABEL)};this.getFrontLabel=function(){return l};this.setFrontLabelPosition=function(z){p=z;f.firePropertyChangedEvent(k,g.KEY_FILTER_FRONT_LABEL_POSITION)};this.getFrontLabelPosition=function(){return p};this.setFrontLabelLength=function(z){w=z;f.firePropertyChangedEvent(k,g.KEY_FILTER_FRONT_LABEL_LENGTH)};this.getFrontLabelLength=function(){return w};
this.protectedMethod.inputCtrlWithLabelToJsonObject=function(z){var D={};z.withLabel=D;l&&(D.frontLabel=l);w&&(D.frontLabelLength=w);p&&(D.frontLabelPosition=p);f.fontSizeEnhancedToJsonObject(D)};this.protectedMethod.inputCtrlWithLabelFromJsonObject=function(z){z=z.withLabel;var D=z.frontLabel;D&&(l=D);(D=z.frontLabelLength)&&(w=D);(D=z.frontLabelPosition)&&(p=D);f.fontSizeEnhancedFromJsonObject(z)}}function Ya(){var k=this,f=this.protectedMethod,l,p=!0,w=new wa,z=!1;this.getSuperType=function(){return g.WidgetSuperType_DiscreteItemFilter};
this.setFilterSource=function(D){l=D;f.firePropertyChangedEvent(k,g.KEY_FILTER_SOURCE)};this.getFilterSource=function(){return l};this.isIncludeItemAllSupported=function(){return!1};this.setIncludedItemAll=function(D){p=D;f.firePropertyChangedEvent(k,g.KEY_DISCRETE_INCLUDED_ITEMALL)};this.isIncludedItemAll=function(){return p};this.getOriginatedExecutingTag=function(){if(l&&l.getType()==M.TYPE_VisualWidget){var D=k.getTopPage().searchWidgetByName(l.getSourceWidgetName());return D?D.getOriginatedExecutingTag():
null}return null};this.isLightWeight=function(){return!0};this.setDefaultSelected=function(D){w=D;f.firePropertyChangedEvent(k,g.KEY_FILTER_DEFAULT_SELECTED)};this.getDefaultSelected=function(){return w};this.setMultiSelectable=function(D){z=D;f.firePropertyChangedEvent(k,g.KEY_DISCRETE_MULTISELECTABLE)};this.isMultiSelectable=function(){return z};this.protectedMethod.discreteItemFilterToJsonObject=function(D){if(l){var K={};l.toJsonObject(K);D.filterSource=K}D.includedItemAll=p;w&&(K={},w.toJsonObject(K),
D.defaultSelected=K);D.multiSelectable=z};this.protectedMethod.discreteItemFromJsonObject=function(D){var K=D.filterSource;if(K){var R=K.type;l=M.createInstance(R);l.fromJsonObject(K)}p=D.includedItemAll?!0:!1;if(K=D.defaultSelected)R=K.type,w=gb.createInstance(R),w.fromJsonObject(K);z=D.multiSelectable}}function ya(){var k=this,f;this.getSuperType=function(){return g.WidgetSuperType_AffectedTarget};this.getExecutingInputParams=function(l){!f&&l&&(f=new pc);return f};this.getAffectedParamType=function(){throw Error("Override");
};this.isTheAffectedTargetOfAnother=function(){var l=!1;k.getTopPage().traversalDescendents(function(p){return p!=k&&p.isInstanceOf(g.WidgetSuperType_FilterSimilary)&&(p=p.getAffectedTargets())&&(p=p.getTarget(k.getName()))&&p.isSettingComplete()?l=!0:!1});return l}}function $b(){var k=this,f=this.protectedMethod,l;this.getSuperType=function(){return g.WidgetSuperType_Referable};this.setReferenceCustomMap=function(p){l=p;f.firePropertyChangedEvent(k,g.KEY_REF)};this.getReferenceCustomMap=function(){return l};
this.copyReference=function(p){throw Error("Implement");};this.protectedMethod.referableToJsonObject=function(p){p.ref=l};this.protectedMethod.referableFromJsonObject=function(p){l=p.ref}}function ub(){var k=this,f=this.protectedMethod,l;this.setRefreshTiming=function(p){l=p;f.firePropertyChangedEvent(k,g.KEY_REFRESH_TIMING)};this.getRefreshTiming=function(){return l};this.protectedMethod.autoRefreshableToJsonObject=function(p){0<l&&(p.refreshTiming=l)};this.protectedMethod.autoRefreshableFromJsonObject=
function(p){p=p.refreshTiming;l=0<p?p:-1}}function Qa(){var k=this;this.getSuperType=function(){return g.WidgetSuperType_FullscreenSupported};this.isAncestorForbidFullscreen=function(){for(var f=k.getParent();f;){if(f instanceof A&&f.getFullscreenAllowed()==A.FULLSCREEN_ALLOWED_ALONE)return!0;f=f.getParent()}return!1}}function mb(){var k=this,f=this.protectedMethod,l,p;this.getSuperType=function(){return g.WidgetSuperType_WithCommonStyle};this.setStyle=function(w){p=w;f.firePropertyChangedEvent(k,
g.KEY_STYLE)};this.getStyle=function(){p||(p=new na,p.setFontSize(14),p.setAlign("center"),p.setColor(null));return p};this.distributeStyle=function(w){p=w(l)};this.collectStyleAndAllocateId=function(w){l=w(p)};f.styleToJsonObject=function(w){w.styleId=l};f.styleFromJsonObject=function(w){l=w.styleId}}function aa(){Da.call(this);Ib.call(this);var k=this,f=this.protectedMethod,l=g.ExhibitionMode_Full,p=g.Skin_White,w,z=H.createInstance(H.TYPE_SIMPLE),D=null,K,R=g.MobileLayoutConverter_ByPosition,W=
!1,sa=null;this.getSuperType=function(){return g.WidgetSuperType_ContainerWithBackground};this.getWidgetTypeName=function(){return g.WidgetType_Page};this.isVisible=function(){return!0};this.setVisible=function(){throw Error("Unsupported");};this.getX=function(){throw Error("Unsupported");};this.getY=function(){throw Error("Unsupported");};var Ba=this.setSize;this.setSize=function(U,hb){Ba(U,hb);Ua()};this.setRectangle=function(U,hb,yb,Tb){k.setSize(yb,Tb);f.firePropertyChangedEvent(k,g.KEY_PAGE_SIZE)};
var Ua=function(){if(0<k.getWidgetCount()){var U=k.getWidget(0);if(U instanceof Wa){var hb=k.getWidth();U.setRectangle(0,0,hb,U.getHeight())}}},Ha=this.addWidget;this.addWidget=function(U,hb){Ha(U,hb);U instanceof Wa&&Ua()};this.isCanContain=function(U,hb){if(U instanceof Wa){U=0;for(var yb=k.getWidgetCount();U<yb;U++)if(k.getWidget(U)instanceof Wa)return hb&&hb.push(Pb.get("widgetPageCanContainPrompt","\u9875\u9762\u4e2d\u5df2\u5b58\u5728\u6807\u9898\u680f\u3002")),!1}return!0};this.isMobileDesired=
function(){var U=500>=k.getWidth(),hb=1.5<=k.getHeight()/k.getWidth();return U&&hb};this.setExhibitionMode=function(U){l=U;f.firePropertyChangedEvent(k,g.KEY_PAGE_EXHIBITION_MODE)};this.getExhibitionMode=function(){return l};this.setSkin=function(U,hb){p=U;w=hb;f.firePropertyChangedEvent(k,g.KEY_PAGE_SKIN)};this.getSkin=function(){return p};this.setJsonCustomCosmetic=function(U){w=new Qb;w.fromJsonObject(U)};this.getJsonCustomCosmetic=function(){return w?w.toJsonObject():null};this.getCustomCosmetic=
function(){return w};this.setCardBorder=function(U){z&&z.hookPropertyChangedListener(null);z=U;z.hookPropertyChangedListener(function(){f.firePropertyChangedEvent(k,g.KEY_PAGE_UNIFIED_CARD)});f.firePropertyChangedEvent(k,g.KEY_PAGE_UNIFIED_CARD)};this.getCardBorder=function(){return z};this.setCardTopBarCommon=function(U){D=U;f.firePropertyChangedEvent(k,g.KEY_PAGE_UNIFIED_CARD)};this.getCardTopBarCommon=function(){return D};this.setWatermark=function(U){K=U;f.firePropertyChangedEvent(k,g.KEY_PAGE_WATERMARK)};
this.getWatermark=function(){return K};var Na=this.isWidgetOpacityRequired;this.isWidgetOpacityRequired=function(){return Na()||(K?!0:!1)};this.setMobileLayoutConverter=function(U){R=U;f.firePropertyChangedEvent(k,g.KEY_PAGE_MOBILE_LAYOUT_CONVERTER)};this.getMobileLayoutConverter=function(){return R};this.setMobileSkinActive=function(U){W=U;f.firePropertyChangedEvent(k,g.KEY_PAGE_MOBILE_SKIN_ACTIVE)};this.isMobileSkinActive=function(){return W};this.setRunningMode=function(U){sa=U};this.getRunningMode=
function(){return sa};this.protectedToJsonObject=function(U){f.containerToJsonObject(U);f.backgroundToJsonObject(U);U.exhibitionMode=l;U.skin=p;U.cardBorder=z.toJsonObject();D&&(U.cardTopBarCommon=D.toJsonObject());U.watermark=K;U.mobileLayoutConverter=R;W&&(U.mobileSkinActive=!0);sa&&(U.runningMode=sa)};this.protectedFromJsonObject=function(U){f.containerFromJsonObject(U);f.backgroundFromJsonObject(U);var hb=U.exhibitionMode;l=hb?hb:g.ExhibitionMode_Idle;p=(hb=U.skin)?hb:g.Skin_White;hb=U.cardBorder;
var yb=H.createInstance(hb.type);yb.fromJsonObject(hb);k.setCardBorder(yb);D=null;if(hb=U.cardTopBarCommon)D=new lb,D.fromJsonObject(hb);K=U.watermark;R=(hb=U.mobileLayoutConverter)?hb:g.MobileLayoutConverter_ByPosition;W=U.mobileSkinActive?!0:!1;sa=(U=U.runningMode)?U:null}}function Wa(){function k(){var z=null,D=0,K=null;this.setBackgroundColor=function(R){z=R};this.getBackgroundColor=function(){return z};this.setSeparaterLineWidth=function(R){D=R};this.getSeparaterLineWidth=function(){return D};
this.setSeparaterColor=function(R){K=R};this.getSepataterColor=function(){return K};this.toJsonObject=function(){var R={};R.backgroundColor=z;R.separaterLineWidth=D;R.separaterColor=K;return R};this.fromJsonObject=function(R){z=R.backgroundColor;var W=R.separaterLineWidth;D=W?W:0;K=R.separaterColor}}Da.call(this);Ib.call(this);var f=this,l=this.protectedMethod,p=!1,w=null;this.getSuperType=function(){return g.WidgetSuperType_ContainerWithBackground};this.getWidgetTypeName=function(){return g.WidgetType_PageTitleBar};
this.isMovable=function(){return!1};this.isCanBeContained=function(z,D){if(z instanceof aa)return!0;D&&D.push(Pb.get("widgetPageTitleBarCanBeContainedPrompt","\u9875\u9762\u6807\u9898\u680f\u53ea\u80fd\u51fa\u73b0\u5728\u9875\u9762\u4e2d\u3002"));return!1};this.setWidthLocked=function(z){};this.isEldestSon=function(){return!0};this.protectedConfirmClientHeight=function(z){return z-(w?w.getSeparaterLineWidth():0)};this.setFrozen=function(z){p=z;l.firePropertyChangedEvent(f,Wa.KEY_FROZEN)};this.isFrozen=
function(){return p};this.setSurfaceModel=function(z){w=z;l.firePropertyChangedEvent(f,Wa.KEY_SURFACE)};this.getSurfaceModel=function(){return w};this.createSurfaceModel=function(){return new k};this.protectedToJsonObject=function(z){l.containerToJsonObject(z);l.backgroundToJsonObject(z);z.frozen=p;if(w){var D=w.toJsonObject();z.surface=D}};this.protectedFromJsonObject=function(z){l.containerFromJsonObject(z);l.backgroundFromJsonObject(z);p=z.frozen?!0:!1;w=null;if(z=z.surface)w=new k,w.fromJsonObject(z)}}
function X(){var k=this,f,l;this.getSuperType=function(){return g.WidgetSuperType_BuiltinVisual};this.setExecutingTag=function(p){f=p};this.getExecutingTag=function(){return f};this.deliveryTemporary=function(p,w,z){l=[p,w,z]};this.pickupTmpJsonModelBook=function(){var p=l;l=null;return p};this.getAffectedParamType=function(){return g.AffectedType_BindField|g.AffectedType_Param};this.getOriginatedExecutingTag=function(){return k.getExecutingTag()}}function Fa(){function k(p,w,z,D,K){this.getQingModelIndex=
function(){return p};this.getQingModel=function(){return w};this.getQingModelPreferences=function(){return z};this.getName=function(){return D};this.getDescription=function(){return K}}var f=null,l=null;this.getSuperType=function(){return g.WidgetSuperType_OutputParamProvider};this.clearAllParamInfo=function(){f=[];l=[]};this.appendOutputParamInfo=function(p,w,z,D,K){f.push(new k(p,w,z,D,K))};this.getOutputParamsInfo=function(){return f};this.appendWarningRuleInfo=function(p,w,z,D,K){l.push(new k(p,
w,z,D,K))};this.getWarningRulesInfo=function(){return l}}function Ra(){pb.call(this);ya.call(this);ub.call(this);var k=this,f=this.protectedMethod,l,p;this.getSuperType=function(){return g.WidgetSuperType_AffectedTarget};this.getWidgetTypeName=function(){return g.WidgetType_ExtReport};this.getDashboardSkinName=function(){return k.getTopPage().getSkin()};this.setTitle=function(w){l=w;f.firePropertyChangedEvent(k,Ra.KEY_TITLE)};this.getTitle=function(){return l};this.setEncodedModel=function(w){p=w;
f.firePropertyChangedEvent(k,Ra.KEY_MODEL)};this.getEncodedModel=function(){return p};this.getExecutableAffectedParams=function(){var w=k.getExecutingInputParams();return w?w.createExternalParamsApi().toJsonObject():{}};this.getAffectedParamType=function(){return g.AffectedType_Param};this.protectedToJsonObject=function(w){w.title=l;w.encodedModel=p;f.autoRefreshableToJsonObject(w)};this.protectedFromJsonObject=function(w){l=w.title;p=w.encodedModel;f.autoRefreshableFromJsonObject(w)}}function La(){pb.call(this);
var k=this,f=this.protectedMethod,l;this.getWidgetTypeName=function(){return g.WidgetType_CosmicCustomCard};this.setEncodedModel=function(p){l=p;f.firePropertyChangedEvent(k,La.KEY_MODEL)};this.getEncodedModel=function(){return l};this.protectedToJsonObject=function(p){p.encodedModel=l};this.protectedFromJsonObject=function(p){l=p.encodedModel}}function nb(){ya.call(this);gc.call(this);var k=this,f=this.protectedMethod,l;this.getSuperType=function(){return g.WidgetSuperType_Text};this.getAffectedParamType=
function(){return g.AffectedType_Param};this.getSourceDataType=function(){return hc.DT_STRING};this.setAffectedTargets=function(p){f.innerSetAffectedTargets(p)};this.getPredefinedTextFragments=function(){return l};this.parseOutputParam=function(p){var w=function(K){K=nb.parseRef(K);for(var R=0;R<K.length;R++){var W=K[R][2];0<W.indexOf("#")&&(W=W.split("#"),p(W[0],W[1]))}};w(k.protectedGetText());if(l)for(var z=0;z<l.getFragmentCount();z++){var D=l.getFragment(z).getDisplay();w(D)}};this.protectedGetText=
function(){throw Error("Implement");};f.innerSetPredefinedTextFragments=function(p){l=p};f.textToJsonObject=function(p){if(l){var w={};l.toJsonObject(w);p.predefined=w}};f.textFromJsonObject=function(p){l=null;if(p=p.predefined)l=new ib,l.fromJsonObject(p)}}function Ta(){pb.call(this);nb.call(this);mb.call(this);var k=this,f=this.protectedMethod,l,p=0,w=!1;this.getSuperType=function(){return g.WidgetSuperType_Text|g.WidgetSuperType_AffectedTarget|g.WidgetSuperType_FilterSimilary|g.WidgetSuperType_WithCommonStyle};
this.getWidgetTypeName=function(){return g.WidgetType_Label};this.setContent=function(z,D){f.innerSetPredefinedTextFragments(z);l=D;f.firePropertyChangedEvent(k,Ta.KEY_CONTENT)};this.getContent=function(){return l};this.protectedGetText=function(){return l};this.setWalkingSpeed=function(z){p=z;f.firePropertyChangedEvent(k,Ta.KEY_WALKING)};this.getWalkingSpeed=function(){return p};this.setRuntimeWalkable=function(z){w=z};this.isRuntimeWalkable=function(){return w};this.isHeightLocked=function(){return!0};
this.protectedToJsonObject=function(z){f.styleToJsonObject(z);f.textToJsonObject(z);z.text=l;p&&(z.walking=p)};this.protectedFromJsonObject=function(z){f.styleFromJsonObject(z);f.textFromJsonObject(z);l=z.text;p=(z=z.walking)?z:0}}function za(){pb.call(this);nb.call(this);var k=this,f=this.protectedMethod,l;this.getSuperType=function(){return g.WidgetSuperType_Text|g.WidgetSuperType_AffectedTarget|g.WidgetSuperType_FilterSimilary};this.getWidgetTypeName=function(){return g.WidgetType_Rich};this.setContent=
function(p,w){f.innerSetPredefinedTextFragments(p);l=w;f.firePropertyChangedEvent(k,za.KEY_CONTENT)};this.getContent=function(){return l};this.protectedGetText=function(){return l.getAllText()};this.protectedToJsonObject=function(p){for(var w=[],z=0;z<l.getParagraphCount();z++){for(var D=l.getParagraph(z),K=[],R=0;R<D.getContentCount();R++){var W=D.getContent(R),sa={};sa.text=W.getText();sa.fontName=W.getFontName();sa.fontSize=W.getFontSize();W.isBold()&&(sa.bold=!0);W.isItalic()&&(sa.italic=!0);
W.getColor()&&(sa.color=W.getColor());K.push(sa)}R={};R.contents=K;R.lineHeight=parseInt(100*D.getLineHeight()+.5);0!=D.getIndent()&&(R.indent=parseInt(100*D.getIndent()+.5));0!=D.getMarginBefore()&&(R.marginBefore=D.getMarginBefore());0!=D.getMarginAfter()&&(R.marginAfter=D.getMarginAfter());"left"!=D.getAlign()&&(R.align=D.getAlign());w.push(R)}z={};z.paragraphs=w;p.model=z;f.textToJsonObject(p)};this.protectedFromJsonObject=function(p){l=new yc;for(var w=p.model.paragraphs,z=0;z<w.length;z++){var D=
w[z],K=D.align,R=D.indent,W=D.lineHeight,sa=D.marginBefore,Ba=D.marginAfter,Ua=yc.createParagraph();Ua.setAlign(K?K:"left");Ua.setIndent(R?.01*R:0);Ua.setLineHeight(W?.01*W:1);Ua.setMarginBefore(sa?sa:0);Ua.setMarginAfter(Ba?Ba:0);D=D.contents;for(K=0;K<D.length;K++)R=D[K],W=yc.createContent(),W.setText(R.text),W.setFontName(R.fontName),W.setFontSize(R.fontSize),W.setBold(R.bold?!0:!1),W.setItalic(R.italic?!0:!1),W.setColor(R.color),Ua.addContent(W);l.addParagraph(Ua)}f.textFromJsonObject(p)}}function G(){pb.call(this);
$b.call(this);var k=this,f=this.protectedMethod,l=G.SCALE_ADAPTIVE,p=G.HALIGN_CENTER|G.VALIGN_MIDDLE;this.getSuperType=function(){return g.WidgetSuperType_Referable};this.getWidgetTypeName=function(){return g.WidgetType_Picture};this.copyReference=function(w){Bc.getWidgetSourceSelector().copyPicture(k.getReferenceCustomMap(),function(z){k.setReferenceCustomMap(z);w()})};this.setScale=function(w){l=w;f.firePropertyChangedEvent(k,G.KEY_SCALE)};this.getScale=function(){return l};this.isAlignNeccessary=
function(){return l==G.SCALE_NON||l==G.SCALE_ADAPTIVE};this.setAlign=function(w){p=w;f.firePropertyChangedEvent(k,G.KEY_ALIGN)};this.getAlign=function(){return p};this.isAlignTo=function(w){return(p&w)==w};this.isWidthLocked=function(){return l==G.SCALE_NON};this.isHeightLocked=function(){return l==G.SCALE_NON};this.protectedToJsonObject=function(w){f.referableToJsonObject(w);w.scale=l;w.horizontalAlign=k.isAlignTo(G.HALIGN_LEFT)?"left":k.isAlignTo(G.HALIGN_RIGHT)?"right":k.isAlignTo(G.HALIGN_CENTER)?
"center":null;w.verticalAlign=k.isAlignTo(G.VALIGN_TOP)?"top":k.isAlignTo(G.VALIGN_BOTTOM)?"bottom":k.isAlignTo(G.VALIGN_MIDDLE)?"middle":null};this.protectedFromJsonObject=function(w){f.referableFromJsonObject(w);l=w.scale;var z=w.horizontalAlign;w=w.verticalAlign;p=("left"==z?G.HALIGN_LEFT:"right"==z?G.HALIGN_RIGHT:"center"==z?G.HALIGN_CENTER:0)+("top"==w?G.VALIGN_TOP:"bottom"==w?G.VALIGN_BOTTOM:"middle"==w?G.VALIGN_MIDDLE:0)}}function xa(){pb.call(this);ya.call(this);var k=this,f=this.protectedMethod,
l;this.getWidgetTypeName=function(){return g.WidgetType_Iframe};this.setUrl=function(p){l=p;f.firePropertyChangedEvent(k,xa.KEY_URL)};this.getUrl=function(){return l};this.getUsableUrl=function(){var p=l,w=k.getExecutingInputParams();w&&(w=w.createExternalParamsApi().toUrlParams())&&(p+=(0>p.indexOf("?")?"?":"&")+w);return p};this.getAffectedParamType=function(){return g.AffectedType_Param};this.protectedToJsonObject=function(p){p.url=l};this.protectedFromJsonObject=function(p){l=p.url}}function va(){pb.call(this);
mb.call(this);var k=this,f=this.protectedMethod,l;this.getSuperType=function(){return g.WidgetSuperType_WithCommonStyle};this.getWidgetTypeName=function(){return g.WidgetType_Clock};this.setFormatString=function(p){l="yyyy.MM.dd HH:mm:ss"==p?null:p;f.firePropertyChangedEvent(k,va.KEY_FORMAT)};this.getFormatString=function(){return l?l:"yyyy.MM.dd HH:mm:ss"};this.isHeightLocked=function(){return!0};this.protectedToJsonObject=function(p){f.styleToJsonObject(p);p.formatString=l};this.protectedFromJsonObject=
function(p){f.styleFromJsonObject(p);l=p.formatString}}function ja(){pb.call(this);Ya.call(this);gc.call(this);ya.call(this);var k=this,f=this.protectedMethod,l=ja.LAYOUT_MODE_HORIZONTAL,p=4,w=2,z=ja.SIZE_MODE_LARGE;this.getSuperType=function(){return g.WidgetSuperType_DiscreteItemFilter|g.WidgetSuperType_FilterSimilary|g.WidgetSuperType_AffectedTarget};this.getWidgetTypeName=function(){return g.WidgetType_ButtonGroup};this.isHeightLockedAlways=function(D){return l==ja.LAYOUT_MODE_HORIZONTAL};this.getSourceDataType=
function(){return hc.DT_STRING};this.getAffectedParamType=function(){return g.AffectedType_BindField};this.isIncludeItemAllSupported=function(){return!0};this.isMultiSelectable=function(){return!1};this.setLayoutMode=function(D){l=D;f.firePropertyChangedEvent(k,ja.KEY_LAYOUT_MODE)};this.getLayoutMode=function(){return l};this.setCharsPerItemWhenWrap=function(D){p=D;f.firePropertyChangedEvent(k,ja.KEY_CHARS_PER_ITEM)};this.getCharsPerItemWhenWrap=function(){return p};this.setItemsPerRowWhenWrap=function(D){w=
D;f.firePropertyChangedEvent(k,ja.KEY_ITEMS_PER_ROW)};this.getItemsPerRowWhenWrap=function(){return w};this.setSizeMode=function(D){z=D;f.firePropertyChangedEvent(k,ja.KEY_SIZE_MODE)};this.getSizeMode=function(){return z};this.protectedToJsonObject=function(D){D.layoutMode=l;D.minCharsPerItem=p;D.maxItemsPerRow=w;D.sizeMode=z;f.discreteItemFilterToJsonObject(D);f.filterSimilaryToJsonObject(D)};this.protectedFromJsonObject=function(D){var K=D.layoutMode;l=K?K:ja.LAYOUT_MODE_HORIZONTAL;p=(K=D.minCharsPerItem)?
K:4;w=(K=D.maxItemsPerRow)?K:2;z=(K=D.sizeMode)?K:ja.SIZE_MODE_SMALL;f.discreteItemFromJsonObject(D);f.filterSimilaryFromJsonObject(D)}}function ta(){pb.call(this);gc.call(this);pa.call(this);var k=this,f=this.protectedMethod,l=!1,p,w,z;this.getSuperType=function(){return g.WidgetSuperType_Calendar|g.WidgetSuperType_FilterSimilary|g.WidgetSuperType_WithLabel};this.getSourceDataType=function(){return hc.DT_DATE};this.setInitialValue=function(D,K,R,W){p=D;w=K;z=R;l=W;f.firePropertyChangedEvent(k,ta.KEY_DATE_INITIAL)};
this.isContainNull=function(){return l};this.getFromDate=function(){return p};this.getToDate=function(){return w};this.updateDate=function(D,K){p=D;w=K};this.getRelativeModel=function(){return z};this.protectedToJsonObject=function(D){D.containNull=l;D.dateFrom=p;D.dateTo=w;z&&(D.relative=z.toJsonObject());f.filterSimilaryToJsonObject(D);f.inputCtrlWithLabelToJsonObject(D)};this.protectedFromJsonObject=function(D){l=D.containNull?!0:!1;p=D.dateFrom;w=D.dateTo;var K=D.relative;K?(z=k.protectedCreateRelativeModel(),
z.fromJsonObject(K)):z=null;f.filterSimilaryFromJsonObject(D);f.inputCtrlWithLabelFromJsonObject(D)};this.protectedCreateRelativeModel=function(){throw Error("Implement");}}function A(){Da.call(this);Vb.call(this);Qa.call(this);var k=this,f=this.protectedMethod,l=A.FULLSCREEN_ALLOWED_NONE;this.getSuperType=function(){return g.WidgetSuperType_CardSimilary|g.WidgetSuperType_FullscreenSupported};this.getWidgetTypeName=function(){return g.WidgetType_Panel};this.isCanContain=function(p,w){return p instanceof
A?(w&&w.push(Pb.get("widgetPanelCanContainPrompt","\u4e0d\u5141\u8bb8\u5728\u7ec4\u5408\u5361\u7247\u91cc\u653e\u7f6e\u7ec4\u5408\u5361\u7247\u3002")),!1):!0};this.getPaddingTop=function(){var p=k.isBareSurface(),w=!p&&k.getUsableCardTopBarIcon()?!0:!1,z=!p&&k.getCardTitle()?!0:!1,D=k.getCardDescription()?!0:!1,K=!(l==A.FULLSCREEN_ALLOWED_NONE||k.isAncestorForbidFullscreen()),R=!p&&k.getUsableCardBorder().getType()==H.TYPE_SIMPLE;return!p&&(w||z||K)?w||!R?40:30:D?20:10};this.protectedConfirmClientWidth=
function(p){return Math.max(0,p-k.getPaddingLeft()-k.getPaddingRight())};this.protectedConfirmClientHeight=function(p){return Math.max(0,p-k.getPaddingTop()-k.getPaddingBottom())};this.setClientSize=function(p,w){k.setSize(p+k.getPaddingLeft()+k.getPaddingRight(),w+k.getPaddingTop()+k.getPaddingBottom())};this.setFullscreenAllowed=function(p){l=p;f.firePropertyChangedEvent(k,A.KEY_FULLSCREEN_ALLOWED)};this.getFullscreenAllowed=function(){return l};this.protectedToJsonObject=function(p){l&&(p.fullscreenAllowed=
l);f.containerToJsonObject(p);f.cardSimilaryToJsonObject(p)};this.protectedFromJsonObject=function(p){var w=p.fullscreenAllowed;l=w?w:A.FULLSCREEN_ALLOWED_NONE;f.containerFromJsonObject(p);f.cardSimilaryFromJsonObject(p)}}function y(){jb.call(this);Nb.call(this);ya.call(this);Pa.call(this);var k=this,f=this.protectedMethod,l=y.HEAD_TOP_LEFT,p=y.HEAD_PATTERN_BAR,w=!1;this.getSuperType=function(){return g.WidgetSuperType_CompositeContainer|g.WidgetSuperType_CardSurfaceAbout|g.WidgetSuperType_AffectedTarget};
this.getWidgetTypeName=function(){return g.WidgetType_TabbedContainer};this.isCanContain=function(z,D){if(z instanceof L)return!0;D&&D.push(Pb.get("widgetTabbedContainerCanContainPrompt","\u9875\u7b7e\u63a7\u4ef6\u4e0b\u4e00\u7ea7\u53ea\u80fd\u662f\u5b50\u9875\u7b7e\u3002"));return!1};this.protectedDoDescendantPropertyChanged=function(z,D){if(D==g.KEY_VISIBLE&&z.isVisible()){if(f.isMySon(z)){for(D=0;D<k.getWidgetCount();D++){var K=k.getWidget(D);K!=z&&K.setVisible(!1)}f.firePropertyChangedEvent(k,
y.KEY_TABBED_SELECTED)}}else D==L.KEY_HEAD_TEXT&&f.isMySon(z)&&f.firePropertyChangedEvent(k,D)};this.protectedAfterAddWidget=function(z){z.setVisible(!1);z.setVisible(!0)};this.protectedAfterRemoveWidget=function(z){if(0<k.getWidgetCount()){z=k.getWidget(0);for(var D=0;D<k.getWidgetCount();D++){var K=k.getWidget(D);if(K.isVisible()){z=K;break}}z.setVisible(!1);z.setVisible(!0)}else f.firePropertyChangedEvent(k,y.KEY_TABBED_SELECTED)};this.protectedSyncSubRect=function(z){var D=k.getWidth(),K=k.getHeight(),
R=k.getHeadHeight();l==y.HEAD_TOP_LEFT||l==y.HEAD_TOP_RIGHT?z.setRectangle(0,R,D,Math.max(0,K-R)):l==y.HEAD_BOTTOM_LEFT||l==y.HEAD_BOTTOM_RIGHT?z.setRectangle(0,0,D,Math.max(0,K-R)):z.setRectangle(0,0,D,K)};this.getAffectedParamType=function(){return g.AffectedType_Tab};this.switchToSubTabbed=function(z){z=k.getWidget(z);z.setVisible(!0);f.firePropertyChangedEvent(z,y.KEY_SWITCH_SUB)};this.setHeadPosition=function(z){l=z;f.syncSubsRect();f.firePropertyChangedEvent(k,y.KEY_HEAD_POSITION)};this.getHeadPosition=
function(){return l};this.setHeadPattern=function(z){p=z;f.syncSubsRect();f.firePropertyChangedEvent(k,y.KEY_HEAD_PATTERN)};this.getHeadPattern=function(){return p};this.getHeadHeight=function(){switch(p){case y.HEAD_PATTERN_BAR:return 50;case y.HEAD_PATTERN_BARE:return 24;default:return 0}};this.setSlideshowEnabled=function(z){w=z;f.firePropertyChangedEvent(k,y.KEY_SLIDESHOW)};this.isSlideshowEnabled=function(){return w};this.isTopLevelSlideshow=function(){if(w){for(var z=k;z.getParent();)if(z=z.getParent(),
z instanceof y&&z.isSlideshowEnabled())return!1;return!0}return!1};this.isAllDescendentSlideshowRuntimePrepared=function(){var z=!0;k.traversalDescendents(function(D){var K=!1;D instanceof L&&D.getParent().isSlideshowEnabled()&&(z=z&&D.getDurationMode().isReadyToPlay(),!z&&(K=!0));return K});return z};this.searchVisibleSubTabbedIndex=function(){for(var z=0;z<k.getWidgetCount();z++)if(k.getWidget(z).isVisible())return z;return-1};this.protectedToJsonObject=function(z){z.position=l;z.pattern=p;z.slideshow=
w;f.fontSizeEnhancedToJsonObject(z);f.containerToJsonObject(z)};this.protectedFromJsonObject=function(z){l=z.position;p=z.pattern;w=z.slideshow;f.fontSizeEnhancedFromJsonObject(z);f.containerFromJsonObject(z);for(z=0;z<k.getWidgetCount();z++)k.getWidget(z).setVisible(0==z)}}function L(){Da.call(this);Ib.call(this);gc.call(this);var k=this,f=this.protectedMethod,l,p=new Eb;this.getSuperType=function(){return g.WidgetSuperType_FilterSimilary|g.WidgetSuperType_ContainerWithBackground};this.getWidgetTypeName=
function(){return g.WidgetType_OneTabbed};this.isMovable=function(){return!1};this.isCanBeContained=function(z,D){if(z instanceof y)return!0;D&&D.push(Pb.get("widgetOneTabbedCanBeContainedPrompt","\u9875\u7b7e\u53ea\u80fd\u51fa\u73b0\u5728\u9875\u7b7e\u63a7\u4ef6\u4e2d\u3002"));return!1};this.getSourceDataType=function(){return hc.DT_STRING};this.setAffectedTargets=function(z){throw Error("Unsupported");};this.getAffectedTargets=function(){var z=null;p.getType()==wb.TYPE_ByData&&(z=(z=p.getAffectedTargets())&&
z.getItemCount()?z:null);return z};this.setHeadText=function(z){l=z;f.firePropertyChangedEvent(k,L.KEY_HEAD_TEXT)};this.getHeadText=function(){return l};this.setDurationMode=function(z){p.removeDirtyListener(w);p=z;p.addDirtyListener(w);f.firePropertyChangedEvent(k,L.KEY_DURATION_MODE)};this.getDurationMode=function(){return p};var w=function(){f.firePropertyChangedEvent(k,L.KEY_DURATION_MODE)};this.protectedToJsonObject=function(z){f.containerToJsonObject(z);f.backgroundToJsonObject(z);z.headText=
l;var D={};p.toJsonObject(D);z.durationMode=D};this.protectedFromJsonObject=function(z){f.containerFromJsonObject(z);f.backgroundFromJsonObject(z);l=z.headText;if(z=z.durationMode){var D=wb.createInstance(z.type);D.fromJsonObject(z);p.removeDirtyListener(w);p=D;p.addDirtyListener(w)}}}function na(){var k=this,f,l,p=!1,w=!1,z,D,K;this.getFontName=function(){return f};this.setFontName=function(R){f=R};this.getFontSize=function(){return l};this.setFontSize=function(R){l=R};this.isBold=function(){return p};
this.setBold=function(R){p=R};this.isItalic=function(){return w};this.setItalic=function(R){w=R};this.getColor=function(){return z};this.setColor=function(R){z=R};this.getBackground=function(){return D};this.setBackground=function(R){D=R};this.getAlign=function(){return K};this.setAlign=function(R){K=R};this.isEquals=function(R){return R&&f==R.getFontName()&&l==R.getFontSize()&&p==R.isBold()&&w==R.isItalic()&&z==R.getColor()&&D==R.getBackground()&&K==R.getAlign()};this.copy=function(){var R=new na;
R.setFontName(k.getFontName());R.setFontSize(k.getFontSize());R.setBold(k.isBold());R.setItalic(k.isItalic());R.setColor(k.getColor());R.setBackground(k.getBackground());R.setAlign(k.getAlign());return R};this.toJsonObject=function(){var R={};R.fontName=f;R.fontSize=l;p&&(R.bold=!0);w&&(R.italic=!0);R.color=z;R.background=D;R.align=K;return R};this.fromJsonObject=function(R){f=R.fontName;l=R.fontSize;p=R.bold?!0:!1;w=R.italic?!0:!1;z=R.color;D=R.background;K=R.align}}function H(){var k=this,f;this.getType=
function(){throw Error("Override");};this.hookPropertyChangedListener=function(l){f=l};this.toJsonObject=function(){var l={};l.type=k.getType();k.protectedToJsonObject(l);return l};this.protectedToJsonObject=function(l){};this.fromJsonObject=function(l){k.protectedFromJsonObject(l)};this.protectedFromJsonObject=function(l){};this.protectedMethod={firePropertyChangedEvent:function(){f&&f()}}}function S(){H.call(this);this.getType=function(){return H.TYPE_SIMPLE}}function V(){H.call(this);var k=this.protectedMethod,
f=Jc.create();this.getType=function(){return H.TYPE_MODEL};this.getCardLook=function(){return f};this.setCardLook=function(l){f=l;k.firePropertyChangedEvent()};this.protectedToJsonObject=function(l){l.cardLook=f.toJsonObject()};this.protectedFromJsonObject=function(l){f.fromJsonObject(l.cardLook)}}function ua(){H.call(this);var k=this.protectedMethod,f,l=[0,0,0,0],p,w;this.getType=function(){return H.TYPE_IMAGE};this.getImage=function(){return f};this.getFixedEdges=function(){return l};this.setDefinition=
function(D,K){w=p=null;f=D;l=K;k.firePropertyChangedEvent()};this.loadImage=function(D){w?w.push(D):p?D(p):f?(!w&&(w=[]),w.push(D),D=f.getReferenceCustomMap(),Bc.getPictureLoader()(D,function(K,R,W){var sa=new Image;sa.onload=function(Ba){p=sa;z(p)};sa.src=K},function(K){window.console&&window.console.error("Load image error: "+K);z(null)})):D(null)};var z=function(D){for(var K=0;K<w.length;K++)(0,w[K])(D);w=null};this.protectedToJsonObject=function(D){f&&(D.image=f.toJsonObject(),D.left=l[0],D.right=
l[1],D.top=l[2],D.bottom=l[3])};this.protectedFromJsonObject=function(D){f=w=p=null;l=[0,0,0,0];var K=D.image;K&&(f=G.createPeer(),f.fromJsonObject(K),l[0]=D.left,l[1]=D.right,l[2]=D.top,l[3]=D.bottom)}}function M(){var k=this;this.getType=function(){throw Error("Override");};this.toShortDisplay=function(f){throw Error("Override");};this.isValid=function(){throw Error("Override");};this.isConfirmedToGetPreparedValue=function(f){return!0};this.isPreparedValueRelatedToWidget=function(f){return!1};this.getPreparedValue=
function(f,l,p,w){throw Error("Override");};this.getPreparedValuePeer=function(f,l,p){throw Error("Override");};this.toJsonObject=function(f){f.type=k.getType();k.protectedToJsonObject(f)};this.fromJsonObject=function(f){k.protectedFromJsonObject(f)};this.protectedToJsonObject=function(f){throw Error("Override");};this.protectedFromJsonObject=function(f){throw Error("Override");}}function ia(){M.call(this);var k=this,f,l,p,w,z=!0;this.getType=function(){return M.TYPE_VisualWidget};this.setSourceWidgetName=
function(K){f=K};this.getSourceWidgetName=function(){return f};this.setMetaFieldFullName=function(K){l=K};this.getMetaFieldFullName=function(){return l};this.setDisplayMetaFieldFullName=function(K){p=K};this.getDisplayMetaFieldFullName=function(){return p};this.setOrderByMetaFieldFullName=function(K){w=K};this.getOrderByMetaFieldFullName=function(){return w};this.setOrderByAsc=function(K){z=K};this.isOrderByAsc=function(){return z};this.toShortDisplay=function(K){return k.isValid()?(K=K.searchWidgetByName(f))?
Pb.get("displayFilterSourceFromRef","\u6765\u81ea\u201c#1\u201d").replace("#1",K.getDisplayName()):Pb.get("displayFilterSourceNotExist","\u4e0d\u5b58\u5728\u201c#1\u201d").replace("#1",f):Pb.get("displayFilterSourceIncomplete","\u8bbe\u7f6e\u4e0d\u5b8c\u6574")};this.isValid=function(){return f&&l};this.isConfirmedToGetPreparedValue=function(K){return(K=K.getTopPage().searchWidgetByName(f))?K.getExecutingTag()?!0:!1:!1};this.isPreparedValueRelatedToWidget=function(K){return f==K};this.getPreparedValue=
function(K,R,W,sa){var Ba=K.isLightWeight();K=K.getTopPage().searchWidgetByName(f);D(K,R,Ba,W,sa)};this.getPreparedValuePeer=function(K,R,W){K=K.getTopPage().searchWidgetByName(f);D(K,null,!1,R,W)};var D=function(K,R,W,sa,Ba){K?(K=K.getExecutingTag(),sa=sa(function(Ua){var Ha=[];Ua=Ua.values;for(var Na=0;Na<Ua.length;Na++){var U=Ua[Na],hb=new Ga;hb.setValue(U.value);hb.setText(U.text);Ha.push(hb)}Ba(Ha)},function(Ua,Ha){console&&console.log("errorCode:"+Ua+", "+Ha);902002==Ua?(Ua=new Ga,Ua.setValue(null),
Ua.setText(Pb.get("tooManyItems","\u8d85\u8fc71000\u9879\uff0c\u5efa\u8bae\u4f7f\u7528\u5f39\u7a97\u9009\u62e9\u5668\u4ee3\u66ff\u3002")),Ba([Ua])):Ba(null);return!0}),sa.setShowBlocking(!1),sa.getFilterPreparedValue(K,"Discrete",l,p,w,z,R,W)):Ba(null)};this.protectedToJsonObject=function(K){K.sourceWidgetName=f;K.metaFieldFullName=l;K.displayMetaFieldFullName=p;K.orderByMetaFieldFullName=w;K.asc=z};this.protectedFromJsonObject=function(K){f=K.sourceWidgetName;l=K.metaFieldFullName;p=K.displayMetaFieldFullName;
w=K.orderByMetaFieldFullName;z=K.asc}}function la(){M.call(this);var k=this,f=[];this.getType=function(){return M.TYPE_CustomList};this.addItem=function(p,w){f.push(l(p,w))};var l=function(p,w){var z=new Ga;z.setValue(p);z.setText(w);return z};this.insertItem=function(p,w,z){f.splice(p,0,l(w,z))};this.deleteItem=function(p){f.splice(p,1)};this.getItemsCount=function(){return f.length};this.getItemValue=function(p){return(p=f[p])?p.getValue():null};this.getItemText=function(p){return(p=f[p])?p.getText():
null};this.toShortDisplay=function(p){return k.isValid()?Pb.get("displayFilterSourceFromCustom","\u5171#1\u9879").replace("#1",f.length):Pb.get("displayFilterSourceIncomplete","\u8bbe\u7f6e\u4e0d\u5b8c\u6574")};this.isValid=function(){return 0<f.length};this.getPreparedValue=function(p,w,z,D){p=f.slice(0);D(p)};this.getPreparedValuePeer=function(p,w,z){p=f.slice(0);z(p)};this.protectedToJsonObject=function(p){for(var w=[],z=0;z<f.length;z++){var D=f[z],K={};K.value=D.getValue();K.text=D.getText();
w.push(K)}p.items=w};this.protectedFromJsonObject=function(p){p=p.items;for(var w=0;w<p.length;w++){var z=p[w],D=new Ga;D.setValue(z.value);D.setText(z.text);f.push(D)}}}function Ga(){var k,f;this.setValue=function(l){k=l};this.getValue=function(){return k};this.setText=function(l){f=l};this.getText=function(){return f};this.getDisplayText=function(){var l=f;void 0!==l&&null!==l||(l=k);return l}}function gb(){var k=this;this.getType=function(){throw Error("Override");};this.toShortDisplay=function(){throw Error("Override");
};this.isSingleSelectableFitting=function(){return!1};this.getItems=function(f,l,p){throw Error("Override");};this.toJsonObject=function(f){f.type=k.getType();k.protectedToJsonObject(f)};this.fromJsonObject=function(f){k.protectedFromJsonObject(f)};this.protectedToJsonObject=function(f){throw Error("Override");};this.protectedFromJsonObject=function(f){throw Error("Override");}}function wa(){gb.call(this);var k=0;this.getType=function(){return gb.TYPE_ByIndex};this.toShortDisplay=function(){return Pb.get("displayDefaultSelectedByIndex",
"\u7b2c\u4e00\u9879")};this.isSingleSelectableFitting=function(){return!0};this.getItems=function(f,l,p){l=0<=k&&k<f.length?k:0;var w=[];0<f.length&&w.push(f[l]);p(w)};this.protectedToJsonObject=function(f){f.index=k};this.protectedFromJsonObject=function(f){k=f.index}}function Ob(){gb.call(this);var k=null;this.getType=function(){return gb.TYPE_ByAppointed};this.toShortDisplay=function(){if(k){if(1==k.length){var f=k[0];return f?f:Pb.get("displayDefaultSelectedByAppointedNull","\uff08\u7a7a\uff09")}return Pb.get("displayDefaultSelectedByAppointedSome",
"\u5df2\u6307\u5b9a#1\u9879").replace("#1",k.length)}return Pb.get("displayDefaultSelectedByAppointedAll","\u5168\u90e8")};this.isSingleSelectableFitting=function(){return k&&1==k.length};this.getItems=function(f,l,p){var w=null;if(k){for(var z={},D=0;D<k.length;D++){var K=k[D];!K&&(K="");z[K]=!0}w=[];for(D=0;D<f.length;D++){var R=f[D];K=R.getValue();!K&&(K="");if(z[K]&&(w.push(R),!l))break}}p(w)};this.setAppointedValue=function(f){k=f};this.protectedToJsonObject=function(f){f.appointeds=k};this.protectedFromJsonObject=
function(f){k=(f=f.appointeds)?f:null}}function Rb(){var k=[];this.addItem=function(f){k.push(f)};this.getItemCount=function(){return k.length};this.getItem=function(f){return k[f]};this.getTarget=function(f){for(var l=0;l<k.length;l++){var p=k[l];if(p.isAffectingInsideDashboard()&&f==p.getTargetWidgetName())return p}return null};this.reverse=function(f,l){for(var p=0;p<k.length;p++){var w=k[p];if(w.isAffectingInsideDashboard()&&w.isSettingComplete()){var z=w.getTargetWidgetName(),D=l[z];D||(D=new nc,
l[z]=D);D.put(f,w)}}};this.checkDuplicated=function(){for(var f={},l=0;l<k.length;l++){var p=k[l];if(p.isAffectingInsideDashboard()){p=p.getTargetWidgetName();if(f[p])return p;f[p]=!0}}return null};this.toJsonObject=function(f){for(var l=[],p=0;p<k.length;p++){var w={},z=k[p];z.toJsonObject(w);switch(z.getType()){case g.AffectedType_BindField:w.type="binding";break;case g.AffectedType_Param:w.type="param";break;case g.AffectedType_Tab:w.type="tab";break;case g.AffectedType_Hotlink:w.type="hotlink";
break;default:throw Error("Modify here");}l.push(w)}f.items=l};this.fromJsonObject=function(f){k=[];if(f=f.items)for(var l=0;l<f.length;l++){var p=f[l];switch(p.type){case "binding":var w=new jc;break;case "param":w=new xc;break;case "tab":w=new lc;break;case "hotlink":w=new Dc;break;default:throw Error("Modify here");}w.fromJsonObject(p);k.push(w)}}}function ec(){this.getType=function(){throw Error("Implement");};this.isAffectingInsideDashboard=function(){return!1};this.isSettingComplete=function(){throw Error("Implement");
};this.toJsonObject=function(k){throw Error("Implement");};this.fromJsonObject=function(k){throw Error("Implement");}}function fc(){ec.call(this);var k=this,f;this.setTargetWidgetName=function(l){f=l};this.getTargetWidgetName=function(){return f};this.isAffectingInsideDashboard=function(){return!0};this.getUsableParamName=function(){throw Error("Implement");};this.isSettingComplete=function(){return f&&k.protectedIsComplete()};this.protectedIsComplete=function(){throw Error("Implement");};this.toJsonObject=
function(l){l.widget=f;k.protectedToJsonObject(l)};this.protectedToJsonObject=function(l){throw Error("Implement");};this.fromJsonObject=function(l){f=l.widget;k.protectedFromJsonObject(l)};this.protectedFromJsonObject=function(l){throw Error("Implement");}}function jc(){fc.call(this);var k;this.setMetaFieldFullName=function(f){k=f};this.getMetaFieldFullName=function(){return k};this.getType=function(){return g.AffectedType_BindField};this.protectedIsComplete=function(){return k?!0:!1};this.getUsableParamName=
function(){return k};this.protectedToJsonObject=function(f){f.metaField=k};this.protectedFromJsonObject=function(f){k=f.metaField}}function xc(){fc.call(this);var k;this.setParamName=function(f){k=f};this.getParamName=function(){return k};this.getType=function(){return g.AffectedType_Param};this.protectedIsComplete=function(){return k?!0:!1};this.getUsableParamName=function(){return k};this.protectedToJsonObject=function(f){f.param=k};this.protectedFromJsonObject=function(f){k=f.param}}function lc(){fc.call(this);
var k=0;this.setTabIndex=function(f){k=f};this.getTabIndex=function(){return k};this.getType=function(){return g.AffectedType_Tab};this.protectedIsComplete=function(){return!0};this.getUsableParamName=function(){return"tab"};this.protectedToJsonObject=function(f){f.tabIndex=k};this.protectedFromJsonObject=function(f){k=f.tabIndex}}function Dc(){ec.call(this);var k,f,l;this.setMode=function(p){k=p};this.getMode=function(){return k};this.setUrl=function(p){f=p};this.getUrl=function(){return f};this.setUsableUrl=
function(p){l=p};this.getUsableUrl=function(){return l};this.getType=function(){return g.AffectedType_Hotlink};this.isSettingComplete=function(){return f?!0:!1};this.toJsonObject=function(p){p.mode=k;p.url=f};this.fromJsonObject=function(p){k=p.mode;f=p.url}}function nc(){var k={};this.put=function(f,l){k[f]=l};this.getAllParamName=function(){var f=[],l;for(l in k)f.push(k[l].getUsableParamName());return f};this.getAllParamAttr=function(){var f=[],l;for(l in k)f.push(k[l].getType()==g.AffectedType_BindField);
return f}}function pc(){var k=[],f=[],l={},p=!1;this.repickParams=function(K){var R=K?K.getAllParamName():[];p=!1;for(var W=0;W<k.length;W++){for(var sa=k[W],Ba=!1,Ua=0;Ua<R.length;Ua++)if(sa==R[Ua]){Ba=!0;break}if(!Ba){p=!0;break}}k=R;f=K?K.getAllParamAttr():[];K={};for(R=0;R<k.length;R++)W=k[R],sa=l[W],void 0!==sa&&(K[W]=sa);l=K};this.checkAffectedChainBroken=function(){var K=p;p=!1;return K};this.putParamValue=function(K,R,W){if(!W||W instanceof Array&&0==W.length)return R=void 0!==l[K],delete l[K],
R;var sa=l[K];sa=sa?JSON.stringify(D(sa.dataType,sa.value)):null;var Ba=JSON.stringify(D(R,W)),Ua={};Ua.dataType=R;Ua.value=W;l[K]=Ua;return sa!=Ba};this.isAllParamsAttend=function(){for(var K=0;K<k.length;K++)if(void 0===l[k[K]])return!1;return!0};var w=function(K,R){for(var W={},sa=0;sa<k.length;sa++){var Ba=k[sa];if(!W[Ba]){W[Ba]=!0;var Ua=l[Ba];if(Ua){var Ha=Ua.value;Ua=Ua.dataType;if(!R)if(Ha instanceof Ga&&Ha.getValue()==M.ITEM_ALL)continue;else if(Ha instanceof Array&&1==Ha.length&&Ha[0].getValue()==
M.ITEM_ALL)continue;K(Ba,Ha,f[sa],Ua)}}}},z=function(K){if(K instanceof Ga)var R=[K.getValue()];else if(K instanceof Array){R=[];for(var W=0;W<K.length;W++)R.push(K[W].getValue())}else throw Error("Unsupport");return R},D=function(K,R){if(K==hc.DT_STRING)K=z(R);else if(K==hc.DT_DATE)K=[JSON.stringify(R.getJsonDateRange())];else throw Error("Unsupport");return K};this.createParamValueSearcherApi=function(){var K={};w(function(W,sa,Ba,Ua){if(sa instanceof Ga)var Ha=sa.getText();else if(sa instanceof
Array){Ba=[];for(Ua=0;Ua<sa.length;Ua++)Ba.push(sa[Ua].getText());Ha=Ba.join(" ")}K[W]=Ha},!0);var R=!1;w(function(W,sa,Ba,Ua){R=!0});return{searchDisplayText:function(W){return K[W]},isAnyOneExceptedItemAll:function(){return R}}};this.createAdditionalFilterApi=function(){var K=function(){var sa=null,Ba=null;w(function(Ua,Ha,Na,U){sa||(Ba=[],sa={},sa.items=Ba);if(Na||U==hc.DT_STRING)Ha=D(U,Ha),Na=R(Na,U,Ua,Ha),Ba.push(Na);else if(U==hc.DT_DATE)if(Rb.isDoubleParamName(Ua)){Ua=Rb.decodeDoubleParamName(Ua);
var hb=Ua[0];Ua=Ua[1];if(hb){var yb=[Ha.getParamScopeStart()];hb=R(Na,U,hb,yb);Ba.push(hb)}Ua&&(Ha=[Ha.getParamScopeEnd()],Na=R(Na,U,Ua,Ha),Ba.push(Na))}else Ha=[Ha.getParamSingleValue()],Na=R(Na,U,Ua,Ha),Ba.push(Na)});return sa},R=function(sa,Ba,Ua,Ha){var Na={};Na.key=Ua;Na.isMetaFieldBound=sa;Na.selectedValue=Ha;Na.valueDataType=Ba;return Na},W={};W.toExecutableJsonObject=K;W.toMetaFieldNames=function(){var sa=[];w(function(Ba,Ua,Ha,Na){Ha&&sa.push(Ba)});return sa};W.toDisplayJsonObject=function(){var sa=
K();return sa?sa.items:null};return W};this.createExternalParamsApi=function(){return{toJsonObject:function(){var K={};w(function(R,W,sa,Ba){if(!sa)if(Ba==hc.DT_STRING)K[R]=z(W);else if(Ba==hc.DT_DATE)Rb.isDoubleParamName(R)?(sa=Rb.decodeDoubleParamName(R),R=sa[0],sa=sa[1],R&&(K[R]=[W.getParamScopeStart()]),sa&&(K[sa]=[W.getParamScopeEnd()])):K[R]=[W.getParamSingleValue()];else throw Error("Unsupport");});return K},toUrlParams:function(){var K="",R=function(W,sa){0<K.length&&(K+="&");K+=W+"="+encodeURIComponent(sa)};
w(function(W,sa,Ba,Ua){if(!Ba)if(Ua==hc.DT_STRING)if(sa instanceof Ga)R(W,sa.getValue());else if(sa instanceof Array&&0<sa.length)R(W,sa[0].getValue());else throw Error("Unsupport");else if(Ua==hc.DT_DATE)Rb.isDoubleParamName(W)?(Ba=Rb.decodeDoubleParamName(W),W=Ba[0],Ba=Ba[1],W&&R(W,sa.getParamScopeStart()),Ba&&R(Ba,sa.getParamScopeEnd())):R(W,sa.getParamSingleValue());else throw Error("Unsupport");});return K}}}}function ib(){var k=[];this.setFragments=function(f){k=f};this.getFragmentCount=function(){return k.length};
this.getFragment=function(f){return k[f]};this.toJsonObject=function(f){for(var l=[],p=0;p<k.length;p++){var w={};k[p].toJsonObject(w);l.push(w)}f.fragments=l};this.fromJsonObject=function(f){k=[];f=f.fragments;for(var l=0;l<f.length;l++){var p=f[l],w=new ib.Fragment;w.fromJsonObject(p);k.push(w)}}}function wb(){var k=this,f=new tb;this.getType=function(){throw Error("Implement");};this.isReadyToPlay=function(){return!0};this.playStart=function(l,p){throw Error("Implement");};this.playStop=function(){throw Error("Implement");
};this.getPlayingData=function(){return null};this.resetPlayingStatus=function(){};this.addDirtyListener=function(l){f.addListener(l)};this.removeDirtyListener=function(l){f.removeListener(l)};this.toJsonObject=function(l){l.type=k.getType();k.protectedToJsonObject(l)};this.protectedToJsonObject=function(l){throw Error("Implement");};this.fromJsonObject=function(l){k.protectedFromJsonObject(l)};this.protectedFromJsonObject=function(l){throw Error("Implement");};this.protectedMethod={fireDirtyEvent:function(){f.fireEvent(function(l){l()})}}}
function Eb(){wb.call(this);var k=this.protectedMethod,f=10,l;this.getType=function(){return wb.TYPE_ByFixedTime};this.playStart=function(p,w){p()||(l=setTimeout(function(){w(!0)},1E3*f));return!1};this.playStop=function(){l&&clearTimeout(l)};this.getDuration=function(){return f};this.setDuration=function(p){f=p;k.fireDirtyEvent()};this.protectedToJsonObject=function(p){p.duration=f};this.protectedFromJsonObject=function(p){f=p.duration}}function Yb(){wb.call(this);var k=this,f=this.protectedMethod,
l,p,w=10,z,D=-1,K,R={},W,sa,Ba;this.getType=function(){return wb.TYPE_ByData};this.setFilterSource=function(Na){l=Na;f.fireDirtyEvent()};this.getFilterSource=function(){return l};this.setAffectedTargets=function(Na){p=Na;f.fireDirtyEvent()};this.getAffectedTargets=function(){return p};this.setEachDuration=function(Na){w=Na;f.fireDirtyEvent()};this.getEachDuration=function(){return w};this.createWidgetPeer=function(){return new function(){this.getFilterSource=function(){return l};this.isIncludeItemAllSupported=
function(){return!1}}};this.setRuntimeData=function(Na){D=(z=Na)&&0<z.length?0:-1;R={};k.lookForAffectedTargetWidgets(function(U){R[U]=null})};this.lookForAffectedTargetWidgets=function(Na){if(p)for(var U=0;U<p.getItemCount();U++){var hb=p.getItem(U);!hb.isSettingComplete()||hb.getType()!=g.AffectedType_BindField&&hb.getType()!=g.AffectedType_Param||Na(hb.getTargetWidgetName())}};this.isReadyToPlay=function(){return void 0!==z};this.getPlayingData=function(){return z[D]};this.resetPlayingStatus=function(){-1!=
D&&(D=0)};this.playStart=function(Na,U){if(-1==D)return Na()||(Ba=setTimeout(function(){U(!0)},1E3*w)),!1;Ua();W=Na;sa=U;return!0};this.playStop=function(){Ba&&clearTimeout(Ba)};var Ua=function(){K=""+Math.random();for(var Na in R)R[Na]=null},Ha=function(){for(var Na in R)if(!R[Na])return!1;return!0};this.getPlayingRoundId=function(){return K};this.untilAllAffectedTargetsExecuted=function(Na,U,hb){if(K==Na&&(R[U]=hb,Ha()&&(Na=W&&W(),W=null,!Na))){for(var yb in R)(0,R[yb])();Ba=setTimeout(function(){var Tb=
D==z.length-1;D++;D>=z.length&&(D=0);sa&&sa(Tb);sa=null},1E3*w)}};this.protectedToJsonObject=function(Na){if(l){var U={};l.toJsonObject(U);Na.filterSource=U}p&&(U={},p.toJsonObject(U),Na.affectedTargets=U);Na.eachDuration=w};this.protectedFromJsonObject=function(Na){var U=Na.filterSource;U&&(l=M.createInstance(U.type),l.fromJsonObject(U));if(U=Na.affectedTargets)p=new Rb,p.fromJsonObject(U);w=Na.eachDuration}}function Qb(k){var f=k?k:{},l;this.getItems=function(p){return f[p]};this.pickItems=function(p,
w){!w&&(w={});var z=f[p];if(z)for(var D=0;D<z.length;D++){var K=z[D];w[K.getKey()]=K.getValue()}if(l&&(p=l[p]))for(var R in p)w[R]=p[R];return w};this.copyToEdit=function(){var p={},w;for(w in f){for(var z=f[w],D=[],K=0;K<z.length;K++){var R=z[K];R=new O(R.getKey(),R.getValue());D.push(R)}p[w]=D}return new Qb(p)};this.setPriorPreview=function(p){l=p};this.toJsonObject=function(){var p={};for(W in f){for(var w=f[W],z=[],D=0;D<w.length;D++){var K=w[D],R={};R.key=K.getKey();R.value=K.getValue();z.push(R)}p[W]=
z}var W={};W.groups=p;return W};this.fromJsonObject=function(p){p=p.groups;f={};for(var w in p){for(var z=p[w],D=[],K=0;K<z.length;K++){var R=z[K];R=new Zb(R.key,R.value);D.push(R)}f[w]=D}}}function Zb(k,f){this.getKey=function(){return k};this.getValue=function(){return f}}function O(k,f){Zb.call(this,k);var l=f;this.getValue=function(){return l};this.setValue=function(p){l=p}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&
(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dsb&&(com.kingdee.bos.qing.dsb={});"undefined"==typeof com.kingdee.bos.qing.dsb.model&&(com.kingdee.bos.qing.dsb.model={});var Ia=com.kingdee.bos.qing.dsb.model;Ia.DashboardModel=g;Ia.WidgetUnknown=function(){pb.call(this);var k;this.getUnknownType=function(){return k};this.getWidgetTypeName=function(){return g.WidgetType_Unknown};this.protectedToJsonObject=function(f){f=
"Can not save due to unknown type '#1' exist.".replace("#1",k);var l=new vc;l.setOptionType(vc.OPTION_OK);l.setMessage(f);l.showDialog();throw Error(f);};this.protectedFromJsonObject=function(f){k=f.widgetType}};Ia.WidgetPageTitleBar=Wa;Ia.AbstractCardSimilary=Vb;Ia.WidgetSquare=function(){pb.call(this);Vb.call(this);ya.call(this);gc.call(this);$b.call(this);ub.call(this);X.call(this);Fa.call(this);Qa.call(this);var k=this,f=this.protectedMethod;this.getSuperType=function(){return g.WidgetSuperType_BuiltinVisual|
g.WidgetSuperType_CardSimilary|g.WidgetSuperType_AffectedTarget|g.WidgetSuperType_FilterSimilary|g.WidgetSuperType_OutputParamProvider|g.WidgetSuperType_FullscreenSupported|g.WidgetSuperType_Referable};this.getWidgetTypeName=function(){return g.WidgetType_Square};this.getSourceDataType=function(){return hc.DT_STRING};this.copyReference=function(l){Bc.getWidgetSourceSelector().copySquare(k.getReferenceCustomMap(),function(p){k.setReferenceCustomMap(p);l()})};this.protectedToJsonObject=function(l){f.autoRefreshableToJsonObject(l);
f.referableToJsonObject(l);f.cardSimilaryToJsonObject(l);f.filterSimilaryToJsonObject(l)};this.protectedFromJsonObject=function(l){f.autoRefreshableFromJsonObject(l);f.referableFromJsonObject(l);f.cardSimilaryFromJsonObject(l);f.filterSimilaryFromJsonObject(l)}};Ia.WidgetLonger=function(){pb.call(this);Vb.call(this);ya.call(this);$b.call(this);ub.call(this);X.call(this);Fa.call(this);Qa.call(this);var k=this,f=this.protectedMethod;this.getSuperType=function(){return g.WidgetSuperType_BuiltinVisual|
g.WidgetSuperType_CardSimilary|g.WidgetSuperType_AffectedTarget|g.WidgetSuperType_OutputParamProvider|g.WidgetSuperType_FullscreenSupported|g.WidgetSuperType_Referable};this.getWidgetTypeName=function(){return g.WidgetType_Longer};this.copyReference=function(l){Bc.getWidgetSourceSelector().copyLonger(k.getReferenceCustomMap(),function(p){k.setReferenceCustomMap(p);l()})};this.protectedToJsonObject=function(l){f.autoRefreshableToJsonObject(l);f.referableToJsonObject(l);f.cardSimilaryToJsonObject(l)};
this.protectedFromJsonObject=function(l){f.autoRefreshableFromJsonObject(l);f.referableFromJsonObject(l);f.cardSimilaryFromJsonObject(l)}};Ia.WidgetQingReport=function(){pb.call(this);ya.call(this);$b.call(this);ub.call(this);Vb.call(this);Qa.call(this);var k=this,f=this.protectedMethod;this.getSuperType=function(){return g.WidgetSuperType_AffectedTarget|g.WidgetSuperType_Referable|g.WidgetSuperType_CardSimilary|g.WidgetSuperType_FullscreenSupported};this.getWidgetTypeName=function(){return g.WidgetType_QingReport};
this.copyReference=function(l){Bc.getWidgetSourceSelector().copyQingReport(k.getReferenceCustomMap(),function(p){k.setReferenceCustomMap(p);l()})};this.getExecutableAffectedParams=function(){var l=k.getExecutingInputParams();return l?l.createExternalParamsApi().toJsonObject():{}};this.getAffectedParamType=function(){return g.AffectedType_Param};this.protectedToJsonObject=function(l){f.autoRefreshableToJsonObject(l);f.referableToJsonObject(l);f.cardSimilaryToJsonObject(l)};this.protectedFromJsonObject=
function(l){f.autoRefreshableFromJsonObject(l);f.referableFromJsonObject(l);f.cardSimilaryFromJsonObject(l)}};Ia.WidgetExtReport=Ra;Ia.WidgetProgramableCard=function(){pb.call(this);$b.call(this);ub.call(this);var k=this,f=this.protectedMethod;this.getWidgetTypeName=function(){return g.WidgetType_ProgramableCard};this.getDashboardSkinName=function(){return k.getTopPage().getSkin()};this.protectedToJsonObject=function(l){f.referableToJsonObject(l);f.autoRefreshableToJsonObject(l)};this.protectedFromJsonObject=
function(l){f.referableFromJsonObject(l);f.autoRefreshableFromJsonObject(l)}};Ia.WidgetCosmicCustomCard=La;Ia.WidgetCloudhubSubscribes=function(){pb.call(this);var k;this.getWidgetTypeName=function(){return g.WidgetType_CloudhubSubscribes};this.setEncodedModel=function(f){k=f};this.getEncodedModel=function(){return k};this.protectedToJsonObject=function(f){f.encodedModel=k};this.protectedFromJsonObject=function(f){k=f.encodedModel}};Ia.AbstractTextWidget=nb;Ia.WidgetLabel=Ta;Ia.WidgetRich=za;Ia.WidgetPicture=
G;Ia.WidgetIframe=xa;Ia.WidgetClock=va;Ia.WidgetCombobox=function(){pb.call(this);Ya.call(this);gc.call(this);pa.call(this);ya.call(this);var k=this.protectedMethod;this.getSuperType=function(){return g.WidgetSuperType_DiscreteItemFilter|g.WidgetSuperType_FilterSimilary|g.WidgetSuperType_AffectedTarget|g.WidgetSuperType_WithLabel};this.getWidgetTypeName=function(){return g.WidgetType_Combobox};this.getSourceDataType=function(){return hc.DT_STRING};this.getAffectedParamType=function(){return g.AffectedType_BindField};
this.isIncludeItemAllSupported=function(){return!0};this.isMultiSelectable=function(){return!1};this.protectedToJsonObject=function(f){k.discreteItemFilterToJsonObject(f);k.filterSimilaryToJsonObject(f);k.inputCtrlWithLabelToJsonObject(f)};this.protectedFromJsonObject=function(f){k.discreteItemFromJsonObject(f);k.filterSimilaryFromJsonObject(f);k.inputCtrlWithLabelFromJsonObject(f)}};Ia.WidgetButtonGroup=ja;Ia.WidgetF7=function(){pb.call(this);Ya.call(this);gc.call(this);pa.call(this);ya.call(this);
var k=this.protectedMethod;this.getSuperType=function(){return g.WidgetSuperType_DiscreteItemFilter|g.WidgetSuperType_FilterSimilary|g.WidgetSuperType_AffectedTarget|g.WidgetSuperType_WithLabel};this.getWidgetTypeName=function(){return g.WidgetType_F7};this.getSourceDataType=function(){return hc.DT_STRING};this.getAffectedParamType=function(){return g.AffectedType_BindField};this.isLightWeight=function(){return!1};this.protectedToJsonObject=function(f){k.discreteItemFilterToJsonObject(f);k.filterSimilaryToJsonObject(f);
k.inputCtrlWithLabelToJsonObject(f)};this.protectedFromJsonObject=function(f){k.discreteItemFromJsonObject(f);k.filterSimilaryFromJsonObject(f);k.inputCtrlWithLabelFromJsonObject(f)}};Ia.AbstractCalendar=ta;Ia.WidgetCalendar=function(){ta.call(this);this.getWidgetTypeName=function(){return g.WidgetType_Calendar};this.protectedCreateRelativeModel=function(){return new bc}};Ia.WidgetCalendarYear=function(){ta.call(this);this.getWidgetTypeName=function(){return g.WidgetType_CalendarYear};this.protectedCreateRelativeModel=
function(){return new ta.SimpleRelative}};Ia.WidgetCalendarQuarter=function(){ta.call(this);this.getWidgetTypeName=function(){return g.WidgetType_CalendarQuarter};this.protectedCreateRelativeModel=function(){return new ta.SimpleRelative}};Ia.WidgetCalendarMonth=function(){ta.call(this);this.getWidgetTypeName=function(){return g.WidgetType_CalendarMonth};this.protectedCreateRelativeModel=function(){return new ta.SimpleRelative}};Ia.WidgetCalendarDay=function(){ta.call(this);this.getWidgetTypeName=
function(){return g.WidgetType_CalendarDay};this.protectedCreateRelativeModel=function(){return new ta.SimpleRelative}};Ia.WidgetPanel=A;Ia.WidgetTabbedContainer=y;Ia.WidgetOneTabbed=L;Ia.AbstractFilterSource=M;Ia.FilterSourceFromVisualWidget=ia;Ia.ValueTextItem=Ga;Ia.DateSelected=function(k,f,l){var p,w,z;this.getJsonDateRange=function(){var D={};D.containNull=l;D.dateFrom=k;D.dateTo=f;var K={};K.dateRange=D;return K};this.setParamValue=function(D,K,R){p=D;w=K;z=R};this.getParamSingleValue=function(){return p};
this.getParamScopeStart=function(){return w};this.getParamScopeEnd=function(){return z}};Ia.AbstractDefaultSelected=gb;Ia.AffectedTargets=Rb;Ia.PredefinedTextFragments=ib;Ia.AbstractDurationMode=wb;Ia.CosmeticModel=Qb;Ia.PreviewCardModel=function(){pb.call(this);Vb.call(this);var k=this,f=this.protectedMethod,l,p;this.copyFromWidget=function(w){w=w.toJsonObject();k.fromJsonObject(w)};this.hookUsableCardBorderGetter=function(w){l=w};this.hookUsableCardTopBarCommonGetter=function(w){p=w};this.getUsableCardBorder=
function(){return l()};this.getUsableCardTopBarCommon=function(){return p()};this.isBareSurface=function(){return!1};this.protectedFromJsonObject=function(w){f.cardSimilaryFromJsonObject(w)}};Ia.AbstractCardBorder=H;Ia.CardTopBarCommon=lb;var tb,bc,Pb,yc,vc,hc,Bc,Jc;(function(){var k=com.kingdee.bos.qing.common;tb=k.EventListenerList;bc=k.RelativePeriodModel;k=com.kingdee.bos.qing.framework.common;Pb=k.MultilanguageManager.createPackageAccessor(Ia);k=com.kingdee.bos.qing.common.rich;yc=k.Chapter;
k=com.kingdee.bos.qing.ui.component;vc=k.MessageDialog;k=com.kingdee.bos.qing.core.model;hc=k.MetaField;k=com.kingdee.bos.qing.dsb;Bc=k.IntegrationRegister;k=com.kingdee.bos.qing.dsb.look;Jc=k.CardLook})();var Kc=new function(){var k,f,l;this.registerAll=function(w){k=w};this.registerUnknown=function(w){l=w};var p=function(){var w=k;k=[];f={};for(var z=0;z<w.length;z++){var D=new w[z];if(D.isSupported()){var K=D.getTypeName();f[K]=D;K!=g.WidgetType_Page&&k.push(D)}}};this.getInstance=function(w){!f&&
p();var z=f[w];z||(w!=g.WidgetType_Unknown&&window.console&&window.console.error("Unknown chart type: "+w),z=l);return z};this.getToolboxInstances=function(){!f&&p();return k.slice(0)}};Ia.WidgetTypeManager=Kc;g.KEY_ADD_CHILD="addChild";g.KEY_REMOVE_CHILD="removeChild";g.KEY_MOVE_CHILD="moveChild";g.KEY_DISPLAY_NAME="displayName";g.KEY_RECT="rectangle";g.KEY_VISIBLE="visible";g.KEY_FULLSCREEN="fullscreen";g.KEY_FULLSCREEN_BY_ANCESTOR="fullscreenByAncestor";g.KEY_PAGE_SIZE="pageSize";g.KEY_PAGE_EXHIBITION_MODE=
"pageExhibitionMode";g.KEY_PAGE_SKIN="pageSkin";g.KEY_PAGE_UNIFIED_CARD="pageUnifiedCard";g.KEY_PAGE_WATERMARK="pageWatermark";g.KEY_PAGE_BACKGROUND="pageBackground";g.KEY_PAGE_MOBILE_LAYOUT_CONVERTER="pageMobileLayoutConverter";g.KEY_PAGE_MOBILE_SKIN_ACTIVE="pageMobileSkinActive";g.KEY_REF="reference";g.KEY_REFRESH_TIMING="refreshTiming";g.KEY_CARD_TITLE="cardTitle";g.KEY_CARD_SURFACE="cardSurface";g.KEY_FILTER_SOURCE="filterSource";g.KEY_FILTER_DEFAULT_SELECTED="filterDefaultSelected";g.KEY_AFFECTED_TARGETS=
"affectedTargets";g.KEY_FILTER_FRONT_LABEL="frontLabel";g.KEY_FILTER_FRONT_LABEL_POSITION="frontLabelPosition";g.KEY_FILTER_FRONT_LABEL_LENGTH="frontLabelLength";g.KEY_FONT_SIZE_ENHANCED="fontSizeEnhanced";g.KEY_DISCRETE_INCLUDED_ITEMALL="includedItemAll";g.KEY_DISCRETE_MULTISELECTABLE="multiSelectable";g.KEY_STYLE="commonStyle";g.ExhibitionMode_Full="Full";g.ExhibitionMode_Fit="Fit";g.ExhibitionMode_HFull="HFull";g.ExhibitionMode_Idle="Idle";g.Skin_Custom="custom";g.Skin_White="white";g.Skin_DarkBlue=
"darkBlue";g.Skin_Gold="gold";g.Skin_Cyan="cyan";g.MobileLayoutConverter_ByPosition="ByPosition";g.MobileLayoutConverter_InOrder="InOrder";g.RunningMode_Normal="NORMAL";g.RunningMode_Auto="AUTO";g.RunningMode_Lazy="LAZY";g.WidgetType_Unknown="Unknown";g.WidgetType_Page="Page";g.WidgetType_PageTitleBar="PageTitleBar";g.WidgetType_Square="Square";g.WidgetType_Longer="LongPainting";g.WidgetType_QingReport="QingReport";g.WidgetType_ExtReport="ExtReport";g.WidgetType_ProgramableCard="ProgramableCard";
g.WidgetType_CosmicCustomCard="CosmicCustomCard";g.WidgetType_CloudhubSubscribes="CloudhubSubscribes";g.WidgetType_Label="Label";g.WidgetType_Rich="Rich";g.WidgetType_Picture="Picture";g.WidgetType_Iframe="Iframe";g.WidgetType_Clock="Clock";g.WidgetType_Combobox="Combobox";g.WidgetType_ButtonGroup="ButtonGroup";g.WidgetType_F7="F7";g.WidgetType_Calendar="Calendar";g.WidgetType_CalendarYear="CalendarYear";g.WidgetType_CalendarQuarter="CalendarQuarter";g.WidgetType_CalendarMonth="CalendarMonth";g.WidgetType_CalendarDay=
"CalendarDay";g.WidgetType_Panel="Panel";g.WidgetType_TabbedContainer="TabbedContainer";g.WidgetType_OneTabbed="OneTabbed";g.WidgetSuperType_CardSurfaceAbout=1;g.WidgetSuperType_CardSimilary=2|g.WidgetSuperType_CardSurfaceAbout;g.WidgetSuperType_FilterSimilary=4;g.WidgetSuperType_AffectedTarget=8;g.WidgetSuperType_BuiltinVisual=16;g.WidgetSuperType_CompositeContainer=32;g.WidgetSuperType_WithLabel=64;g.WidgetSuperType_OutputParamProvider=128;g.WidgetSuperType_FullscreenSupported=256;g.WidgetSuperType_WithCommonStyle=
512;g.WidgetSuperType_ContainerWithBackground=1024;g.WidgetSuperType_Referable=2048;g.WidgetSuperType_DiscreteItemFilter=4096;g.WidgetSuperType_Text=8192;g.WidgetSuperType_Calendar=16384;g.AffectedType_BindField=1;g.AffectedType_Param=2;g.AffectedType_Tab=4;g.AffectedType_Hotlink=8;lb.TitlePosition_Auto="Auto";lb.TitlePosition_MidOfIcon="MidOfIcon";lb.TitlePosition_Offset="Offset";Vb.Surface_Unified=0;Vb.Surface_Bare=1;Vb.Surface_Custom=2;Wa.KEY_FROZEN="frozen";Wa.KEY_SURFACE="surface";Ra.KEY_TITLE=
"title";Ra.KEY_MODEL="encodedModel";La.KEY_MODEL="encodedModel";nb.parseRef=function(k){for(var f=[],l=[],p=0;p<k.length;){var w=k.indexOf("${",p);p=k.indexOf("}$",p);if(-1==p)p=k.length;else if(-1==w||p<w){if(0<l.length){w=l.pop();var z=p,D=k.substring(w[0]+2,z),K=D.indexOf(",");if(0<K){var R=D.substring(0,K);D=D.substring(K+1)}else R=D,D="";w[1]=z+2;w[2]=$.trim(R);w[3]=D;f.push(w)}p+=2}else l.push([w,null,null]),p=w+2}return f};Ta.KEY_CONTENT="labelContent";Ta.KEY_WALKING="labelWalking";za.KEY_CONTENT=
"richContent";G.createPeer=function(){var k=new G;k.setScale(null);k.setAlign(0);return k};G.KEY_SCALE="pictureScale";G.KEY_ALIGN="pictureAlign";G.SCALE_NON="original";G.SCALE_ADAPTIVE="adaptive";G.SCALE_FULL="full";G.SCALE_TILED="tiled";G.HALIGN_LEFT=1;G.HALIGN_CENTER=2;G.HALIGN_RIGHT=4;G.VALIGN_TOP=16;G.VALIGN_MIDDLE=32;G.VALIGN_BOTTOM=64;xa.KEY_URL="iframeUrl";va.KEY_FORMAT="formatString";ja.askButtonHeight=function(k){return k>=ja.SIZE_MODE_LARGE?40:k>=ja.SIZE_MODE_MIDDLE?32:25};ja.KEY_LAYOUT_MODE=
"layoutMode";ja.KEY_CHARS_PER_ITEM="charsPerItem";ja.KEY_ITEMS_PER_ROW="itemsPerRow";ja.KEY_SIZE_MODE="sizeMode";ja.LAYOUT_MODE_HORIZONTAL="H";ja.LAYOUT_MODE_WRAP="W";ja.SIZE_MODE_SMALL=1;ja.SIZE_MODE_MIDDLE=3;ja.SIZE_MODE_LARGE=5;ta.KEY_DATE_INITIAL="dateInitialValue";ta.SimpleRelative=function(){var k=0;this.getOffset=function(){return k};this.setOffset=function(f){k=f};this.toJsonObject=function(){var f={};k&&(f.offset=k);return f};this.fromJsonObject=function(f){k=(f=f.offset)?f:0}};A.KEY_FULLSCREEN_ALLOWED=
"fullScreenAllowed";A.FULLSCREEN_ALLOWED_NONE=0;A.FULLSCREEN_ALLOWED_ALONE=1;A.FULLSCREEN_ALLOWED_ALIVE=2;y.KEY_TABBED_SELECTED="tabbedSelected";y.KEY_HEAD_POSITION="tabbedHeadPosition";y.KEY_HEAD_PATTERN="tabbedHeadPattern";y.KEY_SWITCH_SUB="switchToSubTabbed";y.KEY_SLIDESHOW="slideshow";y.HEAD_TOP_LEFT="TL";y.HEAD_TOP_RIGHT="TR";y.HEAD_BOTTOM_LEFT="BL";y.HEAD_BOTTOM_RIGHT="BR";y.HEAD_PATTERN_HIDDEN="hidden";y.HEAD_PATTERN_BAR="bar";y.HEAD_PATTERN_BARE="bare";L.KEY_HEAD_TEXT="oneTabbedHeadText";
L.KEY_DURATION_MODE="durationMode";H.createInstance=function(k){switch(k){case H.TYPE_SIMPLE:return new S;case H.TYPE_MODEL:return new V;case H.TYPE_IMAGE:return new ua;default:throw Error("Modify here");}};H.TYPE_SIMPLE="Simple";H.TYPE_MODEL="Model";H.TYPE_IMAGE="Image";M.createInstance=function(k){switch(k){case M.TYPE_VisualWidget:return new ia;case M.TYPE_CustomList:return new la;default:throw Error("Modify here");}};M.TYPE_VisualWidget="VisualWidget";M.TYPE_CustomList="CustomList";M.createItemAll=
function(){var k=new Ga;k.setValue(M.ITEM_ALL);k.setText(Pb.get("itemAll","\uff08\u5168\u90e8\uff09"));return k};M.ITEM_ALL="com.kingdee.bos.qing.ALL";gb.createInstance=function(k){switch(k){case gb.TYPE_ByIndex:return new wa;case gb.TYPE_ByAppointed:return new Ob;default:throw Error("Modify here");}};gb.TYPE_ByIndex="ByIndex";gb.TYPE_ByVariant="ByVariant";gb.TYPE_ByAppointed="ByAppointed";Rb.createItem=function(k){for(var f=[jc,xc,lc,Dc],l=0;l<f.length;l++){var p=new f[l];if(p.getType()==k)return p}throw Error("Unknown AffectedTargetItem.type: "+
k);};Rb.encodeDoubleParamName=function(k,f){return k+","+f};Rb.isDoubleParamName=function(k){return 0<=k.indexOf(",")};Rb.decodeDoubleParamName=function(k){return k.split(",")};ib.Fragment=function(){var k=this,f,l,p;this.setName=function(w){f=w};this.getName=function(){return f};this.setDisplay=function(w){l=w};this.getDisplay=function(){return l};this.setAffectedTargets=function(w){p=w};this.getAffectedTargets=function(){return p};this.copy=function(){var w={};k.toJsonObject(w);var z=new ib.Fragment;
z.fromJsonObject(w);return z};this.toJsonObject=function(w){w.name=f;w.display=l;if(p){var z={};p.toJsonObject(z);w.affectedTargets=z}};this.fromJsonObject=function(w){f=w.name;l=w.display;if(w=w.affectedTargets)p=new Rb,p.fromJsonObject(w)}};wb.createInstance=function(k){switch(k){case wb.TYPE_ByFixedTime:return new Eb;case wb.TYPE_ByData:return new Yb;default:throw Error("Modify here");}};wb.TYPE_ByFixedTime="ByFixedTime";wb.TYPE_ByData="ByData";Qb.createEditableItem=function(k,f){return new O(k,
f)}})();(function(){function g(){var a={};this.registerClass=function(b,c){a[b]=c};this.findClass=function(b){var c=a[b];if(!c)throw Error("WidgetCtrl not found: "+b);return c}}function pb(){var a=this,b=!1;this.setPreview=function(c){b=c};this.isPreview=function(){return b};this.isDesigntime=function(){return!1};this.isMobile=function(){return!1};this.createWidgetCtrl=function(c){var d=new (a.protectedGetRegister().findClass(c.getWidgetTypeName()));d.bindWidget(c);b&&d.appendSituation(Da.Situation_Runtime_Preview);
a.protectedInitWidgetCtrl(d);return d};this.protectedInitWidgetCtrl=function(c){throw Error("Implement");};this.protectedGetRegister=function(){throw Error("Implement");}}function Da(){var a,b=0;this.bindWidget=function(c){a=c};this.appendSituation=function(c){b|=c};this.getJqUi=function(){throw Error("Implement");};this.protectedMethod={getWidget:function(){return a},isDesigntime:function(){return(b&Da.Situation_Designtime)==Da.Situation_Designtime},isPreview:function(){return(b&Da.Situation_Runtime_Preview)==
Da.Situation_Runtime_Preview},isMobile:function(){return(b&Da.Situation_Runtime_Mobile)==Da.Situation_Runtime_Mobile}}}function jb(){var a=this,b=this.protectedMethod,c,d,e,h,m,B,t,r;this.updateTopBar=function(da){r=da;x()};this.getJqUi=function(){c||(m=$("<div>"),m.css("position","absolute"),h=$("<div>"),h.css("position","absolute"),E.makeTextOmissible(h),e=$("<div>"),e.css("z-index",2),e.css("overflow","hidden"),e.append(m),e.append(h),B=$("<div>"),B.css("z-index",4),c=$("<div>"),c.css("overflow",
"hidden"),c.append(e),c.append(B),a.protectedInitUi(c),x());return c};this.getJqContent=function(){return B};this.repaintSurface=function(){x()};this.showWaiting=function(da,ma,qa){t||(t=new ea,t.hookOwner(c,function(fb,sb){Za.decorateCardModalLayer(fb,da?!0:!1);fb.css("z-index",6);da&&E.layoutCtrlWithLRTB(sb,"",20,"",12,"","")}));t.showWaiting(ma,qa)};this.hookWaitingProgressDisplayer=function(da){t&&t.hookProgressDisplayer(da)};this.hideWaiting=function(){t&&(t.hideWaiting(),t=null)};this.protectedInitUi=
function(da){throw Error("Implement");};var n=function(){var da=b.getWidget();if(da.isBareSurface())Za.undecorateCardSimpleBorder(c),q();else{var ma=da.getActiveBackgroundColor(),qa=da.isOpacityRequired(),fb=da.getUsableCardBorder();if(fb.getType()==Gc.TYPE_MODEL){Za.undecorateCardSimpleBorder(c);!ma&&(ma=Za.getCardBackgroundColor(qa));var sb=fb.getCardLook();sb.hookBackgroundColor(ma);u(function(Cb,Bb,Wb){var ac=new Rc;ac.setModel(sb);ac.draw(Cb,0,0,Bb,Wb)})}else fb.getType()==Gc.TYPE_IMAGE?(Za.undecorateCardSimpleBorder(c),
fb.getImage()?fb.loadImage(function(Cb){Cb?u(function(Bb,Wb,ac){var qc=fb.getFixedEdges(),rc=new cc;rc.setModel(Cb,qc[0],qc[1],qc[2],qc[3]);rc.draw(Bb,0,0,Wb,ac)}):q()}):(q(),Za.decorateCardSimpleBorder(qa,c),ma&&c.css("background-color",ma))):(q(),Za.decorateCardSimpleBorder(qa,c),ma&&c.css("background-color",ma));Za.decorateCardTitle(h);da.isSkinActive()&&(ma=da.getTitleFontName(),qa=da.getTitleFontSize(),(da=da.getTitleColor())&&h.css("color",da),qa&&h.css("font-size",qa+"px"),ma&&h.css("font-family",
ma))}},u=function(da){var ma=c.prop("clientWidth"),qa=c.prop("clientHeight");d||(d=$($a.createCanvas()),d.css("z-index",1),c.append(d));E.layoutCtrl(d,0,0,ma,qa);var fb=$a.createContext2d(d[0],ma,qa);da(fb,ma,qa)},q=function(){d&&(d.remove(),d=null)},x=function(){if(B){var da=b.getWidget(),ma=da.getPaddingTop(),qa=da.getPaddingBottom(),fb=da.getPaddingLeft(),sb=da.getPaddingRight();E.layoutCtrlWithLRTB(B,fb,sb,null,ma,qa,null);E.layoutCtrlWithLRTB(e,0,0,null,0,null,ma);e.attr("title",null);da.isBareSurface()?
(m.css("display","none"),h.css("display","none"),P(ma,null,null,null,null)):(h.css("display","block"),(da=da.getUsableCardTopBarIcon())?(m.css("display","block"),db.getPictureLoader()(da.getReferenceCustomMap(),function(Cb,Bb,Wb){v(ma,"url("+Cb+")",Bb,Wb)},function(Cb){var Bb=Jb.getInsteadOfNotFound();v(ma,Bb,24,24);m.css("background-size","");e.attr("title","Icon not found: \r\n"+Cb)})):(m.css("background-image",""),m.css("display","none"),P(ma,null,null,null,null)));a.protectedSyncLayoutMore()}};
this.protectedSyncLayoutMore=function(){throw Error("Implement");};var v=function(da,ma,qa,fb){var sb=b.getWidget(),Cb=sb.getUsableCardTopBarCommon(),Bb=Cb.getTopBarIconOffset(),Wb=Cb.getTopBarIconSize(),ac=Bb?!1:!0,qc=Wb?!1:!0;Cb=!qc&&Cb.isTopBarIconWidthAsPercentage();qa=qc?qa:Wb[0];fb=qc?fb:Wb[1];sb=ac?Cb?0:sb.getPaddingLeft():Bb[0];Bb=ac?da-fb>>1:Bb[1];ac={};ac["background-image"]=ma;ac["background-repeat"]="no-repeat";ac["background-size"]="100% 100%";ac.left=sb+"px";ac.top=Bb+"px";ac.width=
qa+(Cb?"%":"px");ac.height=fb+"px";m.css(ac);Cb&&(qa=-qa);P(da,sb,qa,Bb,fb)},P=function(da,ma,qa,fb,sb){setTimeout(function(){n();var Cb=b.getWidget();if(Cb.isBareSurface())var Bb=[Cb.getPaddingLeft(),da>>1];else{var Wb=c.prop("clientWidth"),ac=parseInt(h.css("font-size")),qc=h.css("font-family"),rc=qa,zc=!(null==ma||null==rc||null==fb||null==sb),Lc=!1;0>rc&&(Lc=!0,rc=Math.round(Wb*-rc/100));var Wc=b.getWidget(),Va=Wc.getPaddingLeft();Cb=Wc.getPaddingRight();var qb=(r?40:0)+a.protectedYieldButtonsSpace(),
Sb=Math.max(Va,Wb-Cb);Cb=Wc.getCardTitle();Bb=Math.ceil(1.25*ac);var ka=0;if(Cb){var ba=new Sa;ba.setFontSize(ac,qc);ka=ba.measureWidth(Cb);ba.destroy()}else Cb="";a.protectedConfirmDynamicTitleWidth(null,null);qc=(ac=Wc.getUsableCardTopBarCommon())?ac.getCardTitleHorizontalPosition():ed.TitlePosition_Auto;qc==ed.TitlePosition_Offset?(Wb=ac.getCardTitleOffsetX(),rc=Math.min(ka,Math.max(0,Sb-Wb-qb)),ka=Math.min(ka,Math.max(0,Sb-Wb)),ka=a.protectedConfirmDynamicTitleWidth(ka,rc)):qc==ed.TitlePosition_MidOfIcon&&
zc?(qb=Math.max(0,ma),Wb=Math.min(Wb,ma+rc)-qb,ka=Math.min(ka,Wb),Wb=qb+(Wb-ka>>1),rc=ka):(Wb=zc&&!Lc&&2>rc/sb?ma+rc+6:Va,rc=Math.min(ka,Math.max(0,Sb-Wb-qb)),ka=Math.min(ka,Math.max(0,Sb-Wb)),ka=a.protectedConfirmDynamicTitleWidth(ka,rc));qb=ac?ac.getCardTitleVerticalPosition():ed.TitlePosition_Auto;qb==ed.TitlePosition_Offset?zc=ac.getCardTitleOffsetY():qb==ed.TitlePosition_MidOfIcon&&zc?(zc=Math.max(0,fb),zc+=Math.min(da,fb+sb)-zc-Bb>>1):zc=da-Bb>>1;qb={};qb.left=Wb+"px";qb.top=zc+"px";qb.width=
ka+"px";qb.height=Bb+"px";qb["line-height"]=Bb+"px";h.css(qb);h.text(Cb);Bb=[Wb+rc,zc+(Bb>>1)]}Cb=Bb[0];Bb=Bb[1];I().remove();r&&(ka=new Sc,ka.setIconType(Sc.ICON_TYPE_QUESTION),ka.setTipsText(r),ka.setContainer(c),zd?zd(ka,r):(zc=ka.getJqUi(),zc.css("filter","opacity(0.5)"),zc.hide()),ka=ka.getJqUi(),ka.appendTo(e),E.layoutCtrl(ka,Cb+4,Bb-8),ka.addClass("dsb-widgetcard-topbar-tips"))},0)};this.protectedYieldButtonsSpace=function(){throw Error("Implement");};this.protectedConfirmDynamicTitleWidth=
function(da,ma){return ma};var I=function(){return e.children(".dsb-widgetcard-topbar-tips")};this.protectedMethod.getOperationLevel=function(){return 3};this.protectedMethod.getUpwardLevel=function(){return 5};this.protectedMethod.updateTitleYield=function(da,ma){h.css("width",ma+"px");ma=I();da?ma.show():ma.hide()}}function Ib(){Da.call(this);jb.call(this);this.protectedInitUi=function(a){};this.protectedSyncLayoutMore=function(){};this.protectedYieldButtonsSpace=function(){return 0}}function Nb(){this.getGroupName=
function(){throw Error("Override");};this.getGroupDisplayName=function(){throw Error("Override");};this.isEquals=function(a){return _this.getGroupName()==a.getGroupName()}}function lb(){var a=this,b,c,d;this.isSupported=function(){return!0};this.isReleased=function(){return!0};this.getToolboxGroup=function(){throw Error("Override");};this.getTypeName=function(){return b};this.getTypeDisplayName=function(){return c};this.getIconFileName=function(){return d};this.createWidgetModel=function(e){var h=
a.getSuggestSize();e=a.protectedCreateWidgetModel(e);e.setSize(h[0],h[1]);e.setWidthLocked(e.isWidthLockedAlways(a));e.setHeightLocked(e.isHeightLockedAlways(a));return e};this.protectedCreateWidgetModel=function(e){throw Error("Override");};this.createWidgetUi=function(e){var h=a.protectedCreateWidgetUi();h.setModel(e);return h};this.protectedCreateWidgetUi=function(){throw Error("Override");};this.isWidthLockedAlways=function(){return!1};this.isHeightLockedAlways=function(){return!1};this.getMinSize=
function(){return[40,30]};this.getSuggestSize=function(){return[100,75]};this.getMargin=function(){return 0};this.createCustomDesignHandlerJqUi=function(e,h,m,B){return null};this.selectSource=function(e,h,m){m(!0)};this.createPropertyPanel=function(){throw Error("Override");};this.createOutlineMenu=function(e,h,m,B,t){return!1};this.protectedMethod={setTypeName:function(e){b=e},setTypeDisplayName:function(e){c=e},setIconFileName:function(e){d=e}}}function Vb(){this.getToolboxGroup=function(){return Ld};
this.selectSource=function(a,b,c){(new qd).showDialog(a,b,function(d,e,h){if(d&&(b.isIncludeItemAllSupported()&&b.setIncludedItemAll(h),b.setFilterSource(e),h=b.getFilterSource(),h instanceof Md)){e=h.getSourceWidgetName();var m=h.getMetaFieldFullName();e&&m&&(h=md.createItem(oa.AffectedType_BindField),h.setTargetWidgetName(e),h.setMetaFieldFullName(m),e=new md,e.addItem(h),b.setAffectedTargets(e))}c(d)})}}function gc(){lb.call(this);var a=this;this.getToolboxGroup=function(){return Ld};this.getSuggestSize=
function(){return[180,25]};this.isHeightLockedAlways=function(){return!0};this.selectSource=function(b,c,d){a.protectedCreateInitialDialog().showDialog(b,c,function(e,h,m,B,t){e&&c.setInitialValue(h,m,B,t);d(e)})};this.protectedCreateInitialDialog=function(){throw Error("Implement");}}function Pa(a,b){var c=Za.dip(Za.DESIGN);this.setStyleMap=function(m){c=m};this.createJqUi=function(m,B,t){var r=$("<div>");r.addClass("dsb-pagearea-custom-operate");var n=$("<div>");n.data("my-model",a);n.text("T");
n.appendTo(r);var u=28,q=0;d(n,u);a==t?h(n):e(n);E.layoutCtrl(n,-4,q,16,u);q=u-1;u=20;for(n=0;n<a.getWidgetCount();n++){var x=a.getWidget(n),v=$("<div>");v.data("my-model",x);v.text(n+1);d(v,u);x==t?h(v):e(v);v.appendTo(r);E.layoutCtrl(v,0,q,12,u);q+=u-1}E.layoutCtrl(r,m-12,B,12,q);r.on("click",function(P){P=$(P.target).data("my-model");b(P)});return r};var d=function(m,B){m.css({cursor:"pointer","box-sizing":"border-box",border:"1px solid #ccc","border-color":c[Za.Key_Design_ColorB],"border-right-width":"0px",
"text-align":"center","line-height":B-2+"px"})},e=function(m){m.css({color:c[Za.Key_Design_ColorA],"background-color":c[Za.Key_Design_ColorC]})},h=function(m){m.css({color:c[Za.Key_Design_ColorA],"background-color":c[Za.Key_Design_ColorB]})}}function pa(){var a=this,b,c,d,e,h,m=!1;this.destroy=function(){a.protectedUnhookWidget(b);b.removePropertyChangedListener(B);h=d=c=null;m=!0};this.protectedUnhookWidget=function(t){};this.getModel=function(){return b};this.setModel=function(t){b=t;b.addPropertyChangedListener(B);
a.protectedHookWidget(b)};this.protectedHookWidget=function(t){};this.setCtxApi=function(t){h=t};this.createJqUi=function(t){e=t.isDesigntime();return a.protectedCreateJqUi(t)};this.protectedCreateJqUi=function(t){throw Error("Override");};this.inside=function(){};this.outside=function(){};this.payAttentionTo=function(t,r){};this.run=function(t){};this.collectContextForPreview=function(){};this.applyPreviewContext=function(t){};this.setEditedListener=function(t){c=t};this.setCommunicationListener=
function(t){d=t};var B=function(t,r){t==b&&(r==oa.KEY_RECT?setTimeout(a.protectedRepaint,0):a.protectedDoPropertyChanged(r))};this.protectedDoPropertyChanged=function(t){};this.protectedRepaint=function(){};this.protectedMethod={isDesigntime:function(){return e},setupDesigntimeRectangle:function(t){e&&Za.decorateDesigntimeRectangle(t)},fireEditedEvent:function(){c&&c()},fireCommunicationEvent:function(t,r){d&&d(r?r:a,t)},getCtxApi:function(){return h},isDead:function(){return m}}}function Ya(){pa.call(this);
var a=this;this.protectedCreateJqUi=function(b){b="Unknown widget type: "+a.getModel().getUnknownType();var c=$("<div>");c.text(b);c.attr("title",b);c.css({"background-color":"#fff",color:"#f00"});return c}}function ya(){pa.call(this);this.getJqPhysicalContainer=function(){throw Error("Override");}}function $b(){this.updateCardSurface=function(){throw Error("Override");};this.protectedMethod.fakeAction=function(a,b){var c=new Xc;c.setText(C.get("effectiveAfterPub","#1\uff0c\u53d1\u5e03\u540e\u751f\u6548\u3002").replace("#1",
b));c.show(a,!0)}}function ub(){var a=this.protectedMethod;this.getFilterSelectedValue=function(){throw Error("Override");};this.protectedMethod.filterSimilaryDoPropertyChanged=function(b){b==oa.KEY_AFFECTED_TARGETS&&a.fireCommunicationEvent(pa.KEY_SELECTED_BY_API)}}function Qa(){ub.call(this);mb.call(this);var a=this,b=this.protectedMethod,c,d,e;this.protectedCreateJqUi=function(r){r=a.protectedCreateJqUiImpl(r);e=$("<div>");e.css("text-align","center");Za.decorateCardModalLayer(e,!1);E.makeTextOmissible(e);
var n=$("<div>");n.append(r);n.append(e);E.layoutCtrlWithLRTB(r,0,0,null,0,0,null);E.layoutCtrlWithLRTB(e,0,0,null,0,0,null);return n};this.protectedCreateJqUiImpl=function(r){throw Error("Implement");};this.protectedRunImpl=function(r){c=r;h()};this.payAttentionTo=function(r,n){if(n==pa.KEY_VISUAL_DATA_PREPARED_SUCCESS||n==pa.KEY_VISUAL_DATA_PREPARED_ERROR){r=r.getModel();var u=a.getModel().getFilterSource();u&&u.isPreparedValueRelatedToWidget(r.getName())&&(n==pa.KEY_VISUAL_DATA_PREPARED_SUCCESS?
h():n==pa.KEY_VISUAL_DATA_PREPARED_ERROR&&(m(C.get("discreteFilterDataWaitingError","\u5f15\u7528\u6570\u636e\u66f4\u65b0\u5931\u8d25")),B(null)))}else b.isAnotherSelectedAffectedMe(r,n)&&h()};this.getFilterSelectedValue=function(){return d&&0==d.length?id.createItemAll():a.protectedGetFilterSelectedValue()};this.protectedGetFilterSelectedValue=function(){throw Error("Implement");};var h=function(){var r=a.getModel(),n=r.getFilterSource();if(n&&n.isValid())if(n.isConfirmedToGetPreparedValue(r))if(b.isWaitingInputs())m(C.get("discreteFilterParamWaiting",
"\u7b49\u5f85\u7b5b\u9009\u6761\u4ef6")),B(null);else{m(C.get("discreteFilterItemUpdating","\u66f4\u65b0\u5907\u9009\u503c"));var u=b.createAdditionalFilterApi();u=u?u.toExecutableJsonObject():null;n.getPreparedValue(r,u,c,function(q){m(q?0==q.length?C.get("discreteFilterItemEmpty","\u6ca1\u6709\u5907\u9009\u503c"):null:C.get("discreteFilterItemUpdatingError","\u66f4\u65b0\u5907\u9009\u503c\u5931\u8d25"));B(q)})}else m(C.get("discreteFilterDataWaiting","\u7b49\u5f85\u5f15\u7528\u6570\u636e")),B(null);
else m(C.get("discreteFilterInvalid","\u672a\u6b63\u786e\u8bbe\u7f6e\u5907\u9009\u503c")),B(null)},m=function(r){r?(e.text(r),e.attr("title",r),e.css("line-height",a.getModel().getHeight()+"px"),e.css("display","")):(e.text(""),e.attr("title",""),e.css("display","none"))},B=function(r){r?(d=r,a.getModel().isIncludeItemAllSupported()&&a.getModel().isIncludedItemAll()&&d.splice(0,0,id.createItemAll())):d=null;a.protectedUpdateCtrlModel(d?d:[]);t()};this.protectedUpdateCtrlModel=function(r){throw Error("Implement");
};var t=function(){if(d){var r=a.getModel(),n=r.getDefaultSelected();n?n.getItems(d,r.isMultiSelectable(),function(u){a.protectedUpdateSelectedValue(u);b.fireCommunicationEvent(pa.KEY_SELECTED_BY_API)}):(a.protectedUpdateSelectedValue(null),b.fireCommunicationEvent(pa.KEY_SELECTED_BY_API))}};this.protectedUpdateSelectedValue=function(r){throw Error("Implement");};this.protectedMethod.discreteItemFilterDoPropertyChanged=function(r){r==oa.KEY_FILTER_SOURCE||r==oa.KEY_DISCRETE_INCLUDED_ITEMALL?h():r==
oa.KEY_FILTER_DEFAULT_SELECTED||r==oa.KEY_DISCRETE_MULTISELECTABLE?t():b.filterSimilaryDoPropertyChanged(r)};this.protectedMethod.getSelectableItems=function(){return d}}function mb(){var a=this,b=!1;this.run=function(e){b=!0;a.protectedRunImpl(e)};this.protectedRunImpl=function(e){throw Error("Implement");};this.updateInputParams=function(e){e?c(!0).repickParams(e):c()&&c().repickParams(null)};var c=function(e){return a.getModel().getExecutingInputParams(e)},d=function(e,h){if(c()&&c().checkAffectedChainBroken())return!0;
var m=a.getModel(),B=e.getModel(),t=B.getAffectedTargets();if(t&&(t=t.getTarget(m.getName()))&&t.isSettingComplete()){if(m.isInstanceOf(oa.WidgetSuperType_FilterSimilary)&&(m=m.checkCircularAffection()))return console&&console.warn("\u6b7b\u5faa\u73af\u5566\uff01"+m),!1;B=B.getSourceDataType();e=e.getFilterSelectedValue();e=c(!0).putParamValue(t.getUsableParamName(),B,e);return h?e:!0}return!1};this.protectedMethod.isAnotherSelectedAffectedMe=function(e,h){return 0==h.indexOf(pa.KEY_SELECTED)&&d(e,
!0)&&c()&&c().isAllParamsAttend()&&b};this.protectedMethod.isAnotherManualSelectedAffectedMe=function(e,h){return h==pa.KEY_SELECTED_BY_MANUAL&&d(e,!1)&&c()&&c().isAllParamsAttend()&&b};this.protectedMethod.isPlayAffectedMe=function(e,h){return h==pa.KEY_PLAY&&d(e)&&b};this.protectedMethod.createAdditionalFilterApi=function(){return c()?c().createAdditionalFilterApi():null};this.protectedMethod.createParamValueSearcherApi=function(){return c()?c().createParamValueSearcherApi():null};this.protectedMethod.isWaitingInputs=
function(){return c()&&!c().isAllParamsAttend()}}function aa(){var a=this,b=this.protectedMethod,c;this.protectedCreateJqUi=function(d){var e=$("<div>");d=a.protectedCreateJqUiWithIframe(d);d.css("z-index",1);d.appendTo(e);E.layoutCtrl(d,0,0,"100%","100%");b.isDesigntime()&&(c=$("<div>"),c.addClass("dsb-glasslayer"),c.css("z-index",2),c.appendTo(e),E.layoutCtrl(c,0,0,"100%","100%"));return e};this.protectedCreateJqUiWithIframe=function(d){throw Error("Override");};this.inside=function(){c.hide()};
this.outside=function(){c.show()}}function Wa(){this.checkOutputParam=function(a){throw Error("Implement");};this.refreshOutputParamValue=function(a,b){throw Error("Implement");}}function X(){function a(){var t=!0,r=[],n={};this.markExist=function(u){t=u};this.isExist=function(){return t};this.registParam=function(u){n[u]||(n[u]=new b,r.push(u))};this.getParam=function(u){return n[u]};this.getParamNames=function(){return r}}function b(){var t=!0,r=!0,n,u,q;this.markExist=function(x){t=x};this.isExist=
function(){return t};this.reset=function(){r=!0};this.setup=function(x,v,P){r=!1;q=x;n=v;u=P};this.copyFrom=function(x){r=!1;n=x.getErrorCode();u=x.getErrorMessage();q=x.getDisplay()};this.isUnsure=function(){return r};this.isError=function(){return n||0===n};this.getErrorCode=function(){return n};this.getErrorMessage=function(){return u};this.getDisplay=function(){return q}}var c=this,d=this.protectedMethod,e={},h,m=function(t,r){var n=function(x){delete t[x];var v=!1;for(x in t){v=!0;break}v||r()},
u;for(u in t){var q=t[u];B(q[0],q[1],n)}},B=function(t,r,n){t.refreshOutputParamValue(r,function(u){var q=t.getModel().getName();if(u){var x=e[q],v;for(v in u){var P=u[v];x.getParam(v).setup(P.getDisplay(),P.getErrorCode(),P.getErrorMessage())}}n(q)})};this.protectedMethod.registWatchingTargetStart=function(){h=e;e={}};this.protectedMethod.registWatchingTarget=function(t,r){var n=e[t];n||(n=new a,e[t]=n);n.registParam(r)};this.protectedMethod.registWatchingTargetEnd=function(t){var r=h?h:{},n=h=null,
u;for(u in e){var q=c.getModel().getTopPage().searchWidgetByName(u),x=q?!0:!1,v=e[u];v.markExist(x);if(x){x=v.getParamNames();q=d.getCtxApi().getWidgetUiObject(q);var P=q.checkOutputParam(x);if(P)for(var I=0;I<x.length;I++){var da=x[I],ma=P[I],qa=!0===ma||!1===ma;ma=v.getParam(da);ma.markExist(qa);qa&&((qa=(qa=r[u])?qa.getParam(da):null)?ma.copyFrom(qa):(!n&&(n={}),(ma=n[u])?ma=ma[1]:(ma=[],n[u]=[q,ma]),ma.push(da)))}}}n?m(n,t):t()};this.protectedMethod.isOutputParamWatched=function(t,r){if(r=r==
pa.KEY_OUTPUT_PARAM_REFRESHABLE||r==pa.KEY_OUTPUT_PARAM_VISUAL_UPDATABLE)t=t.getModel().getName(),r=e[t]?!0:!1;return r};this.protectedMethod.refreshOutputParamValueByAnotherWidget=function(t,r,n,u){t=t==pa.KEY_OUTPUT_PARAM_VISUAL_UPDATABLE;var q=r.getModel().getName();q=e[q];q.markExist(!0);for(var x=q.getParamNames().slice(0),v=r.checkOutputParam(x),P=x.length-1;0<=P;P--){var I=v[P],da=!0===I||!1===I,ma=x[P];q.getParam(ma).markExist(da);da?t&&!I&&x.splice(P,1):x.splice(P,1)}if(0<x.length){for(P=
0;P<x.length;P++)ma=x[P],q.getParam(ma).reset();n();B(r,x,function(qa){u()})}else u()};this.protectedMethod.lookupOutputParamValue=function(t,r,n,u,q){var x=e[t];if(x&&x.isExist())if((n=x.getParam(r))&&n.isExist()){if(n.isUnsure())return"...";if(n.isError())q(t,r,n.getErrorCode(),n.getErrorMessage());else return n.getDisplay()}else u(t,r);else n(t)}}function Fa(){var a=this,b;this.refreshDuringFullscreen=function(){throw Error("Implement");};this.updateUiWhenAncestorFullscreenAllowedChanged=function(){throw Error("Implement");
};this.protectedUpdateButtonStateByAncestorFullscreen=function(e){throw Error("Implement");};var c=function(e){var h=b;if(e==h[0]){e=!0;var m=new Ra;m.setContext(b,[0,0,0,0]);h.data("myContext",m);m.forward(a)}else e=!1,bb.removeChangedListener(c),m=h.data("myContext"),h.removeData("myContext"),m.backward();d(e);a.protectedFullScreenChanged(e)};this.protectedFullScreenChanged=function(e){throw Error("Implement");};var d=function(e){a.getModel().markFullscreen(e);a.getModel().isContainer()&&a.getModel().traversalDescendents(function(h){h.markFullscreen(e,
!0)})};this.protectedMethod.fullscreenSupportedWidgetDoPropertyChanged=function(e){e==oa.KEY_FULLSCREEN_BY_ANCESTOR&&(e=a.getModel().hasBeenFullscreen(),a.protectedUpdateButtonStateByAncestorFullscreen(e))};this.protectedMethod.doFullscreen=function(e){b=e;bb.removeChangedListener(c);bb.addChangedListener(c);a.getModel().hasBeenFullscreen()?bb.exit():bb.request(e[0])};this.protectedMethod.markFullscreen=d}function Ra(){var a,b,c,d;this.setContext=function(m,B){a=m;b=B};this.forward=function(m){if(!c){d=
parseInt(a.css("z-index"));var B=d+1,t=B+1,r=m.getModel();m=$("<div>");var n=$("<div>"),u=h(r);r=u[0];u=u[1];r&&n.css("background-color",r);E.layoutCtrlWithLRTB(n,10,10,null,10,10,null);n.appendTo(m);m.css({"z-index":B,position:"fixed",left:e(0),right:e(1),top:e(2),bottom:e(3),"background-color":Za.getPageBackgroundColor()});u&&Aa.updateBackgroundPicture(u,m);c=m;c.appendTo(a.parent());a.css({"z-index":t,position:"fixed",left:e(0)+10,right:e(1)+10,top:e(2)+10,bottom:e(3)+10,width:"",height:""})}};
this.backward=function(){c&&(c.remove(),c=null,a.css({"z-index":d,position:"",left:"",right:"",top:"",bottom:""}))};var e=function(m){return(m=b[m])?m:0},h=function(m){var B=null,t=null;m.upToVisitPath(function(r){var n=!1;r.isInstanceOf(oa.WidgetSuperType_ContainerWithBackground)&&r.getBackgroundPicture()&&(t=r,n=!0);n||!r.isInstanceOf(oa.WidgetSuperType_CardSimilary)||r.isBareSurface()||(B=r.getActiveBackgroundColor(),B||r.getCardSurfaceMode()==Mc.Surface_Custom&&r.getUsableCardBorder().getType()==
Gc.TYPE_IMAGE||(r=r.isOpacityRequired(),B=Za.getCardBackgroundColor(r)));return n});return[B,t]}}function La(){pa.call(this);mb.call(this);$b.call(this);Wa.call(this);Fa.call(this);var a=this,b=this.protectedMethod,c,d,e,h,m,B=!1,t,r,n,u=new nb,q=!1,x,v=!1,P=!1,I=!1;this.setVisualWidgetEditableConfirmer=function(ba){c=ba};var da=this.destroy;this.destroy=function(){da();clearTimeout(x);m&&m.destroy()};this.protectedCreateJqUi=function(ba){var Ea=ba.isDesigntime(),ab=!(Ea||ba.isPreview());t=ba.createWidgetCtrl(a.getModel());
fb();t.setActionListener(function(ob,Kb,Fb){switch(Kb){case Ta.ACTION_REFRESH:Cb(!1);break;case Ta.ACTION_EDIT:Ea||ab?qb(Fb):b.fakeAction(ob,Fb);break;case Ta.ACTION_ANALYSIS:ab?a.protectedAccessAdvancedAnalysis(ka())||m.displayActionPrompt(t.getJqUi(),C.get("cardEditUnaccessable","\u60a8\u6ca1\u6709#1\u7684\u6743\u9650").replace("#1",Fb)):b.fakeAction(ob,Fb);break;case jb.ACTION_FULLSCREEN:ab?b.doFullscreen(t.getJqUi()):b.fakeAction(ob,Fb)}});t.setFullscreenAnnouncer(function(ob){r=ob},function(ob){b.markFullscreen(ob)});
ba=t.getJqUi();t.getJqContent().addClass("sa-ctrl-common-unselectable");return ba};this.protectedRunImpl=function(ba){e=ba;B=!1;t.createScene(function(Ea){a.protectedInitScene(Ea);m=Ea;m.setSkinName(a.getModel().getTopPage().getSkin());m.setExecutedListener(function(ab){a.protectedAfterExecuted();Va()});m.setFilteringListener(function(){b.fireCommunicationEvent(pa.KEY_OUTPUT_PARAM_VISUAL_UPDATABLE)});m.show(t.getJqContent(),function(){B=!0;Lc()})});a.getModel().getExecutingTag()&&m.setRemoteTag(a.getModel().getExecutingTag());
ba=[];(h=ma(ba))?ba[0]?Wb(!1):(q=!0,Lc()):b.isWaitingInputs()?(Wb(!1),ac(!1,a.getModel().getName(),C.get("filterWaiting","\u7b49\u5f85\u7b5b\u9009\u6761\u4ef6"),function(){})):Cb(!1)};this.protectedInitScene=function(ba){};this.protectedAfterExecuted=function(){};this.payAttentionTo=function(ba,Ea){if(b.isPlayAffectedMe(ba,Ea)){var ab=ba.getModel().getDurationMode(),ob=ab.getPlayingRoundId(),Kb;m.setBlocking(!1);m.executeWithoutRendering(function(Fb,oc){m.setBlocking(!0);Kb=oc;!Fb&&Bb(!1)},function(Fb,
oc){ab.untilAllAffectedTargetsExecuted(ob,a.getModel().getName(),function(){t.getJqContent().stop(!0);t.getJqContent().fadeTo(500,.2,function(){Kb(Fb,oc);t.getJqContent().fadeTo(500,1);b.fireCommunicationEvent(pa.KEY_OUTPUT_PARAM_VISUAL_UPDATABLE)})})})}else b.isAnotherSelectedAffectedMe(ba,Ea)&&sb(!0)};this.collectContextForPreview=function(){var ba={};ba.tag=a.getModel().getExecutingTag();return ba};this.applyPreviewContext=function(ba){(ba=ba.tag)&&a.getModel().setExecutingTag(ba);v=!0};this.protectedRepaint=
function(){t.repaintSurface();qa()};this.updateCardSurface=function(){t.repaintSurface()};var ma=function(ba){var Ea=a.getModel().pickupTmpJsonModelBook();ba[0]=Ea?Ea[2]:null;d=(ba=Ea?Ea[1]:null)?db.parseBuiltinVisualWidgetEditableConfirmer(ba):null;return Ea?Ea[0]:null},qa=function(){m&&m.redraw()},fb=function(){var ba=a.getModel().getCardDescription();!ba&&(ba=n);t.updateTopBar(ba)},sb=function(ba){m.setBlocking(ba);ba=m.reExecute();m.setBlocking(!0);ba?b.fireCommunicationEvent(pa.KEY_OUTPUT_PARAM_VISUAL_UPDATABLE):
Bb(!1)},Cb=function(ba){ba&&zc(Ta.STATE_AUTO_REFRESHING);Wb(ba);Bb(ba)},Bb=function(ba){if(!b.isDead()){var Ea="id"+Math.random(),ab=ba?C.get("refreshing","\u6b63\u5728\u5237\u65b0"):C.get("loading","\u52a0\u8f7d\u4e2d");ac(ba,Ea,ab,function(){Kb()});ba=a.getModel().getReferenceCustomMap();ab=e(function(Fb){qc(Ea);h=Fb.model;Fb=(Fb=Fb.operation)?db.parseBuiltinVisualWidgetEditableConfirmer(Fb):null;d=a.protectedMergeRtEditableConfirmer(c,Fb);Lc()},function(Fb,oc,Fc){qc(Ea);qc(a.getModel().getName());
-1!=Fb&&(m.displayError(Fb,oc,Fc),P=!0,n=null,Va());zc();return!0});ab.setShowBlocking(!1);ab.setCancelable(!0);var ob=a.protectedGetFacadeMethodForLoadSchema(),Kb=ab[ob](ba)}};this.protectedGetFacadeMethodForLoadSchema=function(){throw Error("Override");};this.protectedMergeRtEditableConfirmer=function(ba,Ea){throw Error("Override");};var Wb=function(ba){var Ea="id"+Math.random(),ab=!0;q=!1;var ob=function(Hc){q=!0;a.getModel().setExecutingTag(Hc);ab&&b.fireCommunicationEvent(pa.KEY_VISUAL_DATA_PREPARED_SUCCESS);
m.setRemoteTag(Hc);qc(Ea);Lc()},Kb=function(Hc,fd,nd){ab&&b.fireCommunicationEvent(pa.KEY_VISUAL_DATA_PREPARED_ERROR);qc(Ea);qc(a.getModel().getName());-1!=Hc&&(m.displayError(Hc,fd,nd),P=!0,n=null,Va());zc();return!0},Fb=function(){return b.isDead()},oc=function(Hc){var fd=u.getDisplayOne();fd&&fd.getRandomId()==Ea&&t.hookWaitingProgressDisplayer(F.makeUiCreator(Hc))},Fc=null,wc=ba?C.get("refreshing","\u6b63\u5728\u5237\u65b0"):F.getWaitingText();ac(ba,Ea,wc,function(){Fc()});ba=a.getModel().getReferenceCustomMap();
wc=new fa;wc.setFacadeCreator(e);var Nc=a.getModel().getExecutingTag();Nc?(ab=!v,Fc=wc.refresh(ba,Nc,v,ob,Kb,Fb,oc),v=!1):Fc=wc.prepare(ba,ob,Kb,Fb,oc)},ac=function(ba,Ea,ab,ob){u.appendOne(Ea,ab,ob)&&rc(ba)},qc=function(ba){u.removeOne(ba)&&(t.hookWaitingProgressDisplayer(function(Ea){return null}),rc())},rc=function(ba){var Ea=u.getDisplayOne();Ea?t.showWaiting(ba,Ea.getPrompt(),u.cancelAll):t.hideWaiting()},zc=function(ba){ba?t.updateState(ba):P?t.updateState(Ta.STATE_REMOTE_ERROR):t.updateState(Ta.STATE_PERFECT)},
Lc=function(){if(q&&h&&B){qc(a.getModel().getName());P=!1;zc();var ba=m.setJsonModelBook(h,function(){return b.createAdditionalFilterApi()},function(Ea){return(Ea=Za.getChartDefaultPalette(Ea))&&!Ea.isInvalid()?Ea.toJsonObject():null});h=null;n=a.protectedGetCardDescription(ba);fb();Wc(ba);b.fireCommunicationEvent(pa.KEY_OUTPUT_PARAM_REFRESHABLE)}};this.protectedGetCardDescription=function(ba){return null};var Wc=function(ba){a.getModel().clearAllParamInfo();ba=ba.getModelPages();for(var Ea=0;Ea<
ba.length;Ea++){var ab=ba[Ea],ob=ab.getModel();ab=ab.getPreferences();var Kb=ob.getBriefOutputDefinitions();if(Kb)for(var Fb=0;Fb<Kb.length;Fb++){var oc=Kb[Fb];a.getModel().appendOutputParamInfo(Ea,ob,ab,oc.getName(),oc.getDescription())}if(Kb=ob.getWarningRuleDefinitions())for(Fb=0;Fb<Kb.length;Fb++)oc=Kb[Fb],a.getModel().appendWarningRuleInfo(Ea,ob,ab,oc.getName(),oc.getDescription())}I=!0};this.checkOutputParam=function(ba){if(!I)return null;for(var Ea={},ab=a.getModel().getOutputParamsInfo(),
ob=0;ob<ab.length;ob++){var Kb=ab[ob],Fb=Kb.getName();Ea[Fb]=0===Kb.getQingModelIndex()}ab=[];for(ob=0;ob<ba.length;ob++)Fb=ba[ob],ab[ob]=Ea[Fb];return ab};this.refreshOutputParamValue=function(ba,Ea){I||Ea(null);for(var ab={},ob=0;ob<ba.length;ob++){var Kb=ba[ob];ab[Kb]=!0}ba=a.getModel().getOutputParamsInfo();var Fb={};for(ob=0;ob<ba.length;ob++){var oc=ba[ob];Kb=oc.getName();if(ab[Kb]){var Fc=oc.getQingModelIndex(),wc=Fb[Fc];wc||(wc=[],wc[0]=oc.getQingModel(),wc[1]=oc.getQingModelPreferences(),
wc[2]=[],wc[3]=!1,Fb[Fc]=wc);var Nc=wc[2];Nc.push(Kb)}}var Hc=null;for(Fc in Fb)!Hc&&(Hc={}),wc=Fb[Fc],ab=wc[0],ob=wc[1],Nc=wc[2],m.executeOutputParamValue(ab,ob,Nc,function(fd){if(fd)for(var nd=0;nd<Nc.length;nd++){var Nd=Nc[nd],je=fd[Nd],Od=new zb;Od.parseFromJson(je);Hc[Nd]=Od}wc[3]=!0;a:{for(var ke in Fb)if(!Fb[ke][3])break a;Ea(Hc)}});Hc||Ea({})};var Va=function(){if(!b.isDesigntime()){m.setBlocking(!0);var ba=a.getModel().getRefreshTiming();0<ba&&(clearTimeout(x),x=setTimeout(function(){m.setBlocking(!1);
Cb(!0)},1E3*ba))}},qb=function(ba){a.protectedCheckDesignerAccessable(ka(),function(Ea,ab){Ea?Sb(ab,b.createAdditionalFilterApi()):m.displayActionPrompt(t.getJqUi(),C.get("cardEditUnaccessable","\u60a8\u6ca1\u6709#1\u7684\u6743\u9650").replace("#1",ba))})};this.protectedCheckDesignerAccessable=function(ba,Ea){throw Error("Implement");};var Sb=function(ba,Ea){var ab=a.getModel(),ob=ab.getCardTitle(),Kb=Ec.getInstance(ab.getWidgetTypeName()).getTypeDisplayName();Kb=C.get("modifyWidget","\u7f16\u8f91\u7ec4\u4ef6-#1").replace("#1",
Kb);Kb+=ob?": "+ob:"";ab=ab.getReferenceCustomMap();a.protectedGetIntegrationMethodForShowDesigner()(Kb,!0,ab,a.getModel().getExecutingTag(),ba,Ea,function(Fb){Fb&&(b.fireEditedEvent(),h=Fb,Lc())})};this.protectedGetIntegrationMethodForShowDesigner=function(){throw Error("Override");};this.protectedAccessAdvancedAnalysis=function(ba){throw Error("Unsupported");};this.refreshDuringFullscreen=function(){t.repaintSurface();qa()};this.updateUiWhenAncestorFullscreenAllowedChanged=function(){zc()};this.protectedFullScreenChanged=
function(ba){r(ba);t.repaintSurface();qa()};this.protectedUpdateButtonStateByAncestorFullscreen=function(ba){zc()};var ka=function(){d||(d=a.protectedMergeRtEditableConfirmer(c,null));return d};this.protectedMethod.builtinVisualWidgetDoPropertyChanged=function(ba){ba==oa.KEY_CARD_TITLE?(fb(),qa()):ba==oa.KEY_CARD_SURFACE?(t.repaintSurface(),qa()):ba==oa.KEY_AFFECTED_TARGETS?qa():ba==oa.KEY_REF?(ba=[],h=ma(ba),ba[0]?Wb(!1):(q=!0,Lc())):b.fullscreenSupportedWidgetDoPropertyChanged(ba)};this.protectedMethod.getRtEditableConfirmer=
ka;this.protectedMethod.createExecutingWaitingImpl=function(){return{showWaiting:function(ba){t.showWaiting(!1,C.get("executing","\u65b9\u6848\u6267\u884c\u4e2d"),ba)},hookWaitingProgressDisplayer:function(ba){t.hookWaitingProgressDisplayer(ba)},hideWaiting:function(){t.hideWaiting()}}}}function nb(){var a=[];this.appendOne=function(b,c,d){a.push(new function(e,h,m){this.getRandomId=function(){return e};this.getPrompt=function(){return h};this.cancel=function(){return m()}}(b,c,d));return 1==a.length};
this.removeOne=function(b){for(var c=!1,d=a.length-1;0<=d;d--)a[d].getRandomId()==b&&(a.splice(d,1),0==d&&(c=!0));return c};this.getDisplayOne=function(){return 0<a.length?a[0]:null};this.cancelAll=function(){for(var b=a.length-1;0<=b;b--)a[b].cancel()}}function Ta(){Da.call(this);var a=this.protectedMethod;this.createScene=function(b){throw Error("Implement");};this.setActionListener=function(b){throw Error("Implement");};this.setFullscreenAnnouncer=function(b,c){throw Error("Implement");};this.updateState=
function(b){throw Error("Implement");};this.updateTopBar=function(b){throw Error("Implement");};this.getJqContent=function(){throw Error("Implement");};this.showWaiting=function(b,c,d){throw Error("Implement");};this.hookWaitingProgressDisplayer=function(b){throw Error("Implement");};this.hideWaiting=function(){throw Error("Implement");};this.repaintSurface=function(){throw Error("Implement");};this.protectedMethod.isFullscreenEnabled=function(){var b=a.getWidget(),c=b.isAncestorForbidFullscreen();
b=b.hasBeenFullscreen()&&b.getParent().hasBeenFullscreen();return!(c||b)}}function za(){La.call(this);ub.call(this);var a=this,b=this.protectedMethod,c,d;this.protectedDoPropertyChanged=function(h){b.builtinVisualWidgetDoPropertyChanged(h);b.filterSimilaryDoPropertyChanged(h)};this.getFilterSelectedValue=function(){if(c&&0<c.length){for(var h=[],m=0;m<c.length;m++){var B=c[m],t=new rd;t.setValue(B.value);t.setText(B.text);h.push(t)}return h}return id.createItemAll()};var e=function(h,m){void 0!==
c&&(!c&&!h||c&&h&&JSON.stringify(c)==JSON.stringify(h))||(c=h,b.fireCommunicationEvent(!0===m?pa.KEY_SELECTED_BY_MANUAL:!1===m?pa.KEY_SELECTED_BY_API:pa.KEY_SELECTED))};this.protectedAfterExecuted=function(){e(null,!1)};this.protectedGetFacadeMethodForLoadSchema=function(){return"squareLoadSchema"};this.protectedMergeRtEditableConfirmer=function(h,m){m||(m=new eb);h&&(m=m.mergeToNewInstance(h.getRtSquareEditableConfirmer()));return m};this.protectedInitScene=function(h){h.hookExecutingWaitingImpl(b.createExecutingWaitingImpl());
h.setCosmeticHandler(function(m){if(m){var B=[Za.CHART_COMMON],t=m.getCosmeticId();t&&B.push(t);B=Za.dipSome(B);m.getAttr().putCustomStyles(B);m.getAttr().setSkinName(a.getModel().getTopPage().getSkin())}return Za.dip(Za.SQUARE_EXHIBITION)});h.setPredrawListener(function(m){if(m.isSelectionSupported()){var B=a.getModel().getAffectedTargets();((B=B&&B.getItemCount()?!0:!1)&&!m.isSelectable()||!B&&m.isSelectable())&&m.setSelectable(B)}(B=a.getModel().getActiveBackgroundColor())||(B=Za.dip(Za.DSB_CARD)[Za.Key_Card_BackgroundColor]);
m.getAttr().putCustomStyle(Ma.BACKGROUND,B)});h.setSelectionListener(function(m,B,t){e(B,t)})};this.protectedGetIntegrationMethodForShowDesigner=function(){return db.showSquareDesigner};this.protectedGetCardDescription=function(h){var m=h.getModelPages()[0].getModel();d=function(){var B=m.getFilterSet().copyFiltersForSetting();return m.getFilterSet().toInsteadJson(B)};return m.getChart().getChartProperty().getDescription()};this.protectedCheckDesignerAccessable=function(h,m){var B=h.isSquareDesignerAccessable();
h=h.getSquareDesignerOperationJudger();m(B,h)};this.protectedAccessAdvancedAnalysis=function(h){var m=h.isAdvancedAnalysisAccessable();if(m){h=h.getAdvancedAnalysisOperationJudger();var B=a.getModel().getCardTitle(),t=a.getModel().getReferenceCustomMap(),r=a.getModel().getExecutingTag(),n=b.createAdditionalFilterApi(),u=d();db.squareAnalysis(B,t,r,u,h,n)}return m}}function G(){La.call(this);var a=this.protectedMethod;this.protectedDoPropertyChanged=function(b){a.builtinVisualWidgetDoPropertyChanged(b)};
this.protectedGetFacadeMethodForLoadSchema=function(){return"longerLoadSchema"};this.protectedMergeRtEditableConfirmer=function(b,c){c||(c=new cb);b&&(c=c.mergeToNewInstance(b.getRtLongerEditableConfirmer()));return c};this.protectedInitScene=function(b){b.setLongerDesignerOperationJudgerGetter(function(){return a.getRtEditableConfirmer().getLongerDesignerOperationJudger()})};this.protectedGetIntegrationMethodForShowDesigner=function(){return db.showLongerDesigner};this.protectedCheckDesignerAccessable=
function(b,c){var d=b.isLongerDesignerAccessable();b=b.getLongerDesignerOperationJudger();c(d,b)}}function xa(){pa.call(this);aa.call(this);mb.call(this);$b.call(this);Fa.call(this);var a=this,b=this.protectedMethod,c,d,e=this.destroy;this.destroy=function(){e();db.getQingReportExecutor().destroy(c.getJqContent(),a.getModel())};this.protectedCreateJqUiWithIframe=function(B){var t=!(B.isDesigntime()||B.isPreview());c=B.createWidgetCtrl(a.getModel());c.updateTopBar(a.getModel().getCardDescription());
c.setActionListener(function(r,n,u){switch(n){case va.ACTION_REFRESH:h();break;case va.ACTION_FILTER:db.getQingReportExecutor().fireEvent(Ac.EVENT_FILTER,c.getJqContent(),a.getModel());break;case jb.ACTION_FULLSCREEN:t?b.doFullscreen(c.getJqUi().parent()):b.fakeAction(r,u)}});c.setFullscreenAnnouncer(function(r){d=r},function(r){b.markFullscreen(r)});B=c.getJqUi();db.getQingReportExecutor().initUi(c.getJqContent(),a.getModel());c.updateState();return B};this.protectedRunImpl=function(B){b.isWaitingInputs()||
h()};this.protectedDoPropertyChanged=function(B){B==oa.KEY_REF?h():B==oa.KEY_CARD_TITLE?(c.updateTopBar(a.getModel().getCardDescription()),m()):B==oa.KEY_CARD_SURFACE?(c.repaintSurface(),m()):b.fullscreenSupportedWidgetDoPropertyChanged(B)};this.protectedRepaint=function(){c.repaintSurface();m()};this.payAttentionTo=function(B,t){b.isPlayAffectedMe(B,t)?(h(),B=B.getModel().getDurationMode(),B.untilAllAffectedTargetsExecuted(B.getPlayingRoundId(),a.getModel().getName(),function(){c.getJqContent().stop(!0);
c.getJqContent().fadeTo(500,.2,function(){c.getJqContent().fadeTo(500,1)})})):b.isAnotherSelectedAffectedMe(B,t)&&h()};this.refreshDuringFullscreen=function(){c.repaintSurface();m()};this.updateUiWhenAncestorFullscreenAllowedChanged=function(){c.updateState()};this.protectedFullScreenChanged=function(B){d(B);c.repaintSurface();m()};this.protectedUpdateButtonStateByAncestorFullscreen=function(B){c.updateState()};this.updateCardSurface=function(){c.repaintSurface()};var h=function(){db.getQingReportExecutor().run(c.getJqContent(),
a.getModel(),b.isDesigntime())},m=function(){db.getQingReportExecutor().resize(c.getJqContent(),a.getModel())}}function va(){Da.call(this);var a=this.protectedMethod;this.setActionListener=function(b){throw Error("Implement");};this.setFullscreenAnnouncer=function(b,c){throw Error("Implement");};this.updateState=function(){throw Error("Implement");};this.updateTopBar=function(b){throw Error("Implement");};this.getJqContent=function(){throw Error("Implement");};this.repaintSurface=function(){throw Error("Implement");
};this.protectedMethod.isFullscreenEnabled=function(){var b=a.getWidget(),c=b.isAncestorForbidFullscreen();b=b.hasBeenFullscreen()&&b.getParent().hasBeenFullscreen();return!(c||b)}}function ja(){pa.call(this);aa.call(this);mb.call(this);var a=this,b=this.protectedMethod,c,d=this.destroy;this.destroy=function(){d();var h=db.getExtReportExecutor();h&&h.destroy(c,a.getModel())};this.protectedCreateJqUiWithIframe=function(h){c=$("<div>");(h=db.getExtReportExecutor())&&h.initUi(c,a.getModel());return c};
this.protectedRunImpl=function(h){b.isWaitingInputs()||e()};this.protectedDoPropertyChanged=function(h){h==bd.KEY_MODEL?e():h==bd.KEY_TITLE&&(h=db.getExtReportExecutor())&&h.updateTitle(c,a.getModel())};this.protectedRepaint=function(){var h=db.getExtReportExecutor();h&&h.resize(c,a.getModel())};this.payAttentionTo=function(h,m){if(b.isPlayAffectedMe(h,m)){e();var B=h.getModel().getDurationMode();B.untilAllAffectedTargetsExecuted(B.getPlayingRoundId(),a.getModel().getName(),function(){c.stop(!0);
c.fadeTo(500,.2,function(){c.fadeTo(500,1)})})}b.isAnotherSelectedAffectedMe(h,m)&&e()};var e=function(){var h=db.getExtReportExecutor();h&&h.run(c,a.getModel(),b.isDesigntime())}}function ta(){pa.call(this);aa.call(this);var a=this,b=this.protectedMethod,c,d=this.destroy;this.destroy=function(){d();var h=db.getProgramableCardExecutor();h&&h.destroy(c,a.getModel())};this.protectedCreateJqUiWithIframe=function(h){c=$("<div>");(h=db.getProgramableCardExecutor())&&h.initUi(c,a.getModel());return c};
this.run=function(h){e()};this.protectedRepaint=function(){var h=db.getProgramableCardExecutor();h&&h.resize(c,a.getModel())};this.protectedDoPropertyChanged=function(h){h==oa.KEY_REF&&e()};var e=function(){var h=db.getProgramableCardExecutor();h&&h.run(c,a.getModel(),b.isDesigntime())}}function A(){pa.call(this);aa.call(this);var a=this,b=this.protectedMethod,c,d=this.destroy;this.destroy=function(){d();var h=db.getCosmicCustomCardExecutor();h&&h.destroy(c,a.getModel())};this.protectedCreateJqUiWithIframe=
function(h){c=$("<div>");(h=db.getCosmicCustomCardExecutor())&&h.initUi(c,a.getModel());return c};this.run=function(h){e()};this.protectedRepaint=function(){var h=db.getCosmicCustomCardExecutor();h&&h.resize(c,a.getModel())};this.protectedDoPropertyChanged=function(h){h==Ic.KEY_MODEL&&e()};var e=function(){var h=db.getCosmicCustomCardExecutor();h&&h.run(c,a.getModel(),b.isDesigntime())}}function y(){pa.call(this);aa.call(this);var a=this,b=this.protectedMethod,c,d=this.destroy;this.destroy=function(){d();
var e=db.getCloudhubSubscribesExecutor();e&&e.destroy(c,a.getModel())};this.protectedCreateJqUiWithIframe=function(e){c=$("<div>");(e=db.getCloudhubSubscribesExecutor())&&e.initUi(c,a.getModel());return c};this.run=function(e){(e=db.getCloudhubSubscribesExecutor())&&e.run(c,a.getModel(),b.isDesigntime())};this.protectedRepaint=function(){var e=db.getCloudhubSubscribesExecutor();e&&e.resize(c,a.getModel())}}function L(){pa.call(this);aa.call(this);mb.call(this);var a=this,b=this.protectedMethod,c;
this.protectedCreateJqUiWithIframe=function(e){c=$("<iframe>");c.css("border","0px");b.setupDesigntimeRectangle(c);return c};this.protectedDoPropertyChanged=function(e){e==sd.KEY_URL&&d()};this.payAttentionTo=function(e,h){b.isAnotherSelectedAffectedMe(e,h)&&d()};this.protectedRunImpl=function(e){b.isWaitingInputs()||d()};var d=function(){c.attr("src","");setTimeout(function(){var e=a.getModel().getUsableUrl();c.attr("src",e)},100)}}function na(){pa.call(this);var a=this,b=this.protectedMethod,c,
d=new Xa,e,h,m=this.destroy;this.destroy=function(){m();clearTimeout(h)};this.protectedCreateJqUi=function(n){c=$("<div>");c.css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"});b.setupDesigntimeRectangle(c);return c};this.run=function(n){B();t();r()};this.protectedDoPropertyChanged=function(n){n==td.KEY_FORMAT?(t(),r()):n==oa.KEY_STYLE&&B()};this.protectedRepaint=function(){B()};var B=function(){Za.decorateLabel(c);var n=a.getModel(),u=n.getStyle(),q=u.getFontName(),x={};x["line-height"]=
n.getHeight()+"px";x["font-family"]=q?q:"";x["font-size"]=u.getFontSize()+"px";x["text-align"]=u.getAlign();(n=u.getColor())&&(x.color=n);c.css(x)},t=function(){var n=a.getModel().getFormatString();d.setFormatString(n);e=1E3*(0>n.indexOf("s")?10:1)},r=function(){clearTimeout(h);var n=d.format(new Date);c.text(n);h=setTimeout(r,e)}}function H(){pa.call(this);mb.call(this);ub.call(this);X.call(this);var a=this,b=this.protectedMethod,c,d,e=!1,h;this.protectedCreateJqUi=function(I){I=new Lb;I.bindWidget(a.getModel());
c=I.getJqUi();c.css({"text-align":"center",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"});b.setupDesigntimeRectangle(c);return c};this.protectedDoPropertyChanged=function(I){I==Pc.KEY_CONTENT?P(function(){m()}):(I==oa.KEY_STYLE||I==Pc.KEY_WALKING)&&m()};this.protectedRepaint=function(){m()};this.payAttentionTo=function(I,da){b.isPlayAffectedMe(I,da)?(e=!0,I=I.getModel().getDurationMode(),I.untilAllAffectedTargetsExecuted(I.getPlayingRoundId(),a.getModel().getName(),function(){e=
!1;m()})):b.isAnotherSelectedAffectedMe(I,da)?m():b.isOutputParamWatched(I,da)&&b.refreshOutputParamValueByAnotherWidget(da,I,function(){m()},function(){m()})};this.getFilterSelectedValue=function(){return d};this.protectedRunImpl=function(I){P(function(){m()})};var m=function(){if(!e){Za.decorateLabel(c);var I=a.getModel(),da=I.getStyle(),ma=da.getFontName(),qa={};qa["line-height"]=I.getHeight()+"px";qa["font-family"]=ma?ma:"";qa["font-size"]=da.getFontSize()+"px";qa["text-align"]=da.getAlign();
(da=da.getColor())&&(qa.color=da);c.css(qa);c.empty();c.attr("title","");qa=$("<span>");t(qa);qa.appendTo(c);h&&clearInterval(h);da=I.getWalkingSpeed();I.setRuntimeWalkable(0<da);0<da&&(qa.css("position","absolute"),B(qa,da))}},B=function(I,da){var ma=c.prop("clientWidth");h=setInterval(function(){b.isDead()&&clearInterval(h);a.getModel().isRuntimeWalkable()&&c.is(":visible")&&"hidden"!=c.css("visibility")&&(I.css("left",ma),ma--,0>ma+I.prop("offsetWidth")&&(ma=c.prop("clientWidth")))},da)},t=function(I){var da=
[],ma=x(function(qa){da=qa});(ma=r(ma,da,function(qa,fb,sb){qa&&n(qa).appendTo(I);u(fb,sb).appendTo(I)}))&&n(ma).appendTo(I)},r=function(I,da,ma){var qa={},fb=a.getModel().getPredefinedTextFragments();if(fb)for(var sb=0;sb<fb.getFragmentCount();sb++){var Cb=fb.getFragment(sb),Bb=Cb.getName();qa[Bb]=Cb}for(sb=0;sb<da.length;sb++)if(Bb=da[sb][2],Cb=qa[Bb])if(fb=Cb.getDisplay(),Cb=Cb.getAffectedTargets(),Bb&&fb&&Cb){fb=v(Oc.parseRef(fb),fb);Bb="${"+Bb+"}$";var Wb=I.indexOf(Bb);if(0<=Wb){var ac=I.substring(0,
Wb);I=I.substring(Wb+Bb.length);ma(ac,fb,Cb)}}return I},n=function(I){var da=$("<span>");da.text(I);return da},u=function(I,da){var ma=$("<span>");ma.text(I);ma.css("cursor","pointer");ma.on("click",function(qa){d=new rd;d.setValue(I);d.setText(I);q(da);a.getModel().setAffectedTargets(da);b.fireCommunicationEvent(pa.KEY_SELECTED_BY_MANUAL)});ma.on("mouseenter",function(qa){ma.css("text-decoration","underline")});ma.on("mouseleave",function(qa){ma.css("text-decoration","")});return ma},q=function(I){for(var da=
0;da<I.getItemCount();da++){var ma=I.getItem(da);if(ma.getType()==oa.AffectedType_Hotlink){var qa=ma.getUrl(),fb=Oc.parseRef(qa);qa=v(fb,qa);var sb="";fb=r(qa,fb,function(Cb,Bb,Wb){sb+=Cb;sb+=Bb});sb+=fb;ma.setUsableUrl(sb)}}},x=function(I){var da=a.getModel().getContent();if(da){var ma=Oc.parseRef(da);da=v(ma,da);I(ma);return da}return b.isDesigntime()?C.get("labelHasNoText","(\u672a\u8bbe\u7f6e)"):""},v=function(I,da){for(var ma=b.createParamValueSearcherApi(),qa=I.length-1;0<=qa;qa--){var fb=I[qa],
sb=fb[0],Cb=fb[1],Bb=fb[2];fb=fb[3];if(0==Bb.indexOf("#"))Bb=Bb.substring(1),Bb=ma?ma.searchDisplayText(Bb):void 0;else if(0<Bb.indexOf("#")){Bb=Bb.split("#");var Wb=null;Bb=b.lookupOutputParamValue(Bb[0],Bb[1],function(ac){Wb=" (Widget '#1' not exist) ".replace("#1",ac)},function(ac,qc){var rc=a.getModel().getTopPage().searchWidgetByName(ac);ac=rc?rc.getDisplayName():ac;Wb=" (Param '#1' not found) ".replace("#1",ac+"#"+qc)},function(ac,qc,rc,zc){Wb="***";ac=(rc=a.getModel().getTopPage().searchWidgetByName(ac))?
rc.getDisplayName():ac;c.attr("title",ac+"#"+qc+" error: "+zc)});Wb&&(Bb=Wb)}else continue;void 0===Bb&&(Bb=fb);da=da.substring(0,sb)+Bb+da.substring(Cb);I.splice(qa,1)}return da},P=function(I){b.registWatchingTargetStart();a.getModel().parseOutputParam(function(da,ma){b.registWatchingTarget(da,ma)});b.registWatchingTargetEnd(I)}}function S(){pa.call(this);mb.call(this);ub.call(this);X.call(this);var a=this,b=this.protectedMethod,c,d,e,h=!1;this.protectedCreateJqUi=function(q){d=new ca;c=$("<div>");
c.append(d.getJqUi());E.layoutCtrlWithLRTB(d.getJqUi(),0,0,null,0,0,null);b.setupDesigntimeRectangle(c);return c};this.protectedDoPropertyChanged=function(q){q==jd.KEY_CONTENT&&u(function(){m()})};this.protectedRepaint=function(){m()};this.payAttentionTo=function(q,x){b.isPlayAffectedMe(q,x)?(h=!0,q=q.getModel().getDurationMode(),q.untilAllAffectedTargetsExecuted(q.getPlayingRoundId(),a.getModel().getName(),function(){h=!1;m()})):b.isAnotherSelectedAffectedMe(q,x)?m():b.isOutputParamWatched(q,x)&&
b.refreshOutputParamValueByAnotherWidget(x,q,function(){m()},function(){m()})};this.getFilterSelectedValue=function(){return e};this.protectedRunImpl=function(q){u(function(){m()})};var m=function(){if(!h){var q=a.getModel().getContent().clone();B(q);d.setDefaultColor(Za.dip(Za.DSB_LABEL)[Za.Key_Label_Color]);d.setModel(q);d.refresh()}},B=function(q){var x=q.getAllText();x=Oc.parseRef(x);n(x,function(v,P,I){q.replaceVar(v,P,I)});r(x,function(v,P,I){var da=q.getAllText().indexOf(v);q.replaceVar(da,
da+v.length,P).hookUiCustomDecorator(function(ma){ma.css("cursor","pointer");ma.on("click",function(qa){e=new rd;e.setValue(P);e.setText(P);t(I);a.getModel().setAffectedTargets(I);b.fireCommunicationEvent(pa.KEY_SELECTED_BY_MANUAL)});ma.on("mouseenter",function(qa){ma.css("text-decoration","underline")});ma.on("mouseleave",function(qa){ma.css("text-decoration","")})})})},t=function(q){for(var x=0;x<q.getItemCount();x++){var v=q.getItem(x);if(v.getType()==oa.AffectedType_Hotlink){var P=v.getUrl(),
I=Oc.parseRef(P),da=P;n(I,function(ma,qa,fb){da=da.substring(0,ma)+fb+da.substring(qa)});r(I,function(ma,qa,fb){fb=da.indexOf(ma);ma=fb+ma.length;da=da.substring(0,fb)+qa+da.substring(ma)});v.setUsableUrl(da)}}},r=function(q,x){var v={},P=a.getModel().getPredefinedTextFragments();if(P)for(var I=0;I<P.getFragmentCount();I++){var da=P.getFragment(I),ma=da.getName();v[ma]=da}for(I=0;I<q.length;I++)if(ma=q[I][2],da=v[ma]){var qa=da.getDisplay();P=da.getAffectedTargets();ma&&qa&&P&&(n(Oc.parseRef(qa),
function(fb,sb,Cb){qa=qa.substring(0,fb)+Cb+qa.substring(sb)}),x("${"+ma+"}$",qa,P))}},n=function(q,x){for(var v=b.createParamValueSearcherApi(),P=q.length-1;0<=P;P--){var I=q[P],da=I[0],ma=I[1],qa=I[2];I=I[3];if(0==qa.indexOf("#"))qa=qa.substring(1),qa=v?v.searchDisplayText(qa):void 0;else if(0<qa.indexOf("#")){qa=qa.split("#");var fb=null;qa=b.lookupOutputParamValue(qa[0],qa[1],function(sb){fb=" (Widget '#1' not exist) ".replace("#1",sb)},function(sb,Cb){var Bb=a.getModel().getTopPage().searchWidgetByName(sb);
sb=Bb?Bb.getDisplayName():sb;fb=" (Param '#1' not found) ".replace("#1",sb+"#"+Cb)},function(sb,Cb,Bb,Wb){fb="***";sb=(Bb=a.getModel().getTopPage().searchWidgetByName(sb))?Bb.getDisplayName():sb;c.attr("title",sb+"#"+Cb+" error: "+Wb)});fb&&(qa=fb)}else continue;void 0===qa&&(qa=I);x(da,ma,qa);q.splice(P,1)}},u=function(q){b.registWatchingTargetStart();a.getModel().parseOutputParam(function(x,v){b.registWatchingTarget(x,v)});b.registWatchingTargetEnd(q)}}function V(){pa.call(this);Qa.call(this);var a=
this,b=this.protectedMethod,c;this.protectedCreateJqUiImpl=function(d){c=d.createWidgetCtrl(a.getModel());c.setValueChangedListener(function(){b.fireCommunicationEvent(pa.KEY_SELECTED_BY_MANUAL)});return c.getJqUi()};this.protectedDoPropertyChanged=function(d){d==oa.KEY_FILTER_FRONT_LABEL||d==oa.KEY_FILTER_FRONT_LABEL_POSITION||d==oa.KEY_FILTER_FRONT_LABEL_LENGTH?c.updateFrontLabel():d==oa.KEY_FONT_SIZE_ENHANCED?c.updateSurface():b.discreteItemFilterDoPropertyChanged(d)};this.protectedRepaint=function(){c.updateFrontLabel()};
this.protectedGetFilterSelectedValue=function(){return c.getSelectedItem()};this.protectedUpdateCtrlModel=function(d){c.setSelectableItems(d)};this.protectedUpdateSelectedValue=function(d){d=d&&0<d.length?d[0]:(d=b.getSelectableItems())&&0<d.length?d[0]:null;c.setSelectedItem(d)}}function ua(){pa.call(this);Qa.call(this);var a=this,b=this.protectedMethod,c;this.protectedCreateJqUiImpl=function(d){c=new vb;c.bindWidget(a.getModel());c.setValueChangedListener(function(){b.fireCommunicationEvent(pa.KEY_SELECTED_BY_MANUAL)});
return c.getJqUi()};this.protectedDoPropertyChanged=function(d){d==ic.KEY_LAYOUT_MODE||d==ic.KEY_ITEMS_PER_ROW||d==ic.KEY_CHARS_PER_ITEM?c.relayout():d==ic.KEY_SIZE_MODE&&a.getModel().getLayoutMode()==ic.LAYOUT_MODE_WRAP?c.relayout():b.discreteItemFilterDoPropertyChanged(d)};this.protectedRepaint=function(){c.requestRepaint()};this.protectedGetFilterSelectedValue=function(){return c.getSelectedItems().slice(0)};this.protectedUpdateCtrlModel=function(d){c.setSelectableItems(d)};this.protectedUpdateSelectedValue=
function(d){d||(d=(d=b.getSelectableItems())&&0<d.length?[d[0]]:[]);c.setSelectedItems(d)}}function M(){Da.call(this);this.setSelectableItems=function(a){throw Error("Implement");};this.setSelectedItems=function(a){throw Error("Implement");};this.getSelectedItems=function(){throw Error("Implement");};this.setValueChangedListener=function(a){throw Error("Implement");};this.requestRepaint=function(){throw Error("Implement");};this.relayout=function(){throw Error("Implement");}}function ia(){pa.call(this);
Qa.call(this);var a=this,b=this.protectedMethod,c;this.protectedCreateJqUiImpl=function(d){c=d.createWidgetCtrl(a.getModel());c.setValueChangedListener(function(){b.fireCommunicationEvent(pa.KEY_SELECTED_BY_MANUAL)});return c.getJqUi()};this.protectedDoPropertyChanged=function(d){d==oa.KEY_FILTER_FRONT_LABEL||d==oa.KEY_FILTER_FRONT_LABEL_POSITION||d==oa.KEY_FILTER_FRONT_LABEL_LENGTH?c.updateFrontLabel():d==oa.KEY_FONT_SIZE_ENHANCED?c.updateSurface():b.discreteItemFilterDoPropertyChanged(d)};this.protectedRepaint=
function(){c.updateFrontLabel()};this.protectedGetFilterSelectedValue=function(){var d=c.getSelectedItems();return d?d.slice(0):id.createItemAll()};this.protectedUpdateCtrlModel=function(d){c.setSelectableItems(d)};this.protectedUpdateSelectedValue=function(d){d||(d=a.getModel().isMultiSelectable()?null:(d=b.getSelectableItems())&&0<d.length?[d[0]]:[]);c.setSelectedItems(d)}}function la(){pa.call(this);ub.call(this);var a=this,b=this.protectedMethod,c,d;this.reparseRelativeDate=function(){d(null,
m)};this.protectedCreateJqUi=function(B){c=B.createWidgetCtrl(a.getModel());c.setValueChangedListener(function(){b.fireCommunicationEvent(pa.KEY_SELECTED_BY_MANUAL)});return c.getJqUi()};this.run=function(B){if(a.getModel().getRelativeModel()){var t=null;d=function(r,n){var u=a.getModel().getRelativeModel(),q=a.protectedGetDatePart(),x=B(function(v){var P=v.fromDate;v=v.toDate;a.getModel().updateDate(P,v);r&&r();P="["+P+","+v+"]";t!=P&&(t=P,n&&n())});x.setShowBlocking(!1);x.parseRelativePeriod(u,
q)};d(m)}else m()};this.protectedGetDatePart=function(){return null};this.protectedDoPropertyChanged=function(B){B==Ad.KEY_DATE_INITIAL?m():B==oa.KEY_FILTER_FRONT_LABEL||B==oa.KEY_FILTER_FRONT_LABEL_POSITION||B==oa.KEY_FILTER_FRONT_LABEL_LENGTH?c.updateFrontLabel():B==oa.KEY_FONT_SIZE_ENHANCED?c.updateSurface():b.filterSimilaryDoPropertyChanged(B)};this.protectedRepaint=function(){c.updateFrontLabel()};this.getFilterSelectedValue=function(){var B=c.getFromDateMs(),t=c.getToDateMs(),r=a.getModel().isContainNull();
r=new Pd(B,t,r);B=e(B);t=e(t);var n=a.protectedConfirmSingleParamValue(B,t);r.setParamValue(n,B,t);return r};this.protectedConfirmSingleParamValue=function(B,t){return null};var e=function(B){return xb.getFullYear(B)+h(xb.getMonth(B)+1)+h(xb.getDate(B))},h=function(B){return(9<B?"":"0")+B},m=function(){c.setDateMs([a.getModel().getFromDate(),a.getModel().getToDate()]);b.fireCommunicationEvent(pa.KEY_SELECTED_BY_API)}}function Ga(){la.call(this)}function gb(){la.call(this);this.protectedGetDatePart=
function(){return"y"};this.protectedConfirmSingleParamValue=function(a,b){return a.substring(0,4)}}function wa(){la.call(this);this.protectedGetDatePart=function(){return"q"};this.protectedConfirmSingleParamValue=function(a,b){b=a.substring(0,4);a=a.substring(4,6);a=Math.ceil(parseInt(a)/3);return b+a}}function Ob(){la.call(this);this.protectedGetDatePart=function(){return"m"};this.protectedConfirmSingleParamValue=function(a,b){return a.substring(0,6)}}function Rb(){la.call(this);this.protectedGetDatePart=
function(){return"d"};this.protectedConfirmSingleParamValue=function(a,b){return a}}function ec(){ya.call(this);$b.call(this);Fa.call(this);var a=this,b=this.protectedMethod,c,d;this.protectedCreateJqUi=function(h){var m=!(h.isDesigntime()||h.isPreview());c=h.createWidgetCtrl(a.getModel());c.updateTopBar(a.getModel().getCardDescription());c.setActionListener(function(B,t,r){t==jb.ACTION_FULLSCREEN&&(m?b.doFullscreen(c.getJqUi()):b.fakeAction(B,r))});c.setFullscreenAnnouncer(function(B){d=B},function(B){b.markFullscreen(B);
B&&e()});h=c.getJqUi();c.updateState();return h};this.protectedRepaint=function(){c.repaintSurface()};this.getJqPhysicalContainer=function(){return c.getJqContent()};this.protectedDoPropertyChanged=function(h){h==oa.KEY_CARD_TITLE?c.updateTopBar(a.getModel().getCardDescription()):h==oa.KEY_CARD_SURFACE?c.repaintSurface():h==Yc.KEY_FULLSCREEN_ALLOWED?a.getModel().traversalMeAndDescendents(function(m){m.isInstanceOf(oa.WidgetSuperType_FullscreenSupported)&&b.getCtxApi().getWidgetUiObject(m).updateUiWhenAncestorFullscreenAllowedChanged()}):
b.fullscreenSupportedWidgetDoPropertyChanged(h)};this.updateCardSurface=function(){c.repaintSurface()};this.refreshDuringFullscreen=function(){c.repaintSurface();setTimeout(e,0)};this.updateUiWhenAncestorFullscreenAllowedChanged=function(){c.updateState()};this.protectedFullScreenChanged=function(h){d(h);c.repaintSurface();h&&setTimeout(e,100)};this.protectedUpdateButtonStateByAncestorFullscreen=function(h){c.updateState()};var e=function(){var h={};a.getModel().traversalMeAndDescendents(function(t){if(t.isContainer()&&
!t.isInstanceOf(oa.WidgetSuperType_CompositeContainer)){var r=new rb;r.setDesigningSize(t.getClientWidth(),t.getClientHeight());h[t.getName()]=r;for(var n=0;n<t.getWidgetCount();n++){var u=t.getWidget(n);r.appendBlock(u.getName(),u.getX(),u.getY(),u.getWidth(),u.getHeight(),u.isWidthLocked(),u.isHeightLocked())}}});var m=c.getJqUi().prop("offsetWidth"),B=c.getJqUi().prop("offsetHeight");m=a.getModel().getClientWidth(m);B=a.getModel().getClientHeight(B);a.getModel().traversalMeAndDescendents(function(t){var r=
h[t.getName()];if(r){t!=a.getModel()&&(m=t.getClientWidth(),B=t.getClientHeight());r.transformTo(m,B);for(var n=0;n<t.getWidgetCount();n++){var u=t.getWidget(n),q=r.searchBlockRect(u.getName());q&&u.setRectangle(q[0],q[1],q[2],q[3])}}})}}function fc(){ya.call(this);$b.call(this);mb.call(this);var a=this,b=this.protectedMethod,c,d=0,e;this.protectedHookWidget=function(n){n.addChildrenChangedListener(B)};this.protectedUnhookWidget=function(n){n.removeChildrenChangedListener(B)};this.protectedCreateJqUi=
function(n){c=new ra;c.bindWidget(a.getModel());n=c.getJqUi();b.setupDesigntimeRectangle(c.getJqContent());return n};this.payAttentionTo=function(n,u){if(b.isAnotherManualSelectedAffectedMe(n,u)){u=a.getModel();var q=(n=n.getModel().getAffectedTargets())?n.getTarget(u.getName()):null;if(q&&q.isSettingComplete()){n=q.getUsableParamName();var x=b.createParamValueSearcherApi();n=x?x.searchDisplayText(n):void 0;if(void 0!==n&&x.isAnyOneExceptedItemAll())if(q=q.getTabIndex(),0>q){for(q=0;q<u.getWidgetCount();q++)if(u.getWidget(q).getHeadText()==
n){h(q);return}console&&console.warn("Tab '#1' at '#2' not exist.".replace("#1",n).replace("#2",u.getDisplayName()))}else q<u.getWidgetCount()?h(q):console&&console.warn("Tab index #1 at '#2' not exist.".replace("#1",q).replace("#2",u.getDisplayName()))}}};var h=function(n){setTimeout(function(){a.getModel().switchToSubTabbed(n)},0)},m=this.updateInputParams;this.updateInputParams=function(n){var u=md.createItem(oa.AffectedType_Tab);u.setTargetWidgetName(a.getModel().getName());n=new md;n.addItem(u);
u={};n.reverse("whoCare",u);n=u[a.getModel().getName()];m(n)};this.protectedRunImpl=function(n){if(b.isDesigntime()){n=a.getModel();for(var u=0;u<n.getWidgetCount();u++){var q=n.getWidget(u),x=q.getDurationMode();x.getType()==dd.TYPE_ByData&&(x.setRuntimeData([id.createItemAll()]),q=b.getCtxApi().getWidgetUiObject(q),b.fireCommunicationEvent(pa.KEY_PLAY,q))}}else if(a.getModel().isTopLevelSlideshow()){var v=function(){var I=a.getModel().isAllDescendentSlideshowRuntimePrepared();I&&void 0===e&&(e=
!1,t());return I};if(!v()){var P=function(){setTimeout(function(){!v()&&P()},1E3)};P()}}};this.protectedRepaint=function(){c.updateHeadUi(!1)};this.getJqPhysicalContainer=function(){return c.getJqContent()};this.protectedDoPropertyChanged=function(n){n!=sc.KEY_TABBED_SELECTED&&n!=gd.KEY_HEAD_TEXT&&n!=sc.KEY_HEAD_POSITION&&n!=sc.KEY_HEAD_PATTERN&&n!=oa.KEY_FONT_SIZE_ENHANCED||c.updateHeadUi(!0)};this.updateCardSurface=function(){c.updateHeadUi(!0)};var B=function(n,u,q){n==oa.KEY_MOVE_CHILD&&a.getModel()==
u&&c.updateHeadUi(!0)},t=function(){var n=a.getModel();if(!0!==e&&!b.isDead()&&0!=n.getWidgetCount()){var u=n.getWidget(d);u.getDurationMode().playStart(function(){var q=!0===e;if(!q){var x=a.getModel().searchVisibleSubTabbedIndex();d!=x&&n.switchToSubTabbed(d);r(n.getWidget(x),!0,function(v){v.isSlideshowPlaying()&&(v.slideshowPause(!0),v.resetSlideshowStatus())});r(n.getWidget(d),!1,function(v){!v.isSlideshowPlaying()&&v.slideshowPause(!1)})}return q},function(q){!0!==e&&(q&&(d++,d>=n.getWidgetCount()&&
(d=0)),setTimeout(t,0))})&&(u=b.getCtxApi().getWidgetUiObject(u),b.fireCommunicationEvent(pa.KEY_PLAY,u))}};this.resetSlideshowStatus=function(){d=0;var n=a.getModel();n.switchToSubTabbed(d);for(var u=0;u<n.getWidgetCount();u++)n.getWidget(u).getDurationMode().resetPlayingStatus()};this.isSlideshowPlaying=function(){return!1===e};this.slideshowPause=function(n){e=n?!0:!1;var u=a.getModel();if(n)for(n=0;n<u.getWidgetCount();n++)u.getWidget(n).getDurationMode().playStop();else d=u.searchVisibleSubTabbedIndex(),
t()};var r=function(n,u,q){var x=function(v){for(var P=0;P<v.getWidgetCount();P++){var I=v.getWidget(P);if(I instanceof sc&&I.isSlideshowEnabled()){var da=b.getCtxApi().getWidgetUiObject(I);q(da);if(!u)continue}I.isContainer()&&x(I)}};x(n)}}function jc(){Da.call(this);this.getJqContent=function(){throw Error("Implement");};this.updateHeadUi=function(a){throw Error("Implement");}}function xc(){ya.call(this);ub.call(this);var a=this,b=this.protectedMethod,c,d,e=!1;this.protectedCreateJqUi=function(r){c=
$("<div>");h();return c};this.getJqPhysicalContainer=function(){return c};this.run=function(r){m()&&(d=r,t());e=!0};this.protectedDoPropertyChanged=function(r){r==oa.KEY_VISIBLE&&h()};this.payAttentionTo=function(r,n){if(m()&&(n==pa.KEY_VISUAL_DATA_PREPARED_SUCCESS||n==pa.KEY_VISUAL_DATA_PREPARED_ERROR)){r=r.getModel();var u=B();u&&u.isPreparedValueRelatedToWidget(r.getName())&&(n==pa.KEY_VISUAL_DATA_PREPARED_SUCCESS?t():n==pa.KEY_VISUAL_DATA_PREPARED_ERROR&&a.getModel().getDurationMode().setRuntimeData(null))}};
this.getFilterSelectedValue=function(){return a.getModel().getDurationMode().getPlayingData()};var h=function(){var r=a.getModel().isVisible();m()&&e?(c.stop(!0,!0),r?(c.css("visibility",""),c.fadeTo(1E3,1)):c.fadeTo(500,.2,function(){c.css("visibility","hidden")})):c.css("visibility",r?"":"hidden")},m=function(){return!b.isDesigntime()&&a.getModel().getParent().isSlideshowEnabled()},B=function(){var r=a.getModel().getDurationMode();return r.getType()==dd.TYPE_ByData?r.getFilterSource():null},t=function(){var r=
a.getModel(),n=B();n&&n.isValid()&&n.isConfirmedToGetPreparedValue(r)&&n.getPreparedValuePeer(r,d,function(u){r.getDurationMode().setRuntimeData(u)})}}function lc(){pa.call(this);var a=this,b=this.protectedMethod,c,d,e,h,m;this.protectedCreateJqUi=function(q){c=$("<div>");c.css("overflow","hidden");b.setupDesigntimeRectangle(c);e=$("<img>");e.css("position","absolute");e.appendTo(c);r();return c};this.protectedDoPropertyChanged=function(q){q==oa.KEY_REF?r():q==Mb.KEY_SCALE?B():q==Mb.KEY_ALIGN&&t()};
this.protectedRepaint=function(){e&&B()};var B=function(){var q=a.getModel(),x=q.getWidth(),v=q.getHeight();if(q.getScale()==Mb.SCALE_NON)q=h,x=m;else{q=x/v;var P=h/m;P>q?(q=x,x/=P):(q=P<q?v*P:x,x=v)}e.css({height:x+"px",width:q+"px"});t()},t=function(){var q=a.getModel(),x=q.getAlign()==(Mb.HALIGN_CENTER|Mb.VALIGN_MIDDLE)?!0:!1,v=q.getHeight();q=q.getWidth();var P=e.height(),I=e.width(),da=0,ma=0;x&&(da=parseInt((v-P)/2),ma=parseInt((q-I)/2));e.css({top:da+"px",left:ma+"px"})},r=function(){d&&(e.show(),
d.remove(),c.css("background","none"));c.attr("title",null);var q=a.getModel().getReferenceCustomMap();db.getPictureLoader()(q,n,u)},n=function(q,x,v){h=x;m=v;e.attr("src",q);B()},u=function(q){e&&e.hide();c.css("background","#fff");d=$("<div>");d.addClass("dsb-widget-picture-loaderror");var x=C.get("pictureCanNotBeFind","\u627e\u4e0d\u5230\u5bf9\u5e94\u7684\u56fe\u7247"),v=$("<div>");v.text(x);var P=$("<div>");P.css("fontSize","12px");P.text(q);v.appendTo(d);P.appendTo(d);d.appendTo(c);c.attr("title",
x+"\r\n"+q)}}function Dc(){ya.call(this);var a=this,b=this.protectedMethod,c;this.protectedCreateJqUi=function(e){c=$("<div>");d();b.setupDesigntimeRectangle(c);return c};this.getJqPhysicalContainer=function(){return c};this.protectedDoPropertyChanged=function(e){e==$c.KEY_SURFACE&&d()};this.run=function(e){!b.isDesigntime()&&a.getModel().isFrozen()&&c.addClass("dsb-widget-titlebar-frozen")};var d=function(){var e;if(e=a.getModel().getSurfaceModel()){var h=e.getBackgroundColor();var m=e.getSeparaterLineWidth();
e=e.getSepataterColor()}else e=Za.dip(Za.DSB_PAGE_TITLE_BAR),h=e[Za.Key_PageTitleBar_BackgroundColor],m=e[Za.Key_PageTitleBar_SeparaterLineWidth],e=e[Za.Key_PageTitleBar_SeparaterColor];m=(m?m:0)+"px solid "+(e?e:"transparent");c.css("background-color",h?h:"");c.css({"box-sizing":"border-box","border-bottom":m})}}function nc(){var a=this,b,c,d,e;this.destroy=function(){c&&c.removePropertyChangedListener(a.protectedDoPropertyChanged);setTimeout(function(){c=b=null},2E3)};this.setGlobalDependence=function(r){b=
r};this.setWidget=function(r){c=r;c.addPropertyChangedListener(B)};this.getWidget=function(){return c};this.getJqUi=function(){d||(d=$("<div>"),d.css({"overflow-x":"hidden","overflow-y":"auto"}),e=new tc,e.setAlign(tc.ALIGN_CENTER),e.getJqUi().addClass("dsb-propertyarea-lineitem"),e.getJqUi().appendTo(d),h(),a.protectedInitUi(d));return d};var h=function(){var r=Ec.getInstance(a.getWidget().getWidgetTypeName()).getTypeDisplayName(),n=a.getWidget().getDisplayName(),u=n;r!=n&&(u=r+": "+n);e.setText(u)},
m=function(r,n){if(r.length){var u=b.getCommandManager().createCompositeAction();for(var q=0;q<r.length;q++)u.appendUnitAction(r[q])}else u=r;r=a.getWidget().getDisplayName();n=C.get("actionCaption","#1\u4fee\u6539#2").replace("#2",n).replace("#1",r);u.setCaption(n);b.getCommandManager().perform(u)},B=function(r,n){r==c&&(n==oa.KEY_DISPLAY_NAME&&h(),a.protectedDoPropertyChanged(n))};this.protectedDoPropertyChanged=function(r){throw Error("Override");};this.protectedInitUi=function(r){throw Error("Override");
};var t=function(r){return r.getUserObject().getText()};this.protectedMethod={getGlobal:function(){return b},performAction:m,createJqCap:function(){var r=$("<div>");r.addClass("dsb-propertyarea-gap");return r},createJqGroupTitle:function(r,n){var u=$("<div>");u.addClass("dsb-propertyarea-grouptitle");r=new tc(r);var q=r.getJqUi();q.addClass("dsb-propertyarea-grouptitle-label");q.appendTo(u);if(n||0==n)q.css("left",0),q.css("right",0),r.setAlign(n);return u},createJqLineItem:function(r,n){var u=new tc(r);
r=u.getJqUi();r.addClass("dsb-propertyarea-lineitem-caption");n.setUserObject(u);n=n.getJqUi();n.addClass("dsb-propertyarea-lineitem-ctrl");u=$("<div>");u.addClass("dsb-propertyarea-lineitem");u.append(r);u.append(n);return u},createTextEditor:function(r,n,u,q,x,v){var P=function(da){if(u)u(da);else{var ma=t(I),qa=new Ub;qa.setMethod(r,n);qa.setValue(da);m(qa,ma)}},I=new Xb;I.addActionListener(function(da){da=a.getWidget().getDisplayName();var ma=t(I),qa=I.getModel(),fb=new Bd;fb.setCaption(da,ma);
fb.setEmptyEnabled(q);fb.setMaxLength(x);fb.setClosingChecker(v);fb.setText(qa,function(sb,Cb){sb&&P(Cb)});fb.showDialogLeftAnchorTo(I.getUserObject().getJqUi())});q&&(I.setClearable(!0),I.addClearListener(function(da){P("")}));return I},createTextAreaEditor:function(r,n){var u=function(x){var v=t(q),P=new Ub;P.setMethod(r,n);P.setValue(x);m(P,v)},q=new Xb;q.addActionListener(function(x){x=a.getWidget().getDisplayName();var v=t(q),P=q.getModel(),I=new Qd;I.setSize(640,480);I.setTitle(x,v);I.showDialog(P,
function(da,ma){da&&u(ma)})});q.setClearable(!0);q.addClearListener(function(x){u("")});return q},updateEditorEnabled:function(r,n){r.setEnabled(n);r.getUserObject().setEnabled(n)},updateEditorVisible:function(r,n){r.getJqUi().parent().css("display",n?"":"none")},getEditorCaption:t,createSpinerHandlerWrapper:function(r){var n;return function(u,q,x,v){v==kc.CHANGED_BY_MANUAL_ADJUST?(clearTimeout(n),n=setTimeout(function(){r(u,q,x)},625)):v==kc.CHANGED_BY_MANUAL_EDIT&&r(u,q,x)}}}}function pc(){nc.call(this);
this.protectedInitUi=function(a){};this.protectedDoPropertyChanged=function(a){}}function ib(){var a=this,b=this.protectedMethod,c,d,e,h=function(x){var v=db.getWidgetSourceSelector(),P=a.getWidget().getBackgroundPicture(),I=P?P.getReferenceCustomMap():null;v.selectPicture(I,function(da){if(da){var ma=b.getEditorCaption(x),qa=new Mb;qa.setReferenceCustomMap(da);qa.setScale(P?P.getScale():Mb.SCALE_FULL);qa.setAlign(P?P.getAlign():Mb.HALIGN_LEFT|Mb.VALIGN_TOP);r(qa,ma)}})},m=function(x){x=b.getEditorCaption(x);
r(null,x)},B=function(x,v,P){x=b.getEditorCaption(x);v=a.getWidget().getBackgroundPicture();var I=new Mb;I.setReferenceCustomMap(v.getReferenceCustomMap());I.setScale(P);I.setAlign(v.getAlign());r(I,x)},t=function(x,v,P){x=b.getEditorCaption(x);v=a.getWidget().getBackgroundPicture();var I=new Mb;I.setReferenceCustomMap(v.getReferenceCustomMap());I.setScale(v.getScale());I.setAlign(P);r(I,x)},r=function(x,v){var P=a.getWidget(),I=new Ub;I.setMethod(P.getBackgroundPicture,P.setBackgroundPicture);I.setValue(x);
b.performAction(I,v)},n=function(){var x=a.getWidget().getBackgroundPicture(),v=x&&x.getReferenceCustomMap()?!0:!1,P=!1;v?(c.setModel(C.get("refHasSet","\u5df2\u8bbe\u7f6e")),d.setSelected(x.getScale()),e.setSelected(x.getAlign()),P=x.isAlignNeccessary()):c.setModel("");b.updateEditorVisible(d,v);b.updateEditorVisible(e,P)},u=function(x,v,P){var I=function(ma){return(P&ma)==ma},da=I(Mb.HALIGN_LEFT)?C.get("pictureAlignLeft","\u5de6"):I(Mb.HALIGN_RIGHT)?C.get("pictureAlignRight","\u53f3"):C.get("pictureAlignCenter",
"\u4e2d");I=I(Mb.VALIGN_TOP)?C.get("pictureAlignTop","\u4e0a"):I(Mb.VALIGN_BOTTOM)?C.get("pictureAlignBottom","\u4e0b"):C.get("pictureAlignMiddle","\u4e2d");da=da+"-"+I;x||v.css({display:"inline-block",padding:0,margin:0,width:"33%",height:"30%","text-align":"center","line-height":"50px"});v.text(da)},q=function(x,v,P){switch(P){case Mb.SCALE_NON:var I=C.get("pictureScaleNon","\u539f\u59cb\u5c3a\u5bf8");break;case Mb.SCALE_ADAPTIVE:I=C.get("pictureScaleAdaptive","\u9002\u5e94");break;case Mb.SCALE_FULL:I=
C.get("pictureScaleFull","\u5145\u6ee1");break;case Mb.SCALE_TILED:I=C.get("pictureScaleTiled","\u5e73\u94fa")}v.text(I)};b.backgroundInitUi=function(x){c=new Xb;c.setClearable(!0);c.addActionListener(h);c.addClearListener(m);d=new Hb;d.setItemModels([Mb.SCALE_NON,Mb.SCALE_ADAPTIVE,Mb.SCALE_FULL,Mb.SCALE_TILED]);d.setCustomPainter(q);d.addSelectedChangedListener(B);e=new Hb;e.setItemModels([Mb.HALIGN_LEFT|Mb.VALIGN_TOP,Mb.HALIGN_CENTER|Mb.VALIGN_TOP,Mb.HALIGN_RIGHT|Mb.VALIGN_TOP,Mb.HALIGN_LEFT|Mb.VALIGN_MIDDLE,
Mb.HALIGN_CENTER|Mb.VALIGN_MIDDLE,Mb.HALIGN_RIGHT|Mb.VALIGN_MIDDLE,Mb.HALIGN_LEFT|Mb.VALIGN_BOTTOM,Mb.HALIGN_CENTER|Mb.VALIGN_BOTTOM,Mb.HALIGN_RIGHT|Mb.VALIGN_BOTTOM]);e.setCustomPainter(u);e.addSelectedChangedListener(t);var v=b.createJqGroupTitle(C.get("pageBackgroundGroupTitle","\u80cc\u666f\uff1a")),P=b.createJqLineItem(C.get("pageBackgroundPicture","\u80cc\u666f\u56fe\u7247"),c),I=b.createJqLineItem(C.get("pageBackgroundScale","\u56fe\u7247\u7f29\u653e"),d),da=b.createJqLineItem(C.get("pageBackgroundAlign",
"\u56fe\u7247\u5bf9\u9f50"),e);x.append(v);x.append(P);x.append(I);x.append(da);n()};b.backgroundDoPropertyChanged=function(x){x==oa.KEY_PAGE_BACKGROUND&&n()}}function wb(){var a=this,b=this.protectedMethod,c,d,e={},h=function(){var t=a.getWidget(),r=!0;if(t.isInstanceOf(oa.WidgetSuperType_CardSimilary)){r=t.isBareSurface();var n=t.getCardSurfaceMode()==Mc.Surface_Custom;r=!r&&n}n=!1;var u="Unified";if(t=t.getCardBorder())u=t.getType(),n=u==Gc.TYPE_MODEL||u==Gc.TYPE_IMAGE;c.setSelected(u);b.updateEditorVisible(c,
r);d.setModel(t);b.updateEditorVisible(d,r&&n)},m=function(t){var r=d.getJqUi(),n=r.children(".qing-custom-cardlook");0==n.length&&(n=$("<div>"),n.css("border","1px solid #ccc"),n.addClass("qing-custom-cardlook"),E.layoutCtrlWithLRTB(n,2,32,null,5,2,null),n.appendTo(r));t&&t.getType()==Gc.TYPE_IMAGE?(t=$(document.createDocumentFragment()),B(t,20,20,null,0,null,5,"0px 1px 1px 1px"),B(t,20,20,null,null,0,5,"1px 1px 0px 1px"),B(t,0,null,21,4,4,null,"1px 1px 1px 0px"),B(t,null,0,21,4,4,null,"1px 0px 1px 1px"),
t.appendTo(n)):n.empty();return""},B=function(t,r,n,u,q,x,v,P){var I=$("<div>");I.css({"box-sizing":"border-box",border:"1px dotted #ccc","border-width":P});I.appendTo(t);E.layoutCtrlWithLRTB(I,r,n,u,q,x,v)};b.initUiOfCardBorder=function(t,r,n){n&&(r=["Unified"].concat(r));c=new Hb;c.setItemModels(r);c.setCustomPainter(function(u,q,x){u=x==Gc.TYPE_SIMPLE?C.get("cardBorderSimple","\u7b80\u6613"):x==Gc.TYPE_MODEL?C.get("cardBorderCustom","\u81ea\u5b9a\u4e49"):x==Gc.TYPE_IMAGE?C.get("cardBorderImage",
"\u8d34\u56fe"):"Unified"==x?C.get("unifiedInPage","\u9875\u9762\u7edf\u4e00"):"";q.text(u)});c.addSelectedChangedListener(function(u,q,x){(q="Unified"==q?null:q)&&!e[q]&&(e[q]=a.getWidget().getCardBorder());u=b.getEditorCaption(u);x=(q="Unified"==x?null:x)?e[q]:null;q&&!x&&(x=Gc.createInstance(q),e[q]=x);q=new Ub;q.setMethod(a.getWidget().getCardBorder,a.getWidget().setCardBorder);q.setValue(x);b.performAction(q,u)});d=new Xb;d.setCustomPainter(m);d.addActionListener(function(u){var q=a.getWidget().isInstanceOf(oa.WidgetSuperType_CardSimilary);
u=q?a.getWidget().getDisplayName():C.get("unifiedInPage","\u9875\u9762\u7edf\u4e00");var x=a.getWidget().getCardBorder();if(x.getType()==Gc.TYPE_MODEL){var v=Za.getPageBackgroundColor();q=q?a.getWidget().getBackgroundColor():null;q||(q=a.getWidget().isOpacityRequired(),q=Za.getCardBackgroundColor(q));var P=new Rd;P.setContextStyle(v,q);P.setCardLookModel(x.getCardLook());P.show(u,function(I){var da=b.getEditorCaption(c),ma=new Ub;ma.setMethod(x.getCardLook,x.setCardLook);ma.setValue(I);b.performAction(ma,
da)})}else x.getType()==Gc.TYPE_IMAGE&&(P=new Sd,P.setImage(x.getImage(),x.getFixedEdges()),P.show(u,function(I,da){var ma=b.getEditorCaption(c),qa=new Ub;qa.setMethod(function(){return[x.getImage(),x.getFixedEdges()]},function(fb){x.setDefinition(fb[0],fb[1])});qa.setValue([I,da]);b.performAction(qa,ma)}))});t.append(b.createJqLineItem(C.get("cardBorder","\u5361\u7247\u8fb9\u6846"),c));t.append(b.createJqLineItem(C.get("cardBorderSetup","\u8fb9\u6846\u81ea\u5b9a\u4e49"),d));h()};b.cardBorderDoPropertyChanged=
function(t){t!=oa.KEY_PAGE_UNIFIED_CARD&&t!=oa.KEY_CARD_SURFACE||h()}}function Eb(){var a=this,b=this.protectedMethod,c,d=function(){var m=a.getWidget();c.setModel(m.getCardTopBarCommon());var B=!0;m.isInstanceOf(oa.WidgetSuperType_CardSimilary)&&(B=!m.isBareSurface());b.updateEditorVisible(c,B)},e=function(m){var B=b.getEditorCaption(c),t=new Ub;t.setMethod(a.getWidget().getCardTopBarCommon,a.getWidget().setCardTopBarCommon);t.setValue(m);b.performAction(t,B)},h=function(m){return a.getWidget().isInstanceOf(oa.WidgetSuperType_CardSimilary)?
m?C.get("custom","\u81ea\u5b9a\u4e49"):C.get("unifiedInPage","\u9875\u9762\u7edf\u4e00"):m?C.get("refHasSet","\u5df2\u8bbe\u7f6e"):""};b.initUiOfCardTopBarCommon=function(m){var B=a.getWidget();if(B.isInstanceOf(oa.WidgetSuperType_CardSimilary)){var t=C.get("cardIcon","\u6807\u9898\u680f\u56fe\u7247");var r=Cd}else t=C.get("cardTopBar","\u5361\u7247\u6807\u9898\u680f"),r=Td;c=new Xb;c.setClearable(!0);c.addActionListener(function(n){n=new r;n.setWidget(B);n.show(function(u){e(u)})});c.addClearListener(function(n){e(null)});
c.setCustomPainter(h);t=b.createJqLineItem(t,c);m.append(t);d()};b.cardTopBarCommonDoPropertyChanged=function(m){m!=oa.KEY_PAGE_UNIFIED_CARD&&m!=oa.KEY_CARD_TITLE&&m!=oa.KEY_CARD_SURFACE||d()}}function Yb(){function a(ka,ba,Ea){this.getWidth=function(){return ka};this.getHeight=function(){return ba};this.isMatched=function(ab,ob){return ka==ab&&ba==ob};this.toString=function(){return ka+"*"+ba+" "+Ea}}nc.call(this);ib.call(this);wb.call(this);Eb.call(this);var b=this,c=this.protectedMethod,d,e,h,
m,B,t,r,n,u,q,x,v;this.protectedInitUi=function(ka){e=new Hb;e.setItemModels(Sb());e.addSelectedChangedListener(ma);h=new kc;h.setConstraint(200,65535,10);h.addValueChangedListener(qa,!0);m=new kc;m.setConstraint(200,65535,10);m.addValueChangedListener(qa,!0);B=new tc(C.get("mobileDesiredTips","\u4ee5\u4e0a\u5c3a\u5bf8\u81ea\u52a8\u8bc6\u522b\u4e3a\u624b\u673a\u6a21\u5f0f"));B.getJqUi().css({"text-align":"right",padding:"8px"});var ba=c.createJqGroupTitle(C.get("pageSizeGroupTitle","\u8bbe\u8ba1\u65f6\u9875\u9762\u5927\u5c0f\uff1a")),
Ea=c.createJqLineItem(C.get("size","\u5c3a\u5bf8"),e),ab=c.createJqLineItem(C.get("sizeWidth","\u5bbd\u5ea6"),h),ob=c.createJqLineItem(C.get("sizeHeight","\u9ad8\u5ea6"),m);ka.append(ba);ka.append(Ea);ka.append(ab);ka.append(ob);ka.append(B.getJqUi());setTimeout(rc,0);ka.append(c.createJqCap());c.backgroundInitUi(ka);u=new uc;u.addBlurListener(Cb);u.addAcceptableListener(Bb);ba=c.createJqLineItem(C.get("pageWatermark","\u6c34\u5370"),u);ka.append(ba);c.updateEditorVisible(u,!1);Lc();ka.append(c.createJqCap());
ka.append(c.createJqCap());ka.append(P(C.get("justForDesktop","\u4ee5\u4e0b\u4ec5\u5728\u684c\u9762\u7aef\u751f\u6548")));ba=c.createJqGroupTitle(C.get("exhibitionModeGroupTitle","\u5c55\u793a\u6a21\u5f0f\uff1a"));t=new Qb;t.addSelectionChangedListener(Wb);Ea=t.createJqUi();ka.append(ba);ka.append(Ea);t.setSelection(b.getWidget().getExhibitionMode());ka.append(c.createJqCap());I(ka);ka.append(c.createJqCap());ka.append(c.createJqCap());ka.append(P(C.get("justForMobile","\u4ee5\u4e0b\u4ec5\u5728\u79fb\u52a8\u7aef\u751f\u6548")));
q=$("<div>");da(ka,q);ka.append(c.createJqCap());q.appendTo(ka);ka.append(c.createJqCap());ka.append(c.createJqCap());ka.append(c.createJqCap())};var P=function(ka){ka="--- @ ---".replace("@",ka);return c.createJqGroupTitle(ka,tc.ALIGN_CENTER)},I=function(ka){r=new Hb;r.setItemModels([oa.Skin_White,oa.Skin_DarkBlue,oa.Skin_Gold,oa.Skin_Cyan,oa.Skin_Custom]);r.setCustomPainter(function(ba,Ea,ab){ba=ab==oa.Skin_Custom?C.get("custom","\u81ea\u5b9a\u4e49"):ab==oa.Skin_Cyan?C.get("skinCyan","\u9759\u8c27\u9752"):
ab==oa.Skin_Gold?C.get("skinGold","\u571f\u8c6a\u91d1"):ab==oa.Skin_DarkBlue?C.get("skinDarkBllue","\u6df1\u9083\u84dd"):ab==oa.Skin_White?C.get("skinWhite","\u6de1\u96c5\u767d"):"";Ea.text(ba)});r.addSelectedChangedListener(fb);n=new Xb;n.setCustomPainter(qb);n.addActionListener(sb);ka.append(c.createJqGroupTitle(C.get("skinGroupTitle","\u5916\u89c2\uff1a")));ka.append(c.createJqLineItem(C.get("skin","\u5916\u89c2\u98ce\u683c"),r));ka.append(c.createJqLineItem(C.get("skinCustom","\u5916\u89c2\u81ea\u5b9a\u4e49"),
n));c.initUiOfCardBorder(ka,[Gc.TYPE_SIMPLE,Gc.TYPE_MODEL,Gc.TYPE_IMAGE]);c.initUiOfCardTopBarCommon(ka);zc()},da=function(ka,ba){var Ea=function(ab,ob,Kb,Fb){var oc=new Ab;oc.setUserObject(ab);oc.setText(ob);Fb.addElement(oc);ab=oc.getJqUi();ab.css({position:"relative",height:"23px","margin-left":"8px"});Kb.append(ab)};ka.append(c.createJqGroupTitle(C.get("mobileSkinGroupTitle","\u79fb\u52a8\u7aef\u5916\u89c2\uff1a")));v=new dc;v.addChangedListener(function(ab,ob){if(ob){ab=ab.getUserObject();ob=
C.get("mobileSkinGroupTitle","\u79fb\u52a8\u7aef\u5916\u89c2");var Kb=b.getWidget(),Fb=new Ub;Fb.setMethod(Kb.isMobileSkinActive,Kb.setMobileSkinActive);Fb.setValue(ab);c.performAction(Fb,ob)}});Ea(!1,C.get("mobileSkinUnactive","\u7cfb\u7edf\u9ed8\u8ba4"),ka,v);Ea(!0,C.get("mobileSkinActive","\u4e0e\u684c\u9762\u7aef\u76f8\u540c"),ka,v);ba.append(c.createJqGroupTitle(C.get("mobileLayoutConverterGroupTitle","\u7ec4\u4ef6\u5728\u79fb\u52a8\u7aef\u81ea\u9002\u5e94\u5e03\u5c40\uff1a")));x=new dc;x.addChangedListener(function(ab,
ob){if(ob){ab=ab.getUserObject();ob=C.get("mobileLayoutConverterGroupTitle","\u7ec4\u4ef6\u5728\u79fb\u52a8\u7aef\u81ea\u9002\u5e94\u5e03\u5c40");var Kb=b.getWidget(),Fb=new Ub;Fb.setMethod(Kb.getMobileLayoutConverter,Kb.setMobileLayoutConverter);Fb.setValue(ab);c.performAction(Fb,ob)}});Ea(oa.MobileLayoutConverter_ByPosition,C.get("mobileLayoutConverterByPosition","\u6309\u4f4d\u7f6e"),ba,x);Ea(oa.MobileLayoutConverter_InOrder,C.get("mobileLayoutConverterInOrder","\u6309\u5927\u7eb2\u4e2d\u7684\u987a\u5e8f"),
ba,x);Wc();Va()};this.protectedDoPropertyChanged=function(ka){ka==oa.KEY_PAGE_SIZE?rc():ka==oa.KEY_PAGE_EXHIBITION_MODE?t.setSelection(b.getWidget().getExhibitionMode()):ka==oa.KEY_PAGE_SKIN?zc():ka==oa.KEY_PAGE_WATERMARK?Lc():ka==oa.KEY_PAGE_MOBILE_LAYOUT_CONVERTER?Wc():ka==oa.KEY_PAGE_MOBILE_SKIN_ACTIVE?Va():(c.backgroundDoPropertyChanged(ka),c.cardBorderDoPropertyChanged(ka),c.cardTopBarCommonDoPropertyChanged(ka))};var ma=function(ka,ba,Ea){ka=c.getEditorCaption(ka);if(Ea!=a.CUSTOM){ba=Ea.getWidth();
Ea=Ea.getHeight();var ab=new Dd;ab.setValue(b.getWidget(),ba,Ea);c.performAction(ab,ka)}},qa=function(ka,ba,Ea){ka=c.getEditorCaption(ka);ba=h.getValue();Ea=m.getValue();var ab=new Dd;ab.setValue(b.getWidget(),ba,Ea);c.performAction(ab,ka)},fb=function(ka,ba,Ea){ka=c.getEditorCaption(ka);ba=Ea==oa.Skin_Custom?c.getGlobal().getDashboardModel().getCurrentCosmeticModel():null;ac(Ea,ba,ka)},sb=function(ka){ka=new Ud;ka.setCosmeticModel(c.getGlobal().getDashboardModel().getCurrentCosmeticModel().copyToEdit());
ka.show(function(ba){var Ea=c.getEditorCaption(r);ac(oa.Skin_Custom,ba,Ea)})},Cb=function(ka){qc()},Bb=function(ka,ba){ba?qc():Lc()},Wb=function(ka){var ba=C.get("exhibitionMode","\u5c55\u793a\u6a21\u5f0f"),Ea=b.getWidget(),ab=new Ub;ab.setMethod(Ea.getExhibitionMode,Ea.setExhibitionMode);ab.setValue(ka);c.performAction(ab,ba)},ac=function(ka,ba,Ea){var ab=b.getWidget(),ob=new Ub;ob.setMethod(function(){return[ab.getSkin(),ab.getCustomCosmetic()]},function(Kb){ab.setSkin(Kb[0],Kb[1])});ob.setValue([ka,
ba]);c.performAction(ob,Ea)},qc=function(){var ka=b.getWidget(),ba=$.trim(u.getText()),Ea=$.trim(ka.getWatermark());if(ba!=Ea){Ea=c.getEditorCaption(u);var ab=new Ub;ab.setMethod(ka.getWatermark,ka.setWatermark);ab.setValue(ba);c.performAction(ab,Ea)}},rc=function(){var ka=b.getWidget().getWidth(),ba=b.getWidget().getHeight();B.getJqUi().css("display",b.getWidget().isMobileDesired()?"":"none");q.css("display",b.getWidget().isMobileDesired()?"none":"");h.setValue(ka);m.setValue(ba);for(var Ea=Sb(),
ab=0;ab<Ea.length;ab++){var ob=Ea[ab];if(ob!=a.CUSTOM&&ob.isMatched(ka,ba)){e.setSelected(ob);return}}e.setSelected(a.CUSTOM)},zc=function(){var ka=b.getWidget().getSkin();ka=ka?ka:oa.Skin_White;r.setSelected(ka);ka=ka==oa.Skin_Custom;n.setModel(b.getWidget().getCustomCosmetic());c.updateEditorVisible(n,ka)},Lc=function(){u.setText(b.getWidget().getWatermark())},Wc=function(){x.toCheckTheElement(function(ka){return ka.getUserObject()==b.getWidget().getMobileLayoutConverter()})},Va=function(){v.toCheckTheElement(function(ka){return ka.getUserObject()==
b.getWidget().isMobileSkinActive()})},qb=function(ka){var ba=n.getJqUi(),Ea=ba.children(".qing-custom-cosmetic");Ea.remove();if(ka){Ea=$("<div>");Ea.addClass("qing-custom-cosmetic");Ea.css("border","1px solid #ccc");var ab=$("<div>");ab.css("background-color",ka.getItems(Za.DSB_PAGE)[0].getValue());ab.appendTo(Ea);var ob=$("<div>");ob.css("background-color",ka.getItems(Za.DSB_CARD)[0].getValue());ob.appendTo(Ea);var Kb=$("<div>");Kb.css("background-color",ka.getItems(Za.DSB_LABEL)[0].getValue());
Kb.appendTo(Ea);E.layoutCtrlWithLRTB(ab,1,null,"33%",1,1,null);E.layoutCtrlWithLRTB(ob,"33%","33%",null,1,1,null);E.layoutCtrlWithLRTB(Kb,null,1,"33%",1,1,null);E.layoutCtrlWithLRTB(Ea,0,30,null,4,1,null);Ea.appendTo(ba)}return""},Sb=function(){d||(d=[a.CUSTOM,new a(800,600,"(4:3)"),new a(1024,768,"(4:3)"),new a(1280,960,"(4:3)"),new a(1280,720,"(16:9)"),new a(1600,900,"(16:9)"),new a(1920,1080,"(16:9)"),new a(1280,800,"(16:10)"),new a(1920,1200,"(16:10)"),new a(360,640,"("+C.get("mobilePhone","\u624b\u673a")+
")")]);return d};a.CUSTOM=C.get("custom","\u81ea\u5b9a\u4e49")}function Qb(){var a=new dc;this.addSelectionChangedListener=function(c){a.addChangedListener(function(d,e){e&&c(d.getUserObject())})};this.setSelection=function(c){a.toCheckTheElement(function(d){return c==d.getUserObject()})};this.createJqUi=function(){var c=C.get("keepRatio","(\u4fdd\u6301\u6bd4\u4f8b)"),d=b(oa.ExhibitionMode_Full,C.get("exmodeFull","\u5145\u6ee1"),null,"icon_exmode_full"),e=b(oa.ExhibitionMode_Fit,C.get("exmodeFit",
"\u9002\u5e94"),c,"icon_exmode_fit"),h=b(oa.ExhibitionMode_HFull,C.get("exmodeHFull","\u6a2a\u5411\u5145\u6ee1"),c,"icon_exmode_hfull");c=b(oa.ExhibitionMode_Idle,C.get("exmodeIdle","\u4e0d\u7f29\u653e"),c,"icon_exmode_idle");var m=$("<div>");m.addClass("dsb-propertyarea-exmodearea");m.append(d);m.append(e);m.append(h);m.append(c);return m};var b=function(c,d,e,h){var m=new Ab;m.setUserObject(c);m.setText(d);a.addElement(m);c=m.getJqUi();c.addClass("dsb-propertyarea-exmodearea-item-radio");d=new tc;
e&&d.setText(e);e=d.getJqUi();e.addClass("dsb-propertyarea-exmodearea-item-text");d=$("<div>");d.addClass("dsb-propertyarea-exmodearea-item-icon");Jb.background(d,h);h=$("<div>");h.addClass("dsb-propertyarea-exmodearea-item");h.append(c);h.append(e);h.append(d);return h}}function Zb(){nc.call(this);ib.call(this);var a=this,b=this.protectedMethod,c,d,e;this.protectedInitUi=function(t){h(t);t.append(b.createJqCap());b.backgroundInitUi(t);m(t)};var h=function(t){c=new kc;c.addValueChangedListener(function(q,
x,v){q=b.getEditorCaption(q);x=c.getValue();v=new kd;v.setValue(a.getWidget(),0,0,a.getWidget().getWidth(),x);b.performAction(v,q)},!0);d=new kb;d.addCheckedListener(function(q,x){if(x){x=b.getEditorCaption(q);var v=new Ub;v.setMethod(a.getWidget().isFrozen,a.getWidget().setFrozen);v.setValue(q.isChecked());b.performAction(v,x)}});var r=b.createJqGroupTitle(C.get("positionGroupTitle","\u4f4d\u7f6e\u3001\u5927\u5c0f\uff1a")),n=b.createJqLineItem(C.get("sizeHeight","\u9ad8\u5ea6"),c),u=b.createJqLineItem(C.get("scrollingFrozen",
"\u6eda\u52a8\u65f6\u51bb\u7ed3"),d);t.append(r);t.append(n);t.append(u);t=new Sc;t.setTipsText(C.get("titleBarScrollingFrozenHelp","\u5f00\u542f\u201c\u6eda\u52a8\u65f6\u51bb\u7ed3\u201d\u65f6\uff0c\u5f53\u9875\u9762\u7eb5\u5411\u6eda\u52a8\uff0c\u6807\u9898\u680f\u603b\u662f\u56fa\u5b9a\u5728\u9875\u9762\u53ef\u89c6\u533a\u57df\u9876\u90e8\u3002\r\n\u8be5\u5c5e\u6027\u5728Chrome56+\u7b49\u6d4f\u89c8\u5668\u4e0a\u652f\u6301\uff0cIE\u7b49\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u3002"));t.getJqUi().appendTo(u);
E.layoutCtrlWithLRTB(t.getJqUi(),null,4,null,4,null,null);B();d.setChecked(a.getWidget().isFrozen())},m=function(t){e=new Xb;e.setCustomPainter(function(u){return u?C.get("custom","\u81ea\u5b9a\u4e49"):C.get("unifiedInPage","\u9875\u9762\u7edf\u4e00")});e.addActionListener(function(u){(new Vd).showDialog(a.getWidget(),function(q){var x=b.getEditorCaption(e),v=new Ub;v.setMethod(a.getWidget().getSurfaceModel,a.getWidget().setSurfaceModel);v.setValue(q);b.performAction(v,x)})});var r=b.createJqGroupTitle(C.get("skinGroupTitle",
"\u5916\u89c2\uff1a")),n=b.createJqLineItem(C.get("titleBarSurface","\u6837\u5f0f"),e);t.append(b.createJqCap());t.append(r);t.append(n);e.setModel(a.getWidget().getSurfaceModel())};this.protectedDoPropertyChanged=function(t){t==oa.KEY_RECT?B():t==$c.KEY_FROZEN?d.setChecked(a.getWidget().isFrozen()):t==$c.KEY_SURFACE?e.setModel(a.getWidget().getSurfaceModel()):b.backgroundDoPropertyChanged(t)};var B=function(){var t=a.getWidget(),r=Ec.getInstance(t.getWidgetTypeName()).getMinSize()[1],n=t.getParent().getClientHeight();
c.setConstraint(r,Math.min(200,Math.max(r,n>>1)),1);c.setValue(t.getHeight())}}function O(){nc.call(this);var a=this,b=this.protectedMethod,c,d,e,h;this.protectedInitUi=function(r){c=new kc;d=new kc;e=new kc;h=new kc;B();c.addValueChangedListener(t,!0);d.addValueChangedListener(t,!0);e.addValueChangedListener(t,!0);h.addValueChangedListener(t,!0);var n=b.createJqGroupTitle(C.get("positionGroupTitle","\u4f4d\u7f6e\u3001\u5927\u5c0f\uff1a")),u=b.createJqLineItem(C.get("positionX","X"),c),q=b.createJqLineItem(C.get("positionY",
"Y"),d),x=b.createJqLineItem(C.get("sizeWidth","\u5bbd\u5ea6"),e),v=b.createJqLineItem(C.get("sizeHeight","\u9ad8\u5ea6"),h);r.append(n);r.append(u);r.append(q);r.append(b.createJqCap());r.append(x);r.append(v);m();a.protectedInitCustomUi(r)};this.protectedInitCustomUi=function(r){};this.protectedDoPropertyChanged=function(r){r==oa.KEY_RECT?B():a.protectedDoCustomPropertyChanged(r)};this.protectedDoCustomPropertyChanged=function(r){};var m=function(){var r=a.getWidget(),n=Ec.getInstance(r.getWidgetTypeName()),
u=!r.isWidthLockedAlways(n);r=!r.isHeightLockedAlways(n);b.updateEditorEnabled(e,u);b.updateEditorEnabled(h,r)},B=function(){var r=a.getWidget(),n=r.getX(),u=r.getY(),q=r.getWidth(),x=r.getHeight(),v=r.getParent(),P=v.getClientWidth();v=v.getClientHeight();var I=Ec.getInstance(r.getWidgetTypeName());r=I.getMinSize()[0];I=I.getMinSize()[1];c.setConstraint(0,Math.max(0,P-q),1);d.setConstraint(0,Math.max(0,v-x),1);e.setConstraint(r,Math.max(r,P-n),1);h.setConstraint(I,Math.max(I,v-u),1);c.setValue(n);
d.setValue(u);e.setValue(q);h.setValue(x)},t=function(r,n,u){r=b.getEditorCaption(r);n=c.getValue();u=d.getValue();var q=e.getValue(),x=h.getValue(),v=new kd;v.setValue(a.getWidget(),n,u,q,x);b.performAction(v,r)};b.syncSizeCtrlEnabled=m}function Ia(){var a=this,b=this.protectedMethod,c,d,e,h,m=function(I,da,ma){I="left"==ma?C.get("alignLeft","\u5de6\u5bf9\u9f50"):"right"==ma?C.get("alignRight","\u53f3\u5bf9\u9f50"):C.get("alignCenter","\u5c45\u4e2d");da.text(I)},B=function(){c.setSelected(a.getWidget().getStyle().getFontName())},
t=function(){d.setValue(a.getWidget().getStyle().getFontSize())},r=function(){e.setColor(a.getWidget().getStyle().getColor())},n=function(){h.setSelected(a.getWidget().getStyle().getAlign())},u=function(I,da,ma){P(I,"setAlign",ma)},q=function(I){var da=I.getColor();P(I,"setColor",da)},x=function(I,da){P(I,"setFontName",da)},v=function(I,da,ma){da=d.getValue();P(I,"setFontSize",da)},P=function(I,da,ma){I=b.getEditorCaption(I);var qa=new Wd;qa.setContext(a.getWidget().getStyle,a.getWidget().setStyle,
da,ma);b.performAction(qa,I)};b.styleInitCustomUi=function(I){c=new Z;c.setDefaultDisplay(C.get("labelFontNameDefault","\u7cfb\u7edf\u9ed8\u8ba4"));c.setSelectionListener(x);d=new kc;d.setConstraint(6,999,1);d.addValueChangedListener(v,!0);e=new Ca;e.setColorPool(Tc.getColorPool7());e.setDisplayForNull(C.get("unifiedInPage","\u9875\u9762\u7edf\u4e00"));e.setColorSelectedListener(q);h=new Hb;h.setItemModels(["left","center","right"]);h.setCustomPainter(m);h.addSelectedChangedListener(u);var da=b.createJqGroupTitle(C.get("labelSurfaceGroupTitle",
"\u5916\u89c2\uff1a")),ma=b.createJqLineItem(C.get("labelFontName","\u5b57\u4f53"),c),qa=b.createJqLineItem(C.get("labelFontSize","\u5b57\u53f7"),d),fb=b.createJqLineItem(C.get("labelColor","\u989c\u8272"),e),sb=b.createJqLineItem(C.get("labelTextAlign","\u5bf9\u9f50"),h);I.append(b.createJqCap());I.append(da);I.append(ma);I.append(qa);I.append(fb);I.append(sb);B();t();r();n()};b.styleDoCustomPropertyChanged=function(I){I==oa.KEY_STYLE&&(B(),t(),r(),n())}}function tb(){var a=this,b=this.protectedMethod,
c,d,e=function(n){var u=oa.AffectedType_BindField|oa.AffectedType_Param;return n?r(n,u):""},h=function(n){var u=a.protectedGetAffectedTargetSupportedTypes();(new Ed).showDialog(b.getGlobal(),a.getWidget(),function(q){q=u[q.getWidgetTypeName()];return 0<=q?q:-1},function(q){if(null!==q){var x=b.getEditorCaption(n);m(q,x)}})};this.protectedGetAffectedTargetSupportedTypes=function(){throw Error("Implement");};var m=function(n,u){var q=new Ub;q.setMethod(a.getWidget().getAffectedTargets,a.getWidget().setAffectedTargets);
q.setValue(n);b.performAction(q,u)},B=function(n){var u=oa.AffectedType_Tab;return n?r(n,u):""},t=function(n){(new Xd).showDialog(a.getWidget(),function(u){if(null!==u){var q=b.getEditorCaption(n);m(u,q)}})},r=function(n,u){return tb.affectedTargetsToShortDisplay(b.getGlobal().getDashboardModel(),n,u)};this.protectedMethod.filterSimilaryPropertyChanged=function(n){n==oa.KEY_AFFECTED_TARGETS&&(c&&c.setModel(a.getWidget().getAffectedTargets()),d&&d.setModel(a.getWidget().getAffectedTargets()))};this.protectedMethod.createAffectedTargetEditorItem=
function(){c=new Xb;c.addActionListener(h);c.setCustomPainter(e);c&&c.setModel(a.getWidget().getAffectedTargets());return b.createJqLineItem(C.get("affectedTarget","\u4f5c\u7528\u4e8e"),c)};this.protectedMethod.createTabSwitchEditorItem=function(){d=new Xb;d.addActionListener(t);d.setCustomPainter(B);d&&d.setModel(a.getWidget().getAffectedTargets());return b.createJqLineItem(C.get("tabSwitch","\u9875\u7b7e\u5207\u6362"),d)}}function bc(){var a=this,b=this.protectedMethod,c,d,e,h=function(u){return u?
u.toShortDisplay(b.getGlobal().getDashboardModel()):""},m=function(u){var q=a.getWidget();(new qd).showDialog(b.getGlobal(),q,function(x,v,P){if(x){x=[];var I=!1,da={},ma={};v.toJsonObject(da);q.getFilterSource().toJsonObject(ma);JSON.stringify(da)!=JSON.stringify(ma)&&(I=new Ub,I.setMethod(q.getFilterSource,q.setFilterSource),I.setValue(v),x.push(I),I=!0);q.isIncludeItemAllSupported()&&P!=q.isIncludedItemAll()&&(v=new Ub,v.setMethod(q.isIncludedItemAll,q.setIncludedItemAll),v.setValue(P),x.push(v));
I&&(P=new Ub,P.setMethod(q.getDefaultSelected,q.setDefaultSelected),q.isMultiSelectable()?P.setValue(hd.createInstance(hd.TYPE_ByAppointed)):P.setValue(hd.createInstance(hd.TYPE_ByIndex)),x.push(P));0<x.length&&(P=b.getEditorCaption(u),b.performAction(x,P))}})},B=function(u,q,x){u=!0===x?C.get("multiSelectableYes","\u591a\u9009"):!1===x?C.get("multiSelectableNo","\u5355\u9009"):"";q.text(u)},t=function(u,q,x){var v=new Ub;v.setMethod(a.getWidget().isMultiSelectable,a.getWidget().setMultiSelectable);
v.setValue(x);q=[v];x=!x;v=(v=a.getWidget().getDefaultSelected())?v.isSingleSelectableFitting():!1;x&&!v&&(v=new Ub,v.setMethod(a.getWidget().getDefaultSelected,a.getWidget().setDefaultSelected),v.setValue(hd.createInstance(hd.TYPE_ByIndex)),q.push(v));u=b.getEditorCaption(u);b.performAction(q,u)},r=function(u){return u?u.toShortDisplay():""},n=function(u){var q=a.getWidget();(new Yd).showDialog(b.getGlobal(),q,function(x){if(x){var v=new Ub;v.setMethod(q.getDefaultSelected,q.setDefaultSelected);
v.setValue(x);x=b.getEditorCaption(u);b.performAction(v,x)}})};this.protectedMethod.discreteItemFilterPropertyChanged=function(u){u==oa.KEY_FILTER_SOURCE?c.setModel(a.getWidget().getFilterSource()):u==oa.KEY_DISCRETE_MULTISELECTABLE?d&&d.setSelected(a.getWidget().isMultiSelectable()):u==oa.KEY_FILTER_DEFAULT_SELECTED&&e&&e.setModel(a.getWidget().getDefaultSelected())};this.protectedMethod.createSourceEditorItem=function(){c=new Xb;c.addActionListener(m);c.setCustomPainter(h);c.setModel(a.getWidget().getFilterSource());
return b.createJqLineItem(C.get("filterPreparedValue","\u5907\u9009\u503c"),c)};this.protectedMethod.getAffectedTargetSupportedTypes=function(){var u={};u[oa.WidgetType_Square]=0;u[oa.WidgetType_Longer]=1;u[oa.WidgetType_QingReport]=2;u[oa.WidgetType_ExtReport]=3;u[oa.WidgetType_Iframe]=4;u[oa.WidgetType_Combobox]=5;u[oa.WidgetType_ButtonGroup]=6;u[oa.WidgetType_F7]=7;u[oa.WidgetType_Label]=8;u[oa.WidgetType_Rich]=9;return u};this.protectedMethod.createMultiSelectableEditorItem=function(){d=new Hb;
d.setItemModels([!1,!0]);d.setCustomPainter(B);d.addSelectedChangedListener(t);d&&d.setSelected(a.getWidget().isMultiSelectable());return b.createJqLineItem(C.get("multiSelectable","\u9009\u9879\u6a21\u5f0f"),d)};this.protectedMethod.createDefaultSelectedEditorItem=function(){e=new Xb;e.addActionListener(n);e.setCustomPainter(r);e&&e.setModel(a.getWidget().getDefaultSelected());return b.createJqLineItem(C.get("defaultSelected","\u9ed8\u8ba4\u9009\u4e2d\u9879"),e)}}function Pb(){var a=this,b=this.protectedMethod,
c;this.protectedMethod.fontSizeEnhancedPropertyChanged=function(d){d==oa.KEY_FONT_SIZE_ENHANCED&&c&&c.setSelected(a.getWidget().getFontSizeEnhanced())};this.protectedMethod.createFontSizeEnhancedEditorItem=function(){c=new Hb;c.setItemModels([0,1,2,3,4,5]);c.setCustomPainter(function(d,e,h){e.text(h||0===h?100+10*h+"%":"")});c.addSelectedChangedListener(function(d,e,h){e=new Ub;e.setMethod(a.getWidget().getFontSizeEnhanced,a.getWidget().setFontSizeEnhanced);e.setValue(h);d=b.getEditorCaption(d);b.performAction(e,
d)});c&&c.setSelected(a.getWidget().getFontSizeEnhanced());return b.createJqLineItem(C.get("fontSizeScaling","\u6587\u5b57\u7f29\u653e"),c)};this.protectedMethod.updateFontSizeEditorVisible=function(d){b.updateEditorVisible(c,d)}}function yc(){var a=this,b=this.protectedMethod,c,d,e,h=function(){if(c){var v=a.getWidget().getFrontLabel();c.setModel(v?v:"")}},m=function(){if(d){var v=a.getWidget().getFrontLabelPosition();d.setSelected(v)}},B=function(){if(e){var v=a.getWidget().getFrontLabelLength();
e.setValue(v?v:0)}},t=function(){if(e){var v="left"==a.getWidget().getFrontLabelPosition();b.updateEditorVisible(e,v)}},r=function(v,P,I){v=b.getEditorCaption(v);P=new Ub;P.setMethod(a.getWidget().getFrontLabelPosition,a.getWidget().setFrontLabelPosition);P.setValue(I);var da=$.trim(a.getWidget().getFrontLabel());q(da,I,P,v)||b.performAction(P,v)},n=function(v,P,I){v=b.getEditorCaption(v);P=e.getValue();I=new Ub;I.setMethod(a.getWidget().getFrontLabelLength,a.getWidget().setFrontLabelLength);I.setValue(P);
b.performAction(I,v)},u=function(v){var P=b.getEditorCaption(c),I=new Ub;I.setMethod(a.getWidget().getFrontLabel,a.getWidget().setFrontLabel);I.setValue(v);var da=$.trim(a.getWidget().getFrontLabelPosition());q(v,da,I,P)||b.performAction(I,P)},q=function(v,P,I,da){var ma=a.getWidget(),qa=Ec.getInstance(ma.getWidgetTypeName());return ma.isHeightLockedAlways(qa)?(v=qa.getSuggestSize()[1]+(v&&"left"!=P?25:0),P=new kd,P.setValue(ma,ma.getX(),ma.getY(),ma.getWidth(),v),b.performAction([P,I],da),!0):!1},
x=function(v,P,I){v="left"==I?C.get("frontLabelPositionLeft","\u5de6\u4fa7"):C.get("frontLabelPositionTop","\u4e0a\u65b9");P.text(v)};this.protectedMethod.withLabelCtrlPropertyChanged=function(v){v==oa.KEY_FILTER_FRONT_LABEL?h():v==oa.KEY_FILTER_FRONT_LABEL_POSITION?(m(),t()):v==oa.KEY_FILTER_FRONT_LABEL_LENGTH&&B()};this.protectedMethod.createFrontLabelEditorItem=function(){c=b.createTextEditor(null,null,u,!0,40);h();return b.createJqLineItem(C.get("frontLabelText","\u6807\u7b7e\u6587\u5b57"),c)};
this.protectedMethod.createFrontLabelPositionEditorItem=function(){void 0===a.getWidget().getFrontLabelPosition()&&a.getWidget().setFrontLabelPosition("top");d=new Hb;d.setItemModels(["left","top"]);d.setCustomPainter(x);d.addSelectedChangedListener(r);m();return b.createJqLineItem(C.get("frontLabelPosition","\u6807\u7b7e\u4f4d\u7f6e"),d)};this.protectedMethod.createFrontLabelLengthEditorItem=function(){void 0===a.getWidget().getFrontLabelLength()&&a.getWidget().setFrontLabelLength(72);e=new kc;e.setConstraint(0,
9999,1);e.addValueChangedListener(n,!0);var v=b.createJqLineItem(C.get("frontLabelLength","\u6807\u7b7e\u5bbd\u5ea6"),e);B();t();return v}}function vc(){var a=this,b=this.protectedMethod,c,d,e=function(){0<a.getWidget().getRefreshTiming()?c.setChecked(!0):c.setChecked(!1)},h=function(){var n=a.getWidget().getRefreshTiming();0<n?(d.setValue(n),b.updateEditorEnabled(d,!0)):(d.setValue(0),b.updateEditorEnabled(d,!1))},m=600,B=function(n,u){u&&(n.isChecked()?u=m:(m=d.getValue(),u=-1),n=b.getEditorCaption(n),
r(u,n))},t=function(n,u,q){n=b.getEditorCaption(n);u=d.getValue();r(u,n)},r=function(n,u){var q=new Ub;q.setMethod(a.getWidget().getRefreshTiming,a.getWidget().setRefreshTiming);q.setValue(n);b.performAction(q,u)};this.protectedMethod.autoRefreshablePropertyChanged=function(n){n==oa.KEY_REFRESH_TIMING&&(e(),h())};this.protectedMethod.createRefreshTimingSwitchEditorItem=function(){c=new kb;c.addCheckedListener(B);var n=b.createJqLineItem(C.get("timingSwitch","\u542f\u7528"),c);e();return n};this.protectedMethod.createRefreshTimingValueEditorItem=
function(){d=new kc;d.setConstraint(10,999999,1);d.addValueChangedListener(t,!0);var n=b.createJqLineItem(C.get("timingValue","\u95f4\u9694(\u79d2)"),d);h();return n}}function hc(){wb.call(this);Eb.call(this);var a=this,b=this.protectedMethod,c,d,e,h,m,B=function(){var n=a.getWidget(),u=n.isBareSurface(),q=n.isBareSurfacePassively(),x=n.getCardSurfaceMode();c.setSelected(q?Mc.Surface_Bare:x);c.getJqUi().parent().attr("title",q?C.get("cardSurfaceModeNonePrompt","\u7ec4\u4ef6\u5728\u5361\u7247\u5bb9\u5668\u4e2d\uff0c\u672c\u8eab\u6ca1\u6709\u5361\u7247\u5916\u89c2\u3002"):
null);b.updateEditorEnabled(c,!q);q=x==Mc.Surface_Custom;u=!u&&q;x=!1;q=n.getBackgroundColor();u&&(n=n.getUsableCardBorder(),x=!(n&&n.getType()==Gc.TYPE_IMAGE),!x&&(q="rgba(255,255,255,0)"));d.setNullableColor(q);b.updateEditorVisible(d,u);b.updateEditorEnabled(d,x)},t=function(){var n=a.getWidget(),u=n.isBareSurface(),q=n.getCardTitle(),x=q?!0:!1;e.setModel(x?q:"");b.updateEditorVisible(e,!u);q=n.getTitleFontName()||n.getTitleFontSize()||n.getTitleColor()?!0:!1;h.setModel(q?!0:null);b.updateEditorVisible(h,
!u&&x);m.setModel(n.getCardDescription())},r=function(n,u,q,x){var v=a.getWidget();n=b.getEditorCaption(n);var P=new Ub;P.setMethod(function(){var I=v.getTitleFontName(),da=v.getTitleFontSize(),ma=v.getTitleColor();return[I,da,ma]},function(I){v.setTitleStyle(I[0],I[1],I[2])});P.setValue([u,q,x]);b.performAction(P,n)};b.cardSimilaryPropertyChanged=function(n){n==oa.KEY_CARD_TITLE?t():n==oa.KEY_CARD_SURFACE&&(B(),t());b.cardBorderDoPropertyChanged(n);b.cardTopBarCommonDoPropertyChanged(n)};b.initCardTopBarEditorItems=
function(n){var u=a.getWidget();e=b.createTextEditor(u.getCardTitle,u.setCardTitle,null,!0,40);h=new Xb;h.setClearable(!0);h.addActionListener(function(I){var da=new Zd;da.setWidget(u);da.show(function(ma,qa,fb){r(I,ma,qa,fb)})});h.addClearListener(function(I){r(I,null,null,null)});h.setCustomPainter(function(I){return I?C.get("custom","\u81ea\u5b9a\u4e49"):C.get("unifiedInPage","\u9875\u9762\u7edf\u4e00")});m=b.createTextAreaEditor(u.getCardDescription,u.setCardDescription);var q=b.createJqGroupTitle(C.get("cardGroupTitle",
"\u5361\u7247\u6807\u9898\u680f\uff1a")),x=b.createJqLineItem(C.get("cardTitle","\u6807\u9898\u6587\u5b57"),e),v=b.createJqLineItem(C.get("cardTitleStyle","\u6807\u9898\u6837\u5f0f"),h),P=b.createJqLineItem(C.get("cardDescription","\u5361\u7247\u8bf4\u660e"),m);n.append(b.createJqCap());n.append(q);n.append(x);n.append(v);b.initUiOfCardTopBarCommon(n);n.append(P);t()};b.initCardSurfaceEditorItems=function(n){c=new Hb;c.setItemModels([Mc.Surface_Unified,Mc.Surface_Bare,Mc.Surface_Custom]);c.setCustomPainter(function(v,
P,I){v=I==Mc.Surface_Unified?C.get("unifiedInPage","\u9875\u9762\u7edf\u4e00"):I==Mc.Surface_Bare?C.get("cardSurfaceModeNone","\u65e0"):I==Mc.Surface_Custom?C.get("custom","\u81ea\u5b9a\u4e49"):"";P.text(v)});c.addSelectedChangedListener(function(v,P,I){v=b.getEditorCaption(v);P=new Ub;P.setMethod(a.getWidget().getCardSurfaceMode,a.getWidget().setCardSurfaceMode);P.setValue(I);b.performAction(P,v)});d=new Db;d.setColorPool(Tc.getColorPool7());d.setDisplayForNull(C.get("unifiedInPage","\u9875\u9762\u7edf\u4e00"));
d.setChangedListener(function(v){var P=b.getEditorCaption(v),I=new Ub;I.setMethod(a.getWidget().getBackgroundColor,a.getWidget().setBackgroundColor);I.setValue(v.getNullableColor());b.performAction(I,P)});var u=b.createJqGroupTitle(C.get("cardSurfaceGroupTitle","\u5361\u7247\u5916\u89c2\uff1a")),q=b.createJqLineItem(C.get("cardSurfaceMode","\u6574\u4f53\u5916\u89c2"),c),x=b.createJqLineItem(C.get("cardSurfaceBackground","\u5361\u7247\u80cc\u666f"),d);n.append(b.createJqCap());n.append(u);n.append(q);
n.append(x);b.initUiOfCardBorder(n,[Gc.TYPE_MODEL,Gc.TYPE_IMAGE],!0);B()}}function Bc(){var a=this,b=this.protectedMethod,c,d=function(e){e=a.protectedGetSourceSelector();var h=a.protectedGetShowDesignerMethod(),m=new ha;m.bindIntegrationImpl(e,h);m.reselecting(b.getGlobal(),a.getWidget(),function(B){if(B){var t=b.getEditorCaption(c),r=new Ub;r.setMethod(a.getWidget().getReferenceCustomMap,a.getWidget().setReferenceCustomMap);r.setValue(B);b.performAction(r,t)}})};this.protectedGetSourceSelector=
function(){throw Error("Override");};this.protectedGetShowDesignerMethod=function(){throw Error("Override");};this.protectedMethod.createReferenceEditorItem=function(e){c=new Xb;c.setModel(C.get("refHasSet","\u5df2\u8bbe\u7f6e"));c.addActionListener(d);return b.createJqLineItem(e,c)}}function Jc(){var a=this,b=this.protectedMethod,c,d=function(e){a.protectedGetSourceSelector()(a.getWidget().getReferenceCustomMap(),function(h){if(h){var m=b.getEditorCaption(c),B=new Ub;B.setMethod(a.getWidget().getReferenceCustomMap,
a.getWidget().setReferenceCustomMap);B.setValue(h);b.performAction(B,m)}})};this.protectedGetSourceSelector=function(){throw Error("Override");};this.protectedMethod.createReferenceEditorItem=function(e){c=new Xb;c.setModel(C.get("refHasSet","\u5df2\u8bbe\u7f6e"));c.addActionListener(d);return b.createJqLineItem(e,c)}}function Kc(){var a=this,b=this.protectedMethod,c,d=function(e){a.protectedGetSourceSelector()(a.getWidget().getEncodedModel(),function(h){if(h){var m=b.getEditorCaption(c),B=new Ub;
B.setMethod(a.getWidget().getEncodedModel,a.getWidget().setEncodedModel);B.setValue(h);b.performAction(B,m)}})};this.protectedGetSourceSelector=function(){throw Error("Override");};this.protectedMethod.createReferenceEditorItem=function(e){c=new Xb;c.setModel(C.get("refHasSet","\u5df2\u8bbe\u7f6e"));c.addActionListener(d);return b.createJqLineItem(e,c)}}function k(){O.call(this);Bc.call(this);hc.call(this);vc.call(this);tb.call(this);var a=this.protectedMethod;this.protectedGetSourceSelector=function(){return db.getWidgetSourceSelector().selectSquare};
this.protectedGetShowDesignerMethod=function(){return db.showSquareDesigner};this.protectedInitCustomUi=function(b){var c=a.createJqGroupTitle(C.get("refGroupTitle","\u5f15\u7528\uff1a")),d=a.createReferenceEditorItem(C.get("refDataSource","\u6570\u636e\u6765\u6e90"));b.append(a.createJqCap());b.append(c);b.append(d);a.initCardSurfaceEditorItems(b);a.initCardTopBarEditorItems(b);c=a.createJqGroupTitle(C.get("cardGroupRefreshTitle","\u5b9a\u65f6\u5237\u65b0\uff1a"));d=a.createRefreshTimingSwitchEditorItem();
var e=a.createRefreshTimingValueEditorItem();b.append(a.createJqCap());b.append(c);b.append(d);b.append(e);c=a.createJqGroupTitle(C.get("affectingGroupTitle","\u8054\u52a8\uff1a"));d=a.createAffectedTargetEditorItem();e=a.createTabSwitchEditorItem();b.append(a.createJqCap());b.append(c);b.append(d);b.append(e)};this.protectedDoCustomPropertyChanged=function(b){a.cardSimilaryPropertyChanged(b);a.autoRefreshablePropertyChanged(b);a.filterSimilaryPropertyChanged(b)};this.protectedGetAffectedTargetSupportedTypes=
function(){var b={};b[oa.WidgetType_Square]=0;b[oa.WidgetType_Longer]=1;b[oa.WidgetType_QingReport]=2;b[oa.WidgetType_ExtReport]=3;b[oa.WidgetType_Iframe]=4;b[oa.WidgetType_Label]=5;b[oa.WidgetType_Rich]=6;return b}}function f(){O.call(this);Bc.call(this);hc.call(this);vc.call(this);var a=this.protectedMethod;this.protectedGetSourceSelector=function(){return db.getWidgetSourceSelector().selectLonger};this.protectedGetShowDesignerMethod=function(){return db.showLongerDesigner};this.protectedInitCustomUi=
function(b){var c=a.createJqGroupTitle(C.get("refGroupTitle","\u5f15\u7528\uff1a")),d=a.createReferenceEditorItem(C.get("refDataSource","\u6570\u636e\u6765\u6e90"));b.append(a.createJqCap());b.append(c);b.append(d);a.initCardSurfaceEditorItems(b);a.initCardTopBarEditorItems(b);c=a.createJqGroupTitle(C.get("cardGroupRefreshTitle","\u5b9a\u65f6\u5237\u65b0\uff1a"));d=a.createRefreshTimingSwitchEditorItem();var e=a.createRefreshTimingValueEditorItem();b.append(a.createJqCap());b.append(c);b.append(d);
b.append(e)};this.protectedDoCustomPropertyChanged=function(b){a.cardSimilaryPropertyChanged(b);a.autoRefreshablePropertyChanged(b)}}function l(){O.call(this);Jc.call(this);hc.call(this);vc.call(this);var a=this.protectedMethod;this.protectedGetSourceSelector=function(){return db.getWidgetSourceSelector().selectQingReport};this.protectedInitCustomUi=function(b){var c=a.createJqGroupTitle(C.get("refGroupTitle","\u5f15\u7528\uff1a")),d=a.createReferenceEditorItem(C.get("refSource","\u6765\u6e90"));
b.append(a.createJqCap());b.append(c);b.append(d);a.initCardSurfaceEditorItems(b);a.initCardTopBarEditorItems(b);c=a.createJqGroupTitle(C.get("cardGroupRefreshTitle","\u5b9a\u65f6\u5237\u65b0\uff1a"));d=a.createRefreshTimingSwitchEditorItem();var e=a.createRefreshTimingValueEditorItem();b.append(a.createJqCap());b.append(c);b.append(d);b.append(e)};this.protectedDoCustomPropertyChanged=function(b){a.cardSimilaryPropertyChanged(b);a.autoRefreshablePropertyChanged(b)}}function p(){O.call(this);Kc.call(this);
vc.call(this);var a=this,b=this.protectedMethod,c;this.protectedGetSourceSelector=function(){return db.getExtReportSourceSelector()};this.protectedInitCustomUi=function(d){var e=b.createJqGroupTitle(C.get("refGroupTitle","\u5f15\u7528\uff1a")),h=b.createReferenceEditorItem(C.get("refSource","\u6765\u6e90"));d.append(b.createJqCap());d.append(e);d.append(h);c=b.createTextEditor(a.getWidget().getTitle,a.getWidget().setTitle,null,!0,40);e=b.createJqGroupTitle(C.get("cardGroupTitle","\u6807\u9898\u680f\uff1a"));
h=b.createJqLineItem(C.get("cardTitle","\u6807\u9898"),c);d.append(b.createJqCap());d.append(e);d.append(h);c.setModel(a.getWidget().getTitle());e=b.createJqGroupTitle(C.get("cardGroupRefreshTitle","\u5b9a\u65f6\u5237\u65b0\uff1a"));h=b.createRefreshTimingSwitchEditorItem();var m=b.createRefreshTimingValueEditorItem();d.append(b.createJqCap());d.append(e);d.append(h);d.append(m)};this.protectedDoCustomPropertyChanged=function(d){d==bd.KEY_TITLE?c.setModel(a.getWidget().getTitle()):b.autoRefreshablePropertyChanged(d)}}
function w(){O.call(this);Jc.call(this);vc.call(this);var a=this.protectedMethod;this.protectedGetSourceSelector=function(){return db.getWidgetSourceSelector().selectProgramableCard};this.protectedInitCustomUi=function(b){var c=a.createJqGroupTitle(C.get("refGroupTitle","\u5f15\u7528\uff1a")),d=a.createReferenceEditorItem(C.get("refSource","\u6765\u6e90"));b.append(a.createJqCap());b.append(c);b.append(d);c=a.createJqGroupTitle(C.get("cardGroupRefreshTitle","\u5b9a\u65f6\u5237\u65b0\uff1a"));d=a.createRefreshTimingSwitchEditorItem();
var e=a.createRefreshTimingValueEditorItem();b.append(a.createJqCap());b.append(c);b.append(d);b.append(e)};this.protectedDoCustomPropertyChanged=function(b){a.autoRefreshablePropertyChanged(b)}}function z(){O.call(this);Kc.call(this);var a=this.protectedMethod;this.protectedGetSourceSelector=function(){return db.getCosmicCustomCardSourceSelector()};this.protectedInitCustomUi=function(b){var c=a.createJqGroupTitle(C.get("refGroupTitle","\u5f15\u7528\uff1a")),d=a.createReferenceEditorItem(C.get("refSource",
"\u6765\u6e90"));b.append(a.createJqCap());b.append(c);b.append(d)}}function D(){O.call(this)}function K(){O.call(this);var a=this,b=this.protectedMethod,c;this.protectedInitCustomUi=function(e){c=new Xb;c.addActionListener(d);var h=b.createJqGroupTitle(C.get("iframeGroupTitle","\u7f51\u9875\uff1a")),m=b.createJqLineItem(C.get("iframeUrl","\u7f51\u9875\u5730\u5740"),c);e.append(b.createJqCap());e.append(h);e.append(m);c.setModel(a.getWidget().getUrl())};this.protectedDoCustomPropertyChanged=function(e){e==
sd.KEY_URL&&c.setModel(a.getWidget().getUrl())};var d=function(e){(new Fd).showDialog(a.getWidget().getUrl(),function(h,m){if(h){h=b.getEditorCaption(e);var B=new Ub;B.setMethod(a.getWidget().getUrl,a.getWidget().setUrl);B.setValue(m);b.performAction(B,h)}})}}function R(){O.call(this);Ia.call(this);var a=this,b=this.protectedMethod,c;this.protectedInitCustomUi=function(e){c=new Xb;c.addActionListener(d);var h=b.createJqGroupTitle(C.get("clockContentGroupTitle","\u5185\u5bb9\uff1a")),m=b.createJqLineItem(C.get("clockFormatString",
"\u663e\u793a\u683c\u5f0f"),c);e.append(b.createJqCap());e.append(h);e.append(m);c.setModel(a.getWidget().getFormatString());b.styleInitCustomUi(e)};this.protectedDoCustomPropertyChanged=function(e){e==td.KEY_FORMAT?c.setModel(a.getWidget().getFormatString()):b.styleDoCustomPropertyChanged(e)};var d=function(e){var h=b.getEditorCaption(c);(new $d).showDialog(c.getModel(),function(m,B){m&&(m=new Ub,m.setMethod(a.getWidget().getFormatString,a.getWidget().setFormatString),m.setValue(B),b.performAction(m,
h))})}}function W(){O.call(this);Ia.call(this);var a=this,b=this.protectedMethod,c,d;this.protectedInitCustomUi=function(m){c=new Xb;c.addActionListener(e);var B=b.createJqGroupTitle(C.get("labelContentGroupTitle","\u5185\u5bb9\uff1a")),t=b.createJqLineItem(C.get("labelContent","\u663e\u793a\u6587\u5b57"),c);m.append(b.createJqCap());m.append(B);m.append(t);c.setModel(a.getWidget().getContent());b.styleInitCustomUi(m);d=new kb;d.addCheckedListener(h);B=b.createJqGroupTitle(C.get("labelWalkingGroupTitle",
"\u8d70\u9a6c\u706f\uff1a"));t=b.createJqLineItem(C.get("labelWalking","\u542f\u7528"),d);m.append(b.createJqCap());m.append(B);m.append(t);d.setChecked(0<a.getWidget().getWalkingSpeed())};this.protectedDoCustomPropertyChanged=function(m){m==Pc.KEY_CONTENT?c.setModel(a.getWidget().getContent()):m==Pc.KEY_WALKING?d.setChecked(0<a.getWidget().getWalkingSpeed()):b.styleDoCustomPropertyChanged(m)};var e=function(m){var B=a.getWidget();(new Gd).show(B,B.getTopPage(),function(t,r,n,u){if(n||t){var q=B.getPredefinedTextFragments(),
x=B.getContent();if(t){q=r;var v=C.get("labelPredefined","\u94fe\u63a5\u7684\u5b9a\u4e49")}n&&(x=u,v=b.getEditorCaption(c));t=new Ub;t.setMethod(function(){return[B.getPredefinedTextFragments(),B.getContent()]},function(P){B.setContent(P[0],P[1])});t.setValue([q,x]);b.performAction(t,v)}})},h=function(m,B){if(B){var t=a.getWidget();B=b.getEditorCaption(m);var r=new Ub;r.setMethod(function(){return 0<t.getWalkingSpeed()},function(n){t.setWalkingSpeed(n?50:0)});r.setValue(m.isChecked());b.performAction(r,
B)}}}function sa(){O.call(this);var a=this,b=this.protectedMethod,c;this.protectedInitCustomUi=function(h){c=new Xb;c.addActionListener(d);c.setCustomPainter(e);var m=b.createJqGroupTitle(C.get("labelContentGroupTitle","\u5185\u5bb9\uff1a")),B=b.createJqLineItem(C.get("labelContent","\u663e\u793a\u6587\u5b57"),c);h.append(b.createJqCap());h.append(m);h.append(B);c.setModel(a.getWidget().getContent())};this.protectedDoCustomPropertyChanged=function(h){h==jd.KEY_CONTENT&&c.setModel(a.getWidget().getContent())};
var d=function(h){var m=a.getWidget();(new Hd).show(m,m.getTopPage(),function(B,t,r,n){if(r||B){var u=m.getPredefinedTextFragments(),q=m.getContent();if(B){u=t;var x=C.get("labelPredefined","\u94fe\u63a5\u7684\u5b9a\u4e49")}r&&(q=n,x=b.getEditorCaption(c));B=new Ub;B.setMethod(function(){return[m.getPredefinedTextFragments(),m.getContent()]},function(v){m.setContent(v[0],v[1])});B.setValue([u,q]);b.performAction(B,x)}})},e=function(h){return h?h.getAllText():""}}function Ba(){O.call(this);bc.call(this);
tb.call(this);yc.call(this);Pb.call(this);var a=this.protectedMethod;this.protectedInitCustomUi=function(b){var c=a.createJqGroupTitle(C.get("filterDataGroupTitle","\u6570\u636e\uff1a")),d=a.createSourceEditorItem(),e=a.createDefaultSelectedEditorItem();b.append(a.createJqCap());b.append(c);b.append(d);b.append(e);c=a.createJqGroupTitle(C.get("affectingGroupTitle","\u8054\u52a8\uff1a"));d=a.createAffectedTargetEditorItem();e=a.createTabSwitchEditorItem();b.append(a.createJqCap());b.append(c);b.append(d);
b.append(e);c=a.createJqGroupTitle(C.get("frontLabelGroupTitle","\u6807\u7b7e\uff1a"));d=a.createFrontLabelEditorItem();e=a.createFrontLabelPositionEditorItem();var h=a.createFrontLabelLengthEditorItem();b.append(a.createJqCap());b.append(c);b.append(d);b.append(e);b.append(h);c=a.createJqGroupTitle(C.get("surfaceGroupTitle","\u5916\u89c2\uff1a"));d=a.createFontSizeEnhancedEditorItem();b.append(a.createJqCap());b.append(c);b.append(d)};this.protectedGetAffectedTargetSupportedTypes=function(){return a.getAffectedTargetSupportedTypes()};
this.protectedDoCustomPropertyChanged=function(b){a.discreteItemFilterPropertyChanged(b);a.filterSimilaryPropertyChanged(b);a.withLabelCtrlPropertyChanged(b);a.fontSizeEnhancedPropertyChanged(b)}}function Ua(){O.call(this);bc.call(this);tb.call(this);var a=this,b=this.protectedMethod,c,d,e,h;this.protectedInitCustomUi=function(q){var x=b.createJqGroupTitle(C.get("filterDataGroupTitle","\u6570\u636e\uff1a")),v=b.createSourceEditorItem(),P=b.createDefaultSelectedEditorItem();q.append(b.createJqCap());
q.append(x);q.append(v);q.append(P);x=b.createJqGroupTitle(C.get("affectingGroupTitle","\u8054\u52a8\uff1a"));v=b.createAffectedTargetEditorItem();P=b.createTabSwitchEditorItem();q.append(b.createJqCap());q.append(x);q.append(v);q.append(P);x=b.createJqGroupTitle(C.get("btnsGroupTitle","\u5916\u89c2\uff1a"));v=t();P=B();var I=m(),da=r();q.append(b.createJqCap());q.append(x);q.append(I);q.append(v);q.append(P);q.append(da)};this.protectedGetAffectedTargetSupportedTypes=function(){return b.getAffectedTargetSupportedTypes()};
this.protectedDoCustomPropertyChanged=function(q){q==ic.KEY_LAYOUT_MODE?(u(),b.syncSizeCtrlEnabled()):q==ic.KEY_CHARS_PER_ITEM?d&&d.setValue(a.getWidget().getCharsPerItemWhenWrap()):q==ic.KEY_ITEMS_PER_ROW?e&&e.setValue(a.getWidget().getItemsPerRowWhenWrap()):q==ic.KEY_SIZE_MODE&&h&&h.setSelected(a.getWidget().getSizeMode());b.discreteItemFilterPropertyChanged(q);b.filterSimilaryPropertyChanged(q)};var m=function(){c=new Hb;c.setItemModels([ic.LAYOUT_MODE_HORIZONTAL,ic.LAYOUT_MODE_WRAP]);c.setCustomPainter(function(q,
x,v){q=v==ic.LAYOUT_MODE_HORIZONTAL?C.get("btnsLayoutModeH","\u5355\u884c"):v==ic.LAYOUT_MODE_WRAP?C.get("btnsLayoutModeW","\u591a\u884c"):"";x.text(q)});c.addSelectedChangedListener(function(q,x,v){q=b.getEditorCaption(q);x=new Ub;x.setMethod(a.getWidget().getLayoutMode,a.getWidget().setLayoutMode);x.setValue(v);var P=new Ub;P.setMethod(a.getWidget().isHeightLocked,a.getWidget().setHeightLocked);P.setValue(v==ic.LAYOUT_MODE_HORIZONTAL);n(q,[x,P],v,null)});u();return b.createJqLineItem(C.get("btnsLayoutMode",
"\u6309\u94ae\u5e03\u5c40"),c)},B=function(){d=new kc;d.setConstraint(1,100,1);d.addValueChangedListener(function(q,x,v){q=b.getEditorCaption(q);x=new Ub;x.setMethod(a.getWidget().getCharsPerItemWhenWrap,a.getWidget().setCharsPerItemWhenWrap);x.setValue(v);b.performAction(x,q)},!0);d&&d.setValue(a.getWidget().getCharsPerItemWhenWrap());return b.createJqLineItem(C.get("btnsPerItem","\u6bcf\u4e2a\u6700\u5c11\u5b57\u6570"),d)},t=function(){e=new kc;e.setConstraint(1,20,1);e.addValueChangedListener(function(q,
x,v){q=b.getEditorCaption(q);x=new Ub;x.setMethod(a.getWidget().getItemsPerRowWhenWrap,a.getWidget().setItemsPerRowWhenWrap);x.setValue(v);b.performAction(x,q)},!0);e&&e.setValue(a.getWidget().getItemsPerRowWhenWrap());return b.createJqLineItem(C.get("btnsPerRow","\u6bcf\u884c\u6700\u591a\u4e2a\u6570"),e)},r=function(){h=new Hb;h.setItemModels([ic.SIZE_MODE_LARGE,ic.SIZE_MODE_MIDDLE,ic.SIZE_MODE_SMALL]);h.setCustomPainter(function(q,x,v){q=v==ic.SIZE_MODE_LARGE?C.get("btnsSizeModeLarge","\u5927"):
v==ic.SIZE_MODE_MIDDLE?C.get("btnsSizeModeMiddle","\u4e2d"):v==ic.SIZE_MODE_SMALL?C.get("btnsSizeModeSmall","\u5c0f"):"";x.text(q)});h.addSelectedChangedListener(function(q,x,v){q=b.getEditorCaption(q);x=new Ub;x.setMethod(a.getWidget().getSizeMode,a.getWidget().setSizeMode);x.setValue(v);n(q,[x],null,v)});h&&h.setSelected(a.getWidget().getSizeMode());return b.createJqLineItem(C.get("btnsSizeMode","\u5c3a\u5bf8"),h)},n=function(q,x,v,P){var I=a.getWidget(),da=v?!0:!1;null==v&&(v=I.getLayoutMode());
v==ic.LAYOUT_MODE_HORIZONTAL?(null==P&&(P=I.getSizeMode()),v=new kd,P=ic.askButtonHeight(P),v.setValue(I,I.getX(),I.getY(),I.getWidth(),P),x.push(v)):da&&v==ic.LAYOUT_MODE_WRAP&&(v=new kd,v.setValue(I,I.getX(),I.getY(),240,160),x.push(v));b.performAction(x,q)},u=function(){c&&c.setSelected(a.getWidget().getLayoutMode());e&&b.updateEditorVisible(e,a.getWidget().getLayoutMode()==ic.LAYOUT_MODE_WRAP);d&&b.updateEditorVisible(d,a.getWidget().getLayoutMode()==ic.LAYOUT_MODE_WRAP)}}function Ha(){O.call(this);
bc.call(this);tb.call(this);yc.call(this);Pb.call(this);var a=this.protectedMethod;this.protectedInitCustomUi=function(b){var c=a.createJqGroupTitle(C.get("filterDataGroupTitle","\u6570\u636e\uff1a")),d=a.createSourceEditorItem(),e=a.createMultiSelectableEditorItem(),h=a.createDefaultSelectedEditorItem();b.append(a.createJqCap());b.append(c);b.append(d);b.append(e);b.append(h);c=a.createJqGroupTitle(C.get("affectingGroupTitle","\u8054\u52a8\uff1a"));d=a.createAffectedTargetEditorItem();e=a.createTabSwitchEditorItem();
b.append(a.createJqCap());b.append(c);b.append(d);b.append(e);c=a.createJqGroupTitle(C.get("frontLabelGroupTitle","\u6807\u7b7e\uff1a"));d=a.createFrontLabelEditorItem();e=a.createFrontLabelPositionEditorItem();h=a.createFrontLabelLengthEditorItem();b.append(a.createJqCap());b.append(c);b.append(d);b.append(e);b.append(h);c=a.createJqGroupTitle(C.get("surfaceGroupTitle","\u5916\u89c2\uff1a"));d=a.createFontSizeEnhancedEditorItem();b.append(a.createJqCap());b.append(c);b.append(d)};this.protectedGetAffectedTargetSupportedTypes=
function(){return a.getAffectedTargetSupportedTypes()};this.protectedDoCustomPropertyChanged=function(b){a.discreteItemFilterPropertyChanged(b);a.filterSimilaryPropertyChanged(b);a.withLabelCtrlPropertyChanged(b);a.fontSizeEnhancedPropertyChanged(b)}}function Na(){O.call(this);tb.call(this);yc.call(this);Pb.call(this);var a=this,b=this.protectedMethod,c;this.protectedInitCustomUi=function(h){c=new Xb;c.addActionListener(e);c.setCustomPainter(d);var m=b.createJqGroupTitle(C.get("filterDataGroupTitle",
"\u6570\u636e\uff1a")),B=b.createJqLineItem(C.get("dateRangeInitial","\u521d\u59cb\u503c"),c);h.append(b.createJqCap());h.append(m);h.append(B);c.setModel(a.getWidget());m=b.createJqGroupTitle(C.get("affectingGroupTitle","\u8054\u52a8\uff1a"));B=b.createAffectedTargetEditorItem();h.append(b.createJqCap());h.append(m);h.append(B);m=b.createJqGroupTitle(C.get("frontLabelGroupTitle","\u6807\u7b7e\uff1a"));B=b.createFrontLabelEditorItem();var t=b.createFrontLabelPositionEditorItem(),r=b.createFrontLabelLengthEditorItem();
h.append(b.createJqCap());h.append(m);h.append(B);h.append(t);h.append(r);m=b.createJqGroupTitle(C.get("surfaceGroupTitle","\u5916\u89c2\uff1a"));B=b.createFontSizeEnhancedEditorItem();h.append(b.createJqCap());h.append(m);h.append(B)};this.protectedGetAffectedTargetSupportedTypes=function(){var h={};h[oa.WidgetType_Square]=0;h[oa.WidgetType_Longer]=1;h[oa.WidgetType_QingReport]=2;h[oa.WidgetType_Iframe]=3;return h};this.protectedDoCustomPropertyChanged=function(h){h==Ad.KEY_DATE_INITIAL?c.setModel(a.getWidget()):
(b.filterSimilaryPropertyChanged(h),b.withLabelCtrlPropertyChanged(h),b.fontSizeEnhancedPropertyChanged(h))};var d=function(h){return h?a.protectedToF7DateDisplay(h):""};this.protectedToF7DateDisplay=function(h){throw Error("Implement");};var e=function(h){a.protectedCreateDateInitialDialog().showDialog(b.getGlobal(),a.getWidget(),function(m,B,t,r,n){if(m){m=b.getEditorCaption(c);var u=new ae;u.setValue(a.getWidget(),B,t,r,n);b.performAction(u,m)}})};this.protectedCreateDateInitialDialog=function(){throw Error("Implement");
}}function U(){Na.call(this);this.protectedCreateDateInitialDialog=function(){return new Id};this.protectedToF7DateDisplay=function(a){if(a.getRelativeModel())return Vc.modelToDisplayText(a.getRelativeModel(),!1);var b=new Xa;b.setFormatString("yyyy-M-d");var c=b.format(a.getFromDate());a=b.format(a.getToDate());return c+"~"+a}}function hb(){Na.call(this);this.protectedCreateDateInitialDialog=function(){return new ud};this.protectedToF7DateDisplay=function(a){if(a.getRelativeModel())return ud.modelToDisplayText(a.getRelativeModel());
var b=new Xa;b.setFormatString("yyyy");return b.format(a.getFromDate())}}function yb(){Na.call(this);this.protectedCreateDateInitialDialog=function(){return new vd};this.protectedToF7DateDisplay=function(a){if(a.getRelativeModel())return vd.modelToDisplayText(a.getRelativeModel());var b=a.getFromDate();a=xb.getFullYear(b);b=Math.floor(xb.getMonth(b)/3)+1;return a+" Q"+b}}function Tb(){Na.call(this);this.protectedCreateDateInitialDialog=function(){return new wd};this.protectedToF7DateDisplay=function(a){if(a.getRelativeModel())return wd.modelToDisplayText(a.getRelativeModel());
var b=new Xa;b.setFormatString("yyyy-MM");return b.format(a.getFromDate())}}function N(){Na.call(this);this.protectedCreateDateInitialDialog=function(){return new xd};this.protectedToF7DateDisplay=function(a){if(a.getRelativeModel())return xd.modelToDisplayText(a.getRelativeModel());var b=new Xa;b.setFormatString("yyyy-MM-dd");return b.format(a.getFromDate())}}function Q(){O.call(this);hc.call(this);var a=this,b=this.protectedMethod,c;this.protectedInitCustomUi=function(m){b.initCardSurfaceEditorItems(m);
b.initCardTopBarEditorItems(m);m.append(d())};this.protectedDoCustomPropertyChanged=function(m){m==Yc.KEY_FULLSCREEN_ALLOWED&&e();b.cardSimilaryPropertyChanged(m)};var d=function(){c=new Hb;c.setItemModels([Yc.FULLSCREEN_ALLOWED_NONE,Yc.FULLSCREEN_ALLOWED_ALONE,Yc.FULLSCREEN_ALLOWED_ALIVE]);c.setCustomPainter(h);c.addSelectedChangedListener(function(m,B,t){m=b.getEditorCaption(m);B=new Ub;B.setMethod(a.getWidget().getFullscreenAllowed,a.getWidget().setFullscreenAllowed);B.setValue(t);b.performAction(B,
m)});e();return b.createJqLineItem(C.get("fullscreenAllowed","\u5168\u5c4f"),c)},e=function(){if(c){var m=a.getWidget().getFullscreenAllowed();c.setSelected(m)}},h=function(m,B,t){switch(t){case Yc.FULLSCREEN_ALLOWED_NONE:m=C.get("fullscreenAllowedNone","\u5173\u95ed");break;case Yc.FULLSCREEN_ALLOWED_ALONE:m=C.get("fullscreenAllowedAlone","\u5f00\u542f\u4e14\u4e0b\u7ea7\u7ec4\u4ef6\u7981\u6b62");break;case Yc.FULLSCREEN_ALLOWED_ALIVE:m=C.get("fullscreenAllowedAlive","\u5f00\u542f\u4e14\u4e0b\u7ea7\u7ec4\u4ef6\u5141\u8bb8");
break;default:m=""}B.text(m)}}function T(){O.call(this);Pb.call(this);var a=this,b=this.protectedMethod,c,d,e;this.protectedInitCustomUi=function(v){var P=b.createJqGroupTitle(C.get("tabbedHeadGroupTitle","\u5bfc\u822a\u680f\uff1a")),I=t(),da=r(),ma=b.createFontSizeEnhancedEditorItem();B();v.append(b.createJqCap());v.append(P);v.append(I);v.append(da);v.append(ma);P=b.createJqGroupTitle(C.get("slideshowGroupTitle","\u8f6e\u64ad\uff1a"));I=x();v.append(b.createJqCap());v.append(P);v.append(I)};this.protectedDoCustomPropertyChanged=
function(v){v==sc.KEY_HEAD_PATTERN?(h(),B()):v==sc.KEY_HEAD_POSITION?m():v==sc.KEY_SLIDESHOW?q():b.fontSizeEnhancedPropertyChanged(v)};var h=function(){if(c){var v=a.getWidget().getHeadPattern();c.setSelected(v)}},m=function(){if(d){var v=a.getWidget().getHeadPosition();d.setSelected(v)}},B=function(){if(d){var v=a.getWidget().getHeadPattern()==sc.HEAD_PATTERN_HIDDEN;b.updateEditorVisible(d,!v);b.updateFontSizeEditorVisible(!v)}},t=function(){c=new Hb;c.setItemModels([sc.HEAD_PATTERN_BAR,sc.HEAD_PATTERN_BARE,
sc.HEAD_PATTERN_HIDDEN]);c.setCustomPainter(n);c.addSelectedChangedListener(function(v,P,I){v=b.getEditorCaption(v);P=new Ub;P.setMethod(a.getWidget().getHeadPattern,a.getWidget().setHeadPattern);P.setValue(I);b.performAction(P,v)});h();return b.createJqLineItem(C.get("tabbedHeadPattern","\u5916\u89c2\u98ce\u683c"),c)},r=function(){d=new Hb;d.setItemModels([sc.HEAD_TOP_LEFT,sc.HEAD_TOP_RIGHT,sc.HEAD_BOTTOM_LEFT,sc.HEAD_BOTTOM_RIGHT]);d.setCustomPainter(u);d.addSelectedChangedListener(function(v,P,
I){v=b.getEditorCaption(v);P=new Ub;P.setMethod(a.getWidget().getHeadPosition,a.getWidget().setHeadPosition);P.setValue(I);b.performAction(P,v)});m();return b.createJqLineItem(C.get("tabbedHeadPosition","\u6309\u94ae\u4f4d\u7f6e"),d)},n=function(v,P,I){switch(I){case sc.HEAD_PATTERN_BAR:v=C.get("tabbedHeadPatternBar","\u9002\u7528\u4e8e\u9875\u9762\u4e2d");break;case sc.HEAD_PATTERN_BARE:v=C.get("tabbedHeadPatternBare","\u9002\u7528\u4e8e\u5361\u7247\u4e2d");break;case sc.HEAD_PATTERN_HIDDEN:v=C.get("tabbedHeadPatternHide",
"\u9690\u85cf");break;default:v=""}P.text(v)},u=function(v,P,I){switch(I){case sc.HEAD_TOP_LEFT:v=C.get("tabbedHeadPositionTL","\u5de6\u4e0a");break;case sc.HEAD_TOP_RIGHT:v=C.get("tabbedHeadPositionTR","\u53f3\u4e0a");break;case sc.HEAD_BOTTOM_LEFT:v=C.get("tabbedHeadPositionBL","\u5de6\u4e0b");break;case sc.HEAD_BOTTOM_RIGHT:v=C.get("tabbedHeadPositionBR","\u53f3\u4e0b");break;default:v=""}P.text(v)},q=function(){if(e){var v=a.getWidget().isSlideshowEnabled();e.setChecked(v)}},x=function(){e=new kb;
e.addCheckedListener(function(v,P){if(P){P=b.getEditorCaption(v);var I=new Ub;I.setMethod(a.getWidget().isSlideshowEnabled,a.getWidget().setSlideshowEnabled);I.setValue(v.isChecked());b.performAction(I,P)}});q();return b.createJqLineItem(C.get("slideshow","\u542f\u7528\u8f6e\u64ad"),e)}}function J(){function a(){var u,q;this.bindModel=function(v){q=v};this.initUi=function(v){u=new kc;u.setConstraint(1,999999,1);u.addValueChangedListener(x,!0);var P=d.createJqLineItem(C.get("slideshowDuration","\u6301\u7eed\u65f6\u95f4(\u79d2)"),
u);v.append(P)};this.updateVisibleAndState=function(v){d.updateEditorVisible(u,v);u.setValue(q.getDuration())};var x=function(v,P,I){v=new Ub;v.setMethod(q.getDuration,q.setDuration);v.setValue(u.getValue());n(q,v)}}function b(){var u,q,x,v;this.bindModel=function(qa){u=qa};this.initUi=function(qa){q=new Xb;q.addActionListener(P);q.setCustomPainter(function(fb){return fb?fb.toShortDisplay(d.getGlobal().getDashboardModel()):""});x=new Xb;x.addActionListener(I);x.setCustomPainter(function(fb){if(!fb)return"";
var sb=oa.AffectedType_BindField|oa.AffectedType_Param;return tb.affectedTargetsToShortDisplay(d.getGlobal().getDashboardModel(),fb,sb)});v=new kc;v.setConstraint(1,999999,1);v.addValueChangedListener(da,!0);qa.append(d.createJqLineItem(C.get("slideshowDataItems","\u8f6e\u64ad\u6570\u636e\u9879"),q));qa.append(d.createJqLineItem(C.get("slideshowEachDuration","\u6bcf\u9879\u95f4\u9694(\u79d2)"),v));qa.append(d.createJqLineItem(C.get("affectedTarget","\u4f5c\u7528\u4e8e"),x))};this.updateVisibleAndState=
function(qa){d.updateEditorVisible(q,qa);d.updateEditorVisible(x,qa);d.updateEditorVisible(v,qa);q.setModel(u.getFilterSource());x.setModel(u.getAffectedTargets());v.setValue(u.getEachDuration())};var P=function(qa){qa=u.createWidgetPeer();var fb=new qd;fb.setTitle(C.get("slideshowDataItemsDialogTitle","\u201c#1\u201d\u7684\u8f6e\u64ad\u6570\u636e\u9879").replace("#1",c.getWidget().getDisplayName()));fb.showDialog(d.getGlobal(),qa,function(sb,Cb,Bb){sb&&(sb=new Ub,sb.setMethod(u.getFilterSource,u.setFilterSource),
sb.setValue(Cb),n(u,sb))})},I=function(qa){var fb=ma();(new Ed).showDialog(d.getGlobal(),c.getWidget(),function(sb){sb=fb[sb.getWidgetTypeName()];return 0<=sb?sb:-1},function(sb){if(null!==sb){var Cb=new Ub;Cb.setMethod(u.getAffectedTargets,u.setAffectedTargets);Cb.setValue(sb);n(u,Cb)}})},da=function(qa,fb,sb){qa=new Ub;qa.setMethod(u.getEachDuration,u.setEachDuration);qa.setValue(v.getValue());n(u,qa)},ma=function(){var qa={};qa[oa.WidgetType_Square]=0;qa[oa.WidgetType_Longer]=1;qa[oa.WidgetType_QingReport]=
2;qa[oa.WidgetType_ExtReport]=3;qa[oa.WidgetType_Label]=4;qa[oa.WidgetType_Rich]=5;return qa}}nc.call(this);ib.call(this);var c=this,d=this.protectedMethod,e,h,m={};this.protectedInitUi=function(u){var q=d.createJqGroupTitle(C.get("tabbedHeadGroupTitle","\u5bfc\u822a\u680f\uff1a"));e=d.createTextEditor(c.getWidget().getHeadText,c.getWidget().setHeadText,null,!1,40);var x=d.createJqLineItem(C.get("tabbedHeadText","\u663e\u793a\u6587\u5b57"),e);u.append(q);u.append(x);e.setModel(c.getWidget().getHeadText());
q=d.createJqGroupTitle(C.get("slideshowGroupTitle","\u8f6e\u64ad\uff1a"));x=B();u.append(d.createJqCap());u.append(q);u.append(x);for(var v in m)m[v].initUi(u);t();u.append(d.createJqCap());d.backgroundInitUi(u)};this.protectedDoPropertyChanged=function(u){u==gd.KEY_HEAD_TEXT?e.setModel(c.getWidget().getHeadText()):u==gd.KEY_DURATION_MODE?t():d.backgroundDoPropertyChanged(u)};var B=function(){for(var u=c.getWidget().getDurationMode(),q=[dd.TYPE_ByFixedTime,dd.TYPE_ByData],x=[a,b],v=[],P=0;P<q.length;P++){var I=
q[P],da=I==u.getType()?u:dd.createInstance(I);v.push(da);var ma=new x[P];ma.bindModel(da);m[I]=ma}h=new Hb;h.setItemModels(v,function(qa,fb){return qa.getType()==fb.getType()});h.setCustomPainter(r);h.addSelectedChangedListener(function(qa,fb,sb){n(sb)});return d.createJqLineItem(C.get("slideshowMode","\u8f6e\u64ad\u6a21\u5f0f"),h)},t=function(){var u=c.getWidget().getDurationMode();h.setSelected(u);for(var q in m){var x=m[q],v=q==u.getType();v&&x.bindModel(u);x.updateVisibleAndState(v)}},r=function(u,
q,x){switch(x?x.getType():""){case dd.TYPE_ByFixedTime:u=C.get("slideshowModeFixedTime","\u56fa\u5b9a\u65f6\u95f4");break;case dd.TYPE_ByData:u=C.get("slideshowModeByData","\u6570\u636e\u9a71\u52a8");break;default:u=""}q.text(u)},n=function(u,q){var x=new Ub;x.setMethod(c.getWidget().getDurationMode,c.getWidget().setDurationMode);x.setValue(u);d.performAction(q?[x,q]:x,C.get("slideshowMode","\u8f6e\u64ad\u6a21\u5f0f"))}}function Y(){O.call(this);Jc.call(this);var a=this,b=this.protectedMethod,c,d;
this.protectedGetSourceSelector=function(){return db.getWidgetSourceSelector().selectPicture};this.protectedInitCustomUi=function(t){var r=b.createJqGroupTitle(C.get("pictureGroupTitle","\u56fe\u7247\uff1a")),n=b.createReferenceEditorItem(C.get("pictureUrl","\u56fe\u7247\u5185\u5bb9"));c=new kb;c.addCheckedListener(e);var u=b.createJqLineItem(C.get("pictureScale","\u539f\u59cb\u5c3a\u5bf8"),c);d=new kb;d.addCheckedListener(h);var q=b.createJqLineItem(C.get("pictureAlign","\u5c45\u4e2d"),d);t.append(b.createJqCap());
t.append(r);t.append(n);t.append(u);t.append(q);m();B()};this.protectedDoCustomPropertyChanged=function(t){t==Mb.KEY_SCALE?m():t==Mb.KEY_ALIGN&&B()};var e=function(t,r){if(r){t=b.getEditorCaption(t);r=c.isChecked()?Mb.SCALE_NON:Mb.SCALE_ADAPTIVE;var n=new Ub;n.setMethod(a.getWidget().getScale,a.getWidget().setScale);n.setValue(r);b.performAction(n,t)}},h=function(t,r){if(r){t=b.getEditorCaption(t);r=d.isChecked()?Mb.HALIGN_CENTER|Mb.VALIGN_MIDDLE:Mb.HALIGN_LEFT|Mb.VALIGN_TOP;var n=new Ub;n.setMethod(a.getWidget().getAlign,
a.getWidget().setAlign);n.setValue(r);b.performAction(n,t)}},m=function(){var t=a.getWidget().getScale();t==Mb.SCALE_NON?c.setChecked(!0):t==Mb.SCALE_ADAPTIVE&&c.setChecked(!1)},B=function(){a.getWidget().getAlign()==(Mb.HALIGN_CENTER|Mb.VALIGN_MIDDLE)?d.setChecked(!0):d.setChecked(!1)}}function fa(){var a,b,c,d,e,h,m=!1,B;this.setShowBlockingByFacade=function(r,n){m=r;B=n};this.setFacadeCreator=function(r){a=r};this.refresh=function(r,n,u,q,x,v,P){d=n;b=q;c=x;h=v;n=a(t,c);n.setShowBlocking(m);n.setBlockingPrompt(B);
n.setCancelable(!0);P&&n.setProgressListener(P);return n.refreshData(r,d,u)};this.prepare=function(r,n,u,q,x){b=n;c=u;h=q;n=a(t,c);n.setShowBlocking(m);n.setBlockingPrompt(B);n.setCancelable(!0);x&&n.setProgressListener(x);return n.refreshData(r)};this.setTagImmediateAnnouncer=function(r){e=r};var t=function(r){if(!h||!h()){if(r=r.tag)d=r,e&&(e(d),e=null);b(d)}}}function ha(){function a(){mc.call(this);var q=this,x=this.protectedMethod,v=$("<div>"),P;(function(){q.setSize(480,360);x.setContentPaneCreator(function(){return v});
x.setClosingAction(function(I){P.destroy();x.destroy()});x.setFooterPaneCreator(function(I){var da=new Uc(C.get("createWidgetErrorConfirm","\u6211\u77e5\u9053\u4e86"));da.getJqUi().appendTo(I);da.addActionListener(function(ma){P.destroy();x.destroy()});E.layoutCtrlWithLRTB(da.getJqUi(),180,180,null,null,12,28)})})();this.setTitle=function(I){x.setTitle(I)};this.setErrorInfo=function(I,da,ma){db.createDashboardSquareScene(!1,function(qa){P=qa;P.show(v);P.displayError(I,da,ma)})}}var b,c,d,e,h,m;this.bindIntegrationImpl=
function(q,x){b=q;c=x};this.selecting=function(q,x,v){d=q;e=x;h=function(P){v(P?!0:!1)};q=Ec.getInstance(e.getWidgetTypeName()).getTypeDisplayName();m=C.get("createWidget","\u65b0\u5efa\u7ec4\u4ef6-#1").replace("#1",q);b(null,B)};this.reselecting=function(q,x,v){d=q;e=x;h=v;m=e.getDisplayName();b(e.getReferenceCustomMap(),t)};var B=function(q,x,v,P,I){q?(x&&e.setCardTitle(x),e.setReferenceCustomMap(q),v?r(q,!0):u(P,I,!0,q)):h(null)},t=function(q,x,v,P,I){q?v?r(q,!1):u(P,I,!0,q):h(null)},r=function(q,
x){var v=new fa;v.setFacadeCreator(d.createFacade);v=v.prepare(q,function(I){P.hideWaiting();e.setExecutingTag(I);n(q,I,x)},function(I,da,ma){P.hideWaiting();h(null);if(-1!=I){var qa=new a;qa.setTitle(m);qa.showDialog();qa.setErrorInfo(I,da,ma)}return!0},null,function(I){P.hookProgressDisplayer(F.makeUiCreator(I))});var P=new ea;P.setIconVisible(!0);P.hookOwner($(document.body),null);P.showWaiting(F.getWaitingText(),v)},n=function(q,x,v){c(m,!1,q,x,null,null,function(P){u(P,null,!v,q)})},u=function(q,
x,v,P){q?(e.deliveryTemporary(q,x,v),h(P)):h(null)}}function Aa(){this.updateBackgroundPicture=function(a,b){b.attr("title",null);var c=a.getBackgroundPicture();c?db.getPictureLoader()(c.getReferenceCustomMap(),function(d,e,h){e={};e["background-image"]="url("+d+")";e["background-repeat"]="no-repeat";e["background-size"]="auto";switch(c.getScale()){case Mb.SCALE_FULL:e["background-size"]="100% 100%";break;case Mb.SCALE_TILED:e["background-repeat"]="repeat";break;case Mb.SCALE_ADAPTIVE:e["background-size"]=
"contain"}d=c.isAlignTo(Mb.HALIGN_LEFT)?"left":c.isAlignTo(Mb.HALIGN_RIGHT)?"right":"center";h=c.isAlignTo(Mb.VALIGN_TOP)?"top":c.isAlignTo(Mb.VALIGN_BOTTOM)?"bottom":"center";e["background-position"]=d+" "+h;b.css(e)},function(d){b.attr("title","Background image not found:\r\n"+d+"\r\n"+a.getDisplayName())}):b.css("background-image","")}}function ra(){jc.call(this);var a=this,b=this.protectedMethod,c,d,e,h;this.getJqUi=function(){if(!c){c=$("<div>");c.css("overflow","hidden");var m=Ec.getInstance(b.getWidget().getWidgetTypeName()).getMargin();
d=$("<div>");d.appendTo(c);E.layoutCtrlWithLRTB(d,m,m,null,m,m,null);a.updateHeadUi(!0)}return c};this.getJqContent=function(){return d};this.updateHeadUi=function(m){var B=b.getWidget();a:switch(B.getHeadPattern()){case sc.HEAD_PATTERN_BAR:var t=new Oa;break a;case sc.HEAD_PATTERN_BARE:t=new Ja;break a;default:t=null}var r=t?t.measureButtons(B):0;if(m||r!=h)if(h=r,e&&e.getJqUi().remove(),e=t)e.getJqUi().appendTo(d),m=e.getJqUi(),r=b.getWidget(),t=r.getHeadHeight(),r=r.getHeadPosition(),r=r==sc.HEAD_BOTTOM_LEFT||
r==sc.HEAD_BOTTOM_RIGHT,E.layoutCtrlWithLRTB(m,0,0,null,r?null:0,r?0:null,t),0<B.getWidgetCount()&&e.createButtons(B,h)}}function Ka(){var a=this,b,c;this.getJqUi=function(){b||(b=$("<div>"),b.css({"box-sizing":"border-box"}),c=$("<div>"),c.appendTo(b));return b};this.measureButtons=function(h){var m=new Sa;m.setFontSize(e(h));for(var B=0,t=0;t<h.getWidgetCount();t++){var r=h.getWidget(t);r=m.measureWidth(r.getHeadText());B=Math.max(B,r)}m.destroy();m=a.protectedGetPadding();h=parseInt((h.getClientWidth()-
2*m)/h.getWidgetCount());m=a.protectedGetButtonPadding();return Math.min(B+2*m,h)};this.createButtons=function(h,m){var B=h.isOpacityRequired();a.protectedPaintHead(a.getJqUi(),B);B=[];for(var t=0;t<h.getWidgetCount();t++){var r=h.getWidget(t);r=d(h,r);B.push(r)}t=h.getHeadHeight();m=a.protectedLayoutButtons(B,m,t);B=a.protectedGetPadding();m+=2*B;h=h.getHeadPosition();h=h==sc.HEAD_BOTTOM_LEFT||h==sc.HEAD_TOP_LEFT;E.layoutCtrlWithLRTB(c,h?0:null,h?null:0,m,0,0,null)};this.protectedPaintHead=function(h,
m){};this.protectedGetPadding=function(){return 0};this.protectedGetButtonPadding=function(){return 0};this.protectedLayoutButtons=function(h,m,B){throw Error("Implement");};var d=function(h,m){var B=Za.dip(Za.DSB_TABBED_HEAD),t=B[Za.Key_TabbedHead_MainColor];B=B[Za.Key_TabbedHead_InverseColor];B=m.isVisible()?B:t;var r=m.isVisible()?t:"transparent",n=$("<div>");n.text(m.getHeadText());n.css({overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","box-sizing":"border-box","text-align":"center",
color:B,"background-color":r,border:"1px solid "+t,"font-size":e(h)+"px"});n.appendTo(c);n.on("click",function(u){m.setVisible(!0)});return n},e=function(h){h=h.getFontSizeEnhanced();return Math.round(12*(1+h/10))}}function Oa(){Ka.call(this);var a=this;this.protectedPaintHead=function(b,c){Za.decorateCardSimpleBorder(c,b)};this.protectedLayoutButtons=function(b,c,d){var e=a.protectedGetPadding(),h=parseInt(.2*d);d=parseInt(.6*d);for(var m=0;m<b.length;m++){var B=b[m];B.css("line-height",d-2+"px");
E.layoutCtrl(B,e,h,c,d);e+=c-1;0==m&&B.css({"border-top-left-radius":"2px","border-bottom-left-radius":"2px"});m==b.length-1&&B.css({"border-top-right-radius":"2px","border-bottom-right-radius":"2px"})}return(c-1)*b.length+1};this.protectedGetPadding=function(){return 16};this.protectedGetButtonPadding=function(){return 20}}function Ja(){Ka.call(this);var a=this;this.protectedLayoutButtons=function(b,c,d){for(var e=a.protectedGetPadding(),h=0;h<b.length;h++){var m=b[h];m.css("line-height",d-2+"px");
E.layoutCtrl(m,e,0,c,d);e+=c-1}return(c-1)*b.length+1};this.protectedGetPadding=function(){return 0};this.protectedGetButtonPadding=function(){return 16}}function vb(){M.call(this);var a=this,b=this.protectedMethod,c,d,e,h,m=$("<div>"),B,t=[],r;this.getJqUi=function(){if(!d){var Va=$("<div>");e=n(1,"left");e.appendTo(Va);h=n(-1,"right");h.appendTo(Va);u();d=$("<div>");d.css({overflow:"hidden","z-index":1});d.appendTo(Va);m.appendTo(d);m.on("mouseover",qc);m.on("mouseout",rc);m.on("click",zc)}return d.parent()};
var n=function(Va,qb){var Sb=$("<div>");Jb.background(Sb,qb);E.layoutCtrlCenterAlign(Sb,16);E.layoutCtrlMiddleAlign(Sb,16);qb=$("<div>");qb.append(Sb);qb.css({cursor:"pointer","z-index":2});qb.on("click",function(ka){ka=x();var ba=d.prop(ka?"clientHeight":"clientWidth"),Ea=m.prop(ka?"offsetHeight":"offsetWidth");Ea=ba-Ea;var ab=m.data("my-start");ba=parseInt(.618*ba)*Va;0<=ab&&0<ba?I(0,ba):ab<=Ea&&0>ba?I(Ea,ba):v(ka?"top":"left",Math.min(0,Math.max(Ea,ab+ba)),375)});return qb};this.setSelectableItems=
function(Va){P(Va)};this.setSelectedItems=function(Va){t=Va;Cb();da()};this.getSelectedItems=function(){return t};this.setValueChangedListener=function(Va){r=Va};this.relayout=function(){u();q()};this.requestRepaint=function(){if(c){var Va=b.getWidget().getWidth(),qb=b.getWidget().getHeight();if(c[0]==Va&&c[1]==qb)return}q()};this.repaintButtons=function(){Cb()};var u=function(){var Va={transform:x()?"rotate(90deg)":""};e.children().eq(0).css(Va);h.children().eq(0).css(Va)},q=function(){var Va=[];
sb(function(qb){qb=Wb(qb);Va.push(qb)});P(Va);Cb()},x=function(){return b.getWidget().getLayoutMode()==ic.LAYOUT_MODE_WRAP},v=function(Va,qb,Sb){m.data("my-start",qb);var ka={};ka[Va]=qb;m.stop().animate(ka,Sb)},P=function(Va){var qb=b.getWidget().getWidth(),Sb=b.getWidget().getHeight();c=[qb,Sb];B=null;m.empty();if(x()){var ka=Bb(),ba=ka[0],Ea=ka[2];ka=Math.min(ka[3],Sb);var ab=Ea,ob=b.getWidget().getCharsPerItemWhenWrap(),Kb=ba*(ob+1);ob=b.getWidget().getItemsPerRowWhenWrap();ob=Math.min(Va.length,
Math.max(1,ob));var Fb=Math.floor((qb+Ea)/ob-Ea),oc=Fb;Fb<Kb&&(ob=Math.max(1,Math.floor((qb+Ea)/(Kb+Ea))),oc=Math.floor((qb+Ea)/ob-Ea));Kb=Math.ceil(Va.length/ob);1<Kb&&(Kb=Math.floor((Sb-Kb*ka)/(Kb-1)),Math.floor(ab/2)<=Kb&&(ab=Math.min(Kb,ka)));Fb=Kb=0;for(var Fc=$(document.createDocumentFragment()),wc=0;wc<Va.length;wc++){var Nc=Va[wc],Hc=Nc.getDisplayText();Nc=qa(Hc,ka,ba,Nc);Nc.attr("title",Hc);Nc.appendTo(Fc);Kb=(Hc=0==wc%ob)?0:Kb+oc+Ea;Fb=0<wc&&Hc?Fb+ka+ab:Fb;E.layoutCtrl(Nc,Kb,Fb,oc,ka);0==
wc&&b.getWidget().isIncludedItemAll()&&(B=Nc)}m.append(Fc);Va=Fb+ka;E.layoutCtrl(m,0,0,"100%",Va);v("left",0,0);v("top",0,0);Va=(ba=Va>Sb)?24:0;ba=ba?"":"none";e.css("display",ba);h.css("display",ba);ba=Va;Ea=0;2*Va+ka>Sb&&(ba=0,Ea=Math.floor((qb-Va)/2));E.layoutCtrlWithLRTB(d,0,0,"",ba,ba,"");E.layoutCtrlWithLRTB(e,Ea,Ea,"",0,"",Va);E.layoutCtrlWithLRTB(h,Ea,Ea,"","",0,Va)}else{Ea=Bb();Sb=Ea[0];ka=Ea[1];ba=Ea[2];Ea=Ea[3];ab=0;ob=$(document.createDocumentFragment());oc=new Sa;oc.setFontSize(Sb);for(Kb=
0;Kb<Va.length;Kb++)Fc=Va[Kb],wc=Fc.getDisplayText(),Fb=oc.measureWidth(wc)+2*ka+1,Fc=qa(wc,Ea,Sb,Fc),Fc.appendTo(ob),E.layoutCtrl(Fc,ab,0,Fb,Ea),ab+=Fb+ba,0==Kb&&b.getWidget().isIncludedItemAll()&&(B=Fc);oc.destroy();m.append(ob);Va=Math.max(0,ab-ba);E.layoutCtrl(m,0,0,Va,"100%");v("left",0,0);v("top",0,0);qb=(Va=Va>qb)?40:0;Va=Va?"":"none";e.css("display",Va);h.css("display",Va);E.layoutCtrlWithLRTB(d,qb,qb,"",0,0,"");E.layoutCtrlWithLRTB(e,0,"",qb,0,0,"");E.layoutCtrlWithLRTB(h,"",0,qb,0,0,"")}},
I=function(Va,qb){var Sb=x()?"top":"left",ka={};ka[Sb]=Va+parseInt(.2*qb);m.stop().animate(ka,100,function(){ka[Sb]=Va;m.animate(ka,250)})},da=function(){if(t&&0<t.length){var Va=t[0],qb;sb(function(Sb){return Wb(Sb).getValue()==Va.getValue()?(qb=Sb,!0):!1});qb&&ma(qb,0)}},ma=function(Va,qb){var Sb=x(),ka=Va.prop(Sb?"offsetTop":"offsetLeft");Va=ka+Va.prop(Sb?"offsetHeight":"offsetWidth");var ba=d.prop(Sb?"clientHeight":"clientWidth"),Ea=-m.prop(Sb?"offsetTop":"offsetLeft"),ab=!1;Va>Ea+ba&&(Ea=Va-
ba,ab=!0);ka<Ea&&(Ea=ka,ab=!0);ab&&v(Sb?"top":"left",-Ea,qb)},qa=function(Va,qb,Sb,ka){var ba=$("<div>");ba.text(Va);E.makeTextOmissible(ba);E.layoutCtrlWithLRTB(ba,0,0,null);E.layoutCtrlMiddleAlign(ba,qb-4);Va=$("<div>");Va.append(ba);Va.addClass("btn");Va.css("font-size",Sb+"px");Va.css({cursor:"pointer","box-sizing":"border-box",border:"1px solid #ccc","border-radius":"3px","text-align":"center"});fb(Va);Va.data("my-model",ka);return Va},fb=function(Va,qb,Sb){var ka=a.protectedGetStyleMap(),ba=
ka[Za.Key_ButtonGroup_Color],Ea=ka[Za.Key_ButtonGroup_BackgroundColor],ab=ka[Za.Key_ButtonGroup_BorderColor];qb&&(ba=ka[Za.Key_ButtonGroup_Color_Selected],Ea=ka[Za.Key_ButtonGroup_BackgroundColor_Selected],ab=ka[Za.Key_ButtonGroup_BorderColor_Selected]);Sb&&(Ea=ka[Za.Key_ButtonGroup_BackgroundColor_Hover]);Va.css({color:ba,"background-color":Ea,"border-color":ab})};this.protectedGetStyleMap=function(){return Za.dip(Za.DSB_BUTTON_GROUP)};var sb=function(Va){for(var qb=m.children(".btn"),Sb=0;Sb<qb.length&&
!Va(qb.eq(Sb));Sb++);},Cb=function(Va){var qb=Wc();sb(function(Sb){var ka=Va&&Va[0]==Sb[0];if(B&&B[0]==Sb[0])if(1==t.length&&B){var ba=t[0];var Ea=Wb(B);ba=ba.getValue()==Ea.getValue()}else ba=!1;else ba=Wb(Sb),ba=qb[ba.getValue()]?!0:!1;fb(Sb,ba,ka)})},Bb=function(){var Va=b.getWidget().getSizeMode();if(Va>=ic.SIZE_MODE_LARGE){var qb=16;var Sb=20;var ka=16}else Va>=ic.SIZE_MODE_MIDDLE?(Sb=qb=14,ka=8):(qb=12,Sb=8,ka=4);Va=ic.askButtonHeight(Va);return[qb,Sb,ka,Va]},Wb=function(Va){return Va.data("my-model")},
ac=function(Va){return E.upwardSearchHasData(Va,m,"my-model")},qc=function(Va){Va=$(Va.target);(Va=ac(Va))&&Cb(Va)},rc=function(Va){Va=$(Va.target);ac(Va)&&Cb(null)},zc=function(Va){Va=$(Va.target);if(Va=ac(Va)){ma(Va,250);if(B&&B[0]==Va[0])t=[Wb(B)];else if(Va=Wb(Va),b.getWidget().isMultiSelectable()){if(B){var qb=Wb(B);Lc(qb)}!Lc(Va)&&t.push(Va)}else t=[Va];Cb();r&&r()}},Lc=function(Va){for(var qb=0;qb<t.length;qb++)if(t[qb].getValue()===Va.getValue())return t.splice(qb,1),!0;return!1},Wc=function(){for(var Va=
{},qb=0;qb<t.length;qb++){var Sb=t[qb];Va[Sb.getValue()]=Sb}return Va}}function Lb(){Da.call(this);var a=this.protectedMethod;this.getJqUi=function(){var b=$("<div>");b.on("mousemove",function(c){a.getWidget().setRuntimeWalkable(!1)});b.on("mouseleave",function(c){a.getWidget().setRuntimeWalkable(!0)});return b}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing=
{});"undefined"==typeof com.kingdee.bos.qing.dsb&&(com.kingdee.bos.qing.dsb={});"undefined"==typeof com.kingdee.bos.qing.dsb.widget&&(com.kingdee.bos.qing.dsb.widget={});var Gb=com.kingdee.bos.qing.dsb.widget;Aa=new Aa;Gb.DesktopWidgetCtrlRegister=new g;Gb.MobileWidgetCtrlRegister=new g;Gb.DesktopWidgetCtrlProvider=function(){pb.call(this);var a=!0;this.setDesigntime=function(b){a=b};this.isDesigntime=function(){return a};this.protectedGetRegister=function(){return Gb.DesktopWidgetCtrlRegister};this.protectedInitWidgetCtrl=
function(b){a&&b.appendSituation(Da.Situation_Designtime)}};Gb.MobileWidgetCtrlProvider=function(){pb.call(this);this.isMobile=function(){return!0};this.protectedGetRegister=function(){return Gb.MobileWidgetCtrlRegister};this.protectedInitWidgetCtrl=function(a){a.appendSituation(Da.Situation_Runtime_Mobile)}};Gb.AbstractWidgetUi=pa;Gb.AbstractCardWidgetCtrl=jb;Gb.AbstractBuiltinVisualWidgetCtrl=Ta;Gb.AbstractQingReportWidgetCtrl=va;Gb.AbstractPanelWidgetCtrl=function(){Da.call(this);var a=this.protectedMethod;
this.setActionListener=function(b){throw Error("Implement");};this.setFullscreenAnnouncer=function(b,c){throw Error("Implement");};this.updateState=function(){throw Error("Implement");};this.updateTopBar=function(b){throw Error("Implement");};this.getJqContent=function(){throw Error("Implement");};this.repaintSurface=function(){throw Error("Implement");};this.protectedMethod.isFullscreenEnabled=function(){var b=a.getWidget();return!(b.getFullscreenAllowed()==Yc.FULLSCREEN_ALLOWED_NONE||b.isAncestorForbidFullscreen()||
b.hasBeenFullscreen()&&b.getParent().hasBeenFullscreen())}};Gb.AbstractLabelWidgetCtrl=function(){Da.call(this)};Gb.AbstractCalendarWidgetCtrl=function(){Da.call(this);this.setDateMs=function(a){throw Error("Implement");};this.getFromDateMs=function(){throw Error("Implement");};this.getToDateMs=function(){throw Error("Implement");};this.setValueChangedListener=function(a){throw Error("Implement");};this.updateFrontLabel=function(){throw Error("Implement");};this.updateSurface=function(){}};Gb.AbstractComboboxWidgetCtrl=
function(){Da.call(this);this.setSelectableItems=function(a){throw Error("Implement");};this.setSelectedItem=function(a){throw Error("Implement");};this.getSelectedItem=function(){throw Error("Implement");};this.setValueChangedListener=function(a){throw Error("Implement");};this.updateFrontLabel=function(){};this.updateSurface=function(){}};Gb.AbstractF7WidgetCtrl=function(){Da.call(this);this.setSelectableItems=function(a){throw Error("Implement");};this.setSelectedItems=function(a){throw Error("Implement");
};this.getSelectedItems=function(){throw Error("Implement");};this.setValueChangedListener=function(a){throw Error("Implement");};this.updateFrontLabel=function(){};this.updateSurface=function(){}};Gb.CosmeticConfigPreviewButtonGroup=vb;Gb.CosmeticConfigPreviewTabbedSelector=Pa;Gb.ExhibitionModePanel=Qb;Gb.WidgetFullscreenHelper=Ra;Gb.BackgroundPictureLoader=Aa;var E,bb,Xa,Sa,rb,$a,xb,C,Hb,tc,uc,Xb,kc,kb,Ab,dc,mc,Uc,Qc,Xc,Sc,Tc,Vc,Ca,Db,Z,ea,F,ca,Ma,cb,eb,zb,Jb,db,Za,cc,Ac,Rc,Ec,oa,Zc,$c,Mc,cd,ld,
od,bd,Cc,Ic,ad,Oc,Pc,jd,Mb,sd,td,be,ic,ce,Ad,de,ee,fe,ge,he,Yc,sc,gd,id,Md,rd,Pd,md,hd,dd,Gc,ed,Ub,Dd,kd,Wd,ae,ie,Fd,Hd,Gd,Bd,Qd,qd,Ed,Xd,Id,ud,vd,wd,xd,Yd,Ud,$d,Rd,Vd,Cd,Td,Zd,Sd;(function(){var a=com.kingdee.bos.qing.common;E=a.DomUtil;bb=a.FullScreenHelper;Xa=a.DateFormater;Sa=a.TextMeasurer;rb=a.BlocksToTable;$a=a.CanvasUtil;xb=a.DateUtil;a=com.kingdee.bos.qing.framework.common;C=a.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.dsb.ui);a=com.kingdee.bos.qing.ui.component;Hb=a.ComboBox;
tc=a.Label;uc=a.TextField;Xb=a.F7Selector;kc=a.Spinner;kb=a.CheckBox;Ab=a.RadioButton;dc=a.RadioButtonGroup;mc=a.AbstractModalDialog;Uc=a.Button;Qc=a.Menu;Xc=a.SimpleConfirmer;Sc=a.HelpIcon;Tc=a.ColorChooser;a=com.kingdee.bos.qing.common.ui;Vc=a.RelativePeriodPanel;Ca=a.ColorSelector;Db=a.ColorWithOpacitySelector;Z=a.FontSelector;a=com.kingdee.bos.qing.common.shared;ea=a.LongtimeWaitingMask;F=a.DataPreparingProgressParser;a=com.kingdee.bos.qing.common.rich;ca=a.RichDisplayer;a=com.kingdee.bos.qing.chart.render;
Ma=a.StyleTool;a=com.kingdee.bos.qing.core;cb=a.RtLongerEditableConfirmer;eb=a.RtSquareEditableConfirmer;a=com.kingdee.bos.qing.core.model;zb=a.BriefOutput;a=com.kingdee.bos.qing.dsb;Jb=a.Icons;db=a.IntegrationRegister;Za=a.CosmeticBag;cc=a.ImageBorderRenerer;Ac=a.AbstractQingReportExecutor;a=com.kingdee.bos.qing.dsb.look;Rc=a.CardLookRenderer;a=com.kingdee.bos.qing.dsb.model;Ec=a.WidgetTypeManager;oa=a.DashboardModel;Zc=a.WidgetUnknown;$c=a.WidgetPageTitleBar;Mc=a.AbstractCardSimilary;cd=a.WidgetSquare;
ld=a.WidgetLonger;od=a.WidgetQingReport;bd=a.WidgetExtReport;Cc=a.WidgetProgramableCard;Ic=a.WidgetCosmicCustomCard;ad=a.WidgetCloudhubSubscribes;Oc=a.AbstractTextWidget;Pc=a.WidgetLabel;jd=a.WidgetRich;Mb=a.WidgetPicture;sd=a.WidgetIframe;td=a.WidgetClock;be=a.WidgetCombobox;ic=a.WidgetButtonGroup;ce=a.WidgetF7;Ad=a.AbstractCalendar;de=a.WidgetCalendar;ee=a.WidgetCalendarYear;fe=a.WidgetCalendarQuarter;ge=a.WidgetCalendarMonth;he=a.WidgetCalendarDay;Yc=a.WidgetPanel;sc=a.WidgetTabbedContainer;gd=
a.WidgetOneTabbed;id=a.AbstractFilterSource;Md=a.FilterSourceFromVisualWidget;rd=a.ValueTextItem;Pd=a.DateSelected;md=a.AffectedTargets;hd=a.AbstractDefaultSelected;dd=a.AbstractDurationMode;Gc=a.AbstractCardBorder;ed=a.CardTopBarCommon;if(a=com.kingdee.bos.qing.dsb.controller)Ub=a.ActionChangeProperty,Dd=a.ActionChangePageRect,kd=a.ActionChangeWidgetRect,Wd=a.ActionModifyStyle,ae=a.ActionChangeDateRange,ie=a.ActionAddWidget;if(a=com.kingdee.bos.qing.dsb.ui)Fd=a.UrlInputDialog,Hd=a.RichEditorDialog,
Gd=a.LabelContentDialog,Bd=a.TextInputDialog,Qd=a.TextAreaDialog,qd=a.FilterSourceDialog,Ed=a.AffectedTargetDialog,Xd=a.TabSwitchDialog,Id=a.DateRangeInitialDialog,ud=a.CalendarYearInitialDialog,vd=a.CalendarQuarterInitialDialog,wd=a.CalendarMonthInitialDialog,xd=a.CalendarDayInitialDialog,Yd=a.DefaultSelectedDialog,Ud=a.CosmeticConfigDialog,$d=a.ClockFormatDialog,Rd=a.CardLookConfigDialog,Vd=a.PageTitleBarSurfaceDialog,Cd=a.CardTopBarTitleLayoutDialog,Td=a.PageCardTopBarTitleLayoutDialog,Zd=a.CardTitleStyleDialog,
Sd=a.CardBorderOfImageDialog,Cd.hookPreviewCard(Ib)})();Ec.registerAll([function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_Page);a.setTypeDisplayName(C.get("widgetPage","\u9875\u9762"));a.setIconFileName("widget_page");this.createPropertyPanel=function(){return new Yb}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_Square);a.setTypeDisplayName(C.get("widgetSquare","\u6570\u636e\u6597\u65b9"));a.setIconFileName("widget_square");this.getToolboxGroup=
function(){return yd};this.protectedCreateWidgetModel=function(b){return new cd};this.protectedCreateWidgetUi=function(){return new za};this.createPropertyPanel=function(){return new k};this.getSuggestSize=function(){return[320,190]};this.selectSource=function(b,c,d){var e=db.getWidgetSourceSelector().selectSquare,h=db.showSquareDesigner,m=new ha;m.bindIntegrationImpl(e,h);m.selecting(b,c,d)}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_Longer);a.setTypeDisplayName(C.get("widgetLonger",
"\u6570\u636e\u5206\u6790"));a.setIconFileName("widget_longer");this.getToolboxGroup=function(){return yd};this.protectedCreateWidgetModel=function(b){return new ld};this.protectedCreateWidgetUi=function(){return new G};this.createPropertyPanel=function(){return new f};this.getSuggestSize=function(){return[450,300]};this.selectSource=function(b,c,d){var e=db.getWidgetSourceSelector().selectLonger,h=db.showLongerDesigner,m=new ha;m.bindIntegrationImpl(e,h);m.selecting(b,c,d)}},function(){lb.call(this);
var a=this.protectedMethod;a.setTypeName(oa.WidgetType_QingReport);a.setTypeDisplayName(C.get("widgetQingReport","\u8f7b\u62a5\u8868"));a.setIconFileName("widget_qingreport");this.isSupported=function(){return db.getQingReportExecutor()?!0:!1};this.getToolboxGroup=function(){return yd};this.protectedCreateWidgetModel=function(b){return new od};this.protectedCreateWidgetUi=function(){return new xa};this.getSuggestSize=function(){return[450,300]};this.selectSource=function(b,c,d){db.getWidgetSourceSelector().selectQingReport(null,
function(e,h){e?(c.setReferenceCustomMap(e),h&&c.setCardTitle(h),d(!0)):d(!1)})};this.createPropertyPanel=function(){return new l}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_ExtReport);a.setTypeDisplayName(C.get("widgetExt","\u6269\u5c55\u62a5\u8868"));a.setIconFileName("widget_ext");this.isSupported=function(){return db.getExtReportExecutor()?!0:!1};this.getToolboxGroup=function(){return yd};this.protectedCreateWidgetModel=function(b){return new bd};this.protectedCreateWidgetUi=
function(){return new ja};this.getSuggestSize=function(){return[450,300]};this.selectSource=function(b,c,d){db.getExtReportSourceSelector()(null,function(e){e?(c.setEncodedModel(e),d(!0)):d(!1)})};this.createPropertyPanel=function(){return new p}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_Label);a.setTypeDisplayName(C.get("widgetLabel","\u6587\u5b57"));a.setIconFileName("widget_label");this.getToolboxGroup=function(){return pd};this.protectedCreateWidgetModel=
function(b){return new Pc};this.protectedCreateWidgetUi=function(){return new H};this.getMinSize=function(){return[40,20]};this.getSuggestSize=function(){return[200,40]};this.createPropertyPanel=function(){return new W};this.selectSource=function(b,c,d){(new Gd).show(c,b.getDashboardModel().getPage(),function(e,h,m,B){m?(c.setContent(h,B),d(!0)):d(!1)})}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_Rich);a.setTypeDisplayName(C.get("widgetRich","\u591a\u884c\u6587\u5b57"));
a.setIconFileName("widget_rich");this.getToolboxGroup=function(){return pd};this.protectedCreateWidgetModel=function(b){return new jd};this.protectedCreateWidgetUi=function(){return new S};this.getSuggestSize=function(){return[320,180]};this.createPropertyPanel=function(){return new sa};this.selectSource=function(b,c,d){(new Hd).show(c,b.getDashboardModel().getPage(),function(e,h,m,B){m?(c.setContent(h,B),d(!0)):d(!1)})}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_Picture);
a.setTypeDisplayName(C.get("widgetPicture","\u56fe\u7247"));a.setIconFileName("widget_picture");this.getToolboxGroup=function(){return pd};this.protectedCreateWidgetModel=function(b){return new Mb};this.protectedCreateWidgetUi=function(){return new lc};this.createPropertyPanel=function(){return new Y};this.getSuggestSize=function(){return[320,190]};this.selectSource=function(b,c,d){db.getWidgetSourceSelector().selectPicture(null,function(e){e?(c.setReferenceCustomMap(e),d(!0)):d(!1)})}},function(){lb.call(this);
var a=this.protectedMethod;a.setTypeName(oa.WidgetType_Iframe);a.setTypeDisplayName(C.get("widgetIframe","\u7f51\u9875"));a.setIconFileName("widget_iframe");this.getToolboxGroup=function(){return pd};this.protectedCreateWidgetModel=function(b){return new sd};this.protectedCreateWidgetUi=function(){return new L};this.getSuggestSize=function(){return[320,190]};this.selectSource=function(b,c,d){(new Fd).showDialog("",function(e,h){e?(c.setUrl(h),d(!0)):d(!1)})};this.createPropertyPanel=function(){return new K}},
function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_Clock);a.setTypeDisplayName(C.get("widgetClock","\u5b9e\u65f6\u65f6\u95f4"));a.setIconFileName("widget_clock");this.getToolboxGroup=function(){return pd};this.protectedCreateWidgetModel=function(b){return new td};this.protectedCreateWidgetUi=function(){return new na};this.createPropertyPanel=function(){return new R};this.getSuggestSize=function(){return[200,40]}},function(){lb.call(this);Vb.call(this);var a=this.protectedMethod;
a.setTypeName(oa.WidgetType_Combobox);a.setTypeDisplayName(C.get("widgetCombobox","\u4e0b\u62c9\u5217\u8868"));a.setIconFileName("widget_combobox");this.protectedCreateWidgetModel=function(b){var c=new be;b&&c.setIncludedItemAll(!0);return c};this.protectedCreateWidgetUi=function(){return new V};this.getSuggestSize=function(){return[180,25]};this.isHeightLockedAlways=function(){return!0};this.createPropertyPanel=function(){return new Ba}},function(){lb.call(this);Vb.call(this);var a=this.protectedMethod;
a.setTypeName(oa.WidgetType_ButtonGroup);a.setTypeDisplayName(C.get("widgetButtonGroup","\u6309\u94ae\u7ec4"));a.setIconFileName("widget_buttongroup");this.protectedCreateWidgetModel=function(b){var c=new ic;b&&(c.setIncludedItemAll(!1),c.setLayoutMode(ic.LAYOUT_MODE_HORIZONTAL),c.setSizeMode(ic.SIZE_MODE_MIDDLE));return c};this.protectedCreateWidgetUi=function(){return new ua};this.getMinSize=function(){return[100,ic.askButtonHeight(ic.SIZE_MODE_SMALL)]};this.getSuggestSize=function(){return[320,
ic.askButtonHeight(ic.SIZE_MODE_MIDDLE)]};this.createPropertyPanel=function(){return new Ua}},function(){lb.call(this);Vb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_F7);a.setTypeDisplayName(C.get("widgetF7","\u5f39\u7a97\u9009\u62e9\u5668"));a.setIconFileName("widget_f7");this.protectedCreateWidgetModel=function(b){return new ce};this.protectedCreateWidgetUi=function(){return new ia};this.getSuggestSize=function(){return[180,25]};this.isHeightLockedAlways=function(){return!0};
this.createPropertyPanel=function(){return new Ha}},function(){gc.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_Calendar);a.setTypeDisplayName(C.get("widgetCalendar","\u65e5\u671f\u8303\u56f4"));a.setIconFileName("widget_calendar");this.protectedCreateWidgetModel=function(b){return new de};this.protectedCreateWidgetUi=function(){return new Ga};this.createPropertyPanel=function(){return new U};this.protectedCreateInitialDialog=function(){return new Id}},function(){gc.call(this);
var a=this.protectedMethod;a.setTypeName(oa.WidgetType_CalendarYear);a.setTypeDisplayName(C.get("widgetCalendarYear","\u65e5\u671f-\u5e74"));a.setIconFileName("widget_calendaryear");this.protectedCreateWidgetModel=function(b){return new ee};this.protectedCreateWidgetUi=function(){return new gb};this.createPropertyPanel=function(){return new hb};this.protectedCreateInitialDialog=function(){return new ud}},function(){gc.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_CalendarQuarter);
a.setTypeDisplayName(C.get("widgetCalendarQuarter","\u65e5\u671f-\u5e74\u5b63"));a.setIconFileName("widget_calendarquarter");this.protectedCreateWidgetModel=function(b){return new fe};this.protectedCreateWidgetUi=function(){return new wa};this.createPropertyPanel=function(){return new yb};this.protectedCreateInitialDialog=function(){return new vd}},function(){gc.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_CalendarMonth);a.setTypeDisplayName(C.get("widgetCalendarMonth","\u65e5\u671f-\u5e74\u6708"));
a.setIconFileName("widget_calendarmonth");this.protectedCreateWidgetModel=function(b){return new ge};this.protectedCreateWidgetUi=function(){return new Ob};this.createPropertyPanel=function(){return new Tb};this.protectedCreateInitialDialog=function(){return new wd}},function(){gc.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_CalendarDay);a.setTypeDisplayName(C.get("widgetCalendarDay","\u65e5\u671f-\u5e74\u6708\u65e5"));a.setIconFileName("widget_calendarday");this.protectedCreateWidgetModel=
function(b){return new he};this.protectedCreateWidgetUi=function(){return new Rb};this.createPropertyPanel=function(){return new N};this.protectedCreateInitialDialog=function(){return new xd}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_PageTitleBar);a.setTypeDisplayName(C.get("widgetPageTitleBar","\u9875\u9762\u6807\u9898\u680f"));a.setIconFileName("widget_titlebar");this.getToolboxGroup=function(){return Jd};this.protectedCreateWidgetModel=function(b){return new $c};
this.protectedCreateWidgetUi=function(){return new Dc};this.createPropertyPanel=function(){return new Zb};this.getMinSize=function(){return[40,20]};this.getSuggestSize=function(){return[320,60]};this.isWidthLockedAlways=function(){return!0};this.isHeightLockedAlways=function(){return!0};this.selectSource=function(b,c,d){c.setPosition(0,0);c.setSize(0,c.getHeight());d(!0)}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_Panel);a.setTypeDisplayName(C.get("widgetPanel",
"\u7ec4\u5408\u5361\u7247"));a.setIconFileName("widget_panel");this.getToolboxGroup=function(){return Jd};this.protectedCreateWidgetModel=function(b){return new Yc};this.protectedCreateWidgetUi=function(){return new ec};this.getSuggestSize=function(){return[450,300]};this.getMinSize=function(){return[150,60]};this.createPropertyPanel=function(){return new Q}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_TabbedContainer);a.setTypeDisplayName(C.get("widgetTabbedContainer",
"\u9875\u7b7e\u63a7\u4ef6"));a.setIconFileName("widget_tabbedall");this.getToolboxGroup=function(){return Jd};this.protectedCreateWidgetModel=function(d){var e=new sc;d&&(e.addWidget(b(C.get("widgetOneTabbed","\u9875\u7b7e")),0),e.addWidget(b(C.get("widgetOneTabbed","\u9875\u7b7e")),0),e.addWidget(b(C.get("widgetOneTabbed","\u9875\u7b7e")),0));return e};var b=function(d){var e=new gd;e.setHeadText(d);e.setVisible(!1);return e};this.protectedCreateWidgetUi=function(){return new fc};this.getSuggestSize=
function(){return[450,300]};this.getMinSize=function(){return[150,90]};this.getMargin=function(){return 5};this.createCustomDesignHandlerJqUi=function(d,e,h,m){return(new Pa(d,m)).createJqUi(e,h,d)};this.createPropertyPanel=function(){return new T};this.createOutlineMenu=function(d,e,h,m,B){d.addItemModel(Qc.createActionMenuItem(C.get("appendOneTabbed","\u6dfb\u52a0\u9875\u7b7e"),function(t){c(e,m,h,B)}));return!0};var c=function(d,e,h,m){var B=C.get("appendOneTabbed","\u6dfb\u52a0\u9875\u7b7e"),
t=C.get("tabbedHeadText","\u663e\u793a\u6587\u5b57"),r=new Bd;r.setCaption(B,t);r.setEmptyEnabled(!1);r.setMaxLength(40);r.setText("",function(n,u){n&&(n=new gd,n.setHeadText(u),n.setVisible(!1),u=Ec.getInstance(n.getWidgetTypeName()),e.allocateNameForNewWidget(n,u),u=new ie,u.setCaption(C.get("appendOneTabbed","\u6dfb\u52a0\u9875\u7b7e")),u.setValue(h,n),m.perform(u))});r.showDialogRightAnchorTo(d)}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_OneTabbed);a.setTypeDisplayName(C.get("widgetOneTabbed",
"\u9875\u7b7e"));a.setIconFileName("widget_tabbedone");this.getToolboxGroup=function(){return null};this.protectedCreateWidgetModel=function(b){return new gd};this.protectedCreateWidgetUi=function(){return new xc};this.createPropertyPanel=function(){return new J};this.isWidthLockedAlways=function(){return!0};this.isHeightLockedAlways=function(){return!0};this.createCustomDesignHandlerJqUi=function(b,c,d,e){d-=b.getY();return(new Pa(b.getParent(),e)).createJqUi(c,d,b)}},function(){lb.call(this);var a=
this.protectedMethod;a.setTypeName(oa.WidgetType_ProgramableCard);a.setTypeDisplayName(C.get("widgetProgramableCard","\u7f16\u7a0b\u5f0f\u5361\u7247"));a.setIconFileName("widget_programable");this.isSupported=function(){return db.getProgramableCardExecutor()?!0:!1};this.getToolboxGroup=function(){return Kd};this.protectedCreateWidgetModel=function(b){return new Cc};this.protectedCreateWidgetUi=function(){return new ta};this.getSuggestSize=function(){return[320,190]};this.selectSource=function(b,c,
d){db.getWidgetSourceSelector().selectProgramableCard(null,function(e){e?(c.setReferenceCustomMap(e),d(!0)):d(!1)})};this.createPropertyPanel=function(){return new w}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_CosmicCustomCard);a.setTypeDisplayName(C.get("widgetCustomCard","\u81ea\u5b9a\u4e49\u5361\u7247"));a.setIconFileName("widget_customcard");this.isSupported=function(){return db.getCosmicCustomCardExecutor()?!0:!1};this.getToolboxGroup=function(){return Kd};
this.protectedCreateWidgetModel=function(b){return new Ic};this.protectedCreateWidgetUi=function(){return new A};this.getSuggestSize=function(){return[320,190]};this.selectSource=function(b,c,d){db.getCosmicCustomCardSourceSelector()(null,function(e){e?(c.setEncodedModel(e),d(!0)):d(!1)})};this.createPropertyPanel=function(){return new z}},function(){lb.call(this);var a=this.protectedMethod;a.setTypeName(oa.WidgetType_CloudhubSubscribes);a.setTypeDisplayName(C.get("widgetCloudhubSubscribes","\u4e91\u4e4b\u5bb6\u8ba2\u9605"));
a.setIconFileName("widget_cloudhub");this.isSupported=function(){return db.getCloudhubSubscribesExecutor()?!0:!1};this.getToolboxGroup=function(){return Kd};this.protectedCreateWidgetModel=function(b){return new ad};this.protectedCreateWidgetUi=function(){return new y};this.getSuggestSize=function(){return[320,190]};this.selectSource=function(b,c,d){db.getCloudhubSubscribesSourceSelector()(function(e){e||""===e?(c.setEncodedModel(e),d(!0)):d(!1)})};this.createPropertyPanel=function(){return new D}}]);
Ec.registerUnknown(new function(){lb.call(this);this.protectedCreateWidgetModel=function(a){return new Zc};this.protectedCreateWidgetUi=function(){return new Ya};this.createPropertyPanel=function(){return new pc}});Da.Situation_Designtime=1;Da.Situation_Runtime_Preview=16;Da.Situation_Runtime_Mobile=256;jb.ACTION_ALL=65535;jb.ACTION_FULLSCREEN=4096;jb.ACTION_NONE=0;var zd;jb.hookDescriptionTipsDecorater=function(a){zd=a};var yd=new function(){Nb.call(this);this.getGroupName=function(){return"Content"};
this.getGroupDisplayName=function(){return C.get("groupContent","\u6570\u636e\u53ef\u89c6\u5316\u5185\u5bb9")}},Ld=new function(){Nb.call(this);this.getGroupName=function(){return"Filter"};this.getGroupDisplayName=function(){return C.get("groupFilter","\u7b5b\u9009\u5668")}},pd=new function(){Nb.call(this);this.getGroupName=function(){return"Common"};this.getGroupDisplayName=function(){return C.get("groupCommon","\u901a\u7528\u5185\u5bb9")}},Jd=new function(){Nb.call(this);this.getGroupName=function(){return"Container"};
this.getGroupDisplayName=function(){return C.get("groupContainer","\u5bb9\u5668")}},Kd=new function(){Nb.call(this);this.getGroupName=function(){return"BizSystem"};this.getGroupDisplayName=function(){return C.get("groupBizSystem","\u4e1a\u52a1\u7cfb\u7edf\u5185\u5bb9")}};pa.KEY_VISUAL_DATA_PREPARED_SUCCESS="tagPrepared";pa.KEY_VISUAL_DATA_PREPARED_ERROR="tagPreparingFailed";pa.KEY_SELECTED="selected";pa.KEY_SELECTED_BY_API=pa.KEY_SELECTED+"_api";pa.KEY_SELECTED_BY_MANUAL=pa.KEY_SELECTED+"_manual";
pa.KEY_PLAY="play";pa.KEY_OUTPUT_PARAM_REFRESHABLE="outputParamRefreshable";pa.KEY_OUTPUT_PARAM_VISUAL_UPDATABLE="outputParamVisualUpdatable";Ta.ACTION_EDIT=1;Ta.ACTION_ANALYSIS=2;Ta.ACTION_REFRESH=4;Ta.ACTION_FILTER=8;Ta.ACTION_INFO=32;Ta.ACTION_INSIGHT=64;Ta.STATE_PERFECT=0;Ta.STATE_REMOTE_ERROR=1;Ta.STATE_AUTO_REFRESHING=2;va.ACTION_REFRESH=1;va.ACTION_FILTER=2;tb.affectedTargetsToShortDisplay=function(a,b,c){for(var d="",e=0;e<b.getItemCount();e++){var h=b.getItem(e);if((c&h.getType())==h.getType()){var m=
[];var B=m;if(h.isSettingComplete()){var t=a.searchWidgetByName(h.getTargetWidgetName());t?(B.push(C.get("affectedTargetItem","\u201c#1\u201d").replace("#1",t.getDisplayName())),h=!0):(B.push(C.get("affectedTargetNotExist","\u4e0d\u5b58\u5728\u7ec4\u4ef6\u201c#1\u201d").replace("#1",h.getTargetWidgetName())),h=!1)}else B.push(C.get("affectedTargetIncomplete","\u8bbe\u7f6e\u4e0d\u5b8c\u6574")),h=!1;if(h)d+=m.join(""),d+=" ";else return m.join("")}}return d}})();(function(){function g(){var N=this,Q,T,J,Y,fa,ha=!1,Aa=256;this.setVisualWidgetEditableConfirmer=function(E){fa=E};this.setHeightAnnouncer=function(E){Y=E};var ra=function(){J||(J=new ja,N.protectedInit(J));return J};this.protectedInit=function(E){throw Error("Override");};this.setPreviewContext=function(E){ra().setPreviewContext(E)};this.setFacadeCreator=function(E){ra().setFacadeCreator(E)};this.createJqPage=function(E){T=$("<div>");T.appendTo(E)};this.resize=function(){if(Q){var E=[];Ka(E)?(ha=
!0,E=E.pop(),ra().getWidgetUiObject(E).refreshDuringFullscreen()):ra().relayoutAll(Q.getPage())}};var Ka=function(E){var bb=!1;Q.getPage().traversalDescendents(function(Xa){var Sa=!1;Xa.hasBeenFullscreen()&&(Sa=bb=!0,E&&E.push(Xa));return Sa});return bb};this.setJsonModel=function(E,bb){var Xa=new ub;Q=new O;try{Q.fromJsonObject(E,Xa)}catch(Sa){Xa.setError(!0),window.console&&console.error(Sa)}N.protectedDecorateModel(Q);Q.addPropertyChangedListener(vb);bb&&bb(Xa);ra().changeSkin(Q,function(Sa){return Sa==
Q},function(){var Sa=Q.getPage();ra().clear();ra().create(Sa,T,!1);Sa=ra().relayoutAll(Sa);Y&&Y(Sa);T.parent().css("background-color",T.css("background-color"));Oa()});Ja()};var Oa=function(){fa&&ra().traversalWidgetUiObjects(function(E){E.getModel().isInstanceOf(O.WidgetSuperType_BuiltinVisual)&&E.setVisualWidgetEditableConfirmer(fa)})};this.protectedDecorateModel=function(E){};this.protectedUndecorateModel=function(E){};this.destroy=function(){N.protectedUndecorateModel(Q);Q.getPage().traversalDescendents(function(E){ra().getWidgetUiObject(E).destroy()})};
this.getEnvironmentDescription=function(){var E=wa.get("envBrowser","\u6d4f\u89c8\u5668\uff1a")+ia.getBrowserName()+" "+ia.getBrowserVersion(),bb=wa.get("envScreen","\u5168\u5c4f\u5206\u8fa8\u7387\uff1a");bb+=window.screen.width;bb=bb+"*"+window.screen.height;bb=bb+" "+wa.get("envScreenComment","\uff08\u5728\u6d4f\u89c8\u5668\u7f29\u653e100%\u7684\u60c5\u51b5\u4e0b\uff09");return E+"\r\n"+bb};this.hasSlideshow=function(){var E=!1;Q.getPage().traversalDescendents(function(bb){return bb instanceof Bc&&
bb.isSlideshowEnabled()?E=!0:!1});return E};this.slideshowPause=function(E){ra().traversalWidgetUiObjects(function(bb){var Xa=bb.getModel();Xa instanceof Bc&&Xa.isSlideshowEnabled()&&(E?bb.slideshowPause(!0):Xa.isTopLevelSlideshow()&&bb.slideshowPause(!1))})};this.setLayerCoverOthers=function(E){Aa=E};var Ja=function(){var E=[];Q.getPage().traversalDescendents(function(bb){E.push(bb.getWidgetTypeName())});wb.occur(wb.DSB_WIDGET_TYPE,E)},vb=function(E,bb){if(bb==O.KEY_RECT)ra().updateWidgetRect(E);
else if(bb==Bc.KEY_SWITCH_SUB){if(!E.hasBeenFullscreen()){var Xa=ra().searchJqUiByModel(E.getParent());E=T.parent();bb=E.prop("scrollLeft");var Sa=bb+E.prop("clientWidth"),rb=E.prop("scrollTop"),$a=rb+E.prop("clientHeight"),xb=[0,0];xb=M.upwardCoordinate(Xa[0],xb,E[0]);Xa=xb[0];xb=xb[1];var C={},Hb=!1;if(Xa<bb||Xa>Sa)Hb=!0,C.scrollLeft=Xa;if(xb<rb||xb>$a)Hb=!0,C.scrollTop=xb;Hb&&E.animate(C)}}else bb==O.KEY_FULLSCREEN?(ha&&!Ka()&&(ha=!1,ra().relayoutAll(Q.getPage())),Lb(E),Gb(E)):bb==Bc.KEY_TABBED_SELECTED&&
ra().intoTabbed(E)},Lb=function(E){var bb=E.hasBeenFullscreen();E.upToVisitPath(function(Xa){var Sa;if(Xa==Q.getPage())Xa=T.parent(),bb&&(Sa=Aa);else{var rb=T,$a=Xa.getParent();$a!=Q.getPage()&&(rb=ra().getWidgetUiObject($a).getJqPhysicalContainer());Xa=ra().searchJqUiByModel(Xa,rb);bb&&(Sa=parseInt(Xa.css("z-index"))+1)}bb?Xa.data("myLayer",parseInt(Xa.css("z-index"))):(Sa=Xa.data("myLayer"),Xa.removeData("myLayer"));Xa.css("z-index",Sa)})},Gb=function(E){var bb=E.hasBeenFullscreen();E=ra().searchJqUiByModel(E.getParent());
M.upwardSearch(E,$(document.body),function(Xa){if(bb){var Sa=Xa.css("overflow");Sa&&Xa.data("myCutting",Sa);Xa.css("overflow","visible")}else Sa=Xa.data("myCutting"),Xa.removeData("myCutting"),Sa&&Xa.css("overflow",Sa)})};this.protectedMethod={getDashboardModel:function(){return Q},getPageUiManager:ra}}function pb(){g.call(this);var N=this,Q=this.protectedMethod,T,J,Y={};this.protectedInit=function(ra){ha(ra,T);var Ka=new W;Ka.setDesigntime(!1);ra.hookWidgetCtrlProvider(Ka)};this.protectedDecorateModel=
function(ra){ra=ra.getPage();J=ra.getExhibitionMode();ra.traversalDescendents(function(Ka){Y[Ka.getName()]=[Ka.getX(),Ka.getY(),Ka.getWidth(),Ka.getHeight()]})};this.setCachedExhibitionMode=function(ra){T=ra};this.getFreshExhibitionMode=function(){return J};this.updateLayoutAdapter=function(ra){var Ka=Q.getDashboardModel().getPage();Ka.traversalDescendents(function(Oa){var Ja=Y[Oa.getName()];Oa.setPosition(Ja[0],Ja[1]);Oa.setSize(Ja[2],Ja[3])});ha(Q.getPageUiManager(),ra);ra=Aa(ra);fa(ra,Ka);N.resize()};
this.reparseRelativeDate=function(){var ra=!1;Q.getPageUiManager().traversalWidgetUiObjects(function(Ka){var Oa=Ka.getModel();Oa.isInstanceOf(O.WidgetSuperType_Calendar)&&Oa.getRelativeModel()&&(ra=!0,Ka.reparseRelativeDate())});return ra};var fa=function(ra,Ka){var Oa=new ra;Ka.setLayoutAdapter(Oa);Oa.initForParent(Ka);for(var Ja=0;Ja<Ka.getWidgetCount();Ja++){var vb=Ka.getWidget(Ja);Oa.initForChild(vb);vb.isContainer()&&fa(ra,vb)}},ha=function(ra,Ka){ra.setLayoutAdapterCreator(function(){!Ka&&(Ka=
J);return new (Aa(Ka))})},Aa=function(ra){var Ka={};Ka[O.ExhibitionMode_Full]=Pa;Ka[O.ExhibitionMode_Fit]=pa;Ka[O.ExhibitionMode_HFull]=Ya;ra=Ka[ra];!ra&&(ra=ya);return ra}}function Da(){g.call(this);var N=this.protectedMethod,Q;this.protectedInit=function(T){T.setLayoutAdapterCreator(function(){return new $b});var J=new sa;T.hookWidgetCtrlProvider(J)};this.protectedDecorateModel=function(T){T=T.getPage();T.isMobileSkinActive()?Q=null:(Q=[T.getSkin(),T.getCustomCosmetic()],T.setSkin(O.Skin_White),
T.traversalDescendents(function(J){J.setSkinActive(!1)}))};this.protectedUndecorateModel=function(T){Q&&(T.getPage().setSkin(Q[0],Q[1]),N.getPageUiManager().changeSkin(T,function(J){return!0},function(){}))}}function jb(){var N=this,Q,T=function(){Q||(Q=N.protectedCreateExhibition());return Q};this.protectedCreateExhibition=function(){throw Error("Override");};this.setRemoteImpl=function(J){T().setFacadeCreator(function(Y,fa,ha){return new Yb(J,Y,fa,ha)})};this.createJqUi=function(){var J=$("<div>");
J.css("background-color","#fff");T().createJqPage(J);M.layoutCtrlWithLRTB(J,0,0,null,0,0,null);return J};this.resize=function(){T().resize()};this.setJsonModel=function(J,Y){T().setJsonModel(J,Y)};this.getEnvironmentDescription=function(){return T().getEnvironmentDescription()};this.hasSlideshow=function(){return T().hasSlideshow()};this.slideshowPause=function(J){T().slideshowPause(J)};this.setVisualWidgetEditableConfirmer=function(J){T().setVisualWidgetEditableConfirmer(J)};this.setLayerCoverOthers=
function(J){T().setLayerCoverOthers(J)};this.protectedMethod={getExhibition:T}}function Ib(){var N=this,Q=new mb,T,J,Y,fa,ha=function(){T||(T=N.protectedCreateExhibition());return T};this.protectedCreateExhibition=function(){throw Error("Override");};this.protectedCreateExhibitionOwner=function(Oa){throw Error("Override");};this.setFacadeCreator=function(Oa){ha().setFacadeCreator(Oa)};this.resize=function(){ha().resize()};this.setJsonModel=function(Oa){ha().setJsonModel(Oa)};this.createJqUi=function(Oa){Q.addButton(Aa,
"btn_backward",wa.get("backward","\u8fd4\u56de"));Q.addButton(function(){},"btn_preview",wa.get("fullscreen","\u5168\u5c4f")).getJqUi().on("click",ra);la.addChangedListener(Ka);N.protectedInitToolbar(Q,ha());J=$("<div>");J.css("overflow","auto");J.addClass("dsb-previewer-contentpane");var Ja=N.protectedCreateExhibitionOwner(J);ha().setPreviewContext(Oa);ha().createJqPage(Ja);Oa=$("<div>");Oa.addClass("dsb-previewer");Oa.append(Q.getJqUi());Oa.append(J);return Oa};this.protectedInitToolbar=function(Oa,
Ja){};this.setBackwardListener=function(Oa){Y=Oa};var Aa=function(){la.removeChangedListener(Ka);ha().destroy();Y()},ra=function(){la.request(document.body)},Ka=function(Oa){null==Oa&&fa?(J.css({top:"",bottom:""}),Q.getJqUi().css("display",""),fa.remove(),fa=null):Oa==document.body&&(J.css({top:0,bottom:0}),Q.getJqUi().css("display","none"),fa=$("<div>"),fa.text(wa.get("quitFullscreen","\u9000\u51fa\u5168\u5c4f")),fa.css({"z-index":65535,cursor:"pointer","line-height":"30px","text-align":"center",
"font-size":"14px",color:"#789","background-color":"rgba(128,128,128,0.2)"}),fa.on("click",function(Ja){la.exit()}),fa.appendTo($(document.body)),M.layoutCtrl(fa,0,0,72,30))}}function Nb(){Ib.call(this);this.protectedCreateExhibition=function(){return new pb};this.protectedCreateExhibitionOwner=function(N){return N};this.protectedInitToolbar=function(N,Q){N.addButton(function(){var T=new nc;T.setOptionType(nc.OPTION_OK);T.setTitle(wa.get("currentEnvironment","\u5f53\u524d\u73af\u5883"));T.setMessage(Q.getEnvironmentDescription());
T.showDialog()},"btn_info",wa.get("environment","\u73af\u5883"))}}function lb(){Ib.call(this);this.protectedCreateExhibition=function(){return new Da};this.protectedCreateExhibitionOwner=function(Q){var T=$("<div>");T.css({"background-color":"#000","border-radius":"12px"});T.appendTo(Q);M.layoutCtrl(T,4,4,380,700);N(T);Q=$("<div>");Q.css({"background-color":"#000","border-radius":"4px"});Q.appendTo(T);M.layoutCtrl(Q,375,150,8,60);Q=$("<div>");Q.css({"background-color":"#333","border-radius":"10px"});
Q.appendTo(T);M.layoutCtrl(Q,60,10,12,12);Q=$("<div>");Q.css({"background-color":"#222","border-radius":"4px"});Q.appendTo(T);M.layoutCtrl(Q,160,12,60,8);Q=$("<div>");Q.text(wa.get("preview","\u9884\u89c8"));Q.css({"text-align":"center","line-height":"40px","font-size":"14px",color:"#333","background-color":"#fff","border-bottom":"1px solid #ccc"});Q.appendTo(T);M.layoutCtrlWithLRTB(Q,10,10,null,30,null,39);Q=$("<div>");Q.appendTo(T);M.layoutCtrlWithLRTB(Q,10,10,null,70,30,null);return Q};var N=function(Q){var T=
$("<div>");T.css("transform-origin","left top");M.layoutCtrlWithLRTB(T,170,null,30,null,0,7);T.appendTo(Q);var J=$("<div>");J.css("background-color",Q.css("background-color"));J.appendTo(T);M.layoutCtrlWithLRTB(J,14,0,null,0,0,null);J=$("<div>");J.css("background-color",Q.css("background-color"));J.appendTo(T);M.layoutCtrlWithLRTB(J,0,null,14,null,0,2);var Y=!1;T.on("mouseenter",function(fa){Y=!Y;T.css({transform:Y?"rotate(40deg)":"",transition:"0.2s"})})}}function Vb(){this.initForParent=function(N){throw Error("Override");
};this.initForChild=function(N){throw Error("Override");};this.relayoutPage=function(N,Q){throw Error("Override");};this.relayout=function(N,Q,T){throw Error("Override");}}function gc(){Vb.call(this);var N;this.initForParent=function(Q){Q.isInstanceOf(O.WidgetSuperType_CompositeContainer)||(N=new gb,N.setDesigningSize(Q.getClientWidth(),Q.getClientHeight()))};this.initForChild=function(Q){N&&N.appendBlock(Q.getName(),Q.getX(),Q.getY(),Q.getWidth(),Q.getHeight(),Q.isWidthLocked(),Q.isHeightLocked())};
this.protectedMethod={relayoutParentWidget:function(Q,T,J){N&&N.transformTo(T,J);for(T=0;T<Q.getWidgetCount();T++){J=Q.getWidget(T);if(N){var Y=N.searchBlockRect(J.getName());if(!Y)continue;J.setRectangle(Y[0],Y[1],Y[2],Y[3])}J.isContainer()&&J.getLayoutAdapter().relayout(J,J.getClientWidth(),J.getClientHeight())}}}}function Pa(){gc.call(this);var N=this,Q=this.protectedMethod;this.relayoutPage=function(T,J){J.parent().css("overflow","hidden");M.layoutCtrl(J,0,0,"100%","100%");var Y=J.innerWidth();
J=J.innerHeight();N.relayout(T,Y,J);return J};this.relayout=function(T,J,Y){Q.relayoutParentWidget(T,J,Y)}}function pa(){gc.call(this);var N=this.protectedMethod;this.relayoutPage=function(Q,T){T.parent().css("overflow","hidden");M.layoutCtrl(T,0,0,"100%","100%");var J=T.innerWidth(),Y=T.innerHeight(),fa=0,ha=0,Aa=J,ra=Y,Ka=Q.getClientWidth(),Oa=Q.getClientHeight();Ka/=Oa;Oa=Aa/ra;Ka>Oa?(ra=Math.round(Aa/Ka),ha=Y-ra>>1):Ka<Oa&&(Aa=Math.round(ra*Ka),fa=J-Aa>>1);M.layoutCtrl(T,fa,ha,Aa,ra);N.relayoutParentWidget(Q,
Aa,ra);return Y};this.relayout=function(Q,T,J){N.relayoutParentWidget(Q,T,J)}}function Ya(){gc.call(this);var N=this,Q=this.protectedMethod;this.relayoutPage=function(T,J){J.parent().css({"overflow-x":"hidden","overflow-y":"auto"});var Y=J.parent().prop("clientWidth");var fa=T.getClientWidth();var ha=T.getClientHeight();fa=parseInt(ha*Y/fa);M.layoutCtrl(J,0,0,Y,fa);N.relayout(T,Y,fa);return fa};this.relayout=function(T,J,Y){Y=T.getClientWidth();var fa=T.getClientHeight();Y=parseInt(fa*J/Y);Q.relayoutParentWidget(T,
J,Y)}}function ya(){Vb.call(this);var N=this;this.initForParent=function(Q){};this.initForChild=function(Q){};this.relayoutPage=function(Q,T){T.parent().css("overflow","auto");var J=Q.getClientWidth(),Y=Q.getClientHeight();M.layoutCtrl(T,0,0,J,Y);N.relayout(Q,-1,-1);return Y};this.relayout=function(Q,T,J){for(T=0;T<Q.getWidgetCount();T++)J=Q.getWidget(T),J.setRectangle(J.getX(),J.getY(),J.getWidth(),J.getHeight()),J.isContainer()&&J.getLayoutAdapter().relayout(J,J.getClientWidth(),J.getClientHeight())}}
function $b(){Vb.call(this);var N;this.initForParent=function(J){J.getTopPage().isMobileDesired()&&(N=new Ya,N.initForParent(J))};this.initForChild=function(J){N&&N.initForChild(J)};this.relayoutPage=function(J,Y){if(N)return N.relayoutPage(J,Y);Y.parent().css({"overflow-x":"hidden","overflow-y":"auto"});var fa=Y.parent().prop("clientWidth");J=Q(J,fa,6,6);M.layoutCtrl(Y,0,0,fa,J);return J};this.relayout=function(J,Y,fa){if(N)N.relayout(J,Y,fa);else return Q(J,Y,0,6)};var Q=function(J,Y,fa,ha){Y-=
2*fa;var Aa=fa,ra=0;if(J.getTopPage().getMobileLayoutConverter()==O.MobileLayoutConverter_ByPosition)var Ka=T(J);else{Ka=[];for(var Oa=0;Oa<J.getWidgetCount();Oa++){var Ja=J.getWidget(Oa);Ka.push(Ja)}}for(Oa=0;Oa<Ka.length;Oa++){Ja=Ka[Oa];if(Ja.isContainer()){var vb=Ja.getHeight();Ja.setSize(Y,vb);var Lb=Ja.getClientWidth();vb=Ja.getLayoutAdapter().relayout(Ja,Lb,vb);Ja.setClientSize(Lb,vb);Lb=Ja.getHeight();Ja instanceof tb&&(Aa=0)}else Ja.isInstanceOf(O.WidgetSuperType_BuiltinVisual)||Ja instanceof
Pb||Ja instanceof yc||Ja instanceof vc?Lb=Ja.isHeightLocked()?Ja.getHeight():parseInt(.618*Y):Ja instanceof hc?Lb=Y*Ja.getHeight()/Ja.getWidth():Ja.isInstanceOf(O.WidgetSuperType_WithLabel)?Ja.getFrontLabel()?(Ja.setFrontLabelPosition("top"),Lb=50):Lb=32:Lb=Ja.getHeight();Ja.setRectangle(fa,Aa,Y,Lb);ra=J instanceof Bc?Math.max(ra,J.getHeadHeight()+Lb+ha):Aa+=Lb+ha}return ra},T=function(J){for(var Y=null,fa=[],ha=[],Aa=0;Aa<J.getWidgetCount();Aa++){var ra=J.getWidget(Aa);ra.isEldestSon()?Y=ra:ra.isInstanceOf(O.WidgetSuperType_WithLabel)?
fa.push(ra):ha.push(ra)}J=function(Ka,Oa){var Ja=Ka.getY()-Oa.getY();return 0==Ja?Ka.getX()-Oa.getX():Ja};fa=fa.sort(J);ha=ha.sort(J);fa=fa.concat(ha);Y&&fa.splice(0,0,Y);return fa}}function ub(){var N=!1,Q=!1;this.setError=function(T){N=T};this.isError=function(){return N};this.setTooModern=function(T){Q=T};this.isTooModern=function(){return Q}}function Qa(N,Q,T){function J(Y){var fa,ha,Aa,ra,Ka;(function(){fa=$("<div>");fa.addClass("sa-ctrl-common-modallayer");fa.appendTo($(document.body));fa.on("click",
function(vb){Oa()});ha=$("<div>");ha.addClass("dsb-toolbar-dropdown-area");ha.appendTo(fa);ha.css("max-height",Math.floor(fa.prop("clientHeight")-ha.prop("offsetTop")-30));Aa=$("<div>");Aa.addClass("dsb-toolbar-dropdown-container");Aa.appendTo(ha);ra=$("<div>");ra.addClass("dsb-toolbar-dropdown-collapse");ra.appendTo(ha);var Ja=$("<div>");Ja.text("<<");Ja.addClass("dsb-toolbar-dropdown-collapse-text");Ja.appendTo(ra)})();this.getJqContainer=function(){return Aa};this.animateHeight=function(Ja,vb){0===
Ja?Oa():(Ja+=ra.prop("offsetHeight"),ha&&ha.animate({height:Ja},{duration:100,queue:!1,complete:vb}))};this.setCollapseListener=function(Ja){Ka=Ja};var Oa=function(){ha&&(ha.animate({height:0},function(){fa.remove()}),ha=null,Ka&&Ka())}}this.setCurrentName=function(Y){Q.setCurrentName(Y)};this.showShortPrompt=function(Y,fa,ha){Q.showShortPrompt(Y,fa,ha)};this.setDirtyListener=function(Y){T.hookDirtyListener(Y)};this.clearDirty=function(){T.setDirty(!1)};this.isDirty=function(){return T.isDirty()};
this.insertToolbarButton=function(Y,fa,ha,Aa){return N.addButtonForHeadCustom(Y,fa,ha,Aa)};this.appendToolbarButton=function(Y,fa,ha,Aa){return N.addButtonForTailCustom(Y,fa,ha,Aa)};this.insertToolbarSeperator=function(){N.addSeperatorForHeadCustom()};this.insertToolbarMenu=function(Y,fa,ha,Aa){return N.addMenuButtonForHeadCustom(function(){return Y},fa,ha,Aa)};this.appendToolbarMenu=function(Y,fa,ha,Aa){return N.addMenuButtonForTailCustom(function(){return Y},fa,ha,Aa)};this.getWarningRuleHelper=
function(){return T.getWarningRuleHelper()};this.showModalUi=function(Y){return new J(Y.getJqUi())}}function mb(){var N=new fc,Q,T=$("<div>"),J=$("<div>"),Y=$("<div>");this.getJqUi=function(){Q||(Q=N.getJqUi(),Q.addClass("dsb-toolbar"),fa(T),fa(J),fa(Y));return Q};this.refresh=function(){N.refresh()};this.addSeperator=function(){N.appendSeperator(J)};this.addSeperatorForHeadCustom=function(){N.appendSeperator(T)};this.addButton=function(Aa,ra,Ka,Oa){return ha(J,!1,Aa,ra,Ka,Oa)};this.addButtonForHeadCustom=
function(Aa,ra,Ka,Oa){return ha(T,!1,Aa,ra,Ka,Oa)};this.addButtonForTailCustom=function(Aa,ra,Ka,Oa){return ha(Y,!1,Aa,ra,Ka,Oa)};this.addMenuButton=function(Aa,ra,Ka,Oa){return ha(J,!0,Aa,ra,Ka,Oa)};this.addMenuButtonForHeadCustom=function(Aa,ra,Ka,Oa){return ha(T,!0,Aa,ra,Ka,Oa)};this.addMenuButtonForTailCustom=function(Aa,ra,Ka,Oa){return ha(Y,!0,Aa,ra,Ka,Oa)};var fa=function(Aa){Aa.css({"float":"left",position:"relative",height:"100%"});Aa.appendTo(Q)},ha=function(Aa,ra,Ka,Oa,Ja,vb){Aa=N.createButton(Aa,
ra,Ka,Ja,vb);Aa.setIconSetter(function(Lb,Gb){Eb.background(Lb,Gb)});Aa.setIconName(Oa);return Aa}}function aa(){var N,Q,T,J,Y;this.getJqUi=function(){N||(N=$("<div>"),N.addClass("dsb-statusbar"),Q=$("<span>"),Q.addClass("dsb-statusbar-name"),Q.appendTo(N),T=$("<span>"),T.addClass("dsb-statusbar-dirtystate"),T.appendTo(N),J=$("<span>"),J.addClass("dsb-statusbar-prompt"),J.appendTo(N));return N};this.setCurrentName=function(ha){Q.text(ha)};this.showDirtyState=function(ha){T.text(ha?"*":"")};this.showShortPrompt=
function(ha,Aa,ra){clearTimeout(Y);J.text(ha);J.css("color",ra?ra:"");if(Aa){var Ka=0,Oa=function(){if(6<Ka)fa();else{if(0==Ka%2){J.text(ha);var Ja=650}else J.text(""),Ja=350;Y=setTimeout(Oa,Ja);Ka++}};Oa()}else fa()};var fa=function(){Y=setTimeout(function(){J.text("")},5E3)}}function Wa(){var N=this,Q,T,J,Y,fa,ha;this.setGlobalDependence=function(Aa){Q=Aa};this.updateDashboardModel=function(){if(Y){var Aa=Q.getDashboardModel();Y.setDashboardModel(Aa);ha.setDashboardModel(Aa,function(){Y.getWidgetSelectedModel().setSelected(Aa.getPage())})}};
this.resize=function(){T.resize();ha.requestWidgetsRepainting()};this.getJqUi=function(){if(!T){var Aa=new na,ra=new X;J=new La;J.setDragingHandler(Aa);Y=new nb;Y.setGlobalDependence(Q);Y.setWidgetSelectedModel(ra);fa=new Ta;fa.setGlobalDependence(Q);fa.setWidgetSelectedModel(ra);ha=new za;ha.setGlobalDependence(Q);ha.setWidgetSelectedModel(ra);ha.setDragingHandler(Aa);Aa=new lc;Aa.setHorizontalSplit(!1);Aa.setSplitLineWide(8);Aa.setResizeMode(lc.RESIZE_MODE_FIRST_FIXED);Aa.setFirstSize(360,60,600);
Aa.setSecondSize(-1,60,-1);Aa.setFirstChild(lc.createChildWrapper(J.getJqUi()));Aa.setSecondChild(lc.createChildWrapper(Y.getJqUi()));ra=new lc;ra.setHorizontalSplit(!0);ra.setSplitLineWide(8);ra.setResizeMode(lc.RESIZE_MODE_SECOND_FIXED);ra.setFirstSize(-1,120,-1);ra.setSecondSize(220,80,600);ra.setFirstChild(lc.createChildWrapper(ha.getJqUi()));ra.setSecondChild(lc.createChildWrapper(fa.getJqUi()));T=new lc;T.setHorizontalSplit(!0);T.setSplitLineWide(8);T.setResizeMode(lc.RESIZE_MODE_FIRST_FIXED);
T.setFirstSize(206,60,640);T.setSecondSize(-1,600,-1);T.setFirstChild(Aa);T.setSecondChild(ra);T.getJqUi().addClass("dsb-main-body");N.updateDashboardModel()}return T.getJqUi()};this.collectWidgetsContextForPreview=function(){return ha.collectWidgetsContextForPreview()};this.requestSelectingWidget=function(Aa){Y.getWidgetSelectedModel().setSelected(Aa)}}function X(){var N=null,Q=[];this.addChangedListener=function(T){Q.push(T)};this.setSelected=function(T){if(N!=T){var J=N;T=N=T;for(var Y=0;Y<Q.length;Y++)(0,Q[Y])(J,
T)}};this.getSelected=function(){return N}}function Fa(){var N=null,Q;this.putByCut=function(T){N=T;Q=!1};this.putByCopy=function(T){N=T;Q=!0};this.isCopying=function(){return Q};this.pickToPasteByCut=function(){var T=N;N=null;return T};this.getTarget=function(){return N};this.hasNothing=function(){return null==N}}function Ra(){var N=this,Q;this.getJqUi=function(){if(!Q){Q=$("<div>");Q.addClass("dsb-workarea");var T=$("<div>");T.addClass("dsb-workarea-title");T.appendTo(Q);var J=$("<div>");J.addClass("dsb-workarea-title-text");
J.appendTo(T);T=$("<div>");T.addClass("dsb-workarea-container");T.appendTo(Q);N.protectedInitUi(J,T)}return Q};this.protectedInitUi=function(T,J){throw Error("Override");}}function La(){Ra.call(this);var N=$("<div>");this.setDragingHandler=function(J){J.bindDragContainer(N,T)};this.protectedInitUi=function(J,Y){J.text(wa.get("toolboxAreaTitle","\u5de5\u5177\u7bb1"));J=Q();var fa={};N.css({"overflow-x":"hidden","overflow-y":"auto"});M.layoutCtrlWithLRTB(N,0,0,null,0,0,null);for(var ha=Zb.getToolboxInstances(),
Aa=0;Aa<ha.length;Aa++){var ra=ha[Aa],Ka=ra.getToolboxGroup();if(Ka){var Oa=fa[Ka.getGroupName()];if(!Oa){Oa=$("<div>");Oa.addClass("dsb-toolbox-group");var Ja=$("<div>");Ja.addClass("dsb-toolbox-group-title");Ja.text(Ka.getGroupDisplayName());Ja.appendTo(Oa);fa[Ka.getGroupName()]=Oa;Oa.appendTo(N)}Ka=void 0;Ja=ra;var vb=J;ra=$("<div>");ra.addClass("dsb-toolbox-widget");ra.data("model",Ja);var Lb=$("<div>");Lb.addClass("dsb-toolbox-widget-icon");Eb.background(Lb,Ja.getIconFileName());Lb.appendTo(ra);
var Gb=$("<div>");Gb.addClass("dsb-toolbox-widget-text");Gb.appendTo(ra);var E=$.trim(Ja.getTypeDisplayName());60<vb(E)&&(0<E.indexOf(" ")?Ka=E.split(" "):(Ka=E.length>>1,Ka=[E.substr(0,Ka),E.substr(Ka)]));if(Ka){for(E=0;E<Ka.length;E++){vb=Ka[E];var bb=$("<div>");bb.css("line-height","14px");bb.text(vb);bb.appendTo(Gb)}Gb.css("bottom",0);Gb.css("height",14*Ka.length)}else Gb.text(E);Ja.isReleased()||(Lb.addClass("dsb-toolbox-widget-icon_unreleased"),Gb.addClass("dsb-toolbox-widget-text_unreleased"),
Ka=$("<div>"),Ka.addClass("dsb-toolbox-widget-unreleased"),Eb.background(Ka,"widget_unreleased"),Ka.appendTo(ra));ra.appendTo(Oa)}}N.appendTo(Y);J(null)};var Q=function(){var J=new Ga;J.setFontSize(Rb.getFontSize());return function(Y){return null===Y?(J.destroy(),0):J.measureWidth(Y)}},T=function(J){return(J=M.upwardSearchHasClass(J,N,"dsb-toolbox-widget"))?J.data("model"):null}}function nb(){Ra.call(this);var N=this,Q,T,J,Y,fa,ha=!0,Aa=!1,ra,Ka,Oa,Ja;this.setDashboardModel=function(Z){T&&T.removeChildrenChangedListener(rb);
T&&T.removePropertyChangedListener($a);T=Z;T.addChildrenChangedListener(rb);T.addPropertyChangedListener($a);fa&&vb()};this.setGlobalDependence=function(Z){Q=Z};this.setWidgetSelectedModel=function(Z){J=Z;J.addChangedListener(C)};this.getWidgetSelectedModel=function(){return J};this.protectedInitUi=function(Z,ea){Z.text(wa.get("outlineAreaTitle","\u5927\u7eb2"));ra=new pc;ra.setText("\u2191");ra.setTooltips(wa.get("moveUp","\u4e0a\u79fb"));ra.addActionListener(tc);Ka=new pc;Ka.setText("\u2193");Ka.setTooltips(wa.get("moveDown",
"\u4e0b\u79fb"));Ka.addActionListener(tc);ra.getJqUi().appendTo(Z);Ka.getJqUi().appendTo(Z);M.layoutCtrlWithLRTB(ra.getJqUi(),null,22,20,2,2,null);M.layoutCtrlWithLRTB(Ka.getJqUi(),null,2,20,2,2,null);fa=new Dc;fa.setBorderVisible(!1);fa.setToggleSelectingEnabled(!1);fa.setCustomItemPainter(Lb);fa.setCustomSelectedsPainter(Gb);fa.addSelectedChangedListener(Hb);Z=fa.getJqUi();Z.appendTo(ea);M.layoutCtrlWithLRTB(Z,0,0,null,0,0,null);T&&vb()};var vb=function(){for(var Z=[],ea=[T.getPage()];0<ea.length;){var F=
ea.pop();Z.push(F);if(F.isContainer())for(var ca=F.getWidgetCount()-1;0<=ca;ca--){var Ma=F.getWidget(ca);ea.push(Ma)}}fa.setItemModels(Z)},Lb=function(Z,ea){Z.attr("name","ol_"+ea.getName());for(var F=-1,ca=ea;ca;)F++,ca=ca.getParent();F*=18;ca=ea.getParent()?!1:!0;var Ma=Zb.getInstance(ea.getWidgetTypeName()),cb=$("<div>");cb.addClass("dsb-outline-listitem-icon");cb.data("myIconName",Ma.getIconFileName()+"_min");cb.appendTo(Z);Ma=$("<div>");Ma.addClass("dsb-outline-listitem-text");Ma.appendTo(Z);
var eb=$("<div>");eb.addClass("dsb-outline-listitem-op");eb.text("...");eb.hide();eb.appendTo(Z);cb.css("left",F+"px");Ma.css("left",F+20+"px");E(Z,!1);bb(ea,Ma);!ca&&Xa(ea,Z);eb.data("widget",ea);Z.on("mouseenter",kc);Z.on("mouseleave",kb);eb.on("click",Ab)},Gb=function(Z,ea){for(var F=0;F<Z.length;F++){var ca=Z[F];E(ca,!1)}for(F=0;F<ea.length;F++)ca=ea[F],E(ca,!0)},E=function(Z,ea){Z=Z.children().first();var F=Z.data("myIconName");Eb.background(Z,F+(ea?"_selected":""))},bb=function(Z,ea){!ea&&(ea=
Sa(Z).find(".dsb-outline-listitem-text"));ea.text(Z.getDisplayName())},Xa=function(Z,ea){!ea&&(ea=Sa(Z));var F=Z.getParent(),ca=ea.children().first(),Ma=ca.find(".dsb-outline-listitem-icon_alarm"),cb=F.getClientWidth(),eb=F.getClientHeight();Z.getX()+Z.getWidth()>cb||Z.getY()+Z.getHeight()>eb?0==Ma.length&&(Ma=ib.createWarning(),Ma.addClass("dsb-outline-listitem-icon_alarm"),Ma.appendTo(ca),ca=wa.get("outside","#1 \u8d85\u51fa\u5176\u6240\u5728\u5bb9\u5668 #2 \u7684\u8303\u56f4\u3002"),ca=ca.replace("#1",
Z.getDisplayName()),ca=ca.replace("#2",F.getDisplayName()),ea.attr("title",ca)):(Ma.remove(),ea.attr("title",null))},Sa=function(Z){return fa.getJqUi().find("[name=ol_"+Z.getName()+"]")},rb=function(Z,ea,F){vb();Z==O.KEY_MOVE_CHILD&&Xb()},$a=function(Z,ea){ea==O.KEY_PAGE_SIZE||ea==O.KEY_RECT?(ea!=O.KEY_PAGE_SIZE&&Xa(Z),xb(Z)):ea==O.KEY_PAGE_UNIFIED_CARD?Z.traversalDescendents(function(F){xb(F)}):ea==O.KEY_CARD_SURFACE&&Z.isContainer()?Z.traversalMeAndDescendents(function(F){xb(F)}):ea==O.KEY_CARD_TITLE||
ea==bc.KEY_FULLSCREEN_ALLOWED?xb(Z):ea==O.KEY_DISPLAY_NAME?bb(Z):ea==Bc.KEY_SWITCH_SUB&&J.setSelected(Z)},xb=function(Z){if(Z.isContainer())for(var ea=0;ea<Z.getWidgetCount();ea++){var F=Z.getWidget(ea);Xa(F)}},C=function(Z,ea){Aa||(ha=!1,Z=ea?[ea]:[T.getPage()],fa.setSelecteds(Z),fa.scrollSelectedToVisible(),ha=!0);for(Z=[];ea&&ea!=T.getPage();)Z.push(ea),ea=ea.getParent();for(;0<Z.length;)ea=Z.pop(),ea.setVisible(!0);Xb()},Hb=function(Z,ea,F){ha&&(Aa=!0,J.setSelected(F[0]),Aa=!1)},tc=function(Z){var ea=
Z.getUserObject();!ea&&(ea=0);ea++;Z.setUserObject(ea);Z==ra&&(ea=-ea);uc(ea);clearTimeout(Oa);Oa=setTimeout(function(){Ja&&Ja.remove();Ja=null;var F=Z.getUserObject();Z.setUserObject(null);Z==ra&&(F=-F);var ca=J.getSelected(),Ma=new p;Ma.setCaption(0>F?wa.get("moveUp","\u4e0a\u79fb"):wa.get("moveDown","\u4e0b\u79fb"));Ma.setValue(ca,F);Q.getCommandManager().perform(Ma)},375)},uc=function(Z){var ea=J.getSelected();if(!Ja){var F=Sa(ea),ca=F.prop("offsetTop")+(F.prop("offsetHeight")>>1);Ja=$("<div>");
Ja.css({"background-color":F.css("background-color")});Ja.appendTo(F.parent());M.layoutCtrl(Ja,0,ca,"100%",2)}F=ea.getParent();ca=F.getWidget(0).isEldestSon()?1:0;for(var Ma=F.getWidgetCount(),cb,eb=0;eb<Ma;eb++)if(F.getWidget(eb)==ea){cb=eb;break}cb=Math.min(Ma-1,Math.max(ca,cb+Z));ea=F.getWidget(cb);if(0<Z)for(;ea.isContainer()&&0<ea.getWidgetCount();)ea=ea.getWidget(ea.getWidgetCount()-1);ea=Sa(ea);ca=ea.prop("offsetTop")+(0<Z?ea.prop("offsetHeight"):0);Ja.animate({top:ca},250)},Xb=function(){var Z=
J.getSelected();ra.setUserObject(null);Ka.setUserObject(null);var ea=Z.getParent();if(ea&&!Z.isEldestSon()){var F=ea.getWidget(0);F.isEldestSon()?ra.setEnabled(ea.getWidget(1)!=Z):ra.setEnabled(F!=Z);Ka.setEnabled(ea.getWidget(ea.getWidgetCount()-1)!=Z)}else ra.setEnabled(!1),Ka.setEnabled(!1)},kc=function(Z){$(Z.currentTarget).children().last().show()},kb=function(Z){$(Z.currentTarget).children().last().hide()},Ab=function(Z){var ea=$(Z.currentTarget),F=ea.parent(),ca=ea.data("widget"),Ma=ca.getParent()?
!1:!0;if((Z=ea.data("menu"))&&Z.isShowing())ea.data("menu",null),Z.hide();else{var cb=new xc;dc(cb,F,ca);Ma||(cb.addItemModel(jc.createActionMenuItem(wa.get("rename","\u91cd\u547d\u540d"),function(eb){Uc(F)})),ca.getWidgetTypeName()!=O.WidgetType_PageTitleBar&&(cb.addSeperator(),cb.addItemModel(jc.createActionMenuItem(wa.get("cut","\u526a\u5207"),Xc)),cb.addItemModel(jc.createActionMenuItem(wa.get("copy","\u590d\u5236"),Sc))));ca.isContainer()&&(Z=jc.createActionMenuItem(wa.get("paste","\u7c98\u8d34"),
Tc),Z.setEnabled(!mc().hasNothing()),cb.addItemModel(Z));Ma||(cb.addSeperator(),cb.addItemModel(jc.createActionMenuItem(wa.get("remove","\u5220\u9664"),Qc)));Z=new jc;Z.setModel(cb);Z.setHideListener(function(){ea.data("menu",null)});ea.data("menu",Z);Ma=N.getJqUi();cb=Math.max(80,Math.min(120,.8*Ma.innerWidth()));ca=[-cb-4,0];ca=M.upwardCoordinate(ea[0],ca,Ma[0]);Z.setWidth(cb);Z.show(Ma,ca[0],ca[1],ea,!0,[0,ea.outerHeight()])}},dc=function(Z,ea,F){Zb.getInstance(F.getWidgetTypeName()).createOutlineMenu(Z,
ea,F,T,Q.getCommandManager())&&Z.addSeperator()},mc=function(){Y||(Y=new Fa);return Y},Uc=function(Z){var ea=J.getSelected(),F=ea.getDisplayName(),ca=wa.get("displayName","\u540d\u79f0"),Ma=$.trim(ea.getDisplayName()),cb=new Ua;cb.setCaption(F,ca);cb.setEmptyEnabled(!1);cb.setMaxLength(40);cb.setClosingChecker(function(eb){return eb!=Ma&&T.isDisplayNameExist(eb)?wa.get("duplicatedDisplayName","\u540d\u79f0\u91cd\u590d"):null});cb.setText(ea.getDisplayName(),function(eb,zb){eb&&(eb=new K,eb.setCaption(wa.get("actionRename",
"\u4fee\u6539\u201c#1\u201d\u540d\u79f0\u4e3a\u201c#2\u201d").replace("#1",Ma).replace("#2",zb)),eb.setMethod(ea.getDisplayName,ea.setDisplayName),eb.setValue(zb),Q.getCommandManager().perform(eb))});cb.showDialogRightAnchorTo(Z)},Qc=function(Z){Z=J.getSelected();var ea=new l;ea.setCaption(wa.get("removeWidget","\u5220\u9664\u201c#1\u201d").replace("#1",Z.getDisplayName()));ea.setValue(Z.getParent(),Z);Q.getCommandManager().perform(ea)},Xc=function(Z){Z=J.getSelected();var ea=new w;ea.setCaption(wa.get("cutWidget",
"\u526a\u5207\u201c#1\u201d").replace("#1",Z.getDisplayName()));ea.setValue(Z.getParent(),Z);ea.setClipboard(mc());Q.getCommandManager().perform(ea)},Sc=function(Z){Q.showBlockingPrompt(wa.get("copying","\u6b63\u5728\u590d\u5236\u7ec4\u4ef6"));Z=J.getSelected();Db(Z,function(ea){mc().putByCopy(ea);Q.showBlockingPrompt(!1)})},Tc=function(Z){Z=J.getSelected();var ea=mc().getTarget(),F=[];Z.isCanContain(ea,F)&&ea.isCanBeContained(Z,F)?mc().isCopying()?Vc(Z,ea):Ca(Z,ea):(Z=F.join(" "),ea=new nc,ea.setOptionType(nc.OPTION_OK),
ea.setMessage(Z),ea.showDialog())},Vc=function(Z,ea){Q.showBlockingPrompt(wa.get("pasting","\u6b63\u5728\u7c98\u8d34\u7ec4\u4ef6"));Db(ea,function(F){T.reallocateNameForCopyPasteWidget(F);for(var ca=0;ca<Z.getWidgetCount();ca++){var Ma=Z.getWidget(ca);F.getX()==Ma.getX()&&F.getY()==Ma.getY()&&F.getWidth()==Ma.getWidth()&&F.getHeight()==Ma.getHeight()&&(F.setPosition(F.getX()+10,F.getY()+10),ca=0)}ca=new f;ca.setCaption(wa.get("pasteWidget","\u7c98\u8d34\u201c#1\u201d").replace("#1",F.getDisplayName()));
ca.setValue(Z,F);Q.getCommandManager().perform(ca);Q.showBlockingPrompt(!1)})},Ca=function(Z,ea){var F=Q.getCommandManager();F.compositeStart(wa.get("pasteWidget","\u7c98\u8d34\u201c#1\u201d").replace("#1",ea.getDisplayName()));ea.isContainer()&&ea.traversalMeAndDescendents(function(ca){ca.getDisplayName();ca.getName()});T.reallocateNameForCutPasteWidget(ea,function(ca,Ma){var cb=new K;cb.setMethod(ca.getDisplayName,ca.setDisplayName);cb.setValue(Ma);F.perform(cb)},function(ca,Ma){var cb=new K;cb.setMethod(ca.getName,
ca.setName);cb.setValue(Ma);F.perform(cb)});ea=new z;ea.setValue(Z);ea.setClipboard(mc());F.perform(ea);F.compositeEnd()},Db=function(Z,ea){var F=T.collectStylesToJsonObject(Z),ca=Z.toJsonObject(),Ma=Zb.getInstance(Z.getWidgetTypeName()).createWidgetModel();Ma.fromJsonObject(ca);F&&T.distributeStylesFromJsonObject(Ma,F);Z=[];for(F=[Ma];0<F.length;){ca=F.shift();if(ca.isContainer())for(var cb=0;cb<ca.getWidgetCount();cb++)F.push(ca.getWidget(cb));ca.isInstanceOf(O.WidgetSuperType_Referable)&&Z.push(ca)}var eb=
Z.length;if(0==eb)ea(Ma);else{var zb=0;for(cb=0;cb<eb;cb++)Z[cb].copyReference(function(){zb++;zb==eb&&ea(Ma)})}}}function Ta(){Ra.call(this);var N,Q,T,J;this.setGlobalDependence=function(fa){N=fa};this.protectedInitUi=function(fa,ha){fa.text(wa.get("propertyAreaTitle","\u5c5e\u6027"));T=ha};this.setWidgetSelectedModel=function(fa){Q=fa;Q.addChangedListener(Y)};var Y=function(fa,ha){T.empty();J&&J.destroy();ha&&(J=Zb.getInstance(ha.getWidgetTypeName()).createPropertyPanel(),J.setGlobalDependence(N),
J.setWidget(ha),fa=J.getJqUi(),M.layoutCtrlWithLRTB(fa,0,0,null,0,0,null),T.append(fa))}}function za(){var N=this,Q,T,J,Y,fa=new va,ha,Aa,ra,Ka=!1;this.setGlobalDependence=function(F){Q=F};this.setDashboardModel=function(F,ca){T&&T.removePropertyChangedListener(Ca);T&&T.removeChildrenChangedListener(Vc);T=F;T.addPropertyChangedListener(Ca);T.addChildrenChangedListener(Vc);fa.changeSkin(T,function(Ma){return Ma==T},function(){E();ca()})};this.setWidgetSelectedModel=function(F){ra=F;ra.addChangedListener(Db)};
this.setDragingHandler=function(F){F.bindDropContainer(N.getJqUi(),mc,Uc,Qc)};this.getJqUi=function(){if(!J){fa.setFacadeCreator(Q.createFacade);fa.setWidgetJqUiDecorator(Xa);fa.setWidgetEditedListener(Sa);J=$("<div>");J.addClass("dsb-pagearea");J.on("mousemove",Ja);J.on("mousedown",vb);J.on("mouseleave",Lb);var F=$("<div>");F.addClass("dsb-pagearea-page");F.appendTo(J);Y=F;F=$("<div>");M.layoutCtrl(F,0,0,1,1);F.appendTo(J);T&&E()}return J};this.requestWidgetsRepainting=function(){Oa().traversalDescendents(function(F){F.setRectangle(F.getX(),
F.getY(),F.getWidth(),F.getHeight())})};this.collectWidgetsContextForPreview=function(){var F={};fa.traversalWidgetUiObjects(function(ca){var Ma=ca.getModel().getName();ca=ca.collectContextForPreview();F[Ma]=ca});return F};var Oa=function(){return T.getPage()},Ja=function(F){F=$(F.target);!M.upwardSearchHasClass(F,J,C())&&!M.upwardSearchHasClass(F,J,xb())&&(F=(F=M.upwardSearchHasClass(F,J,rb()))?fa.getWidgetNameByJqUi(F):null,ha!=F&&(ha&&Gb(ha),ha=F))&&(F=T.searchWidgetByName(ha),fa.getWidgetUiObject(F).inside(),
uc()!=F&&Hb(F))},vb=function(F){var ca=$(F.target);if(!(M.upwardSearchHasClass(ca,J,C())||M.upwardSearchHasClass(ca,J,xb())||M.upwardSearchHasClass(ca,J,rb()))){var Ma=[F.offsetX,F.offsetY];Ma=M.upwardCoordinate(ca[0],Ma,J[0]);F=$(F.currentTarget);Ma[0]>F.prop("scrollLeft")+F.prop("clientWidth")||Ma[1]>F.prop("scrollTop")+F.prop("clientHeight")||null!=uc()&&tc(Oa())}},Lb=function(F){ha&&(Gb(ha),ha=null)},Gb=function(F){(F=T.searchWidgetByName(F))&&fa.getWidgetUiObject(F).outside();Hb(null)},E=function(){fa.clear();
bb();fa.create(Oa(),Y,!0)},bb=function(){var F=Oa().getWidth(),ca=Oa().getHeight();Y.css({width:F,height:ca});Y.siblings().css({left:F+20,top:ca+20})},Xa=function(F,ca){F.addClass(rb());F.on("mousedown",function(Ma){uc()!=ca&&(Ma=M.upwardSearchHasClass($(Ma.target),J,rb()),F[0]==Ma[0]&&kc())})},Sa=function(){Q.setDirty(!0)},rb=function(){return"dsb-pagearea-widget"},$a=function(){return"dsb-pagearea-selecting"},xb=function(){return"dsb-pagearea-selected"},C=function(){return"dsb-pagearea-preselect"},
Hb=function(F){if(Aa){var ca=fa.searchJqUiByModel(Aa);Xb(ca,!1)}Aa=F;F=null;Aa&&(ca=fa.searchJqUiByModel(Aa),Xb(ca,!0),F=ca);J.find("."+C()).remove();F&&kb(Aa,F,!0)},tc=function(F){ra.setSelected(F)},uc=function(){var F=ra.getSelected();return F==Oa()?null:F},Xb=function(F,ca){M.upwardSearch(F,J,function(Ma){Ma.hasClass(rb())&&Ma.css("z-index",ca?2:1)})},kc=function(){if(Aa){Ka=!0;tc(Aa);Ka=!1;Aa=null;var F=J.find("."+C());F.removeClass(C());F.addClass(xb())}},kb=function(F,ca,Ma){var cb=Qb.dip(Qb.DESIGN),
eb=Zb.getInstance(F.getWidgetTypeName()),zb=!F.isWidthLockedAlways(eb),Jb=!F.isHeightLockedAlways(eb),db=eb.getMargin(),Za=F.getWidth(),cc=F.getHeight(),Ac=[db,db];Ac=M.upwardCoordinate(ca[0],Ac,J[0]);var Rc=Ac[0];Ac=Ac[1];var Ec=[db+Za,db+cc];Ec=M.upwardCoordinate(ca[0],Ec,J[0]);db=Ec[0];Ec=Ec[1];var oa=new H;oa.setJqPageArea(J);oa.setTarget(F,ca);oa.setActionListener(Xc);ca=N.createOperatableTips(Rc,Ac,db,Ec,Za,cc,F.isMovable(),zb,Jb,cb,oa,Ma);if(F=eb.createCustomDesignHandlerJqUi(F,Rc,Ac,tc))F.addClass(Ma?
C():xb()),F.appendTo(ca);ca.appendTo(J)};this.createOperatableTips=function(F,ca,Ma,cb,eb,zb,Jb,db,Za,cc,Ac,Rc){var Ec=$(document.createDocumentFragment()),oa=function(Cc,Ic,ad,Oc){var Pc=$("<div>");!0===Rc?(Pc.addClass(C()),Pc.on("mousedown",function(jd){$(jd.currentTarget).hasClass(C())&&kc()})):Pc.addClass(xb());Pc.addClass($a());Pc.appendTo(Ec);M.layoutCtrl(Pc,Cc,Ic,ad,Oc);return Pc},Zc=function(Cc,Ic){var ad=Ic[0];Ic=Ic[1];var Oc=cc[Qb.Key_Design_Unadjustable];Ic&&(Tb.isBorder(Ic.getAnchorBorder(),
Tb.LEFT)?(Cc.css("border-left-width",cd+"px"),!db&&Cc.css("border-left-color",Oc)):Tb.isBorder(Ic.getAnchorBorder(),Tb.RIGHT)&&(Cc.css("border-right-width",cd+"px"),!db&&Cc.css("border-right-color",Oc)),Tb.isBorder(Ic.getAnchorBorder(),Tb.TOP)?(Cc.css("border-top-width",cd+"px"),!Za&&Cc.css("border-top-color",Oc)):Tb.isBorder(Ic.getAnchorBorder(),Tb.BOTTOM)&&(Cc.css("border-bottom-width",cd+"px"),!Za&&Cc.css("border-bottom-color",Oc)));ad?(Cc.css("border-color",cc[Qb.Key_Design_Adjustable]),Ac&&(Cc.css("cursor",
ad.getCursor()),Ac.bindOperator(Cc,ad))):(Cc.css("border-color",Oc),Cc.css("cursor","default"))},$c=function(Cc,Ic,ad){return[db&&Za?Cc:db?Ic:Za?ad:null,Cc]},Mc=function(Cc,Ic){return[Ic?Cc:null,Cc]},cd=2,ld=F-cd,od=F+(eb>>1)-5;Ma-=6;var bd=ca-cd;zb=ca+(zb>>1)-5;cb-=6;Jb&&(F=oa(F,ca-10,eb,10),F.addClass($a()+"-header"),F.css("background-color",cc[Qb.Key_Design_ColorB]),!1===Rc&&Ab(F),Ac&&Ac.bindOperator(F,S.MOVE));Zc(oa(ld,bd,6,6),$c(S.NW,S.W,S.N));Zc(oa(Ma,bd,6,6),$c(S.NE,S.E,S.N));Zc(oa(ld,cb,6,
6),$c(S.SW,S.W,S.S));Zc(oa(Ma,cb,6,6),$c(S.SE,S.E,S.S));Zc(oa(ld,zb,6,11),Mc(S.W,db));Zc(oa(Ma,zb,6,11),Mc(S.E,db));Zc(oa(od,bd,11,6),Mc(S.N,Za));Zc(oa(od,cb,11,6),Mc(S.S,Za));Jb&&(ca=oa(Ma-10,ca-10,10,10),Eb.background(ca,"minidelete"),ca.addClass($a()+"-operate"),Ac&&(ca.css("cursor","pointer"),ca.on("click",Sc)));return Ec};var Ab=function(F){!F&&(F=J.find("."+$a()+"-header"));F.css("cursor","move")},dc=function(F,ca,Ma){var cb=!1,eb={};fa.traversalWidgetUiObjects(function(Za){var cc=Za.getModel();
if(cc.isContainer()&&cc.isCanContain(Ma)&&Ma.isCanBeContained(cc)&&(Za=Za.getJqPhysicalContainer(),cc=[0,0],cc=M.upwardCoordinate(Za[0],cc,Y[0]),!(F<cc[0]||ca<cc[1]||(cc=[Za.innerWidth(),Za.innerHeight()],cc=M.upwardCoordinate(Za[0],cc,Y[0]),F>cc[0]||ca>cc[1])))){cc=M.upwardSearchHasClass(Za,J,rb());var Ac=fa.getWidgetNameByJqUi(cc);eb[Ac]=[cc,Za];cb=!0}});if(cb){var zb=function(Za){for(var cc=Za.getWidgetCount()-1;0<=cc;cc--){var Ac=Za.getWidget(cc);if(Ac.isContainer()&&Ac.isVisible()){var Rc=zb(Ac);
if(Ac.isCanContain(Ma)&&Ma.isCanBeContained(Ac)&&eb[Ac.getName()])return Rc?Rc:Ac;if(Rc)return Rc}}return null},Jb=zb(Oa());if(Jb){var db=eb[Jb.getName()];return new L(Jb,db[0],db[1])}}return Oa().isCanContain(Ma)&&Ma.isCanBeContained(Oa())?new L(Oa(),Y,Y):null},mc=function(){var F=[0,0];F=M.upwardCoordinate(J[0],F,document.body);var ca=[J.prop("clientWidth"),J.prop("clientHeight")];ca=M.upwardCoordinate(J[0],ca,document.body);var Ma=[0,0];Ma=M.upwardCoordinate(Y[0],Ma,document.body);var cb=[Oa().getWidth(),
Oa().getHeight()];cb=M.upwardCoordinate(Y[0],cb,document.body);return new function(eb,zb,Jb,db,Za,cc){this.getLeft=function(){return eb};this.getRight=function(){return zb};this.getTop=function(){return Jb};this.getBottom=function(){return db};this.getPageLeftAtBody=function(){return Za};this.getPageTopAtBody=function(){return cc}}(Math.max(F[0],Ma[0]),Math.min(ca[0],cb[0]),Math.max(F[1],Ma[1]),Math.min(ca[1],cb[1]),Ma[0],Ma[1])},Uc=function(F,ca,Ma,cb){var eb=M.getCurrentTargetPosition(F);eb=M.upwardCoordinate(F.target,
eb,document.body);F=eb[0];eb=eb[1];if(F<ca.getLeft()||F>ca.getRight()||eb<ca.getTop()||eb>ca.getBottom())return null;var zb=F-ca.getPageLeftAtBody();ca=eb-ca.getPageTopAtBody();ca=dc(zb,ca,cb);if(!ca)return null;zb=ca.getContainerWidget();if(Ma!=zb){var Jb=Zb.getInstance(cb.getWidgetTypeName());Ma=Jb.getSuggestSize();cb.setSize(Ma[0],Ma[1])}Ma=cb.getWidth();var db=cb.getHeight();if(!(Ma<=zb.getClientWidth()&&db<=zb.getClientHeight())){!Jb&&(Jb=Zb.getInstance(cb.getWidgetTypeName()));var Za=Jb.getMinSize();
Jb=Za[0];for(Za=Za[1];(Ma>zb.getClientWidth()||db>zb.getClientHeight())&&!(Ma>>=1,db>>=1,Ma<Jb||db<Za);)cb.setSize(Ma,db)}Jb=[0,0];Jb=M.upwardCoordinate(ca.getJqPhysicalContainer()[0],Jb,document.body);F-=Jb[0];eb-=Jb[1];F-=Math.min(160,parseInt(.2*cb.getWidth()));eb-=Math.min(90,parseInt(.2*cb.getHeight()));Jb=ca.getContainerWidget().getClientWidth();zb=ca.getContainerWidget().getClientHeight();F=F+cb.getWidth()>Jb?Jb-cb.getWidth():F;eb=eb+cb.getHeight()>zb?zb-cb.getHeight():eb;cb.setPosition(0>
F?0:F,0>eb?0:eb);return ca},Qc=function(F,ca,Ma){var cb=Zb.getInstance(ca.getWidgetTypeName());if(cb.isReleased()){var eb={},zb={};T.allocateNameForNewWidget(ca,cb,eb,zb);if(ca.isInstanceOf(O.WidgetSuperType_CompositeContainer))for(var Jb=0;Jb<ca.getWidgetCount();Jb++){var db=ca.getWidget(Jb),Za=Zb.getInstance(db.getWidgetTypeName());T.allocateNameForNewWidget(db,Za,eb,zb)}cb.selectSource(Q,ca,function(cc){cc&&(cc=new f,cc.setCaption(wa.get("addWidget","\u521b\u5efa\u201c#1\u201d").replace("#1",ca.getDisplayName())),
cc.setValue(F,ca),Q.getCommandManager().perform(cc));Ma()})}else Ma()},Xc=function(F,ca,Ma,cb,eb){eb=eb==S.MOVE?wa.get("moveWidget","\u79fb\u52a8\u201c#1\u201d\u4f4d\u7f6e"):wa.get("resizeWidget","\u6539\u52a8\u201c#1\u201d\u5927\u5c0f");eb=eb.replace("#1",uc().getDisplayName());var zb=new D;zb.setCaption(eb);zb.setValue(uc(),F,ca,Ma,cb);Q.getCommandManager().perform(zb)},Sc=function(){var F=new l;F.setCaption(wa.get("removeWidget","\u5220\u9664\u201c#1\u201d").replace("#1",uc().getDisplayName()));
F.setValue(uc().getParent(),uc());Q.getCommandManager().perform(F)},Tc=function(F){var ca=Y;F!=Oa()&&(ca=fa.getWidgetUiObject(F).getJqPhysicalContainer());return ca},Vc=function(F,ca,Ma){if(F==O.KEY_ADD_CHILD)F=Tc(ca),fa.addWidgetUi(Ma,F),tc(Ma),fa.parseWidgetsInputParams(Oa());else if(F==O.KEY_REMOVE_CHILD)fa.removeWidgetUi(Ma),(Ma==uc()||Ma.isContainer()&&Ma.isDescendentsContain(uc()))&&tc(Oa()),fa.parseWidgetsInputParams(Oa());else if(F==O.KEY_MOVE_CHILD){Ma=$(document.createDocumentFragment());
F=Tc(ca);for(var cb=0;cb<ca.getWidgetCount();cb++){var eb=ca.getWidget(cb);eb=fa.searchJqUiByModel(eb,F);eb.detach();eb.appendTo(Ma)}Ma.appendTo(F)}},Ca=function(F,ca){ca==O.KEY_RECT?fa.isCreated()&&(ca=fa.updateWidgetRect(F),F==uc()&&(J.find("."+xb()).remove(),kb(F,ca,!1),Z(ca))):ca==O.KEY_PAGE_SIZE?bb():ca==O.KEY_AFFECTED_TARGETS||ca==O.KEY_FILTER_SOURCE?fa.parseWidgetsInputParams(Oa()):ca==O.KEY_PAGE_SKIN?fa.changeSkin(T,function(Ma){return Ma==T},function(){E()}):ca==O.KEY_PAGE_BACKGROUND?(ca=
F==Oa()?Y:fa.searchJqUiByModel(F),fa.updateBackgroundPicture(F,ca),ea()):ca==O.KEY_PAGE_WATERMARK?(fa.updateWatermark(Oa()),ea()):ca==O.KEY_PAGE_UNIFIED_CARD&&ea()},Db=function(F,ca){J.find("."+xb()).remove();F&&F!=Oa()&&(F=fa.searchJqUiByModel(F),Xb(F,!1));ca&&ca!=Oa()&&(F=fa.searchJqUiByModel(ca),Xb(F,!0),F&&(Ka?Ab():(kb(uc(),F,!1),Z(F))))},Z=function(F){var ca=J.prop("scrollLeft"),Ma=ca+J.prop("clientWidth"),cb=J.prop("scrollTop"),eb=cb+J.prop("clientHeight"),zb=[0,0];zb=M.upwardCoordinate(F[0],
zb,J[0]);var Jb=zb[0]-20,db=zb[0]+F.prop("offsetWidth"),Za=zb[1]-20;F=zb[1]+F.prop("offsetHeight");zb={};var cc=!1;if(Jb<ca||db>Ma)cc=!0,zb.scrollLeft=Jb;if(Za<cb||F>eb)cc=!0,zb.scrollTop=Za;cc&&J.animate(zb)},ea=function(){fa.traversalWidgetUiObjects(function(F){F.getModel().isInstanceOf(O.WidgetSuperType_CardSurfaceAbout)&&F.updateCardSurface()})}}function G(){var N;this.bindContext=function(J){N=J};this.register=function(J){J.setCommunicationListener(Q)};this.unregister=function(J){J.setCommunicationListener(null)};
var Q=function(J,Y){var fa=J.getModel();fa.getTopPage().traversalDescendents(function(ha){fa!=ha&&N.getWidgetUiObject(ha).payAttentionTo(J,Y)});T(fa,J,Y)},T=function(J,Y,fa){if(fa==R.KEY_SELECTED_BY_MANUAL&&(J=J.getAffectedTargets()))for(fa=0;fa<J.getItemCount();fa++){var ha=J.getItem(fa);if(ha.getType()==O.AffectedType_Hotlink&&ha.isSettingComplete()){var Aa=ha.getUsableUrl();"biz"==ha.getMode()?(ha=Y.getFilterSelectedValue().getText(),ec.openNewTab(ha,Aa)):window.open(Aa)}}}}function xa(){var N=
this,Q,T,J,Y={},fa,ha,Aa;this.hookWidgetCtrlProvider=function(E){ha=E};var ra=function(){ha||(ha=new W);return ha};this.setFacadeCreator=function(E){T=E};this.setWidgetJqUiDecorator=function(E){J=E};this.changeSkin=function(E,bb,Xa){var Sa=E.getPage();Sa.getSkin()==O.Skin_Custom?(Sa=Sa.getCustomCosmetic(),E.setCurrentCosmeticModel(Sa),Qb.unpack(Sa),Xa()):T(function(rb){if(bb(E)){var $a=new Kc;$a.fromJsonObject(rb);E.setCurrentCosmeticModel($a);Qb.unpack($a);Xa()}}).loadPresetCosmetic(Sa.getSkin())};
this.clear=function(){N.traversalWidgetUiObjects(function(E){E.destroy()});Y={};Q&&Q.empty()};this.create=function(E,bb,Xa){Q=bb;Q.css("background-color",Qb.getPageBackgroundColor());Q.css("cursor","default");Lb(E);var Sa=$(document.createDocumentFragment());N.protectedCreateChildrenUi(E,Sa);bb.append(Sa);N.parseWidgetsInputParams(E);if(Xa)E.deepFirstTraversalDescendents(function($a){Ka($a)});else{var rb=new V;rb.readyFor(E);E.deepFirstTraversalDescendents(function($a){rb.isRunImmediately($a)?Ka($a):
(rb.registDelayRun($a,Ka),Aa=rb)})}};this.intoTabbed=function(E){Aa&&(Aa.requestRunImmediately(E)||(Aa=null))};this.isCreated=function(){return Q?!0:!1};this.updateWidgetRect=function(E){var bb=Zb.getInstance(E.getWidgetTypeName()),Xa=N.searchJqUiByModel(E);Ja(E,Xa,bb);return Xa};this.addWidgetUi=function(E,bb){Oa(E,bb);E.isContainer()&&0<E.getWidgetCount()&&(bb=$(document.createDocumentFragment()),N.protectedCreateChildrenUi(E,bb),N.getWidgetUiObject(E).getJqPhysicalContainer().append(bb));Ka(E);
E.isContainer()&&0<E.getWidgetCount()&&E.deepFirstTraversalDescendents(Ka)};this.removeWidgetUi=function(E){for(var bb=[E];0<bb.length;){var Xa=bb.shift();vb().unregister(N.getWidgetUiObject(Xa));var Sa=Xa.getName();Y[Sa].destroy();delete Y[Sa];if(Xa.isContainer())for(Sa=0;Sa<Xa.getWidgetCount();Sa++)bb.push(Xa.getWidget(Sa))}N.searchJqUiByModel(E).remove()};this.protectedCreateChildrenUi=function(E,bb,Xa){for(var Sa=0;Sa<E.getWidgetCount();Sa++){var rb=E.getWidget(Sa);Oa(rb,bb);if(rb.isContainer()){var $a=
N.getWidgetUiObject(rb).getJqPhysicalContainer();N.protectedCreateChildrenUi(rb,$a,Xa)}Xa&&Xa(rb)}};var Ka=function(E){N.getWidgetUiObject(E).run(T)},Oa=function(E,bb){var Xa=Zb.getInstance(E.getWidgetTypeName()),Sa=Xa.createWidgetUi(E);Sa.setCtxApi(Gb);Y[E.getName()]=Sa;vb().register(Sa);Sa=N.protectedCreateWidgetJqUi(Sa,E,ra());Sa.css("z-index",1);E.isInstanceOf(O.WidgetSuperType_ContainerWithBackground)&&N.updateBackgroundPicture(E,Sa);J&&J(Sa,E);Sa.attr("name",E.getName());Ja(E,Sa,Xa);Sa.appendTo(bb)};
this.protectedCreateWidgetJqUi=function(E,bb,Xa){throw Error("Override");};this.getWidgetUiObject=function(E){return Y[E.getName()]};this.getWidgetUiObjectByName=function(E){return Y[E]};this.traversalWidgetUiObjects=function(E){for(var bb in Y)if(E(Y[bb]))break};var Ja=function(E,bb,Xa){Xa=Xa.getMargin();M.layoutCtrl(bb,E.getX()-Xa,E.getY()-Xa,E.getWidth()+2*Xa,E.getHeight()+2*Xa)};this.searchJqUiByModel=function(E,bb){E="[name='"+E.getName()+"']";return bb?bb.children(E).eq(0):Q.find(E)};this.getWidgetNameByJqUi=
function(E){return E.attr("name")};var vb=function(){fa||(fa=new G,fa.bindContext(Gb));return fa};this.parseWidgetsInputParams=function(E){var bb={};E.traversalDescendents(function(Xa){if(Xa.isInstanceOf(O.WidgetSuperType_FilterSimilary)){var Sa=Xa.getAffectedTargets();Sa&&Sa.reverse(Xa.getName(),bb)}});E.traversalDescendents(function(Xa){if(Xa.isInstanceOf(O.WidgetSuperType_AffectedTarget)){Xa=Xa.getName();var Sa=bb[Xa];N.getWidgetUiObjectByName(Xa).updateInputParams(Sa)}})};var Lb=function(E){N.updateBackgroundPicture(E,
Q);N.updateWatermark(E)};this.updateBackgroundPicture=function(E,bb){Ba.updateBackgroundPicture(E,bb)};this.updateWatermark=function(E){Q.find(".dsb-page-watermark").remove();if(E=E.getWatermark()){var bb=Qb.dip(Qb.DSB_PAGE)[Qb.Key_Page_WatermarkColor],Xa=25*Math.PI/180,Sa=document.createElement("canvas"),rb=Sa.getContext("2d");rb.font="14px "+Rb.getFontName();var $a=rb.measureText(E).width,xb=Math.max(84,$a*Math.sin(Xa)*2.5);Sa.width=Math.max(84,$a*Math.cos(Xa)*2.5);Sa.height=xb;rb.font="14px "+
Rb.getFontName();rb.rotate(-Xa);rb.textBaseline="top";rb.fillStyle=bb;rb.fillText(E,-$a*(1-Math.cos(Xa)),$a*Math.sin(Xa));bb=Sa.toDataURL();E={"z-index":0};E["background-image"]="url("+bb+")";bb=$("<div>");bb.addClass("dsb-page-watermark");bb.css(E);bb.appendTo(Q);M.layoutCtrlWithLRTB(bb,0,0,null,0,0,null)}};var Gb={getWidgetUiObject:N.getWidgetUiObject};this.protectedMethod={getWidgetCtrlProvider:ra,getJqPage:function(){return Q}}}function va(){xa.call(this);var N;this.setWidgetEditedListener=function(Q){N=
Q};this.protectedCreateWidgetJqUi=function(Q,T,J){Q.setEditedListener(N);return Q.createJqUi(J)}}function ja(){xa.call(this);var N=this.protectedMethod,Q,T;this.setPreviewContext=function(Y){Q=Y;N.getWidgetCtrlProvider().setPreview(!0)};this.setLayoutAdapterCreator=function(Y){T=Y};this.relayoutAll=function(Y){var fa=Y.getLayoutAdapter();return fa?fa.relayoutPage(Y,N.getJqPage()):0};var J=this.protectedCreateChildrenUi;this.protectedCreateChildrenUi=function(Y,fa,ha){ha=T();Y.setLayoutAdapter(ha);
ha.initForParent(Y);J(Y,fa,function(Aa){Y.getLayoutAdapter().initForChild(Aa)})};this.protectedCreateWidgetJqUi=function(Y,fa,ha){Q&&(fa=Q[fa.getName()],Y.applyPreviewContext(fa));return Y.createJqUi(ha)}}function ta(){var N=16,Q=12,T=12,J=2*Q+40,Y=2*T+20,fa,ha,Aa,ra,Ka,Oa,Ja,vb,Lb,Gb,E,bb,Xa;this.prepare=function(Ca,Db){Ca.getTopPage().isMobileDesired()&&(T=Q=N=6);fa=!Ca.isInstanceOf(O.WidgetSuperType_CardSimilary)&&!(Ca instanceof tb);ha=Ca.getClientWidth();Aa=Ca.getClientHeight();var Z=Zb.getInstance(Db.getWidgetTypeName()).getMinSize();
ra=Z[0];Ka=Z[1];Sa(Ca,Db);Ja=[];vb=[];Lb=[];Gb=[];for(Z=0;Z<Ca.getWidgetCount();Z++){var ea=Ca.getWidget(Z);if(ea!=Db){var F=ea.getX(),ca=ea.getY(),Ma=F+ea.getWidth();ea=ca+ea.getHeight();for(var cb=0;cb<Ca.getWidgetCount();cb++){var eb=Ca.getWidget(cb);if(Z!=cb&&eb!=Db){var zb=eb.getX(),Jb=eb.getY(),db=zb+eb.getWidth();eb=Jb+eb.getHeight();if(!(Ma<zb||db<F))if(eb<ca){var Za=ca-eb;Za<Y&&Ja.push(new A(ea,ca,Za,Math.min(F,zb),Math.max(Ma,db)))}else ea<Jb&&(Za=Jb-ea,Za<Y&&vb.push(new A(ca,ea,-Za,Math.min(F,
zb),Math.max(Ma,db))));ea<Jb||eb<ca||(db<F?(Za=F-db,Za<J&&Lb.push(new A(Ma,F,Za,Math.min(ca,Jb),Math.max(ea,eb)))):Ma<zb&&(Za=zb-Ma,Za<J&&Gb.push(new A(F,Ma,-Za,Math.min(ca,Jb),Math.max(ea,eb)))))}}}}};var Sa=function(Ca,Db){Oa=[];for(var Z=0;Z<Ca.getWidgetCount();Z++){var ea=Ca.getWidget(Z);if(ea!=Db){var F=ea.getX(),ca=ea.getY(),Ma=F+ea.getWidth();ea=ca+ea.getHeight();F=new function(cb,eb,zb,Jb){this.getX1=function(){return cb};this.getY1=function(){return eb};this.getX2=function(){return zb};this.getY2=
function(){return Jb}}(F,ca,Ma,ea);Oa.push(F)}}},rb=function(Ca){return yb.isContains(bb.getActionUnit(),Ca)},$a=function(Ca){return Tb.isBorder(bb.getAnchorBorder(),Ca)},xb=function(Ca,Db){return 8>Math.abs(Ca-Db)},C=function(){return E[0]+E[2]},Hb=function(){return E[1]+E[3]};this.keepMinSizeLimited=function(Ca,Db){E=Ca;bb=Db;(rb(yb.WIDTH)||rb(yb.WIDTH_NEGATIVE))&&E[2]<ra&&(rb(yb.WIDTH_NEGATIVE)&&(Ca=ra-E[2],E[0]-=Ca),E[2]=ra);(rb(yb.HEIGHT)||rb(yb.HEIGHT_NEGATIVE))&&E[3]<Ka&&(rb(yb.HEIGHT_NEGATIVE)&&
(Ca=Ka-E[3],E[1]-=Ca),E[3]=Ka)};this.keepInsideContainer=function(Ca,Db){E=Ca;bb=Db;Ca=E[0];Db=E[2];rb(yb.X)?(Ca+Db>ha&&(Ca=ha-Db,E[0]=Ca),0>Ca&&(rb(yb.WIDTH_NEGATIVE)&&(E[2]=Db- -Ca),E[0]=0)):rb(yb.WIDTH)&&(E[2]=Ca<ha&&Ca+Db>ha?ha-Ca:Db);Ca=E[1];Db=E[3];rb(yb.Y)?(Ca+Db>Aa&&(Ca=Aa-Db,E[1]=Ca),0>Ca&&(rb(yb.HEIGHT_NEGATIVE)&&(E[3]=Db- -Ca),E[1]=0)):rb(yb.HEIGHT)&&(E[3]=Ca<Aa&&Ca+Db>Aa?Aa-Ca:Db)};this.anchor=function(Ca,Db,Z){Xa=Ca;bb=Db;E=Z;Uc();Ca=!1;$a(Tb.LEFT)&&((Ca=kb(E[0],0,0,Aa,tc)||Ab(E[0],E[1],
Hb(),"getX1","getY1","getY2",!1,tc))||(Ca=$a(Tb.LEFT)?dc(E[0],E[1],Hb(),Lb,tc,Xc,Sc)||mc(E[0],E[1],Hb(),"getX2","getY1","getY2",Q,tc,Sc):!1),!(Ca=Ca||Ab(E[0],E[1],Hb(),"getX2","getY1","getY2",!0,tc))&&(Ca=fa)&&(Ca=N,xb(E[0],Ca)?(tc(Ca,N,Aa-N),Ca=!0):Ca=!1));!Ca&&$a(Tb.RIGHT)&&((Ca=kb(C(),ha,0,Aa,uc)||Ab(C(),E[1],Hb(),"getX2","getY1","getY2",!1,uc))||(Ca=$a(Tb.RIGHT)?dc(C(),E[1],Hb(),Gb,uc,Sc,Xc)||mc(C(),E[1],Hb(),"getX1","getY1","getY2",-Q,uc,Xc):!1),Ca||Ab(C(),E[1],Hb(),"getX1","getY1","getY2",!0,
uc)||!fa||(Ca=ha-N,xb(C(),Ca)&&uc(Ca,N,Aa-N)));Ca=!1;$a(Tb.TOP)&&((Ca=kb(E[1],0,0,ha,Xb)||Ab(E[1],E[0],C(),"getY1","getX1","getX2",!1,Xb))||(Ca=$a(Tb.TOP)?dc(E[1],E[0],C(),Ja,Xb,Tc,Vc)||mc(E[1],E[0],C(),"getY2","getX1","getX2",T,Xb,Vc):!1),!(Ca=Ca||Ab(E[1],E[0],C(),"getY2","getX1","getX2",!0,Xb))&&(Ca=fa)&&(Ca=N,xb(E[1],Ca)?(Xb(Ca,N,ha-N),Ca=!0):Ca=!1));!Ca&&$a(Tb.BOTTOM)&&((Ca=kb(Hb(),Aa,0,ha,kc)||Ab(Hb(),E[0],C(),"getY2","getX1","getX2",!1,kc))||(Ca=$a(Tb.BOTTOM)?dc(Hb(),E[0],C(),vb,kc,Vc,Tc)||
mc(Hb(),E[0],C(),"getY1","getX1","getX2",-T,kc,Tc):!1),Ca||Ab(Hb(),E[0],C(),"getY1","getX1","getX2",!0,kc)||!fa||(Ca=Aa-N,xb(Hb(),Ca)&&kc(Ca,N,ha-N)))};this.abort=function(){Xa&&Uc()};var tc=function(Ca,Db,Z){var ea=E[2];$a(Tb.RIGHT)||(ea+=E[0]-Ca);if(0>Ca||Ca+ea>ha)return!1;$a(Tb.RIGHT)||(E[2]=ea);E[0]=Ca;Xc(Ca,Db,Z);return!0},uc=function(Ca,Db,Z){var ea=E[2];if(!$a(Tb.LEFT)){var F=C()-Ca;ea-=F}F=Ca-ea;if(0>F||Ca>ha)return!1;$a(Tb.LEFT)||(E[2]=ea);E[0]=F;Sc(Ca,Db,Z);return!0},Xb=function(Ca,Db,Z){var ea=
E[3];$a(Tb.BOTTOM)||(ea+=E[1]-Ca);if(0>Ca||Ca+ea>Aa)return!1;$a(Tb.BOTTOM)||(E[3]=ea);E[1]=Ca;Tc(Ca,Db,Z);return!0},kc=function(Ca,Db,Z){var ea=E[3];if(!$a(Tb.TOP)){var F=Hb()-Ca;ea-=F}F=Ca-ea;if(0>F||Ca>Aa)return!1;$a(Tb.TOP)||(E[3]=ea);E[1]=F;Vc(Ca,Db,Z);return!0},kb=function(Ca,Db,Z,ea,F){return xb(Ca,Db)?F(Db,Z,ea):!1},Ab=function(Ca,Db,Z,ea,F,ca,Ma,cb){for(var eb=65535,zb,Jb=0;Jb<Oa.length;Jb++){var db=Oa[Jb],Za=db[F](),cc=db[ca]();Ma&&(Z<Za||cc<Db)||!xb(Ca,db[ea]())||(Za=Math.min(Math.abs(Db-
cc),Math.abs(Z-Za)),Za<eb&&(eb=Za,zb=db))}if(!zb)return!1;Ca=Math.min(Db,zb[F]());Z=Math.max(Z,zb[ca]());return cb(zb[ea](),Ca,Z)},dc=function(Ca,Db,Z,ea,F,ca,Ma){for(var cb=65535,eb,zb=0;zb<ea.length;zb++){var Jb=ea[zb];var db=Jb.getPerpendicularMin();var Za=Jb.getPerpendicularMax();Z<db||Za<Db||!xb(Ca,Jb.getStuckPos())||(db=Math.abs(Ca-Jb.getStuckPos()),db<cb&&(cb=db,eb=Jb))}return eb?(Ca=Math.min(eb.getPerpendicularMin(),Db),Z=Math.max(eb.getPerpendicularMax(),Z),F(eb.getStuckPos(),Ca,Z),Ma(eb.getBrotherNearSide(),
Ca,Z),ca(eb.getBrotherFarSide(),Ca,Z),Ma(eb.getFarFarPos(),Ca,Z),!0):!1},mc=function(Ca,Db,Z,ea,F,ca,Ma,cb,eb){for(var zb=0;zb<Oa.length;zb++){var Jb=Oa[zb],db=Jb[ea](),Za=Jb[F](),cc=Jb[ca]();Jb=db+Ma;if(!(Z<Za||cc<Db)&&xb(Ca,Jb))return Ca=Math.min(Za,Db),Z=Math.max(cc,Z),cb(Jb,Ca,Z),eb(db,Ca,Z),!0}return!1},Uc=function(){Xa.getJqParent().find(".dsb-dragdrop-auxiliaryline").remove()},Qc=function(Ca,Db,Z,ea,F){Xa.isClear()||(Z-=Ca,ea-=Db,Ca=Xa.transX(Ca+F),Db=Xa.transY(Db+F),F=$("<div>"),F.addClass("dsb-dragdrop-auxiliaryline"),
M.layoutCtrl(F,Ca,Db,Z,ea),F.appendTo(Xa.getJqParent()))},Xc=function(Ca,Db,Z){Qc(Ca,Db-10,Ca,Z+10,-1)},Sc=function(Ca,Db,Z){Qc(Ca,Db-10,Ca,Z+10,0)},Tc=function(Ca,Db,Z){Qc(Db-10,Ca,Z+10,Ca,-1)},Vc=function(Ca,Db,Z){Qc(Db-10,Ca,Z+10,Ca,0)}}function A(N,Q,T,J,Y){this.getStuckPos=function(){return N+T};this.getBrotherNearSide=function(){return N};this.getBrotherFarSide=function(){return Q};this.getFarFarPos=function(){return Q-T};this.getPerpendicularMin=function(){return J};this.getPerpendicularMax=
function(){return Y}}function y(N,Q,T){var J;this.getJqParent=function(){return N};this.transX=function(Y){return Y+Q};this.transY=function(Y){return Y+T};this.setClear=function(Y){J=Y};this.isClear=function(){return J}}function L(N,Q,T){this.getContainerWidget=function(){return N};this.getJqContainerWidget=function(){return Q};this.getJqPhysicalContainer=function(){return T}}function na(){var N=$(document.body),Q,T,J,Y,fa,ha,Aa,ra,Ka,Oa,Ja,vb,Lb;this.bindDragContainer=function($a,xb){var C=!1,Hb=
[-1,-1],tc=null,uc=function(){J=C=!1;tc=null;Hb=[-1,-1]};$a.on("mousedown",function(Xb){C=!0;J=!1;tc=$(Xb.target);Hb=[Xb.screenX,Xb.screenY]});$a.on("mouseup",function(Xb){uc()});$a.on("mouseleave",function(Xb){C&&uc()});$a.on("mousemove",function(Xb){var kc=!1;C&&(kc=5<Math.abs(Xb.screenX-Hb[0])||5<Math.abs(Xb.screenY-Hb[1]));kc&&(C=!1,(Xb=xb(tc))?(Q=new ta,Ka=Ja(),Y=Xb.createWidgetModel(!0),fa=Xb.getTypeDisplayName(),J=!0,N.on("mousemove",Gb),N.on("mouseup",E),N.on("mouseleave",bb)):uc())})};this.bindDropContainer=
function($a,xb,C,Hb){Oa=$a;Ja=xb;vb=C;Lb=Hb};var Gb=function($a){if(J){if(!ha){ha=$("<div onselectstart='return false'>");ha.addClass("dsb-dragdrop-creating-widget");var xb=M.getCurrentTargetPosition($a);xb=M.upwardCoordinate($a.target,xb,N[0]);ha.data("sys-my-ori-left",xb[0]);ha.data("sys-my-ori-top",xb[1]);ha.appendTo(N)}(xb=vb($a,Ka,ra,Y))?($a=xb.getContainerWidget(),ra!=$a&&(Q.prepare($a,Y),ra=$a),$a=xb.getJqPhysicalContainer(),Xa($a),Sa(),ha.text(fa),xb=[Y.getX(),Y.getY()],xb=M.upwardCoordinate($a[0],
xb,N[0]),M.layoutCtrl(ha,xb[0],xb[1],Y.getWidth(),Y.getHeight())):(ra=null,ha.text(""),xb=M.getCurrentTargetPosition($a),xb=M.upwardCoordinate($a.target,xb,N[0]),M.layoutCtrl(ha,xb[0]-20,xb[1]-15,40,30),Xa(null))}},E=function($a){($a=vb($a,Ka,ra,Y))?(Sa(),Lb($a.getContainerWidget(),Y,function(){ha.remove();ha=null}),rb(!0)):rb()},bb=function($a){rb()},Xa=function($a){if($a){Aa||(Aa=$("<div>"),Aa.addClass("dsb-dragdrop-creating-droppingcontainer"),Aa.appendTo(Oa),T=new y(Aa,0,0));var xb=$a.outerWidth(),
C=$a.outerHeight(),Hb=[0,0];Hb=M.upwardCoordinate($a[0],Hb,Oa[0]);M.layoutCtrl(Aa,Hb[0],Hb[1],xb,C)}else Aa&&(Aa.remove(),Aa=null)},Sa=function(){var $a=[Y.getX(),Y.getY(),Y.getWidth(),Y.getHeight()];Q.anchor(T,S.MOVE,$a);Y.setPosition($a[0],$a[1])},rb=function($a){Xa(null);J=!1;!$a&&ha&&ha.animate({left:ha.data("sys-my-ori-left"),top:ha.data("sys-my-ori-top"),width:4,height:3},function(){ha.remove();ha=null});Y=null;N.off("mousemove",Gb);N.off("mouseup",E);N.off("mouseleave",bb)}}function H(){var N,
Q,T,J,Y,fa,ha,Aa,ra,Ka,Oa,Ja;this.setJqPageArea=function(Sa){N=Sa};this.setTarget=function(Sa,rb){Q=Sa;T=rb};this.setActionListener=function(Sa){J=Sa};this.bindOperator=function(Sa,rb){Sa.on("mousedown",function($a){Y=rb;Oa=new ta;Oa.prepare(Q.getParent(),Q);fa=[$a.clientX,$a.clientY];ha=$("<div>");ha.addClass("dsb-glasslayer");ha.css("cursor",Y.getCursor());ha.appendTo($(document.body));M.layoutCtrlWithLRTB(ha,0,0,null,0,0,null);ha.on("mousemove",Lb);ha.on("mouseup",Gb);ha.on("mouseleave",E);$a=
[0,0];$a=M.upwardCoordinate(T.parent()[0],$a,N[0]);Ja=new y(N,$a[0],$a[1])})};var vb=function(Sa){var rb=Sa.clientX-fa[0],$a=Sa.clientY-fa[1];Sa=Xa(yb.X)?rb:0;var xb=Xa(yb.Y)?$a:0;rb=Xa(yb.WIDTH)?rb:Xa(yb.WIDTH_NEGATIVE)?-rb:0;$a=Xa(yb.HEIGHT)?$a:Xa(yb.HEIGHT_NEGATIVE)?-$a:0;return[Ka[0]+Sa,Ka[1]+xb,Ka[2]+rb,Ka[3]+$a]},Lb=function(Sa){if(!ra){var rb=Q.getX(),$a=Q.getY(),xb=Q.getWidth(),C=Q.getHeight();Ka=[rb,$a,xb,C];var Hb=T.parent();$a=[rb,$a];$a=M.upwardCoordinate(Hb[0],$a,N[0]);rb=$a[0];$a=$a[1];
ra=$("<div>");ra.addClass("dsb-dragdrop-moving-target");ra.css("cursor",Y.getCursor());ra.appendTo(N);M.layoutCtrl(ra,rb,$a,xb,C)}Aa||(Aa=$("<div>"),Aa.addClass("dsb-dragdrop-moving-container"),Aa.appendTo(N),rb=T.parent(),xb=rb.outerWidth(),C=rb.outerHeight(),Hb=[0,0],Hb=M.upwardCoordinate(rb[0],Hb,N[0]),M.layoutCtrl(Aa,Hb[0],Hb[1],xb,C));Sa=vb(Sa);Oa.keepInsideContainer(Sa,Y);Oa.keepMinSizeLimited(Sa,Y);Oa.anchor(Ja,Y,Sa);rb=Ja.transX(Sa[0]);xb=Ja.transY(Sa[1]);M.layoutCtrl(ra,rb,xb,Sa[2],Sa[3])},
Gb=function(Sa){ra&&(Ja.setClear(!0),Sa=vb(Sa),Oa.keepInsideContainer(Sa,Y),Oa.keepMinSizeLimited(Sa,Y),Oa.anchor(Ja,Y,Sa),J(Sa[0],Sa[1],Sa[2],Sa[3],Y));bb()},E=function(Sa){bb()},bb=function(){Oa.abort();ha.off("mousemove",Lb);ha.off("mouseup",Gb);ha.off("mouseleave",E);ha.remove();ha=null;ra&&ra.remove();ra=null;Aa&&Aa.remove();Aa=null},Xa=function(Sa){return yb.isContains(Y.getActionUnit(),Sa)}}function S(N,Q,T){this.getCursor=function(){return N};this.getActionUnit=function(){return Q};this.getAnchorBorder=
function(){return T}}function V(){var N,Q,T,J=[],Y={},fa=null;this.readyFor=function(Ja){Aa(Ja);ra(Ja);T=Ja.getRunningMode()};this.isRunImmediately=function(Ja){return Ja.isInstanceOf(O.WidgetSuperType_BuiltinVisual)?!T||T==O.RunningMode_Normal||N[Ja.getName()]||Q[Ja.getName()]:!0};this.registDelayRun=function(Ja,vb){J.push(Ja);Y[Ja.getName()]=vb;fa||T!=O.RunningMode_Auto||(fa=Ka())};this.requestRunImmediately=function(Ja){fa&&clearTimeout(fa);var vb=0<J.length;if(vb){var Lb=Ja.searchVisibleSubTabbedIndex(),
Gb=[];Ja.getWidget(Lb).deepFirstTraversalDescendents(function(E){E.isInstanceOf(O.WidgetSuperType_BuiltinVisual)&&Y[E.getName()]&&Gb.push(E)},function(E){return E.isVisible()});0<Gb.length&&(ha(Gb),vb=0<J.length)}fa&&vb&&(fa=Ka());return vb};var ha=function(Ja){for(var vb={},Lb=0;Lb<Ja.length;Lb++){var Gb=Ja[Lb];Oa(Gb);vb[Gb.getName()]=!0}for(Lb=J.length-1;0<=Lb;Lb--)Gb=J[Lb],vb[Gb.getName()]&&J.splice(Lb,1)},Aa=function(Ja){N={};Ja.traversalDescendents(function(vb){var Lb=null;vb.isInstanceOf(O.WidgetSuperType_DiscreteItemFilter)?
Lb=vb.getFilterSource():vb.getWidgetTypeName()==O.WidgetType_OneTabbed&&vb.getDurationMode().getType()==Jc.TYPE_ByData&&vb.getParent().isSlideshowEnabled()&&(Lb=vb.getDurationMode().getFilterSource(),vb.getDurationMode().lookForAffectedTargetWidgets(function(Gb){N[Gb]=!0}));Lb&&Lb.getType()==Ia.TYPE_VisualWidget?(vb=Lb.getSourceWidgetName())&&(N[vb]=!0):vb.isInstanceOf(O.WidgetSuperType_Text)&&vb.parseOutputParam(function(Gb,E){N[Gb]=!0})})},ra=function(Ja){Q={};Ja.deepFirstTraversalDescendents(function(vb){vb.isInstanceOf(O.WidgetSuperType_BuiltinVisual)&&
(Q[vb.getName()]=!0)},function(vb){return vb.isVisible()})},Ka=function(){return setTimeout(function(){var Ja=Math.ceil(.2*J.length);Ja=Math.min(J.length,Math.max(10,Ja));for(var vb=J.splice(0,Ja),Lb=0;Lb<Ja;Lb++)Oa(vb[Lb]);0<J.length&&Ka()},2E3)},Oa=function(Ja){var vb=Ja.getName(),Lb=Y[vb];delete Y[vb];Lb(Ja)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing=
{});"undefined"==typeof com.kingdee.bos.qing.dsb&&(com.kingdee.bos.qing.dsb={});"undefined"==typeof com.kingdee.bos.qing.dsb.ui&&(com.kingdee.bos.qing.dsb.ui={});var ua=com.kingdee.bos.qing.dsb.ui;ua.Designer=function(){var N=this,Q,T,J=new mb,Y=new aa,fa,ha=new k,Aa,ra,Ka=!1,Oa,Ja=new function(){this.getDashboardModel=function(){Q||(Q=new O);return Q};this.getCommandManager=function(){return ha};this.createFacade=function(kb,Ab,dc){return new Yb(Aa,kb,Ab,dc)};this.showBlockingPrompt=function(kb){if(kb){var Ab=
$("<div>");Ab.addClass("dsb-main-modallayer");Ab.appendTo(T);Eb.createLoadingIcon().appendTo(Ab);var dc=$("<div>");dc.addClass("dsb-main-modallayer-prompt");dc.text(kb);dc.appendTo(Ab)}else T.find(".dsb-main-modallayer").remove()};this.setDirty=function(kb){Xa(kb)};this.selectWidget=function(kb){fa.requestSelectingWidget(kb)}};this.setRemoteImpl=function(kb){Aa=kb};this.getConductor=function(){if(!ra){var kb={};kb.setDirty=Xa;kb.isDirty=function(){return Ka};kb.hookDirtyListener=function(Ab){Oa=Ab};
kb.getWarningRuleHelper=kc;ra=new Qa(J,Y,kb)}return ra};this.createJqUi=function(){T=$("<div onselectstart='return false'>");T.addClass("dsb-main");vb();T.append(J.getJqUi());T.append(Y.getJqUi());fa=new Wa;fa.setGlobalDependence(Ja);T.append(fa.getJqUi());ha.addPerformedListener(Lb);return T};this.resize=function(){fa.resize();J.refresh()};this.born=function(){var kb=Zb.getInstance(O.WidgetType_PageTitleBar),Ab=kb.createWidgetModel(!0);Ab.setName(kb.getTypeName());Ab.setDisplayName(kb.getTypeDisplayName());
Q=new O;Q.getPage().addWidget(Ab);fa.updateDashboardModel();Xa(!1)};this.setJsonModel=function(kb,Ab){var dc=new ub;Q=new O;try{Q.fromJsonObject(kb,dc)}catch(mc){dc.setError(!0),window.console&&console.error(mc)}fa.updateDashboardModel();Xa(!1);dc.isTooModern()&&Y.showShortPrompt(wa.get("loadHighVersion","\u517c\u5bb9\u6027\u52a0\u8f7d\u9ad8\u7248\u672c\u6587\u6863"),!0,"#930");Ab&&Ab(dc)};this.getJsonModel=function(){return Ja.getDashboardModel().toJsonObject()};this.collectBuiltinWidgetsExecutingTag=
function(){var kb={};Ja.getDashboardModel().getPage().traversalDescendents(function(Ab){if(Ab.isInstanceOf(O.WidgetSuperType_BuiltinVisual)){var dc=Ab.getReferenceCustomMap().uid;(Ab=Ab.getExecutingTag())?(kb[dc]=Ab,dc=!1):(kb=null,dc=!0);return dc}});return kb};var vb=function(){var kb=J.addButton(E,"btn_undo",wa.get("undo","\u64a4\u6d88")),Ab=J.addButton(bb,"btn_redo",wa.get("redo","\u91cd\u505a"));Gb(kb,Ab);ha.addPerformedListener(function(dc,mc,Uc){Gb(kb,Ab)});J.addSeperator();J.addMenuButton(tc,
"btn_overall",wa.get("overall","\u5168\u5c40\u89c6\u56fe"));J.addMenuButton(Sa,"btn_setting",wa.get("setting","\u8bbe\u7f6e"));J.addMenuButton($a,"btn_preview",wa.get("preview","\u9884\u89c8"))},Lb=function(kb,Ab,dc){Xa(!0);kb&&(Ab=Ab?"":(dc?wa.get("undo","\u64a4\u6d88"):wa.get("redo","\u91cd\u505a"))+" ",Ab+=kb.getCaption(),Y.showShortPrompt(Ab))},Gb=function(kb,Ab){kb.setEnabled(ha.isCanUndo());Ab.setEnabled(ha.isCanRedo())},E=function(){ha.isCanUndo()&&ha.undo()},bb=function(){ha.isCanRedo()&&
ha.redo()},Xa=function(kb){Ka=kb;Y&&Y.showDirtyState(Ka);Oa&&Oa(Ka)},Sa=function(kb){kb=new xc;kb.addItemModel(jc.createActionMenuItem(wa.get("performanceLab","\u6027\u80fd\u5b9e\u9a8c\u5ba4"),rb));return kb},rb=function(kb){var Ab=Ja.getDashboardModel().getPage();(new hb).show(Ab,function(dc){var mc=new K;mc.setCaption(wa.get("performanceLab","\u6027\u80fd\u5b9e\u9a8c\u5ba4"));mc.setValue(dc);mc.setMethod(Ab.getRunningMode,Ab.setRunningMode);Ja.getCommandManager().perform(mc)})},$a=function(kb){kb=
new xc;kb.addItemModel(jc.createActionMenuItem(wa.get("previewOnDesktop","\u684c\u9762\u7aef"),xb));kb.addItemModel(jc.createActionMenuItem(wa.get("previewOnMobile","\u79fb\u52a8\u7aef"),C));return kb},xb=function(kb){Hb(new Nb)},C=function(kb){Hb(new lb)},Hb=function(kb){var Ab=fa.collectWidgetsContextForPreview();kb.setFacadeCreator(Ja.createFacade);kb.setBackwardListener(function(){mc.unobserve();dc.remove()});var dc=kb.createJqUi(Ab);dc.appendTo(T);M.layoutCtrlWithLRTB(dc,0,0,null,0,0,null);kb.setJsonModel(N.getJsonModel());
var mc=new Ob;mc.setDelay(325);mc.setCallback(function(){kb.resize()});mc.observe()},tc=function(kb){kb=new xc;kb.addItemModel(jc.createActionMenuItem(wa.get("overallCutPaste","\u8de8\u5bb9\u5668\u79fb\u52a8\u7ec4\u4ef6")+"...",uc));kb.addItemModel(jc.createActionMenuItem(wa.get("overallAffecting","\u7ec4\u4ef6\u5173\u7cfb\u89c6\u56fe"),Xb));return kb},uc=function(){(new Na).show(Ja.getDashboardModel().getPage(),function(kb){ha.compositeStart(wa.get("overallCutPaste","\u8de8\u5bb9\u5668\u79fb\u52a8\u7ec4\u4ef6"));
for(var Ab=0;Ab<kb.length;Ab++){var dc=kb[Ab],mc=dc[0];dc=dc[1];var Uc=new l;Uc.setValue(mc.getParent(),mc);var Qc=new f;Qc.setValue(dc,mc);ha.perform(Uc);ha.perform(Qc)}ha.compositeEnd()})},Xb=function(){(new U).show(Ja)},kc=function(){return{popupWarningRuleSelector:function(kb,Ab){(new Ha).showDialog(Ja.getDashboardModel(),kb,Ab)},parseWidgetDisplayName:function(kb){var Ab="";if(kb){Ab=Ha.decodeFullName(kb);var dc=Ab[0];Ab=Ab[1];(dc=Ja.getDashboardModel().searchWidgetByName(dc))?(kb=dc.getDisplayName(),
Ab=Ha.encodeFullName(kb,Ab)):Ab=kb}return Ab}}}};ua.Executor=function(){jb.call(this);var N=this.protectedMethod;this.protectedCreateExhibition=function(){return new pb};this.setUiCreatedAnnouncer=function(Q){N.getExhibition().setHeightAnnouncer(function(T){Q()})};this.setCachedExhibitionMode=function(Q){N.getExhibition().setCachedExhibitionMode(Q)};this.getFreshExhibitionMode=function(){return N.getExhibition().getFreshExhibitionMode()};this.updateLayoutAdapter=function(Q){N.getExhibition().updateLayoutAdapter(Q)};
this.reparseRelativeDate=function(){return N.getExhibition().reparseRelativeDate()}};ua.Executor4Mobile=function(){jb.call(this);var N=this.protectedMethod;this.protectedCreateExhibition=function(){return new Da};this.setHeightAnnouncer=function(Q){N.getExhibition().setHeightAnnouncer(Q)}};ua.CosmeticConfigPreviewCreator=za;var M,ia,la,Ga,gb,wa,Ob,Rb,ec,fc,jc,xc,lc,Dc,nc,pc,ib,wb,Eb,Yb,Qb,Zb,O,Ia,tb,bc,Pb,yc,vc,hc,Bc,Jc,Kc,k,f,l,p,w,z,D,K,R,W,sa,Ba,Ua=ua.TextInputDialog,Ha=ua.WidgetWarningRuleSelector,
Na=ua.OverallCutPasteDialog,U=ua.OverallCommunicationDialog,hb=ua.PerformanceSettingDialog;(function(){var N=com.kingdee.bos.qing.common;M=N.DomUtil;ia=N.BrowserUtil;la=N.FullScreenHelper;Ga=N.TextMeasurer;gb=N.BlocksToTable;N=com.kingdee.bos.qing.framework.common;wa=N.MultilanguageManager.createPackageAccessor(ua);Ob=N.WindowResizeObserver;Rb=N.GlobalFont;ec=N.TabbedUiUtil;N=com.kingdee.bos.qing.ui.component;fc=N.Toolbar;jc=N.Menu;xc=N.MenuModel;lc=N.SplitPane;Dc=N.List;nc=N.MessageDialog;pc=N.WorkButton;
N=com.kingdee.bos.qing.common.ui;ib=N.CommonIconUtil;N=com.kingdee.bos.qing.core;wb=N.UserOperationReporter;N=com.kingdee.bos.qing.dsb;Eb=N.Icons;Yb=N.Facade;Qb=N.CosmeticBag;N=com.kingdee.bos.qing.dsb.model;Zb=N.WidgetTypeManager;O=N.DashboardModel;Ia=N.AbstractFilterSource;tb=N.WidgetPageTitleBar;bc=N.WidgetPanel;Pb=N.WidgetExtReport;yc=N.WidgetQingReport;vc=N.WidgetIframe;hc=N.WidgetPicture;Bc=N.WidgetTabbedContainer;Jc=N.AbstractDurationMode;Kc=N.CosmeticModel;if(N=com.kingdee.bos.qing.dsb.controller)k=
N.CommandManager,f=N.ActionAddWidget,l=N.ActionRemoveWidget,p=N.ActionMoveWidget,w=N.ActionCutWidget,z=N.ActionPasteAfterCutWidget,D=N.ActionChangeWidgetRect,K=N.ActionChangeProperty;N=com.kingdee.bos.qing.dsb.widget;R=N.AbstractWidgetUi;W=N.DesktopWidgetCtrlProvider;sa=N.MobileWidgetCtrlProvider;Ba=N.BackgroundPictureLoader})();var yb=new function(){this.isContains=function(N,Q){return(N&Q)==Q}};yb.X=1;yb.WIDTH=2;yb.WIDTH_NEGATIVE=4;yb.Y=16;yb.HEIGHT=32;yb.HEIGHT_NEGATIVE=64;var Tb=new function(){this.isBorder=
function(N,Q){return(N&Q)==Q}};Tb.LEFT=1;Tb.RIGHT=2;Tb.TOP=4;Tb.BOTTOM=8;S.W=new S("w-resize",yb.X|yb.WIDTH_NEGATIVE,Tb.LEFT);S.E=new S("e-resize",yb.WIDTH,Tb.RIGHT);S.N=new S("n-resize",yb.Y|yb.HEIGHT_NEGATIVE,Tb.TOP);S.S=new S("s-resize",yb.HEIGHT,Tb.BOTTOM);S.NW=new S("nw-resize",S.N.getActionUnit()|S.W.getActionUnit(),S.N.getAnchorBorder()|S.W.getAnchorBorder());S.NE=new S("ne-resize",S.N.getActionUnit()|S.E.getActionUnit(),S.N.getAnchorBorder()|S.E.getAnchorBorder());S.SW=new S("sw-resize",S.S.getActionUnit()|
S.W.getActionUnit(),S.S.getAnchorBorder()|S.W.getAnchorBorder());S.SE=new S("se-resize",S.S.getActionUnit()|S.E.getActionUnit(),S.S.getAnchorBorder()|S.E.getAnchorBorder());S.MOVE=new S("move",yb.X|yb.Y,Tb.LEFT|Tb.RIGHT|Tb.TOP|Tb.BOTTOM)})();
//qingVersionTag: 20250324