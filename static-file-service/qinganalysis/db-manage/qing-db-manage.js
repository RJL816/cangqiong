var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(H){var E=0;return function(){return E<H.length?{done:!1,value:H[E++]}:{done:!0}}};$jscomp.arrayIterator=function(H){return{next:$jscomp.arrayIteratorImpl(H)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(H,E,R){if(H==Array.prototype||H==Object.prototype)return H;H[E]=R.value;return H};$jscomp.getGlobal=function(H){H=["object"==typeof globalThis&&globalThis,H,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var E=0;E<H.length;++E){var R=H[E];if(R&&R.Math==Math)return R}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(H,E){var R=$jscomp.propertyToPolyfillSymbol[E];if(null==R)return H[E];R=H[R];return void 0!==R?R:H[E]};
$jscomp.polyfill=function(H,E,R,Z){E&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(H,E,R,Z):$jscomp.polyfillUnisolated(H,E,R,Z))};$jscomp.polyfillUnisolated=function(H,E,R,Z){R=$jscomp.global;H=H.split(".");for(Z=0;Z<H.length-1;Z++){var ca=H[Z];if(!(ca in R))return;R=R[ca]}H=H[H.length-1];Z=R[H];E=E(Z);E!=Z&&null!=E&&$jscomp.defineProperty(R,H,{configurable:!0,writable:!0,value:E})};
$jscomp.polyfillIsolated=function(H,E,R,Z){var ca=H.split(".");H=1===ca.length;Z=ca[0];Z=!H&&Z in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var sa=0;sa<ca.length-1;sa++){var xa=ca[sa];if(!(xa in Z))return;Z=Z[xa]}ca=ca[ca.length-1];R=$jscomp.IS_SYMBOL_NATIVE&&"es6"===R?Z[ca]:null;E=E(R);null!=E&&(H?$jscomp.defineProperty($jscomp.polyfills,ca,{configurable:!0,writable:!0,value:E}):E!==R&&(void 0===$jscomp.propertyToPolyfillSymbol[ca]&&(R=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[ca]=
$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(ca):$jscomp.POLYFILL_PREFIX+R+"$"+ca),$jscomp.defineProperty(Z,$jscomp.propertyToPolyfillSymbol[ca],{configurable:!0,writable:!0,value:E})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(H){if(H)return H;var E=function(sa,xa){this.$jscomp$symbol$id_=sa;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:xa})};E.prototype.toString=function(){return this.$jscomp$symbol$id_};var R="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",Z=0,ca=function(sa){if(this instanceof ca)throw new TypeError("Symbol is not a constructor");return new E(R+(sa||"")+"_"+Z++,sa)};return ca},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(H){if(H)return H;H=Symbol("Symbol.iterator");for(var E="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),R=0;R<E.length;R++){var Z=$jscomp.global[E[R]];"function"===typeof Z&&"function"!=typeof Z.prototype[H]&&$jscomp.defineProperty(Z.prototype,H,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return H},"es6",
"es3");$jscomp.iteratorPrototype=function(H){H={next:H};H[Symbol.iterator]=function(){return this};return H};$jscomp.iteratorFromArray=function(H,E){H instanceof String&&(H+="");var R=0,Z=!1,ca={next:function(){if(!Z&&R<H.length){var sa=R++;return{value:E(sa,H[sa]),done:!1}}Z=!0;return{done:!0,value:void 0}}};ca[Symbol.iterator]=function(){return ca};return ca};
$jscomp.polyfill("Array.prototype.keys",function(H){return H?H:function(){return $jscomp.iteratorFromArray(this,function(E){return E})}},"es6","es3");$jscomp.findInternal=function(H,E,R){H instanceof String&&(H=String(H));for(var Z=H.length,ca=0;ca<Z;ca++){var sa=H[ca];if(E.call(R,sa,ca,H))return{i:ca,v:sa}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(H){return H?H:function(E,R){return $jscomp.findInternal(this,E,R).v}},"es6","es3");
(function(){function H(){var ia=this,K,P,Q;this.getValue=function(){return K};this.setValue=function(q){K=q};this.getText=function(){return P};this.setText=function(q){P=q};this.getUserObject=function(){return Q};this.setUserObject=function(q){Q=q};this.toJsonObject=function(){var q={};q.value=K;q.text=P;return q};this.fromJsonObject=function(q){q&&(q.value&&ia.setValue(q.value),q.text&&ia.setText(q.text))}}function E(){var ia=this,K,P,Q=0,q,F=E.SOURCE_TYPE_DB,S,A,U,ka,pa=[],qa=[],w,ea=!0,Ba=!1;this.getId=
function(){return K};this.setId=function(y){K=y};this.setShared=function(y){w=y};this.isShared=function(){return w};this.getName=function(){if(q){if(q.getConnectionType()==sa.DBCONNECTION_TYPE_DBCENTER)return xa.get("dataCenter","\u5f53\u524d\u6570\u636e\u4e2d\u5fc3");if(q.getConnectionType()==sa.DBCONNECTION_TYPE_SUPERQUERY&&!q.getDbAddress())return xa.get("SuperQuery","\u8d85\u7ea7\u67e5\u8be2")}return P};this.setName=function(y){P=y};this.setDBSource=function(y){q=y};this.getDBSource=function(){return q};
this.getAbstractSource=function(){return q};this.getUsers=function(){return pa};this.setUsers=function(y){pa=y};this.getRoles=function(){return qa};this.setRoles=function(y){qa=y};this.setDBSourceType=function(y){F=y};this.getDBSourceType=function(){return F};this.getSourceTypeName=function(){if(F==E.SOURCE_TYPE_DB)return xa.get("db","\u6570\u636e\u5e93");if(F==E.SOURCE_TYPE_BIZMETA){if(q.getConnectionType()==sa.DBCONNECTION_TYPE_DBCENTER)return xa.get("dataCenter","\u5f53\u524d\u6570\u636e\u4e2d\u5fc3");
if(q.getConnectionType()==sa.DBCONNECTION_TYPE_SUPERQUERY)return xa.get("SuperQuery","\u8d85\u7ea7\u67e5\u8be2")}else if(F==E.SOURCE_TYPE_OPENAPI)return"OpenAPI"};this.setRefTime=function(y){Q=y};this.getRefTime=function(){return Q};this.getCreatorName=function(){return S};this.setCreatorName=function(y){S=y};this.getCreateTime=function(){return A};this.setCreateTime=function(y){A=y};this.setModifierName=function(y){U=y};this.getModifierName=function(){return U};this.setModifyTime=function(y){ka=
y};this.getModifyTime=function(){return ka};this.setUiDisplay=function(y){ea=y};this.getUiDisplay=function(){return ea};this.setAuthError=function(y){Ba=y};this.isAuthError=function(){return Ba};this.copy=function(){var y=new E;y.fromJsonObject(ia.toJsonObject());y.setUiDisplay(ea);return y};this.getSearchContent=function(){var y=[];P&&y.push(P);q&&F==E.SOURCE_TYPE_DB?(q.getDbName()&&y.push(q.getDbName().toUpperCase()),q.getDbAddress()&&y.push(q.getDbAddress().toUpperCase()),q.getSchema()&&y.push(q.getSchema().toUpperCase())):
q&&F==E.SOURCE_TYPE_BIZMETA?q.getConnectionType()==sa.DBCONNECTION_TYPE_DBCENTER?(y.push(ia.getSourceTypeName().toUpperCase()),q.getAppName()&&y.push(q.getAppName().toUpperCase())):q.getConnectionType()==sa.DBCONNECTION_TYPE_SUPERQUERY&&(q.getDbName()&&y.push(q.getDbName().toUpperCase()),q.getDbAddress()&&y.push(q.getDbAddress().toUpperCase()),q.getSchemaName()&&y.push(q.getSchemaName().toUpperCase())):q&&F==E.SOURCE_TYPE_OPENAPI&&(q.getTypeName()&&y.push(q.getTypeName()),q.getUrl()&&y.push(Ga.decode(q.getUrl())),
q.getAuthModel()&&q.getAuthModel().authType&&y.push(q.getAuthModel().authType));return y};this.toJsonObject=function(){var y={};y.id=K;y.name=P;q&&(y.dbSource=q.toJsonObject());y.dbSourceType=F;y.creatorName=S;y.modifierName=U;A&&(y.createTime=A.getTime());ka&&(y.modifyTime=ka.getTime());for(var na=[],ba=0;ba<pa.length;ba++)na.push(pa[ba].toJsonObject());y.users=na;na=[];for(ba=0;ba<qa.length;ba++)na.push(qa[ba].toJsonObject());y.roles=na;y.shared=w;return y};this.fromJsonObject=function(y){if(y&&
y.dbConnectionEncodedString)y=JSON.parse(com.kingdee.bos.qing.common.Base64Util.decode(y.dbConnectionEncodedString)),ia.fromJsonObject(y);else{ia.setName(y.name);ia.setId(y.id);y.refTime&&ia.setRefTime(y.refTime);ia.setDBSourceType(y.dbSourceType);S=y.creatorName;U=y.modifierName;A=new Date(y.createTime);ka=new Date(y.modifyTime);var na=y.dbSource;if(na)if(F==E.SOURCE_TYPE_DB){var ba=new ca;ba.fromJsonObject(na);ia.setDBSource(ba)}else F==E.SOURCE_TYPE_BIZMETA?(na=Z.BizMetaSourceCreatorRegister.getCreator().createBizMetaSource(na),
ia.setDBSource(na)):F==E.SOURCE_TYPE_OPENAPI&&(ba=new Ha,ba.fromJsonObject(na),ia.setDBSource(ba));na=[];if(ba=y.users){for(var wa=0;wa<ba.length;wa++){var za=new H;za.fromJsonObject(ba[wa]);na.push(za)}ia.setUsers(na)}na=[];if(ba=y.roles){for(wa=0;wa<ba.length;wa++)za=new H,za.fromJsonObject(ba[wa]),na.push(za);ia.setRoles(na)}w=y.shared}}}function R(){var ia,K,P,Q,q;this.getName=function(){return ia};this.getFullPath=function(){return K};this.getCreateTime=function(){return P};this.getCreatorName=
function(){return Q};this.getRefFromType=function(){return q};this.fromJsonObject=function(F){ia=F.name;K=F.fullPath;Q=F.creatorName;q=F.refFromType;P=new Date(F.createTime)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dbmanage&&(com.kingdee.bos.qing.dbmanage={});var Z=com.kingdee.bos.qing.dbmanage;
Z.DBConnection=E;Z.DBRefInfo=R;Z.ValueTextPair=H;var ca,sa,xa,Ha,Ga;(function(){var ia=com.kingdee.bos.qing.data;ca=ia.DBSource;sa=ia.AbstractSource;Ha=ia.OpenAPISource;ia=com.kingdee.bos.qing.common;Ga=ia.Base64Util;ia=com.kingdee.bos.qing.framework.common;xa=ia.MultilanguageManager.createPackageAccessor(Z)})();E.SOURCE_TYPE_DB="DB";E.SOURCE_TYPE_BIZMETA="BizMeta";E.SOURCE_TYPE_OPENAPI="OPENAPI";E.SOURCE_TYPE_OPENAPI_PROGRAM_DATA_SET="PROGRAM_DATA_SET";E.SOURCE_TYPE_File="File";Z.BizMetaSourceCreatorRegister=
new function(){var ia,K=!0;this.getCreator=function(){if(!ia)throw Error("register creator first");return ia};this.setCreator=function(P){ia=P};this.isSupportEdit=function(){return K};this.setSupportEdit=function(P){K=P}};R.MACRO_TYPE="Macro";R.EXTREPORT_TYPE="Extreport"})();(function(){function H(){this.getDetailText=function(K,P){throw Error("override me");}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dbmanage&&(com.kingdee.bos.qing.dbmanage={});var E=com.kingdee.bos.qing.dbmanage;E.DBManageFacade=function(K,P,Q,q){R.call(this,K,P,Q,q);var F=this.protectedMethod;
this.checkDBManagePermission=function(A){A={};S(A);F.remote("checkDBManagePermission",A)};this.getDatabaseNameList=function(A,U){A={source:JSON.stringify(A.toJsonObject()),passwordUpdated:A.isPasswordUpdated?A.isPasswordUpdated():!0,dbConnectId:U};S(A);F.remote("getDatabaseNameList",A)};this.getUsableSchemas=function(A,U){A={source:JSON.stringify(A.toJsonObject())};S(A);F.remote("getUsableSchemas",A)};this.checkConnection=function(A,U){A={source:JSON.stringify(A.toJsonObject()),passwordUpdated:A.isPasswordUpdated?
A.isPasswordUpdated():!0,dbConnectId:U};S(A);F.remote("checkConnection",A)};this.saveDBConnection=function(A){var U=A.getDBSource();A={model:JSON.stringify(A.toJsonObject()),passwordUpdated:U.isPasswordUpdated?U.isPasswordUpdated():!0};S(A);F.remote("saveDBConnection",A)};this.saveOrUpdateDBPermissionInfo=function(A,U){A={model:JSON.stringify(A.toJsonObject()),authToAll:U};S(A);F.remote("saveOrUpdateDBPermissionInfo",A)};this.loadDBPermissionInfo=function(A){A={model:JSON.stringify(A.toJsonObject())};
S(A);F.remote("loadDBPermissionInfo",A)};this.loadDBConnections=function(){F.remote("loadDBConnections",{})};this.openAPIInitialCheck=function(A){A={source:JSON.stringify(A)};S(A);F.remote("checkOpenAPIConnection",A)};this.deleteDBConnection=function(A){A={id:A};S(A);F.remote("deleteDBConnection",A)};this.deleteDBConnections=function(A){A={dbIds:JSON.stringify(A)};S(A);F.remote("deleteDBConnections",A)};this.updateDBConnection=function(A){var U=A.getDBSource();A={model:JSON.stringify(A.toJsonObject()),
passwordUpdated:U.isPasswordUpdated?U.isPasswordUpdated():!0};S(A);F.remote("updateDBConnection",A)};this.loadDBRefInfo=function(A){F.remote("loadDBRefInfo",{id:A})};this.loadDBRefInfoTimes=function(A){F.remote("loadDBRefInfoTimes",{id:A})};this.checkIsCosmicK3CloudFormalProduct=function(){F.remote("checkIsCosmicK3CloudFormalProduct",{})};var S=function(A){var U=E.DBManageAppendSceneParams.getFunAppendMoreParams();U&&U(A);A.appID=Ga.getUrlParamValue("appID")}};E.RemoteImpl=function(){Z.call(this);
var K;this.getRemoteUrl=function(){return K};this.setRemoteUrl=function(P){K=P}};E.UploadFacade=function(K,P,Q,q){R.call(this,K,P,Q,q);this.uploadFile=function(F){var S=com.kingdee.bos.qing.framework.common.RemoteFrameworkRegister.getUploadUrl();F.open("post",S,!0)}};E.Toolbar=function(){var K,P=$("<div>"),Q=$("<div>"),q=$("<div>");this.getJqUi=function(){K||(K=$("<div>"),K.addClass("dbmanage-toolbar"),P.addClass("dbmanage-toolbar-sub"),P.appendTo(K),Q.addClass("dbmanage-toolbar-sub"),Q.appendTo(K),
q.addClass("dbmanage-toolbar-sub"),q.appendTo(K));return K};this.addSeperator=function(){F(Q)};this.addSeperatorForHeadCustom=function(){F(P)};this.addButton=function(U,ka,pa,qa){return S(Q,!1,U,ka,pa,qa)};this.addButtonForHeadCustom=function(U,ka,pa,qa){return S(P,!1,U,ka,pa,qa)};this.addButtonForTailCustom=function(U,ka,pa,qa){return S(q,!1,U,ka,pa,qa)};this.addMenuButton=function(U,ka,pa,qa){return S(Q,!0,U,ka,pa,qa)};this.addMenuButtonForHeadCustom=function(U,ka,pa,qa){return S(P,!0,U,ka,pa,qa)};
this.addMenuButtonForTailCustom=function(U,ka,pa,qa){return S(q,!0,U,ka,pa,qa)};var F=function(U){var ka=$("<div>");ka.addClass("dbmanage-toolbar-seperator");ka.appendTo(U)},S=function(U,ka,pa,qa,w,ea){var Ba=new ca;Ba.setIconSetter(function(y,na){E.Icons.background(y,na)});Ba.setIconName(qa);Ba.setText(w);Ba.setTooltips(ea);ka&&Ba.setShowDropdownArrow(!0);Ba.addActionListener(function(y,na){ka?A(y.getJqUi(),na,pa,U):pa(y)});Ba.getJqUi().appendTo(U);return Ba},A=function(U,ka,pa,qa){var w=U.data("menu");
if(w&&w.isShowing())U.data("menu",null),w.hide();else{w=new sa;w.setModel(pa());w.setHideListener(function(){U.data("menu",null)});U.data("menu",w);pa=null==qa?Q:qa;qa=U.prop("offsetLeft");var ea=U.prop("offsetHeight")+U.prop("offsetTop");w.show(pa,qa,ea,ka,!0)}}};var R,Z,ca,sa,xa,Ha,Ga,ia;(function(){var K=com.kingdee.bos.qing.ui.component;ca=K.ToolbarButton;sa=K.Menu;K=com.kingdee.bos.qing.framework.common;R=K.AbstractFacade;Z=K.AbstractRemoteCall;xa=K.AbstractIcons;Ha=K.MultilanguageManager.createPackageAccessor(E);
K=com.kingdee.bos.qing;Ga=K.Seer;K=com.kingdee.bos.qing.dbmanage;ia=K.DBConnection})();E.DBCenterConnCreatorHelper=new function(){var K;this.supportCreateDBCenterConn=function(){return null!=K};this.registerConstructor=function(P){K=P};this.createSelector=function(P){if(!K)throw Error("please register datacenter creator");var Q=new K;Q.setSuccessCallback(P);return Q}};E.DataCenterSelectorHelper=new function(){var K;this.registerConstructor=function(P){K=P};this.createSelector=function(){if(!K)throw Error("please register datacenter selector");
return new K}};E.SuperQuerySelectorHelper=new function(){var K;this.registerConstructor=function(P){K=P};this.createSelector=function(){if(!K)throw Error("please register a superQuery selector.");return new K}};E.DataSourceDetailTextGenerator=new function(){var K={};this.getDetailText=function(P,Q){var q=K[P.getDBSourceType()];return q?q.getDetailText(P,Q):""};this.registerGenerator=function(P,Q){K[P]=Q}};E.DataSourceDetailTextGenerator.registerGenerator(ia.SOURCE_TYPE_DB,new function(){H.call(this);
this.getDetailText=function(K,P){var Q=K.getDBSource();K=Q.getTypeName();P=Q.getDBAddress();var q=Q.getDbPort()?Q.getDbPort():"";Q=Q.getUserName();var F=Ha.get("dbDetailText","\u7c7b\u578b\uff1a#1\uff1b\u670d\u52a1\u5668\uff1a#2\uff1b\u7aef\u53e3\uff1a#3\uff1b\u7528\u6237\u540d\uff1a#4");F=F.replace("#1",K);F=F.replace("#2",P);F=F.replace("#3",q);return F=F.replace("#4",Q)}});E.DBPermissionCallBackGenerator=new function(){var K;this.createCallBack=function(){return K};this.registerCallBack=function(P){K=
P}};E.DBManageAddAuthClearIcon=new function(){var K=!0;this.setAuthClearIcon=function(P){K=P};this.getAuthClearIcon=function(){return K}};E.Icons=new function(){xa.call(this);var K=this.protectedMethod;this.protectedInit=function(F,S){F=com.kingdee.bos.qing.dbmanage.ComboIcon;if(!F)throw Error("com.kingdee.bos.qing.dbmanage.ComboIcon not found.");F.define(S,"nodata");q(0,0,"nodata");F.define(S,"icon");P(0,0,"eas_btn_create");P(0,1,"eas_btn_edit");P(0,2,"eas_btn_check");P(0,3,"eas_btn_delete");P(0,
4,"eas_btn_refresh");F.define(S,"icon_f7");q(0,0,"icon_f7");F.define(S,"db-manage");S.setIconSize(100,100);q(0,0,"ACCESS");q(0,1,"REDSHIFT");q(0,2,"APACHEDRILL");q(0,3,"HIVE");q(0,4,"IMPALA");q(0,5,"KYLIN");q(0,6,"DB2");q(0,7,"DM");q(1,0,"GAUSSDB");q(1,1,"GREENPLUM");q(1,2,"HANA");q(1,3,"MYSQL");q(1,4,"ODPS");q(1,5,"ORACLE");q(1,6,"POSTGRESQL");q(1,7,"SPARKSQL");q(2,0,"SQLSERVER");q(2,1,"SQLITE");q(2,2,"SYBASEIQ");q(2,3,"SYBASE");q(2,4,"TIDB");q(2,5,"KINGBASE");q(2,6,"TDSQL");q(2,7,"GBASE");q(4,7,
"VASTBASE");q(4,6,"YASHANDB");q(4,5,"DORIS");q(3,0,"KINGDEE");q(3,1,"OPENAPI");q(3,2,"EXCEL");S.setStartPosition(0,500);S.setIconSize(17,17);Q(0,0,"btn-delete");Q(0,1,"btn-edit");Q(0,2,"permission");S.setStartPosition(0,600);S.setIconSize(52,52);q(1,0,"CreatorIcon");q(0,0,"CreatorIcon_hover")};var P=function(F,S,A){q(F,S,A+"_hover");q(F+1,S,A);q(F+2,S,A+"_disabled")},Q=function(F,S,A){q(F,S,A+"_hover");q(F+1,S,A)},q=function(F,S,A){K.registIcon(F,S,A)}};E.DBManageAppendSceneParams=new function(){var K;
this.addFunAppendMoreParams=function(P){K=P};this.getFunAppendMoreParams=function(){return K}}})();(function(){function H(){var a=this,b,c,d,h,f,n,g,L,N,fa,t;this.setRemoteImpl=function(m){d=m};this.setOuterMessageCurtain=function(m){f=m};this.setModel=function(m,D){b=m;c=D;a.protectedModelToUi(b)};this.getModel=function(){return a.protectedUiToModel()};this.setMoveDBList2Right=function(m){n=m};this.protectedIsMoveDBList2Right=function(){return n};this.getDriverVersionName=function(){return M.getDriverVersions(b.getDbType())};this.getAdvanceSettingModel=function(){var m=new k;m.setTimezone(N);
m.setCharset(L);m.setOtherSetting($.trim(fa));return m};var p=function(){g=a.protectedGetDefaultAdvanceSetting();var m=b.getAdvanceSetting(),D=$("<div class='dbmanage-db-connection-advanceSetting-content'>"),I=(new V(l.get("characterSet","\u5b57\u7b26\u96c6"))).getJqUi();(L=m.getCharset())||(L=g[k.CHARSET]);var W=["GBK","BIG5","ISO-8859-1","UTF-8","UTF-16"];-1==W.indexOf(L)&&(L="UTF-8");var v=new Ca;v.setItemModels(W);v.setSelected(L);v.addSelectedChangedListener(function(la,ta,ha){L=ha;B()});W=v.getJqUi();
var O={"GMT+8":"GMT%2B8","GMT-8":"GMT%2D8","GMT+0":"GMT"};(N=m.getTimezone())||(N=g[k.TIME_ZONE]);var X=["GMT%2B8","GMT%2D8","GMT"].indexOf(N);-1==X&&(X=0,N="GMT%2B8");v=(new V(l.get("timeZone","\u65f6\u533a"))).getJqUi();var ma=new Ca,ja=Object.keys(O);ma.setItemModels(ja);ma.setSelected(ja[X]);ma.addSelectedChangedListener(function(la,ta,ha){N=O[ha];B()});X=ma.getJqUi();(fa=m.getOtherSetting())||(fa=g[k.OTHER_SETTING]);m=(new V(l.get("otherParameters","\u5176\u4ed6\u53c2\u6570"))).getJqUi();m.attr("title",
l.get("otherParameters","\u5176\u4ed6\u53c2\u6570"));var aa=new ra;aa.setText($.trim(fa));aa.addEditedListener(function(){fa=aa.getText()&&0<aa.getText().trim().length?aa.getText().trim():"";B()});ma=aa.getJqUi();ja=(new V(l.get("fullURL","\u5b8c\u6574URL"))).getJqUi();t=new Qa;var ua=t.getJqUi(),Y=ua.find(":input");Y.attr("readonly","true");Y.css({cursor:"default",color:"#666666"});Y=0;g[k.TIME_ZONE]&&(Y+=43,G.layoutCtrl(v,20,Y,80,16),G.layoutCtrl(X,92,Y,297,16),D.append(v),D.append(X));g[k.CHARSET]&&
(Y+=43,G.layoutCtrl(I,20,Y,80,16),G.layoutCtrl(W,92,Y,297,16),D.append(I),D.append(W));g[k.OTHER_SETTING]&&(Y+=43,G.layoutCtrl(m,20,Y,80,16),G.layoutCtrl(ma,92,Y,297,16),D.append(m),D.append(ma));Y+=43;G.layoutCtrl(ja,20,Y,80,16);G.layoutCtrl(ua,92,Y,297,100);D.append(ja);D.append(ua);B();return D},B=function(){var m=a.createJdbcURL(L,N,fa);t&&t.setText(m)};this.createJdbcURL=function(m,D,I){var W="";m&&0<m.length&&(W+="useUnicode=true&characterEncoding="+m);D&&0<D.length&&(W+="&serverTimezone="+
D);I&&0<$.trim(I).length&&(W+="&"+I);if(a.getModel()&&a.getModel().getDbName())return b=a.getModel(),m=g[k.PREFIX],b.getDBAddress()&&(m=m.replace("{server}",b.getDBAddress())),b.getDbPort()&&(m=m.replace("{port}",b.getDbPort())),b.getDbName()&&(m=m.replace("{database}",b.getDbName())),m+W};this.protectedGetDefaultAdvanceSetting=function(){};this.getJqUi=function(){throw Error("override me");};this.isModelValid=function(m,D,I){var W=a.protectedCheckDBSource(m);if(W)return I(W),!1;(new r(d,function(){D()},
function(v,O){v+="";return"20"==v.substr(0,2)&&7==v.length?(f.showPrompt(O),!0):"1300004"==v?(f.showPrompt(l.get("noMenuPermission","\u60a8\u6ca1\u6709\u5f53\u524d\u83dc\u5355\u6743\u9650\u3002")),!0):!1})).checkConnection(m,c);return!0};this.protectedModelToUi=function(m){};this.protectedUiToModel=function(){throw Error("override me");};this.protectedCheckDBSource=function(m){return null};this.protectedMethod={getRemoteImpl:function(){return d},getMsgCurtain:function(){return f},protectedCreateAdvancedSettingUI:function(){var m=
$("<div>"),D=p();D.css("display","none");var I=$("<div>"),W=!1,v=$("<span class='dbmanage-db-connection-card-item-edit-setting-close'>");v.on("click",function(X){W?(v.addClass("dbmanage-db-connection-card-item-edit-setting-close"),v.removeClass("dbmanage-db-connection-card-item-edit-setting-open"),W=!1,D.css("display","none")):(v.removeClass("dbmanage-db-connection-card-item-edit-setting-close"),v.addClass("dbmanage-db-connection-card-item-edit-setting-open"),W=!0,D.css("display","block"))});v.text("\u25b2");
v.css("color","#666");var O=$("<span>");O.text(l.get("advanceSetting"," \u9ad8\u7ea7\u8bbe\u7f6e"));O.css("color","#666");O.css({"margin-left":"18px"});I.append(v);I.append(O);m.append(I);m.append(D);D.css({position:"absolute",left:"0px",top:"0px"});return m},protectedUpdateTextAreaListener:B,checkConnection:function(m,D){var I=a.protectedCheckDBSource(m);I?f.showPrompt(I):(new r(d,function(W){D&&D(W);f.showSuccess(l.get("connectSuccess","\u8fde\u63a5\u6210\u529f\u3002"))},function(W,v){var O=W+"";
return"20"==O.substr(0,2)&&7==O.length?(f.showPrompt(v),!0):"1300004"==W?(f.showPrompt(l.get("noMenuPermission","\u60a8\u6ca1\u6709\u5f53\u524d\u83dc\u5355\u6743\u9650\u3002")),!0):!1})).checkConnection(m,c)},getDatabaseNameList:function(m,D){(new r(d,function(I){f.showSuccess(l.get("connectSuccess","\u8fde\u63a5\u6210\u529f\u3002"));h=I;D&&D(h)},function(I,W){var v=I+"";return"20"==v.substr(0,2)&&7==v.length?(f.showPrompt(W),!0):"1300004"==I?(f.showPrompt(l.get("noMenuPermission","\u60a8\u6ca1\u6709\u5f53\u524d\u83dc\u5355\u6743\u9650\u3002")),
!0):!1})).getDatabaseNameList(m,c)},isPasswordUpdated:function(m){return m.getPassword()!==b.getPassword()}}}function E(){H.call(this);var a=this,b=this.protectedMethod,c,d,h,f,n,g,L,N;this.protectedUiToModel=function(){var t=new e;t.setName("s"+(new Date).getTime());t.setDbType(a.protectedGetSourceType());t.setUserName($.trim(h.getText()));t.setDbPort($.trim(d.getText()));t.setDbAddress($.trim(c.getText()));var p=$.trim(f.getPassword());t.setPassword(p);t.setIsPasswordUpdated(b.isPasswordUpdated(t));
t.setDbName("");a.protectedCollectMoreProperties(t);return t};this.protectedModelToUi=function(t){c||fa();h.setText(t.getUserName());t.getDbPort()&&d.setText(t.getDbPort());c.setText(t.getDbAddress());f.setPassword(t.getPassword());a.protectedModel2Ui(t)};this.protectedCheckDBSource=function(t){var p,B=$.trim(t.getDBAddress());t=$.trim(t.getDbPort());""===B?p=l.get("emptyDBAddress","\u670d\u52a1\u5668\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a"):""===t&&(p=l.get("emptyDBPort","\u7aef\u53e3\u4e0d\u80fd\u4e3a\u7a7a"));
return p};this.protectedInit=function(){};this.protectedGetDefaultPort=function(){};this.protectedCheckConnection=function(t,p){t.setAdvanceSetting(a.getAdvanceSettingModel());b.getDatabaseNameList(t,p)};this.protectedModel2Ui=function(t){};this.createJdbcURL=function(t,p,B){var m="";t&&0<t.length&&(m+="useUnicode=true&characterEncoding="+t);p&&0<p.length&&(m+="&serverTimezone="+p);B&&0<$.trim(B).length&&(m+="&"+B);if((t=a.getModel())&&t.getSchema())return p=a.protectedGetDefaultAdvanceSetting()[k.PREFIX],
t.getDBAddress()&&(p=p.replace("{server}",t.getDBAddress())),t.getDbPort()&&(p=p.replace("{port}",t.getDbPort())),t.getDbName()&&(p=p.replace("{database}",t.getDbName())),p+m};this.protectedCollectMoreProperties=function(t){};this.protectedIsSlimMode=function(){return!1};this.protectedGetSourceType=function(){throw Error("override me");};this.getDbNameList=function(){};this.getJqUi=function(){var t=a.protectedIsMoveDBList2Right(),p=$("<div>");c||fa();var B=new V,m=B.getJqUi();B.setText(l.get("server",
"\u670d\u52a1\u5668"));B=c.getJqUi();var D=new V,I=D.getJqUi();D.setText(l.get("port","\u7aef\u53e3"));D=d.getJqUi();var W=new V,v=W.getJqUi();W.setText(l.get("logininfo","\u670d\u52a1\u5668\u767b\u5f55\u4fe1\u606f\uff1a"));var O=new V;W=O.getJqUi();O.setText(l.get("user","\u7528\u6237"));O=h.getJqUi();var X=new V,ma=X.getJqUi();X.setText(l.get("password","\u5bc6\u7801"));X=f.getJqUi();var ja=$("<div>"),aa=l.get("connect","\u8fde\u63a5");ja.text(aa);ja.attr("title",aa);ja.addClass("dbmanage-db-connection-btn");
ja.on("click",function(){var oa=a.protectedUiToModel();a.protectedCheckConnection(oa)});var ua=a.protectedIsSlimMode();aa=0;var Y=ua?-6:0,la=ua?14:20;G.layoutCtrl(m,aa,Y,80,23);G.layoutCtrl(I,aa,Y+=23+la,80,23);if(n&&0<n.length)for(var ta=0;ta<n.length;ta++){var ha=n[ta];G.layoutCtrl(ha,aa,Y+=23+la,80,23);p.append(ha)}G.layoutCtrl(v,aa,Y+=23+la,160,23);G.layoutCtrl(W,aa,Y+=23+la,80,23);G.layoutCtrl(ma,aa,Y+=23+la,80,23);G.layoutCtrl(ja,aa,Y+=23+la,50,23);ja.css("line-height","23px");if(L&&0<L.length){var da=
-42;for(ta=0;ta<L.length;ta++)ha=L[ta],t?(G.layoutCtrl(ha,484,da,80,23),da+=23+la):G.layoutCtrl(ha,aa,Y+=23+la,80,23),p.append(ha)}aa+=90;Y=ua?-6:0;G.layoutCtrl(B,aa,Y,300,23);G.layoutCtrl(D,aa,Y+=23+la,300,23);if(g&&0<g.length)for(ta=0;ta<g.length;ta++)ua=g[ta],G.layoutCtrl(ua,aa,Y+=23+la,300,23),p.append(ua);G.layoutCtrl(O,aa,Y+=2*(23+la),300,23);G.layoutCtrl(X,aa,Y+=23+la,300,23);Y+=la+23;if(N&&0<N.length)for(ha=-44,ta=0;ta<N.length;ta++)ua=N[ta],t?(G.layoutCtrl(ua,574,ha,300,23),ha+=23+la):G.layoutCtrl(ua,
aa,Y+=23+la,300,23),p.append(ua);p.append(m);p.append(I);p.append(v);p.append(W);p.append(ma);p.append(B);p.append(D);p.append(O);p.append(X);p.append(ja);return p};var fa=function(){c=new ra;d=new ra;d.setText(a.protectedGetDefaultPort());h=new ra;f=new Ma;a.protectedInit()};b.insertLabelUi=function(t){n||(n=[]);n.push(t)};b.insertComponentUi=function(t){g||(g=[]);g.push(t)};b.appendComponentUi=function(t){N||(N=[]);N.push(t)};b.appendLabelUi=function(t){L||(L=[]);L.push(t)}}function R(){E.call(this);
var a=this.protectedMethod,b,c=this,d;this.protectedInit=function(){d=new Ca;b=a.protectedUpdateTextAreaListener;d.addSelectedChangedListener(b);var f=new V,n=f.getJqUi();f.setText(l.get("db","\u6570\u636e\u5e93"));a.appendLabelUi(n);a.appendComponentUi(d.getJqUi());f=a.protectedCreateAdvancedSettingUI();a.appendLabelUi(f)};this.protectedCheckDBSource=function(f){var n,g=$.trim(f.getDBAddress()),L=$.trim(f.getDbPort()),N=$.trim(f.getDbName());""===g?n=l.get("emptyDBAddress","\u670d\u52a1\u5668\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a"):
""===L?n=l.get("emptyDBPort","\u7aef\u53e3\u4e0d\u80fd\u4e3a\u7a7a"):""==N&&f.setDbName(null);return n};this.protectedProcessDBSource=function(f){return f};this.protectedCollectMoreProperties=function(f){d.getSelected()&&f.setDbName(d.getSelected())};this.protectedModel2Ui=function(f){f.getDbName()&&d.setSelected(f.getDbName());b&&b()};var h=this.protectedCheckConnection;this.protectedCheckConnection=function(f){var n=f.getDbName();f=c.protectedProcessDBSource(f);f.setAdvanceSetting(c.getAdvanceSettingModel());
h(f,function(g){d.setItemModels(g);-1<g.indexOf(n)?d.setSelected(n):d.setSelected(g[0]);b&&b()})};this.createJdbcURL=function(f,n,g){var L="";f&&0<f.length&&(L+="useUnicode=true&characterEncoding="+f);n&&0<n.length&&(L+="&serverTimezone="+n);g&&0<$.trim(g).length&&(L+="&"+g);if((f=c.getModel())&&f.getDbName())return f=c.getModel(),n=c.protectedGetDefaultAdvanceSetting()[k.PREFIX],f.getDBAddress()&&(n=n.replace("{server}",f.getDBAddress())),f.getDbPort()&&(n=n.replace("{port}",f.getDbPort())),f.getDbName()&&
(n=n.replace("{database}",f.getDbName())),n+L}}function Z(){R.call(this);this.protectedGetDefaultPort=function(){return"3306"};this.protectedGetDefaultAdvanceSetting=function(){var a={};a[k.PREFIX]="jdbc:mysql://{server}:{port}/{database}?";a[k.CHARSET]="UTF-8";a[k.TIME_ZONE]="GMT%2B8";a[k.OTHER_SETTING]="zeroDateTimeBehavior=convertToNull&useCursorFetch=true&defaultFetchSize=1000";return a};this.protectedGetSourceType=function(){return e.TYPE_MYSQL}}function ca(){R.call(this);var a=this;this.protectedGetDefaultPort=
function(){return"1433"};this.protectedGetDefaultAdvanceSetting=function(){var b={};b[k.CHARSET]="UTF-8";b[k.TIME_ZONE]="GMT%2B8";b[k.OTHER_SETTING]=" ";b[k.PREFIX]="jdbc:sqlserver://{server}:{port};DatabaseName={database}";return b};this.createJdbcURL=function(b,c,d){var h="";b&&0<b.length&&(h+=";useUnicode=true;characterEncoding="+b);c&&0<c.length&&(h+=";serverTimezone="+c);d&&0<$.trim(d).length&&(h+=";"+d);if(a.getModel()&&a.getModel().getDbName())return b=a.getModel(),c=a.protectedGetDefaultAdvanceSetting()[k.PREFIX],
b.getDBAddress()&&(c=c.replace("{server}",b.getDBAddress())),b.getDbPort()&&(c=c.replace("{port}",b.getDbPort())),b.getDbName()&&(c=c.replace("{database}",b.getDbName())),c+h};this.protectedGetSourceType=function(){return e.TYPE_SQLSERVER}}function sa(){E.call(this);var a=this.protectedMethod,b=this,c,d,h,f;this.protectedCollectMoreProperties=function(g){d.getText()&&g.setDbName($.trim(d.getText()));f.getSelected()&&g.setConnectType(f.getSelected())};this.protectedIsSlimMode=function(){return!0};
this.protectedGetDefaultAdvanceSetting=function(){var g={};g[k.PREFIX]=["jdbc:oracle:thin:@{server}:{port}:{database}?","jdbc:oracle:thin:@//{server}:{port}/{database}?"];g[k.CHARSET]="UTF-8";g[k.TIME_ZONE]="GMT%2B8";g[k.OTHER_SETTING]=" ";return g};this.protectedInit=function(){d=new ra;d.setText("ORCL");var g=new V(l.get("connectType","\u8fde\u63a5\u7c7b\u578b"));f=new Ca;f.setItemModels(["SID","Server Name"]);f.setSelected("SID");f.addSelectedChangedListener(n);c=a.protectedUpdateTextAreaListener;
f.addSelectedChangedListener(c);g=g.getJqUi();a.insertLabelUi(g);a.insertComponentUi(f.getJqUi());h=new V;h.setText("SID");g=h.getJqUi();a.insertLabelUi(g);a.insertComponentUi(d.getJqUi());g=a.protectedCreateAdvancedSettingUI();a.appendLabelUi(g)};var n=function(g){"SID"==g.getSelected()?(f.setSelected("SID"),h.setText("SID")):(f.setSelected("Server Name"),h.setText(l.get("serverName","\u5b9e\u4f8b\u540d")))};this.protectedModel2Ui=function(g){g.getDbName()&&d.setText(g.getDbName());g=g.getConnectType();
f.setSelected(g?g:"SID");h.setText(g?"SID"==g?"SID":l.get("serverName","\u5b9e\u4f8b\u540d"):"SID");c&&c()};this.protectedCheckConnection=function(g){g.setAdvanceSetting(b.getAdvanceSettingModel());g.setDbName($.trim(d.getText()));g.setConnectType(f.getSelected());a.checkConnection(g,function(){c&&c()})};this.protectedGetDefaultPort=function(){return"1521"};this.protectedGetSourceType=function(){return e.TYPE_ORACLE};this.createJdbcURL=function(g,L,N){var fa="";g&&0<g.length&&(fa+="useUnicode=true&characterEncoding="+
g);L&&0<L.length&&(fa+="&useTimezone=true&serverTimezone="+L);N&&0<$.trim(N).length&&(fa+="&"+N);if((g=b.getModel())&&0<g.getDbAddress().length)return L=b.protectedGetDefaultAdvanceSetting(),N=L[k.PREFIX][0],"SID"!=h.getText()&&(N=L[k.PREFIX][1]),g.getDBAddress()&&(N=N.replace("{server}",g.getDBAddress())),g.getDbPort()&&(N=N.replace("{port}",g.getDbPort())),g.getDbName()&&(N=N.replace("{database}",g.getDbName())),N+fa}}function xa(){q.call(this);this.protectedGetDefaultAdvanceSetting=function(){var a=
{};a[k.PREFIX]="jdbc:postgresql://{server}:{port}/{database}?";a[k.CHARSET]="UTF-8";a[k.TIME_ZONE]="GMT%2B8";a[k.OTHER_SETTING]="OpenSourceSubProtocolOverride=true";return a};this.protectedGetSourceType=function(){return e.TYPE_POSTGRESQL}}function Ha(){q.call(this);this.protectedGetDefaultAdvanceSetting=function(){var a={};a[k.PREFIX]="jdbc:gbase://{server}:{port}/{database}?";a[k.CHARSET]="UTF-8";a[k.TIME_ZONE]="GMT%2B8";a[k.OTHER_SETTING]=" ";return a};this.protectedGetSourceType=function(){return e.TYPE_GBASE}}
function Ga(){q.call(this);this.protectedGetDefaultAdvanceSetting=function(){var a={};a[k.PREFIX]="jdbc:vastbase://{server}:{port}/{database}?";a[k.CHARSET]="UTF-8";a[k.TIME_ZONE]="GMT%2B8";a[k.OTHER_SETTING]="";return a};this.protectedGetSourceType=function(){return e.TYPE_VASTBASE}}function ia(){E.call(this);var a=this,b=this.protectedMethod,c;this.protectedGetDefaultAdvanceSetting=function(){var d={};d[k.PREFIX]="jdbc:yasdb://{server}:{port}/{database}?";d[k.CHARSET]="UTF-8";d[k.TIME_ZONE]="GMT%2B8";
d[k.OTHER_SETTING]=" ";return d};this.protectedInit=function(){c=new ra;var d=new V;d.setText(l.get("db","\u6570\u636e\u5e93"));d=d.getJqUi();b.insertLabelUi(d);b.insertComponentUi(c.getJqUi());d=b.protectedCreateAdvancedSettingUI();b.appendLabelUi(d)};this.protectedCollectMoreProperties=function(d){c.getText()&&d.setDbName($.trim(c.getText()))};this.protectedGetSourceType=function(){return e.TYPE_YASHANDB};this.protectedGetDefaultPort=function(){return"1688"};this.createJdbcURL=function(d,h,f){var n=
"";d&&0<d.length&&(n+="useUnicode=true&characterEncoding="+d);h&&0<h.length&&(n+="&useTimezone=true&serverTimezone="+h);f&&0<$.trim(f).length&&(n+="&"+f);if((d=a.getModel())&&0<d.getDbAddress().length)return h=a.protectedGetDefaultAdvanceSetting()[k.PREFIX],d.getDBAddress()&&(h=h.replace("{server}",d.getDBAddress())),d.getDbPort()&&(h=h.replace("{port}",d.getDbPort())),d.getDbName()&&(h=h.replace("{database}",d.getDbName())),h+n};this.protectedCheckConnection=function(d){d.setAdvanceSetting(a.getAdvanceSettingModel());
d.setDbName($.trim(c.getText()));b.checkConnection(d,function(){b.protectedUpdateTextAreaListener()})};this.protectedModel2Ui=function(d){d.getDbName()&&c.setText(d.getDbName())}}function K(){var a=this;q.call(this);this.protectedGetDefaultAdvanceSetting=function(){var b={};b[k.PREFIX]="jdbc:pivotal:greenplum://{server}:{port};DatabaseName={database}";b[k.CHARSET]="UTF-8";b[k.TIME_ZONE]="GMT%2B8";b[k.OTHER_SETTING]=" ";return b};this.createJdbcURL=function(b,c,d){var h="";b&&0<b.length&&(h+=";useUnicode=true;characterEncoding="+
b);c&&0<c.length&&(h+=";serverTimezone="+c);d&&0<$.trim(d).length&&(h+=";"+d);if(a.getModel()&&a.getModel().getDbName())return b=a.getModel(),c=a.protectedGetDefaultAdvanceSetting()[k.PREFIX],b.getDBAddress()&&(c=c.replace("{server}",b.getDBAddress())),b.getDbPort()&&(c=c.replace("{port}",b.getDbPort())),b.getDbName()&&(c=c.replace("{database}",b.getDbName())),c+h};this.protectedGetSourceType=function(){return e.TYPE_GREENPLUM}}function P(){q.call(this);this.protectedGetDefaultAdvanceSetting=function(){var a=
{};a[k.PREFIX]="jdbc:kingbase8://{server}:{port}/{database}";a[k.CHARSET]="UTF-8";a[k.TIME_ZONE]="GMT%2B8";a[k.OTHER_SETTING]=" ";return a};this.protectedGetSourceType=function(){return e.TYPE_KINGBASE};this.protectedGetDefaultPort=function(){return"54321"}}function Q(){Z.call(this);this.protectedGetDefaultAdvanceSetting=function(){var a={};a[k.PREFIX]="jdbc:tdsql-mysql://{server}:{port};DatabaseName={database}";a[k.CHARSET]="UTF-8";a[k.TIME_ZONE]="GMT%2B8";a[k.OTHER_SETTING]=" ";return a};this.protectedGetSourceType=
function(){return e.TYPE_TDSQL};this.protectedGetDefaultPort=function(){return"15023"}}function q(){E.call(this);var a=this,b=this.protectedMethod,c,d,h;this.protectedCollectMoreProperties=function(n){c.getText()&&n.setDbName($.trim(c.getText()));d.getSelected()&&n.setSchema(d.getSelected())};this.protectedInit=function(){c=new ra;var n=new V;n.setText(l.get("db","\u6570\u636e\u5e93"));n=n.getJqUi();b.insertLabelUi(n);c.setText(a.protectedGetDefaultDB());b.insertComponentUi(c.getJqUi());d=new Ca;
h=b.protectedUpdateTextAreaListener;d.addSelectedChangedListener(h);n=new V;var g=n.getJqUi();n.setText(l.get("mode","\u6a21\u5f0f"));b.appendLabelUi(g);b.appendComponentUi(d.getJqUi());n=b.protectedCreateAdvancedSettingUI();b.appendLabelUi(n)};this.protectedModel2Ui=function(n){n.getDbName()&&c.setText(n.getDbName());d.setSelected(n.getSchema());h&&h()};var f=a.protectedCheckConnection;this.protectedCheckConnection=function(n){n.setAdvanceSetting(a.getAdvanceSettingModel());n.setDbName($.trim(c.getText()));
f(n,function(g){d.setItemModels(g);g&&!n.getSchema()&&d.setSelected(g[0]);h&&h()})};this.protectedGetDefaultPort=function(){return"5432"};this.protectedGetDefaultDB=function(){return"template1"}}function F(){E.call(this);var a=this.protectedMethod,b=this,c,d,h;this.protectedCollectMoreProperties=function(n){c.getText()&&n.setDbName($.trim(c.getText()));d.getSelected()&&n.setSchema(d.getSelected())};this.protectedInit=function(){c=new ra;var n=new V;n.setText(l.get("db","\u6570\u636e\u5e93"));n=n.getJqUi();
a.insertLabelUi(n);c.setText("sample");a.insertComponentUi(c.getJqUi());d=new Ca;h=a.protectedUpdateTextAreaListener;d.addSelectedChangedListener(h);n=new V;var g=n.getJqUi();n.setText(l.get("mode","\u6a21\u5f0f"));a.appendLabelUi(g);a.appendComponentUi(d.getJqUi());n=a.protectedCreateAdvancedSettingUI();a.appendLabelUi(n)};this.protectedGetDefaultAdvanceSetting=function(){var n={};n[k.PREFIX]="jdbc:db2://{server}:{port}/{database}:currentSchema={schema};";n[k.CHARSET]="UTF-8";n[k.TIME_ZONE]="GMT%2B8";
n[k.OTHER_SETTING]="retrieveMessagesFromServerOnGetMessage=true;";return n};this.protectedModel2Ui=function(n){n.getDbName()&&c.setText(n.getDbName());n.getSchema()&&d.setSelected(n.getSchema());(h=a.protectedUpdateTextAreaListener)&&h()};this.protectedCheckConnection=function(n){n.setAdvanceSetting(b.getAdvanceSettingModel());n.setDbName($.trim(c.getText()));a.getDatabaseNameList(n,f)};this.createJdbcURL=function(n,g,L){var N="";n&&0<n.length&&(N+="useUnicode=true;characterEncoding="+n);g&&0<g.length&&
(N+=";serverTimezone="+g+";");L&&0<$.trim(L).length&&(N+=L);if((n=b.getModel())&&n.getSchema())return g=b.protectedGetDefaultAdvanceSetting()[k.PREFIX],n.getDBAddress()&&(g=g.replace("{server}",n.getDBAddress())),n.getDbPort()&&(g=g.replace("{port}",n.getDbPort())),n.getDbName()&&(g=g.replace("{database}",n.getDbName())),n.getSchema()&&(g=g.replace("{schema}",n.getSchema())),g+N};var f=function(n){if(n&&0<n.length){d.setItemModels(n);var g=d.getSelected();g&&0<n.indexOf(g)?d.setSelected(g):d.setSelected(n[0]);
h&&h()}};this.protectedGetDefaultPort=function(){return"50000"};this.protectedGetSourceType=function(){return e.TYPE_DB2}}function S(){U.call(this);this.protectedGetDefaultPort=function(){return"10000"};this.protectedGetSourceType=function(){return e.TYPE_HIVE}}function A(){U.call(this);this.getDefaultPort=function(){return"10016"};this.protectedGetDefaultPort=function(){return"10016"};this.protectedGetSourceType=function(){return e.TYPE_SPARKSQL}}function U(){E.call(this);var a=this,b=this.protectedMethod,
c,d;this.protectedCollectMoreProperties=function(h){c.getText()&&h.setDbName($.trim(c.getText()))};this.protectedInit=function(){c=new ra;var h=new V;h.setText(l.get("db","\u6570\u636e\u5e93"));h=h.getJqUi();b.insertLabelUi(h);c.setText("default");b.insertComponentUi(c.getJqUi());h=b.protectedCreateAdvancedSettingUI();b.appendLabelUi(h)};this.protectedGetDefaultAdvanceSetting=function(){var h={};h[k.PREFIX]="jdbc:hive2://{server}:{port}/{database}";h[k.CHARSET]="";h[k.TIME_ZONE]="";h[k.OTHER_SETTING]=
" ";return h};this.createJdbcURL=function(h,f,n){h="";n&&0<$.trim(n).length&&(h+=";"+n);if((n=a.getModel())&&0<$.trim(n.getDBAddress()).length)return f=a.protectedGetDefaultAdvanceSetting()[k.PREFIX],n.getDBAddress()&&(f=f.replace("{server}",n.getDBAddress())),n.getDbPort()&&(f=f.replace("{port}",n.getDbPort())),n.getDbName()&&(f=f.replace("{database}",n.getDbName())),f+h};this.protectedModel2Ui=function(h){h.getDbName()&&c.setText(h.getDbName());(d=b.protectedUpdateTextAreaListener)&&d()};this.protectedCheckConnection=
function(h){h.setAdvanceSetting(a.getAdvanceSettingModel());h.setDbName($.trim(c.getText()));b.getDatabaseNameList(h,d)}}function ka(){E.call(this);var a=this.protectedMethod,b=this,c,d,h,f,n,g,L=l.get("singleContainer","\u5355\u5bb9\u5668"),N=l.get("multiContainer","\u591a\u5bb9\u5668");this.protectedCollectMoreProperties=function(p){c.getSelected()==L?p.setDbName(void 0):p.setDbName($.trim(d.getText()));h.getSelected()&&p.setSchema(h.getSelected())};this.protectedInit=function(){c=new Ca;c.setItemModels([L,
N]);c.setSelected(L);c.addSelectedChangedListener(function(m,D,I){I==L?t():(n&&n.show(),g&&g.show())});var p=new V;p.setText(l.get("mode","\u6a21\u5f0f"));p=p.getJqUi();a.insertLabelUi(p);a.insertComponentUi(c.getJqUi());p=new V;p.setText(l.get("db","\u6570\u636e\u5e93"));n=p.getJqUi();a.insertLabelUi(n);d=new ra;g=d.getJqUi();a.insertComponentUi(g);h=new Ca;f=a.protectedUpdateTextAreaListener;h.addSelectedChangedListener(f);p=new V;var B=p.getJqUi();p.setText(l.get("mode","\u6a21\u5f0f"));a.appendLabelUi(B);
a.appendComponentUi(h.getJqUi());t();p=a.protectedCreateAdvancedSettingUI();a.appendLabelUi(p)};this.protectedGetDefaultPort=function(){return"39015"};this.protectedGetDefaultAdvanceSetting=function(){var p={};p[k.PREFIX]="jdbc:sap://{server}:{port}/?databaseName={database}";p[k.CHARSET]="";p[k.TIME_ZONE]="";p[k.OTHER_SETTING]=" ";return p};this.createJdbcURL=function(p,B,m){var D="";p&&0<p.length&&(D+="useUnicode=true&characterEncoding="+p);B&&0<B.length&&(D+="&serverTimezone="+B);m&&0<$.trim(m).length&&
(D+="&"+m);if((p=b.getModel())&&p.getSchema())return B=b.protectedGetDefaultAdvanceSetting()[k.PREFIX],p.getDBAddress()&&(B=B.replace("{server}",p.getDBAddress())),p.getDbPort()&&(B=B.replace("{port}",p.getDbPort())),B=B.replace("{database}",$.trim(p.getDbName())),B=B.replace("{schema}",p.getSchema()),B+D};this.protectedGetDefaultAdvanceSetting=function(){var p={};p[k.PREFIX]="jdbc:sap://{server}:{port}/?databaseName={database}&currentSchema={schema}&";p[k.CHARSET]="UTF-8";p[k.TIME_ZONE]="GMT%2B8";
p[k.OTHER_SETTING]=" ";return p};this.protectedModel2Ui=function(p){var B=p.getDbName();B?(c.setSelected(l.get("multiContainer")),d.setText(B),n&&n.show(),g&&g.show()):(c.setSelected(l.get("singleContainer")),t());h.setSelected(p.getSchema());f&&f()};var fa=b.protectedCheckConnection;this.protectedCheckConnection=function(p){p.setAdvanceSetting(b.getAdvanceSettingModel());p.setDbName($.trim(d.getText()));fa(p,function(B){h.setItemModels(B);var m=h.getSelected();m&&0<B.indexOf(m)?h.setSelected(m):
h.setSelected(B[0]);a.protectedUpdateTextAreaListener()})};this.getDefaultPort=function(){return"39015"};this.protectedIsSlimMode=function(){return!0};this.protectedGetSourceType=function(){return e.TYPE_HANA};var t=function(){n&&n.hide();g&&g.hide()}}function pa(){H.call(this);var a=this.protectedMethod,b,c,d,h;this.getJqUi=function(){var g=$("<div>");b||f();var L=new V(l.get("IPAddress","\u670d\u52a1\u5668")),N=new V(l.get("ProjectName","\u9879\u76ee\u540d\u79f0")),fa=c.getJqUi(),t=b.getJqUi();
L=L.getJqUi();N=N.getJqUi();var p=new V,B=p.getJqUi();p.setText(l.get("logininfo","\u670d\u52a1\u5668\u767b\u5f55\u4fe1\u606f\uff1a"));var m=new V;p=m.getJqUi();m.setText(l.get("user","\u7528\u6237"));m=d.getJqUi();var D=new V,I=D.getJqUi();D.setText(l.get("password","\u5bc6\u7801"));D=h.getJqUi();var W=$("<div>"),v=l.get("connect","\u8fde\u63a5");W.text(v);W.attr("title",v);W.addClass("dbmanage-db-connection-btn");W.on("click",function(){var X=n();a.checkConnection(X)});var O=v=0;G.layoutCtrl(L,
v,O,80,23);G.layoutCtrl(N,v,O+=43,80,23);G.layoutCtrl(B,v,O+=43,160,23);G.layoutCtrl(p,v,O+=43,80,23);G.layoutCtrl(I,v,O+=43,80,23);G.layoutCtrl(W,v,O+=43,50,23);W.css("line-height","23px");v+=90;O=0;G.layoutCtrl(t,v,O,300,23);G.layoutCtrl(fa,v,O+=43,300,23);G.layoutCtrl(m,v,O+=86,300,23);G.layoutCtrl(D,v,O+=43,300,23);g.append(L);g.append(N);g.append(B);g.append(p);g.append(I);g.append(m);g.append(D);g.append(W);g.append(t);g.append(fa);return g};this.protectedModelToUi=function(g){c||f();var L=
g.getDbName();c.setText(L?L:"");L=g.getDbAddress();b.setText(L?L:"https://service.odps.aliyun.com/api");d.setText(g.getUserName());h.setPassword(g.getPassword())};this.protectedUiToModel=function(){return n()};var f=function(){b=new ra;b.setText("https://service.odps.aliyun.com/api");c=new ra;d=new ra;h=new Ma},n=function(){var g=new e;g.setName("s"+(new Date).getTime());g.setDbType(e.TYPE_ODPS);g.setUserName($.trim(d.getText()));g.setDbAddress($.trim(b.getText()));g.setPassword($.trim(h.getPassword()));
g.setIsPasswordUpdated(a.isPasswordUpdated(g));g.setDbName($.trim(c.getText()));return g}}function qa(){E.call(this);var a=this,b=this.protectedMethod,c,d,h;this.protectedCollectMoreProperties=function(f){c.getText()&&f.setDbName($.trim(c.getText()));d.getSelected()&&f.setSchema(d.getSelected())};this.protectedInit=function(){c=new ra;var f=new V;f.setText(l.get("db","\u6570\u636e\u5e93"));f=f.getJqUi();b.insertLabelUi(f);b.insertComponentUi(c.getJqUi());d=new Ca;f=new V;var n=f.getJqUi();f.setText(l.get("mode",
"\u6a21\u5f0f"));b.appendLabelUi(n);b.appendComponentUi(d.getJqUi());f=b.protectedCreateAdvancedSettingUI();b.appendLabelUi(f)};this.protectedGetDefaultAdvanceSetting=function(){var f={};f[k.PREFIX]="jdbc:redshift://{server}:{port}/{database}";f[k.OTHER_SETTING]=" ";return f};this.protectedModel2Ui=function(f){f.getDbName()&&c.setText(f.getDbName());f.getSchema()&&d.setSelected(f.getSchema());(h=b.protectedUpdateTextAreaListener)&&h()};this.protectedCheckConnection=function(f){f.setAdvanceSetting(a.getAdvanceSettingModel());
f.setDbName($.trim(c.getText()));b.checkConnection(f)};this.protectedGetDefaultPort=function(){return"5439"};this.protectedGetSourceType=function(){return e.TYPE_REDSHIFT}}function w(){R.call(this);var a=this;this.protectedGetDefaultPort=function(){return"5000"};this.createJdbcURL=function(b,c,d){b="";d&&0<$.trim(d).length&&(b+="&"+d);if((d=a.getModel())&&d.getDbName())return d=a.getModel(),c=a.protectedGetDefaultAdvanceSetting()[k.PREFIX],d.getDBAddress()&&(c=c.replace("{server}",d.getDBAddress())),
d.getDbPort()&&(c=c.replace("{port}",d.getDbPort())),d.getDbName()&&(c=c.replace("{database}",d.getDbName())),c+b};this.protectedProcessDBSource=function(b){b.setDbName();return b};this.protectedGetDefaultAdvanceSetting=function(){var b={};b[k.PREFIX]="jdbc:sybase:Tds:{server}:{port}";b[k.OTHER_SETTING]=" ";return b};this.protectedGetSourceType=function(){return e.TYPE_SYBASE}}function ea(){R.call(this);var a=this;this.protectedGetDefaultPort=function(){return"2638"};this.protectedProcessDBSource=
function(b){b.setDbName();return b};this.createJdbcURL=function(b,c,d){b="";d&&0<$.trim(d).length&&(b+="&"+d);if((d=a.getModel())&&d.getDbName())return c=a.protectedGetDefaultAdvanceSetting()[k.PREFIX],d.getDBAddress()&&(c=c.replace("{server}",d.getDBAddress())),d.getDbPort()&&(c=c.replace("{port}",d.getDbPort())),d.getDbName()&&(c=c.replace("{database}",d.getDbName())),c+b};this.protectedGetDefaultAdvanceSetting=function(){var b={};b[k.PREFIX]="jdbc:sybase:Tds:{server}:{port}";b[k.OTHER_SETTING]=
" ";return b};this.protectedGetSourceType=function(){return e.TYPE_SYBASEIQ}}function Ba(){R.call(this);this.protectedGetDefaultPort=function(){return"4000"};this.protectedGetDefaultAdvanceSetting=function(){var a={};a[k.PREFIX]="jdbc:mysql://{server}:{port}/{database}?";a[k.CHARSET]="UTF-8";a[k.TIME_ZONE]="GMT%2B8";a[k.OTHER_SETTING]="zeroDateTimeBehavior=convertToNull&useCursorFetch=true&defaultFetchSize=1000";return a};this.protectedGetSourceType=function(){return e.TYPE_TIDB}}function y(){R.call(this);
this.protectedGetDefaultPort=function(){return"5236"};this.protectedGetDefaultAdvanceSetting=function(){var a={};a[k.PREFIX]="jdbc:dm://{server}:{port}/{database}?";a[k.CHARSET]="UTF-8";a[k.TIME_ZONE]="GMT%2B8";a[k.OTHER_SETTING]="zeroDateTimeBehavior=convertToNull";return a};this.protectedGetSourceType=function(){return e.TYPE_DM}}function na(){H.call(this);var a=this.protectedMethod,b,c,d,h,f,n,g,L=["GaussDB100","GaussDB200","GaussDB300"];this.getJqUi=function(){var t=$("<div>");c||N();var p=new V(l.get("dbVersion",
"\u6570\u636e\u5e93\u7248\u672c")),B=new V(l.get("IPAddress","\u670d\u52a1\u5668")),m=new V(l.get("port","\u7aef\u53e3")),D=new V(l.get("db","\u6570\u636e\u5e93")),I=b.getJqUi(),W=c.getJqUi(),v=d.getJqUi(),O=h.getJqUi();p=p.getJqUi();B=B.getJqUi();m=m.getJqUi();D=D.getJqUi();var X=new V,ma=X.getJqUi();X.setText(l.get("logininfo","\u670d\u52a1\u5668\u767b\u5f55\u4fe1\u606f\uff1a"));var ja=new V;X=ja.getJqUi();ja.setText(l.get("user","\u7528\u6237"));ja=n.getJqUi();var aa=new V,ua=aa.getJqUi();aa.setText(l.get("password",
"\u5bc6\u7801"));aa=g.getJqUi();var Y=$("<div>"),la=l.get("connect","\u8fde\u63a5");Y.text(la);Y.attr("title",la);Y.addClass("dbmanage-db-connection-btn");Y.on("click",function(){var oa=fa();a.checkConnection(oa)});la=(new V(l.get("db","\u6570\u636e\u5e93"))).getJqUi();var ta=f.getJqUi(),ha=0,da=0;G.layoutCtrl(p,ha,da,80,23);G.layoutCtrl(B,ha,da+=43,80,23);G.layoutCtrl(m,ha,da+=43,80,23);G.layoutCtrl(D,ha,da+=43,80,23);G.layoutCtrl(ma,ha,da+=43,160,23);G.layoutCtrl(X,ha,da+=43,80,23);G.layoutCtrl(ua,
ha,da+=43,80,23);G.layoutCtrl(Y,ha,da+=43,50,23);Y.css("line-height","23px");G.layoutCtrl(la,484,-42,50,23);ha+=90;da=0;G.layoutCtrl(I,ha,da,300,23);G.layoutCtrl(W,ha,da+=43,300,23);G.layoutCtrl(v,ha,da+=43,300,23);G.layoutCtrl(O,ha,da+=43,300,23);G.layoutCtrl(ja,ha,da+=86,300,23);G.layoutCtrl(aa,ha,da+=43,300,23);G.layoutCtrl(ta,574,-44,300,23);t.append(p);t.append(B);t.append(m);t.append(D);t.append(ma);t.append(X);t.append(ua);t.append(la);t.append(I);t.append(W);t.append(v);t.append(O);t.append(ja);
t.append(aa);t.append(Y);t.append(ta);I=a.protectedCreateAdvancedSettingUI();G.layoutCtrl(I,484,0,300,23);t.append(I);return t};this.protectedModelToUi=function(t){c||N();var p=t.getDbAddress();c.setText(p);n.setText(t.getUserName());g.setPassword(t.getPassword());p=t.getDbVersion();b.setSelected(p?p:L[0]);p=t.getDbName();h.setText(p?p:"");t.getDbPort()&&d.setText(t.getDbPort())};this.protectedGetDefaultAdvanceSetting=function(){var t={};t[k.PREFIX]="jdbc:zenith:@{server}:{port}/{database}?";t[k.CHARSET]=
"UTF-8";t[k.TIME_ZONE]="GMT%2B8";t[k.OTHER_SETTING]="loginTimeout=10";return t};this.protectedUiToModel=function(){return fa()};var N=function(){b=new Ca;b.setItemModels(L);b.setSelected(L[0]);b.addSelectedChangedListener(function(t,p,B){B==L[0]?(h.setText(""),d.setText("1888")):(h.setText("template1"),d.setText("25308"))});c=new ra;d=new ra;d.setText("1888");h=new ra;n=new ra;g=new Ma;f=new Ca},fa=function(){var t=new e;t.setName("s"+(new Date).getTime());t.setDbType(e.TYPE_GAUSSDB);t.setDbName($.trim(h.getText()));
t.setDbVersion(b.getSelected());t.setDbPort($.trim(d.getText()));t.setUserName($.trim(n.getText()));t.setDbAddress($.trim(c.getText()));t.setPassword($.trim(g.getPassword()));t.setIsPasswordUpdated(a.isPasswordUpdated(t));return t}}function ba(){E.call(this);var a=this.protectedMethod,b=this,c,d,h,f,n,g,L,N,fa,t=[{type:"Direct",displayName:l.get("direct","\u76f4\u8fde")},{type:"ZooKeeper",displayName:"ZooKeeper"}];this.getJqUi=function(){var m=$("<div>");f||p();var D=new V(l.get("connectType","\u8fde\u63a5\u7c7b\u578b"));
c=new V(l.get("IPAddress","\u670d\u52a1\u5668"));d=new V(l.get("port","\u7aef\u53e3"));var I=h.getJqUi(),W=f.getJqUi(),v=n.getJqUi();D=D.getJqUi();var O=c.getJqUi(),X=d.getJqUi(),ma=new V,ja=ma.getJqUi();ma.setText(l.get("logininfo","\u670d\u52a1\u5668\u767b\u5f55\u4fe1\u606f\uff1a"));var aa=new V;ma=aa.getJqUi();aa.setText(l.get("user","\u7528\u6237"));aa=L.getJqUi();var ua=new V,Y=ua.getJqUi();ua.setText(l.get("password","\u5bc6\u7801"));ua=N.getJqUi();var la=$("<div>"),ta=l.get("connect","\u8fde\u63a5");
la.text(ta);la.attr("title",ta);la.addClass("dbmanage-db-connection-btn");la.on("click",function(){var ya=B();b.protectedCheckConnection(ya)});ta=(new V(l.get("db","\u6570\u636e\u5e93"))).getJqUi();var ha=g.getJqUi(),da=0,oa=0;G.layoutCtrl(D,da,oa,80,23);G.layoutCtrl(O,da,oa+=43,80,23);G.layoutCtrl(X,da,oa+=43,80,23);G.layoutCtrl(ja,da,oa+=43,160,23);G.layoutCtrl(ma,da,oa+=43,80,23);G.layoutCtrl(Y,da,oa+=43,80,23);G.layoutCtrl(la,da,oa+=43,50,23);la.css("line-height","23px");G.layoutCtrl(ta,484,-42,
50,23);da+=90;oa=0;G.layoutCtrl(I,da,oa,300,23);G.layoutCtrl(W,da,oa+=43,300,23);G.layoutCtrl(v,da,oa+=43,300,23);G.layoutCtrl(aa,da,oa+=86,300,23);G.layoutCtrl(ua,da,oa+=43,300,23);G.layoutCtrl(ha,574,-44,300,23);m.append(D);m.append(O);m.append(X);m.append(ja);m.append(ma);m.append(Y);m.append(ta);m.append(I);m.append(W);m.append(v);m.append(aa);m.append(ua);m.append(la);m.append(ha);I=a.protectedCreateAdvancedSettingUI();G.layoutCtrl(I,484,0,300,23);m.append(I);return m};this.protectedModelToUi=
function(m){f||p();var D=m.getDbAddress();f.setText(D);m.getDbName()&&g.setSelected(m.getDbName());L.setText(m.getUserName());m.getDbPort()&&n.setText(m.getDbPort());N.setPassword(m.getPassword());(fa=a.protectedUpdateTextAreaListener)&&fa()};this.protectedUiToModel=function(){return B()};this.protectedGetDefaultAdvanceSetting=function(){var m={};m[k.PREFIX]="jdbc:drill:drillbit={server}:{port}";m[k.OTHER_SETTING]=" ";return m};this.protectedCheckConnection=function(m,D){m.setAdvanceSetting(b.getAdvanceSettingModel());
a.getDatabaseNameList(m,function(I){g.setItemModels(I);var W=g.getSelected();W&&0<I.indexOf(W)?g.setSelected(W):g.setSelected(I[0]);fa&&fa()})};var p=function(){h=new Ca;h.setItemModels(t);h.setSelected(t[0]);h.setCustomPainter(function(m,D,I){D.text(I?I.displayName:"")});h.addSelectedChangedListener(function(m,D,I){I.type==t[0].type?(c.setText(l.get("IPAddress","\u670d\u52a1\u5668")),d.setText(l.get("port","\u7aef\u53e3")),f.setText(""),n.setText("31010")):(c.setText(l.get("quorum","\u6cd5\u5b9a\u6570\u91cf")),
d.setText(l.get("clusterId","\u7fa4\u96c6ID")),f.setText(""),n.setText(""))});f=new ra;n=new ra;n.setText("31010");L=new ra;N=new Ma;g=new Ca};this.createJdbcURL=function(m,D,I){m="";I&&0<$.trim(I).length&&(m+="&"+I);if((I=b.getModel())&&I.getDbName())return D=b.protectedGetDefaultAdvanceSetting()[k.PREFIX],I.getDBAddress()&&(D=D.replace("{server}",I.getDBAddress())),I.getDbPort()&&(D=D.replace("{port}",I.getDbPort())),I.getDbName()&&(D=D.replace("{database}",I.getDbName())),D+m};var B=function(){var m=
new e;m.setName("s"+(new Date).getTime());m.setDbType(e.TYPE_APACHEDRILL);m.setConnectType(h.getSelected().type);m.setDbPort($.trim(n.getText()));m.setUserName($.trim(L.getText()));m.setDbAddress($.trim(f.getText()));m.setPassword($.trim(N.getPassword()));m.setIsPasswordUpdated(a.isPasswordUpdated(m));m.setDbName(g.getSelected());return m}}function wa(){H.call(this);var a=this.protectedMethod,b,c;this.getJqUi=function(){var h=$("<div>");c||d();var f=b.getJqUi(),n=(new V(l.get("logininfo","\u670d\u52a1\u5668\u767b\u5f55\u4fe1\u606f\uff1a"))).getJqUi(),
g=new V,L=g.getJqUi();g.setText(l.get("password","\u5bc6\u7801"));g=c.getJqUi();var N=120;G.layoutCtrl(f,-20,-29,160,23);G.layoutCtrl(n,0,N+=43,160,23);G.layoutCtrl(L,0,N+=43,80,23);G.layoutCtrl(g,90,N,300,23);h.append(n);h.append(L);h.append(g);h.append(f);return h};this.protectedModelToUi=function(h){b||d();b.setSource(h.clone());c.setPassword(h.getPassword())};this.protectedUiToModel=function(){var h=new e;h.setName("s"+(new Date).getTime());h.setDbType(e.TYPE_ACCESS);h.setDbAddress(b.getSource().getDbAddress());
h.setDbName(b.getSource().getDbName());h.setPassword($.trim(c.getPassword()));h.setIsPasswordUpdated(a.isPasswordUpdated(h));h.setUserName("");return h};var d=function(){b=new C;b.setExt([".accdb",".mdb"]);b.setSize(100);b.setCtxApi(new Ra(a.getRemoteImpl()));b.setFunErrorCallbackEvent(function(f){a.getMsgCurtain().showError(f)});b.addSuccessCallbackEvent(function(f){a.getMsgCurtain().showSuccess(f)});var h=new e;h.setName("s"+(new Date).getTime());h.setDbType(e.TYPE_ACCESS);b.setSource(h);c=new Ma};
this.protectedCheckDBSource=function(h){if(!b.getSource().getDbAddress())return l.get("pleaseUploadFile","\u8bf7\u5148\u4e0a\u4f20\u6587\u4ef6\u3002")}}function za(){H.call(this);var a=this.protectedMethod,b;this.getJqUi=function(){var d=$("<div>");b||c();var h=b.getJqUi();G.layoutCtrl(h,-20,-29,160,23);d.append(h);return d};this.protectedModelToUi=function(d){b||c();b.setSource(d.clone())};this.protectedUiToModel=function(){var d=new e;d.setName("s"+(new Date).getTime());d.setDbType(e.TYPE_SQLITE);
d.setDbAddress(b.getSource().getDbAddress());d.setDbName(b.getSource().getDbName());d.setUserName("");d.setPassword("");return d};this.protectedCheckDBSource=function(d){if(!b.getSource().getDbAddress())return l.get("pleaseUploadFile","\u8bf7\u5148\u4e0a\u4f20\u6587\u4ef6\u3002")};var c=function(){b=new C;b.setExt(".db");b.setSize(100);b.setCtxApi(new Ra(a.getRemoteImpl()));b.setFunErrorCallbackEvent(function(h){a.getMsgCurtain().showError(h)});b.addSuccessCallbackEvent(function(h){a.getMsgCurtain().showSuccess(h)});
var d=new e;d.setName("s"+(new Date).getTime());d.setDbType(e.TYPE_SQLITE);b.setSource(d)}}function Ia(){E.call(this);var a=this.protectedMethod,b=this,c,d;this.protectedCollectMoreProperties=function(h){d.getText()&&h.setDbName($.trim(d.getText()))};this.protectedInit=function(){d=new ra;var h=new V;h.setText(l.get("db","\u6570\u636e\u5e93"));h=h.getJqUi();a.insertLabelUi(h);d.setText("default");a.insertComponentUi(d.getJqUi());h=a.protectedCreateAdvancedSettingUI();a.appendLabelUi(h)};this.protectedModel2Ui=
function(h){h.getDbName()&&d.setText(h.getDbName());(c=a.protectedUpdateTextAreaListener)&&c()};this.protectedGetDefaultAdvanceSetting=function(){var h={};h[k.PREFIX]="jdbc:impala://{server}:{port}/{database}";h[k.OTHER_SETTING]=" ";return h};this.protectedCheckConnection=function(h){h.setAdvanceSetting(b.getAdvanceSettingModel());h.setDbName($.trim(d.getText()));a.getDatabaseNameList(h)};this.protectedGetDefaultPort=function(){return"21050"};this.protectedGetSourceType=function(){return e.TYPE_IMPALA}}
function Da(){E.call(this);var a=this,b=this.protectedMethod,c,d;this.protectedCollectMoreProperties=function(f){c.getText()&&f.setDbName($.trim(c.getText()));d.getSelected()&&f.setSchema(d.getSelected())};this.protectedInit=function(){c=new ra;var f=new V;f.setText(l.get("ProjectName","\u9879\u76ee\u540d\u79f0"));f=f.getJqUi();b.insertLabelUi(f);c.setText("learn_kylin");b.insertComponentUi(c.getJqUi());d=new Ca;f=new V;var n=f.getJqUi();f.setText(l.get("mode","\u6a21\u5f0f"));b.appendLabelUi(n);
b.appendComponentUi(d.getJqUi());f=b.protectedCreateAdvancedSettingUI();b.appendLabelUi(f)};this.protectedModel2Ui=function(f){f.getDbName()&&c.setText(f.getDbName());f.getSchema()&&d.setSelected(f.getSchema())};this.protectedGetDefaultAdvanceSetting=function(){var f={};f[k.PREFIX]="jdbc:kylin://{server}:{port}/{database}";f[k.OTHER_SETTING]=" ";return f};var h=a.protectedCheckConnection;this.protectedCheckConnection=function(f){f.setAdvanceSetting(a.getAdvanceSettingModel());f.setDbName($.trim(c.getText()));
h(f,function(n){d.setItemModels(n);n&&!f.getSchema()&&d.setSelected(n[0]);b.protectedUpdateTextAreaListener()})};this.protectedGetDefaultPort=function(){return"7070"};this.protectedGetSourceType=function(){return e.TYPE_KYLIN}}function Ea(){Z.call(this);this.protectedGetDefaultPort=function(){return"9030"};this.protectedGetSourceType=function(){return e.TYPE_DORIS}}function Ra(a){this.createFacade=function(){return new z(a)}}function Fa(){var a=this,b,c,d,h,f,n,g,L,N,fa=[],t=[],p,B=[],m;this.setRemoteImpl=
function(v){d=v};this.setOuterMessageCurtain=function(v){h=v};this.setModel=function(v,O){b=v;c=O;a.protectedModelToUi(b)};this.getModel=function(){return a.protectedUiToModel()};this.isModelValid=function(){var v=a.checkSourceValid();v||p||(v=l.get("selectOneSchema","\u8bf7\u9009\u62e9\u4e00\u4e2a\u6a21\u5f0f\u3002"));return v?(h.showPrompt(v),!1):!0};this.preSaveOrUpdateModel=function(v,O){(new r(d,O,function(X,ma){3201001==X&&(ma=l.get("noSchemaPerm","\u201c#1\u201d\u7528\u6237\u6ca1\u6709\u201c#2\u201d\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u6a21\u5f0f\u6216\u8054\u7cfb\u7ba1\u7406\u5458\u6388\u6743\u3002").replace("#1",
v.getUserName()).replace("#2",v.getSchemaName()));3201007==X&&(ma=l.get("SQNotDeploy","\u5f53\u524d\u73af\u5883\u672a\u90e8\u7f72\u8d85\u7ea7\u67e5\u8be2\u670d\u52a1\u6216\u670d\u52a1\u672a\u542f\u52a8\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u68c0\u67e5\u8d85\u7ea7\u67e5\u8be2\u90e8\u7f72\u60c5\u51b5\u3002"));h.showPrompt(ma);return!0})).getUsableSchemas(v,c)};this.protectedUiToModel=function(){var v=b.clone();v.clear();var O=null,X=$.trim(f.getText()),ma=$.trim(n.getText());X&&ma&&(X.lastIndexOf("/")==
X.length-1&&(X=X.substring(0,X.length-1)),O=X+"/"+ma);v.setDbAddress(O);v.setDbName($.trim(g.getText()));v.setUserName($.trim(L.getText()));v.setPassword($.trim(N.getPassword()));p&&(O=p.getName(),v.setSchemaName(O));return v};this.protectedModelToUi=function(v){f||D();L.setText(v.getUserName());N.setPassword(v.getPassword());if(v.getDbAddress()){var O=v.getDbAddress(),X=O.lastIndexOf("/");f.setText(O.substring(0,X));n.setText(O.substring(X+1))}a.protectedModel2Ui(v)};var D=function(){f=new ra;n=
new ra;g=new ra;g.setText(a.getDefaultDBName());L=new ra;N=new Ma;a.protectedInit()};this.getDefaultDBName=function(){return"cosmic_db"};this.protectedInit=function(){var v=new V;v.setText(l.get("schemas","\u6a21\u5f0f"));v=v.getJqUi();fa.push(v);m=Na.SuperQuerySelectorHelper.createSelector();m.setFunSelectCallBack(function(O){p=O});v=m.getJqUi();t.push(v)};this.protectedModel2Ui=function(v){v.getSchemaName()&&(p=new J,p.setName(v.getSchemaName()),p.setAlias(v.getSchemaName()));m.setSchemas(B);m.setSelectedSchema(p)};
var I=function(v){(new r(d,function(O){for(var X=[],ma=Object.keys(O),ja=0;ja<ma.length;ja++){var aa=new J;aa.setName(ma[ja]);aa.setAlias(O[ma[ja]]);X.push(aa)}m.setSchemas(X);m.setSelectedSchema(X[0]);0==X.length?(O=l.get("noAuthentication","\u6ca1\u6709\u53ef\u7528\u7684\u6a21\u5f0f\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u6388\u6743\u6a21\u5f0f\u3002"),h.showPrompt(O)):h.showSuccess(l.get("connectSuccess","\u8fde\u63a5\u6210\u529f\u3002"));return!0},function(O,X){3201007==O&&(X=l.get("SQNotDeploy",
"\u5f53\u524d\u73af\u5883\u672a\u90e8\u7f72\u8d85\u7ea7\u67e5\u8be2\u670d\u52a1\u6216\u670d\u52a1\u672a\u542f\u52a8\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u68c0\u67e5\u8d85\u7ea7\u67e5\u8be2\u90e8\u7f72\u60c5\u51b5\u3002"));h.showPrompt(X);return!0})).getUsableSchemas(v,c)};this.checkSourceValid=function(){return $.trim(f.getText())?$.trim(n.getText())?$.trim(g.getText())?null:l.get("dbNameNotNull","\u6570\u636e\u5e93\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a\u3002"):l.get("dbCenterNotNull","\u6570\u636e\u4e2d\u5fc3\u4e0d\u80fd\u4e3a\u7a7a\u3002"):
l.get("serviceAddressNotNull","\u670d\u52a1\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a\u3002")};this.protectedCheckConnection=function(v){var O=a.checkSourceValid();O?h.showPrompt(O):I(v)};var W=function(v){var O=$("<div>"),X=$("<span>");X.text(v);X.appendTo(O);v=new Sa;v.setIconType(Sa.ICON_TYPE_QUESTION);v.setTipsSize(240,60);v.setTipsHtml(O[0]);return v};this.getJqUi=function(){var v=$("<div>");f||D();var O=new V,X=O.getJqUi();O.setText(l.get("ServiceAddress","\u670d\u52a1\u5730\u5740"));O=f.getJqUi();
var ma=new V,ja=ma.getJqUi();ma.setText(l.get("dbCenter","\u6570\u636e\u4e2d\u5fc3"));ma=n.getJqUi();var aa=new V;aa.getJqUi();aa.setText(l.get("db","\u6570\u636e\u5e93"));g.getJqUi();var ua=new V;aa=ua.getJqUi();ua.setText(l.get("logininfo","\u670d\u52a1\u5668\u767b\u5f55\u4fe1\u606f\uff1a"));var Y=new V;ua=Y.getJqUi();Y.setText(l.get("user","\u7528\u6237"));Y=L.getJqUi();var la=new V,ta=la.getJqUi();la.setText(l.get("password","\u5bc6\u7801"));la=N.getJqUi();var ha=$("<div>"),da=l.get("connect",
"\u8fde\u63a5");ha.text(da);ha.attr("title",da);ha.addClass("dbmanage-db-connection-btn");ha.on("click",function(){var T=a.protectedUiToModel();T.setSchemaName(null);a.protectedCheckConnection(T)});var oa=0,ya=0;G.layoutCtrl(X,oa,ya,50,23);da=l.get("enterCosmicAddress","\u8bf7\u8f93\u5165\u82cd\u7a79\u670d\u52a1\u5730\u5740\uff0c\u4f8b\u5982\uff1a")+"https://example.com:8080/example";da=W(da).getJqUi();G.layoutCtrl(da,oa+50+2,ya+5,16,16);G.layoutCtrl(ja,oa,ya+=43,80,23);G.layoutCtrl(aa,oa,ya+=43,
160,23);G.layoutCtrl(ua,oa,ya+=43,80,23);var Ta=l.get("enterCosmicUser","\u8bf7\u8f93\u5165\u9700\u8981\u8fde\u63a5\u7684\u82cd\u7a79\u7cfb\u7edf\u7684\u767b\u5f55\u4fe1\u606f\uff0c\u4ec5\u652f\u6301\u8f93\u5165\u624b\u673a\u53f7\u4f5c\u4e3a\u7528\u6237\u540d");Ta=W(Ta).getJqUi();G.layoutCtrl(Ta,oa+28,ya+5,16,16);G.layoutCtrl(ta,oa,ya+=43,80,23);G.layoutCtrl(ha,oa,ya+=43,50,23);ha.css("line-height","23px");if(fa&&0<fa.length){ya=-42;for(var Oa=0;Oa<fa.length;Oa++){var x=fa[Oa];G.layoutCtrl(x,484,
ya,80,23);ya+=43;v.append(x)}}oa+=90;ya=0;G.layoutCtrl(O,oa,ya,300,23);G.layoutCtrl(ma,oa,ya+=43,300,23);G.layoutCtrl(Y,oa,ya+=86,300,23);G.layoutCtrl(la,oa,ya+=43,300,23);if(t&&0<t.length)for(oa=-44,ya=0;ya<t.length;ya++)Oa=t[ya],G.layoutCtrl(Oa,574,oa,300,23),oa+=43,v.append(Oa);v.append(X);v.append(da);v.append(ja);v.append(aa);v.append(ua);v.append(Ta);v.append(ta);v.append(O);v.append(ma);v.append(Y);v.append(la);v.append(ha);return v}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&
(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dbmanage&&(com.kingdee.bos.qing.dbmanage={});var Na=com.kingdee.bos.qing.dbmanage,G,V,ra,Qa,Ma,Ca,Sa,l,r,z,e,u,J,k,C;(function(){var a=com.kingdee.bos.qing.common;G=a.DomUtil;a=com.kingdee.bos.qing.ui.component;ra=a.TextField;Qa=a.TextArea;Ma=a.PasswordField;V=a.Label;Ca=a.ComboBox;Sa=a.HelpIcon;a=com.kingdee.bos.qing.framework.common;
l=a.MultilanguageManager.createPackageAccessor(Na);a=com.kingdee.bos.qing.data;e=a.DBSource;u=a.AbstractSource;J=a.SchemaInfo;k=a.DBAdvanceSetting;C=a.UploadDbFilePane;a=com.kingdee.bos.qing.dbmanage;r=a.DBManageFacade;z=a.UploadFacade})();Na.DBConnectionPanelFactory=new function(){this.getDBConnectionPanel=function(a,b){switch(a){case e.TYPE_MYSQL:a=new Z;break;case e.TYPE_SQLSERVER:a=new ca;break;case e.TYPE_ORACLE:a=new sa;break;case e.TYPE_POSTGRESQL:a=new xa;break;case e.TYPE_DB2:a=new F;break;
case e.TYPE_GREENPLUM:a=new K;break;case e.TYPE_HIVE:a=new S;break;case e.TYPE_SPARKSQL:a=new A;break;case e.TYPE_HANA:a=new ka;break;case e.TYPE_ODPS:a=new pa;break;case e.TYPE_REDSHIFT:a=new qa;break;case e.TYPE_SYBASE:a=new w;break;case e.TYPE_TIDB:a=new Ba;break;case e.TYPE_DM:a=new y;break;case e.TYPE_SYBASEIQ:a=new ea;break;case e.TYPE_GAUSSDB:a=new na;break;case e.TYPE_APACHEDRILL:a=new ba;break;case e.TYPE_ACCESS:a=new wa;break;case e.TYPE_SQLITE:a=new za;break;case e.TYPE_IMPALA:a=new Ia;
break;case e.TYPE_KYLIN:a=new Da;break;case e.TYPE_KINGBASE:a=new P;break;case e.TYPE_TDSQL:a=new Q;break;case e.TYPE_GBASE:a=new Ha;break;case e.TYPE_VASTBASE:a=new Ga;break;case e.TYPE_YASHANDB:a=new ia;break;case e.TYPE_DORIS:a=new Ea;break;default:throw Error("unknown db type");}a.setRemoteImpl(b);return a}};Na.DBSourceDisplayNameFactory=new function(){this.getDisplayName=function(a){switch(a){case e.TYPE_MYSQL:a="MySQL";break;case e.TYPE_SQLSERVER:a="SQL Server";break;case e.TYPE_ORACLE:a="ORACLE";
break;case e.TYPE_POSTGRESQL:a="Postgre SQL";break;case e.TYPE_DB2:a="DB2";break;case e.TYPE_GREENPLUM:a="Greenplum";break;case e.TYPE_HIVE:a="Apache Hive";break;case e.TYPE_SPARKSQL:a="Spark SQL";break;case e.TYPE_HANA:a="HANA";break;case e.TYPE_ODPS:a="ODPS";break;case e.TYPE_REDSHIFT:a="Amazon Redshift";break;case e.TYPE_SYBASE:a="SYBASE";break;case e.TYPE_TIDB:a="TiDB";break;case e.TYPE_DM:a="DM";break;case e.TYPE_SYBASEIQ:a="Sybase IQ";break;case e.TYPE_GAUSSDB:a="GaussDB";break;case e.TYPE_APACHEDRILL:a=
"Apache Drill";break;case e.TYPE_ACCESS:a="Access";break;case e.TYPE_SQLITE:a="SQLite";break;case e.TYPE_IMPALA:a="Apache Impala";break;case e.TYPE_KYLIN:a="Apache Kylin";break;case e.TYPE_KINGBASE:a="KingBase";break;case e.TYPE_TDSQL:a="TDSQL";break;case e.TYPE_GBASE:a="GBase";break;case e.TYPE_VASTBASE:a="Vastbase";break;case e.TYPE_YASHANDB:a="YashanDB";break;case e.TYPE_DORIS:a="Apache Doris";break;default:throw Error("unknown db type");}return a}};Na.BIZConnectionPanelFactory=new function(){this.getBIZConnectionPanel=
function(a,b){switch(a){case u.DBCONNECTION_TYPE_SUPERQUERY:a=new Fa;break;default:throw Error("unknown biz type");}a.setRemoteImpl(b);return a}};Na.BIZSourceDisplayNameFactory=new function(){this.getDisplayName=function(a){switch(a){case u.DBCONNECTION_TYPE_SUPERQUERY:a=l.get("SuperQuery","\u8d85\u7ea7\u67e5\u8be2");break;default:throw Error("unknown biz type");}return a}};var M=new function(){this.getDriverVersions=function(a){switch(a){case e.TYPE_MYSQL:return["com.mysql.jdbc.Driver"];case e.TYPE_SQLSERVER:return["com.microsoft.sqlserver.jdbc.SQLServerDriver"];
case e.TYPE_ORACLE:return["oracle.jdbc.driver.OracleDriver"];case e.TYPE_POSTGRESQL:return["org.postgresql.Driver"];case e.TYPE_DB2:return["com.ibm.db2.jcc.DB2Driver"];case e.TYPE_GREENPLUM:return["com.pivotal.jdbc.GreenplumDriver"];case e.TYPE_HIVE:return["org.apache.hive.jdbc.HiveDriver"];case e.TYPE_SPARKSQL:return["org.apache.hive.jdbc.HiveDriver"];case e.TYPE_HANA:return["com.sap.db.jdbc.Driver"];case e.TYPE_ODPS:return["com.aliyun.odps.jdbc.OdpsDriver"];case e.TYPE_REDSHIFT:return["com.amazon.redshift.jdbc42.Driver"];
case e.TYPE_SYBASE:return["com.sybase.jdbc3.jdbc.SybDriver"];case e.TYPE_TIDB:return["com.mysql.jdbc.Driver","com.mysql.cj.jdbc.Driver"];case e.TYPE_DM:return["dm.jdbc.driver.DmDriver"];case e.TYPE_SYBASEIQ:return["com.sybase.jdbc3.jdbc.SybDriver"];case e.TYPE_GAUSSDB:return["com.huawei.gauss.jdbc.ZenithDriver","com.huawei.gauss200.jdbc.Driver"];case e.TYPE_APACHEDRILL:return["org.apache.drill.jdbc.Driver"];case e.TYPE_ACCESS:return["net.ucanaccess.jdbc.UcanaccessDriver"];case e.TYPE_SQLITE:return["org.sqlite.JDBC"];
case e.TYPE_IMPALA:return["com.cloudera.impala.jdbc.Driver"];case e.TYPE_KYLIN:return["org.apache.kylin.jdbc.Driver"];case e.TYPE_KINGBASE:return["com.kingbase8.Driver"];case e.TYPE_TDSQL:return["com.tencentcloud.tdsql.mysql.cj.jdbc.Driver"];case e.TYPE_DORIS:return["com.mysql.jdbc.Driver"];default:throw Error("unknown db type");}}}})();(function(){function H(l,r){ka.call(this);var z=this,e=this.protectedMethod,u,J;(function(){var b;r.getDBSourceType()==ea.SOURCE_TYPE_DB?b=w.get("editDBConnection","\u7f16\u8f91\u6570\u636e\u6e90\u8fde\u63a5"):r.getDBSourceType()==ea.SOURCE_TYPE_OPENAPI?b=w.get("editOpenAPIConnection","\u7f16\u8f91OpenAPI\u8fde\u63a5"):r.getDBSourceType()==ea.SOURCE_TYPE_BIZMETA&&r.getDBSource().getConnectionType()==na.DBCONNECTION_TYPE_SUPERQUERY&&(b=w.get("editSuperQueryConnection","\u7f16\u8f91\u8d85\u7ea7\u67e5\u8be2\u8fde\u63a5"));
e.setTitle(b);e.setSelectable(!0);e.setContentPaneCreator(function(){u||(r.getDBSourceType()==ea.SOURCE_TYPE_DB?u=new P(l):r.getDBSourceType()==ea.SOURCE_TYPE_OPENAPI?u=new R(l):r.getDBSourceType()==ea.SOURCE_TYPE_BIZMETA&&r.getDBSource().getConnectionType()==na.DBCONNECTION_TYPE_SUPERQUERY&&(u=new Q(l)),u.setOuterMessageCurtain(e.getMessageCurtain()),u.setModel(r));var c=u.getSuggestSize();z.setSize(c[0],c[1]);return u.getJqUi()});e.setClosingChecker2(function(c){r.getDBSourceType()==ea.SOURCE_TYPE_DB?
C():r.getDBSourceType()==ea.SOURCE_TYPE_OPENAPI?C():r.getDBSourceType()==ea.SOURCE_TYPE_BIZMETA&&r.getDBSource().getConnectionType()==na.DBCONNECTION_TYPE_SUPERQUERY&&M()},function(c){e.destroy();return!0});e.setClosingAction(function(c){})})();this.setEditSuccessCallback=function(b){J=b};var k=function(b){(new Da(l,function(c){b.fromJsonObject(c);J&&J(b);e.destroy();return!0},function(c,d){return"1300001"==c?(e.getMessageCurtain().showPrompt(w.get("duplicateName","\u540d\u79f0\u91cd\u590d\u3002")),
!0):"1300002"==c?(c=w.get("duplicateHashcode","\u5df2\u5b58\u5728\u8fde\u63a5\u4fe1\u606f\u76f8\u540c\u7684\u6570\u636e\u5e93\u8fde\u63a5\u3002"),e.getMessageCurtain().showPrompt(c),!0):"1300003"==c?(e.getMessageCurtain().showPrompt(w.get("dbInfoNotFound","\u6570\u636e\u5e93\u8fde\u63a5\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664\u3002")),!0):"1300004"==c?(e.getMessageCurtain().showPrompt(w.get("noDbManagePerm","\u60a8\u6ca1\u6709\u5f53\u524d\u83dc\u5355\u6743\u9650\u3002")),!0):!1})).updateDBConnection(b)},
C=function(){var b=u.getModel();if(a(b))u.isModelValid(b.getDBSource(),function(){k(b)},function(c){e.getMessageCurtain().showPrompt(c);return!0});else return!1},M=function(){if(u.isModelValid()){var b=u.getModel();u.preSaveOrUpdateModel(b.getDBSource(),function(){k(b)})}else return!1},a=function(b){var c,d=!0;(b=b.getName())?50<b.length&&(c=w.get("nameTooLong","\u540d\u79f0\u4e0d\u53ef\u8d85\u8fc750\u4e2a\u5b57\u7b26\u3002")):c=w.get("emptyName","\u8bf7\u8f93\u5165\u540d\u79f0\u3002");c&&(e.getMessageCurtain().showPrompt(c),
d=!1);return d}}function E(){function l(a){KTDefaultCellRender.call(this,a);var b=this,c=this.paintCellUI;this.paintCellUI=function(d,h){var f=b.getCurrentRow(),n=b.getCurrentColIdx();f=f.getUserObject();var g=new S;g.setFormatString("yyyy-MM-dd HH:mm:ss");b.getCurrentRowIdx()<qa.getHeadRowCount()?c(d,h):0==n?(g=f.getRefFromType(),f="",g==Ba.EXTREPORT_TYPE?f=w.get("refTypeExtreport","\u8f7b\u62a5\u8868"):g==Ba.MACRO_TYPE&&(f=w.get("refTypeMacro","\u5b8f")),g=$("<div>"),g.text(f),g.attr("title",f),
g.css("line-height","28px"),g.css("padding-left","2px"),g.css("padding-right","2px"),g.appendTo(d)):1==n?(g=$("<div>"),g.text(f.getName()),g.attr("title",f.getName()),g.css("line-height","28px"),g.css("padding-left","2px"),g.css("padding-right","2px"),g.appendTo(d)):2==n?(g=$("<div>"),g.text(f.getFullPath()),g.attr("title",f.getFullPath()),g.css("line-height","28px"),g.css("padding-left","2px"),g.css("padding-right","2px"),g.appendTo(d)):3==n?(g=$("<div>"),g.text(f.getCreatorName()),g.attr("title",
f.getCreatorName()),g.css("line-height","28px"),g.css("padding-left","2px"),g.css("padding-right","2px"),g.appendTo(d)):4==n&&(h=$("<div>"),f=f.getCreateTime(),f=g.format(f),h.text(f),h.attr("title",f),h.css("line-height","28px"),h.css("padding-left","2px"),h.css("padding-right","2px"),h.appendTo(d))}}var r=this,z=[],e,u,J,k;this.setModels=function(a){z=a;r.updateUi()};this.createJqUi=function(){e||(C(),e=$("<div>"),e.append(u));return e};this.updateUi=function(){z&&0<z.length?(u&&u.show(),M(),k&&
k.hide()):(k||(k=$("<div>"),k.css({"text-align":"center",color:"#ccc","font-size":"16px"}),k.text(w.get("neverRefered","\u6682\u672a\u88ab\u5f15\u7528")),k.appendTo(e)),k.show(),M(),u&&u.hide())};var C=function(){J=qa.createTable();J.setColumnFitVisibleWidth(!0);var a=new l(J);a.setOutsideVisible(!1);J.setCellRender(a);J.setSyncUIWhenModelChanged(!0);u=$(J.getUI());F.layoutCtrlWithLRTB(u,0,0,null,0,0,null)},M=function(){J||C();qa.clear(J);J.addColumns(5);J.getColumn(0).setWidth(100);J.getColumn(1).setWidth(100);
J.getColumn(2).setWidth(150);J.getColumn(3).setWidth(100);J.getColumn(4).setWidth(150);var a=qa.createHeadRow(J);a.getCell(0).setValue(w.get("refFromType","\u5f15\u7528\u8005\u7c7b\u578b"));a.getCell(1).setValue(w.get("refFromName","\u5f15\u7528\u8005\u540d\u79f0"));a.getCell(2).setValue(w.get("fullPath","\u5f15\u7528\u8005\u5168\u8def\u5f84"));a.getCell(3).setValue(w.get("creator","\u521b\u5efa\u4eba"));a.getCell(4).setValue(w.get("createtime","\u521b\u5efa\u65f6\u95f4"));a=0;for(var b=z.length;a<
b;a++){var c=z[a];qa.createRow(J).setUserObject(c)}qa.refresh(J)}}function R(l){var r,z,e,u,J,k,C;this.setModel=function(a){z=a;C=z.getAbstractSource();M()};this.getModel=function(){var a=z?z.copy():new ea;var b=u.getText();b=b&&b.replace(/\s+/g,"");a.setName(b);a.setDBSource(C);return a};this.isModelValid=function(a,b){b()};this.setOuterMessageCurtain=function(a){};var M=function(){var a=r=$("<div>"),b=new A;b.setText(w.get("name","\u540d\u79f0"));b=b.getJqUi();u=new U;u.setText(z.getName());var c=
u.getJqUi();F.layoutCtrl(b,20,12,80,23);F.layoutCtrl(c,80,12,510,23);a.append(b);a.append(c);e=new A(w.get("RESTfulDataSet","RESTful\u6570\u636e\u96c6"));a=C.clone();J=new U;J.setPlaceholder(w.get("RESTfulDataSetUrlPlaceholder","\u8bf7\u8f93\u5165URL\u5168\u8def\u5f84"));"PROGRAM_DATA_SET"==a.getOpenAPIType()&&(J.setPlaceholder(w.get("programDataSetPlaceholder","\u8bf7\u8f93\u5165Java\u7c7b\u5168\u8def\u5f84")),e=new A(w.get("programDataSet","\u7a0b\u5e8f\u6570\u636e\u96c6\uff1a")));J.setText(Qa.decode(a.getUrl()));
b=J.getJqUi();c=(new A("URL")).getJqUi();c.appendTo(r);F.layoutCtrl(c,20,88,80,23);F.layoutCtrl(b,80,88,510,23);b.appendTo(r);b=e.getJqUi();F.layoutCtrl(b,20,53,200,23);b.appendTo(r);"RESTFUL_DATA_SET"==a.getOpenAPIType()&&(k=new Ma,C.getAuthModel()&&k.setModel(C.getAuthModel()),a=k.initUi(),F.layoutCtrl(a,10,133,580,200),r.append(a))};this.getJqUi=function(){r||M();return r};this.getSuggestSize=function(){return[960,548]}}function Z(l){Na.call(this);var r=this.protectedMethod,z,e,u,J,k;this.setCreateSuccessCallback=
function(M){J=M};this.intoThisStep=function(){};this.outThisStep=function(M,a){M?(r.getTopJqUi()&&r.getTopJqUi().remove(),a(null)):function(){var b=u.getModel(),c=u.getOuterMessageCurtain();if(C(b))u.isModelValid(b.getDBSource(),function(){(new Da(l,function(d){b.fromJsonObject(d);J&&J(b);a(null);return!0},function(d,h){return"1300001"==d?(c.showPrompt(w.get("duplicateName","\u540d\u79f0\u91cd\u590d")),!0):"1300002"==d?(d=w.get("duplicateHashcode","\u5df2\u5b58\u5728\u8fde\u63a5\u4fe1\u606f\u76f8\u540c\u7684\u6570\u636e\u5e93\u8fde\u63a5"),
c.showPrompt(d),!0):"1300004"==d?(c.showPrompt(w.get("noDbManagePerm","\u60a8\u6ca1\u6709\u5f53\u524d\u83dc\u5355\u6743\u9650\u3002")),!0):!1})).saveDBConnection(b)},function(d){c.showPrompt(d);return!1});else return!1}()};this.getSubTitle=function(){return w.get("connectDbServer","\u8fde\u63a5\u6570\u636e\u5e93\u670d\u52a1\u5668")};this.isLastStep=function(){return!0};this.isReturnable=function(){return!0};this.protectedCreateUi=function(){u||(u=new P(l),u.setOuterMessageCurtain(r.getMessageCurtain()));
u.setModel(e);return k=u.getJqUi()};this.setSource=function(M){z=M;e=new ea;e.setDBSource(z)};this.getSource=function(){return z};var C=function(M){var a,b=!0;(M=M.getName())?50<M.length?a=w.get("nameTooLong","\u540d\u79f0\u4e0d\u53ef\u8d85\u8fc750\u4e2a\u5b57\u7b26\u3002"):0==M.indexOf("datacenter")&&(a=w.get("dbNamePrefixForbid","\u540d\u79f0\u8bf7\u4e0d\u8981\u4ee5#1\u5f00\u5934\u3002").replace("#1","datacenter")):a=w.get("emptyName","\u8bf7\u8f93\u5165\u540d\u79f0\u3002");a&&(r.getMessageCurtain().showPrompt(a),
b=!1);return b}}function ca(l){Na.call(this);var r=this.protectedMethod,z,e,u,J,k;this.setCreateSuccessCallback=function(M){J=M};this.setSource=function(M){z=M;e=new ea;e.setDBSourceType(ea.SOURCE_TYPE_BIZMETA);e.setDBSource(z)};this.getSource=function(){return z};this.getSubTitle=function(){return w.get("SuperQuery","\u8d85\u7ea7\u67e5\u8be2")};this.protectedCreateUi=function(){u||(u=new Q(l));u.setOuterMessageCurtain(r.getMessageCurtain());u.setModel(e);return k=u.getJqUi()};this.intoThisStep=function(){};
this.outThisStep=function(M,a){M?(r.getTopJqUi()&&r.getTopJqUi().remove(),a(null)):C(a)};var C=function(M){if(u.isModelValid()){var a=u.getModel(),b=u.getOuterMessageCurtain();u.preSaveOrUpdateModel(a.getDBSource(),function(){(new Da(l,function(c){a.fromJsonObject(c);J&&J(a);M(null);return!0},function(c,d){return"1300001"==c?(b.showPrompt(w.get("duplicateName","\u540d\u79f0\u91cd\u590d\u3002")),!0):"1300002"==c?(b.showPrompt(w.get("duplicateHashcode","\u5df2\u5b58\u5728\u8fde\u63a5\u4fe1\u606f\u76f8\u540c\u7684\u6570\u636e\u5e93\u8fde\u63a5\u3002")),
!0):"1300004"==c?(b.showPrompt(w.get("noDbManagePerm","\u60a8\u6ca1\u6709\u5f53\u524d\u83dc\u5355\u6743\u9650\u3002")),!0):!1})).saveDBConnection(a)})}else return!1};this.isLastStep=function(){return!0};this.isReturnable=function(){return!0}}function sa(l,r){var z=l,e,u=this,J,k,C=ea.SOURCE_TYPE_DB,M,a,b,c,d,h,f,n,g,L,N,fa,t,p,B,m,D,I=!1,W,v,O=!1;this.setDataSourceDisabled=function(x){O=x};this.setDBManageContentPanel=function(x){a=x};this.setSelectedListener=function(x){b=x};this.setSelected=function(x){(v=
x)?(b(z),e.addClass("dbmanage-db-connection-card-item-selected")):e.removeClass("dbmanage-db-connection-card-item-selected")};this.removeCard=function(){e.remove()};this.isSelected=function(){return v};this.setEditListener=function(x){d=x};this.setDeleteListener=function(x){c=x};this.setSearchTarget=function(x,T){I=x;W=T};var X=function(){if(z){la();Aa=$("<div class='dbmanage-db-connection-card-item'>");var x=$("<div class='dbmanage-db-connection-card-item-icon'>");if(C==ea.SOURCE_TYPE_OPENAPI)Ea.background(x,
"OPENAPI"),x.attr("title","OpenAPI");else if(C==ea.SOURCE_TYPE_BIZMETA)k.getConnectionType()==na.DBCONNECTION_TYPE_SUPERQUERY&&(Ea.background(x,"KINGDEE"),x.attr("title",w.get("SuperQuery","\u8d85\u7ea7\u67e5\u8be2")));else{Ea.background(x,k.getDbType());var T=k.getDbType();x.attr("title",za.getDisplayName(T))}Aa.append(x);x=$("<div class='dbmanage-db-connection-card-item-head'>");h=$("<span class='dbmanage-db-connection-card-item-head-title'>");var va=$("<span class='dbmanage-db-connection-card-item-head-operator'>");
ua(va);va.hide();Aa.on("mouseover",function(){h.css("width","150px");va.show()});Aa.on("mouseout",function(){h.css("width","200px");va.hide()});T=$("<div class='dbmanage-db-connection-card-item-body'>");aa(T);var Pa=$('<div class="dbmanage-db-connection-card-item-permission">');Pa.attr("title",w.get("authority","\u6388\u6743"));Ea.backgroundWithHover(Pa,"permission");Pa.on("click",ma);x.append(h);x.append(va);Aa.append(x);Aa.append(T);Aa.append(Pa)}else{var Aa=$("<div class='dbmanage-db-connection-card-item'>"),
Ka=$("<div class='dbmanage-db-connection-card-item-creator-icon'>");Ea.background(Ka,"CreatorIcon");x=$('<div class="dbmanage-db-connection-card-item-creator">');x.text(w.get("createSourceConnection","\u65b0\u5efa\u6570\u636e\u6e90\u8fde\u63a5"));x.attr(w.get("createSourceConnection","\u65b0\u5efa\u6570\u636e\u6e90\u8fde\u63a5"));Aa.append(Ka);Aa.append(x);Aa.on("mouseover",function(){Ea.background(Ka,"CreatorIcon_hover")});Aa.on("mouseleave",function(){Ea.background(Ka,"CreatorIcon")})}Aa.on("click",
ta);return Aa},ma=function(){(new Da(r,function(x){z.fromJsonObject(x);x=new K(r,z);x.setMessageCurtain(M);x.showDialog()},function(x,T){return"1300004"==x?(M.showPrompt(w.get("noDbManagePerm","\u60a8\u6ca1\u6709\u5f53\u524d\u83dc\u5355\u6743\u9650\u3002")),!0):!1})).loadDBPermissionInfo(z)},ja=function(x,T,va){if(x&&T){var Pa=W.toUpperCase(),Aa=T.toUpperCase(),Ka=Aa.split(Pa),Wa=Pa.length;x.text("");if(va){var La=$("<span>");La.text(va);x.append(La)}va=$("<span>");for(var Ua in Ka){La=Aa.indexOf(Ka[Ua]);
var Va=T.substr(0,Ka[Ua].length);La+=Ka[Ua].length;var Ja=Aa.length-La;Aa=Aa.substr(La,Ja);T=T.substr(La,Ja);La=$("<span>");La.text(Va);La.appendTo(va);if(Ua!==Ka.length-1&&1<Ka.length){Ja=Aa.indexOf(Pa);Va=T.substr(Ja,Wa);Ja+=Wa;var Xa=Aa.length-Ja;Aa=Aa.substr(Ja,Xa);T=T.substr(Ja,Xa);Ja=$("<span>");Ja.text(Va);Ja.css("color","#FF0000");Ja.appendTo(La)}}x.append(va)}};this.updateUi=function(){if(z)if(la(),J&&(I?ja(h,J,null):h.text(J),h.attr("title",J)),C==ea.SOURCE_TYPE_OPENAPI){var x=z.getDBSource().getOpenAPIType()==
ea.SOURCE_TYPE_OPENAPI.PROGRAM_DATA_SET;I?(ja(fa,B,"\u7c7b\u578b\uff1a"),ja(t,m,"\u8def\u5f84\uff1a"),!x&&ja(p,D,"\u8ba4\u8bc1\u65b9\u5f0f\uff1a")):(fa.text("\u7c7b\u578b\uff1a"+B),fa.attr("title","\u7c7b\u578b\uff1a"+B),t.text("\u8def\u5f84\uff1a"+m),t.attr("title","\u8def\u5f84\uff1a"+m),!x&&p.text("\u8ba4\u8bc1\u65b9\u5f0f\uff1a"+D),!x&&p.attr("title","\u8ba4\u8bc1\u65b9\u5f0f\uff1a"+D))}else if(C==ea.SOURCE_TYPE_BIZMETA&&k.getConnectionType()==na.DBCONNECTION_TYPE_SUPERQUERY){if(x=w.get("modeWithColon",
"\u6a21\u5f0f\uff1a")+k.getSchemaName(),I?ja(N,k.getSchemaName(),w.get("modeWithColon","\u6a21\u5f0f\uff1a")):N.text(x),N.attr("title",x),x=k.getDbAddress()){var T=x.lastIndexOf("/"),va=w.get("serviceAddress","\u670d\u52a1\u5730\u5740\uff1a")+x.substring(0,T);I?ja(g,x.substring(0,T),w.get("serviceAddress","\u670d\u52a1\u5730\u5740\uff1a")):g.text(va);g.attr("title",va);va=w.get("dbCenterName","\u6570\u636e\u4e2d\u5fc3\uff1a")+x.substring(T+1);I?ja(L,x.substring(T+1),w.get("dbCenterName","\u6570\u636e\u4e2d\u5fc3\uff1a")):
L.text(va);L.attr("title",va)}}else C==ea.SOURCE_TYPE_DB&&(x=k.getTypeName()==y.TYPE_ORACLE?w.get("SIDOrserverNameWithColon","SID/\u5b9e\u4f8b\u540d\uff1a"):w.get("dbWithColon","\u6570\u636e\u5e93\uff1a"),T=$.trim(k.getDbName()),Y(k.getTypeName())&&(va=w.get("modeWithColon","\u6a21\u5f0f\uff1a")+k.getSchema(),I?ja(N,k.getSchema(),w.get("modeWithColon","\u6a21\u5f0f\uff1a")):N.text(va),N.attr("title",va)),k.getDBAddress()&&(va=w.get("serverWithColon","\u670d\u52a1\u5668\uff1a")+k.getDBAddress(),I?
ja(n,k.getDBAddress(),w.get("serverWithColon","\u670d\u52a1\u5668\uff1a")):n.text(va),n.attr("title",va))),I?ja(f,T,x):f.text(x+T),f.attr("title",x+T)};var aa=function(x){if(C==ea.SOURCE_TYPE_DB)f=$("<div class='dbmanage-db-connection-card-item-body-item'>"),x.append(f),Y(k.getTypeName())&&(N=$("<div class='dbmanage-db-connection-card-item-body-item'>"),x.append(N)),n=$("<div class='dbmanage-db-connection-card-item-body-item'>"),x.append(n);else if(C==ea.SOURCE_TYPE_BIZMETA)k.getConnectionType()==
na.DBCONNECTION_TYPE_SUPERQUERY&&(N=$("<div class='dbmanage-db-connection-card-item-body-item'>"),x.append(N),g=$("<div class='dbmanage-db-connection-card-item-body-item'>"),x.append(g),L=$("<div class='dbmanage-db-connection-card-item-body-item'>"),x.append(L));else if(C==ea.SOURCE_TYPE_OPENAPI){fa=$("<div class='dbmanage-db-connection-card-item-body-item'>");x.append(fa);t=$("<div class='dbmanage-db-connection-card-item-body-item'>");x.append(t);var T=z.getDBSource().getOpenAPIType()==ea.SOURCE_TYPE_OPENAPI_PROGRAM_DATA_SET;
p=$("<div class='dbmanage-db-connection-card-item-body-item'>");!T&&x.append(p)}},ua=function(x){var T=$("<span>");T.addClass("dbmanage-db-connection-card-item-head-operator-edit");if(C==ea.SOURCE_TYPE_DB)var va=w.get("editDBConnection","\u7f16\u8f91\u6570\u636e\u5e93\u8fde\u63a5");else C==ea.SOURCE_TYPE_OPENAPI&&(va=w.get("editOpenAPIConnection","\u7f16\u8f91OpenAPI\u8fde\u63a5"));T.attr("title",va);T.on("click",ha);Ea.backgroundWithHover(T,"btn-edit");T.appendTo(x);T=$("<span>");T.addClass("dbmanage-db-connection-card-item-head-operator-delete");
T.attr("title",w.get("del","\u5220\u9664"));T.on("click",function(Pa){b(z);c&&c()});Ea.backgroundWithHover(T,"btn-delete");T.appendTo(x)},Y=function(x){return x==y.TYPE_POSTGRESQL||x==y.TYPE_DB2||x==y.TYPE_HANA||x==y.TYPE_REDSHIFT||x==y.TYPE_GREENPLUM||x==y.TYPE_KYLIN||x==y.TYPE_VASTBASE||x==y.TYPE_GBASE||x==y.TYPE_KINGBASE?!0:!1};this.setMessageCurtain=function(x){M=x};var la=function(){null!=z&&(z.getId(),J=z.getName(),k=z.getDBSource(),C=z.getDBSourceType(),z.getCreatorName(),z.getCreateTime(),
z.getModifierName(),z.getModifyTime(),C==ea.SOURCE_TYPE_OPENAPI&&(B=k.getTypeName(),m=Qa.decode(k.getUrl()),D=k.getAuthModel()&&k.getAuthModel().authType&&0!=$.trim(k.getAuthModel().authType).length?k.getAuthModel().authType:"\u65e0"))};this.getJqUi=function(){e||(e=X());u.updateUi();return e};var ta=function(x){z&&u.setSelected(!0);z||da&&da()},ha=function(){var x=function(T){z=T;u.updateUi()};d&&Oa(function(){d(x)})},da=function(){Oa(function(){var x=new V;x.setIsLoadUserRecentUsedSourceList(!1);
x.setIsShowFileSource(!1);x.setIsShowOpenAPISource(!1);x.setChangeSourceType(!1);x.setDataSourceDisabled(O);x.setCustomNextDbConnectStepCreator(oa);x.setIsPublicSource(!0);var T=new G;T.setTitle(w.get("createSourceConnection","\u65b0\u5efa\u6570\u636e\u6e90\u8fde\u63a5"));T.setSteps([x]);T.show(960,540)})},oa=function(x){switch(x.getConnectionType()){case na.DBCONNECTION_TYPE_DB:return ya(x);case na.DBCONNECTION_TYPE_SUPERQUERY:return Ta(x);default:throw Error("unknown connection type.");}},ya=function(x){var T=
new Z(r);T.setCreateSuccessCallback(function(va){a.addModel(va);M.showSuccess(w.get("saveSuccess","\u4fdd\u5b58\u6210\u529f\u3002"))});T.setSource(x);return T},Ta=function(x){var T=new ca(r);T.setCreateSuccessCallback(function(va){a.addModel(va);M.showSuccess(w.get("saveSuccess","\u4fdd\u5b58\u6210\u529f\u3002"))});T.setSource(x);return T},Oa=function(x){(new Da(r,function(T){1==T&&x();0==T&&M&&M.showPrompt(w.get("noMenuPermission","\u60a8\u6ca1\u6709\u5f53\u524d\u83dc\u5355\u6743\u9650\u3002"))},
function(T,va){return!1})).checkDBManagePermission()}}function xa(){var l=this,r,z,e;this.setDisabled=function(u){u?z.css("color","#ccc"):z.css("color","#666");e=u};this.getDisabled=function(){return e};this.getJqUi=function(){if(!r){r=$("<div>");r.addClass("dbmanage-db-connection-card-item-perm-dialog");z=$("<input readonly=readonly>");z.addClass("dbmanage-db-connection-card-item-perm-dialog-input");z.on("click",l.protectedClickEvent);var u=$("<span>");u.addClass("dbmanage-db-connection-card-item-perm-dialog-icon");
Ea.background(u,"icon_f7");u.appendTo(r);z.appendTo(r);l.updateUI();u.on("click",l.protectedClickEvent)}return r};this.setSelectedValue=function(){throw Error("override me");};this.getSelectedValue=function(){throw Error("override me");};this.getDisplayText=function(){throw Error("override me");};this.protectedClickEvent=function(){throw Error("override me");};this.updateUI=function(){z.val(l.getDisplayText());z.attr("title",l.getDisplayText())}}function Ha(){xa.call(this);var l=this,r=[],z=!1,e,
u,J;this.setSelectedListener=function(b){J=b};var k=l.getJqUi;this.getJqUi=function(){e||(e=k(),q.DBManageAddAuthClearIcon.getAuthClearIcon()&&(C(),e.on("mouseover",function(){0<r.length&&!l.getDisabled()&&u.show()}),e.on("mouseleave",function(){u.hide()})));return e};this.protectedClickEvent=function(){z||!l.getDisabled()&&M()};this.setSelectedValue=function(b){r=b;l.updateUI()};this.getSelectedValue=function(){return r};this.getDisplayText=function(){if(0==r.length||0<r.length&&!r[0])var b=w.get("selectNoRole",
"\u5c1a\u672a\u9009\u62e9\u89d2\u8272");else{var c=r[0].getText();b=w.get("selectMultiRole","\u5df2\u9009\u62e9#1\u7b49#2\u4e2a\u89d2\u8272").replace("#2",r.length);var d=w.get("selectSingleRole","\u5df2\u9009\u62e9\u89d2\u8272#1");b=1==r.length?d:b;b=b.replace("#1",c)}return b};var C=function(){u=$("<div>");u.css({position:"absolute",bottom:"6px",height:"18px",width:"18px",right:"25px",cursor:"pointer",display:"none"});Ea.backgroundWithHover(u,"btn-delete");u.on("click",function(){var b=new Fa.createFeedbackDialog;
b.setMsgImageType(Fa.MSG_CONFIRM);b.setMessage(w.get("confirmClearAuthority","\u786e\u5b9a\u6e05\u7a7a\u6388\u6743\uff1f"));b.setClosingChecker(function(c){c==Fa.RETURN_OK&&(r=[],J&&J(r),l.updateUI());return!0});b.showDialog()});u.appendTo(e)},M=function(){z=!0;var b=Ra;b.setCallBack(function(c){z=!1;var d=q.DBPermissionCallBackGenerator.createCallBack();if(d){c=d(c);if(!c)return;r=c}else throw Error("DB manage permission call back should add to register");l.updateUI();J&&J(r)});b.openRoleForm(a())},
a=function(){for(var b=[],c=0;c<r.length;c++){var d=r[c].getValue();b.push(d)}return b}}function Ga(){xa.call(this);var l=this,r=[],z=!1,e,u,J;this.setSelectedListener=function(b){J=b};var k=l.getJqUi;this.getJqUi=function(){e||(e=k(),q.DBManageAddAuthClearIcon.getAuthClearIcon()&&(C(),e.on("mouseover",function(){0<r.length&&!l.getDisabled()&&u.show()}),e.on("mouseleave",function(){u.hide()})));return e};this.setSelectedValue=function(b){r=b;l.updateUI()};this.getSelectedValue=function(){return r};
this.protectedClickEvent=function(){z||!l.getDisabled()&&M()};this.getDisplayText=function(){if(0==r.length||0<r.length&&!r[0])var b=w.get("selectNoUser","\u5c1a\u672a\u9009\u62e9\u7528\u6237");else{var c=r[0].getText();b=w.get("selectMultiUser","\u5df2\u9009\u62e9#1\u7b49#2\u4e2a\u7528\u6237").replace("#2",r.length);var d=w.get("selectSingleUser","\u5df2\u9009\u62e9\u7528\u6237#1");b=1==r.length?d:b;b=b.replace("#1",c)}return b};var C=function(){u=$("<div>");u.css({position:"absolute",bottom:"6px",
height:"18px",width:"18px",right:"25px",cursor:"pointer",display:"none"});Ea.backgroundWithHover(u,"btn-delete");u.on("click",function(){var b=Fa.createFeedbackDialog();b.setMsgImageType(Fa.MSG_CONFIRM);b.setMessage(w.get("confirmClearAuthority","\u786e\u5b9a\u6e05\u7a7a\u6388\u6743\uff1f"));b.setClosingChecker(function(c){c==Fa.RETURN_OK&&(r=[],J&&J(r),l.updateUI());return!0});b.showDialog()});u.appendTo(e)},M=function(){z=!0;var b=Ra;b.setCallBack(function(c){z=!1;var d=q.DBPermissionCallBackGenerator.createCallBack();
if(d){c=d(c);if(!c)return;r=c}else throw Error("DB manage permission callBack should add to register");l.updateUI();J&&J(r)});b.openUserForm(a())},a=function(){for(var b=[],c=0;c<r.length;c++){var d=r[c].getValue();b.push(d)}return b}}function ia(l){var r,z,e,u,J=function(){var k=$("<div>"),C=new Sa,M=new A;M.setText(w.get("ByUser","\u7528\u6237"));M=M.getJqUi();e=new Ga;var a=e.getJqUi(),b=new A;b.setText(w.get("ByRole","\u89d2\u8272"));z=new Ha;b=b.getJqUi();var c=z.getJqUi();e.setSelectedValue(l.getUsers());
e.setDisabled(!1);z.setSelectedValue(l.getRoles());z.setDisabled(!1);var d=new Ca;d.setText(w.get("authSpecified","\u6388\u6743\u7ed9\u6307\u5b9a\u89d2\u8272\u6216\u7528\u6237"));d.addCheckedListener(function(g,L){g.isChecked()&&(e.setDisabled(!1),z.setDisabled(!1))});var h=d.getJqUi(),f=$(h.find(".sa-ctrl-common-foreground_enabled"));f.attr("title",w.get("authSpecified","\u6388\u6743\u7ed9\u6307\u5b9a\u89d2\u8272\u6216\u7528\u6237"));f.css({"font-size":"14px","font-weight":"500","margin-top":"-10px",
overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"});u=new Ca;u.setText(w.get("authAll","\u6388\u6743\u7ed9\u6240\u6709\u7528\u6237"));u.addCheckedListener(function(g,L){g.isChecked()&&(e.setDisabled(!0),z.setDisabled(!0))});f=u.getJqUi();var n=$(f.find(".sa-ctrl-common-foreground_enabled"));n.attr("title",w.get("authAll","\u6388\u6743\u7ed9\u6240\u6709\u7528\u6237"));n.css({"font-size":"14px","font-weight":"500","margin-top":"-10px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"});
C.addElement(d);C.addElement(u);l.isShared()?u.setChecked(!0):d.setChecked(!0);F.layoutCtrl(h,20,15,300,23);F.layoutCtrl(b,40,60,64,23);F.layoutCtrl(c,120,60,200,23);F.layoutCtrl(M,40,110,64,23);F.layoutCtrl(a,120,110,200,23);F.layoutCtrl(f,20,158,164,23);k.append(h);k.append(M);k.append(a);k.append(b);k.append(c);k.append(f);return k};this.udpateUiAfterCallBack=function(k){k?(l.setUsers([]),l.setRoles([]),l.setShared(!0)):l.setShared(!1)};this.getJqUi=function(){r||(r=J());return r};this.isAuthToAll=
function(){return u.isChecked()};this.getSelectedUsers=function(){return e.getSelectedValue()};this.getSelectedRoles=function(){return z.getSelectedValue()}}function K(l,r){ka.call(this);var z=this.protectedMethod,e,u;(function(){var J=w.get("authority","\u6388\u6743");z.setTitle(J);z.setSelectable(!0);z.setMinSize(400,350);z.setContentPaneCreator(function(){e=new ia(r);return e.getJqUi()});z.setFooterPaneCreator(function(k){var C=new pa(w.get("confirm","\u786e\u5b9a"));C.setHighlight(!0);C.addActionListener(function(a){var b=
e.isAuthToAll();r.setUsers(e.getSelectedUsers());r.setRoles(e.getSelectedRoles());(new Da(l,function(){e.udpateUiAfterCallBack(b);z.destroy();u.showSuccess(w.get("authorizationSucceeds","\u6388\u6743\u6210\u529f\u3002"));return!0},function(c){u.showPrompt(w.get("authorizationFailed","\u6388\u6743\u5931\u8d25\u3002"));z.destroy();return!0})).saveOrUpdateDBPermissionInfo(r,b)});C=C.getJqUi();C.addClass("sa-ctrl-dialog-footer-ok");C.appendTo(k);C=new pa(w.get("cancel","\u53d6\u6d88"));C.setHighlight(!1);
var M=C.getJqUi();M.addClass("sa-ctrl-dialog-footer-cancel");M.appendTo(k);C.addActionListener(function(a){z.destroy();return!0})});z.setClosingAction(function(k){})})();this.setMessageCurtain=function(J){u=J}}function P(l){var r,z,e,u,J,k=!0,C;this.setModel=function(a){if(r=a)if(a=r.getDBSource().getDbType(),a==y.TYPE_ACCESS||a==y.TYPE_SQLITE)k=!1;e||M();a=r.getName();var b=r.getDBSource(),c=b.getDbType();e.setText(a);u=ba.getDBConnectionPanel(c,l);u.setMoveDBList2Right(k);C&&u.setOuterMessageCurtain(C);
u.setModel(b,r.getId())};this.getSuggestSize=function(){return k?[960,548]:[435,530]};this.getModel=function(){var a=r?r.copy():new ea;var b=u.getModel(),c=u.getAdvanceSettingModel();b.setAdvanceSetting(c);a.setName($.trim(e.getText()));a.setDBSource(b);return a};this.isModelValid=function(a,b,c){return u.isModelValid(a,b,c)};this.setOuterMessageCurtain=function(a){C=a;u&&u.setOuterMessageCurtain(C)};this.getOuterMessageCurtain=function(){return C};this.getJqUi=function(){if(z)return z;z=$("<div>");
var a=$("<div>");a.css({position:"absolute","border-right":"1px solid #CBCBCB",height:"100%",width:"1px",top:"0px",left:"50%"});k&&z.append(a);e||M();a=$("<div>");var b=r.getDBSource().getTypeName();b=za.getDisplayName(b);a.css({height:"20px","line-height":"20px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","font-size":"14px",color:"#666"});a.text(b);z.append(a);b=new A;a=b.getJqUi();b.setText(w.get("name","\u540d\u79f0"));b=e.getJqUi();J=u.getJqUi();F.layoutCtrl(a,20,36,80,
23);F.layoutCtrl(b,110,36,300,23);F.layoutCtrl(J,20,79,375,300);z.append(a);z.append(b);z.append(J);return z};var M=function(){e=new U;var a=r.getDBSource().getTypeName();u=ba.getDBConnectionPanel(a,l);u.setOuterMessageCurtain(C)}}function Q(l){var r,z,e,u,J,k;this.setOuterMessageCurtain=function(C){k=C;J&&J.setOuterMessageCurtain(k)};this.getOuterMessageCurtain=function(){return k};this.setModel=function(C){u=C;e||(e=new U);C=u.getDBSource();e.setText(u.getName());var M=C.getConnectionType();J=wa.getBIZConnectionPanel(M,
l);k&&J.setOuterMessageCurtain(k);J.setModel(C,u.getId())};this.getModel=function(){var C=u?u.copy():new ea;var M=J.getModel();C.setName($.trim(e.getText()));C.setDBSource(M);return C};this.isModelValid=function(){var C=null,M=$.trim(e.getText());M?50<M.length?C=w.get("nameTooLong","\u540d\u79f0\u4e0d\u53ef\u8d85\u8fc750\u4e2a\u5b57\u7b26\u3002"):0==M.indexOf("datacenter")&&(C=w.get("dbNamePrefixForbid","\u540d\u79f0\u8bf7\u4e0d\u8981\u4ee5#1\u5f00\u5934\u3002").replace("#1","datacenter")):C=w.get("emptyName",
"\u8bf7\u8f93\u5165\u540d\u79f0\u3002");return C?(k.showPrompt(C),!1):J.isModelValid()};this.preSaveOrUpdateModel=function(C,M){J.preSaveOrUpdateModel(C,M)};this.getSuggestSize=function(){return[960,548]};this.getJqUi=function(){if(r)return r;r=$("<div>");var C=$("<div>");C.addClass("dbmanage-db-connection-super-query-dialog-splitLine");r.append(C);C=$("<div>");var M=u.getDBSource().getConnectionType();M=Ia.getDisplayName(M);C.addClass("dbmanage-db-connection-super-query-dialog-type");C.text(M);r.append(C);
M=new A;C=M.getJqUi();M.setText(w.get("name","\u540d\u79f0"));M=e.getJqUi();z=J.getJqUi();F.layoutCtrl(C,20,36,80,23);F.layoutCtrl(M,110,36,300,23);F.layoutCtrl(z,20,79,375,300);r.append(C);r.append(M);r.append(z);return r}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dbmanage&&(com.kingdee.bos.qing.dbmanage=
{});var q=com.kingdee.bos.qing.dbmanage;q.DBEditDialog=H;q.DBCreateDialog=Z;q.DBRefInfoDialog=function(l,r){ka.call(this);var z=this,e=this.protectedMethod,u;(function(){e.setTitle(w.get("dbRefInfo","\u6570\u636e\u6e90\u88ab\u5f15\u7528\u4fe1\u606f"));z.setSize(560,420);e.setSelectable(!0);e.setContentPaneCreator(function(){u=new E;(new Da(r,function(J){for(var k=[],C=0,M=J.length;C<M;C++){var a=new Ba;a.fromJsonObject(J[C]);k.push(a)}u.setModels(k)})).loadDBRefInfo(l.getId());return u.createJqUi()});
e.setFooterClosingOnly(!0);e.setClosingChecker2(null,function(J){e.destroy();return!0});e.setClosingAction(function(J){})})()};q.DBManageContentPanel=function(l){var r,z,e,u,J=this,k,C,M=[],a=!1,b,c,d={},h={},f=!1;this.setDataSourceDisabled=function(p){f=p};this.setConnectionModels=function(p){e=p;n()};this.getSelectedModel=function(){var p=[];p.push(k);return p};this.addModel=function(p){e||(e=[]);e.unshift(p);k=p;n()};this.removeModel=function(p){if(e){d[p.getId()]&&d[p.getId()].removeCard();p=
e.indexOf(p);if(-1<p)if(e.splice(p,1),0<e.length){p=0==p?0:p-1;var B=e[p].getId();d[B]&&d[B].setSelected(!0);C&&C(e[p])}else C&&C(null);a&&g(b)}};this.setMessageCurtain=function(p){u=p};this.setSearchText=function(p){b=p;0==p.length?(a=!1,n()):(a=!0,g(p))};var n=function(){if(e){z&&z.remove();r.find(".dbmanage-db-connection-card-item").not(":first").remove();d={};for(var p=null,B=0;B<e.length;B++){var m=new sa(e[B],l);m.setMessageCurtain(u);m.setSelectedListener(L);m.setSearchTarget(a,b);m.setEditListener(N);
m.setDeleteListener(fa);d[e[B].getId()]=m;var D=m.getJqUi();k&&e[B].getId()==k.getId()&&(p=m);r.append(D)}if(p){p.setSelected(!0);var I=p.getJqUi();r&&I&&(p=r.prop("clientHeight"),B=r.prop("scrollTop"),m=B+p,D=I.prop("offsetTop"),I=D+I.prop("offsetHeight"),D<B?r.prop("scrollTop",D-10):I>m&&r.prop("scrollTop",I-p+10))}}},g=function(p){r.find(".dbmanage-db-connection-card-item").not(":first").remove();z&&z.remove();z=$("<div>");if(e){M=[];h={};for(var B=0;B<e.length;B++){a:{var m=p;for(var D=e[B].getSearchContent(),
I=0;I<D.length;I++)if(-1<D[I].toUpperCase().indexOf(m)){m=!0;break a}m=!1}m&&(M.push(e[B]),m=new sa(e[B],l),m.setMessageCurtain(u),m.setSelectedListener(L),m.setSearchTarget(a,p),m.setEditListener(N),m.setDeleteListener(fa),h[e[B].getId()]=m,m=m.getJqUi(),m.addClass("dbmanage-db-connection-card-item-searchMark"),z.append(m))}r.append(z);k&&h[k.getId()]?(m=h[k.getId()],m.setSelected(!0)):0<M.length&&k&&(k=M[B],m=h[M[0].getId()],m.setSelected(!0))}},L=function(p){if(k)if(a){var B=h[k.getId()];B&&B.setSelected(!1)}else(B=
d[k.getId()])&&B.setSelected(!1);k=p;C&&C(p)};this.setSelectBtnListener=function(p){C=p};var N=function(p){var B=[];B.push(k);if(B&&0!=B.length)if(1<B.length)u.showPrompt(w.get("singleRowAllowed","\u8bf7\u9009\u62e9\u5355\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u8fdb\u884c#1\u3002").replace("#1",w.get("edit","\u7f16\u8f91")));else{var m=B[0];B=new H(l,m);B.setEditSuccessCallback(function(D){u.showSuccess(w.get("editSuccess","\u7f16\u8f91\u6210\u529f\u3002"));m.fromJsonObject(D.toJsonObject());a?g(b):
p&&p(m)});B.showDialog()}},fa=function(){if(k){var p=[];p.push(k);var B=new Da(l,function(m){t(p,m)});B.setShowBlocking(!1);B.loadDBRefInfoTimes(k.getId())}},t=function(p,B){var m=Fa.createFeedbackDialog();m.setMsgImageType(Fa.MSG_DELETE);m.setOptionType(Fa.OPTION_OK_CANCEL);var D=""+w.get("confirmDelDB","\u5220\u9664\u6570\u636e\u6e90\u8fde\u63a5\u540e\u5c06\u65e0\u6cd5\u6062\u590d\uff0c\u786e\u5b9a\u5220\u9664\u5417\uff1f");0<B&&(D=w.get("dbAlreadyReferred","\u6570\u636e\u6e90\u8fde\u63a5\u5df2\u88ab\u5f15\u7528#1\u6b21\uff0c\u786e\u5b9a\u5220\u9664\u5417\uff1f"),
D=D.replace("#1",B));m.setMessage(D);m.setClosingChecker(function(I){I==Fa.RETURN_OK&&(new Da(l,function(){J.removeModel(p[0]);u.showSuccess(w.get("deleteSuccess","\u5220\u9664\u6210\u529f\u3002"))},function(W,v){return"1300004"==W?(u.showPrompt(w.get("noDbManagePerm","\u60a8\u6ca1\u6709\u5f53\u524d\u83dc\u5355\u6743\u9650\u3002")),!0):!1})).deleteDBConnection(p[0].getId());return!0});m.showDialog()};this.getJqUi=function(){r||(r=$("<div class='dbmanage-main-content'>"),F.layoutCtrlWithLRTB(r,0,0,
null,46,0,null),c=new sa(null,l),c.setDataSourceDisabled(f),c.setSelectedListener(L),c.setDBManageContentPanel(J),c.setMessageCurtain(u),r.append(c.getJqUi()));return r}};var F,S,A,U,ka,pa,qa,w,ea,Ba,y,na,ba,wa,za,Ia,Da,Ea,Ra,Fa,Na,G,V,ra,Qa,Ma,Ca,Sa;(function(){var l=com.kingdee.bos.qing.common;F=l.DomUtil;S=l.DateFormater;Qa=l.Base64Util;l=com.kingdee.bos.qing.dbmanage;Ea=l.Icons;l=com.kingdee.bos.qing.integration;Ra=l.UserAndRoleForm;l=com.kingdee.bos.qing.ui.component;U=l.TextField;A=l.Label;
ka=l.AbstractModalDialog;pa=l.Button;Fa=l.MessageDialog;G=l.WizardDialog;Ca=l.RadioButton;Sa=l.RadioButtonGroup;l=com.kingdee.bos.qing.framework.common;w=l.MultilanguageManager.createPackageAccessor(q);l=com.kingdee.bos.qing.common.ui;qa=l.TableUtil;l=com.kingdee.bos.qing.data;y=l.DBSource;na=l.AbstractSource;Na=l.AbstractImportEntityStep;V=l.SourceTypeStep;ra=l.SourceType;Ma=l.OpenAPIAuthTypeUI;l=com.kingdee.bos.qing.dbmanage;ba=l.DBConnectionPanelFactory;wa=l.BIZConnectionPanelFactory;za=l.DBSourceDisplayNameFactory;
Ia=l.BIZSourceDisplayNameFactory;ea=l.DBConnection;Ba=l.DBRefInfo;Da=l.DBManageFacade})();new ra(y.TYPE_SQLSERVER,"SQL Server","source_sqlserver");new ra(y.TYPE_ORACLE,"ORACLE","source_oracle");new ra(y.TYPE_MYSQL,"MySQL","source_mysql");new ra(y.TYPE_POSTGRESQL,"Postgre SQL","source_pg");new ra(y.TYPE_GREENPLUM,"Greenplum","source_greenplum")})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dbmanage&&(com.kingdee.bos.qing.dbmanage={});var H=com.kingdee.bos.qing.dbmanage;H.DBManageMainUi=function(Q){var q,F=new E,S,A,U,ka,pa,qa=function(ba){ba?pa.setEnabled(!0):pa.setEnabled(!1)},w=function(){(new R(Q,function(ba){if(ba){for(var wa=
[],za=0;za<ba.length;za++){var Ia=new Z;Ia.fromJsonObject(ba[za]);if("qing_modeler"==ia.getUrlParamValue("appID")){var Da=Ia.getDBSource();if(Da&&Da.getConnectionType()==K.DBCONNECTION_TYPE_SUPERQUERY)continue}wa.push(Ia)}U?S.setSearchText(U):S.setConnectionModels(wa)}})).loadDBConnections()},ea=function(){var ba=S.getSelectedModel();ba&&0!=ba.length&&(1<ba.length?A.showPrompt(xa.get("singleRowAllowed","\u8bf7\u9009\u62e9\u5355\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u8fdb\u884c#1\u3002").replace("#1",
xa.get("check","\u67e5\u770b"))):(new ca(ba[0],Q)).showDialog())},Ba=function(ba){ka=new Ga;ka.addSearchListener(y);ka.setSearchListenerDelay(0);ka.setPlaceholder(xa.get("searchBoxPlaceholder","\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"));ka.setShowSearchIcon(!0);var wa=ka.getJqUi();wa.addClass("dbmanage-main-titleBar-searchBox");var za=wa.find(":input");za.focus(function(){wa.css({width:"360px"})});za.blur(function(){wa.css({width:"180px"})});wa.appendTo(ba)},y=function(){U=ka.getText().trim().toUpperCase();
S.setSearchText(U)},na=function(){var ba=new R(Q,function(wa){if(wa){for(var za=[],Ia=0;Ia<wa.length;Ia++){var Da=new Z;Da.fromJsonObject(wa[Ia]);if("qing_modeler"==ia.getUrlParamValue("appID")){var Ea=Da.getDBSource();if(Ea&&Ea.getConnectionType()==K.DBCONNECTION_TYPE_SUPERQUERY)continue}za.push(Da)}S.setConnectionModels(za)}});ba.setShowBlocking(!0);ba.loadDBConnections()};this.createJqUi=function(){if(!q){q=$("<div class='dbmanage-main'>");sa.layoutCtrlWithLRTB(q,0,0,null,0,0,null);A||(A=new Ha,
A.getJqUi().appendTo($(document.body)));var ba=q;(pa=F.addButton(ea,"btn_check",xa.get("checkRefInfo","\u67e5\u770b\u5f15\u7528\u4fe1\u606f")))&&pa.getJqUi().css("margin-left","12px");F.addButton(w,"btn_refresh",xa.get("refresh","\u5237\u65b0"));pa.setEnabled(!1);Ba(F.getJqUi());F.getJqUi().appendTo(ba);S=new P(Q);S.setDataSourceDisabled(!1);S.setSelectBtnListener(qa);S.setMessageCurtain(A);S.getJqUi().appendTo(q);na()}return q};this.resize=function(){};this.addToolbarButton=function(ba,wa,za){return F.addButtonForTailCustom(ba,
wa,za)}};var E,R,Z,ca,sa,xa,Ha,Ga,ia,K,P;(function(){var Q=com.kingdee.bos.qing.ui.component;Ha=Q.MessageCurtain;Ga=Q.SearchBox;Q=com.kingdee.bos.qing.framework.common;xa=Q.MultilanguageManager.createPackageAccessor(H);Q=com.kingdee.bos.qing.common;sa=Q.DomUtil;Q=com.kingdee.bos.qing.dbmanage;E=Q.Toolbar;Z=Q.DBConnection;R=Q.DBManageFacade;ca=Q.DBRefInfoDialog;P=Q.DBManageContentPanel;Q=com.kingdee.bos.qing;ia=Q.Seer;Q=com.kingdee.bos.qing.data;K=Q.AbstractSource})()})();
//qingVersionTag: 20250324