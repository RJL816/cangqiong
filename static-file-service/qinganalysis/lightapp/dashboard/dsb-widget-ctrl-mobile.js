var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(m,q,p){m instanceof String&&(m=String(m));for(var w=m.length,v=0;v<w;v++){var D=m[v];if(q.call(p,D,v,m))return{i:v,v:D}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(m,q,p){if(m==Array.prototype||m==Object.prototype)return m;m[q]=p.value;return m};$jscomp.getGlobal=function(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var q=0;q<m.length;++q){var p=m[q];if(p&&p.Math==Math)return p}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(m,q){var p=$jscomp.propertyToPolyfillSymbol[q];if(null==p)return m[q];p=m[p];return void 0!==p?p:m[q]};
$jscomp.polyfill=function(m,q,p,w){q&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(m,q,p,w):$jscomp.polyfillUnisolated(m,q,p,w))};$jscomp.polyfillUnisolated=function(m,q,p,w){p=$jscomp.global;m=m.split(".");for(w=0;w<m.length-1;w++){var v=m[w];if(!(v in p))return;p=p[v]}m=m[m.length-1];w=p[m];q=q(w);q!=w&&null!=q&&$jscomp.defineProperty(p,m,{configurable:!0,writable:!0,value:q})};
$jscomp.polyfillIsolated=function(m,q,p,w){var v=m.split(".");m=1===v.length;w=v[0];w=!m&&w in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var D=0;D<v.length-1;D++){var M=v[D];if(!(M in w))return;w=w[M]}v=v[v.length-1];p=$jscomp.IS_SYMBOL_NATIVE&&"es6"===p?w[v]:null;q=q(p);null!=q&&(m?$jscomp.defineProperty($jscomp.polyfills,v,{configurable:!0,writable:!0,value:q}):q!==p&&(void 0===$jscomp.propertyToPolyfillSymbol[v]&&(p=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[v]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(v):$jscomp.POLYFILL_PREFIX+p+"$"+v),$jscomp.defineProperty(w,$jscomp.propertyToPolyfillSymbol[v],{configurable:!0,writable:!0,value:q})))};$jscomp.polyfill("Array.prototype.find",function(m){return m?m:function(q,p){return $jscomp.findInternal(this,q,p).v}},"es6","es3");
(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dsb&&(com.kingdee.bos.qing.dsb={});"undefined"==typeof com.kingdee.bos.qing.dsb.widget&&(com.kingdee.bos.qing.dsb.widget={});"undefined"==typeof com.kingdee.bos.qing.dsb.widget.mobile&&(com.kingdee.bos.qing.dsb.widget.mobile={});var m=com.kingdee.bos.qing.dsb.widget.mobile;
m.WidgetCtrlTitleBar=function(){var A=this,N=$("<div id='title'>"),K,E,I=!1,F=p.getPortrait(),G=!0,aa,X,ba,y,L,O,P;this.setShowFullscreen=function(n){G=n;E&&(G&&E.show(),!G&&E.hide())};this.setBeforeFullscreenListener=function(n){aa=n};this.setFullscreenListener=function(n){X=n};this.setCancelFullscreenListener=function(n){ba=n};this.setAboutInfoItemCreator=function(n){L=n};this.setMenuToolItemCreator=function(n){y=n};this.setBackListener=function(n){P=n};this.setRotateUIListener=function(n){O=n};
this.getJqUi=function(){N.addClass("lapp-dsb-widget-ctrl-title");E=$("<div>");E.on("click",A.doFullscreen);E.appendTo(N);D.layoutCtrlWithLRTB(E,null,0,28,1,null,28);var n=$("<span>");Q.background(n,"icon_fullscreen");n.addClass("lapp-dsb-fullscreen-icon");n.appendTo(E);!G&&E.hide();return N};this.doFullscreen=function(n){I=!I;aa&&aa(I);F?!I&&z():p.rotateUI(F);var B=!1,H=com.kingdee.bos.qing.lapp.ui.LappIntegration;H.isCardFullscreen()||w.postMessageWhenImmediateExecution(I?w.TYPE_REQUEST_WIDGET_FULLSCREEN:
w.TYPE_EXIT_WIDGET_FULLSCREEN,function(R){var S=window.location.href,ca=v.decodeParamFromUrl(S,"publishId");S=v.decodeParamFromUrl(S,"time");R.iframeId=ca+S;B=!0;H.setResizeListener(function(){J();H.setResizeListener(null)})});B||J()};var J=function(){I?(N.hide(),X(function(n){T(n)})):(N.show(),ba())},T=function(n){var B=$("<div>");B.addClass("lapp-dsb-widget-ctrl-fullscreen-headbar");B.appendTo(n);n=$("<div id='exit'>");Q.background(n,"icon_back");n.addClass("lapp-dsb-widget-ctrl-exit");n.appendTo(B);
n.on("click",function(){P&&P()||R()});n=$("<div>");n.addClass("lapp-dsb-widget-ctrl-title-fullacreen");n.appendTo(B);var H=new M;C(H);H.isHasButtonInMenu()&&(n=$("<div id='toolbar'>"),n.css({"z-index":512,"background-color":"#FFFFFF"}),D.layoutCtrlWithLRTB(n,40,0,null,0,null,44),n.appendTo(B),n.show(),B=H.getJqUi(),B.appendTo(n),B.css({right:"20px",left:"8px",width:"unset"}));var R=function(){A.doFullscreen();com.kingdee.bos.qing.lapp.ui.LappIntegration.popPopStateListener()};com.kingdee.bos.qing.lapp.ui.LappIntegration.addPopStateListener(function(){R()})},
C=function(n){L&&L(n);p.supportSwitchScreen(!0)&&(K=F?n.addButtonInMenu("icon_turn_horizontal",q.get("horizontalScreen","\u6a2a\u5c4f"),function(){p.rotateUI(F)},85):n.addButtonInMenu("icon_turn_vertical",q.get("horizontalScreen","\u7ad6\u5c4f"),function(){p.rotateUI(F)},85),window.addEventListener("orientationchange",Y));y&&y(n)},z=function(){window.removeEventListener("orientationchange",Y)},Y=function(){F=!F;O&&O(F);K&&(F?(Q.background(K.getJqIcon(),"icon_turn_horizontal"),K.getJqText().text(q.get("horizontalScreen",
"\u6a2a\u5c4f"))):(Q.background(K.getJqIcon(),"icon_turn_vertical"),K.getJqText().text(q.get("verticalScreen","\u7ad6\u5c4f"))));!I&&z()}};var q,p,w,v,D,M,Q;(function(){A=com.kingdee.bos.qing.framework.common;q=A.MultilanguageManager.createPackageAccessor(m);A=com.kingdee.bos.qing.lapp.integration;p=A.EnvUtil;w=A.PostMessageUtils;var A=com.kingdee.bos.qing.common;v=A.Util;D=A.DomUtil;A=com.kingdee.bos.qing.lapp.component;M=A.SecondaryMenuBar;Q=A.Icons})()})();(function(){function m(){var a=this,b,c;this.protectedFullScreenChanged=function(h){throw Error("Implement");};this.getModel=function(){throw Error("Implement");};this.doFullscreenBefore=function(){};var g=function(h){a.getModel().markFullscreen(h);a.getModel().isContainer()&&a.getModel().traversalDescendents(function(k){k.markFullscreen(h,!0)})};this.protectedMethod.setContainerJqUi=function(h){b||(b=h)};this.protectedMethod.doFullscreen=function(h){a.doFullscreenBefore();c=$("<div>");c.css("z-index",
512);J.layoutCtrlWithLRTB(c,0,0,null,0,0,44);c.appendTo($(document.body));var k=new n;k.setContext(b,[0,0,44,0]);b.data("myContext",k);k.forward(a);h(c);g(!0);a.protectedFullScreenChanged(!0)};this.protectedMethod.cancelFullscreen=function(){var h=b.data("myContext");b.removeData("myContext");h.backward();c.remove();g(!1);a.protectedFullScreenChanged(!1)}}function q(){z.call(this);this.protectedInitUi=function(a){throw Error("Implement");};this.protectedSyncLayoutMore=function(){};this.protectedYieldButtonsSpace=
function(){return 5}}function p(){B.call(this);q.call(this);m.call(this);var a=this,b=this.protectedMethod,c,g,h,k,e;this.setFullscreenAnnouncer=function(d,r){e=r};this.updateState=function(d){switch(d){case B.STATE_AUTO_REFRESHING:a.hideButtons(z.ACTION_ALL);break;case B.STATE_REMOTE_ERROR:a.hideButtons(z.ACTION_ALL^B.ACTION_REFRESH);break;default:d=b.isFullscreenEnabled()?z.ACTION_NONE:z.ACTION_FULLSCREEN,a.hideButtons(d)}};this.setActionListener=function(d){};this.protectedInitUi=function(d){c=
d;t();d=k.getJqUi();d.css("z-index",b.getOperationLevel());c.append(d);var r=(b.getWidget().getPaddingTop()-30)/2;J.layoutCtrlWithLRTB(d,null,b.getWidget().getPaddingRight(),null,r,null,30)};var t=function(){k||(k=new da,k.setBeforeFullscreenListener(function(d){b.setContainerJqUi(a.getJqUi())}),k.setFullscreenListener(b.doFullscreen),k.setCancelFullscreenListener(b.cancelFullscreen),k.setAboutInfoItemCreator(function(d){d.addButtonInMenu("icon_about",y.get("about","\u4fe1\u606f"),u,85)}),k.setMenuToolItemCreator(function(d){!h.isError()&&
h.showFilterIcon()&&(d=d.addButtonInMenu("icon_filter",y.get("filter","\u8fc7\u6ee4"),function(){h.toggleFilter()},85,!0),h.setFilterICon(d))}))},u=function(){h.getExtractDataTime(b.getWidget().getExecutingTag(),function(d){var r=new ka;r.setTitle(y.get("cardInfo","\u6570\u636e\u5361\u7247\u4fe1\u606f"));r.setHeight(150);r.setContentCreator(function(){var l=$("<div>");l.css("overflow","auto");var f=$("<p>");f.css({"font-size":"15px",color:"#555555"});f.text(y.get("extractDataTime","\u6570\u636e\u66f4\u65b0\u65f6\u95f4\uff1a")+
d);f.appendTo(l);return l});r.showDialog()})};this.protectedFullScreenChanged=function(d){e(d);a.repaintSurface();h.redraw()};this.getModel=function(){return b.getWidget()};this.hideButtons=function(d){k.setShowFullscreen((d&z.ACTION_FULLSCREEN)!=z.ACTION_FULLSCREEN)};this.showWaiting=function(d,r,l){g||(g=$("<div>"),g.addClass("lapp-dsb-loading-modallayer"),d=$("<div>"),d.addClass("lapp-dsb-loading-icon"),la.background(d,"loading"),d.appendTo(g),g.appendTo(c),d=-1<b.getWidget().getRefreshTiming()?
!0:!1,ea.decorateCardModalLayer(g,d))};this.hideWaiting=function(){g&&g.hide()};this.protectedMethod.setScene=function(d){h=d;h.setJqParent(c);h.setDrawLegendListener(function(r){r&&h.setJqLegendUiZIndex(b.getUpwardLevel())})}}function w(){p.call(this);var a=this.protectedMethod;this.createScene=function(b){T.createDashboardSquareScene(a.isMobile(),function(c){a.setScene(c);b(c)})}}function v(){p.call(this);var a=this.protectedMethod;this.createScene=function(b){T.createDashboardLongerScene(a.isMobile(),
function(c){a.setScene(c);b(c)})}}function D(){H.call(this);q.call(this);m.call(this);var a=this,b=this.protectedMethod,c,g,h=[],k=2,e=!1;window.addEventListener("message",function(f){if(f.origin===window.location.origin){try{var x=JSON.parse(f.data)}catch(qa){return}if("LAPP_MESSAGE_EXECUTION"==x.from&&x.extreportTopWidgetId==a.getModel().getName()){f=x.type;if("OPEN_LINK_REPORT"==f){var Z=x.sUrl,fa=x.sReportName;x=$("<div>");x.addClass("lapp-extreport-card-mobile-linkreport");x.css("z-index",k++);
var U=$("<div>");U.addClass("lapp-extreport-card-mobile-linkreport-title");var V=$("<span>");V.addClass("lapp-extreport-card-mobile-linkreport-title-text");V.text(fa);V.appendTo($(U));U.appendTo($(x));fa="\u8054\u67e5\u62a5\u8868"+Date.now();U=$("<iframe allowfullscreen allowTransparency='true'id= "+fa+">");U.addClass("lapp-extreport-card-mobile-linkreport-iframe");V=$("<div>");V.addClass("lapp-extreport-card-mobile-linkreport-iframe-container");U.appendTo($(V));V.appendTo($(x));x.appendTo(a.getJqUi().parent());
U.attr("src",Z);h.push({jqIframe:x,iframeId:fa})}"requestWidgetFullscreen"==f&&c.doFullscreen();"REPORT_READY"==f&&(e=!0,a.updateState())}}});this.setActionListener=function(f){};this.setFullscreenAnnouncer=function(f,x){g=x};this.updateState=function(){if(e){var f=b.isFullscreenEnabled()?z.ACTION_NONE:z.ACTION_FULLSCREEN;a.hideButtons(f)}};this.protectedInitUi=function(f){t();var x=c.getJqUi();x.css("z-index",b.getOperationLevel());f.append(x);c.setShowFullscreen(!1);f=(b.getWidget().getPaddingTop()-
30)/2;J.layoutCtrlWithLRTB(x,null,b.getWidget().getPaddingRight(),null,f,null,30)};var t=function(){c||(c=new da,c.setBeforeFullscreenListener(function(f){b.setContainerJqUi(a.getJqUi().parent())}),c.setFullscreenListener(b.doFullscreen),c.setCancelFullscreenListener(b.cancelFullscreen),c.setMenuToolItemCreator(r),c.setBackListener(u))},u=function(){if(0===h.length)return!1;k--;h.pop().jqIframe.remove();return!0},d=function(f){T.getQingReportExecutor().fireEvent(f,a.getJqContent(),a.getModel())},
r=function(f){f.addButtonInMenu("icon_filter",y.get("filter","\u8fc7\u6ee4"),l,79,!0)},l=function(){if(0==h.length)d(Y.EVENT_FILTER);else{var f=h[h.length-1];f=f.jqIframe.find("#"+f.iframeId);f[0].contentWindow&&f[0].contentWindow.postMessage({extreportCardMsg:Y.EVENT_FILTER},"*")}};this.protectedFullScreenChanged=function(f){g(f);a.repaintSurface();T.getQingReportExecutor().resize(a.getJqContent(),a.getModel());f||d("closeFullScreen")};this.getModel=function(){return b.getWidget()};this.doFullscreenBefore=
function(){d("clickFullscreen")};this.hideButtons=function(f){c.setShowFullscreen((f&z.ACTION_FULLSCREEN)!=z.ACTION_FULLSCREEN)}}function M(){R.call(this);q.call(this);m.call(this);var a=this,b=this.protectedMethod,c,g,h;this.setFullscreenAnnouncer=function(e,t){h=t};this.updateState=function(){var e=b.isFullscreenEnabled()?z.ACTION_NONE:z.ACTION_FULLSCREEN;a.hideButtons(e)};this.setActionListener=function(e){};this.protectedInitUi=function(e){c=e;k();e=g.getJqUi();e.css("z-index",b.getOperationLevel());
c.append(e);var t=(b.getWidget().getPaddingTop()-30)/2;J.layoutCtrlWithLRTB(e,null,b.getWidget().getPaddingRight(),null,t,null,30)};var k=function(){g||(g=new da,g.setBeforeFullscreenListener(function(e){b.setContainerJqUi(a.getJqUi());e&&h(e)}),g.setFullscreenListener(b.doFullscreen),g.setCancelFullscreenListener(b.cancelFullscreen))};this.protectedFullScreenChanged=function(e){h(e);a.repaintSurface()};this.getModel=function(){return b.getWidget()};this.hideButtons=function(e){g.setShowFullscreen((e&
z.ACTION_FULLSCREEN)!=z.ACTION_FULLSCREEN)}}function Q(){S.call(this);A.call(this);var a=this.protectedMethod,b,c,g,h,k,e;this.getJqUi=function(){g||(g=new X,c=g.getJqUi(a.getWidget()),a.decorateFontSizeEnhanced(c));return c};this.setSelectableItems=function(d){if(d){e=d;if(h){var r=h;for(var l=!0,f=0;f<d.length;f++)if(h.getValue()==d[f].getValue()){l=!1;break}l&&(r=d&&d.length?d[0]:null)}else r=d&&d.length?d[0]:null;d=r?r.getDisplayText():"";g.setText(d);g.setClickListener(t)}};this.setSelectedItem=
function(d){(h=d)&&g.setText(h.getDisplayText())};this.getSelectedItem=function(){return h};this.setValueChangedListener=function(d){b=d};this.updateFrontLabel=function(){g.relayoutUi(a.getWidget())};var t=function(){k=new ha;k.setItemModels(e);k.setSelectedItemModel(h);k.setSelectedListener(u);k.setDestroyListener(function(){g.updateArrow(!1)});k.show();var d=45*e.length+44;if(!com.kingdee.bos.qing.lapp.ui.LappIntegration.isCardFullscreen()&&L.isImmediateExecutionMode())d=400<d?400:d,g.updateUiWhenImmediateExec(k.getJqUi(),
d);else{var r=.5*document.body.clientHeight;d>r?d=r:179>d&&(d=179);k.getJqUi().css("height",d)}},u=function(d){var r=d?d.getDisplayText():"";h=d;b();g.setText(r);g.updateArrow(!1)}}function A(){var a=this.protectedMethod;this.protectedMethod.decorateFontSizeEnhanced=function(b){var c=a.getWidget().getFontSizeEnhanced();b.css("font-size",c?100+10*c+"%":"")}}function N(){G.call(this);this.protectedToCtrlDisplay=function(b){return a(b[0])+"~"+a(b[1])};this.protectedInitSelector=function(b){return new ma};
var a=function(b){var c=new Date(b);b=c.getFullYear();var g=c.getMonth()+1;c=c.getDate();return b+y.get("calendarYearCharacter","\u5e74")+g+y.get("calendarMonthCharacter","\u6708")+c+y.get("calendarDay","\u65e5")}}function K(){G.call(this);this.protectedToCtrlDisplay=function(a){return(new Date(a[0])).getFullYear()+y.get("calendarYear","\u5e74")};this.protectedInitSelector=function(a){return new W(W.YEAR_MODE)}}function E(){G.call(this);this.protectedToCtrlDisplay=function(a){var b=new Date(a[0]);
a=b.getFullYear();b=b.getMonth()+1;return a+y.get("calendarYearCharacter","\u5e74")+b+y.get("calendarMonth","\u6708")};this.protectedInitSelector=function(a){return new W(W.YEAR_MONTH_MODE)}}function I(){G.call(this);this.protectedToCtrlDisplay=function(a){var b=new Date(a[0]);a=b.getFullYear();var c=b.getMonth()+1;b=b.getDate();return a+y.get("calendarYearCharacter","\u5e74")+c+y.get("calendarMonthCharacter","\u6708")+b+y.get("calendarDay","\u65e5")};this.protectedInitSelector=function(a){return new W(W.YEAR_MONTH_DAY_MODE)}}
function F(){G.call(this);this.protectedToCtrlDisplay=function(a){var b=new Date(a[0]);a=b.getFullYear();b=Math.floor(b.getMonth()/3)+1;return a+"Q"+b};this.protectedInitSelector=function(a){return new na}}function G(){ca.call(this);A.call(this);var a=this,b=this.protectedMethod,c,g,h,k,e,t,u;this.getJqUi=function(f){k||(k=new X,t=k.getJqUi(b.getWidget()),b.decorateFontSizeEnhanced(t),k.setClickListener(l));return t};this.setDateMs=function(f){g=f[0];h=f[1];k.setText(a.protectedToCtrlDisplay([g,h]))};
this.getFromDateMs=function(){return g};this.getToDateMs=function(){return h};this.setValueChangedListener=function(f){c=f};this.updateFrontLabel=function(){k.relayoutUi(b.getWidget())};this.protectedToCtrlDisplay=function(f){throw Error("Implement");};this.protectedInitSelector=function(f){throw Error("Implement");};var d=function(f){f=f.getSelectedDateMs();f[0]>f[1]?(new ia).show(y.get("dateRangeError","\u7ed3\u675f\u65e5\u671f\u4e0d\u80fd\u65e9\u4e8e\u5f00\u59cb\u65e5\u671f"),ia.LENGTH_SHORT):
(g=f[0],h=f[1],k.setText(a.protectedToCtrlDisplay([g,h])),u.remove(),u=null,k.updateArrow(!1),c())},r=function(f){u.remove();u=null;k.updateArrow(!1)},l=function(f){u||(u=$("<div>"),u.addClass("lapp-dsb-modallayer"),u.on("click",function(x){"lapp-dsb-modallayer"==x.target.className&&r()}),u.appendTo($(document.body)),e=a.protectedInitSelector([g,h]),e.getJqUi().appendTo(u),e.setOkListener(d),e.setCancelListener(r),e.setDateMs([g,h]),com.kingdee.bos.qing.lapp.ui.LappIntegration.isCardFullscreen()||
(f=e.getJqUi(),k.updateUiWhenImmediateExec(f,270)));u.show()}}function aa(){oa.call(this);A.call(this);var a=this.protectedMethod,b,c,g,h,k,e,t;this.getJqUi=function(){c||(c=new X,b=c.getJqUi(a.getWidget()),a.decorateFontSizeEnhanced(b));return b};this.setSelectableItems=function(l){k=l};this.setSelectedItems=function(l){e=l;r(e);c.setClickListener(u)};this.getSelectedItems=function(){return void 0===e||0==k.length?(c.setText(""),null):null===e?(c.setText(y.get("all","\uff08\u5168\u90e8\uff09")),
null):e};this.setValueChangedListener=function(l){t=l};this.updateFrontLabel=function(){c.relayoutUi(a.getWidget())};var u=function(){if(a.getWidget().isMultiSelectable()){g=new pa;g.setItemModels(k);if(null==e){e=[];for(var l in k)e.push(k[l])}g.setSelectedItemModels(e);g.setConfirmListener(function(){e=g.getSelectedItemModels();r(e&&e.length===k.length?null:e);t()});g.setDestroyListener(function(){c.updateArrow(!1)});g.show();l=45*k.length+135;if(!com.kingdee.bos.qing.lapp.ui.LappIntegration.isCardFullscreen()&&
L.isImmediateExecutionMode()){var f=g.getJqUi();c.updateUiWhenImmediateExec(f,450<l?450:l)}else f=Math.ceil(.6*document.body.clientHeight),l=l<f?l:f,g.getJqUi().css("height",l)}else h=new ha,h.setItemModels(k),e&&h.setSelectedItemModel(e[0]),h.setSelectedListener(d),h.setDestroyListener(function(){c.updateArrow(!1)}),h.show(),l=45*k.length+44,!com.kingdee.bos.qing.lapp.ui.LappIntegration.isCardFullscreen()&&L.isImmediateExecutionMode()?(l=400<l?400:l,c.updateUiWhenImmediateExec(h.getJqUi(),l)):(f=
.5*document.body.clientHeight,l>f?l=f:179>l&&(l=179),h.getJqUi().css("height",l))},d=function(l){var f=l?l.getDisplayText():"";c.setText(f);e=[];e.push(l);t();c.updateArrow(!1)},r=function(l){if(void 0===l||0==k.length)c.setText("");else if(null===l)c.setText(y.get("all","\uff08\u5168\u90e8\uff09"));else{for(var f=Math.min(20,l.length),x="",Z=0;Z<f;Z++)0<Z&&(x+=", "),x+=l[Z].getDisplayText();l.length>f&&(x+="...");c.setText(x)}}}function X(){var a=this,b,c,g,h,k;this.getJqUi=function(e){if(!b){b=
$("<div>");var t=$.trim(e.getFrontLabel());if(t){k=new ja;k.setText(t);var u=k.getJqUi();u.addClass("lapp-dsb-front-label");u.appendTo(b)}c=$("<div>");c.appendTo(b);h=new ja;t=h.getJqUi();t.appendTo(c);t.addClass("lapp-dsb-combobox-label");g=$("<div>");g.addClass("lapp-dsb-combobox-triangle-down");g.appendTo(c);a.relayoutUi(e);e.getTopPage().isMobileSkinActive()?(c.addClass("lapp-dsb-combobox"),u&&ea.decorateLabel(u),ea.decorateInputer(c)):c.addClass("lapp-dsb-selectbox")}return b};this.relayoutUi=
function(e){if(k){var t=k.getJqUi(),u=$.trim(e.getFrontLabel());t.text(u);"left"==e.getFrontLabelPosition()?(e=e.getFrontLabelLength(),void 0===e&&(e=72),t.css("width",e+"px"),c.css({left:e+10,top:"0px"})):(t.css("width","100%"),c.css({left:"0px",top:"25px"}))}else c.css({left:"0px",top:"0px"})};this.setText=function(e){h.setText(e)};this.setClickListener=function(e){c.off("click");c.on("click",function(){e();a.updateArrow(!0)})};this.updateArrow=function(e){e?(g.removeClass("lapp-dsb-combobox-triangle-down"),
g.addClass("lapp-dsb-combobox-triangle-up")):(g.removeClass("lapp-dsb-combobox-triangle-up"),g.addClass("lapp-dsb-combobox-triangle-down"))};this.updateUiWhenImmediateExec=function(e,t){O.postMessageWhenImmediateExecution(O.TYPE_LAYOUT,function(u){var d=J.upwardCoordinate(b[0],[0,0],document.body)[1],r=document.body.clientHeight;t>r&&(t=r);e.css("height",t);t<r-(d+b.height())&&e.css("top",d+b.height());var l=window.location.href;r=P.decodeParamFromUrl(l,"publishId");l=P.decodeParamFromUrl(l,"time");
u.top=d;u.bottomHeight=e.height();u.iframeId=r+l})}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.dsb&&(com.kingdee.bos.qing.dsb={});"undefined"==typeof com.kingdee.bos.qing.dsb.widget&&(com.kingdee.bos.qing.dsb.widget={});"undefined"==typeof com.kingdee.bos.qing.dsb.widget.mobile&&(com.kingdee.bos.qing.dsb.widget.mobile=
{});var ba=com.kingdee.bos.qing.dsb.widget.mobile,y,L,O,P,J,T,C,z,Y,n,B,H,R,S,ca,oa,W,ma,na,ja,ha,pa,ka,la,ia,da,ea;(function(){a=com.kingdee.bos.qing.framework.common;y=a.MultilanguageManager.createPackageAccessor(ba);a=com.kingdee.bos.qing.lapp.integration;L=a.EnvUtil;O=a.PostMessageUtils;var a=com.kingdee.bos.qing.common;P=a.Util;J=a.DomUtil;a=com.kingdee.bos.qing.dsb;T=a.IntegrationRegister;ea=a.CosmeticBag;Y=a.AbstractQingReportExecutor;a=com.kingdee.bos.qing.dsb.model;C=a.DashboardModel;a=com.kingdee.bos.qing.dsb.widget;
z=a.AbstractCardWidgetCtrl;n=a.WidgetFullscreenHelper;B=a.AbstractBuiltinVisualWidgetCtrl;H=a.AbstractQingReportWidgetCtrl;R=a.AbstractPanelWidgetCtrl;S=a.AbstractComboboxWidgetCtrl;ca=a.AbstractCalendarWidgetCtrl;oa=a.AbstractF7WidgetCtrl;a=com.kingdee.bos.qing.lapp.component;W=a.DateSliderSelector;ma=a.DateRangeTabSelector;na=a.DateOfYearQuarterSelector;ja=a.Label;ha=a.BottomSelector;pa=a.F7Selector;ka=a.InfoDialog;la=a.Icons;ia=a.Toast;a=com.kingdee.bos.qing.dsb.widget.mobile;da=a.WidgetCtrlTitleBar})();
(function(){var a=com.kingdee.bos.qing.dsb.widget.MobileWidgetCtrlRegister;a.registerClass(C.WidgetType_Square,w);a.registerClass(C.WidgetType_Longer,v);a.registerClass(C.WidgetType_QingReport,D);a.registerClass(C.WidgetType_Panel,M);a.registerClass(C.WidgetType_Combobox,Q);a.registerClass(C.WidgetType_F7,aa);a.registerClass(C.WidgetType_Calendar,N);a.registerClass(C.WidgetType_CalendarYear,K);a.registerClass(C.WidgetType_CalendarQuarter,F);a.registerClass(C.WidgetType_CalendarMonth,E);a.registerClass(C.WidgetType_CalendarDay,
I)})();z.hookDescriptionTipsDecorater(function(a,b){})})();
//qingVersionTag: 20250324