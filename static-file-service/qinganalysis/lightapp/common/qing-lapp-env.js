(function(){function l(d){this.getAppType=function(){return d};this.protectedGetJSBridgeUrl=function(){throw Error("Override");};this.protectedIsNavTitleShown=function(){throw Error("Override");};this.protectedHideNavTitle=function(c){throw Error("Override");};this.protectedShowNavTitle=function(){};this.protectedCloseWebView=function(){throw Error("Override");};this.protectedGetPortrait=function(){throw Error("Override");};this.protectedRotateUI=function(c,a){throw Error("Override");};this.protectedSupportShare=
function(){throw Error("Override");};this.protectedSupportSwitchScreen=function(c){throw Error("Override");};this.protectedInit=function(c){throw Error("Override");};this.protectedMethod={addPopstateEvent:function(){window.history.pushState(null,null,null);window.addEventListener("popstate",function(){var c=-(window.history.length-2);k.getUrlParamValue("hasPrepositiveEntrance")&&(c=-2);0<=c&&(c=-1);window.history.go(c)})}}}function n(d){l.call(this,d);var c=this;this.protectedGetJSBridgeUrl=function(){return"lightapp/third-app/yunzhijia/qingjs.js"};
this.protectedIsNavTitleShown=function(){return!1};this.protectedHideNavTitle=function(a){com.kingdee.bos.qing.lapp.integration.EnvUtil.isMobile()&&XuntongJSBridge.call("setWebViewTitleBar",{isShow:"false"})};this.protectedShowNavTitle=function(){com.kingdee.bos.qing.lapp.integration.EnvUtil.isMobile()&&XuntongJSBridge.call("setWebViewTitleBar",{isShow:"true"})};this.protectedCloseWebView=function(){XuntongJSBridge.call("closeWebView")};this.protectedGetPortrait=function(){return!0};this.protectedRotateUI=
function(a,b){XuntongJSBridge.call("rotateUI",{orientation:a?"landscape":"portrait"},{});c.protectedHideNavTitle()};this.protectedSupportShare=function(){var a=com.kingdee.bos.qing.lapp.integration.EnvUtil;return a.isYzjApp()||a.isImmediateExecutionMode()?!0:!1};this.protectedSupportSwitchScreen=function(a){var b=com.kingdee.bos.qing.lapp.integration.EnvUtil;return a&&k.getUrlParamValue("yzjPortal")?!1:b.isMobile()?!0:!1};this.protectedInit=function(a){var b=com.kingdee.bos.qing.lapp.integration.EnvUtil;
if(b.isImmediateExecutionMode()||b.isYzjApp()||b.isMobile()||0==location.href.indexOf("https")){b=document.createElement("script");var e=c.protectedGetJSBridgeUrl();b.onload=function(){c.protectedHideNavTitle();a&&a()};b.src=e;document.head.appendChild(b)}else window.location.replace("error.do?errorCode=notSupportHttpOnYZJWeb")}}function p(d){l.call(this,d);var c=this;this.protectedGetJSBridgeUrl=function(){return"lightapp/third-app/dingding/dingtalk.open.js"};this.protectedIsNavTitleShown=function(){return!1};
this.protectedHideNavTitle=function(a){dd.biz.navigation.hideBar({hidden:!0,onSuccess:function(b){a&&a()},onFail:function(b){alert("dingding hide nav title fail! "+b)}})};this.protectedCloseWebView=function(){dd.biz.navigation.close({onFail:function(a){alert("dingding close web view fail! "+a)}})};this.protectedGetPortrait=function(){return 0<=location.href.indexOf("&dd_orientation=landscape")?!1:!0};this.protectedRotateUI=function(a,b){a?(a=(0<=location.href.indexOf("?")?"":"?")+"&dd_orientation=landscape",
-1==location.href.indexOf("&dd_orientation=landscape")&&(location.href+=a)):location.href=location.href.replace("&dd_orientation=landscape","")};this.protectedSupportShare=function(){return!1};this.protectedSupportSwitchScreen=function(a){return a?!1:!0};this.protectedInit=function(a){var b=document.createElement("script"),e=c.protectedGetJSBridgeUrl();b.onload=function(){c.protectedHideNavTitle();a&&a()};b.src=e;document.head.appendChild(b)}}function q(d){l.call(this,d);var c=this;this.protectedGetJSBridgeUrl=
function(){return"lightapp/third-app/dingding/dingtalk.open.js"};this.protectedIsNavTitleShown=function(){return!1};this.protectedHideNavTitle=function(a){dd.biz.navigation.hideBar({hidden:!0,onSuccess:function(b){a&&a()},onFail:function(b){alert("dingdingOffline hide nav title fail! "+b)}})};this.protectedCloseWebView=function(){dd.biz.navigation.close({onFail:function(a){alert("dingdingOffline close web view fail! "+a)}})};this.protectedGetPortrait=function(){return 0<=location.href.indexOf("&dd_orientation=landscape")?
!1:!0};this.protectedRotateUI=function(a,b){b=b+"&analysisId="+k.getUrlParamValue("analysisId")+"&appType="+d;location.href=a?b+"&dd_orientation=landscape":b};this.protectedSupportShare=function(){return!1};this.protectedSupportSwitchScreen=function(a){return a?!1:!0};this.protectedInit=function(a){var b=document.createElement("script"),e=c.protectedGetJSBridgeUrl();b.onload=function(){c.protectedHideNavTitle();a&&a()};b.src=e;document.head.appendChild(b)}}function r(d){l.call(this,d);this.protectedGetJSBridgeUrl=
function(){return"lightapp/third-app/wxqyh/jweixin-1.2.0.js"};this.protectedIsNavTitleShown=function(){return!0};this.protectedHideNavTitle=function(a){};this.protectedCloseWebView=function(){};this.protectedGetPortrait=function(){return!0};this.protectedRotateUI=function(a,b){};this.protectedSupportShare=function(){return!1};this.protectedSupportSwitchScreen=function(a){return!1};this.protectedInit=function(a){c();a&&a()};var c=function(){window.history.pushState(null,null,null);window.addEventListener("popstate",
function(){var a=-2;2>=window.history.length&&(a=-1);window.history.go(a)})}}function t(d){l.call(this,d);var c=this;this.protectedGetJSBridgeUrl=function(){return"Android"==com.kingdee.bos.qing.lapp.integration.EnvUtil.getOS()?"lightapp/third-app/missioncloud/android/cordova.js":"lightapp/third-app/missioncloud/ios/cordova.js"};this.protectedIsNavTitleShown=function(){return!1};this.protectedHideNavTitle=function(a){cordova.exec({},{},"MideaCommon","hideNav",[])};this.protectedCloseWebView=function(){cordova.exec({},
{},"MideaCommon","exit",[])};this.protectedGetPortrait=function(){return!0};this.protectedRotateUI=function(a,b){cordova.exec({},{},"MideaCommon","orientation",[a?1:0])};this.protectedSupportShare=function(){return!1};this.protectedSupportSwitchScreen=function(a){return!0};this.protectedInit=function(a){var b=document.createElement("script"),e=c.protectedGetJSBridgeUrl();document.addEventListener("deviceready",function(){c.protectedHideNavTitle();a&&a()});b.src=e;document.head.appendChild(b)}}function u(d){l.call(this,
d);var c=this.protectedMethod;this.protectedGetJSBridgeUrl=function(){return"lightapp/third-app/welink/hwh5-cloudonline.js"};this.protectedIsNavTitleShown=function(){return!0};this.protectedHideNavTitle=function(a){};this.protectedCloseWebView=function(){};this.protectedGetPortrait=function(){return!0};this.protectedRotateUI=function(a,b){};this.protectedSupportShare=function(){return!1};this.protectedSupportSwitchScreen=function(a){return!1};this.protectedInit=function(a){c.addPopstateEvent();a&&
a()}}function v(d){l.call(this,d);var c=this;this.protectedGetJSBridgeUrl=function(){return"lightapp/third-app/wxxcx/jweixin-1.3.2.js"};this.protectedIsNavTitleShown=function(){return!0};this.protectedHideNavTitle=function(a){};this.protectedCloseWebView=function(){wx.miniProgram.navigateBack()};this.protectedGetPortrait=function(){return!0};this.protectedRotateUI=function(a,b){return!1};this.protectedSupportShare=function(){return!1};this.protectedSupportSwitchScreen=function(a){return!1};this.protectedInit=
function(a){var b=document.createElement("script"),e=c.protectedGetJSBridgeUrl();b.onload=function(){c.protectedHideNavTitle();a&&a()};b.src=e;document.head.appendChild(b)}}function w(d){l.call(this,d);var c=this.protectedMethod;this.protectedGetJSBridgeUrl=function(){};this.protectedIsNavTitleShown=function(){return!0};this.protectedHideNavTitle=function(a){};this.protectedCloseWebView=function(){};this.protectedGetPortrait=function(){return!0};this.protectedRotateUI=function(a,b){};this.protectedSupportShare=
function(){return!1};this.protectedSupportSwitchScreen=function(a){return!1};this.protectedInit=function(a){c.addPopstateEvent();a&&a()}}function x(d){l.call(this,d);var c=this.protectedMethod,a=this;this.protectedGetJSBridgeUrl=function(){return"lightapp/third-app/jdy/qingjs.js"};this.protectedIsNavTitleShown=function(){return!0};this.protectedHideNavTitle=function(b){};this.protectedCloseWebView=function(){};this.protectedGetPortrait=function(){return!0};this.protectedRotateUI=function(b,e){XuntongJSBridge.call("rotateUI",
{orientation:b?"landscape":"portrait"},{})};this.protectedSupportShare=function(){return!1};this.protectedSupportSwitchScreen=function(b){return!1};this.protectedInit=function(b){var e=document.createElement("script"),h=a.protectedGetJSBridgeUrl();e.onload=function(){c.addPopstateEvent();b&&b()};e.src=h;document.head.appendChild(e)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&
(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.lapp&&(com.kingdee.bos.qing.lapp={});"undefined"==typeof com.kingdee.bos.qing.lapp.integration&&(com.kingdee.bos.qing.lapp.integration={});var f=com.kingdee.bos.qing.lapp.integration;f.SERVER_HOST_URL=null;f.APP_ID=null;f.AppType={};f.AppType.YZJ="yzj";f.AppType.DINGDING="dingding";f.AppType.DINGDING_OFFLINE="dingdingoffline";f.AppType.WXQYH="wxqyh";f.AppType.MISSIONCLOUD="missioncloud";f.AppType.WELINK="welink";f.AppType.WXXCX="wxxcx";
f.AppType.THIRDPARTY="thirdparty";f.AppType.JDY="jdy";var k=com.kingdee.bos.qing.Seer;f.EnvUtil=new function(){var d=this;var c=function(){var a=k.getUrlParamValue("appType"),b=com.kingdee.bos.qing.lapp.integration.AppType;if(null==a)return new n(b.YZJ);if("dingding"==a)return new p(b.DINGDING);if("dingdingoffline"==a)return new q(b.DINGDING_OFFLINE);if("wxqyh"==a)return new r(b.WXQYH);if("missioncloud"==a)return new t(b.MISSIONCLOUD);if("welink"==a)return new u(b.WELINK);if("wxxcx"==a)return new v(b.WXXCX);
if("thirdparty"==a)return new w(b.THIRDPARTY);if("jdy"==a)return new x(b.JDY);throw Error("Unknown app type.");}();this.getAppType=function(){return c.getAppType()};this.setEnv=function(a,b){com.kingdee.bos.qing.lapp.integration.SERVER_HOST_URL=a;com.kingdee.bos.qing.lapp.integration.APP_ID=b};this.setToken=function(a){com.kingdee.bos.qing.lapp.integration.TOKEN=a};this.isYzjApp=function(){return navigator.userAgent.match(/Qing\/.*;/)?!0:!1};this.isYzjDesktop=function(){return navigator.userAgent.match(/cloudhub/)?
!0:!1};this.getOS=function(){return navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?"iOS":navigator.userAgent.match(/Android/i)?"Android":"others"};this.isMobile=function(){var a=d.getOS();return"iOS"==a||"Android"==a};this.isNavTitleShown=function(){return"true"==k.getUrlParamValue("dev")?!1:c.protectedIsNavTitleShown()};this.isPreviewMode=function(){var a=!1;"true"==k.getUrlParamValue("isLappPreview")?a=!0:0<window.location.href.indexOf("lappPreviewEntrance")&&(a=!0);return a};this.isImmediateExecutionMode=
function(){return k.getUrlParamValue("time")?!0:!1};this.isPageAfterRefresh=function(){return k.getUrlParamValue("refresh")?!0:!1};this.isNeedShowCommentUi=function(){return k.getUrlParamValue("sharingTargetId")&&d.isYzjApp()?!0:!1};this.hideNavTitle=function(a){c.protectedHideNavTitle(a)};this.showNavTitle=function(){c.protectedShowNavTitle()};this.closeWebView=function(){c.protectedCloseWebView()};this.getPortrait=function(){var a=k.getUrlParamValue("portrait");return a?"true"==a:c.protectedGetPortrait()};
this.rotateUI=function(a,b){c.protectedRotateUI(a,b)};this.isDingDingOffline=function(){var a=com.kingdee.bos.qing.lapp.integration.AppType;return c.getAppType()==a.DINGDING_OFFLINE};this.isYzj=function(){var a=com.kingdee.bos.qing.lapp.integration.AppType;return c.getAppType()==a.YZJ};this.supportShare=function(){return c.protectedSupportShare()};this.supportSwitchScreen=function(a){return c.protectedSupportSwitchScreen(a)};this.init=function(a){c.protectedInit(a)}};var g=new function(){var d=this,
c=f.EnvUtil,a=["cardFullscreenShare"];this.initSupportEvent=function(){d.postMessageWhenImmediateExecution(g.TYPE_SUPPORT_EVENT,function(b){b.supportEvent=a;var e=com.kingdee.bos.qing.common.Util,h=window.location.href,m=e.decodeParamFromUrl(h,"publishId");e=e.decodeParamFromUrl(h,"time");b.iframeId=m+e})};this.postMessageWhenImmediateExecution=function(b,e){if(c.isImmediateExecutionMode()){var h={};h.from=g.FROM_LAPP_MESSAGE_EXECUTION;h.type=b;e(h);top.window.postMessage(JSON.stringify(h),"*");b==
g.TYPE_EXIT_CARD_FULLSCREEN&&window.postMessage(JSON.stringify(h),"*")}};this.addEventListenerWhenImmediateExecution=function(b,e){window.addEventListener("message",function(h){try{var m=JSON.parse(h.data)}catch(y){return}m.from==g.FROM_LAPP_MESSAGE_EXECUTION&&m.type==b&&e(m)})}};g.FROM_LAPP_MESSAGE_EXECUTION="LAPP_MESSAGE_EXECUTION";g.TYPE_SUPPORT_EVENT="supportEvent";g.TYPE_HEIGHT_ANNOUNCER="heightAnnouncer";g.TYPE_ACCESS_TOKEN="access_token";g.TYPE_LAYOUT="layout";g.TYPE_REQUEST_WIDGET_FULLSCREEN=
"requestWidgetFullscreen";g.TYPE_EXIT_WIDGET_FULLSCREEN="exitWidgetFullscreen";g.TYPE_EXIT_CARD_FULLSCREEN="exitCardFullscreen";g.TYPE_CARD_FULLSCREEN_SHARE="cardFullscreenShare";g.TYPE_REQUEST_CARD_FULLSCREEN="requestCardFullscreen";f.PostMessageUtils=g;f.RemoteFrameworkUtil=new function(){var d,c;this.setRemoteUrlCreator=function(a){d=a};this.setResourceUrlCreator=function(a){c=a};this.createRemoteUrl=function(a,b,e){return d?d(a,b):f.SERVER_HOST_URL+a+"/"+b+(e?"":".do")};this.createDownloadImageUrl=
function(a){return d?d("image","downloadImage")+"&path="+a:f.SERVER_HOST_URL+"image/downloadImage?path="+a};this.createResourceUrl=function(a){a=c?c(a):f.SERVER_HOST_URL+a;return a=a+"?timestamp="+(new Date).getTime()}}})();
//qingVersionTag: 20250324