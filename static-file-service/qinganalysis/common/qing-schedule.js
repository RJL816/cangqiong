var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,k,a){c instanceof String&&(c=String(c));for(var v=c.length,l=0;l<v;l++){var E=c[l];if(k.call(a,E,l,c))return{i:l,v:E}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,k,a){if(c==Array.prototype||c==Object.prototype)return c;c[k]=a.value;return c};$jscomp.getGlobal=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var k=0;k<c.length;++k){var a=c[k];if(a&&a.Math==Math)return a}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(c,k){var a=$jscomp.propertyToPolyfillSymbol[k];if(null==a)return c[k];a=c[a];return void 0!==a?a:c[k]};
$jscomp.polyfill=function(c,k,a,v){k&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(c,k,a,v):$jscomp.polyfillUnisolated(c,k,a,v))};$jscomp.polyfillUnisolated=function(c,k,a,v){a=$jscomp.global;c=c.split(".");for(v=0;v<c.length-1;v++){var l=c[v];if(!(l in a))return;a=a[l]}c=c[c.length-1];v=a[c];k=k(v);k!=v&&null!=k&&$jscomp.defineProperty(a,c,{configurable:!0,writable:!0,value:k})};
$jscomp.polyfillIsolated=function(c,k,a,v){var l=c.split(".");c=1===l.length;v=l[0];v=!c&&v in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var E=0;E<l.length-1;E++){var P=l[E];if(!(P in v))return;v=v[P]}l=l[l.length-1];a=$jscomp.IS_SYMBOL_NATIVE&&"es6"===a?v[l]:null;k=k(a);null!=k&&(c?$jscomp.defineProperty($jscomp.polyfills,l,{configurable:!0,writable:!0,value:k}):k!==a&&(void 0===$jscomp.propertyToPolyfillSymbol[l]&&(a=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[l]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(l):$jscomp.POLYFILL_PREFIX+a+"$"+l),$jscomp.defineProperty(v,$jscomp.propertyToPolyfillSymbol[l],{configurable:!0,writable:!0,value:k})))};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(k,a){return $jscomp.findInternal(this,k,a).v}},"es6","es3");
(function(){function c(){var m=null,G=0,O=c.SUNDAY,z=75600,A,D=null,F;this.setPeriodChangedListener=function(d){F=d};this.setPeriod=function(d){if(null===m||m===c.Period_Monthly||m===c.Period_Weekly||m===c.Period_Daily||m===c.Period_Custom)m=d,F&&F();else throw Error("IllegalArgument: "+m);};this.getPeriod=function(){return m};this.setDayAtMonthly=function(d){if(-31>d||31<d)throw Error("IllegalArgument: "+d);G=d};this.getDayAtMonthly=function(){return G};this.setWeekAtWeekly=function(d){if(0>d||128<=
d)throw Error("IllegalArgument: "+d);O=d};this.getWeekAtWeekly=function(){return O};this.setCron=function(d){A=d};this.getCron=function(){return A};this.setCronMsg=function(d){D=d};this.getCronMsg=function(){return D};this.setTimeOffset=function(d){if(0>d||86400<=d)throw Error("IllegalArgument: "+d);z=d};this.getTimeOffset=function(){return z};this.toJsonObject=function(){var d={};d.period=m;d.dayAtMonthly=G;d.weekAtWeekly=O;d.time=z;d.cron=A;return d};this.fromJsonObject=function(d){var M=d.period;
m=M?M:null;G=d.dayAtMonthly;O=d.weekAtWeekly;z=d.time;A=d.cron};this.copy=function(){var d=new c;d.setPeriod(m);d.setDayAtMonthly(G);d.setWeekAtWeekly(O);d.setTimeOffset(z);d.setCron(A);return d};this.toString=function(){var d;m?c.Period_Monthly==m?d=a.get("monthly","\u6bcf\u6708"):c.Period_Weekly==m?d=a.get("weekly","\u6bcf\u5468"):c.Period_Daily==m?d=a.get("daily","\u6bcf\u5929"):c.Period_Custom==m&&(d=a.get("customCron","\u81ea\u5b9a\u4e49")):d=a.get("noperiod","\u6682\u4e0d\u8bbe\u7f6e");return d}}
"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.schedule&&(com.kingdee.bos.qing.schedule={});var k=com.kingdee.bos.qing.schedule;k.QingSchedule=c;k.ScheduleSelector=function(){function m(b,e,u){this.toString=function(){return b};this.getPeriod=function(){return e};this.getSettingPane=function(){return u}}
function G(){var b=this,e,u,h=!1;this.getJqUi=function(){e||(e=$("<div>"),b.protectedInitUi(e));return e};this.model2Ui=function(t){u=t;h=!0;b.protectedModel2Ui(t);h=!1};this.protectedInitUi=function(t){throw Error("Override me.");};this.protectedModel2Ui=function(t){throw Error("Override me.");};this.protectedMethod={getScheduleModel:function(){return u},isCtrlEventStopped:function(){return h}}}function O(){G.call(this);var b=this.protectedMethod,e,u=new aa,h=new l,t,B;this.protectedInitUi=function(q){h.setText(a.get("cronExpression",
"\u8868\u8fbe\u5f0f"));var w=h.getJqUi();w.attr("title",a.get("cronExpression","\u8868\u8fbe\u5f0f"));var n=$("<div>");n.text(a.get("cronTipsMain","Cron\u8868\u8fbe\u5f0f\u75317\u90e8\u5206\u7ec4\u6210\uff0c\u6bcf\u90e8\u5206\u7a7a\u683c\u9694\u5f00\uff0c\u4f9d\u6b21\u5206\u522b\u4e3a\uff1a\u79d2\u3001\u5206\u3001\u65f6\u3001\u65e5\u3001\u6708\u3001\u661f\u671f\u51e0\u3001\u5e74\u3002\u5176\u4e2d\u6700\u540e\u4e00\u90e8\u5206\uff08\u5e74\uff09\u53ef\u4ee5\u7701\u7565\u3002"));var f=$("<table>");f.css({"border-collapse":"collapse"});
var g=H(f);g(a.get("cronTipsPartName","\u540d\u79f0"),a.get("cronTipsPartValue","\u5141\u8bb8\u503c"),a.get("cronTipsPartChars","\u5141\u8bb8\u7684\u7279\u6b8a\u5b57\u7b26")).css({"font-weight":"bold"});g(a.get("cronTipsSecond","\u79d2"),"0-59",", - / *");g(a.get("cronTipsMinute","\u5206"),"0-59",", - / *");g(a.get("cronTipsHour","\u65f6"),"0-23",", - / *");g(a.get("cronTipsDay","\u65e5"),"1-31",", - / * ?");g(a.get("cronTipsMonth","\u6708"),"1-12 or JAN-DEC",", - / *");g(a.get("cronTipsWeek","\u661f\u671f\u51e0"),
"1-7 or SUN-SAT",", - / * ?");g(a.get("cronTipsYear","\u5e74"),"1970-2099",", - / *");var C=$("<Ul>");C.css({"list-style":"none","padding-left":"10px"});var J=I(C);J(","+a.get("cronTipsChar1","\uff08\u9017\u53f7\uff09\u8868\u793a\u591a\u4e2a\u503c\u5e76\u5217\u3002"));J("-"+a.get("cronTipsChar2","\uff08\u6a2a\u6746\uff09\u8868\u793a\u8303\u56f4\u3002"));J("/"+a.get("cronTipsChar3","\uff08\u659c\u6746\uff09m/n\u8868\u793a\u4ecem\u5f00\u59cb\u6bcf\u6b21\u589e\u52a0n\u3002"));J("*"+a.get("cronTipsChar4",
"\uff08\u661f\u53f7\uff09\u8868\u793a\u6240\u6709\u53ef\u80fd\u3002"));J("?"+a.get("cronTipsChar5","\uff08\u95ee\u53f7\uff09\u8868\u793a\u5ffd\u7565\uff0c\u201c\u65e5\u201d\u548c\u201c\u661f\u671f\u51e0\u201d\u6709\u51b2\u7a81\uff0c\u5176\u4e2d\u4e00\u4e2a\u5fc5\u987b\u7528\u95ee\u53f7\u3002"));J=$("<div>");J.css({"font-weight":"bold"});J.text(a.get("cronTipsExample","\u793a\u4f8b\uff1a"));var ba=$("<table>");g=H(ba);g("0 15 23 * * ?",a.get("cronTipsExample1","\u6bcf\u592923\u70b915\u5206\u6267\u884c\u4e00\u6b21\u3002"));
g("0 0 13,18,21 * * ?",a.get("cronTipsExample2","\u6bcf\u592913\u70b9\u300118\u70b9\u300121\u70b9\u5404\u6267\u884c\u4e00\u6b21\u3002"));g("0 0 2 1 * ?",a.get("cronTipsExample3","\u6bcf\u67081\u53f7\u51cc\u66682\u70b9\u6267\u884c\u4e00\u6b21\u3002"));g("0 30 9-11 ? * WED,FRI",a.get("cronTipsExample4","\u6bcf\u5468\u4e09\u6bcf\u5468\u4e94\u76849:30\u300110:30\u300111:30\u5404\u6267\u884c\u4e00\u6b21\u3002"));g("0 0/10 * * * ?",a.get("cronTipsExample5","\u6bcf10\u5206\u949f\u6267\u884c\u4e00\u6b21\u3002"));
g=$("<div>");g.append(n);g.append($("<br>"));g.append(f);g.append(C);g.append(J);g.append(ba);n=new Q;n.setIconType(Q.ICON_TYPE_QUESTION);n.setTipsSize(600,500);n.setTipsHtml(g.html());f=new Q;f.setIconType(Q.ICON_TYPE_INFO);t=f;B=t.getJqUi();B.hide();r(q,w,10,5,50,23);r(q,n.getJqUi(),50,9,16,16);r(q,u.getJqUi(),70,5,160,23);r(q,B,235,11,16,16);u.addEditedListener(p)};var I=function(q){return function(w){var n=$("<li>");n.text(w);n.appendTo(q)}},H=function(q){var w=function(n,f){var g=$("<td>");g.css("padding",
"2px 10px");g.text(f);g.appendTo(n)};return function(n,f,g){var C=$("<tr>");C.css({"border-bottom":"1px solid #ddd"});w(C,n);w(C,f);g&&w(C,g);C.appendTo(q);return C}},p=function(q){b.isCtrlEventStopped()||(b.getScheduleModel().setCron($.trim(u.getText())),y());K()};this.protectedModel2Ui=function(q){u.setText(q.getCron())};var y=function(){b.getScheduleModel().setCronMsg(R.getCronCheckingTips());clearTimeout(e);e=setTimeout(function(){var q=b.getScheduleModel().getCron();"undefined"==typeof q||""==
q?(q=a.get("cronErrorNotEmpty","\u8bbe\u7f6e\u4e2d\u8868\u8fbe\u5f0f\u5fc5\u987b\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u683c\u5f0f\u5982 0 0 12 * * ?"),x(!0,q),b.getScheduleModel().setCronMsg(R.getCronErrorTips())):V?V(q,function(w){b.getScheduleModel().setCronMsg(null);for(var n=a.get("cronAnalysisResult","\u6700\u8fd15\u6b21\u8fd0\u884c\u65f6\u95f4"),f=0;f<w.length;f++)n=n+"<br/>"+w[f];x(!1,n);K()},function(w,n){var f=!1;2012001==w&&(n=a.get("cronError","\u53c2\u6570\u9519\u8bef\uff0c\u8868\u8fbe\u5f0f\u6709\u8bef\u3002"),
f=!0);x(!0,n);b.getScheduleModel().setCronMsg(R.getCronErrorTips());return f}):b.getScheduleModel().setCronMsg(null)},1E3)};this.showNoAllowedNullPrompt=function(){var q=a.get("cronErrorNotEmpty","\u8bbe\u7f6e\u4e2d\u8868\u8fbe\u5f0f\u5fc5\u987b\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u683c\u5f0f\u5982 0 0 12 * * ?");x(!0,q)};var x=function(q,w){var n=t.getJqUi();n.is(":hidden")&&n.show();q?W.background(n,"verified-wrong"):W.background(n,"verified-right");t.setTipsHtml(w)}}var z=$("<div>"),A=$("<div>"),D=new c,
F,d,M=new v,S=!1,ca=!0,X=!1,da=a.get("noperiod","\u6682\u4e0d\u8bbe\u7f6e"),ea=a.get("setperiod","\u8bbe\u7f6e\u5468\u671f"),V,Y,L=[new m(a.get("monthly","\u6bcf\u6708"),c.Period_Monthly,new function(){G.call(this);var b=this.protectedMethod,e=new E,u=new E,h=new fa,t=new T;this.protectedInitUi=function(p){var y=new l;y.setText(a.get("num","\u7b2c"));var x=new l;x.setText(a.get("day","\u5929"));var q=new l;q.setText(a.get("lastDay","\u6700\u540e\u4e00\u5929"));var w=new l;w.setText(a.get("time","\u65f6\u95f4:"));
r(p,e.getJqUi(),70,5,20,23);r(p,y.getJqUi(),90,5,60,23);r(p,h.getJqUi(),110,5,60,23);r(p,x.getJqUi(),175,5,60,23);r(p,u.getJqUi(),70,35,20,23);r(p,q.getJqUi(),90,35,60,23);r(p,w.getJqUi(),10,65,100,23);r(p,t.getJqUi(),70,65,160,23);h.setConstraint(1,31,1);h.setValue(1);p=new P;e.setChecked(!0);p.addElement(e);p.addElement(u);h.addValueChangedListener(B);p.addChangedListener(H);t.addSelectionListener(I)};this.protectedModel2Ui=function(p){var y=p.getDayAtMonthly();0<y?(e.setChecked(!0),h.setValue(parseInt(y))):
u.setChecked(!0);p=Z(p.getTimeOffset());t.setSelected(p[0],p[1],p[2])};var B=function(p,y,x){b.isCtrlEventStopped()||(b.getScheduleModel().setDayAtMonthly(x),K())},I=function(p){if(!b.isCtrlEventStopped()){var y=p.getHour();var x=p.getMinute();p=p.getSecond();y=3600*y+60*x+p;b.getScheduleModel().setTimeOffset(y);K()}},H=function(p,y){b.isCtrlEventStopped()||(e.isChecked()?(b.getScheduleModel().setDayAtMonthly(h.getValue()),h.setEnabled(!0)):(b.getScheduleModel().setDayAtMonthly(-1),h.setEnabled(!1)),
K())}}),new m(a.get("weekly","\u6bcf\u5468"),c.Period_Weekly,new function(){G.call(this);var b=this.protectedMethod,e=new N,u=new N,h=new N,t=new N,B=new N,I=new N,H=new N,p=new T,y;this.protectedInitUi=function(f){var g=new l;g.setText(a.get("week","\u661f\u671f:"));e.setText(a.get("monday","\u661f\u671f\u4e00"));u.setText(a.get("tuesday","\u661f\u671f\u4e8c"));h.setText(a.get("wednesday","\u661f\u671f\u4e09"));t.setText(a.get("thursday","\u661f\u671f\u56db"));B.setText(a.get("friday","\u661f\u671f\u4e94"));
I.setText(a.get("saturday","\u661f\u671f\u516d"));H.setText(a.get("sunday","\u661f\u671f\u65e5"));var C=new l;C.setText(a.get("time","\u65f6\u95f4:"));r(f,g.getJqUi(),10,5,200,23);r(f,C.getJqUi(),10,125,100,23);r(f,e.getJqUi(),70,5,100,23);r(f,u.getJqUi(),70,35,100,23);r(f,h.getJqUi(),70,65,100,23);r(f,t.getJqUi(),70,95,100,23);r(f,B.getJqUi(),160,5,100,23);r(f,I.getJqUi(),160,35,100,23);r(f,H.getJqUi(),160,65,100,23);r(f,p.getJqUi(),70,125,160,23);e.addCheckedListener(n);u.addCheckedListener(n);
h.addCheckedListener(n);t.addCheckedListener(n);B.addCheckedListener(n);I.addCheckedListener(n);H.addCheckedListener(n);p.addSelectionListener(w)};this.protectedModel2Ui=function(f){y=f.getWeekAtWeekly();q(e,c.MONDAY);q(u,c.TUESDAY);q(h,c.WEDNESDAY);q(t,c.THURSDAY);q(B,c.FRIDAY);q(I,c.SATURDAY);q(H,c.SUNDAY);f=Z(f.getTimeOffset());p.setSelected(f[0],f[1],f[2])};var x=function(f,g){return f.isChecked()?g:0},q=function(f,g){f.setChecked((y&g)==g)},w=function(f){if(!b.isCtrlEventStopped()){var g=f.getHour();
var C=f.getMinute();f=f.getSecond();g=3600*g+60*C+f;b.getScheduleModel().setTimeOffset(g);K()}},n=function(f,g){b.isCtrlEventStopped()||(f=x(e,c.MONDAY)|x(u,c.TUESDAY)|x(h,c.WEDNESDAY)|x(t,c.THURSDAY)|x(B,c.FRIDAY)|x(I,c.SATURDAY)|x(H,c.SUNDAY),b.getScheduleModel().setWeekAtWeekly(f),K())}}),new m(a.get("daily","\u6bcf\u5929"),c.Period_Daily,new function(){G.call(this);var b=this.protectedMethod,e=new T;this.protectedInitUi=function(h){var t=new l;t.setText(a.get("time","\u65f6\u95f4:"));r(h,t.getJqUi(),
10,5,100,23);r(h,e.getJqUi(),70,5,160,23);e.addSelectionListener(u)};this.protectedModel2Ui=function(h){h=Z(h.getTimeOffset());e.setSelected(h[0],h[1],h[2])};var u=function(h){if(!b.isCtrlEventStopped()){var t=h.getHour();var B=h.getMinute();h=h.getSecond();t=3600*t+60*B+h;b.getScheduleModel().setTimeOffset(t)}K()}})];this.getJqUi=function(){if(X)r(z,A,0,0,300,200);else{F=new E;d=new E;F.setText(da);d.setText(ea);var b=new P;b.addElement(F);b.addElement(d);b.addChangedListener(ja);r(z,F.getJqUi(),
0,0,250,23);r(z,d.getJqUi(),0,30,200,23);r(z,A,10,55,300,200)}ca&&L.push(new m(a.get("customCron","\u81ea\u5b9a\u4e49"),c.Period_Custom,new O));M.setItemModels(L);M.addSelectedChangedListener(ka);b=new l;b.setText(a.get("perid","\u5468\u671f:"));r(A,b.getJqUi(),10,5,200,23);r(A,M.getJqUi(),70,5,160,23);ha();z.append(A);return z};this.showCustomPanePrompt=function(){for(var b in L){var e=L[b];if(e.getPeriod()===c.Period_Custom){e.getSettingPane().showNoAllowedNullPrompt();break}}};this.setTimingButtonDisabled=
function(b){d.setEnabled(!b)};this.setTimingButtonTip=function(b){if(!(0<z.find(".schedule-selector-timing-button-tip").length)){var e=$("<div class='schedule-selector-timing-button-tip'>");e.text("("+b+")");e.css({color:"#c0c0c0","line-height":"22px"});r(z,e,83,31)}};this.removeTimingButtonTip=function(){var b=z.find(".schedule-selector-timing-button-tip");b&&b.remove()};this.setCronAnalysisFacade=function(b){V=b};this.setScheduleChangedListener=function(b){Y=b};var K=function(){Y&&Y()};this.setUnTimingButtonText=
function(b){da=b};this.setTimingButtonText=function(b){ea=b};this.allowCustomPeriod=function(b){ca=b};this.isOnlyPeriod=function(b){X=b};this.setSchedule=function(b){b&&(D=b,ha())};this.getSchedule=function(){return D};var ha=function(){D.setPeriodChangedListener(la);S=!0;var b=D.getPeriod(),e=null!=b;d&&d.setChecked(e);F&&F.setChecked(!e);X?(b=U(b)?U(b):L[0],D.setPeriod(b.getPeriod())):b=e?U(b):L[0];M.setSelected(b);ia();S=!1},U=function(b){for(var e=0;e<L.length;e++)if(L[e].getPeriod()==b)return L[e];
return null},ja=function(b,e){S||(F&&F.isChecked()?D.setPeriod(null):(b=M.getSelected().getPeriod(),D.setPeriod(b)))},ka=function(b,e,u){S||(b=u.getPeriod(),D.setPeriod(b))},la=function(){ia();K()},ia=function(){if(null!=D.getPeriod()){A.show();A.find(".sa-schedule-timing-period").detach();var b=U(D.getPeriod()).getSettingPane(),e=b.getJqUi();e.addClass("sa-schedule-timing-period");e.css({position:"absolute",top:"30px"});e.appendTo(A);b.model2Ui(D)}else A.hide()},r=function(b,e,u,h,t,B){e.css("position",
"absolute");e.css("left",u+"px");e.css("top",h+"px");e.css("width",t+"px");e.css("height",B+"px");e.appendTo(b)},Z=function(b){var e=parseInt(b/3600%24),u=parseInt(b/60%60);b=parseInt(b%60);return[e,u,b]}};var a,v,l,E,P,N,fa,T,aa,Q,W;(function(){var m=com.kingdee.bos.qing.ui.component;v=m.ComboBox;l=m.Label;E=m.RadioButton;P=m.RadioButtonGroup;N=m.CheckBox;fa=m.Spinner;T=m.TimeSelector;aa=m.TextField;Q=m.HelpIcon;W=m.Icons;m=com.kingdee.bos.qing.framework.common;a=m.MultilanguageManager.createPackageAccessor(k)})();
c.Period_Monthly="Monthly";c.Period_Weekly="Weekly";c.Period_Daily="Daily";c.Period_Custom="Custom";c.SUNDAY=1;c.MONDAY=2;c.TUESDAY=4;c.WEDNESDAY=8;c.THURSDAY=16;c.FRIDAY=32;c.SATURDAY=64;var R=new function(){this.getCronCheckingTips=function(){return a.get("cronInCheck","\u8868\u8fbe\u5f0f\u6b63\u5728\u89e3\u6790\u6821\u9a8c\u4e2d\u3002")};this.getCronErrorTips=function(){return a.get("cronCheckError","\u8868\u8fbe\u5f0f\u6709\u8bef\u3002")}};k.QingScheduleUtil=R})();
//qingVersionTag: 20250324