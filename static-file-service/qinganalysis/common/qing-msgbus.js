(function(){function x(){var b=[],c;this.setReceivers=function(a){b=a};this.setMessage=function(a){c=a};this.toJsonObject=function(){var a={};a.message=c.toJsonObject();a.receiverIds=b;return a}}function y(){p.call(this)}function z(){p.call(this);var b;this.getExternalFilterItem=function(){return b};var c=this.fromJsonObject;this.fromJsonObject=function(a){c(a);if(a=a.externalFilterItem){var e=a.type;e==k.FILTER_TYPE_DISCRETE?b=new A:e==k.FILTER_TYPE_DATERANGE?b=new B:e==k.FILTER_TYPE_CONTINUOUS&&
(b=new C);b&&b.fromJsonObject(a)}}}function p(){var b,c;this.setMsgType=function(a){b=a};this.getMsgType=function(){return b};this.setContent=function(a){c=a};this.getContent=function(){return c};this.toJsonObject=function(){var a={};a.msgType=b;a.content=com.kingdee.bos.qing.common.Base64Util.encode(c);return a};this.fromJsonObject=function(a){b=a.msgType;(a=a.content)&&(c=com.kingdee.bos.qing.common.Base64Util.decode(a))}}function k(){var b,c;this.getFieldName=function(){return b};this.getFilterType=
function(){return c};this.fromJsonObject=function(a){b=a.fieldName;c=a.type}}function A(){k.call(this);var b=[];this.getValues=function(){return b};this.isSelectAll=function(){return 0==b.length};var c=this.fromJsonObject;this.fromJsonObject=function(a){c(a);a.values&&(b=a.values)}}function B(){k.call(this);var b=0,c=0;this.getStartDate=function(){return b};this.getEndDate=function(){return c};var a=this.fromJsonObject;this.fromJsonObject=function(e){a(e);b=e.startDate?e.startDate:0;c=e.endDate?e.endDate:
0}}function C(){k.call(this);var b,c;this.getFloor=function(){return b};this.getCeiling=function(){return c};var a=this.fromJsonObject;this.fromJsonObject=function(e){a(e);b=e.floor;c=e.ceiling}}function D(b,c,a,e){u.call(this,b,c,a,e);var q=this.protectedMethod;this.setShowBlocking(!1);this.sendMsg=function(l){l={msgPack:JSON.stringify(l.toJsonObject())};q.remote("sendMsg",l)}}function E(){v.call(this);var b;this.getRemoteUrl=function(){return b};this.setRemoteUrl=function(c){b=c}}"undefined"==typeof com&&
(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.msgbus&&(com.kingdee.bos.qing.msgbus={});var m=com.kingdee.bos.qing.msgbus;m.MsgBus=new function(){var b=this,c,a=!1,e={};this.init=function(d){a||(c=new E,c.setRemoteUrl(d),w.subscribeChannel("QING_MSG_BUS",l),a=!0)};this.sendMsg=function(d,f,g){var h=[];h.push(d);b.batchSendMsg(h,
f,g)};this.batchSendMsg=function(d,f,g){a?q(d,f,g,!1):console.log("qing msgbus uninitialized")};var q=function(d,f,g,h){var n=new D(c,function(){},function(){h||q(d,f,g,!0);return!0}),r=new p;r.setContent(f);r.setMsgType(g);var t=new x;t.setReceivers(d);t.setMessage(r);n.sendMsg(t)};this.focus=function(d,f){var g=e[d];if(g){for(var h=!1,n=0;n<g.length;n++)if(g[n]==f){h=!0;break}h||g.push(f)}else g=[],g.push(f);e[d]=g};this.unFocus=function(d){e[d]=null};this.unFocus=function(d,f){if(d=e[d]){for(var g=
-1,h=0;h<d.length;h++)if(d[h]==f){g=h;break}d.splice(g,1)}};var l=function(d){var f=JSON.parse(d);d="filterAction"==f.msgType?new z:"refreshAction"==f.msgType?new y:new p;d.fromJsonObject(f);f=d.getMsgType();if(f=e[f])for(var g=0;g<f.length;g++){var h=f[g];h&&h(d)}}};m.ExternalFilterItem=k;var u,v,w;(function(){var b=com.kingdee.bos.qing.framework.common;u=b.AbstractFacade;v=b.AbstractRemoteCall;w=b.RemoteFramework})();m.MsgBus.MESSAGE_TYPE_FILTERACTION="filterAction";m.MsgBus.MESSAGE_TYPE_REFRESHACTION=
"refreshAction";m.MsgBus.MESSAGE_TYPE_CUSTOMEVENT="customEvent";k.FILTER_TYPE_DISCRETE="discrete";k.FILTER_TYPE_DATERANGE="dateRange";k.FILTER_TYPE_CONTINUOUS="continuous"})();
//qingVersionTag: 20250324