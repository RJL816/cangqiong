var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(ea,oa,ya){if(ea==Array.prototype||ea==Object.prototype)return ea;ea[oa]=ya.value;return ea};
$jscomp.getGlobal=function(ea){ea=["object"==typeof globalThis&&globalThis,ea,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var oa=0;oa<ea.length;++oa){var ya=ea[oa];if(ya&&ya.Math==Math)return ya}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(ea,oa){var ya=$jscomp.propertyToPolyfillSymbol[oa];if(null==ya)return ea[oa];ya=ea[ya];return void 0!==ya?ya:ea[oa]};$jscomp.polyfill=function(ea,oa,ya,qa){oa&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(ea,oa,ya,qa):$jscomp.polyfillUnisolated(ea,oa,ya,qa))};
$jscomp.polyfillUnisolated=function(ea,oa,ya,qa){ya=$jscomp.global;ea=ea.split(".");for(qa=0;qa<ea.length-1;qa++){var Ca=ea[qa];if(!(Ca in ya))return;ya=ya[Ca]}ea=ea[ea.length-1];qa=ya[ea];oa=oa(qa);oa!=qa&&null!=oa&&$jscomp.defineProperty(ya,ea,{configurable:!0,writable:!0,value:oa})};
$jscomp.polyfillIsolated=function(ea,oa,ya,qa){var Ca=ea.split(".");ea=1===Ca.length;qa=Ca[0];qa=!ea&&qa in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var Ma=0;Ma<Ca.length-1;Ma++){var Na=Ca[Ma];if(!(Na in qa))return;qa=qa[Na]}Ca=Ca[Ca.length-1];ya=$jscomp.IS_SYMBOL_NATIVE&&"es6"===ya?qa[Ca]:null;oa=oa(ya);null!=oa&&(ea?$jscomp.defineProperty($jscomp.polyfills,Ca,{configurable:!0,writable:!0,value:oa}):oa!==ya&&(void 0===$jscomp.propertyToPolyfillSymbol[Ca]&&(ya=1E9*Math.random()>>>0,
$jscomp.propertyToPolyfillSymbol[Ca]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(Ca):$jscomp.POLYFILL_PREFIX+ya+"$"+Ca),$jscomp.defineProperty(qa,$jscomp.propertyToPolyfillSymbol[Ca],{configurable:!0,writable:!0,value:oa})))};$jscomp.polyfill("Array.prototype.fill",function(ea){return ea?ea:function(oa,ya,qa){var Ca=this.length||0;0>ya&&(ya=Math.max(0,Ca+ya));if(null==qa||qa>Ca)qa=Ca;qa=Number(qa);0>qa&&(qa=Math.max(0,Ca+qa));for(ya=Number(ya||0);ya<qa;ya++)this[ya]=oa;return this}},"es6","es3");
$jscomp.typedArrayFill=function(ea){return ea?ea:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Math.log10",function(ea){return ea?ea:function(oa){return Math.log(oa)/Math.LN10}},"es6","es3");
$jscomp.findInternal=function(ea,oa,ya){ea instanceof String&&(ea=String(ea));for(var qa=ea.length,Ca=0;Ca<qa;Ca++){var Ma=ea[Ca];if(oa.call(ya,Ma,Ca,ea))return{i:Ca,v:Ma}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(ea){return ea?ea:function(oa,ya){return $jscomp.findInternal(this,oa,ya).v}},"es6","es3");
(function(){function ea(){var Na,Ka;(function(){window.addEventListener("message",function(na){if(na.origin==Na){na=na.data;if("string"==typeof na&&"com.kingdee.qing.GisMap"==na.substr(0,23)){na=na.substr(23);try{var ra=JSON.parse(na)}catch(Ea){}}ra&&Ka(ra.who,ra.what,ra.data)}})})();this.setTrustHost=function(na){Na=na};this.setResponder=function(na){Ka=na};this.postMessage=function(na,ra,Ea,va,ka){var ma={};ma.who=Ea;ma.what=va;ma.data=ka;Ea="com.kingdee.qing.GisMap"+JSON.stringify(ma);na.postMessage(Ea,
ra)}}function oa(){function Na(){var Ea,va,ka,ma,sa,Aa=[];this.setCoordinate=function(ta,Fa){Ea=ta;va=Fa};this.getLongitude=function(){return Ea};this.getLatitude=function(){return va};this.setColor=function(ta){ka=ta};this.getColor=function(){return ka};this.setSizeRatio=function(ta){ma=ta};this.getSizeRatio=function(){return ma};this.setCaption=function(ta){sa=ta};this.getCaption=function(){return sa};this.addInfo=function(ta,Fa){Aa.push([ta,Fa])};this.getInfoCount=function(){return Aa.length};
this.getInfoKey=function(ta){return Aa[ta][0]};this.getInfoValue=function(ta){return Aa[ta][1]}}var Ka=this,na,ra=[];this.setUsage=function(Ea){na=Ea};this.getUsage=function(){return na};this.addPoint=function(){var Ea=new Na;ra.push(Ea);return Ea};this.getPointCount=function(){return ra.length};this.getPoint=function(Ea){return ra[Ea]};this.toJsonObject=function(){for(var Ea=[],va=0;va<ra.length;va++){var ka=ra[va],ma={};ma.lon=ka.getLongitude();ma.lat=ka.getLatitude();ma.caption=ka.getCaption();
ma.color=ka.getColor();ma.size=ka.getSizeRatio();for(var sa=[],Aa=0;Aa<ka.getInfoCount();Aa++)sa.push([ka.getInfoKey(Aa),ka.getInfoValue(Aa)]);ma.info=sa;Ea.push(ma)}va={};va.usage=na;va.points=Ea;return va};this.fromJsonObject=function(Ea){na=Ea.usage;Ea=Ea.points;for(var va=0;va<Ea.length;va++){var ka=Ea[va],ma=Ka.addPoint();ma.setCoordinate(ka.lon,ka.lat);ma.setCaption(ka.caption);ma.setColor(ka.color);ma.setSizeRatio(ka.size);ka=ka.info;for(var sa=0;sa<ka.length;sa++)ma.addInfo(ka[sa][0],ka[sa][1])}}}
function ya(){function Na(ha,za,Ia){var Sa=this;this.getX=function(){return ha};this.getY=function(){return za};this.getRadius=function(){return Ia};this.updateTerritory=function(Pa,fa,ca,wa){Sa.getLeft=function(){return Pa};Sa.getRight=function(){return fa};Sa.getTop=function(){return ca};Sa.getBottom=function(){return wa}}}var Ka=this,na,ra,Ea,va,ka,ma,sa=-1,Aa;this.setContext=function(ha,za,Ia){na=ha;ra=za;Ea=Ia;Ka.protectedInterestContext(za,Ia)};this.protectedInterestContext=function(ha,za){};
this.setSelectable=function(ha){Aa=ha?[]:null};this.setPaintableModel=function(ha){ka=ha};this.setCoordinateTransformer=function(ha){va=ha};this.draw=function(){ma=[];for(var ha=0;ha<ka.getPointCount();ha++){var za=ka.getPoint(ha),Ia=za.getLongitude(),Sa=za.getLatitude();za=Ka.protectedConfirmRadius(za);Ia=va(Ia,Sa);Ia=new Na(Ia[0],Ia[1],za);Ka.protectedConfirmTerritory(Ia);ma.push(Ia)}ta()};this.movingTo=function(ha,za,Ia){if(ma&&(ha=Fa(ha,za),ha!=sa)){sa=ha;if(0<=sa){var Sa=ka.getPoint(sa);var Pa=
ma[sa];var fa=Pa.getLeft();var ca=Pa.getRight();var wa=Pa.getTop();Pa=Pa.getBottom()}Ia(Sa,fa,ca,wa,Pa);ta()}};this.clickingAt=function(ha,za,Ia){if(ma&&Aa){ha=Fa(ha,za);if(0<=ha)if(Aa[ha]){delete Aa[ha];za=!1;for(ha=0;ha<Aa.length;ha++)if(Aa[ha]){za=!0;break}!za&&(Aa=[])}else Aa=[],Aa[ha]=!0;else Aa=[];ta();za=[];for(ha=0;ha<Aa.length;ha++)Aa[ha]&&za.push(ka.getPoint(ha).getCaption());Ia(za)}};this.isAnySelected=function(){return(Aa?!0:!1)&&0<Aa.length};this.protectedConfirmRadius=function(ha){throw Error("Implement");
};this.protectedConfirmTerritory=function(ha){throw Error("Implement");};var ta=function(){na.clearRect(0,0,ra,Ea);for(var ha=0;ha<ka.getPointCount();ha++)ha==sa||la(ha)||Ka.protectedPaintOneMark(na,ha);if(Aa)for(ha=0;ha<Aa.length;ha++)ha!=sa&&la(ha)&&Ka.protectedPaintOneMark(na,ha);0<=sa&&Ka.protectedPaintOneMark(na,sa,!0)};this.protectedPaintOneMark=function(ha,za,Ia){throw Error("Implement");};var Fa=function(ha,za){for(var Ia=-1,Sa=32767,Pa=0;Pa<ma.length;Pa++){var fa=Ka.protectedCheckNearTo(ha,
za,ma[Pa]);0<=fa&&fa<Sa&&(Sa=fa,Ia=Pa)}return Ia};this.protectedCheckNearTo=function(ha,za,Ia){throw Error("Implement");};var la=function(ha){return(Aa?!0:!1)&&Aa[ha]};this.protectedMethod={getPaintingMark:function(ha){return ma[ha]},getColor:function(ha){return Ka.isAnySelected()&&!la(ha)?"rgba(153, 153, 153, 0.7)":ka.getPoint(ha).getColor()},isMarkSelected:la}}function qa(){ya.call(this);var Na=this.protectedMethod,Ka;this.protectedInterestContext=function(na,ra){Ka=Math.max(6,Math.min(30,parseInt(.08*
Math.min(na,ra))))};this.protectedConfirmRadius=function(na){na=na.getSizeRatio();return"number"==typeof na?parseInt(na*Ka+6):10};this.protectedConfirmTerritory=function(na){var ra=na.getX()-na.getRadius(),Ea=na.getX()+na.getRadius(),va=na.getY()-na.getRadius(),ka=na.getY()+na.getRadius();na.updateTerritory(ra,Ea,va,ka)};this.protectedPaintOneMark=function(na,ra,Ea){var va=Na.getPaintingMark(ra),ka=va.getRadius(),ma=Na.isMarkSelected(ra);if(ma||Ea)ka+=4;na.fillStyle=Na.getColor(ra);na.beginPath();
na.arc(va.getX(),va.getY(),ka,0,2*Math.PI);na.fill();if(ma||Ea)na.fill(),na.fill()};this.protectedCheckNearTo=function(na,ra,Ea){return Ea.getLeft()<na&&na<Ea.getRight()&&Ea.getTop()<ra&&ra<Ea.getBottom()?Math.sqrt(Math.pow(na-Ea.getX(),2)+Math.pow(ra-Ea.getY(),2)):-1}}function Ca(){ya.call(this);var Na=.8*Math.PI,Ka=.2*Math.PI,na=.5*Math.PI,ra=this.protectedMethod;this.protectedConfirmRadius=function(va){return 10};this.protectedConfirmTerritory=function(va){var ka=va.getX(),ma=Ea(va),sa=ka-va.getRadius();
ka+=va.getRadius();ma-=va.getRadius();var Aa=va.getY();va.updateTerritory(sa,ka,ma,Aa)};this.protectedPaintOneMark=function(va,ka,ma){var sa=ra.getPaintingMark(ka),Aa=sa.getRadius();if(ra.isMarkSelected(ka)||ma)Aa+=4;ma=sa.getX();var ta=sa.getY()-1.6*Aa;va.fillStyle=ra.getColor(ka);va.beginPath();va.arc(ma,ta,parseInt(.3*Aa),na,na+.001,!0);va.lineTo(sa.getX(),sa.getY());va.arc(ma,ta,Aa,Na,Ka);va.lineTo(sa.getX(),sa.getY());va.closePath();va.fill()};this.protectedCheckNearTo=function(va,ka,ma){if(ma.getLeft()<
va&&va<ma.getRight()&&ma.getTop()<ka&&ka<ma.getBottom()){var sa=ma.getX();ma=Ea(ma);return Math.sqrt(Math.pow(va-sa,2)+Math.pow(ka-ma,2))}return-1};var Ea=function(va){var ka=va.getY();va=va.getRadius();return ka-1.6*va}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.chart&&(com.kingdee.bos.qing.chart=
{});"undefined"==typeof com.kingdee.bos.qing.chart.gis&&(com.kingdee.bos.qing.chart.gis={});var Ma=com.kingdee.bos.qing.chart.gis;Ma.AbstractGisMap=function(){var Na=this,Ka,na,ra,Ea=!1,va,ka=function(){Ka||(Ka=new ea,Ka.setTrustHost(Aa()),Ka.setResponder(function(la,ha,za){if(la==ta())switch(ha){case "selectable":Ea=za;va&&(va.setSelectable(Ea),Na.protectedRepaint(va));break;case "customInitScript":ma(za);break;case "paintableData":la=new oa,la.fromJsonObject(za),va="BUBBLE"==la.getUsage()?new qa:
new Ca,va.setSelectable(Ea),va.setPaintableModel(la),Na.protectedPaintWithData(va)}}));return Ka};this.protectedRepaint=function(){throw Error("Implement");};var ma=function(la){Na.protectedGetCustomScriptTarget(function(ha,za){try{la="var _target = arguments[0]; var _helper = arguments[1];"+la,(new Function(la))(ha,za)}catch(Ia){console.warn("Run custom-init-script error. "+Ia)}})};this.protectedGetCustomScriptTarget=function(la){throw Error("Implement");};this.protectedPaintWithData=function(la){throw Error("Implement");
};var sa=function(la,ha){ka().postMessage(window.parent,Aa(),ta(),la,ha)},Aa=function(){!na&&(na=Fa("trust"));return na},ta=function(){!ra&&(ra=Fa("who"));return ra},Fa=function(la){var ha=window.location.search;var za=la+"=";for(la=-1;!(la=ha.indexOf(za,la+1),0>=la);){var Ia=ha.charAt(la-1);if("&"==Ia||"?"==Ia)break}-1!=la?(la+=za.length,za=ha.indexOf("&",la),za=-1==za?ha.length:za,ha=window.decodeURIComponent(ha.substring(la,za))):ha=null;return ha};this.protectedMethod={isSelectable:function(){return Ea},
getParamSkin:function(){return Fa("skin")},getParamInitLongitude:function(){return Fa("initLon")},getParamInitLatitude:function(){return Fa("initLat")},getParamInitZoom:function(){return Fa("initZoom")},sendPreparedOpportunity:function(){sa("prepared",null)},sendDesigntimeInitialization:function(la,ha,za){var Ia={};Ia.longitude=la;Ia.latitude=ha;Ia.zoom=za;sa("designtimeInit",Ia)},sendSelected:function(la){var ha={};ha.selected=la;sa("selected",ha)}}};Ma.GISChartGlobal=new function(){var Na=-1,Ka=
{},na,ra,Ea;this.isServerConfigLoaded=function(){return ra?!0:!1};this.setServerConfig=function(ma,sa){ra=ma;Ea=sa;na&&na.setTrustHost(ra)};this.createFlowId=function(ma){-1==Na&&(Na=0,va());var sa="gischart"+Na++;Ka[sa]=ma;return sa};this.makeIframeUrl=function(ma,sa,Aa,ta,Fa){var la=ra+Ea;var ha=ka("","trust",window.location.protocol+"//"+window.location.host);ha=ka(ha,"who",ma);ha=ka(ha,"skin",sa?sa:"white");ha=ka(ha,"initLon",Aa);ha=ka(ha,"initLat",ta);ha=ka(ha,"initZoom",Fa);return la+ha};this.createPaintableModel=
function(){return new oa};this.sendSelectableState=function(ma,sa,Aa){na.postMessage(ma,ra,sa,"selectable",Aa)};this.sendCustomScript=function(ma,sa,Aa){na.postMessage(ma,ra,sa,"customInitScript",Aa)};this.sendPaintableData=function(ma,sa,Aa){na.postMessage(ma,ra,sa,"paintableData",Aa)};var va=function(){na=new ea;ra&&na.setTrustHost(ra);na.setResponder(function(ma,sa,Aa){for(var ta in Ka){var Fa=Ka[ta];Fa.isStillAlive()||delete Ka[ta]}if(ma=Fa=Ka[ma])switch(sa){case "prepared":ma.recivePreparedOpportunity();
break;case "designtimeInit":ma.reciveDesigntimeInitialization(Aa.longitude,Aa.latitude,Aa.zoom);break;case "selected":ma.reciveSelecteds(Aa.selected)}})},ka=function(ma,sa,Aa){ma+=0==ma.length?"?":"&";return ma=ma+sa+"="+window.encodeURIComponent(Aa)}}})();(function(){function ea(){function W(){var v,R,x,A;this.getTitle=function(){return v};this.getBar=function(){return x};this.isStaticText=function(){return A};this.getStyle=function(){return R};this.isVisible=function(){return R?!R.isHide():!0};this.fromJsonObject=function(Q,T){v=Q.title;var Y=Q.bar;x=Y?Z.createFromJson(Y):null;((Y=Q.style)||0==Y)&&(R=T[Y]);A=Q.staticText?!0:!1}}function ba(){var v=[],R,x,A,Q;this.getCellCount=function(){return v.length};this.getCell=function(T){return v[T]};this.getStyle=
function(){return R};this.getLinkageKeywordValues=function(){return x};this.getAffectionSrcValue=function(){return A};this.getAffectionSrcText=function(){return Q?Q:A};this.fromJsonObject=function(T,Y){for(var r=T.cells,e=0;e<r.length;e++){var h=new da;h.fromJsonObject(r[e],Y);v.push(h)}((r=T.style)||0==r)&&(R=Y[r]);x=T.linkage;A=T.affectionSrcValue;Q=T.affectionSrcText}}function da(){var v,R,x;this.getContent=function(){return v};this.getNumber=function(){return R};this.getStyle=function(){return x};
this.fromJsonObject=function(A,Q){v=A.content;var T=A.number;R=T?parseFloat(T):null;((A=A.style)||0==A)&&(x=Q[A])}}function Z(){var v,R,x,A,Q,T,Y,r;this.getScopeMin=function(){return v};this.getScopeMax=function(){return R};this.getPositiveColor=function(){return x};this.getNegativeColor=function(){return A?A:x};this.getCrossAxisColor=function(){return Q};this.getRtZeroPosRatio=function(){void 0===r&&(r=null,!v&&0!==v||!R&&0!==R||(T=Math.min(v,R),Y=Math.max(v,R),0<=T?T=r=0:0>=Y?(r=1,Y=0):r=-T/(Y-
T)));return r};this.getRtValuePosRatio=function(e){e=Math.max(T,Math.min(Y,e));return r+e/(Y-T)};this.fromJsonObject=function(e){var h=e.scopeMin;v=h?parseFloat(h):null;R=(h=e.scopeMax)?parseFloat(h):null;x=e.mainColor;A=e.negativeColor;Q=e.crossAxisColor}}var X,N,S,C;this.getColumnCount=function(){return X.length};this.getColumn=function(v){return X[v]};this.getRowCount=function(){return N.length};this.getRow=function(v){return N[v]};this.getCustomHeader=function(){return S};this.getCustomFooter=
function(){return C};this.getPrioritizedStyle=function(v,R,x,A,Q){v=[x,R,v];for(R=0;R<v.length;R++)if(x=(x=v[R])?x.getStyle():null){var T=x[A]();if(void 0!==T)return Q?x:T}return null};this.fromJsonObject=function(v){var R=[],x=v.styles;if(x)for(var A=0;A<x.length;A++){var Q=new oa;Q.fromJsonObject(x[A]);R.push(Q)}X=[];x=v.columns;for(A=0;A<x.length;A++)Q=new W,Q.fromJsonObject(x[A],R),X.push(Q);N=[];x=v.rows;for(A=0;A<x.length;A++)Q=new ba,Q.fromJsonObject(x[A],R),N.push(Q);S=null;if(A=v.header)S=
new ba,S.fromJsonObject(A,R);C=null;if(v=v.footer)C=new ba,C.fromJsonObject(v,R)};Z.createFromJson=function(v){var R=new Z;R.fromJsonObject(v);return R}}function oa(){var W,ba,da,Z,X,N,S,C,v,R,x,A;this.getFontFamily=function(){return W};this.getFontSize=function(){return ba};this.getBold=function(){return da};this.getColor=function(){return Z};this.getBackground=function(){return X};this.isBackgroundImage=function(){return C?!0:!1};this.getBackgroundImageRect=function(){return C.myRect};this.getBackgroundImage=
function(Y){C&&C.myState?Y("error"==C.myState?null:C):v&&v.push(Y)};this.isBackgroundIcon=function(){return R?!0:!1};this.getBackgroundIconName=function(){return R};this.isBackgroundIconBefore=function(){return"before"==x};this.isBackgroundIconAfter=function(){return"after"==x};this.getBackgroundIconColor=function(){return A};this.getAlign=function(){return N};this.isHide=function(){return S};this.fromJsonObject=function(Y){W=Y.fontFamily;ba=Y.fontSize;da=Y.bold;Z=Y.color;X=Y.background;if(X&&0==
X.indexOf("qing-img|")){v=[];C=new Image;C.onload=Q;C.onerror=T;var r=X.substring(9);var e=r;if(oa.REG_RECT_CHECKER.test(r)){e=r.indexOf("|");var h=r.substring(0,e);e=r.substring(e+1);r=h.split(",");for(h=0;h<r.length;h++)r[h]=parseInt(r[h]);C.myRect=r}0==e.indexOf("imglib://")&&(e=Qa.parseUrl(e));C.setAttribute("src",e);e=!0}else e=!1;e||X&&0==X.indexOf("qing-icon|")&&(e=X.substring(10).split("|"),x=e[0],R=e[1],A=e[2]);N=Y.align;S=Y.hide?!0:!1};var Q=function(Y){C.myState="success";for(Y=0;Y<v.length;Y++)(0,v[Y])(C);
v=null},T=function(Y){C.myState="error";for(Y=0;Y<v.length;Y++)(0,v[Y])(null);v=null}}function ya(){var W,ba,da,Z,X,N,S;this.setCategoryTitle=function(C){W=C};this.getCategoryTitle=function(){return W};this.setSeriesFieldTitle=function(C){ba=C};this.getSeriesFieldTitle=function(){return ba};this.setCategories=function(C){da=C};this.getCategories=function(){return da};this.setSeries=function(C){Z=C};this.getSeries=function(){return Z};this.setScopes=function(C){X=C};this.getScopes=function(){return X};
this.setPaintableLines=function(C){N=C};this.getPaintableLines=function(){return N};this.setGuidelines=function(C){S=C};this.getGuidelines=function(){return S};this.getNode=function(C,v){return Z[C].getNodes()[v]};this.merge=function(C){var v=C.getCategoryTitle();v&&(W=v);(v=C.getSeriesFieldTitle())&&(ba=v);(v=C.getCategories())&&0<v.length&&(da=v);var R=C.getSeries();if(R&&0<R.length)for(Z||(Z=[]),v=0;v<R.length;v++){var x=R[v],A=Z[v];A||(A=new Ca,Z[v]=A);A.merge(x)}if((C=C.getScopes())&&0<C.length)for(X||
(X=[]),v=0;v<C.length;v++)X[v]=C[v]}}function qa(){var W,ba,da,Z,X;this.setLabel=function(N){W=N};this.getLabel=function(){return W};this.getDisplayLabel=function(){var N=W;Z&&(N+=" (+)");return N};this.setValue=function(N){ba=N};this.getValue=function(){return ba};this.getExecutableValue=function(){return void 0===ba?W:ba};this.setColor=function(N){da=N};this.getColor=function(){return da};this.setAsParent=function(N){Z=N};this.isAsParent=function(){return Z};this.setStyle=function(N){X=N};this.getStyle=
function(){return X};this.merge=function(N){(N=N.getColor())&&(da=N)}}function Ca(){var W,ba,da,Z,X,N,S=0;this.setName=function(C){W=C};this.getName=function(){return W};this.setNodes=function(C){ba=C};this.getNodes=function(){return ba};this.setColor=function(C){da=C};this.getColor=function(){return da};this.setFormatString=function(C){Z=C};this.getFormatString=function(){return Z};this.setSeriesFieldValueText=function(C,v){N=C;X=v};this.getSeriesFieldValue=function(){return N};this.getSeriesFieldText=
function(){return X};this.getExecutableSeriesFieldValue=function(){return N?N:X};this.setAxisIndex=function(C){S="number"==typeof C?C:0};this.getAxisIndex=function(){return S};this.merge=function(C){var v=C.getColor();v&&(da=v);(v=C.getName())&&(W=v);v=C.getSeriesFieldValue();C=C.getSeriesFieldText();if(v||C)N=v,X=C}}function Ma(){var W,ba,da;this.setValue=function(Z){W=Z};this.getValue=function(){return W};this.setText=function(Z){ba=Z};this.getText=function(){return ba};this.setColor=function(Z){da=
Z};this.getColor=function(){return da}}function Na(){var W,ba,da;this.setXAxisValue=function(Z){W=Z};this.getXAxisValue=function(){return W};this.setYAxisValue=function(Z){ba=Z};this.getYAxisValue=function(){return ba};this.setZAxisValue=function(Z){da=Z};this.getZAxisValue=function(){return da}}function Ka(){var W=this,ba=null,da=null,Z=null,X=null,N=null,S=null,C=null,v=null,R,x,A,Q=!1,T=!1,Y=!0,r,e,h=!1,p,a,l,b=0,g=0;this.fromJsonObject=function(u){Z=parseFloat(u.min);X=parseFloat(u.max);R=u.title;
x=u.formatString;A=u.color;Y=!0;h=!1};this.setAppointedMinMax=function(u,k){if(null!=u&&null!=k){var D=Math.min(u,k);k=Math.max(u,k);u=D}if(ba!==u||da!==k)ba=u,da=k,T=null!=da&&0>da||null!=ba&&0<ba,Y=!0,h=!1};this.appointMinMax=function(u,k){(u||0===u||null===u||k||0===k||null===k)&&W.setAppointedMinMax(u,k)};this.isAppointedMin=function(){return null!=ba};this.isAppointedMax=function(){return null!=da};this.initAbs4=function(u,k,D,z){N=u;S=k;C=D;v=z;u=n(N,v);k=t(S,C);Q=null==u||null==k?!1:20<u/k};
this.updateMinMax=function(u,k){if(Z!==u||X!==k)Z=u,X=k,Y=!0,h=!1};this.isMinMaxInvalid=function(){return null===Z||void 0===Z||isNaN(Z)||null===X||void 0===X||isNaN(X)};this.getAppointableMin=function(){Y&&f();return r};this.getAppointableMax=function(){Y&&f();return e};this.isZeroMustBeExcluded=function(){return T};var f=function(){Y=!1;r=null==ba?null==da?Z:Math.min(da,Z):ba;e=null==da?null==ba?X:Math.max(ba,X):da};this.getTitle=function(){return R};this.getFormatString=function(){return x};this.getColor=
function(){return A};this.isSuggestUseLog=function(){return Q};this.getLogMin=function(){!h&&y();return p};this.getLogMax=function(){!h&&y();return a};this.getLogOffset=function(){!h&&y();return l};this.getCuttableFootForLinear=function(){!h&&y();return b};this.getCuttableFootForLog=function(){!h&&y();return g};var n=function(u,k){return null==u&&null==k?null:null==u?k:null==k?u:Math.max(u,k)},t=function(u,k){return null==u&&null==k?null:null==u?k:null==k?u:Math.min(u,k)},y=function(){h=!0;var u=
W.getAppointableMin(),k=W.getAppointableMax();if(null!=u&&null!=k){var D=!1,z=n(N,v),H=t(S,C);null!=z&&null!=H&&(D=z!=H&&(0<u||0>k));var J=D,B=null,L=null,q=null,G=null;0>u&&0<k?(B=k,L=null==S?k:k<S?k:S,q=null==C?-u:-u<C?-u:C,G=-u):0<=u?(B=k,L=null==S?0==u?1:u:u>S?u:k<S?k:S):(q=null==C?0==k?1:-k:-k>C?-k:-u<C?-u:C,G=-u);B=n(B,G);L=t(L,q);q=null==B?null:Math.log10(B);B=null==L?null:Math.log10(L);L=null==q?null:Math.ceil(q);q=null==B?null:Math.floor(B);l=null==q?null==L?0:0>L?-L:0:0>q?-q:0;0>u&&0<k?
(a=Math.ceil(Math.log10(k))+l,p=-(Math.ceil(Math.log10(-u))+l)):0<=u?(0==u?p=0:(B=Math.floor(Math.log10(u))+l,0>B?(l=-B,p=0):p=B),a=null==L?0:L+l):(0==k?a=0:(B=Math.floor(Math.log10(-k))+l,0>B?(l=-B,a=0):a=-B),p=null==L?0:-(L+l));T?J=Math.min(Math.abs(p),Math.abs(a)):J?(J=Math,L+=l,q+=l,J=J.floor.call(J,.25<q/L?(q-.1*L)/.9:0)):J=0;g=J;b=T?Math.min(Math.abs(u),Math.abs(k)):D?.25<H/z?(H-.1*z)/.9:0:0}}}function na(){var W,ba,da,Z;this.setLineValue=function(X){W=X};this.getLineValue=function(){return W};
this.setLabel=function(X){ba=X};this.getLabel=function(){return ba};this.setTips=function(X,N){da=X;Z=N};this.getTipsTitle=function(){return da};this.getTipsText=function(){return Z}}function ra(){var W,ba;this.setCategoryIndex=function(da){W=da};this.getCategoryIndex=function(){return W};this.setLabel=function(da){ba=da};this.getLabel=function(){return ba}}function Ea(){var W,ba,da,Z,X,N=null;this.getLabelCaptionCount=function(){return W?W.length:0};this.getLabelCaption=function(S){return W[S]};
this.getSizeCaption=function(){return ba};this.getSizeFormat=function(){return da};this.getDetailCaptionCount=function(){return Z?Z.length:0};this.getDetailCaption=function(S){return Z[S][0]};this.isDetailCaptionProperty=function(S){return Z[S][1]};this.getRoot=function(){return X};this.getTotalNodesCount=function(){if(null===N){N=0;for(var S=[X];0<S.length;){var C=S.shift(),v=C.getChildCount();N+=v;for(var R=0;R<v;R++){var x=C.getChild(R);0<x.getChildCount()&&S.push(x)}}}return N};this.fromJsonObject=
function(S){N=null;W=S.labelCaptions;ba=S.sizeCaption;da=S.sizeFormat;Z=null;var C=S.detailCaptions;if(C){Z=[];for(var v=0;v<C.length;v++){var R=C[v];Z.push([R.title,R.property?!0:!1])}}S=S.root;X=new va;X.fromJsonObject(S)}}function va(){var W=this,ba,da,Z,X,N,S,C,v,R;this.setParent=function(x){ba=x};this.getParent=function(){return ba};this.getLabel=function(){return da};this.getMember=function(){return Z};this.getExecutableValue=function(){return void 0===Z?da:Z};this.getColor=function(){return X};
this.getSize=function(){return N};this.setSize=function(x){N=x};this.getDrawingSize=function(){return v};this.setDrawingSize=function(x){v=x};this.getDrawingObject=function(){return R};this.setDrawingObject=function(x){R=x};this.getDetailTextCount=function(){return S?S.length:0};this.getDetailText=function(x){return S[x]};this.getChildCount=function(){return C?C.length:0};this.getChild=function(x){return C[x]};this.fromJsonObject=function(x){da=x.label;Z=x.member;X=x.color;var A=x.size;N=A?parseFloat(A):
null;S=x.detailTexts;C=null;if(x=x.children)for(C=[],A=0;A<x.length;A++){var Q=x[A],T=new va;T.fromJsonObject(Q);T.setParent(W);C.push(T)}}}function ka(){var W=!1,ba,da,Z=!1,X=!1,N=!1,S,C=ka.ShowLegend_Right,v=!0;this.setDataEmpty=function(R){W=R};this.isDataEmpty=function(){return W};this.setSkinName=function(R){ba=R};this.getSkinName=function(){return ba};this.putCustomStyles=function(R){!da&&(da={});for(var x in R)da[x]=R[x]};this.putCustomStyle=function(R,x){!da&&(da={});da[R]=x};this.getCustomStyle=
function(R){return da?da[R]:null};this.setReserveRollOutSpace=function(R){Z=R};this.isReserveRollOutSpace=function(){return Z};this.setShowDataLabel=function(R){X=R};this.isShowDataLabel=function(){return W?!1:X};this.setDataLabelOverlappable=function(R){N=R};this.isDataLabelOverlappable=function(){return N};this.setDataLabelFormat=function(R){S=R};this.getDataLabelFormat=function(){return S};this.setShowLegend=function(R){C=R};this.getShowLegend=function(){return C};this.setAnimation=function(R){v=
R};this.isAnimation=function(){return v};this.protectedMethod={copyTo:function(R){R.setShowDataLabel(X);R.setDataLabelOverlappable(N);R.setDataLabelFormat(S);R.setShowLegend(C);R.setReserveRollOutSpace(Z);R.setAnimation(v);da&&R.putCustomStyles(da)}}}function ma(){var W=-1;this.setTooltipsSelfDrivingDuration=function(ba){W=ba};this.isTooltipsSelfDriving=function(){return 0<=W};this.getTooltipsSelfDrivingDuration=function(){return W}}function sa(){ka.call(this);var W=this,ba=!0,da=!1,Z,X=!1,N=!1,S=
!0;this.setPresentByAngle=function(C){ba=C};this.isPresentByAngle=function(){return ba};this.setPresentByRadius=function(C){da=C};this.isPresentByRadius=function(){return da};this.setDataLabelType=function(C){Z=C};this.getDataLabelType=function(){return Z};this.setIgnoreNegative=function(C){X=C};this.isIgnoreNegative=function(){return X};this.setHollow=function(C){N=C};this.isHollow=function(){return N};this.setShowTotalWhenHollow=function(C){S=C};this.isShowTotalWhenHollow=function(){return W.isDataEmpty()?
!1:S};this.getHollowRadius=function(C){return parseInt(.75*C)}}function Aa(){var W,ba,da=ka.RulerScale_Linear,Z=ka.RulerStart_Zero,X,N;this.protectedMethod.setUnitText=function(S){W=S};this.protectedMethod.getUnitText=function(){return W};this.protectedMethod.setFormat=function(S){ba=S};this.protectedMethod.getFormat=function(){return ba};this.protectedMethod.setRulerScale=function(S){da=S};this.protectedMethod.getRulerScale=function(){return da};this.protectedMethod.setRulerStart=function(S){Z=S};
this.protectedMethod.getRulerStart=function(){return Z};this.protectedMethod.setRulerMin=function(S){X=S};this.protectedMethod.getRulerMin=function(){return X};this.protectedMethod.setRulerMax=function(S){N=S};this.protectedMethod.getRulerMax=function(){return N}}function ta(){Aa.call(this);var W=this.protectedMethod;this.setYUnitText=W.setUnitText;this.getYUnitText=W.getUnitText;this.setYFormat=W.setFormat;this.getYFormat=W.getFormat;this.setYRulerScale=W.setRulerScale;this.getYRulerScale=W.getRulerScale;
this.setYRulerStart=W.setRulerStart;this.getYRulerStart=W.getRulerStart;this.setYRulerMin=W.setRulerMin;this.getYRulerMin=W.getRulerMin;this.setYRulerMax=W.setRulerMax;this.getYRulerMax=W.getRulerMax}function Fa(){Aa.call(this);var W=this.protectedMethod;this.setXUnitText=W.setUnitText;this.getXUnitText=W.getUnitText;this.setXFormat=W.setFormat;this.getXFormat=W.getFormat;this.setXRulerScale=W.setRulerScale;this.getXRulerScale=W.getRulerScale;this.setXRulerStart=W.setRulerStart;this.getXRulerStart=
W.getRulerStart;this.setXRulerMin=W.setRulerMin;this.getXRulerMin=W.getRulerMin;this.setXRulerMax=W.setRulerMax;this.getXRulerMax=W.getRulerMax}function la(){var W,ba;this.protectedMethod.setUnitText=function(da){W=da};this.protectedMethod.getUnitText=function(){return W};this.protectedMethod.setShowAssistantLine=function(da){ba=da};this.protectedMethod.isShowAssistantLine=function(){return ba}}function ha(){la.call(this);var W=this.protectedMethod;this.setXUnitText=W.setUnitText;this.getXUnitText=
W.getUnitText;this.setXShowAssistantLine=W.setShowAssistantLine;this.isXShowAssistantLine=W.isShowAssistantLine}function za(){ka.call(this);ta.call(this);ha.call(this)}function Ia(){ka.call(this);Fa.call(this);la.call(this);var W=this.protectedMethod;this.setYUnitText=W.setUnitText;this.getYUnitText=W.getUnitText}function Sa(){var W=!1,ba=!1,da=!1,Z=!1;this.setSmooth=function(X){W=X};this.isSmooth=function(){return W};this.setPaintingPoint=function(X){ba=X};this.isPaintingPoint=function(){return ba};
this.setZeroInsteadNull=function(X){Z=X};this.isZeroInsteadNull=function(){return Z};this.setTooltipsSorted=function(X){da=X};this.isTooltipsSorted=function(){return da}}function Pa(){za.call(this);Sa.call(this)}function fa(){Aa.call(this);var W=this.protectedMethod;this.setPYUnitText=W.setUnitText;this.getPYUnitText=W.getUnitText;this.setPYFormat=W.setFormat;this.getPYFormat=W.getFormat;this.setPYRulerScale=W.setRulerScale;this.getPYRulerScale=W.getRulerScale;this.setPYRulerStart=W.setRulerStart;
this.getPYRulerStart=W.getRulerStart;this.setPYRulerMin=W.setRulerMin;this.getPYRulerMin=W.getRulerMin;this.setPYRulerMax=W.setRulerMax;this.getPYRulerMax=W.getRulerMax}function ca(){Aa.call(this);var W=this.protectedMethod;this.setSYUnitText=W.setUnitText;this.getSYUnitText=W.getUnitText;this.setSYFormat=W.setFormat;this.getSYFormat=W.getFormat;this.setSYRulerScale=W.setRulerScale;this.getSYRulerScale=W.getRulerScale;this.setSYRulerStart=W.setRulerStart;this.getSYRulerStart=W.getRulerStart;this.setSYRulerMin=
W.setRulerMin;this.getSYRulerMin=W.getRulerMin;this.setSYRulerMax=W.setRulerMax;this.getSYRulerMax=W.getRulerMax}function wa(){ka.call(this);fa.call(this);ca.call(this);var W=this,ba=this.protectedMethod,da=!1,Z=!1;this.setShowDataLabel=function(X,N){da=X;Z=N};this.protectedMethod.copyTwoY=function(X,N){ba.copyTo(X);X.setShowDataLabel(da);X.setYUnitText(W.getPYUnitText());X.setYFormat(W.getPYFormat());X.setYRulerScale(W.getPYRulerScale());X.setYRulerMin(W.getPYRulerMin());X.setYRulerMax(W.getPYRulerMax());
X.setYRulerStart(W.getPYRulerStart());ba.copyTo(N);N.setShowDataLabel(Z);N.setYUnitText(W.getSYUnitText());N.setYFormat(W.getSYFormat());N.setYRulerScale(W.getSYRulerScale());N.setYRulerMin(W.getSYRulerMin());N.setYRulerMax(W.getSYRulerMax());N.setYRulerStart(W.getSYRulerStart())}}function pa(){var W=100;this.setOverlapShrinkingPercent=function(ba){W=!ba||isNaN(ba)?100:Math.max(0,Math.min(100,ba))};this.getOverlapShrinkingRatio=function(){return.01*W}}function Ga(){pa.call(this);var W;this.setLabelType=
function(ba){W=ba};this.getLabelType=function(){return W}}function xa(){ka.call(this);var W=xa.PAN_STYLE_WITH_TRACK,ba=240,da=0,Z=!0,X,N=xa.SHOW_LABEL_NAME|xa.SHOW_LABEL_NUMBER,S,C,v=2;this.setPanStyle=function(R){W=R};this.getPanStyle=function(){return W};this.setArcDegree=function(R){ba=R};this.getArcDegree=function(){return ba};this.setRotate=function(R){da=R};this.getRotate=function(){return da};this.setShowRulerMarkLabel=function(R){Z=R};this.isShowRulerMarkLabel=function(){return Z};this.setRulerMarkLabelFormat=
function(R){X=R};this.getRulerMarkLabelFormat=function(){return X};this.setPointerLabelType=function(R){N=R};this.getPointerLabelType=function(){return N};this.setPointerName=function(R){S=R};this.getPointerName=function(){return S};this.setPointerNumberFormat=function(R){C=R};this.getPointerNumberFormat=function(){return C};this.setPointerPercentDecimal=function(R){v=R};this.getPointerPercentDecimal=function(){return v}}function Ba(){var W=!0,ba=0;this.setAutoScroll=function(da){W=da};this.isAutoScroll=
function(){return W};this.setStickRows=function(da){ba=da};this.getStickRows=function(){return ba}}function Ja(){function W(T,Y,r,e){this.getRectX=function(){return T};this.getRectY=function(){return Y};this.getRectWidth=function(){return r};this.getRectHeight=function(){return e}}ka.call(this);Ba.call(this);var ba,da,Z,X,N={},S,C,v,R=!1,x=Ja.DynamicRowHeight_None;this.setBodyMiddleAlign=function(T){R=T};this.isBodyMiddleAlign=function(){return R};this.setDynamicRowHeightMode=function(T){x=T};this.isDynamicRowHeightReduced=
function(){return(x&Ja.DynamicRowHeight_Reduced)==Ja.DynamicRowHeight_Reduced};this.isDynamicRowHeightIncreased=function(){return(x&Ja.DynamicRowHeight_Increased)==Ja.DynamicRowHeight_Increased};this.setSplitLineColor=function(T){S=T};this.getSplitLineColor=function(){return S};this.setHeaderBackgroundColor=function(T){C=T};this.getHeaderBackgroundColor=function(){return C};this.setFooterBackgroundColor=function(T){v=T};this.getFooterBackgroundColor=function(){return v};this.setDesigntimeRowSize=
function(T,Y,r,e){ba=T;da=Y;Z=r;X=e};this.getRowHeight=function(){return da};this.getHeaderHeight=function(){return Z};this.getFooterHeight=function(){return X};this.addDesigntimeRect=function(T,Y,r,e){A("body",T,Y,r,e)};this.addDesigntimeHeaderRect=function(T,Y,r,e){A("head",T,Y,r,e)};this.addDesigntimeFooterRect=function(T,Y,r,e){A("foot",T,Y,r,e)};var A=function(T,Y,r,e,h){var p=N[T];p||(p=[],N[T]=p);p.push([Y,r,e,h])};this.getRuntimeRects=function(T,Y){return Q("body",ba,da,T,Y)};this.getRuntimeHeaderRects=
function(T){return Q("head",ba,Z,T,Z)};this.getRuntimeFooterRects=function(T){return Q("foot",ba,X,T,X)};var Q=function(T,Y,r,e,h){var p=[];if(T=N[T]){var a=new Wa;a.setGapFixed(!1);a.setDesigningSize(Y,r);for(Y=0;Y<T.length;Y++){r=T[Y];var l=""+Y;a.appendBlock(l,r[0],r[1],r[2],r[3],!1,!0)}a.transformTo(e,h);for(Y=0;Y<T.length;Y++)if(l=""+Y,e=a.searchBlockRect(l))e=new W(e[0],e[1],e[2],e[3]),p.push(e)}return p}}function Ha(){ka.call(this);var W=!0,ba=[!0,!1,!1],da=Ha.LABEL_NONE,Z=Ha.LABEL_NONE,X=
Ha.LABEL_RIGHT,N;this.setLadderPerfect=function(S){W=S};this.isLadderPerfect=function(){return W};this.markRatioByStep=function(){ba=[!0,!1,!1]};this.markRatioByStart=function(){ba=[!1,!0,!1]};this.markRatioByTotal=function(){ba=[!1,!1,!0]};this.isRatioByStep=function(){return ba[0]};this.isRatioByStart=function(){return ba[1]};this.isRatioByTotal=function(){return ba[2]};this.setLabelNamePosition=function(S){da=S};this.getLabelNamePosition=function(){return da};this.setLabelValuePosition=function(S){Z=
S};this.getLabelValuePosition=function(){return Z};this.setLabelPercentPosition=function(S){X=S};this.getLabelPercentPosition=function(){return X};this.isLabelLeft=function(S){return S==Ha.LABEL_LEFT};this.isLabelRight=function(S){return S==Ha.LABEL_RIGHT};this.isLabelCenter=function(S){return S==Ha.LABEL_CENTER};this.isLabelHide=function(S){return S==Ha.LABEL_NONE};this.setPercentageFormat=function(S){N=S};this.getPercentageFormat=function(){return N}}function Ra(){var W=this,ba=!1,da=[];this.setMultiSelectable=
function(Z){ba=Z};this.isMultiSelectable=function(){return ba};this.addChangedListener=function(Z){da.push(Z)};this.clearAll=function(){throw Error("Override");};this.protectedMethod={fireChangedEvent:function(Z){for(var X=0;X<da.length;X++)(0,da[X])(W,Z)}}}function Ta(){Ra.call(this);var W=this,ba=this.protectedMethod,da=Ta.Mode_Category,Z,X;this.setMode=function(C){da=C};this.isSelectingCategory=function(){return(da&Ta.Mode_Category)==Ta.Mode_Category};this.isSelectingSeries=function(){return(da&
Ta.Mode_Series)==Ta.Mode_Series};this.isSelected=function(C,v){var R=!0;null!==C&&W.isSelectingCategory()&&(R=Z?Z.isSelected(C):!1);null!==v&&W.isSelectingSeries()&&(R=X?R&&X.isSelected(v):!1);return R};this.isAnySelected=function(){return W.isSelectingCategory()&&Z&&Z.isAnySelected()||W.isSelectingSeries()&&X&&X.isAnySelected()};this.clearAll=function(){Z&&Z.clear();X&&X.clear()};this.deselectCategories=function(){N().isAnySelected()&&(N().clear(),ba.fireChangedEvent(N()))};this.toggleSelectCategory=
function(C){N().toggleSelect(C,W.isMultiSelectable());ba.fireChangedEvent(N())};this.deselectSeries=function(){S().isAnySelected()&&(S().clear(),ba.fireChangedEvent(S()))};this.toggleSelectSeries=function(C){S().toggleSelect(oCategory,W.isMultiSelectable());ba.fireChangedEvent(S())};var N=function(){Z||(Z=new Ua,Z.setExecutableValueGetter(function(C){return C.getExecutableValue()}),Z.setDisplayValueGetter(function(C){return C.getLabel()}));return Z},S=function(){X||(X=new Ua,X.setExecutableValueGetter(function(C){return C.getExecutableSeriesFieldValue()}),
X.setDisplayValueGetter(function(C){return C.getSeriesFieldText()}));return X}}function Ua(){var W=[],ba,da;this.clear=function(){W=[]};this.toggleSelect=function(X,N){var S=Z(X);N?0<=S?W.splice(S,1):W.push(X):0<=S&&1==W.length?W.splice(S,1):W=[X]};this.isSelected=function(X){return 0<=Z(X)};this.isAnySelected=function(){return 0<W.length};var Z=function(X){for(var N=0;N<W.length;N++)if(W[N]==X)return N;return-1};this.setExecutableValueGetter=function(X){ba=X};this.setDisplayValueGetter=function(X){da=
X};this.getJsonSelectedValue=function(){for(var X=[],N=0;N<W.length;N++){var S=W[N],C={};C.value=ba(S);C.text=da(S);X.push(C)}return X}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.chart&&(com.kingdee.bos.qing.chart={});"undefined"==typeof com.kingdee.bos.qing.chart.model&&(com.kingdee.bos.qing.chart.model=
{});var La=com.kingdee.bos.qing.chart.model;La.NormalChartModel=ya;La.Category=qa;La.Series=Ca;La.Node=Ma;La.XYNode=Na;La.AxisValueScope=Ka;La.Refline=na;La.ScopeConfirmer=new function(){function W(){var Z=null,X=null,N=null,S=null,C=null,v=null;this.join=function(x){(null==Z||x<Z)&&(Z=x);(null==X||x>X)&&(X=x);0<x?((null==N||x>N)&&(N=x),(null==S||x<S)&&(S=x)):0>x&&(x=-x,(null==v||x>v)&&(v=x),(null==C||x<C)&&(C=x))};this.createAxisValueScope=function(){var x=new Ka;R(x);return x};this.toAxisValueScope=
function(x){R(x)};var R=function(x){x.updateMinMax(null==Z?0:Z,null==X?0:X);x.initAbs4(N,S,C,v)}}this.multiSeries=function(Z){var X=Z.getScopes();if(!X){X=Z.getCategories().length;var N=Z.getSeries();X=ba(N,X);da(Z,0,X);X=[X.createAxisValueScope()];Z.setScopes(X)}};this.multiSeriesForOneAxis=function(Z,X,N){var S=Z.getCategories().length;X=ba(X,S);da(Z,N,X);return X.createAxisValueScope()};var ba=function(Z,X){for(var N=new W,S=0;S<Z.length;S++)for(var C=Z[S].getNodes(),v=0;v<X;v++){var R=C[v];R&&
(R=R.getValue(),!isNaN(R)&&N.join(R))}return N};this.stacked=function(Z){var X=Z.getScopes();if(!X){X=new W;for(var N=Z.getSeries(),S=Z.getCategories().length,C=N.length,v=0;v<S;v++){for(var R=0,x=0,A=0;A<C;A++){var Q=N[A].getNodes()[v];Q&&(Q=Q.getValue(),0<Q?R+=Q:0>Q&&(x+=Q))}X.join(R);X.join(x)}da(Z,0,X);X=[X.createAxisValueScope()];Z.setScopes(X)}};this.waterfall=function(Z){var X=Z.getScopes();if(!X){X=new W;var N=Z.getSeries(),S=N[0].getNodes();N=N[1].getNodes();for(var C=Z.getCategories().length,
v=0;v<C;v++){var R=S[v],x=N[v];x=x?x.getValue():0;R=R.getValue();isNaN(R)||isNaN(x)||X.join(x+R)}X=[X.createAxisValueScope()];Z.setScopes(X)}};this.scatter=function(Z){var X=Z.getScopes(),N=X?X[0]:null,S=X?X[1]:null;if(!N||N.isMinMaxInvalid()||!S||S.isMinMaxInvalid()){for(var C=new W,v=new W,R=null,x=Z.getSeries(),A=Z.getCategories().length,Q=x.length,T=0;T<Q;T++)for(var Y=x[T].getNodes(),r=0;r<A;r++){var e=Y[r];if(e){var h=e.getXAxisValue();!isNaN(h)&&C.join(h);h=e.getYAxisValue();!isNaN(h)&&v.join(h);
e=e.getZAxisValue();"number"!=typeof e||isNaN(e)||(!R&&(R=new W),R.join(e))}}da(Z,0,C);da(Z,1,v);!X&&(X=[]);N||(N=new Ka,X[0]=N);S||(S=new Ka,X[1]=S);C.toAxisValueScope(N);v.toAxisValueScope(S);R&&(N=X[2],N||(N=new Ka,X[2]=N),R.toAxisValueScope(N));Z.setScopes(X)}};var da=function(Z,X,N){if(X=(Z=Z.getPaintableLines())?Z[X]:null)for(Z=0;Z<X.length;Z++){var S=X[Z].getLineValue();!isNaN(S)&&N.join(S)}}};La.GridChartModel=ea;La.TreeChartModel=Ea;La.DiscreteColorLegendModel=function(){var W,ba,da,Z,X;
this.prepare=function(N,S,C,v){var R=N.length;W=N.slice(0,R);ba=S.slice(0,R);da=C?C.slice(0,R):[];Z=v};this.updateColor=function(N){W=N};this.getItemCount=function(){return W.length};this.getColor=function(N){return W[N]};this.getText=function(N){return ba[N]};this.getCaption=function(N){return da[N]};this.getOthersItemCount=function(){return Z};this.setAdditionalText=function(N){X=N};this.getAdditionalText=function(){return X}};La.ContinuousColorLegendModel=function(){function W(N,S,C,v,R){this.getColor1=
function(){return N};this.getColor2=function(){return S};this.getPos=function(){return C};this.getColor3=function(){return v};this.getColor4=function(){return R};this.isDiverging=function(){return C||0===C?!0:!1}}var ba,da,Z,X;this.prepareGradient=function(N,S,C,v,R,x,A){ba=N;da=S;Z=new W(C,v,R,x,A);X=null};this.prepareSegment=function(N,S,C){ba=N;da=S;Z=null;X=C};this.getMinText=function(){return ba};this.getMaxText=function(){return da};this.isGradientColor=function(){return Z?!0:!1};this.getGradientColor=
function(){return Z};this.getSegmentCount=function(){return X.length};this.getSegmentColor=function(N){return X[N]}};La.AbstractAttr=ka;La.CommonAttr=function(){ka.call(this)};La.PieAttr=sa;La.YNXSAttr=za;La.YSXNAttr=Ia;La.ScatterAttr=function(){ka.call(this);ta.call(this);Fa.call(this)};La.LineAttr=Pa;La.CompositeAttr=function(){wa.call(this);Sa.call(this);var W=this,ba=this.protectedMethod;this.splitTwoY=function(){var da=new za,Z=new Pa;Z.setSmooth(W.isSmooth());Z.setPaintingPoint(W.isPaintingPoint());
Z.setZeroInsteadNull(W.isZeroInsteadNull());ba.copyTwoY(da,Z);return[da,Z]}};La.MapAttr=function(){ka.call(this);ma.call(this);var W,ba,da,Z,X;this.setBackImageUrl=function(N){W=N};this.getBackImageUrl=function(){return W};this.setPageSize=function(N,S){ba=N;da=S};this.getPageWidth=function(){return ba};this.getPageHeight=function(){return da};this.setTemplateContent=function(N){Z=N};this.getTemplateContent=function(){return Z};this.setRegionMapping=function(N){X=N};this.getRegionMapping=function(){return X}};
La.GISAttr=function(){ka.call(this);var W=!1,ba,da,Z,X,N;this.setPropertyDirty=function(S){W=S};this.isPropertyDirty=function(){return W};this.setLongitude=function(S){ba=S};this.getLongitude=function(){return ba};this.setLatitude=function(S){da=S};this.getLatitude=function(){return da};this.setZoom=function(S){Z=S};this.getZoom=function(){return Z};this.setUsage=function(S){X=S};this.getUsage=function(){return X};this.setCustomScript=function(S){N=S};this.getCustomScript=function(){return N}};La.RadarAttr=
function(){ka.call(this);var W,ba,da=!0,Z;this.setRadarFormat=function(X){W=X};this.getRadarFormat=function(){return W};this.setShowRulerMarkLabel=function(X){ba=X};this.isShowRulerMarkLabel=function(){return ba};this.setDimensionOutside=function(X){da=X};this.isDimensionOutside=function(){return da};this.setFillColor=function(X){Z=X};this.isFillColor=function(){return Z}};La.AbstractXYProgressAttr=Ga;La.ProgressBarAttr=function(){Ia.call(this);Ga.call(this);this.getXRulerScale=function(){return ka.RulerScale_Linear};
this.getXRulerStart=function(){return ka.RulerStart_Zero}};La.ProgressColumnAttr=function(){za.call(this);Ga.call(this);this.getYRulerScale=function(){return ka.RulerScale_Linear};this.getYRulerStart=function(){return ka.RulerStart_Zero}};La.ProgressCircleAttr=function(){ka.call(this);pa.call(this);var W=0,ba=!1,da=0,Z;this.setPercentageDecimalDigit=function(X){W=X};this.getPercentageDecimalDigit=function(){return W};this.setPercentageCeiling=function(X){ba=X};this.isPercentageCeiling=function(){return ba};
this.setDataEmptyPercentageInstead=function(X){da=X};this.getDataEmptyPercentageInstead=function(){return da};this.setLabelDesc=function(X){Z=X};this.getLabelDesc=function(){return Z}};La.DialAttr=xa;La.GridAttr=function(){ka.call(this);Ba.call(this);var W=!0,ba=!1;this.setShowHeader=function(da){W=da};this.isShowHeader=function(){return W};this.setShowRowNum=function(da){ba=da};this.isShowRowNum=function(){return ba}};La.CustomListAttr=Ja;La.WaterfallAttr=function(){ka.call(this);ta.call(this);ha.call(this)};
La.FunnelAttr=Ha;La.RectTreeAttr=function(){ka.call(this);var W=!1;this.setIgnoreNegative=function(ba){W=ba};this.isIgnoreNegative=function(){return W}};La.SunburstAttr=function(){ka.call(this);var W=!1;this.setIgnoreNegative=function(ba){W=ba};this.isIgnoreNegative=function(){return W}};La.SelectionModel=Ta;La.StringSelectionModel=function(){Ra.call(this);var W=this,ba=this.protectedMethod,da;this.clearAll=function(){da&&da.clear()};this.deselect=function(){Z().isAnySelected()&&(Z().clear(),ba.fireChangedEvent(Z()))};
this.toggleSelect=function(X){Z().toggleSelect(X,W.isMultiSelectable());ba.fireChangedEvent(Z())};this.isSelected=function(X){return da?da.isSelected(X):!1};this.isAnySelected=function(){return da?da.isAnySelected():!1};var Z=function(){da||(da=new Ua,da.setExecutableValueGetter(function(X){return X}),da.setDisplayValueGetter(function(X){return X}));return da}};La.RowSelectionModel=function(){Ra.call(this);var W=this,ba=this.protectedMethod,da;this.clearAll=function(){da&&da.clear()};this.deselect=
function(){Z().isAnySelected()&&(Z().clear(),ba.fireChangedEvent(Z()))};this.toggleSelect=function(X){Z().toggleSelect(X,W.isMultiSelectable());ba.fireChangedEvent(Z())};this.isSelected=function(X){return da?da.isSelected(X):!1};this.isAnySelected=function(){return da?da.isAnySelected():!1};var Z=function(){da||(da=new Ua,da.setExecutableValueGetter(function(X){return X.getAffectionSrcValue()}),da.setDisplayValueGetter(function(X){return X.getAffectionSrcText()}));return da}};var Wa=com.kingdee.bos.qing.common.BlocksToTable;
var Qa=new function(){var W;this.hookUrlParser=function(ba){W=ba};this.parseUrl=function(ba){if(W)return W(ba);window.console&&console.log("ImglibHelper did't hookUrlParser().");return""}};La.ImglibHelper=Qa;ea.createFromJson=function(W){var ba=new ea;ba.fromJsonObject(W);return ba};oa.REG_RECT_CHECKER=/^-?\d+,-?\d+,\d+,\d+\|/;ya.createFromJson=function(W){var ba=[],da=[],Z=W.seriesFieldTitle,X=W.categoryTitle,N=W.categories,S=W.series,C=W.scopes,v=W.paintableLines,R=W.guidelines,x=[],A=W.styles;
if(A)for(W=0;W<A.length;W++){var Q=new oa;Q.fromJsonObject(A[W]);x.push(Q)}if(N)for(W=0;W<N.length;W++)Q=N[W],A=null,Q&&(A=new qa,A.setLabel(Q.label),A.setColor(Q.color),A.setValue(Q.value),Q.asParent&&A.setAsParent(!0),((Q=Q.style)||0==Q)&&A.setStyle(x[Q])),ba[W]=A;if(S)for(W=0;W<S.length;W++){N=S[W];x=new Ca;x.setName(N.name);x.setColor(N.color);x.setFormatString(N.formatString);x.setSeriesFieldValueText(N.seriesFieldValue,N.seriesFieldText);x.setAxisIndex(N.axisIndex);A=N.nodes;Q=[];for(N=0;N<
A.length;N++){var T=A[N],Y=null;if(T){var r=T.value;if(void 0!==r)Y=new Ma,Y.setValue(parseFloat(r)),Y.setText(T.text),Y.setColor(T.color);else if(void 0!==T.x&&void 0!==T.y)Y=new Na,Y.setXAxisValue(parseFloat(T.x)),Y.setYAxisValue(parseFloat(T.y)),T.z&&Y.setZAxisValue(parseFloat(T.z));else throw Error("Unknown Series-Node type.");}Q[N]=Y}x.setNodes(Q);da[W]=x}S=new ya;S.setSeriesFieldTitle(Z);S.setCategoryTitle(X);S.setCategories(ba);S.setSeries(da);if(C)for(ba=[],S.setScopes(ba),W=0;W<C.length;W++)da=
C[W],Z=new Ka,Z.fromJsonObject(da),ba[W]=Z;if(v)for(da=[],S.setPaintableLines(da),W=0;W<v.length;W++)for(Z=[],da[W]=Z,X=v[W],N=0;N<X.length;N++)if(C=X[N])ba=new na,ba.setLabel(C.label),ba.setLineValue(parseFloat(C.line)),ba.setTips(C.tipsTitle,C.tipsText),Z[N]=ba;if(R)for(v=[],S.setGuidelines(v),W=0;W<R.length;W++)C=R[W],ba=new ra,ba.setCategoryIndex(C.category),ba.setLabel(C.label),v.push(ba);return S};Ea.createFromJson=function(W){var ba=new Ea;ba.fromJsonObject(W);return ba};ka.ShowLegend_Non=
"NON";ka.ShowLegend_Right="RIGHT";ka.ShowLegend_Bottom="BOTTOM";ka.RulerScale_Auto="AUTO";ka.RulerScale_Linear="LINEAR";ka.RulerScale_Log="LOG";ka.RulerStart_Zero="ZERO";ka.RulerStart_Nonzero="NONZERO";sa.SHOW_LABEL_NAME=1;sa.SHOW_LABEL_NUMBER=2;sa.SHOW_LABEL_PERCENT=4;Ga.SHOW_LABEL_NUMBER=1;Ga.SHOW_LABEL_PERCENT=2;xa.PAN_STYLE_WITH_TRACK="withTrack";xa.PAN_STYLE_ONLY_MARK="onlyMark";xa.SHOW_LABEL_NAME=1;xa.SHOW_LABEL_NUMBER=2;xa.SHOW_LABEL_PERCENT=4;Ja.DynamicRowHeight_None=0;Ja.DynamicRowHeight_Reduced=
1;Ja.DynamicRowHeight_Increased=2;Ja.DynamicRowHeight_Both=3;Ha.LABEL_NONE=0;Ha.LABEL_LEFT=1;Ha.LABEL_CENTER=2;Ha.LABEL_RIGHT=3;Ta.Mode_Category=1;Ta.Mode_Series=2})();(function(){function ea(r){var e=this,h,p;this.getCustomStyle=function(l,b){return(l=r.getCustomStyle(l))?l:b};this.getBackgroundColor=function(){return e.getCustomStyle(ea.BACKGROUND,"#fff")};this.getUnselectedMaskColor=function(){!h&&(h=a(.85));return h};this.getTextShadowColor=function(){!p&&(p=a(.5));return p};var a=function(l){var b=e.getBackgroundColor();return v.createColorWithAlpha(b,l)}}function oa(r,e,h,p){var a=this,l=h?!0:!1,b=[];this.isRectCanDraw=function(g,f,n,t){return a.askRectCanDraw(g,
f,n,t)?(a.setRectHasBeenDrawn(g,f,n,t),!0):!1};this.askRectCanDraw=function(g,f,n,t){if(l&&(g<r||f<e||g+n>r+h||f+t>e+p))return!1;--n;--t;g=g+.5+(n>>1);f=f+.5+(t>>1);for(var y=b.length-1;0<=y;y--){var u=b[y],k=u[2],D=u[3],z=u[1]+(D>>1);if(Math.abs(g-(u[0]+(k>>1)))<k+n>>1&&Math.abs(f-z)<D+t>>1)return!1}return!0};this.setRectHasBeenDrawn=function(g,f,n,t){b.push([g+.5,f+.5,n-1,t-1])}}function ya(r,e,h){var p=this,a=e==Qa.RulerScale_Auto?r.isSuggestUseLog():e==Qa.RulerScale_Log?!0:!1,l=h==Qa.RulerStart_Nonzero?
!0:!1,b=null,g=null;this.updateScopeMaxMin=function(n,t){null!==n&&(b=n);null!==t&&(g=t)};this.isWithLog=function(){return a};this.isAppointedScope=function(){return r.isAppointedMin()||r.isAppointedMax()};this.getScopeMax=function(){return null===b?a?r.getLogMax():r.getAppointableMax():b};this.getScopeMin=function(){return null===g?a?r.getLogMin():r.getAppointableMin():g};this.scale=function(n){return a?0==n?0:0>n?-Math.max(0,Math.log10(-n)+r.getLogOffset()):Math.max(0,Math.log10(n)+r.getLogOffset()):
n};this.unscale=function(n){return a?0==n?0:0>n?-Math.pow(10,-n-r.getLogOffset()):Math.pow(10,n-r.getLogOffset()):n};this.cutFoot=function(n){return 0<=n?n-p.getCuttableFoot():n+p.getCuttableFoot()};this.getCuttableFoot=function(){return l||r.isZeroMustBeExcluded()?a?r.getCuttableFootForLog():r.getCuttableFootForLinear():0};this.isCuttingFoot=function(){return l||r.isZeroMustBeExcluded()?0<p.getCuttableFoot():!1};this.cutFootForPoint=function(n){n=p.scale(n);return 0>p.getScopeMax()?n+p.getCuttableFoot():
0<p.getScopeMin()?n-p.getCuttableFoot():n};this.cutSingleSideBar=function(n){var t=f(0),y=f(p.scale(n));n=t[0];var u=y[0];t=t[1];y=y[1];if(0<n&&0<u&&n==u||(0<n||0<u)&&t==y)return null;0<n&&(t=p.cutFoot(t));y=p.cutFoot(y);return[t,y]};var f=function(n){var t=0;if(r.isAppointedMin()){var y=p.getScopeMin();n<y&&(n=y,t=1)}r.isAppointedMax()&&(y=p.getScopeMax(),n>y&&(n=y,t=16));return[t,n]}}function qa(){function r(p,a,l,b){this.getX=function(){return p};this.getY=function(){return a};this.getWidth=function(){return l};
this.getHeight=function(){return b}}var e=[],h=null;this.clearRects=function(){e=[];h=null};this.setRect=function(p,a,l,b,g){e[p]=new r(a,l,b,g)};this.getRect=function(p){return e[p]};this.setAndSoOnRect=function(p,a,l,b){h=new r(p,a,l,b)};this.getAndSoOnRect=function(){return h};this.getMaxY=function(){var p=h?h:e[e.length-1];return p?p.getY()+p.getHeight():0}}function Ca(){var r=this,e=65535,h=65535,p=Qa.ShowLegend_Right,a;this.setUsableSize=function(k,D){k&&(e=k);D&&(h=D)};this.setPosition=function(k){p=
k};this.getPosition=function(){return p};this.setStyleTool=function(k){a=k};this.draw=function(k,D){p==Qa.ShowLegend_Right?f(k,D,l):p==Qa.ShowLegend_Bottom&&n(k,D,l,function(z){for(var H=l,J,B,L,q,G=h%20,O=b(D),c=0;c<O;c++){var E=!1;if(q=z.getRect(c)){var m=r.protectedGetItemText(D,c);var I=D.getColor(c)}else{q=z.getAndSoOnRect();if(!q)break;m=g(D,c);I="rgba(0,0,0,0)";E=!0}J=q.getX();B=J+(E?0:16);L=q.getWidth()-(E?0:16);q=q.getY()+G;H(D,c,J,B,L,q,k,m,I);if(E)break}})};var l=function(k,D,z,H,J,B,L,
q,G){r.protectedDrawLegendIcon(G,L,z,B+4,10,10,k,D);z=B+10;L.fillStyle=v.getCustomStyle(a,ea.LEGEND_COLOR,"#666");r.protectedDrawLegendText(L,H,z,q,J,k,D)};this.protectedDrawLegendIcon=function(k,D,z,H,J,B,L,q){D.fillStyle=k;D.fillRect(z,H,J,B)};this.protectedDrawLegendText=function(k,D,z,H,J,B,L){(new wa).drawAlignLeft(k,D,z,H,J)};this.askSize=function(k){var D=null,z=null;if(p==Qa.ShowLegend_Right){var H=document.createElement("canvas").getContext("2d"),J=0;f(H,k,function(B,L,q,G,O,c,E,m,I){B=E.measureText(m).width;
J=Math.max(J,G+B)});D=J}else p==Qa.ShowLegend_Bottom&&(z=0,H=document.createElement("canvas").getContext("2d"),n(H,k,function(B,L,q,G,O,c,E,m,I){z=c+20},function(B){z=B.getMaxY()}),z+=.5*u());return[D,z]};var b=function(k){var D=k.getItemCount();return 0<k.getOthersItemCount()?D+1:D},g=function(k,D){var z=k.getItemCount(),H=k.getOthersItemCount();k=k.getAdditionalText();D<z&&(H=z+H-D);return k=k.replace("#1",H)},f=function(k,D,z){v.setupFont(k,u());for(var H=20,J=0,B=D.getItemCount(),L=b(D),q=B<L,
G=0;G<L;G++){var O=J+20;if(O>h)break;if(G>=B||(q||G<B-1)&&O+20>h){var c=g(D,G);var E="rgba(0,0,0,0)";H-=16}else c=r.protectedGetItemText(D,G),E=D.getColor(G);z(D,G,4,H,e-H,J,k,c,E);J=O}},n=function(k,D,z,H){v.setupFont(k,u());for(var J=[],B=D.getItemCount(),L=0;L<B;L++){var q=r.protectedGetItemText(D,L);!q&&(q="\u3000");q=k.measureText(q).width;J[L]=q}var G=0;for(L=0;L<J.length;L++)q=J[L],G+=q>.5*e?1:0;B=D.getItemCount();if(.6<G/B&&20*b(D)<=h)f(k,D,z);else{B=new qa;a:{L=Math.max(1,parseInt(h/20));
q=u();G=1.5*q;for(var O=2;20>O;){var c=(e+G)/O-10-6-G;if(c<q)break;O++;B.clearRects();for(var E=0,m=0,I=0,d=[],w=[],F=!1,K=0,P=b(D);K<P;K++){if(K>=D.getItemCount()){var M=g(D,K);var U=M=F=k.measureText(M).width;F=!0}else M=J[K],U=M>c?c:M;var V=16+U,aa=(0<E?E+G:0)+V;if(aa>e){if(m+1>=L){M=g(D,K);F=k.measureText(M).width;c=d;P=w;M=F;F=G;U=E;for(V=c.length-1;0<=V;V--)if(U+F+M>e)U-=c[V]+10+6+F,--c.length,--P.length;else break;c.push(M);P.push(0);F=!0;break}t(d,w,e-E);y(B,K-I,d,!1,0,20*m,G,!1);m++;I=0;
E=V;d=[];w=[]}else E=aa;d[I]=U;w[I]=M-U;I++}if(m<L){if(.5*L<=m&&m<L-1){J=!1;break a}t(d,w,e-E);y(B,K-I,d,F,0,20*m,G,0==m);break}}J=!0}J?H(B):f(k,D,z)}},t=function(k,D,z){if(0<z){for(var H=0,J=0;J<D.length;J++)H+=D[J];if(0<H)for(J=0;J<D.length;J++)k[J]=H<z?k[J]+D[J]:k[J]+D[J]/H*z}},y=function(k,D,z,H,J,B,L,q){for(var G=0;G<z.length;G++){var O=z[G],c=16+O,E=D+G;H&&G==z.length-1?(c=O,k.setAndSoOnRect(J,B,c,20)):k.setRect(E,J,B,c,20);J+=c+L}q&&y(k,D,z,H,e-(J-L),B,L,!1)},u=function(){return parseInt(v.getCustomStyle(a,
ea.LEGEND_FONTSIZE,12))};this.protectedGetItemText=function(k,D){return k.getText(D)}}function Ma(){Ca.call(this);this.protectedDrawLegendIcon=function(r,e,h,p,a,l,b,g){0==g?(e.beginPath(),e.moveTo(h,p),e.lineTo(h+a,p+l),e.lineTo(h+a,p),e.closePath(),e.fillStyle=b.getColor(0),e.fill(),e.beginPath(),e.moveTo(h,p),e.lineTo(h+a,p+l),e.lineTo(h,p+l),e.closePath(),e.fillStyle=b.getColor(1),e.fill()):(e.fillStyle=r,e.fillRect(h,p,a,l))}}function Na(r,e,h,p,a,l){function b(z,H,J){this.getEachAngleEnd=function(){return z};
this.getDisplayablePercentage=function(B){return H[B]};this.getDisplayableTotal=function(){return J}}var g=new Ja(r),f=new ea(h),n,t;(function(){a=a?a:0;l=l?l:0;var z=g.getWidth(),H=g.getHeight();x.transform(g,a+(z>>1),l+(H>>1))})();this.apiXYToCategoryIndex=function(z,H){z=g.retransformMouseXY(z,H);H=z[0];var J=z[1],B=x.logicXyToRadius(H,J);z=-1;if(B<D()-1)z=-128;else if(B<p+1)for(H=x.logicXyToAngle(H,J,B),J=t.getEachAngleEnd(),B=0;B<J.length;B++)if(H<=J[B]){z=B;break}return z};this.getDrawingModel=
function(){return t};this.setSelectionModel=function(z){n=z};this.drawChart=function(z){g.clearAll();var H=f.getBackgroundColor();g.getContext().strokeStyle=H;g.getContext().lineWidth=Math.min(4,.005*p+.5);H=[];var J=[],B=[],L=null,q=e.getCategories();if(0<q.length){var G=D(),O=[],c=0,E=0;var m=0;for(var I=e.getSeries()[0].getNodes(),d=0;d<I.length;d++){var w=I[d];if(w&&!isNaN(w.getValue())){var F=w.getValue();0>F&&h.isIgnoreNegative()?w="ignored":(w=Math.abs(F),c+=w,m=Math.max(m,w));O[d]=w;E+=F}}m=
[c,E,m];E=m[0];c=m[1];m=m[2];I=h.isPresentByAngle()&&0!=E;d=0;w=q.length;for(F=0;F<w;F++){var K=O[F];if("ignored"!=K){B[F]=0==E||null==K?"":v.formatPercentage(K/E,2);if(I){var P=d/E*Math.PI*2;d+=K;var M=d/E*Math.PI*2;var U=K/E}else P=d/w*Math.PI*2,d+=1,M=d/w*Math.PI*2,U=1/w;var V=m;if(h.isPresentByRadius()&&0!=V){var aa=D(),ia=p-aa,ja=.2*ia;K=aa+ja+(ia-ja)*K/V}else K=p;H[F]=K;J[F]=M;z==F&&(K+=Math.min(8,Math.max(2,parseInt(.05*p))));V=K;aa=G;ia=q[F];ja=(ja=ia.getColor())?ja:Z;y(ja,V,aa,P,M);n&&n.isAnySelected()&&
!n.isSelected(ia,null)&&(ia=f.getUnselectedMaskColor(),y(ia,V+1,Math.max(0,aa-1),P,M));.01<U&&1<w&&(u(0<F?J[F-1]:0,G,K),u(J[F],G,K))}}h.isHollow()&&h.isShowTotalWhenHollow()&&(z=Math.min(100,Math.max(12,32*Math.log(.05*p))),L=new Ha,L.setFormatString(e.getSeries()[0].getFormatString()),L=L.format(c),g.getContext().fillStyle=f.getCustomStyle(Na.RING_CENTER_COLOR,"#6c7fae"),(new Ga).drawInCircle(g,0,D(),L,z));h.isShowDataLabel()&&k(q,H,J,B)}t=new b(J,B,L)};var y=function(z,H,J,B,L){B!=L&&(g.getContext().fillStyle=
z,g.beginPath(),g.arc(0,0,H,B,L),g.arc(0,0,J,L,B,!0),g.fill())},u=function(z,H,J){g.beginPath();g.arc(0,0,J+1,z,z);g.arc(0,0,Math.max(0,H-1),z,z);g.stroke()},k=function(z,H,J,B){var L=h.isDataLabelOverlappable(),q=e.getSeries()[0].getNodes(),G=p+Math.min(8,Math.max(2,parseInt(.05*p)));(new ca).drawDataLabel(f,g,p,G,H,J,function(O,c,E){var m=h.getDataLabelType();(m&W.SHOW_LABEL_NAME)==W.SHOW_LABEL_NAME&&(c.push(z[O].getLabel()),E.push(L?0:.5));if((m&W.SHOW_LABEL_NUMBER)==W.SHOW_LABEL_NUMBER){var I=
q[O];c.push(I?I.getText():"");E.push(L?0:1)}(m&W.SHOW_LABEL_PERCENT)==W.SHOW_LABEL_PERCENT&&(c.push(B[O]),E.push(L?0:1))},L)},D=function(){return h.isHollow()?h.getHollowRadius(p):0}}function Ka(r,e,h){function p(){var n,t,y,u,k,D,z,H=[];this.bind=function(J,B){y=J;t=B};this.setHover=function(J){n=J};this.setLogicSize=function(J,B){u=J;k=B};this.setPixelPerValue=function(J){D=J};this.setRectInfo=function(J,B,L,q){H[J]=[B,L,q]};this.setBarWidth=function(J){z=J};this.getScopeAdapter=function(){return y};
this.getNumberRulerHelper=function(){return t};this.isHover=function(){return n};this.getLogicWidth=function(){return u};this.getLogicHeight=function(){return k};this.getPixelPerValue=function(){return D};this.getRectInfo=function(J){return H[J]};this.getBarWidth=function(){return z}}var a=this,l=new Ja(r),b=new ea(h),g=!1;this.setStackMode=function(n){g=n};this.isStackMode=function(){return g};this.protectedTransformCoordinate=function(n,t,y,u){throw Error("Implement");};this.drawNumberAxis=function(n){var t=
f(),y=e.getSeries()[0].getFormatString();l.clearAll();a.protectedDrawNumberAxisImpl(l,t,y,n)};this.protectedDrawNumberAxisImpl=function(n,t,y,u){throw Error("Implement");};this.drawChart=function(n){var t=f();t.setHover(n);n=a.protectedTransformCoordinate(l,t,0,0);t.setPixelPerValue(n);l.clearAll();l.getContext().strokeStyle="#ccc";l.beginPath();l.moveTo(0,0);l.lineTo(t.getLogicWidth(),0);l.stroke();n=e.getCategories();var y=e.getSeries()[0],u=y.getNodes();if(u){var k=t.getLogicWidth(),D=10<k?.4*
k:Math.max(1,k-4);k=.5*(k-D);var z=k+D;t.setBarWidth(D);for(var H=D=0,J=n.length-1;0<=J;J--){var B=n[J],L=u[J].getValue(),q=L*t.getPixelPerValue();if(0<=L){L=D;var G=D+=q}else G=H,L=H+=q;B=(B=B.getColor())?B:y.getColor();l.getContext().fillStyle=B?B:Z;l.fillRect(k,L,z,G);t.setRectInfo(J,B,L,G)}t.isHover()&&(n=l.getWidth(),y=l.getHeight(),u=Math.min(2,n>>1),k=Math.min(2,y>>1),n=Math.max(4,n-4),y=Math.max(4,y-4),l.getContext().fillStyle=S,l.getContext().fillRect(u,k,n,y));n=!0}else n=!1;n&&h.isShowDataLabel()&&
(n=v.getDataLabelFontSize(b),y=v.getDataLabelColor(b),u=l.getContext(),u.fillStyle=y,v.setupFont(u,n),u.textBaseline="middle",a.protectedDrawDataLabel(l,t,n))};this.protectedDrawDataLabel=function(n,t,y){throw Error("Implement");};var f=function(){var n=new p,t=e.getScopes()[0];t=new ya(t);var y=new xa(t,b);n.bind(t,y);t=l.getWidth();y=l.getHeight();y=a.protectedConfirmLogicSize(t,y);t=y[0];y=y[1];n.setLogicSize(t,y);a.protectedConfirmRulerMark(n);return n};this.protectedConfirmLogicSize=function(n,
t){throw Error("Implement");};this.protectedConfirmRulerMark=function(n){throw Error("Implement");};this.protectedMethod={};this.protectedMethod.getModel=function(){return e};this.protectedMethod.getAttr=function(){return h};this.protectedMethod.getStyleTool=function(){return b}}function na(){function r(e,h){var p;this.getReflineIndex=function(){return 0==e?-1:Math.abs(e)-1};this.getCategoryIndex=function(){return h};this.isEquals=function(a){return a?h==a.getCategoryIndex()&&e==a.inner().getReflineTag():
!1};this.inner=function(){p||(p={getReflineTag:function(){return e},isHoveringRefline:function(){return 0!=e},isHoveringSecondaryAxisRefline:function(){return 0>e},toSecondaryAxisRefline:function(){return new r(-e,-1)}});return p}}this.protectedMethod={};this.protectedMethod.searchHoverTarget=function(e,h,p,a){if(0<e){var l=a.getReflineCount();if(0<l)for(var b=0;b<l;b++)if(a.getRefline(b).isNearEnough(h))return new r(b+1,-1);if(a.getPixelMinY()<h&&h<a.getPixelMaxY()&&(e=a.whichCategoryNeared(e),0<=
e&&e<p.getCategories().length))return new r(0,e)}return new r(0,-1)}}function ra(r,e,h){function p(){var q,G,O,c,E,m,I,d=[];this.bind=function(w,F){q=w;G=F};this.getScopeAdapter=function(){return q};this.getNumberRulerHelper=function(){return G};this.setDivided=function(w,F,K,P){O=w;c=F;E=K;m=P};this.getLeftAxisWidth=function(){return O};this.getBottomAxisHeight=function(){return c};this.getMainWidth=function(){return E};this.getMainHeight=function(){return m};this.setPixelPerValue=function(w){I=
w};this.getPixelPerValue=function(){return I};this.setDrawingRect=function(w,F,K){var P=d[w];P||(P=[],d[w]=P);P[F]=K};this.getDrawingRect=function(w,F){return d[w][F]}}function a(){var q,G,O,c,E;this.setPixelPerCategory=function(m){q=m};this.getPixelPerCategory=function(){return q};this.setPixelMinY=function(m){G=m};this.getPixelMinY=function(){return G};this.setPixelMaxY=function(m){O=m};this.getPixelMaxY=function(){return O};this.whichCategoryNeared=function(m){return parseInt(m/q)};this.setPercentage=
function(m,I,d){!c&&(c=[]);var w=c[m];w||(w=[],c[m]=w);w[I]=d};this.getPercentage=function(m,I){return(m=c?c[m]:null)?m[I]:null};this.isWithRatio=function(){return c?!0:!1};this.setReflines=function(m){E=m};this.getReflineCount=function(){return E?E.length:0};this.getRefline=function(m){return E[m]}}na.call(this);var l=this,b=this.protectedMethod,g=new Ja(r),f,n=new ea(h),t=0,y,u,k;this.searchHoverTarget=function(q,G){q=g.retransformMouseXY(q,G);return b.searchHoverTarget(q[0],q[1],e,u)};this.getDrawingModel=
function(){return u};this.setMode=function(q){t=q};var D=function(){return(t&ra.MODE_STACKED)==ra.MODE_STACKED};this.setSelectionModel=function(q){y=q};this.hookCompositeContext=function(q){f=q};this.drawChart=function(q){k=q;g.clearAll();u=new a;q=z();var G=l.protectedDivideParts(g,q.getNumberRulerHelper());q.setDivided(G[0],G[1],G[2],G[3]);l.protectedConfirmRulerMark(q);G=l.protectedTransformCoordinate(g,q);q.setPixelPerValue(G);l.protectedDrawChart(g,q)};this.protectedDivideParts=function(q,G){throw Error("Implement");
};this.protectedConfirmRulerMark=function(q){throw Error("Implement");};this.protectedTransformCoordinate=function(q,G){throw Error("Implement");};this.protectedDrawChart=function(q,G){throw Error("Implement");};var z=function(){var q=new p;D()?Ua.stacked(e):Ua.multiSeries(e);var G=e.getScopes()[0];if((t&ra.MODE_PERCENT_STACKED)==ra.MODE_PERCENT_STACKED){var O=R.getMaxCategoryPercent(e);G.updateMinMax(O[1],O[0])}G=l.protectedCreateScopeAdapter(G);O=new xa(G,n);q.bind(G,O);return q},H=function(q,G){if(G-
q>N){var O=(G-q-N)/2;q+=O;G-=O}return[q,G]},J=function(q,G,O,c,E,m,I){g.getContext().fillStyle=I.getColor()||m.getColor();g.fillRect(q,G,O,c);B(E,m)&&(E=n.getUnselectedMaskColor(),g.getContext().strokeStyle=E,g.getContext().fillStyle=E,g.strokeRect(q,G,O,c),g.fillRect(q,G,O,c))},B=function(q,G){return y&&y.isAnySelected()?(q=e.getCategories()[q],!y.isSelected(q,G)):!1};this.protectedDrawDataLabel=function(q,G,O,c,E,m,I){for(var d=g.getContext(),w=e.getCategories().length,F=0;F<w;F++)for(var K=0;K<
c.length;K++){var P=c[K],M=P.getNodes()[F];if(M){var U=(t&ra.MODE_PERCENT_STACKED)==ra.MODE_PERCENT_STACKED?u.getPercentage(F,K):E.format(M.getValue()),V=d.measureText(U).width,aa=O.getDrawingRect(F,K);if(aa){var ia=aa[0],ja=aa[1],ua=aa[2],Da=aa[3];if(M=q(M.getValue(),V,ia,ja,ua,Da)){aa=g.transformXY(M[0],M[1]);M=aa[0];aa=aa[1]+1;var Oa=M,Va=aa-.5*I;if(!m||m.isRectCanDraw(Oa,Va,V,I))if(G(F,P))d.fillText(U,M,aa);else{ia=g.transformXY(ia,ja);ua=g.transformXY(ua,Da);ja=Math.max(ia[0],ua[0]);Da=Math.min(ia[1],
ua[1]);var Xa=Math.max(ia[1],ua[1])+1;Math.min(ia[0],ua[0])<Oa&&Oa+V<ja&&Da<Va&&Va+I<Xa?(P=P.getColor(),v.drawTextFitBackground(P,d,U,M,aa)):v.drawTextWithShadow(n,d,U,M,aa)}}}}}};this.protectedGetSeries=function(q){return q.getSeries()};var L=function(){var q=l.protectedGetNumberAxisFormat();!q&&(q=l.protectedGetSeries(e)[0].getFormatString());return q};this.protectedGetNumberAxisFormat=function(){throw Error("Override me");};this.protectedCreateScopeAdapter=function(q){throw Error("Override me");
};b.getGraphics=function(){return g};b.getModel=function(){return e};b.getAttr=function(){return h};b.getStyleTool=function(){return n};b.getNumberAxisFormat=L;b.isStackedMode=D;b.drawMain=function(q){var G=u.getPixelPerCategory(),O=l.protectedGetSeries(e);O=O?O.length:0;if((t&ra.MODE_ONE_COLUMN_MERGED)==ra.MODE_ONE_COLUMN_MERGED||1==O){var c=.4;20>G?c=.6:30>G&&(c=-.02*G+1);O=G*c;c=G*(1-c)/2}else c=.375*O+.75,O=G/(O+c),c=O*c/2;for(var E=e.getCategories().length,m=0,I=0;I<E;I++){var d=I,w=m,F=m+G;
if(k&&k.getCategoryIndex()==d){d=u.getPixelMinY();var K=u.getPixelMaxY();g.getContext().fillStyle=S;g.fillRect(w,d,F,K)}if(D()){K=void 0;w=q;F=c;var P=c+O;d=I;P=H(F,P);F=P[0];P=P[1];var M=(t&ra.MODE_PERCENT_STACKED)==ra.MODE_PERCENT_STACKED,U=0;M&&(K=R.getCategoryTotal(e,d),0!=K&&(U=1/K),K=new Ha,K.setFormatString(L()));for(var V=0,aa=0,ia=l.protectedGetSeries(e),ja=(ia?ia.length:0)-1;0<=ja;ja--){var ua=ia[ja],Da=ua.getNodes()[d];if(Da){var Oa=Da.getValue(),Va=Oa*w.getPixelPerValue();if(M){Va*=U;
var Xa=0==U?"---":K.format(Oa*U);u.setPercentage(d,ja,Xa)}0<Oa?(Oa=V,Xa=V+=Va):(Xa=aa,Oa=aa+=Va);J(F,Oa,P,Xa,d,ua,Da);w.setDrawingRect(d,ja,[F,Oa,P,Xa])}}}else if((t&ra.MODE_OVERLAP)==ra.MODE_OVERLAP)for(w=q,F=c,K=c+O,d=I,K=H(F,K),F=K[0],K=K[1],M=(P=l.protectedGetSeries(e))?P.length:0,U=0;U<M;U++){V=P[U];if(aa=V.getNodes()[d])ia=aa.getValue()*w.getPixelPerValue(),J(F,0,K,ia,d,V,aa),w.setDrawingRect(d,U,[F,0,K,ia]);V=(K-F)*(1-h.getOverlapShrinkingRatio())*.5;F+=V;K-=V}else for(w=q,F=c,d=O,K=I,M=(P=
l.protectedGetSeries(e))?P.length:0,U=(1<M?Math.max(1,Math.min(6,d/4)):0)/2,U+=(d-Math.min(N,d))/2,V=0;V<M;V++){aa=P[V];if(ia=aa.getNodes()[K])ja=ia.getValue(),Da=w.getScopeAdapter().cutSingleSideBar(ja),ja=null,Da&&(ua=Da[1],ja=F+U,Da=Da[0]*w.getPixelPerValue(),Va=F+d-U,ua*=w.getPixelPerValue(),J(ja,Da,Va,ua,K,aa,ia),ja=[ja,Da,Va,ua]),w.setDrawingRect(K,V,ja);F+=d}m+=G;c+=G}};b.drawDataLabel=function(q,G){if(h.isShowDataLabel()){var O=v.getDataLabelFontSize(n),c=v.getDataLabelColor(n),E=g.getContext();
E.fillStyle=c;v.setupFont(E,O);E.textBaseline="middle";var m,I=new Ha;I.setFormatString(h.getDataLabelFormat()||L());var d=h.isDataLabelOverlappable()?null:f?f.createNonoverlaper():new oa(0,0,g.getWidth(),g.getHeight());l.protectedDrawDataLabel(q,function(w,F){if(B(w,F))return!m&&(m=v.createColorWithAlpha(c,.25)),E.fillStyle=m,!0;m&&(E.fillStyle=c);return!1},G,l.protectedGetSeries(e),I,d,O)}};b.drawRefline=function(q,G,O){var c=e.getPaintableLines();c=c?c[0]:null;var E=k?k.getReflineIndex():-1,m=
G.getScopeAdapter(),I=G.getPixelPerValue();G=u.getPixelMinY();var d=u.getPixelMaxY(),w=u.getPixelPerCategory();q?(q=Y.drawHorizontalLines(c,E,m,n,g,0,O,I,d),Y.drawVGuidelines(e.getGuidelines(),n,g,G,d,function(F){return w*F})):(q=Y.drawVerticalLinesAtTransY(c,E,m,n,g,0,O,I,d),Y.drawHGuidelines(e.getGuidelines(),n,g,G,d,function(F){return w*F}));u.setReflines(q)};b.createDrawingContext=z}function Ea(){var r=this;this.protectedSuggestYAxisWidth=function(e,h){throw Error("Implement");};this.protectedSuggestXAxisHeight=
function(e,h){throw Error("Implement");};this.protectedMethod||(this.protectedMethod={});this.protectedMethod.divideLeftBottomAxis=function(e,h,p,a){p=void 0===p?e.getWidth():p;a=void 0===a?e.getHeight():a;h=r.protectedSuggestYAxisWidth(e,h);h=Math.max(40,Math.min(.382*p,h));p-=h;e=r.protectedSuggestXAxisHeight(e,p);e=Math.max(24,Math.min(.382*a,e));return[h,e,p,a-e]}}function va(){var r=this;this.protectedSuggestHAxisHeight=function(e){throw Error("Implement");};this.protectedSuggestVAxisWidth=function(e,
h,p){throw Error("Implement");};this.protectedMethod||(this.protectedMethod={});this.protectedMethod.divideBottomLeftAxis=function(e,h){var p=e.getWidth(),a=e.getHeight();h=r.protectedSuggestHAxisHeight(h);h=Math.max(24,Math.min(.382*a,h));a-=h;e=r.protectedSuggestVAxisWidth(e,a,.3*p);e=Math.max(Math.max(42,.05*p),Math.min(.382*p,e));return[e,h,p-e,a]}}function ka(r,e,h){ra.call(this,r,e,h);Ea.call(this);var p=this,a=this.protectedMethod;this.protectedDivideParts=function(g,f){return a.divideLeftBottomAxis(g,
f)};this.protectedSuggestYAxisWidth=function(g,f){var n=a.getNumberAxisFormat(),t=a.getAttr().getYUnitText();return f.suggestVerticalRulerWidth(g,n,t)};this.protectedSuggestXAxisHeight=function(g,f){var n=a.getStyleTool(),t=a.getModel().getCategories();return Q.suggestCategoryAxisHeight(n,g,f/t.length,t)};this.protectedConfirmRulerMark=function(g){g.getNumberRulerHelper().confirmVerticalRulerMark(g.getMainHeight())};this.protectedTransformCoordinate=function(g,f){var n=f.getScopeAdapter(),t=f.getLeftAxisWidth();
return A.verticalNumberAxis(g,t,0,f.getMainHeight(),n,Q.getShrinkForTopAlways(a.getStyleTool(),a.getAttr()),Q.getShrinkForAxisTop(a.getStyleTool(),a.getAttr()),b())};this.protectedDrawChart=function(g,f){var n=f.getScopeAdapter(),t=f.getPixelPerValue(),y=b();y=Q.confirmNumberAxis(t,y,n,a.getStyleTool(),a.getAttr());n=y[0];y=y[1];p.getDrawingModel().setPixelMinY(n);p.getDrawingModel().setPixelMaxY(y);y=a.getNumberAxisFormat();var u=a.getAttr().getYUnitText(),k=f.getLeftAxisWidth(),D=f.getMainWidth();
f.getNumberRulerHelper().drawLeftNumberAxisWithAssistantLine(g,k,t,y,u,D);t=a.getModel().getCategories();y=f.getMainWidth();u=f.getBottomAxisHeight();var z=y/t.length;p.getDrawingModel().setPixelPerCategory(z);a.drawMain(f);Q.drawCategoryAxis(t,function(H,J){return z*H+("center"==J?z/2:0)},a.getStyleTool(),g,y,u,z,n,a.getAttr().getXUnitText());a.drawRefline(!0,f,y);a.drawDataLabel(l,f)};var l=function(g,f,n,t,y,u){var k=v.getDataLabelFontSize(a.getStyleTool());if(a.isStackedMode()){if(!a.getAttr().isDataLabelOverlappable()&&
Math.abs(u-t)<k)return null;g=t+.5*(u-t)}else g=u+(0>g?-1:1)*k*.7;return[(n+y-f)/2,g]},b=function(){return!a.isStackedMode()&&a.getAttr().isShowDataLabel()?parseInt(1.25*v.getDataLabelFontSize(a.getStyleTool())):0};this.protectedGetNumberAxisFormat=function(){return a.getAttr().getYFormat()};this.protectedCreateScopeAdapter=function(g){if(a.isStackedMode())return new ya(g);g.appointMinMax(a.getAttr().getYRulerMin(),a.getAttr().getYRulerMax());return new ya(g,a.getAttr().getYRulerScale(),a.getAttr().getYRulerStart())}}
function ma(r,e,h){ra.call(this,r,e,h);va.call(this);var p=this,a=this.protectedMethod;this.protectedDivideParts=function(b,g){return a.divideBottomLeftAxis(b,g)};this.protectedSuggestHAxisHeight=function(b){var g=a.getAttr().getXUnitText();return b.suggestHorizontalRulerHeight(g?!0:!1)};this.protectedSuggestVAxisWidth=function(b,g,f){var n=a.getStyleTool(),t=a.getModel().getCategories();return T.suggestCategoryAxisWidth(n,b,g/t.length,t,f)};this.protectedConfirmRulerMark=function(b){b.getNumberRulerHelper().confirmHorizontalRulerMark(b.getMainWidth())};
this.protectedTransformCoordinate=function(b,g){var f=g.getScopeAdapter(),n=g.getLeftAxisWidth();return A.horizontalNumberAxis(b,n,0,g.getMainWidth()-5,f,a.getAttr().isReserveRollOutSpace()?24:6,0,0)};this.protectedDrawChart=function(b,g){var f=g.getScopeAdapter(),n=g.getPixelPerValue(),t=T.confirmNumberAxis(n,f);f=t[0];t=t[1];p.getDrawingModel().setPixelMinY(f);p.getDrawingModel().setPixelMaxY(t);t=a.getModel().getCategories();var y=g.getLeftAxisWidth(),u=g.getMainHeight()-(a.getAttr().isReserveRollOutSpace()?
24:6),k=u/t.length;p.getDrawingModel().setPixelPerCategory(k);var D=a.getNumberAxisFormat(),z=a.getAttr().getXUnitText();g.getNumberRulerHelper().drawBottomNumberAxisWithAssistantLine(b,n,D,z,u);a.drawMain(g);T.drawLeftCategoryAxis(t,function(H){return k*H+k/2},a.getStyleTool(),b,y,u,k,f);a.drawRefline(!1,g,u);a.drawDataLabel(l,g)};var l=function(b,g,f,n,t,y){if(a.isStackedMode()){if(!a.getAttr().isDataLabelOverlappable()&&Math.abs(y-n)<g)return null;b=.5*(y+n-g)}else b=y+(0>b?-g-2:2),n=p.getDrawingModel().getPixelMinY(),
y=p.getDrawingModel().getPixelMaxY(),b+g>y&&(b=y-g-1),b<n&&(b=n+1);return[.5*(f+t),b]};this.protectedGetNumberAxisFormat=function(){return a.getAttr().getXFormat()};this.protectedCreateScopeAdapter=function(b){if(a.isStackedMode())return new ya(b);b.appointMinMax(a.getAttr().getXRulerMin(),a.getAttr().getXRulerMax());return new ya(b,a.getAttr().getXRulerScale(),a.getAttr().getXRulerStart())}}function sa(r,e,h){function p(){var d,w,F,K,P,M,U,V,aa,ia;this.bind=function(ja,ua){d=ja;w=ua};this.getScopeAdapter=
function(){return d};this.getNumberRulerHelper=function(){return w};this.setPixelPerValue=function(ja){F=ja};this.getPixelPerValue=function(){return F};this.setMainRect=function(ja,ua,Da,Oa){K=ja;P=ua;M=Da;U=Oa};this.getMainX=function(){return K};this.getMainWidth=function(){return M};this.getNonoverlaper=function(){V||(V=n?n.createNonoverlaper():new oa(K,P,M,U));return V};this.bindLabelFormater=function(ja){aa=ja};this.formatLabel=function(ja){return aa?aa.format(ja.getValue()):ja.getText()};this.initHumbleChecker=
function(ja){var ua;ia=n?function(Da,Oa){if(n.isHumble(Da,Oa))return!ua&&(ua=v.createColorWithAlpha(ja,.25)),r.fillStyle=ua,!0;ua&&(r.fillStyle=ja);return!1}:null};this.isHumbleAndChangingStyle=function(ja,ua){return ia?ia(ja,ua):!1}}function a(){var d,w,F,K,P;this.setPixelMinY=function(M){w=M};this.getPixelMinY=function(){return w};this.setPixelMaxY=function(M){F=M};this.getPixelMaxY=function(){return F};this.setCategoryXCalculator=function(M){d=M};this.getCategoryX=function(M){return d.getCategoryX(M)};
this.whichCategoryNeared=function(M){return d.whichCategoryNeared(M)};this.setReflines=function(M){K=M};this.getReflineCount=function(){return K?K.length:0};this.getRefline=function(M){return K[M]};this.sortSeries=function(M,U){var V=I(U,M).getValue();!P&&(P=[]);var aa=P[M];aa||(aa=[],P[M]=aa);for(var ia=!1,ja=0;ja<aa.length;ja++){var ua=I(aa[ja],M).getValue();if(V>ua){ia=!0;aa=aa.splice(ja,0,U);break}}ia||aa.push(U)};this.getSeriesOrder=function(M){return P?P[M]:null};this.getNodeModel=function(M,
U){return I(M,U)}}function l(d,w){var F=Math.min(d/w,.05*d);var K=1<w?(d-2*F)/(w-1):0;this.getCategoryX=function(P){return F+K*P};this.whichCategoryNeared=function(P){if(0==K)return 1==w?0:-1;P=(P-F+.5*K)/K;return 0>P?-1:parseInt(P)}}na.call(this);var b=this,g=this.protectedMethod,f=new Ja(r),n,t=new ea(h),y=sa.AXIS_LEFT,u,k;this.searchHoverTarget=function(d,w){d=f.retransformMouseXY(d,w);return g.searchHoverTarget(d[0],d[1],e,u)};this.getDrawingModel=function(){return u};this.setAxisIndex=function(d){y=
d};this.hookCompositeContext=function(d){n=d};this.drawChart=function(d){k=d;u=new a;d=m();b.protectedDrawChart(f,d)};this.protectedDrawChart=function(d,w){throw Error("Implement");};var D=function(d,w,F,K,P){for(var M=e.getCategories(),U=b.protectedGetSeries(e),V=d?0:U.length-1;d?V<U.length:0<=V;d?V++:V--){var aa=U[V];w&&w(V,aa);for(var ia=aa=null,ja=null,ua=null,Da=0;Da<M.length;Da++){var Oa=I(V,Da);Oa&&(aa=F(Da,Oa),K(V,Da,ua,ja,ia,aa),ua=ja,ja=ia,ia=aa,aa=null)}P&&P(V,ua,ja,ia,aa)}},z=function(d,
w,F,K){D(!0,d,w,F,K)},H=function(d,w,F,K){D(!1,d,w,F,K)},J=function(d){var w=1<b.protectedGetSeries(e).length&&(h.isTooltipsSorted()||h.isShowDataLabel()),F=!1;f.getContext().save();f.getContext().lineWidth=2.5;f.getContext().lineJoin="round";H(function(K,P){q(P);F=!1},function(K,P){return G(d,K,P.getValue())},function(K,P,M,U,V,aa){w&&u.sortSeries(P,K);h.isSmooth()?K=O(M,U,V,aa):V&&aa?(f.beginPath(),f.moveTo(aa[0],aa[1]),f.lineTo(V[0],V[1]),f.stroke(),K=!0):K=!1;F=K},function(K,P,M,U,V){h.isSmooth()&&
(F=O(P,M,U,V));!F&&U&&c(U,3)});f.getContext().restore()},B=function(d){H(function(w,F){q(F)},function(w,F){return G(d,w,F.getValue())},function(w,F,K,P,M,U){c(U,3)},null)},L=function(d){var w=e.getPaintableLines(),F=w?w[y]:null,K=k?k.getReflineIndex():-1;w=y==sa.AXIS_RIGHT;d=Y.drawHorizontalLines(F,K,d.getScopeAdapter(),t,f,0,d.getMainWidth(),d.getPixelPerValue(),u.getPixelMaxY(),w);u.setReflines(d);w||Y.drawVGuidelines(e.getGuidelines(),t,f,u.getPixelMinY(),u.getPixelMaxY(),function(P){return u.getCategoryX(P)})},
q=function(d){d=(d=d.getColor())?d:Z;f.getContext().strokeStyle=d;f.getContext().fillStyle=d},G=function(d,w,F){F=d.getScopeAdapter().cutFootForPoint(F);d=F*d.getPixelPerValue();return[u.getCategoryX(w),d]},O=function(d,w,F,K){if(!F||!w)return!1;var P=d?d[0]:null,M=d?d[1]:null;d=w[0];w=w[1];var U=F[0];F=F[1];var V=K?K[0]:null,aa=K?K[1]:null;P=null===P?0:(U-P)/6;M=null===M?0:(F-M)/6;K=null===V?0:(V-d)/6;V=null===aa?0:(aa-w)/6;aa=U-d;var ia=P+K;ia>aa&&(aa/=ia,P*=aa,K*=aa,M*=aa,V*=aa);P=d+P;M=w+M;K=
U-K;V=F-V;f.beginPath();f.moveTo(d,w);f.bezierCurveTo(P,M,K,V,U,F);f.stroke();return!0},c=function(d,w){f.getContext().save();f.getContext().strokeStyle=t.getBackgroundColor();f.getContext().lineWidth=1;f.beginPath();f.arc(d[0],d[1],w,0,2*Math.PI);f.fill();f.stroke();f.getContext().restore()};this.protectedCreateDataLabelFormater=function(){return null};var E=function(d,w,F,K,P,M){!K&&(K=I(F,w));var U=G(d,w,K.getValue());K=d.formatLabel(K);for(var V=f.getContext().measureText(K).width,aa=d.getMainX(),
ia=aa+d.getMainWidth(),ja=0;ja<M.length;ja++){var ua=U[0]-.5*V,Da=U[1];0==M[ja]&&(Da=Da+.5*P+2);6==M[ja]&&(Da=Da-.5*P-4);Da=f.transformXY(ua,Da);ua=Da[0];Da=Da[1];ua=ua<aa?aa:ua+V>ia?ia-V:ua;if(h.isDataLabelOverlappable()||d.getNonoverlaper().isRectCanDraw(ua,Da-.5*P,V,P)){d.isHumbleAndChangingStyle(w,F)?f.getContext().fillText(K,ua,Da):v.drawTextWithShadow(t,f.getContext(),K,ua,Da);break}}},m=function(){var d=new p;Ua.multiSeries(e);var w=e.getScopes()[y];w.appointMinMax(h.getYRulerMin(),h.getYRulerMax());
w=new ya(w,h.getYRulerScale(),h.getYRulerStart());var F=new xa(w,t);d.bind(w,F);return d};this.protectedGetSeries=function(d){return d.getSeries()};var I=function(d,w){w=(d=b.protectedGetSeries(e)[d].getNodes())?d[w]:null;if(!w||isNaN(w.getValue()))w=null,h.isZeroInsteadNull()&&(w=new La,w.setValue(0),w.setText("0"));return w};g.getGraphics=function(){return f};g.getModel=function(){return e};g.getAttr=function(){return h};g.getStyleTool=function(){return t};g.updateScopeWhenSmooth=function(d){if(h.isSmooth()&&
!d.isWithLog()&&!h.isZeroInsteadNull()&&!d.isAppointedScope()){var w=-Infinity,F=Infinity,K=!1,P=function(M,U,V,aa){M=M?M[1]:null;U=U[1];V=V[1];aa=aa?aa[1]:null;M=U+(null===M?0:(V-M)/6);aa=V-(null===aa?0:(aa-U)/6);w=Math.max(Math.max(w,M),aa);F=Math.min(Math.min(F,M),aa);K=!0};z(null,function(M,U){return[null,U.getValue()]},function(M,U,V,aa,ia,ja){ia&&aa&&P(V,aa,ia,ja)},function(M,U,V,aa,ia){aa&&V&&P(U,V,aa,ia)});K&&d.updateScopeMaxMin(w>d.getScopeMax()?w:null,F<d.getScopeMin()?F:null)}};g.createCategoryXCalculator=
function(d,w){return new l(d,w)};g.drawMain=function(d){var w=h.isShowDataLabel(),F=h.isPaintingPoint()||w,K=k&&0<=k.getCategoryIndex();J(d);F&&B(d);L(d);if(K){K=k.getCategoryIndex();if(y==sa.AXIS_LEFT){var P=u.getCategoryX(K);f.getContext().strokeStyle=C;f.getContext().lineWidth=1;f.beginPath();f.moveTo(P,u.getPixelMinY());f.lineTo(P,u.getPixelMaxY());f.stroke()}P=b.protectedGetSeries(e);for(var M=P.length-1;0<=M;M--){var U=P[M],V=I(M,K);V&&(q(U),U=G(d,K,V.getValue()),c(U,F?4:3))}}if(w)for(w=v.getDataLabelFontSize(t),
F=v.getDataLabelColor(t),K=f.getContext(),K.fillStyle=F,K.textBaseline="middle",v.setupFont(K,w),d.bindLabelFormater(b.protectedCreateDataLabelFormater()),d.initHumbleChecker(F),F=1==b.protectedGetSeries(e).length,K=0;K<e.getCategories().length;K++)if(F){if(P=d,M=K,U=w,V=I(0,M)){var aa=V.getValue(),ia=[0,6],ja=0==M?null:I(0,M-1);ja&&(ja=ja.getValue(),aa<ja&&(ia=[6,0]));E(P,M,0,V,U,ia)}}else if(P=d,M=K,U=w,V=u.getSeriesOrder(M))if(aa=[0,6],ia=V[0],E(P,M,ia,null,U,aa),1<V.length&&(aa=[6,0],ia=V[V.length-
1],E(P,M,ia,null,U,aa)),2<V.length)for(aa=[0,6],ja=1;ja<V.length-1;ja++)ia=V[ja],E(P,M,ia,null,U,aa)};g.createDrawingContext=m}function Aa(r,e,h){function p(){var B,L,q,G,O,c,E,m=[],I,d;this.bind=function(w,F){B=w;L=F};this.getScopeAdapter=function(){return B};this.getNumberRulerHelper=function(){return L};this.setPixelPerValue=function(w){q=w};this.getPixelPerValue=function(){return q};this.setMainRect=function(w,F,K,P){G=w;O=F;c=K;E=P};this.getMainX=function(){return G};this.getMainWidth=function(){return c};
this.setCumulatedPixel=function(w,F,K){var P=m[w];P||(P=[],m[w]=P);P[F]=K};this.getCumulatedPixel=function(w,F){return m[w][F]};this.getNonoverlaper=function(){!I&&(I=new oa(G,O,c,E+10));return I};this.bindLabelFormater=function(w){d=w};this.formatLabel=function(w){return d?d.format(w.getValue()):w.getText()}}function a(){var B,L,q,G,O;this.setPixelMinY=function(c){B=c};this.getPixelMinY=function(){return B};this.setPixelMaxY=function(c){L=c};this.getPixelMaxY=function(){return L};this.initCategoryXCalculator=
function(c,E){q=new l(c,E)};this.getCategoryX=function(c){return q.getCategoryX(c)};this.whichCategoryNeared=function(c){return q.whichCategoryNeared(c)};this.setPercentage=function(c,E,m){!G&&(G=[]);var I=G[c];I||(I=[],G[c]=I);I[E]=m};this.getPercentage=function(c,E){return(c=G?G[c]:null)?c[E]:null};this.isWithRatio=function(){return G?!0:!1};this.setReflines=function(c){O=c};this.getReflineCount=function(){return O?O.length:0};this.getRefline=function(c){return O[c]};this.getNodeModel=function(c,
E){return H(c,E)}}function l(B,L){var q=Math.min(B/L,.05*B);var G=1<L?(B-2*q)/(L-1):0;this.getCategoryX=function(O){return q+G*O};this.whichCategoryNeared=function(O){if(0==G)return 1==L?0:-1;O=(O-q+.5*G)/G;return 0>O?-1:parseInt(O)}}na.call(this);var b=this,g=this.protectedMethod,f=new Ja(r),n=new ea(h),t=!1,y,u;this.setPercentMode=function(B){t=B};this.isPercentMode=function(){return t};this.searchHoverTarget=function(B,L){B=f.retransformMouseXY(B,L);return g.searchHoverTarget(B[0],B[1],e,y)};this.getDrawingModel=
function(){!y&&(y=new a);return y};this.drawChart=function(B){u=B;b.getDrawingModel();B=z();b.protectedDrawChart(f,B)};this.protectedDrawChart=function(B,L){throw Error("Implement");};var k=function(B){var L=e.getPaintableLines();L=L?L[0]:null;var q=u?u.getReflineIndex():-1;B=Y.drawHorizontalLines(L,q,B.getScopeAdapter(),n,f,0,B.getMainWidth(),B.getPixelPerValue(),y.getPixelMaxY());y.setReflines(B);Y.drawVGuidelines(e.getGuidelines(),n,f,y.getPixelMinY(),y.getPixelMaxY(),function(G){return y.getCategoryX(G)})},
D=function(B){B=(B=B.getColor())?B:Z;f.getContext().strokeStyle=B;f.getContext().fillStyle=B},z=function(){var B=new p;Ua.stacked(e);var L=e.getScopes()[0];if(t){var q=R.getMaxCategoryPercent(e);L.updateMinMax(q[1],q[0])}L=new ya(L);q=new xa(L,n);B.bind(L,q);return B},H=function(B,L){return(L=(B=e.getSeries()[B].getNodes())?B[L]:null)&&!isNaN(L.getValue())?L:null},J=function(){var B=h.getYFormat();!B&&(B=e.getSeries()[0].getFormatString());return B};g.getGraphics=function(){return f};g.getModel=function(){return e};
g.getAttr=function(){return h};g.getStyleTool=function(){return n};g.getNumberAxisFormat=J;g.drawMain=function(B){var L=[],q=[];if(t){var G=new Ha;G.setFormatString(J())}for(var O=0;O<e.getCategories().length;O++){var c=1;t&&(c=R.getCategoryTotal(e,O),c=0==c?0:1/c);for(var E=e.getSeries().length-1;0<=E;E--){var m=H(E,O),I=m?m.getValue():0,d=0>I?q:L,w=d[O],F=0;w?F=w[w.length-1]:(w=[],d[O]=w);d=F+I*B.getPixelPerValue()*c;w.push(d);B.setCumulatedPixel(O,E,d);G&&(m=m?0==c?"---":G.format(I*c):"",y.setPercentage(O,
E,m))}}L=[];q=[];O=e.getCategories();G=e.getSeries();O=O.length-1;for(c=G.length-1;0<=c;c--){D(G[c]);f.beginPath();for(E=0;E<=O;E++)m=y.getCategoryX(E),I=B.getCumulatedPixel(E,c),w=0>I?q:L,I=w[E],!I&&(I=0),0==E?f.moveTo(m,I):f.lineTo(m,I);for(E=O;0<=E;E--)m=y.getCategoryX(E),I=B.getCumulatedPixel(E,c),f.lineTo(m,I),w=0>I?q:L,w[E]=I,h.isShowDataLabel()&&(m=f.transformXY(m,I),B.getNonoverlaper().setRectHasBeenDrawn(m[0],m[1],1,1));f.closePath();0<O?f.fill():f.stroke()}k(B);if(u&&0<=u.getCategoryIndex())for(L=
u.getCategoryIndex(),q=y.getCategoryX(L),f.getContext().strokeStyle=C,f.getContext().lineWidth=1,f.beginPath(),f.moveTo(q,y.getPixelMinY()),f.lineTo(q,y.getPixelMaxY()),f.stroke(),G=e.getSeries(),O=G.length-1;0<=O;O--)c=G[O],H(O,L)&&(D(c),c=B.getCumulatedPixel(L,O),f.getContext().strokeStyle=n.getBackgroundColor(),f.beginPath(),f.arc(q,c,3,0,2*Math.PI),f.fill(),f.stroke());if(h.isShowDataLabel())for(L=v.getDataLabelFontSize(n),G=v.getDataLabelColor(n),q=f.getContext(),q.fillStyle=G,q.textBaseline=
"middle",v.setupFont(q,L),G=B.getMainX(),O=G+B.getMainWidth(),t||(c=new Ha,c.setFormatString(h.getDataLabelFormat()||J()),B.bindLabelFormater(c)),c=0;c<e.getCategories().length;c++)for(E=0;E<e.getSeries().length;E++)if(m=H(E,c))m=t?y.getPercentage(c,E):B.formatLabel(m),I=q.measureText(m).width,w=y.getCategoryX(c)-.5*I,d=B.getCumulatedPixel(c,E),d-=(0>d?-1:1)*L,d=f.transformXY(w,d),w=d[0],d=d[1],w=w<G?G:w+I>O?O-I:w,(h.isDataLabelOverlappable()||B.getNonoverlaper().isRectCanDraw(w,d-.5*L,I,L))&&v.drawTextWithShadow(n,
q,m,w,d)};g.createDrawingContext=z}function ta(){function r(e,h,p){var a=p?p[0]:-1,l=p?p[1]:-1;this.getXAxisReflineIndex=function(){return e};this.getYAxisReflineIndex=function(){return h};this.getCategoryIndex=function(){return a};this.getSeriesIndex=function(){return l};this.isEquals=function(b){return b?a==b.getCategoryIndex()&&l==b.getSeriesIndex()&&e==b.getXAxisReflineIndex()&&h==b.getYAxisReflineIndex():!1}}this.protectedMethod={};this.protectedMethod.searchHoverTarget=function(e,h,p,a){if(p=
a.whichPointNearest(e,h))return new r(-1,-1,p);if(h=a.whichReflineNearest(e,h))if(e=h[0],h=h[1],0<=e||0<=h)return new r(e,h,null);return new r(-1,-1,null)}}function Fa(r,e,h){function p(){var y,u,k,D,z,H,J,B,L,q,G,O,c,E;this.setHoverTarget=function(m){y=m};this.isHoverPoint=function(m,I){return y&&y.getCategoryIndex()==m&&y.getSeriesIndex()==I};this.getXHoverReflineIndex=function(){return y?y.getXAxisReflineIndex():-1};this.getYHoverReflineIndex=function(){return y?y.getYAxisReflineIndex():-1};this.bind=
function(m,I,d){u=m.getScopes()[0];H=m.getScopes()[1];k=new ya(u,I.getXRulerScale(),I.getXRulerStart());J=new ya(H,I.getYRulerScale(),I.getYRulerStart());D=new xa(k,d);B=new xa(J,d)};this.getXScope=function(){return u};this.getXScopeAdapter=function(){return k};this.getXRulerHelper=function(){return D};this.getYScope=function(){return H};this.getYScopeAdapter=function(){return J};this.getYRulerHelper=function(){return B};this.getXPixelPerValue=function(){return z};this.getYPixelPerValue=function(){return L};
this.setPixelPerValue=function(m,I){z=m;L=I};this.getDrawableX=function(m){return z*k.cutFootForPoint(m)};this.getDrawableY=function(m){return L*J.cutFootForPoint(m)};this.setBubbleParam=function(m){q=m};this.getDrawableRadius=function(m){var I=3;q&&(m||0===m)&&(I=q[2]+(m-q[0])*q[1]);return I};this.setXPixelScope=function(m,I){G=m;O=I};this.getPixelMinX=function(){return G};this.getPixelMaxX=function(){return O};this.setYPixelScope=function(m,I){c=m;E=I};this.getPixelMinY=function(){return c};this.getPixelMaxY=
function(){return E}}function a(){var y=[],u,k;this.addPoint=function(D,z,H,J,B){y.push([H,J,B,D,z])};this.setXReflines=function(D){u=D};this.setYReflines=function(D){k=D};this.whichReflineNearest=function(D,z){if(u)for(var H=0;H<u.length;H++){var J=u[H];if(J.isNearEnough(D))return[H,-1]}if(k)for(H=0;H<k.length;H++)if(J=k[H],J.isNearEnough(z))return[-1,H];return null};this.whichPointNearest=function(D,z){for(var H=65535,J=null,B=y.length-1;0<=B;B--){var L=y[B],q=L[2],G=Math.abs(D-L[0]),O=Math.abs(z-
L[1]);G=Math.sqrt(G*G+O*O);G<H&&G<=q+2&&(H=G,J=[L[3],L[4]])}return J};this.getXAxisRefline=function(D){return u[D]};this.getYAxisRefline=function(D){return k[D]}}ta.call(this);var l=this,b=this.protectedMethod,g=new Ja(r),f=new ea(h),n;this.searchHoverTarget=function(y,u){y=g.retransformMouseXY(y,u);return b.searchHoverTarget(y[0],y[1],e,n)};this.getDrawingModel=function(){return n};this.drawChart=function(y){Ua.scatter(e);var u=e.getScopes();u[0].appointMinMax(h.getXRulerMin(),h.getXRulerMax());
u[1].appointMinMax(h.getYRulerMin(),h.getYRulerMax());n=new a;y=t(y);if(2<u.length){u=g.getWidth();var k=g.getHeight();k=Math.max(3,Math.min(40,parseInt(.16*Math.min(u,k)/2)));u=e.getScopes()[2];var D=u.getAppointableMax()-u.getAppointableMin();k=0==D?0:(k-3)/D;u=[u.getAppointableMin(),k,3];y.setBubbleParam(u)}l.protectedDrawChart(g,y)};this.protectedDrawChart=function(y,u){throw Error("Implement");};var t=function(y){var u=new p;u.setHoverTarget(y);u.bind(e,h,f);return u};b.getGraphics=function(){return g};
b.getModel=function(){return e};b.getAttr=function(){return h};b.getStyleTool=function(){return f};b.drawMain=function(y){g.getContext().save();for(var u,k=0;k<e.getSeries().length;k++){var D=e.getSeries()[k].getColor();g.getContext().fillStyle=D;for(var z=0;z<e.getCategories().length;z++){var H=e.getNode(k,z);if(H){var J=y.getDrawableX(H.getXAxisValue()),B=y.getDrawableY(H.getYAxisValue());H=y.getDrawableRadius(H.getZAxisValue());n.addPoint(z,k,J,B,H);y.isHoverPoint(z,k)?u=[v.createColorWithoutAlpha(D),
J,B,H+2]:(g.beginPath(),g.arc(J,B,H,0,2*Math.PI),g.fill())}}}D=(k=e.getPaintableLines())?k[0]:null;z=y.getXHoverReflineIndex();D=Y.drawVerticalLines(D,z,y.getXScopeAdapter(),f,g,y.getPixelMinY(),y.getPixelMaxY(),y.getXPixelPerValue(),y.getPixelMinX(),y.getPixelMaxX());n.setXReflines(D);k=k?k[1]:null;D=y.getYHoverReflineIndex();y=Y.drawHorizontalLines(k,D,y.getYScopeAdapter(),f,g,y.getPixelMinX(),y.getPixelMaxX(),y.getYPixelPerValue(),y.getPixelMaxY());n.setYReflines(y);u&&(g.getContext().fillStyle=
u[0],g.beginPath(),g.arc(u[1],u[2],u[3],0,2*Math.PI),g.fill());g.getContext().restore()};b.createDrawingContext=t}function la(r,e,h){function p(b){this.getPath=function(){return b};this.isEquals=function(g){if(g)if(b){if(g.getPath()&&b.length==g.getPath().length){for(var f=!0,n=0;n<b.length;n++)f=f&&b[n]==g.getPath()[n];return f}}else return!g.getPath();return!1}}var a=this;this.searchHoverTarget=function(b,g){var f=[];!a.protectedSearchHoverTarget(b,g,f)&&(f=null);return new p(f)};this.protectedSearchHoverTarget=
function(b,g,f){throw Error("Implement");};var l=function(b,g){for(var f=1,n=0,t=0,y=0;y<b.getChildCount();y++){var u=b.getChild(y),k=0<u.getChildCount();if(k){var D=l(u,g);f=Math.max(f,D+1)}D=u.getSize();k?k=u.getDrawingSize():(0>D&&g&&(D=0),k=0>D?-D:D,u.setDrawingSize(k));n+=D;t+=k}b.setSize(n);b.setDrawingSize(t);return f};this.protectedMethod={};this.protectedMethod.sumary=l}function ha(r,e,h){function p(c,E,m){var I=this,d=null;this.isAlignAppointed=function(){return E};this.isFontAppointed=
function(){return m};this.hasCaptionLine=function(){return I.getCaptionLine()?!0:!1};this.getCaptionLine=function(){return c[0]};this.getPrimaryLine=function(){return c[1]};this.hasSecondaryLine=function(){if(null===d){d=!1;var w=I.getSecondaryLine();if(w)for(var F=0,K=w.getPartCount();F<K;F++)if(w.getPart(F).getDisplay()){d=!0;break}}return d};this.getSecondaryLine=function(){return c[2]};this.setupDefaultFontSize=function(w,F){var K=function(P,M,U){for(var V=0,aa=P.getPartCount();V<aa;V++){var ia=
P.getPart(V);ia.setDefaultFontSize(ia.isValue()?M:U)}};K(I.getPrimaryLine(),w,F);I.hasCaptionLine()&&K(I.getCaptionLine(),F,F);I.hasSecondaryLine()&&K(I.getSecondaryLine(),F,F)}}function a(){var c,E=[],m,I,d,w;this.setAlign=function(F){c=F};this.getAlign=function(){return c};this.addPart=function(F){E.push(F)};this.getPartCount=function(){return E.length};this.getPart=function(F){return E[F]};this.setBaseY=function(F){m=F};this.getBaseY=function(){return m};this.setAscent=function(F){I=F};this.getAscent=
function(){return I};this.setWidth=function(F){d=F};this.getWidth=function(){return d};this.setLeftX=function(F){w=F};this.getLeftX=function(){return w}}function l(c,E,m){var I,d=0,w=0;this.getDisplay=function(F){var K=c;if(F&&E){F="";for(var P=0;P<K.length;P++){var M=K.charCodeAt(P);F=48<=M&&57>=M?F+String.fromCharCode(Math.floor(10*Math.random()+48)):F+K.charAt(P)}K=F}return K};this.isValue=function(){return E};this.getStyle=function(){return m};this.bindDefaultColorGetter=function(F){I=F};this.getUsableColor=
function(){var F=m?m.getColor():null;return F?F:I()};this.setDefaultFontSize=function(F){d=F};this.getUsableFontSize=function(){var F=m?m.getFontSize():null;return F?F:d};this.getUsableFontFamily=function(){return m?m.getFontFamily():null};this.setWidth=function(F){w=F};this.getWidth=function(){return w}}var b=new ea(h),g,f,n=!1;this.drawChart=function(){t(!1)};this.drawChartWithAnimation=function(){t(!0)};this.destroy=function(){n=!0};var t=function(c){if(0!=e.getCategories().length){var E=new Ja(r);
g=E.getWidth();f=E.getHeight();r.textBaseline="alphabetic";var m=k();D(m);if(c){var I=!0,d=0,w=function(){y(m,I);18>=d&&!n&&(18==d&&(I=!1),d++,setTimeout(w,20*Math.pow(1.1,d)))};w()}else y(m)}},y=function(c,E){r.clearRect(0,0,g,f);c.hasCaptionLine()&&u(c.getCaptionLine());u(c.getPrimaryLine(),E);c.hasSecondaryLine()&&u(c.getSecondaryLine())},u=function(c,E){for(var m=c.getLeftX(),I=c.getBaseY(),d=0>m,w=c.getPartCount(),F=0;F<w;F++){var K=c.getPart(F);v.setupFont(r,K.getUsableFontSize(),K.getUsableFontFamily());
r.fillStyle=K.getUsableColor();r.fillText(K.getDisplay(E),m,I);m+=K.getWidth()}E=m>g;if(d||E)v.setupFont(r,16),I+=.33*c.getAscent(),d&&(m=0,K=c.getPart(0),r.fillStyle=K.getUsableColor(),r.fillText("...",m,I)),E&&(m=g-r.measureText("...").width,K=c.getPart(w-1),r.fillStyle=K.getUsableColor(),r.fillText("...",m,I))},k=function(){for(var c=null,E=null,m=null,I=!1,d=!1,w=e.getCategories(),F=e.getSeries()[0].getNodes(),K=0;K<w.length;K++){var P=w[K],M=P.getLabel();var U=M;U=U.indexOf("_value")==U.length-
6;var V=F[K];V=V?V.getText():"";var aa=P.getStyle();P=aa?aa.getAlign():null;var ia=aa?aa.getFontSize():null;V=new l(V,U,aa);0==M.indexOf("caption")?(!c&&(c=new a),c.setAlign(P),c.addPart(V),V.bindDefaultColorGetter(B)):0==M.indexOf("primary")?(!E&&(E=new a),U&&E.setAlign(P),E.addPart(V),V.bindDefaultColorGetter(U?L:q)):0==M.indexOf("secondary")&&(!m&&(m=new a),U&&m.setAlign(P),m.addPart(V),V.bindDefaultColorGetter(U?G:O));I=I||(P?!0:!1);d=d||(ia?!0:!1)}return new p([c,E,m],I,d)},D=function(c){var E=
c.hasCaptionLine(),m=c.hasSecondaryLine(),I;if(c.isFontAppointed()){z(c.getPrimaryLine(),Infinity);E&&z(c.getCaptionLine(),Infinity);m&&z(c.getSecondaryLine(),Infinity);var d=H(c.getPrimaryLine());var w=E?H(c.getCaptionLine()):0;var F=m?H(c.getSecondaryLine()):0,K=.5*(f-1.25*(d+w+F));if(E){K+=.125*w;var P=Math.floor(K+c.getCaptionLine().getAscent());K+=1.125*w}K+=.125*d;w=Math.floor(K+c.getPrimaryLine().getAscent());F&&(I=Math.floor(K+1.125*d+.125*F+c.getSecondaryLine().getAscent()))}else P=Math.min(64,
Math.max(20,Math.min(Math.floor(f/(E&&m?2.5:E||m?2.2:2)),Math.floor(g/4)))),I=Math.min(18,Math.max(14,Math.floor(.25*P))),c.setupDefaultFontSize(P,I),z(c.getPrimaryLine(),g,I),E&&z(c.getCaptionLine(),Infinity),m&&z(c.getSecondaryLine(),Infinity),w=Math.floor((f+Math.floor(P*(E&&!m?1:!E&&m?.3:.6)))/2),P=Math.floor(w-P-.5*I),I=Math.floor(w+2.25*I);c.getPrimaryLine().setBaseY(w);E&&c.getCaptionLine().setBaseY(P);m&&c.getSecondaryLine().setBaseY(I);c.isAlignAppointed()?(J(c.getPrimaryLine()),E&&J(c.getCaptionLine()),
m&&J(c.getSecondaryLine())):(w=c.getPrimaryLine().getWidth(),P=g-w>>1,c.getPrimaryLine().setLeftX(P),m&&c.getSecondaryLine().setLeftX(g-c.getSecondaryLine().getWidth()>>1),E&&(E=c.getCaptionLine().getWidth(),E=E>w?g-E>>1:P,c.getCaptionLine().setLeftX(E)))},z=function(c,E,m){for(var I=0,d=0,w=!0;w;){for(var F=I=0,K=c.getPartCount();F<K;F++){var P=c.getPart(F),M=P.getUsableFontSize();v.setupFont(r,M,P.getUsableFontFamily());var U=r.measureText(P.getDisplay()),V=U.actualBoundingBoxAscent,aa=U.actualBoundingBoxDescent;
!V&&(V=.75*M);!aa&&(aa=.25*M);V+=(M-(V+aa))/2;d=Math.max(V,d);M=U.width+(F==K-1?0:4);P.setWidth(M);I+=M}if(I>E){F=0;for(K=c.getPartCount();F<K;F++)if(P=c.getPart(F),P.isValue()){var ia=P.getUsableFontSize();break}ia-=5;ia<m&&(ia+=5,w=!1);F=0;for(K=c.getPartCount();F<K;F++)P=c.getPart(F),P.isValue()&&P.setDefaultFontSize(ia)}else w=!1}c.setWidth(I);c.setAscent(d)},H=function(c){for(var E=0,m=0,I=c.getPartCount();m<I;m++){var d=c.getPart(m).getStyle();d=d?d.getFontSize():10;E=Math.max(E,d)}return E},
J=function(c){var E=0;"center"==c.getAlign()?E=g-c.getWidth()>>1:"right"==c.getAlign()&&(E=Math.floor(g-c.getWidth()));c.setLeftX(E)},B=function(){return b.getCustomStyle(ha.C_COLOR,"#999")},L=function(){return b.getCustomStyle(ha.P_VALUE_COLOR,"#6c7fae")},q=function(){return b.getCustomStyle(ha.P_TEXT_COLOR,"#999")},G=function(){return b.getCustomStyle(ha.S_VALUE_COLOR,"#6c7fae")},O=function(){return b.getCustomStyle(ha.S_TEXT_COLOR,"#999")}}function za(r,e,h,p,a,l,b){var g=.025*Math.PI,f=.975*Math.PI,
n=1.025*Math.PI,t=1.975*Math.PI,y=.5*Math.PI,u=1.5*Math.PI,k=new Ja(r),D=new ea(h),z,H,J,B,L,q;(function(){z=e?e.getCategories().length:0;H=2*Math.PI/z;J=Math.max(0,.5*Math.min(p-120,a-60));var O=0;1==z%2&&2<z&&(O=parseInt(J*(1-Math.sin(Math.PI*(z-2)/z*.5))));l=l?l:0;b=(b?b:0)+(O>>1);x.transform(k,l+(p>>1),b+(a>>1))})();this.drawChart=function(O){q=O;k.clearAll();if(e){Ua.multiSeries(e);O=e.getScopes()[0];O=new ya(O);O=(new xa(O,D)).confirmRadarRulerMarker(J);B=O[0];L=O[O.length-1];var c=Math.max(0,
J/(O.length-1)),E=v.getCustomStyle(D,za.WEB_LINE,"#ddd"),m=v.getCustomStyle(D,za.WEB_INTERVAL_BACKGROUND,"#f7f7f7");k.getContext().lineJoin="round";k.getContext().lineWidth=1;k.getContext().strokeStyle=E;k.getContext().fillStyle=m;if(3>z)for(E=O.length-1;0<E;E--)m=c*E,k.arc(0,0,m,0,2*Math.PI),k.stroke();else for(E=O.length-1;0<E;E-=2){k.beginPath();m=c*E;for(var I=0;I<=z;I++){var d=H*I;G(m,d)}m=c*(E-1);for(I=z;0<=I;I--)d=H*I,G(m,d,!0);k.closePath();k.fill();k.stroke()}k.getContext().fillStyle=v.getAxisTextColor(D);
v.setupFont(k.getContext(),v.getAxisTextFontSize(D));E=k.getWidth();m=k.getHeight();I=v.getTextHeight(k.getContext());d=new wa;for(var w=e.getCategories(),F=0;F<w.length;F++){F==q&&(k.getContext().save(),k.getContext().lineWidth=2);var K=H*F,P=K;k.beginPath();k.moveTo(0,0);G(J,P);k.stroke();F==q&&k.getContext().restore();P=w[F].getLabel();var M=.5*E-Math.abs(Math.sin(K))*J,U=x.toLogicXy(K,J),V=U[0];U=U[1];if(g<K&&K<f){U+=4;var aa=d.drawAlignLeftWithLogicCoord}else n<K&&K<t?(U-=M+4,aa=d.drawAlignRightWithLogicCoord):
(M=E,U-=.5*M,aa=d.drawAlignCenterWithLogicCoord);V+=Math.cos(K)*I;K=.5*m;V+.5*I>K?V=K-.5*I:V-.5*I<-K&&(V=-K+.5*I);aa(k,V,U,P,M)}if(h.isShowRulerMarkLabel())for(E=v.getCustomStyle(D,ea.RULER_TEXT_COLOR,"#999"),m=parseInt(v.getCustomStyle(D,ea.RULER_FONTSIZE,12)),k.getContext().fillStyle=E,v.setupFont(k.getContext(),m),m=(E=1==z%2)?Math.cos(Math.PI/z):1,I=new wa,I.setTextBaseline("bottom"),d=new Ha,d.setFormatString(h.getRadarFormat()),w="",F=1;F<O.length;F++)K=d.format(O[F],Ha.RoundingMode.DOWN),K!=
w&&(w=K,P=J,V=x.toLogicXy(Math.PI,c*F*m),M=V[0],V=V[1],E?(V-=P/2,I.drawAlignCenterWithLogicCoord(k,M,V,K,P)):(V+=2,I.drawAlignLeftWithLogicCoord(k,M,V,K,P)));O=k.getWidth();c=k.getHeight();O=h.isDataLabelOverlappable()?null:new oa(.5*-c,.5*-O,c,O);c=e.getSeries();for(E=c.length-1;0<=E;E--){w=c[E];m=w.getNodes();I=[];d=[];w=w.getColor();F=v.createColorWithAlpha(w,.3);k.getContext().lineWidth=2.5;k.getContext().strokeStyle=w;k.getContext().fillStyle=F;w=m;F=I;K=d;P=!1;k.beginPath();for(M=0;M<z;M++)(V=
w[M])?(F[M]=H*M,K[M]=(V.getValue()-B)/(L-B)*J,G(K[M],F[M])):(P=!0,k.stroke(),k.beginPath());P?(V=w[0])&&G(K[0],F[0]):(k.closePath(),h.isFillColor()&&k.fill());k.stroke();for(w=0;w<z;w++)if(F=m[w])P=d[w],K=I[w],M=w==q?2.5:1,V=x.toLogicXy(K,P),k.beginPath(),k.arc(V[0],V[1],M,0,2*Math.PI),k.fill(),k.stroke(),h.isShowDataLabel()&&(M=P,P=K,F=F.getText(),K=O,k.getContext().save(),k.getContext().fillStyle=v.getDataLabelColor(D),k.getContext().textBaseline="middle",v.setupFont(k.getContext(),v.getDataLabelFontSize(D)),
U=x.toLogicXy(P,M),M=k.getContext().measureText(F).width,V=.9*v.getTextHeight(k.getContext()),P=U[0]+(y<P&&P<u?-1:1)*V,U=U[1]-.5*M,K&&!K.isRectCanDraw(P,U-.5*V,V,M)||k.fillText(F,P,U),k.getContext().restore())}}};this.apiXYToCategoryIndex=function(O,c){c=k.retransformMouseXY(O,c);O=c[0];c=c[1];var E=x.logicXyToRadius(O,c),m=-1;E<J+10&&(O=x.logicXyToAngle(O,c,E),m=parseInt((O+.5*H)/H),m%=z);return m};var G=function(O,c,E){k.arc(0,0,O,c,c+(E?-1E-4:1E-4),E)}}function Ia(){var r=this,e=this.protectedMethod;
r.setMode(ra.MODE_OVERLAP);var h=this.protectedDrawChart;this.protectedDrawChart=function(p,a){h(p,a);p=r.getDrawingModel();var l=e.getModel().getSeries();if(!(2>l.length)){a=new Ha;a.setFormatString("{-2}0.00%");var b=l[0].getNodes();l=l[1].getNodes();for(var g=e.getModel().getCategories().length,f=0;f<g;f++){var n=b[f],t=l[f];n=n?n.getValue():NaN;t=t?t.getValue():NaN;t=isNaN(n)||isNaN(t)||0===n?"---":a.format(t/n);p.setPercentage(f,0,t)}}};this.protectedDrawDataLabel=function(p,a,l,b,g,f,n){var t=
e.getGraphics(),y=t.getContext(),u=1<b.length?b[1].getColor():null,k=-1;p=function(d,w){var F=y.measureText(d).width;w=w(F);if(null==w)return 0;var K=t.transformXY(w[0],w[1]);w=K[0];K=K[1]+1;var P=K-.5*n;if(f&&!f.isRectCanDraw(w,P,F,n))return 0;if(a(k,null))y.fillText(d,w,K);else{var M=I[2],U=I[3],V=t.transformXY(I[0],I[1]);M=t.transformXY(M,U);U=Math.max(V[0],M[0]);var aa=Math.min(V[1],M[1]),ia=Math.max(V[1],M[1])+1;Math.min(V[0],M[0])<w&&w+F<U&&aa<P&&P+n<ia&&u?v.drawTextFitBackground(u,y,d,w,K):
v.drawTextWithShadow(e.getStyleTool(),y,d,w,K)}return F};var D=function(d){return isNaN(d)?"":g.format(d)},z=e.getAttr().getLabelType(),H=(z&ba.SHOW_LABEL_NUMBER)==ba.SHOW_LABEL_NUMBER;z=(z&ba.SHOW_LABEL_PERCENT)==ba.SHOW_LABEL_PERCENT;var J=null;if(z){var B=new Ha;B.setFormatString("{-2}0%");J=function(d,w){return isNaN(d)||isNaN(w)||0===w?"":B.format(d/w)}}var L=b[0].getNodes();b=1<b.length?b[1].getNodes():null;for(var q=e.getModel().getCategories().length,G=0;G<q;G++){var O=L[G],c=b?b[G]:null;
if(O&&c){O=O.getValue();c=c.getValue();var E=l.getDrawingRect(G,0),m=l.getDrawingRect(G,1);k=G;var I=m;r.protectedDrawOneCagegoryDataLabel(O,c,E,m,H,z,p,D,J,n)}}};this.protectedDrawOneCagegoryDataLabel=function(p,a,l,b,g,f,n,t,y,u){throw Error("Override");}}function Sa(r,e,h){var p={N:0,NE:.25,E:.5,SE:.75,S:1,SW:1.25,W:1.5,NW:1.75},a=this,l=new ea(h),b,g,f,n,t,y,u,k=!1,D=!1,z=-1,H=0;this.apiXYToRowIndex=function(c,E){var m=-1;c=a.protectedGetBodyTopOffset();var I=n+c,d=t-c;I<=E&&E<d&&(m=E-I,I=!0,
E>=y+c&&(I=!1,m-=u),E=e.getRowCount()*f,m>=E&&(m=!D||m<E+f?-1:m-E-f+(y-n)),m=Math.floor(m/f),!I&&0<u&&m<h.getStickRows()&&(m=-1));return m};this.redrawWhenHover=function(c){z=c;H++;if(h.isAutoScroll()&&D)J(0,!0);else{c=h.getStickRows();var E=0<=u?u:u%f,m=0<=u?0:parseInt(-u/f);m=h.getStickRows()+m;var I=e.getRowCount()-1;L(m,I,y+E);0<c&&L(0,c-1,n);c=a.protectedGetHeadRowHeight(f);a.protectedDrawHead(0,0,b,c);c=a.protectedGetFootRowHeight(f);a.protectedDrawFoot(0,t,b,c)}};this.drawScrollableArea=function(c,
E){H++;return J(c,E)};var J=function(c,E){var m=!0,I=e.getRowCount(),d=h.getStickRows(),w=(I-d)*f,F=w+f,K=-(w-Math.max(0,t-y)),P=0<u||u<K;u+=c;E?(B(w,F),k=P):(k?B(w,F):0<u?(u=0,m=!1):u<K&&(u=K,m=!1),P||(k=!1));c=0<=u?u:u%f;E=0<=u?0:parseInt(-u/f);0<c&&r.clearRect(0,y,b,c);E=d+E;w=I-1;c=y+c;L(E,w,c);c+=(w-E+1)*f;r.clearRect(0,c,b,f);c+=f;c<t&&L(d,I-1,c);0<d?L(0,d-1,n):a.protectedDrawHead(0,0,b,a.protectedGetHeadRowHeight(f));a.protectedDrawFoot(0,t,b,a.protectedGetFootRowHeight(f));return m},B=function(c,
E){for(;u>f;)u-=E;for(;u<-c;)u+=E};this.protectedGetHeadRowHeight=function(c){throw Error("Implement");};this.protectedGetFootRowHeight=function(c){throw Error("Implement");};this.protectedDrawHead=function(c,E,m,I){throw Error("Implement");};this.protectedDrawFoot=function(c,E,m,I){throw Error("Implement");};this.protectedIsScrollingRequested=function(c,E,m){throw Error("Implement");};var L=function(c,E,m){a.protectedSetupDrawRows();for(var I=e.getColumnCount(),d=m+a.protectedGetBodyTopOffset();c<=
E;c++){var w=d+f;if(w>m){r.clearRect(0,d,b,f);var F=e.getRow(c),K=e.getPrioritizedStyle(null,F,null,"getBackground");z==c&&(!K&&(K=l.getBackgroundColor()),K=O(K,.5));K&&q(K,0,d,b,f);for(K=0;K<I;K++){var P=e.getColumn(K);if(P.isVisible()){var M=F.getCell(K);a.protectedDrawCell(F,P,M,K,d,f)}}a.protectedAfterDrawRow(b,w-.5)}d=w;if(d>=t)break}};this.protectedGetBodyTopOffset=function(){return 0};this.protectedSetupDrawRows=function(){throw Error("Implement");};this.protectedDrawCell=function(c,E,m,I,
d,w){throw Error("Implement");};this.protectedAfterDrawRow=function(c,E){};var q=function(c,E,m,I,d){r.save();r.fillStyle=c;r.fillRect(E,m,I,d);r.restore()},G=function(c,E,m){r.fillRect(c-.25*m,E-m,.75*m,2);r.fillRect(c+.5*m,E-m,2,m);r.fillRect(c,E-2,.5*m,2);r.fillRect(c,E,2,.5*m);r.fillRect(c,E+.75*m,2,2)},O=function(c,E){var m=Ra.decodeStringToRgbaArray(c);!m&&(m=Ra.decodeStringToRgbaArray("#808080"));c=Ra.rgbToHsl(m[0],m[1],m[2]);var I=c[2];c[2]=I+(40<I?-6:6);c.push("number"==typeof E?E:m[3]);
E="hsla(#0,#1%,#2%,#3)";for(m=0;3>=m;m++)E=E.replace("#"+m,c[m]);return E};this.protectedMethod={};this.protectedMethod.getStyleTool=function(){return l};this.protectedMethod.calculateContrastColor=O;this.protectedMethod.drawAll=function(c,E,m){b=c;g=E;f=m;c=e.getRowCount();var I=h.getStickRows();E=c-I;m=a.protectedGetHeadRowHeight(f);var d=a.protectedGetFootRowHeight(f);n=0+m;y=n+f*I;t=0+g-d;I=Math.max(0,t-y);a.protectedDrawHead(0,0,b,m);L(0,c-1,n);a.protectedDrawFoot(0,t,b,d);u=0;return D=a.protectedIsScrollingRequested(I,
f,E)};this.protectedMethod.paintBackgroundColor=q;this.protectedMethod.paintImage=function(c,E){(function(m){c.getBackgroundImage(function(I){I&&m==H&&E(I)})})(H)};this.protectedMethod.paintIcon=function(c,E,m,I,d){var w=.309*d;E+=.5*d;m+=.5*I;r.save();r.beginPath();r.fillStyle=c.getBackgroundIconColor();c=c.getBackgroundIconName();c=c.toUpperCase();"CIRCLE"==c?r.arc(E,m,w,0,2*Math.PI):"ARROW-"==c.substr(0,6)?(c=c.substr(6),c=p[c],void 0!==c?(r.translate(E,m),r.rotate(Math.PI*c),r.translate(-E,-m),
c=.5*w,I=.75*w,r.moveTo(E,m-w),r.lineTo(E-w,m),r.lineTo(E-c,m),r.lineTo(E-c,m+I),r.lineTo(E+c,m+I),r.lineTo(E+c,m),r.lineTo(E+w,m),r.closePath()):G(E,m,w)):G(E,m,w);r.fill();r.restore()};this.protectedMethod.isAlignCenter=function(c){return"center"==c};this.protectedMethod.isAlignRight=function(c){return"right"==c}}function Pa(r,e,h){function p(u,k,D,z,H,J,B,L){this.getBackX=function(){return u};this.getBackWidth=function(){return k};this.getX=function(){return D};this.getWidth=function(){return z};
this.getTextX=function(){return H};this.getTextWidth=function(){return J};this.getIcon1X=function(){return B};this.getIcon2X=function(){return L}}Sa.call(this,r,e,h);var a=[[[3,0],[3,1],[3,1],[1,0]],[[2,0],[2,2],[2,2],[1,0]],[[0,0],[0,2],[0,3],[0,0]],[[0,0],[0,1],[0,1],[0,0]]],l=this.protectedMethod,b=new wa,g;this.drawChart=function(){var u=new Ja(r),k=u.getWidth();u=u.getHeight();var D=parseInt(v.getCustomStyle(l.getStyleTool(),Pa.FONTSIZE,14));v.setupFontWithBold(r,D);var z=Math.log10(u);z=Math.max(1.6,
Math.min(2.4,z));z=parseInt(D*z);for(var H=e.getColumnCount(),J=0,B=[],L=[],q=[],G=-1,O=-1,c=0;c<H;c++){var E=e.getColumn(c);E.isVisible()?(0>G&&(G=c),O=c,B[c]=h.isShowHeader()?f(E.getTitle()):0,L[c]=!1,q[c]=!1,J++):B[c]=0}for(var m=e.getRowCount(),I=0;I<m;I++){var d=e.getRow(I);for(c=0;c<H;c++)if(E=e.getColumn(c),E.isVisible()){E=d.getCell(c);if(!L[c]||!q[c]){var w=e.getPrioritizedStyle(null,null,E,"getBackground",!0);w&&w.isBackgroundIcon()&&(L[c]=L[c]||w.isBackgroundIconBefore(),q[c]=q[c]||w.isBackgroundIconAfter())}E=
f(E.getContent());B[c]=Math.max(B[c],E)}}m=B.slice(0);for(c=I=0;c<H;c++)m[c]+=(L[c]?20:0)+(q[c]?20:0),I+=m[c];c=k-12-20*(J-1);if(I>c)for(c=I-c,J=!0,I=0;I<m.length&&J;){I++;E=[];var F=w=0;for(d=0;d<m.length;d++){var K=m[d];K>w?(F=w,w=K,E=[d]):K==w?E.push(d):K>F&&(F=K)}w=(w-F)*E.length;w>=c&&(J=!1,w=c);F=w/E.length;for(d=0;d<E.length;d++)m[E[d]]-=F;c-=w}else n(H,m,c-I);g=[];J=6;for(c=0;c<H;c++){E=e.getColumn(c);d=null;if(E.isVisible()){I=m[c];w=c==G?6:10;d=J-w;w=w+I+(c==O?6:10);var P=J;var M=I;F=L[c]?
20:0;var U=q[c]?20:0;K=Math.min(M-F-U,B[c]);E=y(E);l.isAlignRight(E)?(P=P+M-U,M=P-K,E=M-F):(l.isAlignCenter(E)?(M=P+M/2-K/2,E=M-F):(E=P,M=P+F),P=M+K);E=[M,K,E,P];d=new p(d,w,J,I,E[0],E[1],E[2],E[3]);J+=I+20}g[c]=d}v.setupFont(r,D);return l.drawAll(k,u,z)};this.protectedIsScrollingRequested=function(u,k,D){return.6*k<u&&u<k*(D-.3)};var f=function(u){b.trying(r,u,65535);return parseInt(b.getUsedWidth()+1)},n=function(u,k,D){for(var z=[],H=0,J=function(O,c){c=a[O][c];O=c[0];c=c[1];H+=O+c;if(0<z.length)z[z.length-
1]+=O;else if(0!=O)throw Error("Impossible");z.push(c)},B=3,L=0;L<u;L++){var q=e.getColumn(L);if(q.isVisible()){q=y(q);q=l.isAlignRight(q)?2:l.isAlignCenter(q)?1:0;var G=0==L&&h.isShowRowNum();J(B,G?0:q);B=q}}J(B,3);D/=H;for(L=J=0;L<u;L++)q=e.getColumn(L),q.isVisible()&&(B=z[J++],k[L]+=D*B)};this.protectedGetHeadRowHeight=function(u){return h.isShowHeader()?parseInt(1.2*u):0};this.protectedGetFootRowHeight=function(u){return 0};this.protectedDrawHead=function(u,k,D,z){if(h.isShowHeader())for(r.clearRect(u,
k,D,z),r.fillStyle=v.getCustomStyle(l.getStyleTool(),Pa.TITLE_BACKGROUND,"#f4f4f4"),r.fillRect(u,k,D,z),r.fillStyle=v.getCustomStyle(l.getStyleTool(),Pa.TITLE_COLOR,v.getCustomStyle(l.getStyleTool(),Pa.COLOR,"#666")),u=0;u<e.getColumnCount();u++)if(D=e.getColumn(u),D.isVisible()){var H=g[u],J=y(D);t(J,D.getTitle(),H.getTextX(),k,H.getTextWidth(),z)}};this.protectedDrawFoot=function(u,k,D,z){};this.protectedSetupDrawRows=function(){r.fillStyle=v.getCustomStyle(l.getStyleTool(),Pa.COLOR,"#666")};this.protectedDrawCell=
function(u,k,D,z,H,J){var B=g[z],L=e.getPrioritizedStyle(null,null,D,"getBackground",!0);(!L||L.isBackgroundImage()||L.isBackgroundIcon())&&(z=e.getPrioritizedStyle(k,null,null,"getBackground"))&&l.paintBackgroundColor(z,B.getBackX(),H,B.getBackWidth(),J);L&&(L.isBackgroundImage()?l.paintImage(L,function(G){var O=L.getBackgroundImageRect(),c=B.getTextX()+(O?O[0]:0),E=H+(O?O[1]:0),m=O?O[2]:B.getTextWidth();r.drawImage(G,c,E,m,O?O[3]:J)}):L.isBackgroundIcon()?(z=L.isBackgroundIconBefore()?B.getIcon1X():
L.isBackgroundIconAfter()?B.getIcon2X():null,null!=z&&l.paintIcon(L,z,H,J,20)):l.paintBackgroundColor(L.getBackground(),B.getBackX(),H,B.getBackWidth(),J));z=e.getPrioritizedStyle(k,u,D,"getColor");var q=e.getPrioritizedStyle(k,u,D,"getBold");(u=z||q)&&r.save();z&&(r.fillStyle=z);q&&v.setupFontWithBold(r,parseInt(v.getCustomStyle(l.getStyleTool(),Pa.FONTSIZE,14)));D=D.getContent();k=y(k);t(k,D,B.getTextX(),H,B.getTextWidth(),J);u&&r.restore()};var t=function(u,k,D,z,H,J){z=parseInt(z+.5*J+2);l.isAlignCenter(u)?
b.drawAlignCenter(r,D,z,k,H):l.isAlignRight(u)?b.drawAlignRight(r,D,z,k,H):b.drawAlignLeft(r,D,z,k,H)},y=function(u){return e.getPrioritizedStyle(u,null,null,"getAlign")}}function fa(r,e,h){Ea.call(this);var p=this.protectedMethod,a=new Ja(r),l=new ea(h),b,g,f,n;this.protectedSuggestYAxisWidth=function(D,z){return z.suggestVerticalRulerWidth(D,k(),h.getYUnitText())};this.protectedSuggestXAxisHeight=function(D,z){var H=e.getCategories();return Q.suggestCategoryAxisHeight(l,D,z/H.length,H)};this.apiXYToCategoryIndex=
function(D,z){z=a.retransformMouseXY(D,z);D=z[0];z=z[1];return 0<D&&n<z&&z<f&&(D=parseInt(D/g),0<=D&&D<e.getCategories().length)?D:-1};this.drawChart=function(D){b=D;Ua.waterfall(e);var z=new ya(e.getScopes()[0]);D=new xa(z,l);a.clearAll();var H=p.divideLeftBottomAxis(a,D),J=H[0],B=H[1],L=H[2],q=H[3];D.confirmVerticalRulerMark(q);var G=Q.getShrinkForTopAlways(l,h),O=Q.getShrinkForAxisTop(l,h);H=h.isShowDataLabel()?parseInt(1.25*v.getDataLabelFontSize(l)):0;q=A.verticalNumberAxis(a,J,0,q,z,G,O,H);
z=Q.confirmNumberAxis(q,H,z,l,h);n=z[0];f=z[1];g=L/e.getCategories().length;D.drawLeftNumberAxisWithAssistantLine(a,J,q,k(),h.getYUnitText(),L);Q.drawCategoryAxis(e.getCategories(),function(c,E){var m=g;return g*c+("center"==E?m/2:0)},l,a,L,B,g,n,h.getXUnitText());y(q);h.isShowDataLabel()&&u(q)};var t=function(D){var z=e.getSeries()[0].getNodes(),H=!0,J=0,B=e.getSeries()[1].getNodes()[D];B&&(H=!1,J=B.getValue());D=z[D].getValue();return[J,D,H]},y=function(D){a.getContext().strokeStyle=v.getAxisLineColor(l);
a.getContext().lineWidth=.75;for(var z=l.getCustomStyle(fa.STAGE_COLOR,"#40A9FF"),H=l.getCustomStyle(fa.POSITVE_COLOR,"#73D13D"),J=l.getCustomStyle(fa.NEGATIVE_COLOR,"#F57582"),B,L,q=Math.min(N,g*(20>g?.8:30>g?-.02*g+1.2:.6)),G=0,O=(g-q)/2,c=e.getCategories(),E=0;E<c.length;E++){var m=c[E],I=t(E),d=I[0],w=I[1];I=I[2];w=isNaN(w)?0:w;if(E==b){var F=G,K=n,P=G+g,M=f,U=S;a.getContext().fillStyle=U;a.fillRect(F,K,P,M)}K=O;F=K+q;P=d*D;d=P+w*D;0<E&&(M=F,U=I?d:P,a.beginPath(),a.moveTo(M,U),a.lineTo(B,L),a.stroke());
(m=m.getColor())||(m=I?z:0>w?J:H);w=K;I=P;L=F;B=d;a.getContext().fillStyle=m;a.fillRect(w,I,L,B);B=F;L=d;G+=g;O+=g}},u=function(D){var z=v.getDataLabelFontSize(l),H=a.getContext();H.fillStyle=v.getDataLabelColor(l);v.setupFont(H,z);H.textBaseline="middle";var J=e.getCategories().length,B=new Ha;B.setFormatString(h.getDataLabelFormat()||k());for(var L=h.isDataLabelOverlappable()?null:new oa(-10,n-z,g*J+10,f-n+z),q=0;2>q;q++)for(var G=0;G<J;G++){var O=t(G),c=O[0],E=O[1];O=O[2];if(!(0==q&&!O||1==q&&
O||isNaN(E))){O=B.format(E);var m=H.measureText(O).width;c=(c+E)*D;c+=(0>E?-1:1)*z*.7;E=g*(G+.5)-m/2;0==G?E=Math.max(E,-10):G==J-1&&(E=Math.max(g*(G-1),Math.min(E,g*J-m)));L&&!L.isRectCanDraw(E,c-z,m,z)||a.fillText(O,E,c)}}},k=function(){var D=h.getYFormat();!D&&(D=e.getSeries()[0].getFormatString());return D}}function ca(){var r,e,h,p;this.drawDataLabel=function(a,l,b,g,f,n,t,y){p=v.getDataLabelFontSize(a);var u=v.getDataLabelColor(a);l.getContext().strokeStyle=u;l.getContext().lineWidth=1;l.getContext().fillStyle=
u;v.setupFont(l.getContext(),p);u=.5*p;var k=l.getWidth(),D=l.getHeight();r=y?null:new oa(0,0+u,k,D-u);e=g+Math.min(4,Math.max(1,parseInt(.05*b)));h=Math.min(10,Math.max(4,parseInt(.1*b)));for(b=0;b<n.length;b++){g=f[b];y=0==b?0:n[b-1];u=n[b];k=u-y;D=y+k/2;var z=[],H=[];t(b,z,H);for(var J=0;2>J;){var B=x.toLogicXy(D,e),L=l.transformXY(B[0],B[1]),q=L[0];a:{B=a;var G=l,O=g,c=D;L=L[1];var E=z,m=H;if(c>Math.PI){q-=h;var I="right";var d=0;var w=q-4-d}else q+=h,I="left",d=q+4,w=G.getWidth()-d;var F=E.length,
K=p;var P=L-(F-1)*K/2;for(var M=G.getContext(),U=[],V=[],aa=!0,ia=!0,ja=0;ja<F;ja++){var ua=E[ja],Da=m[ja];if(ua){ia=!1;var Oa=new wa;U[ja]=Oa;if(Oa.trying(M,ua,w,Da)){if(r){if(ua=Oa.getUsedWidth(),Da=d+("left"==I?0:w-ua),V[ja]=[Da,P,ua,"left"],Oa=P-(K>>1),!r.askRectCanDraw(Da,Oa,ua,K)){B=!1;break a}}else V[ja]=[d,P,w,I];P+=K}else{aa=!1;break}}}ia&&(aa=!1);if(aa){for(ja=0;ja<F;ja++)if(Oa=U[ja])E=V[ja],Da=E[0],P=E[1],ua=E[2],Oa.draw(M,Da,P,E[3]),r&&(Oa=P-(K>>1),r.setRectHasBeenDrawn(Da,Oa,ua,K));G.getContext().save();
G.getContext().strokeStyle=v.getRulerMarkLongLineColor(B);G.beginPath();G.arc(0,0,O,c,c+1E-5);G.arc(0,0,e,c,c+1E-5);M.lineTo(q,L);G.stroke();G.getContext().restore();B=!0}else B=!1}B||10<b?J=65535:(B=Math.min(.1*k,.56*Math.PI),D=0==b||D<.5*Math.PI||Math.PI<D&&D<1.5*Math.PI?y+B:u-B,J++)}}}}function wa(){var r=this,e=!0,h="middle",p,a,l,b=-1;this.setDotDotDot=function(n){e=n};this.setTextBaseline=function(n){h=n};this.getCuttingLength=function(){return b};this.getUsedWidth=function(){return a};this.saveState=
function(){return[l,a,p]};this.restoreState=function(n){l=n[0];a=n[1];p=n[2]};this.trying=function(n,t,y,u){p=y;l=t;b=-1;a=n.measureText(t).width;if(a>p){y=0;for(var k=t.length;y<k;){var D=y+(k-y>>1),z=t.substring(0,D);n.measureText(z).width>p?k=D-1:y=D+1}y=t.substring(0,k);k=y.length;do{if(u&&k/t.length<u)return!1;b=k;l=y+(e?"...":"");a=n.measureText(l).width;k=y.length-1;y=y.substring(0,k)}while(a>p&&0<k)}return!0};this.draw=function(n,t,y,u){t=g(u,t);n.textBaseline=h;n.fillText(l,t,y)};var g=function(n,
t){var y=t;"center"==n?y=t+(p-a>>1):"right"==n&&(y=t+p-a);return y},f=function(n,t,y,u,k,D){var z=n.getContext();z.textBaseline=h;r.trying(z,u,k)&&n.fillText(l,t,y,function(H){H[0]=g(D,H[0])})};this.drawAlignLeft=function(n,t,y,u,k){r.trying(n,u,k)&&r.draw(n,t,y)};this.drawAlignRight=function(n,t,y,u,k){r.trying(n,u,k)&&r.draw(n,t,y,"right")};this.drawAlignCenter=function(n,t,y,u,k){r.trying(n,u,k)&&r.draw(n,t,y,"center")};this.drawAlignCenterWithLogicCoord=function(n,t,y,u,k){f(n,t,y,u,k,"center")};
this.drawAlignRightWithLogicCoord=function(n,t,y,u,k){f(n,t,y,u,k,"right")};this.drawAlignLeftWithLogicCoord=function(n,t,y,u,k){f(n,t,y,u,k,"left")}}function pa(){var r=-1,e=-1;this.setHorizontalAlign=function(p){r="center"==p?0:"right"==p?1:-1};this.setVerticalAlign=function(p){e="middle"==p?0:"bottom"==p?1:-1};this.drawTextLines=function(p,a,l,b,g,f,n){a=p.transformXY(a,l);var t=a[0],y=a[1];a=[];p=p.getContext();l=new wa;l.setTextBaseline("top");l.setDotDotDot(!1);for(var u=n,k=0,D=!0;u<=f||D;){D=
!1;u+n>f&&l.setDotDotDot(!0);l.trying(p,b,g)&&(a.push(l.saveState()),k=Math.max(k,l.getUsedWidth()));var z=l.getCuttingLength();if(0>z||z>=b.length)break;b=b.substring(z,b.length);u+=n}b=h(r,t,g,k);f=h(e,y,f,u);for(g=0;g<a.length;g++)l.restoreState(a[g]),l.draw(p,b,f,"left"),f+=n};var h=function(p,a,l,b){var g=a;0==p?g=a+(l-b>>1):0<p&&(g=a+l-b);return g}}function Ga(){var r=this;this.drawInRectangle=function(e,h,p,a,l,b,g,f){e.save();e.textBaseline="middle";for(var n,t=!0;t;)v.setupFont(e,b),n=e.measureText(l).width,
n>a?b-1<g?t=!1:--b:t=!1;g=h;"center"==f?g=h+(a-n>>1):"right"==f&&(g=h+a-n);v.setupFont(e,b);e.fillText(l,g,p);e.restore()};this.drawInCircle=function(e,h,p,a,l){var b=e.getContext();b.save();b.textBaseline="bottom";var g=l;for(l=!0;l;){var f=g/2;f=p<f?0:1.6*Math.sqrt(Math.pow(p,2)-Math.pow(f,2));v.setupFont(b,g);var n=b.measureText(a).width;n>f?2>g-1?l=!1:--g:l=!1}v.setupFont(b,g);e.fillText(a,0,0,function(t){t[0]-=n>>1;t[1]=t[1]+h+.6*g});b.restore()};this.drawDualLineInCircle=function(e,h,p,a,l,
b){r.drawInCircle(e,.3*-a,h,p,a);r.drawInCircle(e,1.2*b,h,l,b)}}function xa(r,e){var h=xa.SECTION_WITH_CEILING_AUTO,p,a,l=!1,b=!1;this.setSectionWithCeiling=function(q){h=q};var g=function(){return v.getRulerMarkTextFontSize(e)},f=function(){return v.getRulerMarkTextColor(e)};this.suggestVerticalRulerWidth=function(q,G,O){var c=g(),E=q.getContext();v.setupFont(E,c);var m=0;q=function(d){d=E.measureText(d).width;m=Math.max(m,parseInt(d+1))};var I=new Ha;I.setFormatString(G);q(I.format(r.unscale(r.getScopeMin())));
q(I.format(r.unscale(r.getScopeMax())));O&&q(O);return m+(h==xa.SECTION_WITH_CEILING_REJECT?0:c>>1)+10};this.suggestHorizontalRulerHeight=function(q){return g()*(q?3:2)};this.confirmVerticalRulerMark=function(q){n(function(G){q*=G;return parseInt(q/(h==xa.SECTION_WITH_CEILING_REJECT?100>q?20:150>q?25:30:100>q?25:150>q?30:35))+1})};this.confirmHorizontalRulerMark=function(q){n(function(G){q*=G;return parseInt(q/(200>q?80:600>q?100:150))+1})};var n=function(q){var G=r.getScopeMin(),O=r.getScopeMax(),
c=r.isWithLog()?H:J;a=p=null;b=l=!1;if(0<O&&0>G){var E={};if(O<-G){q=q(-G/(O-G));var m=[];a=c(m,-G,q,E);b=m[0];m=[];p=c(m,O,q,E);l=m[0]}else q=q(O/(O-G)),m=[],p=c(m,O,q,E),l=m[0],m=[],a=c(m,-G,q,E),b=m[0]}else 0>=O?(q=q(1),E=[],a=c(E,-G,q),b=E[0]):(q=q(1),E=[],p=c(E,O,q),l=E[0]);h!=xa.SECTION_WITH_CEILING_REJECT&&(O=p&&l?p[p.length-1]:null,G=a&&b?-1*a[a.length-1]:null,r.updateScopeMaxMin(O,G))};this.confirmRadarRulerMarker=function(q){h=xa.SECTION_WITH_CEILING_ALWAYS;n(function(O){q*=O;return parseInt(q/
(100>q?30:250>q?50:400>q?80:100))+1});var G=[0];a&&a.forEach(function(O){G.unshift(-O)});p&&(G=G.concat(p));return G};this.confirmDialMark=function(q){h=xa.SECTION_WITH_CEILING_REJECT;n(function(O){return q});var G=[];r.isCuttingFoot()||G.push(0);a&&a.forEach(function(O){G.unshift(-O)});p&&(G=G.concat(p));return G};this.drawTopNumberAxisWithMark=function(q,G,O,c){u(q,G,O,c,function(E){q.getContext().strokeStyle=v.getRulerMarkShortLineColor(e);q.beginPath();q.moveTo(0,E);q.lineTo(-5,E);q.stroke()})};
this.drawLeftNumberAxisWithMark=function(q,G,O,c,E){k(q,0,G,O,c,E,function(m){q.getContext().strokeStyle=v.getRulerMarkShortLineColor(e);q.beginPath();q.moveTo(-6,m);q.lineTo(0,m);q.stroke()})};this.drawLeftNumberAxisWithAssistantLine=function(q,G,O,c,E,m){k(q,0,G,O,c,E,function(I){0!=I&&(q.getContext().strokeStyle=v.getRulerMarkLongLineColor(e),q.drawDashedLine(0,I,m,I,4))})};this.drawRightNumberAxisWithMark=function(q,G,O,c,E,m){D(q,G,O,c,E,m,function(I){q.getContext().strokeStyle=v.getRulerMarkShortLineColor(e);
q.beginPath();q.moveTo(G-3,I);q.lineTo(G,I);q.stroke()})};this.drawBottomNumberAxisWithAssistantLine=function(q,G,O,c,E){y(q,G,O,c,function(m){q.getContext().strokeStyle=v.getRulerMarkLongLineColor(e);q.drawDashedLine(E,m,0,m,4)},function(m){return q.transformXY(E,m)})};this.drawDoubleNumberAxisOfBottom=function(q,G,O,c,E,m){y(q,O,c,E,function(I){q.getContext().strokeStyle=v.getRulerMarkLongLineColor(e);q.drawDashedLine(I,G,I,G+m,4)},function(I){return q.transformXY(I,G)})};this.drawDoubleNumberAxisOfLeft=
function(q,G,O,c,E,m,I){k(q,G,O,c,E,m,function(d){q.getContext().strokeStyle=v.getRulerMarkLongLineColor(e);q.drawDashedLine(G,d,G+I,d,4)})};this.drawHorizontalAssistantLine=function(q,G){var O=q.getWidth();q.getContext().strokeStyle=v.getRulerMarkLongLineColor(e);t(G,function(c){q.drawDashedLine(-O,c,O,c,4)})};this.drawVerticalAssistantLine=function(q,G){var O=q.getHeight();q.getContext().strokeStyle=v.getRulerMarkLongLineColor(e);t(G,function(c){q.drawDashedLine(c,-O,c,O,4)})};var t=function(q,
G){!r.isCuttingFoot()&&G(0);p&&z(p,1,q,G,function(){});a&&z(a,-1,q,G,function(){})},y=function(q,G,O,c,E,m){var I=g(),d=q.getContext();v.setupFont(d,I);d.textBaseline="bottom";var w=new Ha;w.setFormatString(O);var F=q.getWidth(),K,P="";q=function(M,U){M=w.format(M,Ha.RoundingMode.DOWN);if(M!=P){P=M;d.fillStyle=f();var V=d.measureText(M).width,aa=m(U,I);U=aa[0]-(V>>1);U=Math.max(1,U);U=U+V>F?F-V:U;V=aa[1]+1.6*I;d.fillText(M,U,V);K=V}};r.isCuttingFoot()||(E(0),q("0",0));p&&z(p,1,G,E,q);a&&z(a,-1,G,
E,q);c&&(K+=1.2*g(),G=d.measureText(c).width,d.fillStyle=f(),d.fillText(c,F-G,K))},u=function(q,G,O,c,E){var m=g(),I=q.getContext();v.setupFont(I,m);I.textBaseline="bottom";var d=new Ha;d.setFormatString(O);var w=q.getWidth(),F,K="";O=function(P,M){P=d.format(P,Ha.RoundingMode.DOWN);if(P!=K){K=P;I.fillStyle=f();var U=I.measureText(P).width;q.fillText(P,-8,M,function(V){var aa=V[0]-(U>>1);aa=Math.max(1,aa);aa=aa+U>w?w-U:aa;V[0]=aa;F=V[1]})}};r.isCuttingFoot()||(E(0),O("0",0));p&&z(p,1,G,E,O);a&&z(a,
-1,G,E,O);c&&(F-=g(),G=I.measureText(c).width,I.fillStyle=f(),I.fillText(c,w-G,F))},k=function(q,G,O,c,E,m,I){var d=G-O,w=q.getContext();v.setupFont(w,g());w.textBaseline="middle";var F=new Ha;F.setFormatString(E);var K="";E=function(V,aa){V=F.format(V,Ha.RoundingMode.DOWN);if(V!=K){K=V;w.fillStyle=f();var ia=parseInt(w.measureText(V).width+1),ja=G-10-ia;ja<d&&(ja=G-ia,ja<d&&(V=v.shortenTextBefore(V,ia,O-10)),ja=d);q.fillText(V,ja,aa)}};if(m){var P=w.measureText(m).width,M=Math.max(0,r.cutFoot(r.getScopeMax())*
c)+g(),U=G-P-10;U<d&&(m=v.shortenText(m,P,O-10,w),U=d);w.fillStyle=f();q.fillText(m,U,M)}r.isCuttingFoot()||(I(0),E("0",0));p&&z(p,1,c,I,E);a&&z(a,-1,c,I,E)},D=function(q,G,O,c,E,m,I){var d=q.getContext();v.setupFont(d,g());d.textBaseline="middle";var w=new Ha;w.setFormatString(E);var F="";E=function(U,V){U=w.format(U,Ha.RoundingMode.DOWN);if(U!=F){F=U;d.fillStyle=f();var aa=parseInt(d.measureText(U).width)+1,ia=G+6;ia+aa>G+O&&(U=v.shortenText(U,aa,O-6));q.fillText(U,ia,V)}};if(m){var K=d.measureText(m).width,
P=Math.max(0,r.cutFoot(r.getScopeMax())*c)+g(),M=G+6;M+K>G+O&&(m=v.shortenText(m,K,O-6,d));d.fillStyle=f();q.fillText(m,M,P)}r.isCuttingFoot()||(I(0),E("0",0));p&&z(p,1,c,I,E);a&&z(a,-1,c,I,E)},z=function(q,G,O,c,E){for(var m=0;m<q.length;m++){var I=G*q[m],d=r.cutFoot(I);I=r.unscale(I);d=parseInt(d*O+.5);c(d);E(I,d)}},H=function(q,G,O,c){if(c&&c.step)var E=c.step;else{for(q=1;64>q&&!(E=q,G/E<=O);q++);c&&(c.step=E)}c=r.getCuttableFoot();O=[];r.isCuttingFoot()&&O.push(c+E-1);for(q=c+E;q<=G;q+=E)O.push(q);
return O},J=function(q,G,O,c){var E=r.getCuttableFoot(),m=G-E,I=""+m,d=I.charAt(0),w="",F=I.indexOf(".");var K=0;if("0"==d)for(F=1;F<I.length;F++){var P=I.charAt(F);if("0"!=P&&"."!=P){d=P;K=-F;w=F+1<I.length?I.charAt(F+1):"0";break}}else 0>F?(K=I.length-2,w=1==I.length?"0":I.charAt(1)):(K=F-2,w=1==F?I.charAt(2):I.charAt(1));I=parseInt(d+w);1E20<m&&(K=parseInt(Math.log10(m)));K=[I,K];m=K[0];K=K[1];if(c&&c.base){var M=c.base;M=M[0]*Math.pow(10,M[1]-K)}else{I=[1,2,5,10,20,50];for(d=0;d<I.length&&!(M=
I[d],m/M<O);d++);c&&(c.base=[M,K])}O=M*Math.pow(10,K);c=L(E,O);m=M=L(G,O);K=!1;h!=xa.SECTION_WITH_CEILING_REJECT&&M<G&&(h==xa.SECTION_WITH_CEILING_ALWAYS||.382<(G-M)/O)&&(m=B(M,O),K=!0);M=[m,K];G=M[0];q[0]=M[1];q=[];r.isCuttingFoot()&&c==E&&q.push(c);for(E=c;E<G;)E=B(E,O),q.push(E);return q},B=function(q,G){try{var O=(""+q).split("."),c=(""+G).split(".");if(2==O.length||2==c.length){var E=O[0],m=O[1];!m&&(m="0");var I=c[0],d=c[1];!d&&(d="0");for(var w=Math.max(m.length,d.length),F=Math.min(m.length,
d.length)+1;F<=w;F++)m.length<F&&(m+="0"),d.length<F&&(d+="0");var K=parseInt(m)+parseInt(d)+"";O=0;if(K.length>w)O=1,K=K.substring(1);else if(K.length<w)for(F=K.length;F<w;F++)K="0"+K;var P=parseInt(E)+parseInt(I)+O+"."+K;return parseFloat(P)}return q+G}catch(M){return q+G}},L=function(q,G){q/=G;-1<q&&1>q&&(q=0);return parseInt(q)*G}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&
(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.chart&&(com.kingdee.bos.qing.chart={});"undefined"==typeof com.kingdee.bos.qing.chart.render&&(com.kingdee.bos.qing.chart.render={});var Ba=com.kingdee.bos.qing.chart.render;Ba.StyleTool=ea;Ba.SizeLegendRender=function(){this.draw=function(r,e,h,p,a){var l=p.length,b=4,g=1,f=0;r.fillStyle="#ccc";r.textBaseline="middle";v.setupFont(r,12);for(var n=0;n<l;n++){var t=parseFloat(p[n]);t*=e;var y=Math.min(18,t);r.fillRect(b+e-t,g+(20-y>>
1),t,y);g+=20;t=a[n];y=r.measureText(t);f=Math.max(f,y.width)}g=11;e=b+e+6;p=e+(14+f);0<p-h&&(p=h-2,e=p-f-12-2);r.fillStyle="#666";for(n=0;n<l;n++)t=a[n],y=r.measureText(t),b=p-y.width,r.fillText("\u2265",e,g),r.fillText(t,b,g),g+=20}};Ba.ContinuousColorLegendRender=function(){var r=65535,e=65535,h=Qa.ShowLegend_Bottom,p;this.setUsableSize=function(f,n){f&&(r=f);n&&(e=n)};this.setPosition=function(f){h=f};this.setStyleTool=function(f){p=f};this.draw=function(f,n,t){var y=n-10,u=4,k=4;f.lineWidth=
1;f.strokeStyle="#333";f.strokeRect(u,k,y,18);a(f,t,function(D){return[D.createLinearGradient(u,0,u+y,0),[u,k,y,18]]},function(D,z,H){H=y/H;D.fillRect(u+H*z,k,Math.ceil(H),18)});k+=22;f.textBaseline="top";f.fillStyle=g();v.setupFont(f,12);f.fillText(t.getMinText(),u,k);n=t.getMaxText();t=f.measureText(n);u=u+y-t.width;f.fillText(n,u,k)};this.drawEmbedded=function(f,n){h==Qa.ShowLegend_Right?l(f,n):h==Qa.ShowLegend_Bottom&&b(f,n)};var a=function(f,n,t,y){if(n.isGradientColor()){n=n.getGradientColor();
t=t(f);y=t[0];t=t[1];if(n.isDiverging()){var u=n.getPos();y.addColorStop(0,n.getColor1());y.addColorStop(Math.max(0,u-.05),n.getColor2());y.addColorStop(Math.min(1,u+.05),n.getColor3());y.addColorStop(1,n.getColor4())}else y.addColorStop(0,n.getColor1()),y.addColorStop(1,n.getColor2());f.fillStyle=y;f.fillRect(t[0],t[1],t[2],t[3])}else for(t=n.getSegmentCount(),u=0;u<t;u++){var k=n.getSegmentColor(u);f.fillStyle=k;y(f,u,t)}},l=function(f,n){var t=r-10,y=e-60;a(f,n,function(k){return[k.createLinearGradient(0,
y+60,0,y),[t,y,10,60]]},function(k,D,z){var H=60/z;k.fillRect(t,y+H*(z-1-D),10,Math.ceil(H))});f.fillStyle=g();v.setupFont(f,12);var u=function(k,D){var z=f.measureText(k).width;f.fillText(k,Math.max(0,t-z-2),D)};f.textBaseline="top";u(n.getMaxText(),y);f.textBaseline="bottom";u(n.getMinText(),y+60)},b=function(f,n){var t=e-8;a(f,n,function(k){return[k.createLinearGradient(0,0,100,0),[0,t,100,8]]},function(k,D,z){z=100/z;k.fillRect(z*D,t,Math.ceil(z),8)});f.fillStyle=g();v.setupFont(f,12);var y=function(k,
D){f.fillText(k,D,t)};f.textBaseline="bottom";y(n.getMinText(),0);var u=f.measureText(n.getMaxText()).width;y(n.getMaxText(),100-u)};this.askSize=function(f){var n=0,t=0;h==Qa.ShowLegend_Right?(t=document.createElement("canvas").getContext("2d"),v.setupFont(t,12),n=t.measureText(f.getMinText()).width,f=t.measureText(f.getMaxText()).width,n=parseInt(Math.max(n,f))+4+10,t=64):h==Qa.ShowLegend_Bottom&&(n=100,t=24);return[n,t]};this.askMinSize=function(){return h==Qa.ShowLegend_Right?[10,60]:h==Qa.ShowLegend_Bottom?
[100,8]:[0,0]};var g=function(){return v.getCustomStyle(p,ea.LEGEND_COLOR,"#666")}};Ba.DiscreteColorLegendRender=Ca;Ba.ProgressDiscreteLegendRender=Ma;Ba.ProgressCircleLegendRender=function(){Ma.call(this);var r=this,e,h,p,a=this.setUsableSize;this.setUsableSize=function(n,t){p=n;a(n,t)};var l=this.askSize;this.askSize=function(n){f()&&a(10,null);return l(n)};var b=this.draw;this.draw=function(n,t){f()&&(r.setPosition(Qa.ShowLegend_Right),e=l(t)[0],e=Math.min(p,e),r.setPosition(Qa.ShowLegend_Bottom),
a(10,null));b(n,t)};this.protectedGetItemText=function(n,t){return n.getCaption(t)+"\u3000"+n.getText(t)};var g=this.protectedDrawLegendIcon;this.protectedDrawLegendIcon=function(n,t,y,u,k,D,z,H){f()&&(h=y,y=.5*(p-e));g(n,t,y,u,k,D,z,H)};this.protectedDrawLegendText=function(n,t,y,u,k,D,z){u=new wa;f()&&(k=e-t+h,t=t+.5*(p-e)-h);var H=D.getCaption(z);D=D.getText(z);z=Math.min(k,n.measureText(D).width);var J=k-z-6;0<J&&u.drawAlignLeft(n,t,y,H,J);u.drawAlignRight(n,t+k-z,y,D,z)};var f=function(){return r.getPosition()==
Qa.ShowLegend_Bottom}};Ba.CompositeDescreteLegendRender=function(r){Ca.call(this);var e=this.protectedDrawLegendIcon;this.protectedDrawLegendIcon=function(h,p,a,l,b,g,f,n){var t=r.getSeries()[n];t&&0===t.getAxisIndex()?e(h,p,a,l,b,g,f,n):t&&1===t.getAxisIndex()&&(f=a+.5*b,n=l+.5*g,p.lineWidth=2,p.fillStyle=h,p.strokeStyle=h,p.beginPath(),p.moveTo(a+b-.5,l+.5),p.lineTo(a+.5,l+g-.5),p.stroke(),p.moveTo(f,n),p.arc(f,n,3,0,2*Math.PI),p.fill())}};Ba.PieChartRender=Na;Ba.RectTreeRender=function(r,e,h){la.call(this,
r,e,h);var p=this.protectedMethod,a=new Ja(r),l=new ea(h);this.protectedSearchHoverTarget=function(y,u,k){return b(y,u,e.getRoot(),k)};var b=function(y,u,k,D){for(var z=!1,H=0;H<k.getChildCount();H++){var J=k.getChild(H),B=J.getDrawingObject();if(B&&B[0]<=y&&y<=B[0]+B[2]&&B[1]<=u&&u<=B[1]+B[3]){D.push(H);z=!0;0<J.getChildCount()&&(z=b(y,u,J,D));break}}return z};this.drawChart=function(){var y=e.getRoot(),u=p.sumary(y,h.isIgnoreNegative());u=Math.min(3,u);var k=a.getWidth(),D=a.getHeight();y.setDrawingObject([0,
0,k,D]);g(y,u,0);a.clearAll();a.getContext().strokeStyle=l.getBackgroundColor();a.getContext().lineWidth=.5;a.getContext().textBaseline="bottom";u=v.getDataLabelFontSize(l);v.setupFont(a.getContext(),u);f(y,y.getColor(),u)};this.drawHover=function(y,u){var k=y?y.getPath():null;if(k){y=e.getRoot();for(var D=y.getColor(),z=0;z<k.length;z++)y=y.getChild(k[z]),D=y.getColor()||D;if(k=y.getDrawingObject()){if(u){u=k[2];z=k[3];var H=.2*Math.min(u,z);if(.1<H){H=Math.min(1,H);var J=k[0]+2*H,B=k[1]+2*H;u-=
4*H;z-=4*H;a.getContext().save();a.getContext().strokeStyle="#000";a.getContext().lineWidth=H;a.getContext().strokeRect(J,B,u,z);a.getContext().restore()}}else n(k,D);t(y,k,D,v.getDataLabelFontSize(l))}}};var g=function(y,u,k){var D=y.getDrawingSize();if(D){var z=y.getDrawingObject(),H=z[0]+k,J=z[1]+k,B=z[2]-2*k;k=z[3]-2*k;if(!(0>=B||0>=k))for(var L=1.2*Math.max(0,u-1),q=0;q<y.getChildCount();){var G=B>k,O=G?B:k,c=G?k:B,E=y;var m=D;var I=O,d=c,w=0;z=0;for(var F=[],K=q;K<E.getChildCount();K++){var P=
E.getChild(K).getDrawingSize();if(P){F.push(P);P=z+P;for(var M=P/m*I,U=1,V=0;V<F.length;V++){var aa=F[V]/P*d;U=Math.min(M<aa?M/aa:aa/M,U)}if(U>w)w=U,z=P;else break}}m=[K,z];E=m[0];m=m[1];O*=m/D;I=0;for(d=q;d<E;d++)w=y.getChild(d),F=w.getDrawingSize(),z=O,F=F/m*c,K=H+(G?0:I),P=J+(G?I:0),M=G?z:F,z=G?F:z,I+=F,z=[K,P,M,z],w.setDrawingObject(z),0<w.getChildCount()&&g(w,u-1,L);H+=G?O:0;J+=G?0:O;B-=G?O:0;k-=G?0:O;D-=m;E>q||(E=q+1);q=E}}},f=function(y,u,k){for(var D=0;D<y.getChildCount();D++){var z=y.getChild(D),
H=z.getDrawingObject();if(H){var J=z.getColor()||u;0<z.getChildCount()?f(z,J,k):(n(H,J),t(z,H,J,k))}}},n=function(y,u){var k=y[0],D=y[1],z=y[2];y=y[3];a.getContext().fillStyle=u||Z;a.getContext().fillRect(k,D,z,y);a.getContext().strokeRect(k,D,z,y)},t=function(y,u,k,D){if(h.isShowDataLabel()){k=k||Z;var z=u[0],H=u[1],J=z+u[2];u=H+u[3];H+=6;J-=4;z+=4;for(u-=4;y&&y!=e.getRoot();){var B=y.getLabel();!B&&(B="");var L=a.getContext().measureText(B).width;if(z+L>J||u-D<H)break;v.drawTextFitBackground(k,
a.getContext(),B,z,u);u-=1.25*D;y=y.getParent()}}}};Ba.SeparatedHeatMapRender=function(r,e,h){var p=new Ja(r);this.drawShape=function(a){var l=p.getWidth()-h>>1,b=p.getHeight()-h>>1,g=l+h,f=b+h;p.clearAll();p.getContext().fillStyle=e;p.fillRect(l,b,g,f);a&&(p.getContext().lineWidth=1,p.getContext().strokeStyle="#000",p.strokeRect(l,b,g,f))};this.drawColorRect=function(a){var l=p.getWidth()-0,b=p.getHeight()-0;p.clearAll();p.getContext().fillStyle=e;p.fillRect(0,0,l,b);a&&(p.getContext().lineWidth=
1,p.getContext().strokeStyle="#000",p.strokeRect(1,1,l-1,b-1))}};Ba.SeparatedVBarRender=function(r,e,h){Ka.call(this,r,e,h);var p=this,a=this.protectedMethod;this.protectedTransformCoordinate=function(l,b,g,f){var n=a.getAttr().isShowDataLabel()&&!p.isStackMode()?1.5*v.getAxisTextFontSize(a.getStyleTool()):0,t=l.getHeight(),y=Math.max(8,Math.min(16,parseInt(.05*t)));f+=y;t-=2*y;b=b.getScopeAdapter();return A.verticalNumberAxis(l,g,f,t,b,0,0,n)};this.protectedDrawNumberAxisImpl=function(l,b,g,f){f=
p.protectedTransformCoordinate(l,b,l.getWidth(),0);b.setPixelPerValue(f);var n=b.getLogicWidth();b.getNumberRulerHelper().drawLeftNumberAxisWithMark(l,n,f,g,null)};this.protectedConfirmLogicSize=function(l,b){return[l,b]};this.protectedConfirmRulerMark=function(l){l.getNumberRulerHelper().confirmVerticalRulerMark(l.getLogicHeight())};this.protectedDrawDataLabel=function(l,b,g){var f=l.getWidth(),n=l.getHeight();n=new oa(0,0,f,n);for(var t=p.isStackMode(),y=a.getModel().getSeries()[0].getNodes(),u=
b.getBarWidth(),k=0,D=a.getModel().getCategories().length;k<D;k++){var z=b.getRectInfo(k),H=z[0],J=z[1],B=z[2];z=Math.abs(B-J);if(!(t&&z<.6*g)){var L=y[k],q=L.getValue();L=L.getText();var G=l.getContext().measureText(L).width;if(!(G>f)){var O=!1,c=.5*(f-G);t?(J=.5*(J+B),O=G<u&&g<z):J=0>q?Math.min(J,B)-.75*g:Math.max(J,B)+.75*g;z=l.transformXY(c,J);c=z[0];J=z[1];n.isRectCanDraw(z[0],z[1],G,g)&&(O?v.drawTextFitBackground(H,l.getContext(),L,c,J):v.drawTextWithShadow(a.getStyleTool(),l.getContext(),L,
c,J))}}}}};Ba.SeparatedHBarRender=function(r,e,h){Ka.call(this,r,e,h);var p=this,a=this.protectedMethod;this.protectedTransformCoordinate=function(l,b,g,f){var n=l.getWidth(),t=Math.min(16,parseInt(.05*n));g+=t;n-=2*t;b=b.getScopeAdapter();return A.horizontalNumberAxis(l,g,f,n,b,0,0,0)};this.protectedDrawNumberAxisImpl=function(l,b,g,f){f=p.protectedTransformCoordinate(l,b,0,l.getHeight());b.setPixelPerValue(f);b.getNumberRulerHelper().drawTopNumberAxisWithMark(l,f,g,null)};this.protectedConfirmLogicSize=
function(l,b){return[b,l]};this.protectedConfirmRulerMark=function(l){l.getNumberRulerHelper().confirmHorizontalRulerMark(l.getLogicHeight())};this.protectedDrawDataLabel=function(l,b,g){var f=l.getWidth(),n=l.getHeight();if(!(n<g))for(var t=p.isStackMode(),y=a.getModel().getSeries()[0].getNodes(),u=b.getBarWidth(),k=0,D=a.getModel().getCategories().length;k<D;k++){var z=b.getRectInfo(k),H=z[0],J=z[1],B=z[2];z=Math.abs(B-J);var L=y[k],q=L.getValue();L=L.getText();var G=r.measureText(L).width;if(!(t&&
z<G)){var O=!1,c=.5*n+.08*g;t?(J=.5*(J+B-G),O=G<z&&g<u):J=0>q?Math.min(J,B)-G-4:Math.max(J,B)+4;J=l.transformXY(c,J);c=J[0];J=J[1];c+G>f&&(c=f-G);0>c&&(c=0);O?v.drawTextFitBackground(H,l.getContext(),L,c,J):v.drawTextWithShadow(a.getStyleTool(),l.getContext(),L,c,J)}}}};Ba.SeparatedLineChartRender=function(r,e,h){sa.call(this,r,e,h);var p=this,a=this.protectedMethod,l=function(b,g,f,n,t,y){var u=a.getAttr().isShowDataLabel()?6:0,k=Math.max(14,Math.min(20,parseInt(.05*n)));b=A.verticalNumberAxis(b,
g,f+k,n-2*k,t,0,0,u);y&&(g=Math.max(0,t.getScopeMax()*b),t=Math.min(0,t.getScopeMin()*b),y[0]=t-k-u,y[1]=g+k+u);return b};this.protectedDrawChart=function(b,g){b.clearAll();var f=g.getNumberRulerHelper(),n=g.getScopeAdapter(),t=p.getDrawingModel(),y=b.getWidth(),u=b.getHeight();g.setMainRect(0,0,y,u);a.updateScopeWhenSmooth(n);f.confirmVerticalRulerMark(u);f=[];b=l(b,0,0,u,n,f);g.setPixelPerValue(b);t.setPixelMinY(f[0]);t.setPixelMaxY(f[1]);t.setCategoryXCalculator(a.createCategoryXCalculator(y,a.getModel().getCategories().length));
a.drawMain(g)};this.drawNumberAxis=function(b){var g=a.createDrawingContext();b=g.getNumberRulerHelper();var f=g.getScopeAdapter();g=a.getGraphics();var n=g.getWidth(),t=g.getHeight();a.updateScopeWhenSmooth(f);b.confirmVerticalRulerMark(t);f=l(g,n,0,t,f,null);t=a.getModel().getSeries()[0].getFormatString();b.drawLeftNumberAxisWithMark(g,n,f,t,null)};this.drawCategoryAxis=function(){var b=a.getGraphics(),g=b.getWidth(),f=b.getHeight();b.setTransformMatrix(1,0,0,-1,0,f);f=a.getModel().getCategories();
var n=a.createCategoryXCalculator(g,f.length);Q.drawTopContinueCategoryAxis(f,function(t){return n.getCategoryX(t)},a.getStyleTool(),b,g)}};Ba.SeparatedAreaChartRender=function(r,e,h){Aa.call(this,r,e,h);var p=this,a=this.protectedMethod,l=function(b,g,f,n,t,y){var u=Math.max(14,Math.min(20,parseInt(.05*n)));b=A.verticalNumberAxis(b,g,f+u,n-2*u,t,0,0,0);y&&(g=Math.max(0,t.getScopeMax()*b),t=Math.min(0,t.getScopeMin()*b),y[0]=t-u,y[1]=g+u);return b};this.protectedDrawChart=function(b,g){b.clearAll();
var f=g.getNumberRulerHelper(),n=g.getScopeAdapter(),t=p.getDrawingModel(),y=b.getWidth(),u=b.getHeight();g.setMainRect(0,0,y,u);f.confirmVerticalRulerMark(u);f=[];b=l(b,0,0,u,n,f);g.setPixelPerValue(b);t.setPixelMinY(f[0]);t.setPixelMaxY(f[1]);t.initCategoryXCalculator(y,a.getModel().getCategories().length);a.drawMain(g)};this.drawNumberAxis=function(b){var g=a.createDrawingContext();b=g.getNumberRulerHelper();var f=g.getScopeAdapter();g=a.getGraphics();var n=g.getWidth(),t=g.getHeight();b.confirmVerticalRulerMark(t);
f=l(g,n,0,t,f,null);t=a.getModel().getSeries()[0].getFormatString();b.drawLeftNumberAxisWithMark(g,n,f,t,null)};this.drawCategoryAxis=function(){var b=p.getDrawingModel(),g=a.getGraphics(),f=g.getWidth(),n=g.getHeight();g.setTransformMatrix(1,0,0,-1,0,n);n=a.getModel().getCategories();b.initCategoryXCalculator(f,n.length);Q.drawTopContinueCategoryAxis(n,function(t){return b.getCategoryX(t)},a.getStyleTool(),g,f)}};Ba.SeparatedScatterChartRender=function(r,e,h){Fa.call(this,r,e,h);var p=this.protectedMethod;
this.protectedDrawChart=function(a,l){a.clearAll();var b=a.getWidth(),g=a.getHeight(),f=l.getXRulerHelper(),n=l.getYRulerHelper(),t=l.getXScopeAdapter(),y=l.getYScopeAdapter();f.confirmHorizontalRulerMark(b);n.confirmVerticalRulerMark(g);var u=[],k=[],D=Math.min(16,parseInt(.05*b)),z=Math.max(14,Math.min(20,parseInt(.05*g)));b=A.doubleNumberAxis(a,0+D,0+z,b-2*D,g-2*z,t,y,0,0);var H=b[0];g=b[1];var J=Math.max(0,t.getScopeMax()*H);t=Math.min(0,t.getScopeMin()*H);u[0]=t-D;u[1]=J+D;D=Math.max(0,y.getScopeMax()*
g);y=Math.min(0,y.getScopeMin()*g);k[0]=y-z;k[1]=D+z;z=b[0];y=b[1];l.setPixelPerValue(z,y);l.setXPixelScope(u[0],u[1]);l.setYPixelScope(k[0],k[1]);f.drawVerticalAssistantLine(a,z);n.drawHorizontalAssistantLine(a,y);p.drawMain(l)};this.drawXAxis=function(a){var l=p.createDrawingContext();a=l.getXRulerHelper();var b=l.getXScopeAdapter(),g=p.getGraphics(),f=g.getWidth(),n=g.getHeight();a.confirmHorizontalRulerMark(f);var t=Math.min(16,parseInt(.05*f));b=A.horizontalNumberAxis(g,0+t,n,f-2*t,b,0,0,0);
l=l.getXScope().getFormatString();a.drawTopNumberAxisWithMark(g,b,l,null)};this.drawYAxis=function(a){var l=p.createDrawingContext();a=l.getYRulerHelper();var b=l.getYScopeAdapter(),g=p.getGraphics(),f=g.getWidth(),n=g.getHeight();a.confirmVerticalRulerMark(n);var t=Math.max(14,Math.min(20,parseInt(.05*n)));b=A.verticalNumberAxis(g,f,0+t,n-2*t,b,0,0,0);l=l.getYScope().getFormatString();a.drawLeftNumberAxisWithMark(g,f,b,l,null)}};Ba.KpiChartRender=ha;Ba.ColumnChartRender=ka;Ba.BarChartRender=ma;Ba.CompositeChartRender=
function(r,e,h){function p(B,L,q){ka.call(this,B,L,q);var G=this.protectedMethod;this.myDivideParts=function(O,c){var E=G.getGraphics(),m=G.createDrawingContext().getNumberRulerHelper();return G.divideLeftBottomAxis(E,m,O,c)};this.protectedDivideParts=function(O,c){return[u,H,k,z]};this.protectedGetSeries=function(O){return g}}function a(B,L,q){sa.call(this,B,L,q);var G=this,O=this.protectedMethod;this.suggestRightAxisWidth=function(){var E=O.getGraphics(),m=O.createDrawingContext().getNumberRulerHelper(),
I=c(),d=O.getAttr().getYUnitText();return m.suggestVerticalRulerWidth(E,I,d)};this.protectedDrawChart=function(E,m){m.setMainRect(u,0,k,z);var I=m.getNumberRulerHelper(),d=m.getScopeAdapter(),w=G.getDrawingModel();O.updateScopeWhenSmooth(d);I.confirmVerticalRulerMark(z);var F=Q.getShrinkForTopAlways(O.getStyleTool(),O.getAttr()),K=Q.getShrinkForAxisTop(O.getStyleTool(),O.getAttr()),P=O.getAttr().isShowDataLabel()?parseInt(1.25*v.getDataLabelFontSize(O.getStyleTool())):0;F=A.verticalNumberAxis(E,u,
0,z,d,F,K,P);m.setPixelPerValue(F);d=Q.confirmNumberAxis(F,P,d,O.getStyleTool(),O.getAttr());P=d[1];w.setPixelMinY(d[0]);w.setPixelMaxY(P);d=c();P=O.getAttr().getYUnitText();I.drawRightNumberAxisWithMark(E,k,D,F,d,P);w.setCategoryXCalculator(new function(){this.getCategoryX=function(M){return t.getDrawingModel().getPixelPerCategory()*(M+.5)};this.whichCategoryNeared=function(M){return t.getDrawingModel().whichCategoryNeared(M)}});O.drawMain(m)};this.protectedCreateDataLabelFormater=function(){var E=
new Ha;E.setFormatString(O.getAttr().getDataLabelFormat()||c());return E};this.protectedGetSeries=function(E){return f};var c=function(){var E=O.getAttr().getYFormat();!E&&0<f.length&&(E=f[0].getFormatString());return E}}var l,b,g=[],f=[],n,t,y,u,k,D,z,H;(function(){var B=h.splitTwoY();l=B[0];b=B[1];t=new p(r,e,l);y=new a(r,e,b);y.setAxisIndex(sa.AXIS_RIGHT);B=e.getSeries();for(var L=0;L<B.length;L++){var q=B[L];0==q.getAxisIndex()?g.push(q):1==q.getAxisIndex()&&f.push(q)}B=e.getScopes();B||(L=Ua.multiSeriesForOneAxis(e,
g,0),q=Ua.multiSeriesForOneAxis(e,f,1),L.appointMinMax(l.getYRulerMin(),l.getYRulerMax()),q.appointMinMax(b.getYRulerMin(),b.getYRulerMax()),B=[],B[0]=L,B[1]=q,e.setScopes(B))})();this.setSelectionModel=function(B){n=B;t.setSelectionModel(B)};var J=function(){var B=null;if(l.isShowDataLabel()||b.isShowDataLabel())B=new oa(u-8,0,k+16,z+2);t.hookCompositeContext(new function(){this.createNonoverlaper=function(){return B}});y.hookCompositeContext(new function(){this.createNonoverlaper=function(){return B};
this.isHumble=function(L,q){return n&&n.isAnySelected()?(L=e.getCategories()[L],!n.isSelected(L,f[q])):!1}})};this.drawChart=function(B){var L=new Ja(r),q=L.getWidth();L=L.getHeight();var G=y.suggestRightAxisWidth();D=Math.max(32,Math.min(.25*q,G));q=t.myDivideParts(q-D,L);u=q[0];H=q[1];k=q[2];z=q[3];J();(L=q=B)&&B.inner().isHoveringRefline()&&(q=(L=B.inner().isHoveringSecondaryAxisRefline())?null:B,L=L?B:null);t.drawChart(q);y.drawChart(L)};this.getDrawingModel=function(){return t.getDrawingModel()};
this.getDrawingRefline=function(B){return(B.inner().isHoveringSecondaryAxisRefline()?y:t).getDrawingModel().getRefline(B.getReflineIndex())};this.searchHoverTarget=function(B,L){var q=t.searchHoverTarget(B,L);return!q.inner().isHoveringRefline()&&(B=y.searchHoverTarget(B,L),B.inner().isHoveringRefline())?B=B.inner().toSecondaryAxisRefline():q}};Ba.LineChartRender=function(r,e,h){sa.call(this,r,e,h);Ea.call(this);var p=this,a=this.protectedMethod;this.protectedSuggestYAxisWidth=function(b,g){var f=
l(),n=a.getAttr().getYUnitText();return g.suggestVerticalRulerWidth(b,f,n)};this.protectedSuggestXAxisHeight=function(b,g){return Q.suggestContinueCategoryAxisHeight(a.getStyleTool())};this.protectedDrawChart=function(b,g){b.clearAll();var f=g.getNumberRulerHelper(),n=g.getScopeAdapter(),t=p.getDrawingModel(),y=a.divideLeftBottomAxis(b,f),u=y[0],k=y[1],D=y[2];y=y[3];g.setMainRect(u,0,D,y);a.updateScopeWhenSmooth(n);f.confirmVerticalRulerMark(y);var z=Q.getShrinkForTopAlways(a.getStyleTool(),a.getAttr()),
H=Q.getShrinkForAxisTop(a.getStyleTool(),a.getAttr()),J=a.getAttr().isShowDataLabel()?parseInt(1.25*v.getDataLabelFontSize(a.getStyleTool())):0;y=A.verticalNumberAxis(b,u,0,y,n,z,H,J);g.setPixelPerValue(y);J=Q.confirmNumberAxis(y,J,n,a.getStyleTool(),a.getAttr());n=J[0];var B=J[1];t.setPixelMinY(n);t.setPixelMaxY(B);z=l();J=a.getAttr().getYUnitText();f.drawLeftNumberAxisWithAssistantLine(b,u,y,z,J,D);J=a.getAttr().getXUnitText();f=a.getModel().getCategories();t.setCategoryXCalculator(a.createCategoryXCalculator(D,
f.length));Q.drawContinueCategoryAxis(f,function(L){return t.getCategoryX(L)},function(){return a.getAttr().isXShowAssistantLine()?B:null},a.getStyleTool(),b,D,k,n,-u,J);a.drawMain(g)};this.protectedCreateDataLabelFormater=function(){var b=new Ha;b.setFormatString(a.getAttr().getDataLabelFormat()||l());return b};var l=function(){var b=a.getAttr().getYFormat();!b&&(b=a.getModel().getSeries()[0].getFormatString());return b}};Ba.AreaChartRender=function(r,e,h){Aa.call(this,r,e,h);Ea.call(this);var p=
this,a=this.protectedMethod;this.protectedSuggestYAxisWidth=function(l,b){var g=a.getNumberAxisFormat(),f=a.getAttr().getYUnitText();return b.suggestVerticalRulerWidth(l,g,f)};this.protectedSuggestXAxisHeight=function(l,b){return Q.suggestContinueCategoryAxisHeight(a.getStyleTool())};this.protectedDrawChart=function(l,b){l.clearAll();var g=b.getNumberRulerHelper(),f=b.getScopeAdapter(),n=p.getDrawingModel(),t=a.divideLeftBottomAxis(l,g),y=t[0],u=t[1],k=t[2];t=t[3];b.setMainRect(y,0,k,t);g.confirmVerticalRulerMark(t);
var D=Q.getShrinkForTopAlways(a.getStyleTool(),a.getAttr()),z=Q.getShrinkForAxisTop(a.getStyleTool(),a.getAttr());t=A.verticalNumberAxis(l,y,0,t,f,D,z,0);b.setPixelPerValue(t);D=Q.confirmNumberAxis(t,0,f,a.getStyleTool(),a.getAttr());f=D[0];var H=D[1];n.setPixelMinY(f);n.setPixelMaxY(H);z=a.getNumberAxisFormat();D=a.getAttr().getYUnitText();g.drawLeftNumberAxisWithAssistantLine(l,y,t,z,D,k);D=a.getAttr().getXUnitText();g=a.getModel().getCategories();n.initCategoryXCalculator(k,g.length);Q.drawContinueCategoryAxis(g,
function(J){return n.getCategoryX(J)},function(){return a.getAttr().isXShowAssistantLine()?H:null},a.getStyleTool(),l,k,u,f,-y,D);a.drawMain(b)}};Ba.RadarChartRender=za;Ba.ProgressCircleChartRender=function(r,e,h){var p=new Ja(r),a,l,b,g,f,n;(function(){var k=p.getWidth(),D=p.getHeight(),z=parseInt(Math.max(0,.5*Math.min(k,D))),H=parseInt(.1*z);l=z-H;a=l-H;b=a-H;g=2*H;f=parseInt(g*h.getOverlapShrinkingRatio());x.transform(p,k>>1,D>>1)})();this.apiXYToCheckInside=function(k,D){k=p.retransformMouseXY(k,
D);return x.logicXyToRadius(k[0],k[1])<=l};this.getDrawingPercentage=function(){return n};this.drawChart=function(){t(!1)};this.drawChartWithAnimation=function(){t(!0)};var t=function(k){var D=e.getSeries()[0].getColor(),z=e.getSeries()[1].getColor(),H=e.getNode(0,0).getValue(),J=e.getNode(1,0).getValue(),B=null;h.isDataEmpty()?B=h.getDataEmptyPercentageInstead()/100:isNaN(H)||isNaN(J)||0===H||(B=J/H,0>B&&(B=0),h.isPercentageCeiling()&&1<B&&(B=1));n=null===B?"---":v.formatPercentage(B,h.getPercentageDecimalDigit());
H=null===B?0:Math.min(1,B)*Math.PI*2;p.getContext().lineWidth=g;p.getContext().strokeStyle=D;u(2*Math.PI);p.getContext().lineWidth=f;p.getContext().strokeStyle=z;k?y(H):u(H);p.getContext().fillStyle=z;k=new Ga;D=Math.min(100,Math.max(10,32*Math.log(.05*b)));z=Math.min(60,Math.max(6,18*Math.log(.05*b)));(H=h.getLabelDesc())?k.drawDualLineInCircle(p,b,n,D,H,z):k.drawInCircle(p,0,b,n,D)},y=function(k){var D=parseInt(6*Math.log(k/Math.PI*4+2)+.5),z=0,H=function(){z++;u(k*z/D);z<D&&setTimeout(H,40)};H()},
u=function(k){p.beginPath();p.arc(0,0,a,0,k);p.stroke()}};Ba.ProgressBarChartRender=function(r,e,h){ma.call(this,r,e,h);Ia.call(this);var p=this,a=this.protectedMethod;this.protectedCreateScopeAdapter=function(l){return new ya(l,a.getAttr().getXRulerScale(),a.getAttr().getXRulerStart())};this.protectedDrawOneCagegoryDataLabel=function(l,b,g,f,n,t,y,u,k,D){var z=2;if(f){var H="";n&&(H=u(b));t&&(t=k(b,l))&&(H=n?H+" ("+t+")":t);var J=(f[0]+f[2])/2,B=(f[1]+f[3])/2;f=y(H,function(G){B-=G/2;B=0>b?Math.min(-z-
G,B):Math.max(z,B);return[J,B]});if(0<=l&&0<=b||0>l&&0>b)z=0>b?Math.abs(B-D):B+f+D}if(n){var L=p.getDrawingModel().getPixelMinY(),q=p.getDrawingModel().getPixelMaxY();n=g[3];J=(g[0]+g[2])/2;B=(0>l?-1:1)*Math.max(Math.abs(n)+2,z);y(u(l),function(G){if(0>l){if(B-=G,B<L&&(B=L,B+G>-z))return null}else if(B+G>q&&(B=q-G,B<z))return null;return[J,B]})}}};Ba.ProgressColumnChartRender=function(r,e,h){ka.call(this,r,e,h);Ia.call(this);var p=this.protectedMethod;this.protectedCreateScopeAdapter=function(l){return new ya(l,
p.getAttr().getYRulerScale(),p.getAttr().getYRulerStart())};this.protectedDrawOneCagegoryDataLabel=function(l,b,g,f,n,t,y,u,k,D){var z=0;if(f){var H=f[0],J=f[1],B=f[2];f=f[3];z=Math.max(Math.abs(f),2.5*D);J+=(f-J)/2;f=.7*D;n&&t&&(J+=.5*D,0<=b&&(f=1.7*D));Math.abs(J)<f&&(J=f*(0>b?-1:1));n&&(y(u(b),a(H,B,J)),J-=1.1*D);t&&y(k(b,l),a(H,B,J))}n&&(b=g[0],n=g[2],J=(0>l?-1:1)*(Math.max(z,Math.abs(g[3]))+.7*D),y(u(l),a(b,n,J)))};var a=function(l,b,g){return function(f){return[(l+b-f)/2,g]}}};Ba.DialChartRender=
function(r,e,h){function p(){var m,I=[],d,w;this.setMaxRadius=function(F){m=F};this.getMaxRadius=function(){return m};this.addSection=function(F,K,P,M,U){var V=F,aa=K;U&&(aa=new Ha,aa.setFormatString(U),V=aa.format(F),aa=aa.format(K));I.push([V,aa,P,M])};this.getSectionCount=function(){return I.length};this.getSectionStart=function(F){return I[F][0]};this.getSectionEnd=function(F){return I[F][1]};this.getSectionColor=function(F){return I[F][2]};this.getSectionLabel=function(F){return I[F][3]};this.setPointerValue=
function(F,K,P){d=P;w=F;K&&(P=new Ha,P.setFormatString(K),w=P.format(F))};this.getPointerName=function(){return d};this.getPointerText=function(){return w}}function a(){var m=this,I,d,w,F=[],K=[],P=!1;this.setValueScope=function(U,V){I=U;d=V};this.getStartValue=function(){return I};this.getEndValue=function(){return d};this.createDrawingSection=function(U,V,aa,ia){var ja=M(U+.5*(V-U));U=M(U);V=M(V);K.push([U,ja,V,aa,ia])};this.getSectionCount=function(){return K.length};this.getSectionStartRatio=
function(U){return K[U][0]};this.getSectionMiddleRatio=function(U){return K[U][1]};this.getSectionEndRatio=function(U){return K[U][2]};this.getSectionColor=function(U){return K[U][3]};this.getSectionLabel=function(U){return K[U][4]};this.setAnySectionLabelExist=function(U){P=U};this.hasSectionLabel=function(){return P};this.createDrawingPointer=function(U,V,aa){w=[U,V,aa]};this.getPointerRatio=function(){return M(w[0])};this.getPointerValue=function(){return w[0]};this.getPointerColor=function(){return w[1]};
this.getPointerMeasureFormat=function(){return w[2]};this.setPointerLabel=function(U){F=U};this.getPointerLabel=function(){return F};this.calculateDrawingMark=function(U){U=M(U);for(var V="#999",aa=m.getSectionCount()-1,ia=aa;0<=ia;ia--){var ja=m.getSectionStartRatio(ia),ua=ia==aa?Infinity:m.getSectionEndRatio(ia);if(ja<=U&&U<ua){V=m.getSectionColor(ia);break}}return[U,V]};var M=function(U){var V=d-I;return Math.min(1,Math.max(0,0==V?0:(U-I)/V))}}function l(m,I){this.isHoverPointer=function(){return m};
this.isHoverSections=function(){return I};this.isEquals=function(d){return d?m==d.isHoverPointer()&&I==d.isHoverSections():!1}}var b=new Ja(r),g=new ea(h),f;this.searchHoverTarget=function(m,I){m=b.retransformMouseXY(m,I);m=Math.sqrt(m[0]*m[0]+m[1]*m[1]);I=f.getMaxRadius();var d=!1,w=!1;m<I&&(m<I-Math.min(88,I/6)?d=!0:w=!0);return new l(d,w)};this.getDrawingModel=function(){return f};this.drawChart=function(){n(!1)};this.drawChartWithAnimation=function(){n(!0)};var n=function(m){f=new p;var I=new a;
J(I);B(I);L(I);if(m){var d=Math.min(16,Math.max(6,parseInt(h.getArcDegree()*I.getPointerRatio()/15))),w=0,F=function(){setTimeout(function(){t(I,w/d);w<d&&(w++,F())},40)};F()}else t(I,1)},t=function(m,I){b.clearAll();b.getContext().textBaseline="middle";var d=h.getPanStyle()==da.PAN_STYLE_WITH_TRACK,w=f.getMaxRadius(),F=Math.min(88,w/6),K=w-F,P=w-F*(d?.8:.4);F=w-F*(h.isShowRulerMarkLabel()?.618:1);var M=m.getStartValue(),U=m.getEndValue(),V=new Wa;V.setAppointedMinMax(M,U);V=new ya(V,Qa.RulerScale_Linear,
Qa.RulerStart_Nonzero);V=new xa(V,null);var aa=90>h.getArcDegree()?3:180>h.getArcDegree()?5:7;V=V.confirmDialMark(aa);if(!(2>V.length)){aa=(V[1]-V[0])/5;for(var ia=1;5>ia;ia++){var ja=V[0]-aa*ia;ja>=M&&O(m,ja,w,P,1)}for(M=0;M<V.length;M++){var ua=V[M];O(m,ua,w,K,2.5);h.isShowRulerMarkLabel()&&G(m,ua,K);for(ia=1;5>ia;ia++)ja=ua+aa*ia,ja<=U&&O(m,ja,w,P,1.5)}if(d)for(M=0,d=m.getSectionCount();M<d;M++)V=m.getSectionStartRatio(M),P=m.getSectionEndRatio(M),K=m.getSectionColor(M),aa=P,P=w,U=F,V=u(k(V)),
aa=u(k(aa)),b.getContext().lineWidth=1,b.getContext().strokeStyle=K,b.getContext().fillStyle=K,b.beginPath(),b.arc(0,0,P,V,aa),b.arc(0,0,U,aa,V,!0),b.closePath(),b.stroke(),b.fill();if(m.hasSectionLabel())for(M=0,d=m.getSectionCount();M<d;M++)F=m.getSectionMiddleRatio(M),P=m.getSectionLabel(M),K=m.getSectionColor(M),P&&c(P,w,F,K)}q(m);d=H(f.getMaxRadius());w=d[0];F=d[1];M=d[2];d=d[3];b.getContext().fillStyle="rgba(215,235,255,0.5)";b.beginPath();b.arc(0,0,d,0,2*Math.PI);b.fill();I=u(k(m.getPointerRatio()*
I));b.getContext().fillStyle=m.getPointerColor();b.beginPath();E(F,I-.5*Math.PI);E(w,I);E(F,I+.5*Math.PI);b.closePath();b.fill();b.getContext().fillStyle="#999";b.beginPath();b.arc(0,0,M,0,2*Math.PI);b.fill()},y=function(m,I){m=u(m);return x.toLogicXy(m,I)},u=function(m){return m*Math.PI/180},k=function(m){return h.getArcDegree()*m},D=function(){return 1+Math.sin(u(Math.max(0,h.getArcDegree()-180)/2))},z=function(){var m=200<=h.getArcDegree()?Math.min(b.getWidth(),b.getHeight()):Math.min(.618*b.getWidth(),
b.getHeight());return Math.min(56,parseInt(.1*m))},H=function(m){var I=.75*m,d=100/D();m=3*Math.log(m/d*2.718);m=Math.max(1,Math.min(6,m));return[I,m,1.5*m,3*m]},J=function(m){var I=["#49a2ff","#dde7fd"],d=e.getSeries(),w=d&&0<d.length?d[0]:null;d=(d=(d=w?w.getNodes():null)?d[0]:null)?d.getValue():0;var F,K=w?w.getFormatString():null;w=w?w.getName():null;var P=e.getScopes();if(P&&0!=P.length)if(1!=P.length||P[0].getColor()){I=[];for(var M=P[0].getAppointableMin(),U=M,V=!1,aa=0;aa<P.length;aa++){ja=
P[aa];ua=ja.getAppointableMin();Da=ja.getAppointableMax();var ia=ja.getColor();ja=ja.getTitle();V=V||(ja?!0:!1);f.addSection(ua,Da,ia,ja,K);U=ua=Math.max(ua,U);U=Da=Math.max(Da,U);I.push([ua,Da,ia,ja]);(!F||d>=ua)&&(F=ia)}m.setValueScope(M,U);m.setAnySectionLabelExist(V);for(aa=0;aa<I.length;aa++)P=I[aa],m.createDrawingSection(P[0],P[1],P[2],P[3])}else{var ja=P[0],ua=Math.min(ja.getAppointableMin(),ja.getAppointableMax()),Da=Math.max(ja.getAppointableMin(),ja.getAppointableMax());m.setValueScope(ua,
Da);F=d+1E-4*(Da-ua);m.createDrawingSection(ua,F,I[0],null);m.createDrawingSection(F,Da,I[1],null);f.addSection(ua,Da,null,null,K);F=I[0]}else 0>d?(m.setValueScope(d,0),F=d+1E-4*(0-d),m.createDrawingSection(d,F,I[0],null),m.createDrawingSection(F,0,I[1],null),f.addSection(d,0,null,null,K)):(m.setValueScope(0,d),m.createDrawingSection(0,d,I[0],null),f.addSection(0,d,null,null,K)),F=I[0];m.createDrawingPointer(d,F,K);f.setPointerValue(d,K,w)},B=function(m){var I=h.getPointerLabelType(),d=(I&da.SHOW_LABEL_NUMBER)==
da.SHOW_LABEL_NUMBER,w=(I&da.SHOW_LABEL_PERCENT)==da.SHOW_LABEL_PERCENT,F=[];(I&da.SHOW_LABEL_NAME)==da.SHOW_LABEL_NAME&&h.getPointerName()&&F.push([h.getPointerName(),!1]);d&&(I=h.getPointerNumberFormat(),!I&&(I=m.getPointerMeasureFormat()),d=new Ha,d.setFormatString(I),I=d.format(m.getPointerValue()),F.push([I,!0]));w&&(w=h.getPointerPercentDecimal(),I=m.getPointerRatio(),w=v.formatPercentage(I,w),F.push([w,!0]));m.setPointerLabel(F)},L=function(m){var I=90+.5*h.getArcDegree()+h.getRotate();I=u(I);
var d=D(),w=b.getWidth(),F=b.getHeight(),K=m.hasSectionLabel(),P=v.getAxisTextFontSize(g);m=Math.min(P*(K?1.8:.5),.12*F);var M=Math.min(P*(K?1.6:.5),.1*F);K=Math.min(P*(K?5:1),.1*w);200<=h.getArcDegree()||0!=h.getRotate()||(P=H(Math.min(.5*w,F/d))[3]+2,M=Math.max(M,P));w=Math.max(0,w-2*K);P=Math.max(0,F-m-M);F=.5*Math.min(w,P);M=.5*P-F;0==h.getRotate()&&(M=200<=h.getArcDegree()&&!(280<=h.getArcDegree())?1.2*z():0,F=Math.min(.5*w,Math.max(0,P-M)/d),M=.5*(P-(F*d+M)));d=.5*w-F;f.setMaxRadius(F);w=Math.cos(I);
I=Math.sin(I);b.setTransformMatrix(w,-I,I,w,K+d+F,m+M+F)},q=function(m){var I=z(),d=1.2*I,w=m.getPointerLabel();if(200<=h.getArcDegree()){var F=280<=h.getArcDegree()?f.getMaxRadius()*(D()-1)-d*(1<w.length?2.5:1.8):f.getMaxRadius()*(D()-1)-(1<w.length?.4*d:0);var K=.5*h.getArcDegree()+180+h.getRotate();w=w.slice(0).reverse()}else F=1.1*I,K=.5*h.getArcDegree()+h.getRotate();b.getContext().fillStyle=m.getPointerColor();for(m=0;m<w.length;m++){var P=w[m],M=P[0];P=P[1];v.setupFont(b.getContext(),I*(P?
1:.8));P=y(K,F+d*m);var U=b.getContext().measureText(M).width;U>2*f.getMaxRadius()&&(M=v.shortenText(M,U,2*f.getMaxRadius(),b.getContext()),U=b.getContext().measureText(M).width);v.drawShadowText(g,b,M,P[0],P[1],function(V){V[0]-=.5*U})}},G=function(m,I,d){var w=h.getRulerMarkLabelFormat();!w&&(w=m.getPointerMeasureFormat());var F=new Ha;F.setFormatString(w);w=F.format(I);F=Math.min(32,9+parseInt(.02*Math.min(b.getWidth(),b.getHeight())));v.setupFont(b.getContext(),F);b.getContext().fillStyle="#999";
var K=b.getContext().measureText(w).width;m=m.calculateDrawingMark(I)[0];m=k(m);var P=u((m-h.getRotate()-.5*h.getArcDegree()+360)%360);d=Math.max(0,d-F*(.5+.5*Math.abs(Math.cos(P))));d=y(m,d);b.fillText(w,d[0],d[1],function(M){M[0]-=.5*K*(1+Math.sin(P))})},O=function(m,I,d,w,F){I=m.calculateDrawingMark(I);m=I[1];I=u(k(I[0]));b.getContext().lineWidth=F;b.getContext().strokeStyle=m;b.beginPath();E(d,I);E(w,I);b.stroke()},c=function(m,I,d,w){var F=v.getAxisTextFontSize(g);v.setupFont(b.getContext(),
F);b.getContext().fillStyle=w;d=k(d);var K=u((d-h.getRotate()-.5*h.getArcDegree()+360)%360);I+=F*(.5+.5*Math.abs(Math.cos(K)));I=y(d,I);var P=b.getContext().measureText(m).width;v.drawShadowText(g,b,m,I[0],I[1],function(M){var U=M[0]-.5*P*(1-Math.sin(K));U+P>b.getWidth()&&(U=b.getWidth()-P);0>U&&(U=0);M[0]=U})},E=function(m,I){b.arc(0,0,m,I,I+1E-4)}};Ba.GridChartRender=Pa;Ba.CustomListChartRender=function(r,e,h){Sa.call(this,r,e,h);var p=this,a=this.protectedMethod,l,b,g,f,n;this.drawChart=function(){var D=
new Ja(r),z=D.getWidth();D=D.getHeight();var H=h.isDynamicRowHeightReduced(),J=h.isDynamicRowHeightIncreased(),B=h.getRowHeight(),L=e.getRowCount();if((H||J)&&0<L){var q=h.getHeaderHeight(),G=h.getFooterHeight();L=Math.max(Math.floor((D-(q?q:0)-(G?G:0))/L),1);H||(L=Math.max(B,L));J||(L=Math.min(B,L));B=L}b=h.getRuntimeRects(z,B);l=h.getRuntimeHeaderRects(z);g=h.getRuntimeFooterRects(z);n=0;H=a.drawAll(z,D,B);!H&&0<n&&(r.clearRect(0,0,z,D),p.redrawWhenHover(-1));return H};this.protectedGetHeadRowHeight=
function(D){return h.getHeaderHeight()};this.protectedGetFootRowHeight=function(D){return h.getFooterHeight()};this.protectedDrawHead=function(D,z,H,J){var B=e.getCustomHeader();if(B){var L=e.getPrioritizedStyle(null,B,null,"getBackground");!L&&(L=h.getHeaderBackgroundColor());!L&&(L=v.getCustomStyle(a.getStyleTool(),Pa.TITLE_BACKGROUND,"#f4f4f4"));t(D,z,H,J,B,l,L)}};this.protectedDrawFoot=function(D,z,H,J){var B=e.getCustomFooter();if(B){var L=e.getPrioritizedStyle(null,B,null,"getBackground");!L&&
(L=h.getFooterBackgroundColor());!L&&(L=v.getCustomStyle(a.getStyleTool(),Pa.TITLE_BACKGROUND,"#f4f4f4"));t(D,z,H,J,B,g,L)}};var t=function(D,z,H,J,B,L,q){r.clearRect(D,z,H,J);r.fillStyle=q;r.fillRect(D,z,H,J);r.fillStyle=v.getCustomStyle(a.getStyleTool(),Pa.TITLE_COLOR,v.getCustomStyle(a.getStyleTool(),Pa.COLOR,"#808080"));v.setupFont(r,k());for(D=0;D<B.getCellCount();D++)H=B.getCell(D),(J=L[D])&&y(B,null,H,J,z)};this.protectedIsScrollingRequested=function(D,z,H){z*=H;n=h.isBodyMiddleAlign()?Math.max(0,
D-z>>1):0;return 0<D&&D<z};this.protectedGetBodyTopOffset=function(){return n};this.protectedSetupDrawRows=function(){v.setupFont(r,k());r.fillStyle=v.getCustomStyle(a.getStyleTool(),Pa.COLOR,"#808080");!f&&(f=h.getSplitLineColor());!f&&(f=a.calculateContrastColor(a.getStyleTool().getBackgroundColor()))};this.protectedAfterDrawRow=function(D,z){r.save();r.strokeStyle=f;r.lineWidth=1;r.beginPath();r.moveTo(0,z);r.lineTo(D,z);r.stroke();r.restore()};this.protectedDrawCell=function(D,z,H,J,B,L){(J=b[J])&&
y(D,z,H,J,B)};var y=function(D,z,H,J,B){var L=[J.getRectX(),B+J.getRectY(),J.getRectWidth(),J.getRectHeight()];u(z,H,L);J=L[0];var q=L[1];B=L[2];var G=L[3],O=e.getPrioritizedStyle(z,D,H,"getColor");L=e.getPrioritizedStyle(z,D,H,"getBold");var c=e.getPrioritizedStyle(z,D,H,"getFontSize"),E=null!=O,m=null!=L,I=null!=c;(L=E||m||I)&&r.save();E&&(r.fillStyle=O);m?v.setupFontWithBold(r,I?c:k()):I&&v.setupFont(r,c);O=z?z.getBar():null;m=H.getNumber();if(O&&(m||0===m)&&(E=O.getRtZeroPosRatio(),null!==E)){c=
O.getRtValuePosRatio(m);m=0>m?O.getNegativeColor():O.getPositiveColor();!m&&(m="#99CCFF");r.save();r.fillStyle=m;E=J+B*E;c=J+B*c;r.fillRect(Math.min(E,c),q,Math.abs(c-E),G);if(O=O.getCrossAxisColor())r.strokeStyle=O,r.lineWidth=1,r.beginPath(),r.moveTo(E,q-4),r.lineTo(E,q+G+4),r.stroke();r.restore()}O=H.getContent();!O&&(O="");D=e.getPrioritizedStyle(z,D,H,"getAlign");z=O;H=parseInt(q+.5*G+2);q=new wa;a.isAlignCenter(D)?q.drawAlignCenter(r,J,H,z,B):a.isAlignRight(D)?q.drawAlignRight(r,J,H,z,B):q.drawAlignLeft(r,
J,H,z,B);L&&r.restore()},u=function(D,z,H){var J=H[0],B=H[1],L=H[2],q=H[3],G=e.getPrioritizedStyle(null,null,z,"getBackground",!0);(!G||G.isBackgroundImage()||G.isBackgroundIcon())&&(D=e.getPrioritizedStyle(D,null,null,"getBackground"))&&a.paintBackgroundColor(D,J,B,L,q);G&&(G.isBackgroundImage()?a.paintImage(G,function(O){var c=G.getBackgroundImageRect();r.drawImage(O,J+(c?c[0]:0),B+(c?c[1]:0),c?c[2]:L,c?c[3]:q)}):G.isBackgroundIcon()?(D=null,G.isBackgroundIconBefore()?(D=J,J+=20,L-=20):G.isBackgroundIconAfter()&&
(D=J+L-20,L-=20),null!=D&&a.paintIcon(G,D,B,q,20)):a.paintBackgroundColor(G.getBackground(),J,B,L,q));H[0]=J;H[2]=L},k=function(){return parseInt(v.getCustomStyle(a.getStyleTool(),Pa.FONTSIZE,14))}};Ba.WaterfallChartRender=fa;Ba.FunnelChartRender=function(r,e,h){function p(){var d,w,F,K,P,M,U,V;this.setCenterX=function(ia){d=ia};this.getCenterX=function(){return d};this.setWidths=function(ia,ja){w=ia;F=ja};this.getMaxWidth=function(){return w};this.getMinWidth=function(){return F};this.setLabelLimited=
function(ia,ja,ua){!M&&(M=[]);!U&&(U=[]);M[ia]=ja;U[ia]=ua};this.getLeftLabelLimitedX=function(ia){return(M?M[ia]:d)-aa()};this.getRightLabelLimitedX=function(ia){return(U?U[ia]:d)+aa()};var aa=function(){!K&&(K=v.getDataLabelFontSize(g));return K};this.getFontSize=function(){return aa()};this.checkTextCanDraw=function(ia,ja,ua){P||(P=new oa(0,.5*aa(),l.getWidth(),l.getHeight()));return P.isRectCanDraw(ia,ja,ua,aa())};this.bindLabelHumbleChecker=function(ia){V=ia};this.isLabelHumble=function(ia){return V(ia)}}
function a(){var d=this,w,F,K,P;this.bindStepY=function(M,U){w=M;F=U};this.bindStepX=function(M){K=M};this.bindPercentage=function(M){P=M};this.getStepHeight=function(){return F};this.getStepTopY=function(M){return w+F*M};this.getStepMiddleY=function(M,U){void 0===U&&(U=.5);return d.getStepTopY(M)+F*U+1};this.getStepBottomY=function(M){return d.getStepTopY(M)+F};this.getStepTopLeftX=function(M){return K[M][0]};this.getStepTopRightX=function(M){return K[M][1]};this.getStepBottomLeftX=function(M){return K[M+
1][0]};this.getStepBottomRightX=function(M){return K[M+1][1]};this.getStepMiddleLeftX=function(M,U){void 0===U&&(U=.5);var V=d.getStepTopLeftX(M);M=d.getStepBottomLeftX(M);return V+(M-V)*U};this.getStepMiddleRightX=function(M,U){void 0===U&&(U=.5);var V=d.getStepTopRightX(M);M=d.getStepBottomRightX(M);return V+(M-V)*U};this.getPercentage=function(M){return P[M]};this.whichCategoryNeared=function(M,U){var V=-1,aa;U-=w;0<=U&&(aa=parseInt(U/F));if(0<=aa&&aa<b.getCategories().length){U=K[aa];var ia=K[aa+
1],ja=Math.max(U[1],ia[1]);Math.min(U[0],ia[0])<M&&M<ja&&(V=aa)}return V}}var l=new Ja(r),b=e,g=new ea(h),f,n,t;this.setSelectionModel=function(d){f=d};this.apiXYToCategoryIndex=function(d,w){return n.whichCategoryNeared(d,w)};this.getDrawingModel=function(){return n};this.drawChart=function(d){t=d;l.clearAll();n=new a;d=new p;var w=new Ha,F=w.setFormatString,K=h.getPercentageFormat();!K&&(K="{-2}#,##0.00%");F.call(w,K);F=y();K=[];for(var P=0;P<b.getCategories().length;P++){var M=m(P),U=F(P);M=0==
U?"---":w.format(M/U);K.push(M)}n.bindPercentage(K);K=l.getHeight()-8;P=l.getWidth()-12;w=4;F=6+(P>>1);P>=K?P=M=K:(M=P,w=(K>>1)-(M>>1));K=parseInt(.1*P);d.setCenterX(F);d.setWidths(P,K);F=M/b.getCategories().length;n.bindStepY(w,F);h.isLadderPerfect()?k(d):D(d);B(d)};var y=function(){var d=null;return function(w){if(h.isRatioByTotal()){if(null===d)for(w=d=0;w<b.getCategories().length;w++){var F=m(w);d+=F}return d}return h.isRatioByStart()?m(0):0==w?m(w):m(w-1)}},u=function(d,w){var F=[],K=d.getCenterX()-
.5*d.getMinWidth(),P=d.getCenterX()+.5*d.getMinWidth();d=.5*(d.getMaxWidth()-d.getMinWidth());for(var M=b.getCategories().length,U=0;U<=M;U++){var V=d*w(U,M);F.push([K-V,P+V])}n.bindStepX(F)},k=function(d){u(d,function(w,F){return(F-w)/F});z()},D=function(d){for(var w=-Infinity,F=Infinity,K=0;K<b.getCategories().length;K++){var P=m(K);w=Math.max(w,P);F=Math.min(F,P)}var M=w-F;u(d,function(U,V){if(U==V)return-.05;U=m(U);return 0==M?1:(U-F)/M});z()},z=function(){for(var d=b.getCategories(),w=0;w<d.length;w++){var F=
d[w].getColor(),K=n.getStepTopLeftX(w),P=n.getStepTopRightX(w),M=n.getStepBottomLeftX(w),U=n.getStepBottomRightX(w),V=n.getStepTopY(w),aa=n.getStepBottomY(w);w==t&&(K-=5,M-=5,P+=5,U+=5);H(K,P,M,U,V,aa,F);J(w)&&(F=g.getUnselectedMaskColor(),H(K,P,M,U,V,aa,F,!0))}},H=function(d,w,F,K,P,M,U,V){l.getContext().fillStyle=U;l.beginPath();l.moveTo(d,P);l.lineTo(w,P);l.lineTo(K,M);l.lineTo(F,M);l.closePath();l.fill();V&&(l.getContext().strokeStyle=U,l.stroke())},J=function(d){return f&&f.isAnySelected()?(d=
b.getCategories()[d],!f.isSelected(d,null)):!1},B=function(d){if(!h.isLabelHide(h.getLabelNamePosition())||!h.isLabelHide(h.getLabelValuePosition())||!h.isLabelHide(h.getLabelPercentPosition())){var w=v.getDataLabelColor(g),F=l.getContext();F.fillStyle=w;F.strokeStyle=v.getRulerMarkLongLineColor(g);F.textBaseline="middle";v.setupFont(F,d.getFontSize());var K;d.bindLabelHumbleChecker(function(Ya){if(J(Ya))return!K&&(K=v.createColorWithAlpha(w,.25)),F.fillStyle=K,!0;K&&(F.fillStyle=w);return!1});var P=
h.isLabelLeft(h.getLabelNamePosition()),M=h.isLabelLeft(h.getLabelValuePosition()),U=h.isLabelLeft(h.getLabelPercentPosition()),V=h.isRatioByStep()&&!P&&!M&&U,aa=h.isLabelRight(h.getLabelNamePosition()),ia=h.isLabelRight(h.getLabelValuePosition()),ja=h.isLabelRight(h.getLabelPercentPosition()),ua=h.isRatioByStep()&&!aa&&!ia&&ja;if(V||ua)for(var Da=1;Da<b.getCategories().length;Da++){if(V){var Oa=E(F,Da,P,M,U);Oa&&L(d,Da,Oa[0],Oa[1],0,1,0,n.getStepMiddleLeftX)}ua&&(Oa=E(F,Da,aa,ia,ja))&&L(d,Da,Oa[0],
Oa[1],1,-1,1,n.getStepMiddleRightX)}var Va=h.isLabelCenter(h.getLabelNamePosition()),Xa=h.isLabelCenter(h.getLabelValuePosition()),Za=h.isLabelCenter(h.getLabelPercentPosition());for(Da=0;Da<b.getCategories().length;Da++)(Oa=E(F,Da,Va,Xa,Za))&&q(d,Da,Oa[0],Oa[1]),V||(Oa=E(F,Da,P,M,U))&&G(d,Da,Oa[0],Oa[1]),ua||(Oa=E(F,Da,aa,ia,ja))&&O(d,Da,Oa[0],Oa[1])}},L=function(d,w,F,K,P,M,U,V){var aa=d.getFontSize(),ia=Math.min(aa,Math.max(4,.1*(l.getWidth()-d.getMaxWidth())));P=[1,l.getWidth()-1][P];var ja=P+
ia*M;ia=n.getStepMiddleY(w-1,.3);var ua=n.getStepMiddleY(w,.1);U=ja-K*U;aa=ua-.5*aa;I(d,U,aa,K)&&(K=V(w-1,.3)-6*M,V=V(w,.1)-4*M,3>(K-P)*M&&(K=P+3*M),6>(V-P)*M&&(V=P+6*M),r.save(),r.fillStyle=v.getRulerMarkLongLineColor(g),r.beginPath(),r.moveTo(K,ia),r.lineTo(P,ia),r.lineTo(P,ua),r.lineTo(V,ua),r.stroke(),r.beginPath(),r.moveTo(V,ua),r.lineTo(V-5*M,ua-3),r.lineTo(V-5*M,ua+3),r.closePath(),r.fill(),r.restore(),d.isLabelHumble(w)?r.fillText(F,U,aa):v.drawTextWithShadow(g,r,F,U,aa))},q=function(d,w,
F,K){var P=d.getCenterX()-.5*K,M=n.getStepMiddleY(w),U=n.getStepMiddleLeftX(w),V=n.getStepMiddleRightX(w);I(d,P,M,K)&&(d.isLabelHumble(w)?r.fillText(F,P,M):n.getStepHeight()>d.getFontSize()&&V-U-2*d.getFontSize()>K?(U=b.getCategories()[w].getColor(),v.drawTextFitBackground(U,l.getContext(),F,P,M)):v.drawTextWithShadow(g,l.getContext(),F,P,M));d.setLabelLimited(w,P,P+K)},G=function(d,w,F,K){var P=d.getLeftLabelLimitedX(w);c(d,w,F,K,1,function(M,U,V){if(1>=P)return null;P<U+V&&(h.isLabelLeft(h.getLabelNamePosition())&&
(U=P-U,M=v.shortenText(M,V,U,r),V=U),U=P-V);return[M,U,V]},function(M,U){M=M+U+8;U=Math.min(P,n.getStepMiddleLeftX(w)-8);return M+10<U?[M,U]:null})},O=function(d,w,F,K){var P=l.getWidth()-1,M=d.getRightLabelLimitedX(w);c(d,w,F,K,P-K,function(U,V,aa){if(M>=P)return null;if(M>V&&(V=M,h.isLabelRight(h.getLabelNamePosition()))){var ia=P-V;U=v.shortenText(U,aa,ia,r);aa=ia}return[U,V,aa]},function(U,V){U-=8;V=Math.max(M,n.getStepMiddleRightX(w)+8);return V+10<U?[V,U]:null})},c=function(d,w,F,K,P,M,U){if(K=
M(F,P,K))if(F=K[0],P=K[1],K=K[2],M=n.getStepMiddleY(w),I(d,P,M,K)){var V=l.getContext();d.isLabelHumble(w)?V.fillText(F,P,M):v.drawTextWithShadow(g,V,F,P,M);if(d=U(P,K))V.beginPath(),V.moveTo(d[0],M),V.lineTo(d[1],M),V.stroke()}},E=function(d,w,F,K,P){if(F||K||P){var M=b.getCategories()[w],U=b.getSeries()[0].getNodes()[w],V="";F&&(V=M.getLabel());K&&(V+=(V?"  ":"")+(U?U.getText():""));P&&(V+=(V?"  ":"")+n.getPercentage(w));if(V)return d=d.measureText(V).width,[V,d]}return null},m=function(d){return(d=
b.getSeries()[0].getNodes()[d])&&!isNaN(d.getValue())?Math.abs(d.getValue()):0},I=function(d,w,F,K){return h.isDataLabelOverlappable()?!0:d.checkTextCanDraw(w,F,K)}};Ba.ScatterChartRender=function(r,e,h){Fa.call(this,r,e,h);var p=this.protectedMethod;this.protectedDrawChart=function(b,g){b.clearAll();var f=g.getXRulerHelper(),n=g.getYRulerHelper(),t=g.getXScopeAdapter(),y=g.getYScopeAdapter(),u=b.getWidth();var k=b.getHeight();var D=a(g),z=p.getAttr().getYUnitText();D=g.getYRulerHelper().suggestVerticalRulerWidth(b,
D,z);D=Math.max(40,Math.min(.382*u,D));u-=D;z=p.getAttr().getXUnitText()?!0:!1;z=g.getXRulerHelper().suggestHorizontalRulerHeight(z);z=Math.max(24,Math.min(.382*k,z));k=[D,z,u,k-z];D=k[0];u=k[2];k=k[3];z=p.getModel();if(!(3>z.getScopes().length||g.getXScopeAdapter().isWithLog()||g.getYScopeAdapter().isWithLog())){var H=!(g.getXScope().isAppointedMin()||g.getXScope().isAppointedMax()),J=!(g.getYScope().isAppointedMin()||g.getYScope().isAppointedMax());if(H||J){var B=l(g.getXScope()),L=B[0];B=B[1];
var q=B-L,G=0,O=0,c=l(g.getYScope()),E=c[0];c=c[1];for(var m=c-E,I=0,d=0,w=0;w<z.getSeries().length;w++)for(var F=0;F<z.getCategories().length;F++){var K=z.getNode(w,F);if(K){var P=K.getZAxisValue();P=g.getDrawableRadius(P);if(H){var M=K.getXAxisValue(),U=P/u,V=(M-L)/q;M=(B-M)/q;V<U?G=Math.max(G,(U-V)*q):M<U&&(O=Math.max(O,(U-M)*q))}J&&(K=K.getYAxisValue(),P/=k,U=(K-E)/m,K=(c-K)/m,U<P?I=Math.max(I,(P-U)*m):K<P&&(d=Math.max(d,(P-K)*m)))}}(0<G||0<O)&&g.getXScopeAdapter().updateScopeMaxMin(0<O?B+O:null,
0<G?L-G:null);(0<I||0<d)&&g.getYScopeAdapter().updateScopeMaxMin(0<d?c+d:null,0<I?E-I:null)}}f.confirmHorizontalRulerMark(u);n.confirmVerticalRulerMark(k);z=Q.getShrinkForTopAlways(p.getStyleTool(),p.getAttr());H=Q.getShrinkForAxisTop(p.getStyleTool(),p.getAttr());H=A.doubleNumberAxis(b,D,4,u-6,k-4,t,y,z,H);z=H[0];H=H[1];g.setPixelPerValue(z,H);J=T.confirmNumberAxis(z,t);t=J[0];g.setXPixelScope(t,J[1]);J=Q.confirmNumberAxis(H,0,y,p.getStyleTool(),p.getAttr());y=J[0];g.setYPixelScope(y,J[1]);J=a(g);
L=p.getAttr().getYUnitText();n.drawDoubleNumberAxisOfLeft(b,t,D,H,J,L,u);n=p.getAttr().getXFormat();!n&&(n=g.getXScope().getFormatString());t=p.getAttr().getXUnitText();f.drawDoubleNumberAxisOfBottom(b,y,z,n,t,k);p.drawMain(g)};var a=function(b){var g=p.getAttr().getYFormat();!g&&(g=b.getYScope().getFormatString());return g},l=function(b){var g=b.getAppointableMax();b=b.getAppointableMin();return 0<g&&0>b?[b,g]:0<=b?[0,g]:[b,0]}};Ba.SunburstRender=function(r,e,h,p,a){function l(){var H,J,B,L;this.setSize=
function(q,G,O){H=q;J=G;B=O};this.confirmRadiusPerLevel=function(q){L=Math.max(0,(J-B)/q)};this.getWholeRadius=function(){return J};this.getRadiusStart=function(){return B};this.hoverRadiusMore=function(){return Math.min(H,parseInt(.1*L))};this.radiusToLevel=function(q){return parseInt((q-B)/L)};this.levelToRadiusInner=function(q){return B+q*L}}function b(){var H,J;this.transformColorStep=function(B,L){H={};for(var q=0;q<B.getChildCount();q++){var G=B.getChild(q).getColor();if(G){if(Ra.isFunctionHsl(G))var O=
Ra.decodeFunctionHsl(G);else if(Ra.isFunctionHsla(G))O=Ra.decodeFunctionHsla(G);else{var c=Ra.decodeStringToRgbArray(G);c&&(O=Ra.rgbToHsl(c[0],c[1],c[2]))}if(O){c=[G];H[G]=c;for(var E=1;E<L;E++){G=O[1];var m=O[2],I=.2*Math.min(4,E);G+=Math.round((100-G)*I);m+=Math.round((100-m)*I);G="hsl("+O[0]+","+G+"%,"+m+"%)";c[E]=G}}}}};this.searchHslColor=function(B,L){return(B=H?H[B]:null)?B[L]:null};this.getTextHeight=function(){!J&&(J=v.getDataLabelFontSize(n));return J}}la.call(this,r,e,h);var g=this.protectedMethod,
f=new Ja(r),n=new ea(h),t;(function(){p=p?p:0;a=a?a:0;var H=f.getWidth(),J=f.getHeight();H>>=1;J>>=1;x.transform(f,p+H,a+J);H=Math.min(H-Math.abs(p),J-Math.abs(a));H=Math.max(0,H);J=Math.min(10,parseInt(.05*H));H-=J;var B=Math.min(20,.1*H);t=new l;t.setSize(J,H,B)})();this.protectedSearchHoverTarget=function(H,J,B){H=f.retransformMouseXY(H,J);J=H[0];var L=H[1],q=x.logicXyToRadius(J,L);H=!1;if(q<t.getRadiusStart())H=!0,B.push(-1);else if(q<t.getWholeRadius()){J=x.logicXyToAngle(J,L,q);q=t.radiusToLevel(q);
L=e.getRoot();for(var G=0;G<=q;G++)for(var O=0;O<L.getChildCount();O++){var c=L.getChild(O),E=c.getDrawingObject();if(E&&J<=E[1]){H=!0;B[G]=O;L=c;break}}}return H};this.drawChart=function(H){var J=e.getRoot(),B=g.sumary(J,h.isIgnoreNegative());t.confirmRadiusPerLevel(B);var L=new b;1<B&&L.transformColorStep(J,B);J.setDrawingObject([0,2*Math.PI]);y(J,0);B=n.getBackgroundColor();f.clearAll();f.getContext().strokeStyle=B;f.getContext().lineWidth=.5;f.getContext().textBaseline="middle";v.setupFont(f.getContext(),
v.getDataLabelFontSize(n));D(B,0,t.getRadiusStart(),0,2*Math.PI);u(L,J,0,J.getColor());if(H=(H=H?H.getPath():null)&&0<=H[0]?H:null){var q;for(B=0;B<H.length;B++)J=J.getChild(H[B]),!q&&(q=J.getColor());var G=t.hoverRadiusMore();for(B=H.length-1;0<=B;B--)H=J.getDrawingObject(),k(B,H,q,G),z(L,B,J.getLabel(),H,q,G),J=J.getParent()}};var y=function(H,J){var B=H.getDrawingSize();if(B)for(var L=H.getDrawingObject(),q=L[0],G=L[1],O=G-q,c=0;c<H.getChildCount();c++){var E=H.getChild(c);L=E.getDrawingSize()/
B;G=q+O*L;L=[q,G];E.setDrawingObject(L);q=G;0<E.getChildCount()&&y(E,J+1)}},u=function(H,J,B,L){for(var q=0;q<J.getChildCount();q++){var G=J.getChild(q),O=G.getDrawingObject();if(O){var c=G.getColor()||L,E=H.searchHslColor(c,B)||c;k(B,O,E);z(H,B,G.getLabel(),O,E);0<G.getChildCount()&&u(H,G,B+1,c)}}},k=function(H,J,B,L){var q=J[0];J=J[1];var G=t.levelToRadiusInner(H);H=t.levelToRadiusInner(H+1)+(L?L:0);D(B,G,H,q,J)},D=function(H,J,B,L,q){L!=q&&(f.getContext().fillStyle=H||Z,f.beginPath(),f.arc(0,0,
B,L,q),f.arc(0,0,J,q,L,!0),f.closePath(),f.fill(),f.stroke())},z=function(H,J,B,L,q,G){if(h.isShowDataLabel()&&B){var O=L[0];L=L[1];if(!(.05>L-O)){var c=t.levelToRadiusInner(J)+(G?G:0),E=t.levelToRadiusInner(J+1)+(G?G:0);J=t.levelToRadiusInner(J+.5)+(G?G:0);J=x.toLogicXy(.5*(O+L),J);G=f.transformXY(J[0],J[1]);J=G[0];G=G[1];var m=f.getContext().measureText(B).width,I=H.getTextHeight();H=J-=.5*m;m=J+m;var d=G-.5*I;I=G+.5*I;H=[[H,d],[m,d],[H,I],[m,I]];I=!1;for(m=0;m<H.length;m++){d=H[m];var w=f.retransformMouseXY(d[0],
d[1]);d=w[0];w=w[1];var F=x.logicXyToRadius(d,w);if(F<c||F>E){I=!0;break}d=x.logicXyToAngle(d,w,F);if(d<O||d>L){I=!0;break}}I||(q=q||Z,v.drawTextFitBackground(q,f.getContext(),B,J,G))}}}};var Ja,Ha,Ra,Ta,Ua,La,Wa,Qa,W,ba,da;(function(){var r=com.kingdee.bos.qing.common;Ja=r.Graphics;Ha=r.NumberFormater;Ra=r.ColorUtil;r=com.kingdee.bos.qing.framework.common;Ta=r.GlobalFont;r=com.kingdee.bos.qing.chart.model;Ua=r.ScopeConfirmer;La=r.Node;Wa=r.AxisValueScope;Qa=r.AbstractAttr;W=r.PieAttr;ba=r.AbstractXYProgressAttr;
da=r.DialAttr})();var Z="#ccc",X=Ta.getFontSize(),N=48,S="rgba(128,128,128,0.15)",C="#aaa";ea.BACKGROUND="background";ea.LEGEND_COLOR="legendColor";ea.LEGEND_FONTSIZE="legendFontSize";ea.DATALABEL_COLOR="dataLabelColor";ea.DATALABEL_FONTSIZE="dataLabelFontSize";ea.AXIS_FONTSIZE="axisFontSize";ea.AXIS_TEXT_COLOR="axisTextColor";ea.AXIS_LINE_COLOR="axisLineColor";ea.RULER_FONTSIZE="rulerFontSize";ea.RULER_TEXT_COLOR="rulerColor";ea.RULER_MARK_LINE_COLOR="rulerMarkLineColor";ea.RULER_MARK_COLOR="rulerMarkColor";
ea.REFLINE_COLOR="reflineColor";ea.REFLINE_COLOR_HOVER="reflineColorHover";ea.REFLINE_TIPS_COLOR="reflineTipsColor";ea.REFLINE_TIPS_FONTSIZE="reflineTipsFontSize";ea.CHART_KPI="chartKpi";ea.CHART_PIE="chartPie";ea.CHART_RADAR="chartRadar";ea.CHART_GRID="chartGrid";ea.CHART_WATERFALL="chartWaterfall";var v=new function(){var r=this;this.createColorWithAlpha=function(e,h){return Ra.withOpacityToRgba(e,h)};this.createColorWithoutAlpha=function(e){e=Ra.decodeStringToRgbaArray(e);return"rgb("+e[0]+","+
e[1]+","+e[2]+")"};this.getFitLabelColor=function(e){e=Ra.decodeStringToRgbArray(e);var h=Ra.rgbToHsl(e[0],e[1],e[2]);e=h[0];h=h[2];return 30<e&&190>e?40<h?"#333":"#fff":70<h?"#333":"#fff"};this.shortenText=function(e,h,p,a){h=parseInt(e.length*p/h);for(e=e.substring(0,h)+"...";a&&a.measureText(e).width>p&&0<=h;)h--,e=e.substring(0,h)+"...";return e};this.shortenTextBefore=function(e,h,p,a){h=parseInt(e.length*p/h);for(var l="..."+e.substring(e.length-h);a&&a.measureText(l).width>p&&0<=h;)h--,l="..."+
e.substring(e.length-h);return l};this.getTextHeight=function(e){return e.measureText("\u5b8b").width};this.getCustomStyle=function(e,h,p){return e?e.getCustomStyle(h,p):p};this.getDataLabelColor=function(e){return r.getCustomStyle(e,ea.DATALABEL_COLOR,"#666")};this.getDataLabelFontSize=function(e){return parseInt(r.getCustomStyle(e,ea.DATALABEL_FONTSIZE,X))};this.getAxisTextFontSize=function(e){return parseInt(r.getCustomStyle(e,ea.AXIS_FONTSIZE,Ta.getFontSize()))};this.getAxisTextColor=function(e){return r.getCustomStyle(e,
ea.AXIS_TEXT_COLOR,"#999")};this.getAxisLineColor=function(e){return r.getCustomStyle(e,ea.AXIS_LINE_COLOR,"#ccc")};this.getRulerMarkTextFontSize=function(e){return parseInt(r.getCustomStyle(e,ea.RULER_FONTSIZE,Ta.getFontSize()))};this.getRulerMarkTextColor=function(e){return r.getCustomStyle(e,ea.RULER_TEXT_COLOR,"#999")};this.getRulerMarkLongLineColor=function(e){return r.getCustomStyle(e,ea.RULER_MARK_LINE_COLOR,"#e5e5e5")};this.getRulerMarkShortLineColor=function(e){return r.getCustomStyle(e,
ea.RULER_MARK_COLOR,"#ccc")};this.setupFont=function(e,h,p){e.font=h+"px "+(p?p:Ta.getFontName())};this.setupFontWithBold=function(e,h,p){e.font="bold "+h+"px "+(p?p:Ta.getFontName())};this.drawShadowText=function(e,h,p,a,l,b){var g=!0;a=h.transformXY(a,l);b&&(g=b(a));!1!==g&&(b=a[0],g=a[1],r.drawTextWithShadow(e,h.getContext(),p,b,g))};this.drawTextWithShadow=function(e,h,p,a,l){var b=h.fillStyle;h.fillStyle=e?e.getTextShadowColor():"grba(255,255,255,0.5)";h.fillText(p,a-1,l-1);h.fillText(p,a-1,
l+1);h.fillText(p,a+1,l-1);h.fillText(p,a+1,l+1);h.fillStyle=b;h.fillText(p,a,l)};this.drawTextFitBackground=function(e,h,p,a,l){e=v.getFitLabelColor(e);var b=h.fillStyle;h.fillStyle=e;h.fillText(p,a,l);h.fillStyle=b};this.formatPercentage=function(e,h){h=Math.pow(10,h);return Math.round(100*e*h)/h+"%"}},R=new function(){this.getCategoryTotal=function(r,e){for(var h=0,p=(r=r.getSeries())?r.length:0,a=0;a<p;a++){var l=r[a].getNodes()[e];l&&!isNaN(l.getValue())&&(h+=l.getValue())}return h};this.getMaxCategoryPercent=
function(r){for(var e=r.getCategories().length,h=(r=r.getSeries())?r.length:0,p=[0,0],a=0;a<e;a++){for(var l=0,b=0,g=0,f=0;f<h;f++){var n=r[f].getNodes()[a];n&&!isNaN(n.getValue())&&(n=n.getValue(),g+=n,0<n?l+=n:b+=n)}0<g?(p[0]=Math.max(l/g,p[0]),p[1]=Math.min(b/g,p[1])):0>g?(p[0]=Math.max(b/g,p[0]),p[1]=Math.min(l/g,p[1])):p=[1,0]}return p}},x=new function(){var r=this;this.transform=function(e,h,p){e.setTransformMatrix(0,-1,1,0,h,p)};this.logicXyToRadius=function(e,h){return Math.sqrt(e*e+h*h)};
this.logicXyToAngle=function(e,h,p){void 0===p&&(p=r.logicXyToRadius(e,h));e=Math.acos(e/p);0>h&&(e=2*Math.PI-e);return e};this.toLogicXy=function(e,h){return[Math.cos(e)*h,Math.sin(e)*h]}},A=new function(){this.verticalNumberAxis=function(h,p,a,l,b,g,f,n){a=r(a,l,b,g,f,n);l=a[0];h.setTransformMatrix(1,0,0,-1,p,a[1]);return l};var r=function(h,p,a,l,b,g){var f=a.getScopeMax(),n=a.getScopeMin();a=a.getCuttableFoot();0<f&&0>n?(l+=Math.max(b,g),p=p-l-g,g=f-n-2*a,h=h+l+p*(f-a)/g):0<=n?(l+=Math.max(b,
g),p-=l,g=f-a,h=h+l+p):(l+=b,p=p-l-g,g=-n-a,h+=l);return[0==g?1:p/g,h]};this.horizontalNumberAxis=function(h,p,a,l,b,g,f,n){p=e(p,l,b,f,n);l=p[0];h.setTransformMatrix(0,1,1,0,p[1],a+g);return l};var e=function(h,p,a,l,b){var g=a.getScopeMax(),f=a.getScopeMin();a=a.getCuttableFoot();p=p-l-b;0<g&&0>f?(l=g-f-2*a,h=h+b+p*(-f-a)/l):0<=f?l=g-a:(l=-f-a,h=h+b+p);return[0==l?1:p/l,h]};this.doubleNumberAxis=function(h,p,a,l,b,g,f,n,t){a=r(a,b,f,n,t,0);b=a[0];f=a[1];a=e(p,l,g,0,0);p=a[0];h.setTransformMatrix(1,
0,0,-1,a[1],f);return[p,b]}},Q=new function(){var r=60*Math.PI/180;this.confirmNumberAxis=function(t,y,u,k,D){var z=u.getScopeMin(),H=u.getScopeMax();0<=z?(k=Math.max(y,e(k,D)),H=(H-u.getCuttableFoot())*t+k,t=0):(0>=H?H=0:(k=Math.max(y,e(k,D)),H=(H-u.getCuttableFoot())*t+k),t=(z+u.getCuttableFoot())*t-y);return[t,H]};this.getShrinkForTopAlways=function(t,y){return y.isReserveRollOutSpace()?18:0};this.getShrinkForAxisTop=function(t,y){return e(t,y)};var e=function(t,y){var u=parseInt(v.getCustomStyle(t,
ea.RULER_FONTSIZE,Ta.getFontSize()));t=.6*u;y=y.getYUnitText()?1.6*u:0;return parseInt(Math.max(t,y))};this.suggestCategoryAxisHeight=function(t,y,u,k){var D=0;p(t,y,u,k,function(z,H,J,B,L,q){if(z)if(H)D=q;else{z=0;B=parseInt(B/q)*q;for(H=0;H<L.length;H++)z=Math.max(z,parseInt(L[H]/B+1));D=z*q}else b(k,L,65535,q,function(G){return G*u},function(G,O,c,E){D=Math.max(D,G)});D+=q});return D};this.drawCategoryAxis=function(t,y,u,k,D,z,H,J,B){g(u,k,D);30<Math.abs(J-0)&&f(k,D,J);h(u,k,B,D,J);p(u,k,H,t,function(L,
q,G,O,c,E){L?(L=z-E,a(k,t,c,O,L,function(m){return y(m,"left")+G},J-.5*E,q,E)):(L=z,l(k,t,c,L,function(m){return y(m,"center")},J,E))})};var h=function(t,y,u,k,D){if(u){var z=v.getAxisTextFontSize(t),H=y.getContext();H.fillStyle=v.getAxisTextColor(t);H.textBaseline="bottom";v.setupFont(H,z);t=k-H.measureText(u).width-2;y.fillText(u,t,D+2)}},p=function(t,y,u,k,D){var z=v.getAxisTextFontSize(t);y=y.getContext();y.fillStyle=v.getAxisTextColor(t);v.setupFont(y,z);t=Math.max(.25*z,.05*u);u=Math.max(0,
u-2*t);for(var H=u<2*z,J=!0,B=!0,L=[],q=0;q<k.length;q++){var G=k[q].getLabel();G=G?y.measureText(G).width:0;L.push(G);G>u&&(H?J=!1:B=!1)}D(J,B,t,u,L,z)},a=function(t,y,u,k,D,z,H,J,B){var L=new wa;L.setTextBaseline("top");var q=null;J||(q=new pa,q.setHorizontalAlign("center"));for(var G=0;G<y.length;G++){var O=y[G].getLabel();if(O){var c=z(G);J||u[G]<=k?L.drawAlignCenterWithLogicCoord(t,c,H,O,k):q.drawTextLines(t,c,H,O,k,D,B)}}},l=function(t,y,u,k,D,z,H){var J=Math.cos(r)/Math.sin(r),B=new wa;B.setTextBaseline("top");
var L=t.getContext();b(y,u,k,H,D,function(q,G,O,c){G=t.transformXY(G-.4*H-q*J,z-q-2);q=G[0];G=G[1];L.translate(q,G);L.rotate(-r);B.drawAlignRight(L,0,0,O,c);L.rotate(r);L.translate(-q,-G)})},b=function(t,y,u,k,D,z){var H=Math.sin(r),J=parseInt(1.2*k/Math.sin(r));k=parseInt(k*Math.cos(r)+1);for(var B=-65535,L=0;L<t.length;L++){var q=t[L].getLabel();if(q){var G=D(L);if(!(G-B<J)){B=G;var O=y[L],c=O*H;c+k>u&&(c=u-k,O=c/H);z(c,G,q,O)}}}},g=function(t,y,u){y.getContext().strokeStyle=v.getAxisLineColor(t);
y.beginPath();y.moveTo(-5,0);y.lineTo(u,0);y.stroke()},f=function(t,y,u){t.beginPath();t.moveTo(0,u);t.lineTo(y,u);t.stroke()};this.suggestContinueCategoryAxisHeight=function(t){return 2*v.getAxisTextFontSize(t)};this.drawContinueCategoryAxis=function(t,y,u,k,D,z,H,J,B,L){g(k,D,z);var q=0;8<Math.abs(J-0)&&(f(D,z,J),q=J);h(k,D,L,z,J);var G=q+5;H=J-(H>>1);var O=u();n(t,y,k,D,z,q,G,H,B,function(c){null!=O&&D.drawDashedLine(c,G+4,c,O,4)})};this.drawTopContinueCategoryAxis=function(t,y,u,k,D){var z=v.getTextHeight(k.getContext());
n(t,y,u,k,D,0,8,12+.5*z,0)};var n=function(t,y,u,k,D,z,H,J,B,L){var q=v.getAxisLineColor(u),G=v.getRulerMarkLongLineColor(u),O=k.getContext();O.fillStyle=v.getAxisTextColor(u);v.setupFont(O,v.getAxisTextFontSize(u));O.textBaseline="middle";u=-32768;for(var c=0;c<t.length;c++){var E=t[c].getLabel();if(E){var m=y(c);if(!(m<u)){var I=O.measureText(E).width,d=m-I/2;d<B&&(d=B);d<u||(d+I>D&&(d=D-I),d<u&&(d=u,E=v.shortenText(E,I,D-u)),k.fillText(E,d,J),u=d+I+14,O.strokeStyle=q,k.beginPath(),k.moveTo(m,z),
k.lineTo(m,H),k.stroke(),L&&(O.strokeStyle=G,L(m)))}}}}},T=new function(){this.confirmNumberAxis=function(h,p){var a=p.getScopeMin(),l=p.getScopeMax();0<=a?(l=(l-p.getCuttableFoot())*h,h=0):(l=0>=l?0:(l-p.getCuttableFoot())*h,h*=a+p.getCuttableFoot());return[h,l]};var r=function(h,p){var a=Math.max(.25*p,.05*h);h=Math.max(0,h-2*a);p=Math.max(1,parseInt(h/p));return[a,h,p]};this.suggestCategoryAxisWidth=function(h,p,a,l,b){h=v.getAxisTextFontSize(h);var g=0;e(p.getContext(),h,l,function(n){return n*
a},function(n,t,y){g=Math.max(g,y)});p=g+h;if(p>b){l=r(a,h)[2];for(var f=1;f<=l&&!(p=g/f+h,p<=b);f++);}return p};this.drawLeftCategoryAxis=function(h,p,a,l,b,g,f,n){var t=l.getContext();t.strokeStyle=v.getAxisLineColor(a);t.fillStyle=v.getAxisTextColor(a);l.beginPath();l.moveTo(0,0);l.lineTo(g+5,0);l.stroke();40<Math.abs(n-0)&&(l.beginPath(),l.moveTo(0,n),l.lineTo(g,n),l.stroke());var y=v.getAxisTextFontSize(a);a=r(f,y);var u=a[1],k=1<a[2],D=b-6,z=n-b,H=new wa,J=null;k&&(J=new pa,J.setHorizontalAlign("right"),
J.setVerticalAlign("middle"));e(t,y,h,p,function(B,L,q){k&&q>D?(L-=.5*u,J.drawTextLines(l,L,z,B,D,u,y)):H.drawAlignRightWithLogicCoord(l,L,z,B,D)})};var e=function(h,p,a,l,b){v.setupFont(h,p);p=parseInt(1.2*p);for(var g=-32768,f=0;f<a.length;f++){var n=a[f].getLabel();if(n){var t=l(f);if(!(t-g<p)){g=t;var y=h.measureText(n).width;b(n,t,y)}}}}},Y=new function(){function r(l,b,g){this.getTipsTitle=function(){return b};this.getTipsText=function(){return g};this.isNearEnough=function(f){return f<l+4&&
f>l-4}}this.drawHorizontalLines=function(l,b,g,f,n,t,y,u,k,D){return l?e(l,b,g,f,n,u,function(z,H){z.moveTo(t,H);z.lineTo(y,H)},function(z,H,J,B,L){v.drawShadowText(f,z,H,D?y-J-1:t+2,(L>k-1.5*B?L-1.25*B-1:L+1)+1)}):null};this.drawVerticalLinesAtTransY=function(l,b,g,f,n,t,y,u,k){return l?e(l,b,g,f,n,u,function(D,z){D.moveTo(t,z);D.lineTo(y,z)},function(D,z,H,J,B){v.drawShadowText(f,D,z,y,B>k-H&&0<B-H?B-H-1:B+1)}):null};this.drawVerticalLines=function(l,b,g,f,n,t,y,u,k,D){return l?e(l,b,g,f,n,u,function(z,
H){z.moveTo(H,t);z.lineTo(H,y)},function(z,H,J,B,L){z.getContext().textBaseline="bottom";v.drawShadowText(f,z,H,L>D-J&&L-J>k?L-J-1:L+1,t)}):null};var e=function(l,b,g,f,n,t,y,u){var k=[],D=n.getContext();D.strokeStyle=v.getCustomStyle(f,ea.REFLINE_COLOR,"rgba(80,80,80,0.5)");for(var z,H=0;H<l.length;H++){var J=l[H];if(J){var B=J.getLineValue();B=g.scale(B);if(!(B<g.getScopeMin()||g.getScopeMax()<B)){B=g.cutFoot(B);B=parseInt(B*t);var L=J.getLabel(),q=J.getTipsTitle();J=J.getTipsText();J=new r(B,q,
J);k.push(J);H==b?z=[B,L]:h(n,f,B,y,L,u)}}}z&&setTimeout(function(){var G=z[0],O=z[1];D.strokeStyle=v.getCustomStyle(f,ea.REFLINE_COLOR_HOVER,"rgba(80,80,80,1)");h(n,f,G,y,O,u,!0)},0);return k},h=function(l,b,g,f,n,t,y){l.beginPath();f(l,g);l.stroke();n&&(f=l.getContext(),p(f,b,y),b=f.measureText(n).width,y=f.measureText("\u5b57").width,t(l,n,b,y,g))},p=function(l,b,g){l.fillStyle=g?v.getCustomStyle(b,ea.REFLINE_COLOR_HOVER,"rgba(80,80,80,1)"):v.getCustomStyle(b,ea.REFLINE_TIPS_COLOR,"rgba(80,80,80,0.5)");
l.textBaseline="bottom";v.setupFont(l,v.getCustomStyle(b,ea.REFLINE_TIPS_FONTSIZE,12))},a=function(l,b,g,f,n,t,y){var u=g.getContext();u.strokeStyle=v.getCustomStyle(b,ea.REFLINE_COLOR,"rgba(80,80,80,0.5)");for(var k=0;k<l.length;k++){var D=l[k],z=D.getCategoryIndex();z=t(z);g.drawDashedLine(z,n+6,z,f-12,6);if(D=D.getLabel()){p(u,b);var H=u.measureText(D).width,J=1.2*u.measureText("\u5b57").width;y(g,D,H,J,z)}}};this.drawHGuidelines=function(l,b,g,f,n,t){l&&a(l,b,g,f,n,t,function(y,u,k,D,z){v.drawShadowText(b,
y,u,z<D?z+D+1:z-1,n-k-1)})};this.drawVGuidelines=function(l,b,g,f,n,t){l&&a(l,b,g,f,n,t,function(y,u,k,D,z){var H=t(65535);v.drawShadowText(b,y,u,z>H-k&&0<z-k?z-k-1:z+1,n-D-1)})}};Na.RING_CENTER_COLOR="ringCenterColor";ra.MODE_ONE_COLUMN_MERGED=1;ra.MODE_STACKED=2|ra.MODE_ONE_COLUMN_MERGED;ra.MODE_PERCENT_STACKED=4|ra.MODE_STACKED;ra.MODE_OVERLAP=8|ra.MODE_ONE_COLUMN_MERGED;ka.MODE_STACKED=ra.MODE_STACKED;ka.MODE_PERCENT_STACKED=ra.MODE_PERCENT_STACKED;ma.MODE_STACKED=ra.MODE_STACKED;ma.MODE_PERCENT_STACKED=
ra.MODE_PERCENT_STACKED;sa.AXIS_LEFT=0;sa.AXIS_RIGHT=1;ha.C_COLOR="kpiCaptionColor";ha.P_VALUE_COLOR="kpiPrimaryValueColor";ha.P_TEXT_COLOR="kpiPrimaryTextColor";ha.S_VALUE_COLOR="kpiSecondaryValueColor";ha.S_TEXT_COLOR="kpiSecondaryTextColor";za.WEB_INTERVAL_BACKGROUND="radarWebIntervalBackground";za.WEB_LINE="radarWebLine";Pa.TITLE_BACKGROUND="gridTitleBackground";Pa.TITLE_COLOR="gridTitleColor";Pa.COLOR="gridColor";Pa.FONTSIZE="gridFontSize";fa.POSITVE_COLOR="waterfallPositiveColor";fa.NEGATIVE_COLOR=
"waterfallNegativeColor";fa.STAGE_COLOR="waterfallStageColor";xa.SECTION_WITH_CEILING_REJECT=0;xa.SECTION_WITH_CEILING_AUTO=1;xa.SECTION_WITH_CEILING_ALWAYS=2})();(function(){function ea(){var N=this,S,C,v,R,x=!1;this.setModel=function(A){S=A};this.getModel=function(){return S};this.getAttr=function(){C||(C=N.protectedCreateAttr());return C};this.protectedCreateAttr=function(){throw Error("Implement");};this.isErasingWhenRedraw=function(){return!0};this.draw=function(A,Q,T){throw Error("Implement");};this.setClickListener=function(A){v=A};this.setTooltipsListener=function(A){R=A};this.setMouseStateLocked=function(A){x=A;N.protectedMouseStateLockedChanged(A)};
this.protectedMouseStateLockedChanged=function(A){};this.isSelectionSupported=function(){return!1};this.getCosmeticId=function(){return null};this.protectedMethod={createCanvas:function(A,Q,T){var Y=document.createElement("canvas");Y.style.position="absolute";Y.style.left="0px";Y.style.top="0px";Y.style.width=Q+"px";Y.style.height=T+"px";Y.width=Q;Y.height=T;A.appendChild(Y);return Y},isClickInterested:function(){return v?!0:!1},fireClickEvent:function(A,Q,T){v&&v(A,Q,T)},fireTooltipsEvent:function(A,
Q,T){R&&(void 0===A?R():R(A,Q,T))},fireSelfDrivingTooltipsEvent:function(A,Q,T){R&&(void 0===A?R(null,null,null,!0):R(A,Q,T,!0))},isMouseStateLocked:function(){return x}}}function oa(){var N=this,S,C,v;this.isSelectionSupported=function(){return!0};this.setSelectable=function(R){R=R?!0:!1;var x=void 0===S;if(x||S!=R)S=R,N.protectedUpdateSelectableState(),C&&!x&&(C.clearAll(),R=[],v&&v(N,R,!1))};this.isSelectable=function(){return S?!0:!1};this.protectedUpdateSelectableState=function(){};this.getSelectionModel=
function(){C||(C=N.protectedCreateSelectionModel(),C.addChangedListener(function(R,x){N.protectedSelectionChangedHandler(x);R=x.getJsonSelectedValue();v&&v(N,R,!0)}));return C};this.protectedCreateSelectionModel=function(){var R=new wa;R.setMode(wa.Mode_Category);R.setMultiSelectable(!1);return R};this.protectedSelectionChangedHandler=function(R){throw Error("Implement");};this.setSelectionListener=function(R){v=R}}function ya(){var N=this,S,C=!1,v=function(){S&&clearInterval(S)};this.protectedMethod.initSelfDriving=
function(R,x,A){S=setInterval(function(){C||N.isSelectionSupported()&&N.isSelectable()&&N.getSelectionModel().isAnySelected()||!R.is(":visible")||"hidden"==R.css("visibility")?document.body.contains(R[0])||v():A()},x)};this.protectedMethod.destroySelfDriving=v;this.protectedMethod.isMotionless=function(){return C};this.protectedMethod.setMotionless=function(R){C=R}}function qa(){ea.call(this);var N=this,S=function(C,v){return{key:C,value:v}};this.protectedMethod.createHoverInfo=function(C){var v=
null;if(C){v=[];for(var R=N.getModel(),x=R.getRoot(),A=0;A<C.length;A++)x=x.getChild(C[A]),A<R.getLabelCaptionCount()&&v.push(S(R.getLabelCaption(A),x.getLabel()));C=[];var Q=[];A=x.getSize();var T=R.getSizeFormat();if(T){var Y=new Na;Y.setFormatString(T);A=Y.format(A)}Q.push(S(R.getSizeCaption(),A));for(A=0;A<R.getDetailCaptionCount();A++)T=R.getDetailCaption(A),Y=A<x.getDetailTextCount()?x.getDetailText(A):"",(R.isDetailCaptionProperty(A)?C:Q).push(S(T,Y));v=v.concat(C).concat(Q)}return v}}function Ca(){ea.call(this);
ya.call(this);oa.call(this);var N=this.protectedMethod,S=this,C,v,R=0,x=!1,A=-1,Q;this.protectedCreateSelectionModel=function(){var T=new Ga;T.setMultiSelectable(!1);return T};this.protectedSelectionChangedHandler=function(T){};this.draw=function(T,Y,r){N.destroySelfDriving();var e=S.getModel();e&&(R=Y,Y=N.createCanvas(T,Y,r),S.protectedInitMouseListener(Y),v=$(Y),T=S.getAttr(),T.setStickRows(Math.max(0,Math.min(e.getRowCount(),T.getStickRows()))),Y=Y.getContext("2d"),C=S.protectedCreateRender(Y,
e,T),(x=C.drawChart())&&T.isAutoScroll()&&N.initSelfDriving(v,80,function(){C.drawScrollableArea(-1,!0)}))};this.protectedCreateRender=function(T,Y,r){throw Error("Implement");};this.protectedInitMouseListener=function(T){throw Error("Implement");};N.getWidth=function(){return R};N.stopScroll=function(){N.setMotionless(!0)};N.resumeScroll=function(){N.setMotionless(!1)};N.switchScroll=function(){N.setMotionless(!N.isMotionless());return!N.isMotionless()};N.requestScroll=function(T){if(x&&0!=T){var Y=
C.drawScrollableArea(T,!1);Y||(T=0<T?16:-16,v.stop().animate({top:T},125,function(){v.animate({top:0},250)}));return Y}return!1};N.hover=function(T,Y){T=C.apiXYToRowIndex(T,Y);if(T!=A){C.redrawWhenHover(T);Q=null;Y={};var r=S.getModel();if(0<=T&&T<r.getRowCount()){for(var e=[],h=r.getRow(T),p=0;p<r.getColumnCount();p++){var a=r.getColumn(p);if(!(a.isStaticText()||a.getStyle()&&a.getStyle().isHide())){var l=h.getCell(p),b=$.trim(a.getTitle());a={};a.key=b;a.value=l.getContent();l=JSON.stringify(a);
Y[l]||(Y[l]=!0,e.push(a))}}Q=e}A=T}return Q};N.click=function(T,Y){return C.apiXYToRowIndex(T,Y)};N.getLastHoverRowIdx=function(){return A};N.isScrollable=function(){return x}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.chart&&(com.kingdee.bos.qing.chart={});var Ma=com.kingdee.bos.qing.chart;Ma.AbstractKPICardChart=
function(){ea.call(this);var N=this,S=this.protectedMethod,C,v;this.setClickableChecker=function(R){v=R};this.protectedCreateAttr=function(){return new ra};this.getCosmeticId=function(){return xa.CHART_KPI};this.draw=function(R,x,A){C&&C.destroy();R=S.createCanvas(R,x,A);x=R.getContext("2d");C=new Ba(x,N.getModel(),N.getAttr());N.getAttr().isAnimation()?C.drawChartWithAnimation():C.drawChart();N.protectedInitMouseLayerListener(R)};this.protectedInitMouseLayerListener=function(R){throw Error("Implement");
};this.protectedMethod.isClickable=function(){return v?v():!1}};Ma.AbstractPieChart=function(){ea.call(this);oa.call(this);var N=this,S=this.protectedMethod,C,v=0,R=-1,x;this.protectedCreateAttr=function(){return new Ea};this.getCosmeticId=function(){return xa.CHART_PIE};this.draw=function(A,Q,T,Y,r){A=S.createCanvas(A,Q,T);Q=A.getContext("2d");C=new Ja(Q,N.getModel(),N.getAttr(),v,Y,r);C.setSelectionModel(N.getSelectionModel());C.drawChart(R);N.protectedInitMouseListener(A)};this.protectedInitMouseListener=
function(A){throw Error("Implement");};this.protectedSelectionChangedHandler=function(A){C.drawChart(R)};S.setRadius=function(A){v=A};S.click=function(A,Q){return C.apiXYToCategoryIndex(A,Q)};S.hover=function(A,Q){Q=C.apiXYToCategoryIndex(A,Q);if(Q!=R){C.drawChart(Q);R=Q;var T=N.getModel().getSeries()[0];A=T.getName();T=T.getNodes();if(0>Q){if(x=null,-1>Q&&(Q=C.getDrawingModel().getDisplayableTotal()))x=[],x.push({key:A,value:Q})}else{x=[];var Y=N.getModel().getCategoryTitle(),r=N.getModel().getCategories()[Q].getDisplayLabel();
Y&&x.push({key:Y,value:r});T=T[Q];x.push({key:A,value:T?T.getText():""});A=C.getDrawingModel().getDisplayablePercentage(Q);x.push({key:X.get("ratio","\u5360\u6bd4"),value:A?A:"---"})}}return x}};Ma.AbstractHeatMapSingleCell=function(){ea.call(this);var N=this.protectedMethod,S=this,C,v,R,x=!1;this.setColor=function(A){C=A};this.setDiameter=function(A){v=A};this.drawShape=function(A,Q,T){A=N.createCanvas(A,Q,T);Q=A.getContext("2d");R=(new Ha(Q,C?C:"#2068c9",v)).drawShape;R(x);S.protectedInitMouseListener(A)};
this.drawColorRect=function(A,Q,T){A=N.createCanvas(A,Q,T);Q=A.getContext("2d");R=(new Ha(Q,C?C:"#2068c9")).drawColorRect;R(x);S.protectedInitMouseListener(A)};this.protectedInitMouseListener=function(A){throw Error("Implement");};N.hover=function(A,Q){A=0<=A&&0<=Q;A!=x&&(x=A,R(x))}};Ma.AbstractSingleBar=function(){ea.call(this);var N=this.protectedMethod,S=this,C=!1,v,R=!1,x;this.setStackMode=function(A){C=A};this.isStackMode=function(){return C};this.draw=function(A,Q,T){A=N.createCanvas(A,Q,T);
Q=A.getContext("2d");v=S.protectedCreateRender(Q);v.drawChart(R);S.protectedInitMouseListener(A)};this.protectedCreateRender=function(A){throw Error("Implement");};this.protectedInitMouseListener=function(A){throw Error("Implement");};N.hover=function(A,Q){A=0<=A&&0<=Q;if(A!=R&&(R=A,v.drawChart(R),!x)){A=S.getModel().getCategories();var T=S.getModel().getSeries()[0];Q=T.getNodes();T=T.getName();var Y=null,r=!1;if(Q){Y=[];r=!0;for(var e=0;e<A.length;e++){var h=A[e],p=Q[e];p=p?p.getText():"";T?S.getModel().getCategoryTitle()?
Y.push({key:h.getLabel(),value:p,color:h.getColor()}):Y.push({key:T,value:p}):Y.push({key:h.getLabel(),value:p,color:h.getColor()})}}x=[Y,r]}return x}};Ma.AbstractColumnChart=function(){ea.call(this);oa.call(this);var N=this,S=this.protectedMethod,C,v,R;this.draw=function(x,A,Q){v=null;A=N.protectedDrawLegend(x,A,Q);x=S.createCanvas(x,A[0],A[1]);A=x.getContext("2d");C=N.protectedCreateRender(A);C.setSelectionModel(N.getSelectionModel());C.drawChart(v);N.protectedInitMouseListener(x)};this.protectedCreateRender=
function(x){throw Error("Implement");};this.protectedDrawLegend=function(x,A,Q){throw Error("Implement");};this.protectedInitMouseListener=function(x){throw Error("Implement");};this.protectedSelectionChangedHandler=function(x){C.drawChart(v)};this.protectedCreateTips=function(x,A,Q){var T=N.getModel().getCategoryTitle(),Y=N.getModel().getSeriesFieldTitle(),r=N.getModel().getCategories()[A],e=N.getModel().getSeries(),h=[];T&&h.push({key:T,value:r.getDisplayLabel()});0>Q&&1==e.length&&(Q=0);if(0<=
Q)T=e[Q],e=(r=T.getNodes()[A])?r.getText():"",Y&&(r=T.getSeriesFieldText(),h.push({key:Y,value:r})),h.push({key:T.getName(),value:e}),x.isWithRatio()&&h.push({key:X.get("ratio","\u5360\u6bd4"),value:x.getPercentage(A,Q)});else{var p=Math.max(7,parseInt((x.getPixelMaxY()-x.getPixelMinY())/20)),a=0,l=!1;for(Q=0;Q<e.length;Q++)if(T=e[Q],r=T.getNodes()[A]){a++;if(a>p){l=!0;break}var b={};b.key=Y?T.getSeriesFieldText():T.getName();b.value=r.getText();x.isWithRatio()&&(b.ratio=x.getPercentage(A,Q));b.color=
T.getColor();h.push(b)}l&&h.push({key:"...",value:"",color:"rgba(0,0,0,0)"})}return h};S.hover=function(x,A){x=C.searchHoverTarget(x,A);if(!x.isEquals(v)){C.drawChart(x);var Q=null;A=!1;var T=x.getReflineIndex(),Y=x.getCategoryIndex();0<=T?(Q=C.getDrawingModel().getRefline(T),Q=[{key:Q.getTipsTitle(),value:Q.getTipsText()}]):0<=Y&&(Q=N.protectedCreateTips(C.getDrawingModel(),Y,-1),A=!0);v=x;R=[Q,A]}return R};S.click=function(x,A){return C.searchHoverTarget(x,A).getCategoryIndex()}};Ma.AbstractCompositeChart=
function(){ea.call(this);oa.call(this);var N=this.protectedMethod,S=this,C,v,R;this.protectedCreateAttr=function(){return new sa};this.protectedSelectionChangedHandler=function(x){C.drawChart(v)};this.protectedInitMouseListener=function(x){throw Error("Implement");};N.drawImpl=function(x,A,Q){x=N.createCanvas(x,A,Q);A=x.getContext("2d");C=new Ra(A,S.getModel(),S.getAttr());C.setSelectionModel(S.getSelectionModel());C.drawChart(v);S.protectedInitMouseListener(x)};N.hover=function(x,A){x=C.searchHoverTarget(x,
A);if(!x.isEquals(v)){C.drawChart(x);var Q=null,T=!1,Y=x.getReflineIndex();A=x.getCategoryIndex();if(0<=Y)A=C.getDrawingRefline(x),Q=[{key:A.getTipsTitle(),value:A.getTipsText()}];else if(0<=A){T=[];Y=S.getModel().getCategoryTitle();Q=S.getModel().getSeries();if(Y){var r=S.getModel().getCategories()[A];T.push({key:Y,value:r.getDisplayLabel()})}Y=Math.max(7,parseInt((C.getDrawingModel().getPixelMaxY()-C.getDrawingModel().getPixelMinY())/20));r=0;for(var e=!1,h=0;h<Q.length;h++){var p=Q[h],a=p.getNodes()[A];
if(a){r++;if(r>Y){e=!0;break}var l={},b=p.getSeriesFieldText();l.key=b||""===b?b:p.getName();l.value=a.getText();l.color=p.getColor();1==p.getAxisIndex()&&(l.lineIconStyle=!0);T.push(l)}}e&&T.push({key:"...",value:"",color:"rgba(0,0,0,0)"});Q=T;T=!0}v=x;R=[Q,T]}return R};N.click=function(x,A){return C.searchHoverTarget(x,A).getCategoryIndex()}};Ma.AbstractLineChart=function(){ea.call(this);var N=this.protectedMethod,S=this,C,v,R;this.protectedCreateAttr=function(){return new ka};this.draw=function(x,
A,Q){x=N.createCanvas(x,A,Q);A=x.getContext("2d");C=S.protectedCreateRender(A);C.drawChart(v);S.protectedInitMouseListener(x)};this.protectedCreateRender=function(x){throw Error("Implement");};this.protectedInitMouseListener=function(x){throw Error("Implement");};N.hover=function(x,A){x=C.searchHoverTarget(x,A);if(!x.isEquals(v)){C.drawChart(x);var Q=null,T=!1,Y=x.getReflineIndex();A=x.getCategoryIndex();if(0<=Y)A=C.getDrawingModel().getRefline(Y),Q=[{key:A.getTipsTitle(),value:A.getTipsText()}];
else if(0<=A){T=[];var r=S.getModel().getCategoryTitle();Q=S.getModel().getSeriesFieldTitle();Y=S.getModel().getSeries();var e=1<Y.length;if(r){var h=S.getModel().getCategories()[A];T.push({key:r,value:h.getDisplayLabel()})}r=(h=(r=e&&S.getAttr().isTooltipsSorted())?C.getDrawingModel().getSeriesOrder(A):null)?!0:!1;for(var p=Math.max(7,parseInt((C.getDrawingModel().getPixelMaxY()-C.getDrawingModel().getPixelMinY())/20)),a=0,l=!1,b=0;b<(r?h.length:Y.length);b++){var g=r?h[b]:b,f=Y[g];if(g=C.getDrawingModel().getNodeModel(g,
A)){a++;if(a>p){l=!0;break}var n={};n.key=Q?f.getSeriesFieldText():f.getName();n.value=g.getText();e&&(n.color=f.getColor());T.push(n)}}l&&T.push({key:"...",value:"",color:"rgba(0,0,0,0)"});Q=T;T=!0}v=x;R=[Q,T]}return R};N.click=function(x,A){return C.searchHoverTarget(x,A).getCategoryIndex()}};Ma.AbstractAreaChart=function(){ea.call(this);var N=this.protectedMethod,S=this,C,v,R;this.protectedCreateAttr=function(){return new va};this.draw=function(x,A,Q){x=N.createCanvas(x,A,Q);A=x.getContext("2d");
C=S.protectedCreateRender(A);C.drawChart(v);S.protectedInitMouseListener(x)};this.protectedCreateRender=function(x){throw Error("Implement");};this.protectedInitMouseListener=function(x){throw Error("Implement");};N.hover=function(x,A){x=C.searchHoverTarget(x,A);if(!x.isEquals(v)){C.drawChart(x);var Q=null,T=!1,Y=x.getReflineIndex();A=x.getCategoryIndex();if(0<=Y)A=C.getDrawingModel().getRefline(Y),Q=[{key:A.getTipsTitle(),value:A.getTipsText()}];else if(0<=A){T=[];var r=S.getModel().getCategoryTitle();
Q=S.getModel().getSeriesFieldTitle();Y=S.getModel().getSeries();var e=1<Y.length;if(r){var h=S.getModel().getCategories()[A];T.push({key:r,value:h.getDisplayLabel()})}r=C.getDrawingModel();h=Math.max(7,parseInt((r.getPixelMaxY()-r.getPixelMinY())/20));for(var p=0,a=!1,l=0;l<Y.length;l++){var b=Y[l],g=r.getNodeModel(l,A);if(g){p++;if(p>h){a=!0;break}var f={};f.key=Q?b.getSeriesFieldText():b.getName();f.value=g.getText();e&&(f.color=b.getColor());r.isWithRatio()&&(f.ratio=r.getPercentage(A,l));T.push(f)}}a&&
T.push({key:"...",value:"",color:"rgba(0,0,0,0)"});Q=T;T=!0}v=x;R=[Q,T]}return R};N.click=function(x,A){return C.searchHoverTarget(x,A).getCategoryIndex()}};Ma.AbstractScatterChart=function(){ea.call(this);var N=this,S=this.protectedMethod,C,v,R;this.protectedCreateAttr=function(){return new ma};this.draw=function(x,A,Q){x=S.createCanvas(x,A,Q);A=x.getContext("2d");C=N.protectedCreateRender(A);C.drawChart(v);N.protectedInitMouseListener(x)};this.protectedCreateRender=function(x){throw Error("Implement");
};this.protectedInitMouseListener=function(x){throw Error("Implement");};S.hover=function(x,A){x=C.searchHoverTarget(x,A);if(!x.isEquals(v)){C.drawChart(x);var Q=null,T=!1,Y=x.getXAxisReflineIndex(),r=x.getYAxisReflineIndex();A=x.getCategoryIndex();var e=x.getSeriesIndex();if(0<=r)A=C.getDrawingModel().getYAxisRefline(r),Q=[{key:A.getTipsTitle(),value:A.getTipsText()}];else if(0<=Y)A=C.getDrawingModel().getXAxisRefline(Y),Q=[{key:A.getTipsTitle(),value:A.getTipsText()}];else if(0<=A&&0<=e){r=N.getModel().getCategoryTitle();
var h=N.getModel().getSeriesFieldTitle(),p=N.getModel().getCategories()[A],a=N.getModel().getSeries()[e];A=a.getNodes()[A];T=N.getModel().getScopes();e=T[0];Y=T[1];T=2<T.length?T[2]:null;Q=[];h&&Q.push({key:h,value:a.getSeriesFieldText()});r&&Q.push({key:r,value:p.getLabel()});r=new Na;Y.getTitle()&&(h=A.getYAxisValue(),r.setFormatString(Y.getFormatString()),h=r.format(h),Q.push({key:Y.getTitle(),value:h}));e.getTitle()&&(Y=A.getXAxisValue(),r.setFormatString(e.getFormatString()),h=r.format(Y),Q.push({key:e.getTitle(),
value:h}));if(T&&T.getTitle()){A=A.getZAxisValue();h="";if(A||0===A)r.setFormatString(T.getFormatString()),h=r.format(A);Q.push({key:T.getTitle(),value:h})}T=!0}v=x;R=[Q,T]}return R};S.click=function(x,A){x=C.searchHoverTarget(x,A);return[x.getCategoryIndex(),x.getSeriesIndex()]}};Ma.AbstractMapChart=function(){ea.call(this);oa.call(this);ya.call(this);var N=this.protectedMethod,S=this,C,v,R=!1,x;this.protectedCreateAttr=function(){return new Aa};this.draw=function(p,a,l){var b=S.getAttr(),g=b.getTemplateContent();
g=T(g);p=$(p);e(p,a,l,b);p.html(g);C=p.find("svg");x=null;Y();A(function(f,n,t,y,u,k){for(var D=S.getModel().getCategoryTitle(),z=t.getLabel(),H=[],J=!1,B=!1,L=0;L<k.length;L++){var q=k[L],G=q.getNodes()[n];q=q.getName();G=G.getText();H.push({key:q,value:G});D==q&&z==G&&(J=!0);y==q&&u==G&&(B=!0)}!B&&y&&H.splice(0,0,{key:y,value:u});!J&&H.splice(0,0,{key:D,value:z});f.data("qing-map-tips",H);if(n=t.getColor())f.data("qing-map-color",[n,1]),R=!0});Q();S.protectedInitMouseListener(C)};this.protectedInitMouseListener=
function(p){throw Error("Override me");};this.protectedCreateSelectionModel=function(){var p=new pa;p.setMultiSelectable(!1);return p};this.protectedSelectionChangedHandler=function(p){Q()};var A=function(p){var a=S.getAttr().getRegionMapping();if(a=a?a.getDimensionToRegion():null){var l=S.getModel(),b=l.getCategories();l=l.getSeries();for(var g=l[0],f=0;f<b.length;f++){var n=b[f],t=g.getNodes()[f],y=n.getLabel();if((y=a[y])&&t)for(var u=l.slice(1),k=0;k<y.length;k++){var D=y[k];D=C.children("g").eq(0).children("path[name='"+
D+"']");p(D,f,n,g.getName(),t.getText(),u)}}}},Q=function(){var p=S.getSelectionModel(),a=p.isAnySelected();A(function(l,b,g,f,n,t){R?a&&!p.isSelected(g.getLabel())?l.css({fill:"#cde","fill-opacity":1}):(b=l.data("qing-map-color"))&&l.css({fill:b[0],"fill-opacity":b[1]}):p.isSelected(g.getLabel())?(b=v.fill,g=v["fill-opacity"],f={},b||g?(f["fill-opacity"]=g?parseFloat(g):1,b&&(f.fill=b)):(f.fill="#ffffff",f["fill-opacity"]=.5),l.css(f)):l.css({fill:"","fill-opacity":""})})},T=function(p){var a=p?
p.indexOf("</svg>"):-1;if(0<a){var l=p.substring(0,a);p=p.substring(a);p=l+"<g name='currentPath'><path></path></g>"+p}return p},Y=function(){var p={},a=C.find("style").text(),l=a.indexOf(":hover");r(a,"fill",l,p);r(a,"fill-opacity",l,p);r(a,"stroke",l,p);r(a,"stroke-opacity",l,p);r(a,"stroke-width",l,p);v=p},r=function(p,a,l,b){l=p.indexOf(a+":",l);if(0<l){l+=a.length+1;var g=p.indexOf(";",l);0<g&&(p=p.substring(l,g),b[a]=p)}},e=function(p,a,l,b){p=p.parent();var g=b.getBackImageUrl();if(g){var f=
b.getPageWidth();b=b.getPageHeight();var n=f/b;f=b=0;var t=a,y=l;n>a/l?(y=parseInt(a/n+.5),f=parseInt(.5*(l-y)+.5)):(t=parseInt(l*n+.5),b=parseInt(.5*(a-t)+.5));a=$("<div>");a.addClass("my-backimg");a.css("z-index",1);a.css("position","absolute");a.css("left",b);a.css("top",f);a.css("width",t);a.css("height",y);a.css("background-size","100% 100%");a.css("background-image","url("+g+")");a.appendTo(p)}else p.find(".my-backimg").remove()},h=function(p){return p.data("qing-map-tips")};N.getRegionTips=
h;N.searchDimensionMemberOnRegion=function(p){var a=S.getAttr().getRegionMapping();if(a=a?a.getDimensionToRegion():null){p=p.attr("name");for(var l in a)for(var b=a[l],g=0;g<b.length;g++)if(p==b[g])return l}return null};N.isFloatingWhenHover=function(){return v.stroke?!0:!1};N.initTooltipsSelfDriving=function(){var p=S.getAttr();if(p.isTooltipsSelfDriving()){var a=C.children("g").eq(0).children("path"),l=a.length,b=0,g;if(0!=l){var f=function(t){if(t>=l)return N.destroySelfDriving(),null;var y=a.eq(b),
u=h(y);b++;b>=l&&(b=0);if(u){var k=y[0].getBoundingClientRect();t=parseInt(k.left+.75*k.width);k=parseInt(k.top+.75*k.height);return[t,k,u,y]}return f(++t)},n=function(){var t=f(0);if(t){var y=t[0],u=t[1],k=t[2];g=t[3];N.fireSelfDrivingTooltipsEvent(y,u,k);x||(t=C.children("g[name='currentPath']").children("path"),R?(y={fill:"","fill-opacity":0},v.stroke?(y.stroke=v.stroke,y["stroke-opacity"]=v["stroke-opacity"]):(y.stroke="#808080",y["stroke-opacity"]=1),y["stroke-width"]=2):y=v,t.css(y),x=t);x.attr("d",
g.attr("d"))}};p=1E3*p.getTooltipsSelfDrivingDuration();N.destroySelfDriving();N.initSelfDriving(C,p,n);n()}}};N.stopSelfDriving=function(){N.setMotionless(!0);x&&(x.attr("d",""),x.css("display","none"));N.fireSelfDrivingTooltipsEvent()};N.resumeSelfDriving=function(){N.setMotionless(!1);x&&x.css("display","")}};Ma.AbstractGISChart=function(){ea.call(this);oa.call(this);var N=this,S=na.createFlowId(N),C,v;this.protectedCreateAttr=function(){return new ta};this.isErasingWhenRedraw=function(){return!1};
this.draw=function(x,A,Q){A=N.getAttr();if(!C||A.isPropertyDirty())A.setPropertyDirty(!1),x=$(x),x.empty(),A=na.makeIframeUrl(S,A.getSkinName(),A.getLongitude(),A.getLatitude(),A.getZoom()),C=$("<iframe>"),C.attr("src",A),C.css({position:"absolute",left:"0",width:"100%",top:"0","border-width":"0px"}),C.appendTo(x);C.css("height",Q-5+"px")};this.protectedCreateSelectionModel=function(){var x=new pa;x.setMultiSelectable(!1);return x};this.protectedSelectionChangedHandler=function(x){};this.protectedUpdateSelectableState=
function(){C&&na.sendSelectableState(C[0].contentWindow,S,N.isSelectable())};this.setDesigntimeInitializationChangedListener=function(x){v=x};this.isStillAlive=function(){return C&&Ka.isInDomTree(C[0])};this.recivePreparedOpportunity=function(){var x=C[0].contentWindow,A=N.getAttr().getCustomScript();A&&na.sendCustomScript(x,S,A);na.sendSelectableState(x,S,N.isSelectable());A=na.createPaintableModel();A.setUsage(N.getAttr().getUsage());for(var Q=N.getModel(),T=R(Q),Y=Q.getCategories(),r=Q.getSeries(),
e=r[0].getColor(),h=r.length,p=0;p<Y.length;p++){var a=Y[p],l=Q.getNode(0,p);if(l){var b=A.addPoint();b.setCoordinate(l.getXAxisValue(),l.getYAxisValue());b.setCaption(a.getLabel());b.setColor(e||a.getColor());T&&(l=T(l.getZAxisValue()),b.setSizeRatio(l));if(1<h)for(a=1;a<h;a++){l=Q.getNode(a,p);var g=r[a].getName();l=l.getText();b.addInfo(g,l)}}}na.sendPaintableData(x,S,A.toJsonObject())};this.reciveDesigntimeInitialization=function(x,A,Q){v&&v(x,A,Q)};this.reciveSelecteds=function(x){0<x.length?
(N.getSelectionModel().clearAll(),N.getSelectionModel().toggleSelect(x[0])):N.getSelectionModel().deselect()};var R=function(x){if((x=x.getScopes())&&0<x.length){x=x[0];var A=x.getAppointableMin(),Q=x.getAppointableMax()-x.getAppointableMin();return function(T){return T||0===T?0==Q?0:(T-A)/Q:0}}return null}};Ma.AbstractRadarChart=function(){ea.call(this);var N=this.protectedMethod,S=this,C,v=-1,R;this.protectedCreateAttr=function(){return new Fa};this.getCosmeticId=function(){return xa.CHART_RADAR};
this.draw=function(x,A,Q){v=-1;x=N.createCanvas(x,A,Q);var T=x.getContext("2d");C=new Ta(T,S.getModel(),S.getAttr(),A,Q);C.drawChart(v);S.protectedInitMouseListener(x)};this.protectedInitMouseListener=function(x){throw Error("Implement");};N.hover=function(x,A){x=C.apiXYToCategoryIndex(x,A);if(x!=v)if(C.drawChart(x),v=x,0>x)R=null;else{R=[];A=S.getModel();var Q=A.getCategories(),T=A.getSeries();Q=Q[x].getDisplayLabel();if(S.getAttr().isDimensionOutside()){var Y=A.getCategoryTitle();Y&&R.push({key:Y,
value:Q})}else R.push({key:Q,value:""});for(Q=0;Q<T.length;Q++){var r=A.getNode(Q,x);r&&(Y=T[Q],r={key:Y.getName(),value:r.getText()},1<T.length&&(r.color=Y.getColor()),R.push(r))}}return R}};Ma.AbstractProgressColumnChart=function(){var N=this;this.protectedCreateTips=function(S,C,v){v=[];var R=N.getModel().getCategoryTitle(),x=N.getModel().getCategories()[C];R&&v.push({key:R,value:x.getDisplayLabel()});R=N.getModel().getSeries();for(x=0;x<R.length;x++){var A=R[x].getNodes()[C];A=A?A.getText():"";
v.push({key:R[x].getName(),value:A})}(S=S.getPercentage(C,0))&&v.push({key:X.get("ratio","\u5360\u6bd4"),value:S});return v}};Ma.AbstractProgressCircleChart=function(){ea.call(this);var N=this.protectedMethod,S=this,C;this.protectedCreateAttr=function(){return new la};this.draw=function(v,R,x){v=N.createCanvas(v,R,x);R=v.getContext("2d");C=new Ua(R,S.getModel(),S.getAttr());S.getAttr().isAnimation()?C.drawChartWithAnimation():C.drawChart();S.protectedInitMouseListener(v)};this.protectedInitMouseListener=
function(v){throw Error("Override me");};N.hover=function(v,R){if(C.apiXYToCheckInside(v,R)){v=[];R=S.getModel().getSeries();var x=R[0],A=x.getNodes()[0];v.push({key:x.getName(),value:A.getText()});x=R[1];A=x.getNodes()[0];v.push({key:x.getName(),value:A.getText()});R=S.getAttr().getLabelDesc();!R&&(R=X.get("completion","\u5b8c\u6210\u7387"));v.push({key:R,value:C.getDrawingPercentage()})}else v=null;return v}};Ma.AbstractDialChart=function(){ea.call(this);var N=this,S=this.protectedMethod,C,v,R=
null;this.protectedCreateAttr=function(){return new ha};this.draw=function(x,A,Q){v=null;x=S.createCanvas(x,A,Q);A=x.getContext("2d");C=new La(A,N.getModel(),N.getAttr());N.getAttr().isAnimation()?C.drawChartWithAnimation():C.drawChart();N.protectedInitMouseListener(x)};this.protectedInitMouseListener=function(x){throw Error("Implement");};S.hover=function(x,A){x=C.searchHoverTarget(x,A);if(!x.isEquals(v)){R=null;if(x.isHoverPointer())A=C.getDrawingModel(),R=[{key:A.getPointerName(),value:A.getPointerText()}];
else if(x.isHoverSections()){A=C.getDrawingModel();for(var Q=[],T=0;T<A.getSectionCount();T++){var Y={},r=A.getSectionColor(T);r?(Y.color=r,Y.key=A.getSectionLabel(T)):Y.key=X.get("scope","\u8303\u56f4");Y.value=A.getSectionStart(T)+" ~ "+A.getSectionEnd(T);Q.push(Y)}R=Q}v=x}return R}};Ma.AbstractGridChart=function(){Ca.call(this);this.protectedCreateRender=function(N,S,C){return new Wa(N,S,C)};this.protectedCreateAttr=function(){return new za};this.getCosmeticId=function(){return xa.CHART_GRID}};
Ma.AbstractCustomListChart=function(){Ca.call(this);this.protectedCreateRender=function(N,S,C){return new Qa(N,S,C)};this.protectedCreateAttr=function(){return new Ia};this.getCosmeticId=function(){return xa.CHART_GRID}};Ma.AbstractWaterfallChart=function(){ea.call(this);var N=this.protectedMethod,S=this,C,v=-1,R;this.protectedCreateAttr=function(){return new Sa};this.getCosmeticId=function(){return xa.CHART_WATERFALL};this.draw=function(x,A,Q){x=N.createCanvas(x,A,Q);A=x.getContext("2d");C=new W(A,
S.getModel(),S.getAttr());C.drawChart(v);S.protectedInitMouseListener(x)};this.protectedInitMouseListener=function(x){throw Error("Implement");};N.hover=function(x,A){A=C.apiXYToCategoryIndex(x,A);A!=v&&(C.drawChart(A),v=A,0>A?R=null:(x=S.getModel().getCategories()[A],A=S.getModel().getSeries()[0].getNodes()[A],R=[{key:x.getLabel(),value:A.getText()}]));return R}};Ma.AbstractFunnelChart=function(){ea.call(this);oa.call(this);var N=this.protectedMethod,S=this,C,v=-1,R;this.protectedCreateAttr=function(){return new Pa};
this.draw=function(x,A,Q){x=N.createCanvas(x,A,Q);A=x.getContext("2d");C=new ba(A,S.getModel(),S.getAttr());C.setSelectionModel(S.getSelectionModel());C.drawChart(v);S.protectedInitMouseListener(x)};this.protectedInitMouseListener=function(x){throw Error("Implement");};this.protectedSelectionChangedHandler=function(x){C.drawChart(v)};N.hover=function(x,A){x=C.apiXYToCategoryIndex(x,A);if(x!=v)if(C.drawChart(x),v=x,0>x)R=null;else{A=S.getModel().getCategories()[x];var Q=S.getModel().getSeries()[0],
T=Q.getNodes()[x],Y=S.getModel().getCategoryTitle();R=[];Y?(R.push({key:Y,value:A.getLabel()}),R.push({key:Q.getName(),value:T?T.getText():""})):R.push({key:A.getLabel(),value:T?T.getText():""});R.push({key:X.get("ratio","\u5360\u6bd4"),value:C.getDrawingModel().getPercentage(x)})}return R};N.click=function(x,A){return C.apiXYToCategoryIndex(x,A)}};Ma.AbstractRectTreeChart=function(){qa.call(this);var N=this,S=this.protectedMethod,C,v,R;this.protectedCreateAttr=function(){return new fa};this.draw=
function(x,A,Q){x=S.createCanvas(x,A,Q);A=x.getContext("2d");C=new da(A,N.getModel(),N.getAttr());C.drawChart();N.protectedInitMouseListener(x)};this.protectedInitMouseListener=function(x){throw Error("Implement");};S.hover=function(x,A){x=C.searchHoverTarget(x,A);x.isEquals(v)||(C.drawHover(v,!1),C.drawHover(x,!0),R=S.createHoverInfo(x.getPath()),v=x);return R};S.click=function(x,A){return C.searchHoverTarget(x,A).getPath()}};Ma.AbstractSunburstChart=function(){qa.call(this);var N=this.protectedMethod,
S=this,C,v,R;this.protectedCreateAttr=function(){return new ca};this.draw=function(x,A,Q){x=N.createCanvas(x,A,Q);A=x.getContext("2d");C=new Z(A,S.getModel(),S.getAttr());C.drawChart(null);S.protectedInitMouseListener(x)};this.protectedInitMouseListener=function(x){throw Error("Implement");};N.hover=function(x,A){x=C.searchHoverTarget(x,A);x.isEquals(v)||(1E3>S.getModel().getTotalNodesCount()&&C.drawChart(x),R=(A=x.getPath())&&-1==A[0]?null:N.createHoverInfo(A),v=x);return R};N.click=function(x,A){return C.searchHoverTarget(x,
A).getPath()}};var Na,Ka,na,ra,Ea,va,ka,ma,sa,Aa,ta,Fa,la,ha,za,Ia,Sa,Pa,fa,ca,wa,pa,Ga,xa,Ba,Ja,Ha,Ra,Ta,Ua,La,Wa,Qa,W,ba,da,Z;(function(){var N=com.kingdee.bos.qing.common;Na=N.NumberFormater;Ka=N.DomUtil;N=com.kingdee.bos.qing.chart.gis;na=N.GISChartGlobal;N=com.kingdee.bos.qing.chart.model;ra=N.CommonAttr;Ea=N.PieAttr;va=N.YNXSAttr;ka=N.LineAttr;ma=N.ScatterAttr;sa=N.CompositeAttr;Aa=N.MapAttr;ta=N.GISAttr;Fa=N.RadarAttr;la=N.ProgressCircleAttr;ha=N.DialAttr;za=N.GridAttr;Ia=N.CustomListAttr;
Sa=N.WaterfallAttr;Pa=N.FunnelAttr;fa=N.RectTreeAttr;ca=N.SunburstAttr;wa=N.SelectionModel;pa=N.StringSelectionModel;Ga=N.RowSelectionModel;N=com.kingdee.bos.qing.chart.render;xa=N.StyleTool;Ba=N.KpiChartRender;Ja=N.PieChartRender;Ha=N.SeparatedHeatMapRender;Ra=N.CompositeChartRender;Ta=N.RadarChartRender;Ua=N.ProgressCircleChartRender;La=N.DialChartRender;Wa=N.GridChartRender;Qa=N.CustomListChartRender;W=N.WaterfallChartRender;ba=N.FunnelChartRender;da=N.RectTreeRender;Z=N.SunburstRender})();var X=
new function(){var N;this.setImpl=function(S){N=S};this.get=function(S,C){return N?N.get(S,C):C}};Ma.MultiLanguageString=X})();(function(){function ea(){var fa=this.protectedMethod;this.protectedMethod.updateCursorDefault=function(ca){ca.style.cursor="default"};this.protectedMethod.updateCursorClickable=function(ca){fa.isClickInterested()&&(ca.style.cursor="pointer")};this.protectedMethod.getMousePhysicalPoint=function(ca){var wa=ca.target.getBoundingClientRect();return[ca.pageX-wa.left,ca.pageY-wa.top]};this.protectedMethod.fireTooltipsListener=function(ca,wa){ca?fa.fireTooltipsEvent(ca.clientX,ca.clientY,wa):fa.fireTooltipsEvent()}}
function oa(){ea.call(this);var fa=this,ca=this.protectedMethod,wa=function(xa){var Ba=fa.protectedCreateClickedTarget(xa);void 0!==Ba&&ca.fireClickEvent(xa.clientX,xa.clientY,Ba)};this.protectedCreateClickedTarget=function(xa){throw Error("Override");};var pa=function(xa){ca.isMouseStateLocked()||fa.protectedDoMouseMove(xa)};this.protectedDoMouseMove=function(xa){throw Error("Override");};var Ga=function(xa){var Ba=xa.currentTarget,Ja=$(Ba),Ha=Ja.prop("width");Ja=Ja.prop("height");var Ra=Pa.getCurrentTargetPosition(xa),
Ta=Ra[0];Ra=Ra[1];0<Ta&&Ta<Ha&&0<Ra&&Ra<Ja?pa(xa):ca.isMouseStateLocked()||(ca.updateCursorDefault(Ba),fa.protectedRedrawWithoutHover(),ca.fireTooltipsListener())};this.protectedRedrawWithoutHover=function(){ca.hover(-1,-1)};this.protectedMethod.initMouseListenerImpl=function(xa,Ba,Ja){xa=$(xa);Ba&&(xa.on("mousemove",pa),xa.on("mouseleave",Ga));if(Ja)xa.on("click",wa)};this.protectedMethod.showTooltips=function(xa,Ba){xa?ca.fireTooltipsListener(Ba,xa):ca.fireTooltipsListener()};this.protectedMethod.updateCursor=
function(xa,Ba){xa?ca.updateCursorClickable(Ba):ca.updateCursorDefault(Ba)}}function ya(){var fa=this.protectedMethod;oa.call(this);fa=this.protectedMethod;var ca;this.protectedInitMouseListener=function(Ba){var Ja=$(Ba);Ja.on("mousemove",wa);Ja.on("mouseleave",pa);Ja.on("wheel",Ga);fa.initMouseListenerImpl(Ba,!0,!0)};this.protectedDoMouseMove=function(Ba){xa(Ba)};this.protectedCreateClickedTarget=function(Ba){Ba=fa.getMousePhysicalPoint(Ba);return fa.click(Ba[0],Ba[1])};var wa=function(Ba){clearTimeout(ca);
fa.stopScroll()},pa=function(Ba){ca=setTimeout(function(){fa.resumeScroll()},1E3)},Ga=function(Ba){xa(Ba);var Ja=Ba.originalEvent,Ha=-Ja.deltaY;Ja.deltaMode==WheelEvent.DOM_DELTA_LINE&&(Ha*=33);Ha=parseInt(Ha/10);fa.requestScroll(Ha);Ba.preventDefault()},xa=function(Ba){var Ja=Ba.currentTarget,Ha=fa.getMousePhysicalPoint(Ba),Ra=(Ha=fa.hover(Ha[0],Ha[1]))?!0:!1;fa.showTooltips(Ha,Ba);fa.updateCursor(Ra,Ja)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==
typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.chart&&(com.kingdee.bos.qing.chart={});var qa=com.kingdee.bos.qing.chart;qa.SquareConfig=new function(){this.COMBO_LEGEND_MODE=!0};qa.AbstractOperatablePieChart=function(){Ca.call(this);oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedCreateClickedTarget=function(ca){ca=
fa.getMousePhysicalPoint(ca);return fa.click(ca[0],ca[1])};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.getMousePhysicalPoint(ca),Ga=(pa=fa.hover(pa[0],pa[1]))?!0:!1;fa.fireTooltipsListener(ca,pa?pa:null);fa.updateCursor(Ga,wa)}};qa.AbstractOperatableHeatMapSingleCell=function(){Ma.call(this);oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedCreateClickedTarget=function(ca){return null};
this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget;fa.hover(1,1);fa.showTooltips([],ca);fa.updateCursor(!0,wa)}};qa.AbstractOperatableSingleBar=function(){Na.call(this);oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedCreateClickedTarget=function(ca){return null};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.hover(1,1),Ga=pa?pa[1]:!1;fa.showTooltips(pa?pa[0]:null,ca);fa.updateCursor(Ga,
wa)}};qa.AbstractOperatableColumnChart=function(){Ka.call(this);oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedCreateClickedTarget=function(ca){ca=fa.getMousePhysicalPoint(ca);return fa.click(ca[0],ca[1])};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.getMousePhysicalPoint(ca),Ga=(pa=fa.hover(pa[0],pa[1]))?pa[1]:!1;fa.showTooltips(pa?pa[0]:null,ca);fa.updateCursor(Ga,wa)}};qa.AbstractOperatableCompositeChart=
function(){na.call(this);oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedCreateClickedTarget=function(ca){ca=fa.getMousePhysicalPoint(ca);return fa.click(ca[0],ca[1])};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.getMousePhysicalPoint(ca),Ga=(pa=fa.hover(pa[0],pa[1]))?pa[1]:!1;fa.showTooltips(pa?pa[0]:null,ca);fa.updateCursor(Ga,wa)}};qa.AbstractOperatableLineChart=function(){ra.call(this);
oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedCreateClickedTarget=function(ca){ca=fa.getMousePhysicalPoint(ca);return fa.click(ca[0],ca[1])};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.getMousePhysicalPoint(ca),Ga=(pa=fa.hover(pa[0],pa[1]))?pa[1]:!1;fa.showTooltips(pa?pa[0]:null,ca);fa.updateCursor(Ga,wa)}};qa.AbstractOperatableAreaChart=function(){Ea.call(this);oa.call(this);var fa=
this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedCreateClickedTarget=function(ca){ca=fa.getMousePhysicalPoint(ca);return fa.click(ca[0],ca[1])};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.getMousePhysicalPoint(ca),Ga=(pa=fa.hover(pa[0],pa[1]))?pa[1]:!1;fa.showTooltips(pa?pa[0]:null,ca);fa.updateCursor(Ga,wa)}};qa.AbstractOperatableScatterChart=function(){va.call(this);oa.call(this);var fa=this.protectedMethod;
this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedCreateClickedTarget=function(ca){ca=fa.getMousePhysicalPoint(ca);return fa.click(ca[0],ca[1])};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.getMousePhysicalPoint(ca),Ga=(pa=fa.hover(pa[0],pa[1]))?pa[1]:!1;fa.showTooltips(pa?pa[0]:null,ca);fa.updateCursor(Ga,wa)}};qa.AbstractOperatableKPICardChart=function(){ka.call(this);ea.call(this);var fa=this.protectedMethod,ca=!1;this.protectedInitMouseLayerListener=
function(wa){var pa=$(wa);pa.on("click",function(Ga){fa.fireClickEvent(Ga.clientX,Ga.clientY,0)});pa.on("mousemove",function(Ga){Ga=fa.isClickable();Ga!=ca&&((ca=Ga)?fa.updateCursorClickable(wa):fa.updateCursorDefault(wa))})}};qa.AbstractOperatableMapChart=function(){ma.call(this);ea.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(Ga){Ga.on("mouseover",wa);Ga.on("mouseleave",pa);Ga.on("mousedown",ca);fa.initTooltipsSelfDriving()};var ca=function(Ga){var xa=null;"path"==
Ga.target.tagName&&(xa=$(Ga.target),xa=fa.searchDimensionMemberOnRegion(xa));fa.fireClickEvent(Ga.clientX,Ga.clientY,xa)},wa=function(Ga){if("path"==Ga.target.tagName){var xa=$(Ga.target);fa.isFloatingWhenHover()&&xa.parent().append(xa);xa=fa.getRegionTips(xa);fa.fireTooltipsListener(Ga,xa)}else fa.fireTooltipsListener();fa.stopSelfDriving()},pa=function(Ga){fa.fireTooltipsListener();fa.resumeSelfDriving()}};qa.AbstractOperatableRadarChart=function(){sa.call(this);oa.call(this);var fa=this.protectedMethod;
this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!1)};this.protectedDoMouseMove=function(ca){var wa=fa.getMousePhysicalPoint(ca);wa=fa.hover(wa[0],wa[1]);fa.showTooltips(wa,ca)}};qa.AbstractOperatableProgressCircleChart=function(){Aa.call(this);oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedDoMouseMove=function(ca){var wa=fa.getMousePhysicalPoint(ca);wa=fa.hover(wa[0],wa[1]);fa.showTooltips(wa,
ca)};this.protectedCreateClickedTarget=function(ca){return 0}};qa.AbstractOperatableDialChart=function(){ta.call(this);oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.getMousePhysicalPoint(ca),Ga=(pa=fa.hover(pa[0],pa[1]))?!0:!1;fa.showTooltips(pa,ca);fa.updateCursor(Ga,wa)};this.protectedCreateClickedTarget=function(ca){return 0}};qa.AbstractOperatableGridChart=
function(){Fa.call(this);ya.call(this)};qa.AbstractOperatableCustomListChart=function(){la.call(this);ya.call(this)};qa.AbstractOperatableWaterfallChart=function(){ha.call(this);oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!1)};this.protectedDoMouseMove=function(ca){var wa=fa.getMousePhysicalPoint(ca);wa=fa.hover(wa[0],wa[1]);fa.showTooltips(wa,ca)}};qa.AbstractOperatableFunnelChart=function(){za.call(this);oa.call(this);var fa=
this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.getMousePhysicalPoint(ca),Ga=(pa=fa.hover(pa[0],pa[1]))?!0:!1;fa.showTooltips(pa,ca);fa.updateCursor(Ga,wa)};this.protectedCreateClickedTarget=function(ca){ca=fa.getMousePhysicalPoint(ca);return fa.click(ca[0],ca[1])}};qa.AbstractOperatableRectTreeChart=function(){Ia.call(this);oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=
function(ca){fa.initMouseListenerImpl(ca,!0,!0)};this.protectedCreateClickedTarget=function(ca){ca=fa.getMousePhysicalPoint(ca);return fa.click(ca[0],ca[1])};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.getMousePhysicalPoint(ca),Ga=(pa=fa.hover(pa[0],pa[1]))?!0:!1;fa.showTooltips(pa,ca);fa.updateCursor(Ga,wa)}};qa.AbstractOperatableSunburstChart=function(){Sa.call(this);oa.call(this);var fa=this.protectedMethod;this.protectedInitMouseListener=function(ca){fa.initMouseListenerImpl(ca,
!0,!0)};this.protectedCreateClickedTarget=function(ca){ca=fa.getMousePhysicalPoint(ca);return fa.click(ca[0],ca[1])};this.protectedDoMouseMove=function(ca){var wa=ca.currentTarget,pa=fa.getMousePhysicalPoint(ca),Ga=(pa=fa.hover(pa[0],pa[1]))?!0:!1;fa.showTooltips(pa,ca);fa.updateCursor(Ga,wa)}};var Ca=qa.AbstractPieChart,Ma=qa.AbstractHeatMapSingleCell,Na=qa.AbstractSingleBar,Ka=qa.AbstractColumnChart,na=qa.AbstractCompositeChart,ra=qa.AbstractLineChart,Ea=qa.AbstractAreaChart,va=qa.AbstractScatterChart,
ka=qa.AbstractKPICardChart,ma=qa.AbstractMapChart,sa=qa.AbstractRadarChart,Aa=qa.AbstractProgressCircleChart,ta=qa.AbstractDialChart,Fa=qa.AbstractGridChart,la=qa.AbstractCustomListChart,ha=qa.AbstractWaterfallChart,za=qa.AbstractFunnelChart,Ia=qa.AbstractRectTreeChart,Sa=qa.AbstractSunburstChart;var Pa=com.kingdee.bos.qing.common.DomUtil})();(function(){function ea(){var ta=this.protectedMethod;this.protectedMouseStateLockedChanged=function(Fa){!Fa&&ta.hover(-1,-1)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.chart&&(com.kingdee.bos.qing.chart={});"undefined"==typeof com.kingdee.bos.qing.chart.longer&&(com.kingdee.bos.qing.chart.longer=
{});var oa=com.kingdee.bos.qing.chart.longer;oa.HeatMap=function(){Ma.call(this);ea.call(this)};oa.VerticalBar=function(){Na.call(this);ea.call(this);var ta=this,Fa=this.protectedMethod;this.protectedCreateRender=function(la){la=new va(la,ta.getModel(),ta.getAttr());la.setStackMode(ta.isStackMode());return la};this.protectedCreateAttr=function(){return new ya};this.drawNumberAxis=function(la,ha,za,Ia){la=Fa.createCanvas(la,ha,za).getContext("2d");ta.protectedCreateRender(la).drawNumberAxis(Ia)}};
oa.HorizontalBar=function(){Na.call(this);ea.call(this);var ta=this,Fa=this.protectedMethod;this.protectedCreateRender=function(la){la=new ka(la,ta.getModel(),ta.getAttr());la.setStackMode(ta.isStackMode());return la};this.protectedCreateAttr=function(){return new qa};this.drawNumberAxis=function(la,ha,za,Ia){la=Fa.createCanvas(la,ha,za).getContext("2d");ta.protectedCreateRender(la).drawNumberAxis(Ia)}};oa.PieChart=function(){Ca.call(this);ea.call(this);var ta=this.protectedMethod;this.setDiameter=
function(Fa){ta.setRadius(Fa>>1)}};oa.LineChart=function(){Ka.call(this);ea.call(this);var ta=this.protectedMethod,Fa=this;this.protectedCreateRender=function(la){return new ma(la,Fa.getModel(),Fa.getAttr())};this.drawNumberAxis=function(la,ha,za,Ia){la=ta.createCanvas(la,ha,za).getContext("2d");(new ma(la,Fa.getModel(),Fa.getAttr())).drawNumberAxis(Ia)};this.drawCategoryAxis=function(la,ha,za){la=ta.createCanvas(la,ha,za).getContext("2d");(new ma(la,Fa.getModel(),Fa.getAttr())).drawCategoryAxis()}};
oa.AreaChart=function(){na.call(this);ea.call(this);var ta=this.protectedMethod,Fa=this;this.protectedCreateRender=function(la){return new sa(la,Fa.getModel(),Fa.getAttr())};this.drawNumberAxis=function(la,ha,za,Ia){la=ta.createCanvas(la,ha,za).getContext("2d");(new sa(la,Fa.getModel(),Fa.getAttr())).drawNumberAxis(Ia)};this.drawCategoryAxis=function(la,ha,za){la=ta.createCanvas(la,ha,za).getContext("2d");(new sa(la,Fa.getModel(),Fa.getAttr())).drawCategoryAxis()}};oa.ScatterChart=function(){ra.call(this);
ea.call(this);var ta=this.protectedMethod,Fa=this;this.protectedCreateRender=function(la,ha,za){return new Aa(la,Fa.getModel(),Fa.getAttr())};this.drawXAxis=function(la,ha,za,Ia){la=ta.createCanvas(la,ha,za).getContext("2d");(new Aa(la,Fa.getModel(),Fa.getAttr())).drawXAxis(Ia)};this.drawYAxis=function(la,ha,za,Ia){la=ta.createCanvas(la,ha,za).getContext("2d");(new Aa(la,Fa.getModel(),Fa.getAttr())).drawYAxis(Ia)}};oa.RectTreeChart=function(){Ea.call(this);ea.call(this)};var ya,qa,Ca,Ma,Na,Ka,na,
ra,Ea,va,ka,ma,sa,Aa;(function(){var ta=com.kingdee.bos.qing.chart.model;ya=ta.YNXSAttr;qa=ta.YSXNAttr;ta=com.kingdee.bos.qing.chart;Ca=ta.AbstractOperatablePieChart;Ma=ta.AbstractOperatableHeatMapSingleCell;Na=ta.AbstractOperatableSingleBar;Ka=ta.AbstractOperatableLineChart;na=ta.AbstractOperatableAreaChart;ra=ta.AbstractOperatableScatterChart;Ea=ta.AbstractOperatableRectTreeChart;ta=com.kingdee.bos.qing.chart.render;va=ta.SeparatedVBarRender;ka=ta.SeparatedHBarRender;ma=ta.SeparatedLineChartRender;
sa=ta.SeparatedAreaChartRender;Aa=ta.SeparatedScatterChartRender})()})();(function(){function ea(){var C=this,v=this.protectedMethod,R;this.clearMouseState=function(){v.hover(-1,-1)};this.setLegendModel=function(A){R=A};this.getLegendModel=function(){return R};this.protectedGetLegendWidthParams=function(A,Q){return[40,A*(.3+(.382-.3)*Math.min(300,Math.max(0,A-300))/300)]};this.protectedGetLegendHeightParams=function(A,Q){return[20,.25*Q]};this.protectedIsComboLegendMode=function(){return Ma.COMBO_LEGEND_MODE};var x=function(){var A=C.protectedCreateLegendRender();A&&(A.setStyleTool(new ca(C.getAttr())),
A.setPosition(C.getAttr().getShowLegend()));return A};this.protectedCreateLegendRender=function(){var A=null,Q=C.getLegendModel();if(Q instanceof Qa)A=new wa;else if(Q instanceof W)A=new xa;else if(Q)throw Error("Unknown LegendModel");return A};v.divideLegend=function(A,Q,T){var Y=A,r=Q,e=0,h=0,p=C.getLegendModel();if(!C.protectedIsComboLegendMode())return p?(r=42,Q=Math.max(0,Q-r)):r=Y=0,[A,Q,Y,r];var a=x();if(p instanceof Qa)switch(C.getAttr().getShowLegend()){case ba.ShowLegend_Right:a.setUsableSize(null,
Q);T=C.protectedGetLegendWidthParams(A,Q);Y=T[0];T=T[1];p=a.askSize(p);Y=Math.max(Y,Math.min(T,p[0]));A-=Y;break;case ba.ShowLegend_Bottom:a.setUsableSize(A,null),T=C.protectedGetLegendHeightParams(A,Q),r=T[0],T=T[1],p=a.askSize(p),r=Math.max(r,Math.min(T,p[1])),Q-=r}else if(p instanceof W)switch(h=a.askMinSize(),e=h[0],h=h[1],p=a.askSize(p),Y=p[0],r=p[1],C.getAttr().getShowLegend()){case ba.ShowLegend_Right:A-=T?e:Math.min(Y,parseInt(.3*A));break;case ba.ShowLegend_Bottom:Q-=T?h:Math.min(r,parseInt(.3*
Q))}return[A,Q,Y,r,e,h]};v.drawLegend=function(A,Q,T,Y,r){if(C.protectedIsComboLegendMode()){var e=C.getAttr().getShowLegend();C.getLegendModel()&&e!=ba.ShowLegend_Non&&(C.getLegendModel()instanceof Qa&&(e==ba.ShowLegend_Right?(e=C.getAttr().isReserveRollOutSpace()?20:0,T=0+e,r-=e):e==ba.ShowLegend_Bottom&&(Q=0)),A=v.createCanvas(A,Y,r),A.style.zIndex=1,A.style.left=Q+"px",A.style.top=T+"px",A=A.getContext("2d"),T=C.getLegendModel(),Q=x(),T instanceof Qa?(Q.setUsableSize(Y,r),Q.draw(A,T)):T instanceof
W&&(Q.setUsableSize(Y,r),Q.drawEmbedded(A,T)))}}}function oa(){ea.multiExtends(na,this);var C=this,v=this.protectedMethod;this.protectedCreateAttr=function(){return new Z};this.protectedCreateRender=function(R){return new Ja(R,C.getModel(),C.getAttr())};this.protectedDrawLegend=function(R,x,A){x=v.divideLegend(x,A);v.drawLegend(R,x[0],x[1],x[2],x[3]);return x}}function ya(){ea.multiExtends(na,this);var C=this,v=this.protectedMethod;this.protectedCreateAttr=function(){return new X};this.protectedCreateRender=
function(R){return new Ha(R,C.getModel(),C.getAttr())};this.protectedDrawLegend=function(R,x,A){x=v.divideLegend(x,A);v.drawLegend(R,x[0],x[1],x[2],x[3]);return x}}function qa(){ea.multiExtends(va,this);var C=this,v=this.protectedMethod,R=this.draw;this.draw=function(x,A,Q){var T=v.divideLegend(A,Q);A=T[0];Q=T[1];var Y=T[2];T=T[3];R(x,A,Q);v.drawLegend(x,A,Q,Y,T)};this.protectedCreateRender=function(x){return new Ta(x,C.getModel(),C.getAttr())}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&
(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.chart&&(com.kingdee.bos.qing.chart={});"undefined"==typeof com.kingdee.bos.qing.chart.square&&(com.kingdee.bos.qing.chart.square={});var Ca=com.kingdee.bos.qing.chart.square;Ca.KPICardChart=function(){ea.multiExtends(ka,this);this.clearMouseState=function(){}};Ca.PieChart=function(){ea.multiExtends(Ka,this);var C=this,
v=this.protectedMethod,R=this.draw;this.draw=function(x,A,Q){var T=v.divideLegend(A,Q);A=T[0];Q=T[1];var Y=T[2];T=T[3];var r=0;C.getAttr().isReserveRollOutSpace()&&(r=10);var e=parseInt(Math.max(0,.8*Math.min(A,Q)-2*r));v.setRadius(e>>1);R(x,A,Q,0,r);v.drawLegend(x,A,Q,Y,T)};this.protectedGetLegendWidthParams=function(x,A){return C.getAttr().isShowDataLabel()?(C.getAttr().getDataLabelType()&da.SHOW_LABEL_NAME)==da.SHOW_LABEL_NAME?[40,.25*x]:[40,.382*x]:[40,x*Math.min(.618,Math.max(0,(x-A)/x))]}};
Ca.ColumnChart=oa;Ca.BarChart=ya;Ca.StackedColumnChart=function(){oa.call(this);var C=this.protectedCreateRender;this.protectedCreateRender=function(v){v=C(v);v.setMode(Ja.MODE_STACKED);return v}};Ca.PercentStackedColumnChart=function(){oa.call(this);var C=this.protectedCreateRender;this.protectedCreateRender=function(v){v=C(v);v.setMode(Ja.MODE_PERCENT_STACKED);return v}};Ca.StackedBarChart=function(){ya.call(this);var C=this.protectedCreateRender;this.protectedCreateRender=function(v){v=C(v);v.setMode(Ha.MODE_STACKED);
return v}};Ca.PercentStackedBarChart=function(){ya.call(this);var C=this.protectedCreateRender;this.protectedCreateRender=function(v){v=C(v);v.setMode(Ha.MODE_PERCENT_STACKED);return v}};Ca.CompositeChart=function(){ea.multiExtends(ra,this);var C=this,v=this.protectedMethod;this.draw=function(R,x,A){var Q=v.divideLegend(x,A);x=Q[0];A=Q[1];var T=Q[2];Q=Q[3];v.drawImpl(R,x,A);v.drawLegend(R,x,A,T,Q)};this.protectedCreateLegendRender=function(){return new Ba(C.getModel())}};Ca.LineChart=function(){ea.multiExtends(Ea,
this);var C=this,v=this.protectedMethod,R=this.draw;this.draw=function(x,A,Q){var T=v.divideLegend(A,Q);A=T[0];Q=T[1];var Y=T[2];T=T[3];R(x,A,Q);v.drawLegend(x,A,Q,Y,T)};this.protectedCreateRender=function(x){return new Ra(x,C.getModel(),C.getAttr())}};Ca.AreaChart=function(){qa.call(this)};Ca.PercentAreaChart=function(){qa.call(this);var C=this.protectedCreateRender;this.protectedCreateRender=function(v){v=C(v);v.setPercentMode(!0);return v}};Ca.MapChart=function(){ea.multiExtends(ma,this);var C=
this,v=this.protectedMethod,R=this.draw;this.draw=function(A,Q,T){var Y=$(A);Y.empty();var r=v.divideLegend(Q,T,!0),e=r[0],h=r[1],p=r[2];r=r[3];var a=$("<div>");a.css({"z-index":128,position:"absolute",left:0,width:e,top:0,height:h});a.appendTo(Y);R(a[0],e,h);v.drawLegend(A,Q-p,T-r,p,r)};var x=this.protectedIsComboLegendMode;this.protectedIsComboLegendMode=function(){return C.getLegendModel()instanceof W?!0:x()};this.clearMouseState=function(){}};Ca.GISChart=function(){ea.multiExtends(ha,this);this.clearMouseState=
function(){}};Ca.RadarChart=function(){ea.multiExtends(sa,this);var C=this.protectedMethod,v=this.draw;this.draw=function(R,x,A){var Q=C.divideLegend(x,A);x=Q[0];A=Q[1];var T=Q[2];Q=Q[3];v(R,x,A);C.drawLegend(R,x,A,T,Q)}};Ca.ProgressBarChart=function(){ya.call(this);Na.call(this);var C=this;this.protectedCreateAttr=function(){return new N};this.protectedCreateRender=function(v){return new La(v,C.getModel(),C.getAttr())};this.protectedCreateLegendRender=function(){return new pa}};Ca.ProgressColumnChart=
function(){oa.call(this);Na.call(this);var C=this;this.protectedCreateAttr=function(){return new S};this.protectedCreateRender=function(v){return new Ua(v,C.getModel(),C.getAttr())};this.protectedCreateLegendRender=function(){return new pa}};Ca.ProgressCircleChart=function(){ea.multiExtends(Aa,this);var C=this.protectedMethod,v=this.draw;this.draw=function(R,x,A){var Q=C.divideLegend(x,A);x=Q[0];var T=Q[1],Y=Q[2];Q=Q[3];0>=T&&(T=A,Q=0);v(R,x,T);C.drawLegend(R,x,T,Y,Q)};this.protectedGetLegendWidthParams=
function(R,x){return[40,.382*R]};this.protectedGetLegendHeightParams=function(R,x){return[0,x]};this.protectedCreateLegendRender=function(){return new Ga}};Ca.DialChart=function(){ea.multiExtends(ta,this)};Ca.GridChart=function(){ea.multiExtends(Fa,this)};Ca.CustomListChart=function(){ea.multiExtends(la,this)};Ca.WaterfallChart=function(){ea.multiExtends(za,this)};Ca.FunnelChart=function(){ea.multiExtends(Ia,this);var C=this.protectedMethod,v=this.draw;this.draw=function(R,x,A){var Q=C.divideLegend(x,
A);x=Q[0];A=Q[1];var T=Q[2];Q=Q[3];v(R,x,A);C.drawLegend(R,x,A,T,Q)}};Ca.ScatterChart=function(){ea.multiExtends(Sa,this);var C=this,v=this.protectedMethod,R=this.draw;this.draw=function(x,A,Q){var T=v.divideLegend(A,Q);A=T[0];Q=T[1];var Y=T[2];T=T[3];R(x,A,Q);v.drawLegend(x,A,Q,Y,T)};this.protectedCreateRender=function(x){return new Wa(x,C.getModel(),C.getAttr())}};Ca.RectTreeChart=function(){ea.multiExtends(Pa,this);var C=this,v=this.protectedMethod,R=this.draw;this.draw=function(A,Q,T){var Y=v.divideLegend(Q,
T),r=Y[2],e=Y[3];Q-=r;T-=e;R(A,Y[0],Y[1]);v.drawLegend(A,Q,T,r,e)};var x=this.protectedIsComboLegendMode;this.protectedIsComboLegendMode=function(){return C.getLegendModel()instanceof W?!0:x()}};Ca.SunburstChart=function(){ea.multiExtends(fa,this);var C=this.protectedMethod,v=this.draw;this.draw=function(R,x,A){var Q=C.divideLegend(x,A),T=Q[2],Y=Q[3];x-=T;A-=Y;v(R,Q[0],Q[1]);C.drawLegend(R,x,A,T,Y)}};var Ma,Na,Ka,na,ra,Ea,va,ka,ma,sa,Aa,ta,Fa,la,ha,za,Ia,Sa,Pa,fa,ca,wa,pa,Ga,xa,Ba,Ja,Ha,Ra,Ta,Ua,
La,Wa,Qa,W,ba,da,Z,X,N,S;(function(){var C=com.kingdee.bos.qing.chart;Ma=C.SquareConfig;Na=C.AbstractProgressColumnChart;Ka=C.AbstractOperatablePieChart;na=C.AbstractOperatableColumnChart;ra=C.AbstractOperatableCompositeChart;Ea=C.AbstractOperatableLineChart;va=C.AbstractOperatableAreaChart;ka=C.AbstractOperatableKPICardChart;ma=C.AbstractOperatableMapChart;sa=C.AbstractOperatableRadarChart;Aa=C.AbstractOperatableProgressCircleChart;ta=C.AbstractOperatableDialChart;Fa=C.AbstractOperatableGridChart;
la=C.AbstractOperatableCustomListChart;ha=C.AbstractGISChart;za=C.AbstractOperatableWaterfallChart;Ia=C.AbstractOperatableFunnelChart;Sa=C.AbstractOperatableScatterChart;Pa=C.AbstractOperatableRectTreeChart;fa=C.AbstractOperatableSunburstChart;C=com.kingdee.bos.qing.chart.render;ca=C.StyleTool;wa=C.DiscreteColorLegendRender;pa=C.ProgressDiscreteLegendRender;Ga=C.ProgressCircleLegendRender;xa=C.ContinuousColorLegendRender;Ba=C.CompositeDescreteLegendRender;Ja=C.ColumnChartRender;Ha=C.BarChartRender;
Ra=C.LineChartRender;Ta=C.AreaChartRender;Ua=C.ProgressColumnChartRender;La=C.ProgressBarChartRender;Wa=C.ScatterChartRender;C=com.kingdee.bos.qing.chart.model;Qa=C.DiscreteColorLegendModel;W=C.ContinuousColorLegendModel;ba=C.AbstractAttr;da=C.PieAttr;Z=C.YNXSAttr;X=C.YSXNAttr;N=C.ProgressBarAttr;S=C.ProgressColumnAttr})();ea.multiExtends=function(C,v){C.call(v);ea.call(v)}})();
//qingVersionTag: 20250324