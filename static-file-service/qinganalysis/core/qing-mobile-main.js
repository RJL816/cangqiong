var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(wa,Ta,Ba){wa instanceof String&&(wa=String(wa));for(var ta=wa.length,Da=0;Da<ta;Da++){var Ha=wa[Da];if(Ta.call(Ba,Ha,Da,wa))return{i:Da,v:Ha}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(wa,Ta,Ba){if(wa==Array.prototype||wa==Object.prototype)return wa;wa[Ta]=Ba.value;return wa};$jscomp.getGlobal=function(wa){wa=["object"==typeof globalThis&&globalThis,wa,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var Ta=0;Ta<wa.length;++Ta){var Ba=wa[Ta];if(Ba&&Ba.Math==Math)return Ba}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(wa,Ta){var Ba=$jscomp.propertyToPolyfillSymbol[Ta];if(null==Ba)return wa[Ta];Ba=wa[Ba];return void 0!==Ba?Ba:wa[Ta]};
$jscomp.polyfill=function(wa,Ta,Ba,ta){Ta&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(wa,Ta,Ba,ta):$jscomp.polyfillUnisolated(wa,Ta,Ba,ta))};$jscomp.polyfillUnisolated=function(wa,Ta,Ba,ta){Ba=$jscomp.global;wa=wa.split(".");for(ta=0;ta<wa.length-1;ta++){var Da=wa[ta];if(!(Da in Ba))return;Ba=Ba[Da]}wa=wa[wa.length-1];ta=Ba[wa];Ta=Ta(ta);Ta!=ta&&null!=Ta&&$jscomp.defineProperty(Ba,wa,{configurable:!0,writable:!0,value:Ta})};
$jscomp.polyfillIsolated=function(wa,Ta,Ba,ta){var Da=wa.split(".");wa=1===Da.length;ta=Da[0];ta=!wa&&ta in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var Ha=0;Ha<Da.length-1;Ha++){var fb=Da[Ha];if(!(fb in ta))return;ta=ta[fb]}Da=Da[Da.length-1];Ba=$jscomp.IS_SYMBOL_NATIVE&&"es6"===Ba?ta[Da]:null;Ta=Ta(Ba);null!=Ta&&(wa?$jscomp.defineProperty($jscomp.polyfills,Da,{configurable:!0,writable:!0,value:Ta}):Ta!==Ba&&(void 0===$jscomp.propertyToPolyfillSymbol[Da]&&(Ba=1E9*Math.random()>>>0,
$jscomp.propertyToPolyfillSymbol[Da]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(Da):$jscomp.POLYFILL_PREFIX+Ba+"$"+Da),$jscomp.defineProperty(ta,$jscomp.propertyToPolyfillSymbol[Da],{configurable:!0,writable:!0,value:Ta})))};$jscomp.polyfill("Array.prototype.find",function(wa){return wa?wa:function(Ta,Ba){return $jscomp.findInternal(this,Ta,Ba).v}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(wa){return wa?wa:function(Ta,Ba,ta){var Da=this.length||0;0>Ba&&(Ba=Math.max(0,Da+Ba));if(null==ta||ta>Da)ta=Da;ta=Number(ta);0>ta&&(ta=Math.max(0,Da+ta));for(Ba=Number(Ba||0);Ba<ta;Ba++)this[Ba]=Ta;return this}},"es6","es3");$jscomp.typedArrayFill=function(wa){return wa?wa:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
(function(){function wa(){var ja;this.register=function(ua){ja=ua};this.isDesigntimeSupported=function(){return ja?!0:!1};this.isRuntimeSupported=function(){return ja?!0:!1};this.setup=function(ua,C,L){ja.setup(ua,C,L)};this.lookupBizMeta=function(ua,C,L){ja.lookupBizMeta(ua,C,L)};this.jumpToBizListUi=function(ua,C,L){ja.jumpToBizListUi(ua.getBizUiId(),ua.getUsableDisplayName(),C,L)};this.jumpToBizEditUi=function(ua,C){ja.jumpToBizEditUi(ua.getBizUiId(),ua.getUsableDisplayName(),C)}}function Ta(){var ja=
this,ua,C,L=function(){void 0===ua&&(ua=ja.protectedParseLongerDesignerAccessable(),C=ja.protectedParseLongerDesignerOperationJudger())};this.isLongerDesignerAccessable=function(){L();return ua};this.getLongerDesignerOperationJudger=function(){L();return C};this.mergeToNewInstance=function(da){var ia=ja.isLongerDesignerAccessable()&&da.isLongerDesignerAccessable(),I=ja.getLongerDesignerOperationJudger().mergeToNewInstance(da.getLongerDesignerOperationJudger());return new function(){Ta.call(this);
this.protectedParseLongerDesignerAccessable=function(){return ia};this.protectedParseLongerDesignerOperationJudger=function(){return I}}};this.protectedParseLongerDesignerAccessable=function(){return!0};this.protectedParseLongerDesignerOperationJudger=function(){return new ta}}function Ba(){var ja=this,ua,C,L,da,ia=function(){void 0===ua&&(ua=ja.protectedParseSquareDesignerAccessable(),C=ja.protectedParseSquareDesignerOperationJudger(),L=ja.protectedParseAdvancedAnalysisAccessable(),da=ja.protectedParseAdvancedAnalysisOperationJudger())};
this.isSquareDesignerAccessable=function(){ia();return ua};this.getSquareDesignerOperationJudger=function(){ia();return C};this.isAdvancedAnalysisAccessable=function(){ia();return L};this.getAdvancedAnalysisOperationJudger=function(){ia();return da};this.mergeToNewInstance=function(I){var M=ja.isSquareDesignerAccessable()&&I.isSquareDesignerAccessable(),ca=ja.getSquareDesignerOperationJudger().mergeToNewInstance(I.getSquareDesignerOperationJudger()),ma=ja.isAdvancedAnalysisAccessable()&&I.isAdvancedAnalysisAccessable(),
Ca=ja.getAdvancedAnalysisOperationJudger().mergeToNewInstance(I.getAdvancedAnalysisOperationJudger());return new function(){Ba.call(this);this.protectedParseSquareDesignerAccessable=function(){return M};this.protectedParseSquareDesignerOperationJudger=function(){return ca};this.protectedParseAdvancedAnalysisAccessable=function(){return ma};this.protectedParseAdvancedAnalysisOperationJudger=function(){return Ca}}};this.protectedParseSquareDesignerAccessable=function(){return!0};this.protectedParseSquareDesignerOperationJudger=
function(){return new Da};this.protectedParseAdvancedAnalysisAccessable=function(){return!0};this.protectedParseAdvancedAnalysisOperationJudger=function(){return new ta}}function ta(){var ja=this,ua,C,L,da,ia,I,M=function(){void 0===ua&&(ua=ja.protectedParseDesignable(),C=ja.protectedParseDataDetailReadable(),L=ja.protectedParseExportable(),da=ja.protectedParsePrintable(),ia=ja.protectedParsePublishable(),I=ja.protectedParseTimingPushable())};this.isDesignable=function(){M();return ua};this.isDataDetailReadable=
function(){M();return C};this.isExportable=function(){M();return L};this.isPrintable=function(){M();return da};this.isPublishable=function(){M();return ia};this.isTimingPushable=function(){M();return I};this.mergeToNewInstance=function(ca){return new function(){ta.call(this);this.protectedParseDesignable=function(){return ja.isDesignable()&&ca.isDesignable()};this.protectedParseDataDetailReadable=function(){return ja.isDataDetailReadable()&&ca.isDataDetailReadable()};this.protectedParseExportable=
function(){return ja.isExportable()&&ca.isExportable()};this.protectedParsePrintable=function(){return ja.isPrintable()&&ca.isPrintable()};this.protectedParsePublishable=function(){return ja.isPublishable()&&ca.isPublishable()};this.protectedParseTimingPushable=function(){return ja.isTimingPushable()&&ca.isTimingPushable()}}};this.protectedParseDesignable=function(){return!0};this.protectedParseDataDetailReadable=function(){return!0};this.protectedParseExportable=function(){return!0};this.protectedParsePrintable=
function(){return!0};this.protectedParsePublishable=function(){return!0};this.protectedParseTimingPushable=function(){return!0};this.encodeToJson=function(){return{designable:ja.isDesignable(),dataDetailReadable:ja.isDataDetailReadable(),exportable:ja.isExportable(),printable:ja.isPrintable(),publishable:ja.isPublishable(),timingPushable:ja.isTimingPushable()}};this.decodeFromJson=function(ca){ua=ca.designable;C=ca.dataDetailReadable;L=ca.exportable;da=ca.printable;ia=ca.publishable;I=ca.timingPushable}}
function Da(){var ja=this,ua,C,L=function(){void 0===ua&&(ua=ja.protectedParsePublishable(),C=ja.protectedParseTimingPushable())};this.isPublishable=function(){L();return ua};this.isTimingPushable=function(){L();return C};this.mergeToNewInstance=function(da){return new function(){Da.call(this);this.protectedParsePublishable=function(){return ja.isPublishable()&&da.isPublishable()};this.protectedParseTimingPushable=function(){return ja.isTimingPushable()&&da.isTimingPushable()}}};this.protectedParsePublishable=
function(){return!0};this.protectedParseTimingPushable=function(){return!0};this.encodeToJson=function(){return{publishable:ja.isPublishable(),timingPushable:ja.isTimingPushable()}};this.decodeFromJson=function(da){ua=da.publishable;C=da.timingPushable}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.core&&
(com.kingdee.bos.qing.core={});var Ha=com.kingdee.bos.qing.core,fb,hb,K;(function(){var ja=com.kingdee.bos.qing.framework.common;fb=ja.AbstractFacade;hb=ja.AbstractIcons;ja=ja.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.chart);com.kingdee.bos.qing.chart.MultiLanguageString.setImpl(ja);ja=com.kingdee.bos.qing.chart.model;K=ja.ContinuousColorLegendModel})();wa=new wa;Ha.Facade=function(ja,ua,C,L){fb.call(this,ja,ua,C,L);var da=this.protectedMethod;this.getDefaultTemplate=function(I){da.remote("getDefaultTemplate",
{template:I})};this.getMeta=function(){da.remote("getMeta",{})};this.updateMeta=function(I){I={meta:JSON.stringify(I.toJsonObject())};da.remote("updateMeta",I)};this.checkFormula=function(I,M,ca){I={name:ca,formula:I,meta:JSON.stringify(M.toJsonObject())};da.remote("checkFormula",I)};this.getMetaTableDetailRowData=function(I,M,ca,ma){I={metaTable:JSON.stringify(I.toJsonObject()),startRowNum:M,endRowNum:ca,"export":ma?!0:!1};da.remote("getMetaTableDetailRowData",I)};this.getCustomizedOrderDimensionMembers=
function(I,M,ca){I={meta:JSON.stringify(I.toJsonObject()),fieldFullName:M,oriCustomOrder:JSON.stringify(ca)};da.remote("getCustomizedOrderDimensionMembers",I)};this.getDetailRowNums=function(I,M,ca,ma){I={executingModelWrapper:JSON.stringify(ia(I,M)),additionalFilters:ca?JSON.stringify(ca):null,coordinate:ma()};da.remote("getDetailRowNums",I)};this.getDetailRowData=function(I,M,ca,ma){I={dataSourceCacheKey:I,dataRowInfo:JSON.stringify(M.toJsonObject()),meta:JSON.stringify(ca.toJsonObject()),additionalFilters:ma?
JSON.stringify(ma):null};da.remote("getDetailRowData",I)};this.searchDetailRowLinkTargetForeignKeyMember=function(I,M,ca,ma){da.remote("searchDetailRowLinkTargetForeignKeyMember",{dataSourceCacheKey:I,row:M,col:ca,bizUiId:ma})};this.exportDetailRowData=function(I,M,ca,ma){I={dataSourceCacheKey:I,dataRowInfo:JSON.stringify(M.toJsonObject()),meta:JSON.stringify(ca.toJsonObject()),additionalFilters:ma?JSON.stringify(ma):null};da.remote("exportDetailRowData",I)};this.exportExhibition=function(I,M,ca){I=
{additionalFilters:ca?JSON.stringify(ca):null,model:JSON.stringify(M.toJsonObject()),fileName:I};da.remote("exportExhibition",I)};this.christmasExecute=function(I,M,ca,ma,Ca){I={checkSelectedValueScope:Ca,executingModelWrapper:JSON.stringify(ia(I,M,ca)),additionalFilters:ma?JSON.stringify(ma):null};ca=da.remote("christmas",I);ya.occur(ya.LONGER_CHART_TYPE,M.getChartType());ya.occur(ya.CORE_CUSTOM_FIELD,M.howManyCalculatedFieldsUsed());ya.occur(ya.LONGER_DATASOURCE_TYPE,I.tag);return ca};this.filteringExecute=
function(I,M,ca,ma,Ca){I={filterIndex:Ca,executingModelWrapper:JSON.stringify(ia(I,M,ca)),additionalFilters:ma?JSON.stringify(ma):null};ca=da.remote("filtering",I);ya.occur(ya.LONGER_CHART_TYPE,M.getChartType());ya.occur(ya.CORE_CUSTOM_FIELD,M.howManyCalculatedFieldsUsed());ya.occur(ya.LONGER_DATASOURCE_TYPE,I.tag);return ca};this.execute=function(I,M,ca,ma){I={executingModelWrapper:JSON.stringify(ia(I,M,ca)),additionalFilters:ma?JSON.stringify(ma):null};ca=da.remote("execute",I);ya.occur(ya.LONGER_CHART_TYPE,
M.getChartType());ya.occur(ya.CORE_CUSTOM_FIELD,M.howManyCalculatedFieldsUsed());ya.occur(ya.LONGER_DATASOURCE_TYPE,I.tag);return ca};this.easter=function(I,M,ca,ma,Ca,oa){da.remote("easter",{timestamp:I,cacheKey:M,fromRow:ca,fromCol:ma,rows:Ca,appendRowAtView:oa})};this.getFilterPreparedValue=function(I,M,ca,ma,Ca,oa){I=ia(I,M,ca);ma&&(I.model.filter=ma);ma={executingModelWrapper:JSON.stringify(I),field:JSON.stringify(Ca.toJsonObject()),additionalFilters:oa?JSON.stringify(oa):null};da.remote("getFilterPreparedValue",
ma)};this.parseDateRange=function(I){I={dateFilter:JSON.stringify(I.toJsonObject())};da.remote("parseDateRange",I)};this.squareExecute=function(I,M,ca,ma,Ca){I={executingModelWrapper:JSON.stringify(ia(I,M,ca)),additionalFilters:ma?JSON.stringify(ma):null,paletteFitSkin:Ca?JSON.stringify(Ca):null};ca=da.remote("squareExecute",I);ya.occur(ya.SQUARE_CHART_TYPE,M.getChart().getChartTypeName());ya.occur(ya.CORE_CUSTOM_FIELD,M.howManyCalculatedFieldsUsed());ya.occur(ya.SQUARE_DATASOURCE_TYPE,I.tag);return ca};
this.getSquareFilterPreparedValue=function(I,M,ca,ma,Ca){I=ia(I,M);ca&&(I.model.filters=ca);ca={executingModelWrapper:JSON.stringify(I),field:JSON.stringify(ma.toJsonObject()),additionalFilters:Ca?JSON.stringify(Ca):null};da.remote("getSquareFilterPreparedValue",ca)};this.loadMapTemplate=function(I){I={refToId:I?I.getRefToId():null,refToFullPath:I?I.getFullPath():null};da.remote("loadMapTemplate",I)};this.loadMapRegions=function(I,M,ca){I={refToId:I?I.getRefToId():null,refToFullPath:I?I.getFullPath():
null,executingModelWrapper:JSON.stringify(ia(M,ca))};da.remote("loadMapRegions",I)};this.getGisServerConfig=function(){da.remote("getGisServerConfig",{})};this.searchLinkTargetForeignKeyMembers=function(I,M,ca,ma,Ca,oa){I={foreignKey:Ca,bizUiId:oa,executingModelWrapper:JSON.stringify(ia(I,M)),additionalFilters:ca?JSON.stringify(ca):null,linkageContext:JSON.stringify(ma)};da.remote("searchLinkTargetForeignKeyMembers",I)};this.getPresetPalettes=function(I,M){da.remote("getPresetPalettes",{paletteGroup:I,
paletteType:M})};this.previewContinuousColor=function(I){I={model:JSON.stringify(I.toJsonObject())};da.remote("previewContinuousColor",I)};this.previewWarningRule=function(I,M,ca,ma){I={executingModelWrapper:JSON.stringify(ia(I,M,ca)),definition:JSON.stringify(ma.toJsonObject(null))};da.remote("previewWarningRule",I)};this.previewBriefOutput=function(I,M,ca,ma,Ca){I={executingModelWrapper:JSON.stringify(ia(I,M,ca)),additionalFilters:ma?JSON.stringify(ma):null,definition:JSON.stringify(Ca.toJsonObject({isFieldExist:function(oa){return!0}}))};
da.remote("previewBriefOutput",I)};this.executeBriefOutput=function(I,M,ca,ma,Ca){I={executingModelWrapper:JSON.stringify(ia(I,M,ca)),additionalFilters:ma?JSON.stringify(ma):null,paramNames:JSON.stringify(Ca)};da.remote("executeBriefOutput",I)};this.makeBasicInsight=function(I,M,ca,ma){I={executingModelWrapper:JSON.stringify(ia(I,M,ca)),additionalFilters:ma?JSON.stringify(ma):null};da.remote("makeBasicInsight",I)};this.makeAdvancedInsight=function(I,M,ca,ma){I={executingModelWrapper:JSON.stringify(ia(I,
M,ca)),additionalFilters:ma?JSON.stringify(ma):null};da.remote("makeAdvancedInsight",I)};var ia=function(I,M,ca){var ma={};ma.meta=I.toJsonObject();ma.model=M?M.toJsonObject():null;ma.preferences=ca?ca.toJsonObject():null;return ma}};Ha.QingModelAssistant=new function(){this.verifyLinkageBizMeta=function(ja){ja=ja.getLinkTargets();if(wa.isRuntimeSupported()&&ja){var ua=ja.getUsefulItems();if(0<ua.length){ja=[];for(var C=0;C<ua.length;C++)ja.push(ua[C].getBizUiId());wa.lookupBizMeta(ja,function(L){for(var da=
0;da<ua.length;da++){var ia=ua[da],I=L[da];I?(ia.setRuntimeValid(!0),ia.setUsableDisplayName(I)):ia.setRuntimeValid(!1)}})}}}};Ha.CommonJsonParser=new function(){this.parseContontinuousColorLegendModel=function(ja){var ua=ja.minText,C=ja.maxText,L=ja.gradientColor,da=ja.segmentColor;ja=new K;if(L){da=L.color1;var ia=L.color2,I=L.color3,M=L.color4;L=(L=L.pos)?parseFloat(L):null;ja.prepareGradient(ua,C,da,ia,L,I,M)}else ja.prepareSegment(ua,C,da);return ja}};Ha.Icons=new function(){hb.call(this);var ja=
this.protectedMethod,ua;this.setComboIconImpl=function(da){ua=da};this.protectedInit=function(da,ia){if(!ua)throw Error("Please setComboIconImpl() first.");ua.define(ia,"chart-type");C(0,0,"chart_table");C(0,1,"chart_pie");C(0,2,"chart_ring");C(0,3,"chart_rose");C(0,4,"chart_sunburst");C(1,0,"chart_heatmap");C(1,1,"chart_treemap");C(2,0,"chart_bar");C(2,1,"chart_msbar");C(2,2,"chart_stackbar");C(2,3,"chart_percentbar");C(3,0,"chart_horizontalbar");C(3,1,"chart_horizontalmsbar");C(3,2,"chart_horizontalstackbar");
C(3,3,"chart_horizontalpercentbar");C(4,0,"chart_line");C(4,1,"chart_mline");C(4,2,"chart_area");C(4,3,"chart_percentarea");C(5,0,"chart_scatter");C(5,1,"chart_bubble");C(6,0,"chart_kpi");C(6,1,"chart_map");C(6,2,"chart_radar");C(6,3,"chart_composite");C(6,4,"chart_dial");C(1,4,"chart_progresscircle");C(2,4,"chart_progressvbar");C(3,4,"chart_progresshbar");C(7,0,"chart_grid");C(8,0,"chart_customlist");C(7,1,"chart_gis");C(4,4,"chart_waterfall");C(5,4,"chart_funnel");ua.define(ia,"card-item");C(0,
0,"mark_label");C(0,1,"mark_size");C(0,2,"mark_color");C(0,3,"mark_angle");C(0,4,"mark_empty");C(0,7,"icon_reset");C(0,8,"icon_collapsable");C(0,9,"icon_expandable");ua.define(ia,"meta-tree");C(0,0,"meta_date");C(1,0,"meta_date_selected");C(0,1,"meta_string");C(1,1,"meta_string_selected");C(0,2,"meta_number");C(1,2,"meta_number_selected");C(0,3,"meta_tree1");C(1,3,"meta_tree1_selected");C(0,4,"meta_tree2");C(1,4,"meta_tree2_selected");C(0,5,"meta_table");C(1,5,"meta_table_selected");C(0,6,"meta_folder");
C(1,6,"meta_folder_selected");C(0,7,"meta_elastic");C(1,7,"meta_elastic_selected");C(2,0,"meta_table-md");C(3,0,"meta_table-md_selected");C(2,1,"meta_table-preagg");C(3,1,"meta_table-preagg_selected");C(2,2,"meta_preagg");C(3,2,"meta_preagg_selected");ua.define(ia,"operate");C(0,0,"icon_search");C(0,2,"icon_left_collapse");C(0,3,"icon_delete");C(0,4,"icon_search_auto_select");C(1,0,"icon_additional_filter");C(1,1,"icon_switch_on");C(1,2,"icon_switch_off");ua.define(ia,"sort");C(0,0,"icon_sort-asc-h");
C(0,1,"icon_sort-desc-h");C(0,2,"icon_sortable-h");C(1,0,"icon_sort-asc-v");C(1,1,"icon_sort-desc-v");C(1,2,"icon_sortable-v");ua.define(ia,"roll");ua.define(ia,"tooltips-bar");C(0,0,"icon_data_detail");C(0,1,"icon_bill_linkage");ua.define(ia,"extra");C(0,0,"icon_extra_close");C(0,1,"icon_extra_search");C(0,2,"icon_extra_setting");C(1,0,"icon_extra_filter");C(1,1,"icon_extra_level");ua.define(ia,"toolbar");L(0,0,"btn_undo");L(0,1,"btn_redo");L(0,2,"btn_clear");L(0,3,"btn_resume");L(0,4,"btn_suspend");
L(0,5,"btn_export");L(0,6,"btn_print");L(0,7,"btn_param");L(4,0,"btn_analysis");L(4,1,"btn_reverse");L(4,2,"btn_preview")};var C=function(da,ia,I){ja.registIcon(da,ia,I)},L=function(da,ia,I){C(da,ia,I);C(da+1,ia,I+"_hover");C(da+2,ia,I+"_disabled")}};Ha.LinkageRegister=wa;Ha.MapLibraryRegister=new function(){var ja;this.registerTemplateSelector=function(ua){ja=ua};this.selectTemplate=function(ua,C){ja?ja(ua,C):(ua=com.kingdee.bos.qing.core.model.OutsideReference.create("map20180808_china","map20180808_china",
null,"\u4e2d\u56fd\u7701\u4efd\u793a\u610f\u56fe"),C(ua))}};Ha.RtLongerEditableConfirmer=Ta;Ha.RtSquareEditableConfirmer=Ba;Ha.LongerDesignerOperationJudger=ta;Ha.SquareDesignerOperationJudger=Da;var ya=new function(){var ja;this.hookCollector=function(ua){ja=ua};this.occur=function(ua,C){try{ja&&ja(ua,C)}catch(L){window.console&&console.warn(L)}}};ya.LONGER_CHART_TYPE="longer-chart-type";ya.SQUARE_CHART_TYPE="square-chart-type";ya.DSB_WIDGET_TYPE="dsb-widget-type";ya.CORE_CUSTOM_FIELD="core-customfield";
ya.SQUARE_DRILLDOWN="square-drilldown";ya.SQUARE_AFFECTION="square-affection";ya.SQUARE_NAVIGATETO="square-navigateto";ya.SQUARE_EXTRA_FILTER="square-extrafilter";ya.SQUARE_DATASOURCE_TYPE="square-datasource-type";ya.LONGER_DATASOURCE_TYPE="longer-datasource-type";Ha.UserOperationReporter=ya})();
(function(){function wa(){KTableUIDraggableAdjustingHandler.CustomExpendor.call(this);this.isRowDraggable=function(da,ia){return ia>=da.getFrozenRows()};this.isColumnDraggable=function(da,ia){return ia>=da.getFrozenColumns()};var L=this.rowDraggedAction;this.rowDraggedAction=function(da,ia,I){var M=da.getRow(ia),ca=M.getUserObject(),ma=M.getStyle();40<M.getHeight()+I?ca||(M.setUserObject(ma),ma=ma.copy(),ma.setVerticalAlign("top"),ma.setWrapText(!0),M.setStyle(ma)):ca&&(M.setUserObject(null),M.setStyle(ca));
L(da,ia,I)}}function Ta(){var L=this,da,ia=!1,I=!1;this.destroyWhenClosed=function(){Da.removeChangedListener(M);I&&Da.exit()};this.protectedForward=function(){throw Error("Implement");};this.protectedBackward=function(){throw Error("Implement");};var M=function(Ca){Ca?L.protectedForward():(I=ia=!1,ma(),L.protectedBackward())},ca=function(Ca){var oa=$("<div>");ta.layoutCtrlCenterAlign(oa,16);ta.layoutCtrlMiddleAlign(oa,16);oa.appendTo(Ca);Ca.on("mouseenter",function(Na){ma(!0)});Ca.on("mouseleave",
function(Na){ma(!1)});ma()},ma=function(Ca){var oa=ia?"unfullscreen":"fullscreen";Ca&&(oa+="_hover");fb.background(da.children(),oa)};this.protectedMethod={setup:function(Ca){da=Ca;da.css({cursor:"pointer"});da.on("click",function(oa){(ia=!ia)?(Da.isFullscreenNow()?L.protectedForward():(I=!0,Da.request(da)),ma()):I?(I=!1,Da.exit()):(L.protectedBackward(),ma())});ca(da);Da.addChangedListener(M)},isRealFullByButton:function(){return I}}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&
(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.core&&(com.kingdee.bos.qing.core={});"undefined"==typeof com.kingdee.bos.qing.core.commonui&&(com.kingdee.bos.qing.core.commonui={});var Ba=com.kingdee.bos.qing.core.commonui,ta,Da,Ha,fb,hb,K,ya,ja,ua,C;(function(){var L=com.kingdee.bos.qing.common;ta=L.DomUtil;Da=L.FullScreenHelper;L=com.kingdee.bos.qing.framework.common;
Ha=L.MultilanguageManager.createPackageAccessor(Ba);L=com.kingdee.bos.qing.ui.component;fb=L.Icons;hb=L.Label;K=L.DropdownSelector;ya=L.WorkButton;ja=L.MessageDialog;L=com.kingdee.bos.qing.common.shared;ua=L.AbstractProgressParser;L=com.kingdee.bos.qing.core;C=L.LinkageRegister})();Ba.ErrorCodeParser=new function(){this.toDisplayText=function(L,da){switch(L){case 205403:case 205301:return Ha.get("canNotRun","\u964d\u7ea7");case 402200:return Ha.get("dataEmpty","\u6ca1\u6709\u6570\u636e\u53ef\u4f9b\u5206\u6790\u548c\u5c55\u73b0");
case 402202:return Ha.get("relationMissing","\u5206\u6790\u5f15\u64ce\u4e00\u8138\u8499\u5708\u3002");case 403001:return Ha.get("necessaryDimensionMissing","\u7f3a\u5c11\u5fc5\u8981\u7684\u7ef4\u5ea6\uff1a")+da;default:return null}};this.attemptToAppendNecessaryDimensions=function(L,da,ia){403001==L&&(L=new ya,L.setText(Ha.get("autoAppendNecessaryDimensions","\u5c06\u5fc5\u8981\u5b57\u6bb5\u6dfb\u52a0\u5230\u7b5b\u9009\u5668")),L.addActionListener(function(I){ia()}),L.getJqUi().css({position:"relative",
width:"240px",height:"30px","margin-left":"40px"}),L.getJqUi().appendTo(da))}};Ba.ExportHelper=new function(){this.facadeErrorHandler=function(L,da){return 800800==L?(L=new ja,L.setOptionType(ja.OPTION_OK),L.setMessage(da),L.showDialog(),!0):!1}};Ba.DataDetailTable=function(){var L=com.kingdee.bos.qing.core.model.MetaField,da=this,ia,I=new hb,M=new KTable,ca=2147483647,ma=1,Ca;this.hookOperation=function(Va){Ya(Va)};this.getJqUi=function(){if(!ia){Wa();var Va=$(M.getUI());ia=$("<div>");ia.append(I.getJqUi());
ia.append(Va);ta.layoutCtrlWithLRTB(I.getJqUi(),0,0,null,0,null,23);ta.layoutCtrlWithLRTB(Va,0,0,null,30,0,null)}return ia};this.resize=function(){M.relayoutViews()};this.reset=function(){M.removeAllRows();M.updateUI(!1)};this.setTotalRowsCount=function(Va){ma=1;ca=Va;I.setText(Ha.get("rowsInTotal","\u5171#1\u884c").replace("#1",ca))};this.setLoader=function(Va){Ca=Va};this.setupColumns=function(Va,N){var za=new KTStyle;za.setTextAlign("center");za.setBold(!0);za.setColor("#666");za.setBackgroundColor("#F9F9F9");
var va=M.addRow();va.setStyle(za);va.setHeight(22);var Oa=M.addRow();Oa.setStyle(za);Oa.setHeight(22);var U=new KTStyle;U.setTextAlign("center");var na=new KTStyle;na.setTextAlign("left");var sa=new KTStyle;sa.setTextAlign("right");var pa=null,Ra=-1;Va+=2;M.removeAllColumns();M.addColumns(Va);for(var Y=0;Y<Va;Y++){var J=M.getColumn(Y),ka=va.getCell(Y),V=Oa.getCell(Y);if(2>Y)1==Y?(ka.setValue(Ha.get("rowNum","\u5e8f\u53f7")),J.setWidth(40),J.setStyle(U)):0==Y&&(J.setWidth(20),J.setStyle(U)),M.addMergeBlock(new KTMergeBlock(0,
1,Y,Y));else{var v=N(Y-2);switch(v.getDataType()){case L.DT_STRING:J.setWidth(100);J.setStyle(na);break;case L.DT_NUMBER:J.setWidth(80);J.setStyle(sa);break;case L.DT_DATE:J.setWidth(76);J.setStyle(na);break;default:throw Error("Unknown data type.");}J=v.getTable().getDisplayName()||"";ka.setValue(J);V.setValue(v.getDisplayName());V.setUserObject(v.getFullName());J!=pa&&(ka.setStyle(za),oa(Ra,Y-1),pa=J,Ra=Y)}}oa(Ra,Va-1)};var oa=function(Va,N){0<=Va&&Va!=N&&M.addMergeBlock(new KTMergeBlock(0,0,Va,
N))};this.updateColumnsVisible=function(Va,N){for(var za=M.getRow(1),va=2;va<M.getColumnsCount();va++){var Oa=za.getCell(va).getUserObject();Oa=Va(Oa);M.getColumn(va).setHide(!Oa)}N&&M.updateUI(!0)};this.loadRows=function(){var Va=ma,N=Va+1E3-1;N=N>ca?ca:N;Ca(Va,N)};this.appendRows=function(Va,N){Na(Va,N);M.updateUI(!1)};this.lazyAppendRows=function(Va,N){M.lazyAppendData(!0);Na(Va,N);M.lazyAppendData(!1)};var Na=function(Va,N){var za=new KTStyle;za.setColor("#333");za.setBackgroundColor("#fff");
var va=new KTStyle;va.setColor("#333");va.setBackgroundColor("#F3F3F3");for(var Oa=0;Oa<Va;Oa++){var U=1==ma%2?za:va,na=M.addRow();na.setHeight(22);na.setStyle(U);for(U=0;U<M.getColumnsCount();U++){var sa=na.getCell(U);if(0==U)sa.setUserObject(ma);else if(1==U)sa.setValue(ma);else{var pa=N(Oa,U-2);sa.setValue(pa)}}ma++}},Wa=function(){var Va=new KTBorderStyle;Va.setBorderWidth(1);Va.setBorderPen("solid");Va.setBorderColor("#E3E3E3");var N=new KTStyle;N.setVerticalAlign("middle");M.setBorder(Va);M.setStyle(N);
M.setDraggableAdjusting(!0,2,2,new wa);M.setSyncUIWhenModelChanged(!1);M.setLargeDataMode(!0);M.setFrozenRows(2);M.setFrozenColumns(2);M.getCellRender().setOutsideVisible(!1);M.setMergeBlockTextVisibleAlways(!0);var za;M.addScrollToBottomListener(function(){ma<=ca&&(clearTimeout(za),za=setTimeout(da.loadRows,100))})},Ya=function(Va){if(Va){var N=-1,za;M.setCellAcrossListener(function(va,Oa,U,na){Oa=va?Oa:-1;N!=Oa&&(za&&za.empty(),N=Oa,2<=N&&(va=M.getRow(N).getCell(0).getUserObject(),za=na(N,0),Va(za,
va)))})}else M.setCellAcrossListener(null)}};Ba.RuntimePopupSupporter=function(){Ta.call(this);var L=this.protectedMethod,da,ia;this.setup=function(I){L.setup(I)};this.hookAction=function(I,M){da=I;ia=M};this.protectedForward=function(){da()};this.protectedBackward=function(){ia()}};Ba.RuntimePopupDialogSupporter=function(){Ta.call(this);var L=this.protectedMethod,da,ia,I,M;this.setResizedHandler=function(ma){I=ma};this.setPreferredSizeGetter=function(ma){M=ma};this.appendRealFullscreenButton=function(ma){da=
ma;ma=ma.addCustomSubUi();ta.layoutCtrlWithLRTB(ma,null,36,30,6,null,30);L.setup(ma)};this.protectedForward=function(){ia=[L.isRealFullByButton(),da.getBounds()];var ma=ca();da.setBounds(0,0,ma[0],ma[1]);I&&I()};this.protectedBackward=function(){if(ia&&ia[0]){var ma=ia[1];var Ca=ma[0];var oa=ma[1];var Na=ma[2];ma=ma[3]}else oa=ca(),ma=M?M():oa,Ca=Math.max(0,oa[0]-ma[0]>>1),oa=Math.max(0,oa[1]-ma[1]>>1),Na=ma[0],ma=ma[1];da.setBounds(Ca,oa,Na,ma);I&&I()};var ca=function(){var ma=$(document.body),Ca=
ma.prop("clientWidth");ma=ma.prop("clientHeight");return[Ca,ma]}};Ba.MetaFieldSelector=function(){var L=com.kingdee.bos.qing.core.ui.SearchableMetaList,da=this,ia,I=new K;(function(){I.setDropdownCreator(function(M,ca,ma){if(!ia)return[-1,40];var Ca=new L;Ca.setMetaModel(ia);Ca.setSelectedMetaField(da.getSelected(),!0);Ca.requestSelectedVisible();Ca.addPressedListener(function(oa,Na){(oa=Ca.getSelectedLeafMetaField())&&ma(oa)});ca=Ca.getJqUi();ta.layoutCtrlWithLRTB(ca,0,0,null,0,0,null);ca.appendTo(M);
return[-1,21*Math.max(4,Ca.getVisibleItemsCount()+1)]});I.setCustomPainter(function(M,ca){ca.text(M?M.getFullDisplayName():"")})})();this.getJqUi=function(){return I.getJqUi()};this.setModel=function(M,ca){if(ca){for(var ma={},Ca=0;Ca<ca.length;Ca++)ma[ca[Ca]]=!0;for(Ca=0;Ca<M.getTableCount();Ca++){ca=M.getTable(Ca);for(var oa=ca.getFieldCount()-1;0<=oa;oa--){var Na=ca.getField(oa);ma[Na.getDataType()]||ca.removeField(oa)}}}ia=M};this.setSelected=function(M){M=M?ia.searchMetaField(M):null;I.setSelectedModel(M)};
this.getSelected=function(){var M=I.getSelectedModel();return M?M.getFullName():null};this.setSelectedListener=function(M){I.addSelectionListener(function(ca,ma){ma&&M(da.getSelected())})};this.setEnabled=function(M){I.setEnabled(M)}};Ba.LinkageHelper=new function(){this.makeItemDisplay=function(da){da=da.getUsableDisplayName();var ia=Ha.get("linkageJumpTo","\u8054\u67e5\u5230#1");return ia=ia.replace("#1",da)};this.makeDetailDataLinkageCaption=function(da){var ia=Ha.get("linkageFromDetailRow","\u7b2c#1\u884c\uff0c\u5355\u636e\u8054\u67e5\uff1a");
return ia=ia.replace("#1",da)};this.jumpToEditUi=function(da,ia,I,M,ca){ia=ia(function(ma){ca(Ha.get("linkageJumping","\u6b63\u5728\u8df3\u8f6c\u5230\u4e1a\u52a1\u754c\u9762")+"...");C.jumpToBizEditUi(da,ma)},function(ma,Ca,oa){switch(ma){case 401202:Ca=Ha.get("linkageJumpingError3","\u7531\u4e8e\u672a\u4f7f\u7528\u5230\u8be5\u8054\u67e5\u76ee\u6807\u7684\u5b57\u6bb5\uff0c\u5f53\u524d\u660e\u7ec6\u6570\u636e\u4e0e\u8be5\u8054\u67e5\u76ee\u6807\u65e0\u5173\u3002");ca(Ca,!1);L(ma+" "+Ca);break;default:L(ma+
"\r\n"+Ca+"\r\n"+oa)}return!0});ia.setShowBlocking(!1);ia.searchDetailRowLinkTargetForeignKeyMember(I,M,da.getForeignKey(),da.getBizUiId())};this.makeJsonLongerClickedContext=function(da){return{forLonger:da}};this.makeJsonSquareClickedContext=function(da){return{forSquare:da.toJsonObject()}};this.jumpToListUi=function(da,ia,I,M,ca,ma,Ca,oa){I=I(function(Na){var Wa=Na.foreignKeyMembersCachedId;Na=Na.linkageMaxNums;0<Na?(Na=Ha.get("confirmGoOnLinkageJump","\u8054\u67e5\u76ee\u6807\u5df2\u8d85\u51fa#1\u6761\u8bb0\u5f55\u7684\u4e0a\u9650\uff0c\u5c06\u65e0\u6cd5\u5217\u51fa\u5168\u90e8\u7ed3\u679c\u3002").replace("#1",
Na),oa(Na,function(Ya){Ya||Ca(Ha.get("linkageJumping","\u6b63\u5728\u8df3\u8f6c\u5230\u4e1a\u52a1\u754c\u9762")+"...");C.jumpToBizListUi(da,Wa,Ya)})):(Ca(Ha.get("linkageJumping","\u6b63\u5728\u8df3\u8f6c\u5230\u4e1a\u52a1\u754c\u9762")+"..."),C.jumpToBizListUi(da,Wa,!1))},function(Na,Wa,Ya){switch(Na){case 401201:Wa=Ha.get("linkageJumpingError1","\u5173\u8054\u5b57\u6bb5\u4e0d\u5b58\u5728\u3002");Ca(Wa,!1);L(Na+" "+Wa);break;case 402202:Wa=Ha.get("linkageJumpingError2","\u5173\u8054\u5b57\u6bb5\u65e0\u6cd5\u5efa\u7acb\u5173\u7cfb\u3002");
Ca(Wa,!1);L(Na+" "+Wa);break;case 402200:case 402230:Wa=Ha.get("linkageJumpingError4","\u8054\u67e5\u76ee\u6807\u6ca1\u6709\u6570\u636e\u53ef\u5c55\u793a\u3002")+Na;Ca(Wa,!1);L(Na+" "+Wa);break;default:L(Na+"\r\n"+Wa+"\r\n"+Ya)}return!0});I.setShowBlocking(!1);I.searchLinkTargetForeignKeyMembers(M,ca,ma,ia,da.getForeignKey(),da.getBizUiId())};var L=function(da){window.console&&console.warn(da)}};Ba.AbstractCoveredSlideDownUi=function(){var L,da=this;this.show=function(I){if(L)da.hide();else{L=$("<div>");
L.css("z-index",65535);L.appendTo(I);ta.layoutCtrlWithLRTB(L,0,0,null,0,0,null);I=L.prop("clientWidth");var M=L.prop("clientHeight");I=ia(I,M);M=I.css("height");I.css({height:0});I.appendTo(L);I.animate({height:M},200,function(){da.protectedAfterSlidedDown()})}};var ia=function(I,M){var ca=$("<div>");ca.css("z-index",1);ca.addClass("sa-extra");da.protectedInitJqUi(I,M,ca);return ca};this.protectedInitJqUi=function(I,M,ca){throw Error("Implement");};this.protectedAfterSlidedDown=function(){};this.hide=
function(){L&&(L.remove(),L=null)};this.protectedMethod={getComfortableSize:function(I,M){var ca=Math.max(.1,Math.min(.6,I/window.screen.width));I=parseInt((-.7*ca+1.02)*I);ca=Math.max(.1,Math.min(.6,M/window.screen.height));M=parseInt((-.7*ca+1.02)*M);return[I,M]},createPromptLabel:function(I){var M=$("<div>");M.text(I);M.css({color:"#666","text-align":"center"});ta.layoutCtrlWithLRTB(M,4,4,null);ta.layoutCtrlMiddleAlign(M,20);return M},initManualClosable:function(I){L&&L.on("click",function(M){I.animate({height:0},
200,function(){da.hide()})})},getJqModalLayer:function(){return L}}};Ba.ExecutingProgressParser=new function(){ua.call(this);var L=this.protectedMethod;this.getWaitingText=function(){return Ha.get("executingWaiting","\u65b9\u6848\u6267\u884c\u4e2d")};this.makeUiCreator=function(da){return function(ia){var I=da.period;if("JOIN"==I){if(ia)ia=da.totalMs||0,ia=Ha.get("tableJoinWaitingPrompt","\u6b63\u5728\u5173\u8054\u8868\uff0c\u8017\u65f6#1\u79d2\u3002").replace("#1",L.msToSeconds(ia)),I=$("<span>"),
I.text(ia),ia=I;else{ia=L.createJqTable();I=da.joins;for(var M=0;M<I.length;M++){var ca=I[M],ma=ca.left,Ca=ca.right,oa=ca.usedMs;if(ca.finished){ca=L.getDisplayFinished();var Na="";oa=L.letMeFinished}else oa?(ca=Ha.get("tableJoining","\u5173\u8054\u4e2d"),Na=L.getDisplaySeconds(L.msToSeconds(oa)),oa=L.letMeWaiting):(ca=L.getDisplayPending(),Na="",oa=L.letMePending);var Wa=L.createJqTr(ia,1<I.length);L.letMeLeft(L.createJqTd(Wa,ma));L.letMeNoWrap(L.createJqTd(Wa,Ha.get("tableJoin","\u5173\u8054")));
L.letMeLeft(L.createJqTd(Wa,Ca));L.letMeNoWrap(oa(L.createJqTd(Wa,ca)));L.letMeNoWrap(L.letMeRight(L.createJqTd(Wa,Na)))}}return ia}if("EXEC"==I)return ia?(ia=da.totalMs||0,ia=Ha.get("executingWaitingPrompt","\u7d2f\u8ba1\u8017\u65f6#1\u79d2\u3002").replace("#1",L.msToSeconds(ia)),I=$("<span>"),I.text(ia),ia=I):((ia=da.visualEngine)?(M=ia.usedMs||0,ia=Ha.get("executingWaitingPromptB1","\u53ef\u89c6\u5316\u5f15\u64ce\u8017\u65f6#1\u79d2\u3002"),ia=ia.replace("#1",L.msToSeconds(M))):(ia=da.cubeEngine,
I=ia.visitedDataRows||0,M=ia.usedMs||0,ia=Ha.get("executingWaitingPromptA1","\u6570\u636e\u8bbf\u95ee\u81f3#2\u884c\uff0c\u7d2f\u8ba1\u8017\u65f6#1\u79d2\u3002"),ia=ia.replace("#1",L.msToSeconds(M)),ia=ia.replace("#2",I)),I=$("<span>"),I.text(ia),ia=I),ia;console&&console.log("Invalid progress model: "+JSON.stringify(da));return $("<span>")}}};Ba.ConsumingStatistics=function(){ua.call(this);var L=this.protectedMethod,da=!1;this.setEmbeded=function(ma){da=ma};this.parse=function(ma,Ca,oa){var Na=$("<div>");
Na.css({"background-color":"#fff",padding:"10px",overflow:"auto"});if(ma){var Wa=Na.append;var Ya=ma.tables;if(0==Ya.length)Ya=$("<div>"),Ya.text("\u6ca1\u6709\u53d1\u751f\u5b9e\u65f6\u6570\u636e\u63d0\u53d6\u3002");else{var Va=ma.totalMs;ma=$("<div>");ma.text("\u6570\u636e\u51c6\u5907\uff0c\u603b\u5171\u8017\u65f6\uff1a#1 \u79d2\u3002".replace("#1",M(Va)));var N=[["\u6570\u636e\u8868"],["\u7c7b\u578b"],["\u6267\u884c\u53d6\u6570(\u79d2)",!0],["\u5199\u5165\u6570\u636e\u6587\u4ef6(\u79d2)",!0],["\u8bfb\u53d6\u884c\u6570",
!0],["\u5199\u5165\u884c\u6570",!0]];Va=L.createJqTable();for(var za=L.letMeBold(L.createJqTr(Va,!0)),va=0;va<N.length;va++){var Oa=N[va][1],U=L.createJqTd(za,N[va][0]);Oa&&I(U)}for(va=0;va<Ya.length;va++){za=Ya[va];N=za.name;Oa=za.items;for(var na=Oa.length,sa=0;sa<na;sa++){za=Oa[sa];var pa=za.type,Ra=za.exeMs,Y=za.rwMs;U=za.finished?!0:!1;var J=za.readRows,ka=za.writeRows;za=L.createJqTr(Va,sa==na-1);!U&&L.letMePending(za);0==sa&&(U=L.createJqTd(za,N),1<na&&(U.attr("rowspan",na),U.css("vertical-align",
"top")));L.createJqTd(za,pa);I(L.createJqTd(za,Ra||0===Ra?M(Ra):""));I(L.createJqTd(za,Y||0===Y?M(Y):""));I(L.createJqTd(za,ca(J)));I(L.createJqTd(za,ca(ka)))}}L.createJqTr(Va,!1).append($("<td>"));Ya=$("<div>");Ya.append(ma);Ya.append(Va);da||(ma=Ya,Va=ma.append,va=$("<li>"),va.text("\u5982\u679c\u4e0a\u8868\u7684\u8bfb\u53d6\u884c\u6570\u8fdc\u8fdc\u5927\u4e8e\u5199\u5165\u884c\u6570\uff0c\u53ef\u68c0\u67e5\u201c\u6570\u636e\u51c6\u5907\u201d\u8bbe\u7f6e\u4e2d\u7684\u8fc7\u6ee4\u9879\uff0c\u907f\u514d\u4f7f\u7528\u8ba1\u7b97\u5b57\u6bb5\u3001\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u8fc7\u7684\u5b57\u6bb5\u505a\u8fc7\u6ee4\u3002"),
za=$("<li>"),za.text("\u5982\u679c\u754c\u9762\u957f\u65f6\u95f4\u505c\u987f\u5728\u201c\u6570\u636e\u51c6\u5907\u4e2d\u201d\uff0c\u53ef\u80fd\u9700\u8981\u8003\u8651\u5728\u4e1a\u52a1\u4e3b\u9898\u7684\u201c\u6570\u636e\u51c6\u5907\u201d\u8bbe\u7f6e\u4e2d\u9009\u62e9\u201c\u5b9a\u65f6\u9884\u63d0\u53d6\u201d\u3002"),N=$("<ul>"),N.append(va),N.append(za),Va.call(ma,N))}Wa.call(Na,Ya);Na.append("<br>");if(Ca){Wa=Na.append;Ya=$("<div>");if(za=Ca.finished?!0:!1)if((ma=Ca.joins)&&0!=ma.length){U="\u6570\u636e\u5f15\u64ce\u8fdb\u884c\u8868\u5173\u8054\uff0c\u8017\u65f6 #1 \u79d2\u3002".replace("#1",
M(Ca.totalMs));Ya.text(U);za=[["\u5de6\u8868"],["JOIN"],["\u53f3\u8868"],["\u8017\u65f6(\u79d2)",!0],["\u5de6\u8868\u884c\u6570",!0],["\u53f3\u8868\u884c\u6570",!0],["\u8fde\u63a5\u540e\u884c\u6570",!0]];Ca=L.createJqTable();va=L.letMeBold(L.createJqTr(Ca,!0));for(Va=0;Va<za.length;Va++)U=za[Va][0],N=za[Va][1],U=L.createJqTd(va,U),N&&I(U);for(Va=0;Va<ma.length;Va++)va=ma[Va],za=va.finished?!0:!1,N=va.left,U=va.right,Oa=va.usedMs,na=va.leftJoined,sa=va.rightJoined,pa=va.join,Ra=va.leftRows,Y=va.rightRows,
J=va.rows,va=L.createJqTr(Ca,!0),!za&&L.letMePending(va),ia(L.createJqTd(va,N),na),L.createJqTd(va,pa),ia(L.createJqTd(va,U),sa),I(L.createJqTd(va,Oa?Oa||0===Oa?M(Oa):"":"\u7f13\u5b58")),I(L.createJqTd(va,ca(Ra))),I(L.createJqTd(va,ca(Y))),I(L.createJqTd(va,ca(J)));ma=$("<div>");ma.append(Ya);ma.append(Ca);da||(Ca=ma.append,Ya=$("<li>"),Ya.text("\u5982\u679c\u957f\u65f6\u95f4\u8868\u5173\u8054\uff0c\u53ef\u68c0\u67e5\u201c\u6570\u636e\u51c6\u5907\u201d\u8bbe\u7f6e\u4e2d\u7684\u8868\u95f4\u5173\u7cfb\uff0c\u907f\u514d\u5173\u8054\u8868\u4e24\u8fb9\u90fd\u201c\u4fdd\u7559\u65e0\u6cd5\u5173\u8054\u7684\u884c\u201d\u3002"),
Va=$("<ul>"),Va.append(Ya),Ca.call(ma,Va));Ca=ma}else Ya.text("\u6ca1\u6709\u8868\u5173\u8054\u3002"),Ca=Ya;else Ya.text("\u8868\u5173\u8054\uff0c\u6ca1\u6709\u6b63\u5e38\u5b8c\u6210\u3002"),Ca=Ya;Wa.call(Na,Ca);Na.append("<br>");oa?(Ca=Na.append,Wa=$("<div>"),Ya=!1,oa.finished&&(ma=oa.totalMs,oa=oa.cubeEngine)&&(Ya=!0,oa=oa.visitedDataRows,ma="\u6267\u884c\u65b9\u6848\uff0c\u8bbf\u95ee\u6570\u636e #2 \u884c\uff0c\u591a\u7ef4\u8ba1\u7b97\u5f15\u64ce\u3001\u53ef\u89c6\u5316\u5f15\u64ce\u5171\u8017\u65f6 #1 \u79d2\u3002".replace("#1",
M(ma)),ma=ma.replace("#2",oa),Wa.text(ma)),Ya||Wa.text("\u6267\u884c\u65b9\u6848\uff0c\u6ca1\u6709\u6b63\u5e38\u5b8c\u6210\u3002"),Ca.call(Na,Wa)):(oa=$("<div>"),oa.text("\u65b9\u6848\u6267\u884c\u672a\u6b63\u5e38\u7ed3\u675f\u3002"),Na.append(oa))}else oa=$("<div>"),oa.text("\u8868\u5173\u8054\u672a\u6b63\u5e38\u7ed3\u675f\u3002"),Na.append(oa)}else oa=$("<div>"),oa.text("\u6570\u636e\u51c6\u5907\u672a\u6b63\u5e38\u7ed3\u675f\u3002"),Na.append(oa);return Na};var ia=function(ma,Ca){if(ma.text()!=
Ca){var oa=$("<div>");oa.text(Ca);oa.css("color","#abc");ma.append(oa)}},I=function(ma){L.letMeNoWrap(L.letMeRight(ma))},M=function(ma){ma+="";var Ca=ma.length;if(3<Ca){var oa=ma.substring(0,Ca-3);ma=ma.substring(Ca-3);return oa+"."+ma}for(oa=Ca;3>oa;oa++)ma="0"+ma;return"0."+ma},ca=function(ma){return ma||0===ma?ma+"":""}}})();(function(){function wa(){var d=this,a=new Z,c,b,e,f,k,h=!1,q,w,F,O,ba,ea,qa,Aa,Za=!1,jb,sb=!1,La,Ka,cb,nb,xa=!1;this.setLost=function(Ga){xa=Ga};this.getTable=function(){return Ka};this.setTable=function(Ga){Ka=Ga};this.addPropertyChangeListener=function(Ga){a.addListener(Ga)};this.removePropertyChangeListener=function(Ga){a.removeListener(Ga)};var $a=function(Ga){a.fireEvent(function(lb){lb(new ya(d),Ga)})};this.getFullName=function(){cb||(cb=n.encodeFullName(Ka.getName(),c));return cb};this.getFullDisplayName=
function(){nb||(nb=n.encodeFullName(d.getParentDisplayName(),b));return nb};this.getParentDisplayName=function(){var Ga=Ka.searchSubViewContainsField(d);return Ga?Ga.getDisplayName():Ka.getDisplayName()};this.setPureName=function(Ga){c=Ga;cb=null};this.getPureName=function(){return c};this.setDisplayName=function(Ga){b!=Ga&&(b=Ga,nb=null,$a(wa.KEY_DISPLAYNAME))};this.getDisplayName=function(){return b};this.getComplexText=function(){return" ["+d.getDisplayName()+"] "};this.setDataType=function(Ga){e=
Ga};this.getDataType=function(){return e};this.setFormatString=function(Ga){f!=Ga&&(f=Ga,$a(wa.KEY_FORMATSTRING))};this.getFormatString=function(){return f};this.setFiscalYearStart=function(Ga){k!=Ga&&(k=Ga,$a(wa.KEY_FISCALYEARSTART))};this.getFiscalYearStart=function(){return k};this.getSortAccording=function(){return ba};this.getCustomOrder=function(){return ea};this.isOrderDefined=function(){return ba||ea};this.defineOrder=function(Ga,lb){ba=Ga;ea=lb;$a(wa.KEY_SORTACCORDING)};this.setFormula=function(Ga){qa!=
Ga&&(qa=Ga,$a(wa.KEY_FORMULA))};this.getFormula=function(){return qa};this.getFormulaDependence=function(){return Aa};this.setFormulaDependence=function(Ga){Aa=Ga};this.getFormulaAggStatus=function(){return jb};this.setFormulaAggStatus=function(Ga){jb!=Ga&&(jb=Ga,$a(wa.KEY_FORMULA))};this.isRelativeAggregation=function(){return jb==wa.FORMULA_STATUS_AGG||jb==wa.FORMULA_STATUS_INTERLINE||jb==wa.FORMULA_STATUS_WITHTOTAL||La};this.isInvalid=function(){return Za};this.setInvalid=function(Ga){Za!=Ga&&
(Za=Ga,$a(wa.KEY_FORMULA))};this.setHierachy=function(Ga){w=Ga};this.getHierachy=function(){return w};this.isUserCreated=function(){return sb};this.setUserCreated=function(Ga){sb=Ga};this.isPreAgg=function(){return La};this.isHide=function(){return h};this.getGroupName=function(){return q};this.isParentChildDimension=function(){return q?!0:!1};this.isCanAsDimension=function(){return d.isRelativeAggregation()?!1:!0};this.isCanAsMeasure=function(){return!0};this.getDimensionNecessity=function(){return F};
this.isNecessaryDimension=function(){if(d.isParentChildDimension()){var Ga=Ka.getParentChildDimensionByName(q);if(null!=Ga)return Ga.isNecessaryDimension()}else if(hb.isNecessary(F))return!0;return!1};this.getCustomPeriod=function(){return O};this.mergeFrom=function(Ga){b=Ga.getDisplayName();e=Ga.getDataType();q=Ga.getGroupName();F=Ga.getDimensionNecessity();h=Ga.isHide();O=Ga.getCustomPeriod();La=Ga.isPreAgg()};this.clone=function(){var Ga=new wa;Ga.fromJsonObject(d.toJsonObject());Ga.setInvalid(Za);
Ga.setFormulaAggStatus(jb);return Ga};this.fromJsonObject=function(Ga){nb=cb=null;c=Ga.name;b=Ga.displayName;e=Ga.dataType;f=Ga.formatString;var lb=parseInt(Ga.fiscalYearStart);lb&&(k=lb);ba=Ga.sortAccording;ea=Ga.customOrder;if(lb=Ga.formula)qa=lb,Aa=Ga.dependence,Za="true"==Ga.invalid?!0:!1,jb=Ga.formulaAggStaus;sb="true"==Ga.userCreated?!0:!1;"true"==Ga.preAgg&&(La=!0);h="true"==Ga.hide?!0:!1;q=Ga.group;F=Ga.necessary;O=(Ga=Ga.customPeriod)?Ga:null};this.toJsonObject=function(){var Ga={};Ga.name=
c;Ga.displayName=b;Ga.dataType=e;Ga.formatString=f;k&&(Ga.fiscalYearStart=k);ba&&(Ga.sortAccording=ba);ea&&(Ga.customOrder=ea);qa&&(Ga.formula=qa,Ga.dependence=Aa);sb&&(Ga.userCreated="true");La&&(Ga.preAgg="true");h&&(Ga.hide="true");q&&(Ga.group=q);F&&(Ga.necessary=F);O&&(Ga.customPeriod=O);xa&&(Ga.lost=!0);return Ga}}function Ta(d){var a=this,c=d,b,e,f=[],k,h=new Z,q,w;this.addSthChangedListener=function(La){h.addListener(La)};this.removeSthChangedListener=function(La){h.removeListener(La)};this.removeAllSthChangedListener=
function(){h.removeAllListener()};var F=function(La,Ka){h.fireEvent(function(cb){cb(a,La,Ka)})},O=function(La,Ka){F(Ka,La)};this.getName=function(){return c};this.getDisplayName=function(){return b};this.getParentName=function(){return e};this.getFieldCount=function(){return f.length};this.getField=function(La){return f[La]};this.insertField=function(La,Ka){f.splice(Ka,0,La);ba(La);F()};var ba=function(La){La.addPropertyChangeListener(O);La.setTable(a)};this.removeField=function(La){if(0>La||La>=
f.length)throw Error("Illegal arguments.");La=f.splice(La,1)[0];La.removePropertyChangeListener(O);La.setTable(null);F()};this.searchMetaField=function(La){var Ka;ea(f,function(cb){return La==cb.getPureName()?(Ka=cb,!0):!1});return Ka};this.isAnyCalculationFieldExist=function(){var La=!1;ea(f,function(Ka){return Ka.getFormula()?La=!0:!1});return La};var ea=function(La,Ka){for(var cb=0;cb<La.length&&!Ka(La[cb]);cb++);};this.searchHierachy=function(La){var Ka=-1,cb=null;ea(f,function(nb){if(nb=nb.getHierachy())for(var xa=
0;xa<nb.length;xa++)if(La==nb[xa])return Ka=xa,cb=nb,!0;return!1});return 0<=Ka?[cb,Ka]:null};this.getParentChildDimensionByName=function(La){if(k)for(var Ka=0;Ka<k.length;Ka++)if(k[Ka].getName()==La)return k[Ka];return null};this.getNecessaryParentChildDimensions=function(){var La=[];if(k)for(var Ka=0;Ka<k.length;Ka++){var cb=k[Ka];cb.isNecessaryDimension()&&La.push(cb)}return La};this.getDimensionNecessityMetaFields=function(){var La=[];if(k)for(var Ka=0;Ka<k.length;Ka++){var cb=k[Ka];cb.getDimensionNecessity()&&
(cb=a.searchMetaField(cb.getIdFieldName()),La.push(cb))}for(Ka=0;Ka<f.length;Ka++)cb=f[Ka],cb.getDimensionNecessity()&&La.push(cb);return La};this.hasSubViews=function(){return q&&0<q.length};this.getSubViews=function(La){!q&&La&&(q=[]);return q};this.getViewItems=function(La){!w&&La&&(w=[]);return w};this.traversalSubViews=function(La){qa(q,La)};var qa=function(La,Ka){for(La=La.slice();0<La.length;){var cb=La.shift();if(Ka(cb))break;(cb=cb.getSubViews())&&(La=La.concat(cb.slice()))}};this.updateFieldAtView=
function(La,Ka,cb,nb,xa){var $a=w;cb&&q&&a.traversalSubViews(function(zb){var Rb=!1;zb.getName()==cb&&($a=zb.getViewItems(!0),Rb=!0);return Rb});var Ga=-1;if($a){var lb=$a;if(nb)for(var ub=0;ub<$a.length;ub++){var Ab=$a[ub];if(Ab instanceof ta&&Ab.getName()==nb){lb=Ab.getFieldNames();break}}if(Ka)xa="number"==typeof xa&&0<=xa?xa:lb.length,lb.splice(xa,0,La);else for(ub=lb.length-1;0<=ub;ub--)lb[ub]==La&&(lb.splice(ub,1),Ga=ub)}return Ga};this.searchSubViewContainsField=function(La,Ka){if(!q)return null;
var cb=La.getPureName(),nb=null;a.traversalSubViews(function(xa){var $a=!1,Ga;a:{if(Ga=xa.getViewItems())for(var lb=0;lb<Ga.length;lb++){var ub=Ga[lb];if(ub==cb){Ga=!0;break a}else if(ub instanceof ta)for(var Ab=ub.getFieldNames(),zb=0;zb<Ab.length;zb++)if(cb==Ab[zb]){Ka&&(Ka[0]=ub);Ga=!0;break a}}Ga=!1}Ga&&(nb=xa,$a=!0);return $a});return nb};this.carryOut=function(){return[f,k,q,w]};this.mergeFrom=function(La){b=La.getDisplayName();e=La.getParentName();var Ka=La.carryOut(),cb=Ka[0];La=Ka[2];var nb=
Ka[3];k=Ka[1];var xa=[],$a=[];for(Ka=0;Ka<cb.length;Ka++){for(var Ga=cb[Ka],lb,ub=!1,Ab=0;Ab<f.length;Ab++)if(lb=f[Ab],lb.getPureName()==Ga.getPureName()){lb.mergeFrom(Ga);ub=xa[Ab]=!0;break}ub||(lb=Ga.clone(),lb.setTable(a));$a.push(lb)}for(Ka=0;Ka<f.length;Ka++)xa[Ka]||(lb=f[Ka],lb.isUserCreated()&&$a.push(lb));f=$a;cb={};for(Ka=0;Ka<f.length;Ka++)lb=f[Ka],cb[lb.getPureName()]=lb;if((q=Za(q,La,cb))||nb){!w&&(w=[]);for(var zb in cb)w.push(zb);w=Aa(w,nb,cb)}else w=null};var Aa=function(La,Ka,cb){var nb=
{},xa=null;if(Ka){xa=[];for(var $a=0;$a<Ka.length;$a++){var Ga=Ka[$a];if(Ga instanceof ta){var lb={},ub=Ga.clone(lb);xa.push(ub);nb[Ga.getName()]=[ub,lb]}else xa.push(Ga),nb[Ga]=!0}}if(La)for($a=0;$a<La.length;$a++)if(Ga=La[$a],Ga instanceof ta){if(lb=nb[Ga.getName()]){ub=lb[0];lb=lb[1];Ga=Ga.getFieldNames();for(var Ab=0;Ab<Ga.length;Ab++){var zb=Ga[Ab];lb[zb]||((Ka=cb[zb])&&Ka.isUserCreated()&&ub.getFieldNames().push(zb),delete cb[zb])}}}else nb[Ga]||((Ka=cb[Ga])&&Ka.isUserCreated()&&(!xa&&(xa=[]),
xa.push(Ga)),delete cb[Ga]);return xa},Za=function(La,Ka,cb){if(!Ka)return null;for(var nb=[],xa=0;xa<Ka.length;xa++)nb.push(Ka[xa].clone());if(!La)return nb;qa(nb,function($a){var Ga=$a.getName(),lb=null;qa(La,function(Ab){var zb=!1;Ga==Ab.getName()&&(lb=Ab.getViewItems(),zb=!0);return zb});var ub=Aa(lb,$a.getViewItems(),cb);$a.carryInViewItem(ub)});return nb};this.clone=function(){for(var La=[],Ka=0;Ka<f.length;Ka++)La.push(f[Ka].clone());var cb;k&&(cb=jb(sb(k)));if(q){var nb=[];for(Ka=0;Ka<q.length;Ka++)nb.push(q[Ka].clone())}if(w){var xa=
[];for(Ka=0;Ka<w.length;Ka++){var $a=w[Ka];$a instanceof ta?($a=$a.clone(),xa.push($a)):xa.push($a)}}Ka=new Ta;Ka.carryIn(c,b,e,La,cb,nb,xa);return Ka};this.carryIn=function(La,Ka,cb,nb,xa,$a,Ga){c=La;b=Ka;e=cb;f=nb;k=xa;for(La=0;La<f.length;La++)ba(f[La]);q=$a;w=Ga};this.fromJsonObject=function(La){c=La.name;b=La.displayName;e=La.parentName;var Ka=La.fields,cb=[];if(Ka&&0<Ka.length)for(var nb=0;nb<Ka.length;nb++){var xa=Ka[nb],$a=new wa;$a.fromJsonObject(xa);ba($a);cb.push($a)}f=cb;k=jb(La.parentChildDimensions);
Ba.itemsFromJsonObject(a,La);Ba.subViewsFromJsonObject(a,La)};var jb=function(La){if(La&&0<La.length){for(var Ka=[],cb=0;cb<La.length;cb++){var nb=La[cb],xa=new hb;xa.fromJsonObject(nb);Ka.push(xa)}return Ka}return null};this.toJsonObject=function(){var La={};La.name=c;La.displayName=b;e&&(La.parentName=e);for(var Ka=f,cb=[],nb=0;nb<Ka.length;nb++){var xa=Ka[nb].toJsonObject();cb.push(xa)}La.fields=cb;k&&(La.parentChildDimensions=sb(k));Ba.itemsToJsonObject(a,La);Ba.subViewsToJsonObject(a,La);return La};
var sb=function(La){for(var Ka=[],cb=0;cb<La.length;cb++){var nb=La[cb].toJsonObject();Ka.push(nb)}return Ka}}function Ba(d,a,c){var b=this,e,f;this.getName=function(){return d};this.getDisplayName=function(){return a};this.getDisplayAs=function(){return c};this.getSubViews=function(k){!e&&k&&(e=[]);return e};this.getViewItems=function(k){!f&&k&&(f=[]);return f};this.carryInViewItem=function(k){f=k};this.clone=function(){var k=new Ba(d,a,c);if(e)for(var h=0;h<e.length;h++){var q=e[h];k.getSubViews(!0).push(q.clone())}if(f)for(h=
0;h<f.length;h++)q=f[h],q instanceof ta?k.getViewItems(!0).push(q.clone()):k.getViewItems(!0).push(q);return k};this.fromJsonObject=function(k){Ba.itemsFromJsonObject(b,k);Ba.subViewsFromJsonObject(b,k)};this.toJsonObject=function(){var k={};Ba.itemsToJsonObject(b,k);Ba.subViewsToJsonObject(b,k);return k}}function ta(d,a){var c=[];this.getName=function(){return d};this.getDisplayName=function(){return a};this.getFieldNames=function(){return c};this.clone=function(b){for(var e=new ta(d,a),f=0;f<c.length;f++){var k=
c[f];e.getFieldNames().push(k);b&&(b[k]=!0)}return e}}function Da(){var d=this,a=[],c,b,e=new Z;this.addChangedListener=function(h){e.addListener(h)};this.removeChangedListener=function(h){e.removeListener(h)};this.removeAllChangedListener=function(){e.removeAllListener()};var f=function(h){e.fireEvent(function(q){q(d,h)})},k=function(h,q,w){f(q)};this.isMultiTableMode=function(){return!(1==a.length&&!a[0].getName())};this.getTableCount=function(){return a.length};this.getTable=function(h){return a[h]};
this.searchTableByName=function(h){for(var q=0;q<a.length;q++){var w=a[q];if(w.getName()==h)return w}return null};this.searchMetaField=function(h){var q=n.decodeFullName(h);h=q[0];q=q[1];return(h=d.isMultiTableMode()?d.searchTableByName(h):d.getTable(0))?h.searchMetaField(q):null};this.isAnyCalculationFieldExist=function(){for(var h=0;h<a.length;h++)if(a[h].isAnyCalculationFieldExist())return!0;return!1};this.getTableTreeLevel=function(h){var q=0;if(h.getParentName())for(;h=d.searchTableByName(h.getParentName());)q++;
return q};this.merge=function(h){for(var q=[],w=0;w<h.getTableCount();w++){for(var F=h.getTable(w),O,ba=!1,ea=0;ea<a.length;ea++)if(O=a[ea],O.getName()==F.getName()){O.mergeFrom(F);ba=!0;break}ba||(O=F.clone(),O.addSthChangedListener(k));q.push(O)}a=q;d.setEliminations(h.getEliminations());b=h.getSrcMode();f()};this.getSrcMode=function(){return b};this.isMdOfSrcMode=function(){return"MD"==b};this.isPreaggOfSrcMode=function(){return"PRE_AGG"==b};this.isNormalSrcMode=function(){return!b||"ER"==b};this.getDimensionNecessityMetaFields=
function(){for(var h=[],q=0;q<a.length;q++)h=h.concat(a[q].getDimensionNecessityMetaFields());return h};this.setEliminations=function(h){c=h};this.getEliminations=function(){return c};this.getEliminationKeyMetaFields=function(){var h=[];if(c&&0<c.length)for(var q=0;q<c.length;q++){var w=c[q].getKeyFieldName();w=d.searchMetaField(w);h.push(w)}return h};this.carryIn=function(h,q){a=h;for(h=0;h<a.length;h++)a[h].addSthChangedListener(k);b=q};this.createExecutingCopy=function(h){for(var q=[],w={},F=0;F<
h.length;F++){var O=h[F],ba=O.getTable();if(ba){var ea=ba.getName(),qa=w[ea];if(!qa){qa=[];var Aa=ba.carryOut()[1],Za=new Ta;Za.carryIn(ea,ba.getDisplayName(),null,qa,Aa);w[ea]=qa;q.push(Za)}qa.push(O)}}h=new Da;h.carryIn(q,b);h.setEliminations(c);return h};this.copy=function(){var h=new Da;h.fromJsonObject(d.toJsonObject());return h};this.fromJsonObject=function(h){a=[];for(var q=h.tables,w=0;w<q.length;w++){var F=q[w],O=new Ta;O.fromJsonObject(F);O.addSthChangedListener(k);a.push(O)}if(q=h.eliminations){w=
[];for(F=0;F<q.length;F++){O=q[F];var ba=new fb;ba.fromJsonObject(O);w.push(ba)}q=w}else q=null;c=q;b=h.src};this.toJsonObject=function(){for(var h=[],q=0;q<a.length;q++)h.push(a[q].toJsonObject());q={};q.tables=h;if(c){h=c;for(var w=[],F=0;F<h.length;F++)w.push(h[F].toJsonObject());q.eliminations=w}b&&(q.src=b);return q}}function Ha(d){var a=this,c=[],b={};this.getUsingMetaFields=function(){return c};this.checkField=function(f){if(e(f)&&d){var k=f.getFormulaDependence();if(k)for(var h=0;h<k.length;h++){var q=
d.searchMetaField(k[h]);q&&a.checkField(q)}f.getGroupName()&&(k=f.getTable(),h=k.getParentChildDimensionByName(f.getGroupName()),null!=h&&(q=n.encodeFullName(k.getName(),h.getIdFieldName()),e(d.searchMetaField(q)),q=n.encodeFullName(k.getName(),h.getParentFieldName()),e(d.searchMetaField(q))));f.getSortAccording()&&(f=d.searchMetaField(f.getSortAccording()))&&a.checkField(f)}};var e=function(f){return b[f.getFullName()]?!1:(c.push(f),b[f.getFullName()]=!0)}}function fb(){var d,a;this.getKeyFieldName=
function(){return d};this.toJsonObject=function(){var c={};c.idField=d;c.associatedFields=a;return c};this.fromJsonObject=function(c){d=c.idField;a=c.associatedFields}}function hb(){var d,a,c,b,e,f,k;this.getName=function(){return d};this.getAlias=function(){return a};this.getIdFieldName=function(){return c};this.getParentFieldName=function(){return b};this.getDisplayFieldName=function(){return e};this.getDimensionNecessity=function(){return k};this.isNecessaryDimension=function(){return hb.isNecessary(k)};
this.fromJsonObject=function(h){d=h.name;a=h.alias;c=h.idFieldName;b=h.parentIdFieldName;e=h.displayFieldName;f=h.sortAccordingFieldName;k=h.necessary};this.toJsonObject=function(){var h={};h.name=d;h.alias=a;h.idFieldName=c;h.parentIdFieldName=b;h.displayFieldName=e;h.sortAccordingFieldName=f;h.necessary=k;return h}}function K(){var d=this,a=new Z,c,b,e,f,k,h=!0,q,w,F,O,ba,ea,qa=!0,Aa=!1,Za,jb,sb,La;this.addPropertyChangeListener=function(xa){a.addListener(xa)};this.removePropertyChangeListener=
function(xa){a.removeListener(xa)};var Ka=function(xa,$a){var Ga=new ja(d);$a&&Ga.setMetaFieldSubEventTarget($a);a.fireEvent(function(lb){lb(Ga,xa)})};this.clearListener=function(){a.removeAllListener();e.removePropertyChangeListener(nb)};this.setMetaField=function(xa){e&&e.removePropertyChangeListener(nb);e=xa};this.getMetaField=function(){return e};this.getId=function(){return f};this.setId=function(xa){f=xa};this.setNumberFormat=function(xa){q!=xa&&(q=xa,Ka(K.KEY_NUMBERFORMAT))};this.getNumberFormat=
function(){return q?q:e.getFormatString()};this.setDateFormat=function(xa){w!=xa&&(w=xa,Ka(K.KEY_DATEFORMAT))};this.getDateFormat=function(){return w};this.setContinuousColor=function(xa){F=xa;Ka(K.KEY_CONTINUOUSCOLOR)};this.getContinuousColor=function(){return F};this.setDiscreteColor=function(xa){O=xa;Ka(K.KEY_DISCRETECOLOR)};this.getDiscreteColor=function(){return O};this.setRole=function(xa,$a){if(xa!==K.ROLE_DIMENSION&&xa!==K.ROLE_MEASURE)throw Error("Illegal argument: "+xa);if(k!=xa||ba!=$a)k=
xa,ba=$a?$a:null,Ka(K.KEY_ROLE)};this.getRole=function(){return k};this.isDimension=function(){return k==K.ROLE_DIMENSION?!0:!1};this.isMeasure=function(){return k==K.ROLE_MEASURE?!0:!1};this.setContinuous=function(xa){h=xa};this.isContinuous=function(){return h};this.getAggregation=function(){return ba};this.setTotalUsing=function(xa){ea!=xa&&(ea=xa,Ka(K.KEY_TOTALUSING))};this.getTotalUsing=function(){return ea};this.setTotalDisplayHidden=function(xa){xa=!xa;qa!=xa&&(qa=xa,Ka(K.KEY_TOTALDISPLAY))};
this.isTotalDisplayHidden=function(){return!qa};this.setShowSubtotal=function(xa){Aa!=xa&&(Aa=xa,Ka(K.KEY_SUBTOTAL))};this.isShowSubtotal=function(){return Aa};this.setPartValue=function(xa){Za!=xa&&(Za=xa,Ka(K.KEY_PARTVALUE))};this.getPartValue=function(){return Za};this.setSort=function(xa){jb!=xa&&(jb=xa,Ka(K.KEY_SORT))};this.getSort=function(){return jb};this.setQuickSetup=function(xa){sb!=xa&&(sb=xa,Ka(K.KEY_QUICKSETUP))};this.getQuickSetup=function(){return sb};this.setDisplayName=function(xa){La!=
xa&&(La=xa,Ka(K.KEY_DISPLAYNAME))};this.getDisplayName=function(){return La};this.getText=function(){return La?La:cb(e.getDisplayName())};var cb=function(xa){if(k==K.ROLE_DIMENSION){var $a=Za?K.partValueToString(Za):null;return($a?$a+":":"")+xa}if(k==K.ROLE_MEASURE)return $a=K.aggregationToString(ba),$a+":"+xa;throw Error("Unknown role: "+k);};this.getTextTooltips=function(){var xa=cb("["+e.getFullDisplayName()+"]");sb&&(xa=xa+"("+K.quickSetupToString(sb),xa+=")");return xa};this.getTextForExhibition=
function(){if(La)return La;var xa=e.getDisplayName(),$a=Za?K.partValueToString(Za):null;return xa+($a?"("+$a+")":"")};this.getComplexText=function(){return" ["+d.getText()+"] "};this.setInvalidPromptListener=function(xa){c=xa};this.getInvalidPrompt=function(){return b};this.setInvalidPrompt=function(xa){var $a=!1;xa.isCancel()?b&&b.getLevel()==xa.getLevel()&&(b=null,$a=!0):b?xa.getLevel()<=b.getLevel()&&(b=xa,$a=!0):(b=xa,$a=!0);$a&&c&&c()};this.isInvalid=function(){return b?!0:!1};var nb=function(xa,
$a){if($a==wa.KEY_FORMATSTRING)Ka($a,xa),q||Ka(K.KEY_NUMBERFORMAT,xa);else if($a==wa.KEY_FISCALYEARSTART||$a==wa.KEY_SORTACCORDING)Ka($a,xa);else if($a==wa.KEY_DISPLAYNAME||$a==wa.KEY_FORMULA)e.getDataType()==wa.DT_DATE?!Za&&d.setPartValue(K.PARTVALUE_DATE_YEAR):Za&&(Za=null),Ka(K.KEY_FORMULA,xa)};this.clone=function(){var xa=d.protectedCreateInstance(),$a=d.toJsonObject();xa.fromJsonObject($a,{searchMetaField:function(Ga){return e}});return xa};this.protectedCreateInstance=function(){throw Error("Override me.");
};this.toJsonObject=function(){var xa={};xa.id=f;xa.name=e.getFullName();xa.displayName=La;xa.role=k;xa.isContinuous=h;k==K.ROLE_MEASURE?(xa.aggregation=ba,xa.totalUsing=ea,xa.isTotalDisplay=qa,sb&&(xa.quickSetup=sb)):(Aa&&(xa.isShowSubtotal=!0),Za&&(xa.partValue=Za),jb&&(xa.sort=jb));q&&(xa.numberFormat=q);w&&(xa.dateFormat=w);F&&(xa.continuousColor=F.toJsonObject());O&&(xa.discreteColor=O.toJsonObject());return xa};this.fromJsonObject=function(xa,$a){f=xa.id;var Ga=xa.name;e=$a.searchMetaField(Ga);
La=xa.displayName;if(null==e){var lb=n.decodeFullName(Ga);Ga=lb[0];lb=lb[1];$a=$a.isMultiTableMode()?$a.searchTableByName(Ga):$a.getTable(0);e=new wa;e.setLost(!0);e.setTable($a?$a:new Ta(Ga));e.setPureName(lb);e.setDisplayName(lb);b=new K.InvalidPrompt;b.setLevel(K.InvalidPrompt.LEVEL_META_LOST,!0)}q=($a=xa.numberFormat)?$a:null;w=($a=xa.dateFormat)?$a:null;F=null;if($a=xa.continuousColor)F=new v,F.fromJsonObject($a);O=null;if($a=xa.discreteColor)O=new V,O.fromJsonObject($a);k=xa.role;h=xa.isContinuous;
k==K.ROLE_MEASURE?(ba=xa.aggregation,qa=xa.isTotalDisplay?!0:!1,ea=xa.totalUsing,sb=xa.quickSetup):(Aa=xa.isShowSubtotal?!0:!1,Za=xa.partValue,jb=xa.sort)};this.protectedMethod={bindMetaEvent:function(){e.addPropertyChangeListener(nb)},innerSetDiscreteColor:function(xa){O=xa}}}function ya(d){this.getMetaField=function(){return d};this.toString=function(){return d.constructor.name}}function ja(d){var a;this.getField=function(){return d};this.setMetaFieldSubEventTarget=function(c){a=c};this.getMetaFieldSubEventTarget=
function(){return a};this.toString=function(){return d.constructor.name+(a?"-"+a.toString():"")};this.getSubEventMetaField=function(){return a?a.getMetaField():null}}function ua(){this.fromJsonObject=function(d){throw Error("Override me");};this.updateFromJsonObject=function(d){}}function C(){function d(){var b,e,f=0,k=!1;this.getValue=function(){return b};this.getDisplayText=function(){return e};this.isValueNull=function(){return b==ca.STRING_NULL_VALUE};this.getLevel=function(){return f};this.isSelected=
function(){return k};this.fromJsonObject=function(h){b=h.value;b=void 0==b?ca.STRING_NULL_VALUE:b;e=h.text;f=h.level;k=!1!==h.selected}}ua.call(this);var a=this,c;this.getItems=function(){return c};this.updateFromJsonObject=function(b){a.fromJsonObject(b)};this.fromJsonObject=function(b){c=[];b=b.nodes;for(var e=0;e<b.length;e++){var f=b[e],k=new d;k.fromJsonObject(f);c.push(k)}}}function L(){function d(){var b,e,f=!1;this.getValue=function(){return b};this.getDisplayText=function(){return void 0==
e?b==ca.STRING_NULL_VALUE?"":b:e};this.isValueNull=function(){return b==ca.STRING_NULL_VALUE};this.isSelected=function(){return f};this.fromJsonObject=function(k){b=k.value;b=void 0==b?ca.STRING_NULL_VALUE:b;e=k.text;f=!1!==k.selected}}ua.call(this);var a=this,c;this.getItems=function(){return c};this.updateFromJsonObject=function(b){a.fromJsonObject(b)};this.fromJsonObject=function(b){c=[];b=b.values;for(var e=0;e<b.length;e++){var f=b[e],k=new d;k.fromJsonObject(f);c.push(k)}}}function da(){ua.call(this);
var d=this,a,c,b,e;this.getMin=function(){return a};this.getMax=function(){return c};this.getSelectedMin=function(){return b};this.getSelectedMax=function(){return e};this.updateFromJsonObject=function(f){d.fromJsonObject(f)};this.fromJsonObject=function(f){a=f.min?f.min:0;c=f.max?f.max:0;b=f.selectedMin?f.selectedMin:0;e=f.selectedMax?f.selectedMax:0}}function ia(){ua.call(this);var d=this,a,c;this.getFromDateMs=function(){return a};this.getToDateMs=function(){return c};this.updateFromJsonObject=
function(b){d.fromJsonObject(b)};this.fromJsonObject=function(b){a=b.fromDate?b.fromDate:(new Date).getTime();c=b.toDate?b.toDate:(new Date).getTime()}}function I(){var d;ua.call(this);this.fromJsonObject=function(a){d=a.state};this.getState=function(){return d}}function M(){var d=this,a=!0,c=!1,b=!0,e,f=M.STATE_VALID,k,h=new Z,q=new Z,w=new Z;this.setPreparedModel=function(ea){f=d.protectedCheckPreparedModel(ea);f==M.STATE_VALID&&(k=ea,a&&d.protectedAfterSetFullValue(!0))};this.getPreparedModel=
function(){return k};this.innerCarryPreparedModel=function(ea){k=ea};this.setFullValue=function(ea){a=ea;d.protectedAfterSetFullValue(a);F()};this.isFullValue=function(){return a};this.protectedAfterSetFullValue=function(ea){throw Error("Override me.");};this.setJustShowAffected=function(ea){c!=ea&&(c=ea,ba(M.KEY_AFFECTED))};this.isJustShowAffected=function(){return c};this.setOnShow=function(ea){b!=ea&&(b=ea,ba(M.KEY_ONSHOW))};this.isOnShow=function(){return b};this.updatePreparedModel=function(ea){k&&
(k.updateFromJsonObject(ea),a&&d.protectedAfterSetFullValue(!0),O())};this.setAssociatedField=function(ea){e=ea};this.getAssociatedField=function(){return e};this.toJsonObject=function(){throw Error("Override me");};this.fromJsonObject=function(ea){throw Error("Override me");};this.applySelectedValues=function(ea){throw Error("Override me");};this.addValueChangedListener=function(ea){h.addListener(ea)};this.removeValueChangedListener=function(ea){h.removeListener(ea)};var F=function(){h.fireEvent(function(ea){ea(d)})};
this.addPreparedValueUpdatedListener=function(ea){q.addListener(ea)};this.removePreparedValueUpdatedListener=function(ea){q.removeListener(ea)};var O=function(){q.fireEvent(function(ea){ea(d)})};this.addPropertyChangeListener=function(ea){w.addListener(ea)};this.removePropertyChangeListener=function(ea){w.removeListener(ea)};var ba=function(ea){w.fireEvent(function(qa){qa(d,ea)})};this.getState=function(){return f};this.isStateValid=function(){return f==M.STATE_VALID};this.getStateDisplay=function(){return f==
M.STATE_FIELD_ERROR?S.get("filterFieldInvalid","\u65e0\u6548\u7684\u5b57\u6bb5"):f==M.STATE_PMODEL_UNMATCH?S.get("filterDataTypeUnmatched","\u5b57\u6bb5\u6570\u636e\u7c7b\u578b\u4e0e\u7b5b\u9009\u5668\u4e0d\u5339\u914d"):f};this.checkState=function(ea){(ea=d.protectedCheckStateByField(ea))&&(f=ea)};this.protectedCheckStateByField=function(ea){throw Error("Override");};this.protectedCheckPreparedModel=function(ea){throw Error("Override");};this.copyForSetting=function(){var ea=d.toJsonObject(),qa=
new d.constructor;qa.fromJsonObject(ea);qa.setAssociatedField(d.getAssociatedField());qa.setPreparedModel(d.getPreparedModel());return qa};this.applyFromSetting=function(ea){var qa=ea.toJsonObject();d.fromJsonObject(qa);c&&d.innerCarryPreparedModel(ea.getPreparedModel())};this.protectedMethod={fireValueChangedEvent:F,firePropertyChangeEvent:ba,innerSetFullValue:function(ea){a=ea}}}function ca(){M.call(this);var d=this,a=this.protectedMethod,c=!1,b={},e,f=null;this.applySelectedValues=function(h){b=
{};h=h.values;for(var q=0;q<h.length;q++)b[h[q]]=!0};this.getSelectableItems=function(){var h=d.getPreparedModel();return h?h.getItems():[]};this.setExclude=function(h){c!=h&&(c=h,a.firePropertyChangeEvent(ca.KEY_EXCLUDE),a.fireValueChangedEvent())};this.isExclude=function(){return c};this.abandonExclude=function(){if(c&&d.getPreparedModel()){c=!1;for(var h=!0,q={},w=d.getSelectableItems(),F=0;F<w.length;F++){var O=w[F].getValue();d.isValueSelected(O)?h=!1:q[O]=!0}b=q;a.innerSetFullValue(h)}};this.protectedAfterSetFullValue=
function(h){for(var q=d.getSelectableItems(),w=0;w<q.length;w++){var F=q[w].getValue();h?b[F]=!0:delete b[F]}};this.setSelectedValue=function(h){b={};b[h]=!0;a.innerSetFullValue(!1);a.fireValueChangedEvent()};this.addSelectedValue=function(h){b[h]=!0;k();a.fireValueChangedEvent()};this.getAllSelectedValue=function(){return b};this.removeSelectedValue=function(h){b[h]&&(delete b[h],a.innerSetFullValue(!1),a.fireValueChangedEvent())};this.isValueSelected=function(h){return 1==b[h]};this.cloneAllSelectedValue=
function(){return JSON.parse(JSON.stringify(b))};this.resetAllSelectedValue=function(h){b=h;k();a.fireValueChangedEvent()};var k=function(){for(var h=!0,q=d.getSelectableItems(),w=0;w<q.length;w++)if(!b[q[w].getValue()]){h=!1;break}a.innerSetFullValue(h)};this.isTreeSelectingIncludeSubs=function(){return!1===e?!1:!0};this.setTreeSelectingIncludeSubs=function(h){e=h};this.getCtrlType=function(){return f};this.setCtrlType=function(h,q,w){f=h;q&&(b=q,a.innerSetFullValue(w),a.fireValueChangedEvent());
a.firePropertyChangeEvent(ca.KEY_CTRLTYPE)};this.isSingleValueMode=function(h){h=h?h:f;return h==ca.CTRLTYPE_RADIOBUTTON_LIST||h==ca.CTRLTYPE_RADIOBUTTON_POPUP};this.toJsonObject=function(){var h={};h.name=ca.FILTER_NAME;h.full=d.isFullValue();h.affected=d.isJustShowAffected();h.onShow=d.isOnShow();h.exclude=c;if(d.isFullValue())var q=[];else{q=[];for(var w in b)w=w==ca.STRING_NULL_VALUE?null:w,q.push(w)}h.selected=q;!1===e&&(h.treeSelectingIncludeSubs=!1);f&&(h.ctrl=f);return h};this.fromJsonObject=
function(h){var q=h.full?!0:!1;a.innerSetFullValue(q);b={};if(!q){q=h.selected;for(var w=0;w<q.length;w++)b[null==q[w]?ca.STRING_NULL_VALUE:q[w]]=!0}d.setJustShowAffected(h.affected?!0:!1);d.setOnShow(h.onShow?!0:!1);c=h.exclude?!0:!1;e=!1===h.treeSelectingIncludeSubs?!1:!0;f=h.ctrl};this.protectedCheckStateByField=function(h){var q=h.getMetaField().getDataType(),w=q==wa.DT_STRING&&!h.getPartValue();h=q==wa.DT_DATE&&h.getPartValue();return w||h?null:M.STATE_PMODEL_UNMATCH};this.protectedCheckPreparedModel=
function(h){return null==h?M.STATE_INVALID:h instanceof I?h.getState():h instanceof L||h instanceof C?M.STATE_VALID:M.STATE_PMODEL_UNMATCH}}function ma(){M.call(this);var d=this,a=this.protectedMethod,c,b,e=!0;this.protectedAfterSetFullValue=function(f){f=d.getPreparedModel();c=f.getMin();b=f.getMax()};this.isContainNull=function(){return e};this.setContainNull=function(f){e=f};this.setValue=function(f,k,h){var q=!1;c!=f&&(c=f,q=!0);b!=k&&(b=k,q=!0);e!=h&&(e=h,q=!0);q&&(f=d.getPreparedModel(),f=e&&
c==f.getMin()&&b==f.getMax(),a.innerSetFullValue(f),a.fireValueChangedEvent())};this.getFloor=function(){return c};this.getCeiling=function(){return b};this.getFormatString=function(){return d.getAssociatedField().getNumberFormat()};this.applySelectedValues=function(f){c=f.floor;b=f.ceiling};this.toJsonObject=function(){var f={};f.name=ma.FILTER_NAME;f.full=d.isFullValue();f.affected=d.isJustShowAffected();f.onShow=d.isOnShow();f.floor=c;f.ceiling=b;f.containNull=e;return f};this.fromJsonObject=function(f){a.innerSetFullValue(f.full?
!0:!1);c=f.floor;b=f.ceiling;d.setJustShowAffected(f.affected?!0:!1);d.setOnShow(f.onShow?!0:!1);e=f.containNull};this.protectedCheckStateByField=function(f){return f.getMetaField().getDataType()==wa.DT_NUMBER?null:M.STATE_PMODEL_UNMATCH};this.protectedCheckPreparedModel=function(f){return null==f?M.STATE_INVALID:f instanceof I?f.getState():f instanceof da?M.STATE_VALID:M.STATE_PMODEL_UNMATCH}}function Ca(){M.call(this);var d=this,a=this.protectedMethod,c=!1,b,e,f;this.setValue=function(k,h,q,w){a.innerSetFullValue(!1);
b=k;e=h;f=q;c=w;a.fireValueChangedEvent()};this.isContainNull=function(){return c};this.setContainNull=function(k){c=k};this.getFromDateMs=function(){return b};this.setFromDateMs=function(k){b=k};this.getToDateMs=function(){return e};this.setToDateMs=function(k){e=k};this.getRelativePeriodModel=function(){return f};this.setRelativePeriodModel=function(k){f=k};this.protectedAfterSetFullValue=function(k){k=d.getPreparedModel();b=k.getFromDateMs();e=k.getToDateMs()};this.applySelectedValues=function(k){};
this.copy=function(){var k=null;f&&(k=new X,k.fromJsonObject(f.toJsonObject()));var h=new Ca;h.setValue(b,e,k,c);return h};this.toJsonObject=function(){var k={};k.name=Ca.FILTER_NAME;k.full=d.isFullValue();k.onShow=d.isOnShow();k.containNull=c;k.dateFrom=b;k.dateTo=e;f&&(k.relative=f.toJsonObject());return k};this.fromJsonObject=function(k){a.innerSetFullValue(k.full?!0:!1);d.setJustShowAffected(!1);d.setOnShow(k.onShow?!0:!1);c=k.containNull;b=k.dateFrom;e=k.dateTo;(k=k.relative)?(f=new X,f.fromJsonObject(k)):
f=null};this.protectedCheckStateByField=function(k){return k.getMetaField().getDataType()==wa.DT_DATE?null:M.STATE_PMODEL_UNMATCH};this.protectedCheckPreparedModel=function(k){return null==k?M.STATE_INVALID:k instanceof I?k.getState():k instanceof ia?M.STATE_VALID:M.STATE_PMODEL_UNMATCH}}function oa(){var d=this,a,c,b,e;this.getModel=function(){return a};this.setModel=function(f){a=f};this.getPreferences=function(){return c};this.setPreferences=function(f){c=f};this.getName=function(){return b};this.setName=
function(f){b=f};this.isCurrent=function(){return e};this.setCurrent=function(f){e=f};this.toJsonObject=function(f){var k={};k.type=f.encodeModelPageType(a);k.model=a.toJsonObject();c&&(k.preferences=c.toJsonObject());b&&(k.name=b);e&&(k.current="true");return k};this.fromJsonObject=function(f,k,h){h.decodeModelPageType(f.type,d);a.fromJsonObject(f.model,k);k=f.preferences;c&&k&&c.fromJsonObject(k);b=f.name;e=f.current?!0:!1}}function Na(){var d=this,a,c,b;this.setName=function(e){a=e};this.getName=
function(){return a};this.setDescription=function(e){c=e};this.getDescription=function(){return c};this.setPostScript=function(e){b=e};this.getPostScript=function(){return b};this.copy=function(){var e=d.protectedCopy();e.setName(a);e.setDescription(c);e.setPostScript(b);return e};this.protectedCopy=function(){throw Error("Implement");};this.toJsonObject=function(e){var f={};f.name=a;f.description=c;f.postScript=b;d.protectedToJsonObject(f,e);return f};this.protectedToJsonObject=function(e,f){throw Error("Implement");
};this.fromJsonObject=function(e,f){a=e.name;c=e.description;b=e.postScript;d.protectedFromJsonObject(e,f)};this.protectedFromJsonObject=function(e,f){throw Error("Implement");}}function Wa(){Na.call(this);var d=[],a=[];this.setDimensionPickers=function(e){d=e};this.getDimensionPickers=function(){return d};this.setMeasurePickers=function(e){a=e};this.getMeasurePickers=function(){return a};this.protectedCopy=function(){for(var e=[],f=0;f<d.length;f++){var k=d[f];e.push(k.copy())}var h=[];for(f=0;f<
a.length;f++)k=a[f],h.push(k.copy());f=new Wa;f.setDimensionPickers(e);f.setMeasurePickers(h);return f};this.protectedToJsonObject=function(e,f){e.dimensionPickers=c(d,f);e.measurePickers=c(a,f)};var c=function(e,f){for(var k=[],h=0;h<e.length;h++){var q=e[h];f.isFieldExist(q.getField())&&k.push(q.toJsonObject())}return k};this.protectedFromJsonObject=function(e,f){d=b(e.dimensionPickers,f);a=b(e.measurePickers,f)};var b=function(e,f){for(var k=[],h=0;h<e.length;h++){var q=e[h],w=Wa.createPicker(q.type);
w.fromJsonObject(q,f);w.getField()?k.push(w):window.console&&window.console.warn("Picker fromJson(), field '#1' not found.".replace("#1",q.fieldId))}return k}}function Ya(){var d=this,a,c=!1,b=!1,e;this.setField=function(f){a=f};this.getField=function(){return a};this.getType=function(){throw Error("Implement");};this.setSortAccording=function(f,k){c=f?!0:!1;b=k?!0:!1};this.isSortAccording=function(){return c};this.isSortAsc=function(){return b};this.setOutputTargetIndex=function(f){e=f};this.getOutputTargetIndex=
function(){return e};this.isOutputTarget=function(){return e?!0:!1};this.takeDetail=function(f){};this.copy=function(){var f=d.toJsonObject(),k=Wa.createPicker(d.getType());k.fromJsonObject(f,{searchFieldById:function(h){return d.getField()}});return k};this.toJsonObject=function(){var f={};f.fieldId=a.getId();c&&(f.sortAsc=b);f.outputTarget=e;f.type=d.getType();d.protectedToJsonObject(f);return f};this.protectedToJsonObject=function(f){throw Error("Implement");};this.fromJsonObject=function(f,k){a=
k.searchFieldById(f.fieldId);k=f.sortAsc;!0===k||!1===k?(c=!0,b=k):c=!1;e=f.outputTarget;d.protectedFromJsonObject(f)};this.protectedFromJsonObject=function(f){throw Error("Implement");}}function Va(){Ya.call(this);this.getType=function(){return Wa.PICKER_FULL};this.protectedToJsonObject=function(d){};this.protectedFromJsonObject=function(d){}}function N(){Ya.call(this);var d;this.getType=function(){return Wa.PICKER_CONDITION};this.setScript=function(a){d=a};this.getScript=function(){return d};this.takeDetail=
function(a){d=a.getScript()};this.protectedToJsonObject=function(a){a.conditionScript=d};this.protectedFromJsonObject=function(a){d=a.conditionScript}}function za(){Ya.call(this);var d=1;this.setTopN=function(a){d=a};this.getTopN=function(){return d};this.takeDetail=function(a){d=a.getTopN()};this.protectedToJsonObject=function(a){a.topN=d};this.protectedFromJsonObject=function(a){d=a.topN}}function va(){za.call(this);this.getType=function(){return Wa.PICKER_MAX}}function Oa(){za.call(this);this.getType=
function(){return Wa.PICKER_MIN}}function U(){Na.call(this);var d=[];this.setConditionItems=function(a){d=a};this.getConditionItems=function(){return d};this.protectedCopy=function(){for(var a=[],c=0;c<d.length;c++)a.push(d[c].copy());c=new U;c.setConditionItems(a);return c};this.protectedToJsonObject=function(a,c){c=[];for(var b=0;b<d.length;b++)c.push(d[b].toJsonObject());a.items=c};this.protectedFromJsonObject=function(a,c){a=a.items;d=[];for(var b=0;b<a.length;b++){var e=a[b],f=new na;f.fromJsonObject(e,
c);d.push(f)}}}function na(){var d=0,a,c=0,b;this.getLeftBrackets=function(){return d};this.setLeftBrackets=function(e){d=e};this.getCondition=function(){return a};this.setCondition=function(e){a=e};this.getRightBrackets=function(){return c};this.setRightBrackets=function(e){c=e};this.getLogic=function(){return b};this.setLogic=function(e){b=e};this.copy=function(){var e=new na;e.setLeftBrackets(d);e.setRightBrackets(c);e.setLogic(b);e.setCondition(a.copy());return e};this.toJsonObject=function(){var e=
{};0<d&&(e.leftBrackets=d);0<c&&(e.rightBrackets=c);b&&(e.logic=b);e.condition=a.toJsonObject();return e};this.fromJsonObject=function(e,f){var k=e.leftBrackets;d=k?k:0;c=(k=e.rightBrackets)?k:0;b=(k=e.logic)?k:null;e=e.condition;a=U.createCondition(e.type);a.fromJsonObject(e,f)}}function sa(){var d=this,a,c;this.setEditingAlarm=function(b){c=b};this.getEditingAlarm=function(){return c};this.setField=function(b){a=b};this.getField=function(){return a};this.getType=function(){throw Error("Implement");
};this.isValid=function(){return a&&d.protectedCheckValid()};this.protectedCheckValid=function(){throw Error("Implement");};this.copy=function(){var b=d.toJsonObject(),e=U.createCondition(d.getType());e.fromJsonObject(b,{searchFieldById:function(f){return d.getField()}});return e};this.toJsonObject=function(){var b={};b.fieldId=a?a.getId():"missing";b.type=d.getType();d.protectedToJsonObject(b);return b};this.protectedToJsonObject=function(b){throw Error("Implement");};this.fromJsonObject=function(b,
e){a=e.searchFieldById(b.fieldId);d.protectedFromJsonObject(b)};this.protectedFromJsonObject=function(b){throw Error("Implement");}}function pa(){sa.call(this);var d,a;this.setOperation=function(c){d=c};this.getOperation=function(){return d};this.setComparing=function(c){a=c};this.getComparing=function(){return a};this.getType=function(){return U.CONDITION_NORMAL};this.protectedCheckValid=function(){return d&&(d==U.OP_NULL||d==U.OP_NOT_NULL||a)?!0:!1};this.protectedToJsonObject=function(c){c.op=d;
c.comparing=a};this.protectedFromJsonObject=function(c){d=c.op;a=c.comparing}}function Ra(){sa.call(this);var d;this.getType=function(){return U.CONDITION_CUSTOM};this.setScript=function(a){d=a};this.getScript=function(){return d};this.protectedCheckValid=function(){return d?!0:!1};this.protectedToJsonObject=function(a){a.conditionScript=d};this.protectedFromJsonObject=function(a){d=a.conditionScript}}function Y(){var d,a,c,b;this.getRefToId=function(){return a};this.getFullPath=function(){return c};
this.getRefName=function(){return b};this.toJsonObject=function(){var e={};e.uid=d;e.refToId=a;e.fullPath=c;e.refName=b;return e};this.fromJsonObject=function(e){d=e.uid;a=e.refToId;c=e.fullPath;b=e.refName}}function J(){var d=0,a=J.TYPE_AVG,c,b;this.setMeasureIndex=function(e){d=e};this.getMeasureIndex=function(){return d};this.setType=function(e){a=e};this.getType=function(){return a};this.setValue=function(e){c=e};this.getValue=function(){return c};this.setLabel=function(e){b=e};this.getLabel=
function(){return b};this.copy=function(){var e=new J;e.setMeasureIndex(d);e.setType(a);e.setValue(c);e.setLabel(b);return e};this.toJsonObject=function(){var e={};e.measure=d;e.type=a;c&&(e.value=c);b&&(e.label=b);return e};this.fromJsonObject=function(e){d=e.measure;a=e.type;c=e.value;b=e.label}}function ka(){var d,a=[];this.getPresetName=function(){return d};this.setColors=function(c){a=c};this.getColors=function(){return a};this.isInvalid=function(){return 0==a.length};this.encodeToString=function(){return a.join(",")};
this.decodeFromString=function(c){a=(c=$.trim(c))?c.split(","):[]};this.toJsonObject=function(){var c={};c.colors=a;return c};this.fromJsonObject=function(c){d=c.name;a=(c=c.colors)?c:[]}}function V(){var d=null,a=null;this.getPaletteMapping=function(){return a};this.setPaletteMapping=function(c){a=c};this.toJsonObject=function(){var c={};d&&(c.palette=d.toJsonObject());a&&(c.paletteMapping=a);return c};this.fromJsonObject=function(c){d=null;var b=c.palette;b&&(d=new ka,d.fromJsonObject(b));a=(c=
c.paletteMapping)?c:null}}function v(){function d(){var w=0,F=100,O=50,ba=0,ea=20,qa=80;this.setColor=function(Aa,Za){w=Aa[0];F=Aa[1];O=Aa[2];ba=Za[0];ea=Za[1];qa=Za[2]};this.getColorA=function(){return[w,F,O]};this.getColorB=function(){return[ba,ea,qa]};this.toJsonObject=function(){var Aa={};Aa.ha=w;Aa.sa=F;Aa.la=O;Aa.hb=ba;Aa.sb=ea;Aa.lb=qa;return Aa};this.fromJsonObject=function(Aa){w=Aa.ha;F=Aa.sa;O=Aa.la;ba=Aa.hb;ea=Aa.sb;qa=Aa.lb}}var a=this,c,b,e=0,f=null,k=null,h=0,q=!1;this.getForwardGradientColor=
function(w){w&&!c&&(c=new d);return c};this.getBackwardGradientColor=function(w){w&&!b&&(b=new d);return b};this.getSegments=function(){return e};this.setSegments=function(w){e=w};this.getMinData=function(){return f};this.setMinData=function(w){f=w};this.isMinDataDefined=function(){return f||0===f};this.getMaxData=function(){return k};this.setMaxData=function(w){k=w};this.isMaxDataDefined=function(){return k||0===k};this.getMiddleData=function(){return h};this.setMiddleData=function(w){h=w};this.isMiddleDataDefined=
function(){return h||0===h};this.isWholeColorRange=function(){return q};this.setWholeColorRange=function(w){q=w};this.toJsonObject=function(){var w={};c&&(w.forward=c.toJsonObject());b&&(w.backward=b.toJsonObject());e&&(w.segment=e);a.isMinDataDefined()&&(w.min=""+f);a.isMaxDataDefined()&&(w.max=""+k);a.isMiddleDataDefined()&&(w.middle=""+h);w.wholeColorRange=q;return w};this.fromJsonObject=function(w){var F=w.forward;F?(c=new d,c.fromJsonObject(F)):c=null;(F=w.backward)?(b=new d,b.fromJsonObject(F)):
b=null;e=(F=w.segment)?F:0;f=(F=w.min)?parseFloat(F):null;k=(F=w.max)?parseFloat(F):null;h=(F=w.middle)?parseFloat(F):null;q=w.wholeColorRange}}function R(){function d(){var b,e,f,k,h=!0;this.setBizUiId=function(q){b=q};this.getBizUiId=function(){return b};this.setBizUiDisplayName=function(q){e=q};this.getBizUiDisplayName=function(){return e};this.setUsableDisplayName=function(q){k=q};this.getUsableDisplayName=function(){return k?k:e};this.setForeignKey=function(q){f=q};this.getForeignKey=function(){return f};
this.isMainComplete=function(){return b&&f?!0:!1};this.setRuntimeValid=function(q){h=q};this.isRuntimeValid=function(){return h};this.toJsonObject=function(){var q={};q.bizUiId=b;q.bizUiDisplayName=e;q.foreignKey=f;return q};this.fromJsonObject=function(q){b=q.bizUiId;e=q.bizUiDisplayName;f=q.foreignKey}}var a=[];this.addItem=function(){var b=new d;a.push(b);return b};this.removeItem=function(b){a.splice(b,1)};this.getItemCount=function(){return a.length};this.getItem=function(b){return a[b]};this.getUsefulItems=
function(){for(var b=[],e=0;e<a.length;e++){var f=a[e];f.isMainComplete()&&b.push(f)}return b};this.getRunnableItems=function(){for(var b=[],e=0;e<a.length;e++){var f=a[e];f.isMainComplete()&&f.isRuntimeValid()&&b.push(f)}return b};this.copy=function(){var b=new R;c(a,function(){return b.addItem()});return b};var c=function(b,e){for(var f=0;f<b.length;f++){var k=b[f],h=e();h.setBizUiId(k.getBizUiId());h.setBizUiDisplayName(k.getBizUiDisplayName());h.setForeignKey(k.getForeignKey())}};this.toArray=
function(){var b=[];c(a,function(){var e=new d;b.push(e);return e});return b};this.fromArray=function(b){a=[];c(b,function(){var e=new d;a.push(e);return e})};this.toJsonObject=function(){for(var b={},e=[],f=0;f<a.length;f++)e.push(a[f].toJsonObject());b.items=e;return b};this.fromJsonObject=function(b){a=[];if(b=b.items)for(var e=0;e<b.length;e++){var f=b[e],k=new d;k.fromJsonObject(f);a.push(k)}}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&
(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.core&&(com.kingdee.bos.qing.core={});"undefined"==typeof com.kingdee.bos.qing.core.model&&(com.kingdee.bos.qing.core.model={});var G=com.kingdee.bos.qing.core.model;G.MetaField=wa;G.Meta=Da;G.ParentChildDimension=hb;G.ModelBook=function(){var d,a,c;this.getMeta=function(){return d};this.setMeta=function(b){d=b};this.getModelPages=function(){return a};this.setModelPages=
function(b){a=b};this.isTooModern=function(){return c};this.toJsonObject=function(b){var e={};e.meta=d.toJsonObject();for(var f=[],k=0;k<a.length;k++)f.push(a[k].toJsonObject(b));e.pages=f;return e};this.fromJsonObject=function(b,e,f){c=b.isTooModern;var k=b.meta;k&&(d=new Da,d.fromJsonObject(k),f&&f(d));b=b.pages;a=[];for(f=0;f<b.length;f++){k=b[f];var h=new oa;h.fromJsonObject(k,d,e);a.push(h)}}};G.ModelPage=oa;G.AbstractQingModel=function(){var d=this,a=!1,c,b;this.setListenerDumb=function(e){a=
e};this.getUsingMetaFields=function(e,f){throw Error("Implement");};this.createDependentMeta=function(e,f){throw Error("Implement");};this.getLinkTargets=function(){throw Error("Implement");};this.getBriefOutputableFieldsModel=function(){throw Error("Implement");};this.setBriefOutputDefinitions=function(e){c=e};this.getBriefOutputDefinitions=function(){return c};this.setWarningRuleDefinitions=function(e){b=e};this.getWarningRuleDefinitions=function(){return b};this.protectedMethod={isListenerDumb:function(){return a},
sharedToJsonObject:function(e){var f={};if(c||b)f.isFieldExist=function(w){return d.getBriefOutputableFieldsModel().isFieldAlive(w)};if(c){for(var k=[],h=0;h<c.length;h++){var q=c[h];q=q.toJsonObject(f);k.push(q)}e.briefOutputDefinitions=k}if(b){k=[];for(h=0;h<b.length;h++)q=b[h],q=q.toJsonObject(f),k.push(q);e.warningRuleDefinitions=k}},sharedFromJsonObject:function(e){var f=e.briefOutputDefinitions;e=e.warningRuleDefinitions;var k={};if(f||e)k.searchFieldById=d.getBriefOutputableFieldsModel().createFieldSearcher();
c=null;if(f){c=[];for(var h=0;h<f.length;h++){var q=f[h],w=new Wa;w.fromJsonObject(q,k);c.push(w)}}b=null;if(e)for(b=[],h=0;h<e.length;h++)q=e[h],w=new U,w.fromJsonObject(q,k),b.push(w)}}};G.BriefOutputableFields=function(){var d=[],a=[];this.getDimensionFields=function(){return d};this.setDimensionFields=function(c){d=c};this.getMeasureFields=function(){return a};this.setMeasureFields=function(c){a=c};this.createFieldSearcher=function(){for(var c={},b=d.concat(a),e=0;e<b.length;e++){var f=b[e];c[f.getId()]=
f}return function(k){return c[k]}};this.isFieldAlive=function(c){for(var b=0;b<d.length;b++)if(d[b]==c)return!0;for(b=0;b<a.length;b++)if(a[b]==c)return!0;return!1}};G.BriefOutputDefinition=Wa;G.BriefOutput=function(){var d,a,c,b;this.parseFromJson=function(e){d=e.previewMatrix;a=e.display;c=e.errorCode;b=e.errorMessage};this.isError=function(){return c||0===c};this.getErrorCode=function(){return c};this.getErrorMessage=function(){return b};this.getMatrixRowCount=function(){return d?d.length:0};this.getMatrixCell=
function(e,f){return d[e][f]};this.getDisplay=function(){return a}};G.WarningRuleDefinition=U;G.WarningRulePreview=function(){var d,a,c,b,e,f;this.parseFromJson=function(k){d=k.previewTitle;a=k.previewMatrix;c=k.rows;b=k.matched;e=k.errorCode;f=k.errorMessage};this.isError=function(){return e||0===e};this.getErrorCode=function(){return e};this.getErrorMessage=function(){return f};this.getMatrixColumnCount=function(){return d?d.length:0};this.getMatrixColumn=function(k){return d[k]};this.getMatrixRowCount=
function(){return a?a.length:0};this.getMatrixCell=function(k,h){return a[k][h]};this.getFilteredRows=function(){return c};this.isMatched=function(){return b}};G.OutsideReference=Y;G.AbstractAnalyticalField=K;G.ExecutableValue=function(){var d,a;this.asStringValue=function(c){d="Str";a=c};this.asSubtotal=function(){d="Subtotal";a=null};this.asNull=function(){d="Null";a=null};this.getDataType=function(){return d};this.getValue=function(){return a};this.isTheSame=function(c){return d==c.getDataType()?
"Subtotal"==d||"Null"==d?!0:a==c.getValue():!1};this.toJsonObject=function(){var c={};c.dataType=d;c.value=a;return c};this.fromJsonObject=function(c){d=c.dataType;a=c.value}};G.AbstractFilterPreparedModel=ua;G.AbstractFilter=M;G.DiscreteFilter=ca;G.ContinuousFilter=ma;G.ContinuousDateFilter=Ca;G.Refline=J;G.Palette=ka;G.DiscreteColor=V;G.ContinuousColor=v;G.LinkTargets=R;G.CommonStyle=function(){var d=null,a=null,c=null,b=null,e=null;this.isFontSizeUnsure=function(){return null==d};this.getFontSize=
function(){return d};this.setFontSize=function(h){d=h};this.isBoldUnsure=function(){return null==a};this.isBold=function(){return a};this.setBold=function(h){a=h};this.isItalicUnsure=function(){return null==c};this.isItalic=function(){return c};this.setItalic=function(h){c=h};this.isColorUnsure=function(){return null==b};this.getColor=function(){return b};this.setColor=function(h){b=h};this.isAlignUnsure=function(){return null==e};this.getAlign=function(){return e};this.setAlign=function(h){e=h};
this.toJsonObject=function(){var h={};f(h,"fontSize",d);f(h,"bold",a);f(h,"italic",c);f(h,"color",b);f(h,"align",e);return h};var f=function(h,q,w){(w||0===w)&&(h[q]=w)};this.fromJsonObject=function(h){d=k(h,"fontSize");a=k(h,"bold");c=k(h,"italic");b=k(h,"color");e=k(h,"align")};var k=function(h,q){return(h=h[q])||0===h?h:null}};var Z,X,S;(function(){var d=com.kingdee.bos.qing.common;Z=d.EventListenerList;X=d.RelativePeriodModel;d=com.kingdee.bos.qing.framework.common;S=d.MultilanguageManager.createPackageAccessor(G)})();
var n=new function(){this.encodeFullName=function(d,a){return d?d+"."+a:a};this.decodeFullName=function(d){var a=d.indexOf(".");if(-1==a)var c=null;else c=d.substring(0,a),d=d.substring(a+1);return[c,d]}};G.NameUtil=n;wa.DT_STRING="STRING";wa.DT_NUMBER="NUMBER";wa.DT_DATE="DATE";wa.KEY_FORMATSTRING="meta-formatString";wa.KEY_FISCALYEARSTART="meta-fiscalYearStart";wa.KEY_SORTACCORDING="meta-sortAccording";wa.KEY_FORMULA="meta-formula";wa.KEY_DISPLAYNAME="meta-displayName";wa.FORMULA_STATUS_REF="Ref";
wa.FORMULA_STATUS_AGG="Agg";wa.FORMULA_STATUS_INTERLINE="Interline";wa.FORMULA_STATUS_WITHTOTAL="WithTotal";Ba.subViewsFromJsonObject=function(d,a){if(a=a.subViews)for(var c=0;c<a.length;c++){var b=a[c],e=new Ba(b.name,b.displayName,b.displayAs);e.fromJsonObject(b);d.getSubViews(!0).push(e)}};Ba.subViewsToJsonObject=function(d,a){if(d=d.getSubViews()){for(var c=[],b=0;b<d.length;b++){var e=d[b],f=e.toJsonObject();f.name=e.getName();f.displayName=e.getDisplayName();f.displayAs=e.getDisplayAs();c.push(f)}a.subViews=
c}};Ba.itemsFromJsonObject=function(d,a){if(a=a.viewItems)for(var c=0;c<a.length;c++){var b=a[c],e=b.fields;if(e){var f=b.name;b=new ta(f,b.displayName);for(f=0;f<e.length;f++){var k=e[f];b.getFieldNames().push(k.name)}d.getViewItems(!0).push(b)}else f=b.name,d.getViewItems(!0).push(f)}};Ba.itemsToJsonObject=function(d,a){if(d=d.getViewItems()){for(var c=[],b=0;b<d.length;b++){var e=d[b],f={};if(e instanceof ta){f.name=e.getName();f.displayName=e.getDisplayName();var k=[];e=e.getFieldNames();for(var h=
0;h<e.length;h++)k.push({name:e[h]});f.fields=k}else f.name=e;c.push(f)}a.viewItems=c}};Da.createSearchingUsingMetaFieldsTool=function(d){return new Ha(d)};hb.isNecessary=function(d){return"Indispensable"==d};K.KEY_NUMBERFORMAT="numberFormat";K.KEY_DATEFORMAT="dateFormat";K.KEY_CONTINUOUSCOLOR="continuousColor";K.KEY_DISCRETECOLOR="discreteColor";K.KEY_ROLE="role";K.KEY_TOTALUSING="totalUsing";K.KEY_TOTALDISPLAY="totalDisplay";K.KEY_SUBTOTAL="subtotal";K.KEY_PARTVALUE="partValue";K.KEY_FORMULA="formula";
K.KEY_SORT="sort";K.KEY_QUICKSETUP="quickSetup";K.KEY_DISPLAYNAME="displayName";K.AGGREGATION_SUM="SUM";K.AGGREGATION_AVG="AVG";K.AGGREGATION_COUNT="CNT";K.AGGREGATION_CNTD="CNTD";K.AGGREGATION_MAX="MAX";K.AGGREGATION_MIN="MIN";K.AGGREGATION_MEDIAN="MEDIAN";K.AGGREGATION_AGG="AGG";K.ROLE_DIMENSION="dimension";K.ROLE_MEASURE="measure";K.PARTVALUE_DATE_EXACT="DATE_EXACT";K.PARTVALUE_DATE_YEAR="DATE_YEAR";K.PARTVALUE_DATE_QUARTER="DATE_QUARTER";K.PARTVALUE_DATE_MONTH="DATE_MONTH";K.PARTVALUE_DATE_DAY=
"DATE_DAY";K.PARTVALUE_DATE_YQ="DATE_YQ";K.PARTVALUE_DATE_YM="DATE_YM";K.PARTVALUE_DATE_YMD="DATE_YMD";K.SORT_ASC="ASC";K.SORT_DESC="DESC";K.QUICKSETUP_LASTPERIOD_RATIO="LP";K.QUICKSETUP_LASTPERIOD_VALUE="LP_V";K.QUICKSETUP_LASTPERIOD_DIFF="LP_D";K.QUICKSETUP_SAMEPERIODLASTYEAR_RATIO="SPLY";K.QUICKSETUP_SAMEPERIODLASTYEAR_VALUE="SPLY_V";K.QUICKSETUP_SAMEPERIODLASTYEAR_DIFF="SPLY_D";K.QUICKSETUP_RUNNINGSUM="RS";K.QUICKSETUP_RUNNINGSUMY="RSY";K.QUICKSETUP_RATIO_10="RATIO_10";K.QUICKSETUP_RATIO_01="RATIO_01";
K.QUICKSETUP_RATIO_11="RATIO_11";K.QUICKSETUP_RATIO_90="RATIO_90";K.QUICKSETUP_RATIO_09="RATIO_09";K.QUICKSETUP_RATIO_99="RATIO_99";K.isAggregationFittedDataType=function(d,a){return a!=wa.DT_NUMBER?a==wa.DT_DATE?d==K.AGGREGATION_COUNT||d==K.AGGREGATION_CNTD||d==K.AGGREGATION_MAX||d==K.AGGREGATION_MIN:d==K.AGGREGATION_COUNT||d==K.AGGREGATION_CNTD:!0};K.aggregationToString=function(d){switch(d){case K.AGGREGATION_SUM:return S.get("sum","\u6c42\u548c");case K.AGGREGATION_AVG:return S.get("avg","\u5e73\u5747");
case K.AGGREGATION_COUNT:return S.get("count","\u8ba1\u6570");case K.AGGREGATION_CNTD:return S.get("cntd","\u53bb\u91cd\u8ba1\u6570");case K.AGGREGATION_MAX:return S.get("max","\u6700\u5927");case K.AGGREGATION_MIN:return S.get("min","\u6700\u5c0f");case K.AGGREGATION_MEDIAN:return S.get("median","\u4e2d\u4f4d\u6570");case K.AGGREGATION_AGG:return S.get("aggregation","\u805a\u5408");default:throw Error("Unknown aggregation: "+d);}};K.partValueToString=function(d){switch(d){case K.PARTVALUE_DATE_YEAR:return S.get("year",
"\u5e74");case K.PARTVALUE_DATE_QUARTER:return S.get("quarter","\u5b63\u5ea6");case K.PARTVALUE_DATE_MONTH:return S.get("month","\u6708");case K.PARTVALUE_DATE_DAY:return S.get("day","\u65e5");case K.PARTVALUE_DATE_YQ:return S.get("yearQuarter","\u5e74\u5b63");case K.PARTVALUE_DATE_YM:return S.get("yearMonth","\u5e74\u6708");case K.PARTVALUE_DATE_YMD:return S.get("yearMonthDay","\u5e74\u6708\u65e5");case K.PARTVALUE_DATE_EXACT:return"";default:throw Error("Unknown partValue: "+d);}};K.quickSetupToString=
function(d){switch(d){case K.QUICKSETUP_LASTPERIOD_VALUE:return S.get("lastPeriodValue","\u4e0a\u671f\u503c");case K.QUICKSETUP_LASTPERIOD_DIFF:return S.get("lastPeriodDiff","\u73af\u6bd4\u5dee\u989d");case K.QUICKSETUP_LASTPERIOD_RATIO:return S.get("lastPeriodRatio","\u73af\u6bd4\u589e\u957f\u7387");case K.QUICKSETUP_SAMEPERIODLASTYEAR_VALUE:return S.get("samePeriodLastYearValue","\u53bb\u5e74\u540c\u671f\u503c");case K.QUICKSETUP_SAMEPERIODLASTYEAR_DIFF:return S.get("samePeriodLastYearDiff","\u540c\u6bd4\u5dee\u989d");
case K.QUICKSETUP_SAMEPERIODLASTYEAR_RATIO:return S.get("samePeriodLastYearRatio","\u540c\u6bd4\u589e\u957f\u7387");case K.QUICKSETUP_RUNNINGSUM:return S.get("runningSum","\u7d2f\u8ba1");case K.QUICKSETUP_RUNNINGSUMY:return S.get("runningSumY","\u5e74\u5185\u7d2f\u8ba1");case K.QUICKSETUP_RATIO_10:return S.get("ratio10","\u5206\u7ec4\u5185\u540c\u4e00\u884c");case K.QUICKSETUP_RATIO_01:return S.get("ratio01","\u5206\u7ec4\u5185\u540c\u4e00\u5217");case K.QUICKSETUP_RATIO_11:return S.get("ratio11",
"\u5206\u7ec4\u5185\u540c\u4e00\u5757");case K.QUICKSETUP_RATIO_90:return S.get("ratio90","\u6574\u884c");case K.QUICKSETUP_RATIO_09:return S.get("ratio09","\u6574\u5217");case K.QUICKSETUP_RATIO_99:return S.get("ratio99","\u6574\u8868");default:throw Error("Unknown quickSetup: "+d);}};K.sortToString=function(d){switch(d){case K.SORT_ASC:return S.get("sortAsc","\u5347\u5e8f");case K.SORT_DESC:return S.get("sortDesc","\u964d\u5e8f");default:return S.get("sortNone","\u9ed8\u8ba4")}};K.InvalidPrompt=
function(){var d,a,c;this.isCancel=function(){return!c};this.getLevel=function(){return d};this.setLevel=function(b,e){d=b;c=e?!0:!1};this.getPromptText=function(){return a};this.setPromptText=function(b){a=b}};K.InvalidPrompt.LEVEL_META_LOST=10;K.InvalidPrompt.LEVEL_META_INVALID=11;K.InvalidPrompt.LEVEL_AGG=20;K.InvalidPrompt.LEVEL_FILTER_UNMATCHED=30;ua.create=function(d){var a=null;if(d){switch(d.type){case "discrete":a=new L;break;case "tree":a=new C;break;case "continuous":a=new da;break;case "continuousDate":a=
new ia;break;case "invalid":a=new I;break;default:throw Error("Unkonwn FilterPreparedModel type.");}a.fromJsonObject(d)}return a};M.KEY_AFFECTED="affected";M.KEY_ONSHOW="onShow";M.STATE_VALID="valid";M.STATE_INVALID="invalid";M.STATE_FIELD_ERROR="field_error";M.STATE_PMODEL_UNMATCH="pmodel_unmatch";M.create=function(d){if(d instanceof L||d instanceof C){var a=new ca;a.setPreparedModel(d)}else if(d instanceof da)a=new ma,a.setPreparedModel(d),a.setContainNull(!0);else if(d instanceof ia)a=new Ca,a.setPreparedModel(d),
a.setContainNull(!0);else throw Error("Unkonwn PreparedModel.");return a};ca.FILTER_NAME="discrete";ca.STRING_NULL_VALUE="kd.qing.null";ca.KEY_EXCLUDE="exclude";ca.KEY_CTRLTYPE="ctrlType";ca.CTRLTYPE_CHECKBOX_LIST="Checkbox_List";ca.CTRLTYPE_CHECKBOX_POPUP="Checkbox_Popup";ca.CTRLTYPE_RADIOBUTTON_LIST="RadioButton_List";ca.CTRLTYPE_RADIOBUTTON_POPUP="RadioButton_Popup";ma.FILTER_NAME="continuous";Ca.FILTER_NAME="continuousDate";Wa.createPicker=function(d){switch(d){case Wa.PICKER_FULL:return new Va;
case Wa.PICKER_CONDITION:return new N;case Wa.PICKER_MAX:return new va;case Wa.PICKER_MIN:return new Oa;default:throw Error("Unknown:"+d);}};Wa.PICKER_FULL="FULL";Wa.PICKER_CONDITION="CONDITION";Wa.PICKER_MAX="MAX";Wa.PICKER_MIN="MIN";U.createCondition=function(d){switch(d){case U.CONDITION_NORMAL:return new pa;case U.CONDITION_CUSTOM:return new Ra;default:throw Error("Unknown:"+d);}};U.CONDITION_NORMAL="NORMAL";U.CONDITION_CUSTOM="CUSTOM";U.ConditionItem=na;U.OP_EQUAL="E";U.OP_NOT_EQUAL="NOT_E";
U.OP_NULL="N";U.OP_NOT_NULL="NOT_N";U.OP_GREATER="G";U.OP_GREATER_EQUAL="GE";U.OP_LESS="L";U.OP_LESS_EQUAL="LE";na.LOGIC_AND="AND";na.LOGIC_OR="OR";Y.create=function(d,a,c,b){var e={};e.uid=d;e.refToId=a;e.fullPath=c;e.refName=b;d=new Y;d.fromJsonObject(e);return d};J.TYPE_AVG="AVG";J.TYPE_MEDIAN="MEDIAN";J.TYPE_CONST="CONST"})();(function(){function wa(){this.protectedMethod={formatWithNull:function(N){return N+" ("+fb.get("includeNull","\u5305\u542b\u7a7a\u503c")+")"},formatDateTimeRange:function(N,za){N=ta.formatI18nDate(N);za=ta.formatI18nDate(za);return N+" ~ "+za}}}function Ta(){function N(){var O,ba,ea,qa;this.setStart=function(Aa){ba=Aa};this.getStart=function(){return ba};this.setEnd=function(Aa){ea=Aa};this.getEnd=function(){return ea};this.setRowNums=function(Aa){O=Aa};this.getRowNums=function(){return O};this.setContinuousRows=
function(Aa){qa=Aa};this.isContinuousRows=function(){return qa};this.getRowsCount=function(){return qa?ea:O.length};this.getRowNum=function(Aa){return qa?Aa:O[Aa-1]};this.toJsonObject=function(){var Aa={};Aa.continuousRows=qa;Aa.rowNumbers=O;Aa.start=ba;Aa.end=ea;return Aa};this.fromJsonObject=function(Aa){qa=Aa.continuousRows;O=Aa.rowNumbers;ba=Aa.start;ea=Aa.end}}function za(){var O={};this.collect=function(ba){O[ba.getFullName()]=!0};this.isMetaFieldVisible=function(ba){return O[ba]?!0:!1}}var va=
new M,Oa,U,na,sa,pa,Ra,Y,J,ka,V,v,R,G,Z,X;this.setContext=function(O,ba,ea,qa,Aa,Za){pa=O;Y=ba;J=ea;ka=qa;sa=Aa;na=Za};this.setEncodedCoordinateGetter=function(O){V=O};this.hookLinkagePrompter=function(O){X=O};this.createContentPanel=function(O){var ba=va.getJqUi();Oa=new ya;var ea=fb.get("showAllFields","\u663e\u793a\u6240\u6709\u5b57\u6bb5");Oa.setChecked(!1);Oa.setText(ea);Oa.addCheckedListener(function(Za,jb){jb&&k(!0)});var qa=$("<div>");qa.append(ba);var Aa=Oa.getJqUi();Aa.attr("title",ea);
qa.append(Aa);na(function(Za){Za&&(U=new ja,U.addActionListener(f),U.getJqUi().appendTo(qa),S(!1));O&&U?(Da.layoutCtrlWithLRTB(ba,0,0,null,30,10,null),Da.layoutCtrlWithLRTB(U.getJqUi(),null,0,100,0,null,23),Da.layoutCtrlWithLRTB(Oa.getJqUi(),0,null,100,0,null,23)):(Da.layoutCtrlWithLRTB(ba,0,0,null,0,10,null),Za=0,U&&(Da.layoutCtrlWithLRTB(U.getJqUi(),null,Za,100,0,null,23),Za+=120),Da.layoutCtrlWithLRTB(Oa.getJqUi(),null,Za,100,0,null,23))});return qa};this.start=function(){va.setLoader(d);q();n()};
this.resize=function(){va.resize()};var S=function(O){O?(U.setText(fb.get("exporting","\u6b63\u5728\u5bfc\u51fa...")),U.setEnabled(!1)):(U.setText(fb.get("exportToExcel","\u5bfc\u51fa\u5230Excel")),U.setEnabled(!0))},n=function(){var O=sa(function(ba){R=new N;R.fromJsonObject(ba.dataRowInfo);v=ba.dataSourceCacheKey;var ea=ba.meta;ba=new Ca;ba.fromJsonObject(ea);ea=c();for(var qa=[],Aa=0,Za=ba.getTableCount();Aa<Za;Aa++){var jb=ba.getTable(Aa);ea.isTableUsed(jb.getName())&&qa.push(jb)}ba.carryIn(qa,
ba.getSrcMode());Ra.merge(ba);va.reset();va.setTotalRowsCount(R.getRowsCount());0<R.getRowsCount()&&va.loadRows()});Ra=b(c());O.setBlockingJqUi($(document.body));O.getDetailRowNums(Ra,Y,ka,V)},d=function(O,ba){var ea=new N;ea.setContinuousRows(R.isContinuousRows());R.isContinuousRows()?(ea.setStart(O),ea.setEnd(ba)):ea.setRowNums(R.getRowNums().slice(O-1,ba-O+1));O=sa(a);O.setBlockingJqUi($(document.body));O.getDetailRowData(v,ea,Ra,ka)},a=function(O){var ba=G?!1:!0;if(ba){Z=new za;for(var ea=Y.getUsingMetaFields(pa,
J),qa=0;qa<ea.length;qa++)Z.collect(ea[qa]);G=new za;var Aa=[];for(qa=0;qa<Ra.getTableCount();qa++){ea=Ra.getTable(qa);for(var Za=0;Za<ea.getFieldCount();Za++){var jb=ea.getField(Za);jb.isHide()||(Aa.push(jb),G.collect(jb))}}va.setupColumns(Aa.length,function(sb){return Aa[sb]});k()}h(O.dataSegment,ba)},c=function(){for(var O={},ba={},ea=Y.getUsingMetaFields(pa,J),qa=0;qa<ea.length;qa++){var Aa=ea[qa];O[Aa.getTable().getName()]=!0;ba[Aa.getFullName()]=!0}return{isTableUsed:function(Za){return O[Za]},
isFieldUsed:function(Za){return ba[Za]}}},b=function(O){var ba=pa.copy();if(pa.isMultiTableMode()){for(var ea=[],qa=0,Aa=ba.getTableCount();qa<Aa;qa++){var Za=ba.getTable(qa);O.isTableUsed(Za.getName())&&ea.push(Za)}ba.carryIn(ea,ba.getSrcMode())}return ba},e=function(){for(var O=c(),ba=b(O),ea=ba.getTableCount()-1;0<=ea;ea--)for(var qa=ba.getTable(ea),Aa=qa.getFieldCount()-1;0<=Aa;Aa--){var Za=qa.getField(Aa);O.isFieldUsed(Za.getFullName())||qa.removeField(Aa)}return ba},f=function(O){if(0!=R.getRowsCount()){O=
Oa.isChecked()?Ra:e();var ba=sa(function(ea){S(!1);var qa=ta.formatDate("yyyyMMdd_HHmmss");hb.downloadFile("Qing-"+qa+".xlsx",ea)},function(ea,qa){S(!1);return ca.facadeErrorHandler(ea,qa)});ba.setShowBlocking(!1);S(!0);ba.exportDetailRowData(v,R,O,ka)}},k=function(O){var ba=Oa.isChecked()?G:Z;va.updateColumnsVisible(function(ea){return ba.isMetaFieldVisible(ea)},O?!0:!1)},h=function(O,ba){var ea=O.length,qa=function(Aa,Za){return O[Aa][Za]};ba?va.appendRows(ea,qa):va.lazyAppendRows(ea,qa)},q=function(){va.hookOperation(function(){});
ia.isRuntimeSupported()&&Y.getLinkTargets()&&w(function(O){va.hookOperation(function(ba,ea){var qa=$("<div>");da.background(qa,"icon_bill_linkage");Da.layoutCtrlCenterAlign(qa,12);Da.layoutCtrlMiddleAlign(qa,12);qa.css("cursor","pointer");qa.attr("title",fb.get("linkage","\u5355\u636e\u8054\u67e5"));qa.appendTo(ba);qa.on("click",function(Aa){Aa=R.getRowNum(ea);Aa=F(Aa,O);var Za=va.getJqUi().parent(),jb=[12,16];jb=Da.upwardCoordinate(qa[0],jb,Za[0]);Aa.show(Za,jb[0],jb[1],qa,!0,[0,-20])})})})},w=function(O){var ba=
Y.getLinkTargets().copy().getUsefulItems();if(0!=ba.length){for(var ea=[],qa=0;qa<ba.length;qa++)ea.push(ba[qa].getBizUiId());ia.lookupBizMeta(ea,function(Aa){for(var Za=ba.length-1;0<=Za;Za--){var jb=Aa[Za];jb?ba[Za].setUsableDisplayName(jb):ba.splice(Za,1)}0<ba.length&&O(ba)},!0)}},F=function(O,ba){var ea=new C,qa=ua.createActionMenuItem(ma.makeDetailDataLinkageCaption(O));qa.setEnabled(!1);ea.addItemModel(qa);for(var Aa=function(sb){return ua.createActionMenuItem(jb,function(La){ma.jumpToEditUi(sb,
sa,v,O,function(Ka,cb){X?X(Ka,cb):alert(Ka)})})},Za=0;Za<ba.length;Za++){qa=ba[Za];var jb=ma.makeItemDisplay(qa);qa=Aa(qa);ea.addItemModel(qa)}ba=new ua;ba.setModel(ea);return ba}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.core&&(com.kingdee.bos.qing.core={});"undefined"==typeof com.kingdee.bos.qing.core.shared&&
(com.kingdee.bos.qing.core.shared={});var Ba=com.kingdee.bos.qing.core.shared;Ba.FilterInterpreter=new function(){wa.call(this);var N=this.protectedMethod;this.getFilterDisplayText=function(za,va){if(za.isFullValue())return fb.get("fullValue","\u5168\u90e8");if(za instanceof Wa){var Oa=za.isExclude()?"("+fb.get("excludeValue","\u6392\u9664")+")":"";za=za.toJsonObject().selected;if(va==Na.PARTVALUE_DATE_MONTH||va==Na.PARTVALUE_DATE_YM||va==Na.PARTVALUE_DATE_YMD)for(var U=0;U<za.length;U++){var na=
za[U];if(na){var sa=parseInt(na);switch(va){case Na.PARTVALUE_DATE_MONTH:case Na.PARTVALUE_DATE_YM:na=sa+1;break;case Na.PARTVALUE_DATE_YMD:na=sa+100}za[U]=na}}return Oa+=za.join(", ")}if(za instanceof Ya){va=za.getFloor();U=za.getCeiling();if(Oa=za.getFormatString())U=new Ha,U.setFormatString(Oa),va=U.format(za.getFloor()),U=U.format(za.getCeiling());Oa=va+"~"+U;za.isContainNull()&&(Oa=N.formatWithNull(Oa));return Oa}return za instanceof Va?(Oa=(va=za.getRelativePeriodModel())?L.modelToDisplayText(va,
!0):N.formatDateTimeRange(za.getFromDateMs(),za.getToDateMs()),za.isContainNull()&&(Oa=N.formatWithNull(Oa)),Oa):"???"}};Ba.AdditionalFilterInfoParser=new function(){wa.call(this);var N=this.protectedMethod;this.getCaption=function(za){var va=za.key;return va=za.isMetaFieldBound?"["+va+"]":fb.get("parameter","\u53c2\u6570")+' "'+va+'"'};this.getValue=function(za){var va=za.selectedValue;return za.valueDataType==oa.DT_DATE&&za.isMetaFieldBound?(va=JSON.parse(va).dateRange,za=va.containNull,va=N.formatDateTimeRange(va.dateFrom,
va.dateTo),za&&(va=N.formatWithNull(va)),va):va};this.encodeAdditionalFilterApi=function(za){var va={};va.toMetaFieldNames=za.toMetaFieldNames();va.toExecutableJsonObject=za.toExecutableJsonObject();va.toDisplayJsonObject=za.toDisplayJsonObject();return JSON.stringify(va)};this.decodeAdditionalFilterApi=function(za){za=JSON.parse(za);var va=za.toMetaFieldNames,Oa=za.toExecutableJsonObject,U=za.toDisplayJsonObject;return{toMetaFieldNames:function(){return va},toExecutableJsonObject:function(){return Oa},
toDisplayJsonObject:function(){return U}}}};Ba.DetailDataPopupDialog=function(){K.call(this);var N=this,za=this.protectedMethod,va=new Ta;(function(){va.hookLinkagePrompter(function(na,sa){!1===sa?za.getMessageCurtain().showPrompt(na,-1):za.getMessageCurtain().showSuccess(na)})})();this.setContext=function(na,sa,pa,Ra,Y,J){va.setContext(na,sa,pa,Ra,Y,J)};this.setEncodedCoordinateGetter=function(na){va.setEncodedCoordinateGetter(na)};var Oa=this.showDialog;this.showDialog=function(){var na=U(),sa=
na[0];N.setSize(sa,na[1]);za.setTitle(fb.get("viewData","\u67e5\u770b\u6570\u636e"));za.setSelectable(!0);za.getDialogCtrl().setResizeEnabled();za.getDialogCtrl().addResizeListener(function(){va.resize()});var pa=new I;pa.appendRealFullscreenButton(za.getDialogCtrl());pa.setResizedHandler(function(){va.resize()});pa.setPreferredSizeGetter(U);za.setFooterPaneCreator(null);za.setContentPaneCreator(function(){return va.createContentPanel(400>sa)});za.setClosingAction(function(Ra){pa.destroyWhenClosed()});
Oa();va.start()};var U=function(){var na=$(document.body),sa=na.prop("clientWidth");na=na.prop("clientHeight");var pa=Math.min(1,Math.max(.8,1.16-2E-4*sa));sa=parseInt(pa*sa);na=parseInt(pa*na);return[sa,na]}};var ta,Da,Ha,fb,hb,K,ya,ja,ua,C,L,da,ia,I,M,ca,ma,Ca,oa,Na,Wa,Ya,Va;(function(){var N=com.kingdee.bos.qing.common;ta=N.Util;Da=N.DomUtil;Ha=N.NumberFormater;N=com.kingdee.bos.qing.framework.common;fb=N.MultilanguageManager.createPackageAccessor(Ba);hb=N.RemoteFramework;N=com.kingdee.bos.qing.ui.component;
K=N.AbstractModalDialog;ya=N.CheckBox;ja=N.WorkButton;ua=N.Menu;C=N.MenuModel;N=com.kingdee.bos.qing.common.ui;L=N.RelativePeriodPanel;N=com.kingdee.bos.qing.core;da=N.Icons;ia=N.LinkageRegister;N=com.kingdee.bos.qing.core.commonui;I=N.RuntimePopupDialogSupporter;M=N.DataDetailTable;ca=N.ExportHelper;ma=N.LinkageHelper;N=com.kingdee.bos.qing.core.model;Ca=N.Meta;oa=N.MetaField;Na=N.AbstractAnalyticalField;Wa=N.DiscreteFilter;Ya=N.ContinuousFilter;Va=N.ContinuousDateFilter})()})();(function(){function wa(){this.perform=function(){throw Error("Override me.");};this.unperform=function(){throw Error("Override me.");};this.getCaption=function(){throw Error("Override me.");};this.setValue=function(K){}}function Ta(){var K,ya=[],ja;this.setCaption=function(ua){K=ua};this.getCaption=function(){return K};this.appendUnitAction=function(ua){ya.push(ua)};this.perform=function(){ja&&ja(!0);for(var ua=0,C=ya.length-1;ua<=C;ua++)ya[ua].perform();ja&&ja(!1)};this.unperform=function(){ja&&
ja(!0);for(var ua=ya.length-1;0<=ua;ua--)ya[ua].unperform();ja&&ja(!1)};this.setAnnouncer=function(ua){ja=ua}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.core&&(com.kingdee.bos.qing.core={});"undefined"==typeof com.kingdee.bos.qing.core.controller&&(com.kingdee.bos.qing.core.controller={});var Ba=
com.kingdee.bos.qing.core.controller;Ba.CommandManager=function(){var K=[],ya=[],ja=null,ua=!1,C=new ta,L=new ta;this.addPerformedListener=function(ca){L.addListener(ca)};this.perform=function(ca){ja?ja.appendUnitAction(ca):(ca.perform(),da(K,ca),ya.length=0,ia(ca,!0))};this.compositeStart=function(ca){if(null!=ja)throw Error("Can not start composite command twice.");ja=new Ta;ja.setAnnouncer(M);ja.setCaption(ca)};this.compositeEnd=function(){ja.perform();var ca=ja;da(K,ca);ya.length=0;ia(ca,!0);
ja=null};this.compositeAbort=function(){ja=null};this.isCompositeStarted=function(){return null!=ja};this.createCompositeAction=function(){var ca=new Ta;ca.setAnnouncer(M);return ca};this.untilWakeup=function(ca){ua?C.addListener(ca):ca()};this.isCanUndo=function(){return 0<K.length};this.isCanRedo=function(){return 0<ya.length};this.undo=function(){var ca=K.pop();ca&&(ca.unperform(),da(ya,ca),ia(ca,!1,!0))};this.redo=function(){var ca=ya.pop();ca&&(ca.perform(),da(K,ca),ia(ca,!1,!1))};this.reset=
function(){K.length=0;ya.length=0;ia(null)};var da=function(ca,ma){ca.push(ma);32<ca.length&&ca.splice(0,1)},ia=function(ca,ma,Ca){L.fireEvent(function(oa){oa(ca,ma,Ca)})},I=function(){ua=!1;C.fireEvent(function(ca){ca()});C.removeAllListener()},M=function(ca){ca?ua=!0:I()}};Ba.AbstractAction=wa;Ba.ActionChangeProperty=function(){wa.call(this);var K=this,ya,ja,ua,C;this.setCaption=function(L){ya=L};this.getCaption=function(){return ya};this.setMethod=function(L,da){ja=L;ua=da};this.setValue=function(L){C=
L};this.perform=function(){var L=ja();ua(C);C=L};this.unperform=function(){K.perform()}};Ba.ActionChangeRole=function(K){wa.call(this);var ya=this,ja,ua,C,L;this.getCaption=function(){return ja};this.setValue=function(da){da==Ha.ROLE_DIMENSION?(ua=Ha.ROLE_DIMENSION,C=null,L=!1):(ua=Ha.ROLE_MEASURE,C=da,L=!0);ja=K.getRole()==ua?Da.get("changeAggregation","\u6539\u53d8#1\u805a\u5408\u65b9\u5f0f"):Da.get("changeRole","\u6539\u53d8#1\u7ef4\u5ea6/\u5ea6\u91cf");ja=ja.replace("#1",K.getComplexText())};
this.perform=function(){var da=K.getRole(),ia=K.getAggregation(),I=K.isContinuous();K.setRole(ua,C);K.setContinuous(L);ua=da;C=ia;L=I};this.unperform=function(){ya.perform()}};Ba.ActionChangePartValue=function(K){wa.call(this);var ya=this,ja,ua,C;this.setCaption=function(L){ja=L};this.getCaption=function(){return ja};this.setValue=function(L){ua=L;C=null};this.perform=function(){var L=K.getPartValue(),da=K.getDateFormat();K.setPartValue(ua);K.setDateFormat(C);ua=L;C=da};this.unperform=function(){ya.perform()}};
Ba.ActionChangeFilterCtrlType=function(){wa.call(this);var K,ya,ja,ua,C,L,da;this.setCaption=function(ia){K=ia};this.getCaption=function(){return K};this.setValue=function(ia,I){ya=ia;ja=I;C=ya.getCtrlType();L=null;ia=ya.isSingleValueMode();I=ya.isSingleValueMode(ja);if(!ia&&I){L=ya.getAllSelectedValue();da=ya.isFullValue();ua={};ia=!1;I=ya.getSelectableItems();for(var M=0;M<I.length;M++){var ca=I[M].getValue();if(ya.isValueSelected(ca)){ia=ua[ca]=!0;break}}!ia&&0<I.length&&(ia=I[0].getValue(),ua[ia]=
!0)}};this.perform=function(){ya.setCtrlType(ja,ua,!1)};this.unperform=function(){ya.setCtrlType(C,L,da)}};Ba.ActionAddSelectedValueForDiscreteFilter=function(K){wa.call(this);var ya,ja,ua;this.getCaption=function(){return(ja?Da.get("addFilterValue","\u6dfb\u52a0\u7b5b\u9009\u503c"):Da.get("moveFilterValue","\u79fb\u9664\u7b5b\u9009\u503c"))+": "+ua};this.setValue=function(C,L,da){ya=C;ja=L;ua=void 0==da?C:da};this.perform=function(){ja?K.addSelectedValue(ya):K.removeSelectedValue(ya)};this.unperform=
function(){ja?K.removeSelectedValue(ya):K.addSelectedValue(ya)}};Ba.ActionChangeSelectedValueForDiscreteFilter=function(K){wa.call(this);var ya,ja,ua;this.getCaption=function(){return Da.get("modifyFilterValue","\u4fee\u6539\u7b5b\u9009\u503c")+": "+ja};this.setValue=function(C,L){ya=C;ja=void 0==L?C:L;L=K.getSelectableItems();for(var da=0;da<L.length;da++)if(C=L[da].getValue(),K.isValueSelected(C)){ua=C;break}};this.perform=function(){K.setSelectedValue(ya)};this.unperform=function(){K.setSelectedValue(ua)}};
Ba.ActionChangeValueForContinuousFilter=function(K){wa.call(this);var ya=this,ja,ua,C;this.getCaption=function(){return Da.get("modifyFilterValue","\u4fee\u6539\u7b5b\u9009\u503c")};this.setValue=function(L,da,ia){ja=L;ua=da;C=ia};this.perform=function(){var L=K.getFloor(),da=K.getCeiling(),ia=K.isContainNull();K.setValue(ja,ua,C);ja=L;ua=da;C=ia};this.unperform=function(){ya.perform()}};Ba.ActionChangeValueForDateFilter=function(K){wa.call(this);var ya=this,ja;this.getCaption=function(){return Da.get("modifyFilterValue",
"\u4fee\u6539\u7b5b\u9009\u503c")};this.setValue=function(ua){ja=ua};this.perform=function(){var ua=K.copy();K.setValue(ja.getFromDateMs(),ja.getToDateMs(),ja.getRelativePeriodModel(),ja.isContainNull());ja=ua};this.unperform=function(){ya.perform()}};Ba.ActionResetAllSelectedValueForDiscreteFilter=function(K){wa.call(this);var ya=this,ja;this.getCaption=function(){return Da.get("modifyFilterValue","\u4fee\u6539\u7b5b\u9009\u503c")};this.setValue=function(ua){ja=ua};this.perform=function(){var ua=
K.getAllSelectedValue();K.resetAllSelectedValue(ja);ja=ua};this.unperform=function(){ya.perform()}};Ba.ActionInsertMetaField=function(K,ya){wa.call(this);var ja=this,ua,C,L,da=ya,ia,I,M=-1;this.setCaption=function(ca){ua=ca};this.getCaption=function(){return ua};this.setValue=function(ca,ma){C=ca;L=ma};this.setViewContext=function(ca,ma){ia=ca;I=ma};this.perform=function(){M=K.updateFieldAtView(C.getPureName(),da,ia,I,M);da?K.insertField(C,L):K.removeField(L);da=!da};this.unperform=function(){ja.perform()}};
Ba.ActionDefineOrder=function(){wa.call(this);var K=this,ya,ja,ua;this.setValue=function(C,L,da){ya=C;ja=L;ua=da};this.perform=function(){var C=ya.getSortAccording(),L=ya.getCustomOrder();ya.defineOrder(ja,ua);ja=C;ua=L};this.unperform=function(){K.perform()}};Ba.AbstractActionAppendAllNecessaryDimensions=function(){wa.call(this);this.getCaption=function(){return Da.get("appendAllNecessaryDimensions","\u4e00\u952e\u6dfb\u52a0\u5fc5\u8981\u5b57\u6bb5")};this.protectedMethod={visitMissingNecessaryDimensions:function(K,
ya,ja){for(var ua=[],C=0,L=K.getTableCount();C<L;C++){for(var da=K.getTable(C),ia=da.getNecessaryParentChildDimensions(),I={},M=0;M<ia.length;M++){var ca=ia[M];I[ca.getName()]=ca}for(M=0;M<ya.length;M++)ia=ya[M],ia.getTable()==da&&ia.isParentChildDimension()&&(ia=ia.getGroupName(),delete I[ia]);for(var ma in I)ca=I[ma],M=ca.getDisplayFieldName()||ca.getIdFieldName(),ia=da.searchMetaField(M),ua.push(ia)}for(K=0;K<ua.length;K++)ya=ua[K],C=fb.create({type:"tree",nodes:[]}),C=hb.create(C),C=ja(C),C.setMetaField(ya),
C.setRole(Ha.ROLE_DIMENSION),C.setContinuous(!1)}}};var ta,Da,Ha,fb,hb;(function(){var K=com.kingdee.bos.qing.common;ta=K.EventListenerList;K=com.kingdee.bos.qing.framework.common;Da=K.MultilanguageManager.createPackageAccessor(Ba);K=com.kingdee.bos.qing.core.model;Ha=K.AbstractAnalyticalField;fb=K.AbstractFilterPreparedModel;hb=K.AbstractFilter})()})();(function(){function wa(){var U=this,na=[],sa=[];this.append=function(pa,Ra){na.push(pa);sa.push(Ra)};this.isContainKey=function(pa,Ra){for(var Y=0;Y<na.length;Y++)if(pa==na[Y])if(Ra){if(sa[Y]&&sa[Y].getFieldSet()==Ra)return!0}else return!0;return!1};this.isContainKeys=function(pa,Ra){for(var Y=0;Y<pa.length;Y++)if(U.isContainKey(pa[Y],Ra))return!0;return!1};this.isContainFieldSet=function(pa){for(var Ra=0;Ra<sa.length;Ra++)if(sa[Ra]&&pa==sa[Ra].getFieldSet())return!0;return!1};this.getTargetField=
function(pa,Ra){for(var Y=0;Y<na.length;Y++)if(Ra==na[Y]&&sa[Y]&&pa==sa[Y].getFieldSet())return sa[Y].getField();return null}}function Ta(U,na){var sa=na?na:null,pa;this.getFieldSet=function(){return U};this.getField=function(){return sa};this.setFieldSubEventTarget=function(Ra){pa=Ra};this.getFieldSubEventTarget=function(){return pa};this.toString=function(){return U.constructor.name+(pa?"-"+pa.toString():"")}}function Ba(){oa.call(this);var U=this,na=this.protectedMethod,sa=new ca,pa=Ba.CHARTTYPE_TABLE,
Ra=new ta,Y=new ta,J=new Da,ka=new Ha,V=!1,v=!1,R=null,G=null,Z;(function(){var a,c,b=function(e,f){na.isListenerDumb()||(c||(c=new wa),c.append(f,e),(e=e.getFieldSubEventTarget())&&e.getMetaFieldSubEventTarget()?(a&&clearTimeout(a),a=setTimeout(function(){S(c);c=null},50)):(S(c),c=null))};Ra.addChangedListener(b);Y.addChangedListener(b);J.addChangedListener(b);ka.addChangedListener(b)})();this.getBriefOutputableFieldsModel=function(){var a=[],c=[],b=function(e){for(var f=0;f<e.getCount();f++){var k=
e.get(f);(k.isDimension()?a:c).push(k)}};b(Y);b(Ra);b(J);b=new va;b.setDimensionFields(a);b.setMeasureFields(c);return b};this.isExecutableContentEmpty=function(){return Ra.isEmpty()&&Y.isEmpty()&&J.isEmpty()&&ka.isEmpty()};this.clear=function(){var a=[],c=function(b){for(var e=[],f=0,k=b.getCount();f<k;f++)e.push(b.get(f));b=b.removeSome(e);return[e,b]};U.setListenerDumb(!0);a[0]=c(Ra);a[1]=c(Y);a[2]=c(J);a[3]=c(ka);U.setListenerDumb(!1);a[4]=V;a[5]=v;a[6]=R;a[7]=G;v=V=!1;G=R=null;X(Ba.KEY_CLEAR);
return a};this.undoClear=function(a){U.setListenerDumb(!0);var c=a[0];Ra.undoRemoveSome(c[0],c[1]);c=a[1];Y.undoRemoveSome(c[0],c[1]);c=a[2];J.undoRemoveSome(c[0],c[1]);c=a[3];ka.undoRemoveSome(c[0],c[1]);U.setListenerDumb(!1);V=a[4];v=a[5];R=a[6];G=a[7];X(Ba.KEY_UNCLEAR)};this.setChartType=function(a){pa=a;X(Ba.KEY_CHART_TYPE)};this.getChartType=function(){return pa};this.getColumnAnalyticalFieldSet=function(){return Ra};this.getRowAnalyticalFieldSet=function(){return Y};this.getMarkFieldSet=function(){return J};
this.getFilterFieldSet=function(){return ka};this.setRowGrandTotal=function(a){V!=a&&(V=a,X(Ba.KEY_ROW_GRAND_TOTAL))};this.isRowGrandTotal=function(){return V};this.setColumnGrandTotal=function(a){v!=a&&(v=a,X(Ba.KEY_COLUMN_GRAND_TOTAL))};this.isColumnGrandTotal=function(){return v};this.setColumnsSortingLane=function(a){R=a;X(Ba.KEY_SORTING_LANE)};this.getColumnsSortingLane=function(){return R};this.setRowsSortingLane=function(a){G=a;X(Ba.KEY_SORTING_LANE)};this.getRowsSortingLane=function(){return G};
this.setLinkTargets=function(a){Z=a};this.getLinkTargets=function(){return Z};this.announceTreeExpanding=function(){X(Ba.KEY_TREE_EXPANDING)};this.addModelChangedListener=function(a){sa.addListener(a)};this.removeModelChangedListener=function(a){sa.removeListener(a)};var X=function(a){var c=new wa;c.append(a);S(c)},S=function(a){sa.fireEvent(function(c){c(a)})};this.getUsingMetaFields=function(a,c){return n(a,c,null)};this.createDependentMeta=function(a,c){var b=a.getEliminationKeyMetaFields(),e=
a.getDimensionNecessityMetaFields();b=b.concat(e);c=n(a,c,b);return a.createExecutingCopy(c)};var n=function(a,c,b){var e=ma.createSearchingUsingMetaFieldsTool(a),f=function(h){for(var q=0;q<h.getCount();q++){var w=h.get(q);e.checkField(w.getMetaField())}};f(Ra);f(Y);f(J);f(ka);if(c)for(f=0;f<c.length;f++){var k=a.searchMetaField(c[f]);k&&e.checkField(k)}if(b)for(f=0;f<b.length;f++)k=b[f],e.checkField(k);return e.getUsingMetaFields()};this.isAnyCalculatedFieldUsed=function(a){var c=!1,b=function(e){for(var f=
0;f<e.getCount();f++){var k=e.get(f);if(k.getMetaField().getFormula()&&(!a||a==k.getMetaField().getFullName())){c=!0;break}}};!c&&b(Ra);!c&&b(Y);!c&&b(J);!c&&b(ka);return c};this.howManyCalculatedFieldsUsed=function(){var a=0,c=function(b){for(var e=0;e<b.getCount();e++)b.get(e).getMetaField().getFormula()&&a++};c(Ra);c(Y);c(J);c(ka);return a};var d=function(a){var c={},b=[],e=function(q){for(var w=0;w<q.getCount();w++){var F=q.get(w),O=a?null:F.getId();O?c[O]=!0:b.push(F)}};e(Ra);e(Y);e(J);e(ka);
e=1;for(var f=0;f<b.length;f++){var k=b[f],h=null;do h="field"+e++;while(c[h]);k.setId(h);c[h]=!0}};this.toJsonObject=function(){d(!0);var a={};a.chartType=pa;a.column=Ra.toJsonObject();a.row=Y.toJsonObject();a.marks=[J.toJsonObject()];a.filter=ka.toJsonObject();V&&(a.isRowGrandTotal=!0);v&&(a.isColumnGrandTotal=!0);R&&(a.columnsSortingLane=R.toJsonObject());G&&(a.rowsSortingLane=G.toJsonObject());Z&&(a.linkTargets=Z.toJsonObject());na.sharedToJsonObject(a);return a};this.fromJsonObject=function(a,
c){pa=a.chartType;Ra.fromJsonObject(a.column,c);Y.fromJsonObject(a.row,c);ka.fromJsonObject(a.filter,c);J.fromJsonObject(a.marks[0],c);V=a.isRowGrandTotal?!0:!1;v=a.isColumnGrandTotal?!0:!1;if(c=a.columnsSortingLane)R=new hb,R.fromJsonObject(c);if(c=a.rowsSortingLane)G=new hb,G.fromJsonObject(c);Z=null;if(c=a.linkTargets)Z=new Oa,Z.fromJsonObject(c);d(!1);na.sharedFromJsonObject(a)}}function ta(){var U=this,na=[],sa=new ca;this.isEmpty=function(){return 0==na.length};this.add=function(J,ka){var V=
U.getIndex(J),v=-1;if(0<=V){var R=U.protectedGetExtendInfo(V);v=ka>V?V:V+1}!ka&&0!=ka||0>ka?U.protectedAddItem(J,R):U.protectedInsertItem(ka,J,R);0<=v&&U.protectedRemoveItem(v,!1);pa(ta.KEY_ADD,J);return[v]};this.undoAdd=function(J,ka){ka=ka[0];0<=ka?U.add(J,ka):U.remove(J)};this.replace=function(J,ka){var V=U.get(J),v=V.clone(),R=U.protectedGetExtendInfo(J),G=U.getIndex(ka);J=0<=G&&G!=J;var Z;J&&(Z=U.protectedGetExtendInfo(G));U.protectedReplaceItem(V,ka,Z);J&&U.protectedRemoveItem(G,!0);pa(ta.KEY_REPLACE,
V);return[v,R,G,Z]};this.undoReplace=function(J,ka,V){var v=V[0],R=V[1],G=V[2];V=V[3];0<=G&&U.protectedInsertItem(G,ka,V);J=U.get(J);U.protectedReplaceItem(J,v,R);pa(ta.KEY_REPLACE,J)};this.remove=function(J){var ka=U.getIndex(J);if(0>ka)throw Error("Sth must be wrong.");var V=U.protectedGetExtendInfo(ka);U.protectedRemoveItem(ka,!0);pa(ta.KEY_REMOVE,J);return[ka,V]};this.undoRemove=function(J,ka){U.protectedInsertItem(ka[0],J,ka[1]);pa(ta.KEY_ADD,J)};this.removeSome=function(J){for(var ka=[],V=J.length-
1;0<=V;V--){var v=U.getIndex(J[V]),R=U.protectedGetExtendInfo(v);U.protectedRemoveItem(v,!0);ka[V]=[v,R]}pa(ta.KEY_CHANGE);return ka};this.undoRemoveSome=function(J,ka){for(var V=0;V<J.length;V++)U.protectedInsertItem(ka[V][0],J[V],ka[V][1]);pa(ta.KEY_CHANGE)};this.keepLogicalOrder=function(){for(var J=na.slice(0),ka=[],V=[],v=!1,R=!1,G=0;G<na.length;G++){var Z=na[G];Z.isDimension()?(ka.push(Z),v&&(R=!0)):Z.isMeasure()&&(v=!0,V.push(Z))}return R?(na=ka.concat(V),pa(ta.KEY_CHANGE),[J]):null};this.undoKeepLogicalOrder=
function(J){J&&(na=J[0],pa(ta.KEY_CHANGE))};this.getCount=function(){return na.length};this.get=function(J){return na[J]};this.getIndex=function(J){for(var ka=0;ka<na.length;ka++)if(na[ka]==J)return ka;return-1};this.getDimensionCount=function(){for(var J=na.length-1;0<=J;J--)if(na[J].isDimension())return J+1;return 0};this.hasAnyDimension=function(){return 0<U.getCount()&&U.get(0).isDimension()};this.addChangedListener=function(J){sa.addListener(J)};this.removeChangedListener=function(J){sa.removeListener(J)};
var pa=function(J,ka,V){var v=new Ta(U,ka);V&&v.setFieldSubEventTarget(V);sa.fireEvent(function(R){R(v,J)})};this.protectedAddItem=function(J,ka){na.push(J);J.addPropertyChangeListener(Ra);J.bindMetaEvent()};this.protectedInsertItem=function(J,ka,V){na.splice(J,0,ka);ka.addPropertyChangeListener(Ra);ka.bindMetaEvent()};this.protectedReplaceItem=function(J,ka,V){J.setMetaField(ka.getMetaField());J.bindMetaEvent();J.setPartValue(ka.getPartValue());J.setDateFormat(ka.getDateFormat());J.setRole(ka.getRole(),
ka.getAggregation())};this.protectedRemoveItem=function(J,ka){J=na.splice(J,1);ka&&J[0].clearListener()};this.protectedGetExtendInfo=function(J){return null};var Ra=function(J,ka){pa(ka,null,J)},Y=function(J,ka){if(!J.isDimension())return null;ka=J.getMetaField();if(ka.getDataType()==Ca.DT_DATE){J=J.getPartValue();ka=[Na.PARTVALUE_DATE_YEAR,Na.PARTVALUE_DATE_QUARTER,Na.PARTVALUE_DATE_MONTH,Na.PARTVALUE_DATE_DAY];for(var V=0;V<ka.length;V++)if(ka[V]==J)return[ka,V];return null}return(J=ka.getTable())?
J.searchHierachy(ka):null};this.getInitialDateHierachyForField=function(J,ka){if(J.isMeasure()||J.getMetaField().getDataType()!=Ca.DT_DATE||J.getPartValue())return null;var V=[Na.PARTVALUE_DATE_YEAR,Na.PARTVALUE_DATE_QUARTER,Na.PARTVALUE_DATE_MONTH,Na.PARTVALUE_DATE_DAY];for(--ka;0<=ka;ka--){var v=na[ka];if(v.getMetaField()==J.getMetaField()){v=v.getPartValue();for(var R=V.length-2;0<=R;R--)if(V[R]==v)return V[R+1]}}return Na.PARTVALUE_DATE_YEAR};this.getHierachyExpandableStates=function(J){for(var ka=
function(S,n,d){for(d+=1;d<n.length;d++)for(var a=n[d],c=0;c<na.length;c++){var b=na[c];if(b!=S&&b.getMetaField()==a)return!0}return!1},V=function(S,n,d){for(d+=1;d<n.length;d++)for(var a=n[d],c=0;c<na.length;c++){var b=na[c];if(b!=S&&b.getMetaField()==S.getMetaField()&&a==b.getPartValue())return!0}return!1},v=[],R=0;R<na.length;R++){var G=na[R],Z=Y(G,J),X=Z?Z[0]:null;Z=Z?Z[1]:-1;X&&Z!=X.length-1?G.getMetaField().getDataType()==Ca.DT_DATE?v[R]=!V(G,X,Z):v[R]=!ka(G,X,Z):v[R]=null}return v};this.createFieldForHierachyExpanding=
function(J,ka){var V=Y(ka,J);J=V[0];var v=V[1];V=new fb;ka.getMetaField().getDataType()==Ca.DT_DATE?(J=J[v+1],V.setMetaField(ka.getMetaField()),V.setPartValue(J)):V.setMetaField(J[v+1]);V.setRole(Na.ROLE_DIMENSION);V.setContinuous(!1);return V};this.searchFieldsForHierachyCollapsing=function(J,ka){var V=[],v=Y(ka,J),R=v[0];v=v[1];for(var G=0;G<na.length;G++){var Z=na[G];if(Z!=ka){var X=Y(Z,J);if(X){var S=X[0];X=X[1];(ka.getMetaField().getDataType()==Ca.DT_DATE?Z.getMetaField()==ka.getMetaField():
R==S)&&X>v&&V.push(Z)}}}return V};this.toJsonObject=function(){for(var J=[],ka=0;ka<na.length;ka++)J.push(na[ka].toJsonObject());return{fields:J}};this.fromJsonObject=function(J,ka){na.length=0;J=J.fields;for(var V=0;V<J.length;V++){var v=J[V],R=new fb;R.fromJsonObject(v,ka);U.protectedAddItem(R)}};this.protectedMethod={fireChangedListener:pa}}function Da(){ta.call(this);var U=this,na=this.protectedMethod,sa=[];this.setFieldMatchingMarkType=function(V,v){var R=U.getIndex(V);0<=R&&(sa[R]=v,na.fireChangedListener(Da.KEY_FIELD_MARK_TYPE,
V))};this.getFieldMatchingMarkType=function(V){V="number"==typeof V?parseInt(V):U.getIndex(V);return 0<=V?sa[V]:null};this.protectedGetExtendInfo=function(V){return sa[V]};var pa=this.protectedAddItem;this.protectedAddItem=function(V,v){pa(V);sa.push(v?v:"")};var Ra=this.protectedInsertItem;this.protectedInsertItem=function(V,v,R){Ra(V,v);sa.splice(V,0,R?R:"")};var Y=this.protectedRemoveItem;this.protectedRemoveItem=function(V,v){Y(V,v);sa.splice(V,1)};var J=this.toJsonObject;this.toJsonObject=function(){for(var V=
J(),v=[],R=0;R<sa.length;R++)v.push(sa[R]);V.markTypes=v;return V};var ka=this.fromJsonObject;this.fromJsonObject=function(V,v){ka(V,v);V=V.markTypes;for(v=0;v<V.length;v++)sa[v]=V[v]}}function Ha(){ta.call(this);var U=this,na=this.protectedMethod,sa=[];this.addSome=function(X,S){for(var n=0;n<X.length;n++)U.protectedAddItem(X[n],S[n]);na.fireChangedListener(ta.KEY_CHANGE)};this.setFilter=function(X,S){X=pa(X);0<=X&&(sa[X]=S,V(S,X),na.fireChangedListener(Ha.KEY_FILTER,U.get(X)))};this.getFilter=function(X){X=
pa(X);return 0<=X?sa[X]:null};this.getFilterIndex=function(X){for(var S=0;S<sa.length;S++)if(sa[S]==X)return S;return-1};var pa=function(X){return"number"==typeof X?parseInt(X):U.getIndex(X)};this.protectedGetExtendInfo=function(X){return sa[X]};var Ra=this.protectedAddItem;this.protectedAddItem=function(X,S){Ra(X);X=S?S:null;sa.push(X);V(X,sa.length-1)};var Y=this.protectedInsertItem;this.protectedInsertItem=function(X,S,n){Y(X,S);S=n?n:null;sa.splice(X,0,S);V(S,X)};var J=this.protectedReplaceItem;
this.protectedReplaceItem=function(X,S,n){J(X,S);X=U.getIndex(X);n=n?n:null;sa[X]=n;V(n,X)};var ka=this.protectedRemoveItem;this.protectedRemoveItem=function(X,S){ka(X,S);X=sa.splice(X,1);S&&((S=X[0])&&S.removeValueChangedListener(v),S&&S.removePropertyChangeListener(R))};var V=function(X,S){X&&(X.addValueChangedListener(v),X.addPropertyChangeListener(R),S=U.get(S),X.setAssociatedField(S))},v=function(X){X=U.get(U.getFilterIndex(X));na.fireChangedListener(Ha.KEY_FILTER_VALUE,X)},R=function(X,S){S==
Wa.KEY_ONSHOW&&(X=U.get(U.getFilterIndex(X)),na.fireChangedListener(Ha.KEY_FILTER_ONSHOW,X))};this.getOnShowFilterCount=function(){for(var X=0,S=0;S<U.getCount();S++)U.getFilter(S).isOnShow()&&X++;return X};this.copyFiltersForSetting=function(){for(var X=[],S=0;S<U.getCount();S++){var n=U.getFilter(S).copyForSetting();X.push(n)}return X};this.applyFiltersFromSetting=function(X){for(var S=0;S<U.getCount();S++)U.getFilter(S).applyFromSetting(X[S])};this.toInsteadJson=function(X){for(var S=U.toJsonObject(),
n=[],d=0;d<X.length;d++){var a=X[d].toJsonObject();n.push(a)}S.filters=n;return S};this.toPartJson=function(X){var S=U.toJsonObject();0<=X&&(S.fields.splice(X,1),S.filters.splice(X,1));return S};var G=this.toJsonObject;this.toJsonObject=function(){for(var X=G(),S=[],n=0;n<sa.length;n++){var d=sa[n].toJsonObject();S.push(d)}X.filters=S;return X};var Z=this.fromJsonObject;this.fromJsonObject=function(X,S){Z(X,S);X=X.filters;sa=[];for(S=0;S<X.length;S++){var n=X[S];switch(n.name){case Va.FILTER_NAME:var d=
new Va;break;case N.FILTER_NAME:d=new N;break;case za.FILTER_NAME:d=new za;break;default:throw Error("Unknown filter name.");}d.fromJsonObject(n);sa[S]=d;V(d,S)}}}function fb(){Na.call(this);var U=this.protectedMethod;this.bindMetaEvent=function(){U.bindMetaEvent()};this.protectedCreateInstance=function(){return new fb}}function hb(){var U=[],na,sa=Na.SORT_ASC;this.getHeadValue=function(){return U};this.setHeadValue=function(pa){U=pa};this.getMeasureIndex=function(){return na||0===na?na:-1};this.setMeasureIndex=
function(pa){na=pa};this.getOrder=function(){return sa};this.setOrder=function(pa){sa=pa};this.toJsonObject=function(){for(var pa={},Ra=[],Y=0;Y<U.length;Y++)Ra.push(U[Y].toJsonObject());pa.headValue=Ra;if(na||0===na)pa.measure=na;sa&&(pa.order=sa);return pa};this.fromJsonObject=function(pa){U=[];for(var Ra=pa.headValue,Y=0;Y<Ra.length;Y++){var J=new Ya;J.fromJsonObject(Ra[Y]);U.push(J)}na=pa.measure;sa=pa.order}}function K(){var U=this,na=new ca,sa,pa,Ra,Y,J;this.getDesignerStatus=function(){!sa&&
(sa=new ya);return sa};this.getExhibitionStatus=function(){!pa&&(pa=new ja);return pa};this.getChartConfig=function(){Ra||(Ra=new ua,Ra.addChangedListener(ka));return Ra};this.addChartConfigChangedListener=function(V){na.addListener(V)};this.removeChartConfigChangedListener=function(V){na.removeListener(V)};var ka=function(V,v){na.fireEvent(function(R){R(V,v?K.KEY_EXECUTE:K.KEY_REPAINT)})};this._innerSetItems=function(V,v){pa=V;Ra=v};this.getExportSetting=function(){return Y};this.setExportSetting=
function(V){Y=V};this.getExportConfig=function(){return J};this.setExportConfig=function(V){J=V};this.createExecutingCopy=function(V,v){var R=pa?pa.getJsonTreeExpandStates()?!0:!1:!1;R=v||R?pa:null;V=Ra?Ra.createExecutingCopy(V):null;var G=new K;G._innerSetItems(R,V);v&&G.setExportSetting(Y);v&&G.setExportConfig(J);return G};this.toJsonObject=function(){var V={};sa&&(V.designerStatus=JSON.stringify(sa.toJsonObject()));pa&&(V.exhibitionStatus=pa.toJsonObject());Ra&&(V.chartConfig=U.getChartConfig().toJsonObject());
Y&&(V.exportSetting=Y);J&&(V.exportConfig=J);return V};this.fromJsonObject=function(V){sa=new ya;var v=V.designerStatus;if(v)try{var R=JSON.parse(v);sa.fromJsonObject(R)}catch(G){window.console&&console.log(G)}else sa.setHide(!1);if(v=V.exhibitionStatus)pa=new ja,pa.fromJsonObject(v);(v=V.chartConfig)&&U.getChartConfig().fromJsonObject(v);Y=V.exportSetting;J=V.exportConfig}}function ya(){var U=!0,na=260,sa=320;this.isHide=function(){return U};this.setHide=function(pa){U=pa};this.getWidth=function(){return na};
this.setWidth=function(pa){na=pa};this.getHeight=function(){return sa};this.setHeight=function(pa){sa=pa};this.toJsonObject=function(){var pa={};pa.hide=U;pa.width=na;pa.height=sa;return pa};this.fromJsonObject=function(pa){U=pa.hide;na=pa.width;sa=pa.height}}function ja(){var U,na,sa,pa,Ra;this.setHeights=function(Y){U=Y};this.getHeights=function(){return U};this.setWidths=function(Y){na=Y};this.getWidths=function(){return na};this.getPaintableWidths=function(){return pa};this.getPaintableHeights=
function(){return sa};this.collectPaintableStatus=function(Y,J){sa=Y;pa=J};this.setJsonTreeExpandStates=function(Y){Ra=Y};this.getJsonTreeExpandStates=function(){return Ra};this.toJsonObject=function(){var Y={};U&&(Y.row=U);na&&(Y.column=na);Y.height=sa;Y.width=pa;Ra&&(Y.treeExpandState=Ra);return Y};this.fromJsonObject=function(Y){U=Y.row;na=Y.column;sa=Y.height;pa=Y.width;Ra=Y.treeExpandState}}function ua(){var U=this,na=new ca,sa=!1,pa=!0,Ra,Y,J,ka=0,V=!1;this.addChangedListener=function(G){na.addListener(G)};
this.removeChangedListener=function(G){na.removeListener(G)};var v=function(G){V|=G;clearTimeout(ka);ka=setTimeout(function(){na.fireEvent(function(Z){Z(U,V)});V=!1},50)};this.setShowLabel=function(G){sa!=G&&(sa=G,v(!1))};this.isShowLabel=function(){return sa};this.setShowLegend=function(G){pa!=G&&(pa=G,v(!0))};this.isShowLegend=function(){return pa};this.getTableConfig=function(){Ra||(Ra=new L,Ra.setChangedListener(R));return Ra};this.getPieConfig=function(){Y||(Y=new da,Y.setChangedListener(R));
return Y};this.getRectTreeConfig=function(){J||(J=new ia,J.setChangedListener(R));return J};this.carry=function(G,Z,X){Ra=G;Y=Z;J=X};var R=function(G,Z){v(Z)};this.backup=function(){var G=new ua;G.setShowLabel(sa);G.setShowLegend(pa);G.carry(U.getTableConfig().backup(),U.getPieConfig().backup(),U.getRectTreeConfig().backup());return G};this.restore=function(G){U.setShowLabel(G.isShowLabel());U.setShowLegend(G.isShowLegend());U.getTableConfig().restore(G.getTableConfig());U.getPieConfig().restore(G.getPieConfig());
U.getRectTreeConfig().restore(G.getRectTreeConfig())};this.createExecutingCopy=function(G){var Z=G==Ba.CHARTTYPE_PIE?Y:null;G=G==Ba.CHARTTYPE_TREEMAP?J:null;var X=new ua;X.setShowLabel(sa);X.setShowLegend(pa);X.carry(Ra,Z,G);return X};this.toJsonObject=function(){var G={};sa&&(G.showLabel=!0);!pa&&(G.showLegend=!1);Ra&&(G.table=Ra.toJsonObject());Y&&(G.pie=Y.toJsonObject());J&&(G.rectTree=J.toJsonObject());return G};this.fromJsonObject=function(G){sa=!0===G.showLabel?!0:!1;pa=!1===G.showLegend?!1:
!0;var Z=G.table;Z&&U.getTableConfig().fromJsonObject(Z);(Z=G.pie)&&U.getPieConfig().fromJsonObject(Z);(G=G.rectTree)&&U.getRectTreeConfig().fromJsonObject(G)}}function C(){var U=this,na;this.setChangedListener=function(sa){na=sa};this.protectedMethod={fireChanged:function(sa){na&&na(U,sa)}}}function L(){C.call(this);var U=this,na=this.protectedMethod,sa=!1,pa=L.PML_ATCOLUMN,Ra=!0,Y=!0;this.isTotalAhead=function(){return sa};this.setTotalAhead=function(J){sa!=J&&(sa=J,na.fireChanged(!0))};this.isParallelMeasureLayoutAtRow=
function(){return pa==L.PML_ATROW};this.setParallelMeasureLayoutAtRow=function(J){var ka=pa;pa=J?L.PML_ATROW:L.PML_ATCOLUMN;pa!=ka&&na.fireChanged(!0)};this.isFrozenTop=function(){return Ra};this.setFrozenTop=function(J){Ra!=J&&(Ra=J,na.fireChanged(!1))};this.isFrozenLeft=function(){return Y};this.setFrozenLeft=function(J){Y!=J&&(Y=J,na.fireChanged(!1))};this.backup=function(){var J=new L;J.setTotalAhead(sa);J.setParallelMeasureLayoutAtRow(U.isParallelMeasureLayoutAtRow());J.setFrozenTop(Ra);J.setFrozenLeft(Y);
return J};this.restore=function(J){U.setTotalAhead(J.isTotalAhead());U.setParallelMeasureLayoutAtRow(J.isParallelMeasureLayoutAtRow());U.setFrozenTop(J.isFrozenTop());U.setFrozenLeft(J.isFrozenLeft())};this.toJsonObject=function(){var J={};sa&&(J.totalAhead=!0);J.parallelMeasureLayout=pa;!Ra&&(J.frozenTop=!1);!Y&&(J.frozenLeft=!1);return J};this.fromJsonObject=function(J){sa=J.totalAhead?!0:!1;var ka=J.parallelMeasureLayout;ka&&(pa=ka);Ra=!1!==J.frozenTop;Y=!1!==J.frozenLeft}}function da(){C.call(this);
var U=this,na=this.protectedMethod,sa=0,pa=da.LABEL_NUMBER,Ra=!1;this.getTopN=function(){return sa};this.setTopN=function(Y){sa!=Y&&(sa=Y,na.fireChanged(!0))};this.getLabelType=function(){return pa};this.setLabelType=function(Y){pa!=Y&&(pa=Y,na.fireChanged(!1))};this.isHideNegative=function(){return Ra};this.setHideNegative=function(Y){Ra!=Y&&(Ra=Y,na.fireChanged(!0))};this.backup=function(){var Y=new da;Y.setTopN(sa);Y.setLabelType(pa);Y.setHideNegative(Ra);return Y};this.restore=function(Y){U.setTopN(Y.getTopN());
U.setLabelType(Y.getLabelType());U.setHideNegative(Y.isHideNegative())};this.toJsonObject=function(){var Y={};sa&&(Y.topN=sa);pa&&(Y.labelType=pa);Ra&&(Y.hideNegative="true");return Y};this.fromJsonObject=function(Y){var J=Y.topN;sa=J?parseInt(J):0;pa=(J=Y.labelType)?parseInt(J):0;Ra=Y.hideNegative?!0:!1}}function ia(){C.call(this);var U=this,na=this.protectedMethod,sa=!1;this.isHideNegative=function(){return sa};this.setHideNegative=function(pa){sa!=pa&&(sa=pa,na.fireChanged(!0))};this.backup=function(){var pa=
new ia;pa.setHideNegative(sa);return pa};this.restore=function(pa){U.setHideNegative(pa.isHideNegative())};this.toJsonObject=function(){var pa={};sa&&(pa.hideNegative="true");return pa};this.fromJsonObject=function(pa){sa=pa.hideNegative?!0:!1}}function I(U){var na,sa;this.isNumberAxis=function(){return U==I.TYPE_NUMBER};this.isContinueAxis=function(){return U==I.TYPE_CONTINUE};this.setDirection=function(pa){na=pa};this.getDirection=function(){return na};this.setDisplayName=function(pa){sa=pa};this.getDisplayName=
function(){return sa}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.longer&&(com.kingdee.bos.qing.longer={});"undefined"==typeof com.kingdee.bos.qing.longer.model&&(com.kingdee.bos.qing.longer.model={});var M=com.kingdee.bos.qing.longer.model;M.AnalyticalModel=Ba;M.AnalyticalFieldSet=ta;M.MarkFieldSet=
Da;M.FilterFieldSet=Ha;M.AnalyticalField=fb;M.SortingLane=hb;M.PieChartConfig=da;M.AnalyticalPreferences=K;M.ChartContext=function(){var U=!0,na=null,sa=null,pa;this.setLandscape=function(Ra){U=Ra};this.isLandscape=function(){return U};this.setSecondaryType=function(Ra){na=Ra};this.getSecondaryType=function(){return na};this.setAxisModel=function(Ra){sa=Ra};this.getAxisModel=function(){return sa};this.isForAxis=function(){return sa?!0:!1};this.setChatConfig=function(Ra){pa=Ra};this.getChartConfig=
function(){return pa};this.isShowLabel=function(){return pa?pa.isShowLabel():!1}};M.AxisModel=I;var ca,ma,Ca,oa,Na,Wa,Ya,Va,N,za,va,Oa;(function(){var U=com.kingdee.bos.qing.common;ca=U.EventListenerList;U=com.kingdee.bos.qing.core.model;ma=U.Meta;Ca=U.MetaField;oa=U.AbstractQingModel;Na=U.AbstractAnalyticalField;Wa=U.AbstractFilter;Ya=U.ExecutableValue;Va=U.DiscreteFilter;N=U.ContinuousFilter;za=U.ContinuousDateFilter;va=U.BriefOutputableFields;Oa=U.LinkTargets})();Ba.KEY_CLEAR="clearAll";Ba.KEY_UNCLEAR=
"unclearAll";Ba.KEY_CHART_TYPE="chartType";Ba.KEY_ROW_GRAND_TOTAL="isRowGrandTotal";Ba.KEY_COLUMN_GRAND_TOTAL="isColumnGrandTotal";Ba.KEY_SORTING_LANE="sortingLane";Ba.KEY_TREE_EXPANDING="treeExpanding";Ba.CHARTTYPE_TABLE="Table";Ba.CHARTTYPE_HEATMAP="HeatMap";Ba.CHARTTYPE_PIE="Pie";Ba.CHARTTYPE_LINE="Line";Ba.CHARTTYPE_MLINE="MultiLine";Ba.CHARTTYPE_AREA="Area";Ba.CHARTTYPE_BAR="Bar";Ba.CHARTTYPE_STACKBAR="StackBar";Ba.CHARTTYPE_TREEMAP="TreeMap";Ba.CHARTTYPE_SCATTER="Scatter";ta.KEY_ADD="add";ta.KEY_REMOVE=
"remove";ta.KEY_REPLACE="replace";ta.KEY_CHANGE="change";Da.KEY_FIELD_MARK_TYPE="setFieldMarkType";Da.TYPE_LABEL="label";Da.TYPE_COLOR="color";Da.TYPE_SIZE="size";Da.TYPE_ANGLE="angle";Da.TYPE_BLANK="blank";Ha.KEY_FILTER="setFilter";Ha.KEY_FILTER_VALUE="filterValueChanged";Ha.KEY_FILTER_ONSHOW="filterOnShowChanged";fb.InvalidPrompt_LEVEL_POSITION_WRONG=100;K.KEY_REPAINT="repaint";K.KEY_EXECUTE="execute";L.PML_ATCOLUMN="AtColumn";L.PML_ATROW="AtRow";da.LABEL_NAME=1;da.LABEL_NUMBER=2;da.LABEL_PERCENT=
4;I.TYPE_NUMBER="number";I.TYPE_CONTINUE="continue";I.TYPE_DISCRETE="discrete";I.DIR_TOP="top";I.DIR_BOTTOM="bottom";I.DIR_LEFT="left";I.DIR_RIGHT="right"})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.longer&&(com.kingdee.bos.qing.longer={});"undefined"==typeof com.kingdee.bos.qing.longer.controller&&(com.kingdee.bos.qing.longer.controller={});var wa=com.kingdee.bos.qing.longer.controller,Ta,Ba,ta,Da;(function(){var Ha=com.kingdee.bos.qing.framework.common;
Ta=Ha.MultilanguageManager.createPackageAccessor(wa);Ha=com.kingdee.bos.qing.core.controller;Ba=Ha.AbstractAction;ta=Ha.AbstractActionAppendAllNecessaryDimensions;Ha=com.kingdee.bos.qing.longer.model;Da=Ha.AnalyticalField})();wa.ActionClearModel=function(){Ba.call(this);var Ha,fb;this.getCaption=function(){return Ta.get("clearModel","\u6e05\u9664")};this.setValue=function(hb){Ha=hb};this.perform=function(){fb=Ha.clear()};this.unperform=function(){Ha.undoClear(fb)}};wa.ActionAddAnalyticalField=function(Ha){Ba.call(this);
var fb,hb,K,ya;this.getCaption=function(){return ya};this.setValue=function(ja,ua){fb=ja;hb=ua;ya=0<=Ha.getIndex(fb)?Ta.get("moveField","\u79fb\u52a8"):Ta.get("addField","\u6dfb\u52a0");ya+=fb.getComplexText()};this.perform=function(){K=Ha.add(fb,hb)};this.unperform=function(){Ha.undoAdd(fb,K)}};wa.ActionReplaceAnalyticalField=function(Ha){Ba.call(this);var fb,hb,K;this.getCaption=function(){return Ta.get("replaceField","\u66ff\u6362\u5206\u6790\u5b57\u6bb5")};this.setValue=function(ya,ja){hb=ya;
fb=ja};this.perform=function(){K=Ha.replace(hb,fb)};this.unperform=function(){Ha.undoReplace(hb,fb,K)}};wa.ActionRemoveAnalyticalField=function(Ha){Ba.call(this);var fb,hb;this.getCaption=function(){return Ta.get("removeField","\u5220\u9664")+fb.getComplexText()};this.setValue=function(K){fb=K};this.perform=function(){hb=Ha.remove(fb)};this.unperform=function(){Ha.undoRemove(fb,hb)}};wa.ActionKeepLogicalOrder=function(Ha){Ba.call(this);var fb;this.perform=function(){fb=Ha.keepLogicalOrder()};this.unperform=
function(){Ha.undoKeepLogicalOrder(fb)}};wa.ActionSetMarkType=function(Ha){Ba.call(this);var fb=this,hb,K;this.getCaption=function(){return Ta.get("setMarkType","\u8bbe\u7f6e#1\u503c\u5c55\u73b0\u65b9\u5f0f").replace("#1",hb.getComplexText())};this.setValue=function(ya,ja){hb=ya;K=ja};this.perform=function(){var ya=Ha.getFieldMatchingMarkType(hb);Ha.setFieldMatchingMarkType(hb,K);K=ya};this.unperform=function(){fb.perform()}};wa.ActionSetFilter=function(Ha){Ba.call(this);var fb=this,hb,K;this.setValue=
function(ya,ja){hb=ya;K=ja};this.perform=function(){var ya=Ha.getFilter(hb);Ha.setFilter(hb,K);K=ya};this.unperform=function(){fb.perform()}};wa.ActionExpandHierachy=function(Ha){Ba.call(this);var fb,hb,K,ya;this.getCaption=function(){return Ta.get("expandHierachy","\u5c55\u5f00")+fb.getComplexText()};this.setValue=function(ja,ua){fb=ua;K=Ha.getIndex(ua)+1;hb=Ha.createFieldForHierachyExpanding(ja,ua)};this.perform=function(){ya=Ha.add(hb,K)};this.unperform=function(){Ha.undoAdd(hb,ya)}};wa.ActionCollapseHierachy=
function(Ha){Ba.call(this);var fb,hb,K;this.getCaption=function(){return Ta.get("collapseHierachy","\u6536\u8d77")+fb.getComplexText()};this.setValue=function(ya,ja){fb=ja;hb=Ha.searchFieldsForHierachyCollapsing(ya,ja)};this.perform=function(){K=Ha.removeSome(hb)};this.unperform=function(){Ha.undoRemoveSome(hb,K)}};wa.ActionSetAllSelectedForDiscreteFilter=function(Ha){Ba.call(this);var fb,hb;this.setCaption=function(K){fb=K};this.getCaption=function(){return fb};this.perform=function(){hb=Ha.cloneAllSelectedValue();
Ha.setFullValue(!0)};this.unperform=function(){Ha.resetAllSelectedValue(hb)}};wa.ActionAppendAllNecessaryDimensions=function(){ta.call(this);var Ha=this.protectedMethod,fb,hb,K;this.setValue=function(ya,ja){fb=ja.getFilterFieldSet();hb=[];K=[];ja=ja.getUsingMetaFields(ya);Ha.visitMissingNecessaryDimensions(ya,ja,function(ua){var C=new Da;hb.push(C);K.push(ua);return C})};this.perform=function(){fb.addSome(hb,K)};this.unperform=function(){fb.removeSome(hb)}}})();(function(){function wa(n){var d=this,a,c,b;this.getName=function(){return n};this.getText=function(){return a};this.getIconFileName=function(){return c};this.getSuppliedMarks=function(){throw Error("Override me.");};this.getCardsDynamicInfo=function(){b||(b=new fb,b.getColumnCardInfo().setTitle(oa.get("columnCardTitle","\u5217")),b.getRowCardInfo().setTitle(oa.get("rowCardTitle","\u884c")),b.getMarkCardInfo().setTitle(oa.get("markCardTitle","\u503c\u5c55\u73b0\u65b9\u5f0f")));return b};this.getCardsOperatingPrompt=
function(q){return new Ha(null,null,null)};this.smartChangeModel=function(q,w,F){throw Error("Override me.");};this.smartDropField=function(q,w,F,O){};this.rowColReverse=function(q,w){w.compositeStart(oa.get("rowColReverse","\u884c\u5217\u7f6e\u6362"));d.protectedRowColReverseImpl(q,w);w.compositeEnd()};this.isFieldValid=function(q,w,F){};this.isCellMeasurable=function(q){return!1};this.getSuggestedSize=function(q,w){throw Error("Override me.");};this.createJsonCellParser=function(){throw Error("Override me.");
};this.exhibit=function(q,w,F,O,ba,ea,qa){throw Error("Override me.");};this.isRowColReverseEnable=function(q){var w=q.getRowAnalyticalFieldSet();q=q.getColumnAnalyticalFieldSet();return 0<w.getCount()||0<q.getCount()};this.protectedRowColReverseImpl=function(q,w){var F=q.getRowAnalyticalFieldSet();q=q.getColumnAnalyticalFieldSet();for(var O=[],ba=[],ea=0;ea<F.getCount();ea++)O.push(F.get(ea));for(ea=0;ea<q.getCount();ea++)ba.push(q.get(ea));for(ea=0;ea<F.getCount();ea++){var qa=new sa(F);qa.setValue(F.get(ea));
w.perform(qa)}for(ea=0;ea<q.getCount();ea++)qa=new sa(q),qa.setValue(q.get(ea)),w.perform(qa);for(ea=0;ea<O.length;ea++)qa=new na(q),qa.setValue(O[ea]),w.perform(qa);for(ea=0;ea<ba.length;ea++)qa=new na(F),qa.setValue(ba[ea]),w.perform(qa)};var e=function(q){return q.getMarkFieldSet()},f=function(q,w,F,O,ba){for(var ea=0,qa=w.getCount();ea<qa;ea++){var Aa=w.get(ea);if(w instanceof N){var Za=w.getFieldMatchingMarkType(ea);for(var jb=!1,sb=0;sb<F.length;sb++){var La=F[sb][1];if(F[sb][0]==Za&&La==Aa.getRole()){jb=
!0;break}}jb||(Za=null)}Aa.isDimension()?O.push(new Ba(Aa,Za)):Aa.isMeasure()&&ba.push(new Ba(Aa,Za));jb=new sa(w);jb.setValue(Aa);q.perform(jb)}},k=function(q,w,F,O){for(var ba=0;ba<w.length;ba++){var ea=w[ba];if(ea instanceof Ba){var qa=ea.getField();var Aa=ea.getExtendInfo()}else qa=ea;if(!O||qa.getMetaField().getDataType()==O){ea=q;for(var Za=Aa,jb=!1,sb=0;sb<ea.length;sb++){var La=ea[sb].getField();if(La.getMetaField()==qa.getMetaField()&&La.getRole()==qa.getRole())if(La.isMeasure()){if(La.getAggregation()==
qa.getAggregation()){jb=!0;break}}else{jb=!0;break}}jb?ea=!1:(ea.push(new Ba(qa,Za)),ea=!0);if(F&&ea){w.splice(ba,1);break}}}},h=function(q,w){for(var F=0;F<q.length;F++)if(q[F].getExtendInfo()==w)return F;return-1};this.protectedMethod={setText:function(q){a=q},setIconFileName:function(q){c=q},getCommonClickListener:function(q,w,F){return function(O,ba,ea){w.toggleMenu(O,ba)&&F.setMouseStateLocked(!0);O=q.getJsonForDetailSearching(ea);w.setDetailSearchingParam(O)}},getCommonTooltipsListener:function(q,
w,F){var O=function(){F.setMouseStateLocked(!1)};return function(ba,ea,qa){if(ba&&q){w.setPosition(ba,ea);ba=q.getDisplayShedTitle();ea=[];for(var Aa=0;Aa<ba.length;Aa++){var Za=ba[Aa];ea.push({key:Za.key,value:Za.value})}ea=ea.concat(qa);w.setContent(ea);w.hookHideAnnouncer(O)}else w.hide()}},getMarkFieldSet:e,setCardsTitle:function(q,w,F){var O=d.getCardsDynamicInfo();q&&O.getColumnCardInfo().setTitle(q);w&&O.getRowCardInfo().setTitle(w);F&&O.getMarkCardInfo().setTitle(F)},isMeasureExist:function(q){for(var w=
q.getCount()-1;0<=w;w--){var F=q.get(w);if(F.isMeasure()&&!F.getInvalidPrompt())return!0}return!1},lookupMeasures:function(q,w){for(var F=0;F<q.getCount();F++){var O=q.get(F);O.isMeasure()&&w(O)}},lookupMarks:function(q,w,F){for(var O=0;O<q.getCount();O++){var ba=q.get(O);q.getFieldMatchingMarkType(O)==w&&F(ba)}},isMarkExist:function(q,w){for(var F=0;F<q.getCount();F++)if(q.getFieldMatchingMarkType(F)==w)return!0;return!1},setFieldInvalid:function(q,w){var F=new Wa.InvalidPrompt;F.setLevel(Va.InvalidPrompt_LEVEL_POSITION_WRONG,
w?!0:!1);F.setPromptText(w);q.setInvalidPrompt(F)},washFields:function(q,w,F){var O=[],ba=[];f(q,w.getRowAnalyticalFieldSet(),F,O,ba);var ea=[],qa=[];f(q,w.getColumnAnalyticalFieldSet(),F,ea,qa);var Aa=[],Za=[];f(q,e(w),F,Aa,Za);q=new ta;q.setWashedFields(O,ba,ea,qa,Aa,Za);return q},mergeAllNoDuplicated:function(q,w){k(q,w,!1)},mergeOnlyOneNoDuplicated:function(q,w,F){k(q,w,!0,F)},searchMark:function(q,w){w=h(q,w);return 0<=w?q[w]:null},pickupMark:function(q,w){w=h(q,w);if(0<=w){var F=q[w];q.splice(w,
1);return F}return null},patchMark:function(q,w,F){for(var O=0;O<q.length;O++){var ba=q[O];if(!ba.getExtendInfo()&&(ba.setExtendInfo(w),F))break}},appendFields:function(q,w,F){for(var O=0;O<w.length;O++){var ba=w[O],ea=ba.getField(),qa=new na(F);qa.setValue(ea);q.perform(qa);F instanceof N&&(ba=ba.getExtendInfo(),qa=new pa(F),qa.setValue(ea,ba),q.perform(qa))}}}}function Ta(){this.isRowColReverseEnable=function(n){var d=n.getRowAnalyticalFieldSet();n=n.getColumnAnalyticalFieldSet();for(var a=[],c=
[],b=0;b<d.getCount();b++){var e=d.get(b);e.isDimension()&&a.push(e)}for(b=0;b<n.getCount();b++)e=n.get(b),e.isDimension()&&c.push(e);return 0<a.length||1<c.length};this.protectedRowColReverseImpl=function(n,d){var a=n.getRowAnalyticalFieldSet();n=n.getColumnAnalyticalFieldSet();for(var c=[],b=[],e=0;e<a.getCount();e++){var f=a.get(e);f.isDimension()&&c.push(f)}for(e=0;e<n.getCount();e++)f=n.get(e),f.isDimension()&&b.push(f);0<b.length&&b.pop();for(e=0;e<c.length;e++)f=new sa(a),f.setValue(c[e]),
d.perform(f);for(e=0;e<b.length;e++)f=new sa(n),f.setValue(b[e]),d.perform(f);for(e=c.length-1;0<=e;e--)f=new na(n),f.setValue(c[e],0),d.perform(f);for(e=b.length-1;0<=e;e--)f=new na(a),f.setValue(b[e],0),d.perform(f)}}function Ba(n,d){var a=d;this.getField=function(){return n};this.getExtendInfo=function(){return a};this.setExtendInfo=function(c){a=c}}function ta(){var n,d,a,c,b,e;this.setWashedFields=function(f,k,h,q,w,F){n=f;d=k;a=h;c=q;b=w;e=F};this.getRowDimensionWrap=function(){return n};this.getRowMesaureWrap=
function(){return d};this.getColumnDimensionWrap=function(){return a};this.getColumnMesaureWrap=function(){return c};this.getMarkDimensionWrap=function(){return b};this.getMarkMesaureWrap=function(){return e}}function Da(){var n=this,d,a,c,b,e=-1,f=-1,k=-1,h=null,q=null;this.getMinWidth=function(){return d};this.getMaxWidth=function(){return a};this.getMinHeight=function(){return c};this.getMaxHeight=function(){return b};this.setSize=function(w,F){n.setMinSize(w,F);n.setMaxSize(w,F)};this.setMinSize=
function(w,F){d=w;c=F};this.setMaxSize=function(w,F){a=w;b=F};this.getWidthHeightRatio=function(){return e};this.setWidthHeightRatio=function(w){e=w};this.getLeftAxisColumnWidth=function(){return f};this.setLeftAxisColumnWidth=function(w){f=w};this.getTopAxisRowHeight=function(){return k};this.setTopAxisRowHeight=function(w){k=w};this.isLeftAsNumberAxis=function(){return h};this.setLeftAsNumberAxis=function(w){h=w};this.isTopAsNumberAxis=function(){return q};this.setTopAsNumberAxis=function(w){q=
w}}function Ha(n,d,a){this.getColumnCardPrompt=function(){return n};this.getRowCardPrompt=function(){return d};this.getMarkCardPrompt=function(){return a}}function fb(){function n(){var b;this.setTitle=function(e){b=e};this.getTitle=function(){return b}}var d=new n,a=new n,c=new n;this.getColumnCardInfo=function(){return d};this.getRowCardInfo=function(){return a};this.getMarkCardInfo=function(){return c}}function hb(){var n=this,d;this.parseCommonCell=function(a){d=null;a&&(d=n.parseExhibitModel(a))};
this.getCommonModel=function(){return d};this.parseAxisModel=function(a){throw Error("Override me.");};this.parseExhibitModel=function(a){throw Error("Override me.");}}function K(){hb.call(this);var n=this;this.parseAxisModel=function(a){var c=a.title,b=new va(a.axis);c&&b.setDisplayName(c);switch(a.dir){case "top":b.setDirection(va.DIR_TOP);break;case "bottom":b.setDirection(va.DIR_BOTTOM);break;case "left":b.setDirection(va.DIR_LEFT);break;case "right":b.setDirection(va.DIR_RIGHT)}return b};this.parseExhibitModel=
function(a){return d(a?a.chart:null)};var d=function(a){a?a=Ra.createFromJson(a):(a=new Ra,a.setCategories([]),a.setSeries([]));var c=a,b=n.getCommonModel();b&&c.merge(b);return a};this.protectedMethod={parseChartModelImpl:d}}function ya(){hb.call(this);this.parseExhibitModel=function(n){return[Y.createFromJson(n?n.tree:{root:[]}),n]}}function ja(){function n(){hb.call(this);var a=this;this.parseExhibitModel=function(c){if(c){var b=a.getCommonModel();if(b){var e=b.colorTitle;e&&(c.colorTitle=e);(b=
b.title)&&(c.title=b)}}return c}}wa.call(this,Ya.CHARTTYPE_TABLE);var d=this.protectedMethod;d.setIconFileName("chart_table");d.setText(oa.get("table","\u8868\u683c"));d.setCardsTitle(null,null,oa.get("markCardTitleForTable","\u6570\u503c\u533a\u57df"));this.getSuppliedMarks=function(){return[N.TYPE_LABEL,N.TYPE_COLOR]};this.smartDropField=function(a,c,b,e){var f=d.getMarkFieldSet(a);c==f?(!b.isMeasure()&&b.getMetaField().isCanAsMeasure()&&(a=b.getMetaField().getDataType()==Na.DT_NUMBER,c=new Oa(b),
c.setValue(a?Wa.AGGREGATION_SUM:Wa.AGGREGATION_COUNT),e.perform(c),a=new U(b),a.setValue(null),e.perform(a)),f=new pa(f),f.setValue(b,N.TYPE_LABEL),e.perform(f)):c!=a.getColumnAnalyticalFieldSet()&&c!=a.getRowAnalyticalFieldSet()||b.isDimension()||!b.getMetaField().isCanAsDimension()||(c=new Oa(b),c.setValue(Wa.ROLE_DIMENSION),e.perform(c),b.getMetaField().getDataType()!=Na.DT_DATE||b.getPartValue()||(a=new U(b),a.setValue(Wa.PARTVALUE_DATE_YEAR),e.perform(a)))};this.smartChangeModel=function(a,c,
b){var e=d.washFields(c,a,[[N.TYPE_LABEL,Wa.ROLE_MEASURE],[N.TYPE_COLOR,Wa.ROLE_MEASURE]]),f=e.getRowDimensionWrap(),k=e.getRowMesaureWrap(),h=e.getColumnDimensionWrap(),q=e.getColumnMesaureWrap(),w=e.getMarkDimensionWrap();e=e.getMarkMesaureWrap();var F=b.getDimensionSelecteds();b=b.getMeasureSelecteds();1<f.length+w.length+F.length&&(0==h.length&&d.mergeOnlyOneNoDuplicated(h,w),0==h.length&&d.mergeOnlyOneNoDuplicated(h,F));d.mergeAllNoDuplicated(f,w);d.mergeAllNoDuplicated(f,F);d.mergeAllNoDuplicated(e,
k);d.mergeAllNoDuplicated(e,q);d.mergeAllNoDuplicated(e,b);d.patchMark(e,N.TYPE_LABEL);d.appendFields(c,f,a.getRowAnalyticalFieldSet());d.appendFields(c,h,a.getColumnAnalyticalFieldSet());d.appendFields(c,e,d.getMarkFieldSet(a))};this.getCardsOperatingPrompt=function(a){var c=null,b=null,e=null;0==a.getRowAnalyticalFieldSet().getCount()+a.getColumnAnalyticalFieldSet().getCount()&&(c=b=oa.get("tryDragTextField","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==d.getMarkFieldSet(a).getCount()&&
(e=oa.get("dragNumField","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return new Ha(b,c,e)};this.isFieldValid=function(a,c,b){if(c==a.getRowAnalyticalFieldSet()||c==a.getColumnAnalyticalFieldSet()){if(null!=b&&b.isMeasure())return d.setFieldInvalid(b,oa.get("tableRowColCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u201c\u8868\u683c\u201d\uff0c\u884c/\u5217\u4e0a\u4e0d\u80fd\u6709\u5ea6\u91cf\u3002")),!1}else if(c==d.getMarkFieldSet(a)){a=!0;for(var e=b=0;e<c.getCount();e++){var f=
c.get(e),k=c.getFieldMatchingMarkType(f);f.isDimension()?(d.setFieldInvalid(f,oa.get("tableMarkCardPrompt","\u6570\u503c\u533a\u57df\u4e2d\u4e0d\u80fd\u6709\u7ef4\u5ea6\uff0c\u5c1d\u8bd5\u62d6\u5230\u884c/\u5217\u4e0a\u3002")),a=!1):k==N.TYPE_COLOR&&(b++,1==b?d.setFieldInvalid(f,null):(d.setFieldInvalid(f,oa.get("onlyOneFieldForColor","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u5c55\u73b0\u4e3a\u989c\u8272\u3002")),a=!1))}return a}return!0};this.isCellMeasurable=function(a){return!0};this.getSuggestedSize=
function(a,c){a=new Da;a.setSize(120,24);return a};this.createJsonCellParser=function(){return new n};this.exhibit=function(a,c,b,e,f,k,h){e&&(a.onmousemove=function(q){h.setPosition(q.clientX,q.clientY);q=[];for(var w=k.getDisplayShedTitle(),F=0;F<w.length;F++){var O=w[F];q.push({key:O.key,value:O.value})}q.push({key:e.title,value:e.text});e.colorTitle&&e.colorText&&q.push({key:e.colorTitle,value:e.colorText});h.setContent(q);a.style.cursor="pointer"},$(a).on("mouseleave",function(q){h.hide()}),
a.onclick=function(q){h.toggleMenu(q.clientX,q.clientY);q=k.getJsonForDetailSearching();h.setDetailSearchingParam(q)})}}function ua(){function n(){hb.call(this);var a=this;this.parseExhibitModel=function(c){if(c){var b=a.getCommonModel();if(b){var e=b.colorTitle;e&&(c.colorTitle=e);(b=b.sizeTitle)&&(c.sizeTitle=b)}}return c}}wa.call(this,Ya.CHARTTYPE_HEATMAP);var d=this.protectedMethod;d.setIconFileName("chart_heatmap");d.setText(oa.get("heatmap","\u70ed\u529b\u56fe"));this.getSuppliedMarks=function(){return[N.TYPE_SIZE,
N.TYPE_COLOR]};this.smartDropField=function(a,c,b,e){a=d.getMarkFieldSet(a);c==a&&(b.isMeasure()?(c=new pa(a),d.isMarkExist(a,N.TYPE_SIZE)?d.isMarkExist(a,N.TYPE_COLOR)?c.setValue(b,N.TYPE_SIZE):c.setValue(b,N.TYPE_COLOR):c.setValue(b,N.TYPE_SIZE)):(c=new pa(a),c.setValue(b,N.TYPE_SIZE)),e.perform(c))};this.smartChangeModel=function(a,c,b){var e=d.washFields(c,a,[[N.TYPE_SIZE,Wa.ROLE_MEASURE],[N.TYPE_COLOR,Wa.ROLE_MEASURE]]),f=e.getRowDimensionWrap(),k=e.getRowMesaureWrap(),h=e.getColumnDimensionWrap(),
q=e.getColumnMesaureWrap(),w=e.getMarkDimensionWrap();e=e.getMarkMesaureWrap();var F=b.getDimensionSelecteds();b=b.getMeasureSelecteds();1<f.length+w.length+F.length&&(0==h.length&&d.mergeOnlyOneNoDuplicated(h,w),0==h.length&&d.mergeOnlyOneNoDuplicated(h,F));d.mergeAllNoDuplicated(f,w);d.mergeAllNoDuplicated(f,F);d.mergeAllNoDuplicated(e,k);d.mergeAllNoDuplicated(e,q);d.mergeAllNoDuplicated(e,b);d.searchMark(e,N.TYPE_SIZE)||d.patchMark(e,N.TYPE_SIZE,!0);d.searchMark(e,N.TYPE_COLOR)||d.patchMark(e,
N.TYPE_COLOR,!0);d.patchMark(e,N.TYPE_SIZE);d.appendFields(c,f,a.getRowAnalyticalFieldSet());d.appendFields(c,h,a.getColumnAnalyticalFieldSet());d.appendFields(c,e,d.getMarkFieldSet(a))};this.getCardsOperatingPrompt=function(a){var c=null,b=null,e=null;0==a.getRowAnalyticalFieldSet().getCount()+a.getColumnAnalyticalFieldSet().getCount()&&(c=b=oa.get("tryDragTextField","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==d.getMarkFieldSet(a).getCount()&&(e=oa.get("dragNumField",
"\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return new Ha(b,c,e)};this.isFieldValid=function(a,c,b){if(c==a.getRowAnalyticalFieldSet()||c==a.getColumnAnalyticalFieldSet()){if(null!=b&&b.isMeasure())return d.setFieldInvalid(b,oa.get("heatmapRowColCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u201c\u70ed\u529b\u56fe\u201d\uff0c\u884c/\u5217\u4e0a\u4e0d\u80fd\u6709\u5ea6\u91cf\u3002")),!1}else if(c==d.getMarkFieldSet(a)){a=!0;for(var e=b=0,f=0;f<c.getCount();f++){var k=c.get(f),
h=c.getFieldMatchingMarkType(k);k.isDimension()?(d.setFieldInvalid(k,oa.get("heatmapMarkCardPrompt","\u6570\u503c\u533a\u57df\u4e2d\u4e0d\u80fd\u6709\u7ef4\u5ea6\uff0c\u5c1d\u8bd5\u62d6\u5230\u884c/\u5217\u4e0a\u3002")),a=!1):h==N.TYPE_COLOR?(b++,1==b?d.setFieldInvalid(k,null):(d.setFieldInvalid(k,oa.get("onlyOneFieldForColor","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u5c55\u73b0\u4e3a\u989c\u8272\u3002")),a=!1)):h==N.TYPE_SIZE&&(e++,1==e?d.setFieldInvalid(k,null):(d.setFieldInvalid(k,oa.get("onlyOneFieldForSize",
"\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u8868\u793a\u5927\u5c0f\u3002")),a=!1))}return a}return!0};this.isCellMeasurable=function(a){return!0};this.getSuggestedSize=function(a,c){a=new Da;a.setSize(60,30);return a};this.createJsonCellParser=function(){return new n};this.exhibit=function(a,c,b,e,f,k,h){if(e){var q=new ka;q.setColor(e.color);if("shape"==f.getSecondaryType()){var w=parseFloat(e.size);w=parseInt(.8*Math.min(c,b)*w);q.setDiameter(w);q.drawShape(a,c,b)}else"color"==f.getSecondaryType()&&
q.drawColorRect(a,c,b);q.setClickListener(function(O,ba,ea){d.getCommonClickListener(k,h,q)(O,ba,null)});q.setTooltipsListener(function(O,ba,ea){if(O&&k){h.setPosition(O,ba);O=k.getDisplayShedTitle();for(ba=0;ba<O.length;ba++){var qa=O[ba];ea.push({key:qa.key,value:qa.value})}"shape"==f.getSecondaryType()&&ea.push({key:e.sizeTitle,value:e.sizeText});e.colorTitle&&e.colorText&&ea.push({key:e.colorTitle,value:e.colorText});h.setContent(ea);a.style.cursor="pointer";h.hookHideAnnouncer(F)}else h.hide()});
var F=function(){q.setMouseStateLocked(!1)}}}}function C(){function n(){K.call(this);var c=this.protectedMethod;this.parseExhibitModel=function(b){return[c.parseChartModelImpl(b?b.pie:null),b]}}wa.call(this,Ya.CHARTTYPE_PIE);var d=this.protectedMethod;d.setIconFileName("chart_pie");d.setText(oa.get("chartPie","\u997c\u56fe"));this.getSuppliedMarks=function(){return[N.TYPE_ANGLE,N.TYPE_COLOR,N.TYPE_SIZE]};this.smartDropField=function(c,b,e,f){c=d.getMarkFieldSet(c);b==c&&(b=new pa(c),e.isDimension()?
b.setValue(e,N.TYPE_COLOR):d.isMarkExist(c,N.TYPE_ANGLE)?b.setValue(e,N.TYPE_SIZE):b.setValue(e,N.TYPE_ANGLE),f.perform(b))};this.smartChangeModel=function(c,b,e){var f=d.washFields(b,c,[[N.TYPE_COLOR,Wa.ROLE_DIMENSION],[N.TYPE_ANGLE,Wa.ROLE_MEASURE],[N.TYPE_SIZE,Wa.ROLE_MEASURE]]),k=f.getRowDimensionWrap(),h=f.getRowMesaureWrap(),q=f.getColumnDimensionWrap(),w=f.getColumnMesaureWrap(),F=f.getMarkDimensionWrap();f=f.getMarkMesaureWrap();var O=e.getDimensionSelecteds();e=e.getMeasureSelecteds();var ba=
d.pickupMark(F,N.TYPE_COLOR);ba||(ba=[],0==ba.length&&d.mergeOnlyOneNoDuplicated(ba,F),0==ba.length&&d.mergeOnlyOneNoDuplicated(ba,O),0==ba.length&&d.mergeOnlyOneNoDuplicated(ba,k),0==ba.length&&d.mergeOnlyOneNoDuplicated(ba,q),ba=0==ba.length?null:new Ba(ba[0].getField(),N.TYPE_COLOR));1<k.length+F.length+O.length&&(0==q.length&&d.mergeOnlyOneNoDuplicated(q,F),0==q.length&&d.mergeOnlyOneNoDuplicated(q,O));d.mergeAllNoDuplicated(k,F);d.mergeAllNoDuplicated(k,O);d.mergeAllNoDuplicated(f,h);d.mergeAllNoDuplicated(f,
w);d.mergeAllNoDuplicated(f,e);d.searchMark(f,N.TYPE_ANGLE)||d.patchMark(f,N.TYPE_ANGLE,!0);d.patchMark(f,N.TYPE_SIZE);d.searchMark(f,N.TYPE_ANGLE)||(h=d.searchMark(f,N.TYPE_SIZE))&&h.setExtendInfo(N.TYPE_ANGLE);d.patchMark(F,N.TYPE_COLOR);d.appendFields(b,k,c.getRowAnalyticalFieldSet());d.appendFields(b,q,c.getColumnAnalyticalFieldSet());ba&&d.appendFields(b,[ba],d.getMarkFieldSet(c));d.appendFields(b,f,d.getMarkFieldSet(c))};this.getCardsOperatingPrompt=function(c){var b=null;0==d.getMarkFieldSet(c).getCount()&&
(b=oa.get("dragNumAndTextField","\u5c06\u4e00\u4e2a\u6570\u503c\u5b57\u6bb5\u548c\u4e00\u4e2a\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return new Ha(null,null,b)};this.isFieldValid=function(c,b,e){if(b==c.getRowAnalyticalFieldSet()||b==c.getColumnAnalyticalFieldSet()){if(null!=e&&e.isMeasure())return d.setFieldInvalid(e,oa.get("pieRowColCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u997c\u56fe\uff0c\u884c/\u5217\u4e0a\u4e0d\u80fd\u6709\u5ea6\u91cf\u3002")),!1}else if(b==d.getMarkFieldSet(c)){c=
!0;for(var f=0,k=0,h=0,q=0;q<b.getCount();q++){var w=b.get(q),F=b.getFieldMatchingMarkType(w),O=!0;w.isDimension()&&F!=N.TYPE_COLOR?O=!1:w.isMeasure()&&F!=N.TYPE_ANGLE&&F!=N.TYPE_SIZE&&(O=!1);O?F==N.TYPE_COLOR?(f++,1==f?d.setFieldInvalid(w,null):(d.setFieldInvalid(w,oa.get("onlyOneFieldForColor","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u5c55\u73b0\u4e3a\u989c\u8272\u3002")),c=!1)):F==N.TYPE_ANGLE?(k++,1==k?d.setFieldInvalid(w,null):(d.setFieldInvalid(w,oa.get("onlyOneFieldForAngle","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u4f5c\u4e3a\u89d2\u5ea6\u3002")),
c=!1)):F==N.TYPE_SIZE&&(h++,1==h?d.setFieldInvalid(w,null):(d.setFieldInvalid(w,oa.get("onlyOneFieldForSize","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u8868\u793a\u5927\u5c0f\u3002")),c=!1)):(null!=e&&d.setFieldInvalid(e,oa.get("pieMarkCardPrompt","\u7528\u7ef4\u5ea6\u8868\u793a\u989c\u8272\uff0c\u7528\u5ea6\u91cf\u8868\u793a\u89d2\u5ea6\u3002")),c=!1)}return c}return!0};this.isCellMeasurable=function(c){c=d.getMarkFieldSet(c);return d.isMarkExist(c,N.TYPE_SIZE)};this.getSuggestedSize=function(c,
b){c=new Da;c.setSize(200,200);b.getRowAnalyticalFieldSet().hasAnyDimension()||(b.getColumnAnalyticalFieldSet().hasAnyDimension()?c.setLeftAxisColumnWidth(50):(c.setLeftAxisColumnWidth(10),c.setTopAxisRowHeight(10)));return c};this.createJsonCellParser=function(){return new n};this.exhibit=function(c,b,e,f,k,h,q){var w=f[0],F=f[1];f=parseInt(.8*Math.min(b,e));var O=F?F.size:null;O&&(O=parseFloat(O),f=parseInt(f*O));O=k.getChartConfig();var ba=new R;ba.setModel(w);ba.getAttr().setShowDataLabel(k.isShowLabel());
ba.getAttr().setDataLabelType(a(O.getPieConfig().getLabelType()));ba.setDiameter(f);ba.draw(c,b,e);ba.setClickListener(function(qa,Aa,Za){var jb=d.getCommonClickListener(h,q,ba);0<=Za?(Za=[ba.getModel().getCategories()[Za].getExecutableValue()],jb(qa,Aa,Za)):F&&F.sizeTitle&&jb(qa,Aa,null)});ba.setTooltipsListener(function(qa,Aa,Za){if(qa&&h){q.setPosition(qa,Aa);qa=h.getDisplayShedTitle();Aa=[];for(var jb=0;jb<qa.length;jb++){var sb=qa[jb];Aa.push({key:sb.key,value:sb.value})}if(Za&&0!=Za.length)Aa=
Aa.concat(Za);else if(F&&F.sizeTitle)Aa.push({key:F.sizeTitle,value:F.sizeText});else{q.hide();return}q.setContent(Aa);q.hookHideAnnouncer(ea)}else q.hide()});var ea=function(){ba.setMouseStateLocked(!1)}};var a=function(c){var b=0;(c&za.LABEL_NAME)==za.LABEL_NAME&&(b|=J.SHOW_LABEL_NAME);(c&za.LABEL_NUMBER)==za.LABEL_NUMBER&&(b|=J.SHOW_LABEL_NUMBER);(c&za.LABEL_PERCENT)==za.LABEL_PERCENT&&(b|=J.SHOW_LABEL_PERCENT);return b}}function L(){wa.call(this,Ya.CHARTTYPE_LINE);Ta.call(this);var n=this.protectedMethod;
n.setIconFileName("chart_line");n.setText(oa.get("chartLine","\u6298\u7ebf\u56fe"));n.setCardsTitle(oa.get("columnCardTitleWithAxis","\u5217\uff08\u6a2a\u8f74\uff09"),oa.get("rowCardTitleWithAxis","\u884c\uff08\u7eb5\u8f74\uff09")," ");this.getSuppliedMarks=function(){return[]};this.smartChangeModel=function(d,a,c){var b=n.washFields(a,d,[]),e=b.getRowDimensionWrap(),f=b.getRowMesaureWrap(),k=b.getColumnDimensionWrap(),h=b.getColumnMesaureWrap(),q=b.getMarkDimensionWrap();b=b.getMarkMesaureWrap();
var w=c.getDimensionSelecteds();c=c.getMeasureSelecteds();0==k.length&&n.mergeOnlyOneNoDuplicated(k,q,Na.DT_STRING);0==k.length&&n.mergeOnlyOneNoDuplicated(k,w,Na.DT_STRING);0==k.length&&n.mergeOnlyOneNoDuplicated(k,e,Na.DT_STRING);var F=k.length;k.length==F&&n.mergeOnlyOneNoDuplicated(k,q,Na.DT_DATE);k.length==F&&n.mergeOnlyOneNoDuplicated(k,w,Na.DT_DATE);k.length==F&&n.mergeOnlyOneNoDuplicated(k,e,Na.DT_DATE);n.mergeAllNoDuplicated(e,q);n.mergeAllNoDuplicated(e,w);n.mergeAllNoDuplicated(f,h);n.mergeAllNoDuplicated(f,
b);n.mergeAllNoDuplicated(f,c);n.appendFields(a,e,d.getRowAnalyticalFieldSet());n.appendFields(a,f,d.getRowAnalyticalFieldSet());n.appendFields(a,k,d.getColumnAnalyticalFieldSet())};this.getCardsOperatingPrompt=function(d){var a=null,c=null;0==d.getRowAnalyticalFieldSet().getCount()&&(a=oa.get("dragNumField","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==d.getColumnAnalyticalFieldSet().getCount()&&(c=oa.get("tryDragDateField","\u5c1d\u8bd5\u5c06\u65e5\u671f\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));
return new Ha(c,a,null)};this.isFieldValid=function(d,a,c){if(null==c){var b=0,e=!0;a==d.getRowAnalyticalFieldSet()&&n.lookupMeasures(d.getRowAnalyticalFieldSet(),function(f){b++;1==b?n.setFieldInvalid(f,null):(n.setFieldInvalid(f,oa.get("chartLineRowCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u6298\u7ebf\u56fe\uff0c\u884c\u4e0a\u53ea\u80fd\u6709\u4e00\u4e2a\u5ea6\u91cf\u3002")),e=!1)});return e}return a==d.getRowAnalyticalFieldSet()?(b=0,e=!0,c.isMeasure()&&n.lookupMeasures(d.getRowAnalyticalFieldSet(),
function(f){b++;1==b?n.setFieldInvalid(f,null):(n.setFieldInvalid(f,oa.get("chartLineRowCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u6298\u7ebf\u56fe\uff0c\u884c\u4e0a\u53ea\u80fd\u6709\u4e00\u4e2a\u5ea6\u91cf\u3002")),e=!1)}),e):a==d.getColumnAnalyticalFieldSet()&&c.isMeasure()?(n.setFieldInvalid(c,oa.get("chartLineColCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u6298\u7ebf\u56fe\uff0c\u5217\u4e0a\u4e0d\u80fd\u6709\u5ea6\u91cf\u3002")),!1):!0};this.getSuggestedSize=function(d,a){d=new Da;
d.setMinSize(120,80);d.setMaxSize(640,480);d.setLeftAsNumberAxis(!0);d.setLeftAxisColumnWidth(100);d.setTopAsNumberAxis(!1);d.setTopAxisRowHeight(-1);return d};this.createJsonCellParser=function(){return new K};this.exhibit=function(d,a,c,b,e,f,k){var h=new G;h.setModel(b);h.getAttr().setShowDataLabel(e.isShowLabel());e.isForAxis()?(b=e.getAxisModel(),b.isNumberAxis()?(b=b.getDisplayName(),h.drawNumberAxis(d,a,c,b)):b.isContinueAxis()&&h.drawCategoryAxis(d,a,c)):(h.draw(d,a,c),h.setClickListener(function(q,
w,F){0<=F&&(F=[h.getModel().getCategories()[F].getExecutableValue()],n.getCommonClickListener(f,k,h)(q,w,F))}),h.setTooltipsListener(n.getCommonTooltipsListener(f,k,h)))}}function da(){wa.call(this,Ya.CHARTTYPE_MLINE);Ta.call(this);var n=this.protectedMethod;n.setIconFileName("chart_mline");n.setText(oa.get("chartMLine","\u591a\u7cfb\u5217\u6298\u7ebf\u56fe"));n.setCardsTitle(oa.get("columnCardTitleWithAxis","\u5217\uff08\u6a2a\u8f74\uff09"),oa.get("rowCardTitleWithAxis","\u884c\uff08\u7eb5\u8f74\uff09"),
null);this.getSuppliedMarks=function(){return[N.TYPE_COLOR]};this.smartDropField=function(d,a,c,b){d=n.getMarkFieldSet(d);a==d&&(a=new pa(d),a.setValue(c,N.TYPE_COLOR),b.perform(a))};this.smartChangeModel=function(d,a,c){var b=n.washFields(a,d,[]),e=b.getRowDimensionWrap(),f=b.getRowMesaureWrap(),k=b.getColumnDimensionWrap(),h=b.getColumnMesaureWrap(),q=b.getMarkDimensionWrap(),w=b.getMarkMesaureWrap();b=c.getDimensionSelecteds();c=c.getMeasureSelecteds();0==k.length&&n.mergeOnlyOneNoDuplicated(k,
q,Na.DT_STRING);0==k.length&&n.mergeOnlyOneNoDuplicated(k,b,Na.DT_STRING);0==k.length&&n.mergeOnlyOneNoDuplicated(k,e,Na.DT_STRING);var F=k.length;k.length==F&&n.mergeOnlyOneNoDuplicated(k,q,Na.DT_DATE);k.length==F&&n.mergeOnlyOneNoDuplicated(k,b,Na.DT_DATE);k.length==F&&n.mergeOnlyOneNoDuplicated(k,e,Na.DT_DATE);n.mergeAllNoDuplicated(f,h);n.mergeAllNoDuplicated(f,w);n.mergeAllNoDuplicated(f,c);if(1==f.length){var O=n.pickupMark(q,N.TYPE_COLOR);O||(h=[],0==h.length&&n.mergeOnlyOneNoDuplicated(h,
q),0==h.length&&n.mergeOnlyOneNoDuplicated(h,b),0==h.length&&n.mergeOnlyOneNoDuplicated(h,e),0==h.length&&1<k.length&&n.mergeOnlyOneNoDuplicated(h,k,Na.DT_STRING),O=0==h.length?null:new Ba(h[0].getField(),N.TYPE_COLOR))}n.mergeAllNoDuplicated(e,q);n.mergeAllNoDuplicated(e,b);n.appendFields(a,e,d.getRowAnalyticalFieldSet());n.appendFields(a,f,d.getRowAnalyticalFieldSet());n.appendFields(a,k,d.getColumnAnalyticalFieldSet());O&&n.appendFields(a,[O],n.getMarkFieldSet(d))};this.getCardsOperatingPrompt=
function(d){var a=null,c=null,b=null;0==d.getRowAnalyticalFieldSet().getCount()&&(a=oa.get("dragNumField","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==d.getColumnAnalyticalFieldSet().getCount()&&(c=oa.get("tryDragDateField","\u5c1d\u8bd5\u5c06\u65e5\u671f\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==n.getMarkFieldSet(d).getCount()&&(b=oa.get("tryDragTextFieldAsSeries","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u4f5c\u4e3a\u7cfb\u5217\u3002"));return new Ha(c,
a,b)};this.isFieldValid=function(d,a,c){if(null==c)if(a==d.getRowAnalyticalFieldSet()){if(a=n.getMarkFieldSet(d),n.isMarkExist(a,N.TYPE_COLOR)){var b=0;n.lookupMeasures(d.getRowAnalyticalFieldSet(),function(k){b++;1==b&&n.setFieldInvalid(k,null)});if(1==b){var e=0;d=n.getMarkFieldSet(d);n.lookupMarks(d,N.TYPE_COLOR,function(k){k.isDimension()&&(e++,1==e&&n.setFieldInvalid(k,null))})}}}else a==n.getMarkFieldSet(d)&&(e=0,n.lookupMarks(a,N.TYPE_COLOR,function(k){k.isDimension()&&(e++,1==e&&n.setFieldInvalid(k,
null))}),0==e&&n.lookupMeasures(d.getRowAnalyticalFieldSet(),function(k){n.setFieldInvalid(k,null)}));else{if(a==d.getRowAnalyticalFieldSet()){b=0;var f=!0;a=n.getMarkFieldSet(d);n.isMarkExist(a,N.TYPE_COLOR)&&n.lookupMeasures(d.getRowAnalyticalFieldSet(),function(k){b++;1==b?n.setFieldInvalid(k,null):(n.setFieldInvalid(k,oa.get("seriesConflictPrompt","\u5df2\u4f7f\u7528\u7ef4\u5ea6\u503c\u8868\u793a\u591a\u4e2a\u989c\u8272\uff08\u7cfb\u5217\uff09\uff0c\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u591a\u4e2a\u5ea6\u91cf\u3002")),
f=!1)});return f}if(a==d.getColumnAnalyticalFieldSet()){if(c.isMeasure())return n.setFieldInvalid(c,oa.get("chartMLineColCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u591a\u7cfb\u5217\u6298\u7ebf\u56fe\uff0c\u5217\u4e0a\u4e0d\u80fd\u6709\u5ea6\u91cf\u3002")),!1}else if(a==n.getMarkFieldSet(d))return e=0,f=!0,n.lookupMarks(a,N.TYPE_COLOR,function(k){k.isMeasure()?(n.setFieldInvalid(k,oa.get("useDimensionForColor","\u7528\u7ef4\u5ea6\u8868\u793a\u989c\u8272\u3002")),f=!1):(e++,1==e?n.setFieldInvalid(k,
null):(n.setFieldInvalid(k,oa.get("onlyOneFieldForColor","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u5c55\u73b0\u4e3a\u989c\u8272\u3002")),f=!1))}),0<e&&(b=0,n.lookupMeasures(d.getRowAnalyticalFieldSet(),function(k){b++;1<b&&(n.setFieldInvalid(k,oa.get("seriesConflictPrompt","\u5df2\u4f7f\u7528\u7ef4\u5ea6\u503c\u8868\u793a\u591a\u4e2a\u989c\u8272\uff08\u7cfb\u5217\uff09\uff0c\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u591a\u4e2a\u5ea6\u91cf\u3002")),f=!1)})),f}return!0};this.getSuggestedSize=function(d,
a){d=new Da;d.setMinSize(120,80);d.setMaxSize(640,480);d.setLeftAsNumberAxis(!0);d.setLeftAxisColumnWidth(100);d.setTopAsNumberAxis(!1);d.setTopAxisRowHeight(-1);return d};this.createJsonCellParser=function(){return new K};this.exhibit=function(d,a,c,b,e,f,k){var h=new G;h.setModel(b);h.getAttr().setShowDataLabel(e.isShowLabel());e.isForAxis()?(b=e.getAxisModel(),b.isNumberAxis()?(b=b.getDisplayName(),h.drawNumberAxis(d,a,c,b)):b.isContinueAxis()&&h.drawCategoryAxis(d,a,c)):(h.draw(d,a,c),h.setClickListener(function(q,
w,F){0<=F&&(F=[h.getModel().getCategories()[F].getExecutableValue()],n.getCommonClickListener(f,k,h)(q,w,F))}),h.setTooltipsListener(n.getCommonTooltipsListener(f,k,h)))}}function ia(){wa.call(this,Ya.CHARTTYPE_AREA);Ta.call(this);var n=this.protectedMethod;n.setIconFileName("chart_area");n.setText(oa.get("chartArea","\u9762\u79ef\u56fe"));n.setCardsTitle(oa.get("columnCardTitleWithAxis","\u5217\uff08\u6a2a\u8f74\uff09"),oa.get("rowCardTitleWithAxis","\u884c\uff08\u7eb5\u8f74\uff09"),null);this.getSuppliedMarks=
function(){return[N.TYPE_COLOR]};this.smartDropField=function(d,a,c,b){d=n.getMarkFieldSet(d);a==d&&(a=new pa(d),a.setValue(c,N.TYPE_COLOR),b.perform(a))};this.smartChangeModel=function(d,a,c){var b=n.washFields(a,d,[]),e=b.getRowDimensionWrap(),f=b.getRowMesaureWrap(),k=b.getColumnDimensionWrap(),h=b.getColumnMesaureWrap(),q=b.getMarkDimensionWrap(),w=b.getMarkMesaureWrap();b=c.getDimensionSelecteds();c=c.getMeasureSelecteds();0==k.length&&n.mergeOnlyOneNoDuplicated(k,q,Na.DT_STRING);0==k.length&&
n.mergeOnlyOneNoDuplicated(k,b,Na.DT_STRING);0==k.length&&n.mergeOnlyOneNoDuplicated(k,e,Na.DT_STRING);var F=k.length;k.length==F&&n.mergeOnlyOneNoDuplicated(k,q,Na.DT_DATE);k.length==F&&n.mergeOnlyOneNoDuplicated(k,b,Na.DT_DATE);k.length==F&&n.mergeOnlyOneNoDuplicated(k,e,Na.DT_DATE);n.mergeAllNoDuplicated(f,h);n.mergeAllNoDuplicated(f,w);n.mergeAllNoDuplicated(f,c);h=n.pickupMark(q,N.TYPE_COLOR);h||(h=[],0==h.length&&n.mergeOnlyOneNoDuplicated(h,q),0==h.length&&n.mergeOnlyOneNoDuplicated(h,b),0==
h.length&&n.mergeOnlyOneNoDuplicated(h,e),0==h.length&&1<k.length&&n.mergeOnlyOneNoDuplicated(h,k,Na.DT_STRING),h=0==h.length?null:new Ba(h[0].getField(),N.TYPE_COLOR));n.mergeAllNoDuplicated(e,q);n.mergeAllNoDuplicated(e,b);n.appendFields(a,e,d.getRowAnalyticalFieldSet());n.appendFields(a,f,d.getRowAnalyticalFieldSet());n.appendFields(a,k,d.getColumnAnalyticalFieldSet());h&&n.appendFields(a,[h],n.getMarkFieldSet(d))};this.getCardsOperatingPrompt=function(d){var a=null,c=null,b=null;0==d.getRowAnalyticalFieldSet().getCount()&&
(a=oa.get("dragNumField","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==d.getColumnAnalyticalFieldSet().getCount()&&(c=oa.get("tryDragDateField","\u5c1d\u8bd5\u5c06\u65e5\u671f\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==n.getMarkFieldSet(d).getCount()&&(b=oa.get("tryDragTextFieldAsSeries","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u4f5c\u4e3a\u7cfb\u5217\u3002"));return new Ha(c,a,b)};this.isFieldValid=function(d,a,c){if(null==c){if(a==d.getRowAnalyticalFieldSet()){if(a=
n.getMarkFieldSet(d),n.isMarkExist(a,N.TYPE_COLOR)){var b=0;n.lookupMeasures(d.getRowAnalyticalFieldSet(),function(k){b++;1==b&&n.setFieldInvalid(k,null)});if(1==b){var e=0;d=n.getMarkFieldSet(d);n.lookupMarks(d,N.TYPE_COLOR,function(k){k.isDimension()&&(e++,1==e&&n.setFieldInvalid(k,null))})}}}else a==n.getMarkFieldSet(d)&&(e=0,n.lookupMarks(a,N.TYPE_COLOR,function(k){k.isDimension()&&(e++,1==e&&n.setFieldInvalid(k,null))}),0==e&&n.lookupMeasures(d.getRowAnalyticalFieldSet(),function(k){n.setFieldInvalid(k,
null)}));return!0}if(a==d.getRowAnalyticalFieldSet()){b=0;var f=!0;a=n.getMarkFieldSet(d);n.isMarkExist(a,N.TYPE_COLOR)&&n.lookupMeasures(d.getRowAnalyticalFieldSet(),function(k){b++;1==b?n.setFieldInvalid(k,null):(n.setFieldInvalid(k,oa.get("seriesConflictPrompt","\u5df2\u4f7f\u7528\u7ef4\u5ea6\u503c\u8868\u793a\u591a\u4e2a\u989c\u8272\uff08\u7cfb\u5217\uff09\uff0c\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u591a\u4e2a\u5ea6\u91cf\u3002")),f=!1)});return f}if(a==d.getColumnAnalyticalFieldSet())return c.isMeasure()?
(n.setFieldInvalid(c,oa.get("chartAreaColCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u9762\u79ef\u56fe\uff0c\u5217\u4e0a\u4e0d\u80fd\u6709\u5ea6\u91cf\u3002")),!1):!0;if(a==n.getMarkFieldSet(d))return e=0,f=!0,n.lookupMarks(a,N.TYPE_COLOR,function(k){k.isMeasure()?(n.setFieldInvalid(k,oa.get("useDimensionForColor","\u7528\u7ef4\u5ea6\u8868\u793a\u989c\u8272\u3002")),f=!1):(e++,1==e?n.setFieldInvalid(k,null):(n.setFieldInvalid(k,oa.get("onlyOneFieldForColor","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u5c55\u73b0\u4e3a\u989c\u8272\u3002")),
f=!1))}),0<e&&(b=0,n.lookupMeasures(d.getRowAnalyticalFieldSet(),function(k){b++;1<b&&(n.setFieldInvalid(k,oa.get("seriesConflictPrompt","\u5df2\u4f7f\u7528\u7ef4\u5ea6\u503c\u8868\u793a\u591a\u4e2a\u989c\u8272\uff08\u7cfb\u5217\uff09\uff0c\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u591a\u4e2a\u5ea6\u91cf\u3002")),f=!1)})),f};this.getSuggestedSize=function(d,a){d=new Da;d.setMinSize(120,90);d.setMaxSize(640,480);d.setLeftAsNumberAxis(!0);d.setLeftAxisColumnWidth(100);d.setTopAsNumberAxis(!1);d.setTopAxisRowHeight(-1);
return d};this.createJsonCellParser=function(){return new K};this.exhibit=function(d,a,c,b,e,f,k){var h=new Z;h.setModel(b);h.getAttr().setShowDataLabel(e.isShowLabel());e.isForAxis()?(b=e.getAxisModel(),b.isNumberAxis()?(b=b.getDisplayName(),h.drawNumberAxis(d,a,c,b)):b.isContinueAxis()&&h.drawCategoryAxis(d,a,c)):(h.draw(d,a,c),h.setClickListener(function(q,w,F){0<=F&&(F=[h.getModel().getCategories()[F].getExecutableValue()],n.getCommonClickListener(f,k,h)(q,w,F))}),h.setTooltipsListener(n.getCommonTooltipsListener(f,
k,h)))}}function I(){wa.call(this,Ya.CHARTTYPE_BAR);var n=this.protectedMethod;n.setIconFileName("chart_bar");n.setText(oa.get("chartBar","\u67f1\u5f62\u56fe"));n.setCardsTitle(oa.get("columnCardTitleWithAxis","\u5217\uff08\u6a2a\u8f74\uff09"),oa.get("rowCardTitleWithAxis","\u884c\uff08\u7eb5\u8f74\uff09")," ");this.getSuppliedMarks=function(){return[]};this.smartChangeModel=function(d,a,c){var b=n.washFields(a,d,[]),e=b.getRowDimensionWrap(),f=b.getRowMesaureWrap(),k=b.getColumnDimensionWrap(),h=
b.getColumnMesaureWrap(),q=b.getMarkDimensionWrap();b=b.getMarkMesaureWrap();var w=c.getDimensionSelecteds();c=c.getMeasureSelecteds();0==k.length&&n.mergeOnlyOneNoDuplicated(k,q);0==k.length&&n.mergeOnlyOneNoDuplicated(k,w);0==k.length&&n.mergeOnlyOneNoDuplicated(k,e);n.mergeAllNoDuplicated(e,q);n.mergeAllNoDuplicated(e,w);n.mergeAllNoDuplicated(f,h);n.mergeAllNoDuplicated(f,b);n.mergeAllNoDuplicated(f,c);n.appendFields(a,e,d.getRowAnalyticalFieldSet());n.appendFields(a,f,d.getRowAnalyticalFieldSet());
n.appendFields(a,k,d.getColumnAnalyticalFieldSet())};this.getCardsOperatingPrompt=function(d){var a=null,c=null;0==d.getRowAnalyticalFieldSet().getCount()&&(a=oa.get("dragNumField","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==d.getColumnAnalyticalFieldSet().getCount()&&(c=oa.get("tryDragTextField","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return new Ha(c,a,null)};this.isFieldValid=function(d,a,c){var b=!0,e=n.isMeasureExist(d.getRowAnalyticalFieldSet());
n.lookupMeasures(d.getColumnAnalyticalFieldSet(),function(f){f==c&&(b=!1);var k=e?oa.get("chartBarRowColCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u67f1\u5f62\u56fe\uff0c\u5ea6\u91cf\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u5728\u884c\u3001\u5217\u4e0a\u3002"):null;n.setFieldInvalid(f,k)});return b};this.isCellMeasurable=function(d){return!0};this.getSuggestedSize=function(d,a){a=new Da;d.isLandscape()?(a.setMinSize(20,100),a.setMaxSize(60,1E3),a.setLeftAsNumberAxis(!0),a.setLeftAxisColumnWidth(100),
a.setTopAsNumberAxis(!1),a.setTopAxisRowHeight(60)):(a.setMinSize(140,24),a.setMaxSize(1E3,40),a.setTopAsNumberAxis(!0),a.setTopAxisRowHeight(30),a.setLeftAsNumberAxis(!1),a.setLeftAxisColumnWidth(120));return a};this.createJsonCellParser=function(){return new K};this.exhibit=function(d,a,c,b,e,f,k){var h=e.isLandscape()?new V:new v;h.setModel(b);h.getAttr().setShowDataLabel(e.isShowLabel());e.isForAxis()?(b=e.getAxisModel().getDisplayName(),h.drawNumberAxis(d,a,c,b)):(h.draw(d,a,c),h.setClickListener(function(q,
w,F){n.getCommonClickListener(f,k,h)(q,w,null)}),h.setTooltipsListener(n.getCommonTooltipsListener(f,k,h)))}}function M(){wa.call(this,Ya.CHARTTYPE_STACKBAR);var n=this.protectedMethod;n.setIconFileName("chart_stackbar");n.setText(oa.get("chartStackedBar","\u5806\u79ef\u67f1\u5f62\u56fe"));n.setCardsTitle(oa.get("columnCardTitleWithAxis","\u5217\uff08\u6a2a\u8f74\uff09"),oa.get("rowCardTitleWithAxis","\u884c\uff08\u7eb5\u8f74\uff09"),null);this.getSuppliedMarks=function(){return[N.TYPE_COLOR]};this.smartDropField=
function(d,a,c,b){d=n.getMarkFieldSet(d);a==d&&(a=new pa(d),a.setValue(c,N.TYPE_COLOR),b.perform(a))};this.smartChangeModel=function(d,a,c){var b=n.washFields(a,d,[[N.TYPE_COLOR,Wa.ROLE_DIMENSION]]),e=b.getRowDimensionWrap(),f=b.getRowMesaureWrap(),k=b.getColumnDimensionWrap(),h=b.getColumnMesaureWrap(),q=b.getMarkDimensionWrap();b=b.getMarkMesaureWrap();var w=c.getDimensionSelecteds();c=c.getMeasureSelecteds();var F=n.pickupMark(q,N.TYPE_COLOR);F||(F=[],0==F.length&&n.mergeOnlyOneNoDuplicated(F,
q),0==F.length&&n.mergeOnlyOneNoDuplicated(F,w),0==F.length&&n.mergeOnlyOneNoDuplicated(F,e),F=0==F.length?null:new Ba(F[0].getField(),N.TYPE_COLOR));0==k.length&&n.mergeOnlyOneNoDuplicated(k,q);0==k.length&&n.mergeOnlyOneNoDuplicated(k,w);0==k.length&&n.mergeOnlyOneNoDuplicated(k,e);n.mergeAllNoDuplicated(e,q);n.mergeAllNoDuplicated(e,w);n.mergeAllNoDuplicated(f,h);n.mergeAllNoDuplicated(f,b);n.mergeAllNoDuplicated(f,c);n.appendFields(a,e,d.getRowAnalyticalFieldSet());n.appendFields(a,f,d.getRowAnalyticalFieldSet());
n.appendFields(a,k,d.getColumnAnalyticalFieldSet());F&&n.appendFields(a,[F],n.getMarkFieldSet(d))};this.getCardsOperatingPrompt=function(d){var a=null,c=null,b=null;0==d.getRowAnalyticalFieldSet().getCount()&&(a=oa.get("dragNumField","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==d.getColumnAnalyticalFieldSet().getCount()&&(c=oa.get("tryDragTextField","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==n.getMarkFieldSet(d).getCount()&&(b=oa.get("dragTextField",
"\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return new Ha(c,a,b)};this.isFieldValid=function(d,a,c){if(a==n.getMarkFieldSet(d)){var b=!0,e=0;n.lookupMarks(a,N.TYPE_COLOR,function(k){k.isMeasure()?(n.setFieldInvalid(k,oa.get("useDimensionForColor","\u7528\u7ef4\u5ea6\u8868\u793a\u989c\u8272\u3002")),b=!1):(e++,1==e?n.setFieldInvalid(k,null):(n.setFieldInvalid(k,oa.get("onlyOneFieldForColor","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u5c55\u73b0\u4e3a\u989c\u8272\u3002")),b=!1))})}else{b=
!0;var f=n.isMeasureExist(d.getRowAnalyticalFieldSet());n.lookupMeasures(d.getColumnAnalyticalFieldSet(),function(k){k==c&&(b=!1);var h=f?oa.get("chartStackedBarRowColCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u5806\u79ef\u67f1\u5f62\u56fe\uff0c\u5ea6\u91cf\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u5728\u884c\u3001\u5217\u4e0a\u3002"):null;n.setFieldInvalid(k,h)})}return b};this.isCellMeasurable=function(d){return!0};this.getSuggestedSize=function(d,a){a=new Da;d.isLandscape()?(a.setMinSize(20,
100),a.setMaxSize(60,1E3),a.setLeftAsNumberAxis(!0),a.setLeftAxisColumnWidth(100),a.setTopAsNumberAxis(!1),a.setTopAxisRowHeight(60)):(a.setMinSize(140,24),a.setMaxSize(1E3,40),a.setTopAsNumberAxis(!0),a.setTopAxisRowHeight(30),a.setLeftAsNumberAxis(!1),a.setLeftAxisColumnWidth(120));return a};this.createJsonCellParser=function(){return new K};this.exhibit=function(d,a,c,b,e,f,k){var h=e.isLandscape()?new V:new v;h.setModel(b);h.getAttr().setShowDataLabel(e.isShowLabel());h.setStackMode(!0);e.isForAxis()?
(b=e.getAxisModel().getDisplayName(),h.drawNumberAxis(d,a,c,b)):(h.draw(d,a,c),h.setClickListener(function(q,w,F){n.getCommonClickListener(f,k,h)(q,w,null)}),h.setTooltipsListener(n.getCommonTooltipsListener(f,k,h)))}}function ca(){wa.call(this,Ya.CHARTTYPE_TREEMAP);var n=this.protectedMethod;n.setIconFileName("chart_treemap");n.setText(oa.get("chartTreeMap","\u6811\u56fe"));this.getSuppliedMarks=function(){return[N.TYPE_BLANK,N.TYPE_COLOR,N.TYPE_SIZE]};this.smartDropField=function(d,a,c,b){d=n.getMarkFieldSet(d);
a==d&&(c.isDimension()?(a=new pa(d),n.isMarkExist(d,N.TYPE_COLOR)?a.setValue(c,N.TYPE_BLANK):a.setValue(c,N.TYPE_COLOR),b.perform(a)):c.isMeasure()&&(a=new pa(d),n.isMarkExist(d,N.TYPE_SIZE)?n.isMarkExist(d,N.TYPE_COLOR)?a.setValue(c,N.TYPE_SIZE):a.setValue(c,N.TYPE_COLOR):a.setValue(c,N.TYPE_SIZE),b.perform(a)))};this.smartChangeModel=function(d,a,c){var b=n.washFields(a,d,[[N.TYPE_COLOR,Wa.ROLE_DIMENSION]]),e=b.getRowDimensionWrap(),f=b.getRowMesaureWrap(),k=b.getColumnDimensionWrap(),h=b.getColumnMesaureWrap(),
q=b.getMarkDimensionWrap();b=b.getMarkMesaureWrap();var w=c.getDimensionSelecteds();c=c.getMeasureSelecteds();var F=n.pickupMark(b,N.TYPE_SIZE);if(!F){var O=[];0==O.length&&n.mergeOnlyOneNoDuplicated(O,b);0==O.length&&n.mergeOnlyOneNoDuplicated(O,c);0==O.length&&n.mergeOnlyOneNoDuplicated(O,f);0==O.length&&n.mergeOnlyOneNoDuplicated(O,h);F=0==O.length?null:new Ba(O[0].getField(),N.TYPE_SIZE)}O=n.pickupMark(b,N.TYPE_COLOR);O||(O=[],0==O.length&&n.mergeOnlyOneNoDuplicated(O,b),0==O.length&&n.mergeOnlyOneNoDuplicated(O,
c),0==O.length&&n.mergeOnlyOneNoDuplicated(O,f),0==O.length&&n.mergeOnlyOneNoDuplicated(O,h),O=0==O.length?null:new Ba(O[0].getField(),N.TYPE_COLOR));if(O){var ba=n.searchMark(q,N.TYPE_COLOR);ba&&ba.setExtendInfo(N.TYPE_BLANK)}else O=n.pickupMark(q,N.TYPE_COLOR),O||(O=[],0==O.length&&n.mergeOnlyOneNoDuplicated(O,q),0==O.length&&n.mergeOnlyOneNoDuplicated(O,w),0==O.length&&n.mergeOnlyOneNoDuplicated(O,e),0==O.length&&n.mergeOnlyOneNoDuplicated(O,k),O=0==O.length?null:new Ba(O[0].getField(),N.TYPE_COLOR));
n.mergeAllNoDuplicated(q,w);n.mergeAllNoDuplicated(b,f);n.mergeAllNoDuplicated(b,h);n.mergeAllNoDuplicated(b,c);n.patchMark(q,N.TYPE_BLANK);n.patchMark(b,N.TYPE_SIZE);O&&n.appendFields(a,[O],n.getMarkFieldSet(d));n.appendFields(a,q,n.getMarkFieldSet(d));F&&n.appendFields(a,[F],n.getMarkFieldSet(d));n.appendFields(a,b,n.getMarkFieldSet(d));n.appendFields(a,e,d.getRowAnalyticalFieldSet());n.appendFields(a,k,d.getColumnAnalyticalFieldSet())};this.getCardsOperatingPrompt=function(d){var a=null;0==n.getMarkFieldSet(d).getCount()&&
(a=oa.get("dragNumAndTextField","\u5c06\u4e00\u4e2a\u6570\u503c\u5b57\u6bb5\u548c\u4e00\u4e2a\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return new Ha(null,null,a)};this.isFieldValid=function(d,a,c){if(a==d.getRowAnalyticalFieldSet()||a==d.getColumnAnalyticalFieldSet()){if(null!=c&&c.isMeasure())return n.setFieldInvalid(c,oa.get("chartTreeMapRowColCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u6811\u56fe\uff0c\u884c/\u5217\u4e0a\u4e0d\u80fd\u6709\u5ea6\u91cf\u3002")),!1}else if(a==
n.getMarkFieldSet(d)){var b=!0,e=0;n.lookupMarks(a,N.TYPE_COLOR,function(k){e++;1==e?n.setFieldInvalid(k,null):(n.setFieldInvalid(k,oa.get("onlyOneFieldForColor","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u5c55\u73b0\u4e3a\u989c\u8272\u3002")),b=!1)});var f=0;n.lookupMarks(a,N.TYPE_SIZE,function(k){k.isDimension()?(n.setFieldInvalid(k,oa.get("useMeasureForSize","\u7528\u5ea6\u91cf\u8868\u793a\u5927\u5c0f\u3002")),b=!1):(f++,1==f?n.setFieldInvalid(k,null):(n.setFieldInvalid(k,oa.get("oneOneFieldForSize",
"\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u5c55\u73b0\u4e3a\u5927\u5c0f\u3002")),b=!1))});n.lookupMarks(a,N.TYPE_BLANK,function(k){k.isMeasure()&&(n.setFieldInvalid(k,oa.get("useMeasureForSize","\u7528\u5ea6\u91cf\u8868\u793a\u5927\u5c0f\u3002")),b=!1)});return b}return!0};this.isCellMeasurable=function(d){return!0};this.getSuggestedSize=function(d,a){d=new Da;d.setMinSize(120,90);d.setMaxSize(720,540);d.setWidthHeightRatio(4/3);a.getRowAnalyticalFieldSet().hasAnyDimension()||(a.getColumnAnalyticalFieldSet().hasAnyDimension()?
d.setLeftAxisColumnWidth(50):(d.setLeftAxisColumnWidth(10),d.setTopAxisRowHeight(10)));return d};this.createJsonCellParser=function(){return new ya};this.exhibit=function(d,a,c,b,e,f,k){var h=b[0];b=(b=b[1])?b.size:null;var q=1;b&&(q*=parseFloat(b));a=Math.max(0,parseInt(a*Math.sqrt(q))-4);c=Math.max(0,parseInt(c*Math.sqrt(q))-3);var w=new X;w.setModel(h);w.getAttr().setShowDataLabel(e.isShowLabel());w.getAttr().setIgnoreNegative(e.getChartConfig().getRectTreeConfig().isHideNegative());w.draw(d,a,
c);w.setClickListener(function(F,O,ba){if(ba){for(var ea=[],qa=h.getRoot(),Aa=0;Aa<ba.length;Aa++)qa=qa.getChild(ba[Aa]),ea.push(qa.getExecutableValue());n.getCommonClickListener(f,k,w)(F,O,ea)}});w.setTooltipsListener(n.getCommonTooltipsListener(f,k,w))}}function ma(){wa.call(this,Ya.CHARTTYPE_SCATTER);var n=this.protectedMethod;n.setIconFileName("chart_scatter");n.setText(oa.get("chartScatter","\u6563\u70b9/\u6c14\u6ce1\u56fe"));n.setCardsTitle(oa.get("columnCardTitleWithAxis","\u5217\uff08\u6a2a\u8f74\uff09"),
oa.get("rowCardTitleWithAxis","\u884c\uff08\u7eb5\u8f74\uff09"),null);this.getSuppliedMarks=function(){return[N.TYPE_BLANK,N.TYPE_COLOR,N.TYPE_SIZE]};this.smartDropField=function(a,c,b,e){a=n.getMarkFieldSet(a);c==a&&(b.isMeasure()?(c=new pa(a),c.setValue(b,N.TYPE_SIZE)):(c=new pa(a),n.isMarkExist(a,N.TYPE_BLANK)?c.setValue(b,N.TYPE_COLOR):c.setValue(b,N.TYPE_BLANK)),e.perform(c))};this.smartChangeModel=function(a,c,b){var e=n.washFields(c,a,[[N.TYPE_BLANK,Wa.ROLE_DIMENSION],[N.TYPE_COLOR,Wa.ROLE_DIMENSION],
[N.TYPE_SIZE,Wa.ROLE_MEASURE]]),f=e.getRowDimensionWrap(),k=e.getRowMesaureWrap(),h=e.getColumnDimensionWrap(),q=e.getColumnMesaureWrap(),w=e.getMarkDimensionWrap();e=e.getMarkMesaureWrap();var F=b.getDimensionSelecteds();b=b.getMeasureSelecteds();0==k.length&&n.mergeOnlyOneNoDuplicated(k,b);0==q.length&&n.mergeOnlyOneNoDuplicated(q,b);0==k.length&&1<q.length&&n.mergeOnlyOneNoDuplicated(k,q);0==q.length&&1<k.length&&n.mergeOnlyOneNoDuplicated(q,k);0==k.length&&n.mergeOnlyOneNoDuplicated(k,e);for(0==
q.length&&n.mergeOnlyOneNoDuplicated(q,e);1<k.length;)n.mergeOnlyOneNoDuplicated(e,k);for(;1<q.length;)n.mergeOnlyOneNoDuplicated(e,q);n.mergeAllNoDuplicated(e,b);n.patchMark(e,N.TYPE_SIZE);2>w.length&&n.mergeOnlyOneNoDuplicated(w,F);2>w.length&&n.mergeOnlyOneNoDuplicated(w,F);2>w.length&&n.mergeOnlyOneNoDuplicated(w,h);2>w.length&&n.mergeOnlyOneNoDuplicated(w,f);2>w.length&&n.mergeOnlyOneNoDuplicated(w,h);2>w.length&&n.mergeOnlyOneNoDuplicated(w,f);n.patchMark(w,N.TYPE_BLANK,!0);n.patchMark(w,N.TYPE_COLOR);
n.mergeAllNoDuplicated(f,F);n.appendFields(c,f,a.getRowAnalyticalFieldSet());n.appendFields(c,k,a.getRowAnalyticalFieldSet());n.appendFields(c,h,a.getColumnAnalyticalFieldSet());n.appendFields(c,q,a.getColumnAnalyticalFieldSet());n.appendFields(c,w,n.getMarkFieldSet(a));n.appendFields(c,e,n.getMarkFieldSet(a))};this.getCardsOperatingPrompt=function(a){var c=null,b=null,e=null;0==a.getRowAnalyticalFieldSet().getCount()&&(c=oa.get("dragNumField","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));
0==a.getColumnAnalyticalFieldSet().getCount()&&(b=oa.get("dragNumField","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));0==n.getMarkFieldSet(a).getCount()&&(e=oa.get("dragTextField","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return new Ha(b,c,e)};this.isFieldValid=function(a,c,b){if(c==a.getRowAnalyticalFieldSet()||c==a.getColumnAnalyticalFieldSet()){var e=0,f=!0;(null==b||b.isMeasure())&&n.lookupMeasures(c,function(k){e++;1==e?n.setFieldInvalid(k,null):(n.setFieldInvalid(k,
oa.get("chartScatterRowColCardPrompt","\u5f53\u56fe\u8868\u7c7b\u578b\u4e3a\u6563\u70b9\u56fe\uff0c\u8981\u6c42\u884c\u5217\u4e0a\u5404\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u5ea6\u91cf\u3002")),f=!1)});return f}return c==n.getMarkFieldSet(a)?(f=!0,f=d(c,Wa.ROLE_MEASURE,N.TYPE_SIZE,oa.get("useMeasureForSize","\u7528\u5ea6\u91cf\u8868\u793a\u5927\u5c0f\u3002"),oa.get("oneOneFieldForSize","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u5c55\u73b0\u4e3a\u5927\u5c0f\u3002"))&&f,f=d(c,Wa.ROLE_DIMENSION,N.TYPE_BLANK,
oa.get("useMeasureForSize","\u7528\u5ea6\u91cf\u8868\u793a\u5927\u5c0f\u3002"),oa.get("chartScatterMarkCardPrompt","\u53ea\u80fd\u6709\u4e00\u4e2a\u7ef4\u5ea6\u3002"))&&f,f=d(c,Wa.ROLE_DIMENSION,N.TYPE_COLOR,oa.get("useDimensionForColor","\u7528\u7ef4\u5ea6\u8868\u793a\u989c\u8272\u3002"),oa.get("onlyOneFieldForColor","\u53ea\u80fd\u6709\u4e00\u4e2a\u5b57\u6bb5\u5c55\u73b0\u4e3a\u989c\u8272\u3002"))&&f):!0};var d=function(a,c,b,e,f){var k=!0,h=0;n.lookupMarks(a,b,function(q){c==Wa.ROLE_DIMENSION&&
q.isMeasure()||c==Wa.ROLE_MEASURE&&q.isDimension()?(n.setFieldInvalid(q,e),k=!1):(h++,1==h?n.setFieldInvalid(q,null):(n.setFieldInvalid(q,f),k=!1))});return k};this.getSuggestedSize=function(a,c){a=new Da;a.setMinSize(120,120);a.setMaxSize(640,640);a.setLeftAsNumberAxis(!0);a.setLeftAxisColumnWidth(100);a.setTopAsNumberAxis(!0);a.setTopAxisRowHeight(30);return a};this.createJsonCellParser=function(){return new K};this.exhibit=function(a,c,b,e,f,k,h){var q=new S;q.setModel(e);f.isForAxis()?(e=f.getAxisModel(),
f=e.getDisplayName(),e.getDirection()==va.DIR_TOP?q.drawXAxis(a,c,b,f):e.getDirection()==va.DIR_LEFT&&q.drawYAxis(a,c,b,f)):(q.draw(a,c,b),q.setClickListener(function(w,F,O){var ba=O[0],ea=O[1];0>ba||0>ea||(O=[],ba=q.getModel().getCategories()[ba].getExecutableValue(),void 0!==ba&&O.push(ba),ba=q.getModel().getSeries()[ea].getExecutableSeriesFieldValue(),void 0!==ba&&O.push(ba),n.getCommonClickListener(k,h,q)(w,F,O))}),q.setTooltipsListener(n.getCommonTooltipsListener(k,h,q)))}}"undefined"==typeof com&&
(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.longer&&(com.kingdee.bos.qing.longer={});"undefined"==typeof com.kingdee.bos.qing.longer.ui&&(com.kingdee.bos.qing.longer.ui={});var Ca=com.kingdee.bos.qing.longer.ui,oa,Na,Wa,Ya,Va,N,za,va,Oa,U,na,sa,pa,Ra,Y,J,ka,V,v,R,G,Z,X,S;(function(){var n=com.kingdee.bos.qing.framework.common;
oa=n.MultilanguageManager.createPackageAccessor(Ca);n=com.kingdee.bos.qing.core.model;Na=n.MetaField;Wa=n.AbstractAnalyticalField;n=com.kingdee.bos.qing.longer.model;Ya=n.AnalyticalModel;Va=n.AnalyticalField;N=n.MarkFieldSet;za=n.PieChartConfig;va=n.AxisModel;n=com.kingdee.bos.qing.core.controller;Oa=n.ActionChangeRole;U=n.ActionChangePartValue;n=com.kingdee.bos.qing.longer.controller;na=n.ActionAddAnalyticalField;sa=n.ActionRemoveAnalyticalField;pa=n.ActionSetMarkType;n=com.kingdee.bos.qing.chart.model;
Ra=n.NormalChartModel;Y=n.TreeChartModel;J=n.PieAttr;n=com.kingdee.bos.qing.chart.longer;ka=n.HeatMap;V=n.VerticalBar;v=n.HorizontalBar;R=n.PieChart;G=n.LineChart;Z=n.AreaChart;X=n.RectTreeChart;S=n.ScatterChart})();Ca.ChartTypeFactory=new function(){var n,d={},a=function(){if(!n){var c=[ja,I,M,L,da,ia,C,ua,ca,ma];n=[];for(var b=0;b<c.length;b++){var e=new c[b];n[b]=e;d[e.getName()]=e}}};this.getInstance=function(c){a();c=d[c];if(!c)throw Error("Unknown display-type name.");return c};this.getAllInstance=
function(){a();return n.slice(0)}}})();(function(){function wa(){var Y,J,ka;this.bindContext=function(d,a,c){Y=d;J=a;ka=c};this.createLittleBox=function(d,a,c,b){d=V(d,a);v(d,c.getSort(),b,!1);d.on("click",function(e){var f=c.getSort();f=f==Va.SORT_ASC?Va.SORT_DESC:f==Va.SORT_DESC?null:Va.SORT_ASC;var k=new na;k.setCaption(ia.get("sortField","\u4fee\u6539#1\u7684\u6392\u5e8f\u65b9\u5f0f\u4e3a\uff1a").replace("#1",c.getComplexText())+Va.sortToString(f));k.setMethod(c.getSort,c.setSort);k.setValue(f);var h=b?J.getColumnAnalyticalFieldSet():
J.getRowAnalyticalFieldSet(),q=b?J.getColumnsSortingLane:J.getRowsSortingLane,w=b?J.setColumnsSortingLane:J.setRowsSortingLane,F=q()?!0:!1;F&&0<h.getDimensionCount()&&n(F,h,c,f)&&(f=new na,f.setMethod(q,w),f.setValue(null),q=ka.createCompositeAction(),q.setCaption(k.getCaption()),q.appendUnitAction(k),q.appendUnitAction(f),k=q);ka.perform(k);e=$(e.currentTarget);v(e,c.getSort(),b,!0)});return d};this.showOperatingTips=function(d,a){d=d.find(".sa-exhibition-sort-box");a?d.addClass("sa-exhibition-sort-box_clickable"):
d.removeClass("sa-exhibition-sort-box_clickable");for(var c=0;c<d.length;c++){var b=$(d[c]),e=b.data("my-sortable-direction");e&&Na.background(b,a?"icon_sortable-"+e:null)}};var V=function(d,a){var c=wa.BOX_LEN-2,b=$("<div>");b.attr("title",ia.get("sort","\u6392\u5e8f"));b.addClass("sa-exhibition-sort-box");b.css("left",d);b.css("top",a);b.css("width",c);b.css("height",c);return b},v=function(d,a,c,b){c=c?"h":"v";d.data("my-sortable-direction",a?null:c);var e=null;a==Va.SORT_ASC?e="icon_sort-asc-":
a==Va.SORT_DESC?e="icon_sort-desc-":b&&(e="icon_sortable-");Na.background(d,e?e+c:null)};this.createRowsSortingLittleBox=function(d,a,c){var b=J.getRowsSortingLane();return R(d,a,b,c)};this.showRowsSortingTips=function(d,a){var c=d.find(".sa-exhibition-sort-box");0==c.length&&(c=R(d.width(),d.height(),null,a),Na.background(c,"icon_sortable-v"),d.append(c));c.addClass("sa-exhibition-sort-box_clickable")};this.hideRowsSortingTips=function(d){d=d.find(".sa-exhibition-sort-box");d.removeClass("sa-exhibition-sort-box_clickable");
d.data("my-sortable-direction")&&d.remove()};var R=function(d,a,c,b){var e=c?c.getOrder():null;d=V(d-wa.BOX_LEN-1,a-wa.BOX_LEN-1);d.addClass("sa-exhibition-sort-box-top");v(d,e,!1,!1);d.on("click",function(f){var k=S(c,b),h=Va.sortToString(k?k.getOrder():null),q=new na;q.setCaption(ia.get("sortRows","\u884c\u6392\u5e8f\uff1a")+h);q.setMethod(J.getRowsSortingLane,J.setRowsSortingLane);q.setValue(k);X(q,null!=k,J.getRowAnalyticalFieldSet());k=(k=J.getRowsSortingLane())?k.getOrder():null;f=$(f.currentTarget);
v(f,k,!1,!0);Z(f[0],"sa-exhibition-sort-box-top")});return d};this.createColumnsSortingLittleBox=function(d,a,c){var b=J.getColumnsSortingLane();return G(d,a,b,c)};this.showColumnsSortingLittleBox=function(d,a){var c=d.find(".sa-exhibition-sort-box");0==c.length&&(c=G(d.width(),d.height(),null,a),Na.background(c,"icon_sortable-h"),d.append(c));c.addClass("sa-exhibition-sort-box_clickable")};this.hideColumnsSortingTips=function(d){d=d.find(".sa-exhibition-sort-box");d.removeClass("sa-exhibition-sort-box_clickable");
d.data("my-sortable-direction")&&d.remove()};var G=function(d,a,c,b){var e=c?c.getOrder():null;d=V(d-wa.BOX_LEN-1,a-wa.BOX_LEN>>1);d.addClass("sa-exhibition-sort-box-left");v(d,e,!0,!1);d.on("click",function(f){var k=S(c,b),h=Va.sortToString(k?k.getOrder():null),q=new na;q.setCaption(ia.get("sortColumns","\u5217\u6392\u5e8f\uff1a")+h);q.setMethod(J.getColumnsSortingLane,J.setColumnsSortingLane);q.setValue(k);X(q,null!=k,J.getColumnAnalyticalFieldSet());k=(k=J.getColumnsSortingLane())?k.getOrder():
null;f=$(f.currentTarget);v(f,k,!0,!0);Z(f[0],"sa-exhibition-sort-box-left")});return d},Z=function(d,a){a=Y.find("."+a);for(var c=0;c<a.length;c++)d!=a[c]&&$(a[c]).remove()},X=function(d,a,c){a&&0<c.getDimensionCount()&&n(a,c)&&(c=c.get(c.getDimensionCount()-1),a=new na,a.setMethod(c.getSort,c.setSort),a.setValue(null),c=ka.createCompositeAction(),c.setCaption(d.getCaption()),c.appendUnitAction(d),c.appendUnitAction(a),d=c);ka.perform(d)},S=function(d,a){if(d)if(d=d.getOrder(),d==Va.SORT_ASC){var c=
new va;c.setOrder(Va.SORT_DESC)}else d==Va.SORT_DESC&&(c=null);else c=new va,c.setOrder(Va.SORT_ASC);if(c){d=[];for(var b=0;b<a.getExecutableValueItemCount();b++)d.push(a.getItemExecutableValue(b));c.setHeadValue(d);a=a.getMeasureIndex();0<=a&&c.setMeasureIndex(a)}return c},n=function(d,a,c,b){for(var e=!1,f=0,k=a.getDimensionCount();f<k;f++){var h=a.get(f);if(!(f<k-1)||h.isShowSubtotal())if(h==c?!b:!h.getSort()){e=!0;break}}return!e&&d}}function Ta(Y){var J=this,ka,V;this.getType=function(){return Y};
this.setJsonModel=function(v){ka=v.title;V=J.protectedParseJson(v)};this.protectedParseJson=function(v){throw Error("Override me.");};this.getModel=function(){return V};this.askHeight=function(){throw Error("Override me.");};this.draw=function(v){throw Error("Override me.");};this.getTitle=function(){return ka};this.protectedMethod={createCanvas:function(v,R,G){var Z=da.createCanvas(),X=$(Z);L.layoutCtrl(X,0,0,R,G);X.appendTo(v);return da.createContext2d(Z,R,G)}}}function Ba(){Ta.call(this,Ta.TYPE_SIZE);
var Y=this.protectedMethod,J,ka,V,v;this.setBaseDiameter=function(G){J=G;v&&(v.empty(),R())};this.protectedParseJson=function(G){ka=G.ratios;V=G.texts;return[ka,V]};this.askHeight=function(){return 1+20*ka.length};this.draw=function(G){v=G;return R()};var R=function(){var G=v.innerWidth(),Z=v.innerHeight();Z=Y.createCanvas(v,G,Z);(new ma).draw(Z,J,G,ka,V)}}function ta(){Ta.call(this,Ta.TYPE_CONTINUOUS_COLOR);var Y=this.protectedMethod,J=this;this.protectedParseJson=function(ka){return Wa.parseContontinuousColorLegendModel(ka)};
this.askHeight=function(){return 40};this.draw=function(ka){var V=ka.innerWidth(),v=ka.innerHeight();ka=Y.createCanvas(ka,V,v);(new Ca).draw(ka,V,J.getModel())}}function Da(){Ta.call(this,Ta.TYPE_DISCRETE_COLOR);var Y=this.protectedMethod,J=this;this.protectedParseJson=function(ka){var V=ka.colors,v=ka.texts,R=ka.captions;ka=ka.othersInfo;null!=ka&&(V=V.slice(),v=v.slice(),V.push("rgba(0,0,0,0)"),v.push(ka),R&&(R=R.slice(),R.push("")));ka=new ca;ka.prepare(V,v,R,0);return ka};this.askHeight=function(){return 20*
J.getModel().getItemCount()};this.draw=function(ka){var V=J.getModel(),v=ka.innerWidth(),R=ka.innerHeight();ka=Y.createCanvas(ka,v,R);(new oa).draw(ka,V)}}function Ha(){var Y,J;this.setShedTitleModel=function(ka){Y=ka};this.getShedTitleModel=function(){return Y};this.setBizRowIdx=function(ka){J=ka};this.getBizRowIdx=function(){return J}}function fb(){var Y=[],J=[],ka=[],V=-1;this.addItem=function(v,R,G,Z){Y.push(v);J.push(R);if(G){var X=new N;X.asStringValue(G)}else Z&&(X=new N,X.fromJsonObject(Z));
ka.push(X)};this.addItemForSubtotal=function(){var v=new N;v.asSubtotal();ka.push(v)};this.getItemCount=function(){return Y.length};this.getItemTitle=function(v){return Y[v]};this.getItemValue=function(v){return J[v]};this.getExecutableValueItemCount=function(){return ka.length};this.getItemExecutableValue=function(v){var R=ka[v];R||(R=new N,R.asStringValue(J[v]));return R};this.getMeasureIndex=function(){return V};this.setMeasureIndex=function(v){V=v}}function hb(){var Y,J;this.combine=function(v,
R){Y=v;J=R};this.getJsonForDetailSearching=function(v){var R=ka(Y),G=ka(J);R={row:R,column:G};if(v){G=[];for(var Z=0;Z<v.length;Z++){var X=v[Z];void 0!==X&&(""===X?(X=new N,X.asNull(),X=X.toJsonObject()):X={complex:X},G.push(X))}R.others=G}return R};var ka=function(v){for(var R=[],G=0,Z=v.getItemCount();G<Z;G++){var X=v.getItemExecutableValue(G);R.push(X.toJsonObject())}return R};this.getDisplayShedTitle=function(){var v={},R=[];Y&&V(Y,R,v);J&&V(J,R,v);return R};var V=function(v,R,G){for(var Z=0,
X=v.getItemCount();Z<X;Z++){var S=v.getItemTitle(Z),n=v.getItemValue(Z);G[S]!==n&&(G[S]=n,R.push({key:S,value:n}))}}}function K(){var Y,J,ka,V;this.setLeftHeight=function(v){Y=v};this.getLeftHeight=function(){return Y};this.setLeftWidth=function(v){J=v};this.getLeftWidth=function(){return J};this.setTopHeight=function(v){ka=v};this.getTopHeight=function(){return ka};this.setTopWidth=function(v){V=v};this.getTopWidth=function(){return V}}function ya(){var Y=!1,J=[],ka=!1;this.setHorizontal=function(V){Y=
V};this.isHorizontal=function(){return Y};this.addKey=function(V){J.push(V)};this.setKeys=function(V){J=V};this.getKeys=function(){return J};this.isSameKey=function(V){if(Y!=V.isHorizontal())return!1;V=V.getKeys();if(J.length!=V.length)return!1;for(var v=0;v<J.length;v++)if(J[v]!=V[v])return!1;return!0};this.setExpanded=function(V){ka=V};this.isExpanded=function(){return ka};this.fromJsonObject=function(V){Y=V.horizontal?!0:!1;ka=V.expanded?!0:!1;(V=V.keys)&&(J=V.split(ya.SEPARATER))};this.toJsonObject=
function(){var V={};Y&&(V.horizontal=!0);ka&&(V.expanded=!0);V.keys=J.join(ya.SEPARATER);return V}}function ja(){var Y,J,ka,V,v,R;this.setContent=function(G){throw Error("Override");};this.setPosition=function(G,Z){throw Error("Override");};this.hide=function(G){throw Error("Override");};this.toggleMenu=function(G,Z){};this.destroy=function(){};this.setDetailSearchingParam=function(G){Y=G};this.setDetailShowedImpl=function(G,Z){J=G;ka=Z};this.setLinkageImpl=function(G,Z){V=G;v=Z};this.hookHideAnnouncer=
function(G){R&&R!=G&&R();R=G};this.protectedMethod={checkShowDetailAllowed:function(G){J?J(function(Z){G(Z)}):G(!0)},showDetail:function(){ka(Y)},checkLinkageAllowed:function(){return V()},jumpToBizUi:function(){v(Y)},fireHideAnnouncer:function(){R&&R();R=null}}}function ua(){ja.call(this);var Y=this,J=this.protectedMethod,ka,V,v,R,G,Z,X,S=!1,n=!1;this.destroy=function(){ka&&ka.remove()};this.setPosition=function(h,q){ka||d();c(!0);var w=!0;e()&&(f(h,q)?w=!1:b(!1));if(w){var F=ka.width();w=ka.height();
var O=document.body.clientHeight;h+15+F+25<document.body.clientWidth?(S=!1,h+=15):(S=!0,h=h-15-F);q+15+w+25<O?(n=!1,q+=15):(n=!0,q=q-15-w);ka.css({left:h,top:q})}};this.hide=function(h){!ka||!h&&e()||(c(!1),b(!1))};this.setContent=function(h){if(!e()){for(var q={},w=$(document.createDocumentFragment()),F=0;F<h.length;F++){var O=h[F],ba=O.key,ea=O.value,qa=O.color;if(!q[ba]){q[ba]=!0;var Aa=$("<tr>");Aa.appendTo(w);var Za=$("<td>");O=$("<td>");Za.appendTo(Aa);O.appendTo(Aa);qa?(Aa=$("<span>"),Aa.css({display:"inline-block",
position:"relative",width:"8px",height:"8px","margin-right":"4px","background-color":qa}),Aa.appendTo(Za),qa=$("<span style='color:#787878'>"),qa.text(ba)):(qa=$("<span style='color:#787878'>"),qa.text(ba+": "));qa.appendTo(Za);ba=$("<span style='font-size:12px; color:#333; font-weight:bold;'>");ba.text(ea);ba.appendTo(O)}}v.empty();v.append(w)}};this.toggleMenu=function(h,q){if(!v||!v.is(":visible"))return!1;if(e())return b(!1),!1;b(!0);Z=h;X=q;var w=function(F){e()&&f(F.clientX,F.clientY)||(Y.hide(!0),
$(document.body).off("mousemove",w))};$(document.body).on("mousemove",w);return!0};var d=function(){ka=$("<div>");ka.addClass("sa-tooltips");ka.appendTo($(document.body));ka.mouseleave(function(h){b(!1);c(!1)});R=a("icon_data_detail",ia.get("viewData","\u67e5\u770b\u6570\u636e"),function(){J.showDetail()});G=a("icon_bill_linkage",ia.get("linkage","\u5355\u636e\u8054\u67e5"),function(){J.jumpToBizUi()});V=$("<div>");V.addClass("sa-tooltips-menu");V.append(R);V.append(G);V.appendTo(ka);v=$("<table style='margin:6px'>");
v.addClass("sa-tooltips-content");v.appendTo(ka)},a=function(h,q,w){var F=$("<div>");F.addClass("sa-tooltips-menu-button");F.css("display","none");F.attr("title",q);F.on("click",function(O){w()});q=$("<div>");q.appendTo(F);Na.background(q,h);L.layoutCtrlCenterAlign(q,12);L.layoutCtrlMiddleAlign(q,12);return F},c=function(h){ka.css("display",h?"block":"none");!h&&J.fireHideAnnouncer()},b=function(h){var q=e();h?q||(V.animate({height:"toggle",opacity:"toggle"},325),k()):q&&V.css("display","none")},
e=function(){return V.is(":visible")},f=function(h,q){if(S){var w=ka.offset().left;var F=Z+10}else w=Z-10,F=ka.offset().left+ka.width();if(n){var O=ka.offset().top;var ba=X+10}else O=X-10,ba=ka.offset().top+ka.height();return w<h&&h<F&&O<q&&q<ba},k=function(){J.checkShowDetailAllowed(function(q){R.css("display",q?"":"none")});var h=Ya.isRuntimeSupported()&&J.checkLinkageAllowed();G.css("display",h?"":"none")}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==
typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.longer&&(com.kingdee.bos.qing.longer={});"undefined"==typeof com.kingdee.bos.qing.longer.ui&&(com.kingdee.bos.qing.longer.ui={});var C=com.kingdee.bos.qing.longer.ui;C.AbstractLegendUi=Ta;C.Exhibition=function(){function Y(){KTableUIDraggableAdjustingHandler.CustomExpendor.call(this);this.isColumnDraggable=function(E,Q){return Q<E.getColumnsCount()-
Ka};this.rowDraggedAction=function(E,Q,ra){var Ea,Xa=!1;if(Q<Aa){E=Ea=Q;var Sa=m().getColumnAnalyticalFieldSet();Q=Q<Sa.getCount()?Sa.get(Q):null;Sa=Yb(Q);Q=Sa.setTopHeight;Sa=Sa.getTopHeight()}else Ea=Aa,E=E.getRowsCount()-1,Xa=D(),Sa=Yb(Xa),Q=Sa.setLeftHeight,Sa=Sa.getLeftHeight(),Xa=!0;var Fa=new J;Fa.setValue(Q,Ea,E,ra,Sa);Ga.getCommandManager().perform(Fa);Xa&&z()};this.columnDraggedAction=function(E,Q,ra){var Ea,Xa=!1;if(Q<qa){E=Ea=Q;var Sa=m().getRowAnalyticalFieldSet();Q=Q<Sa.getCount()?Sa.get(Q):
null;Sa=Yb(Q);Q=Sa.setLeftWidth;Sa=Sa.getLeftWidth()}else Ea=qa,E=E.getColumnsCount()-1-Ka,Xa=P(),Sa=Yb(Xa),Q=Sa.setTopWidth,Sa=Sa.getTopWidth(),Xa=!0;var Fa=new ka;Fa.setValue(Q,Ea,E,ra,Sa);Ga.getCommandManager().perform(Fa);Xa&&z();Eb()}}function J(){U.call(this);var E,Q,ra,Ea,Xa;this.getCaption=function(){return ia.get("dragRowHeight","\u8c03\u6574\u884c\u9ad8")};this.setValue=function(Fa,Ja,Ua,kb,vb){E=Fa;Q=Ja;ra=Ua;Ea=kb;Xa=vb};this.perform=function(){var Fa=Sa();E(Fa);Ea=-Ea};this.unperform=
function(){Sa();E(Xa);Ea=-Ea};var Sa=function(){var Fa=c.isSyncUIWhenModelChanged();c.setSyncUIWhenModelChanged(!1);for(var Ja=Q;Ja<=ra;Ja++){var Ua=c.getRow(Ja);var kb=Ua.getHeight();kb=Math.max(0,kb+Ea);Ua.setHeight(kb)}c.setSyncUIWhenModelChanged(Fa);c.updateUI(!0);return kb}}function ka(){U.call(this);var E,Q,ra,Ea,Xa;this.getCaption=function(){return ia.get("dragColumnWidth","\u8c03\u6574\u5217\u5bbd")};this.setValue=function(Fa,Ja,Ua,kb,vb){E=Fa;Q=Ja;ra=Ua;Ea=kb;Xa=vb};this.perform=function(){var Fa=
Sa();E(Fa);Ea=-Ea};this.unperform=function(){Sa();E(Xa);Ea=-Ea};var Sa=function(){var Fa=c.isSyncUIWhenModelChanged();c.setSyncUIWhenModelChanged(!1);for(var Ja=Q;Ja<=ra;Ja++){var Ua=c.getColumn(Ja);var kb=Ua.getWidth();kb=Math.max(0,kb+Ea);Ua.setWidth(kb)}c.setSyncUIWhenModelChanged(Fa);c.updateUI(!0);return kb}}function V(){U.call(this);var E=this,Q,ra,Ea={};this.setMethod=function(Xa,Sa){Q=Xa;ra=Sa};this.perform=function(){var Xa=Q();ra(Ea);Ea=Xa};this.unperform=function(){E.perform()}}function v(){U.call(this);
var E;this.perform=function(){E=xb;xb=[]};this.unperform=function(){xb=E}}function R(){U.call(this);var E,Q,ra,Ea,Xa;this.getCaption=function(){return ia.get("expandOrCollapse","\u5c55\u5f00/\u6536\u8d77")};this.setValue=function(Sa){E=Sa};this.perform=function(){Q=null;ra=-1;for(var Sa=xb.length-1;0<=Sa;Sa--)if(xb[Sa].isSameKey(E)){ra=Sa;Q=xb.splice(Sa,1)[0];break}Ea=!1;E.isExpanded()&&(Ea=!0,xb.push(E));Xa=null;128<xb.length&&(Xa=xb.splice(0,1)[0]);m().announceTreeExpanding()};this.unperform=function(){Xa&&
xb.unshift(Xa);Ea&&xb.pop();Q&&xb.splice(ra,0,Q);m().announceTreeExpanding()}}function G(E){KTDefaultCellRender.call(this,E);var Q=this,ra=this.paintCellUI;this.paintCellUI=function(Fa,Ja){var Ua=Ja?Ja:Fa,kb=Q.getCurrentRowIdx(),vb=Q.getCurrentColIdx();if(kb<Aa||vb<qa){var Gb=Q.getCell();if(Gb&&!Gb.getValue()){var Jb=Gb.getUserObject();if(Jb&&"axis"==Jb.type){Ja=Q.getTextAreaWidth();Jb=Q.getTextAreaHeight();var Fb=d.getCommonModel();Gb=Gb.getUserObject();Gb=d.parseAxisModel(Gb);var Sb=t();Sb.setAxisModel(Gb);
O.exhibit(Ua,Ja,Jb,Fb,Sb,null,null);Xa(Fa,kb,vb);return}}ra(Fa,Ja);Xa(Fa,kb,vb)}else p()?(ra(Ua),Fa=(Fa=Q.getCell())?Fa.getUserObject():null,Fa=d.parseExhibitModel(Fa),kb=Ea(),O.exhibit(Ua,0,0,Fa,null,kb,b)):(vb=Q.getCell(),Fa=Q.getTextAreaWidth(),kb=Q.getTextAreaHeight(),vb=vb?vb.getUserObject():null,vb=d.parseExhibitModel(vb),Ja=t(),Jb=Ea(),O.exhibit(Ua,Fa,kb,vb,Ja,Jb,b))};var Ea=function(){var Fa=Q.getCurrentRow().getUserObject();Fa=Fa instanceof Ha?Fa.getShedTitleModel():Fa;var Ja=Q.getCurrentCol().getUserObject(),
Ua=new hb;Ua.combine(Fa,Ja);return Ua},Xa=function(Fa,Ja,Ua){La&&Ja<Aa&&Ua<qa?(Fa=$(Fa),Ja=m().getRowAnalyticalFieldSet(),Ua=Q.getCurrentColIdx(),Ua>=Ja.getCount()||(Ja=Ja.get(Ua),Ua=Q.getCellHeight()-wa.BOX_LEN-1,Ja=Kb.createLittleBox(1,Ua,Ja,!1),Fa.append(Ja))):O.isCellMeasurable(m())&&(m().getRowAnalyticalFieldSet().hasAnyDimension()&&Ja==Aa-1?(Ja=Q.getCurrentCol().getUserObject(),Ua=m().getRowsSortingLane(),Sa(Ja,Ua)&&Kb.createRowsSortingLittleBox(Q.getCellWidth(),Q.getCellHeight(),Ja).appendTo($(Fa))):
m().getColumnAnalyticalFieldSet().hasAnyDimension()&&Ua==qa-1&&(Ja=Q.getCurrentRow().getUserObject(),Ja=Ja instanceof Ha?Ja.getShedTitleModel():Ja,Ua=m().getColumnsSortingLane(),Sa(Ja,Ua)&&Kb.createColumnsSortingLittleBox(Q.getCellWidth(),Q.getCellHeight(),Ja).appendTo($(Fa))))},Sa=function(Fa,Ja){if(!Ja||!Fa)return!1;var Ua=Ja.getHeadValue();if(Ua.length!=Fa.getExecutableValueItemCount())return!1;for(var kb=0;kb<Ua.length;kb++)if(!Ua[kb].isTheSame(Fa.getItemExecutableValue(kb)))return!1;return Fa.getMeasureIndex()!=
Ja.getMeasureIndex()?!1:!0}}function Z(){KTDiagonalRender.call(this);var E,Q=this.create;this.create=function(ra,Ea,Xa,Sa,Fa,Ja){ra=Q(ra,Ea,Xa,Sa,Fa,Ja);L.layoutCtrl($(ra),0,0,Fa,Ja);E=$("<div>");E.width(Fa);E.height(Ja);Fa=E[0];Fa.appendChild(ra);Ja=E;var Ua=[0];for(ra=0;ra<qa;ra++)Ua[ra+1]=Ua[ra]+c.getColumn(ra).getWidth();Ea=[1];for(ra=0;ra<Aa;ra++)Ea[ra+1]=Ea[ra]+c.getRow(ra).getHeight();Sa=Ea[Ea.length-1]-wa.BOX_LEN-2;var kb=m().getRowAnalyticalFieldSet();for(ra=0;ra<jb;ra++){var vb=kb.get(ra);
vb&&(Xa=Ua[ra]+1,vb=Kb.createLittleBox(Xa,Sa,vb,!1),Ja.append(vb))}Xa=Ua[Ua.length-1]-wa.BOX_LEN-1;Ua=m().getColumnAnalyticalFieldSet();for(ra=0;ra<sb;ra++)if(vb=Ua.get(ra))Sa=Ea[ra],vb=Kb.createLittleBox(Xa,Sa,vb,!0),Ja.append(vb);return Fa}}var X=120,S=this,n,d,a,c,b,e=!0,f=!0,k,h,q=!1,w,F=!1,O,ba,ea,qa,Aa,Za,jb,sb,La,Ka=0,cb,nb,xa,$a,Ga,lb,ub,Ab,zb,Rb,Vb,Wb,Xb,Zb,Qa,ab,db,ib,ob,qb,wb,eb,Cb,Bb,Hb=10,Ob=10,Lb=0,Nb=0,bc,Pb,Ib,Kb=new wa,yb={},cc,dc,Tb,xb=[],ec,Ub=-1,kc=-1,hc=-1,nc;this.getJqUi=function(){a||
(a=$("<div>"),a.css("cursor","default"),a.on("contextmenu",function(E){return!1}));return a};this.resize=function(E){q||(n&&(E=n,n=null,u(E)),c&&(c.relayoutViews(),Eb()))};this.setFakeClipboardSupported=function(E){e=E};this.setRowColumnDraggable=function(E){f=E};this.setScrollerVisible=function(E,Q){k=E;h=Q};this.keepCalm=function(E){q!=E&&((q=E)||S.resize())};this.destroy=function(){b.destroy()};this.setTooltipsWidgetInstance=function(E){b=E};var $b=function(E,Q,ra){nc(ec,E,-1,Q,-1,ra)},ha=function(E,
Q,ra,Ea){nc(ec,E,Q,-1,ra,Ea)},l=function(E){b.hide(!0);cb&&cb("");c=null;q=F=!1;Kb.bindContext(a,m(),Ga.getCommandManager());Ib=Pb=null;a.is(":visible")?u(E):n=E};this.reset=function(){yb={};xb=[];sb=jb=Aa=qa=0;q=!0;w=null};this.repaint=function(E){E?l(E):c&&(c.updateUI(!0),tb())};this.setPromptListener=function(E){cb=E};this.setLegendsNeededListener=function(E){nb=E};this.setPreUpdateListener=function(E){xa=E};this.setExhibitionChangedListener=function(E){$a=E};this.showNoDataPrompt=function(E,Q){a.empty();
var ra=$("<div>");ra.addClass("sa-exhibition-nodata-prompt");ra.css({position:"relative",padding:"40px"});ra.appendTo(a);ra.text(E);Q&&Q(a)};this.clearHeightWidthCacheAction=function(){var E=new V;E.setMethod(function(){return yb},function(Q){yb=Q});Ga.getCommandManager().perform(E)};this.clearTreeExpandState=function(){var E=new v;Ga.getCommandManager().perform(E)};this.collectStatus=function(E){var Q=E.setHeights;a:{var ra=fa(-1,-1);var Ea=W(-1);ra[ra.length-1]=Ea;for(Ea=0;Ea<ra.length;Ea++)if(-1!=
ra[Ea])break a;ra=null}Q.call(E,ra);Q=E.setWidths;a:{ra=H(-1,-1);Ea=Ma(-1);ra[ra.length-1]=Ea;for(Ea=0;Ea<ra.length;Ea++)if(-1!=ra[Ea])break a;ra=null}Q.call(E,ra);Q=fa(Ia(),Nb);ra=W(Ob);Q[Q.length-1]=ra;ra=H(X,Lb);Ea=Ma(Hb);ra[ra.length-1]=Ea;E.collectPaintableStatus(Q,ra);Q=[];if(0<xb.length)for(ra=0;ra<xb.length;ra++)Ea=xb[ra].toJsonObject(),Q.push(Ea);E.setJsonTreeExpandStates(Q)};this.applyStatus=function(E){yb={};var Q=E.getHeights(),ra=E.getWidths();if(Q){for(var Ea=m().getColumnAnalyticalFieldSet(),
Xa=Ea.getCount(),Sa=Q.length-1,Fa=0;Fa<Sa;Fa++){var Ja=Q[Fa];if(-1!=Ja){var Ua=Fa<Xa?Ea.get(Fa):null;Yb(Ua).setTopHeight(Ja)}}Q=Q[Q.length-1];-1!=Q&&(Ea=D(),Yb(Ea).setLeftHeight(Q))}if(ra){Q=m().getRowAnalyticalFieldSet();Ea=Q.getCount();Xa=ra.length-1;for(Sa=0;Sa<Xa;Sa++)Fa=ra[Sa],-1!=Fa&&(Ja=Sa<Ea?Q.get(Sa):null,Yb(Ja).setLeftWidth(Fa));ra=ra[ra.length-1];-1!=ra&&(Q=P(),Yb(Q).setTopWidth(ra))}if(E=E.getJsonTreeExpandStates())for(ra=0;ra<E.length;ra++)Q=E[ra],Ea=new ya,Ea.fromJsonObject(Q),xb.push(Ea)};
this.keepScrollStatus=function(E){w=E&&c?c.keepScrollStatus():null};this.setContextGetter=function(E){Ga=E};this.isExportable=function(){return F};var m=function(){return Ga.getAnalyticalModel()};this.protectedMethod={initTooltipsWidget:function(E,Q,ra,Ea){b||(b=new ua);b.setDetailShowedImpl(E,Q);b.setLinkageImpl(ra,Ea)},setCacheLoader:function(E){nc=E},createFacade:function(E,Q,ra){return Ga.createFacade(E,Q,ra)},getBlockingJqUi:function(){return Ga.getBlockingJqUi()},setExecutedModel:l};var x=function(){for(var E=
m().getRowAnalyticalFieldSet(),Q=0;Q<E.getCount();Q++)if(E.get(Q).getMetaField().isParentChildDimension())return!0;return!1},p=function(){return O.getName()==za.CHARTTYPE_TABLE},t=function(){Pb||(Pb=new Oa,ea==pa.LANDSCAPE?Pb.setLandscape(!0):ea==pa.PORTRAIT&&Pb.setLandscape(!1),Pb.setSecondaryType(ba));Pb.setChatConfig(Ga.getPreferences().getChartConfig());Pb.setAxisModel(null);return Pb},u=function(E){if(E){var Q=x();lb=new KTStyle;lb.setVerticalAlign("middle");lb.setFontSize(I.getFontSize());lb.setFontUnit("px");
lb.setFontName(I.getFontName());lb.setTextAlign("right");ub=new KTStyle;ub.setTextAlign("center");ub.setColor(sa.TOP_HEAD_COLOR);ub.setBackgroundColor(sa.TOP_HEAD_BACKGROUND);Ab=new KTStyle;Ab.setTextAlign("right");Ab.setColor(sa.TOP_HEAD_COLOR);Ab.setBackgroundColor(sa.TOP_HEAD_BACKGROUND);zb=new KTStyle;zb.setTextAlign("left");zb.setBackgroundColor(sa.LEFT_HEAD_BACKGROUND);Rb=new KTStyle;Rb.setTextAlign("left");Vb=new KTStyle;Vb.setBold(!0);Wb=new KTStyle;Wb.setBackgroundColor(Q?sa.LEFT_HEAD_BACKGROUND:
sa.ROW_BACKGROUND_ODD);Zb=Wb.copy();Zb.setBold(!0);Xb=new KTStyle;Xb.setBackgroundColor(Q?sa.LEFT_HEAD_BACKGROUND:sa.ROW_BACKGROUND_EVEN);Qa=Xb.copy();Qa.setBold(!0);ab=new KTStyle;ab.setBold(!1);Q?(db=new KTBorderStyle,db.setBorderWidth(1),db.setBorderPen("solid"),db.setBorderColor(sa.BORDER_COLOR)):db=null;ob=new KTBorderStyle;ob.setLeftBorderWidth(1);ob.setLeftBorderPen("solid");ob.setLeftBorderColor(sa.BORDER_COLOR);qb=new KTBorderStyle;qb.setRightBorderWidth(1);qb.setRightBorderPen("solid");
qb.setRightBorderColor(sa.BORDER_COLOR);wb=new KTBorderStyle;wb.setLeftBorderWidth(1);wb.setLeftBorderPen("solid");wb.setLeftBorderColor(sa.BORDER_COLOR);wb.setRightBorderWidth(1);wb.setRightBorderPen("solid");wb.setRightBorderColor(sa.BORDER_COLOR);ib=new KTBorderStyle;ib.setBottomBorderWidth(1);ib.setBottomBorderPen("solid");ib.setBottomBorderColor(sa.BORDER_COLOR);eb=new KTBorderStyle;eb.setTopBorderWidth(1);eb.setTopBorderPen("solid");eb.setTopBorderColor(sa.BORDER_COLOR);Cb=new KTBorderStyle;
Cb.setLeftBorderWidth(1);Cb.setLeftBorderPen("solid");Cb.setLeftBorderColor(sa.BORDER_COLOR);Bb=new KTBorderStyle;Bb.setRightBorderWidth(1);Bb.setRightBorderPen("solid");Bb.setRightBorderColor(sa.BORDER_COLOR);Bb.setBottomBorderWidth(1);Bb.setBottomBorderPen("solid");Bb.setBottomBorderColor(sa.BORDER_COLOR);La=(Q=(Q=E.leftTopHead)?Q.plane:null)&&0<Q.length?!0:!1;var ra=E.topHead;Aa=0==ra.length?La?1:0:ra[0].length;var Ea=E.leftHead;qa=0==Ea.length?La?Q.length:0:Ea[0].length;X=1!=qa||La?120:160;Q=
0==Aa&&0==qa;F=!Q;var Xa=E.draw,Sa=Xa.type;ba=Xa.secondaryType;ea=Xa.direction;Xa=E.commonCell;O=C.ChartTypeFactory.getInstance(Sa);d=O.createJsonCellParser();d.parseCommonCell(Xa);var Fa=E.legends;Tb=dc=cc=null;if(Fa){Sa=Fa.size;Xa=Fa.continuousColor;Fa=Fa.discreteColor;if(Xa){var Ja=new ta;Ja.setJsonModel(Xa);cc=Ja}Fa&&(Ja=new Da,Ja.setJsonModel(Fa),dc=Ja);Sa&&(Ja=new Ba,Ja.setJsonModel(Sa),Tb=Ja)}Ea=Ea.length;ra=ra.length;Sa=[cc,dc,Tb];xa&&xa(Ea,ra,Sa);a.empty();Q?(S.showNoDataPrompt(ia.get("incompleteTemplate",
"\u5b9a\u4e49\u4e0d\u5b8c\u6574\uff0c\u65e0\u53ef\u89c6\u5316\u5185\u5bb9\u3002")),nb([null,null,null])):(Q=w,B(E),z(),nb([cc,dc,Tb]),Q&&c.restoreScrollStatus(Q));c&&tb()}else a.empty();$a&&$a()},z=function(){if(Tb){var E=Math.min(W(Ob),Ma(Hb));E=parseInt(.8*E);Tb.setBaseDiameter(E)}},g=function(E,Q){E?(ec=E.cacheKey,Ub=E.nextPartRowStart,kc=E.everyPartRows,(E=E.totalRows)&&(hc=E),p()&&void 0!==Ub&&(0<=Ub?(E=ia.get("promptLazyLoading","\u5171#1\u884c\uff0c\u5df2\u52a0\u8f7d#2\u884c\u3002"),E=E.replace("#1",
hc).replace("#2",Ub),cb&&cb(E)):(E=ia.get("promptAllRowsLoaded","\u5171#1\u884c\uff0c\u5df2\u5168\u90e8\u52a0\u8f7d\u3002"),E=E.replace("#1",hc),cb&&cb(E)))):(ec=null,kc=Ub=-1,hc=Q,p()&&(E=ia.get("promptAllRowsLoaded","\u5171#1\u884c\uff0c\u5df2\u5168\u90e8\u52a0\u8f7d\u3002"),E=E.replace("#1",hc),cb&&cb(E)))},B=function(E){var Q=[];g(E.exhibitionCache,E.leftHead.length);c=new KTable;c.setCrossFrozenRenderMode(KTCrossFrozenRenderMode.STUPID_LIGHT);c.setSyncUIWhenModelChanged(!1);c.setMergeBlockTextVisibleAlways(!0);
c.setDraggableAdjusting(f,Aa,qa,new Y);c.setCellAcrossListener(fc);c.setMultiTreeSupported(!0,Aa,qa);c.addCellClickListener(Mb);c.setLargeDataMode(!0,!1);Ga.getMeta().isMdOfSrcMode()?c.addTreeExpandListener(Db):(c.setSyncMergeBlockWhenModelChanged(!1),ec&&void 0===Ub&&(c.addTreeExpandListener(bb),c.addTreeStateChangedListener(function(Ja,Ua){Ja=Ua.getCell().getTreeModel();Ja.isHorizontal()||Ja.isLazyLoaded()||!Ja.isExpanded()||Ua.preventDefault()})),ec&&void 0!==Ub&&c.addScrollToBottomListener(function(Ja,
Ua){0<=Ub&&$b(Ub,kc,function(kb){g(kb.exhibitionCache);c.lazyAppendData(!0);r(kb.leftHead,kb.cells,Q);c.lazyAppendData(!1)})}));k&&h&&c.setScrollerVisible(k,h);c.setStyle(lb);db&&c.setBorder(db);var ra=new G(c);ra.setOutsideVisible(!1);c.setCellRender(ra);var Ea=E.shedTitle.atColumn;Za=E.shedTitle.atRow;sb=Ea.length;jb=Za.length;ra=ic();var Xa=E.rowsIdx,Sa=null;Xa&&(Sa=function(Ja,Ua){var kb=new Ha;kb.setShedTitleModel(Ua);kb.setBizRowIdx(Xa[Ja]);Ja=c.addRow();Ja.setUserObject(kb);return Ja});var Fa=
E.warning;Fa&&rb(Fa);gb(E.cells);y(E.topHead,Ea,ra);r(E.leftHead,E.cells,Q,Sa);mb(E.mergeBlocks);c.setUICustomStyleMap({"background-color":sa.TABLE_CONTAINER_BACKGROUND});Ea=$(c.getUI());Ea.appendTo(a);Ea.addClass("sa-exhibition-table");0<c.getRowsCount()&&0<c.getColumnsCount()&&(T(E.leftTopHead),c.updateUI(!0,w));w=null;c.setSyncUIWhenModelChanged(!0);qc(ra)},T=function(E){var Q=E.diagonal;E=E.plane;if(Q){E=Q.crossRows;var ra=Q.crossColumns,Ea=Q.titles;Q=new KTDiagonalModel;Q.setCrossRows(E);Q.setCrossColumns(ra);
for(var Xa=[],Sa=[],Fa=0;Fa<E;Fa++)Fa<E-1&&(Xa[Fa]=1),Q.setText(Ea[Fa],Fa),Q.setLean(!0,Fa);for(Fa=0;Fa<ra;Fa++){Fa<ra-1&&(Sa[Fa]=1);var Ja=ra+E-Fa-1;Q.setText(Ea[Ja],Ja);Q.setLean(0<Fa,Ja)}Q.setLinkToRows(Xa);Q.setLinkToColumns(Sa);E=c.getRow(0).getCell(0);E.setValue(Q);E.setBorder(Bb);E.setStyle(ub);c.setDiagonalRender(new Z)}else if(E)for(ra=0;ra<E.length;ra++)Q=c.getRow(0).getCell(ra),Q.setValue(E[ra]),Q.setBorder(ib),Q.setStyle(ub)},Ia=function(){return parseInt(10*((La?.5:qa/(0==Aa?1:Aa))-.5)+
30)},fa=function(E,Q){for(var ra=[],Ea=0,Xa=m().getColumnAnalyticalFieldSet(),Sa=Xa.getCount(),Fa=0;Fa<Aa;Fa++){if(Fa<Sa){var Ja=Xa.get(Fa);var Ua=sc(Ja,!0);!Ua&&Ja.getMetaField().isParentChildDimension()&&(Ua=50)}else Ua=sc(null,!0);ra[Fa]=Ua?Ua:Fa==Aa-1?Q:E;Ea+=ra[Fa]}ra[Aa]=Ea;return ra},H=function(E,Q){for(var ra=[],Ea=0,Xa=m().getRowAnalyticalFieldSet(),Sa=Xa.getCount(),Fa=0;Fa<qa;Fa++){if(Fa<Sa){var Ja=Xa.get(Fa);Ja=tc(Ja,!0)}else Ja=tc(null,!0);ra[Fa]=Ja?Ja:Fa==qa-1?Q:E;Ea+=ra[Fa]}ra[qa]=Ea;
return ra},D=function(){var E=m().getRowAnalyticalFieldSet();return 0<E.getCount()?E.get(E.getCount()-1):null},P=function(){var E=m().getColumnAnalyticalFieldSet();return 0<E.getCount()?E.get(E.getCount()-1):null},W=function(E){var Q=D();return(Q=sc(Q,!1))?Q:E},Ma=function(E){var Q=P();return(Q=tc(Q,!1))?Q:E},gb=function(E){var Q=0,ra=0;E&&0<E.length&&(Q=E.length,(E=E[0])&&0<E.length&&(ra=E.length));E=t();var Ea=O.getSuggestedSize(E,m());bc=Ea;var Xa=Ea.getMinWidth(),Sa=Ea.getMinHeight(),Fa=Ea.getMaxWidth(),
Ja=Ea.getMaxHeight();E=Ea.getWidthHeightRatio();var Ua=X;Lb=Ea.getLeftAxisColumnWidth();Lb=0<Lb?Lb:Ua;Ua=H(Ua,Lb);Ua=Ua[Ua.length-1];var kb=Ia();Nb=Ea.getTopAxisRowHeight();Nb=0<Nb?Nb:kb;Ea=fa(kb,Nb);Ea=Ea[Ea.length-1];Fa>Xa?(kb=a.innerWidth()-30,ra=parseInt((kb-Ua)/(0==ra?10:ra))+1,Hb=ra<Xa?Xa:ra>Fa?Fa:ra):Hb=Xa;Ja>Sa?(ra=a.innerHeight()-30,Q=parseInt((ra-Ea)/(0==Q?10:Q))+1,Ob=Q<Sa?Sa:Q>Ja?Ja:Q):Ob=Sa;0<E&&(Q=parseInt(Ob*E),Q<Hb?Hb=Q:Q>Hb&&(Ob=parseInt(Hb/E)))},rb=function(E){var Q=$("<div>");Q.text(E);
Q.appendTo(a);Q.addClass("sa-exhibition-warning");E=new M;E.setText("X");E.addActionListener(function(){Q.remove()});E.getJqUi().addClass("sa-exhibition-warning-close");E.getJqUi().appendTo(Q)},y=function(E,Q,ra){var Ea=p(),Xa=E.length,Sa=!1;256<Xa&&(Sa=!0,Xa=256,rb(ia.get("tooMuchColumns","\u5217\u6570\u592a\u591a\u4e0d\u80fd\u663e\u793a\u5b8c\u6574\uff0c\u5c1d\u8bd5\u628a\u6570\u636e\u591a\u7684\u5b57\u6bb5\u653e\u5230\u884c\u4e0a\u3002")));for(var Fa=H(X,Lb),Ja=0;Ja<qa;Ja++){var Ua=c.addColumn();
Ua.setWidth(Fa[Ja]);Ja==qa-1?(Ua.setStyle(Rb),0==Ja?Ua.setBorder(qb):Ua.setBorder(wb)):(Ua.setStyle(zb),Ua.setBorder(Cb))}Fa=Ma(Hb);Ka=!x()&&Ea||Sa?1:0;var kb=Xa+Ka;for(Ja=0;Ja<kb;Ja++)Ua=c.addColumn(),Ua.setUserObject(new fb),Ua.setWidth(Ja<Xa?Fa:4),0==Ja&&Ua.setBorder(Cb);Fa=fa(Ia(),Nb);kb=[];var vb=[];for(Ja=0;Ja<Aa;Ja++){var Gb=c.addRow();Gb.setHeight(Fa[Ja]);Ja==Aa-1&&Gb.setBorder(ib);(Ua=Ja<Aa-1||!Ea)||(Ua=m().getColumnAnalyticalFieldSet(),Ua=0<Ua.getCount()?Ua.get(Ua.getCount()-1).getMetaField().isParentChildDimension():
!1);Ua?Gb.setStyle(ub):Gb.setStyle(Ab);for(var Jb,Fb=null,Sb=!0,ac=!1,vc=65535,lc=0;lc<Xa;lc++){var rc=qa+lc;Ua=c.getColumn(rc);var oc=Ua.getUserObject(),pc=la(E[lc][Ja],oc,Ja<Q.length?Q[Ja]:null);oc=pc[0];var wc=pc[1],xc=pc[2];pc=pc[3];var mc=null,jc=null;0<ra.length&&(jc=vb[lc],jc||(jc=new ya,jc.setHorizontal(!0),vb[lc]=jc));oc||wc?(mc=Gb.getCell(rc),mc.setValue(oc),mc.setUserObject(wc),!pc&&mc.setStyle(ab),xc?((Sb=Pa(Sb,Fb,mc,xc,!0,ra,jc))?Fb=ac:(Fb=!0,ac=mc.getTreeModel(),ac.getLevel()<=vc&&(Fb=
!1,vc=ac.isExpanded()?65535:ac.getLevel()),ac=Fb),kb[lc]=kb[lc]||Fb):(jc&&jc.addKey(oc),Sb=Sb?Fb?Fb.getValue()==oc:!0:!1)):(jc&&jc.addKey(null),Sb=!1);pc&&Ua.setStyle(Vb);Ja<Aa-1&&(oc!=Jb&&Ua.setBorder(Cb),Jb=oc);kb[lc]&&Ua.setHide(!0);Fb=mc}}!Ea&&0<Aa&&!1===bc.isTopAsNumberAxis()&&(E=c.getRow(Aa-1),Q=E.getStyle(),Q=Q.copy(),Q.setWrapText(!0),Q.setVerticalAlign("top"),E.setStyle(Q));if(Sa&&0<Aa)for(rc=c.getColumnsCount()-1,c.getColumn(rc).setWidth(40),Ja=0;Ja<Aa;Ja++)Gb=c.getRow(Ja),mc=Gb.getCell(rc),
mc.setValue("...")},r=function(E,Q,ra,Ea){Ea||(Ea=function(Sb,ac){Sb=c.addRow();Sb.setUserObject(ac);return Sb});for(var Xa=p(),Sa=c.getColumnsCount()-qa-Ka,Fa=W(Ob),Ja=Xb,Ua=!1,kb=null,vb=0;vb<E.length;vb++){Xa&&(Ja=Ua?Wb:Xb);var Gb=E[vb],Jb=new fb,Fb=Ea(vb,Jb);Fb.setHeight(Fa);Fb.setStyle(Ja);A(ra,Gb,Fb,kb,Jb,Ua);(kb=Q[vb])&&0<kb.length&&aa(Sa,kb,Fb,Xa);Xa&&(Ua=!Ua);kb=Fb}},A=function(E,Q,ra,Ea,Xa,Sa){for(var Fa=!0,Ja=0;Ja<Q.length;Ja++){var Ua=la(Q[Ja],Xa,Ja<Za.length?Za[Ja]:null),kb=Ua[0],vb=
Ua[1],Gb=Ua[2];Ua=Ua[3];if(kb||vb){var Jb=Ea?Ea.getCell(Ja):null,Fb=ra.getCell(Ja);Fb.setValue(kb);Fb.setUserObject(vb);!Ua&&Fb.setStyle(ab);Fa=Gb?Pa(Fa,Jb,Fb,Gb,!1,null,null):Fa?Jb?Jb.getValue()==kb:!0:!1}else Fa=!1;Ua&&ra.setStyle(Sa?Zb:Qa);Ja<qa-1&&(kb!=E[Ja]&&ra.setBorder(eb),E[Ja]=kb)}},aa=function(E,Q,ra,Ea){for(var Xa=0;Xa<E;Xa++){var Sa=Q[Xa];if(Sa){var Fa=ra.getCell(Xa+qa);Fa.setUserObject(Sa);if(Ea){var Ja=Sa.text;Ja&&(Fa.setValue(Ja),Sa=Sa.color)&&(Ja=new KTStyle,Ja.setColor(" "+Sa),Fa.setStyle(Ja))}}}},
la=function(E,Q,ra){var Ea=null,Xa=null,Sa=null,Fa=!1,Ja=!1;if("string"==typeof E)Ea=E,Fa=!0;else if(E)switch(E.type){case "ns":Ea=E.text;var Ua=E.value;Fa=!0;break;case "axis":Sa=E;break;case "subtotal":Ea=E.text;Ja=!0;break;case "measure":Ea=E.text;Q.setMeasureIndex(E.index);break;case "tree":Ea=E.text;var kb=E;Fa=!0;Xa=E.id;break;default:throw Error("Unknown HeadCell type.");}Q&&ra&&(Fa?Q.addItem(ra,Ea,Xa,Ua):Ja&&Q.addItemForSubtotal());return[Ea,Sa,kb,Ja]},Pa=function(E,Q,ra,Ea,Xa,Sa,Fa){var Ja=
Ea.id;Fa&&Fa.addKey(Ja);var Ua;if(Q){var kb=Q.getUserObject();(E=E?Ja==kb:!1)&&(Ua=Q.getTreeModel())}else E=!1;if(!Ua){Q=Ea.level;kb=Ea.last;var vb=Ea.asParent?!0:!1;Ea=Ea.expanded?!0:!1;Ua=new KTCellTreeModel(Q,Xa);(kb||0===kb)&&Ua.setLastChildLevel(kb);Ua.setHaveHandlerAlways(vb);if(Xa){if(Fa){Ea=0>Q;a:{if(0<Sa.length)for(Xa=0;Xa<Sa.length;Xa++)if(Q=Sa[Xa],Q.isSameKey(Fa)){Sa.splice(Xa,1);Sa=Q;break a}Sa=null}Sa&&(Ea=Sa.isExpanded())}}else vb&&Ua.setLazyLoaded(Ea);Ua.setExpanded(Ea)}ra.setTreeModel(Ua);
ra.setUserObject(Ja);return E},mb=function(E){for(var Q=c.getColumnsCount()-Ka,ra=[],Ea=0;Ea<E.length;Ea++){var Xa=E[Ea],Sa=Xa[2];Sa<Q&&ra.push(new KTMergeBlock(Xa[0],Xa[1],Sa,Xa[3]<Q?Xa[3]:Q-1))}c.addMergeBlocks(ra)},tb=function(){t().getChartConfig().getTableConfig().isFrozenTop()?c.setFrozenRows(Aa):c.setFrozenRows(0);Eb()},Eb=function(){if(t().getChartConfig().getTableConfig().isFrozenLeft()){for(var E=a.innerWidth(),Q=0,ra=0,Ea=Math.min(qa+1,c.getColumnsCount());ra<Ea;ra++)Q+=c.getColumn(ra).getWidth();
c.setFrozenColumns(Q>E?0:qa)}else c.setFrozenColumns(0)},Mb=function(E,Q){e&&Q.isLeftButton()&&(E=(E=Q.getCell())?E.getValue():"",Ra.fakeCopy("string"==typeof E?E:""))},fc=function(E,Q,ra){var Ea=!0,Xa=!0;if(E){var Sa=Q<Aa||ra<qa;if((Xa=ra>=c.getColumnsCount()-Ka)||!p()&&!Sa)Ea=!1}Sa=E&&0<E.length?E[0]:null;if(Ib!=Sa){if(Ib){var Fa=Ib["qing-bg"];delete Ib["qing-bg"];Fa&&$(Ib).css("background-color",Fa);Ib["qing-left-top-header"]?Kb.showOperatingTips($(Ib),!1):Ib["qing-sorting-top-header"]?Kb.hideRowsSortingTips($(Ib)):
Ib["qing-sorting-left-header"]&&Kb.hideColumnsSortingTips($(Ib))}Sa&&(Ea&&(Sa["qing-bg"]=E.css("background-color"),E.css("background-color",sa.CELL_ACROSS_COLOR)),La&&0==Q&&ra<qa||!La&&0==Q&&0==ra?(Kb.showOperatingTips(E,!0),Sa["qing-left-top-header"]=!0):O.isCellMeasurable(m())&&(!Xa&&(m().getRowAnalyticalFieldSet().hasAnyDimension()&&Q==Aa-1||La&&0==Q&&ra>=qa)?(Q=c.getColumn(ra).getUserObject(),Kb.showRowsSortingTips(E,Q),Sa["qing-sorting-top-header"]=!0):m().getColumnAnalyticalFieldSet().hasAnyDimension()&&
ra==qa-1&&(Q=c.getRow(Q).getUserObject(),Q=Q instanceof Ha?Q.getShedTitleModel():Q,Kb.showColumnsSortingLittleBox(E,Q),Sa["qing-sorting-left-header"]=!0)));Ib=Sa}},gc=function(E,Q,ra,Ea){var Xa=new ya;Xa.setExpanded(E);Xa.setHorizontal(Q);E=function(Fa){Fa=Fa.getTreeModel()?Fa.getUserObject():Fa.getValue();Xa.addKey(Fa)};if(Q)for(Q=0;Q<=ra;Q++){var Sa=c.getRow(Q).getCell(Ea);E(Sa)}else for(ra=c.getRow(ra),Q=0;Q<=Ea;Q++)Sa=ra.getCell(Q),E(Sa);return Xa},Db=function(E,Q){E=Q.isExpanded();var ra=Q.getCell().getTreeModel().isHorizontal(),
Ea=Q.getRowIdx();Q=Q.getColIdx();Q=gc(E,ra,Ea,Q);E=new R;E.setValue(Q);Ga.getCommandManager().perform(E)},bb=function(E,Q){var ra=Q.isExpanded(),Ea=Q.getCell().getTreeModel(),Xa=Ea.isHorizontal();E=Q.getRowIdx();var Sa=Q.getColIdx();Q=gc(ra,Xa,E,Sa);Qb(Q,Ea.getLevel());if(!Xa&&ra&&!Ea.isLazyLoaded()){Ea.setLazyLoaded(!0);Q=c.searchMergeBlock(E,Sa);var Fa=(Q?Q.getRowIdxTo():E)+1,Ja=!1;E=c.getRow(E).getUserObject().getBizRowIdx();ha(E,Sa,Fa,function(Ua){var kb=Ua.leftHead,vb=Ua.cells,Gb=Ua.rowsIdx;
Ua=Ua.mergeBlocks;Ja=0<Ua.length;var Jb=c.isSyncUIWhenModelChanged();c.setSyncUIWhenModelChanged(!1);r(kb,vb,[],function(Fb,Sb){var ac=new Ha;ac.setShedTitleModel(Sb);ac.setBizRowIdx(Gb[Fb]);Fb=c.insertRow(Fa);Fb.setUserObject(ac);Ja=pb(Fa,Sa)||Ja;Fa++;return Fb});mb(Ua);Ja&&c.bucketingMergeBlocks(!0);c.setSyncUIWhenModelChanged(Jb);c.updateUI(!0)})}},pb=function(E,Q){var ra=[],Ea=!1;c.visitAllMergeBlocks(function(Fa){E<=Fa.getRowIdxFrom()?(Fa.setRowIdxFrom(Fa.getRowIdxFrom()+1),Fa.setRowIdxTo(Fa.getRowIdxTo()+
1),Ea=!0):E<=Fa.getRowIdxTo()?(Fa.setRowIdxTo(Fa.getRowIdxTo()+1),Ea=!0):E-1==Fa.getRowIdxTo()&&Fa.getColIdxTo()<Q&&(Fa.setRowIdxTo(Fa.getRowIdxTo()+1),Ea=!0,ra[Fa.getColIdxTo()]=!0)});for(var Xa=[],Sa=0;Sa<Q;Sa++)ra[Sa]||Xa.push(new KTMergeBlock(E-1,E,Sa,Sa));0<Xa.length&&c.addMergeBlocks(Xa);return Ea},Qb=function(E,Q){for(var ra=xb.length-1;0<=ra;ra--)if(xb[ra].isSameKey(E)){xb.splice(ra,1);break}E.isExpanded()!=0>Q&&(xb.push(E),128<xb.length&&xb.splice(0,1))},ic=function(){for(var E=[],Q=0;Q<
xb.length;Q++){var ra=xb[Q];ra.isHorizontal()&&E.push(ra)}return E},qc=function(E){for(var Q=0;Q<E.length;Q++)for(var ra=E[Q],Ea=0;Ea<xb.length;Ea++)if(xb[Ea].isSameKey(ra)){xb.splice(Ea,1);break}},Yb=function(E){E=uc(E);var Q=yb[E];Q||(Q=new K,yb[E]=Q);return Q},uc=function(E){if(E){var Q=E.getMetaField().getFullName();E=E.getPartValue();return Q+(E?"~"+E:"")}return"qing-system-non-field"},sc=function(E,Q){E=uc(E);E=yb[E];var ra;E&&(ra=Q?E.getTopHeight():E.getLeftHeight());return ra},tc=function(E,
Q){E=uc(E);E=yb[E];var ra;E&&(ra=Q?E.getLeftWidth():E.getTopWidth());return ra}};C.AbstractTooltipsWidget=ja;var L,da,ia,I,M,ca,ma,Ca,oa,Na,Wa,Ya,Va,N,za,va,Oa,U,na;(function(){var Y=com.kingdee.bos.qing.common;L=Y.DomUtil;da=Y.CanvasUtil;Y=com.kingdee.bos.qing.framework.common;ia=Y.MultilanguageManager.createPackageAccessor(C);I=Y.GlobalFont;Y=com.kingdee.bos.qing.ui.component;M=Y.WorkButton;Y=com.kingdee.bos.qing.core;Na=Y.Icons;Wa=Y.CommonJsonParser;Ya=Y.LinkageRegister;Y=com.kingdee.bos.qing.core.model;
Va=Y.AbstractAnalyticalField;N=Y.ExecutableValue;Y=com.kingdee.bos.qing.longer.model;za=Y.AnalyticalModel;va=Y.SortingLane;Oa=Y.ChartContext;Y=com.kingdee.bos.qing.chart.model;ca=Y.DiscreteColorLegendModel;Y=com.kingdee.bos.qing.chart.render;ma=Y.SizeLegendRender;Ca=Y.ContinuousColorLegendRender;oa=Y.DiscreteColorLegendRender;Y=com.kingdee.bos.qing.core.controller;U=Y.AbstractAction;na=Y.ActionChangeProperty})();var sa={BORDER_COLOR:"#d7e2e2",TOP_HEAD_COLOR:"#333",TOP_HEAD_BACKGROUND:"#f4f4f4",LEFT_HEAD_BACKGROUND:"#fff",
ROW_BACKGROUND_EVEN:"#fff",ROW_BACKGROUND_ODD:"#f0f4fa",TABLE_CONTAINER_BACKGROUND:"#e9ecf1",CELL_ACROSS_COLOR:"#D6E6F8"},pa=new function(){this.PORTRAIT="PORTRAIT";this.LANDSCAPE="LANDSCAPE"};wa.BOX_LEN=15;Ta.TYPE_SIZE="size";Ta.TYPE_CONTINUOUS_COLOR="continuousColor";Ta.TYPE_DISCRETE_COLOR="discreteColor";ya.SEPARATER="_|_";var Ra=new function(){var Y;this.fakeCopy=function(J){Y||(Y=$("<div>"),Y.appendTo($(document.body)),Y.css({position:"absolute",left:-1E3,top:-1E3}));Y.text(J);var ka=document.createRange();
ka.setStart(Y[0],0);ka.setEnd(Y[0],0==J.length?0:1);J=window.getSelection();J.removeAllRanges();J.addRange(ka)}}})();(function(){function wa(){function L(){Da.call(this);var N=this.protectedMethod,za,va;(function(){N.setTitle(ta.get("linkage","\u5355\u636e\u8054\u67e5"));N.getDialogCtrl().setResizeEnabled();N.setFooterPaneCreator(null);N.setContentPaneCreator(function(){return za=$("<div>")});N.setClosingAction(function(Oa){va&&va(Oa)})})();this.setClosingAction=function(Oa){va=Oa};this.setContent=function(Oa){Ba.layoutCtrlWithLRTB(Oa,0,0,null,0,0,null);za.empty();za.append(Oa)};this.closeDialog=function(){N.destroy()}}
var da,ia,I,M,ca,ma,Ca;this.setContext=function(N,za,va,Oa,U,na){da=N;ia=za;I=va;M=Oa;ca=U;ma=na};this.jumping=function(){var N=I.getLinkTargets().getRunnableItems();1<N.length?Na(N,function(za){za&&oa(za)}):oa(N[0])};var oa=function(N){var za=[N.getForeignKey()];M&&(za=za.concat(M));za=I.createDependentMeta(ia,za);var va=ya.makeJsonLongerClickedContext(ma);ya.jumpToListUi(N,va,da,za,I,ca,function(Oa,U){Ya(Oa,!1===U?8E3:5E3)},function(Oa,U){Wa(Oa,function(){U(!1)})})},Na=function(N,za){var va=0,Oa=
$("<div>");Oa.css("overflow","auto");for(var U=0;U<N.length;U++){var na=N[U],sa=ya.makeItemDisplay(na),pa=new Ha;pa.setText(sa);pa.setUserObject(na);pa.addActionListener(function(Ra){za(Ra.getUserObject())});pa.getJqUi().appendTo(Oa);Ba.layoutCtrlWithLRTB(pa.getJqUi(),0,0,null,va,null,30);va+=40}Va(400,80+va).setContent(Oa)},Wa=function(N,za){var va=new hb(N);va.setAlign(hb.ALIGN_CENTER);var Oa=new fb(ta.get("buttonConfirm","\u6211\u77e5\u9053\u4e86"));Oa.addActionListener(function(U){za()});N=$("<div>");
N.append(va.getJqUi());N.append(Oa.getJqUi());Ba.layoutCtrlWithLRTB(va.getJqUi(),0,0,null,0,50,null);Ba.layoutCtrlWithLRTB(Oa.getJqUi(),null,null,null,null,10,26);Ba.layoutCtrlCenterAlign(Oa.getJqUi(),100);va=Va(400,200);va.setContent(N);va.setClosingAction(function(U){za()})},Ya=function(N,za){N=new hb(N);N.setAlign(hb.ALIGN_CENTER);var va=$("<div>");va.append(N.getJqUi());Ba.layoutCtrlWithLRTB(N.getJqUi(),0,0,null,0,20,null);var Oa=Va(400,200);Oa.setContent(va);setTimeout(function(){Oa.closeDialog()},
za)},Va=function(N,za){Ca||(Ca=new L,Ca.setSize(N,za),Ca.showDialog());return Ca}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.longer&&(com.kingdee.bos.qing.longer={});"undefined"==typeof com.kingdee.bos.qing.longer.ui&&(com.kingdee.bos.qing.longer.ui={});var Ta=com.kingdee.bos.qing.longer.ui;Ta.ExecutableExhibition=
function(){Ta.Exhibition.call(this);var L=this.protectedMethod,da,ia,I,M;this.setRenderingInterceptor=function(Na){I=Na};this.setExecutedListener=function(Na){da=Na};this.setExcutedModelChangedListener=function(Na){ia=Na};this.initCacheLoader=function(){var Na=0;L.setCacheLoader(function(Wa,Ya,Va,N,za,va){var Oa=(new Date).getTime();L.createFacade(function(U){U.timestamp<Na||va(U.tableView)}).easter(Oa,Wa,Ya,Va,N,za);Na=Oa})};this.initTooltipsWidget=function(Na,Wa,Ya,Va,N,za){L.initTooltipsWidget(Na,
function(va){var Oa=Ya(),U=Va(),na=N(),sa=za(),pa=new C;pa.setContext(Oa,U,na,sa,L.createFacade,Wa);pa.setEncodedCoordinateGetter(function(){return JSON.stringify(va)});pa.showDialog()},function(){return Va().getLinkTargets()?!0:!1},function(va){var Oa=Ya(),U=Va(),na=N(),sa=za(),pa=new wa;pa.setContext(L.createFacade,Oa,U,na,sa,va);pa.jumping()})};this.clearExecuted=function(){Ca(null)};this.execute=function(Na,Wa,Ya,Va){var N=L.createFacade(function(va){da&&da(!0,void 0,void 0);var Oa=va.tableView;
va=va.filterPreparedValues;oa(Wa.getFilterFieldSet(),va,-1);Ca(Oa)},function(va,Oa,U){va=[va,Oa,U];da&&da(!1,va,N);return!0},function(){za.hideWaiting()});N.setCancelable(!0);N.setShowBlocking(!1);N.setProgressListener(function(va){za.hookProgressDisplayer(ja.makeUiCreator(va))});Na=N.execute(Na,Wa,Ya,Va);var za=ca(Na)};this.filteringExecute=function(Na,Wa,Ya,Va,N){var za=L.createFacade(function(Oa){da&&da(!0,void 0,void 0);var U=Oa.tableView;Oa=Oa.filterPreparedValues;oa(Wa.getFilterFieldSet(),Oa,
N);Ca(U)},function(Oa,U,na){Oa=[Oa,U,na];da&&da(!1,Oa,za);return!0},function(){va.hideWaiting()});za.setCancelable(!0);za.setShowBlocking(!1);za.setProgressListener(function(Oa){va.hookProgressDisplayer(ja.makeUiCreator(Oa))});Na=za.filteringExecute(Na,Wa,Ya,Va,N);var va=ca(Na)};this.christmasExecute=function(Na,Wa,Ya,Va,N,za){var va=L.createFacade(function(U){if(va.getUserObject()==M){var na=function(){da&&da(!0,void 0,void 0);var sa=U.tableView,pa=U.filterPreparedValues,Ra=U.filterSelectedValues,
Y=Wa.getFilterFieldSet();if(0<Y.getCount()){for(var J=0;J<Y.getCount();J++){var ka=pa[J],V=Y.getFilter(J);ka=ua.create(ka);V.setPreparedModel(ka);Ra&&!V.isFullValue()&&(ka=Ra[J])&&V.applySelectedValues(ka)}za&&za(Y)}Ca(sa)};I?(I(na),I=null):na()}},function(U,na,sa){if(va.getUserObject()==M){var pa=function(){var Ra=[U,na,sa];da&&da(!1,Ra,va)};I?(I(pa),I=null):pa()}return!0},function(){Oa.hideWaiting()});ma(va);va.setCancelable(!0);va.setShowBlocking(!1);va.setProgressListener(function(U){Oa.hookProgressDisplayer(ja.makeUiCreator(U))});
Na=va.christmasExecute(Na,Wa,Ya,Va,N);var Oa=ca(Na)};var ca=function(Na){var Wa=new K;Wa.setIconVisible(!0);Wa.hookOwner(L.getBlockingJqUi(),null);Wa.showWaiting(ja.getWaitingText(),Na);return Wa},ma=function(Na){M=(new Date).getTime();Na.setUserObject(M)},Ca=function(Na){L.setExecutedModel(Na);ia&&ia(Na)},oa=function(Na,Wa,Ya){for(var Va=0;Va<Wa.length;Va++){var N=Wa[Va];Va!=Ya&&N&&Na.getFilter(Va).updatePreparedModel(N)}}};var Ba,ta,Da,Ha,fb,hb,K,ya,ja,ua,C;(function(){var L=com.kingdee.bos.qing.common;
Ba=L.DomUtil;L=com.kingdee.bos.qing.framework.common;ta=L.MultilanguageManager.createPackageAccessor(Ta);L=com.kingdee.bos.qing.ui.component;Da=L.AbstractModalDialog;Ha=L.WorkButton;fb=L.Button;hb=L.Label;L=com.kingdee.bos.qing.common.shared;K=L.LongtimeWaitingMask;L=com.kingdee.bos.qing.core.commonui;ya=L.LinkageHelper;ja=L.ExecutingProgressParser;L=com.kingdee.bos.qing.core.model;ua=L.AbstractFilterPreparedModel;L=com.kingdee.bos.qing.core.shared;C=L.DetailDataPopupDialog})()})();(function(){function wa(){var l=this,m=[],x=[];this.append=function(p,t){m.push(p);x.push(t)};this.isContainKey=function(p){for(var t=0;t<m.length;t++)if(p==m[t])return!0;return!1};this.isContainKeys=function(p){for(var t=0;t<p.length;t++)if(l.isContainKey(p[t]))return!0;return!1};this.isContainItemModelSet=function(p){for(var t=0;t<x.length;t++)if(x[t]&&p==x[t].getItemModelSet())return!0;return!1};this.getTargetItemModels=function(p,t){for(var u=0;u<m.length;u++)if(t==m[u]&&x[u]&&p==x[u].getItemModelSet())return x[u].getItemModels();
return null};this.isContainChartPropertyKey=function(){for(var p=0;p<m.length;p++)if(m[p].substring(0,2)==ha.Prefix)return!0;return!1};this.isRepaintNeeded=function(){for(var p=0;p<m.length;p++){var t=m[p];if(t.substring(t.length-4)==ha.NeedRepaint)return!0}return!1};this.isExecuteNeeded=function(){for(var p=0;p<m.length;p++){var t=m[p];if(t.substring(t.length-4)==ha.NeedExecute)return!0}return!1};this.toString=function(){return m.join(";")+" <---\x3e "+x.join(";")}}function Ta(l,m){var x;this.getItemModelSet=
function(){return l};this.getItemModels=function(){return m};this.setSubEventTarget=function(p){x=p};this.getSubEventTarget=function(){return x};this.toString=function(){return l.constructor.name+(x?"-"+x.toString():"")};this.getSubEventMetaField=function(){return x?x.getSubEventMetaField():null}}function Ba(l){this.getSubEventMetaField=function(){return null};this.toString=function(){return l.constructor.name+l.getSquareField().getComplexText()}}function ta(){Kb.call(this);var l=this,m=this.protectedMethod,
x=new Cb,p,t,u,z;this.getLinkTargets=function(){return z.getChartProperty().getLinkTargets()};this.getBriefOutputableFieldsModel=function(){var D=l.getChart().getBriefOutputableDimensionsAndMeasures(),P=new hc;P.setDimensionFields(D[0]);P.setMeasureFields(D[1]);return P};this.addModelChangedListener=function(D){x.addListener(D)};this.removeModelChangedListener=function(D){x.removeListener(D)};var g=function(D){l.checkAllFields();x.fireEvent(function(P){P(D)})},B=function(D,P){m.isListenerDumb()||
(t||(t=new wa),t.append(P,D),D&&D.getSubEventMetaField()?(p&&clearTimeout(p),p=setTimeout(function(){g(t);t=null},50)):(g(t),t=null))};this.getFilterSet=function(){u||(u=new fb,u.setItemCountMin(0),u.setItemCountMax(65535),u.addChangedListener(B));return u};this.getChart=function(){z||l.setChart(new Ka);return z};this.setChart=function(D){z&&(z.setChangedListener(null),z.awake(!1));if(z=D)z.setChangedListener(B),z.awake(!0);l.checkAllFields();B(null,ta.KEY_CHART_TYPE)};this.getChartTypeName=function(){return l.getChart().getChartTypeName()};
this.isExecutableContentEmpty=function(){return l.getChart().isExecutableContentEmpty()};this.getUsingMetaFields=function(D,P){return T(D,!0,!1,P,null)};this.createDependentMeta=function(D,P){var W=D.getEliminationKeyMetaFields(),Ma=D.getDimensionNecessityMetaFields();W=W.concat(Ma);P=T(D,!1,!0,P,W);return D.createExecutingCopy(P)};var T=function(D,P,W,Ma,gb){var rb=Pb.createSearchingUsingMetaFieldsTool(D),y=function(A){rb.checkField(A.getMetaField())};z.lookupAllItemModelSet(y,P);l.getFilterSet().traversalItems(y);
if(P&&z.isRollInSupported()){P=1;for(var r=z.getRollInState().getCurrentRollInFieldCount();P<=r;P++)y(z.lookupRolledInField(P))}W&&z.getChartProperty().lookupAllMetaFieldBinding(function(A){(A=D.searchMetaField(A))&&rb.checkField(A)});if(Ma)for(P=0;P<Ma.length;P++)(W=D.searchMetaField(Ma[P]))&&rb.checkField(W);if(gb)for(P=0;P<gb.length;P++)W=gb[P],rb.checkField(W);return rb.getUsingMetaFields()};this.isAnyCalculatedFieldUsed=function(D){var P=!1,W=function(Ma){Ma=Ma.getMetaField();return!Ma.getFormula()||
D&&D!=Ma.getFullName()?!1:P=!0};z.lookupAllItemModelSet(W);!P&&l.getFilterSet().traversalItems(W);return P};this.howManyCalculatedFieldsUsed=function(){var D=0,P=function(W){W.getMetaField().getFormula()&&D++};z.lookupAllItemModelSet(P);l.getFilterSet().traversalItems(P);return D};this.checkAllFields=function(){z.lookupAllItemModelSet(Ia);l.getFilterSet().traversalItems(Ia);z.checkAllFieldsProblem()};var Ia=function(D){var P=D.getSquareField();D=D.getMetaField();var W=D.getTable(),Ma=W&&W.searchMetaField(D.getPureName())?
!1:!0;W=new yb.InvalidPrompt;W.setLevel(yb.InvalidPrompt.LEVEL_META_LOST,Ma);P.setInvalidPrompt(W);Ma=D.isInvalid()?!0:!1;W=new yb.InvalidPrompt;W.setLevel(yb.InvalidPrompt.LEVEL_META_INVALID,Ma);P.setInvalidPrompt(W);W=D.isRelativeAggregation();Ma=P.getAggregation()==yb.AGGREGATION_AGG;D=yb.isAggregationFittedDataType(P.getAggregation(),D.getDataType());D=P.isMeasure()&&(W&&!Ma||!W&&Ma||!D);W=new yb.InvalidPrompt;W.setLevel(yb.InvalidPrompt.LEVEL_AGG,D);P.setInvalidPrompt(W)},fa=function(D){var P=
{},W=[],Ma=function(r){r=r.getSquareField();var A=D?null:r.getId();A?P[A]=!0:W.push(r)};l.getChart().lookupAllItemModelSet(Ma);l.getFilterSet().traversalItems(Ma);Ma=1;for(var gb=0;gb<W.length;gb++){var rb=W[gb],y=null;do y="field"+Ma++;while(P[y]);rb.setId(y);P[y]=!0}};this.toJsonObject=function(){fa(!0);var D={};D.filters=u.toJsonObject(!0);var P=z.toJsonObject();P.chartType=z.getChartTypeName();D.chart=P;m.sharedToJsonObject(D);return D};this.fromJsonObject=function(D,P){var W=D.filters;W&&l.getFilterSet().fromJsonObject(K,
W,P,!0);W=D.chart;var Ma=H(W.chartType);Ma.fromJsonObject(W,P);l.setChart(Ma);fa(!1);m.sharedFromJsonObject(D)};var H=function(D){switch(D){case ta.ChartType_KPI:return new F;case ta.ChartType_Pie:return new ba;case ta.ChartType_Ring:return new ea;case ta.ChartType_Rose:return new qa;case ta.ChartType_Column:return new Ka;case ta.ChartType_StackedColumn:return new cb;case ta.ChartType_PercentStackedColumn:return new nb;case ta.ChartType_Bar:return new jb;case ta.ChartType_StackedBar:return new sb;
case ta.ChartType_PercentStackedBar:return new La;case ta.ChartType_Line:return new xa;case ta.ChartType_Area:return new $a;case ta.ChartType_PercentArea:return new Ga;case ta.ChartType_Map:return new lb;case ta.ChartType_GIS:return new ub;case ta.ChartType_Radar:return new Ab;case ta.ChartType_ProgressBar:return new Rb;case ta.ChartType_ProgressColumn:return new Vb;case ta.ChartType_ProgressCircle:return new Wb;case ta.ChartType_Dial:return new Xb;case ta.ChartType_Composite:return new Zb;case ta.ChartType_Grid:return new Qa;
case ta.ChartType_CustomList:return new ab;case ta.ChartType_Waterfall:return new db;case ta.ChartType_Funnel:return new ib;case ta.ChartType_Scatter:return new ob;case ta.ChartType_RectTree:return new qb;case ta.ChartType_Sunburst:return new wb;default:throw Error("Modify here.");}}}function Da(){hb.call(this);yb.call(this);var l=this,m=this.protectedMethod;this.getSquareField=function(){return l};this.protectedCreateInstance=function(){return new Da};this.bindMetaEvent=function(){m.bindMetaEvent()};
this.setDiscreteColor=function(x){m.innerSetDiscreteColor(x)}}function Ha(){var l=this,m=0,x=1,p=[],t=new Cb;this.setItemCountMin=function(g){m=g};this.getItemCountMin=function(){return m};this.setItemCountMax=function(g){x=g};this.getItemCountMax=function(){return x};this.addChangedListener=function(g){t.addListener(g)};this.removeChangedListener=function(g){t.removeListener(g)};var u=function(g,B){t.fireEvent(function(T){T(g,B)})};this.getItemModelCount=function(){return p.length};this.getItemModel=
function(g){return p[g]};this.goodbyeItemModel=function(g){(g=p[g])&&g.clearListener();return g};this.getItemModelIndex=function(g){for(var B=0;B<p.length;B++)if(p[B]==g)return B;return-1};this.traversalItems=function(g){for(var B=!1,T=0;T<p.length&&!(B=g(p[T]));T++);return B};this.awake=function(g,B){B.removePropertyChangeListener(z);g&&B.addPropertyChangeListener(z)};this.addItemModel=function(g){p.push(g);g.addPropertyChangeListener(z);g.bindMetaEvent();u(new Ta(l,[g]),Ha.KEY_ADD)};this.insertItemModel=
function(g,B){p.splice(B,0,g);g.addPropertyChangeListener(z);g.bindMetaEvent();u(new Ta(l,[g]),Ha.KEY_ADD)};this.appendItemModels=function(g){for(var B=0;B<g.length;B++){var T=g[B];p.push(T);T.addPropertyChangeListener(z);T.bindMetaEvent()}u(new Ta(l,g),Ha.KEY_ADD)};this.removeItemModels=function(g){for(var B=0;B<g.length;B++){var T=g[B];T.clearListener();T=l.getItemModelIndex(T);p.splice(T,1)}u(new Ta(l,g),Ha.KEY_REMOVE)};this.removeItemModel=function(g){g.clearListener();var B=l.getItemModelIndex(g);
p.splice(B,1);u(new Ta(l,[g]),Ha.KEY_REMOVE)};this.moveItemModel=function(g,B){if(B>g){--B;var T=g}else T=g+1;g=p.splice(g,1)[0];p.splice(B,0,g);u(new Ta(l,[g]),Ha.KEY_MOVE);return[B,T]};var z=function(g,B){var T=new Ta(l);T.setSubEventTarget(g);u(T,B)};this.getInitialDateHierachyForField=function(g,B){if(g.getMetaField().getDataType()!=Ib.DT_DATE||g.getPartValue())return null;var T=[yb.PARTVALUE_DATE_YEAR,yb.PARTVALUE_DATE_QUARTER,yb.PARTVALUE_DATE_MONTH,yb.PARTVALUE_DATE_DAY];for(--B;0<=B;B--){var Ia=
p[B];if(Ia.getMetaField()==g.getMetaField()){Ia=Ia.getPartValue();for(var fa=T.length-2;0<=fa;fa--)if(T[fa]==Ia)return T[fa+1]}}return yb.PARTVALUE_DATE_YEAR};this.toJsonObject=function(g){for(var B=[],T=0;T<p.length;T++)B.push(p[T].toJsonObject());return g?B:{fields:B}};this.fromJsonObject=function(g,B,T,Ia){B=B?Ia?B:B.fields:[];p=[];for(Ia=0;Ia<B.length;Ia++){var fa=B[Ia],H=new g;H.fromJsonObject(fa,T);H.bindMetaEvent();H.addPropertyChangeListener(z);p.push(H)}}}function fb(){Ha.call(this);var l=
this;this.copyFiltersForSetting=function(){for(var m=[],x=0;x<l.getItemModelCount();x++){var p=l.getItemModel(x);p.isOutsideAllowed()&&(p=p.getUsableFilter().copyForSetting(),m.push(p))}return m};this.applyFiltersFromSetting=function(m){for(var x=0,p=0;p<l.getItemModelCount();p++){var t=l.getItemModel(p);if(t.isOutsideAllowed()){t=t.getUsableFilter();var u=m[x++];t.applyFromSetting(u)}}};this.toInsteadJson=function(m){for(var x=0,p=[],t=0;t<l.getItemModelCount();t++){var u=l.getItemModel(t);if(u.isOutsideAllowed()){var z=
m[x++];p.push(u.toInsteadJson(z))}else p.push(u.toJsonObject())}return p}}function hb(){this.getMetaField=function(){throw Error("Override me.");};this.getSquareField=function(){throw Error("Override me.");};this.addPropertyChangeListener=function(l){throw Error("Override me.");};this.removePropertyChangeListener=function(l){throw Error("Override me.");};this.clearListener=function(){throw Error("Override me.");};this.toJsonObject=function(){throw Error("Override me.");};this.fromJsonObject=function(l,
m){throw Error("Override me.");};this.bindMetaEvent=function(){throw Error("Override me.");}}function K(){hb.call(this);var l=this,m=new Cb,x,p,t=!1;this.getMetaField=function(){return x.getMetaField()};this.setSquareField=function(g){x=g};this.getSquareField=function(){return x};this.setFilter=function(g){p&&p.removeValueChangedListener(z);(p=g)&&p.addValueChangedListener(z)};this.getFilter=function(){return p};this.getUsableFilter=function(){p.setAssociatedField(x);return p};this.setOutsideAllowed=
function(g){t=g};this.isOutsideAllowed=function(){return t};this.addPropertyChangeListener=function(g){m.addListener(g)};this.removePropertyChangeListener=function(g){m.removeListener(g)};this.clearListener=function(){m.removeAllListener()};var u=function(g){var B=new Ba(l);m.fireEvent(function(T){T(B,g)})},z=function(g){u(K.KEY_FILTER_VALUE)};this.toInsteadJson=function(g){var B=l.toJsonObject();B.filter=g.toJsonObject();return B};this.toJsonObject=function(){var g={};g.field=x.toJsonObject();g.filter=
p.toJsonObject();t&&(g.outsideAllowed=!0);return g};this.fromJsonObject=function(g,B){var T=g.field,Ia=new Da;Ia.fromJsonObject(T,B);l.setSquareField(Ia);B=g.filter;switch(B.name){case cc.FILTER_NAME:p=new cc;break;case dc.FILTER_NAME:p=new dc;break;case Tb.FILTER_NAME:p=new Tb;break;default:throw Error("Unknown filter name.");}p.fromJsonObject(B);p.addValueChangedListener(z);t=g.outsideAllowed?!0:!1};this.bindMetaEvent=function(){}}function ya(){var l,m,x=!1;this.addOneLevel=function(p,t){l&&m||
(l=[],m=[]);l.push(p);m.push(t)};this.setValueCount=function(p){0<=p&&p<l.length&&(l.length=p,m.length=p)};this.getValueCount=function(){return l?l.length:0};this.getValueByIndex=function(p){return l[p]};this.getTextByIndex=function(p){return m[p]};this.isPcdNextLevel=function(){return x};this.setPcdNextLevel=function(p){x=p};this.toJsonObject=function(){var p={};p.values=l;p.texts=m;p.pcdNextLevel=x;return p};this.fromJsonObject=function(p){l=p.values;m=p.texts;x=p.pcdNextLevel?!0:!1}}function ja(){var l=
this,m=[],x=0,p=!1,t=new Cb;this.addStateChangedListener=function(z){t.addListener(z)};this.removeStateChangedListener=function(z){t.removeListener(z)};var u=function(){t.fireEvent(function(z){z(l)})};this.updateItemCountLimited=function(z){p=!1;for(var g=0,B=0,T=z.getItemModelCount();B<T;B++){if(z.getItemModel(B).isInvalid()){p=!0;break}g++}x=g};this.getCurrentRollInFieldCount=function(){var z=m.length;0<z&&m[z-1].isPcdNextLevel()&&z--;return z};this.isRollInNextFieldEnabled=function(){return l.getCurrentRollInFieldCount()<
x};this.isRollOutEnabled=function(){return 0<m.length&&!p};this.getItemCount=function(){return m.length};this.getItem=function(z){return m[z]};this.updateItems=function(z){var g=m;m=z;return g};this.backupItems=function(){for(var z=[],g=0;g<m.length;g++){for(var B=new ya,T=m[g],Ia=0;Ia<T.getValueCount();Ia++)B.addOneLevel(T.getValueByIndex(Ia),T.getTextByIndex(Ia)),B.setPcdNextLevel(T.isPcdNextLevel());z.push(B)}return z};this.restoreItems=function(z){m=z;u()};this.rollIn=function(z){for(var g=0;g<
z.length;g++){var B=z[g];B.isPcdNextLevel()?m.push(B):l.isRollInNextFieldEnabled()&&m.push(B)}u()};this.rollOut=function(z,g){if(0<g){var B=m[z];B.setValueCount(g);B.setPcdNextLevel(!0);m.length=z+1}else m.length=z;u()}}function ua(){var l=320,m=190,x=20,p=20,t=40,u=20;this.isFullArea=function(){return 0>=l||0>=m};this.getWidth=function(){return l};this.getHeight=function(){return m};this.getPaddingLeft=function(){return x};this.getPaddingRight=function(){return p};this.getPaddingTop=function(){return t};
this.getPaddingBottom=function(){return u};this.toJsonObject=function(){var z={};z.width=l;z.height=m;z.paddingLeft=x;z.paddingRight=p;z.paddingTop=t;z.paddingBottom=u;return z};this.fromJsonObject=function(z){l=z.width;m=z.height;x=z.paddingLeft;p=z.paddingRight;t=z.paddingTop;u=z.paddingBottom}}function C(){var l=this,m=new Cb,x,p=!1,t=!1,u,z=C.ShowLegend_Right,g=C.ShowDataEmptyTips_Auto,B,T,Ia=!1,fa,H,D=!0;this.addChangedListener=function(W){m.addListener(W)};this.removeChangedListener=function(W){m.removeListener(W)};
var P=function(W,Ma){m.fireEvent(function(gb){gb(W,Ma)})};this.lookupAllMetaFieldBinding=function(W){};this.setTitle=function(W){x=W;P(C.KEY_TITLE,x)};this.getTitle=function(){return x};this.setShowLabel=function(W){p=W;P(C.KEY_SHOW_LABEL,p)};this.isShowLabel=function(){return p};this.setDataLabelOverlappable=function(W){t=W;P(C.KEY_LABEL_OVERLAPPABLE,t)};this.isDataLabelOverlappable=function(){return t};this.setLabelFormat=function(W){u=W;P(C.KEY_LABEL_FORMAT,u)};this.getLabelFormat=function(){return u};
this.setShowLegend=function(W){z=W;P(C.KEY_SHOW_LEGEND,z)};this.getShowLegend=function(){return z};this.setShowDataEmptyTips=function(W){g=W;P(C.KEY_SHOW_DATA_EMPTY_TIPS,g)};this.getShowDataEmptyTips=function(){return g};this.setDescription=function(W){B=W;P(C.KEY_DESCRIPTION,B)};this.getDescription=function(){return B};this.setLinkTargets=function(W){T=W;P(C.KEY_LINKAGE,T)};this.getLinkTargets=function(){return T};this.setDataDetailExamining=function(W){Ia=W;P(C.KEY_DATA_DETAIL,Ia)};this.isDataDetailExamining=
function(){return Ia};this.setStyleScripts=function(W){fa=W;P(C.KEY_STYLE_SCRIPTS,fa)};this.getStyleScripts=function(){return fa};this.setPalette=function(W){H=W;P(C.KEY_PALETTE,H)};this.getPalette=function(){return H};this.setAnimation=function(W){D=W;P(C.KEY_ANIMATION,D)};this.isAnimation=function(){return D};this.moveOut=function(W){W.title=x;W.labelOverlappable=t;W.labelFormat=u;W.showDataEmptyTips=g;W.description=B;W.linkTargets=T;W.dataDetailExamining=Ia;W.palette=H;W.animation=D;var Ma=l.protectedCustomMovingKey();
W[Ma[0]?Ma[0]:"showLabel"]=p;W[Ma[1]?Ma[1]:"showLegend"]=z;l.protectedMoveOut(W)};this.moveIn=function(W){x=W.title;t=W.labelOverlappable;u=W.labelFormat;g=W.showDataEmptyTips;B=W.description;D=W.animation;Ia=W.dataDetailExamining;var Ma=W.linkTargets;Ma&&(T=Ma);(Ma=W.palette)&&(H=Ma);Ma=l.protectedCustomMovingKey();var gb=W[Ma[0]?Ma[0]:"showLabel"];void 0!==gb&&(p=gb);Ma=W[Ma[1]?Ma[1]:"showLegend"];void 0!==Ma&&(z=Ma);l.protectedMoveIn(W)};this.protectedCustomMovingKey=function(){return["showLabel",
"showLegend"]};this.protectedMoveOut=function(W){throw Error("Override me");};this.protectedMoveIn=function(W){throw Error("Override me");};this.toJsonObject=function(W){var Ma={};Ma.type=l.protectedGetTypeForJson();Ma.title=x;p&&(Ma.showLabel=!0);t&&(Ma.labelOverlappable=!0);D&&(Ma.animation=!0);Ia&&(Ma.dataDetailExamining=!0);Ma.labelFormat=u;Ma.showLegend=z;Ma.showDataEmptyTips=g;Ma.description=B;Ma.styleScripts=fa;H&&(Ma.palette=H.toJsonObject());T&&W.isLinkageSupported()&&(Ma.linkTargets=T.toJsonObject());
l.protectedToJsonObject(Ma,W);return Ma};this.fromJsonObject=function(W,Ma){x=W.title;p=W.showLabel?!0:!1;t=W.labelOverlappable?!0:!1;D=W.animation?!0:!1;Ia=W.dataDetailExamining?!0:!1;u=W.labelFormat;z=W.showLegend;g=W.showDataEmptyTips;B=W.description;fa=W.styleScripts;H=null;var gb=W.palette;gb&&(H=new ec,H.fromJsonObject(gb));T=null;(gb=W.linkTargets)&&Ma.isLinkageSupported()&&(T=new nc,T.fromJsonObject(gb));l.protectedFromJsonObject(W,Ma)};this.protectedGetTypeForJson=function(){throw Error("Override me");
};this.protectedToJsonObject=function(W,Ma){throw Error("Override me");};this.protectedFromJsonObject=function(W,Ma){throw Error("Override me");};this.toRenderAttr=function(W){W.setShowDataLabel(p);W.setDataLabelOverlappable(t);W.setDataLabelFormat(u);W.setAnimation(D);switch(z){case C.ShowLegend_Right:var Ma=Hb.ShowLegend_Right;break;case C.ShowLegend_Bottom:Ma=Hb.ShowLegend_Bottom;break;default:Ma=Hb.ShowLegend_Non}W.setShowLegend(Ma);l.protectedToRenderAttr(W)};this.protectedToRenderAttr=function(W){throw Error("Override me");
};this.protectedMethod={fireChangedEvent:P,toRenderAttrForRulerScale:function(W){switch(W){case C.RulerScale_Linear:W=Hb.RulerScale_Linear;break;case C.RulerScale_Log:W=Hb.RulerScale_Log;break;default:W=Hb.RulerScale_Auto}return W},toRenderAttrForRulerStart:function(W){return W==C.RulerStart_Nonzero?Hb.RulerStart_Nonzero:Hb.RulerStart_Zero}}}function L(){var l=this.protectedMethod,m,x=null;this.setLegendFormat=function(p){m=p;l.fireChangedEvent(C.KEY_LEGEND_FORMAT,m)};this.getLegendFormat=function(){return m};
this.setContinuousColor=function(p){x=p;l.fireChangedEvent(C.KEY_CONTINUOUS_COLOR,x)};this.getContinuousColor=function(){return x};l.moveInWithMixColorMode=function(p){var t=p.legendFormat;t&&(m=t);x=p.continuousColor};l.moveOutWithMixColorMode=function(p){p.legendFormat=m;p.continuousColor=x};l.toJsonObjectWithMixColorMode=function(p,t){m&&(p.legendFormat=m);x&&(p.continuousColor=x.toJsonObject())};l.fromJsonObjectWithMixColorMode=function(p,t){m=p.legendFormat;x=null;if(p=p.continuousColor)x=new Ub,
x.fromJsonObject(p)}}function da(){var l=this.protectedMethod,m=null;this.setTooltipsAutoDisplay=function(x){m=x;l.fireChangedEvent(C.KEY_TOOLTIPS_AUTO_DISPLAY,m)};this.getTooltipsAutoDisplay=function(){return m};l.moveOutWithTooltipsAutoDisplay=function(x){x.tooltipsAutoDisplay=m};l.moveInWithTooltipsAutoDisplay=function(x){m=x.tooltipsAutoDisplay};l.toJsonObjectWithTooltipsAutoDisplay=function(x){m&&(x.tooltipsAutoDisplay=m.toJsonObject())};l.fromJsonObjectWithTooltipsAutoDisplay=function(x){m=
null;if(x=x.tooltipsAutoDisplay)m=new ia,m.fromJsonObject(x)};l.toRenderAttrWithTooltipsAutoDisplay=function(x){x.setTooltipsSelfDrivingDuration(m?m.getDuration():-1)}}function ia(){var l=2;this.setDuration=function(m){l=m};this.getDuration=function(){return l};this.toJsonObject=function(){var m={};m.duration=l;return m};this.fromJsonObject=function(m){l=m.duration}}function I(){var l,m=!1,x=!1,p=null,t=!1,u=-1,z=!1;this.setChangedListener=function(g){l=g};this.setOrder=function(g,B){m=g;x=B;l()};
this.isOrderByMeasure=function(){return m};this.isAsc=function(){return x};this.setSortAccording=function(g){p=g;l()};this.getSortAccording=function(){return p};this.setTopnSwitch=function(g){(t=g)&&-1==u&&(u=8);l()};this.isTopnSwitch=function(){return t};this.setTopnItems=function(g){u=g;t=0>=u?!1:!0;l()};this.getTopnItems=function(){return u};this.setOthersAsAnItem=function(g){z=g;l()};this.isOthersAsAnItem=function(){return z};this.toJsonObject=function(){var g={};g.order=m?x?"ASC":"DESC":"NUL";
g.according=p?p.toJsonObject():null;g.topN=t?u:-1;g.others=z;return g};this.fromJsonObject=function(g){var B=g.order;m="ASC"==B||"DESC"==B?!0:!1;x="ASC"==B?!0:!1;p=null;if(B=g.according)p=new M,p.fromJsonObject(B);u=(B=g.topN)?B:-1;t=0>=u?!1:!0;z=g.others?!0:!1}}function M(){var l=this,m,x,p;this.setupMeasureIndexMode=function(t){m=t;p=x=null};this.setupAnyFieldMode=function(t,u){m=-1;x=t;p=u};this.isMeasureIndexMode=function(){return"number"==typeof m&&0<=m};this.isAnyFieldMode=function(){return x&&
p};this.getMeasureIndex=function(){return m};this.getMetaFieldFullName=function(){return x};this.getAggregation=function(){return p};this.toJsonObject=function(){var t={};l.isMeasureIndexMode()&&(t.measure=m);l.isAnyFieldMode()&&(t.metaField=x,t.aggregation=p);return t};this.fromJsonObject=function(t){var u=t.measure;m=u||0===u?u:-1;x=t.metaField;p=t.aggregation}}function ca(){function l(){var g,B,T,Ia;this.isLoading=function(){return g?!1:!0};this.parseJson=function(fa){g=fa?fa.content:"";B=(fa=
fa?fa.backImage:null)?fa.url:null;T=fa?fa.pageWidth:0;Ia=fa?fa.pageHeight:0};this.getContent=function(){return g};this.getBackImageUrl=function(){return B};this.getPageWidth=function(){return T};this.getPageHeight=function(){return Ia}}C.call(this);da.call(this);L.call(this);var m=this,x=this.protectedMethod,p,t,u=null,z;this.setOutsideReference=function(g){u=null;p=g;x.fireChangedEvent(ca.KEY_TEMPLATE_REF,p)};this.getOutsideReference=function(){return p};this.setDimensionToRegion=function(g){!t&&
(t=new ma);t.setDimensionToRegion(g);x.fireChangedEvent(ca.KEY_REGION_MAPPING,t)};this.getDimensionToRegion=function(){!t&&(t=new ma);return t.getDimensionToRegion()};this.rtTemplateLoaded=function(g){u=new l;u.parseJson(g);g&&(z(),z=null)};this.askRtTemplateNeedReload=function(g){var B=u?!1:!0;B&&(z=g);return B};this.askRtTemplateLoading=function(g){var B=u&&u.isLoading();B&&(z=g);return B};this.protectedMoveOut=function(g){g.mapOutsideReference=p;g.mapRegionMapping=t;g.mapRtTemplate=u;x.moveOutWithTooltipsAutoDisplay(g);
x.moveOutWithMixColorMode(g)};this.protectedMoveIn=function(g){var B=g.mapOutsideReference;B&&(p=B);(B=g.mapRegionMapping)&&(t=B);(B=g.mapRtTemplate)&&(u=B);x.moveInWithTooltipsAutoDisplay(g);x.moveInWithMixColorMode(g)};this.protectedGetTypeForJson=function(){return"Map"};this.protectedToJsonObject=function(g,B){p&&(g.reference=p.toJsonObject());if(t){var T={};t.toJsonObject(T);g.regionMapping=T}x.toJsonObjectWithTooltipsAutoDisplay(g);x.toJsonObjectWithMixColorMode(g,B)};this.protectedFromJsonObject=
function(g,B){p=null;var T=g.reference;T&&(p=new kc,p.fromJsonObject(T));t=null;if(T=g.regionMapping)t=new ma,t.fromJsonObject(T);u=null;x.fromJsonObjectWithTooltipsAutoDisplay(g);x.fromJsonObjectWithMixColorMode(g,B)};this.protectedToRenderAttr=function(g){m.rtTemplateToRenderAttr(g);g.setRegionMapping(t);x.toRenderAttrWithTooltipsAutoDisplay(g)};this.rtTemplateToRenderAttr=function(g){g.setTemplateContent(u?u.getContent():"");g.setBackImageUrl(u?u.getBackImageUrl():null);g.setPageSize(u?u.getPageWidth():
0,u?u.getPageHeight():0)}}function ma(){var l,m;this.setDimensionToRegion=function(x){l=x};this.getDimensionToRegion=function(){return l};this.toJsonObject=function(x){l&&(x.mapping=l);if(m){var p={},t;for(t in m){var u={};m[t].toJsonObject(u);p[t]=u}x.subLevels=p}};this.fromJsonObject=function(x){l=x.mapping;x=x.subLevels;for(var p in x){var t=x[p],u=new ma;u.fromJsonObject(t);!m&&(m={});m[p]=u}}}function Ca(){C.call(this);var l=this.protectedMethod,m=Ca.USAGE_MARKER,x,p=108.9535,t=34.2657,u=4,z;
this.setUsage=function(g){m=g;l.fireChangedEvent(Ca.KEY_USAGE,m)};this.getUsage=function(){return m};this.setThird=function(g){x=g;l.fireChangedEvent(Ca.KEY_THIRD,x)};this.getThird=function(){return x};this.setCustomScript=function(g){z=g;l.fireChangedEvent(Ca.KEY_SCRIPT,z)};this.getCustomScript=function(){return z};this.setInitialContext=function(g,B,T){p=g;t=B;u=T};this.getInitialLongitude=function(){return p};this.getInitialLatitude=function(){return t};this.getInitialZoom=function(){return u};
this.protectedMoveOut=function(g){g.gisUsage=m;g.gisThird=x;g.gisCustomScript=z;g.gisInitialContext=[p,t,u]};this.protectedMoveIn=function(g){var B=g.gisUsage;B&&(m=B);(B=g.gisThird)&&(x=B);(B=g.gisCustomScript)&&(z=B);if(g=g.gisInitialContext)p=g[0],t=g[1],u=g[2]};this.protectedGetTypeForJson=function(){return"GIS"};this.protectedToJsonObject=function(g){g.usage=m;g.third=x;g.longitude=1E-6*parseInt(1E6*p+.5);g.latitude=1E-6*parseInt(1E6*t+.5);g.zoom=u;g.customScript=z};this.protectedFromJsonObject=
function(g){m=g.usage;x=g.third;p=parseFloat(g.longitude);t=parseFloat(g.latitude);u=g.zoom;z=g.customScript};this.protectedToRenderAttr=function(g){g.setPropertyDirty(!0);g.setLongitude(p);g.setLatitude(t);g.setZoom(u);g.setUsage(m);g.setCustomScript(z)}}function oa(){C.call(this);var l=this,m=this.protectedMethod,x,p,t,u=0,z;this.setCaption=function(g){x=g;m.fireChangedEvent(oa.KEY_CAPTION,x)};this.getCaption=function(){return x};this.setPrimaryString=function(g){p=g;m.fireChangedEvent(oa.KEY_P_DISPLAY,
p)};this.getPrimaryString=function(){return p};this.setSecondaryString=function(g){t=g;m.fireChangedEvent(oa.KEY_S_DISPLAY,t)};this.getSecondaryString=function(){return t};this.setDataEmptyInstead=function(g){u=g;m.fireChangedEvent(oa.KEY_P_DATA_EMPTY_INSTEAD,u)};this.getDataEmptyInstead=function(){return u};this.setCustomStyles=function(g){z=g;m.fireChangedEvent(oa.KEY_P_CUSTOM_STYLES,z)};this.getCustomStyles=function(){return z};this.getPrimaryPostfix=function(){if(p){var g=p.indexOf("${0}$");return 0>
g?p:p.substring(g+5)}return""};this.setPrimaryPostfix=function(g){l.setPrimaryString("${0}$"+(g?g:""))};this.getSecondaryPrefix=function(){if(t){var g=t.indexOf("${0}$");return 0>g?"":t.substring(0,g)}return""};this.setSecondaryPrefix=function(g){l.setSecondaryString((g?g:"")+"${0}$"+l.getSecondaryPostfix())};this.getSecondaryPostfix=function(){if(t){var g=t.indexOf("${0}$");return 0>g?t:t.substring(g+5)}return""};this.setSecondaryPostfix=function(g){l.setSecondaryString(l.getSecondaryPrefix()+"${0}$"+
(g?g:""))};this.protectedMoveOut=function(g){g.caption=x;g.primaryString=p;g.secondaryString=t;g.dataEmptyInstead=u;g.kpiCustomStyles=z;g.kpiStyleScripts=l.getStyleScripts()};this.protectedMoveIn=function(g){var B=g.caption;B&&(x=B);(B=g.primaryString)&&(p=B);(B=g.secondaryString)&&(t=B);B=g.dataEmptyInstead;void 0!==B&&(u=B);(B=g.kpiCustomStyles)&&(z=B);g.kpiStyleScripts&&l.setStyleScripts(g.kpiStyleScripts)};this.protectedGetTypeForJson=function(){return"KPI"};this.protectedToJsonObject=function(g){x&&
(g.caption=x);p&&(g.primaryString=p);t&&(g.secondaryString=t);z&&(g.customStyles=z.toJsonObject());g.primaryInstead=u};this.protectedFromJsonObject=function(g){x=g.caption;p=g.primaryString;t=g.secondaryString;var B=parseFloat(g.primaryInstead);!isNaN(B)&&(u=B);z=null;if(g=g.customStyles)z=new Na,z.fromJsonObject(g)};this.protectedToRenderAttr=function(g){}}function Na(){var l=this,m=new $b,x=new $b,p=new $b,t=new $b,u=new $b;this.getCaptionStyleItem=function(){return m};this.getPrimaryValueStyleItem=
function(){return x};this.getPrimaryTextStyleItem=function(){return p};this.getSecondaryValueStyleItem=function(){return t};this.getSecondaryTextStyleItem=function(){return u};this.copy=function(){var T=new Na;T.fromJsonObject(l.toJsonObject());return T};this.isColorEmpty=function(){return z("getColor")};this.separateColor=function(){return g("setColor","getColor")};this.mergeColorFrom=function(T){B(T,"setColor","getColor")};this.isFontEmpty=function(){return z("getFontSize")};this.separateFont=function(){return g("setFontSize",
"getFontSize")};this.mergeFontFrom=function(T){B(T,"setFontSize","getFontSize")};this.isAlignEmpty=function(){return z("getAlign")};this.separateAlign=function(){return g("setAlign","getAlign")};this.mergeAlignFrom=function(T){B(T,"setAlign","getAlign")};var z=function(T){return m[T]()||x[T]()||p[T]()||t[T]()||u[T]()?!1:!0},g=function(T,Ia){if(z(Ia))return null;var fa=new Na;fa.getCaptionStyleItem()[T](m[Ia]());fa.getPrimaryValueStyleItem()[T](x[Ia]());fa.getPrimaryTextStyleItem()[T](p[Ia]());fa.getSecondaryValueStyleItem()[T](t[Ia]());
fa.getSecondaryTextStyleItem()[T](u[Ia]());return fa},B=function(T,Ia,fa){m[Ia](T?T.getCaptionStyleItem()[fa]():null);x[Ia](T?T.getPrimaryValueStyleItem()[fa]():null);p[Ia](T?T.getPrimaryTextStyleItem()[fa]():null);t[Ia](T?T.getSecondaryValueStyleItem()[fa]():null);u[Ia](T?T.getSecondaryTextStyleItem()[fa]():null)};this.toJsonObject=function(){var T={};T.c=m.toJsonObject();T.pv=x.toJsonObject();T.pt=p.toJsonObject();T.sv=t.toJsonObject();T.st=u.toJsonObject();return T};this.fromJsonObject=function(T){m.fromJsonObject(T.c);
x.fromJsonObject(T.pv);p.fromJsonObject(T.pt);t.fromJsonObject(T.sv);u.fromJsonObject(T.st)}}function Wa(){C.call(this);var l=this.protectedMethod,m=this,x=!0,p,t=!1,u,z=C.RulerScale_Linear,g,B,T=C.RulerStart_Zero,Ia,fa;this.lookupAllMetaFieldBinding=function(H){if(x&&fa&&fa.getSortAccording()){var D=fa.getSortAccording().getMetaFieldFullName();D&&H(D)}};this.setSortSupported=function(H){x=H};this.setXUnitText=function(H){p=H;l.fireChangedEvent(Ya.KEY_X_UNIT_TEXT,p)};this.getXUnitText=function(){return p};
this.setXShowAssistantLine=function(H){t=H;l.fireChangedEvent(Ya.KEY_X_ASSISTANT_LINE,t)};this.isXShowAssistantLine=function(){return t};this.setYUnitText=function(H){u=H;l.fireChangedEvent(Ya.KEY_Y_UNIT_TEXT,u)};this.getYUnitText=function(){return u};this.setYRulerScale=function(H){z=H;l.fireChangedEvent(Ya.KEY_Y_RULER_SCALE,z)};this.getYRulerScale=function(){return z};this.setYRulerScope=function(H){g=H[0];B=H[1];T=H[2];l.fireChangedEvent(Ya.KEY_Y_RULER_START,T)};this.getYRulerScope=function(){return[g,
B,T]};this.setReflines=function(H){Ia=H;l.fireChangedEvent(Ya.KEY_REFLINES,Ia)};this.getReflines=function(){return Ia};this.getSort=function(){fa||(fa=new I,fa.setChangedListener(function(){l.fireChangedEvent(Ya.KEY_SORT,fa)}));return fa};this.protectedMoveOut=function(H){H.cAxisUnitText=p;H.cAxisAssistantLine=t;H.pAxisUnitText=u;H.pAxisRulerScale=z;H.pAxisRulerMin=g;H.pAxisRulerMax=B;H.pAxisRulerStart=T;H.pAxisReflines=Ia;x&&fa&&(H.sort=fa.toJsonObject());H.styleScripts=m.getStyleScripts()};this.protectedMoveIn=
function(H){var D=H.cAxisUnitText;D&&(p=D);D=H.cAxisAssistantLine;void 0!==D&&(t=D);(D=H.pAxisUnitText)&&(u=D);(D=H.pAxisRulerScale)&&(z=D);(D=H.pAxisRulerMin)&&(g=D);(D=H.pAxisRulerMax)&&(B=D);(D=H.pAxisRulerStart)&&(T=D);(D=H.pAxisReflines)&&(Ia=D);D=H.sort;x&&D&&m.getSort().fromJsonObject(D);(H=H.styleScripts)&&m.setStyleScripts(H)};this.protectedGetTypeForJson=function(){return"XSYN"};this.protectedToJsonObject=function(H){p&&(H.xUnitText=p);t&&(H.xShowAssistantLine=t);u&&(H.yUnitText=u);z&&(H.yRulerScale=
z);g&&(H.yRulerMin=g);B&&(H.yRulerMax=B);T&&(H.yRulerStart=T);if(Ia){for(var D=[],P=0;P<Ia.length;P++)D.push(Ia[P].toJsonObject());H.reflines=D}x&&fa&&(H.sort=fa.toJsonObject())};this.protectedFromJsonObject=function(H){p=H.xUnitText;t=H.xShowAssistantLine?!0:!1;u=H.yUnitText;z=(z=H.yRulerScale)?z:C.RulerScale_Linear;g=H.yRulerMin;B=H.yRulerMax;T=(T=H.yRulerStart)?T:C.RulerStart_Zero;var D=H.reflines;if(D){Ia=[];for(var P=0;P<D.length;P++){var W=D[P],Ma=new xb;Ma.fromJsonObject(W);Ia.push(Ma)}}H=
H.sort;x&&H&&m.getSort().fromJsonObject(H)};this.protectedToRenderAttr=function(H){H.setXUnitText(p);H.setXShowAssistantLine(t);H.setYUnitText(u);H.setYRulerScale(l.toRenderAttrForRulerScale(z));H.setYRulerMin(g?parseFloat(g):null);H.setYRulerMax(B?parseFloat(B):null);H.setYRulerStart(l.toRenderAttrForRulerStart(T))}}function Ya(){Wa.call(this);var l=this.protectedMethod,m="#,##0";this.setYFormat=function(g){m=g;l.fireChangedEvent(Ya.KEY_Y_FORMAT,m)};this.getYFormat=function(){return m};var x=this.protectedMoveOut;
this.protectedMoveOut=function(g){x(g);g.pAxisFormat=m};var p=this.protectedMoveIn;this.protectedMoveIn=function(g){p(g);g=g.pAxisFormat;void 0!==g&&(m=g)};var t=this.protectedToJsonObject;this.protectedToJsonObject=function(g){t(g);m&&(g.yFormat=m)};var u=this.protectedFromJsonObject;this.protectedFromJsonObject=function(g){u(g);m=g.yFormat};var z=this.protectedToRenderAttr;this.protectedToRenderAttr=function(g){z(g);g.setYFormat(m)}}function Va(){Wa.call(this);var l=this.protectedMethod,m="{-2}0.00%";
this.setYFormat=function(g){m=g;l.fireChangedEvent(Ya.KEY_Y_FORMAT,m)};this.getYFormat=function(){return m};var x=this.protectedMoveOut;this.protectedMoveOut=function(g){x(g);g.pAxisFormatForPercent=m};var p=this.protectedMoveIn;this.protectedMoveIn=function(g){p(g);g=g.pAxisFormatForPercent;void 0!==g&&(m=g)};var t=this.protectedToJsonObject;this.protectedToJsonObject=function(g){t(g);m&&(g.yFormat=m)};var u=this.protectedFromJsonObject;this.protectedFromJsonObject=function(g){u(g);m=g.yFormat};
var z=this.protectedToRenderAttr;this.protectedToRenderAttr=function(g){z(g);g.setYFormat(m)}}function N(){var l=this.protectedMethod,m=!1,x=!1,p=N.CONNECT_NULL_AS_DIRECT;this.setSmooth=function(t){m=t;l.fireChangedEvent(N.KEY_SMOOTH,m)};this.isSmooth=function(){return m};this.setPaintingPoint=function(t){x=t;l.fireChangedEvent(N.KEY_PAINT_POINT,x)};this.isPaintingPoint=function(){return x};this.setZeroInsteadNull=function(t){p=t?N.CONNECT_NULL_AS_ZERO:N.CONNECT_NULL_AS_DIRECTION;l.fireChangedEvent(N.KEY_CONNECT_NULL_AS,
t)};this.isZeroInsteadNull=function(){return p==N.CONNECT_NULL_AS_ZERO};l.lineMoveOut=function(t){t.lineChart=[m,x,p]};l.lineMoveIn=function(t){if(t=t.lineChart)m=t[0],x=t[1],p=t[2]};l.lineToJsonObject=function(t){t.smooth=m;t.paintPoint=x;t.connectNullAs=p==N.CONNECT_NULL_AS_ZERO?"ZERO":null};l.lineFromJsonObject=function(t){m=t.smooth;x=t.paintPoint;p="ZERO"==t.connectNullAs?N.CONNECT_NULL_AS_ZERO:N.CONNECT_NULL_AS_DIRECTION};l.lineToRenderAttr=function(t){t.setSmooth(m);t.setPaintingPoint(x);t.setZeroInsteadNull(p==
N.CONNECT_NULL_AS_ZERO)}}function za(){Ya.call(this);N.call(this);var l=this.protectedMethod,m=!1;this.setTooltipsSorted=function(g){m=g;l.fireChangedEvent(za.KEY_TOOLTIPS_SORTED,m)};this.isTooltipsSorted=function(){return m};var x=this.protectedMoveOut;this.protectedMoveOut=function(g){x(g);l.lineMoveOut(g);g.tooltipsSorted=m};var p=this.protectedMoveIn;this.protectedMoveIn=function(g){p(g);l.lineMoveIn(g);g=g.tooltipsSorted;void 0!==g&&(m=g)};this.protectedGetTypeForJson=function(){return"Line"};
var t=this.protectedToJsonObject;this.protectedToJsonObject=function(g){t(g);l.lineToJsonObject(g);g.tooltipsSorted=m};var u=this.protectedFromJsonObject;this.protectedFromJsonObject=function(g){u(g);l.lineFromJsonObject(g);m=g.tooltipsSorted};var z=this.protectedToRenderAttr;this.protectedToRenderAttr=function(g){z(g);l.lineToRenderAttr(g);g.setTooltipsSorted(m)}}function va(){C.call(this);var l=this.protectedMethod,m=this,x=!0,p,t,u=C.RulerScale_Linear,z,g,B=C.RulerStart_Zero,T,Ia;this.lookupAllMetaFieldBinding=
function(fa){if(x&&Ia&&Ia.getSortAccording()){var H=Ia.getSortAccording().getMetaFieldFullName();H&&fa(H)}};this.setSortSupported=function(fa){x=fa};this.setYUnitText=function(fa){p=fa;l.fireChangedEvent(Oa.KEY_Y_UNIT_TEXT,p)};this.getYUnitText=function(){return p};this.setXUnitText=function(fa){t=fa;l.fireChangedEvent(Oa.KEY_X_UNIT_TEXT,t)};this.getXUnitText=function(){return t};this.setXRulerScale=function(fa){u=fa;l.fireChangedEvent(Oa.KEY_X_RULER_SCALE,u)};this.getXRulerScale=function(){return u};
this.setXRulerScope=function(fa){z=fa[0];g=fa[1];B=fa[2];l.fireChangedEvent(Oa.KEY_X_RULER_START,B)};this.getXRulerScope=function(){return[z,g,B]};this.setReflines=function(fa){T=fa;l.fireChangedEvent(Oa.KEY_REFLINES,T)};this.getReflines=function(){return T};this.getSort=function(){Ia||(Ia=new I,Ia.setChangedListener(function(){l.fireChangedEvent(Oa.KEY_SORT,Ia)}));return Ia};this.protectedMoveOut=function(fa){fa.cAxisUnitText=p;fa.pAxisUnitText=t;fa.pAxisRulerScale=u;fa.pAxisRulerMin=z;fa.pAxisRulerMax=
g;fa.pAxisRulerStart=B;fa.pAxisReflines=T;x&&Ia&&(fa.sort=Ia.toJsonObject());fa.styleScripts=m.getStyleScripts()};this.protectedMoveIn=function(fa){var H=fa.cAxisUnitText;H&&(p=H);(H=fa.pAxisUnitText)&&(t=H);(H=fa.pAxisRulerScale)&&(u=H);(H=fa.pAxisRulerMin)&&(z=H);(H=fa.pAxisRulerMax)&&(g=H);(H=fa.pAxisRulerStart)&&(B=H);(H=fa.pAxisReflines)&&(T=H);H=fa.sort;x&&H&&m.getSort().fromJsonObject(H);(fa=fa.styleScripts)&&m.setStyleScripts(fa)};this.protectedGetTypeForJson=function(){return"YSXN"};this.protectedToJsonObject=
function(fa){p&&(fa.yUnitText=p);t&&(fa.xUnitText=t);u&&(fa.xRulerScale=u);z&&(fa.xRulerMin=z);g&&(fa.xRulerMax=g);B&&(fa.xRulerStart=B);if(T){for(var H=[],D=0;D<T.length;D++)H.push(T[D].toJsonObject());fa.reflines=H}x&&Ia&&(fa.sort=Ia.toJsonObject())};this.protectedFromJsonObject=function(fa){p=fa.yUnitText;t=fa.xUnitText;u=(u=fa.xRulerScale)?u:C.RulerScale_Linear;z=fa.xRulerMin;g=fa.xRulerMax;B=(B=fa.xRulerStart)?B:C.RulerStart_Zero;var H=fa.reflines;if(H){T=[];for(var D=0;D<H.length;D++){var P=
H[D],W=new xb;W.fromJsonObject(P);T.push(W)}}fa=fa.sort;x&&fa&&m.getSort().fromJsonObject(fa)};this.protectedToRenderAttr=function(fa){fa.setYUnitText(p);fa.setXUnitText(t);fa.setXRulerScale(l.toRenderAttrForRulerScale(u));fa.setXRulerMin(z?parseFloat(z):null);fa.setXRulerMax(g?parseFloat(g):null);fa.setXRulerStart(l.toRenderAttrForRulerStart(B))}}function Oa(){va.call(this);var l=this.protectedMethod,m="#,##0";this.setXFormat=function(g){m=g;l.fireChangedEvent(Oa.KEY_X_FORMAT,m)};this.getXFormat=
function(){return m};var x=this.protectedMoveOut;this.protectedMoveOut=function(g){x(g);g.pAxisFormat=m};var p=this.protectedMoveIn;this.protectedMoveIn=function(g){p(g);g=g.pAxisFormat;void 0!==g&&(m=g)};var t=this.protectedToJsonObject;this.protectedToJsonObject=function(g){t(g);m&&(g.xFormat=m)};var u=this.protectedFromJsonObject;this.protectedFromJsonObject=function(g){u(g);m=g.xFormat};var z=this.protectedToRenderAttr;this.protectedToRenderAttr=function(g){z(g);g.setXFormat(m)}}function U(){va.call(this);
var l=this.protectedMethod,m="{-2}0.00%";this.setXFormat=function(g){m=g;l.fireChangedEvent(Oa.KEY_X_FORMAT,m)};this.getXFormat=function(){return m};var x=this.protectedMoveOut;this.protectedMoveOut=function(g){x(g);g.pAxisFormatForPercent=m};var p=this.protectedMoveIn;this.protectedMoveIn=function(g){p(g);g=g.pAxisFormatForPercent;void 0!==g&&(m=g)};var t=this.protectedToJsonObject;this.protectedToJsonObject=function(g){t(g);m&&(g.xFormat=m)};var u=this.protectedFromJsonObject;this.protectedFromJsonObject=
function(g){u(g);m=g.xFormat};var z=this.protectedToRenderAttr;this.protectedToRenderAttr=function(g){z(g);g.setXFormat(m)}}function na(){C.call(this);var l=this.protectedMethod,m=-1,x=na.SHOW_LABEL_PERCENT,p=!1,t=na.LegendOrderMode_AUTO;this.setTopN=function(u){m=u;l.fireChangedEvent(na.KEY_TOPN,m)};this.getTopN=function(){return m};this.setLabelType=function(u){x=u;l.fireChangedEvent(na.KEY_LABEL_TYPE,x)};this.getLabelType=function(){return x};this.setIgnoreNegative=function(u){p=u;l.fireChangedEvent(C.KEY_NEGATIVE,
p)};this.isIgnoreNegative=function(){return p};this.setLegendOrderMode=function(u){t=u;l.fireChangedEvent(na.KEY_LEGEND_ORDER_MODE,t)};this.getLegendOrderMode=function(){return t};this.protectedMoveOut=function(u){u.topN=m;u.labelType=x;u.ignoreNegative=p;u.legendOrderMode=t};this.protectedMoveIn=function(u){var z=u.topN;z&&(m=z);(z=u.labelType)&&(x=z);z=u.ignoreNegative;!0!==z&&!1!==z||(p=z);(u=u.legendOrderMode)&&(t=u)};this.protectedToJsonObject=function(u){0<=m&&(u.topN=m);u.labelType=x;p&&(u.hideNegative=
p);u.legendOrderMode=t};this.protectedFromJsonObject=function(u){m=(m=u.topN)?m:-1;x=u.labelType;p=u.hideNegative?!0:!1;t=u.legendOrderMode};this.protectedToRenderAttr=function(u){var z=0;(x&na.SHOW_LABEL_NAME)==na.SHOW_LABEL_NAME&&(z|=Ob.SHOW_LABEL_NAME);(x&na.SHOW_LABEL_NUMBER)==na.SHOW_LABEL_NUMBER&&(z|=Ob.SHOW_LABEL_NUMBER);(x&na.SHOW_LABEL_PERCENT)==na.SHOW_LABEL_PERCENT&&(z|=Ob.SHOW_LABEL_PERCENT);u.setDataLabelType(z);u.setIgnoreNegative(p)}}function sa(){na.call(this);this.protectedGetTypeForJson=
function(){return"Pie"}}function pa(){na.call(this);var l=this.protectedMethod,m=!0;this.setShowTotal=function(g){m=g;l.fireChangedEvent(pa.KEY_SHOW_TOTAL,m)};this.isShowTotal=function(){return m};var x=this.protectedMoveOut;this.protectedMoveOut=function(g){x(g);g.showTotal=m};var p=this.protectedMoveIn;this.protectedMoveIn=function(g){p(g);g=g.showTotal;!0!==g&&!1!==g||(m=g)};this.protectedGetTypeForJson=function(){return"Ring"};var t=this.protectedToJsonObject;this.protectedToJsonObject=function(g){t(g);
m&&(g.showTotal=m)};var u=this.protectedFromJsonObject;this.protectedFromJsonObject=function(g){u(g);m=g.showTotal?!0:!1};var z=this.protectedToRenderAttr;this.protectedToRenderAttr=function(g){z(g);g.setHollow(!0);g.setShowTotalWhenHollow(m)}}function Ra(){na.call(this);var l=this.protectedMethod,m=!1;this.setAverageAngle=function(g){m=g;l.fireChangedEvent(Ra.KEY_AVERAGE_ANGLE,m)};this.isAverageAngle=function(){return m};var x=this.protectedMoveOut;this.protectedMoveOut=function(g){x(g);g.averageAngle=
m};var p=this.protectedMoveIn;this.protectedMoveIn=function(g){p(g);g=g.averageAngle;!0!==g&&!1!==g||(m=g)};this.protectedGetTypeForJson=function(){return"Rose"};var t=this.protectedToJsonObject;this.protectedToJsonObject=function(g){t(g);m&&(g.averageAngle=m)};var u=this.protectedFromJsonObject;this.protectedFromJsonObject=function(g){u(g);m=g.averageAngle?!0:!1};var z=this.protectedToRenderAttr;this.protectedToRenderAttr=function(g){z(g);g.setPresentByRadius(!0);g.setPresentByAngle(!m)}}function Y(){C.call(this);
var l=this.protectedMethod,m="#,##0",x=Y.OUTER_CIRCLE_DIMENSION,p=!0,t=!0;this.setRadarFormat=function(u){m=u;l.fireChangedEvent(Y.KEY_RADAR_FORMAT,m)};this.getRadarFormat=function(){return m};this.setOuterCircle=function(u){x=u;l.fireChangedEvent(Y.KEY_OUTER_CIRCLE,x)};this.getOuterCircle=function(){return x};this.setShowRulerMarkLabel=function(u){p=u;l.fireChangedEvent(Y.KEY_SHOW_RULER_MARK_LABEL,p)};this.isShowRulerMarkLabel=function(){return p};this.setFillColor=function(u){t=u;l.fireChangedEvent(Y.KEY_FILL_COLOR,
t)};this.isFillColor=function(){return t};this.protectedMoveOut=function(u){u.pAxisFormat=m;u.radarOuterCircle=x;u.radarShowRulerMarkLabel=p;u.radarFillColor=t};this.protectedMoveIn=function(u){var z=u.pAxisFormat;void 0!==z&&(m=z);(z=u.radarOuterCircle)&&(x=z);((z=u.radarShowRulerMarkLabel)||!1===z)&&(p=z?!0:!1);((u=u.radarFillColor)||!1===u)&&(t=u?!0:!1)};this.protectedGetTypeForJson=function(){return"Radar"};this.protectedToJsonObject=function(u){u.axisFormat=m;u.outerCircle=x;p&&(u.showRulerMarkLabel=
!0);t&&(u.fillColor=!0)};this.protectedFromJsonObject=function(u){m=u.axisFormat;x=u.outerCircle;p=u.showRulerMarkLabel?!0:!1;t=u.fillColor?!0:!1};this.protectedToRenderAttr=function(u){u.setRadarFormat(m);u.setShowRulerMarkLabel(p);u.setDimensionOutside(x==Y.OUTER_CIRCLE_DIMENSION);u.setFillColor(t)}}function J(){var l=this.protectedMethod,m=J.SHOW_LABEL_NUMBER,x;this.setLabelType=function(p){m=p;l.fireChangedEvent(J.KEY_LABEL_TYPE,m)};this.getLabelType=function(){return m};this.setThicknessPercent=
function(p){x=p;l.fireChangedEvent(J.KEY_THICKNESS_PERCENT,x)};this.getThicknessPercent=function(){return x?x:100};l.progressMoveOut=function(p){p.progressThicknessPercent=x};l.progressMoveIn=function(p){p=p.progressThicknessPercent;void 0!==p&&(x=p)};l.progressToJsonObject=function(p){100!=x&&(p.thicknessPercent=x)};l.progressFromJsonObject=function(p){x=p.thicknessPercent};l.progressToRenderAttr=function(p){p.setOverlapShrinkingPercent(x)}}function ka(){J.multiExtends(Oa,this);var l=this,m=this.protectedMethod,
x=this.protectedMoveOut;this.protectedMoveOut=function(g){x(g);m.progressMoveOut(g);g.progressLabelType=l.getLabelType()};var p=this.protectedMoveIn;this.protectedMoveIn=function(g){p(g);m.progressMoveIn(g);g=g.progressLabelType;void 0!==g&&l.setLabelType(g)};var t=this.protectedToJsonObject;this.protectedToJsonObject=function(g){t(g);m.progressToJsonObject(g);var B=l.getLabelType();B&&(g.labelType=B)};var u=this.protectedFromJsonObject;this.protectedFromJsonObject=function(g){u(g);m.progressFromJsonObject(g);
l.setLabelType(g.labelType)};this.protectedGetTypeForJson=function(){return"ProgressBar"};var z=this.protectedToRenderAttr;this.protectedToRenderAttr=function(g){z(g);m.progressToRenderAttr(g);g.setLabelType(l.getLabelType())}}function V(){J.multiExtends(Ya,this);var l=this,m=this.protectedMethod,x=this.protectedMoveOut;this.protectedMoveOut=function(g){x(g);m.progressMoveOut(g);g.progressLabelType=l.getLabelType()};var p=this.protectedMoveIn;this.protectedMoveIn=function(g){p(g);m.progressMoveIn(g);
g=g.progressLabelType;void 0!==g&&l.setLabelType(g)};var t=this.protectedToJsonObject;this.protectedToJsonObject=function(g){t(g);m.progressToJsonObject(g);var B=l.getLabelType();B&&(g.labelType=B)};var u=this.protectedFromJsonObject;this.protectedFromJsonObject=function(g){u(g);m.progressFromJsonObject(g);l.setLabelType(g.labelType)};this.protectedGetTypeForJson=function(){return"ProgressColumn"};var z=this.protectedToRenderAttr;this.protectedToRenderAttr=function(g){z(g);m.progressToRenderAttr(g);
g.setLabelType(l.getLabelType())}}function v(){J.multiExtends(C,this);var l=this.protectedMethod,m=0,x=!0,p=0,t=Bb.get("progressCompletedRate","\u5b8c\u6210\u7387"),u="#,##0";this.protectedCustomMovingKey=function(){return[null,"progressCircleShowLegend"]};this.setPercentageDecimalDigit=function(z){m=z;l.fireChangedEvent(v.KEY_PERCENTAGE_DIGIT,m)};this.getPercentageDecimalDigit=function(){return m};this.setPercentageCeiling=function(z){x=z;l.fireChangedEvent(v.KEY_PERCENTAGE_CEILING,x)};this.isPercentageCeiling=
function(){return x};this.setDataEmptyPercentageInstead=function(z){p=z;l.fireChangedEvent(v.KEY_PERCENTAGE_INSTEAD,p)};this.getDataEmptyPercentageInstead=function(){return p};this.setLabelDesc=function(z){t=z;l.fireChangedEvent(v.KEY_LABEL_DESC,t)};this.getLabelDesc=function(){return t};this.setLegendFormat=function(z){u=z;l.fireChangedEvent(v.KEY_LEGEND_FORMAT,u)};this.getLegendFormat=function(){return u};this.protectedMoveOut=function(z){l.progressMoveOut(z);z.progressPercentageDigit=m;z.progressPercentageCeiling=
x;z.progressPercentageInstead=p;z.progressLabelDesc=t;z.pAxisFormat=u};this.protectedMoveIn=function(z){l.progressMoveIn(z);var g=z.progressPercentageDigit;void 0!==g&&(m=g);g=z.progressPercentageCeiling;void 0!==g&&(x=g);g=z.progressPercentageInstead;void 0!==g&&(p=g);g=z.progressLabelDesc;void 0!==g&&(t=g);z=z.pAxisFormat;void 0!==z&&(u=z)};this.protectedToJsonObject=function(z){l.progressToJsonObject(z);z.percentageDecimalDigit=m;z.percentageCeiling=x;z.percentageInstead=p;t&&(z.labelDesc=t);u&&
(z.legendFormat=u)};this.protectedFromJsonObject=function(z){l.progressFromJsonObject(z);m=z.percentageDecimalDigit;x=z.percentageCeiling;p=z.percentageInstead;t=z.labelDesc;u=z.legendFormat};this.protectedGetTypeForJson=function(){return"ProgressCircle"};this.protectedToRenderAttr=function(z){l.progressToRenderAttr(z);z.setPercentageDecimalDigit(m);z.setPercentageCeiling(x);z.setDataEmptyPercentageInstead(p);z.setLabelDesc(t)}}function R(){function l(){var P=this,W,Ma,gb,rb,y;this.setEndValue=function(r){return W=
r};this.getEndValue=function(){return W};this.setLabel=function(r){Ma=r};this.getLabel=function(){return Ma};this.setColor=function(r){gb=r};this.getColor=function(){return gb};this.isBoundField=function(){return rb&&y};this.bindField=function(r,A){rb=r;y=A};this.getMetaFieldFullName=function(){return rb};this.getAggregation=function(){return y};this.copyToEdit=function(){var r=new l;r.fromJsonObject(P.toJsonObject());return r};this.toJsonObject=function(){var r={};r.endValue=W;r.label=Ma;r.color=
gb;r.metaField=rb;r.aggregation=y;return r};this.fromJsonObject=function(r){W=r.endValue;Ma=r.label;gb=r.color;rb=r.metaField;y=r.aggregation}}C.call(this);var m=this.protectedMethod,x=R.PAN_STYLE_WITH_TRACK,p=240,t=0,u=!0,z="#,##0",g=!0,B=!0,T=!1,Ia,fa="#,##0",H=0,D=null;this.protectedGetTypeForJson=function(){return"Dial"};this.lookupAllMetaFieldBinding=function(P){if(D)for(var W=0;W<D.length;W++){var Ma=D[W].getMetaFieldFullName();Ma&&P(Ma)}};this.setPanStyle=function(P){x=P;m.fireChangedEvent(R.KEY_PAN_STYLE,
x)};this.getPanStyle=function(){return x};this.setArcDegree=function(P){p=P;m.fireChangedEvent(R.KEY_ARC_DEGREE,p)};this.getArcDegree=function(){return p};this.setRotateDegree=function(P){t=P;m.fireChangedEvent(R.KEY_ROTATE_DEGREE,t)};this.getRotateDegree=function(){return t};this.setShowRulerMarkLabel=function(P){u=P;m.fireChangedEvent(R.KEY_SHOW_RULER_MARK_LABEL,u)};this.isShowRulerMarkLabel=function(){return u};this.setRulerMarkLabelFormat=function(P){z=P;m.fireChangedEvent(R.KEY_RULER_MARK_FORMAT,
z)};this.getRulerMarkLabelFormat=function(){return z};this.setShowPointerLabel=function(P){g=P[0];B=P[1];T=P[2];m.fireChangedEvent(R.KEY_SHOW_POINTER_LABEL,P)};this.getShowPointerLabel=function(){return[g,B,T]};this.isShowPointerName=function(){return g};this.isShowPointerNumber=function(){return B};this.setPointerName=function(P){Ia=P;m.fireChangedEvent(R.KEY_POINTER_NAME,Ia)};this.getPointerName=function(){return Ia};this.setPointerNumberFormat=function(P){fa=P;m.fireChangedEvent(R.KEY_POINTER_NUMBER_FORMAT,
fa)};this.getPointerNumberFormat=function(){return fa};this.setDataEmptyInstead=function(P){H=P;m.fireChangedEvent(R.KEY_DATA_EMPTY_INSTEAD,H)};this.getDataEmptyInstead=function(){return H};this.setSections=function(P){D=P;m.fireChangedEvent(R.KEY_SECTIONS,H)};this.getSections=function(){return D};this.protectedMoveOut=function(P){P.dial=[x,p,t,u,z,g,B,T,Ia,fa,H,D]};this.protectedMoveIn=function(P){if(P=P.dial){var W=0;x=P[W++];p=P[W++];t=P[W++];u=P[W++];z=P[W++];g=P[W++];B=P[W++];T=P[W++];Ia=P[W++];
fa=P[W++];H=P[W++];D=P[W]}};this.protectedToJsonObject=function(P){P.panStyle=x==R.PAN_STYLE_ONLY_MARK?"OnlyMark":"WithTrack";P.arcDegree=p;0!=t&&(P.rotateDegree=t);P.showRulerLabel=u;P.rulerLabelFormat=z;P.showPointerName=g;P.showPointerNumber=B;P.showPointerPercent=T;P.pointerName=Ia;P.pointerNumberFormat=fa;P.dataEmptyInstead=H;if(D){for(var W=[],Ma=0;Ma<D.length;Ma++)W.push(D[Ma].toJsonObject());P.sections=W}};this.protectedFromJsonObject=function(P){x="OnlyMark"==P.panStyle?R.PAN_STYLE_ONLY_MARK:
R.PAN_STYLE_WITH_TRACK;p=P.arcDegree;t=P.rotateDegree?P.rotateDegree:0;u=P.showRulerLabel;z=P.rulerLabelFormat;g=P.showPointerName;B=P.showPointerNumber;T=P.showPointerPercent;Ia=P.pointerName;fa=P.pointerNumberFormat;H=parseFloat(P.dataEmptyInstead);D=null;if((P=P.sections)&&0<P.length){D=[];for(var W=0;W<P.length;W++){var Ma=P[W],gb=new l;gb.fromJsonObject(Ma);D.push(gb)}}};this.protectedToRenderAttr=function(P){var W=0;g&&(W|=Lb.SHOW_LABEL_NAME);B&&(W|=Lb.SHOW_LABEL_NUMBER);T&&(W|=Lb.SHOW_LABEL_PERCENT);
P.setPanStyle(x==R.PAN_STYLE_ONLY_MARK?Lb.PAN_STYLE_ONLY_MARK:Lb.PAN_STYLE_WITH_TRACK);P.setArcDegree(p);P.setRotate(t);P.setShowRulerMarkLabel(u);P.setRulerMarkLabelFormat(z);P.setPointerLabelType(W);P.setPointerName(Ia);P.setPointerNumberFormat(fa)};this.createSection=function(){return new l}}function G(){C.call(this);N.call(this);var l=this,m=this.protectedMethod,x=!1,p=!1,t="#,##0",u,z=C.RulerScale_Linear,g,B,T=C.RulerStart_Zero,Ia,fa="#,##0",H,D=C.RulerScale_Linear,P,W,Ma=C.RulerStart_Zero,gb,
rb;this.lookupAllMetaFieldBinding=function(y){if(rb&&rb.getSortAccording()){var r=rb.getSortAccording().getMetaFieldFullName();r&&y(r)}};this.protectedGetTypeForJson=function(){return"Composite"};this.setShowLabel=function(y){x=16==(y&16);p=1==(y&1);m.fireChangedEvent(C.KEY_SHOW_LABEL,y)};this.getShowLabel=function(){return(x?16:0)|(p?1:0)};this.isShowLabel=function(){return 0!=l.getShowLabel()};this.setLeftYUnitText=function(y){u=y;m.fireChangedEvent(G.KEY_LY_UNIT_TEXT,u)};this.getLeftYUnitText=
function(){return u};this.setLeftYRulerScale=function(y){z=y;m.fireChangedEvent(G.KEY_LY_RULER_SCALE,z)};this.getLeftYRulerScale=function(){return z};this.setLeftYRulerScope=function(y){g=y[0];B=y[1];T=y[2];m.fireChangedEvent(G.KEY_LY_RULER_START,T)};this.getLeftYRulerScope=function(){return[g,B,T]};this.setLeftYFormat=function(y){t=y;m.fireChangedEvent(G.KEY_LY_FORMAT,t)};this.getLeftYFormat=function(){return t};this.setLeftReflines=function(y){Ia=y;m.fireChangedEvent(G.KEY_LEFT_REFLINES,Ia)};this.getLeftReflines=
function(){return Ia};this.setRightYUnitText=function(y){H=y;m.fireChangedEvent(G.KEY_RY_UNIT_TEXT,H)};this.getRightYUnitText=function(){return H};this.setRightYRulerScale=function(y){D=y;m.fireChangedEvent(G.KEY_RY_RULER_SCALE,D)};this.getRightYRulerScale=function(){return D};this.setRightYRulerScope=function(y){P=y[0];W=y[1];Ma=y[2];m.fireChangedEvent(G.KEY_RY_RULER_START,Ma)};this.getRightYRulerScope=function(){return[P,W,Ma]};this.setRightYFormat=function(y){fa=y;m.fireChangedEvent(G.KEY_RY_FORMAT,
fa)};this.getRightYFormat=function(){return fa};this.setRightReflines=function(y){gb=y;m.fireChangedEvent(G.KEY_RIGHT_REFLINES,gb)};this.getRightReflines=function(){return gb};this.getSort=function(){rb||(rb=new I,rb.setChangedListener(function(){m.fireChangedEvent(G.KEY_SORT,rb)}));return rb};this.protectedMoveIn=function(y){m.lineMoveIn(y);var r=y.showLabel1;void 0!==r&&(x=r);r=y.showLabel2;void 0!==r&&(p=r);(r=y.pAxisUnitText)&&(u=r);(r=y.pAxisRulerScale)&&(z=r);(r=y.pAxisRulerMin)&&(g=r);(r=y.pAxisRulerMax)&&
(B=r);(r=y.pAxisRulerStart)&&(T=r);(r=y.pAxisFormat)&&(t=r);(r=y.pAxisReflines)&&(Ia=r);(r=y.sAxisUnitText)&&(H=r);(r=y.sAxisRulerScale)&&(D=r);(r=y.sAxisRulerMin)&&(P=r);(r=y.sAxisRulerMax)&&(W=r);(r=y.sAxisRulerStart)&&(Ma=r);(r=y.sAxisFormat)&&(fa=r);(r=y.sAxisReflines)&&(gb=r);(r=y.styleScripts)&&l.setStyleScripts(r);(y=y.compositeSort)&&l.getSort().fromJsonObject(y)};this.protectedMoveOut=function(y){m.lineMoveOut(y);y.showLabel1=x;y.showLabel2=p;y.pAxisUnitText=u;y.pAxisRulerScale=z;y.pAxisRulerMin=
g;y.pAxisRulerMax=B;y.pAxisRulerStart=T;y.pAxisFormat=t;y.pAxisReflines=Ia;y.sAxisUnitText=H;y.sAxisRulerScale=D;y.sAxisRulerMin=P;y.sAxisRulerMax=W;y.sAxisRulerStart=Ma;y.sAxisFormat=fa;y.sAxisReflines=gb;y.styleScripts=l.getStyleScripts();rb&&(y.compositeSort=rb.toJsonObject())};this.protectedToRenderAttr=function(y){m.lineToRenderAttr(y);y.setShowDataLabel(x,p);y.setPYUnitText(u);y.setPYFormat(t);y.setPYRulerScale(z);y.setPYRulerMin(g?parseFloat(g):null);y.setPYRulerMax(B?parseFloat(B):null);y.setPYRulerStart(T);
y.setSYUnitText(H);y.setSYFormat(fa);y.setSYRulerScale(D);y.setSYRulerMin(P?parseFloat(P):null);y.setSYRulerMax(W?parseFloat(W):null);y.setSYRulerStart(Ma)};this.protectedToJsonObject=function(y){m.lineToJsonObject(y);y.showLabelForLeft=x;y.showLabelForRight=p;u&&(y.leftYUnitText=u);z&&(y.leftYRulerScale=z);g&&(y.leftYRulerMin=g);B&&(y.leftYRulerMax=B);T&&(y.leftYRulerStart=T);t&&(y.leftYFormat=t);if(Ia){for(var r=[],A=0;A<Ia.length;A++){var aa=Ia[A];r.push(aa.toJsonObject())}y.leftReflines=r}H&&
(y.rightYUnitText=H);D&&(y.rightYRulerScale=D);P&&(y.rightYRulerMin=P);W&&(y.rightYRulerMax=W);Ma&&(y.rightYRulerStart=Ma);fa&&(y.rightYFormat=fa);if(gb){r=[];for(A=0;A<gb.length;A++)aa=gb[A],r.push(aa.toJsonObject());y.rightReflines=r}rb&&(y.sort=rb.toJsonObject())};this.protectedFromJsonObject=function(y){m.lineFromJsonObject(y);x=y.showLabelForLeft;p=y.showLabelForRight;u=y.leftYUnitText;z=(z=y.leftYRulerScale)?z:C.RulerScale_Linear;g=y.leftYRulerMin;B=y.leftYRulerMax;T=(T=y.leftYRulerStart)?T:
C.RulerStart_Zero;t=y.leftYFormat;var r=y.leftReflines;if(r){Ia=[];for(var A=0;A<r.length;A++){var aa=r[A],la=new xb;la.fromJsonObject(aa);Ia.push(la)}}H=y.rightYUnitText;D=(D=y.rightYRulerScale)?D:C.RulerScale_Linear;P=y.rightYRulerMin;W=y.rightYRulerMax;Ma=(Ma=y.rightYRulerStart)?Ma:C.RulerStart_Zero;fa=y.rightYFormat;if(r=y.rightReflines)for(gb=[],A=0;A<r.length;A++)aa=r[A],la=new xb,la.fromJsonObject(aa),gb.push(la);(y=y.sort)&&l.getSort().fromJsonObject(y)}}function Z(){C.call(this);var l=this,
m=this.protectedMethod,x=!1,p=-1,t=Z.DESCEND_SORT,u,z=!0,g=!1,B=-1,T,Ia=this.setLinkTargets;this.setLinkTargets=function(H){Ia(H);H&&m.fireChangedEvent(C.KEY_LINKAGE+ha.NeedExecute,H)};var fa=this.setDataDetailExamining;this.setDataDetailExamining=function(H){fa(H);H&&m.fireChangedEvent(C.KEY_DATA_DETAIL+ha.NeedExecute,H)};this.setTopnSwitch=function(H){(x=H)&&-1==p&&(p=20);m.fireChangedEvent(Z.KEY_TOP_N,p)};this.isTopnSwitch=function(){return x};this.setTopnItems=function(H){p=H;x=0>=p?!1:!0;m.fireChangedEvent(Z.KEY_TOP_N,
p)};this.getTopnItems=function(){return p};this.setSortord=function(H){t=H;m.fireChangedEvent(Z.KEY_SORTORD,t)};this.getSortord=function(){return t};this.setSortField=function(H){u=H;m.fireChangedEvent(Z.KEY_SORT_FIELD,u)};this.getSortField=function(){return u};this.setAutoScroll=function(H){z=H;m.fireChangedEvent(Z.KEY_AUTO_SCROLL,z)};this.isAutoScroll=function(){return z};this.setStickNRow=function(H){(g=H)&&-1==B&&(B=3);m.fireChangedEvent(Z.KEY_STICK_ROWS,B)};this.isStickNRow=function(){return g};
this.setStickRows=function(H){B=H;g=0>=B?!1:!0;m.fireChangedEvent(Z.KEY_STICK_ROWS,B)};this.getStickRows=function(){return B};this.setAffectionSrcField=function(H){T=H;m.fireChangedEvent(Z.KEY_AFFECTIOM_SRC_FIELD,T)};this.getAffectionSrcField=function(){return T};m.listMoveIn=function(H){var D=H.listTopnSwitch;void 0!==D&&(x=D);D=H.listTopnItem;void 0!==D&&(p=D);D=H.listSortord;void 0!==D&&(t=D);D=H.listSortField;void 0!==D&&(u=D);D=H.listAutoScroll;void 0!==D&&(z=D);D=H.listStickNRow;void 0!==D&&
(g=D);D=H.listStickRows;void 0!==D&&(B=D);(D=H.listStyleScripts)&&l.setStyleScripts(D);H=H.listAffectionSrcField;void 0!==H&&(T=H)};m.listMoveOut=function(H){H.listTopnSwitch=x;H.listTopnItem=p;H.listSortord=t;H.listSortField=u;H.listAutoScroll=z;H.listStickNRow=g;H.listStickRows=B;H.listStyleScripts=l.getStyleScripts();H.listAffectionSrcField=T};m.listToRenderAttr=function(H){H.setAutoScroll(z);H.setStickRows(z&&g?B:0)};m.listToJsonObject=function(H,D){H.topN=x?p:-1;H.autoScroll=z;H.stickRows=g?
B:-1;if(u&&u.isMeasure())for(var P=0;P<D.getItemModelCount();P++){var W=D.getItemModel(P);if(W==u){H.sortFields=[P];H.sortords=[t];break}}if(T&&T.isDimension())for(P=0;P<D.getItemModelCount();P++)if(W=D.getItemModel(P),W==T){H.affectionSrcFields=[P];break}};m.listFromJsonObject=function(H,D){var P=H.topN;p=P?P:-1;x=0>=p?!1:!0;z=H.autoScroll;B=(P=H.stickRows)?P:-1;g=0>=B?!1:!0;P=H.sortFields;var W=H.sortords;P&&0<P.length&&(u=D.getItemModel(P[0]),(P=W[0])&&(t=P));(H=H.affectionSrcFields)&&0<H.length&&
(T=D.getItemModel(H[0]))}}function X(){Z.call(this);var l=this.protectedMethod,m=!1,x="No.",p=!0;this.setShowRowNum=function(t){m=t;l.fireChangedEvent(X.KEY_SHOW_ROWNUM,m)};this.isShowRowNum=function(){return m};this.setTitleOfRowNum=function(t){x=t;l.fireChangedEvent(X.KEY_ROWNUM_TITLE,x)};this.getTitleOfRowNum=function(){return x};this.setShowHeader=function(t){p=t;l.fireChangedEvent(X.KEY_SHOW_HEADER,p)};this.isShowHeader=function(){return p};this.protectedGetTypeForJson=function(){return"Grid"};
this.protectedMoveIn=function(t){l.listMoveIn(t);var u=t.gridShowHeader;void 0!==u&&(p=u);u=t.gridShowRowNum;void 0!==u&&(m=u);t=t.gridTitleOfRowNum;void 0!==t&&(x=t)};this.protectedMoveOut=function(t){l.listMoveOut(t);t.gridShowHeader=p;t.gridShowRowNum=m;t.gridTitleOfRowNum=x};this.protectedToRenderAttr=function(t){l.listToRenderAttr(t);t.setShowHeader(p);t.setShowRowNum(m)};this.protectedToJsonObject=function(t,u){l.listToJsonObject(t,u.getColumnSet());t.showHeader=p;t.showRowNum=m;t.titleOfRowNum=
x};this.protectedFromJsonObject=function(t,u){l.listFromJsonObject(t,u.getColumnSet());p=t.showHeader?!0:!1;m=t.showRowNum?!0:!1;x=t.titleOfRowNum}}function S(){Z.call(this);var l=this.protectedMethod,m=360,x,p,t=new n,u,z,g;this.getDesigningWidth=function(){return m};this.setCustomDesign=function(B,T,Ia){p=B;t=T;u=Ia;l.fireChangedEvent(S.KEY_CUSTOM_CONTENT,t)};this.getCustomHead=function(){return p};this.getCustomContent=function(){return t};this.getCustomTail=function(){return u};this.setSplitLineColor=
function(B){x=B;l.fireChangedEvent(S.KEY_SPLITLINE_COLOR,x)};this.getSplitLineColor=function(){return x};this.setBodyVerticalAlign=function(B){z=B;l.fireChangedEvent(S.KEY_BODY_V_ALIGN,z)};this.getBodyVerticalAlign=function(){return z};this.setBodyShareToRow=function(B){g=B;l.fireChangedEvent(S.KEY_BODY_SHARE_TO_ROW,g)};this.getBodyShareToRow=function(){return g};this.protectedGetTypeForJson=function(){return"CustomList"};this.protectedMoveIn=function(B){l.listMoveIn(B);var T=B.customListSplitLine;
void 0!==T&&(x=T);T=B.customListContent;void 0!==T&&(t=T);T=B.customListHead;void 0!==T&&(p=T);T=B.customListTail;void 0!==T&&(u=T);T=B.customListBodyVAlign;void 0!==T&&(z=T);B=B.customListBodyShareToRow;void 0!==B&&(g=B)};this.protectedMoveOut=function(B){l.listMoveOut(B);B.customListSplitLine=x;B.customListContent=t;B.customListHead=p;B.customListTail=u;B.customListBodyVAlign=z;B.customListBodyShareToRow=g};this.protectedToRenderAttr=function(B){l.listToRenderAttr(B);B.setSplitLineColor(x);var T=
p?p.getRowHeight():0,Ia=u?u.getRowHeight():0;B.setDesigntimeRowSize(m,t.getRowHeight(),T,Ia);T=t.getContentAreas();for(Ia=0;Ia<T.length;Ia++){var fa=T[Ia];B.addDesigntimeRect(fa.getX(),fa.getY(),fa.getWidth(),fa.getHeight())}if(null!=p)for(B.setHeaderBackgroundColor(p.getBackgroundColor()),T=p.getContentAreas(),Ia=0;Ia<T.length;Ia++)fa=T[Ia],B.addDesigntimeHeaderRect(fa.getX(),fa.getY(),fa.getWidth(),fa.getHeight());if(null!=u)for(B.setFooterBackgroundColor(u.getBackgroundColor()),T=u.getContentAreas(),
Ia=0;Ia<T.length;Ia++)fa=T[Ia],B.addDesigntimeFooterRect(fa.getX(),fa.getY(),fa.getWidth(),fa.getHeight());B.setBodyMiddleAlign(z==S.BODY_VALIGN_MIDDLE);B.setDynamicRowHeightMode(g==S.BODY_SHARE_TO_ROW_REDUCABLE?bc.DynamicRowHeight_Reduced:g==S.BODY_SHARE_TO_ROW_INCREASABLE?bc.DynamicRowHeight_Increased:g==S.BODY_SHARE_TO_ROW_ADJUSTABLE?bc.DynamicRowHeight_Both:bc.DynamicRowHeight_None)};this.protectedToJsonObject=function(B,T){l.listToJsonObject(B,T.getFieldSet());B.width=m;x&&(B.splitLineColor=
x);B.content=t.toJsonObject();p&&(B.head=p.toJsonObject());u&&(B.tail=u.toJsonObject());z&&(B.bodyVAlign=z);g&&(B.bodyShareToRow=g)};this.protectedFromJsonObject=function(B,T){l.listFromJsonObject(B,T.getFieldSet());m=B.width;x=B.splitLineColor;T=B.content;t=new n;t.fromJsonObject(T);p=null;if(T=B.head)p=new n,p.fromJsonObject(T);u=null;if(T=B.tail)u=new n,u.fromJsonObject(T);z=B.bodyVAlign;g=B.bodyShareToRow}}function n(){var l=this,m=40,x=[],p;this.setRowHeight=function(t){m=t};this.getRowHeight=
function(){return m};this.setContentAreas=function(t){x=t};this.getContentAreas=function(){return x};this.setBackgroundColor=function(t){p=t};this.getBackgroundColor=function(){return p};this.copyToEdit=function(){var t=new n;t.fromJsonObject(l.toJsonObject());return t};this.toJsonObject=function(){var t={};t.rowHeight=m;for(var u=[],z=0;z<x.length;z++)u.push(x[z].toJsonObject());t.areas=u;p&&(t.backgroundColor=p);return t};this.fromJsonObject=function(t){m=t.rowHeight;x=[];for(var u=t.areas,z=0;z<
u.length;z++){var g=u[z],B=new d;B.fromJsonObject(g);x.push(B)}p=t.backgroundColor}}function d(){var l,m,x,p,t,u,z,g=new $b;this.setRectangle=function(B,T,Ia,fa){l=B;m=T;x=Ia;p=fa};this.getX=function(){return l};this.getY=function(){return m};this.getWidth=function(){return x};this.getHeight=function(){return p};this.setFieldIndex=function(B){t=B;u=null};this.getFieldIndex=function(){return t};this.setCustomText=function(B){t=-1;u=B};this.getCustomText=function(){return u};this.setColorBar=function(B){z=
B};this.getColorBar=function(){return z};this.setCustomStyle=function(B){g=B};this.getCustomStyle=function(){return g};this.toJsonObject=function(){var B={};B.x=l;B.y=m;B.width=x;B.height=p;0<=t&&(B.field=t);u&&(B.text=u);z&&(B.colorBar=z.toJsonObject());B.style=g.toJsonObject();return B};this.fromJsonObject=function(B){l=B.x;m=B.y;x=B.width;p=B.height;var T=B.field;t=T||0===T?T:-1;u=(T=B.text)?T:null;z=(T=B.colorBar)?a.from(T):null;g=new $b;g.fromJsonObject(B.style)}}function a(){var l,m,x,p,t;this.setMin=
function(u){l=u};this.getMin=function(){return l};this.setMax=function(u){m=u};this.getMax=function(){return m};this.setNormalColor=function(u){x=u};this.getNormalColor=function(){return x};this.setNegativeColor=function(u){p=u};this.getNegativeColor=function(){return p};this.setAxisColor=function(u){t=u};this.getAxisColor=function(){return t};this.toJsonObject=function(){var u={};l&&(u.min=l);m&&(u.max=m);x&&(u.color=x);p&&(u.negativeColor=p);t&&(u.axisColor=t);return u};this.fromJsonObject=function(u){l=
u.min;m=u.max;x=u.color;p=u.negativeColor;t=u.axisColor}}function c(){C.call(this);var l=this.protectedMethod,m=!1,x=!1,p=!1,t=!1,u=-1,z=-1,g=!1,B=!1,T,Ia="#,##0";this.isSortByName=function(){return m};this.setSortByName=function(fa){m=fa;l.fireChangedEvent(c.KEY_SORT_BY_NAME,m)};this.isNegativeAsc=function(){return p};this.setNegativeAsc=function(fa){p=fa;l.fireChangedEvent(c.KEY_NEGATIVE_ASC,p)};this.getNegativeTopN=function(){return u};this.setNegativeTopN=function(fa){u=fa;l.fireChangedEvent(c.KEY_NEGATIVE_TOP_N,
u)};this.getPositiveTopN=function(){return z};this.setPositiveTopN=function(fa){z=fa;l.fireChangedEvent(c.KEY_POSITIVE_TOP_N,z)};this.isWithoutTotal=function(){return g};this.setWithoutTotal=function(fa){g=fa;l.fireChangedEvent(c.KEY_WITHOUT_TOTAL,g)};this.isStartFromStage=function(){return B};this.setStartFromStage=function(fa){B=fa;l.fireChangedEvent(c.KEY_START_FROM_STAGE,B)};this.getYUnitText=function(){return T};this.setYUnitText=function(fa){T=fa;l.fireChangedEvent(c.KEY_Y_UNIT_TEXT,T)};this.getYFormat=
function(){return Ia};this.setYFormat=function(fa){Ia=fa;l.fireChangedEvent(c.KEY_Y_FORMAT,Ia)};this.protectedGetTypeForJson=function(){return"Waterfall"};this.protectedMoveIn=function(fa){var H=fa.waterfall;H&&(m=H[0],x=H[1],p=H[2],t=H[3],u=H[4],z=H[5],g=H[6],B=H[7]);(H=fa.pAxisUnitText)&&(T=H);fa=fa.pAxisFormat;void 0!==fa&&(Ia=fa)};this.protectedMoveOut=function(fa){fa.waterfall=[m,x,p,t,u,z,g,B];fa.pAxisUnitText=T;fa.pAxisFormat=Ia};this.protectedToRenderAttr=function(fa){fa.setYUnitText(T);fa.setYFormat(Ia)};
this.protectedToJsonObject=function(fa,H){m&&(fa.sortByName=m);x&&(fa.negativeAhead=x);p&&(fa.negativeAsc=p);t&&(fa.positiveAsc=t);0<u&&(fa.negativeTopN=u);0<z&&(fa.positiveTopN=z);g&&(fa.withoutTotal=g);B&&(fa.startFromStage=B);T&&(fa.yUnitText=T);Ia&&(fa.yFormat=Ia)};this.protectedFromJsonObject=function(fa,H){m=fa.sortByName?!0:!1;x=fa.negativeAhead?!0:!1;p=fa.negativeAsc?!0:!1;t=fa.positiveAsc?!0:!1;u=(H=fa.negativeTopN)?H:-1;z=(H=fa.positiveTopN)?H:-1;g=fa.withoutTotal?!0:!1;B=fa.startFromStage?
!0:!1;T=fa.yUnitText;Ia=fa.yFormat}}function b(){C.call(this);var l=this.protectedMethod,m=!1,x=!1,p=b.RATIO_BY_STEP,t=b.LADDER_PERFECT,u,z=b.LABEL_POSITION_LEFT,g=b.LABEL_POSITION_HIDE,B=b.LABEL_POSITION_RIGHT;this.protectedCustomMovingKey=function(){return[null,"funnelShowLegend"]};this.isSortByName=function(){return m};this.setSortByName=function(H){m=H;l.fireChangedEvent(b.KEY_SORT_BY_NAME,m)};this.setIgnoreNegative=function(H){x=H;l.fireChangedEvent(C.KEY_NEGATIVE,x)};this.isIgnoreNegative=function(){return x};
this.setRatioBy=function(H){p=H;l.fireChangedEvent(b.KEY_RATIOBY,p)};this.getRatioBy=function(){return p};this.setLadder=function(H){t=H;l.fireChangedEvent(b.KEY_LADDER,t)};this.getLadder=function(){return t};this.setRatioFormat=function(H){u=H;l.fireChangedEvent(b.KEY_RATIO_FORMAT,u)};this.getRatioFormat=function(){return u};this.setNameLabelPosition=function(H){z=H;l.fireChangedEvent(b.KEY_LABEL_NAME,z)};this.getNameLabelPosition=function(){return z};this.setValueLabelPosition=function(H){g=H;l.fireChangedEvent(b.KEY_LABEL_VALUE,
g)};this.getValueLabelPosition=function(){return g};this.setRatioLabelPosition=function(H){B=H;l.fireChangedEvent(b.KEY_LABEL_RATIO,B)};this.getRatioLabelPosition=function(){return B};this.isShowLabel=function(){return z!=b.LABEL_POSITION_HIDE||g!=b.LABEL_POSITION_HIDE||B!=b.LABEL_POSITION_HIDE};this.protectedMoveIn=function(H){var D=H.funnel;D&&(m=D[0],p=D[1],t=D[2],z=D[3],g=D[4],B=D[5],u=D[6]);H=H.ignoreNegative;!0!==H&&!1!==H||(x=H)};this.protectedMoveOut=function(H){H.funnel=[m,p,t,z,g,B,u];H.ignoreNegative=
x};this.protectedToRenderAttr=function(H){H.setLadderPerfect(t==b.LADDER_PERFECT);H.setPercentageFormat(u);p==b.RATIO_BY_STEP&&H.markRatioByStep();p==b.RATIO_BY_START&&H.markRatioByStart();p==b.RATIO_BY_TOTAL&&H.markRatioByTotal();H.setLabelNamePosition(T(z));H.setLabelValuePosition(T(g));H.setLabelPercentPosition(T(B))};var T=function(H){return H==b.LABEL_POSITION_LEFT?Nb.LABEL_LEFT:H==b.LABEL_POSITION_RIGHT?Nb.LABEL_RIGHT:H==b.LABEL_POSITION_CENTER?Nb.LABEL_CENTER:Nb.LABEL_NONE};this.protectedGetTypeForJson=
function(){return"Funnel"};this.protectedToJsonObject=function(H,D){m&&(H.sortByName=!0);x&&(H.hideNegative=!0);H.ratioBy=p==b.RATIO_BY_STEP?"STEP":p==b.RATIO_BY_START?"START":p==b.RATIO_BY_TOTAL?"TOTAL":null;H.ladder=t==b.LADDER_PERFECT?"PERFECT":t==b.LADDER_ACTUAL?"ACTUAL":null;H.nameLabel=Ia(z);H.valueLabel=Ia(g);H.ratioLabel=Ia(B);H.ratioFormat=u};var Ia=function(H){return H==b.LABEL_POSITION_LEFT?"LEFT":H==b.LABEL_POSITION_CENTER?"CENTER":H==b.LABEL_POSITION_RIGHT?"RIGHT":null};this.protectedFromJsonObject=
function(H,D){m=H.sortByName?!0:!1;x=H.hideNegative?!0:!1;D=H.ratioBy;p="START"==D?b.RATIO_BY_START:"TOTAL"==D?b.RATIO_BY_TOTAL:b.RATIO_BY_STEP;t="ACTUAL"==H.ladder?b.LADDER_ACTUAL:b.LADDER_PERFECT;z=fa(H.nameLabel);g=fa(H.valueLabel);B=fa(H.ratioLabel);u=H.ratioFormat};var fa=function(H){return"LEFT"==H?b.LABEL_POSITION_LEFT:"CENTER"==H?b.LABEL_POSITION_CENTER:"RIGHT"==H?b.LABEL_POSITION_RIGHT:b.LABEL_POSITION_HIDE}}function e(){C.call(this);var l=this.protectedMethod,m="#,##0",x,p,t,u=C.RulerStart_Zero,
z,g="#,##0",B,T,Ia,fa=C.RulerStart_Zero,H;this.setXFormat=function(D){m=D;l.fireChangedEvent(e.KEY_X_FORMAT,m)};this.getXFormat=function(){return m};this.setXUnitText=function(D){x=D;l.fireChangedEvent(e.KEY_X_UNIT_TEXT,x)};this.getXUnitText=function(){return x};this.setXRulerScope=function(D){p=D[0];t=D[1];u=D[2];l.fireChangedEvent(e.KEY_X_RULER_START,u)};this.getXRulerScope=function(){return[p,t,u]};this.setXReflines=function(D){z=D;l.fireChangedEvent(e.KEY_X_REFLINES,z)};this.getXReflines=function(){return z};
this.setYFormat=function(D){g=D;l.fireChangedEvent(e.KEY_Y_FORMAT,g)};this.getYFormat=function(){return g};this.setYUnitText=function(D){B=D;l.fireChangedEvent(e.KEY_Y_UNIT_TEXT,B)};this.getYUnitText=function(){return B};this.setYRulerScope=function(D){T=D[0];Ia=D[1];fa=D[2];l.fireChangedEvent(e.KEY_Y_RULER_START,fa)};this.getYRulerScope=function(){return[T,Ia,fa]};this.setYReflines=function(D){H=D;l.fireChangedEvent(e.KEY_Y_REFLINES,H)};this.getYReflines=function(){return H};this.protectedMoveIn=
function(D){var P=D.sAxisFormat;void 0!==P&&(m=P);(P=D.sAxisUnitText)&&(x=P);(P=D.sAxisRulerMin)&&(p=P);(P=D.sAxisRulerMax)&&(t=P);(P=D.sAxisRulerStart)&&(u=P);(P=D.sAxisReflines)&&(z=P);P=D.pAxisFormat;void 0!==P&&(g=P);(P=D.pAxisUnitText)&&(B=P);(P=D.pAxisRulerMin)&&(T=P);(P=D.pAxisRulerMax)&&(Ia=P);(P=D.pAxisRulerStart)&&(fa=P);(D=D.pAxisReflines)&&(H=D)};this.protectedMoveOut=function(D){D.sAxisFormat=m;D.sAxisUnitText=x;D.sAxisRulerMin=p;D.sAxisRulerMax=t;D.sAxisRulerStart=u;D.sAxisReflines=
z;D.pAxisFormat=g;D.pAxisUnitText=B;D.pAxisRulerMin=T;D.pAxisRulerMax=Ia;D.pAxisRulerStart=fa;D.pAxisReflines=H};this.protectedToRenderAttr=function(D){D.setXFormat(m);D.setXUnitText(x);D.setXRulerStart(l.toRenderAttrForRulerStart(u));D.setXRulerMin(p?parseFloat(p):null);D.setXRulerMax(t?parseFloat(t):null);D.setYFormat(g);D.setYUnitText(B);D.setYRulerStart(l.toRenderAttrForRulerStart(fa));D.setYRulerMin(T?parseFloat(T):null);D.setYRulerMax(Ia?parseFloat(Ia):null)};this.protectedGetTypeForJson=function(){return"Scatter"};
this.protectedToJsonObject=function(D,P){m&&(D.xFormat=m);x&&(D.xUnitText=x);p&&(D.xRulerMin=p);t&&(D.xRulerMax=t);u&&(D.xRulerStart=u);if(z){P=[];for(var W=0;W<z.length;W++){var Ma=z[W];P.push(Ma.toJsonObject())}D.xReflines=P}g&&(D.yFormat=g);B&&(D.yUnitText=B);T&&(D.yRulerMin=T);Ia&&(D.yRulerMax=Ia);fa&&(D.yRulerStart=fa);if(H){P=[];for(W=0;W<H.length;W++)Ma=H[W],P.push(Ma.toJsonObject());D.yReflines=P}};this.protectedFromJsonObject=function(D,P){m=D.xFormat;x=D.xUnitText;p=D.xRulerMin;t=D.xRulerMax;
u=(u=D.xRulerStart)?u:C.RulerStart_Zero;if(P=D.xReflines){z=[];for(var W=0;W<P.length;W++){var Ma=P[W],gb=new xb;gb.fromJsonObject(Ma);z.push(gb)}}g=D.yFormat;B=D.yUnitText;T=D.yRulerMin;Ia=D.yRulerMax;fa=(fa=D.yRulerStart)?fa:C.RulerStart_Zero;if(P=D.yReflines)for(H=[],W=0;W<P.length;W++)Ma=P[W],gb=new xb,gb.fromJsonObject(Ma),H.push(gb)}}function f(){C.call(this);L.call(this);var l=this.protectedMethod,m=!1;this.setIgnoreNegative=function(x){m=x;l.fireChangedEvent(C.KEY_NEGATIVE,m)};this.isIgnoreNegative=
function(){return m};this.protectedMoveIn=function(x){var p=x.ignoreNegative;!0!==p&&!1!==p||(m=p);l.moveInWithMixColorMode(x)};this.protectedMoveOut=function(x){x.ignoreNegative=m;l.moveOutWithMixColorMode(x)};this.protectedToRenderAttr=function(x){x.setIgnoreNegative(m)};this.protectedGetTypeForJson=function(){return"RectTree"};this.protectedToJsonObject=function(x,p){m&&(x.hideNegative=!0);l.toJsonObjectWithMixColorMode(x,p)};this.protectedFromJsonObject=function(x,p){m=x.hideNegative?!0:!1;l.fromJsonObjectWithMixColorMode(x,
p)}}function k(){C.call(this);var l=this.protectedMethod,m=!1,x=na.LegendOrderMode_AUTO;this.protectedCustomMovingKey=function(){return["sunburstShowLabel","sunburstShowLegend"]};this.setIgnoreNegative=function(p){m=p;l.fireChangedEvent(C.KEY_NEGATIVE,m)};this.isIgnoreNegative=function(){return m};this.setLegendOrderMode=function(p){x=p;l.fireChangedEvent(na.KEY_LEGEND_ORDER_MODE,x)};this.getLegendOrderMode=function(){return x};this.protectedMoveIn=function(p){var t=p.ignoreNegative;!0!==t&&!1!==
t||(m=t);(p=p.legendOrderMode)&&(x=p)};this.protectedMoveOut=function(p){p.ignoreNegative=m;p.legendOrderMode=x};this.protectedToRenderAttr=function(p){p.setIgnoreNegative(m)};this.protectedGetTypeForJson=function(){return"Sunburst"};this.protectedToJsonObject=function(p,t){m&&(p.hideNegative=!0);p.legendOrderMode=x};this.protectedFromJsonObject=function(p,t){m=p.hideNegative?!0:!1;x=p.legendOrderMode}}function h(){var l=this,m,x,p,t,u,z={};this.getChartTypeName=function(){throw Error("Override me.");
};this.getRollSet=function(){p||(p=Ia(!0));return p};this.getRollInState=function(){t||(t=new ja,t.updateItemCountLimited(l.getRollSet()),t.addStateChangedListener(T));return t};this.getBeRolledSet=function(){return null};this.isRollInSupported=function(){return l.getBeRolledSet()?!0:!1};this.isRollInFieldSupported=function(){return l.getBeRolledSet()?!0:!1};this.lookupRolledInField=function(D){if(0==D){D=l.getBeRolledSet();for(var P=0;P<D.getItemModelCount();P++){var W=D.getItemModel(P);if(!W.getInvalidPrompt())return W}}else{var Ma=
D-1,gb=0;D=l.getRollSet();for(P=0;P<D.getItemModelCount();P++)if(W=D.getItemModel(P),!W.getInvalidPrompt()){if(gb==Ma)return W;gb++}}return null};this.isDataExaminingSupported=function(){return!1};this.isLinkageSupported=function(){return!1};this.getChartProperty=function(){u||(u=l.protectedCreateChartProperty(),u.addChangedListener(B));return u};this.protectedCreateChartProperty=function(){throw Error("Override me.");};this.getGarbageProperties=function(){l.getChartProperty().moveOut(z);return z};
this.setGarbageProperties=function(D){z=D;l.getChartProperty().moveIn(z)};this.getGarbageFields=function(){return x};this.setGarbageFields=function(D){x=D};this.setChangedListener=function(D){m=D};var g=function(D,P){m&&m(D,P)},B=function(D,P){m&&m(null,D)},T=function(){m&&m(null,ja.KEY_STATE_CHANGED)},Ia=function(D,P){var W=new Ha;W.setItemCountMin(P?1:0);W.setItemCountMax(D?65535:1);W.addChangedListener(g);return W};this.awake=function(D){for(var P=fa(),W=0;W<P.length;W++){var Ma=P[W];Ma.traversalItems(function(gb){Ma.awake(D,
gb)})}};this.isExecutableContentEmpty=function(){for(var D=fa(),P=0;P<D.length;P++)if(0<D[P].getItemModelCount())return!1;return!0};this.getBriefOutputableDimensionsAndMeasures=function(){var D=[],P=[];l.lookupAllItemModelSet(function(W){W=W.getSquareField();(W.isDimension()?D:P).push(W)},!0);return[D,P]};this.lookupAllItemModelSet=function(D,P){for(var W=!1,Ma=l.protectedGetAllItemModelSet(),gb=0;gb<Ma.length&&!(W=Ma[gb].traversalItems(D));gb++);!W&&!P&&l.isRollInSupported()&&p&&p.traversalItems(D)};
var fa=function(){var D=l.protectedGetAllItemModelSet();p&&D.push(p);return D};this.protectedGetAllItemModelSet=function(){throw Error("Override me.");};this.checkAllFieldsProblem=function(){l.protectedCheckAllFieldsProblemImpl();p&&H(p);for(var D=fa(),P=0;P<D.length;P++)for(var W=D[P],Ma=0;Ma<W.getItemModelCount();Ma++){var gb=W.getItemModel(Ma),rb=gb.getSquareField();gb=gb.getMetaField();if(!rb.getInvalidPrompt()||rb.getInvalidPrompt().getLevel()==Da.InvalidPrompt_LEVEL_BAD_USAGE)if(rb.isMeasure()&&
!gb.isCanAsMeasure()||rb.isDimension()&&!gb.isCanAsDimension())gb=new yb.InvalidPrompt,gb.setLevel(Da.InvalidPrompt_LEVEL_BAD_USAGE,!0),gb.setPromptText(Bb.get("invalidRole","\u7ef4\u5ea6/\u5ea6\u91cf\u7528\u6cd5\u4e0d\u6b63\u786e")),rb.setInvalidPrompt(gb)}D=fa();for(P=0;P<D.length;P++)for(W=D[P],Ma=1,rb=0;rb<W.getItemModelCount();rb++)if(gb=W.getItemModel(rb).getSquareField(),!gb.getInvalidPrompt()||gb.getInvalidPrompt().getLevel()==Da.InvalidPrompt_LEVEL_TOO_MANY){var y=Ma>W.getItemCountMax(),
r=new yb.InvalidPrompt;r.setLevel(Da.InvalidPrompt_LEVEL_TOO_MANY,y);gb.setInvalidPrompt(r);Ma++}};this.protectedCheckAllFieldsProblemImpl=function(){throw Error("Override me.");};var H=function(D){D.traversalItems(function(P){P=P.getSquareField();var W=!1,Ma=null;P.isDimension()||(W=!0,Ma=Bb.get("onlyDimensionAllowed","\u6b64\u5904\u53ea\u80fd\u51fa\u73b0\u7ef4\u5ea6\u3002"));var gb=new yb.InvalidPrompt;gb.setLevel(Da.InvalidPrompt_LEVEL_BAD_USAGE,W);gb.setPromptText(Ma);P.setInvalidPrompt(gb)})};
this.toJsonObject=function(D){D={};l.protectedToJsonObject(D);if(p&&l.isRollInSupported()){var P=D,W={};W.fields=l.getRollSet().toJsonObject(!0);var Ma=l.getRollInState(),gb=Ma.getItemCount();if(0<gb){for(var rb=[],y=0;y<gb;y++){var r=Ma.getItem(y);rb.push(r.toJsonObject())}W.state=rb}P.roll=W}D.chartProperty=l.getChartProperty().toJsonObject(l);return D};this.fromJsonObject=function(D,P){l.protectedFromJsonObject(D,P);var W=D.roll;if(W){var Ma=W.fields;W=W.state;l.getRollSet().fromJsonObject(Da,
Ma,P,!0);if(W){P=[];for(Ma=0;Ma<W.length;Ma++){var gb=W[Ma],rb=new ya;rb.fromJsonObject(gb);P.push(rb)}l.getRollInState().updateItems(P)}}l.getChartProperty().fromJsonObject(D.chartProperty,l)};this.protectedToJsonObject=function(D){throw Error("Override me.");};this.protectedFromJsonObject=function(D,P){throw Error("Override me.");};this.protectedMethod={createItemModelSet:Ia,checkProblemWithOnlyDimensionAllowed:H,checkProblemWithOnlyMeasureAllowed:function(D){D.traversalItems(function(P){P=P.getSquareField();
var W=!1,Ma=null;P.isMeasure()||(W=!0,Ma=Bb.get("onlyMeasureAllowed","\u6b64\u5904\u53ea\u80fd\u51fa\u73b0\u5ea6\u91cf\u3002"));var gb=new yb.InvalidPrompt;gb.setLevel(Da.InvalidPrompt_LEVEL_BAD_USAGE,W);gb.setPromptText(Ma);P.setInvalidPrompt(gb)})},checkProblemAboutMultiSeriesMeasureSet:function(D,P){D=0<D.getItemModelCount();for(var W=!1,Ma=0;Ma<P.getItemModelCount();Ma++){var gb=P.getItemModel(Ma).getSquareField(),rb=!1,y=null;gb.isMeasure()?(D&&W&&(rb=!0,y=Bb.get("seriesConflictPrompt","\u5df2\u4f7f\u7528\u7ef4\u5ea6\u503c\u8868\u793a\u591a\u4e2a\u7cfb\u5217\uff0c\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u591a\u4e2a\u5ea6\u91cf\u3002")),
W=!0):(rb=!0,y=Bb.get("onlyMeasureAllowed","\u6b64\u5904\u53ea\u80fd\u51fa\u73b0\u5ea6\u91cf\u3002"));var r=new yb.InvalidPrompt;r.setLevel(Da.InvalidPrompt_LEVEL_BAD_USAGE,rb);r.setPromptText(y);gb.setInvalidPrompt(r)}}}}function q(){var l=this;this.isDataExaminingSupported=function(){return!0};this.lookupDataExaminingCoordinateFields=function(){return l.lookupLinkageKeyField()}}function w(){q.call(this);var l=this;this.isLinkageSupported=function(){return!0};this.lookupLinkageKeyField=function(){return l.isRollInSupported()?
l.lookupRolledInField(l.getRollInState().getCurrentRollInFieldCount()):l.protectedCustomLookupLinkageKeyField()};this.protectedCustomLookupLinkageKeyField=function(){return null}}function F(){h.call(this);w.call(this);var l=this,m=this.protectedMethod,x,p;this.getChartTypeName=function(){return ta.ChartType_KPI};this.getPrimarySet=function(){x||(x=m.createItemModelSet());return x};this.getSecondarySet=function(){p||(p=m.createItemModelSet());return p};this.protectedCreateChartProperty=function(){return new oa};
this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyMeasureAllowed(l.getPrimarySet());m.checkProblemWithOnlyMeasureAllowed(l.getSecondarySet())};this.protectedGetAllItemModelSet=function(){return[l.getPrimarySet(),l.getSecondarySet()]};this.protectedToJsonObject=function(t){t.primary=l.getPrimarySet().toJsonObject();t.secondary=l.getSecondarySet().toJsonObject()};this.protectedFromJsonObject=function(t,u){l.getPrimarySet().fromJsonObject(Da,t.primary,u);l.getSecondarySet().fromJsonObject(Da,
t.secondary,u)}}function O(){h.call(this);w.call(this);var l=this,m=this.protectedMethod,x,p;this.getBeRolledSet=function(){return l.getColorSet()};this.getAngleSet=function(){x||(x=m.createItemModelSet(!1,!0));return x};this.getColorSet=function(){p||(p=m.createItemModelSet());return p};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyDimensionAllowed(l.getColorSet());m.checkProblemWithOnlyMeasureAllowed(l.getAngleSet())};this.protectedGetAllItemModelSet=function(){return[l.getAngleSet(),
l.getColorSet()]};this.protectedToJsonObject=function(t){t.angle=l.getAngleSet().toJsonObject();t.color=l.getColorSet().toJsonObject()};this.protectedFromJsonObject=function(t,u){l.getAngleSet().fromJsonObject(Da,t.angle,u);l.getColorSet().fromJsonObject(Da,t.color,u)}}function ba(){O.call(this);this.getChartTypeName=function(){return ta.ChartType_Pie};this.protectedCreateChartProperty=function(){return new sa}}function ea(){O.call(this);this.getChartTypeName=function(){return ta.ChartType_Ring};
this.protectedCreateChartProperty=function(){return new pa}}function qa(){O.call(this);this.getChartTypeName=function(){return ta.ChartType_Rose};this.protectedCreateChartProperty=function(){return new Ra}}function Aa(){h.call(this);var l=this,m=this.protectedMethod,x,p,t;this.getBeRolledSet=function(){return l.getXAxis()};this.getXAxis=function(){x||(x=m.createItemModelSet());return x};this.getYAxis=function(){p||(p=m.createItemModelSet(!0,!0));return p};this.getSeries=function(){t||(t=m.createItemModelSet());
return t};this.protectedCreateChartProperty=function(){return new Ya};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyDimensionAllowed(l.getXAxis());m.checkProblemWithOnlyDimensionAllowed(l.getSeries());m.checkProblemAboutMultiSeriesMeasureSet(l.getSeries(),l.getYAxis())};this.protectedGetAllItemModelSet=function(){return[l.getXAxis(),l.getYAxis(),l.getSeries()]};this.protectedToJsonObject=function(u){u.xAxis=l.getXAxis().toJsonObject();u.yAxis=l.getYAxis().toJsonObject();
u.series=l.getSeries().toJsonObject()};this.protectedFromJsonObject=function(u,z){l.getXAxis().fromJsonObject(Da,u.xAxis,z);l.getYAxis().fromJsonObject(Da,u.yAxis,z);l.getSeries().fromJsonObject(Da,u.series,z)}}function Za(){h.call(this);var l=this,m=this.protectedMethod,x,p,t;this.getBeRolledSet=function(){return l.getYAxis()};this.getXAxis=function(){x||(x=m.createItemModelSet(!0,!0));return x};this.getYAxis=function(){p||(p=m.createItemModelSet());return p};this.getSeries=function(){t||(t=m.createItemModelSet());
return t};this.protectedCreateChartProperty=function(){return new Oa};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyDimensionAllowed(l.getYAxis());m.checkProblemWithOnlyDimensionAllowed(l.getSeries());m.checkProblemAboutMultiSeriesMeasureSet(l.getSeries(),l.getXAxis())};this.protectedGetAllItemModelSet=function(){return[l.getXAxis(),l.getYAxis(),l.getSeries()]};this.protectedToJsonObject=function(u){u.xAxis=l.getXAxis().toJsonObject();u.yAxis=l.getYAxis().toJsonObject();
u.series=l.getSeries().toJsonObject()};this.protectedFromJsonObject=function(u,z){l.getXAxis().fromJsonObject(Da,u.xAxis,z);l.getYAxis().fromJsonObject(Da,u.yAxis,z);l.getSeries().fromJsonObject(Da,u.series,z)}}function jb(){Za.call(this);w.call(this);this.getChartTypeName=function(){return ta.ChartType_Bar}}function sb(){Za.call(this);w.call(this);this.getChartTypeName=function(){return ta.ChartType_StackedBar}}function La(){Za.call(this);w.call(this);this.getChartTypeName=function(){return ta.ChartType_PercentStackedBar};
this.protectedCreateChartProperty=function(){return new U}}function Ka(){Aa.call(this);w.call(this);this.getChartTypeName=function(){return ta.ChartType_Column}}function cb(){Aa.call(this);w.call(this);this.getChartTypeName=function(){return ta.ChartType_StackedColumn}}function nb(){Aa.call(this);w.call(this);this.getChartTypeName=function(){return ta.ChartType_PercentStackedColumn};this.protectedCreateChartProperty=function(){return new Va}}function xa(){Aa.call(this);w.call(this);this.getChartTypeName=
function(){return ta.ChartType_Line};this.protectedCreateChartProperty=function(){return new za}}function $a(){Aa.call(this);w.call(this);this.getChartTypeName=function(){return ta.ChartType_Area};this.protectedCreateChartProperty=function(){var l=new Ya;l.setSortSupported(!1);return l}}function Ga(){Aa.call(this);w.call(this);this.getChartTypeName=function(){return ta.ChartType_PercentArea};this.protectedCreateChartProperty=function(){var l=new Va;l.setSortSupported(!1);return l}}function lb(){h.call(this);
var l=this,m=this.protectedMethod,x,p,t;this.getChartTypeName=function(){return ta.ChartType_Map};this.getDimensionSet=function(){x||(x=m.createItemModelSet());return x};this.getMeasureSet=function(){p||(p=m.createItemModelSet());return p};this.getInfomationSet=function(){t||(t=m.createItemModelSet(!0),t.setItemCountMax(8));return t};this.getBriefOutputableDimensionsAndMeasures=function(){var u=[],z=[],g=function(B){B=B.getSquareField();(B.isDimension()?u:z).push(B)};l.getDimensionSet().traversalItems(g);
l.getMeasureSet().traversalItems(g);return[u,z]};this.protectedCreateChartProperty=function(){return new ca};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyDimensionAllowed(l.getDimensionSet());m.checkProblemWithOnlyMeasureAllowed(l.getMeasureSet())};this.protectedGetAllItemModelSet=function(){return[l.getDimensionSet(),l.getMeasureSet(),l.getInfomationSet()]};this.protectedToJsonObject=function(u){u.dimension=l.getDimensionSet().toJsonObject();u.measure=l.getMeasureSet().toJsonObject();
u.infomation=l.getInfomationSet().toJsonObject()};this.protectedFromJsonObject=function(u,z){l.getDimensionSet().fromJsonObject(Da,u.dimension,z);l.getMeasureSet().fromJsonObject(Da,u.measure,z);l.getInfomationSet().fromJsonObject(Da,u.infomation,z)}}function ub(){h.call(this);var l=this,m=this.protectedMethod,x,p,t,u,z;this.getChartTypeName=function(){return ta.ChartType_GIS};this.getCoordinateSet=function(){x||(x=m.createItemModelSet(),x.setItemCountMin(2),x.setItemCountMax(2));return x};this.getColorSet=
function(){p||(p=m.createItemModelSet(!1,!1));return p};this.getSizeSet=function(){t||(t=m.createItemModelSet(!1,!1));return t};this.getCaptionSet=function(){u||(u=m.createItemModelSet(!1,!1));return u};this.getInfomationSet=function(){z||(z=m.createItemModelSet(!0),z.setItemCountMax(8));return z};this.getBriefOutputableDimensionsAndMeasures=function(){var g=[],B=[],T=function(Ia){Ia=Ia.getSquareField();(Ia.isDimension()?g:B).push(Ia)};l.getCoordinateSet().traversalItems(T);l.getSizeSet().traversalItems(T);
return[g,B]};this.protectedCreateChartProperty=function(){return new Ca};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyDimensionAllowed(l.getCoordinateSet());m.checkProblemWithOnlyDimensionAllowed(l.getColorSet());m.checkProblemWithOnlyDimensionAllowed(l.getCaptionSet());m.checkProblemWithOnlyMeasureAllowed(l.getSizeSet())};this.protectedGetAllItemModelSet=function(){return[l.getCoordinateSet(),l.getColorSet(),l.getSizeSet(),l.getCaptionSet(),l.getInfomationSet()]};this.protectedToJsonObject=
function(g){g.coordinate=l.getCoordinateSet().toJsonObject();g.color=l.getColorSet().toJsonObject();g.size=l.getSizeSet().toJsonObject();g.caption=l.getCaptionSet().toJsonObject();g.infomation=l.getInfomationSet().toJsonObject()};this.protectedFromJsonObject=function(g,B){l.getCoordinateSet().fromJsonObject(Da,g.coordinate,B);l.getColorSet().fromJsonObject(Da,g.color,B);l.getSizeSet().fromJsonObject(Da,g.size,B);l.getCaptionSet().fromJsonObject(Da,g.caption,B);l.getInfomationSet().fromJsonObject(Da,
g.infomation,B)}}function Ab(){h.call(this);var l=this,m=this.protectedMethod,x,p;this.getChartTypeName=function(){return ta.ChartType_Radar};this.protectedCreateChartProperty=function(){return new Y};this.getDimensionSet=function(){var t=l.getChartProperty().getOuterCircle()==Y.OUTER_CIRCLE_MEASURE;x||(x=m.createItemModelSet(!0,!0));x.setItemCountMin(t?0:1);return x};this.getMeasureSet=function(){p||(p=m.createItemModelSet(!0,!0));return p};this.protectedCheckAllFieldsProblemImpl=function(){for(var t=
l.getDimensionSet(),u=l.getMeasureSet(),z=l.getChartProperty().getOuterCircle()==Y.OUTER_CIRCLE_DIMENSION,g=1<t.getItemModelCount(),B=!1,T=0;T<u.getItemModelCount();T++){var Ia=u.getItemModel(T);Ia=Ia.getSquareField();var fa=!1,H=null;Ia.isMeasure()?(z&&g&&B&&(fa=!0,H=Bb.get("seriesConflictPrompt","\u5df2\u4f7f\u7528\u7ef4\u5ea6\u503c\u8868\u793a\u591a\u4e2a\u7cfb\u5217\uff0c\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u591a\u4e2a\u5ea6\u91cf\u3002")),B=!0):(fa=!0,H=Bb.get("onlyMeasureAllowed","\u6b64\u5904\u53ea\u80fd\u51fa\u73b0\u5ea6\u91cf\u3002"));
var D=new yb.InvalidPrompt;D.setLevel(Da.InvalidPrompt_LEVEL_BAD_USAGE,fa);D.setPromptText(H);Ia.setInvalidPrompt(D)}u=z?2:1;for(T=0;T<t.getItemModelCount();T++)Ia=t.getItemModel(T),Ia=Ia.getSquareField(),fa=!1,H=null,Ia.isMeasure()?(fa=!0,H=Bb.get("onlyDimensionAllowed","\u6b64\u5904\u53ea\u80fd\u51fa\u73b0\u7ef4\u5ea6\u3002")):(0>=u&&(H=Bb.get("exceedCountLimit","\u8d85\u51fa\u4e2a\u6570\u9650\u5236"),fa=!0),u--),D=new yb.InvalidPrompt,D.setLevel(Da.InvalidPrompt_LEVEL_BAD_USAGE,fa),D.setPromptText(H),
Ia.setInvalidPrompt(D)};this.protectedGetAllItemModelSet=function(){return[l.getDimensionSet(),l.getMeasureSet()]};this.protectedToJsonObject=function(t){t.dimension=l.getDimensionSet().toJsonObject();t.measure=l.getMeasureSet().toJsonObject()};this.protectedFromJsonObject=function(t,u){l.getDimensionSet().fromJsonObject(Da,t.dimension,u);l.getMeasureSet().fromJsonObject(Da,t.measure,u)}}function zb(){h.call(this);var l=this.protectedMethod,m=this,x,p,t;this.getDimension=function(){t||(t=l.createItemModelSet(!1,
!1));return t};this.getDesired=function(){x||(x=l.createItemModelSet(!1,!0));return x};this.getCompleted=function(){p||(p=l.createItemModelSet(!1,!0));return p};this.protectedCheckAllFieldsProblemImpl=function(){l.checkProblemWithOnlyMeasureAllowed(m.getDesired());l.checkProblemWithOnlyMeasureAllowed(m.getCompleted());l.checkProblemWithOnlyDimensionAllowed(m.getDimension())};this.protectedToJsonObject=function(u){u.desired=m.getDesired().toJsonObject();u.completed=m.getCompleted().toJsonObject();
u.dimension=m.getDimension().toJsonObject()};this.protectedFromJsonObject=function(u,z){m.getDimension().fromJsonObject(Da,u.dimension,z);m.getDesired().fromJsonObject(Da,u.desired,z);m.getCompleted().fromJsonObject(Da,u.completed,z)};this.protectedGetAllItemModelSet=function(){return[m.getDimension(),m.getDesired(),m.getCompleted()]}}function Rb(){zb.call(this);w.call(this);var l=this;this.getChartTypeName=function(){return ta.ChartType_ProgressBar};this.protectedCreateChartProperty=function(){return new ka};
this.getBeRolledSet=function(){return l.getDimension()};this.getXAxis=function(){var m=new Ha,x=l.getCompleted().getItemModel(0),p=l.getDesired().getItemModel(0);p&&m.addItemModel(p);x&&m.addItemModel(x);return m}}function Vb(){zb.call(this);w.call(this);var l=this;this.getChartTypeName=function(){return ta.ChartType_ProgressColumn};this.protectedCreateChartProperty=function(){return new V};this.getBeRolledSet=function(){return l.getDimension()};this.getYAxis=function(){var m=new Ha,x=l.getCompleted().getItemModel(0),
p=l.getDesired().getItemModel(0);p&&m.addItemModel(p);x&&m.addItemModel(x);return m}}function Wb(){zb.call(this);w.call(this);this.getChartTypeName=function(){return ta.ChartType_ProgressCircle};this.protectedCreateChartProperty=function(){var l=new v;l.setShowLegend(C.ShowLegend_Bottom);return l}}function Xb(){h.call(this);w.call(this);var l=this,m=this.protectedMethod,x;this.getChartTypeName=function(){return ta.ChartType_Dial};this.protectedCreateChartProperty=function(){return new R};this.getMeasureSet=
function(){x||(x=m.createItemModelSet(!1,!0));return x};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyMeasureAllowed(l.getMeasureSet())};this.protectedGetAllItemModelSet=function(){return[l.getMeasureSet()]};this.protectedToJsonObject=function(p){p.measure=l.getMeasureSet().toJsonObject()};this.protectedFromJsonObject=function(p,t){l.getMeasureSet().fromJsonObject(Da,p.measure,t)}}function Zb(){h.call(this);w.call(this);var l=this,m=this.protectedMethod,x,p,t,u,z;this.getChartTypeName=
function(){return ta.ChartType_Composite};this.getBeRolledSet=function(){return l.getXAxis()};this.protectedCreateChartProperty=function(){return new G};this.getXAxis=function(){x||(x=m.createItemModelSet(!1,!1));return x};this.getLeftYAxis=function(){p||(p=m.createItemModelSet(!0,!0));return p};this.getRightYAxis=function(){t||(t=m.createItemModelSet(!0,!0));return t};this.getLeftSeries=function(){u||(u=m.createItemModelSet(!1,!1));return u};this.getRightSeries=function(){z||(z=m.createItemModelSet(!1,
!1));return z};this.protectedGetAllItemModelSet=function(){return[l.getXAxis(),l.getLeftYAxis(),l.getRightYAxis(),l.getLeftSeries(),l.getRightSeries()]};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyDimensionAllowed(l.getXAxis());m.checkProblemWithOnlyMeasureAllowed(l.getLeftYAxis());m.checkProblemWithOnlyMeasureAllowed(l.getRightYAxis());m.checkProblemWithOnlyDimensionAllowed(l.getLeftSeries());m.checkProblemWithOnlyDimensionAllowed(l.getRightSeries());m.checkProblemAboutMultiSeriesMeasureSet(l.getLeftSeries(),
l.getLeftYAxis());m.checkProblemAboutMultiSeriesMeasureSet(l.getRightSeries(),l.getRightYAxis())};this.protectedToJsonObject=function(g){g.xAxis=l.getXAxis().toJsonObject();g.leftYAxis=l.getLeftYAxis().toJsonObject();g.leftSeries=l.getLeftSeries().toJsonObject();g.rightYAxis=l.getRightYAxis().toJsonObject();g.rightSeries=l.getRightSeries().toJsonObject()};this.protectedFromJsonObject=function(g,B){l.getXAxis().fromJsonObject(Da,g.xAxis,B);l.getLeftYAxis().fromJsonObject(Da,g.leftYAxis,B);l.getLeftSeries().fromJsonObject(Da,
g.leftSeries,B);l.getRightYAxis().fromJsonObject(Da,g.rightYAxis,B);l.getRightSeries().fromJsonObject(Da,g.rightSeries,B)}}function Qa(){h.call(this);w.call(this);var l=this,m=this.protectedMethod,x;this.getChartTypeName=function(){return ta.ChartType_Grid};this.protectedCreateChartProperty=function(){return new X};this.getColumnSet=function(){x||(x=m.createItemModelSet(!0,!0),x.setItemCountMax(20));return x};this.protectedGetAllItemModelSet=function(){return[l.getColumnSet()]};this.protectedCheckAllFieldsProblemImpl=
function(){for(var p=l.getColumnSet(),t=0;t<p.getItemModelCount();t++){var u=new yb.InvalidPrompt;u.setLevel(Da.InvalidPrompt_LEVEL_BAD_USAGE,!1);p.getItemModel(t).setInvalidPrompt(u)}};this.protectedToJsonObject=function(p){p.columnSet=l.getColumnSet().toJsonObject()};this.protectedFromJsonObject=function(p,t){l.getColumnSet().fromJsonObject(Da,p.columnSet,t)}}function ab(){h.call(this);w.call(this);var l=this,m=this.protectedMethod,x;this.getChartTypeName=function(){return ta.ChartType_CustomList};
this.protectedCreateChartProperty=function(){var p=new S,t=p.getDesigningWidth(),u=4,z=4,g=t-8,B=new d;B.setRectangle(u,z,g,20);B.setFieldIndex(0);B.getCustomStyle().setFontSize(14);B.getCustomStyle().setBold(!0);z=z+20+0;var T=Math.round(.6*t);g=new d;g.setRectangle(u,z,T,20);g.setFieldIndex(1);g.getCustomStyle().setFontSize(12);u=u+T+4;T=t-4-u;t=new d;t.setRectangle(u,z,T,20);t.setFieldIndex(2);t.getCustomStyle().setAlign("right");t.getCustomStyle().setFontSize(12);u=z+20+4;z=new n;z.setRowHeight(u);
z.setContentAreas([B,g,t]);p.setCustomDesign(null,z,null);return p};this.getFieldSet=function(){x||(x=m.createItemModelSet(!0,!0),x.setItemCountMax(20));return x};this.protectedGetAllItemModelSet=function(){return[l.getFieldSet()]};this.protectedCheckAllFieldsProblemImpl=function(){for(var p=l.getFieldSet(),t=0;t<p.getItemModelCount();t++){var u=new yb.InvalidPrompt;u.setLevel(Da.InvalidPrompt_LEVEL_BAD_USAGE,!1);p.getItemModel(t).setInvalidPrompt(u)}};this.protectedToJsonObject=function(p){p.fieldSet=
l.getFieldSet().toJsonObject()};this.protectedFromJsonObject=function(p,t){l.getFieldSet().fromJsonObject(Da,p.fieldSet,t)}}function db(){h.call(this);var l=this,m=this.protectedMethod,x,p,t;this.getChartTypeName=function(){return ta.ChartType_Waterfall};this.getStageSet=function(){x||(x=m.createItemModelSet(!1,!1));return x};this.getClauseSet=function(){p||(p=m.createItemModelSet(!1,!0));return p};this.getMeasureSet=function(){t||(t=m.createItemModelSet(!1,!0));return t};this.protectedCreateChartProperty=
function(){return new c};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyDimensionAllowed(l.getStageSet());m.checkProblemWithOnlyDimensionAllowed(l.getClauseSet());m.checkProblemWithOnlyMeasureAllowed(l.getMeasureSet())};this.protectedGetAllItemModelSet=function(){return[l.getStageSet(),l.getClauseSet(),l.getMeasureSet()]};this.protectedToJsonObject=function(u){u.stage=l.getStageSet().toJsonObject();u.clause=l.getClauseSet().toJsonObject();u.measure=l.getMeasureSet().toJsonObject()};
this.protectedFromJsonObject=function(u,z){l.getStageSet().fromJsonObject(Da,u.stage,z);l.getClauseSet().fromJsonObject(Da,u.clause,z);l.getMeasureSet().fromJsonObject(Da,u.measure,z)}}function ib(){h.call(this);w.call(this);var l=this,m=this.protectedMethod,x,p;this.getChartTypeName=function(){return ta.ChartType_Funnel};this.getDimensionSet=function(){x||(x=m.createItemModelSet(!1,!1));return x};this.getMeasureSet=function(){p||(p=m.createItemModelSet(!0,!0),p.setItemCountMax(10));return p};this.protectedCreateChartProperty=
function(){var t=new b;t.setShowLegend(C.ShowLegend_Non);return t};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyDimensionAllowed(l.getDimensionSet());m.checkProblemWithOnlyMeasureAllowed(l.getMeasureSet());m.checkProblemAboutMultiSeriesMeasureSet(l.getDimensionSet(),l.getMeasureSet())};this.protectedGetAllItemModelSet=function(){return[l.getDimensionSet(),l.getMeasureSet()]};this.protectedCustomLookupLinkageKeyField=function(){var t=null;l.getDimensionSet().traversalItems(function(u){u=
u.getSquareField();return u.isDimension()&&!u.isInvalid()?(t=u,!0):!1});return t};this.protectedToJsonObject=function(t){t.dimension=l.getDimensionSet().toJsonObject();t.measure=l.getMeasureSet().toJsonObject()};this.protectedFromJsonObject=function(t,u){l.getDimensionSet().fromJsonObject(Da,t.dimension,u);l.getMeasureSet().fromJsonObject(Da,t.measure,u)}}function ob(){h.call(this);var l=this,m=this.protectedMethod,x,p,t,u,z;this.getChartTypeName=function(){return ta.ChartType_Scatter};this.getXAxisFieldSet=
function(){!x&&(x=m.createItemModelSet(!1,!1));return x};this.getYAxisFieldSet=function(){!p&&(p=m.createItemModelSet(!1,!1));return p};this.getZAxisFieldSet=function(){!t&&(t=m.createItemModelSet(!1,!1));return t};this.getCategoryFieldSet=function(){!u&&(u=m.createItemModelSet(!1,!1));return u};this.getSeriesFieldSet=function(){!z&&(z=m.createItemModelSet(!1,!1));return z};this.protectedCreateChartProperty=function(){return new e};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyMeasureAllowed(l.getXAxisFieldSet());
m.checkProblemWithOnlyMeasureAllowed(l.getYAxisFieldSet());m.checkProblemWithOnlyMeasureAllowed(l.getZAxisFieldSet());m.checkProblemWithOnlyDimensionAllowed(l.getCategoryFieldSet());m.checkProblemWithOnlyDimensionAllowed(l.getSeriesFieldSet())};this.protectedGetAllItemModelSet=function(){return[l.getXAxisFieldSet(),l.getYAxisFieldSet(),l.getZAxisFieldSet(),l.getCategoryFieldSet(),l.getSeriesFieldSet()]};this.protectedToJsonObject=function(g){g.xAxis=l.getXAxisFieldSet().toJsonObject();g.yAxis=l.getYAxisFieldSet().toJsonObject();
g.zAxis=l.getZAxisFieldSet().toJsonObject();g.category=l.getCategoryFieldSet().toJsonObject();g.series=l.getSeriesFieldSet().toJsonObject()};this.protectedFromJsonObject=function(g,B){l.getXAxisFieldSet().fromJsonObject(Da,g.xAxis,B);l.getYAxisFieldSet().fromJsonObject(Da,g.yAxis,B);l.getZAxisFieldSet().fromJsonObject(Da,g.zAxis,B);l.getCategoryFieldSet().fromJsonObject(Da,g.category,B);l.getSeriesFieldSet().fromJsonObject(Da,g.series,B)}}function qb(){h.call(this);var l=this,m=this.protectedMethod,
x,p,t;this.getChartTypeName=function(){return ta.ChartType_RectTree};this.getSizeSet=function(){!x&&(x=m.createItemModelSet(!1,!0));return x};this.getDimensionSet=function(){p||(p=m.createItemModelSet(!0,!1),p.setItemCountMax(5));return p};this.getColorSet=function(){!t&&(t=m.createItemModelSet(!1,!1));return t};this.protectedCreateChartProperty=function(){return new f};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyMeasureAllowed(l.getSizeSet());m.checkProblemWithOnlyDimensionAllowed(l.getDimensionSet())};
this.protectedGetAllItemModelSet=function(){return[l.getSizeSet(),l.getDimensionSet(),l.getColorSet()]};this.protectedToJsonObject=function(u){u.measure=l.getSizeSet().toJsonObject();u.dimension=l.getDimensionSet().toJsonObject();u.color=l.getColorSet().toJsonObject()};this.protectedFromJsonObject=function(u,z){l.getSizeSet().fromJsonObject(Da,u.measure,z);l.getDimensionSet().fromJsonObject(Da,u.dimension,z);l.getColorSet().fromJsonObject(Da,u.color,z)}}function wb(){h.call(this);var l=this,m=this.protectedMethod,
x,p;this.getChartTypeName=function(){return ta.ChartType_Sunburst};this.getSizeSet=function(){!x&&(x=m.createItemModelSet(!1,!0));return x};this.getDimensionSet=function(){p||(p=m.createItemModelSet(!0,!0),p.setItemCountMin(2),p.setItemCountMax(5));return p};this.protectedCreateChartProperty=function(){var t=new k;t.setShowLegend(C.ShowLegend_Non);t.setShowLabel(!0);return t};this.protectedCheckAllFieldsProblemImpl=function(){m.checkProblemWithOnlyMeasureAllowed(l.getSizeSet());m.checkProblemWithOnlyDimensionAllowed(l.getDimensionSet())};
this.protectedGetAllItemModelSet=function(){return[l.getSizeSet(),l.getDimensionSet()]};this.protectedToJsonObject=function(t){t.measure=l.getSizeSet().toJsonObject();t.dimension=l.getDimensionSet().toJsonObject()};this.protectedFromJsonObject=function(t,u){l.getSizeSet().fromJsonObject(Da,t.measure,u);l.getDimensionSet().fromJsonObject(Da,t.dimension,u)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==
typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.square&&(com.kingdee.bos.qing.square={});"undefined"==typeof com.kingdee.bos.qing.square.model&&(com.kingdee.bos.qing.square.model={});var eb=com.kingdee.bos.qing.square.model;eb.SquarePreferences=function(){var l=new ua,m=new Cb;this.getPreviewSetup=function(){return l};this.setPreviewSetup=function(p){l=p;x(l)};this.addPreviewSetupChangedListener=function(p){m.addListener(p)};this.removePreviewSetupChangedListener=
function(p){m.removeListener(p)};var x=function(p){m.fireEvent(function(t){t(p)})};this.toJsonObject=function(){var p={};p.previewSetup=l.toJsonObject();return p};this.fromJsonObject=function(p){(p=p.previewSetup)&&l.fromJsonObject(p)}};eb.PreviewSetupItem=function(l,m,x,p,t,u){var z=this,g;this.getDisplayText=function(){var B=l,T=z.getPreviewSetup();T.isFullArea()||(B=B+" ("+T.getWidth(),B=B+"*"+T.getHeight(),B+=")");return B};this.getPreviewSetup=function(){g||(g=new ua,g.fromJsonObject({width:m,
height:x,paddingLeft:u,paddingRight:u,paddingTop:p,paddingBottom:t}));return g}};eb.SquareModel=ta;eb.SquareField=Da;eb.FilterItemModel=K;eb.ItemModelSet=Ha;eb.RollInStateItem=ya;eb.AbstractChartProperty=C;eb.AbstractPieChartProperty=na;eb.AbstractLineChartProperty=N;eb.PieChartProperty=sa;eb.RingChartProperty=pa;eb.RoseChartProperty=Ra;eb.XSYNChartProperty=Ya;eb.YSXNChartProperty=Oa;eb.LineChartProperty=za;eb.KPIChartProperty=oa;eb.MapChartProperty=ca;eb.GISChartProperty=Ca;eb.RadarChartProperty=
Y;eb.AbstractProgressChartProperty=J;eb.ProgressBarChartProperty=ka;eb.ProgressColumnChartProperty=V;eb.ProgressCircleChartProperty=v;eb.CompositeChartProperty=G;eb.AbstractListChartProperty=Z;eb.GridChartProperty=X;eb.CustomListChartProperty=S;eb.WaterfallChartProperty=c;eb.FunnelChartProperty=b;eb.ScatterChartProperty=e;eb.DialChartProperty=R;eb.RectTreeChartProperty=f;eb.SunburstChartProperty=k;eb.SortAccording=M;eb.KPICustomStyles=Na;eb.TooltipsAutoDisplay=ia;eb.ChartKPI=F;eb.ChartPie=ba;eb.ChartRing=
ea;eb.ChartRose=qa;eb.ChartColumn=Ka;eb.ChartStackColumn=cb;eb.ChartPercentStackColumn=nb;eb.ChartBar=jb;eb.ChartStackBar=sb;eb.ChartPercentStackBar=La;eb.ChartLine=xa;eb.ChartArea=$a;eb.ChartPercentArea=Ga;eb.ChartMap=lb;eb.ChartGIS=ub;eb.ChartRadar=Ab;eb.ChartProgressBar=Rb;eb.ChartProgressColumn=Vb;eb.ChartProgressCircle=Wb;eb.ChartComposite=Zb;eb.ChartGrid=Qa;eb.ChartCustomList=ab;eb.ChartWaterfall=db;eb.ChartFunnel=ib;eb.ChartScatter=ob;eb.ChartDial=Xb;eb.ChartRectTree=qb;eb.ChartSunburst=wb;
var Cb,Bb,Hb,Ob,Lb,Nb,bc,Pb,Ib,Kb,yb,cc,dc,Tb,xb,ec,Ub,kc,hc,nc,$b;(function(){var l=com.kingdee.bos.qing.common;Cb=l.EventListenerList;l=com.kingdee.bos.qing.framework.common;Bb=l.MultilanguageManager.createPackageAccessor(eb);l=com.kingdee.bos.qing.chart.model;Hb=l.AbstractAttr;Ob=l.PieAttr;Lb=l.DialAttr;Nb=l.FunnelAttr;bc=l.CustomListAttr;l=com.kingdee.bos.qing.core.model;Pb=l.Meta;Ib=l.MetaField;Kb=l.AbstractQingModel;yb=l.AbstractAnalyticalField;cc=l.DiscreteFilter;dc=l.ContinuousFilter;Tb=l.ContinuousDateFilter;
xb=l.Refline;ec=l.Palette;Ub=l.ContinuousColor;kc=l.OutsideReference;hc=l.BriefOutputableFields;nc=l.LinkTargets;$b=l.CommonStyle})();ta.KEY_CHART_TYPE="chartModelInstance";ta.ChartType_KPI="KPI";ta.ChartType_Pie="Pie";ta.ChartType_Ring="Ring";ta.ChartType_Rose="Rose";ta.ChartType_Column="Column";ta.ChartType_StackedColumn="StackedColumn";ta.ChartType_PercentStackedColumn="PercentStackedColumn";ta.ChartType_Bar="Bar";ta.ChartType_StackedBar="StackedBar";ta.ChartType_PercentStackedBar="PercentStackedBar";
ta.ChartType_Line="Line";ta.ChartType_Area="Area";ta.ChartType_PercentArea="PercentArea";ta.ChartType_Map="Map";ta.ChartType_GIS="GIS";ta.ChartType_Radar="Radar";ta.ChartType_ProgressBar="ProgressBar";ta.ChartType_ProgressColumn="ProgressColumn";ta.ChartType_ProgressCircle="ProgressCircle";ta.ChartType_Composite="Composite";ta.ChartType_Grid="Grid";ta.ChartType_CustomList="CustomList";ta.ChartType_Waterfall="Waterfall";ta.ChartType_Funnel="Funnel";ta.ChartType_Scatter="Scatter";ta.ChartType_Dial=
"Dial";ta.ChartType_RectTree="RectTree";ta.ChartType_Sunburst="Sunburst";Da.InvalidPrompt_LEVEL_BAD_USAGE=100;Da.InvalidPrompt_LEVEL_TOO_MANY=101;Ha.KEY_ADD="ItemModelSet.add";Ha.KEY_REMOVE="ItemModelSet.remove";Ha.KEY_MOVE="ItemModelSet.move";K.KEY_FILTER_VALUE="filterValue";ja.KEY_STATE_CHANGED="rollInStateChanged";var ha={Prefix:"P_",NeedRepaint:"_REP",NeedExecute:"_EXE"};C.KEY_TITLE=ha.Prefix+"title";C.KEY_SHOW_LABEL=ha.Prefix+"showLabel"+ha.NeedRepaint;C.KEY_LABEL_OVERLAPPABLE=ha.Prefix+"labelOverlappable"+
ha.NeedRepaint;C.KEY_LABEL_FORMAT=ha.Prefix+"labelFormat"+ha.NeedRepaint;C.KEY_SHOW_LEGEND=ha.Prefix+"showLegend"+ha.NeedExecute;C.KEY_SHOW_DATA_EMPTY_TIPS=ha.Prefix+"showDataEmptyTips"+ha.NeedExecute;C.KEY_DESCRIPTION=ha.Prefix+"description";C.KEY_LINKAGE=ha.Prefix+"linkage";C.KEY_DATA_DETAIL=ha.Prefix+"dataDetailExamining";C.KEY_STYLE_SCRIPTS=ha.Prefix+"styleScripts"+ha.NeedExecute;C.KEY_PALETTE=ha.Prefix+"palette"+ha.NeedExecute;C.KEY_ANIMATION=ha.Prefix+"animation"+ha.NeedRepaint;C.KEY_TOOLTIPS_AUTO_DISPLAY=
ha.Prefix+"tooltipsAutoDisplay"+ha.NeedRepaint;C.KEY_NEGATIVE=ha.Prefix+"negative"+ha.NeedExecute;C.KEY_LEGEND_FORMAT=ha.Prefix+"legendFormat"+ha.NeedExecute;C.KEY_CONTINUOUS_COLOR=ha.Prefix+"continuousColor"+ha.NeedExecute;C.ShowLegend_Non="NON";C.ShowLegend_Right="RIGHT";C.ShowLegend_Bottom="BOTTOM";C.RulerScale_Auto="AUTO";C.RulerScale_Linear="LINEAR";C.RulerScale_Log="LOG";C.RulerStart_Zero="ZERO";C.RulerStart_Nonzero="NONZERO";C.ShowDataEmptyTips_Auto="AUTO";C.ShowDataEmptyTips_Yes="YES";C.ShowDataEmptyTips_No=
"NO";ca.KEY_TEMPLATE_REF=ha.Prefix+"mapOutsideReference"+ha.NeedRepaint;ca.KEY_REGION_MAPPING=ha.Prefix+"mapRegionMapping"+ha.NeedRepaint;Ca.KEY_USAGE=ha.Prefix+"gisUsage"+ha.NeedExecute;Ca.KEY_THIRD=ha.Prefix+"gisThird"+ha.NeedRepaint;Ca.KEY_SCRIPT=ha.Prefix+"gisScript"+ha.NeedRepaint;Ca.USAGE_MARKER="MARKER";Ca.USAGE_BUBBLE="BUBBLE";oa.KEY_CAPTION=ha.Prefix+"caption"+ha.NeedExecute;oa.KEY_P_DISPLAY=ha.Prefix+"primaryString"+ha.NeedExecute;oa.KEY_S_DISPLAY=ha.Prefix+"secondaryString"+ha.NeedExecute;
oa.KEY_P_DATA_EMPTY_INSTEAD=ha.Prefix+"dataEmptyInstead"+ha.NeedExecute;oa.KEY_P_CUSTOM_STYLES=ha.Prefix+"customStyles"+ha.NeedExecute;Ya.KEY_X_UNIT_TEXT=ha.Prefix+"xUnitText"+ha.NeedRepaint;Ya.KEY_X_ASSISTANT_LINE=ha.Prefix+"xAssistantLine"+ha.NeedRepaint;Ya.KEY_Y_UNIT_TEXT=ha.Prefix+"yUnitText"+ha.NeedRepaint;Ya.KEY_Y_FORMAT=ha.Prefix+"yFormat"+ha.NeedRepaint;Ya.KEY_Y_RULER_SCALE=ha.Prefix+"yRulerScale"+ha.NeedRepaint;Ya.KEY_Y_RULER_START=ha.Prefix+"yRulerStart"+ha.NeedRepaint;Ya.KEY_REFLINES=ha.Prefix+
"reflines"+ha.NeedExecute;Ya.KEY_SORT=ha.Prefix+"sort"+ha.NeedExecute;N.KEY_SMOOTH=ha.Prefix+"smooth"+ha.NeedRepaint;N.KEY_PAINT_POINT=ha.Prefix+"paintPoint"+ha.NeedRepaint;N.KEY_CONNECT_NULL_AS=ha.Prefix+"connectNullAs"+ha.NeedRepaint;N.CONNECT_NULL_AS_DIRECTION=0;N.CONNECT_NULL_AS_ZERO=1;za.KEY_TOOLTIPS_SORTED=ha.Prefix+"tooltipsSorted"+ha.NeedRepaint;Oa.KEY_Y_UNIT_TEXT=ha.Prefix+"yUnitText"+ha.NeedRepaint;Oa.KEY_X_UNIT_TEXT=ha.Prefix+"xUnitText"+ha.NeedRepaint;Oa.KEY_X_FORMAT=ha.Prefix+"xFormat"+
ha.NeedRepaint;Oa.KEY_X_RULER_SCALE=ha.Prefix+"xRulerScale"+ha.NeedRepaint;Oa.KEY_X_RULER_START=ha.Prefix+"xRulerStart"+ha.NeedRepaint;Oa.KEY_REFLINES=ha.Prefix+"reflines"+ha.NeedExecute;Oa.KEY_SORT=ha.Prefix+"sort"+ha.NeedExecute;na.KEY_TOPN=ha.Prefix+"topN"+ha.NeedExecute;na.KEY_LABEL_TYPE=ha.Prefix+"labelType"+ha.NeedRepaint;na.KEY_LEGEND_ORDER_MODE=ha.Prefix+"legendOrderMode"+ha.NeedExecute;na.SHOW_LABEL_NAME=1;na.SHOW_LABEL_NUMBER=2;na.SHOW_LABEL_PERCENT=4;na.LegendOrderMode_AUTO="AUTO";na.LegendOrderMode_VALUE=
"VALUE";na.LegendOrderMode_NAME="NAME";pa.KEY_SHOW_TOTAL=ha.Prefix+"ringShowTotal"+ha.NeedRepaint;Ra.KEY_AVERAGE_ANGLE=ha.Prefix+"roseAverageAngle"+ha.NeedRepaint;Y.KEY_RADAR_FORMAT=ha.Prefix+"radarAxisFormat"+ha.NeedExecute;Y.KEY_OUTER_CIRCLE=ha.Prefix+"radarOuterCircle"+ha.NeedExecute;Y.KEY_SHOW_RULER_MARK_LABEL=ha.Prefix+"radarShowRulerMarkLabel"+ha.NeedRepaint;Y.KEY_FILL_COLOR=ha.Prefix+"radarFillColor"+ha.NeedRepaint;Y.OUTER_CIRCLE_DIMENSION="dimension";Y.OUTER_CIRCLE_MEASURE="measure";J.multiExtends=
function(l,m){l.call(m);J.call(m)};J.KEY_LABEL_TYPE=ha.Prefix+"labelType"+ha.NeedRepaint;J.KEY_THICKNESS_PERCENT=ha.Prefix+"thicknessPercent"+ha.NeedRepaint;J.SHOW_LABEL_NUMBER=1;J.SHOW_LABEL_PERCENT=2;v.KEY_PERCENTAGE_DIGIT=ha.Prefix+"progressPercentageDigit"+ha.NeedRepaint;v.KEY_PERCENTAGE_CEILING=ha.Prefix+"progressPercentageCeiling"+ha.NeedRepaint;v.KEY_PERCENTAGE_INSTEAD=ha.Prefix+"progressPercentageInstead"+ha.NeedRepaint;v.KEY_LABEL_DESC=ha.Prefix+"progressLabel"+ha.NeedRepaint;v.KEY_LEGEND_FORMAT=
ha.Prefix+"progressLegendFormat"+ha.NeedExecute;R.KEY_PAN_STYLE=ha.Prefix+"dialPanStyle"+ha.NeedRepaint;R.KEY_ARC_DEGREE=ha.Prefix+"dialArcDegree"+ha.NeedRepaint;R.KEY_ROTATE_DEGREE=ha.Prefix+"dialRotateDegree"+ha.NeedRepaint;R.KEY_SHOW_RULER_MARK_LABEL=ha.Prefix+"dialShowRulerMarkLabel"+ha.NeedRepaint;R.KEY_RULER_MARK_FORMAT=ha.Prefix+"dialRulerMarkFormat"+ha.NeedRepaint;R.KEY_SHOW_POINTER_LABEL=ha.Prefix+"dialShowPointerLabel"+ha.NeedRepaint;R.KEY_POINTER_NAME=ha.Prefix+"dialPointerName"+ha.NeedRepaint;
R.KEY_POINTER_NUMBER_FORMAT=ha.Prefix+"dialPointerNumberFormat"+ha.NeedRepaint;R.KEY_DATA_EMPTY_INSTEAD=ha.Prefix+"dialDataEmptyInstead"+ha.NeedExecute;R.KEY_SECTIONS=ha.Prefix+"dialSections"+ha.NeedExecute;R.PAN_STYLE_ONLY_MARK=1;R.PAN_STYLE_WITH_TRACK=2;G.KEY_LY_UNIT_TEXT=ha.Prefix+"leftYUnitText"+ha.NeedRepaint;G.KEY_LY_FORMAT=ha.Prefix+"leftYFormat"+ha.NeedExecute;G.KEY_LY_RULER_SCALE=ha.Prefix+"leftYRulerScale"+ha.NeedRepaint;G.KEY_LY_RULER_START=ha.Prefix+"leftYRulerStart"+ha.NeedRepaint;G.KEY_LEFT_REFLINES=
ha.Prefix+"leftReflines"+ha.NeedExecute;G.KEY_RY_UNIT_TEXT=ha.Prefix+"rightYUnitText"+ha.NeedRepaint;G.KEY_RY_FORMAT=ha.Prefix+"rightYFormat"+ha.NeedExecute;G.KEY_RY_RULER_SCALE=ha.Prefix+"rightYRulerScale"+ha.NeedRepaint;G.KEY_RY_RULER_START=ha.Prefix+"rightYRulerStart"+ha.NeedRepaint;G.KEY_RIGHT_REFLINES=ha.Prefix+"rightReflines"+ha.NeedExecute;G.KEY_SORT=ha.Prefix+"compositeSort"+ha.NeedExecute;Z.KEY_TOP_N=ha.Prefix+"listTopN"+ha.NeedExecute;Z.KEY_SORT_FIELD=ha.Prefix+"listSortField"+ha.NeedExecute;
Z.KEY_SORTORD=ha.Prefix+"listSortord"+ha.NeedExecute;Z.KEY_AUTO_SCROLL=ha.Prefix+"listAutoScroll"+ha.NeedRepaint;Z.KEY_STICK_ROWS=ha.Prefix+"listStickRows"+ha.NeedRepaint;Z.KEY_AFFECTIOM_SRC_FIELD=ha.Prefix+"listAffctionSrcField";Z.ASCEND_SORT="ascend";Z.DESCEND_SORT="descend";X.KEY_SHOW_HEADER=ha.Prefix+"gridShowHeader"+ha.NeedRepaint;X.KEY_SHOW_ROWNUM=ha.Prefix+"gridShowRowNum"+ha.NeedExecute;X.KEY_ROWNUM_TITLE=ha.Prefix+"gridIdxColTitle"+ha.NeedExecute;S.KEY_CUSTOM_CONTENT=ha.Prefix+"customListContent"+
ha.NeedExecute;S.KEY_SPLITLINE_COLOR=ha.Prefix+"customListSplitLineColor"+ha.NeedRepaint;S.KEY_BODY_V_ALIGN=ha.Prefix+"customListBodyVAlign"+ha.NeedRepaint;S.KEY_BODY_SHARE_TO_ROW=ha.Prefix+"customListBodyShareToRow"+ha.NeedRepaint;S.BODY_VALIGN_TOP="top";S.BODY_VALIGN_MIDDLE="middle";S.BODY_SHARE_TO_ROW_REDUCABLE="reducable";S.BODY_SHARE_TO_ROW_INCREASABLE="increasable";S.BODY_SHARE_TO_ROW_ADJUSTABLE="adjustable";S.createContentPanelModel=function(l){var m=new n;l&&m.setRowHeight(l);return m};S.createContentAreaModel=
function(){return new d};S.createColorBarModel=function(){return new a};a.from=function(l){var m=new a;m.fromJsonObject(l);return m};c.KEY_SORT_BY_NAME=ha.Prefix+"waterfallSortByName"+ha.NeedExecute;c.KEY_NEGATIVE_ASC=ha.Prefix+"waterfallNegativeAsc"+ha.NeedExecute;c.KEY_NEGATIVE_TOP_N=ha.Prefix+"waterfallNegativeTopN"+ha.NeedExecute;c.KEY_POSITIVE_TOP_N=ha.Prefix+"waterfallPositiveTopN"+ha.NeedExecute;c.KEY_START_FROM_STAGE=ha.Prefix+"waterfallStartFromStage"+ha.NeedExecute;c.KEY_WITHOUT_TOTAL=ha.Prefix+
"waterfallWithoutTotal"+ha.NeedExecute;c.KEY_Y_UNIT_TEXT=ha.Prefix+"yUnitText"+ha.NeedRepaint;c.KEY_Y_FORMAT=ha.Prefix+"yFormat"+ha.NeedRepaint;b.KEY_SORT_BY_NAME=ha.Prefix+"funnelSortByName"+ha.NeedExecute;b.KEY_RATIOBY=ha.Prefix+"funnelRatioBy"+ha.NeedRepaint;b.KEY_LADDER=ha.Prefix+"funnelLadder"+ha.NeedRepaint;b.KEY_LABEL_NAME=ha.Prefix+"labelNamePosition"+ha.NeedRepaint;b.KEY_LABEL_VALUE=ha.Prefix+"labelValuePosition"+ha.NeedRepaint;b.KEY_LABEL_RATIO=ha.Prefix+"labelRatioPosition"+ha.NeedRepaint;
b.KEY_RATIO_FORMAT=ha.Prefix+"ratioFormat"+ha.NeedRepaint;b.RATIO_BY_STEP=1;b.RATIO_BY_START=2;b.RATIO_BY_TOTAL=3;b.LADDER_PERFECT=1;b.LADDER_ACTUAL=2;b.LABEL_POSITION_HIDE=0;b.LABEL_POSITION_LEFT=1;b.LABEL_POSITION_CENTER=2;b.LABEL_POSITION_RIGHT=3;e.KEY_X_FORMAT=ha.Prefix+"xFormat"+ha.NeedRepaint;e.KEY_X_UNIT_TEXT=ha.Prefix+"xUnitText"+ha.NeedRepaint;e.KEY_X_RULER_START=ha.Prefix+"xRulerStart"+ha.NeedRepaint;e.KEY_X_REFLINES=ha.Prefix+"xReflines"+ha.NeedExecute;e.KEY_Y_FORMAT=ha.Prefix+"yFormat"+
ha.NeedRepaint;e.KEY_Y_UNIT_TEXT=ha.Prefix+"yUnitText"+ha.NeedRepaint;e.KEY_Y_RULER_START=ha.Prefix+"yRulerStart"+ha.NeedRepaint;e.KEY_Y_REFLINES=ha.Prefix+"yReflines"+ha.NeedExecute})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.square&&(com.kingdee.bos.qing.square={});"undefined"==typeof com.kingdee.bos.qing.square.controller&&(com.kingdee.bos.qing.square.controller={});var wa=com.kingdee.bos.qing.square.controller;wa.ActionAddItem=function(){Ba.call(this);var K,
ya,ja,ua,C,L,da,ia;this.getCaption=function(){return K};this.setValue=function(M,ca,ma,Ca,oa){ya=M;ja=ca;ua=ma;C=ya.getItemModelIndex(ja);(L=0<=C)?(K=Ta.get("moveItem","\u5728#1\u4e2d\u79fb\u52a8#2"),K=K.replace("#1",Ca),K=K.replace("#2",ja.getSquareField().getComplexText())):(K=Ta.get("appendItem","\u6dfb\u52a0#1\u5230#2"),K=K.replace("#1",ja.getSquareField().getComplexText()),K=K.replace("#2",Ca));da=oa};this.perform=function(){da&&(ia=da.updateItems([]));L?I():ya.insertItemModel(ja,ua)};this.unperform=
function(){da&&da.updateItems(ia);L?I():ya.removeItemModel(ja)};var I=function(){var M=ya.moveItemModel(C,ua);C=M[0];ua=M[1]}};wa.ActionRemoveItem=function(){Ba.call(this);var K,ya,ja,ua,C,L;this.getCaption=function(){return K};this.setValue=function(da,ia,I,M){ya=da;ja=ia;I&&(K=Ta.get("removeItem","\u4ece#1\u5220\u9664#2"),K=K.replace("#1",I),K=K.replace("#2",ja.getSquareField().getComplexText()));C=M};this.perform=function(){C&&(L=C.updateItems([]));ua=ya.getItemModelIndex(ja);ya.removeItemModel(ja)};
this.unperform=function(){C&&C.updateItems(L);ya.insertItemModel(ja,ua)}};wa.ActionClearAll=function(){Ba.call(this);var K=this,ya,ja,ua;this.getCaption=function(){return ya};this.setValue=function(C,L,da){ya=da;ja=C;da=new Da;C=L(da.getChartTypeName());da=C.willTransform(da);C=ja.getChart();C=L(C.getChartTypeName());ua=C.transform(da)};this.perform=function(){var C=ja.getChart();ja.setChart(ua);ua=C};this.unperform=function(){K.perform()}};wa.ActionRollIn=function(){Ba.call(this);var K,ya,ja,ua,
C,L;this.getCaption=function(){return K};this.setValue=function(da,ia,I,M,ca){K=Ta.get("rollInTo","\u4e0b\u94bb#1\u5230\uff1a#2");K=K.replace("#1",da?da.getComplexText():"");K=K.replace("#2",M?M:Ta.get("rollInToNext","\u4e0b\u4e00\u5c42"));ya=ia;ua=I;C=M;ja=ca};this.perform=function(){L=ya.backupItems();var da=0<ya.getItemCount()?ya.getItem(ya.getItemCount()-1):null,ia=[];da&&da.isPcdNextLevel()||(da=new Ha,ia=[da]);da.setPcdNextLevel(ja);da.addOneLevel(ua,C);ya.rollIn(ia)};this.unperform=function(){ya.restoreItems(L);
L=null}};wa.ActionRollOut=function(){Ba.call(this);var K,ya,ja,ua,C;this.getCaption=function(){return K};this.setValue=function(L,da,ia,I){K=Ta.get("rollOutTo","\u4e0a\u5377\u56de#1");K=K.replace("#1",L?L.getComplexText():0==ia?Ta.get("rollOutToTop","\u9876\u5c42"):"");ya=da;ja=ia;ua=I};this.perform=function(){C=ya.backupItems();ya.rollOut(ja,ua)};this.unperform=function(){ya.restoreItems(C);C=null}};wa.ActionAppendAllNecessaryDimensions=function(){ta.call(this);var K=this.protectedMethod,ya,ja;this.setValue=
function(ua,C){ya=C.getFilterSet();ja=[];C=C.getUsingMetaFields(ua);K.visitMissingNecessaryDimensions(ua,C,function(L){var da=new fb,ia=new hb;ia.setSquareField(da);ia.setFilter(L);ja.push(ia);return da})};this.perform=function(){ya.appendItemModels(ja)};this.unperform=function(){ya.removeItemModels(ja)}};var Ta,Ba,ta,Da,Ha,fb,hb;(function(){var K=com.kingdee.bos.qing.framework.common;Ta=K.MultilanguageManager.createPackageAccessor(wa);K=com.kingdee.bos.qing.core.controller;Ba=K.AbstractAction;ta=
K.AbstractActionAppendAllNecessaryDimensions;K=com.kingdee.bos.qing.square.model;Da=K.ChartColumn;Ha=K.RollInStateItem;fb=K.SquareField;hb=K.FilterItemModel})()})();(function(){function wa(){var y=this,r,A,aa;this.isReleased=function(){return!0};this.getName=function(){return r};this.getText=function(){return A};this.getIconFileName=function(){return aa};this.createFieldCards=function(la,Pa){throw Error("Override me.");};this.smartCreateSquareFieldFromMetaField=function(la,Pa){return null};this.createPropertyPane=function(){throw Error("Override me.");};this.willTransform=function(la){var Pa=new Da;y.protectedWillTransformImpl(la,Pa);Pa.collectRoll(la.getRollSet());
Pa.collectOthers(la.getGarbageFields());return Pa};this.protectedWillTransformImpl=function(la,Pa){throw Error("Override me.");};this.transform=function(la){var Pa=[];la.popRollField(Pa);var mb=y.protectedTransformImpl(la);la.setupItemModelSet(mb.getRollSet(),Pa);mb.setGarbageFields(la.recycle());return mb};this.protectedTransformImpl=function(){throw Error("Override me.");};this.parseJsonChartModel=function(la){la=ub.createFromJson(la);var Pa=la.getCategories();return Pa&&0!=Pa.length?la:null};this.createChartCtrl=
function(la,Pa){Pa=y.protectedCreateChartCtrlImpl(la,Pa);Pa.setModel(la);return Pa};this.protectedCreateChartCtrlImpl=function(la,Pa){throw Error("Override me.");};this.transformToDrillTarget=function(la,Pa){return 0<=la?new function(mb){this.getValue=function(){return mb.getExecutableValue()};this.getText=function(){return mb.getLabel()};this.isAsParent=function(){return mb.isAsParent()}}(Pa.getModel().getCategories()[la]):null};this.transformToJumpTarget=function(la,Pa,mb){return 0<=la&&mb.isLinkageSupported()?
(la=Pa.getModel().getCategories()[la],new function(tb,Eb){this.getItemCount=function(){return tb?1:0};this.getField=function(Mb){return tb};this.getMember=function(Mb){return Eb}}(mb.lookupLinkageKeyField(),la.getExecutableValue())):null};this.transformToExaminingTarget=function(la,Pa,mb){if(0<=la&&mb.isDataExaminingSupported()){la=Pa.getModel().getCategories()[la];var tb=mb.lookupDataExaminingCoordinateFields(),Eb=tb?!0:!1;return new function(Mb){this.getJson=function(){var fc={};fc.fields=Eb?[tb.getId()]:
[];fc.values=Eb?[Mb.getExecutableValue()]:[];return fc}}(la)}return null};this.customLoading=function(la,Pa,mb,tb){tb()};this.protectedMethod={setName:function(la){r=la},setText:function(la){A=la},setIconFileName:function(la){aa=la}}}function Ta(){this.select=function(y,r){0>y?r.getSelectionModel().deselectCategories():(y=r.getModel().getCategories()[y],r.getSelectionModel().toggleSelectCategory(y))};this.isSelected=function(y,r){if(0>y)return!1;y=r.getModel().getCategories()[y];return r.getSelectionModel().isSelected(y,
null)}}function Ba(){this.select=function(y,r){"string"==typeof y?r.getSelectionModel().toggleSelect(y):r.getSelectionModel().deselect()};this.isSelected=function(y,r){return"string"==typeof y?r.getSelectionModel().isSelected(y):!1}}function ta(){this.select=function(y,r){0>y?r.getSelectionModel().deselect():(y=r.getModel().getRow(y),r.getSelectionModel().toggleSelect(y))};this.isSelected=function(y,r){if(0>y)return!1;y=r.getModel().getRow(y);return r.getSelectionModel().isSelected(y)}}function Da(){var y=
this,r=[],A=[],aa=[],la=[],Pa=[],mb=[],tb=[],Eb=[],Mb=[],fc=[],gc=function(bb,pb){for(var Qb=0,ic=bb.getItemModelCount();Qb<ic;Qb++)pb.push(bb.goodbyeItemModel(Qb))},Db=function(bb,pb,Qb,ic){for(var qc=0;qc<bb.length&&!(ic&&Qb.length>=ic);){var Yb=bb[qc];pb&&Yb.isDimension()||!pb&&Yb.isMeasure()?(Qb.push(Yb),bb.splice(qc,1)):qc++}};this.getRemainDimensionCount=function(){var bb=0,pb=function(Qb){for(var ic=0;ic<Qb.length;ic++)Qb[ic].isDimension()&&bb++};pb(r);pb(A);pb(aa);pb(la);pb(Pa);pb(mb);pb(tb);
pb(Eb);pb(Mb);pb(fc);return bb};this.collectXAxis=function(bb){gc(bb,r)};this.popXAxisDimension=function(bb,pb){Db(r,!0,bb,pb)};this.popXAxisMeasure=function(bb,pb){Db(r,!1,bb,pb)};this.collectYAxis=function(bb){gc(bb,A)};this.popYAxisDimension=function(bb,pb){Db(A,!0,bb,pb)};this.popYAxisMeasure=function(bb,pb){Db(A,!1,bb,pb)};this.collectSeries=function(bb){gc(bb,aa)};this.popSeriesDimension=function(bb,pb){Db(aa,!0,bb,pb)};this.popSeriesMeasure=function(bb,pb){Db(aa,!1,bb,pb)};this.collectColorField=
function(bb){gc(bb,la)};this.popDiscreteColorField=function(bb,pb){Db(la,!0,bb,pb);Db(aa,!0,bb,pb)};this.popGradualColorField=function(bb,pb){Db(la,!1,bb,pb)};this.collectSizeField=function(bb){gc(bb,Pa)};this.popSizeField=function(bb,pb){Db(Pa,!1,bb,pb)};this.collectAngleField=function(bb){gc(bb,mb)};this.popAngleField=function(bb,pb){Db(mb,!1,bb,pb)};this.collectRoll=function(bb){gc(bb,tb)};this.popRollField=function(bb){Db(tb,!0,bb)};this.collectInformationField=function(bb){gc(bb,Eb)};this.popInformationField=
function(bb){Db(Eb,!0,bb);Db(Eb,!1,bb)};this.popAnyDimension=function(bb,pb){Db(r,!0,bb,pb);Db(A,!0,bb,pb);Db(aa,!0,bb,pb);y.popDiscreteColorField(bb,pb);Db(tb,!0,bb,pb);Db(Eb,!0,bb,pb);Db(Mb,!0,bb,pb);Db(fc,!0,bb,pb)};this.popAnyMeasure=function(bb,pb){Db(r,!1,bb,pb);Db(A,!1,bb,pb);Db(aa,!1,bb,pb);y.popGradualColorField(bb,pb);y.popSizeField(bb,pb);y.popAngleField(bb,pb);Db(tb,!1,bb,pb);Db(Eb,!1,bb,pb);Db(Mb,!1,bb,pb);Db(fc,!1,bb,pb)};this.collectOthers=function(bb){bb&&0<bb.length&&(Mb=Mb.concat(bb))};
this.collectNewSelecteds=function(bb){bb&&0<bb.length&&(fc=fc.concat(bb))};this.recycle=function(){var bb=[];bb=bb.concat(r);bb=bb.concat(A);bb=bb.concat(aa);bb=bb.concat(la);bb=bb.concat(Pa);bb=bb.concat(mb);bb=bb.concat(tb);bb=bb.concat(Eb);return bb=bb.concat(Mb)};this.setupItemModelSet=function(bb,pb){for(var Qb=0;Qb<pb.length;Qb++)bb.addItemModel(pb[Qb])}}function Ha(){wa.call(this);var y=this;this.createFieldCards=function(r,A){var aa=new r;aa.setTitle(v.get("xAxis","\u6a2a\u8f74"));aa.setItemModelSet(A.getXAxis());
aa.setOperatingPrompt(v.get("dragTextFieldHere","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var la=new r;la.setTitle(v.get("yAxis","\u7eb5\u8f74"));la.setItemModelSet(A.getYAxis());la.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var Pa=new r;Pa.setTitle(v.get("series","\u7cfb\u5217"));Pa.setItemModelSet(A.getSeries());Pa.setOperatingPrompt(v.get("tryDragTextFieldHere","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));
r=new r;r.setTitle(v.get("roll","\u94bb\u53d6\u5230"));r.setItemModelSet(A.getRollSet());r.setOperatingPrompt(v.get("tryDragTextFieldHere","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return[aa,la,Pa,r]};this.protectedWillTransformImpl=function(r,A){A.collectXAxis(r.getXAxis());A.collectYAxis(r.getYAxis());A.collectSeries(r.getSeries())};this.protectedTransformImpl=function(r){var A=[],aa=[],la=[];r.popYAxisMeasure(aa);r.popXAxisDimension(A,1);r.popSeriesDimension(la,
1);r.popAnyMeasure(aa);1!=r.getRemainDimensionCount()&&1>la.length&&r.popDiscreteColorField(la,1);1>A.length&&r.popAnyDimension(A,1);1>la.length&&r.popAnyDimension(la,1);var Pa=y.protectedCreateChartModelImpl();r.setupItemModelSet(Pa.getXAxis(),A);r.setupItemModelSet(Pa.getYAxis(),aa);r.setupItemModelSet(Pa.getSeries(),la);return Pa};this.protectedCreateChartModelImpl=function(){throw Error("Override me");}}function fb(){wa.call(this);var y=this;this.createFieldCards=function(r,A){var aa=new r;aa.setTitle(v.get("xAxis",
"\u6a2a\u8f74"));aa.setItemModelSet(A.getXAxis());aa.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var la=new r;la.setTitle(v.get("yAxis","\u7eb5\u8f74"));la.setItemModelSet(A.getYAxis());la.setOperatingPrompt(v.get("dragTextFieldHere","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var Pa=new r;Pa.setTitle(v.get("series","\u7cfb\u5217"));Pa.setItemModelSet(A.getSeries());Pa.setOperatingPrompt(v.get("tryDragTextFieldHere",
"\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));r=new r;r.setTitle(v.get("roll","\u94bb\u53d6\u5230"));r.setItemModelSet(A.getRollSet());r.setOperatingPrompt(v.get("tryDragTextFieldHere","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return[aa,la,Pa,r]};this.protectedWillTransformImpl=function(r,A){A.collectXAxis(r.getXAxis());A.collectYAxis(r.getYAxis());A.collectSeries(r.getSeries())};this.protectedTransformImpl=function(r){var A=[],aa=
[],la=[];r.popXAxisMeasure(A);r.popYAxisDimension(aa,1);r.popSeriesDimension(la,1);r.popAnyMeasure(A);1!=r.getRemainDimensionCount()&&1>la.length&&r.popDiscreteColorField(la,1);1>aa.length&&r.popAnyDimension(aa,1);1>la.length&&r.popAnyDimension(la,1);var Pa=y.protectedCreateChartModelImpl();r.setupItemModelSet(Pa.getXAxis(),A);r.setupItemModelSet(Pa.getYAxis(),aa);r.setupItemModelSet(Pa.getSeries(),la);return Pa};this.protectedCreateChartModelImpl=function(){throw Error("Override me");}}function hb(){Ha.call(this);
Ta.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Column);y.setIconFileName("chart_msbar");y.setText(v.get("chartColumn","\u591a\u7cfb\u5217\u67f1\u5f62\u56fe"));this.createPropertyPane=function(){return new xb};this.protectedCreateChartModelImpl=function(){return new b};this.protectedCreateChartCtrlImpl=function(r,A){return new Wb}}function K(){Ha.call(this);Ta.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_StackedColumn);y.setIconFileName("chart_stackbar");y.setText(v.get("chartStackColumn",
"\u5806\u79ef\u67f1\u5f62\u56fe"));var r=this.createFieldCards;this.createFieldCards=function(A,aa){A=r(A,aa);A[2].setTitle(v.get("stack","\u5806\u79ef"));return A};this.createPropertyPane=function(){return new Ub};this.protectedCreateChartModelImpl=function(){return new e};this.protectedCreateChartCtrlImpl=function(A,aa){return new Zb}}function ya(){Ha.call(this);Ta.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_PercentStackedColumn);y.setIconFileName("chart_percentbar");y.setText(v.get("chartPercentStackColumn",
"\u767e\u5206\u6bd4\u5806\u79ef\u67f1\u5f62\u56fe"));var r=this.createFieldCards;this.createFieldCards=function(A,aa){A=r(A,aa);A[2].setTitle(v.get("stack","\u5806\u79ef"));return A};this.createPropertyPane=function(){return new kc};this.protectedCreateChartModelImpl=function(){return new f};this.protectedCreateChartCtrlImpl=function(A,aa){return new Qa}}function ja(){fb.call(this);Ta.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Bar);y.setIconFileName("chart_horizontalmsbar");y.setText(v.get("chartBar",
"\u591a\u7cfb\u5217\u6761\u5f62\u56fe"));this.createPropertyPane=function(){return new ec};this.protectedCreateChartModelImpl=function(){return new k};this.protectedCreateChartCtrlImpl=function(r,A){return new Xb}}function ua(){fb.call(this);Ta.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_StackedBar);y.setIconFileName("chart_horizontalstackbar");y.setText(v.get("chartStackBar","\u5806\u79ef\u6761\u5f62\u56fe"));var r=this.createFieldCards;this.createFieldCards=function(A,aa){A=r(A,
aa);A[2].setTitle(v.get("stack","\u5806\u79ef"));return A};this.createPropertyPane=function(){return new hc};this.protectedCreateChartModelImpl=function(){return new h};this.protectedCreateChartCtrlImpl=function(A,aa){return new ab}}function C(){fb.call(this);Ta.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_PercentStackedBar);y.setIconFileName("chart_horizontalpercentbar");y.setText(v.get("chartPercentStackBar","\u767e\u5206\u6bd4\u5806\u79ef\u6761\u5f62\u56fe"));var r=this.createFieldCards;
this.createFieldCards=function(A,aa){A=r(A,aa);A[2].setTitle(v.get("stack","\u5806\u79ef"));return A};this.createPropertyPane=function(){return new nc};this.protectedCreateChartModelImpl=function(){return new q};this.protectedCreateChartCtrlImpl=function(A,aa){return new db}}function L(){Ha.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Line);y.setIconFileName("chart_mline");y.setText(v.get("chartLine","\u6298\u7ebf\u56fe"));var r=this.createFieldCards;this.createFieldCards=function(A,
aa){A=r(A,aa);A[0].setOperatingPrompt(v.get("dragDateFieldHere","\u5c06\u65e5\u671f\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));A[3].setOperatingPrompt(v.get("tryDragDateFieldHere","\u5c1d\u8bd5\u5c06\u65e5\u671f\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return A};this.createPropertyPane=function(){return new $b};this.protectedCreateChartModelImpl=function(){return new w};this.protectedCreateChartCtrlImpl=function(A,aa){return new ib}}function da(){Ha.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Area);
y.setIconFileName("chart_area");y.setText(v.get("chartArea","\u9762\u79ef\u56fe"));var r=this.createFieldCards;this.createFieldCards=function(A,aa){A=r(A,aa);A[0].setOperatingPrompt(v.get("dragDateFieldHere","\u5c06\u65e5\u671f\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));A[3].setOperatingPrompt(v.get("tryDragDateFieldHere","\u5c1d\u8bd5\u5c06\u65e5\u671f\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return A};this.createPropertyPane=function(){return new ha};this.protectedCreateChartModelImpl=function(){return new F};
this.protectedCreateChartCtrlImpl=function(A,aa){return new ob}}function ia(){da.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_PercentArea);y.setIconFileName("chart_percentarea");y.setText(v.get("chartPercentArea","\u767e\u5206\u6bd4\u9762\u79ef\u56fe"));this.createPropertyPane=function(){return new kc};this.protectedCreateChartModelImpl=function(){return new O};this.protectedCreateChartCtrlImpl=function(r,A){return new qb}}function I(){wa.call(this);Ta.call(this);var y=this;this.createFieldCards=
function(r,A){var aa=new r;aa.setItemModelSet(A.getAngleSet());aa.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var la=new r;la.setTitle(v.get("color","\u989c\u8272"));la.setItemModelSet(A.getColorSet());la.setOperatingPrompt(v.get("dragTextFieldHere","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));r=new r;r.setTitle(v.get("roll","\u94bb\u53d6\u5230"));r.setItemModelSet(A.getRollSet());r.setOperatingPrompt(v.get("tryDragTextFieldHere",
"\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));y.protectedInitFieldCards(aa,la,r);return[aa,la,r]};this.protectedInitFieldCards=function(r,A,aa){r.setTitle(v.get("angle","\u89d2\u5ea6"))};this.protectedWillTransformImpl=function(r,A){A.collectAngleField(r.getAngleSet());A.collectColorField(r.getColorSet())};this.protectedTransformImpl=function(r){var A=[],aa=[];r.popAngleField(A,1);r.popDiscreteColorField(aa,1);1>A.length&&r.popAnyMeasure(A,1);1>aa.length&&r.popAnyDimension(aa,
1);var la=y.protectedCreateModel();r.setupItemModelSet(la.getAngleSet(),A);r.setupItemModelSet(la.getColorSet(),aa);return la};this.protectedCreateModel=function(){throw Error("Override");};this.protectedCreateChartCtrlImpl=function(r,A){return new Vb}}function M(){I.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Pie);y.setIconFileName("chart_pie");y.setText(v.get("chartPie","\u997c\u56fe"));this.createPropertyPane=function(){return new l};this.protectedCreateModel=function(){return new d}}
function ca(){I.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Ring);y.setIconFileName("chart_ring");y.setText(v.get("chartRing","\u73af\u5f62\u56fe"));this.createPropertyPane=function(){return new m};this.protectedCreateModel=function(){return new a}}function ma(){I.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Rose);y.setIconFileName("chart_rose");y.setText(v.get("chartRose","\u73ab\u7470\u56fe"));this.protectedInitFieldCards=function(r,A,aa){r.setTitle(v.get("radius",
"\u534a\u5f84"))};this.createPropertyPane=function(){return new x};this.protectedCreateModel=function(){return new c}}function Ca(){wa.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_KPI);y.setIconFileName("chart_kpi");y.setText(v.get("chartKpi","\u4e1a\u52a1\u6307\u6807"));this.createFieldCards=function(r,A){var aa=new r;aa.setTitle(v.get("primaryKpi","\u4e3b\u6307\u6807"));aa.setItemModelSet(A.getPrimarySet());aa.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));
r=new r;r.setTitle(v.get("secondaryKpi","\u526f\u6307\u6807"));r.setItemModelSet(A.getSecondarySet());r.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return[aa,r]};this.createPropertyPane=function(){return new p};this.protectedWillTransformImpl=function(r,A){A.collectXAxis(r.getPrimarySet());A.collectXAxis(r.getSecondarySet())};this.protectedTransformImpl=function(r){var A=[],aa=[];r.popAnyMeasure(A,1);r.popAnyMeasure(aa);var la=new n;
r.setupItemModelSet(la.getPrimarySet(),A);r.setupItemModelSet(la.getSecondarySet(),aa);return la};this.protectedCreateChartCtrlImpl=function(r,A){r=new Rb;r.setClickableChecker(function(){return A.getChartProperty().getLinkTargets()?!0:!1});return r}}function oa(){wa.call(this);Ba.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Map);y.setIconFileName("chart_map");y.setText(v.get("chartMap","\u5730\u56fe"));this.createFieldCards=function(A,aa){var la=new A;la.setTitle(v.get("dimensionForMap",
"\u5730\u57df"));la.setItemModelSet(aa.getDimensionSet());la.setOperatingPrompt(v.get("dragGeographicFieldHere","\u5c06\u8868\u793a\u5730\u57df\u7684\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));la.setPerfectHeight(100);var Pa=new A;Pa.setTitle(v.get("measureForMap","\u6570\u503c\uff08\u989c\u8272\uff09"));Pa.setItemModelSet(aa.getMeasureSet());Pa.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));Pa.setPerfectHeight(100);A=new A;A.setTitle(v.get("infomation",
"\u8be6\u7ec6\u4fe1\u606f"));A.setItemModelSet(aa.getInfomationSet());A.setPerfectHeight(180);return[la,Pa,A]};this.createPropertyPane=function(){return new t};this.protectedWillTransformImpl=function(A,aa){aa.collectXAxis(A.getDimensionSet());aa.collectColorField(A.getMeasureSet());aa.collectInformationField(A.getInfomationSet())};this.protectedTransformImpl=function(A){var aa=[],la=[];A.popAnyDimension(aa,1);A.popAnyMeasure(la,1);var Pa=[];A.popAnyDimension(Pa);A.popAnyMeasure(Pa);var mb=new ba;
A.setupItemModelSet(mb.getDimensionSet(),aa);A.setupItemModelSet(mb.getMeasureSet(),la);A.setupItemModelSet(mb.getInfomationSet(),Pa);return mb};this.protectedCreateChartCtrlImpl=function(A,aa){return new wb};this.transformToDrillTarget=function(A,aa){return"string"==typeof A?new function(la){this.getValue=function(){return la};this.getText=function(){return la};this.isAsParent=function(){return!1}}(A):null};this.transformToJumpTarget=function(A,aa,la){return null};this.transformToExaminingTarget=
function(A,aa,la){return null};this.customLoading=function(A,aa,la,Pa){var mb=A.getChartProperty();A=function(tb,Eb,Mb){return function(){tb.rtTemplateToRenderAttr(Eb);Mb()}}(mb,la.getAttr(),Pa);mb.askRtTemplateNeedReload(A)?(mb.rtTemplateLoaded(null),(Pa=mb.getOutsideReference())?(aa=aa(function(tb){mb.rtTemplateLoaded(tb)},function(tb,Eb){var Mb={};Mb.content=r(tb+" "+Eb);mb.rtTemplateLoaded(Mb);return!0}),aa.setShowBlocking(!1),aa.loadMapTemplate(Pa)):(aa={},aa.content=r(v.get("chartmapTemplateNeeded",
"\u672a\u8bbe\u7f6e\u5730\u56fe\u6a21\u677f\u3002")),mb.rtTemplateLoaded(aa))):mb.askRtTemplateLoading(A)||Pa()};var r=function(A){var aa=$("<div>"),la=$("<div>");la.css("color","#ccc");la.text(A);la.appendTo(aa);return aa.html()}}function Na(){wa.call(this);Ba.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_GIS);y.setIconFileName("chart_gis");y.setText(v.get("chartGis","GIS\u5730\u56fe"));this.createFieldCards=function(A,aa){var la=r(A,aa.getCoordinateSet(),v.get("longitudeLatitude",
"\u7ecf\u7eac\u5ea6"),v.get("dragLongitudeLatitudeFieldHere","\u5c06\u8868\u793a\u7ecf\u5ea6\u548c\u7eac\u5ea6\u7684\u4e24\u4e2a\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));la.setPerfectHeight(100);var Pa=r(A,aa.getCaptionSet(),v.get("caption","\u540d\u79f0"),v.get("tryDragTextFieldHere","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002")),mb=r(A,aa.getColorSet(),v.get("color","\u989c\u8272"),v.get("tryDragTextFieldHere","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002")),
tb=r(A,aa.getSizeSet(),v.get("size","\u5927\u5c0f"),v.get("tryDragNumberFieldHere","\u5c1d\u8bd5\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));A=r(A,aa.getInfomationSet(),v.get("infomation","\u8be6\u7ec6\u4fe1\u606f"),null);A.setPerfectHeight(180);return[la,Pa,mb,tb,A]};var r=function(A,aa,la,Pa){A=new A;A.setTitle(la);A.setItemModelSet(aa);A.setOperatingPrompt(Pa);A.setPerfectHeight(72);return A};this.smartCreateSquareFieldFromMetaField=function(A,aa,la){return la==aa.getCoordinateSet()&&
A.getDataType()==R.DT_NUMBER?(aa=new X,aa.setMetaField(A),aa.setRole(G.ROLE_DIMENSION),aa.setContinuous(!1),aa):null};this.createPropertyPane=function(){return new u};this.protectedWillTransformImpl=function(A,aa){if(1<A.getCoordinateSet().getItemModelCount()){var la=new S;la.addItemModel(A.getCoordinateSet().goodbyeItemModel(1));aa.collectYAxis(la)}0<A.getCoordinateSet().getItemModelCount()&&(la=new S,la.addItemModel(A.getCoordinateSet().goodbyeItemModel(0)),aa.collectXAxis(la));aa.collectSizeField(A.getSizeSet());
aa.collectColorField(A.getColorSet());aa.collectInformationField(A.getCaptionSet());aa.collectInformationField(A.getInfomationSet())};this.protectedTransformImpl=function(A){var aa=[];A.popXAxisDimension(aa,1);A.popYAxisDimension(aa,1);2>aa.length&&A.popAnyDimension(aa,2);var la=[];A.popDiscreteColorField(la);var Pa=[];A.popSizeField(Pa);var mb=[];A.popAnyDimension(mb,1);var tb=[];A.popAnyDimension(tb);A.popAnyMeasure(tb);var Eb=new ea;A.setupItemModelSet(Eb.getCoordinateSet(),aa);A.setupItemModelSet(Eb.getColorSet(),
la);A.setupItemModelSet(Eb.getSizeSet(),Pa);A.setupItemModelSet(Eb.getCaptionSet(),mb);A.setupItemModelSet(Eb.getInfomationSet(),tb);return Eb};this.protectedCreateChartCtrlImpl=function(A,aa){A=new eb;A.setDesigntimeInitializationChangedListener(function(la,Pa,mb){aa.getChartProperty().setInitialContext(la,Pa,mb)});return A};this.customLoading=function(A,aa,la,Pa){Tb.isServerConfigLoaded()?Pa():(A=aa(function(mb){Tb.setServerConfig(mb.host,mb.path);Pa()}),A.setShowBlocking(!1),A.getGisServerConfig())}}
function Wa(){wa.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Radar);y.setIconFileName("chart_radar");y.setText(v.get("chartRadar","\u96f7\u8fbe\u56fe"));this.protectedCreateChartCtrlImpl=function(r,A){return new Cb};this.protectedWillTransformImpl=function(r,A){A.collectYAxis(r.getMeasureSet());A.collectXAxis(r.getDimensionSet())};this.protectedTransformImpl=function(r){var A=[],aa=[];r.popAnyMeasure(aa);r.popAnyDimension(A,1<aa.length?1:2);var la=new qa;r.setupItemModelSet(la.getDimensionSet(),
A);r.setupItemModelSet(la.getMeasureSet(),aa);return la};this.createFieldCards=function(r,A){var aa=new r;aa.setTitle(v.get("dimensionForRadar","\u7ef4\u5ea6"));aa.setItemModelSet(A.getDimensionSet());aa.setOperatingPrompt(v.get("dragTextFieldHere","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));r=new r;r.setTitle(v.get("measureForRadar","\u5ea6\u91cf"));r.setItemModelSet(A.getMeasureSet());r.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));
return[aa,r]};this.createPropertyPane=function(){return new z}}function Ya(){wa.call(this);this.protectedCreateProgressFieldCards=function(y,r,A){var aa=[],la=new y;la.setTitle(v.get("desiredProgress","\u76ee\u6807\u503c"));la.setItemModelSet(r.getDesired());la.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));aa.push(la);la=new y;la.setTitle(v.get("completedProgress","\u5b9e\u9645\u503c"));la.setItemModelSet(r.getCompleted());la.setOperatingPrompt(v.get("dragNumberFieldHere",
"\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));aa.push(la);if(A!=Ya.CIRCLE){switch(A){case Ya.BAR:var Pa=v.get("yAxis","\u7eb5\u8f74");break;case Ya.COLUMN:Pa=v.get("xAxis","\u6a2a\u8f74")}A=new y;A.setTitle(Pa);A.setItemModelSet(r.getDimension());A.setOperatingPrompt(v.get("dragTextFieldHere","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));aa.unshift(A);y=new y;y.setTitle(v.get("roll","\u94bb\u53d6\u5230"));y.setItemModelSet(r.getRollSet());y.setOperatingPrompt(v.get("tryDragTextFieldHere",
"\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));aa.push(y)}return aa};this.protectedWillTransformImpl=function(y,r){y instanceof jb||r.collectXAxis(y.getDimension());r.collectYAxis(y.getDesired());r.collectYAxis(y.getCompleted())};this.protectedProgressTransformImpl=function(y,r){var A=r instanceof jb,aa=[],la=[],Pa=[];!A&&y.popAnyDimension(aa,1);y.popAnyMeasure(la,1);y.popAnyMeasure(Pa,1);!A&&y.setupItemModelSet(r.getDimension(),aa);y.setupItemModelSet(r.getDesired(),
la);y.setupItemModelSet(r.getCompleted(),Pa);return r}}function Va(){Ya.call(this);Ta.call(this);var y=this.protectedMethod,r=this;y.setName(Z.ChartType_ProgressBar);y.setIconFileName("chart_progresshbar");y.setText(v.get("chartProgressBar","\u6761\u5f62\u8fdb\u5ea6\u56fe"));this.protectedCreateChartCtrlImpl=function(A,aa){return new Bb};this.createFieldCards=function(A,aa){return r.protectedCreateProgressFieldCards(A,aa,Ya.BAR)};this.createPropertyPane=function(){return new g};this.protectedTransformImpl=
function(A){return r.protectedProgressTransformImpl(A,new Aa)}}function N(){Ya.call(this);Ta.call(this);var y=this.protectedMethod,r=this;y.setName(Z.ChartType_ProgressColumn);y.setIconFileName("chart_progressvbar");y.setText(v.get("chartProgressColumn","\u67f1\u5f62\u8fdb\u5ea6\u56fe"));this.protectedCreateChartCtrlImpl=function(A,aa){return new Hb};this.createFieldCards=function(A,aa){return r.protectedCreateProgressFieldCards(A,aa,Ya.COLUMN)};this.createPropertyPane=function(){return new B};this.protectedTransformImpl=
function(A){return r.protectedProgressTransformImpl(A,new Za)}}function za(){Ya.call(this);var y=this.protectedMethod,r=this;y.setName(Z.ChartType_ProgressCircle);y.setIconFileName("chart_progresscircle");y.setText(v.get("chartProgressCircle","\u73af\u5f62\u8fdb\u5ea6\u56fe"));this.protectedCreateChartCtrlImpl=function(A,aa){return new Ob};this.createFieldCards=function(A,aa){return r.protectedCreateProgressFieldCards(A,aa,Ya.CIRCLE)};this.createPropertyPane=function(){return new T};this.protectedTransformImpl=
function(A){return r.protectedProgressTransformImpl(A,new jb)}}function va(){wa.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Dial);y.setIconFileName("chart_dial");y.setText(v.get("chartDial","\u4eea\u8868\u56fe"));this.protectedCreateChartCtrlImpl=function(r,A){return new yb};this.protectedWillTransformImpl=function(r,A){A.collectYAxis(r.getMeasureSet())};this.protectedTransformImpl=function(r){var A=[];r.popAnyMeasure(A,1);var aa=new $a;r.setupItemModelSet(aa.getMeasureSet(),A);return aa};
this.createFieldCards=function(r,A){r=new r;r.setTitle(v.get("pointerValue","\u6307\u9488\u503c"));r.setItemModelSet(A.getMeasureSet());r.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return[r]};this.createPropertyPane=function(){return new Ma}}function Oa(){wa.call(this);Ta.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Composite);y.setIconFileName("chart_composite");y.setText(v.get("chartComposite","\u7ec4\u5408\u56fe"));
this.protectedCreateChartCtrlImpl=function(r,A){return new Lb};this.protectedWillTransformImpl=function(r,A){A.collectXAxis(r.getXAxis());A.collectYAxis(r.getLeftYAxis());A.collectYAxis(r.getRightYAxis());A.collectSeries(r.getLeftSeries());A.collectSeries(r.getRightSeries())};this.protectedTransformImpl=function(r){var A=new sb,aa=[],la=[],Pa=[];r.popYAxisMeasure(la);r.popXAxisDimension(aa,1);r.popSeriesDimension(Pa,1);r.popAnyMeasure(la);1!=r.getRemainDimensionCount()&&1>Pa.length&&r.popDiscreteColorField(Pa,
1);1>aa.length&&r.popAnyDimension(aa,1);1>Pa.length&&r.popAnyDimension(Pa,1);r.setupItemModelSet(A.getXAxis(),aa);1<la.length&&(aa=la.slice(1),la=[la[0]],r.setupItemModelSet(A.getRightYAxis(),aa));r.setupItemModelSet(A.getLeftYAxis(),la);r.setupItemModelSet(A.getLeftSeries(),Pa);return A};this.createFieldCards=function(r,A){var aa=new r;aa.setTitle(v.get("xAxis","\u6a2a\u8f74"));aa.setItemModelSet(A.getXAxis());aa.setOperatingPrompt(v.get("dragTextFieldHere","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));
var la=new r;la.setTitle(v.get("leftYAxis","\u5de6\u8f74"));la.setItemModelSet(A.getLeftYAxis());la.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var Pa=new r;Pa.setTitle(v.get("leftSeries","\u7cfb\u5217\uff08\u5de6\uff09"));Pa.setItemModelSet(A.getLeftSeries());Pa.setOperatingPrompt(v.get("tryDragTextFieldHere","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var mb=new r;mb.setTitle(v.get("rightYAxis",
"\u53f3\u8f74"));mb.setItemModelSet(A.getRightYAxis());mb.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var tb=new r;tb.setTitle(v.get("rightSeries","\u7cfb\u5217\uff08\u53f3\uff09"));tb.setItemModelSet(A.getRightSeries());tb.setOperatingPrompt(v.get("tryDragTextFieldHere","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));r=new r;r.setTitle(v.get("roll","\u94bb\u53d6\u5230"));r.setItemModelSet(A.getRollSet());
r.setOperatingPrompt(v.get("tryDragTextFieldHere","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return[aa,la,Pa,mb,r]};this.createPropertyPane=function(){return new Ia}}function U(){wa.call(this);ta.call(this);this.transformToDrillTarget=function(y,r){return null};this.transformToJumpTarget=function(y,r,A){if(0<=y&&A.isLinkageSupported()){y=r.getModel().getRow(y).getLinkageKeywordValues();var aa=[];A.lookupAllItemModelSet(function(la){la=la.getSquareField();la.isDimension()&&
!la.isInvalid()&&aa.push(la)});return new function(la,Pa){this.getItemCount=function(){return la.length};this.getField=function(mb){return la[mb]};this.getMember=function(mb){return Pa[mb]}}(aa,y)}return null};this.transformToExaminingTarget=function(y,r,A){if(0<=y&&A.isDataExaminingSupported()){y=r.getModel().getRow(y).getLinkageKeywordValues();var aa=[];A.lookupAllItemModelSet(function(Pa){Pa=Pa.getSquareField();Pa.isDimension()&&!Pa.isInvalid()&&aa.push(Pa.getId())});var la=0<aa.length;return new function(Pa,
mb){this.getJson=function(){var tb={};tb.fields=la?Pa:[];tb.values=la?mb:[];return tb}}(aa,y)}return null}}function na(){U.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Grid);y.setIconFileName("chart_grid");y.setText(v.get("chartGrid","\u5217\u8868"));this.protectedCreateChartCtrlImpl=function(r,A){return new Nb};this.createFieldCards=function(r,A){r=new r;r.setTitle(v.get("gridColumnSet","\u5217"));r.setItemModelSet(A.getColumnSet());r.setOperatingPrompt(v.get("dragAnyFieldHere","\u5c06\u4efb\u610f\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));
r.setPerfectHeight(180);return[r]};this.createPropertyPane=function(){return new fa};this.protectedWillTransformImpl=function(r,A){A.collectXAxis(r.getColumnSet())};this.protectedTransformImpl=function(r){var A=[],aa=[];r.popAnyMeasure(A);r.popAnyDimension(aa);var la=new La;r.setupItemModelSet(la.getColumnSet(),aa.concat(A));return la};this.parseJsonChartModel=function(r){r=Ab.createFromJson(r);return 0==r.getColumnCount()?null:r}}function sa(){U.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_CustomList);
y.setIconFileName("chart_customlist");y.setText(v.get("chartCustomList","\u81ea\u5b9a\u4e49\u5217\u8868"));this.protectedCreateChartCtrlImpl=function(r,A){return new bc};this.createFieldCards=function(r,A){r=new r;r.setTitle(v.get("customListFieldSet","\u5b57\u6bb5"));r.setItemModelSet(A.getFieldSet());r.setOperatingPrompt(v.get("dragAnyFieldHere","\u5c06\u4efb\u610f\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));r.setPerfectHeight(180);return[r]};this.createPropertyPane=function(){return new H};this.protectedWillTransformImpl=
function(r,A){A.collectXAxis(r.getFieldSet())};this.protectedTransformImpl=function(r){var A=[],aa=[];r.popAnyMeasure(A);r.popAnyDimension(aa);var la=new Ka;r.setupItemModelSet(la.getFieldSet(),aa.concat(A));return la};this.parseJsonChartModel=function(r){return Ab.createFromJson(r)}}function pa(){wa.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Waterfall);y.setIconFileName("chart_waterfall");y.setText(v.get("chartWaterfall","\u7011\u5e03\u56fe"));this.protectedCreateChartCtrlImpl=function(r,
A){return new Pb};this.createFieldCards=function(r,A){var aa=new r;aa.setTitle(v.get("waterfallMeasure","\u5ea6\u91cf"));aa.setItemModelSet(A.getMeasureSet());aa.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var la=new r;la.setTitle(v.get("waterfallClause","\u6761\u76ee"));la.setItemModelSet(A.getClauseSet());la.setOperatingPrompt(v.get("dragTextFieldHere","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));r=new r;r.setTitle(v.get("waterfallStage",
"\u9636\u6bb5"));r.setItemModelSet(A.getStageSet());r.setOperatingPrompt(v.get("tryDragTextFieldHere","\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return[aa,la,r]};this.createPropertyPane=function(){return new D};this.protectedWillTransformImpl=function(r,A){A.collectYAxis(r.getMeasureSet());A.collectXAxis(r.getClauseSet());A.collectSeries(r.getStageSet())};this.protectedTransformImpl=function(r){var A=[],aa=[],la=[];r.popAnyMeasure(A,1);r.popAnyDimension(aa,1);r.popAnyDimension(la,
1);var Pa=new cb;r.setupItemModelSet(Pa.getMeasureSet(),A);r.setupItemModelSet(Pa.getClauseSet(),aa);r.setupItemModelSet(Pa.getStageSet(),la);return Pa}}function Ra(){wa.call(this);Ta.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Funnel);y.setIconFileName("chart_funnel");y.setText(v.get("chartFunnel","\u6f0f\u6597\u56fe"));this.protectedCreateChartCtrlImpl=function(r,A){return new Ib};this.createFieldCards=function(r,A){var aa=new r;aa.setTitle(v.get("measure","\u5ea6\u91cf"));aa.setItemModelSet(A.getMeasureSet());
aa.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));r=new r;r.setTitle(v.get("dimension","\u7ef4\u5ea6"));r.setItemModelSet(A.getDimensionSet());r.setOperatingPrompt(v.get("dragTextFieldHere","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return[r,aa]};this.createPropertyPane=function(){return new P};this.protectedWillTransformImpl=function(r,A){A.collectSizeField(r.getMeasureSet());A.collectColorField(r.getDimensionSet())};
this.protectedTransformImpl=function(r){var A=[],aa=[];r.popSizeField(A);r.popAnyMeasure(A);r.popDiscreteColorField(aa,1);1>aa.length&&r.popAnyDimension(aa,1);var la=new nb;r.setupItemModelSet(la.getMeasureSet(),A);r.setupItemModelSet(la.getDimensionSet(),aa);return la}}function Y(){wa.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Scatter);y.setIconFileName("chart_scatter");y.setText(v.get("chartScatter","\u6563\u70b9/\u6c14\u6ce1\u56fe"));this.protectedCreateChartCtrlImpl=function(r,
A){return new Kb};this.createFieldCards=function(r,A){var aa=new r;aa.setTitle(v.get("xAxis","\u6a2a\u8f74"));aa.setItemModelSet(A.getXAxisFieldSet());aa.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var la=new r;la.setTitle(v.get("yAxis","\u7eb5\u8f74"));la.setItemModelSet(A.getYAxisFieldSet());la.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var Pa=new r;Pa.setTitle(v.get("size",
"\u5927\u5c0f"));Pa.setItemModelSet(A.getZAxisFieldSet());Pa.setOperatingPrompt(v.get("tryDragNumberFieldHere","\u5c1d\u8bd5\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));var mb=new r;mb.setTitle(v.get("detail","\u7ec6\u5206"));mb.setItemModelSet(A.getCategoryFieldSet());mb.setOperatingPrompt(v.get("dragTextFieldHere","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));r=new r;r.setTitle(v.get("color","\u989c\u8272"));r.setItemModelSet(A.getSeriesFieldSet());r.setOperatingPrompt(v.get("tryDragTextFieldHere",
"\u5c1d\u8bd5\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));return[aa,la,mb,r,Pa]};this.createPropertyPane=function(){return new W};this.protectedWillTransformImpl=function(r,A){A.collectXAxis(r.getXAxisFieldSet());A.collectYAxis(r.getYAxisFieldSet());A.collectSizeField(r.getZAxisFieldSet());A.collectColorField(r.getSeriesFieldSet());A.collectXAxis(r.getCategoryFieldSet())};this.protectedTransformImpl=function(r){var A=[],aa=[],la=[],Pa=[],mb=[];r.popSizeField(la,1);r.popAnyMeasure(A,
1);r.popAnyMeasure(aa,1);0==la.length&&r.popAnyMeasure(la,1);r.popDiscreteColorField(Pa,1);r.popAnyDimension(mb,1);0==Pa.length&&r.popAnyDimension(Pa,1);var tb=new xa;r.setupItemModelSet(tb.getXAxisFieldSet(),A);r.setupItemModelSet(tb.getYAxisFieldSet(),aa);r.setupItemModelSet(tb.getZAxisFieldSet(),la);r.setupItemModelSet(tb.getCategoryFieldSet(),mb);r.setupItemModelSet(tb.getSeriesFieldSet(),Pa);return tb}}function J(){wa.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_RectTree);y.setIconFileName("chart_treemap");
y.setText(v.get("chartRectTree","\u6811\u56fe"));this.protectedCreateChartCtrlImpl=function(r,A){return new cc};this.createFieldCards=function(r,A){var aa=new r;aa.setTitle(v.get("size","\u5927\u5c0f"));aa.setItemModelSet(A.getSizeSet());aa.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));aa.setPerfectHeight(88);var la=new r;la.setTitle(v.get("detail","\u7ec6\u5206"));la.setItemModelSet(A.getDimensionSet());la.setOperatingPrompt(v.get("dragTextFieldHere",
"\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));la.setPerfectHeight(160);r=new r;r.setTitle(v.get("color","\u989c\u8272"));r.setItemModelSet(A.getColorSet());r.setPerfectHeight(88);return[aa,la,r]};this.createPropertyPane=function(){return new gb};this.protectedWillTransformImpl=function(r,A){A.collectXAxis(r.getDimensionSet());A.collectSizeField(r.getSizeSet());A.collectColorField(r.getColorSet())};this.protectedTransformImpl=function(r){var A=[],aa=[],la=[];r.popSizeField(A,1);
0==A.length&&r.popAnyMeasure(A,1);r.popGradualColorField(aa,1);0==aa.length&&r.popDiscreteColorField(aa,1);r.popAnyDimension(la);var Pa=new Ga;r.setupItemModelSet(Pa.getDimensionSet(),la);r.setupItemModelSet(Pa.getSizeSet(),A);r.setupItemModelSet(Pa.getColorSet(),aa);return Pa};this.parseJsonChartModel=function(r){return zb.createFromJson(r)};this.transformToDrillTarget=function(r,A){return null};this.transformToJumpTarget=function(r,A,aa){return null};this.transformToExaminingTarget=function(r,A,
aa){return null}}function ka(){wa.call(this);var y=this.protectedMethod;y.setName(Z.ChartType_Sunburst);y.setIconFileName("chart_sunburst");y.setText(v.get("chartSunburst","\u65ed\u65e5\u56fe"));this.protectedCreateChartCtrlImpl=function(r,A){return new dc};this.createFieldCards=function(r,A){var aa=new r;aa.setTitle(v.get("size","\u5927\u5c0f"));aa.setItemModelSet(A.getSizeSet());aa.setOperatingPrompt(v.get("dragNumberFieldHere","\u5c06\u6570\u503c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));aa.setPerfectHeight(88);
r=new r;r.setTitle(v.get("detail","\u7ec6\u5206"));r.setItemModelSet(A.getDimensionSet());r.setOperatingPrompt(v.get("dragTextFieldHere","\u5c06\u6587\u672c\u5b57\u6bb5\u62d6\u5230\u8fd9\u91cc\u3002"));r.setPerfectHeight(160);return[aa,r]};this.createPropertyPane=function(){return new rb};this.protectedWillTransformImpl=function(r,A){for(var aa=new S,la=new S,Pa=0;Pa<r.getDimensionSet().getItemModelCount();Pa++)(0==Pa?aa:la).addItemModel(r.getDimensionSet().goodbyeItemModel(Pa));A.collectColorField(aa);
A.collectXAxis(la);A.collectSizeField(r.getSizeSet())};this.protectedTransformImpl=function(r){var A=[];r.popSizeField(A,1);0==A.length&&r.popAnyMeasure(A,1);var aa=[];r.popDiscreteColorField(aa,1);r.popAnyDimension(aa);var la=new lb;r.setupItemModelSet(la.getDimensionSet(),aa);r.setupItemModelSet(la.getSizeSet(),A);return la};this.parseJsonChartModel=function(r){return zb.createFromJson(r)};this.transformToDrillTarget=function(r,A){return null};this.transformToJumpTarget=function(r,A,aa){return null};
this.transformToExaminingTarget=function(r,A,aa){return null}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.square&&(com.kingdee.bos.qing.square={});"undefined"==typeof com.kingdee.bos.qing.square.ui&&(com.kingdee.bos.qing.square.ui={});var V=com.kingdee.bos.qing.square.ui,v,R,G,Z,X,S,n,d,a,c,b,
e,f,k,h,q,w,F,O,ba,ea,qa,Aa,Za,jb,sb,La,Ka,cb,nb,xa,$a,Ga,lb,ub,Ab,zb,Rb,Vb,Wb,Xb,Zb,Qa,ab,db,ib,ob,qb,wb,eb,Cb,Bb,Hb,Ob,Lb,Nb,bc,Pb,Ib,Kb,yb,cc,dc,Tb,xb=V.XSYNPropertyPane,ec=V.YSXNPropertyPane,Ub=V.XSYNPropertyPaneForStacked,kc=V.XSYNPropertyPaneForPercentStacked,hc=V.YSXNPropertyPaneForStacked,nc=V.YSXNPropertyPaneForPercentStacked,$b=V.LineChartPropertyPane,ha=V.AreaChartPropertyPane,l=V.PieChartPropertyPane,m=V.RingChartPropertyPane,x=V.RoseChartPropertyPane,p=V.KPIChartPropertyPane,t=V.MapChartPropertyPane,
u=V.GISChartPropertyPane,z=V.RadarChartPropertyPane,g=V.ProgressBarChartPropertyPane,B=V.ProgressColumnChartPropertyPane,T=V.ProgressCirclePropertyPane,Ia=V.CompositeChartPropertyPane,fa=V.GridChartPropertyPane,H=V.CustomListChartPropertyPane,D=V.WaterfallChartPropertyPane,P=V.FunnelChartPropertyPane,W=V.ScatterChartPropertyPane,Ma=V.DialChartPropertyPane,gb=V.RectTreeChartPropertyPane,rb=V.SunburstChartPropertyPane;(function(){var y=com.kingdee.bos.qing.framework.common;v=y.MultilanguageManager.createPackageAccessor(V);
y=com.kingdee.bos.qing.core.model;R=y.MetaField;G=y.AbstractAnalyticalField;y=com.kingdee.bos.qing.square.model;Z=y.SquareModel;X=y.SquareField;S=y.ItemModelSet;n=y.ChartKPI;d=y.ChartPie;a=y.ChartRing;c=y.ChartRose;b=y.ChartColumn;e=y.ChartStackColumn;f=y.ChartPercentStackColumn;k=y.ChartBar;h=y.ChartStackBar;q=y.ChartPercentStackBar;w=y.ChartLine;F=y.ChartArea;O=y.ChartPercentArea;ba=y.ChartMap;ea=y.ChartGIS;qa=y.ChartRadar;Aa=y.ChartProgressBar;Za=y.ChartProgressColumn;jb=y.ChartProgressCircle;
sb=y.ChartComposite;La=y.ChartGrid;Ka=y.ChartCustomList;cb=y.ChartWaterfall;nb=y.ChartFunnel;xa=y.ChartScatter;$a=y.ChartDial;Ga=y.ChartRectTree;lb=y.ChartSunburst;y=com.kingdee.bos.qing.chart.model;ub=y.NormalChartModel;Ab=y.GridChartModel;zb=y.TreeChartModel;y=com.kingdee.bos.qing.chart.square;Rb=y.KPICardChart;Vb=y.PieChart;Wb=y.ColumnChart;Xb=y.BarChart;Zb=y.StackedColumnChart;Qa=y.PercentStackedColumnChart;ab=y.StackedBarChart;db=y.PercentStackedBarChart;ib=y.LineChart;ob=y.AreaChart;qb=y.PercentAreaChart;
wb=y.MapChart;eb=y.GISChart;Cb=y.RadarChart;Bb=y.ProgressBarChart;Hb=y.ProgressColumnChart;Ob=y.ProgressCircleChart;Lb=y.CompositeChart;Nb=y.GridChart;bc=y.CustomListChart;Pb=y.WaterfallChart;Ib=y.FunnelChart;Kb=y.ScatterChart;yb=y.DialChart;cc=y.RectTreeChart;dc=y.SunburstChart;y=com.kingdee.bos.qing.chart.gis;Tb=y.GISChartGlobal})();V.ChartTypeFactory=new function(){var y,r={},A=function(){if(!y){var aa=[na,sa,Ca,hb,K,ya,ja,ua,C,L,da,ia,N,Va,za,Oa,pa,Ra,M,ca,ma,ka,J,va,Wa,oa,Na,Y];y=[];for(var la=
0;la<aa.length;la++){var Pa=new aa[la];y[la]=Pa;r[Pa.getName()]=Pa}}};this.getInstance=function(aa){A();aa=r[aa];if(!aa)throw Error("Unknown chart type.");return aa};this.getAllInstance=function(){A();return y.slice(0)}};Ya.BAR="bar";Ya.COLUMN="column";Ya.CIRCLE="circle"})();(function(){function wa(v,R){this.getChartTypeName=function(){return v};this.getLegendModel=function(){return R}}function Ta(){var v=this,R,G,Z,X,S,n,d,a,c,b,e,f,k,h,q,w,F,O,ba;this.destroy=function(){v.setRollOutHandler(null);d=n=h=f=e=null};this.setAppointedSize=function(Qa,ab){q=Qa;w=ab};this.setTooltipsWidget=function(Qa){c=Qa};this.getTooltipsWidget=function(){c||(c=V);return c};var ea=function(){b||(b=new hb);return b};this.setPredrawListener=function(Qa){e=Qa};this.setSelectionListener=function(Qa){f=
Qa};var qa=function(Qa,ab,db){f&&f(Qa,ab,db)};this.setRollOutHandler=function(Qa){var ab={getRollInState:function(){return S}};ab.lookupRolledInField=Ka;ab.getCommandManager=v.getCommandManager;ab.getOperatingMenu=xa;ab.decorateCrumb=jb;k&&k.bindDependence(null);(k=Qa)&&k.bindDependence(ab)};var Aa=function(){k||v.setRollOutHandler(new ya);return k};this.setCosmeticHandler=function(Qa){h=Qa};this.setCommandManager=function(Qa){n=Qa};this.getCommandManager=function(){null==n&&(n=new Ra);return n};
this.setContextApi=function(Qa){d=Qa};this.setModel=function(Qa,ab){X=ab;S=X.getRollInState();ba=Z=G=null;if(Qa){ab=Qa.chartType;var db=Qa.chart,ib=Qa.legends,ob=Qa.dataEmpty?!0:!1,qb=Qa.basicInsights;Z=Qa.warning;Qa=null;if(ib){var wb=ib.discreteColor;if(wb){var eb=wb.colors,Cb=wb.texts,Bb=wb.captions;wb=wb.others;Qa=new U;Qa.prepare(eb,Cb,Bb,wb);Qa.setAdditionalText(Ca.get("itemsAndSoOn","\u5176\u5b83#1\u9879"))}(ib=ib.continuousColor)&&(Qa=Va.parseContontinuousColorLegendModel(ib))}ib=Qa;R=ka.getInstance(ab);
if(db=R.parseJsonChartModel(db))G=R.createChartCtrl(db,X),G.setLegendModel(ib),G.setTooltipsListener(sb),ob||(G.setClickListener(lb),G.isSelectionSupported()&&G.setSelectionListener(qa)),G.getAttr().setDataEmpty(ob);v.reset(X.getChartProperty());qb&&(ba=new ia,ba.basicFromJsonObject(qb));return new wa(ab,ib)}return null};this.createChartInfoUi=function(Qa,ab,db,ib,ob){return{createJqUi:function(){var qb=new ua;qb.setTitle(Ca.get("chartInfo","\u56fe\u8868\u4fe1\u606f"));qb.setClosingActor(ab);db&&
qb.setSizeSuggester(ib,ob,db);return qb.createJqUi(d.getSquareModel(),Qa)}}};this.createInsightUi=function(Qa,ab,db,ib){return{createJqUi:function(){var ob=new C;ob.setTitle(Ca.get("insight","\u6d1e\u5bdf"));ob.setClosingActor(Qa);ab&&ob.setSizeSuggester(db,ib,ab);return ob.createJqUi(v,ba)}}};this.createInsightContentMaker=function(){return ba?new da(v,ba):null};this.reset=function(Qa){G&&Qa.toRenderAttr(G.getAttr());F=h?h(G):null};this.drawChart=function(Qa,ab){if(d){v.getTooltipsWidget().hide();
for(var db=!1,ib=Qa.children(),ob=0;ob<ib.length;ob++){var qb=ib.eq(ob);a&&a[0]==qb[0]?db=!0:qb.remove()}db||(a=$("<div>"),a.appendTo(Qa),M.layoutCtrlWithLRTB(a,0,0,null,0,0,null));G?(G.isErasingWhenRedraw()&&a.empty(),R.customLoading(X,d.createFacade,G,function(){e&&e(G);G.setMouseStateLocked(!1);G.getAttr().setReserveRollOutSpace(Aa().isRollOutEnabled());var wb=q?q:a.innerWidth(),eb=w?w:a.innerHeight();G.draw(a[0],wb,eb)})):(a.empty(),db=$("<div>"),db.addClass("square-exhibition-nothing"),db.text(ab),
db.appendTo(Qa));Z&&Za(Qa,Z);Aa().paint(Qa);xa().abandon();xa().setJqParent(Qa);xa().setBeforeSlideListener(function(){G.setMouseStateLocked(!0);v.getTooltipsWidget().hide()});xa().setAfterSlideListener(function(){G.setMouseStateLocked(!1)})}};var Za=function(Qa,ab){var db=$("<div>");db.text(ab);db.attr("title",ab);db.css("z-index","65535");db.addClass("square-exhibition-nodata");jb(db,Ta.STYLE_PROMPTLABEL_COLOR,null,Ta.STYLE_PROMPTLABEL_FONTSIZE_ENHANCED);db.appendTo(Qa)},jb=function(Qa,ab,db,ib){ab=
F?F[ab]:null;!ab&&(ab=db);ab&&Qa.css("color",ab);(db=F?F[ib]:null)&&Qa.css("fontSize",100+10*parseInt(db)+"%")},sb=function(Qa,ab,db,ib){ib?db?(db=La(db),ea().bindAssociatedChart(a,G),ea().setContent(db),ea().show(Qa,ab)):ea().hide():(ib=v.getTooltipsWidget(),db?(db=La(db),ib.bindAssociatedChart(a,G),ib.setContent(db),ib.show(Qa,ab)):ib.hide())},La=function(Qa){var ab;if(S)for(var db=S.getItemCount()-1;0<=db;db--){var ib=Ka(db);if(ib){var ob=S.getItem(db);if(!ob.isPcdNextLevel()){var qb={};qb.key=
ib.getTextForExhibition();qb.value=ob.getTextByIndex(ob.getValueCount()-1);!ab&&(ab=Qa.slice(0));ab.splice(0,0,qb)}}}!ab&&(ab=Qa);return ab},Ka=function(Qa){return X.lookupRolledInField(Qa)},cb=function(Qa){return Qa?(Qa=Ka(S.getCurrentRollInFieldCount()))&&Qa.getMetaField().isParentChildDimension():!1},nb=function(){var Qa=X.getChartProperty().getLinkTargets();return Qa&&0<Qa.getRunnableItems().length},xa=function(){O||(O=new Da);return O},$a=function(Qa,ab,db){xa().slide(ab,function(ib){switch(ib){case 1:Qa.confirmExamining();
xa().abandon();break;case 2:Qa.confirmDrilling();break;case 3:Qa.confirmSelecting();xa().abandon();break;case 4:Qa.confirmJumping();break;default:return}db()})},Ga=function(){var Qa=X.getChartProperty().getLinkTargets().getRunnableItems();return[Wb(Qa),4]},lb=function(Qa,ab,db){Qa=!1;X.isDataExaminingSupported()&&X.getChartProperty().isDataDetailExamining()&&(Qa=R.transformToExaminingTarget(db,G,X)?!0:!1);var ib=!1;ab=null;var ob=!1,qb=!1;X.isRollInSupported()&&(ob=(ib=(ab=R.transformToDrillTarget(db,
G))?!0:!1)&&cb(ab.isAsParent()),qb=X.isRollInFieldSupported()&&S.isRollInNextFieldEnabled(),ib=ib&&(qb||ob));var wb=!1;za.isRuntimeSupported()&&X.isLinkageSupported()&&nb()&&(wb=R.transformToJumpTarget(db,G,X)?!0:!1);var eb=!1;G.isSelectionSupported()&&G.isSelectable()&&(eb=!qb);var Cb=(Qa?1:0)+(ib?1:0)+(wb?1:0)+(eb?1:0),Bb=new ta;1<Cb?(Cb=[],Qa&&Cb.push([Ca.get("dataExamining","\u67e5\u770b\u660e\u7ec6"),1]),ib&&Cb.push([zb(ob,qb,ab),2]),eb&&Cb.push([R.isSelected(db,G)?Ca.get("affectionCancel","\u53d6\u6d88\u8054\u52a8"):
Ca.get("affectionConfirm","\u8054\u52a8"),3]),wb&&Cb.push(Ga()),$a(Bb,Cb,function(){ub(Bb,db)})):(Qa&&Bb.confirmExamining(),ib&&Bb.confirmDrilling(),eb&&Bb.confirmSelecting(),wb&&Bb.confirmJumping(),ub(Bb,db))},ub=function(Qa,ab){if(Qa.isExaminingConfirmed())Qa=R.transformToExaminingTarget(ab,G,X),Ab(Qa);else if(Qa.isDrillingConfirmed())Qa=R.transformToDrillTarget(ab,G),Rb(Qa);else if(Qa.isSelectingConfirmed())R.select(ab,G),va.occur(va.SQUARE_AFFECTION,1);else if(Qa.isJumpingConfirmed()){Qa=new Ba;
ab=R.transformToJumpTarget(ab,G,X);for(var db=ab.getItemCount(),ib=0;ib<db;ib++){var ob=ab.getField(ib),qb=ab.getMember(ib);Qa.addItem(ob,qb)}Xb(Qa)}},Ab=function(Qa){var ab=d.getMeta(),db=d.getSquareModel(),ib=d.getJsonAdditionalFieldNames(),ob=d.getJsonAdditionalFilters(),qb=new pa;qb.setContext(ab,db,ib,ob,d.createFacade,function(wb){wb(!1)});qb.setEncodedCoordinateGetter(function(){return JSON.stringify(Qa.getJson())});qb.showDialog()},zb=function(Qa,ab,db){if(Qa&&ab)return Ca.get("drillDown",
"\u5411\u4e0b\u94bb\u53d6")+"...";if(Qa)return Qa=Ka(S.getCurrentRollInFieldCount()),ab=Ca.get("drillDownPcd","\u94bb\u53d6\u5230#1\u201c#2\u201d\u7684\u4e0b\u4e00\u5c42\u7ea7"),ab=ab.replace("#1",Qa.getComplexText()),ab=ab.replace("#2",db.getText());if(ab)return Qa=Ka(S.getCurrentRollInFieldCount()+1),db=Ca.get("drillDownField","\u94bb\u53d6\u5230#1"),db=db.replace("#1",Qa.getComplexText());throw Error("Impossible");},Rb=function(Qa){var ab=Qa.getValue(),db=Qa.getText(),ib=Qa.isAsParent(),ob=cb(ib);
ib=X.isRollInFieldSupported()&&S.isRollInNextFieldEnabled();var qb=Ka(S.getCurrentRollInFieldCount());ob&&ib?(ob=zb(ob,!1,Qa),Qa=zb(!1,ib,Qa),Qa=[[ob,1],[Qa,2]],xa().slide(Qa,function(wb){switch(wb){case 1:Vb(qb,ab,db,!0);break;case 2:Vb(qb,ab,db,!1)}})):Vb(qb,ab,db,ob)},Vb=function(Qa,ab,db,ib){var ob=new Y;ob.setValue(Qa,S,ab,db,ib);v.getCommandManager().perform(ob);va.occur(va.SQUARE_DRILLDOWN,1)},Wb=function(Qa,ab){if(void 0===ab){if(1<Qa.length)return Ca.get("linkageJumper","\u8054\u67e5")+"...";
ab=0}return Oa.makeItemDisplay(Qa[ab])},Xb=function(Qa){var ab=X.getChartProperty().getLinkTargets().getRunnableItems();if(1<ab.length){for(var db=[],ib=0;ib<ab.length;ib++){var ob=Wb(ab,ib);db.push([ob,ib])}xa().slide(db,function(qb){null!==qb&&Zb(ab[qb],Qa)})}else Zb(ab[0],Qa)},Zb=function(Qa,ab){xa().sayGoodbye(Ca.get("linkageJumper","\u8054\u67e5")+"...",6E4);var db=d.getJsonAdditionalFieldNames(),ib=d.getJsonAdditionalFilters(),ob=[Qa.getForeignKey()];db&&(ob=ob.concat(db));db=d.getDependentMeta(ob);
ob=d.getSquareModel();ab=Oa.makeJsonSquareClickedContext(ab);Oa.jumpToListUi(Qa,ab,d.createFacade,db,ob,ib,function(qb,wb){xa().sayGoodbye(qb,!1===wb?8E3:5E3)},function(qb,wb){var eb=new Na;eb.setText(qb);eb.setConfirmedListener(function(Cb){wb(!1)});eb.setSecondRelatedYGetter(function(Cb){return parseInt(.1*Cb.outerHeight())});eb.show(a,!0)});va.occur(va.SQUARE_NAVIGATETO,Qa.getUsableDisplayName())};this.makeBasicInsight=function(Qa){var ab=d.getDependentMeta(),db=d.getSquareModel(),ib=d.getJsonAdditionalFilters();
d.createFacade(function(ob){ba.basicFromJsonObject(ob);Qa()},function(ob,qb,wb){ba.basicFromJsonObject({});Qa(ob,qb)}).makeBasicInsight(ab,db,null,ib)};this.makeAdvancedInsight=function(Qa){var ab=d.getDependentMeta(),db=d.getSquareModel(),ib=d.getJsonAdditionalFilters();d.createFacade(function(ob){ba.advancedFromJsonObject(ob);Qa()},function(ob,qb,wb){ba.advancedFromJsonObject({});Qa(ob,qb)}).makeAdvancedInsight(ab,db,null,ib)}}function Ba(){function v(G,Z){var X=G.getMetaField().getFullName(),S=
G.getPartValue();this.toJsonObject=function(){var n={};n.fieldName=X;n.partValue=S;n.value=Z;return n}}var R=[];this.addItem=function(G,Z){R.push(new v(G,Z))};this.toJsonObject=function(){for(var G=[],Z=0;Z<R.length;Z++)G.push(R[Z].toJsonObject());Z={};Z.items=G;return Z}}function ta(){var v=!1,R=!1,G=!1,Z=!1;this.confirmExamining=function(){v=!0};this.isExaminingConfirmed=function(){return v};this.confirmDrilling=function(){R=!0};this.isDrillingConfirmed=function(){return R};this.confirmSelecting=
function(){G=!0};this.isSelectingConfirmed=function(){return G};this.confirmJumping=function(){Z=!0};this.isJumpingConfirmed=function(){return Z}}function Da(){var v=this,R,G,Z,X,S,n,d;this.setJqParent=function(f){R=f};this.setBeforeSlideListener=function(f){S=f};this.setAfterSlideListener=function(f){n=f};this.slide=function(f,k){S&&S();Z&&a(Z);f=Z=b(f,k);k=R.prop("clientWidth");var h=R.prop("clientHeight"),q=Math.min(240,parseInt(.9*k)),w=parseInt(.9*h);M.layoutCtrl(f,0,0,q,0);f.appendTo(c());for(var F=
q=0,O=X.children(),ba=0;ba<O.length;ba++){var ea=$(O[ba]),qa=ea.width();ea=ea.outerWidth(!0);q=Math.max(q,qa);F=Math.max(F,ea)}f.css("width",F);for(ba=0;ba<O.length;ba++){ea=$(O[ba]);ea.css("width",q);var Aa=ea.prop("offsetTop")+ea.prop("offsetHeight")}Aa=Math.min(w,X.prop("offsetTop")+Aa+8);w=parseInt(.5*(k-F));h=parseInt(.5*(h-Aa));M.layoutCtrl(f,k,h,F,Aa);f.animate({left:w},250)};this.abandon=function(){G&&G.remove();Z=G=null};this.sayGoodbye=function(f,k){Z&&a(Z);clearTimeout(d);var h=R.find(".square-exhibition-menu-bye");
if(0==h.length){var q=R.prop("clientWidth");h=$("<div>");h.addClass("square-exhibition-menu-bye");M.layoutCtrl(h,q,"40%","100%",20);h.appendTo(c());h.animate({left:0},500)}h.text(f);d=setTimeout(v.abandon,k?k:5E3)};var a=function(f,k){var h=0-f.prop("offsetWidth");f.animate({left:h},250,function(){f.remove();k&&k()})},c=function(){G||(G=$("<div>"),G.css("background-color","rgba(0,0,0,0.001)"),G.appendTo(R),M.layoutCtrlWithLRTB(G,0,0,null,0,0,null));return G},b=function(f,k){var h=$("<div>");h.css("z-index",
8);h.addClass("square-exhibition-menu");var q=$("<div>");q.text("\u00d7");q.addClass("square-exhibition-menu-close");q.on("click",function(ba){a(h,v.abandon);e(null,k,null)()});q.appendTo(h);M.layoutCtrlWithLRTB(q,null,0,20,0,null,20);X=$("<div>");X.css({"overflow-x":"hidden","overflow-y":"auto"});X.appendTo(h);M.layoutCtrlWithLRTB(X,0,0,null,16,8,null);for(q=0;q<f.length;q++){var w=f[q][0],F=f[q][1],O=$("<div>");O.css({position:"relative",display:"inline-block"});O.addClass("square-exhibition-menu-item");
O.text(w);O.on("click",e(O,k,F));O.appendTo(X)}return h},e=function(f,k,h){return function(q){f&&f.addClass("square-exhibition-menu-item_selected");n&&n();k(h)}}}function Ha(){this.bindAssociatedChart=function(v,R){};this.setContent=function(v){throw Error("Override");};this.show=function(v,R){throw Error("Override");};this.hide=function(){throw Error("Override");}}function fb(){Ha.call(this);var v=this,R,G=null,Z=!1,X=!1,S=function(){R||(R=$("<div>"),R.addClass("square-tooltips"),R.css("display",
"none"),v.protectedInitUi(R))};this.protectedInitUi=function(a){throw Error("Implement");};this.protectedGetJqOwner=function(){throw Error("Implement");};this.protectedTransformXY=function(a,c){return[a,c]};this.setDumb=function(a){(X=a)&&R&&v.hide()};this.show=function(a,c){S();if(!X){var b=v.protectedTransformXY(a,c);a=b[0];c=b[1];b=v.protectedGetJqOwner();var e=b.prop("clientWidth"),f=b.prop("clientHeight");R.css("max-width",.8*e);R.css("max-height",.8*f);var k=R.outerWidth(),h=R.outerHeight();
b=a+15;var q=c+10,w=-1,F=-1,O=-1,ba=-1;q+h>f&&(ba=q+h-f,F=f-h,c=c-10-h,0>c?(c=-c,c<ba&&(ba=c,F=0)):(ba=-1,F=c));b+k>e&&(O=b+k-e,w=e-k,a=a-15-k,0>a?(a=-a,a<O&&(O=a,w=0)):(O=-1,w=a));0<O&&0<ba?.5*O>ba?(b=w,q=0==F?-ba:F+ba):(b=0==w?-O:w+O,q=F):(b=0>w?b:w,q=0>F?q:F);"block"==R.css("display")?(G=[b,q],d()):(R.css("left",b),R.css("top",q),R.css("display","block"))}};this.hide=function(){G=null;R&&R.css("display","none")};this.setContent=function(a){S();R.empty();var c=$("<table>");c.css("margin",6);for(var b=
0;b<a.length;b++){var e=a[b],f=e.key,k=e.value,h=e.ratio,q=e.color,w=e.lineIconStyle;e=$("<tr>");var F=$("<td>");F.addClass("square-tooltips-title");if(q){if(w){w=document.createElement("canvas");w.width=8;w.height=8;var O=$(w);O.addClass("square-tooltips-title-color");O.appendTo(F);w=w.getContext("2d");w.fillStyle=q;w.strokeStyle=q;w.lineWidth=2;w.beginPath();w.moveTo(0,4);w.lineTo(8,4);w.stroke();w.arc(4,4,2.2,0,2*Math.PI);w.fill()}else w=$("<span>"),w.addClass("square-tooltips-title-color"),w.css("background-color",
q),w.appendTo(F);w=$("<span>");w.addClass("square-tooltips-title-text");w.text(f);w.appendTo(F)}else F.text(f+(f?":":""));e.append(F);f=$("<td>");f.addClass("square-tooltips-value");q&&f.css("text-align","right");f.text(k);e.append(f);h?(k=$("<td>"),k.addClass("square-tooltips-value"),k.css("padding-left","4px"),k.css("text-align","right"),k.text(h),e.append(k)):f.attr("colspan",2);c.append(e)}c.appendTo(R)};var n=function(){var a=null;G&&(a=G,G=null);return a},d=function(){if(!Z){var a=n();a&&(Z=
!0,R.stop(),R.animate({left:a[0],top:a[1]},150,function(){Z=!1;d()}))}}}function hb(){fb.call(this);var v,R;this.bindAssociatedChart=function(G,Z){R=G;v&&!M.isInDomTree(v[0])&&v.appendTo(R)};this.protectedInitUi=function(G){v=G;v.appendTo(R)};this.protectedGetJqOwner=function(){return R};this.protectedTransformXY=function(G,Z){var X=M.upwardCoordinate(R[0],[0,0],document.body);return[G-X[0],Z-X[1]]}}function K(){var v;this.paint=function(Z){};this.bindDependence=function(Z){v=Z};var R=function(){return v.getRollInState()},
G=function(Z){return v.lookupRolledInField(Z)};this.isRollOutEnabled=function(){var Z=R();return Z?Z.isRollOutEnabled():!1};this.protectedMethod={performRollOutAction:function(Z,X){var S=R();"undefined"==typeof Z&&(Z=S.getItemCount()-1);"undefined"==typeof X&&(X=S.getItem(S.getItemCount()-1).getValueCount()-1);var n=G(Z),d=new J;d.setValue(n,S,Z,X);v.getCommandManager().perform(d)},getRollInState:R,lookupRolledInField:G,getOperatingMenu:function(){return v.getOperatingMenu()},decorateCrumb:function(Z,
X,S,n){v.decorateCrumb(Z,X,S,n)}}}function ya(){K.call(this);var v=this,R=this.protectedMethod,G,Z,X,S=!1,n,d;this.paint=function(h){if(v.isRollOutEnabled()){var q=ca.createCanvas();G=ca.createContext2d(q,32,32);q=$(q);M.layoutCtrl(q,0,0,32,32);q.appendTo(h);Z=$("<div>");Z.css({"line-height":"18px",overflow:"hidden"});R.decorateCrumb(Z,Ta.STYLE_CRUMB_COLOR,"#999",Ta.STYLE_CRUMB_FONTSIZE_ENHANCED);n=Z.css("color");d=ma.isTheSame(n,"#999")?null:n;M.layoutCtrlWithLRTB(Z,28,0,null,0,null,18);Z.appendTo(h);
X=[];h="";for(var w=R.getRollInState(),F=0;F<w.getItemCount();F++){0<F&&(h+=" > ");for(var O=w.getItem(F),ba=0;ba<O.getValueCount();ba++){0<ba&&(h+=" > ");var ea=O.getTextByIndex(ba);if(!ea){ea=(ea=R.lookupRolledInField(F+1))?ea.getComplexText():"";var qa=0<ba?O.getTextByIndex(ba-1):"";ea+=qa}h+=ea;X.push([ea,F,ba])}}for(F=X.length-1;0<=F;F--)w=X[F],O=0==F?Ca.get("drillUpToTop","\u8fd4\u56de\u5230\u9876\u5c42"):X[F-1][0],w[0]=O;F=$("<span>");F.text(h);F.css({"white-space":"nowrap"});F.appendTo(Z);
h=F.parent().prop("clientWidth");ea=F.prop("offsetWidth");if(ea>h){w=F.text();O=w.length;ba=Math.ceil(w.length*h/ea);do ba--,ea="..."+w.substring(O-ba),F.text(ea),ea=F.prop("offsetWidth");while(ea>h&&0<=ba)}a(q);a(F);f()}};var a=function(h){h.css({cursor:"pointer"});h.attr("title",Ca.get("drillUp","\u8fd4\u56de"));h.on("click",c);h.on("mouseenter",b);h.on("mouseleave",e)},c=function(h){k(G,"rgba(120,180,240,0.5)","#f09040");Z.css("color","#f09040");if(1==X.length)setTimeout(function(){R.performRollOutAction()},
175);else{S=!0;setTimeout(function(){S=!1;f()},225);h=[];for(var q=0;q<X.length;q++)h.push([X[q][0],q]);R.getOperatingMenu().slide(h,function(w){"number"==typeof w&&(w=X[w],R.performRollOutAction(w[1],w[2]));R.getOperatingMenu().abandon()})}},b=function(h){k(G,"rgba(120,180,240,0.25)","#00a0d1");Z.css("color","#00a0d1")},e=function(h){!S&&f()},f=function(){k(G,"rgba(120,180,240,0.15)",d||"rgba(64,128,240,0.6)");Z.css("color",n)},k=function(h,q,w){h.clearRect(0,0,h.canvas.width,h.canvas.height);h.fillStyle=
q;h.beginPath();h.moveTo(0,0);h.arc(0,0,32,0,.5*Math.PI);h.closePath();h.fill();h.fillStyle=w;h.beginPath();h.moveTo(13,4);h.lineTo(3,13);h.lineTo(9,13);h.lineTo(9,20);h.lineTo(17,20);h.lineTo(17,13);h.lineTo(23,13);h.closePath();h.fill()}}function ja(){var v,R,G,Z;this.setTitle=function(S){v=S};this.setSizeSuggester=function(S,n,d){R=[S,n,d]};this.setClosingActor=function(S){G=S};var X=function(){var S=$("<div>");S.css({"border-left":"1px solid #808080","transform-origin":"left top",transform:"rotate(-45deg)"});
M.layoutCtrlWithLRTB(S,0,null,"141%",0,null,"141%");var n=$("<div>");n.css({"border-right":"1px solid #808080","transform-origin":"right top",transform:"rotate(45deg)"});M.layoutCtrlWithLRTB(n,null,0,"141%",0,null,"141%");var d=$("<div>");d.css({overflow:"hidden"});d.append(S);d.append(n);M.layoutCtrlCenterAlign(d,12);M.layoutCtrlMiddleAlign(d,12);S=$("<div>");S.css({cursor:"pointer"});S.append(d);return S};this.protectedMethod={createSimilarDialog:function(S){Z=function(){S.appendTo(a);M.layoutCtrlWithLRTB(S,
10,4,null,32,4,null);return[14,36]};var n=$("<div>");n.css({"font-size":"16px","font-weight":"bold","line-height":"24px"});n.text(v);var d=X();d.on("click",function(c){G()});var a=$("<div>");a.append(n);a.append(d);M.layoutCtrlWithLRTB(n,10,10,null,4,null,28);M.layoutCtrlWithLRTB(d,null,6,16,6,null,16);Z();return a},appendAction:function(S,n,d,a){var c=6+30*(S.children(".q-sys-action").length+1),b=$("<div>");N.background(b,n);M.layoutCtrlCenterAlign(b,12);M.layoutCtrlMiddleAlign(b,12);n=$("<div>");
n.addClass("q-sys-action");n.css({cursor:"pointer"});n.attr("title",d);n.on("click",function(e){a($(e.target))});M.layoutCtrlWithLRTB(n,null,c,16,6,null,16);n.append(b);S.append(n)},resize:function(S){if(R){var n=R[0],d=R[1],a=R[2],c=S.prop("scrollTop");S.appendTo($(document.body));S.css({"max-width":n+"px","max-height":d+"px"});M.layoutCtrlWithLRTB(S,-1E4,"","auto",-1E4,"","auto");n=S.prop("offsetWidth");d=S.prop("offsetHeight");var b=Z();c&&S.prop("scrollTop",c);a(n+b[0],d+b[1])}},createTitle:function(S,
n,d){var a=$("<div>");a.text(n);a.css({position:"relative","margin-top":"4px","font-weight":"bold","line-height":"24px"});d&&a.css(d);S.append(a);return a},createLine:function(S,n){var d=$("<div>");d.css({position:"relative","margin-bottom":"4px","padding-left":"12px","line-height":"24px"});n&&d.css(n);S.append(d);return d},createListLine:function(S,n){var d=$("<li>");d.css({position:"relative","padding-left":"4px","line-height":"24px"});n&&d.css(n);S.append(d);return d},createSpan:function(S,n,d){var a=
$("<span>");a.text(n);d&&a.css(d);S.append(a);return a}}}function ua(){function v(){var G,Z;this.setTitle=function(X){G=X};this.getTitle=function(){return G};this.setItemModelSet=function(X){Z=X};this.getItemModelSet=function(){return Z};this.setOperatingPrompt=function(){};this.setPerfectHeight=function(){}}ja.call(this);var R=this.protectedMethod;this.createJqUi=function(G,Z){var X=$("<div>");X.css({overflow:"auto",color:"#333","font-size":"14px"});for(var S=ka.getInstance(G.getChartTypeName()).createFieldCards(v,
G.getChart()),n=0;n<S.length;n++){var d=S[n],a=d.getTitle();d=d.getItemModelSet();var c=0==d.getItemModelCount();if(!c||0!=d.getItemCountMin()){R.createTitle(X,a);var b=R.createLine(X);c?R.createSpan(b,""):d.traversalItems(function(e){e=e.getSquareField();R.createSpan(b,e.getTextTooltips(),{"margin-right":"8px"})})}}G=G.getFilterSet();0!=G.getItemModelCount()&&(R.createTitle(X,Ca.get("filterCardTitle","\u7b5b\u9009\u5668")),G.traversalItems(function(e){var f=e.getSquareField(),k=e.getUsableFilter(),
h=R.createLine(X);e.isOutsideAllowed()&&(e=R.createSpan(h,""),M.layoutCtrl(e,0,6,12,12),N.background(e,"icon_extra_filter"));R.createSpan(h,f.getTextTooltips());R.createSpan(h,na.getFilterDisplayText(k,f.getPartValue()),{"margin-left":"16px"})}));Z&&(b=R.createLine(X,{padding:"10px",cursor:"pointer",color:"#39f"}),b.text(Ca.get("chartInfoMoreFilters","\u66f4\u591a\u5916\u90e8\u7b5b\u9009\u5668")+"..."),b.on("click",function(e){$(e.currentTarget).remove();e=$(document.createDocumentFragment());R.createTitle(e,
Ca.get("chartInfoAffectionFilters","\u8054\u52a8\u7b5b\u9009\u5668"));for(var f=0;f<Z.length;f++){var k=Z[f],h=R.createLine(e);R.createSpan(h,sa.getCaption(k));R.createSpan(h,sa.getValue(k),{"margin-left":"16px"})}X.append(e);R.resize(X)}));G=R.createSimilarDialog(X);R.resize(X);return G}}function C(){ja.call(this);L.call(this);var v=this.protectedMethod,R,G,Z,X=!0;this.createJqUi=function(c,b){var e=$("<div>");e.css({overflow:"auto",color:"#333","font-size":"14px"});b&&(R=function(){c.makeAdvancedInsight(function(k,
h){"number"==typeof k?(k=k+"\n"+h,e.empty(),h=v.createLine(e),v.createSpan(h,k)):a(e,b)})},G=function(){c.makeBasicInsight(function(k,h){"number"==typeof k?(k=k+"\n"+h,e.empty(),h=v.createLine(e),v.createSpan(h,k)):(d(e,b),v.resize(e))})},d(e,b));var f=v.createSimilarDialog(e);v.resize(e);v.appendAction(f,"icon_extra_level",Ca.get("insightLevel","\u7ea7\u522b"),function(k){S(k,f,e,b)});return f};var S=function(c,b,e,f){if(Z&&Z.isShowing())Z.hide(),Z=null;else{var k=new Wa;k.addItemModel(Ya.createRadio(Ca.get("insightLevelBasic",
"\u7b80\u8981"),"level",X,function(h){X=!0;d(e,f);v.resize(e)}));k.addItemModel(Ya.createRadio(Ca.get("insightLevelAdvanced","\u8be6\u7ec6"),"level",!X,function(h){X=!1;f.getBasicState()||(f.isAdvancedLoaded()?a(e,f):R())}));Z=new Ya;Z.setModel(k);Z.setHideListener(function(){Z=null});k=[0,18];k=M.upwardCoordinate(c[0],k,b[0]);Z.show(b,k[0],k[1],c,!0)}},n=function(c,b){c=v.createLine(c,{"margin-top":"10px"});v.createSpan(c,b)},d=function(c,b){var e=$(document.createDocumentFragment());b.getBasicState()==
ia.STATE_DATA_EMPTY?n(e,Ca.get("insightNoData","\u6ca1\u6709\u6570\u636e\u3002")):b.getBasicState()==ia.STATE_MISSING_MEASURE?n(e,Ca.get("insightNoMeasure","\u6ca1\u6709\u5ea6\u91cf\u5b57\u6bb5\u3002")):b.getBasicState()==ia.STATE_BLOATED_DIMENSION?(n(e,Ca.get("waiting","\u8bf7\u7a0d\u5019")+"..."),G()):(b=b.getBasicGroups(),v.createInsightsUi(e,b));c.empty();c.append(e)},a=function(c,b){var e=$(document.createDocumentFragment());b=b.getUsableAdvancedGroups();v.createInsightsUi(e,b);c.empty();c.append(e);
v.resize(c)};this.protectedCreateJqInsightSubtitle=function(c,b){return v.createTitle(c,b)};this.protectedCreateJqInsightLine=function(c){return v.createListLine(c)}}function L(){var v=this;this.protectedCreateJqInsightSubtitle=function(Z,X){throw Error("Implement");};this.protectedCreateJqInsightLine=function(Z){throw Error("Implement");};var R=function(Z,X){var S=$("<span>");S.text(X);Z.append(S);return S},G=function(Z,X,S){if(0>S)return[Z];for(var n=X.getVariate(S),d="${"+n.getName()+"}$",a=d.length,
c=[],b=Z;b;){var e=b.indexOf(d);0>e?(c.push(b),b=null):(Z=b.substring(0,e),b=b.substring(e+a),c.push(Z),c.push(n),b=0<b.length?b:null)}n=[];for(d=0;d<c.length;d++)a=c[d],"string"==typeof a?0<a.length&&(a=G(a,X,S-1),n=n.concat(a)):n.push(a);return n};!this.protectedMethod&&(this.protectedMethod={});this.protectedMethod.createInsightsUi=function(Z,X){for(var S=0;S<X.length;S++){var n=X[S];v.protectedCreateJqInsightSubtitle(Z,n.getTitle());for(var d=0;d<n.getSentenceCount();d++){for(var a=v.protectedCreateJqInsightLine(Z),
c=n.getSentence(d),b=G(c.getText(),c,c.getVariateCount()-1),e=0;e<b.length;e++){var f=b[e];if("string"==typeof f)R(a,f);else{var k=f,h=(f=k.getTips())?!0:!1;k=R(a,k.getValue());h&&k.css("text-decoration","underline");h&&k.attr("title",f)}}c.setReadableText(a.text())}}}}function da(v,R){L.call(this);var G=this,Z=this.protectedMethod;this.hookJqInsightSubtitleCreator=function(n){G.protectedCreateJqInsightSubtitle=function(d,a){var c=n();c.text(a);d.append(c);return c}};this.hookJqInsightLineCreator=
function(n){G.protectedCreateJqInsightLine=function(d){var a=n();d.append(a);return a}};this.requestJqContent=function(n){var d=$("<div>");d.text("");X(d,R,function(a){d.append(a);n(d)})};var X=function(n,d,a){var c=$(document.createDocumentFragment());if(d.getBasicState()!=ia.STATE_DATA_EMPTY&&d.getBasicState()!=ia.STATE_MISSING_MEASURE){if(d.getBasicState()==ia.STATE_BLOATED_DIMENSION){v.makeBasicInsight(function(e,f){"number"==typeof e?(S(n,e+" "+f),a(c)):X(n,d,a)});return}if(d.getBasicState()==
ia.STATE_NO_ADVANCED){var b=d.getBasicGroups();Z.createInsightsUi(c,b)}else if(!d.getBasicState()){v.makeAdvancedInsight(function(e,f){"number"==typeof e?S(n,e+" "+f):(e=d.getUsableAdvancedGroups(),Z.createInsightsUi(c,e));a(c)});return}}a(c)},S=function(n,d){var a=$("<span>");a.text(d);n.append(a);return a}}function ia(){function v(){var c,b;this.fromJsonObject=function(e){b=[];c=e.title;if(e=e.sentences)for(var f=0;f<e.length;f++){var k=e[f],h=new R;h.fromJsonObject(k);b.push(h)}};this.getTitle=
function(){return c};this.getSentenceCount=function(){return b?b.length:0};this.getSentence=function(e){return b[e]};this.mergeFrom=function(e){c=e.getTitle();!b&&(b=[]);for(var f=0;f<e.getSentenceCount();f++)b.push(e.getSentence(f))}}function R(){var c,b,e;this.fromJsonObject=function(f){c=f.text;b=[];if(f=f.variates)for(var k=0;k<f.length;k++){var h=f[k],q=new G;q.fromJsonObject(h);b.push(q)}};this.getText=function(){return c};this.getVariateCount=function(){return b.length};this.getVariate=function(f){return b[f]};
this.setReadableText=function(f){e=f};this.getReadableText=function(){return e}}function G(){var c,b,e;this.fromJsonObject=function(f){c=f.name;b=f.value;e=f.tips};this.getName=function(){return c};this.getValue=function(){return b};this.getTips=function(){return e}}var Z=this,X,S,n,d;this.basicFromJsonObject=function(c){S=[];X=c.state;a(c,S)};this.advancedFromJsonObject=function(c){d=[];n=c.state;a(c,d)};this.getBasicState=function(){return X};this.getBasicGroups=function(){return S};this.getAdvancedState=
function(){return n};this.isAdvancedLoaded=function(){return d?!0:!1};this.getUsableAdvancedGroups=function(){for(var c={},b=0;b<d.length;b++){var e=d[b];c[e.getTitle()]=e}var f=[];for(b=0;b<S.length;b++){e=S[b];var k=new v;k.mergeFrom(e);f.push(k);(e=c[e.getTitle()])&&k.mergeFrom(e)}return f};this.getReadableTextGroups=function(){for(var c=Z.isAdvancedLoaded()?Z.getUsableAdvancedGroups():S,b=[],e=0;e<c.length;e++){for(var f=[],k=c[e],h=0;h<k.getSentenceCount();h++){var q=k.getSentence(h);f.push(q.getReadableText())}b.push(f)}return b};
var a=function(c,b){if(c=c.groups)for(var e=0;e<c.length;e++){var f=c[e],k=new v;k.fromJsonObject(f);b.push(k)}}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.square&&(com.kingdee.bos.qing.square={});"undefined"==typeof com.kingdee.bos.qing.square.ui&&(com.kingdee.bos.qing.square.ui={});var I=com.kingdee.bos.qing.square.ui;
I.Exhibition=function(){var v=new Ta,R,G,Z,X;var S=$("<div>");S.addClass("square-exhibition-card");var n=$("<div>");n.addClass("square-exhibition-card-titlebar");n.appendTo(S);var d=$("<div>");d.addClass("square-exhibition-card-titlebar-text");d.appendTo(n);var a=$("<div>");a.css("overflow","hidden");a.appendTo(S);this.destroy=function(){v.destroy()};this.setCommandManagerGetter=function(e){R=e};this.setContextApi=function(e){v.setContextApi(e)};this.getJqUi=function(){return S};this.resize=function(){G&&
(G.isFullArea()||b(),clearTimeout(Z),Z=setTimeout(c,250))};this.showSuspendedRunningMask=function(){if(0==S.find(".sa-exhibition-suspend-mask").length){var e=$("<div>");e.addClass("sa-exhibition-suspend-mask");e.appendTo(S)}};this.setPreviewSetup=function(e){G=e;var f=e.getPaddingLeft(),k=e.getPaddingRight(),h=e.getPaddingTop(),q=e.getPaddingBottom();M.layoutCtrlWithLRTB(a,f,k,null,h,q,null);e.isFullArea()?(n.css("display","none"),S.addClass("square-exhibition-card_fullarea"),S.removeClass("square-exhibition-card_notfull")):
(n.css("display","block"),S.addClass("square-exhibition-card_notfull"),S.removeClass("square-exhibition-card_fullarea"));b();c()};this.setTitle=function(e,f){d.text(e);n.find(".square-exhibition-card-titlebar-tips").remove();f&&(e=new oa,e.setIconType(oa.ICON_TYPE_QUESTION),e.setTipsText(f),e.setContainer(S),f=e.getJqUi(),f.addClass("square-exhibition-card-titlebar-tips"),f.appendTo(n))};this.setModel=function(e,f,k){if(R){var h=R();v.setCommandManager(h)}X=k;v.setModel(e,f);c()};this.repaint=function(e){e&&
v.reset(e);c()};var c=function(){v.drawChart(a,X)},b=function(){var e="",f="",k="",h="";G.isFullArea()||(e=S.parent().innerWidth(),f=S.parent().innerHeight(),k=G.getWidth(),h=G.getHeight(),e=(e>k?e-k>>1:0)+"px",f=(f>h?f-h>>1:0)+"px",k+="px",h+="px");S.css({left:e,top:f,width:k,height:h})}};I.ExhibitionContent=Ta;I.AbstractTooltipsWidget=Ha;I.AbstractRollOutHandler=K;var M,ca,ma,Ca,oa,Na,Wa,Ya,Va,N,za,va,Oa,U,na,sa,pa,Ra,Y,J,ka=I.ChartTypeFactory;(function(){var v=com.kingdee.bos.qing.common;M=v.DomUtil;
ca=v.CanvasUtil;ma=v.ColorUtil;v=com.kingdee.bos.qing.framework.common;Ca=v.MultilanguageManager.createPackageAccessor(I);v=com.kingdee.bos.qing.ui.component;oa=v.HelpIcon;Na=v.SimpleConfirmer;Wa=v.MenuModel;Ya=v.Menu;v=com.kingdee.bos.qing.core;Va=v.CommonJsonParser;N=v.Icons;za=v.LinkageRegister;va=v.UserOperationReporter;v=com.kingdee.bos.qing.core.commonui;Oa=v.LinkageHelper;v=com.kingdee.bos.qing.chart.model;U=v.DiscreteColorLegendModel;v=com.kingdee.bos.qing.core.shared;na=v.FilterInterpreter;
sa=v.AdditionalFilterInfoParser;pa=v.DetailDataPopupDialog;v=com.kingdee.bos.qing.core.controller;Ra=v.CommandManager;v=com.kingdee.bos.qing.square.controller;Y=v.ActionRollIn;J=v.ActionRollOut})();Ta.STYLE_PROMPTLABEL_COLOR="promptLabelColor";Ta.STYLE_PROMPTLABEL_FONTSIZE_ENHANCED="promptLabelFontSizeEnhanced";Ta.STYLE_CRUMB_COLOR="crumbColor";Ta.STYLE_CRUMB_FONTSIZE_ENHANCED="crumbFontSizeEnhanced";var V=new function(){fb.call(this);var v=this,R,G,Z;this.bindAssociatedChart=function(d,a){G=d;Z=
a};this.protectedInitUi=function(d){d.on("mousemove",X);d.on("mouseleave",S);R=$(document.body);R.append(d)};this.protectedGetJqOwner=function(){return R};var X=function(d){(d=n(d))&&v.show(d[0],d[1])},S=function(d){n(d)},n=function(d){if(!G.is(":visible"))return null;var a=v.protectedGetJqOwner()[0],c=M.getCurrentTargetPosition(d);var b=a.clientLeft;var e=a.clientTop;for(d=d.target;d!=a;){if(d==document.body)throw Error("Not immediate family.");var f=d.parentNode;b+=f.clientLeft+d.offsetLeft;e+=
f.clientTop+d.offsetTop;d=f;for(f=d.nodeName.toLowerCase();"td"==f||"tr"==f||"tbody"==f;)d=d.parentNode,f=d.nodeName.toLowerCase()}b=[b+c[0],e+c[1]];c=b[0];b=b[1];a=M.upwardCoordinate(G[0],[0,0],a);e=b-a[1];return c-a[0]>G.prop("clientWidth")||e>G.prop("clientHeight")?(v.hide(),Z.clearMouseState(),null):[c,b]}};ia.STATE_DATA_EMPTY=1;ia.STATE_MISSING_MEASURE=2;ia.STATE_BLOATED_DIMENSION=3;ia.STATE_NO_ADVANCED=4})();
//qingVersionTag: 20250324