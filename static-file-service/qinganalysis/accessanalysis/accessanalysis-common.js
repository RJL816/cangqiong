var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(z){var O=0;return function(){return O<z.length?{done:!1,value:z[O++]}:{done:!0}}};$jscomp.arrayIterator=function(z){return{next:$jscomp.arrayIteratorImpl(z)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(z,O,Q){if(z==Array.prototype||z==Object.prototype)return z;z[O]=Q.value;return z};$jscomp.getGlobal=function(z){z=["object"==typeof globalThis&&globalThis,z,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var O=0;O<z.length;++O){var Q=z[O];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(z,O){var Q=$jscomp.propertyToPolyfillSymbol[O];if(null==Q)return z[O];Q=z[Q];return void 0!==Q?Q:z[O]};
$jscomp.polyfill=function(z,O,Q,Y){O&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(z,O,Q,Y):$jscomp.polyfillUnisolated(z,O,Q,Y))};$jscomp.polyfillUnisolated=function(z,O,Q,Y){Q=$jscomp.global;z=z.split(".");for(Y=0;Y<z.length-1;Y++){var K=z[Y];if(!(K in Q))return;Q=Q[K]}z=z[z.length-1];Y=Q[z];O=O(Y);O!=Y&&null!=O&&$jscomp.defineProperty(Q,z,{configurable:!0,writable:!0,value:O})};
$jscomp.polyfillIsolated=function(z,O,Q,Y){var K=z.split(".");z=1===K.length;Y=K[0];Y=!z&&Y in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var ba=0;ba<K.length-1;ba++){var W=K[ba];if(!(W in Y))return;Y=Y[W]}K=K[K.length-1];Q=$jscomp.IS_SYMBOL_NATIVE&&"es6"===Q?Y[K]:null;O=O(Q);null!=O&&(z?$jscomp.defineProperty($jscomp.polyfills,K,{configurable:!0,writable:!0,value:O}):O!==Q&&(void 0===$jscomp.propertyToPolyfillSymbol[K]&&(Q=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[K]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(K):$jscomp.POLYFILL_PREFIX+Q+"$"+K),$jscomp.defineProperty(Y,$jscomp.propertyToPolyfillSymbol[K],{configurable:!0,writable:!0,value:O})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(z){if(z)return z;var O=function(ba,W){this.$jscomp$symbol$id_=ba;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:W})};O.prototype.toString=function(){return this.$jscomp$symbol$id_};var Q="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",Y=0,K=function(ba){if(this instanceof K)throw new TypeError("Symbol is not a constructor");return new O(Q+(ba||"")+"_"+Y++,ba)};return K},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(z){if(z)return z;z=Symbol("Symbol.iterator");for(var O="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Q=0;Q<O.length;Q++){var Y=$jscomp.global[O[Q]];"function"===typeof Y&&"function"!=typeof Y.prototype[z]&&$jscomp.defineProperty(Y.prototype,z,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return z},"es6",
"es3");$jscomp.iteratorPrototype=function(z){z={next:z};z[Symbol.iterator]=function(){return this};return z};$jscomp.iteratorFromArray=function(z,O){z instanceof String&&(z+="");var Q=0,Y=!1,K={next:function(){if(!Y&&Q<z.length){var ba=Q++;return{value:O(ba,z[ba]),done:!1}}Y=!0;return{done:!0,value:void 0}}};K[Symbol.iterator]=function(){return K};return K};
$jscomp.polyfill("Array.prototype.keys",function(z){return z?z:function(){return $jscomp.iteratorFromArray(this,function(O){return O})}},"es6","es3");$jscomp.findInternal=function(z,O,Q){z instanceof String&&(z=String(z));for(var Y=z.length,K=0;K<Y;K++){var ba=z[K];if(O.call(Q,ba,K,z))return{i:K,v:ba}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(z){return z?z:function(O,Q){return $jscomp.findInternal(this,O,Q).v}},"es6","es3");
$jscomp.polyfill("Array.prototype.findIndex",function(z){return z?z:function(O,Q){return $jscomp.findInternal(this,O,Q).i}},"es6","es3");
(function(){function z(){Q.call(this);var h=this;this.fromJsonObject=function(w){w&&(h.setId(w.id),w.hasOwnProperty("nameRule")?h.setName(w.name+"-\u7cfb\u7edf\u65e5\u671f"):h.setName(w.name),h.setCreatorId(w.userId),h.setCreatorName(w.userName),h.setCreateTime(w.createTime),h.setCreateFormatTime(w.createFormatTime),h.setPublishSourceGroupName(w.sourceGroupName),h.setPublishSourceName(w.sourceName),0==w.schemaType?h.setPublishSourceType("dataAnalysis"):1==w.schemaType?h.setPublishSourceType("squareData"):
2==w.schemaType&&h.setPublishSourceType("dashboard"),h.setSchedule(h.takeOutSchedule(w.schedule)),h.setOpenSchedule(w.openSchedule))};this.cloneMe=function(){var w=new z;w.setId(h.getId());w.setName(h.getName());w.setCreatorId(h.getCreatorId());w.setCreatorName(h.getCreatorName());w.setCreateTime(h.getCreateTime());w.setCreateFormatTime(h.getCreateFormatTime());w.setPublishSourceGroupName(h.getPublishSourceGroupName());w.setPublishSourceName(h.getPublishSourceName());w.setPublishSourceType(h.getPublishSourceType());
w.setSchedule(h.getSchedule());w.setOpenSchedule(h.getOpenSchedule());w.setPath(h.getPath());return w}}function O(){Q.call(this);var h=this;this.fromJsonObject=function(w){if(w){h.setId(w.id);var B=w.nameRule;"fixed"==B.type?h.setName(B.name):h.setName(B.name+"-\u7cfb\u7edf\u65e5\u671f");h.setCreatorId(w.userId);h.setCreatorName(w.userName);h.setCreateTime(w.createTime);h.setCreateFormatTime(w.createFormatTime);h.setPublishSourceGroupName(w.publishSourceGroupName);h.setPublishSourceName(w.publishSourceName);
"subject"==w.publishSourceType||"bill"==w.publishSourceType?h.setPublishSourceType("dataAnalysis"):h.setPublishSourceType("dashboard");h.setSchedule(h.takeOutSchedule(w.schedule));h.setOpenSchedule(w.scheduleSwitch)}};this.cloneMe=function(){var w=new O;w.setId(h.getId());w.setName(h.getName());w.setCreatorId(h.getCreatorId());w.setCreatorName(h.getCreatorName());w.setCreateTime(h.getCreateTime());w.setCreateFormatTime(h.getCreateFormatTime());w.setPublishSourceGroupName(h.getPublishSourceGroupName());
w.setPublishSourceName(h.getPublishSourceName());w.setPublishSourceType(h.getPublishSourceType());w.setSchedule(h.getSchedule());w.setOpenSchedule(h.getOpenSchedule());w.setPath(h.getPath());return w}}function Q(){var h,w,B,ta,ka,sa,qa,Ea,xa,na,ca,Fa;this.isTimedPush=function(){return!0};this.isAnalysis=function(){return"dataAnalysis"==xa};this.isDashboard=function(){return"dashboard"==xa};this.isSquareData=function(){return"squareData"==xa};this.setId=function(aa){h=aa};this.getId=function(){return h};
this.setName=function(aa){w=aa};this.getName=function(){return w};this.setCreatorId=function(aa){B=aa};this.getCreatorId=function(){return B};this.setCreatorName=function(aa){ta=aa};this.getCreatorName=function(){return ta};this.setCreateTime=function(aa){ka=aa};this.getCreateTime=function(){return ka};this.setCreateFormatTime=function(aa){sa=aa};this.getCreateFormatTime=function(){return sa};this.setPublishSourceGroupName=function(aa){qa=aa};this.getPublishSourceGroupName=function(){return qa};this.setPublishSourceName=
function(aa){Ea=aa};this.getPublishSourceName=function(){return Ea};this.setPublishSourceType=function(aa){xa=aa};this.getPublishSourceType=function(){return xa};this.setSchedule=function(aa){na=aa};this.getSchedule=function(){return na};this.setOpenSchedule=function(aa){ca=aa};this.getOpenSchedule=function(){return ca};this.setPath=function(aa){Fa=aa};this.getPath=function(){return Fa};this.takeOutSchedule=function(aa){if(!aa||!aa.hasOwnProperty("period"))return ya.get("notSet","\u6682\u672a\u8bbe\u7f6e");
if("Custom"==aa.period)return ya.get("custom","\u81ea\u5b9a\u4e49");if("Monthly"==aa.period)return ya.get("monthly","\u6bcf\u6708");if("Weekly"==aa.period)return ya.get("weekly","\u6bcf\u5468");if("Daily"==aa.period)return ya.get("daily","\u6bcf\u5929")};this.isPreset=function(){return!1}}function Y(){ba.call(this);var h=this,w;this.setPreset=function(B){w=B};this.isPreset=function(){return w};this.fromJsonObject=function(B){B&&(h.setId(B.id),h.setName(B.name),h.setCreatorId(B.creatorId),h.setCreatorName(B.creatorName),
h.setCreateTime(B.createTime),h.setCreateFormatTime(B.createFormatTime),h.setPreset(B.isPreset),"subject"==B.publishSourceType||"bill"==B.publishSourceType?h.setPublishSourceType("dataAnalysis"):h.setPublishSourceType("dashboard"),h.setPath(B.path),h.setArrUsers(B.users),h.setArrRoles(B.roles))};this.cloneMe=function(){var B=new Y;B.setId(h.getId());B.setName(h.getName());B.setCreatorId(h.getCreatorId());B.setCreatorName(h.getCreatorName());B.setCreateTime(h.getCreateTime());B.setCreateFormatTime(h.getCreateFormatTime());
B.setPublishSourceType(h.getPublishSourceType());B.setPath(h.getPath());B.setArrRoles(h.getArrRoles());B.setArrUsers(h.getArrUsers());B.setPreset(w);return B}}function K(){ba.call(this);var h=this,w=!0;this.setIsDelete=function(B){w=B};this.isDelete=function(){return w};this.fromJsonObject=function(B){B&&(h.setId(B.publishId),h.setName(B.name),h.setCreatorName(B.creatorName),h.setCreateTime(B.createTime),h.setCreateFormatTime(B.createFormatTime),"1"==B.viewType?h.setPublishSourceType("dataAnalysis"):
"2"==B.viewType?h.setPublishSourceType("squareData"):"3"==B.viewType&&h.setPublishSourceType("dashboard"),h.setPath(B.parentId))};this.addPermissionInfo=function(B){h.setArrUsers(B.users);h.setArrRoles(B.roles)};this.cloneMe=function(){var B=new K;B.setId(h.getId());B.setName(h.getName());B.setCreatorId(h.getCreatorId());B.setCreatorName(h.getCreatorName());B.setCreateTime(h.getCreateTime());B.setCreateFormatTime(h.getCreateFormatTime());B.setPublishSourceType(h.getPublishSourceType());B.setPath(h.getPath());
B.setArrRoles(h.getArrRoles());B.setArrUsers(h.getArrUsers());B.setIsDelete(w);return B}}function ba(){var h,w,B,ta,ka,sa,qa,Ea=[],xa=[],na;this.isTimedPush=function(){return!1};this.isAnalysis=function(){return"dataAnalysis"==qa};this.isDashboard=function(){return"dashboard"==qa};this.isSquareData=function(){return"squareData"==qa};this.setId=function(ca){h=ca};this.getId=function(){return h};this.setName=function(ca){w=ca};this.getName=function(){return w};this.setCreatorId=function(ca){B=ca};this.getCreatorId=
function(){return B};this.setCreatorName=function(ca){ta=ca};this.getCreatorName=function(){return ta};this.setCreateTime=function(ca){ka=ca};this.getCreateTime=function(){return ka};this.setCreateFormatTime=function(ca){sa=ca};this.getCreateFormatTime=function(){return sa};this.setPublishSourceType=function(ca){qa=ca};this.getPublishSourceType=function(){return qa};this.setArrUsers=function(ca){xa=ca};this.getArrUsers=function(){return xa};this.setArrRoles=function(ca){Ea=ca};this.getArrRoles=function(){return Ea};
this.setPath=function(ca){na=ca};this.getPath=function(){return na};this.isPreset=function(){return"100000"==B}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.accessanalysis&&(com.kingdee.bos.qing.accessanalysis={});"undefined"==typeof com.kingdee.bos.qing.accessanalysis.model&&(com.kingdee.bos.qing.accessanalysis.model=
{});var W=com.kingdee.bos.qing.accessanalysis.model;W.LappPublishModel=K;W.PublishModel=Y;W.EmailTimedPushModel=O;W.LappTimedPushModel=z;var ya=com.kingdee.bos.qing.framework.common.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.accessanalysis)})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.accessanalysis&&(com.kingdee.bos.qing.accessanalysis={});"undefined"==typeof com.kingdee.bos.qing.accessanalysis.common&&(com.kingdee.bos.qing.accessanalysis.common={});var z=com.kingdee.bos.qing.accessanalysis.common;z.SelectPublishNameFacade=
function(K,ba,W,ya){O.call(this,K,ba,W,ya);var h=this.protectedMethod;h.setShowBlocking(!0);this.getPublishMenuTree=function(){h.remote("getPublishMenuTree",{})};this.getPublishDataByPath=function(w,B,ta,ka,sa,qa){w={arrRelationId:JSON.stringify(w),pathType:B,searchText:ta,filterType:ka,targetPage:sa,pageSize:qa};h.remote("getPublishDataByPath",w)};this.getTimedPushDataByPath=function(w,B,ta,ka,sa){h.remote("getTimedPushDataByPath",{pathType:w,searchText:B,filterType:ta,targetPage:ka,pageSize:sa})};
this.getPublishCountInAllMenu=function(w,B){h.remote("getPublishCountInAllMenu",{searchText:w,filterType:B})};this.getPushConfigCountInAllMenu=function(w,B){h.remote("getPushConfigCountInAllMenu",{searchText:w,filterType:B})}};z.RemoteImpl=function(){Q.call(this);var K;this.getRemoteUrl=function(){return K};this.setRemoteUrl=function(ba){K=ba}};var O,Q,Y;(function(){var K=com.kingdee.bos.qing.framework.common;O=K.AbstractFacade;Q=K.AbstractRemoteCall;Y=K.AbstractIcons})();z.Icons=new function(){Y.call(this);
var K=this.protectedMethod;this.protectedInit=function(ba,W){ba=com.kingdee.bos.qing.accessanalysis.skin.ComboIcon;if(!ba)throw Error("com.kingdee.bos.qing.management.ComboIcon not found.");ba.define(W,"nodata");W.setStartPosition(0,0);W.setGap(0);W.setIconSize(220,220);K.registIcon(0,0,"nodata");ba.define(W,"tips-background");W.setStartPosition(0,0);W.setGap(0);W.setIconSize(264,191);K.registIcon(0,0,"tips-background");ba.define(W,"tm");W.setGap(1);W.setStartPosition(1,1);W.setIconSize(16,16);K.registIcon(0,
4,"btn-delete_hover");K.registIcon(1,4,"btn-delete");K.registIcon(2,0,"icon_sort-asc-esc");K.registIcon(2,1,"icon_sort-asc-desc");K.registIcon(2,2,"icon_sortable-v");ba.define(W,"tm-publish");W.setGap(0);W.setStartPosition(55,0);W.setIconSize(16,16);K.registIcon(0,0,"dataAnalysis");W.setStartPosition(77,0);W.setIconSize(16,16);K.registIcon(0,0,"dashboard");W.setStartPosition(102,0);W.setIconSize(16,16);K.registIcon(0,0,"squareData");ba.define(W,"dm");W.setStartPosition(1,1);W.setGap(1);W.setIconSize(16,
16);K.registIcon(6,14,"selected_btn_delete");ba.define(W,"select-menu");W.setStartPosition(0,0);K.registIcon(0,0,"select-menu")}}})();(function(){function z(){Oa.call(this);this.protectedMethod.setTotalSelectedRowAndSelectedAllVisual(!1,!1)}function O(){Oa.call(this);var a=this.protectedMethod;a.setTotalSelectedRowAndSelectedAllVisual(!1,!1);a.setTotalPageVisual(!1);a.setCurrentPageVisual(!1);a.setFirstBtnAndEndBtnVisual(!1)}function Q(){function a(){this.getTailBlankForDragging=function(){return-1};this.isRowDraggable=function(n,c){return!1};this.isColumnDraggable=function(n,c){return n.getColumnsCount()==c+1?!1:!0};this.getMinRowHeightLimited=
function(n,c){return 3};this.getMinColumnWidthLimited=function(n,c){return 4};this.rowDraggedAction=function(n,c,f){var r=n.isSyncUIWhenModelChanged();n.setSyncUIWhenModelChanged(!0);c=n.getRow(c);c.setHeight(c.getHeight()+f);n.setSyncUIWhenModelChanged(r)};this.setMinColumnWidth=function(n){};this.columnDraggedAction=function(n,c,f){var r=n.isSyncUIWhenModelChanged();n.setSyncUIWhenModelChanged(!0);c=n.getColumn(c);c.setWidth(c.getWidth()+f);n.setSyncUIWhenModelChanged(r)}}var b=this,e,d,k,m,l,g,
A,p=[],L,F=[],x,S,t,D,u;this.createTableJqUi=function(){d=la.createTable();d.setColumnFitVisibleWidth(!0);d.setSyncMergeBlockWhenModelChanged(!1);d.setMergeBlockTextVisibleAlways(!0);d.setDraggableAdjusting(!0,3,0,new a);var n=new M(d);n.setOutsideVisible(!1);d.setCellRender(n);d.setSyncUIWhenModelChanged(!0);A&&d.setCellAcrossListener(function(f,r,y){var H=f&&0<f.length?f[0]:null;x!=H&&(x&&(D.hideSortingTips($(x)),x=null),1==r&&-1==F.indexOf(y)&&(D||(D=new Va,D.setDefaultField(p[L]),D.setFunSortChangeListener(function(P){if(P)var T=
P;else T=new Ka,T.setOrder(Ka.ORDER_DESC);S=!0;P=T.getField();T=T.getOrder();b.changeSortListener(P,T)})),D.showSortingTips(f,p[y]),x=H))});d.addColumns(m.length);for(n=0;n<l.length;n++)d.getColumn(n).setWidth(l[n]);var c=la.createHeadRow(d);for(n=0;n<m.length;n++)c.getCell(n).setValue(m[n]);k=$(d.getUI());k.addClass("access-analysis-detail-content-table");return k};this.getTable=function(){return d};this.relayoutTable=function(){e&&0<e.length&&b.updateTable(e)};var M=function(n){KTDefaultCellRender.call(this,
n);var c=this,f=this.paintCellUI;this.paintCellUI=function(r,y){var H=c.getCurrentRowIdx(),P=c.getCurrentRow(),T=c.getCurrentColIdx(),X=P.getUserObject();1==H&&A&&(f(r,y),D&&-1==F.indexOf(T)&&(S?D.addSortingTips($(r),p[T]):T!=L&&D.addSortingTips($(r),p[T])),T!=L||S||(t=new Va,t.setDefaultField(p[L]),t.setFunSortChangeListener(function(R){if(R){var I=R;D.setShowSortingModel(t.getShowSortingModel())}else I=new Ka,I.setField(p[L]),I.setOrder(Ka.ORDER_DESC);S=!0;R=I.getField();I=I.getOrder();b.changeSortListener(R,
I)}),t.addDefaultSortingTips($(r),p[T])));H<la.getHeadRowCount()?f(r,y):b.cellShow(r,H,P,T,X)}};this.cellShow=function(n,c,f,r,y){throw Error("Override");};this.resetSortHelper=function(){S=!1;D=null};this.updateTable=function(n){e=n;0==document.body.clientHeight||0==document.body.clientWidth?(g=new Pa,g.setDelay(250),g.setCallback(function(){V(n)}),g.observe()):V(n)};var V=function(n){g&&g.unobserve();la.clear(d);d.addColumns(m.length);for(var c=0;c<l.length;c++)d.getColumn(c).setWidth(l[c]);var f=
la.createHeadRow(d);for(c=0;c<m.length;c++)f.getCell(c).setValue(m[c]);if(n&&0<n.length){k.css("display","block");b.showOrHideContent(!0);for(c=0;c<n.length;c++){f=n[c];var r=la.createRow(d);r.setHeight(30);r.setUserObject(f)}la.refresh(d)}else k.css("display","none"),b.showOrHideContent(!1)};this.showOrHideContent=function(n){};this.setSortEnabled=function(n,c){p=n;L=c;for(n=0;n<p.length;n++)null==p[n]&&F.push(n);A=!0};this.setUnSortIndex=function(n){F=n};this.getDefaultSortField=function(){return p[L]};
this.getDefaultSortOrder=function(){return"desc"};this.changeSortListener=function(n,c){throw Error("Override");};this.setHeadCellValueAndSize=function(n,c){m=n;l=c};this.getRemoteImpl=function(){null==u&&(u=new La,u.setRemoteUrl(b.protectedGetRemoteUrl()));return u};this.protectedGetRemoteUrl=function(){var n=Ha.decodeParamFromUrl(window.location.search,"path");return(n?n:"/ierp")+"/qing/accessAnalysis.do"}}function Y(){var a,b=[],e;this.getJqUi=function(){a||(a=$("<div class='access-analysis-foot'>"));
return a};this.updateTotalColumn=function(d,k){a.empty();for(var m,l=0,g=0;g<d.getColumnsCount();g++)b[g]=$("<div>"),b[g].addClass("access-analysis-foot-sum"),b[g].appendTo(a),m=d.getColumn(g).getWidth(),b[g].css("width",m),b[g].text(e[g]),b[g].css("left",l),l+=m;b[0].css({color:"#666","text-align":"left","padding-left":"8px","padding-right":"8px"});void 0!==k&&ua.layoutCtrl(a,-k,null,l+k,null)};this.relayoutTotalViews=function(d){for(var k,m=0,l=0;l<d.getColumnsCount();l++)k=d.getColumn(l).getWidth(),
b[l].css("width",k),b[l].css("left",m),m+=k};this.setArrTotalText=function(d){e=d}}function K(){Wa.call(this);var a=this,b=this.protectedMethod,e,d,k,m,l,g,A={},p,L,F,x=oa.publishTab,S,t,D,u,M,V,n,c,f={sFilterType:"ALL"},r=[new Ma(C.get("allType","\u5168\u90e8\u7c7b\u578b"),"ALL"),new Ma(C.get("moduleLonger","\u6570\u636e\u5206\u6790"),"ANALYSIS"),new Ma(C.get("moduleSquare","\u6570\u636e\u6597\u65b9"),"SQUARE"),new Ma(C.get("dashboard","\u4eea\u8868\u677f"),"DASHBOARD")];(function(){a.setSize(1038,
580);b.getDialogCtrl().setMinSize(1038,580);b.setTitle(C.get("PublishOrPushName","\u53d1\u5e03/\u63a8\u9001\u540d\u79f0"));b.setSelectable(!0);b.getDialogCtrl().setFullScreenEnabled();b.getDialogCtrl().addResizeListener(function(){a.relayoutViews()});b.setContentPaneCreator(function(){var R=$("<div>"),I=$("<div>");I.addClass("select-filter-head");I.appendTo(R);var U=new eb;U.setSearchType(r);U.setSelectedChangedListener(P);U=U.getJqUi();U.css("top","2px");U.appendTo(I);y().appendTo(I);I=$("<div>");
I.addClass("select-filter-data-content");I.appendTo(R);e=$("<div>");d=$("<div>");d.css("border-right","1px solid #E5E5E5");d.css("border-left","1px solid #E5E5E5");m=new Ga;m.setHorizontalSplit(!0);m.setEnabled(!0);m.setFirstSize(200,200,300);m.setSecondSize(600,0,-1);m.setResizeMode(Ga.RESIZE_MODE_FIRST_FIXED);m.setFirstChild(Ga.createChildWrapper(e));m.setSecondChild(Ga.createChildWrapper(d));k=$("<div>");l=new Ga;l.setHorizontalSplit(!0);l.setEnabled(!0);l.setFirstSize(808,-1,-1);l.setSecondSize(200,
200,300);l.setResizeMode(Ga.RESIZE_MODE_SECOND_FIXED);l.setFirstChild(m);l.setSecondChild(Ga.createChildWrapper(k));l.getJqUi().appendTo(I);T();S=$("<div>");S.addClass("access-analysis-tips");I=$("<div>");I.addClass("access-analysis-select-menu-background");Aa.background(I,"select-menu");U=$("<div>");U.addClass("access-analysis-tips-text");U.text(C.get("leftMenu","\u8bf7\u70b9\u51fb\u5de6\u4fa7\u83dc\u5355\u8fdb\u884c\u67e5\u770b"));S.append(I);S.append(U);S.appendTo(d);t=$("<div>");t.addClass("access-analysis-tips");
I=$("<div>");I.addClass("access-analysis-tips-background");Aa.background(I,"nodata");U=$("<div>");U.addClass("access-analysis-tips-text");U.text(C.get("noResults","\u6ca1\u6709\u7b26\u5408\u7b5b\u9009\u6761\u4ef6\u7684\u7ed3\u679c"));t.append(I);t.append(U);t.appendTo(d);t.hide();F=new h;F.setCurrentTab(oa.publishTab);F.setFilterType(f);F.setMapSelectPublish(A);F.setSyncUiBySelectMap(p);F.setJqTips(S,t);F.setMessageCurtain(b.getMessageCurtain());F.createTableJqUi(d);X();return R});b.setClosingAction(function(R){R&&
L(A)})})();var y=function(){V=new Xa;V.addSearchListener(H);V.setSearchListenerDelay(400);V.setPlaceholder(C.get("search","\u641c\u7d22")+C.get("PublishOrPushName","\u53d1\u5e03/\u63a8\u9001\u540d\u79f0"));V.setShowSearchIcon(!0);n=V.getJqUi();n.addClass("select-filter-searchBox");var R=n.find("input"),I=n.find(".sa-ctrl-searchbox-close");I.css({"margin-top":"-7px",height:"14px","line-height":"14px",width:"14px"});R.on("keydown",function(U){13==U.keyCode&&H()});I.on("click",function(){c="";F.searchCardCountInAllMenu(c,
!0)});return n},H=function(){var R=V.getText();R=R.trim();R!=c&&(c=R,F.searchCardCountInAllMenu(c,!0))},P=function(R,I,U){f.sFilterType=U.getTypeId();F.searchCardCountInAllMenu(c,!0)},T=function(){g=new B;g.setSelectPublish(A);g.addDeleteListener(function(){F.refreshTable()});p=g.syncUiBySelectMap;g.getJqUi().appendTo(k)},X=function(){u=new ba;u.setOnSelectedChangeListener(F.onPublishSelectedChangeListener);u.setMessageCurtain(b.getMessageCurtain());F.setPublishTablePane(u);M=new W;M.setOnSelectedChangeListener(F.onTimedSelectedChangeListener);
M.setMessageCurtain(b.getMessageCurtain());F.setTimedPushTablePane(M);D=new Ya;D.addTab(u,!0);D.addTab(M);D.addTabChangedListener(function(U,ra){F.resetCallBackTime();"publish"==ra.getType()?(x=oa.publishTab,F.setCurrentTab(oa.publishTab),(U=0<u.getSelectedItem().length)||F.updateTable(null),F.searchCardCountInAllMenu(c,U)):(x=oa.timedPushTab,F.setCurrentTab(oa.timedPushTab),U=M.firstIntoSelectFirstItem(),F.searchCardCountInAllMenu(c,!U));x==oa.publishTab?(U=["#",C.get("name","\u540d\u79f0"),C.get("publisher",
"\u53d1\u5e03\u4eba"),C.get("authorize","\u6388\u6743"),C.get("PublishTime","\u53d1\u5e03\u65f6\u95f4")],ra=[20,75,75,75,80]):(U=["#",C.get("name","\u540d\u79f0"),C.get("source","\u6765\u6e90"),C.get("pusher","\u63a8\u9001\u4eba"),C.get("pushFrequency","\u63a8\u9001\u9891\u7387"),C.get("enableStatus","\u542f\u7528\u72b6\u6001"),C.get("createTime","\u521b\u5efa\u65f6\u95f4")],ra=[20,65,65,65,35,35,75]);F.resetHeader(U,ra)});u.setParent(D);var R=D.getJqUi(),I=R.children(".sa-ctrl-tab-head");I.css({width:"45%",
overflow:"hidden","text-overflow":"ellipsis"});$(I[0]).attr("title",u.getTitle());$(I[1]).attr("title",M.getTitle());R.appendTo(e)};this.relayoutViews=function(){m&&m.resize();l&&l.resize();F.refreshTable()};this.setConfirmCallBack=function(R){L=R};this.setMapSelectPublish=function(R){A=R}}function ba(){ya.call(this);var a=this,b,e,d=oa.publishTab,k,m,l,g,A,p=[];this.getType=function(){return d};this.getTitle=function(){return C.get("publish","\u53d1\u5e03")};this.protectedInit=function(u){e=u;setTimeout(function(){L()},
0)};var L=function(){F();var u,M;(new Ia(a.getRemoteImpl(),function(n){var c=n.appMenuTree.children,f=n.centerTree;n=new sa;n.setDisPlayName(C.get("dataAnalysisCenter","\u6570\u636e\u5de5\u4f5c\u53f0\u9605\u89c8\u5939"));n.setShowFolderNode(!0);n.setNoMatchText(!0);for(var r=n.getChildren(),y=0;y<f.length;y++){var H=new sa;H.fromJsonObject(f[y]);H.setParentNode(n);r.push(H)}f=new qa;f.setDisPlayName(C.get("applicationMenu","\u5e94\u7528\u83dc\u5355"));f.setShowFolderNode(!0);f.setNoMatchText(!0);
r=f.getChildren();for(y=0;y<c.length;y++)H=new qa,H.fromJsonObject(c[y]),H.setParentNode(f),r.push(H);c=[];t(c,f);t(c,n);p=null==p?c:c.concat(p);u=!0;M&&S()},function(n,c){m.showPrompt(c);u=!0;M&&S();return!0})).getPublishMenuTree();var V=D()+"/qing/lappPrivateInfo.do";Ba.setLappPrivateUrl(V);Ba.getLappAllUserDirList(a.getLappRemoteImpl(),!0,function(n){l=!0;x(n);M=!0;u&&S()},function(n,c){m.showPrompt(c);M=!0;u&&S();return!0})},F=function(){b=new ta;b.setOnSelectedChangeListener(k);b.setMessageCurtain(m);
b.setTreeSelectorModel(p);var u=b.getJqUi();u.addClass("select-tree-menu-data");e.append(u)},x=function(u){if(u&&!(0>u.length)){for(var M=[],V=0;V<u.length;V++){var n=u[V],c=new xa;c.fromJsonObject(n);M.push(c)}M.sort(function(f,r){return f.getSeq()-r.getSeq()});for(V=0;V<M.length;V++)c=M[V],t(p,c.getLappTreeNode())}},S=function(){b.resetItemModels(p);g=!0;A.setCurrentTabPane(a)};this.hasLappMenu=function(){return l};var t=function(u,M){if(null!=M)if(Array.isArray(M))for(var V=0;V<M.length;V++)u.push(M[V]),
t(u,M[V].getChildren());else u.push(M),t(u,M.getChildren())};this.getSelectedItem=function(){return b?b.getSelectedItem():[]};this.setTreeSearchCountParams=function(u){b.setSearchCountParams(u)};this.fixTreeBySearchCount=function(u){b.fixTreeBySearchCount(u)};this.reselectTheCurrentItem=function(){b.reselectTheCurrentFirstItem()};this.setOnSelectedChangeListener=function(u){k=u};this.searchMenuListener=function(u){return b.searchMenu(u)};this.setMessageCurtain=function(u){m=u};this.getLappRemoteImpl=
function(){var u=D()+"/qing/publishTo.do",M=new La;M.setRemoteUrl(u);return M};this.getMenuInitialized=function(){return g};this.setParent=function(u){A=u};var D=function(){var u=Ha.decodeParamFromUrl(location.search,"path");return u?u:"/ierp"}}function W(){ya.call(this);var a=this,b,e,d,k=[],m=oa.timedPushTab;this.getType=function(){return m};this.getTitle=function(){return C.get("push","\u5b9a\u65f6\u63a8\u9001")};this.protectedInit=function(l){var g=new ka;g.setDisPlayName(C.get("email","\u90ae\u4ef6"));
g.setPathType(da.email);g.setRelationIds(da.email);g.setShowFolderNode(!0);g.setIsFiltered(!0);k.push(g);g=new ka;g.setDisPlayName(C.get("yzj","\u4e91\u4e4b\u5bb6"));g.setPathType(da.yzj);g.setRelationIds(da.yzj);g.setShowFolderNode(!0);g.setIsFiltered(!0);k.push(g);g=new ka;g.setDisPlayName(C.get("vx","\u4f01\u4e1a\u5fae\u4fe1"));g.setPathType(da.vx);g.setRelationIds(da.vx);g.setShowFolderNode(!0);g.setIsFiltered(!0);k.push(g);g=new ka;g.setDisPlayName(C.get("dd","\u9489\u9489"));g.setPathType(da.dd);
g.setRelationIds(da.dd);g.setShowFolderNode(!0);g.setIsFiltered(!0);k.push(g);b=new ta;b.setOnSelectedChangeListener(e);b.setMessageCurtain(d);b.setTreeSelectorModel(k);g=b.getJqUi();g.addClass("select-tree-menu-data");g.appendTo(l)};this.setOnSelectedChangeListener=function(l){e=l};this.setTreeSearchCountParams=function(l){b.setSearchCountParams(l)};this.fixTreeBySearchCount=function(l){b.fixTreeBySearchCount(l)};this.reselectTheCurrentItem=function(){b.reselectTheCurrentFirstItem()};this.searchMenuListener=
function(l){return b.searchMenu(l)};this.getSelectedItem=function(){return b?b.getSelectedItem():[]};this.firstIntoSelectFirstItem=function(){return 0>=a.getSelectedItem().length?(b.jumpToTheSelected(k[0]),!0):!1};this.setMessageCurtain=function(l){d=l}}function ya(){Ya.AbstractTabPane.call(this);var a=this,b,e,d,k;this.getJqUi=function(){b||(b=$("<div>"),m(),a.protectedInit(b));return b};var m=function(){e=new Xa;e.setPlaceholder(C.get("searchDirectory","\u641c\u7d22\u76ee\u5f55\u540d\u79f0"));e.setShowSearchIcon(!0);
d=e.getJqUi();d.addClass("select-filter-menu-searchBox");k=$("<div>");k.addClass("select-filter-menu-Show-Search-count");k.hide();var g=d.find("input");g.css("width","75%");g.on("keydown",function(A){13==A.keyCode&&a.doSearchMenuListener()});d.find(".sa-ctrl-searchbox-close").on("click",function(){a.searchMenuListener(null);k.hide()});k.appendTo(g.parent());d.appendTo(b)};this.doSearchMenuListener=function(){var g=e.getText();null!=g&&(g=g.trim(),g=a.searchMenuListener(g),null==g?k.hide():(g="("+
g[0]+"/"+g[1]+")",k.text(g),k.attr("title",g),k.show()))};this.searchMenuListener=function(g){throw Error("override");};var l;this.getRemoteImpl=function(){null==l&&(l=new La,l.setRemoteUrl(a.protectedGetRemoteUrl()));return l};this.protectedGetRemoteUrl=function(){var g=a.getUrlParam("path");return(g?g:"/ierp")+"/qing/selectPublish.do"};this.getUrlParam=function(g){return Ha.decodeParamFromUrl(window.location.search,g)};this.protectedInit=function(g){}}function h(){var a=this,b,e,d,k,m={},l={},g,
A,p,L,F,x,S,t,D,u,M,V,n,c,f,r;var y=["#",C.get("","\u540d\u79f0"),C.get("","\u53d1\u5e03\u4eba"),C.get("","\u6388\u6743"),C.get("","\u53d1\u5e03\u65f6\u95f4")];var H=[20,75,75,75,80];this.createTableJqUi=function(v){P();b=la.createTable();b.setColumnFitVisibleWidth(!0);b.setSyncMergeBlockWhenModelChanged(!1);b.setMergeBlockTextVisibleAlways(!0);var J=new T(b);J.setOutsideVisible(!1);b.setCellRender(J);b.setSyncUIWhenModelChanged(!0);b.addColumns(y.length);for(J=0;J<H.length;J++)b.getColumn(J).setWidth(H[J]);
var Z=la.createHeadRow(b);for(J=0;J<y.length;J++)Z.getCell(J).setValue(y[J]);d=$(b.getUI());d.addClass("access-analysis-detail-content-table");d.addClass("access-analysis-publish-selector-table");p.appendTo(v);d.appendTo(v)};var P=function(){A=new w;A.setJumpToPageListener(function(v,J,Z){L=v;F=J;f==oa.publishTab?I(!1,!1,Z):U(!1,!1,Z)});A.setSelectedAllOrNotListener(function(v,J){v?f==oa.publishTab?I(!1,!0):U(!1,!0):(fb(),a.refreshTable(),g())});A.setComboBoxItemModelsAndSelectedItem([5,10,20,50,
100,500,1E3],2);L=A.getCurrentPage();F=A.getPageSize();p=A.getJqUi();p.css("display","none")},T=function(v){KTDefaultCellRender.call(this,v);var J=this,Z=this.paintCellUI;this.paintCellUI=function(G,q){var N=J.getCurrentRowIdx(),E=J.getCurrentRow(),ma=J.getCurrentColIdx();E=E.getUserObject();var Ca=new gb;Ca.setFormatString("yyyy-MM-dd HH:mm:ss");if(N<la.getHeadRowCount()){if(Z(G,q),0==ma&&1==N){q=$(G);q.children().css("display","none");E=!0;k=new Za;for(var za in m)if(!m[za].isChecked()){E=!1;break}k.setChecked(E);
k.addCheckedListener(function(ja,va){if(va){ja=ja.isChecked();for(var Da in m)m[Da].setChecked(ja),va=m[Da].getUserObject(),ja?l[va.getId()]=va:delete l[va.getId()];a.resetCurrentPaginationBarSelected();g()}});E=k.getJqUi();ua.layoutCtrl(E,12,2,23,23);E.appendTo(G)}}else 0==ma?(q=$(G),G=new Za,za=E.getId(),m[za]=G,G.setChecked(l[za]?!0:!1),G.setUserObject(E),G.addCheckedListener(function(ja,va){if(va){va=ja.isChecked();ja=ja.getUserObject();if(va){l[ja.getId()]=ja;g();a.resetCurrentPaginationBarSelected();
for(var Da in m)if(!m[Da].isChecked())return}else delete l[ja.getId()],g(),a.resetCurrentPaginationBarSelected();k.setChecked(va)}}),E=G.getJqUi(),ua.layoutCtrl(E,12,4,23,23),E.appendTo(q)):1==ma?(q=$(G),E.isPreset()&&(G=$("<div>"),G.text(C.get("preset","\u9884\u7f6e")),G.addClass("select-publish-name-preset-tag"),G.appendTo(q)),ea(q,E.isPreset(),E.getPublishSourceType()),E instanceof Qa&&E.isDelete()&&fa(E.getPublishSourceType()).appendTo(q),G=$("<div>"),G.addClass("select-publish-name"),G.append(na.SplitMatchTextUtil.redTextAfterMatching(E.getName(),
t)),G.attr("title",E.getName()),G.appendTo(q)):E.isTimedPush()?(q=$(G),ia(q,ma,E,Ca)):(q=$(G),ha(q,ma,E,Ca))};var ha=function(G,q,N,E){if(2==q)E=$("<div>"),E.addClass("access-analysis-data-table-cell-left"),E.text(N.getCreatorName()),E.attr("title",N.getCreatorName()),G.append(E);else if(3==q){q=C.get("notSelected","\u672a\u9009\u62e9\u89d2\u8272\u6216\u7528\u6237");var ma=E="",Ca=N.getArrRoles();null!=Ca&&0<Ca.length&&(E=C.get("selectedRole","\u89d2\u8272#1\u4e2a").replace("#1",Ca.length));N=N.getArrUsers();
null!=N&&0<N.length&&(ma=C.get("selectedUser","\u7528\u6237#1\u4e2a").replace("#1",N.length));""!=E&&""!=ma?q=E+","+ma:""!=E?q=E:""!=ma&&(q=ma);E=$("<div>");E.addClass("access-analysis-data-table-cell-left");E.text(q);E.attr("title",q);G.append(E)}else 4==q&&(E=$("<div>"),E.addClass("access-analysis-data-table-cell-left"),E.text(N.getCreateFormatTime()),E.attr("title",N.getCreateFormatTime()),G.append(E))},ia=function(G,q,N,E){2==q?(q=$("<div>"),q.addClass("access-analysis-data-table-cell-left"),
N=null==N.getPublishSourceName()||""==N.getPublishSourceName()?"\u8be5\u4e1a\u52a1\u4e3b\u9898\u5df2\u5220\u9664":N.getPublishSourceGroupName()+"/"+N.getPublishSourceName(),q.text(N),q.attr("title",N),G.append(q)):3==q?(q=$("<div>"),q.addClass("access-analysis-data-table-cell-left"),q.text(N.getCreatorName()),q.attr("title",N.getCreatorName()),G.append(q)):4==q?(q=$("<div>"),q.addClass("access-analysis-data-table-cell-left"),q.text(N.getSchedule()),q.attr("title",N.getSchedule()),G.append(q)):5==
q?(q=$("<div>"),q.addClass("access-analysis-data-table-cell-left"),N=N.getOpenSchedule()?C.get("enable","\u542f\u7528"):C.get("notEnable","\u672a\u542f\u7528"),q.text(N),q.attr("title",N),G.append(q)):6==q&&(q=$("<div>"),q.addClass("access-analysis-data-table-cell-left"),q.text(N.getCreateFormatTime()),q.attr("title",N.getCreateFormatTime()),G.append(q))},ea=function(G,q,N){var E=$("<div>");E.addClass("select-publish-icon-type");Aa.background(E,N);q&&E.css("margin-left","5px");E.appendTo(G)},fa=function(G){var q=
$("<div>");q.addClass("select-delete-icon");q.text("!");"dashboard"==G?q.attr("title","\u8be5\u4eea\u8868\u677f\u5df2\u5220\u9664"):q.attr("title","\u8be5\u4e1a\u52a1\u4e3b\u9898\u5df2\u5220\u9664");return q}};this.resetHeader=function(v,J){y=v;H=J;if(b){la.clear(b);b.addColumns(y.length);for(v=0;v<H.length;v++)b.getColumn(v).setWidth(H[v]);J=la.createHeadRow(b);for(v=0;v<y.length;v++)J.getCell(v).setValue(y[v])}p.css("display","none")};this.updateTable=function(v){0==document.body.clientHeight||
0==document.body.clientWidth?(e=new Pa,e.setDelay(250),e.setCallback(function(){X(v)}),e.observe()):X(v)};var X=function(v){e&&e.unobserve();la.clearWithoutHead(b);if(v&&0<v.length){d.css("display","block");R(!0);m={};a.resetCurrentPaginationBarSelected();for(var J=0;J<v.length;J++){var Z=v[J],ha=la.createRow(b);ha.setHeight(30);ha.setUserObject(Z)}la.refresh(b)}else d.css("display","none"),R(!1)},R=function(v){v?(M.css("display","none"),V.css("display","none"),p.css("display","block")):(f==oa.publishTab&&
0>=n.getSelectedItem().length?(M.css("display","block"),V.css("display","none")):(V.css("display","block"),M.css("display","none")),p.css("display","none"))};this.resetCallBackTime=function(){u=(new Date).getTime()};this.refreshTable=function(){"none"!=d.css("display")&&(la.refresh(b),a.resetCurrentPaginationBarSelected())};this.onPublishSelectedChangeListener=function(v,J,Z){D=Z[0];S=D.getPathType();(J=v.getItemUiByModel(J[0]))&&J.find(".select-tree-menu-preset").removeClass("select-tree-menu-preset-selected");
(v=v.getItemUiByModel(D))&&v.find(".select-tree-menu-preset").addClass("select-tree-menu-preset-selected");I(!0)};var I=function(v,J,Z){v&&(L=1);var ha=L,ia=F;J&&(ia=ha=null);if(D.getPathType()==da.lapp){var ea=function(G){var q=G.data;if(q){var N=G.totalRow,E={},ma=[];G=[];for(var Ca in q){var za=new Qa;za.fromJsonObject(q[Ca]);E[za.getId()]=za;ma.push(za);G.push(za.getId())}q=new Ia(a.getRemoteImpl(),function(ja){if(!(f!=oa.publishTab&&u&&ja.callBackTime<u)){u=ja.callBackTime;ja=ja.data;for(var va in ja){var Da=
ja[va],Ra=E[Da.id];Ra.setCreatorName(Da.creatorName);Ra.addPermissionInfo(Da);Ra.setCreateFormatTime(Da.createFormatTime);Ra.setIsDelete(!1)}Z?Z(N):A.resetPaginationAndJumpToFirstPage(N);a.updateTable(ma)}});q.setShowBlocking(!1);q.getPublishDataByPath(G,D.getPathType(),t,x.sFilterType,ha,ia)}else a.updateTable(null)},fa=function(G){G=G.data;var q=[],N;for(N in G){var E=new Qa;E.fromJsonObject(G[N]);q.push(E)}ra(q)};Ba.getAnalysisInfosByDirIds(D.getRelationIds(),t,x.sFilterType,ha,ia,J?fa:ea,function(G,
q){if(5050009==G)return Ba.loadLappContext(n.getLappRemoteImpl(),!1,!1,function(){Ba.getAnalysisInfosByDirIds(D.getRelationIds(),t,x.sFilterType,ha,ia,J?fa:ea,function(N,E){r.showPrompt(E);return!0})},function(N,E){r.showPrompt(E);return!0}),!0;r.showPrompt(q);return!0})}else v=new Ia(a.getRemoteImpl(),function(G){if(!(f!=oa.publishTab&&u&&G.callBackTime<u)){u=G.callBackTime;var q=G.data;G=q.totalRow;q=q.data;var N=[],E;for(E in q){var ma=new hb;ma.fromJsonObject(q[E]);N.push(ma)}J?ra(N):(Z?Z(G):
A.resetPaginationAndJumpToFirstPage(G),a.updateTable(N))}}),v.setShowBlocking(!1),v.getPublishDataByPath(D.getRelationIds(),D.getPathType(),t,x.sFilterType,ha,ia)};this.onTimedSelectedChangeListener=function(v,J,Z){D=Z[0];S=D.getPathType();U(!0)};var U=function(v,J,Z){v&&(L=1);v=L;var ha=F;J&&(ha=v=null);var ia=new Ia(a.getRemoteImpl(),function(ea){if(!(f!=oa.timedPushTab&&u&&ea.callBackTime<u)){u=ea.callBackTime;var fa=ea.data;ea=fa.totalRow;var G=fa.data;fa=fa.pathType;var q=[];if(fa==da.email)for(var N in G){var E=
new $a;E.fromJsonObject(G[N]);E.setPath(fa);q.push(E)}else for(N in G)E=new ab,E.fromJsonObject(G[N]),E.setPath(fa),q.push(E);J?ra(q):(Z?Z(ea):A.resetPaginationAndJumpToFirstPage(ea),a.updateTable(q))}});ia.setShowBlocking(!1);ia.getTimedPushDataByPath(D.getRelationIds(),t,x.sFilterType,v,ha)},ra=function(v){for(var J in v){var Z=v[J];l[Z.getId()]=Z}g();a.refreshTable();a.resetCurrentPaginationBarSelected()},pa=null,wa=null,Sa={},Ta={};this.searchCardCountInAllMenu=function(v,J){t=v;if(f==oa.publishTab){if(n.getMenuInitialized()){J&&
n.reselectTheCurrentItem();var Z,ha,ia=n.hasLappMenu();if(Sa.sSearchText!==t||Sa.sFilterType!==x.sFilterType){Sa=ib();n.setTreeSearchCountParams(Sa);var ea=function(fa){Z=fa;ha&&(ha.lapp=Z,pa=ha,n.fixTreeBySearchCount(pa),n.doSearchMenuListener())};ia&&Ba.getPublishCountAggPath(t,x.sFilterType,ea,function(fa,G){if(5050009==fa)return Ba.loadLappContext(n.getLappRemoteImpl(),!1,!1,function(){Ba.getPublishCountAggPath(t,x.sFilterType,ea,function(q,N){r.showPrompt(N);return!0})},function(q,N){r.showPrompt(N);
return!0}),!0;r.showPrompt(G);return!0});v=new Ia(a.getRemoteImpl(),function(fa){ha=fa;if(Z||!ia)Z&&(ha.lapp=Z),pa=ha,n.fixTreeBySearchCount(pa),n.doSearchMenuListener()});v.setShowBlocking(!0);v.getPublishCountInAllMenu(t,x.sFilterType)}}}else if(J&&c.reselectTheCurrentItem(),Ta.sSearchText!==t||Ta.sFilterType!==x.sFilterType)Ta=ib(),c.setTreeSearchCountParams(Ta),v=new Ia(a.getRemoteImpl(),function(fa){wa=fa;c.fixTreeBySearchCount(wa);c.doSearchMenuListener()}),v.setShowBlocking(!0),v.getPushConfigCountInAllMenu(t,
x.sFilterType)};var ib=function(){return{sSearchText:t,sFilterType:x.sFilterType}};this.resetCurrentPaginationBarSelected=function(){A.refreshSelectedRowTotal(fb(!0))};var fb=function(v){var J=0,Z=Object.keys(l);if(S==da.center||S==da.lapp){var ha=D.getRelationIds(),ia;for(ia in Z){var ea=l[Z[ia]];-1!=ha.findIndex(function(G,q,N){return G==ea.getPath()})&&bb(ea)&&(v?J++:delete l[ea.getId()])}}else if(S==da.appMenu){ha=D.getRelationIds();var fa="";for(ia in ha)ha[ia]&&(fa+=ha[ia]+"-");fa=fa.substring(0,
fa.length-1);for(ia in Z)ea=l[Z[ia]],fa==ea.getPath()&&bb(ea)&&(v?J++:delete l[ea.getId()])}else for(ia in Z)ea=l[Z[ia]],ea.getPath()==S&&bb(ea)&&(v?J++:delete l[ea.getId()]);return J},bb=function(v){if(t&&""!=t&&-1==v.getName().indexOf(t))return!1;var J=!1;"ALL"==x.sFilterType?J=!0:"ANALYSIS"==x.sFilterType&&v.isAnalysis()?J=!0:"SQUARE"==x.sFilterType&&v.isSquareData()?J=!0:"DASHBOARD"==x.sFilterType&&v.isDashboard()&&(J=!0);return J};this.setPublishTablePane=function(v){n=v};this.setTimedPushTablePane=
function(v){c=v};this.setMapSelectPublish=function(v){l=v};this.setSyncUiBySelectMap=function(v){g=v};this.setCurrentTab=function(v){f=v};this.setJqTips=function(v,J){M=v;V=J};this.setMessageCurtain=function(v){r=v};this.setFilterType=function(v){x=v};var Ua;this.getRemoteImpl=function(){null==Ua&&(Ua=new La,Ua.setRemoteUrl(a.getRemoteUrl()));return Ua};this.getRemoteUrl=function(){var v=Ha.decodeParamFromUrl(window.location.search,"path");return(v?v:"/ierp")+"/qing/selectPublish.do"}}function w(){Oa.call(this);
var a=this.protectedMethod;a.setTotalSelectedRowAndSelectedAllVisual(!1,!0);a.setTotalRowVisual(!0);a.setTotalPageVisual(!1);a.setCurrentPageVisual(!1);a.setFirstBtnAndEndBtnVisual(!1)}function B(){var a=this,b,e,d,k,m=[],l={};this.getJqUi=function(){if(!b){b=$("<div>");b.css({height:"100%",width:"100%"});var p=$("<div>");p.css("height","35px");p.appendTo(b);e=$("<div>");e.text(C.get("selected0","\u5df2\u9009")+" ("+Object.keys(l).length+")");e.addClass("select-publish-selected");e.appendTo(p);var L=
new aa(C.get("clearAll","\u5168\u90e8\u6e05\u9664"));L.addActionListener(g);d=L.getJqUi();ua.layoutCtrlWithLRTB(d,null,15,60,10,null,20);d.appendTo(p);k=$("<ol>");k.addClass("select-publish-selected-ol");k.appendTo(b);a.syncUiBySelectMap()}return b};var g=function(){var p=Object.keys(l),L;for(L in p)delete l[p[L]];a.syncUiBySelectMap();A()};this.addDeleteListener=function(p){m.push(p)};var A=function(){for(var p in m)(0,m[p])()};this.syncUiBySelectMap=function(){k.empty();var p=Object.keys(l);e.text(C.get("selected0",
"\u5df2\u9009")+" ("+Object.keys(l).length+")");if(!(null==p||0>=p.length))for(var L in p){var F=l[p[L]],x=F.getName(),S=$("<li>");S.addClass("select-publish-selected-li");S.attr("title",x);var t=$("<div>");t.text(x);t.addClass("select-publish-selected-li-text");x=$("<div>");x.addClass("select-publish-selected-li-icon");Aa.background(x,"selected_btn_delete");x.data("oSelectPublishModel",F);x.on("click",function(D){D.stopPropagation();D=$(D.currentTarget).data("oSelectPublishModel");delete l[D.getId()];
a.syncUiBySelectMap();A()});x.hide();S.on("mouseenter",function(){$(this.children[1]).show()});S.on("mouseleave",function(){$(this.children[1]).hide()});t.appendTo(S);x.appendTo(S);S.appendTo(k)}};this.setSelectPublish=function(p){l=p};this.getSelectPublish=function(){return l}}function ta(){var a=this,b,e,d,k=[],m,l,g,A,p,L,F;this.getJqUi=function(){b||(e=new jb,e.setBorderVisible(!1),e.scrollSelectedToVisible(),e.setCustomItemPainter(D),e.addSelectedChangedListener(A),e.setUserObject(d),e.setItemModels(d),
b=e.getJqUi());return b};this.resetItemModels=function(c){d=c;e.setUserObject(d);e.setItemModels(d);V();M(e.getUserObject())};this.setOnSelectedChangeListener=function(c){A=c};this.searchMenu=function(c){V(c);if(null==c||""==c)return l=null,M(e.getUserObject()),d.every(function(f){return f.getIsFiltered()})&&g.showPrompt(C.get("","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c\u3002")),null;if(c==l&&F==L)return m+1>=k.length?m=0:m+=1,S(k[m]),[m+1,k.length];L=F;k=x(c);m=0;if(0<
k.length)return l=c,S(k[m]),[m+1,k.length];l=null;M(e.getUserObject());g.showPrompt(C.get("","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c\u3002"));return null};var x=function(c){var f=[],r;for(r in d)d[r].getNoMatchText()||d[r].getIsFiltered()||-1<d[r].getDisPlayName().indexOf(c)&&f.push(d[r]);return f},S=function(c){var f=c;if(!f.getShowFolderNode()){f.setShowFolderNode(!0);for(var r=f.getParentNode();r;)r.setShowFolderNode(!0),r.setIsOpenDir(!0),f=r,r=r.getParentNode();u(f)}a.jumpToTheSelected(c)};
this.jumpToTheSelected=function(c){M(e.getUserObject());e.setSelecteds([c]);e.scrollSelectedToVisible(c)};this.getSelectedItem=function(){return e.getSelecteds()};this.reselectTheCurrentFirstItem=function(){var c=e.getSelecteds();if(!(0>=c.length)){var f=c[0];c.splice(0);a.jumpToTheSelected(f)}};this.setSearchCountParams=function(c){F=c};this.fixTreeBySearchCount=function(c){if((p=c)&&null!=F.sSearchText&&""!=F.sSearchText)for(var f in d)c=d[f],c.setShowFolderNode(!0),c.setIsOpenDir(!0);d&&0<d.length&&
(M(d),e.scrollSelectedToVisible())};var t=function(c){var f=c.getPathType();if(f==da.appMenu){f=c.getRelationIds();c=f[0];for(var r=1;r<f.length;r++)null!=f[r]&&(c+="-"+f[r]);return(r=p[da.appMenu])&&r[c]?r[c]:0}if(f==da.center){f=c.getRelationIds();var y=p[da.center];if(!y)return 0;c=0;for(r in f)y[f[r]]&&(c+=y[f[r]]);return c}if(f==da.lapp){f=c.getRelationIds();y=p[da.lapp];if(!y)return 0;c=0;for(r in f)y[f[r]]&&(c+=y[f[r]]);return c}if(f==da.vx||f==da.dd||f==da.yzj||f==da.email)return r=0,p[f]&&
(r+=p[f]),r},D=function(c,f){c.addClass("select-tree-menu-dir");var r=$("<div>");r.addClass("select-tree-menu-icon");r.css("margin-left",26*f.getLevel()+"px");r.data("oItemModel",f);var y=$("<div>");f.getIsPreset()&&(y.addClass("select-tree-menu-preset"),y.text(C.get("preset","\u9884\u7f6e")),y.css("margin-left",16+26*f.getLevel()+"px"),c.append(y));var H=$("<div>");H.addClass("select-tree-menu-text");var P=0,T=26*f.getLevel()+5,X=kb.getUrlParamValue("language");if(f.getIsPreset()){var R=28;"en"==
X&&(R=38);P=R;T+=R}H.css("margin-left",P+26*f.getLevel()+"px");X=$("<span>");X.text(f.getDisPlayName());f.getNoMatchText()||(X=na.SplitMatchTextUtil.redTextAfterMatching(f.getDisPlayName(),l));H.append(X);c.attr("title",f.getDisPlayName());f.getChildren()&&f.getChildren().some(function(I){return!I.getIsFiltered()})?(y=f.getIsOpenDir(),n(r,y),c.append(r),T+=15):(H.css("margin-left",P+26*f.getLevel()-14+"px"),y.css("margin-left",2+26*f.getLevel()+"px"));c.append(H);p&&null!=F.sSearchText&&""!=F.sSearchText&&
(y=f.getCount(),P=$("<div>"),P.addClass("select-tree-menu-count"),P.text("("+y+")"),c.append(P),P=new cb,P.setFontSize(12),y=P.measureWidth("("+y+")"),T+=y);H.css("width","calc(100% - "+T+"px)");f.getRelationIds()||c.removeClass("sa-ctrl-list-item");!f.getShowFolderNode()||f.getIsFiltered()?c.hide():(c.show(),r.on("mousedown",function(I){I.stopPropagation();if(I=$(I.currentTarget).data("oItemModel")){if(I.getChildren()&&0<I.getChildren().length){var U=I.getIsOpenDir();I.setIsOpenDir(!U)}else I.setIsOpenDir(!0);
u(I);M(e.getUserObject())}}));f==e.getSelecteds()[0]&&(c.addClass("sa-ctrl-list-item_selected_enabled"),c.find(".select-tree-menu-preset").addClass("select-tree-menu-preset-selected"))},u=function(c){if(null!=c&&(c=c.getChildren())&&0<c.length)for(var f=0;f<c.length;f++)c[f].getParentNode().getIsOpenDir()&&c[f].getParentNode().getShowFolderNode()?c[f].setShowFolderNode(!0):c[f].setShowFolderNode(!1),u(c[f])},M=function(c){var f=b.find(".sa-ctrl-list-owner");f.empty();for(var r=$(document.createDocumentFragment()),
y=D,H=0;H<c.length;H++){var P=$("<div>");P.addClass("sa-ctrl-list-item");P.addClass("sa-ctrl-list-item_enabled");P.addClass("sa-ctrl-list-item-defaultlayout");var T=c[H];P.data("model",T);y(P,T);r.append(P)}f.append(r)},V=function(c){for(var f=0;f<d.length;f++){var r=d[f];r.setIsFiltered(!0);r.setCount(p&&r.getRelationIds()?t(r):0);var y;if(y=0<r.getCount()){y=r;var H=c;if(null==H||""==H)y=!0;else{for(var P=!1;y;){if(!y.getNoMatchText()&&-1<y.getDisPlayName().indexOf(H)){P=!0;break}y=y.getParentNode()}y=
P}}if(y)for(;r;)r.setIsFiltered(!1),r=r.getParentNode()}},n=function(c,f){f?(c.addClass("lower-triangle"),c.removeClass("upper-triangle")):(c.addClass("right-triangle"),c.removeClass("lower-triangle"))};this.setTreeSelectorModel=function(c){d=c};this.setMessageCurtain=function(c){g=c}}function ka(){var a=0,b=[],e,d,k,m,l,g,A,p,L=0,F;this.setNoMatchText=function(x){p=x};this.getNoMatchText=function(){return p};this.setPathType=function(x){A=x};this.getPathType=function(){return A};this.setRelationIds=
function(x){g=x};this.getRelationIds=function(){return g};this.setParentNode=function(x){e=x};this.getParentNode=function(){return e};this.setDisPlayName=function(x){l=x};this.getDisPlayName=function(){return l};this.setChildren=function(x){b=x};this.getChildren=function(){return b};this.setShowFolderNode=function(x){m=x};this.getShowFolderNode=function(){return m};this.setIsOpenDir=function(x){k=x};this.getIsOpenDir=function(){return k};this.setLevel=function(x){a=x};this.getLevel=function(){return a};
this.setIsPreset=function(x){d=x};this.getIsPreset=function(){return d};this.setCount=function(x){L=x};this.getCount=function(){return L};this.setIsFiltered=function(x){F=x};this.getIsFiltered=function(){return F}}function sa(){ka.call(this);var a=this;this.fromJsonObject=function(b){a.setIsPreset(b.isPreset);a.setDisPlayName(b.name);a.setLevel(a.getLevel()+1);a.setPathType(da.center);var e=[];e.push(b.relationId);if(null!=b.mergeRelationIds){var d=b.mergeRelationIds,k;for(k in d)e.push(d[k])}a.setRelationIds(e);
if(b=b.children)for(k=0;k<b.length;k++)e=b[k],d=new sa,a.getChildren().push(d),d.setParentNode(a),d.setLevel(a.getLevel()),d.fromJsonObject(e)}}function qa(){ka.call(this);var a=this;this.fromJsonObject=function(b){"APP_MENU_HAS_BEEN_DELETED"==b.displayName||"APP_HAS_BEEN_DELETED"==b.displayName?a.setDisPlayName("\u8be5\u5e94\u7528\u83dc\u5355\u5df2\u88ab\u5220\u9664"):a.setDisPlayName(b.displayName);a.setLevel(a.getLevel()+1);a.setPathType(da.appMenu);var e=[];e.push(b.cloudId);e.push(b.appId);e.push(b.appMenuId);
e.push(b.appMenuId2);a.setRelationIds(e);if(b=b.children)for(e=0;e<b.length;e++){var d=b[e],k=new qa;a.getChildren().push(k);k.setParentNode(a);k.setLevel(a.getLevel());k.fromJsonObject(d)}}}function Ea(){ka.call(this);var a=this;this.fromJsonObject=function(b){a.setDisPlayName(b.name);a.setRelationIds(b.ids);a.setLevel(a.getLevel()+1);a.setPathType(da.lapp)}}function xa(){var a=this,b,e,d,k;this.setAppType=function(m){b=m};this.getAppType=function(){return b};this.setGroupName=function(m){e=m};this.getGroupName=
function(){return e};this.setSeq=function(m){d=m};this.getSeq=function(){return d};this.setLappTreeNode=function(m){k=m};this.getLappTreeNode=function(){return k};this.fromJsonObject=function(m){if(m){b=m.appType;a.fromGroupTypeId(b);k=new Ea;k.setDisPlayName(C.get("lightapp","\u79fb\u52a8\u8f7b\u5e94\u7528")+"\uff08"+e+"\uff09");k.setShowFolderNode(!0);k.setNoMatchText(!0);var l=k.getChildren();m=m.directoryMergeVos;for(var g=0;g<m.length;g++){var A=new Ea;A.fromJsonObject(m[g]);A.setParentNode(k);
l.push(A)}}};this.fromGroupTypeId=function(m){var l=com.kingdee.bos.qing.lapp.integration.AppType;switch(m){case l.YZJ:e=C.get("yzj","\u4e91\u4e4b\u5bb6");d=0;break;case l.DINGDING_OFFLINE:e=C.get("dd","\u9489\u9489");d=1;break;case l.WXQYH:e=C.get("vx","\u4f01\u4e1a\u5fae\u4fe1");d=2;break;case l.MISSIONCLOUD:e=C.get("meiXinCloud","\u7f8e\u4fe1\u4e91");d=3;break;case l.WELINK:e="WeLink";d=4;break;case l.WXXCX:e=C.get("miniProgram","\u5fae\u4fe1\u5c0f\u7a0b\u5e8f");d=5;break;case l.JDY:e=C.get("jingDouCloud",
"\u7cbe\u6597\u4e91");d=6;break;case l.THIRDPARTY:e=C.get("other","\u5176\u4ed6");d=7;break;default:e="\u672a\u77e5",d=100}}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.accessanalysis&&(com.kingdee.bos.qing.accessanalysis={});var na=com.kingdee.bos.qing.accessanalysis;na.AbstractAccessAnalysisIndex=
function(){Q.call(this);var a=this,b,e,d,k,m,l,g,A,p,L,F,x,S,t,D,u,M;this.getJqUi=function(y){if(!b){b=$("<div>");b.addClass("access-analysis");var H=$("<div>");H.addClass("access-analysis-head");var P=$("<div>");P.addClass("access-analysis-filter");var T=new cb,X=0;T.setFontSize(14);var R=C.get("filter","\u7b5b\u9009\u6761\u4ef6"),I=T.measureWidth(R),U=new ca;U.setText(R);U=U.getJqUi();U.children().css("font-size","14px");ua.layoutCtrl(U,16,0,I,23);X+=16+I;T.setFontSize(12);var ra=T.measureWidth(k);
I=new ca;I.setText(k);I=I.getJqUi();ua.layoutCtrl(I,X+20,0,ra,23);X+=20+ra;ra=a.createFilterContent();ua.layoutCtrl(ra,X+10,0,180,23);X+=190;R=C.get("operationTime","\u64cd\u4f5c\u65e5\u671f");var pa=T.measureWidth(R)+7;T=new ca;T.setText(R);T.setRequired(!0);T=T.getJqUi();ua.layoutCtrl(T,X+35,0,pa,23);X+=35+pa;l=new lb;R=l.getJqUi();ua.layoutCtrl(R,X+6,0,210,23);X+=216;pa=new Fa;pa.setText(C.get("query","\u67e5\u8be2"));pa.setTooltips(C.get("query","\u67e5\u8be2"));pa.addActionListener(a.queryDataByFilter);
pa=pa.getJqUi();ua.layoutCtrl(pa,X+30,13,60,28);X=$("<div>");X.addClass("access-analysis-toolbar");g=new Fa;g.setText(C.get("exportToExcel","\u5bfc\u51faExcel"));g.setTooltips(C.get("exportToExcel","\u5bfc\u51faExcel"));g.addActionListener(c);g.getJqUi().appendTo(X);var wa=new Fa;wa.setText(C.get("refresh","\u5237\u65b0"));wa.setTooltips(C.get("refresh","\u5237\u65b0"));wa.addActionListener(a.reFreshPage);wa.getJqUi().appendTo(X);wa=new Fa;wa.setText(C.get("closePage","\u9000\u51fa"));wa.setTooltips(C.get("closePage",
"\u9000\u51fa"));wa.addActionListener(f);wa.getJqUi().appendTo(X);U.appendTo(P);I.appendTo(P);ra.appendTo(P);T.appendTo(P);R.appendTo(P);pa.appendTo(P);P.appendTo(H);X.appendTo(H);H.appendTo(b);V().appendTo(b);y.append(b)}return b};var V=function(){var y=$("<div>");y.addClass("access-analysis-data");e=$("<div>");e.addClass("access-analysis-content");e.css("height",document.documentElement.clientHeight-170+"px");m=$("<div>");m.addClass("access-analysis-tips");var H=$("<div>");H.addClass("access-analysis-tips-background");
Aa.background(H,"nodata");var P=$("<div>");P.addClass("access-analysis-tips-text");P.text(C.get("tips","\u6ca1\u6709\u7b26\u5408\u7b5b\u9009\u6761\u4ef6\u7684\u7ed3\u679c"));m.append(H);m.append(P);m.css("display","none");m.appendTo(e);x=n();x.css("display","none");F=a.createTableJqUi();F.css("height",document.documentElement.clientHeight-170-57+"px");var T=!1,X=0,R=0,I;F.children().first().scroll(function(){var U=$(this).scrollLeft();clearTimeout(I);I=setTimeout(function(){a.updateTotalComponent(L,
U)},10)});F.children("div:nth-child(2)").on("mousedown",function(U){T=!0;X=U.screenX;R=U.screenY});document.addEventListener("mouseup",function(U){!T||X==U.screenX&&R==U.screenY||(T=!1,a.updateTotalComponent(L))});x.appendTo(e);F.appendTo(e);e.appendTo(y);A=new Y;p=A.getJqUi();p.css("display","none");p.appendTo(e);a.queryDataByFilter();H=new Pa;H.setDelay(250);H.setCallback(function(){"none"!=b.css("display")&&0!=document.body.clientHeight&&0!=document.body.clientWidth&&a.relayout()});H.observe();
return y},n=function(){S=new z;S.setJumpToPageListener(function(y,H,P){a.changePageListener(y,H,P)});S.setComboBoxItemModelsAndSelectedItem([5,10,20,50,100,500,1E3],2);return S.getJqUi()};this.showOrHideContent=function(y){y?(g.setEnabled(!0),m.css("display","none"),x.css("display","block"),p.css("display","block")):(g.setEnabled(!1),m.css("display","block"),x.css("display","none"),p.css("display","none"))};var c=function(){var y=(new Date).getTime(),H="Qing-"+Ha.formatDate("yyyyMMdd_HHmmss")+".xlsx",
P=function(R){db.downloadFile(H,R);Na.interestInBehavior(Na.EXPORT_TYPE,"EXCEL",(new Date).getTime()-y)},T=function(R,I){return 801001==R?(a.getMessageCurtain().showPrompt("\u6ca1\u6709\u6570\u636e\u53ef\u4f9b\u5bfc\u51fa\u3002"),!0):!1},X=Ja.createFeedbackDialog();X.setOptionType(Ja.OPTION_OK_CANCEL);X.setMessage(C.get("confirmToExport","\u5f53\u524d\u64cd\u4f5c\u5c06\u5bfc\u51fa#1\u6761\u8bb0\u5f55\uff0c\u662f\u5426\u786e\u5b9a\u5bfc\u51fa\uff1f").replace("#1",a.getTotalRow()));X.setClosingChecker(function(R){R==
Ja.RETURN_OK&&a.doExportData(u,M,P,T);return!0});X.showDialog()};this.getTotalRow=function(){};var f=function(){mb.closeCurrentTab()};this.changePageListener=function(y,H,P){t=y;D=H;r(P)};this.changeSortListener=function(y,H){t=1;u=y;M=H;r()};this.queryDataByFilter=function(){a.resetTableComponents();r()};this.reFreshPage=function(){a.queryDataByFilter()};var r=function(y){u=null!=u?u:a.getDefaultSortField();M=null!=M?M:a.getDefaultSortOrder();a.remoteQueryData(u,M,t,D,y)};this.remoteQueryData=function(y,
H,P,T,X){};this.doExportData=function(y,H,P,T,X){};this.resetTableComponents=function(){t=1;D=a.getPaginationBar().getPageSize();u=a.getDefaultSortField();M=a.getDefaultSortOrder();a.resetSortHelper()};this.createFilterContent=function(){throw Error("Override");};this.setFilterTips=function(y){k=y};this.getDateRangeSelect=function(){return l};this.getPaginationBar=function(){return S};this.protectChangeListener=function(){"none"!=b.css("display")&&a.relayout()};this.relayout=function(){"none"!=p.css("display")?
(e.css("height",document.documentElement.clientHeight-186+"px"),F.css("height",document.documentElement.clientHeight-196-32-25+"px")):(e.css("height",document.documentElement.clientHeight-176+"px"),F.css("height",document.documentElement.clientHeight-176-32+"px"));a.relayoutTable();a.updateTotalComponent(L)};this.getMessageCurtain=function(){null==d&&(d=new nb,d.getJqUi().appendTo($("#switch-tab")));return d};this.updateTotalComponent=function(y,H){y&&(L=y);L&&(A.setArrTotalText(L),A.updateTotalColumn(a.getTable(),
H))}};na.AbstractAccessAnalysisDialog=function(){Wa.call(this);Q.call(this);var a=this,b=this.protectedMethod,e,d,k,m,l,g,A,p;(function(){b.setSelectable(!0);b.getDialogCtrl().setFullScreenEnabled();b.getDialogCtrl().addResizeListener(function(){a.relayoutTable()});b.setContentPaneCreator(function(){e=$("<div>");var t=$("<div>");t.addClass("access-analysis-detail-panel-top");a.createTopContent(t);d=$("<div>");d.addClass("access-analysis-tips");var D=$("<div>");D.addClass("access-analysis-tips-background");
Aa.background(D,"nodata");var u=$("<div>");u.addClass("access-analysis-tips-text");u.text(C.get("tips","\u6ca1\u6709\u7b26\u5408\u7b5b\u9009\u6761\u4ef6\u7684\u7ed3\u679c"));d.append(D);d.append(u);d.css("display","none");D=L();t.appendTo(e);d.appendTo(e);D.appendTo(e);return e});b.setClosingAction(function(t){});b.setFooterClosingOnly(!0)})();this.createTopContent=function(t){var D=$("<div>");D.text(C.get("exportToExcel","\u5bfc\u51faExcel"));D.addClass("access-analysis-export");D.on("click",S);
ua.layoutCtrlWithLRTB(D,null,10,null,0);D.appendTo(t)};var L=function(){var t=$("<div>");t.addClass("access-analysis-detail-content");k=F();k.css("display","none");var D=a.createTableJqUi();D.addClass("access-analysis-detail-dialog-table");k.appendTo(t);D.appendTo(t);setTimeout(function(){a.queryDataByFilter()},0);return t},F=function(){m=new O;m.setJumpToPageListener(function(t,D,u){a.changePageListener(t,D,u)});m.setComboBoxItemModelsAndSelectedItem([5,10,20,50,100,500,1E3],2);return m.getJqUi()};
this.queryDataByFilter=function(){l=1;g=m.getPageSize();x()};this.changePageListener=function(t,D,u){l=t;g=D;x(u)};this.changeSortListener=function(t,D){l=1;A=t;p=D;x()};var x=function(t){A=null!=A?A:a.getDefaultSortField();p=null!=p?p:a.getDefaultSortOrder();a.remoteQueryData(A,p,l,g,t)};this.remoteQueryData=function(t,D,u,M,V){};var S=function(){var t=(new Date).getTime(),D="Qing-"+Ha.formatDate("yyyyMMdd_HHmmss")+".xlsx",u=function(n){db.downloadFile(D,n);Na.interestInBehavior(Na.EXPORT_TYPE,"EXCEL",
(new Date).getTime()-t)},M=function(n,c){return 801001==n?(b.getMessageCurtain().showPrompt("\u6ca1\u6709\u6570\u636e\u53ef\u4f9b\u5bfc\u51fa\u3002"),!0):!1},V=Ja.createFeedbackDialog();V.setOptionType(Ja.OPTION_OK_CANCEL);V.setMessage(C.get("confirmToExport","\u5f53\u524d\u64cd\u4f5c\u5c06\u5bfc\u51fa#1\u6761\u8bb0\u5f55\uff0c\u662f\u5426\u786e\u5b9a\u5bfc\u51fa\uff1f").replace("#1",a.getTotalRow()));V.setClosingChecker(function(n){n==Ja.RETURN_OK&&a.doExportData(A,p,u,M);return!0});V.showDialog()};
this.getTotalRow=function(){};this.doExportData=function(t,D,u,M){};this.showOrHideContent=function(t){t?(d.css("display","none"),k.css("display","block")):(d.css("display","block"),k.css("display","none"))};this.getPaginationBar=function(){return m};this.setTitle=function(t){b.setTitle(t)}};na.PublishNameDialogSelector=function(){ob.call(this);var a=this,b,e,d={},k=a.getJqUi;this.getJqUi=function(){b||(b=k(),m(),b.on("mouseover",function(){0<Object.keys(d).length&&e.show()}),b.on("mouseleave",function(){e.hide()}));
return b};var m=function(){e=$("<div>");e.css({position:"absolute",height:"16px",width:"16px",right:"25px",bottom:"6px",cursor:"pointer",display:"none"});Aa.background(e,"selected_btn_delete");e.on("click",function(){d={};a.updateUI();e.hide()});e.appendTo(b)};this.getDisplayText=function(){var A=Object.keys(d);return!A||0>=A.length?C.get("select","\u8bf7\u9009\u62e9")+C.get("PublishOrPushName","\u53d1\u5e03/\u63a8\u9001\u540d\u79f0"):C.get("selected","\u5df2\u9009\u62e9")+" "+A.length+" "+C.get("dataContent",
"\u6761\u6570\u636e\u5185\u5bb9")};this.protectedClickEvent=function(){l()};var l=function(){var A=new K;A.setConfirmCallBack(function(p){d=p;a.updateUI()});A.setMapSelectPublish(g());A.showDialog()},g=function(){var A={},p=Object.keys(d);if(p)for(var L in p){var F=d[p[L]];F&&(A[p[L]]=F.cloneMe())}return A};this.getSelectedValue=function(){var A=Object.keys(d);if(!A||0>=A.length)return[];var p=[],L;for(L in A){var F=d[A[L]];var x=F instanceof $a?"emailTimedPush":F instanceof ab?"lappTimedPush":"publish";
p.push({id:F.getId(),pathType:x})}return p}};na.UserDialogSelectorDisPlay=function(){pb.call(this);var a=this,b,e=a.getJqUi;this.getJqUi=function(){if(!b){b=e();var d=a.getJqUi().children("div");d.css("bottom","4px");Aa.background(d,"selected_btn_delete")}return b};this.getDisplayText=function(){var d=a.getSelectedValue();return 0==d.length?C.get("selectUser","\u8bf7\u9009\u62e9\u7528\u6237"):C.get("selected","\u5df2\u9009\u62e9")+" "+d.length+" "+C.get("users","\u4e2a\u7528\u6237")}};na.SwitchPage=
function(){var a,b=C.get("demonstrations","\u5c55\u793a\u65b9\u5f0f:"),e=[],d,k,m,l;this.getJqUi=function(A){a||(g(),A.append(a),k&&k.click());return a};var g=function(){a=$("<div id='switch-tab'>");var A=$("<div>");A.addClass("tab-switch-tab-head");a.append(A);var p=$("<div>");p.addClass("tab-switch-tab-head-tips");p.text(b);A.append(p);var L=$("<div>");L.addClass("tab-switch-tab-body");a.append(L);if(0<e.length)for(var F in e){p=e[F];var x=$("<div>");x.addClass("tab-switch-tab-switch-btn");x.text(p.getShowText());
x.data("oTab",p);x.click(function(S){var t=$(S.target);t.is(l)||(t.addClass("tab-switch-tab-switch-btn-selected"),null!=m&&(m.getJqUi(L).hide(),l.removeClass("tab-switch-tab-switch-btn-selected")),m=S=t.data("oTab"),l=t,t=S.getJqUi(L),L.has(t)?t.show():L.append(t),S.protectChangeListener())});A.append(x);d==p&&(k=x)}};this.setDefaultSelect=function(A){d=A};this.addTabContainers=function(A){e.push(A)};this.setShowTips=function(A){b=A}};na.AbstractPage=function(){var a;this.getJqUi=function(b){};this.getShowText=
function(){return a};this.setShowText=function(b){a=b};this.protectChangeListener=function(){}};na.SplitMatchTextUtil=new function(){this.redTextAfterMatching=function(b,e){if(null==e||""==e){var d=$("<span>");d.text(b);return d}d=$("<span>");for(var k=b.indexOf(e),m=e.length;-1!=k;)a(d,b.substring(0,k)),a(d,b.substring(k,k+m),!0),b=b.substring(k+m),k=b.indexOf(e);a(d,b);return d};var a=function(b,e,d){if(null!=e&&""!=e){var k=$("<span>");d&&k.css("color","red");k.text(e);k.appendTo(b)}}};var ca,
Fa,aa,nb,Xa,Wa,Ja,Ga,Ya,jb,Za,ua,gb,Ha,cb,la,kb,C,mb,Pa,db,pb,lb,Va,Ka,ob,eb,Ma,Ia,La,Aa,Qa,hb,$a,ab,Oa,Na,Ba;(function(){a=com.kingdee.bos.qing;kb=a.Seer;var a=com.kingdee.bos.qing.ui.component;ca=a.Label;Fa=a.ToolbarButton;aa=a.WorkButton;nb=a.MessageCurtain;Xa=a.SearchBox;Wa=a.AbstractModalDialog;Ja=a.MessageDialog;Ga=a.SplitPane;Ya=a.TabContainer;jb=a.List;Za=a.CheckBox;a=com.kingdee.bos.qing.common;ua=a.DomUtil;gb=a.DateFormater;Ha=a.Util;cb=a.TextMeasurer;a=com.kingdee.bos.qing.common.ui;la=
a.TableUtil;a=com.kingdee.bos.qing.framework.common;C=a.MultilanguageManager.createPackageAccessor(na);mb=a.TabbedUiUtil;Pa=a.WindowResizeObserver;db=a.RemoteFramework;a=com.kingdee.bos.qing.biz.common;pb=a.UserDialogSelector;ob=a.AbstractDialogSelector;lb=a.DateRangeSelector;Va=a.SortingHelper;Ka=a.SortingModel;a=com.kingdee.bos.qing.publish.common;eb=a.FilterModelType;Ma=a.CardFilterType;a=com.kingdee.bos.qing.accessanalysis.common;Ia=a.SelectPublishNameFacade;La=a.RemoteImpl;Aa=a.Icons;a=com.kingdee.bos.qing.accessanalysis.model;
Qa=a.LappPublishModel;hb=a.PublishModel;$a=a.EmailTimedPushModel;ab=a.LappTimedPushModel;a=com.kingdee.bos.qing.biz.common;Oa=a.ComplexPaginationBar;a=com.kingdee.bos.qing.behavior;Na=a.BehaviorManager;a=com.kingdee.bos.qing.timedpush;Ba=a.LappIntegration})();var da={center:"center",appMenu:"appMenu",lapp:"lapp",email:"email",yzj:"yzj",vx:"vx",dd:"dd"},oa={publishTab:"publish",timedPushTab:"timedPush"}})();
//qingVersionTag: 20250324