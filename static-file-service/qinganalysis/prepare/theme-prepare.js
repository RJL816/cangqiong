var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,n,h){if(l==Array.prototype||l==Object.prototype)return l;l[n]=h.value;return l};
$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<l.length;++n){var h=l[n];if(h&&h.Math==Math)return h}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(l,n){var h=$jscomp.propertyToPolyfillSymbol[n];if(null==h)return l[n];h=l[h];return void 0!==h?h:l[n]};$jscomp.polyfill=function(l,n,h,c){n&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,n,h,c):$jscomp.polyfillUnisolated(l,n,h,c))};
$jscomp.polyfillUnisolated=function(l,n,h,c){h=$jscomp.global;l=l.split(".");for(c=0;c<l.length-1;c++){var p=l[c];if(!(p in h))return;h=h[p]}l=l[l.length-1];c=h[l];n=n(c);n!=c&&null!=n&&$jscomp.defineProperty(h,l,{configurable:!0,writable:!0,value:n})};
$jscomp.polyfillIsolated=function(l,n,h,c){var p=l.split(".");l=1===p.length;c=p[0];c=!l&&c in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var y=0;y<p.length-1;y++){var w=p[y];if(!(w in c))return;c=c[w]}p=p[p.length-1];h=$jscomp.IS_SYMBOL_NATIVE&&"es6"===h?c[p]:null;n=n(h);null!=n&&(l?$jscomp.defineProperty($jscomp.polyfills,p,{configurable:!0,writable:!0,value:n}):n!==h&&(void 0===$jscomp.propertyToPolyfillSymbol[p]&&(h=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[p]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(p):$jscomp.POLYFILL_PREFIX+h+"$"+p),$jscomp.defineProperty(c,$jscomp.propertyToPolyfillSymbol[p],{configurable:!0,writable:!0,value:n})))};
$jscomp.polyfill("String.prototype.replaceAll",function(l){return l?l:function(n,h){if(n instanceof RegExp&&!n.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return n instanceof RegExp?this.replace(n,h):this.replace(new RegExp(String(n).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),h)}},"es_2021","es3");
(function(){function l(){var p,y,w,t,k=!1,F=!1;this.isFinshed=function(){return k};this.isMetaChanged=function(){return F};this.fromJsonObject=function(A){p=A.totalEntity;y=A.currentEntity;w=A.totalRows;t=A.dealRows;k=A.isFinished;F=A.metaChanged};this.toText=function(){if(k)return c.get("extractDataFinished","\u51c6\u5907\u6570\u636e\u5b8c\u6bd5\uff0c\u6b63\u5728\u521d\u59cb\u5316\u754c\u9762")+"...";if(!p||-1==p)return c.get("extractData","\u6b63\u5728\u51c6\u5907\u6570\u636e")+"...";var A=c.get("progressText",
"\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\u3002").replace("#1",p).replace("#2",y);0<t&&0>=w?A=c.get("progressTextWithDeal","\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\uff0c\u5df2\u5b8c\u6210 #3 \u884c\u3002").replace("#1",p).replace("#2",y).replace("#3",t):0<t&&0<w&&(A=c.get("progressTextWithTotal","\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\uff0c\u5df2\u5b8c\u6210 #3 \u884c\uff0c\u5171 #4 \u884c\u3002").replace("#1",
p).replace("#2",y).replace("#3",t).replace("#4",w));return A}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.model&&(com.kingdee.bos.qing.prepare.model={});var n=com.kingdee.bos.qing.prepare.model;n.ProgressModel=
l;var h={};n.SceneType=h;h.LONGER="longer";h.SQUARE="square";var c=com.kingdee.bos.qing.framework.common.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);l.ShowDataModelActionType="ShowDataModel";l.ShowErrorDetailActionType="ShowErrorDetail";l.ShowPermissionDetailActionType="ShowPermissionDetail";l.ShowSupportQingActionType="ShowSupportQingAnalysis"})();(function(){function l(){this.setCancelFun=function(b){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.finished=function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showProgress=function(b){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showExceptionInfo=function(b,f,r,u,e){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");}}function n(){var b=this;this.getJqUi=
function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showProgress=function(f){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.show=function(){var f=b.getJqUi();f&&f.show()};this.hide=function(){var f=b.getJqUi();f&&f.hide()}}function h(){var b=this;this.getJqUi=function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.show=function(){var f=b.getJqUi();f&&f.show()};this.hide=function(){var f=
b.getJqUi();f&&f.hide()};this.setFunExtractAgain=function(f){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.setFunEditDataModel=function(f){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.updateMessage=function(f,r,u,e,z){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");}}function c(){n.call(this);var b,f,r;this.getJqUi=function(){b||u();return b};var u=function(){var e=k.get("loading","\u6570\u636e\u51c6\u5907\u4e2d");
b=$("<div>");b.addClass("sa-common-loading-modallayer");w.layoutCtrl(b,0,0,"100%","100%");var z=$("<div>");z.addClass("sa-common-loading-panel");z.css({"margin-left":"-100px","margin-top":"-40px"});z.appendTo(b);w.layoutCtrl(z,"50%","50%",200,80);var x=$("<div>");x.addClass("sa-common-loading-icon");x.css("background-image",t.getIconUrl("common","loading.gif"));x.css({"margin-left":"-20px","margin-top":"-30px"});x.appendTo(z);w.layoutCtrl(x,"50%","50%",40,40);x=$("<div>");x.addClass("sa-common-loading-text");
f=$("<span>");f.text("string"==typeof e?e:k.get("loading","\u6570\u636e\u51c6\u5907\u4e2d"));f.appendTo(x);x.css({"margin-left":"-150px","margin-top":"15px",color:"#999"});x.appendTo(z);w.layoutCtrl(x,null,"50%",500,20);var E=$("<span>");E.text("  "+k.get("loadingToCancel","\u70b9\u51fb\u8fd9\u91cc\u53d6\u6d88"));E.css({display:"none","white-space":"pre-wrap",cursor:"pointer",color:"#88c"});E.appendTo(x);E.on("click",function(){r&&r()});setTimeout(function(){E.show()},3E3)};this.setCancelFun=function(e){r=
e};this.showProgress=function(e){e=e.toText();f&&f.text(e)};this.cancel=function(){r&&r()}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.ui&&(com.kingdee.bos.qing.prepare.ui={});var p=com.kingdee.bos.qing.prepare.ui;
p.PCProgressErrorPage=function(){h.call(this);var b,f,r,u,e=$(document.body),z=$("<div class='sa-ctrl-common-modallayer'>"),x,E,I,G,N,P,T,U,Q,K,R=m.getIconUrl("prepare","no-data-new.png");this.setFunExtractAgain=function(g){N=g};this.setFunEditDataModel=function(g){P=g};this.getJqUi=function(){b||M();return b};var M=function(){b=$("<div>");b.addClass("qing-welcome-sub-container");b.hide();u=$("<img>");u.addClass("qing-welcome-big-img");u.prop("src",m.getIconUrl("prepare","errorBackground.png"));f=
$("<span>");f.addClass("qing-welcome-error-text");b.append(u);b.append(f);G=$("<div>");G.addClass("qing-welcome-error-btn");G.text(k.get("extractAgain","\u91cd\u65b0\u62bd\u53d6"));G.on("click",function(g){N&&N()});b.append(G);r=$("<div>");r.addClass("qing-welcome-error-btn");r.on("click",V);b.append(r)},S=function(){z.detach();x.detach()},V=function(){if(B.ShowDataModelActionType==K)P&&P();else if(B.ShowErrorDetailActionType==K){if(!x){x=$("<div>");x.addClass("qing-welcome-error-logdetail-container");
var g=$("<div>");g.addClass("qing-welcome-error-logdetail-title-container");var d=$("<div>");d.addClass("qing-welcome-error-logdetail-titiletag");var v=$("<div>");v.addClass("qing-welcome-error-logdetail-title-lable");v.text(k.get("errorLog","\u9519\u8bef\u65e5\u5fd7"));var C=$("<div>");C.addClass("qing-welcome-error-logdetail-close");y||(y=com.kingdee.bos.qing.prepare.MyIcons);y.background(C,"errorClose");C.on("click",S);g.append(d);g.append(v);g.append(C);d=$("<div>");d.addClass("qing-welcome-error-logdetail-content-container");
E=$("<div>");E.css("padding","10px");I=$("<pre>");I.css("padding-left","10px");d.append(E);d.append(I);x.append(g);x.append(d)}I.text(Q);E.text(k.get("errorCode","\u9519\u8bef\u7801\uff1a")+T);z.appendTo(e);x.appendTo(e)}else B.ShowPermissionDetailActionType==K?(g=new a($(document.body)),g.setSize(440,330),g.setTitle(k.get("permissionTitle","\u6743\u9650\u63d0\u793a")),g.showDialog(q("\u5c1a\u672a\u83b7\u5f97\u4ee5\u4e0b\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650\uff1a"),!0)):B.ShowSupportQingActionType==
K&&(g=new a($(document.body)),g.setSize(440,330),g.setTitle(k.get("DetailInfo","\u8be6\u7ec6\u4fe1\u606f")),g.showDialog(q(k.get("notSupportQingAnalysis","\u4ee5\u4e0b\u4e1a\u52a1\u5b9e\u4f53\u5c1a\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff1a")),!0))},a=function(g){var d=$("<div class='sa-ctrl-common-modallayer'>"),v=new F(d),C=0,L=0,W=320,X=240,Y=g?g:$(document.body),aa,ba;this.setTitle=function(H){ba=H};this.setClosingListener=function(H){aa=H};this.setSize=
function(H,J){W=H;X=J};this.showDialog=function(H,J){d.appendTo(Y);if(!C){var O=Y.prop("clientWidth"),ca=Y.prop("clientHeight");C=O-W>>1;L=(ca-X)/3}v.setBounds(C,L,W,X);v.setToolbarVisible(!1);v.setContent(H,J);v.setTitle(ba);v.addClosingListener(function(Z,da){if(da)aa(da);else return Z.destroy(),d.remove(),!0});v.addClosedListener(function(Z){Z.destroy();d.remove()});v.showFooterPane(this.createFooter);v.show()};this.setContent=function(H,J){v.setContent(H,J)};this.destroy=function(){v.destroy();
d.remove()};this.createFooter=function(H){var J=new A(k.get("iknow","\u6211\u77e5\u9053\u4e86"));J.setHighlight(!0);var O=J.getJqUi();w.layoutCtrlWithLRTB(O,"50%",0,100,null,13,28);O.addClass("dialog-footer-close");O.css("margin-left","-50px");O.appendTo(H);J.addActionListener(function(ca){v.destroy();d.remove()})}},q=function(g){var d=$("<div>");d.addClass("qing-welcome-viewdetail-content");var v=$("<p>");v.addClass("qing-welcome-viewdetail-contenxt-texttitle");v.text(g);g=$("<p>");g.addClass("qing-welcome-viewdetail-contenxt-text");
g.html(U.replace(/,/g,k.get("semicolon","\uff1b")+"<br>"));d.append(v);d.append(g);return d};this.updateMessage=function(g,d,v,C,L){K=L;T=g;Q=v;U=d;f.text(C);B.ShowDataModelActionType==L?(G.hide(),r.show(),r.text(k.get("setDataModel","\u6570\u636e\u51c6\u5907"))):B.ShowErrorDetailActionType==L?(G.show(),r.show(),r.text(k.get("showErrorLog","\u663e\u793a\u9519\u8bef\u65e5\u5fd7"))):B.ShowPermissionDetailActionType==L?(G.show(),r.show(),r.text(k.get("viewDetails","\u67e5\u770b\u8be6\u60c5")),u.prop("src",
R)):B.ShowSupportQingActionType==L?(b.css("width","700px"),G.show(),r.show(),r.text(k.get("viewDetails","\u67e5\u770b\u8be6\u60c5")),u.prop("src",R),g=D.getSupportQingAnalysisUrl(),g=$("<a onclick='javascript:window.open(\""+g+"\");' href='#'>"),g.css("cursor","pointer"),g.css("color","#5582f3"),g.text(k.get("viewDocument","\u67e5\u770b\u5e2e\u52a9\u6587\u6863")),f.append(g)):(G.show(),r.hide())}};p.IProgressHandler=l;p.CustomProgressHandler=function(){l.call(this);var b,f,r,u,e;this.setCancelFun=
function(z){};this.init=function(z,x,E,I){b=z;f=x;r=E;e=I;u=e.getJqUi();b.append(u)};this.finished=function(){b&&(b.hide(),e.hide(),f.show(),r.text(k.get("extractData","\u6b63\u5728\u51c6\u5907\u6570\u636e")))};this.showProgress=function(z){b.show();e.hide();f.show();r.text(z.toText())};this.showExceptionInfo=function(z,x,E,I,G){b.show();e.show();f.hide();e.updateMessage(z,x,E,I,G)}};p.BlockingProgressHandler=function(){l.call(this);var b=new c,f=b.getJqUi();f.appendTo($(document.body));this.setCancelFun=
function(r){b.setCancelFun(function(){f.remove();r&&r()})};this.finished=function(){f.remove()};this.showProgress=function(r){b.showProgress(r)};this.showExceptionInfo=function(r,u,e,z,x){b.cancel();r=com.kingdee.bos.qing.ui.component.MessageDialog;u=new r;u.setOptionType(r.OPTION_OK);u.setMessage(z);e&&u.setDetail(e);u.showDialog()}};p.IProgressErrorUI=h;p.IProgressingUI=n;var y,w,t,k,F,A,B,D,m;(function(){var b=com.kingdee.bos.qing.common;w=b.DomUtil;b=com.kingdee.bos.qing.framework.common;k=b.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);
t=b.Resource;D=b.OfficialArticleUtil;b=com.kingdee.bos.qing.prepare.model;B=b.ProgressModel;b=com.kingdee.bos.qing.ui.component;F=b.Dialog;A=b.Button;b=com.kingdee.bos.qing;m=b.CodeLoader;t.bindLoader(m)})()})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.datainfo&&(com.kingdee.bos.qing.prepare.datainfo={});var l=com.kingdee.bos.qing.prepare.datainfo,n,h;(function(){var c=com.kingdee.bos.qing.framework.common;
n=c.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);c=com.kingdee.bos.qing.ui.component;h=c.HelpIcon})();l.DataSourceInfo=function(){var c,p,y,w;this.getExtractDataTime=function(){return c};this.getOriginalCreatorName=function(){return p};this.hasDirectModeTable=function(){return y};this.getNoAuthOperValueMap=function(){return w};this.fromJson=function(t){c=t.extractDataTime;p=t.originalCreatorName;y=t.hasDirectModeTable;w=t.noAuthOperValueMap}};l.DataInfoIconTipsUI=function(c){var p,
y,w;this.setModel=function(t){w=t;t=com.kingdee.bos.qing.CodeLoader;t.setCallback(function(){a:{if(w){y||(y=new h,y.setIconType(h.ICON_TYPE_INFO),p=y.getJqUi(),p.addClass("sa-qing-datainfo"),p.appendTo(c));var k="",F=w.getOriginalCreatorName();F&&(k+="<b>"+n.get("originalCreatorName","\u53d1\u5e03\u4eba\uff1a")+"</b>"+F+"</br>");if((F=w.getNoAuthOperValueMap())&&JSON.stringify(F)!=JSON.stringify({})){k+="</br><b>"+n.get("noAuthOperName","\u672a\u6388\u6743\u7684\u64cd\u4f5c\u6743\u9650\uff1a")+"</b>";
for(var A in F){var B=F[A],D=new com.kingdee.bos.qing.publish.model.OperCodeMap,m;for(m in D.getOperCodeMap()[A])if(1!=m&&0!=(m&B)){var b=D.getOperCodeMap()[A][m];k+=n.get(b,D.getOperNameMap()[b]);k+="\u3001"}k=k.slice(0,k.length-1)}k+="</br>"}if(A=w.getExtractDataTime())k&&(k+="</br>"),k+="<b>"+n.get("extractDataTime","\u6570\u636e\u66f4\u65b0\u65f6\u95f4\uff1a")+"</b>"+A+"</br>";y.setTipsHtml(k);if(k){p.show();break a}}p&&p.hide()}});t.setRootPath(".");t.loadI18n("publish","publish");t.loadJs("biz-common/qing-biz-common.js");
t.loadJs("schema-manage/schema-manage-initialize.js");t.loadJs("schema-manage/schema-manage-ui.js");t.loadJs("publish/qing-publish.js")}}})();(function(){function l(m,b,f,r){y.call(this,m,b,f,r);var u=this.protectedMethod;u.setShowBlocking(!1);this.getServerTimeStamp=function(){u.remote("getServerTimeStamp",{})};this.loadDataInfo=function(e){u.remote("loadDataInfo",e)};this.subjectStartExtractData=function(e){return u.remote("subjectStartExtractData",e)};this.billStartExtractData=function(e){return u.remote("billStartExtractData",e)};this.publishedStartExtractData=function(e){return u.remote("publishedStartExtractData",e)};this.publishedDsdRefAnalysisStartExtractData=
function(e){return u.remote("publishedDsdRefAnalysisStartExtractData",e)};this.nocodeCardStartExtractData=function(e){return u.remote("nocodeCardStartExtractData",e)};this.startAIHomePageSubjectExtractData=function(e){return u.remote("startAIHomePageSubjectExtractData",e)};this.designTimeNocodeCardStartExtractData=function(e){return u.remote("designTimeNocodeCardStartExtractData",e)};this.editTimedPushStartExtractData=function(e){return u.remote("editTimedPushStartExtractData",e)};this.workbenchWidgetStartExtractData=
function(e){return u.remote("workbenchWidgetStartExtractData",e)};this.metricStartExtractData=function(e){return u.remote("metricStartExtractData",e)};this.loadSubjectDataInfo=function(e){u.remote("loadSubjectDataInfo",e)};this.loadPublishedDataInfo=function(e){u.remote("loadPublishedDataInfo",e)};this.loadPublishedDsdRefAnalysisDataInfo=function(e){u.remote("loadPublishedDsdRefAnalysisDataInfo",e)};this.loadEditTimedPushDataInfo=function(e){u.remote("loadEditTimedPushDataInfo",e)};this.tryAddResourceLock=
function(e,z){u.remote("tryAddResourceLock",{groupId:e,resourceId:z})}}function n(){w.call(this);var m,b;this.getRemoteUrl=function(f){f.tag=b;return m};this.setRemoteUrl=function(f){m=f};this.setTag=function(f){b=f}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare=
{});var h=com.kingdee.bos.qing.prepare;h.RemoteImpl=n;var c,p,y,w;h.AbstractDataExtractor=function(){var m=this,b=null,f,r=!1,u=!1,e=null,z=!1;var x=t.decodeParamFromUrl(location.search,"tag");var E=t.decodeParamFromUrl(location.search,"path");this.setTag=function(a){x=a};this.protectedStart=function(a){f&&f.finished();u=r=!1;e&&(e(),e=null);f=a;document.body.style.height=document.documentElement.clientHeight+"px";P()};this.restart=function(){var a=new F;m.protectedStart(a)};this.getIsEditScene=function(){return z};
this.setIsEditScene=function(a){z=a};this.getJqUi=function(a){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.setExtractDataFinishedSuccessCallback=function(a){b=a;M()};this.getParamPathPrefix=function(){return E};this.appendExtraParamsToRemoteUrl=function(a){return a};var I=function(){var a=(E?E:"/ierp")+"/qing/prepare.do";a=m.appendExtraParamsToRemoteUrl(a);var q=new n;q.setRemoteUrl(a);q.setTag(x);return q},G=function(a,q,g){return new l(I(),a,function(d,v,C){return q&&
q(d,v,C)?!0:!1},g)},N,P=function(){var a=new k;f.showProgress(a);G(function(q){N=q;T(q)},function(q,g,d){R(q,g,d);return!0}).getServerTimeStamp()},T=function(a){U(a);var q={};q.timeStamp=a;var g=G(function(d){Q(a);if(d&&N==d.timeStamp){r=!0;var v=new k;v.fromJsonObject(d);u=v.isMetaChanged();f.showProgress(v);m.protectedNeedLoadDataInfo()?V():r&&M()}},function(d,v,C){Q(a);if(-1==d)return!0;u=r=!1;R(d,v,C);m.protectedNeedLoadDataInfo()?V():r&&M();return!0});g.setCancelable(!0);q.isEditScene=z;e=m.protectedInvokeExtractDataMethod(g,
q);f.setCancelFun(e)};this.protectedInvokeExtractDataMethod=function(a,q){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};var U=function(a){p.subscribeChannel("ExtractData"+a,K);m.protectedSubscribeCustomChannel(a)},Q=function(a){p.unsubscribeChannel("ExtractData"+a,K);m.protectedUnsubscribeCustomChannel(a)};this.protectedSubscribeCustomChannel=function(a){};this.protectedUnsubscribeCustomChannel=function(a){};this.protectedRejectExtractDataChanelMessage=function(a){return!1};
var K=function(a){if(!m.protectedRejectExtractDataChanelMessage(a)){a=JSON.parse(a);var q=new k;q.fromJsonObject(a);f.showProgress(q)}},R=function(a,q,g){if(2101001==a)var d=c.get("analysisNoFound","\u8be5\u6570\u636e\u5206\u6790\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else if(2101002==a||2101004==a){d=c.get("setDataModelBeforeAnalysis","\u8be5\u6570\u636e\u5206\u6790\u6ca1\u6709\u5b9a\u4e49\u6570\u636e\uff0c\u8bf7\u5148\u8fdb\u884c\u6570\u636e\u51c6\u5907");var v=k.ShowDataModelActionType}else if(2101003==
a||2101005==a)d=c.get("setDataModelBeforeAnalysis","\u8be5\u6570\u636e\u5206\u6790\u6ca1\u6709\u5b9a\u4e49\u6570\u636e\uff0c\u8bf7\u5148\u8fdb\u884c\u6570\u636e\u51c6\u5907");else if(2103001==a||2103002==a)d=c.get("publishedHasNotFound","\u8be5\u53d1\u5e03\u8bb0\u5f55\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else if(2101006==a){d=c.get("lackDataEntityAuthority","\u5c1a\u672a\u83b7\u5f97\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650");v=k.ShowPermissionDetailActionType;var C=
q.match(/(\(|\uff08)([^(\)|\uff09)]+)(\)|\uff09)/);C&&(q=C[2])}else if(2101018==a)D.getSupportQingAnalysisUrl(),d=c.get("entityNotSupportQingAnalysis","\u4e1a\u52a1\u5b9e\u4f53\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff0c\u8bf7\u5728\u5f00\u53d1\u5e73\u53f0\u7684\u5bf9\u5e94\u8868\u5355\u4e2d\u8fdb\u884c\u8bbe\u7f6e  "),(C=/(?:\u3010\s)(.+)(?=\s\u3011)/.exec(q))?q=C[1]:C=/(?:\u3010\s)(.+)/.exec(q),C&&(q=C[1]),v=k.ShowSupportQingActionType;else if(21000008==a)d=
c.get("noQingModelerLicense","\u5f53\u524d\u7cfb\u7edf\u6ca1\u6709\u3010\u8f7b\u5efa\u6a21\u3011\u6a21\u5757\u7684\u4f7f\u7528\u8bb8\u53ef\uff0c\u8bf7\u4e0e\u7cfb\u7edf\u7ba1\u7406\u5458\u8054\u7cfb");else if(2101016==a)d=c.get("subjectEntityMySQLMoreThan61Table","\u5f53\u524d\u5b9e\u4f53\u5173\u8054\u6570\u636e\u8868\u592a\u591a\uff0c\u8bf7\u51cf\u5c11\u5b9e\u4f53\u7684\u5206\u6790\u5b57\u6bb5\u6216\u5220\u9664\u4e0d\u9700\u8981\u7684\u5b9e\u4f53\u5206\u5f55\u3002");else if(2101009==a)d=c.get("subjectDataSourceError",
"\u6570\u636e\u6e90\u53d1\u751f\u5f02\u5e38"),v=k.ShowErrorDetailActionType;else if(2101010==a)d=c.get("qingStorageFileSizeLimit","\u8f7b\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3");else if(2100001==a)d=c.get("qingStorageNoSpace","\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\uff0c\u8bf7\u8054\u7cfb\u8fd0\u7ef4\u4eba\u5458\u6dfb\u52a0\u78c1\u76d8");else if(2101011==a)d=c.get("subjectDBDataSourceError","\u6570\u636e\u6e90\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5f02\u5e38"),v=k.ShowErrorDetailActionType;
else if(2101012==a)d=c.get("noDBCenterPermission","\u6ca1\u6709\u6570\u636e\u4e2d\u5fc3\u6743\u9650\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2101023==a)d=c.get("noSuperQueryAuth","\u6ca1\u6709\u5f53\u524d\u8d85\u7ea7\u67e5\u8be2\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2215011==a)d=c.get("noDmoPermission","\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0\u6743\u9650\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");
else if(2101013==a)d=c.get("entityDestroyed","\u5bf9\u5e94\u4e3b\u9898\u7684\u6570\u636e\u8868\u88ab\u635f\u574f");else if(2101014==a)d=c.get("entityDestroyedOwner","\u5bf9\u5e94\u4e3b\u9898\u7684\u6570\u636e\u8868\u88ab\u635f\u574f\uff0c\u8bf7\u91cd\u65b0\u8fdb\u884c\u6570\u636e\u51c6\u5907"),v=k.ShowDataModelActionType;else if(2101015==a)d=c.get("noDBCenterOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u6570\u636e\u4e2d\u5fc3\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",
q);else if(2215012==a)d=c.get("noDmoOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",q);else if(2101019==a)d=c.get("noModelerPermission","\u5c1a\u672a\u83b7\u5f97\u6570\u636e\u8868\u6a21\u578b\u7684\u6570\u636e\u6743\u9650");else if(2101020==a)d=c.get("noModelerOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u8f7b\u5efa\u6a21\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",
q);else if(2101021==a)d=c.get("notExistTable","\u65e0\u6cd5\u5728\u6a21\u5f0f\u201c#1\u201d\u4e2d\u627e\u5230\u8be5\u5b9e\u4f53\u6570\u636e\u8868").replaceAll("#1",q),v=k.ShowDataModelActionType;else if(2101022==a)d=c.get("noSuperQueryPerm","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u8d85\u7ea7\u67e5\u8be2\u76f8\u5173\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",q);else if(2101024==a)d=c.get("ownerNotExistTable","\u6570\u636e\u6e90\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6570\u636e\u6e90"),
v=k.ShowDataModelActionType;else if(2215020==a)d=c.get("dmoPermission","\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0#1\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",q);else if(2102004==a)d=c.get("emptyFormMetaInfo","\u4e1a\u52a1\u5355\u636e\u6ca1\u6709\u53ef\u5206\u6790\u7684\u5143\u6570\u636e");else if(2301001==a)d=c.get("publishedHasNotFound","\u8be5\u53d1\u5e03\u8bb0\u5f55\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else{if(1030001==a)return m.protectedShowNavTitle(),
com.kingdee.bos.qing.framework.common.RemoteFramework.openErrorPage(a,com.kingdee.bos.qing.common.Base64Util.encode(encodeURIComponent(q))),!0;d=c.get("extractDataError","\u51fa\u9519\u4e86\uff0c\u51c6\u5907\u6570\u636e\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9519\u8bef");v=k.ShowErrorDetailActionType}m.protectedShowExceptionInfo(a,q,g,d,v)};this.protectedShowExceptionInfo=function(a,q,g,d,v){f.showExceptionInfo(a,q,g,d,v)};var M=function(){r&&b&&(f.finished(),b(u),r=!1,b=null)};this.protectedShowNavTitle=
function(){};this.protectedNeedLoadDataInfo=function(){return!0};this.protectedInvokeLoadDataInfoMethod=function(a,q){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};var S,V=function(){S||(S=new B($(document.body)));var a=G(function(q){if(q){com.kingdee.bos.qing.framework.common.WebPageInitializer.init();var g=new A;g.fromJson(q);S.setModel(g);h.DataSourceInfoContext.setCurrentDataSourceInfo(g);q.warning&&(g=new com.kingdee.bos.qing.ui.component.MessageCurtain,g.getJqUi().appendTo($(document.body)),
g.showPrompt(q.warning,-1));M()}},function(q,g,d){window.console&&console.info("loadDataInfo error:"+q+" | "+g+" | "+d);M();return!0});m.protectedInvokeLoadDataInfoMethod(a,{})};this.protectedMethod={createFacade:G}};var t,k,F,A,B,D;(function(){var m=com.kingdee.bos.qing.framework.common;c=m.MultilanguageManager.createPackageAccessor(h);p=m.RemoteFramework;y=m.AbstractFacade;w=m.AbstractRemoteCall;D=m.OfficialArticleUtil;m=com.kingdee.bos.qing.common;t=m.Util;m=com.kingdee.bos.qing.prepare.model;
k=m.ProgressModel;m=com.kingdee.bos.qing.prepare.ui;F=m.BlockingProgressHandler;m=com.kingdee.bos.qing.prepare.datainfo;A=m.DataSourceInfo;B=m.DataInfoIconTipsUI})();h.DataSourceInfoContext=new function(){var m;this.setCurrentDataSourceInfo=function(b){m=b};this.getCurrentDataSourceInfo=function(){return m}}})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});var l=com.kingdee.bos.qing.prepare,n,h,c,p,y,w;(function(){var t=com.kingdee.bos.qing;n=t.SkinUtil;t=com.kingdee.bos.qing.common;h=t.Util;t=com.kingdee.bos.qing.framework.common;c=t.MultilanguageManager.createPackageAccessor(l);
t=com.kingdee.bos.qing.prepare;p=t.AbstractDataExtractor;t=com.kingdee.bos.qing.prepare.ui;y=t.CustomProgressHandler;w=t.PCProgressErrorPage})();l.DataExtractor=new function(){p.call(this);var t=this,k=h.decodeParamFromUrl(location.search,"themeId"),F=h.decodeParamFromUrl(location.search,"themeName");this.start=function(B,D,m){var b=new y,f=new w;f.setFunExtractAgain(function(){t.protectedStart(b)});f.setFunEditDataModel(A);b.init(B,D,m,f);t.protectedStart(b)};var A=function(){var B=n.getUrlParamValue(),
D=c.get("dataModeling","\u6570\u636e\u51c6\u5907")+"-"+F,m=t.getParamPathPrefix()+"/qing/dataModelingEntrance.do";k&&(m=h.appendParamToUrl(m,"themeID",k));B&&(m=h.appendParamToUrl(m,"skin",B));com.kingdee.bos.qing.framework.common.TabbedUiUtil.openNewTab(D,m);com.kingdee.bos.qing.framework.common.TabbedUiUtil.closeCurrentTab()};this.protectedInvokeExtractDataMethod=function(B,D){D.themeId=k;D.dealProgresss=!0;return B.subjectStartExtractData(D)};this.protectedInvokeLoadDataInfoMethod=function(B,D){B.loadSubjectDataInfo(D)}}})();
//qingVersionTag: 20250324