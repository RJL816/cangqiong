var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(m,n,h){if(m==Array.prototype||m==Object.prototype)return m;m[n]=h.value;return m};
$jscomp.getGlobal=function(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<m.length;++n){var h=m[n];if(h&&h.Math==Math)return h}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(m,n){var h=$jscomp.propertyToPolyfillSymbol[n];if(null==h)return m[n];h=m[h];return void 0!==h?h:m[n]};$jscomp.polyfill=function(m,n,h,d){n&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(m,n,h,d):$jscomp.polyfillUnisolated(m,n,h,d))};
$jscomp.polyfillUnisolated=function(m,n,h,d){h=$jscomp.global;m=m.split(".");for(d=0;d<m.length-1;d++){var p=m[d];if(!(p in h))return;h=h[p]}m=m[m.length-1];d=h[m];n=n(d);n!=d&&null!=n&&$jscomp.defineProperty(h,m,{configurable:!0,writable:!0,value:n})};
$jscomp.polyfillIsolated=function(m,n,h,d){var p=m.split(".");m=1===p.length;d=p[0];d=!m&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var x=0;x<p.length-1;x++){var y=p[x];if(!(y in d))return;d=d[y]}p=p[p.length-1];h=$jscomp.IS_SYMBOL_NATIVE&&"es6"===h?d[p]:null;n=n(h);null!=n&&(m?$jscomp.defineProperty($jscomp.polyfills,p,{configurable:!0,writable:!0,value:n}):n!==h&&(void 0===$jscomp.propertyToPolyfillSymbol[p]&&(h=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[p]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(p):$jscomp.POLYFILL_PREFIX+h+"$"+p),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[p],{configurable:!0,writable:!0,value:n})))};
$jscomp.polyfill("String.prototype.replaceAll",function(m){return m?m:function(n,h){if(n instanceof RegExp&&!n.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return n instanceof RegExp?this.replace(n,h):this.replace(new RegExp(String(n).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),h)}},"es_2021","es3");
(function(){function m(){var p,x,y,v,e=!1,w=!1;this.isFinshed=function(){return e};this.isMetaChanged=function(){return w};this.fromJsonObject=function(A){p=A.totalEntity;x=A.currentEntity;y=A.totalRows;v=A.dealRows;e=A.isFinished;w=A.metaChanged};this.toText=function(){if(e)return d.get("extractDataFinished","\u51c6\u5907\u6570\u636e\u5b8c\u6bd5\uff0c\u6b63\u5728\u521d\u59cb\u5316\u754c\u9762")+"...";if(!p||-1==p)return d.get("extractData","\u6b63\u5728\u51c6\u5907\u6570\u636e")+"...";var A=d.get("progressText",
"\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\u3002").replace("#1",p).replace("#2",x);0<v&&0>=y?A=d.get("progressTextWithDeal","\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\uff0c\u5df2\u5b8c\u6210 #3 \u884c\u3002").replace("#1",p).replace("#2",x).replace("#3",v):0<v&&0<y&&(A=d.get("progressTextWithTotal","\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\uff0c\u5df2\u5b8c\u6210 #3 \u884c\uff0c\u5171 #4 \u884c\u3002").replace("#1",
p).replace("#2",x).replace("#3",v).replace("#4",y));return A}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.model&&(com.kingdee.bos.qing.prepare.model={});var n=com.kingdee.bos.qing.prepare.model;n.ProgressModel=
m;var h={};n.SceneType=h;h.LONGER="longer";h.SQUARE="square";var d=com.kingdee.bos.qing.framework.common.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);m.ShowDataModelActionType="ShowDataModel";m.ShowErrorDetailActionType="ShowErrorDetail";m.ShowPermissionDetailActionType="ShowPermissionDetail";m.ShowSupportQingActionType="ShowSupportQingAnalysis"})();(function(){function m(){this.setCancelFun=function(a){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.finished=function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showProgress=function(a){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showExceptionInfo=function(a,c,k,q,g){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");}}function n(){var a=this;this.getJqUi=
function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showProgress=function(c){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.show=function(){var c=a.getJqUi();c&&c.show()};this.hide=function(){var c=a.getJqUi();c&&c.hide()}}function h(){var a=this;this.getJqUi=function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.show=function(){var c=a.getJqUi();c&&c.show()};this.hide=function(){var c=
a.getJqUi();c&&c.hide()};this.setFunExtractAgain=function(c){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.setFunEditDataModel=function(c){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.updateMessage=function(c,k,q,g,C){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");}}function d(){n.call(this);var a,c,k;this.getJqUi=function(){a||q();return a};var q=function(){var g=e.get("loading","\u6570\u636e\u51c6\u5907\u4e2d");
a=$("<div>");a.addClass("sa-common-loading-modallayer");y.layoutCtrl(a,0,0,"100%","100%");var C=$("<div>");C.addClass("sa-common-loading-panel");C.css({"margin-left":"-100px","margin-top":"-40px"});C.appendTo(a);y.layoutCtrl(C,"50%","50%",200,80);var z=$("<div>");z.addClass("sa-common-loading-icon");z.css("background-image",v.getIconUrl("common","loading.gif"));z.css({"margin-left":"-20px","margin-top":"-30px"});z.appendTo(C);y.layoutCtrl(z,"50%","50%",40,40);z=$("<div>");z.addClass("sa-common-loading-text");
c=$("<span>");c.text("string"==typeof g?g:e.get("loading","\u6570\u636e\u51c6\u5907\u4e2d"));c.appendTo(z);z.css({"margin-left":"-150px","margin-top":"15px",color:"#999"});z.appendTo(C);y.layoutCtrl(z,null,"50%",500,20);var F=$("<span>");F.text("  "+e.get("loadingToCancel","\u70b9\u51fb\u8fd9\u91cc\u53d6\u6d88"));F.css({display:"none","white-space":"pre-wrap",cursor:"pointer",color:"#88c"});F.appendTo(z);F.on("click",function(){k&&k()});setTimeout(function(){F.show()},3E3)};this.setCancelFun=function(g){k=
g};this.showProgress=function(g){g=g.toText();c&&c.text(g)};this.cancel=function(){k&&k()}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.ui&&(com.kingdee.bos.qing.prepare.ui={});var p=com.kingdee.bos.qing.prepare.ui;
p.PCProgressErrorPage=function(){h.call(this);var a,c,k,q,g=$(document.body),C=$("<div class='sa-ctrl-common-modallayer'>"),z,F,I,G,N,P,T,U,Q,K,R=t.getIconUrl("prepare","no-data-new.png");this.setFunExtractAgain=function(l){N=l};this.setFunEditDataModel=function(l){P=l};this.getJqUi=function(){a||M();return a};var M=function(){a=$("<div>");a.addClass("qing-welcome-sub-container");a.hide();q=$("<img>");q.addClass("qing-welcome-big-img");q.prop("src",t.getIconUrl("prepare","errorBackground.png"));c=
$("<span>");c.addClass("qing-welcome-error-text");a.append(q);a.append(c);G=$("<div>");G.addClass("qing-welcome-error-btn");G.text(e.get("extractAgain","\u91cd\u65b0\u62bd\u53d6"));G.on("click",function(l){N&&N()});a.append(G);k=$("<div>");k.addClass("qing-welcome-error-btn");k.on("click",V);a.append(k)},S=function(){C.detach();z.detach()},V=function(){if(B.ShowDataModelActionType==K)P&&P();else if(B.ShowErrorDetailActionType==K){if(!z){z=$("<div>");z.addClass("qing-welcome-error-logdetail-container");
var l=$("<div>");l.addClass("qing-welcome-error-logdetail-title-container");var f=$("<div>");f.addClass("qing-welcome-error-logdetail-titiletag");var u=$("<div>");u.addClass("qing-welcome-error-logdetail-title-lable");u.text(e.get("errorLog","\u9519\u8bef\u65e5\u5fd7"));var D=$("<div>");D.addClass("qing-welcome-error-logdetail-close");x||(x=com.kingdee.bos.qing.prepare.MyIcons);x.background(D,"errorClose");D.on("click",S);l.append(f);l.append(u);l.append(D);f=$("<div>");f.addClass("qing-welcome-error-logdetail-content-container");
F=$("<div>");F.css("padding","10px");I=$("<pre>");I.css("padding-left","10px");f.append(F);f.append(I);z.append(l);z.append(f)}I.text(Q);F.text(e.get("errorCode","\u9519\u8bef\u7801\uff1a")+T);C.appendTo(g);z.appendTo(g)}else B.ShowPermissionDetailActionType==K?(l=new b($(document.body)),l.setSize(440,330),l.setTitle(e.get("permissionTitle","\u6743\u9650\u63d0\u793a")),l.showDialog(r("\u5c1a\u672a\u83b7\u5f97\u4ee5\u4e0b\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650\uff1a"),!0)):B.ShowSupportQingActionType==
K&&(l=new b($(document.body)),l.setSize(440,330),l.setTitle(e.get("DetailInfo","\u8be6\u7ec6\u4fe1\u606f")),l.showDialog(r(e.get("notSupportQingAnalysis","\u4ee5\u4e0b\u4e1a\u52a1\u5b9e\u4f53\u5c1a\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff1a")),!0))},b=function(l){var f=$("<div class='sa-ctrl-common-modallayer'>"),u=new w(f),D=0,L=0,W=320,X=240,Y=l?l:$(document.body),aa,ba;this.setTitle=function(H){ba=H};this.setClosingListener=function(H){aa=H};this.setSize=
function(H,J){W=H;X=J};this.showDialog=function(H,J){f.appendTo(Y);if(!D){var O=Y.prop("clientWidth"),ca=Y.prop("clientHeight");D=O-W>>1;L=(ca-X)/3}u.setBounds(D,L,W,X);u.setToolbarVisible(!1);u.setContent(H,J);u.setTitle(ba);u.addClosingListener(function(Z,da){if(da)aa(da);else return Z.destroy(),f.remove(),!0});u.addClosedListener(function(Z){Z.destroy();f.remove()});u.showFooterPane(this.createFooter);u.show()};this.setContent=function(H,J){u.setContent(H,J)};this.destroy=function(){u.destroy();
f.remove()};this.createFooter=function(H){var J=new A(e.get("iknow","\u6211\u77e5\u9053\u4e86"));J.setHighlight(!0);var O=J.getJqUi();y.layoutCtrlWithLRTB(O,"50%",0,100,null,13,28);O.addClass("dialog-footer-close");O.css("margin-left","-50px");O.appendTo(H);J.addActionListener(function(ca){u.destroy();f.remove()})}},r=function(l){var f=$("<div>");f.addClass("qing-welcome-viewdetail-content");var u=$("<p>");u.addClass("qing-welcome-viewdetail-contenxt-texttitle");u.text(l);l=$("<p>");l.addClass("qing-welcome-viewdetail-contenxt-text");
l.html(U.replace(/,/g,e.get("semicolon","\uff1b")+"<br>"));f.append(u);f.append(l);return f};this.updateMessage=function(l,f,u,D,L){K=L;T=l;Q=u;U=f;c.text(D);B.ShowDataModelActionType==L?(G.hide(),k.show(),k.text(e.get("setDataModel","\u6570\u636e\u51c6\u5907"))):B.ShowErrorDetailActionType==L?(G.show(),k.show(),k.text(e.get("showErrorLog","\u663e\u793a\u9519\u8bef\u65e5\u5fd7"))):B.ShowPermissionDetailActionType==L?(G.show(),k.show(),k.text(e.get("viewDetails","\u67e5\u770b\u8be6\u60c5")),q.prop("src",
R)):B.ShowSupportQingActionType==L?(a.css("width","700px"),G.show(),k.show(),k.text(e.get("viewDetails","\u67e5\u770b\u8be6\u60c5")),q.prop("src",R),l=E.getSupportQingAnalysisUrl(),l=$("<a onclick='javascript:window.open(\""+l+"\");' href='#'>"),l.css("cursor","pointer"),l.css("color","#5582f3"),l.text(e.get("viewDocument","\u67e5\u770b\u5e2e\u52a9\u6587\u6863")),c.append(l)):(G.show(),k.hide())}};p.IProgressHandler=m;p.CustomProgressHandler=function(){m.call(this);var a,c,k,q,g;this.setCancelFun=
function(C){};this.init=function(C,z,F,I){a=C;c=z;k=F;g=I;q=g.getJqUi();a.append(q)};this.finished=function(){a&&(a.hide(),g.hide(),c.show(),k.text(e.get("extractData","\u6b63\u5728\u51c6\u5907\u6570\u636e")))};this.showProgress=function(C){a.show();g.hide();c.show();k.text(C.toText())};this.showExceptionInfo=function(C,z,F,I,G){a.show();g.show();c.hide();g.updateMessage(C,z,F,I,G)}};p.BlockingProgressHandler=function(){m.call(this);var a=new d,c=a.getJqUi();c.appendTo($(document.body));this.setCancelFun=
function(k){a.setCancelFun(function(){c.remove();k&&k()})};this.finished=function(){c.remove()};this.showProgress=function(k){a.showProgress(k)};this.showExceptionInfo=function(k,q,g,C,z){a.cancel();k=com.kingdee.bos.qing.ui.component.MessageDialog;q=new k;q.setOptionType(k.OPTION_OK);q.setMessage(C);g&&q.setDetail(g);q.showDialog()}};p.IProgressErrorUI=h;p.IProgressingUI=n;var x,y,v,e,w,A,B,E,t;(function(){var a=com.kingdee.bos.qing.common;y=a.DomUtil;a=com.kingdee.bos.qing.framework.common;e=a.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);
v=a.Resource;E=a.OfficialArticleUtil;a=com.kingdee.bos.qing.prepare.model;B=a.ProgressModel;a=com.kingdee.bos.qing.ui.component;w=a.Dialog;A=a.Button;a=com.kingdee.bos.qing;t=a.CodeLoader;v.bindLoader(t)})()})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.datainfo&&(com.kingdee.bos.qing.prepare.datainfo={});var m=com.kingdee.bos.qing.prepare.datainfo,n,h;(function(){var d=com.kingdee.bos.qing.framework.common;
n=d.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);d=com.kingdee.bos.qing.ui.component;h=d.HelpIcon})();m.DataSourceInfo=function(){var d,p,x,y;this.getExtractDataTime=function(){return d};this.getOriginalCreatorName=function(){return p};this.hasDirectModeTable=function(){return x};this.getNoAuthOperValueMap=function(){return y};this.fromJson=function(v){d=v.extractDataTime;p=v.originalCreatorName;x=v.hasDirectModeTable;y=v.noAuthOperValueMap}};m.DataInfoIconTipsUI=function(d){var p,
x,y;this.setModel=function(v){y=v;v=com.kingdee.bos.qing.CodeLoader;v.setCallback(function(){a:{if(y){x||(x=new h,x.setIconType(h.ICON_TYPE_INFO),p=x.getJqUi(),p.addClass("sa-qing-datainfo"),p.appendTo(d));var e="",w=y.getOriginalCreatorName();w&&(e+="<b>"+n.get("originalCreatorName","\u53d1\u5e03\u4eba\uff1a")+"</b>"+w+"</br>");if((w=y.getNoAuthOperValueMap())&&JSON.stringify(w)!=JSON.stringify({})){e+="</br><b>"+n.get("noAuthOperName","\u672a\u6388\u6743\u7684\u64cd\u4f5c\u6743\u9650\uff1a")+"</b>";
for(var A in w){var B=w[A],E=new com.kingdee.bos.qing.publish.model.OperCodeMap,t;for(t in E.getOperCodeMap()[A])if(1!=t&&0!=(t&B)){var a=E.getOperCodeMap()[A][t];e+=n.get(a,E.getOperNameMap()[a]);e+="\u3001"}e=e.slice(0,e.length-1)}e+="</br>"}if(A=y.getExtractDataTime())e&&(e+="</br>"),e+="<b>"+n.get("extractDataTime","\u6570\u636e\u66f4\u65b0\u65f6\u95f4\uff1a")+"</b>"+A+"</br>";x.setTipsHtml(e);if(e){p.show();break a}}p&&p.hide()}});v.setRootPath(".");v.loadI18n("publish","publish");v.loadJs("biz-common/qing-biz-common.js");
v.loadJs("schema-manage/schema-manage-initialize.js");v.loadJs("schema-manage/schema-manage-ui.js");v.loadJs("publish/qing-publish.js")}}})();(function(){function m(t,a,c,k){x.call(this,t,a,c,k);var q=this.protectedMethod;q.setShowBlocking(!1);this.getServerTimeStamp=function(){q.remote("getServerTimeStamp",{})};this.loadDataInfo=function(g){q.remote("loadDataInfo",g)};this.subjectStartExtractData=function(g){return q.remote("subjectStartExtractData",g)};this.billStartExtractData=function(g){return q.remote("billStartExtractData",g)};this.publishedStartExtractData=function(g){return q.remote("publishedStartExtractData",g)};this.publishedDsdRefAnalysisStartExtractData=
function(g){return q.remote("publishedDsdRefAnalysisStartExtractData",g)};this.nocodeCardStartExtractData=function(g){return q.remote("nocodeCardStartExtractData",g)};this.startAIHomePageSubjectExtractData=function(g){return q.remote("startAIHomePageSubjectExtractData",g)};this.designTimeNocodeCardStartExtractData=function(g){return q.remote("designTimeNocodeCardStartExtractData",g)};this.editTimedPushStartExtractData=function(g){return q.remote("editTimedPushStartExtractData",g)};this.workbenchWidgetStartExtractData=
function(g){return q.remote("workbenchWidgetStartExtractData",g)};this.metricStartExtractData=function(g){return q.remote("metricStartExtractData",g)};this.loadSubjectDataInfo=function(g){q.remote("loadSubjectDataInfo",g)};this.loadPublishedDataInfo=function(g){q.remote("loadPublishedDataInfo",g)};this.loadPublishedDsdRefAnalysisDataInfo=function(g){q.remote("loadPublishedDsdRefAnalysisDataInfo",g)};this.loadEditTimedPushDataInfo=function(g){q.remote("loadEditTimedPushDataInfo",g)};this.tryAddResourceLock=
function(g,C){q.remote("tryAddResourceLock",{groupId:g,resourceId:C})}}function n(){y.call(this);var t,a;this.getRemoteUrl=function(c){c.tag=a;return t};this.setRemoteUrl=function(c){t=c};this.setTag=function(c){a=c}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare=
{});var h=com.kingdee.bos.qing.prepare;h.RemoteImpl=n;var d,p,x,y;h.AbstractDataExtractor=function(){var t=this,a=null,c,k=!1,q=!1,g=null,C=!1;var z=v.decodeParamFromUrl(location.search,"tag");var F=v.decodeParamFromUrl(location.search,"path");this.setTag=function(b){z=b};this.protectedStart=function(b){c&&c.finished();q=k=!1;g&&(g(),g=null);c=b;document.body.style.height=document.documentElement.clientHeight+"px";P()};this.restart=function(){var b=new w;t.protectedStart(b)};this.getIsEditScene=function(){return C};
this.setIsEditScene=function(b){C=b};this.getJqUi=function(b){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.setExtractDataFinishedSuccessCallback=function(b){a=b;M()};this.getParamPathPrefix=function(){return F};this.appendExtraParamsToRemoteUrl=function(b){return b};var I=function(){var b=(F?F:"/ierp")+"/qing/prepare.do";b=t.appendExtraParamsToRemoteUrl(b);var r=new n;r.setRemoteUrl(b);r.setTag(z);return r},G=function(b,r,l){return new m(I(),b,function(f,u,D){return r&&
r(f,u,D)?!0:!1},l)},N,P=function(){var b=new e;c.showProgress(b);G(function(r){N=r;T(r)},function(r,l,f){R(r,l,f);return!0}).getServerTimeStamp()},T=function(b){U(b);var r={};r.timeStamp=b;var l=G(function(f){Q(b);if(f&&N==f.timeStamp){k=!0;var u=new e;u.fromJsonObject(f);q=u.isMetaChanged();c.showProgress(u);t.protectedNeedLoadDataInfo()?V():k&&M()}},function(f,u,D){Q(b);if(-1==f)return!0;q=k=!1;R(f,u,D);t.protectedNeedLoadDataInfo()?V():k&&M();return!0});l.setCancelable(!0);r.isEditScene=C;g=t.protectedInvokeExtractDataMethod(l,
r);c.setCancelFun(g)};this.protectedInvokeExtractDataMethod=function(b,r){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};var U=function(b){p.subscribeChannel("ExtractData"+b,K);t.protectedSubscribeCustomChannel(b)},Q=function(b){p.unsubscribeChannel("ExtractData"+b,K);t.protectedUnsubscribeCustomChannel(b)};this.protectedSubscribeCustomChannel=function(b){};this.protectedUnsubscribeCustomChannel=function(b){};this.protectedRejectExtractDataChanelMessage=function(b){return!1};
var K=function(b){if(!t.protectedRejectExtractDataChanelMessage(b)){b=JSON.parse(b);var r=new e;r.fromJsonObject(b);c.showProgress(r)}},R=function(b,r,l){if(2101001==b)var f=d.get("analysisNoFound","\u8be5\u6570\u636e\u5206\u6790\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else if(2101002==b||2101004==b){f=d.get("setDataModelBeforeAnalysis","\u8be5\u6570\u636e\u5206\u6790\u6ca1\u6709\u5b9a\u4e49\u6570\u636e\uff0c\u8bf7\u5148\u8fdb\u884c\u6570\u636e\u51c6\u5907");var u=e.ShowDataModelActionType}else if(2101003==
b||2101005==b)f=d.get("setDataModelBeforeAnalysis","\u8be5\u6570\u636e\u5206\u6790\u6ca1\u6709\u5b9a\u4e49\u6570\u636e\uff0c\u8bf7\u5148\u8fdb\u884c\u6570\u636e\u51c6\u5907");else if(2103001==b||2103002==b)f=d.get("publishedHasNotFound","\u8be5\u53d1\u5e03\u8bb0\u5f55\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else if(2101006==b){f=d.get("lackDataEntityAuthority","\u5c1a\u672a\u83b7\u5f97\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650");u=e.ShowPermissionDetailActionType;var D=
r.match(/(\(|\uff08)([^(\)|\uff09)]+)(\)|\uff09)/);D&&(r=D[2])}else if(2101018==b)E.getSupportQingAnalysisUrl(),f=d.get("entityNotSupportQingAnalysis","\u4e1a\u52a1\u5b9e\u4f53\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff0c\u8bf7\u5728\u5f00\u53d1\u5e73\u53f0\u7684\u5bf9\u5e94\u8868\u5355\u4e2d\u8fdb\u884c\u8bbe\u7f6e  "),(D=/(?:\u3010\s)(.+)(?=\s\u3011)/.exec(r))?r=D[1]:D=/(?:\u3010\s)(.+)/.exec(r),D&&(r=D[1]),u=e.ShowSupportQingActionType;else if(21000008==b)f=
d.get("noQingModelerLicense","\u5f53\u524d\u7cfb\u7edf\u6ca1\u6709\u3010\u8f7b\u5efa\u6a21\u3011\u6a21\u5757\u7684\u4f7f\u7528\u8bb8\u53ef\uff0c\u8bf7\u4e0e\u7cfb\u7edf\u7ba1\u7406\u5458\u8054\u7cfb");else if(2101016==b)f=d.get("subjectEntityMySQLMoreThan61Table","\u5f53\u524d\u5b9e\u4f53\u5173\u8054\u6570\u636e\u8868\u592a\u591a\uff0c\u8bf7\u51cf\u5c11\u5b9e\u4f53\u7684\u5206\u6790\u5b57\u6bb5\u6216\u5220\u9664\u4e0d\u9700\u8981\u7684\u5b9e\u4f53\u5206\u5f55\u3002");else if(2101009==b)f=d.get("subjectDataSourceError",
"\u6570\u636e\u6e90\u53d1\u751f\u5f02\u5e38"),u=e.ShowErrorDetailActionType;else if(2101010==b)f=d.get("qingStorageFileSizeLimit","\u8f7b\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3");else if(2100001==b)f=d.get("qingStorageNoSpace","\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\uff0c\u8bf7\u8054\u7cfb\u8fd0\u7ef4\u4eba\u5458\u6dfb\u52a0\u78c1\u76d8");else if(2101011==b)f=d.get("subjectDBDataSourceError","\u6570\u636e\u6e90\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5f02\u5e38"),u=e.ShowErrorDetailActionType;
else if(2101012==b)f=d.get("noDBCenterPermission","\u6ca1\u6709\u6570\u636e\u4e2d\u5fc3\u6743\u9650\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2101023==b)f=d.get("noSuperQueryAuth","\u6ca1\u6709\u5f53\u524d\u8d85\u7ea7\u67e5\u8be2\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2215011==b)f=d.get("noDmoPermission","\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0\u6743\u9650\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");
else if(2101013==b)f=d.get("entityDestroyed","\u5bf9\u5e94\u4e3b\u9898\u7684\u6570\u636e\u8868\u88ab\u635f\u574f");else if(2101014==b)f=d.get("entityDestroyedOwner","\u5bf9\u5e94\u4e3b\u9898\u7684\u6570\u636e\u8868\u88ab\u635f\u574f\uff0c\u8bf7\u91cd\u65b0\u8fdb\u884c\u6570\u636e\u51c6\u5907"),u=e.ShowDataModelActionType;else if(2101015==b)f=d.get("noDBCenterOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u6570\u636e\u4e2d\u5fc3\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",
r);else if(2215012==b)f=d.get("noDmoOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",r);else if(2101019==b)f=d.get("noModelerPermission","\u5c1a\u672a\u83b7\u5f97\u6570\u636e\u8868\u6a21\u578b\u7684\u6570\u636e\u6743\u9650");else if(2101020==b)f=d.get("noModelerOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u8f7b\u5efa\u6a21\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",
r);else if(2101021==b)f=d.get("notExistTable","\u65e0\u6cd5\u5728\u6a21\u5f0f\u201c#1\u201d\u4e2d\u627e\u5230\u8be5\u5b9e\u4f53\u6570\u636e\u8868").replaceAll("#1",r),u=e.ShowDataModelActionType;else if(2101022==b)f=d.get("noSuperQueryPerm","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u8d85\u7ea7\u67e5\u8be2\u76f8\u5173\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",r);else if(2101024==b)f=d.get("ownerNotExistTable","\u6570\u636e\u6e90\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6570\u636e\u6e90"),
u=e.ShowDataModelActionType;else if(2215020==b)f=d.get("dmoPermission","\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0#1\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",r);else if(2102004==b)f=d.get("emptyFormMetaInfo","\u4e1a\u52a1\u5355\u636e\u6ca1\u6709\u53ef\u5206\u6790\u7684\u5143\u6570\u636e");else if(2301001==b)f=d.get("publishedHasNotFound","\u8be5\u53d1\u5e03\u8bb0\u5f55\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else{if(1030001==b)return t.protectedShowNavTitle(),
com.kingdee.bos.qing.framework.common.RemoteFramework.openErrorPage(b,com.kingdee.bos.qing.common.Base64Util.encode(encodeURIComponent(r))),!0;f=d.get("extractDataError","\u51fa\u9519\u4e86\uff0c\u51c6\u5907\u6570\u636e\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9519\u8bef");u=e.ShowErrorDetailActionType}t.protectedShowExceptionInfo(b,r,l,f,u)};this.protectedShowExceptionInfo=function(b,r,l,f,u){c.showExceptionInfo(b,r,l,f,u)};var M=function(){k&&a&&(c.finished(),a(q),k=!1,a=null)};this.protectedShowNavTitle=
function(){};this.protectedNeedLoadDataInfo=function(){return!0};this.protectedInvokeLoadDataInfoMethod=function(b,r){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};var S,V=function(){S||(S=new B($(document.body)));var b=G(function(r){if(r){com.kingdee.bos.qing.framework.common.WebPageInitializer.init();var l=new A;l.fromJson(r);S.setModel(l);h.DataSourceInfoContext.setCurrentDataSourceInfo(l);r.warning&&(l=new com.kingdee.bos.qing.ui.component.MessageCurtain,l.getJqUi().appendTo($(document.body)),
l.showPrompt(r.warning,-1));M()}},function(r,l,f){window.console&&console.info("loadDataInfo error:"+r+" | "+l+" | "+f);M();return!0});t.protectedInvokeLoadDataInfoMethod(b,{})};this.protectedMethod={createFacade:G}};var v,e,w,A,B,E;(function(){var t=com.kingdee.bos.qing.framework.common;d=t.MultilanguageManager.createPackageAccessor(h);p=t.RemoteFramework;x=t.AbstractFacade;y=t.AbstractRemoteCall;E=t.OfficialArticleUtil;t=com.kingdee.bos.qing.common;v=t.Util;t=com.kingdee.bos.qing.prepare.model;
e=t.ProgressModel;t=com.kingdee.bos.qing.prepare.ui;w=t.BlockingProgressHandler;t=com.kingdee.bos.qing.prepare.datainfo;A=t.DataSourceInfo;B=t.DataInfoIconTipsUI})();h.DataSourceInfoContext=new function(){var t;this.setCurrentDataSourceInfo=function(a){t=a};this.getCurrentDataSourceInfo=function(){return t}}})();(function(){function m(){y.call(this);var e,w,A=!0,B,E;this.getJqUi=function(){if(!e){var a=h.get("loading","\u6570\u636e\u51c6\u5907\u4e2d");e=$("<div>");e.addClass("card-prepare-loading-modallayer");v.layoutCtrl(e,0,0,"100%","100%");w=$("<div>");w.addClass("card-prepare-loading-panel");w.appendTo(e);v.layoutCtrl(w,0,0,"100%","100%");var c=$("<div>");c.addClass("card-prepare-loading-icon");p||(p=com.kingdee.bos.qing.prepare.MyIcons);p.background(c,"loading");c.css("background-position","center");
c.css({"margin-left":"-20px","margin-top":"-30px","background-position":"center"});c.appendTo(w);v.layoutCtrl(c,"50%","50%",40,40);c=$("<div>");c.addClass("card-prepare-loading-text");c.text(a);c.css({"margin-left":"-100px","margin-top":"15px",color:"#999"});c.appendTo(w);v.layoutCtrl(c,"50%","50%",200,20);if((a=d.decodeParamFromUrl(location.search,"cardName"))&&A){a=com.kingdee.bos.qing.common.Base64Util.decode(a);c=$("<div>");var k=$("<div class='card-prepare-loading-title'>");k.text(a);k.attr(a);
v.layoutCtrlWithLRTB(c,0,0,null,0,null,30);c.appendTo(w);k.appendTo(c)}}return e};this.setCancelFun=function(a){};this.finished=function(){e.hide()};this.setNeedCreateHead=function(a){A=a};this.setErrorDetailCssProvider=function(a){_funErrorDetailCssProvider=a};this.setErrorHandler=function(a){B=a};this.setJqErrorContent=function(a){E=a};this.showProgress=function(a){a.isFinshed()?e.hide():e.show();w.attr("title",a.toText())};this.showExceptionInfo=function(a,c,k,q,g){B?B(a,c,k):(e.show(),e.empty(),
q=new com.kingdee.bos.qing.scene.common.square.exhibition.CardErrorUi(e),q.setShowErrorDetailListener(t),q.setShowDetail(!0),q.show(a,c,k))};var t=function(a,c,k){c=$("<div>");c.css({position:"absolute",width:"100%",top:"26px",bottom:"0px","background-color":"white"});var q=$("<div>");q.text(h.get("errorCode","\u9519\u8bef\u7801\uff1a")+a);a=$("<div>");a.css({position:"absolute",width:"100%",top:"15px",bottom:"0px",overflow:"auto"});a.text(k);q.appendTo(c);a.appendTo(c);k=$(document.body);E&&(k=E);
c.appendTo(k)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});var n=com.kingdee.bos.qing.prepare;n.CardProgressHandler=m;var h,d,p,x,y,v;(function(){var e=com.kingdee.bos.qing.framework.common;h=e.MultilanguageManager.createPackageAccessor(n);e=com.kingdee.bos.qing.common;
d=e.Util;v=e.DomUtil;e=com.kingdee.bos.qing.prepare;x=e.AbstractDataExtractor;e=com.kingdee.bos.qing.prepare.ui;y=e.IProgressHandler})();n.DataExtractor=new function(){x.call(this);var e=this,w,A=d.decodeParamFromUrl(location.search,"publishId");this.getJqUi=function(){w||(w=new m);return w.getJqUi()};this.start=function(){w.finished();var B=d.decodeParamFromUrl(location.search,"errorCode");B?w.showExceptionInfo(B):e.protectedStart(w)};this.appendExtraParamsToRemoteUrl=function(B){var E=d.decodeParamFromUrl(location.search,
"access_token");E&&(B=d.appendParamToUrl(B,"access_token",encodeURIComponent(E)));return B};this.protectedNeedLoadDataInfo=function(){return!1};this.protectedInvokeExtractDataMethod=function(B,E){E.dealProgresss=!0;E.publishId=A;return B.publishedStartExtractData(E)}}})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});com.kingdee.bos.qing.prepare.SubjectDataExtractor=function(){com.kingdee.bos.qing.prepare.AbstractDataExtractor.call(this);var n=this,h,d;this.getJqUi=function(){d||(d=new m,d.setJqErrorContent(d.getJqUi()));
return d.getJqUi()};this.setParamsHandler=function(p){h=p};this.start=function(){n.protectedStart(d)};this.protectedNeedLoadDataInfo=function(){return!1};this.protectedInvokeExtractDataMethod=function(p,x){h&&h(x);return p.subjectStartExtractData(x)}};var m=com.kingdee.bos.qing.prepare.CardProgressHandler})();
//qingVersionTag: 20250324