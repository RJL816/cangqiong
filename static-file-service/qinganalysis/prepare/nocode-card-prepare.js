var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(k,l,p){if(k==Array.prototype||k==Object.prototype)return k;k[l]=p.value;return k};
$jscomp.getGlobal=function(k){k=["object"==typeof globalThis&&globalThis,k,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var l=0;l<k.length;++l){var p=k[l];if(p&&p.Math==Math)return p}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(k,l){var p=$jscomp.propertyToPolyfillSymbol[l];if(null==p)return k[l];p=k[p];return void 0!==p?p:k[l]};$jscomp.polyfill=function(k,l,p,e){l&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(k,l,p,e):$jscomp.polyfillUnisolated(k,l,p,e))};
$jscomp.polyfillUnisolated=function(k,l,p,e){p=$jscomp.global;k=k.split(".");for(e=0;e<k.length-1;e++){var r=k[e];if(!(r in p))return;p=p[r]}k=k[k.length-1];e=p[k];l=l(e);l!=e&&null!=l&&$jscomp.defineProperty(p,k,{configurable:!0,writable:!0,value:l})};
$jscomp.polyfillIsolated=function(k,l,p,e){var r=k.split(".");k=1===r.length;e=r[0];e=!k&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var B=0;B<r.length-1;B++){var A=r[B];if(!(A in e))return;e=e[A]}r=r[r.length-1];p=$jscomp.IS_SYMBOL_NATIVE&&"es6"===p?e[r]:null;l=l(p);null!=l&&(k?$jscomp.defineProperty($jscomp.polyfills,r,{configurable:!0,writable:!0,value:l}):l!==p&&(void 0===$jscomp.propertyToPolyfillSymbol[r]&&(p=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[r]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(r):$jscomp.POLYFILL_PREFIX+p+"$"+r),$jscomp.defineProperty(e,$jscomp.propertyToPolyfillSymbol[r],{configurable:!0,writable:!0,value:l})))};
$jscomp.polyfill("String.prototype.replaceAll",function(k){return k?k:function(l,p){if(l instanceof RegExp&&!l.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return l instanceof RegExp?this.replace(l,p):this.replace(new RegExp(String(l).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),p)}},"es_2021","es3");
(function(){function k(){var r,B,A,w,c=!1,x=!1;this.isFinshed=function(){return c};this.isMetaChanged=function(){return x};this.fromJsonObject=function(z){r=z.totalEntity;B=z.currentEntity;A=z.totalRows;w=z.dealRows;c=z.isFinished;x=z.metaChanged};this.toText=function(){if(c)return e.get("extractDataFinished","\u51c6\u5907\u6570\u636e\u5b8c\u6bd5\uff0c\u6b63\u5728\u521d\u59cb\u5316\u754c\u9762")+"...";if(!r||-1==r)return e.get("extractData","\u6b63\u5728\u51c6\u5907\u6570\u636e")+"...";var z=e.get("progressText",
"\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\u3002").replace("#1",r).replace("#2",B);0<w&&0>=A?z=e.get("progressTextWithDeal","\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\uff0c\u5df2\u5b8c\u6210 #3 \u884c\u3002").replace("#1",r).replace("#2",B).replace("#3",w):0<w&&0<A&&(z=e.get("progressTextWithTotal","\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\uff0c\u5df2\u5b8c\u6210 #3 \u884c\uff0c\u5171 #4 \u884c\u3002").replace("#1",
r).replace("#2",B).replace("#3",w).replace("#4",A));return z}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.model&&(com.kingdee.bos.qing.prepare.model={});var l=com.kingdee.bos.qing.prepare.model;l.ProgressModel=
k;var p={};l.SceneType=p;p.LONGER="longer";p.SQUARE="square";var e=com.kingdee.bos.qing.framework.common.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);k.ShowDataModelActionType="ShowDataModel";k.ShowErrorDetailActionType="ShowErrorDetail";k.ShowPermissionDetailActionType="ShowPermissionDetail";k.ShowSupportQingActionType="ShowSupportQingAnalysis"})();(function(){function k(){this.setCancelFun=function(a){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.finished=function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showProgress=function(a){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showExceptionInfo=function(a,b,h,q,f){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");}}function l(){var a=this;this.getJqUi=
function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showProgress=function(b){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.show=function(){var b=a.getJqUi();b&&b.show()};this.hide=function(){var b=a.getJqUi();b&&b.hide()}}function p(){var a=this;this.getJqUi=function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.show=function(){var b=a.getJqUi();b&&b.show()};this.hide=function(){var b=
a.getJqUi();b&&b.hide()};this.setFunExtractAgain=function(b){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.setFunEditDataModel=function(b){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.updateMessage=function(b,h,q,f,D){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");}}function e(){l.call(this);var a,b,h;this.getJqUi=function(){a||q();return a};var q=function(){var f=c.get("loading","\u6570\u636e\u51c6\u5907\u4e2d");
a=$("<div>");a.addClass("sa-common-loading-modallayer");A.layoutCtrl(a,0,0,"100%","100%");var D=$("<div>");D.addClass("sa-common-loading-panel");D.css({"margin-left":"-100px","margin-top":"-40px"});D.appendTo(a);A.layoutCtrl(D,"50%","50%",200,80);var C=$("<div>");C.addClass("sa-common-loading-icon");C.css("background-image",w.getIconUrl("common","loading.gif"));C.css({"margin-left":"-20px","margin-top":"-30px"});C.appendTo(D);A.layoutCtrl(C,"50%","50%",40,40);C=$("<div>");C.addClass("sa-common-loading-text");
b=$("<span>");b.text("string"==typeof f?f:c.get("loading","\u6570\u636e\u51c6\u5907\u4e2d"));b.appendTo(C);C.css({"margin-left":"-150px","margin-top":"15px",color:"#999"});C.appendTo(D);A.layoutCtrl(C,null,"50%",500,20);var F=$("<span>");F.text("  "+c.get("loadingToCancel","\u70b9\u51fb\u8fd9\u91cc\u53d6\u6d88"));F.css({display:"none","white-space":"pre-wrap",cursor:"pointer",color:"#88c"});F.appendTo(C);F.on("click",function(){h&&h()});setTimeout(function(){F.show()},3E3)};this.setCancelFun=function(f){h=
f};this.showProgress=function(f){f=f.toText();b&&b.text(f)};this.cancel=function(){h&&h()}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.ui&&(com.kingdee.bos.qing.prepare.ui={});var r=com.kingdee.bos.qing.prepare.ui;
r.PCProgressErrorPage=function(){p.call(this);var a,b,h,q,f=$(document.body),D=$("<div class='sa-ctrl-common-modallayer'>"),C,F,I,G,N,P,T,U,Q,K,R=m.getIconUrl("prepare","no-data-new.png");this.setFunExtractAgain=function(n){N=n};this.setFunEditDataModel=function(n){P=n};this.getJqUi=function(){a||M();return a};var M=function(){a=$("<div>");a.addClass("qing-welcome-sub-container");a.hide();q=$("<img>");q.addClass("qing-welcome-big-img");q.prop("src",m.getIconUrl("prepare","errorBackground.png"));b=
$("<span>");b.addClass("qing-welcome-error-text");a.append(q);a.append(b);G=$("<div>");G.addClass("qing-welcome-error-btn");G.text(c.get("extractAgain","\u91cd\u65b0\u62bd\u53d6"));G.on("click",function(n){N&&N()});a.append(G);h=$("<div>");h.addClass("qing-welcome-error-btn");h.on("click",V);a.append(h)},S=function(){D.detach();C.detach()},V=function(){if(u.ShowDataModelActionType==K)P&&P();else if(u.ShowErrorDetailActionType==K){if(!C){C=$("<div>");C.addClass("qing-welcome-error-logdetail-container");
var n=$("<div>");n.addClass("qing-welcome-error-logdetail-title-container");var g=$("<div>");g.addClass("qing-welcome-error-logdetail-titiletag");var v=$("<div>");v.addClass("qing-welcome-error-logdetail-title-lable");v.text(c.get("errorLog","\u9519\u8bef\u65e5\u5fd7"));var E=$("<div>");E.addClass("qing-welcome-error-logdetail-close");B||(B=com.kingdee.bos.qing.prepare.MyIcons);B.background(E,"errorClose");E.on("click",S);n.append(g);n.append(v);n.append(E);g=$("<div>");g.addClass("qing-welcome-error-logdetail-content-container");
F=$("<div>");F.css("padding","10px");I=$("<pre>");I.css("padding-left","10px");g.append(F);g.append(I);C.append(n);C.append(g)}I.text(Q);F.text(c.get("errorCode","\u9519\u8bef\u7801\uff1a")+T);D.appendTo(f);C.appendTo(f)}else u.ShowPermissionDetailActionType==K?(n=new d($(document.body)),n.setSize(440,330),n.setTitle(c.get("permissionTitle","\u6743\u9650\u63d0\u793a")),n.showDialog(t("\u5c1a\u672a\u83b7\u5f97\u4ee5\u4e0b\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650\uff1a"),!0)):u.ShowSupportQingActionType==
K&&(n=new d($(document.body)),n.setSize(440,330),n.setTitle(c.get("DetailInfo","\u8be6\u7ec6\u4fe1\u606f")),n.showDialog(t(c.get("notSupportQingAnalysis","\u4ee5\u4e0b\u4e1a\u52a1\u5b9e\u4f53\u5c1a\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff1a")),!0))},d=function(n){var g=$("<div class='sa-ctrl-common-modallayer'>"),v=new x(g),E=0,L=0,W=320,X=240,Y=n?n:$(document.body),aa,ba;this.setTitle=function(H){ba=H};this.setClosingListener=function(H){aa=H};this.setSize=
function(H,J){W=H;X=J};this.showDialog=function(H,J){g.appendTo(Y);if(!E){var O=Y.prop("clientWidth"),ca=Y.prop("clientHeight");E=O-W>>1;L=(ca-X)/3}v.setBounds(E,L,W,X);v.setToolbarVisible(!1);v.setContent(H,J);v.setTitle(ba);v.addClosingListener(function(Z,da){if(da)aa(da);else return Z.destroy(),g.remove(),!0});v.addClosedListener(function(Z){Z.destroy();g.remove()});v.showFooterPane(this.createFooter);v.show()};this.setContent=function(H,J){v.setContent(H,J)};this.destroy=function(){v.destroy();
g.remove()};this.createFooter=function(H){var J=new z(c.get("iknow","\u6211\u77e5\u9053\u4e86"));J.setHighlight(!0);var O=J.getJqUi();A.layoutCtrlWithLRTB(O,"50%",0,100,null,13,28);O.addClass("dialog-footer-close");O.css("margin-left","-50px");O.appendTo(H);J.addActionListener(function(ca){v.destroy();g.remove()})}},t=function(n){var g=$("<div>");g.addClass("qing-welcome-viewdetail-content");var v=$("<p>");v.addClass("qing-welcome-viewdetail-contenxt-texttitle");v.text(n);n=$("<p>");n.addClass("qing-welcome-viewdetail-contenxt-text");
n.html(U.replace(/,/g,c.get("semicolon","\uff1b")+"<br>"));g.append(v);g.append(n);return g};this.updateMessage=function(n,g,v,E,L){K=L;T=n;Q=v;U=g;b.text(E);u.ShowDataModelActionType==L?(G.hide(),h.show(),h.text(c.get("setDataModel","\u6570\u636e\u51c6\u5907"))):u.ShowErrorDetailActionType==L?(G.show(),h.show(),h.text(c.get("showErrorLog","\u663e\u793a\u9519\u8bef\u65e5\u5fd7"))):u.ShowPermissionDetailActionType==L?(G.show(),h.show(),h.text(c.get("viewDetails","\u67e5\u770b\u8be6\u60c5")),q.prop("src",
R)):u.ShowSupportQingActionType==L?(a.css("width","700px"),G.show(),h.show(),h.text(c.get("viewDetails","\u67e5\u770b\u8be6\u60c5")),q.prop("src",R),n=y.getSupportQingAnalysisUrl(),n=$("<a onclick='javascript:window.open(\""+n+"\");' href='#'>"),n.css("cursor","pointer"),n.css("color","#5582f3"),n.text(c.get("viewDocument","\u67e5\u770b\u5e2e\u52a9\u6587\u6863")),b.append(n)):(G.show(),h.hide())}};r.IProgressHandler=k;r.CustomProgressHandler=function(){k.call(this);var a,b,h,q,f;this.setCancelFun=
function(D){};this.init=function(D,C,F,I){a=D;b=C;h=F;f=I;q=f.getJqUi();a.append(q)};this.finished=function(){a&&(a.hide(),f.hide(),b.show(),h.text(c.get("extractData","\u6b63\u5728\u51c6\u5907\u6570\u636e")))};this.showProgress=function(D){a.show();f.hide();b.show();h.text(D.toText())};this.showExceptionInfo=function(D,C,F,I,G){a.show();f.show();b.hide();f.updateMessage(D,C,F,I,G)}};r.BlockingProgressHandler=function(){k.call(this);var a=new e,b=a.getJqUi();b.appendTo($(document.body));this.setCancelFun=
function(h){a.setCancelFun(function(){b.remove();h&&h()})};this.finished=function(){b.remove()};this.showProgress=function(h){a.showProgress(h)};this.showExceptionInfo=function(h,q,f,D,C){a.cancel();h=com.kingdee.bos.qing.ui.component.MessageDialog;q=new h;q.setOptionType(h.OPTION_OK);q.setMessage(D);f&&q.setDetail(f);q.showDialog()}};r.IProgressErrorUI=p;r.IProgressingUI=l;var B,A,w,c,x,z,u,y,m;(function(){var a=com.kingdee.bos.qing.common;A=a.DomUtil;a=com.kingdee.bos.qing.framework.common;c=a.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);
w=a.Resource;y=a.OfficialArticleUtil;a=com.kingdee.bos.qing.prepare.model;u=a.ProgressModel;a=com.kingdee.bos.qing.ui.component;x=a.Dialog;z=a.Button;a=com.kingdee.bos.qing;m=a.CodeLoader;w.bindLoader(m)})()})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.datainfo&&(com.kingdee.bos.qing.prepare.datainfo={});var k=com.kingdee.bos.qing.prepare.datainfo,l,p;(function(){var e=com.kingdee.bos.qing.framework.common;
l=e.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);e=com.kingdee.bos.qing.ui.component;p=e.HelpIcon})();k.DataSourceInfo=function(){var e,r,B,A;this.getExtractDataTime=function(){return e};this.getOriginalCreatorName=function(){return r};this.hasDirectModeTable=function(){return B};this.getNoAuthOperValueMap=function(){return A};this.fromJson=function(w){e=w.extractDataTime;r=w.originalCreatorName;B=w.hasDirectModeTable;A=w.noAuthOperValueMap}};k.DataInfoIconTipsUI=function(e){var r,
B,A;this.setModel=function(w){A=w;w=com.kingdee.bos.qing.CodeLoader;w.setCallback(function(){a:{if(A){B||(B=new p,B.setIconType(p.ICON_TYPE_INFO),r=B.getJqUi(),r.addClass("sa-qing-datainfo"),r.appendTo(e));var c="",x=A.getOriginalCreatorName();x&&(c+="<b>"+l.get("originalCreatorName","\u53d1\u5e03\u4eba\uff1a")+"</b>"+x+"</br>");if((x=A.getNoAuthOperValueMap())&&JSON.stringify(x)!=JSON.stringify({})){c+="</br><b>"+l.get("noAuthOperName","\u672a\u6388\u6743\u7684\u64cd\u4f5c\u6743\u9650\uff1a")+"</b>";
for(var z in x){var u=x[z],y=new com.kingdee.bos.qing.publish.model.OperCodeMap,m;for(m in y.getOperCodeMap()[z])if(1!=m&&0!=(m&u)){var a=y.getOperCodeMap()[z][m];c+=l.get(a,y.getOperNameMap()[a]);c+="\u3001"}c=c.slice(0,c.length-1)}c+="</br>"}if(z=A.getExtractDataTime())c&&(c+="</br>"),c+="<b>"+l.get("extractDataTime","\u6570\u636e\u66f4\u65b0\u65f6\u95f4\uff1a")+"</b>"+z+"</br>";B.setTipsHtml(c);if(c){r.show();break a}}r&&r.hide()}});w.setRootPath(".");w.loadI18n("publish","publish");w.loadJs("biz-common/qing-biz-common.js");
w.loadJs("schema-manage/schema-manage-initialize.js");w.loadJs("schema-manage/schema-manage-ui.js");w.loadJs("publish/qing-publish.js")}}})();(function(){function k(m,a,b,h){B.call(this,m,a,b,h);var q=this.protectedMethod;q.setShowBlocking(!1);this.getServerTimeStamp=function(){q.remote("getServerTimeStamp",{})};this.loadDataInfo=function(f){q.remote("loadDataInfo",f)};this.subjectStartExtractData=function(f){return q.remote("subjectStartExtractData",f)};this.billStartExtractData=function(f){return q.remote("billStartExtractData",f)};this.publishedStartExtractData=function(f){return q.remote("publishedStartExtractData",f)};this.publishedDsdRefAnalysisStartExtractData=
function(f){return q.remote("publishedDsdRefAnalysisStartExtractData",f)};this.nocodeCardStartExtractData=function(f){return q.remote("nocodeCardStartExtractData",f)};this.startAIHomePageSubjectExtractData=function(f){return q.remote("startAIHomePageSubjectExtractData",f)};this.designTimeNocodeCardStartExtractData=function(f){return q.remote("designTimeNocodeCardStartExtractData",f)};this.editTimedPushStartExtractData=function(f){return q.remote("editTimedPushStartExtractData",f)};this.workbenchWidgetStartExtractData=
function(f){return q.remote("workbenchWidgetStartExtractData",f)};this.metricStartExtractData=function(f){return q.remote("metricStartExtractData",f)};this.loadSubjectDataInfo=function(f){q.remote("loadSubjectDataInfo",f)};this.loadPublishedDataInfo=function(f){q.remote("loadPublishedDataInfo",f)};this.loadPublishedDsdRefAnalysisDataInfo=function(f){q.remote("loadPublishedDsdRefAnalysisDataInfo",f)};this.loadEditTimedPushDataInfo=function(f){q.remote("loadEditTimedPushDataInfo",f)};this.tryAddResourceLock=
function(f,D){q.remote("tryAddResourceLock",{groupId:f,resourceId:D})}}function l(){A.call(this);var m,a;this.getRemoteUrl=function(b){b.tag=a;return m};this.setRemoteUrl=function(b){m=b};this.setTag=function(b){a=b}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare=
{});var p=com.kingdee.bos.qing.prepare;p.RemoteImpl=l;var e,r,B,A;p.AbstractDataExtractor=function(){var m=this,a=null,b,h=!1,q=!1,f=null,D=!1;var C=w.decodeParamFromUrl(location.search,"tag");var F=w.decodeParamFromUrl(location.search,"path");this.setTag=function(d){C=d};this.protectedStart=function(d){b&&b.finished();q=h=!1;f&&(f(),f=null);b=d;document.body.style.height=document.documentElement.clientHeight+"px";P()};this.restart=function(){var d=new x;m.protectedStart(d)};this.getIsEditScene=function(){return D};
this.setIsEditScene=function(d){D=d};this.getJqUi=function(d){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.setExtractDataFinishedSuccessCallback=function(d){a=d;M()};this.getParamPathPrefix=function(){return F};this.appendExtraParamsToRemoteUrl=function(d){return d};var I=function(){var d=(F?F:"/ierp")+"/qing/prepare.do";d=m.appendExtraParamsToRemoteUrl(d);var t=new l;t.setRemoteUrl(d);t.setTag(C);return t},G=function(d,t,n){return new k(I(),d,function(g,v,E){return t&&
t(g,v,E)?!0:!1},n)},N,P=function(){var d=new c;b.showProgress(d);G(function(t){N=t;T(t)},function(t,n,g){R(t,n,g);return!0}).getServerTimeStamp()},T=function(d){U(d);var t={};t.timeStamp=d;var n=G(function(g){Q(d);if(g&&N==g.timeStamp){h=!0;var v=new c;v.fromJsonObject(g);q=v.isMetaChanged();b.showProgress(v);m.protectedNeedLoadDataInfo()?V():h&&M()}},function(g,v,E){Q(d);if(-1==g)return!0;q=h=!1;R(g,v,E);m.protectedNeedLoadDataInfo()?V():h&&M();return!0});n.setCancelable(!0);t.isEditScene=D;f=m.protectedInvokeExtractDataMethod(n,
t);b.setCancelFun(f)};this.protectedInvokeExtractDataMethod=function(d,t){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};var U=function(d){r.subscribeChannel("ExtractData"+d,K);m.protectedSubscribeCustomChannel(d)},Q=function(d){r.unsubscribeChannel("ExtractData"+d,K);m.protectedUnsubscribeCustomChannel(d)};this.protectedSubscribeCustomChannel=function(d){};this.protectedUnsubscribeCustomChannel=function(d){};this.protectedRejectExtractDataChanelMessage=function(d){return!1};
var K=function(d){if(!m.protectedRejectExtractDataChanelMessage(d)){d=JSON.parse(d);var t=new c;t.fromJsonObject(d);b.showProgress(t)}},R=function(d,t,n){if(2101001==d)var g=e.get("analysisNoFound","\u8be5\u6570\u636e\u5206\u6790\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else if(2101002==d||2101004==d){g=e.get("setDataModelBeforeAnalysis","\u8be5\u6570\u636e\u5206\u6790\u6ca1\u6709\u5b9a\u4e49\u6570\u636e\uff0c\u8bf7\u5148\u8fdb\u884c\u6570\u636e\u51c6\u5907");var v=c.ShowDataModelActionType}else if(2101003==
d||2101005==d)g=e.get("setDataModelBeforeAnalysis","\u8be5\u6570\u636e\u5206\u6790\u6ca1\u6709\u5b9a\u4e49\u6570\u636e\uff0c\u8bf7\u5148\u8fdb\u884c\u6570\u636e\u51c6\u5907");else if(2103001==d||2103002==d)g=e.get("publishedHasNotFound","\u8be5\u53d1\u5e03\u8bb0\u5f55\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else if(2101006==d){g=e.get("lackDataEntityAuthority","\u5c1a\u672a\u83b7\u5f97\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650");v=c.ShowPermissionDetailActionType;var E=
t.match(/(\(|\uff08)([^(\)|\uff09)]+)(\)|\uff09)/);E&&(t=E[2])}else if(2101018==d)y.getSupportQingAnalysisUrl(),g=e.get("entityNotSupportQingAnalysis","\u4e1a\u52a1\u5b9e\u4f53\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff0c\u8bf7\u5728\u5f00\u53d1\u5e73\u53f0\u7684\u5bf9\u5e94\u8868\u5355\u4e2d\u8fdb\u884c\u8bbe\u7f6e  "),(E=/(?:\u3010\s)(.+)(?=\s\u3011)/.exec(t))?t=E[1]:E=/(?:\u3010\s)(.+)/.exec(t),E&&(t=E[1]),v=c.ShowSupportQingActionType;else if(21000008==d)g=
e.get("noQingModelerLicense","\u5f53\u524d\u7cfb\u7edf\u6ca1\u6709\u3010\u8f7b\u5efa\u6a21\u3011\u6a21\u5757\u7684\u4f7f\u7528\u8bb8\u53ef\uff0c\u8bf7\u4e0e\u7cfb\u7edf\u7ba1\u7406\u5458\u8054\u7cfb");else if(2101016==d)g=e.get("subjectEntityMySQLMoreThan61Table","\u5f53\u524d\u5b9e\u4f53\u5173\u8054\u6570\u636e\u8868\u592a\u591a\uff0c\u8bf7\u51cf\u5c11\u5b9e\u4f53\u7684\u5206\u6790\u5b57\u6bb5\u6216\u5220\u9664\u4e0d\u9700\u8981\u7684\u5b9e\u4f53\u5206\u5f55\u3002");else if(2101009==d)g=e.get("subjectDataSourceError",
"\u6570\u636e\u6e90\u53d1\u751f\u5f02\u5e38"),v=c.ShowErrorDetailActionType;else if(2101010==d)g=e.get("qingStorageFileSizeLimit","\u8f7b\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3");else if(2100001==d)g=e.get("qingStorageNoSpace","\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\uff0c\u8bf7\u8054\u7cfb\u8fd0\u7ef4\u4eba\u5458\u6dfb\u52a0\u78c1\u76d8");else if(2101011==d)g=e.get("subjectDBDataSourceError","\u6570\u636e\u6e90\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5f02\u5e38"),v=c.ShowErrorDetailActionType;
else if(2101012==d)g=e.get("noDBCenterPermission","\u6ca1\u6709\u6570\u636e\u4e2d\u5fc3\u6743\u9650\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2101023==d)g=e.get("noSuperQueryAuth","\u6ca1\u6709\u5f53\u524d\u8d85\u7ea7\u67e5\u8be2\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2215011==d)g=e.get("noDmoPermission","\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0\u6743\u9650\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");
else if(2101013==d)g=e.get("entityDestroyed","\u5bf9\u5e94\u4e3b\u9898\u7684\u6570\u636e\u8868\u88ab\u635f\u574f");else if(2101014==d)g=e.get("entityDestroyedOwner","\u5bf9\u5e94\u4e3b\u9898\u7684\u6570\u636e\u8868\u88ab\u635f\u574f\uff0c\u8bf7\u91cd\u65b0\u8fdb\u884c\u6570\u636e\u51c6\u5907"),v=c.ShowDataModelActionType;else if(2101015==d)g=e.get("noDBCenterOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u6570\u636e\u4e2d\u5fc3\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",
t);else if(2215012==d)g=e.get("noDmoOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",t);else if(2101019==d)g=e.get("noModelerPermission","\u5c1a\u672a\u83b7\u5f97\u6570\u636e\u8868\u6a21\u578b\u7684\u6570\u636e\u6743\u9650");else if(2101020==d)g=e.get("noModelerOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u8f7b\u5efa\u6a21\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",
t);else if(2101021==d)g=e.get("notExistTable","\u65e0\u6cd5\u5728\u6a21\u5f0f\u201c#1\u201d\u4e2d\u627e\u5230\u8be5\u5b9e\u4f53\u6570\u636e\u8868").replaceAll("#1",t),v=c.ShowDataModelActionType;else if(2101022==d)g=e.get("noSuperQueryPerm","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u8d85\u7ea7\u67e5\u8be2\u76f8\u5173\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",t);else if(2101024==d)g=e.get("ownerNotExistTable","\u6570\u636e\u6e90\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6570\u636e\u6e90"),
v=c.ShowDataModelActionType;else if(2215020==d)g=e.get("dmoPermission","\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0#1\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",t);else if(2102004==d)g=e.get("emptyFormMetaInfo","\u4e1a\u52a1\u5355\u636e\u6ca1\u6709\u53ef\u5206\u6790\u7684\u5143\u6570\u636e");else if(2301001==d)g=e.get("publishedHasNotFound","\u8be5\u53d1\u5e03\u8bb0\u5f55\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else{if(1030001==d)return m.protectedShowNavTitle(),
com.kingdee.bos.qing.framework.common.RemoteFramework.openErrorPage(d,com.kingdee.bos.qing.common.Base64Util.encode(encodeURIComponent(t))),!0;g=e.get("extractDataError","\u51fa\u9519\u4e86\uff0c\u51c6\u5907\u6570\u636e\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9519\u8bef");v=c.ShowErrorDetailActionType}m.protectedShowExceptionInfo(d,t,n,g,v)};this.protectedShowExceptionInfo=function(d,t,n,g,v){b.showExceptionInfo(d,t,n,g,v)};var M=function(){h&&a&&(b.finished(),a(q),h=!1,a=null)};this.protectedShowNavTitle=
function(){};this.protectedNeedLoadDataInfo=function(){return!0};this.protectedInvokeLoadDataInfoMethod=function(d,t){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};var S,V=function(){S||(S=new u($(document.body)));var d=G(function(t){if(t){com.kingdee.bos.qing.framework.common.WebPageInitializer.init();var n=new z;n.fromJson(t);S.setModel(n);p.DataSourceInfoContext.setCurrentDataSourceInfo(n);t.warning&&(n=new com.kingdee.bos.qing.ui.component.MessageCurtain,n.getJqUi().appendTo($(document.body)),
n.showPrompt(t.warning,-1));M()}},function(t,n,g){window.console&&console.info("loadDataInfo error:"+t+" | "+n+" | "+g);M();return!0});m.protectedInvokeLoadDataInfoMethod(d,{})};this.protectedMethod={createFacade:G}};var w,c,x,z,u,y;(function(){var m=com.kingdee.bos.qing.framework.common;e=m.MultilanguageManager.createPackageAccessor(p);r=m.RemoteFramework;B=m.AbstractFacade;A=m.AbstractRemoteCall;y=m.OfficialArticleUtil;m=com.kingdee.bos.qing.common;w=m.Util;m=com.kingdee.bos.qing.prepare.model;
c=m.ProgressModel;m=com.kingdee.bos.qing.prepare.ui;x=m.BlockingProgressHandler;m=com.kingdee.bos.qing.prepare.datainfo;z=m.DataSourceInfo;u=m.DataInfoIconTipsUI})();p.DataSourceInfoContext=new function(){var m;this.setCurrentDataSourceInfo=function(a){m=a};this.getCurrentDataSourceInfo=function(){return m}}})();(function(){function k(){A.call(this);var c,x,z=!0,u,y;this.getJqUi=function(){if(!c){var a=p.get("loading","\u6570\u636e\u51c6\u5907\u4e2d");c=$("<div>");c.addClass("card-prepare-loading-modallayer");w.layoutCtrl(c,0,0,"100%","100%");x=$("<div>");x.addClass("card-prepare-loading-panel");x.appendTo(c);w.layoutCtrl(x,0,0,"100%","100%");var b=$("<div>");b.addClass("card-prepare-loading-icon");r||(r=com.kingdee.bos.qing.prepare.MyIcons);r.background(b,"loading");b.css("background-position","center");
b.css({"margin-left":"-20px","margin-top":"-30px","background-position":"center"});b.appendTo(x);w.layoutCtrl(b,"50%","50%",40,40);b=$("<div>");b.addClass("card-prepare-loading-text");b.text(a);b.css({"margin-left":"-100px","margin-top":"15px",color:"#999"});b.appendTo(x);w.layoutCtrl(b,"50%","50%",200,20);if((a=e.decodeParamFromUrl(location.search,"cardName"))&&z){a=com.kingdee.bos.qing.common.Base64Util.decode(a);b=$("<div>");var h=$("<div class='card-prepare-loading-title'>");h.text(a);h.attr(a);
w.layoutCtrlWithLRTB(b,0,0,null,0,null,30);b.appendTo(x);h.appendTo(b)}}return c};this.setCancelFun=function(a){};this.finished=function(){c.hide()};this.setNeedCreateHead=function(a){z=a};this.setErrorDetailCssProvider=function(a){_funErrorDetailCssProvider=a};this.setErrorHandler=function(a){u=a};this.setJqErrorContent=function(a){y=a};this.showProgress=function(a){a.isFinshed()?c.hide():c.show();x.attr("title",a.toText())};this.showExceptionInfo=function(a,b,h,q,f){u?u(a,b,h):(c.show(),c.empty(),
q=new com.kingdee.bos.qing.scene.common.square.exhibition.CardErrorUi(c),q.setShowErrorDetailListener(m),q.setShowDetail(!0),q.show(a,b,h))};var m=function(a,b,h){b=$("<div>");b.css({position:"absolute",width:"100%",top:"26px",bottom:"0px","background-color":"white"});var q=$("<div>");q.text(p.get("errorCode","\u9519\u8bef\u7801\uff1a")+a);a=$("<div>");a.css({position:"absolute",width:"100%",top:"15px",bottom:"0px",overflow:"auto"});a.text(h);q.appendTo(b);a.appendTo(b);h=$(document.body);y&&(h=y);
b.appendTo(h)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});var l=com.kingdee.bos.qing.prepare;l.CardProgressHandler=k;var p,e,r,B,A,w;(function(){var c=com.kingdee.bos.qing.framework.common;p=c.MultilanguageManager.createPackageAccessor(l);c=com.kingdee.bos.qing.common;
e=c.Util;w=c.DomUtil;c=com.kingdee.bos.qing.prepare;B=c.AbstractDataExtractor;c=com.kingdee.bos.qing.prepare.ui;A=c.IProgressHandler})();l.DataExtractor=new function(){B.call(this);var c=this,x,z=e.decodeParamFromUrl(location.search,"publishId");this.getJqUi=function(){x||(x=new k);return x.getJqUi()};this.start=function(){x.finished();var u=e.decodeParamFromUrl(location.search,"errorCode");u?x.showExceptionInfo(u):c.protectedStart(x)};this.appendExtraParamsToRemoteUrl=function(u){var y=e.decodeParamFromUrl(location.search,
"access_token");y&&(u=e.appendParamToUrl(u,"access_token",encodeURIComponent(y)));return u};this.protectedNeedLoadDataInfo=function(){return!1};this.protectedInvokeExtractDataMethod=function(u,y){y.dealProgresss=!0;y.publishId=z;return u.publishedStartExtractData(y)}}})();var QingFacade=new function(){this.reExtractData=function(){}};
(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});var k=com.kingdee.bos.qing.prepare;oPackage=com.kingdee.bos.qing.common;var l=oPackage.Util;oPackage=com.kingdee.bos.qing.framework.common;var p=oPackage.MultilanguageManager.createPackageAccessor(k);
oPackage=com.kingdee.bos.qing.prepare;var e=oPackage.AbstractDataExtractor;oPackage=com.kingdee.bos.qing.prepare;var r=oPackage.CardProgressHandler;oPackage=com.kingdee.bos.qing.prepare.ui;var B=oPackage.CustomProgressHandler;var A=oPackage.PCProgressErrorPage;k.NocodeCardDataExtractor=new function(){e.call(this);var w=this,c,x,z=l.decodeParamFromUrl(location.search,"cardId");this.getJqUi=function(){c||(c=new r,c.setNeedCreateHead(!1),c.setErrorHandler(x));var u=c.getJqUi();u.css("position","fixed");
return u};this.start=function(){c.finished();var u=l.decodeParamFromUrl(location.search,"errorCode");u?c.showExceptionInfo(u):w.protectedStart(c)};this.appendExtraParamsToRemoteUrl=function(u){return u};this.protectedNeedLoadDataInfo=function(){return!1};this.protectedInvokeExtractDataMethod=function(u,y){y.dealProgresss=!0;y.cardId=z;return u.nocodeCardStartExtractData(y)};this.setErrorHandler=function(u){x=u}};k.NocodeCardDesignerDataExtractor=new function(){e.call(this);var w=l.decodeParamFromUrl(location.search,
"cardId"),c=l.decodeParamFromUrl(location.search,"paramCacheId"),x=!0,z=this;this.start=function(y,m,a){var b=new B,h=$("#qing-error");h.hide();$("#close-tab").text(p.get("closeTab","\u9000\u51fa"));h.on("click",com.kingdee.bos.qing.framework.common.TabbedUiUtil.closeCurrentTab);var q=function(){h.hide();z.protectedStart(b)},f=new A;f.setFunExtractAgain(q);QingFacade.reExtractData=q;b.init(y,m,a,f);z.protectedStart(b)};var u=this.protectedShowExceptionInfo;this.protectedShowExceptionInfo=function(y,
m,a,b,h){com.kingdee.bos.qing.SkinUtil.makeColorEffective();$("#qing-error").show();u(y,m,a,b,h)};this.protectedNeedLoadDataInfo=function(){return!1};this.protectedInvokeExtractDataMethod=function(y,m){m.cardId=w;m.paramCacheId=c;m.tag=l.decodeParamFromUrl(location.search,"tag");m.isFirstFromCache=x;return y.designTimeNocodeCardStartExtractData(m)};this.setParamCacheId=function(y){c=y};this.setFirstFromCache=function(y){x=y}}})();
//qingVersionTag: 20250324