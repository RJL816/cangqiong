var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(k,m,g){if(k==Array.prototype||k==Object.prototype)return k;k[m]=g.value;return k};
$jscomp.getGlobal=function(k){k=["object"==typeof globalThis&&globalThis,k,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var m=0;m<k.length;++m){var g=k[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(k,m){var g=$jscomp.propertyToPolyfillSymbol[m];if(null==g)return k[m];g=k[g];return void 0!==g?g:k[m]};$jscomp.polyfill=function(k,m,g,b){m&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(k,m,g,b):$jscomp.polyfillUnisolated(k,m,g,b))};
$jscomp.polyfillUnisolated=function(k,m,g,b){g=$jscomp.global;k=k.split(".");for(b=0;b<k.length-1;b++){var n=k[b];if(!(n in g))return;g=g[n]}k=k[k.length-1];b=g[k];m=m(b);m!=b&&null!=m&&$jscomp.defineProperty(g,k,{configurable:!0,writable:!0,value:m})};
$jscomp.polyfillIsolated=function(k,m,g,b){var n=k.split(".");k=1===n.length;b=n[0];b=!k&&b in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var C=0;C<n.length-1;C++){var z=n[C];if(!(z in b))return;b=b[z]}n=n[n.length-1];g=$jscomp.IS_SYMBOL_NATIVE&&"es6"===g?b[n]:null;m=m(g);null!=m&&(k?$jscomp.defineProperty($jscomp.polyfills,n,{configurable:!0,writable:!0,value:m}):m!==g&&(void 0===$jscomp.propertyToPolyfillSymbol[n]&&(g=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[n]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(n):$jscomp.POLYFILL_PREFIX+g+"$"+n),$jscomp.defineProperty(b,$jscomp.propertyToPolyfillSymbol[n],{configurable:!0,writable:!0,value:m})))};
$jscomp.polyfill("String.prototype.replaceAll",function(k){return k?k:function(m,g){if(m instanceof RegExp&&!m.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return m instanceof RegExp?this.replace(m,g):this.replace(new RegExp(String(m).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),g)}},"es_2021","es3");
(function(){function k(){var n,C,z,y,l=!1,x=!1;this.isFinshed=function(){return l};this.isMetaChanged=function(){return x};this.fromJsonObject=function(D){n=D.totalEntity;C=D.currentEntity;z=D.totalRows;y=D.dealRows;l=D.isFinished;x=D.metaChanged};this.toText=function(){if(l)return b.get("extractDataFinished","\u51c6\u5907\u6570\u636e\u5b8c\u6bd5\uff0c\u6b63\u5728\u521d\u59cb\u5316\u754c\u9762")+"...";if(!n||-1==n)return b.get("extractData","\u6b63\u5728\u51c6\u5907\u6570\u636e")+"...";var D=b.get("progressText",
"\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\u3002").replace("#1",n).replace("#2",C);0<y&&0>=z?D=b.get("progressTextWithDeal","\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\uff0c\u5df2\u5b8c\u6210 #3 \u884c\u3002").replace("#1",n).replace("#2",C).replace("#3",y):0<y&&0<z&&(D=b.get("progressTextWithTotal","\u5171\u9700\u5904\u7406 #1 \u5f20\u6570\u636e\u8868\uff0c\u6b63\u5728\u5904\u7406\u7b2c #2 \u5f20\uff0c\u5df2\u5b8c\u6210 #3 \u884c\uff0c\u5171 #4 \u884c\u3002").replace("#1",
n).replace("#2",C).replace("#3",y).replace("#4",z));return D}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.model&&(com.kingdee.bos.qing.prepare.model={});var m=com.kingdee.bos.qing.prepare.model;m.ProgressModel=
k;var g={};m.SceneType=g;g.LONGER="longer";g.SQUARE="square";var b=com.kingdee.bos.qing.framework.common.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);k.ShowDataModelActionType="ShowDataModel";k.ShowErrorDetailActionType="ShowErrorDetail";k.ShowPermissionDetailActionType="ShowPermissionDetail";k.ShowSupportQingActionType="ShowSupportQingAnalysis"})();(function(){function k(){this.setCancelFun=function(c){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.finished=function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showProgress=function(c){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showExceptionInfo=function(c,f,t,u,e){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");}}function m(){var c=this;this.getJqUi=
function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.showProgress=function(f){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.show=function(){var f=c.getJqUi();f&&f.show()};this.hide=function(){var f=c.getJqUi();f&&f.hide()}}function g(){var c=this;this.getJqUi=function(){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.show=function(){var f=c.getJqUi();f&&f.show()};this.hide=function(){var f=
c.getJqUi();f&&f.hide()};this.setFunExtractAgain=function(f){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.setFunEditDataModel=function(f){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.updateMessage=function(f,t,u,e,v){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");}}function b(){m.call(this);var c,f,t;this.getJqUi=function(){c||u();return c};var u=function(){var e=l.get("loading","\u6570\u636e\u51c6\u5907\u4e2d");
c=$("<div>");c.addClass("sa-common-loading-modallayer");z.layoutCtrl(c,0,0,"100%","100%");var v=$("<div>");v.addClass("sa-common-loading-panel");v.css({"margin-left":"-100px","margin-top":"-40px"});v.appendTo(c);z.layoutCtrl(v,"50%","50%",200,80);var p=$("<div>");p.addClass("sa-common-loading-icon");p.css("background-image",y.getIconUrl("common","loading.gif"));p.css({"margin-left":"-20px","margin-top":"-30px"});p.appendTo(v);z.layoutCtrl(p,"50%","50%",40,40);p=$("<div>");p.addClass("sa-common-loading-text");
f=$("<span>");f.text("string"==typeof e?e:l.get("loading","\u6570\u636e\u51c6\u5907\u4e2d"));f.appendTo(p);p.css({"margin-left":"-150px","margin-top":"15px",color:"#999"});p.appendTo(v);z.layoutCtrl(p,null,"50%",500,20);var A=$("<span>");A.text("  "+l.get("loadingToCancel","\u70b9\u51fb\u8fd9\u91cc\u53d6\u6d88"));A.css({display:"none","white-space":"pre-wrap",cursor:"pointer",color:"#88c"});A.appendTo(p);A.on("click",function(){t&&t()});setTimeout(function(){A.show()},3E3)};this.setCancelFun=function(e){t=
e};this.showProgress=function(e){e=e.toText();f&&f.text(e)};this.cancel=function(){t&&t()}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.ui&&(com.kingdee.bos.qing.prepare.ui={});var n=com.kingdee.bos.qing.prepare.ui;
n.PCProgressErrorPage=function(){g.call(this);var c,f,t,u,e=$(document.body),v=$("<div class='sa-ctrl-common-modallayer'>"),p,A,F,B,N,P,T,U,Q,K,R=q.getIconUrl("prepare","no-data-new.png");this.setFunExtractAgain=function(h){N=h};this.setFunEditDataModel=function(h){P=h};this.getJqUi=function(){c||M();return c};var M=function(){c=$("<div>");c.addClass("qing-welcome-sub-container");c.hide();u=$("<img>");u.addClass("qing-welcome-big-img");u.prop("src",q.getIconUrl("prepare","errorBackground.png"));f=
$("<span>");f.addClass("qing-welcome-error-text");c.append(u);c.append(f);B=$("<div>");B.addClass("qing-welcome-error-btn");B.text(l.get("extractAgain","\u91cd\u65b0\u62bd\u53d6"));B.on("click",function(h){N&&N()});c.append(B);t=$("<div>");t.addClass("qing-welcome-error-btn");t.on("click",V);c.append(t)},S=function(){v.detach();p.detach()},V=function(){if(G.ShowDataModelActionType==K)P&&P();else if(G.ShowErrorDetailActionType==K){if(!p){p=$("<div>");p.addClass("qing-welcome-error-logdetail-container");
var h=$("<div>");h.addClass("qing-welcome-error-logdetail-title-container");var d=$("<div>");d.addClass("qing-welcome-error-logdetail-titiletag");var w=$("<div>");w.addClass("qing-welcome-error-logdetail-title-lable");w.text(l.get("errorLog","\u9519\u8bef\u65e5\u5fd7"));var E=$("<div>");E.addClass("qing-welcome-error-logdetail-close");C||(C=com.kingdee.bos.qing.prepare.MyIcons);C.background(E,"errorClose");E.on("click",S);h.append(d);h.append(w);h.append(E);d=$("<div>");d.addClass("qing-welcome-error-logdetail-content-container");
A=$("<div>");A.css("padding","10px");F=$("<pre>");F.css("padding-left","10px");d.append(A);d.append(F);p.append(h);p.append(d)}F.text(Q);A.text(l.get("errorCode","\u9519\u8bef\u7801\uff1a")+T);v.appendTo(e);p.appendTo(e)}else G.ShowPermissionDetailActionType==K?(h=new a($(document.body)),h.setSize(440,330),h.setTitle(l.get("permissionTitle","\u6743\u9650\u63d0\u793a")),h.showDialog(r("\u5c1a\u672a\u83b7\u5f97\u4ee5\u4e0b\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650\uff1a"),!0)):G.ShowSupportQingActionType==
K&&(h=new a($(document.body)),h.setSize(440,330),h.setTitle(l.get("DetailInfo","\u8be6\u7ec6\u4fe1\u606f")),h.showDialog(r(l.get("notSupportQingAnalysis","\u4ee5\u4e0b\u4e1a\u52a1\u5b9e\u4f53\u5c1a\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff1a")),!0))},a=function(h){var d=$("<div class='sa-ctrl-common-modallayer'>"),w=new x(d),E=0,L=0,W=320,X=240,Y=h?h:$(document.body),aa,ba;this.setTitle=function(H){ba=H};this.setClosingListener=function(H){aa=H};this.setSize=
function(H,J){W=H;X=J};this.showDialog=function(H,J){d.appendTo(Y);if(!E){var O=Y.prop("clientWidth"),ca=Y.prop("clientHeight");E=O-W>>1;L=(ca-X)/3}w.setBounds(E,L,W,X);w.setToolbarVisible(!1);w.setContent(H,J);w.setTitle(ba);w.addClosingListener(function(Z,da){if(da)aa(da);else return Z.destroy(),d.remove(),!0});w.addClosedListener(function(Z){Z.destroy();d.remove()});w.showFooterPane(this.createFooter);w.show()};this.setContent=function(H,J){w.setContent(H,J)};this.destroy=function(){w.destroy();
d.remove()};this.createFooter=function(H){var J=new D(l.get("iknow","\u6211\u77e5\u9053\u4e86"));J.setHighlight(!0);var O=J.getJqUi();z.layoutCtrlWithLRTB(O,"50%",0,100,null,13,28);O.addClass("dialog-footer-close");O.css("margin-left","-50px");O.appendTo(H);J.addActionListener(function(ca){w.destroy();d.remove()})}},r=function(h){var d=$("<div>");d.addClass("qing-welcome-viewdetail-content");var w=$("<p>");w.addClass("qing-welcome-viewdetail-contenxt-texttitle");w.text(h);h=$("<p>");h.addClass("qing-welcome-viewdetail-contenxt-text");
h.html(U.replace(/,/g,l.get("semicolon","\uff1b")+"<br>"));d.append(w);d.append(h);return d};this.updateMessage=function(h,d,w,E,L){K=L;T=h;Q=w;U=d;f.text(E);G.ShowDataModelActionType==L?(B.hide(),t.show(),t.text(l.get("setDataModel","\u6570\u636e\u51c6\u5907"))):G.ShowErrorDetailActionType==L?(B.show(),t.show(),t.text(l.get("showErrorLog","\u663e\u793a\u9519\u8bef\u65e5\u5fd7"))):G.ShowPermissionDetailActionType==L?(B.show(),t.show(),t.text(l.get("viewDetails","\u67e5\u770b\u8be6\u60c5")),u.prop("src",
R)):G.ShowSupportQingActionType==L?(c.css("width","700px"),B.show(),t.show(),t.text(l.get("viewDetails","\u67e5\u770b\u8be6\u60c5")),u.prop("src",R),h=I.getSupportQingAnalysisUrl(),h=$("<a onclick='javascript:window.open(\""+h+"\");' href='#'>"),h.css("cursor","pointer"),h.css("color","#5582f3"),h.text(l.get("viewDocument","\u67e5\u770b\u5e2e\u52a9\u6587\u6863")),f.append(h)):(B.show(),t.hide())}};n.IProgressHandler=k;n.CustomProgressHandler=function(){k.call(this);var c,f,t,u,e;this.setCancelFun=
function(v){};this.init=function(v,p,A,F){c=v;f=p;t=A;e=F;u=e.getJqUi();c.append(u)};this.finished=function(){c&&(c.hide(),e.hide(),f.show(),t.text(l.get("extractData","\u6b63\u5728\u51c6\u5907\u6570\u636e")))};this.showProgress=function(v){c.show();e.hide();f.show();t.text(v.toText())};this.showExceptionInfo=function(v,p,A,F,B){c.show();e.show();f.hide();e.updateMessage(v,p,A,F,B)}};n.BlockingProgressHandler=function(){k.call(this);var c=new b,f=c.getJqUi();f.appendTo($(document.body));this.setCancelFun=
function(t){c.setCancelFun(function(){f.remove();t&&t()})};this.finished=function(){f.remove()};this.showProgress=function(t){c.showProgress(t)};this.showExceptionInfo=function(t,u,e,v,p){c.cancel();t=com.kingdee.bos.qing.ui.component.MessageDialog;u=new t;u.setOptionType(t.OPTION_OK);u.setMessage(v);e&&u.setDetail(e);u.showDialog()}};n.IProgressErrorUI=g;n.IProgressingUI=m;var C,z,y,l,x,D,G,I,q;(function(){var c=com.kingdee.bos.qing.common;z=c.DomUtil;c=com.kingdee.bos.qing.framework.common;l=c.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);
y=c.Resource;I=c.OfficialArticleUtil;c=com.kingdee.bos.qing.prepare.model;G=c.ProgressModel;c=com.kingdee.bos.qing.ui.component;x=c.Dialog;D=c.Button;c=com.kingdee.bos.qing;q=c.CodeLoader;y.bindLoader(q)})()})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});"undefined"==typeof com.kingdee.bos.qing.prepare.datainfo&&(com.kingdee.bos.qing.prepare.datainfo={});var k=com.kingdee.bos.qing.prepare.datainfo,m,g;(function(){var b=com.kingdee.bos.qing.framework.common;
m=b.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.prepare);b=com.kingdee.bos.qing.ui.component;g=b.HelpIcon})();k.DataSourceInfo=function(){var b,n,C,z;this.getExtractDataTime=function(){return b};this.getOriginalCreatorName=function(){return n};this.hasDirectModeTable=function(){return C};this.getNoAuthOperValueMap=function(){return z};this.fromJson=function(y){b=y.extractDataTime;n=y.originalCreatorName;C=y.hasDirectModeTable;z=y.noAuthOperValueMap}};k.DataInfoIconTipsUI=function(b){var n,
C,z;this.setModel=function(y){z=y;y=com.kingdee.bos.qing.CodeLoader;y.setCallback(function(){a:{if(z){C||(C=new g,C.setIconType(g.ICON_TYPE_INFO),n=C.getJqUi(),n.addClass("sa-qing-datainfo"),n.appendTo(b));var l="",x=z.getOriginalCreatorName();x&&(l+="<b>"+m.get("originalCreatorName","\u53d1\u5e03\u4eba\uff1a")+"</b>"+x+"</br>");if((x=z.getNoAuthOperValueMap())&&JSON.stringify(x)!=JSON.stringify({})){l+="</br><b>"+m.get("noAuthOperName","\u672a\u6388\u6743\u7684\u64cd\u4f5c\u6743\u9650\uff1a")+"</b>";
for(var D in x){var G=x[D],I=new com.kingdee.bos.qing.publish.model.OperCodeMap,q;for(q in I.getOperCodeMap()[D])if(1!=q&&0!=(q&G)){var c=I.getOperCodeMap()[D][q];l+=m.get(c,I.getOperNameMap()[c]);l+="\u3001"}l=l.slice(0,l.length-1)}l+="</br>"}if(D=z.getExtractDataTime())l&&(l+="</br>"),l+="<b>"+m.get("extractDataTime","\u6570\u636e\u66f4\u65b0\u65f6\u95f4\uff1a")+"</b>"+D+"</br>";C.setTipsHtml(l);if(l){n.show();break a}}n&&n.hide()}});y.setRootPath(".");y.loadI18n("publish","publish");y.loadJs("biz-common/qing-biz-common.js");
y.loadJs("schema-manage/schema-manage-initialize.js");y.loadJs("schema-manage/schema-manage-ui.js");y.loadJs("publish/qing-publish.js")}}})();(function(){function k(q,c,f,t){C.call(this,q,c,f,t);var u=this.protectedMethod;u.setShowBlocking(!1);this.getServerTimeStamp=function(){u.remote("getServerTimeStamp",{})};this.loadDataInfo=function(e){u.remote("loadDataInfo",e)};this.subjectStartExtractData=function(e){return u.remote("subjectStartExtractData",e)};this.billStartExtractData=function(e){return u.remote("billStartExtractData",e)};this.publishedStartExtractData=function(e){return u.remote("publishedStartExtractData",e)};this.publishedDsdRefAnalysisStartExtractData=
function(e){return u.remote("publishedDsdRefAnalysisStartExtractData",e)};this.nocodeCardStartExtractData=function(e){return u.remote("nocodeCardStartExtractData",e)};this.startAIHomePageSubjectExtractData=function(e){return u.remote("startAIHomePageSubjectExtractData",e)};this.designTimeNocodeCardStartExtractData=function(e){return u.remote("designTimeNocodeCardStartExtractData",e)};this.editTimedPushStartExtractData=function(e){return u.remote("editTimedPushStartExtractData",e)};this.workbenchWidgetStartExtractData=
function(e){return u.remote("workbenchWidgetStartExtractData",e)};this.metricStartExtractData=function(e){return u.remote("metricStartExtractData",e)};this.loadSubjectDataInfo=function(e){u.remote("loadSubjectDataInfo",e)};this.loadPublishedDataInfo=function(e){u.remote("loadPublishedDataInfo",e)};this.loadPublishedDsdRefAnalysisDataInfo=function(e){u.remote("loadPublishedDsdRefAnalysisDataInfo",e)};this.loadEditTimedPushDataInfo=function(e){u.remote("loadEditTimedPushDataInfo",e)};this.tryAddResourceLock=
function(e,v){u.remote("tryAddResourceLock",{groupId:e,resourceId:v})}}function m(){z.call(this);var q,c;this.getRemoteUrl=function(f){f.tag=c;return q};this.setRemoteUrl=function(f){q=f};this.setTag=function(f){c=f}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare=
{});var g=com.kingdee.bos.qing.prepare;g.RemoteImpl=m;var b,n,C,z;g.AbstractDataExtractor=function(){var q=this,c=null,f,t=!1,u=!1,e=null,v=!1;var p=y.decodeParamFromUrl(location.search,"tag");var A=y.decodeParamFromUrl(location.search,"path");this.setTag=function(a){p=a};this.protectedStart=function(a){f&&f.finished();u=t=!1;e&&(e(),e=null);f=a;document.body.style.height=document.documentElement.clientHeight+"px";P()};this.restart=function(){var a=new x;q.protectedStart(a)};this.getIsEditScene=function(){return v};
this.setIsEditScene=function(a){v=a};this.getJqUi=function(a){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};this.setExtractDataFinishedSuccessCallback=function(a){c=a;M()};this.getParamPathPrefix=function(){return A};this.appendExtraParamsToRemoteUrl=function(a){return a};var F=function(){var a=(A?A:"/ierp")+"/qing/prepare.do";a=q.appendExtraParamsToRemoteUrl(a);var r=new m;r.setRemoteUrl(a);r.setTag(p);return r},B=function(a,r,h){return new k(F(),a,function(d,w,E){return r&&
r(d,w,E)?!0:!1},h)},N,P=function(){var a=new l;f.showProgress(a);B(function(r){N=r;T(r)},function(r,h,d){R(r,h,d);return!0}).getServerTimeStamp()},T=function(a){U(a);var r={};r.timeStamp=a;var h=B(function(d){Q(a);if(d&&N==d.timeStamp){t=!0;var w=new l;w.fromJsonObject(d);u=w.isMetaChanged();f.showProgress(w);q.protectedNeedLoadDataInfo()?V():t&&M()}},function(d,w,E){Q(a);if(-1==d)return!0;u=t=!1;R(d,w,E);q.protectedNeedLoadDataInfo()?V():t&&M();return!0});h.setCancelable(!0);r.isEditScene=v;e=q.protectedInvokeExtractDataMethod(h,
r);f.setCancelFun(e)};this.protectedInvokeExtractDataMethod=function(a,r){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};var U=function(a){n.subscribeChannel("ExtractData"+a,K);q.protectedSubscribeCustomChannel(a)},Q=function(a){n.unsubscribeChannel("ExtractData"+a,K);q.protectedUnsubscribeCustomChannel(a)};this.protectedSubscribeCustomChannel=function(a){};this.protectedUnsubscribeCustomChannel=function(a){};this.protectedRejectExtractDataChanelMessage=function(a){return!1};
var K=function(a){if(!q.protectedRejectExtractDataChanelMessage(a)){a=JSON.parse(a);var r=new l;r.fromJsonObject(a);f.showProgress(r)}},R=function(a,r,h){if(2101001==a)var d=b.get("analysisNoFound","\u8be5\u6570\u636e\u5206\u6790\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else if(2101002==a||2101004==a){d=b.get("setDataModelBeforeAnalysis","\u8be5\u6570\u636e\u5206\u6790\u6ca1\u6709\u5b9a\u4e49\u6570\u636e\uff0c\u8bf7\u5148\u8fdb\u884c\u6570\u636e\u51c6\u5907");var w=l.ShowDataModelActionType}else if(2101003==
a||2101005==a)d=b.get("setDataModelBeforeAnalysis","\u8be5\u6570\u636e\u5206\u6790\u6ca1\u6709\u5b9a\u4e49\u6570\u636e\uff0c\u8bf7\u5148\u8fdb\u884c\u6570\u636e\u51c6\u5907");else if(2103001==a||2103002==a)d=b.get("publishedHasNotFound","\u8be5\u53d1\u5e03\u8bb0\u5f55\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else if(2101006==a){d=b.get("lackDataEntityAuthority","\u5c1a\u672a\u83b7\u5f97\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650");w=l.ShowPermissionDetailActionType;var E=
r.match(/(\(|\uff08)([^(\)|\uff09)]+)(\)|\uff09)/);E&&(r=E[2])}else if(2101018==a)I.getSupportQingAnalysisUrl(),d=b.get("entityNotSupportQingAnalysis","\u4e1a\u52a1\u5b9e\u4f53\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff0c\u8bf7\u5728\u5f00\u53d1\u5e73\u53f0\u7684\u5bf9\u5e94\u8868\u5355\u4e2d\u8fdb\u884c\u8bbe\u7f6e  "),(E=/(?:\u3010\s)(.+)(?=\s\u3011)/.exec(r))?r=E[1]:E=/(?:\u3010\s)(.+)/.exec(r),E&&(r=E[1]),w=l.ShowSupportQingActionType;else if(21000008==a)d=
b.get("noQingModelerLicense","\u5f53\u524d\u7cfb\u7edf\u6ca1\u6709\u3010\u8f7b\u5efa\u6a21\u3011\u6a21\u5757\u7684\u4f7f\u7528\u8bb8\u53ef\uff0c\u8bf7\u4e0e\u7cfb\u7edf\u7ba1\u7406\u5458\u8054\u7cfb");else if(2101016==a)d=b.get("subjectEntityMySQLMoreThan61Table","\u5f53\u524d\u5b9e\u4f53\u5173\u8054\u6570\u636e\u8868\u592a\u591a\uff0c\u8bf7\u51cf\u5c11\u5b9e\u4f53\u7684\u5206\u6790\u5b57\u6bb5\u6216\u5220\u9664\u4e0d\u9700\u8981\u7684\u5b9e\u4f53\u5206\u5f55\u3002");else if(2101009==a)d=b.get("subjectDataSourceError",
"\u6570\u636e\u6e90\u53d1\u751f\u5f02\u5e38"),w=l.ShowErrorDetailActionType;else if(2101010==a)d=b.get("qingStorageFileSizeLimit","\u8f7b\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3");else if(2100001==a)d=b.get("qingStorageNoSpace","\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\uff0c\u8bf7\u8054\u7cfb\u8fd0\u7ef4\u4eba\u5458\u6dfb\u52a0\u78c1\u76d8");else if(2101011==a)d=b.get("subjectDBDataSourceError","\u6570\u636e\u6e90\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5f02\u5e38"),w=l.ShowErrorDetailActionType;
else if(2101012==a)d=b.get("noDBCenterPermission","\u6ca1\u6709\u6570\u636e\u4e2d\u5fc3\u6743\u9650\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2101023==a)d=b.get("noSuperQueryAuth","\u6ca1\u6709\u5f53\u524d\u8d85\u7ea7\u67e5\u8be2\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2215011==a)d=b.get("noDmoPermission","\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0\u6743\u9650\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");
else if(2101013==a)d=b.get("entityDestroyed","\u5bf9\u5e94\u4e3b\u9898\u7684\u6570\u636e\u8868\u88ab\u635f\u574f");else if(2101014==a)d=b.get("entityDestroyedOwner","\u5bf9\u5e94\u4e3b\u9898\u7684\u6570\u636e\u8868\u88ab\u635f\u574f\uff0c\u8bf7\u91cd\u65b0\u8fdb\u884c\u6570\u636e\u51c6\u5907"),w=l.ShowDataModelActionType;else if(2101015==a)d=b.get("noDBCenterOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u6570\u636e\u4e2d\u5fc3\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",
r);else if(2215012==a)d=b.get("noDmoOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",r);else if(2101019==a)d=b.get("noModelerPermission","\u5c1a\u672a\u83b7\u5f97\u6570\u636e\u8868\u6a21\u578b\u7684\u6570\u636e\u6743\u9650");else if(2101020==a)d=b.get("noModelerOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u8f7b\u5efa\u6a21\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",
r);else if(2101021==a)d=b.get("notExistTable","\u65e0\u6cd5\u5728\u6a21\u5f0f\u201c#1\u201d\u4e2d\u627e\u5230\u8be5\u5b9e\u4f53\u6570\u636e\u8868").replaceAll("#1",r),w=l.ShowDataModelActionType;else if(2101022==a)d=b.get("noSuperQueryPerm","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u8d85\u7ea7\u67e5\u8be2\u76f8\u5173\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",r);else if(2101024==a)d=b.get("ownerNotExistTable","\u6570\u636e\u6e90\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6570\u636e\u6e90"),
w=l.ShowDataModelActionType;else if(2215020==a)d=b.get("dmoPermission","\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0#1\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",r);else if(2102004==a)d=b.get("emptyFormMetaInfo","\u4e1a\u52a1\u5355\u636e\u6ca1\u6709\u53ef\u5206\u6790\u7684\u5143\u6570\u636e");else if(2301001==a)d=b.get("publishedHasNotFound","\u8be5\u53d1\u5e03\u8bb0\u5f55\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else{if(1030001==a)return q.protectedShowNavTitle(),
com.kingdee.bos.qing.framework.common.RemoteFramework.openErrorPage(a,com.kingdee.bos.qing.common.Base64Util.encode(encodeURIComponent(r))),!0;d=b.get("extractDataError","\u51fa\u9519\u4e86\uff0c\u51c6\u5907\u6570\u636e\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9519\u8bef");w=l.ShowErrorDetailActionType}q.protectedShowExceptionInfo(a,r,h,d,w)};this.protectedShowExceptionInfo=function(a,r,h,d,w){f.showExceptionInfo(a,r,h,d,w)};var M=function(){t&&c&&(f.finished(),c(u),t=!1,c=null)};this.protectedShowNavTitle=
function(){};this.protectedNeedLoadDataInfo=function(){return!0};this.protectedInvokeLoadDataInfoMethod=function(a,r){throw Error("\u5b50\u7c7b\u9700\u8981\u8986\u76d6\u8fd9\u4e2a\u65b9\u6cd5");};var S,V=function(){S||(S=new G($(document.body)));var a=B(function(r){if(r){com.kingdee.bos.qing.framework.common.WebPageInitializer.init();var h=new D;h.fromJson(r);S.setModel(h);g.DataSourceInfoContext.setCurrentDataSourceInfo(h);r.warning&&(h=new com.kingdee.bos.qing.ui.component.MessageCurtain,h.getJqUi().appendTo($(document.body)),
h.showPrompt(r.warning,-1));M()}},function(r,h,d){window.console&&console.info("loadDataInfo error:"+r+" | "+h+" | "+d);M();return!0});q.protectedInvokeLoadDataInfoMethod(a,{})};this.protectedMethod={createFacade:B}};var y,l,x,D,G,I;(function(){var q=com.kingdee.bos.qing.framework.common;b=q.MultilanguageManager.createPackageAccessor(g);n=q.RemoteFramework;C=q.AbstractFacade;z=q.AbstractRemoteCall;I=q.OfficialArticleUtil;q=com.kingdee.bos.qing.common;y=q.Util;q=com.kingdee.bos.qing.prepare.model;
l=q.ProgressModel;q=com.kingdee.bos.qing.prepare.ui;x=q.BlockingProgressHandler;q=com.kingdee.bos.qing.prepare.datainfo;D=q.DataSourceInfo;G=q.DataInfoIconTipsUI})();g.DataSourceInfoContext=new function(){var q;this.setCurrentDataSourceInfo=function(c){q=c};this.getCurrentDataSourceInfo=function(){return q}}})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.prepare&&(com.kingdee.bos.qing.prepare={});var k=com.kingdee.bos.qing.prepare,m,g,b,n,C,z,y,l;(function(){var x=com.kingdee.bos.qing;m=x.SkinUtil;x=com.kingdee.bos.qing.common;g=x.Util;x=com.kingdee.bos.qing.framework.common;b=x.MultilanguageManager.createPackageAccessor(k);
n=k.AbstractDataExtractor;x=com.kingdee.bos.qing.prepare.model;C=x.ProgressModel;l=x.SceneType;x=com.kingdee.bos.qing.prepare.ui;z=x.CustomProgressHandler;y=x.PCProgressErrorPage})();k.DataExtractor=new function(){n.call(this);var x=this,D=g.decodeParamFromUrl(location.search,"dsbPublishId"),G=g.decodeParamFromUrl(location.search,"ref"),I=g.decodeParamFromUrl(location.search,"themeName"),q=g.decodeParamFromUrl(location.search,"themeId"),c=g.decodeParamFromUrl(location.search,"timedPush"),f=!0;this.start=
function(v,p,A){var F=new z,B=new y;B.setFunExtractAgain(function(){x.protectedStart(F)});B.setFunEditDataModel(u);F.init(v,p,A,B);x.protectedStart(F)};var t=this.restart;this.restart=function(){f=!1;t()};var u=function(){var v=m.getUrlParamValue(),p=b.get("dataModeling","\u6570\u636e\u51c6\u5907")+"-"+I,A=x.getParamPathPrefix()+"/qing/dataModelingEntrance.do";q&&(A=g.appendParamToUrl(A,"themeID",q));v&&(A=g.appendParamToUrl(A,"skin",v));com.kingdee.bos.qing.framework.common.TabbedUiUtil.openNewTab(p,
A)},e=this.protectedShowExceptionInfo;this.protectedShowExceptionInfo=function(v,p,A,F,B){if(2101003==v||2101005==v)F=b.get("setDataModelBeforeAnalysis","\u8be5\u6570\u636e\u5206\u6790\u6ca1\u6709\u5b9a\u4e49\u6570\u636e\uff0c\u8bf7\u5148\u8fdb\u884c\u6570\u636e\u51c6\u5907"),B=null;else if(2301001==v)F=b.get("publishedHasNotFound","\u8be5\u8bb0\u5f55\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664"),B=null;else if(2105E3==v)B=null,F=b.get("cardHasNotFound","\u8be5\u5361\u7247\u5df2\u88ab\u5220\u9664");
else if(1030001==v)return com.kingdee.bos.qing.framework.common.RemoteFramework.openErrorPage(v,com.kingdee.bos.qing.common.Base64Util.encode(encodeURIComponent(p))),!0;B==C.ShowDataModelActionType&&(B=null);e(v,p,A,F,B)};this.protectedInvokeExtractDataMethod=function(v,p){p.dashboardUniqueId=D;p.ref=G;p.dealProgresss=!0;f&&(p.isFirstFromCache=!0);return v.publishedDsdRefAnalysisStartExtractData(p)};this.protectedInvokeLoadDataInfoMethod=function(v,p){p.ref=G;p.dsbPublishId=D;p.scene=l.LONGER;p.isEdit=
x.getIsEditScene();p.timedPush=c;v.loadPublishedDsdRefAnalysisDataInfo(p)}}})();
//qingVersionTag: 20250324