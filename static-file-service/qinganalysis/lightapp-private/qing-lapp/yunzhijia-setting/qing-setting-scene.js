(function(){function r(){var h,n;this.setEncryptInfo=function(a){n=a};this.getAccessToken=function(){return h};this.loadContext=function(a){h?a&&a():q(function(b){var f=window.atob(n);f=JSON.parse(f);var d=f.openId,k=JSON.parse(window.atob(f.appInfo));f=k.appId;k=k.appSecret;d=c(d);k=md5(f+k+d+b);var l={};l.cipher=d;l.appId=f;l.timestamp=b;l.sign=k;p("/qing-lightapp/webApi/getAccessToken",l,function(m){"number"==typeof m.errorCode?location.href="error.html?errorCode="+m.errorCode:((m=m.data)&&(h=
m.accessToken),a&&a())})})};var q=function(a){p("/qing-lightapp/webApi/getTimestamp",{},function(b){(b=b.data)&&b.time&&a(Math.floor(b.time/1E3))})},p=function(a,b,f){var d={type:"POST",dataType:"json"};d.url=a;d.data=b;d.success=f;d.error=e;$.ajax(d)},e=function(){alert("\u8bbf\u95ee\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")},c=function(a){var b={};b.openId=a;return window.btoa(JSON.stringify(b))}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==
typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.lapp&&(com.kingdee.bos.qing.lapp={});"undefined"==typeof com.kingdee.bos.qing.lapp.yunzhijia&&(com.kingdee.bos.qing.lapp.yunzhijia={});"undefined"==typeof com.kingdee.bos.qing.lapp.yunzhijia.setting&&(com.kingdee.bos.qing.lapp.yunzhijia.setting={});"undefined"==typeof com.kingdee.bos.qing.lapp.yunzhijia.setting.scene&&(com.kingdee.bos.qing.lapp.yunzhijia.setting.scene=
{});var t=com.kingdee.bos.qing.lapp.yunzhijia.setting.scene;var g=com.kingdee.bos.qing.CodeLoader;t.YunzhijiaSettingScene=function(){var h;this.start=function(){window.addEventListener("message",function(e){if("https://www.yunzhijia.com"==e.origin){try{var c=JSON.parse(e.data)}catch(a){}c&&"LAPP_YUNZHIJIA_SETTING"==c.from&&"authentication"==c.type&&n(c.encryptInfo,c.value)}},!1)};var n=function(e,c){h=new r;h.setEncryptInfo(e);h.loadContext(function(){q(c)})},q=function(e){p(function(){com.kingdee.bos.qing.lapp.framework.Facade.setSSOParamAppender(function(a){a.accessToken=
h.getAccessToken();a.qingLoginType="TOKEN_LOGIN"});var c=new com.kingdee.bos.qing.lapp.yunzhijia.setting.ui.YunzhijiaSetting;c.setValue(e);c.createUi()})},p=function(e){g.setCallback(e);g.setRootPath(".");g.loadJs("common/env.js");g.loadJs("qing-lapp/common/qing-lapp-main.js");g.loadJs("qing-lapp/yunzhijia-setting/qing-setting-ui.js");g.loadCss("qing-lapp/common/qing-lapp.css");g.loadI18n("../common","qing-lapp-framework");g.loadI18n("qing-lapp/common","qing-lapp-common");g.loadI18n("qing-lapp/yunzhijia-setting",
"qing-lapp-yunzhijia-setting")}}})();
//qingVersionTag: 20250324