var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(r,n,t){if(r==Array.prototype||r==Object.prototype)return r;r[n]=t.value;return r};
$jscomp.getGlobal=function(r){r=["object"==typeof globalThis&&globalThis,r,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<r.length;++n){var t=r[n];if(t&&t.Math==Math)return t}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(r,n){var t=$jscomp.propertyToPolyfillSymbol[n];if(null==t)return r[n];t=r[t];return void 0!==t?t:r[n]};$jscomp.polyfill=function(r,n,t,C){n&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(r,n,t,C):$jscomp.polyfillUnisolated(r,n,t,C))};
$jscomp.polyfillUnisolated=function(r,n,t,C){t=$jscomp.global;r=r.split(".");for(C=0;C<r.length-1;C++){var y=r[C];if(!(y in t))return;t=t[y]}r=r[r.length-1];C=t[r];n=n(C);n!=C&&null!=n&&$jscomp.defineProperty(t,r,{configurable:!0,writable:!0,value:n})};
$jscomp.polyfillIsolated=function(r,n,t,C){var y=r.split(".");r=1===y.length;C=y[0];C=!r&&C in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var E=0;E<y.length-1;E++){var c=y[E];if(!(c in C))return;C=C[c]}y=y[y.length-1];t=$jscomp.IS_SYMBOL_NATIVE&&"es6"===t?C[y]:null;n=n(t);null!=n&&(r?$jscomp.defineProperty($jscomp.polyfills,y,{configurable:!0,writable:!0,value:n}):n!==t&&(void 0===$jscomp.propertyToPolyfillSymbol[y]&&(t=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[y]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(y):$jscomp.POLYFILL_PREFIX+t+"$"+y),$jscomp.defineProperty(C,$jscomp.propertyToPolyfillSymbol[y],{configurable:!0,writable:!0,value:n})))};
$jscomp.polyfill("String.prototype.replaceAll",function(r){return r?r:function(n,t){if(n instanceof RegExp&&!n.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return n instanceof RegExp?this.replace(n,t):this.replace(new RegExp(String(n).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),t)}},"es_2021","es3");
(function(){function r(g){var v,z,p,F,q,G,b,f,m,d,e,u=!0,k=!1,J=!1,I,D,H="icon_nodata",N="12px";this.setShowErrorDetailListener=function(a){I=a};this.setIsQingreportDsbComponent=function(a){J=a};this.setIsDsbComponent=function(a){k=a};this.show=function(a,w,x){v?ca(a,w,x):P(a,w,x)};this.setShowDetail=function(a){u=a};this.getShowOperate=function(){return e};this.setBackgroundIcon=function(a){H=a};this.setFontSize=function(a){N=a};var P=function(a,w,x){v=$("<div>");v.text("loading...");v.appendTo(g);
W.setCallback(function(){aa();ca(a,w,x)});W.loadSkinCss("scene","common-square-exhibition")},aa=function(){v.empty();v.addClass("carderror-errorprompt");!k&&v.css("top","22px");z=$("<div>");z.css({position:"absolute",margin:"0px auto",width:"100%",height:"100%"});z.appendTo(v);var a=$("<iframe>");a.addClass("carderror-errorprompt-size-listener");a.appendTo(v);a[0].contentWindow&&a[0].contentWindow.addEventListener("resize",function(){da()});p=$("<div>");p.addClass("carderror-errorprompt-img");y.Icons.background(p,
H);p.appendTo(z);G=$("<div>");G.addClass("carderror-errorprompt-errorinfo");G.appendTo(z);F=$("<span>");F.addClass("carderror-errorprompt-text");F.css("font-size",N);F.appendTo(G);q=$("<span>");q.addClass("carderror-errorprompt-error-btn");q.text(c.get("showErrorLog","\u663e\u793a\u9519\u8bef\u65e5\u5fd7"));q.appendTo(G)},ca=function(a,w,x){var l;if(2101001==a){e=l=!1;var h=c.get("themeIsDeleted","\u5bf9\u5e94\u4e3b\u9898\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664")}else if(2101002==a||2101003==
a||2101004==a||2101005==a)e=l=!1,h=c.get("themeHasNoData","\u5bf9\u5e94\u4e3b\u9898\u6ca1\u6709\u5b9a\u4e49\u6570\u636e");else if(2103001==a||2103002==a)e=l=!1,h=c.get("componentSourceHasNotFound","\u8be5\u7ec4\u4ef6\u6765\u6e90\u5df2\u88ab\u53d1\u5e03\u8005\u5220\u9664");else if(2101016==a)e=l=!1,h=c.get("subjectEntityMySQLMoreThan61Table","\u5f53\u524d\u5b9e\u4f53\u5173\u8054\u6570\u636e\u8868\u592a\u591a\uff0c\u8bf7\u51cf\u5c11\u5b9e\u4f53\u7684\u5206\u6790\u5b57\u6bb5\u6216\u5220\u9664\u4e0d\u9700\u8981\u7684\u5b9e\u4f53\u5206\u5f55\u3002");
else if(2101009==a)l=!0,e=!1,h=c.get("subjectDataSourceError","\u6570\u636e\u6e90\u53d1\u751f\u5f02\u5e38");else if(2101010==a)e=l=!1,h=c.get("qingStorageFileSizeLimit","\u8f7b\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3");else if(2100001==a)e=l=!1,h=c.get("qingStorageNoSpace","\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\uff0c\u8bf7\u8054\u7cfb\u8fd0\u7ef4\u4eba\u5458\u6dfb\u52a0\u78c1\u76d8");else if(2101011==a)l=!0,e=!1,h=c.get("subjectDBDataSourceError","\u6570\u636e\u6e90\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5f02\u5e38");
else if(2101012==a)h=c.get("noDBCenterPermission","\u6ca1\u6709\u6570\u636e\u4e2d\u5fc3\u6743\u9650\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2101023==a)h=c.get("noSuperQueryAuth","\u6ca1\u6709\u5f53\u524d\u8d85\u7ea7\u67e5\u8be2\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2101013==a||2101014==a)h=c.get("entityDestroyed","\u5bf9\u5e94\u4e3b\u9898\u7684\u6570\u636e\u8868\u88ab\u635f\u574f");else if(2101015==
a)h=c.get("noDBCenterOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u6570\u636e\u4e2d\u5fc3\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",w);else if(2101021==a)h=c.get("notExistTable","\u65e0\u6cd5\u5728\u6a21\u5f0f\u201c#1\u201d\u4e2d\u627e\u5230\u8be5\u5b9e\u4f53\u6570\u636e\u8868").replaceAll("#1",w);else if(2101022==a)h=c.get("noSuperQueryPerm","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u8d85\u7ea7\u67e5\u8be2\u76f8\u5173\u6a21\u5f0f\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",
w);else if(2101024==a)h=c.get("ownerNotExistTable","\u6570\u636e\u6e90\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6570\u636e\u6e90");else if(2106002==a)h=c.get("chartExpired","\u56fe\u8868\u4fe1\u606f\u5df2\u8fc7\u671f");else if(2215011==a)h=c.get("noDmoPermission","\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0\u6743\u9650\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u5206\u914d\u6743\u9650");else if(2215012==a)h=c.get("noDmoOwnerPermission","\u53d1\u5e03\u4eba\u201c#1\u201d\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",
w);else if(2215020==a)h=c.get("dmoPermission","\u6ca1\u6709\u6570\u636e\u5f00\u53d1\u5e73\u53f0#1\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u53d1\u5e03\u4eba\u68c0\u67e5\u6743\u9650").replace("#1",w);else if(2301001==a)e=l=!1,h=k||J?c.get("componentSourceHasNotFound","\u8be5\u7ec4\u4ef6\u6765\u6e90\u5df2\u88ab\u53d1\u5e03\u8005\u5220\u9664"):c.get("cardHasNotFound","\u8be5\u5361\u7247\u5df2\u88ab\u53d1\u5e03\u8005\u5220\u9664");else if(2301005==a)e=l=!1,h=k?c.get("componentSourceNoAuthority","\u6ca1\u6709\u8be5\u7ec4\u4ef6\u6765\u6e90\u7684\u67e5\u770b\u6743\u9650"):
J?c.get("extreportCardNoAuthority","\u6ca1\u6709\u8be5\u8f7b\u62a5\u8868\u7684\u67e5\u770b\u6743\u9650"):c.get("cardNoAuthority","\u6ca1\u6709\u8be5\u5361\u7247\u7684\u67e5\u770b\u6743\u9650");else if(2105E3==a)e=l=!1,h=c.get("cardHasNotFound","\u8be5\u5361\u7247\u5df2\u88ab\u5220\u9664");else if(2201003==a)e=l=!1,h=c.get("cardNoDefaultSchema","\u8be5\u5361\u7247\u6ca1\u6709\u5b9a\u4e49\u9ed8\u8ba4\u65b9\u6848");else if(909001==a)e=l=!1,h=c.get("unsupportedDsbRefSource","\u5f53\u524d\u7cfb\u7edf\u4e0d\u652f\u6301\u8be5\u7ec4\u4ef6\u6765\u6e90");
else if(3010002==a)e=l=!1,h=c.get("illegalLicense","\u5f53\u524d\u7cfb\u7edf\u6ca1\u6709\u3010\u8f7b\u5206\u6790\u3011\u6a21\u5757\u7684\u4f7f\u7528\u8bb8\u53ef\uff0c\u8bf7\u4e0e\u7cfb\u7edf\u7ba1\u7406\u5458\u8054\u7cfb\u3002");else if(3010003==a)e=l=!1,h=c.get("noQingModulePermission","\u60a8\u6240\u4f7f\u7528\u7684\u8d26\u6237\u6ca1\u6709\u88ab\u5206\u914d\u3010\u8f7b\u5206\u6790\u3011\u6a21\u5757\u7684\u4f7f\u7528\u8bb8\u53ef\uff0c\u8bf7\u4e0e\u7cfb\u7edf\u7ba1\u7406\u5458\u8054\u7cfb\u3002");
else if(3010004==a)e=l=!1,h=c.get("replicatedLogin","\u60a8\u7684\u8d26\u53f7\u5728\u5176\u4ed6\u5730\u65b9\u767b\u5f55\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u5f53\u524d\u7cfb\u7edf\u3002");else if(3010005==a)e=l=!1,h=c.get("illegalQingReportLicense","\u5f53\u524d\u7cfb\u7edf\u6ca1\u6709\u3010\u8f7b\u62a5\u8868\u3011\u6a21\u5757\u7684\u4f7f\u7528\u8bb8\u53ef\uff0c\u8bf7\u4e0e\u7cfb\u7edf\u7ba1\u7406\u5458\u8054\u7cfb\u3002");else if(3010006==a)e=l=!1,h=c.get("noQingReportModulePermission","\u60a8\u6240\u4f7f\u7528\u7684\u8d26\u6237\u6ca1\u6709\u88ab\u5206\u914d\u3010\u8f7b\u62a5\u8868\u3011\u6a21\u5757\u7684\u4f7f\u7528\u8bb8\u53ef\uff0c\u8bf7\u4e0e\u7cfb\u7edf\u7ba1\u7406\u5458\u8054\u7cfb\u3002");
else if(3099002==a)e=l=!1,h=c.get("qingRuntimeException","\u7a0b\u5e8f\u53d1\u751f\u9519\u8bef");else if(3001002==a)e=l=!0,h=c.get("qingRuntimeException","\u7a0b\u5e8f\u53d1\u751f\u9519\u8bef");else if(1030001==a)e=l=!1,h=w;else if("unsetCardSource"==a)e=l=!1,h=c.get("unsetCardSource","\u8bf7\u9009\u62e9\u5361\u7247\u6765\u6e90");else if(8099001==a)e=l=!1,h=c.get("extreportNotFound","\u8be5\u62a5\u8868\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664");else if(21000008==a)e=l=!1,h=c.get("noQingModelerLicense",
"\u5f53\u524d\u7cfb\u7edf\u6ca1\u6709\u3010\u8f7b\u5efa\u6a21\u3011\u6a21\u5757\u7684\u4f7f\u7528\u8bb8\u53ef\uff0c\u8bf7\u4e0e\u7cfb\u7edf\u7ba1\u7406\u5458\u8054\u7cfb");else if(2101006==a)e=!1,(h=w.match(/(\(|\uff08)([^(\)|\uff09)]+)(\)|\uff09)/))&&(w=h[2]),D=$("<p>"),D.addClass("carderror-errorprompt-support-qing-text"),D.html(w.replace(/,/g,c.get("semicolon","\uff1b")+"<br>")),k?(l=!0,h=c.get("haveNotGetDataEntityAuthority","\u5c1a\u672a\u83b7\u5f97\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650"),
q.text(c.get("viewDetails","\u67e5\u770b\u8be6\u60c5"))):(l=!1,h=c.get("noAuthorityForTheseEntities","\u5c1a\u672a\u83b7\u5f97\u4ee5\u4e0b\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650\uff1a")),F.text(h),!l&&F.append(D);else if(2101018==a){e=!1;l=Q.getSupportQingAnalysisUrl();(h=/(?:\u3010\s)(.+)(?=\s\u3011)/.exec(w))&&(w=h[1]);var R=$("<a onclick='javascript:window.open(\""+l+"\");' href='#'>");R.css({cursor:"pointer",color:"#5582f3"});R.text(c.get("viewDocument","\u67e5\u770b\u5e2e\u52a9\u6587\u6863"));
D=$("<p>");D.addClass("carderror-errorprompt-support-qing-text");D.html(w.replace(/,/g,c.get("semicolon","\uff1b")+"<br>"));k?(l=!0,h=c.get("entityNotSupportQingAnalysis","\u4e1a\u52a1\u5b9e\u4f53\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff0c\u8bf7\u5728\u5f00\u53d1\u5e73\u53f0\u7684\u5bf9\u5e94\u8868\u5355\u4e2d\u8fdb\u884c\u8bbe\u7f6e  "),q.text(c.get("viewDetails","\u67e5\u770b\u8be6\u60c5"))):(l=!1,h=c.get("notSupportQingAnalysisTip","\u4ee5\u4e0b\u4e1a\u52a1\u5b9e\u4f53\u5c1a\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff0c\u8bf7\u5728\u5f00\u53d1\u5e73\u53f0\u7684\u5bf9\u5e94\u8868\u5355\u4e2d\u8fdb\u884c\u8bbe\u7f6e  "),
v.css("overflow-y","auto"),G.css("max-height","unset"));F.text(h);F.append(R);!l&&F.append(D)}else 4040002==a||4040003==a||4040004==a?(e=l=!0,h=c.get("serverBusy","\u5f53\u524d\u670d\u52a1\u5668\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002")):4100001==a?(e=l=!0,h=c.get("extractDataFail","\u51c6\u5907\u6570\u636e\u5931\u8d25")):(e=l=!0,h=a+"",h=0==h.indexOf("21")&&7==h.length?c.get("extractDataFail","\u51c6\u5907\u6570\u636e\u5931\u8d25"):0==h.indexOf("30")&&6==h.length?c.get("extractDataFail",
"\u51c6\u5907\u6570\u636e\u5931\u8d25"):0==h.indexOf("40")&&6==h.length?c.get("executeFail","\u56fe\u8868\u6267\u884c\u5931\u8d25"):c.get("unknownException","\u53d1\u751f\u4e86\u672a\u77e5\u9519\u8bef"));l&&u?(q.show(),q.on("click",function(T){ja(a,w,x)})):q.hide();2101018!=a&&2101006!=a&&F.text(h);setTimeout(da,500)},da=function(){var a=v.height()-2;v.width();if(0!=a){var w=G.height()+10,x=a-w;70>x?(p.hide(),x=0):(p.show(),200<x&&(x=200),p.css("height",x+"px"));G.css("min-height","unset");z.css({"margin-top":-Math.floor((x+
w)/2)+"px",top:"50%",height:x+w+"px"});0>a-w&&(v.css("overflow-y","auto"),v.css("overflow-x","auto"))}},ja=function(a,w,x){if(2101006==a){var l=new ea($(document.body));l.setSize(440,330);l.setTitle(c.get("permissionTitle","\u6743\u9650\u63d0\u793a"));l.showDialog(fa(c.get("noAuthorityForTheseEntities","\u5c1a\u672a\u83b7\u5f97\u4ee5\u4e0b\u5b9e\u4f53\u6570\u636e\u8868\u7684\u67e5\u770b\u6743\u9650\uff1a"),D),!0)}else if(2101018==a)l=new ea($(document.body)),l.setSize(440,330),l.setTitle(c.get("DetailInfo",
"\u8be6\u7ec6\u4fe1\u606f")),l.showDialog(fa(c.get("notSupportQingAnalysis","\u4ee5\u4e0b\u4e1a\u52a1\u5b9e\u4f53\u5c1a\u672a\u5f00\u542f\u201c\u652f\u6301\u8f7b\u5206\u6790\u201d\u8bbe\u7f6e\u9879\uff1a"),D),!0);else if(I)I(a,w,x);else{if(!b){b=$("<div>");b.addClass("carderror-errorprompt-logdetail-container");l=$("<div>");l.addClass("carderror-errorprompt-logdetail-container-title");var h=$("<div>");h.addClass("carderror-errorprompt-logdetail-titiletag");var R=$("<div>");R.addClass("carderror-errorprompt-logdetail-title-lable");
R.text(c.get("errorLog","\u9519\u8bef\u65e5\u5fd7"));var T=$("<div>");T.addClass("carderror-errorprompt-logdetail-close");y.Icons.background(T,"icon_errorclose");T.on("click",ka);l.append(h);l.append(R);l.append(T);m=$("<div>");m.css("padding","10px");m.text(c.get("errorCode","\u9519\u8bef\u7801\uff1a")+a);d=$("<pre>");d.addClass("carderror-errorprompt-logdetail-content-container-text");d.text("\u9519\u8bef\u4fe1\u606f\uff1a"+w+(null!=x?"\r\n\u9519\u8bef\u6808\uff1a"+x:""));var O=$("<div>");O.addClass("carderror-errorprompt-logdetail-content-container");
var U=$("<span>");U.text(c.get("copy","\u590d\u5236"));U.addClass("carderror-errorprompt-logdetail-content-copybutton");U.click(function(){var Z=la("\u9519\u8bef\u7801\uff1a"+a+"\r\n\u9519\u8bef\u4fe1\u606f\uff1a"+w+"\r\n\u9519\u8bef\u6808\uff1a"+x),L=$("<span>");L.addClass("carderror-errorprompt-logdetail-content-copybutton-end");O.append(L);Z?L.text(c.get("copy success!","\u590d\u5236\u6210\u529f\uff01")):L.text(c.get("copy error!","\u590d\u5236\u5931\u8d25\uff01"));setTimeout(function(){L.remove()},
1500)});O.mouseover(function(){U.css("visibility","visible")});O.mouseout(function(){U.css("visibility","hidden")});O.append(m);O.append(d);O.append(U);b.append(l);b.append(O);f=$("<div class='sa-ctrl-common-modallayer'>");b.appendTo(f)}l=$(document.body);f.appendTo(l)}},la=function(a){var w=document.createElement("textarea");document.body.appendChild(w);w.value=a;w.select();a=document.execCommand("copy");document.body.removeChild(w);return a},fa=function(a,w){var x=$("<div>");x.addClass("carderror-errorprompt-logdetail-content");
var l=$("<p>");l.addClass("carderror-errorprompt-logdetail-contenxt-texttitle");l.text(a);a=$("<p>");a.addClass("carderror-errorprompt-logdetail-contenxt-text");a.html(w);x.append(l);x.append(a);return x},ea=function(a){var w=$("<div class='sa-ctrl-common-modallayer'>"),x=new A(w),l=0,h=0,R=320,T=240,O=a?a:$(document.body),U,Z;this.setTitle=function(L){Z=L};this.setClosingListener=function(L){U=L};this.setSize=function(L,V){R=L;T=V};this.showDialog=function(L,V){w.appendTo(O);if(!l){var Y=O.prop("clientWidth"),
ha=O.prop("clientHeight");l=Y-R>>1;h=(ha-T)/3}x.setBounds(l,h,R,T);x.setToolbarVisible(!1);x.setContent(L,V);x.setTitle(Z);x.addClosingListener(function(ba,ia){if(ia)U(ia);else return ba.destroy(),w.remove(),!0});x.addClosedListener(function(ba){ba.destroy();w.remove()});x.showFooterPane(this.createFooter);x.show()};this.setContent=function(L,V){x.setContent(L,V)};this.destroy=function(){x.destroy();w.remove()};this.createFooter=function(L){var V=new K(c.get("iknow","\u6211\u77e5\u9053\u4e86"));V.setHighlight(!0);
var Y=V.getJqUi();B.layoutCtrlWithLRTB(Y,"50%",0,100,null,13,28);Y.addClass("dialog-footer-close");Y.css("margin-left","-50px");Y.appendTo(L);V.addActionListener(function(ha){x.destroy();w.remove()})}},ka=function(){f&&f.detach()}}function n(){var g,v,z;this.setIsSquare=function(p){g=p};this.getIsSquare=function(){return g};this.setLoadSchema=function(p){v=p};this.getLoadSchema=function(){return v};this.setSaveSchema=function(p){z=p};this.getSaveSchema=function(){return z}}function t(){S.call(this);
this.protectedShowErrorImpl=function(g,v,z,p){g=new r(g);g.setIsDsbComponent(!0);g.show(v,z,p);return!0}}function C(){X.call(this);this.protectedShowErrorImpl=function(g,v,z,p){g=new r(g);g.setIsDsbComponent(!0);g.show(v,z,p);return!0}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.scene&&(com.kingdee.bos.qing.scene=
{});"undefined"==typeof com.kingdee.bos.qing.scene.common&&(com.kingdee.bos.qing.scene.common={});"undefined"==typeof com.kingdee.bos.qing.scene.common.square&&(com.kingdee.bos.qing.scene.common.square={});"undefined"==typeof com.kingdee.bos.qing.scene.common.square.exhibition&&(com.kingdee.bos.qing.scene.common.square.exhibition={});var y=com.kingdee.bos.qing.scene.common.square.exhibition,E,c,W,S,X,M,Q,A,K,B;(function(){var g=com.kingdee.bos.qing.framework.common;E=g.AbstractIcons;c=g.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.scene);
Q=Q=g.OfficialArticleUtil;g=com.kingdee.bos.qing;W=g.CodeLoader;S=g.DashboardSquareScene;X=g.DashboardLongerScene;g=com.kingdee.bos.qing.ui.component;M=g.MessageDialog;A=g.Dialog;K=g.Button;g=com.kingdee.bos.qing.common;B=g.DomUtil})();y.Icons=new function(){E.call(this);var g=this.protectedMethod,v;this.setComboIconImpl=function(z){v=z};this.protectedInit=function(z,p){if(!v)throw Error("Please setComboIconImpl() first.");v.define(p,"scene-error-image-sprite");p.setStartPosition(1,1);p.setGap(1);
p.setIconSize(20,20);g.registIcon(0,0,"icon_qhfInfo");g.registIcon(0,1,"icon_errorclose");v.define(p,"errorbackground");p.setStartPosition(0,0);p.setGap(0);p.setIconSize(200,200);g.registIcon(0,0,"icon_errorbackground");v.define(p,"nodata");g.registIcon(0,1,"icon_nodata")}};y.CardErrorUi=r;y.DsbIntegrationScene=function(){var g,v,z,p,F;this.setResetSquare=function(f){p=f};this.setFacade=function(f){z=f};this.setParamPathPrefix=function(f){};this.setMessageCurtain=function(f){v=f};this.setCoreRemoteUrl=
function(f){g=f};this.setDesignerSceneCreator=function(f){F=f};this.createSquareDesignerScene=function(f){var m=new t;m.setRemoteUrl(g);f(m)};this.createLongerDesignerScene=function(f){var m=new C;m.setRemoteUrl(g);f(m)};this.loadImage=function(f,m,d){var e=f.refToId;e&&0!=$.trim(e).length?(f=z(function(u){var k=u.imageHeight;u=u.imageWidth;if(k||u){var J=com.kingdee.bos.qing.framework.common.RemoteFramework.getLoadImgUrl(e,"image-library");m(J,u,k)}else d&&d("")},function(u,k){return!1}),f.setShowBlocking(!1),
f.getImageSize(e)):(f=f.widgetSourcePath,d&&d(f))};this.createSquareDesigner=function(f,m,d,e,u,k,J){var I=new n;I.setIsSquare(!0);I.setLoadSchema(function(D,H){z(D,H).squareLoadSchema(d)});I.setSaveSchema(function(D,H,N){z(H,N).squareSaveSchema(d,D)});q(I,f,m,d,e,u,k,J,!0)};this.createLongerDesigner=function(f,m,d,e,u,k,J,I){var D=new n;D.setIsSquare(!1);D.setLoadSchema(function(H,N){z(H,N).longerLoadSchema(d,I)});D.setSaveSchema(function(H,N,P){z(N,P).longerSaveSchema(d,H)});q(D,f,m,d,e,u,k,J,!1)};
var q=function(f,m,d,e,u,k,J,I,D){var H=F(),N=function(P){H.hide();I(P)};H.setIsSquare(f.getIsSquare());H.setRemoteUrl(g);H.setRemoteTag(u);H.setDesignerOperationJudger(k);H.setSquareOrLonger(D);H.setClosable(d);H.setAdditionalFilterApi(J);H.setSchemaLoader(function(P,aa){G(f,e,P,aa,N)});H.setSchemaSaver(function(P){b(f,e,P,N)});null!=p&&H.setSchemaReseter(function(P){p(e,P,N)});H.show(m,function(){N(null)})},G=function(f,m,d,e,u){m.uid?f.getLoadSchema()(function(k){k.model?(d.setJsonModelBook(k.model),
e(!0)):e(!1)},function(k,J){u();k=k.toString();return"9"==k.substr(0,1)&&6==k.length?(v&&v.showError(c.get("failToLoadSchema","\u52a0\u8f7d\u65b9\u6848\u5931\u8d25\u3002")),!0):!1}):e(!1)},b=function(f,m,d,e){var u=d.getJsonModelBook();f.getSaveSchema()(u,function(k){e(u)},function(k,J){if(909002==k)return k=M.createFeedbackDialog(),k.setMessage(c.get("noSelectMapTemplate","\u8bf7\u9009\u62e9\u5730\u56fe\u6a21\u677f")),k.setMsgImageType(M.MSG_WARNING),k.setOptionType(M.OPTION_OK),k.setButtonText(M.OPTION_OK,
c.get("iknow","\u6211\u77e5\u9053\u4e86")),k.showDialog(),!0;e();k=k.toString();return"9"==k.substr(0,1)&&6==k.length?(v&&v.showError(c.get("failToTemporarySchema","\u6682\u5b58\u65b9\u6848\u5931\u8d25\u3002")),!0):!1})}}})();(function(){function r(){C.call(this);var A,K,B,g,v=!0,z,p=!0,F;this.setIsSquare=function(q){v=q};this.protectedIsSquare=function(){return v};this.protectedInitDesigner=function(q){var G=E.get("save","\u4fdd\u5b58");q.getConductor().insertToolbarButton(function(f){K(q)},"btn_save",G,null);G=new W;var b=new S(function(f){f=new X;f.setText(E.get("resetConfirmTips","\u60a8\u786e\u5b9a\u8981\u91cd\u7f6e\u5230\u53d1\u5e03\u6700\u521d\u59cb\u7684\u72b6\u6001\uff0c\u5e76\u9000\u51fa\u5417\uff1f"));f.setConfirmedListener(function(d){d&&
B(q)});var m=g.getJqUi();f.show(m)});b.setText(E.get("resetAndBack","\u91cd\u7f6e\u5e76\u8fd4\u56de"));G.addItemModel(b);g=q.getConductor().insertToolbarMenu(G,"btn_reset",E.get("reset","\u91cd\u7f6e"),null);q.setDesignerOperationJudger(p?null:z,p?z:null);q.setAdditionalFilterApi(F);if(G=window.com.kingdee.bos.qing.AnalysisSceneOuterApi)G.inside.setDirtyChecker(function(){return!1}),G.inside.setBeforeClosing(function(){return Q.setTabStatus(!1)})};this.protectedLoading=function(q,G){A(q,G)};this.setSchemaLoader=
function(q){A=q};this.setSchemaSaver=function(q){K=q};this.setSchemaReseter=function(q){B=q};this.setDesignerOperationJudger=function(q){z=q};this.setSquareOrLonger=function(q){p=q};this.protectedIsSquare=function(){return p};this.setAdditionalFilterApi=function(q){F=q}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.scene&&
(com.kingdee.bos.qing.scene={});"undefined"==typeof com.kingdee.bos.qing.scene.common&&(com.kingdee.bos.qing.scene.common={});"undefined"==typeof com.kingdee.bos.qing.scene.common.exhibitioner&&(com.kingdee.bos.qing.scene.common.exhibitioner={});var n=com.kingdee.bos.qing.scene.common.exhibitioner;n.AbstractDashboardExhibitionerSceneImpl=function(){t.call(this);var A=this,K=this.protectedMethod,B,g,v;this.protectedGetRemoteUrl=function(){throw Error("override me");};this.getCoreRemoteUrl=function(){throw Error("override me");
};this.protectedLoading=function(b,f,m){throw Error("override me");};this.squareAnalysisHandler=function(b,f,m,d,e,u){throw Error("override me");};this.protectedImportMoreCode=function(b){b.pushJs("biz-common/qing-biz-common.js");b.pushSkinCss("biz-common","biz-common");b.pushSkinJs("biz-common","skin");b.pushI18n("biz-common","biz-common");b.pushJs("qhf/qing-qhf.js");b.pushJs("common/qing-schedule.js");b.pushJs("schema-manage/schema-manage-initialize.js");b.pushJs("schema-manage/schema-manage-ui.js");
b.pushJs("publish/qing-publish.js");b.pushSkinJs("scene","skin");b.pushI18n("scene","scene");b.pushI18n("dashboard","dsb-integration");b.pushSkinJs("dashboard","skin-dsb-integration");b.pushJs("dashboard/dsb-integration.js");b.pushSkinCss("dashboard","dsb-integration");b.pushSkinJs("map-designer","integration-skin");b.pushJs("map-designer/map-integration.js");b.pushSkinCss("map-designer","map-integration");b.pushI18n("map-designer","map-integration");b.pushSkinJs("linkage","skin");b.pushJs("linkage/linkage.js");
b.pushSkinCss("linkage","linkage")};this.protectedCustomInitEnv=function(){var b=com.kingdee.bos.qing.map.common.Integration,f=y.decodeParamFromUrl(location.search,"path");f=f?f:"/ierp";b.setRemoteUrl(f+"/qing/mapManage.do");var m=new com.kingdee.bos.qing.map.integration.MapSelectorDialog;com.kingdee.bos.qing.core.MapLibraryRegister.registerTemplateSelector(function(u,k){m.setParamPathPrefix(f);m.showDialog(u,k)});b=K.getUrlParamUtil().getUrlParam("publishTargetType");6!=b&&z();var d=com.kingdee.bos.qing.behavior.BehaviorManager;
d.interestInBehaviorEntrance(d.getEntrance(d.ENTRANCE_PUBLISH_DASHBOARD,b));if(5!=b){b=K.getUrlParamUtil().getUrlParam("publishId");var e=y.createUUID();d.initAccessRecordParams(b,e,d.SourceType.QING_PUBLISH,d.AppType.QING);d.setRefuseOperationType([d.OperationType.QING_EXPORT,d.OperationType.QING_PRINT]);d.recordResourceOperation(d.OperationType.QING_VISIT);window.addEventListener("unload",function(){d.recordResourceOperation(d.OperationType.QING_EXIT)})}com.kingdee.bos.qing.integration.ImglibUrlParser.hookUrlParser()};
var z=function(){var b=K.getUrlParamUtil().getParamPathPrefix();b=(b?b:"/ierp")+"/qing/linkage.do";var f=com.kingdee.bos.qing.integration.LinkageJumper;g=new com.kingdee.bos.qing.linkage.LinkageManage;g.initDesigntime(b,f.jump)};this.protectedRegisterImplements=function(b){var f=K.getUrlParamUtil().getParamPathPrefix(),m=new com.kingdee.bos.qing.scene.common.square.exhibition.DsbIntegrationScene;m.setFacade(function(d,e){return new com.kingdee.bos.qing.dashboard.RuntimeDsbFacade(A.getRemoteImpl(),
d,e)});m.setParamPathPrefix(f);m.setMessageCurtain(q());m.setCoreRemoteUrl(A.getCoreRemoteUrl());m.setResetSquare(p);m.setDesignerSceneCreator(function(){return new r});b.registerSquareSceneCreator(function(d,e){m.createSquareDesignerScene(e)});b.registerBuiltinVisualWidgetEditableConfirmerParser(function(d){var e=d.operation?d.operation:{};d=d.scene;var u=com.kingdee.bos.qing.publish.model.OperType,k=e[u.SQUARE];e=e[u.LONGER];return"square"==d?new com.kingdee.bos.qing.publish.model.RtSquareEditableConfirmerModel(k|
e):"longer"==d?new com.kingdee.bos.qing.publish.model.RtLongerEditableConfirmerModel(e):null});b.registerSquareDesignerCreator(function(d,e,u,k,J,I,D){g&&g.setCurrentLinkageTag(k);m.createSquareDesigner(d,e,u,k,J,I,D)});b.registerSquareAnalysisHandler(A.squareAnalysisHandler);b.registerPictrueLoader(function(d,e,u){m.loadImage(d,e,u)});b.registerLongerSceneCreator(function(d,e){m.createLongerDesignerScene(e)});b.registerLongerDesignerCreator(function(d,e,u,k,J,I,D){g&&g.setCurrentLinkageTag(k);v=
K.getUrlParamUtil().getUrlParam("timedPush");m.createLongerDesigner(d,e,u,k,J,I,D,v)});f=new com.kingdee.bos.qing.dashboard.qingreport.QingReportExecutor;f.setDsbRemoteImpl(A.getRemoteImpl());b.registerQingReportExecutor(f)};var p=function(b,f,m){(new com.kingdee.bos.qing.dashboard.RuntimeDsbFacade(A.getRemoteImpl(),function(d){q().showSuccess(E.get("resetRefContentSuccess","\u91cd\u7f6e\u5f15\u7528\u6a21\u578b\u5185\u5bb9\u5230\u53d1\u5e03\u72b6\u6001\u6210\u529f\u3002"));m(d.model)},F)).squareResetAndGetPubSchema(b)},
F=function(b,f){return 900001==b?(q().showError(E.get("failToLoadRefContent","\u52a0\u8f7d\u5f15\u7528\u5185\u5bb9\u5931\u8d25\u3002")),!0):900004==b?(q().showError(E.get("dsbContentParseError","\u4eea\u8868\u677f\u6a21\u578b\u5185\u5bb9\u8f6c\u6362\u5931\u8d25\u3002")),!0):900005==b?(q().showError(E.get("refContentParseError","\u5f15\u7528\u6a21\u578b\u5185\u5bb9\u8f6c\u6362\u5931\u8d25\u3002")),!0):301201==b?(q().showError(E.get("extractDataFailToRefresh","\u51c6\u5907\u6570\u636e\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u51fa\u6570\u636e\u518d\u8fdb\u884c\u8be5\u64cd\u4f5c\u3002")),
!0):!1},q=function(){B||(B=new c,B.getJqUi().appendTo($(document.body)));return B};this.protectedLoadDashboardInfo=function(b){var f=K.getUrlParamUtil().getUrlParam("publishId");f&&(new com.kingdee.bos.qing.dashboard.RuntimeDsbFacade(A.getRemoteImpl(),function(m){var d=y.decodeParamFromUrl(location.search,"path"),e=K.getUrlParamUtil().getUrlParam("publishTargetType"),u=K.getUrlParamUtil().getUrlParam("skin");d=y.appendParamToUrl((d?d:"/ierp")+"/qing/publishEntrance.do","publishId",f);d=y.appendParamToUrl(d,
"publishTargetType",e);d=y.appendParamToUrl(d,"skin",u);d=com.kingdee.bos.qing.integration.PageHelper.getIframeUrl(d);G(b,d,m)},function(){})).getPublishUsername(f)};var G=function(b,f,m){var d=new c;d.getJqUi().appendTo(b[0].parentNode.parentNode.parentNode);var e=$("<div>");e.addClass("dsb-desc-publish-user");e.text(E.get("publisher","\u53d1\u5e03\u4eba\uff1a")+m);m=$("<div>");var u=$("<div>");u.addClass("dsb-desc-url-info");u.css({display:"inline-block","vertical-align":"middle"});u.text(E.get("dsbUrlInformation",
"\u4eea\u8868\u677f\u94fe\u63a5"));u.appendTo(m);u=$("<div>");u.addClass("dsb-desc-url");u.css("word-break","break-all");u.text(f);var k=$("<div>");k.addClass("dsb-desc-url-copyIcon");n.Icons.background(k,"copy_icon");k.css({"margin-left":"13px",width:"16px",height:"16px",display:"inline-block","vertical-align":"middle"});k.attr("title",E.get("copy","\u590d\u5236"));k.appendTo(m);k.on("mouseover",function(J){n.Icons.background(k,"copy_icon_hover");k.css("vertical-align","middle")});k.on("mouseout",
function(J){n.Icons.background(k,"copy_icon");k.css("vertical-align","middle")});k.on("click",function(J){try{var I=document.createElement("input");document.body.appendChild(I);I.setAttribute("value",f);I.select();document.execCommand("copy");d.showSuccess(E.get("hasCopied","\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"));document.body.removeChild(I)}catch(D){d.showError(E.get("copyfailed","\u590d\u5236\u5931\u8d25"))}});e.appendTo(b);m.appendTo(b);u.appendTo(b)};this.protectedCreateVisualWidgetEditableConfirmer=
function(b,f){var m=com.kingdee.bos.qing.publish.model.OperType,d=new com.kingdee.bos.qing.publish.model.RtSquareEditableConfirmerModel(f[m.SQUARE]|f[m.LONGER]);f=new com.kingdee.bos.qing.publish.model.RtLongerEditableConfirmerModel(f[m.SQUARE_LONGER]);d=new com.kingdee.bos.qing.dsb.VisualWidgetEditableConfirmer(d,f);b.setVisualWidgetEditableConfirmer(d)}};var t,C,y,E,c,W,S,X,M,Q;(function(){var A=com.kingdee.bos.qing;t=A.AbstractDashboardExhibitionScene;C=A.AbstractModalDesignerScene;A=com.kingdee.bos.qing.common;
y=A.Util;A=com.kingdee.bos.qing.framework.common;E=A.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.scene);M=A.AbstractIcons;A=com.kingdee.bos.qing.ui.component;c=A.MessageCurtain;W=A.MenuModel;S=A.MenuItemModel;X=A.SimpleConfirmer;A=com.kingdee.bos.qing.integration;Q=A.TabStatusHelper})();n.Icons=new function(){M.call(this);var A=this.protectedMethod,K;this.setComboIconImpl=function(B){K=B};this.protectedInit=function(B,g){if(!K)throw Error("Please setComboIconImpl() first.");K.define(g,
"tm");g.setGap(1);g.setStartPosition(1,1);g.setIconSize(16,16);A.registIcon(0,10,"copy_icon_hover");A.registIcon(1,10,"copy_icon")}}})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.scene&&(com.kingdee.bos.qing.scene={});var r=com.kingdee.bos.qing.scene;r.DashboardExhibitionScene=function(){E.call(this);var c=this.protectedMethod,W=this,S;this.protectedGetRemoteUrl=function(){return Q()+"/qing/runtimeDashboard.do"};this.getCoreRemoteUrl=
function(){return Q()+"/qing/core.do"};this.protectedGetDashboardUniqueId=function(){return A()};this.protectedLoading=function(B,g,v){var z=c.getUrlParamUtil().getUrlParam("timedPush");(new com.kingdee.bos.qing.dashboard.RuntimeDsbFacade(B,function(p){W.protectedCreateVisualWidgetEditableConfirmer(g,p.operation);(p=p.model)&&g.setJsonModel(p,function(F){F.isError()&&M().showError(t.get("failToLoadDsbCurtain","\u52a0\u8f7d\u4eea\u8868\u677f\u5931\u8d25\u3002"))});v(!0);K()},X)).loadPublishedDsbWithOper(z)};
this.squareAnalysisHandler=function(B,g,v,z,p,F){var q=com.kingdee.bos.qing.SkinUtil.getUrlParamValue(),G=c.getUrlParamUtil().getUrlParam("timedPush"),b=Q()+"/qing/publishedDashboardAnalysisEntrance.do";b=n.appendParamToUrl(b,"publishId",A());b=n.appendParamToUrl(b,"tag",v);b=n.appendParamToUrl(b,"ref",JSON.stringify(g));b=n.appendParamToUrl(b,"path",Q());b=n.appendParamToUrl(b,"timedPush",G);(g=com.kingdee.bos.qing.Seer.getUrlParamValue("kdcdc"))&&(b=n.appendParamToUrl(b,"kdcdc",g));q&&(b=n.appendParamToUrl(b,
"skin",q));B=t.get("dataAnalysis","\u6570\u636e\u5206\u6790")+(B?"-"+B:"");F&&(F=com.kingdee.bos.qing.core.shared.AdditionalFilterInfoParser.encodeAdditionalFilterApi(F),window.sessionStorage.setItem("publish-dsb-oAdditionalFilterApi",F));z&&window.sessionStorage.setItem("publish-dsb-oJsonFilterSetForInstead",JSON.stringify(z));p&&window.sessionStorage.setItem("publish-dsb-oDesignerOperationJudger",JSON.stringify(p.encodeToJson()));C.openNewTab(B,b)};var X=function(B,g){return 900001==B?(M().showError(t.get("failToLoadRefContentCurtain",
"\u52a0\u8f7d\u5f15\u7528\u5185\u5bb9\u5931\u8d25\u3002")),!0):900004==B?(M().showError(t.get("dsbContentParseErrorCurtain","\u4eea\u8868\u677f\u6a21\u578b\u5185\u5bb9\u8f6c\u6362\u5931\u8d25\u3002")),!0):900005==B?(M().showError(t.get("refContentParseErrorCurtain","\u5f15\u7528\u6a21\u578b\u5185\u5bb9\u8f6c\u6362\u5931\u8d25\u3002")),!0):301201==B?(M().showError(t.get("extractDataFailToRefreshCurtain","\u51c6\u5907\u6570\u636e\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u51fa\u6570\u636e\u518d\u8fdb\u884c\u8be5\u64cd\u4f5c\u3002")),
!0):1030001==B?(com.kingdee.bos.qing.framework.common.RemoteFramework.openErrorPage(B,com.kingdee.bos.qing.common.Base64Util.encode(encodeURIComponent(g))),!0):!1},M=function(){S||(S=new y,S.getJqUi().appendTo($(document.body)));return S},Q=function(){var B=c.getUrlParamUtil().getParamPathPrefix();return B?B:"/ierp"},A=function(){return c.getUrlParamUtil().getUrlParam("publishId")},K=function(){var B=A();com.kingdee.bos.qing.qhf.QHFSceneExporterRegister.register(B,function(){return{publishId:B,sceneType:com.kingdee.bos.qing.qhf.QHFExporter.SCENE_TYPE_PUBLISH_DSB}})}};
var n,t,C,y,E;(function(){var c=com.kingdee.bos.qing.common;n=c.Util;c=com.kingdee.bos.qing.framework.common;t=c.MultilanguageManager.createPackageAccessor(r);C=c.TabbedUiUtil;c=com.kingdee.bos.qing.ui.component;y=c.MessageCurtain;c=com.kingdee.bos.qing.scene.common.exhibitioner;E=c.AbstractDashboardExhibitionerSceneImpl})()})();
//qingVersionTag: 20250324