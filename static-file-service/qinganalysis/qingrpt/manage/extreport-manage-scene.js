(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.extreport&&(com.kingdee.bos.extreport={});"undefined"==typeof com.kingdee.bos.extreport.scene&&(com.kingdee.bos.extreport.scene={});com.kingdee.bos.extreport.scene.ExtReportManageScene=function(){this.start=function(){C.init();z.setCallback(m);var l=z.createSafety();l.pushSkinCss("qingrpt/launcher","launcher");
l.load();D.hookCollector(function(n,A){w.interestInBehavior(n,A)});w.interestInBehaviorEntrance(w.ENTRANCE_EXTREPORT_MANAGER)};var m=function(){var l=c.decodeParamFromUrl(location.search,"path");l=l?l:"/ierp";var n=com.kingdee.bos.extreport.manage.common.Integration;n.setRemoteUrl(l+"/qing_rpt/manage.do");var A=l+"/qing/resource.do";n.setMessageRemoteUrl(l+"/qing/messageManage.do");n.setExtReportDesignerEntrance(function(g,f,b,a,d,h,e,k,r,v){x.sendLaunchxletCommandOpenExtReportDsigner(g,b,a,d,h,e,
k,r,v)});n.setExtReportPreviewEntrance(function(g,f,b,a,d){b=p.getUrlParamValue();a=l+"/qing_rpt/extReportPreview.do";a=c.appendParamToUrl(a,"extReportId",g);a=c.appendParamToUrl(a,"extReportName",f);a=c.appendParamToUrl(a,"isPreset",d);b&&(a=c.appendParamToUrl(a,"skin",b));q.openNewTab(f,a)});n.setDataSetDesignerEntrance(function(g,f,b,a,d,h,e,k,r,v,B){k&&a!==E.DATASET_TYPE_GENERIC_QUERY_DATASET?x.sendLaunchxletCommandOpenDataSetDsigner(g,f,b,a,d,h,e,r,v,B):(e=p.getUrlParamValue(),b=l+"/qing_rpt/dataSetDesignerEntrance.do",
b=c.appendParamToUrl(b,"dataSetType",a),b=c.appendParamToUrl(b,"dataSetId",g),b=c.appendParamToUrl(b,"dataSetName",f),b=c.appendParamToUrl(b,"isPreset",d),b=c.appendParamToUrl(b,"isPresetGroupPerm",h),b=c.appendParamToUrl(b,"spaceId",r),b=c.appendParamToUrl(b,"spaceType",v),b=c.appendParamToUrl(b,"spaceCreatorId",B),e&&(b=c.appendParamToUrl(b,"skin",e)),g="DATASET_DESIGNER"+g+f+d+h+r+v+B,f=t.get("datasetDesigner","\u6570\u636e\u96c6\u8bbe\u8ba1\u5668")+"-"+f,q.openNewTab(f,b,g))});n.setDataSetPreviewEntrance(function(g,
f,b,a,d){b=p.getUrlParamValue();a=l+"/qing_rpt/dataSetPreview.do";a=c.appendParamToUrl(a,"dataSetId",g);a=c.appendParamToUrl(a,"dataSetName",f);a=c.appendParamToUrl(a,"isPreset",d);b&&(a=c.appendParamToUrl(a,"skin",b));q.openNewTab(f,a,"DATASET_PREVIEW"+g+f+d)});n.setFunPublishRemoteImpl(function(){var g=new com.kingdee.bos.extreport.manage.common.RemoteImpl;g.setRemoteUrl(l+"/qing/publishTo.do");return g});n.setFunPublishContext(function(){var g=com.kingdee.bos.qing.publish.common.PublishContext,
f=new g;f.setParamPathPrefix(l);f.setLappEntranceUrl(l+"/qing/lappEntrance.do");f.setScene(g.Scene.Report);f.setIsQingRpt(!0);y&&f.setSpaceID(y.getGlobal().getCurrentSpaceID());return f});n.setFunPublishContentEditEntrance(function(){return function(g,f,b){var a=com.kingdee.bos.qing.publish.model.PublishTargetType;if(b&&a.MOBILE==b){a=g.getPublishId();var d=g.getId()}else a=g.getId();var h=p.getUrlParamValue(),e=u.getUrlParamValue("language");b=l+"/qing/publishContentEditEntrance.do";b=c.appendParamToUrl(b,
"skin",h);b=c.appendParamToUrl(b,"language",e);b=c.appendParamToUrl(b,"publishId",a);d&&(b=c.appendParamToUrl(b,"lappId",d));d=b;f&&(a="editPublishedContent-"+a,h=com.kingdee.bos.qing.publish.common.PublishSubscribeHelper,h.putSubscribe(a,f),b=c.appendParamToUrl(b,"subscribeKey",a),b=c.appendParamToUrl(b,"currentPageClientId",h.getCurrentPageClientId()));com.kingdee.bos.qing.framework.common.TabbedUiUtil.openNewTab(t.get("editPublishedContent","\u7f16\u8f91\u53d1\u5e03\u65b9\u6848-")+g.getName(),
b,d)}});n.setImportJSCodeForManager(function(){var g=com.kingdee.bos.qing.CodeLoader;g.setCallback(function(){var f=com.kingdee.bos.qing.theme.message.panel.common.Integration;f.setFunPublishRemoteImpl(n.getFunPublishRemoteImpl());f.setFunQingCenterAndMenuEntrance(function(b,a,d,h){a=p.getUrlParamValue();var e=l+"/qing/publishEntrance.do";e=c.appendParamToUrl(e,"publishId",b);"extreport"==h?(e=c.appendParamToUrl(e,"appID","qing_rpt"),a&&(e=c.appendParamToUrl(e,"skin",a)),q.openNewTabInAppId(d,e,e,
q.QING_RPT)):(a&&(e=c.appendParamToUrl(e,"skin",a)),q.openNewTabInAppId(d,e,e,q.QING_ANALYSIS))});f.setFunPublishContext(n.getFunPublishContext());f.setResourceRemoteUrl(A);f.setDataModelEntrance(function(b,a,d){var h=p.getUrlParamValue();a=t.get("dataModeling","\u6570\u636e\u51c6\u5907")+"-"+a;var e=l+"/qing/dataModelingEntrance.do";e=c.appendParamToUrl(e,"themeID",b);e=c.appendParamToUrl(e,"isPreset",d);h&&(e=c.appendParamToUrl(e,"skin",h));b=com.kingdee.bos.qing.framework.common.TabbedUiUtil;b.openNewTabInAppId(a,
e,e,b.QING_ANALYSIS)});f.setFunTimedPushContentEditEntrance(function(){return function(b){var a=l+"/qing/timedPushContentEditEntrance.do",d=t.get("editTimedPushContent","\u7f16\u8f91\u63a8\u9001\u65b9\u6848");if(b instanceof com.kingdee.bos.qing.timedpush.model.EmailConfig){var h=b.getId(),e=b.getPublishSourceType();k=b.getSchemaSourceType();a=c.appendParamToUrl(a,"configId",h);a=c.appendParamToUrl(a,"publishSourceType",e);a=c.appendParamToUrl(a,"schemaType",k);a=c.appendParamToUrl(a,"pushTarget",
"email");d=d+"-"+b.getNameRule().getName();b.isSourceNameNotFound()&&(a=c.appendParamToUrl(a,"errorCode","2301001"))}else{h=b.getId();e=b.getPushTargetType();var k=b.getSchemaType();a=c.appendParamToUrl(a,"configId",h);a=c.appendParamToUrl(a,"pushTargetType",e);a=c.appendParamToUrl(a,"schemaType",k);a=c.appendParamToUrl(a,"pushTarget","lapp");d=d+"-"+b.getName();b.getSourceName()||(a=c.appendParamToUrl(a,"errorCode","2301001"))}b=p.getUrlParamValue();k=u.getUrlParamValue("language");b&&(a=c.appendParamToUrl(a,
"skin",b));k&&(a=c.appendParamToUrl(a,"language",k));b=com.kingdee.bos.qing.framework.common.TabbedUiUtil;b.openNewTabInAppId(d,a,a,b.QING_ANALYSIS)}});f.setFunPublishedEmailAnonymousViewUrl(function(){var b=p.getUrlParamValue(),a=u.getUrlParamValue("language"),d=l+"/index.html?userId=Guest&accountId=(accountId)&appNumber=qing&formId=qing_analysis_pub_email#/dform?appNumber=qing&formId=qing_analysis_pub_email&publishId=(publishId)";b&&(d=c.appendParamToUrl(d,"skin",b));a&&(d=c.appendParamToUrl(d,
"language",a));return d});f.setFunPublishedEmailLoginViewUrl(function(){var b=p.getUrlParamValue(),a=u.getUrlParamValue("language"),d=l+"/qing/publishedEmailEntrance.do?publishId=(publishId)";b&&(d=c.appendParamToUrl(d,"skin",b));a&&(d=c.appendParamToUrl(d,"language",a));return d});f.setFunPublishContentEditEntrance(function(){return function(b,a,d){var h=com.kingdee.bos.qing.publish.model.PublishTargetType;if(d&&h.MOBILE==d){h=b.getPublishId();var e=b.getId()}else h=b.getId();var k=p.getUrlParamValue(),
r=u.getUrlParamValue("language");d=l+"/qing/publishContentEditEntrance.do";d=c.appendParamToUrl(d,"skin",k);d=c.appendParamToUrl(d,"language",r);d=c.appendParamToUrl(d,"publishId",h);e&&(d=c.appendParamToUrl(d,"lappId",e));e=d;a&&(h="editPublishedContent-"+h,k=com.kingdee.bos.qing.publish.common.PublishSubscribeHelper,k.putSubscribe(h,a),d=c.appendParamToUrl(d,"subscribeKey",h),d=c.appendParamToUrl(d,"currentPageClientId",k.getCurrentPageClientId()));a=com.kingdee.bos.qing.framework.common.TabbedUiUtil;
a.openNewTabInAppId(t.get("editPublishedContent","\u7f16\u8f91\u53d1\u5e03\u65b9\u6848-")+b.getName(),d,e,a.QING_ANALYSIS)}});f=com.kingdee.bos.qing.modeler.message.panel.common.Integration;f.setMessageRemoteUrl(l+"/qing_modeler/message.do");f.setFunOpenModelSetPage(function(b,a){var d=p.getUrlParamValue(),h=t.get("modelSet","\u6a21\u578b\u96c6-")+a,e=l+"/qing_modeler/modelSetMainPage.do";e=c.appendParamToUrl(e,"modelSetId",b);e=c.appendParamToUrl(e,"modelSetName",a);e=c.appendParamToUrl(e,"currentPageClientId",
com.kingdee.bos.qing.framework.common.RemoteFramework.getClientID());d&&(e=c.appendParamToUrl(e,"skin",d));q.openNewTabInAppId(h,e,e,q.QING_MODELER)});f.setFunOpenModelDesign(function(b,a,d,h,e){var k=com.kingdee.bos.qing.modeler.message.panel.common.ModelType,r=p.getUrlParamValue();e=(e=k.getModelTypeText(e))?e+"-"+d:d;k=l+"/qing_modeler/deployDesignerEntrance.do";k=c.appendParamToUrl(k,"modelSetId",b);k=c.appendParamToUrl(k,"modelId",a);k=c.appendParamToUrl(k,"modelName",d);k=c.appendParamToUrl(k,
"modelDeployId",h);r&&(k=c.appendParamToUrl(k,"skin",r));q.openNewTabInAppId(e,k,k,q.QING_MODELER)})});g.loadSkinCss("message","messagepanel");g.loadSkinJs("message","skin");g.loadJs("message/message-content-panel-management.js");g.loadI18n("message","messagepanel");g.loadSkinCss("qingmodeler/message","message-modeler-panel");g.loadSkinJs("qingmodeler/message","skin");g.loadJs("qingmodeler/message/message-content-panel-management.js");g.loadI18n("qingmodeler/message","message-modeler-panel")});var F=
c.decodeParamFromUrl(location.search,"appID");n.setAppId(F);var y=new com.kingdee.bos.extreport.manage.ui.Main;x.addRefreshListener(y.funRefreshData);y.createJqUi().appendTo($(document.body))}};var z,p,t,c,u,q,C,x,D,w,E;(function(){var m=com.kingdee.bos.qing;z=m.CodeLoader;p=m.SkinUtil;u=m.Seer;m=com.kingdee.bos.qing.common;c=m.Util;m=com.kingdee.bos.qing.framework.common;t=m.MultilanguageManager.createPackageAccessor(com.kingdee.bos.extreport.manage.ui);q=m.TabbedUiUtil;C=m.WebPageInitializer;m=
com.kingdee.bos.extreport.launcher;x=m.Launcher;m=com.kingdee.bos.extreport.manage.common;D=m.UserOperationReporter;m=com.kingdee.bos.qing.behavior;w=m.BehaviorManager;m=com.kingdee.bos.extreport.manage.model;E=m.ExtReportModel})()})();
//qingVersionTag: 20250324