var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(l,p,d){if(null==l)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(p instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return l+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,p,d){if(l==Array.prototype||l==Object.prototype)return l;l[p]=d.value;return l};
$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var p=0;p<l.length;++p){var d=l[p];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(l,p){var d=$jscomp.propertyToPolyfillSymbol[p];if(null==d)return l[p];d=l[d];return void 0!==d?d:l[p]};$jscomp.polyfill=function(l,p,d,b){p&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,p,d,b):$jscomp.polyfillUnisolated(l,p,d,b))};
$jscomp.polyfillUnisolated=function(l,p,d,b){d=$jscomp.global;l=l.split(".");for(b=0;b<l.length-1;b++){var y=l[b];if(!(y in d))return;d=d[y]}l=l[l.length-1];b=d[l];p=p(b);p!=b&&null!=p&&$jscomp.defineProperty(d,l,{configurable:!0,writable:!0,value:p})};
$jscomp.polyfillIsolated=function(l,p,d,b){var y=l.split(".");l=1===y.length;b=y[0];b=!l&&b in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var D=0;D<y.length-1;D++){var g=y[D];if(!(g in b))return;b=b[g]}y=y[y.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&"es6"===d?b[y]:null;p=p(d);null!=p&&(l?$jscomp.defineProperty($jscomp.polyfills,y,{configurable:!0,writable:!0,value:p}):p!==d&&(void 0===$jscomp.propertyToPolyfillSymbol[y]&&(d=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[y]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(y):$jscomp.POLYFILL_PREFIX+d+"$"+y),$jscomp.defineProperty(b,$jscomp.propertyToPolyfillSymbol[y],{configurable:!0,writable:!0,value:p})))};$jscomp.polyfill("String.prototype.startsWith",function(l){return l?l:function(p,d){var b=$jscomp.checkStringArgs(this,p,"startsWith");p+="";var y=b.length,D=p.length;d=Math.max(0,Math.min(d|0,b.length));for(var g=0;g<D&&d<y;)if(b[d++]!=p[g++])return!1;return g>=D}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(l){return l?l:function(p,d,b){var y=this.length||0;0>d&&(d=Math.max(0,y+d));if(null==b||b>y)b=y;b=Number(b);0>b&&(b=Math.max(0,y+b));for(d=Number(d||0);d<b;d++)this[d]=p;return this}},"es6","es3");$jscomp.typedArrayFill=function(l){return l?l:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
(function(){function l(a,c,v,e,r){r=r[b.CHART_TITLE_ALIGN];r===b.CHART_TITLE_ALIGN_LEFT?(a.textAlign="left",a.fillText(c,1,e)):r===b.CHART_TITLE_ALIGN_RIGHT?(a.textAlign="right",a.fillText(c,v-1,e)):(a.textAlign="center",a.fillText(c,v/2,e))}function p(a){var c=0;a.startsWith("#")&&(c=1);var v=parseInt(a.substr(c,2),16),e=parseInt(a.substr(c+2,2),16),r=parseInt(a.substr(c+4,2),16),t=1;7<a.length&&(t=parseInt(a.substr(c+6,2),16)/255);return"rgba("+v+","+e+","+r+","+t+")"}"undefined"==typeof com&&(com=
{});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.cosmic&&(com.kingdee.cosmic={});"undefined"==typeof com.kingdee.cosmic.ctrl&&(com.kingdee.cosmic.ctrl={});"undefined"==typeof com.kingdee.cosmic.ctrl.rpt&&(com.kingdee.cosmic.ctrl.rpt={});"undefined"==typeof com.kingdee.cosmic.ctrl.rpt.qingchart&&(com.kingdee.cosmic.ctrl.rpt.qingchart={});"undefined"==typeof com.kingdee.cosmic.ctrl.rpt.qingchart.common&&(com.kingdee.cosmic.ctrl.rpt.qingchart.common={});var d=com.kingdee.cosmic.ctrl.rpt.qingchart.common;
d.drawCanvasStyle=function(a,c){var v=1;c[b.BORDERALPHA]&&(v=c[b.BORDERALPHA]/100);a.strokeStyle="rgba(0,0,0,"+v+")";a.lineWidth=2;v=Number(a.canvas.scrollWidth?a.canvas.scrollWidth:a.canvas.width);var e=Number(a.canvas.scrollHeight?a.canvas.scrollHeight:a.canvas.height);a.strokeRect(0,0,v-1,e-1);a.fillStyle=c[b.BACKGROUND]?p(c[b.BACKGROUND]):"rgba(255,255,255,1)";a.fillRect(1,1,v-2,e-2);var r=0,t=c[b.CHARTTITLE],A=c[b.CHARTDEPUTYTITLE],E=c[b.CHART_DATA_EMPTY],C=c[b.CHART_DATA_EMPTY_MSG];if(t){var J=
c[b.CHARTTITLEFONTSIZE]?c[b.CHARTTITLEFONTSIZE]:"24",I=c[b.CHART_TITLE_FONT_NAME]?c[b.CHART_TITLE_FONT_NAME]:"SimSun";r+=Number(J);a.font="normal "+J+"px "+I;J=c[b.CHART_TITLE_COLOR];a.fillStyle=p(J?J:"rgba(0,0,0,1)");l(a,t,v,r,c)}A&&(t=c[b.CHARDEPUTYTTITLEFONTSIZE]?c[b.CHARDEPUTYTTITLEFONTSIZE]:"16",J=c[b.CHART_DEPUTY_TITLE_FONT_NAME]?c[b.CHART_DEPUTY_TITLE_FONT_NAME]:"SimSun",r+=Number(t)+5,a.font="normal "+t+"px "+J,t=c[b.CHART_DEPUTY_TITLE_COLOR],a.fillStyle=p(t?t:"rgba(0,0,0,1)"),l(a,A,v,r,c));
E&&C&&(a.font="normal 14px \u5b8b\u4f53",a.textAlign="left",a.fillStyle=p("#dddddd"),a.fillText(C,20,e-20))};d.getColor=p;d.configQingChartAttrStyle=function(a,c,v){c.setShowLegend(c.getCustomStyle(b.SHOWLEGEND));a&&(a[b.SHOW_DATALABEL]&&"1"==a[b.SHOW_DATALABEL]&&c.setShowDataLabel(!0),a[b.DATALABEL_FORMAT]&&c.setDataLabelFormat(a[b.DATALABEL_FORMAT]),a[b.DATA_LABEL_OVERLAPPABLE]&&"1"===a[b.DATA_LABEL_OVERLAPPABLE]&&c.setDataLabelOverlappable(!0),f[v]&&f[v](a,c))};var b=d.QingConstant={BACKGROUND:"background",
CHART_DATA_EMPTY:"dataEmpty",CHART_DATA_EMPTY_MSG:"dataEmptyMsg",CHARTTITLE:"chartTitle",CHARTDEPUTYTITLE:"chartDeputyTitle",CHARTTITLEFONTSIZE:"chartTitleFontSize",CHARDEPUTYTTITLEFONTSIZE:"chartDeputyTitleFontSize",CHART_TITLE_FONT_NAME:"chartTitleFontName",CHART_TITLE_COLOR:"chartTitleColor",CHART_DEPUTY_TITLE_FONT_NAME:"chartDeputyTitleFontName",CHART_DEPUTY_TITLE_COLOR:"chartDeputyTitleColor",CHART_TITLE_ALIGN:"chartTitleAlign",CHART_TITLE_ALIGN_LEFT:"\u9760\u5de6",CHART_TITLE_ALIGN_RIGHT:"\u9760\u53f3",
BORDERALPHA:"borderAlpha",SHOWLEGEND:"showLegend",SHOWLEGEND_NON:"NON",SHOWLEGEND_RIGHT:"RIGHT",SHOWLEGEND_BOTTOM:"BOTTOM",CHART_CHARTLEFTMARGIN:"leftMargin",CHART_CHARTRIGHTMARGIN:"rightMargin",CHART_CHARTTOPMARGIN:"topMargin",CHART_CHARTBOTTOMMARGIN:"bottomMargin",SHOW_DATALABEL:"showDataLabel",DATALABEL_FORMAT:"dataLabelFormat",Y_RULERSCALE:"rulerScale",Y_RULERSTART:"yRulerStart",Y_UNITTEXT:"yUnitText",Y_SRULERSCALE:"sRulerScale",X_RULERSTART:"xRulerStart",X_UNITTEXT:"xUnitText",NUMBER_FORMAT:"numberFormat",
X_AXIS_NUMBER_FORMAT:"xNumberAxisFormat",Y_AXIS_NUMBER_FORMAT:"yNumberAxisFormat",DATALABEL_TYPE:"dataLabelType",SHOWNEGATIVE:"showNegative",SMOOTH_CURVE:"smoothCurve",DATA_ANCHORS:"dataAnchors",ZEROINSTEADNULL:"zeroInsteadNull",SHOWVALUES:"showValues",IS_HOLLOW:"isHollow",CHART_SUM:"chartSum",DATA_LABEL_OVERLAPPABLE:"dataLabelOverlappable",OVERLAP_SHRINKING_RATIO:"overlapShrinkingRatio",PERCENTAGE_DIGIT:"percentageDigit",PERCENTAGE_CEILING:"percentageCeiling",LABEL_DESC:"labelDesc",AVERAGE_ANGLE:"averageAngle",
FUNNEL_LADDER:"funnelLadder",LABEL_NAME:"labelName",LABEL_VALUE:"labelValue",LABEL_PERCENT:"labelPercent",RATIO_BY:"ratioBy",RATIO_FORMAT:"ratioFormat",PAN_STYLE:"panStyle",ARC_DEGREE:"arcDegree",SHOW_RULER_MARK_LABEL:"showRulerMarkLabel",POINTER_NAME:"pointerName",NUMERAL_FORMAT:"numeralFormat",PROCESS_DATALABEL_TYPE:"processDataLabelType",FILL_COLOR:"fillColor"};d=d.ChartType={PIE:"QPie",ROSE_PIE:"QRosePie",COLUMN:"QColumn",MSCOLUMN:"QMSColumn",STCOLUMN:"QSTColumn",PSTCOLUMN:"QPSTColumn",PCOLUMN:"QPColumn",
LINE:"QLine",MSLINE:"QMSLine",AREA:"QArea",STAREA:"QSTArea",PSTAREA:"QPSTArea",RING_PIE:"QRingPie",PRING_PIE:"QPRingPie",BAR:"QBar",MSBAR:"QMSBar",STBAR:"QSTBar",PSTBAR:"QPSTBar",PBAR:"QPBar",FUNNEL:"QFunnel",DIAL:"QDial",SCATTER:"QScatter",SCATTER_PLOT:"QScatterPlot",COMBINA:"QCombina",MSCOMBINA:"QMSCombina",WATERFALL:"QWaterFall",MSRADAR:"QMSRadar",RADAR:"QRadar",RECTTREE:"QRectTree",MSRECTTREE:"QMSRectTree",MSSUNBURST:"QMSSunburst"};var y=function(a,c){a[b.DATALABEL_TYPE]&&c.setDataLabelType(parseInt(a[b.DATALABEL_TYPE]));
a[b.SHOWNEGATIVE]&&"ignored"==a[b.SHOWNEGATIVE]&&c.setIgnoreNegative(!0)},D=function(a,c){a[b.Y_RULERSCALE]&&c.setYRulerScale(a[b.Y_RULERSCALE]);a[b.Y_RULERSTART]&&c.setYRulerStart(a[b.Y_RULERSTART]);a[b.Y_UNITTEXT]&&c.setYUnitText(a[b.Y_UNITTEXT]);a[b.Y_AXIS_NUMBER_FORMAT]&&c.setYFormat(a[b.Y_AXIS_NUMBER_FORMAT])},g=function(a,c){a[b.Y_RULERSCALE]&&c.setPYRulerScale(a[b.Y_RULERSCALE]);a[b.Y_SRULERSCALE]&&c.setSYRulerScale(a[b.Y_SRULERSCALE]);a[b.Y_RULERSTART]&&c.setPYRulerStart(a[b.Y_RULERSTART]);
a[b.X_RULERSTART]&&c.setSYRulerStart(a[b.X_RULERSTART]);a[b.Y_UNITTEXT]&&c.setPYUnitText(a[b.Y_UNITTEXT]);a[b.X_UNITTEXT]&&c.setSYUnitText(a[b.X_UNITTEXT]);a[b.Y_AXIS_NUMBER_FORMAT]&&c.setPYFormat(a[b.Y_AXIS_NUMBER_FORMAT]);a[b.X_AXIS_NUMBER_FORMAT]&&c.setSYFormat(a[b.X_AXIS_NUMBER_FORMAT]);if(a[b.DATALABEL_TYPE]){var v=parseInt(a[b.DATALABEL_TYPE]);c.setShowDataLabel(16===(v&16),1===(v&1))}a[b.SMOOTH_CURVE]&&"1"===a[b.SMOOTH_CURVE]&&c.setSmooth(!0);a[b.DATA_ANCHORS]&&"1"===a[b.DATA_ANCHORS]&&c.setPaintingPoint(!0)},
P=function(a,c){a[b.Y_RULERSCALE]&&c.setYRulerScale(a[b.Y_RULERSCALE]);a[b.Y_RULERSTART]&&c.setYRulerStart(a[b.Y_RULERSTART]);a[b.Y_UNITTEXT]&&c.setYUnitText(a[b.Y_UNITTEXT]);a[b.Y_AXIS_NUMBER_FORMAT]&&c.setYFormat(a[b.Y_AXIS_NUMBER_FORMAT]);a[b.SMOOTH_CURVE]&&"1"===a[b.SMOOTH_CURVE]&&c.setSmooth(!0);a[b.DATA_ANCHORS]&&"1"===a[b.DATA_ANCHORS]&&c.setPaintingPoint(!0);a[b.ZEROINSTEADNULL]&&"1"===a[b.ZEROINSTEADNULL]&&c.setZeroInsteadNull(!0);a[b.SHOWVALUES]&&"1"===a[b.SHOWVALUES]&&c.setShowDataLabel(!0)},
S=function(a,c){a[b.Y_AXIS_NUMBER_FORMAT]&&c.setYFormat(a[b.Y_AXIS_NUMBER_FORMAT]);a[b.Y_UNITTEXT]&&c.setYUnitText(a[b.Y_UNITTEXT])},R=function(a,c){a[b.X_RULERSTART]&&c.setXRulerStart(a[b.X_RULERSTART]);a[b.X_UNITTEXT]&&c.setXUnitText(a[b.X_UNITTEXT]);a[b.Y_RULERSTART]&&c.setYRulerStart(a[b.Y_RULERSTART]);a[b.Y_UNITTEXT]&&c.setYUnitText(a[b.Y_UNITTEXT]);a[b.Y_AXIS_NUMBER_FORMAT]&&c.setYFormat(a[b.Y_AXIS_NUMBER_FORMAT]);a[b.X_AXIS_NUMBER_FORMAT]&&c.setXFormat(a[b.X_AXIS_NUMBER_FORMAT])},n=function(a,
c){a[b.Y_RULERSCALE]&&c.setXRulerScale(a[b.Y_RULERSCALE]);a[b.X_RULERSTART]&&c.setXRulerStart(a[b.X_RULERSTART]);a[b.X_UNITTEXT]&&c.setXUnitText(a[b.X_UNITTEXT]);a[b.X_AXIS_NUMBER_FORMAT]&&c.setXFormat(a[b.X_AXIS_NUMBER_FORMAT])},h=function(a,c){a[b.FILL_COLOR]&&"1"===a[b.FILL_COLOR]?c.setFillColor(!0):c.setFillColor(!1);a[b.SHOW_RULER_MARK_LABEL]&&"1"===a[b.SHOW_RULER_MARK_LABEL]?c.setShowRulerMarkLabel(!0):c.setShowRulerMarkLabel(!1);a[b.NUMERAL_FORMAT]&&c.setRadarFormat(a[b.NUMERAL_FORMAT])},q=
function(a,c){a[b.SHOWNEGATIVE]&&"ignored"==a[b.SHOWNEGATIVE]&&c.setIgnoreNegative(!0)},f={};f[d.PIE]=y;f[d.RING_PIE]=function(a,c){y(a,c);c.setHollow(!0);a[b.CHART_SUM]&&"1"===a[b.CHART_SUM]?c.setShowTotalWhenHollow(!0):c.setShowTotalWhenHollow(!1)};f[d.ROSE_PIE]=function(a,c){y(a,c);c.setPresentByRadius(!0);a[b.AVERAGE_ANGLE]&&"1"===a[b.AVERAGE_ANGLE]?c.setPresentByAngle(!1):c.setPresentByAngle(!0)};f[d.PRING_PIE]=function(a,c){a[b.OVERLAP_SHRINKING_RATIO]&&c.setOverlapShrinkingPercent(parseInt(a[b.OVERLAP_SHRINKING_RATIO]));
a[b.PERCENTAGE_DIGIT]&&c.setPercentageDecimalDigit(parseInt(a[b.PERCENTAGE_DIGIT]));a[b.PERCENTAGE_CEILING]&&"1"===a[b.PERCENTAGE_CEILING]?c.setPercentageCeiling(!0):c.setPercentageCeiling(!1);a[b.LABEL_DESC]&&c.setLabelDesc(a[b.LABEL_DESC])};f[d.COLUMN]=D;f[d.MSCOLUMN]=D;f[d.STCOLUMN]=D;f[d.PSTCOLUMN]=D;f[d.PCOLUMN]=function(a,c){D(a,c);if(a[b.PROCESS_DATALABEL_TYPE]){var v=parseInt(a[b.PROCESS_DATALABEL_TYPE]);a[b.PROCESS_DATALABEL_TYPE]&&c.setLabelType(v)}a[b.OVERLAP_SHRINKING_RATIO]&&c.setOverlapShrinkingPercent(a[b.OVERLAP_SHRINKING_RATIO])};
f[d.AREA]=S;f[d.STAREA]=S;f[d.PSTAREA]=S;f[d.BAR]=n;f[d.MSBAR]=n;f[d.STBAR]=n;f[d.PSTBAR]=n;f[d.PBAR]=function(a,c){n(a,c);if(a[b.PROCESS_DATALABEL_TYPE]){var v=parseInt(a[b.PROCESS_DATALABEL_TYPE]);a[b.PROCESS_DATALABEL_TYPE]&&c.setLabelType(v)}a[b.OVERLAP_SHRINKING_RATIO]&&c.setOverlapShrinkingPercent(a[b.OVERLAP_SHRINKING_RATIO])};f[d.LINE]=P;f[d.MSLINE]=P;f[d.FUNNEL]=function(a,c){a[b.FUNNEL_LADDER]&&"0"===a[b.FUNNEL_LADDER]?c.setLadderPerfect(!1):c.setLadderPerfect(!0);a[b.LABEL_NAME]&&c.setLabelNamePosition(parseInt(a[b.LABEL_NAME]));
a[b.LABEL_VALUE]&&c.setLabelValuePosition(parseInt(a[b.LABEL_VALUE]));a[b.LABEL_PERCENT]&&c.setLabelPercentPosition(parseInt(a[b.LABEL_PERCENT]));if(a[b.RATIO_BY])switch(a[b.RATIO_BY]){case "step":c.markRatioByStep();break;case "start":c.markRatioByStart();break;case "total":c.markRatioByTotal()}a[b.RATIO_FORMAT]&&c.setPercentageFormat(a[b.RATIO_FORMAT])};f[d.DIAL]=function(a,c){a[b.ARC_DEGREE]&&c.setArcDegree(parseInt(a[b.ARC_DEGREE]));a[b.PAN_STYLE]&&c.setPanStyle(a[b.PAN_STYLE]);a[b.SHOW_RULER_MARK_LABEL]&&
"1"===a[b.SHOW_RULER_MARK_LABEL]?c.setShowRulerMarkLabel(!0):c.setShowRulerMarkLabel(!1);a[b.NUMERAL_FORMAT]&&c.setRulerMarkLabelFormat(a[b.NUMERAL_FORMAT]);a[b.DATALABEL_TYPE]&&c.setPointerLabelType(parseInt(a[b.DATALABEL_TYPE]));a[b.DATALABEL_FORMAT]&&c.setPointerNumberFormat(a[b.DATALABEL_FORMAT]);a[b.POINTER_NAME]&&c.setPointerName(a[b.POINTER_NAME])};f[d.SCATTER]=R;f[d.SCATTER_PLOT]=R;f[d.COMBINA]=g;f[d.MSCOMBINA]=g;f[d.WATERFALL]=function(a,c){a[b.Y_UNITTEXT]&&c.setYUnitText(a[b.Y_UNITTEXT]);
a[b.Y_AXIS_NUMBER_FORMAT]&&c.setYFormat(a[b.Y_AXIS_NUMBER_FORMAT])};f[d.RADAR]=h;f[d.MSRADAR]=h;f[d.RECTTREE]=q;f[d.MSRECTTREE]=q;f[d.MSSUNBURST]=q})();(function(){function l(){this.bindAssociatedChart=function(n,h){};this.setContent=function(n){throw Error("Override");};this.show=function(n,h){throw Error("Override");};this.hide=function(){throw Error("Override");}}function p(){l.call(this);var n=this,h,q=null,f=!1,a=function(){h&&0!==$(".qing-rpt-tooltips").length||(h=$("<div>"),h.addClass("qing-rpt-tooltips"),h.css("display","none"),n.protectedInitUi(h))};this.protectedInitUi=function(e){throw Error("Implement");};this.protectedGetJqOwner=function(){throw Error("Implement");
};this.protectedTransformXY=function(e,r){return[e,r]};this.show=function(e,r){a();var t=n.protectedTransformXY(e,r);e=t[0];r=t[1];t=n.protectedGetJqOwner();var A=t.prop("clientWidth"),E=t.prop("clientHeight");h.css("max-width",.8*A);h.css("max-height",.8*E);var C=h.outerWidth(),J=h.outerHeight();t=e+15;var I=r+10,x=-1,K=-1,N=-1,Q=-1;I+J>E&&(Q=I+J-E,K=E-J,r=r-10-J,0>r?(r=-r,r<Q&&(Q=r,K=0)):(Q=-1,K=r));t+C>A&&(N=t+C-A,x=A-C,e=e-15-C,0>e?(e=-e,e<N&&(N=e,x=0)):(N=-1,x=e));0<N&&0<Q?.5*N>Q?(t=x,I=0==K?
-Q:K+Q):(t=0==x?-N:x+N,I=K):(t=0>x?t:x,I=0>K?I:K);"block"==h.css("display")?(q=[t,I],v()):(h.css("left",t),h.css("top",I),h.css("display","block"))};this.hide=function(){q=null;h&&h.css("display","none")};this.setContent=function(e){a();h.empty();var r=$("<table>");r.css("margin",6);for(var t=0;t<e.length;t++){var A=e[t],E=A.key,C=A.value,J=A.ratio,I=A.color,x=A.lineIconStyle;A=$("<tr>");var K=$("<td>");K.addClass("qing-rpt-tooltips-title");if(I){if(x){x=document.createElement("canvas");x.width=8;
x.height=8;var N=$(x);N.addClass("qing-rpt-tooltips-title-color");N.appendTo(K);x=x.getContext("2d");x.fillStyle=I;x.strokeStyle=I;x.lineWidth=2;x.beginPath();x.moveTo(0,4);x.lineTo(8,4);x.stroke();x.arc(4,4,2.2,0,2*Math.PI);x.fill()}else x=$("<span>"),x.addClass("qing-rpt-tooltips-title-color"),x.css("background-color",I),x.appendTo(K);x=$("<span>");x.addClass("qing-rpt-tooltips-title-text");x.text(E);x.appendTo(K)}else K.text(E+":");A.append(K);E=$("<td>");E.addClass("qing-rpt-tooltips-value");
I&&E.css("text-align","right");E.text(C);A.append(E);J?(C=$("<td>"),C.addClass("qing-rpt-tooltips-value"),C.css("padding-left","4px"),C.css("text-align","right"),C.text(J),A.append(C)):E.attr("colspan",2);r.append(A)}r.appendTo(h)};var c=function(){var e=null;q&&(e=q,q=null);return e},v=function(){if(!f){var e=c();e&&(f=!0,h.animate({left:e[0],top:e[1]},50,function(){f=!1;v()}))}}}function d(){var n;this.protectedMethod={createLegendUi:function(h,q){n&&n.remove();n=null;n=$("<div>");n.addClass("mobile-square-legend-bar");
var f=$("<div>");f.text(R?R.get("legend","\u56fe\u4f8b"):"\u56fe\u4f8b");f.addClass("mobile-square-legend-head");f.appendTo(n);f=$("<span>");f.addClass("mobile-square-legend-border");f.appendTo(n);q||(q=new y);q=new D(q);q.setModel(h);q.draw(n);return n}}}function b(){this.draw=function(n,h,q,f){throw Error("override me");}}function y(){function n(h,q){var f;this.getJqUi=function(){if(!f){f=$("<div>");f.addClass("mobile-square-legend-item");var a=$("<div>");a.addClass("mobile-square-legend-square");
a.css({"background-color":h});var c=$("<div>");c.addClass("mobile-square-legend-text");c.text(q);a.appendTo(f);c.appendTo(f)}return f}}b.call(this);this.draw=function(h,q,f,a){var c=h.length;h=h.slice(0,c);q=q.slice(0,c);null!=f&&(q.push(f),h.push("rgba(0,0,0,0)"),c++);for(f=0;f<c;f++)(new n(h[f],q[f])).getJqUi().appendTo(a)}}function D(n){var h,q;this.setModel=function(f){h=f};this.draw=function(f){q=f;f=[];for(var a=[],c,v=h.getItemCount(),e=0;e<v;e++){var r=h.getColor(e),t=h.getText(e);h.getCaption&&
h.getCaption(e)&&(t=h.getCaption(e)+"\uff1a"+t);f.push(r);a.push(t)}v=h.getOthersItemCount();0<v&&(c=R.get("itemsAndSoOn","\u5176\u5b83#1\u9879").replace("#1",v));e=$("<div>");e.addClass("mobile-square-legend-wrap");e.appendTo(q);v=$("<div>");v.css({position:"absolute",top:0,left:0,bottom:0});v.appendTo(e);e=$("<div>");e.addClass("mobile-square-legend-container");e.appendTo(v);n.draw(f,a,c,e)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.cosmic&&
(com.kingdee.cosmic={});"undefined"==typeof com.kingdee.cosmic.qing&&(com.kingdee.cosmic.qing={});"undefined"==typeof com.kingdee.cosmic.qing.rpt&&(com.kingdee.cosmic.qing.rpt={});"undefined"==typeof com.kingdee.cosmic.qing.rpt.ui&&(com.kingdee.cosmic.qing.rpt.ui={});var g=com.kingdee.cosmic.qing.rpt.ui;g.AbstractTooltipsWidget=l;g.SelfDrivingTooltipsWidget=function(){p.call(this);var n,h;this.bindAssociatedChart=function(q,f){h=q;n&&!P.isInDomTree(n[0])&&n.appendTo(h)};this.protectedInitUi=function(q){n=
q;n.appendTo(h)};this.protectedGetJqOwner=function(){return h};this.protectedTransformXY=function(q,f){var a=P.upwardCoordinate(h[0],[0,0],document.body);return[q-a[0],f-a[1]]}};g.MobileSquareLegendRender=function(){d.call(this);var n=this,h=this.protectedMethod;this.createLegendUi=function(q,f){if(f instanceof S)return h.createLegendUi(f,n.getDiscreteColorRender(q))};this.getDiscreteColorRender=function(q){return null}};var P,S,R;(function(){var n=com.kingdee.bos.qing.common;P=n.DomUtil;n=com.kingdee.bos.qing.chart.model;
S=n.DiscreteColorLegendModel;n=com.kingdee.bos.qing.framework.common;"undefined"!=typeof com.kingdee.bos.extreport&&"undefined"!=typeof com.kingdee.bos.extreport.runtime&&"undefined"!=typeof com.kingdee.bos.extreport.runtime.common&&"undefined"!=typeof com.kingdee.bos.extreport.runtime.common.ui&&(R=n.MultilanguageManager.createPackageAccessor(com.kingdee.bos.extreport.runtime.common.ui))})();g.DesktopTooltipsWidgetSingleInstance=new function(){p.call(this);var n=this,h,q,f;this.bindAssociatedChart=
function(e,r){q=e;f=r};this.protectedInitUi=function(e){e.on("mousemove",a);e.on("mouseleave",c);h=$(document.body);h.append(e)};this.protectedGetJqOwner=function(){return h};var a=function(e){(e=v(e))&&n.show(e[0],e[1])},c=function(e){v(e)},v=function(e){if(!q.is(":visible"))return null;var r=n.protectedGetJqOwner()[0],t=P.getCurrentTargetPosition(e);var A=r.clientLeft;var E=r.clientTop;for(e=e.target;e!=r;){if(e==document.body)throw Error("Not immediate family.");var C=e.parentNode;A+=C.clientLeft+
e.offsetLeft;E+=C.clientTop+e.offsetTop;e=C;for(C=e.nodeName.toLowerCase();"td"==C||"tr"==C||"tbody"==C;)e=e.parentNode,C=e.nodeName.toLowerCase()}A=[A+t[0],E+t[1]];t=A[0];A=A[1];r=P.upwardCoordinate(q[0],[0,0],r);E=A-r[1];return t-r[0]>q.prop("clientWidth")||E>q.prop("clientHeight")?(n.hide(),f.clearMouseState(),null):[t,A]}}})();(function(){function l(m){var L=this,G,F,u,B,H,O,aa,X,Y,ba=!1,Z=!1,ca;this.draw=function(k,w,z){k=L.init(k,!0);w=da(w,z);k.draw(w[0],w[0].clientWidth,w[0].clientHeight)};this.init=function(k,w){u=(new b).createQingChart(m);k=JSON.parse(k);H=k.styles;O=k.legend;aa=void 0!=k.treeChartModel?R.createFromJson(k.treeChartModel):S.createFromJson(k.chartModel);u.setModel(aa);u.setLegendModel(L.protectedGetLegendModel());u.setTooltipsListener(oa);u.getAttr().putCustomStyles(H);a(H,u.getAttr(),m);w&&(u.setClickListener(pa),
u.isSelectionSupported()&&u.setSelectionListener(qa));return u};this.setSelectionListener=function(k){B=k};var qa=function(k,w,z){B&&B(k,w,z)};this.getLegendModel=function(){return O};this.getStyles=function(){return H};this.protectedGetLegendModel=function(){var k=new n;O&&(k.prepare(O.colors,O.texts,O.captions,O.others),0<Number(O.others)?O.othersInfo&&k.setAdditionalText(O.othersInfo):k.setAdditionalText(""));return k};this.fromGUI=function(){return!ba};this.markFromWeb=function(){ba=!0};this.markFromMobile=
function(){Z=!0};this.setWebContainer=function(k){ca=k};this.registerClickListener=function(k){F=k};this.assembleEventModel=function(k,w,z){k=new y;L.fromGUI()&&k.setQingChartID(chartID);w=u.getModel();w.getSeries&&0<w.getSeries().length&&k.setSeriesName(w.getSeries()[0].getName());w.getNode(0,parseInt(z))?k.setValue(w.getNode(0,parseInt(z)).getValue()):k.setValue(0);if(w.getCategories()&&0<w.getCategories().length){var M;(M=w.getCategories()[parseInt(z)].getValue())?k.setCategoryValue(M):k.setName(w.getCategories()[parseInt(z)].getLabel())}return k};
var da=function(k,w){var z=[0,0,0,0,0,0];H&&(H[D.CHART_CHARTTOPMARGIN]&&(z[0]=Number(H[D.CHART_CHARTTOPMARGIN])),H[D.CHART_CHARTBOTTOMMARGIN]&&(z[1]=Number(H[D.CHART_CHARTBOTTOMMARGIN])),H[D.CHART_CHARTLEFTMARGIN]&&(z[2]=Number(H[D.CHART_CHARTLEFTMARGIN])),H[D.CHART_CHARTRIGHTMARGIN]&&(z[3]=Number(H[D.CHART_CHARTRIGHTMARGIN])));z[4]=z[0]+z[1];z[5]=z[2]+z[3];L.fromGUI()&&$(document.body).empty();if(L.fromGUI()){var M=document.createElement("div");M.setAttribute("id","rpt_divMainContainer");M.setAttribute("class",
"rpt_divMainContainer");document.body.appendChild(M)}else M=ca[0],k=M.clientWidth,w=O&&u.getAttr().getShowLegend()!=D.SHOWLEGEND_NON&&Z?M.clientHeight-42:M.clientHeight;var U=M,ea=k,fa=w,T=document.createElement("canvas");T.style.position="absolute";T.style.left="0px";T.style.top="0px";T.style.width=ea+"px";T.style.height=fa+"px";T.width=ea;T.height=fa;U.appendChild(T);U=T.getContext("2d");P(U,H);G=document.createElement("div");G.setAttribute("id","rpt_divMain");G.setAttribute("class","rpt_divMain");
G.style.height=w-z[4]+"px";G.style.width=k-z[5]+"px";G.style.marginTop=z[0]+"px";G.style.marginLeft=z[2]+"px";M.appendChild(G);k=M;O&&u.getAttr().getShowLegend()!=D.SHOWLEGEND_NON&&Z&&(w=(new f).createLegendUi(m,u.getLegendModel()))&&w.appendTo($(k));G.parentElement.style.border="0px";return[G,z]},pa=function(k,w,z){0>parseInt(z)||(k=L.assembleEventModel(k,w,z),L.fromGUI()?qingClick.qingChartClickFunction(k.toJson()):F&&F(k,function(M){var U=!1;u.isSelectionSupported()&&M&&(U=L.isSelected(z,u),L.select(z,
u));V().hide();return U}))},V=function(){X||(X=h);return X},W=function(){Y||(Y=new q);return Y},oa=function(k,w,z,M){M?z?(W().bindAssociatedChart($(G),u),W().setContent(z),W().show(k,w)):W().hide():z?(V().bindAssociatedChart($(G),u),V().setContent(z),V().show(k,w)):V().hide()};this.protectedMethod={drawHtmlMain:da,getChart:function(){return u}};this.select=function(k,w){0>k?w.getSelectionModel().deselectCategories():(k=w.getModel().getCategories()[k],w.getSelectionModel().toggleSelectCategory(k))};
this.isSelected=function(k,w){if(0>k)return!1;k=w.getModel().getCategories()[k];return w.getSelectionModel().isSelected(k,null)}}function p(m){l.call(this,m);var L=this,G=this.protectedMethod;this.assembleEventModel=function(F,u,B){F=new y;L.fromGUI()&&F.setQingChartID(chartID);u=G.getChart().getModel();u.getCategories()&&0<u.getCategories().length&&(B=u.getCategories()[parseInt(B)],u.getSeries()&&0<u.getSeries().length&&F.setSeriesName(B.getValue()),F.setValue(B.getValue()),F.setName(B.getValue()));
return F}}function d(m){l.call(this,m);var L=this,G=this.protectedMethod;this.assembleEventModel=function(F,u,B){F=new y;L.fromGUI()&&F.setQingChartID(chartID);if(null==B)return F;u=G.getChart().getModel();if(u.getLabelCaptionCount()&&0<u.getLabelCaptionCount()){u=u.getRoot().getChild(parseInt(B[0]));if(2>B.length){B=u.getLabel();var H=u.getSize();F.setSeriesName(B)}else H=u.getChild(parseInt(B[1])),B=H.getLabel(),H=H.getSize(),F.setSeriesName(u.getLabel());F.setValue(H);F.setName(B)}return F}}function b(){this.createQingChart=
function(m){switch(m){case g.PIE:case g.RING_PIE:case g.ROSE_PIE:return new c;case g.PRING_PIE:return new v;case g.COLUMN:case g.MSCOLUMN:return new e;case g.STCOLUMN:return new r;case g.PSTCOLUMN:return new t;case g.PCOLUMN:return new A;case g.BAR:case g.MSBAR:return new I;case g.STBAR:return new x;case g.PSTBAR:return new K;case g.PBAR:return new N;case g.LINE:case g.MSLINE:return new E;case g.AREA:case g.STAREA:return new C;case g.PSTAREA:return new J;case g.FUNNEL:return new Q;case g.DIAL:return new ha;
case g.SCATTER:case g.SCATTER_PLOT:return new ia;case g.COMBINA:case g.MSCOMBINA:return new ja;case g.WATERFALL:return new ka;case g.RADAR:case g.MSRADAR:return new la;case g.RECTTREE:case g.MSRECTTREE:return new ma;case g.MSSUNBURST:return new na;default:throw Error("Unknown chart type: "+m);}};this.createChartAgent=function(m){switch(m){case g.SCATTER:case g.SCATTER_PLOT:return new p(m);case g.RECTTREE:case g.MSRECTTREE:case g.MSSUNBURST:return new d(m);case g.PIE:case g.RING_PIE:case g.PRING_PIE:case g.ROSE_PIE:case g.COLUMN:case g.MSCOLUMN:case g.STCOLUMN:case g.PSTCOLUMN:case g.PCOLUMN:case g.BAR:case g.MSBAR:case g.STBAR:case g.PSTBAR:case g.PBAR:case g.LINE:case g.MSLINE:case g.AREA:case g.STAREA:case g.PSTAREA:case g.FUNNEL:case g.DIAL:case g.COMBINA:case g.MSCOMBINA:case g.WATERFALL:case g.RADAR:case g.MSRADAR:return new l(m);
default:throw Error("Unknown chart type!");}}}function y(){var m,L,G,F,u;this.setQingChartID=function(B){m=B};this.getQingChartID=function(){return m};this.setSeriesName=function(B){L=B};this.getSeriesName=function(){return L};this.setName=function(B){G=B};this.getName=function(){return G};this.setCategoryValue=function(B){F=B};this.getCategoryValue=function(){return F};this.setValue=function(B){u=B};this.getValue=function(){return u};this.toJson=function(){return JSON.stringify({qingChartID:m,seriesName:L,
categoryValue:F,name:G,value:u})}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.cosmic&&(com.kingdee.cosmic={});"undefined"==typeof com.kingdee.cosmic.ctrl&&(com.kingdee.cosmic.ctrl={});"undefined"==typeof com.kingdee.cosmic.ctrl.rpt&&(com.kingdee.cosmic.ctrl.rpt={});"undefined"==typeof com.kingdee.cosmic.ctrl.rpt.qingchart&&(com.kingdee.cosmic.ctrl.rpt.qingchart={});"undefined"==typeof com.kingdee.cosmic.ctrl.rpt.qingchart.agent&&
(com.kingdee.cosmic.ctrl.rpt.qingchart.agent={});var D,g,P,S,R,n,h,q,f,a,c,v,e,r,t,A,E,C,J,I,x,K,N,Q,ha,ia,ja,ka,la,ma,na;com.kingdee.cosmic.ctrl.rpt.qingchart.agent.QingFactory=b;(function(){var m=com.kingdee.bos.qing.chart.model;S=m.NormalChartModel;R=m.TreeChartModel;n=m.DiscreteColorLegendModel;m=com.kingdee.cosmic.ctrl.rpt.qingchart.common;D=m.QingConstant;g=m.ChartType;P=m.drawCanvasStyle;a=m.configQingChartAttrStyle;m=com.kingdee.cosmic.qing.rpt.ui;h=m.DesktopTooltipsWidgetSingleInstance;q=
m.SelfDrivingTooltipsWidget;f=m.MobileSquareLegendRender;m=com.kingdee.bos.qing.chart.square;c=m.PieChart;v=m.ProgressCircleChart;e=m.ColumnChart;r=m.StackedColumnChart;t=m.PercentStackedColumnChart;A=m.ProgressColumnChart;E=m.LineChart;C=m.AreaChart;J=m.PercentAreaChart;I=m.BarChart;x=m.StackedBarChart;K=m.PercentStackedBarChart;N=m.ProgressBarChart;Q=m.FunnelChart;ha=m.DialChart;ia=m.ScatterChart;ja=m.CompositeChart;ka=m.WaterfallChart;la=m.RadarChart;ma=m.RectTreeChart;na=m.SunburstChart})()})();
//qingVersionTag: 20250324