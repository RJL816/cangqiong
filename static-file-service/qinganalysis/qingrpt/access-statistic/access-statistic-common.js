var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(x,L,Y){x instanceof String&&(x=String(x));for(var ka=x.length,sa=0;sa<ka;sa++){var Ha=x[sa];if(L.call(Y,Ha,sa,x))return{i:sa,v:Ha}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(x,L,Y){if(x==Array.prototype||x==Object.prototype)return x;x[L]=Y.value;return x};$jscomp.getGlobal=function(x){x=["object"==typeof globalThis&&globalThis,x,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var L=0;L<x.length;++L){var Y=x[L];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(x,L){var Y=$jscomp.propertyToPolyfillSymbol[L];if(null==Y)return x[L];Y=x[Y];return void 0!==Y?Y:x[L]};
$jscomp.polyfill=function(x,L,Y,ka){L&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(x,L,Y,ka):$jscomp.polyfillUnisolated(x,L,Y,ka))};$jscomp.polyfillUnisolated=function(x,L,Y,ka){Y=$jscomp.global;x=x.split(".");for(ka=0;ka<x.length-1;ka++){var sa=x[ka];if(!(sa in Y))return;Y=Y[sa]}x=x[x.length-1];ka=Y[x];L=L(ka);L!=ka&&null!=L&&$jscomp.defineProperty(Y,x,{configurable:!0,writable:!0,value:L})};
$jscomp.polyfillIsolated=function(x,L,Y,ka){var sa=x.split(".");x=1===sa.length;ka=sa[0];ka=!x&&ka in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var Ha=0;Ha<sa.length-1;Ha++){var pa=sa[Ha];if(!(pa in ka))return;ka=ka[pa]}sa=sa[sa.length-1];Y=$jscomp.IS_SYMBOL_NATIVE&&"es6"===Y?ka[sa]:null;L=L(Y);null!=L&&(x?$jscomp.defineProperty($jscomp.polyfills,sa,{configurable:!0,writable:!0,value:L}):L!==Y&&(void 0===$jscomp.propertyToPolyfillSymbol[sa]&&(Y=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[sa]=
$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(sa):$jscomp.POLYFILL_PREFIX+Y+"$"+sa),$jscomp.defineProperty(ka,$jscomp.propertyToPolyfillSymbol[sa],{configurable:!0,writable:!0,value:L})))};$jscomp.polyfill("Array.prototype.find",function(x){return x?x:function(L,Y){return $jscomp.findInternal(this,L,Y).v}},"es6","es3");
$jscomp.polyfill("String.prototype.replaceAll",function(x){return x?x:function(L,Y){if(L instanceof RegExp&&!L.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return L instanceof RegExp?this.replace(L,Y):this.replace(new RegExp(String(L).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),Y)}},"es_2021","es3");$jscomp.arrayIteratorImpl=function(x){var L=0;return function(){return L<x.length?{done:!1,value:x[L++]}:{done:!0}}};
$jscomp.arrayIterator=function(x){return{next:$jscomp.arrayIteratorImpl(x)}};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(x){if(x)return x;var L=function(Ha,pa){this.$jscomp$symbol$id_=Ha;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:pa})};L.prototype.toString=function(){return this.$jscomp$symbol$id_};var Y="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",ka=0,sa=function(Ha){if(this instanceof sa)throw new TypeError("Symbol is not a constructor");return new L(Y+(Ha||"")+"_"+ka++,Ha)};return sa},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(x){if(x)return x;x=Symbol("Symbol.iterator");for(var L="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Y=0;Y<L.length;Y++){var ka=$jscomp.global[L[Y]];"function"===typeof ka&&"function"!=typeof ka.prototype[x]&&$jscomp.defineProperty(ka.prototype,x,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return x},"es6",
"es3");$jscomp.iteratorPrototype=function(x){x={next:x};x[Symbol.iterator]=function(){return this};return x};$jscomp.iteratorFromArray=function(x,L){x instanceof String&&(x+="");var Y=0,ka=!1,sa={next:function(){if(!ka&&Y<x.length){var Ha=Y++;return{value:L(Ha,x[Ha]),done:!1}}ka=!0;return{done:!0,value:void 0}}};sa[Symbol.iterator]=function(){return sa};return sa};
$jscomp.polyfill("Array.prototype.keys",function(x){return x?x:function(){return $jscomp.iteratorFromArray(this,function(L){return L})}},"es6","es3");$jscomp.owns=function(x,L){return Object.prototype.hasOwnProperty.call(x,L)};$jscomp.polyfill("Object.values",function(x){return x?x:function(L){var Y=[],ka;for(ka in L)$jscomp.owns(L,ka)&&Y.push(L[ka]);return Y}},"es8","es3");
$jscomp.polyfill("Array.prototype.findIndex",function(x){return x?x:function(L,Y){return $jscomp.findInternal(this,L,Y).i}},"es6","es3");$jscomp.checkStringArgs=function(x,L,Y){if(null==x)throw new TypeError("The 'this' value for String.prototype."+Y+" must not be null or undefined");if(L instanceof RegExp)throw new TypeError("First argument to String.prototype."+Y+" must not be a regular expression");return x+""};
$jscomp.polyfill("String.prototype.startsWith",function(x){return x?x:function(L,Y){var ka=$jscomp.checkStringArgs(this,L,"startsWith");L+="";var sa=ka.length,Ha=L.length;Y=Math.max(0,Math.min(Y|0,ka.length));for(var pa=0;pa<Ha&&Y<sa;)if(ka[Y++]!=L[pa++])return!1;return pa>=Ha}},"es6","es3");
(function(){function x(){var h=this,B=0,W=0,X=0,O=0,ca=0,xa=0;this.setVisit=function(P){B=P};this.getVisit=function(){return B};this.setExport=function(P){W=P};this.getExport=function(){return W};this.setPrint=function(P){X=P};this.getPrint=function(){return X};this.getSave=function(){return O};this.setSave=function(P){O=P};this.getEdit=function(){return ca};this.setEdit=function(P){ca=P};this.setTotal=function(P){xa=P};this.getTotal=function(){return xa};this.fromJsonObject=function(P){P&&(h.setVisit(P.iVisit),
h.setExport(P.iExport),h.setPrint(P.iPrint),h.setSave(P.iSaveSnapShot),h.setEdit(P.iEditSnapShot),h.setTotal(P.total))};this.toJsonObject=function(){var P={};P.iVisit=B;P.iExport=W;P.iPrint=X;P.iSaveSnapShot=O;P.iEditSnapShot=ca;P.total=xa;return P}}function L(){var h,B,W;this.setOperationType=function(X){h=X};this.getOperationType=function(){return h};this.setOperationTime=function(X){B=X};this.getOperationTime=function(){return B};this.setOperationFormatTime=function(X){W=X};this.getOperationFormatTime=
function(){return W};this.fromJsonObject=function(X){X&&(h=X.operationType,B=X.operationTime,W=X.operationFormatTime)};this.toJsonObject=function(){var X={};X.operationType=h;X.operationTime=B;return X}}function Y(){ka.call(this);var h=this;this.isPreset=function(){return h.getCreatorId()==Ca};this.fromJsonObject=function(B){B&&(h.setId(B.id),h.setName(B.name),h.setCreatorId(B.creatorId),h.setCreatorName(B.creatorName),h.setCreateTime(B.createTime),h.setCreateFormatTime(B.createFormatTime),h.setPath(B.path),
h.setArrUsers(B.users),h.setArrRoles(B.roles),h.setSpaceId(B.spaceId),h.setSpaceType(B.spaceType))};this.cloneMe=function(){var B=new Y;B.setId(h.getId());B.setName(h.getName());B.setCreatorId(h.getCreatorId());B.setCreatorName(h.getCreatorName());B.setCreateTime(h.getCreateTime());B.setCreateFormatTime(h.getCreateFormatTime());B.setPublishSourceType(h.getPublishSourceType());B.setPath(h.getPath());B.setArrRoles(h.getArrRoles());B.setArrUsers(h.getArrUsers());B.setSpaceId(h.getSpaceId());B.setSpaceType(h.getSpaceType());
return B}}function ka(){var h,B,W,X,O,ca,xa,P=[],U=[],Pa,la,Za;this.setId=function(G){h=G};this.getId=function(){return h};this.setName=function(G){B=G};this.getName=function(){return B};this.setCreatorId=function(G){W=G};this.getCreatorId=function(){return W};this.setCreatorName=function(G){X=G};this.getCreatorName=function(){return X};this.setCreateTime=function(G){O=G};this.getCreateTime=function(){return O};this.setCreateFormatTime=function(G){ca=G};this.getCreateFormatTime=function(){return ca};
this.setPublishSourceType=function(G){xa=G};this.getPublishSourceType=function(){return xa};this.setArrUsers=function(G){U=G};this.getArrUsers=function(){return U};this.setArrRoles=function(G){P=G};this.getArrRoles=function(){return P};this.setPath=function(G){Pa=G};this.getPath=function(){return Pa};this.isPreset=function(){return W==Ca};this.getSpaceId=function(){return la};this.setSpaceId=function(G){la=G};this.getSpaceType=function(){return Za};this.setSpaceType=function(G){Za=G}}function sa(){var h=
this,B=!1,W=[],X,O,ca,xa,P,U,Pa,la,Za;this.fromJsonObject=function(G){if(G){h.setRptId(G.rptId);h.setRptName(G.rptName);h.setRptPath(G.rptPath);h.setCreatorName(G.creatorName);h.setCreateTime(G.createTime);h.setCreateFormatTime(G.createFormatTime);h.setDeleted(G.isDelete);h.setSpaceType(G.spaceType);h.setSpaceId(G.spaceId);G=G.snapinfoList;var da=h.getArrSnapChildren(),ab;for(ab in G){var hb=new Ha;hb.fromJsonObject(G[ab]);hb.setParent(h);da.push(hb)}}};this.cloneMe=function(){var G=new sa;G.setRptId(h.getRptId());
G.setRptName(h.getRptId());G.setRptPath(h.getRptId());G.setCreatorName(h.getRptId());G.setCreateTime(h.getRptId());G.setDeleted(h.getDeleted());G.setSpaceType(h.getSpaceType());G.setSpaceId(h.getSpaceId());for(var da in h.getArrSnapChildren()){var ab=h.getArrSnapChildren()[da].cloneMe();G.addSnapToReport(ab)}return G};this.setSpaceId=function(G){Za=G};this.getSpaceId=function(){return Za};this.setSpaceType=function(G){la=G};this.getSpaceType=function(){return la};this.setDeleted=function(G){Pa=1==
G?!0:!1};this.getDeleted=function(){return Pa};this.getRptId=function(){return X};this.setRptId=function(G){X=G};this.getIsCheck=function(){for(var G=0;G<W.length;G++)if(!W[G].getIsCheck())return!1;return!0};this.setIsCheck=function(G){for(var da=0;da<W.length;da++)W[da].setIsCheck(G)};this.getIsExpand=function(){return B};this.setIsExpand=function(G){B=G};this.getArrSnapChildren=function(){return W};this.addSnapToReport=function(G){W.push(G)};this.setArrSnapChildren=function(G){W=G};this.getRptName=
function(){return O};this.setRptName=function(G){O=G};this.getRptPath=function(){return ca};this.setRptPath=function(G){ca=G};this.getCreatorName=function(){return xa};this.setCreatorName=function(G){xa=G};this.getCreateTime=function(){return P};this.setCreateTime=function(G){P=G};this.getCreateFormatTime=function(){return U};this.setCreateFormatTime=function(G){U=G}}function Ha(){var h=this,B,W,X,O,ca,xa,P=!1,U,Pa;this.fromJsonObject=function(la){la&&(h.setId(la.snapId),h.setName(la.snapName),h.setPathName(la.pathName),
h.setCreatorName(la.creatorName),h.setCreateTime(la.createTime),h.setCreateFormatTime(la.createFormatTime),h.setPath(la.pathId))};this.cloneMe=function(){var la=new Ha;la.setId(h.getId());la.setName(h.getName());la.setPathName(h.getPathName());la.setCreatorName(h.getCreatorName());la.setCreateTime(h.getCreateTime());la.setPath(h.getPath());la.setParent(h.getParent());return la};this.getPath=function(){return Pa};this.setPath=function(la){Pa=la};this.getParent=function(){return U};this.setParent=function(la){U=
la};this.getIsCheck=function(){return P};this.setIsCheck=function(la){P=la};this.getId=function(){return B};this.setId=function(la){B=la};this.getName=function(){return W};this.setName=function(la){W=la};this.getPathName=function(){return X};this.setPathName=function(la){X=la};this.getCreatorName=function(){return O};this.setCreatorName=function(la){O=la};this.getCreateTime=function(){return ca};this.setCreateTime=function(la){ca=la};this.getCreateFormatTime=function(){return xa};this.setCreateFormatTime=
function(la){xa=la}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.access&&(com.kingdee.bos.qing.access={});"undefined"==typeof com.kingdee.bos.qing.access.model&&(com.kingdee.bos.qing.access.model={});var pa=com.kingdee.bos.qing.access.model;
pa.DataAccessionDetailModel=function(){L.call(this);var h,B,W;this.getIsDeleted=function(){return W};this.setPubName=function(ca){h=ca};this.getPubName=function(){return h};this.setPubPath=function(ca){B=ca};this.getPubPath=function(){return B};var X=this.fromJsonObject;this.fromJsonObject=function(ca){ca&&(X(ca),h=ca.pubName,B=ca.pubPath,W=ca.isDeleted)};var O=this.toJsonObject;this.toJsonObject=function(){var ca=O();ca.pubName=h;ca.pubPath=B;ca.isDeleted=W;return ca}};pa.UserAccessionDetailModel=
function(){L.call(this);var h,B;this.setUserId=function(O){h=O};this.getUserId=function(){return h};this.setUserName=function(O){B=O};this.getUserName=function(){return B};var W=this.fromJsonObject;this.fromJsonObject=function(O){O&&(W(O),h=O.userId,B=O.userName)};var X=this.toJsonObject;this.toJsonObject=function(){var O=X();O.userId=h;O.userName=B;return O}};pa.UserAccessModel=function(){x.call(this);var h,B;this.setUserId=function(O){h=O};this.getUserId=function(){return h};this.setUserName=function(O){B=
O};this.getUserName=function(){return B};var W=this.fromJsonObject;this.fromJsonObject=function(O){O&&(W(O),h=O.userId,B=O.userName)};var X=this.toJsonObject;this.toJsonObject=function(){var O=X();O.userId=h;O.userName=B;return O}};pa.DataAccessModel=function(){x.call(this);var h,B,W,X,O,ca,xa,P,U,Pa,la;this.isPreset=function(){return xa==Ca};this.getIsDeleted=function(){return P};this.setSourceId=function(da){h=da};this.getSourceId=function(){return h};this.setPubName=function(da){B=da};this.getPubName=
function(){return B};this.setPubPath=function(da){W=da};this.getPubPath=function(){return W};this.setCreateTime=function(da){X=da};this.getCreateTime=function(){return X};this.setCreateFormatTime=function(da){O=da};this.getCreateFormatTime=function(){return O};this.setCreatorName=function(da){ca=da};this.getCreatorName=function(){return ca};this.setCreateId=function(da){return xa=da};this.getCreateId=function(){return xa};this.setSpaceType=function(da){U=da};this.getSpaceType=function(){return U};
this.setSpaceName=function(da){Pa=da};this.getSpaceName=function(){return Pa};this.setSpaceId=function(da){la=da};this.getSpaceId=function(){return la};var Za=this.fromJsonObject;this.fromJsonObject=function(da){da&&(Za(da),h=da.sourceId,B=da.pubName,W=da.pubPath,X=da.createTime,O=da.createFormatTime,ca=da.creator,xa=da.creatorId,P=da.isDeleted,U=da.spaceType,Pa=da.spaceName,la=da.spaceId)};var G=this.toJsonObject;this.toJsonObject=function(){var da=G();da.sourceId=h;da.pubName=B;da.pubPath=W;da.createTime=
X;da.creator=ca;da.creatorId=xa;da.isDeleted=P;da.spaceName=Pa;da.spaceType=U;da.spaceId=la;return da}};pa.DetailModel=L;pa.PublishModel=Y;pa.ReportModel=sa;pa.SnapModel=Ha;var Ca="100000"})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.estabilish&&(com.kingdee.bos.qing.estabilish={});"undefined"==typeof com.kingdee.bos.qing.estabilish.common&&(com.kingdee.bos.qing.estabilish.common={});var x=com.kingdee.bos.qing.estabilish.common;x.EstablishAspectServiceFacade=function(Y,
ka,sa,Ha){L.call(this,Y,ka,sa,Ha);var pa=this.protectedMethod;pa.setShowBlocking(!0);this.loadNumericCreateRecordByIds=function(Ca,h,B,W,X,O,ca){Ca={creatorIds:JSON.stringify(Ca),spaceType:h,searchText:B,targetPage:W,pageSize:X,field:O,order:ca};pa.remote("loadNumericCreateRecordByIds",Ca)};this.loadDetailBySinglePersonAndType=function(Ca,h,B,W,X,O,ca){pa.remote("loadDetailBySinglePersonAndType",{creatorId:Ca,type:h,spaceType:B,field:W,order:X,targetPage:O,pageSize:ca})};this.loadDetailFromDataAspect=
function(Ca,h,B,W,X,O,ca,xa,P){Ca={types:JSON.stringify(Ca),creatorIds:JSON.stringify(h),name:B,spaceType:W,searchText:X,field:O,order:ca,targetPage:xa,pageSize:P};pa.remote("loadDetailFromDataAspect",Ca)};this.exportExcel=function(Ca){pa.remote("exportExcel",Ca)}};var L=com.kingdee.bos.qing.framework.common.AbstractFacade;x.EXPORT_TYPE={};x.EXPORT_TYPE.CREATOR_INDEX=0;x.EXPORT_TYPE.CREATOR_DATASET=1;x.EXPORT_TYPE.CREATOR_REPORT=2;x.EXPORT_TYPE.CREATOR_PUBLISH=3;x.EXPORT_TYPE.CREATOR_SNAPSHOT=4;x.EXPORT_TYPE.CREATOR_TOTAL=
5;x.EXPORT_TYPE.DATA_INDEX=6;x.DATATYPE=new function(){this.DATASET=0;this.REPORT=1;this.PUBLISH=2;this.SNAPSHOT=3;this.TOTAL=4}})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.access&&(com.kingdee.bos.qing.access={});"undefined"==typeof com.kingdee.bos.qing.access.common&&(com.kingdee.bos.qing.access.common={});var x=com.kingdee.bos.qing.access.common;
x.AccessAspectServiceFacade=function(ka,sa,Ha,pa){L.call(this,ka,sa,Ha,pa);var Ca=this.protectedMethod;Ca.setShowBlocking(!0);this.loadDataAspectIndex=function(h,B,W,X,O,ca,xa,P,U,Pa,la){h={arrPublishId:JSON.stringify(h),arrSnapId:JSON.stringify(B),arrCreatorId:JSON.stringify(W),startTime:X,endTime:O,spaceType:ca,searchText:xa,field:P,order:U,targetPage:Pa,pageSize:la,timeZone:(new Date).getTimezoneOffset()/60};Ca.remote("loadDataAspectIndex",h)};this.loadDataAspectAccessRecord=function(h,B,W,X,O,
ca,xa){h={sourceId:h,startTime:B,endTime:W,field:X,order:O,targetPage:ca,pageSize:xa,timeZone:(new Date).getTimezoneOffset()/60};Ca.remote("loadDataAspectAccessRecord",h)};this.loadDataAspectDetailRecord=function(h,B,W,X,O,ca,xa,P,U,Pa){h={sourceId:h,userId:B,operationType:W,startTime:X,endTime:O,field:ca,order:xa,targetPage:P,pageSize:U,totalRows:Pa,timeZone:(new Date).getTimezoneOffset()/60};Ca.remote("loadDataAspectDetailRecord",h)};this.loadDataAspectDetailRecordWithUser=function(h,B,W,X,O,ca,
xa,P,U){h={sourceId:h,operationType:B,startTime:W,endTime:X,field:O,order:ca,targetPage:xa,pageSize:P,totalRows:U,timeZone:(new Date).getTimezoneOffset()/60};Ca.remote("loadDataAspectDetailRecordWithUser",h)};this.loadUserAspectIndex=function(h,B,W,X,O,ca,xa){h={arrUserId:JSON.stringify(h),startTime:B,endTime:W,field:X,order:O,targetPage:ca,pageSize:xa,timeZone:(new Date).getTimezoneOffset()/60};Ca.remote("loadUserAspectIndex",h)};this.loadUserAspectAccessModel=function(h,B,W,X,O,ca,xa){h={userId:h,
startTime:B,endTime:W,field:X,order:O,targetPage:ca,pageSize:xa,timeZone:(new Date).getTimezoneOffset()/60};Ca.remote("loadUserAspectAccessModel",h)};this.loadUserAspectDetailModel=function(h,B,W,X,O,ca,xa,P,U,Pa){h={sourceId:h,userId:B,operationType:W,startTime:X,endTime:O,field:ca,order:xa,targetPage:P,pageSize:U,totalRows:Pa,timeZone:(new Date).getTimezoneOffset()/60};Ca.remote("loadUserAspectDetailModel",h)};this.loadUserAspectDetailModelWithData=function(h,B,W,X,O,ca,xa,P,U){h={userId:h,operationType:B,
startTime:W,endTime:X,field:O,order:ca,targetPage:xa,pageSize:P,totalRows:U,timeZone:(new Date).getTimezoneOffset()/60};Ca.remote("loadUserAspectDetailModelWithData",h)};this.exportExcel=function(h){Ca.remote("exportExcel",h)}};x.RemoteImpl=function(){Y.call(this);var ka;this.getRemoteUrl=function(){return ka};this.setRemoteUrl=function(sa){ka=sa}};x.SelectPublishNameFacade=function(ka,sa,Ha,pa){L.call(this,ka,sa,Ha,pa);var Ca=this.protectedMethod;Ca.setShowBlocking(!0);this.getPublishMenuTree=function(){Ca.remote("getPublishMenuTree",
{})};this.getRptPublishMenuTree=function(h,B){Ca.remote("getRptPublishMenuTree",{searchMenuText:h,searchDataText:B})};this.getRptPublishDataByPath=function(h,B,W,X,O,ca){h={arrRelationId:JSON.stringify(h),pathType:B,searchText:W,targetPage:X,pageSize:O,callBackTime:ca};Ca.remote("getRptPublishDataByPath",h)};this.getRptSnapMenuTree=function(h,B){Ca.remote("getRptSnapMenuTree",{searchMenuText:h,searchDataText:B})};this.getRptSnapShotByPath=function(h,B,W,X,O){h={arrRelationId:JSON.stringify(h),searchText:B,
targetPage:W,pageSize:X,callBackTime:O};Ca.remote("getRptSnapShotByPath",h)};this.getRptSnapCountInMenu=function(h){Ca.remote("getRptSnapCountInMenu",{searchText:h})}};var L,Y;(function(){var ka=com.kingdee.bos.qing.framework.common;L=ka.AbstractFacade;Y=ka.AbstractRemoteCall})()})();(function(){function x(a,c,b,d){T.call(this,a,c,b,d);var r=this.protectedMethod;r.setShowBlocking(!0);this.checkPermission=function(){var f={};f.appID=ea.getUrlParamValue("appID");r.remote("checkPermission",f)}}function L(){var a=this,c=(new Date).getTime(),b,d,r;this.setFilePrefix=function(f){b=f?f.replace(/\s+/g,"_"):"Qing-"};this.exportExcel=function(f,t,A){var n=(b?b:"Qing-")+lb.formatDate("yyyyMMdd_HHmmss")+".xlsx",p=function(aa){ob.downloadFile(n,aa);Aa.interestInBehavior(Aa.EXPORT_TYPE,"EXCEL",
(new Date).getTime()-c)},u=function(aa,C){a.getMessageCurtain().showPrompt(C)},J=ya.createFeedbackDialog();J.setOptionType(ya.OPTION_OK_CANCEL);J.setMessage(F.get("confirmToExport","\u5f53\u524d\u64cd\u4f5c\u5c06\u5bfc\u51fa#1\u6761\u8bb0\u5f55\uff0c\u662f\u5426\u786e\u5b9a\u5bfc\u51fa\uff1f").replace("#1",A));J.setClosingChecker(function(aa){aa==ya.RETURN_OK&&d(f,t,p,u);return!0});J.showDialog()};this.setExportExcelHanlder=function(f){d=f};this.getMessageCurtain=function(){null==r&&(r=new ta,r.getJqUi().appendTo($("#switch-tab")));
return r}}function Y(){z.call(this);this.protectedMethod.setTotalSelectedRowAndSelectedAllVisual(!1,!1)}function ka(){var a,c=[],b;this.getJqUi=function(){a||(a=$("<div class='rpt-statistic-foot'>"));return a};this.updateTotalColumn=function(d,r){a.empty();for(var f,t=0,A=0;A<d.getColumnsCount();A++)c[A]=$("<div>"),c[A].addClass("rpt-statistic-foot-sum"),c[A].appendTo(a),f=d.getColumn(A).getWidth(),c[A].css("width",f),c[A].text(b[A]),c[A].css("left",t),t+=f;c[0].css({color:"#666","text-align":"left",
"padding-left":"8px","padding-right":"8px"});void 0!==r&&E.layoutCtrl(a,-r,null,t+r,null)};this.setArrTotalText=function(d){b=d}}function sa(){var a=this,c=!1,b,d,r,f,t,A=[],n,p=0,u=0,J,aa,C,Z,ma=!1,w,Q,H,k=!1,l,q,N,fa,ha=1;this.createSortTable=function(){n=$("<div>");aa&&na(n);n.append(Ua());if(ma){var qa=n;Q=new ka;w=Q.getJqUi();w.css("display","none");qa.append(w)}return n};var na=function(qa){Z=new Y;Z.setJumpToPageListener(function(Sa,Qa,Ya){a.changePageListener(Sa,Qa,Ya)});Z.setComboBoxItemModelsAndSelectedItem([5,
10,20,50,100,500,1E3],2);C=Z.getJqUi();C.css({display:"none",padding:"0px 4px 0px 7px",width:"100%",top:"0px"});qa.append(C)},Ua=function(){d=Ga.createTable();d.setColumnFitVisibleWidth(!0);d.setDraggableAdjusting(!0,3,0,new Ca);d.setSyncMergeBlockWhenModelChanged(!1);d.setMergeBlockTextVisibleAlways(!0);var qa=new cb(d);qa.setOutsideVisible(!1);d.setCellRender(qa);d.setSyncUIWhenModelChanged(!0);k&&d.setCellAcrossListener(function(Qa,Ya,db){var ib=Qa&&0<Qa.length?Qa[0]:null;l!=ib&&(l&&(fa.hideSortingTips($(l)),
l=null),1==Ya&&0<=db&&f[db].getSortable()&&(fa||(fa=new Ha,fa.setDefaultField(f[t].getField()),fa.setFunSortchangeListener(function(fb){if(fb)var $a=fb;else $a=new pa,$a.setOrder(pa.ORDER_DESC);q=!0;fb=$a.getField();$a=$a.getOrder();a.changeSortListener(fb,$a)})),fa.showSortingTips(Qa,f[db].getField(),ha),l=ib))});jb();r=$(d.getUI());var Sa;r.children().first().scroll(function(){var Qa=$(this).scrollLeft();clearTimeout(Sa);Sa=setTimeout(function(){a.updateTotalComponent(A,Qa)},10)});r.addClass("rpt-statistic-detail-content-table");
r.children("div:nth-child(2)").on("mousedown",function(Qa){J=!0;p=Qa.screenX;u=Qa.screenY});document.addEventListener("mouseup",function(Qa){!J||p==Qa.screenX&&u==Qa.screenY||(J=!1,a.updateTotalComponent(A))});return r},jb=function(){d.addColumns(f.length);for(var qa=0;qa<f.length;qa++)d.getColumn(qa).setWidth(f[qa].getWidthRatio());var Sa=Ga.createHeadRow(d);for(qa=0;qa<f.length;qa++)Sa.getCell(qa).setValue(f[qa].getName())};this.getTable=function(){return d};this.getJqTable=function(){return r};
this.setIconRightPx=function(qa){ha=qa};this.refreshTable=function(){"none"!=r.css("display")&&(Ga.refresh(d),a.updateTotalComponent(A))};this.relayoutTable=function(){ma&&"none"!=w.css("display")?r.css("height","calc(100% - 67px)"):r.css("height","calc(100% - 32px)")};this.setFuncResolveObjectToTotalArr=function(qa){H=qa};var cb=function(qa){KTDefaultCellRender.call(this,qa);var Sa=this,Qa=this.paintCellUI;this.paintCellUI=function(Ya,db){var ib=Sa.getCurrentRowIdx(),fb=Sa.getCurrentRow(),$a=Sa.getCurrentColIdx(),
pb=fb.getUserObject();1==ib&&k?(Qa(Ya,db),fa&&0<=$a&&f[$a].getSortable()&&(q?fa.addSortingTips($(Ya),f[$a].getField(),ha):$a!=t&&fa.addSortingTips($(Ya),f[$a].getField(),ha)),$a!=t||q||(N=new Ha,N.setDefaultField(f[t].getField()),N.setFunSortchangeListener(function(D){if(D){var R=D;fa.setShowSortingModel(N.getShowSortingModel())}else R=new pa,R.setField(f[t].getField()),R.setOrder(pa.ORDER_DESC);q=!0;D=R.getField();R=R.getOrder();a.changeSortListener(D,R)}),N.addDefaultSortingTips($(Ya),f[$a].getField(),
ha))):ib<Ga.getHeadRowCount()?Qa(Ya,db):a.cellShow(Ya,ib,fb,$a,pb)}};this.cellShow=function(qa,Sa,Qa,Ya,db){throw Error("Override");};this.updateTable=function(qa){qa&&(b=qa);if(b&&0!=document.body.clientHeight&&0!=document.body.clientWidth)if(qa=b,c=!0,Ga.clearWithoutHead(d),d.setSyncUIWhenModelChanged(!1),qa&&0<qa.length){r.css("display","block");a.showOrHideContent(!0);for(var Sa in f)f[Sa].getSortable()&&(A[Sa]=0);for(Sa=0;Sa<qa.length;Sa++){var Qa=qa[Sa];if(ma&&H)for(var Ya=H(Qa),db=0;db<f.length;db++)f[db].getCalculable()&&
(A[db]+=Ya[db]);Ya=Ga.createRow(d);Ya.setHeight(30);Ya.setUserObject(Qa)}d.setSyncUIWhenModelChanged(!0);Ga.refresh(d);a.updateTotalComponent(A)}else r.css("display","none"),a.showOrHideContent(!1)};this.isTableInited=function(){return c};this.showOrHideContent=function(qa){throw Error("Override");};this.setSortEnabled=function(qa){k=qa};this.setSortTableHeads=function(qa,Sa){f=qa;t=Sa;for(var Qa in f)f[Qa].getSortable()&&(k=!0),f[Qa].getCalculable()?(ma=!0,A.push(0)):A.push("");A[0]=F.get("total",
"\u5408\u8ba1")};this.getDefaultSortField=function(){return f[t].getField()};this.getDefaultSortOrder=function(){return"DESC"};this.changeSortListener=function(qa,Sa){throw Error("Override");};this.changePageListener=function(qa,Sa,Qa){throw Error("Override");};this.setEnablePagination=function(qa){aa=qa};this.getJqUiPagination=function(){return C};this.getPaginationBar=function(){return Z};this.setEnableAggregate=function(qa){ma=qa};this.getJquiTotalComponent=function(){return w};this.updateTotalComponent=
function(qa,Sa){qa&&(Q&&Q.setArrTotalText(qa),Q&&Q.updateTotalColumn(a.getTable(),Sa))}}function Ha(){var a,c,b,d;this.setShowSortingModel=function(n){b=n};this.getShowSortingModel=function(){return b};this.setFunSortchangeListener=function(n){d=n};this.setDefaultField=function(n){a=n};this.showSortingTips=function(n,p,u){var J=n.find(".detaillist-sort-box");0==J.length&&(J=new pa,J.setField(p),J.setOrder(null),J=A(n,J,u),n.append(J));J.addClass("detaillist-sort-box_clickable")};this.hideSortingTips=
function(n){n=n.find(".detaillist-sort-box");n.removeClass("detaillist-sort-box_clickable");r(n)};this.addSortingTips=function(n,p,u){b&&null!=b.getOrder()&&b.getField()==p&&(p=A(n,b,u),n.append(p))};this.addDefaultSortingTips=function(n,p,u){var J=new pa;J.setField(p);J.setOrder(pa.ORDER_DESC);p=A(n,J,u);n.append(p)};var r=function(n){var p=n.data("sortable-data");p&&null==p.getOrder()&&n.remove()},f=function(n,p){var u=Ha.BOX_LEN-2,J=$("<div>");Na.background(J,"icon_sortable-v");J.attr("title",
F.get("sort","\u6392\u5e8f"));J.addClass("detaillist-sort-box");J.css("left",n);J.css("top",p);J.css("width",u);J.css("height",u);return J},t=function(n){var p=n.data("sortable-data");p.getOrder()==pa.ORDER_ASC?Na.background(n,"icon_sort-asc-esc"):p.getOrder()==pa.ORDER_DESC?Na.background(n,"icon_sort-asc-desc"):p.getOrder()||Na.background(n,"icon_sortable-v")},A=function(n,p,u){var J=n.width();n=n.height();u=f(J-Ha.BOX_LEN-u,n-Ha.BOX_LEN-1);u.data("sortable-data",p);t(u);u.on("click",function(aa){aa=
$(aa.currentTarget);var C=aa.data("sortable-data");C.getField()==a?C.getOrder()==pa.ORDER_ASC?C.setOrder(pa.ORDER_DESC):C.getOrder()==pa.ORDER_DESC?C.setOrder(pa.ORDER_ASC):C.getOrder()||C.setOrder(pa.ORDER_ASC):C.getOrder()==pa.ORDER_ASC?C.setOrder(pa.ORDER_DESC):C.getOrder()==pa.ORDER_DESC?C.setOrder(null):C.getOrder()||C.setOrder(pa.ORDER_ASC);aa.data("sortable-data",C);t(aa);r(aa);c&&c[0]!=aa[0]&&c&&c.remove();c=aa;b=C;d&&d(c?c.data("sortable-data"):null)});return u}}function pa(){var a,c;this.getOrder=
function(){return a};this.setOrder=function(b){a=b};this.getField=function(){return c};this.setField=function(b){c=b}}function Ca(){this.getTailBlankForDragging=function(){return-1};this.isRowDraggable=function(a,c){return!1};this.isColumnDraggable=function(a,c){return a.getColumnsCount()==c+1?!1:!0};this.getMinRowHeightLimited=function(a,c){return 3};this.getMinColumnWidthLimited=function(a,c){return 4};this.rowDraggedAction=function(a,c,b){var d=a.isSyncUIWhenModelChanged();a.setSyncUIWhenModelChanged(!0);
c=a.getRow(c);c.setHeight(c.getHeight()+b);a.setSyncUIWhenModelChanged(d)};this.setMinColumnWidth=function(a){};this.columnDraggedAction=function(a,c,b){var d=a.isSyncUIWhenModelChanged();a.setSyncUIWhenModelChanged(!0);c=a.getColumn(c);c.setWidth(c.getWidth()+b);a.setSyncUIWhenModelChanged(d)}}function h(){Ba.call(this);var a=this,c=this.protectedMethod,b,d,r,f,t,A,n={},p,u,J=ua.PUBLISH_TAB,aa,C,Z,ma,w,Q,H,k,l;(function(){a.setSize(1038,580);c.getDialogCtrl().setMinSize(1038,580);c.setTitle(F.get("pubOrSnap",
"\u53d1\u5e03/\u5feb\u7167\u540d\u79f0"));c.setSelectable(!0);c.getDialogCtrl().setFullScreenEnabled();c.getDialogCtrl().setResizeEnabled();c.getDialogCtrl().addResizeListener(function(){a.relayoutViews()});c.setContentPaneCreator(function(){var ha=$("<div>"),na=$("<div>");na.addClass("select-filter-head");na.appendTo(ha);q().appendTo(na);na=$("<div>");na.addClass("select-filter-data-content");na.appendTo(ha);b=$("<div>");d=$("<div>");d.css("border-right","1px solid #E5E5E5");d.css("border-left",
"1px solid #E5E5E5");f=new g;f.setHorizontalSplit(!0);f.setEnabled(!0);f.setFirstSize(200,200,300);f.setSecondSize(600,0,-1);f.setResizeMode(g.RESIZE_MODE_FIRST_FIXED);f.setFirstChild(g.createChildWrapper(b));f.setSecondChild(g.createChildWrapper(d));r=$("<div>");t=new g;t.setHorizontalSplit(!0);t.setEnabled(!0);t.setFirstSize(808,-1,-1);t.setSecondSize(200,200,300);t.setResizeMode(g.RESIZE_MODE_SECOND_FIXED);t.setFirstChild(f);t.setSecondChild(g.createChildWrapper(r));t.getJqUi().appendTo(na);N();
Z=$("<div>");Z.hide();C=$("<div>");C.addClass("rpt-statistic-tips");na=$("<div>");na.addClass("rpt-statistic-tips-background");na.css({width:"400px",height:"280px","background-size":"contain"});Na.background(na,"tips-background");var Ua=$("<div>");Ua.addClass("rpt-statistic-tips-text");Ua.text(F.get("SelectMenuMessage","\u8bf7\u70b9\u51fb\u5de6\u4fa7\u83dc\u5355\u8fdb\u884c\u67e5\u770b"));C.append(na);C.append(Ua);C.appendTo(d);Z.addClass("rpt-statistic-tips");na=$("<div>");na.addClass("rpt-statistic-tips-background");
Na.background(na,"nodata");Ua=$("<div>");Ua.addClass("rpt-statistic-tips-text");Ua.text(F.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u7b5b\u9009\u6761\u4ef6\u7684\u7ed3\u679c"));Z.append(na);Z.append(Ua);Z.appendTo(d);u=new W;u.setCurrentTab(ua.PUBLISH_TAB);u.setMapSelectPublish(n);u.setSelectedPane(A);u.setJqTips(C,Z,Ua);u.setMessageCurtain(c.getMessageCurtain());u.createTableJqUi(d);fa();return ha});c.setClosingAction(function(ha){ha&&p(n)})})();var q=function(){H=new Da;H.setSearchListenerDelay(0);
H.setPlaceholder(F.get("searchPubSnap","\u641c\u7d22\u53d1\u5e03/\u5feb\u7167\u540d\u79f0"));H.setShowSearchIcon(!0);k=H.getJqUi();k.addClass("select-filter-searchBox");k.find(".sa-ctrl-searchbox-close").css({"margin-top":"-7px",height:"14px","line-height":"14px",width:"14px"});H.addEnterEventListener(function(){var ha=H.getText().trim();ha!=l&&(l=ha);u.setToMatchText(l);aa.searchCountInMenu(l)});H.addClearIconListener(function(){l="";u.setToMatchText(l);aa.searchCountInMenu(l)});return k},N=function(){A=
new B;A.setSelectedMap(n);A.addDeleteListener(function(){u.refreshTable()});A.getJqUi().appendTo(r)},fa=function(){w=new O;w.setOnSelectedChangeListener(u.onSelectedChangeListener);w.setMessageCurtain(c.getMessageCurtain());w.setSelectTable(u);u.setPublishTablePane(w);Q=new ca;Q.setOnSelectedChangeListener(u.onSelectedChangeListener);Q.setMessageCurtain(c.getMessageCurtain());Q.setSelectTable(u);u.setSnapShotPushTablePane(Q);ma=new m;ma.addTab(w,!0);ma.addTab(Q);ma.addTabChangedListener(function(na,
Ua){u.resetCallBackTime();Ua.getType()==ua.PUBLISH_TAB?(J=ua.PUBLISH_TAB,aa=w,u.setCurrentTab(ua.PUBLISH_TAB)):Ua.getType()==ua.SNAPSHOT_TAB&&(J=ua.SNAPSHOT_TAB,aa=Q,u.setCurrentTab(ua.SNAPSHOT_TAB));if(J==ua.PUBLISH_TAB)var jb=["#",F.get("name","\u540d\u79f0"),F.get("owner","\u62e5\u6709\u8005"),F.get("authorize","\u6388\u6743"),F.get("publishTime","\u53d1\u5e03\u65f6\u95f4")],cb=[20,75,75,75,80];else J==ua.SNAPSHOT_TAB&&(jb=["#",F.get("name","\u540d\u79f0"),F.get("path","\u8def\u5f84"),F.get("owner",
"\u62e5\u6709\u8005"),F.get("createTime","\u521b\u5efa\u65f6\u95f4")],cb=[20,75,75,75,80]);u.resetHeader(jb,cb);aa.searchCountInMenu(l)});var ha=ma.getJqUi();ha.children(".sa-ctrl-tab-head").css("width","49%");ha.appendTo(b)};this.relayoutViews=function(){f&&f.resize();t&&t.resize();u.refreshTable()};this.setConfirmCallBack=function(ha){p=ha};this.setMapSelectPublish=function(ha){n=ha}}function B(){var a=this,c,b,d,r,f=[],t={};this.getJqUi=function(){if(!c){c=$("<div>");c.css({height:"100%",width:"100%"});
var p=$("<div>");p.css("height","35px");p.appendTo(c);b=$("<div>");b.text(F.get("selected","\u5df2\u9009(#)").replace("#",Object.keys(t).length));b.addClass("select-publish-selected");b.appendTo(p);var u=new v(F.get("clearAll","\u5168\u90e8\u6e05\u9664"));u.addActionListener(A);d=u.getJqUi();E.layoutCtrlWithLRTB(d,null,15,60,10,null,20);d.appendTo(p);r=$("<ol>");r.addClass("select-publish-selected-ol");r.appendTo(c);a.syncUiBySelectMap()}return c};var A=function(){var p=Object.keys(t),u;for(u in p)delete t[p[u]];
a.syncUiBySelectMap();n()};this.syncUiBySelectMap=function(){r.empty();var p=Object.keys(t);b.text(F.get("selected","\u5df2\u9009(#)").replace("#",Object.keys(t).length));if(!(null==p||0>=p.length))for(var u in p){var J=t[p[u]],aa=J.getName(),C=$("<li>");C.addClass("select-publish-selected-li");C.attr("title",aa);var Z=$("<div>");Z.text(aa);Z.addClass("select-publish-selected-li-text");aa=$("<div>");aa.hide();aa.addClass("select-publish-selected-li-icon");Na.background(aa,"selected_btn_delete");aa.data("oSelectedModel",
J);aa.on("click",function(ma){ma.stopPropagation();ma=$(ma.currentTarget).data("oSelectedModel");delete t[ma.getId()];a.syncUiBySelectMap();n()});C.on("mouseenter",function(ma){$(ma.currentTarget.children[1]).show()});C.on("mouseleave",function(ma){$(ma.currentTarget.children[1]).hide()});Z.appendTo(C);aa.appendTo(C);C.appendTo(r)}};var n=function(){for(var p in f)(0,f[p])()};this.addDeleteListener=function(p){f.push(p)};this.setSelectedMap=function(p){t=p}}function W(){hb.call(this);var a=this,c,
b,d,r,f={},t={},A,n={},p=0,u,J,aa,C,Z,ma,w,Q,H,k,l,q,N,fa,ha;var na=["#",F.get("name","\u540d\u79f0"),F.get("owner","\u62e5\u6709\u8005"),F.get("authorize","\u6388\u6743"),F.get("publishTime","\u53d1\u5e03\u65f6\u95f4")];var Ua=[20,75,75,75,80];this.createTableJqUi=function(D){jb();c=Ga.createTable();c.setColumnFitVisibleWidth(!0);c.setSyncMergeBlockWhenModelChanged(!1);c.setMergeBlockTextVisibleAlways(!0);c.setSyncUIWhenModelChanged(!1);c.setDraggableAdjusting(!0,3,0,new Ca);var R=new cb(c);R.setOutsideVisible(!1);
c.setCellRender(R);c.setSyncUIWhenModelChanged(!0);c.addColumns(na.length);for(R=0;R<Ua.length;R++)c.getColumn(R).setWidth(Ua[R]);var Ea=Ga.createHeadRow(c);for(R=0;R<na.length;R++)Ea.getCell(R).setValue(na[R]);d=$(c.getUI());d.addClass("rpt-statistic-detail-content-table");d.addClass("rpt-statistic-publish-selector-content-table");J.appendTo(D);d.appendTo(D)};var jb=function(){u=new X;u.setJumpToPageListener(function(D,R,Ea){aa=D;C=R;ha==ua.PUBLISH_TAB?ib(!1,!1,Ea):fb(!1,!1,Ea)});u.setSelectedAllOrNotListener(function(D,
R){D?ha==ua.PUBLISH_TAB?ib(!1,!0):ha==ua.SNAPSHOT_TAB&&fb(!1,!0):(Ya(),a.refreshTable(),A.syncUiBySelectMap())});u.setComboBoxItemModelsAndSelectedItem([5,10,20,50,100,500,1E3],2);aa=u.getCurrentPage();C=u.getPageSize();J=u.getJqUi();J.css("display","none")},cb=function(D){KTDefaultCellRender.call(this,D);var R=this,Ea=this.paintCellUI;this.paintCellUI=function(va,K){var Va=R.getCurrentRowIdx(),ia=R.getCurrentRow(),V=R.getCurrentColIdx();ia=ia.getUserObject();if(Va<Ga.getHeadRowCount())Oa(va,K,Va,
V);else if(ia instanceof Ra)if(0==V)Wa(va,K,Va,V,ia);else{va=$(va);K=$("<div>");if(1==V)ia.isPreset()&&(V=$("<div>"),V.text(F.get("preset","\u9884\u7f6e")),V.addClass("select-publish-name-preset-tag"),V.css({"margin-left":"6px","margin-right":"-2px"}),V.appendTo(va)),va.append(Xa()),K.addClass("select-publish-name"),K.append(Ta.SplitMatchTextUtil.redTextAfterMatching(ia.getName(),ma)),K.attr("title",ia.getName());else if(2==V)V=ia.getCreatorName(),K.addClass("rpt-statistic-data-table-cell-left"),
K.text(V),K.attr("title",V),V&&"0"==ia.getSpaceType()&&a.viewCollaborationMember(va,ia);else if(3==V){V=F.get("unSelectUserOrRole","\u672a\u9009\u62e9\u7528\u6237");Va="";var Ka=ia.getArrUsers();ia=ia.getArrRoles();Ka&&0<Ka.length&&(V=Va=F.get("Users","\u7528\u6237#\u4e2a").replace("#",Ka.length));ia&&0<ia.length&&(V=""==Va?F.get("Roles","\u89d2\u8272#\u4e2a").replace("#",ia.length):V+","+F.get("Roles","\u89d2\u8272#\u4e2a").replace("#",ia.length));K.addClass("rpt-statistic-data-table-cell-left");
K.text(V);K.attr("title",V)}else 4==V&&(K.addClass("rpt-statistic-data-table-cell-left"),K.text(ia.getCreateFormatTime()),K.attr("title",ia.getCreateFormatTime()));va.append(K)}else ia instanceof eb?0==V?Ia(va,K,Va,V,ia):(va=$(va),K=$("<div>"),1==V?(K.addClass("select-publish-name"),ia.getDeleted()?(K.append(Ta.SplitMatchTextUtil.highLightAllContent(F.get("hasDeleted","\u5f53\u524d\u62a5\u8868\u5df2\u5220\u9664"))),K.attr("title",ia.getRptName()),K.css({"line-height":"28px","padding-left":"28px",
"padding-right":"2px"})):(V=Xa(),V.css("margin-left","20px"),va.append(V),K.append(Ta.SplitMatchTextUtil.redTextAfterMatching(ia.getRptName(),ma)),K.attr("title",ia.getRptName()),K.css({display:"float","padding-left":"3px"})),K.css({overflow:"hidden","text-overflow":"ellipsis"}),ia=qa(ia),ia.css("left","5px"),ia.attr("title","\u5c55\u5f00"),ia.appendTo(va)):2==V?(K.addClass("rpt-statistic-data-table-cell-left"),K.text(ia.getRptPath()),K.attr("title",ia.getRptPath())):3==V?(V=ia.getCreatorName(),K.addClass("rpt-statistic-data-table-cell-left"),
K.text(V),K.attr("title",V),V&&"0"==ia.getSpaceType()&&a.viewCollaborationMember(va,ia)):4==V&&(K.addClass("rpt-statistic-data-table-cell-left"),K.text(ia.getCreateFormatTime()),K.attr("title",ia.getCreateFormatTime())),va.append(K)):ia instanceof Fa&&(0==V?La(va,K,Va,V,ia):(va=$(va),K=$("<div>"),1==V?(K.addClass("select-publish-name"),K.append(Ta.SplitMatchTextUtil.redTextAfterMatching(ia.getName(),ma)),K.attr("title",ia.getName()),K.css({"line-height":"28px","padding-left":"28px","padding-right":"2px",
overflow:"hidden","text-overflow":"ellipsis"})):2==V?(K.addClass("rpt-statistic-data-table-cell-left"),K.text(ia.getPathName()),K.attr("title",ia.getPathName())):3==V?(K.addClass("rpt-statistic-data-table-cell-left"),K.text(ia.getCreatorName()),K.attr("title",ia.getCreatorName())):4==V&&(K.addClass("rpt-statistic-data-table-cell-left"),K.text(ia.getCreateFormatTime()),K.attr("title",ia.getCreateFormatTime())),va.append(K)))};var Oa=function(va,K,Va,ia){Ea(va,K);if(0==ia&&1==Va){$(va).children().css("display",
"none");K=!0;r=new e;for(var V in f)if(!f[V].isChecked()){K=!1;break}r.setChecked(K);r.addCheckedListener(function(Ka,Ja){if(Ja){Ka=Ka.isChecked();for(var bb in f)if(f[bb].setChecked(Ka),Ja=f[bb].getUserObject(),Ja instanceof eb)if(Ja=Ja.getArrSnapChildren(),Ka)for(bb in Ja)t[Ja[bb].getId()]=Ja[bb];else for(bb in Ja)delete t[Ja[bb].getId()];else Ka?t[Ja.getId()]=Ja:delete t[Ja.getId()];a.resetCurrentPaginationBarSelected();A.syncUiBySelectMap()}});V=r.getJqUi();E.layoutCtrl(V,12,2,23,23);V.appendTo(va)}else ha==
ua.SNAPSHOT_TAB&&1==ia&&1==Va&&(V=qa(null),E.layoutCtrl(V,5,2,23,23),V.appendTo(va))},Wa=function(va,K,Va,ia,V){va=$(va);K=new e;Va=V.getId();f[Va]=K;K.setChecked(!!t[Va]);K.setUserObject(V);K.addCheckedListener(function(Ka,Ja){if(Ja){Ja=Ka.isChecked();Ka=Ka.getUserObject();if(Ja){t[Ka.getId()]=Ka;A.syncUiBySelectMap();a.resetCurrentPaginationBarSelected();for(var bb in f)if(!f[bb].isChecked())return}else delete t[Ka.getId()],A.syncUiBySelectMap(),a.resetCurrentPaginationBarSelected();r.setChecked(Ja)}});
V=K.getJqUi();E.layoutCtrl(V,12,4,23,23);V.appendTo(va)},Ia=function(va,K,Va,ia,V){va=$(va);K=new e;Va=V.getRptId();f[Va]=K;Va=V.getArrSnapChildren();ia=!1;for(var Ka in Va){var Ja=!!t[Va[Ka].getId()];ia=ia||Ja;var bb=new e;bb.setChecked(Ja);bb.setUserObject(Va[Ka]);f[Va[Ka].getId()]=bb}K.setChecked(ia);K.setUserObject(V);K.addCheckedListener(function(kb,sb){if(sb)if(sb=kb.isChecked(),kb=kb.getUserObject().getArrSnapChildren(),sb){for(var nb in kb)t[kb[nb].getId()]=kb[nb],f[kb[nb].getId()].setChecked(!0);
A.syncUiBySelectMap();a.resetCurrentPaginationBarSelected();for(nb in f)if(!f[nb].isChecked())return;r.setChecked(!0)}else{for(nb in kb)delete t[kb[nb].getId()],f[kb[nb].getId()].setChecked(!1);r.setChecked(!1);A.syncUiBySelectMap();a.resetCurrentPaginationBarSelected()}});V=K.getJqUi();E.layoutCtrl(V,12,4,23,23);V.appendTo(va)},La=function(va,K,Va,ia,V){va=$(va);V=V.getId();V=f[V];V.addCheckedListener(function(Ka,Ja){if(Ja)if(Ja=Ka.isChecked(),Ka=Ka.getUserObject(),Ja)a:{t[Ka.getId()]=Ka,A.syncUiBySelectMap(),
a.resetCurrentPaginationBarSelected(),Ja=Ka.getParent(),Ka=Ja.getArrSnapChildren();Ja=f[Ja.getRptId()];for(var bb in Ka)if(!f[Ka[bb].getId()].isChecked()){Ja.setChecked(!1);r.setChecked(!1);break a}Ja.setChecked(!0);for(bb in f)if(!f[bb].isChecked())break a;r.setChecked(!0)}else delete t[Ka.getId()],Ja=Ka.getParent(),f[Ja.getRptId()].setChecked(!1),r.setChecked(!1),A.syncUiBySelectMap(),a.resetCurrentPaginationBarSelected()});V=V.getJqUi();E.layoutCtrl(V,12,4,23,23);V.appendTo(va)},Xa=function(){var va=
$("<div>");va.css({"float":"left",height:"16px",width:"16px","margin-top":"6px","margin-left":"5px"});Na.background(va,"icon-extreport");return va}},qa=function(D){var R=$('<div style="overflow: hidden; position: absolute; left: 4px; top: 0px; width: 16px; height: 30px; cursor: pointer; z-index: 2;"></div>'),Ea=$('<div style=" display:block; overflow: hidden; position: absolute; left: 2px; top: 7px; width: 9px; height: 9px; border: 1px solid rgb(138, 158, 191); border-radius: 3px; background-color: rgb(255, 255, 255);">\n<div style="overflow: hidden; position: absolute; left: 1px; top: 1px; width: 3px; height: 3px; border-bottom: 1px solid black; border-right: 1px solid black;"></div>\n<div style="overflow: hidden; position: absolute; left: 4px; top: 4px; width: 3px; height: 3px; border-top: 1px solid black; border-left: 1px solid black;"></div>\n</div>'),
Oa=$('<div style="display:block;overflow: hidden; position: absolute; left: 2px; top: 7px; width: 9px; height: 9px; border: 1px solid rgb(138, 158, 191); border-radius: 3px; background-color: rgb(255, 255, 255);">\n<div style="overflow: hidden; position: absolute; left: 1px; top: 1px; width: 7px; height: 3px; border-bottom: 1px solid black;"></div>\n</div>');var Wa=D?D.getIsExpand():p==Object.keys(n).length?!1:!0;Wa?Oa.appendTo(R):Ea.appendTo(R);R.data("model",D);R.data("bExpand",Wa);R.click(function(){var Ia=
$(this).data("model"),La=$(this).data("bExpand");$(this).detach();La=!La;Ia&&Ia.setIsExpand(La);La?Oa.appendTo($(this)):Ea.appendTo($(this));$(this).data("bExpand",La);if(null==Ia||void 0==Ia){La?p=0:p=Object.keys(n).length;for(var Xa in n)n[Xa].setIsExpand(La)}else La?p--:p++,n[Ia.getRptId()].setIsExpand(La);Ia=u.getPageSize();Xa=Object.values(n);a.updateTable(Xa.slice(0,Math.min(Ia,Xa.length)))});return R};this.resetHeader=function(D,R){na=D;Ua=R;if(c){Ga.clear(c);c.addColumns(na.length);for(D=
0;D<Ua.length;D++)c.getColumn(D).setWidth(Ua[D]);R=Ga.createHeadRow(c);for(D=0;D<na.length;D++)R.getCell(D).setValue(na[D])}J.css("display","none")};this.updateTable=function(D){0==document.body.clientHeight||0==document.body.clientWidth?(b=new mb,b.setDelay(250),b.setCallback(function(){Sa(D)}),b.observe()):Sa(D)};var Sa=function(D){b&&b.unobserve();Ga.clearWithoutHead(c);if(D&&0<D.length){Qa(!0);f={};a.resetCurrentPaginationBarSelected();if(D[0]instanceof Ra)for(var R=0;R<D.length;R++){var Ea=D[R],
Oa=Ga.createRow(c);Oa.setHeight(30);Oa.setUserObject(Ea)}else if(D[0]instanceof eb){Ea=new KTStyle;Ea.setBackgroundColor(qb.CommonTableSkin.EVEN_ROW_BACKGROUND_COLOR);var Wa=new KTStyle;Wa.setBackgroundColor(qb.CommonTableSkin.ODD_ROW_BACKGROUND_COLOR);for(R=0;R<D.length;R++){var Ia=D[R];Oa=Ga.createRow(c);Oa.setHeight(30);Oa.setStyle(Ea);Oa.setUserObject(Ia);for(Oa=0;Ia.getIsExpand()&&Oa<Ia.getArrSnapChildren().length;Oa++){var La=Ia.getArrSnapChildren()[Oa],Xa=Ga.createRow(c);Xa.setHeight(30);Xa.setStyle(Wa);
Xa.setUserObject(La)}}}Ga.refresh(c)}else Qa(!1)},Qa=function(D){if(D)d.css("display","block"),k.css("display","none"),l.css("display","none"),J.css("display","block");else{d.css("display","none");J.css("display","none");if(ua.PUBLISH_TAB==ha){if(N.isEmptyDataAtInital()){q.text(F.get("noPubDataAtInital","\u6682\u65e0\u8f7b\u62a5\u8868\u53d1\u5e03\u8bb0\u5f55"));k.css("display","none");l.css("display","block");return}if(0<N.getSelectedItem().length)ma?q.text(F.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c")):
q.text(F.get("noPubDataInMenu","\u6b64\u76ee\u5f55\u4e0b\u6ca1\u6709\u53d1\u5e03\u8bb0\u5f55")),k.css("display","none"),l.css("display","block");else{if(0==N.getTreeModel().length&&(ma||w)){q.text(F.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c"));k.css("display","none");l.css("display","block");return}k.css("display","block");l.css("display","none");return}}ua.SNAPSHOT_TAB==ha&&(fa.isEmptyDataAtInital()?(q.text(F.get("noPubDataAtInital","\u516c\u5171\u76ee\u5f55\u4e0b\u6ca1\u6709\u5feb\u7167")),
k.css("display","none"),l.css("display","block")):0<fa.getSelectedItem().length?(ma?q.text(F.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c")):q.text(F.get("noSnapDataInMenu","\u6b64\u76ee\u5f55\u4e0b\u6ca1\u6709\u5feb\u7167")),k.css("display","none"),l.css("display","block")):0==fa.getTreeModel().length&&(ma||w)?(q.text(F.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c")),k.css("display","none"),l.css("display","block")):
(k.css("display","block"),l.css("display","none")))}};this.resetCurrentPaginationBarSelected=function(){u.refreshSelectedRowTotal(Ya(!0))};var Ya=function(D){var R=0,Ea=Object.keys(t);if(Z==ba.CENTER||Z==ba.SNAPMENU){var Oa=Q.getRelationIds(),Wa;for(Wa in Ea){var Ia=t[Ea[Wa]];-1!=Oa.findIndex(function(Xa,va,K){return Xa==Ia.getPath()})&&(D?R++:delete t[Ia.getId()])}}else if(Z==ba.APPMENU){Oa=Q.getRelationIds();var La="";for(Wa in Oa)Oa[Wa]&&(La+=Oa[Wa]+"-");La=La.substring(0,La.length-1);for(Wa in Ea)Ia=
t[Ea[Wa]],Ia instanceof Ra&&La==db(Ia)&&(D?R++:delete t[Ia.getId()])}return R},db=function(D){var R="";D=JSON.parse(D.getPath());D.cloudId&&(R=D.cloudId);D.appId&&(R=R+"-"+D.appId);D.appMenuId&&(R=R+"-"+D.appMenuId);D.appMenuId2&&(R=R+"-"+D.appMenuId2);return R};this.resetCallBackTime=function(){H=(new Date).getTime()};this.refreshTable=function(){"none"!=d.css("display")&&(Ga.refresh(c),a.resetCurrentPaginationBarSelected())};this.onSelectedChangeListener=function(D,R,Ea){a.searchDataByMenuModel(Ea[0],
!0)};this.searchDataByMenuModel=function(D,R){D&&(Q=D,Z=Q.getPathType(),ba.SNAPMENU==Z?fb(R):ib(R))};var ib=function(D,R,Ea){D&&(aa=1);D=aa;var Oa=C;R&&(Oa=D=null);var Wa=new ja(a.getRemoteImpl(),function(Ia){if(H==Number(Ia.callBackTime)){var La=Ia.data;if(void 0==La)a.updateTable(null);else{Ia=La.totalRow;La=La.data;var Xa=[],va;for(va in La){var K=new Ra;K.fromJsonObject(La[va]);Xa.push(K)}R?$a(Xa):(Ea?Ea(Ia):u.resetPaginationAndJumpToFirstPage(Ia),a.updateTable(Xa))}}});Wa.setShowBlocking(!0);
Wa.getRptPublishDataByPath(Q.getRelationIds(),Q.getPathType(),ma,D,Oa,H)},fb=function(D,R,Ea){D&&(aa=1);D=aa;var Oa=C;R&&(Oa=D=null);var Wa=new ja(a.getRemoteImpl(),function(Ia){if(H==Number(Ia.callBackTime)){var La=Ia.data;Ia=La.totalRow;La=La.data;var Xa=[];n={};for(var va in La){var K=new eb;K.fromJsonObject(La[va]);Xa.push(K);n[K.getRptId()]=K}R?$a(Xa):(p=Xa.length,Ea?Ea(Ia):u.resetPaginationAndJumpToFirstPage(Ia),a.updateTable(Xa))}});Wa.setShowBlocking(!0);Wa.getRptSnapShotByPath(Q.getRelationIds(),
ma,D,Oa,H)},$a=function(D){if(D[0]instanceof Ra)for(var R in D){var Ea=D[R];t[Ea.getId()]=Ea}else if(D[0]instanceof eb)for(R in D){Ea=D[R];Ea.setIsExpand(!1);var Oa=Ea.getArrSnapChildren(),Wa;for(Wa in Oa)Ea=Oa[Wa],t[Ea.getId()]=Ea}A.syncUiBySelectMap();a.refreshTable();a.resetCurrentPaginationBarSelected()};this.setPublishTablePane=function(D){N=D};this.setSnapShotPushTablePane=function(D){fa=D};this.setMapSelectPublish=function(D){t=D};this.setSelectedPane=function(D){A=D};this.setCurrentTab=function(D){ha=
D};this.setJqTips=function(D,R,Ea){k=D;l=R;q=Ea};this.setMessageCurtain=function(D){};this.setToMatchText=function(D){ma=D};this.setMenuText=function(D){w=D};var pb;this.getRemoteImpl=function(){null==pb&&(pb=new da,pb.setRemoteUrl(Ta.RemoteUrlFacade.getAccessRemoteUrl()));return pb}}function X(){z.call(this);var a=this.protectedMethod;a.setTotalSelectedRowAndSelectedAllVisual(!1,!0);a.setTotalRowVisual(!0);a.setTotalPageVisual(!1);a.setCurrentPageVisual(!1);a.setFirstBtnAndEndBtnVisual(!1)}function O(){P.call(this);
var a=this,c,b,d=ua.PUBLISH_TAB,r,f,t=[],A,n,p,u,J;this.getType=function(){return d};this.getTitle=function(){return F.get("publish","\u53d1\u5e03")};this.protectedInit=function(w){b=w;aa()};var aa=function(){c=new U;c.setOnSelectedChangeListener(function(Q,H,k,l){J=k[0];r(Q,H,k);a.setSearchCountText(l)});c.setTreeSelectorModel(t);var w=c.getJqUi();w.addClass("select-tree-menu-data");b.append(w)},C=function(w,Q,H){t=[];if(0<w.length){var k=new Pa;k.setDisPlayName(F.get("appMenu","\u5e94\u7528\u83dc\u5355"));
k.setShowFolderNode(!0);k.setNoMatchText(!0);for(var l=k.getChildren(),q=0;q<w.length;q++){var N=new Pa;N.fromJsonObject(w[q]);N.setShowFolderNode(H);N.setParentNode(k);N.setRelationIds(null);l.push(N)}Z(t,k)}if(0<Q.length){w=new la;w.setDisPlayName(F.get("analysisCenter","\u6570\u636e\u5de5\u4f5c\u53f0\u9605\u89c8\u5939"));w.setShowFolderNode(!0);w.setNoMatchText(!0);k=w.getChildren();for(q=0;q<Q.length;q++)N=new la,N.fromJsonObject(Q[q]),N.setShowFolderNode(H),N.setParentNode(w),k.push(N);Z(t,w)}Q=
null;n||p||0!=t.length||(Q=F.get("emptyDataAtPublish","\u6ca1\u6709\u8f7b\u62a5\u8868\u53d1\u5e03\u8bb0\u5f55"),u=!0);H=null;if(J)for(q=t.length-1;0<=q&&(!t[q].getRelationIds()||(H=q,!xa(J.getRelationIds(),t[q].getRelationIds())));q--);H&&(J=t[H]);c.resetItemModels(t,J,Q)},Z=function(w,Q){if(null!=Q)if(Array.isArray(Q))for(var H=0;H<Q.length;H++)w.push(Q[H]),Z(w,Q[H].getChildren());else w.push(Q),Z(w,Q.getChildren())};this.getSelectedItem=function(){return c?c.getSelectedItem():[]};this.setCountToMenu=
function(w){c.setCountToMenu(w)};this.reselectTheCurrentItem=function(){c.reselectTheCurrentFirstItem()};this.setOnSelectedChangeListener=function(w){r=w};this.isEmptyDataAtInital=function(){return u};this.setSelectTable=function(w){A=w};this.searchMenuListener=function(w){if(w!=p)p=w,ma(w,n);else return c.searchMenu(w)};this.setMessageCurtain=function(w){f=w};this.tranMenuTextToTable=function(w){A.setMenuText(w)};this.getTreeModel=function(){return t};var ma=function(w,Q){(new ja(a.getRemoteImpl(),
function(H){var k=H.centerTree,l=H.appMenuTree.children;H=H.countToMenuMap;w||Q?C(l,k,!0):C(l,k,!1);a.searchCardCountInAllMenu(Q,H);!w||0==k.length&&0==l.length?(A.updateTable(null),a.setSearchCountText(null)):a.setSearchCountText(c.searchMenu(w))},function(H,k){f.showPrompt(k);return!0})).getRptPublishMenuTree(w,Q)};this.searchCountInMenu=function(w){n=w;ma(p,w)}}function ca(){P.call(this);var a=this,c,b,d=ua.SNAPSHOT_TAB,r,f,t,A,n=[],p,u,J;this.getType=function(){return d};this.getTitle=function(){return F.get("snapshot",
"\u5feb\u7167")};this.protectedInit=function(w){b=w;aa()};var aa=function(){c=new U;c.setOnSelectedChangeListener(function(Q,H,k,l){J=k[0];r(Q,H,k);a.setSearchCountText(l)});c.setTreeSelectorModel(n);var w=c.getJqUi();w.addClass("select-tree-menu-data");b.append(w)},C=function(w,Q){n=[];if(0<w.length){var H=new Za;H.setDisPlayName(F.get("publicMenu","\u516c\u5171\u76ee\u5f55"));H.setShowFolderNode(!0);H.setNoMatchText(!0);for(var k=H.getChildren(),l=0;l<w.length;l++){var q=new Za;q.fromJsonObject(w[l]);
q.setShowFolderNode(Q);q.setParentNode(H);k.push(q)}Z(n,H)}else if(!t&&!A){p=!0;var N=F.get("noDataAtPublic","\u516c\u5171\u76ee\u5f55\u4e0b\u6ca1\u6709\u6570\u636e")}w=!1;Q=0;if(J)for(l=n.length-1;0<=l;l--){if(n[l].getRelationIds()&&(Q=l,xa(J.getRelationIds(),n[l].getRelationIds()))){w=!0;break}}else for(l=n.length-1;0<=l;l--)n[l].getRelationIds()&&(Q=l);w&&(J=n[Q]);c.resetItemModels(n,J,N)},Z=function(w,Q){if(null!=Q)if(Array.isArray(Q))for(var H=0;H<Q.length;H++)w.push(Q[H]),Z(w,Q[H].getChildren());
else w.push(Q),Z(w,Q.getChildren())};this.isEmptyDataAtInital=function(){return p};this.getSelectedItem=function(){return c?c.getSelectedItem():[]};this.setCountToMenu=function(w){c.setCountToMenu(w)};this.reselectTheCurrentItem=function(){c.reselectTheCurrentFirstItem()};this.setOnSelectedChangeListener=function(w){r=w};this.setSelectTable=function(w){u=w};this.searchMenuListener=function(w){if(w!=t)t=w,ma(w,A);else return c.searchMenu(w)};this.setMessageCurtain=function(w){f=w};this.tranMenuTextToTable=
function(w){u.setMenuText(w)};this.getTreeModel=function(){return n};var ma=function(w,Q){(new ja(a.getRemoteImpl(),function(H){var k=H.snapshotTree;H=H.countToMenuMap;w||Q?C(k,!0):C(k,!1);a.searchCardCountInAllMenu(Q,H);w&&0!=k.length?a.setSearchCountText(c.searchMenu(w)):(u.updateTable(null),a.setSearchCountText(null))},function(H,k){f.showPrompt(k);return!0})).getRptSnapMenuTree(w,Q)};this.searchCountInMenu=function(w){A=w;ma(t,w)}}function xa(a,c){if(a&&c){if(a.length!=c.length)return!1;for(var b=
0;b<a.length;++b)if(a[b]!=c[b])return!1;return!0}return!1}function P(){m.AbstractTabPane.call(this);var a=this,c,b,d=null;this.searchCardCountInAllMenu=function(A,n){a.reselectTheCurrentItem();null==A||""==A?(d=null,a.setCountToMenu(null)):(n&&(d=n),a.setCountToMenu(d))};this.setCountToMenu=function(){throw Error("Override");};this.reselectTheCurrentItem=function(){throw Error("Override");};this.getJqUi=function(){c||(c=$("<div>"),r(),a.protectedInit(c));return c};var r=function(){b=new Da;b.setPlaceholder(F.get("searchMenu",
"\u641c\u7d22\u76ee\u5f55\u540d\u79f0"));b.setShowSearchIcon(!0);var A=b.getJqUi();A.addClass("select-filter-menu-searchBox");A.find("input").css("width","75%");b.addEnterEventListener(function(){var n=b.getText().trim(),p=a.searchMenuListener(n);a.setSearchCountText(p);a.tranMenuTextToTable(n)});b.addClearIconListener(function(){a.searchMenuListener(null);b.hideText();a.tranMenuTextToTable(null)});A.appendTo(c)};this.setSearchCountText=function(A){var n;A&&(n="("+A[0]+"/"+A[1]+")");b.appendText(n)};
this.searchMenuListener=function(A){throw Error("override");};this.tranMenuTextToTable=function(){throw Error("override");};var f;this.getRemoteImpl=function(){null==f&&(f=new da,f.setRemoteUrl(Ta.RemoteUrlFacade.getAccessRemoteUrl()));return f};var t;this.getQingTreeMenuRemoteUrl=function(){null==t&&(t=new da,t.setRemoteUrl(Ta.RemoteUrlFacade.getQingTreeMenuRemoteUrl()));return t};this.getUrlParam=function(A){return lb.decodeParamFromUrl(window.location.search,A)};this.protectedInit=function(A){}}
function U(){var a=this,c,b,d,r=[],f,t,A,n,p,u;this.getJqUi=function(){c||(c=J());return c};var J=function(){var k=$("<div>");n=$("<div>");n.addClass("rpt-statistic-selector-tips-text");n.text(F.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c"));n.css("display","none");p=$("<div>");p.addClass("rpt-statistic-selector-tips-text");p.css("display","none");k.append(n);k.append(p);b=new y;b.setBorderVisible(!1);b.scrollSelectedToVisible();b.setCustomItemPainter(ma);
b.addSelectedChangedListener(function(l,q,N){if(r){var fa=aa(N[0]);null!=fa&&(f=fa);A(l,q,N,[f+1,r.length])}else A(l,q,N)});b.setUserObject(d);b.setItemModels(d);k.append(b.getJqUi());return k};this.resetItemModels=function(k,l,q){d=k;b.setUserObject(d);b.setItemModels(d);l&&b.setSelecteds([l]);f=0;u=r=t=null;Q(b.getUserObject(),q)};this.setOnSelectedChangeListener=function(k){A=k};this.searchMenu=function(k){if(0!=d.length){if(null==k||""==k)return t=null,Q(b.getUserObject()),null;if(k==t)return f+
1>=r.length?f=0:f+=1,C(r[f]),[f+1,r.length];r=[];for(var l=0;l<d.length;l++)if(!d[l].getNoMatchText()){var q=d[l].getDisPlayName().toUpperCase();q&&-1<q.indexOf(k.toUpperCase())&&r.push(d[l])}if(0<r.length)return t=k,k=b.getSelecteds(),(k=aa(k[0]))?(f=k,C(r[f])):C(r[0]),[f+1,r.length];t=null;Q(b.getUserObject());return null}};var aa=function(k){if(!k)return 0;for(var l=null,q=0;q<r.length;q++){var N=r[q];xa(k.getRelationIds(),N.getRelationIds())&&(l=q)}return l},C=function(k){var l=k;if(!l.getShowFolderNode()){l.setShowFolderNode(!0);
for(var q=l.getParentNode();q;)q.setShowFolderNode(!0),q.setIsOpenDir(!0),l=q,q=q.getParentNode();w(l)}a.jumpToTheSelected(k)};this.jumpToTheSelected=function(k){b.setSelecteds([k]);Q(b.getUserObject());b.scrollSelectedToVisible(k)};this.getSelectedItem=function(){return b.getSelecteds()};this.reselectTheCurrentFirstItem=function(){var k=b.getSelecteds();0>=k.length||C(k[0])};this.setCountToMenu=function(k){if(u=k)for(var l in d)k=d[l],k.setShowFolderNode(!0),k.setIsOpenDir(!0);d&&0<d.length&&(Q(d),
b.scrollSelectedToVisible())};var Z=function(k){var l=k.getPathType();k=k.getRelationIds();if(l==ba.APPMENU){l=u[ba.APPMENU];for(var q=k[0],N=1;N<k.length;N++)null!=k[N]&&(q+="-"+k[N]);return l&&l[q]?l[q]:0}q=null;l==ba.CENTER?q=u[ba.CENTER]:l==ba.SNAPMENU&&(q=u[ba.SNAPMENU]);if(!q)return 0;l=0;for(N in k)q[k[N]]&&(l+=q[k[N]]);return l},ma=function(k,l){var q=26*l.getLevel()+5;k.addClass("select-tree-menu-dir");var N=$("<div>");N.addClass("select-tree-menu-icon");N.css("margin-left",26*l.getLevel()+
"px");N.data("oItemModel",l);var fa=$("<div>");l.isPreset&&l.isPreset()&&(fa.addClass("select-tree-menu-preset"),fa.text("\u9884\u7f6e"),fa.css("margin-left",16+26*l.getLevel()+"px"),k.append(fa),q+=16);var ha=$("<div>");ha.addClass("select-tree-menu-text");var na=0;l.isPreset&&l.isPreset()&&(na=28,q+=28);ha.css("margin-left",na+26*l.getLevel()+"px");var Ua=$("<span>");if(l instanceof Pa&&l.isDeleted()){var jb=$("<div>");jb.text("!");jb.addClass("rpt-statistic-menu-deleted");ha.append(jb);ha.css("padding-left",
"15px");q+=12}Ua.text(l.getDisPlayName());l.getNoMatchText()||(Ua=Ta.SplitMatchTextUtil.redTextAfterMatching(l.getDisPlayName(),t));ha.append(Ua);k.attr("title",l.getDisPlayName());l.getChildren()&&0<l.getChildren().length?(fa=l.getIsOpenDir(),H(N,fa),k.append(N),q+=15):(ha.css("margin-left",na+26*l.getLevel()-14+"px"),fa.css("margin-left",2+26*l.getLevel()+"px"));k.append(ha);u&&l.getRelationIds()&&(fa=Z(l),na=$("<div>"),na.addClass("select-tree-menu-count"),na.text("("+fa+")"),k.append(na),na=new rb,
na.setFontSize(12),fa=na.measureWidth("("+fa+")"),q+=fa);ha.css("width","calc(100% - "+q+"px)");l.getRelationIds()||k.removeClass("sa-ctrl-list-item");l.getShowFolderNode()?(k.show(),N.on("mousedown",function(cb){cb.stopPropagation();if(cb=$(cb.currentTarget).data("oItemModel")){if(cb.getChildren()&&0<cb.getChildren().length){var qa=cb.getIsOpenDir();cb.setIsOpenDir(!qa)}else cb.setIsOpenDir(!0);w(cb);Q(b.getUserObject())}})):k.hide();l==b.getSelecteds()[0]&&k.addClass("sa-ctrl-list-item_selected_enabled")},
w=function(k){if(null!=k&&(k=k.getChildren())&&0<k.length)for(var l=0;l<k.length;l++)k[l].getParentNode().getIsOpenDir()&&k[l].getParentNode().getShowFolderNode()?k[l].setShowFolderNode(!0):k[l].setShowFolderNode(!1),w(k[l])},Q=function(k,l){var q=c.find(".sa-ctrl-list-owner");q.empty();if(1>=k.length)l?(p.text(l),p.css("display","block"),n.css("display","none")):(p.css("display","none"),n.css("display","block"));else{p.css("display","none");n.css("display","none");l=$(document.createDocumentFragment());
for(var N=ma,fa=0;fa<k.length;fa++){var ha=$("<div>");ha.addClass("sa-ctrl-list-item");ha.addClass("sa-ctrl-list-item_enabled");ha.addClass("sa-ctrl-list-item-defaultlayout");var na=k[fa];ha.data("model",na);N(ha,na);l.append(ha)}q.append(l)}},H=function(k,l){l?(k.addClass("lower-triangle"),k.removeClass("upper-triangle")):(k.addClass("right-triangle"),k.removeClass("lower-triangle"))};this.setTreeSelectorModel=function(k){d=k}}function Pa(){G.call(this);var a=this,c;this.fromJsonObject=function(b){"APP_MENU_HAS_BEEN_DELETED"==
b.displayName||"APP_HAS_BEEN_DELETED"==b.displayName?(a.setDisPlayName(F.get("menuBeDeleted","\u8be5\u5e94\u7528\u83dc\u5355\u5df2\u88ab\u5220\u9664")),c=!0):"CLOUD_HAS_BEEN_DELETED"==b.displayName?(a.setDisPlayName(F.get("cloudBeDeleted","\u8be5\u670d\u52a1\u4e91\u5df2\u88ab\u5220\u9664")),c=!0):a.setDisPlayName(b.displayName);a.setLevel(a.getLevel()+1);a.setPathType(ba.APPMENU);var d=[];d.push(b.cloudId);d.push(b.appId);d.push(b.appMenuId);d.push(b.appMenuId2);a.setRelationIds(d);if(b=b.children)for(d=
0;d<b.length;d++){var r=b[d],f=new Pa;a.getChildren().push(f);f.setParentNode(a);f.setLevel(a.getLevel());f.fromJsonObject(r)}};this.isDeleted=function(){return c}}function la(){G.call(this);var a=this,c;this.setIsPreset=function(b){c=b};this.isPreset=function(){return c};this.fromJsonObject=function(b){a.setDisPlayName(b.name);a.setLevel(a.getLevel()+1);a.setPathType(ba.CENTER);a.setIsPreset(b.isPreset);var d=[];d.push(b.relationId);if(null!=b.mergeRelationIds){var r=b.mergeRelationIds,f;for(f in r)d.push(r[f])}a.setRelationIds(d);
if(b=b.children)for(f=0;f<b.length;f++)d=b[f],r=new la,a.getChildren().push(r),r.setParentNode(a),r.setLevel(a.getLevel()),r.fromJsonObject(d)}}function Za(){G.call(this);var a=this;this.fromJsonObject=function(c){var b=c.children;a.setDisPlayName(c.name);a.setLevel(a.getLevel()+1);a.setPathType(ba.SNAPMENU);c=[c.id];if(b&&0<b.length)for(var d in b){var r=b[d],f=new Za;a.getChildren().push(f);c.push(r.id);f.setParentNode(a);f.setLevel(a.getLevel());f.fromJsonObject(r)}a.setRelationIds(c)}}function G(){var a=
0,c=[],b,d,r,f,t,A,n;this.setNoMatchText=function(p){n=p};this.getNoMatchText=function(){return n};this.setPathType=function(p){A=p};this.getPathType=function(){return A};this.setRelationIds=function(p){t=p};this.getRelationIds=function(){return t};this.setParentNode=function(p){b=p};this.getParentNode=function(){return b};this.setDisPlayName=function(p){f=p};this.getDisPlayName=function(){return f};this.setChildren=function(p){c=p};this.getChildren=function(){return c};this.setShowFolderNode=function(p){r=
p};this.getShowFolderNode=function(){return r};this.setIsOpenDir=function(p){d=p};this.getIsOpenDir=function(){return d};this.setLevel=function(p){a=p};this.getLevel=function(){return a}}function da(){Ma.call(this);var a;this.getRemoteUrl=function(){return a};this.setRemoteUrl=function(c){a=c}}function ab(a,c,b){this.getTypeID=function(){return a};this.getI18nKey=function(){return c};this.getDefaultDesc=function(){return b}}function hb(){this.viewCollaborationMember=function(a,c){var b=$("<div>");
b.attr("title",F.get("viewSpaceMember","\u67e5\u770b\u534f\u4f5c\u7a7a\u95f4\u6210\u5458"));b.on("click",{oModel:c},this.doViewCollaborationMember);Na.backgroundWithHover(b,"view_member");b.addClass("statistic-view-collaboration-member");b.hide();b.appendTo(a);a.on("mouseenter",function(){b.show()});a.on("mouseleave",function(){b.hide()})};this.doViewCollaborationMember=function(a){var c=a.data.oModel;a=c.getSpaceId();c=c.getCreatorName();-1<c.indexOf("\uff1a")&&(c=c.substring(c.indexOf("\uff1a")+
1));(new za(a,c)).showDialog()}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.rpt&&(com.kingdee.bos.qing.rpt={});"undefined"==typeof com.kingdee.bos.qing.rpt.statistic&&(com.kingdee.bos.qing.rpt.statistic={});var Ta=com.kingdee.bos.qing.rpt.statistic;Ta.AbstractStatisticMainTable=function(){sa.call(this);
var a=this,c,b,d,r=!0,f,t,A,n,p,u,J,aa,C;this.getJqUi=function(H){if(!c){c=$("<div>");c.addClass("rpt-statistic");var k=$("<div>");k.addClass("rpt-statistic-head");var l=$("<div>");l.addClass("rpt-statistic-filter");var q=new rb,N=0;q.setFontSize(14);var fa=F.get("filter","\u7b5b\u9009\u6761\u4ef6"),ha=q.measureWidth(fa),na=new oa;na.setText(fa);fa=na.getJqUi();fa.children().css("font-size","14px");E.layoutCtrl(fa,16,0,ha,23);N+=16+ha;fa.appendTo(l);q.setFontSize(12);N=a.createFilterContent(l,E,N,
q);q=new wa;q.setText(F.get("query","\u67e5\u8be2"));q.setTooltips(F.get("query","\u67e5\u8be2"));q.addActionListener(a.queryDataByFilter);q=q.getJqUi();E.layoutCtrl(q,N+50,13,60,28);q.appendTo(l);N=$("<div>");N.addClass("rpt-statistic-toolbar");f=new wa;f.setText(F.get("exportExcel","\u5bfc\u51faExcel"));f.setTooltips(F.get("exportExcel","\u5bfc\u51faExcel"));f.addActionListener(ma);f.getJqUi().appendTo(N);q=new wa;q.setText(F.get("refresh","\u5237\u65b0"));q.setTooltips(F.get("refresh","\u5237\u65b0"));
q.addActionListener(w);q.getJqUi().appendTo(N);q=new wa;q.setText(F.get("closeTab","\u9000\u51fa"));q.setTooltips(F.get("closeTab","\u9000\u51fa"));q.addActionListener(Q);q.getJqUi().appendTo(N);N.appendTo(l);l.appendTo(k);k.appendTo(c);k=$("<div>");k.addClass("rpt-statistic-data");b=a.createSortTable();b.addClass("rpt-statistic-content");t=a.getJqUiPagination();t.appendTo(b);a.getJqTable();r&&(A=a.getJquiTotalComponent(),A.css("display","none"));b.appendTo(k);d=$("<div>");d.css("display","none");
d.addClass("rpt-statistic-tips");l=$("<div>");l.addClass("rpt-statistic-tips-background");Na.background(l,"nodata");N=$("<div>");N.addClass("rpt-statistic-tips-text");N.text(F.get("NoDataMessage","\u6ca1\u6709\u7b26\u5408\u7b5b\u9009\u6761\u4ef6\u7684\u7ed3\u679c"));d.append(l);d.append(N);d.appendTo(b);a.setIconRightPx(8);a.queryDataByFilter();k.appendTo(c);H.append(c)}return c};this.requireTotalComponent=function(H){r=H};this.queryDataByFilter=function(){a.resetTableComponents();Z()};this.getMessageCurtain=
function(){null==C&&(C=new ta,C.getJqUi().appendTo($("#switch-tab")));return C};this.showOrHideContent=function(H){H?(f.setEnabled(!0),d.css("display","none"),t.css("display","block"),A&&A.css("display","block")):(f.setEnabled(!1),d.css("display","block"),t.css("display","none"),A&&A.css("display","none"))};var Z=function(H){u=null!=u?u:a.getDefaultSortField();J=null!=J?J:a.getDefaultSortOrder();var k=a.getRemoteUrl();(new x(a.getRemoteImpl(k),function(l){0==l?a.getMessageCurtain().showPrompt(F.get("noMenuPermission",
"\u60a8\u7684\u83dc\u5355\u6743\u9650\u5df2\u53d1\u751f\u53d8\u66f4\uff0c\u65e0\u6cd5\u7ee7\u7eed\u64cd\u4f5c\u3002")):a.doQueryData(u,J,n,p,H)},function(){})).checkPermission()};this.resetTableComponents=function(){n=1;p=a.getPaginationBar().getPageSize()};this.changePageListener=function(H,k,l){n=H;p=k;Z(l)};this.changeSortListener=function(H,k){n=1;u=H;J=k;Z()};this.doQueryData=function(H,k,l,q,N){throw Error("Override");};this.doExportExcel=function(H,k,l,q){throw Error("Override");};this.getTotalRow=
function(){throw Error("Override");};this.createFilterContent=function(H,k,l,q){throw Error("Override");};this.getRemoteUrl=function(){throw Error("Override");};this.relayout=function(){b.css("height",document.documentElement.clientHeight-176+"px");a.relayoutTable()};this.getExcelPrefix=function(){return null};var ma=function(){var H=new L;H.setExportExcelHanlder(a.doExportExcel);a.getExcelPrefix()&&H.setFilePrefix(a.getExcelPrefix());H.exportExcel(u,J,a.getTotalRow())};this.doExportExcel=function(H,
k,l,q){throw Error("Override");};var w=function(){Z()},Q=function(){gb.closeCurrentTab()};this.getRemoteImpl=function(H){null==aa&&(aa=new da,aa.setRemoteUrl(H));return aa}};Ta.UserDialogSelectorDisPlay=function(){M.call(this);var a=this,c;a.setShowDisabledFilter(!0);var b=a.getJqUi;this.getJqUi=function(){if(!c){c=b();var d=a.getJqUi().children("div");d.css("bottom","4px");Na.background(d,"selected_btn_delete")}return c};this.getDisplayText=function(){var d=a.getSelectedValue();return 0==d.length?
F.get("selectUser","\u8bf7\u9009\u62e9\u7528\u6237"):F.get("uerSelectedCount","\u5df2\u9009\u62e9#\u4e2a\u7528\u6237").replace("#",d.length)}};Ta.AbstractStatisticDialog=function(){Ba.call(this);sa.call(this);var a=this,c=this.protectedMethod,b,d,r,f,t,A,n,p,u;(function(){c.setSelectable(!0);c.getDialogCtrl().setFullScreenEnabled();c.getDialogCtrl().setResizeEnabled();c.getDialogCtrl().addResizeListener(function(){a.relayoutTable()});c.setContentPaneCreator(function(){b=$("<div>");var C=$("<div>");
C.addClass("rpt-statistic-detail-panel-top");var Z=$("<div>");Z.text(F.get("exportExcel","\u5bfc\u51faExcel"));Z.addClass("rpt-statistic-export");Z.on("click",aa);Z.css("float","right");E.layoutCtrlWithLRTB(Z,null,1,null,0);Z.appendTo(C);p=$("<div>");p.addClass("rpt-statistic-tips");Z=$("<div>");Z.addClass("rpt-statistic-tips-background");Na.background(Z,"nodata");var ma=$("<div>");ma.addClass("rpt-statistic-tips-text");ma.text(F.get("NoDataMessage","\u6ca1\u6709\u7b26\u5408\u7b5b\u9009\u6761\u4ef6\u7684\u7ed3\u679c"));
p.append(Z);p.append(ma);p.css("display","none");a.setEnablePagination(!0);a.setEnableAggregate(!1);Z=a.createSortTable();Z.addClass("rpt-statistic-detail-content");n=a.getJqUiPagination();n.css("display","none");n.css("padding","0px 0px 0px 5px");n.css("margin-left","4px");n.css("width","calc(100% - 4px)");a.queryDataByFilter();a.getJqTable().addClass("rpt-statistic-dialog-detail-content-table");C.appendTo(b);p.appendTo(b);Z.appendTo(b);return b});c.setClosingAction(function(C){});c.setFooterClosingOnly(!0)})();
this.setTitle=function(C){A=C;c.setTitle(C)};this.doQueryData=function(C,Z,ma,w,Q){throw Error("Override");};this.doExportExcel=function(C,Z,ma,w){throw Error("Override");};this.queryDataByFilter=function(){d=1;r=a.getPaginationBar().getPageSize();J()};this.changePageListener=function(C,Z,ma){d=C;r=Z;J(ma)};this.showOrHideContent=function(C){C?(p.css("display","none"),n.css("display","block")):(p.css("display","block"),n.css("display","none"))};this.changeSortListener=function(C,Z){d=1;f=C;t=Z;J()};
var J=function(C){f=null!=f?f:a.getDefaultSortField();t=null!=t?t:a.getDefaultSortOrder();a.doQueryData(f,t,d,r,C)},aa=function(){var C=new L;C.setExportExcelHanlder(a.doExportExcel);A&&C.setFilePrefix(A&&A.replaceAll(" ","_"));C.exportExcel(f,t,a.getTotalRow())};this.getRemoteImpl=function(C){null==u&&(u=new da,u.setRemoteUrl(C));return u}};Ta.AbstractPage=function(){var a;this.getJqUi=function(c){};this.getShowText=function(){return a};this.setShowText=function(c){a=c}};Ta.PublishSnapShotDialogSelector=
function(){ra.call(this);var a=this,c,b,d={},r=a.getJqUi;this.getJqUi=function(){c||(c=r(),f(),c.on("mouseover",function(){0<Object.keys(d).length&&b.show()}),c.on("mouseleave",function(){b.hide()}));return c};var f=function(){b=$("<div>");b.css({position:"absolute",height:"16px",width:"16px",right:"25px",bottom:"6px",cursor:"pointer",display:"none"});Na.background(b,"selected_btn_delete");b.on("click",function(){b.hide();d={};a.updateUI()});b.appendTo(c)};this.getDisplayText=function(){var n=Object.keys(d);
return!n||0>=n.length?F.get("selectPubSnap","\u8bf7\u9009\u62e9\u53d1\u5e03/\u5feb\u7167\u540d\u79f0"):F.get("pubSnapCount","\u5df2\u9009\u62e9#\u6761\u6570\u636e\u5185\u5bb9").replace("#",n.length)};this.protectedClickEvent=function(){t()};var t=function(){var n=new h;n.setConfirmCallBack(function(p){d=p;a.updateUI()});n.setMapSelectPublish(A());n.showDialog()},A=function(){var n={},p=Object.keys(d);if(p)for(var u in p){var J=d[p[u]];J&&(n[p[u]]=J.cloneMe())}return n};this.getSelectedValue=function(){var n=
Object.keys(d);if(!n||0>=n.length)return[[],[]];var p=[],u;for(u in n)p.push(d[n[u]].getId());return[[],p]}};Ta.SwitchPage=function(){var a,c=F.get("pattern","\u5c55\u793a\u65b9\u5f0f:"),b=[],d,r,f,t;this.getJqUi=function(n){a||(A(),n.append(a),r&&r.click());return a};var A=function(){a=$("<div id='switch-tab'>");var n=$("<div>");n.addClass("tab-switch-tab-head");a.append(n);var p=$("<div>");p.addClass("tab-switch-tab-head-tips");p.text(c);n.append(p);var u=$("<div>");u.addClass("tab-switch-tab-body");
a.append(u);if(0<b.length)for(var J in b){p=b[J];var aa=$("<div>");aa.addClass("tab-switch-tab-switch-btn");aa.text(p.getShowText());aa.data("oTab",p);aa.click(function(C){C=$(C.target);if(!C.is(t)){C.addClass("tab-switch-tab-switch-btn-selected");null!=f&&(f.getJqUi(u).hide(),t.removeClass("tab-switch-tab-switch-btn-selected"));var Z=C.data("oTab");f=Z;t=C;C=Z.getJqUi(u);u.has(C)?C.show():u.append(C);f.relayout()}});n.append(aa);d==p&&(r=aa)}};this.setDefaultSelect=function(n){d=n};this.getSelectedTab=
function(){return f};this.addTabContainers=function(n){b.push(n)};this.setShowTips=function(n){c=n}};Ta.DropComboxSelector=function(){var a=this,c=[],b=[],d={},r,f,t,A=!1,n,p,u=!0,J=!0,aa=0,C,Z,ma=25;this.getJqUi=function(){r=new I;f=r.getJqUi();f.on("click",function(){A=!A});r.setCustomPainter(w);r.setDropdownCreator(Q);t=$("<div>");t.css({height:"100%",width:"100%",position:"absolute",overflow:"auto"});u&&(p=$("<div>"),p.text("\u00d7"),p.attr("title",F.get("clean","\u6e05\u9664")),p.addClass("sa-ctrl-searchbox-close"),
p.addClass("rpt-clear-icon"),p.on("click",function(){J=!1;l();c=[];r.setSelectedModel(c)}),p.css("display","none"),E.layoutCtrlWithLRTB(p,null,23,16),f.append(p));return f};var w=function(q,N){l();return n?n(q,N):""};this.setFucChangeText=function(q){n=q};var Q=function(q,N,fa,ha,na){q.css("background-color","#FFFFFF");H();q.append(t);return[C?C:-1,Z?Z:-1]};this.addItem=function(q){b.push(q.getName()+aa);d[q.getName()+aa]=q;aa++};this.addBatchItem=function(q){for(var N=0;N<q.length;N++)a.addItem(q[N])};
var H=function(){var q=[];t.empty();for(var N in b){var fa=d[b[N]];fa=k(fa.getName(),fa.getUserObject());E.layoutCtrlWithLRTB(fa,null,null,"100%",N*ma,null,ma);q.push(fa)}t.append(q)},k=function(q,N){var fa=new e;fa.setText(q);fa.setUserObject(N);fa.setChecked(-1!=c.indexOf(N));fa.addCheckedListener(function(na,Ua){na.isChecked()?(c.push(na.getUserObject()),J=!0):(na=c.indexOf(na.getUserObject()),-1!=na&&c.splice(na,1),0==c.length&&(J=!1));r.setSelectedModel(c)});var ha=fa.getJqUi();ha.find(".sa-ctrl-checkbox-box").css({left:"5px",
top:"50%",transform:"translateY(-50%)"});ha.find(".sa-ctrl-checkbox-text").css({left:"25px",height:"100%","align-items":"center"});ha.on("mouseover",function(){ha.css("background-color","#E0EFFFFF")});ha.on("mouseleave",function(){ha.css("background-color","")});return ha};this.refreshAllDropDown=function(){A&&H()};this.refreshNewNode=function(q){A&&(a.addItem(q),q=d[b[b.length-1]],q=k(q.getName(),q.getUserObject()),E.layoutCtrlWithLRTB(q,null,null,"100%",(b.length-1)*ma,null,ma),t.append(q))};this.setDropHeight=
function(q){Z=q};this.setDropWidth=function(q){C=q};this.setCellHeight=function(q){ma=q};this.enableClearIcon=function(q){u=q};this.getSelectedValue=function(){return c};var l=function(){p&&p.css("display",J?"block":"none")};this.clear=function(){b=[];c=[];d={}}};Ta.SortableTableHead=function(a,c,b,d,r){var f=a;var t=c;var A=d;var n=r;var p=b;this.setWidthRatio=function(u){p=u};this.getWidthRatio=function(){return p};this.setSortable=function(u){A=u};this.getSortable=function(){return A};this.setCalculable=
function(u){n=u};this.getCalculable=function(){return n};this.setField=function(u){t=u};this.getField=function(){return t};this.setName=function(u){f=u};this.getName=function(){return f};this.setIconGap=function(u){}};Ta.DropComboxNode=function(a,c){var b=a;var d=c;this.setName=function(r){b=r};this.getName=function(){return b};this.setUserObject=function(r){d=r};this.getUserObject=function(){return d}};Ta.StatisticFilterType=ab;Ta.AbstractViewMemberRender=hb;var lb,rb,E,qb,F,Ga,mb,ob,gb,S,T,oa,wa,
ya,Aa,Ba,ta,I,v,e,g,m,y,z,M,ra,Da,Ra,eb,Fa,Ma,ja,za,ea;(function(){var a=com.kingdee.bos.qing.common;lb=a.Util;rb=a.TextMeasurer;E=a.DomUtil;qb=a;a=com.kingdee.bos.qing.framework.common;F=a.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.rpt.statistic);gb=a.TabbedUiUtil;mb=a.WindowResizeObserver;ob=a.RemoteFramework;T=a.AbstractFacade;S=a.AbstractIcons;a=com.kingdee.bos.qing.behavior;Aa=a.BehaviorManager;a=com.kingdee.bos.qing.ui.component;oa=a.Label;wa=a.ToolbarButton;ya=a.MessageDialog;
ta=a.MessageCurtain;I=a.DropdownSelector;v=a.WorkButton;e=a.CheckBox;g=a.SplitPane;m=a.TabContainer;y=a.List;Ba=a.AbstractModalDialog;a=com.kingdee.bos.qing.biz.common;ra=a.AbstractDialogSelector;z=a.ComplexPaginationBar;M=a.UserDialogSelector;Da=a.KeyBoardSearchBox;a=com.kingdee.bos.qing.access.model;Ra=a.PublishModel;eb=a.ReportModel;Fa=a.SnapModel;a=com.kingdee.bos.qing.framework.common;Ma=a.AbstractRemoteCall;a=com.kingdee.bos.qing.access.common;ja=a.SelectPublishNameFacade;a=com.kingdee.bos.qing.common.ui;
Ga=a.TableUtil;a=com.kingdee.bos.qing;ea=a.Seer;a=com.kingdee.bos.qing.collaboration.common.ui;za=a.ViewCollaborationMemberDialog})();Ha.BOX_LEN=15;pa.ORDER_DESC="DESC";pa.ORDER_ASC="ASC";var ba={CENTER:"center",APPMENU:"appMenu",SNAPMENU:"snapMenu"},ua={PUBLISH_TAB:"publish",SNAPSHOT_TAB:"snapShot"};Ta.SplitMatchTextUtil=new function(){this.redTextAfterMatching=function(b,d){if(void 0==b||null==d||""==d){var r=$("<span>");r.text(b);return r}r=$("<span>");d=d.trim();for(var f=a(b,d),t=d.length;-1!=
f;)c(r,b.substring(0,f)),c(r,b.substring(f,f+t),!0),b=b.substring(f+t),f=a(b,d);c(r,b);return r};var a=function(b,d){b=b.toUpperCase();d=d.toUpperCase();return b.indexOf(d)};this.highLightAllContent=function(b){var d=$("<span>");d.css("color","red");d.text(b);d.attr("attr",b);return d};var c=function(b,d,r){if(null!=d&&""!=d){var f=$("<span>");r&&f.css("color","red");f.text(d);f.appendTo(b)}}};Ta.RemoteUrlFacade=new function(){this.getAccessRemoteUrl=function(){var a=lb.decodeParamFromUrl(window.location.search,
"path");return(a?a:"/ierp")+"/qing-rpt/accessRecord.do"};this.getCreateRemoteUrl=function(){var a=lb.decodeParamFromUrl(window.location.search,"path");return(a?a:"/ierp")+"/qing-rpt/createRecord.do"};this.getQingTreeMenuRemoteUrl=function(){var a=lb.decodeParamFromUrl(window.location.search,"path");return(a?a:"/ierp")+"/qing/selectPublish.do"}};Ta.Icons=new function(){S.call(this);var a=this.protectedMethod;this.protectedInit=function(c,b){c=com.kingdee.bos.extreport.mancenter.ComboIcon;if(!c)throw Error("com.kingdee.bos.extreport.mancenter.ComboIcon not found.");
c.define(b,"nodata");b.setStartPosition(0,0);b.setGap(0);b.setIconSize(220,220);a.registIcon(0,0,"nodata");c.define(b,"tips-background");b.setIconSize(240,150);a.registIcon(0,0,"tips-background");c.define(b,"tm");b.setGap(1);b.setStartPosition(1,1);b.setIconSize(16,16);a.registIcon(0,4,"btn-delete_hover");a.registIcon(1,4,"btn-delete");a.registIcon(2,0,"icon_sort-asc-esc");a.registIcon(2,1,"icon_sort-asc-desc");a.registIcon(2,2,"icon_sortable-v");c.define(b,"dm");b.setStartPosition(1,1);b.setGap(1);
b.setIconSize(16,16);a.registIcon(6,14,"selected_btn_delete");c.define(b,"extreport");b.setStartPosition(0,0);b.setGap(1);b.setIconSize(16,16);a.registIcon(1,5,"icon-extreport");b.setFilePath("qingrpt/snapcenter/skin/ierp/res/view_member.png");b.setGap(1);b.setStartPosition(0,117);b.setIconSize(16,16);a.registIcon(1,4,"view_member");a.registIcon(0,4,"view_member_hover");b.setGap(1);b.setStartPosition(0,151);b.setIconSize(170,98);a.registIcon(0,0,"icon-empty")}};var Na=Ta.Icons;ab.USER="USER";ab.COLLABORATION=
"COLLABORATION";ab.AllFilterType=[new ab(ab.USER,"user","\u7528\u6237"),new ab(ab.COLLABORATION,"space","\u534f\u4f5c\u7a7a\u95f4")]})();(function(){function x(){X.call(this);B.call(this);la.call(this);var S=this,T,oa,wa,ya=Pa.AllFilterType,Aa=ya[0],Ba=1,ta,I,v,e,g,m,y,z,M,ra,Da;(function(){var Fa=new U(E.get("publishName","\u53d1\u5e03/\u5feb\u7167\u540d\u79f0"),"FNAME",8),Ma=new U(E.get("path","\u8def\u5f84"),"FPATH",12),ja=new U(E.get("createTime","\u521b\u5efa\u65f6\u95f4"),"FCREATETIME",8),za=new U(E.get("owner","\u62e5\u6709\u8005"),"FCREATORNAME",8),ea=new U(E.get("viewTimes","\u67e5\u770b\u6b21\u6570"),"FVISIT",5,!0,!0),ba=
new U(E.get("exportTimes","\u5bfc\u51fa\u6b21\u6570"),"FEXPORT",5,!0,!0),ua=new U(E.get("printTimes","\u6253\u5370\u6b21\u6570"),"FPRINT",5,!0,!0),Na=new U(E.get("snapSaveTimes","\u5feb\u7167\u4fdd\u5b58\u6b21\u6570"),"FSAVE",5,!0,!0),a=new U(E.get("snapEditTimes","\u5feb\u7167\u7f16\u8f91\u6b21\u6570"),"FEDIT",5,!0,!0),c=new U(E.get("totalNum","\u603b\u8ba1"),"FTOTAL",5,!0,!0);S.setFuncResolveObjectToTotalArr(function(b){var d=b.getVisit(),r=b.getExport(),f=b.getPrint(),t=b.getSave(),A=b.getEdit();
b=b.getTotal();return["","","","",d,r,f,t,A,b]});g=[Fa,Ma,ja,za,ea,ba,ua,Na,a,c];S.setSortTableHeads(g,4);S.setEnablePagination(!0)})();this.createFilterContent=function(Fa,Ma,ja,za){var ea=E.get("publishName","\u53d1\u5e03/\u5feb\u7167\u540d\u79f0"),ba=za.measureWidth(ea),ua=new Za;ua.setText(ea);ea=ua.getJqUi();Ma.layoutCtrl(ea,ja+20,0,ba,23);ea.appendTo(Fa);ja+=20+ba;T=new O;ba=T.getJqUi();ba.children(".sa-ctrl-textfield-input").css("width","86%");Ma.layoutCtrl(ba,ja+10,0,210,23);ba.appendTo(Fa);
ja+=210;ea=E.get("owner","\u62e5\u6709\u8005");ba=za.measureWidth(ea);ua=new Za;ua.setText(ea);ea=ua.getJqUi();Ma.layoutCtrl(ea,ja+35,0,ba,23);ea.appendTo(Fa);ja+=35+ba;ea=new da;ea.setItemModels(ya);ea.setSelected(Aa);ba=ea.getJqUi();Ma.layoutCtrl(ba,ja+20,0,100,23);ea.setCustomPainter(function(Na,a,c){Na=E.get(c.getI18nKey(),c.getDefaultDesc());a.text(Na);a.attr("title",Na)});ea.addSelectedChangedListener(function(Na,a,c){Aa=c;(c&&c.getTypeID())==Pa.USER?(I.hide(),v.show(),e="",Ba=1):(v.hide(),
I.show(),z=[],Ba=0)});ja+=130;ta=new G;ea=E.get("inputSpaceName","\u8bf7\u8f93\u5165\u534f\u4f5c\u7a7a\u95f4\u540d\u79f0");ta.setPlaceholder(ea);I=ta.getJqUi();I.attr("title",ea);I.hide();Ma.layoutCtrl(I,ja+10,0,210,23);ba.appendTo(Fa);I.appendTo(Fa);oa=new ca;oa.setConfirmClear(!1);v=oa.getJqUi();Ma.layoutCtrl(v,ja+10,0,210,23);v.appendTo(Fa);ja+=210;ea=E.get("operationDate","\u64cd\u4f5c\u65e5\u671f");ba=za.measureWidth(ea);za=new Za;za.setRequired(!0);za.setText(ea);za=za.getJqUi();Ma.layoutCtrl(za,
ja+35,0,ba+10,23);za.appendTo(Fa);ja+=35+ba;wa=new ob;za=wa.getJqUi();Ma.layoutCtrl(za,ja+20,0,210,23);za.appendTo(Fa);return ja+=210};this.cellShow=function(Fa,Ma,ja,za,ea){Ma=!1;Fa=$(Fa);ja=$("<div>");var ba=null;ea.getSourceId().startsWith("QingAnalysis")&&(Ma=!0);if(0==za){ja.addClass("rpt-statistic-data-table-cell-left");ba=ea.getPubName();if(ea.isPreset()){var ua=$("<div>");ua.text(E.get("preset","\u9884\u7f6e"));ua.addClass("select-publish-name-preset-tag");ua.appendTo(Fa)}Ra(ja,ba,ea,za,null,
Ma)}else 2==za?(ja.addClass("rpt-statistic-data-table-cell-left"),ba=ea.getCreateFormatTime(),ja.text(ba)):1==za?(ja.addClass("rpt-statistic-data-table-cell-left"),ba=ea.getPubPath(),ja.text(ba)):3==za?(ja.addClass("rpt-statistic-data-table-cell-left"),ba=ea.getCreatorName(),ja.text(ba),ba&&"0"==ea.getSpaceType()&&S.viewCollaborationMember(Fa,ea)):(ja.addClass("rpt-statistic-data-table-cell-center"),4==za?(ba=ea.getVisit(),Ra(ja,ba,ea,za,F.OperationType.QING_VISIT)):5==za?(ba=ea.getExport(),Ra(ja,
ba,ea,za,F.OperationType.QING_EXPORT)):6==za?(ba=ea.getPrint(),Ra(ja,ba,ea,za,F.OperationType.QING_PRINT)):7==za?(ba=ea.getSave(),Ra(ja,ba,ea,za,F.OperationType.QING_SNAPSHOT_SAVE)):8==za?Ma?(ba="-",ja.text(ba)):(ba=ea.getEdit(),Ra(ja,ba,ea,za,F.OperationType.QING_SNAPSHOT_EDIT)):9==za&&(ba=ea.getTotal(),Ra(ja,ba,ea,za,null)));ja.attr("title",ba);Fa.append(ja)};var Ra=function(Fa,Ma,ja,za,ea,ba){var ua=$("<span>");if(0==za||0!=Ma)ua.addClass("rpt-statistic-click-open-panel"),ua.on("click",function(){if(0==
za){var Na=new L(E.get("accessRecord","\u8bbf\u95ee\u8bb0\u5f55")+"-"+ja.getPubName());Na.setFilterContext(ja.getSourceId(),M,ra);ba&&Na.bIsSnapRow();Na.showDialog()}else Na=new ka(E.get("accessDetail","\u8bbf\u95ee\u660e\u7ec6")+"-"+ja.getPubName()),Na.setFilterContext(ja.getSourceId(),ea,M,ra,Ma),Na.showDialog()});ua.text(Ma);ua.appendTo(Fa)},eb=S.queryDataByFilter;this.queryDataByFilter=function(){var Fa=T.getSelectedValue();m=Fa[0];y=Fa[1];Fa=oa.getSelectedValue();z=[];for(var Ma=0;Ma<Fa.length;Ma++)z.push(Fa[Ma].getValue());
Fa=wa.getDateRange();M=Fa[0];ra=Fa[1];e=$.trim(ta.getText()).toUpperCase();Aa.getTypeID()==Pa.USER?e="":z=[];eb()};this.doQueryData=function(Fa,Ma,ja,za,ea){var ba=new Ga(S.getRemoteImpl(P.getAccessRemoteUrl()),function(ua){Da=ua.totalRow;null==ea?S.getPaginationBar().resetPaginationAndJumpToFirstPage(Da):ea(Da);ua=ua.data;var Na=[],a;for(a in ua){var c=new ab;c.fromJsonObject(ua[a]);Na.push(c)}S.updateTable(Na);S.relayout()},function(){});ba.setShowBlocking(!0);ba.loadDataAspectIndex(m,y,z,M,ra,
Ba,e,Fa,Ma,ja,za)};this.doExportExcel=function(Fa,Ma,ja,za){var ea={},ba=[],ua;for(ua in g)ea[g[ua].getName()]=g[ua].getField(),ba.push(g[ua].getName());Fa={exportData:gb.DATA_INDEX,arrPublishId:JSON.stringify(m),arrSnapId:JSON.stringify(y),arrCreatorId:JSON.stringify(z),startTime:M,endTime:ra,searchText:e,spaceType:Ba,tableHeads:JSON.stringify(ba),headAndFieldMapping:JSON.stringify(ea),field:Fa,order:Ma};ja=new Ga(S.getRemoteImpl(P.getAccessRemoteUrl()),ja,za);ja.setBlockingPrompt(E.get("loading",
"\u6b63\u5728\u5bfc\u51fa..."));ja.exportExcel(Fa)};this.getTotalRow=function(){return Da};this.getExcelPrefix=function(){return E.get("publishDatePrefix","\u53d1\u5e03\u5185\u5bb9\u8bbf\u95ee\u7edf\u8ba1(\u6570\u636e\u89c6\u89d2)")};this.getRemoteUrl=function(){return P.getAccessRemoteUrl()}}function L(S){W.call(this);var T=this,oa,wa,ya,Aa,Ba,ta=!1;(function(){T.setTitle(S);T.setSize(1E3,570);var v=new U(E.get("accessor","\u8bbf\u95ee\u8005"),"FUSERNAME",5,!1,!1),e=new U(E.get("viewTimes","\u67e5\u770b\u6b21\u6570"),
"FVISIT",5,!0,!0),g=new U(E.get("exportTimes","\u5bfc\u51fa\u6b21\u6570"),"FEXPORT",5,!0,!0),m=new U(E.get("printTimes","\u6253\u5370\u6b21\u6570"),"FPRINT",5,!0,!0),y=new U(E.get("snapSaveTimes","\u5feb\u7167\u4fdd\u5b58\u6b21\u6570"),"FSAVE",5,!0,!0),z=new U(E.get("snapEditTimes","\u5feb\u7167\u7f16\u8f91\u6b21\u6570"),"FEDIT",5,!0,!0),M=new U(E.get("totalNum","\u603b\u8ba1"),"FTOTAL",5,!0,!0);Aa=[v,e,g,m,y,z,M];T.setSortTableHeads(Aa,1);T.setEnablePagination(!0)})();this.bIsSnapRow=function(){ta=
!0};this.setFilterContext=function(v,e,g){oa=v;wa=e;ya=g};this.cellShow=function(v,e,g,m,y){v=$(v);e=$("<div>");g=null;0==m?(e.addClass("rpt-statistic-data-table-cell-left"),e.text(y.getUserName())):(e.addClass("rpt-statistic-data-table-cell-center"),1==m?(g=y.getVisit(),I(e,g,y,m,F.OperationType.QING_VISIT)):2==m?(g=y.getExport(),I(e,g,y,m,F.OperationType.QING_EXPORT)):3==m?(g=y.getPrint(),I(e,g,y,m,F.OperationType.QING_PRINT)):4==m?(g=y.getSave(),I(e,g,y,m,F.OperationType.QING_SNAPSHOT_SAVE)):5==
m?ta?(g="-",e.text(g)):(g=y.getEdit(),I(e,g,y,m,F.OperationType.QING_SNAPSHOT_EDIT)):6==m&&(g=y.getTotal(),I(e,g,y,m,null)));e.attr("title",g);v.append(e)};var I=function(v,e,g,m,y){m=$("<span>");0!=e&&(m.addClass("rpt-statistic-click-open-panel"),m.on("click",function(){var z=new Y(E.get("accessDetail","\u8bbf\u95ee\u660e\u7ec6"));z.setFilterContext(oa,g.getUserId(),y,wa,ya,e);z.showDialog()}));m.text(e);m.appendTo(v)};this.doQueryData=function(v,e,g,m,y){var z=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),
function(M){Ba=M.totalRow;null==y?T.getPaginationBar().resetPaginationAndJumpToFirstPage(Ba):y(Ba);M=M.data;var ra=[],Da;for(Da in M){var Ra=new hb;Ra.fromJsonObject(M[Da]);ra.push(Ra)}T.updateTable(ra)},function(){});z.setShowBlocking(!0);z.loadDataAspectAccessRecord(oa,wa,ya,v,e,g,m)};this.doExportExcel=function(v,e,g,m){var y={},z=[],M;for(M in Aa)y[Aa[M].getName()]=Aa[M].getField(),z.push(Aa[M].getName());v={exportData:gb.DATA_ACCESS_RECORD,sourceId:oa,tableHeads:JSON.stringify(z),headAndFieldMapping:JSON.stringify(y),
total:Ba,startTime:wa,endTime:ya,field:v,order:e};g=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),g,m);g.setBlockingPrompt(E.get("loading","\u6b63\u5728\u5bfc\u51fa..."));g.exportExcel(v)};this.getTotalRow=function(){return Ba}}function Y(S){W.call(this);var T=this,oa,wa,ya,Aa,Ba,ta,I;(function(){T.setTitle(S);T.setSize(500,570);var v=new U(E.get("operationTime","\u64cd\u4f5c\u65f6\u95f4"),"FOPERATIONTIME",5,!0),e=new U(E.get("operationAction","\u64cd\u4f5c\u884c\u4e3a"),"FOPERATIONTYPE",5);ta=[v,
e];T.setSortTableHeads(ta,0);T.setEnablePagination(!0)})();this.setFilterContext=function(v,e,g,m,y,z){oa=v;Aa=e;wa=m;ya=y;Ba=g;I=z};this.cellShow=function(v,e,g,m,y){v=$(v);e=$("<div>");g=null;e.addClass("rpt-statistic-data-table-cell-left");0==m?g=y.getOperationFormatTime():1==m&&(g=h.AccessModelUtil.tranOperationToText(y.getOperationType()));e.text(g);e.attr("title",g);v.append(e)};this.doQueryData=function(v,e,g,m,y){var z=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),function(M){null==y?T.getPaginationBar().resetPaginationAndJumpToFirstPage(I):
y(I);M=M.data;var ra=[],Da;for(Da in M){var Ra=new Ta;Ra.fromJsonObject(M[Da]);ra.push(Ra)}T.updateTable(ra)},function(){});z.setShowBlocking(!0);z.loadDataAspectDetailRecord(oa,Aa,Ba,wa,ya,v,e,g,m,I)};this.doExportExcel=function(v,e,g,m){var y={},z=[],M;for(M in ta)y[ta[M].getName()]=ta[M].getField(),z.push(ta[M].getName());v={exportData:gb.DATA_ACCESS_RECORD_DETAIL,userId:Aa,sourceId:oa,operationType:Ba,startTime:wa,endTime:ya,tableHeads:JSON.stringify(z),headAndFieldMapping:JSON.stringify(y),field:v,
order:e,total:I};g=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),g,m);g.setBlockingPrompt(E.get("loading","\u6b63\u5728\u5bfc\u51fa..."));g.exportExcel(v)};this.getTotalRow=function(){return I}}function ka(S){W.call(this);var T=this,oa,wa,ya,Aa,Ba,ta;(function(){T.setTitle(S);T.setSize(1E3,570);var I=new U(E.get("accessor","\u8bbf\u95ee\u8005"),"FUSERNAME",5),v=new U(E.get("operationTime","\u64cd\u4f5c\u65f6\u95f4"),"FOPERATIONTIME",5,!0),e=new U(E.get("operationAction","\u64cd\u4f5c\u884c\u4e3a"),
"FOPERATIONTYPE",5);oa=[I,v,e];T.setSortTableHeads(oa,1);T.setEnablePagination(!0)})();this.setFilterContext=function(I,v,e,g,m){wa=I;ya=v;Aa=e;Ba=g;ta=m};this.cellShow=function(I,v,e,g,m){I=$(I);v=$("<div>");e=null;v.addClass("rpt-statistic-data-table-cell-left");0==g?e=m.getUserName():1==g?e=m.getOperationFormatTime():2==g&&(e=h.AccessModelUtil.tranOperationToText(m.getOperationType()));v.text(e);v.attr("title",e);I.append(v)};this.doQueryData=function(I,v,e,g,m){var y=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),
function(z){null==m?T.getPaginationBar().resetPaginationAndJumpToFirstPage(ta):m(ta);z=z.data;var M=[],ra;for(ra in z){var Da=new lb;Da.fromJsonObject(z[ra]);M.push(Da)}T.updateTable(M)},function(){});y.setShowBlocking(!0);y.loadDataAspectDetailRecordWithUser(wa,ya,Aa,Ba,I,v,e,g,ta)};this.doExportExcel=function(I,v,e,g){var m={},y=[],z;for(z in oa)m[oa[z].getName()]=oa[z].getField(),y.push(oa[z].getName());I={exportData:gb.DATA_ACCESS_RECORD_DETAIL_WITH_USER,sourceId:wa,operationType:ya,startTime:Aa,
endTime:Ba,tableHeads:JSON.stringify(y),headAndFieldMapping:JSON.stringify(m),field:I,order:v,total:ta};e=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),e,g);e.setBlockingPrompt(E.get("loading","\u6b63\u5728\u5bfc\u51fa..."));e.exportExcel(I)};this.getTotalRow=function(){return ta}}function sa(){X.call(this);B.call(this);var S=this,T,oa,wa,ya,Aa,Ba,ta;(function(){var e=new U(E.get("accessor","\u8bbf\u95ee\u8005"),"FUSERNAME",5),g=new U(E.get("viewTimes","\u67e5\u770b\u6b21\u6570"),"FVISIT",5,!0,!0),
m=new U(E.get("exportTimes","\u5bfc\u51fa\u6b21\u6570"),"FEXPORT",5,!0,!0),y=new U(E.get("printTimes","\u6253\u5370\u6b21\u6570"),"FPRINT",5,!0,!0),z=new U(E.get("snapSaveTimes","\u5feb\u7167\u4fdd\u5b58\u6b21\u6570"),"FSAVE",5,!0,!0),M=new U(E.get("snapEditTimes","\u5feb\u7167\u7f16\u8f91\u6b21\u6570"),"FEDIT",5,!0,!0),ra=new U(E.get("totalNum","\u603b\u8ba1"),"FTOTAL",5,!0,!0);S.setFuncResolveObjectToTotalArr(function(Da){var Ra=Da.getVisit(),eb=Da.getExport(),Fa=Da.getPrint(),Ma=Da.getSave(),ja=
Da.getEdit();Da=Da.getTotal();return["",Ra,eb,Fa,Ma,ja,Da]});wa=[e,g,m,y,z,M,ra];S.setSortTableHeads(wa,1);S.setEnablePagination(!0)})();this.createFilterContent=function(e,g,m,y){var z=E.get("accessor","\u8bbf\u95ee\u8005"),M=y.measureWidth(z),ra=new Za;ra.setText(z);z=ra.getJqUi();g.layoutCtrl(z,m+20,0,M,23);z.appendTo(e);m+=20+M;T=new ca;T.setConfirmClear(!1);M=T.getJqUi();g.layoutCtrl(M,m+10,0,210,23);M.appendTo(e);m+=210;z=E.get("operationDate","\u64cd\u4f5c\u65e5\u671f");M=y.measureWidth(z);
y=new Za;y.setText(z);y.setRequired(!0);y=y.getJqUi();g.layoutCtrl(y,m+30,0,M+10,23);y.appendTo(e);m+=20+M;oa=new ob;M=oa.getJqUi();g.layoutCtrl(M,m+20,0,210,23);M.appendTo(e);return m+210};this.cellShow=function(e,g,m,y,z){e=$(e);g=$("<div>");m=null;0==y?(g.addClass("rpt-statistic-data-table-cell-left"),m=z.getUserName(),I(g,m,z,y)):(g.addClass("rpt-statistic-data-table-cell-center"),1==y?(m=z.getVisit(),I(g,m,z,y,F.OperationType.QING_VISIT)):2==y?(m=z.getExport(),I(g,m,z,y,F.OperationType.QING_EXPORT)):
3==y?(m=z.getPrint(),I(g,m,z,y,F.OperationType.QING_PRINT)):4==y?(m=z.getSave(),I(g,m,z,y,F.OperationType.QING_SNAPSHOT_SAVE)):5==y?(m=z.getEdit(),I(g,m,z,y,F.OperationType.QING_SNAPSHOT_EDIT)):6==y&&(m=z.getTotal(),I(g,m,z,y,null)));g.attr("title",m);e.append(g)};var I=function(e,g,m,y,z){var M=$("<span>");if(0==y||0!=g)M.addClass("rpt-statistic-click-open-panel"),M.on("click",function(){if(0==y){var ra=new Ha(E.get("accessRecord","\u8bbf\u95ee\u8bb0\u5f55")+"-"+m.getUserName());ra.setFilterContext(m.getUserId(),
Aa,Ba);ra.showDialog()}else ra=new Ca(E.get("accessDetail","\u8bbf\u95ee\u660e\u7ec6")+"-"+m.getUserName()),ra.setFilterContext(m.getUserId(),z,Aa,Ba,g),ra.showDialog()});M.text(g);M.appendTo(e)},v=S.queryDataByFilter;this.queryDataByFilter=function(){var e=T.getSelectedValue();ya=[];for(var g=0;g<e.length;g++)ya.push(e[g].getValue());e=oa.getDateRange();Aa=e[0];Ba=e[1];v()};this.doQueryData=function(e,g,m,y,z){var M=new Ga(S.getRemoteImpl(P.getAccessRemoteUrl()),function(ra){ta=ra.totalRow;null==
z?S.getPaginationBar().resetPaginationAndJumpToFirstPage(ta):z(ta);ra=ra.data;var Da=[],Ra;for(Ra in ra){var eb=new hb;eb.fromJsonObject(ra[Ra]);Da.push(eb)}S.updateTable(Da);S.relayout()},function(){});M.setShowBlocking(!0);M.loadUserAspectIndex(ya,Aa,Ba,e,g,m,y)};this.doExportExcel=function(e,g,m,y){var z={},M=[],ra;for(ra in wa)z[wa[ra].getName()]=wa[ra].getField(),M.push(wa[ra].getName());e={exportData:gb.USER_INDEX,arrCreatorId:JSON.stringify(ya),startTime:Aa,endTime:Ba,tableHeads:JSON.stringify(M),
headAndFieldMapping:JSON.stringify(z),field:e,order:g};m=new Ga(S.getRemoteImpl(P.getAccessRemoteUrl()),m,y);m.setBlockingPrompt(E.get("loading","\u6b63\u5728\u5bfc\u51fa..."));m.exportExcel(e)};this.getTotalRow=function(){return ta};this.getExcelPrefix=function(){return E.get("publishUserPrefix","\u53d1\u5e03\u5185\u5bb9\u8bbf\u95ee\u7edf\u8ba1(\u8bbf\u95ee\u8005\u89c6\u89d2)")};this.getRemoteUrl=function(){return P.getAccessRemoteUrl()}}function Ha(S){W.call(this);la.call(this);var T=this,oa,wa,
ya,Aa,Ba;(function(){T.setTitle(S);T.setSize(1E3,570);var I=new U(E.get("publishName","\u53d1\u5e03/\u5feb\u7167\u540d\u79f0"),"FNAME",9),v=new U(E.get("path","\u8def\u5f84"),"FPATH",14),e=new U(E.get("owner","\u62e5\u6709\u8005"),"FCREATORNAME",9),g=new U(E.get("viewTimes","\u67e5\u770b\u6b21\u6570"),"FVISIT",7,!0,!0),m=new U(E.get("exportTimes","\u5bfc\u51fa\u6b21\u6570"),"FEXPORT",7,!0,!0),y=new U(E.get("printTimes","\u6253\u5370\u6b21\u6570"),"FPRINT",7,!0,!0),z=new U(E.get("snapSaveTimes","\u5feb\u7167\u4fdd\u5b58\u6b21\u6570"),
"FSAVE",7,!0,!0),M=new U(E.get("snapEditTimes","\u5feb\u7167\u7f16\u8f91\u6b21\u6570"),"FEDIT",7,!0,!0),ra=new U(E.get("totalNum","\u603b\u8ba1"),"FTOTAL",7,!0,!0);oa=[I,v,e,g,m,y,z,M,ra];T.setSortTableHeads(oa,3);T.setEnablePagination(!0)})();this.setFilterContext=function(I,v,e){wa=I;ya=v;Aa=e};this.cellShow=function(I,v,e,g,m){I=$(I);v=$("<div>");e=null;0==g?(v.addClass("rpt-statistic-data-table-cell-left"),m.getIsDeleted()&&v.css("color","red"),m.isPreset()&&(g=$("<div>"),g.text(E.get("preset",
"\u9884\u7f6e")),g.addClass("select-publish-name-preset-tag"),g.appendTo(I)),e=m.getPubName(),v.text(e)):1==g?(v.addClass("rpt-statistic-data-table-cell-left"),e=m.getPubPath(),v.text(e)):2==g?(v.addClass("rpt-statistic-data-table-cell-left"),e=m.getCreatorName(),v.text(e),e&&"0"==m.getSpaceType()&&T.viewCollaborationMember(I,m)):(v.addClass("rpt-statistic-data-table-cell-center"),3==g?(e=m.getVisit(),ta(v,e,m,g,F.OperationType.QING_VISIT)):4==g?(e=m.getExport(),ta(v,e,m,g,F.OperationType.QING_EXPORT)):
5==g?(e=m.getPrint(),ta(v,e,m,g,F.OperationType.QING_PRINT)):6==g?(e=m.getSave(),ta(v,e,m,g,F.OperationType.QING_SNAPSHOT_SAVE)):7==g?m.getSourceId().startsWith("QingAnalysis")?(e="-",v.text(e)):(e=m.getEdit(),ta(v,e,m,g,F.OperationType.QING_SNAPSHOT_EDIT)):8==g&&(e=m.getTotal(),ta(v,e,m,g,null)));v.attr("title",e);I.append(v)};var ta=function(I,v,e,g,m){g=$("<span>");0!=v&&(g.addClass("rpt-statistic-click-open-panel"),g.on("click",function(){var y=new pa(E.get("accessDetail","\u8bbf\u95ee\u660e\u7ec6"));
y.setFilterContext(e.getSourceId(),wa,m,ya,Aa,v);y.showDialog()}));g.text(v);g.appendTo(I)};this.doQueryData=function(I,v,e,g,m){var y=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),function(z){Ba=z.totalRow;null==m?T.getPaginationBar().resetPaginationAndJumpToFirstPage(Ba):m(Ba);z=z.data;var M=[],ra;for(ra in z){var Da=new ab;Da.fromJsonObject(z[ra]);M.push(Da)}T.updateTable(M)},function(){});y.setShowBlocking(!0);y.loadUserAspectAccessModel(wa,ya,Aa,I,v,e,g)};this.doExportExcel=function(I,v,e,g){var m=
{},y=[],z;for(z in oa)m[oa[z].getName()]=oa[z].getField(),y.push(oa[z].getName());I={exportData:gb.USER_ACCESS_RECORD,userId:wa,startTime:ya,endTime:Aa,tableHeads:JSON.stringify(y),headAndFieldMapping:JSON.stringify(m),field:I,order:v};e=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),e,g);e.setBlockingPrompt(E.get("loading","\u6b63\u5728\u5bfc\u51fa..."));e.exportExcel(I)};this.getTotalRow=function(){return Ba}}function pa(S){W.call(this);var T=this,oa,wa,ya,Aa,Ba,ta,I;(function(){T.setTitle(S);T.setSize(500,
570);var v=new U(E.get("operationTime","\u64cd\u4f5c\u65f6\u95f4"),"FOPERATIONTIME",1,!0),e=new U(E.get("operationAction","\u64cd\u4f5c\u884c\u4e3a"),"FOPERATIONTYPE",1);oa=[v,e];T.setSortTableHeads(oa,0);T.setEnablePagination(!0)})();this.setFilterContext=function(v,e,g,m,y,z){wa=v;Aa=e;ya=g;Ba=m;ta=y;I=z};this.cellShow=function(v,e,g,m,y){v=$(v);e=$("<div>");g=null;e.addClass("rpt-statistic-data-table-cell-left");0==m?g=y.getOperationFormatTime():1==m&&(g=h.AccessModelUtil.tranOperationToText(y.getOperationType()));
e.text(g);e.attr("title",g);v.append(e)};this.doQueryData=function(v,e,g,m,y){var z=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),function(M){I=M.totalRow;null==y?T.getPaginationBar().resetPaginationAndJumpToFirstPage(I):y(I);M=M.data;var ra=[],Da;for(Da in M){var Ra=new Ta;Ra.fromJsonObject(M[Da]);ra.push(Ra)}T.updateTable(ra)},function(){});z.setShowBlocking(!0);z.loadUserAspectDetailModel(wa,Aa,ya,Ba,ta,v,e,g,m,I)};this.doExportExcel=function(v,e,g,m){var y={},z=[],M;for(M in oa)y[oa[M].getName()]=
oa[M].getField(),z.push(oa[M].getName());v={exportData:gb.USER_ACCESS_RECORD_DETAIL,sourceId:wa,userId:Aa,operationType:ya,startTime:Ba,endTime:ta,tableHeads:JSON.stringify(z),headAndFieldMapping:JSON.stringify(y),field:v,order:e,total:I};g=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),g,m);g.setBlockingPrompt(E.get("loading","\u6b63\u5728\u5bfc\u51fa..."));g.exportExcel(v)};this.getTotalRow=function(){return I}}function Ca(S){W.call(this);var T=this,oa,wa,ya,Aa,Ba,ta;(function(){T.setTitle(S);T.setSize(1E3,
570);var I=new U(E.get("publishName","\u53d1\u5e03\u6216\u5feb\u7167\u540d\u79f0"),"FNAME",8),v=new U(E.get("path","\u8def\u5f84"),"FPATH",10),e=new U(E.get("operationTime","\u64cd\u4f5c\u65f6\u95f4"),"FOPERATIONTIME",8,!0),g=new U(E.get("operationAction","\u64cd\u4f5c\u884c\u4e3a"),"FOPERATIONTYPE",5);oa=[I,v,e,g];T.setSortTableHeads(oa,2);T.setEnablePagination(!0)})();this.setFilterContext=function(I,v,e,g,m){wa=I;ya=v;Aa=e;Ba=g;ta=m};this.cellShow=function(I,v,e,g,m){I=$(I);v=$("<div>");e=null;
v.addClass("rpt-statistic-data-table-cell-left");0==g?(m.getIsDeleted()&&v.css("color","red"),e=m.getPubName()):1==g?e=m.getPubPath():2==g?e=m.getOperationFormatTime():3==g&&(e=h.AccessModelUtil.tranOperationToText(m.getOperationType()));v.text(e);v.attr("title",e);I.append(v)};this.doQueryData=function(I,v,e,g,m){var y=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),function(z){null==m?T.getPaginationBar().resetPaginationAndJumpToFirstPage(ta):m(ta);z=z.data;var M=[],ra;for(ra in z){var Da=new rb;
Da.fromJsonObject(z[ra]);M.push(Da)}T.updateTable(M)},function(){});y.setShowBlocking(!0);y.loadUserAspectDetailModelWithData(wa,ya,Aa,Ba,I,v,e,g,ta)};this.doExportExcel=function(I,v,e,g){var m={},y=[],z;for(z in oa)m[oa[z].getName()]=oa[z].getField(),y.push(oa[z].getName());I={exportData:gb.USER_ACCESS_RECORD_DETAIL_WITH_USER,userId:wa,operationType:ya,startTime:Aa,endTime:Ba,tableHeads:JSON.stringify(y),headAndFieldMapping:JSON.stringify(m),field:I,order:v,total:ta};e=new Ga(T.getRemoteImpl(P.getAccessRemoteUrl()),
e,g);e.setBlockingPrompt(E.get("loading","\u6b63\u5728\u5bfc\u51fa..."));e.exportExcel(I)};this.getTotalRow=function(){return ta}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.access&&(com.kingdee.bos.qing.access={});"undefined"==typeof com.kingdee.bos.qing.access.theme&&(com.kingdee.bos.qing.access.theme=
{});var h=com.kingdee.bos.qing.access.theme;h.MainUi=function(){this.getJqUi=function(S){var T=new xa,oa=new x;oa.setShowText(E.get("dataMode","\u6309\u6570\u636e\u5185\u5bb9\u89c6\u89d2\u5c55\u793a"));T.addTabContainers(oa);var wa=new sa;wa.setShowText(E.get("accessorMode","\u6309\u8bbf\u95ee\u8005\u89c6\u89d2\u5c55\u793a"));T.addTabContainers(wa);T.setDefaultSelect(oa);T.getJqUi(S);S=new qb;S.setDelay(250);S.setCallback(function(){if("none"!=T.getSelectedTab().getJqUi().css("display")&&0!=document.body.clientHeight&&
0!=document.body.clientWidth){var ya=T.getSelectedTab();ya.isTableInited()?ya.refreshTable():ya.updateTable();ya.relayout()}});S.observe()}};var B,W,X,O,ca,xa,P,U,Pa,la,Za,G,da,ab,hb,Ta,lb,rb,E,qb,F,Ga,mb,ob;(function(){var S=com.kingdee.bos.qing.rpt.statistic;B=S.AbstractStatisticMainTable;W=S.AbstractStatisticDialog;X=S.AbstractPage;O=S.PublishSnapShotDialogSelector;ca=S.UserDialogSelectorDisPlay;xa=S.SwitchPage;P=S.RemoteUrlFacade;U=S.SortableTableHead;Pa=S.StatisticFilterType;la=S.AbstractViewMemberRender;
S=com.kingdee.bos.qing.ui.component;Za=S.Label;G=S.SearchBox;da=S.ComboBox;S=com.kingdee.bos.qing.access.model;ab=S.DataAccessModel;hb=S.UserAccessModel;Ta=S.DetailModel;lb=S.UserAccessionDetailModel;rb=S.DataAccessionDetailModel;S=com.kingdee.bos.qing.access.common;Ga=S.AccessAspectServiceFacade;S=com.kingdee.bos.qing.framework.common;E=S.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.rpt.statistic);qb=S.WindowResizeObserver;S=com.kingdee.bos.qing.behavior;F=S.BehaviorManager;mb=
S.BehaviorManager.OperationType;S=com.kingdee.bos.qing.biz.common;ob=S.DateRangeSelector})();h.AccessModelUtil=new function(){this.tranOperationToText=function(S){switch(S){case mb.QING_VISIT:return E.get("look","\u67e5\u770b");case mb.QING_EXPORT:return E.get("export","\u5bfc\u51fa");case mb.QING_PRINT:return E.get("print","\u6253\u5370");case mb.QING_SNAPSHOT_SAVE:return E.get("savesnap","\u5feb\u7167\u4fdd\u5b58");case mb.QING_SNAPSHOT_EDIT:return E.get("editsnap","\u5feb\u7167\u7f16\u8f91")}}};
var gb={DATA_INDEX:0,DATA_ACCESS_RECORD:1,DATA_ACCESS_RECORD_DETAIL:2,DATA_ACCESS_RECORD_DETAIL_WITH_USER:3,USER_INDEX:4,USER_ACCESS_RECORD:5,USER_ACCESS_RECORD_DETAIL:6,USER_ACCESS_RECORD_DETAIL_WITH_USER:7}})();
//qingVersionTag: 20250324