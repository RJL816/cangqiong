var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(w,D,Q){w instanceof String&&(w=String(w));for(var W=w.length,da=0;da<W;da++){var oa=w[da];if(D.call(Q,oa,da,w))return{i:da,v:oa}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(w,D,Q){if(w==Array.prototype||w==Object.prototype)return w;w[D]=Q.value;return w};$jscomp.getGlobal=function(w){w=["object"==typeof globalThis&&globalThis,w,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var D=0;D<w.length;++D){var Q=w[D];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(w,D){var Q=$jscomp.propertyToPolyfillSymbol[D];if(null==Q)return w[D];Q=w[Q];return void 0!==Q?Q:w[D]};
$jscomp.polyfill=function(w,D,Q,W){D&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(w,D,Q,W):$jscomp.polyfillUnisolated(w,D,Q,W))};$jscomp.polyfillUnisolated=function(w,D,Q,W){Q=$jscomp.global;w=w.split(".");for(W=0;W<w.length-1;W++){var da=w[W];if(!(da in Q))return;Q=Q[da]}w=w[w.length-1];W=Q[w];D=D(W);D!=W&&null!=D&&$jscomp.defineProperty(Q,w,{configurable:!0,writable:!0,value:D})};
$jscomp.polyfillIsolated=function(w,D,Q,W){var da=w.split(".");w=1===da.length;W=da[0];W=!w&&W in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var oa=0;oa<da.length-1;oa++){var ea=da[oa];if(!(ea in W))return;W=W[ea]}da=da[da.length-1];Q=$jscomp.IS_SYMBOL_NATIVE&&"es6"===Q?W[da]:null;D=D(Q);null!=D&&(w?$jscomp.defineProperty($jscomp.polyfills,da,{configurable:!0,writable:!0,value:D}):D!==Q&&(void 0===$jscomp.propertyToPolyfillSymbol[da]&&(Q=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[da]=
$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(da):$jscomp.POLYFILL_PREFIX+Q+"$"+da),$jscomp.defineProperty(W,$jscomp.propertyToPolyfillSymbol[da],{configurable:!0,writable:!0,value:D})))};$jscomp.polyfill("Array.prototype.find",function(w){return w?w:function(D,Q){return $jscomp.findInternal(this,D,Q).v}},"es6","es3");
$jscomp.polyfill("String.prototype.replaceAll",function(w){return w?w:function(D,Q){if(D instanceof RegExp&&!D.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return D instanceof RegExp?this.replace(D,Q):this.replace(new RegExp(String(D).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),Q)}},"es_2021","es3");$jscomp.arrayIteratorImpl=function(w){var D=0;return function(){return D<w.length?{done:!1,value:w[D++]}:{done:!0}}};
$jscomp.arrayIterator=function(w){return{next:$jscomp.arrayIteratorImpl(w)}};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(w){if(w)return w;var D=function(oa,ea){this.$jscomp$symbol$id_=oa;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:ea})};D.prototype.toString=function(){return this.$jscomp$symbol$id_};var Q="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",W=0,da=function(oa){if(this instanceof da)throw new TypeError("Symbol is not a constructor");return new D(Q+(oa||"")+"_"+W++,oa)};return da},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(w){if(w)return w;w=Symbol("Symbol.iterator");for(var D="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Q=0;Q<D.length;Q++){var W=$jscomp.global[D[Q]];"function"===typeof W&&"function"!=typeof W.prototype[w]&&$jscomp.defineProperty(W.prototype,w,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return w},"es6",
"es3");$jscomp.iteratorPrototype=function(w){w={next:w};w[Symbol.iterator]=function(){return this};return w};$jscomp.iteratorFromArray=function(w,D){w instanceof String&&(w+="");var Q=0,W=!1,da={next:function(){if(!W&&Q<w.length){var oa=Q++;return{value:D(oa,w[oa]),done:!1}}W=!0;return{done:!0,value:void 0}}};da[Symbol.iterator]=function(){return da};return da};
$jscomp.polyfill("Array.prototype.keys",function(w){return w?w:function(){return $jscomp.iteratorFromArray(this,function(D){return D})}},"es6","es3");$jscomp.owns=function(w,D){return Object.prototype.hasOwnProperty.call(w,D)};$jscomp.polyfill("Object.values",function(w){return w?w:function(D){var Q=[],W;for(W in D)$jscomp.owns(D,W)&&Q.push(D[W]);return Q}},"es8","es3");
$jscomp.polyfill("Array.prototype.findIndex",function(w){return w?w:function(D,Q){return $jscomp.findInternal(this,D,Q).i}},"es6","es3");
(function(){function w(){var f=this,u=0,F=0,d=0,H=0,R=0,na=0;this.setVisit=function(v){u=v};this.getVisit=function(){return u};this.setExport=function(v){F=v};this.getExport=function(){return F};this.setPrint=function(v){d=v};this.getPrint=function(){return d};this.getSave=function(){return H};this.setSave=function(v){H=v};this.getEdit=function(){return R};this.setEdit=function(v){R=v};this.setTotal=function(v){na=v};this.getTotal=function(){return na};this.fromJsonObject=function(v){v&&(f.setVisit(v.iVisit),
f.setExport(v.iExport),f.setPrint(v.iPrint),f.setSave(v.iSaveSnapShot),f.setEdit(v.iEditSnapShot),f.setTotal(v.total))};this.toJsonObject=function(){var v={};v.iVisit=u;v.iExport=F;v.iPrint=d;v.iSaveSnapShot=H;v.iEditSnapShot=R;v.total=na;return v}}function D(){var f,u,F;this.setOperationType=function(d){f=d};this.getOperationType=function(){return f};this.setOperationTime=function(d){u=d};this.getOperationTime=function(){return u};this.setOperationFormatTime=function(d){F=d};this.getOperationFormatTime=
function(){return F};this.fromJsonObject=function(d){d&&(f=d.operationType,u=d.operationTime,F=d.operationFormatTime)};this.toJsonObject=function(){var d={};d.operationType=f;d.operationTime=u;return d}}function Q(){W.call(this);var f=this;this.isPreset=function(){return f.getCreatorId()==la};this.fromJsonObject=function(u){u&&(f.setId(u.id),f.setName(u.name),f.setCreatorId(u.creatorId),f.setCreatorName(u.creatorName),f.setCreateTime(u.createTime),f.setCreateFormatTime(u.createFormatTime),f.setPath(u.path),
f.setArrUsers(u.users),f.setArrRoles(u.roles),f.setSpaceId(u.spaceId),f.setSpaceType(u.spaceType))};this.cloneMe=function(){var u=new Q;u.setId(f.getId());u.setName(f.getName());u.setCreatorId(f.getCreatorId());u.setCreatorName(f.getCreatorName());u.setCreateTime(f.getCreateTime());u.setCreateFormatTime(f.getCreateFormatTime());u.setPublishSourceType(f.getPublishSourceType());u.setPath(f.getPath());u.setArrRoles(f.getArrRoles());u.setArrUsers(f.getArrUsers());u.setSpaceId(f.getSpaceId());u.setSpaceType(f.getSpaceType());
return u}}function W(){var f,u,F,d,H,R,na,v=[],Aa=[],ua,X,ya;this.setId=function(A){f=A};this.getId=function(){return f};this.setName=function(A){u=A};this.getName=function(){return u};this.setCreatorId=function(A){F=A};this.getCreatorId=function(){return F};this.setCreatorName=function(A){d=A};this.getCreatorName=function(){return d};this.setCreateTime=function(A){H=A};this.getCreateTime=function(){return H};this.setCreateFormatTime=function(A){R=A};this.getCreateFormatTime=function(){return R};
this.setPublishSourceType=function(A){na=A};this.getPublishSourceType=function(){return na};this.setArrUsers=function(A){Aa=A};this.getArrUsers=function(){return Aa};this.setArrRoles=function(A){v=A};this.getArrRoles=function(){return v};this.setPath=function(A){ua=A};this.getPath=function(){return ua};this.isPreset=function(){return F==la};this.getSpaceId=function(){return X};this.setSpaceId=function(A){X=A};this.getSpaceType=function(){return ya};this.setSpaceType=function(A){ya=A}}function da(){var f=
this,u=!1,F=[],d,H,R,na,v,Aa,ua,X,ya;this.fromJsonObject=function(A){if(A){f.setRptId(A.rptId);f.setRptName(A.rptName);f.setRptPath(A.rptPath);f.setCreatorName(A.creatorName);f.setCreateTime(A.createTime);f.setCreateFormatTime(A.createFormatTime);f.setDeleted(A.isDelete);f.setSpaceType(A.spaceType);f.setSpaceId(A.spaceId);A=A.snapinfoList;var U=f.getArrSnapChildren(),Ta;for(Ta in A){var fb=new oa;fb.fromJsonObject(A[Ta]);fb.setParent(f);U.push(fb)}}};this.cloneMe=function(){var A=new da;A.setRptId(f.getRptId());
A.setRptName(f.getRptId());A.setRptPath(f.getRptId());A.setCreatorName(f.getRptId());A.setCreateTime(f.getRptId());A.setDeleted(f.getDeleted());A.setSpaceType(f.getSpaceType());A.setSpaceId(f.getSpaceId());for(var U in f.getArrSnapChildren()){var Ta=f.getArrSnapChildren()[U].cloneMe();A.addSnapToReport(Ta)}return A};this.setSpaceId=function(A){ya=A};this.getSpaceId=function(){return ya};this.setSpaceType=function(A){X=A};this.getSpaceType=function(){return X};this.setDeleted=function(A){ua=1==A?!0:
!1};this.getDeleted=function(){return ua};this.getRptId=function(){return d};this.setRptId=function(A){d=A};this.getIsCheck=function(){for(var A=0;A<F.length;A++)if(!F[A].getIsCheck())return!1;return!0};this.setIsCheck=function(A){for(var U=0;U<F.length;U++)F[U].setIsCheck(A)};this.getIsExpand=function(){return u};this.setIsExpand=function(A){u=A};this.getArrSnapChildren=function(){return F};this.addSnapToReport=function(A){F.push(A)};this.setArrSnapChildren=function(A){F=A};this.getRptName=function(){return H};
this.setRptName=function(A){H=A};this.getRptPath=function(){return R};this.setRptPath=function(A){R=A};this.getCreatorName=function(){return na};this.setCreatorName=function(A){na=A};this.getCreateTime=function(){return v};this.setCreateTime=function(A){v=A};this.getCreateFormatTime=function(){return Aa};this.setCreateFormatTime=function(A){Aa=A}}function oa(){var f=this,u,F,d,H,R,na,v=!1,Aa,ua;this.fromJsonObject=function(X){X&&(f.setId(X.snapId),f.setName(X.snapName),f.setPathName(X.pathName),f.setCreatorName(X.creatorName),
f.setCreateTime(X.createTime),f.setCreateFormatTime(X.createFormatTime),f.setPath(X.pathId))};this.cloneMe=function(){var X=new oa;X.setId(f.getId());X.setName(f.getName());X.setPathName(f.getPathName());X.setCreatorName(f.getCreatorName());X.setCreateTime(f.getCreateTime());X.setPath(f.getPath());X.setParent(f.getParent());return X};this.getPath=function(){return ua};this.setPath=function(X){ua=X};this.getParent=function(){return Aa};this.setParent=function(X){Aa=X};this.getIsCheck=function(){return v};
this.setIsCheck=function(X){v=X};this.getId=function(){return u};this.setId=function(X){u=X};this.getName=function(){return F};this.setName=function(X){F=X};this.getPathName=function(){return d};this.setPathName=function(X){d=X};this.getCreatorName=function(){return H};this.setCreatorName=function(X){H=X};this.getCreateTime=function(){return R};this.setCreateTime=function(X){R=X};this.getCreateFormatTime=function(){return na};this.setCreateFormatTime=function(X){na=X}}"undefined"==typeof com&&(com=
{});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.access&&(com.kingdee.bos.qing.access={});"undefined"==typeof com.kingdee.bos.qing.access.model&&(com.kingdee.bos.qing.access.model={});var ea=com.kingdee.bos.qing.access.model;ea.DataAccessionDetailModel=function(){D.call(this);
var f,u,F;this.getIsDeleted=function(){return F};this.setPubName=function(R){f=R};this.getPubName=function(){return f};this.setPubPath=function(R){u=R};this.getPubPath=function(){return u};var d=this.fromJsonObject;this.fromJsonObject=function(R){R&&(d(R),f=R.pubName,u=R.pubPath,F=R.isDeleted)};var H=this.toJsonObject;this.toJsonObject=function(){var R=H();R.pubName=f;R.pubPath=u;R.isDeleted=F;return R}};ea.UserAccessionDetailModel=function(){D.call(this);var f,u;this.setUserId=function(H){f=H};this.getUserId=
function(){return f};this.setUserName=function(H){u=H};this.getUserName=function(){return u};var F=this.fromJsonObject;this.fromJsonObject=function(H){H&&(F(H),f=H.userId,u=H.userName)};var d=this.toJsonObject;this.toJsonObject=function(){var H=d();H.userId=f;H.userName=u;return H}};ea.UserAccessModel=function(){w.call(this);var f,u;this.setUserId=function(H){f=H};this.getUserId=function(){return f};this.setUserName=function(H){u=H};this.getUserName=function(){return u};var F=this.fromJsonObject;
this.fromJsonObject=function(H){H&&(F(H),f=H.userId,u=H.userName)};var d=this.toJsonObject;this.toJsonObject=function(){var H=d();H.userId=f;H.userName=u;return H}};ea.DataAccessModel=function(){w.call(this);var f,u,F,d,H,R,na,v,Aa,ua,X;this.isPreset=function(){return na==la};this.getIsDeleted=function(){return v};this.setSourceId=function(U){f=U};this.getSourceId=function(){return f};this.setPubName=function(U){u=U};this.getPubName=function(){return u};this.setPubPath=function(U){F=U};this.getPubPath=
function(){return F};this.setCreateTime=function(U){d=U};this.getCreateTime=function(){return d};this.setCreateFormatTime=function(U){H=U};this.getCreateFormatTime=function(){return H};this.setCreatorName=function(U){R=U};this.getCreatorName=function(){return R};this.setCreateId=function(U){return na=U};this.getCreateId=function(){return na};this.setSpaceType=function(U){Aa=U};this.getSpaceType=function(){return Aa};this.setSpaceName=function(U){ua=U};this.getSpaceName=function(){return ua};this.setSpaceId=
function(U){X=U};this.getSpaceId=function(){return X};var ya=this.fromJsonObject;this.fromJsonObject=function(U){U&&(ya(U),f=U.sourceId,u=U.pubName,F=U.pubPath,d=U.createTime,H=U.createFormatTime,R=U.creator,na=U.creatorId,v=U.isDeleted,Aa=U.spaceType,ua=U.spaceName,X=U.spaceId)};var A=this.toJsonObject;this.toJsonObject=function(){var U=A();U.sourceId=f;U.pubName=u;U.pubPath=F;U.createTime=d;U.creator=R;U.creatorId=na;U.isDeleted=v;U.spaceName=ua;U.spaceType=Aa;U.spaceId=X;return U}};ea.DetailModel=
D;ea.PublishModel=Q;ea.ReportModel=da;ea.SnapModel=oa;var la="100000"})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.estabilish&&(com.kingdee.bos.qing.estabilish={});"undefined"==typeof com.kingdee.bos.qing.estabilish.model&&(com.kingdee.bos.qing.estabilish.model={});var w=com.kingdee.bos.qing.estabilish.model;w.CreatorAspectModel=function(){var D,Q,W=0,
da=0,oa=0,ea=0,la=0,f,u,F;this.setCreatorId=function(d){D=d};this.getCreatorId=function(){return D};this.setCreatorName=function(d){Q=d};this.getCreatorName=function(){return Q};this.setDataSetNum=function(d){W=d};this.getDataSetNum=function(){return W};this.setReportNum=function(d){da=d};this.getReportNum=function(){return da};this.setPublishNum=function(d){oa=d};this.getPublishNum=function(){return oa};this.setSnapShotNum=function(d){ea=d};this.getSnapShotNum=function(){return ea};this.setTotalNum=
function(d){la=d};this.getTotalNum=function(){return la};this.setSpaceType=function(d){f=d};this.getSpaceType=function(){return f};this.setSpaceName=function(d){u=d};this.getSpaceName=function(){return u};this.setSpaceId=function(d){F=d};this.getSpaceId=function(){return F};this.fromJsonObject=function(d){d&&(this.setCreatorId(d.creatorId),this.setCreatorName(d.creatorName),this.setDataSetNum(d.dataSetNum),this.setReportNum(d.reportNum),this.setPublishNum(d.publishNum),this.setSnapShotNum(d.snapshotNum),
this.setTotalNum(d.totalNum),this.setSpaceType(d.spaceType),this.setSpaceName(d.spaceName),this.setSpaceId(d.spaceId))};this.toJsonObject=function(){var d={};d.creatorId=D;d.creatorName=Q;d.dataSetNum=W;d.reportNum=da;d.publishNum=oa;d.snapshotNum=ea;d.totalNum=la;d.spaceType=f;d.spaceName=u;d.spaceId=F;return d}};w.DataAspectModel=function(){var D,Q,W,da,oa,ea,la,f,u,F;this.isPreset=function(){return"100000"==la};this.setPubName=function(d){D=d};this.getPubName=function(){return D};this.setPubPath=
function(d){Q=d};this.getPubPath=function(){return Q};this.setPubType=function(d){W=d};this.getPubType=function(){return W};this.setCreateTime=function(d){da=d};this.getCreateTime=function(){return da};this.setCreateFormatTime=function(d){oa=d};this.getCreateFormatTime=function(){return oa};this.setCreatorName=function(d){ea=d};this.getCreatorName=function(){return ea};this.setCreatorId=function(d){la=d};this.setSpaceType=function(d){f=d};this.getSpaceType=function(){return f};this.setSpaceName=function(d){u=
d};this.getSpaceName=function(){return u};this.setSpaceId=function(d){F=d};this.getSpaceId=function(){return F};this.fromJsonObject=function(d){d&&(this.setPubName(d.pubName),this.setPubType(d.pubType),this.setPubPath(d.pubPath),this.setCreateTime(d.createTime),this.setCreateFormatTime(d.createFormatTime),this.setCreatorName(d.creatorName),this.setCreatorId(d.creatorId),this.setSpaceType(d.spaceType),this.setSpaceName(d.spaceName),this.setSpaceId(d.spaceId))};this.toJsonObject=function(){var d={};
d.pubName=D;d.pubType=W;d.pubPath=Q;d.createTime=da;d.creatorName=ea;d.spaceName=u;d.spaceType=f;d.spaceId=F;return d}}})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.access&&(com.kingdee.bos.qing.access={});"undefined"==typeof com.kingdee.bos.qing.access.common&&(com.kingdee.bos.qing.access.common={});var w=com.kingdee.bos.qing.access.common;
w.AccessAspectServiceFacade=function(W,da,oa,ea){D.call(this,W,da,oa,ea);var la=this.protectedMethod;la.setShowBlocking(!0);this.loadDataAspectIndex=function(f,u,F,d,H,R,na,v,Aa,ua,X){f={arrPublishId:JSON.stringify(f),arrSnapId:JSON.stringify(u),arrCreatorId:JSON.stringify(F),startTime:d,endTime:H,spaceType:R,searchText:na,field:v,order:Aa,targetPage:ua,pageSize:X,timeZone:(new Date).getTimezoneOffset()/60};la.remote("loadDataAspectIndex",f)};this.loadDataAspectAccessRecord=function(f,u,F,d,H,R,na){f=
{sourceId:f,startTime:u,endTime:F,field:d,order:H,targetPage:R,pageSize:na,timeZone:(new Date).getTimezoneOffset()/60};la.remote("loadDataAspectAccessRecord",f)};this.loadDataAspectDetailRecord=function(f,u,F,d,H,R,na,v,Aa,ua){f={sourceId:f,userId:u,operationType:F,startTime:d,endTime:H,field:R,order:na,targetPage:v,pageSize:Aa,totalRows:ua,timeZone:(new Date).getTimezoneOffset()/60};la.remote("loadDataAspectDetailRecord",f)};this.loadDataAspectDetailRecordWithUser=function(f,u,F,d,H,R,na,v,Aa){f=
{sourceId:f,operationType:u,startTime:F,endTime:d,field:H,order:R,targetPage:na,pageSize:v,totalRows:Aa,timeZone:(new Date).getTimezoneOffset()/60};la.remote("loadDataAspectDetailRecordWithUser",f)};this.loadUserAspectIndex=function(f,u,F,d,H,R,na){f={arrUserId:JSON.stringify(f),startTime:u,endTime:F,field:d,order:H,targetPage:R,pageSize:na,timeZone:(new Date).getTimezoneOffset()/60};la.remote("loadUserAspectIndex",f)};this.loadUserAspectAccessModel=function(f,u,F,d,H,R,na){f={userId:f,startTime:u,
endTime:F,field:d,order:H,targetPage:R,pageSize:na,timeZone:(new Date).getTimezoneOffset()/60};la.remote("loadUserAspectAccessModel",f)};this.loadUserAspectDetailModel=function(f,u,F,d,H,R,na,v,Aa,ua){f={sourceId:f,userId:u,operationType:F,startTime:d,endTime:H,field:R,order:na,targetPage:v,pageSize:Aa,totalRows:ua,timeZone:(new Date).getTimezoneOffset()/60};la.remote("loadUserAspectDetailModel",f)};this.loadUserAspectDetailModelWithData=function(f,u,F,d,H,R,na,v,Aa){f={userId:f,operationType:u,startTime:F,
endTime:d,field:H,order:R,targetPage:na,pageSize:v,totalRows:Aa,timeZone:(new Date).getTimezoneOffset()/60};la.remote("loadUserAspectDetailModelWithData",f)};this.exportExcel=function(f){la.remote("exportExcel",f)}};w.RemoteImpl=function(){Q.call(this);var W;this.getRemoteUrl=function(){return W};this.setRemoteUrl=function(da){W=da}};w.SelectPublishNameFacade=function(W,da,oa,ea){D.call(this,W,da,oa,ea);var la=this.protectedMethod;la.setShowBlocking(!0);this.getPublishMenuTree=function(){la.remote("getPublishMenuTree",
{})};this.getRptPublishMenuTree=function(f,u){la.remote("getRptPublishMenuTree",{searchMenuText:f,searchDataText:u})};this.getRptPublishDataByPath=function(f,u,F,d,H,R){f={arrRelationId:JSON.stringify(f),pathType:u,searchText:F,targetPage:d,pageSize:H,callBackTime:R};la.remote("getRptPublishDataByPath",f)};this.getRptSnapMenuTree=function(f,u){la.remote("getRptSnapMenuTree",{searchMenuText:f,searchDataText:u})};this.getRptSnapShotByPath=function(f,u,F,d,H){f={arrRelationId:JSON.stringify(f),searchText:u,
targetPage:F,pageSize:d,callBackTime:H};la.remote("getRptSnapShotByPath",f)};this.getRptSnapCountInMenu=function(f){la.remote("getRptSnapCountInMenu",{searchText:f})}};var D,Q;(function(){var W=com.kingdee.bos.qing.framework.common;D=W.AbstractFacade;Q=W.AbstractRemoteCall})()})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.estabilish&&(com.kingdee.bos.qing.estabilish={});"undefined"==typeof com.kingdee.bos.qing.estabilish.common&&(com.kingdee.bos.qing.estabilish.common={});var w=com.kingdee.bos.qing.estabilish.common;w.EstablishAspectServiceFacade=function(Q,
W,da,oa){D.call(this,Q,W,da,oa);var ea=this.protectedMethod;ea.setShowBlocking(!0);this.loadNumericCreateRecordByIds=function(la,f,u,F,d,H,R){la={creatorIds:JSON.stringify(la),spaceType:f,searchText:u,targetPage:F,pageSize:d,field:H,order:R};ea.remote("loadNumericCreateRecordByIds",la)};this.loadDetailBySinglePersonAndType=function(la,f,u,F,d,H,R){ea.remote("loadDetailBySinglePersonAndType",{creatorId:la,type:f,spaceType:u,field:F,order:d,targetPage:H,pageSize:R})};this.loadDetailFromDataAspect=function(la,
f,u,F,d,H,R,na,v){la={types:JSON.stringify(la),creatorIds:JSON.stringify(f),name:u,spaceType:F,searchText:d,field:H,order:R,targetPage:na,pageSize:v};ea.remote("loadDetailFromDataAspect",la)};this.exportExcel=function(la){ea.remote("exportExcel",la)}};var D=com.kingdee.bos.qing.framework.common.AbstractFacade;w.EXPORT_TYPE={};w.EXPORT_TYPE.CREATOR_INDEX=0;w.EXPORT_TYPE.CREATOR_DATASET=1;w.EXPORT_TYPE.CREATOR_REPORT=2;w.EXPORT_TYPE.CREATOR_PUBLISH=3;w.EXPORT_TYPE.CREATOR_SNAPSHOT=4;w.EXPORT_TYPE.CREATOR_TOTAL=
5;w.EXPORT_TYPE.DATA_INDEX=6;w.DATATYPE=new function(){this.DATASET=0;this.REPORT=1;this.PUBLISH=2;this.SNAPSHOT=3;this.TOTAL=4}})();(function(){function w(a,c,b,e){Ua.call(this,a,c,b,e);var p=this.protectedMethod;p.setShowBlocking(!0);this.checkPermission=function(){var g={};g.appID=qb.getUrlParamValue("appID");p.remote("checkPermission",g)}}function D(){var a=this,c=(new Date).getTime(),b,e,p;this.setFilePrefix=function(g){b=g?g.replace(/\s+/g,"_"):"Qing-"};this.exportExcel=function(g,q,x){var l=(b?b:"Qing-")+V.formatDate("yyyyMMdd_HHmmss")+".xlsx",m=function(T){Qa.downloadFile(l,T);ka.interestInBehavior(ka.EXPORT_TYPE,"EXCEL",
(new Date).getTime()-c)},r=function(T,y){a.getMessageCurtain().showPrompt(y)},E=Ka.createFeedbackDialog();E.setOptionType(Ka.OPTION_OK_CANCEL);E.setMessage(B.get("confirmToExport","\u5f53\u524d\u64cd\u4f5c\u5c06\u5bfc\u51fa#1\u6761\u8bb0\u5f55\uff0c\u662f\u5426\u786e\u5b9a\u5bfc\u51fa\uff1f").replace("#1",x));E.setClosingChecker(function(T){T==Ka.RETURN_OK&&e(g,q,m,r);return!0});E.showDialog()};this.setExportExcelHanlder=function(g){e=g};this.getMessageCurtain=function(){null==p&&(p=new I,p.getJqUi().appendTo($("#switch-tab")));
return p}}function Q(){va.call(this);this.protectedMethod.setTotalSelectedRowAndSelectedAllVisual(!1,!1)}function W(){var a,c=[],b;this.getJqUi=function(){a||(a=$("<div class='rpt-statistic-foot'>"));return a};this.updateTotalColumn=function(e,p){a.empty();for(var g,q=0,x=0;x<e.getColumnsCount();x++)c[x]=$("<div>"),c[x].addClass("rpt-statistic-foot-sum"),c[x].appendTo(a),g=e.getColumn(x).getWidth(),c[x].css("width",g),c[x].text(b[x]),c[x].css("left",q),q+=g;c[0].css({color:"#666","text-align":"left",
"padding-left":"8px","padding-right":"8px"});void 0!==p&&Ca.layoutCtrl(a,-p,null,q+p,null)};this.setArrTotalText=function(e){b=e}}function da(){var a=this,c=!1,b,e,p,g,q,x=[],l,m=0,r=0,E,T,y,S,fa=!1,t,K,C,h=!1,k,n,J,aa,ba=1;this.createSortTable=function(){l=$("<div>");T&&ha(l);l.append(Ga());if(fa){var ia=l;K=new W;t=K.getJqUi();t.css("display","none");ia.append(t)}return l};var ha=function(ia){S=new Q;S.setJumpToPageListener(function(Da,Ba,Sa){a.changePageListener(Da,Ba,Sa)});S.setComboBoxItemModelsAndSelectedItem([5,
10,20,50,100,500,1E3],2);y=S.getJqUi();y.css({display:"none",padding:"0px 4px 0px 7px",width:"100%",top:"0px"});ia.append(y)},Ga=function(){e=qa.createTable();e.setColumnFitVisibleWidth(!0);e.setDraggableAdjusting(!0,3,0,new la);e.setSyncMergeBlockWhenModelChanged(!1);e.setMergeBlockTextVisibleAlways(!0);var ia=new Za(e);ia.setOutsideVisible(!1);e.setCellRender(ia);e.setSyncUIWhenModelChanged(!0);h&&e.setCellAcrossListener(function(Ba,Sa,$a){var ib=Ba&&0<Ba.length?Ba[0]:null;k!=ib&&(k&&(aa.hideSortingTips($(k)),
k=null),1==Sa&&0<=$a&&g[$a].getSortable()&&(aa||(aa=new oa,aa.setDefaultField(g[q].getField()),aa.setFunSortchangeListener(function(hb){if(hb)var Va=hb;else Va=new ea,Va.setOrder(ea.ORDER_DESC);n=!0;hb=Va.getField();Va=Va.getOrder();a.changeSortListener(hb,Va)})),aa.showSortingTips(Ba,g[$a].getField(),ba),k=ib))});jb();p=$(e.getUI());var Da;p.children().first().scroll(function(){var Ba=$(this).scrollLeft();clearTimeout(Da);Da=setTimeout(function(){a.updateTotalComponent(x,Ba)},10)});p.addClass("rpt-statistic-detail-content-table");
p.children("div:nth-child(2)").on("mousedown",function(Ba){E=!0;m=Ba.screenX;r=Ba.screenY});document.addEventListener("mouseup",function(Ba){!E||m==Ba.screenX&&r==Ba.screenY||(E=!1,a.updateTotalComponent(x))});return p},jb=function(){e.addColumns(g.length);for(var ia=0;ia<g.length;ia++)e.getColumn(ia).setWidth(g[ia].getWidthRatio());var Da=qa.createHeadRow(e);for(ia=0;ia<g.length;ia++)Da.getCell(ia).setValue(g[ia].getName())};this.getTable=function(){return e};this.getJqTable=function(){return p};
this.setIconRightPx=function(ia){ba=ia};this.refreshTable=function(){"none"!=p.css("display")&&(qa.refresh(e),a.updateTotalComponent(x))};this.relayoutTable=function(){fa&&"none"!=t.css("display")?p.css("height","calc(100% - 67px)"):p.css("height","calc(100% - 32px)")};this.setFuncResolveObjectToTotalArr=function(ia){C=ia};var Za=function(ia){KTDefaultCellRender.call(this,ia);var Da=this,Ba=this.paintCellUI;this.paintCellUI=function(Sa,$a){var ib=Da.getCurrentRowIdx(),hb=Da.getCurrentRow(),Va=Da.getCurrentColIdx(),
mb=hb.getUserObject();1==ib&&h?(Ba(Sa,$a),aa&&0<=Va&&g[Va].getSortable()&&(n?aa.addSortingTips($(Sa),g[Va].getField(),ba):Va!=q&&aa.addSortingTips($(Sa),g[Va].getField(),ba)),Va!=q||n||(J=new oa,J.setDefaultField(g[q].getField()),J.setFunSortchangeListener(function(z){if(z){var L=z;aa.setShowSortingModel(J.getShowSortingModel())}else L=new ea,L.setField(g[q].getField()),L.setOrder(ea.ORDER_DESC);n=!0;z=L.getField();L=L.getOrder();a.changeSortListener(z,L)}),J.addDefaultSortingTips($(Sa),g[Va].getField(),
ba))):ib<qa.getHeadRowCount()?Ba(Sa,$a):a.cellShow(Sa,ib,hb,Va,mb)}};this.cellShow=function(ia,Da,Ba,Sa,$a){throw Error("Override");};this.updateTable=function(ia){ia&&(b=ia);if(b&&0!=document.body.clientHeight&&0!=document.body.clientWidth)if(ia=b,c=!0,qa.clearWithoutHead(e),e.setSyncUIWhenModelChanged(!1),ia&&0<ia.length){p.css("display","block");a.showOrHideContent(!0);for(var Da in g)g[Da].getSortable()&&(x[Da]=0);for(Da=0;Da<ia.length;Da++){var Ba=ia[Da];if(fa&&C)for(var Sa=C(Ba),$a=0;$a<g.length;$a++)g[$a].getCalculable()&&
(x[$a]+=Sa[$a]);Sa=qa.createRow(e);Sa.setHeight(30);Sa.setUserObject(Ba)}e.setSyncUIWhenModelChanged(!0);qa.refresh(e);a.updateTotalComponent(x)}else p.css("display","none"),a.showOrHideContent(!1)};this.isTableInited=function(){return c};this.showOrHideContent=function(ia){throw Error("Override");};this.setSortEnabled=function(ia){h=ia};this.setSortTableHeads=function(ia,Da){g=ia;q=Da;for(var Ba in g)g[Ba].getSortable()&&(h=!0),g[Ba].getCalculable()?(fa=!0,x.push(0)):x.push("");x[0]=B.get("total",
"\u5408\u8ba1")};this.getDefaultSortField=function(){return g[q].getField()};this.getDefaultSortOrder=function(){return"DESC"};this.changeSortListener=function(ia,Da){throw Error("Override");};this.changePageListener=function(ia,Da,Ba){throw Error("Override");};this.setEnablePagination=function(ia){T=ia};this.getJqUiPagination=function(){return y};this.getPaginationBar=function(){return S};this.setEnableAggregate=function(ia){fa=ia};this.getJquiTotalComponent=function(){return t};this.updateTotalComponent=
function(ia,Da){ia&&(K&&K.setArrTotalText(ia),K&&K.updateTotalColumn(a.getTable(),Da))}}function oa(){var a,c,b,e;this.setShowSortingModel=function(l){b=l};this.getShowSortingModel=function(){return b};this.setFunSortchangeListener=function(l){e=l};this.setDefaultField=function(l){a=l};this.showSortingTips=function(l,m,r){var E=l.find(".detaillist-sort-box");0==E.length&&(E=new ea,E.setField(m),E.setOrder(null),E=x(l,E,r),l.append(E));E.addClass("detaillist-sort-box_clickable")};this.hideSortingTips=
function(l){l=l.find(".detaillist-sort-box");l.removeClass("detaillist-sort-box_clickable");p(l)};this.addSortingTips=function(l,m,r){b&&null!=b.getOrder()&&b.getField()==m&&(m=x(l,b,r),l.append(m))};this.addDefaultSortingTips=function(l,m,r){var E=new ea;E.setField(m);E.setOrder(ea.ORDER_DESC);m=x(l,E,r);l.append(m)};var p=function(l){var m=l.data("sortable-data");m&&null==m.getOrder()&&l.remove()},g=function(l,m){var r=oa.BOX_LEN-2,E=$("<div>");cb.background(E,"icon_sortable-v");E.attr("title",
B.get("sort","\u6392\u5e8f"));E.addClass("detaillist-sort-box");E.css("left",l);E.css("top",m);E.css("width",r);E.css("height",r);return E},q=function(l){var m=l.data("sortable-data");m.getOrder()==ea.ORDER_ASC?cb.background(l,"icon_sort-asc-esc"):m.getOrder()==ea.ORDER_DESC?cb.background(l,"icon_sort-asc-desc"):m.getOrder()||cb.background(l,"icon_sortable-v")},x=function(l,m,r){var E=l.width();l=l.height();r=g(E-oa.BOX_LEN-r,l-oa.BOX_LEN-1);r.data("sortable-data",m);q(r);r.on("click",function(T){T=
$(T.currentTarget);var y=T.data("sortable-data");y.getField()==a?y.getOrder()==ea.ORDER_ASC?y.setOrder(ea.ORDER_DESC):y.getOrder()==ea.ORDER_DESC?y.setOrder(ea.ORDER_ASC):y.getOrder()||y.setOrder(ea.ORDER_ASC):y.getOrder()==ea.ORDER_ASC?y.setOrder(ea.ORDER_DESC):y.getOrder()==ea.ORDER_DESC?y.setOrder(null):y.getOrder()||y.setOrder(ea.ORDER_ASC);T.data("sortable-data",y);q(T);p(T);c&&c[0]!=T[0]&&c&&c.remove();c=T;b=y;e&&e(c?c.data("sortable-data"):null)});return r}}function ea(){var a,c;this.getOrder=
function(){return a};this.setOrder=function(b){a=b};this.getField=function(){return c};this.setField=function(b){c=b}}function la(){this.getTailBlankForDragging=function(){return-1};this.isRowDraggable=function(a,c){return!1};this.isColumnDraggable=function(a,c){return a.getColumnsCount()==c+1?!1:!0};this.getMinRowHeightLimited=function(a,c){return 3};this.getMinColumnWidthLimited=function(a,c){return 4};this.rowDraggedAction=function(a,c,b){var e=a.isSyncUIWhenModelChanged();a.setSyncUIWhenModelChanged(!0);
c=a.getRow(c);c.setHeight(c.getHeight()+b);a.setSyncUIWhenModelChanged(e)};this.setMinColumnWidth=function(a){};this.columnDraggedAction=function(a,c,b){var e=a.isSyncUIWhenModelChanged();a.setSyncUIWhenModelChanged(!0);c=a.getColumn(c);c.setWidth(c.getWidth()+b);a.setSyncUIWhenModelChanged(e)}}function f(){Z.call(this);var a=this,c=this.protectedMethod,b,e,p,g,q,x,l={},m,r,E=Wa.PUBLISH_TAB,T,y,S,fa,t,K,C,h,k;(function(){a.setSize(1038,580);c.getDialogCtrl().setMinSize(1038,580);c.setTitle(B.get("pubOrSnap",
"\u53d1\u5e03/\u5feb\u7167\u540d\u79f0"));c.setSelectable(!0);c.getDialogCtrl().setFullScreenEnabled();c.getDialogCtrl().setResizeEnabled();c.getDialogCtrl().addResizeListener(function(){a.relayoutViews()});c.setContentPaneCreator(function(){var ba=$("<div>"),ha=$("<div>");ha.addClass("select-filter-head");ha.appendTo(ba);n().appendTo(ha);ha=$("<div>");ha.addClass("select-filter-data-content");ha.appendTo(ba);b=$("<div>");e=$("<div>");e.css("border-right","1px solid #E5E5E5");e.css("border-left",
"1px solid #E5E5E5");g=new M;g.setHorizontalSplit(!0);g.setEnabled(!0);g.setFirstSize(200,200,300);g.setSecondSize(600,0,-1);g.setResizeMode(M.RESIZE_MODE_FIRST_FIXED);g.setFirstChild(M.createChildWrapper(b));g.setSecondChild(M.createChildWrapper(e));p=$("<div>");q=new M;q.setHorizontalSplit(!0);q.setEnabled(!0);q.setFirstSize(808,-1,-1);q.setSecondSize(200,200,300);q.setResizeMode(M.RESIZE_MODE_SECOND_FIXED);q.setFirstChild(g);q.setSecondChild(M.createChildWrapper(p));q.getJqUi().appendTo(ha);J();
S=$("<div>");S.hide();y=$("<div>");y.addClass("rpt-statistic-tips");ha=$("<div>");ha.addClass("rpt-statistic-tips-background");ha.css({width:"400px",height:"280px","background-size":"contain"});cb.background(ha,"tips-background");var Ga=$("<div>");Ga.addClass("rpt-statistic-tips-text");Ga.text(B.get("SelectMenuMessage","\u8bf7\u70b9\u51fb\u5de6\u4fa7\u83dc\u5355\u8fdb\u884c\u67e5\u770b"));y.append(ha);y.append(Ga);y.appendTo(e);S.addClass("rpt-statistic-tips");ha=$("<div>");ha.addClass("rpt-statistic-tips-background");
cb.background(ha,"nodata");Ga=$("<div>");Ga.addClass("rpt-statistic-tips-text");Ga.text(B.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u7b5b\u9009\u6761\u4ef6\u7684\u7ed3\u679c"));S.append(ha);S.append(Ga);S.appendTo(e);r=new F;r.setCurrentTab(Wa.PUBLISH_TAB);r.setMapSelectPublish(l);r.setSelectedPane(x);r.setJqTips(y,S,Ga);r.setMessageCurtain(c.getMessageCurtain());r.createTableJqUi(e);aa();return ba});c.setClosingAction(function(ba){ba&&m(l)})})();var n=function(){C=new gb;C.setSearchListenerDelay(0);
C.setPlaceholder(B.get("searchPubSnap","\u641c\u7d22\u53d1\u5e03/\u5feb\u7167\u540d\u79f0"));C.setShowSearchIcon(!0);h=C.getJqUi();h.addClass("select-filter-searchBox");h.find(".sa-ctrl-searchbox-close").css({"margin-top":"-7px",height:"14px","line-height":"14px",width:"14px"});C.addEnterEventListener(function(){var ba=C.getText().trim();ba!=k&&(k=ba);r.setToMatchText(k);T.searchCountInMenu(k)});C.addClearIconListener(function(){k="";r.setToMatchText(k);T.searchCountInMenu(k)});return h},J=function(){x=
new u;x.setSelectedMap(l);x.addDeleteListener(function(){r.refreshTable()});x.getJqUi().appendTo(p)},aa=function(){t=new H;t.setOnSelectedChangeListener(r.onSelectedChangeListener);t.setMessageCurtain(c.getMessageCurtain());t.setSelectTable(r);r.setPublishTablePane(t);K=new R;K.setOnSelectedChangeListener(r.onSelectedChangeListener);K.setMessageCurtain(c.getMessageCurtain());K.setSelectTable(r);r.setSnapShotPushTablePane(K);fa=new pa;fa.addTab(t,!0);fa.addTab(K);fa.addTabChangedListener(function(ha,
Ga){r.resetCallBackTime();Ga.getType()==Wa.PUBLISH_TAB?(E=Wa.PUBLISH_TAB,T=t,r.setCurrentTab(Wa.PUBLISH_TAB)):Ga.getType()==Wa.SNAPSHOT_TAB&&(E=Wa.SNAPSHOT_TAB,T=K,r.setCurrentTab(Wa.SNAPSHOT_TAB));if(E==Wa.PUBLISH_TAB)var jb=["#",B.get("name","\u540d\u79f0"),B.get("owner","\u62e5\u6709\u8005"),B.get("authorize","\u6388\u6743"),B.get("publishTime","\u53d1\u5e03\u65f6\u95f4")],Za=[20,75,75,75,80];else E==Wa.SNAPSHOT_TAB&&(jb=["#",B.get("name","\u540d\u79f0"),B.get("path","\u8def\u5f84"),B.get("owner",
"\u62e5\u6709\u8005"),B.get("createTime","\u521b\u5efa\u65f6\u95f4")],Za=[20,75,75,75,80]);r.resetHeader(jb,Za);T.searchCountInMenu(k)});var ba=fa.getJqUi();ba.children(".sa-ctrl-tab-head").css("width","49%");ba.appendTo(b)};this.relayoutViews=function(){g&&g.resize();q&&q.resize();r.refreshTable()};this.setConfirmCallBack=function(ba){m=ba};this.setMapSelectPublish=function(ba){l=ba}}function u(){var a=this,c,b,e,p,g=[],q={};this.getJqUi=function(){if(!c){c=$("<div>");c.css({height:"100%",width:"100%"});
var m=$("<div>");m.css("height","35px");m.appendTo(c);b=$("<div>");b.text(B.get("selected","\u5df2\u9009(#)").replace("#",Object.keys(q).length));b.addClass("select-publish-selected");b.appendTo(m);var r=new N(B.get("clearAll","\u5168\u90e8\u6e05\u9664"));r.addActionListener(x);e=r.getJqUi();Ca.layoutCtrlWithLRTB(e,null,15,60,10,null,20);e.appendTo(m);p=$("<ol>");p.addClass("select-publish-selected-ol");p.appendTo(c);a.syncUiBySelectMap()}return c};var x=function(){var m=Object.keys(q),r;for(r in m)delete q[m[r]];
a.syncUiBySelectMap();l()};this.syncUiBySelectMap=function(){p.empty();var m=Object.keys(q);b.text(B.get("selected","\u5df2\u9009(#)").replace("#",Object.keys(q).length));if(!(null==m||0>=m.length))for(var r in m){var E=q[m[r]],T=E.getName(),y=$("<li>");y.addClass("select-publish-selected-li");y.attr("title",T);var S=$("<div>");S.text(T);S.addClass("select-publish-selected-li-text");T=$("<div>");T.hide();T.addClass("select-publish-selected-li-icon");cb.background(T,"selected_btn_delete");T.data("oSelectedModel",
E);T.on("click",function(fa){fa.stopPropagation();fa=$(fa.currentTarget).data("oSelectedModel");delete q[fa.getId()];a.syncUiBySelectMap();l()});y.on("mouseenter",function(fa){$(fa.currentTarget.children[1]).show()});y.on("mouseleave",function(fa){$(fa.currentTarget.children[1]).hide()});S.appendTo(y);T.appendTo(y);y.appendTo(p)}};var l=function(){for(var m in g)(0,g[m])()};this.addDeleteListener=function(m){g.push(m)};this.setSelectedMap=function(m){q=m}}function F(){fb.call(this);var a=this,c,b,
e,p,g={},q={},x,l={},m=0,r,E,T,y,S,fa,t,K,C,h,k,n,J,aa,ba;var ha=["#",B.get("name","\u540d\u79f0"),B.get("owner","\u62e5\u6709\u8005"),B.get("authorize","\u6388\u6743"),B.get("publishTime","\u53d1\u5e03\u65f6\u95f4")];var Ga=[20,75,75,75,80];this.createTableJqUi=function(z){jb();c=qa.createTable();c.setColumnFitVisibleWidth(!0);c.setSyncMergeBlockWhenModelChanged(!1);c.setMergeBlockTextVisibleAlways(!0);c.setSyncUIWhenModelChanged(!1);c.setDraggableAdjusting(!0,3,0,new la);var L=new Za(c);L.setOutsideVisible(!1);
c.setCellRender(L);c.setSyncUIWhenModelChanged(!0);c.addColumns(ha.length);for(L=0;L<Ga.length;L++)c.getColumn(L).setWidth(Ga[L]);var ra=qa.createHeadRow(c);for(L=0;L<ha.length;L++)ra.getCell(L).setValue(ha[L]);e=$(c.getUI());e.addClass("rpt-statistic-detail-content-table");e.addClass("rpt-statistic-publish-selector-content-table");E.appendTo(z);e.appendTo(z)};var jb=function(){r=new d;r.setJumpToPageListener(function(z,L,ra){T=z;y=L;ba==Wa.PUBLISH_TAB?ib(!1,!1,ra):hb(!1,!1,ra)});r.setSelectedAllOrNotListener(function(z,
L){z?ba==Wa.PUBLISH_TAB?ib(!1,!0):ba==Wa.SNAPSHOT_TAB&&hb(!1,!0):(Sa(),a.refreshTable(),x.syncUiBySelectMap())});r.setComboBoxItemModelsAndSelectedItem([5,10,20,50,100,500,1E3],2);T=r.getCurrentPage();y=r.getPageSize();E=r.getJqUi();E.css("display","none")},Za=function(z){KTDefaultCellRender.call(this,z);var L=this,ra=this.paintCellUI;this.paintCellUI=function(ma,G){var Ha=L.getCurrentRowIdx(),ca=L.getCurrentRow(),P=L.getCurrentColIdx();ca=ca.getUserObject();if(Ha<qa.getHeadRowCount())za(ma,G,Ha,
P);else if(ca instanceof La)if(0==P)Ia(ma,G,Ha,P,ca);else{ma=$(ma);G=$("<div>");if(1==P)ca.isPreset()&&(P=$("<div>"),P.text(B.get("preset","\u9884\u7f6e")),P.addClass("select-publish-name-preset-tag"),P.css({"margin-left":"6px","margin-right":"-2px"}),P.appendTo(ma)),ma.append(Na()),G.addClass("select-publish-name"),G.append(Ea.SplitMatchTextUtil.redTextAfterMatching(ca.getName(),fa)),G.attr("title",ca.getName());else if(2==P)P=ca.getCreatorName(),G.addClass("rpt-statistic-data-table-cell-left"),
G.text(P),G.attr("title",P),P&&"0"==ca.getSpaceType()&&a.viewCollaborationMember(ma,ca);else if(3==P){P=B.get("unSelectUserOrRole","\u672a\u9009\u62e9\u7528\u6237");Ha="";var wa=ca.getArrUsers();ca=ca.getArrRoles();wa&&0<wa.length&&(P=Ha=B.get("Users","\u7528\u6237#\u4e2a").replace("#",wa.length));ca&&0<ca.length&&(P=""==Ha?B.get("Roles","\u89d2\u8272#\u4e2a").replace("#",ca.length):P+","+B.get("Roles","\u89d2\u8272#\u4e2a").replace("#",ca.length));G.addClass("rpt-statistic-data-table-cell-left");
G.text(P);G.attr("title",P)}else 4==P&&(G.addClass("rpt-statistic-data-table-cell-left"),G.text(ca.getCreateFormatTime()),G.attr("title",ca.getCreateFormatTime()));ma.append(G)}else ca instanceof db?0==P?sa(ma,G,Ha,P,ca):(ma=$(ma),G=$("<div>"),1==P?(G.addClass("select-publish-name"),ca.getDeleted()?(G.append(Ea.SplitMatchTextUtil.highLightAllContent(B.get("hasDeleted","\u5f53\u524d\u62a5\u8868\u5df2\u5220\u9664"))),G.attr("title",ca.getRptName()),G.css({"line-height":"28px","padding-left":"28px",
"padding-right":"2px"})):(P=Na(),P.css("margin-left","20px"),ma.append(P),G.append(Ea.SplitMatchTextUtil.redTextAfterMatching(ca.getRptName(),fa)),G.attr("title",ca.getRptName()),G.css({display:"float","padding-left":"3px"})),G.css({overflow:"hidden","text-overflow":"ellipsis"}),ca=ia(ca),ca.css("left","5px"),ca.attr("title","\u5c55\u5f00"),ca.appendTo(ma)):2==P?(G.addClass("rpt-statistic-data-table-cell-left"),G.text(ca.getRptPath()),G.attr("title",ca.getRptPath())):3==P?(P=ca.getCreatorName(),G.addClass("rpt-statistic-data-table-cell-left"),
G.text(P),G.attr("title",P),P&&"0"==ca.getSpaceType()&&a.viewCollaborationMember(ma,ca)):4==P&&(G.addClass("rpt-statistic-data-table-cell-left"),G.text(ca.getCreateFormatTime()),G.attr("title",ca.getCreateFormatTime())),ma.append(G)):ca instanceof ob&&(0==P?xa(ma,G,Ha,P,ca):(ma=$(ma),G=$("<div>"),1==P?(G.addClass("select-publish-name"),G.append(Ea.SplitMatchTextUtil.redTextAfterMatching(ca.getName(),fa)),G.attr("title",ca.getName()),G.css({"line-height":"28px","padding-left":"28px","padding-right":"2px",
overflow:"hidden","text-overflow":"ellipsis"})):2==P?(G.addClass("rpt-statistic-data-table-cell-left"),G.text(ca.getPathName()),G.attr("title",ca.getPathName())):3==P?(G.addClass("rpt-statistic-data-table-cell-left"),G.text(ca.getCreatorName()),G.attr("title",ca.getCreatorName())):4==P&&(G.addClass("rpt-statistic-data-table-cell-left"),G.text(ca.getCreateFormatTime()),G.attr("title",ca.getCreateFormatTime())),ma.append(G)))};var za=function(ma,G,Ha,ca){ra(ma,G);if(0==ca&&1==Ha){$(ma).children().css("display",
"none");G=!0;p=new O;for(var P in g)if(!g[P].isChecked()){G=!1;break}p.setChecked(G);p.addCheckedListener(function(wa,ta){if(ta){wa=wa.isChecked();for(var Ya in g)if(g[Ya].setChecked(wa),ta=g[Ya].getUserObject(),ta instanceof db)if(ta=ta.getArrSnapChildren(),wa)for(Ya in ta)q[ta[Ya].getId()]=ta[Ya];else for(Ya in ta)delete q[ta[Ya].getId()];else wa?q[ta.getId()]=ta:delete q[ta.getId()];a.resetCurrentPaginationBarSelected();x.syncUiBySelectMap()}});P=p.getJqUi();Ca.layoutCtrl(P,12,2,23,23);P.appendTo(ma)}else ba==
Wa.SNAPSHOT_TAB&&1==ca&&1==Ha&&(P=ia(null),Ca.layoutCtrl(P,5,2,23,23),P.appendTo(ma))},Ia=function(ma,G,Ha,ca,P){ma=$(ma);G=new O;Ha=P.getId();g[Ha]=G;G.setChecked(!!q[Ha]);G.setUserObject(P);G.addCheckedListener(function(wa,ta){if(ta){ta=wa.isChecked();wa=wa.getUserObject();if(ta){q[wa.getId()]=wa;x.syncUiBySelectMap();a.resetCurrentPaginationBarSelected();for(var Ya in g)if(!g[Ya].isChecked())return}else delete q[wa.getId()],x.syncUiBySelectMap(),a.resetCurrentPaginationBarSelected();p.setChecked(ta)}});
P=G.getJqUi();Ca.layoutCtrl(P,12,4,23,23);P.appendTo(ma)},sa=function(ma,G,Ha,ca,P){ma=$(ma);G=new O;Ha=P.getRptId();g[Ha]=G;Ha=P.getArrSnapChildren();ca=!1;for(var wa in Ha){var ta=!!q[Ha[wa].getId()];ca=ca||ta;var Ya=new O;Ya.setChecked(ta);Ya.setUserObject(Ha[wa]);g[Ha[wa].getId()]=Ya}G.setChecked(ca);G.setUserObject(P);G.addCheckedListener(function(kb,pb){if(pb)if(pb=kb.isChecked(),kb=kb.getUserObject().getArrSnapChildren(),pb){for(var lb in kb)q[kb[lb].getId()]=kb[lb],g[kb[lb].getId()].setChecked(!0);
x.syncUiBySelectMap();a.resetCurrentPaginationBarSelected();for(lb in g)if(!g[lb].isChecked())return;p.setChecked(!0)}else{for(lb in kb)delete q[kb[lb].getId()],g[kb[lb].getId()].setChecked(!1);p.setChecked(!1);x.syncUiBySelectMap();a.resetCurrentPaginationBarSelected()}});P=G.getJqUi();Ca.layoutCtrl(P,12,4,23,23);P.appendTo(ma)},xa=function(ma,G,Ha,ca,P){ma=$(ma);P=P.getId();P=g[P];P.addCheckedListener(function(wa,ta){if(ta)if(ta=wa.isChecked(),wa=wa.getUserObject(),ta)a:{q[wa.getId()]=wa,x.syncUiBySelectMap(),
a.resetCurrentPaginationBarSelected(),ta=wa.getParent(),wa=ta.getArrSnapChildren();ta=g[ta.getRptId()];for(var Ya in wa)if(!g[wa[Ya].getId()].isChecked()){ta.setChecked(!1);p.setChecked(!1);break a}ta.setChecked(!0);for(Ya in g)if(!g[Ya].isChecked())break a;p.setChecked(!0)}else delete q[wa.getId()],ta=wa.getParent(),g[ta.getRptId()].setChecked(!1),p.setChecked(!1),x.syncUiBySelectMap(),a.resetCurrentPaginationBarSelected()});P=P.getJqUi();Ca.layoutCtrl(P,12,4,23,23);P.appendTo(ma)},Na=function(){var ma=
$("<div>");ma.css({"float":"left",height:"16px",width:"16px","margin-top":"6px","margin-left":"5px"});cb.background(ma,"icon-extreport");return ma}},ia=function(z){var L=$('<div style="overflow: hidden; position: absolute; left: 4px; top: 0px; width: 16px; height: 30px; cursor: pointer; z-index: 2;"></div>'),ra=$('<div style=" display:block; overflow: hidden; position: absolute; left: 2px; top: 7px; width: 9px; height: 9px; border: 1px solid rgb(138, 158, 191); border-radius: 3px; background-color: rgb(255, 255, 255);">\n<div style="overflow: hidden; position: absolute; left: 1px; top: 1px; width: 3px; height: 3px; border-bottom: 1px solid black; border-right: 1px solid black;"></div>\n<div style="overflow: hidden; position: absolute; left: 4px; top: 4px; width: 3px; height: 3px; border-top: 1px solid black; border-left: 1px solid black;"></div>\n</div>'),
za=$('<div style="display:block;overflow: hidden; position: absolute; left: 2px; top: 7px; width: 9px; height: 9px; border: 1px solid rgb(138, 158, 191); border-radius: 3px; background-color: rgb(255, 255, 255);">\n<div style="overflow: hidden; position: absolute; left: 1px; top: 1px; width: 7px; height: 3px; border-bottom: 1px solid black;"></div>\n</div>');var Ia=z?z.getIsExpand():m==Object.keys(l).length?!1:!0;Ia?za.appendTo(L):ra.appendTo(L);L.data("model",z);L.data("bExpand",Ia);L.click(function(){var sa=
$(this).data("model"),xa=$(this).data("bExpand");$(this).detach();xa=!xa;sa&&sa.setIsExpand(xa);xa?za.appendTo($(this)):ra.appendTo($(this));$(this).data("bExpand",xa);if(null==sa||void 0==sa){xa?m=0:m=Object.keys(l).length;for(var Na in l)l[Na].setIsExpand(xa)}else xa?m--:m++,l[sa.getRptId()].setIsExpand(xa);sa=r.getPageSize();Na=Object.values(l);a.updateTable(Na.slice(0,Math.min(sa,Na.length)))});return L};this.resetHeader=function(z,L){ha=z;Ga=L;if(c){qa.clear(c);c.addColumns(ha.length);for(z=
0;z<Ga.length;z++)c.getColumn(z).setWidth(Ga[z]);L=qa.createHeadRow(c);for(z=0;z<ha.length;z++)L.getCell(z).setValue(ha[z])}E.css("display","none")};this.updateTable=function(z){0==document.body.clientHeight||0==document.body.clientWidth?(b=new Fa,b.setDelay(250),b.setCallback(function(){Da(z)}),b.observe()):Da(z)};var Da=function(z){b&&b.unobserve();qa.clearWithoutHead(c);if(z&&0<z.length){Ba(!0);g={};a.resetCurrentPaginationBarSelected();if(z[0]instanceof La)for(var L=0;L<z.length;L++){var ra=z[L],
za=qa.createRow(c);za.setHeight(30);za.setUserObject(ra)}else if(z[0]instanceof db){ra=new KTStyle;ra.setBackgroundColor(ab.CommonTableSkin.EVEN_ROW_BACKGROUND_COLOR);var Ia=new KTStyle;Ia.setBackgroundColor(ab.CommonTableSkin.ODD_ROW_BACKGROUND_COLOR);for(L=0;L<z.length;L++){var sa=z[L];za=qa.createRow(c);za.setHeight(30);za.setStyle(ra);za.setUserObject(sa);for(za=0;sa.getIsExpand()&&za<sa.getArrSnapChildren().length;za++){var xa=sa.getArrSnapChildren()[za],Na=qa.createRow(c);Na.setHeight(30);Na.setStyle(Ia);
Na.setUserObject(xa)}}}qa.refresh(c)}else Ba(!1)},Ba=function(z){if(z)e.css("display","block"),h.css("display","none"),k.css("display","none"),E.css("display","block");else{e.css("display","none");E.css("display","none");if(Wa.PUBLISH_TAB==ba){if(J.isEmptyDataAtInital()){n.text(B.get("noPubDataAtInital","\u6682\u65e0\u8f7b\u62a5\u8868\u53d1\u5e03\u8bb0\u5f55"));h.css("display","none");k.css("display","block");return}if(0<J.getSelectedItem().length)fa?n.text(B.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c")):
n.text(B.get("noPubDataInMenu","\u6b64\u76ee\u5f55\u4e0b\u6ca1\u6709\u53d1\u5e03\u8bb0\u5f55")),h.css("display","none"),k.css("display","block");else{if(0==J.getTreeModel().length&&(fa||t)){n.text(B.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c"));h.css("display","none");k.css("display","block");return}h.css("display","block");k.css("display","none");return}}Wa.SNAPSHOT_TAB==ba&&(aa.isEmptyDataAtInital()?(n.text(B.get("noPubDataAtInital","\u516c\u5171\u76ee\u5f55\u4e0b\u6ca1\u6709\u5feb\u7167")),
h.css("display","none"),k.css("display","block")):0<aa.getSelectedItem().length?(fa?n.text(B.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c")):n.text(B.get("noSnapDataInMenu","\u6b64\u76ee\u5f55\u4e0b\u6ca1\u6709\u5feb\u7167")),h.css("display","none"),k.css("display","block")):0==aa.getTreeModel().length&&(fa||t)?(n.text(B.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c")),h.css("display","none"),k.css("display","block")):
(h.css("display","block"),k.css("display","none")))}};this.resetCurrentPaginationBarSelected=function(){r.refreshSelectedRowTotal(Sa(!0))};var Sa=function(z){var L=0,ra=Object.keys(q);if(S==eb.CENTER||S==eb.SNAPMENU){var za=K.getRelationIds(),Ia;for(Ia in ra){var sa=q[ra[Ia]];-1!=za.findIndex(function(Na,ma,G){return Na==sa.getPath()})&&(z?L++:delete q[sa.getId()])}}else if(S==eb.APPMENU){za=K.getRelationIds();var xa="";for(Ia in za)za[Ia]&&(xa+=za[Ia]+"-");xa=xa.substring(0,xa.length-1);for(Ia in ra)sa=
q[ra[Ia]],sa instanceof La&&xa==$a(sa)&&(z?L++:delete q[sa.getId()])}return L},$a=function(z){var L="";z=JSON.parse(z.getPath());z.cloudId&&(L=z.cloudId);z.appId&&(L=L+"-"+z.appId);z.appMenuId&&(L=L+"-"+z.appMenuId);z.appMenuId2&&(L=L+"-"+z.appMenuId2);return L};this.resetCallBackTime=function(){C=(new Date).getTime()};this.refreshTable=function(){"none"!=e.css("display")&&(qa.refresh(c),a.resetCurrentPaginationBarSelected())};this.onSelectedChangeListener=function(z,L,ra){a.searchDataByMenuModel(ra[0],
!0)};this.searchDataByMenuModel=function(z,L){z&&(K=z,S=K.getPathType(),eb.SNAPMENU==S?hb(L):ib(L))};var ib=function(z,L,ra){z&&(T=1);z=T;var za=y;L&&(za=z=null);var Ia=new nb(a.getRemoteImpl(),function(sa){if(C==Number(sa.callBackTime)){var xa=sa.data;if(void 0==xa)a.updateTable(null);else{sa=xa.totalRow;xa=xa.data;var Na=[],ma;for(ma in xa){var G=new La;G.fromJsonObject(xa[ma]);Na.push(G)}L?Va(Na):(ra?ra(sa):r.resetPaginationAndJumpToFirstPage(sa),a.updateTable(Na))}}});Ia.setShowBlocking(!0);Ia.getRptPublishDataByPath(K.getRelationIds(),
K.getPathType(),fa,z,za,C)},hb=function(z,L,ra){z&&(T=1);z=T;var za=y;L&&(za=z=null);var Ia=new nb(a.getRemoteImpl(),function(sa){if(C==Number(sa.callBackTime)){var xa=sa.data;sa=xa.totalRow;xa=xa.data;var Na=[];l={};for(var ma in xa){var G=new db;G.fromJsonObject(xa[ma]);Na.push(G);l[G.getRptId()]=G}L?Va(Na):(m=Na.length,ra?ra(sa):r.resetPaginationAndJumpToFirstPage(sa),a.updateTable(Na))}});Ia.setShowBlocking(!0);Ia.getRptSnapShotByPath(K.getRelationIds(),fa,z,za,C)},Va=function(z){if(z[0]instanceof
La)for(var L in z){var ra=z[L];q[ra.getId()]=ra}else if(z[0]instanceof db)for(L in z){ra=z[L];ra.setIsExpand(!1);var za=ra.getArrSnapChildren(),Ia;for(Ia in za)ra=za[Ia],q[ra.getId()]=ra}x.syncUiBySelectMap();a.refreshTable();a.resetCurrentPaginationBarSelected()};this.setPublishTablePane=function(z){J=z};this.setSnapShotPushTablePane=function(z){aa=z};this.setMapSelectPublish=function(z){q=z};this.setSelectedPane=function(z){x=z};this.setCurrentTab=function(z){ba=z};this.setJqTips=function(z,L,ra){h=
z;k=L;n=ra};this.setMessageCurtain=function(z){};this.setToMatchText=function(z){fa=z};this.setMenuText=function(z){t=z};var mb;this.getRemoteImpl=function(){null==mb&&(mb=new U,mb.setRemoteUrl(Ea.RemoteUrlFacade.getAccessRemoteUrl()));return mb}}function d(){va.call(this);var a=this.protectedMethod;a.setTotalSelectedRowAndSelectedAllVisual(!1,!0);a.setTotalRowVisual(!0);a.setTotalPageVisual(!1);a.setCurrentPageVisual(!1);a.setFirstBtnAndEndBtnVisual(!1)}function H(){v.call(this);var a=this,c,b,e=
Wa.PUBLISH_TAB,p,g,q=[],x,l,m,r,E;this.getType=function(){return e};this.getTitle=function(){return B.get("publish","\u53d1\u5e03")};this.protectedInit=function(t){b=t;T()};var T=function(){c=new Aa;c.setOnSelectedChangeListener(function(K,C,h,k){E=h[0];p(K,C,h);a.setSearchCountText(k)});c.setTreeSelectorModel(q);var t=c.getJqUi();t.addClass("select-tree-menu-data");b.append(t)},y=function(t,K,C){q=[];if(0<t.length){var h=new ua;h.setDisPlayName(B.get("appMenu","\u5e94\u7528\u83dc\u5355"));h.setShowFolderNode(!0);
h.setNoMatchText(!0);for(var k=h.getChildren(),n=0;n<t.length;n++){var J=new ua;J.fromJsonObject(t[n]);J.setShowFolderNode(C);J.setParentNode(h);J.setRelationIds(null);k.push(J)}S(q,h)}if(0<K.length){t=new X;t.setDisPlayName(B.get("analysisCenter","\u6570\u636e\u5de5\u4f5c\u53f0\u9605\u89c8\u5939"));t.setShowFolderNode(!0);t.setNoMatchText(!0);h=t.getChildren();for(n=0;n<K.length;n++)J=new X,J.fromJsonObject(K[n]),J.setShowFolderNode(C),J.setParentNode(t),h.push(J);S(q,t)}K=null;l||m||0!=q.length||
(K=B.get("emptyDataAtPublish","\u6ca1\u6709\u8f7b\u62a5\u8868\u53d1\u5e03\u8bb0\u5f55"),r=!0);C=null;if(E)for(n=q.length-1;0<=n&&(!q[n].getRelationIds()||(C=n,!na(E.getRelationIds(),q[n].getRelationIds())));n--);C&&(E=q[C]);c.resetItemModels(q,E,K)},S=function(t,K){if(null!=K)if(Array.isArray(K))for(var C=0;C<K.length;C++)t.push(K[C]),S(t,K[C].getChildren());else t.push(K),S(t,K.getChildren())};this.getSelectedItem=function(){return c?c.getSelectedItem():[]};this.setCountToMenu=function(t){c.setCountToMenu(t)};
this.reselectTheCurrentItem=function(){c.reselectTheCurrentFirstItem()};this.setOnSelectedChangeListener=function(t){p=t};this.isEmptyDataAtInital=function(){return r};this.setSelectTable=function(t){x=t};this.searchMenuListener=function(t){if(t!=m)m=t,fa(t,l);else return c.searchMenu(t)};this.setMessageCurtain=function(t){g=t};this.tranMenuTextToTable=function(t){x.setMenuText(t)};this.getTreeModel=function(){return q};var fa=function(t,K){(new nb(a.getRemoteImpl(),function(C){var h=C.centerTree,
k=C.appMenuTree.children;C=C.countToMenuMap;t||K?y(k,h,!0):y(k,h,!1);a.searchCardCountInAllMenu(K,C);!t||0==h.length&&0==k.length?(x.updateTable(null),a.setSearchCountText(null)):a.setSearchCountText(c.searchMenu(t))},function(C,h){g.showPrompt(h);return!0})).getRptPublishMenuTree(t,K)};this.searchCountInMenu=function(t){l=t;fa(m,t)}}function R(){v.call(this);var a=this,c,b,e=Wa.SNAPSHOT_TAB,p,g,q,x,l=[],m,r,E;this.getType=function(){return e};this.getTitle=function(){return B.get("snapshot","\u5feb\u7167")};
this.protectedInit=function(t){b=t;T()};var T=function(){c=new Aa;c.setOnSelectedChangeListener(function(K,C,h,k){E=h[0];p(K,C,h);a.setSearchCountText(k)});c.setTreeSelectorModel(l);var t=c.getJqUi();t.addClass("select-tree-menu-data");b.append(t)},y=function(t,K){l=[];if(0<t.length){var C=new ya;C.setDisPlayName(B.get("publicMenu","\u516c\u5171\u76ee\u5f55"));C.setShowFolderNode(!0);C.setNoMatchText(!0);for(var h=C.getChildren(),k=0;k<t.length;k++){var n=new ya;n.fromJsonObject(t[k]);n.setShowFolderNode(K);
n.setParentNode(C);h.push(n)}S(l,C)}else if(!q&&!x){m=!0;var J=B.get("noDataAtPublic","\u516c\u5171\u76ee\u5f55\u4e0b\u6ca1\u6709\u6570\u636e")}t=!1;K=0;if(E)for(k=l.length-1;0<=k;k--){if(l[k].getRelationIds()&&(K=k,na(E.getRelationIds(),l[k].getRelationIds()))){t=!0;break}}else for(k=l.length-1;0<=k;k--)l[k].getRelationIds()&&(K=k);t&&(E=l[K]);c.resetItemModels(l,E,J)},S=function(t,K){if(null!=K)if(Array.isArray(K))for(var C=0;C<K.length;C++)t.push(K[C]),S(t,K[C].getChildren());else t.push(K),S(t,
K.getChildren())};this.isEmptyDataAtInital=function(){return m};this.getSelectedItem=function(){return c?c.getSelectedItem():[]};this.setCountToMenu=function(t){c.setCountToMenu(t)};this.reselectTheCurrentItem=function(){c.reselectTheCurrentFirstItem()};this.setOnSelectedChangeListener=function(t){p=t};this.setSelectTable=function(t){r=t};this.searchMenuListener=function(t){if(t!=q)q=t,fa(t,x);else return c.searchMenu(t)};this.setMessageCurtain=function(t){g=t};this.tranMenuTextToTable=function(t){r.setMenuText(t)};
this.getTreeModel=function(){return l};var fa=function(t,K){(new nb(a.getRemoteImpl(),function(C){var h=C.snapshotTree;C=C.countToMenuMap;t||K?y(h,!0):y(h,!1);a.searchCardCountInAllMenu(K,C);t&&0!=h.length?a.setSearchCountText(c.searchMenu(t)):(r.updateTable(null),a.setSearchCountText(null))},function(C,h){g.showPrompt(h);return!0})).getRptSnapMenuTree(t,K)};this.searchCountInMenu=function(t){x=t;fa(q,t)}}function na(a,c){if(a&&c){if(a.length!=c.length)return!1;for(var b=0;b<a.length;++b)if(a[b]!=
c[b])return!1;return!0}return!1}function v(){pa.AbstractTabPane.call(this);var a=this,c,b,e=null;this.searchCardCountInAllMenu=function(x,l){a.reselectTheCurrentItem();null==x||""==x?(e=null,a.setCountToMenu(null)):(l&&(e=l),a.setCountToMenu(e))};this.setCountToMenu=function(){throw Error("Override");};this.reselectTheCurrentItem=function(){throw Error("Override");};this.getJqUi=function(){c||(c=$("<div>"),p(),a.protectedInit(c));return c};var p=function(){b=new gb;b.setPlaceholder(B.get("searchMenu",
"\u641c\u7d22\u76ee\u5f55\u540d\u79f0"));b.setShowSearchIcon(!0);var x=b.getJqUi();x.addClass("select-filter-menu-searchBox");x.find("input").css("width","75%");b.addEnterEventListener(function(){var l=b.getText().trim(),m=a.searchMenuListener(l);a.setSearchCountText(m);a.tranMenuTextToTable(l)});b.addClearIconListener(function(){a.searchMenuListener(null);b.hideText();a.tranMenuTextToTable(null)});x.appendTo(c)};this.setSearchCountText=function(x){var l;x&&(l="("+x[0]+"/"+x[1]+")");b.appendText(l)};
this.searchMenuListener=function(x){throw Error("override");};this.tranMenuTextToTable=function(){throw Error("override");};var g;this.getRemoteImpl=function(){null==g&&(g=new U,g.setRemoteUrl(Ea.RemoteUrlFacade.getAccessRemoteUrl()));return g};var q;this.getQingTreeMenuRemoteUrl=function(){null==q&&(q=new U,q.setRemoteUrl(Ea.RemoteUrlFacade.getQingTreeMenuRemoteUrl()));return q};this.getUrlParam=function(x){return V.decodeParamFromUrl(window.location.search,x)};this.protectedInit=function(x){}}function Aa(){var a=
this,c,b,e,p=[],g,q,x,l,m,r;this.getJqUi=function(){c||(c=E());return c};var E=function(){var h=$("<div>");l=$("<div>");l.addClass("rpt-statistic-selector-tips-text");l.text(B.get("noSearchData","\u6ca1\u6709\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u7ed3\u679c"));l.css("display","none");m=$("<div>");m.addClass("rpt-statistic-selector-tips-text");m.css("display","none");h.append(l);h.append(m);b=new Y;b.setBorderVisible(!1);b.scrollSelectedToVisible();b.setCustomItemPainter(fa);b.addSelectedChangedListener(function(k,
n,J){if(p){var aa=T(J[0]);null!=aa&&(g=aa);x(k,n,J,[g+1,p.length])}else x(k,n,J)});b.setUserObject(e);b.setItemModels(e);h.append(b.getJqUi());return h};this.resetItemModels=function(h,k,n){e=h;b.setUserObject(e);b.setItemModels(e);k&&b.setSelecteds([k]);g=0;r=p=q=null;K(b.getUserObject(),n)};this.setOnSelectedChangeListener=function(h){x=h};this.searchMenu=function(h){if(0!=e.length){if(null==h||""==h)return q=null,K(b.getUserObject()),null;if(h==q)return g+1>=p.length?g=0:g+=1,y(p[g]),[g+1,p.length];
p=[];for(var k=0;k<e.length;k++)if(!e[k].getNoMatchText()){var n=e[k].getDisPlayName().toUpperCase();n&&-1<n.indexOf(h.toUpperCase())&&p.push(e[k])}if(0<p.length)return q=h,h=b.getSelecteds(),(h=T(h[0]))?(g=h,y(p[g])):y(p[0]),[g+1,p.length];q=null;K(b.getUserObject());return null}};var T=function(h){if(!h)return 0;for(var k=null,n=0;n<p.length;n++){var J=p[n];na(h.getRelationIds(),J.getRelationIds())&&(k=n)}return k},y=function(h){var k=h;if(!k.getShowFolderNode()){k.setShowFolderNode(!0);for(var n=
k.getParentNode();n;)n.setShowFolderNode(!0),n.setIsOpenDir(!0),k=n,n=n.getParentNode();t(k)}a.jumpToTheSelected(h)};this.jumpToTheSelected=function(h){b.setSelecteds([h]);K(b.getUserObject());b.scrollSelectedToVisible(h)};this.getSelectedItem=function(){return b.getSelecteds()};this.reselectTheCurrentFirstItem=function(){var h=b.getSelecteds();0>=h.length||y(h[0])};this.setCountToMenu=function(h){if(r=h)for(var k in e)h=e[k],h.setShowFolderNode(!0),h.setIsOpenDir(!0);e&&0<e.length&&(K(e),b.scrollSelectedToVisible())};
var S=function(h){var k=h.getPathType();h=h.getRelationIds();if(k==eb.APPMENU){k=r[eb.APPMENU];for(var n=h[0],J=1;J<h.length;J++)null!=h[J]&&(n+="-"+h[J]);return k&&k[n]?k[n]:0}n=null;k==eb.CENTER?n=r[eb.CENTER]:k==eb.SNAPMENU&&(n=r[eb.SNAPMENU]);if(!n)return 0;k=0;for(J in h)n[h[J]]&&(k+=n[h[J]]);return k},fa=function(h,k){var n=26*k.getLevel()+5;h.addClass("select-tree-menu-dir");var J=$("<div>");J.addClass("select-tree-menu-icon");J.css("margin-left",26*k.getLevel()+"px");J.data("oItemModel",k);
var aa=$("<div>");k.isPreset&&k.isPreset()&&(aa.addClass("select-tree-menu-preset"),aa.text("\u9884\u7f6e"),aa.css("margin-left",16+26*k.getLevel()+"px"),h.append(aa),n+=16);var ba=$("<div>");ba.addClass("select-tree-menu-text");var ha=0;k.isPreset&&k.isPreset()&&(ha=28,n+=28);ba.css("margin-left",ha+26*k.getLevel()+"px");var Ga=$("<span>");if(k instanceof ua&&k.isDeleted()){var jb=$("<div>");jb.text("!");jb.addClass("rpt-statistic-menu-deleted");ba.append(jb);ba.css("padding-left","15px");n+=12}Ga.text(k.getDisPlayName());
k.getNoMatchText()||(Ga=Ea.SplitMatchTextUtil.redTextAfterMatching(k.getDisPlayName(),q));ba.append(Ga);h.attr("title",k.getDisPlayName());k.getChildren()&&0<k.getChildren().length?(aa=k.getIsOpenDir(),C(J,aa),h.append(J),n+=15):(ba.css("margin-left",ha+26*k.getLevel()-14+"px"),aa.css("margin-left",2+26*k.getLevel()+"px"));h.append(ba);r&&k.getRelationIds()&&(aa=S(k),ha=$("<div>"),ha.addClass("select-tree-menu-count"),ha.text("("+aa+")"),h.append(ha),ha=new Ja,ha.setFontSize(12),aa=ha.measureWidth("("+
aa+")"),n+=aa);ba.css("width","calc(100% - "+n+"px)");k.getRelationIds()||h.removeClass("sa-ctrl-list-item");k.getShowFolderNode()?(h.show(),J.on("mousedown",function(Za){Za.stopPropagation();if(Za=$(Za.currentTarget).data("oItemModel")){if(Za.getChildren()&&0<Za.getChildren().length){var ia=Za.getIsOpenDir();Za.setIsOpenDir(!ia)}else Za.setIsOpenDir(!0);t(Za);K(b.getUserObject())}})):h.hide();k==b.getSelecteds()[0]&&h.addClass("sa-ctrl-list-item_selected_enabled")},t=function(h){if(null!=h&&(h=h.getChildren())&&
0<h.length)for(var k=0;k<h.length;k++)h[k].getParentNode().getIsOpenDir()&&h[k].getParentNode().getShowFolderNode()?h[k].setShowFolderNode(!0):h[k].setShowFolderNode(!1),t(h[k])},K=function(h,k){var n=c.find(".sa-ctrl-list-owner");n.empty();if(1>=h.length)k?(m.text(k),m.css("display","block"),l.css("display","none")):(m.css("display","none"),l.css("display","block"));else{m.css("display","none");l.css("display","none");k=$(document.createDocumentFragment());for(var J=fa,aa=0;aa<h.length;aa++){var ba=
$("<div>");ba.addClass("sa-ctrl-list-item");ba.addClass("sa-ctrl-list-item_enabled");ba.addClass("sa-ctrl-list-item-defaultlayout");var ha=h[aa];ba.data("model",ha);J(ba,ha);k.append(ba)}n.append(k)}},C=function(h,k){k?(h.addClass("lower-triangle"),h.removeClass("upper-triangle")):(h.addClass("right-triangle"),h.removeClass("lower-triangle"))};this.setTreeSelectorModel=function(h){e=h}}function ua(){A.call(this);var a=this,c;this.fromJsonObject=function(b){"APP_MENU_HAS_BEEN_DELETED"==b.displayName||
"APP_HAS_BEEN_DELETED"==b.displayName?(a.setDisPlayName(B.get("menuBeDeleted","\u8be5\u5e94\u7528\u83dc\u5355\u5df2\u88ab\u5220\u9664")),c=!0):"CLOUD_HAS_BEEN_DELETED"==b.displayName?(a.setDisPlayName(B.get("cloudBeDeleted","\u8be5\u670d\u52a1\u4e91\u5df2\u88ab\u5220\u9664")),c=!0):a.setDisPlayName(b.displayName);a.setLevel(a.getLevel()+1);a.setPathType(eb.APPMENU);var e=[];e.push(b.cloudId);e.push(b.appId);e.push(b.appMenuId);e.push(b.appMenuId2);a.setRelationIds(e);if(b=b.children)for(e=0;e<b.length;e++){var p=
b[e],g=new ua;a.getChildren().push(g);g.setParentNode(a);g.setLevel(a.getLevel());g.fromJsonObject(p)}};this.isDeleted=function(){return c}}function X(){A.call(this);var a=this,c;this.setIsPreset=function(b){c=b};this.isPreset=function(){return c};this.fromJsonObject=function(b){a.setDisPlayName(b.name);a.setLevel(a.getLevel()+1);a.setPathType(eb.CENTER);a.setIsPreset(b.isPreset);var e=[];e.push(b.relationId);if(null!=b.mergeRelationIds){var p=b.mergeRelationIds,g;for(g in p)e.push(p[g])}a.setRelationIds(e);
if(b=b.children)for(g=0;g<b.length;g++)e=b[g],p=new X,a.getChildren().push(p),p.setParentNode(a),p.setLevel(a.getLevel()),p.fromJsonObject(e)}}function ya(){A.call(this);var a=this;this.fromJsonObject=function(c){var b=c.children;a.setDisPlayName(c.name);a.setLevel(a.getLevel()+1);a.setPathType(eb.SNAPMENU);c=[c.id];if(b&&0<b.length)for(var e in b){var p=b[e],g=new ya;a.getChildren().push(g);c.push(p.id);g.setParentNode(a);g.setLevel(a.getLevel());g.fromJsonObject(p)}a.setRelationIds(c)}}function A(){var a=
0,c=[],b,e,p,g,q,x,l;this.setNoMatchText=function(m){l=m};this.getNoMatchText=function(){return l};this.setPathType=function(m){x=m};this.getPathType=function(){return x};this.setRelationIds=function(m){q=m};this.getRelationIds=function(){return q};this.setParentNode=function(m){b=m};this.getParentNode=function(){return b};this.setDisPlayName=function(m){g=m};this.getDisPlayName=function(){return g};this.setChildren=function(m){c=m};this.getChildren=function(){return c};this.setShowFolderNode=function(m){p=
m};this.getShowFolderNode=function(){return p};this.setIsOpenDir=function(m){e=m};this.getIsOpenDir=function(){return e};this.setLevel=function(m){a=m};this.getLevel=function(){return a}}function U(){rb.call(this);var a;this.getRemoteUrl=function(){return a};this.setRemoteUrl=function(c){a=c}}function Ta(a,c,b){this.getTypeID=function(){return a};this.getI18nKey=function(){return c};this.getDefaultDesc=function(){return b}}function fb(){this.viewCollaborationMember=function(a,c){var b=$("<div>");
b.attr("title",B.get("viewSpaceMember","\u67e5\u770b\u534f\u4f5c\u7a7a\u95f4\u6210\u5458"));b.on("click",{oModel:c},this.doViewCollaborationMember);cb.backgroundWithHover(b,"view_member");b.addClass("statistic-view-collaboration-member");b.hide();b.appendTo(a);a.on("mouseenter",function(){b.show()});a.on("mouseleave",function(){b.hide()})};this.doViewCollaborationMember=function(a){var c=a.data.oModel;a=c.getSpaceId();c=c.getCreatorName();-1<c.indexOf("\uff1a")&&(c=c.substring(c.indexOf("\uff1a")+
1));(new sb(a,c)).showDialog()}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.rpt&&(com.kingdee.bos.qing.rpt={});"undefined"==typeof com.kingdee.bos.qing.rpt.statistic&&(com.kingdee.bos.qing.rpt.statistic={});var Ea=com.kingdee.bos.qing.rpt.statistic;Ea.AbstractStatisticMainTable=function(){da.call(this);
var a=this,c,b,e,p=!0,g,q,x,l,m,r,E,T,y;this.getJqUi=function(C){if(!c){c=$("<div>");c.addClass("rpt-statistic");var h=$("<div>");h.addClass("rpt-statistic-head");var k=$("<div>");k.addClass("rpt-statistic-filter");var n=new Ja,J=0;n.setFontSize(14);var aa=B.get("filter","\u7b5b\u9009\u6761\u4ef6"),ba=n.measureWidth(aa),ha=new bb;ha.setText(aa);aa=ha.getJqUi();aa.children().css("font-size","14px");Ca.layoutCtrl(aa,16,0,ba,23);J+=16+ba;aa.appendTo(k);n.setFontSize(12);J=a.createFilterContent(k,Ca,
J,n);n=new Xa;n.setText(B.get("query","\u67e5\u8be2"));n.setTooltips(B.get("query","\u67e5\u8be2"));n.addActionListener(a.queryDataByFilter);n=n.getJqUi();Ca.layoutCtrl(n,J+50,13,60,28);n.appendTo(k);J=$("<div>");J.addClass("rpt-statistic-toolbar");g=new Xa;g.setText(B.get("exportExcel","\u5bfc\u51faExcel"));g.setTooltips(B.get("exportExcel","\u5bfc\u51faExcel"));g.addActionListener(fa);g.getJqUi().appendTo(J);n=new Xa;n.setText(B.get("refresh","\u5237\u65b0"));n.setTooltips(B.get("refresh","\u5237\u65b0"));
n.addActionListener(t);n.getJqUi().appendTo(J);n=new Xa;n.setText(B.get("closeTab","\u9000\u51fa"));n.setTooltips(B.get("closeTab","\u9000\u51fa"));n.addActionListener(K);n.getJqUi().appendTo(J);J.appendTo(k);k.appendTo(h);h.appendTo(c);h=$("<div>");h.addClass("rpt-statistic-data");b=a.createSortTable();b.addClass("rpt-statistic-content");q=a.getJqUiPagination();q.appendTo(b);a.getJqTable();p&&(x=a.getJquiTotalComponent(),x.css("display","none"));b.appendTo(h);e=$("<div>");e.css("display","none");
e.addClass("rpt-statistic-tips");k=$("<div>");k.addClass("rpt-statistic-tips-background");cb.background(k,"nodata");J=$("<div>");J.addClass("rpt-statistic-tips-text");J.text(B.get("NoDataMessage","\u6ca1\u6709\u7b26\u5408\u7b5b\u9009\u6761\u4ef6\u7684\u7ed3\u679c"));e.append(k);e.append(J);e.appendTo(b);a.setIconRightPx(8);a.queryDataByFilter();h.appendTo(c);C.append(c)}return c};this.requireTotalComponent=function(C){p=C};this.queryDataByFilter=function(){a.resetTableComponents();S()};this.getMessageCurtain=
function(){null==y&&(y=new I,y.getJqUi().appendTo($("#switch-tab")));return y};this.showOrHideContent=function(C){C?(g.setEnabled(!0),e.css("display","none"),q.css("display","block"),x&&x.css("display","block")):(g.setEnabled(!1),e.css("display","block"),q.css("display","none"),x&&x.css("display","none"))};var S=function(C){r=null!=r?r:a.getDefaultSortField();E=null!=E?E:a.getDefaultSortOrder();var h=a.getRemoteUrl();(new w(a.getRemoteImpl(h),function(k){0==k?a.getMessageCurtain().showPrompt(B.get("noMenuPermission",
"\u60a8\u7684\u83dc\u5355\u6743\u9650\u5df2\u53d1\u751f\u53d8\u66f4\uff0c\u65e0\u6cd5\u7ee7\u7eed\u64cd\u4f5c\u3002")):a.doQueryData(r,E,l,m,C)},function(){})).checkPermission()};this.resetTableComponents=function(){l=1;m=a.getPaginationBar().getPageSize()};this.changePageListener=function(C,h,k){l=C;m=h;S(k)};this.changeSortListener=function(C,h){l=1;r=C;E=h;S()};this.doQueryData=function(C,h,k,n,J){throw Error("Override");};this.doExportExcel=function(C,h,k,n){throw Error("Override");};this.getTotalRow=
function(){throw Error("Override");};this.createFilterContent=function(C,h,k,n){throw Error("Override");};this.getRemoteUrl=function(){throw Error("Override");};this.relayout=function(){b.css("height",document.documentElement.clientHeight-176+"px");a.relayoutTable()};this.getExcelPrefix=function(){return null};var fa=function(){var C=new D;C.setExportExcelHanlder(a.doExportExcel);a.getExcelPrefix()&&C.setFilePrefix(a.getExcelPrefix());C.exportExcel(r,E,a.getTotalRow())};this.doExportExcel=function(C,
h,k,n){throw Error("Override");};var t=function(){S()},K=function(){Ma.closeCurrentTab()};this.getRemoteImpl=function(C){null==T&&(T=new U,T.setRemoteUrl(C));return T}};Ea.UserDialogSelectorDisPlay=function(){Pa.call(this);var a=this,c;a.setShowDisabledFilter(!0);var b=a.getJqUi;this.getJqUi=function(){if(!c){c=b();var e=a.getJqUi().children("div");e.css("bottom","4px");cb.background(e,"selected_btn_delete")}return c};this.getDisplayText=function(){var e=a.getSelectedValue();return 0==e.length?B.get("selectUser",
"\u8bf7\u9009\u62e9\u7528\u6237"):B.get("uerSelectedCount","\u5df2\u9009\u62e9#\u4e2a\u7528\u6237").replace("#",e.length)}};Ea.AbstractStatisticDialog=function(){Z.call(this);da.call(this);var a=this,c=this.protectedMethod,b,e,p,g,q,x,l,m,r;(function(){c.setSelectable(!0);c.getDialogCtrl().setFullScreenEnabled();c.getDialogCtrl().setResizeEnabled();c.getDialogCtrl().addResizeListener(function(){a.relayoutTable()});c.setContentPaneCreator(function(){b=$("<div>");var y=$("<div>");y.addClass("rpt-statistic-detail-panel-top");
var S=$("<div>");S.text(B.get("exportExcel","\u5bfc\u51faExcel"));S.addClass("rpt-statistic-export");S.on("click",T);S.css("float","right");Ca.layoutCtrlWithLRTB(S,null,1,null,0);S.appendTo(y);m=$("<div>");m.addClass("rpt-statistic-tips");S=$("<div>");S.addClass("rpt-statistic-tips-background");cb.background(S,"nodata");var fa=$("<div>");fa.addClass("rpt-statistic-tips-text");fa.text(B.get("NoDataMessage","\u6ca1\u6709\u7b26\u5408\u7b5b\u9009\u6761\u4ef6\u7684\u7ed3\u679c"));m.append(S);m.append(fa);
m.css("display","none");a.setEnablePagination(!0);a.setEnableAggregate(!1);S=a.createSortTable();S.addClass("rpt-statistic-detail-content");l=a.getJqUiPagination();l.css("display","none");l.css("padding","0px 0px 0px 5px");l.css("margin-left","4px");l.css("width","calc(100% - 4px)");a.queryDataByFilter();a.getJqTable().addClass("rpt-statistic-dialog-detail-content-table");y.appendTo(b);m.appendTo(b);S.appendTo(b);return b});c.setClosingAction(function(y){});c.setFooterClosingOnly(!0)})();this.setTitle=
function(y){x=y;c.setTitle(y)};this.doQueryData=function(y,S,fa,t,K){throw Error("Override");};this.doExportExcel=function(y,S,fa,t){throw Error("Override");};this.queryDataByFilter=function(){e=1;p=a.getPaginationBar().getPageSize();E()};this.changePageListener=function(y,S,fa){e=y;p=S;E(fa)};this.showOrHideContent=function(y){y?(m.css("display","none"),l.css("display","block")):(m.css("display","block"),l.css("display","none"))};this.changeSortListener=function(y,S){e=1;g=y;q=S;E()};var E=function(y){g=
null!=g?g:a.getDefaultSortField();q=null!=q?q:a.getDefaultSortOrder();a.doQueryData(g,q,e,p,y)},T=function(){var y=new D;y.setExportExcelHanlder(a.doExportExcel);x&&y.setFilePrefix(x&&x.replaceAll(" ","_"));y.exportExcel(g,q,a.getTotalRow())};this.getRemoteImpl=function(y){null==r&&(r=new U,r.setRemoteUrl(y));return r}};Ea.AbstractPage=function(){var a;this.getJqUi=function(c){};this.getShowText=function(){return a};this.setShowText=function(c){a=c}};Ea.PublishSnapShotDialogSelector=function(){Oa.call(this);
var a=this,c,b,e={},p=a.getJqUi;this.getJqUi=function(){c||(c=p(),g(),c.on("mouseover",function(){0<Object.keys(e).length&&b.show()}),c.on("mouseleave",function(){b.hide()}));return c};var g=function(){b=$("<div>");b.css({position:"absolute",height:"16px",width:"16px",right:"25px",bottom:"6px",cursor:"pointer",display:"none"});cb.background(b,"selected_btn_delete");b.on("click",function(){b.hide();e={};a.updateUI()});b.appendTo(c)};this.getDisplayText=function(){var l=Object.keys(e);return!l||0>=
l.length?B.get("selectPubSnap","\u8bf7\u9009\u62e9\u53d1\u5e03/\u5feb\u7167\u540d\u79f0"):B.get("pubSnapCount","\u5df2\u9009\u62e9#\u6761\u6570\u636e\u5185\u5bb9").replace("#",l.length)};this.protectedClickEvent=function(){q()};var q=function(){var l=new f;l.setConfirmCallBack(function(m){e=m;a.updateUI()});l.setMapSelectPublish(x());l.showDialog()},x=function(){var l={},m=Object.keys(e);if(m)for(var r in m){var E=e[m[r]];E&&(l[m[r]]=E.cloneMe())}return l};this.getSelectedValue=function(){var l=Object.keys(e);
if(!l||0>=l.length)return[[],[]];var m=[],r;for(r in l)m.push(e[l[r]].getId());return[[],m]}};Ea.SwitchPage=function(){var a,c=B.get("pattern","\u5c55\u793a\u65b9\u5f0f:"),b=[],e,p,g,q;this.getJqUi=function(l){a||(x(),l.append(a),p&&p.click());return a};var x=function(){a=$("<div id='switch-tab'>");var l=$("<div>");l.addClass("tab-switch-tab-head");a.append(l);var m=$("<div>");m.addClass("tab-switch-tab-head-tips");m.text(c);l.append(m);var r=$("<div>");r.addClass("tab-switch-tab-body");a.append(r);
if(0<b.length)for(var E in b){m=b[E];var T=$("<div>");T.addClass("tab-switch-tab-switch-btn");T.text(m.getShowText());T.data("oTab",m);T.click(function(y){y=$(y.target);if(!y.is(q)){y.addClass("tab-switch-tab-switch-btn-selected");null!=g&&(g.getJqUi(r).hide(),q.removeClass("tab-switch-tab-switch-btn-selected"));var S=y.data("oTab");g=S;q=y;y=S.getJqUi(r);r.has(y)?y.show():r.append(y);g.relayout()}});l.append(T);e==m&&(p=T)}};this.setDefaultSelect=function(l){e=l};this.getSelectedTab=function(){return g};
this.addTabContainers=function(l){b.push(l)};this.setShowTips=function(l){c=l}};Ea.DropComboxSelector=function(){var a=this,c=[],b=[],e={},p,g,q,x=!1,l,m,r=!0,E=!0,T=0,y,S,fa=25;this.getJqUi=function(){p=new ja;g=p.getJqUi();g.on("click",function(){x=!x});p.setCustomPainter(t);p.setDropdownCreator(K);q=$("<div>");q.css({height:"100%",width:"100%",position:"absolute",overflow:"auto"});r&&(m=$("<div>"),m.text("\u00d7"),m.attr("title",B.get("clean","\u6e05\u9664")),m.addClass("sa-ctrl-searchbox-close"),
m.addClass("rpt-clear-icon"),m.on("click",function(){E=!1;k();c=[];p.setSelectedModel(c)}),m.css("display","none"),Ca.layoutCtrlWithLRTB(m,null,23,16),g.append(m));return g};var t=function(n,J){k();return l?l(n,J):""};this.setFucChangeText=function(n){l=n};var K=function(n,J,aa,ba,ha){n.css("background-color","#FFFFFF");C();n.append(q);return[y?y:-1,S?S:-1]};this.addItem=function(n){b.push(n.getName()+T);e[n.getName()+T]=n;T++};this.addBatchItem=function(n){for(var J=0;J<n.length;J++)a.addItem(n[J])};
var C=function(){var n=[];q.empty();for(var J in b){var aa=e[b[J]];aa=h(aa.getName(),aa.getUserObject());Ca.layoutCtrlWithLRTB(aa,null,null,"100%",J*fa,null,fa);n.push(aa)}q.append(n)},h=function(n,J){var aa=new O;aa.setText(n);aa.setUserObject(J);aa.setChecked(-1!=c.indexOf(J));aa.addCheckedListener(function(ha,Ga){ha.isChecked()?(c.push(ha.getUserObject()),E=!0):(ha=c.indexOf(ha.getUserObject()),-1!=ha&&c.splice(ha,1),0==c.length&&(E=!1));p.setSelectedModel(c)});var ba=aa.getJqUi();ba.find(".sa-ctrl-checkbox-box").css({left:"5px",
top:"50%",transform:"translateY(-50%)"});ba.find(".sa-ctrl-checkbox-text").css({left:"25px",height:"100%","align-items":"center"});ba.on("mouseover",function(){ba.css("background-color","#E0EFFFFF")});ba.on("mouseleave",function(){ba.css("background-color","")});return ba};this.refreshAllDropDown=function(){x&&C()};this.refreshNewNode=function(n){x&&(a.addItem(n),n=e[b[b.length-1]],n=h(n.getName(),n.getUserObject()),Ca.layoutCtrlWithLRTB(n,null,null,"100%",(b.length-1)*fa,null,fa),q.append(n))};this.setDropHeight=
function(n){S=n};this.setDropWidth=function(n){y=n};this.setCellHeight=function(n){fa=n};this.enableClearIcon=function(n){r=n};this.getSelectedValue=function(){return c};var k=function(){m&&m.css("display",E?"block":"none")};this.clear=function(){b=[];c=[];e={}}};Ea.SortableTableHead=function(a,c,b,e,p){var g=a;var q=c;var x=e;var l=p;var m=b;this.setWidthRatio=function(r){m=r};this.getWidthRatio=function(){return m};this.setSortable=function(r){x=r};this.getSortable=function(){return x};this.setCalculable=
function(r){l=r};this.getCalculable=function(){return l};this.setField=function(r){q=r};this.getField=function(){return q};this.setName=function(r){g=r};this.getName=function(){return g};this.setIconGap=function(r){}};Ea.DropComboxNode=function(a,c){var b=a;var e=c;this.setName=function(p){b=p};this.getName=function(){return b};this.setUserObject=function(p){e=p};this.getUserObject=function(){return e}};Ea.StatisticFilterType=Ta;Ea.AbstractViewMemberRender=fb;var V,Ja,Ca,ab,B,qa,Fa,Qa,Ma,Ra,Ua,bb,
Xa,Ka,ka,Z,I,ja,N,O,M,pa,Y,va,Pa,Oa,gb,La,db,ob,rb,nb,sb,qb;(function(){var a=com.kingdee.bos.qing.common;V=a.Util;Ja=a.TextMeasurer;Ca=a.DomUtil;ab=a;a=com.kingdee.bos.qing.framework.common;B=a.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.rpt.statistic);Ma=a.TabbedUiUtil;Fa=a.WindowResizeObserver;Qa=a.RemoteFramework;Ua=a.AbstractFacade;Ra=a.AbstractIcons;a=com.kingdee.bos.qing.behavior;ka=a.BehaviorManager;a=com.kingdee.bos.qing.ui.component;bb=a.Label;Xa=a.ToolbarButton;Ka=a.MessageDialog;
I=a.MessageCurtain;ja=a.DropdownSelector;N=a.WorkButton;O=a.CheckBox;M=a.SplitPane;pa=a.TabContainer;Y=a.List;Z=a.AbstractModalDialog;a=com.kingdee.bos.qing.biz.common;Oa=a.AbstractDialogSelector;va=a.ComplexPaginationBar;Pa=a.UserDialogSelector;gb=a.KeyBoardSearchBox;a=com.kingdee.bos.qing.access.model;La=a.PublishModel;db=a.ReportModel;ob=a.SnapModel;a=com.kingdee.bos.qing.framework.common;rb=a.AbstractRemoteCall;a=com.kingdee.bos.qing.access.common;nb=a.SelectPublishNameFacade;a=com.kingdee.bos.qing.common.ui;
qa=a.TableUtil;a=com.kingdee.bos.qing;qb=a.Seer;a=com.kingdee.bos.qing.collaboration.common.ui;sb=a.ViewCollaborationMemberDialog})();oa.BOX_LEN=15;ea.ORDER_DESC="DESC";ea.ORDER_ASC="ASC";var eb={CENTER:"center",APPMENU:"appMenu",SNAPMENU:"snapMenu"},Wa={PUBLISH_TAB:"publish",SNAPSHOT_TAB:"snapShot"};Ea.SplitMatchTextUtil=new function(){this.redTextAfterMatching=function(b,e){if(void 0==b||null==e||""==e){var p=$("<span>");p.text(b);return p}p=$("<span>");e=e.trim();for(var g=a(b,e),q=e.length;-1!=
g;)c(p,b.substring(0,g)),c(p,b.substring(g,g+q),!0),b=b.substring(g+q),g=a(b,e);c(p,b);return p};var a=function(b,e){b=b.toUpperCase();e=e.toUpperCase();return b.indexOf(e)};this.highLightAllContent=function(b){var e=$("<span>");e.css("color","red");e.text(b);e.attr("attr",b);return e};var c=function(b,e,p){if(null!=e&&""!=e){var g=$("<span>");p&&g.css("color","red");g.text(e);g.appendTo(b)}}};Ea.RemoteUrlFacade=new function(){this.getAccessRemoteUrl=function(){var a=V.decodeParamFromUrl(window.location.search,
"path");return(a?a:"/ierp")+"/qing-rpt/accessRecord.do"};this.getCreateRemoteUrl=function(){var a=V.decodeParamFromUrl(window.location.search,"path");return(a?a:"/ierp")+"/qing-rpt/createRecord.do"};this.getQingTreeMenuRemoteUrl=function(){var a=V.decodeParamFromUrl(window.location.search,"path");return(a?a:"/ierp")+"/qing/selectPublish.do"}};Ea.Icons=new function(){Ra.call(this);var a=this.protectedMethod;this.protectedInit=function(c,b){c=com.kingdee.bos.extreport.mancenter.ComboIcon;if(!c)throw Error("com.kingdee.bos.extreport.mancenter.ComboIcon not found.");
c.define(b,"nodata");b.setStartPosition(0,0);b.setGap(0);b.setIconSize(220,220);a.registIcon(0,0,"nodata");c.define(b,"tips-background");b.setIconSize(240,150);a.registIcon(0,0,"tips-background");c.define(b,"tm");b.setGap(1);b.setStartPosition(1,1);b.setIconSize(16,16);a.registIcon(0,4,"btn-delete_hover");a.registIcon(1,4,"btn-delete");a.registIcon(2,0,"icon_sort-asc-esc");a.registIcon(2,1,"icon_sort-asc-desc");a.registIcon(2,2,"icon_sortable-v");c.define(b,"dm");b.setStartPosition(1,1);b.setGap(1);
b.setIconSize(16,16);a.registIcon(6,14,"selected_btn_delete");c.define(b,"extreport");b.setStartPosition(0,0);b.setGap(1);b.setIconSize(16,16);a.registIcon(1,5,"icon-extreport");b.setFilePath("qingrpt/snapcenter/skin/ierp/res/view_member.png");b.setGap(1);b.setStartPosition(0,117);b.setIconSize(16,16);a.registIcon(1,4,"view_member");a.registIcon(0,4,"view_member_hover");b.setGap(1);b.setStartPosition(0,151);b.setIconSize(170,98);a.registIcon(0,0,"icon-empty")}};var cb=Ea.Icons;Ta.USER="USER";Ta.COLLABORATION=
"COLLABORATION";Ta.AllFilterType=[new Ta(Ta.USER,"user","\u7528\u6237"),new Ta(Ta.COLLABORATION,"space","\u534f\u4f5c\u7a7a\u95f4")]})();(function(){function w(){W.call(this);da.call(this);na.call(this);var V=this,Ja,Ca=R.AllFilterType,ab=Ca[0],B=1,qa,Fa,Qa,Ma,Ra,Ua=[],bb;(function(){var ka=new d(v.get("owner","\u62e5\u6709\u8005"),"FCREATORID",1,!1,!1),Z=new d(v.get("dataset","\u6570\u636e\u96c6"),"DATASET",1,!0,!0),I=new d(v.get("report","\u62a5\u8868\u6a21\u677f"),"REPORT",1,!0,!0),ja=new d(v.get("publish","\u53d1\u5e03\u8bb0\u5f55"),"PUBLISH",1,!0,!0),N=new d(v.get("snapshot","\u5feb\u7167"),"SNAPSHOT",1,!0,!0),O=new d(v.get("totalNum",
"\u603b\u8ba1"),"TOTAL",1,!0,!0);Ra=[ka,Z,I,ja,N,O];V.setFuncResolveObjectToTotalArr(function(M){var pa=M.getDataSetNum(),Y=M.getReportNum(),va=M.getPublishNum(),Pa=M.getSnapShotNum();M=M.getTotalNum();return["",pa,Y,va,Pa,M]});V.setSortTableHeads(Ra,1);V.setEnablePagination(!0)})();this.createFilterContent=function(ka,Z,I,ja){var N=v.get("owner","\u62e5\u6709\u8005");ja=ja.measureWidth(N);var O=new fb;O.setText(N);N=O.getJqUi();Z.layoutCtrl(N,I+20,0,ja,23);I+=20+ja;O=new Ea;O.setItemModels(Ca);O.setSelected(ab);
ja=O.getJqUi();Z.layoutCtrl(ja,I+20,0,100,23);O.setCustomPainter(function(M,pa,Y){M=v.get(Y.getI18nKey(),Y.getDefaultDesc());pa.text(M);pa.attr("title",M)});O.addSelectedChangedListener(function(M,pa,Y){ab=Y;(Y&&Y.getTypeID())==R.USER?(Fa.hide(),Qa.show(),Ma="",B=1):(Qa.hide(),Fa.show(),Ua=[],B=0)});I+=130;qa=new Ta;O=v.get("inputSpaceName","\u8bf7\u8f93\u5165\u534f\u4f5c\u7a7a\u95f4\u540d\u79f0");qa.setPlaceholder(O);Fa=qa.getJqUi();Fa.attr("title",O);Fa.hide();Z.layoutCtrl(Fa,I+10,0,210,23);Ja=
new ea;Ja.setConfirmClear(!1);Qa=Ja.getJqUi();Qa.children(".sa-ctrl-textfield-input").css("width","86%");Z.layoutCtrl(Qa,I+10,0,210,23);N.appendTo(ka);ja.appendTo(ka);Fa.appendTo(ka);Qa.appendTo(ka);return I+=180};this.cellShow=function(ka,Z,I,ja,N){ka=$(ka);Z=$("<div>");I=null;0==ja?(Z.addClass("rpt-statistic-data-table-cell-left"),I=N.getCreatorName(),Z.text(I),I&&"0"==N.getSpaceType()&&V.viewCollaborationMember(ka,N)):(Z.addClass("rpt-statistic-data-table-cell-center"),1==ja?(I=N.getDataSetNum(),
Xa(Z,I,N,ja)):2==ja?(I=N.getReportNum(),Xa(Z,I,N,ja)):3==ja?(I=N.getPublishNum(),Xa(Z,I,N,ja)):4==ja?(I=N.getSnapShotNum(),"0"==N.getSpaceType()&&(I="-"),Xa(Z,I,N,ja)):5==ja&&(I=N.getTotalNum(),Xa(Z,I,N,ja)));Z.attr("title",I);ka.append(Z)};var Xa=function(ka,Z,I,ja){var N=$("<span>");0!=Z&&"-"!=Z&&(N.addClass("rpt-statistic-click-open-panel"),N.on("click",function(){if(1==ja){var O=new D(ya.DATASET,I.getSpaceType(),I.getSpaceName(),I.getCreatorId(),v.get("createDetail","\u521b\u5efa\u5185\u5bb9\u660e\u7ec6")+
"-"+I.getCreatorName());O.showDialog()}else 2==ja?(O=new D(ya.REPORT,I.getSpaceType(),I.getSpaceName(),I.getCreatorId(),v.get("createDetail","\u521b\u5efa\u5185\u5bb9\u660e\u7ec6")+"-"+I.getCreatorName()),O.showDialog()):3==ja?(O=new D(ya.PUBLISH,I.getSpaceType(),I.getSpaceName(),I.getCreatorId(),v.get("createDetail","\u521b\u5efa\u5185\u5bb9\u660e\u7ec6")+"-"+I.getCreatorName()),O.showDialog()):4==ja?(O=new D(ya.SNAPSHOT,I.getSpaceType(),I.getSpaceName(),I.getCreatorId(),v.get("createDetail","\u521b\u5efa\u5185\u5bb9\u660e\u7ec6")+
"-"+I.getCreatorName()),O.showDialog()):5==ja&&(O=new D(ya.TOTAL,I.getSpaceType(),I.getSpaceName(),I.getCreatorId(),v.get("createDetail","\u521b\u5efa\u5185\u5bb9\u660e\u7ec6")+"-"+I.getCreatorName()),O.showDialog())}));N.text(Z);ka.html(N)},Ka=V.queryDataByFilter;this.queryDataByFilter=function(){var ka=Ja.getSelectedValue();Ua=[];for(var Z=0;Z<ka.length;Z++)Ua.push(ka[Z].getValue());Ma=$.trim(qa.getText()).toUpperCase();ab.getTypeID()==R.USER?Ma="":Ua=[];Ka()};this.getTotalRow=function(){return bb};
this.doExportExcel=function(ka,Z,I,ja){var N={},O=[],M;for(M in Ra)N[Ra[M].getName()]=Ra[M].getField(),O.push(Ra[M].getName());ka={exportData:X.CREATOR_INDEX,searchText:Ma,spaceType:B,tableHeads:JSON.stringify(O),headAndFieldMapping:JSON.stringify(N),creatorIds:JSON.stringify(Ua),field:ka,order:Z};I=new ua(V.getRemoteImpl(F.getCreateRemoteUrl()),I,ja);I.setBlockingPrompt(v.get("loading","\u6b63\u5728\u5bfc\u51fa..."));I.exportExcel(ka)};this.doQueryData=function(ka,Z,I,ja,N){var O=new ua(V.getRemoteImpl(F.getCreateRemoteUrl()),
function(M){bb=M.totalRow;null==N?V.getPaginationBar().resetPaginationAndJumpToFirstPage(bb):N(bb);M=M.data;var pa=[],Y;for(Y in M){var va=new A;va.fromJsonObject(M[Y]);pa.push(va)}V.updateTable(pa);V.relayout()},function(){});O.setShowBlocking(!0);O.loadNumericCreateRecordByIds(Ua,B,Ma,I,ja,ka,Z)};this.getExcelPrefix=function(){return v.get("createUserPrefix","\u7528\u6237\u521b\u5efa\u5185\u5bb9\u7edf\u8ba1(\u62e5\u6709\u8005\u89c6\u89d2)")};this.getRemoteUrl=function(){return F.getCreateRemoteUrl()}}
function D(V,Ja,Ca,ab,B){oa.call(this);var qa=this,Fa,Qa,Ma,Ra,Ua,bb;(function(){Ma=V;Ua=Ja;bb=Ca;Ra=ab;qa.setTitle(B);qa.setSize(1E3,570);var Ka=new d(v.get("dataContextName","\u6570\u636e\u5185\u5bb9\u540d\u79f0"),"FNAME",12),ka=new d(v.get("type","\u7c7b\u578b"),"FTYPE",8),Z=new d(v.get("path","\u8def\u5f84"),"FPATH",15),I=new d(v.get("createTime","\u521b\u5efa\u65f6\u95f4"),"FCREATETIME",10,!0),ja=new d(v.get("owner","\u62e5\u6709\u8005"),"FOWNER",8);Fa=[Ka,ka,Z,I,ja];qa.setSortTableHeads(Fa,
3);qa.setEnablePagination(!0)})();this.cellShow=function(Ka,ka,Z,I,ja){Ka=$(Ka);ka=$("<div>");Z=null;ka.addClass("rpt-statistic-data-table-cell-left");0==I?Z=ja.getPubName():1<=I&&4>=I&&(1==I?Z=ja.getPubType():2==I?Z=ja.getPubPath():3==I?Z=ja.getCreateFormatTime():4==I&&(Z=ja.getCreatorName()));ka.text(Z);ka.attr("title",Z);Ka.append(ka)};this.doQueryData=function(Ka,ka,Z,I,ja){var N=new ua(qa.getRemoteImpl(F.getCreateRemoteUrl()),function(O){Qa=O.totalRow;null==ja?qa.getPaginationBar().resetPaginationAndJumpToFirstPage(Qa):
ja(Qa);O=O.data;var M=[],pa;for(pa in O){var Y=new U;Y.fromJsonObject(O[pa]);M.push(Y)}qa.updateTable(M)},function(){});N.setShowBlocking(!0);N.loadDetailBySinglePersonAndType(Ra,Ma,Ua,Ka,ka,Z,I)};this.getTotalRow=function(){return Qa};this.doExportExcel=function(Ka,ka,Z,I){var ja={},N=[],O;for(O in Fa)ja[Fa[O].getName()]=Fa[O].getField(),N.push(Fa[O].getName());Ka={exportData:Xa(),creatorId:Ra,type:Ma,spaceType:Ua,spaceName:bb,tableHeads:JSON.stringify(N),headAndFieldMapping:JSON.stringify(ja),field:Ka,
order:ka};Z=new ua(qa.getRemoteImpl(F.getCreateRemoteUrl()),Z,I);Z.setBlockingPrompt(v.get("loading","\u6b63\u5728\u5bfc\u51fa..."));Z.exportExcel(Ka)};var Xa=function(){if(Ma==ya.DATASET)return X.CREATOR_DATASET;if(Ma==ya.REPORT)return X.CREATOR_REPORT;if(Ma==ya.PUBLISH)return X.CREATOR_PUBLISH;if(Ma==ya.SNAPSHOT)return X.CREATOR_SNAPSHOT;if(Ma==ya.TOTAL)return X.CREATOR_TOTAL};this.getExcelPrefix=function(){return B}}function Q(){W.call(this);da.call(this);na.call(this);var V=this,Ja,Ca=R.AllFilterType,
ab=Ca[0],B=1,qa,Fa,Qa,Ma,Ra=[],Ua,bb=[],Xa,Ka,ka,Z;(function(){var N=new d(v.get("dataContextName","\u6570\u636e\u5185\u5bb9\u540d\u79f0"),"FNAME",12),O=new d(v.get("type","\u7c7b\u578b"),"FTYPE",8),M=new d(v.get("path","\u8def\u5f84"),"FPATH",15),pa=new d(v.get("createTime","\u521b\u5efa\u65f6\u95f4"),"FCREATETIME",10,!0),Y=new d(v.get("owner","\u62e5\u6709\u8005"),"FOWNER",8);Ja=[N,O,M,pa,Y];V.setSortTableHeads(Ja,3);V.requireTotalComponent(!1);V.setEnablePagination(!0)})();this.cellShow=function(N,
O,M,pa,Y){N=$(N);O=$("<div>");M=null;O.addClass("rpt-statistic-data-table-cell-left");0==pa?(Y.isPreset()&&(pa=$("<div>"),pa.text(v.get("preset","\u9884\u7f6e")),pa.addClass("select-publish-name-preset-tag"),pa.appendTo(N)),M=Y.getPubName(),O.append(u.redTextAfterMatching(Y.getPubName(),Ua))):(1==pa?M=Y.getPubType():2==pa?M=(M=(M=Y.getPubPath())&&M.replaceAll("APP_MENU_HAS_BEEN_DELETED",v.get("menuBeDeleted","\u8be5\u5e94\u7528\u83dc\u5355\u5df2\u88ab\u5220\u9664")))&&M.replaceAll("APP_HAS_BEEN_DELETED",
v.get("menuBeDeleted","\u8be5\u5e94\u7528\u83dc\u5355\u5df2\u88ab\u5220\u9664")):3==pa?M=Y.getCreateFormatTime():4==pa&&(M=Y.getCreatorName())&&"0"==Y.getSpaceType()&&V.viewCollaborationMember(N,Y),O.text(M));O.attr("title",M);N.append(O)};this.createFilterContent=function(N,O,M,pa){var Y=v.get("name","\u540d\u79f0"),va=pa.measureWidth(Y),Pa=new fb;Pa.setText(Y);Y=Pa.getJqUi();O.layoutCtrl(Y,M+20,0,va,23);Y.appendTo(N);M+=20+va;Z=new Ta;Z.setPlaceholder(v.get("searchBoxPlaceholder","\u8bf7\u8f93\u5165\u6570\u636e\u5185\u5bb9\u540d\u79f0"));
va=Z.getJqUi();O.layoutCtrl(va,M+6,0,210,23);va.appendTo(N);M+=216;Y=v.get("owner","\u62e5\u6709\u8005");va=pa.measureWidth(Y);Pa=new fb;Pa.setText(Y);Y=Pa.getJqUi();O.layoutCtrl(Y,M+35,0,va,23);Y.appendTo(N);M+=35+va;Y=new Ea;Y.setItemModels(Ca);Y.setSelected(ab);va=Y.getJqUi();O.layoutCtrl(va,M+20,0,100,23);Y.setCustomPainter(function(Oa,gb,La){Oa=v.get(La.getI18nKey(),La.getDefaultDesc());gb.text(Oa);gb.attr("title",Oa)});Y.addSelectedChangedListener(function(Oa,gb,La){ab=La;(La&&La.getTypeID())==
R.USER?(Fa.hide(),Qa.show(),Ma="",B=1):(Qa.hide(),Fa.show(),Ra=[],B=0)});M+=130;qa=new Ta;Y=v.get("inputSpaceName","\u8bf7\u8f93\u5165\u534f\u4f5c\u7a7a\u95f4\u540d\u79f0");qa.setPlaceholder(Y);Fa=qa.getJqUi();Fa.attr("title",Y);Fa.hide();O.layoutCtrl(Fa,M+10,0,210,23);va.appendTo(N);Fa.appendTo(N);Ka=new ea;Ka.setConfirmClear(!1);Qa=Ka.getJqUi();O.layoutCtrl(Qa,M+6,0,210,23);Qa.appendTo(N);M+=216;va=v.get("type","\u7c7b\u578b");pa=pa.measureWidth(va);Y=new fb;Y.setText(va);va=Y.getJqUi();O.layoutCtrl(va,
M+35,0,pa,23);va.appendTo(N);M+=35+pa;ka=new la;ka.addItem(new H(v.get("dataset","\u6570\u636e\u96c6"),ya.DATASET));ka.addItem(new H(v.get("report","\u62a5\u8868\u6a21\u677f"),ya.REPORT));ka.addItem(new H(v.get("publish","\u53d1\u5e03\u8bb0\u5f55"),ya.PUBLISH));ka.addItem(new H(v.get("snapshot","\u5feb\u7167"),ya.SNAPSHOT));ka.setDropHeight(100);ka.setFucChangeText(function(Oa,gb){var La=$("<div>");if(Oa&&0!=Oa.length){var db="";if(1==Oa.length)La.text(I(Oa[0]));else if(2==Oa.length){for(var ob in Oa)db+=
I(Oa[ob])+"; ";La.text(db.substring(0,db.length-2))}else 2<Oa.length&&(db+=I(Oa[0])+", ",db+=I(Oa[1]),La.text(db+v.get("SoOn","\u7b49#1\u79cd\u7c7b\u578b").replace("#1",Oa.length)))}else La.text(v.get("pleaseSelectType","\u8bf7\u9009\u62e9\u7c7b\u578b"));La.addClass("rpt-drop-selector-tips");gb.html(La)});pa=ka.getJqUi();O.layoutCtrl(pa,M+=6,0,210,23);pa.appendTo(N);return M+216};var I=function(N){if(N==ya.DATASET)return v.get("dataset","\u6570\u636e\u96c6");if(N==ya.REPORT)return v.get("report",
"\u62a5\u8868\u6a21\u677f");if(N==ya.PUBLISH)return v.get("publish","\u53d1\u5e03\u8bb0\u5f55");if(N==ya.SNAPSHOT)return v.get("snapshot","\u5feb\u7167")},ja=V.queryDataByFilter;this.queryDataByFilter=function(){var N=Ka.getSelectedValue();Ra=[];for(var O=0;O<N.length;O++)Ra.push(N[O].getValue());bb=ka.getSelectedValue();Ua=Z.getText()&&Z.getText().trim();Ma=$.trim(qa.getText()).toUpperCase();ab.getTypeID()==R.USER?Ma="":Ra=[];ja()};this.doQueryData=function(N,O,M,pa,Y){var va=new ua(V.getRemoteImpl(F.getCreateRemoteUrl()),
function(Pa){Xa=Pa.totalRow;null==Y?V.getPaginationBar().resetPaginationAndJumpToFirstPage(Xa):Y(Xa);Pa=Pa.data;var Oa=[],gb;for(gb in Pa){var La=new U;La.fromJsonObject(Pa[gb]);Oa.push(La)}V.updateTable(Oa);V.relayout()},function(){});va.setShowBlocking(!0);va.loadDetailFromDataAspect(bb,Ra,Ua,B,Ma,N,O,M,pa)};this.doExportExcel=function(N,O,M,pa){var Y={},va=[],Pa;for(Pa in Ja)Y[Ja[Pa].getName()]=Ja[Pa].getField(),va.push(Ja[Pa].getName());N={exportData:X.DATA_INDEX,creatorIds:JSON.stringify(Ra),
types:JSON.stringify(bb),spaceType:B,spaceName:Ma,name:Ua,tableHeads:JSON.stringify(va),headAndFieldMapping:JSON.stringify(Y),field:N,order:O};M=new ua(V.getRemoteImpl(F.getCreateRemoteUrl()),M,pa);M.setBlockingPrompt(v.get("loading","\u6b63\u5728\u5bfc\u51fa..."));M.exportExcel(N)};this.getTotalRow=function(){return Xa};this.getExcelPrefix=function(){return v.get("createDatePrefix","\u7528\u6237\u521b\u5efa\u5185\u5bb9\u7edf\u8ba1(\u6570\u636e\u89c6\u89d2)")};this.getRemoteUrl=function(){return F.getCreateRemoteUrl()}}
"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.estabilish&&(com.kingdee.bos.qing.estabilish={});"undefined"==typeof com.kingdee.bos.qing.estabilish.theme&&(com.kingdee.bos.qing.estabilish.theme={});com.kingdee.bos.qing.estabilish.theme.MainUi=function(){this.getJqUi=function(V){var Ja=new f,Ca=new w;
Ca.setShowText(v.get("ownerMode","\u6309\u62e5\u6709\u8005\u89c6\u89d2\u5c55\u793a"));Ja.addTabContainers(Ca);var ab=new Q;ab.setShowText(v.get("dataMode","\u6309\u6570\u636e\u5185\u5bb9\u89c6\u89d2\u5c55\u793a"));Ja.addTabContainers(ab);Ja.setDefaultSelect(Ca);Ja.getJqUi(V);V=new Aa;V.setDelay(250);V.setCallback(function(){if("none"!=Ja.getSelectedTab().getJqUi().css("display")&&0!=document.body.clientHeight&&0!=document.body.clientWidth){var B=Ja.getSelectedTab();B.isTableInited()?B.refreshTable():
B.updateTable();B.relayout()}});V.observe()}};var W,da,oa,ea,la,f,u,F,d,H,R,na,v,Aa,ua,X,ya,A,U,Ta,fb,Ea;(function(){var V=com.kingdee.bos.qing.rpt.statistic;W=V.AbstractPage;da=V.AbstractStatisticMainTable;ea=V.UserDialogSelectorDisPlay;oa=V.AbstractStatisticDialog;la=V.DropComboxSelector;f=V.SwitchPage;u=V.SplitMatchTextUtil;F=V.RemoteUrlFacade;d=V.SortableTableHead;H=V.DropComboxNode;R=V.StatisticFilterType;na=V.AbstractViewMemberRender;V=com.kingdee.bos.qing.framework.common;v=V.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.rpt.statistic);
Aa=V.WindowResizeObserver;V=com.kingdee.bos.qing.estabilish.common;ua=V.EstablishAspectServiceFacade;X=V.EXPORT_TYPE;ya=V.DATATYPE;V=com.kingdee.bos.qing.estabilish.model;A=V.CreatorAspectModel;U=V.DataAspectModel;V=com.kingdee.bos.qing.ui.component;fb=V.Label;Ta=V.SearchBox;Ea=V.ComboBox})()})();
//qingVersionTag: 20250324