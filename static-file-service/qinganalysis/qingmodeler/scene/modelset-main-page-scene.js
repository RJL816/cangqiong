(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.modeler&&(com.kingdee.bos.qing.modeler={});"undefined"==typeof com.kingdee.bos.qing.modeler.scene&&(com.kingdee.bos.qing.modeler.scene={});com.kingdee.bos.qing.modeler.scene.ModelSetMainPageScene=function(){var l,d,p,u,m,n,v;(function(){var a=
com.kingdee.bos.qing;l=a.SkinUtil;a=com.kingdee.bos.qing.common;d=a.Util;a=com.kingdee.bos.qing.framework.common;p=a.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.modeler.mainpage.ui);u=a.WebPageInitializer;m=a.TabbedUiUtil;a=com.kingdee.bos.qing.modeler.common.model;n=a.ModelType;a=com.kingdee.bos.qing.modeler.message.common;v=a.MessageManageUtil})();var t;this.start=function(){u.init();t=new v;t.createMessageUI({position:"absolute","float":"right",bottom:"0",right:"10px"},null,
30);x();var a=com.kingdee.bos.qing.behavior.BehaviorManager;com.kingdee.bos.qing.modeler.mainpage.common.UserOperationReporter.hookCollector(function(g,q){a.interestInBehavior(g,q)});a.interestInBehaviorEntrance(a.ENTRANCE_MODELER_MAIN_PAGE)};var x=function(){var a=d.decodeParamFromUrl(location.search,"path"),g=com.kingdee.bos.qing.modeler.mainpage.common.Integration;g.setRemoteUrl(a+"/qing_modeler/modelSetMainPage.do");a=a?a:"/ierp";g.setParamPathPrefix(a);var q=new com.kingdee.bos.qing.modeler.mainpage.ui.Main;
q.setMessageResize(y);q.createMainPageJqUi().appendTo($(document.body));g.setFunGetDeployRemoteImpl(function(){var e=new com.kingdee.bos.qing.modeler.mainpage.common.RemoteImpl;e.setRemoteUrl(a+"/qing_modeler/deployManage.do");return e});g.setFunGetDesignerRemoteImpl(function(){var e=new com.kingdee.bos.qing.modeler.mainpage.common.RemoteImpl;e.setRemoteUrl(a+"/qing_modeler/designer.do");return e});g.setModelDesignerEntrance(function(e,h,k,b,c,f){var w=l.getUrlParamValue(),r=n.modelTypeTransformName(b);
r=r?r+"-"+c:c;b=a+z(b);b=d.appendParamToUrl(b,"isPreset",e);b=d.appendParamToUrl(b,"modelSetId",h);b=d.appendParamToUrl(b,"modelId",k);b=d.appendParamToUrl(b,"modelName",c);b=d.appendParamToUrl(b,"modelSetName",f);w&&(b=d.appendParamToUrl(b,"skin",w));m.openNewTab(r,b,b)});var z=function(e){switch(e){case n.DATA_TABLE_MODEL:return"/qing_modeler/designerEntrance.do";case n.RELATION_MODEL:return"/qing_modeler/designerEntrance.do";case n.METRICS_MODEL:return"/qing_modeler/metricDesignerEntrance.do"}return null};
g.setDataSourceManageEntrance(function(e,h,k){var b=l.getUrlParamValue(),c=p.get("dataSourceManage","\u6570\u636e\u6e90\u7ba1\u7406")+"-"+h,f=a+"/qing_modeler/modelSetSourceManageEntrance.do";f=d.appendParamToUrl(f,"modelSetId",e);f=d.appendParamToUrl(f,"modelSetName",h);f=d.appendParamToUrl(f,"isPreset",k);b&&(f=d.appendParamToUrl(f,"skin",b));m.openNewTab(c,f,f)});g.setDeployManageEntrance(function(e,h){var k=l.getUrlParamValue(),b=p.get("deployManager","\u90e8\u7f72\u7ba1\u7406")+"-"+h,c=a+"/qing_modeler/deployManage.do";
c=d.appendParamToUrl(c,"modelSetId",e);c=d.appendParamToUrl(c,"modelName",h);k&&(c=d.appendParamToUrl(c,"skin",k));m.openNewTab(b,c,c)});g.setDataAuthorityEntrance(function(e,h){var k=l.getUrlParamValue(),b=p.get("dataAuth","\u6570\u636e\u6743\u9650")+"-"+h,c=a+"/qing_modeler/dataAuthEntrance.do";c=d.appendParamToUrl(c,"modelSetName",h);c=d.appendParamToUrl(c,"modelSetId",e);k&&(c=d.appendParamToUrl(c,"skin",k));m.openNewTab(b,c,c)})},y=function(){t.resize(null,null,10,30)}}})();
//qingVersionTag: 20250324