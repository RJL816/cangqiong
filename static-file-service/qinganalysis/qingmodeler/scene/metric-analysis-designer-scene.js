(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.modeler&&(com.kingdee.bos.qing.modeler={});"undefined"==typeof com.kingdee.bos.qing.modeler.scene&&(com.kingdee.bos.qing.modeler.scene={});"undefined"==typeof com.kingdee.bos.qing.modeler.scene.metricanalysis&&(com.kingdee.bos.qing.modeler.scene.metricanalysis=
{});com.kingdee.bos.qing.modeler.scene.metricanalysis.DesignerScene=function(){var a;this.show=function(b){a=new g;a.appendToolbarBtn(h.closeCurrentTab,"btn_close",d.get("closeTab","\u9000\u51fa"));a.insertToolbarBtn(p,"btn_save",d.get("save","\u4fdd\u5b58"));var c=k();a.setRemoteImpl(c);var l=a.getJqUi();l.appendTo(b);m.layoutCtrlWithLRTB(l,0,0,null,0,0,null);q(c)};var q=function(b){(new com.kingdee.bos.qing.modeler.metricanalysis.Facade(b,function(c){a.setMetricInfo(c)})).loadMetricInfo(e("metricLibId"),
e("bizTag"))},p=function(){var b=a.getJsonModel();(new com.kingdee.bos.qing.modeler.metricanalysis.Facade(k(),function(c){a.getMessageCurtain().showSuccess(d.get("saveSuccess","\u4fdd\u5b58\u6210\u529f\u3002"));f&&f.refreshCard()})).saveAnalysisModel(b,e("bizTag"),n.SCENE_COSMIC_HOMEPAGE)},k=function(){var b=com.kingdee.bos.qing.common.Util.decodeParamFromUrl(window.location.search,"path");b=(b?b:"/ierp")+"/qing_modeler/metricAnalysis.do";var c=new com.kingdee.bos.qing.modeler.metricanalysis.RemoteImpl;
c.setRemoteUrl(b);return c},e=function(b){return com.kingdee.bos.qing.common.Util.decodeParamFromUrl(window.location.search,b)}};var d,m,h,g,n,f;(function(){var a=com.kingdee.bos.qing.common;m=a.DomUtil;a=com.kingdee.bos.qing.modeler.metricanalysis;g=a.MetricAnalysisDesignerPane;n=a.MetricAnalysisModel;a=com.kingdee.bos.qing.framework.common;d=a.MultilanguageManager.createPackageAccessor(com.kingdee.bos.qing.modeler.scene);h=a.TabbedUiUtil;a=com.kingdee.bos.qing.integration;f=a.RefreshCardHelper})()})();
//qingVersionTag: 20250324