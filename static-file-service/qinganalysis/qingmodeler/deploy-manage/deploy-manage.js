var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(n,v,u){n instanceof String&&(n=String(n));for(var m=n.length,z=0;z<m;z++){var x=n[z];if(v.call(u,x,z,n))return{i:z,v:x}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,v,u){if(n==Array.prototype||n==Object.prototype)return n;n[v]=u.value;return n};$jscomp.getGlobal=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var v=0;v<n.length;++v){var u=n[v];if(u&&u.Math==Math)return u}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(n,v){var u=$jscomp.propertyToPolyfillSymbol[v];if(null==u)return n[v];u=n[u];return void 0!==u?u:n[v]};
$jscomp.polyfill=function(n,v,u,m){v&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(n,v,u,m):$jscomp.polyfillUnisolated(n,v,u,m))};$jscomp.polyfillUnisolated=function(n,v,u,m){u=$jscomp.global;n=n.split(".");for(m=0;m<n.length-1;m++){var z=n[m];if(!(z in u))return;u=u[z]}n=n[n.length-1];m=u[n];v=v(m);v!=m&&null!=v&&$jscomp.defineProperty(u,n,{configurable:!0,writable:!0,value:v})};
$jscomp.polyfillIsolated=function(n,v,u,m){var z=n.split(".");n=1===z.length;m=z[0];m=!n&&m in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var x=0;x<z.length-1;x++){var C=z[x];if(!(C in m))return;m=m[C]}z=z[z.length-1];u=$jscomp.IS_SYMBOL_NATIVE&&"es6"===u?m[z]:null;v=v(u);null!=v&&(n?$jscomp.defineProperty($jscomp.polyfills,z,{configurable:!0,writable:!0,value:v}):v!==u&&(void 0===$jscomp.propertyToPolyfillSymbol[z]&&(u=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[z]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(z):$jscomp.POLYFILL_PREFIX+u+"$"+z),$jscomp.defineProperty(m,$jscomp.propertyToPolyfillSymbol[z],{configurable:!0,writable:!0,value:v})))};$jscomp.polyfill("Array.prototype.find",function(n){return n?n:function(v,u){return $jscomp.findInternal(this,v,u).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(n){var v=0;return function(){return v<n.length?{done:!1,value:n[v++]}:{done:!0}}};$jscomp.arrayIterator=function(n){return{next:$jscomp.arrayIteratorImpl(n)}};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(n){if(n)return n;var v=function(x,C){this.$jscomp$symbol$id_=x;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:C})};v.prototype.toString=function(){return this.$jscomp$symbol$id_};var u="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",m=0,z=function(x){if(this instanceof z)throw new TypeError("Symbol is not a constructor");return new v(u+(x||"")+"_"+m++,x)};return z},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(n){if(n)return n;n=Symbol("Symbol.iterator");for(var v="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),u=0;u<v.length;u++){var m=$jscomp.global[v[u]];"function"===typeof m&&"function"!=typeof m.prototype[n]&&$jscomp.defineProperty(m.prototype,n,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return n},"es6",
"es3");$jscomp.iteratorPrototype=function(n){n={next:n};n[Symbol.iterator]=function(){return this};return n};$jscomp.iteratorFromArray=function(n,v){n instanceof String&&(n+="");var u=0,m=!1,z={next:function(){if(!m&&u<n.length){var x=u++;return{value:v(x,n[x]),done:!1}}m=!0;return{done:!0,value:void 0}}};z[Symbol.iterator]=function(){return z};return z};$jscomp.polyfill("Array.prototype.keys",function(n){return n?n:function(){return $jscomp.iteratorFromArray(this,function(v){return v})}},"es6","es3");
(function(){function n(){z.call(this);var C;this.getRemoteUrl=function(){return C};this.setRemoteUrl=function(q){C=q}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.modeler&&(com.kingdee.bos.qing.modeler={});"undefined"==typeof com.kingdee.bos.qing.modeler.deploy&&(com.kingdee.bos.qing.modeler.deploy=
{});"undefined"==typeof com.kingdee.bos.qing.modeler.deploy.common&&(com.kingdee.bos.qing.modeler.deploy.common={});var v=com.kingdee.bos.qing.modeler.deploy.common;v.Facade=function(C,q,I,F){u.call(this,C,q,I,F);var H=this.protectedMethod;this.listAllGroupAndDeployModel=function(D){H.remote("listAllGroupAndDeployModel",{modelSetId:D})};this.listSetDeploy=function(D){H.remote("listSetDeploy",{modelSetId:D})};this.listModelDeployDetail=function(D){H.remote("listModelDeployDetail",{modelId:D})};this.listDeployModelDetail=
function(D,y){H.remote("listDeployModelDetail",{modelSetDeployId:D,modelSetId:y})};this.unDeployModel=function(D,y,B,R){H.remote("unDeployModel",{modelId:D,modelSetId:y,modelDeployId:B,desc:R})};this.unDeployModelSet=function(D,y,B){H.remote("unDeployModelSet",{modelSetDeployId:D,modelSetId:y,desc:B})};this.deleteModelDeploy=function(D){H.remote("deleteModelDeploy",{modelId:D})};this.deleteModelSetDeploy=function(D,y){H.remote("deleteModelSetDeploy",{modelSetDeployId:D,modelSetId:y})};this.revertModelDeploy=
function(D,y,B,R,w){H.remote("revertModelDeploy",{revertModelDeployId:D,modelSetId:y,modelId:B,desc:R,renameDuplicateNumber:w?!0:!1})};this.revertModelSetDeploy=function(D,y,B,R){H.remote("revertModelSetDeploy",{revertModelSetDeployId:D,modelSetId:y,desc:B,renameDuplicateNumber:R?!0:!1})};this.syncModelDeployToDesigner=function(D,y,B,R){H.remote("syncModelDeployToDesigner",{syncModelDeployId:D,modelSetId:y,modelId:B,renameDuplicateNumber:R?!0:!1})}};v.RemoteImpl=n;var u,m,z;(function(){var C=com.kingdee.bos.qing.framework.common;
u=C.AbstractFacade;m=C.AbstractIcons;z=C.AbstractRemoteCall;C.MultilanguageManager.createPackageAccessor(v)})();v.MyIcons=new function(){m.call(this);var C=this.protectedMethod;this.protectedInit=function(I,F){I=com.kingdee.bos.qing.modeler.deploy.ComboIcon;if(!I)throw Error("com.kingdee.bos.qing.modeler.deploy.ComboIcon not found.");I.define(F,"model-common");F.setGap(1);F.setStartPosition(0,117);F.setIconSize(16,16);q(1,1,"btn-delete");q(0,1,"btn-delete_hover");F.setStartPosition(9,-3);F.setIconSize(16,
16);q(5,5,"data-table-model-icon-small");F.setStartPosition(12,-3);q(5,6,"relation-model-icon-small");F.setStartPosition(11,-3);q(5,7,"entity-model-icon-small");q(5,8,"metric-model-icon-small");q(5,9,"metric-icon-small");F.setStartPosition(0,151);F.setIconSize(170,98);q(0,0,"icon-empty");I.define(F,"deploy");F.setGap(1);F.setStartPosition(1,1);F.setIconSize(32,32);q(0,0,"delete");q(1,0,"delete_hover");q(0,1,"revert");q(1,1,"revert_hover");q(0,2,"sync");q(1,2,"sync_hover");q(0,3,"undeploy");q(1,3,
"undeploy_hover");F.setStartPosition(0,100);F.setIconSize(14,14);q(0,0,"refresh_hover");q(1,0,"refresh");F.setStartPosition(1,1);F.setIconSize(16,16);q(0,0,"icon_search");q(0,1,"icon_search_hover")};var q=function(I,F,H){C.registIcon(I,F,H)}};v.Integration=new function(){var C=new n,q,I,F;this.setParamPathPrefix=function(H){q=H};this.getParamPathPrefix=function(){return q};this.getRemoteImpl=function(){return C};this.setRemoteUrl=function(H){C.setRemoteUrl(H)};this.setDeployModelDesignerEntrance=
function(H){I=H};this.getDeployModelDesignerEntrance=function(){return I};this.setDataAuthorityEntrance=function(H){F=H};this.getDataAuthorityEntrance=function(){return F}};var x=new function(){var C;this.hookCollector=function(q){C=q};this.occur=function(q,I){try{C&&C(q,I)}catch(F){window.console&&console.warn(F)}};this.getContainChildrenStatus=function(q){return q?x.CONTAIN:x.NOT_CONTAIN};this.getPageShowMethod=function(q){var I=oPackage=com.kingdee.bos.qing.modeler.deploy.ui.DeployViewType;switch(q){case I.DEPLOYED_MODEL:return x.BY_CLASS_AND_MODEL;
case I.DEPLOY_RECORD:return x.BY_DEPLOY_RECORD}}};x.PAGE_SHOW_METHOD="page-show-method";x.CONTAIN_CHILDREN_MODEL_GROUP="contain-children-model-group";x.BUTTON_TYPE="button-type";x.BY_CLASS_AND_MODEL="\u6309\u76ee\u5f55\u548c\u6a21\u578b\u5c55\u793a";x.BY_DEPLOY_RECORD="\u6309\u90e8\u7f72\u8bb0\u5f55\u5c55\u793a";x.CONTAIN="\u52fe\u9009";x.NOT_CONTAIN="\u4e0d\u52fe\u9009";x.BY_CLASS_AND_MODEL_CANCEL_DEPLOY="\u6309\u76ee\u5f55\u548c\u6a21\u578b\u5c55\u793a-\u53d6\u6d88\u90e8\u7f72";x.BY_CLASS_AND_MODEL_DELETE_RECORD=
"\u6309\u76ee\u5f55\u548c\u6a21\u578b\u5c55\u793a-\u5220\u9664\u90e8\u7f72\u8bb0\u5f55";x.BY_CLASS_AND_MODEL_BACK="\u6309\u76ee\u5f55\u548c\u6a21\u578b\u5c55\u793a-\u56de\u9000\u5230\u8be5\u90e8\u7f72\u72b6\u6001";x.BY_CLASS_AND_MODEL_SYNCHRONIZED="\u6309\u76ee\u5f55\u548c\u6a21\u578b\u5c55\u793a-\u540c\u6b65\u56de\u5de5\u4f5c\u6a21\u578b";x.BY_DEPLOY_RECORD_CANCEL_DEPLOY="\u6309\u90e8\u7f72\u8bb0\u5f55\u5c55\u793a-\u53d6\u6d88\u90e8\u7f72";x.BY_DEPLOY_RECORD_BACK="\u6309\u90e8\u7f72\u8bb0\u5f55\u5c55\u793a-\u56de\u9000\u5230\u8be5\u90e8\u7f72\u72b6\u6001";
v.UserOperationReporter=x})();(function(){function n(){var m=this,z,x,C,q,I,F,H,D,y;this.setModelSetDeployId=function(B){z=B};this.getModelSetDeployId=function(){return z};this.setModelSetId=function(B){x=B};this.getModelSetId=function(){return x};this.setDesc=function(B){C=B};this.getDesc=function(){return C};this.setDeployer=function(B){q=B};this.getDeployer=function(){return q};this.setDeployTime=function(B){I=B};this.getDeployTime=function(){return I};this.setDisplayDeployTime=function(B){F=B};this.getDisplayDeployTime=function(){return F};
this.setPreviousId=function(B){H=B};this.getPreviousId=function(){return H};this.setSequence=function(B){D=B};this.getSequence=function(){return D};this.setDeployed=function(B){y=B};this.getDeployed=function(){return y};this.fromJsonObject=function(B){m.setModelSetDeployId(B.modelSetDeployId);m.setModelSetId(B.modelSetId);m.setDesc(B.desc);m.setDeployer(B.deployer);m.setDeployTime(B.deployTime);m.setDisplayDeployTime(B.displayDeployTime);m.setPreviousId(B.previousId);m.setSequence(B.sequence);m.setDeployed(B.deployed)}}
function v(){var m=this,z,x,C,q,I,F,H,D;this.setModelDeployId=function(y){z=y};this.getModelDeployId=function(){return z};this.setModelSetDeployId=function(y){x=y};this.getModelSetDeployId=function(){return x};this.setModelId=function(y){C=y};this.getModelId=function(){return C};this.setNumber=function(y){q=y};this.getNumber=function(){return q};this.setModelName=function(y){I=y};this.getModelName=function(){return I};this.setModelType=function(y){F=y};this.getModelType=function(){return F};this.setStatus=
function(y){D=y};this.getStatus=function(){return D};this.setPath=function(y){H=y};this.getPath=function(){return H};this.fromJsonObject=function(y){m.setModelDeployId(y.modelDeployId);m.setModelSetDeployId(y.setDeployId);m.setModelId(y.modelId);m.setNumber(y.number);m.setModelName(y.modelName);m.setModelType(y.modelType);m.setPath(y.path);m.setStatus(y.operate)}}"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos=
{});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.modeler&&(com.kingdee.bos.qing.modeler={});"undefined"==typeof com.kingdee.bos.qing.modeler.deploy&&(com.kingdee.bos.qing.modeler.deploy={});"undefined"==typeof com.kingdee.bos.qing.modeler.deploy.model&&(com.kingdee.bos.qing.modeler.deploy.model={});var u=com.kingdee.bos.qing.modeler.deploy.model;u.ModelSetDeploy=n;u.DeployModel=function(){var m=this,z,x,C,q,I,F,H,D,y,B,R;this.setModelDeployId=
function(w){z=w};this.getModelDeployId=function(){return z};this.setModelId=function(w){x=w};this.getModelId=function(){return x};this.setNumber=function(w){C=w};this.getNumber=function(){return C};this.setModelSetId=function(w){q=w};this.getModelSetId=function(){return q};this.setGroupId=function(w){I=w};this.getGroupId=function(){return I};this.setModelName=function(w){F=w};this.getModelName=function(){return F};this.setModelType=function(w){H=w};this.getModelType=function(){return H};this.setModelDesc=
function(w){D=w};this.getModelDesc=function(){return D};this.setDeployer=function(w){y=w};this.getDeployer=function(){return y};this.setDeployTime=function(w){B=w};this.getDeployTime=function(){return B};this.setDisplayDeployTime=function(w){R=w};this.getDisplayDeployTime=function(){return R};this.fromJsonObject=function(w){m.setModelDeployId(w.modelDeployId);m.setModelId(w.modelId);m.setNumber(w.number);m.setModelSetId(w.modelSetId);m.setGroupId(w.groupId);m.setModelName(w.modelName);m.setModelType(w.modelType);
m.setModelDesc(w.modelDesc);m.setDeployer(w.deployer);m.setDeployTime(w.deployTime);m.setDisplayDeployTime(w.displayDeployTime)};this.toJsonObject=function(){var w={};w.modelDeployId=z;w.modelId=x;w.number=C;w.modelSetId=q;w.groupId=I;w.modelName=F;w.modelType=H;w.modelDesc=D;w.deployer=y;w.deployTime=B;w.displayDeployTime=R;return w}};u.ModelDeployDetail=function(){var m=this,z,x,C,q,I,F,H,D,y,B,R,w,Aa;this.setModelDeployId=function(d){z=d};this.getModelDeployId=function(){return z};this.setModelSetDeployId=
function(d){x=d};this.getModelSetDeployId=function(){return x};this.setModelId=function(d){C=d};this.getModelId=function(){return C};this.setNumber=function(d){q=d};this.getNumber=function(){return q};this.setModelName=function(d){I=d};this.getModelName=function(){return I};this.setDeployDesc=function(d){y=d};this.getDeployDesc=function(){return y};this.setDeployer=function(d){F=d};this.getDeployer=function(){return F};this.setDeployTime=function(d){H=d};this.getDeployTime=function(){return H};this.setDisplayDeployTime=
function(d){D=d};this.getDisplayDeployTime=function(){return D};this.setPreviousId=function(d){B=d};this.getPreviousId=function(){return B};this.setSequence=function(d){R=d};this.getSequence=function(){return R};this.setOperate=function(d){w=d};this.getOperate=function(){return w};this.setDeployed=function(d){Aa=d};this.getDeployed=function(){return Aa};this.fromJsonObject=function(d){m.setModelDeployId(d.modelDeployId);m.setModelSetDeployId(d.setDeployId);m.setModelId(d.modelId);m.setNumber(d.number);
m.setModelName(d.modelName);m.setDeployer(d.deployer);m.setDeployTime(d.deployTime);m.setDisplayDeployTime(d.displayDeployTime);m.setDeployDesc(d.deployDesc);m.setPreviousId(d.previousId);m.setSequence(d.sequence);m.setOperate(d.operate);m.setDeployed(d.deployed)}};u.DeployModelDetail=v;u.DeployResult=function(){var m,z,x,C={};this.getDeployId=function(){return z};this.getModelId=function(){return m};this.getRenamedMetricNumMap=function(){return C};this.getModelSetDeployId=function(){return x};this.fromJsonObject=
function(q){z=q.deployId;m=q.modelId;x=q.modelSetDeployId;q.renamedMetricNumber&&(C=q.renamedMetricNumber)}};n.DEPLOYED="0";n.UNDEPLOYED="1";n.REVERT="2";v.DEPLOY_OPERATE_ADD="0";v.DEPLOY_OPERATE_UPDATE="1";v.DEPLOY_OPERATE_DELETE="2";v.DEPLOY_OPERATE_UNDEPLOY="3"})();(function(){"undefined"==typeof com&&(com={});"undefined"==typeof com.kingdee&&(com.kingdee={});"undefined"==typeof com.kingdee.bos&&(com.kingdee.bos={});"undefined"==typeof com.kingdee.bos.qing&&(com.kingdee.bos.qing={});"undefined"==typeof com.kingdee.bos.qing.modeler&&(com.kingdee.bos.qing.modeler={});"undefined"==typeof com.kingdee.bos.qing.modeler.deploy&&(com.kingdee.bos.qing.modeler.deploy={});"undefined"==typeof com.kingdee.bos.qing.modeler.deploy.ui&&(com.kingdee.bos.qing.modeler.deploy.ui=
{});var n=com.kingdee.bos.qing.modeler.deploy.ui;n.Main=function(){function K(){var b;this.getJqUi=function(){b||a();return b};var a=function(){b=$("<div>");b.addClass("deploy-manage-main-area");ba=$("<div>");ba.addClass("model-group-container");U=new w;U.setFunCustomModelCreator(nb);U.setFunCustomModelSort(function(c){c.sort(function(k,l){var r=(new Date(l.getDeployTime())).getTime(),e=(new Date(k.getDeployTime())).getTime();r===e&&(r=(new Date(l.getDeployTime())).getTime(),e=(new Date(k.getDeployTime())).getTime());
return r-e})});U.setFunShowModels(Na);U.setFunIsModelSearch(function(){return fa});U.setFunDoModelSearch(Ha);U.setFunClearSearchStatus(ob);U.setModelSetId(Z);U.setDoContainChildCallback(function(c){M.occur(M.CONTAIN_CHILDREN_MODEL_GROUP,M.getContainChildrenStatus(c))});ba.append(U.getJqUi());ba.appendTo(b);var f=new Za(V.DEPLOYED_MODEL,"<div class='deploy-model-view-container'>","<div class='deploy-model-list-view'>");ma=f.getJqUi();ma.appendTo(b);f.getJqDeployListView();ca=(new $a(V.DEPLOYED_MODEL,
"<div class='deploy-model-detail-container'>")).getJqUi();ca.appendTo(b);ca.hide();f=new Za(V.DEPLOY_RECORD,"<div class='deploy-record-view-container'>","<div class='deploy-record-list-view'>");ja=f.getJqUi();ja.appendTo(b);f.getJqDeployListView();ja.hide();da=(new $a(V.DEPLOY_RECORD,"<div class='deploy-record-detail-container'>")).getJqUi();da.appendTo(b);da.hide()}}function pb(){var b;this.getJqUi=function(){if(!b){b=$("<div>");b.addClass("view-type-tab-area");var a=$("<div>");a.addClass("view-type-tab-title");
a.text(d.get("viewType","\u5c55\u793a\u65b9\u5f0f\uff1a"));a.appendTo(b);X=$("<div>");X.addClass("view-type-box-checked");a=new V(V.DEPLOYED_MODEL,d.get("viewAsGroupAndModel","\u6309\u76ee\u5f55\u548c\u6a21\u578b\u5c55\u793a"));X.text(a.getText());X.attr("viewType",a.getType());X.attr("title",a.getText());X.attr("checked","checked");X.on("click",ab);X.appendTo(b);Y=$("<div>");Y.addClass("view-type-box-unchecked");a=new V(V.DEPLOY_RECORD,d.get("viewAsDeployRecord","\u6309\u90e8\u7f72\u8bb0\u5f55\u5c55\u793a"));
Y.text(a.getText());Y.attr("viewType",a.getType());Y.attr("title",a.getText());Y.on("click",ab);Y.appendTo(b)}return b}}function V(b,a){this.getType=function(){return b};this.getText=function(){return a}}function Za(b,a,f){var c,k,l;this.getJqDeployListView=function(){return l};this.getJqUi=function(){c||r();return c};var r=function(){c=$(a);l=$(f);if(b===V.DEPLOYED_MODEL){Ia(c,ba.width());var e=new Oa;e.setCallbackImmediately(function(){c.is(":visible")&&(Ja&&P.updateUi(!0),P.refresh(!0))});e.setDelay(250);
e.observe();e=d.get("noDeployedModelTips","\u6682\u65e0\u5df2\u90e8\u7f72\u7684\u6a21\u578b");var g="<div class='deploy-model-title-bar'>";P||(P=new qb,P.setNoData(new B(e)),P.setSearchNoData(new R));P.getJqUi().appendTo(l)}else{c.css("width","100%");e=new Oa;e.setCallbackImmediately(function(){c.is(":visible")&&(Ja&&Q.updateUi(!0),Q.refresh(!0))});e.setDelay(250);e.observe();e=d.get("noDeployRecordTips","\u6682\u65e0\u90e8\u7f72\u8bb0\u5f55");g="<div class='deploy-record-title-bar'>";var h=d.get("deployRecord",
"\u90e8\u7f72\u8bb0\u5f55");Q||(Q=new rb,Q.setNoData(new B(e)),Q.setSearchNoData(new R));Q.getJqUi().appendTo(l)}l.appendTo(c);k=sb(b,g,h);k.appendTo(c)}}function $a(b,a){var f,c;this.getJqUi=function(){f||k();return f};var k=function(){f=$(a);c=$("<div>");c.addClass("deploy-manage-title-bar");var e=$("<span>");e.addClass("deploy-manage-list-title-text");e.text(d.get("deployDetail","\u90e8\u7f72\u8be6\u60c5"));e.appendTo(c);c.appendTo(f);if(b===V.DEPLOYED_MODEL){e=$("<div>");e.addClass("deploy-detail-close");
e.text("\u00d7");e.appendTo(c);e.on("click",function(t){ca.hide(0,bb);P.refresh()});e=$("<div>");e.addClass("deploy-model-detail-operate-bar");var g=$("<div>");g.addClass("operate-item-undeploy");var h=d.get("undeploy","\u53d6\u6d88\u90e8\u7f72");ha=$("<div>");ha.addClass("operate-btn");ha.on("click",r);u.backgroundWithHover(ha,"undeploy");ha.attr("title",h);ha.appendTo(g);ia=$("<div>");ia.addClass("operate-text");ia.text(h);ia.attr("title",h);ia.on("click",r);ia.appendTo(g);h=$("<div>");h.addClass("operate-item-delete");
var p=d.get("deleteDeployRecord","\u5220\u9664\u90e8\u7f72\u8bb0\u5f55");na=$("<div>");na.addClass("operate-btn");na.on("click",l);u.backgroundWithHover(na,"delete");na.attr("title",p);na.appendTo(h);oa=$("<div>");oa.addClass("operate-text");oa.text(p);oa.attr("title",p);oa.on("click",l);oa.appendTo(h);g.appendTo(e);h.appendTo(e);e.appendTo(f);Pa=$("<div class='deploy-model-detail-list-view'>");pa||(pa=new tb,pa.setNoData(new B(d.get("noDeployDetailTips","\u6682\u65e0\u90e8\u7f72\u8be6\u60c5\u8bb0\u5f55"))));
pa.getJqUi().appendTo(Pa);Pa.appendTo(f);cb(!0)}else e=$("<div>"),e.addClass("deploy-detail-close"),e.text("\u00d7"),e.appendTo(c),e.on("click",function(t){da.hide(0,db);Q.refresh()}),Ba=new ub,Ba.setTitle(d.get("thisTimeChangedModel","\u672c\u6b21\u53d8\u66f4\u7684\u6a21\u578b")),Ba.setNoData(new B(d.get("noChangedModelTips","\u6682\u65e0\u53d8\u66f4\u7684\u6a21\u578b"))),Ca=new vb,Ca.setTitle(d.get("allValidModel","\u5168\u90e8\u751f\u6548\u7684\u6a21\u578b")),Ca.setNoData(new B(d.get("noValidModelTips",
"\u6682\u65e0\u751f\u6548\u7684\u6a21\u578b"))),sa=new C,sa.setTabLevel(C.SECOND_LEVEL),sa.addTabChangedListener(wb),sa.addTab(Ba,!0),sa.addTab(Ca),Qa=sa.getJqUi(),Qa.addClass("deploy-record-detail-list-view"),Qa.appendTo(f)},l=function(e){(e=pa.getFirstRowModel())&&e.getOperate()!==D.DEPLOY_OPERATE_UNDEPLOY?(e=d.get("undeployThenDelete","\u8bf7\u5148\u53d6\u6d88\u90e8\u7f72\uff0c\u518d\u5220\u9664\u90e8\u7f72\u8bb0\u5f55\u3002"),L.getMessageCurtain().showPrompt(e,2E3)):va(q.MSG_DELETE,d.get("confirmDelete",
"\u5220\u9664\u90e8\u7f72\u8bb0\u5f55\u540e\u5c06\u65e0\u6cd5\u6062\u590d\uff0c\u786e\u5b9a\u5220\u9664\u5417\uff1f"),xb,P.getSelectionUserModel())},r=function(e){va(q.MSG_CONFIRM,d.get("confirmUndeploy","\u53d6\u6d88\u90e8\u7f72\u540e\uff0c\u8be5\u6a21\u578b\u5c06\u65e0\u6cd5\u88ab\u5f15\u7528\uff0c\u786e\u5b9a\u53d6\u6d88\u90e8\u7f72\u5417\uff1f"),yb,P.getSelectionUserModel())}}function Da(b,a,f,c,k){function l(){this.getTailBlankForDragging=function(){return-1};this.isRowDraggable=function(A,E){return!1};
this.isColumnDraggable=function(A,E){return A.getColumnsCount()==E+1?!1:!0};this.getMinRowHeightLimited=function(A,E){return 3};this.getMinColumnWidthLimited=function(A,E){return 4};this.rowDraggedAction=function(A,E,W){var ea=A.isSyncUIWhenModelChanged();A.setSyncUIWhenModelChanged(!0);E=A.getRow(E);E.setHeight(E.getHeight()+W);A.setSyncUIWhenModelChanged(ea)};this.setMinColumnWidth=function(A){};this.columnDraggedAction=function(A,E,W){var ea=A.isSyncUIWhenModelChanged();A.setSyncUIWhenModelChanged(!0);
E=A.getColumn(E);E.setWidth(E.getWidth()+W);A.setSyncUIWhenModelChanged(ea);ka()}}var r=this,e,g,h,p,t,G,J,S,N,la=!0;this.getSelectionUserModel=function(){var A=g.getSelectionModel().getSelected();if(A){var E=A.getRowIdx();E=g.getRow(E).getUserObject()}return E};this.setRowSelectedByModel=function(A,E){e&&0!==e.length&&A&&E&&(A=E(e),-1!=A&&(E=g.getSelectionModel()))&&(E.removeAllSelecteds(),A=E.createRowTarget(A+O.getHeadRowCount()),t.addSelected(A),r.refresh(!0))};this.setNoData=function(A){G=A};
this.setSearchNoData=function(A){J=A};this.isSearchMode=function(){return!1};this.setModels=function(A){e=A;r.updateUi()};this.refresh=function(A){O.refresh(g);A?ka():t&&t.hasSelected()&&t.removeAllSelecteds()};this.getJqUi=function(){p||qa();return p};this.updateUi=function(A){h&&h.show();if(e){var E;g||qa();O.clear(g);!A&&t&&t.removeAllSelecteds();var W=b.length;g.addColumns(W);var ea=O.createHeadRow(g);ea.setHeight(24);for(E=0;E<W;E++)g.getColumn(E).setWidth(b[E].width),ea.getCell(E).setValue(b[E].text);
f(g);E=0;for(W=e.length;E<W;E++){ea=e[E];var eb=O.createRow(g,!1),Ka=new KTBorderStyle;Ka.setBottomBorderWidth(1);Ka.setBottomBorderPen("solid");Ka.setBottomBorderColor("#E5E5E5");eb.setBorder(Ka);eb.setUserObject(ea)}(E=0<e.length)&&A&&ka();A=!E;E=S;W=N;ea=r.isSearchMode();A?(!ea&&E.show()&&W&&W.hide(),ea&&E.hide()&&W&&W.show()):(E&&E.hide(),W&&W.hide())}};this.relayoutViews=function(){g&&(O.refresh(g),g.relayoutViews())};var qa=function(){p=$(a);g=O.createTable();g.setColumnFitVisibleWidth(!0);
g.setDraggableAdjusting(!0,3,0,new l);g.setSyncUIWhenModelChanged(!0);c&&(O.setupSingleRowSelection(g),t=g.getSelectionModel(),g.addUIListener("new-select",function(A,E){t=g.getSelectionModel();(A=t.getSelected())&&la&&(A=A.getRowIdx(),A=g.getRow(A).getUserObject(),c(A))}));h=$(g.getUI());!k&&Ra.layoutCtrlWithLRTB(h,10,10,null,10,10,null);p.append(h);G&&(S=G.getJqUi(),S.appendTo(p),S.hide());J&&(N=J.getJqUi(),N.appendTo(p),N.hide())},ka=function(){la=!1;if(t&&t.hasSelected()){var A=t.getSelected();
t.removeAllSelecteds();A&&t.addSelected(A)}la=!0}}function qb(){function b(f){KTDefaultCellRender.call(this,f);var c=this,k=this.paintCellUI;this.paintCellUI=function(l,r){var e=c.getCurrentRowIdx(),g=c.getCurrentRow(),h=c.getCurrentColIdx();g=g.getUserObject();(new Ea).setFormatString("yyyy-MM-dd HH:mm:ss");if(e<O.getHeadRowCount())k(l,r);else if(0===h)g=$("<div class='list-cell-item'>"),g.attr("title",e-O.getHeadRowCount()+1),g.text(e-O.getHeadRowCount()+1),g.appendTo(l);else if(1===h)e=$("<div class='list-cell-item'>"),
g=g.getNumber(),e.attr("title",g),fa&&""!=$.trim(T.getText())?wa(e,g,$.trim(T.getText())):e.text(g),e.appendTo(l);else if(2===h){e=$("<div class='model-name-info'>");h=$("<span class='list-cell-item-name'>");var p=g.getModelName();g=g.getModelType();fa&&""!=$.trim(T.getText())?wa(h,p,$.trim(T.getText())):h.text(p);h.attr("title",p);Sa(g).appendTo(e);h.appendTo(e);e.appendTo(l)}else 3===h?(e=$("<div class='list-cell-item'>"),g=g.getModelDesc(),e.attr("title",g),fa&&""!=$.trim(T.getText())?wa(e,g,$.trim(T.getText())):
e.text(g),e.appendTo(l)):5===h?(e=$("<div class='list-cell-item'>"),g=g.getDeployer(),fa&&""!=$.trim(T.getText())?wa(e,g,$.trim(T.getText())):e.text(g),e.attr("title",g),e.appendTo(l)):4===h&&(e=$("<div class='list-cell-item'>"),g=g.getDisplayDeployTime(),e.text(g),e.attr("title",g),e.appendTo(l));k(l,r)}}var a=[{width:50,text:d.get("serialNumber","\u5e8f\u53f7")},{width:100,text:d.get("number","\u7f16\u7801")},{width:120,text:d.get("name","\u540d\u79f0")},{width:150,text:d.get("modelDesc","\u63cf\u8ff0")},
{width:120,text:d.get("newestDeployTime","\u6700\u65b0\u90e8\u7f72\u65f6\u95f4")},{width:100,text:d.get("newestDeployer","\u6700\u65b0\u90e8\u7f72\u4eba")}];Da.call(this,a,"<div class='deploy-model-list-table'>",function(f){var c=new b(f);c.setOutsideVisible(!1);f.setCellRender(c)},Fa);this.isSearchMode=function(){return fa}}function rb(){function b(c){KTDefaultCellRender.call(this,c);var k=this,l=this.paintCellUI;this.paintCellUI=function(r,e){var g=k.getCurrentRowIdx(),h=k.getCurrentRow(),p=k.getCurrentColIdx(),
t=h.getUserObject();(new Ea).setFormatString("yyyy-MM-dd HH:mm:ss");if(g<O.getHeadRowCount())l(r,e);else if(0===p)h=$("<div class='list-cell-item'>"),h.attr("title",g-O.getHeadRowCount()+1),h.text(g-O.getHeadRowCount()+1),h.appendTo(r);else if(1===p)g=$("<div class='list-cell-item'>"),h=t.getDeployer(),xa&&""!=$.trim(aa.getText())?wa(g,h,$.trim(aa.getText())):g.text(h),g.attr("title",h),g.appendTo(r);else if(2===p)g=$("<div class='list-cell-item'>"),h=t.getDisplayDeployTime(),g.text(h),g.attr("title",
h),g.appendTo(r);else if(3===p)g=$("<div class='list-cell-item'>"),h=t.getDesc(),g.attr("title",h),xa&&""!=$.trim(aa.getText())?wa(g,h,$.trim(aa.getText())):g.text(h),g.appendTo(r);else if(4===p){h=$("<div class='list-cell-item-operate'>");var G=t.getDeployed();g===O.getHeadRowCount()&&a===t.getSequence()?G!==I.UNDEPLOYED&&(g=$("<div>"),g.addClass("list-cell-item-operate-one"),g.on("mousedown",function(J){J.stopPropagation();G===I.UNDEPLOYED?(J=d.get("alreadyUnDeployed","\u5df2\u7ecf\u53d6\u6d88\u90e8\u7f72\u4e86"),
L.getMessageCurtain().showPrompt(J,2E3)):va(q.MSG_CONFIRM,d.get("confirmUndeployModelSet","\u53d6\u6d88\u90e8\u7f72\u540e\uff0c\u90e8\u7f72\u8be6\u60c5\u4e2d\u672c\u6b21\u53d8\u66f4\u7684\u6a21\u578b\u90fd\u5c06\u4f1a\u53d8\u4e3a\u201c\u672a\u90e8\u7f72\u201d\u72b6\u6001\u4e14\u65e0\u6cd5\u88ab\u5f15\u7528\uff0c\u786e\u5b9a\u53d6\u6d88\u90e8\u7f72\u5417\uff1f"),zb,t)}),u.backgroundWithHover(g,"undeploy"),g.attr("title",d.get("undeploy","\u53d6\u6d88\u90e8\u7f72")),g.appendTo(h)):G!==I.UNDEPLOYED&&
(g=$("<div>"),g.addClass("list-cell-item-operate-one"),g.on("mousedown",function(J){J.stopPropagation();va(q.MSG_CONFIRM,d.get("confirmRevert","\u56de\u9000\u540e\uff0c\u5c06\u4f7f\u7528\u8be5\u90e8\u7f72\u72b6\u6001\u91cd\u65b0\u90e8\u7f72\u6a21\u578b\uff0c\u786e\u5b9a\u56de\u9000\u5417\uff1f"),fb,t)}),u.backgroundWithHover(g,"revert"),g.attr("title",d.get("revertToThisDeployStatus","\u56de\u9000\u5230\u8be5\u90e8\u7f72\u72b6\u6001")),g.appendTo(h));h.appendTo(r)}l(r,e)}}var a,f=[{width:50,text:d.get("serialNumber",
"\u5e8f\u53f7")},{width:120,text:d.get("deployer","\u90e8\u7f72\u4eba")},{width:120,text:d.get("deployTime","\u90e8\u7f72\u65f6\u95f4")},{width:150,text:d.get("deployDesc","\u90e8\u7f72\u63cf\u8ff0")},{width:100,text:d.get("operate","\u64cd\u4f5c")}];Da.call(this,f,"<div class='deploy-record-list-table'>",function(c){var k=new b(c);k.setOutsideVisible(!1);c.setCellRender(k)},Ab);this.setTopSeq=function(c){a=c};this.isSearchMode=function(){return xa}}function tb(){function b(k){KTDefaultCellRender.call(this,
k);var l=this,r=this.paintCellUI;this.paintCellUI=function(e,g){var h=l.getCurrentRowIdx(),p=l.getCurrentRow(),t=l.getCurrentColIdx(),G=p.getUserObject();(new Ea).setFormatString("yyyy-MM-dd HH:mm:ss");var J=O.getHeadRowCount();p=!1;h>=J&&(p=G.getOperate()===D.DEPLOY_OPERATE_UNDEPLOY);h===O.getHeadRowCount()&&(f=G);if(h<J)r(e,g);else if(0===t)p=$("<div class='list-cell-item'>"),h=G.getNumber(),p.attr("title",h),p.text(h),p.appendTo(e);else if(1===t)p=$("<div class='model-name-info'>"),h=$("<span class='list-cell-item-name'>"),
J=G.getModelName(),h.text(J),h.attr("title",J),h.css("cursor","pointer"),h.css("color","#0E5FD8"),p.on("click",function(N){N&&N.stopPropagation?N.stopPropagation():window.event.cancelBubble=!0;N=Z;var la=G.getModelId(),qa=c?c.getModelType():null,ka=G.getModelName(),A=G.getModelDeployId();m.getDeployModelDesignerEntrance()(N,la,qa,ka,A)}),p.appendTo(e),h.appendTo(p);else if(2===t)h=$("<div class='list-cell-item'>"),p?(p="! "+d.get("someoneUnDeployed",'"#1"\u5df2\u53d6\u6d88\u90e8\u7f72').replace("#1",
G.getDeployer()),h.css("color","red")):p=G.getDisplayDeployTime(),h.text(p),h.attr("title",p),h.appendTo(e);else if(3===t)h=$("<div class='list-cell-item'>"),J=G.getDeployer(),h.attr("title",J),h.text(J),!p&&h.appendTo(e);else if(4===t)h=$("<div class='list-cell-item'>"),J=G.getDeployDesc(),h.attr("title",J),h.text(J),!p&&h.appendTo(e);else if(5===t){t=$("<div>");t.addClass("list-cell-item-operate-box");if(!p){var S=$("<div>");S.addClass("list-cell-item-operate-second");S.on("click",function(N){va(q.MSG_CONFIRM,
d.get("confirmSync","\u540c\u6b65\u540e\uff0c\u8be5\u90e8\u7f72\u72b6\u6001\u5c06\u4f1a\u8986\u76d6\u5de5\u4f5c\u6a21\u578b\uff0c\u786e\u5b9a\u540c\u6b65\u5417\uff1f"),gb,G,hb)});u.backgroundWithHover(S,"sync");S.attr("title",d.get("syncToWorkingModel","\u540c\u6b65\u56de\u5de5\u4f5c\u6a21\u578b"));S.appendTo(t)}h!==J?p||(p=$("<div>"),p.addClass("list-cell-item-operate-first"),p.on("click",function(N){va(q.MSG_CONFIRM,d.get("confirmRevert","\u56de\u9000\u540e\uff0c\u5c06\u4f7f\u7528\u8be5\u90e8\u7f72\u72b6\u6001\u91cd\u65b0\u90e8\u7f72\u6a21\u578b\uff0c\u786e\u5b9a\u56de\u9000\u5417\uff1f"),
ib,G)}),u.backgroundWithHover(p,"revert"),p.attr("title",d.get("revertToThisDeployStatus","\u56de\u9000\u5230\u8be5\u90e8\u7f72\u72b6\u6001")),p.appendTo(t)):p?(ha.addClass("operate-disable"),ia.addClass("operate-disable")):(ha.removeClass("operate-disable"),ia.removeClass("operate-disable"));t.appendTo(e)}r(e,g)}}var a=[{width:100,text:d.get("number","\u7f16\u7801")},{width:90,text:d.get("name","\u540d\u79f0")},{width:150,text:d.get("deployTime","\u90e8\u7f72\u65f6\u95f4")},{width:100,text:d.get("deployer",
"\u90e8\u7f72\u4eba")},{width:100,text:d.get("deployDesc","\u90e8\u7f72\u63cf\u8ff0")},{width:80,text:d.get("operate","\u64cd\u4f5c")}];Da.call(this,a,"<div class='deploy-detail-list-table'>",function(k){var l=new b(k);l.setOutsideVisible(!1);k.setCellRender(l)});var f,c;this.getFirstRowModel=function(){return f};this.bindModel=function(k){c=k}}function ub(){function b(l){KTDefaultCellRender.call(this,l);var r=this,e=this.paintCellUI;this.paintCellUI=function(g,h){var p=r.getCurrentRowIdx(),t=r.getCurrentRow(),
G=r.getCurrentColIdx(),J=t.getUserObject();if(p<O.getHeadRowCount())e(g,h);else if(0===G)p=$("<div class='list-cell-item'>"),t=J.getNumber(),p.attr("title",t),p.text(t),p.appendTo(g);else if(1===G){p=$("<div class='model-name-info'>");t=$("<span class='list-cell-item-name'>");G=J.getModelName();var S=J.getModelType();t.text(G);t.attr("title",G);t.css("cursor","pointer");t.css("color","#0E5FD8");t.on("click",function(N){N&&N.stopPropagation?N.stopPropagation():window.event.cancelBubble=!0;N=Z;var la=
J.getModelId(),qa=J.getModelType(),ka=J.getModelName(),A=J.getModelDeployId();m.getDeployModelDesignerEntrance()(N,la,qa,ka,A)});Sa(S).appendTo(p);t.appendTo(p);p.appendTo(g)}else 2===G?(p=$("<div class='list-cell-item'>"),t=J.getPath(),p.attr("title",t),p.text(t),p.appendTo(g)):3===G&&(p=$("<div class='list-cell-item'>"),t=J.getStatus(),p.attr("title",k[t]),p.text(k[t]),p.appendTo(g));e(g,h)}}C.AbstractTabPane.call(this);var a=[{width:150,text:d.get("number","\u7f16\u7801")},{width:150,text:d.get("name",
"\u540d\u79f0")},{width:150,text:d.get("path","\u8def\u5f84")},{width:100,text:d.get("status","\u72b6\u6001")}];Da.call(this,a,"<div class='deploy-record-changed-table'>",function(l){var r=new b(l);r.setOutsideVisible(!1);l.setCellRender(r)},null,!0);var f=this,c,k={};k[D.DEPLOY_OPERATE_ADD]=d.get("add","\u65b0\u589e");k[D.DEPLOY_OPERATE_UPDATE]=d.get("update","\u4fee\u6539");k[D.DEPLOY_OPERATE_DELETE]=d.get("delete","\u5220\u9664");k[D.DEPLOY_OPERATE_UNDEPLOY]=d.get("undeploy","\u53d6\u6d88\u90e8\u7f72");
this.setTitle=function(l){c=l};this.getTitle=function(){return c};this.into=function(){f.refresh()}}function vb(){function b(k){KTDefaultCellRender.call(this,k);var l=this,r=this.paintCellUI;this.paintCellUI=function(e,g){var h=l.getCurrentRowIdx(),p=l.getCurrentRow(),t=l.getCurrentColIdx(),G=p.getUserObject();if(h<O.getHeadRowCount())r(e,g);else if(0===t)h=$("<div class='list-cell-item'>"),p=G.getNumber(),h.attr("title",p),h.text(p),h.appendTo(e);else if(1===t){h=$("<div class='model-name-info'>");
p=$("<span class='list-cell-item-name'>");t=G.getModelName();var J=G.getModelType();p.text(t);p.attr("title",t);p.css("cursor","pointer");p.css("color","#0E5FD8");p.on("click",function(S){S&&S.stopPropagation?S.stopPropagation():window.event.cancelBubble=!0;S=Z;var N=G.getModelId(),la=G.getModelType(),qa=G.getModelName(),ka=G.getModelDeployId();m.getDeployModelDesignerEntrance()(S,N,la,qa,ka)});Sa(J).appendTo(h);p.appendTo(h);h.appendTo(e)}else 2===t&&(h=$("<div class='list-cell-item'>"),p=G.getPath(),
h.attr("title",p),h.text(p),h.appendTo(e));r(e,g)}}C.AbstractTabPane.call(this);var a=[{width:150,text:d.get("number","\u7f16\u7801")},{width:150,text:d.get("name","\u540d\u79f0")},{width:150,text:d.get("path","\u8def\u5f84")}];Da.call(this,a,"<div class='deploy-record-valid-table'>",function(k){var l=new b(k);l.setOutsideVisible(!1);k.setCellRender(l)},null,!0);var f=this,c;this.setTitle=function(k){c=k};this.getTitle=function(){return c};this.into=function(){f.refresh()}}var Ga,jb,X,Y,Ta=!0,U,ba,
ma,ja,ca,da,Q,P,sa,Pa,Qa,pa,Ba,Ca,ha,ia,na,oa,ta,T,fa=!1,ya,aa,xa=!1,Ua=[],ua=!0,ra=!0,Ja=!0,L=new function(){var b;this.getMessageCurtain=function(){b||(b=new z,b.getJqUi().appendTo($("body")));return b};this.createFacade=function(a,f,c){var k=m.getRemoteImpl();return new v(k,a,function(l,r,e){return f?f(l,r,e):!1},c)}};this.createDeployManageJqUi=function(){Ga=$("<div>");Ga.addClass("deploy-manage");jb=(new pb).getJqUi();jb.appendTo(Ga);(new K).getJqUi().appendTo(Ga);La();return Ga};var nb=function(){return new F},
Na=function(b){ca.hide(0,bb);P.setModels(b);P.refresh()},ab=function(b){b=$(b.target);"checked"!==b.attr("checked")&&(b.attr("viewType")===V.DEPLOYED_MODEL?(Ta=!0,X.attr("checked","checked"),X.removeClass("view-type-box-unchecked"),X.addClass("view-type-box-checked"),Y.removeAttr("checked"),Y.removeClass("view-type-box-checked"),Y.addClass("view-type-box-unchecked"),Ja=!1,ba.show(),ma.show(),P.getSelectionUserModel()?ca.show(0,Va):P.refresh(!0),ja.hide(),da.hide(),ua&&La()):(Ta=!1,Y.attr("checked",
"checked"),Y.removeClass("view-type-box-unchecked"),Y.addClass("view-type-box-checked"),X.removeAttr("checked"),X.removeClass("view-type-box-checked"),X.addClass("view-type-box-unchecked"),ja.show(),Q.getSelectionUserModel()?da.show(0,Wa):Q.refresh(!0),ba.hide(),ma.hide(),ca.hide(),ra&&za()),M.occur(M.PAGE_SHOW_METHOD,M.getPageShowMethod(b.attr("viewType"))))};n.DeployViewType=V;V.DEPLOYED_MODEL="0";V.DEPLOY_RECORD="1";var cb=function(b){b?(ha.addClass("operate-disable"),ia.addClass("operate-disable"),
na.addClass("operate-disable"),oa.addClass("operate-disable")):(ha.removeClass("operate-disable"),ia.removeClass("operate-disable"),na.removeClass("operate-disable"),oa.removeClass("operate-disable"))},va=function(b,a,f,c,k){var l=q.createFeedbackDialog();l.setMsgImageType(b);l.setMessage(a);k&&l.setExtendPainter(function(r,e){k(r,e,c)});l.showDialog();l.setClosingChecker(function(r){r===q.RETURN_OK&&f&&f(c);return!0})},Bb=function(b,a,f,c){var k=q.createFeedbackDialog();k.setMsgImageType(b);k.setOptionType(q.OPTION_OK);
k.setTitle(d.get("operatorTips","\u64cd\u4f5c\u63d0\u793a"));k.setButtonText(q.RETURN_OK,d.get("iSee","\u6211\u77e5\u9053\u4e86"));k.setMessage(a);c&&k.setExtendPainter(function(l,r){c(l,r,f)});k.showDialog()},yb=function(b){L.createFacade(function(a){a=d.get("operateSuccess","\u64cd\u4f5c\u6210\u529f\u3002");L.getMessageCurtain().showSuccess(a,2E3);Fa(b);ra=!0;M.occur(M.BUTTON_TYPE,M.BY_CLASS_AND_MODEL_CANCEL_DEPLOY);return!0},function(a,f){if(20008003===a)return a=d.get("unDeployException","\u53d6\u6d88\u90e8\u7f72\u5f02\u5e38"),
L.getMessageCurtain().showPrompt(a,2E3),!0;if(20004001===a)return L.getMessageCurtain().showPrompt(d.get("disableMaterializedConfigFailed","\u7269\u5316\u5b58\u50a8\u8bbe\u7f6e\u5f02\u5e38\uff0c\u53d6\u6d88\u90e8\u7f72\u5931\u8d25\u3002"),2E3),!0}).unDeployModel(b.getModelId(),Z,b.getModelDeployId(),d.get("unDeployModel","\u53d6\u6d88\u6a21\u578b\u90e8\u7f72"))},zb=function(b){L.createFacade(function(a){a=d.get("operateSuccess","\u64cd\u4f5c\u6210\u529f\u3002");L.getMessageCurtain().showSuccess(a,
2E3);za();ua=!0;M.occur(M.BUTTON_TYPE,M.BY_DEPLOY_RECORD_CANCEL_DEPLOY);return!0},function(a,f){if(20008003===a)return a=d.get("unDeployException","\u53d6\u6d88\u90e8\u7f72\u5f02\u5e38"),L.getMessageCurtain().showPrompt(a,2E3),!0;if(20004001===a)return L.getMessageCurtain().showPrompt(d.get("disableMaterializedConfigFailed","\u7269\u5316\u5b58\u50a8\u8bbe\u7f6e\u5f02\u5e38\uff0c\u53d6\u6d88\u90e8\u7f72\u5931\u8d25\u3002"),2E3),!0}).unDeployModelSet(b.getModelSetDeployId(),Z,d.get("unDeployModelSet",
"\u53d6\u6d88\u6a21\u578b\u96c6\u90e8\u7f72"))},xb=function(b){L.createFacade(function(a){a=d.get("operateSuccess","\u64cd\u4f5c\u6210\u529f\u3002");L.getMessageCurtain().showSuccess(a,2E3);La();ra=!0;M.occur(M.BUTTON_TYPE,M.BY_CLASS_AND_MODEL_DELETE_RECORD);return!0},function(a,f){if(20008004===a)return a=d.get("deleteDeployException","\u5220\u9664\u90e8\u7f72\u8bb0\u5f55\u5f02\u5e38\u3002"),L.getMessageCurtain().showPrompt(a,2E3),!0}).deleteModelDeploy(b.getModelId())},ib=function(b,a){var f=d.get("revertDeployDesc",
"\u56de\u9000\u5230#1\u72b6\u6001").replace("#1",kb(b.getDeployTime()));L.createFacade(function(c){var k=new y;k.fromJsonObject(c);Xa(k);Fa(b,!0);ra=!0;M.occur(M.BUTTON_TYPE,M.BY_CLASS_AND_MODEL_BACK);return!0},function(c,k){if(20008005===c)return c=d.get("revertDeployException","\u6b64\u90e8\u7f72\u72b6\u6001\u4e0d\u80fd\u56de\u9000\uff0c\u56de\u9000\u5931\u8d25\u3002"),L.getMessageCurtain().showPrompt(c,2E3),Fa(b,!0),ra=!0;if(20004001===c)return L.getMessageCurtain().showPrompt(d.get("revertMaterializedConfigFailed",
"\u7269\u5316\u5b58\u50a8\u8bbe\u7f6e\u5f02\u5e38\uff0c\u56de\u9000\u5931\u8d25\u3002"),2E3),Fa(b,!0),ra=!0;if(20001009===c)return c=q.createFeedbackDialog(),c.setOptionType(q.OPTION_OK_CANCEL),c.setMessage(d.get("duplicateMetricNumberWhenRevert","\u68c0\u6d4b\u5230\u8be5\u7248\u672c\u4e2d\u7684\u6307\u6807\u7f16\u7801\u5df2\u88ab\u4f7f\u7528\uff0c\u56de\u9000\u540e\u6307\u6807\u7f16\u7801\u5c06\u88ab\u91cd\u547d\u540d\uff0c\u786e\u5b9a\u56de\u9000\u5417\uff1f")),c.setClosingChecker(function(l){l==
q.RETURN_OK&&ib(b,!0);return!0}),c.showDialog(),!0}).revertModelDeploy(b.getModelDeployId(),Z,b.getModelId(),f,a)},fb=function(b,a){var f=d.get("revertDeployDesc","\u56de\u9000\u5230#1\u72b6\u6001").replace("#1",kb(b.getDeployTime()));L.createFacade(function(c){var k=new y;k.fromJsonObject(c);Xa(k);za();ua=!0;M.occur(M.BUTTON_TYPE,M.BY_DEPLOY_RECORD_BACK);return!0},function(c,k){if(20008005===c)return c=d.get("revertDeployException","\u6b64\u90e8\u7f72\u72b6\u6001\u4e0d\u80fd\u56de\u9000\uff0c\u56de\u9000\u5931\u8d25\u3002"),
L.getMessageCurtain().showPrompt(c,2E3),za(),ua=!0;if(20004001===c)return L.getMessageCurtain().showPrompt(d.get("revertMaterializedConfigFailed","\u7269\u5316\u5b58\u50a8\u8bbe\u7f6e\u5f02\u5e38\uff0c\u56de\u9000\u5931\u8d25\u3002"),2E3),za(),ua=!0;if(20001009===c)return c=q.createFeedbackDialog(),c.setOptionType(q.OPTION_OK_CANCEL),c.setMessage(d.get("duplicateMetricNumberWhenRevert","\u68c0\u6d4b\u5230\u8be5\u7248\u672c\u4e2d\u7684\u6307\u6807\u7f16\u7801\u5df2\u88ab\u4f7f\u7528\uff0c\u56de\u9000\u540e\u6307\u6807\u7f16\u7801\u5c06\u88ab\u91cd\u547d\u540d\uff0c\u786e\u5b9a\u56de\u9000\u5417\uff1f")),
c.setClosingChecker(function(l){l==q.RETURN_OK&&fb(b,!0);return!0}),c.showDialog(),!0}).revertModelSetDeploy(b.getModelSetDeployId(),Z,f,a)},gb=function(b,a){L.createFacade(function(f){var c=new y;c.fromJsonObject(f);Xa(c);M.occur(M.BUTTON_TYPE,M.BY_CLASS_AND_MODEL_SYNCHRONIZED);return!0},function(f,c){if(20008001<=f&&20009E3>f){switch(f){case 20008008:var k=d.get("modelLockedWhenSync","\u5de5\u4f5c\u6a21\u578b\u5df2\u88ab\u5176\u4ed6\u7528\u6237\u9501\u5b9a\uff0c\u540c\u6b65\u5931\u8d25\u3002");
break;case 20008009:k=d.get("modelNotExistWhenSync","\u6a21\u578b\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664\uff0c\u540c\u6b65\u5931\u8d25\u3002");break;case 20008010:return k=d.get("modelOccupancyByMe","\u60a8\u6b63\u5728\u7f16\u8f91\u8be5\u90e8\u7f72\u8bb0\u5f55\u5bf9\u5e94\u7684\u5de5\u4f5c\u6a21\u578b\uff0c\u8bf7\u5173\u95ed\u5de5\u4f5c\u6a21\u578b\u9875\u9762\u540e\u518d\u8fdb\u884c\u540c\u6b65\u64cd\u4f5c\u3002"),Bb(q.MSG_WARNING,k,b,hb),!0}return k?(L.getMessageCurtain().showPrompt(k,
2E3),!0):!1}if(20001009===f)return f=q.createFeedbackDialog(),f.setOptionType(q.OPTION_OK_CANCEL),f.setMessage(d.get("duplicateMetricNumberWhenSync","\u68c0\u6d4b\u5230\u8be5\u7248\u672c\u4e2d\u7684\u6307\u6807\u7f16\u7801\u5df2\u88ab\u4f7f\u7528\uff0c\u540c\u6b65\u56de\u5de5\u4f5c\u6a21\u578b\u540e\u6307\u6807\u7f16\u7801\u5c06\u88ab\u91cd\u547d\u540d\uff0c\u786e\u5b9a\u540c\u6b65\u5417\uff1f")),f.setClosingChecker(function(l){l==q.RETURN_OK&&gb(b,!0);return!0}),f.showDialog(),!0}).syncModelDeployToDesigner(b.getModelDeployId(),
Z,b.getModelId(),a)},hb=function(b,a,f){var c=$("<div>");c.addClass("sa-ctrl-feedback-dialog-text");c.css({top:"-5px"});c.text(a);c.attr("title",a);c.appendTo(b);a=$("<div>");f=d.get("workingModel","\u5de5\u4f5c\u6a21\u578b")+": "+f.getModelName();a.text(f);a.attr("title",f);a.css({position:"absolute",top:"40px",color:"#939393",left:"50%",width:"200px",transform:"translate(-50%, 0)","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","text-align":"center"});a.appendTo(b)},wa=function(b,
a,f){if(b&&a&&f){f=f.toUpperCase();for(var c=a.toUpperCase(),k=c.split(f),l=f.length,r=0;r<k.length;r++){var e=c.indexOf(k[r]),g=a.substr(0,k[r].length);e+=k[r].length;var h=c.length-e;c=c.substr(e,h);a=a.substr(e,h);e=$("<span>");e.text(g);e.appendTo(b);r!=k.length-1&&1<k.length&&(e=c.indexOf(f),g=a.substr(e,l),e+=l,h=c.length-e,c=c.substr(e,h),a=a.substr(e,h),e=$("<span>"),e.text(g),e.css("color","red"),e.clone().appendTo(b))}}},La=function(b){var a=function(f){U.setJsonDataAndUpdateUI(f);ua=!1;
return!0};L.createFacade(b?b:a,function(f,c){return!1}).listAllGroupAndDeployModel(Z)},za=function(b){var a=function(f){if(f){var c=[];if(f&&0<f.length)for(var k=0;k<f.length;k++){var l=f[k],r=new I;r.fromJsonObject(l);c.push(r)}Ua=c;(f=c[0])&&Q.setTopSeq(f.getSequence());Ma(c);ra=!1;return!0}};L.createFacade(b?b:a,function(f,c){return!1}).listSetDeploy(Z)},wb=function(b,a){a&&a.refresh()},Ma=function(b){da.hide(0,db);Q.setModels(b);Q.refresh()},Fa=function(b,a){ca.show(0,Va);L.createFacade(function(f){if(f){var c=
[];if(f&&0<f.length)for(var k=0;k<f.length;k++){var l=f[k],r=new H;r.fromJsonObject(l);c.push(r)}0<c.length&&cb(!1);!a&&pa.bindModel(b);pa.setModels(c);pa.refresh();return!0}},function(f,c){return!1}).listModelDeployDetail(b.getModelId())},Ab=function(b){da.show(0,Wa);L.createFacade(function(a){if(a){var f=[],c=[];if(a&&a.changed)for(var k=0;k<a.changed.length;k++){var l=a.changed[k],r=new D;r.fromJsonObject(l);f.push(r)}if(a&&a.valid)for(k=0;k<a.valid.length;k++)l=a.valid[k],r=new D,r.fromJsonObject(l),
c.push(r);Ba.setModels(f);Ca.setModels(c);sa.getCurrentTabPane().refresh();return!0}},function(a,f){return!1}).listDeployModelDetail(b.getModelSetDeployId(),b.getModelSetId())},Va=function(){Ia(ma,ca.width()+ba.width());P.refresh(!0)},bb=function(){Ia(ma,ba.width());P.refresh()},Wa=function(){Ia(ja,da.width());Q.refresh(!0)},db=function(){ja.css("width","100%");Q.refresh()},Ia=function(b,a){b.css({width:"calc(100% - "+a+"px)"})},sb=function(b,a,f){a=$(a);var c=$("<span>");c.addClass("deploy-manage-list-title-text");
c.text(f);c.appendTo(a);b===V.DEPLOYED_MODEL?Cb(a):Db(a);Eb(a,b);return a},Eb=function(b,a){var f=$("<div>");Ra.layoutCtrlWithLRTB(f,null,a===V.DEPLOYED_MODEL?272:212,16,17,null,16);u.backgroundWithHover(f,"refresh");f.attr("title",d.get("refresh","\u5237\u65b0"));f.css({cursor:"pointer"});f.on("click",function(){Fb(a)});f.appendTo(b)},Fb=function(b){if(b===V.DEPLOYED_MODEL){Ja=!1;ba.show();ma.show();var a=P.getSelectionUserModel();a?ca.show(0,Va):P.refresh(!0);ja.hide();da.hide();La(function(c){var k=
U.getCurrentSelectedGroup();U.setAutoSelectedGroupId(k.getModelGroupId());U.setJsonDataAndUpdateUI(c);ua=!1;Ha();P.setRowSelectedByModel(a,function(l){for(var r=0;r<l.length;r++)if(l[r].getModelId()===a.getModelId())return r;return-1});return!0})}else{ja.show();var f=Q.getSelectionUserModel();f?da.show(0,Wa):Q.refresh(!0);ba.hide();ma.hide();ca.hide();za(function(c){if(c){var k=[];if(c&&0<c.length)for(var l=0;l<c.length;l++){var r=c[l],e=new I;e.fromJsonObject(r);k.push(e)}Ua=k;(c=k[0])&&Q.setTopSeq(c.getSequence());
Ma(k);ra=!1;Ya();Q.setRowSelectedByModel(f,function(g){for(var h=0;h<g.length;h++)if(g[h].getSequence()==f.getSequence())return h;return-1});return!0}})}},Cb=function(b){ta?ta.css("display","block"):(T=new x,T.setSearchListenerDelay(1E3),T.addSearchListener(function(){Ha()}),T.setShowSearchIcon(!0),T.setPlaceholder(d.get("enterNameOrModelDescOrDeployer","\u8bf7\u8f93\u5165\u7f16\u7801/\u540d\u79f0/\u63cf\u8ff0/\u6700\u65b0\u90e8\u7f72\u4eba")),ta=T.getJqUi(),ta.addClass("deploy-search-box"),ta.css("width",
240),ta.find(":input").on("keydown",function(a){13===(a.keyCode||a.which||a.charCode)&&Ha()}),ta.appendTo(b));T.setFoucs()},Db=function(b){ya?ya.css("display","block"):(aa=new x,aa.setSearchListenerDelay(1E3),aa.addSearchListener(function(){Ya()}),aa.setShowSearchIcon(!0),aa.setPlaceholder(d.get("enterDeployerOrDeployDesc","\u8bf7\u8f93\u5165\u90e8\u7f72\u4eba/\u90e8\u7f72\u63cf\u8ff0")),ya=aa.getJqUi(),ya.addClass("deploy-search-box"),ya.find(":input").on("keydown",function(a){13===(a.keyCode||a.which||
a.charCode)&&Ya()}),ya.appendTo(b));aa.setFoucs()},Ha=function(){var b,a=U.getCurrentSelectedGroup(),f=U.isContainChild();a&&(b=U.getCurrentGroupModels(f,a));a=T.getText();""===a?fa&&(fa=!1,Na(b)):(fa=!0,b=lb(b,a),Na(b))},Ya=function(){var b=Ua,a=aa.getText();""===a?xa&&(xa=!1,Ma(b)):(xa=!0,b=lb(b,a),Ma(b))},lb=function(b,a){a=$.trim(a.toLowerCase());for(var f=[],c,k=0;k<b.length;k++){var l=b[k];if(Ta){var r="",e="",g=c="";l.getNumber()&&(g=l.getNumber().toLowerCase());l.getModelName()&&(r=l.getModelName().toLowerCase());
l.getModelDesc()&&(e=l.getModelDesc().toLowerCase());l.getDeployer()&&(c=l.getDeployer().toLowerCase());c=-1!=r.indexOf(a)||-1!=g.indexOf(a)||-1!=e.indexOf(a)||-1!=c.indexOf(a)}else c=r="",l.getDesc()&&(r=l.getDesc().toLowerCase()),l.getDeployer()&&(c=l.getDeployer().toLowerCase()),c=-1!=r.indexOf(a)||-1!=c.indexOf(a);c&&f.push(l)}return f},ob=function(){fa=!1;T.clear();T.getJqUi().find("input").blur()},Sa=function(b){var a=$("<span>");a.addClass("model-icon-info");b=Aa.getModelIconByType(b)+"-small";
u.background(a,b);return a},kb=function(b,a){if(!b)return"";var f=new Ea;f.setFormatString(a?a:"yyyy-MM-dd HH:mm:ss");return f.format(b)},Xa=function(b){var a=b.getRenamedMetricNumMap(),f=Object.keys(a);b=d.get("operateSuccess","\u64cd\u4f5c\u6210\u529f\u3002");0<f.length?(a=1==f.length?d.get("singleMetricNumberRenamed","\u4f46\u7531\u4e8e\u6307\u6807\u7f16\u7801\u201c#1\u201d\u5df2\u88ab\u4f7f\u7528\uff0c\u8be5\u6307\u6807\u7f16\u7801\u5df2\u88ab\u91cd\u547d\u540d\u4e3a\u201c#2\u201d\u3002").replace("#1",
f[0]).replace("#2",a[f[0]]):d.get("multiMetricNumberRenamed","\u4f46\u7531\u4e8e\u201c#1\u201d\u7b49#2\u4e2a\u6307\u6807\u7f16\u7801\u5df2\u88ab\u4f7f\u7528\uff0c\u8fd9\u4e9b\u6307\u6807\u7f16\u7801\u5df2\u88ab\u5168\u90e8\u91cd\u547d\u540d\u3002").replace("#1",f[0]).replace("#2",f.length),b+=a,L.getMessageCurtain().showPrompt(b)):L.getMessageCurtain().showSuccess(b,2E3)}};var v,u,m,z,x,C,q,I,F,H,D,y,B,R,w,Aa,d,Oa,Ra,mb,O,Ea,Z,M;(function(){var K=com.kingdee.bos.qing.modeler.deploy.common;v=K.Facade;
M=K.UserOperationReporter;u=K.MyIcons;m=K.Integration;K=com.kingdee.bos.qing.modeler.common.ui;B=K.NoDataContainer;R=K.SearchNoDataContainer;w=K.ModelGroupPanel;K=com.kingdee.bos.qing.modeler.common.model;Aa=K.ModelType;K=com.kingdee.bos.qing.ui.component;z=K.MessageCurtain;C=K.TabContainer;x=K.SearchBox;q=K.MessageDialog;K=com.kingdee.bos.qing.modeler.deploy.model;I=K.ModelSetDeploy;F=K.DeployModel;H=K.ModelDeployDetail;D=K.DeployModelDetail;y=K.DeployResult;K=com.kingdee.bos.qing.framework.common;
d=K.MultilanguageManager.createPackageAccessor(n);Oa=K.WindowResizeObserver;K=com.kingdee.bos.qing.common.ui;O=K.TableUtil;K=com.kingdee.bos.qing.common;Ra=K.DomUtil;mb=K.Util;Ea=K.DateFormater;Z=mb.decodeParamFromUrl(location.search,"modelSetId")})()})();
//qingVersionTag: 20250324