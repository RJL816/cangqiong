"use strict";(self.webpackChunknocode_component=self.webpackChunknocode_component||[]).push([[9556],{4996:function(e,n,t){t.d(n,{Ev:function(){return s.c},S6:function(){return u.c},So:function(){return c.c},qY:function(){return f.c}});var l=t(2664),r=t(34984),i=t(65984),o=t.n(i),a=t(63548),c=t(29560),u=t(57948),d=t(73552),s=t(68656),f=t(61036),m=t(71252),p=t.n(m),v=t(85984),h=["className","columnResize"],y=(0,i.memo)((function(e){var n=e.className,t=e.columnResize,i=(0,r.c)(e,h);return o().createElement("div",{className:p()(d.c.table,n)},o().createElement(a.Table,(0,l.c)({components:{EmptyContent:function(){return o().createElement("div",{className:d.c.empty},o().createElement("img",{src:v}),(null==e?void 0:e.emptyTips)||"暂无数据")}}},i,{columnResize:null==t||t})))}));y.displayName="DataGrid",y.CellRender=c.c,y.Title=u.c,n.cp=y},57068:function(e,n,t){t.d(n,{MZ:function(){return G}});var l=t(13939),r=t.n(l),i=t(34716),o=t.n(i),a=t(4884),c=t.n(a),u=t(3464),d=t.n(u),s=t(51400),f=t.n(s),m=t(25028),p=t.n(m),v=t(2664),h=t(81043),y=t(30112),g=t(72048),C=(t(21300),t(87912),t(97308),t(23992)),b=t.n(C),E=t(760),k=t.n(E),N=t(70696),T=t.n(N),w=t(61260),F=t.n(w),x=t(65984),I=t.n(x),_=t(8172),S=t(63548),M=t(49992),A=t(15700),D=t(64936),R=t(84068),V=t(30080),B=t(64947),O=t(63092),L=t(71252),j=t.n(L);function P(e,n){var t=r()(e);if(o()){var l=o()(e);n&&(l=T()(l).call(l,(function(n){return c()(e,n).enumerable}))),t.push.apply(t,l)}return t}function z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,y.c)(e,n,t[n])})):d()?f()(e,d()(t)):P(Object(t)).forEach((function(n){p()(e,n,c()(t,n))}))}return e}var U=(0,x.memo)((0,x.forwardRef)((function(e,n){var t=e.data,l=e.onConfirm,r=e.configuredSortItems,i=e.renderFooter,o=e.addText,a=e.bodyClassName,c=e.showEmpty,u=void 0===c||c,d=e.onClear,s=e.renderTitle,f=(0,x.useState)(r),m=(0,g.c)(f,2),p=m[0],v=m[1];(0,x.useEffect)((function(){v(r)}),[r]);var C=(0,x.useMemo)((function(){return b()(p).call(p,(function(e){return e.number}))}),[p]),E=(0,x.useMemo)((function(){return(0,B.excludeTreeNodeByKeys)(t,C)}),[t,C]),N=(0,x.useCallback)((function(){null==l||l(p)}),[l,p]),w=(0,x.useCallback)((function(e){var n,t=(0,B.dfs)(E,(function(n){return n.key===e}));t&&v(k()(p).call(p,{number:(n=t).key,name:n.title,isAsc:!0}))}),[p,E]),_=(0,x.useCallback)((function(e){var n=0;return p.forEach((function(t){t.fieldName===e&&n++})),n}),[p]),S=(0,x.useCallback)((function(e){var n=null==p?void 0:T()(p).call(p,(function(n){return n.number!==e}));v(n)}),[p]),D=(0,x.useCallback)((function(e,n){var t=[];null==p||p.forEach((function(l){n===l.number?t.push(z(z({},l),{},{isAsc:"true"===e})):t.push(l)})),v(t)}),[p]),R=(0,x.useCallback)((function(){null==d||d(),v([])}),[d]),V=(0,x.useCallback)((function(e,n,t){var l=n.sourceIndex,r=n.destinationIndex;l!==r&&v((function(e){var n=(0,h.c)(e),t=F()(n).call(n,l,1),i=(0,g.c)(t,1)[0];return F()(n).call(n,r,0,i),n}))}),[]);(0,x.useImperativeHandle)(n,(function(){return{getSort:function(){return p},onSortClear:R,onSortAdd:w,getSortCount:_,onSortonfirm:l}}),[p,_,R,w,l]);return I().createElement(I().Fragment,null,I().createElement("div",{className:j()(M.c.list_sort,(0,y.c)({},M.c.empty,p.length<=0),a)},p.length<=0?u?I().createElement(A.c,{desc:"暂无数据"}):null:I().createElement(G,{sorts:p,onDrop:V,onChage:D,onDelete:S,renderTitle:s,showEmpty:u})),I().createElement(K,{onConfirm:N,data:E,onAdd:w,onClear:R,addText:o||"添加排序",showClearAll:!0,renderFooter:i,getSortCount:_}))}))),G=(0,x.memo)((function(e){var n=e.sorts,t=e.onDrop,l=e.onChage,r=e.onDelete,i=e.className,o=e.itemClass,a=e.renderTitle;return I().createElement(R.U,null,I().createElement("div",{className:j()(M.c.list,i)},b()(n).call(n,(function(e,n){var i=e.name,c=e.isAsc,u=e.number;return I().createElement("div",{className:M.c.list_item},I().createElement(R.w,{key:u+n,index:n,onDrop:function(e,l){return t(e,l,n)}},I().createElement(H,{className:o,name:i,number:u,isAsc:c,renderTitle:a,onChange:function(e){return l(e,u,n)}})),I().createElement(S.Icon,{type:"xingshanchu",prefix:"nocodeplatformicon",className:M.c.item_delete,onClick:function(){return r(u,n)}}))}))))})),H=((0,x.memo)((function(e){var n=e.onDrop,t=e.name,l=e.isAsc,r=e.number,i=e.onChage,o=e.index,a=(0,x.useRef)(null),c=(0,x.useCallback)((function(e,t){null==n||n(e,t)}),[n]),u=(0,V.c)(a.current,{onDrop:c}).dragDropEvent;return I().createElement("div",(0,v.c)({className:M.c.list_item,ref:a},u(o)),I().createElement(H,{name:t,isAsc:l,onChange:function(e){return i(e,r)}}))})),(0,x.memo)((0,x.forwardRef)((function(e,n){var t=e.name,l=e.number,r=e.isAsc,i=e.onChange,o=e.className,a=e.renderTitle,c=(0,x.useMemo)((function(){return[{label:"升序",value:!0},{label:"降序",value:!1}]}),[]);return I().createElement("div",{className:j()(o,M.c.sort_item),ref:n},I().createElement("div",{className:M.c.sort_item_name},void 0!==a&&"function"==typeof a?a({name:t,number:l,isAsc:r}):t),I().createElement("div",{className:M.c.sort_item_extra},I().createElement(_.c,{value:r,options:c,className:M.c.group,onChange:i}),I().createElement(S.Icon,{type:"tuozhuai",prefix:"nocodeplatformicon",className:M.c.sort_item_drag})))})))),q=(0,x.memo)((function(e){var n=e.onAdd,t=e.data,l=e.addText,r=(0,x.useState)(!1),i=(0,g.c)(r,2),o=i[0],a=i[1],c=(0,x.useCallback)((function(e){a(!1),null==n||n(e)}),[n]),u=(0,x.useCallback)((function(e,n){n.checked;var t=n.node,l=(n.event,null==t?void 0:t.key);c(l)}),[c]),d=(0,x.useCallback)((function(e){a(e)}),[]);return I().createElement(S.Tooltip,{tip:o&&I().createElement(O.c,{treeData:t||[],onSelect:u,expandOnClickNode:!1}),placement:"topLeft",trigger:"click",visible:o,onVisibleChange:d,arrow:!1,popperClassName:M.c.tree_panel,popperStyle:{width:448}},I().createElement(D.c,{type:"text",major:!0,icon:{prefix:"ncicon",type:"zengjia-yuan"}},l))})),K=function(e){var n=e.renderFooter,t=e.showClearAll,l=e.onConfirm,r=e.onClear,i=e.onAdd,o=e.data,a=e.getSortCount,c=e.addText,u=(0,x.useCallback)((function(){null==l||l()}),[l]),d=(0,x.useCallback)((function(){null==r||r()}),[r]),s=I().createElement(q,{onAdd:i,data:o,getSortCount:a,addText:c}),f=I().createElement(D.c,{size:"small",className:M.c.clear,onClick:d},"清空"),m=I().createElement(D.c,{size:"small",type:"primary",className:M.c.confirm,onClick:u},"确定");return"function"==typeof n?n(s,f,m):I().createElement("div",{className:M.c.footer},s,I().createElement("div",{className:M.c["btn-group"]},t&&f,m))};n.cp=7876==t.j?U:null},71500:function(e,n,t){t.r(n),t.d(n,{openLink:function(){return h.openLink},showConfirm:function(){return V},showConfirmModal:function(){return O},showDeleteConfirmModal:function(){return B},showDialog:function(){return I},showErrMsg:function(){return S},showLoadingMessage:function(){return R},showMsgBox:function(){return L},showNotificationMsg:function(){return D},showSysMessage:function(){return _}});var l=t(2664),r=t(58496),i=(t(87912),t(33768),t(13640),t(97308),t(760)),o=t.n(i),a=t(13939),c=t.n(a),u=t(23992),d=t.n(u),s=t(65984),f=t.n(s),m=t(16428),p=t.n(m),v=t(63548),h=t(92140),y=t(30687),g=t(14020),C=t(47906),b=t(83515),E=t(89932),k=t(9528),N=t(42876),T=t(41544),w=t(75968),F=t(28244),x=t(32756);function I(e,n){var t=e.pageId,l=e.param;v.Modal.error({title:"错误提示",body:f().createElement(h.Main,{model:n,meta:l,pageId:t}),footer:null,width:600,height:496})}function _(e){var n,t=(null==e||null===(n=e.param)||void 0===n?void 0:n[0])||{},l=t.msg,r=void 0===l?"":l,i=(t.detail,f().createElement("div",{style:{textAlign:"center"}},f().createElement("div",null,f().createElement("img",{src:k,alt:"",style:{marginBottom:12}})),f().createElement("div",{style:{wordBreak:"break-word"}},r.substring(0,1e4))));v.Modal.warning({title:"业务提示",body:i,width:420,height:300,bodyStyle:{padding:20,flexBasis:0,fontSize:14,overflow:"hidden"},footer:null})}function S(e){var n,t=(null==e||null===(n=e.param)||void 0===n?void 0:n[0])||{},l=t.errorInfo,r=t.id;v.Modal.error({title:"错误提示",body:l,width:600,height:400,onOk:function(){var e;"loginout"===r&&(window.location.href=o()(e="".concat(window.__domainurl__,"login.html?redirect=")).call(e,encodeURIComponent(window.location.href)))},bodyStyle:{flexBasis:0,fontSize:12,overflowY:"auto",overflowX:"hidden"}})}var M={success:"chenggongyiwancheng",warning:"jingshi",error:"cuowu",info:"tishi"},A={background:"#fff",minWidth:0,borderColor:"#fff",color:"#212121",boxShadow:"0 4px 10px 1px rgba(0,0,0,0.12)",wordBreak:"break-word"};function D(e){Array.isArray(e.param)&&e.param.forEach((function(e){var n=c()(M)[e.type]||"info";v.Message[n]({content:e.content.replace(/[，。、？！@#￥%……&*.?!,]+$/g,""),closeNode:f().createElement(v.Icon,{prefix:"ncicon",type:"danchuangguanbi"}),icon:f().createElement(v.Icon,{prefix:"ncicon",type:M[n]}),duration:"error"===n?0:e.duration,closable:"error"===n||!e.duration,style:A})}))}function R(e){return v.Message.success({content:e,closeNode:f().createElement(v.Icon,{prefix:"ncicon",type:"danchuangguanbi"}),icon:f().createElement(v.Icon,{type:"loadding-circle",spin:!0,style:{color:"var(--kd-nc-primary-6)"}}),duration:0,closable:!1,style:A,key:"loading"}),function(e){if(!e||"object"!==(0,r.c)(e))return v.Message.destroy("loading");var n=e.type,t=e.content,l=e.duration,i=e.closable;v.Message[n]({content:t,closeNode:f().createElement(v.Icon,{prefix:"ncicon",type:"danchuangguanbi"}),icon:f().createElement(v.Icon,{prefix:"ncicon",type:M[n]}),duration:l,closable:null!=i?i:"success"!==n,style:A,key:"loading"})}}function V(e,n){var t=e.pageId,l=e.param[0]||{},r=l.msg,i=l.id,o=l.confirmType,a=l.button_type,c=l.detail,u=(l.messageType,[w,F,T,N,x]),d=(0,b.OE)(a),s=O({visible:!0,title:r,key:i,content:c,actions:[{text:"我知道了",key:"ok"}],headIcon:f().createElement("img",{src:u[o||0]}),onAction:function(){var e;if("pagetimeout"===i)try{window.opener=null,window.close()}catch(e){console.error(e)}else null==n||null===(e=n.batchInvoke)||void 0===e||e.call(n,"afterConfirm",t,"",[i,d,""]);s()}})}function B(e){var n,t=(null===(n=e.param)||void 0===n?void 0:n[0])||{},l=t.msg,r=t.detail,i=t.onOk,o=t.onCancel,a=document.createElement("div");document.body.appendChild(a);p().render(f().createElement(y.c,{type:"delete",title:l,content:r,onAction:function(e){"ok"===e?null==i||i():(null==o||o(),document.body.removeChild(a),p().unmountComponentAtNode(a))}}),a)}function O(e){var n=document.createElement("div");return document.body.appendChild(n),p().render(f().createElement(y.c,(0,l.c)({key:(null==e?void 0:e.key)||"ConfirmModal"},e)),n),function(){document.body.removeChild(n),p().unmountComponentAtNode(n)}}function L(e){var n=e.key,t=void 0===n?(0,g.IT)():n,l=e.title,r=e.content,i=e.onClose,o=e.actions,a=e.onAction,c=e.titleIcon,u=e.duration,s=c||{type:"laba",prefix:"nocodeplatformicon"},m=function(e){if("close"===e)return null==i||i(),v.Notification.destroy(t);null==a||a(e)},p=f().createElement("div",{className:E.c.nav},f().createElement("p",{className:E.c.title,title:l},f().createElement(v.Icon,s),f().createElement("span",null,l)),f().createElement(v.Icon,{type:"close",onClick:function(){return m("close")}})),h=f().createElement("div",{className:E.c.content},f().createElement("p",{className:E.c.text}," ",r," "),o?f().createElement("p",{className:E.c.btns},d()(o).call(o,(function(e){return f().createElement(C.BtnField,{key:e.key,size:"small",type:e.primary?"primary":"second",onClick:function(){return m(e.key)}},e.text)}))):null);return v.Notification.open({key:t,type:"info",duration:u,title:p,className:E.c.msg_box,content:h,onClose:m("close")}),function(){m("close")}}},47906:function(e,n,t){t.r(n),t.d(n,{AddFilter:function(){return xe.c},AddTreeItem:function(){return mt},AdvContainer:function(){return g.c},AdvContainerChild:function(){return b.c},AdvContainerToolBar:function(){return C.c},Attachment:function(){return N.c},Avatar:function(){return We.c},BillForm:function(){return i.c},BillQuickFinder:function(){return an},BillTypeFieldEditor:function(){return An},BtnField:function(){return r.c},Checkbox:function(){return k.c},CodeEditor:function(){return Yn},ColHeadFilterPanel:function(){return ae.c},ColorPicker:function(){return Be},Condition:function(){return Ke},ConditionFilterItem:function(){return oe.c},ConfirmModal:function(){return Me.c},DataGrid:function(){return d.cp},DataGridLayout:function(){return s.c},DatePicker:function(){return h.c},DateRangePicker:function(){return y.c},DragContainer:function(){return Oe.U},DragSortList:function(){return ke.MZ},Draggable:function(){return Oe.w},DropdownSearch:function(){return Fe.c},EditArea:function(){return Le.c},EditOptionList:function(){return Hn},Email:function(){return x.c},EmptyData:function(){return re.c},EmptySearchResult:function(){return ie.c},FieldItem:function(){return f.c},FilterEditor:function(){return en.c},FilterLabelBar:function(){return fe.c},FilterPanel:function(){return d.Ev},FlexPanel:function(){return c.c},FormBanner:function(){return Se.c},GraphicDisplay:function(){return _e.c},GridPanel:function(){return u.c},Group:function(){return U},GroupBar:function(){return te},GroupItem:function(){return Y},Image:function(){return I.c},ImageViewer:function(){return w.c},InputCombo:function(){return cn.c},InputVarSelect:function(){return Re.c},KDTreeSelect:function(){return Ae.cp},Label:function(){return _.c},ListFilterSetting:function(){return he.c},ListFilterSettingDropdown:function(){return me.c},ListFilterSettingPop:function(){return ye},ListFilterUtil:function(){return ln},ListItemSetting:function(){return ge.c},ListItemSettingDropdown:function(){return Ce.c},ListItemSettingPop:function(){return Ee},ListSort:function(){return ke.cp},ListSortDropdown:function(){return we},Loading:function(){return De.c},Modal:function(){return On},Number:function(){return p.c},OrderByEditor:function(){return Xe.c},Password:function(){return F.c},Picture:function(){return T.c},Radio:function(){return E.c},RefBill:function(){return o.c},RefBillF7Content:function(){return a.c},RefBillGridView:function(){return Ie.c},RichText:function(){return qn.c},SearchTree:function(){return un.c},Sectioner:function(){return fn},Select:function(){return m.cp},Skeleton:function(){return xn},SortButton:function(){return ce.c},TabHeader:function(){return ue.c},TableContext:function(){return d.qY},TableTitle:function(){return d.S6},Tabs:function(){return de.c},Tag:function(){return se.c},Text:function(){return l.c},Textarea:function(){return v.c},Url:function(){return S.c},WebMsg:function(){return le},treeUtils:function(){return nn},useKDRefBill:function(){return pt.c}});t(91492);var l=t(63097),r=t(64936),i=t(80340),o=t(19112),a=t(84736),c=t(98576),u=t(90700),d=t(4996),s=t(52716),f=t(12104),m=t(52792),p=t(81512),v=t(97592),h=t(65540),y=t(46624),g=t(66268),C=t(54468),b=t(95768),E=t(8172),k=t(50736),N=t(91072),T=t(82060),w=t(24188),F=t(94152),x=t(12748),I=t(7456),_=t(75324),S=t(25316),M=t(2664),A=t(72048),D=t(34984),R=t(23992),V=t.n(R),B=t(65984),O=t.n(B),L=t(14020),j=t(31732),P=["children","showCollapse","onClick"],z=(0,B.memo)((function(e){var n=e.children,t=e.showCollapse,l=e.onClick,r=(0,D.c)(e,P),i=(0,B.useState)(!1),o=(0,A.c)(i,2),a=o[0],c=o[1],u=(0,L.wN)(n);return O().createElement("div",(0,M.c)({className:j.c.group},r),V()(u).call(u,(function(e,n){return Array.isArray(e)?V()(e).call(e,(function(l){var r=l.props.isActive;return O().cloneElement(l,{key:n,isActive:r&&(1!==e.length||!t||!a)})})):O().cloneElement(e,{key:n,collapse:a,setCollapse:c,showCollapse:t,onClick:function(e){t&&c((function(e){return!e})),null==l||l(e)}})})))}));z.displayName="Group";var U=7876==t.j?z:null,G=t(30112),H=t(71252),q=t.n(H),K=["children","column","gutter","style","className","isActive"],W=(0,B.memo)((function(e){var n=e.children,t=e.column,l=e.gutter,r=e.style,i=e.className,o=e.isActive,a=(0,D.c)(e,K);return O().createElement(u.c,(0,M.c)({column:t,gutter:l,style:r,className:q()(i,(0,G.c)({},j.c.group_item_container_hidden,!o))},a),(0,L.wN)(n))}));W.displayName="GroupItem";var Y=7876==t.j?W:null,$=(t(21300),t(90896)),Q=t.n($),Z=t(63548),J=["style","className","isActive","isHidden","title","onClick","tips"],X=["options","activeId","onClick","renderOption","showCollapse","collapse","setCollapse","children"],ee=(0,B.memo)((function(e){var n=e.style,t=e.className,l=e.isActive,r=e.isHidden,i=e.title,o=e.onClick,a=e.tips,c=(0,D.c)(e,J);return O().createElement("div",(0,M.c)({style:n,className:q()(t,j.c.group_bar_list_item,(0,G.c)((0,G.c)({},j.c.group_bar_list_item_active,!r&&l),j.c.group_bar_list_item_hidden,r)),onClick:o},c),O().createElement(O().Fragment,null,O().createElement("div",{className:j.c.group_bar_list_item_label},O().createElement("span",null,i)),a&&O().createElement(Z.Tooltip,{scrollHidden:!0,placement:"bottom",tip:a,trigger:"hover",popperStyle:{"--arrowSpill":"-5px",marginTop:"-4px"}},O().createElement(Z.Icon,{type:"tips",className:j.c.group_bar_list_item_label_tipsicon}))))}));ee.displayName="GroupBarItem";var ne=(0,B.memo)((function(e){var n=e.options,t=e.activeId,l=e.onClick,r=e.renderOption,i=e.showCollapse,o=e.collapse,a=e.setCollapse,c=e.children,u=(0,D.c)(e,X),d=(0,B.useState)(!1),s=(0,A.c)(d,2),f=s[0],m=s[1],p=(0,B.useState)(!1),v=(0,A.c)(p,2),h=v[0],y=v[1],g=(0,B.useRef)(null),C=(0,B.useRef)(null),b=(0,B.useCallback)((function(e){null==l||l(e)}),[]);(0,B.useEffect)((function(){var e,n=null===(e=g.current)||void 0===e?void 0:e.clientWidth,t=C.current;(null==t?void 0:t.scrollWidth)>n&&!h&&y(!0)}),[(null==n?void 0:n.length)||c]);return O().createElement("div",(0,M.c)({className:j.c.group_bar_container},u),f&&O().createElement("div",{className:j.c.group_bar_left,onClick:function(e){var n,t,l;e.stopPropagation();var r=null===(n=g.current)||void 0===n?void 0:n.scrollWidth,i=null===(t=g.current)||void 0===t?void 0:t.clientWidth;if(!(r<i)){var o=C.current,a=Math.abs(Q()(null===(l=window.getComputedStyle(o,null))||void 0===l?void 0:l.left));if(0!==a){var c=a;a>i?c=a-i:(c=0,f&&m(!1),!h&&y(!0)),o.style.left="-"+c+"px"}}}},"左"),O().createElement("div",{ref:g,className:j.c.group_bar},i&&O().createElement(Z.Icon,{prefix:"ncicon",type:"fenzuzhedie",className:q()(j.c.group_bar_expande,(0,G.c)({},j.c.group_bar_collapse,o)),onClick:function(){null==a||a((function(e){return!e}))}}),O().createElement("div",{ref:C,className:j.c.group_bar_list},(null==n?void 0:n.length)>0?V()(n).call(n,(function(e,l){if(r)return null==r?void 0:r(e,t,l);if(e.hidden)return null;var i=e.id,o=e.tips,a=e.name;return O().createElement(ee,{isActive:t===i&&n.length>1,key:i,title:a,tips:o,onClick:function(e){e.stopPropagation(),b(i)}})})):null==c?void 0:V()(c).call(c,(function(e){var n=e.props,t=n.value,l=n.onClick;return e.props,O().cloneElement(e,{onClick:function(e){e.stopPropagation(),null==l||l(e),b(t)}})})))),h&&O().createElement("div",{className:j.c.group_bar_right,onClick:function(e){var n,t,l;e.stopPropagation();var r=null===(n=C.current)||void 0===n?void 0:n.scrollWidth,i=null===(t=g.current)||void 0===t?void 0:t.clientWidth;if(!(r<i)){var o=C.current,a=Math.abs(Q()(null===(l=window.getComputedStyle(o,null))||void 0===l?void 0:l.left)),c=a;a+i<r&&(!f&&m(!0),c=a+i),c+i>=r&&h&&y(!1),o.style.left="-"+c+"px"}}},"右"))}));ne.Item=ee,ne.displayName="GroupBar";var te=7876==t.j?ne:null,le=t(71500),re=t(15700),ie=t(33240),oe=t(57376),ae=t(33620),ce=t(91152),ue=t(74820),de=t(59356),se=t(51536),fe=t(71132),me=t(93132),pe="KYGbZyY1_modal",ve="dx5hETGb_item",he=t(22280),ye=7876==t.j?function(e){var n,t,l=e.className,r=e.draggable,i=e.style,o=e.mask,a=e.maskStyle,c=e.maskClosable,u=e.onClose,d=e.title,s=e.visible;return O().createElement(Z.Modal,(0,G.c)((0,G.c)((0,G.c)((0,G.c)((0,G.c)((0,G.c)((0,G.c)((0,G.c)({body:O().createElement(he.c,(0,M.c)({},e,{itemClassName:ve})),type:"normal",className:q()(pe,l),closable:!0,mask:!0,draggable:null==r||r,height:null!==(n=null==i?void 0:i.height)&&void 0!==n?n:332,width:null!==(t=null==i?void 0:i.width)&&void 0!==t?t:640,destroyOnClose:!0},"mask",null==o||o),"maskStyle",a),"maskClosable",null!=c&&c),"visible",s),"onCancel",u),"title",d),"draggable",r),"footer",null))}:null,ge=t(90092),Ce=t(75080),be="_8ZFLaG2m_modal",Ee=7876==t.j?function(e){var n=e.title,t=e.data,l=e.checkedKeys,r=e.lockIndex,i=e.showLock,o=e.onClose,a=e.onConfirm,c=e.draggable,u=e.maskClosable,d=e.mask,s=e.maskStyle,f=e.className,m=e.width,p=e.height,v=e.okProps,h=e.okText,y=void 0===h?"确定":h;return O().createElement(Z.Modal,{body:O().createElement(ge.c,{closable:!0,title:n,data:t,checkedKeys:l,lockIndex:r,showLock:i,okText:y,okProps:v,onClose:o,onConfirm:a}),type:"normal",className:q()(be,f),closable:!1,draggable:null==c||c,width:null!=m?m:480,height:null!=p?p:560,destroyOnClose:!0,mask:null==d||d,maskStyle:s,maskClosable:null!=u&&u,onCancel:o,footer:null,title:null,onConfirm:a})}:null,ke=t(57068),Ne={tooltip:"_3v3+LYSw_tooltip",dropdown:"foGSupob_dropdown",header:"WKtNaGKO_header",title:"GlMQd2d8_title",btn_close:"W9ir4IsJ_btn_close"},Te=function(e){var n=e.title,t=e.titleRight;return O().createElement("div",{className:Ne.header},O().createElement("div",{className:Ne.title},n),O().createElement("div",{className:Ne.titleRight},t))},we=7876==t.j?function(e){var n=e.style,t=e.onClose,l=e.title,r=e.titleRight,i=e.visible,o=e.onVisibleChange,a=e.children,c=e.data,u=void 0===c?[]:c,d=e.onConfirm,s=e.onClear,f=(e.showClearAll,e.configuredSortItems);return i?O().createElement(Z.Tooltip,{tip:O().createElement("div",{className:Ne.dropdown},O().createElement(Te,{title:l,titleRight:r,onClose:t}),O().createElement(ke.cp,{data:u,onClear:s,onConfirm:d,configuredSortItems:f})),trigger:"click",arrow:!1,visible:i,onVisibleChange:o,popperStyle:n,placement:"bottomRight",popperClassName:Ne.tooltip},a):O().cloneElement(a,{onClick:function(){o(!i)}})}:null,Fe=t(58312),xe=t(63420),Ie=t(13740),_e=t(36260),Se=t(93092),Me=t(30687),Ae=t(79012),De=t(29620),Re=t(69616),Ve=(0,B.memo)((function(e){var n=e.value,t=e.onChange;return O().createElement(Z.ColorPicker,{value:n,onChange:t,showColorPickerBox:{showBox:!0,showHue:!0,showOpacity:!1},presetColor:["#276FF5","#16B8B1","#16B0F1","#77C404","#FDC200","#FF5F1F","#F90D58","#701DF0","#0E5FD8"]})})),Be=7876==t.j?Ve:null,Oe=t(84068),Le=t(27656),je=t(70696),Pe=t.n(je),ze=t(59748),Ue=t(77196),Ge=t(60644),He=t(5980),qe=(0,B.memo)((function(e){var n=e.value,t=e.language,l=e.modalTitle,i=e.editorTitle,o=e.actionType,a=e.visible,c=e.hideFunc,u=e.editorPlaceholder,d=e.fieldData,s=e.defaultExpandAll,f=e.fieldTitle,m=e.expressionData,p=e.operations,v=e.onClose,h=e.onConfirm,y=e.loadData,g=(0,B.useRef)(null),C=(0,B.useCallback)((function(){var e,n,t=null===(e=g.current)||void 0===e?void 0:e.getEditorValue(),l=null===(n=g.current)||void 0===n?void 0:n.getEditorLang();null==h||h(t,l)}),[g.current,v,h]),b=(0,B.useMemo)((function(){return O().createElement(O().Fragment,null,O().createElement("div",{className:q()(Ue.c.footer,"".concat("kd-nc-condition","-footer-btns"))},O().createElement(r.c,{onClick:v,size:"small",type:"second"},"取消"),O().createElement(r.c,{onClick:C,size:"small",type:"primary"},"确定")))}),[v,C]);return O().createElement(Z.Modal,{body:O().createElement(ze.c,{language:t,ref:g,editorTitle:i,value:n,editorPlaceholder:u,hideFunc:c,className:Ue.c["condition-modal"],actionType:o,fieldData:(0,Ge.cloneDeep)(function e(n){return null==n?void 0:Pe()(n).call(n,(function(n){return n.children&&(n.children=e(n.children)),"NoCodeMulRefBillField"!==n.type&&"NoCodeRefBillField"!==n.type||void 0!==n.BillEntityIdEx}))}(d)),fieldTitle:f,defaultExpandAll:s,expressionData:m,operations:p,confirmCallback:C,loadData:y}),bodyStyle:{padding:0,overflowX:"hidden",overflowY:"auto"},titleIcon:null,className:Ue.c["condition-modal"],footer:b,maskClosable:!1,width:1180,height:560,title:l||"条件设置",closable:!0,destroyOnClose:!0,onCancel:v,mask:!0,visible:a})}));qe.displayName="ConditionModal",qe.constants=He;var Ke=7876==t.j?qe:null,We=t(95416),Ye=t(81043),$e=(t(87912),t(97308),t(61260)),Qe=t.n($e),Ze=t(760),Je=t.n(Ze),Xe=t(77712),en=t(58108),nn=t(64947),tn=t(56367),ln=t(5680),rn={key:"currentRecord",title:"本记录"},on=(0,B.forwardRef)((function(e,n){var t,l=e.refBillData,r=e.onGetFieldRecords,i=e.listFilterConfig,o=e.fieldRecords,a=e.variablesTree,c=e.onFilterChange,u=e.onSortChange,d=e.onRelationFormChange,s=e.onResultChange,f=e.configuredFilterItems,m=e.relationFormId,p=e.result,v=e.sortInfos,h=e.field,y=(e.validData,e.inputFieldProps),g=e.refBillProps,C=h.type,b=h.fieldName,E=h.entityId,k=h.isMulti,N=(0,B.useRef)();(0,B.useImperativeHandle)(n,(function(){return{updateVerifyAndGetMsg:function(){return N.current.updateVerifyAndGetMsg()}}}),[]);var T=(0,B.useMemo)((function(){return(0,nn.getListConfigPure)(i)}),[i]),w=(0,B.useMemo)((function(){return(0,nn.getListSortConfig)(i)}),[i]),F=function(e,n){var t=null==n?void 0:n.entityId;return null==e||e.forEach((function(e){var n;(null==e||null===(n=e.children)||void 0===n?void 0:n.length)>0&&((null==e?void 0:e.BillEntityId)!==t||void 0===t)?e.selectable=!1:e.selectable=!0})),e},x=(0,B.useMemo)((function(){var e;return Je()(e=[rn]).call(e,(0,Ye.c)((0,nn.getMultiRefChildrenExclude)(i)))}),[i]);return O().createElement("div",{className:tn.c.billFinder},O().createElement(Z.Form.Item,{label:"查找表单",name:"relationFormId",required:!0},O().createElement(Ae.cp,{treeDefaultExpandAll:!0,allowClear:!0,showTreeIcon:!0,value:m||"",treeData:function e(n){var t,l=[];return null==n||null===(t=n.children)||void 0===t||t.forEach((function(n){var t={icon:n.icon,key:n.value,title:n.label};n.children&&(t.selectable=!1,t.children=e(n)),l.push(t)})),l}(l),className:tn.c.select,onChange:function(e){d(e),c([]),u([]),s([])}})),O().createElement(Z.Form.Item,{label:"配置筛选条件",name:"filterInfos",rules:[{type:"array",required:!0,message:"请配置筛选条件"}]},O().createElement(en.c,{id:"filter",ref:N,name:"配置筛选条件",tips:"",variablesTree:a||[],listFilterConfig:T||[],onGetFieldRecords:r,fieldRecords:o||[],className:tn.c.filter_editor,style:{marginTop:"0px"},getVarSelectDisabled:ln.getVarSelectDisabled,fieldData:{fieldType:"treeSelect",style:{width:"184px"}},filterFooterData:{listType:"tree",triggerText:"添加筛选条件",treeProps:{defaultExpandAll:!1}},valueData:y,value:f||[],onChange:c,refBillProps:g,required:!0,nameHidden:!0,valueRequired:!0})),O().createElement(Z.Form.Item,{label:"配置排序条件",name:"sortInfos"},O().createElement(Xe.c,{id:"filter",name:"配置排序条件",tips:"",treeData:w||[],className:tn.c.orderby_editor,style:{marginTop:"0px"},nameHidden:!0,value:v||[],onChange:u})),O().createElement("div",{key:m},null===(t="NoCodeDateRangeField"===C?[".开始",".结束"]:[""])||void 0===t?void 0:V()(t).call(t,(function(e,n){var t,l;return O().createElement(Z.Form.Item,{label:"查找到记录后，将最新一条记录关联到当前字段",name:"preCondition",className:tn.c.title,rules:[{required:!0,validator:function(e,n,t,l,r){return!!n||[new Error("请添加写入规则")]}}]},O().createElement("p",{className:tn.c.value_text},"将"),O().createElement(Ae.cp,{treeDefaultExpandAll:!0,key:null===(t=p[n])||void 0===t?void 0:t.sourceField,value:null===(l=p[n])||void 0===l?void 0:l.sourceField,treeData:F((0,ln.filterTreeData)(x,{selBillValue:m||"",entityId:E,isMulti:k,type:C},h)),className:tn.c.select,onChange:function(e){return function(e,n){if("NoCodeDateRangeField"===C){var t=(0,Ye.c)(p),l={sourceField:e,targetField:b+(0===n?"_startdate":"_enddate")};Qe()(t).call(t,n,1,l),s(t)}else s([{sourceField:e,targetField:b}])}(e,n)},showFullLabelTips:!0}),O().createElement("p",{className:tn.c.value_text},"的值写入当前字段",e))}))))})),an=7876==t.j?on:null,cn=t(81992),un=t(63092),dn=t(28156),sn=(0,B.memo)((function(e){var n=e.value,t=e.defaultValue,l=e.options,r=e.renderOption,i=e.onChange,o=(0,B.useState)(t),a=(0,A.c)(o,2),c=a[0],u=a[1];(0,B.useEffect)((function(){u(n)}),[n]);return O().createElement("ul",{className:dn.c.sectioner},V()(l).call(l,(function(e,n){if("function"==typeof r)return r(e);var t=e.value,l=e.label;return O().createElement("li",{key:t||n,className:q()([dn.c.sectioner_item,(0,G.c)({},dn.c["is-active"],t===c)]),onClick:function(){return function(e){i?null==i||i(e):u(e)}(t)}},l)})))}));sn.displayName="Sectioner";var fn=7876==t.j?sn:null,mn=(t(43924),t(1336),t(19572),t(37292),t(2240),t(23268),t(20660),t(94580),t(43160),t(8608),t(87503),t(16696),t(57309),t(76728),t(37332),t(37888),t(14379),t(93723),t(26396),t(57096),t(56539),t(55888),t(50768),t(54732),t(13108),t(56264),t(3328)),pn=t.n(mn),vn=function(e){return e.CARD="CARD",e.MENU="MENU",e.HEAD="HEAD",e.CONCENT="CONCENT",e.INPUT="INPUT",e.CHART="CHART",e.FOOT="FOOT",e}({}),hn=t(25288),yn=t.n(hn),gn={skeletonCard:"o1uH0i8J_skeletonCard",skeletonMenu:"_1EUUxp45_skeletonMenu",skeletonContent:"DmSi-vbM_skeletonContent",skeletonInput:"+Fsa2Bo3_skeletonInput",skeletonHead:"M1K86srd_skeletonHead",skeletonChart:"iOy6DTDE_skeletonChart",skeletonFoot:"_7bsRADZo_skeletonFoot",radiuscircle:"ptkrl33G_radiuscircle",radiusdefault:"NtFt5-1W_radiusdefault",radiusround:"_7nBRuysO_radiusround",cananimation:"J805RqBG_cananimation","css-skeleton-loading":"Vu0d6l-p_css-skeleton-loading"},Cn=function(e,n){var t=n.shapeType,l=n.animation;return e=gn[e],void 0!==t&&(e+=" "+gn["radius"+yn()(t).call(t)]),l&&(e+=" "+gn.cananimation),e},bn=7876==t.j?function(e){var n=Cn(e.class,e),t={width:e.width,height:e.height,margin:e.margin};return O().createElement("div",{className:n,style:t},O().createElement(O().Fragment,null,"skeletonChart"===e.class?O().createElement("div",null,e.children,O().createElement("i",{className:n})):O().createElement(O().Fragment,null,e.children)))}:null,En="fXAS5+Vr_skeleton",kn=function(e){var n,t=e.type,l=e.child?e.child:[],r=e.animation?e.animation:vn.INPUT===t,i=Tn();switch(t){case vn.INPUT:n=O().createElement(bn,{class:"skeletonInput",animation:r,key:"skeletonInput"+i,width:e.width,height:e.height,margin:e.margin,shapeType:e.shapeType?e.shapeType:"default"},O().createElement(Fn,{options:l,key:"skeletonChild"+i}));break;case vn.CARD:n=O().createElement(bn,{class:"skeletonCard",animation:!1,width:e.width,key:"skeletonCard"+i,height:e.height,margin:e.margin,shapeType:e.shapeType?e.shapeType:"round"},O().createElement(Fn,{options:l,key:"skeletonChild"+i}));break;case vn.MENU:n=O().createElement(bn,{class:"skeletonMenu",animation:!1,width:e.width,height:e.height,margin:e.margin,key:"skeletonMenu"+i},O().createElement(Fn,{options:l,key:"skeletonChild"+i}));break;case vn.CONCENT:n=O().createElement(bn,{class:"skeletonContent",animation:!1,width:e.width,height:e.height,margin:e.margin,key:"skeletonContent"+i},O().createElement(Fn,{options:l,key:"skeletonChild"+i}));break;case vn.CHART:n=O().createElement(bn,{class:"skeletonChart",animation:!0,width:e.width,height:e.height,margin:e.margin,key:"skeletonChart"+i},O().createElement(Fn,{options:l,key:"skeletonChild"+i}));break;case vn.HEAD:if(2===l.length){var o=[],a=[];o.push(l[0]),a.push(l[1]),n=O().createElement(bn,{class:"skeletonHead",animation:!1,width:e.width,height:e.height,margin:e.margin,key:"skeletonHead"+i},O().createElement(Fn,{options:o,key:"skeletonChild1"+i}),O().createElement(Fn,{options:a,key:"skeletonChild2"+i}))}break;case vn.FOOT:n=O().createElement(bn,{class:"skeletonFoot",animation:!1,width:e.width,height:e.height,margin:e.margin,key:"skeletonFoot"+i},O().createElement(Fn,{options:l,key:"skeletonChild"+i}));break;default:n=O().createElement(wn,{options:l,optionItem:e,isRoot:!1,key:"skeleton"+i})}return n},Nn=function(e){return O().createElement(O().Fragment,null,V()(e).call(e,(function(e){if(pn()(e)&&pn()(e)>0){for(var n=[],t=0;t<pn()(e);t++)n.push(e);return V()(n).call(n,(function(e){return kn(e)}))}return kn(e)})))},Tn=function(){var e=window.crypto||window.webkitCrypto||window.mozCrypto||window.oCrypto||window.msCrypto;return null==e?void 0:e.getRandomValues(new Uint32Array(1))[0]},wn=function(e){var n=e.options,t=function(e,n){var t={};return e&&(t=e),void 0===n&&(t.width="100%",t.height="100%"),t}(e.optionItem,e.isRoot);return O().createElement("div",{className:En,style:t},Nn(n))},Fn=function(e){var n=e.options;return O().createElement(O().Fragment,null,Nn(n))},xn=7876==t.j?wn:null,In=t(38456),_n=t.n(In),Sn=(t(86456),t(98308)),Mn=t(15010),An=O().memo((function(e){var n=(0,B.useState)("currentApp"),t=(0,A.c)(n,2),l=t[0],r=t[1],i=(0,B.useRef)(),o=((0,B.useRef)(),e.onChange),a=e.value,c=e.className,u=e.nameHidden,d=e.required,s=e.locked,f=e.name,m=e.tips,p=e.refBillData,v=e.isEmpty,h=(0,B.useState)(v),y=(0,A.c)(h,2),g=y[0],C=y[1];(0,B.useEffect)((function(){C(v)}),[v]),(0,B.useEffect)((function(){var e=a&&1!==a.split(",").length?"otherApp":"currentApp";e!==l&&r(e)}),[a]);var b="bill-type",E=(0,B.useCallback)((function(e){e.stopPropagation();var n=e.currentTarget.dataset.tab;if(n===l)return!1;r(n)}),[l]),k=(0,B.useCallback)((function(e,n){e=e?e.join():"",null==o||o(e)}),[o]),N=(0,B.useCallback)((function(e){var n="currentApp"===l,t="".concat(b,"-select-box"),r=q()(Mn.c["".concat(t,"-tab-item")],(0,G.c)({},Mn.c["".concat(t,"-tab-item-cur")],n)),o=q()(Mn.c["".concat(t,"-tab-item")],(0,G.c)({},Mn.c["".concat(t,"-tab-item-cur")],!n));return O().createElement(O().Fragment,null,O().createElement("div",{className:Mn.c["".concat(t,"-tab")]},O().createElement("div",{className:r,"data-tab":"currentApp",onClick:E},"当前应用"),O().createElement("div",{className:Mn.c["".concat(t,"-tab-line")]}),O().createElement("div",{className:o,"data-tab":"otherApp",onClick:E},"其它应用")),O().createElement("div",{className:Mn.c["".concat(t,"-list")],ref:function(e){var n;if(e){e.parentElement.style.animation="none";var t=(null===(n=i.current)||void 0===n?void 0:n.getBoundingClientRect()).width;e.style.width=t+"px"}}},e))}),[l]),T=(0,B.useMemo)((function(){var e;return null===(e=_n()(p).call(p,(function(e){return e.tab===l})))||void 0===e?void 0:e.data}),[p,l]);return O().createElement("div",{className:q()(Mn.c[b],c)},O().createElement(Sn.c,{nameHidden:u,className:Mn.c.title,name:f,tips:m,required:d}),O().createElement("div",{className:Mn.c["".concat(b,"-list")],ref:i},O().createElement(Z.Cascader,{placeholder:"请选择",bordered:!0,disabled:s,value:a.split(","),onChange:k,className:Mn.c["".concat(b,"-select")],dropdownRender:N,options:T,notFoundContent:"暂无数据"}),g&&O().createElement("div",{className:Mn.c.red},"请输入应用名称")))})),Dn=t(78168),Rn=["onCancel","onOk","cancelText","okText"],Vn=function(e){var n=e.cancelText,t=e.okText,l=e.onCancel,r=e.onConfirm;return O().createElement("div",{className:Dn.c.modal_footer},O().createElement("div",null,O().createElement(Z.Button,{size:"small",className:Dn.c.modal_footer_btn,onClick:l},n||"取消"),O().createElement(Z.Button,{size:"small",type:"primary",className:Dn.c.modal_footer_btn,onClick:r},t||"确定")))},Bn=(0,B.memo)((function(e){var n=e.onCancel,t=e.onOk,l=e.cancelText,r=e.okText,i=(0,D.c)(e,Rn);return O().createElement(Z.Modal,(0,M.c)({onCancel:n,footer:O().createElement(Vn,{cancelText:l,okText:r,onCancel:n,onConfirm:t})},i))}));Bn.displayName="Modal";var On=7876==t.j?Bn:null,Ln=t(44052),jn=t(68944),Pn=t(6726),zn=t(26644),Un={id:"id",name:"name",color:"color"},Gn=(0,B.memo)((function(e){var n=e.bgcolorChecked,t=e.options,l=e.renderOption,r=e.isNewOptionEdit,i=e.limitCount,o=e.keyMap,a=void 0===o?Un:o,c=e.itemClassName,u=e.onChange,d=e.onAdd,s=e.addText,f=void 0===s?"添加":s,m=e.clickEdit,p=e.optionReadOnly,v=void 0!==p&&p,h=e.allowClear,y=void 0===h||h,g=(0,M.c)(Un,a),C=function(e,n){var l=(0,Ye.c)(t);e?l=Pe()(l).call(l,(function(n){return n[g.id]!==e})):Qe()(l).call(l,n,1),u(l)},b=function(e,n){var l=(0,Ye.c)(t);l[e]=n,u(l)},E=(0,B.useCallback)((function(e){if(e){var n=e.sourceIndex,l=e.destinationIndex,r=(0,Ye.c)(t),i=Qe()(r).call(r,n,1)[0];Qe()(r).call(r,l,0,i),u(r)}}),[t]),k=(0,jn.c)(E);return O().createElement("div",{className:Pn.c.editoptionlist_wrapper},O().createElement(Oe.U,null,O().createElement("div",{className:Pn.c.editoptionlist},null==t?void 0:V()(t).call(t,(function(e,t){return O().createElement(Ln.c,{key:e[g.id],index:t,keyMap:g,className:c,isNewOptionEdit:r,option:e,renderOption:l,bgcolorChecked:n,onDelete:C,onChange:function(e){return b(t,e)},onDrop:k,clickEdit:m,readOnly:v})})))),O().createElement("div",{className:Pn.c.editoptionlist_handle},O().createElement("div",{className:q()(Pn.c.editoptionlist_handle_btn,(0,G.c)({},Pn.c.editoptionlist_handle_disabled,i&&t.length===i)),onClick:d},O().createElement(Z.Icon,{prefix:"ncicon",type:"zengjia-yuan"}),O().createElement("span",null,f)),y&&!(null==t||!t.length)&&O().createElement("div",{className:Pn.c.editoptionlist_handle_clear,onClick:function(){null==u||u([])}},O().createElement("span",null,"清空值"))))}));Gn.displayName="EditOptionList",Gn.darkColorList=zn.gV,Gn.EditOptionItem="EditOptionItem";var Hn=7876==t.j?Gn:null,qn=t(84496),Kn=(t(97448),t(78504),t(77864),(0,B.lazy)((function(){return Promise.all([t.e(3296),t.e(8344)]).then(t.bind(t,25016))}))),Wn=(0,B.forwardRef)((function(e,n){return O().createElement(B.Suspense,{fallback:O().createElement("span",null)},O().createElement(Kn,(0,M.c)({ref:n},e)))})),Yn=7876==t.j?Wn:null,$n=(t(33768),t(90512),t(73980)),Qn=t.n($n),Zn=t(13440),Jn=t.n(Zn),Xn=t(59992),et=t.n(Xn),nt=t(60600),tt=t.n(nt),lt=t(58496),rt=t(24496),it=t.n(rt),ot=t(77011);function at(e,n){var t=void 0!==et()&&tt()(e)||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){var t;if(!e)return;if("string"==typeof e)return ct(e,n);var l=Qn()(t=Object.prototype.toString.call(e)).call(t,8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return Jn()(e);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return ct(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var l=0,r=function(){};return{s:r,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(a)throw i}}}}function ct(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,l=new Array(n);t<n;t++)l[t]=e[t];return l}var ut={width:"320px"},dt=function e(n){var t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=at(n);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.key,a=i.checkable,c=i.children;c&&e(c,l),!1!==a&&l.push(o)}}catch(e){r.e(e)}finally{r.f()}return l},st=function(){var e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var t="object"===(0,lt.c)(n)?it()(n):n;e[t]=!0})),e},ft=function(e){var n=e.mode,t=void 0===n?"multiple":n,l=e.treeData,i=e.checkedKeys,o=e.onSelect,a=e.onCheck,c=e.triggerText,u=e.popperClassName,d=e.popperStyle,s=void 0===d?ut:d,f=e.treeProps,m=void 0===f?{}:f,p=e.showCheckAll,v=void 0===p||p,h=(null==i?void 0:i.length)||0,y=(0,B.useState)(!1),g=(0,A.c)(y,2),C=g[0],b=g[1],E=(0,B.useMemo)((function(){return dt(l)}),[l]),k=(0,B.useCallback)((function(e){b(e)}),[]),N=(0,B.useMemo)((function(){return!!(0,Ge.isEqual)(st(E),st(i||[]))}),[i,E]),T=(0,B.useMemo)((function(){return!(!i.length||(0,Ge.isEqual)(st(E),st(i||[])))}),[i]);return O().createElement(Z.Tooltip,{tip:O().createElement("div",{className:ot.c["popper-wrapper"]},O().createElement(un.c,(0,M.c)({treeData:l||[],checkedKeys:i,onCheck:function(e,n){null==a||a(e)},onSelect:function(e,n){null==o||o(e,n),b(!1)},expandOnClickNode:!1,checkable:!0,virtual:!1},m)),"multiple"===t&&v&&l.length>0&&O().createElement("div",{className:ot.c.total},O().createElement(Z.Checkbox,{className:ot.c.checkbox,onChange:function(e){var n=e.target.checked;null==a||a(n?E:[])},indeterminate:T,checked:N},"全选"),O().createElement("span",{className:ot.c.checked},"已选：",O().createElement("span",{className:ot.c.checkedNum},h)))),placement:"topLeft",trigger:"click",visible:C,onVisibleChange:k,arrow:!1,popperClassName:q()(ot.c.panel,u),popperStyle:s},O().createElement(r.c,{type:"text",major:!0,icon:{prefix:"ncicon",type:"zengjia-yuan"}},c))};ft.displayName="AddTreeItem";var mt=7876==t.j?ft:null,pt=t(60792)},10532:function(e,n,t){t(87912),t(97308);var l=t(13939),r=t.n(l),i=t(34716),o=t.n(i),a=t(70696),c=t.n(a),u=t(4884),d=t.n(u),s=t(3464),f=t.n(s),m=t(51400),p=t.n(m),v=t(25028),h=t.n(v),y=t(2664),g=t(30112),C=t(34984),b=t(65984),E=t.n(b),k=t(65316),N=t(39756),T=t(23832),w=t(46244),F=t(14020),x=["controlMeta","children","tipsTrigger"];function I(e,n){var t=r()(e);if(o()){var l=o()(e);n&&(l=c()(l).call(l,(function(n){return d()(e,n).enumerable}))),t.push.apply(t,l)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){(0,g.c)(e,n,t[n])})):f()?p()(e,f()(t)):I(Object(t)).forEach((function(n){h()(e,n,d()(t,n))}))}return e}var S=(0,b.forwardRef)((function(e,n){var t=e.controlMeta,l=e.children,r=e.tipsTrigger,i=void 0===r?"click":r,o=(0,C.c)(e,x),a=(0,b.useRef)(null),c=(0,b.useContext)(N.m).model,u=t.caption,d=t.LabelWidth,s=(t.ShowTitle,t.TitleArea),f=t.helpTips,m=t.mi,p=t.rules,v=t.Status,h=t.labelDirection,g=!(0,F.sJ)(s),I={width:d},S=c.getControlText(u),M=v===w.O4.READONLY,A=c.getFormStatus(),D=c.getPageOptions(),R=h||(null==D?void 0:D.labelDirection),V=f||t.HelpTips,B="h"===R?{}:{marginBottom:"4px"};return(0,T.y8)(A)&&(I=_(_({},I),{},{color:"#666666"},B)),M&&(I=_(_({},I),B)),(0,b.useImperativeHandle)(n,(function(){var e,n;return{setValidateMessage:null===(e=a.current)||void 0===e?void 0:e.setValidateMessage,validateFields:null===(n=a.current)||void 0===n?void 0:n.validateFields}})),E().createElement(k.c,(0,y.c)({ref:a,labelText:S,required:!M&&m,labelStyle:I,showTitle:g,tips:V,tipsTrigger:i,rules:p},o,{labelDirection:R,labelWrap:!0}),l)}));n.c=S},92140:function(e,n,t){t.r(n),t.d(n,{Main:function(){return y},openLink:function(){return h.k},showConfirm:function(){return v.showConfirm},showErrMsg:function(){return v.showErrMsg},showMessage:function(){return v.showSysMessage},showModalForm:function(){return p},showNotificationMsg:function(){return v.showNotificationMsg}});var l=t(72048),r=t(65984),i=t.n(r),o=t(39756),a=t(52825),c=t(56492),u=(t(85712),t(16428)),d=t.n(u),s=t(63548),f="VNQadocw_main_modal",m=t(14020),p=function(e,n){var t=e.pageId,l=e.param,r=n.getConfig(t).caption,o=document.createDocumentFragment(),a=(0,m.k3)(520,768);document.body.appendChild(o);var c=function(){d().unmountComponentAtNode(o),document.body.removeChild(o)};return d().render(i().createElement(s.Modal,{title:n.getControlText(r)||"",footer:null,width:1080,height:a,className:f,maskClosable:!1,getContainer:function(){return o},destroyOnClose:!0,bodyStyle:{padding:0,display:"flex",overflow:"hidden"},body:i().createElement(y,{model:n,meta:l,pageId:t}),onCancel:c}),o),c},v=t(71500),h=t(80436),y=function(e){var n=e.meta,t=e.model,u=e.pageId,d=e.metaTransform,s=(0,r.useState)(n),f=(0,l.c)(s,2),m=f[0],p=f[1],v=(0,r.useReducer)((function(e){return e+1}),0),h=(0,l.c)(v,2)[1],y=(0,r.useCallback)((function(e){var n=e.pageId;u===n&&h()}),[u]);return t.useRefreshFormMeta({pageId:u},(function(){return p((null==d?void 0:d(t.getAllMeta()))||t.getAllMeta())})),t.useRefreshFormStatus(y),c.c.init(a,m),m.size,i().createElement(o.m.Provider,{value:{meta:m,model:t}},c.c.getChildren({pageId:u,id:""},m))}},5680:function(e,n,t){t.r(n),t.d(n,{SystemFields:function(){return qn},VALUE_EMPTY_COMPARE_TYPE:function(){return on},canClearSourceField:function(){return Pe},checkDateRangeEnable:function(){return cn},createNewValue:function(){return Ge},createValue:function(){return He},exludeEmptyListFilterConfig:function(){return et},filterCompareTypes:function(){return Te},filterDataTransform:function(){return we},filterItemCompareTypes:function(){return Ne},filterNoValue:function(){return an},filterTreeData:function(){return wn},filterVariablesTree:function(){return Fn},filterVariablesTreeFlow:function(){return An},filterVariablesTreeMap:function(){return Tn},getCompareTypeCaption:function(){return Fe},getCompareTypeCaptionByCompareType:function(){return xe},getCompareTypeOptions:function(){return _e},getDefaultClassName:function(){return Be},getDefaultCompareTypeValue:function(){return Ie},getFieldValue:function(){return rn},getFilterOptions:function(){return Ae},getFilterValueAndVar:function(){return ln},getFlowTypeByParam:function(){return Dn},getMultiFieldValue:function(){return We},getMultiNewFieldValue:function(){return $e},getMultiRefFieldValue:function(){return Ye},getNewCompareType:function(){return Le},getNewCompareTypes:function(){return je},getNewDefaultFilterData:function(){return Ve},getNewDefaultFilterDataExcept:function(){return Re},getNewEnumFilterDefaultValue:function(){return De},getNewValue:function(){return Ze},getNewVerifyData:function(){return un},getSelItem:function(){return ze},getTreeSelectFieldValue:function(){return Qe},getValue:function(){return Je},getValueTypeByCompareType:function(){return Se},getValueTypeByType:function(){return Me},getVarSelectDisabled:function(){return nt},getVarSelectedKeysInfo:function(){return tn},modelReg:function(){return nn},transform2Options:function(){return Oe},varReg:function(){return Xe},varRegList:function(){return en}});var l,r,i,o,a,c,u,d,s,f,m,p,v,h,y,g,C,b,E,k,N,T,w,F,x,I,_,S,M,A=t(13939),D=t.n(A),R=t(34716),V=t.n(R),B=t(4884),O=t.n(B),L=t(3464),j=t.n(L),P=t(51400),z=t.n(P),U=t(25028),G=t.n(U),H=t(81043),q=t(72048),K=t(58496),W=t(30112),Y=(t(86456),t(21300),t(87912),t(33768),t(18080),t(97308),t(1900)),$=t.n(Y),Q=t(50524),Z=t.n(Q),J=t(70696),X=t.n(J),ee=t(23992),ne=t.n(ee),te=t(38456),le=t.n(te),re=t(35680),ie=t.n(re),oe=t(52892),ae=t.n(oe),ce=t(760),ue=t.n(ce),de=t(33260),se=t.n(de),fe=t(94728),me=t.n(fe),pe=t(68456),ve=t.n(pe),he=t(11908),ye=t.n(he),ge=t(60644),Ce=t(64947),be=t(37668);function Ee(e,n){var t=D()(e);if(V()){var l=V()(e);n&&(l=X()(l).call(l,(function(n){return O()(e,n).enumerable}))),t.push.apply(t,l)}return t}function ke(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ee(Object(t),!0).forEach((function(n){(0,W.c)(e,n,t[n])})):j()?z()(e,j()(t)):Ee(Object(t)).forEach((function(n){G()(e,n,O()(t,n))}))}return e}var Ne=function(e,n,t){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["001"],r=$()(n).call(n,(function(n){return(e.fieldName===n.fieldName||e.key===n.fieldName)&&Z()(l).call(l,n.compareType)})),i=n[r];if(i&&t!==r){var o,a=X()(o=e.compareTypes).call(o,(function(e,n){return e.id!==i.compareType}));return ke(ke({},e),{},{compareTypes:a})}return e},Te=function(e,n){var t,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["001"],r=$()(n).call(n,(function(n){return(e.fieldName===n.fieldName||e.key===n.fieldName)&&Z()(l).call(l,n.compareType)})),i=n[r];return i?X()(t=e.compareTypes).call(t,(function(e,n){return e.id!==i.compareType})):e.compareTypes},we=function(e,n){return n=X()(n).call(n,Boolean),ne()(e).call(e,(function(t,l){var r=(0,Ce.dfs)(n,(function(e){return e.fieldName===t.fieldName||e.key===t.fieldName}))||{};return r=Ne(r,e,l),(t=ke(ke({},r),t)).compareTypeCaption=xe(r.compareTypes,t.compareType),t}))},Fe=function(e){var n;return null==e||null===(n=e.name)||void 0===n?void 0:n.zh_CN},xe=function(e,n){var t,l=null==e?void 0:le()(e).call(e,(function(e){return e.id===n}));return null==l||null===(t=l.name)||void 0===t?void 0:t.zh_CN},Ie=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;return(null==t||null===(e=le()(t).call(t,(function(e){return e.id===l})))||void 0===e?void 0:e.id)||(null===(n=t[0])||void 0===n?void 0:n.id)},_e=function(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var t={label:n.name.zh_CN,value:n.id};e.push(t)})),e},Se=function(e,n){var t;return(null==n||null===(t=le()(n).call(n,(function(n){return n.id===e})))||void 0===t?void 0:t.inputCtlType)||"text"},Me=function(e){var n,t,l=e.type,r=e.SelectItemType,i=null==l?void 0:ie()(n=ie()(t=ie()(l).call(l,"nocode","")).call(t,"nocode","")).call(n,"field","");return"decimal"===i?"number":"date"===i?"datetime":"daterange"===i?"dateRange":"selectitem"===i&&1==r?"multiSelect":"selectitem"===i?"select":"imageupload"===i?"picture":"mulrefbill"===i||"refbilltable"===i?"refbill":"graphicdisplay"===i?"richtext":"attachmentupload"===i?"attachment":i},Ae=function e(){var n=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var l=t.fieldCaption,r=t.fieldName,i=t.children,o=t.type,a={label:l,value:r,titlePrefix:t.titlePrefix};"group"===o&&(a.selectable=!1),i&&(a.children=e(i)),n.push(a)})),n},De=function(e){var n=(e||{}).groupInfo;return null==n?void 0:ne()(n).call(n,(function(e){return{label:e.label,type:e.type,fieldValue:e.fieldValue}}))},Re=function(e,n,t){var l,r=(0,Ce.dfs)(e,(function(e){return e.fieldName===n||e.key===n}));if(r){var i=(null===(l=Te(r,t))||void 0===l?void 0:l[0])||"";return{fieldName:n,compareType:i.id,value:[]}}},Ve=function(e,n){var t;if(n){var l=(0,Ce.dfs)(e,(function(e){return e.fieldName===n||e.key===n}));if(l)return{fieldName:n,compareType:null==l||null===(t=l.compareTypes[0])||void 0===t?void 0:t.id,value:[]}}},Be=function(e){switch(e){case"preConnect":return"connect-char";case"field":return"filter";case"compareType":return"compare-type";case"value":return"value"}},Oe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh_CN";return null==e?void 0:ne()(e).call(e,(function(e){return{label:e.name[n],value:e.value}}))},Le=function(e,n){var t,l=(0,Ce.dfs)(e,(function(e){return e.fieldName===n||e.key===n}));return null==l||null===(t=l.compareTypes[0])||void 0===t?void 0:t.id},je=function(e,n,t){var l,r,i=Array.isArray(n)?n[0]:n,o=(0,Ce.dfs)(e,(function(e){return e.fieldName===i||e.key===i}));return(null==o||null===(l=o.compareTypes)||void 0===l||null===(l=X()(l).call(l,(function(e){return e.id===t})))||void 0===l?void 0:l.length)>0?{canChange:!1,compareType:t}:{canChange:!0,compareType:null==o||null===(r=o.compareTypes)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.id}},Pe=function(e,n){var t=(0,Ce.dfs)(e,(function(e){return e.key===n}));return void 0!==t&&!1!==t.selectable},ze=function(e,n){var t=Array.isArray(n)?n[0]:n;return(0,Ce.dfs)(e,(function(e){return e.fieldName===t||e.key===t}))},Ue=function(e,n){return"dateRange"===n?[{fieldValue:e.start||""},{fieldValue:e.end||""}]:"number"===n?[{fieldValue:null!=e?e:""}]:[{fieldValue:e||""}]},Ge=function(e,n){return Array.isArray(e)?[{fieldValue:e.join(",")||""}]:e?Ue(e,n):[]},He=function(e,n){var t,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=new(ae());l.length&&l.forEach((function(e){r.set(e.value,{fieldValue:e.value,label:e.label,type:"normal"})})),e="refbill"===n&&1===e.length?e[0]:e;var i=Z()(t=["refbill","select","multiSelect"]).call(t,n);return Array.isArray(e)?ne()(e).call(e,(function(e){var n,t=Array.isArray(e)?e[0]:e;return null!==(n=e=i&&l.length?r.get(t)||t:e)&&void 0!==n&&n.type?e:{fieldValue:e||""}})):e?i&&l.length?r.get(e)?[r.get(e)]:[]:Ue(e,n):[]},qe=function(e){var n,t;return null!==(n=e[0])&&void 0!==n&&n.fieldValue?null===(t=e[0])||void 0===t?void 0:t.fieldValue:""},Ke=function(e){var n,t;return{start:(null===(n=e[0])||void 0===n?void 0:n.fieldValue)||"",end:(null===(t=e[1])||void 0===t?void 0:t.fieldValue)||""}},We=function(e){return null==e?void 0:ne()(e).call(e,(function(e){return e.fieldValue}))},Ye=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=[];return null==e||e.forEach((function(e){return t.push(e.fieldValue)})),!0===n||null===n?[t]:t},$e=function(e){var n,t,l=null!==(n=e[0])&&void 0!==n&&n.fieldValue?null===(t=e[0])||void 0===t||null===(t=t.fieldValue)||void 0===t?void 0:t.split(","):[];return l.length?null==l?void 0:ne()(l).call(l,(function(e){return e})):[]},Qe=function(e){return null==e?void 0:ne()(e).call(e,(function(e){return e.label}))},Ze=function(e,n,t){var l,r=(t||{}).groupInfo;null==r||ne()(r).call(r,(function(e){return{label:e.label,type:e.type,fieldValue:e.fieldValue}}));return"enum_eq"===e?n:"multiSelect"===e?$e(n):"treeSelect"===e?Qe(n):"dateRange"===e?Ke(n):"refbill"===e?$e(n):"number"===e?null===(l=n[0])||void 0===l?void 0:l.fieldValue:qe(n)},Je=function(e,n,t){var l,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=(t||{}).groupInfo;null==i||ne()(i).call(i,(function(e){return{label:e.label,type:e.type,fieldValue:e.fieldValue}}));return"enum_eq"===e?n:"multiSelect"===e?We(n):"treeSelect"===e?Qe(n):"dateRange"===e?Ke(n):"refbill"===e?Ye(n,r):"number"===e?null===(l=n[0])||void 0===l?void 0:l.fieldValue:qe(n)},Xe=/\${(\S*)\}/,en=[/\${(\S*)\}/,/^disp\((.+?)\)/],nn=/\${model.(\S*)\}/,tn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={};return Array.isArray(e)&&e.forEach((function(e){if(null!=e&&e.fieldValue){var l=e.fieldValue;if(i=l,en.some((function(e){return e.test(i)}))){var r=n[l]||{};t[l]=r.title!==(null==e?void 0:e.label)?r.title:null==e?void 0:e.label}}var i})),t},ln=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[];return(0,ge.isArray)(e)&&e.forEach((function(e,l){t[l]=n[null==e?void 0:e.fieldValue]?null==e?void 0:e.fieldValue:""}),[]),t},rn=function(e,n){if(!e||0===(null==e?void 0:e.length))return"";var t=[],l={};return(null==n?void 0:n.length)>0?(n.forEach((function(e){l[e.value]=e.name.zh_CN})),e.forEach((function(e){"object"===(0,K.c)(e)?t.push(e.label||l[e.fieldValue]):t.push(e)}))):e.forEach((function(e){"object"===(0,K.c)(e)?t.push(e.label||e.fieldValue):t.push(e)})),t.join("、")},on=["501","502","701","702","1701","1702"],an=function(e){return ne()(e).call(e,(function(e){var n=e.fieldCaption,t=e.fieldName,l=e.compareType,r=cn(e);if(r)return r;var i=!!e.value.length&&e.value.every((function(e){return!(null==e||!e.fieldValue)||"empty"===(null==e?void 0:e.type)}));return{fieldName:t,msg:"".concat(n,"值不能为空"),verifyStatus:i||Z()(on).call(on,l)}}))},cn=function(e){var n=e.fieldName,t=e.compareType,l=e.compareTypes,r=e.value;if("dateRange"===Se(t,l)&&("401"===t||"402"===t)&&2===(null==r?void 0:r.length)&&r.every((function(e){return e.fieldValue&&Date.parse(e.fieldValue)}))){var i=(0,q.c)(r,2),o=i[0],a=i[1],c=o.fieldValue,u=a.fieldValue;if(Date.parse(c)>Date.parse(u))return(0,be.s9)("日期范围不正确：结束日期不能早于开始日期。"),{fieldName:n,msg:"日期范围不正确：结束日期不能早于开始日期。",verifyStatus:!1,type:"range"}}},un=function(e,n){var t,l=ue()(t=[]).call(t,n);return l[e].verifyStatus=!0,l},dn=["NoCodeDateField","NoCodeDateRangeField","NoCodeCreateDateField","NoCodeModifyDateField","date"],sn=["NoCodeTextField","NoCodeTextAreaField","text","textarea","MuliLangTextField","TextField"],fn=["NoCodeTextField","NoCodeTextAreaField","NoCodeSelectItemField","MuliLangTextField","TextField","ComboField","OrgField","text","combo"],mn=["NoCodeModifierField","NoCodeCreatorField","user","refbill","pk"],pn=["org","refbill","nocodemulrefbillfield","pk"],vn=ue()(l=["NoCodeBillNoField"]).call(l,sn),hn=["nocodemulrefbillfield","nocodecreatorfield","nocodemodifierfield","NoCodeMulRefBillField"],yn=["nocoderefbilltable","NoCodeRefBillTable"],gn=["bos_user","bos_adminorg"],Cn=["refbill","pk"],bn=["NoCodeDecimalField","number"],En=["NoCodeSelectItemField","ComboField","combo"],kn=["NoCodeRichTextField"],Nn=["NoCodeGraphicDisplayField"],Tn={nocodebillnofield:ue()(r=["NoCodeBillNoField"]).call(r,sn),nocodetextfield:ue()(i=[]).call(i,(0,H.c)(vn),bn,En,dn),nocodetextareafield:ue()(o=[]).call(o,(0,H.c)(vn),bn,En,dn),nocodedecimalfield:ue()(a=[]).call(a,sn,bn,En),nocodeselectitemfield:ue()(c=[]).call(c,sn,bn,En,dn),nocodemulrefbillfield:["NoCodeMulRefBillField"],nocodedatefield:ue()(u=[]).call(u,sn,dn,En),date:ue()(d=[]).call(d,sn,dn,En),nocodedaterangefield:ue()(s=[]).call(s,sn,dn,En),nocodemodifydatefield:ue()(f=[]).call(f,sn,dn,En),nocodecreatedatefield:ue()(m=[]).call(m,sn,dn,En),nocodeimageuploadfield:["NoCodeImageUploadField"],nocodeattachmentuploadfield:["NoCodeAttachmentUploadField"],nocoderichtextfield:ue()(p=[]).call(p,kn,Nn),nocodegraphicdisplayfield:ue()(v=[]).call(v,kn,Nn),nocodecreatorfield:mn,nocodemodifierfield:mn,mulilangtextfield:ue()(h=[]).call(h,(0,H.c)(vn),bn,En,dn),textfield:ue()(y=[]).call(y,(0,H.c)(vn),bn,En,dn),combofield:ue()(g=[]).call(g,sn,bn,En,dn),combo:ue()(C=[]).call(C,sn,bn,En,dn),orgfield:sn,text:ue()(b=[]).call(b,(0,H.c)(vn),bn,En,dn),textarea:ue()(E=[]).call(E,(0,H.c)(vn),bn,En,dn),number:ue()(k=[]).call(k,sn,bn,En),select:ue()(N=[]).call(N,sn,bn,En,dn),refbill:["refbill","pk"],org:["org","pk","refbill"],user:["user","pk","refbill"],nocoderefbilltable:ue()(T=[]).call(T,yn,hn)},wn=function(e,n){return In(e,n,!0)},Fn=function(e,n){return In(e,n,!1)},xn=function(e,n,t){return!n||!0===t||!0!==e},In=function(e,n,t){return n?_n(e,function(e){var n,t,l=null==e||null===(n=e.type)||void 0===n?void 0:n.toLowerCase(),r=Z()(t=["nocodecreatorfield","nocodemodifierfield"]).call(t,l)?"bos_user":e.entityId,i="bos_user"===r?mn:Tn[l]||fn;return"bos_adminorg"===r&&(i=pn),{entityId:r,type:l,containList:i,isMulti:(null==e?void 0:e.isMulti)||!1,selBillValue:null==e?void 0:e.selBillValue,key:(null==e?void 0:e.fieldName)||(null==e?void 0:e.key)}}(n),t):e},_n=function e(n,t,l){var r=(0,ge.cloneDeep)(n);return me()(r).call(r,(function(n,r){var i=null==r?void 0:r.children;return i&&(r.children=e(i,t,l)),Mn(r,t,l)?ue()(n).call(n,r):n}),[])},Sn=function(e,n){var t;return(e.entityId===n||(null==e||null===(t=e.option)||void 0===t?void 0:t.billEntityId)===n)&&null!==e.entityId},Mn=function(e,n,t){var l,r,i=n.type,o=n.entityId,a=n.containList,c=n.isMulti,u=n.selBillValue,d=n.key;if(Z()(hn).call(hn,i)||null!=i&&Z()(i).call(i,"nocodemulrefbillfield")){var s;if(Z()(gn).call(gn,o))if((null!=o&&ve()(o).call(o,e.type)||a&&null!==(s=e.type)&&void 0!==s&&Z()(s).call(s,"NoCodeMulRefBillField")&&e.entityId===o||(null==e?void 0:e.entityId)===o&&null!=a&&Z()(a).call(a,e.type))&&xn(e.isMulti,t,c))return!0;if(u===o&&xn(e.isMulti,t,c)&&"currentRecord"===e.key)return!0;if(Z()(Cn).call(Cn,e.type)&&!Z()(gn).call(gn,e.entityId)&&null!==e.entityId&&Sn(e,o))return!0;if(xn(e.isMulti,t,c)&&(Z()(yn).call(yn,e.type)||Z()(hn).call(hn,e.type))&&Sn(e,o))return!0}else if(Z()(yn).call(yn,i)){if((e.isMulti||u===o)&&"currentRecord"===e.key)return!0;if((Z()(Cn).call(Cn,e.type)||Z()(yn).call(yn,i)&&xn(e.isMulti,t,c))&&Sn(e,o))return!0}else{var f,m,p,v,h,y;if("nocodebillnofield"===i&&function(e){return["fbasedataid.name","fbasedataid.type","fbasedataid.size"].some((function(n){return se()(e).call(e,n)>-1}))}(e.key))return!1;if(Z()(f=["nocodedecimalfield","nocodedatefield","nocodedaterangefield","nocodecreatedatefield","nocodemodifydatefield","date"]).call(f,i)&&se()(m=e.key).call(m,"fbasedataid.type")>-1)return!1;if((null==d?void 0:se()(d).call(d,"fbasedataid.type"))>-1&&Z()(p=ue()(v=[]).call(v,bn,dn,["NoCodeBillNoField"])).call(p,e.type))return!1;if((null==d?void 0:se()(d).call(d,"fbasedataid.name"))>-1&&"NoCodeBillNoField"===e.type)return!1;var g="nocodedecimalfield"===i&&(null!=e&&null!==(h=e.value)&&void 0!==h&&ve()(h).call(h,"ExecuteResult.QueryResult}")||null!=e&&null!==(y=e.value)&&void 0!==y&&ve()(y).call(y,".nocodebillnofield}"))?"other":e.type;if(null!=a&&Z()(a).call(a,"combo")&&null!=g&&ye()(g).call(g,"combo")||null!=a&&Z()(a).call(a,g)){if("nocodeselectitemfield"===i&&xn(e.isMulti,t,c))return!0;if("nocodeselectitemfield"!==i)return!0}}if((null===(l=e.children)||void 0===l?void 0:l.length)>0)return e.selectable=!1,!0;var C=Qn(e.key||e.value);return!C||null!==(r=Wn[C])&&void 0!==r&&Z()(r).call(r,e.type),!1},An=function(e){var n,t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=l.type,i=l.id,o=l.fieldName,a=l.canMulit,c=l.flowEditorType;if(!r)return e;null!=o||Array.isArray(l.value)||(o=l.value);var u=(null==l?void 0:l.entityId)||(null==l||null===(n=l.option)||void 0===n?void 0:n.billEntityId),d=(null==l?void 0:l.isMulti)||(null==l||null===(t=l.option)||void 0===t?void 0:t.isMulti)||!1;a?ye()(r).call(r,"combo")&&(r="combo"):ye()(r).call(r,"combo")||"multiSelect"===r?r="select":"datetime"===r||"dateRange"===r?r="date":"refbill"===r&&"bos_user"===u?r="user":"refbill"===r&&"bos_adminorg"===u&&(r="org");var s=Tn[r];return Rn(e,{fieldName:o,id:i,type:r,entityId:u,isMulti:d,containList:s,canMulit:a,flowEditorType:c})},Dn=function(e){var n=e.key,t=e.fieldName,l=e.id;return Qn(n||t||l)},Rn=function e(n,t){var l=(0,ge.cloneDeep)(n);return me()(l).call(l,(function(n,l){var r=null==l?void 0:l.children;if(r){var i,o;if(Z()(i=["refbill","user","org"]).call(i,t.type))l.selectable=(null==l||null===(o=l.option)||void 0===o?void 0:o.billEntityId)===(null==t?void 0:t.entityId);else l.selectable=l.type===t.type;l.children=e(r,t)}return Xn(l,t)?ue()(n).call(n,l):n}),[])},Vn="trigger",Bn="procName",On="nodeName",Ln="record",jn="searchResult",Pn="requestStatus",zn="statusCode",Un="assignee",Gn="auditNumber",Hn="token",qn=7876==t.j?["nocodecreatorfield","nocodemodifierfield","nocodecreatedatefield","nocodemodifydatefield"]:null,Kn=(0,W.c)((0,W.c)((0,W.c)((0,W.c)((0,W.c)((0,W.c)((0,W.c)((0,W.c)((0,W.c)((0,W.c)({},Vn,"${model.id}"),Bn,"procName"),On,"NodeName"),Ln,"ExecuteResult.id"),jn,"ExecuteResult.QueryResult"),Pn,"RequestStatus"),zn,"StatusCode"),Un,"Assignee"),Gn,"AuditNumber"),Hn,"BASIC_AUTH_TOKEN"),Wn={procName:ue()(w=[]).call(w,sn,bn,En,dn),nodeName:ue()(F=[]).call(F,sn,bn,En,dn),statusCode:ue()(x=[]).call(x,sn,bn,En),token:ue()(I=[]).call(I,sn,mn),auditNumber:ue()(_=[]).call(_,sn,En),searchResult:ue()(S=[]).call(S,sn,En),requestStatus:ue()(M=[]).call(M,sn,En),assignee:Tn.user},Yn=(0,W.c)((0,W.c)((0,W.c)((0,W.c)((0,W.c)((0,W.c)((0,W.c)({},Bn,[Bn,On,zn,Gn,jn,Pn]),On,[Bn,On,zn,Gn,jn,Pn]),zn,[Bn,On,zn]),Hn,[Hn]),Gn,[Bn,On,Gn]),jn,[Bn,On,jn]),Pn,[Bn,On,Pn]),$n="judgefilter",Qn=function(e){for(var n in Kn)if(null!=e&&Z()(e).call(e,Kn[n]))return n},Zn=function(e){return null==e?void 0:Z()(e).call(e,"nocodebillnofield")},Jn=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null==n||null===(e=ye()(n))||void 0===e?void 0:e.call(n,"combo")},Xn=function(e,n){var t,l=n.fieldName,r=n.id,i=n.type,o=n.entityId,a=n.containList,c=n.canMulit,u=n.flowEditorType,d=n.key,s=n.isMulti,f=!1,m=Qn(d||l||r);if(m&&"calcSetting"===u)return!1;var p=Jn(e.type);if(null!=a&&Z()(a).call(a,e.type)||null!=a&&Z()(a).call(a,"combo")&&p){var v,h,y,g,C,b=Qn(e.key);if(m&&b)f=null===(v=Yn[m])||void 0===v?void 0:Z()(v).call(v,b);else if(m||b){var E;if(Zn(d)||Zn(e.key))return!1;var k=m||b,N=m?e.type:i;f=null===(E=Wn[k])||void 0===E?void 0:Z()(E).call(E,N)}else{var T=Tn.nocodebillnofield,w=Zn(d),F=Zn(e.key);if(w||F)return Z()(T).call(T,w?e.type:i);f=!0}if(void 0!==o)if((null==e||null===(h=e.option)||void 0===h?void 0:h.billEntityId)!==o&&e.formId!==o||null===(null==e||null===(y=e.option)||void 0===y?void 0:y.BillEntityId))f=!1;else f=u===$n||!(null!=e&&null!==(g=e.option)&&void 0!==g&&g.isMulti)||s&&(null==e||null===(C=e.option)||void 0===C?void 0:C.isMulti);else if(Jn(i)&&p&&c){var x,I;f=u===$n||!(null!=e&&null!==(x=e.option)&&void 0!==x&&x.isMulti)||s&&(null==e||null===(I=e.option)||void 0===I?void 0:I.isMulti)}}return(null===(t=e.children)||void 0===t?void 0:t.length)>0||f},et=function(e){return me()(e).call(e,(function(e,n){var t=n.compareTypes;return null!=t&&t.length?ue()(e).call(e,n):e}),[])},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(e.type,e.compareType,e.fieldName);e.editorType;if(null!=n&&Z()(n).call(n,"gender"))return!0}},64947:function(e,n,t){t.r(n),t.d(n,{dfs:function(){return K},excludeTreeNodeByKeys:function(){return $},exludeTreeNodeByCallback:function(){return Y},filterListConfigField:function(){return Z},formatFieldTree:function(){return W},getListConfigPure:function(){return X},getListSortConfig:function(){return ee},getMultiRefChildrenExclude:function(){return re},getTextWidth:function(){return ne},getTreeDataFlatten:function(){return Q},transformListConfigToTree:function(){return q},transformTreeNodeTitle:function(){return te},transformTreeToListConfig:function(){return le},treeNodeTransform:function(){return J}});t(21300),t(33768),t(90512);var l=t(73980),r=t.n(l),i=t(13440),o=t.n(i),a=t(59992),c=t.n(a),u=t(60600),d=t.n(u),s=t(13939),f=t.n(s),m=t(34716),p=t.n(m),v=t(70696),h=t.n(v),y=t(4884),g=t.n(y),C=t(3464),b=t.n(C),E=t(51400),k=t.n(E),N=t(25028),T=t.n(N),w=t(34984),F=t(30112),x=t(81043),I=(t(87912),t(97308),t(94728)),_=t.n(I),S=t(760),M=t.n(S),A=t(50524),D=t.n(A),R=t(23992),V=t.n(R),B=t(79012),O=["children"],L=["children"],j=7876==t.j?["key","title","titlePrefix","children"]:null,P=["children"];function z(e,n){var t=f()(e);if(p()){var l=p()(e);n&&(l=h()(l).call(l,(function(n){return g()(e,n).enumerable}))),t.push.apply(t,l)}return t}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){(0,F.c)(e,n,t[n])})):b()?k()(e,b()(t)):z(Object(t)).forEach((function(n){T()(e,n,g()(t,n))}))}return e}function G(e,n){var t=void 0!==c()&&d()(e)||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){var t;if(!e)return;if("string"==typeof e)return H(e,n);var l=r()(t=Object.prototype.toString.call(e)).call(t,8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return o()(e);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return H(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var l=0,i=function(){};return{s:i,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==t.return||t.return()}finally{if(s)throw a}}}}function H(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,l=new Array(n);t<n;t++)l[t]=e[t];return l}var q=function e(n){return n?_()(n).call(n,(function(n,t){var l=t.fieldName,r=t.fieldCaption,i=t.children,o=t.type,a=t.typeCaption,c=t.isMulti,u={key:l,title:r,titlePrefix:a,type:o,isMulti:c,entityId:t.entityId,selectable:"group"!==o};return!c&&i&&(u.children=e(i)),M()(n).call(n,u)}),[]):n},K=function e(n,t){var l,r=G(n);try{for(r.s();!(l=r.n()).done;){var i=l.value;if(t(i))return i;if(i.children){var o=e(i.children,t);if(o)return o}}}catch(e){r.e(e)}finally{r.f()}};function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=arguments.length>3?arguments[3]:void 0,r=(0,x.c)(e);return r.forEach((function(e){var r,i,o=e||{},a=o.type,c=o.option,u=o.children,d=o.key,s=D()(r=["pk","refbill","user","org"]).call(r,a),f=!(null==c||!c.hasOwnProperty("cannotAssign"))||(null==c?void 0:c.isMulti);e.pKey=n;var m,p=function(e){l&&"string"==typeof e.title&&(e.mark=e.title,e.title=null==l?void 0:l(e.title,e))};(p(e),s&&f&&null!=c&&null!==(i=c.children)&&void 0!==i&&i.length)?(e.children=V()(m=c.children).call(m,(function(e){return p(e),U(U({},e),{},{key:e.value,pKey:d})})),"pk"===a&&t&&W(e.children,d,!1,l)):null!=u&&u.length&&W(u,d,t,l)})),r}var Y=function e(n,t){return n?_()(n).call(n,(function(n,l){var r=l.children,i=U({},l);return r&&(i.children=e(r,t)),t?null!=t&&t(i)?M()(n).call(n,i):n:M()(n).call(n,i)}),[]):n},$=function(e,n){return Y(e,(function(e){var t=e.key,l=e.children;return!!("group"!==e.type||null!=l&&l.length)&&!D()(n).call(n,t)}))},Q=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n&&n.forEach((function(n){var l;if(null!==(l=n.children)&&void 0!==l&&l.length){e(n.children,t);var r=U({},n);delete r.children,t[n.key]=r}else t[n.key]=n})),t},Z=function(e){return!e.isDesensitizeField},J=function e(n,t){return n?_()(n).call(n,(function(n,l){var r=l.children,i=U({},l);if(r&&(i.children=e(r,t)),t){var o=t(i);return o?M()(n).call(n,o):n}return M()(n).call(n,i)}),[]):n},X=function(e){return J(e,(function(e){var n=e.children,t=(0,w.c)(e,O),l=t.isDesensitizeField,r=t.isMulti,i=t.type,o=t.key;if(l||"NoCodeAttachmentUploadField"===i)return!1;if("NoCodeImageUploadField"===i&&o.split(".").length>1)return!1;if(D()(o).call(o,"fbasedataid")&&o.split(".fbasedataid")[0].split(".").length>1)return!1;return!r&&n?e:t}))},ee=function(e){return J(e,(function(e){var n,t=e.children,l=(0,w.c)(e,L),r=l.isMulti,i=l.type;return!r&&t?e:!D()(n=["NoCodeAttachmentUploadField","NoCodeImageUploadField"]).call(n,i)&&l}))},ne=function(e,n){var t=document.createElement("span");t.innerText=e,t.style.fontSize=n+"px",t.style.position="absolute",document.body.appendChild(t);var l=t.offsetWidth;return document.body.removeChild(t),l},te=function e(n,t){return n?_()(n).call(n,(function(n,l){var r,i,o=l.title,a=l.titlePrefix,c=l.children,u=a?M()(r="".concat(a)).call(r,o):o,d=t?M()(i="".concat(t," > ")).call(i,u):u,s=U(U({},l),{},{label:u,fullLabel:d});return a&&(s.title=(0,B.w7)(o,a)),c&&(s.children=e(c,d)),M()(n).call(n,s)}),[]):n},le=function e(n){return n?_()(n).call(n,(function(n,t){var l=t.key,r=t.title,i=t.titlePrefix,o=t.children,a=U({fieldName:l,fieldCaption:r},(0,w.c)(t,j));return i&&(a.typeCaption=i),o&&(a.children=e(o)),M()(n).call(n,a)}),[]):n},re=function(e){return J(e,(function(e){var n=e.children,t=(0,w.c)(e,P);return!t.isMulti&&n?e:t}))}}}]);