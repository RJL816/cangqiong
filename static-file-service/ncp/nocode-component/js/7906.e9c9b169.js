"use strict";(self.webpackChunknocode_component=self.webpackChunknocode_component||[]).push([[7906,2312],{89932:function(e,n){n.c={msg_box:"_2HEP4Mm4_msg_box",nav:"Y2yuQE5o_nav",title:"kHuvBxgG_title",content:"ryQbjIEd_content",text:"mvk2JjuC_text",btns:"T0VMXZWx_btns"}},95416:function(e,n,t){t(87912),t(97308);var l=t(13939),a=t.n(l),r=t(34716),o=t.n(r),c=t(70696),i=t.n(c),u=t(4884),s=t.n(u),d=t(3464),f=t.n(d),m=t(51400),p=t.n(m),v=t(25028),h=t.n(v),y=t(30112),g=t(65984),b=t.n(g),C=t(63548),E=t(42636),k=t(14020);function N(e,n){var t=a()(e);if(o()){var l=o()(e);n&&(l=i()(l).call(l,(function(n){return s()(e,n).enumerable}))),t.push.apply(t,l)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){(0,y.c)(e,n,t[n])})):f()?p()(e,f()(t)):N(Object(t)).forEach((function(n){h()(e,n,s()(t,n))}))}return e}var S=(0,g.memo)((function(e){var n=(null==e?void 0:e.icon)||b().createElement("img",{src:E}),t=(0,k.oA)(null==e?void 0:e.src),l=w(w({},e),{},{icon:n,src:t});return b().createElement(C.Avatar,l)}));n.c=S},62132:function(e,n,t){t.d(n,{c:function(){return o}});var l=t(67584),a=t.n(l),r=t(65984);function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,t=(0,r.useRef)({fn:e,timer:null}).current;return(0,r.useEffect)((function(){t.fn=e}),[e]),(0,r.useCallback)((function(){for(var e=arguments.length,l=new Array(e),r=0;r<e;r++)l[r]=arguments[r];t.timer&&clearTimeout(t.timer),t.timer=a()((function(){t.fn.apply(t,l)}),n)}),[e])}},60792:function(e,n,t){t.d(n,{c:function(){return ge}});var l=t(13939),a=t.n(l),r=t(34716),o=t.n(r),c=t(4884),i=t.n(c),u=t(3464),s=t.n(u),d=t(51400),f=t.n(d),m=t(25028),p=t.n(m),v=t(2664),h=t(58496),y=t(81043),g=t(30112),b=t(72048),C=(t(86456),t(21300),t(76124),t(87912),t(97308),t(70696)),E=t.n(C),k=t(24244),N=t.n(k),w=t(50524),S=t.n(w),x=t(33260),F=t.n(x),T=t(35680),I=t.n(T),D=t(23992),_=t.n(D),R=t(760),A=t.n(R),M=t(99308),P=t.n(M),V=t(73980),L=t.n(V),B=t(24496),z=t.n(B),O=t(3584),K=t.n(O),j=t(72400),H=t.n(j),G=t(65984),q=t.n(G),U=t(38680),W=t(59992),Y=t.n(W),Z=Y()("更新下拉数据"),Q=Y()("设置下拉选中值"),X=Y()("设置下拉选项"),$=Y()("设置F7表格数据"),J=Y()("设置F7表格配置信息"),ee=Y()("设置F7表格请求过滤条件"),ne=(Y()("F7单个删除已选"),Y()("设置F7表格行选择数据")),te=Y()("更新F7表格行选择数据和下标"),le=Y()("设置F7表格行选择数据下标"),ae=Y()("F7点击清空按钮"),re=Y()("设置表格筛选项"),oe=Y()("表格列排序"),ce=t(86132);function ie(e,n){var t=a()(e);if(o()){var l=o()(e);n&&(l=E()(l).call(l,(function(n){return i()(e,n).enumerable}))),t.push.apply(t,l)}return t}function ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ie(Object(t),!0).forEach((function(n){(0,g.c)(e,n,t[n])})):s()?f()(e,s()(t)):ie(Object(t)).forEach((function(n){p()(e,n,i()(t,n))}))}return e}var se={value:[],label:"",options:[],tableData:{rows:[]},tableConfig:{},tableColumn:[],tableColumnData:[],tableFilterData:[],rowSelected:{},selectedKeys:[],colFilter:{},colSort:{}},de=(0,ce.c)((function(e,n){var t=n.type,l=n.payload;switch(t){case Z:e.value=l.value,e.options=l.options,e.label=l.label,e.selectedKeys=l.selectedKeys;break;case Q:e.value=l.value,e.selectedKeys=l.selectedKeys;break;case X:e.options=l;break;case $:e.tableData=l.data;break;case J:e.tableConfig=l.tableConfig,e.rowSelected=l.rowSelected,e.tableColumn=l.tableColumn,e.tableColumnData=l.tableColumnData;break;case re:e.tableFilterData=l;break;case ne:e.rowSelected=l.rowSelected,e.selectedKeys=l.selectedKeys;break;case ae:e.rowSelected=[],e.selectedKeys=[];break;case le:e.selectedKeys=l;break;case te:e.selectedKeys=l.selectedKeys,e.rowSelected=ue(ue({},e.rowSelected),l.rowSelected);break;case ee:e.colFilter[l.key]=l.value;break;case oe:e.colSort=l}})),fe=t(60644),me=t(47906),pe=t(62132),ve=t(14020);function he(e,n){var t=a()(e);if(o()){var l=o()(e);n&&(l=E()(l).call(l,(function(n){return i()(e,n).enumerable}))),t.push.apply(t,l)}return t}function ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?he(Object(t),!0).forEach((function(n){(0,g.c)(e,n,t[n])})):s()?f()(e,s()(t)):he(Object(t)).forEach((function(n){p()(e,n,i()(t,n))}))}return e}var ge=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.controlMeta,l=e.onChange,a=e.baseUrl,r=e.batchInvoke,o=e.getControlText,c=e.addControlAction,i=e.onDownLoad,u=e.batchInvokeListConfig,s=e.batchInvokeQuery,d=e.value,f=e.batchInvokeTable,m=(0,G.useReducer)(de,se),p=(0,b.c)(m,2),g=p[0],C=p[1],k=(0,G.useState)([]),w=(0,b.c)(k,2),x=w[0],T=w[1],D=(0,G.useState)(""),R=(0,b.c)(D,2),M=R[0],V=R[1],B=t.dataRange,O=t.displayProp,j=t.showSelected,W=t.placeholder,Y=t.readonly,le=t.disabled,re=t.hidden,ce=t.key,ie=t.allowClear,ue=t.isMulti,he=t.entityId,ge=t.queryParams,be=t.number,Ce=(0,G.useRef)((null==O?void 0:O.split(","))||[]),Ee=(0,G.useRef)(!1),ke=(0,G.useRef)(g),Ne=(0,G.useRef)({key:"",filter:"",pageNum:1,pageSize:10,sort:""}),we=(me.DataGrid||{}).CellRender,Se=(0,G.useCallback)((function(e){if(l)return l(e);r("updateValue",[],[{},[{k:ce,r:0,v:e}]]),r(U.Se,[[e,0]])}),[l]),xe=(0,G.useCallback)((function(e){var n=e?ue?e:[e]:[];C({type:Q,payload:{value:e,selectedKeys:n}}),Se(n)}),[ue,Se]);(0,G.useEffect)((function(){n&&C({type:Q,payload:{value:d,selectedKeys:d?ue?d:[d]:[]}})}),[ue,n]),(0,G.useEffect)((function(){n&&(d&&null!=d&&d.length?"string"==typeof d&&C({type:Q,payload:{value:d,selectedKeys:d?d.split(","):[]}}):C({type:Q,payload:{value:d,selectedKeys:d||[]}}))}),[d,n]);var Fe=(0,G.useCallback)((function(e){Ne.current=ye(ye({},Ne.current),e);var n=Ne.current,t=n.key,l=E()(n),a=n.pageNum,r=n.pageSize,o=N()(n);he&&s(he,{filter:l,search:t,order_by:o,page_size:r,page_no:a,fieldKey:be})}),[g.tableData,Ne.current,g.selectedKeys,s,he,be]),Te=(0,G.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";V(e),he&&s(he,{search:e,select:O,ids:g.selectedKeys,fieldKey:be})}),[g.value,g.selectedKeys,M,Ne.current,s,he,be]),Ie=(0,pe.c)(Te,300),De=(0,G.useCallback)((function(){Y||le||(V(""),Fe({key:""}),u())}),[Y,le,u,Fe]),_e=(0,G.useCallback)((function(){var e=g.selectedKeys;C({type:Q,payload:{value:ue?e:e.join(),selectedKeys:e}}),Se(e),Te()}),[g.selectedKeys,ue,Se]),Re=(0,G.useCallback)((function(){C({type:ae})}),[g.rowSelected]),Ae=(0,G.useCallback)((function(e,n,t,l){var a,r=g.tableData;"uncheck"!==l&&"uncheck-all"!==l||Ke(t);var o=null==r?void 0:E()(a=r.rows).call(a,(function(n){return S()(e).call(e,n.id)})),c={};o.forEach((function(e){var n=e.id,t=e._title_;if(t){var l,a=F()(t).call(t,"|"),r=t.substring(0,a),o=I()(l=t.substr(a+1)).call(l,"|","｜");c[e.id]={value:n,label:r,des:o}}else{var i=[e.id];Ce.current.forEach((function(n){i.push(e[n])})),c[e.id]=He(i)}})),C({type:te,payload:{selectedKeys:e,rowSelected:c}})}),[g.rowSelected,g.tableData]),Me=(0,G.useCallback)((function(e){var n={},t=[];e.selected.forEach((function(e){n[e[0]]=He(e),t.push(e[0])}));var l=Ze(e.data.rows[0]);C({type:J,payload:{tableConfig:e.data.rows[0],tableColumn:l.column,tableColumnData:l.data,rowSelected:n,selectedKeys:t}})}),[g.rowSelected]),Pe=(0,G.useCallback)((function(e){if(null!=e&&e.v){var n,t=[],l=_()(n=e.v).call(n,(function(e){var n=He(e);return t.push(n.label),n})),a=_()(l).call(l,(function(e){return e.value}));C({type:Z,payload:{value:ue?a:a.join(),options:l,label:t.join()}}),!Y&&Te("",a)}else C({type:Z,payload:{value:[],options:[],label:"",selectedKeys:[]}}),!Y&&Te("","")}),[C,Te]),Ve=(0,G.useCallback)((function(e){var n=_()(e).call(e,(function(e){return{compareType:e.compareType,fieldName:e.fieldName,value:e.value}}));Fe({filter:n})}),[Fe]),Le=function(e,n){var t={};if(0===n)delete t[e];else{var l,a=-1===n?"desc":"";t[e]=A()(l="".concat(e)).call(l,a?" "+a:"")}Fe({sort:t[e]||""}),T([{number:e,isAsc:1===n}]),C({type:oe,payload:t})},Be=(0,G.useCallback)((function(e){Fe({key:e||"",pageNum:1})}),[Fe]),ze=(0,pe.c)(Be,300),Oe=(0,G.useCallback)((function(e,n){Fe({pageNum:e,pageSize:n})}),[Fe]),Ke=(0,G.useCallback)((function(e){var n=ye({},g.rowSelected),t=new(P())(g.selectedKeys);e.forEach((function(e){delete n[e],t.delete(e)})),C({type:ne,payload:{rowSelected:n,selectedKeys:(0,y.c)(t)}})}),[g.rowSelected,g.selectedKeys,g.tableData]),je=(0,G.useCallback)((function(e,n){r(U.kD,[[e.fieldName,n]])}),[]),He=(0,G.useCallback)((function(e){var n=(null==e?void 0:L()(e).call(e,2))||[];n=E()(n).call(n,(function(e){return e}));var t=n.length>0?n.join("｜"):"-";return{label:e[1]||"-",value:e[0],des:t}}),[]),Ge=(0,G.useCallback)((function(e,n){r(U.kD,[[e,n]])}),[je]),qe=(0,G.useCallback)((function(e,n){var t,l,a=E()(t=g.tableFilterData).call(t,(function(e){return e.fieldName!==n}));Ve(A()(l=[]).call(l,(0,y.c)(e),(0,y.c)(a)))}),[Ve,g.tableFilterData]),Ue=(0,G.useCallback)((function(e,n,t){var l="nocodedecimalfield"===e.type?"right":"",r={align:l,title:e.name,number:e.number,type:e.type,hideFilter:!0};return{code:e.number,title:q().createElement(me.TableTitle,r),width:200,align:l,lock:!1,type:e.type,render:function(l,r,c){var u;if(S()(u=["nocodeimageuploadfield","nocodeattachmentuploadfield","nocodeselectitemfield","nocodeentryentity","nocoderichtextfield","nocodegraphicdisplayfield"]).call(u,e.type)){var s,d=l;"nocodeselectitemfield"===e.type&&(d=Array.isArray(l)?_()(l).call(l,(function(e){return ye(ye({},e),{},{label:o(e.name)})})):[]);var f={};return S()(s=["nocodeimageuploadfield","nocodeattachmentuploadfield"]).call(s,e.type)?f={baseUrl:a,onDownLoad:i,value:d,record:r,rowIndex:c}:"nocodeentryentity"===e.type&&(f={getTableData:We,appId:n,formId:t,baseUrl:a,onDownLoad:i}),Ye(e.type,l,r,c,e.number,e.name,f)}return null===l?"":"boolean"==typeof l?l?"是":"否":"object"===(0,h.c)(l)?z()(l):l}}}),[g.colFilter,Le]),We=function(e,n,t,l,a,r,o){f&&f({pkId:e,key:be,entry:n,methodName:"getEntryData",page_size:t,page_no:l,appId:a,formId:r,callback:o})},Ye=function(e,n,t,l,a,r,o){var c={type:e,value:n,readOnly:!0,id:null==t?void 0:t.id,title:r,fieldName:a};return t.isAgg&&(c=ye(ye({},c),{},{type:"aggregate",selectedItem:n||{},fieldName:a,readOnly:!1})),q().createElement(we,(0,v.c)({},c,o))},Ze=(0,G.useCallback)((function(e){var n=e.listItemConfig,t=[],l=[];return n.forEach((function(n){t.push(Ue(n,e.appId,e.formId)),l.push({key:n.number,title:n.name})})),ye(ye({},e),{},{data:l,column:t})}),[g]);(0,G.useEffect)((function(){ke.current=g}),[g]);var Qe=function(e,n){var t=(null==n?void 0:n.split(","))||[];return null==e?void 0:_()(e).call(e,(function(e){var n=_()(t).call(t,(function(n){var t;return Array.isArray(e[n])?_()(t=e[n]).call(t,(function(e){return o(e.name)})).join(","):(0,ve.AA)(e[n])?Xe(e[n]):e[n]})),l=E()(n).call(n,(function(e){return e})),a=(null==l?void 0:L()(l).call(l,1))||[];return a=a.length>0?a.join("｜"):"-",{label:n[0]||"-",value:e.id,des:a}}))},Xe=function e(n){var t=JSON.parse(n);return Array.isArray(t)?_()(t).call(t,(function(n){var t;return _()(t=K()(n)).call(t,(function(t){var l;return Array.isArray(n[t])?_()(l=n[t]).call(l,(function(e){return o(e.name)})).join(","):(0,ve.AA)(n[t])?e(n[t]):n[t]})).join("|")})).join(","):n};return(0,G.useEffect)((function(){if(n){var e=c("setQuery",(function(e){var n;e.args.formId===he&&(ge&&!(0,fe.isEqual)(e.args.param,ge)||(C({type:X,payload:Qe((null===(n=e.data)||void 0===n?void 0:n.rows)||[],O)}),C({type:$,payload:e})))})),t=c("setListConfig",(function(e){e.args.formId===he&&(e.selected=(null==e?void 0:e.selected)||[],Me(e))})),l=c("setHeadFieldFilterItem",(function(e){C({type:ee,payload:{key:e[0].args[0],value:e[0].data.rows[0]}})})),a=c("resetValue",(function(e){Pe({v:e[0]})})),r=c("setFilterItemLook",(function(e){C({type:ee,payload:{key:e[0].args[0],value:e[0].data.rows[0]}})}));return function(){null==e||e(),null==t||t(),null==l||l(),null==a||a(),null==r||r()}}}),[n,he,O,ge]),re?se:{searchKeywords:M,showSearch:!0,value:(null==g?void 0:g.value)||"",placeholder:W,disabled:le,options:null==g?void 0:g.options,dataRange:B||{},mode:ue?"multiple":"single",allowClear:ie,tablePrimaryKey:"id",tableSorts:x,tableColFilter:null==g?void 0:g.colFilter,tableData:null==g?void 0:g.tableData,tableConfig:null==g?void 0:g.tableConfig,tableColumn:null==g?void 0:g.tableColumn,tableColumnData:null==g?void 0:g.tableColumnData,tableFilterData:null==g?void 0:g.tableFilterData,tableSelected:null!=g&&g.rowSelected?H()(null==g?void 0:g.rowSelected):[],tableSelectedKeys:(null==g?void 0:g.selectedKeys)||[],showSelected:j,buttonNode:q().createElement(q().Fragment,null),onChange:xe,onSearch:Ie,onVisibleChange:function(e){Ee.current=e,e&&Te()},moreClick:De,onF7Search:ze,onF7FilterChange:Ve,onF7PageChange:Oe,onF7Ok:_e,onF7Clean:Re,onF7DelSelect:Ke,onF7RowSelectChange:Ae,f7ColHeadFilter:g.colFilter,onF7ColHeadFilterVisibleChange:je,onF7Sort:Le,onF7TitleFilterConfirm:qe,onF7TitleFilterShow:Ge}}},66268:function(e,n,t){var l=t(65984),a=t.n(l),r=t(90236),o=(0,l.forwardRef)((function(e,n){return a().createElement(a().Fragment,null,a().createElement("div",{className:r.c.advcon,style:e.style,ref:n,id:e.id},e.children))}));n.c=a().memo(o)},95768:function(e,n,t){var l=t(65984),a=t.n(l),r=t(75260);n.c=a().memo((function(e){return a().createElement(a().Fragment,null,a().createElement("div",{className:r.c.advconchild,style:e.style,id:e.id},e.children))}))},54468:function(e,n,t){var l=t(65984),a=t.n(l);n.c=a().memo((function(e){return a().createElement(a().Fragment,null,a().createElement("div",{style:e.style},e.children))}))},91072:function(e,n,t){var l=t(2664),a=t(30112),r=t(72048),o=t(90896),c=t.n(o),i=t(760),u=t.n(i),s=t(23992),d=t.n(s),f=(t(86456),t(21300),t(99768),t(65984)),m=t.n(f),p=t(63548),v=t(47906),h=t(14020),y=t(37668),g=t(55136),b=t(75884),C=t(71252),E=t.n(C),k=t(16428),N=t.n(k),w=t(44880),S=t(64947),x=t(57652),F=t(63616),T=(0,f.memo)((function(e){var n,t,l=e.data,o=e.onRemove,i=e.onDownload,s=(e.index,e.onChangeFileName),d=e.readonly,b=e.disabled,C=e.onPreview,k=e.supportPreview,N=l.name,x=l.size,F=l.createtime,T=(0,f.useState)(!1),I=(0,r.c)(T,2),D=I[0],_=I[1],R=(0,f.useState)(""),A=(0,r.c)(R,2),M=A[0],P=A[1],V=(0,f.useState)(""),L=(0,r.c)(V,2),B=L[0],z=L[1],O=(0,f.useState)(!1),K=(0,r.c)(O,2),j=K[0],H=K[1],G=(0,f.useRef)(null),q=(0,f.useRef)(null),U=(0,f.useRef)(null),W=(0,f.useRef)(""),Y="error"===l.status||"done"===l.status&&!(null!=l&&l.response.status),Z="uploading"===l.status,Q="success"===l.status||"done"===(null==l?void 0:l.status)&&(null==l?void 0:l.response.status),X=function(){if(i)return i(l);var e=document.createElement("a"),n=new MouseEvent("click");e.download=(null==l?void 0:l.name)||"default.png",e.href=(0,h.oA)(l.url),e.dispatchEvent(n)};(0,f.useEffect)((function(){if(G.current){var e,n=G.current.offsetWidth<=320;n!==D&&_(n);var t=null===(e=q.current)||void 0===e?void 0:e.offsetWidth;if((0,S.getTextWidth)(l.name,14)>t){var a=c()((t-21)/14/2)+1,r=N.substr(0,a)+"..."+N.substr(N.length-a-1,N.length);P(r)}else P(N)}}),[B,l]);var $=(0,f.useCallback)((function(){J(N),H(!0)}),[N]),J=(0,f.useCallback)((function(e){var n=e.split(".");W.current=n.length>1?n.pop():"",z(n.join("."))}),[]);(0,f.useEffect)((function(){J(N)}),[N]);var ee=(0,f.useCallback)((function(){var e;if(!B)return(0,y.s9)("文件名不能为空"),void J(N);s({uid:l.uid,name:u()(e="".concat(B,".")).call(e,W.current)}),H(!1)}),[B,N,l]),ne=(0,f.useCallback)((function(e){switch(e){case"download":X();break;case"rename":$();break;case"remove":o(l)}}),[l,o]),te=(0,f.useMemo)((function(){return m().createElement(p.Dropdown.Menu,{onClick:ne},m().createElement(p.Dropdown.Item,{key:"download"},"下载"),m().createElement(p.Dropdown.Item,{key:"rename"},"重命名"),m().createElement(p.Dropdown.Item,{key:"remove"},"删除"))}),[ne]),le=(0,f.useMemo)((function(){return m().createElement("div",{ref:U,className:g.c.tip},m().createElement("div",{className:g.c.title},"重命名"),m().createElement("div",{className:g.c.file_name},m().createElement(v.Text,{value:B,onChange:z})),m().createElement("div",{className:g.c.btns},m().createElement(v.BtnField,{size:"small",onClick:function(){return H(!1)},text:"取消"}),m().createElement(v.BtnField,{size:"small",type:"primary",onClick:ee,text:"确认"})))}),[B,ee]);(0,f.useEffect)((function(){return document.body.addEventListener("click",(function(e){var n=e.target;null==U||!U.current||null!=U&&U.current.contains(n)||H(!1)})),function(){document.body.removeEventListener("click",(function(){return console.log("remove success")}))}}),[]);var ae=(0,f.useCallback)((function(e){var n=e*x/100;return n>=1048576?"".concat((n/1024/1024).toFixed(2),"MB"):"".concat((n/1024).toFixed(2),"KB")}),[x]),re=c()(F||Date.now()),oe=(0,h.Gk)("yyyy-MM-dd hh:mm",re),ce=(null==l||null===(n=l.name)||void 0===n?void 0:n.split("."))||[],ie=ce[ce.length-1].toLocaleLowerCase(),ue=(0,f.useCallback)((function(e){null==e||e.stopPropagation()}),[]);return m().createElement("div",{ref:G,className:E()(g.c.attachment_item,(0,a.c)({},g.c.attachment_item_hover,!b&&k&&"success"===l.status)),onClick:function(){k&&(null==C||C())}},m().createElement("div",{className:g.c.pic},Y&&m().createElement(p.Icon,{type:"warning",className:g.c.error_icon}),Z&&m().createElement(p.Progress,{type:"circle",width:24,strokeWidth:8,successIcon:m().createElement(m().Fragment,null),showInfo:!1,percent:l.percent}),Q&&m().createElement("img",{src:(0,w.SY)(ie)})),m().createElement("div",{className:g.c.info},m().createElement("div",{ref:q,className:g.c.title},M),m().createElement("div",{className:g.c.des},Y?m().createElement("span",{className:g.c.upload_err},"上传失败"):m().createElement(m().Fragment,null,Q&&!D?m().createElement("span",{className:g.c.time},oe):null,m().createElement("span",null,Z?u()(t="".concat(ae(l.percent),"/")).call(t,ae(100)):ae(100))))),D?m().createElement("div",{className:g.c.btns,onClick:ue},Q?d||b?b?null:m().createElement(p.Icon,{type:"download",onClick:X}):m().createElement(p.Tooltip,{placement:"topRight",visible:j,tip:le},m().createElement(p.Dropdown,{placement:"bottomRight",menu:te},m().createElement(p.Icon,{type:"more"}))):m().createElement(p.Icon,{type:"delete",onClick:function(){return o(l)}})):m().createElement("div",{className:g.c.btns,onClick:ue},Q&&!b?m().createElement(p.Icon,{type:"download",onClick:X}):null,!d&&!b&&Q&&m().createElement(p.Tooltip,{placement:"topRight",visible:j,tip:le},m().createElement(p.Icon,{type:"edit",onClick:function(){return $()}})),!d&&!b&&m().createElement(p.Icon,{type:"delete",onClick:function(){return o(l)}})))})),I=(0,f.memo)((function(e){var n=e.noticeInfo,t=e.readonly,a=e.buttonText,r=(0,f.useRef)();return m().createElement(m().Fragment,null,m().createElement(p.Upload,(0,l.c)({ref:r,showUploadList:!1},e),m().createElement(v.BtnField,{type:"ghost",size:"small",className:g.c.btn,text:a||"上传文件",icon:{type:"upload"}})),n&&!t&&m().createElement("div",{className:g.c.notice},n))})),D=(0,f.memo)((function(e){var n=e.noticeInfo,t=e.readonly,a=e.buttonText,r=e.canPaste,o=void 0===r||r,c=e.accept,i=(0,f.useRef)(),u=m().createElement(p.Upload.Dragger,(0,l.c)({className:g.c.dragger,showUploadList:!1,ref:i},e),m().createElement("div",{className:g.c.box},m().createElement(p.Icon,{type:"add"}),n&&!t&&m().createElement("div",{className:g.c.notice},m().createElement("div",null,a||""),m().createElement("div",null,"点击、拖拽 上传"),m().createElement("div",null,n))));return o?m().createElement(x.c,{accept:c,onClick:function(e){var n,t;null===(n=i.current)||void 0===n||null===(t=n.uploadFiles)||void 0===t||t.call(n,[e])}},u):u})),_=(0,f.memo)((function(e){var n=e.fileList,t=e.mode,l=e.uploadNum,a=e.onRemove,o=e.onChange,c=e.onChangeFileName,i=e.onDownload,u=e.disabled,s=e.readonly,p=e.previewType,v=e.doRequest,h="2"===t?D:I,y=(0,f.useState)(0),g=(0,r.c)(y,2),C=g[0],E=g[1],k=(0,f.useState)(!1),w=(0,r.c)(k,2),S=w[0],x=w[1];return m().createElement(m().Fragment,null,d()(n).call(n,(function(e,t){return m().createElement(T,{key:e.uid,disabled:u,onDownload:i,readonly:s,index:t,data:e,onChangeFileName:c,onRemove:a,onChange:o,onPreview:function(){return function(e){var t;u||"success"===(null==n||null===(t=n[e])||void 0===t?void 0:t.status)&&(E(e),x(!0))}(t)},supportPreview:(0,F.cD)(p)})})),(null==l?void 0:l.max)>(null==n?void 0:n.length)&&!s&&m().createElement(h,e),S&&N().createPortal(m().createElement(b.c,{files:n,currentIdx:C,previewType:p,closePreview:function(){x(!1)},onDownload:i,doRequest:v}),document.body))}));T.displayName="AttachmentItem",_.displayName="Attachment",n.c=(0,f.memo)(_)},80340:function(e,n,t){var l=t(65984),a=t.n(l),r=t(76148);n.c=a().memo((function(e){return a().createElement("div",{className:r.c.billform,style:e.style},e.children)}))},64936:function(e,n,t){var l=t(2664),a=t(30112),r=t(34984),o=t(65984),c=t.n(o),i=t(63548),u=t(71252),s=t.n(u),d=t(11456),f=["icon","type","text","children","className","major","danger"],m=(0,o.forwardRef)((function(e,n){var t=e.icon,o=e.type,u=e.text,m=e.children,p=e.className,v=e.major,h=e.danger,y=(0,r.c)(e,f);return c().createElement(i.Button,(0,l.c)({type:o||"second",className:s()(p,"kd-nc-btn-field",(0,a.c)((0,a.c)({},d.c.btn_major,v),d.c.btn_danger,h)),icon:t?c().createElement(i.Icon,t):null,ref:n},y),m||u)}));n.c=c().memo(m)},50736:function(e,n,t){t.d(n,{W:function(){return w}});var l=t(2664),a=t(30112),r=t(81043),o=t(34984),c=t(24244),i=t.n(c),u=t(50524),s=t.n(u),d=t(23992),f=t.n(d),m=(t(21300),t(65984)),p=t.n(m),v=t(63548),h=t(51536),y=t(60644),g=t(71252),b=t.n(g),C=t(73200),E=t(65720),k=["className","disabled","onChange","readonly","status","defaultValue","value","options","children","name","vertical","renderOption"],N=["error"],w=function(e){var n=e.children;return p().createElement("div",{className:E.c["checkbox-nodata"]},n||"暂无数据")},S=(0,m.memo)((0,m.forwardRef)((function(e,n){var t=e.className,c=e.disabled,u=e.onChange,d=e.readonly,g=e.status,S=e.defaultValue,x=e.value,F=e.options,T=e.children,I=(e.name,e.vertical),D=e.renderOption,_=(0,o.c)(e,k),R=n||(0,m.useRef)(null),A=function(e,n){var t;if(!d&&!c&&u){var l=Array.isArray(e)?i()(t=(0,r.c)(e)).call(t):e;u((0,y.clone)(l))}},M=b()(E.c.checkbox,"".concat(C.G,"-chechbox"),(0,a.c)((0,a.c)((0,a.c)((0,a.c)({},E.c["checkbox-status-".concat(g)],g&&s()(N).call(N,g)),E.c["checkbox-disabled"],c),E.c["checkbox-readonly"],d),E.c["checkbox-vertical"],I),t);return Array.isArray(F)&&0===F.length?p().createElement(w,null):(null==F?void 0:F.length)>0?p().createElement(v.Checkbox.Group,{ref:R,className:M,value:x,defaultValue:S,disabled:c,"data-readonly":d,onChange:A},null==F?void 0:f()(F).call(F,(function(e){return(0,y.isFunction)(D)?D(e,x):p().createElement(v.Checkbox,{key:e.value,value:e.value,title:e.label,disabled:e.disabled||d||c},e.color?p().createElement(h.c,{className:E.c.checkbox_tag,color:e.color,disabled:e.disabled||d||c},e.label):e.label)}))):p().createElement(v.Checkbox,(0,l.c)({ref:R,className:M,value:x,disabled:c,"data-readonly":d,onChange:A},_),T)||p().createElement(w,null)})));S.displayName="CheckboxGroup",S.Checkbox=v.Checkbox,n.c=S},33620:function(e,n,t){var l=t(30112),a=t(81043),r=t(72048),o=t(50524),c=t.n(o),i=t(23992),u=t.n(i),s=t(70696),d=t.n(s),f=t(760),m=t.n(f),p=t(13939),v=t.n(p),h=t(34716),y=t.n(h),g=t(4884),b=t.n(g),C=t(3464),E=t.n(C),k=t(51400),N=t.n(k),w=t(25028),S=t.n(w),x=(t(21300),t(87912),t(33768),t(29885),t(97308),t(65984)),F=t.n(x),T=t(63548),I=t(74820),D=t(71252),_=t.n(D),R=t(24948),A=t(11276),M=t(5680),P=t(33240),V=t(34284),L=t(29620),B=t(20852),z=t(67860),O=t(89272),K=t(37668);function j(e,n){var t=v()(e);if(y()){var l=y()(e);n&&(l=d()(l).call(l,(function(n){return b()(e,n).enumerable}))),t.push.apply(t,l)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,l.c)(e,n,t[n])})):E()?N()(e,E()(t)):j(Object(t)).forEach((function(n){S()(e,n,b()(t,n))}))}return e}var G=[{name:V.YV.name,id:V.yK.name},{name:V.YV.count,id:V.yK.count}],q="001",U=function(e){var n=e.addFilter,t=e.colHeadFilter,o=e.isSelect,i=e.width,s=e.height,f=e.style,p=e.value,v=e.dropdownClassName,h=e.onConfirm,y=e.onClear,g=e.onVisibleChange,b=e.children,C=e.visible,E=e.loading,k=e.refBillProps,N=e.size,w=e.className,S=e.renderTabElement,D=(0,x.useState)(V.yK.name),j=(0,r.c)(D,2),U=j[0],W=j[1],Y=(0,x.useState)(1),Z=(0,r.c)(Y,2),Q=Z[0],X=Z[1],$=(0,x.useState)(1),J=(0,r.c)($,2),ee=J[0],ne=J[1],te=(0,x.useState)(),le=(0,r.c)(te,2),ae=le[0],re=le[1],oe=(0,x.useState)([]),ce=(0,r.c)(oe,2),ie=ce[0],ue=ce[1],se=(0,x.useState)({}),de=(0,r.c)(se,2),fe=de[0],me=de[1],pe=(0,x.useState)([]),ve=(0,r.c)(pe,2),he=ve[0],ye=ve[1],ge=(0,x.useState)([]),be=(0,r.c)(ge,2),Ce=be[0],Ee=be[1],ke=(0,x.useState)([]),Ne=(0,r.c)(ke,2),we=Ne[0],Se=Ne[1],xe=(0,x.useState)([]),Fe=(0,r.c)(xe,2),Te=Fe[0],Ie=Fe[1],De=(0,x.useState)(!1),_e=(0,r.c)(De,2),Re=_e[0],Ae=_e[1],Me=(0,x.useState)([]),Pe=(0,r.c)(Me,2),Ve=Pe[0],Le=Pe[1],Be=(0,x.useState)(!1),ze=(0,r.c)(Be,2),Oe=ze[0],Ke=ze[1],je=(0,x.useState)([]),He=(0,r.c)(je,2),Ge=He[0],qe=He[1],Ue=(0,x.useRef)([]),We=(0,x.useRef)(),Ye=(0,x.useRef)();(0,z.c)([We],(function(e){var n;if(Ye.current){for(var t=Ye.current;t.parentNode!==document.body;)t=t.input?t.input.parentNode:t.parentNode;if(!t||null!==(n=t)&&void 0!==n&&n.contains(e.target)){var l=e.target.getAttribute("class");if(ae){var a,r;if(null!==(a=Ye.current)&&void 0!==a&&null!==(r=a.contains)&&void 0!==r&&r.call(a,e.target)||c()(l).call(l,"kd-select-item"))return;re(!1),null==g||g(!1)}}}})),(0,x.useEffect)((function(){if(p&&Array.isArray(p)){var e=(0,A.ik)(p);ue(e)}}),[p,ae]),(0,x.useEffect)((function(){re(C),C&&Ke(!1)}),[C]),(0,x.useEffect)((function(){var e=Re?Ve:he,n=(0,A.WC)(U,e,ee);Se(n)}),[he,U,ee,Re,Ve]),(0,x.useEffect)((function(){var e=Re?Ve:he,n=(0,A.WC)(U,e,Q);Ie(n)}),[he,U,Q,Re,Ve]),(0,x.useEffect)((function(){ln(t)}),[t]);var Ze=(0,x.useCallback)((function(e){var n=e.target.value;if(n)Ae(!0);else{var t=u()(he).call(he,(function(e){return(0,A.M7)(e)}));ue(t),Ae(!1)}var l=n?d()(he).call(he,(function(e){var t;return c()(t=e.label).call(t,n)})):Ue.current,a=u()(l).call(l,(function(e){return(0,A.M7)(e)}));Le(l),ue(a)}),[he]),Qe=(0,x.useCallback)((function(e){W(e)}),[]),Xe=(0,x.useCallback)((function(e){U===V.yK.name?ne(e):X(e)}),[U]),$e=(0,x.useCallback)((function(){var e=fe.fieldName;if(e){var n=(0,M.getNewDefaultFilterData)([fe],e);n&&Ee(m()(Ce).call(Ce,n))}}),[Ce,fe]),Je=(0,x.useCallback)((function(e,n){var t=[];Ce.forEach((function(l,a){n===a?t.push({fieldName:l.fieldName,compareType:e,value:[]}):t.push({fieldName:l.fieldName,compareType:l.compareType,value:l.value||[]})})),Ee(t)}),[Ce]),en=(0,x.useCallback)((function(e,n,t){var l=[];Ce.forEach((function(t,a){n===a?l.push({fieldName:t.fieldName,compareType:t.compareType,value:e||[]}):l.push({fieldName:t.fieldName,compareType:t.compareType,value:t.value||[]})})),Ee(l)}),[Ce]),nn=(0,x.useCallback)((function(e){var n=null==Ce?void 0:d()(Ce).call(Ce,(function(n,t){return e!==t}));Ee(n)}),[Ce]),tn=(0,x.useCallback)((function(e,n){Ae(!1),void 0===C&&re(!1),e&&(null==h||h(null==e?void 0:e.value,n))}),[h,C]),ln=function(e){if(e){var n=e.configuredFilter,t=e.fieldFilterConfig,l=e.groupInfo;me(t);var a=(0,A.Oi)(l);ye(a),Ue.current=a;var r=n.items,o=(null==r?void 0:d()(r).call(r,(function(e){return"001"!==e.compareType})))||[];Ee(o)}},an=(0,x.useMemo)((function(){return qe([]),(0,M.filterDataTransform)(Ce,[fe])||[]}),[Ce,fe]),rn=(0,x.useCallback)((function(){var e=(0,M.filterNoValue)(an),n=d()(e).call(e,(function(e){return!e.verifyStatus}));return qe(e),!n.length}),[an]),on=(0,x.useCallback)((function(){if(rn()){var e,n=(0,A.oN)(he,ie),t=(0,A.EB)(n,fe,he,q),l=Oe||!t?(0,a.c)(Ce):m()(e=[t]).call(e,(0,a.c)(Ce));tn(t,l)}}),[Ce,ie,tn,Oe,fe,he,rn]),cn=(0,x.useCallback)((function(){null==y||y(),Ke(!0),Ee([]);var e=u()(he).call(he,(function(e){return(0,A.M7)(e)}));ue(e);var n=[V.Un],t=(0,A.EB)(n,fe,he,q);tn(t,[])}),[fe,he]),un=(0,x.useCallback)((function(e,n){var t=e.currentTarget.dataset.checked,l=(0,A.M7)(n),a=(0,A.kR)(l,ie,he,t);ue(a)}),[he,ie]),sn=(0,x.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(rn()){var l,r=(0,A.mU)(e,t,he);r=(0,A.oN)(he,r),Ke(n);var o=n?null:(0,A.EB)(r,fe,he,q),c=n||!o?(0,a.c)(Ce):m()(l=[o]).call(l,(0,a.c)(Ce));tn(o,c),ue(r)}}),[fe,he,Ce,tn,rn]),dn=(0,x.useCallback)((function(e){void 0===C&&re(e),null==g||g(e)}),[g,C]),fn=(0,x.useCallback)((function(e,n){switch(e.type){case V.ov.normal:return F().createElement(T.Button,{type:"primary",onClick:function(){return sn(e)}},"仅筛选此项");case V.ov.empty:return F().createElement("div",{className:R.c["btn-group"]},F().createElement(T.Button,{onClick:function(){return sn(e,!1)}},"筛选非空白"),F().createElement(T.Button,{type:"primary",onClick:function(){return sn(e,!1,!0)}},"仅筛选空白"));case V.ov.all:return c()(n).call(n,"all")?null:F().createElement(T.Button,{type:"primary",onClick:function(){return sn(e,!0)}},"清除筛选")}}),[sn]),mn=(0,x.useCallback)((function(e,n){return 0===e.length&&Re?F().createElement(P.c,null):F().createElement(B.c,{className:"i-can-find-you-virtual-list",height:232,itemCount:e.length,itemSize:36,estimatedItemSize:36,renderItem:function(t){var a=t.index,r=t.style,o=e[a],i=(0,A.M7)(o),u=c()(ie).call(ie,i);return F().createElement("div",{className:_()(R.c.item,(0,l.c)({},R.c["select-mode-item"],n),(0,l.c)({},R.c["item-selected"],u)),"data-checked":u,onClick:function(e){return un(e,o)},style:r},F().createElement("div",{className:R.c.content},F().createElement(T.Checkbox,{checked:u}),o.label&&F().createElement("div",{className:R.c.label,title:o.label},o.label),o.label&&o.textValue&&F().createElement("div",{className:R.c["footer-comma"]},V.uM.comma),o.textValue&&F().createElement("div",{className:R.c.value},"(",o.textValue,")")),F().createElement("div",{className:R.c["operation-btn"],onClick:function(e){return e.stopPropagation()}},fn(o,ie)))}})}),[Re,ie,un,fn]),pn=(0,x.useMemo)((function(){return mn(U===V.yK.name?we:Te,o)}),[U,we,Te,o,mn]),vn=(0,x.useCallback)((function(){return F().createElement("div",{className:_()(R.c["filter-container"],(0,l.c)({},R.c["filter-container-padding"],an.length>0))},F().createElement(O.c,{listFilterConfig:fe||[],configFilters:an||[],nameHidden:!0,compareTypeData:{className:R.c[(0,M.getDefaultClassName)("compareType")]},fieldData:{className:R.c.field},valueData:{className:R.c[(0,M.getDefaultClassName)("value")]},refBillProps:k,showVarSelect:!1,value:Ce||[],valueRequired:!0,verifyData:Ge,onCompareTypeChange:Je,onValueChange:en,onDelete:nn}))}),[fe,an,Ge]),hn=(0,x.useMemo)((function(){return F().createElement("div",{className:_()(R.c.footer,(0,l.c)({},R.c["btn-right"],!n))},n&&F().createElement("div",{className:R.c["btn-add"],onClick:$e},F().createElement(T.Icon,{prefix:"nocodeplatformicon",type:"zengjia-yuan"}),"添加筛选条件"),F().createElement("div",{className:R.c["btn-group"]},n&&F().createElement(T.Button,{className:R.c["btn-cancel"],onClick:cn},"清空"),F().createElement(T.Button,{className:R.c["btn-confirm"],type:"primary",onClick:on},"确定")))}),[$e,cn,on,n]),yn=(0,x.useMemo)((function(){return F().createElement("div",{className:R.c.panel,ref:We},F().createElement("div",{className:R.c.search},F().createElement(T.Search,{prefix:!0,borderType:"bordered",placeholder:"搜索",onSearch:Ze,size:"small"})),F().createElement(I.c,{headers:G,activeId:U,onChange:Qe,onSort:Xe,order:U===V.yK.name?ee:Q,renderTabElement:S}),F().createElement("div",{className:R.c["options-wrapper"]},E?F().createElement(L.c,null):pn),n&&vn(fe),hn)}),[hn,vn,E,pn,U,Ze,Qe,Xe,fe,ee,Q,S]);(0,x.useEffect)((function(){var e,n=null==yn||null===(e=yn.ref)||void 0===e?void 0:e.current;if(n){var t=(0,K.M$)(n);return function(){t()}}}),[yn]);var gn=o?F().createElement(T.Input,{onClick:function(){return dn(!ae)},ref:Ye,placeholder:"请选择",borderType:"bordered",className:_()(w,R.c.input,R.c["trigger-value"],(0,l.c)({},R.c["trigger-value-margin"],ae)),value:(0,A.aq)((0,A.ik)(p),he,p),suffix:F().createElement(F().Fragment,null,F().createElement(T.Icon,{type:"arrow-down",className:_()(R.c.input_icon,(0,l.c)({},R.c.input_down,ae))}),F().createElement(T.Icon,{type:"close-solid",onClick:function(e){e.stopPropagation(),ue([]);var n=(0,A.EB)([],fe,he,q);tn(n,[])},className:R.c.input_close})),size:N}):F().cloneElement(b,{onClick:function(){dn(!ae)},ref:Ye});return ae?F().createElement(T.Tooltip,{tip:yn,placement:"bottomRight",trigger:"click",gap:0,popperClassName:_()(v,R.c.dropdown,(0,l.c)({},R.c.select,o)),borderType:"bordered",visible:ae,value:ie,popperStyle:H(H({},f),{},{height:s+"px",width:i+"px"})},gn):F().createElement("div",{onClick:function(){return null==dn?void 0:dn(!ae)},className:R.c.trigger},gn)};U.displayName="ColHeadFilterPanel",n.c=U},57376:function(e,n,t){var l=t(2664),a=t(30112),r=t(34984),o=t(72048),c=t(70696),i=t.n(c),u=t(23992),s=t.n(u),d=t(38456),f=t.n(d),m=t(13939),p=t.n(m),v=t(34716),h=t.n(v),y=t(4884),g=t.n(y),b=t(3464),C=t.n(b),E=t(51400),k=t.n(E),N=t(25028),w=t.n(N),S=(t(21300),t(76124),t(87912),t(97308),t(65984)),x=t.n(S),F=t(63548),T=t(99924),I=t(71252),D=t.n(I),_=t(64936),R=t(47906),A=t(39964),M=["name","value","fieldType","onChange","className","borderType","placeholder","options"];function P(e,n){var t=p()(e);if(h()){var l=h()(e);n&&(l=i()(l).call(l,(function(n){return g()(e,n).enumerable}))),t.push.apply(t,l)}return t}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,a.c)(e,n,t[n])})):C()?k()(e,C()(t)):P(Object(t)).forEach((function(n){w()(e,n,g()(t,n))}))}return e}var L="text",B="number",z="datetime",O="none",K="dateRange",j="select",H="multiSelect",G="enum_eq",q="findForm",U="formula",W="refbill",Y="treeSelect",Z="picture",Q="richtext",X="attachment",$="textarea",J=(0,S.forwardRef)((function(e,n){var t=e.id,a=e.onDelete,c=e.canDelete,u=void 0===c||c,d=e.data,m=e.customInput,p=e.className,v=e.size,h=void 0===v?"middle":v,y=e.onLoad,g=e.valueRequired,b=e.verifyData,C=e.conditionFilterItemType,E=(0,S.useRef)({value:["",""],selectedKeys:["",""],onChange:null,onSelect:null});(0,S.useEffect)((function(){null==y||y()}),[]);var k=function(e,n){try{var t=e&&JSON.parse(e);return t.valueType===n?t.value:""}catch(e){console.error(e)}},N=function(e){var n=e?e.split("@@"):["","",null],t=(0,o.c)(n,3);return[t[1],t[2]]},w=function(e){var n=e.name,t=e.value,l=e.fieldType,a=e.onChange,c=e.className,i=e.borderType,u=void 0===i?"bordered":i,s=e.placeholder,d=e.options,f=void 0===d?[]:d,m=(0,r.c)(e,M),p=V({name:n,placeholder:s,value:t,onChange:a,borderType:u,className:c,options:f,key:n,fieldType:l,size:h},m),v=function(e){var n;null==a||a((null===(n=e.target)||void 0===n?void 0:n.value)||"")},y=function(e){null==a||a(e)},g=function(e){null==a||a(e)};switch(l){case L:return V(V({},p),{},{onChange:v});case $:case B:return V(V({},p),{},{onChange:function(e){null==a||a(e)}});case O:return V(V({},p),{},{disabled:!0,onChange:v});case z:return V(V({},p),{},{allowClear:!0,value:(0,A.A$)(t),onChange:function(e){null==a||a(e)}});case K:return V(V({},p),{},{allowClear:!0,value:(0,A.aq)(t),onChange:function(e){var n=(0,o.c)(e,2),t=n[0],l=void 0===t?"":t,r=n[1],c=void 0===r?"":r;null==a||a(l||c?{start:l,end:c}:[])}});case G:return p;case j:return V(V({},p),{},{onChange:function(e){null==a||a(e)}});case H:return V(V({},p),{},{allowClear:!0,maxTagCount:3,onChange:y,mode:"multiple"});case q:return V(V({},p),{},{value:k(t,1)});case U:return V(V({},p),{},{value:N(k(t,1))});case W:return V(V({},p),{},{onChange:y});case Z:case Q:case X:return V(V({},p),{},{onChange:g,disabled:!0});case Y:return V(V({},p),{},{value:t,treeData:f,allowClear:!1,showFullLabelTips:!0});default:return V(V({},p),{},{onChange:v})}},I=(0,S.useCallback)((function(){null==a||a(t)}),[a,t]),P=(0,S.useCallback)((function(e){var n;E.current.value[0]=e,null===(n=E.current)||void 0===n||n.onChange(E.current.value)}),[]),J=(0,S.useCallback)((function(e){var n;E.current.value[1]=e,null===(n=E.current)||void 0===n||n.onChange(E.current.value)}),[]),ee=(0,S.useCallback)((function(e,n){var t,l;E.current.value[0]=e[0],null===(t=(l=E.current).onSelect)||void 0===t||t.call(l,E.current.value,n)}),[]),ne=(0,S.useCallback)((function(e,n){var t,l;E.current.value[1]=e[0],null===(t=(l=E.current).onSelect)||void 0===t||t.call(l,E.current.value,n)}),[]),te=(0,S.useCallback)((function(n,t,a){var r="value"===n.name,o=r&&b?{verifyData:b}:{};return x().createElement(R.InputCombo,(0,l.c)({},t,{popperClassName:"enum_eq"===n.fieldType?T.c.dropdown:null==e?void 0:e.popperClassName,varSelectProps:a,required:g&&r,allowClear:r},o))}),[g,b,null==e?void 0:e.popperClassName]),le=(0,S.useCallback)((function(e,n){var t=e.fieldType,l=e.varSelectProps,a=e.value;if("dateRange"===t&&"value"===e.name){var r,c,u=w(V(V({},e),{},{fieldType:"datetime"})),s=a||{},d=s.start,f=void 0===d?"":d,m=s.end,p=void 0===m?"":m,v=(null==l?void 0:l.selectedKeys)||[],h=(0,o.c)(v,2),y=h[0],g=void 0===y?"":y,b=h[1],C=void 0===b?"":b;E.current={onChange:null==u?void 0:u.onChange,onSelect:null==l?void 0:l.onSelect,value:[f,p]},["visible","value","setVisible","onVisibleChange"].forEach((function(e){null==l||delete l[e]}));var k=V(V({},u),{},{key:"value_start",onChange:P,value:f?new Date(f):f}),N=V(V({},u),{},{key:"value_end",onChange:J,value:p?new Date(p):p}),S=V(V({},l),{},{onSelect:ee,selectedKeys:i()(r=[g]).call(r,Boolean),varSelectActive:!!g}),F=V(V({},l),{},{onSelect:ne,selectedKeys:i()(c=[C]).call(c,Boolean),varSelectActive:!!C});return x().createElement("div",{className:T.c.date_group},te(e,k,l?S:null),te(e,N,l?F:null))}return te(e,n,l)}),[te]),ae=function(e){return x().createElement(x().Fragment,null,s()(d).call(d,(function(n,t){var l=n.fieldType,a=(n.varSelectProps,n.value,null==m?void 0:f()(m).call(m,(function(e){return e.type===l}))),r=w(n);return null!=a&&a.type&&"function"==typeof(null==a?void 0:a.render)?a.render(r):x().createElement(x().Fragment,null,2===e?x().createElement(R.FieldItem,{className:T.c.fieldItem,labelText:n.title,showTitle:!0},le(n,r)):le(n,r))})))};return x().createElement(x().Fragment,null,2===C?x().createElement(x().Fragment,null,ae(C)):x().createElement("div",{className:D()(p,T.c.item)},ae(C),u&&x().createElement(_.c,{className:T.c.delete,type:"text",onClick:I,danger:!0},x().createElement(F.Icon,{prefix:"ncicon",type:"xingshanchu"}))))}));J.displayName="ConditionFilterItem",n.c=J},30687:function(e,n,t){t.d(n,{c:function(){return M}});var l=t(30112),a=t(72048),r=t(23992),o=t.n(r),c=t(50524),i=t.n(c),u=t(760),s=t.n(u),d=t(65984),f=t.n(d),m=t(71252),p=t.n(m),v=t(63548),h="hb7Jj7RX_confirmModal",y="GHM7wO+o_modal_body",g="-CO2fGtM_modal_body_content",b="DtXloZnX_img_container",C="JQkgKyBp_with_img_body",E="_4j-g+aId_without_img_body",k="yAnolyLn_confirmModal_body",N="JaNnN5Lg_title",w="C7afa+Zb_content",S="+Zacl3bp_footer_btns",x="wNPcLv5l_buttons",F=t(41544),T=t(98992),I=t(57608),D=t(9528),_=t(46004),R=[{key:"cancel",text:"取消"},{key:"ok",text:"确定"}],A=["success","fail","waiting","warning","prompt","delete"],M=function(e){var n=e.visible,t=e.headbackgroundImg,r=e.headIcon,c=e.title,u=void 0===c?"标题":c,m=e.content,M=e.actions,P=void 0===M?R:M,V=e.disabledActions,L=void 0===V?[]:V,B=e.onAction,z=e.type,O=void 0===z?"":z,K=e.mask,j=void 0===K||K,H=e.extra,G=void 0!==n,q=(0,d.useState)(n),U=(0,a.c)(q,2),W=U[0],Y=U[1],Z=(0,d.useCallback)((function(e){var n,t=function(e){!1!==e&&Y(!1)};if(B){var l=B(e);void 0===(n=l)||"function"!=typeof n.then&&"function"!=typeof n.catch?t(l):l.then((function(e){return t(e)}))}else t(void 0)}),[B]),Q=(0,d.useCallback)((function(){return f().createElement("div",{className:S},null==P?void 0:o()(P).call(P,(function(e,n){var t;return f().createElement(v.Button,{className:x,disabled:null==L?void 0:i()(L).call(L,e.key),type:n===(null==P?void 0:P.length)-1?"primary":"second",onClick:function(){return Z(e.key)},key:s()(t="ConfirmModal-btn-".concat(e.key,"-")).call(t,n)},e.text)})))}),[P,Z,W,L]),X=(0,d.useMemo)((function(){var e;switch(O){case"success":e=I;break;case"fail":e=T;break;case"waiting":case"warning":e=D;break;case"prompt":e=_;break;case"delete":e=F}var n=t&&0!==t.length;return f().createElement("div",{className:g},n&&f().createElement("div",{className:b},f().createElement("img",{src:t})),f().createElement("div",{className:p()(k,(0,l.c)((0,l.c)({},C,n),E,!n))},r||i()(A).call(A,O)&&f().createElement("img",{src:e}),u&&("string"==typeof u?f().createElement("div",{className:N},u):u),m&&("string"==typeof m?f().createElement("div",{className:w},m):m),Boolean(null==P?void 0:P.length)&&Q(),H))}),[t,O,m,Q]);return f().createElement(v.Modal,{body:X,bodyClassName:y,closable:!0,mask:j,maskClosable:!1,destroyOnClose:!0,visible:G?n:W,footer:null,className:h})}},61036:function(e,n,t){var l=t(65984),a=(0,l.createContext)(null);n.c=a},68656:function(e,n,t){var l=t(2664),a=t(30112),r=t(72048),o=t(34984),c=t(23992),i=t.n(c),u=t(38456),s=t.n(u),d=t(33620),f=t(65984),m=t.n(f),p=t(71252),v=t.n(p),h=t(80224),y=t(14020),g=t(47906),b=["number","isFilterActive","onColFilterConfirm","setColHeadFilter","colHeadFilter","onColheadFilterVisibleChange","loading","onColFilterClear"],C=(0,f.memo)((function(e){var n=e.number,t=e.isFilterActive,c=e.onColFilterConfirm,u=e.setColHeadFilter,p=e.colHeadFilter,C=e.onColheadFilterVisibleChange,E=e.loading,k=e.onColFilterClear,N=(0,o.c)(e,b),w=(0,f.useState)(!1),S=(0,r.c)(w,2),x=S[0],F=S[1],T=(0,f.useCallback)((function(e){F(e),null==C||C(e)}),[C,u]),I=(0,f.useMemo)((function(){return(0,y.o5)(T,100)}),[T]),D=(0,f.useCallback)((function(e){return I(e)}),[I]),_=(0,f.useCallback)((function(e,t){return F(!1),c(t,n)}),[n,c]),R=(0,f.useMemo)((function(){var e=p.groupInfo;return i()(e).call(e,(function(e){return{label:e.label,type:e.type,fieldValue:e.fieldValue}}))}),[p]),A=(0,f.useMemo)((function(){var e,n=p.configuredFilter.items,t=null==n?void 0:s()(n).call(n,(function(e){return"001"===e.compareType}));return(null==t||null===(e=t.value)||void 0===e?void 0:e.length)>0?t.value:R}),[p,R]),M=t||x?"shaixuanmian":"shaixuanxian",P=m().createElement("div",{className:v()(h.c.filter_icon,(0,a.c)({},h.c.active,t||x)),"data-role":"table-head-filter-icon"},m().createElement(g.BtnField,{type:"text",icon:{prefix:"nocodeplatformicon",type:M}}));return m().createElement(d.c,(0,l.c)({colHeadFilter:p,onConfirm:_,onClear:k,onVisibleChange:D,visible:x,addFilter:!0,width:400,style:{maxHeight:"520px"},loading:E,value:A},N),P)}));C.displayName="FilterPanel",n.c=C},4996:function(e,n,t){t.d(n,{Ev:function(){return d.c},S6:function(){return u.c},So:function(){return i.c},qY:function(){return f.c}});var l=t(2664),a=t(34984),r=t(65984),o=t.n(r),c=t(63548),i=t(29560),u=t(57948),s=t(73552),d=t(68656),f=t(61036),m=t(71252),p=t.n(m),v=t(85984),h=["className","columnResize"],y=(0,r.memo)((function(e){var n=e.className,t=e.columnResize,r=(0,a.c)(e,h);return o().createElement("div",{className:p()(s.c.table,n)},o().createElement(c.Table,(0,l.c)({components:{EmptyContent:function(){return o().createElement("div",{className:s.c.empty},o().createElement("img",{src:v}),(null==e?void 0:e.emptyTips)||"暂无数据")}}},r,{columnResize:null==t||t})))}));y.displayName="DataGrid",y.CellRender=i.c,y.Title=u.c,n.cp=y},63420:function(e,n,t){var l=t(72048),a=t(70696),r=t.n(a),o=t(50524),c=t.n(o),i=t(67584),u=t.n(i),s=t(23992),d=t.n(s),f=t(65984),m=t.n(f),p=t(58312),v=t(82836),h=t(63548),y=t(71252),g=t.n(y);n.c=function(e){var n=e.onAdd,t=e.onAddAll,a=e.filters,o=e.getFilterCount,i=e.triggerText,s=e.popperClassName,y=e.isMulti,b=e.checkedCurentMap,C=(0,f.useState)(a),E=(0,l.c)(C,2),k=E[0],N=E[1],w=(0,f.useState)(!1),S=(0,l.c)(w,2),x=S[0],F=S[1],T=(0,f.useState)(!1),I=(0,l.c)(T,2),D=I[0],_=I[1],R=(0,f.useState)(b),A=(0,l.c)(R,2),M=A[0],P=A[1],V=(0,f.useState)(0),L=(0,l.c)(V,2),B=L[0],z=L[1],O=(0,f.useState)(!1),K=(0,l.c)(O,2),j=K[0],H=K[1],G=(0,f.useState)(!1),q=(0,l.c)(G,2),U=q[0],W=q[1],Y=(0,f.useCallback)((function(e){var n=e.target.value;F(!!n);var t=n?r()(a).call(a,(function(e){var t;return c()(t=e.fieldCaption).call(t,n)})):a;N(t)}),[k,a]),Z=(0,f.useCallback)((function(){u()((function(){Y({target:{value:""}})}),100)}),[Y]),Q=(0,f.useCallback)((function(e){_(!1),null==n||n(e),Z()}),[n,Z]),X=(0,f.useCallback)((function(e){var t=!M[e];M[e]=t,P(M),null==n||n(e,t),$()}),[n]),$=function(){var e=0;for(var n in M)!0===M[n]&&e++;k.length==e?(H(!0),W(!1)):(H(!1),W(e>0)),z(e)};(0,f.useEffect)((function(){N(a)}),[a]);var J=(0,f.useCallback)((function(e){_(e),$(),!e&&Z()}),[Z]);return m().createElement(p.c,{triggerText:i,options:k,onItemClick:!0===y?X:Q,onSearch:Y,isMulti:y,visible:D,popperClassName:g()(v.c.AddFilter_dropDown,s),onVisibleChange:J,showSearch:x,checkedMap:M,onSelect:function(e){var n=e.target.checked,l=[];n&&d()(a).call(a,(function(e,t){!0!==M[e.fieldName]&&(M[e.fieldName]=n,l.push(e.fieldName))})),P(M),null==t||t(l,n),$()},checked:j,indeterminate:U,count:B,renderItem:function(e){var n=o(e.fieldName);return m().createElement(m().Fragment,null,!0===y?m().createElement("div",{className:g()(v.c.item_content_multi,M[e.fieldName]?v.c.checked:""),"data-key":e.fieldName,"data-action-key":"click"},m().createElement(h.Checkbox,{checked:M[e.fieldName]},e.fieldCaption)):m().createElement("div",{className:v.c.item_content,"data-key":e.fieldName,"data-action-key":"click"},m().createElement("div",{className:v.c.label},e.fieldCaption),n>0&&m().createElement("span",{className:v.c.count},"+",n)))}})}},58312:function(e,n,t){var l=t(72048),a=t(23992),r=t.n(a),o=(t(33768),t(29885),t(65984)),c=t.n(o),i=t(63548),u=t(64936),s=t(15700),d=t(33240),f=t(92012),m=t(61779),p=(0,o.memo)((function(e){var n=e.triggerText,t=void 0===n?"添加筛选条件":n,a=e.options,p=e.onItemClick,v=e.renderItem,h=e.showSearch,y=e.onSearch,g=e.searchPlaceholder,b=void 0===g?"搜索":g,C=e.visible,E=e.onVisibleChange,k=e.popperClassName,N=e.isMulti,w=(e.checkedMap,e.onSelect),S=e.checked,x=e.indeterminate,F=e.count,T=(0,o.useState)(a),I=(0,l.c)(T,2),D=I[0],_=I[1],R=(0,o.useRef)(null),A=[{actionKey:"click",action:p}];(0,f.c)(R,A,"click"),(0,o.useEffect)((function(){_(a)}),[a]);var M=(0,o.useMemo)((function(){return c().createElement(i.Dropdown.Menu,{className:m.c["drop-down"]},c().createElement("div",{className:m.c["search-wrapper"]},C&&c().createElement(i.Search,{size:"small",prefix:!0,borderType:"bordered",className:m.c.search,placeholder:b,onSearch:y})),c().createElement("div",{className:m.c.items,ref:R},0===D.length?h?c().createElement(d.c,null):c().createElement(s.c,{desc:"暂无数据"}):r()(D).call(D,(function(e,n){return c().createElement(i.Dropdown.Item,{key:e.value||n,className:m.c.item},"function"==typeof v?v(e):c().createElement("div",{className:m.c.item_content,"data-key":e.value||n,"data-action-key":"click"},c().createElement("span",{className:m.c.label},e.label)))}))),!0===N&&D.length>0&&c().createElement("div",{className:m.c.total},c().createElement(i.Checkbox,{className:m.c.checkbox,onChange:w,indeterminate:x,checked:S},"全选"),c().createElement("span",{className:m.c.checked},"已选：",c().createElement("span",{className:m.c.checkedNum},F))))}),[D,p,y,h,F,C]);return c().createElement(i.Dropdown,{menu:M,trigger:"click",placement:"topLeft",visible:C,onVisibleChange:E,popperClassName:k},c().createElement(u.c,{type:"text",text:t,icon:{prefix:"nocodeplatformicon",type:"zengjia-yuan"},major:!0}))}));p.displayName="DropdownSearch",n.c=p},71132:function(e,n,t){t(86456),t(87912),t(97448);var l=t(73980),a=t.n(l),r=t(23992),o=t.n(r),c=t(65984),i=t.n(c),u=t(63548),s=t(55008),d=t(71252),f=t.n(d),m=function(e){var n=e.fieldName,t=e.compareType,l=e.value,a=(e.id,e.onDelete),r=e.index,o=e.className,d=(0,c.useCallback)((function(){null==a||a(r,!0)}),[r,a]),m=(0,c.useMemo)((function(){return n+t+(l?"：".concat(l):"")}),[n,t,l]);return i().createElement("div",{className:f()(s.c.label,o)},i().createElement("span",{className:s.c.desc,title:m},m),i().createElement("span",{className:s.c["btn-delete"]},i().createElement(u.Icon,{prefix:"nocodeplatformicon",type:"guanbi",onClick:d})))};n.c=function(e){var n=e.filters,t=e.onDelete,l=e.maxLabelCount,r=void 0===l?5:l,d=e.className,p=(0,c.useMemo)((function(){return a()(n).call(n,0,r)}),[n]),v=(0,c.useMemo)((function(){return a()(n).call(n,r)}),[n]),h=(0,c.useMemo)((function(){return i().createElement(u.Dropdown.Menu,{className:s.c.menu},o()(v).call(v,(function(e,n){if(e){var l=e.fieldCaption,a=e.compareTypeCaption,o=e.value;return i().createElement(u.Dropdown.Item,{key:e.fieldName},i().createElement(m,{fieldName:l,compareType:a,value:null==o?void 0:o.join("、"),key:e.fieldName+n,onDelete:t,id:e.fieldName,index:n+r,className:s.c["menu-label"]}))}})))}),[v,t]);return i().createElement("div",{className:f()(s.c.bar,d)},o()(p).call(p,(function(e,n){if(e){var l=e.fieldCaption,a=e.compareTypeCaption,r=e.value;return i().createElement(m,{fieldName:l,compareType:a,value:null==r?void 0:r.join("、"),key:e.fieldName+n,onDelete:t,id:e.fieldName,index:n})}})),v.length>0&&i().createElement(u.Dropdown,{menu:h,trigger:"click",placement:"bottomRight"},i().createElement("span",{className:s.c.drop},"+".concat(v.length))))}},22280:function(e,n,t){var l=t(30112),a=t(85640),r=t(72048),o=t(29052),c=t.n(o),i=(t(87912),t(97308),t(70696)),u=t.n(i),s=t(23992),d=t.n(s),f=t(50524),m=t.n(f),p=t(760),v=t.n(p),h=t(65984),y=t.n(h),g=t(61779),b=t(71252),C=t.n(b),E=t(5680),k=t(15700),N=t(60644),w=t(64936),S=t(63420),x=t(58108),F=t(86132),T=(0,h.forwardRef)((function(e,n){var t,o=e.data,i=void 0===o?[]:o,s=e.onConfirm,f=e.onClear,p=e.configuredFilterItems,b=e.showClearAll,w=e.colHeadFilter,S=e.onColHeadFilterVisibleChange,T=(e.showFooter,e.showEmpty),D=void 0===T||T,_=e.renderFooter,R=e.bodyClassName,A=(e.itemClassName,e.refBillProps),M=e.valueRequired,P=e.showVarSelect,V=e.filterEditorClassName,L=(0,h.useState)(p),B=(0,r.c)(L,2),z=B[0],O=B[1],K=(0,h.useState)({}),j=(0,r.c)(K,2),H=j[0],G=j[1],q=(0,h.useRef)({}),U=(0,h.useCallback)((function(e,n){return S(e,n)}),[S]);(0,h.useEffect)((function(){G(w)}),[w]);(0,h.useCallback)((function(e){var n=null==z?void 0:u()(z).call(z,(function(n,t){return e!==t}));O(n)}),[z]);(0,h.useEffect)((function(){var e=(0,N.cloneDeep)(p);u()(e).call(e,(function(e){return"501"===e.compareType})).forEach((function(n){e.forEach((function(e){var t;e.fieldName===n.fieldName&&(e.value=u()(t=e.value).call(t,(function(e){return"empty"===e.type})))}))})),O(e)}),[p]);var W=(0,h.useCallback)((function(){null==f||f(),O([])}),[f]),Y=((0,h.useCallback)((function(e,n,t){e=(0,E.createValue)(e,t);var l=[];z.forEach((function(t,a){n===a?l.push({fieldName:t.fieldName,compareType:t.compareType,value:e}):l.push({fieldName:t.fieldName,compareType:t.compareType,value:t.value||[]})})),O(l)}),[z]),(0,h.useCallback)((function(e,n){var t=[];z.forEach((function(l,a){n===a?t.push({fieldName:l.fieldName,compareType:e,value:[]}):t.push({fieldName:l.fieldName,compareType:l.compareType,value:l.value||[]})})),O(t)}),[z,U]),(0,h.useCallback)((function(e,n){var t=[];z.forEach((function(l,a){if(n===a){var r=(0,E.getNewCompareType)(i,e);t.push({fieldName:e,compareType:r,value:[]})}else t.push({fieldName:l.fieldName,compareType:l.compareType,value:l.value||[]})})),O(t)}),[z,i]),(0,h.useMemo)((function(){var e=(0,E.filterDataTransform)(z,i)||[];return e.forEach((function(e,n){var t,l=(null===(t=e.compareTypes)||void 0===t?void 0:d()(t).call(t,(function(e){return e.id})))||[];if(!m()(l).call(l,e.compareType)){var a=(0,F.c)(z,(function(e){e[n].compareType=l[0]||""}));O(a)}})),e}),[z,i])),Z=(0,h.useCallback)((function(){var e,n,t=null===(e=q.current)||void 0===e||null===(n=e.updateVerifyAndGetMsg)||void 0===n?void 0:n.call(e);null!=t&&t.length||null==s||s(z)}),[s,z,Y]),Q=(0,h.useCallback)(function(){var e=(0,a.c)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=(0,E.getNewDefaultFilterDataExcept)(i,n,Y))&&O(v()(z).call(z,t));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[z,Y]),X=(0,h.useCallback)((function(e){var n=0;return z.forEach((function(t){t.fieldName===e&&n++})),n}),[z]);return(0,h.useImperativeHandle)(n,(function(){var e;return{onFilterClear:W,onFilterAdd:Q,getFilter:function(){return z},getFilterCount:X,onFilterConfirm:s,updateVerifyAndGetMsg:null===(e=q.current)||void 0===e?void 0:e.updateVerifyAndGetMsg}}),[Q,W,z,X,s,null===(t=q.current)||void 0===t?void 0:t.updateVerifyAndGetMsg]),y().createElement(y().Fragment,null,y().createElement("div",{className:C()(g.c.body,R,(0,l.c)({},g.c.empty,Y.length<=0))},0===Y.length&&D?y().createElement(k.c,{desc:"暂无数据"}):y().createElement(x.c,{id:"filter",name:"配置筛选条件",ref:q,className:C()(g.c.filtereditor,V),listFilterConfig:i||[],onGetFieldRecords:S,fieldRecords:H||[],showFooter:!1,nameHidden:!0,valueData:{className:g.c.value,f7ClassName:g.c.f7Container},refBillProps:A,showVarSelect:P,value:z||[],valueRequired:M,onChange:O})),y().createElement(I,{onConfirm:Z,filters:i,onAdd:Q,onClear:W,showClearAll:b,getFilterCount:X,renderFooter:_}))}));T.displayName="ListFilterSetting";var I=function(e){var n=e.renderFooter,t=e.showClearAll,l=e.onConfirm,a=e.onClear,r=e.onAdd,o=e.filters,c=e.getFilterCount,i=(0,h.useCallback)((function(){null==l||l()}),[l]),u=(0,h.useCallback)((function(){null==a||a()}),[a]),s=y().createElement(S.c,{onAdd:r,filters:o,getFilterCount:c,popperClassName:g.c.footer_popper}),d=y().createElement(w.c,{size:"small",className:g.c.clear,onClick:u},"清空"),f=y().createElement(w.c,{size:"small",type:"primary",className:g.c.confirm,onClick:i},"确定");return"function"==typeof n?n(s,d,f):y().createElement("div",{className:g.c.footer},s,y().createElement("div",{className:g.c["btn-group"]},t&&d,f))};T.displayName="ListFilterSetting",n.c=T},93132:function(e,n,t){var l=t(65984),a=t.n(l),r=t(63548),o=t(12580),c=t(22280),i=t(67860),u=t(37668),s=function(e){var n=e.title,t=e.titleRight;return a().createElement("div",{className:o.c.header},a().createElement("div",{className:o.c.title},n),a().createElement("div",{className:o.c.titleRight},t))};n.c=function(e){var n=e.style,t=e.onClose,d=e.title,f=e.titleRight,m=e.visible,p=e.onVisibleChange,v=e.children,h=e.data,y=void 0===h?[]:h,g=e.onConfirm,b=e.onClear,C=e.configuredFilterItems,E=e.showClearAll,k=e.colHeadFilter,N=e.onColHeadFilterVisibleChange,w=e.refBillProps,S=e.showVarSelect,x=void 0!==S&&S,F=(0,l.useRef)(),T=(0,l.useRef)();(0,i.c)([F],(function(e){var n;if(T.current){for(var t=T.current;(null===(l=t)||void 0===l?void 0:l.parentNode)!==document.body;){var l;t=t.input?t.input.parentNode:t.parentNode}if((!t||null!==(n=t)&&void 0!==n&&n.contains(e.target))&&m){var a,r;if(null!==(a=T.current)&&void 0!==a&&null!==(r=a.contains)&&void 0!==r&&r.call(a,e.target))return;p(!1)}}}));return(0,l.useEffect)((function(){var e=F.current;if(e){var n=(0,u.M$)(e);return function(){n()}}}),[m]),m?a().createElement(r.Tooltip,{tip:a().createElement("div",{className:o.c.dropdown,ref:F},a().createElement(s,{title:d,titleRight:f,onClose:t}),a().createElement(c.c,{valueRequired:!0,data:y,itemClassName:o.c.item,onClear:b,onConfirm:g,configuredFilterItems:C,showClearAll:E,refBillProps:w,showVarSelect:x,colHeadFilter:k,onColHeadFilterVisibleChange:N})),trigger:"click",arrow:!1,visible:m,popperStyle:n,placement:"bottomRight",popperClassName:o.c.tooltip},a().cloneElement(v,{onClick:function(){p(!m)},ref:T})):a().cloneElement(v,{onClick:function(){p(!m)}})}},90092:function(e,n,t){var l=t(30112),a=t(2664),r=t(81043),o=t(72048),c=(t(87912),t(33768),t(29885),t(75720),t(97308),t(61260)),i=t.n(c),u=t(23992),s=t.n(u),d=t(70696),f=t.n(d),m=t(50524),p=t.n(m),v=t(38456),h=t.n(v),y=t(99308),g=t.n(y),b=t(760),C=t.n(b),E=t(33260),k=t.n(E),N=t(90896),w=t.n(N),S=t(65984),x=t.n(S),F=t(63548),T=t(71940),I=t(15700),D=t(33240),_=t(64936),R=t(84068),A=t(71252),M=t.n(A),P=(0,S.forwardRef)((function(e,n){var t=e.title,l=e.data,c=e.onClose,u=e.checkedKeys,d=e.closable,m=e.onConfirm,v=e.lockIndex,y=e.showLock,b=void 0===y||y,E=e.okText,N=void 0===E?"确定":E,w=e.renderFooter,F=e.renderHeader,_=e.bodyClassName,A=e.okProps,P=(0,S.useState)(l||[]),z=(0,o.c)(P,2),O=z[0],K=z[1],j=(0,S.useState)(u||[]),H=(0,o.c)(j,2),G=H[0],q=H[1],U=(0,S.useState)([]),W=(0,o.c)(U,2),Y=W[0],Z=W[1],Q=(0,S.useState)(null),X=(0,o.c)(Q,2),$=X[0],J=X[1],ee=(0,S.useState)(v),ne=(0,o.c)(ee,2),te=ne[0],le=ne[1];(0,S.useEffect)((function(){le(v)}),[v]);var ae=(0,S.useMemo)((function(){var e;return s()(e=f()(O).call(O,(function(e){var n;return null===$||p()(n=e.title).call(n,$)}))).call(e,(function(e){return e.key}))}),[O,$]),re=(0,S.useMemo)((function(){return!!$}),[$]);(0,S.useEffect)((function(){Z(ae)}),[ae]);var oe=(0,S.useMemo)((function(){var e=[];return O.forEach((function(n){p()(G).call(G,n.key)&&e.push(n.key)})),e}),[O]);(0,S.useEffect)((function(){null==q||q(oe)}),[oe]);var ce=(0,S.useMemo)((function(){return Y.length<=0}),[Y]),ie=(0,S.useMemo)((function(){return f()(G).call(G,(function(e){return h()(Y).call(Y,(function(n){return n===e}))}))}),[Y,G]),ue=(0,S.useMemo)((function(){return s()(Y).call(Y,(function(e){return h()(O).call(O,(function(n){return n.key===e}))}))}),[Y,O]),se=(0,S.useMemo)((function(){return(null==ue?void 0:f()(ue).call(ue,(function(e){return!e.disabled})).length)||0}),[ue]),de=(0,S.useMemo)((function(){var e=!ce,n=ie.length;return 0===n?{checked:!1,indeterminate:!1,showCheckBox:e}:se===n?{checked:!0,indeterminate:!1,showCheckBox:e}:se>=n?{checked:!1,indeterminate:!0,showCheckBox:e}:{checked:!1,indeterminate:!1,showCheckBox:e}}),[ie,se,ce]);(0,S.useEffect)((function(){q(u),le(v)}),[u]),(0,S.useEffect)((function(){K(l)}),[l]);var fe=function(e,n){var t,l=n?(0,r.c)(new(g())(C()(t=[]).call(t,(0,r.c)(G),[e]))):f()(G).call(G,(function(n){return n!==e}));q(l)},me=(0,S.useCallback)((function(e){var n=e?re?function(e,n){var t;return(0,r.c)(new(g())(C()(t=[]).call(t,(0,r.c)(e),(0,r.c)(n))))}(Y,G):Y:re?function(e,n){var t={};return n.forEach((function(e){t[e]=!0})),f()(e).call(e,(function(e){return!t[e]}))}(G,Y):[];O.forEach((function(e){if(e.disabled){var t=k()(n).call(n,e.key);t>-1&&i()(n).call(n,t,1)}})),q(n)}),[Y,re,G]),pe=(0,S.useCallback)((function(e){return p()(ie).call(ie,e)}),[ie]),ve=(0,S.useCallback)((function(){null==m||m(ie,te,O)}),[ie,m,te,O]),he=(0,S.useCallback)((function(e){J(e)}),[]),ye=(0,S.useCallback)((function(e){e===te&&(e=-1),le(e)}),[te]),ge=(0,S.useCallback)((function(e){return!!(null!=te&&e<=te)}),[te]),be=(0,S.useCallback)((function(e){return 0===e.length?x().createElement("div",{className:T.c.empty},re?x().createElement(D.c,null):x().createElement(I.c,{desc:"暂无数据"})):s()(e).call(e,(function(e,n){var t,l,a=ge(n);return x().createElement(R.w,{key:e.key,index:n,onDrop:function(e,n){return function(e,n,t){var l=n.sourceIndex,a=n.destinationIndex;l!==a&&K((function(e){var n=(0,r.c)(e),t=i()(n).call(n,l,1),c=(0,o.c)(t,1)[0];return i()(n).call(n,a,0,c),n}))}(0,n)}},x().createElement("div",{className:T.c.list_item_wrapper},x().createElement(L,{key:e.key,checked:pe(e.key),title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t&&t,draggable:(null===(l=e.draggable)||void 0===l||l)&&!re,id:e.key,onChecked:fe,onLock:ye,isLocked:a,index:n,showLock:b&&!re,setListData:K,showSort:!re,tips:e.tips})))}))}),[pe,fe,re,ge,ye]);return(0,S.useImperativeHandle)(n,(function(){var e={checkedKeys:ie,lockIndex:te,listData:O};return{getColumn:function(){return e}}}),[ie,te,O]),x().createElement(x().Fragment,null,x().createElement(V,{title:t,onSearch:he,closable:d,onClose:c,renderHeader:F}),x().createElement(R.U,null,x().createElement("div",{className:M()(T.c.body,_)},be(ue))),x().createElement(B,(0,a.c)({},de,{selechedNum:ie.length,totalNum:se,onChange:me,onConfirm:ve,okText:N,okProps:A,renderFooter:w})))})),V=function(e){var n=e.title,t=e.onSearch,l=e.closable,a=e.onClose,r=e.renderHeader,o=(0,S.useCallback)((function(e){null==t||t(e.target.value)}),[t]),c=x().createElement("div",{className:T.c.search},x().createElement(F.Input,{prefix:x().createElement(F.Icon,{prefix:"nocodeplatformicon",type:"sousuo",className:T.c["search-icon"]}),placeholder:"搜索",borderType:"bordered",size:"small",onChange:o})),i=x().createElement("div",{className:T.c.title},n);return"function"==typeof r?r(i,c):x().createElement("div",{className:T.c.header},i,x().createElement("div",{className:T.c.extra},c,l&&x().createElement("div",{className:T.c.btn_close},x().createElement(F.Icon,{type:"guanbi",prefix:"nocodeplatformicon",onClick:a}))))},L=function(e){var n=e.checked,t=e.title,a=e.disabled,r=e.draggable,o=e.id,c=e.onChecked,i=e.onLock,u=e.isLocked,s=e.index,d=e.showLock,f=e.tips,m=(0,S.useRef)(null),p=(0,S.useCallback)((function(e){if(!a){var n=e.currentTarget.querySelector("input"),t=n.checked,l=n.value;"INPUT"===e.target.nodeName?null==c||c(l,t):null==c||c(l,!t)}}),[c,a]),v=(0,S.useCallback)((function(e){var n;e.stopPropagation();var t=null===(n=e.currentTarget)||void 0===n||null===(n=n.parentNode)||void 0===n||null===(n=n.dataset)||void 0===n?void 0:n.index;null==i||i(w()(t))}),[i]),h=x().createElement("div",{ref:m,className:M()(T.c["list-item"],(0,l.c)({},T.c["list-item-disabled"],a)),onClick:p},x().createElement("span",{className:T.c["checkbox-wrapper"]},x().createElement(F.Checkbox,{className:T.c.checkbox,value:o,checked:n,disabled:a}),x().createElement("span",{className:T.c.title,title:t},t)),x().createElement("span",{className:T.c["extra-operation"]},d&&x().createElement("span",{className:T.c.fixed,"data-index":s},x().createElement(F.Icon,{prefix:"nocodeplatformicon",type:u?"dongjie2":"weidongjie",title:u?"取消固定":"固定",onClick:v,onMouseDown:function(e){e.stopPropagation()},onMouseUp:function(e){e.stopPropagation()}})),r&&x().createElement(_.c,{type:"text",className:T.c.order,onClick:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()}},x().createElement(F.Icon,{type:"tuozhuai",prefix:"nocodeplatformicon"}))));return f?x().createElement(F.Tooltip,{arrow:!1,placement:"bottom",tip:f},h):h},B=function(e){var n=e.selechedNum,t=e.totalNum,l=e.indeterminate,r=e.checked,o=e.onChange,c=e.onConfirm,i=e.showCheckBox,u=e.okText,s=e.renderFooter,d=e.okProps,f=(0,S.useCallback)((function(){null==c||c()}),[c]),m=(0,S.useCallback)((function(e){var n=e.currentTarget.querySelector("input").checked;"INPUT"===e.target.nodeName?null==o||o(n):null==o||o(!n)}),[o]),p=x().createElement(F.Button,(0,a.c)({size:"small",type:"primary",className:T.c.confirm,onClick:f},d||{}),u||"确定"),v=i?x().createElement("span",{className:T.c.selected,onClick:m},x().createElement(F.Checkbox,{className:T.c.checkbox,indeterminate:l,checked:r},"全选",n,"/",t)):x().createElement("span",null);return"function"==typeof s?s(v,p):x().createElement("div",{className:T.c.footer},v,p)};n.c=P},75080:function(e,n,t){var l=t(65984),a=t.n(l),r=t(63548),o=t(73060),c=t(90092),i=t(37668);n.c=function(e){var n=e.style,t=e.visible,u=e.onVisibleChange,s=e.children,d=e.title,f=e.data,m=e.checkedKeys,p=e.lockIndex,v=e.showLock,h=e.onClose,y=e.onConfirm,g=e.okText,b=void 0===g?"确定":g,C=(0,l.useRef)(),E=(0,l.useMemo)((function(){return a().createElement("div",{ref:C,className:o.c.dropdown_container},a().createElement(c.c,{title:d,data:f,onClose:h,checkedKeys:m,onConfirm:y,lockIndex:p,showLock:v,okText:b}))}),[d,f,h,m,y,p,v,b]);return(0,l.useEffect)((function(){var e,n=null==E||null===(e=E.ref)||void 0===e?void 0:e.current;if(n){var t=(0,i.M$)(n);return function(){t()}}}),[E,t]),t?a().createElement(r.Tooltip,{tip:E,trigger:"click",arrow:!1,visible:t,onVisibleChange:u,popperStyle:n,placement:"bottomRight",popperClassName:o.c.tooltip},s):a().cloneElement(s,{onClick:function(){u(!t)}})}},57068:function(e,n,t){t.d(n,{MZ:function(){return H}});var l=t(13939),a=t.n(l),r=t(34716),o=t.n(r),c=t(4884),i=t.n(c),u=t(3464),s=t.n(u),d=t(51400),f=t.n(d),m=t(25028),p=t.n(m),v=t(2664),h=t(81043),y=t(30112),g=t(72048),b=(t(21300),t(87912),t(97308),t(23992)),C=t.n(b),E=t(760),k=t.n(E),N=t(70696),w=t.n(N),S=t(61260),x=t.n(S),F=t(65984),T=t.n(F),I=t(8172),D=t(63548),_=t(49992),R=t(15700),A=t(64936),M=t(84068),P=t(30080),V=t(64947),L=t(63092),B=t(71252),z=t.n(B);function O(e,n){var t=a()(e);if(o()){var l=o()(e);n&&(l=w()(l).call(l,(function(n){return i()(e,n).enumerable}))),t.push.apply(t,l)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,y.c)(e,n,t[n])})):s()?f()(e,s()(t)):O(Object(t)).forEach((function(n){p()(e,n,i()(t,n))}))}return e}var j=(0,F.memo)((0,F.forwardRef)((function(e,n){var t=e.data,l=e.onConfirm,a=e.configuredSortItems,r=e.renderFooter,o=e.addText,c=e.bodyClassName,i=e.showEmpty,u=void 0===i||i,s=e.onClear,d=e.renderTitle,f=(0,F.useState)(a),m=(0,g.c)(f,2),p=m[0],v=m[1];(0,F.useEffect)((function(){v(a)}),[a]);var b=(0,F.useMemo)((function(){return C()(p).call(p,(function(e){return e.number}))}),[p]),E=(0,F.useMemo)((function(){return(0,V.excludeTreeNodeByKeys)(t,b)}),[t,b]),N=(0,F.useCallback)((function(){null==l||l(p)}),[l,p]),S=(0,F.useCallback)((function(e){var n,t=(0,V.dfs)(E,(function(n){return n.key===e}));t&&v(k()(p).call(p,{number:(n=t).key,name:n.title,isAsc:!0}))}),[p,E]),I=(0,F.useCallback)((function(e){var n=0;return p.forEach((function(t){t.fieldName===e&&n++})),n}),[p]),D=(0,F.useCallback)((function(e){var n=null==p?void 0:w()(p).call(p,(function(n){return n.number!==e}));v(n)}),[p]),A=(0,F.useCallback)((function(e,n){var t=[];null==p||p.forEach((function(l){n===l.number?t.push(K(K({},l),{},{isAsc:"true"===e})):t.push(l)})),v(t)}),[p]),M=(0,F.useCallback)((function(){null==s||s(),v([])}),[s]),P=(0,F.useCallback)((function(e,n,t){var l=n.sourceIndex,a=n.destinationIndex;l!==a&&v((function(e){var n=(0,h.c)(e),t=x()(n).call(n,l,1),r=(0,g.c)(t,1)[0];return x()(n).call(n,a,0,r),n}))}),[]);(0,F.useImperativeHandle)(n,(function(){return{getSort:function(){return p},onSortClear:M,onSortAdd:S,getSortCount:I,onSortonfirm:l}}),[p,I,M,S,l]);return T().createElement(T().Fragment,null,T().createElement("div",{className:z()(_.c.list_sort,(0,y.c)({},_.c.empty,p.length<=0),c)},p.length<=0?u?T().createElement(R.c,{desc:"暂无数据"}):null:T().createElement(H,{sorts:p,onDrop:P,onChage:A,onDelete:D,renderTitle:d,showEmpty:u})),T().createElement(U,{onConfirm:N,data:E,onAdd:S,onClear:M,addText:o||"添加排序",showClearAll:!0,renderFooter:r,getSortCount:I}))}))),H=(0,F.memo)((function(e){var n=e.sorts,t=e.onDrop,l=e.onChage,a=e.onDelete,r=e.className,o=e.itemClass,c=e.renderTitle;return T().createElement(M.U,null,T().createElement("div",{className:z()(_.c.list,r)},C()(n).call(n,(function(e,n){var r=e.name,i=e.isAsc,u=e.number;return T().createElement("div",{className:_.c.list_item},T().createElement(M.w,{key:u+n,index:n,onDrop:function(e,l){return t(e,l,n)}},T().createElement(G,{className:o,name:r,number:u,isAsc:i,renderTitle:c,onChange:function(e){return l(e,u,n)}})),T().createElement(D.Icon,{type:"xingshanchu",prefix:"nocodeplatformicon",className:_.c.item_delete,onClick:function(){return a(u,n)}}))}))))})),G=((0,F.memo)((function(e){var n=e.onDrop,t=e.name,l=e.isAsc,a=e.number,r=e.onChage,o=e.index,c=(0,F.useRef)(null),i=(0,F.useCallback)((function(e,t){null==n||n(e,t)}),[n]),u=(0,P.c)(c.current,{onDrop:i}).dragDropEvent;return T().createElement("div",(0,v.c)({className:_.c.list_item,ref:c},u(o)),T().createElement(G,{name:t,isAsc:l,onChange:function(e){return r(e,a)}}))})),(0,F.memo)((0,F.forwardRef)((function(e,n){var t=e.name,l=e.number,a=e.isAsc,r=e.onChange,o=e.className,c=e.renderTitle,i=(0,F.useMemo)((function(){return[{label:"升序",value:!0},{label:"降序",value:!1}]}),[]);return T().createElement("div",{className:z()(o,_.c.sort_item),ref:n},T().createElement("div",{className:_.c.sort_item_name},void 0!==c&&"function"==typeof c?c({name:t,number:l,isAsc:a}):t),T().createElement("div",{className:_.c.sort_item_extra},T().createElement(I.c,{value:a,options:i,className:_.c.group,onChange:r}),T().createElement(D.Icon,{type:"tuozhuai",prefix:"nocodeplatformicon",className:_.c.sort_item_drag})))})))),q=(0,F.memo)((function(e){var n=e.onAdd,t=e.data,l=e.addText,a=(0,F.useState)(!1),r=(0,g.c)(a,2),o=r[0],c=r[1],i=(0,F.useCallback)((function(e){c(!1),null==n||n(e)}),[n]),u=(0,F.useCallback)((function(e,n){n.checked;var t=n.node,l=(n.event,null==t?void 0:t.key);i(l)}),[i]),s=(0,F.useCallback)((function(e){c(e)}),[]);return T().createElement(D.Tooltip,{tip:o&&T().createElement(L.c,{treeData:t||[],onSelect:u,expandOnClickNode:!1}),placement:"topLeft",trigger:"click",visible:o,onVisibleChange:s,arrow:!1,popperClassName:_.c.tree_panel,popperStyle:{width:448}},T().createElement(A.c,{type:"text",major:!0,icon:{prefix:"ncicon",type:"zengjia-yuan"}},l))})),U=function(e){var n=e.renderFooter,t=e.showClearAll,l=e.onConfirm,a=e.onClear,r=e.onAdd,o=e.data,c=e.getSortCount,i=e.addText,u=(0,F.useCallback)((function(){null==l||l()}),[l]),s=(0,F.useCallback)((function(){null==a||a()}),[a]),d=T().createElement(q,{onAdd:r,data:o,getSortCount:c,addText:i}),f=T().createElement(A.c,{size:"small",className:_.c.clear,onClick:s},"清空"),m=T().createElement(A.c,{size:"small",type:"primary",className:_.c.confirm,onClick:u},"确定");return"function"==typeof n?n(d,f,m):T().createElement("div",{className:_.c.footer},d,T().createElement("div",{className:_.c["btn-group"]},t&&f,m))};n.cp=j},52716:function(e,n,t){t(87912),t(97308);var l=t(13939),a=t.n(l),r=t(34716),o=t.n(r),c=t(70696),i=t.n(c),u=t(4884),s=t.n(u),d=t(3464),f=t.n(d),m=t(51400),p=t.n(m),v=t(25028),h=t.n(v),y=t(2664),g=t(30112),b=t(34984),C=(t(33768),t(29885),t(23992)),E=t.n(C),k=t(38456),N=t.n(k),w=t(67584),S=t.n(w),x=t(20419),F=t.n(x),T=t(65984),I=t.n(T),D=t(47906),_=t(63548),R=t(8460),A=t(93132),M=t(71132),P=t(75080),V=t(774),L=t(71252),B=t.n(L),z=t(57628),O=["data","config","searchValue","tableSelectedKeys","colHeadFilter","tableColumn","primaryKey","tableColumnData","tableFilterData","sorts","visibleColumnKeys","multiSelect","style","searchNode","buttonNode","pageNode","totalNode","onSort","onFilterConfirm","onRowSelectChange","onSearch","onFilterChange","rowSelection","colOperations","onColHeadFilterVisibleChange","onPageChange","onFilterShow","onListSettingConfirm","hideNav","refBillProps","allowSelectAll"];function K(e,n){var t=a()(e);if(o()){var l=o()(e);n&&(l=i()(l).call(l,(function(n){return s()(e,n).enumerable}))),t.push.apply(t,l)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach((function(n){(0,g.c)(e,n,t[n])})):f()?p()(e,f()(t)):K(Object(t)).forEach((function(n){h()(e,n,s()(t,n))}))}return e}var H=(0,T.forwardRef)((function(e,n){var t=e.data,l=e.config,a=e.searchValue,r=e.tableSelectedKeys,o=e.colHeadFilter,c=e.tableColumn,i=e.primaryKey,u=e.tableColumnData,s=e.tableFilterData,d=e.sorts,f=e.visibleColumnKeys,m=e.multiSelect,p=e.style,v=e.searchNode,h=e.buttonNode,g=e.pageNode,C=e.totalNode,k=e.onSort,w=e.onFilterConfirm,x=e.onRowSelectChange,L=e.onSearch,K=e.onFilterChange,H=e.rowSelection,G=e.colOperations,q=e.onColHeadFilterVisibleChange,U=e.onPageChange,W=e.onFilterShow,Y=e.onListSettingConfirm,Z=e.hideNav,Q=e.refBillProps,X=e.allowSelectAll,$=void 0!==X&&X,J=(0,b.c)(e,O),ee=(0,V.c)({config:l,colHeadFilter:o,tableColumn:c,tableFilterData:s,visibleColumnKeys:f,tableColumnData:u,onFilterChange:K,onColHeadFilterVisibleChange:q,onListSettingConfirm:Y}),ne=ee.colHeadFilter,te=ee.tableColumn,le=ee.checkedKeys,ae=ee.lockIndex,re=ee.filterItems,oe=ee.tags,ce=ee.settingPopVisible,ie=ee.filterPopVisible,ue=ee.tableColumnSortList,se=ee.setFilterPopVisible,de=ee.setSettingPopVisible,fe=ee.handleSettingConfirm,me=ee.handleFilterConfirm,pe=ee.onColHeadFilterVisibleChangeAdapt,ve=ee.onTagDelete,he=(0,z.QL)({data:null==t?void 0:t.rows,totalCount:null==t?void 0:t.totalCount,selectedIds:r,multiSelect:m}),ye=he.state,ge=he.action,be=ye.selectedIds,Ce=ye.selectedCount,Ee=ge.onSelectChange,ke=ge.setSelectedInfo,Ne=(0,T.useRef)(),we=(0,T.useMemo)((function(){return I().createElement(D.Text,{size:"small",value:a,onChange:L,allowClear:!0,prefix:I().createElement(_.Icon,{type:"search"}),placeholder:"搜索"})}),[L,a]),Se=(0,T.useMemo)((function(){var e=l||{},n=e.listFilterConfig,t=void 0===n?[]:n,a=e.listItemConfig,r=void 0===a?[]:a,o=(null==t?void 0:E()(t).call(t,(function(e){return j(j({},null==r?void 0:N()(r).call(r,(function(n){return n.number===e.fieldName}))),e)})))||[];return I().createElement(I().Fragment,null,I().createElement(M.c,{className:R.c.tag,filters:oe,onDelete:ve,maxLabelCount:3}),I().createElement("div",{className:R.c.btn},I().createElement(A.c,{title:"筛选",className:R.c.filter_pop,data:o,configuredFilterItems:re,style:{width:640,height:332},showClearAll:!0,visible:ie,colHeadFilter:ne,refBillProps:Q,onColHeadFilterVisibleChange:pe,onClose:function(){return se(!1)},onConfirm:me,onDropdownVisibleChange:function(e){Ne.current=e},onVisibleChange:function(e){S()((function(){Ne.current||se(e)}))}},I().createElement("div",null,I().createElement(D.BtnField,{type:"text",size:"smal",className:oe.length>0?R.c.active:null,text:"筛选",icon:{type:"shaixuanxian",prefix:"ncicon"}}))),I().createElement(P.c,{title:"列设置",className:R.c.setting_pop,checkedKeys:le,data:ue||[],lockIndex:ae,width:560,height:480,visible:ce,onClose:function(){return de(!1)},onConfirm:fe,onVisibleChange:function(e){de(e)}},I().createElement("div",null,I().createElement(D.BtnField,{type:"text",size:"smal",text:"列设置",icon:{prefix:"nocodeplatformicon",type:"lieshezhi"}})))))}),[oe,ve,null==l?void 0:l.listFilterConfig,null==l?void 0:l.listItemConfig,re,ie,ne,pe,me,se,le,u,ae,ce,de,fe]),xe=(0,T.useMemo)((function(){return I().createElement(I().Fragment,null,"已选",($?Ce:null==r?void 0:r.length)||0,"条")}),[Ce]),Fe=(0,T.useMemo)((function(){return{sort:{sorts:d,onSort:k},filter:{filters:re,refBillProps:Q,colHeadFilter:ne,onFilterShow:W,onFilterConfirm:w},colOperations:G}}),[re,ne,d,k,w,W,G]),Te=(0,T.useCallback)((function(e,n,t,l){var a=Ee({next:e,key:n,action:l}),r=a.selectedIds,o=x||H.onChange;null==o||o(r,n,t,l,a)}),[Ee,x,null==H?void 0:H.onChange]);(0,T.useImperativeHandle)(n,(function(){return{setSelectedInfo:ke,getSelectInfo:function(){return ye},onSelectChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.next,t=e.key,l=F()(e),a=e.action;Te(n,t,l,a)}}}),[ye,Te]);var Ie=(0,T.useMemo)((function(){return null!=H?H:{value:r||[],column:{lock:!0},onChange:x,type:m?"checkbox":"radio",clickArea:"row"}}),[H,r,x,m]),De=(0,T.useMemo)((function(){return H?j(j({},H),{},{value:be,onChange:Te}):{value:be||[],column:{lock:!0},onChange:Te,type:m?"checkbox":"radio",clickArea:"row"}}),[H,be,Te,m]);return I().createElement("div",{className:B()(R.c.box,"kd-nc-datagrid-layout"),style:p},!Z&&I().createElement("div",{className:R.c.nav,"data-erea":"nav"},I().createElement("div",{className:R.c.search,"data-erea":"search"},null!=v?v:we),I().createElement("div",{className:R.c.tag_btn,"data-erea":"button"},null!=h?h:Se)),I().createElement(D.TableContext.Provider,{value:Fe},I().createElement(D.DataGrid,(0,y.c)({rowSelection:$?De:Ie,useVirtual:!0,className:R.c.data_grid,columns:te,dataSource:(null==t?void 0:t.rows)||[],style:{height:"100%"},primaryKey:i},J))),I().createElement("div",{className:R.c.footter,"data-erea":"footer"},I().createElement("span",{className:R.c.page_total,"data-erea":"total"},null!=C?C:xe),I().createElement("div",{"data-erea":"page"},null!=g?g:I().createElement(_.Pagination,{pageType:"nicety",dropdownProps:{getPopupContainer:function(){return document.body}},pageSize:(null==t?void 0:t.pageSize)||1,current:(null==t?void 0:t.pageNo)||1,total:(null==t?void 0:t.totalCount)||0,showSizeChanger:!0,showQuickJumper:!1,onChange:U}))))}));H.displayName="DataGridLayout",n.c=(0,T.memo)(H)},65540:function(e,n,t){var l=t(2664),a=t(30112),r=t(50524),o=t.n(r),c=t(65984),i=t.n(c),u=t(63548),s=t(71252),d=t.n(s),f=t(73200),m=t(88156),p=["error"],v=(0,c.memo)((function(e){var n=e.size,t=void 0===n?"middle":n,r=e.className,s=e.readOnly,v=e.disabled,h=e.status,y=e.picker,g=void 0===y?"date":y,b=e.showTime,C=e.showToday,E=e.showNow,k=e.value,N=e.placeholder,w=e.allowClear,S=e.borderType,x=void 0===S?"bordered":S,F=e.style,T=e.onChange,I=(0,c.useMemo)((function(){return s?{inputReadOnly:!0,open:!1}:{}}),[s]),D=d()(m.c["date-picker"],"".concat(f.G,"-datepicker"),(0,a.c)((0,a.c)({},m.c["date-picker-status-".concat(h)],h&&o()(p).call(p,h)),m.c["date-picker-readonly"],s),r),_=void 0!==w?{allowClear:w}:{};return i().createElement(u.DatePicker,(0,l.c)({style:F,className:D,size:t,value:k,picker:g,showTime:b,showToday:C,showNow:E,borderType:x,placeholder:N,disabled:v,onChange:function(e,n){s||v||!T||T(n)}},_,I))}));v.displayName="DatePicker",n.c=v},46624:function(e,n,t){var l=t(2664),a=t(30112),r=t(72048),o=t(50524),c=t.n(o),i=t(65984),u=t.n(i),s=t(63548),d=t(71252),f=t.n(d),m=t(73200),p=t(7219),v=t(14020),h=["error"],y=(0,i.memo)((0,i.forwardRef)((function(e,n){var t=e.picker,o=e.size,d=void 0===o?"middle":o,y=e.className,g=e.popperClassName,b=e.readOnly,C=e.disabled,E=e.status,k=e.showTime,N=e.value,w=e.placeholder,S=e.allowClear,x=e.borderType,F=void 0===x?"bordered":x,T=e.onChange,I=(0,i.useMemo)((function(){return b?{inputReadOnly:!0,open:!1}:{}}),[b]),D=(0,i.useCallback)((function(){var e=0,n=N||[],t=(0,r.c)(n,2),l=t[0],a=t[1];return l&&a&&(e=Math.floor((a.getTime()-l.getTime())/864e5+1)),u().createElement("div",{className:p.c["date-count"]},"共 ",e," 天")}),[N]),_=(0,i.useMemo)((function(){return t||k?{}:{renderExtraFooter:D}}),[t,k,D]),R=f()(p.c["range-picker"],"".concat(m.G,"-rangepicker"),(0,a.c)((0,a.c)({},p.c["range-picker-status-".concat(E)],E&&c()(h).call(h,E)),p.c["range-picker-readonly"],b),y),A=f()(p.c["range-picker-dropdown"],g),M=(0,v.WG)(k?"second":t),P=null!=N&&N[0]?(0,v.Gk)(M,null==N?void 0:N[0]):"",V=null!=N&&N[1]?(0,v.Gk)(M,null==N?void 0:N[1]):"",L=P&&V?P+"~"+V:"";return u().createElement("div",{className:R,ref:n,title:L},u().createElement(s.RangePicker,(0,l.c)({size:d,picker:t,value:N,separator:u().createElement(s.Icon,{prefix:"ncicon",type:"qujianfuhao"}),dropdownClassName:A,showTime:k,borderType:F,placeholder:w,allowClear:S,disabled:C,onChange:function(e,n){b||C||!T||T(!Array.isArray(n)||n[0]||n[0]?n:[])}},_,I)))})));y.displayName="DateRangePicker",n.c=y},84068:function(e,n,t){t.d(n,{U:function(){return m},w:function(){return p}});var l=t(38456),a=t.n(l),r=t(67584),o=t.n(r),c=(t(46428),t(87912),t(33768),t(18080),t(97308),t(65984)),i=t.n(c),u=t(71252),s=t.n(u),d=t(95160),f=t(60644),m=function(e){var n=e.children,t=(0,c.useRef)();return(0,c.useLayoutEffect)((function(){t.current&&(t.current.dataset.dragContainer=!0)}),[t.current]),i().cloneElement(n,{ref:t})},p=function(e){var n=e.children,t=e.index,l=e.onDrop,r=e.disabled,u=void 0!==r&&r,m=(0,c.useRef)(null),p=(0,c.useRef)([]),v=(0,c.useRef)(null),h=(0,c.useRef)(null),y=(0,c.useRef)(0),g=(0,c.useRef)(0),b=(0,c.useRef)([]);(0,c.useEffect)((function(){if(m.current){E();var e=function(e){"true"===String(m.current.dataset.moved)&&e.stopPropagation(),m.current.dataset.moved=!1},n=function(e){var n=m.current,l=e;if(m.current){document.addEventListener("mouseup",o),document.addEventListener("mousemove",r),C(),m.current.dataset.dragging=!0,n.dataset.startY=l.clientY;var a=k(m.current)||m.current.parentElement,c=a.getBoundingClientRect(),i=c.top,u=c.bottom,s=null==a?void 0:a.querySelectorAll("[data-drag-key]");null==s||s.forEach((function(e,n){var t=e.getBoundingClientRect(),l=t.top,a=t.height,r=t.bottom;p.current.push({top:l,height:a,bottom:r,index:Number(e.dataset.dragKey),target:e})})),b.current=[i-p.current[t].top,u-p.current[t].bottom],v.current=t}},r=(0,f.throttle)((function(e){var n;if(m.current&&"true"===m.current.dataset.dragging){var t=e,l=m.current,r=t.clientY-l.dataset.startY;if(!(Math.abs(r)<=2||(m.current.dataset.moved=!0,N(r)))){var o=p.current[v.current],c=o.height,i=o.index,u=o.top;m.current.style.transform="translateY(".concat(r+y.current,"px)"),g.current=r;var s=a()(n=p.current).call(n,(function(e){return e.index===(r>0?i+1:i-1)}));if(s&&r>0){var d=s.top-u-c;if(r>d+s.height/2){var f;y.current+=s.height+d,o.top=u+s.height+d,o.index=i+1,s.top=s.top-c-d,s.index=i;var b=Number(null===(f=s.target.style.transform)||void 0===f||null===(f=f.match(/\((\S*)px/))||void 0===f?void 0:f[1])||0;s.target.style.transform="translateY(".concat(b-c-d,"px)"),h.current=i+1,m.current.dataset.startY=Number(m.current.dataset.startY)+s.height+d}}else if(s&&r<0){var C=u-s.top-c;if(-r>C+s.height/2){var E;y.current-=s.height+C,o.top=u-s.height-C,o.index=i-1,s.top=s.top+c+C,s.index=i;var k=Number(null===(E=s.target.style.transform)||void 0===E||null===(E=E.match(/\((\S*)px/))||void 0===E?void 0:E[1])||0;s.target.style.transform="translateY(".concat(k+c+C,"px)"),h.current=i-1,m.current.dataset.startY=Number(m.current.dataset.startY)-s.height-C}}}}}),15),o=function e(n){var t;if(document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",r),m.current&&"false"!==String(m.current.dataset.dragging)){var a=p.current[v.current];if(a){var o=(a||{}).target,c=Number(null===(t=o.style.transform)||void 0===t||null===(t=t.match(/\((\S*)px/))||void 0===t?void 0:t[1])||0;o.style.transform="translateY(".concat(c-g.current,"px)"),m.current.dataset.dragging=!1,null!==h.current&&(null==l||l(n,{sourceIndex:v.current,destinationIndex:h.current})),C()}}};return m.current.dataset.dragKey=t,u?void 0:(m.current.addEventListener("mousedown",n),m.current.addEventListener("click",e),function(){var t,l;null===(t=m.current)||void 0===t||t.removeEventListener("mousedown",n),null===(l=m.current)||void 0===l||l.removeEventListener("click",e)})}}),[m.current,t,l,u,n]);var C=function(){g.current=0,p.current=[],v.current=null,y.current=0,h.current=null},E=function(){m.current&&(m.current.classList.remove(d.c.draggable),m.current.style.transform="",o()((function(){var e;null===(e=m.current)||void 0===e||e.classList.add(d.c.draggable)})))},k=function(e){for(;;){if("true"===String(e.dataset.dragContainer))return e;if(!e||"BODY"===e.nodeName)return;e=e.parentElement}},N=function(e){var n=y.current+e;return n<b.current[0]||n>b.current[1]};return i().cloneElement(n,{ref:m,draggable:!1,className:s()(n.props.className,d.c.draggable)})}},27656:function(e,n,t){var l=t(2664),a=(t(43924),t(87912),t(97448),t(78504),t(77864),t(65984)),r=t.n(a),o=(0,a.lazy)((function(){return Promise.all([t.e(3296),t.e(208)]).then(t.bind(t,50944))})),c=(0,a.forwardRef)((function(e,n){return r().createElement(a.Suspense,{fallback:r().createElement("span",null)},r().createElement(o,(0,l.c)({ref:n},e)))}));n.c=c},12748:function(e,n,t){var l=t(65984),a=t.n(l),r=t(27732),o=t(73200),c=t(71252),i=t.n(c),u=t(68436),s=["@qq.com","@163.com","@126.com","@sina.com","@139.com","@outlook.com","@sohu.com","@189.cn","@foxmail.com","@163.net"],d=(0,l.memo)((0,l.forwardRef)((function(e,n){var t=e.className,l=e.maxLength,c=e.minLength,d=e.placeholder,f=e.allowClear,m=e.disabled,p=e.onChange,v=e.readOnly,h=e.status,y=e.value,g=e.size,b=void 0===g?"middle":g,C=e.borderType,E=void 0===C?"bordered":C,k=e.suffix,N=e.onBlur;return a().createElement(r.c,{ref:n,className:i()(t,"".concat(o.G,"-email")),size:b,value:y,placeholder:d,maxLength:l,minLength:c,allowClear:f&&a().createElement(u.c,null),disabled:m,onChange:p,borderType:E,"data-readonly":v,suffix:k,suffixList:s,symbol:"@",status:h,onBlur:N})})));d.displayName="EmailField",n.c=d},15700:function(e,n,t){t.d(n,{c:function(){return m}});var l=t(65984),a=t.n(l),r="x5b9wZHD_empty",o="nKUK9p58_img-wrapper",c="pMytZ69M_img",i="_33J6atpu_desc",u=t(73200),s=t(71252),d=t.n(s),f=t(85984),m=function(e){var n=e.desc,t=e.src,l=e.imageWidth,s=e.imageHeight,m=e.textGap;return a().createElement("div",{className:d()(r,"".concat(u.G,"-emptydata"))},a().createElement("div",{className:o,style:{width:l+"px",height:s+"px"}},a().createElement("img",{src:t||f,className:c})),a().createElement("div",{className:i,style:{marginTop:m+"px"}},n||"暂无页面"))}},33240:function(e,n,t){var l=t(65984),a=t.n(l),r=t(15700),o=t(86304);n.c=function(){return a().createElement(r.c,{desc:"暂无搜索结果",src:o})}},12104:function(e,n,t){t(87912),t(97308);var l=t(85640),a=t(81043),r=t(72048),o=t(34984),c=t(2664),i=t(30112),u=t(29052),s=t.n(u),d=t(760),f=t.n(d),m=t(99308),p=t.n(m),v=t(23992),h=t.n(v),y=t(70696),g=t.n(y),b=t(50524),C=t.n(b),E=t(94728),k=t.n(E),N=t(73980),w=t.n(N),S=t(13939),x=t.n(S),F=t(34716),T=t.n(F),I=t(4884),D=t.n(I),_=t(3464),R=t.n(_),A=t(51400),M=t.n(A),P=t(25028),V=t.n(P),L=t(65984),B=t.n(L),z=t(63548),O=t(18872),K=t(71252),j=t.n(K),H=t(47744),G=["validateMessage","children"],q=["className","style","showTitle","labelText","subTitle","labelProps","labelDirection","labelAlign","labelStyle","labelClassName","required","tips","tipsTrigger","tipsDisabled","children","rules","labelWrap"],U=["trigger"];function W(e,n){var t=x()(e);if(T()){var l=T()(e);n&&(l=g()(l).call(l,(function(n){return D()(e,n).enumerable}))),t.push.apply(t,l)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){(0,i.c)(e,n,t[n])})):R()?M()(e,R()(t)):W(Object(t)).forEach((function(n){V()(e,n,D()(t,n))}))}return e}var Z="nc-field-item",Q="change",X=(0,L.memo)((function(e){var n,t=e.labelClassName,l=e.labelProps,a=void 0===l?{}:l,r=e.prefixCls,o=e.align,u=void 0===o?"left":o,s=e.style,d=e.value,m=e.subTitle,p=void 0===m?"":m,v=e.required,h=e.tips,y=e.tipsTrigger,g=void 0===y?"hover":y,b=e.tipsDisabled,C=void 0!==b&&b,E=e.wrap,k=void 0!==E&&E,N=j()(O.c["".concat(r,"-label")],O.c[f()(n="".concat(r,"-label-align-")).call(n,u)],(0,i.c)({},O.c["".concat(r,"-label-nowrap")],!k)),w=j()(t,(0,i.c)((0,i.c)({},O.c["".concat(r,"-label-text-nowrap")],!k),O.c["".concat(r,"-label-text-wrap")],k));return B().createElement("div",(0,c.c)({className:N,style:s},a),B().createElement("label",{className:w,title:d},d),B().createElement("label",{className:O.c["".concat(r,"-sub-title")]},p),v&&B().createElement("span",{className:O.c.mustInput},"*"),h&&B().createElement(z.Tooltip,{placement:"bottom",disabled:C,tip:h,trigger:g,scrollHidden:!0,popperClassName:O.c["".concat(r,"-label-tips")],popperStyle:{"--arrowSpill":"-5px",marginTop:"-4px"}},B().createElement(z.Icon,{type:"tips",className:O.c["".concat(r,"-label-tips-icon")]})))})),$=(0,L.memo)((function(e){var n=e.validateMessage,t=e.children,l=(0,o.c)(e,G),a=j()([O.c["".concat(Z,"-wrapper")]]);return B().createElement("div",(0,c.c)({className:a},l),t,n&&B().createElement("div",{className:j()(O.c["".concat(Z,"-validate-msg")],"nc-validate-msg-global")},n))})),J=(0,L.memo)((0,L.forwardRef)((function(e,n){var t=e.className,u=e.style,d=e.showTitle,m=e.labelText,v=e.subTitle,y=void 0===v?"":v,b=e.labelProps,E=void 0===b?{}:b,N=e.labelDirection,S=void 0===N?"v":N,x=e.labelAlign,F=e.labelStyle,T=e.labelClassName,I=e.required,D=e.tips,_=e.tipsTrigger,R=e.tipsDisabled,A=void 0!==R&&R,M=e.children,P=e.rules,V=e.labelWrap,z=void 0!==V&&V,K=(0,o.c)(e,q),G=(0,L.useState)(""),W=(0,r.c)(G,2),J=W[0],ee=W[1],ne=Y({},(null==M?void 0:M.props)||{}),te=(0,L.useMemo)((function(){var e,n;return null!=P&&P.length?f()(e=(0,a.c)(new(p())(h()(n=g()(P).call(P,(function(e){return e.trigger}))).call(n,(function(e){return e.trigger}))))).call(e,Q):[]}),[P]),le=function(e){var n;return h()(n=g()(P).call(P,(function(n){return!n.trigger||!e||e===Q||(Array.isArray(n.trigger)?C()(t=n.trigger).call(t,e):n.trigger===e);var t}))).call(n,(function(e){e.trigger;return(0,o.c)(e,U)}))},ae=function(){ee("")},re=function(){var e=(0,l.c)(s().mark((function e(n,t){var l,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(l=le(n)).length){e.next=4;break}return ae(),e.abrupt("return");case 4:return a=new H.c({fieldItem:l}),e.abrupt("return",a.validate({fieldItem:t},{firstFields:!0}).then((function(){ae()})).catch((function(e){var n,t;t=e.errors,ee((null==t||null===(n=t[0])||void 0===n?void 0:n.message)||"")})));case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();(0,L.useEffect)((function(){J&&ee("")}),[P]),(0,L.useImperativeHandle)(n,(function(){return{validateFields:function(e,n){re(e,n)},setValidateMessage:ee}}),[P,ee]);var oe={status:""!==J?"error":"success"},ce=(0,L.useMemo)((function(){return k()(te).call(te,(function(e,n){var t="on"+w()(n).call(n,0,1).toUpperCase()+w()(n).call(n,1);return e[t]=function(e){for(var l,a,r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];null==ne||null===(l=ne[t])||void 0===l||l.call.apply(l,f()(a=[ne,e]).call(a,o)),re(n,e)},e}),{})}),[P,M]),ie=j()([t,O.c[Z],(0,i.c)({},O.c["".concat(Z,"-v")],"v"===S),(0,i.c)({},O.c["".concat(Z,"-h")],"h"===S)]);return B().createElement("div",(0,c.c)({className:ie,style:u},K),d&&B().createElement(X,{labelClassName:T,labelProps:E,prefixCls:Z,style:F,align:x,value:m,subTitle:y,required:I,tips:D,tipsTrigger:_,tipsDisabled:A,wrap:z}),B().createElement($,{validateMessage:J},M&&B().cloneElement(M,Y(Y(Y({},ne),oe),ce))))})));X.displayName="FieldLabel",$.displayName="FieldWrap",J.displayName="FieldItem",J.Label=X,n.c=J},58108:function(e,n,t){var l=t(13939),a=t.n(l),r=t(34716),o=t.n(r),c=t(4884),i=t.n(c),u=t(3464),s=t.n(u),d=t(51400),f=t.n(d),m=t(25028),p=t.n(m),v=t(2664),h=t(81043),y=t(30112),g=t(72048),b=(t(21300),t(87912),t(97308),t(24496),t(70696)),C=t.n(b),E=t(760),k=t.n(E),N=t(23992),w=t.n(N),S=t(61260),x=t.n(S),F=t(65984),T=t.n(F),I=t(63548),D=t(98308),_=t(89272),R=t(64936),A=t(71252),M=t.n(A),P=t(63092),V=t(63420),L=t(5680),B=t(64947),z=t(93516),O=t(60644);function K(e,n){var t=a()(e);if(o()){var l=o()(e);n&&(l=C()(l).call(l,(function(n){return i()(e,n).enumerable}))),t.push.apply(t,l)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach((function(n){(0,y.c)(e,n,t[n])})):s()?f()(e,s()(t)):K(Object(t)).forEach((function(n){p()(e,n,i()(t,n))}))}return e}var H=(0,F.memo)((0,F.forwardRef)((function(e,n){var t,l=e.onChange,a=e.className,r=e.required,o=e.nameHidden,c=e.name,i=e.tips,u=e.title,s=e.readonly,d=e.value,f=void 0===d?[]:d,m=e.listFilterConfig,p=void 0===m?[]:m,y=e.variablesTree,b=void 0===y?[]:y,E=e.onGetFieldRecords,N=e.fieldRecords,S=e.style,A=e.showFooter,K=void 0===A||A,H=e.showVarSelect,G=void 0===H||H,q=e.filterFooterData,U=void 0===q?{}:q,W=e.preConnectData,Y=e.fieldData,Z=e.compareTypeData,Q=e.valueData,X=e.refBillProps,$=e.valueRequired,J=e.getVarSelectDisabled,ee=void 0===J?L.getVarSelectDisabled:J,ne=e.getVarSelectProps,te=L.filterDataTransform,le=L.getNewCompareTypes,ae=L.filterNoValue,re=L.getNewVerifyData,oe=L.canClearSourceField,ce=L.getSelItem,ie=L.filterVariablesTree,ue=L.filterVariablesTreeFlow,se=U.listType,de=U.triggerText,fe=void 0===de?"添加筛选条件":de,me=U.listData,pe=U.hiddenClear,ve=U.treeProps,he=void 0===ve?{}:ve,ye=U.onChange,ge=(0,B.getTreeDataFlatten)((0,O.cloneDeep)(b)),be=(0,F.useState)(!1),Ce=(0,g.c)(be,2),Ee=Ce[0],ke=Ce[1],Ne=(0,F.useRef)(null),we=(0,F.useState)([]),Se=(0,g.c)(we,2),xe=Se[0],Fe=Se[1],Te=(0,F.useMemo)((function(){return!1===(null==Y?void 0:Y.enableFilterDataTransform)?f:te(f,p)||[]}),[f,p,Y]);(0,F.useImperativeHandle)(n,(function(){return{updateVerifyAndGetMsg:function(){var e=ae(Te);return Fe(e),C()(e).call(e,(function(e){return!e.verifyStatus}))}}}),[Te]);var Ie=(0,F.useCallback)((function(e){return j(j({},e),{},{value:e.value||[]})}),[]),De=function(e){var n=(0,L.getNewDefaultFilterDataExcept)(p,e,Te);n&&l(k()(f).call(f,Ie(n))),ke(!1)},_e=(0,F.useCallback)((function(e){ke(e)}),[]),Re=(0,F.useCallback)((function(){(null==f?void 0:f.length)>0&&l([])}),[f,l]),Ae=(0,F.useCallback)((function(e,n){var t=[];f.forEach((function(l,a){n===a?(t.push(Ie({fieldName:l.fieldName,compareType:e})),null!=xe&&xe[a]&&Fe(re(a,xe))):t.push(Ie({fieldName:l.fieldName,compareType:l.compareType,value:l.value}))})),l(t)}),[f,l,xe]),Me=(0,F.useCallback)((function(e,n,t){var a=[],r=ce(0===(null==p?void 0:p.length)?t:p,e),o=r?r.fieldCaption?ie(t,r):ue(t,j({id:null==r?void 0:r.fieldName,canMulit:!1,flowEditorType:null==Y?void 0:Y.flowEditorType},r)):[];f.forEach((function(t,l){if(n===l){var r,c,i=le(p,e,t.compareType);i.canChange&&0!==(null==p?void 0:p.length)||"var"!==(null===(r=t.value[0])||void 0===r?void 0:r._type)||!oe(o,null===(c=t.value[0])||void 0===c?void 0:c.fieldValue)?a.push(Ie({fieldName:e,compareType:i.compareType})):a.push(Ie({fieldName:e,compareType:i.compareType,value:t.value})),null!=xe&&xe[l]&&Fe(re(l,xe))}else a.push(Ie({fieldName:t.fieldName,compareType:t.compareType,value:t.value}))})),l(a)}),[f,p,l,xe,null==Y?void 0:Y.flowEditorType]),Pe=function(e){var n=ge[e];return!!n&&{fieldValue:e,label:((null==n?void 0:n.titlePrefix)||"")+n.title,type:"normal",_type:"var"}},Ve=(0,F.useCallback)((function(e){var n=0;return Te.forEach((function(t){t.fieldName===e&&n++})),n}),[Te]),Le=(0,F.useCallback)((function(e){null==E||E(e)}),[E]);return T().createElement(I.ConfigProvider,{value:{prefixCls:"kd"}},T().createElement("div",{className:M()(z.c.editor,"kd-nc-filter-editor",a),style:S},T().createElement(D.c,{nameHidden:o,className:z.c.title,name:c,tips:i,required:r,title:u}),Te.length>0&&T().createElement("div",{className:z.c.filter_content_wrapper},T().createElement(_.c,{readonly:s,data:p,configFilters:Te,colHeadFilter:N,variablesTree:b,onDelete:function(e){var n=(0,h.c)(f);x()(n).call(n,e,1),l(n)},onCompareTypeChange:Ae,onFilterChang:Me,onValueChange:function(e,n){var t=(0,O.isArray)(e)?e:[e];t=w()(t).call(t,(function(e){return Pe(e.fieldValue)||e}));var a=w()(f).call(f,(function(e,l){return Ie(n===l?{fieldName:e.fieldName,compareType:e.compareType,value:t,_type:"var"}:{fieldName:e.fieldName,compareType:e.compareType,value:e.value})}));l(a)},onGetColheadFilter:Le,onVarSelect:function(e,n,t){var a=[];if(e.length>0){var r=w()(e).call(e,(function(e){return Pe(e)||{fieldValue:e||""}}));f.forEach((function(e,n){t===n?a.push(Ie({fieldName:e.fieldName,compareType:e.compareType,value:r,_type:"var"})):a.push(Ie({fieldName:e.fieldName,compareType:e.compareType,value:e.value,_type:"var"}))}))}else f.forEach((function(e,n){t===n?a.push(Ie({fieldName:e.fieldName,compareType:e.compareType,_type:"var"})):a.push(Ie({fieldName:e.fieldName,compareType:e.compareType,value:e.value,_type:"var"}))}));l(a)},preConnectData:W,fieldData:Y,compareTypeData:Z,valueData:Q,refBillProps:X,valueRequired:$,showVarSelect:G,verifyData:xe,getVarSelectDisabled:ee,getVarSelectProps:ne})),!s&&K&&T().createElement("div",{className:z.c.footer,ref:Ne},"tree"===se?T().createElement(I.Tooltip,{tip:T().createElement(P.c,(0,v.c)({treeData:me||p||[],onSelect:function(e,n){var t=n.checked,l=n.node,a=n.event;if(ye){!1!==ye(e,{checked:t,node:l,event:a})&&ke(!1)}else{var r=null==l?void 0:l.key;De(r)}},expandOnClickNode:!1,defaultExpandAll:!1},he)),placement:"bottomLeft",trigger:"click",visible:Ee,onVisibleChange:_e,arrow:!1,popperClassName:z.c.tree_panel,popperStyle:{width:(null===(t=Ne.current)||void 0===t?void 0:t.offsetWidth)||600}},T().createElement(R.c,{type:"text",major:!0,icon:{prefix:"ncicon",type:"zengjia-yuan"}},fe)):T().createElement(V.c,{onAdd:De,filters:p,triggerText:fe,popperClassName:z.c.panel,getFilterCount:Ve}),!pe&&!(null==f||!f.length)&&T().createElement(R.c,{size:"middle",type:"text",onClick:Re},"清空"))))})));H.displayName="FilterEditor",n.c=H},98576:function(e,n,t){var l=t(65984),a=t.n(l),r=t(90816);n.c=a().memo((function(e){return a().createElement(a().Fragment,null,a().createElement("div",{className:r.c.flexpanel,id:e.id,style:e.style},e.children))}))},93092:function(e,n,t){var l=t(2664),a=t(30112),r=t(34984),o=t(65984),c=t.n(o),i=t(71252),u=t.n(i),s=t(33544),d=t(14020),f=["image","title"],m=(0,o.memo)((function(e){var n=e.image,t=e.title,o=(0,r.c)(e,f);if(n||t)return c().createElement("div",(0,l.c)({className:u()(s.c.banner,(0,a.c)({},s.c.banner_bg,n))},o),n&&c().createElement("img",{className:s.c.bg,src:(0,d.oA)(n)}),c().createElement("div",{className:s.c.title},c().createElement("span",{title:t},t)))}));m.displayName="FormBanner",n.c=m},36260:function(e,n,t){var l=t(65984),a=t.n(l),r=t(95288),o=t(14020),c=t(42820),i=(0,l.memo)((function(e){var n=e.content,t=e.autoHeight,l=e.defaultHeight;return a().createElement("div",{className:r.c.graphic_display,style:{height:t?"auto":l},dangerouslySetInnerHTML:{__html:(0,o.We)((0,c.Y7)(n))||"-"}})}));i.displayName="GraphicDisplay",n.c=i},90700:function(e,n,t){var l=t(2664),a=t(34984),r=t(23992),o=t.n(r),c=(t(46428),t(65984)),i=t.n(c),u=t(63548),s=t(14020),d=t(71252),f=t.n(d),m=t(95688),p=["children","column","gutter","style","className"],v=(0,c.memo)((function(e){var n,t=e.children,r=e.column,c=e.gutter,d=e.style,v=e.className,h=(0,a.c)(e,p);if(!t||0===t.length)return null;return i().createElement("div",(0,l.c)({className:f()(m.c.grid,v,"kd-nc-grid-panel"),style:d},h),i().createElement(u.Row,{gutter:c||[24,24]},o()(n=(0,s.wN)(t)).call(n,(function(e,n){var t=(null==e?void 0:e.props)||{},l=t.columnSpan,a=t.itemKey,o=function(e){var n=24/(Number(r)||1)*(Number(e)||1);return Math.min(n,24)}(l);return i().createElement(u.Col,{span:o,key:a||n},i().cloneElement(e,{itemKey:a,columnSpan:Math.min(l,r)}))}))))}));v.displayName="GridPanel",n.c=v},7456:function(e,n,t){var l=t(72048),a=t(65984),r=t.n(a),o=t(89848),c=t(14020);n.c=function(e){var n=(0,a.useState)(!1),t=(0,l.c)(n,2),i=t[0],u=t[1],s=(0,a.useRef)();return(0,a.useEffect)((function(){e.src&&(s.current=document.createElement("img"),s.current.setAttribute("src",(0,c.oA)(e.src)),s.current.onload=function(){u(!0),s.current=null},s.current.onerror=function(){})}),[e.src]),i?r().createElement("img",e):r().createElement("img",{className:e.className,src:e.default||o})}},24188:function(e,n,t){var l=t(3460),a=t(27688),r=t(30112),o=t(72048),c=t(760),i=t.n(c),u=(t(21300),t(99768),t(65984)),s=t.n(u),d=t(16428),f=t.n(d),m=t(63548),p=t(41064),v=t(14020);function h(e){var n,t,l,a=e.datas,r=e.onDownload,c=(0,u.useState)(e.index),d=(0,o.c)(c,2),f=d[0],h=d[1],g=(0,u.useState)(0),b=(0,o.c)(g,2),C=b[0],E=b[1],k=(0,u.useState)(1),N=(0,o.c)(k,2),w=N[0],S=N[1],x=(0,u.useState)([0,0]),F=(0,o.c)(x,2),T=F[0],I=F[1],D=(0,u.useRef)(null),_=function(){y.close()},R=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var n=e.clientX,t=e.clientY;document.body.style.overflow="hidden",document.onmousemove=function(e){var l=e.clientX,a=e.clientY;I([l-n,a-t])}};(0,u.useEffect)((function(){D.current.onmousedown=R,D.current.onmouseup=function(){document.onmousemove=null,document.body.style.overflow="",I([0,0])}}),[]);var A=0===f?{opacity:.5}:{},M=f===a.length-1?{opacity:.5}:{},P=1===w?{opacity:.5}:{};return s().createElement(s().Fragment,null,s().createElement("div",{className:p.c.mask,onClick:_}),s().createElement("div",{className:p.c.nav},s().createElement("div",null,a[f].name||"",s().createElement("span",null,a[f].size?"".concat((a[f].size/1024/1024).toFixed(2),"M"):"")),s().createElement("div",{className:p.c.curr},i()(n="".concat(f+1,"/")).call(n,a.length)),s().createElement("div",{className:p.c.close,onClick:_},s().createElement(m.Icon,{type:"close-solid"}),"关闭")),s().createElement("div",{className:p.c.image_con,onClick:_,style:{transform:i()(t="translate(".concat(T[0],"px, ")).call(t,T[1],"px)")}},s().createElement("img",{ref:D,className:p.c.image,style:{transform:i()(l="scale(".concat(w,") rotate(")).call(l,C,"deg)")},src:(0,v.oA)(a[f].url)})),s().createElement("div",{className:p.c.btns},s().createElement(m.Icon,{type:"arrow-left",style:A,onClick:function(){h(0===f?a.length-1:f-1)}}),s().createElement(m.Icon,{type:"shrink",style:P,onClick:function(){w<=1||S(w-.25)}}),s().createElement(m.Icon,{type:"zoom",onClick:function(){w>=2||S(w+.25)}}),s().createElement(m.Icon,{type:"counterclockwise",onClick:function(){E(C-90)}}),s().createElement(m.Icon,{type:"download",onClick:function(){if(r)return r(a[f]);var e=(0,v.oA)(a[f].url),n=a[f].name,t=document.createElement("a"),l=new MouseEvent("click");t.download=n||"default.png",t.href=e,t.dispatchEvent(l)}}),s().createElement(m.Icon,{type:"arrow-right",style:M,onClick:function(){h(f===a.length-1?0:f+1)}})))}var y=(new(function(){function e(){(0,l.c)(this,e),(0,r.c)(this,"instance",void 0),(0,r.c)(this,"ref",void 0),(0,r.c)(this,"bodyStyle",void 0),this.instance=null,this.ref=null,this.bodyStyle=""}return(0,a.c)(e,[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}},{key:"close",value:function(){document.body.removeChild(this.ref),this.bodyStyle?document.body.setAttribute("style",this.bodyStyle):document.body.removeAttribute("style"),this.ref=null}},{key:"show",value:function(e,n,t){this.ref||(this.ref=document.createElement("div")),this.bodyStyle=document.body.getAttribute("style"),document.body.setAttribute("style","".concat(this.bodyStyle||"",";overflow: hidden")),f().render(s().createElement(h,{index:n,datas:e,onDownload:t}),this.ref),document.body.appendChild(this.ref)}}]),e}())).getInstance();n.c=y},81992:function(e,n,t){var l=t(30112),a=t(72048),r=t(34984),o=t(71252),c=t.n(o),i=t(65984),u=t.n(i),s=t(47906),d=t(66832),f=t(57344),m=["varSelectProps","render","verifyData"],p=(0,i.memo)((function(e){var n=e.errorMessage,t=e.children,l=e.className;return u().createElement("div",{className:c()(f.c.errortext,l)},t,n&&u().createElement("div",{className:f.c.errortext_tips},n))}));p.displayName="FloatErrorText";n.c=function(e){var n=e.varSelectProps,t=e.render,o=e.verifyData,c=(0,r.c)(e,m),v=e.required,h=e.value,y=(0,i.useState)(!1),g=(0,a.c)(y,2),b=g[0],C=g[1];(0,i.useEffect)((function(){null==o||!o.msg||null!=o&&o.verifyStatus||!b&&C(!0)}),[o]),(0,i.useEffect)((function(){(null!=h&&h.length||h instanceof Date)&&b&&C(!1)}),[h]);var E,k=n?u().createElement(s.InputVarSelect,n,"function"==typeof t?t(c):u().createElement(d.c,c)):u().createElement(d.c,c);return v&&b&&((E=h)instanceof Array||E instanceof String?!E.length:!E)?u().createElement(p,{errorMessage:"值不能为空",className:(0,l.c)({},f.c.err_container,n)},k):k}},66832:function(e,n,t){var l=t(65984),a=t.n(l),r=t(11628);n.c=function(e){return a().createElement(r.c,e)}},69616:function(e,n,t){var l=t(2664),a=t(72048),r=t(34984),o=t(67584),c=t.n(o),i=t(65984),u=t.n(i),s=t(63548),d=t(47906),f=t(71252),m=t.n(f),p=t(44148),v=t(22740),h=t(66832),y=["className","popperClassName","children","visible","showSearch","selectedKeys","data","defaultExpandAll","expandKeys","readonly","onChange","onVisibleChange","onSelect","onBlur","onClear","renderSuffix","varSelectActive","onVarSelectActive","dropdownRender","type","value","onClick","fieldType","disabled","isVar"],g=function e(n,t){var l=t;Array.isArray(t)||(l=[t]);for(var a=0;a<l.length;a++){var r=l[a];if(!r)return null;if(r.key===n)return r;var o=e(n,r.children);if(o)return o}return null},b=(0,i.memo)((function(e){var n=e.className,t=e.popperClassName,o=e.children,f=e.visible,b=e.showSearch,C=e.selectedKeys,E=e.data,k=e.defaultExpandAll,N=void 0!==k&&k,w=(e.expandKeys,e.readonly),S=e.onChange,x=e.onVisibleChange,F=e.onSelect,T=e.onBlur,I=e.onClear,D=(e.renderSuffix,e.varSelectActive),_=e.onVarSelectActive,R=e.dropdownRender,A=e.type,M=e.value,P=e.onClick,V=e.fieldType,L=e.disabled,B=e.isVar,z=(0,r.c)(e,y),O=(0,i.useState)(!1),K=(0,a.c)(O,2),j=K[0],H=K[1],G=(0,i.useState)(!!f),q=(0,a.c)(G,2),U=q[0],W=q[1],Y=(0,i.useState)(M),Z=(0,a.c)(Y,2),Q=Z[0],X=Z[1],$=(0,i.useRef)(!1),J=(0,i.useRef)(!(null==C||!C.length));J.current=!(null==C||!C.length),(0,i.useEffect)((function(){X(M),M&&le(!0)}),[M]),(0,i.useEffect)((function(){H(D)}),[D]),(0,i.useEffect)((function(){W(!!f)}),[f]),(0,i.useEffect)((function(){if("treeSelect"===A)if((null==C?void 0:C.length)>0){var e=C[0],n=g(e,E);n&&(X(null==n?void 0:n.label),null==S||S(null==n?void 0:n.label))}else X(""),null==S||S("")}),[C,A]);var ee=m()(v.c.varselect,n),ne=function(e){null==F||F([]),null==I||I(e),le(!1),te(!1)},te=function(e){U!==e&&(x?x(e):W(e))},le=function(e){j!==e&&(_?_(e):H(e))},ae={popperClassName:t,showSearch:b,treeData:E,visible:U,disabled:w,onVisibleChange:function(e){var n=c()((function(){clearTimeout(n),n=null,!0===U&&$.current&&!1===e||(te(e),J.current||$.current?le(!0):le(!(void 0===B||!B)||e))}),0)},onChange:function(e,n){var t=[e],l=null==n?void 0:n[0];l?(null==F||F(t,l),le(!0),te(!1)):ne()},value:null==C?void 0:C[0],onBlur:function(){$.current=!1,null==T||T()},onFocus:function(){$.current=!0},treeDefaultExpandAll:N,showFullLabelTips:!0,placement:"bottomRight",dropdownRender:R,Icon:u().createElement(s.Icon,{prefix:"ncicon",type:"duixiangxuanze"})},re={popperClassName:t,value:null==C?void 0:C[0],options:E,onItemClick:function(e){null==F||F([e]),te(!1)},visible:U,onVisibleChange:function(e){Q?(te(!1),le(!0)):(te(e),le(e))}},oe={treeSelect:[d.KDTreeSelect,ae],dropdownSelect:[p.c,re]},ce=(0,a.c)(oe[A||"treeSelect"],2),ie=ce[0],ue=ce[1];return u().createElement("div",{className:ee},j?u().createElement(ie,ue,u().createElement("div",{className:v.c.varselect_input_wrapper},u().createElement(h.c,(0,l.c)({},z,{readonly:w,active:U,onClick:function(){null==P||P()},onClear:ne,value:Q||"",fieldType:V||"selectInput",renderSuffix:function(){return u().createElement(s.Icon,{className:"varicon",prefix:"ncicon",type:"duixiangxuanze"})}})))):u().createElement(u().Fragment,null,o,!w&&u().createElement(d.BtnField,{disabled:L,className:v.c.varselect_btn,icon:{prefix:"ncicon",type:"duixiangxuanze",style:{color:"#999"}},onClick:function(){te(!0),le(!0)},title:"选择表单内容"})))}));b.displayName="InputVarSelect",n.c=b},79012:function(e,n,t){t.d(n,{w7:function(){return Y}});var l=t(13939),a=t.n(l),r=t(34716),o=t.n(r),c=t(4884),i=t.n(c),u=t(3464),s=t.n(u),d=t(51400),f=t.n(d),m=t(25028),p=t.n(m),v=t(2664),h=t(72048),y=t(34984),g=t(81043),b=t(30112),C=(t(87912),t(97308),t(52892)),E=t.n(C),k=t(760),N=t.n(k),w=t(23992),S=t.n(w),x=t(70696),F=t.n(x),T=t(94728),I=t.n(T),D=t(99308),_=t.n(D),R=t(65984),A=t.n(R),M=t(63548),P=t(71252),V=t.n(P),L=t(73200),B=t(15700),z=t(60644),O=t(36460),K=t(14020),j=t(64947),H=["size","mode","className","readOnly","disabled","value","placeholder","allowClear","borderType","onChange","treeData","showFullLabelTips","treeDefaultExpandedKeys","notFoundContent","suffixIcon"];function G(e,n){var t=a()(e);if(o()){var l=o()(e);n&&(l=F()(l).call(l,(function(n){return i()(e,n).enumerable}))),t.push.apply(t,l)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){(0,b.c)(e,n,t[n])})):s()?f()(e,s()(t)):G(Object(t)).forEach((function(n){p()(e,n,i()(t,n))}))}return e}function U(e){var n,t=new(E());function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e.key,r=q(q({},e),{},{childrenKeys:[],parentKeys:n});if(t.set(a,r),e.children){var o,c=[];null===(o=e.children)||void 0===o||o.forEach((function(e){var o,i,u,s=l(e,N()(o=[]).call(o,(0,g.c)(n),[a]));c.push(s);var d=t.get(s).childrenKeys;(i=r.childrenKeys).push.apply(i,N()(u=[s]).call(u,(0,g.c)(d)))}))}return a}return null==e||null===(n=e.forEach)||void 0===n||n.call(e,(function(e){l(e)})),t}var W=(0,R.memo)((0,R.forwardRef)((function(e,n){var t=e.title,l=e.titlePrefix;return l?A().createElement("div",{className:O.c["tree-node-wrapper"],ref:n},A().createElement("span",{className:O.c.titlePrefix},l),A().createElement("span",{className:O.c.title},t)):t||""}))),Y=function(e,n){return A().createElement(W,{title:e,titlePrefix:n})},Z=(0,R.memo)((function(e){var n=e.size,t=void 0===n?"middle":n,l=e.mode,a=void 0===l?"single":l,r=e.className,o=e.readOnly,c=e.disabled,i=e.value,u=e.placeholder,s=void 0===u?"请选择":u,d=e.allowClear,f=void 0===d||d,m=e.borderType,p=void 0===m?"bordered":m,C=e.onChange,E=e.treeData,k=e.showFullLabelTips,w=void 0!==k&&k,x=e.treeDefaultExpandedKeys,T=e.notFoundContent,D=e.suffixIcon,P=(0,y.c)(e,H),G=(0,R.useState)(x),q=(0,h.c)(G,2),W=q[0],Y=q[1],Z=(0,R.useMemo)((function(){return(0,j.transformTreeNodeTitle)(E)}),[E]),Q=(0,R.useMemo)((function(){return U(Z)}),[Z]);(0,R.useLayoutEffect)((function(){if(!W&&Q.size>0){var e,n=F()(e=(0,K.wN)(i)).call(e,Boolean);if(n.length){var t,l=F()(t=I()(n).call(n,(function(e,n){var t=(Q.get(n)||{}).parentKeys,l=void 0===t?[]:t;return N()(e).call(e,l)}),[])).call(t,Boolean);Y((0,g.c)(new(_())(l)))}}}),[Z]);var X=V()(O.c["tree-select"],"".concat(L.G,"-tree-select"),(0,b.c)((0,b.c)({},O.c["tree-select-readonly"],o),"suffix-icon-no-animation",!!D),r),$=(0,R.useMemo)((function(){return(0,z.isUndefined)(T)?A().createElement(B.c,{desc:"暂无数据"}):A().createElement("div",{className:O.c["not-found-content"]},T)}),[T]),J=(0,R.useMemo)((function(){if(!w)return"";if("multiple"===a)return"";var e=Q.get(i)||{};return(null==e?void 0:e.fullLabel)||""}),[i,a,Q]);return A().createElement(M.Tooltip,{tip:"完整路径：".concat(J),disabled:!J,mouseEnterDelay:.3},A().createElement(M.TreeSelect,(0,v.c)({className:X,size:t,treeData:Z,value:i,disabled:c,allowClear:f,borderType:p,mode:a,placeholder:s,onChange:function(e,n){if(!o&&!c&&C)if("multiple"===a){var t,l=S()(t=e||[]).call(t,(function(e){return Q.get(e)}));C(e||[],l)}else C(e||"",n||[])},treeDefaultExpandedKeys:W,treeExpandOnClickNode:!0,notFoundContent:$,dropdownStyle:{minWidth:"320px",maxHeight:"360px"},virtual:!1,suffixIcon:D,tagRender:w?function(e){var n=e.key,t=e.onClose,l=e.title,a=e.fullLabel;return A().createElement(M.Tooltip,{tip:"完整路径：".concat(a),mouseEnterDelay:.3},A().createElement(M.Tag,{type:"edit",onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},closable:!0,onClose:function(e){return t(e,n)},style:{marginRight:8}},l))}:void 0,treeNodeFilterProp:"label"},P)))}));Z.displayName="TreeSelect",W.displayName="TreeNodeTitle",n.cp=Z},75324:function(e,n,t){var l=t(65984),a=t.n(l);n.c=function(e){var n=e.text,t=e.style,l=e.className,r=e.onClick;return a().createElement("p",{className:l,onClick:r,style:t},n)}},29620:function(e,n,t){var l=t(65984),a=t.n(l),r=t(63548);n.c=function(e){var n=e.height,t=e.width;return a().createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:n+"px"||0,width:t+"px"||0}},a().createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"48px",width:"100%"}},a().createElement(r.Spin,{name:"Spin"})))}},81512:function(e,n,t){var l=t(30112),a=t(50524),r=t.n(a),o=t(65984),c=t.n(o),i=t(63548),u=t(71252),s=t.n(u),d=t(73200),f=t(61560),m=["error"],p=(0,o.memo)((0,o.forwardRef)((function(e,n){var t=e.type,a=void 0===t?"embed":t,u=e.size,p=void 0===u?"middle":u,v=e.className,h=e.readOnly,y=e.disabled,g=e.status,b=e.value,C=e.placeholder,E=e.allowClear,k=e.showStepper,N=void 0===k||k,w=e.stepBtnClassName,S=e.decimalLength,x=e.formatter,F=e.max,T=e.maxMark,I=void 0===T?"]":T,D=e.min,_=e.minMark,R=void 0===_?"[":_,A=e.mustInPrecisionScope,M=void 0===A||A,P=e.mustInScope,V=void 0!==P&&P,L=e.onChange,B=e.onBlur,z=e.showDecimalTailZero,O=void 0===z||z,K=e.step,j=void 0===K?1:K,H=e.symbol,G=e.digitLength;(0,o.useEffect)((function(){var e,t=(null==n||null===(e=n.current)||void 0===e?void 0:e.input)||(null==n?void 0:n.current);t&&h&&t.setAttribute("readOnly",!0)}),[null==n?void 0:n.current]);var q=(0,o.useCallback)((function(e){var n;if(!h&&!y&&L){var t=null===(n=e.target)||void 0===n?void 0:n.value;L(t,!!e.currentTarget)}}),[L,h,y]),U=s()(f.c["input-number"],"".concat(d.G,"-input-number"),(0,l.c)((0,l.c)((0,l.c)({},f.c["input-number-show-stepper"],N),f.c["input-number-readonly"],h),f.c["input-number-status-".concat(g)],g&&r()(m).call(m,g)),v);return c().createElement("div",{className:U},c().createElement(i.Stepper,{ref:n,type:a,className:U,size:p,value:b,placeholder:C,allowClear:E&&c().createElement(i.Icon,{prefix:"ncicon",type:"qingkongtubiao"}),disabled:y,onChange:q,"data-readonly":h,readOnly:h,stepBtnClassName:w,decimalLength:S,formatter:x,max:F,maxMark:I,min:D,minMark:R,mustInPrecisionScope:M,mustInScope:V,showDecimalTailZero:O,onBlur:B,step:j,zeroShow:!0,symbol:H,digitLength:G}))})));p.displayName="Number",n.c=p},77712:function(e,n,t){t(87912),t(97308);var l=t(34716),a=t.n(l),r=t(70696),o=t.n(r),c=t(4884),i=t.n(c),u=t(3464),s=t.n(u),d=t(51400),f=t.n(d),m=t(25028),p=t.n(m),v=t(81043),h=t(30112),y=t(72048),g=t(13939),b=t.n(g),C=t(23992),E=t.n(C),k=t(50524),N=t.n(k),w=t(760),S=t.n(w),x=t(61260),F=t.n(x),T=(t(21300),t(65984)),I=t.n(T),D=t(63548),_=t(98308),R=t(64936),A=t(57068),M=t(63092),P=t(64947),V=t(83648),L=t(71252),B=t.n(L);function z(e,n){var t=b()(e);if(a()){var l=a()(e);n&&(l=o()(l).call(l,(function(n){return i()(e,n).enumerable}))),t.push.apply(t,l)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){(0,h.c)(e,n,t[n])})):s()?f()(e,s()(t)):z(Object(t)).forEach((function(n){p()(e,n,i()(t,n))}))}return e}n.c=function(e){var n,t=e.onChange,l=e.className,a=e.style,r=e.footerStyle,o=e.required,c=e.nameHidden,i=e.name,u=e.tips,s=e.readonly,d=e.value,f=void 0===d?[]:d,m=e.treeData,p=(0,T.useRef)(null),h=(0,T.useState)(!1),g=(0,y.c)(h,2),C=g[0],k=g[1],w=(0,T.useMemo)((function(){return(0,P.transformTreeNodeTitle)(m)}),[m]),x=(0,T.useMemo)((function(){return Array.isArray(m)?(0,P.getTreeDataFlatten)(w,{}):{}}),[w]),L=(0,T.useMemo)((function(){return Array.isArray(f)&&b()(x).length>0?E()(f).call(f,(function(e){var n=x[e.number];return O(O({},e),{},{name:(null==n?void 0:n.label)||""})})):[]}),[f,x]),z=(0,T.useMemo)((function(){return E()(L).call(L,(function(e){return e.number}))}),[L]),K=(0,T.useMemo)((function(){return(0,P.excludeTreeNodeByKeys)(m,z)}),[m,z]),j=(0,T.useCallback)((function(e){k(e)}),[]);return I().createElement("div",{className:B()(V.c.editor,l),style:a},I().createElement(_.c,{nameHidden:c,className:V.c.title,name:i,tips:u,required:o}),s?I().createElement(I().Fragment,null,E()(L).call(L,(function(e,n){var t=e.name,l=e.value,a=e.number;return I().createElement("div",{className:V.c.editor_readonly_item,key:a+n},t,"-","true"===l?"升序":"降序")}))):I().createElement("div",{className:V.c.order_list_wrapper},(null==L?void 0:L.length)>0&&I().createElement(A.MZ,{itemClass:V.c.orderby_list_item,className:V.c.orderby_list,sorts:L||[],onDrop:function(e,n,l){var a=n.sourceIndex,r=n.destinationIndex;if(a!==r){var o=(0,v.c)(L),c=F()(o).call(o,a,1),i=(0,y.c)(c,1)[0];F()(o).call(o,r,0,i),t(o)}},onChage:function(e,n,l){var a=(0,v.c)(L);a[l]=O(O({},a[l]),{},{isAsc:"true"===e}),t(a)},onDelete:function(e,n){var l=(0,v.c)(L);F()(l).call(l,n,1),t(l)},renderTitle:function(e){e.name;var n=e.number,t=(0,P.dfs)(w,(function(e){return e.key===n}))||{},l=t.title,a=t.fullLabel;return I().createElement(D.Tooltip,{tip:"完整路径：".concat(a)},l)}}),I().createElement("div",{className:V.c.orderby_footer,style:r,ref:p},I().createElement(D.Tooltip,{tip:I().createElement(M.c,{treeData:K||[],onSelect:function(e,n){n.checked;var l=n.node;n.event;!function(e){if(!N()(z).call(z,e)){var n,l=S()(n=[]).call(n,(0,v.c)(L),[{number:e,isAsc:!0}]);t(l)}k(!1)}(null==l?void 0:l.key),k(!1)},expandOnClickNode:!1,defaultExpandAll:!1}),placement:"bottomLeft",trigger:"click",visible:C,onVisibleChange:j,arrow:!1,popperClassName:V.c.tree_panel,popperStyle:{width:(null===(n=p.current)||void 0===n?void 0:n.offsetWidth)||600}},I().createElement(R.c,{type:"text",major:!0,icon:{prefix:"ncicon",type:"zengjia-yuan"}},"添加排序规则")),(null==f?void 0:f.length)>0&&I().createElement(R.c,{size:"middle",type:"text",onClick:function(){(null==f?void 0:f.length)>0&&t([])}},"清空"))))}},94152:function(e,n,t){var l=t(30112),a=t(72048),r=t(67584),o=t.n(r),c=t(65984),i=t.n(c),u=t(63548),s=t(63097),d=t(71252),f=t.n(d),m=t(73200),p=t(99528),v="text",h="password",y="······",g=(0,c.memo)((0,c.forwardRef)((function(e,n){var t=e.className,r=e.maxLength,d=e.minLength,g=e.placeholder,b=e.allowClear,C=e.disabled,E=e.onChange,k=e.readOnly,N=e.status,w=e.value,S=e.onBlur,x=e.onFocus,F=(0,c.useState)(h),T=(0,a.c)(F,2),I=T[0],D=T[1],_=(0,c.useState)(w),R=(0,a.c)(_,2),A=R[0],M=R[1],P=(0,c.useRef)(w),V=(0,c.useRef)(),L=n||V;(0,c.useEffect)((function(){M(w),P.current=w}),[]),(0,c.useEffect)((function(){M(w)}),[w]);var B=f()([p.c["password-input"],"".concat(m.G,"-password"),t]),z=f()((0,l.c)((0,l.c)({},p.c["password-input-suffix"],!0),p.c["password-input-suffix-disabled"],C));return i().createElement(i().Fragment,null,i().createElement("input",{type:"text",style:{opacity:0,position:"absolute",width:0,height:0}}),i().createElement(s.c,{ref:L,type:I,className:B,readOnly:k,disabled:C,status:N,value:A,placeholder:g,maxLength:r,minLength:d,allowClear:b,onChange:function(e){null==E||E(e),P.current=e},suffix:i().createElement(u.Icon,{className:z,prefix:"ncicon",type:I===v?"yanjing":"yanjingguanbi",onClick:function(e){e.stopPropagation(),C||k||(M(I===h?P.current!==y?P.current:"":P.current),D(I===h?v:h),o()((function(){var e=P.current.length;null==L||L.current.input.focus(),null==L||L.current.input.setSelectionRange(e,e)})))}}),autoComplete:"new-password",onBlur:function(e){P.current&&P.current!==y&&(D(h),null==E||E(P.current),M(y)),null==S||S(e)},onFocus:function(e){P.current?M(P.current):M(""),null==x||x(e)}}))})));g.displayName="Password",n.c=g},82060:function(e,n,t){var l=t(2664),a=t(34984),r=t(72048),o=t(23992),c=t.n(o),i=t(65984),u=t.n(i),s=t(63548),d=t(47906),f=t(71252),m=t.n(f),p=t(73200),v=t(87072),h=t(89848),y=t(57652),g=t(14020),b=["action","fileList","disabled","readonly","uploadNum","noticeInfo","onRemove","onDownload","enablePreview","buttonText","className","canPaste"],C=(0,i.memo)((function(e){var n=(0,i.useState)(!1),t=(0,r.c)(n,2),l=t[0],a=t[1],o=(0,i.useRef)();return(0,i.useEffect)((function(){e.src&&(o.current=document.createElement("img"),o.current.setAttribute("src",e.src),o.current.onload=function(){a(!0),o.current=null},o.current.onerror=function(){})}),[e.src]),l?u().createElement("img",e):u().createElement("img",{src:h})})),E=(0,i.memo)((function(e){var n=e.index,t=e.data,l=e.onRemove,a=e.onDownload,r=e.readonly,o=e.disabled,c=e.fileList,i=e.enablePreview,f=void 0===i||i,h=t.url,y=t.percent,b=(t.status,"error"===t.status||"done"===t.status&&!(null!=t&&t.response.status)),E="uploading"===t.status,k="success"===t.status||"done"===(null==t?void 0:t.status)&&(null==t?void 0:t.response.status);return u().createElement("div",{className:m()(v.c.picture_item,"".concat(p.G,"-picture_item"))},b&&u().createElement("div",{className:v.c.warnning},u().createElement(s.Icon,{type:"warning"}),u().createElement("span",null,"上传失败")),E&&u().createElement(u().Fragment,null,u().createElement(s.Progress,{type:"circle",width:24,strokeColor:"#276FF5",strokeWidth:8,showInfo:!1,percent:y}),u().createElement("div",{className:v.c.percent},Math.floor(y),"%")),k&&u().createElement(u().Fragment,null,u().createElement(C,{src:(0,g.oA)(h)}),u().createElement("div",{className:v.c.modal},!o&&f&&u().createElement(s.Icon,{type:"yanjing",prefix:"ncicon",onClick:function(){return function(e){d.ImageViewer.show(c,e,a)}(n)}}),!r&&!o&&u().createElement(s.Icon,{type:"delete",onClick:function(){return null==l?void 0:l(t,n)}}))))}));n.c=(0,i.memo)((function(e){var n=e.action,t=e.fileList,r=void 0===t?[]:t,o=e.disabled,d=e.readonly,f=e.uploadNum,h=e.noticeInfo,C=e.onRemove,k=e.onDownload,N=e.enablePreview,w=e.buttonText,S=e.className,x=e.canPaste,F=void 0===x||x,T=(0,a.c)(e,b),I={fileList:r,disabled:o,readonly:d,enablePreview:N,onRemove:C},D=(0,i.useRef)(),_=(0,i.useCallback)((function(e){D.current.uploadFiles([e])}),[]),R=u().createElement(s.Upload,(0,l.c)({ref:D,action:(0,g.oA)(n),className:v.c.upload,fileList:r,showUploadList:!1,disabled:o||d},T),o||d||null!=f&&f.max&&!((null==f?void 0:f.max)>(null==r?void 0:r.length))?null:u().createElement("div",{className:v.c.upload_btn},u().createElement(s.Icon,{type:"add"}),u().createElement("div",{className:v.c.txt},w||"上传图片")));return u().createElement(u().Fragment,null,u().createElement("div",{className:m()(v.c.picture_list,"".concat(p.G,"-picture"),S)},r&&(null==r?void 0:c()(r).call(r,(function(e,n){return u().createElement(E,(0,l.c)({key:e.uid,onDownload:k,index:n,data:e},I))}))),(o||d)&&0===r.length?"-":F?u().createElement(y.c,{thumbnailClassName:v.c.paste_wrapper,onClick:_,accept:e.accept},R):R),h&&!d&&u().createElement("div",{className:v.c.info},h))}))},8172:function(e,n,t){var l=t(30112),a=t(50524),r=t.n(a),o=t(23992),c=t.n(o),i=(t(21300),t(65984)),u=t.n(i),s=t(63548),d=t(60644),f=t(50736),m=t(51536),p=t(71252),v=t.n(p),h=t(73200),y=t(54672),g=["error"],b=(0,i.memo)((function(e){var n=e.className,t=e.disabled,a=e.onChange,o=e.readonly,i=e.status,p=e.defaultValue,b=e.value,C=e.options,E=e.children,k=(e.name,e.vertical),N=e.renderOption,w=v()(y.c.radio,"".concat(h.G,"-radio"),(0,l.c)((0,l.c)((0,l.c)((0,l.c)({},y.c["radio-status-".concat(i)],i&&r()(g).call(g,i)),y.c["radio-disabled"],t),y.c["radio-readonly"],o),y.c["radio-vertical"],k),n);return(null==C?void 0:C.length)>0&&!E?u().createElement(s.Radio.Group,{className:w,value:b,defaultValue:p,disabled:t,"data-readonly":o,onChange:function(e){if(!o&&!t&&a){var n=e.target.value;a(n)}}},null==C?void 0:c()(C).call(C,(function(e){return(0,d.isFunction)(N)?N(e,b):u().createElement(s.Radio,{key:e.value,value:e.value,disabled:e.disabled||o||t},e.color?u().createElement(m.c,{className:y.c.radio_tag,color:e.color,title:e.label,disabled:e.disabled||o||t},e.label):u().createElement("span",{title:e.label},e.label))}))):u().createElement(f.W,null)}));b.displayName="RadioGroup",n.c=b},19112:function(e,n,t){var l=t(30112),a=t(81043),r=t(72048),o=t(24244),c=t.n(o),i=t(50524),u=t.n(i),s=t(23992),d=t.n(s),f=t(65984),m=t.n(f),p=t(47906),v=t(79856),h=t(63548),y=t(73200),g=t(71252),b=t.n(g),C=t(14020),E=["error"],k=(0,f.memo)((function(e){var n=e.options,t=e.ref,o=e.tableConfig,i=e.tableData,s=e.tableColumnData,g=e.tableColumn,k=e.tableSelected,N=e.tableSelectedKeys,w=e.f7ColHeadFilter,S=e.readOnly,x=e.value,F=e.showSearch,T=e.allowClear,I=e.notFoundContent,D=e.disabled,_=(e.dataRange,e.mode),R=e.placeholder,A=e.showSelected,M=e.tableFilterData,P=e.tableSorts,V=e.hideMore,L=e.status,B=e.tablePrimaryKey,z=e.buttonNode,O=e.F7Draggable,K=e.f7Options,j=e.refBillProps,H=e.onFocus,G=e.onBlur,q=e.moreClick,U=e.onChange,W=e.onSearch,Y=e.onVisibleChange,Z=e.onF7Cancel,Q=e.onF7Ok,X=e.onF7Search,$=e.onF7PageChange,J=e.onF7Clean,ee=e.onF7DelSelect,ne=e.onF7FilterChange,te=e.onF7RowSelectChange,le=e.onF7ColHeadFilterVisibleChange,ae=e.onF7Sort,re=e.onF7TitleFilterConfirm,oe=e.onF7TitleFilterShow,ce=e.filterOption,ie=e.className,ue=e.f7ClassName,se=e.f7SelectInfo,de=e.allowSelectAll,fe=void 0!==de&&de,me=e.style,pe=e.f7ContentRef,ve=(0,f.useState)(100),he=(0,r.c)(ve,2),ye=he[0],ge=he[1],be=(0,f.useState)(!1),Ce=(0,r.c)(be,2),Ee=Ce[0],ke=Ce[1],Ne=(0,f.useState)(""),we=(0,r.c)(Ne,2),Se=we[0],xe=we[1],Fe=(0,f.useState)(!1),Te=(0,r.c)(Fe,2),Ie=Te[0],De=Te[1],_e=(0,f.useRef)(null),Re=pe||(0,f.useRef)(null),Ae=h.Select.Option,Me="multiple"===_,Pe=(0,f.useCallback)((function(e){if(e){var n=e.label,t=e.value,l=e.des,a=e.disabled;return m().createElement(Ae,{disabled:a,key:t,value:t,label:n},m().createElement("div",{className:"title"},n),l&&"-"!==l&&m().createElement("div",{className:"des"},l))}}),[]),Ve=(0,f.useCallback)((function(){D||S||(De(!0),q&&q())}),[D,S,q]),Le=(0,f.useCallback)((function(e,n){var t,l=Array.isArray(e)?c()(t=(0,a.c)(e)).call(t):e;U&&U(l,n)}),[U]),Be=(0,f.useCallback)((function(){ke(!0),H&&H()}),[H]),ze=(0,f.useCallback)((function(e){ke(!1),G&&G(e)}),[G]),Oe=(0,f.useCallback)((function(){Z&&Z(),De(!1)}),[Z]),Ke=(0,f.useCallback)((function(e,n){ee&&ee(e,n)}),[k,ee]),je=(0,f.useCallback)((function(){J&&J()}),[J]),He=(0,f.useCallback)((function(){var e=null==Q?void 0:Q({search:Se});De(!!fe&&!e)}),[Q,fe,Se]),Ge=(0,f.useCallback)((function(e){X&&X(e),xe(e)}),[X]),qe=(0,f.useCallback)((function(e){ne&&ne(e)}),[ne]),Ue=(0,f.useCallback)((function(e,n,t,l,a){!Me&&e.length>1&&(e=[n]),te(e,n,t,l,a)}),[i,te]),We=(0,f.useCallback)((function(e){var n=null!=K&&K.showAddRecord?m().createElement("div",{className:v.c.footer_btn},m().createElement(p.BtnField,{type:"text",major:!0,onClick:null==K?void 0:K.onAddRecord,icon:{prefix:"ncicon",type:"zengjia-yuan"}},"新增记录")):null;return m().createElement(m().Fragment,null,m().createElement("div",null,e),n)}),[null==K?void 0:K.onAddRecord,null==K?void 0:K.showAddRecord]);(0,f.useEffect)((function(){xe("")}),[Ie]);var Ye=(0,C.k3)(520,1080);(0,f.useEffect)((function(){ge(_e.current.offsetWidth)}),[]);var Ze=b()(ie,v.c.ref_bill_box,(0,l.c)((0,l.c)((0,l.c)((0,l.c)((0,l.c)({},"".concat(y.G,"-refbill"),!0),v.c.curr,Ee),v.c.disabled,D),v.c.readonly,S),v.c["ref_bill_box_status_".concat(L)],L&&u()(E).call(E,L)));return m().createElement("div",{ref:_e,className:Ze,style:me},m().createElement(h.Select,{ref:t,value:x,allowClear:T,placeholder:R,borderType:"none",showSearch:F,optionLabelProp:"label",mode:_,disabled:D,className:v.c.ref_bill_select,dropdownClassName:v.c.ref_bill_select_box,dropdownStyle:null!=K&&K.showAddRecord?{paddingBottom:0,width:ye}:{width:ye},notFoundContent:I,dropdownRender:We,onFocus:Be,onBlur:ze,onChange:Le,onSearch:W,onVisibleChange:Y,filterOption:ce,maxTagCount:5},n&&d()(n).call(n,(function(e){return Pe(e)}))),!V&&m().createElement("div",{className:v.c.more,onClick:Ve},m().createElement(h.Icon,{type:"project"})),m().createElement(h.Modal,{title:"请选择",closable:!0,maskClosable:!1,mask:!0,keyboard:!1,showline:!0,getContainer:document.body,footer:null,visible:Ie,draggable:void 0!==O&&O,destroyOnClose:!0,body:m().createElement(p.RefBillF7Content,{ref:Re,f7ClassName:ue,primaryKey:B,mode:_,config:o,sorts:P,buttonNode:z,tableColumn:g,tableColumnData:s,tableFilterData:M,rowSelected:k,tableSelectedKeys:N,data:i,searchValue:Se,colHeadFilter:w,showSelected:A,showAddRecord:null==K?void 0:K.showAddRecord,refBillProps:j,selectInfo:se,allowSelectAll:fe,onAddRecord:null==K?void 0:K.onAddRecord,onRowSelectChange:Ue,onCancel:Oe,onSearch:Ge,onClean:je,onFilterChange:qe,onPageChange:$,onDelSelect:Ke,onColHeadFilterVisibleChange:le,onOk:He,onSort:ae,onFilterConfirm:re,onFilterShow:oe}),onCancel:Oe,width:1180,height:Ye,bodyStyle:{padding:0,height:"100%",overflow:"hidden"}}))}));k.displayName="RefBill",n.c=k},84736:function(e,n,t){var l=t(2664),a=t(34984),r=t(23992),o=t.n(r),c=t(50524),i=t.n(c),u=t(65984),s=t.n(u),d=t(63548),f=t(47906),m=t(71252),p=t.n(m),v=t(40832),h=t(27448),y=t(57628),g=t(6080),b=["onCancel","onOk","onAddRecord","onClean","onDelSelect","onRowSelectChange","rowSelected","showSelected","mode","showAddRecord","tableSelectedKeys","f7ClassName","selectOptions","selectInfo","allowSelectAll"],C=(0,u.forwardRef)((function(e,n){var t,r=e.onCancel,c=e.onOk,m=e.onAddRecord,C=e.onClean,E=e.onDelSelect,k=e.onRowSelectChange,N=e.rowSelected,w=void 0===N?[]:N,S=e.showSelected,x=e.mode,F=e.showAddRecord,T=e.tableSelectedKeys,I=e.f7ClassName,D=(e.selectOptions,e.selectInfo),_=e.allowSelectAll,R=void 0!==_&&_,A=(0,a.c)(e,b),M=(0,u.useRef)();(0,u.useImperativeHandle)(n,(function(){var e,n;return{setSelectedInfo:null===(e=M.current)||void 0===e?void 0:e.setSelectedInfo,onSelectChange:null===(n=M.current)||void 0===n?void 0:n.onSelectChange}}));var P=(0,u.useMemo)((function(){var e="";if(D){var n=D.selectStatus,t=D.selectedIds,l=D.notInSelectedIds;switch(n){case h.m_:t.length||(e="暂未选择记录");break;case h.mw:e="已选择当前筛选下的全部记录";break;case h.gt:l.length&&(e="已选择当前筛选下的全部记录，以下记录除外")}}return e}),[D]),V=(0,u.useCallback)((function(e){if(R){var n,t,l=(null==D?void 0:D.selectStatus)===h.gt?y.SS.check:y.SS.uncheck,a=null===(n=M.current)||void 0===n||null===(t=n.onSelectChange)||void 0===t?void 0:t.call(n,{key:e,action:l});null==E||E(e,a)}else null==E||E(e)}),[R,E,null===(t=M.current)||void 0===t?void 0:t.onSelectChange,null==D?void 0:D.selectStatus]),L=(0,u.useCallback)((function(e){return s().createElement("div",{className:v.c.item_btn,onClick:function(){return V(e)}},s().createElement(d.Icon,{type:"delete"}))}),[V]),B=(0,u.useCallback)((function(){return null==w?void 0:o()(w).call(w,(function(e){return s().createElement("div",{key:e.value,className:v.c.selected_item},s().createElement("div",{className:v.c.item_info},s().createElement("div",{className:v.c.item_title},e.label||"-"),s().createElement("div",null,e.des||"-")),L([e.value]))}))}),[w,L]);return s().createElement("div",{className:p()(v.c.f7,I)},s().createElement("div",{className:v.c.f7_content},s().createElement("div",{className:v.c.list},s().createElement(f.DataGridLayout,(0,l.c)({ref:M},A,{totalNode:F?s().createElement(f.BtnField,{type:"ghost",size:"small",onClick:m,icon:{prefix:"ncicon",type:"zengjia-yuan"}},"新增记录"):null,multiSelect:"multiple"===x,rowSelection:{value:T||[],column:{lock:!0},onChange:k,type:"multiple"===x?"checkbox":"radio",clickArea:"row",isDisabled:function(e,n){return"disabled"===(null==e?void 0:e._state_)&&!(null!=T&&i()(T).call(T,e.id))}},tableSelectedKeys:T,allowSelectAll:R}))),"multiple"===x&&S&&s().createElement("div",{className:v.c.selected},s().createElement("div",{className:v.c.selected_nav},s().createElement("div",{className:v.c.nav_title},"已选(",R?(null==D?void 0:D.selectedCount)||0:null==w?void 0:w.length,")"),s().createElement("div",null,s().createElement(f.BtnField,{onClick:C,type:"text",text:"清空"}))),s().createElement("div",{className:v.c.selected_list},!!P.length&&s().createElement("div",{className:v.c.select_tips},P),B(),R&&D.selectStatus===h.m_&&D.selectedCount>g.cX&&(null==w?void 0:w.length)>=13&&s().createElement("div",{className:v.c.bottom_tips},s().createElement("div",{className:v.c.tips},"最多显示",g.cX,"条"))))),s().createElement("div",{className:v.c.f7_btn},s().createElement(f.BtnField,{size:"small",text:"取消",onClick:r}),s().createElement(f.BtnField,{size:"small",text:"确定",type:"primary",onClick:c})))}));C.displayName="RefBillF7Content",n.c=(0,u.memo)(C)},13740:function(e,n,t){var l=t(72048),a=t(65984),r=t.n(a),o=t(47906),c=t(47008),i=t(63548),u=t(14020);n.c=(0,a.memo)((function(e){var n,t=e.column,s=(e.ref,e.tableConfig),d=e.tableData,f=e.tableColumnData,m=e.tableColumn,p=e.tableSelected,v=e.f7ColHeadFilter,h=e.dataSource,y=e.disabled,g=e.mode,b=e.showSelected,C=e.tableFilterData,E=e.tableSorts,k=e.tableSelectedKeys,N=e.tablePrimaryKey,w=e.buttonNode,S=e.F7Draggable,x=e.f7Options,F=e.readOnly,T=e.refBillProps,I=e.moreClick,D=e.onChange,_=e.onPageChange,R=e.onF7Cancel,A=e.onF7Ok,M=e.onF7Search,P=e.onF7PageChange,V=e.onF7Clean,L=e.onF7DelSelect,B=e.onF7FilterChange,z=e.onF7RowSelectChange,O=e.onF7ColHeadFilterVisibleChange,K=e.onF7Sort,j=e.onF7TitleFilterConfirm,H=e.onF7TitleFilterShow,G=(0,a.useState)(""),q=(0,l.c)(G,2),U=q[0],W=q[1],Y=(0,a.useState)(!1),Z=(0,l.c)(Y,2),Q=Z[0],X=Z[1],$="multiple"===g,J=(0,a.useMemo)((function(){return(0,u.k3)(520,1080)}),[]),ee=(0,a.useCallback)((function(){y||F||(X(!0),I&&I())}),[y,F,I]),ne=(0,a.useCallback)((function(e,n){D&&D(e,n)}),[D]),te=(0,a.useCallback)((function(){R&&R(),X(!1)}),[R]),le=(0,a.useCallback)((function(e){1===p.length&&ne("",null),L&&L(e)}),[p,L]),ae=(0,a.useCallback)((function(){ne("",null),V&&V()}),[V]),re=(0,a.useCallback)((function(){A&&A(),X(!1)}),[A]),oe=(0,a.useCallback)((function(e){M&&M(e),W(e)}),[M]),ce=(0,a.useCallback)((function(e){B&&B(e)}),[B]),ie=(0,a.useCallback)((function(e,n,t,l){!$&&e.length>1&&(e=[n]),z(e,n,t,l)}),[d,z]);return(0,a.useEffect)((function(){W("")}),[Q]),r().createElement(r().Fragment,null,r().createElement("div",{className:c.c.ref_bill_box},!y&&!F&&r().createElement(o.BtnField,{major:!0,size:"small",icon:{prefix:"nocodeplatformicon",type:"lurubiaodanjilu"},onClick:ee},"选择记录"),!y&&!F&&(null==x?void 0:x.showAddRecord)&&r().createElement(o.BtnField,{size:"small",onClick:null==x?void 0:x.onAddRecord,icon:{prefix:"ncicon",type:"zengjia-yuan"}},"新增记录"),r().createElement(o.DataGridLayout,{tableColumn:t,searchNode:!1,buttonNode:!1,totalNode:"已选".concat((null==h||null===(n=h.rows)||void 0===n?void 0:n.length)||0,"条"),data:h,rowSelection:!1,onPageChange:_})),r().createElement(i.Modal,{title:"请选择",closable:!0,maskClosable:!1,mask:!0,keyboard:!1,showline:!0,getContainer:document.body,footer:null,visible:Q,draggable:void 0!==S&&S,destroyOnClose:!0,body:r().createElement(o.RefBillF7Content,{primaryKey:N,mode:g,config:s,sorts:E,buttonNode:w,tableColumn:m,tableColumnData:f,tableFilterData:C,rowSelected:p,tableSelectedKeys:k,data:d,searchValue:U,colHeadFilter:v,showSelected:b,showAddRecord:null==x?void 0:x.showAddRecord,refBillProps:T,onAddRecord:null==x?void 0:x.onAddRecord,onRowSelectChange:ie,onCancel:te,onSearch:oe,onClean:ae,onFilterChange:ce,onPageChange:P,onDelSelect:le,onColHeadFilterVisibleChange:O,onOk:re,onSort:K,onFilterConfirm:j,onFilterShow:H}),onCancel:te,width:1180,height:J,bodyStyle:{padding:0,height:"100%",overflow:"hidden"}}))}))},84496:function(e,n,t){var l=t(2664),a=(t(43924),t(87912),t(97448),t(78504),t(77864),t(65984)),r=t.n(a),o=(0,a.lazy)((function(){return Promise.all([t.e(3632),t.e(6704)]).then(t.bind(t,56176))})),c=(0,a.forwardRef)((function(e,n){return r().createElement(a.Suspense,{fallback:r().createElement("span",null)},r().createElement(o,(0,l.c)({ref:n},e)))}));n.c=c},63092:function(e,n,t){var l=t(2664),a=t(72048),r=t(34984),o=t(50524),c=t.n(o),i=t(65984),u=t.n(i),s=t(47906),d=t(64947),f=t(63548),m=t(95252),p=t(71252),v=t.n(p),h=["treeData","filterValue","onFilterChange","onSelect"],y=(0,i.memo)((function(e){var n=e.treeData,t=e.filterValue,o=e.onFilterChange,p=e.onSelect,y=(0,r.c)(e,h),g=(0,i.useState)(t||""),b=(0,a.c)(g,2),C=b[0],E=b[1],k=(0,i.useState)([]),N=(0,a.c)(k,2),w=N[0],S=N[1];(0,i.useEffect)((function(){E(t||"")}),[t]);var x=(0,i.useCallback)((function(e){if(o)return o(e);E(e)}),[]),F=(0,i.useCallback)((function(e){var n;return!(null==e||!c()(n=e.label).call(n,C))}),[C]),T=(0,i.useMemo)((function(){return(0,d.transformTreeNodeTitle)(n)}),[n]);return u().createElement("div",{className:v()(m.c.search_tree,"kd-nc-search-tree")},u().createElement("div",{className:v()(m.c.input,"kd-nc-search-tree-input")},u().createElement(s.Text,{value:C,prefix:u().createElement(f.Icon,{type:"search"}),size:"small",placeholder:"搜索",onChange:x})),null!=T&&T.length?u().createElement("div",{className:v()(m.c.list,"kd-nc-search-tree-list")},u().createElement(f.Tree,(0,l.c)({defaultExpandAll:!0,treeData:T,expandedKeys:w,onExpand:S,filterValue:C,onSelect:p,estimatedItemSize:36,height:"100%",filterTreeNode:F,notFoundContent:u().createElement("div",{className:m.c.empty},u().createElement(s.EmptyData,{desc:C?"暂无搜索结果":"暂无数据"}))},y))):u().createElement("div",{className:m.c.empty},u().createElement(s.EmptyData,{desc:C?"暂无搜索结果":"暂无数据"})))}));n.c=y},52792:function(e,n,t){var l=t(2664),a=t(30112),r=t(81043),o=t(72048),c=t(34984),i=t(24244),u=t.n(i),s=t(50524),d=t.n(s),f=t(23992),m=t.n(f),p=t(38456),v=t.n(p),h=t(65984),y=t.n(h),g=t(63548),b=t(51536),C=t(87812),E=t(60644),k=t(71252),N=t.n(k),w=t(73200),S=t(69588),x=t(73524),F=["className","maxLength","minLength","placeholder","allowClear","disabled","showSearch","onChange","readOnly","status","defaultValue","value","size","borderType","options","children","notFoundContent","mode","dropdownClassName","dataRange","tagCloseable","onBlur","onClear","onDeselect","onDropdownVisibleChange","onFocus","onSearch","renderOption"],T=["error"],I=(0,h.memo)((0,h.forwardRef)((function(e,n){var t,i=e.className,s=e.maxLength,f=e.minLength,p=e.placeholder,k=e.allowClear,I=e.disabled,D=e.showSearch,_=e.onChange,R=e.readOnly,A=e.status,M=e.defaultValue,P=e.value,V=e.size,L=e.borderType,B=void 0===L?"bordered":L,z=e.options,O=e.children,K=e.notFoundContent,j=e.mode,H=e.dropdownClassName,G=(e.dataRange,e.tagCloseable),q=void 0===G||G,U=e.onBlur,W=e.onClear,Y=e.onDeselect,Z=e.onDropdownVisibleChange,Q=e.onFocus,X=e.onSearch,$=e.renderOption,J=(0,c.c)(e,F),ee=g.Select.Option,ne=(0,h.useState)(P||M),te=(0,o.c)(ne,2),le=(te[0],te[1],(0,h.useState)(!1)),ae=(0,o.c)(le,2),re=ae[0],oe=ae[1],ce=(0,h.useCallback)((function(e){var n;if(!R&&!I){var t=Array.isArray(e)?u()(n=(0,r.c)(e)).call(n):e;null==_||_(t),oe(!1)}}),[_]),ie=N()(S.c.select,"".concat(w.G,"-select"),(0,a.c)((0,a.c)((0,a.c)({},S.c["select-status-".concat(A)],A&&d()(T).call(T,A)),S.c["select-disabled"],I),S.c["select-readonly"],R),i),ue=N()(S.c.dropdown,H),se=(0,h.useCallback)((function(){return y().createElement(C.c,{text:"暂无搜索结果"})}),[]),de=(0,h.useMemo)((function(){return P?Array.isArray(P)?m()(P).call(P,(function(e){return(null==z?void 0:v()(z).call(z,(function(n){return n.value===e})))?e:(0,x.c9)(e)})):(null==z?void 0:v()(z).call(z,(function(e){return e.value===P})))?P:(0,x.c9)(P):P}),[P,z]);return y().createElement(g.Select,(0,l.c)({ref:n,className:ie,size:V,value:de,defaultValue:M,placeholder:p,maxLength:s,minLength:f,allowClear:k,disabled:I,borderType:B,showSearch:D,notFoundContent:re?se():K,"data-readonly":R,onChange:ce,onBlur:U,onClear:W,onDeselect:Y,onDropdownVisibleChange:Z,onFocus:Q,onSearch:function(e){re||oe(!0),null==X||X(e)},mode:j,dropdownClassName:ue,suffixIcon:y().createElement(g.Icon,{prefix:"ncicon",type:"xiala"}),tagRender:((null==z||null===(t=z[0])||void 0===t?void 0:t.color)||"multiple"===j)&&function(e){var n=e.label,t=e.value,l=e.onClose,a=(null==n?void 0:n.props)||{children:n||(0,x.c9)(t)},r=a.color,o=a.children;return y().createElement(b.c,{color:r,onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},closable:q,onClose:function(e){return l(e,t)},style:{marginRight:3}},o)}},J),(null==z?void 0:z.length)>0?m()(z).call(z,(function(e){return(0,E.isFunction)($)?$(e,P):y().createElement(ee,{label:e.label,key:e.value,value:e.value,disabled:e.disabled},e.color?y().createElement(b.c,{color:e.color,title:e.label},e.label):e.label)})):O)})));I.displayName="SelectField",I.Option=g.Select.Option,n.cp=I},91152:function(e,n,t){t.d(n,{c:function(){return m}});var l=t(30112),a=t(65984),r=t.n(a),o="zwuA7l8S_icon",c="ESLptyIj_sort-icon",i="xlj6XUgE_sort-icon-active",u="g+vSGGK9_sort-icon-half-active",s=t(63548),d=t(71252),f=t.n(d),m=function(e){var n=e.active,t=e.onClick,d=e.order,m=e.className,p=e.includeMiddleState,v=void 0!==p&&p?{1:-1,"-1":0,0:1}:{1:-1,"-1":1},h=(0,a.useCallback)((function(){t&&t(v[d])}),[t,d]);return r().createElement("span",{className:f()(o,m)},r().createElement(s.Icon,{prefix:"nocodeplatformicon",type:"paixushang",className:f()(c,(0,l.c)({},i,1===d&&n),(0,l.c)({},u,1!==d&&n)),onClick:h}),r().createElement(s.Icon,{prefix:"nocodeplatformicon",type:"paixuxia",className:f()(c,(0,l.c)({},i,-1===d&&n),(0,l.c)({},u,-1!==d&&n)),onClick:h}))}},74820:function(e,n,t){var l=t(30112),a=(t(21300),t(23992)),r=t.n(a),o=t(65984),c=t.n(o),i=t(19240),u=t(71252),s=t.n(u),d=t(91152),f=(0,o.forwardRef)((function(e,n){var t=e.headers,a=void 0===t?[]:t,o=e.activeId,u=e.onChange,f=e.onSort,m=e.order,p=e.extra,v=e.renderTabElement;return c().createElement("div",{className:i.c.tab,ref:n},c().createElement("div",{className:i.c["btn-group"]},null==a?void 0:r()(a).call(a,(function(e){var n=o===e.id,t=c().createElement("div",{className:s()(i.c.button,(0,l.c)((0,l.c)({},i.c["active-tab"],n),i.c["inactive-tab"],!n)),onClick:function(t){n?f(1===m?-1:1):null==u||u(e.id)}},c().createElement("span",{className:s()((0,l.c)({},i.c["active-tab-text"],n))},e.name),c().createElement(d.c,{active:n,order:m}));return"function"==typeof v?v(e.id,t):t}))),p)}));n.c=f},59356:function(e,n,t){var l=t(62616);l.kZ.Tab=l.sO,n.c=l.kZ},51536:function(e,n,t){var l=t(2664),a=t(30112),r=t(34984),o=t(65984),c=t.n(o),i=t(63548),u=t(23832),s=t(46244),d=t(71252),f=t.n(d),m=t(18098),p=["children","color","className","style","closable","onClose","disabled"],v=(0,o.memo)((0,o.forwardRef)((function(e,n){var t=e.children,d=e.color,v=void 0===d?s.A1:d,h=e.className,y=e.style,g=void 0===y?{}:y,b=e.closable,C=e.onClose,E=e.disabled,k=(0,r.c)(e,p),N=n||(0,o.useRef)(),w=f()(m.c.tag,h,"kd-nc-tag",(0,a.c)({},m.c.tag_disabled,E)),S=(0,o.useCallback)((function(e){b&&(null==C||C(e))}),[b,C]);return c().createElement("span",(0,l.c)({ref:N,title:t,className:w,style:(0,l.c)((0,u.CS)(v),g)},k),c().createElement("span",{className:m.c.tag_content},t),b&&c().createElement(i.Icon,{type:"close",className:f()(m.c.tag_close,(0,a.c)({},m.c.tag_close_light,!(0,u.Sw)(v))),onClick:S}))})));v.displayName="Tag",n.c=v},97592:function(e,n,t){var l=t(30112),a=t(81043),r=t(72048),o=t(50524),c=t.n(o),i=t(65984),u=t.n(i),s=t(63548),d=t(71252),f=t.n(d),m=t(73200),p=t(60748),v=["error"],h="textarea",y=(0,i.memo)((0,i.forwardRef)((function(e,n){var t=e.type,o=e.className,d=e.style,y=e.maxLength,g=e.minLength,b=e.placeholder,C=e.allowClear,E=e.disabled,k=e.onChange,N=e.onFormat,w=e.onBlur,S=e.readOnly,x=e.status,F=e.value,T=e.size,I=void 0===T?"middle":T,D=e.borderType,_=void 0===D?"bordered":D,R=e.suffix,A=(e.count,e.autoSize),M=e.showCount,P=e.countPosition,V=void 0===P?"inner":P,L=(0,i.useRef)(null),B=n||L,z=(0,i.useState)(F),O=(0,r.c)(z,2),K=O[0],j=O[1],H=(0,i.useState)(!1),G=(0,r.c)(H,2);G[0],G[1];(0,i.useEffect)((function(){var e,n=(null===(e=B.current)||void 0===e?void 0:e.input)||B.current;n&&S&&n.setAttribute("readOnly",!0)}),[B.current]);(0,i.useCallback)((function(){var e,n=(0,a.c)(K).length;return"function"==typeof M?e=M(n,y):M&&(e=u().createElement("div",{className:f()(p.c["".concat(h,"-count")],(0,l.c)((0,l.c)({},p.c["".concat(h,"-count-error")],n===y),p.c["".concat(h,"-count-disabled")],E&&!S))},void 0===y?n:n+"/"+y)),e}),[K,M,y]);var q=f()(p.c.textarea,"".concat(m.G,"-textarea"),(0,l.c)({},p.c["textarea-status-".concat(x)],x&&c()(v).call(v,x)),o);return u().createElement(s.TextArea,{ref:B,type:t,style:d,className:q,size:I,value:F,placeholder:b,maxLength:y,minLength:g,allowClear:C&&u().createElement(s.Icon,{prefix:"ncicon",type:"qingkongtubiao"}),disabled:E,onChange:function(e){var n;if(!S&&!E&&k){var t=null===(n=e.target)||void 0===n?void 0:n.value;N&&"function"==typeof N&&(t=N(t)),j(t),k(t)}},onBlur:w,borderType:_,"data-readonly":S,suffix:R,autoSize:A,count:M,countPosition:V})})));y.displayName="Textarea",n.c=y},25316:function(e,n,t){var l=t(65984),a=t.n(l),r=t(27732),o=t(68436),c=t(73200),i=t(71252),u=t.n(i),s=[".com",".jp",".cn",".org"],d=(0,l.memo)((0,l.forwardRef)((function(e,n){var t=e.className,l=e.maxLength,i=e.minLength,d=e.placeholder,f=e.allowClear,m=e.disabled,p=e.onChange,v=e.readOnly,h=e.status,y=e.value,g=e.size,b=void 0===g?"middle":g,C=e.borderType,E=void 0===C?"bordered":C,k=e.suffix,N=e.onBlur,w=u()("".concat(c.G,"-url"),t);return a().createElement(r.c,{ref:n,className:w,size:b,value:y,placeholder:d,maxLength:l,minLength:i,allowClear:f&&a().createElement(o.c,null),disabled:m,onChange:p,borderType:E,"data-readonly":v,suffix:k,suffixList:s,symbol:".",status:h,onBlur:N})})));d.displayName="UrlField",n.c=d},71500:function(e,n,t){t.r(n),t.d(n,{showConfirm:function(){return P},showConfirmModal:function(){return L},showDeleteConfirmModal:function(){return V},showDialog:function(){return T},showErrMsg:function(){return D},showLoadingMessage:function(){return M},showMsgBox:function(){return B},showNotificationMsg:function(){return A},showSysMessage:function(){return I}});var l=t(2664),a=t(58496),r=(t(87912),t(33768),t(13640),t(97308),t(760)),o=t.n(r),c=t(13939),i=t.n(c),u=t(23992),s=t.n(u),d=t(65984),f=t.n(d),m=t(16428),p=t.n(m),v=t(63548),h=t(92140),y=t(30687),g=t(14020),b=t(47906),C=t(83515),E=t(89932),k=t(9528),N=t(42876),w=t(41544),S=t(75968),x=t(28244),F=t(32756);function T(e,n){var t=e.pageId,l=e.param;v.Modal.error({title:"错误提示",body:f().createElement(h.Main,{model:n,meta:l,pageId:t}),footer:null,width:600,height:496})}function I(e){var n,t=(null==e||null===(n=e.param)||void 0===n?void 0:n[0])||{},l=t.msg,a=void 0===l?"":l,r=(t.detail,f().createElement("div",{style:{textAlign:"center"}},f().createElement("div",null,f().createElement("img",{src:k,alt:"",style:{marginBottom:12}})),f().createElement("div",{style:{wordBreak:"break-word"}},a.substring(0,1e4))));v.Modal.warning({title:"业务提示",body:r,width:420,height:300,bodyStyle:{padding:20,flexBasis:0,fontSize:14,overflow:"hidden"},footer:null})}function D(e){var n,t=(null==e||null===(n=e.param)||void 0===n?void 0:n[0])||{},l=t.errorInfo,a=t.id;v.Modal.error({title:"错误提示",body:l,width:600,height:400,onOk:function(){var e;"loginout"===a&&(window.location.href=o()(e="".concat(window.__domainurl__,"login.html?redirect=")).call(e,encodeURIComponent(window.location.href)))},bodyStyle:{flexBasis:0,fontSize:12,overflowY:"auto",overflowX:"hidden"}})}var _={success:"chenggongyiwancheng",warning:"jingshi",error:"cuowu",info:"tishi"},R={background:"#fff",minWidth:0,borderColor:"#fff",color:"#212121",boxShadow:"0 4px 10px 1px rgba(0,0,0,0.12)",wordBreak:"break-word"};function A(e){Array.isArray(e.param)&&e.param.forEach((function(e){var n=i()(_)[e.type]||"info";v.Message[n]({content:e.content.replace(/[，。、？！@#￥%……&*.?!,]+$/g,""),closeNode:f().createElement(v.Icon,{prefix:"ncicon",type:"danchuangguanbi"}),icon:f().createElement(v.Icon,{prefix:"ncicon",type:_[n]}),duration:"error"===n?0:e.duration,closable:"error"===n||!e.duration,style:R})}))}function M(e){return v.Message.success({content:e,closeNode:f().createElement(v.Icon,{prefix:"ncicon",type:"danchuangguanbi"}),icon:f().createElement(v.Icon,{type:"loadding-circle",spin:!0,style:{color:"var(--kd-nc-primary-6)"}}),duration:0,closable:!1,style:R,key:"loading"}),function(e){if(!e||"object"!==(0,a.c)(e))return v.Message.destroy("loading");var n=e.type,t=e.content,l=e.duration,r=e.closable;v.Message[n]({content:t,closeNode:f().createElement(v.Icon,{prefix:"ncicon",type:"danchuangguanbi"}),icon:f().createElement(v.Icon,{prefix:"ncicon",type:_[n]}),duration:l,closable:null!=r?r:"success"!==n,style:R,key:"loading"})}}function P(e,n){var t=e.pageId,l=e.param[0]||{},a=l.msg,r=l.id,o=l.confirmType,c=l.button_type,i=l.detail,u=(l.messageType,[S,x,w,N,F]),s=(0,C.OE)(c),d=L({visible:!0,title:a,key:r,content:i,actions:[{text:"我知道了",key:"ok"}],headIcon:f().createElement("img",{src:u[o||0]}),onAction:function(){var e;if("pagetimeout"===r)try{window.opener=null,window.close()}catch(e){console.error(e)}else null==n||null===(e=n.batchInvoke)||void 0===e||e.call(n,"afterConfirm",t,"",[r,s,""]);d()}})}function V(e){var n,t=(null===(n=e.param)||void 0===n?void 0:n[0])||{},l=t.msg,a=t.detail,r=t.onOk,o=t.onCancel,c=document.createElement("div");document.body.appendChild(c);p().render(f().createElement(y.c,{type:"delete",title:l,content:a,onAction:function(e){"ok"===e?null==r||r():(null==o||o(),document.body.removeChild(c),p().unmountComponentAtNode(c))}}),c)}function L(e){var n=document.createElement("div");return document.body.appendChild(n),p().render(f().createElement(y.c,(0,l.c)({key:(null==e?void 0:e.key)||"ConfirmModal"},e)),n),function(){document.body.removeChild(n),p().unmountComponentAtNode(n)}}function B(e){var n=e.key,t=void 0===n?(0,g.IT)():n,l=e.title,a=e.content,r=e.onClose,o=e.actions,c=e.onAction,i=e.titleIcon,u=e.duration,d=i||{type:"laba",prefix:"nocodeplatformicon"},m=function(e){if("close"===e)return null==r||r(),v.Notification.destroy(t);null==c||c(e)},p=f().createElement("div",{className:E.c.nav},f().createElement("p",{className:E.c.title,title:l},f().createElement(v.Icon,d),f().createElement("span",null,l)),f().createElement(v.Icon,{type:"close",onClick:function(){return m("close")}})),h=f().createElement("div",{className:E.c.content},f().createElement("p",{className:E.c.text}," ",a," "),o?f().createElement("p",{className:E.c.btns},s()(o).call(o,(function(e){return f().createElement(b.BtnField,{key:e.key,size:"small",type:e.primary?"primary":"second",onClick:function(){return m(e.key)}},e.text)}))):null);return v.Notification.open({key:t,type:"info",duration:u,title:p,className:E.c.msg_box,content:h,onClose:m("close")}),function(){m("close")}}},47906:function(e,n,t){t.r(n),t.d(n,{AddFilter:function(){return Fe.c},AddTreeItem:function(){return dt},AdvContainer:function(){return g.c},AdvContainerChild:function(){return C.c},AdvContainerToolBar:function(){return b.c},Attachment:function(){return N.c},Avatar:function(){return Ue.c},BillForm:function(){return r.c},BillQuickFinder:function(){return rn},BillTypeFieldEditor:function(){return _n},BtnField:function(){return a.c},Checkbox:function(){return k.c},CodeEditor:function(){return Un},ColHeadFilterPanel:function(){return ce.c},ColorPicker:function(){return Pe},Condition:function(){return qe},ConditionFilterItem:function(){return oe.c},ConfirmModal:function(){return _e.c},DataGrid:function(){return s.cp},DataGridLayout:function(){return d.c},DatePicker:function(){return h.c},DateRangePicker:function(){return y.c},DragContainer:function(){return Ve.U},DragSortList:function(){return ke.MZ},Draggable:function(){return Ve.w},DropdownSearch:function(){return xe.c},EditArea:function(){return Le.c},EditOptionList:function(){return Hn},Email:function(){return F.c},EmptyData:function(){return ae.c},EmptySearchResult:function(){return re.c},FieldItem:function(){return f.c},FilterEditor:function(){return Je.c},FilterLabelBar:function(){return fe.c},FilterPanel:function(){return s.Ev},FlexPanel:function(){return i.c},FormBanner:function(){return De.c},GraphicDisplay:function(){return Ie.c},GridPanel:function(){return u.c},Group:function(){return j},GroupBar:function(){return te},GroupItem:function(){return Y},Image:function(){return T.c},ImageViewer:function(){return S.c},InputCombo:function(){return on.c},InputVarSelect:function(){return Me.c},KDTreeSelect:function(){return Re.cp},Label:function(){return I.c},ListFilterSetting:function(){return he.c},ListFilterSettingDropdown:function(){return me.c},ListFilterSettingPop:function(){return ye},ListFilterUtil:function(){return tn},ListItemSetting:function(){return ge.c},ListItemSettingDropdown:function(){return be.c},ListItemSettingPop:function(){return Ee},ListSort:function(){return ke.cp},ListSortDropdown:function(){return Se},Loading:function(){return Ae.c},Modal:function(){return Vn},Number:function(){return p.c},OrderByEditor:function(){return $e.c},Password:function(){return x.c},Picture:function(){return w.c},Radio:function(){return E.c},RefBill:function(){return o.c},RefBillF7Content:function(){return c.c},RefBillGridView:function(){return Te.c},RichText:function(){return Gn.c},SearchTree:function(){return cn.c},Sectioner:function(){return dn},Select:function(){return m.cp},Skeleton:function(){return xn},SortButton:function(){return ie.c},TabHeader:function(){return ue.c},TableContext:function(){return s.qY},TableTitle:function(){return s.S6},Tabs:function(){return se.c},Tag:function(){return de.c},Text:function(){return l.c},Textarea:function(){return v.c},Url:function(){return D.c},WebMsg:function(){return le},treeUtils:function(){return en},useKDRefBill:function(){return ft.c}});t(91492);var l=t(63097),a=t(64936),r=t(80340),o=t(19112),c=t(84736),i=t(98576),u=t(90700),s=t(4996),d=t(52716),f=t(12104),m=t(52792),p=t(81512),v=t(97592),h=t(65540),y=t(46624),g=t(66268),b=t(54468),C=t(95768),E=t(8172),k=t(50736),N=t(91072),w=t(82060),S=t(24188),x=t(94152),F=t(12748),T=t(7456),I=t(75324),D=t(25316),_=t(2664),R=t(72048),A=t(34984),M=t(23992),P=t.n(M),V=t(65984),L=t.n(V),B=t(14020),z=t(31732),O=["children","showCollapse","onClick"],K=(0,V.memo)((function(e){var n=e.children,t=e.showCollapse,l=e.onClick,a=(0,A.c)(e,O),r=(0,V.useState)(!1),o=(0,R.c)(r,2),c=o[0],i=o[1],u=(0,B.wN)(n);return L().createElement("div",(0,_.c)({className:z.c.group},a),P()(u).call(u,(function(e,n){return Array.isArray(e)?P()(e).call(e,(function(l){var a=l.props.isActive;return L().cloneElement(l,{key:n,isActive:a&&(1!==e.length||!t||!c)})})):L().cloneElement(e,{key:n,collapse:c,setCollapse:i,showCollapse:t,onClick:function(e){t&&i((function(e){return!e})),null==l||l(e)}})})))}));K.displayName="Group";var j=K,H=t(30112),G=t(71252),q=t.n(G),U=["children","column","gutter","style","className","isActive"],W=(0,V.memo)((function(e){var n=e.children,t=e.column,l=e.gutter,a=e.style,r=e.className,o=e.isActive,c=(0,A.c)(e,U);return L().createElement(u.c,(0,_.c)({column:t,gutter:l,style:a,className:q()(r,(0,H.c)({},z.c.group_item_container_hidden,!o))},c),(0,B.wN)(n))}));W.displayName="GroupItem";var Y=W,Z=(t(21300),t(90896)),Q=t.n(Z),X=t(63548),$=["style","className","isActive","isHidden","title","onClick","tips"],J=["options","activeId","onClick","renderOption","showCollapse","collapse","setCollapse","children"],ee=(0,V.memo)((function(e){var n=e.style,t=e.className,l=e.isActive,a=e.isHidden,r=e.title,o=e.onClick,c=e.tips,i=(0,A.c)(e,$);return L().createElement("div",(0,_.c)({style:n,className:q()(t,z.c.group_bar_list_item,(0,H.c)((0,H.c)({},z.c.group_bar_list_item_active,!a&&l),z.c.group_bar_list_item_hidden,a)),onClick:o},i),L().createElement(L().Fragment,null,L().createElement("div",{className:z.c.group_bar_list_item_label},L().createElement("span",null,r)),c&&L().createElement(X.Tooltip,{scrollHidden:!0,placement:"bottom",tip:c,trigger:"hover",popperStyle:{"--arrowSpill":"-5px",marginTop:"-4px"}},L().createElement(X.Icon,{type:"tips",className:z.c.group_bar_list_item_label_tipsicon}))))}));ee.displayName="GroupBarItem";var ne=(0,V.memo)((function(e){var n=e.options,t=e.activeId,l=e.onClick,a=e.renderOption,r=e.showCollapse,o=e.collapse,c=e.setCollapse,i=e.children,u=(0,A.c)(e,J),s=(0,V.useState)(!1),d=(0,R.c)(s,2),f=d[0],m=d[1],p=(0,V.useState)(!1),v=(0,R.c)(p,2),h=v[0],y=v[1],g=(0,V.useRef)(null),b=(0,V.useRef)(null),C=(0,V.useCallback)((function(e){null==l||l(e)}),[]);(0,V.useEffect)((function(){var e,n=null===(e=g.current)||void 0===e?void 0:e.clientWidth,t=b.current;(null==t?void 0:t.scrollWidth)>n&&!h&&y(!0)}),[(null==n?void 0:n.length)||i]);return L().createElement("div",(0,_.c)({className:z.c.group_bar_container},u),f&&L().createElement("div",{className:z.c.group_bar_left,onClick:function(e){var n,t,l;e.stopPropagation();var a=null===(n=g.current)||void 0===n?void 0:n.scrollWidth,r=null===(t=g.current)||void 0===t?void 0:t.clientWidth;if(!(a<r)){var o=b.current,c=Math.abs(Q()(null===(l=window.getComputedStyle(o,null))||void 0===l?void 0:l.left));if(0!==c){var i=c;c>r?i=c-r:(i=0,f&&m(!1),!h&&y(!0)),o.style.left="-"+i+"px"}}}},"左"),L().createElement("div",{ref:g,className:z.c.group_bar},r&&L().createElement(X.Icon,{prefix:"ncicon",type:"fenzuzhedie",className:q()(z.c.group_bar_expande,(0,H.c)({},z.c.group_bar_collapse,o)),onClick:function(){null==c||c((function(e){return!e}))}}),L().createElement("div",{ref:b,className:z.c.group_bar_list},(null==n?void 0:n.length)>0?P()(n).call(n,(function(e,l){if(a)return null==a?void 0:a(e,t,l);if(e.hidden)return null;var r=e.id,o=e.tips,c=e.name;return L().createElement(ee,{isActive:t===r&&n.length>1,key:r,title:c,tips:o,onClick:function(e){e.stopPropagation(),C(r)}})})):null==i?void 0:P()(i).call(i,(function(e){var n=e.props,t=n.value,l=n.onClick;return e.props,L().cloneElement(e,{onClick:function(e){e.stopPropagation(),null==l||l(e),C(t)}})})))),h&&L().createElement("div",{className:z.c.group_bar_right,onClick:function(e){var n,t,l;e.stopPropagation();var a=null===(n=b.current)||void 0===n?void 0:n.scrollWidth,r=null===(t=g.current)||void 0===t?void 0:t.clientWidth;if(!(a<r)){var o=b.current,c=Math.abs(Q()(null===(l=window.getComputedStyle(o,null))||void 0===l?void 0:l.left)),i=c;c+r<a&&(!f&&m(!0),i=c+r),i+r>=a&&h&&y(!1),o.style.left="-"+i+"px"}}},"右"))}));ne.Item=ee,ne.displayName="GroupBar";var te=ne,le=t(71500),ae=t(15700),re=t(33240),oe=t(57376),ce=t(33620),ie=t(91152),ue=t(74820),se=t(59356),de=t(51536),fe=t(71132),me=t(93132),pe="KYGbZyY1_modal",ve="dx5hETGb_item",he=t(22280),ye=function(e){var n,t,l=e.className,a=e.draggable,r=e.style,o=e.mask,c=e.maskStyle,i=e.maskClosable,u=e.onClose,s=e.title,d=e.visible;return L().createElement(X.Modal,(0,H.c)((0,H.c)((0,H.c)((0,H.c)((0,H.c)((0,H.c)((0,H.c)((0,H.c)({body:L().createElement(he.c,(0,_.c)({},e,{itemClassName:ve})),type:"normal",className:q()(pe,l),closable:!0,mask:!0,draggable:null==a||a,height:null!==(n=null==r?void 0:r.height)&&void 0!==n?n:332,width:null!==(t=null==r?void 0:r.width)&&void 0!==t?t:640,destroyOnClose:!0},"mask",null==o||o),"maskStyle",c),"maskClosable",null!=i&&i),"visible",d),"onCancel",u),"title",s),"draggable",a),"footer",null))},ge=t(90092),be=t(75080),Ce="_8ZFLaG2m_modal",Ee=function(e){var n=e.title,t=e.data,l=e.checkedKeys,a=e.lockIndex,r=e.showLock,o=e.onClose,c=e.onConfirm,i=e.draggable,u=e.maskClosable,s=e.mask,d=e.maskStyle,f=e.className,m=e.width,p=e.height,v=e.okProps,h=e.okText,y=void 0===h?"确定":h;return L().createElement(X.Modal,{body:L().createElement(ge.c,{closable:!0,title:n,data:t,checkedKeys:l,lockIndex:a,showLock:r,okText:y,okProps:v,onClose:o,onConfirm:c}),type:"normal",className:q()(Ce,f),closable:!1,draggable:null==i||i,width:null!=m?m:480,height:null!=p?p:560,destroyOnClose:!0,mask:null==s||s,maskStyle:d,maskClosable:null!=u&&u,onCancel:o,footer:null,title:null,onConfirm:c})},ke=t(57068),Ne={tooltip:"_3v3+LYSw_tooltip",dropdown:"foGSupob_dropdown",header:"WKtNaGKO_header",title:"GlMQd2d8_title",btn_close:"W9ir4IsJ_btn_close"},we=function(e){var n=e.title,t=e.titleRight;return L().createElement("div",{className:Ne.header},L().createElement("div",{className:Ne.title},n),L().createElement("div",{className:Ne.titleRight},t))},Se=function(e){var n=e.style,t=e.onClose,l=e.title,a=e.titleRight,r=e.visible,o=e.onVisibleChange,c=e.children,i=e.data,u=void 0===i?[]:i,s=e.onConfirm,d=e.onClear,f=(e.showClearAll,e.configuredSortItems);return r?L().createElement(X.Tooltip,{tip:L().createElement("div",{className:Ne.dropdown},L().createElement(we,{title:l,titleRight:a,onClose:t}),L().createElement(ke.cp,{data:u,onClear:d,onConfirm:s,configuredSortItems:f})),trigger:"click",arrow:!1,visible:r,onVisibleChange:o,popperStyle:n,placement:"bottomRight",popperClassName:Ne.tooltip},c):L().cloneElement(c,{onClick:function(){o(!r)}})},xe=t(58312),Fe=t(63420),Te=t(13740),Ie=t(36260),De=t(93092),_e=t(30687),Re=t(79012),Ae=t(29620),Me=t(69616),Pe=(0,V.memo)((function(e){var n=e.value,t=e.onChange;return L().createElement(X.ColorPicker,{value:n,onChange:t,showColorPickerBox:{showBox:!0,showHue:!0,showOpacity:!1},presetColor:["#276FF5","#16B8B1","#16B0F1","#77C404","#FDC200","#FF5F1F","#F90D58","#701DF0","#0E5FD8"]})})),Ve=t(84068),Le=t(27656),Be=t(70696),ze=t.n(Be),Oe=t(59748),Ke=t(77196),je=t(60644),He=t(5980),Ge=(0,V.memo)((function(e){var n=e.value,t=e.language,l=e.modalTitle,r=e.editorTitle,o=e.actionType,c=e.visible,i=e.hideFunc,u=e.editorPlaceholder,s=e.fieldData,d=e.defaultExpandAll,f=e.fieldTitle,m=e.expressionData,p=e.operations,v=e.onClose,h=e.onConfirm,y=e.loadData,g=(0,V.useRef)(null),b=(0,V.useCallback)((function(){var e,n,t=null===(e=g.current)||void 0===e?void 0:e.getEditorValue(),l=null===(n=g.current)||void 0===n?void 0:n.getEditorLang();null==h||h(t,l)}),[g.current,v,h]),C=(0,V.useMemo)((function(){return L().createElement(L().Fragment,null,L().createElement("div",{className:q()(Ke.c.footer,"".concat("kd-nc-condition","-footer-btns"))},L().createElement(a.c,{onClick:v,size:"small",type:"second"},"取消"),L().createElement(a.c,{onClick:b,size:"small",type:"primary"},"确定")))}),[v,b]);return L().createElement(X.Modal,{body:L().createElement(Oe.c,{language:t,ref:g,editorTitle:r,value:n,editorPlaceholder:u,hideFunc:i,className:Ke.c["condition-modal"],actionType:o,fieldData:(0,je.cloneDeep)(function e(n){return null==n?void 0:ze()(n).call(n,(function(n){return n.children&&(n.children=e(n.children)),"NoCodeMulRefBillField"!==n.type&&"NoCodeRefBillField"!==n.type||void 0!==n.BillEntityIdEx}))}(s)),fieldTitle:f,defaultExpandAll:d,expressionData:m,operations:p,confirmCallback:b,loadData:y}),bodyStyle:{padding:0,overflowX:"hidden",overflowY:"auto"},titleIcon:null,className:Ke.c["condition-modal"],footer:C,maskClosable:!1,width:1180,height:560,title:l||"条件设置",closable:!0,destroyOnClose:!0,onCancel:v,mask:!0,visible:c})}));Ge.displayName="ConditionModal",Ge.constants=He;var qe=Ge,Ue=t(95416),We=t(81043),Ye=(t(87912),t(97308),t(61260)),Ze=t.n(Ye),Qe=t(760),Xe=t.n(Qe),$e=t(77712),Je=t(58108),en=t(64947),nn=t(56367),tn=t(5680),ln={key:"currentRecord",title:"本记录"},an=function(){return!0},rn=(0,V.forwardRef)((function(e,n){var t,l=e.refBillData,a=e.onGetFieldRecords,r=e.listFilterConfig,o=e.fieldRecords,c=e.variablesTree,i=e.onFilterChange,u=e.onSortChange,s=e.onRelationFormChange,d=e.onResultChange,f=e.configuredFilterItems,m=e.relationFormId,p=e.result,v=e.sortInfos,h=e.field,y=(e.validData,e.inputFieldProps),g=e.refBillProps,b=h.type,C=h.fieldName,E=h.entityId,k=h.isMulti,N=(0,V.useRef)();(0,V.useImperativeHandle)(n,(function(){return{updateVerifyAndGetMsg:function(){return N.current.updateVerifyAndGetMsg()}}}),[]);var w=(0,V.useMemo)((function(){return(0,en.getListConfigPure)(r)}),[r]),S=(0,V.useMemo)((function(){return(0,en.getListSortConfig)(r)}),[r]),x=function(e,n){var t=null==n?void 0:n.entityId;return null==e||e.forEach((function(e){var n;(null==e||null===(n=e.children)||void 0===n?void 0:n.length)>0&&((null==e?void 0:e.BillEntityId)!==t||void 0===t)?e.selectable=!1:e.selectable=!0})),e},F=(0,V.useMemo)((function(){var e;return Xe()(e=[ln]).call(e,(0,We.c)((0,en.getMultiRefChildrenExclude)(r)))}),[r]);return L().createElement("div",{className:nn.c.billFinder},L().createElement(X.Form.Item,{label:"查找表单",name:"relationFormId",required:!0},L().createElement(Re.cp,{treeDefaultExpandAll:!0,allowClear:!0,showTreeIcon:!0,value:m||"",treeData:function e(n){var t,l=[];return null==n||null===(t=n.children)||void 0===t||t.forEach((function(n){var t={icon:n.icon,key:n.value,title:n.label};n.children&&(t.selectable=!1,t.children=e(n)),l.push(t)})),l}(l),className:nn.c.select,onChange:function(e){s(e),i([]),u([]),d([])}})),L().createElement(X.Form.Item,{label:"配置筛选条件",name:"filterInfos",rules:[{type:"array",required:!0,message:"请配置筛选条件"}]},L().createElement(Je.c,{id:"filter",ref:N,name:"配置筛选条件",tips:"",variablesTree:c||[],listFilterConfig:w||[],onGetFieldRecords:a,fieldRecords:o||[],className:nn.c.filter_editor,style:{marginTop:"0px"},getVarSelectDisabled:an,fieldData:{fieldType:"treeSelect",style:{width:"184px"}},filterFooterData:{listType:"tree",triggerText:"添加筛选条件",treeProps:{defaultExpandAll:!1}},valueData:y,value:f||[],onChange:i,refBillProps:g,required:!0,nameHidden:!0,valueRequired:!0})),L().createElement(X.Form.Item,{label:"配置排序条件",name:"sortInfos"},L().createElement($e.c,{id:"filter",name:"配置排序条件",tips:"",treeData:S||[],className:nn.c.orderby_editor,style:{marginTop:"0px"},nameHidden:!0,value:v||[],onChange:u})),L().createElement("div",{key:m},null===(t="NoCodeDateRangeField"===b?[".开始",".结束"]:[""])||void 0===t?void 0:P()(t).call(t,(function(e,n){var t,l;return L().createElement(X.Form.Item,{label:"查找到记录后，将最新一条记录关联到当前字段",name:"preCondition",className:nn.c.title,rules:[{required:!0,validator:function(e,n,t,l,a){return!!n||[new Error("请添加写入规则")]}}]},L().createElement("p",{className:nn.c.value_text},"将"),L().createElement(Re.cp,{treeDefaultExpandAll:!0,key:null===(t=p[n])||void 0===t?void 0:t.sourceField,value:null===(l=p[n])||void 0===l?void 0:l.sourceField,treeData:x((0,tn.filterTreeData)(F,{selBillValue:m||"",entityId:E,isMulti:k,type:b},h)),className:nn.c.select,onChange:function(e){return function(e,n){if("NoCodeDateRangeField"===b){var t=(0,We.c)(p),l={sourceField:e,targetField:C+(0===n?"_startdate":"_enddate")};Ze()(t).call(t,n,1,l),d(t)}else d([{sourceField:e,targetField:C}])}(e,n)},showFullLabelTips:!0}),L().createElement("p",{className:nn.c.value_text},"的值写入当前字段",e))}))))})),on=t(81992),cn=t(63092),un=t(28156),sn=(0,V.memo)((function(e){var n=e.value,t=e.defaultValue,l=e.options,a=e.renderOption,r=e.onChange,o=(0,V.useState)(t),c=(0,R.c)(o,2),i=c[0],u=c[1];(0,V.useEffect)((function(){u(n)}),[n]);return L().createElement("ul",{className:un.c.sectioner},P()(l).call(l,(function(e,n){if("function"==typeof a)return a(e);var t=e.value,l=e.label;return L().createElement("li",{key:t||n,className:q()([un.c.sectioner_item,(0,H.c)({},un.c["is-active"],t===i)]),onClick:function(){return function(e){r?null==r||r(e):u(e)}(t)}},l)})))}));sn.displayName="Sectioner";var dn=sn,fn=(t(43924),t(1336),t(19572),t(37292),t(2240),t(23268),t(20660),t(94580),t(43160),t(8608),t(87503),t(16696),t(57309),t(76728),t(37332),t(37888),t(14379),t(93723),t(26396),t(57096),t(56539),t(55888),t(50768),t(54732),t(13108),t(56264),t(3328)),mn=t.n(fn),pn=function(e){return e.CARD="CARD",e.MENU="MENU",e.HEAD="HEAD",e.CONCENT="CONCENT",e.INPUT="INPUT",e.CHART="CHART",e.FOOT="FOOT",e}({}),vn=t(25288),hn=t.n(vn),yn={skeletonCard:"o1uH0i8J_skeletonCard",skeletonMenu:"_1EUUxp45_skeletonMenu",skeletonContent:"DmSi-vbM_skeletonContent",skeletonInput:"+Fsa2Bo3_skeletonInput",skeletonHead:"M1K86srd_skeletonHead",skeletonChart:"iOy6DTDE_skeletonChart",skeletonFoot:"_7bsRADZo_skeletonFoot",radiuscircle:"ptkrl33G_radiuscircle",radiusdefault:"NtFt5-1W_radiusdefault",radiusround:"_7nBRuysO_radiusround",cananimation:"J805RqBG_cananimation","css-skeleton-loading":"Vu0d6l-p_css-skeleton-loading"},gn=function(e,n){var t=n.shapeType,l=n.animation;return e=yn[e],void 0!==t&&(e+=" "+yn["radius"+hn()(t).call(t)]),l&&(e+=" "+yn.cananimation),e},bn=function(e){var n=gn(e.class,e),t={width:e.width,height:e.height,margin:e.margin};return L().createElement("div",{className:n,style:t},L().createElement(L().Fragment,null,"skeletonChart"===e.class?L().createElement("div",null,e.children,L().createElement("i",{className:n})):L().createElement(L().Fragment,null,e.children)))},Cn="fXAS5+Vr_skeleton",En=function(e){var n,t=e.type,l=e.child?e.child:[],a=e.animation?e.animation:pn.INPUT===t,r=Nn();switch(t){case pn.INPUT:n=L().createElement(bn,{class:"skeletonInput",animation:a,key:"skeletonInput"+r,width:e.width,height:e.height,margin:e.margin,shapeType:e.shapeType?e.shapeType:"default"},L().createElement(Sn,{options:l,key:"skeletonChild"+r}));break;case pn.CARD:n=L().createElement(bn,{class:"skeletonCard",animation:!1,width:e.width,key:"skeletonCard"+r,height:e.height,margin:e.margin,shapeType:e.shapeType?e.shapeType:"round"},L().createElement(Sn,{options:l,key:"skeletonChild"+r}));break;case pn.MENU:n=L().createElement(bn,{class:"skeletonMenu",animation:!1,width:e.width,height:e.height,margin:e.margin,key:"skeletonMenu"+r},L().createElement(Sn,{options:l,key:"skeletonChild"+r}));break;case pn.CONCENT:n=L().createElement(bn,{class:"skeletonContent",animation:!1,width:e.width,height:e.height,margin:e.margin,key:"skeletonContent"+r},L().createElement(Sn,{options:l,key:"skeletonChild"+r}));break;case pn.CHART:n=L().createElement(bn,{class:"skeletonChart",animation:!0,width:e.width,height:e.height,margin:e.margin,key:"skeletonChart"+r},L().createElement(Sn,{options:l,key:"skeletonChild"+r}));break;case pn.HEAD:if(2===l.length){var o=[],c=[];o.push(l[0]),c.push(l[1]),n=L().createElement(bn,{class:"skeletonHead",animation:!1,width:e.width,height:e.height,margin:e.margin,key:"skeletonHead"+r},L().createElement(Sn,{options:o,key:"skeletonChild1"+r}),L().createElement(Sn,{options:c,key:"skeletonChild2"+r}))}break;case pn.FOOT:n=L().createElement(bn,{class:"skeletonFoot",animation:!1,width:e.width,height:e.height,margin:e.margin,key:"skeletonFoot"+r},L().createElement(Sn,{options:l,key:"skeletonChild"+r}));break;default:n=L().createElement(wn,{options:l,optionItem:e,isRoot:!1,key:"skeleton"+r})}return n},kn=function(e){return L().createElement(L().Fragment,null,P()(e).call(e,(function(e){if(mn()(e)&&mn()(e)>0){for(var n=[],t=0;t<mn()(e);t++)n.push(e);return P()(n).call(n,(function(e){return En(e)}))}return En(e)})))},Nn=function(){var e=window.crypto||window.webkitCrypto||window.mozCrypto||window.oCrypto||window.msCrypto;return null==e?void 0:e.getRandomValues(new Uint32Array(1))[0]},wn=function(e){var n=e.options,t=function(e,n){var t={};return e&&(t=e),void 0===n&&(t.width="100%",t.height="100%"),t}(e.optionItem,e.isRoot);return L().createElement("div",{className:Cn,style:t},kn(n))},Sn=function(e){var n=e.options;return L().createElement(L().Fragment,null,kn(n))},xn=wn,Fn=t(38456),Tn=t.n(Fn),In=(t(86456),t(98308)),Dn=t(15010),_n=L().memo((function(e){var n=(0,V.useState)("currentApp"),t=(0,R.c)(n,2),l=t[0],a=t[1],r=(0,V.useRef)(),o=((0,V.useRef)(),e.onChange),c=e.value,i=e.className,u=e.nameHidden,s=e.required,d=e.locked,f=e.name,m=e.tips,p=e.refBillData,v=e.isEmpty,h=(0,V.useState)(v),y=(0,R.c)(h,2),g=y[0],b=y[1];(0,V.useEffect)((function(){b(v)}),[v]),(0,V.useEffect)((function(){var e=c&&1!==c.split(",").length?"otherApp":"currentApp";e!==l&&a(e)}),[c]);var C="bill-type",E=(0,V.useCallback)((function(e){e.stopPropagation();var n=e.currentTarget.dataset.tab;if(n===l)return!1;a(n)}),[l]),k=(0,V.useCallback)((function(e,n){e=e?e.join():"",null==o||o(e)}),[o]),N=(0,V.useCallback)((function(e){var n="currentApp"===l,t="".concat(C,"-select-box"),a=q()(Dn.c["".concat(t,"-tab-item")],(0,H.c)({},Dn.c["".concat(t,"-tab-item-cur")],n)),o=q()(Dn.c["".concat(t,"-tab-item")],(0,H.c)({},Dn.c["".concat(t,"-tab-item-cur")],!n));return L().createElement(L().Fragment,null,L().createElement("div",{className:Dn.c["".concat(t,"-tab")]},L().createElement("div",{className:a,"data-tab":"currentApp",onClick:E},"当前应用"),L().createElement("div",{className:Dn.c["".concat(t,"-tab-line")]}),L().createElement("div",{className:o,"data-tab":"otherApp",onClick:E},"其它应用")),L().createElement("div",{className:Dn.c["".concat(t,"-list")],ref:function(e){var n;if(e){e.parentElement.style.animation="none";var t=(null===(n=r.current)||void 0===n?void 0:n.getBoundingClientRect()).width;e.style.width=t+"px"}}},e))}),[l]),w=(0,V.useMemo)((function(){var e;return null===(e=Tn()(p).call(p,(function(e){return e.tab===l})))||void 0===e?void 0:e.data}),[p,l]);return L().createElement("div",{className:q()(Dn.c[C],i)},L().createElement(In.c,{nameHidden:u,className:Dn.c.title,name:f,tips:m,required:s}),L().createElement("div",{className:Dn.c["".concat(C,"-list")],ref:r},L().createElement(X.Cascader,{placeholder:"请选择",bordered:!0,disabled:d,value:c.split(","),onChange:k,className:Dn.c["".concat(C,"-select")],dropdownRender:N,options:w,notFoundContent:"暂无数据"}),g&&L().createElement("div",{className:Dn.c.red},"请输入应用名称")))})),Rn=t(78168),An=["onCancel","onOk","cancelText","okText"],Mn=function(e){var n=e.cancelText,t=e.okText,l=e.onCancel,a=e.onConfirm;return L().createElement("div",{className:Rn.c.modal_footer},L().createElement("div",null,L().createElement(X.Button,{size:"small",className:Rn.c.modal_footer_btn,onClick:l},n||"取消"),L().createElement(X.Button,{size:"small",type:"primary",className:Rn.c.modal_footer_btn,onClick:a},t||"确定")))},Pn=(0,V.memo)((function(e){var n=e.onCancel,t=e.onOk,l=e.cancelText,a=e.okText,r=(0,A.c)(e,An);return L().createElement(X.Modal,(0,_.c)({onCancel:n,footer:L().createElement(Mn,{cancelText:l,okText:a,onCancel:n,onConfirm:t})},r))}));Pn.displayName="Modal";var Vn=Pn,Ln=t(44052),Bn=t(68944),zn=t(6726),On=t(26644),Kn={id:"id",name:"name",color:"color"},jn=(0,V.memo)((function(e){var n=e.bgcolorChecked,t=e.options,l=e.renderOption,a=e.isNewOptionEdit,r=e.limitCount,o=e.keyMap,c=void 0===o?Kn:o,i=e.itemClassName,u=e.onChange,s=e.onAdd,d=(0,_.c)(Kn,c),f=function(e){var n=ze()(t).call(t,(function(n){return n[d.id]!==e}));u(n)},m=function(e,n){var l=(0,We.c)(t);l[e]=n,u(l)},p=(0,V.useCallback)((function(e){if(e){var n=e.sourceIndex,l=e.destinationIndex,a=(0,We.c)(t),r=Ze()(a).call(a,n,1)[0];Ze()(a).call(a,l,0,r),u(a)}}),[t]),v=(0,Bn.c)(p);return L().createElement("div",{className:zn.c.editoptionlist_wrapper},L().createElement(Ve.U,null,L().createElement("div",{className:zn.c.editoptionlist},null==t?void 0:P()(t).call(t,(function(e,t){return L().createElement(Ln.c,{key:e[d.id],index:t,keyMap:d,className:i,isNewOptionEdit:a,option:e,renderOption:l,bgcolorChecked:n,onDelete:f,onChange:function(e){return m(t,e)},onDrop:v})})))),L().createElement("div",{className:zn.c.editoptionlist_handle},L().createElement("div",{className:q()(zn.c.editoptionlist_handle_btn,(0,H.c)({},zn.c.editoptionlist_handle_disabled,r&&t.length===r)),onClick:s},L().createElement(X.Icon,{prefix:"ncicon",type:"zengjia-yuan"}),L().createElement("span",null,"添加")),!(null==t||!t.length)&&L().createElement("div",{className:zn.c.editoptionlist_handle_clear,onClick:function(){null==u||u([])}},L().createElement("span",null,"清空值"))))}));jn.displayName="EditOptionList",jn.darkColorList=On.gV;var Hn=jn,Gn=t(84496),qn=(t(97448),t(78504),t(77864),(0,V.lazy)((function(){return Promise.all([t.e(3296),t.e(8344)]).then(t.bind(t,25016))}))),Un=(0,V.forwardRef)((function(e,n){return L().createElement(V.Suspense,{fallback:L().createElement("span",null)},L().createElement(qn,(0,_.c)({ref:n},e)))})),Wn=(t(33768),t(90512),t(73980)),Yn=t.n(Wn),Zn=t(13440),Qn=t.n(Zn),Xn=t(59992),$n=t.n(Xn),Jn=t(60600),et=t.n(Jn),nt=t(58496),tt=t(24496),lt=t.n(tt),at=t(77011);function rt(e,n){var t=void 0!==$n()&&et()(e)||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){var t;if(!e)return;if("string"==typeof e)return ot(e,n);var l=Yn()(t=Object.prototype.toString.call(e)).call(t,8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return Qn()(e);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return ot(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var l=0,a=function(){};return{s:a,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){c=!0,r=e},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw r}}}}function ot(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,l=new Array(n);t<n;t++)l[t]=e[t];return l}var ct={width:"320px"},it=function e(n){var t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=rt(n);try{for(a.s();!(t=a.n()).done;){var r=t.value,o=r.key,c=r.checkable,i=r.children;i&&e(i,l),!1!==c&&l.push(o)}}catch(e){a.e(e)}finally{a.f()}return l},ut=function(){var e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var t="object"===(0,nt.c)(n)?lt()(n):n;e[t]=!0})),e},st=function(e){var n=e.mode,t=void 0===n?"multiple":n,l=e.treeData,r=e.checkedKeys,o=e.onSelect,c=e.onCheck,i=e.triggerText,u=e.popperClassName,s=e.popperStyle,d=void 0===s?ct:s,f=e.treeProps,m=void 0===f?{}:f,p=e.showCheckAll,v=void 0===p||p,h=(null==r?void 0:r.length)||0,y=(0,V.useState)(!1),g=(0,R.c)(y,2),b=g[0],C=g[1],E=(0,V.useMemo)((function(){return it(l)}),[l]),k=(0,V.useCallback)((function(e){C(e)}),[]),N=(0,V.useMemo)((function(){return!!(0,je.isEqual)(ut(E),ut(r||[]))}),[r,E]),w=(0,V.useMemo)((function(){return!(!r.length||(0,je.isEqual)(ut(E),ut(r||[])))}),[r]);return L().createElement(X.Tooltip,{tip:L().createElement("div",{className:at.c["popper-wrapper"]},L().createElement(cn.c,(0,_.c)({treeData:l||[],checkedKeys:r,onCheck:function(e,n){null==c||c(e)},onSelect:function(e,n){null==o||o(e,n),C(!1)},expandOnClickNode:!1,checkable:!0,virtual:!1},m)),"multiple"===t&&v&&l.length>0&&L().createElement("div",{className:at.c.total},L().createElement(X.Checkbox,{className:at.c.checkbox,onChange:function(e){var n=e.target.checked;null==c||c(n?E:[])},indeterminate:w,checked:N},"全选"),L().createElement("span",{className:at.c.checked},"已选：",L().createElement("span",{className:at.c.checkedNum},h)))),placement:"topLeft",trigger:"click",visible:b,onVisibleChange:k,arrow:!1,popperClassName:q()(at.c.panel,u),popperStyle:d},L().createElement(a.c,{type:"text",major:!0,icon:{prefix:"ncicon",type:"zengjia-yuan"}},i))};st.displayName="AddTreeItem";var dt=st,ft=t(60792)},38680:function(e,n,t){t.d(n,{E_:function(){return k},Ex:function(){return c},I$:function(){return _},Ir:function(){return N},MX:function(){return D},S6:function(){return h},Se:function(){return i},Tb:function(){return b},WK:function(){return m},X3:function(){return C},__:function(){return p},c$:function(){return g},ct:function(){return f},eo:function(){return w},gR:function(){return u},gd:function(){return d},iA:function(){return A},kD:function(){return v},kT:function(){return y},kV:function(){return s},lN:function(){return I},mO:function(){return T},mS:function(){return R},oH:function(){return a},qo:function(){return F},sv:function(){return l},uW:function(){return E},y4:function(){return r},yY:function(){return S},yi:function(){return x},yo:function(){return o}});var l="u",a="setControlState",r="InvokeControlMethod",o="updateValue";var c="setLookUpListValue",i="setItemByIdFromClient",u="getLookUpList",s="getListQuery",d="getListConfig",f="setListQuery",m="setListConfig",p="setFilterItemLook",v="getHeadFieldFilterItem",h="setHeadFieldFilterItem",y="resetValue",g="refreshRefList",b="showUserInfo",C="showOrgInfo",E="showInfo",k="editInfo",N="createGridColumns",w="appendRows",S="deleteRows",x="selectRows",F="setFocus",T="setSelectedDataInfo",I="tableCustomerControlMethod",D="openrelationform",_="appendTableRows",R="setGridState",A="getEntryData"},52825:function(e,n,t){t.r(n),t.d(n,{advbaritem:function(){return H},advcon:function(){return O},advconchild:function(){return j},advcontoolbar:function(){return K},attachmentfield:function(){return R},billform:function(){return T},button:function(){return a},checkbox:function(){return g},combo:function(){return v},date:function(){return C},daterange:function(){return w},datetime:function(){return b},email:function(){return d},fieldcon:function(){return o},flexpanel:function(){return F},grid:function(){return z},gridpanel:function(){return S},groupcontainer:function(){return x},gtd:function(){return V},idcard:function(){return s},image:function(){return M},label:function(){return r},month:function(){return E},mulcombo:function(){return h},nocodebill:function(){return I},nocodeformdesigner:function(){return L},nocodewfdesigner:function(){return B},number:function(){return m},passwordbox:function(){return u},picture:function(){return A},radio:function(){return y},refbill:function(){return D},refbilllist:function(){return _},reftable:function(){return G},richtext:function(){return P},telephone:function(){return i},text:function(){return c},textarea:function(){return p},timerange:function(){return N},url:function(){return f},year:function(){return k}});t(43924),t(87912),t(97448),t(78504),t(77864);var l=t(65984),a=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,16164))})),r=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,12372))})),o=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,1704))})),c=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,73032))})),i=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,59956))})),u=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,19728))})),s=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,73032))})),d=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,63536))})),f=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,51432))})),m=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,9172))})),p=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,85268))})),v=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,12988))})),h=v,y=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,37312))})),g=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,19476))})),b=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,82992))})),C=b,E=b,k=b,N=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(1136),t.e(9984),t.e(6740),t.e(7184)]).then(t.bind(t,18368))})),w=N,S=(0,l.lazy)((function(){return Promise.all([t.e(9636),t.e(5648)]).then(t.bind(t,8496))})),x=(0,l.lazy)((function(){return Promise.all([t.e(9636),t.e(5648)]).then(t.bind(t,9312))})),F=(0,l.lazy)((function(){return Promise.all([t.e(9636),t.e(5648)]).then(t.bind(t,93684))})),T=(0,l.lazy)((function(){return Promise.all([t.e(9636),t.e(5648)]).then(t.bind(t,6124))})),I=T,D=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(9984),t.e(548),t.e(9028)]).then(t.bind(t,28140))})),_=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(9984),t.e(548),t.e(9028)]).then(t.bind(t,23132))})),R=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(9984),t.e(548),t.e(9028)]).then(t.bind(t,31520))})),A=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(9984),t.e(548),t.e(9028)]).then(t.bind(t,45240))})),M=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(9984),t.e(548),t.e(9028)]).then(t.bind(t,99964))})),P=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(9984),t.e(548),t.e(9028)]).then(t.bind(t,5364))})),V=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(9984),t.e(548),t.e(9028)]).then(t.bind(t,42996))})),L=(0,l.lazy)((function(){return Promise.all([t.e(3768),t.e(9200),t.e(3764),t.e(8656),t.e(2400),t.e(7044)]).then(t.bind(t,52304))})),B=(0,l.lazy)((function(){return Promise.all([t.e(3768),t.e(9200),t.e(3764),t.e(8656),t.e(2400),t.e(8150)]).then(t.bind(t,40180))})),z=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(1136),t.e(9984),t.e(548),t.e(6740),t.e(7336),t.e(8600)]).then(t.bind(t,84180))})),O=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(1136),t.e(9984),t.e(548),t.e(6740),t.e(7336),t.e(8600)]).then(t.bind(t,70248))})),K=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(1136),t.e(9984),t.e(548),t.e(6740),t.e(7336),t.e(8600)]).then(t.bind(t,25020))})),j=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(1136),t.e(9984),t.e(548),t.e(6740),t.e(7336),t.e(8600)]).then(t.bind(t,12404))})),H=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(1136),t.e(9984),t.e(548),t.e(6740),t.e(7336),t.e(8600)]).then(t.bind(t,35500))})),G=(0,l.lazy)((function(){return Promise.all([t.e(9516),t.e(2780),t.e(1136),t.e(9984),t.e(548),t.e(6740),t.e(7336),t.e(8600)]).then(t.bind(t,96200))}))},92140:function(e,n,t){t.r(n),t.d(n,{Main:function(){return h},showConfirm:function(){return v.showConfirm},showErrMsg:function(){return v.showErrMsg},showMessage:function(){return v.showSysMessage},showModalForm:function(){return p},showNotificationMsg:function(){return v.showNotificationMsg}});var l=t(72048),a=t(65984),r=t.n(a),o=t(39756),c=t(52825),i=t(56492),u=(t(85712),t(16428)),s=t.n(u),d=t(63548),f="VNQadocw_main_modal",m=t(14020),p=function(e,n){var t=e.pageId,l=e.param,a=n.getConfig(t).caption,o=document.createElement("div"),c=(0,m.k3)(520,768);return o.setAttribute("style","position:absolute;z-index:1050;"),document.body.appendChild(o),s().render(r().createElement(d.Modal,{title:n.getControlText(a)||"",footer:null,width:1080,height:c,className:f,maskClosable:!1,getContainer:function(){return o},destroyOnClose:!0,bodyStyle:{padding:0,display:"flex",overflow:"hidden"},body:r().createElement(h,{model:n,meta:l,pageId:t})}),o),function(){s().unmountComponentAtNode(o),document.body.removeChild(o)}},v=t(71500),h=function(e){var n=e.meta,t=e.model,u=e.pageId,s=e.metaTransform,d=(0,a.useState)(n),f=(0,l.c)(d,2),m=f[0],p=f[1],v=(0,a.useReducer)((function(e){return e+1}),0),h=(0,l.c)(v,2)[1],y=(0,a.useCallback)((function(e){var n=e.pageId;u===n&&h()}),[u]);return t.useRefreshFormMeta({pageId:u},(function(){return p((null==s?void 0:s(t.getAllMeta()))||t.getAllMeta())})),t.useRefreshFormStatus(y),i.c.init(c,m),m.size,r().createElement(o.m.Provider,{value:{meta:m,model:t}},i.c.getChildren({pageId:u,id:""},m))}},5680:function(e,n,t){t.r(n),t.d(n,{SystemFields:function(){return jn},VALUE_EMPTY_COMPARE_TYPE:function(){return ln},canClearSourceField:function(){return Be},createNewValue:function(){return Ke},createValue:function(){return je},exludeEmptyListFilterConfig:function(){return Xn},filterCompareTypes:function(){return ke},filterDataTransform:function(){return Ne},filterItemCompareTypes:function(){return Ee},filterNoValue:function(){return an},filterTreeData:function(){return kn},filterVariablesTree:function(){return Nn},filterVariablesTreeFlow:function(){return In},filterVariablesTreeMap:function(){return En},getCompareTypeCaption:function(){return we},getCompareTypeCaptionByCompareType:function(){return Se},getCompareTypeOptions:function(){return Fe},getDefaultClassName:function(){return Me},getDefaultCompareTypeValue:function(){return xe},getFieldValue:function(){return tn},getFilterOptions:function(){return De},getFilterValueAndVar:function(){return nn},getFlowTypeByParam:function(){return Dn},getMultiFieldValue:function(){return qe},getMultiNewFieldValue:function(){return We},getMultiRefFieldValue:function(){return Ue},getNewCompareType:function(){return Ve},getNewCompareTypes:function(){return Le},getNewDefaultFilterData:function(){return Ae},getNewDefaultFilterDataExcept:function(){return Re},getNewEnumFilterDefaultValue:function(){return _e},getNewValue:function(){return Ze},getNewVerifyData:function(){return rn},getSelItem:function(){return ze},getTreeSelectFieldValue:function(){return Ye},getValue:function(){return Qe},getValueTypeByCompareType:function(){return Te},getValueTypeByType:function(){return Ie},getVarSelectDisabled:function(){return $n},getVarSelectedKeysInfo:function(){return en},modelReg:function(){return Je},transform2Options:function(){return Pe},varReg:function(){return Xe},varRegList:function(){return $e}});var l,a,r,o,c,i,u,s,d,f,m,p,v,h,y,g,b,C,E,k,N,w,S,x,F,T,I,D,_,R=t(13939),A=t.n(R),M=t(34716),P=t.n(M),V=t(4884),L=t.n(V),B=t(3464),z=t.n(B),O=t(51400),K=t.n(O),j=t(25028),H=t.n(j),G=t(81043),q=t(58496),U=t(30112),W=(t(86456),t(21300),t(87912),t(33768),t(18080),t(97308),t(1900)),Y=t.n(W),Z=t(50524),Q=t.n(Z),X=t(70696),$=t.n(X),J=t(23992),ee=t.n(J),ne=t(38456),te=t.n(ne),le=t(35680),ae=t.n(le),re=t(52892),oe=t.n(re),ce=t(760),ie=t.n(ce),ue=t(33260),se=t.n(ue),de=t(94728),fe=t.n(de),me=t(68456),pe=t.n(me),ve=t(11908),he=t.n(ve),ye=t(60644),ge=t(64947);function be(e,n){var t=A()(e);if(P()){var l=P()(e);n&&(l=$()(l).call(l,(function(n){return L()(e,n).enumerable}))),t.push.apply(t,l)}return t}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?be(Object(t),!0).forEach((function(n){(0,U.c)(e,n,t[n])})):z()?K()(e,z()(t)):be(Object(t)).forEach((function(n){H()(e,n,L()(t,n))}))}return e}var Ee=function(e,n,t){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["001"],a=Y()(n).call(n,(function(n){return(e.fieldName===n.fieldName||e.key===n.fieldName)&&Q()(l).call(l,n.compareType)})),r=n[a];if(r&&t!==a){var o,c=$()(o=e.compareTypes).call(o,(function(e,n){return e.id!==r.compareType}));return Ce(Ce({},e),{},{compareTypes:c})}return e},ke=function(e,n){var t,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["001"],a=Y()(n).call(n,(function(n){return(e.fieldName===n.fieldName||e.key===n.fieldName)&&Q()(l).call(l,n.compareType)})),r=n[a];return r?$()(t=e.compareTypes).call(t,(function(e,n){return e.id!==r.compareType})):e.compareTypes},Ne=function(e,n){return n=$()(n).call(n,Boolean),ee()(e).call(e,(function(t,l){var a=(0,ge.dfs)(n,(function(e){return e.fieldName===t.fieldName||e.key===t.fieldName}))||{};return a=Ee(a,e,l),(t=Ce(Ce({},a),t)).compareTypeCaption=Se(a.compareTypes,t.compareType),t}))},we=function(e){var n;return null==e||null===(n=e.name)||void 0===n?void 0:n.zh_CN},Se=function(e,n){var t,l=null==e?void 0:te()(e).call(e,(function(e){return e.id===n}));return null==l||null===(t=l.name)||void 0===t?void 0:t.zh_CN},xe=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;return(null==t||null===(e=te()(t).call(t,(function(e){return e.id===l})))||void 0===e?void 0:e.id)||(null===(n=t[0])||void 0===n?void 0:n.id)},Fe=function(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var t={label:n.name.zh_CN,value:n.id};e.push(t)})),e},Te=function(e,n){var t;return(null==n||null===(t=te()(n).call(n,(function(n){return n.id===e})))||void 0===t?void 0:t.inputCtlType)||"text"},Ie=function(e){var n,t,l=e.type,a=e.SelectItemType,r=null==l?void 0:ae()(n=ae()(t=ae()(l).call(l,"nocode","")).call(t,"nocode","")).call(n,"field","");return"decimal"===r?"number":"date"===r?"datetime":"daterange"===r?"dateRange":"selectitem"===r&&1==a?"multiSelect":"selectitem"===r?"select":"imageupload"===r?"picture":"mulrefbill"===r||"refbilltable"===r?"refbill":"graphicdisplay"===r?"richtext":"attachmentupload"===r?"attachment":r},De=function e(){var n=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var l=t.fieldCaption,a=t.fieldName,r=t.children,o=t.type,c={label:l,value:a,titlePrefix:t.titlePrefix};"group"===o&&(c.selectable=!1),r&&(c.children=e(r)),n.push(c)})),n},_e=function(e){var n=(e||{}).groupInfo;return null==n?void 0:ee()(n).call(n,(function(e){return{label:e.label,type:e.type,fieldValue:e.fieldValue}}))},Re=function(e,n,t){var l,a=(0,ge.dfs)(e,(function(e){return e.fieldName===n||e.key===n}));if(a){var r=(null===(l=ke(a,t))||void 0===l?void 0:l[0])||"";return{fieldName:n,compareType:r.id,value:[]}}},Ae=function(e,n){var t;if(n){var l=(0,ge.dfs)(e,(function(e){return e.fieldName===n||e.key===n}));if(l)return{fieldName:n,compareType:null==l||null===(t=l.compareTypes[0])||void 0===t?void 0:t.id,value:[]}}},Me=function(e){switch(e){case"preConnect":return"connect-char";case"field":return"filter";case"compareType":return"compare-type";case"value":return"value"}},Pe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh_CN";return null==e?void 0:ee()(e).call(e,(function(e){return{label:e.name[n],value:e.value}}))},Ve=function(e,n){var t,l=(0,ge.dfs)(e,(function(e){return e.fieldName===n||e.key===n}));return null==l||null===(t=l.compareTypes[0])||void 0===t?void 0:t.id},Le=function(e,n,t){var l,a,r=Array.isArray(n)?n[0]:n,o=(0,ge.dfs)(e,(function(e){return e.fieldName===r||e.key===r}));return(null==o||null===(l=o.compareTypes)||void 0===l||null===(l=$()(l).call(l,(function(e){return e.id===t})))||void 0===l?void 0:l.length)>0?{canChange:!1,compareType:t}:{canChange:!0,compareType:null==o||null===(a=o.compareTypes)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.id}},Be=function(e,n){var t=(0,ge.dfs)(e,(function(e){return e.key===n}));return void 0!==t&&!1!==t.selectable},ze=function(e,n){var t=Array.isArray(n)?n[0]:n;return(0,ge.dfs)(e,(function(e){return e.fieldName===t||e.key===t}))},Oe=function(e,n){return"dateRange"===n?[{fieldValue:e.start||""},{fieldValue:e.end||""}]:"number"===n?[{fieldValue:null!=e?e:""}]:[{fieldValue:e||""}]},Ke=function(e,n){return Array.isArray(e)?[{fieldValue:e.join(",")||""}]:e?Oe(e,n):[]},je=function(e,n){var t,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=new(oe());l.length&&l.forEach((function(e){a.set(e.value,{fieldValue:e.value,label:e.label,type:"normal"})})),e="refbill"===n&&1===e.length?e[0]:e;var r=Q()(t=["refbill","select","multiSelect"]).call(t,n);return Array.isArray(e)?ee()(e).call(e,(function(e){var n,t=Array.isArray(e)?e[0]:e;return null!==(n=e=r&&l.length?a.get(t)||t:e)&&void 0!==n&&n.type?e:{fieldValue:e||""}})):e?r&&l.length?a.get(e)?[a.get(e)]:[]:Oe(e,n):[]},He=function(e){var n,t;return null!==(n=e[0])&&void 0!==n&&n.fieldValue?null===(t=e[0])||void 0===t?void 0:t.fieldValue:""},Ge=function(e){var n,t;return{start:(null===(n=e[0])||void 0===n?void 0:n.fieldValue)||"",end:(null===(t=e[1])||void 0===t?void 0:t.fieldValue)||""}},qe=function(e){return null==e?void 0:ee()(e).call(e,(function(e){return e.fieldValue}))},Ue=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=[];return null==e||e.forEach((function(e){return t.push(e.fieldValue)})),!0===n||null===n?[t]:t},We=function(e){var n,t=null===(n=e[0])||void 0===n||null===(n=n.fieldValue)||void 0===n?void 0:n.split(",");return t?null==t?void 0:ee()(t).call(t,(function(e){return e})):""},Ye=function(e){return null==e?void 0:ee()(e).call(e,(function(e){return e.label}))},Ze=function(e,n,t){var l,a=(t||{}).groupInfo;null==a||ee()(a).call(a,(function(e){return{label:e.label,type:e.type,fieldValue:e.fieldValue}}));return"enum_eq"===e?n:"multiSelect"===e?We(n):"treeSelect"===e?Ye(n):"dateRange"===e?Ge(n):"refbill"===e?We(n):"number"===e?null===(l=n[0])||void 0===l?void 0:l.fieldValue:He(n)},Qe=function(e,n,t){var l,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=(t||{}).groupInfo;null==r||ee()(r).call(r,(function(e){return{label:e.label,type:e.type,fieldValue:e.fieldValue}}));return"enum_eq"===e?n:"multiSelect"===e?qe(n):"treeSelect"===e?Ye(n):"dateRange"===e?Ge(n):"refbill"===e?Ue(n,a):"number"===e?null===(l=n[0])||void 0===l?void 0:l.fieldValue:He(n)},Xe=/\${(\S*)\}/,$e=[/\${(\S*)\}/,/^disp\((.+?)\)/],Je=/\${model.(\S*)\}/,en=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={};return Array.isArray(e)&&e.forEach((function(e){if(null!=e&&e.fieldValue){var l=e.fieldValue;if(r=l,$e.some((function(e){return e.test(r)}))){var a=n[l]||{};t[l]=a.title!==(null==e?void 0:e.label)?a.title:null==e?void 0:e.label}}var r})),t},nn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[];return(0,ye.isArray)(e)&&e.forEach((function(e,l){t[l]=n[null==e?void 0:e.fieldValue]?null==e?void 0:e.fieldValue:""}),[]),t},tn=function(e,n){if(!e||0===(null==e?void 0:e.length))return"";var t=[],l={};return(null==n?void 0:n.length)>0?(n.forEach((function(e){l[e.value]=e.name.zh_CN})),e.forEach((function(e){"object"===(0,q.c)(e)?t.push(e.label||l[e.fieldValue]):t.push(e)}))):e.forEach((function(e){"object"===(0,q.c)(e)?t.push(e.label||e.fieldValue):t.push(e)})),t.join("、")},ln=["501","502","701","702","1701","1702"],an=function(e){return ee()(e).call(e,(function(e){var n=e.fieldCaption,t=e.fieldName,l=e.compareType,a=!!e.value.length&&e.value.every((function(e){return!(null==e||!e.fieldValue)||"empty"===(null==e?void 0:e.type)}));return{fieldName:t,msg:"".concat(n,"值不能为空"),verifyStatus:a||Q()(ln).call(ln,l)}}))},rn=function(e,n){var t,l=ie()(t=[]).call(t,n);return l[e].verifyStatus=!0,l},on=["NoCodeDateField","NoCodeDateRangeField","NoCodeCreateDateField","NoCodeModifyDateField","date"],cn=["NoCodeTextField","NoCodeTextAreaField","text","textarea","MuliLangTextField","TextField"],un=["NoCodeTextField","NoCodeTextAreaField","NoCodeSelectItemField","MuliLangTextField","TextField","ComboField","OrgField","text","combo"],sn=["NoCodeModifierField","NoCodeCreatorField","user","refbill","pk"],dn=["org","refbill","nocodemulrefbillfield","pk"],fn=ie()(l=["NoCodeBillNoField"]).call(l,cn),mn=["nocodemulrefbillfield","nocodecreatorfield","nocodemodifierfield","NoCodeMulRefBillField"],pn=["nocoderefbilltable","NoCodeRefBillTable"],vn=["bos_user","bos_adminorg"],hn=["refbill","pk"],yn=["NoCodeDecimalField","number"],gn=["NoCodeSelectItemField","ComboField","combo"],bn=["NoCodeRichTextField"],Cn=["NoCodeGraphicDisplayField"],En={nocodebillnofield:ie()(a=["NoCodeBillNoField"]).call(a,cn),nocodetextfield:ie()(r=[]).call(r,(0,G.c)(fn),yn,gn,on),nocodetextareafield:ie()(o=[]).call(o,(0,G.c)(fn),yn,gn,on),nocodedecimalfield:ie()(c=[]).call(c,cn,yn,gn),nocodeselectitemfield:ie()(i=[]).call(i,cn,yn,gn,on),nocodemulrefbillfield:["NoCodeMulRefBillField"],nocodedatefield:ie()(u=[]).call(u,cn,on,gn),date:ie()(s=[]).call(s,cn,on,gn),nocodedaterangefield:ie()(d=[]).call(d,cn,on,gn),nocodemodifydatefield:ie()(f=[]).call(f,cn,on,gn),nocodecreatedatefield:ie()(m=[]).call(m,cn,on,gn),nocodeimageuploadfield:["NoCodeImageUploadField"],nocodeattachmentuploadfield:["NoCodeAttachmentUploadField"],nocoderichtextfield:ie()(p=[]).call(p,bn,Cn),nocodegraphicdisplayfield:ie()(v=[]).call(v,bn,Cn),nocodecreatorfield:sn,nocodemodifierfield:sn,mulilangtextfield:ie()(h=[]).call(h,(0,G.c)(fn),yn,gn,on),textfield:ie()(y=[]).call(y,(0,G.c)(fn),yn,gn,on),combofield:ie()(g=[]).call(g,cn,yn,gn,on),combo:ie()(b=[]).call(b,cn,yn,gn,on),orgfield:cn,text:ie()(C=[]).call(C,(0,G.c)(fn),yn,gn,on),textarea:ie()(E=[]).call(E,(0,G.c)(fn),yn,gn,on),number:ie()(k=[]).call(k,cn,yn,gn),select:ie()(N=[]).call(N,cn,yn,gn,on),refbill:["refbill","pk"],org:["org","pk","refbill"],user:["user","pk","refbill"],nocoderefbilltable:ie()(w=[]).call(w,pn,mn)},kn=function(e,n){return Sn(e,n,!0)},Nn=function(e,n){return Sn(e,n,!1)},wn=function(e,n,t){return!n||!0===t||!0!==e},Sn=function(e,n,t){return n?xn(e,function(e){var n,t,l=null==e||null===(n=e.type)||void 0===n?void 0:n.toLowerCase(),a=Q()(t=["nocodecreatorfield","nocodemodifierfield"]).call(t,l)?"bos_user":e.entityId,r="bos_user"===a?sn:En[l]||un;return"bos_adminorg"===a&&(r=dn),{entityId:a,type:l,containList:r,isMulti:(null==e?void 0:e.isMulti)||!1,selBillValue:null==e?void 0:e.selBillValue,key:(null==e?void 0:e.fieldName)||(null==e?void 0:e.key)}}(n),t):e},xn=function e(n,t,l){var a=(0,ye.cloneDeep)(n);return fe()(a).call(a,(function(n,a){var r=null==a?void 0:a.children;return r&&(a.children=e(r,t,l)),Tn(a,t,l)?ie()(n).call(n,a):n}),[])},Fn=function(e,n){var t;return(e.entityId===n||(null==e||null===(t=e.option)||void 0===t?void 0:t.billEntityId)===n)&&null!==e.entityId},Tn=function(e,n,t){var l,a,r=n.type,o=n.entityId,c=n.containList,i=n.isMulti,u=n.selBillValue,s=n.key;if(Q()(mn).call(mn,r)||null!=r&&Q()(r).call(r,"nocodemulrefbillfield")){var d;if(Q()(vn).call(vn,o))if((null!=o&&pe()(o).call(o,e.type)||c&&null!==(d=e.type)&&void 0!==d&&Q()(d).call(d,"NoCodeMulRefBillField")&&e.entityId===o||(null==e?void 0:e.entityId)===o&&null!=c&&Q()(c).call(c,e.type))&&wn(e.isMulti,t,i))return!0;if(u===o&&wn(e.isMulti,t,i)&&"currentRecord"===e.key)return!0;if(Q()(hn).call(hn,e.type)&&!Q()(vn).call(vn,e.entityId)&&null!==e.entityId&&Fn(e,o))return!0;if(wn(e.isMulti,t,i)&&(Q()(pn).call(pn,e.type)||Q()(mn).call(mn,e.type))&&Fn(e,o))return!0}else if(Q()(pn).call(pn,r)){if((e.isMulti||u===o)&&"currentRecord"===e.key)return!0;if((Q()(hn).call(hn,e.type)||Q()(pn).call(pn,r)&&wn(e.isMulti,t,i))&&Fn(e,o))return!0}else{var f,m,p,v,h,y;if("nocodebillnofield"===r&&function(e){return["fbasedataid.name","fbasedataid.type","fbasedataid.size"].some((function(n){return se()(e).call(e,n)>-1}))}(e.key))return!1;if(Q()(f=["nocodedecimalfield","nocodedatefield","nocodedaterangefield","nocodecreatedatefield","nocodemodifydatefield","date"]).call(f,r)&&se()(m=e.key).call(m,"fbasedataid.type")>-1)return!1;if((null==s?void 0:se()(s).call(s,"fbasedataid.type"))>-1&&Q()(p=ie()(v=[]).call(v,yn,on,["NoCodeBillNoField"])).call(p,e.type))return!1;if((null==s?void 0:se()(s).call(s,"fbasedataid.name"))>-1&&"NoCodeBillNoField"===e.type)return!1;var g="nocodedecimalfield"===r&&(null!=e&&null!==(h=e.value)&&void 0!==h&&pe()(h).call(h,"ExecuteResult.QueryResult}")||null!=e&&null!==(y=e.value)&&void 0!==y&&pe()(y).call(y,".nocodebillnofield}"))?"other":e.type;if(null!=c&&Q()(c).call(c,"combo")&&null!=g&&he()(g).call(g,"combo")||null!=c&&Q()(c).call(c,g)){if("nocodeselectitemfield"===r&&wn(e.isMulti,t,i))return!0;if("nocodeselectitemfield"!==r)return!0}}if((null===(l=e.children)||void 0===l?void 0:l.length)>0)return e.selectable=!1,!0;var b=Wn(e.key||e.value);return!b||null!==(a=Gn[b])&&void 0!==a&&Q()(a).call(a,e.type),!1},In=function(e){var n,t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=l.type,r=l.id,o=l.fieldName,c=l.canMulit,i=l.flowEditorType;if(!a)return e;null!=o||Array.isArray(l.value)||(o=l.value);var u=(null==l?void 0:l.entityId)||(null==l||null===(n=l.option)||void 0===n?void 0:n.billEntityId),s=(null==l?void 0:l.isMulti)||(null==l||null===(t=l.option)||void 0===t?void 0:t.isMulti)||!1;c?he()(a).call(a,"combo")&&(a="combo"):he()(a).call(a,"combo")||"multiSelect"===a?a="select":"datetime"===a||"dateRange"===a?a="date":"refbill"===a&&"bos_user"===u?a="user":"refbill"===a&&"bos_adminorg"===u&&(a="org");var d=En[a];return _n(e,{fieldName:o,id:r,type:a,entityId:u,isMulti:s,containList:d,canMulit:c,flowEditorType:i})},Dn=function(e){var n=e.key,t=e.fieldName,l=e.id;return Wn(n||t||l)},_n=function e(n,t){var l=(0,ye.cloneDeep)(n);return fe()(l).call(l,(function(n,l){var a=null==l?void 0:l.children;if(a){var r,o;if(Q()(r=["refbill","user","org"]).call(r,t.type))l.selectable=(null==l||null===(o=l.option)||void 0===o?void 0:o.billEntityId)===(null==t?void 0:t.entityId);else l.selectable=l.type===t.type;l.children=e(a,t)}return Qn(l,t)?ie()(n).call(n,l):n}),[])},Rn="trigger",An="procName",Mn="nodeName",Pn="record",Vn="searchResult",Ln="requestStatus",Bn="statusCode",zn="assignee",On="auditNumber",Kn="token",jn=["nocodecreatorfield","nocodemodifierfield","nocodecreatedatefield","nocodemodifydatefield"],Hn=(0,U.c)((0,U.c)((0,U.c)((0,U.c)((0,U.c)((0,U.c)((0,U.c)((0,U.c)((0,U.c)((0,U.c)({},Rn,"${model.id}"),An,"procName"),Mn,"NodeName"),Pn,"ExecuteResult.id"),Vn,"ExecuteResult.QueryResult"),Ln,"RequestStatus"),Bn,"StatusCode"),zn,"Assignee"),On,"AuditNumber"),Kn,"BASIC_AUTH_TOKEN"),Gn={procName:ie()(S=[]).call(S,cn,yn,gn,on),nodeName:ie()(x=[]).call(x,cn,yn,gn,on),statusCode:ie()(F=[]).call(F,cn,yn,gn),token:ie()(T=[]).call(T,cn,sn),auditNumber:ie()(I=[]).call(I,cn,gn),searchResult:ie()(D=[]).call(D,cn,gn),requestStatus:ie()(_=[]).call(_,cn,gn),assignee:En.user},qn=(0,U.c)((0,U.c)((0,U.c)((0,U.c)((0,U.c)((0,U.c)((0,U.c)({},An,[An,Mn,Bn,On,Vn,Ln]),Mn,[An,Mn,Bn,On,Vn,Ln]),Bn,[An,Mn,Bn]),Kn,[Kn]),On,[An,Mn,On]),Vn,[An,Mn,Vn]),Ln,[An,Mn,Ln]),Un="judgefilter",Wn=function(e){for(var n in Hn)if(null!=e&&Q()(e).call(e,Hn[n]))return n},Yn=function(e){return null==e?void 0:Q()(e).call(e,"nocodebillnofield")},Zn=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null==n||null===(e=he()(n))||void 0===e?void 0:e.call(n,"combo")},Qn=function(e,n){var t,l=n.fieldName,a=n.id,r=n.type,o=n.entityId,c=n.containList,i=n.canMulit,u=n.flowEditorType,s=n.key,d=n.isMulti,f=!1,m=Wn(s||l||a);if(m&&"calcSetting"===u)return!1;var p=Zn(e.type);if(null!=c&&Q()(c).call(c,e.type)||null!=c&&Q()(c).call(c,"combo")&&p){var v,h,y,g,b,C=Wn(e.key);if(m&&C)f=null===(v=qn[m])||void 0===v?void 0:Q()(v).call(v,C);else if(m||C){var E;if(Yn(s)||Yn(e.key))return!1;var k=m||C,N=m?e.type:r;f=null===(E=Gn[k])||void 0===E?void 0:Q()(E).call(E,N)}else{var w=En.nocodebillnofield,S=Yn(s),x=Yn(e.key);if(S||x)return Q()(w).call(w,S?e.type:r);f=!0}if(void 0!==o)if((null==e||null===(h=e.option)||void 0===h?void 0:h.billEntityId)!==o&&e.formId!==o||null===(null==e||null===(y=e.option)||void 0===y?void 0:y.BillEntityId))f=!1;else f=u===Un||!(null!=e&&null!==(g=e.option)&&void 0!==g&&g.isMulti)||d&&(null==e||null===(b=e.option)||void 0===b?void 0:b.isMulti);else if(Zn(r)&&p&&i){var F,T;f=u===Un||!(null!=e&&null!==(F=e.option)&&void 0!==F&&F.isMulti)||d&&(null==e||null===(T=e.option)||void 0===T?void 0:T.isMulti)}}return(null===(t=e.children)||void 0===t?void 0:t.length)>0||f},Xn=function(e){return fe()(e).call(e,(function(e,n){var t=n.compareTypes;return null!=t&&t.length?ie()(e).call(e,n):e}),[])},$n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(e.type,e.compareType,e.fieldName);e.editorType;if(null!=n&&Q()(n).call(n,"gender"))return!0}},64947:function(e,n,t){t.r(n),t.d(n,{dfs:function(){return U},excludeTreeNodeByKeys:function(){return Z},exludeTreeNodeByCallback:function(){return Y},filterListConfigField:function(){return X},formatFieldTree:function(){return W},getListConfigPure:function(){return J},getListSortConfig:function(){return ee},getMultiRefChildrenExclude:function(){return ae},getTextWidth:function(){return ne},getTreeDataFlatten:function(){return Q},transformListConfigToTree:function(){return q},transformTreeNodeTitle:function(){return te},transformTreeToListConfig:function(){return le},treeNodeTransform:function(){return $}});t(21300),t(33768),t(90512);var l=t(73980),a=t.n(l),r=t(13440),o=t.n(r),c=t(59992),i=t.n(c),u=t(60600),s=t.n(u),d=t(13939),f=t.n(d),m=t(34716),p=t.n(m),v=t(70696),h=t.n(v),y=t(4884),g=t.n(y),b=t(3464),C=t.n(b),E=t(51400),k=t.n(E),N=t(25028),w=t.n(N),S=t(34984),x=t(30112),F=t(81043),T=(t(87912),t(97308),t(94728)),I=t.n(T),D=t(760),_=t.n(D),R=t(50524),A=t.n(R),M=t(23992),P=t.n(M),V=t(79012),L=["children"],B=["children"],z=["key","title","titlePrefix","children"],O=["children"];function K(e,n){var t=f()(e);if(p()){var l=p()(e);n&&(l=h()(l).call(l,(function(n){return g()(e,n).enumerable}))),t.push.apply(t,l)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach((function(n){(0,x.c)(e,n,t[n])})):C()?k()(e,C()(t)):K(Object(t)).forEach((function(n){w()(e,n,g()(t,n))}))}return e}function H(e,n){var t=void 0!==i()&&s()(e)||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){var t;if(!e)return;if("string"==typeof e)return G(e,n);var l=a()(t=Object.prototype.toString.call(e)).call(t,8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return o()(e);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return G(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var l=0,r=function(){};return{s:r,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,d=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){d=!0,c=e},f:function(){try{u||null==t.return||t.return()}finally{if(d)throw c}}}}function G(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,l=new Array(n);t<n;t++)l[t]=e[t];return l}var q=function e(n){return n?I()(n).call(n,(function(n,t){var l=t.fieldName,a=t.fieldCaption,r=t.children,o=t.type,c=t.typeCaption,i=t.isMulti,u={key:l,title:a,titlePrefix:c,type:o,isMulti:i,entityId:t.entityId,selectable:"group"!==o};return!i&&r&&(u.children=e(r)),_()(n).call(n,u)}),[]):n},U=function e(n,t){var l,a=H(n);try{for(a.s();!(l=a.n()).done;){var r=l.value;if(t(r))return r;if(r.children){var o=e(r.children,t);if(o)return o}}}catch(e){a.e(e)}finally{a.f()}};function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=arguments.length>3?arguments[3]:void 0,a=(0,F.c)(e);return a.forEach((function(e){var a,r,o=e||{},c=o.type,i=o.option,u=o.children,s=o.key,d=A()(a=["pk","refbill","user","org"]).call(a,c),f=!(null==i||!i.hasOwnProperty("cannotAssign"))||(null==i?void 0:i.isMulti);e.pKey=n;var m,p=function(e){l&&"string"==typeof e.title&&(e.mark=e.title,e.title=null==l?void 0:l(e.title,e))};(p(e),d&&f&&null!=i&&null!==(r=i.children)&&void 0!==r&&r.length)?(e.children=P()(m=i.children).call(m,(function(e){return p(e),j(j({},e),{},{key:e.value,pKey:s})})),"pk"===c&&t&&W(e.children,s,!1,l)):null!=u&&u.length&&W(u,s,t,l)})),a}var Y=function e(n,t){return n?I()(n).call(n,(function(n,l){var a=l.children,r=j({},l);return a&&(r.children=e(a,t)),t?null!=t&&t(r)?_()(n).call(n,r):n:_()(n).call(n,r)}),[]):n},Z=function(e,n){return Y(e,(function(e){var t=e.key,l=e.children;return!!("group"!==e.type||null!=l&&l.length)&&!A()(n).call(n,t)}))},Q=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n&&n.forEach((function(n){var l;if(null!==(l=n.children)&&void 0!==l&&l.length){e(n.children,t);var a=j({},n);delete a.children,t[n.key]=a}else t[n.key]=n})),t},X=function(e){return!e.isDesensitizeField},$=function e(n,t){return n?I()(n).call(n,(function(n,l){var a=l.children,r=j({},l);if(a&&(r.children=e(a,t)),t){var o=t(r);return o?_()(n).call(n,o):n}return _()(n).call(n,r)}),[]):n},J=function(e){return $(e,(function(e){var n=e.children,t=(0,S.c)(e,L),l=t.isDesensitizeField,a=t.isMulti,r=t.type,o=t.key;if(l||"NoCodeAttachmentUploadField"===r)return!1;if("NoCodeImageUploadField"===r&&o.split(".").length>1)return!1;if(A()(o).call(o,"fbasedataid")&&o.split(".fbasedataid")[0].split(".").length>1)return!1;return!a&&n?e:t}))},ee=function(e){return $(e,(function(e){var n,t=e.children,l=(0,S.c)(e,B),a=l.isMulti,r=l.type;return!a&&t?e:!A()(n=["NoCodeAttachmentUploadField","NoCodeImageUploadField"]).call(n,r)&&l}))},ne=function(e,n){var t=document.createElement("span");t.innerText=e,t.style.fontSize=n+"px",t.style.position="absolute",document.body.appendChild(t);var l=t.offsetWidth;return document.body.removeChild(t),l},te=function e(n,t){return n?I()(n).call(n,(function(n,l){var a,r,o=l.title,c=l.titlePrefix,i=l.children,u=c?_()(a="".concat(c)).call(a,o):o,s=t?_()(r="".concat(t," > ")).call(r,u):u,d=j(j({},l),{},{label:u,fullLabel:s});return c&&(d.title=(0,V.w7)(o,c)),i&&(d.children=e(i,s)),_()(n).call(n,d)}),[]):n},le=function e(n){return n?I()(n).call(n,(function(n,t){var l=t.key,a=t.title,r=t.titlePrefix,o=t.children,c=j({fieldName:l,fieldCaption:a},(0,S.c)(t,z));return r&&(c.typeCaption=r),o&&(c.children=e(o)),_()(n).call(n,c)}),[]):n},ae=function(e){return $(e,(function(e){var n=e.children,t=(0,S.c)(e,O);return!t.isMulti&&n?e:t}))}}}]);