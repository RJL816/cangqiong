"use strict";(self.webpackChunknocode_platform=self.webpackChunknocode_platform||[]).push([[980],{56480:function(e,t,a){a.r(t),t.default={statCard:"vILqtTYe_statCard",title:"Cuf+6f4w_title",msg_wrapper:"pB0ocX9z_msg_wrapper",tips:"jTi7HHTg_tips"}},82984:function(e,t,a){a.r(t),t.default={search:"g7fGG90V_search",search_icon:"bcvsVNh+_search_icon"}},12512:function(e,t,a){a.r(t),t.default={addpopout:"L5zgnoVe_addpopout",search_box:"I6-h3DzN_search_box",fix_height:"rD5O6WvF_fix_height"}},58764:function(e,t,a){a.r(t),t.default={card_paginition:"XwKTsN2Y_card_paginition",page_displayer:"Sb0ejmwp_page_displayer",cur_page:"KG5MrEjJ_cur_page",button:"EcYbzjPK_button"}},47048:function(e,t,a){a.r(t),t.default={displaycard_wrapper:"-GqcdbnW_displaycard_wrapper",sliderMode:"TCck5u5P_sliderMode",cardContent:"bpp2Irrc_cardContent",itemsBox:"XMujDePo_itemsBox",columnItemsBox:"d5BbRVNb_columnItemsBox",wrapper:"z2MyD8t4_wrapper",link:"HH8lVhvN_link",item:"FQz3GWuT_item",desc:"j+msTIdt_desc",rowItemsBox:"McmjoTHF_rowItemsBox",imgBox:"Njp4wm+v_imgBox","form-icon-row":"M4CUjKBJ_form-icon-row","app-icon-row":"_3yDF4Go2_app-icon-row","form-icon-column":"vFqlsfxb_form-icon-column","app-icon-column":"wlpH26RQ_app-icon-column",carousel_slider:"w4GEJ7rI_carousel_slider",avtive_part:"VrL05KO3_avtive_part",loading_card:"Kcv6XW2p_loading_card"}},87600:function(e,t,a){a.r(t),t.default={whole_wrapper:"UTOleH7C_whole_wrapper",myprocess_card_wrapper:"_0SgZ7-fz_myprocess_card_wrapper",myprocess_card:"KkVr32kq_myprocess_card",init_loading_height:"P5Jpmv-p_init_loading_height",whole_height:"--AZ5XyW_whole_height",pageination:"VbqVOWGt_pageination"}},54344:function(e,t,a){a.r(t),t.default={table_card_wrapper:"U4xQAf5n_table_card_wrapper",table_pagination:"HiE5NdKO_table_pagination",default_height:"buICTujG_default_height",loading:"_1lNfQy2s_loading"}},77932:function(e,t,a){a.r(t),t.default={bg_container:"A9BQYO5W_bg_container",bg_img:"f1saQmJJ_bg_img",main:"Wac-mIWz_main"}},84088:function(e,t,a){a.r(t),t.default={home:"Qut-U843_home",welcome_poster:"BGyx2ezJ_welcome_poster",welcome_words:"WsAToSt0_welcome_words",welcome_proverb:"KqfkXuPE_welcome_proverb",card_container:"_6G6eSdrV_card_container",noCardBox:"_1p1yWL7w_noCardBox",noCardTips:"K8BTtzEl_noCardTips",task_card:"egZWPhFQ_task_card"}},79212:function(e,t,a){var l=a(13568),n=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var d=o(a(760)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},o=r&&u;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var i=o?u(e,d):null;i&&(i.get||i.set)?r(n,d,i):n[d]=e[d]}return n.default=e,a&&a.set(e,n),n}(a(65984)),f=o(a(56480)),c=a(57264);function s(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(s=function(e){return e?a:t})(e)}var p=function(e){var t,a,l=e.qingCardId,n=e.title,r=e.errMsg,u=e.style,o=(0,i.useRef)(null),s=(0,d.default)(t=(0,d.default)(a="".concat(window.__domainurl__,"qing/qingNoCodeCardEntrance.do?cardId=")).call(a,l,"&cardScene=noPerm&cardName=")).call(t,encodeURIComponent(n));return r?i.default.createElement("div",{className:f.default.statCard,style:u},i.default.createElement("div",{className:f.default.title},n),i.default.createElement("div",{className:f.default.msg_wrapper},i.default.createElement("div",{className:f.default.tips},r))):i.default.createElement("div",{className:f.default.statCard,style:u},i.default.createElement("iframe",{ref:o,id:"stat_iframe_card_".concat(l),src:(0,c.getUrlWithDataCenter)(s),frameBorder:"0",width:"100%",height:"100%",onLoad:function(){var e,t=document.documentElement.getAttribute("style");t&&(null===(e=o.current)||void 0===e||e.contentWindow.document.documentElement.setAttribute("style",t))}}))};t.default=function(e){var t=e.title,a=e.config,l=e.style,n=a.qingCardId,r=void 0===n?"":n,u=a.errMsg;return i.default.createElement(p,{title:t,qingCardId:r,errMsg:u,style:l})}},42284:function(e,t,a){var l=a(13568),n=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var d=o(a(26048)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},o=r&&u;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var i=o?u(e,d):null;i&&(i.get||i.set)?r(n,d,i):n[d]=e[d]}return n.default=e,a&&a.set(e,n),n}(a(65984)),f=a(18656),c=o(a(71252)),s=o(a(82984));function p(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(p=function(e){return e?a:t})(e)}var m=(0,i.memo)((function(e){var t=e.onSearch,a=e.className,l=e.value,n=(0,c.default)(s.default.search,a),r=(0,i.useCallback)((function(e){null==t||t(e.target.value)}),[t]);return i.default.createElement(f.Input,(0,d.default)({prefix:i.default.createElement(f.Icon,{className:s.default.search_icon,prefix:"nocodeplatformicon",type:"sousuo"})},e,{className:n,onChange:r,value:l}))}));m.displayName="Search";t.default=m},14012:function(e,t,a){var l=a(13568),n=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.SelectPopup=void 0;var d=o(a(70696)),i=o(a(50524)),f=o(a(96631)),c=o(a(78912)),s=o(a(71252)),p=a(60644),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},o=r&&u;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var i=o?u(e,d):null;i&&(i.get||i.set)?r(n,d,i):n[d]=e[d]}return n.default=e,a&&a.set(e,n),n}(a(65984)),_=o(a(12512)),v=a(18656),g=o(a(42284)),y=a(65873);function h(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(h=function(e){return e?a:t})(e)}t.SelectPopup=function(e){var t=e.title,a=e.fixHeight,l=void 0!==a&&a,n=e.data,r=e.value,u=e.handleSelect,o=e.visible,h=e.setVisible,E=e.renderSearch,w=void 0!==E&&E,C=(0,m.useState)(""),b=(0,c.default)(C,2),T=b[0],N=b[1],I=(0,m.useState)(n),S=(0,c.default)(I,2),M=S[0],P=S[1];(0,m.useEffect)((function(){P(n)}),[n]);var O=(0,m.useCallback)((function(e){N(e);var t=(0,d.default)(n).call(n,(function(t){var a;return(0,i.default)(a=t.label).call(a,e)}));P(t)}),[n]),k=(0,p.throttle)(O,200);return m.default.createElement(v.Popup,{className:(0,s.default)([_.default.addpopout,(0,f.default)({},_.default.fix_height,l)]),placement:"bottom",visible:o,onClose:function(){return h(!1)},radius:!0,title:t},(0,p.isBoolean)(w)?w&&m.default.createElement("div",{className:_.default.search_box},m.default.createElement(g.default,{value:T,onSearch:k,placeholder:"搜索视图名"})):w,y.Select&&m.default.createElement(y.Select.Content,{value:r,data:M,onSelect:u}))}},5116:function(e,t,a){var l=a(25028),n=a(9564);l(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(65984)),u=a(57264),o=a(65873);t.default=function(e){var t=e.src,a=e.className,l=e.style,n=e.onClick,d=(0,u.getQueryString)("color",t)||"";return r.default.createElement("div",{className:a,style:l,onClick:n},r.default.createElement(o.Image,{src:(0,u.getFullUrl)(t),style:{backgroundColor:d}}))}},25132:function(e,t,a){var l=a(13568),n=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},o=r&&u;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var i=o?u(e,d):null;i&&(i.get||i.set)?r(n,d,i):n[d]=e[d]}return n.default=e,a&&a.set(e,n),n}(a(65984)),i=o(a(71252)),f=a(65873),c=o(a(58764));function s(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(s=function(e){return e?a:t})(e)}var p=(0,d.memo)((function(e){var t=e.pageNo,a=e.totalPage,l=e.onPageChange,n=e.className;return d.default.createElement("div",{className:(0,i.default)(c.default.card_paginition,n)},d.default.createElement(f.BtnField,{className:(0,i.default)(c.default.button),text:"上一页",disabled:1===t,onClick:function(){1!==t&&(null==l||l(t-1))},size:"small"}),d.default.createElement("div",{className:c.default.page_displayer},d.default.createElement("span",{className:c.default.cur_page},t),"/",a),d.default.createElement(f.BtnField,{className:(0,i.default)(c.default.button),text:"下一页",disabled:t===a,onClick:function(){t!==a&&(null==l||l(t+1))},size:"small"}))}));p.displayName="CardPagintion";t.default=p},89524:function(e,t,a){var l=a(13568),n=a(13939),r=a(34716),u=a(70696),o=a(4884),d=a(3464),i=a(51400),f=a(25028),c=a(93252),s=a(9564);f(t,"__esModule",{value:!0}),t.default=void 0;var p=s(a(23992)),m=s(a(760)),_=s(a(50524)),v=s(a(26048)),g=s(a(96631)),y=s(a(78912)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=f&&o;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var d=r?o(e,u):null;d&&(d.get||d.set)?f(n,u,d):n[u]=e[u]}return n.default=e,a&&a.set(e,n),n}(a(65984)),E=s(a(71252)),w=s(a(47048)),C=a(49860),b=a(57264),T=a(41532),N=a(16716),I=a(8228),S=s(a(1736)),M=a(18656),P=s(a(2500)),O=a(14792),k=a(65873),D=s(a(5116)),U=s(a(732)),A=a(83180);function x(e){if("function"!=typeof c)return null;var t=new c,a=new c;return(x=function(e){return e?a:t})(e)}function R(e,t){var a=n(e);if(r){var l=r(e);t&&(l=u(l).call(l,(function(t){return o(e,t).enumerable}))),a.push.apply(a,l)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,g.default)(e,t,a[t])})):d?i(e,d(a)):R(Object(a)).forEach((function(t){f(e,t,o(a,t))}))}return e}var j=(0,h.memo)((function(e){var t,a,l=e.id,n=e.type,r=e.title,u=e.config,o=e.emptyTips,d=u.iconStyle,i=(0,h.useState)([]),f=(0,y.default)(i,2),c=f[0],s=f[1],b=(0,h.useState)(!1),k=(0,y.default)(b,2),D=k[0],U=k[1],A=(0,h.useState)(!0),x=(0,y.default)(A,2),R=x[0],j=x[1],B=(0,h.useState)(0),L=(0,y.default)(B,2),V=L[0],Y=L[1],H="small"===d,z=(0,E.default)((0,g.default)((0,g.default)((0,g.default)({},w.default.columnItemsBox,!H),w.default.rowItemsBox,H),w.default.itemsBox,!0)),Q=(0,h.useCallback)((function(){!D&&U(!0),j(!0),(0,T.getCardData)(l).then((function(e){var t;j(!1),s(null==e||null===(t=e.rows)||void 0===t?void 0:t[0])}))}),[l,D]),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=O.ActionNames[n];return e.length?h.default.createElement("div",{className:z},null==e?void 0:(0,p.default)(e).call(e,(function(e){var a="";if(n===C.CardType.APP_ENTRY||n===C.CardType.FREQUENTLY_USED_APP)a="/m/".concat(e.id,"/home");else if(n===C.CardType.FORM_ENTRY||n===C.CardType.FORM_LIST){var l;a=(0,m.default)(l="/m/".concat(e.appId,"/home/")).call(l,e.id)}else if(n===C.CardType.OPERATION_ENTRY){var r;if("0"===e.optype)a=(0,m.default)(r="/m/".concat(e.appId,"/detail/")).call(r,e.formId)}var u=F(F({},e),{},{linkUrl:a,iconStyle:d});return h.default.createElement(W,(0,v.default)({isRow:H,isForm:(0,_.default)(O.FormTypes).call(O.FormTypes,n),key:e.id,itemUiActionstr:(0,O.createUiActionDataStr)(t,!0)},u))}))):null},G=(0,N.getCardRenderItems)(c,n,u),q=(a=[],null==(t=G)||t.forEach((function(e,t){var l=Math.floor(t/12);null!=a&&a[l]||(a[l]=[]),a[l].push(e)})),a),J=D&&n===C.CardType.FREQUENTLY_USED_APP&&!G.length?"目前没有应用，请创建新应用":"",X=q.length<4,Z=Math.floor(56/q.length),$=(0,h.useCallback)((function(e){Y(e)}),[]);return h.default.createElement(P.default,{title:r,wrapperClassName:(0,E.default)(w.default.displaycard_wrapper,(0,g.default)({},w.default.loading_card,R)),init:D,loadData:Q,isVisibleInit:!0},h.default.createElement(h.default.Fragment,null,R&&h.default.createElement(I.CardLoading,null),h.default.createElement("div",{className:(0,E.default)(w.default.cardContent,(0,g.default)({},w.default.sliderMode,!X))},q.length>1?h.default.createElement(M.Swiper,{onIndexChange:$},null==q?void 0:(0,p.default)(q).call(q,(function(e){return h.default.createElement(M.Swiper.Item,null,K(e))}))):K(q[0]),!X&&h.default.createElement("div",{className:w.default.carousel_slider},h.default.createElement("div",{className:w.default.avtive_part,style:{width:Z,left:V*Z}})),D&&!R&&0===G.length&&h.default.createElement(S.default,{tips:J||o,isMob:!0}))))}));j.displayName="DisplayCard";var W=function(e){var t=e.id,a=e.image,l=e.desc,n=e.linkUrl,r=e.isRow,u=e.isForm,o=e.itemUiActionstr,d=(0,U.default)(),i=(0,E.default)((0,g.default)((0,g.default)((0,g.default)((0,g.default)({},w.default["form-icon-row"],u&&r),w.default["form-icon-column"],u&&!r),w.default["app-icon-row"],!u&&r),w.default["app-icon-column"],!u&&!r));return h.default.createElement("div",{className:w.default.wrapper,"data-nc-action":o,key:t},h.default.createElement("div",{className:w.default.link,onClick:function(){if(n)d(n);else if(e.optype){var t=e.link;if(!(0,b.isValidURL)(t))return void(0,A.showToast)("链接存在错误，“".concat(l,"”操作执行失败。"));(0,b.openner)(t,!1,"mobile")}}},h.default.createElement("div",{className:w.default.item},h.default.createElement("div",{className:w.default.imgBox},u?h.default.createElement(k.Image,{className:i,src:(0,b.getUrlWithDataCenter)((0,b.getFullUrl)(a))}):h.default.createElement(D.default,{className:i,src:(0,b.getUrlWithDataCenter)(a)})),h.default.createElement("div",{className:w.default.desc},l))))};t.default=j},36476:function(e,t,a){var l=a(13568),n=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.MyProcessCard=void 0;var d=o(a(35256)),i=o(a(760)),f=o(a(23992)),c=o(a(96631)),s=o(a(78912)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},o=r&&u;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var i=o?u(e,d):null;i&&(i.get||i.set)?r(n,d,i):n[d]=e[d]}return n.default=e,a&&a.set(e,n),n}(a(65984)),m=a(16428),_=o(a(71252)),v=o(a(87600)),g=o(a(2500)),y=a(1765),h=a(41532),E=a(60644),w=o(a(25132)),C=a(14792),b=a(8228),T=o(a(1736)),N=o(a(732)),I=["id","startUserImgUrl","entityName","handleState","handleStateDesc","createDate","startName","procDefName"];function S(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(S=function(e){return e?a:t})(e)}t.MyProcessCard=function(e){var t,a=e.title,l=e.operations,n=(0,p.useState)([]),r=(0,s.default)(n,2),u=r[0],o=r[1],S=(0,p.useState)(1),M=(0,s.default)(S,2),P=M[0],O=M[1],k=(0,p.useState)(0),D=(0,s.default)(k,2),U=D[0],A=D[1],x=(0,p.useState)(!1),R=(0,s.default)(x,2),F=R[0],j=R[1],W=(0,p.useState)(!0),B=(0,s.default)(W,2),L=B[0],V=B[1],Y=(0,N.default)(),H=(0,p.useCallback)((function(){(0,h.getMyProcessCard)(P,5).then((function(e){var t=e||{},a=t.rows,l=void 0===a?[]:a,n=t.totalCount,r=(0,E.cloneDeep)(u);r[P-1]=l,(0,m.unstable_batchedUpdates)((function(){j(!0),o(r),A((0,C.getTotalPage)(n,5)),V(!1)}))}))}),[F,P,u]);(0,p.useEffect)((function(){!u[P-1]&&F&&H()}),[P]);var z=(0,p.useCallback)((function(e){var t,a,l,n=e.appId,r=e.businessKey,u=e.targetFormId,o=e.procInstId;Y((0,i.default)(t=(0,i.default)(a=(0,i.default)(l="/m/".concat(n,"/detail/")).call(l,u,"/")).call(a,r,"/view/flow/")).call(t,o))}),[Y]),Q=(0,p.useCallback)((function(e){O(e),u[e-1]||V(!0)}),[u]),K=(0,p.useMemo)((function(){var e;return null===(e=u[P-1])||void 0===e?void 0:e.length}),[u,P]);return p.default.createElement(g.default,{title:a,operations:l,className:v.default.myprocess_card_wrapper,wrapperClassName:(0,_.default)(v.default.whole_wrapper,(0,c.default)((0,c.default)({},v.default.init_loading_height,!F),v.default.whole_height,F&&(5===K||L))),init:F,loadData:H,isVisibleInit:!0},p.default.createElement("div",{className:v.default.myprocess_card},F&&p.default.createElement("div",{className:(0,_.default)(v.default.items_container)},null===(t=u[P-1])||void 0===t?void 0:(0,f.default)(t).call(t,(function(e){var t=e.id,a=(e.startUserImgUrl,e.entityName),l=e.handleState,n=e.handleStateDesc,r=e.createDate,u=(e.startName,e.procDefName);(0,d.default)(e,I);return p.default.createElement(y.ProcessItem,{key:"MyProcessCard"+t,isMob:!0,handleClick:function(){return z(e)},isLargeAvatar:!1,itemUiActionstr:"m_h_ma_area",title:u,desc:a,statusCode:l,statusDesc:n,time:r})}))),L&&p.default.createElement(b.CardLoading,null),F&&0===K&&p.default.createElement(T.default,{isMob:!0}),F&&K>=1&&p.default.createElement(w.default,{className:v.default.pageination,pageNo:P,totalPage:U,onPageChange:Q})))}},16032:function(e,t,a){var l=a(13568),n=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var d=o(a(29052)),i=o(a(96631)),f=o(a(94924)),c=o(a(78912)),s=o(a(70696)),p=o(a(23992)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},o=r&&u;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var i=o?u(e,d):null;i&&(i.get||i.set)?r(n,d,i):n[d]=e[d]}return n.default=e,a&&a.set(e,n),n}(a(65984)),_=o(a(71252)),v=o(a(54344)),g=o(a(2500)),y=a(4333),h=a(82416),E=o(a(25132)),w=a(98464),C=a(60644),b=a(14792),T=a(65873),N=a(8228),I=o(a(1736)),S=a(71120);function M(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(M=function(e){return e?a:t})(e)}t.default=function(e){var t=e.title,a=(e.className,e.config),l=e.colOptions,n=e.operations,r=a.appId,u=a.formId,o=(0,s.default)(a),M=a.listItems,P=a.errMsg,O=(0,m.useState)([]),k=(0,c.default)(O,2),D=k[0],U=k[1],A=(0,m.useState)(1),x=(0,c.default)(A,2),R=x[0],F=x[1],j=(0,m.useState)(0),W=(0,c.default)(j,2),B=W[0],L=W[1],V=(0,m.useState)(!1),Y=(0,c.default)(V,2),H=Y[0],z=Y[1],Q=(0,m.useMemo)((function(){var e,t=(0,y.columnsDataTranform)(M,l,r,u);return(0,p.default)(e=(0,s.default)(t).call(t,(function(e){return!1!==e.display}))).call(e,(function(e){return"operate"!==e.code&&(e.lock=!1),e}))}),[M,D]),K=(0,m.useCallback)((0,f.default)(d.default.mark((function e(){var t,a,l;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!1),t={filter:o,page_no:R,page_size:10,env:S.ENV_APP},e.next=5,(0,w.getFormDataList)(r,u,t);case 5:a=e.sent,(l=(0,C.cloneDeep)(D))[R-1]=a.rows,U(l),L((0,b.getTotalPage)(a.totalCount,10)),z(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),T.WebMsg.showToast({type:2,content:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),[r,u,o,R]),G=(0,m.useCallback)((function(e){F(e)}),[]);(0,m.useEffect)((function(){null!=D&&D[R]||P||K()}),[r,u,o,R,P]);var q=(0,m.useMemo)((function(){return!(D[R-1]&&H)}),[R,H,D]);return m.default.createElement(g.default,{title:t,wrapperClassName:v.default.table_card_wrapper,operations:n},m.default.createElement("div",{className:(0,_.default)((0,i.default)((0,i.default)({},v.default.default_height,q&&1===R||P),v.default.loading,q&&1!==R))},P?m.default.createElement(I.default,{tips:P}):q?m.default.createElement(N.CardLoading,null):m.default.createElement(m.default.Fragment,null,m.default.createElement(h.DataGrid,{columns:Q,dataSource:(null==D?void 0:D[R-1])||[],primaryKey:"id",style:{height:"100%"}}),m.default.createElement("div",{className:v.default.table_pagination},m.default.createElement(E.default,{totalPage:B,pageSize:10,pageNo:R,onPageChange:G})))))}},83672:function(e,t,a){var l=a(25028),n=a(9564);l(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(65984)),u=n(a(87452)),o=n(a(71252)),d=n(a(77932));t.default=function(e){var t=e.children,a=e.mainClassName;return r.default.createElement("div",{className:d.default.bg_container},r.default.createElement("img",{src:u.default,className:d.default.bg_img,width:"100%"}),r.default.createElement("div",{className:(0,o.default)(d.default.main,a)},t))}},90940:function(e,t,a){var l=a(13568),n=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var d=o(a(26048)),i=o(a(38456)),f=o(a(760)),c=o(a(23992)),s=o(a(50524)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},o=r&&u;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var i=o?u(e,d):null;i&&(i.get||i.set)?r(n,d,i):n[d]=e[d]}return n.default=e,a&&a.set(e,n),n}(a(65984)),m=a(49860),_=o(a(79344)),v=o(a(79212)),g=o(a(89524)),y=o(a(26124)),h=a(14792),E=a(1765),w=a(36476),C=a(65873),b=a(82416),T=o(a(16032)),N=a(4333),I=o(a(732)),S=a(38504),M=o(a(84088));function P(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(P=function(e){return e?a:t})(e)}var O=[m.CardType.FREQUENTLY_USED_APP,m.CardType.APP_ENTRY,m.CardType.FORM_ENTRY,m.CardType.OPERATION_ENTRY],k=function(e){C.WebMsg.showToast({type:2,content:e})},D=(0,p.memo)((function(e){var t=e.init,a=e.state,l=(0,I.default)(),n=(0,p.useMemo)((function(){return(0,h.sortCardInfo)(a.cardInfo,a.layout)}),[a.cardInfo,a.layout]),r=(0,p.useCallback)((function(e){var t;return(null===(t=(0,i.default)(_.default).call(_.default,(function(t){return t.key===e})))||void 0===t?void 0:t.title)||""}),[]),u=(0,p.useCallback)((function(e,t){return t?"该".concat(r(e),"卡片已失效"):e===m.CardType.FREQUENTLY_USED_APP?"暂未使用收藏或使用过的应用~":"没有记录"}),[]),o=function(e,t){var a=t.config,n=a.appId,r=a.formId,u=a.errMsg;if(e===m.CardType.FORM_LIST){return u?[]:[{type:S.OperationType.arrow,onClick:function(){var e;(0,h.sendUserEvent)("m_h_forms_open"),l((0,f.default)(e="/m/".concat(n,"/home/")).call(e,r))},label:"跳转"}]}},C=(0,p.useMemo)((function(){return p.default.createElement("div",{className:M.default.card_container},null==n?void 0:(0,c.default)(n).call(n,(function(e){var t=e.id,a=e.title,n=e.type,r=e.config,i=e.deleted;if((0,s.default)(O).call(O,e.type)){var c={id:t,type:n,title:a,config:r,emptyTips:u(n,i)};return p.default.createElement(g.default,(0,d.default)({key:t},c))}switch(n){case m.CardType.STATISTICS:return p.default.createElement(v.default,{key:t,title:a,config:r});case m.CardType.WF_STATISTICS:return p.default.createElement(E.TaskCard,{id:t,title:a,isMob:!0,wrapperClassName:M.default.task_card});case m.CardType.WF_MY_HANDLE:return p.default.createElement(E.CarouselProcessCard,{title:a,isMob:!0,errCallback:k});case m.CardType.WF_MY_LAUNCH:return p.default.createElement(w.MyProcessCard,{title:a,isMob:!0});case m.CardType.FORM_LIST:var _=r.appId,y=r.formId,C=[{name:"详情",major:!0,onClick:function(e){var t,a;(0,h.sendUserEvent)("m_h_forms_detail"),l((0,f.default)(t=(0,f.default)(a="/m/".concat(_,"/detail/")).call(a,y,"/")).call(t,e.id,"/view"))}}];return p.default.createElement(b.TableContext.Provider,{value:{colOperations:C}},p.default.createElement(T.default,{title:a,config:r,operations:o(n,e),colOptions:N.ColOptions}))}})))}),[null==a?void 0:a.cardInfo]);null==a||a.cardInfo.length;return t&&(n.length?C:p.default.createElement("div",{className:M.default.noCardBox},p.default.createElement("img",{src:y.default}),p.default.createElement("div",{className:M.default.noCardTips},"暂无卡片，请在PC端配置")))}));D.displayName="MobileHomeContainer";t.default=D},26068:function(e,t,a){var l=a(13568),n=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var d=o(a(23992)),i=o(a(78912)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},o=r&&u;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var i=o?u(e,d):null;i&&(i.get||i.set)?r(n,d,i):n[d]=e[d]}return n.default=e,a&&a.set(e,n),n}(a(65984)),c=a(95936),s=a(18656),p=a(14792),m=a(14012),_=a(83180),v=o(a(84088));function g(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(g=function(e){return e?a:t})(e)}var y=(0,f.memo)((function(e){var t=e.state,a=e.dispatch,l=(0,f.useState)(!1),n=(0,i.default)(l,2),r=n[0],u=n[1],o=(0,f.useContext)(c.Context).state.userInfo,g=(null==o?void 0:o.name)||"",y=(0,f.useMemo)((function(){var e;return null==t||null===(e=t.viewInfo)||void 0===e?void 0:(0,d.default)(e).call(e,(function(e){return{value:e.id,label:e.name}}))}),[null==t?void 0:t.viewInfo]);return f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:v.default.welcome_poster},f.default.createElement("div",{className:v.default.welcome_words},(g?"".concat(g,"，"):"")+"欢迎回到工作台!",f.default.createElement(s.Icon,{onClick:function(){u(!0)},prefix:"nocodeplatformicon",type:"shitu",style:{fontWeight:"normal",fontSize:"20"}})),f.default.createElement("div",{className:v.default.welcome_proverb},"不要辜负自己，你比想象中美好，努力奋斗，成就美丽人生！")),f.default.createElement(m.SelectPopup,{visible:r,setVisible:u,title:"请选择视图",fixHeight:!0,value:null==t?void 0:t.viewId,data:y,handleSelect:function(e){(0,p.sendUserEvent)("m_h_cview_open");var t=e.value;t&&(a({type:_.UPDATE_VIEWID,payload:{viewId:t}}),u(!1))},renderSearch:!0}))}));y.displayName="MobileHomeHeader";t.default=y},83180:function(e,t,a){var l=a(13568),n=a(13939),r=a(34716),u=a(70696),o=a(4884),d=a(3464),i=a(51400),f=a(25028),c=a(93252),s=a(9564);f(t,"__esModule",{value:!0}),t.showToast=t.reducer=t.initState=t.default=t.UPDATE_VIEWINFO=t.UPDATE_VIEWID=t.UPDATE_VALUE=t.ShowTypes=void 0;var p=s(a(78912)),m=s(a(96631)),_=s(a(59992)),v=s(a(70696)),g=s(a(50524)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=f&&o;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var d=r?o(e,u):null;d&&(d.get||d.set)?f(n,u,d):n[u]=e[u]}return n.default=e,a&&a.set(e,n),n}(a(65984)),h=s(a(84088)),E=a(41532),w=a(49860),C=a(14792),b=s(a(59480)),T=a(57264),N=a(6940),I=a(25960),S=a(95936),M=a(65873),P=s(a(732)),O=s(a(26068)),k=s(a(90940)),D=a(88268),U=a(63516);function A(e){if("function"!=typeof c)return null;var t=new c,a=new c;return(A=function(e){return e?a:t})(e)}function x(e,t){var a=n(e);if(r){var l=r(e);t&&(l=u(l).call(l,(function(t){return o(e,t).enumerable}))),a.push.apply(a,l)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){(0,m.default)(e,t,a[t])})):d?i(e,d(a)):x(Object(a)).forEach((function(t){f(e,t,o(a,t))}))}return e}var F=t.UPDATE_VALUE=(0,_.default)("更新数据"),j=t.UPDATE_VIEWINFO=(0,_.default)("更新视图信息"),W=t.UPDATE_VIEWID=(0,_.default)("切换视图"),B=t.initState={viewId:"",viewInfo:[],cardInfo:[],layout:[]},L=t.reducer=function(e,t){var a=t.payload,l=a.cardInfo,n=a.layout,r=a.viewId,u=a.viewInfo;switch(t.type){case F:return R(R({},e),{},{cardInfo:l,layout:n});case j:return e=(0,b.default)(e,(function(e){var t,a=(0,v.default)(u).call(u,(function(e){return e.active}));e.viewId=null==a||null===(t=a[0])||void 0===t?void 0:t.id,e.viewInfo=u}));case W:return e=(0,b.default)(e,(function(e){e.viewId=r}))}},V=t.ShowTypes=[w.CardType.FREQUENTLY_USED_APP,w.CardType.APP_ENTRY,w.CardType.FORM_ENTRY,w.CardType.OPERATION_ENTRY,w.CardType.WF_STATISTICS,w.CardType.WF_MY_HANDLE,w.CardType.WF_MY_LAUNCH,w.CardType.STATISTICS,w.CardType.FORM_LIST],Y=(w.CardType.FREQUENTLY_USED_APP,w.CardType.APP_ENTRY,w.CardType.FORM_ENTRY,w.CardType.OPERATION_ENTRY,t.showToast=function(e){M.WebMsg.showToast({type:2,content:e})}),H=(0,y.memo)((function(){var e=(0,y.useReducer)(L,B),t=(0,p.default)(e,2),a=t[0],l=t[1],n=(0,y.useState)(!1),r=(0,p.default)(n,2),u=r[0],o=r[1],d=(0,y.useContext)(S.Context).state.userInfo,i=null==d?void 0:d.id,f=((0,P.default)(),(0,y.useCallback)((function(e,t){var a,n=null==t||null===(a=t.rows)||void 0===a?void 0:a[0],r=(null==n?void 0:n.cardInfo)||[];if(r){var u=(0,v.default)(r).call(r,(function(e){return(0,g.default)(V).call(V,e.type)}));l({type:e,payload:{cardInfo:u,layout:null==n?void 0:n.layout}})}}),[])),c=(0,y.useCallback)((function(){(0,E.getViewInfo)().then((function(e){var t=(0,C.handleViewData)(e);l({type:j,payload:t})})).catch((function(e){var t;(0,T.showNotice)("error",(null==e?void 0:e.message)||(null===(t=e.data)||void 0===t||null===(t=t.result[0])||void 0===t||null===(t=t.errors[0])||void 0===t?void 0:t.rowMsg[0]))}))}),[]),s=(0,y.useCallback)((function(){var e=a.viewId;o(!1);var t={schemaId:e};(0,U.getWithPriority)((0,N.getStoreData)(I.HOME_CARD,t),(0,E.getCardBySchmeId)(t).then((function(e){return(0,N.setStoreData)(I.HOME_CARD,t,e),e})).catch((function(e){Y(e.message)})),(function(e){e&&(o(!0),f(F,e))}))}),[u,a.viewId]);return(0,y.useEffect)((function(){var e=null==a?void 0:a.viewId;e&&(s(),(0,C.setViewIdCache)(e,i))}),[a.viewId]),(0,y.useEffect)((function(){var e=(0,C.getViewIdCache)(i);e&&l({type:W,payload:{viewId:e}}),c()}),[]),(0,T.setDocumentTitle)(D.WORKBENCH,!1),y.default.createElement("div",{className:h.default.home},y.default.createElement(O.default,{state:a,dispatch:l}),y.default.createElement(k.default,{init:u,state:a}))}));H.displayName="MobileHomePage";t.default=H},87452:function(e,t,a){e.exports=a.p+"ncp/nocode/images/141804a566a929dccb3e.png"},4496:function(e,t,a){e.exports=a.p+"ncp/nocode/images/7a56107d44f849c9be61.png"}}]);