(self.webpackChunknocode_platform=self.webpackChunknocode_platform||[]).push([[276],{92996:function(e,t,a){"use strict";a.r(t),t.default={progress:"vMeXnDZF_progress",progress_img:"_8XkTAbQ0_progress_img",progress_text:"_524OUs3d_progress_text"}},10708:function(e,t,a){"use strict";a.r(t),t.default={importmodal:"d2hCC6cD_importmodal",importmodal_body:"tNwjkEqo_importmodal_body",importmodal_body_step1:"AbSgU-cH_importmodal_body_step1",importmodal_body_step2:"NCw4RZNm_importmodal_body_step2",importmodal_body_step3:"OT7cHJ6p_importmodal_body_step3",uploadtext:"ExxT7el0_uploadtext",import:"g9ICstAr_import",import_msg:"feK33YRs_import_msg",import_img:"dWcnnLJz_import_img",importmodal_step:"_2K5uruAr_importmodal_step",importmodal_footer:"hB8ppI3T_importmodal_footer",importmodal_footer_btnlist:"tcdALCTZ_importmodal_footer_btnlist",importmodal_footer_btn:"_2j51loFD_importmodal_footer_btn",upload:"b7dHp7yj_upload",upload_add:"_2NCvhuXr_upload_add",upload_text:"Rf2hHmGb_upload_text",upload_tips:"D0PHPf9y_upload_tips",upload_tips_text:"HHiSB7vH_upload_tips_text",upload_tips_template:"a3e+IEIS_upload_tips_template",upload_progress:"uBsBqoIb_upload_progress",upload_progress_text:"gMe5E2k4_upload_progress_text",inline:"bdJt3EJm_inline"}},32231:function(e,t,a){"use strict";a.r(t),t.default={importloading:"g+iOJYWe_importloading"}},1752:function(e,t,a){"use strict";a.r(t),t.default={importdatapreview:"yP8ujx4u_importdatapreview",sheetselect:"puHpR26z_sheetselect",inline:"B6nquH+U_inline",importdatapreview_datagrid:"+0U1uMV9_importdatapreview_datagrid"}},79967:function(e,t,a){"use strict";a.r(t),t.default={importmodalfooter:"k+1nazt+_importmodalfooter",importmodalfooter_btnlist:"yMC0StEj_importmodalfooter_btnlist",importmodalfooter_btn:"hh4YWdAT_importmodalfooter_btn"}},85430:function(e,t,a){"use strict";a.r(t),t.default={importpreview:"zsK7eFfj_importpreview",importpreview_message:"_6hvW4buh_importpreview_message",importpreview_message_icon:"yPxe4W3f_importpreview_message_icon",importpreview_datagrid:"mk-Bq4Bb_importpreview_datagrid",importpreview_datagrid_tag:"A7P8r8BB_importpreview_datagrid_tag",errortext:"_58WccCdB_errortext",errortext_tips:"aRwWo-zZ_errortext_tips"}},97140:function(e,t,a){"use strict";a.r(t),t.default={importdatasetting:"Azv+fJj3_importdatasetting",importdatasetting_fieldlist:"_4YoE8u27_importdatasetting_fieldlist",importdatasetting_pd24:"rhL1NJpS_importdatasetting_pd24",fielditemsetting:"lgYdy34j_fielditemsetting",fielditemsetting_name:"vAWAmcUd_fielditemsetting_name",fielditemsetting_select:"KaLOz3x9_fielditemsetting_select",fielditemsetting_item:"YPkFMm4C_fielditemsetting_item",fielditemsetting_config:"XqOn8Us3_fielditemsetting_config"}},32984:function(e,t,a){"use strict";a.r(t),t.default={importexportmodal:"_1qHna8cM_importexportmodal",importexportmodal_title:"SB9gjOz5_importexportmodal_title",importexportmodal_body:"MTuZiiCZ_importexportmodal_body",importexportmodal_footer:"ZBhBWqom_importexportmodal_footer"}},56124:function(e,t,a){"use strict";a.r(t),t.default={header:"EKFI1FZG_header",header_main:"o69fZx-U_header_main"}},91292:function(e,t,a){"use strict";var r=a(13568),l=a(93252),n=a(25028),o=a(4884),u=a(9564);n(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},u=n&&o;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var d=u?o(e,i):null;d&&(d.get||d.set)?n(l,i,d):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),d=a(63548),c=u(a(92996)),f=u(a(95244)),s=u(a(5452));function p(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(p=function(e){return e?a:t})(e)}var m="success",v="error",_="failure";t.default=(0,i.memo)((function(e){var t=e.status,a=e.percent,r=e.textMap;return i.default.createElement("div",{className:c.default.progress},t===m||t===v||t===_?i.default.createElement("img",{className:c.default.progress_img,src:t===m?f.default:s.default}):i.default.createElement(d.Progress,{type:"circle",percent:a||0,showInfo:!1}),i.default.createElement("p",{className:c.default.progress_text},Array.isArray(r)?t===m?r[2]||"加载成功":t===v||t===_?r[1]||"加载失败":r[0]||"正在加载中":"正在加载中"))}))},32460:function(e,t,a){"use strict";var r=a(13568),l=a(93252),n=a(25028),o=a(4884),u=a(9564);n(t,"__esModule",{value:!0}),t.getAccept=t.default=t.PRE_STEP=t.NEXT_STEP=t.ImportStep=t.ImportExportModalFooter=void 0;var i=u(a(29052)),d=u(a(78912)),c=u(a(94924)),f=u(a(26048)),s=u(a(35256)),p=u(a(23992)),m=u(a(28429)),v=u(a(50524)),_=u(a(96631)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var a=U(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},u=n&&o;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var d=u?o(e,i):null;d&&(d.get||d.set)?n(l,i,d):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),h=a(41936),E=a(63548),y=u(a(86152)),b=u(a(62336)),w=u(a(36692)),x=u(a(70208)),N=u(a(1076)),S=u(a(57532)),I=a(98464),T=u(a(10708)),C=a(88268),k=a(57264),F=a(66028),P=a(29588),M=u(a(75020)),D=a(78016),R=u(a(71252)),O=["onCancel","cancelText"];function U(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(U=function(e){return e?a:t})(e)}var j={0:520,1:"auto",2:"auto",3:"auto",4:520},z={stepData:{curIndex:0,curStatus:""},importData:{},importTaskId:"",fileUrl:"",fileType:"xlsx",row:"1",col:"1",sheetName:"",isUpdate:!0,updateCond:[],importFieldConfig:{},excelHeadList:[],isBack:!1,previewExcel:null,previewData:null,sheetNameList:[],previewPageData:{totalCount:0,pageSize:10,pageNo:1}},A=(0,_.default)((0,_.default)((0,_.default)({},C.FINISH,"完成"),C.FAILURE,"关闭"),C.ERROR,"关闭"),B=(t.PRE_STEP="preStep",t.NEXT_STEP="nextStep",t.ImportStep=function(e){var t=e.currentData,a=e.stepInfo,r=t||{},l=r.curIndex,n=r.curStatus;return g.default.createElement("div",{className:T.default.importmodal_step},g.default.createElement(E.Steps,{current:l,status:n||"process"},(0,p.default)(a).call(a,(function(e,t){return g.default.createElement(E.Step,{key:t,title:e.title})}))))}),H=(t.ImportExportModalFooter=function(e){var t=e.onCancel,a=e.cancelText,r=(0,s.default)(e,O);return"完成"===a&&(r.type="primary"),g.default.createElement("div",{className:T.default.importmodal_footer},g.default.createElement(E.Button,(0,f.default)({},r,{size:"small",onClick:t}),a||"取消"))},(0,g.memo)((function(){var e=(0,h.useParams)(),t=e.appId,a=e.targetFormId,r=(0,g.useRef)(!1),l=function(){var e=(0,c.default)(i.default.mark((function e(){var l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.current){e.next=17;break}return r.current=!0,(0,k.showNotice)("info","导出模板中，请稍等"),e.prev=3,e.next=6,(0,I.getImportTemplateUrl)({appId:t,formId:a});case 6:null!=(l=e.sent)&&l.templateUrl&&(0,k.download)(null==l?void 0:l.templateUrl),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),(0,k.showNotice)("warning","取消导入失败");case 14:return e.prev=14,r.current=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return g.default.createElement("div",{className:T.default.upload_tips},g.default.createElement("p",{className:T.default.upload_tips_text},"为了保证记录的顺利导入，建议您下载并使用"),g.default.createElement("span",{className:T.default.upload_tips_template,onClick:l},"模板"))})));H.displayName="ImportDownloadTemplateTips";var q=[{title:"选择Excel表"},{title:"数据预览"},{title:"导入设置"},{title:"导入预览"},{title:"导入数据"}],L=["xlsx","csv"],X=(t.getAccept=function(e){return(0,p.default)(e).call(e,(function(e){return".".concat(e)})).join(",")})(L);t.default=function(e){var t=e.visible,a=e.closeModal,r=e.refresh,l=(0,h.useParams)(),n=l.appId,o=l.targetFormId,u=(0,g.useReducer)(F.assignDataReducer,z),f=(0,d.default)(u,2),s=f[0],p=f[1],E=s.stepData,I=(s.importTaskId,E.curIndex),C=E.curStatus,O=(0,P.useWindowSize)().height,U=(0,g.useState)(O-112),H=(0,d.default)(U,2),W=H[0],V=H[1],Z=(0,M.default)(V),J=(0,g.useCallback)((function(e){(0,D.publishClickUserEvent)({action:e,formId:o,appId:n})}),[o,n]);(0,g.useEffect)((function(){var e=O-112;e%2!=0&&Z(e-1)}),[O]),(0,g.useEffect)((function(){0===I&&p(z)}),[I]);var G=function(){a&&a()},Y=function(){var e=(0,c.default)(i.default.mark((function e(t,a){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return(0,k.showNotice)("warning","导入地址不存在"),e.abrupt("return");case 3:p({fileType:a,fileUrl:t,stepData:{curIndex:1}});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=(0,c.default)(i.default.mark((function e(t){var a,r,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.file,r=void 0===a?{}:a,J("au_ip_ce_upload"),l=r.status,e.t0=l,e.next="uploading"===e.t0?6:"done"===e.t0?8:10;break;case 6:case 10:return e.abrupt("break",12);case 8:return o=void 0,u=void 0,i=void 0,d=void 0,o=(n=r).response,u=n.name,i=(o||{}).data,d=null==u?void 0:u.split(".").pop(),Y(null==i?void 0:i.url,d),e.abrupt("break",12);case 12:case"end":return e.stop()}var n,o,u,i,d}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){if(!e)return m.default.reject(e);var t=e.name;return(0,v.default)(L).call(L,(0,k.getFileType)(t))?e.size/1024/1024<10?m.default.resolve(e):((0,k.showNotice)("warnning","上传文件需要小于10M，请重新选择"),!1):((0,k.showNotice)("warnning","上传文件不是xlsx/csv文件，请重新选择"),!1)},$=(0,g.useCallback)((function(){return g.default.createElement("div",{style:{maxHeight:W},className:(0,R.default)(T.default.importmodal_body,(0,_.default)({},T.default["importmodal_body_step".concat(I)],!0))},g.default.createElement(B,{currentData:E,stepInfo:q}),0===I&&g.default.createElement(y.default,{renderUploadText:function(){return g.default.createElement(g.default.Fragment,null,g.default.createElement("p",{className:T.default.uploadtext},"点击、拖拽 上传"),g.default.createElement("p",{className:T.default.uploadtext},"请上传一个小于10M，且行数量不超过1000行，列数量不超过150列的csv、xlsx文件"))},accept:X,beforeUpload:Q,onChange:K}),1===I&&g.default.createElement(w.default,{importState:s,dispatchImportState:p}),2===I&&g.default.createElement(x.default,{importState:s,dispatchImportState:p}),3===I&&g.default.createElement(N.default,{importState:s,dispatchImportState:p,formId:o}),4===I&&g.default.createElement(S.default,{importState:s,dispatchImportState:p,onClose:G,refresh:r}))}),[W,s,p]);return g.default.createElement(b.default,{visible:t,bodyStyle:{maxHeight:W},title:"导入数据",titleTips:"将Excel文件中的记录导入至列表中",height:j[I]||520,className:T.default.importmodal,body:$(),onCancel:G,onClose:G,renderFooter:null,cancelText:A[C]||"取消"})}},57532:function(e,t,a){"use strict";var r=a(13568),l=a(93252),n=a(25028),o=a(4884),u=a(9564);n(t,"__esModule",{value:!0}),t.default=t.LoadingProcess=void 0;var i=u(a(29052)),d=u(a(62044)),c=u(a(94924)),f=u(a(78912)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},u=n&&o;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var d=u?o(e,i):null;d&&(d.get||d.set)?n(l,i,d):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),p=a(41936),m=a(39392),v=a(98464),_=a(82416),g=a(57264),h=u(a(91292)),E=a(78016),y=u(a(32231));function b(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(b=function(e){return e?a:t})(e)}var w=t.LoadingProcess=function(e){var t=e.text,a=void 0===t?"导入数据中，请耐心等待":t,r=(0,s.useState)(0),l=(0,f.default)(r,2),n=l[0],o=l[1],u=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e;return function(e){var t=0;u.current=(0,d.default)((function(){t++,o(t),t===e&&clearInterval(u.current)}),20)}((e=8*Math.random()+90,Math.floor(e))),function(){clearInterval(u.current)}}),[]),s.default.createElement("div",{className:y.default.importloading},s.default.createElement(h.default,{percent:n,status:"pending",textMap:[a]}))};w.displayNaame="LoadingProcess";var x=(0,s.memo)((function(e){var t=e.importState,a=(e.dispatchImportState,e.onClose),r=e.refresh,l=e.formId,n=(0,m.useTranslation)().t,o=(0,p.useParams)(),u=o.targetFormId,d=o.appId,f=l||u,h=t.fileUrl,y=t.fileType,b=t.col,x=t.row,N=t.sheetName,S=t.insertDefaultSelectItem,I=(0,s.useCallback)((function(e){(0,E.publishUserEvent)({formId:u,action:e,appId:d})}),[u,d]),T=function(){var e=(0,c.default)(i.default.mark((function e(){var t,l,o,u,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.sendImportData)({formId:f,appId:d,fileUrl:h,fileType:y,sheetName:N,row:x,col:b,insertDefaultSelectItem:S});case 3:t=e.sent,null==a||a(),t&&(l=t.success,o=t.message,u=t.errorReportUrl,null==r||r(),c=!l,_.WebMsg.showConfirmModal({type:c?"fail":"success",title:o||(c?"导入失败":"导入成功"),actions:c?[{text:n("admin.key0021"),key:"close"},{text:n("admin.key0022"),key:"downloadFailReason"}]:[{text:n("admin.key0020"),key:"ok"}],onAction:function(e){return C(e,u)}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),null==a||a(),(0,g.showNotice)("error",(null===e.t0||void 0===e.t0?void 0:e.t0.message)||"导入失败");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){T()}),[]);var C=(0,s.useCallback)((function(e,t){"downloadFailReason"===e?((0,g.download)(t),I("au_ip_err_de")):"close"===e&&I("au_ip_err_close")}),[I]);return s.default.createElement(w,null)}));x.displayName="ImportDataLoading";t.default=x},36692:function(e,t,a){"use strict";var r=a(13568),l=a(13939),n=a(34716),o=a(70696),u=a(4884),i=a(3464),d=a(51400),c=a(25028),f=a(93252),s=a(9564);c(t,"__esModule",{value:!0}),t.transformDataToTableRows=t.default=void 0;var p=s(a(29052)),m=s(a(72400)),v=s(a(24496)),_=s(a(23992)),g=s(a(13939)),h=s(a(760)),E=s(a(28429)),y=s(a(96631)),b=s(a(94924)),w=s(a(78912)),x=s(a(13568)),N=j(a(65984)),S=a(16428),I=a(41936),T=a(63548),C=a(82416),k=a(98464),F=j(a(95724)),P=a(89068),M=a(57264),D=a(57532),R=s(a(1752)),O=s(a(10708));function U(e){if("function"!=typeof f)return null;var t=new f,a=new f;return(U=function(e){return e?a:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var a=U(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=c&&u;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?u(e,o):null;i&&(i.get||i.set)?c(l,o,i):l[o]=e[o]}return l.default=e,a&&a.set(e,l),l}function z(e,t){var a=l(e);if(n){var r=n(e);t&&(r=o(r).call(r,(function(t){return u(e,t).enumerable}))),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){(0,y.default)(e,t,a[t])})):i?d(e,i(a)):z(Object(a)).forEach((function(t){c(e,t,u(a,t))}))}return e}var B=t.transformDataToTableRows=function(e){return null!=e&&e.length?(0,_.default)(e).call(e,(function(e,t){var a,r=e.cellInfos,l={};"object"!==(0,x.default)(r)||Array.isArray(r)||(r=(0,_.default)(a=(0,g.default)(r)).call(a,(function(e){return r[e]})));return r.forEach((function(e){var t=e.seq,a=e.columnSeq;l[t||a]=e})),l})):[]},H=function(e){return"".concat(e).replace(/[-.]/g,"")},q=(0,N.memo)((function(e){var t=e.importState,a=e.dispatchImportState,r=(0,I.useParams)(),l=r.appId,n=r.targetFormId,o=T.Select.Option,u=t.fileUrl,i=t.fileType,d=t.col,c=t.row,f=t.sheetName,s=t.stepData,g=t.previewExcel,y=t.sheetNameList,U=t.previewPageData,j=s.curIndex,z=(0,N.useState)([]),q=(0,w.default)(z,2),L=q[0],X=q[1],W=(0,N.useState)([]),V=(0,w.default)(W,2),Z=V[0],J=V[1],G=(0,N.useState)(d),Y=(0,w.default)(G,2),K=Y[0],Q=Y[1],$=(0,N.useState)(c),ee=(0,w.default)($,2),te=ee[0],ae=ee[1],re=(0,N.useState)(!0),le=(0,w.default)(re,2),ne=le[0],oe=le[1],ue=(0,N.useState)(!1),ie=(0,w.default)(ue,2),de=ie[0],ce=ie[1],fe=T.Form.useForm(),se=(0,w.default)(fe,1)[0];(0,N.useEffect)((function(){Q(d)}),[d]),(0,N.useEffect)((function(){ae(c)}),[c]);var pe=function(e){if(a({previewExcel:e}),e){var t=e||{},r=t.importHead,l=void 0===r?[]:r,n=t.importRows,o=void 0===n?[]:n,u=function(e){var t=e;Array.isArray(e)&&(t=null==e?void 0:e[0]);var a=(t||{}).cellInfos;if(!a)return[];var r=[];return"object"!==(0,x.default)(a)||Array.isArray(a)||(a=(0,m.default)(a)),a.forEach((function(e){var t=e.seq,a=e.cellValue,l=e.columnSeq;r.push({code:t||l,title:N.default.createElement(C.TableTitle,{title:a,hideSort:!0,hideFilter:!0}),titleStr:a,width:200,render:function(e,t,a){if(e){var r=e||{},l=r.pictureInformations,n=r.cellValue;return null!=l&&l.length?N.default.createElement(P.CellRender,{type:"nocodeimageuploadfield",readOnly:!0,title:"图片",value:(0,v.default)(l)}):N.default.createElement(P.CellRender,{type:"nocodetextfield",readOnly:!0,value:n})}return""}})})),r}(l);X(u),ce(!(null!=u&&u.length)),a({excelHeadList:u});var i=B(o);J(i)}else ce(!0),X([]),J([])},me=function(){var e=(0,b.default)(p.default.mark((function e(t,r){var l;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.getImportSheetName)({fileUrl:t,fileType:r});case 2:l=e.sent,oe(!1),(0,S.unstable_batchedUpdates)((function(){var e=l.sheetNames,t=l.previewData,r=l.totalCount,n=A(A({},U),{},{totalCount:r});a({sheetName:(null==e?void 0:e[0])||"",sheetNameList:e,previewPageData:n,type:"csv"}),pe(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(){var e=(0,b.default)(p.default.mark((function e(t){var r,l,n,o,s;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),r=A({fileUrl:u,fileType:i,sheetName:f||"",col:d,row:c,pageSize:10,pageNo:1},t),e.next=4,(0,k.getImportExcelPreview)(r);case 4:l=e.sent,o=(n=l||{}).previewData,s=n.totalCount,(0,S.unstable_batchedUpdates)((function(){pe(o);var e={pageNo:r.pageNo,pageSize:r.pageSize,totalCount:s};a({previewPageData:e})}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,N.useEffect)((function(){u&&!g?me(u,i):(oe(!1),pe(g))}),[]);var _e=(0,N.useCallback)((function(e){a({sheetName:e}),ve({sheetName:e,pageSize:10,pageNo:1})}),[ve]),ge=(0,N.useCallback)((function(e){var t=e.target.value;ae("-"===t||"."===t?"":t)}),[]),he=(0,N.useCallback)((function(e){var t=e.target.value;Q("-"===t||"."===t?"":t)}),[]),Ee=(0,N.useCallback)((function(e,t){ve({pageSize:t,pageNo:e})}),[U,ve]),ye=(0,N.useCallback)((function(e){switch(e){case F.PRE_STEP:a({stepData:{curIndex:j-1}});break;case F.NEXT_STEP:se.validateFields().then((function(e){null!=L&&L.length?te&&"0"!==te?K&&"0"!==K?a({stepData:{curIndex:j+1},isBack:!1}):(0,M.showNotice)("error","起始列不能为空，请输入"):(0,M.showNotice)("error","起始行不能为空，请输入"):(0,M.showNotice)("error","不存在导入信息，请重新上传")})).catch((function(e){}))}}),[j,se,L,te,K,de]),be=(0,N.useMemo)((function(){var e,t;return[{key:F.PRE_STEP,"data-nc-action":(0,h.default)(e="".concat(l,"|")).call(e,n,"|au_ip_dpv_back"),text:"apps.preStep",size:"small"},{key:F.NEXT_STEP,"data-nc-action":(0,h.default)(t="".concat(l,"|")).call(t,n,"|au_ip_dpv_next"),text:"apps.nextStep",size:"small",type:"primary",disabled:de}]}),[de,l,n]);return ne?N.default.createElement(D.LoadingProcess,{text:"数据准备中，请耐心等候"}):N.default.createElement(N.default.Fragment,null,N.default.createElement("div",{className:R.default.importdatapreview},N.default.createElement(T.Form,{form:se},y&&N.default.createElement(T.Form.Item,{label:"工作表",name:"sheetName",className:R.default.sheetselect},N.default.createElement(T.Select,{borderType:"bordered",placeholder:"请选择工作表",value:f,onChange:_e},(0,_.default)(y).call(y,(function(e){return N.default.createElement(o,{key:e,value:e},e)})))),N.default.createElement("div",{className:O.default.inline},N.default.createElement(T.Form.Item,{label:"起始行",name:"row",validateTrigger:"onBlur",required:!0,rules:[{validator:function(e,t){return t?Number(t)<1||Number(t)>1e3?E.default.reject(new Error("起始行最小为1，最大为1000")):E.default.resolve():E.default.reject(new Error("请输入起始行"))}}]},N.default.createElement(T.InputNumber,{min:1,formatter:H,borderType:"bordered",value:te,onChange:ge,onBlur:function(e){se.validateFields().then((function(e){var t=Number(te)>0?te:"1";ve({row:t,pageSize:10,pageNo:1}),a({row:t})})).catch((function(e){}))}})),N.default.createElement(T.Form.Item,{label:"起始列",name:"col",validateTrigger:"onBlur",required:!0,rules:[{validator:function(e,t){return t?Number(t)<1||Number(t)>100?E.default.reject(new Error("起始行最小为1，最大为100")):E.default.resolve():E.default.reject(new Error("请输入起始列"))}}]},N.default.createElement(T.InputNumber,{min:1,formatter:H,borderType:"bordered",value:K,onChange:he,onBlur:function(e){se.validateFields().then((function(e){var t=Number(K)>0?K:"1";ve({col:t}),a({col:t})})).catch((function(e){}))}})))),N.default.createElement("div",{className:R.default.importdatapreview_datagrid},N.default.createElement(C.DataGridLayout,{hideNav:!0,columnResize:!1,totalNode:N.default.createElement(N.default.Fragment,null),rowSelection:!1,style:{height:"auto",width:"100%"},tableColumn:L,data:A({rows:Z},U),searchNode:N.default.createElement("span",null),buttonNode:N.default.createElement("span",null),onPageChange:Ee}))),N.default.createElement(F.default,{actions:be,onClick:ye}))}));q.displayName="ImportDataPreview";t.default=q},95724:function(e,t,a){"use strict";var r=a(25028),l=a(9564);r(t,"__esModule",{value:!0}),t.default=t.PRE_STEP=t.NEXT_STEP=void 0;var n=l(a(26048)),o=l(a(35256)),u=l(a(23992)),i=l(a(65984)),d=a(39392),c=a(63548),f=l(a(79967)),s=["key","text"],p=[{key:t.PRE_STEP="preStep",text:"apps.preStep",size:"small"},{key:t.NEXT_STEP="nextStep",text:"apps.nextStep",size:"small",type:"primary"}],m=function(e){var t=e.onClick,a=e.actions,r=void 0===a?p:a,l=(0,d.useTranslation)().t;return i.default.createElement("div",{className:f.default.importmodalfooter},i.default.createElement("div",{className:f.default.importmodalfooter_btnlist},null==r?void 0:(0,u.default)(r).call(r,(function(e){var a=e.key,r=e.text,u=(0,o.default)(e,s);return i.default.createElement(c.Button,(0,n.default)({key:a,className:f.default.importmodalfooter_btn},u,{onClick:function(){return t(a)}}),l(r))}))))};m.displayName="ImportModalFooter";t.default=m},1076:function(e,t,a){"use strict";var r=a(13568),l=a(13939),n=a(34716),o=a(70696),u=a(4884),i=a(3464),d=a(51400),c=a(25028),f=a(93252),s=a(9564);c(t,"__esModule",{value:!0}),t.default=void 0;var p=s(a(29052)),m=s(a(72400)),v=s(a(24496)),_=s(a(13939)),g=s(a(760)),h=s(a(94924)),E=s(a(96631)),y=s(a(78912)),b=s(a(13568)),w=R(a(65984)),x=a(16428),N=a(41936),S=a(63548),I=a(82416),T=a(98464),C=a(57264),k=R(a(95724)),F=a(89068),P=a(36692),M=s(a(85430));function D(e){if("function"!=typeof f)return null;var t=new f,a=new f;return(D=function(e){return e?a:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=c&&u;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?u(e,o):null;i&&(i.get||i.set)?c(l,o,i):l[o]=e[o]}return l.default=e,a&&a.set(e,l),l}function O(e,t){var a=l(e);if(n){var r=n(e);t&&(r=o(r).call(r,(function(t){return u(e,t).enumerable}))),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,E.default)(e,t,a[t])})):i?d(e,i(a)):O(Object(a)).forEach((function(t){c(e,t,u(a,t))}))}return e}var j=(0,w.memo)((function(e){var t=e.errorMessage,a=e.children;return w.default.createElement("div",{className:M.default.errortext},a,t&&w.default.createElement("div",{className:M.default.errortext_tips},t))}));j.displayName="ErrorText";var z={"错误":"#FFDBE0","新增":"#DCFAE4","替换":"#E0EFFF"},A=function(e){var t=e;Array.isArray(e)&&(t=null==e?void 0:e[0]);var a=(t||{}).cellInfos;if(!a)return[];var r=[];"object"!==(0,b.default)(a)||Array.isArray(a)||(a=(0,m.default)(a));var l=a.length-1;return a.forEach((function(e,t){var a=e.seq,n=e.cellValue,o=e.billFieldId,u=e.columnSeq;t!==l?o&&r.push({code:a||u,title:w.default.createElement(I.TableTitle,{title:n,hideSort:!0,hideFilter:!0}),width:200,render:function(e,t,a){if(e){var r=e.pictureInformations,l=e.cellValue,n=e.error,o=e.errMessage;return n?w.default.createElement(j,{errorMessage:o,title:l},null!=r&&r.length?w.default.createElement(F.CellRender,{type:"nocodeimageuploadfield",readOnly:!0,title:"图片",value:(0,v.default)(r)}):w.default.createElement(F.CellRender,{type:"nocodetextfield",readOnly:!0,value:l})):null!=r&&r.length?w.default.createElement(F.CellRender,{type:"nocodeimageuploadfield",readOnly:!0,title:"图片",value:(0,v.default)(r)}):w.default.createElement(F.CellRender,{type:"nocodetextfield",readOnly:!0,value:l})}}}):r.unshift({code:a||u,title:w.default.createElement(I.TableTitle,{title:n,hideSort:!0,hideFilter:!0}),width:84,locak:!0,align:"center",render:function(e,t,a){if(e){var r=e.pictureInformations,l=e.cellValue;if(null==r||!r.length)return w.default.createElement(I.Tag,{className:M.default.importpreview_datagrid_tag,color:z[l]},l)}return null}})})),r},B=(0,w.memo)((function(e){var t=e.importState,a=e.dispatchImportState,r=e.formId,l=e.fieldConfig,n=(0,N.useParams)(),o=n.appId,u=n.targetFormId,i=r||u,d=t.stepData,c=t.fileUrl,f=t.fileType,s=t.col,m=t.row,v=t.sheetName,E=t.previewData,b=t.importFieldConfig,F=t.isUpdate,D=void 0===F||F,R=t.updateCond,O=void 0===R?[]:R,j=d.curIndex,z=E.importDataError,B=E.importpreviewData,H=E.promptMessage,q=E.totalCount,L=(0,w.useState)((function(){var e=B.importHead;return A(void 0===e?[]:e)||[]})),X=(0,y.default)(L,2),W=X[0],V=X[1],Z=(0,w.useState)((function(){var e=B.importRows,t=void 0===e?[]:e;return(0,P.transformDataToTableRows)(t)||[]})),J=(0,y.default)(Z,2),G=J[0],Y=J[1],K=(0,w.useState)(H),Q=(0,y.default)(K,2),$=Q[0],ee=Q[1],te=(0,w.useState)(z),ae=(0,y.default)(te,2),re=ae[0],le=(ae[1],(0,w.useState)({totalCount:q,pageSize:10,pageNo:1})),ne=(0,y.default)(le,2),oe=ne[0],ue=ne[1],ie=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,x.unstable_batchedUpdates)((function(){e.importDataError;var a=e.importpreviewData,r=e.promptMessage,l=e.totalCount;if(t&&ee(r),a){var n=a.importHead,o=void 0===n?[]:n,u=a.importRows,i=void 0===u?[]:u,d=A(o);V(d);var c=(0,P.transformDataToTableRows)(i);Y(c)}else V([]),Y([]);ue((function(e){return U(U({},e),{},{totalCount:l})}))}))},de=function(){var e=(0,h.default)(p.default.mark((function e(t){var a,r,n;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},l?a=l:(0,_.default)(b).forEach((function(e){var t;void 0!==(null===(t=b[e])||void 0===t?void 0:t.seq)&&(a[e]=b[e])})),r=U({formId:i,fileUrl:c,fileType:f,sheetName:v,col:s,row:m,isUpdate:D,updateCond:O,config:a,isNeedMsg:!0,pageSize:"10",pageNo:"1"},t),e.prev=3,e.next=6,(0,T.getImportPreviewData)(r);case 6:n=e.sent,ie(n,r.isNeedMsg),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(0,C.showNotice)("error",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();(0,w.useEffect)((function(){E||de()}),[]);var ce=(0,w.useCallback)((function(e,t){ue((function(a){return U(U({},a),{},{pageNo:e,pageSize:t})})),de({pageSize:t.toString(),pageNo:e.toString(),isNeedMsg:!1})}),[de]),fe=(0,w.useCallback)((function(e){switch(e){case k.PRE_STEP:a({stepData:{curIndex:j-1},isBack:!0});break;case k.NEXT_STEP:if(re)return void(0,C.showNotice)("error","导入数据存在错误信息，请调整后导入");a({stepData:{curIndex:j+1}})}}),[re,j]),se=(0,w.useMemo)((function(){var e,t;return[{key:k.PRE_STEP,"data-nc-action":(0,g.default)(e="".concat(o,"|")).call(e,i,"|au_ip_ipv_back"),text:"apps.preStep",size:"small"},{key:k.NEXT_STEP,"data-nc-action":(0,g.default)(t="".concat(o,"|")).call(t,i,"|au_ip_ipv_next"),text:"apps.nextStep",size:"small",type:"primary",disabled:re}]}),[re,o,i]);return w.default.createElement(w.default.Fragment,null,w.default.createElement("div",{className:M.default.importpreview},$&&w.default.createElement("div",{className:M.default.importpreview_message},w.default.createElement(S.Icon,{prefix:"nocodeplatformicon",type:"tishi",className:M.default.importpreview_message_icon}),w.default.createElement("p",null,$)),w.default.createElement("div",{className:M.default.importpreview_datagrid},w.default.createElement(I.DataGridLayout,{hideNav:!0,columnResize:!1,totalNode:w.default.createElement(w.default.Fragment,null),rowSelection:!1,style:{width:"100%",height:"auto"},tableColumn:W,data:U({rows:G},oe),searchNode:w.default.createElement("span",null),buttonNode:w.default.createElement("span",null),onPageChange:ce}))),w.default.createElement(k.default,{actions:se,onClick:fe}))}));B.displayName="ImportPreview";t.default=B},70208:function(e,t,a){"use strict";var r=a(13568),l=a(13939),n=a(34716),o=a(70696),u=a(4884),i=a(3464),d=a(51400),c=a(25028),f=a(93252),s=a(9564);c(t,"__esModule",{value:!0}),t.scrollIntoFieldView=t.default=t.connector=void 0;var p=s(a(29052)),m=s(a(26048)),v=s(a(96631)),_=s(a(94924)),g=s(a(78912)),h=s(a(50524)),E=s(a(23992)),y=s(a(28429)),b=s(a(760)),w=s(a(70696)),x=s(a(38456)),N=s(a(13939)),S=O(a(65984)),I=a(16428),T=a(41936),C=a(63548),k=a(98464),F=O(a(95724)),P=a(57264),M=s(a(97140)),D=s(a(10708));function R(e){if("function"!=typeof f)return null;var t=new f,a=new f;return(R=function(e){return e?a:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=c&&u;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?u(e,o):null;i&&(i.get||i.set)?c(l,o,i):l[o]=e[o]}return l.default=e,a&&a.set(e,l),l}function U(e,t){var a=l(e);if(n){var r=n(e);t&&(r=o(r).call(r,(function(t){return u(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){(0,v.default)(e,t,a[t])})):i?d(e,i(a)):U(Object(a)).forEach((function(t){c(e,t,u(a,t))}))}return e}var z=function(e){var t;return(0,h.default)(t=["user","refbill","org"]).call(t,e)},A=function(e){var t;return(0,h.default)(t=["combo"]).call(t,e)},B=function(e){var t;return!!e&&(z(e.fieldType)&&"2"===(null===(t=e.config)||void 0===t?void 0:t.showType))},H=t.connector="_@@_",q=t.scrollIntoFieldView=function(e){if(e){var t=document.getElementById(e);null==t||t.scrollIntoView({behavior:"smooth",inline:"center"})}},L=["richText","graphicDisplay","attachment","nc_table"],X=["nocodecreatorfield","nocodecreatedatefield","nocodemodifierfield","nocodemodifydatefield"],W=(0,S.memo)((function(e){var t,a=e.id,r=e.name,l=e.config,n=e.fieldType,o=e.fieldConfig,u=e.excelHeadList,i=e.onChange,d=C.Select.Option,c=l.isMulti,f=l.fieldItems,s=o.seq,p=o.split,m=o.billMatchCond,v=o.dataAutoOptions;return S.default.createElement("div",{className:M.default.fielditemsetting,id:a},S.default.createElement("p",{className:M.default.fielditemsetting_name,title:r||""},r),S.default.createElement(C.Select,{allowClear:!0,borderType:"bordered",placeholder:"请选择匹配的数据",className:M.default.fielditemsetting_select,value:s,onChange:function(e,t){var a={seq:e};e||(z(n)?a.billMatchCond="":A(n)&&(a.dataAutoOptions=!1),c&&(a.split="")),i(a)},virtualListProps:{itemHeight:36}},(0,E.default)(u).call(u,(function(e){var t=e.code,a=e.titleStr;return S.default.createElement(d,{key:t,value:t},a)}))),z(n)&&S.default.createElement(C.Form.Item,{required:s,rules:[{validator:function(e,t){return s&&!t?y.default.reject("选择".concat(r,"字段匹配的内容")):y.default.resolve()}}],className:M.default.fielditemsetting_item,label:"选择匹配的内容",name:(0,b.default)(t="billMatchCond".concat(H)).call(t,a)},S.default.createElement(C.Select,{borderType:"bordered",placeholder:"请选择匹配内容",className:M.default.fielditemsetting_select,allowClear:!0,value:m,onChange:function(e,t){i({billMatchCond:e})}},null==f?void 0:(0,E.default)(f).call(f,(function(e){var t=e.id,a=e.name;return S.default.createElement(d,{key:t,value:t},a)})))),c&&S.default.createElement(C.Form.Item,{label:"设置分隔符",name:"split_".concat(a),className:M.default.fielditemsetting_item},S.default.createElement(C.Input,{borderType:"bordered",value:p,onChange:function(e){var t=e.target.value;i({split:t})}})),A(n)&&S.default.createElement(C.Form.Item,{label:"不存在的选项处理方式",name:"dataAutoOptions_".concat(a),className:M.default.fielditemsetting_item},S.default.createElement(C.Radio.Group,{value:v,onChange:function(e){var t="true"===e.target.value;i({dataAutoOptions:t})}},S.default.createElement(C.Radio,{value:!0},"添加为新选项"),S.default.createElement(C.Radio,{value:!1},"报错"))))}));W.displayName="ImportFieldItemSetting";var V=(0,S.memo)((function(e){var t=e.importState,a=e.dispatchImportState,r=C.Select.Option,l=t.stepData,n=t.sheetName,o=t.col,u=t.row,i=t.fileUrl,d=t.fileType,c=t.isBack,f=t.excelHeadList,s=void 0===f?[]:f,R=t.isUpdate,O=void 0===R||R,U=t.updateCond,V=void 0===U?[]:U,Z=t.importFieldConfig,J=void 0===Z?{}:Z,G=l.curIndex,Y=(0,T.useParams)(),K=Y.appId,Q=Y.targetFormId,$=(0,S.useState)([]),ee=(0,g.default)($,2),te=ee[0],ae=ee[1],re=C.Form.useForm(),le=(0,g.default)(re,1)[0],ne=(0,S.useRef)(null),oe=function(){var e=(0,_.default)(p.default.mark((function e(){var t;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.getImportFormFieldData)({sheetName:n,col:o,row:u,fileUrl:i,fileType:d,formId:Q,isBack:c});case 2:t=e.sent,(0,I.unstable_batchedUpdates)((function(){var e=t||[],r=(0,w.default)(e).call(e,(function(e){return!((0,h.default)(L).call(L,e.fieldType)||(0,h.default)(X).call(X,e.id)||B(e))}));ae(r);var l={};r.forEach((function(e){var t=e.id,a=e.fieldType,r=e.name,n=e.config,o=(n.isMulti,n.fieldItems),u={};A(a)&&(u.dataAutoOptions=!1,u.split="");var i=J[t]||{},d=!(null!=s&&(0,x.default)(s).call(s,(function(e){return e.code===i.seq&&e.titleStr===r})));if(i.seq&&d)l[t]={};else{var c=null==s?void 0:(0,x.default)(s).call(s,(function(e){return e.titleStr===r}));c&&(u.seq=c.code),c&&z(a)&&null!=o&&o[0]&&(u.billMatchCond=o[0].id),l[t]=j(j({},u),i)}})),a({importFieldConfig:l})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.useEffect)((function(){return oe(),function(){var e;null===(e=ne.current)||void 0===e||e.call(ne)}}),[]);var ue=(0,S.useCallback)((function(e){var t="true"===e.target.value;a({isUpdate:t})}),[]),ie=(0,S.useCallback)((function(e){(null==e?void 0:e.length)<=3?a({updateCond:e}):null==e||e.length}),[]),de=function(){var e=(0,_.default)(p.default.mark((function e(t){var r,l,c,f;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},(0,N.default)(J).forEach((function(e){var t;void 0!==(null===(t=J[e])||void 0===t?void 0:t.seq)&&(r[e]=J[e])})),null==V||!V.length){e.next=6;break}if(!V.some((function(e){if(!r[e])return q(e),(0,P.showNotice)("error","更新依据的内容不在excel导入数据中"),!0}))){e.next=6;break}return e.abrupt("return");case 6:return ne.current=(0,P.showLoadingMessage)("请求数据中，请稍等"),l=j({formId:Q,fileUrl:i,fileType:d,sheetName:n,col:o,row:u,isUpdate:O,updateCond:V,config:r,isNeedMsg:!0,pageSize:"10",pageNo:"1"},t),e.prev=8,e.next=11,(0,k.getImportPreviewData)(l);case 11:c=e.sent,a({previewData:c,stepData:{curIndex:G+1}}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),(0,P.showNotice)("error",null!==e.t0&&void 0!==e.t0&&e.t0.message&&"require error:"!==e.t0.message?e.t0.message:"请求失败");case 19:return e.prev=19,null===(f=ne.current)||void 0===f||f.call(ne),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[8,15,19,22]])})));return function(t){return e.apply(this,arguments)}}(),ce=(0,S.useCallback)((function(e){var t;switch(e){case F.PRE_STEP:null===(t=ne.current)||void 0===t||t.call(ne),a({stepData:{curIndex:G-1}});break;case F.NEXT_STEP:le.validateFields().then((function(e){de()})).catch((function(e){var t=(e||{}).errors;if(t&&t[0]){var a=t[0]||{},r=a.field,l=a.message;q(r.split(H)[1]),(0,P.showNotice)("error",l)}}))}}),[G,ne.current,de]),fe=(0,S.useMemo)((function(){var e,t,a;return[{key:F.PRE_STEP,"data-nc-action":(0,b.default)(e="".concat(K,"|")).call(e,Q,"|au_ip_is_back"),text:"apps.preStep",size:"small"},{key:F.NEXT_STEP,"data-nc-action":(0,b.default)(t="".concat(K,"|")).call(t,Q,"|au_ip_is_next"),text:"apps.nextStep",size:"small",type:"primary",disabled:!(0,x.default)(a=(0,N.default)(J)).call(a,(function(e){return J[e].seq}))}]}),[J,K,Q]),se=(0,S.useMemo)((function(){return(0,w.default)(te).call(te,(function(e){var t;return!(0,h.default)(t=["image","date"]).call(t,e.fieldType)&&!B(e)}))}),[te]);return S.default.createElement(S.default.Fragment,null,S.default.createElement("div",{className:M.default.importdatasetting},S.default.createElement(C.Form,{className:M.default.importdatasetting_pd24},S.default.createElement("div",{className:D.default.inline},S.default.createElement(C.Form.Item,{label:"更新数据",name:"isUpdate"},S.default.createElement(C.Radio.Group,{value:O,onChange:ue},S.default.createElement(C.Radio,{value:!0},"是"),S.default.createElement(C.Radio,{value:!1},"否"))),S.default.createElement(C.Form.Item,{label:"更新数据的依据（最多3个）",name:"updateCond",rules:[{validator:function(e,t){return(null==t?void 0:t.length)>3?y.default.reject("最多可以选择3个更新依据"):y.default.resolve()}}]},S.default.createElement(C.Select,{mode:"multiple",borderType:"bordered",placeholder:"请选择更新数据的依据",value:V,onChange:ie},(0,E.default)(se).call(se,(function(e){var t=e.id,a=e.name;return S.default.createElement(r,{key:t,value:t},a)})))))),S.default.createElement("div",{className:M.default.importdatasetting_fieldlist},S.default.createElement("div",null,S.default.createElement(C.Form,{className:M.default.fielditemsetting_config,form:le},(0,E.default)(te).call(te,(function(e){var t=e.id;return S.default.createElement(W,(0,m.default)({key:t},e,{excelHeadList:s,fieldConfig:J[t],onChange:function(e){return function(e,t){var r=j(j({},J),{},(0,v.default)({},e,j(j({},J[e]),t)));a({importFieldConfig:r})}(t,e)}}))})))))),S.default.createElement(F.default,{actions:fe,onClick:ce}))}));V.displayName="ImportSetting";t.default=V},86152:function(e,t,a){"use strict";var r=a(13939),l=a(34716),n=a(70696),o=a(4884),u=a(3464),i=a(51400),d=a(25028),c=a(9564);d(t,"__esModule",{value:!0}),t.default=void 0;var f=c(a(96631)),s=c(a(35256)),p=c(a(65984)),m=a(63548),v=a(57264),_=c(a(10708)),g=["renderTips","renderUploadText","tempstorage"];function h(e,t){var a=r(e);if(l){var u=l(e);t&&(u=n(u).call(u,(function(t){return o(e,t).enumerable}))),a.push.apply(a,u)}return a}var E=(0,v.getUrlWithDataCenter)((0,v.getFullUrl)("nocode/v2/nocode_sys/attachment"));t.default=function(e){var t=e.renderTips,a=e.renderUploadText,r=e.tempstorage,l=void 0===r||r,n=(0,s.default)(e,g),c=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,f.default)(e,t,a[t])})):u?i(e,u(a)):h(Object(a)).forEach((function(t){d(e,t,o(a,t))}))}return e}({data:{action:"upload",tempstorage:l},name:"file",action:E,showUploadList:!1,accept:".xlsx,.xls,.csv"},n);return p.default.createElement("div",{className:_.default.upload},p.default.createElement(m.Upload.Dragger,c,p.default.createElement(m.Icon,{className:_.default.upload_add,type:"add",style:{fontSize:24,color:"#666",fontWeight:"bolder"}}),"function"==typeof a?a():p.default.createElement("p",{className:_.default.upload_text},"点击或拖动文件到此位置上传")),"function"==typeof t?t():null)}},62336:function(e,t,a){"use strict";var r=a(13568),l=a(93252),n=a(25028),o=a(4884),u=a(9564);n(t,"__esModule",{value:!0}),t.default=void 0;var i=u(a(26048)),d=u(a(35256)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},u=n&&o;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var d=u?o(e,i):null;d&&(d.get||d.set)?n(l,i,d):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),f=a(63548),s=u(a(71252)),p=u(a(32984)),m=["className","visible","onClose","onCancel","title","titleTips","body","footer","hideFooter","cancelText","renderFooter"];function v(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(v=function(e){return e?a:t})(e)}var _=function(e){var t=e.title,a=e.titleTips;return c.default.createElement("div",{className:p.default.importexportmodal_title},c.default.createElement("p",{title:t},t),a&&c.default.createElement(f.Tooltip,{tip:a},c.default.createElement(f.Icon,{type:"tips"})))};t.default=function(e){var t=e.className,a=e.visible,r=e.onClose,l=(e.onCancel,e.title),n=e.titleTips,o=e.body,u=(e.footer,e.hideFooter,e.cancelText,e.renderFooter),v=(0,d.default)(e,m);return c.default.createElement(f.Modal,(0,i.default)({visible:a,closable:!0,title:c.default.createElement(_,{title:l,titleTips:n}),body:o,width:800,height:520,className:(0,s.default)(t,p.default.importexportmodal),onCancel:r,footer:"function"==typeof u?u():null,showline:!1,maskClosable:!1,keyboard:!1,destroyOnClose:!0},v))}},1520:function(e,t,a){"use strict";var r=a(13568),l=a(93252),n=a(25028),o=a(4884),u=a(9564);n(t,"__esModule",{value:!0}),t.default=void 0;var i=u(a(23992)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},u=n&&o;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var d=u?o(e,i):null;d&&(d.get||d.set)?n(l,i,d):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),c=u(a(71252)),f=u(a(56124));function s(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(s=function(e){return e?a:t})(e)}var p=(0,d.memo)((function(e){var t=e.children,a=e.className;return d.default.createElement("div",{className:(0,c.default)(f.default.header,a)},null==t?void 0:(0,i.default)(t).call(t,(function(e,t){return d.default.cloneElement(e,{key:t})})))}));p.displayName="Header";var m=(0,d.memo)((function(e){var t=e.children,a=e.className;return d.default.createElement("div",{className:a},t)}));m.displayName="HeaderLeft";var v=(0,d.memo)((function(e){var t=e.children,a=e.className;return d.default.createElement("div",{className:(0,c.default)(f.default.header_main,a)},t)}));v.displayName="HeaderMain",p.Left=m,p.Main=v,p.Right=m;t.default=p},4496:function(e,t,a){"use strict";e.exports=a.p+"ncp/nocode/images/7a56107d44f849c9be61.png"},5452:function(e,t,a){"use strict";e.exports=a.p+"ncp/nocode/images/16aff6443c74c15b2755.png"},95244:function(e,t,a){"use strict";e.exports=a.p+"ncp/nocode/images/48e7d678465713e2f758.png"},62044:function(e,t,a){e.exports=a(28112)},28112:function(e,t,a){"use strict";a(99495);var r=a(19832);e.exports=r.setInterval}}]);