"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunknocode_platform"] = self["webpackChunknocode_platform"] || []).push([[4428],{

/***/ "./src/web/component/common/Ellipsis.tsx":
/*!***********************************************!*\
  !*** ./src/web/component/common/Ellipsis.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _Object$keys = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js\");\nvar _Object$getOwnPropertySymbols = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js\");\nvar _filterInstanceProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _Object$getOwnPropertyDescriptors = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js\");\nvar _Object$defineProperties = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _sliceInstanceProperty2 = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js\");\nvar _Array$from2 = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/array/from.js\");\nvar _Symbol = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/symbol.js\");\nvar _getIteratorMethod = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ \"../../node_modules/@babel/runtime-corejs3/core-js/get-iterator-method.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.mergeProps = mergeProps;\nexports.withNativeProps = withNativeProps;\nexports.withStopPropagation = withStopPropagation;\nvar _startsWith = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/starts-with */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/starts-with.js\"));\nvar _from = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/array/from.js\"));\nvar _slice = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ \"../../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _lodash = __webpack_require__(/*! kd_libs/lodash */ \"webpack/container/remote/kd_libs/lodash\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function (_e) { function e(_x) { return _e.apply(this, arguments); } e.toString = function () { return _e.toString(); }; return e; }(function (e) { throw e; }), f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function (_e2) { function e(_x2) { return _e2.apply(this, arguments); } e.toString = function () { return _e2.toString(); }; return e; }(function (e) { didErr = true; err = e; }), f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _sliceInstanceProperty2(_context = Object.prototype.toString.call(o)).call(_context, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _Array$from2(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = _Object$keys(e); if (_Object$getOwnPropertySymbols) { var o = _Object$getOwnPropertySymbols(e); r && (o = _filterInstanceProperty(o).call(o, function (r) { return _Object$getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(e, _Object$getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { _Object$defineProperty(e, r, _Object$getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction mergeProps() {\n  function customizer(objValue, srcValue) {\n    return srcValue === undefined ? objValue : srcValue;\n  }\n  var ret = _objectSpread({}, arguments.length <= 0 ? undefined : arguments[0]);\n  for (var i = 1; i < arguments.length; i++) {\n    ret = (0, _lodash.assignWith)(ret, i < 0 || arguments.length <= i ? undefined : arguments[i], customizer);\n  }\n  return ret;\n}\nvar classPrefix = \"adm-ellipsis\";\nfunction withNativeProps(props, element) {\n  var p = _objectSpread({}, element.props);\n  if (props.className) {\n    p.className = (0, _classnames.default)(element.props.className, props.className);\n  }\n  if (props.style) {\n    p.style = _objectSpread(_objectSpread({}, p.style), props.style);\n  }\n  if (props.tabIndex !== undefined) {\n    p.tabIndex = props.tabIndex;\n  }\n  for (var key in props) {\n    if (!props.hasOwnProperty(key)) continue;\n    if ((0, _startsWith.default)(key).call(key, 'data-') || (0, _startsWith.default)(key).call(key, 'aria-')) {\n      p[key] = props[key];\n    }\n  }\n  return _react.default.cloneElement(element, p);\n}\nvar eventToPropRecord = {\n  'click': 'onClick'\n};\nfunction withStopPropagation(events, element) {\n  var props = _objectSpread({}, element.props);\n  var _iterator = _createForOfIteratorHelper(events),\n    _step;\n  try {\n    var _loop = function _loop() {\n      var key = _step.value;\n      var prop = eventToPropRecord[key];\n      props[prop] = function (e) {\n        var _element$props$prop, _element$props;\n        e.stopPropagation();\n        (_element$props$prop = (_element$props = element.props)[prop]) === null || _element$props$prop === void 0 || _element$props$prop.call(_element$props, e);\n      };\n    };\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return _react.default.cloneElement(element, props);\n}\nfunction useMemoizedFn(fn) {\n  var fnRef = (0, _react.useRef)(fn);\n\n  // why not write `fnRef.current = fn`?\n  // https://github.com/alibaba/hooks/issues/728\n  fnRef.current = (0, _react.useMemo)(function () {\n    return fn;\n  }, [fn]);\n  var memoizedFn = (0, _react.useRef)();\n  if (!memoizedFn.current) {\n    memoizedFn.current = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return fnRef.current.apply(this, args);\n    };\n  }\n  return memoizedFn.current;\n}\nfunction useResizeEffect(effect, targetRef) {\n  var fn = useMemoizedFn(effect);\n  (0, _react.useLayoutEffect)(function () {\n    var target = targetRef.current;\n    if (!target) return;\n    if (window.ResizeObserver) {\n      var animationFrame;\n      var observer = new ResizeObserver(function () {\n        animationFrame = window.requestAnimationFrame(function () {\n          return fn(target);\n        });\n      });\n      observer.observe(target);\n      return function () {\n        window.cancelAnimationFrame(animationFrame);\n        observer.disconnect();\n      };\n    } else {\n      fn(target);\n    }\n  }, [targetRef]);\n}\nvar defaultProps = {\n  direction: 'end',\n  rows: 1,\n  expandText: '',\n  content: '',\n  collapseText: '',\n  stopPropagationForActionButtons: [],\n  onContentClick: function onContentClick() {}\n};\nvar Ellipsis = function Ellipsis(p) {\n  var props = mergeProps(defaultProps, p);\n  var rootRef = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)({}),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    ellipsised = _useState2[0],\n    setEllipsised = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    expanded = _useState4[0],\n    setExpanded = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    exceeded = _useState6[0],\n    setExceeded = _useState6[1];\n  var chars = (0, _react.useMemo)(function () {\n    return (0, _from.default)(props.content);\n  }, [props.content]);\n  function getSubString(start, end) {\n    return (0, _slice.default)(chars).call(chars, start, end).join('');\n  }\n  function calcEllipsised() {\n    var root = rootRef.current;\n    if (!root) return;\n    if (!root.offsetParent) return;\n    var originStyle = window.getComputedStyle(root);\n    var container = document.createElement('div');\n    var styleNames = (0, _slice.default)(Array.prototype).apply(originStyle);\n    styleNames.forEach(function (name) {\n      container.style.setProperty(name, originStyle.getPropertyValue(name));\n    });\n    container.style.position = 'fixed';\n    container.style.left = '999999px';\n    container.style.top = '999999px';\n    container.style.zIndex = '-1000';\n    container.style.height = 'auto';\n    container.style.minHeight = 'auto';\n    container.style.maxHeight = 'auto';\n    container.style.textOverflow = 'clip';\n    container.style.whiteSpace = 'normal';\n    container.style.wordBreak = 'break-all';\n    container.style.webkitLineClamp = 'unset';\n    container.style.display = 'block';\n    var lineHeight = pxToNumber(originStyle.lineHeight);\n    var maxHeight = Math.floor(lineHeight * (props.rows + 0.5) + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom));\n    container.innerText = props.content;\n    document.body.appendChild(container);\n    if (container.offsetHeight <= maxHeight) {\n      setExceeded(false);\n    } else {\n      var check = function check(left, right) {\n        if (right - left <= 1) {\n          if (props.direction === 'end') {\n            return {\n              leading: getSubString(0, left) + '...'\n            };\n          } else {\n            return {\n              tailing: '...' + getSubString(right, end)\n            };\n          }\n        }\n        var middle = Math.round((left + right) / 2);\n        if (props.direction === 'end') {\n          container.innerText = getSubString(0, middle) + '...' + actionText;\n        } else {\n          container.innerText = actionText + '...' + getSubString(middle, end);\n        }\n        if (container.offsetHeight <= maxHeight) {\n          if (props.direction === 'end') {\n            return check(middle, right);\n          } else {\n            return check(left, middle);\n          }\n        } else {\n          if (props.direction === 'end') {\n            return check(left, middle);\n          } else {\n            return check(middle, right);\n          }\n        }\n      };\n      var checkMiddle = function checkMiddle(leftPart, rightPart) {\n        if (leftPart[1] - leftPart[0] <= 1 && rightPart[1] - rightPart[0] <= 1) {\n          return {\n            leading: getSubString(0, leftPart[0]) + '...',\n            tailing: '...' + getSubString(rightPart[1], end)\n          };\n        }\n        var leftPartMiddle = Math.floor((leftPart[0] + leftPart[1]) / 2);\n        var rightPartMiddle = Math.ceil((rightPart[0] + rightPart[1]) / 2);\n        container.innerText = getSubString(0, leftPartMiddle) + '...' + actionText + '...' + getSubString(rightPartMiddle, end);\n        if (container.offsetHeight <= maxHeight) {\n          return checkMiddle([leftPartMiddle, leftPart[1]], [rightPart[0], rightPartMiddle]);\n        } else {\n          return checkMiddle([leftPart[0], leftPartMiddle], [rightPartMiddle, rightPart[1]]);\n        }\n      };\n      setExceeded(true);\n      var end = props.content.length;\n      var actionText = expanded ? props.collapseText : props.expandText;\n      var middle = Math.floor((0 + end) / 2);\n      var _ellipsised = props.direction === 'middle' ? checkMiddle([0, middle], [middle, end]) : check(0, end);\n      setEllipsised(_ellipsised);\n    }\n    document.body.removeChild(container);\n  }\n  useResizeEffect(calcEllipsised, rootRef);\n  (0, _react.useLayoutEffect)(function () {\n    calcEllipsised();\n  }, [props.content, props.direction, props.rows, props.expandText, props.collapseText]);\n  var expandActionElement = exceeded && props.expandText ? withStopPropagation(props.stopPropagationForActionButtons, /*#__PURE__*/_react.default.createElement(\"a\", {\n    onClick: function onClick() {\n      setExpanded(true);\n    }\n  }, props.expandText)) : null;\n  var collapseActionElement = exceeded && props.expandText ? withStopPropagation(props.stopPropagationForActionButtons, /*#__PURE__*/_react.default.createElement(\"a\", {\n    onClick: function onClick() {\n      setExpanded(false);\n    }\n  }, props.collapseText)) : null;\n  var renderContent = function renderContent() {\n    if (!exceeded) {\n      return props.content;\n    }\n    if (expanded) {\n      return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, props.content, collapseActionElement);\n    } else {\n      return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, ellipsised.leading, expandActionElement, ellipsised.tailing);\n    }\n  };\n  return withNativeProps(props, /*#__PURE__*/_react.default.createElement(\"div\", {\n    ref: rootRef,\n    className: classPrefix,\n    style: {\n      wordBreak: 'break-all'\n    },\n    onClick: function onClick(e) {\n      if (e.target === e.currentTarget) {\n        props.onContentClick(e);\n      }\n    }\n  }, renderContent()));\n};\nfunction pxToNumber(value) {\n  if (!value) return 0;\n  var match = value.match(/^\\d*(\\.\\d*)?/);\n  return match ? Number(match[0]) : 0;\n}\nvar _default = exports[\"default\"] = Ellipsis;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9jb21tb24vRWxsaXBzaXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFlQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUFBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFyRUE7QUFDQTtBQUNBO0FBcUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLXBsYXRmb3JtLy4vc3JjL3dlYi9jb21wb25lbnQvY29tbW9uL0VsbGlwc2lzLnRzeD82OWVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBGQywgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlTGF5b3V0RWZmZWN0LCBBcmlhQXR0cmlidXRlcyAgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcclxuaW1wb3J0IHsgYXNzaWduV2l0aCB9IGZyb20gJ2xvZGFzaCdcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVByb3BzKC4uLml0ZW1zOiBhbnlbXSkge1xyXG4gIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWU6IGFueSwgc3JjVmFsdWU6IGFueSkge1xyXG4gICAgcmV0dXJuIHNyY1ZhbHVlID09PSB1bmRlZmluZWQgPyBvYmpWYWx1ZSA6IHNyY1ZhbHVlXHJcbiAgfVxyXG5cclxuICBsZXQgcmV0ID0geyAuLi5pdGVtc1swXSB9XHJcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgcmV0ID0gYXNzaWduV2l0aChyZXQsIGl0ZW1zW2ldLCBjdXN0b21pemVyKVxyXG4gIH1cclxuICByZXR1cm4gcmV0XHJcbn1cclxuXHJcblxyXG5jb25zdCBjbGFzc1ByZWZpeCA9IGBhZG0tZWxsaXBzaXNgXHJcblxyXG50eXBlIFByb3BhZ2F0aW9uRXZlbnQgPSAnY2xpY2snXHJcblxyXG5leHBvcnQgdHlwZSBOYXRpdmVQcm9wczxTIGV4dGVuZHMgc3RyaW5nID0gbmV2ZXI+ID0ge1xyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xyXG4gIHN0eWxlPzogUmVhY3QuQ1NTUHJvcGVydGllcyAmIFBhcnRpYWw8UmVjb3JkPFMsIHN0cmluZz4+XHJcbiAgdGFiSW5kZXg/OiBudW1iZXJcclxufSAmIEFyaWFBdHRyaWJ1dGVzXHJcblxyXG50eXBlIFBpY2tGdW5jdGlvbjxUIGV4dGVuZHMgbm9vcD4gPSAoXHJcbiAgdGhpczogVGhpc1BhcmFtZXRlclR5cGU8VD4sXHJcbiAgLi4uYXJnczogUGFyYW1ldGVyczxUPlxyXG4pID0+IFJldHVyblR5cGU8VD47XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gd2l0aE5hdGl2ZVByb3BzPFAgZXh0ZW5kcyBOYXRpdmVQcm9wcz4oXHJcbiAgcHJvcHM6IFAsXHJcbiAgZWxlbWVudDogUmVhY3QuUmVhY3RFbGVtZW50XHJcbikge1xyXG4gIGNvbnN0IHAgPSB7XHJcbiAgICAuLi5lbGVtZW50LnByb3BzLFxyXG4gIH1cclxuICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XHJcbiAgICBwLmNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoZWxlbWVudC5wcm9wcy5jbGFzc05hbWUsIHByb3BzLmNsYXNzTmFtZSlcclxuICB9XHJcbiAgaWYgKHByb3BzLnN0eWxlKSB7XHJcbiAgICBwLnN0eWxlID0ge1xyXG4gICAgICAuLi5wLnN0eWxlLFxyXG4gICAgICAuLi5wcm9wcy5zdHlsZSxcclxuICAgIH1cclxuICB9XHJcbiAgaWYgKHByb3BzLnRhYkluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgIHAudGFiSW5kZXggPSBwcm9wcy50YWJJbmRleFxyXG4gIH1cclxuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgaWYgKCFwcm9wcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSBjb250aW51ZVxyXG4gICAgaWYgKGtleS5zdGFydHNXaXRoKCdkYXRhLScpIHx8IGtleS5zdGFydHNXaXRoKCdhcmlhLScpKSB7XHJcbiAgICAgIHBba2V5XSA9IHByb3BzW2tleV1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChlbGVtZW50LCBwKVxyXG59XHJcblxyXG5jb25zdCBldmVudFRvUHJvcFJlY29yZDogUmVjb3JkPFByb3BhZ2F0aW9uRXZlbnQsIHN0cmluZz4gPSB7XHJcbiAgJ2NsaWNrJzogJ29uQ2xpY2snLFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gd2l0aFN0b3BQcm9wYWdhdGlvbihcclxuICBldmVudHM6IFByb3BhZ2F0aW9uRXZlbnRbXSxcclxuICBlbGVtZW50OiBSZWFjdC5SZWFjdEVsZW1lbnRcclxuKSB7XHJcbiAgY29uc3QgcHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7IC4uLmVsZW1lbnQucHJvcHMgfVxyXG4gIGZvciAoY29uc3Qga2V5IG9mIGV2ZW50cykge1xyXG4gICAgY29uc3QgcHJvcCA9IGV2ZW50VG9Qcm9wUmVjb3JkW2tleV1cclxuICAgIHByb3BzW3Byb3BdID0gZnVuY3Rpb24gKGU6IEV2ZW50KSB7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgICAgZWxlbWVudC5wcm9wc1twcm9wXT8uKGUpXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoZWxlbWVudCwgcHJvcHMpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVzZU1lbW9pemVkRm48VCBleHRlbmRzIG5vb3A+KGZuOiBUKSB7XHJcbiAgY29uc3QgZm5SZWYgPSB1c2VSZWY8VD4oZm4pO1xyXG5cclxuICAvLyB3aHkgbm90IHdyaXRlIGBmblJlZi5jdXJyZW50ID0gZm5gP1xyXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGliYWJhL2hvb2tzL2lzc3Vlcy83MjhcclxuICBmblJlZi5jdXJyZW50ID0gdXNlTWVtbygoKSA9PiBmbiwgW2ZuXSk7XHJcblxyXG4gIGNvbnN0IG1lbW9pemVkRm4gPSB1c2VSZWY8UGlja0Z1bmN0aW9uPFQ+PigpO1xyXG4gIGlmICghbWVtb2l6ZWRGbi5jdXJyZW50KSB7XHJcbiAgICBtZW1vaXplZEZuLmN1cnJlbnQgPSBmdW5jdGlvbiAodGhpcywgLi4uYXJncykge1xyXG4gICAgICByZXR1cm4gZm5SZWYuY3VycmVudC5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWVtb2l6ZWRGbi5jdXJyZW50IGFzIFQ7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB1c2VSZXNpemVFZmZlY3Q8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcclxuICBlZmZlY3Q6ICh0YXJnZXQ6IFQpID0+IHZvaWQsXHJcbiAgdGFyZ2V0UmVmOiBSZWZPYmplY3Q8VD5cclxuKSB7XHJcbiAgY29uc3QgZm4gPSB1c2VNZW1vaXplZEZuKGVmZmVjdClcclxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdGFyZ2V0UmVmLmN1cnJlbnRcclxuICAgIGlmICghdGFyZ2V0KSByZXR1cm5cclxuICAgIGlmICh3aW5kb3cuUmVzaXplT2JzZXJ2ZXIpIHtcclxuICAgICAgbGV0IGFuaW1hdGlvbkZyYW1lOiBudW1iZXJcclxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIGFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBmbih0YXJnZXQpKVxyXG4gICAgICB9KVxyXG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldClcclxuICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWUpXHJcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZuKHRhcmdldClcclxuICAgIH1cclxuICB9LCBbdGFyZ2V0UmVmXSlcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgRWxsaXBzaXNQcm9wcyA9IHtcclxuICBjb250ZW50OiBzdHJpbmdcclxuICBkaXJlY3Rpb24/OiAnc3RhcnQnIHwgJ2VuZCcgfCAnbWlkZGxlJ1xyXG4gIHJvd3M/OiBudW1iZXJcclxuICBleHBhbmRUZXh0Pzogc3RyaW5nXHJcbiAgY29sbGFwc2VUZXh0Pzogc3RyaW5nXHJcbiAgc3RvcFByb3BhZ2F0aW9uRm9yQWN0aW9uQnV0dG9ucz86IFByb3BhZ2F0aW9uRXZlbnRbXVxyXG4gIG9uQ29udGVudENsaWNrPzogKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQsIE1vdXNlRXZlbnQ+KSA9PiB2b2lkXHJcbn0gJiBOYXRpdmVQcm9wc1xyXG5cclxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xyXG4gIGRpcmVjdGlvbjogJ2VuZCcsXHJcbiAgcm93czogMSxcclxuICBleHBhbmRUZXh0OiAnJyxcclxuICBjb250ZW50OiAnJyxcclxuICBjb2xsYXBzZVRleHQ6ICcnLFxyXG4gIHN0b3BQcm9wYWdhdGlvbkZvckFjdGlvbkJ1dHRvbnM6IFtdLFxyXG4gIG9uQ29udGVudENsaWNrOiAoKSA9PiB7fSxcclxufVxyXG5cclxudHlwZSBFbGxpcHNpc2VkVmFsdWUgPSB7XHJcbiAgbGVhZGluZz86IHN0cmluZ1xyXG4gIHRhaWxpbmc/OiBzdHJpbmdcclxufVxyXG5cclxuY29uc3QgRWxsaXBzaXM6IEZDPEVsbGlwc2lzUHJvcHM+ID0gcCA9PiB7XHJcbiAgY29uc3QgcHJvcHMgPSBtZXJnZVByb3BzKGRlZmF1bHRQcm9wcywgcClcclxuICBjb25zdCByb290UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxyXG5cclxuICBjb25zdCBbZWxsaXBzaXNlZCwgc2V0RWxsaXBzaXNlZF0gPSB1c2VTdGF0ZTxFbGxpcHNpc2VkVmFsdWU+KHt9KVxyXG4gIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgY29uc3QgW2V4Y2VlZGVkLCBzZXRFeGNlZWRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHJcbiAgY29uc3QgY2hhcnMgPSB1c2VNZW1vKCgpID0+IEFycmF5LmZyb20ocHJvcHMuY29udGVudCksIFtwcm9wcy5jb250ZW50XSlcclxuICBmdW5jdGlvbiBnZXRTdWJTdHJpbmcoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBjaGFycy5zbGljZShzdGFydCwgZW5kKS5qb2luKCcnKVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FsY0VsbGlwc2lzZWQoKSB7XHJcbiAgICBjb25zdCByb290ID0gcm9vdFJlZi5jdXJyZW50XHJcbiAgICBpZiAoIXJvb3QpIHJldHVyblxyXG4gICAgaWYgKCFyb290Lm9mZnNldFBhcmVudCkgcmV0dXJuXHJcblxyXG4gICAgY29uc3Qgb3JpZ2luU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShyb290KVxyXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGNvbnN0IHN0eWxlTmFtZXM6IHN0cmluZ1tdID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KG9yaWdpblN0eWxlKVxyXG4gICAgc3R5bGVOYW1lcy5mb3JFYWNoKG5hbWUgPT4ge1xyXG4gICAgICBjb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgb3JpZ2luU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKSlcclxuICAgIH0pXHJcbiAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnXHJcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9ICc5OTk5OTlweCdcclxuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSAnOTk5OTk5cHgnXHJcbiAgICBjb250YWluZXIuc3R5bGUuekluZGV4ID0gJy0xMDAwJ1xyXG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICdhdXRvJ1xyXG4gICAgY29udGFpbmVyLnN0eWxlLm1pbkhlaWdodCA9ICdhdXRvJ1xyXG4gICAgY29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9ICdhdXRvJ1xyXG4gICAgY29udGFpbmVyLnN0eWxlLnRleHRPdmVyZmxvdyA9ICdjbGlwJ1xyXG4gICAgY29udGFpbmVyLnN0eWxlLndoaXRlU3BhY2UgPSAnbm9ybWFsJ1xyXG4gICAgY29udGFpbmVyLnN0eWxlLndvcmRCcmVhayA9ICdicmVhay1hbGwnXHJcbiAgICBjb250YWluZXIuc3R5bGUud2Via2l0TGluZUNsYW1wID0gJ3Vuc2V0J1xyXG4gICAgY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcblxyXG4gICAgY29uc3QgbGluZUhlaWdodCA9IHB4VG9OdW1iZXIob3JpZ2luU3R5bGUubGluZUhlaWdodClcclxuICAgIGNvbnN0IG1heEhlaWdodCA9IE1hdGguZmxvb3IoXHJcbiAgICAgIGxpbmVIZWlnaHQgKiAocHJvcHMucm93cyArIDAuNSkgK1xyXG4gICAgICAgIHB4VG9OdW1iZXIob3JpZ2luU3R5bGUucGFkZGluZ1RvcCkgK1xyXG4gICAgICAgIHB4VG9OdW1iZXIob3JpZ2luU3R5bGUucGFkZGluZ0JvdHRvbSlcclxuICAgIClcclxuXHJcbiAgICBjb250YWluZXIuaW5uZXJUZXh0ID0gcHJvcHMuY29udGVudFxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpXHJcblxyXG4gICAgaWYgKGNvbnRhaW5lci5vZmZzZXRIZWlnaHQgPD0gbWF4SGVpZ2h0KSB7XHJcbiAgICAgIHNldEV4Y2VlZGVkKGZhbHNlKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0RXhjZWVkZWQodHJ1ZSlcclxuICAgICAgY29uc3QgZW5kID0gcHJvcHMuY29udGVudC5sZW5ndGhcclxuICAgICAgY29uc3QgYWN0aW9uVGV4dCA9IGV4cGFuZGVkID8gcHJvcHMuY29sbGFwc2VUZXh0IDogcHJvcHMuZXhwYW5kVGV4dFxyXG5cclxuICAgICAgZnVuY3Rpb24gY2hlY2sobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKTogRWxsaXBzaXNlZFZhbHVlIHtcclxuICAgICAgICBpZiAocmlnaHQgLSBsZWZ0IDw9IDEpIHtcclxuICAgICAgICAgIGlmIChwcm9wcy5kaXJlY3Rpb24gPT09ICdlbmQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgbGVhZGluZzogZ2V0U3ViU3RyaW5nKDAsIGxlZnQpICsgJy4uLicsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgdGFpbGluZzogJy4uLicgKyBnZXRTdWJTdHJpbmcocmlnaHQsIGVuZCksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbWlkZGxlID0gTWF0aC5yb3VuZCgobGVmdCArIHJpZ2h0KSAvIDIpXHJcbiAgICAgICAgaWYgKHByb3BzLmRpcmVjdGlvbiA9PT0gJ2VuZCcpIHtcclxuICAgICAgICAgIGNvbnRhaW5lci5pbm5lclRleHQgPSBnZXRTdWJTdHJpbmcoMCwgbWlkZGxlKSArICcuLi4nICsgYWN0aW9uVGV4dFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb250YWluZXIuaW5uZXJUZXh0ID0gYWN0aW9uVGV4dCArICcuLi4nICsgZ2V0U3ViU3RyaW5nKG1pZGRsZSwgZW5kKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29udGFpbmVyLm9mZnNldEhlaWdodCA8PSBtYXhIZWlnaHQpIHtcclxuICAgICAgICAgIGlmIChwcm9wcy5kaXJlY3Rpb24gPT09ICdlbmQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGVjayhtaWRkbGUsIHJpZ2h0KVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrKGxlZnQsIG1pZGRsZSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHByb3BzLmRpcmVjdGlvbiA9PT0gJ2VuZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrKGxlZnQsIG1pZGRsZSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGVjayhtaWRkbGUsIHJpZ2h0KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY2hlY2tNaWRkbGUoXHJcbiAgICAgICAgbGVmdFBhcnQ6IFtudW1iZXIsIG51bWJlcl0sXHJcbiAgICAgICAgcmlnaHRQYXJ0OiBbbnVtYmVyLCBudW1iZXJdXHJcbiAgICAgICk6IEVsbGlwc2lzZWRWYWx1ZSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgbGVmdFBhcnRbMV0gLSBsZWZ0UGFydFswXSA8PSAxICYmXHJcbiAgICAgICAgICByaWdodFBhcnRbMV0gLSByaWdodFBhcnRbMF0gPD0gMVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGVhZGluZzogZ2V0U3ViU3RyaW5nKDAsIGxlZnRQYXJ0WzBdKSArICcuLi4nLFxyXG4gICAgICAgICAgICB0YWlsaW5nOiAnLi4uJyArIGdldFN1YlN0cmluZyhyaWdodFBhcnRbMV0sIGVuZCksXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxlZnRQYXJ0TWlkZGxlID0gTWF0aC5mbG9vcigobGVmdFBhcnRbMF0gKyBsZWZ0UGFydFsxXSkgLyAyKVxyXG4gICAgICAgIGNvbnN0IHJpZ2h0UGFydE1pZGRsZSA9IE1hdGguY2VpbCgocmlnaHRQYXJ0WzBdICsgcmlnaHRQYXJ0WzFdKSAvIDIpXHJcbiAgICAgICAgY29udGFpbmVyLmlubmVyVGV4dCA9XHJcbiAgICAgICAgICBnZXRTdWJTdHJpbmcoMCwgbGVmdFBhcnRNaWRkbGUpICtcclxuICAgICAgICAgICcuLi4nICtcclxuICAgICAgICAgIGFjdGlvblRleHQgK1xyXG4gICAgICAgICAgJy4uLicgK1xyXG4gICAgICAgICAgZ2V0U3ViU3RyaW5nKHJpZ2h0UGFydE1pZGRsZSwgZW5kKVxyXG4gICAgICAgIGlmIChjb250YWluZXIub2Zmc2V0SGVpZ2h0IDw9IG1heEhlaWdodCkge1xyXG4gICAgICAgICAgcmV0dXJuIGNoZWNrTWlkZGxlKFxyXG4gICAgICAgICAgICBbbGVmdFBhcnRNaWRkbGUsIGxlZnRQYXJ0WzFdXSxcclxuICAgICAgICAgICAgW3JpZ2h0UGFydFswXSwgcmlnaHRQYXJ0TWlkZGxlXVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gY2hlY2tNaWRkbGUoXHJcbiAgICAgICAgICAgIFtsZWZ0UGFydFswXSwgbGVmdFBhcnRNaWRkbGVdLFxyXG4gICAgICAgICAgICBbcmlnaHRQYXJ0TWlkZGxlLCByaWdodFBhcnRbMV1dXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBtaWRkbGUgPSBNYXRoLmZsb29yKCgwICsgZW5kKSAvIDIpXHJcbiAgICAgIGNvbnN0IGVsbGlwc2lzZWQgPVxyXG4gICAgICAgIHByb3BzLmRpcmVjdGlvbiA9PT0gJ21pZGRsZSdcclxuICAgICAgICAgID8gY2hlY2tNaWRkbGUoWzAsIG1pZGRsZV0sIFttaWRkbGUsIGVuZF0pXHJcbiAgICAgICAgICA6IGNoZWNrKDAsIGVuZClcclxuICAgICAgc2V0RWxsaXBzaXNlZChlbGxpcHNpc2VkKVxyXG4gICAgfVxyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpXHJcbiAgfVxyXG5cclxuICB1c2VSZXNpemVFZmZlY3QoY2FsY0VsbGlwc2lzZWQsIHJvb3RSZWYpXHJcbiAgdXNlTGF5b3V0RWZmZWN0ICgoKSA9PiB7XHJcbiAgICBjYWxjRWxsaXBzaXNlZCgpXHJcbiAgfSwgW1xyXG4gICAgcHJvcHMuY29udGVudCxcclxuICAgIHByb3BzLmRpcmVjdGlvbixcclxuICAgIHByb3BzLnJvd3MsXHJcbiAgICBwcm9wcy5leHBhbmRUZXh0LFxyXG4gICAgcHJvcHMuY29sbGFwc2VUZXh0LFxyXG4gIF0pXHJcblxyXG4gIGNvbnN0IGV4cGFuZEFjdGlvbkVsZW1lbnQgPVxyXG4gICAgZXhjZWVkZWQgJiYgcHJvcHMuZXhwYW5kVGV4dFxyXG4gICAgICA/IHdpdGhTdG9wUHJvcGFnYXRpb24oXHJcbiAgICAgICAgICBwcm9wcy5zdG9wUHJvcGFnYXRpb25Gb3JBY3Rpb25CdXR0b25zLFxyXG4gICAgICAgICAgPGFcclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNldEV4cGFuZGVkKHRydWUpXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHtwcm9wcy5leHBhbmRUZXh0fVxyXG4gICAgICAgICAgPC9hPlxyXG4gICAgICAgIClcclxuICAgICAgOiBudWxsXHJcblxyXG4gIGNvbnN0IGNvbGxhcHNlQWN0aW9uRWxlbWVudCA9XHJcbiAgICBleGNlZWRlZCAmJiBwcm9wcy5leHBhbmRUZXh0XHJcbiAgICAgID8gd2l0aFN0b3BQcm9wYWdhdGlvbihcclxuICAgICAgICAgIHByb3BzLnN0b3BQcm9wYWdhdGlvbkZvckFjdGlvbkJ1dHRvbnMsXHJcbiAgICAgICAgICA8YVxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgc2V0RXhwYW5kZWQoZmFsc2UpXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHtwcm9wcy5jb2xsYXBzZVRleHR9XHJcbiAgICAgICAgICA8L2E+XHJcbiAgICAgICAgKVxyXG4gICAgICA6IG51bGxcclxuXHJcbiAgY29uc3QgcmVuZGVyQ29udGVudCA9ICgpID0+IHtcclxuICAgIGlmICghZXhjZWVkZWQpIHtcclxuICAgICAgcmV0dXJuIHByb3BzLmNvbnRlbnRcclxuICAgIH1cclxuICAgIGlmIChleHBhbmRlZCkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICB7cHJvcHMuY29udGVudH1cclxuICAgICAgICAgIHtjb2xsYXBzZUFjdGlvbkVsZW1lbnR9XHJcbiAgICAgICAgPC8+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgIHtlbGxpcHNpc2VkLmxlYWRpbmd9XHJcbiAgICAgICAgICB7ZXhwYW5kQWN0aW9uRWxlbWVudH1cclxuICAgICAgICAgIHtlbGxpcHNpc2VkLnRhaWxpbmd9XHJcbiAgICAgICAgPC8+XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB3aXRoTmF0aXZlUHJvcHMoXHJcbiAgICBwcm9wcyxcclxuICAgIDxkaXZcclxuICAgICAgcmVmPXtyb290UmVmfVxyXG4gICAgICBjbGFzc05hbWU9e2NsYXNzUHJlZml4fVxyXG4gICAgICBzdHlsZT17eyB3b3JkQnJlYWs6ICdicmVhay1hbGwnIH19XHJcbiAgICAgIG9uQ2xpY2s9e2UgPT4ge1xyXG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICBwcm9wcy5vbkNvbnRlbnRDbGljayhlKVxyXG4gICAgICAgIH1cclxuICAgICAgfX1cclxuICAgID5cclxuICAgICAge3JlbmRlckNvbnRlbnQoKX1cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuZnVuY3Rpb24gcHhUb051bWJlcih2YWx1ZTogc3RyaW5nIHwgbnVsbCk6IG51bWJlciB7XHJcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIDBcclxuICBjb25zdCBtYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFxkKihcXC5cXGQqKT8vKVxyXG4gIHJldHVybiBtYXRjaCA/IE51bWJlcihtYXRjaFswXSkgOiAwXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEVsbGlwc2lzIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/web/component/common/Ellipsis.tsx\n");

/***/ })

}]);