/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunknocode_platform"] = self["webpackChunknocode_platform"] || []).push([[6516],{

/***/ "./src/web/component/home/HomeContainer.less":
/*!***************************************************!*\
  !*** ./src/web/component/home/HomeContainer.less ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"container\":\"_3sh2aIe2_container\",\"bg_img\":\"_4vGEjwUM_bg_img\",\"main\":\"xaeIbVYZ_main\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9ob21lL0hvbWVDb250YWluZXIubGVzcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1wbGF0Zm9ybS8uL3NyYy93ZWIvY29tcG9uZW50L2hvbWUvSG9tZUNvbnRhaW5lci5sZXNzPzQzMmYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJjb250YWluZXJcIjpcIl8zc2gyYUllMl9jb250YWluZXJcIixcImJnX2ltZ1wiOlwiXzR2R0Vqd1VNX2JnX2ltZ1wiLFwibWFpblwiOlwieGFlSWJWWVpfbWFpblwifTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/component/home/HomeContainer.less\n");

/***/ }),

/***/ "./src/web/component/permission/RoleSetting.less":
/*!*******************************************************!*\
  !*** ./src/web/component/permission/RoleSetting.less ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"bg\":\"Tx1HgS3g_bg\",\"bg_main\":\"_9JkeT9lS_bg_main\",\"form\":\"gvztMGS9_form\",\"operation-setting\":\"UPZBWhOV_operation-setting\",\"hidden\":\"uP9GE+E5_hidden\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL1JvbGVTZXR0aW5nLmxlc3MiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL1JvbGVTZXR0aW5nLmxlc3M/YTRjZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcImJnXCI6XCJUeDFIZ1MzZ19iZ1wiLFwiYmdfbWFpblwiOlwiXzlKa2VUOWxTX2JnX21haW5cIixcImZvcm1cIjpcImd2enRNR1M5X2Zvcm1cIixcIm9wZXJhdGlvbi1zZXR0aW5nXCI6XCJVUFpCV2hPVl9vcGVyYXRpb24tc2V0dGluZ1wiLFwiaGlkZGVuXCI6XCJ1UDlHRStFNV9oaWRkZW5cIn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/web/component/permission/RoleSetting.less\n");

/***/ }),

/***/ "./src/web/component/permission/SideBar.less":
/*!***************************************************!*\
  !*** ./src/web/component/permission/SideBar.less ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"aside\":\"H-nO1sIg_aside\",\"searcher\":\"K4HvYwko_searcher\",\"roles\":\"yFQl4Bru_roles\",\"empty\":\"S8FgG0So_empty\",\"role-item\":\"plkEv-uU_role-item\",\"is-active\":\"fuLSaPWb_is-active\",\"role-name\":\"MFm+eXXH_role-name\",\"pop-active\":\"Xb9UaFmD_pop-active\",\"extra\":\"_2fgEs77+_extra\",\"drag-icon\":\"Zqp3Dl-M_drag-icon\",\"popper\":\"W32AqGtK_popper\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL1NpZGVCYXIubGVzcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1wbGF0Zm9ybS8uL3NyYy93ZWIvY29tcG9uZW50L3Blcm1pc3Npb24vU2lkZUJhci5sZXNzPzA4MWYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJhc2lkZVwiOlwiSC1uTzFzSWdfYXNpZGVcIixcInNlYXJjaGVyXCI6XCJLNEh2WXdrb19zZWFyY2hlclwiLFwicm9sZXNcIjpcInlGUWw0QnJ1X3JvbGVzXCIsXCJlbXB0eVwiOlwiUzhGZ0cwU29fZW1wdHlcIixcInJvbGUtaXRlbVwiOlwicGxrRXYtdVVfcm9sZS1pdGVtXCIsXCJpcy1hY3RpdmVcIjpcImZ1TFNhUFdiX2lzLWFjdGl2ZVwiLFwicm9sZS1uYW1lXCI6XCJNRm0rZVhYSF9yb2xlLW5hbWVcIixcInBvcC1hY3RpdmVcIjpcIlhiOVVhRm1EX3BvcC1hY3RpdmVcIixcImV4dHJhXCI6XCJfMmZnRXM3NytfZXh0cmFcIixcImRyYWctaWNvblwiOlwiWnFwM0RsLU1fZHJhZy1pY29uXCIsXCJwb3BwZXJcIjpcIlczMkFxR3RLX3BvcHBlclwifTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/component/permission/SideBar.less\n");

/***/ }),

/***/ "./src/web/component/permission/rightOfUse/AppPermSetting.less":
/*!*********************************************************************!*\
  !*** ./src/web/component/permission/rightOfUse/AppPermSetting.less ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"setting\":\"_7808LEUd_setting\",\"title\":\"-dgSYDms_title\",\"form-setting\":\"WYzS0mhV_form-setting\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL3JpZ2h0T2ZVc2UvQXBwUGVybVNldHRpbmcubGVzcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1wbGF0Zm9ybS8uL3NyYy93ZWIvY29tcG9uZW50L3Blcm1pc3Npb24vcmlnaHRPZlVzZS9BcHBQZXJtU2V0dGluZy5sZXNzPzZlNTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJzZXR0aW5nXCI6XCJfNzgwOExFVWRfc2V0dGluZ1wiLFwidGl0bGVcIjpcIi1kZ1NZRG1zX3RpdGxlXCIsXCJmb3JtLXNldHRpbmdcIjpcIldZelMwbWhWX2Zvcm0tc2V0dGluZ1wifTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/component/permission/rightOfUse/AppPermSetting.less\n");

/***/ }),

/***/ "./src/web/component/permission/rightOfUse/FormPermSetting.less":
/*!**********************************************************************!*\
  !*** ./src/web/component/permission/rightOfUse/FormPermSetting.less ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"form-auth\":\"U7SzRb9N_form-auth\",\"custom-page-auth\":\"PYdjuZoi_custom-page-auth\",\"custom-page-name\":\"_5+FUDQGc_custom-page-name\",\"custom-page-switch\":\"cwFhcktu_custom-page-switch\",\"no-perm\":\"eU6gOA7A_no-perm\",\"auth-item\":\"lBy+E4+f_auth-item\",\"name\":\"MCZ3Wr4x_name\",\"record-auth\":\"_4qPWJGbh_record-auth\",\"filter\":\"vYs-gqET_filter\",\"is-active\":\"oXLqVT2x_is-active\",\"filter-label-bar\":\"RmOUhENY_filter-label-bar\",\"setting\":\"rtslxjPs_setting\",\"title\":\"F2fWcgZL_title\",\"form-setting\":\"DvHxaCFq_form-setting\",\"hidden\":\"HK1UkPB-_hidden\",\"bizButtonSetting\":\"BpNAJGie_bizButtonSetting\",\"row\":\"sa0lZm+M_row\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL3JpZ2h0T2ZVc2UvRm9ybVBlcm1TZXR0aW5nLmxlc3MiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL3JpZ2h0T2ZVc2UvRm9ybVBlcm1TZXR0aW5nLmxlc3M/YWI5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcImZvcm0tYXV0aFwiOlwiVTdTelJiOU5fZm9ybS1hdXRoXCIsXCJjdXN0b20tcGFnZS1hdXRoXCI6XCJQWWRqdVpvaV9jdXN0b20tcGFnZS1hdXRoXCIsXCJjdXN0b20tcGFnZS1uYW1lXCI6XCJfNStGVURRR2NfY3VzdG9tLXBhZ2UtbmFtZVwiLFwiY3VzdG9tLXBhZ2Utc3dpdGNoXCI6XCJjd0ZoY2t0dV9jdXN0b20tcGFnZS1zd2l0Y2hcIixcIm5vLXBlcm1cIjpcImVVNmdPQTdBX25vLXBlcm1cIixcImF1dGgtaXRlbVwiOlwibEJ5K0U0K2ZfYXV0aC1pdGVtXCIsXCJuYW1lXCI6XCJNQ1ozV3I0eF9uYW1lXCIsXCJyZWNvcmQtYXV0aFwiOlwiXzRxUFdKR2JoX3JlY29yZC1hdXRoXCIsXCJmaWx0ZXJcIjpcInZZcy1ncUVUX2ZpbHRlclwiLFwiaXMtYWN0aXZlXCI6XCJvWExxVlQyeF9pcy1hY3RpdmVcIixcImZpbHRlci1sYWJlbC1iYXJcIjpcIlJtT1VoRU5ZX2ZpbHRlci1sYWJlbC1iYXJcIixcInNldHRpbmdcIjpcInJ0c2x4alBzX3NldHRpbmdcIixcInRpdGxlXCI6XCJGMmZXY2daTF90aXRsZVwiLFwiZm9ybS1zZXR0aW5nXCI6XCJEdkh4YUNGcV9mb3JtLXNldHRpbmdcIixcImhpZGRlblwiOlwiSEsxVWtQQi1faGlkZGVuXCIsXCJiaXpCdXR0b25TZXR0aW5nXCI6XCJCcE5BSkdpZV9iaXpCdXR0b25TZXR0aW5nXCIsXCJyb3dcIjpcInNhMGxabStNX3Jvd1wifTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/component/permission/rightOfUse/FormPermSetting.less\n");

/***/ }),

/***/ "./src/web/component/permission/rightOfUse/index.less":
/*!************************************************************!*\
  !*** ./src/web/component/permission/rightOfUse/index.less ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"right-of-use\":\"pVT4jUkh_right-of-use\",\"operation-setting\":\"PPefB9lA_operation-setting\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL3JpZ2h0T2ZVc2UvaW5kZXgubGVzcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1wbGF0Zm9ybS8uL3NyYy93ZWIvY29tcG9uZW50L3Blcm1pc3Npb24vcmlnaHRPZlVzZS9pbmRleC5sZXNzP2ZlMjMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJyaWdodC1vZi11c2VcIjpcInBWVDRqVWtoX3JpZ2h0LW9mLXVzZVwiLFwib3BlcmF0aW9uLXNldHRpbmdcIjpcIlBQZWZCOWxBX29wZXJhdGlvbi1zZXR0aW5nXCJ9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/component/permission/rightOfUse/index.less\n");

/***/ }),

/***/ "./src/web/pages/admin/permission/AdminPermissionPage.less":
/*!*****************************************************************!*\
  !*** ./src/web/pages/admin/permission/AdminPermissionPage.less ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"wrapper\":\"O5iM66b+_wrapper\",\"role-item\":\"_10gFKvcz_role-item\",\"extra\":\"_4ZXSf5B-_extra\",\"role-name\":\"FmxUjSdg_role-name\",\"drag-icon\":\"ZBmAX4bi_drag-icon\",\"title-more\":\"Q56ul5XT_title-more\",\"title-drag\":\"qgSPImSR_title-drag\",\"title\":\"DYV44+u-_title\",\"title-icon\":\"sPJrAaBV_title-icon\",\"delete_content\":\"tineTX0e_delete_content\",\"desc\":\"LDV2utUZ_desc\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL3BhZ2VzL2FkbWluL3Blcm1pc3Npb24vQWRtaW5QZXJtaXNzaW9uUGFnZS5sZXNzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLXBsYXRmb3JtLy4vc3JjL3dlYi9wYWdlcy9hZG1pbi9wZXJtaXNzaW9uL0FkbWluUGVybWlzc2lvblBhZ2UubGVzcz9mYWJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wid3JhcHBlclwiOlwiTzVpTTY2Yitfd3JhcHBlclwiLFwicm9sZS1pdGVtXCI6XCJfMTBnRkt2Y3pfcm9sZS1pdGVtXCIsXCJleHRyYVwiOlwiXzRaWFNmNUItX2V4dHJhXCIsXCJyb2xlLW5hbWVcIjpcIkZteFVqU2RnX3JvbGUtbmFtZVwiLFwiZHJhZy1pY29uXCI6XCJaQm1BWDRiaV9kcmFnLWljb25cIixcInRpdGxlLW1vcmVcIjpcIlE1NnVsNVhUX3RpdGxlLW1vcmVcIixcInRpdGxlLWRyYWdcIjpcInFnU1BJbVNSX3RpdGxlLWRyYWdcIixcInRpdGxlXCI6XCJEWVY0NCt1LV90aXRsZVwiLFwidGl0bGUtaWNvblwiOlwic1BKckFhQlZfdGl0bGUtaWNvblwiLFwiZGVsZXRlX2NvbnRlbnRcIjpcInRpbmVUWDBlX2RlbGV0ZV9jb250ZW50XCIsXCJkZXNjXCI6XCJMRFYydXRVWl9kZXNjXCJ9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/pages/admin/permission/AdminPermissionPage.less\n");

/***/ }),

/***/ "./src/hooks/useDragSort.js":
/*!**********************************!*\
  !*** ./src/hooks/useDragSort.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _Object$keys = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js\");\nvar _Object$getOwnPropertySymbols = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js\");\nvar _filterInstanceProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _Object$getOwnPropertyDescriptors = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js\");\nvar _Object$defineProperties = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useDragSort;\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ \"../../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = _Object$keys(e); if (_Object$getOwnPropertySymbols) { var o = _Object$getOwnPropertySymbols(e); r && (o = _filterInstanceProperty(o).call(o, function (r) { return _Object$getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(e, _Object$getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { _Object$defineProperty(e, r, _Object$getOwnPropertyDescriptor(t, r)); }); } return e; } /*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-11-07 13:41:07\n * @LastEditTime: 2023-01-09 19:17:11\n * @Last Modified by: jianhang_he\n */\nvar dataTopDragStyle = 'data-top-drag-style';\nvar dataBottomDragStyle = 'data-bottom-drag-style';\nvar dataDragging = 'data-dragging';\nvar dataDragKey = 'data-drag-key';\n\n// 拖拽样式的自定义属性\nvar dragDatasetProps = [dataTopDragStyle, dataBottomDragStyle];\n\n// 移除相应属性\nvar removeAllDragDatasetStyle = function removeAllDragDatasetStyle(dom) {\n  dragDatasetProps.forEach(function (datasetProp) {\n    return dom.removeAttribute(datasetProp);\n  });\n};\nvar addClass = function addClass(element) {\n  var draggingDom = document.querySelector(\"[\".concat(dataDragging, \"]\"));\n  var sourceIndex = draggingDom.getAttribute(dataDragKey);\n  var destinationIndex = element.getAttribute(dataDragKey);\n  if (+sourceIndex > +destinationIndex) {\n    element.setAttribute(dataTopDragStyle, true);\n  } else {\n    element.setAttribute(dataBottomDragStyle, true);\n  }\n};\nvar removeClass = function removeClass(element) {\n  removeAllDragDatasetStyle(element);\n};\n\n// let cloneDraggaleWrapperElement = null\n// const cloneDraggableElement = (element) => {\n//   const curElementCssText = window.getComputedStyle(element, null).cssText\n//   // const { width, height } = element.getBoundingClientRect()\n\n//   const cloneElement = element.cloneNode(true)\n//   cloneElement.style.cssText = curElementCssText\n\n//   cloneDraggaleWrapperElement = document.createElement('div')\n//   cloneDraggaleWrapperElement.style.cssText += `;opacity: 1;width:0;height:0;position:absolute;right:9999px;z-index: 99999;background:${cloneElement.style.backgroundColor}`\n\n//   cloneDraggaleWrapperElement.appendChild(cloneElement)\n//   document.body.appendChild(cloneDraggaleWrapperElement)\n\n//   return cloneDraggaleWrapperElement\n// }\n\n// const removeDraggaleElement = () => {\n//   cloneDraggaleWrapperElement && document.body.removeChild(cloneDraggaleWrapperElement)\n// }\n\nfunction useDragSort() {\n  var dragEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var onDragStart = dragEvent.onDragStart,\n    onDragEnter = dragEvent.onDragEnter,\n    onDragLeave = dragEvent.onDragLeave,\n    onDragOver = dragEvent.onDragOver,\n    onDragEnd = dragEvent.onDragEnd,\n    onDrop = dragEvent.onDrop;\n\n  /**\n   * 拖拽开始\n   * @param {*} e\n   */\n  var handleDragStart = function handleDragStart(e) {\n    e.stopPropagation();\n    // e.dataTransfer.effectAllowed = 'move'\n\n    var target = e.currentTarget;\n    // target.style.opacity = 1\n    target.setAttribute(dataDragging, true);\n    var key = target.getAttribute(dataDragKey);\n    // IE下的setData只支持key为text或者Text。因此这里做了兼容\n    e.dataTransfer.setData('text', key);\n\n    // IE不支持setDragImage，默认是拖拽元素的本身\n    // if (e.dataTransfer.setDragImage) {\n    //   const cloneElement = cloneDraggableElement(target)\n    //   e.dataTransfer.setDragImage(cloneElement, 20, 20)\n    // }\n\n    onDragStart === null || onDragStart === void 0 || onDragStart(e);\n  };\n  var handleDragOver = function handleDragOver(e) {\n    e.preventDefault();\n    // e.dataTransfer.dropEffect = 'move'\n\n    onDragOver === null || onDragOver === void 0 || onDragOver(e);\n  };\n  var handleDragEnter = function handleDragEnter(e) {\n    var target = e.currentTarget;\n    addClass(target);\n    onDragEnter === null || onDragEnter === void 0 || onDragEnter(e);\n  };\n  var handleDragLeave = function handleDragLeave(e) {\n    var target = e.currentTarget;\n    removeClass(target);\n    onDragLeave === null || onDragLeave === void 0 || onDragLeave(e);\n  };\n  var handleDragEnd = function handleDragEnd(e) {\n    var target = e.currentTarget;\n    target.removeAttribute(dataDragging);\n    target.style.opacity = '';\n    onDragEnd === null || onDragEnd === void 0 || onDragEnd(e);\n\n    // removeDraggaleElement()\n  };\n  var handleDrop = function handleDrop(e) {\n    var sourceIndex = e.dataTransfer.getData('text');\n    var target = e.currentTarget;\n    console.log('target', target);\n    var destinationIndex = target === null || target === void 0 ? void 0 : target.getAttribute(dataDragKey);\n    onDrop === null || onDrop === void 0 || onDrop(e, {\n      sourceIndex: sourceIndex,\n      destinationIndex: destinationIndex\n    });\n    removeClass(target);\n  };\n  var event = {\n    onDragStart: handleDragStart,\n    onDragEnter: handleDragEnter,\n    onDragLeave: handleDragLeave,\n    onDragOver: handleDragOver,\n    onDragEnd: handleDragEnd,\n    onDrop: handleDrop\n  };\n  var dragDropEvent = function dragDropEvent(key) {\n    return _objectSpread(_objectSpread({}, event), {}, (0, _defineProperty2.default)({\n      draggable: true\n    }, dataDragKey, key));\n  };\n\n  // useEffect(() => {\n  //   return () => {\n  //     removeDraggaleElement()\n  //   }\n  // }, [])\n\n  return {\n    dragDropEvent: dragDropEvent\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlRHJhZ1NvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi9zcmMvaG9va3MvdXNlRHJhZ1NvcnQuanM/YzAwMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTExLTA3IDEzOjQxOjA3XG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTAxLTA5IDE5OjE3OjExXG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5cbmNvbnN0IGRhdGFUb3BEcmFnU3R5bGUgPSAnZGF0YS10b3AtZHJhZy1zdHlsZSdcbmNvbnN0IGRhdGFCb3R0b21EcmFnU3R5bGUgPSAnZGF0YS1ib3R0b20tZHJhZy1zdHlsZSdcbmNvbnN0IGRhdGFEcmFnZ2luZyA9ICdkYXRhLWRyYWdnaW5nJ1xuY29uc3QgZGF0YURyYWdLZXkgPSAnZGF0YS1kcmFnLWtleSdcblxuLy8g5ouW5ou95qC35byP55qE6Ieq5a6a5LmJ5bGe5oCnXG5jb25zdCBkcmFnRGF0YXNldFByb3BzID0gW2RhdGFUb3BEcmFnU3R5bGUsIGRhdGFCb3R0b21EcmFnU3R5bGVdXG5cbi8vIOenu+mZpOebuOW6lOWxnuaAp1xuY29uc3QgcmVtb3ZlQWxsRHJhZ0RhdGFzZXRTdHlsZSA9IChkb20pID0+IHtcbiAgZHJhZ0RhdGFzZXRQcm9wcy5mb3JFYWNoKChkYXRhc2V0UHJvcCkgPT4gZG9tLnJlbW92ZUF0dHJpYnV0ZShkYXRhc2V0UHJvcCkpXG59XG5cbmNvbnN0IGFkZENsYXNzID0gKGVsZW1lbnQpID0+IHtcbiAgY29uc3QgZHJhZ2dpbmdEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbJHtkYXRhRHJhZ2dpbmd9XWApXG4gIGNvbnN0IHNvdXJjZUluZGV4ID0gZHJhZ2dpbmdEb20uZ2V0QXR0cmlidXRlKGRhdGFEcmFnS2V5KVxuICBjb25zdCBkZXN0aW5hdGlvbkluZGV4ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoZGF0YURyYWdLZXkpXG5cbiAgaWYgKCtzb3VyY2VJbmRleCA+ICtkZXN0aW5hdGlvbkluZGV4KSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoZGF0YVRvcERyYWdTdHlsZSwgdHJ1ZSlcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShkYXRhQm90dG9tRHJhZ1N0eWxlLCB0cnVlKVxuICB9XG59XG5cbmNvbnN0IHJlbW92ZUNsYXNzID0gKGVsZW1lbnQpID0+IHtcbiAgcmVtb3ZlQWxsRHJhZ0RhdGFzZXRTdHlsZShlbGVtZW50KVxufVxuXG4vLyBsZXQgY2xvbmVEcmFnZ2FsZVdyYXBwZXJFbGVtZW50ID0gbnVsbFxuLy8gY29uc3QgY2xvbmVEcmFnZ2FibGVFbGVtZW50ID0gKGVsZW1lbnQpID0+IHtcbi8vICAgY29uc3QgY3VyRWxlbWVudENzc1RleHQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKS5jc3NUZXh0XG4vLyAgIC8vIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4vLyAgIGNvbnN0IGNsb25lRWxlbWVudCA9IGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpXG4vLyAgIGNsb25lRWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gY3VyRWxlbWVudENzc1RleHRcblxuLy8gICBjbG9uZURyYWdnYWxlV3JhcHBlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuLy8gICBjbG9uZURyYWdnYWxlV3JhcHBlckVsZW1lbnQuc3R5bGUuY3NzVGV4dCArPSBgO29wYWNpdHk6IDE7d2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo5OTk5cHg7ei1pbmRleDogOTk5OTk7YmFja2dyb3VuZDoke2Nsb25lRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3J9YFxuXG4vLyAgIGNsb25lRHJhZ2dhbGVXcmFwcGVyRWxlbWVudC5hcHBlbmRDaGlsZChjbG9uZUVsZW1lbnQpXG4vLyAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2xvbmVEcmFnZ2FsZVdyYXBwZXJFbGVtZW50KVxuXG4vLyAgIHJldHVybiBjbG9uZURyYWdnYWxlV3JhcHBlckVsZW1lbnRcbi8vIH1cblxuLy8gY29uc3QgcmVtb3ZlRHJhZ2dhbGVFbGVtZW50ID0gKCkgPT4ge1xuLy8gICBjbG9uZURyYWdnYWxlV3JhcHBlckVsZW1lbnQgJiYgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjbG9uZURyYWdnYWxlV3JhcHBlckVsZW1lbnQpXG4vLyB9XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZURyYWdTb3J0IChcbiAgZHJhZ0V2ZW50ID0ge31cbikge1xuICBjb25zdCB7XG4gICAgb25EcmFnU3RhcnQsXG4gICAgb25EcmFnRW50ZXIsXG4gICAgb25EcmFnTGVhdmUsXG4gICAgb25EcmFnT3ZlcixcbiAgICBvbkRyYWdFbmQsXG4gICAgb25Ecm9wXG4gIH0gPSBkcmFnRXZlbnRcblxuICAvKipcbiAgICog5ouW5ou95byA5aeLXG4gICAqIEBwYXJhbSB7Kn0gZVxuICAgKi9cbiAgY29uc3QgaGFuZGxlRHJhZ1N0YXJ0ID0gKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgLy8gZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJ1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0XG4gICAgLy8gdGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSAxXG4gICAgdGFyZ2V0LnNldEF0dHJpYnV0ZShkYXRhRHJhZ2dpbmcsIHRydWUpXG5cbiAgICBjb25zdCBrZXkgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKGRhdGFEcmFnS2V5KVxuICAgIC8vIElF5LiL55qEc2V0RGF0YeWPquaUr+aMgWtleeS4unRleHTmiJbogIVUZXh044CC5Zug5q2k6L+Z6YeM5YGa5LqG5YW85a65XG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dCcsIGtleSlcblxuICAgIC8vIElF5LiN5pSv5oyBc2V0RHJhZ0ltYWdl77yM6buY6K6k5piv5ouW5ou95YWD57Sg55qE5pys6LqrXG4gICAgLy8gaWYgKGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSkge1xuICAgIC8vICAgY29uc3QgY2xvbmVFbGVtZW50ID0gY2xvbmVEcmFnZ2FibGVFbGVtZW50KHRhcmdldClcbiAgICAvLyAgIGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShjbG9uZUVsZW1lbnQsIDIwLCAyMClcbiAgICAvLyB9XG5cbiAgICBvbkRyYWdTdGFydD8uKGUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVEcmFnT3ZlciA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgLy8gZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJ1xuXG4gICAgb25EcmFnT3Zlcj8uKGUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVEcmFnRW50ZXIgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldFxuICAgIGFkZENsYXNzKHRhcmdldClcblxuICAgIG9uRHJhZ0VudGVyPy4oZSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZURyYWdMZWF2ZSA9IChlKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0XG4gICAgcmVtb3ZlQ2xhc3ModGFyZ2V0KVxuXG4gICAgb25EcmFnTGVhdmU/LihlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRHJhZ0VuZCA9IChlKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0XG4gICAgdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShkYXRhRHJhZ2dpbmcpXG4gICAgdGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSAnJ1xuICAgIG9uRHJhZ0VuZD8uKGUpXG5cbiAgICAvLyByZW1vdmVEcmFnZ2FsZUVsZW1lbnQoKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRHJvcCA9IChlKSA9PiB7XG4gICAgY29uc3Qgc291cmNlSW5kZXggPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0JylcblxuICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldFxuICAgIGNvbnNvbGUubG9nKCd0YXJnZXQnLCB0YXJnZXQpXG4gICAgY29uc3QgZGVzdGluYXRpb25JbmRleCA9IHRhcmdldD8uZ2V0QXR0cmlidXRlKGRhdGFEcmFnS2V5KVxuXG4gICAgb25Ecm9wPy4oZSwge1xuICAgICAgc291cmNlSW5kZXgsXG4gICAgICBkZXN0aW5hdGlvbkluZGV4XG4gICAgfSlcblxuICAgIHJlbW92ZUNsYXNzKHRhcmdldClcbiAgfVxuXG4gIGNvbnN0IGV2ZW50ID0ge1xuICAgIG9uRHJhZ1N0YXJ0OiBoYW5kbGVEcmFnU3RhcnQsXG4gICAgb25EcmFnRW50ZXI6IGhhbmRsZURyYWdFbnRlcixcbiAgICBvbkRyYWdMZWF2ZTogaGFuZGxlRHJhZ0xlYXZlLFxuICAgIG9uRHJhZ092ZXI6IGhhbmRsZURyYWdPdmVyLFxuICAgIG9uRHJhZ0VuZDogaGFuZGxlRHJhZ0VuZCxcbiAgICBvbkRyb3A6IGhhbmRsZURyb3BcbiAgfVxuXG4gIGNvbnN0IGRyYWdEcm9wRXZlbnQgPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmV2ZW50LFxuICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgW2RhdGFEcmFnS2V5XToga2V5XG4gICAgfVxuICB9XG5cbiAgLy8gdXNlRWZmZWN0KCgpID0+IHtcbiAgLy8gICByZXR1cm4gKCkgPT4ge1xuICAvLyAgICAgcmVtb3ZlRHJhZ2dhbGVFbGVtZW50KClcbiAgLy8gICB9XG4gIC8vIH0sIFtdKVxuXG4gIHJldHVybiB7XG4gICAgZHJhZ0Ryb3BFdmVudFxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/hooks/useDragSort.js\n");

/***/ }),

/***/ "./src/web/component/home/HomeContainer.tsx":
/*!**************************************************!*\
  !*** ./src/web/component/home/HomeContainer.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _container_bg_img = _interopRequireDefault(__webpack_require__(/*! @@/assets/img/container_bg_img.png */ \"./assets/img/container_bg_img.png\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _HomeContainer = _interopRequireDefault(__webpack_require__(/*! ./HomeContainer.less */ \"./src/web/component/home/HomeContainer.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nvar Container = (0, _react.memo)(function (_ref) {\n  var children = _ref.children,\n    className = _ref.className,\n    mainClassName = _ref.mainClassName;\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: (0, _classnames.default)(className, _HomeContainer.default.container)\n  }, /*#__PURE__*/_react.default.createElement(\"img\", {\n    src: _container_bg_img.default,\n    className: _HomeContainer.default.bg_img,\n    width: \"100%\",\n    height: 520\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: (0, _classnames.default)(mainClassName, _HomeContainer.default.main)\n  }, children));\n});\nContainer.displayName = 'BgContainer';\nvar _default = exports[\"default\"] = Container;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9ob21lL0hvbWVDb250YWluZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBUUE7QUFJQTtBQUZBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUtBO0FBRUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1wbGF0Zm9ybS8uL3NyYy93ZWIvY29tcG9uZW50L2hvbWUvSG9tZUNvbnRhaW5lci50c3g/ZmE3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgbWVtbywgRkMgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBjb250YWluZXJCZ0ltYWdlIGZyb20gJ0BAL2Fzc2V0cy9pbWcvY29udGFpbmVyX2JnX2ltZy5wbmcnXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL0hvbWVDb250YWluZXIubGVzcydcblxuaW50ZXJmYWNlIENvbnRhaW5lckFwaSB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUsXG4gIGNsYXNzTmFtZT86IHN0cmluZyxcbiAgbWFpbkNsYXNzTmFtZT86IHN0cmluZ1xufVxuXG5jb25zdCBDb250YWluZXI6IEZDPENvbnRhaW5lckFwaT4gPSBtZW1vKCh7XG4gIGNoaWxkcmVuLFxuICBjbGFzc05hbWUsXG4gIG1haW5DbGFzc05hbWVcbn0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc05hbWUsIHN0eWxlcy5jb250YWluZXIpfT5cbiAgICAgIDxpbWcgc3JjPXtjb250YWluZXJCZ0ltYWdlfSBjbGFzc05hbWU9e3N0eWxlcy5iZ19pbWd9IHdpZHRoPScxMDAlJyBoZWlnaHQ9ezUyMH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKG1haW5DbGFzc05hbWUsIHN0eWxlcy5tYWluKX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59KVxuXG5Db250YWluZXIuZGlzcGxheU5hbWUgPSAnQmdDb250YWluZXInXG5cbmV4cG9ydCBkZWZhdWx0IENvbnRhaW5lclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/web/component/home/HomeContainer.tsx\n");

/***/ }),

/***/ "./src/web/component/permission/RoleSetting.tsx":
/*!******************************************************!*\
  !*** ./src/web/component/permission/RoleSetting.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _Object$keys2 = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js\");\nvar _Object$getOwnPropertySymbols = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js\");\nvar _filterInstanceProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _Object$getOwnPropertyDescriptors = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js\");\nvar _Object$defineProperties = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/regenerator */ \"../../node_modules/@babel/runtime-corejs3/regenerator/index.js\"));\nvar _promise = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/promise.js\"));\nvar _values = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/values */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/values.js\"));\nvar _setTimeout2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/set-timeout.js\"));\nvar _keys = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js\"));\nvar _reduce = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/reduce.js\"));\nvar _trim = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/trim */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/trim.js\"));\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ \"../../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js\"));\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime-corejs3/helpers/asyncToGenerator.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _kdesign = __webpack_require__(/*! kd_libs/kdesign1 */ \"webpack/container/remote/kd_libs/kdesign1\");\nvar _PersonAuthorize = _interopRequireDefault(__webpack_require__(/*! ./PersonAuthorize */ \"./src/web/component/permission/PersonAuthorize.tsx\"));\nvar _admin = __webpack_require__(/*! @/actions/admin */ \"./src/actions/admin.js\");\nvar _OrgAuthorize = _interopRequireDefault(__webpack_require__(/*! ./OrgAuthorize */ \"./src/web/component/permission/OrgAuthorize.tsx\"));\nvar _index = _interopRequireWildcard(__webpack_require__(/*! ./rightOfUse/index */ \"./src/web/component/permission/rightOfUse/index.tsx\"));\nvar _AppPermSetting = _interopRequireWildcard(__webpack_require__(/*! ./rightOfUse/AppPermSetting */ \"./src/web/component/permission/rightOfUse/AppPermSetting.tsx\"));\nvar _FormPermSetting = _interopRequireWildcard(__webpack_require__(/*! ./rightOfUse/FormPermSetting */ \"./src/web/component/permission/rightOfUse/FormPermSetting.tsx\"));\nvar _utils = __webpack_require__(/*! @/utils */ \"./src/utils/index.tsx\");\nvar _reducer = __webpack_require__(/*! @/utils/reducer */ \"./src/utils/reducer.ts\");\nvar _RoleSetting = _interopRequireDefault(__webpack_require__(/*! ./RoleSetting.less */ \"./src/web/component/permission/RoleSetting.less\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _lodash = __webpack_require__(/*! kd_libs/lodash */ \"webpack/container/remote/kd_libs/lodash\");\nvar _HomeContainer = _interopRequireDefault(__webpack_require__(/*! ../../component/home/HomeContainer */ \"./src/web/component/home/HomeContainer.tsx\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = _Object$keys2(e); if (_Object$getOwnPropertySymbols) { var o = _Object$getOwnPropertySymbols(e); r && (o = _filterInstanceProperty(o).call(o, function (r) { return _Object$getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(e, _Object$getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { _Object$defineProperty(e, r, _Object$getOwnPropertyDescriptor(t, r)); }); } return e; }\n// 将管理权转换成字符串，true => '0'， false => '1'\nvar transformManageToStr = function transformManageToStr(flag) {\n  return flag ? MANAGE_TYPE_ALL : MANAGE_TYPE_NONE;\n};\nvar transformData = function transformData(rolePermission) {\n  var _rolePermission$name = rolePermission.name,\n    name = _rolePermission$name === void 0 ? '' : _rolePermission$name,\n    _rolePermission$desc = rolePermission.desc,\n    desc = _rolePermission$desc === void 0 ? '' : _rolePermission$desc,\n    _rolePermission$users = rolePermission.users,\n    users = _rolePermission$users === void 0 ? [] : _rolePermission$users,\n    id = rolePermission.id,\n    manage = rolePermission.manage,\n    useType = rolePermission.useType,\n    _rolePermission$orgs = rolePermission.orgs,\n    orgs = _rolePermission$orgs === void 0 ? [] : _rolePermission$orgs;\n  return {\n    id: id,\n    name: name,\n    desc: desc,\n    users: users,\n    orgs: orgs,\n    useType: useType,\n    manage: manage ? MANAGE_TYPE_ALL : MANAGE_TYPE_NONE\n  };\n};\nvar MANAGE_TYPE_ALL = '0';\nvar MANAGE_TYPE_NONE = '1';\nvar MANAGE_OPTIONS = [{\n  label: '拥有应用的全部管理权',\n  value: MANAGE_TYPE_ALL\n}, {\n  label: '无',\n  value: MANAGE_TYPE_NONE\n}];\nvar RoleSetting = function RoleSetting(_ref) {\n  var formList = _ref.formList,\n    appId = _ref.appId,\n    creatorId = _ref.creatorId,\n    rolePermission = _ref.rolePermission,\n    onAfterSave = _ref.onAfterSave,\n    setRolePermission = _ref.setRolePermission;\n  var _Form$useForm = _kdesign.Form.useForm(),\n    _Form$useForm2 = (0, _slicedToArray2.default)(_Form$useForm, 1),\n    form = _Form$useForm2[0];\n  var _useReducer = (0, _react.useReducer)(_reducer.assignDataReducer, transformData(rolePermission)),\n    _useReducer2 = (0, _slicedToArray2.default)(_useReducer, 2),\n    formData = _useReducer2[0],\n    dispatchFormData = _useReducer2[1];\n  var formPermSettingRef = (0, _react.useRef)(null);\n  var appPermSettingRef = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)(false),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    formPermEmpty = _useState2[0],\n    setFormPermEmpty = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    appPermEmpty = _useState4[0],\n    setAppPermEmpty = _useState4[1];\n  var _useState5 = (0, _react.useState)(true),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    formPermEqual = _useState6[0],\n    setFormPermEqual = _useState6[1];\n  var _useState7 = (0, _react.useState)(true),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    appPermEqual = _useState8[0],\n    setAppPermEqual = _useState8[1];\n  var isUseTypeDisabled = formData.manage === '0';\n  var isAdmin = !!rolePermission.system;\n  var isSaveRef = (0, _react.useRef)(false);\n  var validateFields = function validateFields() {\n    return new _promise.default(function (resolve, reject) {\n      form.validateFields().then(function (_ref2) {\n        var values = (0, _values.default)(_ref2);\n        resolve(values);\n      }).catch(function (e) {\n        return reject(e);\n      });\n    });\n  };\n  var handleSave = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(paramObj) {\n      var param, closeMessage, _yield$saveRole, failCount, result, _result$, _roleId, newRolePermission, message;\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            param = {\n              data: [paramObj]\n            };\n            isSaveRef.current = true;\n            closeMessage = (0, _utils.showLoadingMessage)('保存中，请稍候...');\n            _context.prev = 3;\n            _context.next = 6;\n            return (0, _admin.saveRole)(param);\n          case 6:\n            _yield$saveRole = _context.sent;\n            failCount = _yield$saveRole.failCount;\n            result = _yield$saveRole.result;\n            isSaveRef.current = false;\n            if (failCount === '0') {\n              closeMessage({\n                type: 'success',\n                content: '保存成功'\n              });\n              _roleId = result === null || result === void 0 || (_result$ = result[0]) === null || _result$ === void 0 ? void 0 : _result$.id;\n              onAfterSave(_roleId);\n              newRolePermission = _objectSpread(_objectSpread({}, paramObj), {}, {\n                id: _roleId,\n                system: rolePermission.system\n              });\n              setRolePermission(newRolePermission);\n            }\n            _context.next = 19;\n            break;\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](3);\n            isSaveRef.current = false;\n            console.log(_context.t0);\n            message = _context.t0.message;\n            closeMessage({\n              type: 'error',\n              content: message,\n              duration: 0\n            });\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[3, 13]]);\n    }));\n    return function handleSave(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleConfirm = function handleConfirm() {\n    if (useEmpty) {\n      return (0, _utils.showNotice)('error', '应用使用权不能为空');\n    }\n    if (isSaveRef.current) return;\n    validateFields().then(function (formData) {\n      console.log('formData-----', formData);\n      var useType = formData.useType,\n        name = formData.name,\n        desc = formData.desc,\n        manage = formData.manage,\n        users = formData.users,\n        orgs = formData.orgs;\n      var id = rolePermission.id,\n        appId = rolePermission.appId,\n        seq = rolePermission.seq;\n      var paramObj = {\n        name: name,\n        desc: desc,\n        appId: appId,\n        manage: manage === MANAGE_TYPE_ALL,\n        users: users,\n        orgs: orgs,\n        useType: useType\n      };\n      if (id) {\n        paramObj.id = id;\n      }\n      // if (seq !== undefined) {\n      //   paramObj.seq = seq\n      // }\n      if (useType === _index.USE_TYPE_CUSTOM) {\n        var formPerm = formPermSettingRef.current.formPerm;\n        console.log('formPerm----', formPerm);\n        paramObj.formPerm = formPerm;\n      }\n      if (useType === _index.USE_TYPE_SELF) {\n        var _appPerm = appPermSettingRef.current.appPerm;\n        paramObj.appPerm = _appPerm;\n      }\n      console.log('params-----', paramObj);\n      handleSave(paramObj);\n    }).catch(function (e) {\n      console.warn(e);\n      var message = e.message;\n      (0, _utils.showNotice)('error', message);\n    });\n  };\n  var handleUsersChange = function handleUsersChange(value) {\n    dispatchFormData({\n      users: value\n    });\n  };\n  var handleOrgsChange = function handleOrgsChange(value) {\n    dispatchFormData({\n      orgs: value\n    });\n  };\n  var handleManageChange = function handleManageChange(value) {\n    var useType = formData.useType;\n    if (value === MANAGE_TYPE_ALL && useType !== _index.USE_TYPE_ALL) {\n      // 拥有应用的全部管理权，则应用使用权要相应更改为“可以使用所有表单记录”\n      dispatchFormData({\n        manage: value,\n        useType: _index.USE_TYPE_ALL\n      });\n      form.setFieldsValue({\n        manage: value,\n        useType: _index.USE_TYPE_ALL\n      });\n    } else {\n      dispatchFormData({\n        manage: value\n      });\n    }\n  };\n  (0, _react.useEffect)(function () {\n    var newFormData = transformData(rolePermission);\n    var name = newFormData.name,\n      desc = newFormData.desc,\n      manage = newFormData.manage,\n      useType = newFormData.useType,\n      users = newFormData.users,\n      orgs = newFormData.orgs;\n    dispatchFormData(newFormData);\n    form.setFieldsValue({\n      name: name,\n      desc: desc,\n      manage: manage,\n      useType: useType,\n      users: users,\n      orgs: orgs\n    });\n  }, [rolePermission]);\n\n  // 这个变量用于判断表单是否被更改过\n  var btnDisabled = (0, _react.useMemo)(function () {\n    var name = formData.name,\n      desc = formData.desc,\n      _formData$users = formData.users,\n      users = _formData$users === void 0 ? [] : _formData$users,\n      manage = formData.manage,\n      useType = formData.useType,\n      id = formData.id,\n      _formData$orgs = formData.orgs,\n      orgs = _formData$orgs === void 0 ? [] : _formData$orgs;\n    var oldName = rolePermission.name,\n      oldDesc = rolePermission.desc,\n      _rolePermission$users2 = rolePermission.users,\n      oldUsers = _rolePermission$users2 === void 0 ? [] : _rolePermission$users2,\n      _rolePermission$orgs2 = rolePermission.orgs,\n      oldOrgs = _rolePermission$orgs2 === void 0 ? [] : _rolePermission$orgs2,\n      oldManage = rolePermission.manage,\n      oldUseType = rolePermission.useType,\n      oldId = rolePermission.id;\n    if (id !== oldId) return true;\n    return name === oldName && desc === oldDesc && (0, _lodash.isEqual)(users, oldUsers) && (0, _lodash.isEqual)(orgs, oldOrgs) && manage === transformManageToStr(oldManage) && useType === oldUseType && formPermEqual && appPermEqual;\n  }, [formData, rolePermission, formPermEqual, appPermEqual]);\n  var handleCancel = function handleCancel() {\n    if (isSaveRef.current) return;\n    var name = rolePermission.name,\n      desc = rolePermission.desc,\n      _rolePermission$users3 = rolePermission.users,\n      users = _rolePermission$users3 === void 0 ? [] : _rolePermission$users3,\n      useType = rolePermission.useType,\n      manage = rolePermission.manage,\n      _rolePermission$orgs3 = rolePermission.orgs,\n      orgs = _rolePermission$orgs3 === void 0 ? [] : _rolePermission$orgs3;\n    // const { useType } = formData\n    dispatchFormData({\n      name: name,\n      desc: desc,\n      users: users,\n      orgs: orgs,\n      useType: useType,\n      manage: transformManageToStr(manage)\n    });\n    form.setFieldsValue({\n      name: name,\n      desc: desc,\n      users: users,\n      orgs: orgs,\n      useType: useType,\n      manage: transformManageToStr(manage)\n    });\n    if (useType === _index.USE_TYPE_CUSTOM) {\n      (0, _setTimeout2.default)(function () {\n        var dispatchSetting = formPermSettingRef.current.dispatchSetting;\n        dispatchSetting === null || dispatchSetting === void 0 || dispatchSetting({\n          type: 'MERGE',\n          payload: formPermSetting\n        });\n      });\n    }\n    if (useType === _index.USE_TYPE_SELF) {\n      (0, _setTimeout2.default)(function () {\n        var dispatchSetting = appPermSettingRef.current.dispatchSetting;\n        dispatchSetting === null || dispatchSetting === void 0 || dispatchSetting((0, _AppPermSetting.transformAppPerm)(appPerm));\n      });\n    }\n  };\n  var handleAppPermChange = function handleAppPermChange(data) {\n    var funcPermSet = data.funcPermSet;\n    setAppPermEmpty(!(funcPermSet !== null && funcPermSet !== void 0 && funcPermSet.length));\n  };\n  var handleFormPermChange = function handleFormPermChange(data) {\n    var isEmpty = (0, _keys.default)(data).every(function (formId) {\n      var _ref4 = data[formId] || {},\n        _ref4$funcPermSet = _ref4.funcPermSet,\n        funcPermSet = _ref4$funcPermSet === void 0 ? [] : _ref4$funcPermSet;\n      return !(funcPermSet !== null && funcPermSet !== void 0 && funcPermSet.length);\n    });\n    setFormPermEmpty(isEmpty);\n  };\n\n  // 判断应用使用权是否为空\n  var useEmpty = (0, _react.useMemo)(function () {\n    var useType = formData.useType;\n    if (useType === _index.USE_TYPE_SELF && appPermEmpty || useType === _index.USE_TYPE_CUSTOM && formPermEmpty) {\n      return true;\n    }\n    return false;\n  }, [formData, appPermEmpty, formPermEmpty]);\n  var disabledDeleteUserIds = (0, _react.useMemo)(function () {\n    return creatorId && isAdmin ? [creatorId] : [];\n  }, [isAdmin, creatorId]);\n  var formPermSetting = (0, _react.useMemo)(function () {\n    var formPermValue = rolePermission !== null && rolePermission !== void 0 && rolePermission.formPerm ? (0, _reduce.default)(formList).call(formList, function (perm, form) {\n      var _rolePermission$formP;\n      var formId = form.formId;\n      if (rolePermission !== null && rolePermission !== void 0 && (_rolePermission$formP = rolePermission.formPerm) !== null && _rolePermission$formP !== void 0 && _rolePermission$formP[formId]) {\n        var _rolePermission$formP2;\n        perm[formId] = rolePermission === null || rolePermission === void 0 || (_rolePermission$formP2 = rolePermission.formPerm) === null || _rolePermission$formP2 === void 0 ? void 0 : _rolePermission$formP2[formId];\n      }\n      return perm;\n    }, {}) : (0, _reduce.default)(formList).call(formList, function (perm, form) {\n      var formId = form.formId;\n      perm[formId] = _FormPermSetting.INIT_FORM_PERM;\n      return perm;\n    }, {});\n    return formPermValue;\n  }, [rolePermission, formList]);\n  var appPerm = (0, _react.useMemo)(function () {\n    return rolePermission === null || rolePermission === void 0 ? void 0 : rolePermission.appPerm;\n  }, [rolePermission]);\n  if (!rolePermission) return null;\n  return /*#__PURE__*/_react.default.createElement(_HomeContainer.default, {\n    className: _RoleSetting.default.bg,\n    mainClassName: _RoleSetting.default.bg_main\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _RoleSetting.default.form\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Form, {\n    layout: \"vertical\",\n    form: form,\n    labelWidth: \"100%\",\n    wrapperWidth: \"100%\",\n    onValuesChange: function onValuesChange(changedValue, values) {\n      console.log('form', changedValue, values);\n    }\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Form.Item, {\n    label: /*#__PURE__*/_react.default.createElement(\"span\", {\n      title: \"\\u89D2\\u8272\\u7684\\u540D\\u79F0\"\n    }, \"\\u89D2\\u8272\\u540D\\u79F0\"),\n    name: \"name\",\n    required: true,\n    validateTrigger: \"onBlur\",\n    rules: [{\n      required: true,\n      message: '请输入角色名称'\n    }, {\n      type: 'string',\n      validator: function validator(rule, value, callback, source, options) {\n        if (!(value !== null && value !== void 0 && (0, _trim.default)(value).call(value))) {\n          return [new Error('请输入角色名称')];\n        } else {\n          return [];\n        }\n      }\n    }]\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Input, {\n    type: \"text\",\n    borderType: \"bordered\",\n    size: \"large\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u89D2\\u8272\\u540D\\u79F0\",\n    maxLength: 30,\n    value: formData.name,\n    onChange: function onChange(e) {\n      return dispatchFormData({\n        name: e.target.value\n      });\n    }\n  })), /*#__PURE__*/_react.default.createElement(_kdesign.Form.Item, {\n    label: /*#__PURE__*/_react.default.createElement(\"span\", {\n      title: \"\\u89D2\\u8272\\u7684\\u63CF\\u8FF0\"\n    }, \"\\u63CF\\u8FF0\"),\n    name: \"desc\"\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Input, {\n    type: \"text\",\n    borderType: \"bordered\",\n    size: \"large\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u63CF\\u8FF0\",\n    maxLength: 50,\n    value: formData.desc,\n    onChange: function onChange(e) {\n      return dispatchFormData({\n        desc: e.target.value\n      });\n    }\n  })), /*#__PURE__*/_react.default.createElement(_kdesign.Form.Item, {\n    label: /*#__PURE__*/_react.default.createElement(\"span\", {\n      title: \"\\u9009\\u62E9\\u53EF\\u4EE5\\u4F7F\\u7528\\u8BE5\\u89D2\\u8272\\u7684\\u7EC4\\u7EC7\"\n    }, \"\\u6388\\u6743\\u7EC4\\u7EC7\"),\n    name: \"orgs\"\n  }, /*#__PURE__*/_react.default.createElement(_OrgAuthorize.default, {\n    value: formData.orgs,\n    onChange: handleOrgsChange,\n    withScope: true\n  })), /*#__PURE__*/_react.default.createElement(_kdesign.Form.Item, {\n    label: /*#__PURE__*/_react.default.createElement(\"span\", {\n      title: \"\\u9009\\u62E9\\u53EF\\u4EE5\\u4F7F\\u7528\\u8BE5\\u89D2\\u8272\\u7684\\u4EBA\\u5458\"\n    }, \"\\u6388\\u6743\\u4EBA\\u5458\"),\n    name: \"users\"\n  }, /*#__PURE__*/_react.default.createElement(_PersonAuthorize.default, {\n    value: formData.users,\n    disabledIds: disabledDeleteUserIds,\n    onChange: handleUsersChange,\n    withScope: true\n  })), /*#__PURE__*/_react.default.createElement(_kdesign.Form.Item, {\n    label: /*#__PURE__*/_react.default.createElement(\"span\", {\n      title: \"\\u8BBE\\u7F6E\\u89D2\\u8272\\u7684\\u5E94\\u7528\\u7BA1\\u7406\\u6743\"\n    }, \"\\u5E94\\u7528\\u7BA1\\u7406\\u6743\"),\n    name: \"manage\"\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Select, {\n    value: formData.manage,\n    options: MANAGE_OPTIONS,\n    borderType: \"bordered\",\n    size: \"large\",\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    disabled: isAdmin,\n    onChange: function onChange(value) {\n      return handleManageChange(value);\n    }\n  })), /*#__PURE__*/_react.default.createElement(_kdesign.Form.Item, {\n    label: /*#__PURE__*/_react.default.createElement(\"span\", {\n      title: \"\\u8BBE\\u7F6E\\u89D2\\u8272\\u7684\\u5E94\\u7528\\u4F7F\\u7528\\u6743\"\n    }, \"\\u5E94\\u7528\\u4F7F\\u7528\\u6743\"),\n    name: \"useType\"\n  }, /*#__PURE__*/_react.default.createElement(_index.default, {\n    value: formData.useType,\n    disabled: isUseTypeDisabled,\n    onChange: function onChange(value) {\n      return dispatchFormData({\n        useType: value\n      });\n    },\n    footer: /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: (0, _classnames.default)([_RoleSetting.default['operation-setting'], (0, _defineProperty2.default)({}, _RoleSetting.default.hidden, formData.useType !== _index.USE_TYPE_SELF)])\n    }, /*#__PURE__*/_react.default.createElement(_AppPermSetting.default, {\n      ref: appPermSettingRef,\n      allowFieldAuth: false,\n      value: appPerm,\n      handleEqualChange: function handleEqualChange(result) {\n        return setAppPermEqual(result);\n      },\n      onChange: handleAppPermChange\n    })), /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: (0, _classnames.default)([(0, _defineProperty2.default)({}, _RoleSetting.default.hidden, formData.useType !== _index.USE_TYPE_CUSTOM)])\n    }, /*#__PURE__*/_react.default.createElement(_FormPermSetting.default, {\n      ref: formPermSettingRef,\n      key: \"\".concat(rolePermission === null || rolePermission === void 0 ? void 0 : rolePermission.id, \"-formPermSetting\"),\n      roleId: rolePermission === null || rolePermission === void 0 ? void 0 : rolePermission.id,\n      formList: formList,\n      value: formPermSetting,\n      appId: appId,\n      handleEqualChange: function handleEqualChange(result) {\n        return setFormPermEqual(result);\n      },\n      onChange: handleFormPermChange\n    })), /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"kd-form-field-wrapper-message\"\n    }, useEmpty && '应用使用权不能为空'))\n  }))), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _RoleSetting.default['btn-area']\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Button, {\n    type: \"primary\",\n    disabled: btnDisabled,\n    onClick: handleConfirm\n  }, \"\\u4FDD\\u5B58\"), /*#__PURE__*/_react.default.createElement(_kdesign.Button, {\n    disabled: btnDisabled,\n    style: {\n      marginLeft: '12px'\n    },\n    onClick: handleCancel\n  }, \"\\u53D6\\u6D88\"))));\n};\nvar _default = exports[\"default\"] = RoleSetting;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL1JvbGVTZXR0aW5nLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFZQTtBQU9BO0FBTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQXhCQTtBQUFBO0FBQUE7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFVQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFFQTtBQUlBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL1JvbGVTZXR0aW5nLnRzeD82ZDFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWR1Y2VyLCB1c2VNZW1vLCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEJ1dHRvbiwgRm9ybSwgSW5wdXQsIFNlbGVjdCB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCBQZXJzb25BdXRob3JpemUgZnJvbSAnLi9QZXJzb25BdXRob3JpemUnXG5pbXBvcnQgeyBzYXZlUm9sZSB9IGZyb20gJ0AvYWN0aW9ucy9hZG1pbidcbmltcG9ydCBPcmdBdXRob3JpemUgZnJvbSAnLi9PcmdBdXRob3JpemUnXG5pbXBvcnQgUmlnaHRPZlVzZSwgeyBVU0VfVFlQRV9BTEwsIFVTRV9UWVBFX0NVU1RPTSwgVVNFX1RZUEVfU0VMRiB9IGZyb20gJy4vcmlnaHRPZlVzZS9pbmRleCdcbmltcG9ydCBBcHBQZXJtU2V0dGluZywgeyB0cmFuc2Zvcm1BcHBQZXJtIH0gZnJvbSAnLi9yaWdodE9mVXNlL0FwcFBlcm1TZXR0aW5nJ1xuaW1wb3J0IEZvcm1QZXJtU2V0dGluZywgeyBJTklUX0ZPUk1fUEVSTSB9IGZyb20gJy4vcmlnaHRPZlVzZS9Gb3JtUGVybVNldHRpbmcnXG5pbXBvcnQgeyBzaG93Tm90aWNlLCBzaG93TG9hZGluZ01lc3NhZ2UgfSBmcm9tICdAL3V0aWxzJ1xuaW1wb3J0IHsgYXNzaWduRGF0YVJlZHVjZXIgfSBmcm9tICdAL3V0aWxzL3JlZHVjZXInXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vUm9sZVNldHRpbmcubGVzcydcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgeyBpc0VxdWFsIH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IEJnQ29udGFpbmVyIGZyb20gJy4uLy4uL2NvbXBvbmVudC9ob21lL0hvbWVDb250YWluZXInXG5cbi8vIOWwhueuoeeQhuadg+i9rOaNouaIkOWtl+espuS4su+8jHRydWUgPT4gJzAn77yMIGZhbHNlID0+ICcxJ1xuY29uc3QgdHJhbnNmb3JtTWFuYWdlVG9TdHIgPSAoZmxhZzogYm9vbGVhbikgPT4ge1xuICByZXR1cm4gZmxhZyA/IE1BTkFHRV9UWVBFX0FMTCA6IE1BTkFHRV9UWVBFX05PTkVcbn1cblxuY29uc3QgdHJhbnNmb3JtRGF0YSA9IChyb2xlUGVybWlzc2lvbjogYW55KSA9PiB7XG4gIGNvbnN0IHsgbmFtZSA9ICcnLCBkZXNjID0gJycsIHVzZXJzID0gW10sIGlkLCBtYW5hZ2UsIHVzZVR5cGUsIG9yZ3MgPSBbXSB9ID0gcm9sZVBlcm1pc3Npb25cbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICBuYW1lLFxuICAgIGRlc2MsXG4gICAgdXNlcnMsXG4gICAgb3JncyxcbiAgICB1c2VUeXBlLFxuICAgIG1hbmFnZTogbWFuYWdlID8gTUFOQUdFX1RZUEVfQUxMIDogTUFOQUdFX1RZUEVfTk9ORVxuICB9XG59XG5cbmNvbnN0IE1BTkFHRV9UWVBFX0FMTCA9ICcwJ1xuY29uc3QgTUFOQUdFX1RZUEVfTk9ORSA9ICcxJ1xuY29uc3QgTUFOQUdFX09QVElPTlMgPSBbXG4gIHsgbGFiZWw6ICfmi6XmnInlupTnlKjnmoTlhajpg6jnrqHnkIbmnYMnLCB2YWx1ZTogTUFOQUdFX1RZUEVfQUxMIH0sXG4gIHsgbGFiZWw6ICfml6AnLCB2YWx1ZTogTUFOQUdFX1RZUEVfTk9ORSB9XG5dXG5cbmludGVyZmFjZSBSb2xlU2V0dGluZ1Byb3BzIHtcbiAgZm9ybUxpc3Q6IGFueVtdO1xuICBhcHBJZDogc3RyaW5nO1xuICBjcmVhdG9ySWQ/OiBzdHJpbmc7XG4gIHJvbGVQZXJtaXNzaW9uOiBhbnk7XG4gIG9uQWZ0ZXJTYXZlOiAocm9sZUlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNldFJvbGVQZXJtaXNzaW9uOiBSZWFjdC5EaXNwYXRjaDxhbnk+O1xufVxuXG5jb25zdCBSb2xlU2V0dGluZzogUmVhY3QuRkM8Um9sZVNldHRpbmdQcm9wcz4gPSAoe1xuICBmb3JtTGlzdCxcbiAgYXBwSWQsXG4gIGNyZWF0b3JJZCxcbiAgcm9sZVBlcm1pc3Npb24sXG4gIG9uQWZ0ZXJTYXZlLFxuICBzZXRSb2xlUGVybWlzc2lvblxufSkgPT4ge1xuICBjb25zdCBbZm9ybV0gPSBGb3JtLnVzZUZvcm0oKVxuICBjb25zdCBbZm9ybURhdGEsIGRpc3BhdGNoRm9ybURhdGFdID0gdXNlUmVkdWNlcihhc3NpZ25EYXRhUmVkdWNlciwgdHJhbnNmb3JtRGF0YShyb2xlUGVybWlzc2lvbikpXG4gIGNvbnN0IGZvcm1QZXJtU2V0dGluZ1JlZiA9IHVzZVJlZjxhbnk+KG51bGwpXG4gIGNvbnN0IGFwcFBlcm1TZXR0aW5nUmVmID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3QgW2Zvcm1QZXJtRW1wdHksIHNldEZvcm1QZXJtRW1wdHldID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFthcHBQZXJtRW1wdHksIHNldEFwcFBlcm1FbXB0eV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2Zvcm1QZXJtRXF1YWwsIHNldEZvcm1QZXJtRXF1YWxdID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW2FwcFBlcm1FcXVhbCwgc2V0QXBwUGVybUVxdWFsXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IGlzVXNlVHlwZURpc2FibGVkID0gZm9ybURhdGEubWFuYWdlID09PSAnMCdcbiAgY29uc3QgaXNBZG1pbiA9ICEhcm9sZVBlcm1pc3Npb24uc3lzdGVtXG4gIGNvbnN0IGlzU2F2ZVJlZiA9IHVzZVJlZihmYWxzZSlcblxuICBjb25zdCB2YWxpZGF0ZUZpZWxkcyA9ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZm9ybVxuICAgICAgICAudmFsaWRhdGVGaWVsZHMoKVxuICAgICAgICAudGhlbigoeyB2YWx1ZXMgfSkgPT4ge1xuICAgICAgICAgIHJlc29sdmUodmFsdWVzKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGUpID0+IHJlamVjdChlKSlcbiAgICB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU2F2ZSA9IGFzeW5jIChwYXJhbU9iajogYW55KSA9PiB7XG4gICAgY29uc3QgcGFyYW0gPSB7IGRhdGE6IFtwYXJhbU9ial0gfVxuICAgIGlzU2F2ZVJlZi5jdXJyZW50ID0gdHJ1ZVxuICAgIGNvbnN0IGNsb3NlTWVzc2FnZSA9IHNob3dMb2FkaW5nTWVzc2FnZSgn5L+d5a2Y5Lit77yM6K+356iN5YCZLi4uJylcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBmYWlsQ291bnQsIHJlc3VsdCB9ID0gYXdhaXQgc2F2ZVJvbGUocGFyYW0pXG4gICAgICBpc1NhdmVSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICBpZiAoZmFpbENvdW50ID09PSAnMCcpIHtcbiAgICAgICAgY2xvc2VNZXNzYWdlKHsgdHlwZTogJ3N1Y2Nlc3MnLCBjb250ZW50OiAn5L+d5a2Y5oiQ5YqfJyB9KVxuICAgICAgICBjb25zdCByb2xlSWQgPSByZXN1bHQ/LlswXT8uaWRcbiAgICAgICAgb25BZnRlclNhdmUocm9sZUlkKVxuICAgICAgICBjb25zdCBuZXdSb2xlUGVybWlzc2lvbiA9IHtcbiAgICAgICAgICAuLi5wYXJhbU9iaixcbiAgICAgICAgICBpZDogcm9sZUlkLFxuICAgICAgICAgIHN5c3RlbTogcm9sZVBlcm1pc3Npb24uc3lzdGVtXG4gICAgICAgIH1cbiAgICAgICAgc2V0Um9sZVBlcm1pc3Npb24obmV3Um9sZVBlcm1pc3Npb24pXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaXNTYXZlUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gZVxuICAgICAgY2xvc2VNZXNzYWdlKHsgdHlwZTogJ2Vycm9yJywgY29udGVudDogbWVzc2FnZSwgZHVyYXRpb246IDAgfSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVDb25maXJtID0gKCkgPT4ge1xuICAgIGlmICh1c2VFbXB0eSkge1xuICAgICAgcmV0dXJuIHNob3dOb3RpY2UoJ2Vycm9yJywgJ+W6lOeUqOS9v+eUqOadg+S4jeiDveS4uuepuicpXG4gICAgfVxuICAgIGlmIChpc1NhdmVSZWYuY3VycmVudCkgcmV0dXJuXG4gICAgdmFsaWRhdGVGaWVsZHMoKS50aGVuKChmb3JtRGF0YTogYW55KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnZm9ybURhdGEtLS0tLScsIGZvcm1EYXRhKVxuICAgICAgY29uc3QgeyB1c2VUeXBlLCBuYW1lLCBkZXNjLCBtYW5hZ2UsIHVzZXJzLCBvcmdzIH0gPSBmb3JtRGF0YVxuICAgICAgY29uc3QgeyBpZCwgYXBwSWQsIHNlcSB9ID0gcm9sZVBlcm1pc3Npb25cbiAgICAgIGNvbnN0IHBhcmFtT2JqOiBhbnkgPSB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGRlc2MsXG4gICAgICAgIGFwcElkLFxuICAgICAgICBtYW5hZ2U6IG1hbmFnZSA9PT0gTUFOQUdFX1RZUEVfQUxMLFxuICAgICAgICB1c2VycyxcbiAgICAgICAgb3JncyxcbiAgICAgICAgdXNlVHlwZVxuICAgICAgfVxuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIHBhcmFtT2JqLmlkID0gaWRcbiAgICAgIH1cbiAgICAgIC8vIGlmIChzZXEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gICBwYXJhbU9iai5zZXEgPSBzZXFcbiAgICAgIC8vIH1cbiAgICAgIGlmICh1c2VUeXBlID09PSBVU0VfVFlQRV9DVVNUT00pIHtcbiAgICAgICAgY29uc3QgeyBmb3JtUGVybSB9ID0gZm9ybVBlcm1TZXR0aW5nUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc29sZS5sb2coJ2Zvcm1QZXJtLS0tLScsIGZvcm1QZXJtKVxuICAgICAgICBwYXJhbU9iai5mb3JtUGVybSA9IGZvcm1QZXJtXG4gICAgICB9XG4gICAgICBpZiAodXNlVHlwZSA9PT0gVVNFX1RZUEVfU0VMRikge1xuICAgICAgICBjb25zdCB7IGFwcFBlcm0gfSA9IGFwcFBlcm1TZXR0aW5nUmVmLmN1cnJlbnRcbiAgICAgICAgcGFyYW1PYmouYXBwUGVybSA9IGFwcFBlcm1cbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCdwYXJhbXMtLS0tLScsIHBhcmFtT2JqKVxuICAgICAgaGFuZGxlU2F2ZShwYXJhbU9iailcbiAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgIGNvbnNvbGUud2FybihlKVxuICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBlXG4gICAgICBzaG93Tm90aWNlKCdlcnJvcicsIG1lc3NhZ2UpXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVVzZXJzQ2hhbmdlID0gKHZhbHVlKSA9PiB7XG4gICAgZGlzcGF0Y2hGb3JtRGF0YSh7IHVzZXJzOiB2YWx1ZSB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlT3Jnc0NoYW5nZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGRpc3BhdGNoRm9ybURhdGEoeyBvcmdzOiB2YWx1ZSB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlTWFuYWdlQ2hhbmdlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgeyB1c2VUeXBlIH0gPSBmb3JtRGF0YVxuICAgIGlmICh2YWx1ZSA9PT0gTUFOQUdFX1RZUEVfQUxMICYmIHVzZVR5cGUgIT09IFVTRV9UWVBFX0FMTCkge1xuICAgICAgLy8g5oul5pyJ5bqU55So55qE5YWo6YOo566h55CG5p2D77yM5YiZ5bqU55So5L2/55So5p2D6KaB55u45bqU5pu05pS55Li64oCc5Y+v5Lul5L2/55So5omA5pyJ6KGo5Y2V6K6w5b2V4oCdXG4gICAgICBkaXNwYXRjaEZvcm1EYXRhKHsgbWFuYWdlOiB2YWx1ZSwgdXNlVHlwZTogVVNFX1RZUEVfQUxMIH0pXG4gICAgICBmb3JtLnNldEZpZWxkc1ZhbHVlKHsgbWFuYWdlOiB2YWx1ZSwgdXNlVHlwZTogVVNFX1RZUEVfQUxMIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoRm9ybURhdGEoeyBtYW5hZ2U6IHZhbHVlIH0pXG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBuZXdGb3JtRGF0YSA9IHRyYW5zZm9ybURhdGEocm9sZVBlcm1pc3Npb24pXG4gICAgY29uc3QgeyBuYW1lLCBkZXNjLCBtYW5hZ2UsIHVzZVR5cGUsIHVzZXJzLCBvcmdzIH0gPSBuZXdGb3JtRGF0YVxuICAgIGRpc3BhdGNoRm9ybURhdGEobmV3Rm9ybURhdGEpXG4gICAgZm9ybS5zZXRGaWVsZHNWYWx1ZSh7IG5hbWUsIGRlc2MsIG1hbmFnZSwgdXNlVHlwZSwgdXNlcnMsIG9yZ3MgfSlcbiAgfSwgW3JvbGVQZXJtaXNzaW9uXSlcblxuICAvLyDov5nkuKrlj5jph4/nlKjkuo7liKTmlq3ooajljZXmmK/lkKbooqvmm7TmlLnov4dcbiAgY29uc3QgYnRuRGlzYWJsZWQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIGRlc2MsIHVzZXJzID0gW10sIG1hbmFnZSwgdXNlVHlwZSwgaWQsIG9yZ3MgPSBbXSB9ID0gZm9ybURhdGFcbiAgICBjb25zdCB7IG5hbWU6IG9sZE5hbWUsIGRlc2M6IG9sZERlc2MsIHVzZXJzOiBvbGRVc2VycyA9IFtdLCBvcmdzOiBvbGRPcmdzID0gW10sIG1hbmFnZTogb2xkTWFuYWdlLCB1c2VUeXBlOiBvbGRVc2VUeXBlLCBpZDogb2xkSWQgfSA9IHJvbGVQZXJtaXNzaW9uXG4gICAgaWYgKGlkICE9PSBvbGRJZCkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gKFxuICAgICAgbmFtZSA9PT0gb2xkTmFtZSAmJlxuICAgICAgZGVzYyA9PT0gb2xkRGVzYyAmJlxuICAgICAgaXNFcXVhbCh1c2Vycywgb2xkVXNlcnMpICYmXG4gICAgICBpc0VxdWFsKG9yZ3MsIG9sZE9yZ3MpICYmXG4gICAgICBtYW5hZ2UgPT09IHRyYW5zZm9ybU1hbmFnZVRvU3RyKG9sZE1hbmFnZSkgJiZcbiAgICAgIHVzZVR5cGUgPT09IG9sZFVzZVR5cGUgJiZcbiAgICAgIGZvcm1QZXJtRXF1YWwgJiZcbiAgICAgIGFwcFBlcm1FcXVhbFxuICAgIClcbiAgfSwgW2Zvcm1EYXRhLCByb2xlUGVybWlzc2lvbiwgZm9ybVBlcm1FcXVhbCwgYXBwUGVybUVxdWFsXSlcblxuICBjb25zdCBoYW5kbGVDYW5jZWwgPSAoKSA9PiB7XG4gICAgaWYgKGlzU2F2ZVJlZi5jdXJyZW50KSByZXR1cm5cbiAgICBjb25zdCB7IG5hbWUsIGRlc2MsIHVzZXJzID0gW10sIHVzZVR5cGUsIG1hbmFnZSwgb3JncyA9IFtdIH0gPSByb2xlUGVybWlzc2lvblxuICAgIC8vIGNvbnN0IHsgdXNlVHlwZSB9ID0gZm9ybURhdGFcbiAgICBkaXNwYXRjaEZvcm1EYXRhKHsgbmFtZSwgZGVzYywgdXNlcnMsIG9yZ3MsIHVzZVR5cGUsIG1hbmFnZTogdHJhbnNmb3JtTWFuYWdlVG9TdHIobWFuYWdlKSB9KVxuICAgIGZvcm0uc2V0RmllbGRzVmFsdWUoeyBuYW1lLCBkZXNjLCB1c2Vycywgb3JncywgdXNlVHlwZSwgbWFuYWdlOiB0cmFuc2Zvcm1NYW5hZ2VUb1N0cihtYW5hZ2UpIH0pXG4gICAgaWYgKHVzZVR5cGUgPT09IFVTRV9UWVBFX0NVU1RPTSkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZGlzcGF0Y2hTZXR0aW5nIH0gPSBmb3JtUGVybVNldHRpbmdSZWYuY3VycmVudFxuICAgICAgICBkaXNwYXRjaFNldHRpbmc/Lih7IHR5cGU6ICdNRVJHRScsIHBheWxvYWQ6IGZvcm1QZXJtU2V0dGluZyB9KVxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKHVzZVR5cGUgPT09IFVTRV9UWVBFX1NFTEYpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGRpc3BhdGNoU2V0dGluZyB9ID0gYXBwUGVybVNldHRpbmdSZWYuY3VycmVudFxuICAgICAgICBkaXNwYXRjaFNldHRpbmc/Lih0cmFuc2Zvcm1BcHBQZXJtKGFwcFBlcm0pKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVBcHBQZXJtQ2hhbmdlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB7IGZ1bmNQZXJtU2V0IH0gPSBkYXRhXG4gICAgc2V0QXBwUGVybUVtcHR5KCFmdW5jUGVybVNldD8ubGVuZ3RoKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRm9ybVBlcm1DaGFuZ2UgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IGlzRW1wdHkgPSBPYmplY3Qua2V5cyhkYXRhKS5ldmVyeSgoZm9ybUlkOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHsgZnVuY1Blcm1TZXQgPSBbXSB9ID0gZGF0YVtmb3JtSWRdIHx8IHt9XG4gICAgICByZXR1cm4gIWZ1bmNQZXJtU2V0Py5sZW5ndGhcbiAgICB9KVxuICAgIHNldEZvcm1QZXJtRW1wdHkoaXNFbXB0eSlcbiAgfVxuXG4gIC8vIOWIpOaWreW6lOeUqOS9v+eUqOadg+aYr+WQpuS4uuepulxuICBjb25zdCB1c2VFbXB0eSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHsgdXNlVHlwZSB9ID0gZm9ybURhdGFcbiAgICBpZiAoKHVzZVR5cGUgPT09IFVTRV9UWVBFX1NFTEYgJiYgYXBwUGVybUVtcHR5KSB8fCAodXNlVHlwZSA9PT0gVVNFX1RZUEVfQ1VTVE9NICYmIGZvcm1QZXJtRW1wdHkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfSwgW2Zvcm1EYXRhLCBhcHBQZXJtRW1wdHksIGZvcm1QZXJtRW1wdHldKVxuXG4gIGNvbnN0IGRpc2FibGVkRGVsZXRlVXNlcklkcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBjcmVhdG9ySWQgJiYgaXNBZG1pbiA/IFtjcmVhdG9ySWRdIDogW11cbiAgfSwgW2lzQWRtaW4sIGNyZWF0b3JJZF0pXG5cbiAgY29uc3QgZm9ybVBlcm1TZXR0aW5nID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZm9ybVBlcm1WYWx1ZSA9IHJvbGVQZXJtaXNzaW9uPy5mb3JtUGVybVxuICAgICAgPyBmb3JtTGlzdC5yZWR1Y2UoKHBlcm0sIGZvcm0pID0+IHtcbiAgICAgICAgICBjb25zdCB7IGZvcm1JZCB9ID0gZm9ybVxuICAgICAgICAgIGlmIChyb2xlUGVybWlzc2lvbj8uZm9ybVBlcm0/Lltmb3JtSWRdKSB7XG4gICAgICAgICAgICBwZXJtW2Zvcm1JZF0gPSByb2xlUGVybWlzc2lvbj8uZm9ybVBlcm0/Lltmb3JtSWRdXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwZXJtXG4gICAgICAgIH0sIHt9KVxuICAgICAgOiBmb3JtTGlzdC5yZWR1Y2UoKHBlcm0sIGZvcm0pID0+IHtcbiAgICAgICAgY29uc3QgeyBmb3JtSWQgfSA9IGZvcm1cbiAgICAgICAgcGVybVtmb3JtSWRdID0gSU5JVF9GT1JNX1BFUk1cbiAgICAgICAgcmV0dXJuIHBlcm1cbiAgICAgIH0sIHt9KVxuICAgIHJldHVybiBmb3JtUGVybVZhbHVlXG4gIH0sIFtyb2xlUGVybWlzc2lvbiwgZm9ybUxpc3RdKVxuXG4gIGNvbnN0IGFwcFBlcm0gPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gcm9sZVBlcm1pc3Npb24/LmFwcFBlcm1cbiAgfSwgW3JvbGVQZXJtaXNzaW9uXSlcblxuICBpZiAoIXJvbGVQZXJtaXNzaW9uKSByZXR1cm4gbnVsbFxuICByZXR1cm4gKFxuICAgIDxCZ0NvbnRhaW5lciBjbGFzc05hbWU9e3N0eWxlcy5iZ30gbWFpbkNsYXNzTmFtZT17c3R5bGVzLmJnX21haW59PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5mb3JtfT5cbiAgICAgICAgPEZvcm1cbiAgICAgICAgICBsYXlvdXQ9J3ZlcnRpY2FsJ1xuICAgICAgICAgIGZvcm09e2Zvcm19XG4gICAgICAgICAgbGFiZWxXaWR0aD0nMTAwJSdcbiAgICAgICAgICB3cmFwcGVyV2lkdGg9JzEwMCUnXG4gICAgICAgICAgb25WYWx1ZXNDaGFuZ2U9eyhjaGFuZ2VkVmFsdWUsIHZhbHVlcykgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Zvcm0nLCBjaGFuZ2VkVmFsdWUsIHZhbHVlcylcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgbGFiZWw9ezxzcGFuIHRpdGxlPSfop5LoibLnmoTlkI3np7AnPuinkuiJsuWQjeensDwvc3Bhbj59XG4gICAgICAgICAgICBuYW1lPSduYW1lJ1xuICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgIHZhbGlkYXRlVHJpZ2dlcj0nb25CbHVyJ1xuICAgICAgICAgICAgcnVsZXM9e1t7XG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6KeS6Imy5ZCN56ewJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgdmFsaWRhdG9yOiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlPy50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBbbmV3IEVycm9yKCfor7fovpPlhaXop5LoibLlkI3np7AnKV1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgYm9yZGVyVHlwZT0nYm9yZGVyZWQnXG4gICAgICAgICAgICAgIHNpemU9J2xhcmdlJ1xuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0n6K+36L6T5YWl6KeS6Imy5ZCN56ewJ1xuICAgICAgICAgICAgICBtYXhMZW5ndGg9ezMwfVxuICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEubmFtZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBkaXNwYXRjaEZvcm1EYXRhKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgIGxhYmVsPXs8c3BhbiB0aXRsZT0n6KeS6Imy55qE5o+P6L+wJz7mj4/ov7A8L3NwYW4+fVxuICAgICAgICAgICAgbmFtZT0nZGVzYydcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgYm9yZGVyVHlwZT0nYm9yZGVyZWQnXG4gICAgICAgICAgICAgIHNpemU9J2xhcmdlJ1xuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0n6K+36L6T5YWl5o+P6L+wJ1xuICAgICAgICAgICAgICBtYXhMZW5ndGg9ezUwfVxuICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuZGVzY31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBkaXNwYXRjaEZvcm1EYXRhKHsgZGVzYzogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgIGxhYmVsPXs8c3BhbiB0aXRsZT0n6YCJ5oup5Y+v5Lul5L2/55So6K+l6KeS6Imy55qE57uE57uHJz7mjojmnYPnu4Tnu4c8L3NwYW4+fVxuICAgICAgICAgICAgbmFtZT0nb3JncydcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8T3JnQXV0aG9yaXplXG4gICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5vcmdzfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlT3Jnc0NoYW5nZX1cbiAgICAgICAgICAgICAgd2l0aFNjb3BlXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgIGxhYmVsPXs8c3BhbiB0aXRsZT0n6YCJ5oup5Y+v5Lul5L2/55So6K+l6KeS6Imy55qE5Lq65ZGYJz7mjojmnYPkurrlkZg8L3NwYW4+fVxuICAgICAgICAgICAgbmFtZT0ndXNlcnMnXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFBlcnNvbkF1dGhvcml6ZVxuICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEudXNlcnN9XG4gICAgICAgICAgICAgIGRpc2FibGVkSWRzPXtkaXNhYmxlZERlbGV0ZVVzZXJJZHN9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVVc2Vyc0NoYW5nZX1cbiAgICAgICAgICAgICAgd2l0aFNjb3BlXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgIGxhYmVsPXs8c3BhbiB0aXRsZT0n6K6+572u6KeS6Imy55qE5bqU55So566h55CG5p2DJz7lupTnlKjnrqHnkIbmnYM8L3NwYW4+fVxuICAgICAgICAgICAgbmFtZT0nbWFuYWdlJ1xuICAgICAgICAgID5cbiAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLm1hbmFnZX1cbiAgICAgICAgICAgICAgb3B0aW9ucz17TUFOQUdFX09QVElPTlN9XG4gICAgICAgICAgICAgIGJvcmRlclR5cGU9J2JvcmRlcmVkJ1xuICAgICAgICAgICAgICBzaXplPSdsYXJnZSdcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J+ivt+mAieaLqSdcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQWRtaW59XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IGhhbmRsZU1hbmFnZUNoYW5nZSh2YWx1ZSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgIGxhYmVsPXs8c3BhbiB0aXRsZT0n6K6+572u6KeS6Imy55qE5bqU55So5L2/55So5p2DJz7lupTnlKjkvb/nlKjmnYM8L3NwYW4+fVxuICAgICAgICAgICAgbmFtZT0ndXNlVHlwZSdcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8UmlnaHRPZlVzZVxuICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEudXNlVHlwZX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzVXNlVHlwZURpc2FibGVkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiBkaXNwYXRjaEZvcm1EYXRhKHsgdXNlVHlwZTogdmFsdWUgfSl9XG4gICAgICAgICAgICAgIGZvb3Rlcj17KFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhbc3R5bGVzWydvcGVyYXRpb24tc2V0dGluZyddLCB7IFtzdHlsZXMuaGlkZGVuXTogZm9ybURhdGEudXNlVHlwZSAhPT0gVVNFX1RZUEVfU0VMRiB9XSl9PlxuICAgICAgICAgICAgICAgICAgICA8QXBwUGVybVNldHRpbmdcbiAgICAgICAgICAgICAgICAgICAgICByZWY9e2FwcFBlcm1TZXR0aW5nUmVmfVxuICAgICAgICAgICAgICAgICAgICAgIGFsbG93RmllbGRBdXRoPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YXBwUGVybX1cbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcXVhbENoYW5nZT17KHJlc3VsdDogYm9vbGVhbikgPT4gc2V0QXBwUGVybUVxdWFsKHJlc3VsdCl9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUFwcFBlcm1DaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFt7IFtzdHlsZXMuaGlkZGVuXTogZm9ybURhdGEudXNlVHlwZSAhPT0gVVNFX1RZUEVfQ1VTVE9NIH1dKX0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtUGVybVNldHRpbmdcbiAgICAgICAgICAgICAgICAgICAgICByZWY9e2Zvcm1QZXJtU2V0dGluZ1JlZn1cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake3JvbGVQZXJtaXNzaW9uPy5pZH0tZm9ybVBlcm1TZXR0aW5nYH1cbiAgICAgICAgICAgICAgICAgICAgICByb2xlSWQ9e3JvbGVQZXJtaXNzaW9uPy5pZH1cbiAgICAgICAgICAgICAgICAgICAgICBmb3JtTGlzdD17Zm9ybUxpc3R9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1QZXJtU2V0dGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBhcHBJZD17YXBwSWR9XG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXF1YWxDaGFuZ2U9eyhyZXN1bHQ6IGJvb2xlYW4pID0+IHNldEZvcm1QZXJtRXF1YWwocmVzdWx0KX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlRm9ybVBlcm1DaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdrZC1mb3JtLWZpZWxkLXdyYXBwZXItbWVzc2FnZSc+e3VzZUVtcHR5ICYmICflupTnlKjkvb/nlKjmnYPkuI3og73kuLrnqbonfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgPC9Gb3JtPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzWydidG4tYXJlYSddfT5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB0eXBlPSdwcmltYXJ5J1xuICAgICAgICAgICAgZGlzYWJsZWQ9e2J0bkRpc2FibGVkfVxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29uZmlybX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICDkv53lrZhcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBkaXNhYmxlZD17YnRuRGlzYWJsZWR9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAnMTJweCdcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAg5Y+W5raIXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9CZ0NvbnRhaW5lcj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBSb2xlU2V0dGluZ1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/web/component/permission/RoleSetting.tsx\n");

/***/ }),

/***/ "./src/web/component/permission/SideBar.tsx":
/*!**************************************************!*\
  !*** ./src/web/component/permission/SideBar.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _splice = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/splice.js\"));\nvar _filter = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js\"));\nvar _map = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js\"));\nvar _indexOf = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js\"));\nvar _extends2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ \"../../node_modules/@babel/runtime-corejs3/helpers/extends.js\"));\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ \"../../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js\"));\nvar _toConsumableArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/toConsumableArray.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _kdesign = __webpack_require__(/*! kd_libs/kdesign1 */ \"webpack/container/remote/kd_libs/kdesign1\");\nvar _WebUI = __webpack_require__(/*! nocode_component/WebUI */ \"webpack/container/remote/nocode_component/WebUI\");\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _useDebounce = _interopRequireDefault(__webpack_require__(/*! @/hooks/useDebounce */ \"./src/hooks/useDebounce.tsx\"));\nvar _useDragSort2 = _interopRequireDefault(__webpack_require__(/*! @/hooks/useDragSort */ \"./src/hooks/useDragSort.js\"));\nvar _SideBar = _interopRequireDefault(__webpack_require__(/*! ./SideBar.less */ \"./src/web/component/permission/SideBar.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nvar options = [{\n  name: '复制',\n  key: 'copy'\n}, {\n  name: '删除',\n  key: 'delete'\n}];\nvar RoleItem = function RoleItem(_ref) {\n  var name = _ref.name,\n    index = _ref.index,\n    isSelected = _ref.isSelected,\n    isAdmin = _ref.isAdmin,\n    onClick = _ref.onClick,\n    setRoles = _ref.setRoles,\n    handleMenuItemClick = _ref.handleMenuItemClick,\n    onSort = _ref.onSort;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var handleVisibleChange = function handleVisibleChange(vi) {\n    setVisible(vi);\n  };\n  var onDrop = function onDrop(e, data) {\n    var sourceIndex = data.sourceIndex,\n      destinationIndex = data.destinationIndex;\n    if (sourceIndex !== destinationIndex && index === +destinationIndex) {\n      setRoles(function (oldRoles) {\n        var resortedList = (0, _toConsumableArray2.default)(oldRoles);\n        var _resortedList$splice = (0, _splice.default)(resortedList).call(resortedList, sourceIndex, 1),\n          _resortedList$splice2 = (0, _slicedToArray2.default)(_resortedList$splice, 1),\n          from = _resortedList$splice2[0];\n        (0, _splice.default)(resortedList).call(resortedList, destinationIndex, 0, from);\n        onSort === null || onSort === void 0 || onSort(resortedList);\n        return resortedList;\n      });\n    }\n  };\n  var onItemClick = function onItemClick(key) {\n    setVisible(false);\n    handleMenuItemClick === null || handleMenuItemClick === void 0 || handleMenuItemClick(key);\n  };\n  var _useDragSort = (0, _useDragSort2.default)({\n      onDrop: onDrop\n    }),\n    dragDropEvent = _useDragSort.dragDropEvent;\n  var roleMenuOpts = (0, _react.useMemo)(function () {\n    return isAdmin ? (0, _filter.default)(options).call(options, function (item) {\n      return item.key !== 'delete';\n    }) : options;\n  }, [isAdmin]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", (0, _extends2.default)({\n    className: (0, _classnames.default)(_SideBar.default['role-item'], (0, _defineProperty2.default)((0, _defineProperty2.default)({}, _SideBar.default['pop-active'], visible), _SideBar.default['is-active'], isSelected))\n  }, dragDropEvent(index)), /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: _SideBar.default['role-name'],\n    onClick: onClick\n  }, name), /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: _SideBar.default.extra\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Dropdown, {\n    menu: /*#__PURE__*/_react.default.createElement(_kdesign.Dropdown.Menu, null, roleMenuOpts === null || roleMenuOpts === void 0 ? void 0 : (0, _map.default)(roleMenuOpts).call(roleMenuOpts, function (item) {\n      // const attrs = item.key === 'copy' ? { 'data-nc-action': `${appId}||sa_pm_copy` } : {}\n      return /*#__PURE__*/_react.default.createElement(_kdesign.Dropdown.Item, {\n        key: item.key\n      }, /*#__PURE__*/_react.default.createElement(\"span\", null, item.name));\n    })),\n    popperClassName: _SideBar.default.popper,\n    visible: visible,\n    onItemClick: onItemClick,\n    onVisibleChange: handleVisibleChange,\n    trigger: \"hover\"\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Button, {\n    type: \"text\"\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Icon, {\n    prefix: \"nocodeplatformicon\",\n    type: \"gengduo3\"\n  }))), /*#__PURE__*/_react.default.createElement(_kdesign.Button, {\n    type: \"text\",\n    className: _SideBar.default['drag-icon']\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Icon, {\n    prefix: \"nocodeplatformicon\",\n    type: \"tuozhuai\"\n  }))));\n};\nvar SideBar = function SideBar(_ref2) {\n  var activeRoleId = _ref2.activeRoleId,\n    appId = _ref2.appId,\n    roleList = _ref2.roleList,\n    onAdd = _ref2.onAdd,\n    onCopy = _ref2.onCopy,\n    onDelete = _ref2.onDelete,\n    onSort = _ref2.onSort,\n    setActiveRoleId = _ref2.setActiveRoleId;\n  var _useState3 = (0, _react.useState)(roleList || []),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    roles = _useState4[0],\n    setRoles = _useState4[1];\n  var inputRef = (0, _react.useRef)(null);\n  var _useState5 = (0, _react.useState)(''),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    keywords = _useState6[0],\n    setKeywords = _useState6[1];\n  var handleSearch = function handleSearch(e) {\n    var _inputRef$current;\n    e === null || e === void 0 || e.persist();\n    var value = (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || (_inputRef$current = _inputRef$current.input) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.value;\n    setKeywords(value);\n  };\n  var debounceHandleSearch = (0, _useDebounce.default)(handleSearch, 500);\n  var _handleMenuItemClick = function handleMenuItemClick(key, role) {\n    switch (key) {\n      case 'delete':\n        onDelete && onDelete(role);\n        break;\n      case 'copy':\n        onCopy && onCopy(role);\n        break;\n      default:\n        break;\n    }\n  };\n  (0, _react.useEffect)(function () {\n    setRoles(roleList || []);\n  }, [roleList]);\n  var filteredRoles = (0, _react.useMemo)(function () {\n    if (!keywords) return roles;\n    return (0, _filter.default)(roles).call(roles, function (role) {\n      var name = role.name;\n      return (0, _indexOf.default)(name).call(name, keywords) > -1;\n    });\n  }, [keywords, roles]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _SideBar.default.aside\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _SideBar.default.searcher\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Input, {\n    size: \"small\",\n    ref: inputRef,\n    className: _SideBar.default.search_box,\n    defaultValue: keywords,\n    prefix: /*#__PURE__*/_react.default.createElement(_kdesign.Icon, {\n      prefix: \"nocodeplatformicon\",\n      type: \"sousuo\"\n    }),\n    onChange: debounceHandleSearch,\n    placeholder: \"\\u641C\\u7D22\\u89D2\\u8272\",\n    borderType: \"bordered\"\n  }), /*#__PURE__*/_react.default.createElement(_kdesign.Button, {\n    icon: /*#__PURE__*/_react.default.createElement(_kdesign.Icon, {\n      prefix: \"nocodeplatformicon\",\n      type: \"jia4\"\n    }),\n    type: \"primary\",\n    onClick: onAdd\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _SideBar.default.roles\n  }, keywords && !filteredRoles.length ? /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _SideBar.default.empty\n  }, /*#__PURE__*/_react.default.createElement(_WebUI.EmptyData, {\n    desc: \"\\u6682\\u65E0\\u641C\\u7D22\\u7ED3\\u679C\"\n  })) : (0, _map.default)(filteredRoles).call(filteredRoles, function (role, index) {\n    var name = role.name,\n      id = role.id,\n      system = role.system;\n    return /*#__PURE__*/_react.default.createElement(RoleItem, {\n      name: name,\n      id: id,\n      key: id,\n      index: index\n      // appId={appId}\n      ,\n      handleMenuItemClick: function handleMenuItemClick(key) {\n        return _handleMenuItemClick(key, role);\n      },\n      isSelected: activeRoleId === id,\n      isAdmin: !!system,\n      setRoles: setRoles,\n      onClick: function onClick(e) {\n        return setActiveRoleId(id);\n      },\n      onSort: onSort\n    });\n  })));\n};\nvar _default = exports[\"default\"] = SideBar;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL1NpZGVCYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFzQkE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQVVBO0FBUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUVBO0FBU0E7QUFQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUtBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL1NpZGVCYXIudHN4PzEyMzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgQnV0dG9uLCBJY29uLCBEcm9wZG93biwgSW5wdXQgfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXHJcbmltcG9ydCB7IEVtcHR5RGF0YSB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXHJcbmltcG9ydCB1c2VEZWJvdW5jZSBmcm9tICdAL2hvb2tzL3VzZURlYm91bmNlJ1xyXG5pbXBvcnQgdXNlRHJhZ1NvcnQgZnJvbSAnQC9ob29rcy91c2VEcmFnU29ydCdcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL1NpZGVCYXIubGVzcydcclxuXHJcbmludGVyZmFjZSBSb2xlSXRlbVByb3BzIHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgaW5kZXg6IG51bWJlcjtcclxuICBpc1NlbGVjdGVkOiBib29sZWFuO1xyXG4gIGlzQWRtaW46IGJvb2xlYW47XHJcbiAgb25DbGljazogUmVhY3QuTW91c2VFdmVudEhhbmRsZXI7XHJcbiAgaGFuZGxlTWVudUl0ZW1DbGljazogKGtleTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIHNldFJvbGVzOiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTaWRlQmFyUHJvcHMge1xyXG4gIGFjdGl2ZVJvbGVJZDogc3RyaW5nO1xyXG4gIHJvbGVMaXN0OiBhbnlbXTtcclxuICBvbkFkZDogKCkgPT4gdm9pZDtcclxuICBvbkNvcHk6IChyb2xlOiBhbnkpID0+IHZvaWQ7XHJcbiAgb25EZWxldGU6IChyb2xlOiBhbnkpID0+IHZvaWQ7XHJcbiAgb25Tb3J0OiAocm9sZUxpc3Q6IGFueSkgPT4gdm9pZDtcclxuICBzZXRBY3RpdmVSb2xlSWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBvcHRpb25zID0gW1xyXG4gIHtcclxuICAgIG5hbWU6ICflpI3liLYnLFxyXG4gICAga2V5OiAnY29weSdcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfliKDpmaQnLFxyXG4gICAga2V5OiAnZGVsZXRlJ1xyXG4gIH1cclxuXVxyXG5cclxuY29uc3QgUm9sZUl0ZW06IEZDPFJvbGVJdGVtUHJvcHM+ID0gKHtcclxuICBuYW1lLFxyXG4gIC8vIGFwcElkLFxyXG4gIGluZGV4LFxyXG4gIGlzU2VsZWN0ZWQsXHJcbiAgaXNBZG1pbixcclxuICBvbkNsaWNrLFxyXG4gIHNldFJvbGVzLFxyXG4gIGhhbmRsZU1lbnVJdGVtQ2xpY2ssXHJcbiAgb25Tb3J0XHJcbn0pID0+IHtcclxuICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHJcbiAgY29uc3QgaGFuZGxlVmlzaWJsZUNoYW5nZSA9ICh2aTogYm9vbGVhbikgPT4ge1xyXG4gICAgc2V0VmlzaWJsZSh2aSlcclxuICB9XHJcblxyXG4gIGNvbnN0IG9uRHJvcCA9IChlLCBkYXRhKSA9PiB7XHJcbiAgICBjb25zdCB7IHNvdXJjZUluZGV4LCBkZXN0aW5hdGlvbkluZGV4IH0gPSBkYXRhXHJcbiAgICBpZiAoc291cmNlSW5kZXggIT09IGRlc3RpbmF0aW9uSW5kZXggJiYgaW5kZXggPT09ICtkZXN0aW5hdGlvbkluZGV4KSB7XHJcbiAgICAgIHNldFJvbGVzKChvbGRSb2xlczogYW55W10pID0+IHtcclxuICAgICAgICBjb25zdCByZXNvcnRlZExpc3QgPSBbLi4ub2xkUm9sZXNdXHJcbiAgICAgICAgY29uc3QgW2Zyb21dID0gcmVzb3J0ZWRMaXN0LnNwbGljZShzb3VyY2VJbmRleCwgMSlcclxuICAgICAgICByZXNvcnRlZExpc3Quc3BsaWNlKGRlc3RpbmF0aW9uSW5kZXgsIDAsIGZyb20pXHJcbiAgICAgICAgb25Tb3J0Py4ocmVzb3J0ZWRMaXN0KVxyXG4gICAgICAgIHJldHVybiByZXNvcnRlZExpc3RcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IG9uSXRlbUNsaWNrID0gKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRWaXNpYmxlKGZhbHNlKVxyXG4gICAgaGFuZGxlTWVudUl0ZW1DbGljaz8uKGtleSlcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZHJhZ0Ryb3BFdmVudCB9ID0gdXNlRHJhZ1NvcnQoeyBvbkRyb3AgfSlcclxuXHJcbiAgY29uc3Qgcm9sZU1lbnVPcHRzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICByZXR1cm4gaXNBZG1pbiA/IG9wdGlvbnMuZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0ua2V5ICE9PSAnZGVsZXRlJykgOiBvcHRpb25zXHJcbiAgfSwgW2lzQWRtaW5dKVxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhzdHlsZXNbJ3JvbGUtaXRlbSddLCB7IFtzdHlsZXNbJ3BvcC1hY3RpdmUnXV06IHZpc2libGUsIFtzdHlsZXNbJ2lzLWFjdGl2ZSddXTogaXNTZWxlY3RlZCB9KX1cclxuICAgICAgey4uLmRyYWdEcm9wRXZlbnQoaW5kZXgpfVxyXG4gICAgPlxyXG4gICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlc1sncm9sZS1uYW1lJ119IG9uQ2xpY2s9e29uQ2xpY2t9PntuYW1lfTwvc3Bhbj5cclxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuZXh0cmF9PlxyXG4gICAgICAgIDxEcm9wZG93blxyXG4gICAgICAgICAgbWVudT17KFxyXG4gICAgICAgICAgICA8RHJvcGRvd24uTWVudT5cclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByb2xlTWVudU9wdHM/Lm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgLy8gY29uc3QgYXR0cnMgPSBpdGVtLmtleSA9PT0gJ2NvcHknID8geyAnZGF0YS1uYy1hY3Rpb24nOiBgJHthcHBJZH18fHNhX3BtX2NvcHlgIH0gOiB7fVxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bi5JdGVtIGtleT17aXRlbS5rZXl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2l0ZW0ubmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bi5JdGVtPlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9Ecm9wZG93bi5NZW51PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIHBvcHBlckNsYXNzTmFtZT17c3R5bGVzLnBvcHBlcn1cclxuICAgICAgICAgIHZpc2libGU9e3Zpc2libGV9XHJcbiAgICAgICAgICBvbkl0ZW1DbGljaz17b25JdGVtQ2xpY2t9XHJcbiAgICAgICAgICBvblZpc2libGVDaGFuZ2U9e2hhbmRsZVZpc2libGVDaGFuZ2V9XHJcbiAgICAgICAgICB0cmlnZ2VyPSdob3ZlcidcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8QnV0dG9uIHR5cGU9J3RleHQnPjxJY29uIHByZWZpeD0nbm9jb2RlcGxhdGZvcm1pY29uJyB0eXBlPSdnZW5nZHVvMycgLz48L0J1dHRvbj5cclxuICAgICAgICA8L0Ryb3Bkb3duPlxyXG4gICAgICAgIDxCdXR0b24gdHlwZT0ndGV4dCcgY2xhc3NOYW1lPXtzdHlsZXNbJ2RyYWctaWNvbiddfT48SWNvbiBwcmVmaXg9J25vY29kZXBsYXRmb3JtaWNvbicgdHlwZT0ndHVvemh1YWknIC8+PC9CdXR0b24+XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuY29uc3QgU2lkZUJhcjogRkM8U2lkZUJhclByb3BzPiA9ICh7XHJcbiAgYWN0aXZlUm9sZUlkLFxyXG4gIGFwcElkLFxyXG4gIHJvbGVMaXN0LFxyXG4gIG9uQWRkLFxyXG4gIG9uQ29weSxcclxuICBvbkRlbGV0ZSxcclxuICBvblNvcnQsXHJcbiAgc2V0QWN0aXZlUm9sZUlkXHJcbn0pID0+IHtcclxuICBjb25zdCBbcm9sZXMsIHNldFJvbGVzXSA9IHVzZVN0YXRlKHJvbGVMaXN0IHx8IFtdKVxyXG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmKG51bGwpXHJcbiAgY29uc3QgW2tleXdvcmRzLCBzZXRLZXl3b3Jkc10gPSB1c2VTdGF0ZSgnJylcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VhcmNoID0gKGUpID0+IHtcclxuICAgIGU/LnBlcnNpc3QoKVxyXG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dFJlZi5jdXJyZW50Py5pbnB1dD8udmFsdWVcclxuICAgIHNldEtleXdvcmRzKHZhbHVlKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZGVib3VuY2VIYW5kbGVTZWFyY2ggPSB1c2VEZWJvdW5jZShoYW5kbGVTZWFyY2gsIDUwMClcclxuXHJcbiAgY29uc3QgaGFuZGxlTWVudUl0ZW1DbGljayA9IChrZXk6IHN0cmluZywgcm9sZTogYW55KSA9PiB7XHJcbiAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICBjYXNlICdkZWxldGUnOlxyXG4gICAgICAgIG9uRGVsZXRlICYmIG9uRGVsZXRlKHJvbGUpXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnY29weSc6XHJcbiAgICAgICAgb25Db3B5ICYmIG9uQ29weShyb2xlKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXRSb2xlcyhyb2xlTGlzdCB8fCBbXSlcclxuICB9LCBbcm9sZUxpc3RdKVxyXG5cclxuICBjb25zdCBmaWx0ZXJlZFJvbGVzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoIWtleXdvcmRzKSByZXR1cm4gcm9sZXNcclxuICAgIHJldHVybiByb2xlcy5maWx0ZXIoKHJvbGU6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCB7IG5hbWUgfSA9IHJvbGVcclxuICAgICAgcmV0dXJuIG5hbWUuaW5kZXhPZihrZXl3b3JkcykgPiAtMVxyXG4gICAgfSlcclxuICB9LCBba2V5d29yZHMsIHJvbGVzXSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYXNpZGV9PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNlYXJjaGVyfT5cclxuICAgICAgICA8SW5wdXRcclxuICAgICAgICAgIHNpemU9J3NtYWxsJ1xyXG4gICAgICAgICAgcmVmPXtpbnB1dFJlZn1cclxuICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnNlYXJjaF9ib3h9XHJcbiAgICAgICAgICBkZWZhdWx0VmFsdWU9e2tleXdvcmRzfVxyXG4gICAgICAgICAgcHJlZml4PXs8SWNvbiBwcmVmaXg9J25vY29kZXBsYXRmb3JtaWNvbicgdHlwZT0nc291c3VvJyAvPn1cclxuICAgICAgICAgIG9uQ2hhbmdlPXtkZWJvdW5jZUhhbmRsZVNlYXJjaH1cclxuICAgICAgICAgIHBsYWNlaG9sZGVyPSfmkJzntKLop5LoibInXHJcbiAgICAgICAgICBib3JkZXJUeXBlPSdib3JkZXJlZCdcclxuICAgICAgICAvPlxyXG4gICAgICAgIDxCdXR0b24gaWNvbj17PEljb24gcHJlZml4PSdub2NvZGVwbGF0Zm9ybWljb24nIHR5cGU9J2ppYTQnIC8+fSB0eXBlPSdwcmltYXJ5JyBvbkNsaWNrPXtvbkFkZH0gLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucm9sZXN9PlxyXG4gICAgICAgIHtrZXl3b3JkcyAmJiAhZmlsdGVyZWRSb2xlcy5sZW5ndGggPyAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmVtcHR5fT5cclxuICAgICAgICAgICAgPEVtcHR5RGF0YSBkZXNjPSfmmoLml6DmkJzntKLnu5PmnpwnIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgZmlsdGVyZWRSb2xlcy5tYXAoKHJvbGUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgaWQsIHN5c3RlbSB9ID0gcm9sZVxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIDxSb2xlSXRlbVxyXG4gICAgICAgICAgICAgICAgbmFtZT17bmFtZX1cclxuICAgICAgICAgICAgICAgIGlkPXtpZH1cclxuICAgICAgICAgICAgICAgIGtleT17aWR9XHJcbiAgICAgICAgICAgICAgICBpbmRleD17aW5kZXh9XHJcbiAgICAgICAgICAgICAgICAvLyBhcHBJZD17YXBwSWR9XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVNZW51SXRlbUNsaWNrPXtrZXkgPT4gaGFuZGxlTWVudUl0ZW1DbGljayhrZXksIHJvbGUpfVxyXG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17YWN0aXZlUm9sZUlkID09PSBpZH1cclxuICAgICAgICAgICAgICAgIGlzQWRtaW49eyEhc3lzdGVtfVxyXG4gICAgICAgICAgICAgICAgc2V0Um9sZXM9e3NldFJvbGVzfVxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHNldEFjdGl2ZVJvbGVJZChpZCl9XHJcbiAgICAgICAgICAgICAgICBvblNvcnQ9e29uU29ydH1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaWRlQmFyXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/component/permission/SideBar.tsx\n");

/***/ }),

/***/ "./src/web/component/permission/rightOfUse/AppPermSetting.tsx":
/*!********************************************************************!*\
  !*** ./src/web/component/permission/rightOfUse/AppPermSetting.tsx ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformAppPerm = exports[\"default\"] = exports.VIEW_OPTIONS_VALUE = exports.VIEW_OPTIONS = exports.SettingItem = exports.EDIT_OPTIONS_VALUE = exports.EDIT_OPTIONS = exports.ADD_OPTIONS_VALUE = exports.ADD_OPTIONS = void 0;\nvar _map = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js\"));\nvar _setTimeout2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/set-timeout.js\"));\nvar _filter = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js\"));\nvar _keys = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js\"));\nvar _reduce = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/reduce.js\"));\nvar _includes = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js\"));\nvar _concat = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js\"));\nvar _toConsumableArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/toConsumableArray.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _kdesign = __webpack_require__(/*! kd_libs/kdesign1 */ \"webpack/container/remote/kd_libs/kdesign1\");\nvar _fieldPermission = _interopRequireDefault(__webpack_require__(/*! ../../fieldPermission */ \"./src/web/component/fieldPermission/index.tsx\"));\nvar _utils = __webpack_require__(/*! @/utils */ \"./src/utils/index.tsx\");\nvar _reducer = __webpack_require__(/*! @/utils/reducer */ \"./src/utils/reducer.ts\");\nvar _lodash = __webpack_require__(/*! kd_libs/lodash */ \"webpack/container/remote/kd_libs/lodash\");\nvar _AppPermSetting = _interopRequireDefault(__webpack_require__(/*! ./AppPermSetting.less */ \"./src/web/component/permission/rightOfUse/AppPermSetting.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n/**\n * 应用权限设置\n */\n\nvar hidePermMenu = function hidePermMenu(controlType, parentType) {\n  return controlType === 'NoCodeBizButtonAp' || controlType === 'BizBtnFlexPanelAp' || parentType === 'NoCodeEntryEntity';\n};\nvar SettingItem = exports.SettingItem = function SettingItem(_ref) {\n  var title = _ref.title,\n    value = _ref.value,\n    options = _ref.options,\n    allowFieldAuth = _ref.allowFieldAuth,\n    onChange = _ref.onChange,\n    formId = _ref.formId,\n    appId = _ref.appId,\n    checked = _ref.checked,\n    onSwitchChange = _ref.onSwitchChange,\n    fieldPermSet = _ref.fieldPermSet,\n    onPermSetChange = _ref.onPermSetChange;\n  var _useState = (0, _react.useState)(checked),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    swicthOpen = _useState2[0],\n    setSwitchOpen = _useState2[1];\n  var _useState3 = (0, _react.useState)(value),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    operation = _useState4[0],\n    setOperation = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    visible = _useState6[0],\n    setVisible = _useState6[1];\n  var switchOpenRef = (0, _react.useRef)(checked);\n  switchOpenRef.current = swicthOpen;\n  var handleSwitchChange = function handleSwitchChange(checked) {\n    setSwitchOpen(checked);\n    var newOperation = checked ? (0, _map.default)(options).call(options, function (item) {\n      return item.value;\n    }) : [];\n    setOperation(newOperation);\n    onSwitchChange(checked);\n    (0, _setTimeout2.default)(function () {\n      onChange === null || onChange === void 0 || onChange(newOperation);\n    }, 0);\n  };\n  var handleCheckboxChange = function handleCheckboxChange(newVal) {\n    setOperation(newVal);\n    if (!switchOpenRef.current && newVal.length) {\n      setSwitchOpen(true);\n      (0, _setTimeout2.default)(function () {\n        onSwitchChange(true);\n      }, 0);\n    }\n    onChange === null || onChange === void 0 || onChange(newVal);\n  };\n  (0, _react.useEffect)(function () {\n    setOperation(value);\n  }, [value]);\n  (0, _react.useEffect)(function () {\n    setSwitchOpen(checked);\n  }, [checked]);\n  var handleChangeFieldPermission = (0, _react.useCallback)(function (data) {\n    var _context;\n    var noPermControlIds = (0, _filter.default)(_context = (0, _keys.default)(data)).call(_context, function (fieldKey) {\n      var fieldStatus = data[fieldKey];\n      return fieldStatus === 'noperm';\n    });\n    onPermSetChange === null || onPermSetChange === void 0 || onPermSetChange(noPermControlIds);\n  }, []);\n  var permission = (0, _react.useMemo)(function () {\n    return fieldPermSet === null || fieldPermSet === void 0 ? void 0 : (0, _reduce.default)(fieldPermSet).call(fieldPermSet, function (statusMap, fieldId) {\n      statusMap[fieldId] = 'noperm';\n      return statusMap;\n    }, {});\n  }, [fieldPermSet]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AppPermSetting.default.setting\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AppPermSetting.default.title\n  }, title), /*#__PURE__*/_react.default.createElement(_kdesign.Switch, {\n    checked: swicthOpen,\n    onChange: handleSwitchChange\n  }), allowFieldAuth && /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AppPermSetting.default['form-setting'],\n    onClick: function onClick() {\n      return setVisible(true);\n    }\n  }, fieldPermSet !== null && fieldPermSet !== void 0 && fieldPermSet.length ? '部分权限' : '全部权限'), /*#__PURE__*/_react.default.createElement(_kdesign.Checkbox.Group, {\n    onChange: handleCheckboxChange,\n    style: {\n      marginLeft: '24px'\n    },\n    value: operation\n  }, (0, _map.default)(options).call(options, function (_ref2) {\n    var value = _ref2.value,\n      label = _ref2.label;\n    return /*#__PURE__*/_react.default.createElement(_kdesign.Checkbox, {\n      value: value,\n      key: value\n    }, label);\n  })), /*#__PURE__*/_react.default.createElement(_fieldPermission.default, {\n    title: \"\\u7F16\\u8F91\\u6743\\u9650\",\n    visible: visible,\n    setVisible: setVisible,\n    formId: formId,\n    appId: appId,\n    value: permission,\n    fieldStatusSettingMode: \"permission\",\n    fieldPermissionMenu: [{\n      key: 'hasperm',\n      label: '有权限'\n    }, {\n      key: 'noperm',\n      label: '无权限'\n    }],\n    fieldStatusSettingOptions: {\n      defaultStatus: 'hasperm',\n      hideMenu: hidePermMenu\n    },\n    onChange: handleChangeFieldPermission\n  }));\n};\nvar VIEW_OPTIONS = exports.VIEW_OPTIONS = [{\n  value: 'view-001',\n  label: '导出'\n}, {\n  value: 'view-002',\n  label: '打印'\n}, {\n  value: 'view-003',\n  label: '统计'\n}, {\n  value: 'view-004',\n  label: '详情页分享（登录）'\n}, {\n  value: 'view-005',\n  label: '详情页分享（免登录）'\n}];\nvar ADD_OPTIONS = exports.ADD_OPTIONS = [{\n  value: 'add-001',\n  label: '导入'\n}, {\n  value: 'add-002',\n  label: '录入页分享（登录）'\n}, {\n  value: 'add-003',\n  label: '录入页分享（免登录）'\n}];\nvar EDIT_OPTIONS = exports.EDIT_OPTIONS = [{\n  value: 'edit-001',\n  label: '编辑页分享（登录）'\n}];\nvar VIEW_OPTIONS_VALUE = exports.VIEW_OPTIONS_VALUE = (0, _map.default)(VIEW_OPTIONS).call(VIEW_OPTIONS, function (op) {\n  return op.value;\n});\nvar ADD_OPTIONS_VALUE = exports.ADD_OPTIONS_VALUE = (0, _map.default)(ADD_OPTIONS).call(ADD_OPTIONS, function (op) {\n  return op.value;\n});\nvar EDIT_OPTIONS_VALUE = exports.EDIT_OPTIONS_VALUE = (0, _map.default)(EDIT_OPTIONS).call(EDIT_OPTIONS, function (op) {\n  return op.value;\n});\nvar INIT_APP_PERM = {\n  funcPermSet: ['view', 'view-001', 'view-002', 'view-003', 'view-004', 'view-005', 'add', 'add-001', 'add-002', 'add-003', 'edit', 'edit-001', 'delete']\n};\nvar transformAppPerm = exports.transformAppPerm = function transformAppPerm() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INIT_APP_PERM;\n  var funcPermSet = value.funcPermSet;\n  return {\n    viewFuncPerms: (0, _filter.default)(funcPermSet).call(funcPermSet, function (func) {\n      return (0, _includes.default)(VIEW_OPTIONS_VALUE).call(VIEW_OPTIONS_VALUE, func);\n    }),\n    addFuncPerms: (0, _filter.default)(funcPermSet).call(funcPermSet, function (func) {\n      return (0, _includes.default)(ADD_OPTIONS_VALUE).call(ADD_OPTIONS_VALUE, func);\n    }),\n    editFuncPerms: (0, _filter.default)(funcPermSet).call(funcPermSet, function (func) {\n      return (0, _includes.default)(EDIT_OPTIONS_VALUE).call(EDIT_OPTIONS_VALUE, func);\n    }),\n    isDeleteOpOpen: funcPermSet === null || funcPermSet === void 0 ? void 0 : (0, _includes.default)(funcPermSet).call(funcPermSet, 'delete'),\n    isViewOpOpen: funcPermSet === null || funcPermSet === void 0 ? void 0 : (0, _includes.default)(funcPermSet).call(funcPermSet, 'view'),\n    isAddOpOpen: funcPermSet === null || funcPermSet === void 0 ? void 0 : (0, _includes.default)(funcPermSet).call(funcPermSet, 'add'),\n    isEditOpOpen: funcPermSet === null || funcPermSet === void 0 ? void 0 : (0, _includes.default)(funcPermSet).call(funcPermSet, 'edit')\n  };\n};\nvar AppPermSetting = (0, _react.forwardRef)(function (_ref3, ref) {\n  var value = _ref3.value,\n    _ref3$allowFieldAuth = _ref3.allowFieldAuth,\n    allowFieldAuth = _ref3$allowFieldAuth === void 0 ? true : _ref3$allowFieldAuth,\n    formId = _ref3.formId,\n    appId = _ref3.appId,\n    handleEqualChange = _ref3.handleEqualChange,\n    onChange = _ref3.onChange;\n  var _useReducer = (0, _react.useReducer)(_reducer.assignDataReducer, transformAppPerm(value || INIT_APP_PERM)),\n    _useReducer2 = (0, _slicedToArray2.default)(_useReducer, 2),\n    setting = _useReducer2[0],\n    dispatchSetting = _useReducer2[1];\n\n  // 编辑功能权限发生变化\n  var handleEditPermChange = (0, _react.useCallback)(function (newVal) {\n    dispatchSetting({\n      editFuncPerms: newVal\n    });\n  }, [dispatchSetting]);\n\n  // 录入功能权限发生变化\n  var handleAddPermChange = (0, _react.useCallback)(function (newVal) {\n    dispatchSetting({\n      addFuncPerms: newVal\n    });\n  }, [dispatchSetting]);\n\n  // 查看功能权限发生变化\n  var handleViewPermChange = (0, _react.useCallback)(function (newVal) {\n    dispatchSetting({\n      viewFuncPerms: newVal\n    });\n  }, [dispatchSetting]);\n\n  // 删除功能权限发生变化\n  var handleDeletePermChange = function handleDeletePermChange(checked) {\n    dispatchSetting({\n      isDeleteOpOpen: checked\n    });\n  };\n  var getAppPerm = function getAppPerm(data) {\n    var _context2;\n    var viewFuncPerms = data.viewFuncPerms,\n      editFuncPerms = data.editFuncPerms,\n      addFuncPerms = data.addFuncPerms,\n      isDeleteOpOpen = data.isDeleteOpOpen,\n      isViewOpOpen = data.isViewOpOpen,\n      isEditOpOpen = data.isEditOpOpen,\n      isAddOpOpen = data.isAddOpOpen;\n    var newFuncPermSet = (0, _concat.default)(_context2 = []).call(_context2, (0, _toConsumableArray2.default)(viewFuncPerms), (0, _toConsumableArray2.default)(editFuncPerms), (0, _toConsumableArray2.default)(addFuncPerms));\n    isDeleteOpOpen && newFuncPermSet.push('delete');\n    isViewOpOpen && newFuncPermSet.push('view');\n    isAddOpOpen && newFuncPermSet.push('add');\n    isEditOpOpen && newFuncPermSet.push('edit');\n    return {\n      funcPermSet: newFuncPermSet\n    };\n  };\n  (0, _react.useImperativeHandle)(ref, function () {\n    var appPerm = getAppPerm(setting);\n    return {\n      appPerm: appPerm,\n      dispatchSetting: dispatchSetting\n    };\n  }, [setting]);\n  (0, _react.useEffect)(function () {\n    var newSetting = transformAppPerm(value);\n    if (!(0, _lodash.isEqual)((0, _utils.deepTransformArrayToObj)(newSetting), (0, _utils.deepTransformArrayToObj)(setting))) {\n      dispatchSetting(newSetting);\n    }\n    handleEqualChange(true);\n  }, [value]);\n  (0, _react.useEffect)(function () {\n    var newSetting = transformAppPerm(value);\n    var isValueEqual = (0, _lodash.isEqual)((0, _utils.deepTransformArrayToObj)(newSetting), (0, _utils.deepTransformArrayToObj)(setting));\n    handleEqualChange(isValueEqual);\n    onChange === null || onChange === void 0 || onChange(getAppPerm(setting));\n  }, [setting]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AppPermSetting.default['operate-setting']\n  }, /*#__PURE__*/_react.default.createElement(SettingItem, {\n    title: \"\\u67E5\\u770B\",\n    options: VIEW_OPTIONS,\n    value: setting.viewFuncPerms,\n    allowFieldAuth: allowFieldAuth,\n    formId: formId,\n    appId: appId,\n    checked: setting.isViewOpOpen,\n    onSwitchChange: function onSwitchChange(checked) {\n      dispatchSetting({\n        isViewOpOpen: checked\n      });\n    },\n    onChange: handleViewPermChange\n  }), /*#__PURE__*/_react.default.createElement(SettingItem, {\n    title: \"\\u5F55\\u5165\",\n    options: ADD_OPTIONS,\n    value: setting.addFuncPerms,\n    allowFieldAuth: false,\n    formId: formId,\n    appId: appId,\n    checked: setting.isAddOpOpen,\n    onSwitchChange: function onSwitchChange(checked) {\n      dispatchSetting({\n        isAddOpOpen: checked\n      });\n    },\n    onChange: handleAddPermChange\n  }), /*#__PURE__*/_react.default.createElement(SettingItem, {\n    title: \"\\u7F16\\u8F91\",\n    options: EDIT_OPTIONS,\n    value: setting.editFuncPerms,\n    allowFieldAuth: allowFieldAuth,\n    formId: formId,\n    appId: appId,\n    checked: setting.isEditOpOpen,\n    onSwitchChange: function onSwitchChange(checked) {\n      dispatchSetting({\n        isEditOpOpen: checked\n      });\n    },\n    onChange: handleEditPermChange\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AppPermSetting.default.setting\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AppPermSetting.default.title\n  }, \"\\u5220\\u9664\"), /*#__PURE__*/_react.default.createElement(_kdesign.Switch, {\n    checked: setting.isDeleteOpOpen,\n    onChange: handleDeletePermChange\n  })));\n});\nvar _default = exports[\"default\"] = AppPermSetting;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL3JpZ2h0T2ZVc2UvQXBwUGVybVNldHRpbmcudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBVEE7QUFDQTtBQUNBOztBQWdDQTtBQUNBO0FBQ0E7QUFFQTtBQVlBO0FBVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBZUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLXBsYXRmb3JtLy4vc3JjL3dlYi9jb21wb25lbnQvcGVybWlzc2lvbi9yaWdodE9mVXNlL0FwcFBlcm1TZXR0aW5nLnRzeD8yNTIxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5bqU55So5p2D6ZmQ6K6+572uXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VSZWR1Y2VyLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlLCBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlLCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBTd2l0Y2gsIENoZWNrYm94IH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IEZpZWxkUGVybWlzc2lvbiBmcm9tICcuLi8uLi9maWVsZFBlcm1pc3Npb24nXG5pbXBvcnQgeyBkZWVwVHJhbnNmb3JtQXJyYXlUb09iaiB9IGZyb20gJ0AvdXRpbHMnXG5pbXBvcnQgeyBhc3NpZ25EYXRhUmVkdWNlciB9IGZyb20gJ0AvdXRpbHMvcmVkdWNlcidcbmltcG9ydCB7IGlzRXF1YWwgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vQXBwUGVybVNldHRpbmcubGVzcydcblxuaW50ZXJmYWNlIFNldHRpbmdJdGVtUHJvcHMge1xuICB0aXRsZTogc3RyaW5nO1xuICB2YWx1ZTogYW55O1xuICBvcHRpb25zOiBhbnlbXTtcbiAgYWxsb3dGaWVsZEF1dGg6IGJvb2xlYW47XG4gIG9uQ2hhbmdlOiAobmV3VmFsOiBhbnkpID0+IHZvaWQ7XG4gIGZvcm1JZDogc3RyaW5nO1xuICBhcHBJZDogc3RyaW5nO1xuICBjaGVja2VkOiBib29sZWFuO1xuICBvblN3aXRjaENoYW5nZTogKG5ld1ZhbDogYm9vbGVhbikgPT4gdm9pZDtcbiAgZmllbGRQZXJtU2V0PzogYW55W107XG4gIG9uUGVybVNldENoYW5nZT86IChpZHM6IHN0cmluZ1tdKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgQXBwUGVybVNldHRpbmdQcm9wcyB7XG4gIHZhbHVlOiBhbnk7XG4gIGFsbG93RmllbGRBdXRoOiBib29sZWFuO1xuICBmb3JtSWQ6IHN0cmluZztcbiAgYXBwSWQ6IHN0cmluZztcbiAgaGFuZGxlRXF1YWxDaGFuZ2U6IChmbGc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIG9uQ2hhbmdlOiAocGVybTogYW55KSA9PiB2b2lkO1xufVxuXG5jb25zdCBoaWRlUGVybU1lbnUgPSAoY29udHJvbFR5cGU6IHN0cmluZywgcGFyZW50VHlwZTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBjb250cm9sVHlwZSA9PT0gJ05vQ29kZUJpekJ1dHRvbkFwJyB8fCBjb250cm9sVHlwZSA9PT0gJ0JpekJ0bkZsZXhQYW5lbEFwJyB8fCBwYXJlbnRUeXBlID09PSAnTm9Db2RlRW50cnlFbnRpdHknXG59XG5cbmV4cG9ydCBjb25zdCBTZXR0aW5nSXRlbTogUmVhY3QuRkM8U2V0dGluZ0l0ZW1Qcm9wcz4gPSAoe1xuICB0aXRsZSxcbiAgdmFsdWUsXG4gIG9wdGlvbnMsXG4gIGFsbG93RmllbGRBdXRoLFxuICBvbkNoYW5nZSxcbiAgZm9ybUlkLFxuICBhcHBJZCxcbiAgY2hlY2tlZCxcbiAgb25Td2l0Y2hDaGFuZ2UsXG4gIGZpZWxkUGVybVNldCxcbiAgb25QZXJtU2V0Q2hhbmdlXG59KSA9PiB7XG4gIGNvbnN0IFtzd2ljdGhPcGVuLCBzZXRTd2l0Y2hPcGVuXSA9IHVzZVN0YXRlKGNoZWNrZWQpXG4gIGNvbnN0IFtvcGVyYXRpb24sIHNldE9wZXJhdGlvbl0gPSB1c2VTdGF0ZSh2YWx1ZSlcbiAgY29uc3QgW3Zpc2libGUsIHNldFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IHN3aXRjaE9wZW5SZWYgPSB1c2VSZWYoY2hlY2tlZClcbiAgc3dpdGNoT3BlblJlZi5jdXJyZW50ID0gc3dpY3RoT3BlblxuXG4gIGNvbnN0IGhhbmRsZVN3aXRjaENoYW5nZSA9IChjaGVja2VkKSA9PiB7XG4gICAgc2V0U3dpdGNoT3BlbihjaGVja2VkKVxuICAgIGNvbnN0IG5ld09wZXJhdGlvbiA9IGNoZWNrZWQgPyBvcHRpb25zLm1hcChpdGVtID0+IGl0ZW0udmFsdWUpIDogW11cbiAgICBzZXRPcGVyYXRpb24obmV3T3BlcmF0aW9uKVxuICAgIG9uU3dpdGNoQ2hhbmdlKGNoZWNrZWQpXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBvbkNoYW5nZT8uKG5ld09wZXJhdGlvbilcbiAgICB9LCAwKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2hlY2tib3hDaGFuZ2UgPSAobmV3VmFsKSA9PiB7XG4gICAgc2V0T3BlcmF0aW9uKG5ld1ZhbClcbiAgICBpZiAoIXN3aXRjaE9wZW5SZWYuY3VycmVudCAmJiBuZXdWYWwubGVuZ3RoKSB7XG4gICAgICBzZXRTd2l0Y2hPcGVuKHRydWUpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgb25Td2l0Y2hDaGFuZ2UodHJ1ZSlcbiAgICAgIH0sIDApXG4gICAgfVxuICAgIG9uQ2hhbmdlPy4obmV3VmFsKVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRPcGVyYXRpb24odmFsdWUpXG4gIH0sIFt2YWx1ZV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRTd2l0Y2hPcGVuKGNoZWNrZWQpXG4gIH0sIFtjaGVja2VkXSlcblxuICBjb25zdCBoYW5kbGVDaGFuZ2VGaWVsZFBlcm1pc3Npb24gPSB1c2VDYWxsYmFjaygoZGF0YSkgPT4ge1xuICAgIGNvbnN0IG5vUGVybUNvbnRyb2xJZHM6IHN0cmluZ1tdID0gT2JqZWN0LmtleXMoZGF0YSkuZmlsdGVyKGZpZWxkS2V5ID0+IHtcbiAgICAgIGNvbnN0IGZpZWxkU3RhdHVzID0gZGF0YVtmaWVsZEtleV1cbiAgICAgIHJldHVybiBmaWVsZFN0YXR1cyA9PT0gJ25vcGVybSdcbiAgICB9KVxuICAgIG9uUGVybVNldENoYW5nZT8uKG5vUGVybUNvbnRyb2xJZHMpXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHBlcm1pc3Npb24gPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gZmllbGRQZXJtU2V0Py5yZWR1Y2UoKHN0YXR1c01hcDogYW55LCBmaWVsZElkOiBzdHJpbmcpID0+IHtcbiAgICAgIHN0YXR1c01hcFtmaWVsZElkXSA9ICdub3Blcm0nXG4gICAgICByZXR1cm4gc3RhdHVzTWFwXG4gICAgfSwge30pXG4gIH0sIFtmaWVsZFBlcm1TZXRdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zZXR0aW5nfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudGl0bGV9Pnt0aXRsZX08L2Rpdj5cbiAgICAgIDxTd2l0Y2ggY2hlY2tlZD17c3dpY3RoT3Blbn0gb25DaGFuZ2U9e2hhbmRsZVN3aXRjaENoYW5nZX0gLz5cbiAgICAgIHthbGxvd0ZpZWxkQXV0aCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbJ2Zvcm0tc2V0dGluZyddfSBvbkNsaWNrPXsoKSA9PiBzZXRWaXNpYmxlKHRydWUpfT57ZmllbGRQZXJtU2V0Py5sZW5ndGggPyAn6YOo5YiG5p2D6ZmQJyA6ICflhajpg6jmnYPpmZAnfTwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxDaGVja2JveC5Hcm91cCBvbkNoYW5nZT17aGFuZGxlQ2hlY2tib3hDaGFuZ2V9IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICcyNHB4JyB9fSB2YWx1ZT17b3BlcmF0aW9ufT5cbiAgICAgICAge29wdGlvbnMubWFwKCh7IHZhbHVlLCBsYWJlbCB9KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxDaGVja2JveCB2YWx1ZT17dmFsdWV9IGtleT17dmFsdWV9PntsYWJlbH08L0NoZWNrYm94PlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L0NoZWNrYm94Lkdyb3VwPlxuICAgICAgPEZpZWxkUGVybWlzc2lvblxuICAgICAgICB0aXRsZT0n57yW6L6R5p2D6ZmQJ1xuICAgICAgICB2aXNpYmxlPXt2aXNpYmxlfVxuICAgICAgICBzZXRWaXNpYmxlPXtzZXRWaXNpYmxlfVxuICAgICAgICBmb3JtSWQ9e2Zvcm1JZH1cbiAgICAgICAgYXBwSWQ9e2FwcElkfVxuICAgICAgICB2YWx1ZT17cGVybWlzc2lvbn1cbiAgICAgICAgZmllbGRTdGF0dXNTZXR0aW5nTW9kZT0ncGVybWlzc2lvbidcbiAgICAgICAgZmllbGRQZXJtaXNzaW9uTWVudT17W3sga2V5OiAnaGFzcGVybScsIGxhYmVsOiAn5pyJ5p2D6ZmQJyB9LCB7IGtleTogJ25vcGVybScsIGxhYmVsOiAn5peg5p2D6ZmQJyB9XX1cbiAgICAgICAgZmllbGRTdGF0dXNTZXR0aW5nT3B0aW9ucz17eyBkZWZhdWx0U3RhdHVzOiAnaGFzcGVybScsIGhpZGVNZW51OiBoaWRlUGVybU1lbnUgfX1cbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZUZpZWxkUGVybWlzc2lvbn1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IFZJRVdfT1BUSU9OUyA9IFtcbiAgeyB2YWx1ZTogJ3ZpZXctMDAxJywgbGFiZWw6ICflr7zlh7onIH0sXG4gIHsgdmFsdWU6ICd2aWV3LTAwMicsIGxhYmVsOiAn5omT5Y2wJyB9LFxuICB7IHZhbHVlOiAndmlldy0wMDMnLCBsYWJlbDogJ+e7n+iuoScgfSxcbiAgeyB2YWx1ZTogJ3ZpZXctMDA0JywgbGFiZWw6ICfor6bmg4XpobXliIbkuqvvvIjnmbvlvZXvvIknIH0sXG4gIHsgdmFsdWU6ICd2aWV3LTAwNScsIGxhYmVsOiAn6K+m5oOF6aG15YiG5Lqr77yI5YWN55m75b2V77yJJyB9XG5dXG5leHBvcnQgY29uc3QgQUREX09QVElPTlMgPSBbXG4gIHsgdmFsdWU6ICdhZGQtMDAxJywgbGFiZWw6ICflr7zlhaUnIH0sXG4gIHsgdmFsdWU6ICdhZGQtMDAyJywgbGFiZWw6ICflvZXlhaXpobXliIbkuqvvvIjnmbvlvZXvvIknIH0sXG4gIHsgdmFsdWU6ICdhZGQtMDAzJywgbGFiZWw6ICflvZXlhaXpobXliIbkuqvvvIjlhY3nmbvlvZXvvIknIH1cbl1cbmV4cG9ydCBjb25zdCBFRElUX09QVElPTlMgPSBbXG4gIHsgdmFsdWU6ICdlZGl0LTAwMScsIGxhYmVsOiAn57yW6L6R6aG15YiG5Lqr77yI55m75b2V77yJJyB9XG5dXG5cbmV4cG9ydCBjb25zdCBWSUVXX09QVElPTlNfVkFMVUUgPSBWSUVXX09QVElPTlMubWFwKG9wID0+IG9wLnZhbHVlKVxuZXhwb3J0IGNvbnN0IEFERF9PUFRJT05TX1ZBTFVFID0gQUREX09QVElPTlMubWFwKG9wID0+IG9wLnZhbHVlKVxuZXhwb3J0IGNvbnN0IEVESVRfT1BUSU9OU19WQUxVRSA9IEVESVRfT1BUSU9OUy5tYXAob3AgPT4gb3AudmFsdWUpXG5cbmNvbnN0IElOSVRfQVBQX1BFUk0gPSB7XG4gIGZ1bmNQZXJtU2V0OiBbXG4gICAgJ3ZpZXcnLFxuICAgICd2aWV3LTAwMScsXG4gICAgJ3ZpZXctMDAyJyxcbiAgICAndmlldy0wMDMnLFxuICAgICd2aWV3LTAwNCcsXG4gICAgJ3ZpZXctMDA1JyxcbiAgICAnYWRkJyxcbiAgICAnYWRkLTAwMScsXG4gICAgJ2FkZC0wMDInLFxuICAgICdhZGQtMDAzJyxcbiAgICAnZWRpdCcsXG4gICAgJ2VkaXQtMDAxJyxcbiAgICAnZGVsZXRlJ1xuICBdXG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1BcHBQZXJtID0gKHZhbHVlOiBhbnkgPSBJTklUX0FQUF9QRVJNKSA9PiB7XG4gIGNvbnN0IHsgZnVuY1Blcm1TZXQgfSA9IHZhbHVlXG4gIHJldHVybiB7XG4gICAgdmlld0Z1bmNQZXJtczogZnVuY1Blcm1TZXQuZmlsdGVyKGZ1bmMgPT4gVklFV19PUFRJT05TX1ZBTFVFLmluY2x1ZGVzKGZ1bmMpKSxcbiAgICBhZGRGdW5jUGVybXM6IGZ1bmNQZXJtU2V0LmZpbHRlcihmdW5jID0+IEFERF9PUFRJT05TX1ZBTFVFLmluY2x1ZGVzKGZ1bmMpKSxcbiAgICBlZGl0RnVuY1Blcm1zOiBmdW5jUGVybVNldC5maWx0ZXIoZnVuYyA9PiBFRElUX09QVElPTlNfVkFMVUUuaW5jbHVkZXMoZnVuYykpLFxuICAgIGlzRGVsZXRlT3BPcGVuOiBmdW5jUGVybVNldD8uaW5jbHVkZXMoJ2RlbGV0ZScpLFxuICAgIGlzVmlld09wT3BlbjogZnVuY1Blcm1TZXQ/LmluY2x1ZGVzKCd2aWV3JyksXG4gICAgaXNBZGRPcE9wZW46IGZ1bmNQZXJtU2V0Py5pbmNsdWRlcygnYWRkJyksXG4gICAgaXNFZGl0T3BPcGVuOiBmdW5jUGVybVNldD8uaW5jbHVkZXMoJ2VkaXQnKVxuICB9XG59XG5cbmNvbnN0IEFwcFBlcm1TZXR0aW5nOiBSZWFjdC5GQzxBcHBQZXJtU2V0dGluZ1Byb3BzPiA9IGZvcndhcmRSZWYoKHtcbiAgdmFsdWUsXG4gIGFsbG93RmllbGRBdXRoID0gdHJ1ZSxcbiAgZm9ybUlkLFxuICBhcHBJZCxcbiAgaGFuZGxlRXF1YWxDaGFuZ2UsXG4gIG9uQ2hhbmdlXG59LCByZWYpID0+IHtcbiAgY29uc3QgW3NldHRpbmcsIGRpc3BhdGNoU2V0dGluZ10gPSB1c2VSZWR1Y2VyKGFzc2lnbkRhdGFSZWR1Y2VyLCB0cmFuc2Zvcm1BcHBQZXJtKHZhbHVlIHx8IElOSVRfQVBQX1BFUk0pKVxuXG4gIC8vIOe8lui+keWKn+iDveadg+mZkOWPkeeUn+WPmOWMllxuICBjb25zdCBoYW5kbGVFZGl0UGVybUNoYW5nZSA9IHVzZUNhbGxiYWNrKChuZXdWYWwpID0+IHtcbiAgICBkaXNwYXRjaFNldHRpbmcoeyBlZGl0RnVuY1Blcm1zOiBuZXdWYWwgfSlcbiAgfSwgW2Rpc3BhdGNoU2V0dGluZ10pXG5cbiAgLy8g5b2V5YWl5Yqf6IO95p2D6ZmQ5Y+R55Sf5Y+Y5YyWXG4gIGNvbnN0IGhhbmRsZUFkZFBlcm1DaGFuZ2UgPSB1c2VDYWxsYmFjaygobmV3VmFsKSA9PiB7XG4gICAgZGlzcGF0Y2hTZXR0aW5nKHsgYWRkRnVuY1Blcm1zOiBuZXdWYWwgfSlcbiAgfSwgW2Rpc3BhdGNoU2V0dGluZ10pXG5cbiAgLy8g5p+l55yL5Yqf6IO95p2D6ZmQ5Y+R55Sf5Y+Y5YyWXG4gIGNvbnN0IGhhbmRsZVZpZXdQZXJtQ2hhbmdlID0gdXNlQ2FsbGJhY2soKG5ld1ZhbCkgPT4ge1xuICAgIGRpc3BhdGNoU2V0dGluZyh7IHZpZXdGdW5jUGVybXM6IG5ld1ZhbCB9KVxuICB9LCBbZGlzcGF0Y2hTZXR0aW5nXSlcblxuICAvLyDliKDpmaTlip/og73mnYPpmZDlj5HnlJ/lj5jljJZcbiAgY29uc3QgaGFuZGxlRGVsZXRlUGVybUNoYW5nZSA9IChjaGVja2VkOiBib29sZWFuKSA9PiB7XG4gICAgZGlzcGF0Y2hTZXR0aW5nKHsgaXNEZWxldGVPcE9wZW46IGNoZWNrZWQgfSlcbiAgfVxuXG4gIGNvbnN0IGdldEFwcFBlcm0gPSAoZGF0YTogYW55KSA9PiB7XG4gICAgY29uc3QgeyB2aWV3RnVuY1Blcm1zLCBlZGl0RnVuY1Blcm1zLCBhZGRGdW5jUGVybXMsIGlzRGVsZXRlT3BPcGVuLCBpc1ZpZXdPcE9wZW4sIGlzRWRpdE9wT3BlbiwgaXNBZGRPcE9wZW4gfSA9IGRhdGFcbiAgICBjb25zdCBuZXdGdW5jUGVybVNldCA9IFsuLi52aWV3RnVuY1Blcm1zLCAuLi5lZGl0RnVuY1Blcm1zLCAuLi5hZGRGdW5jUGVybXNdXG4gICAgaXNEZWxldGVPcE9wZW4gJiYgbmV3RnVuY1Blcm1TZXQucHVzaCgnZGVsZXRlJylcbiAgICBpc1ZpZXdPcE9wZW4gJiYgbmV3RnVuY1Blcm1TZXQucHVzaCgndmlldycpXG4gICAgaXNBZGRPcE9wZW4gJiYgbmV3RnVuY1Blcm1TZXQucHVzaCgnYWRkJylcbiAgICBpc0VkaXRPcE9wZW4gJiYgbmV3RnVuY1Blcm1TZXQucHVzaCgnZWRpdCcpXG4gICAgcmV0dXJuIHtcbiAgICAgIGZ1bmNQZXJtU2V0OiBuZXdGdW5jUGVybVNldFxuICAgIH1cbiAgfVxuXG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiB7XG4gICAgY29uc3QgYXBwUGVybSA9IGdldEFwcFBlcm0oc2V0dGluZylcbiAgICByZXR1cm4ge1xuICAgICAgYXBwUGVybSxcbiAgICAgIGRpc3BhdGNoU2V0dGluZ1xuICAgIH1cbiAgfSwgW3NldHRpbmddKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbmV3U2V0dGluZyA9IHRyYW5zZm9ybUFwcFBlcm0odmFsdWUpXG4gICAgaWYgKCFpc0VxdWFsKGRlZXBUcmFuc2Zvcm1BcnJheVRvT2JqKG5ld1NldHRpbmcpLCBkZWVwVHJhbnNmb3JtQXJyYXlUb09iaihzZXR0aW5nKSkpIHtcbiAgICAgIGRpc3BhdGNoU2V0dGluZyhuZXdTZXR0aW5nKVxuICAgIH1cbiAgICBoYW5kbGVFcXVhbENoYW5nZSh0cnVlKVxuICB9LCBbdmFsdWVdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbmV3U2V0dGluZyA9IHRyYW5zZm9ybUFwcFBlcm0odmFsdWUpXG4gICAgY29uc3QgaXNWYWx1ZUVxdWFsID0gaXNFcXVhbChkZWVwVHJhbnNmb3JtQXJyYXlUb09iaihuZXdTZXR0aW5nKSwgZGVlcFRyYW5zZm9ybUFycmF5VG9PYmooc2V0dGluZykpXG4gICAgaGFuZGxlRXF1YWxDaGFuZ2UoaXNWYWx1ZUVxdWFsKVxuICAgIG9uQ2hhbmdlPy4oZ2V0QXBwUGVybShzZXR0aW5nKSlcbiAgfSwgW3NldHRpbmddKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1snb3BlcmF0ZS1zZXR0aW5nJ119PlxuICAgICAgPFNldHRpbmdJdGVtXG4gICAgICAgIHRpdGxlPSfmn6XnnIsnXG4gICAgICAgIG9wdGlvbnM9e1ZJRVdfT1BUSU9OU31cbiAgICAgICAgdmFsdWU9e3NldHRpbmcudmlld0Z1bmNQZXJtc31cbiAgICAgICAgYWxsb3dGaWVsZEF1dGg9e2FsbG93RmllbGRBdXRofVxuICAgICAgICBmb3JtSWQ9e2Zvcm1JZH1cbiAgICAgICAgYXBwSWQ9e2FwcElkfVxuICAgICAgICBjaGVja2VkPXtzZXR0aW5nLmlzVmlld09wT3Blbn1cbiAgICAgICAgb25Td2l0Y2hDaGFuZ2U9eyhjaGVja2VkOiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2hTZXR0aW5nKHsgaXNWaWV3T3BPcGVuOiBjaGVja2VkIH0pXG4gICAgICAgIH19XG4gICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVWaWV3UGVybUNoYW5nZX1cbiAgICAgIC8+XG4gICAgICA8U2V0dGluZ0l0ZW1cbiAgICAgICAgdGl0bGU9J+W9leWFpSdcbiAgICAgICAgb3B0aW9ucz17QUREX09QVElPTlN9XG4gICAgICAgIHZhbHVlPXtzZXR0aW5nLmFkZEZ1bmNQZXJtc31cbiAgICAgICAgYWxsb3dGaWVsZEF1dGg9e2ZhbHNlfVxuICAgICAgICBmb3JtSWQ9e2Zvcm1JZH1cbiAgICAgICAgYXBwSWQ9e2FwcElkfVxuICAgICAgICBjaGVja2VkPXtzZXR0aW5nLmlzQWRkT3BPcGVufVxuICAgICAgICBvblN3aXRjaENoYW5nZT17KGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICBkaXNwYXRjaFNldHRpbmcoeyBpc0FkZE9wT3BlbjogY2hlY2tlZCB9KVxuICAgICAgICB9fVxuICAgICAgICBvbkNoYW5nZT17aGFuZGxlQWRkUGVybUNoYW5nZX1cbiAgICAgIC8+XG4gICAgICA8U2V0dGluZ0l0ZW1cbiAgICAgICAgdGl0bGU9J+e8lui+kSdcbiAgICAgICAgb3B0aW9ucz17RURJVF9PUFRJT05TfVxuICAgICAgICB2YWx1ZT17c2V0dGluZy5lZGl0RnVuY1Blcm1zfVxuICAgICAgICBhbGxvd0ZpZWxkQXV0aD17YWxsb3dGaWVsZEF1dGh9XG4gICAgICAgIGZvcm1JZD17Zm9ybUlkfVxuICAgICAgICBhcHBJZD17YXBwSWR9XG4gICAgICAgIGNoZWNrZWQ9e3NldHRpbmcuaXNFZGl0T3BPcGVufVxuICAgICAgICBvblN3aXRjaENoYW5nZT17KGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICBkaXNwYXRjaFNldHRpbmcoeyBpc0VkaXRPcE9wZW46IGNoZWNrZWQgfSlcbiAgICAgICAgfX1cbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUVkaXRQZXJtQ2hhbmdlfVxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2V0dGluZ30+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudGl0bGV9PuWIoOmZpDwvZGl2PlxuICAgICAgICA8U3dpdGNoIGNoZWNrZWQ9e3NldHRpbmcuaXNEZWxldGVPcE9wZW59IG9uQ2hhbmdlPXtoYW5kbGVEZWxldGVQZXJtQ2hhbmdlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IEFwcFBlcm1TZXR0aW5nXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/component/permission/rightOfUse/AppPermSetting.tsx\n");

/***/ }),

/***/ "./src/web/component/permission/rightOfUse/FormPermSetting.tsx":
/*!*********************************************************************!*\
  !*** ./src/web/component/permission/rightOfUse/FormPermSetting.tsx ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _Object$keys2 = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js\");\nvar _Object$getOwnPropertySymbols = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js\");\nvar _filterInstanceProperty2 = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _Object$getOwnPropertyDescriptors = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js\");\nvar _Object$defineProperties = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.INIT_FORM_PERM = void 0;\nvar _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/regenerator */ \"../../node_modules/@babel/runtime-corejs3/regenerator/index.js\"));\nvar _has = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/reflect/has */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/reflect/has.js\"));\nvar _keys = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js\"));\nvar _filter = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js\"));\nvar _map = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js\"));\nvar _includes = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js\"));\nvar _find = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js\"));\nvar _concat = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js\"));\nvar _setTimeout2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/set-timeout.js\"));\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime-corejs3/helpers/asyncToGenerator.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ \"../../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _kdesign = __webpack_require__(/*! kd_libs/kdesign1 */ \"webpack/container/remote/kd_libs/kdesign1\");\nvar _AppPermSetting = __webpack_require__(/*! ./AppPermSetting */ \"./src/web/component/permission/rightOfUse/AppPermSetting.tsx\");\nvar _listSettingUtil = __webpack_require__(/*! @/utils/listSettingUtil */ \"./src/utils/listSettingUtil.js\");\nvar _menuTableUtil = __webpack_require__(/*! @/utils/menuTableUtil */ \"./src/utils/menuTableUtil.js\");\nvar _menuTableActions = __webpack_require__(/*! @/utils/menuTableActions */ \"./src/utils/menuTableActions.ts\");\nvar _utils = __webpack_require__(/*! @/utils */ \"./src/utils/index.tsx\");\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _WebUI = __webpack_require__(/*! nocode_component/WebUI */ \"webpack/container/remote/nocode_component/WebUI\");\nvar _apps = __webpack_require__(/*! @/actions/apps */ \"./src/actions/apps.ts\");\nvar _common = __webpack_require__(/*! @/actions/common */ \"./src/actions/common.js\");\nvar _FormPermSetting = _interopRequireDefault(__webpack_require__(/*! ./FormPermSetting.less */ \"./src/web/component/permission/rightOfUse/FormPermSetting.less\"));\nvar _lodash = __webpack_require__(/*! kd_libs/lodash */ \"webpack/container/remote/kd_libs/lodash\");\nvar _index = __webpack_require__(/*! @/utils/index */ \"./src/utils/index.tsx\");\nvar _env = __webpack_require__(/*! @/constants/env */ \"./src/constants/env.js\");\nvar _ListFilterSetting = _interopRequireDefault(__webpack_require__(/*! ../../common/ListFilterSetting */ \"./src/web/component/common/ListFilterSetting.tsx\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = _Object$keys2(e); if (_Object$getOwnPropertySymbols) { var o = _Object$getOwnPropertySymbols(e); r && (o = _filterInstanceProperty2(o).call(o, function (r) { return _Object$getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(e, _Object$getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { _Object$defineProperty(e, r, _Object$getOwnPropertyDescriptor(t, r)); }); } return e; } /**\n * 表单权限设置\n */\nvar EMPTY_FILTERS = [];\nvar MERGE = 'MERGE';\nvar UPDATE = 'UPDATE';\nvar DELETE = 'DELETE';\nvar permSettingReducer = function permSettingReducer(state, action) {\n  var type = action.type,\n    payload = action.payload,\n    deleteKey = action.deleteKey;\n  switch (type) {\n    case MERGE:\n      return _objectSpread({}, payload);\n    case UPDATE:\n      return _objectSpread(_objectSpread({}, state), payload);\n    case DELETE:\n      var newState = _objectSpread({}, state);\n      if ((0, _has.default)(newState, deleteKey)) {\n        delete newState[deleteKey];\n      }\n      return newState;\n    default:\n      return state;\n  }\n};\nvar reducer = function reducer(state, newData) {\n  var newState = _objectSpread({}, state);\n  (0, _keys.default)(newData).forEach(function (key) {\n    var val = newData[key];\n    if (Array.isArray(val) && !val.length) {\n      delete newState[key];\n    } else {\n      newState[key] = val;\n    }\n  });\n  return newState;\n};\nvar INIT_CUSTOM_PAGE_PERM = {\n  funcPermSet: ['view']\n};\nvar INIT_FORM_PERM = exports.INIT_FORM_PERM = {\n  record: '0',\n  funcPermSet: ['view', 'view-001', 'view-002', 'view-003', 'view-004', 'view-005', 'add', 'add-001', 'add-002', 'add-003', 'edit', 'edit-001', 'delete'],\n  fieldPermSet: {},\n  filters: []\n};\n\n/**\n * 业务操作权限\n */\nvar BizButtonPerm = function BizButtonPerm(_ref) {\n  var value = _ref.value,\n    options = _ref.options,\n    onChange = _ref.onChange;\n  var _useState = (0, _react.useState)(value),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    checked = _useState2[0],\n    setChecked = _useState2[1];\n  var handleCheckboxChange = function handleCheckboxChange(newVal) {\n    var _context;\n    setChecked(newVal);\n    var uncheckedVal = (0, _filter.default)(_context = (0, _map.default)(options).call(options, function (item) {\n      return item.id;\n    })).call(_context, function (opKey) {\n      return !(0, _includes.default)(newVal).call(newVal, opKey);\n    });\n    onChange === null || onChange === void 0 || onChange(uncheckedVal);\n  };\n  (0, _react.useEffect)(function () {\n    setChecked(value);\n  }, [value]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default.bizButtonSetting\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default.row\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default.title\n  }, \"\\u4E1A\\u52A1\\u64CD\\u4F5C\"), /*#__PURE__*/_react.default.createElement(_kdesign.Checkbox.Group, {\n    onChange: handleCheckboxChange,\n    style: {\n      marginLeft: '108px'\n    },\n    value: checked\n  }, (0, _map.default)(options).call(options, function (_ref2) {\n    var id = _ref2.id,\n      text = _ref2.text;\n    return /*#__PURE__*/_react.default.createElement(_kdesign.Checkbox, {\n      value: id,\n      key: id\n    }, (text === null || text === void 0 ? void 0 : text.zh_CN) || '');\n  }))));\n};\nvar FormPerm = function FormPerm(_ref3) {\n  var formInfo = _ref3.formInfo,\n    value = _ref3.value,\n    appId = _ref3.appId,\n    onChange = _ref3.onChange;\n  var name = formInfo.name,\n    formId = formInfo.formId;\n  var _useState3 = (0, _react.useState)(!!value),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    hasPerm = _useState4[0],\n    setHasPerm = _useState4[1];\n  var _useReducer = (0, _react.useReducer)(reducer, value || INIT_FORM_PERM),\n    _useReducer2 = (0, _slicedToArray2.default)(_useReducer, 2),\n    formPerm = _useReducer2[0],\n    dispatchFormPerm = _useReducer2[1];\n  var _useState5 = (0, _react.useState)([]),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    panelActiveKey = _useState6[0],\n    setPanelActiveKey = _useState6[1];\n  var _useState7 = (0, _react.useState)(false),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    isOpen = _useState8[0],\n    setIsOpen = _useState8[1];\n  var _useState9 = (0, _react.useState)(false),\n    _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n    showFilterSettingPop = _useState10[0],\n    setShowFilterSettingPop = _useState10[1];\n  // const [configuredFilterItems, setConfiguredFilterItems] = useState(formPerm.filters || [])\n  var _useState11 = (0, _react.useState)(),\n    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n    colHeadFilter = _useState12[0],\n    setColHeadFilter = _useState12[1];\n  var _useState13 = (0, _react.useState)([]),\n    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n    listFilterConfig = _useState14[0],\n    setListFilterConfig = _useState14[1];\n  var _useState15 = (0, _react.useState)([]),\n    _useState16 = (0, _slicedToArray2.default)(_useState15, 2),\n    bizButtonOptions = _useState16[0],\n    setBizButtonOptions = _useState16[1];\n  var hasLoadListConfig = (0, _react.useRef)(false);\n  var hasLoadBizButton = (0, _react.useRef)(false);\n  var hasChildDropdown = (0, _react.useRef)();\n  // const [recordType, setRecordType] = useState('0')\n  var isCustomRecord = formPerm.record === '2';\n  // const isCustomRecord = recordType === '2'\n  var formPermDataRef = (0, _react.useRef)({});\n  var bizButtonRef = (0, _react.useRef)([]);\n  formPermDataRef.current = formPerm;\n  bizButtonRef.current = bizButtonOptions;\n  var handleCloseFilterSetting = (0, _react.useCallback)(function () {\n    setShowFilterSettingPop(false);\n  }, []);\n  var handleFilterConfirm = function handleFilterConfirm(values) {\n    var newConfiguredFilterItems = (0, _menuTableUtil.getEffectiveFilterItems)(values);\n    // setConfiguredFilterItems(newConfiguredFilterItems)\n    handleChangeAndNotify({\n      filters: newConfiguredFilterItems\n    });\n    setShowFilterSettingPop(false);\n  };\n  var handlePanelChange = function handlePanelChange() {\n    // 切换面板的展开、收起\n    var newIsOpen = !isOpen;\n    setIsOpen(newIsOpen);\n  };\n  var onDelete = function onDelete(i) {\n    var _ref4;\n    var newItems = (_ref4 = formPerm.filters || []) === null || _ref4 === void 0 ? void 0 : (0, _filter.default)(_ref4).call(_ref4, function (item, index) {\n      return i !== index;\n    });\n    handleChangeAndNotify({\n      filters: newItems\n    });\n  };\n  var getEnumFilterValue = /*#__PURE__*/function () {\n    var _ref5 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(v, newConfiguredFilterItems) {\n      return _regenerator.default.wrap(function _callee$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return (0, _menuTableActions.getEnumFilterValue)(appId, formId, _env.ENV_APP, newConfiguredFilterItems || formPerm.filters || [], listFilterConfig, {\n              fieldName: v === null || v === void 0 ? void 0 : v.fieldName,\n              compareType: v === null || v === void 0 ? void 0 : v.compareType,\n              value: v === null || v === void 0 ? void 0 : v.value\n            }, 'schemaConfig');\n          case 2:\n            return _context2.abrupt(\"return\", _context2.sent);\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee);\n    }));\n    return function getEnumFilterValue(_x, _x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleGetColHeadFilter = (0, _react.useCallback)(function (v, configuredFilterItems) {\n    getEnumFilterValue({\n      fieldName: v === null || v === void 0 ? void 0 : v.fieldName,\n      compareType: v === null || v === void 0 ? void 0 : v.compareType,\n      value: v === null || v === void 0 ? void 0 : v.value\n    }, configuredFilterItems).then(function (data) {\n      setColHeadFilter(function (filter) {\n        return _objectSpread(_objectSpread({}, filter), {}, (0, _defineProperty2.default)({}, v === null || v === void 0 ? void 0 : v.fieldName, data));\n      });\n    });\n  }, [getEnumFilterValue]);\n  var filters = (0, _react.useMemo)(function () {\n    return (0, _listSettingUtil.getTransferFilters)((0, _listSettingUtil.getFilters)(formPerm.filters || [], listFilterConfig));\n  }, [formPerm.filters, listFilterConfig]);\n  var handleRecordAuthChange = function handleRecordAuthChange(e) {\n    var fieldPermSet = formPermDataRef.current.fieldPermSet;\n    // 这里主要处理：业务操作的权限不被重置\n    var _fieldPermSet$view = fieldPermSet.view,\n      viewFieldPerm = _fieldPermSet$view === void 0 ? [] : _fieldPermSet$view;\n    var newViewFieldPerm = (0, _filter.default)(viewFieldPerm).call(viewFieldPerm, function (key) {\n      return (0, _find.default)(bizButtonOptions).call(bizButtonOptions, function (button) {\n        return button.id === key;\n      });\n    });\n    var newFieldPermSet = newViewFieldPerm.length ? {\n      view: newViewFieldPerm\n    } : {};\n    var newVal = e.target.value === '3' ? _objectSpread(_objectSpread({}, INIT_FORM_PERM), {}, {\n      fieldPermSet: newFieldPermSet,\n      record: e.target.value\n    }) : {\n      record: e.target.value\n    };\n    handleChangeAndNotify(newVal);\n    // setRecordType(e.target.value)\n  };\n  var getListConfig = /*#__PURE__*/function () {\n    var _ref6 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n      var _ref7, _ref7$rows, rows, _ref8, _ref8$listFilterConfi, _listFilterConfig, _ref8$listItemConfig, listItemConfig, message;\n      return _regenerator.default.wrap(function _callee2$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return (0, _apps.getFormDataListSetting)(appId, formId, '1', {});\n          case 3:\n            _context3.t0 = _context3.sent;\n            if (_context3.t0) {\n              _context3.next = 6;\n              break;\n            }\n            _context3.t0 = {};\n          case 6:\n            _ref7 = _context3.t0;\n            _ref7$rows = _ref7.rows;\n            rows = _ref7$rows === void 0 ? [] : _ref7$rows;\n            _ref8 = rows[0] || {}, _ref8$listFilterConfi = _ref8.listFilterConfig, _listFilterConfig = _ref8$listFilterConfi === void 0 ? [] : _ref8$listFilterConfi, _ref8$listItemConfig = _ref8.listItemConfig, listItemConfig = _ref8$listItemConfig === void 0 ? [] : _ref8$listItemConfig; // 应该取listItemConfig，需要获取配置信息\n            setListFilterConfig((0, _map.default)(_listFilterConfig).call(_listFilterConfig, function (filter) {\n              var itemConfig = (0, _find.default)(listItemConfig).call(listItemConfig, function (item) {\n                return filter.fieldName === item.number;\n              }) || {};\n              return _objectSpread(_objectSpread({}, filter), itemConfig);\n            }));\n            hasLoadListConfig.current = true;\n            _context3.next = 19;\n            break;\n          case 14:\n            _context3.prev = 14;\n            _context3.t1 = _context3[\"catch\"](0);\n            console.log(_context3.t1);\n            message = _context3.t1.message;\n            (0, _utils.showNotice)('error', message);\n          case 19:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee2, null, [[0, 14]]);\n    }));\n    return function getListConfig() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var getBizButtonOptions = /*#__PURE__*/function () {\n    var _ref9 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n      var _ref10, _ref10$rows, rows, message;\n      return _regenerator.default.wrap(function _callee3$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return (0, _common.getBizButtonByFormId)(appId, formId);\n          case 3:\n            _context4.t0 = _context4.sent;\n            if (_context4.t0) {\n              _context4.next = 6;\n              break;\n            }\n            _context4.t0 = {};\n          case 6:\n            _ref10 = _context4.t0;\n            _ref10$rows = _ref10.rows;\n            rows = _ref10$rows === void 0 ? [] : _ref10$rows;\n            setBizButtonOptions(rows || []);\n            hasLoadBizButton.current = true;\n            _context4.next = 18;\n            break;\n          case 13:\n            _context4.prev = 13;\n            _context4.t1 = _context4[\"catch\"](0);\n            console.log(_context4.t1);\n            message = _context4.t1.message;\n            (0, _utils.showNotice)('error', message);\n          case 18:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee3, null, [[0, 13]]);\n    }));\n    return function getBizButtonOptions() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n  (0, _react.useEffect)(function () {\n    if (isOpen && !hasLoadListConfig.current) {\n      // 加载筛选项数据\n      getListConfig();\n    }\n    if (isOpen && !hasLoadBizButton.current) {\n      // 加载所有业务操作按钮\n      getBizButtonOptions();\n    }\n  }, [isOpen]);\n  var handleChangeAndNotify = function handleChangeAndNotify(change) {\n    var newFormPerm = _objectSpread(_objectSpread({}, formPermDataRef.current), change);\n    dispatchFormPerm(change);\n    onChange === null || onChange === void 0 || onChange(newFormPerm);\n  };\n\n  // 编辑功能权限发生变化\n  var handleFuncPermChange = function handleFuncPermChange(newVal, type) {\n    var _context5;\n    console.log('funcPermSet------', formPerm.funcPermSet);\n    var _formPermDataRef$curr = formPermDataRef.current.funcPermSet,\n      funcPermSet = _formPermDataRef$curr === void 0 ? [] : _formPermDataRef$curr;\n    var valueMap = {\n      add: _AppPermSetting.ADD_OPTIONS_VALUE,\n      edit: _AppPermSetting.EDIT_OPTIONS_VALUE,\n      view: _AppPermSetting.VIEW_OPTIONS_VALUE\n    };\n    var options = valueMap[type] || [];\n    var newFuncPermSet = (0, _concat.default)(_context5 = (0, _filter.default)(funcPermSet).call(funcPermSet, function (func) {\n      return !(0, _includes.default)(options).call(options, func);\n    })).call(_context5, newVal);\n    handleChangeAndNotify({\n      funcPermSet: newFuncPermSet\n    });\n  };\n  var handleSwitchChange = function handleSwitchChange(checked, funcKey) {\n    console.log('funcPermSet------', formPerm.funcPermSet);\n    var _formPermDataRef$curr2 = formPermDataRef.current.funcPermSet,\n      funcPermSet = _formPermDataRef$curr2 === void 0 ? [] : _formPermDataRef$curr2;\n    var newFuncPermSet = checked ? (0, _concat.default)(funcPermSet).call(funcPermSet, funcKey) : (0, _filter.default)(funcPermSet).call(funcPermSet, function (func) {\n      return func !== funcKey;\n    });\n    handleChangeAndNotify({\n      funcPermSet: newFuncPermSet\n    });\n  };\n  var handleViewFieldPermChange = function handleViewFieldPermChange(newVal) {\n    var _context6, _context7;\n    var _formPermDataRef$curr3 = formPermDataRef.current.fieldPermSet,\n      fieldPermSet = _formPermDataRef$curr3 === void 0 ? {} : _formPermDataRef$curr3;\n    var _fieldPermSet$view2 = fieldPermSet.view,\n      viewFieldPerm = _fieldPermSet$view2 === void 0 ? [] : _fieldPermSet$view2;\n    var bizButtonIds = (0, _map.default)(_context6 = bizButtonRef.current).call(_context6, function (item) {\n      return item.id;\n    });\n    var newViewFieldPerm = (0, _concat.default)(_context7 = (0, _filter.default)(viewFieldPerm).call(viewFieldPerm, function (key) {\n      return (0, _includes.default)(bizButtonIds).call(bizButtonIds, key);\n    })).call(_context7, newVal);\n    var newFieldPermSet = _objectSpread(_objectSpread({}, fieldPermSet), {}, {\n      view: newViewFieldPerm\n    });\n    handleChangeAndNotify({\n      fieldPermSet: newFieldPermSet\n    });\n  };\n  var handleAddFieldPermChange = function handleAddFieldPermChange(newVal) {\n    var _formPermDataRef$curr4 = formPermDataRef.current.fieldPermSet,\n      fieldPermSet = _formPermDataRef$curr4 === void 0 ? {} : _formPermDataRef$curr4;\n    var newFieldPermSet = _objectSpread(_objectSpread({}, fieldPermSet), {}, {\n      input: newVal\n    });\n    handleChangeAndNotify({\n      fieldPermSet: newFieldPermSet\n    });\n  };\n  var handleEditFieldPermChange = function handleEditFieldPermChange(newVal) {\n    var _formPermDataRef$curr5 = formPermDataRef.current.fieldPermSet,\n      fieldPermSet = _formPermDataRef$curr5 === void 0 ? {} : _formPermDataRef$curr5;\n    var newFieldPermSet = _objectSpread(_objectSpread({}, fieldPermSet), {}, {\n      edit: newVal\n    });\n    handleChangeAndNotify({\n      fieldPermSet: newFieldPermSet\n    });\n  };\n  var handleBizButtonPermChange = function handleBizButtonPermChange(hiddenKeys) {\n    var _context8;\n    var _formPermDataRef$curr6 = formPermDataRef.current.fieldPermSet,\n      fieldPermSet = _formPermDataRef$curr6 === void 0 ? {} : _formPermDataRef$curr6;\n    var _fieldPermSet$view3 = fieldPermSet.view,\n      viewFieldPerm = _fieldPermSet$view3 === void 0 ? [] : _fieldPermSet$view3;\n    var newViewFieldPerm = (0, _concat.default)(_context8 = (0, _filter.default)(viewFieldPerm).call(viewFieldPerm, function (key) {\n      return !(0, _find.default)(bizButtonOptions).call(bizButtonOptions, function (button) {\n        return button.id === key;\n      });\n    })).call(_context8, hiddenKeys);\n    var newFieldPermSet = _objectSpread(_objectSpread({}, fieldPermSet), {}, {\n      view: newViewFieldPerm\n    });\n    handleChangeAndNotify({\n      fieldPermSet: newFieldPermSet\n    });\n  };\n  (0, _react.useEffect)(function () {\n    if (!(0, _lodash.isEqual)((0, _index.deepTransformArrayToObj)(value), (0, _index.deepTransformArrayToObj)(formPerm))) {\n      setHasPerm(!!value);\n      dispatchFormPerm(value || INIT_FORM_PERM);\n    }\n  }, [value]);\n  var funcSetting = (0, _react.useMemo)(function () {\n    var _formPerm$funcPermSet = formPerm.funcPermSet,\n      funcPermSet = _formPerm$funcPermSet === void 0 ? [] : _formPerm$funcPermSet;\n    return {\n      viewFuncPerms: (0, _filter.default)(funcPermSet).call(funcPermSet, function (func) {\n        return (0, _includes.default)(_AppPermSetting.VIEW_OPTIONS_VALUE).call(_AppPermSetting.VIEW_OPTIONS_VALUE, func);\n      }),\n      addFuncPerms: (0, _filter.default)(funcPermSet).call(funcPermSet, function (func) {\n        return (0, _includes.default)(_AppPermSetting.ADD_OPTIONS_VALUE).call(_AppPermSetting.ADD_OPTIONS_VALUE, func);\n      }),\n      editFuncPerms: (0, _filter.default)(funcPermSet).call(funcPermSet, function (func) {\n        return (0, _includes.default)(_AppPermSetting.EDIT_OPTIONS_VALUE).call(_AppPermSetting.EDIT_OPTIONS_VALUE, func);\n      }),\n      isDeleteOpOpen: funcPermSet === null || funcPermSet === void 0 ? void 0 : (0, _includes.default)(funcPermSet).call(funcPermSet, 'delete'),\n      isViewOpOpen: funcPermSet === null || funcPermSet === void 0 ? void 0 : (0, _includes.default)(funcPermSet).call(funcPermSet, 'view'),\n      isAddOpOpen: funcPermSet === null || funcPermSet === void 0 ? void 0 : (0, _includes.default)(funcPermSet).call(funcPermSet, 'add'),\n      isEditOpOpen: funcPermSet === null || funcPermSet === void 0 ? void 0 : (0, _includes.default)(funcPermSet).call(funcPermSet, 'edit')\n    };\n  }, [formPerm]);\n  var viewFieldPerm = (0, _react.useMemo)(function () {\n    var _context9;\n    var _formPerm$fieldPermSe = formPerm.fieldPermSet,\n      fieldPermSet = _formPerm$fieldPermSe === void 0 ? {} : _formPerm$fieldPermSe;\n    return (0, _filter.default)(_context9 = (fieldPermSet === null || fieldPermSet === void 0 ? void 0 : fieldPermSet.view) || []).call(_context9, function (key) {\n      return !(0, _find.default)(bizButtonOptions).call(bizButtonOptions, function (item) {\n        return item.id === key;\n      });\n    });\n  }, [formPerm, bizButtonOptions]);\n  var addFieldPerm = (0, _react.useMemo)(function () {\n    var _formPerm$fieldPermSe2 = formPerm.fieldPermSet,\n      fieldPermSet = _formPerm$fieldPermSe2 === void 0 ? {} : _formPerm$fieldPermSe2;\n    return (fieldPermSet === null || fieldPermSet === void 0 ? void 0 : fieldPermSet.input) || [];\n  }, [formPerm]);\n  var editFieldPerm = (0, _react.useMemo)(function () {\n    var _formPerm$fieldPermSe3 = formPerm.fieldPermSet,\n      fieldPermSet = _formPerm$fieldPermSe3 === void 0 ? {} : _formPerm$fieldPermSe3;\n    return (fieldPermSet === null || fieldPermSet === void 0 ? void 0 : fieldPermSet.edit) || [];\n  }, [formPerm]);\n  var bizButtonIds = (0, _react.useMemo)(function () {\n    var _context10;\n    var _formPerm$fieldPermSe4 = formPerm.fieldPermSet,\n      fieldPermSet = _formPerm$fieldPermSe4 === void 0 ? {} : _formPerm$fieldPermSe4;\n    return (0, _filter.default)(_context10 = (0, _map.default)(bizButtonOptions).call(bizButtonOptions, function (item) {\n      return item.id;\n    })).call(_context10, function (buttonId) {\n      var _context11;\n      return !(0, _includes.default)(_context11 = (fieldPermSet === null || fieldPermSet === void 0 ? void 0 : fieldPermSet.view) || []).call(_context11, buttonId);\n    });\n  }, [formPerm, bizButtonOptions]);\n  var handleFormPermChange = function handleFormPermChange(checked) {\n    setHasPerm(checked);\n    var newFormPerm = checked ? formPerm : undefined;\n    onChange === null || onChange === void 0 || onChange(newFormPerm);\n  };\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default['form-auth']\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Collapse, {\n    defaultActiveKey: panelActiveKey,\n    name: \"Collapse_\".concat(formId),\n    onChange: handlePanelChange\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Collapse.Panel, {\n    header: name,\n    panelKey: formId,\n    extra: /*#__PURE__*/_react.default.createElement(_kdesign.Switch, {\n      checked: hasPerm,\n      onChange: handleFormPermChange\n    })\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: (0, _classnames.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, _FormPermSetting.default['no-perm'], true), _FormPermSetting.default.hidden, hasPerm))\n  }, \"[\\u8BB0\\u5F55\\u8303\\u56F4]\\u3001[\\u64CD\\u4F5C\\u6743\\u9650] \\u7684\\u914D\\u7F6E\\u9700\\u5F00\\u542F\\u540E\\u751F\\u6548\"), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: (0, _classnames.default)((0, _defineProperty2.default)({}, _FormPermSetting.default.hidden, !hasPerm))\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default['auth-item']\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default.name,\n    title: \"\\u8BBE\\u7F6E\\u89D2\\u8272\\u53EF\\u4EE5\\u4F7F\\u7528\\u7684\\u8BB0\\u5F55\\u8303\\u56F4\"\n  }, \"\\u8BB0\\u5F55\\u8303\\u56F4\"), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default['record-auth']\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Radio.Group, {\n    onChange: handleRecordAuthChange,\n    value: formPerm.record\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Radio, {\n    value: \"0\"\n  }, \"\\u53EF\\u4EE5\\u4F7F\\u7528\\u6240\\u6709\\u8BB0\\u5F55\"), /*#__PURE__*/_react.default.createElement(_kdesign.Radio, {\n    value: \"1\"\n  }, \"\\u53EF\\u4EE5\\u4F7F\\u7528\\u81EA\\u5DF1\\u7684\\u8BB0\\u5F55\"), /*#__PURE__*/_react.default.createElement(_kdesign.Radio, {\n    value: \"3\"\n  }, \"\\u53EF\\u4EE5\\u67E5\\u770B\\u6240\\u6709\\u8BB0\\u5F55\\uFF0C\\u53EA\\u80FD\\u7F16\\u8F91\\u3001\\u5220\\u9664\\u81EA\\u5DF1\\u5F55\\u5165\\u7684\\u8BB0\\u5F55\"), /*#__PURE__*/_react.default.createElement(_kdesign.Radio, {\n    value: \"2\"\n  }, \"\\u81EA\\u5B9A\\u4E49\")), isCustomRecord && /*#__PURE__*/_react.default.createElement(_ListFilterSetting.default, {\n    title: \"\\u7B5B\\u9009\",\n    onClose: handleCloseFilterSetting,\n    onConfirm: handleFilterConfirm,\n    data: listFilterConfig || [],\n    configuredFilterItems: formPerm.filters || EMPTY_FILTERS,\n    style: {\n      width: '640px',\n      height: '332px'\n    },\n    maskClosable: true,\n    maskStyle: {\n      opacity: 0\n    }\n    // className={style['filter-popup']}\n    ,\n    draggable: true,\n    showClearAll: true,\n    onDelete: onDelete,\n    onColHeadFilterVisibleChange: handleGetColHeadFilter,\n    colHeadFilter: colHeadFilter,\n    visible: showFilterSettingPop,\n    onDropdownVisibleChange: function onDropdownVisibleChange(v) {\n      hasChildDropdown.current = v;\n    },\n    onVisibleChange: function onVisibleChange(v) {\n      (0, _setTimeout2.default)(function () {\n        // 如果子组件存在激活的dropdown, 阻止弹窗关闭\n        if (!hasChildDropdown.current) {\n          setShowFilterSettingPop(v);\n        }\n      });\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"p\", {\n    className: (0, _classnames.default)([(0, _filter.default)(_FormPermSetting.default), (0, _defineProperty2.default)({}, _FormPermSetting.default['is-active'], showFilterSettingPop)])\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Icon, {\n    prefix: \"nocodeplatformicon\",\n    type: \"shaixuan\"\n  }), \"\\u7B5B\\u9009\"))), isCustomRecord && /*#__PURE__*/_react.default.createElement(_WebUI.FilterLabelBar, {\n    maxLabelCount: 3,\n    filters: filters,\n    onDelete: onDelete,\n    className: _FormPermSetting.default['filter-label-bar']\n  })), formPerm.record !== '3' && /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default['auth-item']\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default.name,\n    title: \"\\u8BBE\\u7F6E\\u89D2\\u8272\\u7684\\u64CD\\u4F5C\\u6743\\u9650\"\n  }, \"\\u64CD\\u4F5C\\u6743\\u9650\"), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default['op-auth']\n  }, /*#__PURE__*/_react.default.createElement(_AppPermSetting.SettingItem, {\n    title: \"\\u67E5\\u770B\",\n    options: _AppPermSetting.VIEW_OPTIONS,\n    value: funcSetting.viewFuncPerms,\n    allowFieldAuth: true,\n    formId: formId,\n    appId: appId,\n    checked: funcSetting.isViewOpOpen,\n    onSwitchChange: function onSwitchChange(checked) {\n      handleSwitchChange(checked, 'view');\n    },\n    fieldPermSet: viewFieldPerm,\n    onChange: function onChange(v) {\n      return handleFuncPermChange(v, 'view');\n    },\n    onPermSetChange: handleViewFieldPermChange\n  }), /*#__PURE__*/_react.default.createElement(_AppPermSetting.SettingItem, {\n    title: \"\\u5F55\\u5165\",\n    options: _AppPermSetting.ADD_OPTIONS,\n    value: funcSetting.addFuncPerms,\n    allowFieldAuth: true,\n    formId: formId,\n    appId: appId,\n    checked: funcSetting.isAddOpOpen,\n    onSwitchChange: function onSwitchChange(checked) {\n      handleSwitchChange(checked, 'add');\n    },\n    onChange: function onChange(v) {\n      return handleFuncPermChange(v, 'add');\n    },\n    fieldPermSet: addFieldPerm,\n    onPermSetChange: handleAddFieldPermChange\n  }), /*#__PURE__*/_react.default.createElement(_AppPermSetting.SettingItem, {\n    title: \"\\u7F16\\u8F91\",\n    options: _AppPermSetting.EDIT_OPTIONS,\n    value: funcSetting.editFuncPerms,\n    allowFieldAuth: true,\n    formId: formId,\n    appId: appId,\n    fieldPermSet: editFieldPerm,\n    checked: funcSetting.isEditOpOpen,\n    onSwitchChange: function onSwitchChange(checked) {\n      handleSwitchChange(checked, 'edit');\n    },\n    onChange: function onChange(v) {\n      return handleFuncPermChange(v, 'edit');\n    },\n    onPermSetChange: handleEditFieldPermChange\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default.setting\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default.title\n  }, \"\\u5220\\u9664\"), /*#__PURE__*/_react.default.createElement(_kdesign.Switch, {\n    checked: funcSetting.isDeleteOpOpen,\n    onChange: function onChange(checked) {\n      handleSwitchChange(checked, 'delete');\n    }\n  })), !!bizButtonOptions.length && /*#__PURE__*/_react.default.createElement(BizButtonPerm, {\n    options: bizButtonOptions,\n    value: bizButtonIds,\n    onChange: handleBizButtonPermChange\n  }))), formPerm.record === '3' && !!bizButtonOptions.length && /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default['auth-item']\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default.name,\n    title: \"\\u8BBE\\u7F6E\\u89D2\\u8272\\u7684\\u64CD\\u4F5C\\u6743\\u9650\"\n  }, \"\\u64CD\\u4F5C\\u6743\\u9650\"), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default['op-auth']\n  }, /*#__PURE__*/_react.default.createElement(BizButtonPerm, {\n    options: bizButtonOptions,\n    value: bizButtonIds,\n    onChange: handleBizButtonPermChange\n  })))))));\n};\n\n// 卡片看板权限\nvar CustomPagePerm = function CustomPagePerm(_ref12) {\n  var formInfo = _ref12.formInfo,\n    value = _ref12.value,\n    onChange = _ref12.onChange;\n  var name = formInfo.name;\n  var _useState17 = (0, _react.useState)(!!value),\n    _useState18 = (0, _slicedToArray2.default)(_useState17, 2),\n    hasPerm = _useState18[0],\n    setHasPerm = _useState18[1];\n  var handlePermChange = function handlePermChange(checked) {\n    setHasPerm(checked);\n    var newFormPerm = checked ? INIT_CUSTOM_PAGE_PERM : undefined;\n    onChange === null || onChange === void 0 || onChange(newFormPerm);\n  };\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: (0, _classnames.default)(_FormPermSetting.default['form-auth'], _FormPermSetting.default['custom-page-auth'])\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _FormPermSetting.default['custom-page-name']\n  }, name), /*#__PURE__*/_react.default.createElement(_kdesign.Switch, {\n    className: _FormPermSetting.default['custom-page-switch'],\n    checked: hasPerm,\n    onChange: handlePermChange\n  }));\n};\nvar FormPermSetting = (0, _react.forwardRef)(function (_ref13, ref) {\n  var roleId = _ref13.roleId,\n    formList = _ref13.formList,\n    _ref13$value = _ref13.value,\n    value = _ref13$value === void 0 ? {} : _ref13$value,\n    appId = _ref13.appId,\n    handleEqualChange = _ref13.handleEqualChange,\n    onChange = _ref13.onChange;\n  var _useReducer3 = (0, _react.useReducer)(permSettingReducer, value),\n    _useReducer4 = (0, _slicedToArray2.default)(_useReducer3, 2),\n    setting = _useReducer4[0],\n    dispatchSetting = _useReducer4[1];\n  var handleChange = function handleChange(formId, newVal) {\n    if (newVal === undefined) {\n      dispatchSetting({\n        type: DELETE,\n        deleteKey: formId\n      });\n    } else {\n      dispatchSetting({\n        type: UPDATE,\n        payload: (0, _defineProperty2.default)({}, formId, newVal)\n      });\n    }\n  };\n  (0, _react.useEffect)(function () {\n    if (!(0, _lodash.isEqual)((0, _index.deepTransformArrayToObj)(value), (0, _index.deepTransformArrayToObj)(setting))) {\n      dispatchSetting({\n        type: MERGE,\n        payload: value\n      });\n    }\n    handleEqualChange(true);\n  }, [value]);\n  (0, _react.useEffect)(function () {\n    var isValueEqual = (0, _lodash.isEqual)((0, _index.deepTransformArrayToObj)(value), (0, _index.deepTransformArrayToObj)(setting));\n    handleEqualChange(isValueEqual);\n    onChange === null || onChange === void 0 || onChange(setting);\n  }, [setting]);\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      formPerm: setting,\n      dispatchSetting: dispatchSetting\n    };\n  }, [setting, dispatchSetting]);\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, (0, _map.default)(formList).call(formList, function (formInfo) {\n    var _context13;\n    var formId = formInfo.formId,\n      type = formInfo.type;\n    if (type === 'custom') {\n      var _context12;\n      // 卡片看板\n      return /*#__PURE__*/_react.default.createElement(CustomPagePerm, {\n        formInfo: formInfo,\n        key: (0, _concat.default)(_context12 = \"\".concat(roleId, \"-\")).call(_context12, formId),\n        value: setting[formId],\n        onChange: function onChange(v) {\n          return handleChange(formId, v);\n        }\n      });\n    }\n    return /*#__PURE__*/_react.default.createElement(FormPerm, {\n      formInfo: formInfo,\n      key: (0, _concat.default)(_context13 = \"\".concat(roleId, \"-\")).call(_context13, formId),\n      appId: appId,\n      value: setting[formId],\n      onChange: function onChange(v) {\n        return handleChange(formId, v);\n      }\n    });\n  }));\n});\nvar _default = exports[\"default\"] = FormPermSetting;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL3JpZ2h0T2ZVc2UvRm9ybVBlcm1TZXR0aW5nLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXhCQTtBQUNBO0FBZ0NBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUZBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUtBO0FBRUE7QUFLQTtBQUhBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBbEJBO0FBQUE7QUFBQTtBQW9CQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQVZBO0FBQUE7QUFBQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFVQTs7QUFFQTtBQUNBO0FBSUE7QUFGQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQVdBO0FBT0E7QUFMQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFHQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLXBsYXRmb3JtLy4vc3JjL3dlYi9jb21wb25lbnQvcGVybWlzc2lvbi9yaWdodE9mVXNlL0Zvcm1QZXJtU2V0dGluZy50c3g/OTE0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOihqOWNleadg+mZkOiuvue9rlxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZHVjZXIsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZVJlZiwgZm9yd2FyZFJlZiwgdXNlSW1wZXJhdGl2ZUhhbmRsZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQ29sbGFwc2UsIFJhZGlvLCBJY29uLCBTd2l0Y2gsIENoZWNrYm94IH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHtcbiAgU2V0dGluZ0l0ZW0sIFZJRVdfT1BUSU9OUywgQUREX09QVElPTlMsIEVESVRfT1BUSU9OUyxcbiAgVklFV19PUFRJT05TX1ZBTFVFLCBBRERfT1BUSU9OU19WQUxVRSwgRURJVF9PUFRJT05TX1ZBTFVFXG59IGZyb20gJy4vQXBwUGVybVNldHRpbmcnXG5pbXBvcnQgeyBnZXRGaWx0ZXJzLCBnZXRUcmFuc2ZlckZpbHRlcnMgfSBmcm9tICdAL3V0aWxzL2xpc3RTZXR0aW5nVXRpbCdcbmltcG9ydCB7XG4gIGdldEVmZmVjdGl2ZUZpbHRlckl0ZW1zXG59IGZyb20gJ0AvdXRpbHMvbWVudVRhYmxlVXRpbCdcbmltcG9ydCB7IGdldEVudW1GaWx0ZXJWYWx1ZSBhcyBsb2FkRW51bUZpbHRlclZhbHVlIH0gZnJvbSAnQC91dGlscy9tZW51VGFibGVBY3Rpb25zJ1xuaW1wb3J0IHsgc2hvd05vdGljZSB9IGZyb20gJ0AvdXRpbHMnXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IHsgRmlsdGVyTGFiZWxCYXIsIExpc3RGaWx0ZXJTZXR0aW5nRHJvcGRvd24gfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuaW1wb3J0IHtcbiAgZ2V0Rm9ybURhdGFMaXN0U2V0dGluZyBhcyBsb2FkRm9ybURhdGFMaXN0U2V0dGluZ1xufSBmcm9tICdAL2FjdGlvbnMvYXBwcydcbmltcG9ydCB7IGdldEJpekJ1dHRvbkJ5Rm9ybUlkIH0gZnJvbSAnQC9hY3Rpb25zL2NvbW1vbidcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9Gb3JtUGVybVNldHRpbmcubGVzcydcbmltcG9ydCB7IGlzRXF1YWwgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBkZWVwVHJhbnNmb3JtQXJyYXlUb09iaiB9IGZyb20gJ0AvdXRpbHMvaW5kZXgnXG5pbXBvcnQgeyBFTlZfQVBQIH0gZnJvbSAnQC9jb25zdGFudHMvZW52J1xuaW1wb3J0IExpc3RGaWx0ZXJTZXR0aW5nIGZyb20gJy4uLy4uL2NvbW1vbi9MaXN0RmlsdGVyU2V0dGluZydcblxuaW50ZXJmYWNlIEZvcm1QZXJtUHJvcHMge1xuICBmb3JtSW5mbzogYW55O1xuICB2YWx1ZTogYW55O1xuICBhcHBJZDogc3RyaW5nO1xuICBvbkNoYW5nZTogKHBlcm06IGFueSkgPT4gdm9pZDtcbn1cblxuY29uc3QgRU1QVFlfRklMVEVSUzogYW55W10gPSBbXVxuXG5jb25zdCBNRVJHRSA9ICdNRVJHRSdcbmNvbnN0IFVQREFURSA9ICdVUERBVEUnXG5jb25zdCBERUxFVEUgPSAnREVMRVRFJ1xuY29uc3QgcGVybVNldHRpbmdSZWR1Y2VyID0gKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgY29uc3QgeyB0eXBlLCBwYXlsb2FkLCBkZWxldGVLZXkgfSA9IGFjdGlvblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIE1FUkdFOlxuICAgICAgcmV0dXJuIHsgLi4ucGF5bG9hZCB9XG4gICAgY2FzZSBVUERBVEU6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgLi4ucGF5bG9hZCB9XG4gICAgY2FzZSBERUxFVEU6XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IHsgLi4uc3RhdGUgfVxuICAgICAgaWYgKFJlZmxlY3QuaGFzKG5ld1N0YXRlLCBkZWxldGVLZXkpKSB7XG4gICAgICAgIGRlbGV0ZSBuZXdTdGF0ZVtkZWxldGVLZXldXG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cblxuY29uc3QgcmVkdWNlciA9IChzdGF0ZTogYW55LCBuZXdEYXRhOiBhbnkpID0+IHtcbiAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnN0YXRlIH1cbiAgT2JqZWN0LmtleXMobmV3RGF0YSkuZm9yRWFjaChrZXkgPT4ge1xuICAgIGNvbnN0IHZhbCA9IG5ld0RhdGFba2V5XVxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkgJiYgIXZhbC5sZW5ndGgpIHtcbiAgICAgIGRlbGV0ZSBuZXdTdGF0ZVtrZXldXG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1N0YXRlW2tleV0gPSB2YWxcbiAgICB9XG4gIH0pXG4gIHJldHVybiBuZXdTdGF0ZVxufVxuXG5jb25zdCBJTklUX0NVU1RPTV9QQUdFX1BFUk0gPSB7XG4gIGZ1bmNQZXJtU2V0OiBbJ3ZpZXcnXVxufVxuXG5leHBvcnQgY29uc3QgSU5JVF9GT1JNX1BFUk0gPSB7XG4gIHJlY29yZDogJzAnLFxuICBmdW5jUGVybVNldDogW1xuICAgICd2aWV3JyxcbiAgICAndmlldy0wMDEnLFxuICAgICd2aWV3LTAwMicsXG4gICAgJ3ZpZXctMDAzJyxcbiAgICAndmlldy0wMDQnLFxuICAgICd2aWV3LTAwNScsXG4gICAgJ2FkZCcsXG4gICAgJ2FkZC0wMDEnLFxuICAgICdhZGQtMDAyJyxcbiAgICAnYWRkLTAwMycsXG4gICAgJ2VkaXQnLFxuICAgICdlZGl0LTAwMScsXG4gICAgJ2RlbGV0ZSdcbiAgXSxcbiAgZmllbGRQZXJtU2V0OiB7fSxcbiAgZmlsdGVyczogW11cbn1cblxuLyoqXG4gKiDkuJrliqHmk43kvZzmnYPpmZBcbiAqL1xuY29uc3QgQml6QnV0dG9uUGVybTogUmVhY3QuRkM8YW55PiA9ICh7XG4gIHZhbHVlLFxuICBvcHRpb25zLFxuICBvbkNoYW5nZVxufSkgPT4ge1xuICBjb25zdCBbY2hlY2tlZCwgc2V0Q2hlY2tlZF0gPSB1c2VTdGF0ZSh2YWx1ZSlcblxuICBjb25zdCBoYW5kbGVDaGVja2JveENoYW5nZSA9IChuZXdWYWw6IGFueVtdKSA9PiB7XG4gICAgc2V0Q2hlY2tlZChuZXdWYWwpXG4gICAgY29uc3QgdW5jaGVja2VkVmFsID0gb3B0aW9ucy5tYXAoaXRlbSA9PiBpdGVtLmlkKS5maWx0ZXIob3BLZXkgPT4ge1xuICAgICAgcmV0dXJuICFuZXdWYWwuaW5jbHVkZXMob3BLZXkpXG4gICAgfSlcbiAgICBvbkNoYW5nZT8uKHVuY2hlY2tlZFZhbClcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0Q2hlY2tlZCh2YWx1ZSlcbiAgfSwgW3ZhbHVlXSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYml6QnV0dG9uU2V0dGluZ30+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJvd30+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudGl0bGV9PuS4muWKoeaTjeS9nDwvZGl2PlxuICAgICAgICA8Q2hlY2tib3guR3JvdXAgb25DaGFuZ2U9e2hhbmRsZUNoZWNrYm94Q2hhbmdlfSBzdHlsZT17eyBtYXJnaW5MZWZ0OiAnMTA4cHgnIH19IHZhbHVlPXtjaGVja2VkfT5cbiAgICAgICAgICB7b3B0aW9ucy5tYXAoKHsgaWQsIHRleHQgfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPENoZWNrYm94IHZhbHVlPXtpZH0ga2V5PXtpZH0+e3RleHQ/LnpoX0NOIHx8ICcnfTwvQ2hlY2tib3g+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvQ2hlY2tib3guR3JvdXA+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5jb25zdCBGb3JtUGVybTogUmVhY3QuRkM8Rm9ybVBlcm1Qcm9wcz4gPSAoe1xuICBmb3JtSW5mbyxcbiAgdmFsdWUsXG4gIGFwcElkLFxuICBvbkNoYW5nZVxufSkgPT4ge1xuICBjb25zdCB7IG5hbWUsIGZvcm1JZCB9ID0gZm9ybUluZm9cbiAgY29uc3QgW2hhc1Blcm0sIHNldEhhc1Blcm1dID0gdXNlU3RhdGUoISF2YWx1ZSlcbiAgY29uc3QgW2Zvcm1QZXJtLCBkaXNwYXRjaEZvcm1QZXJtXSA9IHVzZVJlZHVjZXIocmVkdWNlciwgdmFsdWUgfHwgSU5JVF9GT1JNX1BFUk0pXG4gIGNvbnN0IFtwYW5lbEFjdGl2ZUtleSwgc2V0UGFuZWxBY3RpdmVLZXldID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKVxuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzaG93RmlsdGVyU2V0dGluZ1BvcCwgc2V0U2hvd0ZpbHRlclNldHRpbmdQb3BdID0gdXNlU3RhdGUoZmFsc2UpXG4gIC8vIGNvbnN0IFtjb25maWd1cmVkRmlsdGVySXRlbXMsIHNldENvbmZpZ3VyZWRGaWx0ZXJJdGVtc10gPSB1c2VTdGF0ZShmb3JtUGVybS5maWx0ZXJzIHx8IFtdKVxuICBjb25zdCBbY29sSGVhZEZpbHRlciwgc2V0Q29sSGVhZEZpbHRlcl0gPSB1c2VTdGF0ZSgpXG4gIGNvbnN0IFtsaXN0RmlsdGVyQ29uZmlnLCBzZXRMaXN0RmlsdGVyQ29uZmlnXSA9IHVzZVN0YXRlKFtdKVxuICBjb25zdCBbYml6QnV0dG9uT3B0aW9ucywgc2V0Qml6QnV0dG9uT3B0aW9uc10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3QgaGFzTG9hZExpc3RDb25maWcgPSB1c2VSZWYoZmFsc2UpXG4gIGNvbnN0IGhhc0xvYWRCaXpCdXR0b24gPSB1c2VSZWYoZmFsc2UpXG4gIGNvbnN0IGhhc0NoaWxkRHJvcGRvd24gPSB1c2VSZWYoKVxuICAvLyBjb25zdCBbcmVjb3JkVHlwZSwgc2V0UmVjb3JkVHlwZV0gPSB1c2VTdGF0ZSgnMCcpXG4gIGNvbnN0IGlzQ3VzdG9tUmVjb3JkID0gZm9ybVBlcm0ucmVjb3JkID09PSAnMidcbiAgLy8gY29uc3QgaXNDdXN0b21SZWNvcmQgPSByZWNvcmRUeXBlID09PSAnMidcbiAgY29uc3QgZm9ybVBlcm1EYXRhUmVmID0gdXNlUmVmPGFueT4oe30pXG4gIGNvbnN0IGJpekJ1dHRvblJlZiA9IHVzZVJlZjxhbnk+KFtdKVxuICBmb3JtUGVybURhdGFSZWYuY3VycmVudCA9IGZvcm1QZXJtXG4gIGJpekJ1dHRvblJlZi5jdXJyZW50ID0gYml6QnV0dG9uT3B0aW9uc1xuXG4gIGNvbnN0IGhhbmRsZUNsb3NlRmlsdGVyU2V0dGluZyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTaG93RmlsdGVyU2V0dGluZ1BvcChmYWxzZSlcbiAgfSwgW10pXG5cbiAgY29uc3QgaGFuZGxlRmlsdGVyQ29uZmlybSA9ICh2YWx1ZXM6IGFueVtdKSA9PiB7XG4gICAgY29uc3QgbmV3Q29uZmlndXJlZEZpbHRlckl0ZW1zID0gZ2V0RWZmZWN0aXZlRmlsdGVySXRlbXModmFsdWVzKVxuICAgIC8vIHNldENvbmZpZ3VyZWRGaWx0ZXJJdGVtcyhuZXdDb25maWd1cmVkRmlsdGVySXRlbXMpXG4gICAgaGFuZGxlQ2hhbmdlQW5kTm90aWZ5KHsgZmlsdGVyczogbmV3Q29uZmlndXJlZEZpbHRlckl0ZW1zIH0pXG4gICAgc2V0U2hvd0ZpbHRlclNldHRpbmdQb3AoZmFsc2UpXG4gIH1cblxuICBjb25zdCBoYW5kbGVQYW5lbENoYW5nZSA9ICgpID0+IHtcbiAgICAvLyDliIfmjaLpnaLmnb/nmoTlsZXlvIDjgIHmlLbotbdcbiAgICBjb25zdCBuZXdJc09wZW4gPSAhaXNPcGVuXG4gICAgc2V0SXNPcGVuKG5ld0lzT3BlbilcbiAgfVxuXG4gIGNvbnN0IG9uRGVsZXRlID0gKGkpID0+IHtcbiAgICBjb25zdCBuZXdJdGVtcyA9IChmb3JtUGVybS5maWx0ZXJzIHx8IFtdKT8uZmlsdGVyKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIHJldHVybiBpICE9PSBpbmRleFxuICAgIH0pXG4gICAgaGFuZGxlQ2hhbmdlQW5kTm90aWZ5KHsgZmlsdGVyczogbmV3SXRlbXMgfSlcbiAgfVxuXG4gIGNvbnN0IGdldEVudW1GaWx0ZXJWYWx1ZSA9IGFzeW5jICh2LCBuZXdDb25maWd1cmVkRmlsdGVySXRlbXM6IGFueVtdKSA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IGxvYWRFbnVtRmlsdGVyVmFsdWUoYXBwSWQsIGZvcm1JZCwgRU5WX0FQUCwgbmV3Q29uZmlndXJlZEZpbHRlckl0ZW1zIHx8IChmb3JtUGVybS5maWx0ZXJzIHx8IFtdKSwgbGlzdEZpbHRlckNvbmZpZywgeyBmaWVsZE5hbWU6IHY/LmZpZWxkTmFtZSwgY29tcGFyZVR5cGU6IHY/LmNvbXBhcmVUeXBlLCB2YWx1ZTogdj8udmFsdWUgfSwgJ3NjaGVtYUNvbmZpZycpXG4gIH1cblxuICBjb25zdCBoYW5kbGVHZXRDb2xIZWFkRmlsdGVyID0gdXNlQ2FsbGJhY2soKHYsIGNvbmZpZ3VyZWRGaWx0ZXJJdGVtcykgPT4ge1xuICAgIGdldEVudW1GaWx0ZXJWYWx1ZSh7IGZpZWxkTmFtZTogdj8uZmllbGROYW1lLCBjb21wYXJlVHlwZTogdj8uY29tcGFyZVR5cGUsIHZhbHVlOiB2Py52YWx1ZSB9LCBjb25maWd1cmVkRmlsdGVySXRlbXMpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHNldENvbEhlYWRGaWx0ZXIoKGZpbHRlcikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmZpbHRlcixcbiAgICAgICAgICBbdj8uZmllbGROYW1lXTogZGF0YVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH0sIFtnZXRFbnVtRmlsdGVyVmFsdWVdKVxuXG4gIGNvbnN0IGZpbHRlcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gZ2V0VHJhbnNmZXJGaWx0ZXJzKGdldEZpbHRlcnMoZm9ybVBlcm0uZmlsdGVycyB8fCBbXSwgbGlzdEZpbHRlckNvbmZpZykpXG4gIH0sIFtmb3JtUGVybS5maWx0ZXJzLCBsaXN0RmlsdGVyQ29uZmlnXSlcblxuICBjb25zdCBoYW5kbGVSZWNvcmRBdXRoQ2hhbmdlID0gKGUpID0+IHtcbiAgICBjb25zdCB7IGZpZWxkUGVybVNldCB9ID0gZm9ybVBlcm1EYXRhUmVmLmN1cnJlbnRcbiAgICAvLyDov5nph4zkuLvopoHlpITnkIbvvJrkuJrliqHmk43kvZznmoTmnYPpmZDkuI3ooqvph43nva5cbiAgICBjb25zdCB7IHZpZXc6IHZpZXdGaWVsZFBlcm0gPSBbXSB9ID0gZmllbGRQZXJtU2V0XG4gICAgY29uc3QgbmV3Vmlld0ZpZWxkUGVybSA9IHZpZXdGaWVsZFBlcm0uZmlsdGVyKChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIGJpekJ1dHRvbk9wdGlvbnMuZmluZChidXR0b24gPT4gYnV0dG9uLmlkID09PSBrZXkpXG4gICAgfSlcbiAgICBjb25zdCBuZXdGaWVsZFBlcm1TZXQgPSBuZXdWaWV3RmllbGRQZXJtLmxlbmd0aCA/IHsgdmlldzogbmV3Vmlld0ZpZWxkUGVybSB9IDoge31cbiAgICBjb25zdCBuZXdWYWw6IGFueSA9IGUudGFyZ2V0LnZhbHVlID09PSAnMycgPyB7XG4gICAgICAuLi5JTklUX0ZPUk1fUEVSTSxcbiAgICAgIGZpZWxkUGVybVNldDogbmV3RmllbGRQZXJtU2V0LFxuICAgICAgcmVjb3JkOiBlLnRhcmdldC52YWx1ZVxuICAgIH0gOiB7XG4gICAgICByZWNvcmQ6IGUudGFyZ2V0LnZhbHVlXG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZUFuZE5vdGlmeShuZXdWYWwpXG4gICAgLy8gc2V0UmVjb3JkVHlwZShlLnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIGNvbnN0IGdldExpc3RDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm93cyA9IFtdIH0gPSBhd2FpdCBsb2FkRm9ybURhdGFMaXN0U2V0dGluZyhhcHBJZCwgZm9ybUlkLCAnMScsIHt9KSB8fCB7fVxuICAgICAgY29uc3QgeyBsaXN0RmlsdGVyQ29uZmlnID0gW10sIGxpc3RJdGVtQ29uZmlnID0gW10gfSA9IHJvd3NbMF0gfHwge31cbiAgICAgIC8vIOW6lOivpeWPlmxpc3RJdGVtQ29uZmln77yM6ZyA6KaB6I635Y+W6YWN572u5L+h5oGvXG4gICAgICBzZXRMaXN0RmlsdGVyQ29uZmlnKGxpc3RGaWx0ZXJDb25maWcubWFwKGZpbHRlciA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1Db25maWcgPSBsaXN0SXRlbUNvbmZpZy5maW5kKGl0ZW0gPT4gZmlsdGVyLmZpZWxkTmFtZSA9PT0gaXRlbS5udW1iZXIpIHx8IHt9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uZmlsdGVyLFxuICAgICAgICAgIC4uLml0ZW1Db25maWdcbiAgICAgICAgfVxuICAgICAgfSkpXG4gICAgICBoYXNMb2FkTGlzdENvbmZpZy5jdXJyZW50ID0gdHJ1ZVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IGVcbiAgICAgIHNob3dOb3RpY2UoJ2Vycm9yJywgbWVzc2FnZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRCaXpCdXR0b25PcHRpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHJvd3MgPSBbXSB9ID0gYXdhaXQgZ2V0Qml6QnV0dG9uQnlGb3JtSWQoYXBwSWQsIGZvcm1JZCkgfHwge31cbiAgICAgIHNldEJpekJ1dHRvbk9wdGlvbnMocm93cyB8fCBbXSlcbiAgICAgIGhhc0xvYWRCaXpCdXR0b24uY3VycmVudCA9IHRydWVcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBlXG4gICAgICBzaG93Tm90aWNlKCdlcnJvcicsIG1lc3NhZ2UpXG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNPcGVuICYmICFoYXNMb2FkTGlzdENvbmZpZy5jdXJyZW50KSB7XG4gICAgICAvLyDliqDovb3nrZvpgInpobnmlbDmja5cbiAgICAgIGdldExpc3RDb25maWcoKVxuICAgIH1cbiAgICBpZiAoaXNPcGVuICYmICFoYXNMb2FkQml6QnV0dG9uLmN1cnJlbnQpIHtcbiAgICAgIC8vIOWKoOi9veaJgOacieS4muWKoeaTjeS9nOaMiemSrlxuICAgICAgZ2V0Qml6QnV0dG9uT3B0aW9ucygpXG4gICAgfVxuICB9LCBbaXNPcGVuXSlcblxuICBjb25zdCBoYW5kbGVDaGFuZ2VBbmROb3RpZnkgPSAoY2hhbmdlOiBhbnkpID0+IHtcbiAgICBjb25zdCBuZXdGb3JtUGVybSA9IHsgLi4uZm9ybVBlcm1EYXRhUmVmLmN1cnJlbnQsIC4uLmNoYW5nZSB9XG4gICAgZGlzcGF0Y2hGb3JtUGVybShjaGFuZ2UpXG4gICAgb25DaGFuZ2U/LihuZXdGb3JtUGVybSlcbiAgfVxuXG4gIC8vIOe8lui+keWKn+iDveadg+mZkOWPkeeUn+WPmOWMllxuICBjb25zdCBoYW5kbGVGdW5jUGVybUNoYW5nZSA9IChuZXdWYWwsIHR5cGUpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZnVuY1Blcm1TZXQtLS0tLS0nLCBmb3JtUGVybS5mdW5jUGVybVNldClcbiAgICBjb25zdCB7IGZ1bmNQZXJtU2V0ID0gW10gfSA9IGZvcm1QZXJtRGF0YVJlZi5jdXJyZW50XG4gICAgY29uc3QgdmFsdWVNYXAgPSB7XG4gICAgICBhZGQ6IEFERF9PUFRJT05TX1ZBTFVFLFxuICAgICAgZWRpdDogRURJVF9PUFRJT05TX1ZBTFVFLFxuICAgICAgdmlldzogVklFV19PUFRJT05TX1ZBTFVFXG4gICAgfVxuICAgIGNvbnN0IG9wdGlvbnMgPSB2YWx1ZU1hcFt0eXBlXSB8fCBbXVxuICAgIGNvbnN0IG5ld0Z1bmNQZXJtU2V0ID0gZnVuY1Blcm1TZXQuZmlsdGVyKChmdW5jOiBhbnkpID0+ICFvcHRpb25zLmluY2x1ZGVzKGZ1bmMpKS5jb25jYXQobmV3VmFsKVxuICAgIGhhbmRsZUNoYW5nZUFuZE5vdGlmeSh7IGZ1bmNQZXJtU2V0OiBuZXdGdW5jUGVybVNldCB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU3dpdGNoQ2hhbmdlID0gKGNoZWNrZWQ6IGJvb2xlYW4sIGZ1bmNLZXk6IHN0cmluZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdmdW5jUGVybVNldC0tLS0tLScsIGZvcm1QZXJtLmZ1bmNQZXJtU2V0KVxuICAgIGNvbnN0IHsgZnVuY1Blcm1TZXQgPSBbXSB9ID0gZm9ybVBlcm1EYXRhUmVmLmN1cnJlbnRcbiAgICBjb25zdCBuZXdGdW5jUGVybVNldCA9IGNoZWNrZWQgPyBmdW5jUGVybVNldC5jb25jYXQoZnVuY0tleSkgOiBmdW5jUGVybVNldC5maWx0ZXIoZnVuYyA9PiBmdW5jICE9PSBmdW5jS2V5KVxuICAgIGhhbmRsZUNoYW5nZUFuZE5vdGlmeSh7IGZ1bmNQZXJtU2V0OiBuZXdGdW5jUGVybVNldCB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlVmlld0ZpZWxkUGVybUNoYW5nZSA9IChuZXdWYWw6IHN0cmluZ1tdKSA9PiB7XG4gICAgY29uc3QgeyBmaWVsZFBlcm1TZXQgPSB7fSB9ID0gZm9ybVBlcm1EYXRhUmVmLmN1cnJlbnRcbiAgICBjb25zdCB7IHZpZXc6IHZpZXdGaWVsZFBlcm0gPSBbXSB9ID0gZmllbGRQZXJtU2V0XG4gICAgY29uc3QgYml6QnV0dG9uSWRzID0gYml6QnV0dG9uUmVmLmN1cnJlbnQubWFwKGl0ZW0gPT4gaXRlbS5pZClcbiAgICBjb25zdCBuZXdWaWV3RmllbGRQZXJtID0gdmlld0ZpZWxkUGVybS5maWx0ZXIoKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICByZXR1cm4gYml6QnV0dG9uSWRzLmluY2x1ZGVzKGtleSlcbiAgICB9KS5jb25jYXQobmV3VmFsKVxuICAgIGNvbnN0IG5ld0ZpZWxkUGVybVNldCA9IHsgLi4uZmllbGRQZXJtU2V0LCB2aWV3OiBuZXdWaWV3RmllbGRQZXJtIH1cbiAgICBoYW5kbGVDaGFuZ2VBbmROb3RpZnkoeyBmaWVsZFBlcm1TZXQ6IG5ld0ZpZWxkUGVybVNldCB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQWRkRmllbGRQZXJtQ2hhbmdlID0gKG5ld1ZhbDogc3RyaW5nW10pID0+IHtcbiAgICBjb25zdCB7IGZpZWxkUGVybVNldCA9IHt9IH0gPSBmb3JtUGVybURhdGFSZWYuY3VycmVudFxuICAgIGNvbnN0IG5ld0ZpZWxkUGVybVNldCA9IHsgLi4uZmllbGRQZXJtU2V0LCBpbnB1dDogbmV3VmFsIH1cbiAgICBoYW5kbGVDaGFuZ2VBbmROb3RpZnkoeyBmaWVsZFBlcm1TZXQ6IG5ld0ZpZWxkUGVybVNldCB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRWRpdEZpZWxkUGVybUNoYW5nZSA9IChuZXdWYWw6IHN0cmluZ1tdKSA9PiB7XG4gICAgY29uc3QgeyBmaWVsZFBlcm1TZXQgPSB7fSB9ID0gZm9ybVBlcm1EYXRhUmVmLmN1cnJlbnRcbiAgICBjb25zdCBuZXdGaWVsZFBlcm1TZXQgPSB7IC4uLmZpZWxkUGVybVNldCwgZWRpdDogbmV3VmFsIH1cbiAgICBoYW5kbGVDaGFuZ2VBbmROb3RpZnkoeyBmaWVsZFBlcm1TZXQ6IG5ld0ZpZWxkUGVybVNldCB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQml6QnV0dG9uUGVybUNoYW5nZSA9IChoaWRkZW5LZXlzOiBzdHJpbmdbXSkgPT4ge1xuICAgIGNvbnN0IHsgZmllbGRQZXJtU2V0ID0ge30gfSA9IGZvcm1QZXJtRGF0YVJlZi5jdXJyZW50XG4gICAgY29uc3QgeyB2aWV3OiB2aWV3RmllbGRQZXJtID0gW10gfSA9IGZpZWxkUGVybVNldFxuICAgIGNvbnN0IG5ld1ZpZXdGaWVsZFBlcm0gPSB2aWV3RmllbGRQZXJtLmZpbHRlcigoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIHJldHVybiAhYml6QnV0dG9uT3B0aW9ucy5maW5kKGJ1dHRvbiA9PiBidXR0b24uaWQgPT09IGtleSlcbiAgICB9KS5jb25jYXQoaGlkZGVuS2V5cylcbiAgICBjb25zdCBuZXdGaWVsZFBlcm1TZXQgPSB7IC4uLmZpZWxkUGVybVNldCwgdmlldzogbmV3Vmlld0ZpZWxkUGVybSB9XG4gICAgaGFuZGxlQ2hhbmdlQW5kTm90aWZ5KHsgZmllbGRQZXJtU2V0OiBuZXdGaWVsZFBlcm1TZXQgfSlcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0VxdWFsKGRlZXBUcmFuc2Zvcm1BcnJheVRvT2JqKHZhbHVlKSwgZGVlcFRyYW5zZm9ybUFycmF5VG9PYmooZm9ybVBlcm0pKSkge1xuICAgICAgc2V0SGFzUGVybSghIXZhbHVlKVxuICAgICAgZGlzcGF0Y2hGb3JtUGVybSh2YWx1ZSB8fCBJTklUX0ZPUk1fUEVSTSlcbiAgICB9XG4gIH0sIFt2YWx1ZV0pXG5cbiAgY29uc3QgZnVuY1NldHRpbmcgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB7IGZ1bmNQZXJtU2V0ID0gW10gfSA9IGZvcm1QZXJtXG4gICAgcmV0dXJuIHtcbiAgICAgIHZpZXdGdW5jUGVybXM6IGZ1bmNQZXJtU2V0LmZpbHRlcihmdW5jID0+IFZJRVdfT1BUSU9OU19WQUxVRS5pbmNsdWRlcyhmdW5jKSksXG4gICAgICBhZGRGdW5jUGVybXM6IGZ1bmNQZXJtU2V0LmZpbHRlcihmdW5jID0+IEFERF9PUFRJT05TX1ZBTFVFLmluY2x1ZGVzKGZ1bmMpKSxcbiAgICAgIGVkaXRGdW5jUGVybXM6IGZ1bmNQZXJtU2V0LmZpbHRlcihmdW5jID0+IEVESVRfT1BUSU9OU19WQUxVRS5pbmNsdWRlcyhmdW5jKSksXG4gICAgICBpc0RlbGV0ZU9wT3BlbjogZnVuY1Blcm1TZXQ/LmluY2x1ZGVzKCdkZWxldGUnKSxcbiAgICAgIGlzVmlld09wT3BlbjogZnVuY1Blcm1TZXQ/LmluY2x1ZGVzKCd2aWV3JyksXG4gICAgICBpc0FkZE9wT3BlbjogZnVuY1Blcm1TZXQ/LmluY2x1ZGVzKCdhZGQnKSxcbiAgICAgIGlzRWRpdE9wT3BlbjogZnVuY1Blcm1TZXQ/LmluY2x1ZGVzKCdlZGl0JylcbiAgICB9XG4gIH0sIFtmb3JtUGVybV0pXG5cbiAgY29uc3Qgdmlld0ZpZWxkUGVybSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHsgZmllbGRQZXJtU2V0ID0ge30gfSA9IGZvcm1QZXJtXG4gICAgcmV0dXJuIChmaWVsZFBlcm1TZXQ/LnZpZXcgfHwgW10pLmZpbHRlcihrZXkgPT4ge1xuICAgICAgcmV0dXJuICFiaXpCdXR0b25PcHRpb25zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBrZXkpXG4gICAgfSlcbiAgfSwgW2Zvcm1QZXJtLCBiaXpCdXR0b25PcHRpb25zXSlcblxuICBjb25zdCBhZGRGaWVsZFBlcm0gPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB7IGZpZWxkUGVybVNldCA9IHt9IH0gPSBmb3JtUGVybVxuICAgIHJldHVybiBmaWVsZFBlcm1TZXQ/LmlucHV0IHx8IFtdXG4gIH0sIFtmb3JtUGVybV0pXG5cbiAgY29uc3QgZWRpdEZpZWxkUGVybSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHsgZmllbGRQZXJtU2V0ID0ge30gfSA9IGZvcm1QZXJtXG4gICAgcmV0dXJuIGZpZWxkUGVybVNldD8uZWRpdCB8fCBbXVxuICB9LCBbZm9ybVBlcm1dKVxuXG4gIGNvbnN0IGJpekJ1dHRvbklkcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHsgZmllbGRQZXJtU2V0ID0ge30gfSA9IGZvcm1QZXJtXG4gICAgcmV0dXJuIGJpekJ1dHRvbk9wdGlvbnMubWFwKGl0ZW0gPT4gaXRlbS5pZCkuZmlsdGVyKGJ1dHRvbklkID0+IHtcbiAgICAgIHJldHVybiAhKGZpZWxkUGVybVNldD8udmlldyB8fCBbXSkuaW5jbHVkZXMoYnV0dG9uSWQpXG4gICAgfSlcbiAgfSwgW2Zvcm1QZXJtLCBiaXpCdXR0b25PcHRpb25zXSlcblxuICBjb25zdCBoYW5kbGVGb3JtUGVybUNoYW5nZSA9IChjaGVja2VkOiBib29sZWFuKSA9PiB7XG4gICAgc2V0SGFzUGVybShjaGVja2VkKVxuICAgIGNvbnN0IG5ld0Zvcm1QZXJtID0gY2hlY2tlZCA/IGZvcm1QZXJtIDogdW5kZWZpbmVkXG4gICAgb25DaGFuZ2U/LihuZXdGb3JtUGVybSlcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1snZm9ybS1hdXRoJ119PlxuICAgICAgPENvbGxhcHNlXG4gICAgICAgIGRlZmF1bHRBY3RpdmVLZXk9e3BhbmVsQWN0aXZlS2V5fVxuICAgICAgICBuYW1lPXtgQ29sbGFwc2VfJHtmb3JtSWR9YH1cbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVBhbmVsQ2hhbmdlfVxuICAgICAgPlxuICAgICAgICA8Q29sbGFwc2UuUGFuZWxcbiAgICAgICAgICBoZWFkZXI9e25hbWV9XG4gICAgICAgICAgcGFuZWxLZXk9e2Zvcm1JZH1cbiAgICAgICAgICBleHRyYT17KFxuICAgICAgICAgICAgPFN3aXRjaCBjaGVja2VkPXtoYXNQZXJtfSBvbkNoYW5nZT17aGFuZGxlRm9ybVBlcm1DaGFuZ2V9IC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgW3N0eWxlc1snbm8tcGVybSddXTogdHJ1ZSwgW3N0eWxlcy5oaWRkZW5dOiBoYXNQZXJtIH0pfT5cbiAgICAgICAgICAgIFvorrDlvZXojIPlm7Rd44CBW+aTjeS9nOadg+mZkF0g55qE6YWN572u6ZyA5byA5ZCv5ZCO55Sf5pWIXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoeyBbc3R5bGVzLmhpZGRlbl06ICFoYXNQZXJtIH0pfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXNbJ2F1dGgtaXRlbSddfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5uYW1lfSB0aXRsZT0n6K6+572u6KeS6Imy5Y+v5Lul5L2/55So55qE6K6w5b2V6IyD5Zu0Jz7orrDlvZXojIPlm7Q8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1sncmVjb3JkLWF1dGgnXX0+XG4gICAgICAgICAgICAgICAgPFJhZGlvLkdyb3VwIG9uQ2hhbmdlPXtoYW5kbGVSZWNvcmRBdXRoQ2hhbmdlfSB2YWx1ZT17Zm9ybVBlcm0ucmVjb3JkfT5cbiAgICAgICAgICAgICAgICAgIDxSYWRpbyB2YWx1ZT0nMCc+5Y+v5Lul5L2/55So5omA5pyJ6K6w5b2VPC9SYWRpbz5cbiAgICAgICAgICAgICAgICAgIDxSYWRpbyB2YWx1ZT0nMSc+5Y+v5Lul5L2/55So6Ieq5bex55qE6K6w5b2VPC9SYWRpbz5cbiAgICAgICAgICAgICAgICAgIDxSYWRpbyB2YWx1ZT0nMyc+5Y+v5Lul5p+l55yL5omA5pyJ6K6w5b2V77yM5Y+q6IO957yW6L6R44CB5Yig6Zmk6Ieq5bex5b2V5YWl55qE6K6w5b2VPC9SYWRpbz5cbiAgICAgICAgICAgICAgICAgIDxSYWRpbyB2YWx1ZT0nMic+6Ieq5a6a5LmJPC9SYWRpbz5cbiAgICAgICAgICAgICAgICA8L1JhZGlvLkdyb3VwPlxuICAgICAgICAgICAgICAgIHtpc0N1c3RvbVJlY29yZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8TGlzdEZpbHRlclNldHRpbmdcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9J+etm+mAiSdcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17aGFuZGxlQ2xvc2VGaWx0ZXJTZXR0aW5nfVxuICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09e2hhbmRsZUZpbHRlckNvbmZpcm19XG4gICAgICAgICAgICAgICAgICAgIGRhdGE9e2xpc3RGaWx0ZXJDb25maWcgfHwgW119XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyZWRGaWx0ZXJJdGVtcz17Zm9ybVBlcm0uZmlsdGVycyB8fCBFTVBUWV9GSUxURVJTfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzY0MHB4JywgaGVpZ2h0OiAnMzMycHgnIH19XG4gICAgICAgICAgICAgICAgICAgIG1hc2tDbG9zYWJsZVxuICAgICAgICAgICAgICAgICAgICBtYXNrU3R5bGU9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgLy8gY2xhc3NOYW1lPXtzdHlsZVsnZmlsdGVyLXBvcHVwJ119XG4gICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZVxuICAgICAgICAgICAgICAgICAgICBzaG93Q2xlYXJBbGxcbiAgICAgICAgICAgICAgICAgICAgb25EZWxldGU9e29uRGVsZXRlfVxuICAgICAgICAgICAgICAgICAgICBvbkNvbEhlYWRGaWx0ZXJWaXNpYmxlQ2hhbmdlPXtoYW5kbGVHZXRDb2xIZWFkRmlsdGVyfVxuICAgICAgICAgICAgICAgICAgICBjb2xIZWFkRmlsdGVyPXtjb2xIZWFkRmlsdGVyfVxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlPXtzaG93RmlsdGVyU2V0dGluZ1BvcH1cbiAgICAgICAgICAgICAgICAgICAgb25Ecm9wZG93blZpc2libGVDaGFuZ2U9eyh2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaGFzQ2hpbGREcm9wZG93bi5jdXJyZW50ID0gdlxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvblZpc2libGVDaGFuZ2U9eyh2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IC8vIOWmguaenOWtkOe7hOS7tuWtmOWcqOa/gOa0u+eahGRyb3Bkb3duLCDpmLvmraLlvLnnqpflhbPpl61cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzQ2hpbGREcm9wZG93bi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dGaWx0ZXJTZXR0aW5nUG9wKHYpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFtzdHlsZXMuZmlsdGVyLCB7IFtzdHlsZXNbJ2lzLWFjdGl2ZSddXTogc2hvd0ZpbHRlclNldHRpbmdQb3AgfV0pfT5cbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBwcmVmaXg9J25vY29kZXBsYXRmb3JtaWNvbicgdHlwZT0nc2hhaXh1YW4nIC8+XG4gICAgICAgICAgICAgICAgICAgICAg562b6YCJXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvTGlzdEZpbHRlclNldHRpbmc+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtpc0N1c3RvbVJlY29yZCAmJiAoXG4gICAgICAgICAgICAgICAgPEZpbHRlckxhYmVsQmFyXG4gICAgICAgICAgICAgICAgICBtYXhMYWJlbENvdW50PXszfVxuICAgICAgICAgICAgICAgICAgZmlsdGVycz17ZmlsdGVyc31cbiAgICAgICAgICAgICAgICAgIG9uRGVsZXRlPXtvbkRlbGV0ZX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzWydmaWx0ZXItbGFiZWwtYmFyJ119XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge2Zvcm1QZXJtLnJlY29yZCAhPT0gJzMnICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1snYXV0aC1pdGVtJ119PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubmFtZX0gdGl0bGU9J+iuvue9ruinkuiJsueahOaTjeS9nOadg+mZkCc+5pON5L2c5p2D6ZmQPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1snb3AtYXV0aCddfT5cbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5nSXRlbVxuICAgICAgICAgICAgICAgICAgICB0aXRsZT0n5p+l55yLJ1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtWSUVXX09QVElPTlN9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmdW5jU2V0dGluZy52aWV3RnVuY1Blcm1zfVxuICAgICAgICAgICAgICAgICAgICBhbGxvd0ZpZWxkQXV0aFxuICAgICAgICAgICAgICAgICAgICBmb3JtSWQ9e2Zvcm1JZH1cbiAgICAgICAgICAgICAgICAgICAgYXBwSWQ9e2FwcElkfVxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtmdW5jU2V0dGluZy5pc1ZpZXdPcE9wZW59XG4gICAgICAgICAgICAgICAgICAgIG9uU3dpdGNoQ2hhbmdlPXsoY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVN3aXRjaENoYW5nZShjaGVja2VkLCAndmlldycpXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkUGVybVNldD17dmlld0ZpZWxkUGVybX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4gaGFuZGxlRnVuY1Blcm1DaGFuZ2UodiwgJ3ZpZXcnKX1cbiAgICAgICAgICAgICAgICAgICAgb25QZXJtU2V0Q2hhbmdlPXtoYW5kbGVWaWV3RmllbGRQZXJtQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5nSXRlbVxuICAgICAgICAgICAgICAgICAgICB0aXRsZT0n5b2V5YWlJ1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtBRERfT1BUSU9OU31cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Z1bmNTZXR0aW5nLmFkZEZ1bmNQZXJtc31cbiAgICAgICAgICAgICAgICAgICAgYWxsb3dGaWVsZEF1dGhcbiAgICAgICAgICAgICAgICAgICAgZm9ybUlkPXtmb3JtSWR9XG4gICAgICAgICAgICAgICAgICAgIGFwcElkPXthcHBJZH1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZnVuY1NldHRpbmcuaXNBZGRPcE9wZW59XG4gICAgICAgICAgICAgICAgICAgIG9uU3dpdGNoQ2hhbmdlPXsoY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVN3aXRjaENoYW5nZShjaGVja2VkLCAnYWRkJylcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4gaGFuZGxlRnVuY1Blcm1DaGFuZ2UodiwgJ2FkZCcpfVxuICAgICAgICAgICAgICAgICAgICBmaWVsZFBlcm1TZXQ9e2FkZEZpZWxkUGVybX1cbiAgICAgICAgICAgICAgICAgICAgb25QZXJtU2V0Q2hhbmdlPXtoYW5kbGVBZGRGaWVsZFBlcm1DaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPFNldHRpbmdJdGVtXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPSfnvJbovpEnXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e0VESVRfT1BUSU9OU31cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Z1bmNTZXR0aW5nLmVkaXRGdW5jUGVybXN9XG4gICAgICAgICAgICAgICAgICAgIGFsbG93RmllbGRBdXRoXG4gICAgICAgICAgICAgICAgICAgIGZvcm1JZD17Zm9ybUlkfVxuICAgICAgICAgICAgICAgICAgICBhcHBJZD17YXBwSWR9XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkUGVybVNldD17ZWRpdEZpZWxkUGVybX1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZnVuY1NldHRpbmcuaXNFZGl0T3BPcGVufVxuICAgICAgICAgICAgICAgICAgICBvblN3aXRjaENoYW5nZT17KGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTd2l0Y2hDaGFuZ2UoY2hlY2tlZCwgJ2VkaXQnKVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiBoYW5kbGVGdW5jUGVybUNoYW5nZSh2LCAnZWRpdCcpfVxuICAgICAgICAgICAgICAgICAgICBvblBlcm1TZXRDaGFuZ2U9e2hhbmRsZUVkaXRGaWVsZFBlcm1DaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zZXR0aW5nfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50aXRsZX0+5Yig6ZmkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtmdW5jU2V0dGluZy5pc0RlbGV0ZU9wT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17Y2hlY2tlZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTd2l0Y2hDaGFuZ2UoY2hlY2tlZCwgJ2RlbGV0ZScpXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgeyEhYml6QnV0dG9uT3B0aW9ucy5sZW5ndGggJiYgKFxuICAgICAgICAgICAgICAgICAgICA8Qml6QnV0dG9uUGVybVxuICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e2JpekJ1dHRvbk9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2JpekJ1dHRvbklkc31cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQml6QnV0dG9uUGVybUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtmb3JtUGVybS5yZWNvcmQgPT09ICczJyAmJiAhIWJpekJ1dHRvbk9wdGlvbnMubGVuZ3RoICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1snYXV0aC1pdGVtJ119PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubmFtZX0gdGl0bGU9J+iuvue9ruinkuiJsueahOaTjeS9nOadg+mZkCc+5pON5L2c5p2D6ZmQPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1snb3AtYXV0aCddfT5cbiAgICAgICAgICAgICAgICAgIDxCaXpCdXR0b25QZXJtXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e2JpekJ1dHRvbk9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtiaXpCdXR0b25JZHN9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVCaXpCdXR0b25QZXJtQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NvbGxhcHNlLlBhbmVsPlxuICAgICAgPC9Db2xsYXBzZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG4vLyDljaHniYfnnIvmnb/mnYPpmZBcbmNvbnN0IEN1c3RvbVBhZ2VQZXJtOiBSZWFjdC5GQzxhbnk+ID0gKHtcbiAgZm9ybUluZm8sXG4gIHZhbHVlLFxuICBvbkNoYW5nZVxufSkgPT4ge1xuICBjb25zdCB7IG5hbWUgfSA9IGZvcm1JbmZvXG4gIGNvbnN0IFtoYXNQZXJtLCBzZXRIYXNQZXJtXSA9IHVzZVN0YXRlKCEhdmFsdWUpXG5cbiAgY29uc3QgaGFuZGxlUGVybUNoYW5nZSA9IChjaGVja2VkOiBib29sZWFuKSA9PiB7XG4gICAgc2V0SGFzUGVybShjaGVja2VkKVxuICAgIGNvbnN0IG5ld0Zvcm1QZXJtID0gY2hlY2tlZCA/IElOSVRfQ1VTVE9NX1BBR0VfUEVSTSA6IHVuZGVmaW5lZFxuICAgIG9uQ2hhbmdlPy4obmV3Rm9ybVBlcm0pXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHN0eWxlc1snZm9ybS1hdXRoJ10sIHN0eWxlc1snY3VzdG9tLXBhZ2UtYXV0aCddKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzWydjdXN0b20tcGFnZS1uYW1lJ119PntuYW1lfTwvZGl2PlxuICAgICAgPFN3aXRjaCBjbGFzc05hbWU9e3N0eWxlc1snY3VzdG9tLXBhZ2Utc3dpdGNoJ119IGNoZWNrZWQ9e2hhc1Blcm19IG9uQ2hhbmdlPXtoYW5kbGVQZXJtQ2hhbmdlfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmludGVyZmFjZSBGb3JtUGVybVNldHRpbmdQcm9wcyB7XG4gIHJvbGVJZDogc3RyaW5nO1xuICBmb3JtTGlzdDogYW55W107XG4gIHZhbHVlPzogYW55O1xuICBhcHBJZDogc3RyaW5nO1xuICBoYW5kbGVFcXVhbENoYW5nZTogKGZsYWc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIG9uQ2hhbmdlOiAoc2V0dGluZzogYW55KSA9PiB2b2lkO1xufVxuXG5jb25zdCBGb3JtUGVybVNldHRpbmc6IFJlYWN0LkZDPEZvcm1QZXJtU2V0dGluZ1Byb3BzPiA9IGZvcndhcmRSZWYoKHtcbiAgcm9sZUlkLFxuICBmb3JtTGlzdCxcbiAgdmFsdWUgPSB7fSxcbiAgYXBwSWQsXG4gIGhhbmRsZUVxdWFsQ2hhbmdlLFxuICBvbkNoYW5nZVxufSwgcmVmKSA9PiB7XG4gIGNvbnN0IFtzZXR0aW5nLCBkaXNwYXRjaFNldHRpbmddID0gdXNlUmVkdWNlcihwZXJtU2V0dGluZ1JlZHVjZXIsIHZhbHVlKVxuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChmb3JtSWQ6IHN0cmluZywgbmV3VmFsOiBhbnkpID0+IHtcbiAgICBpZiAobmV3VmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRpc3BhdGNoU2V0dGluZyh7XG4gICAgICAgIHR5cGU6IERFTEVURSxcbiAgICAgICAgZGVsZXRlS2V5OiBmb3JtSWRcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoU2V0dGluZyh7XG4gICAgICAgIHR5cGU6IFVQREFURSxcbiAgICAgICAgcGF5bG9hZDogeyBbZm9ybUlkXTogbmV3VmFsIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzRXF1YWwoZGVlcFRyYW5zZm9ybUFycmF5VG9PYmoodmFsdWUpLCBkZWVwVHJhbnNmb3JtQXJyYXlUb09iaihzZXR0aW5nKSkpIHtcbiAgICAgIGRpc3BhdGNoU2V0dGluZyh7IHR5cGU6IE1FUkdFLCBwYXlsb2FkOiB2YWx1ZSB9KVxuICAgIH1cbiAgICBoYW5kbGVFcXVhbENoYW5nZSh0cnVlKVxuICB9LCBbdmFsdWVdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaXNWYWx1ZUVxdWFsID0gaXNFcXVhbChkZWVwVHJhbnNmb3JtQXJyYXlUb09iaih2YWx1ZSksIGRlZXBUcmFuc2Zvcm1BcnJheVRvT2JqKHNldHRpbmcpKVxuICAgIGhhbmRsZUVxdWFsQ2hhbmdlKGlzVmFsdWVFcXVhbClcbiAgICBvbkNoYW5nZT8uKHNldHRpbmcpXG4gIH0sIFtzZXR0aW5nXSlcblxuICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtUGVybTogc2V0dGluZyxcbiAgICAgIGRpc3BhdGNoU2V0dGluZ1xuICAgIH1cbiAgfSwgW3NldHRpbmcsIGRpc3BhdGNoU2V0dGluZ10pXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge2Zvcm1MaXN0Lm1hcCgoZm9ybUluZm86IGFueSkgPT4ge1xuICAgICAgICBjb25zdCB7IGZvcm1JZCwgdHlwZSB9ID0gZm9ybUluZm9cbiAgICAgICAgaWYgKHR5cGUgPT09ICdjdXN0b20nKSB7XG4gICAgICAgICAgLy8g5Y2h54mH55yL5p2/XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxDdXN0b21QYWdlUGVybVxuICAgICAgICAgICAgICBmb3JtSW5mbz17Zm9ybUluZm99XG4gICAgICAgICAgICAgIGtleT17YCR7cm9sZUlkfS0ke2Zvcm1JZH1gfVxuICAgICAgICAgICAgICB2YWx1ZT17c2V0dGluZ1tmb3JtSWRdfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiBoYW5kbGVDaGFuZ2UoZm9ybUlkLCB2KX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEZvcm1QZXJtXG4gICAgICAgICAgICBmb3JtSW5mbz17Zm9ybUluZm99XG4gICAgICAgICAgICBrZXk9e2Ake3JvbGVJZH0tJHtmb3JtSWR9YH1cbiAgICAgICAgICAgIGFwcElkPXthcHBJZH1cbiAgICAgICAgICAgIHZhbHVlPXtzZXR0aW5nW2Zvcm1JZF19XG4gICAgICAgICAgICBvbkNoYW5nZT17diA9PiBoYW5kbGVDaGFuZ2UoZm9ybUlkLCB2KX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8Lz5cbiAgKVxufSlcblxuZXhwb3J0IGRlZmF1bHQgRm9ybVBlcm1TZXR0aW5nXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/component/permission/rightOfUse/FormPermSetting.tsx\n");

/***/ }),

/***/ "./src/web/component/permission/rightOfUse/index.tsx":
/*!***********************************************************!*\
  !*** ./src/web/component/permission/rightOfUse/index.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.USE_TYPE_VIEWALL = exports.USE_TYPE_SELF = exports.USE_TYPE_CUSTOM = exports.USE_TYPE_ALL = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _kdesign = __webpack_require__(/*! kd_libs/kdesign1 */ \"webpack/container/remote/kd_libs/kdesign1\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/web/component/permission/rightOfUse/index.less\"));\n/**\r\n * 选择器-应用使用权\r\n */\n\nvar USE_TYPE_ALL = exports.USE_TYPE_ALL = 'all';\nvar USE_TYPE_SELF = exports.USE_TYPE_SELF = 'own';\nvar USE_TYPE_CUSTOM = exports.USE_TYPE_CUSTOM = 'custom';\nvar USE_TYPE_VIEWALL = exports.USE_TYPE_VIEWALL = 'viewall';\nvar RIGHT_OF_USE_OPTIONS = [{\n  label: '可以使用所有的表单记录',\n  value: USE_TYPE_ALL\n}, {\n  label: '可以使用自己录入的表单记录',\n  value: USE_TYPE_SELF\n}, {\n  label: '可以查看所有记录，只能编辑、删除自己录入的记录',\n  value: USE_TYPE_VIEWALL\n}, {\n  label: '自定义',\n  value: USE_TYPE_CUSTOM\n}];\nvar RightOfUse = function RightOfUse(_ref) {\n  var value = _ref.value,\n    disabled = _ref.disabled,\n    _onChange = _ref.onChange,\n    footer = _ref.footer;\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _index.default['right-of-use']\n  }, /*#__PURE__*/_react.default.createElement(_kdesign.Select, {\n    value: value,\n    options: RIGHT_OF_USE_OPTIONS,\n    borderType: \"bordered\",\n    size: \"large\",\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    disabled: disabled,\n    onChange: function onChange(v) {\n      return _onChange === null || _onChange === void 0 ? void 0 : _onChange(v);\n    }\n  }), footer);\n};\nvar _default = exports[\"default\"] = RightOfUse;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL3JpZ2h0T2ZVc2UvaW5kZXgudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBTEE7QUFDQTtBQUNBOztBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUtBO0FBSEE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLXBsYXRmb3JtLy4vc3JjL3dlYi9jb21wb25lbnQvcGVybWlzc2lvbi9yaWdodE9mVXNlL2luZGV4LnRzeD8xNmRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDpgInmi6nlmagt5bqU55So5L2/55So5p2DXHJcbiAqL1xyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IFNlbGVjdCB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2luZGV4Lmxlc3MnXHJcblxyXG5pbnRlcmZhY2UgUmlnaHRPZlVzZVByb3BzIHtcclxuICB2YWx1ZTogYW55O1xyXG4gIGRpc2FibGVkOiBib29sZWFuO1xyXG4gIG9uQ2hhbmdlPzogKHY6IHN0cmluZykgPT4gdm9pZDtcclxuICBmb290ZXI6IFJlYWN0LlJlYWN0Tm9kZTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFVTRV9UWVBFX0FMTCA9ICdhbGwnXHJcbmV4cG9ydCBjb25zdCBVU0VfVFlQRV9TRUxGID0gJ293bidcclxuZXhwb3J0IGNvbnN0IFVTRV9UWVBFX0NVU1RPTSA9ICdjdXN0b20nXHJcbmV4cG9ydCBjb25zdCBVU0VfVFlQRV9WSUVXQUxMID0gJ3ZpZXdhbGwnXHJcblxyXG5jb25zdCBSSUdIVF9PRl9VU0VfT1BUSU9OUyA9IFtcclxuICB7IGxhYmVsOiAn5Y+v5Lul5L2/55So5omA5pyJ55qE6KGo5Y2V6K6w5b2VJywgdmFsdWU6IFVTRV9UWVBFX0FMTCB9LFxyXG4gIHsgbGFiZWw6ICflj6/ku6Xkvb/nlKjoh6rlt7HlvZXlhaXnmoTooajljZXorrDlvZUnLCB2YWx1ZTogVVNFX1RZUEVfU0VMRiB9LFxyXG4gIHsgbGFiZWw6ICflj6/ku6Xmn6XnnIvmiYDmnInorrDlvZXvvIzlj6rog73nvJbovpHjgIHliKDpmaToh6rlt7HlvZXlhaXnmoTorrDlvZUnLCB2YWx1ZTogVVNFX1RZUEVfVklFV0FMTCB9LFxyXG4gIHsgbGFiZWw6ICfoh6rlrprkuYknLCB2YWx1ZTogVVNFX1RZUEVfQ1VTVE9NIH1cclxuXVxyXG5cclxuY29uc3QgUmlnaHRPZlVzZTogUmVhY3QuRkM8UmlnaHRPZlVzZVByb3BzPiA9ICh7XHJcbiAgdmFsdWUsIC8vIOWIneWni+WAvFxyXG4gIGRpc2FibGVkLFxyXG4gIG9uQ2hhbmdlLCAvLyBvbkNoYW5nZeS6i+S7tlxyXG4gIGZvb3RlclxyXG59OiBhbnkpID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1sncmlnaHQtb2YtdXNlJ119PlxyXG4gICAgICA8U2VsZWN0XHJcbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxyXG4gICAgICAgIG9wdGlvbnM9e1JJR0hUX09GX1VTRV9PUFRJT05TfVxyXG4gICAgICAgIGJvcmRlclR5cGU9J2JvcmRlcmVkJ1xyXG4gICAgICAgIHNpemU9J2xhcmdlJ1xyXG4gICAgICAgIHBsYWNlaG9sZGVyPSfor7fpgInmi6knXHJcbiAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxyXG4gICAgICAgIG9uQ2hhbmdlPXsodikgPT4gb25DaGFuZ2U/Lih2KX1cclxuICAgICAgLz5cclxuICAgICAge2Zvb3Rlcn1cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmlnaHRPZlVzZVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/component/permission/rightOfUse/index.tsx\n");

/***/ }),

/***/ "./src/web/pages/admin/permission/AdminPermissionPage.tsx":
/*!****************************************************************!*\
  !*** ./src/web/pages/admin/permission/AdminPermissionPage.tsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getNextSelectedId = exports[\"default\"] = void 0;\nvar _map = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js\"));\nvar _values = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/values */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/values.js\"));\nvar _trim = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/trim */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/trim.js\"));\nvar _findIndex = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/find-index.js\"));\nvar _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/regenerator */ \"../../node_modules/@babel/runtime-corejs3/regenerator/index.js\"));\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime-corejs3/helpers/asyncToGenerator.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _SideBar = _interopRequireDefault(__webpack_require__(/*! @/web/component/permission/SideBar */ \"./src/web/component/permission/SideBar.tsx\"));\nvar _RoleSetting = _interopRequireDefault(__webpack_require__(/*! @/web/component/permission/RoleSetting */ \"./src/web/component/permission/RoleSetting.tsx\"));\nvar _auth = __webpack_require__(/*! @/actions/auth */ \"./src/actions/auth.js\");\nvar _admin = __webpack_require__(/*! @/actions/admin */ \"./src/actions/admin.js\");\nvar _home = __webpack_require__(/*! @/actions/home */ \"./src/actions/home.js\");\nvar _utils = __webpack_require__(/*! @/utils */ \"./src/utils/index.tsx\");\nvar _reactRouterDom = __webpack_require__(/*! react-router-dom */ \"../../node_modules/react-router-dom/index.js\");\nvar _app = __webpack_require__(/*! @/app */ \"./src/app.jsx\");\nvar _WebUI = __webpack_require__(/*! nocode_component/WebUI */ \"webpack/container/remote/nocode_component/WebUI\");\nvar _kdesign = __webpack_require__(/*! kd_libs/kdesign1 */ \"webpack/container/remote/kd_libs/kdesign1\");\nvar _rightOfUse = __webpack_require__(/*! @/web/component/permission/rightOfUse */ \"./src/web/component/permission/rightOfUse/index.tsx\");\nvar _PageEventService = __webpack_require__(/*! @/service/PageEventService */ \"./src/service/PageEventService.ts\");\nvar _AdminPermissionPage = _interopRequireDefault(__webpack_require__(/*! ./AdminPermissionPage.less */ \"./src/web/pages/admin/permission/AdminPermissionPage.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nvar AdminPermissionPage = function AdminPermissionPage() {\n  var _currentRole$current2;\n  var _useParams = (0, _reactRouterDom.useParams)(),\n    appId = _useParams.appId;\n  var _useContext = (0, _react.useContext)(_app.Context),\n    state = _useContext.state,\n    dispatch = _useContext.dispatch;\n  var appInfo = state.appsList[appId];\n  var userInfo = state.userInfo;\n  var _ref = appInfo || {},\n    creater = _ref.creater;\n  var _ref2 = creater || {},\n    _ref2$id = _ref2.id,\n    creatorId = _ref2$id === void 0 ? '' : _ref2$id;\n  var _useState = (0, _react.useState)([]),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    formList = _useState2[0],\n    setFormList = _useState2[1];\n  var _useState3 = (0, _react.useState)(null),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    roleList = _useState4[0],\n    setRoleList = _useState4[1];\n  var _useState5 = (0, _react.useState)(''),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    activeRoleId = _useState6[0],\n    setActiveRoleId = _useState6[1];\n  var _Form$useForm = _kdesign.Form.useForm(),\n    _Form$useForm2 = (0, _slicedToArray2.default)(_Form$useForm, 1),\n    form = _Form$useForm2[0];\n  var _useState7 = (0, _react.useState)(''),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    deleteName = _useState8[0],\n    setDeleteName = _useState8[1];\n  var _useState9 = (0, _react.useState)(false),\n    _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n    deleteConfirmVi = _useState10[0],\n    setDeleteConfirmVi = _useState10[1];\n  var _useState11 = (0, _react.useState)(null),\n    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n    rolePermission = _useState12[0],\n    setRolePermission = _useState12[1];\n  var _useState13 = (0, _react.useState)([]),\n    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n    disabledActions = _useState14[0],\n    setDisabledActions = _useState14[1];\n  var currentRole = (0, _react.useRef)(null);\n\n  // 获取当前应用下的所有表单\n  var getFormByAppId = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      var res, _ref4, _ref4$rows, list, message;\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return (0, _auth.getPermForms)(appId);\n          case 3:\n            res = _context.sent;\n            _ref4 = res || {}, _ref4$rows = _ref4.rows, list = _ref4$rows === void 0 ? [] : _ref4$rows;\n            setFormList(list);\n            _context.next = 14;\n            break;\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n            message = _context.t0.message;\n            (0, _utils.showNotice)('error', message);\n            setFormList([]);\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n    return function getFormByAppId() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  // 获取角色列表\n  var initRoleList = /*#__PURE__*/function () {\n    var _ref5 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(selectRoleId) {\n      var res, _ref6, _ref6$rows, rows, id, message;\n      return _regenerator.default.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return (0, _admin.getRoleList)(appId);\n          case 3:\n            res = _context2.sent;\n            _ref6 = res || {}, _ref6$rows = _ref6.rows, rows = _ref6$rows === void 0 ? [] : _ref6$rows;\n            setRoleList(rows);\n            if (rows.length) {\n              if (selectRoleId) {\n                setActiveRoleId(selectRoleId);\n              } else {\n                id = rows[0].id;\n                setActiveRoleId(id);\n              }\n            }\n            _context2.next = 14;\n            break;\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n            message = _context2.t0.message;\n            (0, _utils.showNotice)('error', message);\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[0, 9]]);\n    }));\n    return function initRoleList(_x) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var getRoleInfoById = /*#__PURE__*/function () {\n    var _ref7 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(roleId) {\n      var res, _res$rows, rows, message;\n      return _regenerator.default.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            if (roleId) {\n              _context3.next = 2;\n              break;\n            }\n            return _context3.abrupt(\"return\");\n          case 2:\n            _context3.prev = 2;\n            _context3.next = 5;\n            return (0, _admin.getRoleDetail)(roleId);\n          case 5:\n            _context3.t0 = _context3.sent;\n            if (_context3.t0) {\n              _context3.next = 8;\n              break;\n            }\n            _context3.t0 = {};\n          case 8:\n            res = _context3.t0;\n            _res$rows = res.rows, rows = _res$rows === void 0 ? [] : _res$rows;\n            setRolePermission(rows[0] || null);\n            _context3.next = 18;\n            break;\n          case 13:\n            _context3.prev = 13;\n            _context3.t1 = _context3[\"catch\"](2);\n            console.log(_context3.t1);\n            message = _context3.t1.message;\n            (0, _utils.showNotice)('error', message);\n          case 18:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[2, 13]]);\n    }));\n    return function getRoleInfoById(_x2) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  // 保存新角色并刷新角色信息\n  var saveRoleAndRefresh = /*#__PURE__*/function () {\n    var _ref8 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(newRole, msg) {\n      var param, _yield$saveRole, failCount, result, _result$, roleId, message;\n      return _regenerator.default.wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            param = {\n              data: [newRole]\n            };\n            _context4.prev = 1;\n            _context4.next = 4;\n            return (0, _admin.saveRole)(param);\n          case 4:\n            _yield$saveRole = _context4.sent;\n            failCount = _yield$saveRole.failCount;\n            result = _yield$saveRole.result;\n            if (failCount === '0') {\n              (0, _utils.showNotice)('success', msg || '新增角色成功');\n              roleId = result === null || result === void 0 || (_result$ = result[0]) === null || _result$ === void 0 ? void 0 : _result$.id;\n              initRoleList(roleId);\n            }\n            _context4.next = 15;\n            break;\n          case 10:\n            _context4.prev = 10;\n            _context4.t0 = _context4[\"catch\"](1);\n            console.log(_context4.t0);\n            message = _context4.t0.message;\n            (0, _utils.showNotice)('error', message);\n          case 15:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4, null, [[1, 10]]);\n    }));\n    return function saveRoleAndRefresh(_x3, _x4) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  // 新增角色\n  var handleAddRole = function handleAddRole() {\n    (0, _PageEventService.publishClickUserEvent)({\n      appId: appId,\n      formId: '',\n      action: 'sa_pm_cr'\n    });\n    var newRole = {\n      appId: appId,\n      name: '未命名角色',\n      // formPerm: newFormPerm,\n      manage: true,\n      useType: _rightOfUse.USE_TYPE_ALL,\n      users: [],\n      orgs: []\n    };\n    saveRoleAndRefresh(newRole, '新增角色成功');\n  };\n  var handleCopyRole = /*#__PURE__*/function () {\n    var _ref9 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(role) {\n      var id, newRole;\n      return _regenerator.default.wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            (0, _PageEventService.publishClickUserEvent)({\n              appId: appId,\n              formId: '',\n              action: 'sa_pm_copy'\n            });\n            id = role.id;\n            newRole = {\n              id: id,\n              copy: true\n            };\n            saveRoleAndRefresh(newRole, '复制角色成功');\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5);\n    }));\n    return function handleCopyRole(_x5) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n  var handleSortRole = /*#__PURE__*/function () {\n    var _ref10 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(newList) {\n      var param, _yield$saveRole2, failCount, message;\n      return _regenerator.default.wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            param = {\n              data: (0, _map.default)(newList).call(newList, function (item) {\n                return {\n                  id: item.id,\n                  appId: appId\n                };\n              }),\n              reorder: true\n            };\n            _context6.prev = 1;\n            _context6.next = 4;\n            return (0, _admin.saveRole)(param);\n          case 4:\n            _yield$saveRole2 = _context6.sent;\n            failCount = _yield$saveRole2.failCount;\n            if (failCount === '0') {\n              (0, _utils.showNotice)('success', '排序成功');\n            }\n            _context6.next = 13;\n            break;\n          case 9:\n            _context6.prev = 9;\n            _context6.t0 = _context6[\"catch\"](1);\n            message = _context6.t0.message;\n            (0, _utils.showNotice)('error', message);\n          case 13:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6, null, [[1, 9]]);\n    }));\n    return function handleSortRole(_x6) {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n  (0, _react.useEffect)(function () {\n    getFormByAppId();\n    initRoleList();\n  }, []);\n  (0, _react.useEffect)(function () {\n    getRoleInfoById(activeRoleId);\n  }, [activeRoleId]);\n  (0, _react.useEffect)(function () {\n    !appInfo && (0, _home.getAppInfoById)(appId, dispatch);\n  }, [appInfo, userInfo]);\n\n  // 点击角色的“删除”下拉菜单\n  var handleDeleteRole = /*#__PURE__*/function () {\n    var _ref11 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(role) {\n      return _regenerator.default.wrap(function _callee7$(_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            currentRole.current = role;\n            setDeleteConfirmVi(true);\n          case 2:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee7);\n    }));\n    return function handleDeleteRole(_x7) {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n\n  // 执行删除操作\n  var doDeleteRole = /*#__PURE__*/function () {\n    var _ref12 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8(role) {\n      var closeMessage, id, nextSelectedId, param, res, failCount, message;\n      return _regenerator.default.wrap(function _callee8$(_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            closeMessage = (0, _utils.showLoadingMessage)('角色删除中，请稍候...');\n            id = role.id; // 删除角色，自动选中相邻角色\n            nextSelectedId = activeRoleId;\n            if (activeRoleId === id) {\n              nextSelectedId = getNextSelectedId(id, roleList);\n            }\n            param = [{\n              id: id\n            }];\n            _context8.prev = 5;\n            _context8.next = 8;\n            return (0, _admin.deleteRole)(param);\n          case 8:\n            res = _context8.sent;\n            failCount = res.failCount; // setRoleList(rows)\n            if (failCount === '0') {\n              closeMessage({\n                type: 'success',\n                content: '删除成功'\n              });\n              deleteConfirmVi && setDeleteConfirmVi(false);\n              setDeleteName('');\n              initRoleList(nextSelectedId);\n            }\n            _context8.next = 18;\n            break;\n          case 13:\n            _context8.prev = 13;\n            _context8.t0 = _context8[\"catch\"](5);\n            console.log(_context8.t0);\n            message = _context8.t0.message;\n            closeMessage({\n              type: 'error',\n              content: message\n            });\n          case 18:\n            setDisabledActions([]);\n          case 19:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee8, null, [[5, 13]]);\n    }));\n    return function doDeleteRole(_x8) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  // 保存成功后刷新角色数据\n  var handleAfterSave = /*#__PURE__*/function () {\n    var _ref13 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9(id) {\n      return _regenerator.default.wrap(function _callee9$(_context9) {\n        while (1) switch (_context9.prev = _context9.next) {\n          case 0:\n            initRoleList(id);\n            // getRoleInfoById(id)\n          case 1:\n          case \"end\":\n            return _context9.stop();\n        }\n      }, _callee9);\n    }));\n    return function handleAfterSave(_x9) {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n  var onConfirmOk = function onConfirmOk() {\n    form.validateFields().then(function (_ref14) {\n      var _currentRole$current;\n      var values = (0, _values.default)(_ref14);\n      if (deleteName === ((_currentRole$current = currentRole.current) === null || _currentRole$current === void 0 ? void 0 : _currentRole$current.name)) {\n        doDeleteRole(currentRole.current);\n        setDisabledActions(['ok', 'cancel']);\n      } else {\n        (0, _utils.showNotice)('error', '名称输入错误，删除失败');\n      }\n    }).catch(function (e) {\n      return console.log(e);\n    });\n  };\n  var onConfirmCancel = function onConfirmCancel() {\n    setDeleteName('');\n    setDeleteConfirmVi(false);\n  };\n  var handleConfirmAction = function handleConfirmAction(key) {\n    switch (key) {\n      case 'ok':\n        onConfirmOk();\n        break;\n      case 'cancel':\n        onConfirmCancel();\n        break;\n      default:\n        break;\n    }\n  };\n\n  // const rolePermission = useMemo(() => {\n  //   if (!activeRoleId || !roleList) return null\n  //   return roleList.find(role => role.id === activeRoleId)\n  // }, [activeRoleId])\n\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AdminPermissionPage.default.wrapper\n  }, /*#__PURE__*/_react.default.createElement(_SideBar.default, {\n    activeRoleId: activeRoleId,\n    roleList: roleList,\n    onAdd: handleAddRole,\n    onDelete: handleDeleteRole,\n    onCopy: handleCopyRole,\n    onSort: handleSortRole,\n    setActiveRoleId: setActiveRoleId\n  }), roleList && (rolePermission ? /*#__PURE__*/_react.default.createElement(_RoleSetting.default, {\n    key: rolePermission === null || rolePermission === void 0 ? void 0 : rolePermission.id,\n    formList: formList,\n    appId: appId,\n    creatorId: creatorId,\n    rolePermission: rolePermission,\n    setRolePermission: setRolePermission,\n    onAfterSave: handleAfterSave\n  }) : null\n  // <EmptyData src={NoDataImg} desc='暂无数据' imageWidth={224} imageHeight={128} textGap={16} />\n  ), /*#__PURE__*/_react.default.createElement(_WebUI.ConfirmModal, {\n    visible: deleteConfirmVi,\n    type: \"delete\",\n    disabledActions: disabledActions,\n    title: \"\\u786E\\u5B9A\\u8981\\u5220\\u9664\\u89D2\\u8272\\\"\".concat((_currentRole$current2 = currentRole.current) === null || _currentRole$current2 === void 0 ? void 0 : _currentRole$current2.name, \"\\\"\\u5417\\uFF1F\"),\n    content: /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: _AdminPermissionPage.default.delete_content\n    }, /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: _AdminPermissionPage.default.desc\n    }, \"\\u5220\\u9664\\u89D2\\u8272\\u540E\\uFF0C\\u8BE5\\u89D2\\u8272\\u6388\\u6743\\u7684\\u7EC4\\u7EC7\\u3001\\u4EBA\\u5458\\u6743\\u9650\\u5C06\\u4E00\\u5E76\\u5220\\u9664\\uFF0C\\u4E0D\\u53EF\\u6062\\u590D\"), /*#__PURE__*/_react.default.createElement(_kdesign.Form, {\n      layout: \"vertical\",\n      form: form,\n      labelWidth: \"100%\",\n      wrapperWidth: \"100%\",\n      onValuesChange: function onValuesChange(changedValue, values) {\n        console.log('form', changedValue, values);\n      }\n    }, /*#__PURE__*/_react.default.createElement(_kdesign.Form.Item, {\n      label: \"\\u8BF7\\u8F93\\u5165\\u8BE5\\u89D2\\u8272\\u540D\\u79F0\",\n      name: \"name\",\n      required: true,\n      validateTrigger: \"onBlur\",\n      rules: [{\n        required: true,\n        message: '请输入角色名称'\n      }, {\n        type: 'string',\n        validator: function validator(rule, value, callback, source, options) {\n          if (!(value !== null && value !== void 0 && (0, _trim.default)(value).call(value))) {\n            return [new Error('请输入角色名称')];\n          } else {\n            return [];\n          }\n        }\n      }]\n    }, /*#__PURE__*/_react.default.createElement(_kdesign.Input, {\n      type: \"text\",\n      borderType: \"bordered\",\n      size: \"large\",\n      placeholder: \"\\u8BF7\\u8F93\\u5165\",\n      maxLength: 50,\n      value: deleteName,\n      onChange: function onChange(e) {\n        return setDeleteName(e.target.value);\n      }\n    })))),\n    onAction: handleConfirmAction\n  }));\n};\nvar getNextSelectedId = exports.getNextSelectedId = function getNextSelectedId(id, list) {\n  var index = (0, _findIndex.default)(list).call(list, function (item) {\n    return item.id === id;\n  });\n  // 删除角色，自动选中相邻角色\n  var nextSelectedId;\n  var prevRole = index > 0 ? list[index - 1] : undefined;\n  var nextRole = list[index + 1];\n  if (prevRole) {\n    nextSelectedId = prevRole.id;\n  } else if (nextRole) {\n    nextSelectedId = nextRole.id;\n  }\n  return nextSelectedId;\n};\nvar _default = exports[\"default\"] = AdminPermissionPage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL3BhZ2VzL2FkbWluL3Blcm1pc3Npb24vQWRtaW5QZXJtaXNzaW9uUGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFYQTtBQUFBO0FBQUE7O0FBYUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFsQkE7QUFBQTtBQUFBO0FBb0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFYQTtBQUFBO0FBQUE7O0FBYUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFkQTtBQUFBO0FBQUE7O0FBZ0JBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUxBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFYQTtBQUFBO0FBQUE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7O0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBekJBO0FBQUE7QUFBQTs7QUEyQkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQUE7QUFJQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLXBsYXRmb3JtLy4vc3JjL3dlYi9wYWdlcy9hZG1pbi9wZXJtaXNzaW9uL0FkbWluUGVybWlzc2lvblBhZ2UudHN4PzJiYjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8sIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IFNpZGVCYXIgZnJvbSAnQC93ZWIvY29tcG9uZW50L3Blcm1pc3Npb24vU2lkZUJhcidcclxuaW1wb3J0IFJvbGVTZXR0aW5nIGZyb20gJ0Avd2ViL2NvbXBvbmVudC9wZXJtaXNzaW9uL1JvbGVTZXR0aW5nJ1xyXG5pbXBvcnQgeyBnZXRQZXJtRm9ybXMgfSBmcm9tICdAL2FjdGlvbnMvYXV0aCdcclxuaW1wb3J0IHsgZ2V0Um9sZUxpc3QsIGRlbGV0ZVJvbGUsIHNhdmVSb2xlLCBnZXRSb2xlRGV0YWlsIH0gZnJvbSAnQC9hY3Rpb25zL2FkbWluJ1xyXG5pbXBvcnQgeyBnZXRBcHBJbmZvQnlJZCB9IGZyb20gJ0AvYWN0aW9ucy9ob21lJ1xyXG5pbXBvcnQgeyBzaG93Tm90aWNlLCBzaG93TG9hZGluZ01lc3NhZ2UgfSBmcm9tICdAL3V0aWxzJ1xyXG5pbXBvcnQgeyB1c2VQYXJhbXMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xyXG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSAnQC9hcHAnXHJcbmltcG9ydCB7IENvbmZpcm1Nb2RhbCB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXHJcbmltcG9ydCB7IElucHV0LCBGb3JtIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xyXG5pbXBvcnQgeyBVU0VfVFlQRV9BTEwgfSBmcm9tICdAL3dlYi9jb21wb25lbnQvcGVybWlzc2lvbi9yaWdodE9mVXNlJ1xyXG5pbXBvcnQgeyBwdWJsaXNoQ2xpY2tVc2VyRXZlbnQgfSBmcm9tICdAL3NlcnZpY2UvUGFnZUV2ZW50U2VydmljZSdcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL0FkbWluUGVybWlzc2lvblBhZ2UubGVzcydcclxuXHJcbmNvbnN0IEFkbWluUGVybWlzc2lvblBhZ2U6IEZDPGFueT4gPSAoKSA9PiB7XHJcbiAgY29uc3QgeyBhcHBJZCB9ID0gdXNlUGFyYW1zKClcclxuICBjb25zdCB7IHN0YXRlLCBkaXNwYXRjaCB9ID0gdXNlQ29udGV4dChDb250ZXh0KVxyXG4gIGNvbnN0IGFwcEluZm8gPSBzdGF0ZS5hcHBzTGlzdFthcHBJZF1cclxuICBjb25zdCB1c2VySW5mbyA9IHN0YXRlLnVzZXJJbmZvXHJcbiAgY29uc3QgeyBjcmVhdGVyIH0gPSBhcHBJbmZvIHx8IHt9XHJcbiAgY29uc3QgeyBpZDogY3JlYXRvcklkID0gJycgfSA9IGNyZWF0ZXIgfHwge31cclxuICBjb25zdCBbZm9ybUxpc3QsIHNldEZvcm1MaXN0XSA9IHVzZVN0YXRlPGFueVtdPihbXSlcclxuICBjb25zdCBbcm9sZUxpc3QsIHNldFJvbGVMaXN0XSA9IHVzZVN0YXRlPGFueT4obnVsbClcclxuICBjb25zdCBbYWN0aXZlUm9sZUlkLCBzZXRBY3RpdmVSb2xlSWRdID0gdXNlU3RhdGUoJycpXHJcbiAgY29uc3QgW2Zvcm1dID0gRm9ybS51c2VGb3JtKClcclxuICBjb25zdCBbZGVsZXRlTmFtZSwgc2V0RGVsZXRlTmFtZV0gPSB1c2VTdGF0ZSgnJylcclxuICBjb25zdCBbZGVsZXRlQ29uZmlybVZpLCBzZXREZWxldGVDb25maXJtVmldID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgY29uc3QgW3JvbGVQZXJtaXNzaW9uLCBzZXRSb2xlUGVybWlzc2lvbl0gPSB1c2VTdGF0ZTxhbnk+KG51bGwpXHJcbiAgY29uc3QgW2Rpc2FibGVkQWN0aW9ucywgc2V0RGlzYWJsZWRBY3Rpb25zXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSlcclxuICBjb25zdCBjdXJyZW50Um9sZSA9IHVzZVJlZihudWxsKVxyXG5cclxuICAvLyDojrflj5blvZPliY3lupTnlKjkuIvnmoTmiYDmnInooajljZVcclxuICBjb25zdCBnZXRGb3JtQnlBcHBJZCA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldFBlcm1Gb3JtcyhhcHBJZClcclxuICAgICAgY29uc3QgeyByb3dzOiBsaXN0ID0gW10gfSA9IHJlcyB8fCB7fVxyXG4gICAgICBzZXRGb3JtTGlzdChsaXN0KVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IGVcclxuICAgICAgc2hvd05vdGljZSgnZXJyb3InLCBtZXNzYWdlKVxyXG4gICAgICBzZXRGb3JtTGlzdChbXSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPluinkuiJsuWIl+ihqFxyXG4gIGNvbnN0IGluaXRSb2xlTGlzdCA9IGFzeW5jIChzZWxlY3RSb2xlSWQ/OiBzdHJpbmcpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldFJvbGVMaXN0KGFwcElkKVxyXG4gICAgICBjb25zdCB7IHJvd3MgPSBbXSB9ID0gcmVzIHx8IHt9XHJcbiAgICAgIHNldFJvbGVMaXN0KHJvd3MpXHJcbiAgICAgIGlmIChyb3dzLmxlbmd0aCkge1xyXG4gICAgICAgIGlmIChzZWxlY3RSb2xlSWQpIHtcclxuICAgICAgICAgIHNldEFjdGl2ZVJvbGVJZChzZWxlY3RSb2xlSWQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHsgaWQgfSA9IHJvd3NbMF1cclxuICAgICAgICAgIHNldEFjdGl2ZVJvbGVJZChpZClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSlcclxuICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBlXHJcbiAgICAgIHNob3dOb3RpY2UoJ2Vycm9yJywgbWVzc2FnZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGdldFJvbGVJbmZvQnlJZCA9IGFzeW5jIChyb2xlSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKCFyb2xlSWQpIHJldHVyblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0Um9sZURldGFpbChyb2xlSWQpIHx8IHt9XHJcbiAgICAgIGNvbnN0IHsgcm93cyA9IFtdIH0gPSByZXNcclxuICAgICAgc2V0Um9sZVBlcm1pc3Npb24ocm93c1swXSB8fCBudWxsKVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IGVcclxuICAgICAgc2hvd05vdGljZSgnZXJyb3InLCBtZXNzYWdlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5L+d5a2Y5paw6KeS6Imy5bm25Yi35paw6KeS6Imy5L+h5oGvXHJcbiAgY29uc3Qgc2F2ZVJvbGVBbmRSZWZyZXNoID0gYXN5bmMgKG5ld1JvbGU6IGFueSwgbXNnPzogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBwYXJhbSA9IHsgZGF0YTogW25ld1JvbGVdIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZmFpbENvdW50LCByZXN1bHQgfSA9IGF3YWl0IHNhdmVSb2xlKHBhcmFtKVxyXG4gICAgICBpZiAoZmFpbENvdW50ID09PSAnMCcpIHtcclxuICAgICAgICBzaG93Tm90aWNlKCdzdWNjZXNzJywgbXNnIHx8ICfmlrDlop7op5LoibLmiJDlip8nKVxyXG4gICAgICAgIGNvbnN0IHJvbGVJZCA9IHJlc3VsdD8uWzBdPy5pZFxyXG4gICAgICAgIGluaXRSb2xlTGlzdChyb2xlSWQpXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSlcclxuICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBlXHJcbiAgICAgIHNob3dOb3RpY2UoJ2Vycm9yJywgbWVzc2FnZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOaWsOWinuinkuiJslxyXG4gIGNvbnN0IGhhbmRsZUFkZFJvbGUgPSAoKSA9PiB7XHJcbiAgICBwdWJsaXNoQ2xpY2tVc2VyRXZlbnQoeyBhcHBJZCwgZm9ybUlkOiAnJywgYWN0aW9uOiAnc2FfcG1fY3InIH0pXHJcbiAgICBjb25zdCBuZXdSb2xlID0ge1xyXG4gICAgICBhcHBJZCxcclxuICAgICAgbmFtZTogJ+acquWRveWQjeinkuiJsicsXHJcbiAgICAgIC8vIGZvcm1QZXJtOiBuZXdGb3JtUGVybSxcclxuICAgICAgbWFuYWdlOiB0cnVlLFxyXG4gICAgICB1c2VUeXBlOiBVU0VfVFlQRV9BTEwsXHJcbiAgICAgIHVzZXJzOiBbXSxcclxuICAgICAgb3JnczogW11cclxuICAgIH1cclxuICAgIHNhdmVSb2xlQW5kUmVmcmVzaChuZXdSb2xlLCAn5paw5aKe6KeS6Imy5oiQ5YqfJylcclxuICB9XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNvcHlSb2xlID0gYXN5bmMgKHJvbGU6IGFueSkgPT4ge1xyXG4gICAgcHVibGlzaENsaWNrVXNlckV2ZW50KHsgYXBwSWQsIGZvcm1JZDogJycsIGFjdGlvbjogJ3NhX3BtX2NvcHknIH0pXHJcbiAgICBjb25zdCB7IGlkIH0gPSByb2xlXHJcbiAgICBjb25zdCBuZXdSb2xlID0geyBpZCwgY29weTogdHJ1ZSB9XHJcbiAgICBzYXZlUm9sZUFuZFJlZnJlc2gobmV3Um9sZSwgJ+WkjeWItuinkuiJsuaIkOWKnycpXHJcbiAgfVxyXG5cclxuICBjb25zdCBoYW5kbGVTb3J0Um9sZSA9IGFzeW5jIChuZXdMaXN0OiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHBhcmFtID0geyBkYXRhOiBuZXdMaXN0Lm1hcCgoaXRlbTogYW55KSA9PiAoeyBpZDogaXRlbS5pZCwgYXBwSWQgfSkpLCByZW9yZGVyOiB0cnVlIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZmFpbENvdW50IH0gPSBhd2FpdCBzYXZlUm9sZShwYXJhbSlcclxuICAgICAgaWYgKGZhaWxDb3VudCA9PT0gJzAnKSB7XHJcbiAgICAgICAgc2hvd05vdGljZSgnc3VjY2VzcycsICfmjpLluo/miJDlip8nKVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gZVxyXG4gICAgICBzaG93Tm90aWNlKCdlcnJvcicsIG1lc3NhZ2UpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZ2V0Rm9ybUJ5QXBwSWQoKVxyXG4gICAgaW5pdFJvbGVMaXN0KClcclxuICB9LCBbXSlcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGdldFJvbGVJbmZvQnlJZChhY3RpdmVSb2xlSWQpXHJcbiAgfSwgW2FjdGl2ZVJvbGVJZF0pXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAhYXBwSW5mbyAmJiBnZXRBcHBJbmZvQnlJZChhcHBJZCwgZGlzcGF0Y2gpXHJcbiAgfSwgW2FwcEluZm8sIHVzZXJJbmZvXSlcclxuXHJcbiAgLy8g54K55Ye76KeS6Imy55qE4oCc5Yig6Zmk4oCd5LiL5ouJ6I+c5Y2VXHJcbiAgY29uc3QgaGFuZGxlRGVsZXRlUm9sZSA9IGFzeW5jIChyb2xlOiBhbnkpID0+IHtcclxuICAgIGN1cnJlbnRSb2xlLmN1cnJlbnQgPSByb2xlXHJcbiAgICBzZXREZWxldGVDb25maXJtVmkodHJ1ZSlcclxuICB9XHJcblxyXG4gIC8vIOaJp+ihjOWIoOmZpOaTjeS9nFxyXG4gIGNvbnN0IGRvRGVsZXRlUm9sZSA9IGFzeW5jIChyb2xlOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IGNsb3NlTWVzc2FnZSA9IHNob3dMb2FkaW5nTWVzc2FnZSgn6KeS6Imy5Yig6Zmk5Lit77yM6K+356iN5YCZLi4uJylcclxuICAgIGNvbnN0IHsgaWQgfSA9IHJvbGVcclxuICAgIC8vIOWIoOmZpOinkuiJsu+8jOiHquWKqOmAieS4reebuOmCu+inkuiJslxyXG4gICAgbGV0IG5leHRTZWxlY3RlZElkID0gYWN0aXZlUm9sZUlkXHJcbiAgICBpZiAoYWN0aXZlUm9sZUlkID09PSBpZCkge1xyXG4gICAgICBuZXh0U2VsZWN0ZWRJZCA9IGdldE5leHRTZWxlY3RlZElkKGlkLCByb2xlTGlzdClcclxuICAgIH1cclxuICAgIGNvbnN0IHBhcmFtID0gW3sgaWQgfV1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGRlbGV0ZVJvbGUocGFyYW0pXHJcbiAgICAgIGNvbnN0IHsgZmFpbENvdW50IH0gPSByZXNcclxuICAgICAgLy8gc2V0Um9sZUxpc3Qocm93cylcclxuICAgICAgaWYgKGZhaWxDb3VudCA9PT0gJzAnKSB7XHJcbiAgICAgICAgY2xvc2VNZXNzYWdlKHsgdHlwZTogJ3N1Y2Nlc3MnLCBjb250ZW50OiAn5Yig6Zmk5oiQ5YqfJyB9KVxyXG4gICAgICAgIGRlbGV0ZUNvbmZpcm1WaSAmJiBzZXREZWxldGVDb25maXJtVmkoZmFsc2UpXHJcbiAgICAgICAgc2V0RGVsZXRlTmFtZSgnJylcclxuICAgICAgICBpbml0Um9sZUxpc3QobmV4dFNlbGVjdGVkSWQpXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSlcclxuICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBlXHJcbiAgICAgIGNsb3NlTWVzc2FnZSh7IHR5cGU6ICdlcnJvcicsIGNvbnRlbnQ6IG1lc3NhZ2UgfSlcclxuICAgIH1cclxuICAgIHNldERpc2FibGVkQWN0aW9ucyhbXSlcclxuICB9XHJcblxyXG4gIC8vIOS/neWtmOaIkOWKn+WQjuWIt+aWsOinkuiJsuaVsOaNrlxyXG4gIGNvbnN0IGhhbmRsZUFmdGVyU2F2ZSA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBpbml0Um9sZUxpc3QoaWQpXHJcbiAgICAvLyBnZXRSb2xlSW5mb0J5SWQoaWQpXHJcbiAgfVxyXG5cclxuICBjb25zdCBvbkNvbmZpcm1PayA9ICgpID0+IHtcclxuICAgIGZvcm1cclxuICAgICAgLnZhbGlkYXRlRmllbGRzKClcclxuICAgICAgLnRoZW4oKHsgdmFsdWVzIH0pID0+IHtcclxuICAgICAgICBpZiAoZGVsZXRlTmFtZSA9PT0gY3VycmVudFJvbGUuY3VycmVudD8ubmFtZSkge1xyXG4gICAgICAgICAgZG9EZWxldGVSb2xlKGN1cnJlbnRSb2xlLmN1cnJlbnQpXHJcbiAgICAgICAgICBzZXREaXNhYmxlZEFjdGlvbnMoWydvaycsICdjYW5jZWwnXSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd05vdGljZSgnZXJyb3InLCAn5ZCN56ew6L6T5YWl6ZSZ6K+v77yM5Yig6Zmk5aSx6LSlJylcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coZSkpXHJcbiAgfVxyXG5cclxuICBjb25zdCBvbkNvbmZpcm1DYW5jZWwgPSAoKSA9PiB7XHJcbiAgICBzZXREZWxldGVOYW1lKCcnKVxyXG4gICAgc2V0RGVsZXRlQ29uZmlybVZpKGZhbHNlKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaGFuZGxlQ29uZmlybUFjdGlvbiA9IChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgY2FzZSAnb2snOlxyXG4gICAgICAgIG9uQ29uZmlybU9rKClcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdjYW5jZWwnOlxyXG4gICAgICAgIG9uQ29uZmlybUNhbmNlbCgpXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gY29uc3Qgcm9sZVBlcm1pc3Npb24gPSB1c2VNZW1vKCgpID0+IHtcclxuICAvLyAgIGlmICghYWN0aXZlUm9sZUlkIHx8ICFyb2xlTGlzdCkgcmV0dXJuIG51bGxcclxuICAvLyAgIHJldHVybiByb2xlTGlzdC5maW5kKHJvbGUgPT4gcm9sZS5pZCA9PT0gYWN0aXZlUm9sZUlkKVxyXG4gIC8vIH0sIFthY3RpdmVSb2xlSWRdKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy53cmFwcGVyfT5cclxuICAgICAgPFNpZGVCYXJcclxuICAgICAgICBhY3RpdmVSb2xlSWQ9e2FjdGl2ZVJvbGVJZH1cclxuICAgICAgICByb2xlTGlzdD17cm9sZUxpc3R9XHJcbiAgICAgICAgb25BZGQ9e2hhbmRsZUFkZFJvbGV9XHJcbiAgICAgICAgb25EZWxldGU9e2hhbmRsZURlbGV0ZVJvbGV9XHJcbiAgICAgICAgb25Db3B5PXtoYW5kbGVDb3B5Um9sZX1cclxuICAgICAgICBvblNvcnQ9e2hhbmRsZVNvcnRSb2xlfVxyXG4gICAgICAgIHNldEFjdGl2ZVJvbGVJZD17c2V0QWN0aXZlUm9sZUlkfVxyXG4gICAgICAvPlxyXG4gICAgICB7cm9sZUxpc3QgJiYgKHJvbGVQZXJtaXNzaW9uID8gKFxyXG4gICAgICAgIDxSb2xlU2V0dGluZ1xyXG4gICAgICAgICAga2V5PXtyb2xlUGVybWlzc2lvbj8uaWR9XHJcbiAgICAgICAgICBmb3JtTGlzdD17Zm9ybUxpc3R9XHJcbiAgICAgICAgICBhcHBJZD17YXBwSWR9XHJcbiAgICAgICAgICBjcmVhdG9ySWQ9e2NyZWF0b3JJZH1cclxuICAgICAgICAgIHJvbGVQZXJtaXNzaW9uPXtyb2xlUGVybWlzc2lvbn1cclxuICAgICAgICAgIHNldFJvbGVQZXJtaXNzaW9uPXtzZXRSb2xlUGVybWlzc2lvbn1cclxuICAgICAgICAgIG9uQWZ0ZXJTYXZlPXtoYW5kbGVBZnRlclNhdmV9XHJcbiAgICAgICAgLz5cclxuICAgICAgKSA6IChcclxuICAgICAgICBudWxsXHJcbiAgICAgICAgLy8gPEVtcHR5RGF0YSBzcmM9e05vRGF0YUltZ30gZGVzYz0n5pqC5peg5pWw5o2uJyBpbWFnZVdpZHRoPXsyMjR9IGltYWdlSGVpZ2h0PXsxMjh9IHRleHRHYXA9ezE2fSAvPlxyXG4gICAgICApKX1cclxuICAgICAgPENvbmZpcm1Nb2RhbFxyXG4gICAgICAgIHZpc2libGU9e2RlbGV0ZUNvbmZpcm1WaX1cclxuICAgICAgICB0eXBlPSdkZWxldGUnXHJcbiAgICAgICAgZGlzYWJsZWRBY3Rpb25zPXtkaXNhYmxlZEFjdGlvbnN9XHJcbiAgICAgICAgdGl0bGU9e2Dnoa7lrpropoHliKDpmaTop5LoibJcIiR7Y3VycmVudFJvbGUuY3VycmVudD8ubmFtZX1cIuWQl++8n2B9XHJcbiAgICAgICAgY29udGVudD17KFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5kZWxldGVfY29udGVudH0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZGVzY30+5Yig6Zmk6KeS6Imy5ZCO77yM6K+l6KeS6Imy5o6I5p2D55qE57uE57uH44CB5Lq65ZGY5p2D6ZmQ5bCG5LiA5bm25Yig6Zmk77yM5LiN5Y+v5oGi5aSNPC9kaXY+XHJcbiAgICAgICAgICAgIDxGb3JtXHJcbiAgICAgICAgICAgICAgbGF5b3V0PSd2ZXJ0aWNhbCdcclxuICAgICAgICAgICAgICBmb3JtPXtmb3JtfVxyXG4gICAgICAgICAgICAgIGxhYmVsV2lkdGg9JzEwMCUnXHJcbiAgICAgICAgICAgICAgd3JhcHBlcldpZHRoPScxMDAlJ1xyXG4gICAgICAgICAgICAgIG9uVmFsdWVzQ2hhbmdlPXsoY2hhbmdlZFZhbHVlLCB2YWx1ZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmb3JtJywgY2hhbmdlZFZhbHVlLCB2YWx1ZXMpXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxGb3JtLkl0ZW1cclxuICAgICAgICAgICAgICAgIGxhYmVsPSfor7fovpPlhaXor6Xop5LoibLlkI3np7AnXHJcbiAgICAgICAgICAgICAgICBuYW1lPSduYW1lJ1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlVHJpZ2dlcj0nb25CbHVyJ1xyXG4gICAgICAgICAgICAgICAgcnVsZXM9e1t7XHJcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6KeS6Imy5ZCN56ewJ1xyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlPy50cmltKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbbmV3IEVycm9yKCfor7fovpPlhaXop5LoibLlkI3np7AnKV1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyVHlwZT0nYm9yZGVyZWQnXHJcbiAgICAgICAgICAgICAgICAgIHNpemU9J2xhcmdlJ1xyXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0n6K+36L6T5YWlJ1xyXG4gICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9ezUwfVxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17ZGVsZXRlTmFtZX1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXREZWxldGVOYW1lKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XHJcbiAgICAgICAgICAgIDwvRm9ybT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgICAgb25BY3Rpb249e2hhbmRsZUNvbmZpcm1BY3Rpb259XHJcbiAgICAgIC8+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXROZXh0U2VsZWN0ZWRJZCA9IChpZCwgbGlzdCkgPT4ge1xyXG4gIGNvbnN0IGluZGV4ID0gbGlzdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSBpZClcclxuICAvLyDliKDpmaTop5LoibLvvIzoh6rliqjpgInkuK3nm7jpgrvop5LoibJcclxuICBsZXQgbmV4dFNlbGVjdGVkSWRcclxuICBjb25zdCBwcmV2Um9sZSA9IGluZGV4ID4gMCA/IGxpc3RbaW5kZXggLSAxXSA6IHVuZGVmaW5lZFxyXG4gIGNvbnN0IG5leHRSb2xlID0gbGlzdFtpbmRleCArIDFdXHJcbiAgaWYgKHByZXZSb2xlKSB7XHJcbiAgICBuZXh0U2VsZWN0ZWRJZCA9IHByZXZSb2xlLmlkXHJcbiAgfSBlbHNlIGlmIChuZXh0Um9sZSkge1xyXG4gICAgbmV4dFNlbGVjdGVkSWQgPSBuZXh0Um9sZS5pZFxyXG4gIH1cclxuICByZXR1cm4gbmV4dFNlbGVjdGVkSWRcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWRtaW5QZXJtaXNzaW9uUGFnZVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/pages/admin/permission/AdminPermissionPage.tsx\n");

/***/ }),

/***/ "./assets/img/container_bg_img.png":
/*!*****************************************!*\
  !*** ./assets/img/container_bg_img.png ***!
  \*****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
module.exports = __webpack_require__.p + "ncp/nocode/images/141804a566a929dccb3e.png";

/***/ }),

/***/ "../../node_modules/@babel/runtime-corejs3/core-js-stable/reflect/has.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@babel/runtime-corejs3/core-js-stable/reflect/has.js ***!
  \*******************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! core-js-pure/stable/reflect/has */ \"../../node_modules/core-js-pure/stable/reflect/has.js\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvcmVmbGVjdC9oYXMuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvcmVmbGVjdC9oYXMuanM/NzFhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzLXB1cmUvc3RhYmxlL3JlZmxlY3QvaGFzXCIpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@babel/runtime-corejs3/core-js-stable/reflect/has.js\n");

/***/ }),

/***/ "../../node_modules/core-js-pure/es/reflect/has.js":
/*!*********************************************************!*\
  !*** ../../node_modules/core-js-pure/es/reflect/has.js ***!
  \*********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\n__webpack_require__(/*! ../../modules/es.reflect.has */ \"../../node_modules/core-js-pure/modules/es.reflect.has.js\");\nvar path = __webpack_require__(/*! ../../internals/path */ \"../../node_modules/core-js-pure/internals/path.js\");\n\nmodule.exports = path.Reflect.has;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9yZWZsZWN0L2hhcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLXBsYXRmb3JtLy4uLy4uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvcmVmbGVjdC9oYXMuanM/YTU1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLnJlZmxlY3QuaGFzJyk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9wYXRoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5SZWZsZWN0LmhhcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/core-js-pure/es/reflect/has.js\n");

/***/ }),

/***/ "../../node_modules/core-js-pure/modules/es.reflect.has.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/core-js-pure/modules/es.reflect.has.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\nvar $ = __webpack_require__(/*! ../internals/export */ \"../../node_modules/core-js-pure/internals/export.js\");\n\n// `Reflect.has` method\n// https://tc39.es/ecma262/#sec-reflect.has\n$({ target: 'Reflect', stat: true }, {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnJlZmxlY3QuaGFzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLXBsYXRmb3JtLy4uLy4uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5yZWZsZWN0Lmhhcy5qcz8xNjFkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xuXG4vLyBgUmVmbGVjdC5oYXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZWZsZWN0Lmhhc1xuJCh7IHRhcmdldDogJ1JlZmxlY3QnLCBzdGF0OiB0cnVlIH0sIHtcbiAgaGFzOiBmdW5jdGlvbiBoYXModGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgIHJldHVybiBwcm9wZXJ0eUtleSBpbiB0YXJnZXQ7XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/core-js-pure/modules/es.reflect.has.js\n");

/***/ }),

/***/ "../../node_modules/core-js-pure/stable/reflect/has.js":
/*!*************************************************************!*\
  !*** ../../node_modules/core-js-pure/stable/reflect/has.js ***!
  \*************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\nvar parent = __webpack_require__(/*! ../../es/reflect/has */ \"../../node_modules/core-js-pure/es/reflect/has.js\");\n\nmodule.exports = parent;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvcmVmbGVjdC9oYXMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi4vLi4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvcmVmbGVjdC9oYXMuanM/MTYxYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vZXMvcmVmbGVjdC9oYXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/core-js-pure/stable/reflect/has.js\n");

/***/ })

}]);