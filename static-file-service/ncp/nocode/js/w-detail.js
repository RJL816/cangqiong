"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunknocode_platform"] = self["webpackChunknocode_platform"] || []).push([[8684],{

/***/ "./src/web/layout/apps/DetailHeaderLayout.less":
/*!*****************************************************!*\
  !*** ./src/web/layout/apps/DetailHeaderLayout.less ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"app_container\":\"ApS+IMsm_app_container\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2xheW91dC9hcHBzL0RldGFpbEhlYWRlckxheW91dC5sZXNzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLXBsYXRmb3JtLy4vc3JjL3dlYi9sYXlvdXQvYXBwcy9EZXRhaWxIZWFkZXJMYXlvdXQubGVzcz8zNDFiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wiYXBwX2NvbnRhaW5lclwiOlwiQXBTK0lNc21fYXBwX2NvbnRhaW5lclwifTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/layout/apps/DetailHeaderLayout.less\n");

/***/ }),

/***/ "./src/web/pages/apps/detail/AppDetailPage.less":
/*!******************************************************!*\
  !*** ./src/web/pages/apps/detail/AppDetailPage.less ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"app_form_detail\":\"_5zTCZcku_app_form_detail\",\"box\":\"ohFcZq8L_box\",\"main\":\"fCZWr7mq_main\",\"bill\":\"nLrZBefF_bill\",\"has_flow\":\"qXOFJu1Z_has_flow\",\"scroll\":\"XBM8fxc7_scroll\",\"flow\":\"YLHj8Mpb_flow\",\"footer\":\"SgJ9CUFc_footer\",\"footer_main\":\"KzNQOdtU_footer_main\",\"footer_main_tips\":\"wMiZVY4H_footer_main_tips\",\"btns\":\"UGMiso5u_btns\",\"mr12\":\"_3Z7QuvqL_mr12\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL3BhZ2VzL2FwcHMvZGV0YWlsL0FwcERldGFpbFBhZ2UubGVzcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1wbGF0Zm9ybS8uL3NyYy93ZWIvcGFnZXMvYXBwcy9kZXRhaWwvQXBwRGV0YWlsUGFnZS5sZXNzPzcwYTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJhcHBfZm9ybV9kZXRhaWxcIjpcIl81elRDWmNrdV9hcHBfZm9ybV9kZXRhaWxcIixcImJveFwiOlwib2hGY1pxOExfYm94XCIsXCJtYWluXCI6XCJmQ1pXcjdtcV9tYWluXCIsXCJiaWxsXCI6XCJuTHJaQmVmRl9iaWxsXCIsXCJoYXNfZmxvd1wiOlwicVhPRkp1MVpfaGFzX2Zsb3dcIixcInNjcm9sbFwiOlwiWEJNOGZ4Yzdfc2Nyb2xsXCIsXCJmbG93XCI6XCJZTEhqOE1wYl9mbG93XCIsXCJmb290ZXJcIjpcIlNnSjlDVUZjX2Zvb3RlclwiLFwiZm9vdGVyX21haW5cIjpcIkt6TlFPZHRVX2Zvb3Rlcl9tYWluXCIsXCJmb290ZXJfbWFpbl90aXBzXCI6XCJ3TWlaVlk0SF9mb290ZXJfbWFpbl90aXBzXCIsXCJidG5zXCI6XCJVR01pc281dV9idG5zXCIsXCJtcjEyXCI6XCJfM1o3UXV2cUxfbXIxMlwifTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/pages/apps/detail/AppDetailPage.less\n");

/***/ }),

/***/ "./src/web/component/common/ShareButton.tsx":
/*!**************************************************!*\
  !*** ./src/web/component/common/ShareButton.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/regenerator */ \"../../node_modules/@babel/runtime-corejs3/regenerator/index.js\"));\nvar _concat = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js\"));\nvar _slice = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js\"));\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime-corejs3/helpers/asyncToGenerator.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _reactI18next = __webpack_require__(/*! react-i18next */ \"../../node_modules/react-i18next/dist/es/index.js\");\nvar _ShareModal = _interopRequireDefault(__webpack_require__(/*! ./ShareModal */ \"./src/web/component/common/ShareModal.tsx\"));\nvar _designer = __webpack_require__(/*! @/actions/designer */ \"./src/actions/designer.js\");\nvar _WebUI = __webpack_require__(/*! nocode_component/WebUI */ \"webpack/container/remote/nocode_component/WebUI\");\nvar _home = __webpack_require__(/*! @/actions/home */ \"./src/actions/home.js\");\nvar _useFetchHook = __webpack_require__(/*! @/hooks/useFetchHook */ \"./src/hooks/useFetchHook.ts\");\nvar _actionNames = __webpack_require__(/*! @/reducer/actionNames */ \"./src/reducer/actionNames.js\");\nvar _storageTools = __webpack_require__(/*! @/utils/storageTools */ \"./src/utils/storageTools.ts\");\nvar _useAppContext2 = _interopRequireDefault(__webpack_require__(/*! @/hooks/useAppContext */ \"./src/hooks/useAppContext.js\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n/*\n * @Description: 分享按钮（包括分享弹窗）\n * @Author: jianhang_he\n * @Date: 2022-09-21 16:18:02\n * @LastEditTime: 2024-09-18 11:06:16\n * @Last Modified by: jianhang_he\n */\n\nvar VIEW_STATUS_TEXT = {\n  view: '详情',\n  edit: '编辑'\n};\nvar ShareButton = (0, _react.memo)(function (_ref) {\n  var _context3;\n  var config = _ref.config,\n    className = _ref.className,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? 'middle' : _ref$size,\n    shareLink = _ref.shareLink,\n    _ref$modalTitle = _ref.modalTitle,\n    modalTitle = _ref$modalTitle === void 0 ? '列表页' : _ref$modalTitle,\n    _ref$iconType = _ref.iconType,\n    iconType = _ref$iconType === void 0 ? 'fenxiang' : _ref$iconType,\n    onClick = _ref.onClick,\n    allowNoAuth = _ref.allowNoAuth,\n    shareReqireLogin = _ref.shareReqireLogin,\n    shareNotReqireLogin = _ref.shareNotReqireLogin;\n  var _useAppContext = (0, _useAppContext2.default)(),\n    state = _useAppContext.state,\n    dispatch = _useAppContext.dispatch;\n  var appId = config.appId,\n    targetFormId = config.targetFormId,\n    Status = config.Status,\n    pkId = config.pkId;\n  var userInfo = state.userInfo;\n  var appData = state.appsList[appId];\n  var fileServer = state.fileServer;\n  // 表单名称\n  var selectedFormData = state.selectedFormData;\n  var _useTranslation = (0, _reactI18next.useTranslation)(),\n    translate = _useTranslation.t;\n  var _useState = (0, _react.useState)(selectedFormData || {}),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    formData = _useState2[0],\n    setFormData = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    shareModelVisible = _useState4[0],\n    setShareModelVisible = _useState4[1];\n  (0, _react.useEffect)(function () {\n    if (!appData) {\n      var url = \"nocode/v2/nocode_sys/app/\".concat(appId);\n      (0, _storageTools.getWithPriority)((0, _useFetchHook.getStoreData)(url, ''), (0, _home.getAppInfoById)(appId).then(function (info) {\n        (0, _useFetchHook.setStoreData)(url, '', info);\n        return info;\n      }), function (res) {\n        var _res$rows;\n        var info = res === null || res === void 0 || (_res$rows = res.rows) === null || _res$rows === void 0 ? void 0 : _res$rows[0];\n        info && dispatch({\n          type: _actionNames.UPDATE_APP_INFO_BY_ID,\n          payload: {\n            id: appId,\n            value: info\n          }\n        });\n      });\n    }\n  }, [appData, appId]);\n  var shareTitle = (0, _react.useMemo)(function () {\n    var _context, _formData$name;\n    // 后端限制长度50，前端也统一\n    return (0, _concat.default)(_context = \"\".concat((_formData$name = formData.name) === null || _formData$name === void 0 ? void 0 : (0, _slice.default)(_formData$name).call(_formData$name, 0, 50 - modalTitle.length))).call(_context, modalTitle);\n  }, [formData, modalTitle, Status]);\n\n  /**\n   * 点击分享\n   */\n  var handleClickShare = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      return _regenerator.default.wrap(function _callee$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!onClick) {\n              _context2.next = 2;\n              break;\n            }\n            return _context2.abrupt(\"return\", onClick());\n          case 2:\n            // 获取表单信息\n            (0, _designer.getFormData)({\n              appId: appId,\n              targetFormId: targetFormId\n            }).then(function (res) {\n              var _res$rows2;\n              var data = (res === null || res === void 0 || (_res$rows2 = res.rows) === null || _res$rows2 === void 0 ? void 0 : _res$rows2[0]) || {};\n              setFormData(data);\n              setShareModelVisible(true);\n            }).catch(function (err) {\n              console.error('getFormData 出错了', err);\n            });\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee);\n    }));\n    return function handleClickShare() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * 取消分享弹窗\n   */\n  var cancelShareModel = (0, _react.useCallback)(function () {\n    setShareModelVisible(false);\n  }, []);\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_WebUI.BtnField, {\n    size: size,\n    type: \"text\",\n    \"data-nc-action\": (0, _concat.default)(_context3 = \"\".concat(appId, \"|\")).call(_context3, targetFormId, \"|tb_share\"),\n    onClick: handleClickShare,\n    className: className,\n    text: translate('apps.share'),\n    icon: {\n      prefix: 'nocodeplatformicon',\n      type: iconType\n    }\n  }), shareModelVisible && /*#__PURE__*/_react.default.createElement(_ShareModal.default, {\n    visible: shareModelVisible,\n    title: \"\\u5206\\u4EAB\",\n    onCancel: cancelShareModel,\n    onOk: cancelShareModel,\n    shareTitle: shareTitle,\n    needLoginLink: shareLink,\n    shareByPeople: userInfo === null || userInfo === void 0 ? void 0 : userInfo.name,\n    shareAppImage: appData === null || appData === void 0 ? void 0 : appData.image,\n    formid: pkId || formData.formId,\n    fileServer: fileServer,\n    allowNoAuth: allowNoAuth,\n    formData: formData,\n    config: config,\n    shareReqireLogin: shareReqireLogin,\n    shareNotReqireLogin: shareNotReqireLogin\n  }));\n});\nShareButton.displayName = 'ShareButton';\nvar _default = exports[\"default\"] = ShareButton;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9jb21tb24vU2hhcmVCdXR0b24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVdBO0FBQUE7QUFUQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFYQTtBQUFBO0FBQUE7O0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUVBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi9zcmMvd2ViL2NvbXBvbmVudC9jb21tb24vU2hhcmVCdXR0b24udHN4P2YwYTciXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjog5YiG5Lqr5oyJ6ZKu77yI5YyF5ous5YiG5Lqr5by556qX77yJXG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMjEgMTY6MTg6MDJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjQtMDktMTggMTE6MDY6MTZcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcbmltcG9ydCB7IHVzZVBhcmFtcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nXG5pbXBvcnQgU2hhcmVNb2RhbCBmcm9tICcuL1NoYXJlTW9kYWwnXG5pbXBvcnQgeyBnZXRGb3JtRGF0YSB9IGZyb20gJ0AvYWN0aW9ucy9kZXNpZ25lcidcbmltcG9ydCB7IEJ0bkZpZWxkIGFzIEJ1dHRvbiB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5pbXBvcnQgeyBnZXRBcHBJbmZvQnlJZCwgZ2V0TGluZUljb25BbmRDb2xvciB9IGZyb20gJ0AvYWN0aW9ucy9ob21lJ1xuaW1wb3J0IHsgZ2V0U3RvcmVEYXRhLCBzZXRTdG9yZURhdGEgfSBmcm9tICdAL2hvb2tzL3VzZUZldGNoSG9vaydcbmltcG9ydCB7IFVQREFURV9BUFBfSU5GT19CWV9JRCB9IGZyb20gJ0AvcmVkdWNlci9hY3Rpb25OYW1lcydcbmltcG9ydCB7IGdldFdpdGhQcmlvcml0eSB9IGZyb20gJ0AvdXRpbHMvc3RvcmFnZVRvb2xzJ1xuaW1wb3J0IHVzZUFwcENvbnRleHQgZnJvbSAnQC9ob29rcy91c2VBcHBDb250ZXh0J1xuXG5jb25zdCBWSUVXX1NUQVRVU19URVhUID0ge1xuICB2aWV3OiAn6K+m5oOFJyxcbiAgZWRpdDogJ+e8lui+kSdcbn1cblxuY29uc3QgU2hhcmVCdXR0b24gPSBtZW1vKCh7XG4gIGNvbmZpZyxcbiAgY2xhc3NOYW1lLFxuICBzaXplID0gJ21pZGRsZScsXG4gIHNoYXJlTGluayxcbiAgbW9kYWxUaXRsZSA9ICfliJfooajpobUnLFxuICBpY29uVHlwZSA9ICdmZW54aWFuZycsXG4gIG9uQ2xpY2ssXG4gIGFsbG93Tm9BdXRoLFxuICBzaGFyZVJlcWlyZUxvZ2luLFxuICBzaGFyZU5vdFJlcWlyZUxvZ2luXG59KSA9PiB7XG4gIGNvbnN0IHsgc3RhdGUsIGRpc3BhdGNoIH0gPSB1c2VBcHBDb250ZXh0KClcbiAgY29uc3QgeyBhcHBJZCwgdGFyZ2V0Rm9ybUlkLCBTdGF0dXMsIHBrSWQgfSA9IGNvbmZpZ1xuICBjb25zdCB1c2VySW5mbyA9IHN0YXRlLnVzZXJJbmZvXG4gIGNvbnN0IGFwcERhdGEgPSBzdGF0ZS5hcHBzTGlzdFthcHBJZF1cblxuICBjb25zdCBmaWxlU2VydmVyID0gc3RhdGUuZmlsZVNlcnZlclxuICAvLyDooajljZXlkI3np7BcbiAgY29uc3Qgc2VsZWN0ZWRGb3JtRGF0YSA9IHN0YXRlLnNlbGVjdGVkRm9ybURhdGFcbiAgY29uc3QgeyB0OiB0cmFuc2xhdGUgfSA9IHVzZVRyYW5zbGF0aW9uKClcblxuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlKHNlbGVjdGVkRm9ybURhdGEgfHwge30pXG4gIGNvbnN0IFtzaGFyZU1vZGVsVmlzaWJsZSwgc2V0U2hhcmVNb2RlbFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWFwcERhdGEpIHtcbiAgICAgIGNvbnN0IHVybCA9IGBub2NvZGUvdjIvbm9jb2RlX3N5cy9hcHAvJHthcHBJZH1gXG4gICAgICBnZXRXaXRoUHJpb3JpdHkoZ2V0U3RvcmVEYXRhKHVybCwgJycpLCBnZXRBcHBJbmZvQnlJZChhcHBJZCkudGhlbigoaW5mbzogYW55KSA9PiB7XG4gICAgICAgIHNldFN0b3JlRGF0YSh1cmwsICcnLCBpbmZvKVxuICAgICAgICByZXR1cm4gaW5mb1xuICAgICAgfSksIHJlcyA9PiB7XG4gICAgICAgIGNvbnN0IGluZm8gPSByZXM/LnJvd3M/LlswXVxuICAgICAgICBpbmZvICYmIGRpc3BhdGNoKHsgdHlwZTogVVBEQVRFX0FQUF9JTkZPX0JZX0lELCBwYXlsb2FkOiB7IGlkOiBhcHBJZCwgdmFsdWU6IGluZm8gfSB9KVxuICAgICAgfSlcbiAgICB9XG4gIH0sIFthcHBEYXRhLCBhcHBJZF0pXG5cbiAgY29uc3Qgc2hhcmVUaXRsZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIOWQjuerr+mZkOWItumVv+W6pjUw77yM5YmN56uv5Lmf57uf5LiAXG4gICAgcmV0dXJuIGAke2Zvcm1EYXRhLm5hbWU/LnNsaWNlKDAsIDUwIC0gbW9kYWxUaXRsZS5sZW5ndGgpfSR7bW9kYWxUaXRsZX1gXG4gIH0sIFtmb3JtRGF0YSwgbW9kYWxUaXRsZSwgU3RhdHVzXSlcblxuICAvKipcbiAgICog54K55Ye75YiG5LqrXG4gICAqL1xuICBjb25zdCBoYW5kbGVDbGlja1NoYXJlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChvbkNsaWNrKSByZXR1cm4gb25DbGljaygpXG5cbiAgICAvLyDojrflj5booajljZXkv6Hmga9cbiAgICBnZXRGb3JtRGF0YSh7IGFwcElkLCB0YXJnZXRGb3JtSWQgfSkudGhlbihyZXMgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IHJlcz8ucm93cz8uWzBdIHx8IHsgfVxuICAgICAgc2V0Rm9ybURhdGEoZGF0YSlcbiAgICAgIHNldFNoYXJlTW9kZWxWaXNpYmxlKHRydWUpXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2dldEZvcm1EYXRhIOWHuumUmeS6hicsIGVycilcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIOWPlua2iOWIhuS6q+W8ueeql1xuICAgKi9cbiAgY29uc3QgY2FuY2VsU2hhcmVNb2RlbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTaGFyZU1vZGVsVmlzaWJsZShmYWxzZSlcbiAgfSwgW10pXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEJ1dHRvbiBzaXplPXtzaXplfSB0eXBlPSd0ZXh0JyBkYXRhLW5jLWFjdGlvbj17YCR7YXBwSWR9fCR7dGFyZ2V0Rm9ybUlkfXx0Yl9zaGFyZWB9IG9uQ2xpY2s9e2hhbmRsZUNsaWNrU2hhcmV9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSB0ZXh0PXt0cmFuc2xhdGUoJ2FwcHMuc2hhcmUnKX0gaWNvbj17eyBwcmVmaXg6ICdub2NvZGVwbGF0Zm9ybWljb24nLCB0eXBlOiBpY29uVHlwZSB9fSAvPlxuICAgICAge1xuICAgICAgICBzaGFyZU1vZGVsVmlzaWJsZSAmJlxuICAgICAgICAgIDxTaGFyZU1vZGFsXG4gICAgICAgICAgICB2aXNpYmxlPXtzaGFyZU1vZGVsVmlzaWJsZX1cbiAgICAgICAgICAgIHRpdGxlPSfliIbkuqsnXG4gICAgICAgICAgICBvbkNhbmNlbD17Y2FuY2VsU2hhcmVNb2RlbH1cbiAgICAgICAgICAgIG9uT2s9e2NhbmNlbFNoYXJlTW9kZWx9XG4gICAgICAgICAgICBzaGFyZVRpdGxlPXtzaGFyZVRpdGxlfVxuICAgICAgICAgICAgbmVlZExvZ2luTGluaz17c2hhcmVMaW5rfVxuICAgICAgICAgICAgc2hhcmVCeVBlb3BsZT17dXNlckluZm8/Lm5hbWV9XG4gICAgICAgICAgICBzaGFyZUFwcEltYWdlPXthcHBEYXRhPy5pbWFnZX1cbiAgICAgICAgICAgIGZvcm1pZD17cGtJZCB8fCBmb3JtRGF0YS5mb3JtSWR9XG4gICAgICAgICAgICBmaWxlU2VydmVyPXtmaWxlU2VydmVyfVxuICAgICAgICAgICAgYWxsb3dOb0F1dGg9e2FsbG93Tm9BdXRofVxuICAgICAgICAgICAgZm9ybURhdGE9e2Zvcm1EYXRhfVxuICAgICAgICAgICAgY29uZmlnPXtjb25maWd9XG4gICAgICAgICAgICBzaGFyZVJlcWlyZUxvZ2luPXtzaGFyZVJlcWlyZUxvZ2lufVxuICAgICAgICAgICAgc2hhcmVOb3RSZXFpcmVMb2dpbj17c2hhcmVOb3RSZXFpcmVMb2dpbn1cbiAgICAgICAgICAvPlxuICAgICAgfVxuICAgIDwvPlxuICApXG59KVxuXG5TaGFyZUJ1dHRvbi5kaXNwbGF5TmFtZSA9ICdTaGFyZUJ1dHRvbidcblxuZXhwb3J0IGRlZmF1bHQgU2hhcmVCdXR0b25cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/component/common/ShareButton.tsx\n");

/***/ }),

/***/ "./src/web/layout/apps/DetailHeaderLayout.tsx":
/*!****************************************************!*\
  !*** ./src/web/layout/apps/DetailHeaderLayout.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _reactRouterDom = __webpack_require__(/*! react-router-dom */ \"../../node_modules/react-router-dom/index.js\");\nvar _HeaderLayout = __webpack_require__(/*! ./HeaderLayout */ \"./src/web/layout/apps/HeaderLayout.tsx\");\nvar _DetailHeaderLayout = _interopRequireDefault(__webpack_require__(/*! ./DetailHeaderLayout.less */ \"./src/web/layout/apps/DetailHeaderLayout.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nvar DetailHeader = (0, _react.memo)(function () {\n  var _useParams = (0, _reactRouterDom.useParams)(),\n    origin = _useParams.origin;\n  // 从苍穹打开，不显示标题\n  return origin === 'cosmic' ? /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _DetailHeaderLayout.default.app_container\n  }, /*#__PURE__*/_react.default.createElement(_reactRouterDom.Outlet, null)) : /*#__PURE__*/_react.default.createElement(_HeaderLayout.DetailHeaderLayout, null);\n});\nvar _default = exports[\"default\"] = DetailHeader;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2xheW91dC9hcHBzL0RldGFpbEhlYWRlckxheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi9zcmMvd2ViL2xheW91dC9hcHBzL0RldGFpbEhlYWRlckxheW91dC50c3g/MGM2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgbWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlUGFyYW1zLCBPdXRsZXQgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IHsgRGV0YWlsSGVhZGVyTGF5b3V0IH0gZnJvbSAnLi9IZWFkZXJMYXlvdXQnXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vRGV0YWlsSGVhZGVyTGF5b3V0Lmxlc3MnXG5cbmNvbnN0IERldGFpbEhlYWRlciA9IG1lbW8oKCkgPT4ge1xuICBjb25zdCB7IG9yaWdpbiB9ID0gdXNlUGFyYW1zKClcbiAgLy8g5LuO6IuN56m55omT5byA77yM5LiN5pi+56S65qCH6aKYXG4gIHJldHVybiBvcmlnaW4gPT09ICdjb3NtaWMnID8gPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5hcHBfY29udGFpbmVyfT48T3V0bGV0IC8+PC9kaXY+IDogPERldGFpbEhlYWRlckxheW91dCAvPlxufSlcblxuZXhwb3J0IGRlZmF1bHQgRGV0YWlsSGVhZGVyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/layout/apps/DetailHeaderLayout.tsx\n");

/***/ }),

/***/ "./src/web/pages/apps/detail/AppDetailPage.tsx":
/*!*****************************************************!*\
  !*** ./src/web/pages/apps/detail/AppDetailPage.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/regenerator */ \"../../node_modules/@babel/runtime-corejs3/regenerator/index.js\"));\nvar _find = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js\"));\nvar _setTimeout2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/set-timeout.js\"));\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ \"../../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js\"));\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime-corejs3/helpers/asyncToGenerator.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _reactRouterDom = __webpack_require__(/*! react-router-dom */ \"../../node_modules/react-router-dom/index.js\");\nvar _utils = __webpack_require__(/*! @/utils */ \"./src/utils/index.tsx\");\nvar _AppDetailPage = _interopRequireDefault(__webpack_require__(/*! ./AppDetailPage.less */ \"./src/web/pages/apps/detail/AppDetailPage.less\"));\nvar _apps = __webpack_require__(/*! @/actions/apps */ \"./src/actions/apps.ts\");\nvar _useAppContext2 = _interopRequireDefault(__webpack_require__(/*! @/hooks/useAppContext */ \"./src/hooks/useAppContext.js\"));\nvar _FlowListLayout = _interopRequireDefault(__webpack_require__(/*! @/web/layout/apps/FlowListLayout */ \"./src/web/layout/apps/FlowListLayout.tsx\"));\nvar _useFormBackground = _interopRequireDefault(__webpack_require__(/*! @/hooks/useFormBackground */ \"./src/hooks/useFormBackground.ts\"));\nvar _NocodeEntry = _interopRequireDefault(__webpack_require__(/*! @/web/component/common/NocodeEntry */ \"./src/web/component/common/NocodeEntry.tsx\"));\nvar _FormDetailFooterLayout = _interopRequireDefault(__webpack_require__(/*! @/web/layout/apps/FormDetailFooterLayout */ \"./src/web/layout/apps/FormDetailFooterLayout.tsx\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _eventEmit = _interopRequireDefault(__webpack_require__(/*! @/utils/eventEmit */ \"./src/utils/eventEmit.js\"));\nvar _constants = __webpack_require__(/*! @/constants */ \"./src/constants/index.ts\");\nvar _auth = __webpack_require__(/*! @/actions/auth */ \"./src/actions/auth.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-08-29 15:48:49\n * @LastEditTime: 2023-06-25 17:02:58\n * @Last Modified by: jianhang_he\n */\n\n// import { BtnField as Button, Checkbox } from 'nocode_component/WebUI'\n// import FormWrapper from '@/web/component/common/FormWrapper'\n\n// import classNames from 'classnames'\n\n// import { AuthorizeContext } from '@/web/component/common/FormDataListAuthProvider'\n// import { closeWindow } from '@/utils/closeWindow'\n\n// import { closeWindow } from '@/utils/closeWindow'\n// import { Skeleton } from 'nocode_component/WebUI'\n// import { PopBillSkeleton } from '@/web/component/skeleton/PopBillSkeleton'\n\n/**\n * 表单详情\n * config status = 'edit'|'view'\n */\n// const NocodeEntry = lazy(() => import('bos_platform/NocodeEntry'))\n// const NocodeEntry = lazy(() => import('bos_core/Main'))\n// const PAGE_STATUS = ['addNew', 'edit', 'view']\n\nvar isAddStatus = function isAddStatus(status) {\n  return status === 'addNew';\n};\nvar isEditStatus = function isEditStatus(status) {\n  return status === 'edit';\n};\nvar isViewStatus = function isViewStatus(status) {\n  return status === 'view';\n};\nvar AppDetailPage = function AppDetailPage(props) {\n  var _state$rootConfig;\n  // Status去掉默认值addNew，以后端发回的状态为准\n  var _useParams = (0, _reactRouterDom.useParams)(),\n    appId = _useParams.appId,\n    targetFormId = _useParams.targetFormId,\n    pkId = _useParams.pkId,\n    Status = _useParams.Status,\n    shareId = _useParams.shareId,\n    taskId = _useParams.taskId,\n    procInstId = _useParams.procInstId,\n    origin = _useParams.origin,\n    userTaskActivityId = _useParams.userTaskActivityId,\n    userTaskBusinessKey = _useParams.userTaskBusinessKey,\n    userTaskCurrentUserId = _useParams.userTaskCurrentUserId;\n  var _useAppContext = (0, _useAppContext2.default)(),\n    state = _useAppContext.state,\n    sendUiData = _useAppContext.sendUiData;\n  var userInfo = state.userInfo,\n    rootConfig = state.rootConfig;\n  var _useState = (0, _react.useState)(Status),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    status = _useState2[0],\n    setStatus = _useState2[1];\n  var _useState3 = (0, _react.useState)(pkId || ''),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    curPkId = _useState4[0],\n    setCurPkId = _useState4[1];\n  var _useState5 = (0, _react.useState)([]),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    approvalData = _useState6[0],\n    setApprovalData = _useState6[1]; // 审批列表\n  // const [isNew, setIsNew] = useState(!pkId)\n  // const [isEdit, setIsEdit] = useState(isEditStatus(status))\n  // 当前节点，录入节点时录入表单与触发表单不一样，致使背景出现断层问题\n  var formId = (0, _react.useMemo)(function () {\n    if (userTaskActivityId && userTaskBusinessKey && userTaskCurrentUserId) {\n      var _proc$approvalInfo;\n      // 如果是录入节点\n      var proc = (0, _find.default)(approvalData).call(approvalData, function (item) {\n        return item.procInstId === procInstId;\n      });\n      var node = proc === null || proc === void 0 || (_proc$approvalInfo = proc.approvalInfo) === null || _proc$approvalInfo === void 0 ? void 0 : (0, _find.default)(_proc$approvalInfo).call(_proc$approvalInfo, function (item) {\n        return item.taskId === taskId;\n      });\n      return node === null || node === void 0 ? void 0 : node.nodeEntityNumber;\n    } else {\n      return targetFormId;\n    }\n  }, [approvalData, procInstId, taskId, targetFormId, userTaskActivityId, userTaskBusinessKey, userTaskCurrentUserId]);\n  var bgc = (0, _useFormBackground.default)(formId);\n  var _useState7 = (0, _react.useState)(null),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    bosApi = _useState8[0],\n    setBosApi = _useState8[1];\n  // const checkboxRef = useRef<any>(null)\n  var _useState9 = (0, _react.useState)(false),\n    _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n    authPending = _useState10[0],\n    setAuthPending = _useState10[1];\n  var _useState11 = (0, _react.useState)(false),\n    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n    loadApprova = _useState12[0],\n    setLoadApprova = _useState12[1];\n  var pageId = (0, _utils.getQueryString)('pageId') || '';\n  var _useState13 = (0, _react.useState)(false),\n    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n    formLock = _useState14[0],\n    setFormLock = _useState14[1];\n  var _useState15 = (0, _react.useState)({}),\n    _useState16 = (0, _slicedToArray2.default)(_useState15, 2),\n    formAuth = _useState16[0],\n    setFormAuth = _useState16[1];\n  var _formAuth$add = formAuth.add,\n    inputAuth = _formAuth$add === void 0 ? true : _formAuth$add,\n    _formAuth$edit = formAuth.edit,\n    editAuth = _formAuth$edit === void 0 ? true : _formAuth$edit,\n    _formAuth$view = formAuth.view,\n    viewAuth = _formAuth$view === void 0 ? true : _formAuth$view,\n    _formAuth$delete = formAuth.delete,\n    deleteAuth = _formAuth$delete === void 0 ? true : _formAuth$delete,\n    _formAuth$add_fixed = formAuth.add_fixed,\n    inputAuthFixed = _formAuth$add_fixed === void 0 ? false : _formAuth$add_fixed;\n  // 是否显示流程列表\n  var showFlowList = approvalData.length > 0;\n  console.log('AppDetailPage', formLock);\n  (0, _react.useEffect)(function () {\n    _eventEmit.default.emit(_constants.UPDATE_STATUS, status);\n  }, [status]);\n  (0, _react.useEffect)(function () {\n    _eventEmit.default.emit(_constants.UPDATE_PKID, curPkId);\n  }, [curPkId]);\n\n  // 获取表单记录的权限\n  var getFormAuthFn = (0, _react.useCallback)( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n    var _yield$getFormAuth, _yield$getFormAuth$ro, rows, message;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return (0, _auth.getFormAuth)(appId, targetFormId, curPkId, procInstId, userTaskActivityId, userTaskBusinessKey, userTaskCurrentUserId);\n        case 3:\n          _yield$getFormAuth = _context.sent;\n          _yield$getFormAuth$ro = _yield$getFormAuth.rows;\n          rows = _yield$getFormAuth$ro === void 0 ? [] : _yield$getFormAuth$ro;\n          setFormAuth(rows[0] || []);\n          setAuthPending(true);\n          _context.next = 15;\n          break;\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(_context.t0);\n          message = _context.t0.message;\n          (0, _utils.showNotice)('error', message);\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 10]]);\n  })), [appId, targetFormId, curPkId, procInstId, userTaskActivityId, userTaskBusinessKey, userTaskCurrentUserId]);\n  (0, _react.useEffect)(function () {\n    getFormAuthFn();\n  }, [getFormAuthFn]);\n  var noPermission = (0, _react.useMemo)(function () {\n    if (authPending && bosApi && userInfo) {\n      if (!inputAuth && isAddStatus(status)) return true;\n      // 查看和编辑的，如果有流程记录，直接绕过权限体系，认为是有权限的\n      if (!viewAuth && isViewStatus(status) && !showFlowList && loadApprova) return true;\n      if (!editAuth && isEditStatus(status) && !showFlowList && loadApprova) return true;\n      return false;\n    }\n    return false;\n  }, [authPending, bosApi, userInfo, formAuth, showFlowList, loadApprova]);\n\n  /**\n   * 请求审批列表\n   * @param pkId\n   */\n  var fetchFlowList = (0, _react.useCallback)(function () {\n    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    setLoadApprova(false);\n    (0, _apps.getApprovalInfo)({\n      entityNumber: targetFormId,\n      businessKey: id || pkId\n    }).then(function (res) {\n      setApprovalData((res === null || res === void 0 ? void 0 : res.rows) || []);\n      setLoadApprova(true);\n    });\n  }, [targetFormId, pkId]);\n  (0, _react.useEffect)(function () {\n    if (targetFormId && pkId && !shareId) {\n      fetchFlowList();\n    }\n  }, [targetFormId, pkId, shareId, fetchFlowList]);\n\n  // BOS 动态表单配置信息，仅更新一次，之后通过函数控制表单\n  var bosConfig = (0, _react.useMemo)(function () {\n    var initStatus = Status || 'addNew';\n    var options = {\n      formId: 'bos_nocode_bill',\n      targetFormId: targetFormId,\n      Status: initStatus,\n      pkId: pkId,\n      procInstId: procInstId,\n      appId: appId\n    };\n    if (userTaskActivityId && userTaskBusinessKey && userTaskCurrentUserId) {\n      options.userTaskActivityId = userTaskActivityId;\n      options.userTaskBusinessKey = userTaskBusinessKey;\n      options.userTaskCurrentUserId = userTaskCurrentUserId;\n    }\n    if (taskId) {\n      options.taskId = taskId;\n    }\n    return options;\n  }, []);\n\n  // 提交审批意见之后，如果可以关闭窗口则关闭，否则刷新审批记录列表\n  var handleSubmit = (0, _react.useCallback)(function () {\n    var _window$top;\n    if (origin === 'cosmic') {\n      (0, _setTimeout2.default)(function () {\n        window.parent.postMessage({\n          pageId: pageId,\n          type: 'invokeCustomEvent',\n          content: {\n            CloseWindow: 'true'\n          }\n        }, '*');\n      }, 2000);\n      return false;\n    } else if (!((_window$top = window.top) !== null && _window$top !== void 0 && _window$top.close())) {\n      fetchFlowList();\n    }\n  }, []);\n\n  // BOS挂载上后, 获取表单状态\n  var onRef = (0, _react.useCallback)(function (handle) {\n    if (handle) {\n      setBosApi(handle);\n      var _status = handle === null || handle === void 0 ? void 0 : handle.getPageStatus();\n      console.log('onRef', _status);\n      _status && setStatus(_status);\n    }\n  }, []);\n\n  // 保存的回调函数\n  // actions: 低代码平台返回的指令\n  // addAndNew：是否为新增\n  var saveCallback = (0, _react.useCallback)(function (actions, addAndNew, pageId) {\n    var _actions$setPkId;\n    var id = actions === null || actions === void 0 || (_actions$setPkId = actions.setPkId) === null || _actions$setPkId === void 0 ? void 0 : _actions$setPkId[0];\n    // 流程的录入节点\n    if (userTaskActivityId && userTaskBusinessKey) {\n      handleSubmit();\n      return false;\n    }\n    if (id && !addAndNew) {\n      // 提交/保存时,后端用setPkId指令返回pkId\n      setCurPkId(id);\n      fetchFlowList(id);\n      // bosApi?.setPageStatus('view')\n      if (!(actions !== null && actions !== void 0 && actions.setFormStatus)) {\n        bosApi === null || bosApi === void 0 || bosApi.setFormStatus('view', pageId);\n        setStatus('view');\n      }\n    }\n    if (id && curPkId && id !== curPkId) {\n      var _status2 = addAndNew ? 'edit' : 'view';\n      var path = [appId, 'detail', targetFormId, id, _status2].join('/');\n      window.location.href = (0, _utils.getFullPathName)(path);\n    }\n  }, [setCurPkId, fetchFlowList, setStatus, bosApi, curPkId]);\n\n  // 表单状态变化的回调函数\n  var onStatusChange = (0, _react.useCallback)(function (info) {\n    setStatus(info);\n  }, []);\n\n  // 加载成功BOS，添加unload监听指令，释放表单\n  (0, _react.useEffect)(function () {\n    if (bosApi) (0, _utils.addUnloadListener)(bosApi);\n  }, [bosApi]);\n  if (!(state !== null && state !== void 0 && (_state$rootConfig = state.rootConfig) !== null && _state$rootConfig !== void 0 && _state$rootConfig.pageId)) return null;\n  if (noPermission) return /*#__PURE__*/_react.default.createElement(_reactRouterDom.Navigate, {\n    to: \"/noPermission\",\n    replace: true\n  });\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AppDetailPage.default.app_form_detail,\n    style: {\n      background: bgc\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: (0, _classnames.default)(_AppDetailPage.default.box, (0, _defineProperty2.default)({}, _AppDetailPage.default.has_flow, showFlowList))\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AppDetailPage.default.main\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AppDetailPage.default.bill\n  }, /*#__PURE__*/_react.default.createElement(_NocodeEntry.default, {\n    onRef: onRef,\n    config: bosConfig,\n    options: {\n      onStatusChange: onStatusChange,\n      sendUiData: sendUiData,\n      rootConfig: rootConfig\n    }\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _AppDetailPage.default.flow\n  }, showFlowList && /*#__PURE__*/_react.default.createElement(_FlowListLayout.default, {\n    taskId: taskId,\n    data: approvalData,\n    setFormLock: setFormLock,\n    config: bosConfig,\n    onSubmit: handleSubmit,\n    bosApi: bosApi\n  })))), /*#__PURE__*/_react.default.createElement(_FormDetailFooterLayout.default, {\n    status: status,\n    bosApi: bosApi,\n    authList: {\n      deleteAuth: deleteAuth,\n      inputAuth: inputAuth,\n      editAuth: editAuth,\n      viewAuth: viewAuth\n    },\n    config: bosConfig,\n    isSharePage: !userInfo,\n    inputAuthFixed: inputAuthFixed,\n    formLock: formLock,\n    origin: origin,\n    newPkId: curPkId,\n    setStatus: setStatus,\n    copyCallback: function copyCallback() {\n      return setApprovalData([]);\n    },\n    delCallback: handleSubmit,\n    saveCallback: saveCallback\n  }));\n};\nvar _default = exports[\"default\"] = AppDetailPage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL3BhZ2VzL2FwcHMvZGV0YWlsL0FwcERldGFpbFBhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUE1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBS0E7QUFDQTs7QUFHQTs7QUFHQTtBQUNBOztBQU1BO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1wbGF0Zm9ybS8uL3NyYy93ZWIvcGFnZXMvYXBwcy9kZXRhaWwvQXBwRGV0YWlsUGFnZS50c3g/M2RhYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTA4LTI5IDE1OjQ4OjQ5XG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTA2LTI1IDE3OjAyOjU4XG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSwgdXNlTWVtbywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VQYXJhbXMsIE5hdmlnYXRlIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcbmltcG9ydCB7IGFkZFVubG9hZExpc3RlbmVyLCBnZXRGdWxsUGF0aE5hbWUsIGdldFF1ZXJ5U3RyaW5nLCBzaG93Tm90aWNlIH0gZnJvbSAnQC91dGlscydcbmltcG9ydCBzdHlsZSBmcm9tICcuL0FwcERldGFpbFBhZ2UubGVzcydcbi8vIGltcG9ydCB7IEJ0bkZpZWxkIGFzIEJ1dHRvbiwgQ2hlY2tib3ggfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuLy8gaW1wb3J0IEZvcm1XcmFwcGVyIGZyb20gJ0Avd2ViL2NvbXBvbmVudC9jb21tb24vRm9ybVdyYXBwZXInXG5pbXBvcnQgeyBnZXRBcHByb3ZhbEluZm8gfSBmcm9tICdAL2FjdGlvbnMvYXBwcydcbmltcG9ydCB1c2VBcHBDb250ZXh0IGZyb20gJ0AvaG9va3MvdXNlQXBwQ29udGV4dCdcbi8vIGltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgRmxvd0xpc3RMYXlvdXQgZnJvbSAnQC93ZWIvbGF5b3V0L2FwcHMvRmxvd0xpc3RMYXlvdXQnXG5pbXBvcnQgdXNlRm9ybUJhY2tncm91bmQgZnJvbSAnQC9ob29rcy91c2VGb3JtQmFja2dyb3VuZCdcbi8vIGltcG9ydCB7IEF1dGhvcml6ZUNvbnRleHQgfSBmcm9tICdAL3dlYi9jb21wb25lbnQvY29tbW9uL0Zvcm1EYXRhTGlzdEF1dGhQcm92aWRlcidcbi8vIGltcG9ydCB7IGNsb3NlV2luZG93IH0gZnJvbSAnQC91dGlscy9jbG9zZVdpbmRvdydcbmltcG9ydCBOb2NvZGVFbnRyeSBmcm9tICdAL3dlYi9jb21wb25lbnQvY29tbW9uL05vY29kZUVudHJ5J1xuaW1wb3J0IEZvcm1EZXRhaWxGb290ZXJMYXlvdXQgZnJvbSAnQC93ZWIvbGF5b3V0L2FwcHMvRm9ybURldGFpbEZvb3RlckxheW91dCdcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgRXZlbnRFbWl0IGZyb20gJ0AvdXRpbHMvZXZlbnRFbWl0J1xuaW1wb3J0IHsgVVBEQVRFX1NUQVRVUywgVVBEQVRFX1BLSUQgfSBmcm9tICdAL2NvbnN0YW50cydcbi8vIGltcG9ydCB7IGNsb3NlV2luZG93IH0gZnJvbSAnQC91dGlscy9jbG9zZVdpbmRvdydcbi8vIGltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbi8vIGltcG9ydCB7IFBvcEJpbGxTa2VsZXRvbiB9IGZyb20gJ0Avd2ViL2NvbXBvbmVudC9za2VsZXRvbi9Qb3BCaWxsU2tlbGV0b24nXG5pbXBvcnQgeyBnZXRGb3JtQXV0aCB9IGZyb20gJ0AvYWN0aW9ucy9hdXRoJ1xuXG4vKipcbiAqIOihqOWNleivpuaDhVxuICogY29uZmlnIHN0YXR1cyA9ICdlZGl0J3wndmlldydcbiAqL1xuLy8gY29uc3QgTm9jb2RlRW50cnkgPSBsYXp5KCgpID0+IGltcG9ydCgnYm9zX3BsYXRmb3JtL05vY29kZUVudHJ5JykpXG4vLyBjb25zdCBOb2NvZGVFbnRyeSA9IGxhenkoKCkgPT4gaW1wb3J0KCdib3NfY29yZS9NYWluJykpXG4vLyBjb25zdCBQQUdFX1NUQVRVUyA9IFsnYWRkTmV3JywgJ2VkaXQnLCAndmlldyddXG5cbmNvbnN0IGlzQWRkU3RhdHVzID0gKHN0YXR1czogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBzdGF0dXMgPT09ICdhZGROZXcnXG59XG5cbmNvbnN0IGlzRWRpdFN0YXR1cyA9IChzdGF0dXM6IHN0cmluZykgPT4ge1xuICByZXR1cm4gc3RhdHVzID09PSAnZWRpdCdcbn1cblxuY29uc3QgaXNWaWV3U3RhdHVzID0gKHN0YXR1czogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBzdGF0dXMgPT09ICd2aWV3J1xufVxuXG5jb25zdCBBcHBEZXRhaWxQYWdlID0gKHByb3BzOmFueSkgPT4ge1xuICAvLyBTdGF0dXPljrvmjonpu5jorqTlgLxhZGROZXfvvIzku6XlkI7nq6/lj5Hlm57nmoTnirbmgIHkuLrlh4ZcbiAgY29uc3Qge1xuICAgIGFwcElkLCB0YXJnZXRGb3JtSWQsIHBrSWQsIFN0YXR1cywgc2hhcmVJZCwgdGFza0lkLFxuICAgIHByb2NJbnN0SWQsIG9yaWdpbiwgdXNlclRhc2tBY3Rpdml0eUlkLCB1c2VyVGFza0J1c2luZXNzS2V5LCB1c2VyVGFza0N1cnJlbnRVc2VySWRcbiAgfSA9IHVzZVBhcmFtcygpXG4gIGNvbnN0IHsgc3RhdGUsIHNlbmRVaURhdGEgfSA9IHVzZUFwcENvbnRleHQoKVxuICBjb25zdCB7IHVzZXJJbmZvLCByb290Q29uZmlnIH0gPSBzdGF0ZVxuICBjb25zdCBbc3RhdHVzLCBzZXRTdGF0dXNdID0gdXNlU3RhdGUoU3RhdHVzKVxuICBjb25zdCBbY3VyUGtJZCwgc2V0Q3VyUGtJZF0gPSB1c2VTdGF0ZShwa0lkIHx8ICcnKVxuICBjb25zdCBbYXBwcm92YWxEYXRhLCBzZXRBcHByb3ZhbERhdGFdID0gdXNlU3RhdGUoW10pIC8vIOWuoeaJueWIl+ihqFxuICAvLyBjb25zdCBbaXNOZXcsIHNldElzTmV3XSA9IHVzZVN0YXRlKCFwa0lkKVxuICAvLyBjb25zdCBbaXNFZGl0LCBzZXRJc0VkaXRdID0gdXNlU3RhdGUoaXNFZGl0U3RhdHVzKHN0YXR1cykpXG4gIC8vIOW9k+WJjeiKgueCue+8jOW9leWFpeiKgueCueaXtuW9leWFpeihqOWNleS4juinpuWPkeihqOWNleS4jeS4gOagt++8jOiHtOS9v+iDjOaZr+WHuueOsOaWreWxgumXrumimFxuICBjb25zdCBmb3JtSWQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodXNlclRhc2tBY3Rpdml0eUlkICYmIHVzZXJUYXNrQnVzaW5lc3NLZXkgJiYgdXNlclRhc2tDdXJyZW50VXNlcklkKSB7IC8vIOWmguaenOaYr+W9leWFpeiKgueCuVxuICAgICAgY29uc3QgcHJvYzphbnkgPSBhcHByb3ZhbERhdGEuZmluZCgoaXRlbTphbnkpID0+IGl0ZW0ucHJvY0luc3RJZCA9PT0gcHJvY0luc3RJZClcbiAgICAgIGNvbnN0IG5vZGUgPSBwcm9jPy5hcHByb3ZhbEluZm8/LmZpbmQoKGl0ZW06YW55KSA9PiBpdGVtLnRhc2tJZCA9PT0gdGFza0lkKVxuICAgICAgcmV0dXJuIG5vZGU/Lm5vZGVFbnRpdHlOdW1iZXJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRhcmdldEZvcm1JZFxuICAgIH1cbiAgfSwgW2FwcHJvdmFsRGF0YSwgcHJvY0luc3RJZCwgdGFza0lkLCB0YXJnZXRGb3JtSWQsIHVzZXJUYXNrQWN0aXZpdHlJZCwgdXNlclRhc2tCdXNpbmVzc0tleSwgdXNlclRhc2tDdXJyZW50VXNlcklkXSlcblxuICBjb25zdCBiZ2MgPSB1c2VGb3JtQmFja2dyb3VuZChmb3JtSWQpXG4gIGNvbnN0IFtib3NBcGksIHNldEJvc0FwaV0gPSB1c2VTdGF0ZTxhbnk+KG51bGwpXG4gIC8vIGNvbnN0IGNoZWNrYm94UmVmID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3QgW2F1dGhQZW5kaW5nLCBzZXRBdXRoUGVuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2xvYWRBcHByb3ZhLCBzZXRMb2FkQXBwcm92YV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgcGFnZUlkID0gZ2V0UXVlcnlTdHJpbmcoJ3BhZ2VJZCcpIHx8ICcnXG4gIGNvbnN0IFtmb3JtTG9jaywgc2V0Rm9ybUxvY2tdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtmb3JtQXV0aCwgc2V0Rm9ybUF1dGhdID0gdXNlU3RhdGU8YW55Pih7fSlcbiAgY29uc3QgeyBhZGQ6IGlucHV0QXV0aCA9IHRydWUsIGVkaXQ6IGVkaXRBdXRoID0gdHJ1ZSwgdmlldzogdmlld0F1dGggPSB0cnVlLCBkZWxldGU6IGRlbGV0ZUF1dGggPSB0cnVlLCBhZGRfZml4ZWQ6IGlucHV0QXV0aEZpeGVkID0gZmFsc2UgfSA9IGZvcm1BdXRoXG4gIC8vIOaYr+WQpuaYvuekuua1geeoi+WIl+ihqFxuICBjb25zdCBzaG93Rmxvd0xpc3QgPSBhcHByb3ZhbERhdGEubGVuZ3RoID4gMFxuXG4gIGNvbnNvbGUubG9nKCdBcHBEZXRhaWxQYWdlJywgZm9ybUxvY2spXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBFdmVudEVtaXQuZW1pdChVUERBVEVfU1RBVFVTLCBzdGF0dXMpXG4gIH0sIFtzdGF0dXNdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgRXZlbnRFbWl0LmVtaXQoVVBEQVRFX1BLSUQsIGN1clBrSWQpXG4gIH0sIFtjdXJQa0lkXSlcblxuICAvLyDojrflj5booajljZXorrDlvZXnmoTmnYPpmZBcbiAgY29uc3QgZ2V0Rm9ybUF1dGhGbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb3dzID0gW10gfSA9IGF3YWl0IGdldEZvcm1BdXRoKGFwcElkLCB0YXJnZXRGb3JtSWQsIGN1clBrSWQsIHByb2NJbnN0SWQsIHVzZXJUYXNrQWN0aXZpdHlJZCwgdXNlclRhc2tCdXNpbmVzc0tleSwgdXNlclRhc2tDdXJyZW50VXNlcklkKVxuICAgICAgc2V0Rm9ybUF1dGgocm93c1swXSB8fCBbXSlcbiAgICAgIHNldEF1dGhQZW5kaW5nKHRydWUpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gZVxuICAgICAgc2hvd05vdGljZSgnZXJyb3InLCBtZXNzYWdlKVxuICAgIH1cbiAgfSwgW2FwcElkLCB0YXJnZXRGb3JtSWQsIGN1clBrSWQsIHByb2NJbnN0SWQsIHVzZXJUYXNrQWN0aXZpdHlJZCwgdXNlclRhc2tCdXNpbmVzc0tleSwgdXNlclRhc2tDdXJyZW50VXNlcklkXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldEZvcm1BdXRoRm4oKVxuICB9LCBbZ2V0Rm9ybUF1dGhGbl0pXG5cbiAgY29uc3Qgbm9QZXJtaXNzaW9uID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGF1dGhQZW5kaW5nICYmIGJvc0FwaSAmJiB1c2VySW5mbykge1xuICAgICAgaWYgKCFpbnB1dEF1dGggJiYgaXNBZGRTdGF0dXMoc3RhdHVzKSkgcmV0dXJuIHRydWVcbiAgICAgIC8vIOafpeeci+WSjOe8lui+keeahO+8jOWmguaenOaciea1geeoi+iusOW9le+8jOebtOaOpee7lei/h+adg+mZkOS9k+ezu++8jOiupOS4uuaYr+acieadg+mZkOeahFxuICAgICAgaWYgKCF2aWV3QXV0aCAmJiBpc1ZpZXdTdGF0dXMoc3RhdHVzKSAmJiAhc2hvd0Zsb3dMaXN0ICYmIGxvYWRBcHByb3ZhKSByZXR1cm4gdHJ1ZVxuICAgICAgaWYgKCFlZGl0QXV0aCAmJiBpc0VkaXRTdGF0dXMoc3RhdHVzKSAmJiAhc2hvd0Zsb3dMaXN0ICYmIGxvYWRBcHByb3ZhKSByZXR1cm4gdHJ1ZVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9LCBbYXV0aFBlbmRpbmcsIGJvc0FwaSwgdXNlckluZm8sIGZvcm1BdXRoLCBzaG93Rmxvd0xpc3QsIGxvYWRBcHByb3ZhXSlcblxuICAvKipcbiAgICog6K+35rGC5a6h5om55YiX6KGoXG4gICAqIEBwYXJhbSBwa0lkXG4gICAqL1xuICBjb25zdCBmZXRjaEZsb3dMaXN0ID0gdXNlQ2FsbGJhY2soKGlkOnN0cmluZyA9ICcnKSA9PiB7XG4gICAgc2V0TG9hZEFwcHJvdmEoZmFsc2UpXG4gICAgZ2V0QXBwcm92YWxJbmZvKHsgZW50aXR5TnVtYmVyOiB0YXJnZXRGb3JtSWQsIGJ1c2luZXNzS2V5OiBpZCB8fCBwa0lkIH0pLnRoZW4oKHJlczphbnkpID0+IHtcbiAgICAgIHNldEFwcHJvdmFsRGF0YShyZXM/LnJvd3MgfHwgW10pXG4gICAgICBzZXRMb2FkQXBwcm92YSh0cnVlKVxuICAgIH0pXG4gIH0sIFt0YXJnZXRGb3JtSWQsIHBrSWRdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHRhcmdldEZvcm1JZCAmJiBwa0lkICYmICFzaGFyZUlkKSB7XG4gICAgICBmZXRjaEZsb3dMaXN0KClcbiAgICB9XG4gIH0sIFt0YXJnZXRGb3JtSWQsIHBrSWQsIHNoYXJlSWQsIGZldGNoRmxvd0xpc3RdKVxuXG4gIC8vIEJPUyDliqjmgIHooajljZXphY3nva7kv6Hmga/vvIzku4Xmm7TmlrDkuIDmrKHvvIzkuYvlkI7pgJrov4flh73mlbDmjqfliLbooajljZVcbiAgY29uc3QgYm9zQ29uZmlnID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgaW5pdFN0YXR1cyA9IFN0YXR1cyB8fCAnYWRkTmV3J1xuICAgIGNvbnN0IG9wdGlvbnM6YW55ID0geyBmb3JtSWQ6ICdib3Nfbm9jb2RlX2JpbGwnLCB0YXJnZXRGb3JtSWQsIFN0YXR1czogaW5pdFN0YXR1cywgcGtJZCwgcHJvY0luc3RJZCwgYXBwSWQgfVxuICAgIGlmICh1c2VyVGFza0FjdGl2aXR5SWQgJiYgdXNlclRhc2tCdXNpbmVzc0tleSAmJiB1c2VyVGFza0N1cnJlbnRVc2VySWQpIHtcbiAgICAgIG9wdGlvbnMudXNlclRhc2tBY3Rpdml0eUlkID0gdXNlclRhc2tBY3Rpdml0eUlkXG4gICAgICBvcHRpb25zLnVzZXJUYXNrQnVzaW5lc3NLZXkgPSB1c2VyVGFza0J1c2luZXNzS2V5XG4gICAgICBvcHRpb25zLnVzZXJUYXNrQ3VycmVudFVzZXJJZCA9IHVzZXJUYXNrQ3VycmVudFVzZXJJZFxuICAgIH1cbiAgICBpZiAodGFza0lkKSB7XG4gICAgICBvcHRpb25zLnRhc2tJZCA9IHRhc2tJZFxuICAgIH1cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9LCBbXSlcblxuICAvLyDmj5DkuqTlrqHmibnmhI/op4HkuYvlkI7vvIzlpoLmnpzlj6/ku6XlhbPpl63nqpflj6PliJnlhbPpl63vvIzlkKbliJnliLfmlrDlrqHmibnorrDlvZXliJfooahcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChvcmlnaW4gPT09ICdjb3NtaWMnKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSh7IHBhZ2VJZCwgdHlwZTogJ2ludm9rZUN1c3RvbUV2ZW50JywgY29udGVudDogeyBDbG9zZVdpbmRvdzogJ3RydWUnIH0gfSwgJyonKVxuICAgICAgfSwgMjAwMClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSBpZiAoIXdpbmRvdy50b3A/LmNsb3NlKCkpIHtcbiAgICAgIGZldGNoRmxvd0xpc3QoKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8gQk9T5oyC6L295LiK5ZCOLCDojrflj5booajljZXnirbmgIFcbiAgY29uc3Qgb25SZWYgPSB1c2VDYWxsYmFjaygoaGFuZGxlOmFueSkgPT4ge1xuICAgIGlmIChoYW5kbGUpIHtcbiAgICAgIHNldEJvc0FwaShoYW5kbGUpXG4gICAgICBjb25zdCBzdGF0dXMgPSBoYW5kbGU/LmdldFBhZ2VTdGF0dXMoKVxuICAgICAgY29uc29sZS5sb2coJ29uUmVmJywgc3RhdHVzKVxuICAgICAgc3RhdHVzICYmIHNldFN0YXR1cyhzdGF0dXMpXG4gICAgfVxuICB9LCBbXSlcblxuICAvLyDkv53lrZjnmoTlm57osIPlh73mlbBcbiAgLy8gYWN0aW9uczog5L2O5Luj56CB5bmz5Y+w6L+U5Zue55qE5oyH5LukXG4gIC8vIGFkZEFuZE5ld++8muaYr+WQpuS4uuaWsOWinlxuICBjb25zdCBzYXZlQ2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoYWN0aW9uczphbnksIGFkZEFuZE5ldzpib29sZWFuLCBwYWdlSWQ6c3RyaW5nKSA9PiB7XG4gICAgY29uc3QgaWQgPSBhY3Rpb25zPy5zZXRQa0lkPy5bMF1cbiAgICAvLyDmtYHnqIvnmoTlvZXlhaXoioLngrlcbiAgICBpZiAodXNlclRhc2tBY3Rpdml0eUlkICYmIHVzZXJUYXNrQnVzaW5lc3NLZXkpIHtcbiAgICAgIGhhbmRsZVN1Ym1pdCgpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKGlkICYmICFhZGRBbmROZXcpIHsgLy8g5o+Q5LqkL+S/neWtmOaXtizlkI7nq6/nlKhzZXRQa0lk5oyH5Luk6L+U5ZuecGtJZFxuICAgICAgc2V0Q3VyUGtJZChpZClcbiAgICAgIGZldGNoRmxvd0xpc3QoaWQpXG4gICAgICAvLyBib3NBcGk/LnNldFBhZ2VTdGF0dXMoJ3ZpZXcnKVxuICAgICAgaWYgKCFhY3Rpb25zPy5zZXRGb3JtU3RhdHVzKSB7XG4gICAgICAgIGJvc0FwaT8uc2V0Rm9ybVN0YXR1cygndmlldycsIHBhZ2VJZClcbiAgICAgICAgc2V0U3RhdHVzKCd2aWV3JylcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlkICYmIGN1clBrSWQgJiYgaWQgIT09IGN1clBrSWQpIHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGFkZEFuZE5ldyA/ICdlZGl0JyA6ICd2aWV3J1xuICAgICAgY29uc3QgcGF0aCA9IFthcHBJZCwgJ2RldGFpbCcsIHRhcmdldEZvcm1JZCwgaWQsIHN0YXR1c10uam9pbignLycpXG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGdldEZ1bGxQYXRoTmFtZShwYXRoKVxuICAgIH1cbiAgfSwgW3NldEN1clBrSWQsIGZldGNoRmxvd0xpc3QsIHNldFN0YXR1cywgYm9zQXBpLCBjdXJQa0lkXSlcblxuICAvLyDooajljZXnirbmgIHlj5jljJbnmoTlm57osIPlh73mlbBcbiAgY29uc3Qgb25TdGF0dXNDaGFuZ2UgPSB1c2VDYWxsYmFjaygoaW5mbzphbnkpID0+IHtcbiAgICBzZXRTdGF0dXMoaW5mbylcbiAgfSwgW10pXG5cbiAgLy8g5Yqg6L295oiQ5YqfQk9T77yM5re75YqgdW5sb2Fk55uR5ZCs5oyH5Luk77yM6YeK5pS+6KGo5Y2VXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJvc0FwaSkgYWRkVW5sb2FkTGlzdGVuZXIoYm9zQXBpKVxuICB9LCBbYm9zQXBpXSlcblxuICBpZiAoIXN0YXRlPy5yb290Q29uZmlnPy5wYWdlSWQpIHJldHVybiBudWxsXG4gIGlmIChub1Blcm1pc3Npb24pIHJldHVybiA8TmF2aWdhdGUgdG89Jy9ub1Blcm1pc3Npb24nIHJlcGxhY2UgLz5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGUuYXBwX2Zvcm1fZGV0YWlsfSBzdHlsZT17eyBiYWNrZ3JvdW5kOiBiZ2MgfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhzdHlsZS5ib3gsIHsgW3N0eWxlLmhhc19mbG93XTogc2hvd0Zsb3dMaXN0IH0pfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlLm1haW59PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZS5iaWxsfT5cbiAgICAgICAgICAgIHsvKiA8U3VzcGVuc2UgZmFsbGJhY2s9ezxkaXY+PFNrZWxldG9uIG9wdGlvbnM9e1BvcEJpbGxTa2VsZXRvbn0gLz48L2Rpdj59PiAqL31cbiAgICAgICAgICAgIDxOb2NvZGVFbnRyeVxuICAgICAgICAgICAgICBvblJlZj17b25SZWZ9XG4gICAgICAgICAgICAgIGNvbmZpZz17Ym9zQ29uZmlnfVxuICAgICAgICAgICAgICBvcHRpb25zPXt7IG9uU3RhdHVzQ2hhbmdlLCBzZW5kVWlEYXRhLCByb290Q29uZmlnIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgey8qIDwvU3VzcGVuc2U+ICovfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZS5mbG93fT5cbiAgICAgICAgICAgIHtzaG93Rmxvd0xpc3QgJiYgPEZsb3dMaXN0TGF5b3V0IHRhc2tJZD17dGFza0lkfSBkYXRhPXthcHByb3ZhbERhdGF9IHNldEZvcm1Mb2NrPXtzZXRGb3JtTG9ja30gY29uZmlnPXtib3NDb25maWd9IG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGJvc0FwaT17Ym9zQXBpfSAvPn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxGb3JtRGV0YWlsRm9vdGVyTGF5b3V0XG4gICAgICAgIHN0YXR1cz17c3RhdHVzfVxuICAgICAgICBib3NBcGk9e2Jvc0FwaX1cbiAgICAgICAgYXV0aExpc3Q9e3sgZGVsZXRlQXV0aCwgaW5wdXRBdXRoLCBlZGl0QXV0aCwgdmlld0F1dGggfX1cbiAgICAgICAgY29uZmlnPXtib3NDb25maWd9XG4gICAgICAgIGlzU2hhcmVQYWdlPXshdXNlckluZm99XG4gICAgICAgIGlucHV0QXV0aEZpeGVkPXtpbnB1dEF1dGhGaXhlZH1cbiAgICAgICAgZm9ybUxvY2s9e2Zvcm1Mb2NrfVxuICAgICAgICBvcmlnaW49e29yaWdpbn1cbiAgICAgICAgbmV3UGtJZD17Y3VyUGtJZH1cbiAgICAgICAgc2V0U3RhdHVzPXtzZXRTdGF0dXN9XG4gICAgICAgIGNvcHlDYWxsYmFjaz17KCkgPT4gc2V0QXBwcm92YWxEYXRhKFtdKX1cbiAgICAgICAgZGVsQ2FsbGJhY2s9e2hhbmRsZVN1Ym1pdH1cbiAgICAgICAgc2F2ZUNhbGxiYWNrPXtzYXZlQ2FsbGJhY2t9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcERldGFpbFBhZ2VcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/pages/apps/detail/AppDetailPage.tsx\n");

/***/ })

}]);