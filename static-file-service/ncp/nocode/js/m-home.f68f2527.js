"use strict";(self.webpackChunknocode_platform=self.webpackChunknocode_platform||[]).push([[784],{9216:function(e,t,n){n.r(t),t.default={trigger:"zg2e5hY9_trigger",name:"ae-Qy+vg_name",trigger_active:"_4do+9Hzv_trigger_active",panel_active:"TCMeg6MK_panel_active",option_list:"g34ytu52_option_list",option_item:"s1HBFRAp_option_item",label:"rW5AMd2j_label",filter_dropdown:"-PBI0pwU_filter_dropdown"}},77512:function(e,t,n){n.r(t),t.default={container:"jmLDvDVW_container",box:"_3Paf68q3_box",nav:"iyQ2-gmw_nav",curr:"NT00zcZe_curr"}},29412:function(e,t,n){n.r(t),t.default={all_app:"+sWGoKpl_all_app",header:"_6fXIZcxv_header",filter:"FFTs9lS1_filter",searcher:"bTklp+kx_searcher",search_box:"STYU6-fr_search_box",apps:"r11t8GNM_apps",app_item:"-ac7j0nM_app_item",app_item_image_wrapper:"UKMrk5J+_app_item_image_wrapper",app_item_info_top:"Cyly7j16_app_item_info_top",collected:"_74c0EITT_collected",app_item_detail:"fq13J4Zi_app_item_detail",app_item_info:"Ncm6kM0H_app_item_info",app_item_name:"_7u4rE2n9_app_item_name",app_item_desc:"RjSt-XQv_app_item_desc",app_item_icon:"y-oHGg0h_app_item_icon",no_data:"OBxTCYiv_no_data",no_data_text:"ZkmIWY6n_no_data_text"}},53422:function(e,t,n){n.r(t),t.default={container:"EQIZcTdp_container",one_line:"i7+Gnb6C_one_line",info:"esDDecAN_info",name:"UJs2ZXb0_name",phone:"rLTyzz6G_phone",origin:"AnUf-H9e_origin",company:"meFte-KS_company",btn:"_4YHq5p-D_btn",list:"XgXnZPcx_list",item:"ldZcgk21_item",quite:"IpmpBkxv_quite"}},71120:function(e,t,n){n(25028)(t,"__esModule",{value:!0}),t.ENV_APP=t.ENV_ADMIN=void 0;t.ENV_ADMIN="0",t.ENV_APP="1"},59088:function(e,t,n){var a=n(13568),r=n(93252),l=n(25028),u=n(4884),o=n(9564);l(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(38456)),c=o(n(23992)),f=o(n(26048)),d=o(n(96631)),s=o(n(78912)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=l&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?l(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(65984)),m=n(18656),_=o(n(71252)),v=o(n(9216));function g(e){if("function"!=typeof r)return null;var t=new r,n=new r;return(g=function(e){return e?n:t})(e)}t.default=function(e){var t,n=e.value,a=e.options,r=e.triggerClassName,l=e.onChange,u=(0,p.useState)(!1),o=(0,s.default)(u,2),g=o[0],h=o[1],y=(null===(t=(0,i.default)(a).call(a,(function(e){return e.value===n})))||void 0===t?void 0:t.label)||"-",E=(0,p.useCallback)((function(e){n!==e&&(null==l||l(e)),h(!1)}),[n,l,h]),b=(0,p.useMemo)((function(){return p.default.createElement("div",{className:(0,_.default)([v.default.trigger,(0,d.default)((0,d.default)((0,d.default)({},"".concat(r),!!r),v.default.panel_active,g),v.default.trigger_active,!!n)]),onClick:function(){return h(!g)}},p.default.createElement("span",{className:v.default.name},y),p.default.createElement(m.Icon,{prefix:"ncicon",type:"fenzuzhedie"}))}),[r,y,g,n]),w=(0,p.useMemo)((function(){return p.default.createElement("ul",{className:v.default.option_list},(0,c.default)(a).call(a,(function(e){var t=e.label,a=e.value,r=e.action,l=r?{"data-nc-action":r}:{};return p.default.createElement("li",(0,f.default)({className:v.default.option_item,key:a,onClick:function(){return E(a)}},l),p.default.createElement("div",{className:v.default.label},t),n===a&&p.default.createElement(m.Icon,{prefix:"ncicon",type:"danxuan"}))})))}),[a,n,E]);return p.default.createElement(m.Dropdown,{visible:g,triggerNode:b,onMaskClick:function(){return h(!1)}},w)}},19492:function(e,t,n){var a=n(13568),r=n(93252),l=n(25028),u=n(4884),o=n(9564);l(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=l&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?l(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(65984)),c=n(41936),f=n(18656),d=o(n(77512)),s=o(n(43332)),p=o(n(83672));function m(e){if("function"!=typeof r)return null;var t=new r,n=new r;return(m=function(e){return e?n:t})(e)}t.default=(0,i.memo)((function(){var e=(0,c.useLocation)().pathname,t=(0,i.useCallback)((function(t){return e===t||e==="".concat(t,"/")?d.default.curr:null}),[e]);return i.default.createElement("div",{className:d.default.container},i.default.createElement("div",{className:d.default.box},i.default.createElement(p.default,null,i.default.createElement(c.Outlet,null))),i.default.createElement("div",{className:d.default.nav},i.default.createElement(s.default,{to:"/m/home",className:t("/m/home")},i.default.createElement(f.Icon,{type:"shouye",prefix:"nocodeplatformicon"}),i.default.createElement("span",null,"工作台")),i.default.createElement(s.default,{to:"/m/app",className:t("/m/app")},i.default.createElement(f.Icon,{type:"yingyong4",prefix:"nocodeplatformicon"}),i.default.createElement("span",null,"应用")),i.default.createElement(s.default,{to:"/m/user",className:t("/m/user")},i.default.createElement(f.Icon,{type:"wode",prefix:"nocodeplatformicon"}),i.default.createElement("span",null,"我的"))))}))},47716:function(e,t,n){var a=n(13568),r=n(13939),l=n(34716),u=n(70696),o=n(4884),i=n(3464),c=n(51400),f=n(25028),d=n(93252),s=n(9564);f(t,"__esModule",{value:!0}),t.default=void 0;var p=s(n(29052)),m=s(n(760)),_=s(n(25288)),v=s(n(23992)),g=s(n(70696)),h=s(n(26048)),y=s(n(94924)),E=s(n(96631)),b=s(n(78912)),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=f&&o;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=l?o(e,u):null;i&&(i.get||i.set)?f(r,u,i):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}(n(65984)),x=n(25096),N=n(95936),C=s(n(732)),k=s(n(59088)),M=s(n(74428)),P=s(n(75020)),T=s(n(4496)),A=n(57264),I=n(18656),S=n(65873),j=s(n(29412)),O=n(6940),L=n(78016),z=n(25960),D=n(88268);function R(e){if("function"!=typeof d)return null;var t=new d,n=new d;return(R=function(e){return e?n:t})(e)}function F(e,t){var n=r(e);if(l){var a=l(e);t&&(a=u(a).call(a,(function(t){return o(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,E.default)(e,t,n[t])})):i?c(e,i(n)):F(Object(n)).forEach((function(t){f(e,t,o(n,t))}))}return e}var U=[{label:"全部应用",value:0,action:"root-app||m_as_fil_as"},{label:"我创建的",value:1,action:"root-app||m_as_fil_mc"},{label:"我收藏的",value:2,action:"root-app||m_as_fil_mf"}],B=function(e){var t=e.text,n=void 0===t?"暂无数据":t;return w.default.createElement("div",{className:j.default.no_data},w.default.createElement("img",{src:T.default,alt:n,width:224,height:128}),w.default.createElement("div",{className:j.default.no_data_text},n))},Z=(0,w.memo)((function(){var e=(0,w.useState)(null),t=(0,b.default)(e,2),n=t[0],a=t[1],r=(0,w.useContext)(N.Context).dispatch,l=(0,w.useState)(!1),u=(0,b.default)(l,2),o=u[0],i=u[1],c=(0,w.useState)(""),f=(0,b.default)(c,2),d=f[0],s=f[1],E=(0,w.useState)(0),T=(0,b.default)(E,2),R=T[0],F=T[1],Z=(0,w.useRef)({page_size:20,page_no:1,app_filter:0}),q=(0,C.default)(),W=(0,w.useRef)(!1),V=(0,w.useCallback)((function(e,t,n){if(e){var r=e.rows,l=e.lastPage,u=n?(0,m.default)(t).call(t,r):r;i(!l),a(u)}else i(!1),a([])}),[n,a,i]),G=(0,w.useCallback)((function(e){if(!W.current){var t=H({},Z.current);(0,_.default)(d).call(d)&&(t.filter="name CS ".concat(d)),W.current=!0,(0,x.getAppList)(t,r).then((function(t){W.current=!1,V(t,n,e),(0,O.setStoreData)(z.APP_LIST_DATA,Z.current,t)}))}}),[r,n,d,x.getAppList,V]),X=(0,P.default)(G,500),Y=(0,w.useCallback)((function(){Z.current.page_no+=1,G(!0)}),[G]),K=(0,w.useCallback)(function(){var e=(0,y.default)(p.default.mark((function e(t){return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q("/m/".concat(t,"/home"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[q]),Q=(0,w.useCallback)((function(e,t,r){e.stopPropagation();var l=!r,u={id:t,collect:l};(0,x.configApp)(u).then((function(e){e&&a((0,v.default)(n).call(n,(function(e){return e.id===t?H(H({},e),{},{collect:l}):e})))})).catch((function(e){return(0,A.showNotice)("error",e.message)}))}),[n]),J=(0,w.useCallback)((function(){(0,L.publishUserEvent)({appId:"root-app",formId:"",eventName:"search",event:"m_as_srh"})}),[]),$=(0,P.default)(J),ee=(0,w.useCallback)((function(e){s(e),Z.current.page_no=1,X(!1),$()}),[s,X,$]),te=(0,w.useCallback)((function(e){F(e),Z.current.page_no=1,Z.current.app_filter=e,G(!1)}),[G,F]);(0,w.useEffect)((function(){(0,O.getStoreData)(z.APP_LIST_DATA,Z.current).then((function(e){e&&V(e,n,!1),G(!1)}))}),[]);var ne=(0,w.useCallback)((0,y.default)(p.default.mark((function e(){return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(!1);case 2:case"end":return e.stop()}}),e)}))),[G]);return(0,A.setDocumentTitle)(D.ALLAPPS,!1),w.default.createElement("div",{className:j.default.all_app},w.default.createElement("div",{className:j.default.header},w.default.createElement("div",{className:j.default.searcher},w.default.createElement(S.Text,{size:"small",className:j.default.search_box,allowClear:!0,value:d,prefix:w.default.createElement(I.Icon,{prefix:"nocodeplatformicon",type:"sousuo"}),onChange:ee,placeholder:"搜索",borderType:"none"})),w.default.createElement(k.default,{value:R,options:U,triggerClassName:(0,g.default)(j.default),onChange:te})),n&&(null!=n&&n.length?w.default.createElement("ul",{className:j.default.apps},w.default.createElement(S.PullToRefresh,{onRefresh:ne},w.default.createElement(S.InfiniteLoading,{hasMore:o,onLoadMore:Y},(0,v.default)(n).call(n,(function(e){var t=e.name,n=e.id,a=e.image,r=e.description,l=e.collect,u={"data-nc-action":"root-app||".concat(l?"m_as_app_fav":"m_as_app_cfav")};return w.default.createElement("li",{className:j.default.app_item,key:n},w.default.createElement("div",{className:j.default.app_item_detail,onClick:function(){return K(n)},"data-nc-action":"root-app||m_as_app"},w.default.createElement("div",{className:j.default.app_item_image_wrapper},w.default.createElement("img",{src:(0,A.getUrlWithDataCenter)((0,A.getFullUrl)(a)),alt:t})),w.default.createElement("div",{className:j.default.app_item_info},w.default.createElement("div",{className:j.default.app_item_info_top},w.default.createElement("div",{className:j.default.app_item_name},t),w.default.createElement(I.Icon,(0,h.default)({prefix:"nocodeplatformicon",type:l?"xinxing-mian":"xinxing-xian",className:l&&j.default.collected,onClick:function(e){return Q(e,n,l)}},u))),w.default.createElement("div",{className:j.default.app_item_desc},w.default.createElement(M.default,{rows:3,content:r||"暂无描述"})))))}))))):w.default.createElement(B,null)))}));Z.displayName="MobileAllAppsPage";t.default=Z},90924:function(e,t,n){var a=n(13568),r=n(93252),l=n(25028),u=n(4884),o=n(9564);l(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(760)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=l&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?l(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(65984)),f=n(18656),d=o(n(53422)),s=n(95936),p=o(n(43332)),m=n(65873);function _(e){if("function"!=typeof r)return null;var t=new r,n=new r;return(_=function(e){return e?n:t})(e)}t.default=(0,c.memo)((function(){var e,t=(0,c.useContext)(s.Context).state,n=(null==t?void 0:t.userInfo)||{};(0,c.useEffect)((function(){document.title="我的"}),[]);encodeURIComponent(window.location.pathname.replace(window.__domainurl__,""));return c.default.createElement("div",{className:d.default.container},c.default.createElement(p.default,{to:"/m/user/info",className:d.default.info},c.default.createElement(m.Avatar,{src:null==n?void 0:n.avatar,size:56}),c.default.createElement("div",null,c.default.createElement("div",{className:d.default.name},null==n?void 0:n.name),c.default.createElement("div",{className:d.default.phone},null==n?void 0:n.phone))),c.default.createElement("div",{className:d.default.list},c.default.createElement(p.default,{"data-nc-action":"root-m-user||m_mine_em",to:"/m/user/company"},c.default.createElement(f.Icon,{type:"zuzhi",prefix:"nocodeplatformicon"}),c.default.createElement("div",{className:d.default.item},c.default.createElement("span",null,"企业管理"),c.default.createElement(f.Icon,{type:"fangxiangyou",prefix:"nocodeplatformicon"})))),c.default.createElement("a",{className:d.default.quite,"data-nc-action":"root-m-user||m_mine_out",href:(0,i.default)(e="".concat(window.__domainurl__,"login.html?redirect=")).call(e,encodeURIComponent(window.location.href)),target:"_self"},"退出登录"))}))},43332:function(e,t,n){var a=n(13568),r=n(93252),l=n(25028),u=n(4884),o=n(9564);l(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(26048)),c=n(41936),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=l&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?l(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(65984)),d=n(34896);function s(e){if("function"!=typeof r)return null;var t=new r,n=new r;return(s=function(e){return e?n:t})(e)}t.default=(0,f.memo)((function(e){var t=e.children,n=e.to,a=(0,c.useLocation)().search,r=n;return r=(0,d.urlParamWithDebug)(r,a),f.default.createElement(c.Link,(0,i.default)({},e,{to:r}),t)}))},74428:function(e,t,n){var a=n(13568),r=n(13939),l=n(34716),u=n(70696),o=n(4884),i=n(3464),c=n(51400),f=n(25028),d=n(73980),s=n(13440),p=n(59992),m=n(60600),_=n(93252),v=n(9564);f(t,"__esModule",{value:!0}),t.default=void 0,t.mergeProps=A,t.withNativeProps=I,t.withStopPropagation=j;var g=v(n(11908)),h=v(n(13440)),y=v(n(73980)),E=v(n(78912)),b=v(n(96631)),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=f&&o;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=l?o(e,u):null;i&&(i.get||i.set)?f(r,u,i):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}(n(65984)),x=v(n(71252)),N=n(60644);function C(e){if("function"!=typeof _)return null;var t=new _,n=new _;return(C=function(e){return e?n:t})(e)}function k(e,t){var n=void 0!==p&&m(e)||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return M(e,t);var a=d(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return s(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){o=!0,l=e})),f:function(){try{u||null==n.return||n.return()}finally{if(o)throw l}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function P(e,t){var n=r(e);if(l){var a=l(e);t&&(a=u(a).call(a,(function(t){return o(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,b.default)(e,t,n[t])})):i?c(e,i(n)):P(Object(n)).forEach((function(t){f(e,t,o(n,t))}))}return e}function A(){function e(e,t){return void 0===t?e:t}for(var t=T({},arguments.length<=0?void 0:arguments[0]),n=1;n<arguments.length;n++)t=(0,N.assignWith)(t,n<0||arguments.length<=n?void 0:arguments[n],e);return t}function I(e,t){var n=T({},t.props);for(var a in e.className&&(n.className=(0,x.default)(t.props.className,e.className)),e.style&&(n.style=T(T({},n.style),e.style)),void 0!==e.tabIndex&&(n.tabIndex=e.tabIndex),e)e.hasOwnProperty(a)&&((0,g.default)(a).call(a,"data-")||(0,g.default)(a).call(a,"aria-"))&&(n[a]=e[a]);return w.default.cloneElement(t,n)}var S={click:"onClick"};function j(e,t){var n,a=T({},t.props),r=k(e);try{var l=function(){var e=n.value,r=S[e];a[r]=function(e){var n,a;e.stopPropagation(),null===(n=(a=t.props)[r])||void 0===n||n.call(a,e)}};for(r.s();!(n=r.n()).done;)l()}catch(e){r.e(e)}finally{r.f()}return w.default.cloneElement(t,a)}function O(e,t){var n=function(e){var t=(0,w.useRef)(e);t.current=(0,w.useMemo)((function(){return e}),[e]);var n=(0,w.useRef)();return n.current||(n.current=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.current.apply(this,n)}),n.current}(e);(0,w.useLayoutEffect)((function(){var e=t.current;if(e){if(window.ResizeObserver){var a,r=new ResizeObserver((function(){a=window.requestAnimationFrame((function(){return n(e)}))}));return r.observe(e),function(){window.cancelAnimationFrame(a),r.disconnect()}}n(e)}}),[t])}var L={direction:"end",rows:1,expandText:"",content:"",collapseText:"",stopPropagationForActionButtons:[],onContentClick:function(){}};function z(e){if(!e)return 0;var t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0}t.default=function(e){var t=A(L,e),n=(0,w.useRef)(null),a=(0,w.useState)({}),r=(0,E.default)(a,2),l=r[0],u=r[1],o=(0,w.useState)(!1),i=(0,E.default)(o,2),c=i[0],f=i[1],d=(0,w.useState)(!1),s=(0,E.default)(d,2),p=s[0],m=s[1],_=(0,w.useMemo)((function(){return(0,h.default)(t.content)}),[t.content]);function v(e,t){return(0,y.default)(_).call(_,e,t).join("")}function g(){var e=n.current;if(e&&e.offsetParent){var a=window.getComputedStyle(e),r=document.createElement("div");(0,y.default)(Array.prototype).apply(a).forEach((function(e){r.style.setProperty(e,a.getPropertyValue(e))})),r.style.position="fixed",r.style.left="999999px",r.style.top="999999px",r.style.zIndex="-1000",r.style.height="auto",r.style.minHeight="auto",r.style.maxHeight="auto",r.style.textOverflow="clip",r.style.whiteSpace="normal",r.style.wordBreak="break-all",r.style.webkitLineClamp="unset",r.style.display="block";var l=z(a.lineHeight),o=Math.floor(l*(t.rows+.5)+z(a.paddingTop)+z(a.paddingBottom));if(r.innerText=t.content,document.body.appendChild(r),r.offsetHeight<=o)m(!1);else{m(!0);var i=t.content.length,f=c?t.collapseText:t.expandText,d=Math.floor((0+i)/2),s="middle"===t.direction?function e(t,n){if(t[1]-t[0]<=1&&n[1]-n[0]<=1)return{leading:v(0,t[0])+"...",tailing:"..."+v(n[1],i)};var a=Math.floor((t[0]+t[1])/2),l=Math.ceil((n[0]+n[1])/2);return r.innerText=v(0,a)+"..."+f+"..."+v(l,i),r.offsetHeight<=o?e([a,t[1]],[n[0],l]):e([t[0],a],[l,n[1]])}([0,d],[d,i]):function e(n,a){if(a-n<=1)return"end"===t.direction?{leading:v(0,n)+"..."}:{tailing:"..."+v(a,i)};var l=Math.round((n+a)/2);return"end"===t.direction?r.innerText=v(0,l)+"..."+f:r.innerText=f+"..."+v(l,i),r.offsetHeight<=o?"end"===t.direction?e(l,a):e(n,l):"end"===t.direction?e(n,l):e(l,a)}(0,i);u(s)}document.body.removeChild(r)}}O(g,n),(0,w.useLayoutEffect)((function(){g()}),[t.content,t.direction,t.rows,t.expandText,t.collapseText]);var b=p&&t.expandText?j(t.stopPropagationForActionButtons,w.default.createElement("a",{onClick:function(){f(!0)}},t.expandText)):null,x=p&&t.expandText?j(t.stopPropagationForActionButtons,w.default.createElement("a",{onClick:function(){f(!1)}},t.collapseText)):null;return I(t,w.default.createElement("div",{ref:n,className:"adm-ellipsis",style:{wordBreak:"break-all"},onClick:function(e){e.target===e.currentTarget&&t.onContentClick(e)}},p?c?w.default.createElement(w.default.Fragment,null,t.content,x):w.default.createElement(w.default.Fragment,null,l.leading,b,l.tailing):t.content))}}}]);