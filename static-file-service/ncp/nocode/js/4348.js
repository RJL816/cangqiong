"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunknocode_platform"] = self["webpackChunknocode_platform"] || []).push([[4348],{

/***/ "./src/web/component/apps/PopBill.less":
/*!*********************************************!*\
  !*** ./src/web/component/apps/PopBill.less ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"pop_bill\":\"mrjeIgpz_pop_bill\",\"nav\":\"HWXWWyC8_nav\",\"title\":\"_34mQ3R0Y_title\",\"actions\":\"ZOf3XMTL_actions\",\"actions_item\":\"F6AdVGn9_actions_item\",\"main\":\"bcs4S9SC_main\",\"bill\":\"_3PCGZ4TB_bill\",\"flow\":\"Dv90iuBK_flow\",\"footer\":\"_4hA9JCjW_footer\",\"btns\":\"PkPDiNTc_btns\",\"footer_tips\":\"vVuF264G_footer_tips\",\"footer_pagination\":\"_9SKW9ac8_footer_pagination\",\"footer_pagination_btn\":\"avKRPJXg_footer_pagination_btn\",\"footer_pagination_btn_icon\":\"qUNKHdZU_footer_pagination_btn_icon\",\"mr12\":\"MEE0puNt_mr12\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9hcHBzL1BvcEJpbGwubGVzcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1wbGF0Zm9ybS8uL3NyYy93ZWIvY29tcG9uZW50L2FwcHMvUG9wQmlsbC5sZXNzP2IyMzAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJwb3BfYmlsbFwiOlwibXJqZUlncHpfcG9wX2JpbGxcIixcIm5hdlwiOlwiSFdYV1d5QzhfbmF2XCIsXCJ0aXRsZVwiOlwiXzM0bVEzUjBZX3RpdGxlXCIsXCJhY3Rpb25zXCI6XCJaT2YzWE1UTF9hY3Rpb25zXCIsXCJhY3Rpb25zX2l0ZW1cIjpcIkY2QWRWR245X2FjdGlvbnNfaXRlbVwiLFwibWFpblwiOlwiYmNzNFM5U0NfbWFpblwiLFwiYmlsbFwiOlwiXzNQQ0daNFRCX2JpbGxcIixcImZsb3dcIjpcIkR2OTBpdUJLX2Zsb3dcIixcImZvb3RlclwiOlwiXzRoQTlKQ2pXX2Zvb3RlclwiLFwiYnRuc1wiOlwiUGtQRGlOVGNfYnRuc1wiLFwiZm9vdGVyX3RpcHNcIjpcInZWdUYyNjRHX2Zvb3Rlcl90aXBzXCIsXCJmb290ZXJfcGFnaW5hdGlvblwiOlwiXzlTS1c5YWM4X2Zvb3Rlcl9wYWdpbmF0aW9uXCIsXCJmb290ZXJfcGFnaW5hdGlvbl9idG5cIjpcImF2S1JQSlhnX2Zvb3Rlcl9wYWdpbmF0aW9uX2J0blwiLFwiZm9vdGVyX3BhZ2luYXRpb25fYnRuX2ljb25cIjpcInFVTktIZFpVX2Zvb3Rlcl9wYWdpbmF0aW9uX2J0bl9pY29uXCIsXCJtcjEyXCI6XCJNRUUwcHVOdF9tcjEyXCJ9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/component/apps/PopBill.less\n");

/***/ }),

/***/ "./src/web/component/apps/PopBillTurnPage.less":
/*!*****************************************************!*\
  !*** ./src/web/component/apps/PopBillTurnPage.less ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"bill_turnpage\":\"UT7zcNAA_bill_turnpage\",\"bill_turnpage_btn\":\"NXUfFYtE_bill_turnpage_btn\",\"bill_turnpage_btn_icon\":\"uGhzCxyl_bill_turnpage_btn_icon\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9hcHBzL1BvcEJpbGxUdXJuUGFnZS5sZXNzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLXBsYXRmb3JtLy4vc3JjL3dlYi9jb21wb25lbnQvYXBwcy9Qb3BCaWxsVHVyblBhZ2UubGVzcz80OWIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wiYmlsbF90dXJucGFnZVwiOlwiVVQ3emNOQUFfYmlsbF90dXJucGFnZVwiLFwiYmlsbF90dXJucGFnZV9idG5cIjpcIk5YVWZGWXRFX2JpbGxfdHVybnBhZ2VfYnRuXCIsXCJiaWxsX3R1cm5wYWdlX2J0bl9pY29uXCI6XCJ1R2h6Q3h5bF9iaWxsX3R1cm5wYWdlX2J0bl9pY29uXCJ9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/component/apps/PopBillTurnPage.less\n");

/***/ }),

/***/ "./src/web/component/apps/PopBill.tsx":
/*!********************************************!*\
  !*** ./src/web/component/apps/PopBill.tsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _Object$keys = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js\");\nvar _Object$getOwnPropertySymbols = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js\");\nvar _filterInstanceProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _Object$getOwnPropertyDescriptors = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js\");\nvar _Object$defineProperties = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-properties */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _concat = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js\"));\nvar _find = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js\"));\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ \"../../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _utils = __webpack_require__(/*! @/utils */ \"./src/utils/index.tsx\");\nvar _PopBill = _interopRequireDefault(__webpack_require__(/*! ./PopBill.less */ \"./src/web/component/apps/PopBill.less\"));\nvar _kdesign = __webpack_require__(/*! kd_libs/kdesign1 */ \"webpack/container/remote/kd_libs/kdesign1\");\nvar _ShareButton = _interopRequireDefault(__webpack_require__(/*! ../common/ShareButton */ \"./src/web/component/common/ShareButton.tsx\"));\nvar _WebUI = __webpack_require__(/*! nocode_component/WebUI */ \"webpack/container/remote/nocode_component/WebUI\");\nvar _PopBillTurnPage = _interopRequireDefault(__webpack_require__(/*! ./PopBillTurnPage */ \"./src/web/component/apps/PopBillTurnPage.tsx\"));\nvar _FlowListLayout = _interopRequireDefault(__webpack_require__(/*! @/web/layout/apps/FlowListLayout */ \"./src/web/layout/apps/FlowListLayout.tsx\"));\nvar _useFormBackground = _interopRequireDefault(__webpack_require__(/*! @/hooks/useFormBackground */ \"./src/hooks/useFormBackground.ts\"));\nvar _apps = __webpack_require__(/*! @/actions/apps */ \"./src/actions/apps.ts\");\nvar _FormDetailFooterLayout = _interopRequireDefault(__webpack_require__(/*! @/web/layout/apps/FormDetailFooterLayout */ \"./src/web/layout/apps/FormDetailFooterLayout.tsx\"));\nvar _useFormMeta = _interopRequireDefault(__webpack_require__(/*! @/hooks/useFormMeta */ \"./src/hooks/useFormMeta.ts\"));\nvar _useAppContext2 = _interopRequireDefault(__webpack_require__(/*! @/hooks/useAppContext */ \"./src/hooks/useAppContext.js\"));\nvar _FormDataListAuthProvider = __webpack_require__(/*! ../common/FormDataListAuthProvider */ \"./src/web/component/common/FormDataListAuthProvider.tsx\");\nvar _NocodeEntry = _interopRequireDefault(__webpack_require__(/*! ../common/NocodeEntry */ \"./src/web/component/common/NocodeEntry.tsx\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = _Object$keys(e); if (_Object$getOwnPropertySymbols) { var o = _Object$getOwnPropertySymbols(e); r && (o = _filterInstanceProperty(o).call(o, function (r) { return _Object$getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(e, _Object$getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { _Object$defineProperty(e, r, _Object$getOwnPropertyDescriptor(t, r)); }); } return e; } /*\n * @Description:\n * @Author: 陈晓峰\n * @Date: 2022-08-29 15:48:49\n * @LastEditTime: 2023-09-20 16:34:36\n * @Last Modified by: jianhang_he\n */ // import { useParams } from 'react-router-dom'\n// import { deleteFormDataListItem } from '@/actions/apps'\n// import { printContent, printWrapper } from '@/utils/print'\n// import ReactDOM from 'react-dom'\n// import QRCode from '../common/QRCode'\n// import { Context } from '@/app'\n// import { PopBillSkeleton } from '@/web/component/skeleton/PopBillSkeleton'\n\n// const NocodeEntry = lazy(() => import('bos_core/Main'))\n\n// const PAGE_STATUS = ['addNew', 'edit', 'view']\n\nvar PopNocodeEntry = (0, _react.memo)(function (_ref) {\n  var config = _ref.config,\n    onRefresh = _ref.onRefresh,\n    disabled = _ref.disabled,\n    disabledMsg = _ref.disabledMsg,\n    billList = _ref.billList,\n    visible = _ref.visible,\n    showDelete = _ref.showDelete,\n    showEdit = _ref.showEdit,\n    showCopy = _ref.showCopy,\n    viewAuth = _ref.viewAuth,\n    close = _ref.close,\n    editShare = _ref.editShare,\n    detailShareReqireLogin = _ref.detailShareReqireLogin,\n    detailShareNotReqireLogin = _ref.detailShareNotReqireLogin,\n    inputShareReqireLogin = _ref.inputShareReqireLogin,\n    inputShareNotReqireLogin = _ref.inputShareNotReqireLogin;\n  var bosRef = (0, _react.useRef)(null);\n  // const checkboxRef = useRef<any>(null)\n  var appId = config.appId,\n    targetFormId = config.targetFormId,\n    pkId = config.pkId,\n    Status = config.Status,\n    procInstId = config.procInstId,\n    userTaskActivityId = config.userTaskActivityId,\n    userTaskBusinessKey = config.userTaskBusinessKey,\n    userTaskCurrentUserId = config.userTaskCurrentUserId,\n    taskId = config.taskId;\n  var _useState = (0, _react.useState)(pkId),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    curPkId = _useState2[0],\n    setCurPkId = _useState2[1];\n  var _useState3 = (0, _react.useState)(Status),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    status = _useState4[0],\n    setStatus = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    modalVisible = _useState6[0],\n    setModalVisible = _useState6[1]; // 弹窗\n  // const [isNew, setIsNew] = useState(Status === 'addNew') // 是否录入\n  // const [isEdit, setIsEdit] = useState(Status === 'addNew' || Status === 'edit') // 是否编辑态\n  var _useState7 = (0, _react.useState)([]),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    approvalData = _useState8[0],\n    setApprovalData = _useState8[1]; // 审批列表\n  var _useState9 = (0, _react.useState)(false),\n    _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n    formLock = _useState10[0],\n    setFormLock = _useState10[1]; // 审批列表\n  var bosFocus = (0, _react.useRef)(false); // bos是否有获焦点\n  var _useState11 = (0, _react.useState)(null),\n    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n    bosApi = _useState12[0],\n    setBosApi = _useState12[1];\n  var _useState13 = (0, _react.useState)(false),\n    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n    loading = _useState14[0],\n    setLoading = _useState14[1];\n  var createUiActionDataStr = (0, _react.useCallback)(function (actionName) {\n    var _context, _context2;\n    return (0, _concat.default)(_context = (0, _concat.default)(_context2 = \"\".concat(appId, \"|\")).call(_context2, targetFormId, \"|\")).call(_context, actionName);\n  }, [appId, targetFormId]);\n\n  // 当前节点，录入节点时录入表单与触发表单不一样，致使背景出现断层问题\n  var formId = (0, _react.useMemo)(function () {\n    if (userTaskActivityId && userTaskBusinessKey && userTaskCurrentUserId) {\n      var _proc$approvalInfo;\n      // 如果是录入节点\n      var proc = (0, _find.default)(approvalData).call(approvalData, function (item) {\n        return item.procInstId === procInstId;\n      });\n      var node = proc === null || proc === void 0 || (_proc$approvalInfo = proc.approvalInfo) === null || _proc$approvalInfo === void 0 ? void 0 : (0, _find.default)(_proc$approvalInfo).call(_proc$approvalInfo, function (item) {\n        return item.taskId === taskId;\n      });\n      return node === null || node === void 0 ? void 0 : node.nodeEntityNumber;\n    } else {\n      return targetFormId;\n    }\n  }, [approvalData, procInstId, taskId, targetFormId, userTaskActivityId, userTaskBusinessKey, userTaskCurrentUserId]);\n  var bgc = (0, _useFormBackground.default)(formId); // 表单背景颜色\n  var hasFlow = (0, _react.useMemo)(function () {\n    return approvalData.length > 0;\n  }, [approvalData]); // 判断是否显示流程列表\n  var _useAppContext = (0, _useAppContext2.default)(),\n    state = _useAppContext.state,\n    sendUiData = _useAppContext.sendUiData;\n  var meta = (0, _useFormMeta.default)(targetFormId);\n  var metaRef = (0, _react.useRef)();\n  var authContext = (0, _react.useContext)(_FormDataListAuthProvider.AuthorizeContext) || {};\n  var authList = authContext.authList;\n  var _ref2 = authList || {},\n    printAuth = _ref2.printAuth;\n  (0, _react.useEffect)(function () {\n    metaRef.current = meta;\n  }, [meta]);\n\n  // 兼容组件直接引入时，无法获取pkId\n  (0, _react.useEffect)(function () {\n    setCurPkId(pkId);\n  }, [pkId]);\n\n  // 翻阅下一条记录时，重新LOAD动态表单\n  (0, _react.useEffect)(function () {\n    var _bosApi$loadPage;\n    bosApi === null || bosApi === void 0 || (_bosApi$loadPage = bosApi.loadPage) === null || _bosApi$loadPage === void 0 || _bosApi$loadPage.call(bosApi, _objectSpread(_objectSpread({}, config), {}, {\n      pkId: curPkId\n    }));\n  }, [curPkId]);\n  (0, _react.useEffect)(function () {\n    // 状态更新\n    setStatus(config.Status);\n  }, [config.Status]);\n  var isEdit = (0, _react.useMemo)(function () {\n    return (0, _utils.isEditStatus)(status || '');\n  }, [_utils.isEditStatus, status]); // 是否录入\n  var isNew = (0, _react.useMemo)(function () {\n    return status === 'addNew';\n  }, [status]); // 是否编辑态\n  /**\n   * 请求审批列表\n   * @param entityNumber targetFormId\n   * @param businessKey pkId\n   */\n  var fetchFlowList = (0, _react.useCallback)(function () {\n    setLoading(true);\n    (0, _apps.getApprovalInfo)({\n      entityNumber: targetFormId,\n      businessKey: curPkId\n    }).then(function (res) {\n      setLoading(false);\n      setApprovalData((res === null || res === void 0 ? void 0 : res.rows) || []);\n    }).catch(function () {\n      setLoading(false);\n    });\n  }, [targetFormId, curPkId]);\n  (0, _react.useEffect)(function () {\n    if (targetFormId && curPkId) {\n      // 获取审核列表\n      fetchFlowList();\n    }\n  }, [targetFormId, curPkId, visible, fetchFlowList]);\n\n  // 用户审批意见提交\n  var refreshDatas = (0, _react.useCallback)(function () {\n    onRefresh === null || onRefresh === void 0 || onRefresh();\n    close === null || close === void 0 || close();\n  }, [onRefresh]);\n\n  // // 检查是否成功\n  // const checkSuccess = useCallback((res) => {\n  //   const reg = /\\{\"p\":\\[\\{\"duration\":(\\S+),\"type\":(\\S+),\"content\":\"(\\S+)\"\\}\\],\"a\":\"(\\S+)\"\\}/\n  //   const notice = JSON.stringify(res).match(reg)\n  //   return !!(notice && notice?.[2] === '0')\n  // }, [])\n\n  // 关闭面板前检查是否要保存内容\n  var closeHandle = (0, _react.useCallback)(function () {\n    var check = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    document.body.removeAttribute('style');\n    if (bosFocus.current && check && (status === 'edit' || status === 'addNew')) {\n      // 若表单内控件曾经有聚焦则需要弹出提示\n      setModalVisible(true);\n    } else {\n      close === null || close === void 0 || close();\n    }\n  }, [status, close]);\n\n  // 返回跳转地址\n  var getUrl = (0, _react.useCallback)(function (appId, targetFormId, pkId, status, procInstId, taskId, type) {\n    if (type === 'print') {\n      var _context3, _context4;\n      return (0, _concat.default)(_context3 = (0, _concat.default)(_context4 = \"/\".concat(appId, \"/print/\")).call(_context4, targetFormId, \"/\")).call(_context3, pkId, \"/view\");\n    }\n    // 复制时，使用的地址应该是录入界面的\n    if (!pkId || isNew) {\n      var _context5;\n      return (0, _concat.default)(_context5 = \"/\".concat(appId, \"/detail/\")).call(_context5, targetFormId);\n    } else {\n      var _context14, _context15;\n      if (status) {\n        var _context11, _context12, _context13;\n        // 打表表单界面\n        if (procInstId) {\n          var _context6, _context7, _context8, _context9, _context10;\n          // 打开流程详情界面\n          var str = (0, _concat.default)(_context6 = (0, _concat.default)(_context7 = (0, _concat.default)(_context8 = (0, _concat.default)(_context9 = \"/\".concat(appId, \"/detail/\")).call(_context9, targetFormId, \"/\")).call(_context8, pkId, \"/\")).call(_context7, status, \"/flow/\")).call(_context6, procInstId);\n          return taskId ? (0, _concat.default)(_context10 = \"\".concat(str, \"/task/\")).call(_context10, taskId) : str;\n        }\n        return (0, _concat.default)(_context11 = (0, _concat.default)(_context12 = (0, _concat.default)(_context13 = \"/\".concat(appId, \"/detail/\")).call(_context13, targetFormId, \"/\")).call(_context12, pkId, \"/\")).call(_context11, status);\n      }\n      return (0, _concat.default)(_context14 = (0, _concat.default)(_context15 = \"/\".concat(appId, \"/detail/\")).call(_context15, targetFormId, \"/\")).call(_context14, pkId);\n    }\n  }, [isNew]);\n  var disabledCb = (0, _react.useCallback)(function () {\n    return (0, _utils.showNotice)('error', disabledMsg);\n  }, []);\n\n  // 分享\n  var handleClickShare = disabled ? disabledCb : undefined;\n  var openPath = getUrl(appId, targetFormId, curPkId, status, procInstId, taskId, '');\n  var openPrintPath = getUrl(appId, targetFormId, curPkId, status, procInstId, taskId, 'print');\n\n  // 分享弹窗的标题\n  var shareModalTitle = (0, _react.useMemo)(function () {\n    if (!curPkId) return '';\n    if (isEdit) return '编辑';\n    return '详情';\n  }, [curPkId, isEdit]);\n\n  // 是否显示分享按钮\n  var showShare = (0, _react.useMemo)(function () {\n    return isEdit ? isNew ? inputShareNotReqireLogin || inputShareReqireLogin : editShare : detailShareReqireLogin || detailShareNotReqireLogin;\n  }, [isNew, isEdit, editShare, detailShareReqireLogin, detailShareNotReqireLogin, inputShareNotReqireLogin, inputShareReqireLogin]);\n  var showPrint = (0, _react.useMemo)(function () {\n    return printAuth && status === 'view' && !procInstId;\n  }, [status, printAuth]);\n\n  // 是否免登陆（详情和录入的时候才需要）\n  var allowNoAuth = (0, _react.useMemo)(function () {\n    return status === 'view' || isNew;\n  }, [status, isNew]);\n  var handleOpenNewTab = (0, _react.useCallback)(function () {\n    (0, _utils.openner)(openPath);\n    closeHandle(false);\n  }, [openPath, disabledMsg, closeHandle]);\n\n  // 关闭弹窗事件\n  var onModalAction = (0, _react.useCallback)(function (key) {\n    switch (key) {\n      case 'ok':\n        setModalVisible(false);\n        break;\n      case 'cancel':\n        setModalVisible(false);\n        close === null || close === void 0 || close();\n        break;\n    }\n  }, [close]);\n  var handleClickPrint = function handleClickPrint() {\n    if (disabled) return (0, _utils.showNotice)('error', disabledMsg);\n    /* const formDoms = document.getElementsByClassName('kd-nc-grid-panel')\n    const dom = formDoms?.[0]\n    const fullLink = window.location.origin + getFullUrl(`nocode/h/${appId}/detail/${targetFormId}/${pkId}/view`)\n    const qrWrapper = <QRCode class='qrcode' value={fullLink} size={80} />\n    const div = document.createElement('div')\n    ReactDOM.render(qrWrapper, div)\n     setTimeout(() => {\n      const qrDom = div.getElementsByClassName('qrcode')\n      const qrCodeSrc = qrDom[0]?.toDataURL('image/png')\n      const wrapper = printWrapper({ title: metaRef?.current?.caption?.zh_CN, children: dom.innerHTML, qrCodeSrc, company: state?.userInfo?.orgs?.[0]?.orgName })\n      if (dom) {\n        printContent(wrapper)\n      }\n    }) */\n    (0, _utils.openner)(openPrintPath);\n    closeHandle(false);\n  };\n  // 抽屉头部标题\n  var billTitle = (0, _react.useMemo)(function () {\n    return isEdit ? isNew || userTaskActivityId && userTaskBusinessKey && userTaskCurrentUserId ? '录入' : '编辑' : '详情';\n  }, [isEdit, isNew]);\n\n  // 抽屉头部按钮\n  var BillHeader = (0, _react.useMemo)(function () {\n    var _context16, _context17, _context18;\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: _PopBill.default.nav\n    }, /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: _PopBill.default.title\n    }, billTitle), /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: _PopBill.default.actions\n    }, showPrint && /*#__PURE__*/_react.default.createElement(_WebUI.BtnField, {\n      className: _PopBill.default.actions_item,\n      type: \"text\",\n      \"data-nc-action\": (0, _concat.default)(_context16 = \"\".concat(appId, \"|\")).call(_context16, targetFormId, \"|tb_enterprint\"),\n      onClick: handleClickPrint,\n      text: \"\\u6253\\u5370\",\n      icon: {\n        prefix: 'nocodeplatformicon',\n        type: 'dayin'\n      }\n    }), showShare && /*#__PURE__*/_react.default.createElement(_ShareButton.default, {\n      config: _objectSpread(_objectSpread({}, config), {}, {\n        pkId: curPkId,\n        Status: status\n      }),\n      allowNoAuth: allowNoAuth,\n      shareLink: ['/', \"nocode\", openPath, window.location.search].join(''),\n      modalTitle: shareModalTitle,\n      iconType: \"fenxiang-xian\",\n      className: _PopBill.default.actions_item,\n      onClick: handleClickShare,\n      shareReqireLogin: isEdit ? isNew ? inputShareReqireLogin : editShare : detailShareReqireLogin,\n      shareNotReqireLogin: isEdit ? isNew ? inputShareNotReqireLogin : editShare : detailShareNotReqireLogin,\n      isDetail: true\n    }), procInstId ? null : disabled ? /*#__PURE__*/_react.default.createElement(_WebUI.BtnField, {\n      onClick: function onClick() {\n        return (0, _utils.showNotice)('error', disabledMsg);\n      },\n      \"data-nc-action\": (0, _concat.default)(_context17 = \"\".concat(appId, \"|\")).call(_context17, targetFormId, \"|tb_np\"),\n      type: \"text\",\n      className: _PopBill.default.actions_item,\n      text: \"\\u5728\\u65B0\\u9875\\u9762\\u6253\\u5F00\",\n      icon: {\n        prefix: 'nocodeplatformicon',\n        type: 'zhankai2'\n      }\n    }) : /*#__PURE__*/_react.default.createElement(_WebUI.BtnField, {\n      onClick: handleOpenNewTab,\n      \"data-nc-action\": (0, _concat.default)(_context18 = \"\".concat(appId, \"|\")).call(_context18, targetFormId, \"|tb_np\"),\n      type: \"text\",\n      className: _PopBill.default.actions_item,\n      text: \"\\u5728\\u65B0\\u9875\\u9762\\u6253\\u5F00\",\n      icon: {\n        prefix: 'nocodeplatformicon',\n        type: 'zhankai2'\n      }\n    })));\n  }, [openPath, isEdit, billTitle, isNew, config, curPkId, hasFlow, closeHandle, showShare, allowNoAuth, Status]);\n\n  // BOS挂载上后, 获取表单状态\n  var onRef = (0, _react.useCallback)(function (e) {\n    if (e) {\n      // 这里不能用ref挂载，ref作为props传入子组件有可能不更新\n      setBosApi(e);\n      var _status = e === null || e === void 0 ? void 0 : e.getPageStatus();\n      _status && setStatus(_status);\n    }\n  }, []);\n\n  // 保存的回调函数\n  var saveCallback = (0, _react.useCallback)(function (actions, addAndNew) {\n    !addAndNew && closeHandle(false);\n    bosFocus.current = false;\n    onRefresh === null || onRefresh === void 0 || onRefresh();\n  }, [onRefresh, closeHandle]);\n\n  // 删除的回调函数\n  var delCallback = (0, _react.useCallback)(function () {\n    closeHandle(false);\n    // 处理选中行被删，更新已选条数\n    onRefresh === null || onRefresh === void 0 || onRefresh({\n      type: 'delete',\n      params: {\n        pkId: curPkId\n      }\n    });\n  }, [onRefresh, closeHandle, curPkId]);\n\n  // 复制的回调函数\n  var copyCallback = (0, _react.useCallback)(function () {\n    setApprovalData([]);\n    bosFocus.current = false;\n  }, [onRefresh, closeHandle, curPkId]);\n\n  // 表单状态变化的回调函数\n  var onStatusChange = (0, _react.useCallback)(function (info) {\n    setStatus(info);\n  }, []);\n\n  // 合并配置信息\n  var bosConfig = (0, _react.useMemo)(function () {\n    var options = _objectSpread(_objectSpread({}, config), {}, {\n      pkId: curPkId\n    });\n    if (taskId) {\n      options.taskId = taskId;\n    }\n    return options;\n  }, [config, curPkId]);\n\n  // 返回关闭弹窗内容\n  var confirmText = (0, _react.useMemo)(function () {\n    if (status === 'addNew') {\n      return {\n        title: '您录入的内容未提交，是否返回提交？',\n        submitBtnTxt: '返回提交'\n      };\n    } else {\n      return {\n        title: '您编辑的内容未保存，是否返回保存？',\n        submitBtnTxt: '返回保存'\n      };\n    }\n  }, [status]);\n\n  // console.log('popbill', pkId, curPkId, config, status)\n\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_kdesign.Drawer, {\n    placement: \"right\",\n    visible: visible,\n    keyboard: false,\n    onClose: closeHandle,\n    title: BillHeader,\n    width: hasFlow ? 1180 : 860,\n    destroyOnClose: true,\n    className: _PopBill.default.pop_bill\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _PopBill.default.main,\n    style: {\n      background: bgc\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _PopBill.default.bill,\n    onFocusCapture: function onFocusCapture() {\n      bosFocus.current = true;\n    }\n  }, /*#__PURE__*/_react.default.createElement(_NocodeEntry.default, {\n    onRef: onRef,\n    config: bosConfig,\n    options: {\n      onStatusChange: onStatusChange,\n      sendUiData: sendUiData,\n      rootConfig: state.rootConfig\n    }\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _PopBill.default.flow\n  }, hasFlow ? /*#__PURE__*/_react.default.createElement(_FlowListLayout.default, {\n    data: approvalData,\n    taskId: taskId,\n    config: bosConfig,\n    setFormLock: setFormLock,\n    onSubmit: refreshDatas,\n    bosApi: bosApi\n  }) : null)), /*#__PURE__*/_react.default.createElement(_FormDetailFooterLayout.default, {\n    status: status,\n    disabled: disabled,\n    disabledCb: disabledCb,\n    bosApi: bosApi,\n    authList: {\n      deleteAuth: showDelete,\n      inputAuth: showCopy,\n      editAuth: showEdit,\n      viewAuth: viewAuth\n    },\n    config: bosConfig,\n    isSharePage: false,\n    formLock: formLock,\n    newPkId: curPkId,\n    extraButton: function extraButton() {\n      return /*#__PURE__*/_react.default.createElement(_PopBillTurnPage.default, {\n        billList: billList,\n        curPkId: curPkId,\n        setCurPkId: setCurPkId,\n        createUiActionDataStr: createUiActionDataStr\n      });\n    },\n    setStatus: setStatus,\n    copyCallback: copyCallback,\n    delCallback: delCallback,\n    saveCallback: saveCallback\n  })), modalVisible && /*#__PURE__*/_react.default.createElement(_WebUI.ConfirmModal, {\n    type: \"warning\",\n    visible: modalVisible,\n    title: confirmText.title,\n    actions: [{\n      key: 'cancel',\n      text: '直接退出'\n    }, {\n      key: 'ok',\n      text: confirmText.submitBtnTxt\n    }],\n    onAction: onModalAction\n  }));\n});\nPopNocodeEntry.displayName = 'PopBill';\nvar _default = exports[\"default\"] = PopNocodeEntry;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9hcHBzL1BvcEJpbGwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUExQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUtBOztBQUVBOztBQUVBOztBQWdDQTtBQWlCQTtBQWZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFLQTtBQUVBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi9zcmMvd2ViL2NvbXBvbmVudC9hcHBzL1BvcEJpbGwudHN4PzI4NWUiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IOmZiOaZk+WzsFxuICogQERhdGU6IDIwMjItMDgtMjkgMTU6NDg6NDlcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDktMjAgMTY6MzQ6MzZcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSwgbWVtbywgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuLy8gaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcbi8vIGltcG9ydCB7IGRlbGV0ZUZvcm1EYXRhTGlzdEl0ZW0gfSBmcm9tICdAL2FjdGlvbnMvYXBwcydcbmltcG9ydCB7IGlzRWRpdFN0YXR1cywgc2hvd05vdGljZSwgb3Blbm5lciB9IGZyb20gJ0AvdXRpbHMnXG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9Qb3BCaWxsLmxlc3MnXG5pbXBvcnQgeyBEcmF3ZXIgfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgU2hhcmVCdXR0b24gZnJvbSAnLi4vY29tbW9uL1NoYXJlQnV0dG9uJ1xuaW1wb3J0IHsgQnRuRmllbGQgYXMgQnV0dG9uLCBDb25maXJtTW9kYWwgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuaW1wb3J0IFBvcEJpbGxUdXJuUGFnZSBmcm9tICcuL1BvcEJpbGxUdXJuUGFnZSdcbmltcG9ydCBGbG93TGlzdExheW91dCBmcm9tICdAL3dlYi9sYXlvdXQvYXBwcy9GbG93TGlzdExheW91dCdcbmltcG9ydCB1c2VGb3JtQmFja2dyb3VuZCBmcm9tICdAL2hvb2tzL3VzZUZvcm1CYWNrZ3JvdW5kJ1xuaW1wb3J0IHsgZ2V0QXBwcm92YWxJbmZvIH0gZnJvbSAnQC9hY3Rpb25zL2FwcHMnXG5pbXBvcnQgRm9ybURldGFpbEZvb3RlckxheW91dCBmcm9tICdAL3dlYi9sYXlvdXQvYXBwcy9Gb3JtRGV0YWlsRm9vdGVyTGF5b3V0J1xuLy8gaW1wb3J0IHsgcHJpbnRDb250ZW50LCBwcmludFdyYXBwZXIgfSBmcm9tICdAL3V0aWxzL3ByaW50J1xuLy8gaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSdcbi8vIGltcG9ydCBRUkNvZGUgZnJvbSAnLi4vY29tbW9uL1FSQ29kZSdcbi8vIGltcG9ydCB7IENvbnRleHQgfSBmcm9tICdAL2FwcCdcbmltcG9ydCB1c2VGb3JtTWV0YSBmcm9tICdAL2hvb2tzL3VzZUZvcm1NZXRhJ1xuaW1wb3J0IHVzZUFwcENvbnRleHQgZnJvbSAnQC9ob29rcy91c2VBcHBDb250ZXh0J1xuaW1wb3J0IHsgQXV0aG9yaXplQ29udGV4dCB9IGZyb20gJy4uL2NvbW1vbi9Gb3JtRGF0YUxpc3RBdXRoUHJvdmlkZXInXG5pbXBvcnQgTm9jb2RlRW50cnkgZnJvbSAnLi4vY29tbW9uL05vY29kZUVudHJ5J1xuLy8gaW1wb3J0IHsgUG9wQmlsbFNrZWxldG9uIH0gZnJvbSAnQC93ZWIvY29tcG9uZW50L3NrZWxldG9uL1BvcEJpbGxTa2VsZXRvbidcblxuLy8gY29uc3QgTm9jb2RlRW50cnkgPSBsYXp5KCgpID0+IGltcG9ydCgnYm9zX2NvcmUvTWFpbicpKVxuXG4vLyBjb25zdCBQQUdFX1NUQVRVUyA9IFsnYWRkTmV3JywgJ2VkaXQnLCAndmlldyddXG5cbmludGVyZmFjZSBCaWxsQ29uZmlnUHJvcHN7XG4gIGFwcElkPzpzdHJpbmc7XG4gIHRhcmdldEZvcm1JZD86c3RyaW5nO1xuICBwa0lkPzpzdHJpbmc7XG4gIFN0YXR1cz86IHN0cmluZztcbiAgcHJvY0luc3RJZD86IHN0cmluZzsgLy8g5rWB56iL5a6e5L6L57yW56CBXG4gIHVzZXJUYXNrQWN0aXZpdHlJZDpzdHJpbmc7XG4gIHVzZXJUYXNrQnVzaW5lc3NLZXk6c3RyaW5nO1xuICB1c2VyVGFza0N1cnJlbnRVc2VySWQ6c3RyaW5nO1xuICB0YXNrSWQ6c3RyaW5nO1xufVxuaW50ZXJmYWNlIFBvcE5vY29kZUVudHJ5UHJvcHN7XG4gIGNvbmZpZzpCaWxsQ29uZmlnUHJvcHM7XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIHNob3dEZWxldGU/OmJvb2xlYW4sXG4gIHNob3dFZGl0Pzpib29sZWFuLFxuICBzaG93Q29weT86Ym9vbGVhbixcbiAgdmlld0F1dGg/OiBib29sZWFuLFxuICBlZGl0U2hhcmU/OiBib29sZWFuLFxuICBkZXRhaWxTaGFyZVJlcWlyZUxvZ2luOiBib29sZWFuLFxuICBkZXRhaWxTaGFyZU5vdFJlcWlyZUxvZ2luOiBib29sZWFuLFxuICBpbnB1dFNoYXJlUmVxaXJlTG9naW46IGJvb2xlYW4sXG4gIGlucHV0U2hhcmVOb3RSZXFpcmVMb2dpbjogYm9vbGVhbixcbiAgY2xvc2U/OiAoKT0+dm9pZDtcbiAgb25SZWZyZXNoPzogKG9wZXJhdGlvbj86IHsgdHlwZTogJ2RlbGV0ZScsIHBhcmFtcz86IHsgcGtJZDogc3RyaW5nIH0gfSk9PnZvaWQ7XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgZGlzYWJsZWRNc2c/OiBzdHJpbmc7XG4gIGJpbGxMaXN0PzogeyBpZDogU3RyaW5nIH1bXVxufVxuXG5jb25zdCBQb3BOb2NvZGVFbnRyeSA9IG1lbW8oKHtcbiAgY29uZmlnLFxuICBvblJlZnJlc2gsXG4gIGRpc2FibGVkLFxuICBkaXNhYmxlZE1zZyxcbiAgYmlsbExpc3QsXG4gIHZpc2libGUsXG4gIHNob3dEZWxldGUsXG4gIHNob3dFZGl0LFxuICBzaG93Q29weSxcbiAgdmlld0F1dGgsXG4gIGNsb3NlLFxuICBlZGl0U2hhcmUsXG4gIGRldGFpbFNoYXJlUmVxaXJlTG9naW4sXG4gIGRldGFpbFNoYXJlTm90UmVxaXJlTG9naW4sXG4gIGlucHV0U2hhcmVSZXFpcmVMb2dpbixcbiAgaW5wdXRTaGFyZU5vdFJlcWlyZUxvZ2luXG59OiBQb3BOb2NvZGVFbnRyeVByb3BzKSA9PiB7XG4gIGNvbnN0IGJvc1JlZiA9IHVzZVJlZjxhbnk+KG51bGwpXG4gIC8vIGNvbnN0IGNoZWNrYm94UmVmID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3QgeyBhcHBJZCwgdGFyZ2V0Rm9ybUlkLCBwa0lkLCBTdGF0dXMsIHByb2NJbnN0SWQsIHVzZXJUYXNrQWN0aXZpdHlJZCwgdXNlclRhc2tCdXNpbmVzc0tleSwgdXNlclRhc2tDdXJyZW50VXNlcklkLCB0YXNrSWQgfSA9IGNvbmZpZ1xuICBjb25zdCBbY3VyUGtJZCwgc2V0Q3VyUGtJZF0gPSB1c2VTdGF0ZShwa0lkKVxuICBjb25zdCBbc3RhdHVzLCBzZXRTdGF0dXNdID0gdXNlU3RhdGUoU3RhdHVzKVxuICBjb25zdCBbbW9kYWxWaXNpYmxlLCBzZXRNb2RhbFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpIC8vIOW8ueeql1xuICAvLyBjb25zdCBbaXNOZXcsIHNldElzTmV3XSA9IHVzZVN0YXRlKFN0YXR1cyA9PT0gJ2FkZE5ldycpIC8vIOaYr+WQpuW9leWFpVxuICAvLyBjb25zdCBbaXNFZGl0LCBzZXRJc0VkaXRdID0gdXNlU3RhdGUoU3RhdHVzID09PSAnYWRkTmV3JyB8fCBTdGF0dXMgPT09ICdlZGl0JykgLy8g5piv5ZCm57yW6L6R5oCBXG4gIGNvbnN0IFthcHByb3ZhbERhdGEsIHNldEFwcHJvdmFsRGF0YV0gPSB1c2VTdGF0ZShbXSkgLy8g5a6h5om55YiX6KGoXG4gIGNvbnN0IFtmb3JtTG9jaywgc2V0Rm9ybUxvY2tdID0gdXNlU3RhdGUoZmFsc2UpIC8vIOWuoeaJueWIl+ihqFxuICBjb25zdCBib3NGb2N1cyA9IHVzZVJlZihmYWxzZSkgLy8gYm9z5piv5ZCm5pyJ6I6354Sm54K5XG4gIGNvbnN0IFtib3NBcGksIHNldEJvc0FwaV0gPSB1c2VTdGF0ZTxhbnk+KG51bGwpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnN0IGNyZWF0ZVVpQWN0aW9uRGF0YVN0ciA9IHVzZUNhbGxiYWNrKChhY3Rpb25OYW1lOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gYCR7YXBwSWR9fCR7dGFyZ2V0Rm9ybUlkfXwke2FjdGlvbk5hbWV9YFxuICB9LCBbYXBwSWQsIHRhcmdldEZvcm1JZF0pXG5cbiAgLy8g5b2T5YmN6IqC54K577yM5b2V5YWl6IqC54K55pe25b2V5YWl6KGo5Y2V5LiO6Kem5Y+R6KGo5Y2V5LiN5LiA5qC377yM6Ie05L2/6IOM5pmv5Ye6546w5pat5bGC6Zeu6aKYXG4gIGNvbnN0IGZvcm1JZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICh1c2VyVGFza0FjdGl2aXR5SWQgJiYgdXNlclRhc2tCdXNpbmVzc0tleSAmJiB1c2VyVGFza0N1cnJlbnRVc2VySWQpIHsgLy8g5aaC5p6c5piv5b2V5YWl6IqC54K5XG4gICAgICBjb25zdCBwcm9jOmFueSA9IGFwcHJvdmFsRGF0YS5maW5kKChpdGVtOmFueSkgPT4gaXRlbS5wcm9jSW5zdElkID09PSBwcm9jSW5zdElkKVxuICAgICAgY29uc3Qgbm9kZSA9IHByb2M/LmFwcHJvdmFsSW5mbz8uZmluZCgoaXRlbTphbnkpID0+IGl0ZW0udGFza0lkID09PSB0YXNrSWQpXG4gICAgICByZXR1cm4gbm9kZT8ubm9kZUVudGl0eU51bWJlclxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGFyZ2V0Rm9ybUlkXG4gICAgfVxuICB9LCBbYXBwcm92YWxEYXRhLCBwcm9jSW5zdElkLCB0YXNrSWQsIHRhcmdldEZvcm1JZCwgdXNlclRhc2tBY3Rpdml0eUlkLCB1c2VyVGFza0J1c2luZXNzS2V5LCB1c2VyVGFza0N1cnJlbnRVc2VySWRdKVxuXG4gIGNvbnN0IGJnYyA9IHVzZUZvcm1CYWNrZ3JvdW5kKGZvcm1JZCkgLy8g6KGo5Y2V6IOM5pmv6aKc6ImyXG4gIGNvbnN0IGhhc0Zsb3cgPSB1c2VNZW1vKCgpID0+IGFwcHJvdmFsRGF0YS5sZW5ndGggPiAwLCBbYXBwcm92YWxEYXRhXSkgLy8g5Yik5pat5piv5ZCm5pi+56S65rWB56iL5YiX6KGoXG4gIGNvbnN0IHsgc3RhdGUsIHNlbmRVaURhdGEgfSA9IHVzZUFwcENvbnRleHQoKVxuICBjb25zdCBtZXRhID0gdXNlRm9ybU1ldGEodGFyZ2V0Rm9ybUlkKVxuICBjb25zdCBtZXRhUmVmID0gdXNlUmVmKClcbiAgY29uc3QgYXV0aENvbnRleHQgPSB1c2VDb250ZXh0KEF1dGhvcml6ZUNvbnRleHQpIHx8IHt9XG4gIGNvbnN0IHsgYXV0aExpc3QgfSA9IGF1dGhDb250ZXh0XG4gIGNvbnN0IHsgcHJpbnRBdXRoIH0gPSBhdXRoTGlzdCB8fCB7fVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbWV0YVJlZi5jdXJyZW50ID0gbWV0YVxuICB9LCBbbWV0YV0pXG5cbiAgLy8g5YW85a6557uE5Lu255u05o6l5byV5YWl5pe277yM5peg5rOV6I635Y+WcGtJZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEN1clBrSWQocGtJZClcbiAgfSwgW3BrSWRdKVxuXG4gIC8vIOe/u+mYheS4i+S4gOadoeiusOW9leaXtu+8jOmHjeaWsExPQUTliqjmgIHooajljZVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBib3NBcGk/LmxvYWRQYWdlPy4oeyAuLi5jb25maWcsIHBrSWQ6IGN1clBrSWQgfSlcbiAgfSwgW2N1clBrSWRdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7IC8vIOeKtuaAgeabtOaWsFxuICAgIHNldFN0YXR1cyhjb25maWcuU3RhdHVzKVxuICB9LCBbY29uZmlnLlN0YXR1c10pXG5cbiAgY29uc3QgaXNFZGl0ID0gdXNlTWVtbygoKSA9PiBpc0VkaXRTdGF0dXMoc3RhdHVzIHx8ICcnKSwgW2lzRWRpdFN0YXR1cywgc3RhdHVzXSkgLy8g5piv5ZCm5b2V5YWlXG4gIGNvbnN0IGlzTmV3ID0gdXNlTWVtbygoKSA9PiBzdGF0dXMgPT09ICdhZGROZXcnLCBbc3RhdHVzXSkgLy8g5piv5ZCm57yW6L6R5oCBXG4gIC8qKlxuICAgKiDor7fmsYLlrqHmibnliJfooahcbiAgICogQHBhcmFtIGVudGl0eU51bWJlciB0YXJnZXRGb3JtSWRcbiAgICogQHBhcmFtIGJ1c2luZXNzS2V5IHBrSWRcbiAgICovXG4gIGNvbnN0IGZldGNoRmxvd0xpc3QgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKVxuICAgIGdldEFwcHJvdmFsSW5mbyh7IGVudGl0eU51bWJlcjogdGFyZ2V0Rm9ybUlkLCBidXNpbmVzc0tleTogY3VyUGtJZCB9KS50aGVuKChyZXM6YW55KSA9PiB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgc2V0QXBwcm92YWxEYXRhKHJlcz8ucm93cyB8fCBbXSlcbiAgICB9KS5jYXRjaCgoKSA9PiB7IHNldExvYWRpbmcoZmFsc2UpIH0pXG4gIH0sIFt0YXJnZXRGb3JtSWQsIGN1clBrSWRdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHRhcmdldEZvcm1JZCAmJiBjdXJQa0lkKSB7IC8vIOiOt+WPluWuoeaguOWIl+ihqFxuICAgICAgZmV0Y2hGbG93TGlzdCgpXG4gICAgfVxuICB9LCBbdGFyZ2V0Rm9ybUlkLCBjdXJQa0lkLCB2aXNpYmxlLCBmZXRjaEZsb3dMaXN0XSlcblxuICAvLyDnlKjmiLflrqHmibnmhI/op4Hmj5DkuqRcbiAgY29uc3QgcmVmcmVzaERhdGFzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIG9uUmVmcmVzaD8uKClcbiAgICBjbG9zZT8uKClcbiAgfSwgW29uUmVmcmVzaF0pXG5cbiAgLy8gLy8g5qOA5p+l5piv5ZCm5oiQ5YqfXG4gIC8vIGNvbnN0IGNoZWNrU3VjY2VzcyA9IHVzZUNhbGxiYWNrKChyZXMpID0+IHtcbiAgLy8gICBjb25zdCByZWcgPSAvXFx7XCJwXCI6XFxbXFx7XCJkdXJhdGlvblwiOihcXFMrKSxcInR5cGVcIjooXFxTKyksXCJjb250ZW50XCI6XCIoXFxTKylcIlxcfVxcXSxcImFcIjpcIihcXFMrKVwiXFx9L1xuICAvLyAgIGNvbnN0IG5vdGljZSA9IEpTT04uc3RyaW5naWZ5KHJlcykubWF0Y2gocmVnKVxuICAvLyAgIHJldHVybiAhIShub3RpY2UgJiYgbm90aWNlPy5bMl0gPT09ICcwJylcbiAgLy8gfSwgW10pXG5cbiAgLy8g5YWz6Zet6Z2i5p2/5YmN5qOA5p+l5piv5ZCm6KaB5L+d5a2Y5YaF5a65XG4gIGNvbnN0IGNsb3NlSGFuZGxlID0gdXNlQ2FsbGJhY2soKGNoZWNrOmJvb2xlYW4gPSB0cnVlKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJylcbiAgICBpZiAoYm9zRm9jdXMuY3VycmVudCAmJiBjaGVjayAmJiAoc3RhdHVzID09PSAnZWRpdCcgfHwgc3RhdHVzID09PSAnYWRkTmV3JykpIHsgLy8g6Iul6KGo5Y2V5YaF5o6n5Lu25pu+57uP5pyJ6IGa54Sm5YiZ6ZyA6KaB5by55Ye65o+Q56S6XG4gICAgICBzZXRNb2RhbFZpc2libGUodHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgY2xvc2U/LigpXG4gICAgfVxuICB9LCBbc3RhdHVzLCBjbG9zZV0pXG5cbiAgLy8g6L+U5Zue6Lez6L2s5Zyw5Z2AXG4gIGNvbnN0IGdldFVybCA9IHVzZUNhbGxiYWNrKChhcHBJZCwgdGFyZ2V0Rm9ybUlkLCBwa0lkLCBzdGF0dXMsIHByb2NJbnN0SWQsIHRhc2tJZCwgdHlwZSkgPT4ge1xuICAgIGlmICh0eXBlID09PSAncHJpbnQnKSB7XG4gICAgICByZXR1cm4gYC8ke2FwcElkfS9wcmludC8ke3RhcmdldEZvcm1JZH0vJHtwa0lkfS92aWV3YFxuICAgIH1cbiAgICAvLyDlpI3liLbml7bvvIzkvb/nlKjnmoTlnLDlnYDlupTor6XmmK/lvZXlhaXnlYzpnaLnmoRcbiAgICBpZiAoIXBrSWQgfHwgaXNOZXcpIHtcbiAgICAgIHJldHVybiBgLyR7YXBwSWR9L2RldGFpbC8ke3RhcmdldEZvcm1JZH1gXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0dXMpIHsgLy8g5omT6KGo6KGo5Y2V55WM6Z2iXG4gICAgICAgIGlmIChwcm9jSW5zdElkKSB7IC8vIOaJk+W8gOa1geeoi+ivpuaDheeVjOmdolxuICAgICAgICAgIGNvbnN0IHN0ciA9IGAvJHthcHBJZH0vZGV0YWlsLyR7dGFyZ2V0Rm9ybUlkfS8ke3BrSWR9LyR7c3RhdHVzfS9mbG93LyR7cHJvY0luc3RJZH1gXG4gICAgICAgICAgcmV0dXJuIHRhc2tJZCA/IGAke3N0cn0vdGFzay8ke3Rhc2tJZH1gIDogc3RyXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAvJHthcHBJZH0vZGV0YWlsLyR7dGFyZ2V0Rm9ybUlkfS8ke3BrSWR9LyR7c3RhdHVzfWBcbiAgICAgIH1cbiAgICAgIHJldHVybiBgLyR7YXBwSWR9L2RldGFpbC8ke3RhcmdldEZvcm1JZH0vJHtwa0lkfWBcbiAgICB9XG4gIH0sIFtpc05ld10pXG5cbiAgY29uc3QgZGlzYWJsZWRDYiA9IHVzZUNhbGxiYWNrKCgpID0+IHNob3dOb3RpY2UoJ2Vycm9yJywgZGlzYWJsZWRNc2cpLCBbXSlcblxuICAvLyDliIbkuqtcbiAgY29uc3QgaGFuZGxlQ2xpY2tTaGFyZSA9IGRpc2FibGVkID8gZGlzYWJsZWRDYiA6IHVuZGVmaW5lZFxuXG4gIGNvbnN0IG9wZW5QYXRoID0gZ2V0VXJsKGFwcElkLCB0YXJnZXRGb3JtSWQsIGN1clBrSWQsIHN0YXR1cywgcHJvY0luc3RJZCwgdGFza0lkLCAnJylcblxuICBjb25zdCBvcGVuUHJpbnRQYXRoID0gZ2V0VXJsKGFwcElkLCB0YXJnZXRGb3JtSWQsIGN1clBrSWQsIHN0YXR1cywgcHJvY0luc3RJZCwgdGFza0lkLCAncHJpbnQnKVxuXG4gIC8vIOWIhuS6q+W8ueeql+eahOagh+mimFxuICBjb25zdCBzaGFyZU1vZGFsVGl0bGUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIWN1clBrSWQpIHJldHVybiAnJ1xuICAgIGlmIChpc0VkaXQpIHJldHVybiAn57yW6L6RJ1xuICAgIHJldHVybiAn6K+m5oOFJ1xuICB9LCBbY3VyUGtJZCwgaXNFZGl0XSlcblxuICAvLyDmmK/lkKbmmL7npLrliIbkuqvmjInpkq5cbiAgY29uc3Qgc2hvd1NoYXJlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGlzRWRpdFxuICAgICAgPyBpc05ld1xuICAgICAgICAgID8gaW5wdXRTaGFyZU5vdFJlcWlyZUxvZ2luIHx8IGlucHV0U2hhcmVSZXFpcmVMb2dpblxuICAgICAgICAgIDogZWRpdFNoYXJlXG4gICAgICA6IGRldGFpbFNoYXJlUmVxaXJlTG9naW4gfHwgZGV0YWlsU2hhcmVOb3RSZXFpcmVMb2dpblxuICB9LCBbaXNOZXcsIGlzRWRpdCwgZWRpdFNoYXJlLCBkZXRhaWxTaGFyZVJlcWlyZUxvZ2luLCBkZXRhaWxTaGFyZU5vdFJlcWlyZUxvZ2luLCBpbnB1dFNoYXJlTm90UmVxaXJlTG9naW4sIGlucHV0U2hhcmVSZXFpcmVMb2dpbl0pXG5cbiAgY29uc3Qgc2hvd1ByaW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHByaW50QXV0aCAmJiBzdGF0dXMgPT09ICd2aWV3JyAmJiAhcHJvY0luc3RJZFxuICB9LCBbc3RhdHVzLCBwcmludEF1dGhdKVxuXG4gIC8vIOaYr+WQpuWFjeeZu+mZhu+8iOivpuaDheWSjOW9leWFpeeahOaXtuWAmeaJjemcgOimge+8iVxuICBjb25zdCBhbGxvd05vQXV0aCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBzdGF0dXMgPT09ICd2aWV3JyB8fCBpc05ld1xuICB9LCBbc3RhdHVzLCBpc05ld10pXG5cbiAgY29uc3QgaGFuZGxlT3Blbk5ld1RhYiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBvcGVubmVyKG9wZW5QYXRoKVxuICAgIGNsb3NlSGFuZGxlKGZhbHNlKVxuICB9LCBbb3BlblBhdGgsIGRpc2FibGVkTXNnLCBjbG9zZUhhbmRsZV0pXG5cbiAgLy8g5YWz6Zet5by556qX5LqL5Lu2XG4gIGNvbnN0IG9uTW9kYWxBY3Rpb24gPSB1c2VDYWxsYmFjaygoa2V5OnN0cmluZykgPT4ge1xuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlICdvayc6XG4gICAgICAgIHNldE1vZGFsVmlzaWJsZShmYWxzZSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NhbmNlbCc6XG4gICAgICAgIHNldE1vZGFsVmlzaWJsZShmYWxzZSlcbiAgICAgICAgY2xvc2U/LigpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9LCBbY2xvc2VdKVxuXG4gIGNvbnN0IGhhbmRsZUNsaWNrUHJpbnQgPSAoKSA9PiB7XG4gICAgaWYgKGRpc2FibGVkKSByZXR1cm4gc2hvd05vdGljZSgnZXJyb3InLCBkaXNhYmxlZE1zZylcbiAgICAvKiBjb25zdCBmb3JtRG9tcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2tkLW5jLWdyaWQtcGFuZWwnKVxuICAgIGNvbnN0IGRvbSA9IGZvcm1Eb21zPy5bMF1cbiAgICBjb25zdCBmdWxsTGluayA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyBnZXRGdWxsVXJsKGBub2NvZGUvaC8ke2FwcElkfS9kZXRhaWwvJHt0YXJnZXRGb3JtSWR9LyR7cGtJZH0vdmlld2ApXG4gICAgY29uc3QgcXJXcmFwcGVyID0gPFFSQ29kZSBjbGFzcz0ncXJjb2RlJyB2YWx1ZT17ZnVsbExpbmt9IHNpemU9ezgwfSAvPlxuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgUmVhY3RET00ucmVuZGVyKHFyV3JhcHBlciwgZGl2KVxuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBxckRvbSA9IGRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdxcmNvZGUnKVxuICAgICAgY29uc3QgcXJDb2RlU3JjID0gcXJEb21bMF0/LnRvRGF0YVVSTCgnaW1hZ2UvcG5nJylcbiAgICAgIGNvbnN0IHdyYXBwZXIgPSBwcmludFdyYXBwZXIoeyB0aXRsZTogbWV0YVJlZj8uY3VycmVudD8uY2FwdGlvbj8uemhfQ04sIGNoaWxkcmVuOiBkb20uaW5uZXJIVE1MLCBxckNvZGVTcmMsIGNvbXBhbnk6IHN0YXRlPy51c2VySW5mbz8ub3Jncz8uWzBdPy5vcmdOYW1lIH0pXG4gICAgICBpZiAoZG9tKSB7XG4gICAgICAgIHByaW50Q29udGVudCh3cmFwcGVyKVxuICAgICAgfVxuICAgIH0pICovXG4gICAgb3Blbm5lcihvcGVuUHJpbnRQYXRoKVxuICAgIGNsb3NlSGFuZGxlKGZhbHNlKVxuICB9XG4gIC8vIOaKveWxieWktOmDqOagh+mimFxuICBjb25zdCBiaWxsVGl0bGUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gaXNFZGl0ID8gaXNOZXcgfHwgKHVzZXJUYXNrQWN0aXZpdHlJZCAmJiB1c2VyVGFza0J1c2luZXNzS2V5ICYmIHVzZXJUYXNrQ3VycmVudFVzZXJJZCkgPyAn5b2V5YWlJyA6ICfnvJbovpEnIDogJ+ivpuaDhSdcbiAgfSwgW2lzRWRpdCwgaXNOZXddKVxuXG4gIC8vIOaKveWxieWktOmDqOaMiemSrlxuICBjb25zdCBCaWxsSGVhZGVyID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZS5uYXZ9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGUudGl0bGV9PntiaWxsVGl0bGV9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZS5hY3Rpb25zfT5cbiAgICAgICAgICB7XG4gICAgICAgICAgICBzaG93UHJpbnQgJiYgPEJ1dHRvbiBjbGFzc05hbWU9e3N0eWxlLmFjdGlvbnNfaXRlbX0gdHlwZT0ndGV4dCcgZGF0YS1uYy1hY3Rpb249e2Ake2FwcElkfXwke3RhcmdldEZvcm1JZH18dGJfZW50ZXJwcmludGB9IG9uQ2xpY2s9e2hhbmRsZUNsaWNrUHJpbnR9IHRleHQ9J+aJk+WNsCcgaWNvbj17eyBwcmVmaXg6ICdub2NvZGVwbGF0Zm9ybWljb24nLCB0eXBlOiAnZGF5aW4nIH19IC8+XG4gICAgICAgICAgfVxuICAgICAgICAgIHtzaG93U2hhcmUgJiYgPFNoYXJlQnV0dG9uXG4gICAgICAgICAgICBjb25maWc9e3sgLi4uY29uZmlnLCBwa0lkOiBjdXJQa0lkLCBTdGF0dXM6IHN0YXR1cyB9fVxuICAgICAgICAgICAgYWxsb3dOb0F1dGg9e2FsbG93Tm9BdXRofVxuICAgICAgICAgICAgc2hhcmVMaW5rPXtbJy8nLCBCQVNFX1VSTCwgb3BlblBhdGgsIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2hdLmpvaW4oJycpfVxuICAgICAgICAgICAgbW9kYWxUaXRsZT17c2hhcmVNb2RhbFRpdGxlfVxuICAgICAgICAgICAgaWNvblR5cGU9J2ZlbnhpYW5nLXhpYW4nXG4gICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlLmFjdGlvbnNfaXRlbX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrU2hhcmV9XG4gICAgICAgICAgICBzaGFyZVJlcWlyZUxvZ2luPXtpc0VkaXQgPyBpc05ldyA/IGlucHV0U2hhcmVSZXFpcmVMb2dpbiA6IGVkaXRTaGFyZSA6IGRldGFpbFNoYXJlUmVxaXJlTG9naW59XG4gICAgICAgICAgICBzaGFyZU5vdFJlcWlyZUxvZ2luPXtpc0VkaXQgPyBpc05ldyA/IGlucHV0U2hhcmVOb3RSZXFpcmVMb2dpbiA6IGVkaXRTaGFyZSA6IGRldGFpbFNoYXJlTm90UmVxaXJlTG9naW59XG4gICAgICAgICAgICBpc0RldGFpbFxuICAgICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAge3Byb2NJbnN0SWRcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiBkaXNhYmxlZFxuICAgICAgICAgICAgICA/IChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzaG93Tm90aWNlKCdlcnJvcicsIGRpc2FibGVkTXNnKX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtbmMtYWN0aW9uPXtgJHthcHBJZH18JHt0YXJnZXRGb3JtSWR9fHRiX25wYH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlLmFjdGlvbnNfaXRlbX1cbiAgICAgICAgICAgICAgICAgIHRleHQ9J+WcqOaWsOmhtemdouaJk+W8gCdcbiAgICAgICAgICAgICAgICAgIGljb249e3sgcHJlZml4OiAnbm9jb2RlcGxhdGZvcm1pY29uJywgdHlwZTogJ3poYW5rYWkyJyB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVPcGVuTmV3VGFifVxuICAgICAgICAgICAgICAgICAgZGF0YS1uYy1hY3Rpb249e2Ake2FwcElkfXwke3RhcmdldEZvcm1JZH18dGJfbnBgfVxuICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGUuYWN0aW9uc19pdGVtfVxuICAgICAgICAgICAgICAgICAgdGV4dD0n5Zyo5paw6aG16Z2i5omT5byAJ1xuICAgICAgICAgICAgICAgICAgaWNvbj17eyBwcmVmaXg6ICdub2NvZGVwbGF0Zm9ybWljb24nLCB0eXBlOiAnemhhbmthaTInIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgIHsvKiA8QnV0dG9uIG9uQ2xpY2s9e2Nsb3NlSGFuZGxlfSB0eXBlPSd0ZXh0Jz5cbiAgICAgICAgICAgIDxJY29uIHByZWZpeD0nbm9jb2RlcGxhdGZvcm1pY29uJyB0eXBlPSdndWFuYmknIC8+XG4gICAgICAgICAgPC9CdXR0b24+ICovfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSwgW29wZW5QYXRoLCBpc0VkaXQsIGJpbGxUaXRsZSwgaXNOZXcsIGNvbmZpZywgY3VyUGtJZCwgaGFzRmxvdywgY2xvc2VIYW5kbGUsIHNob3dTaGFyZSwgYWxsb3dOb0F1dGgsIFN0YXR1c10pXG5cbiAgLy8gQk9T5oyC6L295LiK5ZCOLCDojrflj5booajljZXnirbmgIFcbiAgY29uc3Qgb25SZWYgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgIGlmIChlKSB7XG4gICAgICAvLyDov5nph4zkuI3og73nlKhyZWbmjILovb3vvIxyZWbkvZzkuLpwcm9wc+S8oOWFpeWtkOe7hOS7tuacieWPr+iDveS4jeabtOaWsFxuICAgICAgc2V0Qm9zQXBpKGUpXG4gICAgICBjb25zdCBzdGF0dXMgPSBlPy5nZXRQYWdlU3RhdHVzKClcbiAgICAgIHN0YXR1cyAmJiBzZXRTdGF0dXMoc3RhdHVzKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8g5L+d5a2Y55qE5Zue6LCD5Ye95pWwXG4gIGNvbnN0IHNhdmVDYWxsYmFjayA9IHVzZUNhbGxiYWNrKChhY3Rpb25zOmFueSwgYWRkQW5kTmV3OmJvb2xlYW4pID0+IHtcbiAgICAhYWRkQW5kTmV3ICYmIGNsb3NlSGFuZGxlKGZhbHNlKVxuICAgIGJvc0ZvY3VzLmN1cnJlbnQgPSBmYWxzZVxuICAgIG9uUmVmcmVzaD8uKClcbiAgfSwgW29uUmVmcmVzaCwgY2xvc2VIYW5kbGVdKVxuXG4gIC8vIOWIoOmZpOeahOWbnuiwg+WHveaVsFxuICBjb25zdCBkZWxDYWxsYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjbG9zZUhhbmRsZShmYWxzZSlcbiAgICAvLyDlpITnkIbpgInkuK3ooYzooqvliKDvvIzmm7TmlrDlt7LpgInmnaHmlbBcbiAgICBvblJlZnJlc2g/Lih7IHR5cGU6ICdkZWxldGUnLCBwYXJhbXM6IHsgcGtJZDogY3VyUGtJZCB9IH0pXG4gIH0sIFtvblJlZnJlc2gsIGNsb3NlSGFuZGxlLCBjdXJQa0lkXSlcblxuICAvLyDlpI3liLbnmoTlm57osIPlh73mlbBcbiAgY29uc3QgY29weUNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEFwcHJvdmFsRGF0YShbXSlcbiAgICBib3NGb2N1cy5jdXJyZW50ID0gZmFsc2VcbiAgfSwgW29uUmVmcmVzaCwgY2xvc2VIYW5kbGUsIGN1clBrSWRdKVxuXG4gIC8vIOihqOWNleeKtuaAgeWPmOWMlueahOWbnuiwg+WHveaVsFxuICBjb25zdCBvblN0YXR1c0NoYW5nZSA9IHVzZUNhbGxiYWNrKChpbmZvOmFueSkgPT4ge1xuICAgIHNldFN0YXR1cyhpbmZvKVxuICB9LCBbXSlcblxuICAvLyDlkIjlubbphY3nva7kv6Hmga9cbiAgY29uc3QgYm9zQ29uZmlnID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uY29uZmlnLCBwa0lkOiBjdXJQa0lkIH1cbiAgICBpZiAodGFza0lkKSB7XG4gICAgICBvcHRpb25zLnRhc2tJZCA9IHRhc2tJZFxuICAgIH1cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9LCBbY29uZmlnLCBjdXJQa0lkXSlcblxuICAvLyDov5Tlm57lhbPpl63lvLnnqpflhoXlrrlcbiAgY29uc3QgY29uZmlybVRleHQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoc3RhdHVzID09PSAnYWRkTmV3Jykge1xuICAgICAgcmV0dXJuIHsgdGl0bGU6ICfmgqjlvZXlhaXnmoTlhoXlrrnmnKrmj5DkuqTvvIzmmK/lkKbov5Tlm57mj5DkuqTvvJ8nLCBzdWJtaXRCdG5UeHQ6ICfov5Tlm57mj5DkuqQnIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHsgdGl0bGU6ICfmgqjnvJbovpHnmoTlhoXlrrnmnKrkv53lrZjvvIzmmK/lkKbov5Tlm57kv53lrZjvvJ8nLCBzdWJtaXRCdG5UeHQ6ICfov5Tlm57kv53lrZgnIH1cbiAgICB9XG4gIH0sIFtzdGF0dXNdKVxuXG4gIC8vIGNvbnNvbGUubG9nKCdwb3BiaWxsJywgcGtJZCwgY3VyUGtJZCwgY29uZmlnLCBzdGF0dXMpXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPERyYXdlclxuICAgICAgICBwbGFjZW1lbnQ9J3JpZ2h0J1xuICAgICAgICB2aXNpYmxlPXt2aXNpYmxlfVxuICAgICAgICBrZXlib2FyZD17ZmFsc2V9XG4gICAgICAgIG9uQ2xvc2U9e2Nsb3NlSGFuZGxlfVxuICAgICAgICB0aXRsZT17QmlsbEhlYWRlcn1cbiAgICAgICAgd2lkdGg9e2hhc0Zsb3cgPyAxMTgwIDogODYwfVxuICAgICAgICBkZXN0cm95T25DbG9zZVxuICAgICAgICBjbGFzc05hbWU9e3N0eWxlLnBvcF9iaWxsfVxuICAgICAgPlxuICAgICAgICB7LyogPFNrZWxldG9uIG9wdGlvbnM9e1BvcEJpbGxTa2VsZXRvbn0+PC9Ta2VsZXRvbj4gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZS5tYWlufSBzdHlsZT17eyBiYWNrZ3JvdW5kOiBiZ2MgfX0+XG5cbiAgICAgICAgICB7Lyog5Yqo5oCB6KGo5Y2V77yM5YWz6Zet5pe277yM6Iul6KGo5Y2V5YaF5o6n5Lu25pu+57uP5pyJ6IGa54Sm5YiZ6ZyA6KaB5by55Ye65o+Q56S6ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZS5iaWxsfSBvbkZvY3VzQ2FwdHVyZT17KCkgPT4geyBib3NGb2N1cy5jdXJyZW50ID0gdHJ1ZSB9fT5cbiAgICAgICAgICAgIDxOb2NvZGVFbnRyeVxuICAgICAgICAgICAgICBvblJlZj17b25SZWZ9XG4gICAgICAgICAgICAgIGNvbmZpZz17Ym9zQ29uZmlnfVxuICAgICAgICAgICAgICBvcHRpb25zPXt7IG9uU3RhdHVzQ2hhbmdlLCBzZW5kVWlEYXRhLCByb290Q29uZmlnOiBzdGF0ZS5yb290Q29uZmlnIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIOa1geeoi+WIl+ihqCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGUuZmxvd30+XG4gICAgICAgICAgICB7aGFzRmxvdyA/IDxGbG93TGlzdExheW91dCBkYXRhPXthcHByb3ZhbERhdGF9IHRhc2tJZD17dGFza0lkfSBjb25maWc9e2Jvc0NvbmZpZ30gc2V0Rm9ybUxvY2s9e3NldEZvcm1Mb2NrfSBvblN1Ym1pdD17cmVmcmVzaERhdGFzfSBib3NBcGk9e2Jvc0FwaX0gLz4gOiBudWxsfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7Lyog5bqV6YOo6I+c5Y2VICovfVxuICAgICAgICA8Rm9ybURldGFpbEZvb3RlckxheW91dFxuICAgICAgICAgIHN0YXR1cz17c3RhdHVzfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICBkaXNhYmxlZENiPXtkaXNhYmxlZENifVxuICAgICAgICAgIGJvc0FwaT17Ym9zQXBpfVxuICAgICAgICAgIGF1dGhMaXN0PXt7IGRlbGV0ZUF1dGg6IHNob3dEZWxldGUsIGlucHV0QXV0aDogc2hvd0NvcHksIGVkaXRBdXRoOiBzaG93RWRpdCwgdmlld0F1dGggfX1cbiAgICAgICAgICBjb25maWc9e2Jvc0NvbmZpZ31cbiAgICAgICAgICBpc1NoYXJlUGFnZT17ZmFsc2V9XG4gICAgICAgICAgZm9ybUxvY2s9e2Zvcm1Mb2NrfVxuICAgICAgICAgIG5ld1BrSWQ9e2N1clBrSWR9XG4gICAgICAgICAgZXh0cmFCdXR0b249eygpID0+IDxQb3BCaWxsVHVyblBhZ2UgYmlsbExpc3Q9e2JpbGxMaXN0fSBjdXJQa0lkPXtjdXJQa0lkfSBzZXRDdXJQa0lkPXtzZXRDdXJQa0lkfSBjcmVhdGVVaUFjdGlvbkRhdGFTdHI9e2NyZWF0ZVVpQWN0aW9uRGF0YVN0cn0gLz59XG4gICAgICAgICAgc2V0U3RhdHVzPXtzZXRTdGF0dXN9XG4gICAgICAgICAgY29weUNhbGxiYWNrPXtjb3B5Q2FsbGJhY2t9XG4gICAgICAgICAgZGVsQ2FsbGJhY2s9e2RlbENhbGxiYWNrfVxuICAgICAgICAgIHNhdmVDYWxsYmFjaz17c2F2ZUNhbGxiYWNrfVxuICAgICAgICAvPlxuICAgICAgPC9EcmF3ZXI+XG5cbiAgICAgIHsvKiDkv53lrZjnvJbovpHmj5DnpLrmoYYgKi99XG4gICAgICB7bW9kYWxWaXNpYmxlICYmIChcbiAgICAgICAgPENvbmZpcm1Nb2RhbFxuICAgICAgICAgIHR5cGU9J3dhcm5pbmcnXG4gICAgICAgICAgdmlzaWJsZT17bW9kYWxWaXNpYmxlfVxuICAgICAgICAgIHRpdGxlPXtjb25maXJtVGV4dC50aXRsZX1cbiAgICAgICAgICBhY3Rpb25zPXtbeyBrZXk6ICdjYW5jZWwnLCB0ZXh0OiAn55u05o6l6YCA5Ye6JyB9LCB7IGtleTogJ29rJywgdGV4dDogY29uZmlybVRleHQuc3VibWl0QnRuVHh0IH1dfVxuICAgICAgICAgIG9uQWN0aW9uPXtvbk1vZGFsQWN0aW9ufVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKVxufSlcblxuUG9wTm9jb2RlRW50cnkuZGlzcGxheU5hbWUgPSAnUG9wQmlsbCdcblxuZXhwb3J0IGRlZmF1bHQgUG9wTm9jb2RlRW50cnlcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/component/apps/PopBill.tsx\n");

/***/ }),

/***/ "./src/web/component/apps/PopBillTurnPage.tsx":
/*!****************************************************!*\
  !*** ./src/web/component/apps/PopBillTurnPage.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _map = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js\"));\nvar _indexOf = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/index-of */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _kdesign = __webpack_require__(/*! kd_libs/kdesign1 */ \"webpack/container/remote/kd_libs/kdesign1\");\nvar _WebUI = __webpack_require__(/*! nocode_component/WebUI */ \"webpack/container/remote/nocode_component/WebUI\");\nvar _PopBillTurnPage = _interopRequireDefault(__webpack_require__(/*! ./PopBillTurnPage.less */ \"./src/web/component/apps/PopBillTurnPage.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n/**\n * 表单翻页\n * @param param0\n * @returns\n */\nvar PopBillTurnPage = function PopBillTurnPage(_ref) {\n  var _ref$billList = _ref.billList,\n    billList = _ref$billList === void 0 ? [] : _ref$billList,\n    _ref$curPkId = _ref.curPkId,\n    curPkId = _ref$curPkId === void 0 ? '' : _ref$curPkId,\n    _ref$setCurPkId = _ref.setCurPkId,\n    setCurPkId = _ref$setCurPkId === void 0 ? function () {} : _ref$setCurPkId,\n    createUiActionDataStr = _ref.createUiActionDataStr;\n  var _useState = (0, _react.useState)((0, _map.default)(billList).call(billList, function (item) {\n      return item.id;\n    })),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    billPkIdList = _useState2[0],\n    setBillPkIdList = _useState2[1];\n  var billPkIdListLen = billPkIdList.length;\n  (0, _react.useEffect)(function () {\n    // 将[{id: xxx}]转为[xxx, ...]\n    if (billList.length > 0) {\n      setBillPkIdList((0, _map.default)(billList).call(billList, function (item) {\n        return item.id;\n      }));\n    }\n  }, [billList]);\n\n  // 跳到第一个表单\n  var toFirstBillForm = function toFirstBillForm() {\n    if (billPkIdListLen > 1) {\n      var curIndex = (0, _indexOf.default)(billPkIdList).call(billPkIdList, curPkId);\n      var firstIndex = 0;\n      if (curIndex !== firstIndex) {\n        setCurPkId(billPkIdList[firstIndex]);\n      }\n    }\n  };\n\n  // 跳到上一个表单\n  var toPreBillForm = function toPreBillForm() {\n    if (billPkIdListLen > 1) {\n      var curIndex = (0, _indexOf.default)(billPkIdList).call(billPkIdList, curPkId);\n      var preIndex = curIndex - 1; // 上一个index\n      if (preIndex !== -1) {\n        setCurPkId(billPkIdList[preIndex]);\n      }\n    }\n  };\n\n  // 跳到下一个表单\n  var toNextBillForm = function toNextBillForm() {\n    if (billPkIdListLen > 1) {\n      var curIndex = (0, _indexOf.default)(billPkIdList).call(billPkIdList, curPkId);\n      var nextIndex = curIndex + 1; // 下一个index\n      if (nextIndex !== billPkIdListLen) {\n        setCurPkId(billPkIdList[nextIndex]);\n      }\n    }\n  };\n\n  // 跳到最后一个表单\n  var toLastBillForm = function toLastBillForm() {\n    if (billPkIdListLen > 1) {\n      var curIndex = (0, _indexOf.default)(billPkIdList).call(billPkIdList, curPkId);\n      var lastIndex = billPkIdListLen - 1; // 最后一个index\n      if (curIndex !== lastIndex) {\n        setCurPkId(billPkIdList[lastIndex]);\n      }\n    }\n  };\n  var paginationBtnList = [{\n    icon: 'zuiqian',\n    desc: '第一条表单详情',\n    disabled: billPkIdListLen <= 1 || curPkId === billPkIdList[0],\n    userActionName: 'fu_fo_first',\n    onClick: toFirstBillForm\n  }, {\n    icon: 'fangxiangzuo',\n    desc: '上一条详情',\n    disabled: billPkIdListLen <= 1 || curPkId === billPkIdList[0],\n    userActionName: 'fu_fo_prev',\n    onClick: toPreBillForm\n  }, {\n    icon: 'fangxiangyou',\n    desc: '下一条详情',\n    disabled: billPkIdListLen <= 1 || curPkId === billPkIdList[billPkIdListLen - 1],\n    userActionName: 'fu_fo_next',\n    onClick: toNextBillForm\n  }, {\n    icon: 'zuihou',\n    desc: '最后一条详情',\n    disabled: billPkIdListLen <= 1 || curPkId === billPkIdList[billPkIdListLen - 1],\n    userActionName: 'fu_fo_last',\n    onClick: toLastBillForm\n  }];\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: _PopBillTurnPage.default.bill_turnpage\n  }, (0, _map.default)(paginationBtnList).call(paginationBtnList, function (item) {\n    var disabled = item.disabled,\n      desc = item.desc,\n      icon = item.icon,\n      userActionName = item.userActionName,\n      onClick = item.onClick;\n    return /*#__PURE__*/_react.default.createElement(_WebUI.BtnField, {\n      key: icon,\n      disabled: disabled,\n      onClick: onClick,\n      className: _PopBillTurnPage.default.bill_turnpage_btn,\n      size: \"small\",\n      title: desc,\n      \"data-nc-action\": createUiActionDataStr(userActionName)\n    }, /*#__PURE__*/_react.default.createElement(_kdesign.Icon, {\n      prefix: \"nocodeplatformicon\",\n      className: _PopBillTurnPage.default.bill_turnpage_btn_icon,\n      type: icon\n    }));\n  }));\n};\nPopBillTurnPage.displayName = 'PopBillTurnPage';\nvar _default = exports[\"default\"] = PopBillTurnPage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9hcHBzL1BvcEJpbGxUdXJuUGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUpBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFJQTtBQUVBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi9zcmMvd2ViL2NvbXBvbmVudC9hcHBzL1BvcEJpbGxUdXJuUGFnZS50c3g/ODZjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgRkMsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgeyBCdG5GaWVsZCBhcyBCdXR0b24gfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vUG9wQmlsbFR1cm5QYWdlLmxlc3MnXG5cbmludGVyZmFjZSBQb3BCaWxsVHVyblBhZ2VQcm9wc0FwaSB7XG4gIGJpbGxMaXN0PzogeyBpZDogU3RyaW5nIH1bXSxcbiAgY3VyUGtJZD86IFN0cmluZyxcbiAgc2V0Q3VyUGtJZD86IChpZDogU3RyaW5nKSA9PiB2b2lkXG59XG5cbi8qKlxuICog6KGo5Y2V57+76aG1XG4gKiBAcGFyYW0gcGFyYW0wXG4gKiBAcmV0dXJuc1xuICovXG5jb25zdCBQb3BCaWxsVHVyblBhZ2U6IEZDPFBvcEJpbGxUdXJuUGFnZVByb3BzQXBpPiA9ICh7XG4gIGJpbGxMaXN0ID0gW10sXG4gIGN1clBrSWQgPSAnJyxcbiAgc2V0Q3VyUGtJZCA9ICgpID0+IHt9LFxuICBjcmVhdGVVaUFjdGlvbkRhdGFTdHJcbn0pID0+IHtcbiAgY29uc3QgW2JpbGxQa0lkTGlzdCwgc2V0QmlsbFBrSWRMaXN0XSA9IHVzZVN0YXRlPFN0cmluZ1tdPihiaWxsTGlzdC5tYXAoKGl0ZW06IGFueSk6IFN0cmluZyA9PiBpdGVtLmlkKSlcbiAgY29uc3QgYmlsbFBrSWRMaXN0TGVuID0gYmlsbFBrSWRMaXN0Lmxlbmd0aFxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8g5bCGW3tpZDogeHh4fV3ovazkuLpbeHh4LCAuLi5dXG4gICAgaWYgKGJpbGxMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHNldEJpbGxQa0lkTGlzdChiaWxsTGlzdC5tYXAoKGl0ZW06IGFueSk6IFN0cmluZyA9PiBpdGVtLmlkKSlcbiAgICB9XG4gIH0sIFtiaWxsTGlzdF0pXG5cbiAgLy8g6Lez5Yiw56ys5LiA5Liq6KGo5Y2VXG4gIGNvbnN0IHRvRmlyc3RCaWxsRm9ybSA9ICgpID0+IHtcbiAgICBpZiAoYmlsbFBrSWRMaXN0TGVuID4gMSkge1xuICAgICAgY29uc3QgY3VySW5kZXggPSBiaWxsUGtJZExpc3QuaW5kZXhPZihjdXJQa0lkKVxuXG4gICAgICBjb25zdCBmaXJzdEluZGV4ID0gMFxuICAgICAgaWYgKGN1ckluZGV4ICE9PSBmaXJzdEluZGV4KSB7XG4gICAgICAgIHNldEN1clBrSWQoYmlsbFBrSWRMaXN0W2ZpcnN0SW5kZXhdKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOi3s+WIsOS4iuS4gOS4quihqOWNlVxuICBjb25zdCB0b1ByZUJpbGxGb3JtID0gKCkgPT4ge1xuICAgIGlmIChiaWxsUGtJZExpc3RMZW4gPiAxKSB7XG4gICAgICBjb25zdCBjdXJJbmRleCA9IGJpbGxQa0lkTGlzdC5pbmRleE9mKGN1clBrSWQpXG5cbiAgICAgIGNvbnN0IHByZUluZGV4ID0gY3VySW5kZXggLSAxIC8vIOS4iuS4gOS4qmluZGV4XG4gICAgICBpZiAocHJlSW5kZXggIT09IC0xKSB7XG4gICAgICAgIHNldEN1clBrSWQoYmlsbFBrSWRMaXN0W3ByZUluZGV4XSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyDot7PliLDkuIvkuIDkuKrooajljZVcbiAgY29uc3QgdG9OZXh0QmlsbEZvcm0gPSAoKSA9PiB7XG4gICAgaWYgKGJpbGxQa0lkTGlzdExlbiA+IDEpIHtcbiAgICAgIGNvbnN0IGN1ckluZGV4ID0gYmlsbFBrSWRMaXN0LmluZGV4T2YoY3VyUGtJZClcblxuICAgICAgY29uc3QgbmV4dEluZGV4ID0gY3VySW5kZXggKyAxIC8vIOS4i+S4gOS4qmluZGV4XG4gICAgICBpZiAobmV4dEluZGV4ICE9PSBiaWxsUGtJZExpc3RMZW4pIHtcbiAgICAgICAgc2V0Q3VyUGtJZChiaWxsUGtJZExpc3RbbmV4dEluZGV4XSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyDot7PliLDmnIDlkI7kuIDkuKrooajljZVcbiAgY29uc3QgdG9MYXN0QmlsbEZvcm0gPSAoKSA9PiB7XG4gICAgaWYgKGJpbGxQa0lkTGlzdExlbiA+IDEpIHtcbiAgICAgIGNvbnN0IGN1ckluZGV4ID0gYmlsbFBrSWRMaXN0LmluZGV4T2YoY3VyUGtJZClcblxuICAgICAgY29uc3QgbGFzdEluZGV4ID0gYmlsbFBrSWRMaXN0TGVuIC0gMSAvLyDmnIDlkI7kuIDkuKppbmRleFxuICAgICAgaWYgKGN1ckluZGV4ICE9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgc2V0Q3VyUGtJZChiaWxsUGtJZExpc3RbbGFzdEluZGV4XSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBwYWdpbmF0aW9uQnRuTGlzdCA9IFt7XG4gICAgaWNvbjogJ3p1aXFpYW4nLFxuICAgIGRlc2M6ICfnrKzkuIDmnaHooajljZXor6bmg4UnLFxuICAgIGRpc2FibGVkOiBiaWxsUGtJZExpc3RMZW4gPD0gMSB8fCBjdXJQa0lkID09PSBiaWxsUGtJZExpc3RbMF0sXG4gICAgdXNlckFjdGlvbk5hbWU6ICdmdV9mb19maXJzdCcsXG4gICAgb25DbGljazogdG9GaXJzdEJpbGxGb3JtXG4gIH0sIHtcbiAgICBpY29uOiAnZmFuZ3hpYW5nenVvJyxcbiAgICBkZXNjOiAn5LiK5LiA5p2h6K+m5oOFJyxcbiAgICBkaXNhYmxlZDogYmlsbFBrSWRMaXN0TGVuIDw9IDEgfHwgY3VyUGtJZCA9PT0gYmlsbFBrSWRMaXN0WzBdLFxuICAgIHVzZXJBY3Rpb25OYW1lOiAnZnVfZm9fcHJldicsXG4gICAgb25DbGljazogdG9QcmVCaWxsRm9ybVxuICB9LCB7XG4gICAgaWNvbjogJ2Zhbmd4aWFuZ3lvdScsXG4gICAgZGVzYzogJ+S4i+S4gOadoeivpuaDhScsXG4gICAgZGlzYWJsZWQ6IGJpbGxQa0lkTGlzdExlbiA8PSAxIHx8IGN1clBrSWQgPT09IGJpbGxQa0lkTGlzdFtiaWxsUGtJZExpc3RMZW4gLSAxXSxcbiAgICB1c2VyQWN0aW9uTmFtZTogJ2Z1X2ZvX25leHQnLFxuICAgIG9uQ2xpY2s6IHRvTmV4dEJpbGxGb3JtXG4gIH0sIHtcbiAgICBpY29uOiAnenVpaG91JyxcbiAgICBkZXNjOiAn5pyA5ZCO5LiA5p2h6K+m5oOFJyxcbiAgICBkaXNhYmxlZDogYmlsbFBrSWRMaXN0TGVuIDw9IDEgfHwgY3VyUGtJZCA9PT0gYmlsbFBrSWRMaXN0W2JpbGxQa0lkTGlzdExlbiAtIDFdLFxuICAgIHVzZXJBY3Rpb25OYW1lOiAnZnVfZm9fbGFzdCcsXG4gICAgb25DbGljazogdG9MYXN0QmlsbEZvcm1cbiAgfV1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYmlsbF90dXJucGFnZX0+XG4gICAgICB7XG4gICAgICAgIHBhZ2luYXRpb25CdG5MaXN0Lm1hcChpdGVtID0+IHtcbiAgICAgICAgICBjb25zdCB7IGRpc2FibGVkLCBkZXNjLCBpY29uLCB1c2VyQWN0aW9uTmFtZSwgb25DbGljayB9ID0gaXRlbVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGtleT17aWNvbn1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5iaWxsX3R1cm5wYWdlX2J0bn1cbiAgICAgICAgICAgICAgc2l6ZT0nc21hbGwnXG4gICAgICAgICAgICAgIHRpdGxlPXtkZXNjfVxuICAgICAgICAgICAgICBkYXRhLW5jLWFjdGlvbj17Y3JlYXRlVWlBY3Rpb25EYXRhU3RyKHVzZXJBY3Rpb25OYW1lKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEljb24gcHJlZml4PSdub2NvZGVwbGF0Zm9ybWljb24nIGNsYXNzTmFtZT17c3R5bGVzLmJpbGxfdHVybnBhZ2VfYnRuX2ljb259IHR5cGU9e2ljb259IC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuUG9wQmlsbFR1cm5QYWdlLmRpc3BsYXlOYW1lID0gJ1BvcEJpbGxUdXJuUGFnZSdcblxuZXhwb3J0IGRlZmF1bHQgUG9wQmlsbFR1cm5QYWdlXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/component/apps/PopBillTurnPage.tsx\n");

/***/ }),

/***/ "./src/web/component/common/ShareButton.tsx":
/*!**************************************************!*\
  !*** ./src/web/component/common/ShareButton.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nvar _typeof = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ \"../../node_modules/@babel/runtime-corejs3/helpers/typeof.js\");\nvar _WeakMap = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/weak-map */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/weak-map.js\");\nvar _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js\");\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js\");\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ \"../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/regenerator */ \"../../node_modules/@babel/runtime-corejs3/regenerator/index.js\"));\nvar _concat = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js\"));\nvar _slice = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ \"../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js\"));\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime-corejs3/helpers/asyncToGenerator.js\"));\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ \"../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! kd_libs/react */ \"webpack/container/remote/kd_libs/react\"));\nvar _reactI18next = __webpack_require__(/*! react-i18next */ \"../../node_modules/react-i18next/dist/es/index.js\");\nvar _ShareModal = _interopRequireDefault(__webpack_require__(/*! ./ShareModal */ \"./src/web/component/common/ShareModal.tsx\"));\nvar _designer = __webpack_require__(/*! @/actions/designer */ \"./src/actions/designer.js\");\nvar _WebUI = __webpack_require__(/*! nocode_component/WebUI */ \"webpack/container/remote/nocode_component/WebUI\");\nvar _home = __webpack_require__(/*! @/actions/home */ \"./src/actions/home.js\");\nvar _useFetchHook = __webpack_require__(/*! @/hooks/useFetchHook */ \"./src/hooks/useFetchHook.ts\");\nvar _actionNames = __webpack_require__(/*! @/reducer/actionNames */ \"./src/reducer/actionNames.js\");\nvar _storageTools = __webpack_require__(/*! @/utils/storageTools */ \"./src/utils/storageTools.ts\");\nvar _useAppContext2 = _interopRequireDefault(__webpack_require__(/*! @/hooks/useAppContext */ \"./src/hooks/useAppContext.js\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof _WeakMap) return null; var r = new _WeakMap(), t = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? _Object$getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? _Object$defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n/*\n * @Description: 分享按钮（包括分享弹窗）\n * @Author: jianhang_he\n * @Date: 2022-09-21 16:18:02\n * @LastEditTime: 2024-09-18 11:06:16\n * @Last Modified by: jianhang_he\n */\n\nvar VIEW_STATUS_TEXT = {\n  view: '详情',\n  edit: '编辑'\n};\nvar ShareButton = (0, _react.memo)(function (_ref) {\n  var _context3;\n  var config = _ref.config,\n    className = _ref.className,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? 'middle' : _ref$size,\n    shareLink = _ref.shareLink,\n    _ref$modalTitle = _ref.modalTitle,\n    modalTitle = _ref$modalTitle === void 0 ? '列表页' : _ref$modalTitle,\n    _ref$iconType = _ref.iconType,\n    iconType = _ref$iconType === void 0 ? 'fenxiang' : _ref$iconType,\n    onClick = _ref.onClick,\n    allowNoAuth = _ref.allowNoAuth,\n    shareReqireLogin = _ref.shareReqireLogin,\n    shareNotReqireLogin = _ref.shareNotReqireLogin;\n  var _useAppContext = (0, _useAppContext2.default)(),\n    state = _useAppContext.state,\n    dispatch = _useAppContext.dispatch;\n  var appId = config.appId,\n    targetFormId = config.targetFormId,\n    Status = config.Status,\n    pkId = config.pkId;\n  var userInfo = state.userInfo;\n  var appData = state.appsList[appId];\n  var fileServer = state.fileServer;\n  // 表单名称\n  var selectedFormData = state.selectedFormData;\n  var _useTranslation = (0, _reactI18next.useTranslation)(),\n    translate = _useTranslation.t;\n  var _useState = (0, _react.useState)(selectedFormData || {}),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    formData = _useState2[0],\n    setFormData = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    shareModelVisible = _useState4[0],\n    setShareModelVisible = _useState4[1];\n  (0, _react.useEffect)(function () {\n    if (!appData) {\n      var url = \"nocode/v2/nocode_sys/app/\".concat(appId);\n      (0, _storageTools.getWithPriority)((0, _useFetchHook.getStoreData)(url, ''), (0, _home.getAppInfoById)(appId).then(function (info) {\n        (0, _useFetchHook.setStoreData)(url, '', info);\n        return info;\n      }), function (res) {\n        var _res$rows;\n        var info = res === null || res === void 0 || (_res$rows = res.rows) === null || _res$rows === void 0 ? void 0 : _res$rows[0];\n        info && dispatch({\n          type: _actionNames.UPDATE_APP_INFO_BY_ID,\n          payload: {\n            id: appId,\n            value: info\n          }\n        });\n      });\n    }\n  }, [appData, appId]);\n  var shareTitle = (0, _react.useMemo)(function () {\n    var _context, _formData$name;\n    // 后端限制长度50，前端也统一\n    return (0, _concat.default)(_context = \"\".concat((_formData$name = formData.name) === null || _formData$name === void 0 ? void 0 : (0, _slice.default)(_formData$name).call(_formData$name, 0, 50 - modalTitle.length))).call(_context, modalTitle);\n  }, [formData, modalTitle, Status]);\n\n  /**\n   * 点击分享\n   */\n  var handleClickShare = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      return _regenerator.default.wrap(function _callee$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!onClick) {\n              _context2.next = 2;\n              break;\n            }\n            return _context2.abrupt(\"return\", onClick());\n          case 2:\n            // 获取表单信息\n            (0, _designer.getFormData)({\n              appId: appId,\n              targetFormId: targetFormId\n            }).then(function (res) {\n              var _res$rows2;\n              var data = (res === null || res === void 0 || (_res$rows2 = res.rows) === null || _res$rows2 === void 0 ? void 0 : _res$rows2[0]) || {};\n              setFormData(data);\n              setShareModelVisible(true);\n            }).catch(function (err) {\n              console.error('getFormData 出错了', err);\n            });\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee);\n    }));\n    return function handleClickShare() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * 取消分享弹窗\n   */\n  var cancelShareModel = (0, _react.useCallback)(function () {\n    setShareModelVisible(false);\n  }, []);\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_WebUI.BtnField, {\n    size: size,\n    type: \"text\",\n    \"data-nc-action\": (0, _concat.default)(_context3 = \"\".concat(appId, \"|\")).call(_context3, targetFormId, \"|tb_share\"),\n    onClick: handleClickShare,\n    className: className,\n    text: translate('apps.share'),\n    icon: {\n      prefix: 'nocodeplatformicon',\n      type: iconType\n    }\n  }), shareModelVisible && /*#__PURE__*/_react.default.createElement(_ShareModal.default, {\n    visible: shareModelVisible,\n    title: \"\\u5206\\u4EAB\",\n    onCancel: cancelShareModel,\n    onOk: cancelShareModel,\n    shareTitle: shareTitle,\n    needLoginLink: shareLink,\n    shareByPeople: userInfo === null || userInfo === void 0 ? void 0 : userInfo.name,\n    shareAppImage: appData === null || appData === void 0 ? void 0 : appData.image,\n    formid: pkId || formData.formId,\n    fileServer: fileServer,\n    allowNoAuth: allowNoAuth,\n    formData: formData,\n    config: config,\n    shareReqireLogin: shareReqireLogin,\n    shareNotReqireLogin: shareNotReqireLogin\n  }));\n});\nShareButton.displayName = 'ShareButton';\nvar _default = exports[\"default\"] = ShareButton;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudC9jb21tb24vU2hhcmVCdXR0b24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVdBO0FBQUE7QUFUQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFYQTtBQUFBO0FBQUE7O0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUVBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtcGxhdGZvcm0vLi9zcmMvd2ViL2NvbXBvbmVudC9jb21tb24vU2hhcmVCdXR0b24udHN4P2YwYTciXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjog5YiG5Lqr5oyJ6ZKu77yI5YyF5ous5YiG5Lqr5by556qX77yJXG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMjEgMTY6MTg6MDJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjQtMDktMTggMTE6MDY6MTZcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcbmltcG9ydCB7IHVzZVBhcmFtcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nXG5pbXBvcnQgU2hhcmVNb2RhbCBmcm9tICcuL1NoYXJlTW9kYWwnXG5pbXBvcnQgeyBnZXRGb3JtRGF0YSB9IGZyb20gJ0AvYWN0aW9ucy9kZXNpZ25lcidcbmltcG9ydCB7IEJ0bkZpZWxkIGFzIEJ1dHRvbiB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5pbXBvcnQgeyBnZXRBcHBJbmZvQnlJZCwgZ2V0TGluZUljb25BbmRDb2xvciB9IGZyb20gJ0AvYWN0aW9ucy9ob21lJ1xuaW1wb3J0IHsgZ2V0U3RvcmVEYXRhLCBzZXRTdG9yZURhdGEgfSBmcm9tICdAL2hvb2tzL3VzZUZldGNoSG9vaydcbmltcG9ydCB7IFVQREFURV9BUFBfSU5GT19CWV9JRCB9IGZyb20gJ0AvcmVkdWNlci9hY3Rpb25OYW1lcydcbmltcG9ydCB7IGdldFdpdGhQcmlvcml0eSB9IGZyb20gJ0AvdXRpbHMvc3RvcmFnZVRvb2xzJ1xuaW1wb3J0IHVzZUFwcENvbnRleHQgZnJvbSAnQC9ob29rcy91c2VBcHBDb250ZXh0J1xuXG5jb25zdCBWSUVXX1NUQVRVU19URVhUID0ge1xuICB2aWV3OiAn6K+m5oOFJyxcbiAgZWRpdDogJ+e8lui+kSdcbn1cblxuY29uc3QgU2hhcmVCdXR0b24gPSBtZW1vKCh7XG4gIGNvbmZpZyxcbiAgY2xhc3NOYW1lLFxuICBzaXplID0gJ21pZGRsZScsXG4gIHNoYXJlTGluayxcbiAgbW9kYWxUaXRsZSA9ICfliJfooajpobUnLFxuICBpY29uVHlwZSA9ICdmZW54aWFuZycsXG4gIG9uQ2xpY2ssXG4gIGFsbG93Tm9BdXRoLFxuICBzaGFyZVJlcWlyZUxvZ2luLFxuICBzaGFyZU5vdFJlcWlyZUxvZ2luXG59KSA9PiB7XG4gIGNvbnN0IHsgc3RhdGUsIGRpc3BhdGNoIH0gPSB1c2VBcHBDb250ZXh0KClcbiAgY29uc3QgeyBhcHBJZCwgdGFyZ2V0Rm9ybUlkLCBTdGF0dXMsIHBrSWQgfSA9IGNvbmZpZ1xuICBjb25zdCB1c2VySW5mbyA9IHN0YXRlLnVzZXJJbmZvXG4gIGNvbnN0IGFwcERhdGEgPSBzdGF0ZS5hcHBzTGlzdFthcHBJZF1cblxuICBjb25zdCBmaWxlU2VydmVyID0gc3RhdGUuZmlsZVNlcnZlclxuICAvLyDooajljZXlkI3np7BcbiAgY29uc3Qgc2VsZWN0ZWRGb3JtRGF0YSA9IHN0YXRlLnNlbGVjdGVkRm9ybURhdGFcbiAgY29uc3QgeyB0OiB0cmFuc2xhdGUgfSA9IHVzZVRyYW5zbGF0aW9uKClcblxuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlKHNlbGVjdGVkRm9ybURhdGEgfHwge30pXG4gIGNvbnN0IFtzaGFyZU1vZGVsVmlzaWJsZSwgc2V0U2hhcmVNb2RlbFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWFwcERhdGEpIHtcbiAgICAgIGNvbnN0IHVybCA9IGBub2NvZGUvdjIvbm9jb2RlX3N5cy9hcHAvJHthcHBJZH1gXG4gICAgICBnZXRXaXRoUHJpb3JpdHkoZ2V0U3RvcmVEYXRhKHVybCwgJycpLCBnZXRBcHBJbmZvQnlJZChhcHBJZCkudGhlbigoaW5mbzogYW55KSA9PiB7XG4gICAgICAgIHNldFN0b3JlRGF0YSh1cmwsICcnLCBpbmZvKVxuICAgICAgICByZXR1cm4gaW5mb1xuICAgICAgfSksIHJlcyA9PiB7XG4gICAgICAgIGNvbnN0IGluZm8gPSByZXM/LnJvd3M/LlswXVxuICAgICAgICBpbmZvICYmIGRpc3BhdGNoKHsgdHlwZTogVVBEQVRFX0FQUF9JTkZPX0JZX0lELCBwYXlsb2FkOiB7IGlkOiBhcHBJZCwgdmFsdWU6IGluZm8gfSB9KVxuICAgICAgfSlcbiAgICB9XG4gIH0sIFthcHBEYXRhLCBhcHBJZF0pXG5cbiAgY29uc3Qgc2hhcmVUaXRsZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIOWQjuerr+mZkOWItumVv+W6pjUw77yM5YmN56uv5Lmf57uf5LiAXG4gICAgcmV0dXJuIGAke2Zvcm1EYXRhLm5hbWU/LnNsaWNlKDAsIDUwIC0gbW9kYWxUaXRsZS5sZW5ndGgpfSR7bW9kYWxUaXRsZX1gXG4gIH0sIFtmb3JtRGF0YSwgbW9kYWxUaXRsZSwgU3RhdHVzXSlcblxuICAvKipcbiAgICog54K55Ye75YiG5LqrXG4gICAqL1xuICBjb25zdCBoYW5kbGVDbGlja1NoYXJlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChvbkNsaWNrKSByZXR1cm4gb25DbGljaygpXG5cbiAgICAvLyDojrflj5booajljZXkv6Hmga9cbiAgICBnZXRGb3JtRGF0YSh7IGFwcElkLCB0YXJnZXRGb3JtSWQgfSkudGhlbihyZXMgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IHJlcz8ucm93cz8uWzBdIHx8IHsgfVxuICAgICAgc2V0Rm9ybURhdGEoZGF0YSlcbiAgICAgIHNldFNoYXJlTW9kZWxWaXNpYmxlKHRydWUpXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2dldEZvcm1EYXRhIOWHuumUmeS6hicsIGVycilcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIOWPlua2iOWIhuS6q+W8ueeql1xuICAgKi9cbiAgY29uc3QgY2FuY2VsU2hhcmVNb2RlbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTaGFyZU1vZGVsVmlzaWJsZShmYWxzZSlcbiAgfSwgW10pXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEJ1dHRvbiBzaXplPXtzaXplfSB0eXBlPSd0ZXh0JyBkYXRhLW5jLWFjdGlvbj17YCR7YXBwSWR9fCR7dGFyZ2V0Rm9ybUlkfXx0Yl9zaGFyZWB9IG9uQ2xpY2s9e2hhbmRsZUNsaWNrU2hhcmV9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSB0ZXh0PXt0cmFuc2xhdGUoJ2FwcHMuc2hhcmUnKX0gaWNvbj17eyBwcmVmaXg6ICdub2NvZGVwbGF0Zm9ybWljb24nLCB0eXBlOiBpY29uVHlwZSB9fSAvPlxuICAgICAge1xuICAgICAgICBzaGFyZU1vZGVsVmlzaWJsZSAmJlxuICAgICAgICAgIDxTaGFyZU1vZGFsXG4gICAgICAgICAgICB2aXNpYmxlPXtzaGFyZU1vZGVsVmlzaWJsZX1cbiAgICAgICAgICAgIHRpdGxlPSfliIbkuqsnXG4gICAgICAgICAgICBvbkNhbmNlbD17Y2FuY2VsU2hhcmVNb2RlbH1cbiAgICAgICAgICAgIG9uT2s9e2NhbmNlbFNoYXJlTW9kZWx9XG4gICAgICAgICAgICBzaGFyZVRpdGxlPXtzaGFyZVRpdGxlfVxuICAgICAgICAgICAgbmVlZExvZ2luTGluaz17c2hhcmVMaW5rfVxuICAgICAgICAgICAgc2hhcmVCeVBlb3BsZT17dXNlckluZm8/Lm5hbWV9XG4gICAgICAgICAgICBzaGFyZUFwcEltYWdlPXthcHBEYXRhPy5pbWFnZX1cbiAgICAgICAgICAgIGZvcm1pZD17cGtJZCB8fCBmb3JtRGF0YS5mb3JtSWR9XG4gICAgICAgICAgICBmaWxlU2VydmVyPXtmaWxlU2VydmVyfVxuICAgICAgICAgICAgYWxsb3dOb0F1dGg9e2FsbG93Tm9BdXRofVxuICAgICAgICAgICAgZm9ybURhdGE9e2Zvcm1EYXRhfVxuICAgICAgICAgICAgY29uZmlnPXtjb25maWd9XG4gICAgICAgICAgICBzaGFyZVJlcWlyZUxvZ2luPXtzaGFyZVJlcWlyZUxvZ2lufVxuICAgICAgICAgICAgc2hhcmVOb3RSZXFpcmVMb2dpbj17c2hhcmVOb3RSZXFpcmVMb2dpbn1cbiAgICAgICAgICAvPlxuICAgICAgfVxuICAgIDwvPlxuICApXG59KVxuXG5TaGFyZUJ1dHRvbi5kaXNwbGF5TmFtZSA9ICdTaGFyZUJ1dHRvbidcblxuZXhwb3J0IGRlZmF1bHQgU2hhcmVCdXR0b25cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/component/common/ShareButton.tsx\n");

/***/ })

}]);