"use strict";(self.webpackChunknocode_platform=self.webpackChunknocode_platform||[]).push([[632],{97070:function(e,t,a){a.r(t),t.default={appcreatmode_group:"vlzy7rhu_appcreatmode_group"}},13792:function(e,t,a){a.r(t),t.default={tag:"B0BB54zw_tag",success:"vNynaJ6y_success",error:"xV9OxNu3_error",warning:"rc2CssHi_warning",going:"IeZiZcJw_going",reject:"vZjZ7H70_reject"}},20552:function(e,t,a){a.r(t),t.default={icon_pop:"L4d1n3Co_icon_pop",pop:"wDS8lVOy_pop",pop_main:"pM5A9eK0_pop_main",colors:"RHIwvsm9_colors",icons:"+e5WT0CW_icons","icon-item-f-style":"LUv9eLkI_icon-item-f-style","icon-item-f-style-active":"FbkEq6b8_icon-item-f-style-active"}},584:function(e,t,a){a.r(t),t.default={"drop-down-more":"VO-pdXZ6_drop-down-more","drop-down-wrapper":"IlmRvFmm_drop-down-wrapper"}},4200:function(e,t,a){a.r(t),t.default={pop:"js8Jd4ya_pop",avatar:"coK+fk++_avatar"}},51600:function(e,t,a){a.r(t),t.default={app_card_item:"qqozk-YR_app_card_item",collect:"YHmhkuCR_collect",collect_active_icon:"Z4L7QVnh_collect_active_icon",collect_icon:"lnQICj6J_collect_icon",app_card_item_div:"_11Pm6+-V_app_card_item_div",app_info:"bDSVtlkW_app_info",icon:"tLB6nJx+_icon",datas:"o4YuZbNp_datas",title:"Wzms12WN_title",des:"lrwCx7Mc_des",app_status:"nrDd0-1d_app_status",running:"mdwTi052_running",standby:"vJ-ThJ3m_standby",more:"GegLDyU8_more",card_action:"RdI2SZVz_card_action"}},41984:function(e,t,a){a.r(t),t.default={title:"qLjUtZsH_title","title-text":"efmw-EDh_title-text","title-extra":"eIyoSavp_title-extra","title-icon-wrapper":"Sp1ON+W0_title-icon-wrapper","title-icon":"_7oGux5vD_title-icon",disabled:"o1waaUji_disabled",hidden:"DGig4wXC_hidden","icon-delete":"OYdSJrc8_icon-delete"}},60868:function(e,t,a){a.r(t),t.default={card_wrapper:"QwOfef2u_card_wrapper",card_title:"nMe8nMt1_card_title",display_card:"_5Y+JrrHa_display_card",card_body:"AqIDNHFT_card_body",draggable_area_left:"gLfWsjw6_draggable_area_left",draggable_area_top:"yqjoPGbk_draggable_area_top",draggable_area_right:"iUrbdjEg_draggable_area_right"}},14156:function(e,t,a){a.r(t),t.default={app_list_item:"yfM2Nx6f_app_list_item",e:"zAQ-aUsH_e",app_info:"Trk+p-qa_app_info",title:"rhn5vLlZ_title",des:"Q6Z8Y72b_des",icon:"KxaW3URy_icon",app_status:"QdUOXdsT_app_status",creater:"XCQR2Eu+_creater",collect:"xqtKowiF_collect",collect_active_icon:"pboh0ja1_collect_active_icon",collect_icon:"GFsM5X74_collect_icon",time:"_7kpuslVZ_time",app_actions:"_0r1heb43_app_actions"}},13368:function(e,t,a){a.r(t),t.default={create_form_by_import_body:"b3igw5Dd_create_form_by_import_body",importmodal_step:"rAu39Kkw_importmodal_step",upload:"HNESRAKA_upload",upload_add:"gJUjCTd4_upload_add",upload_text:"Xd5r9wKl_upload_text",upload_tips:"+QAFgyC5_upload_tips",upload_tips_text:"jrHEsFJh_upload_tips_text",upload_tips_template:"+dJEWEvT_upload_tips_template",upload_progress:"KQYafmDg_upload_progress",upload_progress_text:"_0QhnW8mJ_upload_progress_text",import:"_0H9bu-bD_import",import_msg:"gUkwb4s6_import_msg",import_img:"GzaHink0_import_img",create_form_by_import_body_uploadtext:"f+v0+US9_create_form_by_import_body_uploadtext",create_form_by_import_footer:"_1uEm1EQM_create_form_by_import_footer",create_form_by_import_footer_btn:"_2GQ8fu15_create_form_by_import_footer_btn",pre:"pp4mMup2_pre",create_form_by_import:"AlyE08Tp_create_form_by_import",pt24:"R5FQOJAq_pt24",form:"Ie7cFuPI_form",form_item:"odyxOMDP_form_item",title:"r+zws5ya_title",require:"g7YC2kHW_require",list:"sxfbVgcJ_list",spin_container:"UkUVHjcC_spin_container",spin_container_content:"Fh0MuvQp_spin_container_content",text:"ZvK9ikd2_text"}},24035:function(e,t,a){a.r(t),t.default={app_list_box:"tME+-qlB_app_list_box",list:"u3Fp6VZD_list",loading:"pOH6Wx8I_loading"}},58792:function(e,t,a){a.r(t),t.default={create_box:"hh0K-UML_create_box",create_app_body:"bsudCqsh_create_app_body",item:"nMs0irXH_item",edit_avatar:"_655Wn9Ul_edit_avatar",avatar:"KMJl7q9j_avatar",edit:"QzzttY2i_edit",create_app_footer:"Vh1o2gBj_create_app_footer"}},25257:function(e,t,a){a.r(t),t.default={app_list_table:"vqcoXYr8_app_list_table",header:"fR39i4JD_header",app_list_tr:"MqDFqhWi_app_list_tr",app_info:"MUDQptGh_app_info",app_status:"BT7zKHRC_app_status",creater:"ECcWS1nf_creater",collect:"rJ2ty3x5_collect",time:"m9gh-3db_time",app_actions:"_2JhWbnlS_app_actions",list:"_7FPPcshD_list",box:"WBzN56QW_box",app_list_body:"_6EN4CRrl_app_list_body",loading:"ldaREjsw_loading"}},30084:function(e,t,a){a.r(t),t.default={msg_box:"_6Oik9w2D_msg_box",nav:"JCI0xlsP_nav",list:"mX+o6k8m_list",item:"eSukv5L0_item",content:"aCCTO5rH_content",icon:"v4krGOfy_icon",msg:"IXT1UkFU_msg",flow:"_72wNXq3s_flow",info:"MmcZzz2e_info",title:"sSdxgvP5_title",sub_title:"ii705ZF1_sub_title",time:"p--8RcP-_time",dot:"isl39IbD_dot",loading:"_5qqXcj+E_loading",no_msg:"EWmNb5Cx_no_msg"}},44168:function(e,t,a){a.r(t),t.default={app_header:"wox0T7g7_app_header",logo:"_3a8Pn6s7_logo",logo_bg_img:"gXOi5mB1_logo_bg_img",split_line:"SDrj7EhU_split_line",platformName:"LaPGoDyG_platformName",nav:"TSeaP4bz_nav",curr:"hhwSmWGx_curr",user:"_9bbJwcsc_user",btn:"-J5poooq_btn",avatar:"mmRseCnw_avatar",user_info_pop:"_4w3QhE1v_user_info_pop",user_msg:"S7DXNEqX_user_msg"}},96472:function(e,t,a){a.r(t),t.default={app_box:"_5Zm+t-Vp_app_box",app_main:"Gx92JGJi_app_main",loading:"EsRRRF4U_loading",app_main_hidden:"f7kokLhA_app_main_hidden",app_nav:"OEIl+W5e_app_nav",btn_group:"Hs0yLtWU_btn_group",app_filter:"V4XUixQX_app_filter",list_type:"_1xMbWZBG_list_type",curr:"WLbhpwUx_curr",not_curr:"c1+6Vo9W_not_curr",del_box:"_8x0a14Te_del_box",des:"tUjEiw5e_des",hidden:"LHZO8VtO_hidden",skeleton:"mjMqZ-uv_skeleton"}},41668:function(e,t,a){a.r(t),t.default={appsnodata:"_5CY851Kb_appsnodata",appsnodata_img:"ru-uY+u2_appsnodata_img",appsnodata_tips:"XWQVj6Hs_appsnodata_tips"}},54256:function(e,t,a){a.r(t),t.default={container:"gTbQx6dw_container",aside:"ndu1FWAz_aside",active:"Hd7TwAGK_active",main:"mNKS3un9_main",box:"lbChfplS_box",btns:"V5amKci1_btns",list:"oyTKguKV_list",bg:"lDW8h-xP_bg",bg_main:"GQCVuyaL_bg_main"}},59876:function(e,t,a){a(25028)(t,"__esModule",{value:!0}),t.DEFAULT_FORM_IMAGE=t.DEFAULT_APP_IMAGE=void 0;t.DEFAULT_APP_IMAGE="nocode/v2/nocode_sys/common/svgs/create_svg?color=%233987ED&svg=svg18",t.DEFAULT_FORM_IMAGE="nocode/v2/nocode_sys/common/svgs/create_svg_line?color=%233987ED&svg=svg64"},15992:function(e,t,a){var n=a(73980),l=a(13440),r=a(59992),u=a(60600),o=a(25028),i=a(9564);o(t,"__esModule",{value:!0}),t.default=t.addIntersectionObserver=void 0;var c=i(a(78912)),d=a(65984);function f(e,t){var a=void 0!==r&&u(e)||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){var a;if(!e)return;if("string"==typeof e)return s(e,t);var r=n(a=Object.prototype.toString.call(e)).call(a,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return l(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,d=!0,f=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return d=e.done,e},e:function(e){f=!0,c=e},f:function(){try{d||null==a.return||a.return()}finally{if(f)throw c}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.addIntersectionObserver=function(e,t){if(e){var a=new window.IntersectionObserver((function(e){e[0].intersectionRatio<=0||e[0].isIntersecting&&(null==t||t())}));return e&&a.observe(e),function(){null==a||a.disconnect()}}},t.default=function(e){var t=(0,d.useState)(!1),a=(0,c.default)(t,2),n=a[0],l=a[1];return(0,d.useEffect)((function(){if(!e)return function(){};var t=new window.IntersectionObserver((function(e){var t,a=f(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;l(n.isIntersecting)}}catch(e){a.e(e)}finally{a.f()}}));return e&&t.observe(e),function(){e&&(null==t||t.disconnect())}}),[e]),n}},96860:function(e,t,a){var n=a(25028),l=a(9564);n(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(78912)),u=a(65984),o=l(a(40072));t.default=function(e,t){var a=(0,u.useState)(!1),n=(0,r.default)(a,2),l=n[0],i=n[1],c=(0,u.useRef)(),d=(0,u.useCallback)((function(e){var a=e[0].target,n=a.clientWidth,l=a.scrollWidth,r=l>n;(c.current!==l||r)&&(r||(c.current=l),i(r),null==t||t(r))}),[t]);return(0,o.default)(e,d),l}},40072:function(e,t,a){var n=a(25028),l=a(9564);n(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.useEffect)((function(){if(e){var a=e&&new u.default(t);return a&&a.observe(e),function(){a&&a.disconnect(e)}}}),[e,t])};var r=a(65984),u=l(a(82504))},91888:function(e,t,a){var n=a(25028),l=a(9564);n(t,"__esModule",{value:!0}),t.default=t.appCreatModeList=t.CREATE_TEMPLATE_APP=t.CREATE_EMPTY_APP=t.CREATE_APP_BY_IMPORT=void 0;var r=l(a(23992)),u=l(a(760)),o=l(a(65984)),i=a(82416),c=l(a(40436)),d=l(a(97070)),f=t.CREATE_EMPTY_APP="createEmptyApp",s=t.CREATE_TEMPLATE_APP="creatTemplateApp",p=t.CREATE_APP_BY_IMPORT="createAppByImport";t.appCreatModeList=[{key:f,name:"创建空白应用",iconType:"zengjia-yuan",btnType:"primary",custom:"as_cba"},{key:s,name:"从模板创建应用",iconType:"moban2",custom:"as_cta"},{key:p,name:"通过导入创建应用",iconPrefix:"ncicon",iconType:"daoru2",custom:"as_cabi"}],t.default=function(e){var t=e.appId,a=e.onClick,n=e.options,l=((0,c.default)().state.userInfo||{}).createApp;return o.default.createElement("div",{className:d.default.appcreatmode_group},(0,r.default)(n).call(n,(function(e){var n,r=e.key,c=e.name,d=e.iconType,f=e.btnType,s=e.custom,p=e.iconPrefix;return o.default.createElement(i.BtnField,{key:r,type:f||"second",icon:{prefix:p||"nocodeplatformicon",type:d},onClick:function(){return a(r)},disabled:!l,"data-nc-action":(0,u.default)(n="".concat(t,"||")).call(n,s)},c)})))}},14940:function(e,t,a){var n=a(25028),l=a(9564);n(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(65984)),u=a(57264),o=a(82416);t.default=function(e){var t=e.src,a=e.className,n=e.style,l=e.onClick,i=(0,u.getQueryString)("color",t)||"";return r.default.createElement("div",{className:a,style:n,onClick:l},r.default.createElement(o.Image,{src:(0,u.getUrlWithDataCenter)((0,u.getFullUrl)(t)),style:{backgroundColor:i}}))}},1160:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),c=a(82416),d=o(a(13792)),f=o(a(71252));function s(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(s=function(e){return e?a:t})(e)}var p={willApproval:d.default.warning,approve:d.default.success,handled:d.default.sucess,done:d.default.success,terminate:d.default.reject,withdraw:d.default.reject,exception_terminate:d.default.error,willHandled:d.default.going,launch:d.default.going},_=(0,i.memo)((function(e){var t=e.status,a=e.text,n=e.className;return i.default.createElement(c.Tag,{className:(0,f.default)(p[t]||p.launch,n)},a)}));_.displayName="FlowStatusTag";t.default=_},10352:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(23992)),c=o(a(96631)),d=o(a(78912)),f=a(63548),s=o(a(71252)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),_=o(a(20552));function m(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(m=function(e){return e?a:t})(e)}t.default=p.default.memo((function(e){var t,a,n=e.data,l=e.colorIndex,r=e.iconIndex,u=e.onSelect,o=e.isLineIconStyle,m=(0,p.useState)(0),v=(0,d.default)(m,2),g=v[0],E=v[1],b=(0,p.useState)(0),h=(0,d.default)(b,2),y=h[0],x=h[1],w=(0,p.useRef)(null);(0,p.useEffect)((function(){E(l)}),[l]),(0,p.useEffect)((function(){x(r)}),[r]);var I=(0,p.useCallback)((function(e,t){E(e),x(t),null==u||u(e,t)}),[u,n]);return(0,p.useLayoutEffect)((function(){var e,t,a,l=null===(e=w.current)||void 0===e?void 0:e.getElementsByTagName("path");l&&(Array.prototype.forEach.call(l,(function(e){return e.removeAttribute("style")})),o?null===(t=l[y])||void 0===t||t.setAttribute("style","fill:".concat(null==n?void 0:n.colors[g].value)):null===(a=l[y])||void 0===a||a.setAttribute("style","fill:#fff"))}),[y,g,w.current]),p.default.createElement("div",{className:_.default.pop_main},p.default.createElement("div",{className:_.default.colors},null==n?void 0:(0,i.default)(t=n.colors).call(t,(function(e,t){return p.default.createElement("div",{key:t,onClick:function(){return I(t,y)},style:{backgroundColor:e.value}},g===t&&p.default.createElement(f.Icon,{prefix:"nocodeplatformicon",type:"gouxuan"}))}))),p.default.createElement("div",{ref:w,className:_.default.icons},null==n?void 0:(0,i.default)(a=n.svgs).call(a,(function(e,t){var a=y===t?null==n?void 0:n.colors[g].value:"",l=y===t?"#fff":"";return p.default.createElement("div",{key:t,onClick:function(){return I(g,t)},className:(0,s.default)((0,c.default)((0,c.default)({},_.default["icon-item-f-style"],o),_.default["icon-item-f-style-active"],o&&y===t)),style:{backgroundColor:o?l:a,color:o?a:l},dangerouslySetInnerHTML:{__html:e.content}})}))))}))},42104:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(23992)),c=o(a(78912)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),f=a(63548),s=o(a(584));function p(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(p=function(e){return e?a:t})(e)}t.default=function(e){var t=e.menu,a=e.onItemClick,n=e.onVisibleChange,l=e.placement,r=e.triggerElement,u=e.trigger,o=e.getHoverTrigger,p=(0,d.useState)(!1),_=(0,c.default)(p,2),m=_[0],v=_[1],g=null==o?void 0:o();(0,d.useLayoutEffect)((function(){null==g||g.classList.add(s.default["drop-down-wrapper"])}),[g]);return d.default.createElement("div",{className:s.default["drop-down-more"],"data-more-dropdown":!0},d.default.createElement(f.Dropdown,{menu:function(e){return d.default.createElement(f.Dropdown.Menu,null,null==e?void 0:(0,i.default)(e).call(e,(function(e){return d.default.createElement(f.Dropdown.Item,{key:e.key},d.default.createElement("span",null,e.label))})))}(t),popperClassName:s.default.popper,visible:m,onItemClick:a,onVisibleChange:function(e){v(e),null==n||n(e),null==g||g.setAttribute("data-trigger-visible",e)},trigger:u||"hover",placement:l},r||d.default.createElement(f.Icon,{prefix:"nocodeplatformicon",type:"gengduo3"})))}},6896:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(1900)),c=o(a(760)),d=o(a(78912)),f=a(63548),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),p=o(a(4200)),_=o(a(10352)),m=a(57264),v=o(a(71252));function g(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(g=function(e){return e?a:t})(e)}t.default=s.default.memo((function(e){var t=e.onChange,a=e.image,n=e.placement,l=e.triggerClassName,r=e.popperClassName,u=e.isLineIconStyle,o=e.svgData,g=e.readonly,E=(0,s.useState)({colorIndex:void 0,iconIndex:void 0}),b=(0,d.default)(E,2),h=b[0],y=b[1],x=(0,s.useRef)(null),w=(0,s.useCallback)((function(e,t){var a,n,l=(0,m.getQueryString)("color",e),r=(0,m.getQueryString)("svg",e),u=l&&"undefined"!==l?null==t||null===(a=t.colors)||void 0===a?void 0:(0,i.default)(a).call(a,(function(e){return e.value===l||e.key===l})):0,o=r&&"undefined"!==r?null==t||null===(n=t.svgs)||void 0===n?void 0:(0,i.default)(n).call(n,(function(e){return e.label===r})):0;y({colorIndex:u,iconIndex:o})}),[]),I=function(e,t){y({colorIndex:e,iconIndex:t})};(0,s.useLayoutEffect)((function(){var e,t;if(o&&x.current){var a=u?null==o||null===(e=o.colors)||void 0===e||null===(e=e[h.colorIndex])||void 0===e?void 0:e.value:"#fff";null===(t=x.current.getElementsByTagName("path"))||void 0===t||null===(t=t[0])||void 0===t||t.setAttribute("style","fill:".concat(a," "))}}),[o,h,x.current,u]),(0,s.useEffect)((function(){w(a,o)}),[a,o]);var C=(0,s.useCallback)((function(e){if(e)w(a,o);else{var n,l,r,u=encodeURIComponent(null==o||null===(n=o.colors)||void 0===n||null===(n=n[h.colorIndex])||void 0===n?void 0:n.value),i=null==o||null===(l=o.svgs)||void 0===l?void 0:l[h.iconIndex].label,d=(0,c.default)(r="nocode/v2/nocode_sys/common/svgs/create_svg_line?color=".concat(u,"&svg=")).call(r,i);null==t||t(d)}}),[o,h,t]),N=(0,s.useMemo)((function(){return s.default.createElement(_.default,{data:o,iconIndex:h.iconIndex,colorIndex:h.colorIndex,onSelect:I,isLineIconStyle:u})}),[o,h,u]),k=(0,s.useMemo)((function(){var e,t;return s.default.createElement("div",{ref:x,className:(0,v.default)(p.default.avatar,l),style:{backgroundColor:u?"":null==o||null===(e=o.colors)||void 0===e||null===(e=e[h.colorIndex])||void 0===e?void 0:e.value},dangerouslySetInnerHTML:{__html:(null==o||null===(t=o.svgs)||void 0===t||null===(t=t[h.iconIndex])||void 0===t?void 0:t.content)||""}})}),[o,h,u]);return g?k:s.default.createElement(f.Tooltip,{placement:n||"rightTop",arrow:!1,popperClassName:(0,v.default)(p.default.pop,r),gap:0,tip:N,trigger:"click",onVisibleChange:C},k)}))},42852:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(760)),c=o(a(78912)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),f=a(63548),s=o(a(51600)),p=a(57264),_=o(a(732)),m=o(a(14940));function v(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(v=function(e){return e?a:t})(e)}t.default=d.default.memo((function(e){var t,a=e.data,n=e.del,l=e.index,r=e.appId,u=e.onExport,o=(a.deploystatus,a.description),v=a.id,g=a.image,E=a.name,b=a.collect,h=((0,_.default)(),(0,d.useRef)(null)),y=d.default.createElement(f.Dropdown.Menu,null,d.default.createElement(f.Dropdown.Item,{key:"open|".concat(v),"data-nc-action":"".concat(r,"||as_app_set")},"配置应用"),d.default.createElement(f.Dropdown.Item,{key:"export|".concat(v)},"导出应用"),d.default.createElement(f.Dropdown.Item,{key:"del|".concat(v),"data-nc-action":"".concat(r,"||as_app_del")},"删除应用")),x=(0,d.useCallback)((function(e){var t=(null==e?void 0:e.split("|"))||["",""],a=(0,c.default)(t,2),l=a[0],r=a[1];switch(l){case"open":(0,p.openner)("/".concat(r,"/admin"));break;case"del":n(r);break;case"export":u(r)}}),[n,u]),w=(0,d.useCallback)((function(){(0,p.openner)("/".concat(v,"/home"))}),[]);window.isIE&&(0,p.getQueryString)("color",g);return d.default.createElement("div",{ref:h,className:s.default.app_card_item,"data-index":l},d.default.createElement("div",{onClick:w,className:s.default.app_card_item_div,"data-nc-action":"".concat(r,"||as_app")},d.default.createElement("div",{className:s.default.app_info},d.default.createElement(m.default,{className:s.default.icon,src:g}),d.default.createElement("div",{className:s.default.datas},d.default.createElement("div",{className:s.default.title,title:E},E),d.default.createElement("div",{className:s.default.des,title:o},o||"暂无描述")))),d.default.createElement("div",{className:s.default.app_status},d.default.createElement(f.Dropdown,{placement:"bottomRight",popperClassName:s.default.card_action,getPopupContainer:function(e){return e},onItemClick:x,menu:y},d.default.createElement(f.Icon,{prefix:"nocodeplatformicon",type:"gengduo",className:s.default.more}))),d.default.createElement("div",{className:s.default.collect,"data-nc-action":(0,i.default)(t="".concat(r,"||")).call(t,b?"as_app_cfav":"as_app_fav"),onClick:function(){return e.collect(l)}},d.default.createElement(f.Icon,{prefix:"nocodeplatformicon",type:b?"xinxing-mian":"xinxing-xian",className:b?s.default.collect_active_icon:s.default.collect_icon})))}))},38504:function(e,t,a){var n=a(13568),l=a(13939),r=a(34716),u=a(70696),o=a(4884),i=a(3464),c=a(51400),d=a(25028),f=a(93252),s=a(9564);d(t,"__esModule",{value:!0}),t.default=t.OperationType=void 0;var p=s(a(26048)),_=s(a(96631)),m=s(a(13568)),v=s(a(23992)),g=s(a(38456)),E=s(a(760)),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},r=d&&o;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=r?o(e,u):null;i&&(i.get||i.set)?d(l,u,i):l[u]=e[u]}return l.default=e,a&&a.set(e,l),l}(a(65984)),h=a(63548),y=s(a(41984)),x=s(a(71252)),w=s(a(96860)),I=s(a(42104));function C(e){if("function"!=typeof f)return null;var t=new f,a=new f;return(C=function(e){return e?a:t})(e)}function N(e,t){var a=l(e);if(r){var n=r(e);t&&(n=u(n).call(n,(function(t){return o(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,_.default)(e,t,a[t])})):i?c(e,i(a)):N(Object(a)).forEach((function(t){d(e,t,o(a,t))}))}return e}t.OperationType=function(e){return e.edit="edit",e.delete="delete",e.close="close",e.collect="collect",e.collected="collected",e.redirect="redirect",e.arrow="mobredirect",e}({});var S=function(e){return e.edit="bianji",e.delete="shanchu2",e.close="guanbi",e.collect="xinxing-xian",e.collected="xinxing-mian",e.redirect="liebiao2",e.mobredirect="youqie",e}(S||{}),M=function(){};t.default=(0,b.memo)((function(e){var t=e.text,a=e.operations,n=e.className,l=e.getHoverTrigger,r=e.draggableClassName,u=e.allowCollapse,o=void 0!==u&&u,i=(0,b.useRef)(),c=(0,w.default)(i.current,M);return b.default.createElement("div",{className:(0,x.default)(y.default.title,n)},b.default.createElement("div",{className:(0,x.default)(y.default["title-text"],r),ref:i,title:t},t),b.default.createElement("div",{className:y.default["title-extra"]},c&&o?function(e){return b.default.createElement(I.default,{getHoverTrigger:l,onItemClick:function(t){var a,n=null==e||null===(a=(0,g.default)(e).call(e,(function(e){return e.type===t})))||void 0===a?void 0:a.onClick;null==n||n()},menu:null==e?void 0:(0,v.default)(e).call(e,(function(e){return{key:e.type,label:e.label}})),placement:"bottomLeft",triggerElement:b.default.createElement(h.Icon,{prefix:"nocodeplatformicon",type:"gengduo"})})}(a):function(e){return null==e?void 0:(0,v.default)(e).call(e,(function(e,t){var a,n,l,r,u,o,i;"object"===(0,m.default)(e)?(l=S[e.type],r=e.color,u=e.disabled,i=e.onClick,o=e.style):l=S[e];var c=(0,x.default)(y.default["title-icon"],(0,_.default)((0,_.default)({},y.default.disabled,u),y.default["icon-delete"],l===S.close||l===S.delete)),d="hover"===e.trigger?(0,_.default)((0,_.default)({},"data-card-title",!0),"className",(0,x.default)(y.default["title-icon-wrapper"],(0,_.default)({},y.default.hidden,"hover"===e.trigger))):null;return b.default.createElement("div",(0,p.default)({},d,{key:(0,E.default)(a=(0,E.default)(n="".concat(l,"-")).call(n,e.label)).call(a,t)}),b.default.createElement(h.Icon,{prefix:"nocodeplatformicon",onClick:i,type:l,className:c,style:k(k({},o),{},{color:r})}))}))}(a)))}))},2500:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),c=a(63548),d=o(a(38504)),f=o(a(71252)),s=o(a(60868));function p(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(p=function(e){return e?a:t})(e)}var _=(0,i.forwardRef)((function(e,t){var a=e.title,n=e.draggableClassName,l=e.operations,r=e.wrapperClassName,u=e.className,o=e.children,p=e.style,_=e.loadData,m=e.init,v=e.isVisibleInit,g=void 0!==v&&v,E=(0,i.useRef)();return(0,i.useEffect)((function(){var e=E.current;if(g&&_&&e){var t=new window.IntersectionObserver((function(e){e[0].intersectionRatio<=0||e[0].isIntersecting&&!m&&_()}));return e&&t.observe(e),function(){t.disconnect()}}}),[E.current,m]),i.default.createElement("div",{ref:E,className:(0,f.default)(s.default.card_wrapper,r)},i.default.createElement(c.Card,{title:i.default.createElement(d.default,{className:s.default.card_title,text:a,getHoverTrigger:function(){return E.current},draggableClassName:n,operations:l}),className:(0,f.default)(s.default.display_card,u),style:p},i.default.createElement("div",{className:s.default.card_body},o)))}));_.displayName="CardWrapper";t.default=_},61204:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(760)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),d=a(63548),f=o(a(14156)),s=a(57264),p=a(82416),_=o(a(14940));function m(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(m=function(e){return e?a:t})(e)}t.default=c.default.memo((function(e){var t,a=e.data,n=e.collect,l=e.index,r=e.onDelete,u=e.onExport,o=e.appId,m=(0,c.useCallback)((function(){(0,s.openner)("/".concat(a.id,"/home"))}),[]);return c.default.createElement("div",{className:f.default.app_list_item},c.default.createElement("div",{className:f.default.app_info,"data-nc-action":"".concat(o,"||as_app"),onClick:m},c.default.createElement(_.default,{className:f.default.icon,src:a.image}),c.default.createElement("div",{className:f.default.datas},c.default.createElement("div",{className:f.default.title,title:a.name},a.name),c.default.createElement("div",{className:f.default.des,title:a.description},a.description||"暂无描述"))),c.default.createElement("div",{className:f.default.collect},a.collect?c.default.createElement(d.Icon,{"data-nc-action":"".concat(o,"||as_app_cfav"),prefix:"nocodeplatformicon",type:"xinxing-mian",onClick:function(){return n(l)},className:f.default.collect_active_icon}):c.default.createElement(d.Icon,{"data-nc-action":"".concat(o,"||as_app_fav"),prefix:"nocodeplatformicon",type:"xinxing-xian",onClick:function(){return n(l)},className:f.default.collect_icon})),c.default.createElement("div",{className:f.default.creater},a.creater.name),c.default.createElement("div",{className:f.default.time},(0,i.default)(t="".concat(a.modifier.name," | ")).call(t,a.modifydate||a.createdate)),c.default.createElement("div",{className:f.default.app_actions},c.default.createElement(p.BtnField,{"data-nc-action":"".concat(o,"||as_app_set"),type:"text",major:!0,onClick:function(){return(0,s.openner)("/".concat(a.id,"/admin"))}},"配置应用"),c.default.createElement(p.BtnField,{"data-nc-action":"".concat(o,"||as_app_set"),type:"text",major:!0,onClick:function(){return u(a.id)}},"导出应用"),c.default.createElement(p.BtnField,{"data-nc-action":"".concat(o,"||as_app_del"),type:"text",major:!0,onClick:function(){return null==r?void 0:r(a.id)}},"删除应用")))}))},51468:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(29052)),c=o(a(94924)),d=o(a(78912)),f=o(a(23992)),s=o(a(90896)),p=o(a(50524)),_=o(a(28429)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),v=a(63548),g=a(82416),E=o(a(62336)),b=o(a(86152)),h=a(57264),y=a(66028),x=a(25096),w=o(a(89924)),I=o(a(91292)),C=o(a(75020)),N=o(a(95876)),k=o(a(40436)),S=o(a(13368));function M(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(M=function(e){return e?a:t})(e)}var T=function(e){return e[e.CHOOSE_FILE=0]="CHOOSE_FILE",e[e.PENDING=1]="PENDING",e}(T||{}),A={visible:!1,appInfo:{},withData:!0},P={dataKey:"withData",text:"保留表单记录"},O=["application/zip","application/x-zip-compressed"],D={curStepIndex:T.CHOOSE_FILE},j=function(e){var t=e.currentData,a=e.stepInfo,n=t||{},l=n.curIndex,r=n.curStatus;return m.default.createElement("div",{className:S.default.importmodal_step},m.default.createElement(v.Steps,{current:l,status:r||"process"},(0,f.default)(a).call(a,(function(e,t){return m.default.createElement(v.Step,{key:t,title:e.title})}))))},R=(0,m.memo)((function(e){var t=e.onUploadSuccess,a=(0,m.useState)(0),n=(0,d.default)(a,2),l=n[0],r=n[1],u=(0,m.useState)(!1),o=(0,d.default)(u,2),i=o[0],c=o[1],f=(0,k.default)().state.sysConfig,v=void 0===f?{}:f;return i?m.default.createElement("div",{style:{paddingTop:122}},m.default.createElement(I.default,{percent:l,textMap:[100===l?"文件已上传，即将导入应用，请耐心等待":"文件上传中，请耐心等待"]})):m.default.createElement(b.default,{beforeUpload:function(e){var t=e.type,a=(0,s.default)((v.maxAttachmentUploadSize||1052428800)/1024/1024),n=Math.min(a,100);return(0,p.default)(O).call(O,t)?e.size/1024/1024<n?_.default.resolve(e):((0,h.showNotice)("warnning","上传文件需要小于".concat(n,"M，请重新选择")),!1):((0,h.showNotice)("warnning","上传的文件不是Zip文件，请重新选择"),!1)},onChange:function(e){var a=e.file,n=void 0===a?{}:a;switch(n.status){case"uploading":!function(e){i||c(!0);var t=e.percent;r((0,s.default)(t))}(n);break;case"done":c(!1);var l=(n.response.data||{}).url;t(void 0===l?"":l)}},accept:".zip",tempstorage:!1,renderUploadText:function(){return m.default.createElement(m.default.Fragment,null,m.default.createElement("p",{className:S.default.create_form_by_import_body_uploadtext},"点击或拖动文件到此位置上传"))}})}));R.displayName="ChooseFile";var L=(0,m.memo)((function(e){var t=e.visible,a=e.onClose,n=e.onSuccess,l=(0,m.useReducer)(y.assignDataReducer,D),r=(0,d.default)(l,2),u=r[0],o=r[1],f=(0,m.useReducer)(y.assignDataReducer,A),s=(0,d.default)(f,2),p=s[0],_=s[1],v=u.curStepIndex,b=(0,m.useRef)(""),k=(0,m.useMemo)((function(){return[{title:"上传Zip文件"},{title:"导入应用"}]}),[]),M=(0,N.default)({timeOut:10,beginCallBack:function(){o({curStepIndex:T.PENDING})},overCallBack:function(){o({curStepIndex:T.CHOOSE_FILE}),a()}}),O=M.begin,L=M.schedule,F=M.over,U=(0,m.useCallback)(function(){var e=(0,c.default)(i.default.mark((function e(t){var a,n,l,r,u,o,c,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return(0,h.showNotice)("warning","导入地址不存在"),e.abrupt("return");case 3:return O(),e.prev=4,e.next=7,(0,x.appImport)({pre:"true",file:t});case 7:(a=e.sent)&&(n=(null==a?void 0:a.extra)||{},l=n.name,r=n.image,u=n.description,o=n.withData,c={name:l,icon:r,description:u},F(),_({visible:!0,appInfo:c,withData:o}),b.current=t),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),F(),d=e.t0.message,g.WebMsg.showConfirmModal({type:"fail",title:"导入失败",content:d,actions:[{text:"我知道了",key:"ok"}]});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),[O,F,_]),H=(0,m.useMemo)((function(){return m.default.createElement(m.default.Fragment,null,v===T.CHOOSE_FILE&&m.default.createElement(R,{onUploadSuccess:U}),v===T.PENDING&&m.default.createElement("div",{style:{paddingTop:122}},m.default.createElement(I.default,{percent:L,textMap:["导入应用中，请耐心等待"]})))}),[v,L,U]),W=(0,m.useMemo)((function(){return m.default.createElement("div",{className:S.default.create_form_by_import_body},m.default.createElement(j,{currentData:{curIndex:v},stepInfo:k}),H)}),[u,H]),G=(0,m.useCallback)(function(){var e=(0,c.default)(i.default.mark((function e(t){var a,l,r,u,o,c,d,f,s,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,l=t.description,r=t.icon,u=t.withData,o=(0,h.showLoadingMessage)("正在创建应用，请稍候..."),e.prev=2,e.next=5,(0,x.appImport)({name:a,description:l,image:r,withData:String(u),file:b.current});case 5:c=e.sent,d=c.extra||{},f=d.appId,s=void 0===f?"":f,null==n||n(),o({type:"success",content:"创建应用成功"}),s&&(0,h.openner)("/".concat(s,"/home")),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(2),p=e.t0.message,o(),g.WebMsg.showConfirmModal({type:"fail",title:"导入失败",content:p,actions:[{text:"我知道了",key:"ok"}]});case 18:b.current="";case 19:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),[]),B=(0,C.default)(G,500);return m.default.createElement(m.default.Fragment,null,m.default.createElement(E.default,{className:S.default.create_form_by_import,title:"导入应用",titleTips:"将应用文件导入以创建一个新的应用",height:520,body:W,visible:t,onClose:function(){null==a||a()},renderFooter:function(){return null}}),m.default.createElement(w.default,{title:"通过导入创建应用",showFooterCheckbox:p.withData,footerCheckBoxProps:P,value:p.appInfo,visible:p.visible,setVisible:function(e){return _({visible:e})},onConfirm:B}))}));L.displayName="ImportAppModal";t.default=L},80716:function(e,t,a){a(25028)(t,"__esModule",{value:!0}),t.allAppsPageSkeleton=void 0;t.allAppsPageSkeleton=[{width:"100%",height:"100%",flexDirection:"column",child:[{width:"auto",height:"36px",margin:"20px calc((100% - 1180px) / 2)",type:"HEAD",child:[{width:"auto",height:"36px",child:[{width:"128px",height:"36px",type:"INPUT",margin:"0px"},{width:"142px",height:"36px",type:"INPUT"}]},{width:"auto",height:"28px",child:[{width:"200px",height:"28px",type:"INPUT"},{width:"120px",height:"28px",type:"INPUT"},{width:"52px",height:"28px",type:"INPUT"}]}]},{width:"auto",height:"auto",margin:"0px calc((100% - 1180px) / 2)",flexWrap:"wrap",child:[{width:"280px",height:"156px",type:"CARD",repeat:16,child:[{width:"40px",height:"40px",type:"INPUT",margin:"20px 0px 0px 16px"},{width:"196px",height:"120px",flexDirection:"column",margin:"20px 0px 0px 12px",child:[{width:"auto",height:"16px",margin:"0px 0px 12px 0px",type:"HEAD",child:[{width:"64px",height:"16px",margin:"0px",type:"INPUT"},{width:"16px",height:"16px",type:"INPUT"}]},{width:"196px",height:"12px",type:"INPUT",margin:"0px 0px 8px 0px"},{width:"120px",height:"12px",type:"INPUT",margin:"0px 0px 40px 0px"},{width:"auto",height:"20px",justifyContent:"flex-end",child:[{width:"20px",height:"20px",margin:"0px",type:"INPUT"}]}]}]}]}]}]},29196:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(23992)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),d=o(a(24035)),f=o(a(42852)),s=a(15992);function p(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(p=function(e){return e?a:t})(e)}t.default=(0,c.memo)((function(e){var t=e.data,a=e.collect,n=(e.refresh,e.loadMore),l=e.noMore,r=e.onDelete,u=e.appId,o=e.onExport,p=(0,c.useRef)(null),_=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e=(0,s.addIntersectionObserver)(_.current,(function(){!l&&(null==n||n())}));return function(){return null==e?void 0:e()}}),[_.current,n,l]),c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{ref:p,className:d.default.app_list_box},c.default.createElement("div",{className:d.default.list},t.length>0&&(0,i.default)(t).call(t,(function(e,t){return c.default.createElement(f.default,{key:e.id,appId:u,data:e,del:r,collect:a,onExport:o,index:t})}))),!l&&c.default.createElement("div",{ref:_,className:d.default.loading},"加载中，请稍候")))}))},5392:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),c=a(63548),d=o(a(58792)),f=a(25096),s=o(a(98712)),p=a(57264);function _(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(_=function(e){return e?a:t})(e)}var m={id:"",name:"",image:"",description:""};t.default=i.default.memo((function(e){var t=e.visible,a=e.setVisible,n=e.success,l=(0,i.useRef)(null),r=function(){return i.default.createElement("div",{className:d.default.create_app_footer},i.default.createElement(c.Button,{size:"small",onClick:function(){return a(!1)}},"取消"),i.default.createElement(c.Button,{size:"small",type:"primary",onClick:u},"确定"))},u=(0,i.useCallback)((function(){m.name&&m.image?((0,f.configApp)(m).then((function(e){n(e)})).catch((function(e){return(0,p.showNotice)("error",e.message)})),a(!1)):l.current.setError(!0)}),[]),o=(0,i.useCallback)((function(e){m=e}),[]),_=(0,i.useCallback)((function(e){l.current=e}),[]);return(0,i.useEffect)((function(){t||(m={id:"",name:"",image:"",description:""})}),[t]),i.default.createElement(c.Modal,{type:"normal",closable:!0,mask:!0,destroyOnClose:!0,className:d.default.create_box,bodyStyle:{padding:24},title:"创建空白应用",body:i.default.createElement(s.default,{onApi:_,data:m,update:o}),footer:i.default.createElement(r,null),height:436,visible:t,keyboard:!1,maskClosable:!1,onCancel:function(){return a(!1)}})}))},85972:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(23992)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),d=o(a(25257)),f=o(a(61204)),s=a(15992);function p(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(p=function(e){return e?a:t})(e)}var _=(0,c.forwardRef)((function(e,t){var a=e.data,n=e.noMore,l=e.loadMore,r=e.onDelete,u=e.onExport,o=e.appId,p=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e=(0,s.addIntersectionObserver)(p.current,(function(){!n&&(null==l||l())}));return function(){return null==e?void 0:e()}}),[p.current,l,n]),c.default.createElement("div",{className:d.default.app_list_table},c.default.createElement("div",{className:d.default.header},c.default.createElement("div",{className:d.default.app_list_tr},c.default.createElement("div",{className:d.default.app_info},"应用名称"),c.default.createElement("div",{className:d.default.collect},"收藏应用"),c.default.createElement("div",{className:d.default.creater},"创建人"),c.default.createElement("div",{className:d.default.time},"最后更新"),c.default.createElement("div",{className:d.default.app_actions},"操作"))),c.default.createElement("div",{className:d.default.list},c.default.createElement("div",{className:d.default.box},c.default.createElement("div",{ref:t,className:d.default.app_list_body},c.default.createElement("div",null,a.length>0&&(0,i.default)(a).call(a,(function(t,a){return c.default.createElement(f.default,{key:t.id,appId:o,data:t,index:a,collect:null==e?void 0:e.collect,onDelete:r,onExport:u})}))),!n&&c.default.createElement("div",{ref:p,className:d.default.loading},"加载中，请稍候")))))}));t.default=c.default.memo(_)},81616:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(23992)),c=o(a(96631)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),f=a(63548),s=o(a(30084)),p=o(a(71252)),_=o(a(62636)),m=a(15992);function v(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(v=function(e){return e?a:t})(e)}var g=(0,d.memo)((function(e){var t=e.item,a=e.onItemClick,n=e.appId,l=(0,d.useCallback)((function(){null==a||a(t)}),[a]),r="WF_TO_HANDLED_TASK"===t.type,u=(0,p.default)(s.default.icon,(0,c.default)({},s.default.flow,r),(0,c.default)({},s.default.msg,!r)),o=r?"liucheng":"laba";return d.default.createElement("div",{className:s.default.item,"data-nc-action":"".concat(n,"||tb_mc_mes"),onClick:l},d.default.createElement("div",{className:s.default.content},d.default.createElement("div",{className:u},d.default.createElement(f.Icon,{type:o,prefix:"nocodeplatformicon"})),d.default.createElement("div",{className:s.default.info},d.default.createElement("div",{className:s.default.title,title:t.content},d.default.createElement("span",null,t.sendername,"："),t.content),d.default.createElement("div",{className:s.default.sub_title},d.default.createElement("div",{className:s.default.time},t.createdate),"unread"===t.readstate&&d.default.createElement("div",{className:s.default.dot})))))})),E=(0,d.memo)((function(e){var t=e.onClose,a=e.data,n=e.noMore,l=e.fetchData,r=e.onItemClick,u=e.appId,o=(0,d.useRef)(null);return(0,d.useEffect)((function(){var e=(0,m.addIntersectionObserver)(o.current,(function(){!n&&(null==l||l(a))}));return function(){return null==e?void 0:e()}}),[o.current,l,n,a]),d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:s.default.msg_box},d.default.createElement("div",{className:s.default.nav},d.default.createElement("div",null,"消息中心"),d.default.createElement(f.Icon,{type:"close",onClick:t})),d.default.createElement("div",{className:s.default.list},n&&0===a.length?d.default.createElement("div",{className:s.default.no_msg},d.default.createElement("img",{src:_.default}),d.default.createElement("span",null,"暂无消息")):(0,i.default)(a).call(a,(function(e){return d.default.createElement(g,{key:e.id,item:e,appId:u,onItemClick:r})})),!n&&d.default.createElement("div",{ref:o,className:s.default.loading},"加载中，请稍候"))))}));g.displayName="FlowListItem",E.displayName="AppMessageLayout";t.default=E},98228:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(760)),c=o(a(50524)),d=o(a(23992)),f=o(a(33260)),s=o(a(96631)),p=o(a(78912)),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),m=a(16428),v=a(41936),g=o(a(71252)),E=a(39392),b=a(63548),h=o(a(44168)),y=o(a(1520)),x=a(95936),w=o(a(32504)),I=o(a(43332)),C=o(a(81616)),N=o(a(53704)),k=a(62012),S=a(25096),M=a(82416),T=a(94063),A=o(a(54348)),P=o(a(59480)),O=a(57264);function D(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(D=function(e){return e?a:t})(e)}t.default=_.default.memo((function(){var e=(0,E.useTranslation)().t,t=(0,_.useContext)(x.Context).state,a=t.userInfo,n=t.rootConfig,l=t.fileServer,r=(0,v.useLocation)().pathname,u=(0,_.useState)(!1),o=(0,p.default)(u,2),D=o[0],j=o[1],R=(0,_.useState)(!1),L=(0,p.default)(R,2),F=L[0],U=L[1],H=(0,_.useState)(!1),W=(0,p.default)(H,2),G=W[0],B=W[1],z=(0,_.useState)({}),V=(0,p.default)(z,2),q=V[0],K=V[1],Q=((0,_.useContext)(k.ThemeContext)||{}).theme,J=(0,_.useRef)(null),Z=(0,_.useState)([]),Y=(0,p.default)(Z,2),X=Y[0],$=Y[1],ee=(0,_.useState)(!1),te=(0,p.default)(ee,2),ae=te[0],ne=te[1],le=(0,_.useState)(!1),re=(0,p.default)(le,2),ue=re[0],oe=re[1],ie=(0,_.useRef)({page_no:1,page_size:10}),ce=(0,_.useRef)(!1),de=[{name:e("home.key0001"),link:"/home"},{name:e("home.key0002"),link:"/app"},{name:e("home.key0003"),link:"/template"},{name:e("home.key0004"),link:"/flow"}],fe=["tb_h_tab","tb_as_tab","tb_ts_tab","tb_fs_tab"],se=(0,_.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0&&ae||ce.current||(e.length>0&&ie.current.page_no++,ce.current=!0,(0,S.getWFMessage)(ie.current).then((function(t){ce.current=!1;var a=(0,i.default)(e).call(e,(null==t?void 0:t.rows)||[]);(0,m.unstable_batchedUpdates)((function(){$(a),ne(t.lastPage)}))})))}),[ae]),pe=(0,_.useCallback)((function(e){ie.current.page_no=1,e&&se(),U(e)}),[se]),_e=T.MessageService.on(T.MessageService.topic.NOCODE_MESSAGE_CENTER),me=(0,p.default)(_e,2),ve=me[0],ge=me[1],Ee=(0,_.useCallback)((function(){(0,S.getWFUnread)().then((function(e){ge((null==e?void 0:e.totalCount)||0)}))}),[]),be=(0,_.useCallback)((function(e){var n=e.businessKey,l=e.procInstId,r=e.entityNumber,u=e.readstate,o=e.type,i=e.id,c=e.activityId,d=e.nodeBusinessKey,f=e.appId;if("WF_TO_HANDLED_TASK"===o){var s={appId:f,Status:"view",pkId:n,targetFormId:r,procInstId:l,formId:"bos_nocode_bill",taskId:i,rootPageId:null==t?void 0:t.rootConfig.pageId};return c&&d&&(s.Status="edit",s.userTaskActivityId=c,s.userTaskBusinessKey=d,s.userTaskCurrentUserId=null==a?void 0:a.id),void(0,m.unstable_batchedUpdates)((function(){oe(!(!c||!d)),U(!1),B(!0),K(s)}))}"WF_MESSAGE_NODE"===o&&"unread"===u&&(0,S.cleanWFUnread)({msgIds:[i]}).then((function(){(0,m.unstable_batchedUpdates)((function(){ge(ve-1),$((0,P.default)((function(e){e.some((function(e){return e.id===i&&(e.readstate="read",!0)}))})))}))}))}),[X,null==t?void 0:t.rootConfig,ve,B,K,S.cleanWFUnread]);(0,_.useEffect)((function(){Ee()}),[]),(0,_.useEffect)((function(){n&&T.MessageService.connect(n)}),[n]);var he=(0,_.useMemo)((function(){var e,t;return Q.logo?(0,c.default)(e=Q.logo).call(e,"/".concat("ncp","/"))||(0,c.default)(t=Q.logo).call(t,"data:image")?Q.logo:(0,O.getUrlWithDataCenter)(l.imageUrl+Q.logo):""}),[Q.logo,l.imageUrl]),ye=(0,_.useMemo)((function(){return"root-"+r.split("/")[1]}),[r]);return _.default.createElement(_.default.Fragment,null,_.default.createElement(y.default,{className:h.default.app_header},_.default.createElement(y.default.Left,{className:h.default.logo},_.default.createElement("div",{className:h.default.logo_bg_img},_.default.createElement("img",{src:he,height:28})),_.default.createElement("div",{className:h.default.split_line}),_.default.createElement("div",{className:h.default.platformName},Q.platformName)),_.default.createElement(y.default.Main,{className:h.default.nav},(0,d.default)(de).call(de,(function(e,t){var a,n=e.name,l=e.link;return l?_.default.createElement(I.default,{key:l,"data-nc-action":(0,i.default)(a="".concat(ye,"||")).call(a,fe[t]),className:(0,g.default)((0,s.default)({},h.default.curr,0===(0,f.default)(r).call(r,l))),to:l},_.default.createElement("p",{title:n},n)):_.default.createElement("a",{key:n},_.default.createElement("p",null,n))}))),_.default.createElement(y.default.Right,{className:h.default.user},_.default.createElement(b.Tooltip,{placement:"bottomRight",visible:F,popperClassName:h.default.user_msg,onVisibleChange:pe,trigger:"click",arrow:!1,tip:_.default.createElement(C.default,{data:X,appId:ye,noMore:ae,fetchData:se,onItemClick:be,onClose:function(){return U(!1)}})},_.default.createElement("div",{"data-nc-action":"".concat(ye,"||tb_mc_bn"),className:h.default.btn},_.default.createElement(b.Icon,{prefix:"nocodeplatformicon",type:"xiaoxizhongxin"}),e("home.message"),ve>0&&_.default.createElement(b.Badge,{count:ve}))),_.default.createElement(b.Tooltip,{placement:"bottomRight",trigger:"click",visible:D,arrow:!1,onVisibleChange:function(e){return j(e)},popperClassName:h.default.user_info_pop,tip:_.default.createElement(w.default,{appId:ye,ref:J,setVisible:j,data:a})},_.default.createElement("div",{"data-nc-action":"".concat(ye,"||tb_head_bn")},_.default.createElement(M.Avatar,{className:h.default.avatar,src:null==a?void 0:a.avatar}))))),_.default.createElement(N.default,null,_.default.createElement(v.Outlet,null)),G&&_.default.createElement(A.default,{visible:G,config:q,viewAuth:!0,showCopy:!0,showEdit:ue,detailShareReqireLogin:!0,detailShareNotReqireLogin:!0,close:function(){return B(!1)}}))}))},91924:function(e,t,a){var n=a(13568),l=a(25288),r=a(13939),u=a(34716),o=a(70696),i=a(4884),c=a(3464),d=a(51400),f=a(25028),s=a(93252),p=a(9564);f(t,"__esModule",{value:!0}),t.default=void 0;var _=p(a(96631)),m=p(a(78912)),v=p(a(28429)),g=p(a(760)),E=p(a(70696)),b=p(a(38456)),h=p(a(23992)),y=ee(a(65984)),x=a(63548),w=p(a(59480)),I=a(41936),C=p(a(96472)),N=p(a(5392)),k=a(25096),S=a(57264),M=p(a(75020)),T=p(a(85972)),A=p(a(29196)),P=a(80672),O=ee(a(91888)),D=p(a(12196)),j=p(a(68692)),R=a(82416),L=p(a(81476)),F=p(a(4496)),U=a(6940),H=a(25960),W=p(a(732)),G=a(16428),B=a(63516),z=a(80716),V=p(a(40436)),q=a(78016),K=p(a(71252)),Q=p(a(51468)),J=p(a(96908)),Z=a(66028),Y=a(60644),X=a(88268);function $(e){if("function"!=typeof s)return null;var t=new s,a=new s;return($=function(e){return e?a:t})(e)}function ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=$(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},r=f&&i;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=r?i(e,u):null;o&&(o.get||o.set)?f(l,u,o):l[u]=e[u]}return l.default=e,a&&a.set(e,l),l}function te(e,t){var a=r(e);if(u){var n=u(e);t&&(n=o(n).call(n,(function(t){return i(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){(0,_.default)(e,t,a[t])})):c?d(e,c(a)):te(Object(a)).forEach((function(t){f(e,t,i(a,t))}))}return e}var ne=[{label:"全部应用",value:0,key:"as_fil_as"},{label:"我创建的",value:1,key:"as_fil_mc"},{label:"我收藏的",value:2,key:"as_fil_mf"}],le={visible:!1,appInfo:{}},re=(0,y.memo)((function(e){var t=e.data,a=e.form;return y.default.createElement("div",{className:C.default.del_box},y.default.createElement("div",{className:C.default.des},"删除应用后，表单、流程、报表及数据等也将一并删除，不可恢复"),y.default.createElement(x.Form,{layout:"vertical",form:a},y.default.createElement(x.Form.Item,{label:"应用名称",name:"appName",required:!0,rules:[{validator:function(e,a){return t.name===a?v.default.resolve():v.default.reject(new Error("应用名不正确"))}}]},y.default.createElement(R.Text,{placeholder:"请输入该应用名称"}))))}));t.default=function(){var e=(0,y.useState)([]),t=(0,m.default)(e,2),a=t[0],n=t[1],r=(0,y.useState)("card"),u=(0,m.default)(r,2),o=u[0],i=u[1],c=(0,y.useState)(!1),d=(0,m.default)(c,2),f=d[0],s=d[1],p=(0,y.useState)(!1),_=(0,m.default)(p,2),v=_[0],$=_[1],ee=(0,y.useReducer)(Z.assignDataReducer,le),te=(0,m.default)(ee,2),ue=te[0],oe=te[1],ie=(0,y.useState)(""),ce=(0,m.default)(ie,2),de=ce[0],fe=ce[1],se=(0,y.useState)(0),pe=(0,m.default)(se,2),_e=pe[0],me=pe[1],ve=(0,y.useRef)(!1),ge=(0,y.useState)(!0),Ee=(0,m.default)(ge,2),be=Ee[0],he=Ee[1],ye=(0,y.useState)(!0),xe=(0,m.default)(ye,2),we=xe[0],Ie=xe[1],Ce=(0,y.useState)(!1),Ne=(0,m.default)(Ce,2),ke=Ne[0],Se=Ne[1],Me=(0,y.useState)(!0),Te=(0,m.default)(Me,2),Ae=Te[0],Pe=Te[1],Oe=(0,V.default)(),De=Oe.dispatch,je=Oe.sendUiData,Re=Oe.state.rootConfig,Le=(0,y.useRef)({page_size:20,page_no:1,filter:"",app_filter:0}),Fe=(0,y.useRef)(null),Ue=(0,y.useRef)(null),He=x.Form.useForm(),We=(0,m.default)(He,1)[0],Ge=(0,W.default)(),Be=x.Select.Option,ze=(0,I.useLocation)().pathname,Ve=(0,y.useMemo)((function(){return"root-"+ze.split("/")[1]}),[ze]),qe=(0,y.useCallback)((function(e,t,a){(0,G.unstable_batchedUpdates)((function(){if(be&&he(!1),Ae&&Pe(!1),e){var l=a?(0,g.default)(t).call(t,e.rows):e.rows;n(l),Se(0===l.length&&!(0,E.default)(Le.current)&&0===Le.current.app_filter),!a&&Ye()}else n([])}))}),[a]),Ke=(0,y.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Le.current=ae(ae({},Le.current),e),ve.current=!0,(0,k.getAppList)(Le.current,De).then((function(e){ve.current=!1,Ie(e.lastPage),qe(e,a,t),n&&(0,U.setStoreData)(H.APP_LIST_DATA,Le.current,e)}))}),[a,qe]),Qe=(0,M.default)(Ke),Je=(0,M.default)(q.publishSearchUserEvent);(0,y.useLayoutEffect)((function(){(0,U.getStoreData)(H.APP_LIST_DATA,Le.current).then((function(e){e&&qe(e,[],!1),Ke({},!1,!0)})),(0,B.getStorage)("NOCODE_APP_LIST_TYPE").then((function(e){e&&e!==o&&i(e)}))}),[]);var Ze=(0,y.useCallback)((function(e){var t=a[e],l={id:t.id,collect:!t.collect};(0,k.configApp)(l).then((function(a){a&&n((0,w.default)((function(a){a[e].collect=!t.collect}))),De({type:P.UPDATE_APP_INFO_BY_ID,payload:{id:t.id,value:ae(ae({},t),l)}})})).catch((function(e){return(0,S.showNotice)("error",e.message)}))}),[a,je]),Ye=(0,y.useCallback)((function(){var e,t="card"===o?Fe.current:Ue.current;null!==(e=window)&&void 0!==e&&e.isIE?null==t||t.scrollTop(0):null==t||t.scroll([0,0])}),[o]),Xe=(0,y.useCallback)((function(e){Qe({page_no:1}),Ye(),(0,S.openner)("/".concat(e.result[0].id,"/admin"))}),[Ye,Qe]),$e=(0,y.useCallback)((function(e){var t=l(Y)(e);if(de!==t){fe(t);var a=t?"name CS '".concat(t,"'"):"";Qe({page_no:1,filter:a},!1,!0),Je({appId:Ve,formId:"",action:"as_srh"})}}),[Qe,Ve,Je,de,Ke]),et=(0,y.useCallback)((function(e){me(e),Qe({app_filter:e,page_no:1})}),[je,Qe,me]),tt=(0,y.useCallback)((function(e){i(e),(0,B.setStorage)("NOCODE_APP_LIST_TYPE",e)}),[je,i,B.setStorage]),at=(0,y.useCallback)((function(){ve.current||we||(Le.current.page_no++,Ke({},!0))}),[Ke,a]),nt=(0,y.useCallback)((function(){Qe({page_no:1})}),[Qe]),lt=(0,y.useCallback)((function(e){var t=(0,E.default)(a).call(a,(function(t){return t.id===e}))[0];R.WebMsg.showConfirmModal({type:"delete",title:"确定要删除应用“".concat(t.name,"”吗？"),content:y.default.createElement(re,{data:t,form:We}),onAction:function(t){if("ok"===t)return(0,q.publishClickUserEvent)({appId:Ve,formId:"",action:"as_app_del_comf"}),We.validateFields().then((function(){(0,k.delApp)(e).then((function(e){We.resetFields(),e&&(nt(),(0,S.showNotice)("success","删除成功"))}))})).catch((function(){return!1}));We.resetFields()}})}),[nt,o,a,We,je]),rt=function(e){var t;return null===(t=document.activeElement)||void 0===t||t.blur(),(0,S.isCNLanguage)(Re)?e!==O.CREATE_EMPTY_APP?e===O.CREATE_APP_BY_IMPORT?$(!0):void(e===O.CREATE_TEMPLATE_APP&&Ge("/template")):void s(!0):(0,S.showNotice)("warnning",X.LANG_INVALID)},ut=function(e){var t=(0,b.default)(a).call(a,(function(t){return t.id===e}))||{};oe({visible:!0,appInfo:t})},ot=(0,y.useMemo)((function(){var e=null!=de&&de.length?"暂无搜索结果":1===_e?"暂无创建的应用":"暂无收藏的应用",t=null!=de&&de.length?L.default:F.default;return y.default.createElement(R.EmptyData,{desc:e,src:t,imageWidth:224,imageHeight:128,textGap:16})}),[de,_e]);return(0,y.useEffect)((function(){(0,S.setDocumentTitle)(X.ALLAPPS)}),[]),Ae?null:y.default.createElement(y.default.Fragment,null,y.default.createElement("div",{className:be?C.default.skeleton:C.default.hidden},y.default.createElement(R.Skeleton,{options:z.allAppsPageSkeleton})),y.default.createElement("div",{className:C.default.app_box},ke?y.default.createElement(D.default,{appId:Ve,onClickAppCreatMode:rt}):y.default.createElement(y.default.Fragment,null,y.default.createElement("div",{className:C.default.app_nav},y.default.createElement(O.default,{options:O.appCreatModeList,onClick:rt}),y.default.createElement("div",{className:C.default.app_filter},y.default.createElement(j.default,{size:"small",allowClear:!0,value:de,prefix:y.default.createElement(x.Icon,{prefix:"nocodeplatformicon",type:"sousuo"}),onChange:$e,placeholder:"搜索应用名称",borderType:"bordered"}),y.default.createElement(x.Select,{placeholder:"请选择",size:"small",borderType:"bordered",onChange:et,value:_e},(0,h.default)(ne).call(ne,(function(e){var t;return y.default.createElement(Be,{key:e.value,value:e.value},y.default.createElement("span",{"data-nc-action":(0,g.default)(t="".concat(Ve,"||")).call(t,e.key)},e.label))}))),y.default.createElement("div",{className:C.default.list_type},y.default.createElement("div",{className:"card"===o?C.default.curr:C.default.not_curr,"data-nc-action":"".concat(Ve,"||as_cv"),title:"卡片视图",onClick:function(){return tt("card")}}," ",y.default.createElement(x.Icon,{prefix:"nocodeplatformicon",type:"kapianshitu"})," "),y.default.createElement("div",{className:"card"!==o?C.default.curr:C.default.not_curr,"data-nc-action":"".concat(Ve,"||as_lv"),title:"列表视图",onClick:function(){return tt("list")}}," ",y.default.createElement(x.Icon,{prefix:"nocodeplatformicon",type:"liebiao"})," ")))),y.default.createElement("div",{ref:Fe,className:f?(0,K.default)(C.default.app_main,C.default.app_main_hidden):C.default.app_main},y.default.createElement(y.default.Fragment,null,"card"===o?y.default.createElement(A.default,{appId:Ve,data:a,onDelete:lt,onExport:ut,collect:Ze,refresh:nt,loadMore:at,noMore:we}):y.default.createElement(T.default,{appId:Ve,ref:Ue,onDelete:lt,onExport:ut,data:a,collect:Ze,loadMore:at,noMore:we}),!(null!=a&&a.length)&&!ve.current&&(0===_e&&de||0!==_e)&&ot)))),y.default.createElement(N.default,{visible:f,setVisible:s,success:Xe}),y.default.createElement(Q.default,{visible:v,onClose:function(){return $(!1)},onSuccess:function(){nt()}}),y.default.createElement(J.default,{visible:ue.visible,appInfo:ue.appInfo,onClose:function(){return oe({visible:!1})}}))}},12196:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(65984)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(91888)),d=o(a(53424)),f=o(a(41668));function s(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(s=function(e){return e?a:t})(e)}var p="您还没有应用，点击下方按钮创建";t.default=function(e){var t=e.appId,a=e.onClickAppCreatMode;return i.default.createElement("div",{className:f.default.appsnodata},i.default.createElement("img",{className:f.default.appsnodata_img,src:d.default,alt:p}),i.default.createElement("span",{className:f.default.appsnodata_tips},p),i.default.createElement(c.default,{appId:t,options:c.appCreatModeList,onClick:a}))}},77104:function(e,t,a){var n=a(13568),l=a(13939),r=a(34716),u=a(70696),o=a(4884),i=a(3464),c=a(51400),d=a(25028),f=a(93252),s=a(9564);d(t,"__esModule",{value:!0}),t.default=void 0;var p=s(a(760)),_=s(a(50524)),m=s(a(23992)),v=s(a(96631)),g=s(a(78912)),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},r=d&&o;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=r?o(e,u):null;i&&(i.get||i.set)?d(l,u,i):l[u]=e[u]}return l.default=e,a&&a.set(e,l),l}(a(65984)),b=a(16428),h=a(41936),y=a(63548),x=s(a(54348)),w=s(a(54256)),I=a(82416),C=a(6940),N=a(25960),k=s(a(732)),S=s(a(1160)),M=s(a(40436)),T=a(57264),A=s(a(53704));function P(e){if("function"!=typeof f)return null;var t=new f,a=new f;return(P=function(e){return e?a:t})(e)}function O(e,t){var a=l(e);if(r){var n=r(e);t&&(n=u(n).call(n,(function(t){return o(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,v.default)(e,t,a[t])})):i?c(e,i(a)):O(Object(a)).forEach((function(t){d(e,t,o(a,t))}))}return e}var j=[{key:"toHandle",title:"待办任务",icon:"daichuli",custom:"fs_menu_todo",detail:"fs_todo_detail"},{key:"handled",title:"已办任务",icon:"yichuli1",custom:"fs_menu_finish",detail:"fs_finish_detail"},{key:"toApply",title:"在办申请",icon:"daishenpi",custom:"fs_menu_going",detail:"fs_going_detail"},{key:"applyed",title:"已办申请",icon:"yishenpi",custom:"fs_menu_end",detail:"fs_end_detail"}];t.default=(0,E.memo)((function(){var e,t,a=(0,h.useParams)().flowType,n=void 0===a?"toHandle":a,l=(0,k.default)(),r=(0,M.default)().state,u=(0,E.useState)([]),o=(0,g.default)(u,2),i=o[0],c=o[1],d=(0,E.useState)(!1),f=(0,g.default)(d,2),s=f[0],v=f[1],P=(0,E.useState)({page_no:1,page_size:20}),O=(0,g.default)(P,2),R=O[0],L=O[1],F=(0,E.useState)({}),U=(0,g.default)(F,2),H=U[0],W=U[1],G=(0,E.useState)(!1),B=(0,g.default)(G,2),z=B[0],V=B[1],q=(0,C.useGetHook)((0,p.default)(e="".concat(N.TASK_LIST_CONFIG,"?type=")).call(e,n),null).data,K=(0,C.useGetHook)((0,p.default)(t="".concat(N.TASK_DATA_SOURCE,"?type=")).call(t,n),R),Q=K.data,J=K.refresh,Z=(0,E.useRef)("fs_todo_detail"),Y=(0,E.useRef)(r);(0,E.useEffect)((function(){Y.current=r}),[r]);var X=(0,E.useCallback)((function(e){L(D(D({},R),{},{page_no:1})),l("/flow/"+e.key),Z.current=e.detail}),[]),$=(0,E.useCallback)((function(e,t,a){var l,r,u=t.appId,o=t.businessKey,i=t.targetFormId,c=t.procInstId,d=t.nodeBusinessKey,f=t.activityId,s=t.handleState,p=t.id,m=Y.current,g=m.rootConfig,E=m.userInfo,h={Status:"view",appId:u,pkId:o,targetFormId:i,procInstId:c,formId:"bos_nocode_bill",rootPageId:null==g?void 0:g.pageId};(0,_.default)(l=["toHandle","handled"]).call(l,n)&&(h.taskId=p,(0,_.default)(r=["willHandled","handled"]).call(r,s)&&(h.userTaskBusinessKey=d,h.userTaskActivityId=f,h.userTaskCurrentUserId=null==E?void 0:E.id,h.Status="willHandled"===s?"edit":"view"));(0,b.unstable_batchedUpdates)((function(){V("willHandled"===s),W(h),v(!0)}))}),[n]),ee=(0,E.useCallback)((function(e){var t=e.rows[0].listItemConfig,a=[];t.forEach((function(e){e.display&&a.push({code:e.number,title:e.name,lock:e.locked,width:e.width||200,render:function(t,a,n){return"handleStateDesc"===e.number&&a.handleStateDesc?E.default.createElement(S.default,{status:a.handleState,text:a.handleStateDesc}):E.default.createElement("div",{className:"text",title:t},t)}})})),a.push({code:"operator",title:"操作",lock:!0,width:100,render:function(e,t,a){return E.default.createElement(I.BtnField,{major:!0,type:"text","data-nc-action":"root-flow||".concat(Z.current),onClick:function(){return $(e,t,a)},text:"详情"})}}),c(a)}),[$]);return(0,E.useEffect)((function(){q&&ee(q)}),[q]),(0,E.useEffect)((function(){(0,T.setDocumentTitle)("流程中心")}),[]),E.default.createElement(E.default.Fragment,null,E.default.createElement("div",{className:w.default.container},E.default.createElement("div",{className:w.default.aside},(0,m.default)(j).call(j,(function(e){return E.default.createElement("div",{key:e.key,"data-nc-action":"root-flow||".concat(e.custom),onClick:function(){return X(e)},className:e.key===n?w.default.active:null},E.default.createElement(y.Icon,{type:e.icon,prefix:"nocodeplatformicon"}),E.default.createElement("span",null,e.title))}))),E.default.createElement(A.default,{className:w.default.bg,mainClassName:w.default.bg_main},E.default.createElement("div",{className:w.default.main},E.default.createElement("div",{className:w.default.box},E.default.createElement("div",{className:w.default.list},E.default.createElement(I.DataGridLayout,{tableColumn:i,searchNode:!1,buttonNode:!1,totalNode:!1,data:Q,rowSelection:!1,onPageChange:function(e,t){return L({page_no:e,page_size:t})}})))))),s&&E.default.createElement(x.default,{visible:s,close:function(){return v(!1)},billList:[],config:H,showCopy:!0,showEdit:z,viewAuth:!0,onRefresh:J,detailShareReqireLogin:!0,detailShareNotReqireLogin:!0}))}))},25776:function(e,t,a){var n=a(13568),l=a(93252),r=a(25028),u=a(4884),o=a(9564);r(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},o=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?u(e,i):null;c&&(c.get||c.set)?r(l,i,c):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a(65984)),c=o(a(96888)),d=a(57264);function f(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(f=function(e){return e?a:t})(e)}t.default=function(){return(0,i.useEffect)((function(){(0,d.setDocumentTitle)("模板市场")}),[]),i.default.createElement(c.default,{showSearcher:!0})}},53424:function(e,t,a){e.exports=a.p+"ncp/nocode/images/79163d1a17e7b47cd58d.png"},62636:function(e,t,a){e.exports=a.p+"ncp/nocode/images/a76882f06d2a0be6410d.png"},81476:function(e,t,a){e.exports=a.p+"ncp/nocode/images/678da89065eaddf0f5b9.png"}}]);